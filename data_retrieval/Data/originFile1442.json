{"items":[{"tags":["java","jax-rs","urlencode","urldecode"],"answers":[{"tags":[],"owner":{"account_id":212445,"reputation":4911,"user_id":2005490,"accept_rate":59,"display_name":"Atihska"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649632343,"creation_date":1649632343,"answer_id":71821232,"question_id":71790370,"body_markdown":"Figured out by not using webTarget&#39;s `.queryParams()` and instead passing URI with query.\r\n\r\n```\r\nString query = &quot;?userType=seller&amp;limit=25&amp;offset=0&amp;userid=&quot; + userId + &quot;&amp;filter=creationdate:[&quot; + startDate + &quot;..&quot; + endDate + &quot;]&quot;;\r\n\r\nURI uri = URI.create(endpoint + &quot;/lookupservice/v2/findItems&quot;+ query);\r\n\r\nWebTarget webTarget = client.target(uri);\r\n\r\n```","title":"In sending HTTPS request using Javax webtarget client, how to avoid encoding of query params that contain &quot;:[&quot;?","body":"<p>Figured out by not using webTarget's <code>.queryParams()</code> and instead passing URI with query.</p>\n<pre><code>String query = &quot;?userType=seller&amp;limit=25&amp;offset=0&amp;userid=&quot; + userId + &quot;&amp;filter=creationdate:[&quot; + startDate + &quot;..&quot; + endDate + &quot;]&quot;;\n\nURI uri = URI.create(endpoint + &quot;/lookupservice/v2/findItems&quot;+ query);\n\nWebTarget webTarget = client.target(uri);\n\n</code></pre>\n"}],"owner":{"account_id":212445,"reputation":4911,"user_id":2005490,"accept_rate":59,"display_name":"Atihska"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":661,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71821232,"answer_count":1,"score":3,"last_activity_date":1649632343,"creation_date":1649377644,"question_id":71790370,"body_markdown":"I am using WebTarget to send a GET request with query params. \r\n\r\nThis is my expected request that I need to generate: \r\n```\r\n{{host}}/svc/lookupservice/v2/findItems?filter=creationdate:[2020-05-01T00:08:17.000Z..]&amp;limit=25&amp;offset=0&amp;userType=seller&amp;userid=11234567\r\n```\r\n\r\nBut using webtarget as follows: \r\n\r\n```\r\nimport javax.ws.rs.client.Client;\r\n...\r\n...\r\nclass A {\r\n    private Client client;\r\n\r\n  public void apiCall(String userId, String startDate, String endDate) {\r\n    String endpoint = (String)this.client.getConfiguration().getProperty(&quot;jaxrs.client.endpointuri&quot;);\r\n    WebTarget webTarget = this.client.target(endpoint).path(&quot;/lookupservice/v2/findItems&quot;)\r\n              .queryParam(&quot;userType&quot;, new Object[]{&quot;seller&quot;})\r\n              .queryParam(&quot;sort&quot;, new Object[]{&quot;creationdate&quot;})\r\n              .queryParam(&quot;limit&quot;, new Object[]{150})\r\n              .queryParam(&quot;offset&quot;, new Object[]{0})\r\n              .queryParam(&quot;filter&quot;, new Object[]{&quot;creationdate:[&quot; + startDate + &quot;..&quot; + endDate + &quot;]&quot;})\r\n              .queryParam(&quot;userid&quot;, new Object[]{userId});\r\n\r\n...\r\n}\r\n\r\n...\r\n}\r\n\r\nclass B {\r\n\r\n   main(..) {\r\n      Date endDate = new Date();\r\n      Date startDate = new Date(endDate.getTime() - Duration.ofDays(30).toMillis());\r\n      SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;, Locale.getDefault());\r\n\r\n      sDate = formatter.format(startDate);\r\n      eDate = formatter.format(endDate);\r\n\r\n      new A().apiCall(userId, sDate, eDate);\r\n\r\n  }\r\n      \r\n\r\n}\r\n\r\n```\r\n\r\nAnd this above generates webTarget url as\r\n```\r\nJerseyWebTarget { https://svc1.abc.qa.def.com/svc/lookupservice/v2/findItems?userType=seller&amp;sort=creationdate&amp;limit=150&amp;offset=0&amp;filter=creationdate%3A%5B2022-03-08T15%3A26%3A35.951Z..2022-04-07T16%3A26%3A35.951Z%5D&amp;userid=1005732584 }\r\n```\r\n\r\nIt encodes `:[` in creation date. \r\n\r\nHow can I avoid it?\r\n","title":"In sending HTTPS request using Javax webtarget client, how to avoid encoding of query params that contain &quot;:[&quot;?","body":"<p>I am using WebTarget to send a GET request with query params.</p>\n<p>This is my expected request that I need to generate:</p>\n<pre><code>{{host}}/svc/lookupservice/v2/findItems?filter=creationdate:[2020-05-01T00:08:17.000Z..]&amp;limit=25&amp;offset=0&amp;userType=seller&amp;userid=11234567\n</code></pre>\n<p>But using webtarget as follows:</p>\n<pre><code>import javax.ws.rs.client.Client;\n...\n...\nclass A {\n    private Client client;\n\n  public void apiCall(String userId, String startDate, String endDate) {\n    String endpoint = (String)this.client.getConfiguration().getProperty(&quot;jaxrs.client.endpointuri&quot;);\n    WebTarget webTarget = this.client.target(endpoint).path(&quot;/lookupservice/v2/findItems&quot;)\n              .queryParam(&quot;userType&quot;, new Object[]{&quot;seller&quot;})\n              .queryParam(&quot;sort&quot;, new Object[]{&quot;creationdate&quot;})\n              .queryParam(&quot;limit&quot;, new Object[]{150})\n              .queryParam(&quot;offset&quot;, new Object[]{0})\n              .queryParam(&quot;filter&quot;, new Object[]{&quot;creationdate:[&quot; + startDate + &quot;..&quot; + endDate + &quot;]&quot;})\n              .queryParam(&quot;userid&quot;, new Object[]{userId});\n\n...\n}\n\n...\n}\n\nclass B {\n\n   main(..) {\n      Date endDate = new Date();\n      Date startDate = new Date(endDate.getTime() - Duration.ofDays(30).toMillis());\n      SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;, Locale.getDefault());\n\n      sDate = formatter.format(startDate);\n      eDate = formatter.format(endDate);\n\n      new A().apiCall(userId, sDate, eDate);\n\n  }\n      \n\n}\n\n</code></pre>\n<p>And this above generates webTarget url as</p>\n<pre><code>JerseyWebTarget { https://svc1.abc.qa.def.com/svc/lookupservice/v2/findItems?userType=seller&amp;sort=creationdate&amp;limit=150&amp;offset=0&amp;filter=creationdate%3A%5B2022-03-08T15%3A26%3A35.951Z..2022-04-07T16%3A26%3A35.951Z%5D&amp;userid=1005732584 }\n</code></pre>\n<p>It encodes <code>:[</code> in creation date.</p>\n<p>How can I avoid it?</p>\n"},{"tags":["java","mysql","sql"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1649632501,"post_id":71821158,"comment_id":126918397,"body_markdown":"Are you trying to actually change the database somehow, or just make it so that your Java program doesn&#39;t display certain rows?","body":"Are you trying to actually change the database somehow, or just make it so that your Java program doesn&#39;t display certain rows?"},{"owner":{"account_id":15967138,"reputation":47,"user_id":11522389,"display_name":"othnuk"},"score":0,"creation_date":1649636063,"post_id":71821158,"comment_id":126918904,"body_markdown":"Preferably changing the database so that it wont show on SELECT * statements, but I am aware I could just add a bit field to make the java program not show the fields","body":"Preferably changing the database so that it wont show on SELECT * statements, but I am aware I could just add a bit field to make the java program not show the fields"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1649637615,"post_id":71821158,"comment_id":126919127,"body_markdown":"OK, I&#39;m pretty sure that mySQL doesn&#39;t give you a built-in way of hiding rows.  I think the right thing to do is add a bit field.","body":"OK, I&#39;m pretty sure that mySQL doesn&#39;t give you a built-in way of hiding rows.  I think the right thing to do is add a bit field."},{"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":1,"creation_date":1649638867,"post_id":71821158,"comment_id":126919289,"body_markdown":"You could use a VIEW with a condition, then query the view.","body":"You could use a VIEW with a condition, then query the view."}],"owner":{"account_id":15967138,"reputation":47,"user_id":11522389,"display_name":"othnuk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649631340,"creation_date":1649631340,"question_id":71821158,"body_markdown":"I have an SQL database that I am interacting with via Java, I was wondering if there was an easy way to make a specific row hidden/invisible through Java other than just adding a &quot;hidden&quot; bit field to the table.\r\n\r\nI want to be able to potentially toggle it to be visible again later.\r\n\r\ne.g\r\n\r\n| ID | Name |\r\n| -------- | -------------- |\r\n| 1| Bob|\r\n| 2| Geoff|\r\n\r\nI want to have a line of code that will run so that only Bob will be visible as Geoff is hidden, but then be able to run a similar line of code and bring Geoff back into view. Is this possible?\r\n","title":"Make SQL Rows invisible with a query/code","body":"<p>I have an SQL database that I am interacting with via Java, I was wondering if there was an easy way to make a specific row hidden/invisible through Java other than just adding a &quot;hidden&quot; bit field to the table.</p>\n<p>I want to be able to potentially toggle it to be visible again later.</p>\n<p>e.g</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>ID</th>\n<th>Name</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>Bob</td>\n</tr>\n<tr>\n<td>2</td>\n<td>Geoff</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I want to have a line of code that will run so that only Bob will be visible as Geoff is hidden, but then be able to run a similar line of code and bring Geoff back into view. Is this possible?</p>\n"},{"tags":["java","selenium-webdriver","split","automation"],"comments":[{"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"score":1,"creation_date":1439464314,"post_id":31986563,"comment_id":51877756,"body_markdown":"`driver.findElement(By.xpath(&quot;wwwww&quot;)).getText().substring(1);`","body":"<code>driver.findElement(By.xpath(&quot;wwwww&quot;)).getText().substring(1)&zwnj;&#8203;;</code>"}],"answers":[{"tags":[],"owner":{"account_id":5382091,"reputation":703,"user_id":4492504,"display_name":"Zain Aftab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439464696,"creation_date":1439464696,"answer_id":31986705,"question_id":31986563,"body_markdown":"you can use the .substring() js function for doing this. you can get more details from http://www.w3schools.com/jsref/jsref_substring.asp\r\n\r\nuse th following \r\n\r\n\r\nString Total = driver.findElement(By.xpath(&quot;wwwww&quot;)).getText().substring(1);","title":"How can i separate this &quot;&#163;232.69&quot; value without a currency symbol? I need this value to be 232.69","body":"<p>you can use the .substring() js function for doing this. you can get more details from <a href=\"http://www.w3schools.com/jsref/jsref_substring.asp\" rel=\"nofollow\">http://www.w3schools.com/jsref/jsref_substring.asp</a></p>\n\n<p>use th following </p>\n\n<p>String Total = driver.findElement(By.xpath(\"wwwww\")).getText().substring(1);</p>\n"},{"tags":[],"owner":{"account_id":4853525,"reputation":925,"user_id":3915216,"accept_rate":67,"display_name":"piezol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1439549790,"creation_date":1439466271,"answer_id":31987284,"question_id":31986563,"body_markdown":"This will give you any first number (integer or not, matching expression someNumbers + optional(dot + someNumbers)) occuring in string s as a string:\r\n\r\n\r\n\t\tString s = &quot;&amp;21.37&quot;;\r\n\t\tPattern p = Pattern.compile(&quot;[^0-9]*([0-9]+(\\\\.[0-9]*)?)&quot;);\r\n\t\tMatcher m = p.matcher(s);\r\n\t\tm.matches();\r\n\t\tString s = m.group(1)\r\n\r\nYou can then extract it as follows:\r\n\r\n\t\tDouble d = Double.valueOf(s)\r\n\r\n\r\n&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;\r\n**Here is updated code:** , @kripindas\r\n\r\n    String s = &quot;&amp;1,221.37&quot;;\r\n    Pattern p = Pattern.compile(&quot;[^0-9]*([0-9]*,?([0-9]+(\\\\.[0-9]*))?)&quot;);\r\n    Matcher m = p.matcher(s);\r\n    m.matches();\r\n    String s_num = m.group(1).replace(&quot;,&quot;, &quot;&quot;);\r\n    System.out.println(s_num);\r\n    Double d_num = Double.valueOf(s_num);\r\n    System.out.println(d_num);\r\n\r\nNote that this will match:\r\n\r\n&quot;&amp;1,234.56&quot;,&lt;br /&gt; &quot;$123,4.5678&quot;,&lt;br /&gt; &quot;JP234,123.12&quot;&lt;br /&gt;\r\nand convert them to (correspondingly):&lt;br /&gt;\r\n1234.56&lt;br /&gt;\r\n1234.5678&lt;br /&gt;\r\n234123.12&lt;br /&gt;","title":"How can i separate this &quot;&#163;232.69&quot; value without a currency symbol? I need this value to be 232.69","body":"<p>This will give you any first number (integer or not, matching expression someNumbers + optional(dot + someNumbers)) occuring in string s as a string:</p>\n\n<pre><code>    String s = \"&amp;21.37\";\n    Pattern p = Pattern.compile(\"[^0-9]*([0-9]+(\\\\.[0-9]*)?)\");\n    Matcher m = p.matcher(s);\n    m.matches();\n    String s = m.group(1)\n</code></pre>\n\n<p>You can then extract it as follows:</p>\n\n<pre><code>    Double d = Double.valueOf(s)\n</code></pre>\n\n<p><br /><br /><br />\n<strong>Here is updated code:</strong> , @kripindas</p>\n\n<pre><code>String s = \"&amp;1,221.37\";\nPattern p = Pattern.compile(\"[^0-9]*([0-9]*,?([0-9]+(\\\\.[0-9]*))?)\");\nMatcher m = p.matcher(s);\nm.matches();\nString s_num = m.group(1).replace(\",\", \"\");\nSystem.out.println(s_num);\nDouble d_num = Double.valueOf(s_num);\nSystem.out.println(d_num);\n</code></pre>\n\n<p>Note that this will match:</p>\n\n<p>\"&amp;1,234.56\",<br /> \"$123,4.5678\",<br /> \"JP234,123.12\"<br />\nand convert them to (correspondingly):<br />\n1234.56<br />\n1234.5678<br />\n234123.12<br /></p>\n"},{"tags":[],"owner":{"account_id":18221571,"reputation":37,"user_id":13262221,"display_name":"john doe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649631193,"creation_date":1649344625,"answer_id":71784749,"question_id":31986563,"body_markdown":"I figured this out a few minutes ago.\r\n\r\n```\r\nprice = driver.find_element_by_css_selector(&quot;div.teaser-pricing div.pricing&quot;).text\r\n\r\nprint(price.split()[0].replace(&#39;$&#39;, &#39;&#39;))\r\n```\r\n\r\nThis will split it from the first index and replace what you want from the text in the second part. ","title":"How can i separate this &quot;&#163;232.69&quot; value without a currency symbol? I need this value to be 232.69","body":"<p>I figured this out a few minutes ago.</p>\n<pre><code>price = driver.find_element_by_css_selector(&quot;div.teaser-pricing div.pricing&quot;).text\n\nprint(price.split()[0].replace('$', ''))\n</code></pre>\n<p>This will split it from the first index and replace what you want from the text in the second part.</p>\n"}],"owner":{"account_id":6088926,"reputation":480,"user_id":4751940,"accept_rate":30,"display_name":"kripindas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1633,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":31987284,"answer_count":3,"score":-2,"last_activity_date":1649631193,"creation_date":1439464270,"question_id":31986563,"body_markdown":"    String Total = driver.findElement(By.xpath(&quot;wwwww&quot;)).getText();\r\n\r\nI will get the Value &#163;232.69 from the above code. Now I want to split the separate the Value without that Currency Symbol. Like 232.69.\r\nSo that I can compare this value with another one.","title":"How can i separate this &quot;&#163;232.69&quot; value without a currency symbol? I need this value to be 232.69","body":"<pre><code>String Total = driver.findElement(By.xpath(\"wwwww\")).getText();\n</code></pre>\n\n<p>I will get the Value £232.69 from the above code. Now I want to split the separate the Value without that Currency Symbol. Like 232.69.\nSo that I can compare this value with another one.</p>\n"},{"tags":["java","css","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1649572274,"post_id":71812895,"comment_id":126906370,"body_markdown":"don&#39;t hard-code sizing constraints","body":"don&#39;t hard-code sizing constraints"},{"owner":{"account_id":24886530,"reputation":158,"user_id":18759069,"display_name":"Vincent Batens"},"score":0,"creation_date":1649595783,"post_id":71812895,"comment_id":126910478,"body_markdown":"Ikr, just did it now to make everything very big to find where te problem was.","body":"Ikr, just did it now to make everything very big to find where te problem was."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1649602573,"post_id":71812895,"comment_id":126912092,"body_markdown":"but the hard-coding is nearly always part of the problem - never-ever do it :) Instead, use a really big font and see what happens (and post a [mcve] showing the effect)","body":"but the hard-coding is nearly always part of the problem - never-ever do it :) Instead, use a really big font and see what happens (and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> showing the effect)"},{"owner":{"account_id":24886530,"reputation":158,"user_id":18759069,"display_name":"Vincent Batens"},"score":0,"creation_date":1649607506,"post_id":71812895,"comment_id":126913233,"body_markdown":"Okay, I&#39;ll make one real quick.","body":"Okay, I&#39;ll make one real quick."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1649612024,"post_id":71812895,"comment_id":126914321,"body_markdown":"the problem is the tabPane&#39;s tabMaxHeight: it&#39;s a stylableProperty set in modena to 22 (as is the tabMinHeight, making it effectively not resizable) - TabHeaderSkin respects those boundaries and clips the label. Configure the property to Double.MAX_NUMBER in code, or something really huge (don&#39;t know if/how to set the equivalent to double.max in the rule ;) in css, like `.tab-pane {-fx-tab-max-height: 100000;}`","body":"the problem is the tabPane&#39;s tabMaxHeight: it&#39;s a stylableProperty set in modena to 22 (as is the tabMinHeight, making it effectively not resizable) - TabHeaderSkin respects those boundaries and clips the label. Configure the property to Double.MAX_NUMBER in code, or something really huge (don&#39;t know if/how to set the equivalent to double.max in the rule ;) in css, like <code>.tab-pane {-fx-tab-max-height: 100000;}</code>"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1649612272,"post_id":71812895,"comment_id":126914372,"body_markdown":"btw: ScenicView is a nice tool to find the reason for layout quirks - the cause did show when inspecting the min/pref values of the headerSkin where the latter is smaller than the former :)","body":"btw: ScenicView is a nice tool to find the reason for layout quirks - the cause did show when inspecting the min/pref values of the headerSkin where the latter is smaller than the former :)"},{"owner":{"account_id":24886530,"reputation":158,"user_id":18759069,"display_name":"Vincent Batens"},"score":0,"creation_date":1649621061,"post_id":71812895,"comment_id":126916326,"body_markdown":"Wow ye that worked, I will try ScenicView for sure, many thanks :)","body":"Wow ye that worked, I will try ScenicView for sure, many thanks :)"},{"owner":{"account_id":24886530,"reputation":158,"user_id":18759069,"display_name":"Vincent Batens"},"score":0,"creation_date":1649621327,"post_id":71812895,"comment_id":126916405,"body_markdown":"If you post it as an answer I will mark it as the answer :)","body":"If you post it as an answer I will mark it as the answer :)"}],"owner":{"account_id":24886530,"reputation":158,"user_id":18759069,"display_name":"Vincent Batens"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1649631108,"creation_date":1649550337,"question_id":71812895,"body_markdown":"I&#39;m trying to make a simple TabPane with tabs with `font-size = 20` in javafx.\r\nWhen I let the `font-size` on default, everything is fine:\r\n![1]\r\n\r\nWhen I change the `font-size` to `20`, the underside of letters like p gets cut off:\r\n![2]\r\n\r\nI think that&#39;s the case, because a container around it is too small, but I tried changing different components of the TabPane in css (from the [substructure][3] of TabPane) but can&#39;t get it too work. As you see in the screenshots, I tried to exaggerate the size of the buttons and everything around, so it wouldn&#39;t influence the label inside.\r\n\r\nHere is the css code I ended with after removing stuff that didn&#39;t change anything anyway.\r\n\r\n```css\r\nTabPane .headers-region {\r\n    -fx-pref-height: 100;\r\n}\r\n\r\n\r\nTabPane .tab {\r\n    -fx-pref-height: 100;\r\n    -fx-pref-width: 500;\r\n}\r\n\r\nTabPane .tab .tab-label {\r\n    -fx-pref-height: 80;\r\n    -fx-pref-width: 400;\r\n    -fx-alignment: center;\r\n    -fx-font-size: 20;\r\n}\r\n```\r\n\r\n**EDIT**\r\n\r\nMinimum reproducible example (like kleopatra suggested):\r\n\r\nJava file:\r\n```java\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Tab;\r\nimport javafx.scene.control.TabPane;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Main extends Application {\r\n    \r\n    public void start(Stage stage) throws Exception {\r\n        TabPane tabPane = new TabPane();\r\n        Tab tab1 = new Tab(&quot;Board&quot;);\r\n        Tab tab2 = new Tab(&quot;Claims and assumptions&quot;);\r\n        tabPane.getTabs().addAll(tab1, tab2);\r\n        Scene scene = new Scene(tabPane);\r\n        scene.getStylesheets().add(&quot;Path to the css file&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\nCSS file:\r\n```css\r\nTabPane .tab-label {\r\n    -fx-font-size: 20;\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/LSdb2.jpg\r\n  [2]: https://i.stack.imgur.com/nxM1c.jpg\r\n  [3]: https://docs.oracle.com/javase/8/javafx/api/javafx/scene/doc-files/cssref.html#tabpane","title":"How to prevent that text in Tabs of TabPane (JavaFX) gets cut off?","body":"<p>I'm trying to make a simple TabPane with tabs with <code>font-size = 20</code> in javafx.\nWhen I let the <code>font-size</code> on default, everything is fine:\n<img src=\"https://i.stack.imgur.com/LSdb2.jpg\" alt=\"1\" /></p>\n<p>When I change the <code>font-size</code> to <code>20</code>, the underside of letters like p gets cut off:\n<img src=\"https://i.stack.imgur.com/nxM1c.jpg\" alt=\"2\" /></p>\n<p>I think that's the case, because a container around it is too small, but I tried changing different components of the TabPane in css (from the <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/doc-files/cssref.html#tabpane\" rel=\"nofollow noreferrer\">substructure</a> of TabPane) but can't get it too work. As you see in the screenshots, I tried to exaggerate the size of the buttons and everything around, so it wouldn't influence the label inside.</p>\n<p>Here is the css code I ended with after removing stuff that didn't change anything anyway.</p>\n<pre class=\"lang-css prettyprint-override\"><code>TabPane .headers-region {\n    -fx-pref-height: 100;\n}\n\n\nTabPane .tab {\n    -fx-pref-height: 100;\n    -fx-pref-width: 500;\n}\n\nTabPane .tab .tab-label {\n    -fx-pref-height: 80;\n    -fx-pref-width: 400;\n    -fx-alignment: center;\n    -fx-font-size: 20;\n}\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>Minimum reproducible example (like kleopatra suggested):</p>\n<p>Java file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Tab;\nimport javafx.scene.control.TabPane;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n    \n    public void start(Stage stage) throws Exception {\n        TabPane tabPane = new TabPane();\n        Tab tab1 = new Tab(&quot;Board&quot;);\n        Tab tab2 = new Tab(&quot;Claims and assumptions&quot;);\n        tabPane.getTabs().addAll(tab1, tab2);\n        Scene scene = new Scene(tabPane);\n        scene.getStylesheets().add(&quot;Path to the css file&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>CSS file:</p>\n<pre class=\"lang-css prettyprint-override\"><code>TabPane .tab-label {\n    -fx-font-size: 20;\n}\n</code></pre>\n"},{"tags":["java","vert.x","quarkus","vertx-eventbus"],"comments":[{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":0,"creation_date":1625474390,"post_id":68244809,"comment_id":120627650,"body_markdown":"This is due to https://github.com/eclipse-vertx/vert.x/pull/3431. I&#39;ve started a conversation as I believe it introduces some issues (like yours).","body":"This is due to <a href=\"https://github.com/eclipse-vertx/vert.x/pull/3431\" rel=\"nofollow noreferrer\">github.com/eclipse-vertx/vert.x/pull/3431</a>. I&#39;ve started a conversation as I believe it introduces some issues (like yours)."},{"owner":{"account_id":22124001,"reputation":11,"user_id":16376718,"display_name":"AngelPerz"},"score":0,"creation_date":1625493913,"post_id":68244809,"comment_id":120635207,"body_markdown":"Thank you for your answer @Clement and for the conversation to try to fix it, but looking the commits I can&#39;t understand how changes made a year ago can cause this issue now. Can you please give me an explanation to understand what is happening? And if I can help in any way let me know.","body":"Thank you for your answer @Clement and for the conversation to try to fix it, but looking the commits I can&#39;t understand how changes made a year ago can cause this issue now. Can you please give me an explanation to understand what is happening? And if I can help in any way let me know."},{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":0,"creation_date":1625512171,"post_id":68244809,"comment_id":120641288,"body_markdown":"So, it&#39;s a bug. I was able to fix it in Quarkus. I will push a pull request tomorrow (my fix needs polishing).","body":"So, it&#39;s a bug. I was able to fix it in Quarkus. I will push a pull request tomorrow (my fix needs polishing)."},{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":0,"creation_date":1625554395,"post_id":68244809,"comment_id":120649603,"body_markdown":"PR opened: https://github.com/quarkusio/quarkus/pull/18436","body":"PR opened: <a href=\"https://github.com/quarkusio/quarkus/pull/18436\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/pull/18436</a>"},{"owner":{"account_id":22124001,"reputation":11,"user_id":16376718,"display_name":"AngelPerz"},"score":0,"creation_date":1625580831,"post_id":68244809,"comment_id":120661044,"body_markdown":"Thank you @Clement for the fix and your feedback","body":"Thank you @Clement for the fix and your feedback"},{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":0,"creation_date":1626245656,"post_id":68244809,"comment_id":120837965,"body_markdown":"The PR has been merged.","body":"The PR has been merged."}],"answers":[{"tags":[],"owner":{"account_id":22124001,"reputation":11,"user_id":16376718,"display_name":"AngelPerz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626285213,"creation_date":1626285213,"answer_id":68382982,"question_id":68244809,"body_markdown":"Finally it was a bug and the fix has been included in the Quarkus release 2.0.2.Final ","title":"Has changed the way Vertx eventBus multithreading is handled between Quarkus 1.13.7 and Quarkus 2.0.0?","body":"<p>Finally it was a bug and the fix has been included in the Quarkus release 2.0.2.Final</p>\n"},{"tags":[],"owner":{"account_id":22081947,"reputation":21,"user_id":16341397,"display_name":"Swe77"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649630722,"creation_date":1649630722,"answer_id":71821105,"question_id":68244809,"body_markdown":"In older versions of Quarkus try to deploy the verticle in the verticle deployer in a loop with as many threads you need.\r\n\r\nRemember to check if the verticle performs blocking tasks and configure it properly.","title":"Has changed the way Vertx eventBus multithreading is handled between Quarkus 1.13.7 and Quarkus 2.0.0?","body":"<p>In older versions of Quarkus try to deploy the verticle in the verticle deployer in a loop with as many threads you need.</p>\n<p>Remember to check if the verticle performs blocking tasks and configure it properly.</p>\n"}],"owner":{"account_id":22124001,"reputation":11,"user_id":16376718,"display_name":"AngelPerz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":698,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1649630722,"creation_date":1625402437,"question_id":68244809,"body_markdown":"I&#39;m not really sure if it is a bug of some kind or just a missing config by my side, but I&#39;m getting a different behaviour in the way that the Vertx eventBus assigns the threads to the &quot;@ConsumeEvent&quot; methods.\r\n\r\nIn the Quarkus version 1.13.7.FINAL and olders, it looks that Vertx binds an eventloop thread to each consumer method, if the pool have enough threads. But in Quarkus 2.0.0 every message is handled by one or two threads, making the execution virtually synchronous. And this behaviour is the same in VM or native mode.\r\n\r\nI made a silly project to illustrate this: [https://github.com/AngelPerz/test-vertx-q2][1]\r\n\r\nIn this project, when a call to the **localhost:8080/test** is received, it sends some messages via eventBus to a 3 consumers with .publish() method, simulates some work on each with a simple wait, and sends the completion to a final collector via eventBus too. \r\n\r\nWith this scenario in **Quarkus 1.13.7.FINAL** the same application executes everything concurrently:\r\n``` \r\n2021-07-04 14:18:44,597 INFO  [io.quarkus] (main) code-with-quarkus 1.0.0-SNAPSHOT native (powered by Quarkus 1.13.7.Final) started in 0.008s. Listening on: http://0.0.0.0:8080\r\n2021-07-04 14:18:44,598 INFO  [io.quarkus] (main) Profile prod activated. \r\n2021-07-04 14:18:44,598 INFO  [io.quarkus] (main) Installed features: [cdi, mutiny, resteasy, smallrye-context-propagation, vertx]\r\n2021-07-04 14:18:50,082 INFO  [org.acm.con.TestLauncher] (vert.x-eventloop-thread-17) Starting test with [5] workUnits\r\n2021-07-04 14:18:50,082 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-16) ConsumerC :: starting workUnit [0]\r\n2021-07-04 14:18:50,082 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-14) ConsumerB :: starting workUnit [0]\r\n2021-07-04 14:18:50,082 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-18) ConsumerA :: starting workUnit [0]\r\n2021-07-04 14:18:50,233 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-16) ConsumerC :: finished workUnit [0]\r\n2021-07-04 14:18:50,233 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: received finish work [ConsumerC, 0]\r\n2021-07-04 14:18:50,233 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-14) ConsumerB :: finished workUnit [0]\r\n2021-07-04 14:18:50,233 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-18) ConsumerA :: finished workUnit [0]\r\n2021-07-04 14:18:50,233 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: received finish work [ConsumerB, 0]\r\n2021-07-04 14:18:50,233 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: received finish work [ConsumerA, 0]\r\n2021-07-04 14:18:50,233 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: all works completed by consumers for workUnit [0]\r\n2021-07-04 14:18:50,283 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-16) ConsumerC :: starting workUnit [1]\r\n2021-07-04 14:18:50,283 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-14) ConsumerB :: starting workUnit [1]\r\n2021-07-04 14:18:50,283 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-18) ConsumerA :: starting workUnit [1]\r\n2021-07-04 14:18:50,435 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-16) ConsumerC :: finished workUnit [1]\r\n2021-07-04 14:18:50,435 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-18) ConsumerA :: finished workUnit [1]\r\n2021-07-04 14:18:50,435 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-14) ConsumerB :: finished workUnit [1]\r\n2021-07-04 14:18:50,435 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: received finish work [ConsumerC, 1]\r\n2021-07-04 14:18:50,435 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: received finish work [ConsumerA, 1]\r\n2021-07-04 14:18:50,435 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: received finish work [ConsumerB, 1]\r\n2021-07-04 14:18:50,435 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: all works completed by consumers for workUnit [1]\r\n2021-07-04 14:18:50,483 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-16) ConsumerC :: starting workUnit [2]\r\n2021-07-04 14:18:50,483 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-14) ConsumerB :: starting workUnit [2]\r\n2021-07-04 14:18:50,483 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-18) ConsumerA :: starting workUnit [2]\r\n2021-07-04 14:18:50,633 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-16) ConsumerC :: finished workUnit [2]\r\n2021-07-04 14:18:50,634 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: received finish work [ConsumerC, 2]\r\n2021-07-04 14:18:50,634 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-14) ConsumerB :: finished workUnit [2]\r\n2021-07-04 14:18:50,634 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-18) ConsumerA :: finished workUnit [2]\r\n2021-07-04 14:18:50,634 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: received finish work [ConsumerB, 2]\r\n2021-07-04 14:18:50,634 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: received finish work [ConsumerA, 2]\r\n2021-07-04 14:18:50,634 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: all works completed by consumers for workUnit [2]\r\n2021-07-04 14:18:50,684 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-18) ConsumerA :: starting workUnit [3]\r\n2021-07-04 14:18:50,684 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-14) ConsumerB :: starting workUnit [3]\r\n2021-07-04 14:18:50,684 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-16) ConsumerC :: starting workUnit [3]\r\n2021-07-04 14:18:50,835 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-16) ConsumerC :: finished workUnit [3]\r\n2021-07-04 14:18:50,836 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-14) ConsumerB :: finished workUnit [3]\r\n2021-07-04 14:18:50,836 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: received finish work [ConsumerC, 3]\r\n2021-07-04 14:18:50,836 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: received finish work [ConsumerB, 3]\r\n2021-07-04 14:18:50,836 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-18) ConsumerA :: finished workUnit [3]\r\n2021-07-04 14:18:50,837 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: received finish work [ConsumerA, 3]\r\n2021-07-04 14:18:50,837 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: all works completed by consumers for workUnit [3]\r\n2021-07-04 14:18:50,884 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-14) ConsumerB :: starting workUnit [4]\r\n2021-07-04 14:18:50,884 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-18) ConsumerA :: starting workUnit [4]\r\n2021-07-04 14:18:50,884 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-16) ConsumerC :: starting workUnit [4]\r\n2021-07-04 14:18:51,035 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-16) ConsumerC :: finished workUnit [4]\r\n2021-07-04 14:18:51,035 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-18) ConsumerA :: finished workUnit [4]\r\n2021-07-04 14:18:51,035 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: received finish work [ConsumerC, 4]\r\n2021-07-04 14:18:51,035 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: received finish work [ConsumerA, 4]\r\n2021-07-04 14:18:51,035 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-14) ConsumerB :: finished workUnit [4]\r\n2021-07-04 14:18:51,037 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: received finish work [ConsumerB, 4]\r\n2021-07-04 14:18:51,037 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: all works completed by consumers for workUnit [4]\r\n```\r\n\r\nAs we can see there are 5 different threads executing the test, but running the same code in **Quarkus 2.0.0.FINAL** there are only one thread executing everything:\r\n\r\n```\r\n2021-07-04 13:27:54,523 INFO  [io.quarkus] (main) code-with-quarkus 1.0.0-SNAPSHOT native (powered by Quarkus 2.0.0.Final) started in 0.007s. Listening on: http://0.0.0.0:8080\r\n2021-07-04 13:27:54,524 INFO  [io.quarkus] (main) Profile prod activated. \r\n2021-07-04 13:27:54,524 INFO  [io.quarkus] (main) Installed features: [cdi, resteasy, smallrye-context-propagation, vertx]\r\n2021-07-04 13:28:03,630 INFO  [org.acm.con.TestLauncher] (vert.x-eventloop-thread-0) Starting test with [5] workUnits\r\n2021-07-04 13:28:04,632 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-0) ConsumerB :: starting workUnit [0]\r\n2021-07-04 13:28:04,784 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-0) ConsumerB :: finished workUnit [0]\r\n2021-07-04 13:28:04,784 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-0) ConsumerC :: starting workUnit [0]\r\n2021-07-04 13:28:04,940 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-0) ConsumerC :: finished workUnit [0]\r\n2021-07-04 13:28:04,940 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-0) ConsumerA :: starting workUnit [0]\r\n2021-07-04 13:28:05,091 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-0) ConsumerA :: finished workUnit [0]\r\n2021-07-04 13:28:05,091 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-0) ConsumerB :: starting workUnit [1]\r\n2021-07-04 13:28:05,242 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-0) ConsumerB :: finished workUnit [1]\r\n2021-07-04 13:28:05,242 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-0) ConsumerC :: starting workUnit [1]\r\n2021-07-04 13:28:05,395 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-0) ConsumerC :: finished workUnit [1]\r\n2021-07-04 13:28:05,395 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-0) ConsumerA :: starting workUnit [1]\r\n2021-07-04 13:28:05,548 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-0) ConsumerA :: finished workUnit [1]\r\n2021-07-04 13:28:05,549 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-0) ConsumerB :: starting workUnit [2]\r\n2021-07-04 13:28:05,702 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-0) ConsumerB :: finished workUnit [2]\r\n2021-07-04 13:28:05,702 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-0) ConsumerC :: starting workUnit [2]\r\n2021-07-04 13:28:05,854 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-0) ConsumerC :: finished workUnit [2]\r\n2021-07-04 13:28:05,854 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-0) ConsumerA :: starting workUnit [2]\r\n2021-07-04 13:28:06,005 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-0) ConsumerA :: finished workUnit [2]\r\n2021-07-04 13:28:06,006 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-0) ConsumerB :: starting workUnit [3]\r\n2021-07-04 13:28:06,158 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-0) ConsumerB :: finished workUnit [3]\r\n2021-07-04 13:28:06,158 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-0) ConsumerC :: starting workUnit [3]\r\n2021-07-04 13:28:06,310 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-0) ConsumerC :: finished workUnit [3]\r\n2021-07-04 13:28:06,310 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-0) ConsumerA :: starting workUnit [3]\r\n2021-07-04 13:28:06,461 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-0) ConsumerA :: finished workUnit [3]\r\n2021-07-04 13:28:06,461 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-0) ConsumerB :: starting workUnit [4]\r\n2021-07-04 13:28:06,611 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-0) ConsumerB :: finished workUnit [4]\r\n2021-07-04 13:28:06,611 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-0) ConsumerC :: starting workUnit [4]\r\n2021-07-04 13:28:06,761 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-0) ConsumerC :: finished workUnit [4]\r\n2021-07-04 13:28:06,762 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-0) ConsumerA :: starting workUnit [4]\r\n2021-07-04 13:28:06,915 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-0) ConsumerA :: finished workUnit [4]\r\n2021-07-04 13:28:06,915 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: received finish work [ConsumerB, 0]\r\n2021-07-04 13:28:06,915 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: received finish work [ConsumerC, 0]\r\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: received finish work [ConsumerA, 0]\r\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: all works completed by consumers for workUnit [0]\r\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: received finish work [ConsumerB, 1]\r\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: received finish work [ConsumerC, 1]\r\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: received finish work [ConsumerA, 1]\r\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: all works completed by consumers for workUnit [1]\r\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: received finish work [ConsumerB, 2]\r\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: received finish work [ConsumerC, 2]\r\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: received finish work [ConsumerA, 2]\r\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: all works completed by consumers for workUnit [2]\r\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: received finish work [ConsumerB, 3]\r\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: received finish work [ConsumerC, 3]\r\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: received finish work [ConsumerA, 3]\r\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: all works completed by consumers for workUnit [3]\r\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: received finish work [ConsumerB, 4]\r\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: received finish work [ConsumerC, 4]\r\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: received finish work [ConsumerA, 4]\r\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: all works completed by consumers for workUnit [4]\r\n```\r\n\r\nThe time difference between executions are 955ms in 1.13.7.FINAL and 2592ms in 2.0.0.FINAL; and if it can be relevant, was tested with GraalVM 21.0.0.2 java11\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/AngelPerz/test-vertx-q2","title":"Has changed the way Vertx eventBus multithreading is handled between Quarkus 1.13.7 and Quarkus 2.0.0?","body":"<p>I'm not really sure if it is a bug of some kind or just a missing config by my side, but I'm getting a different behaviour in the way that the Vertx eventBus assigns the threads to the &quot;@ConsumeEvent&quot; methods.</p>\n<p>In the Quarkus version 1.13.7.FINAL and olders, it looks that Vertx binds an eventloop thread to each consumer method, if the pool have enough threads. But in Quarkus 2.0.0 every message is handled by one or two threads, making the execution virtually synchronous. And this behaviour is the same in VM or native mode.</p>\n<p>I made a silly project to illustrate this: <a href=\"https://github.com/AngelPerz/test-vertx-q2\" rel=\"nofollow noreferrer\">https://github.com/AngelPerz/test-vertx-q2</a></p>\n<p>In this project, when a call to the <strong>localhost:8080/test</strong> is received, it sends some messages via eventBus to a 3 consumers with .publish() method, simulates some work on each with a simple wait, and sends the completion to a final collector via eventBus too.</p>\n<p>With this scenario in <strong>Quarkus 1.13.7.FINAL</strong> the same application executes everything concurrently:</p>\n<pre><code>2021-07-04 14:18:44,597 INFO  [io.quarkus] (main) code-with-quarkus 1.0.0-SNAPSHOT native (powered by Quarkus 1.13.7.Final) started in 0.008s. Listening on: http://0.0.0.0:8080\n2021-07-04 14:18:44,598 INFO  [io.quarkus] (main) Profile prod activated. \n2021-07-04 14:18:44,598 INFO  [io.quarkus] (main) Installed features: [cdi, mutiny, resteasy, smallrye-context-propagation, vertx]\n2021-07-04 14:18:50,082 INFO  [org.acm.con.TestLauncher] (vert.x-eventloop-thread-17) Starting test with [5] workUnits\n2021-07-04 14:18:50,082 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-16) ConsumerC :: starting workUnit [0]\n2021-07-04 14:18:50,082 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-14) ConsumerB :: starting workUnit [0]\n2021-07-04 14:18:50,082 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-18) ConsumerA :: starting workUnit [0]\n2021-07-04 14:18:50,233 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-16) ConsumerC :: finished workUnit [0]\n2021-07-04 14:18:50,233 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: received finish work [ConsumerC, 0]\n2021-07-04 14:18:50,233 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-14) ConsumerB :: finished workUnit [0]\n2021-07-04 14:18:50,233 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-18) ConsumerA :: finished workUnit [0]\n2021-07-04 14:18:50,233 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: received finish work [ConsumerB, 0]\n2021-07-04 14:18:50,233 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: received finish work [ConsumerA, 0]\n2021-07-04 14:18:50,233 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: all works completed by consumers for workUnit [0]\n2021-07-04 14:18:50,283 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-16) ConsumerC :: starting workUnit [1]\n2021-07-04 14:18:50,283 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-14) ConsumerB :: starting workUnit [1]\n2021-07-04 14:18:50,283 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-18) ConsumerA :: starting workUnit [1]\n2021-07-04 14:18:50,435 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-16) ConsumerC :: finished workUnit [1]\n2021-07-04 14:18:50,435 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-18) ConsumerA :: finished workUnit [1]\n2021-07-04 14:18:50,435 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-14) ConsumerB :: finished workUnit [1]\n2021-07-04 14:18:50,435 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: received finish work [ConsumerC, 1]\n2021-07-04 14:18:50,435 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: received finish work [ConsumerA, 1]\n2021-07-04 14:18:50,435 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: received finish work [ConsumerB, 1]\n2021-07-04 14:18:50,435 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: all works completed by consumers for workUnit [1]\n2021-07-04 14:18:50,483 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-16) ConsumerC :: starting workUnit [2]\n2021-07-04 14:18:50,483 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-14) ConsumerB :: starting workUnit [2]\n2021-07-04 14:18:50,483 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-18) ConsumerA :: starting workUnit [2]\n2021-07-04 14:18:50,633 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-16) ConsumerC :: finished workUnit [2]\n2021-07-04 14:18:50,634 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: received finish work [ConsumerC, 2]\n2021-07-04 14:18:50,634 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-14) ConsumerB :: finished workUnit [2]\n2021-07-04 14:18:50,634 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-18) ConsumerA :: finished workUnit [2]\n2021-07-04 14:18:50,634 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: received finish work [ConsumerB, 2]\n2021-07-04 14:18:50,634 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: received finish work [ConsumerA, 2]\n2021-07-04 14:18:50,634 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: all works completed by consumers for workUnit [2]\n2021-07-04 14:18:50,684 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-18) ConsumerA :: starting workUnit [3]\n2021-07-04 14:18:50,684 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-14) ConsumerB :: starting workUnit [3]\n2021-07-04 14:18:50,684 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-16) ConsumerC :: starting workUnit [3]\n2021-07-04 14:18:50,835 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-16) ConsumerC :: finished workUnit [3]\n2021-07-04 14:18:50,836 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-14) ConsumerB :: finished workUnit [3]\n2021-07-04 14:18:50,836 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: received finish work [ConsumerC, 3]\n2021-07-04 14:18:50,836 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: received finish work [ConsumerB, 3]\n2021-07-04 14:18:50,836 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-18) ConsumerA :: finished workUnit [3]\n2021-07-04 14:18:50,837 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: received finish work [ConsumerA, 3]\n2021-07-04 14:18:50,837 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: all works completed by consumers for workUnit [3]\n2021-07-04 14:18:50,884 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-14) ConsumerB :: starting workUnit [4]\n2021-07-04 14:18:50,884 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-18) ConsumerA :: starting workUnit [4]\n2021-07-04 14:18:50,884 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-16) ConsumerC :: starting workUnit [4]\n2021-07-04 14:18:51,035 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-16) ConsumerC :: finished workUnit [4]\n2021-07-04 14:18:51,035 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-18) ConsumerA :: finished workUnit [4]\n2021-07-04 14:18:51,035 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: received finish work [ConsumerC, 4]\n2021-07-04 14:18:51,035 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: received finish work [ConsumerA, 4]\n2021-07-04 14:18:51,035 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-14) ConsumerB :: finished workUnit [4]\n2021-07-04 14:18:51,037 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: received finish work [ConsumerB, 4]\n2021-07-04 14:18:51,037 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-15) WorkCollector :: all works completed by consumers for workUnit [4]\n</code></pre>\n<p>As we can see there are 5 different threads executing the test, but running the same code in <strong>Quarkus 2.0.0.FINAL</strong> there are only one thread executing everything:</p>\n<pre><code>2021-07-04 13:27:54,523 INFO  [io.quarkus] (main) code-with-quarkus 1.0.0-SNAPSHOT native (powered by Quarkus 2.0.0.Final) started in 0.007s. Listening on: http://0.0.0.0:8080\n2021-07-04 13:27:54,524 INFO  [io.quarkus] (main) Profile prod activated. \n2021-07-04 13:27:54,524 INFO  [io.quarkus] (main) Installed features: [cdi, resteasy, smallrye-context-propagation, vertx]\n2021-07-04 13:28:03,630 INFO  [org.acm.con.TestLauncher] (vert.x-eventloop-thread-0) Starting test with [5] workUnits\n2021-07-04 13:28:04,632 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-0) ConsumerB :: starting workUnit [0]\n2021-07-04 13:28:04,784 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-0) ConsumerB :: finished workUnit [0]\n2021-07-04 13:28:04,784 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-0) ConsumerC :: starting workUnit [0]\n2021-07-04 13:28:04,940 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-0) ConsumerC :: finished workUnit [0]\n2021-07-04 13:28:04,940 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-0) ConsumerA :: starting workUnit [0]\n2021-07-04 13:28:05,091 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-0) ConsumerA :: finished workUnit [0]\n2021-07-04 13:28:05,091 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-0) ConsumerB :: starting workUnit [1]\n2021-07-04 13:28:05,242 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-0) ConsumerB :: finished workUnit [1]\n2021-07-04 13:28:05,242 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-0) ConsumerC :: starting workUnit [1]\n2021-07-04 13:28:05,395 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-0) ConsumerC :: finished workUnit [1]\n2021-07-04 13:28:05,395 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-0) ConsumerA :: starting workUnit [1]\n2021-07-04 13:28:05,548 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-0) ConsumerA :: finished workUnit [1]\n2021-07-04 13:28:05,549 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-0) ConsumerB :: starting workUnit [2]\n2021-07-04 13:28:05,702 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-0) ConsumerB :: finished workUnit [2]\n2021-07-04 13:28:05,702 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-0) ConsumerC :: starting workUnit [2]\n2021-07-04 13:28:05,854 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-0) ConsumerC :: finished workUnit [2]\n2021-07-04 13:28:05,854 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-0) ConsumerA :: starting workUnit [2]\n2021-07-04 13:28:06,005 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-0) ConsumerA :: finished workUnit [2]\n2021-07-04 13:28:06,006 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-0) ConsumerB :: starting workUnit [3]\n2021-07-04 13:28:06,158 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-0) ConsumerB :: finished workUnit [3]\n2021-07-04 13:28:06,158 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-0) ConsumerC :: starting workUnit [3]\n2021-07-04 13:28:06,310 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-0) ConsumerC :: finished workUnit [3]\n2021-07-04 13:28:06,310 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-0) ConsumerA :: starting workUnit [3]\n2021-07-04 13:28:06,461 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-0) ConsumerA :: finished workUnit [3]\n2021-07-04 13:28:06,461 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-0) ConsumerB :: starting workUnit [4]\n2021-07-04 13:28:06,611 INFO  [org.acm.con.ConsumerB] (vert.x-eventloop-thread-0) ConsumerB :: finished workUnit [4]\n2021-07-04 13:28:06,611 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-0) ConsumerC :: starting workUnit [4]\n2021-07-04 13:28:06,761 INFO  [org.acm.con.ConsumerC] (vert.x-eventloop-thread-0) ConsumerC :: finished workUnit [4]\n2021-07-04 13:28:06,762 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-0) ConsumerA :: starting workUnit [4]\n2021-07-04 13:28:06,915 INFO  [org.acm.con.ConsumerA] (vert.x-eventloop-thread-0) ConsumerA :: finished workUnit [4]\n2021-07-04 13:28:06,915 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: received finish work [ConsumerB, 0]\n2021-07-04 13:28:06,915 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: received finish work [ConsumerC, 0]\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: received finish work [ConsumerA, 0]\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: all works completed by consumers for workUnit [0]\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: received finish work [ConsumerB, 1]\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: received finish work [ConsumerC, 1]\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: received finish work [ConsumerA, 1]\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: all works completed by consumers for workUnit [1]\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: received finish work [ConsumerB, 2]\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: received finish work [ConsumerC, 2]\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: received finish work [ConsumerA, 2]\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: all works completed by consumers for workUnit [2]\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: received finish work [ConsumerB, 3]\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: received finish work [ConsumerC, 3]\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: received finish work [ConsumerA, 3]\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: all works completed by consumers for workUnit [3]\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: received finish work [ConsumerB, 4]\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: received finish work [ConsumerC, 4]\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: received finish work [ConsumerA, 4]\n2021-07-04 13:28:06,916 INFO  [org.acm.con.TestWorkCollector] (vert.x-eventloop-thread-0) WorkCollector :: all works completed by consumers for workUnit [4]\n</code></pre>\n<p>The time difference between executions are 955ms in 1.13.7.FINAL and 2592ms in 2.0.0.FINAL; and if it can be relevant, was tested with GraalVM 21.0.0.2 java11</p>\n"},{"tags":["java","artificial-intelligence","weka"],"answers":[{"tags":[],"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649629169,"creation_date":1649629169,"answer_id":71820984,"question_id":71820939,"body_markdown":"How to use the Weka API is documented in the Weka manual (PDF) that comes with your Weka installation.\r\n\r\nAlternatively, have a look at the Weka wiki article [Use Weka in your Java code](https://waikato.github.io/weka-wiki/use_weka_in_your_java_code/).\r\n\r\nFinally, instead of creating an ARFF file through outputting text, you should use the Weka API directly to generate a `weka.core.Instances` object. That way, you don&#39;t even need to generate a file, as you can train your classifier with the `Instances` object. See the following Weka wiki article on [Creating an ARFF file](https://waikato.github.io/weka-wiki/formats_and_processing/creating_arff_file/) on how to create the data structures in memory.","title":"How to train an Weka AI on a dataset through Java","body":"<p>How to use the Weka API is documented in the Weka manual (PDF) that comes with your Weka installation.</p>\n<p>Alternatively, have a look at the Weka wiki article <a href=\"https://waikato.github.io/weka-wiki/use_weka_in_your_java_code/\" rel=\"nofollow noreferrer\">Use Weka in your Java code</a>.</p>\n<p>Finally, instead of creating an ARFF file through outputting text, you should use the Weka API directly to generate a <code>weka.core.Instances</code> object. That way, you don't even need to generate a file, as you can train your classifier with the <code>Instances</code> object. See the following Weka wiki article on <a href=\"https://waikato.github.io/weka-wiki/formats_and_processing/creating_arff_file/\" rel=\"nofollow noreferrer\">Creating an ARFF file</a> on how to create the data structures in memory.</p>\n"}],"owner":{"account_id":17981208,"reputation":29,"user_id":13067500,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71820984,"answer_count":1,"score":0,"last_activity_date":1649629169,"creation_date":1649628661,"question_id":71820939,"body_markdown":"I am currently coding an AI with the Weka API for java. I am using the MNIST handwriten digits dataset to train my AI on. The AI will train on images of handwritten digits then give you an output of if the digit is a 0, 1, 2, etc. Each &quot;Image&quot; is a 28x28 array with each position being a range of 0-255 to indicate a grayscale colour. I am using some code I wrote to convert the array into the ARFF file format:\r\n```\r\npublic void createArffFromDataset(String pathName, MnistDataset dataset) throws IOException {\r\n        File file = new File(pathName);\r\n        file.delete();\r\n        file.createNewFile();\r\n        FileWriter writer = new FileWriter(pathName);\r\n        writer.append(&quot;@RELATION MnistDataset\\n&quot;);\r\n\r\n        for (int r = 1; r &lt;= 28; r++) {\r\n            for (int c = 1; c &lt;= 28; c++) {\r\n                writer.append(&quot;\\n@ATTRIBUTE r&quot;).append(String.valueOf(r)).append(&quot;c&quot;).append(String.valueOf(c)).append(&quot; NUMERIC&quot;);\r\n            }\r\n        }\r\n        writer.append(&quot;\\n@ATTRIBUTE class {0,1,2,3,4,5,6,7,8,9}\\n\\n@DATA&quot;);\r\n        for (MnistMatrix i : dataset.dataset) {\r\n            writer.append(&quot;\\n&quot;);\r\n            for (int r = 0; r &lt; 28; r++) {\r\n                for (int c = 0; c &lt; 28; c++) {\r\n                    writer.append(String.valueOf(i.matrix[r][c])).append(&quot;,&quot;);\r\n                }\r\n            }\r\n            writer.append(String.valueOf(i.label));\r\n        }\r\n        writer.close();\r\n    }\r\n```\r\nThis loads the dataset into a Arff file that looks like this:\r\n```\r\n@RELATION MnistDataset\r\n\r\n@ATTRIBUTE r1c1 NUMERIC\r\n@ATTRIBUTE r1c2 NUMERIC\r\n@ATTRIBUTE r1c3 NUMERIC\r\n...\r\n@ATTRIBUTE r24c22 NUMERIC\r\n@ATTRIBUTE r24c23 NUMERIC\r\n@ATTRIBUTE r24c24 NUMERIC\r\n\r\n@ATTRIBUTE class {0,1,2,3,4,5,6,7,8,9}\r\n\r\n@DATA\r\n(Data goes here)\r\n```\r\nHowever after I have converted the dataset to a Arff format I cannot find how to train the AI on the dataset. I have looked for documentation however I cannot find one that explains what command to use / how to use the command.\r\nA link to some documentation will be appreciated however I am quite new to machine learning so I will not be able to understand some sources.","title":"How to train an Weka AI on a dataset through Java","body":"<p>I am currently coding an AI with the Weka API for java. I am using the MNIST handwriten digits dataset to train my AI on. The AI will train on images of handwritten digits then give you an output of if the digit is a 0, 1, 2, etc. Each &quot;Image&quot; is a 28x28 array with each position being a range of 0-255 to indicate a grayscale colour. I am using some code I wrote to convert the array into the ARFF file format:</p>\n<pre><code>public void createArffFromDataset(String pathName, MnistDataset dataset) throws IOException {\n        File file = new File(pathName);\n        file.delete();\n        file.createNewFile();\n        FileWriter writer = new FileWriter(pathName);\n        writer.append(&quot;@RELATION MnistDataset\\n&quot;);\n\n        for (int r = 1; r &lt;= 28; r++) {\n            for (int c = 1; c &lt;= 28; c++) {\n                writer.append(&quot;\\n@ATTRIBUTE r&quot;).append(String.valueOf(r)).append(&quot;c&quot;).append(String.valueOf(c)).append(&quot; NUMERIC&quot;);\n            }\n        }\n        writer.append(&quot;\\n@ATTRIBUTE class {0,1,2,3,4,5,6,7,8,9}\\n\\n@DATA&quot;);\n        for (MnistMatrix i : dataset.dataset) {\n            writer.append(&quot;\\n&quot;);\n            for (int r = 0; r &lt; 28; r++) {\n                for (int c = 0; c &lt; 28; c++) {\n                    writer.append(String.valueOf(i.matrix[r][c])).append(&quot;,&quot;);\n                }\n            }\n            writer.append(String.valueOf(i.label));\n        }\n        writer.close();\n    }\n</code></pre>\n<p>This loads the dataset into a Arff file that looks like this:</p>\n<pre><code>@RELATION MnistDataset\n\n@ATTRIBUTE r1c1 NUMERIC\n@ATTRIBUTE r1c2 NUMERIC\n@ATTRIBUTE r1c3 NUMERIC\n...\n@ATTRIBUTE r24c22 NUMERIC\n@ATTRIBUTE r24c23 NUMERIC\n@ATTRIBUTE r24c24 NUMERIC\n\n@ATTRIBUTE class {0,1,2,3,4,5,6,7,8,9}\n\n@DATA\n(Data goes here)\n</code></pre>\n<p>However after I have converted the dataset to a Arff format I cannot find how to train the AI on the dataset. I have looked for documentation however I cannot find one that explains what command to use / how to use the command.\nA link to some documentation will be appreciated however I am quite new to machine learning so I will not be able to understand some sources.</p>\n"},{"tags":["java","android","android-studio","arraylist","android-databinding"],"answers":[{"tags":[],"owner":{"account_id":16827991,"reputation":96,"user_id":12166749,"display_name":"salman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649628691,"creation_date":1649628691,"answer_id":71820940,"question_id":71820783,"body_markdown":"as I know in addOnSucessListener it works in background thread \r\nthe fun will return and finish the background thread I think if you want it change return fun to void and use out fun liveData and update it inside addOnSucessListener\r\n","title":"ArrayList in andrid does not return data while fetching data from firebase database","body":"<p>as I know in addOnSucessListener it works in background thread\nthe fun will return and finish the background thread I think if you want it change return fun to void and use out fun liveData and update it inside addOnSucessListener</p>\n"}],"owner":{"account_id":7826696,"reputation":1,"user_id":5918013,"accept_rate":75,"display_name":"Khokhar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1649628691,"creation_date":1649626820,"question_id":71820783,"body_markdown":"I am trying to get records from firebase database and return all the record within a array list but inside the for loop it will add records but when we check outside the loop it does not contain records. can anyone please help me i am new in android.Here is the code for fetching data..    \r\n\r\n    public class DataBaseManagement {\r\n    public static ArrayList&lt;Property&gt; getAllProperties(Context context, DatabaseReference dbProperty){\r\n        \r\n        ArrayList&lt;Property&gt; propertyList = new ArrayList&lt;Property&gt;();\r\n\r\n        dbProperty.get().addOnSuccessListener(new OnSuccessListener&lt;DataSnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(DataSnapshot dataSnapshot) {\r\n                if (dataSnapshot.exists()){\r\n                    Property tempProp;\r\n                    for (DataSnapshot aProp: dataSnapshot.getChildren())\r\n                    {\r\n                        tempProp = aProp.getValue(Property.class);\r\n                        propertyList.add(tempProp);\r\n                    }\r\n                    Toast.makeText(context, &quot;Total Properties : &quot; + propertyList.size(), Toast.LENGTH_SHORT).show(); // Here it will show the number of records\r\n                }\r\n                else {\r\n                    Toast.makeText(context, &quot;No record found&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n        Toast.makeText(context, &quot;Total Properties : &quot; + propertyList.size(), Toast.LENGTH_SHORT).show(); // here it will not show the number of records\r\n        return propertyList;\r\n    }\r\n}","title":"ArrayList in andrid does not return data while fetching data from firebase database","body":"<p>I am trying to get records from firebase database and return all the record within a array list but inside the for loop it will add records but when we check outside the loop it does not contain records. can anyone please help me i am new in android.Here is the code for fetching data..</p>\n<pre><code>public class DataBaseManagement {\npublic static ArrayList&lt;Property&gt; getAllProperties(Context context, DatabaseReference dbProperty){\n    \n    ArrayList&lt;Property&gt; propertyList = new ArrayList&lt;Property&gt;();\n\n    dbProperty.get().addOnSuccessListener(new OnSuccessListener&lt;DataSnapshot&gt;() {\n        @Override\n        public void onSuccess(DataSnapshot dataSnapshot) {\n            if (dataSnapshot.exists()){\n                Property tempProp;\n                for (DataSnapshot aProp: dataSnapshot.getChildren())\n                {\n                    tempProp = aProp.getValue(Property.class);\n                    propertyList.add(tempProp);\n                }\n                Toast.makeText(context, &quot;Total Properties : &quot; + propertyList.size(), Toast.LENGTH_SHORT).show(); // Here it will show the number of records\n            }\n            else {\n                Toast.makeText(context, &quot;No record found&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    });\n    Toast.makeText(context, &quot;Total Properties : &quot; + propertyList.size(), Toast.LENGTH_SHORT).show(); // here it will not show the number of records\n    return propertyList;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","swing","jlabel","layout-manager","gridbaglayout"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1649534206,"post_id":71811419,"comment_id":126901667,"body_markdown":"For better help sooner, [edit] to add a [mre].","body":"For better help sooner, <a href=\"https://stackoverflow.com/posts/71811419/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1649544051,"post_id":71811419,"comment_id":126903362,"body_markdown":"The label is using `c.weighty = 0.4;` but the `sesion` panel is using `c.weighty = 1;` which is going to cause issues, as you asking for 140% of the available space, something is going to have to give","body":"The label is using <code>c.weighty = 0.4;</code> but the <code>sesion</code> panel is using <code>c.weighty = 1;</code> which is going to cause issues, as you asking for 140% of the available space, something is going to have to give"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649627423,"creation_date":1649544597,"answer_id":71812500,"question_id":71811419,"body_markdown":"Lets look at the relationship between the label and the `sesion` panel...\r\n\r\n    JLabel label = new JLabel(&quot;TEXT&quot;);\r\n    label.setFont(customFont.deriveFont(70f));\r\n    c.weighty = 0.4;\r\n    c.insets = new Insets(20, 20, 70, 20);\r\n    c.anchor = GridBagConstraints.PAGE_END;\r\n    right.add(label, c);\r\n\r\n    c = new GridBagConstraints();\r\n    c.gridy = 1;\r\n    c.gridwidth = 1;\r\n    c.gridheight = 1;\r\n    c.weightx = 1;\r\n    c.weighty = 1;\r\n    c.fill = GridBagConstraints.BOTH;\r\n    c.insets = new Insets(0, 100, 150, 100);\r\n    right.add(sesion, c);\r\n\r\nSo, the label is using a `weighty` of `0.4` and the panel is using `weighty` of `1.0`, which is suggesting that you need 140% of the available space &#129320;\r\n\r\nSo, what you actually want to do, is balance the `weighty` value of both components, for example `weighty = 0.5`, for example...\r\n\r\n    JLabel label = new JLabel(&quot;TEXT&quot;);\r\n    label.setFont(customFont.deriveFont(70f));\r\n    c.weighty = 0.5;\r\n    c.insets = new Insets(20, 20, 70, 20);\r\n    c.anchor = GridBagConstraints.PAGE_END;\r\n    right.add(label, c);\r\n\r\n    c = new GridBagConstraints();\r\n    c.gridy = 1;\r\n    c.gridwidth = 1;\r\n    c.gridheight = 1;\r\n    c.weightx = 1;\r\n    c.weighty = 0.5;\r\n    c.fill = GridBagConstraints.BOTH;\r\n    c.insets = new Insets(0, 100, 150, 100);\r\n    right.add(sesion, c);\r\n\r\nSo, if we modify the existing code, removing the `insets`, for example...\r\n\r\n    JLabel label = new JLabel(&quot;TEXT&quot;);\r\n    c.weighty = 0.5;\r\n    c.anchor = GridBagConstraints.PAGE_END;\r\n    right.add(label, c);\r\n\r\n    JPanel sesion = new JPanel();\r\n    sesion.setBackground(new Color(174, 182, 112));\r\n\r\n    c = new GridBagConstraints();\r\n    c.gridy = 1;\r\n    c.weightx = 1;\r\n    c.weighty = 0.5;\r\n    c.fill = GridBagConstraints.BOTH;\r\n    right.add(sesion, c);\r\n\r\nWe can end up with a screen looking something more like...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CNkLZ.png","title":"Trouble using JLabel and JPanel","body":"<p>Lets look at the relationship between the label and the <code>sesion</code> panel...</p>\n<pre><code>JLabel label = new JLabel(&quot;TEXT&quot;);\nlabel.setFont(customFont.deriveFont(70f));\nc.weighty = 0.4;\nc.insets = new Insets(20, 20, 70, 20);\nc.anchor = GridBagConstraints.PAGE_END;\nright.add(label, c);\n\nc = new GridBagConstraints();\nc.gridy = 1;\nc.gridwidth = 1;\nc.gridheight = 1;\nc.weightx = 1;\nc.weighty = 1;\nc.fill = GridBagConstraints.BOTH;\nc.insets = new Insets(0, 100, 150, 100);\nright.add(sesion, c);\n</code></pre>\n<p>So, the label is using a <code>weighty</code> of <code>0.4</code> and the panel is using <code>weighty</code> of <code>1.0</code>, which is suggesting that you need 140% of the available space 🤨</p>\n<p>So, what you actually want to do, is balance the <code>weighty</code> value of both components, for example <code>weighty = 0.5</code>, for example...</p>\n<pre><code>JLabel label = new JLabel(&quot;TEXT&quot;);\nlabel.setFont(customFont.deriveFont(70f));\nc.weighty = 0.5;\nc.insets = new Insets(20, 20, 70, 20);\nc.anchor = GridBagConstraints.PAGE_END;\nright.add(label, c);\n\nc = new GridBagConstraints();\nc.gridy = 1;\nc.gridwidth = 1;\nc.gridheight = 1;\nc.weightx = 1;\nc.weighty = 0.5;\nc.fill = GridBagConstraints.BOTH;\nc.insets = new Insets(0, 100, 150, 100);\nright.add(sesion, c);\n</code></pre>\n<p>So, if we modify the existing code, removing the <code>insets</code>, for example...</p>\n<pre><code>JLabel label = new JLabel(&quot;TEXT&quot;);\nc.weighty = 0.5;\nc.anchor = GridBagConstraints.PAGE_END;\nright.add(label, c);\n\nJPanel sesion = new JPanel();\nsesion.setBackground(new Color(174, 182, 112));\n\nc = new GridBagConstraints();\nc.gridy = 1;\nc.weightx = 1;\nc.weighty = 0.5;\nc.fill = GridBagConstraints.BOTH;\nright.add(sesion, c);\n</code></pre>\n<p>We can end up with a screen looking something more like...</p>\n<p><a href=\"https://i.stack.imgur.com/CNkLZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CNkLZ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":24218990,"reputation":13,"user_id":18174435,"display_name":"Alexss_1902"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1649545345,"accepted_answer_id":71812500,"answer_count":1,"score":0,"last_activity_date":1649627423,"creation_date":1649533786,"question_id":71811419,"body_markdown":"Today is my first day using Swing in Java, and I don&#39;t understand why this is happening. The problem is that I&#39;m using GridBagLayout, with two columns, and then in the right panel I&#39;m using two rows, with the upper row being a JLabel. But when I try it, I see that the JLabel doesn&#39;t respect the grid size and proportions, and it&#39;s not 50/50. I know there are better options to do this, but the point is that I don&#39;t need 50/50, I need something like 30/70, but I think that the 50/50 example is better to see the problem.\r\n\r\nHere is my (messy) code:\r\n\r\n        JFrame ventana = new JFrame(&quot;Prueba&quot;);\r\n\t\tToolkit tools = Toolkit.getDefaultToolkit();\r\n\t\tventana.setLayout(new GridBagLayout());\r\n\t\t\r\n\t\tDimension dim = tools.getScreenSize();\r\n\t\t\r\n\t\tventana.setUndecorated(false);\r\n\t\tventana.setResizable(true);\r\n\t\tventana.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tventana.setSize(1641, 1027);\r\n\t\tventana.setVisible(true);\r\n\t\tventana.setLocation(dim.width/2 - ventana.getWidth()/2 , dim.height/2 - ventana.getHeight()/2);\r\n\t\t\r\n\t\tJPanel left = new JPanel();\r\n\t\tleft.setVisible(true);\r\n\t\tleft.setBackground(new Color(242, 205, 151));\r\n\t\t\r\n\t\tJPanel right = new JPanel(new GridBagLayout());\r\n\t\tGridBagConstraints c = new GridBagConstraints();\r\n\t\tright.setVisible(true);\r\n\t\tright.setBackground(new Color(245, 253, 198));\r\n\t\t\r\n\t\tJLabel label = new JLabel(&quot;TEXT&quot;);\r\n\t\tlabel.setFont(customFont.deriveFont(70f));\r\n\t\tc.weighty = 0.4;\r\n\t\tc.insets = new Insets(20, 20, 70, 20);\r\n\t\tc.anchor = GridBagConstraints.PAGE_END;\r\n\t\tright.add(label, c);\r\n\t\t\r\n\t\tJPanel sesion = new JPanel();\r\n\t\tsesion.setVisible(true);\r\n\t\tsesion.setBackground(new Color(174, 182, 112));\r\n\t\t\r\n\t\tc = new GridBagConstraints();\r\n\t\tc.gridy = 1;\r\n\t\tc.gridwidth = 1;\r\n\t\tc.gridheight = 1;\r\n\t\tc.weightx = 1;\r\n\t\tc.weighty = 1;\r\n\t\tc.fill = GridBagConstraints.BOTH;\r\n\t\tc.insets = new Insets(0, 100, 150, 100);\r\n\t\tright.add(sesion, c);\r\n\t\t\r\n\t\tc = new GridBagConstraints();\r\n\t\tc.gridx = 0;\r\n\t\tc.gridwidth = 1;\r\n\t\tc.weightx = 1;\r\n\t\tc.weighty = 1;\r\n\t\tc.fill = GridBagConstraints.BOTH;\r\n\t\tventana.add(left, c);\r\n\t\t\r\n\t\tc = new GridBagConstraints();\r\n\t\tc.gridx = 1;\r\n\t\tc.gridwidth = 1;\r\n\t\tc.weightx = 1;\r\n\t\tc.weighty = 1;\r\n\t\tc.fill = GridBagConstraints.BOTH;\r\n\t\tventana.add(right, c);\r\n\r\nAnd here is the result:\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/VVPfq.png&quot;&gt;","title":"Trouble using JLabel and JPanel","body":"<p>Today is my first day using Swing in Java, and I don't understand why this is happening. The problem is that I'm using GridBagLayout, with two columns, and then in the right panel I'm using two rows, with the upper row being a JLabel. But when I try it, I see that the JLabel doesn't respect the grid size and proportions, and it's not 50/50. I know there are better options to do this, but the point is that I don't need 50/50, I need something like 30/70, but I think that the 50/50 example is better to see the problem.</p>\n<p>Here is my (messy) code:</p>\n<pre><code>    JFrame ventana = new JFrame(&quot;Prueba&quot;);\n    Toolkit tools = Toolkit.getDefaultToolkit();\n    ventana.setLayout(new GridBagLayout());\n    \n    Dimension dim = tools.getScreenSize();\n    \n    ventana.setUndecorated(false);\n    ventana.setResizable(true);\n    ventana.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    ventana.setSize(1641, 1027);\n    ventana.setVisible(true);\n    ventana.setLocation(dim.width/2 - ventana.getWidth()/2 , dim.height/2 - ventana.getHeight()/2);\n    \n    JPanel left = new JPanel();\n    left.setVisible(true);\n    left.setBackground(new Color(242, 205, 151));\n    \n    JPanel right = new JPanel(new GridBagLayout());\n    GridBagConstraints c = new GridBagConstraints();\n    right.setVisible(true);\n    right.setBackground(new Color(245, 253, 198));\n    \n    JLabel label = new JLabel(&quot;TEXT&quot;);\n    label.setFont(customFont.deriveFont(70f));\n    c.weighty = 0.4;\n    c.insets = new Insets(20, 20, 70, 20);\n    c.anchor = GridBagConstraints.PAGE_END;\n    right.add(label, c);\n    \n    JPanel sesion = new JPanel();\n    sesion.setVisible(true);\n    sesion.setBackground(new Color(174, 182, 112));\n    \n    c = new GridBagConstraints();\n    c.gridy = 1;\n    c.gridwidth = 1;\n    c.gridheight = 1;\n    c.weightx = 1;\n    c.weighty = 1;\n    c.fill = GridBagConstraints.BOTH;\n    c.insets = new Insets(0, 100, 150, 100);\n    right.add(sesion, c);\n    \n    c = new GridBagConstraints();\n    c.gridx = 0;\n    c.gridwidth = 1;\n    c.weightx = 1;\n    c.weighty = 1;\n    c.fill = GridBagConstraints.BOTH;\n    ventana.add(left, c);\n    \n    c = new GridBagConstraints();\n    c.gridx = 1;\n    c.gridwidth = 1;\n    c.weightx = 1;\n    c.weighty = 1;\n    c.fill = GridBagConstraints.BOTH;\n    ventana.add(right, c);\n</code></pre>\n<p>And here is the result:</p>\n<img src=\"https://i.stack.imgur.com/VVPfq.png\">\n"},{"tags":["java","docker","debugging"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1649595142,"post_id":71816742,"comment_id":126910329,"body_markdown":"I’m not sure I understand what “debugger as a server” means. The app being debugged exposes a debug port and the debugger connects to that port.","body":"I’m not sure I understand what “debugger as a server” means. The app being debugged exposes a debug port and the debugger connects to that port."},{"owner":{"account_id":13863020,"reputation":137033,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1649596226,"post_id":71816742,"comment_id":126910563,"body_markdown":"Can you [edit] the question to include a [mcve] demonstrating what you&#39;re trying to accomplish?  You shouldn&#39;t need host networking except in some fairly unusual cases, even on native Linux.","body":"Can you <a href=\"https://stackoverflow.com/posts/71816742/edit\">edit</a> the question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating what you&#39;re trying to accomplish?  You shouldn&#39;t need host networking except in some fairly unusual cases, even on native Linux."},{"owner":{"account_id":2447182,"reputation":60,"user_id":2134216,"accept_rate":50,"display_name":"user2134216"},"score":0,"creation_date":1649627308,"post_id":71816742,"comment_id":126917580,"body_markdown":"Thanks for the comments. I added additional details to the original question. See the UPDATE section.","body":"Thanks for the comments. I added additional details to the original question. See the UPDATE section."}],"owner":{"account_id":2447182,"reputation":60,"user_id":2134216,"accept_rate":50,"display_name":"user2134216"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649626703,"creation_date":1649594876,"question_id":71816742,"body_markdown":"I want to debug a Java app which runs in a Docker container. \r\nI can achieve this when the Java app is the server and the debugger is the client.\r\nFor my use case it would be better if the roles are swapped i.e. \r\nthe java app is the client and debugger is the server. When I run them like this I have &quot;port already bound&quot; exception and the container with the java app doesn&#39;t start.\r\nThis happens because the debugger starts (as server) and it gets the port however when the docker container starts I guess it also tries to attach a listener to the same port because there is port forwarding/mapping in the way I start the container. Even though the wrapped Java app acts as a client and it doesn&#39;t need a listener on this port it is Docker that tries to register a listener on this port and then it fails to start. The Docker network mode I use is &quot;bridge&quot;. Probably I would not have this problem if I use &quot;host&quot; mode but this mode is not available on Mac (Linux only). I use Mac.\r\n\r\nIs it possible to achieve such set up on Mac i.e. debugger started as server and Java app in Docker container started as client?\r\n\r\nUPDATE:\r\n\r\nThe java app which is run inside a Docker container gets launched this way:\r\n\r\n`java -cp &quot;./classes:./lib/*&quot; -agentlib:jdwp=transport=dt_socket,server=n,suspend=n,address=*:8050 com.EntryPointClass`\r\n\r\nThe client/server behavior of the java app (in regards to debugging) is set by the &quot;server=n&quot; part in the agentlib options above.\r\n\r\nThe container itself is started this way:\r\n\r\n`docker run --name async_batch_job --network my_net -p 8050:8050 my_docker_image:latest`\r\n\r\nWhy I need the Java app to act as a client when debugging:\r\n\r\nI can have my set up as java (server) and debugger (client) and it works fine. This is the usual way of debugging java apps.\r\nHowever, in my scenarion this particular container gets launched as an async backend task. I can&#39;t attach a debugger to it\r\nin advance because the container doesn&#39;t exist yet. I would like to start the debugger as a server. It will start listening for debug sessions.\r\nOnce the container gets started it will connect to the debugger and then the execution can be stopped/debugged even if the breakpoint is the very first line of code in the Java app.\r\nI could achieve similar behavior if I set &quot;suspend=y&quot; in the agentlib options. The disadvantage though is that the containers execution is paused until a debugger attaches.\r\nWhen I want to debug this is great but when I simply want to run the app (no debugging) I don&#39;t want to be bothered with attaching a debugger just to allow the container to do its job.\r\nIf I swap the roles - java app is client, debugger is server then it will be more convenient. I can start a debugger in advance and it will attach automatically. If I don&#39;t want to \r\ndebug then no debugger is started and the java app still will be executed. It won&#39;t pause until a debugger is attached.\r\n","title":"How to debug Java app in Docker container when debugger runs as server on Mac","body":"<p>I want to debug a Java app which runs in a Docker container.\nI can achieve this when the Java app is the server and the debugger is the client.\nFor my use case it would be better if the roles are swapped i.e.\nthe java app is the client and debugger is the server. When I run them like this I have &quot;port already bound&quot; exception and the container with the java app doesn't start.\nThis happens because the debugger starts (as server) and it gets the port however when the docker container starts I guess it also tries to attach a listener to the same port because there is port forwarding/mapping in the way I start the container. Even though the wrapped Java app acts as a client and it doesn't need a listener on this port it is Docker that tries to register a listener on this port and then it fails to start. The Docker network mode I use is &quot;bridge&quot;. Probably I would not have this problem if I use &quot;host&quot; mode but this mode is not available on Mac (Linux only). I use Mac.</p>\n<p>Is it possible to achieve such set up on Mac i.e. debugger started as server and Java app in Docker container started as client?</p>\n<p>UPDATE:</p>\n<p>The java app which is run inside a Docker container gets launched this way:</p>\n<p><code>java -cp &quot;./classes:./lib/*&quot; -agentlib:jdwp=transport=dt_socket,server=n,suspend=n,address=*:8050 com.EntryPointClass</code></p>\n<p>The client/server behavior of the java app (in regards to debugging) is set by the &quot;server=n&quot; part in the agentlib options above.</p>\n<p>The container itself is started this way:</p>\n<p><code>docker run --name async_batch_job --network my_net -p 8050:8050 my_docker_image:latest</code></p>\n<p>Why I need the Java app to act as a client when debugging:</p>\n<p>I can have my set up as java (server) and debugger (client) and it works fine. This is the usual way of debugging java apps.\nHowever, in my scenarion this particular container gets launched as an async backend task. I can't attach a debugger to it\nin advance because the container doesn't exist yet. I would like to start the debugger as a server. It will start listening for debug sessions.\nOnce the container gets started it will connect to the debugger and then the execution can be stopped/debugged even if the breakpoint is the very first line of code in the Java app.\nI could achieve similar behavior if I set &quot;suspend=y&quot; in the agentlib options. The disadvantage though is that the containers execution is paused until a debugger attaches.\nWhen I want to debug this is great but when I simply want to run the app (no debugging) I don't want to be bothered with attaching a debugger just to allow the container to do its job.\nIf I swap the roles - java app is client, debugger is server then it will be more convenient. I can start a debugger in advance and it will attach automatically. If I don't want to\ndebug then no debugger is started and the java app still will be executed. It won't pause until a debugger is attached.</p>\n"},{"tags":["java","kotlin","concurrency","threadpool","kotlin-coroutines"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1649614204,"post_id":71819239,"comment_id":126914800,"body_markdown":"Since Kotlin is basically just Java, there should be an API call that does the same thing.  Have you tried searching the web?","body":"Since Kotlin is basically just Java, there should be an API call that does the same thing.  Have you tried searching the web?"},{"owner":{"account_id":15152392,"reputation":147,"user_id":10934377,"display_name":"Heiko Ribberink"},"score":0,"creation_date":1649618913,"post_id":71819239,"comment_id":126915850,"body_markdown":"First things first: throw it into an IDE and autoformat it. Your Java code will immediately be a lot less ugly. After that, you might find some inspiration in [this article](https://www.baeldung.com/kotlin/threads-coroutines) that I found after doing a quick search online, as @markspace suggested.","body":"First things first: throw it into an IDE and autoformat it. Your Java code will immediately be a lot less ugly. After that, you might find some inspiration in <a href=\"https://www.baeldung.com/kotlin/threads-coroutines\" rel=\"nofollow noreferrer\">this article</a> that I found after doing a quick search online, as @markspace suggested."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1649623148,"post_id":71819239,"comment_id":126916831,"body_markdown":"What is `putLine`?","body":"What is <code>putLine</code>?"}],"answers":[{"tags":[],"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649625946,"creation_date":1649625036,"answer_id":71820597,"question_id":71819239,"body_markdown":"I&#39;ll make some assumptions here:\r\n\r\n1. `putLine()` is a CPU intensive and not IO operation. I assume this, because it is executed using threads number of 2 * CPU cores, which is usually used for CPU intensive tasks.\r\n2. We just need to execute `putLine()` for each item in `out`. From the above code it is not clear if e.g. `yCt` is initially `0`.\r\n3. `out` isn&#39;t huge like e.g. millions of items.\r\n4. You don&#39;t look for 1:1 the same code in Kotlin, but rather its equivalent.\r\n\r\nThen the solution is really very easy:\r\n\r\n```kotlin\r\ncoroutineScope {\r\n    out.forEachIndexed { index, item -&gt;\r\n        launch(Dispatchers.Default) { putLine(index, item) }\r\n    }\r\n}\r\n```\r\n\r\nFew words of explanation:\r\n\r\n- `Dispatchers.Default` coroutine dispatcher is used specifically for CPU calculations and its number of threads depends on the number of CPU cores. We don&#39;t need to create our own threads, because coroutines provide a suitable thread pool.\r\n- We don&#39;t handle a queue of tasks manually, because coroutines are lightweight and we can instead just schedule a separate coroutine per each item - they will be queued automatically.\r\n- `coroutineScope()` waits for its children, so we don&#39;t need to also manually wait for all asynchronous tasks. Any code put below `coroutineScope()` will be executed when all tasks finish.\r\n\r\nThere are some differences in behavior between the Java/threads and Kotlin/coroutines code:\r\n\r\n- `Dispatchers.Default` by default has the number of threads = CPU cores, not 2 * CPU cores.\r\n- In coroutines solution, if any task fail, the whole operation throws an exception. In the original code, errors are ignored and the application continues with inconsistent state.\r\n- In coroutines solution the thread pool is shared with other components of the application. This could be a desired behavior or not.","title":"How to convert Java Threads to Kotlin coroutines?","body":"<p>I'll make some assumptions here:</p>\n<ol>\n<li><code>putLine()</code> is a CPU intensive and not IO operation. I assume this, because it is executed using threads number of 2 * CPU cores, which is usually used for CPU intensive tasks.</li>\n<li>We just need to execute <code>putLine()</code> for each item in <code>out</code>. From the above code it is not clear if e.g. <code>yCt</code> is initially <code>0</code>.</li>\n<li><code>out</code> isn't huge like e.g. millions of items.</li>\n<li>You don't look for 1:1 the same code in Kotlin, but rather its equivalent.</li>\n</ol>\n<p>Then the solution is really very easy:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>coroutineScope {\n    out.forEachIndexed { index, item -&gt;\n        launch(Dispatchers.Default) { putLine(index, item) }\n    }\n}\n</code></pre>\n<p>Few words of explanation:</p>\n<ul>\n<li><code>Dispatchers.Default</code> coroutine dispatcher is used specifically for CPU calculations and its number of threads depends on the number of CPU cores. We don't need to create our own threads, because coroutines provide a suitable thread pool.</li>\n<li>We don't handle a queue of tasks manually, because coroutines are lightweight and we can instead just schedule a separate coroutine per each item - they will be queued automatically.</li>\n<li><code>coroutineScope()</code> waits for its children, so we don't need to also manually wait for all asynchronous tasks. Any code put below <code>coroutineScope()</code> will be executed when all tasks finish.</li>\n</ul>\n<p>There are some differences in behavior between the Java/threads and Kotlin/coroutines code:</p>\n<ul>\n<li><code>Dispatchers.Default</code> by default has the number of threads = CPU cores, not 2 * CPU cores.</li>\n<li>In coroutines solution, if any task fail, the whole operation throws an exception. In the original code, errors are ignored and the application continues with inconsistent state.</li>\n<li>In coroutines solution the thread pool is shared with other components of the application. This could be a desired behavior or not.</li>\n</ul>\n"}],"owner":{"account_id":21107580,"reputation":25,"user_id":15516235,"display_name":"Klims"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":730,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649625946,"creation_date":1649613719,"question_id":71819239,"body_markdown":"I have this &quot;ugly&quot; Java code I need to convert to Kotlin idiomatic coroutines and I cant quite figure out how.\r\n```\r\nThread[] pool=new Thread[2*Runtime.getRuntime().availableProcessors()];\r\n        for (int i=0;i&lt;pool.length;i++)\r\n            pool[i]=new Thread(){\r\n                public void run() {\r\n                    int y; while((y=yCt.getAndIncrement())&lt;out.length) putLine(y,out[y]);\r\n                }\r\n            };\r\n        for (Thread t:pool) t.start();\r\n        for (Thread t:pool) t.join();\r\n```\r\nI think it is possible to implement using runBlocking but how do I deal with availableProcessors count?","title":"How to convert Java Threads to Kotlin coroutines?","body":"<p>I have this &quot;ugly&quot; Java code I need to convert to Kotlin idiomatic coroutines and I cant quite figure out how.</p>\n<pre><code>Thread[] pool=new Thread[2*Runtime.getRuntime().availableProcessors()];\n        for (int i=0;i&lt;pool.length;i++)\n            pool[i]=new Thread(){\n                public void run() {\n                    int y; while((y=yCt.getAndIncrement())&lt;out.length) putLine(y,out[y]);\n                }\n            };\n        for (Thread t:pool) t.start();\n        for (Thread t:pool) t.join();\n</code></pre>\n<p>I think it is possible to implement using runBlocking but how do I deal with availableProcessors count?</p>\n"},{"tags":["java","amazon-web-services","amazon-ec2","apache-nifi"],"answers":[{"tags":[],"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649625395,"creation_date":1649625395,"answer_id":71820644,"question_id":71820265,"body_markdown":"The correct path for `JAVA_HOME` should be `/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.312.b07-1.amzn2.0.2.x86_64/jre/bin/java`\r\n\r\n```\r\nexport JAVA_HOME=&quot;/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.312.b07-1.amzn2.0.2.x86_64/jre/bin/java&quot;\r\n```\r\n\r\nBut probably you don&#39;t need to export `JAVA_HOME` anyway. You should have a link in `/usr/bin/`. You can check this by doing the following:\r\n\r\n```\r\n[ssm-user@ip-172-31-85-243 bin]$ which java\r\n/usr/bin/java\r\n```\r\n\r\nBy default Apache Nifi is using the executable `/usr/bin/java`, so you don&#39;t need to export `JAVA_HOME`.","title":"JAVA_HOME file is not working and I couldn&#39;t update Java to 1.8 on Amazon EC2","body":"<p>The correct path for <code>JAVA_HOME</code> should be <code>/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.312.b07-1.amzn2.0.2.x86_64/jre/bin/java</code></p>\n<pre><code>export JAVA_HOME=&quot;/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.312.b07-1.amzn2.0.2.x86_64/jre/bin/java&quot;\n</code></pre>\n<p>But probably you don't need to export <code>JAVA_HOME</code> anyway. You should have a link in <code>/usr/bin/</code>. You can check this by doing the following:</p>\n<pre><code>[ssm-user@ip-172-31-85-243 bin]$ which java\n/usr/bin/java\n</code></pre>\n<p>By default Apache Nifi is using the executable <code>/usr/bin/java</code>, so you don't need to export <code>JAVA_HOME</code>.</p>\n"}],"owner":{"account_id":18989440,"reputation":99,"user_id":13859042,"display_name":"bbgghh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":661,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649625395,"creation_date":1649622041,"question_id":71820265,"body_markdown":"I have an Amazon EC2 t3.medium instance on Linux. \r\nI am trying to run Apache ni-fi on this instance and I need java. \r\nWhen I check the JAVA_HOME default:\r\n\r\n    $ echo$JAVA_HOME\r\n    \r\n     -bash: echo/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.261-2.6.22.2.amzn2.0.2.x86_64: No such file or directory\r\n\r\n\r\nThen, I downloaded java 1.8 by the following comamnds on terminal:\r\n\r\n    $ sudo yum install java-1.8.0-openjdk.x86_64\r\n    \r\n    $ sudo update-alternatives --config java\r\n    \r\n    (I selected 2 for java 1.8)\r\n\r\nTo find the location of my java file, I run them:\r\n\r\n    $ file $(which java)\r\n    /usr/bin/java: symbolic link to `/etc/alternatives/java&#39;\r\n    $ file /etc/alternatives/java\r\n    /etc/alternatives/java: symbolic link to `/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.312.b07-1.amzn2.0.2.x86_64/jre/bin/java&#39;\r\n    $ file /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.312.b07-1.amzn2.0.2.x86_64/jre/bin/java\r\n    \r\n    /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.312.b07-1.amzn2.0.2.x86_64/jre/bin/java: ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 3.2.0, BuildID[sha1]=1b1c0fd721197a04f9bfc9b0891f1bd83a5f49d5, not stripped\r\n\r\nI guess it is working properly. Then, I change JAVA_HOME from 1.7 to 1.8 by writing these commands on terminal for both ec2-user and root:\r\n\r\n    [root@ip-178-32-11-247 ~]# export JAVA_HOME=&quot;/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.312.b07-1.amzn2.0.2.x86_64&quot;\r\n    [root@ip-178-32-11-247 ~]# PATH=$JAVA_HOME/bin:$PATH\r\n\r\nIn advance, I have setup nifi on root. And in nifi-1.16.0 directory, I am trying to run this command:\r\n\r\n    [root@ip-178-32-11-247 nifi-1.16.0]# bin/nifi.sh start\r\n\r\n**The Error message is:**\r\n\r\n    Java home: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.312.b07-1.amzn2.0.2.x86_64\r\n    NiFi home: /root/nifi-1.16.0\r\n    \r\n    Bootstrap Config File: /root/nifi-1.16.0/conf/bootstrap.conf\r\n    \r\n    bin/nifi.sh: line 401: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.312.b07-1.amzn2.0.2.x86_64/bin/java: No such file or directory\r\n\r\n\r\nI thought that java is working but JAVA_HOME couldn&#39;t setup properly but I couldn&#39;t solve that. What should I do at that point to solve the problem and  start nifi?\r\n\r\nI will be appreciated very much if you can help, I coludn&#39;t start my term project because of this error :(\r\n\r\n\r\n\r\n\r\n\r\n","title":"JAVA_HOME file is not working and I couldn&#39;t update Java to 1.8 on Amazon EC2","body":"<p>I have an Amazon EC2 t3.medium instance on Linux.\nI am trying to run Apache ni-fi on this instance and I need java.\nWhen I check the JAVA_HOME default:</p>\n<pre><code>$ echo$JAVA_HOME\n\n -bash: echo/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.261-2.6.22.2.amzn2.0.2.x86_64: No such file or directory\n</code></pre>\n<p>Then, I downloaded java 1.8 by the following comamnds on terminal:</p>\n<pre><code>$ sudo yum install java-1.8.0-openjdk.x86_64\n\n$ sudo update-alternatives --config java\n\n(I selected 2 for java 1.8)\n</code></pre>\n<p>To find the location of my java file, I run them:</p>\n<pre><code>$ file $(which java)\n/usr/bin/java: symbolic link to `/etc/alternatives/java'\n$ file /etc/alternatives/java\n/etc/alternatives/java: symbolic link to `/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.312.b07-1.amzn2.0.2.x86_64/jre/bin/java'\n$ file /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.312.b07-1.amzn2.0.2.x86_64/jre/bin/java\n\n/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.312.b07-1.amzn2.0.2.x86_64/jre/bin/java: ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 3.2.0, BuildID[sha1]=1b1c0fd721197a04f9bfc9b0891f1bd83a5f49d5, not stripped\n</code></pre>\n<p>I guess it is working properly. Then, I change JAVA_HOME from 1.7 to 1.8 by writing these commands on terminal for both ec2-user and root:</p>\n<pre><code>[root@ip-178-32-11-247 ~]# export JAVA_HOME=&quot;/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.312.b07-1.amzn2.0.2.x86_64&quot;\n[root@ip-178-32-11-247 ~]# PATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n<p>In advance, I have setup nifi on root. And in nifi-1.16.0 directory, I am trying to run this command:</p>\n<pre><code>[root@ip-178-32-11-247 nifi-1.16.0]# bin/nifi.sh start\n</code></pre>\n<p><strong>The Error message is:</strong></p>\n<pre><code>Java home: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.312.b07-1.amzn2.0.2.x86_64\nNiFi home: /root/nifi-1.16.0\n\nBootstrap Config File: /root/nifi-1.16.0/conf/bootstrap.conf\n\nbin/nifi.sh: line 401: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.312.b07-1.amzn2.0.2.x86_64/bin/java: No such file or directory\n</code></pre>\n<p>I thought that java is working but JAVA_HOME couldn't setup properly but I couldn't solve that. What should I do at that point to solve the problem and  start nifi?</p>\n<p>I will be appreciated very much if you can help, I coludn't start my term project because of this error :(</p>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":1,"creation_date":1649555765,"post_id":71813175,"comment_id":126904653,"body_markdown":"change the name of your table in the dataBase to tm_media","body":"change the name of your table in the dataBase to tm_media"},{"owner":{"account_id":13033096,"reputation":775,"user_id":9418902,"display_name":"Csisanyi"},"score":1,"creation_date":1649557238,"post_id":71813175,"comment_id":126904759,"body_markdown":"I agree with @OussamaZAGHDOUD, if it is possible to change your table name in the database.\nHibernate DB table naming strategy automatically converst camelCase to snake_case","body":"I agree with @OussamaZAGHDOUD, if it is possible to change your table name in the database. Hibernate DB table naming strategy automatically converst camelCase to snake_case"}],"owner":{"account_id":20418484,"reputation":145,"user_id":14980057,"display_name":"Saff.gh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649625252,"creation_date":1649555008,"question_id":71813175,"body_markdown":"I have a Table `tmMedia` that I&#39;m trying to match to an Entity.\r\nBut instead of matching the existing table, it creates a new Table `tm_media`.\r\n\r\n\r\nHere&#39;s my Class Image:\r\n\r\n```java\r\n@Entity\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\n@Table(name = &quot;tmMedia&quot;)\r\npublic class Image {\r\n    @Id\r\n    private String fileName;\r\n    //other fields that match the columns of the table\r\n```\r\n\r\nHere&#39;s my Controller:\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(path = &quot;/api/v1/images&quot;)\r\npublic class ImageController {\r\n\r\n    @Autowired\r\n    private final ImageService imageService;\r\n\r\n    public ImageController(ImageService imageService) {\r\n        this.imageService = imageService;\r\n    }\r\n\r\n    @GetMapping\r\n    public List&lt;Image&gt; getStudents() {\r\n        return imageService.getImages();\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s my Service:\r\n\r\n```java\r\n@Service\r\npublic class ImageService {\r\n\r\n    @Autowired\r\n    private final ImageRepository imageRepository;\r\n\r\n    public ImageService(ImageRepository imageRepository) {\r\n        this.imageRepository = imageRepository;\r\n    }\r\n\r\n    @GetMapping\r\n    public List&lt;Image&gt; getImages() {\r\n        return imageRepository.findAll();\r\n    }\r\n}\r\n```\r\n\r\nand the repository:\r\n\r\n```java\r\n@Repository\r\npublic interface ImageRepository extends JpaRepository&lt;Image, String&gt; {\r\n}\r\n```\r\nEDIT: Oussama ZAGHDOUD comment solved the problem.\r\n&gt; change the name of your table in the dataBase to tm_media","title":"Map an existing database table to a JPA Entity [SOLVED]","body":"<p>I have a Table <code>tmMedia</code> that I'm trying to match to an Entity.\nBut instead of matching the existing table, it creates a new Table <code>tm_media</code>.</p>\n<p>Here's my Class Image:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Table(name = &quot;tmMedia&quot;)\npublic class Image {\n    @Id\n    private String fileName;\n    //other fields that match the columns of the table\n</code></pre>\n<p>Here's my Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(path = &quot;/api/v1/images&quot;)\npublic class ImageController {\n\n    @Autowired\n    private final ImageService imageService;\n\n    public ImageController(ImageService imageService) {\n        this.imageService = imageService;\n    }\n\n    @GetMapping\n    public List&lt;Image&gt; getStudents() {\n        return imageService.getImages();\n    }\n}\n</code></pre>\n<p>Here's my Service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class ImageService {\n\n    @Autowired\n    private final ImageRepository imageRepository;\n\n    public ImageService(ImageRepository imageRepository) {\n        this.imageRepository = imageRepository;\n    }\n\n    @GetMapping\n    public List&lt;Image&gt; getImages() {\n        return imageRepository.findAll();\n    }\n}\n</code></pre>\n<p>and the repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface ImageRepository extends JpaRepository&lt;Image, String&gt; {\n}\n</code></pre>\n<p>EDIT: Oussama ZAGHDOUD comment solved the problem.</p>\n<blockquote>\n<p>change the name of your table in the dataBase to tm_media</p>\n</blockquote>\n"},{"tags":["java","servlets","jersey","jooby","killbill"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1649351393,"post_id":71786134,"comment_id":126859739,"body_markdown":"Well yeah, if you know the gateway is going to send you form-urlencoded data, why are trying to use JSON? Have you tried using `@FormParam` like the warning suggests?","body":"Well yeah, if you know the gateway is going to send you form-urlencoded data, why are trying to use JSON? Have you tried using <code>@FormParam</code> like the warning suggests?"},{"owner":{"account_id":3815581,"reputation":760,"user_id":3165035,"accept_rate":73,"display_name":"Muhamad Iqbal"},"score":0,"creation_date":1649390148,"post_id":71786134,"comment_id":126868213,"body_markdown":"@PaulSamsotha i did try using `@FormParam` from Jersey, but the error (and the warning) still persisted","body":"@PaulSamsotha i did try using <code>@FormParam</code> from Jersey, but the error (and the warning) still persisted"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1649406513,"post_id":71786134,"comment_id":126872101,"body_markdown":"Yea so I&#39;ve never used Jooby, but after looking at the documentation and starter projects, it doesn&#39;t use Jersey and the annotations they use are not JAX-RS annotations (`javax.rs.ws`), they are they&#39;re own annotations. See [the starter projects](https://github.com/search?q=topic%3Astarter+org%3Ajooby-project&amp;type=Repositories)","body":"Yea so I&#39;ve never used Jooby, but after looking at the documentation and starter projects, it doesn&#39;t use Jersey and the annotations they use are not JAX-RS annotations (<code>javax.rs.ws</code>), they are they&#39;re own annotations. See <a href=\"https://github.com/search?q=topic%3Astarter+org%3Ajooby-project&amp;type=Repositories\" rel=\"nofollow noreferrer\">the starter projects</a>"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1649406721,"post_id":71786134,"comment_id":126872176,"body_markdown":"So I&#39;m not really sure how it&#39;s supposed to work. I would just look at their starter projects and see how your differs.","body":"So I&#39;m not really sure how it&#39;s supposed to work. I would just look at their starter projects and see how your differs."}],"owner":{"account_id":3815581,"reputation":760,"user_id":3165035,"accept_rate":73,"display_name":"Muhamad Iqbal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649624994,"creation_date":1649350447,"question_id":71786134,"body_markdown":"I&#39;m currently working on a plugin for Killbill, using Jooby for developing the servlet. The servlet will receive a notification from payment gateway and process the update into internal Killbill system\r\n\r\n```{java}\r\n@Singleton\r\npublic class NotificationServlet {\r\n\r\n    private final InvoiceApi invoiceApi;\r\n    private static final Logger logger = LoggerFactory.getLogger(NotificationServlet .class);\r\n\r\n    @Inject\r\n    public NotificationServlet() {\r\n        // initiate InvoiceApi\r\n        this.invoiceApi = new InvoiceApi(new KillBillHttpClient()); \r\n    }\r\n\r\n    @POST\r\n    @Path(&quot;/notify&quot;)\r\n    public Result notify(@Body String body) throws KillBillClientException {\r\n        logger.info(body);\r\n        JSONObject dataJson = new JSONObject(body);\r\n        if (dataJson.getString(&quot;status_code&quot;).equalsIgnoreCase(&quot;1&quot;)) {\r\n            String referenceId = dataJson.getString(&quot;reference_id&quot;);\r\n            String[] referenceIdArray = referenceId.split(&quot;\\\\|&quot;);\r\n            String apiKey = referenceIdArray[0];\r\n            String apiSecret = referenceIdArray[1];\r\n            String accountId = referenceIdArray[2];\r\n            String invoiceId = referenceIdArray[3];\r\n            String amount = referenceIdArray[4];\r\n\r\n            InvoicePayment invoicePayment = new InvoicePayment();\r\n            invoicePayment.setPurchasedAmount(new BigDecimal(amount));\r\n            invoicePayment.setAccountId(UUID.fromString(accountId));\r\n            invoicePayment.setTargetInvoiceId(UUID.fromString(invoiceId));\r\n\r\n            RequestOptions requestOptions = RequestOptions.builder()\r\n                                                          .withCreatedBy(&quot;createdBy&quot;)\r\n                                                          .withReason(&quot;reason&quot;)\r\n                                                          .withComment(&quot;comment&quot;)\r\n                                                          .withQueryParams(ArrayListMultimap.create())\r\n                                                          .withTenantApiKey(apiKey)\r\n                                                          .withTenantApiSecret(apiSecret)\r\n                                                          .build();\r\n\r\n            InvoicePayment result = invoiceApi.createInstantPayment(UUID.fromString(invoiceId),\r\n                                                                    invoicePayment,\r\n                                                                    true,\r\n                                                                    null,\r\n                                                                    null,\r\n                                                                    requestOptions);\r\n        }\r\n\r\n        return Results.with(&quot;&quot;, Status.OK)\r\n                      .type(MediaType.json);\r\n    }\r\n```\r\n\r\nWhen I tested this servlet using Postman, the servlet works fine. But when I tested this with the payment gateway, I got Jersey&#39;s ContainerException \r\n\r\n```\r\n2022-04-07T16:08:07,423+0000 lvl=&#39;ERROR&#39;, log=&#39;[default]&#39;, th=&#39;catalina-exec-10&#39;, xff=&#39;&#39;, rId=&#39;&#39;, tok=&#39;&#39;, aRId=&#39;&#39;, tRId=&#39;&#39;, Servlet.service() for servlet [default] in context with path [] threw exception [org.glassfish.jersey.server.ContainerException: java.io.IOException: Stream closed] with root cause\r\njava.io.IOException: Stream closed\r\n        at org.apache.catalina.connector.InputBuffer.read(InputBuffer.java:367)\r\n        at org.apache.catalina.connector.CoyoteInputStream.read(CoyoteInputStream.java:152)\r\n        at com.google.common.io.ByteStreams.copy(ByteStreams.java:109)\r\n        at org.killbill.billing.jaxrs.resources.PluginResource.createInputStream(PluginResource.java:247)\r\n        at org.killbill.billing.jaxrs.resources.PluginResource.serviceViaOSGIPlugin(PluginResource.java:185)\r\n        at org.killbill.billing.jaxrs.resources.PluginResource.doFormPOST(PluginResource.java:140)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\r\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:124)\r\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:167)\r\n        at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:176)\r\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:79)\r\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:475)\r\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:397)\r\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\r\n        at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:255)\r\n        at org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\r\n        at org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\r\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:244)\r\n        at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\r\n        at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\r\n        at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:680)\r\n        at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394)\r\n        at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346)\r\n        at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:366)\r\n        at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:319)\r\n        at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205)\r\n        at com.google.inject.servlet.ServletDefinition.doServiceImpl(ServletDefinition.java:290)\r\n        at com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:280)\r\n        at com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:184)\r\n        at com.google.inject.servlet.ManagedServletPipeline.service(ManagedServletPipeline.java:89)\r\n        at org.killbill.billing.server.security.TenantFilter.handleAuthenticationError(TenantFilter.java:120)\r\n        at org.killbill.billing.server.security.TenantFilter.doFilter(TenantFilter.java:89)\r\n        at org.killbill.billing.server.filters.ResponseCorsFilter.doFilter(ResponseCorsFilter.java:75)\r\n        at ch.qos.logback.classic.helpers.MDCInsertingServletFilter.doFilter(MDCInsertingServletFilter.java:49)\r\n        at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:121)\r\n        at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:133)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        at org.apache.shiro.guice.web.SimpleFilterChain.doFilter(SimpleFilterChain.java:44)\r\n        at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108)\r\n        at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137)\r\n        at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)\r\n        at org.apache.shiro.guice.web.SimpleFilterChain.doFilter(SimpleFilterChain.java:41)\r\n        at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108)\r\n        at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137)\r\n        at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)\r\n        at org.apache.shiro.guice.web.SimpleFilterChain.doFilter(SimpleFilterChain.java:41)\r\n        at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449)\r\n        at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365)\r\n        at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)\r\n        at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)\r\n        at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383)\r\n        at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362)\r\n        at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        at com.codahale.metrics.servlet.AbstractInstrumentedFilter.doFilter(AbstractInstrumentedFilter.java:111)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:544)\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n        at org.apache.catalina.valves.rewrite.RewriteValve.invoke(RewriteValve.java:305)\r\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\r\n        at org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:747)\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:616)\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:818)\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1626)\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\nI&#39;m suspecting it might be because different type of body being sent, since I tested with Postman using raw data in JSON format meanwhile the gateway is sending x-www-form-urlencoded. I noticed this since there&#39;s a warning before this error appeared\r\n\r\n```\r\n2022-04-07T16:08:01,477+0000 lvl=&#39;WARN&#39;, log=&#39;WebComponent&#39;, th=&#39;catalina-exec-9&#39;, xff=&#39;&#39;, rId=&#39;&#39;, tok=&#39;&#39;, aRId=&#39;&#39;, tRId=&#39;&#39;, \r\nA servlet request to the URI http://path/to/my/notify-servlet contains form parameters in \r\nthe request body but the request body has been consumed by the servlet or a servlet filter \r\naccessing the request parameters. Only resource methods using @FormParam will work as \r\nexpected. Resource methods consuming the request body by other means will not work as expected.\r\n```\r\n\r\nI&#39;ve tried adjusting the method according to [Jooby&#39;s docs on form submission][1], but the issue still persists. So is the issue still in Jooby or it&#39;s in Jersey?\r\n\r\n\r\n  [1]: https://jooby.io/v1/doc/#request-form-submit","title":"Java: Got Jersey&#39;s ContainerException when receiving formdata, but fine when received raw JSON data","body":"<p>I'm currently working on a plugin for Killbill, using Jooby for developing the servlet. The servlet will receive a notification from payment gateway and process the update into internal Killbill system</p>\n<pre><code>@Singleton\npublic class NotificationServlet {\n\n    private final InvoiceApi invoiceApi;\n    private static final Logger logger = LoggerFactory.getLogger(NotificationServlet .class);\n\n    @Inject\n    public NotificationServlet() {\n        // initiate InvoiceApi\n        this.invoiceApi = new InvoiceApi(new KillBillHttpClient()); \n    }\n\n    @POST\n    @Path(&quot;/notify&quot;)\n    public Result notify(@Body String body) throws KillBillClientException {\n        logger.info(body);\n        JSONObject dataJson = new JSONObject(body);\n        if (dataJson.getString(&quot;status_code&quot;).equalsIgnoreCase(&quot;1&quot;)) {\n            String referenceId = dataJson.getString(&quot;reference_id&quot;);\n            String[] referenceIdArray = referenceId.split(&quot;\\\\|&quot;);\n            String apiKey = referenceIdArray[0];\n            String apiSecret = referenceIdArray[1];\n            String accountId = referenceIdArray[2];\n            String invoiceId = referenceIdArray[3];\n            String amount = referenceIdArray[4];\n\n            InvoicePayment invoicePayment = new InvoicePayment();\n            invoicePayment.setPurchasedAmount(new BigDecimal(amount));\n            invoicePayment.setAccountId(UUID.fromString(accountId));\n            invoicePayment.setTargetInvoiceId(UUID.fromString(invoiceId));\n\n            RequestOptions requestOptions = RequestOptions.builder()\n                                                          .withCreatedBy(&quot;createdBy&quot;)\n                                                          .withReason(&quot;reason&quot;)\n                                                          .withComment(&quot;comment&quot;)\n                                                          .withQueryParams(ArrayListMultimap.create())\n                                                          .withTenantApiKey(apiKey)\n                                                          .withTenantApiSecret(apiSecret)\n                                                          .build();\n\n            InvoicePayment result = invoiceApi.createInstantPayment(UUID.fromString(invoiceId),\n                                                                    invoicePayment,\n                                                                    true,\n                                                                    null,\n                                                                    null,\n                                                                    requestOptions);\n        }\n\n        return Results.with(&quot;&quot;, Status.OK)\n                      .type(MediaType.json);\n    }\n</code></pre>\n<p>When I tested this servlet using Postman, the servlet works fine. But when I tested this with the payment gateway, I got Jersey's ContainerException</p>\n<pre><code>2022-04-07T16:08:07,423+0000 lvl='ERROR', log='[default]', th='catalina-exec-10', xff='', rId='', tok='', aRId='', tRId='', Servlet.service() for servlet [default] in context with path [] threw exception [org.glassfish.jersey.server.ContainerException: java.io.IOException: Stream closed] with root cause\njava.io.IOException: Stream closed\n        at org.apache.catalina.connector.InputBuffer.read(InputBuffer.java:367)\n        at org.apache.catalina.connector.CoyoteInputStream.read(CoyoteInputStream.java:152)\n        at com.google.common.io.ByteStreams.copy(ByteStreams.java:109)\n        at org.killbill.billing.jaxrs.resources.PluginResource.createInputStream(PluginResource.java:247)\n        at org.killbill.billing.jaxrs.resources.PluginResource.serviceViaOSGIPlugin(PluginResource.java:185)\n        at org.killbill.billing.jaxrs.resources.PluginResource.doFormPOST(PluginResource.java:140)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:124)\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:167)\n        at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:176)\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:79)\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:475)\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:397)\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\n        at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:255)\n        at org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\n        at org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:244)\n        at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\n        at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\n        at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:680)\n        at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394)\n        at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346)\n        at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:366)\n        at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:319)\n        at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205)\n        at com.google.inject.servlet.ServletDefinition.doServiceImpl(ServletDefinition.java:290)\n        at com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:280)\n        at com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:184)\n        at com.google.inject.servlet.ManagedServletPipeline.service(ManagedServletPipeline.java:89)\n        at org.killbill.billing.server.security.TenantFilter.handleAuthenticationError(TenantFilter.java:120)\n        at org.killbill.billing.server.security.TenantFilter.doFilter(TenantFilter.java:89)\n        at org.killbill.billing.server.filters.ResponseCorsFilter.doFilter(ResponseCorsFilter.java:75)\n        at ch.qos.logback.classic.helpers.MDCInsertingServletFilter.doFilter(MDCInsertingServletFilter.java:49)\n        at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:121)\n        at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:133)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.shiro.guice.web.SimpleFilterChain.doFilter(SimpleFilterChain.java:44)\n        at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108)\n        at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137)\n        at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)\n        at org.apache.shiro.guice.web.SimpleFilterChain.doFilter(SimpleFilterChain.java:41)\n        at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108)\n        at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137)\n        at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)\n        at org.apache.shiro.guice.web.SimpleFilterChain.doFilter(SimpleFilterChain.java:41)\n        at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449)\n        at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365)\n        at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)\n        at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)\n        at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383)\n        at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362)\n        at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at com.codahale.metrics.servlet.AbstractInstrumentedFilter.doFilter(AbstractInstrumentedFilter.java:111)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:544)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n        at org.apache.catalina.valves.rewrite.RewriteValve.invoke(RewriteValve.java:305)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\n        at org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:747)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:616)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:818)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1626)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>I'm suspecting it might be because different type of body being sent, since I tested with Postman using raw data in JSON format meanwhile the gateway is sending x-www-form-urlencoded. I noticed this since there's a warning before this error appeared</p>\n<pre><code>2022-04-07T16:08:01,477+0000 lvl='WARN', log='WebComponent', th='catalina-exec-9', xff='', rId='', tok='', aRId='', tRId='', \nA servlet request to the URI http://path/to/my/notify-servlet contains form parameters in \nthe request body but the request body has been consumed by the servlet or a servlet filter \naccessing the request parameters. Only resource methods using @FormParam will work as \nexpected. Resource methods consuming the request body by other means will not work as expected.\n</code></pre>\n<p>I've tried adjusting the method according to <a href=\"https://jooby.io/v1/doc/#request-form-submit\" rel=\"nofollow noreferrer\">Jooby's docs on form submission</a>, but the issue still persists. So is the issue still in Jooby or it's in Jersey?</p>\n"},{"tags":["java","spring-boot","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649585081,"creation_date":1649585081,"answer_id":71815550,"question_id":71813782,"body_markdown":"The Problem is \r\n\r\n    private List&lt;Transaction&gt; transactions = new ArrayList&lt;&gt;();\r\n\r\nif you have another class which extends Transaction then use this for your generic in the list. Otherwise how should Mapstuct now which class to create for that List","title":"I&#39;m getting error when i tried List&lt;Entity&gt; to Dto with MapStruct","body":"<p>The Problem is</p>\n<pre><code>private List&lt;Transaction&gt; transactions = new ArrayList&lt;&gt;();\n</code></pre>\n<p>if you have another class which extends Transaction then use this for your generic in the list. Otherwise how should Mapstuct now which class to create for that List</p>\n"},{"tags":[],"owner":{"account_id":23191137,"reputation":1266,"user_id":17287498,"display_name":"Ben Zegveld"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649616033,"creation_date":1649616033,"answer_id":71819534,"question_id":71813782,"body_markdown":"Add a method to create the correct Transaction from the TransactionEntity supplied. \r\n\r\nReading the code you probably want to have something like the following:\r\n```java\r\nTransaction fromTransactionEntity(TransactionEntity entity){\r\n  if (entity == null){\r\n    return null;\r\n  }\r\n  if ( entity.getType().equals(&quot;something&quot;) ) {\r\n    return toSomethingTransaction(entity);\r\n  }\r\n  if ( entity.getType().equals(&quot;other&quot;) ) {\r\n    return toOtherTransaction(entity);\r\n  }\r\n  throw new IllegalStateException(&quot;unsupported transaction found, cannot instantiate object.&quot;);\r\n}\r\n\r\nSomethingTransaction toSomethingTransaction(TransactionEntity entity);\r\n\r\nOtherTransaction toOtherTransaction(TransactionEntity entity);\r\n```\r\n\r\nIn the other direction you probably want to do the same thing. (when `1.5.0` is released you can use `@SubclassMapping` for this instead of manually writing the instanceof. currently at `1.5.0.RC1` stage.)\r\n\r\n```java\r\nTransactionEntity toTransactionEntity(Transaction transaction){\r\n  if (transaction == null){\r\n    return null;\r\n  }\r\n  if (transaction instanceof SomethingTransaction){\r\n    return fromSomethingTransaction(transaction);\r\n  }\r\n  if (transaction instanceof OtherTransaction){\r\n    return toOtherTransaction(entity);\r\n  }\r\n  throw new IllegalStateException(&quot;unsupported transaction found, cannot store it.&quot;);\r\n}\r\n\r\n@Mapping( target = &quot;type&quot;, constant = &quot;something&quot; )\r\nTransactionEntity fromSomethingTransaction(SomethingTransaction transaction);\r\n\r\n@Mapping( target = &quot;type&quot;, constant = &quot;other&quot; )\r\nTransactionEntity fromOtherTransaction(OtherTransaction transaction);\r\n```\r\n","title":"I&#39;m getting error when i tried List&lt;Entity&gt; to Dto with MapStruct","body":"<p>Add a method to create the correct Transaction from the TransactionEntity supplied.</p>\n<p>Reading the code you probably want to have something like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Transaction fromTransactionEntity(TransactionEntity entity){\n  if (entity == null){\n    return null;\n  }\n  if ( entity.getType().equals(&quot;something&quot;) ) {\n    return toSomethingTransaction(entity);\n  }\n  if ( entity.getType().equals(&quot;other&quot;) ) {\n    return toOtherTransaction(entity);\n  }\n  throw new IllegalStateException(&quot;unsupported transaction found, cannot instantiate object.&quot;);\n}\n\nSomethingTransaction toSomethingTransaction(TransactionEntity entity);\n\nOtherTransaction toOtherTransaction(TransactionEntity entity);\n</code></pre>\n<p>In the other direction you probably want to do the same thing. (when <code>1.5.0</code> is released you can use <code>@SubclassMapping</code> for this instead of manually writing the instanceof. currently at <code>1.5.0.RC1</code> stage.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>TransactionEntity toTransactionEntity(Transaction transaction){\n  if (transaction == null){\n    return null;\n  }\n  if (transaction instanceof SomethingTransaction){\n    return fromSomethingTransaction(transaction);\n  }\n  if (transaction instanceof OtherTransaction){\n    return toOtherTransaction(entity);\n  }\n  throw new IllegalStateException(&quot;unsupported transaction found, cannot store it.&quot;);\n}\n\n@Mapping( target = &quot;type&quot;, constant = &quot;something&quot; )\nTransactionEntity fromSomethingTransaction(SomethingTransaction transaction);\n\n@Mapping( target = &quot;type&quot;, constant = &quot;other&quot; )\nTransactionEntity fromOtherTransaction(OtherTransaction transaction);\n</code></pre>\n"}],"owner":{"account_id":24887749,"reputation":1,"user_id":18760129,"display_name":"darkies"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71819534,"answer_count":2,"score":0,"last_activity_date":1649624881,"creation_date":1649565281,"question_id":71813782,"body_markdown":"    public class Account {\r\n    \r\n        private String accountId\r\n        private List&lt;Transaction&gt; transactions = new ArrayList&lt;&gt;();\r\n\r\n----\r\n    public abstract class Transaction {\r\n        private double amount;\r\n---\r\n\r\n    public class AccountEntity extends BaseEntity{\r\n        @OneToMany\r\n        private List&lt;TransactionEntity&gt; transactions;\r\n\r\n---\r\n\r\n    public class TransactionEntity extends BaseEntity{\r\n        @Id\r\n        private String transactionId;\r\n        private double amount;\r\n        private String type;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;accountId&quot;, referencedColumnName = &quot;accountNumber&quot;)\r\n        private AccountEntity account;\r\n\r\n-----\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface AccountMapper {\r\n        \r\n        Account AccountEntityToAccount(AccountEntity accountEntity);\r\n    \r\n        AccountEntity AccountToAccountEntity(Account account);\r\n\r\n\r\nMy AccountEntityToAccount method is getting error which is \r\nThe return type Transaction is an abstract class or interface. Provide a non abstract / non interface result type or a factory method.\r\n    Account AccountEntityToAccount(AccountEntity accountEntity);\r\n\r\nhow could i solve this problem. My Transaction class should be abstract i can not change abstract keyword","title":"I&#39;m getting error when i tried List&lt;Entity&gt; to Dto with MapStruct","body":"<pre><code>public class Account {\n\n    private String accountId\n    private List&lt;Transaction&gt; transactions = new ArrayList&lt;&gt;();\n</code></pre>\n<hr />\n<pre><code>public abstract class Transaction {\n    private double amount;\n</code></pre>\n<hr />\n<pre><code>public class AccountEntity extends BaseEntity{\n    @OneToMany\n    private List&lt;TransactionEntity&gt; transactions;\n</code></pre>\n<hr />\n<pre><code>public class TransactionEntity extends BaseEntity{\n    @Id\n    private String transactionId;\n    private double amount;\n    private String type;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;accountId&quot;, referencedColumnName = &quot;accountNumber&quot;)\n    private AccountEntity account;\n</code></pre>\n<hr />\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface AccountMapper {\n    \n    Account AccountEntityToAccount(AccountEntity accountEntity);\n\n    AccountEntity AccountToAccountEntity(Account account);\n</code></pre>\n<p>My AccountEntityToAccount method is getting error which is\nThe return type Transaction is an abstract class or interface. Provide a non abstract / non interface result type or a factory method.\nAccount AccountEntityToAccount(AccountEntity accountEntity);</p>\n<p>how could i solve this problem. My Transaction class should be abstract i can not change abstract keyword</p>\n"},{"tags":["java","groovy","jsoup","katalon-studio"],"comments":[{"owner":{"account_id":2171710,"reputation":968,"user_id":6336312,"accept_rate":78,"display_name":"Simos Sigma"},"score":0,"creation_date":1649529301,"post_id":71808495,"comment_id":126900777,"body_markdown":"@TDG As I wrote, if the text of `&lt;a&gt;` element contains single quote character I get this error. In any other case it&#39;s okay.","body":"@TDG As I wrote, if the text of <code>&lt;a&gt;</code> element contains single quote character I get this error. In any other case it&#39;s okay."}],"answers":[{"tags":[],"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649623148,"creation_date":1649516173,"answer_id":71809155,"question_id":71808495,"body_markdown":"```lang-js\r\n// @Grab(group=&#39;org.jsoup&#39;, module=&#39;jsoup&#39;, version=&#39;1.14.3&#39;)\r\n\r\nimport org.jsoup.Jsoup\r\nimport org.jsoup.nodes.Document\r\nimport org.jsoup.select.Elements\r\n\r\ndef html = &quot;&quot;&quot;\r\n&lt;html&gt;\r\n&lt;body&gt;\r\n&lt;a class=&quot;c1&quot; href=&quot;#1&quot;&gt;i&#39;m the one&lt;/a&gt;\r\n&lt;a class=&quot;c1&quot; href=&quot;#2&quot;&gt;i am the one&lt;/a&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n&quot;&quot;&quot;\r\n\r\ndef desiredText = &quot;i&#39;m the one&quot;\r\n// escape special chars. maybe you need more special chars to escape...\r\ndesiredText = desiredText.replaceAll(/([&#39;&quot;\\\\\\/\\|(\\)\\[\\]])/, &#39;\\\\\\\\$1&#39;) \r\n\r\nDocument currentPageSource = Jsoup.parse(html)\r\nElements wElements = currentPageSource.select(&#39;a[class=&quot;c1&quot;]:contains(&#39;+ desiredText +&#39;)&#39;)\r\n```\r\n\r\nor\r\n\r\n```lang-js\r\ndef desiredText = &quot;i&#39;m the one&quot;\r\nElements wElements = currentPageSource.select(&#39;a[class=&quot;c1&quot;]&#39;).findAll{it.html().contains(desiredText)}\r\n```\r\n","title":"Jsoup library &quot;Did not find balanced marker&quot; error","body":"<pre class=\"lang-js prettyprint-override\"><code>// @Grab(group='org.jsoup', module='jsoup', version='1.14.3')\n\nimport org.jsoup.Jsoup\nimport org.jsoup.nodes.Document\nimport org.jsoup.select.Elements\n\ndef html = &quot;&quot;&quot;\n&lt;html&gt;\n&lt;body&gt;\n&lt;a class=&quot;c1&quot; href=&quot;#1&quot;&gt;i'm the one&lt;/a&gt;\n&lt;a class=&quot;c1&quot; href=&quot;#2&quot;&gt;i am the one&lt;/a&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n&quot;&quot;&quot;\n\ndef desiredText = &quot;i'm the one&quot;\n// escape special chars. maybe you need more special chars to escape...\ndesiredText = desiredText.replaceAll(/(['&quot;\\\\\\/\\|(\\)\\[\\]])/, '\\\\\\\\$1') \n\nDocument currentPageSource = Jsoup.parse(html)\nElements wElements = currentPageSource.select('a[class=&quot;c1&quot;]:contains('+ desiredText +')')\n</code></pre>\n<p>or</p>\n<pre class=\"lang-js prettyprint-override\"><code>def desiredText = &quot;i'm the one&quot;\nElements wElements = currentPageSource.select('a[class=&quot;c1&quot;]').findAll{it.html().contains(desiredText)}\n</code></pre>\n"}],"owner":{"account_id":2171710,"reputation":968,"user_id":6336312,"accept_rate":78,"display_name":"Simos Sigma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":482,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71809155,"answer_count":1,"score":0,"last_activity_date":1649623148,"creation_date":1649510938,"question_id":71808495,"body_markdown":"Using `jsoup` library I am trying to get the `href` of an `&lt;a&gt;` element which contains specified text each time.\r\n\r\nExample:\r\n```\r\nimport org.jsoup.Jsoup\r\nimport org.jsoup.nodes.Document\r\nimport org.jsoup.select.Elements\r\n\r\npublic class GlobVars {\r\n\tpublic static Document currentPageSource\r\n\tpublic static String currentTitle\r\n}\r\n\r\ndef get_url() {\r\n\tString url = &quot;https://www.website.com/&quot;\r\n\tGlobVars.currentPageSource = Jsoup.connect(url).get()\r\n\r\n\tElements wElements = GlobVars.currentPageSource.select(&#39;a[class=&quot;class-name&quot;]:contains(&#39;+GlobVars.currentTitle+&#39;)&#39;)\r\n\tif(wElements) {\r\n\t\t/*\r\n\t\t * Do stuff...\r\n\t\t * \r\n\t\t * */\r\n\t}\r\n}\r\n```\r\n\r\nThe problem is when `GlobVars.currentTitle` contains single quote character!!! For example, if `GlobVars.currentTitle` is `I am here` it &quot;works&quot; fine. But if `GlobVars.currentTitle` is `I&#39;m here` i get this error: `Did not find balanced marker at &#39;I&#39;`.\r\n\r\nI tried to use `GlobVars.currentTitle` variable with `double-quoted`, `triple-single-quoted` or `triple-double-quoted` but I get the same error. \r\n\r\nI also read https://github.com/jhy/jsoup/issues/1105 but the &quot;[trick](https://try.jsoup.org/~tQywDLPdfB0IPT9FFNb5Z7JnjWI)&quot; to escape quotes can not be used in my case.\r\n\r\nAny idea how I&#39;ll fix this?","title":"Jsoup library &quot;Did not find balanced marker&quot; error","body":"<p>Using <code>jsoup</code> library I am trying to get the <code>href</code> of an <code>&lt;a&gt;</code> element which contains specified text each time.</p>\n<p>Example:</p>\n<pre><code>import org.jsoup.Jsoup\nimport org.jsoup.nodes.Document\nimport org.jsoup.select.Elements\n\npublic class GlobVars {\n    public static Document currentPageSource\n    public static String currentTitle\n}\n\ndef get_url() {\n    String url = &quot;https://www.website.com/&quot;\n    GlobVars.currentPageSource = Jsoup.connect(url).get()\n\n    Elements wElements = GlobVars.currentPageSource.select('a[class=&quot;class-name&quot;]:contains('+GlobVars.currentTitle+')')\n    if(wElements) {\n        /*\n         * Do stuff...\n         * \n         * */\n    }\n}\n</code></pre>\n<p>The problem is when <code>GlobVars.currentTitle</code> contains single quote character!!! For example, if <code>GlobVars.currentTitle</code> is <code>I am here</code> it &quot;works&quot; fine. But if <code>GlobVars.currentTitle</code> is <code>I'm here</code> i get this error: <code>Did not find balanced marker at 'I'</code>.</p>\n<p>I tried to use <code>GlobVars.currentTitle</code> variable with <code>double-quoted</code>, <code>triple-single-quoted</code> or <code>triple-double-quoted</code> but I get the same error.</p>\n<p>I also read <a href=\"https://github.com/jhy/jsoup/issues/1105\" rel=\"nofollow noreferrer\">https://github.com/jhy/jsoup/issues/1105</a> but the &quot;<a href=\"https://try.jsoup.org/%7EtQywDLPdfB0IPT9FFNb5Z7JnjWI\" rel=\"nofollow noreferrer\">trick</a>&quot; to escape quotes can not be used in my case.</p>\n<p>Any idea how I'll fix this?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1649622412,"post_id":71820303,"comment_id":126916666,"body_markdown":"**Nothing**. And no. You can use any name you want `FRED` for example.","body":"<b>Nothing</b>. And no. You can use any name you want <code>FRED</code> for example."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1649622937,"post_id":71820303,"comment_id":126916780,"body_markdown":"`Map&lt;K, V&gt;` is slightly more legible due to the common naming than e.g. `Map&lt;A, B&gt;`, but you&#39;re free to use any names, even longer than single characters although that can become confusing.","body":"<code>Map&lt;K, V&gt;</code> is slightly more legible due to the common naming than e.g. <code>Map&lt;A, B&gt;</code>, but you&#39;re free to use any names, even longer than single characters although that can become confusing."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1649622815,"creation_date":1649622815,"answer_id":71820350,"question_id":71820303,"body_markdown":"The names of type parameters have the same significance as do class names, methods names, or variable names: they help human readers understand the program. Nothing more, nothing less. The compiler does not care at all if your type parameter is called `T` or `SuPeR_CALI_fragilisticEXPIALIDOCIOUS_`.","title":"Java: Difference between generic type parameters","body":"<p>The names of type parameters have the same significance as do class names, methods names, or variable names: they help human readers understand the program. Nothing more, nothing less. The compiler does not care at all if your type parameter is called <code>T</code> or <code>SuPeR_CALI_fragilisticEXPIALIDOCIOUS_</code>.</p>\n"}],"owner":{"account_id":24520317,"reputation":103,"user_id":18433459,"display_name":"ilanfriedman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71820350,"answer_count":1,"score":1,"last_activity_date":1649622815,"creation_date":1649622341,"question_id":71820303,"body_markdown":"I&#39;m relatively new to programming in general. And I&#39;ve just recently started to learn about using generics in classes and methods. However, I&#39;m confused about the differences between the different &quot;standard&quot; generic parameters. On the Oracle tutorial page for [generics][1] it shows these:\r\n\r\n    E - Element (used extensively by the Java Collections Framework)\r\n    K - Key\r\n    N - Number\r\n    T - Type\r\n    V - Value\r\n    S,U,V etc. - 2nd, 3rd, 4th types\r\n\r\nWhat are the differences in their uses (the one-word descriptions they give aren&#39;t super helpful)? \r\n\r\nDoes Java interpret the code differently depending on which one is used?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/types.html","title":"Java: Difference between generic type parameters","body":"<p>I'm relatively new to programming in general. And I've just recently started to learn about using generics in classes and methods. However, I'm confused about the differences between the different &quot;standard&quot; generic parameters. On the Oracle tutorial page for <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/types.html\" rel=\"nofollow noreferrer\">generics</a> it shows these:</p>\n<pre><code>E - Element (used extensively by the Java Collections Framework)\nK - Key\nN - Number\nT - Type\nV - Value\nS,U,V etc. - 2nd, 3rd, 4th types\n</code></pre>\n<p>What are the differences in their uses (the one-word descriptions they give aren't super helpful)?</p>\n<p>Does Java interpret the code differently depending on which one is used?</p>\n"},{"tags":["java","syntax","casting","upcasting"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1649622239,"post_id":71820219,"comment_id":126916630,"body_markdown":"the variable type is `Vehicle`, the type of the instance saved in the variable (referenced by the variable)  is `Car` - you can only directly call the (accessible) methods declared in `Vehicle` (despite that  can effectively call methods overridden in `Car` - by casting to `Car`, the other [accessible] methods of `Car` can be called)","body":"the variable type is <code>Vehicle</code>, the type of the instance saved in the variable (referenced by the variable)  is <code>Car</code> - you can only directly call the (accessible) methods declared in <code>Vehicle</code> (despite that  can effectively call methods overridden in <code>Car</code> - by casting to <code>Car</code>, the other [accessible] methods of <code>Car</code> can be called)"},{"owner":{"account_id":7262620,"reputation":301,"user_id":5538685,"display_name":"ZaneK"},"score":0,"creation_date":1649622726,"post_id":71820219,"comment_id":126916727,"body_markdown":"@user16320675 So is it correct to say &quot;c1 is of type Vehicle, which is also an instance of the car class. Additionally, it can only reference the methods and fields that exist in the Vehicle class&quot; ?","body":"@user16320675 So is it correct to say &quot;c1 is of type Vehicle, which is also an instance of the car class. Additionally, it can only reference the methods and fields that exist in the Vehicle class&quot; ?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1649622898,"post_id":71820219,"comment_id":126916771,"body_markdown":"I would say `c1` is of type `Vehicle` and it can hold (reference) an instance of `Car` (or any other `Vehicle` - `Car` is a `Vehicle`) - methods and fields in the `Vehicle` class, including the ones declared in all its super-classes (which should also be considered as being in the `Vehicle` class) [my opinion]","body":"I would say <code>c1</code> is of type <code>Vehicle</code> and it can hold (reference) an instance of <code>Car</code> (or any other <code>Vehicle</code> - <code>Car</code> is a <code>Vehicle</code>) - methods and fields in the <code>Vehicle</code> class, including the ones declared in all its super-classes (which should also be considered as being in the <code>Vehicle</code> class) [my opinion]"}],"answers":[{"tags":[],"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649622249,"creation_date":1649622249,"answer_id":71820293,"question_id":71820219,"body_markdown":"c1 is a variable that can hold a reference to any Vehicle. \r\n\r\nThe object it refers to is a Car, which is a Vehicle;\r\n\r\nConsider this:\r\n\r\n    Vehicle c1 = new Car();\r\n    c1 = new Bus();  // we suppose Bus also subclasses Vehicle\r\n\r\nThe variable c1 does not magically change its type. The two objects it refers to in sequence have (unmagically) different types.\r\n\r\nThe important thing in this to my way of thinking is to understand the difference between object and variable.\r\n","title":"When upcasting in Java, what is the breakdown of what each term means?","body":"<p>c1 is a variable that can hold a reference to any Vehicle.</p>\n<p>The object it refers to is a Car, which is a Vehicle;</p>\n<p>Consider this:</p>\n<pre><code>Vehicle c1 = new Car();\nc1 = new Bus();  // we suppose Bus also subclasses Vehicle\n</code></pre>\n<p>The variable c1 does not magically change its type. The two objects it refers to in sequence have (unmagically) different types.</p>\n<p>The important thing in this to my way of thinking is to understand the difference between object and variable.</p>\n"},{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649622536,"creation_date":1649622536,"answer_id":71820320,"question_id":71820219,"body_markdown":"    // create a reference of type Vehicle \r\n    // References are stored in the Stack (name c1, value null) \r\n    Vehicle c1;\r\n    \r\n    // create an object (instance) in the heap of type Car\r\n    // hold the address of this object into the c1 reference\r\n    c1 = new Car() ;\r\n\r\n**What is an Object?**\r\nAn object is a real-world or software entry which has attributes(instance fields) and behavior(instance methods). The object is created with a new operator in the heap. e.g. new ClassName(); . Objects are instantiated when class is loaded into memory. Objects are also called as Instances.\r\n\r\n**What is a Reference?**\r\nReference holds the address of an object or instance. Whenever we want to call instance methods, we use this reference which holds the address of the object. References are like C++ pointers.\r\n\r\nMore information here https://levelup.gitconnected.com/what-is-difference-between-reference-object-instance-and-class-24721e526f9b\r\n","title":"When upcasting in Java, what is the breakdown of what each term means?","body":"<pre><code>// create a reference of type Vehicle \n// References are stored in the Stack (name c1, value null) \nVehicle c1;\n\n// create an object (instance) in the heap of type Car\n// hold the address of this object into the c1 reference\nc1 = new Car() ;\n</code></pre>\n<p><strong>What is an Object?</strong>\nAn object is a real-world or software entry which has attributes(instance fields) and behavior(instance methods). The object is created with a new operator in the heap. e.g. new ClassName(); . Objects are instantiated when class is loaded into memory. Objects are also called as Instances.</p>\n<p><strong>What is a Reference?</strong>\nReference holds the address of an object or instance. Whenever we want to call instance methods, we use this reference which holds the address of the object. References are like C++ pointers.</p>\n<p>More information here <a href=\"https://levelup.gitconnected.com/what-is-difference-between-reference-object-instance-and-class-24721e526f9b\" rel=\"nofollow noreferrer\">https://levelup.gitconnected.com/what-is-difference-between-reference-object-instance-and-class-24721e526f9b</a></p>\n"}],"owner":{"account_id":7262620,"reputation":301,"user_id":5538685,"display_name":"ZaneK"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1649622536,"creation_date":1649621658,"question_id":71820219,"body_markdown":"So say I have a class Vehicle and subclass car that have instantiated objects in the main (Java)\r\n\r\n```\r\nVehicle v = new Vehicle();\r\nCar c = new Car();\r\n```\r\nWhen we do...\r\n```\r\nVehicle c1 = new Car();\r\n```\r\nWhat does the word vehicle represent and what does the word car represent in this casting?\r\n\r\n(I was basically asked in an interview what &quot;type&quot; c1 is and I couldn&#39;t figure out if c1 is type vehicle with a car implementation or type Car that can only use Vehicle&#39;s methods)","title":"When upcasting in Java, what is the breakdown of what each term means?","body":"<p>So say I have a class Vehicle and subclass car that have instantiated objects in the main (Java)</p>\n<pre><code>Vehicle v = new Vehicle();\nCar c = new Car();\n</code></pre>\n<p>When we do...</p>\n<pre><code>Vehicle c1 = new Car();\n</code></pre>\n<p>What does the word vehicle represent and what does the word car represent in this casting?</p>\n<p>(I was basically asked in an interview what &quot;type&quot; c1 is and I couldn't figure out if c1 is type vehicle with a car implementation or type Car that can only use Vehicle's methods)</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":989600,"reputation":30745,"user_id":1007273,"display_name":"hovanessyan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1550055531,"creation_date":1550055531,"answer_id":54668564,"question_id":54668342,"body_markdown":"You&#39;re always creating a new Entity and saving it (in your toEntity() method, which essentially overwrites the previous entity.\r\n\r\nIf you want to update an existing User, you need to do **fetch + update** on it&#39;s fields, and then invoke save.\r\n\r\nfor example this will update the name of an existing user:\r\n\r\n    UserEntity userEntity = userRepository.findOneById(existingUser.getId())\r\n    userEntity.setName(newName);\r\n    userRepository.save(userEntity);\r\n\r\nYou should also not set the ID of the entities by hand. Leverage @Id\r\nand @GeneratedValue.","title":"CrudRepository: Save method deletes entry","body":"<p>You're always creating a new Entity and saving it (in your toEntity() method, which essentially overwrites the previous entity.</p>\n\n<p>If you want to update an existing User, you need to do <strong>fetch + update</strong> on it's fields, and then invoke save.</p>\n\n<p>for example this will update the name of an existing user:</p>\n\n<pre><code>UserEntity userEntity = userRepository.findOneById(existingUser.getId())\nuserEntity.setName(newName);\nuserRepository.save(userEntity);\n</code></pre>\n\n<p>You should also not set the ID of the entities by hand. Leverage @Id\nand @GeneratedValue.</p>\n"},{"tags":[],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649621257,"creation_date":1649621257,"answer_id":71820172,"question_id":54668342,"body_markdown":"I had the same problem and this post here helped me.\r\nInstead of constructing a new entity with the builder pattern.\r\n\r\n    MovieEntity movieEntity = MovieEntity.builder()\r\n        .id(uuid)\r\n        .scene(movie.getScene())\r\n        .imageUrl(movieEntityOptional.get().getImageUrl())\r\n        .build();\r\n\r\nI had to reuse and save the same one I got from repository.findById() as in\r\n\r\n```\r\nMovieEntity movieEntity = movieEntityOptional.get();\r\nmovieEntity.setId(uuid);\r\nmovieEntity.setScene(movie.getScene());\r\nmovieEntity.setImageUrl(movieEntityOptional.get().getImageUrl());\r\n```\r\n\r\n","title":"CrudRepository: Save method deletes entry","body":"<p>I had the same problem and this post here helped me.\nInstead of constructing a new entity with the builder pattern.</p>\n<pre><code>MovieEntity movieEntity = MovieEntity.builder()\n    .id(uuid)\n    .scene(movie.getScene())\n    .imageUrl(movieEntityOptional.get().getImageUrl())\n    .build();\n</code></pre>\n<p>I had to reuse and save the same one I got from repository.findById() as in</p>\n<pre><code>MovieEntity movieEntity = movieEntityOptional.get();\nmovieEntity.setId(uuid);\nmovieEntity.setScene(movie.getScene());\nmovieEntity.setImageUrl(movieEntityOptional.get().getImageUrl());\n</code></pre>\n"}],"owner":{"account_id":1108135,"reputation":1968,"user_id":1099093,"accept_rate":75,"display_name":"Sterling Duchess"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":862,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":54668564,"answer_count":2,"score":4,"last_activity_date":1649621257,"creation_date":1550054843,"question_id":54668342,"body_markdown":"Calling `CrudRepository.save()` method deletes entry instead of updating the existing entry. \r\n\r\nController:  \r\n\r\n    @RequestMapping(value = &quot;{id}&quot;, method = PATCH)   \r\n    public User update(@PathVariable Long id, @RequestBody UpdateUser existingUser) {\r\n      return userService.update(existingUser);\r\n    }\r\n\r\nService:  \r\n\r\n    public User update(UpdateUser existingUser) {\r\n      if (!userRepository.exists(existingUser.getId()) {\r\n        throw new UserNotFoundException();\r\n      }\r\n    \r\n      UserEntity userEntity = existingUser.toEntity();\r\n      return userRepository.save(userEntity).toDto();\r\n    }\r\n\r\nDtos:  \r\n\r\n    public User {\r\n      private Long id;\r\n      private String name;\r\n      // ..\r\n\r\n      public UserEntity toEntity() {\r\n        UserEntity entity = new UserEntity();\r\n        entity.setId(id);\r\n        entity.setName(name);\r\n        return entity;\r\n      }\r\n    }\r\n    \r\n    public UpdateUser extends User {\r\n      @NotNull\r\n      @Override\r\n      public Long getId() {\r\n        super.getId();\r\n      }\r\n    }\r\n\r\nI made sure that ID is set on the Dto as it&#39;s recieved by the controller &amp; the service and that it&#39;s still the same after update. In any case what happens is that service `update` method appears to save &amp; delete the entity. Because I get back the dto which would have been created from entity returned from `save` method and I can see the changed name. However if I refresh the page or look into the `users` table the entry is gone.  ","title":"CrudRepository: Save method deletes entry","body":"<p>Calling <code>CrudRepository.save()</code> method deletes entry instead of updating the existing entry. </p>\n\n<p>Controller:  </p>\n\n<pre><code>@RequestMapping(value = \"{id}\", method = PATCH)   \npublic User update(@PathVariable Long id, @RequestBody UpdateUser existingUser) {\n  return userService.update(existingUser);\n}\n</code></pre>\n\n<p>Service:  </p>\n\n<pre><code>public User update(UpdateUser existingUser) {\n  if (!userRepository.exists(existingUser.getId()) {\n    throw new UserNotFoundException();\n  }\n\n  UserEntity userEntity = existingUser.toEntity();\n  return userRepository.save(userEntity).toDto();\n}\n</code></pre>\n\n<p>Dtos:  </p>\n\n<pre><code>public User {\n  private Long id;\n  private String name;\n  // ..\n\n  public UserEntity toEntity() {\n    UserEntity entity = new UserEntity();\n    entity.setId(id);\n    entity.setName(name);\n    return entity;\n  }\n}\n\npublic UpdateUser extends User {\n  @NotNull\n  @Override\n  public Long getId() {\n    super.getId();\n  }\n}\n</code></pre>\n\n<p>I made sure that ID is set on the Dto as it's recieved by the controller &amp; the service and that it's still the same after update. In any case what happens is that service <code>update</code> method appears to save &amp; delete the entity. Because I get back the dto which would have been created from entity returned from <code>save</code> method and I can see the changed name. However if I refresh the page or look into the <code>users</code> table the entry is gone.  </p>\n"},{"tags":["java","spring","spring-boot","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":2985035,"reputation":8984,"user_id":2534090,"accept_rate":34,"display_name":"JavaTechnical"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1649620826,"creation_date":1649620826,"answer_id":71820120,"question_id":71819810,"body_markdown":"You should not be using `groupId` with `partitions` as groupId will be ignored. Try removing `partitions` and check.\r\n\r\n*This is the actual answer to your question*.\r\n\r\nRefer to this answer: https://stackoverflow.com/a/56552126/2534090\r\n\r\nYou can upvote the linked answer if it is helpful, for additional info read below.\r\n\r\n---\r\n\r\n**Adding some additional detail for whoever stumbles upon the *why* part:**\r\n\r\nFor Kafka consumer, we have `assign` and `subscribe`. \r\n`assign()` doesn&#39;t use the group management functionalities while the `subscribe()` does.\r\n\r\nIt is during the `assign` that we give the topic partitions manually. For `subscribe()` we only give the topic name(s). The distribution of topic partitions across different consumers in the group through the `subscribe()` will be taken care internally. Things like consumer heartbeats, rebalances etc will come into picture as part of this group management functionality.\r\n\r\nSince you are *manually* using the `partitions` field, `assign()` is likely to be invoked. See [KafkaConsumer][1] for these methods.\r\n\r\n----\r\nDepending on your use-case you can choose to decide whether you want `subscribe()` or not. \r\n\r\nThe rule of thumb is if you want to automatically distribute load across several consumers for the same set of topics and keep track of offsets till where you previously read, then go with the `subscribe()`. \r\n\r\nIf you just want to glance at the data, more of viewing purpose like in `kafka-console-consumer`, then use `assign()`.\r\n\r\n\r\n  [1]: https://kafka.apache.org/26/javadoc/index.html?org/apache/kafka/clients/consumer/KafkaConsumer.html","title":"Why two consumers with the same group.id receive the same message in Kafka","body":"<p>You should not be using <code>groupId</code> with <code>partitions</code> as groupId will be ignored. Try removing <code>partitions</code> and check.</p>\n<p><em>This is the actual answer to your question</em>.</p>\n<p>Refer to this answer: <a href=\"https://stackoverflow.com/a/56552126/2534090\">https://stackoverflow.com/a/56552126/2534090</a></p>\n<p>You can upvote the linked answer if it is helpful, for additional info read below.</p>\n<hr />\n<p><strong>Adding some additional detail for whoever stumbles upon the <em>why</em> part:</strong></p>\n<p>For Kafka consumer, we have <code>assign</code> and <code>subscribe</code>.\n<code>assign()</code> doesn't use the group management functionalities while the <code>subscribe()</code> does.</p>\n<p>It is during the <code>assign</code> that we give the topic partitions manually. For <code>subscribe()</code> we only give the topic name(s). The distribution of topic partitions across different consumers in the group through the <code>subscribe()</code> will be taken care internally. Things like consumer heartbeats, rebalances etc will come into picture as part of this group management functionality.</p>\n<p>Since you are <em>manually</em> using the <code>partitions</code> field, <code>assign()</code> is likely to be invoked. See <a href=\"https://kafka.apache.org/26/javadoc/index.html?org/apache/kafka/clients/consumer/KafkaConsumer.html\" rel=\"nofollow noreferrer\">KafkaConsumer</a> for these methods.</p>\n<hr />\n<p>Depending on your use-case you can choose to decide whether you want <code>subscribe()</code> or not.</p>\n<p>The rule of thumb is if you want to automatically distribute load across several consumers for the same set of topics and keep track of offsets till where you previously read, then go with the <code>subscribe()</code>.</p>\n<p>If you just want to glance at the data, more of viewing purpose like in <code>kafka-console-consumer</code>, then use <code>assign()</code>.</p>\n"}],"owner":{"account_id":11935386,"reputation":1273,"user_id":8734046,"display_name":"jwpol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2188,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71820120,"answer_count":1,"score":1,"last_activity_date":1649620826,"creation_date":1649618320,"question_id":71819810,"body_markdown":"Spring-boot producer app sends a message == &quot;AAA&quot; with key == &quot;0&quot; to the topic == &quot;Topic0&quot;. Consumer app (also spring-boot) has 3 listeners/consumers with the following configuration:\r\n\r\n 1. Topic0, Partition  == 0, Group0\r\n 2. Topic0, Partition  == 0, Group0\r\n 3. Topic0, Partition  == 0, Group1\r\n\r\n```java\r\npublic static final String KAFKA_TOPIC_0 = &quot;Topic0&quot;;\r\npublic static final String KAFKA_GROUP_ID_0 = &quot;Group0&quot;;\r\npublic static final String KAFKA_GROUP_ID_1 = &quot;Group1&quot;;\r\n```\r\n\r\n```java\r\n@KafkaListener(topicPartitions = @TopicPartition(topic = KAFKA_TOPIC_0, partitions = {&quot;0&quot;}), groupId = KAFKA_GROUP_ID_0)\r\npublic void listenTopic0Partition0GroupId0(String message,\r\n                                           @Header(KafkaHeaders.GROUP_ID) String groupId,\r\n                                           @Header(KafkaHeaders.RECORD_METADATA) ConsumerRecordMetadata meta) {\r\n    System.out.printf(&quot;listenTopic0Partition0GroupId0 topic %s partition %d group %s message %s \\n&quot;,\r\n            meta.topic(),\r\n            meta.partition(),\r\n            groupId,\r\n            message);\r\n}\r\n```\r\n\r\n```java\r\n@KafkaListener(topicPartitions = @TopicPartition(topic = KAFKA_TOPIC_0, partitions = {&quot;0&quot;}), groupId = KAFKA_GROUP_ID_0)\r\npublic void listen2Topic0Partition0GroupId0(String message,\r\n                                            @Header(KafkaHeaders.GROUP_ID) String groupId,\r\n                                            @Header(KafkaHeaders.RECORD_METADATA) ConsumerRecordMetadata meta) {\r\n    System.out.printf(&quot;listen2Topic0Partition0GroupId0 topic %s partition %d group %s message %s \\n&quot;,\r\n            meta.topic(),\r\n            meta.partition(),\r\n            groupId,\r\n            message);\r\n}\r\n```\r\n```java\r\n@KafkaListener(topicPartitions = @TopicPartition(topic = KAFKA_TOPIC_0, partitions = {&quot;0&quot;}), groupId = KAFKA_GROUP_ID_1)\r\npublic void listenTopic0Partition0GroupId1(String message,\r\n                                           @Header(KafkaHeaders.GROUP_ID) String groupId,\r\n                                           @Header(KafkaHeaders.RECORD_METADATA) ConsumerRecordMetadata meta) {\r\n\r\n    System.out.printf(&quot;listenTopic0Partition0GroupId1 topic %s partition %d group %s message %s \\n&quot;,\r\n            meta.topic(),\r\n            meta.partition(),\r\n            groupId,\r\n            message);\r\n}\r\n```\r\nNow I send one message:\r\n```java\r\nkafkaTemplate.send(&quot;Topic0&quot;, &quot;0&quot;, &quot;AAA&quot;);\r\n```\r\nAnd I see that 3 listeners received it:\r\n\r\n```java\r\nlistenTopic0Partition0GroupId1 topic Topic0 partition 0 group Group1 message AAA \r\nlistenTopic0Partition0GroupId0 topic Topic0 partition 0 group Group0 message AAA \r\nlisten2Topic0Partition0GroupId0 topic Topic0 partition 0 group Group0 message AAA\r\n```\r\nAccording to [https://docs.confluent.io/5.4.1/kafka/introduction.html][1]:\r\n\r\n&gt; Consumers label themselves with a consumer group name, and each record\r\n&gt; published to a topic is delivered to one consumer instance within each\r\n&gt; subscribing consumer group. Consumer instances can be in separate\r\n&gt; processes or on separate machines.\r\n&gt; \r\n&gt; If all the consumer instances have the same consumer group, then the\r\n&gt; records will effectively be load-balanced over the consumer instances.\r\n&gt; \r\n&gt; If all the consumer instances have different consumer groups, then\r\n&gt; each record will be broadcast to all the consumer processes.\r\n\r\nHowever, 2 consumers from the same group listening to the same topic and partition received the same message. How come?\r\n\r\nI put also topic configuration:\r\n```\r\n@Bean\r\npublic NewTopic topicAAA() {\r\n    return TopicBuilder.name(KAFKA_TOPIC_0)\r\n            .partitions(2)\r\n            .replicas(1)\r\n            .build();\r\n}\r\n```\r\n  [1]: https://docs.confluent.io/5.4.1/kafka/introduction.html","title":"Why two consumers with the same group.id receive the same message in Kafka","body":"<p>Spring-boot producer app sends a message == &quot;AAA&quot; with key == &quot;0&quot; to the topic == &quot;Topic0&quot;. Consumer app (also spring-boot) has 3 listeners/consumers with the following configuration:</p>\n<ol>\n<li>Topic0, Partition  == 0, Group0</li>\n<li>Topic0, Partition  == 0, Group0</li>\n<li>Topic0, Partition  == 0, Group1</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public static final String KAFKA_TOPIC_0 = &quot;Topic0&quot;;\npublic static final String KAFKA_GROUP_ID_0 = &quot;Group0&quot;;\npublic static final String KAFKA_GROUP_ID_1 = &quot;Group1&quot;;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@KafkaListener(topicPartitions = @TopicPartition(topic = KAFKA_TOPIC_0, partitions = {&quot;0&quot;}), groupId = KAFKA_GROUP_ID_0)\npublic void listenTopic0Partition0GroupId0(String message,\n                                           @Header(KafkaHeaders.GROUP_ID) String groupId,\n                                           @Header(KafkaHeaders.RECORD_METADATA) ConsumerRecordMetadata meta) {\n    System.out.printf(&quot;listenTopic0Partition0GroupId0 topic %s partition %d group %s message %s \\n&quot;,\n            meta.topic(),\n            meta.partition(),\n            groupId,\n            message);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@KafkaListener(topicPartitions = @TopicPartition(topic = KAFKA_TOPIC_0, partitions = {&quot;0&quot;}), groupId = KAFKA_GROUP_ID_0)\npublic void listen2Topic0Partition0GroupId0(String message,\n                                            @Header(KafkaHeaders.GROUP_ID) String groupId,\n                                            @Header(KafkaHeaders.RECORD_METADATA) ConsumerRecordMetadata meta) {\n    System.out.printf(&quot;listen2Topic0Partition0GroupId0 topic %s partition %d group %s message %s \\n&quot;,\n            meta.topic(),\n            meta.partition(),\n            groupId,\n            message);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@KafkaListener(topicPartitions = @TopicPartition(topic = KAFKA_TOPIC_0, partitions = {&quot;0&quot;}), groupId = KAFKA_GROUP_ID_1)\npublic void listenTopic0Partition0GroupId1(String message,\n                                           @Header(KafkaHeaders.GROUP_ID) String groupId,\n                                           @Header(KafkaHeaders.RECORD_METADATA) ConsumerRecordMetadata meta) {\n\n    System.out.printf(&quot;listenTopic0Partition0GroupId1 topic %s partition %d group %s message %s \\n&quot;,\n            meta.topic(),\n            meta.partition(),\n            groupId,\n            message);\n}\n</code></pre>\n<p>Now I send one message:</p>\n<pre class=\"lang-java prettyprint-override\"><code>kafkaTemplate.send(&quot;Topic0&quot;, &quot;0&quot;, &quot;AAA&quot;);\n</code></pre>\n<p>And I see that 3 listeners received it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>listenTopic0Partition0GroupId1 topic Topic0 partition 0 group Group1 message AAA \nlistenTopic0Partition0GroupId0 topic Topic0 partition 0 group Group0 message AAA \nlisten2Topic0Partition0GroupId0 topic Topic0 partition 0 group Group0 message AAA\n</code></pre>\n<p>According to <a href=\"https://docs.confluent.io/5.4.1/kafka/introduction.html\" rel=\"nofollow noreferrer\">https://docs.confluent.io/5.4.1/kafka/introduction.html</a>:</p>\n<blockquote>\n<p>Consumers label themselves with a consumer group name, and each record\npublished to a topic is delivered to one consumer instance within each\nsubscribing consumer group. Consumer instances can be in separate\nprocesses or on separate machines.</p>\n<p>If all the consumer instances have the same consumer group, then the\nrecords will effectively be load-balanced over the consumer instances.</p>\n<p>If all the consumer instances have different consumer groups, then\neach record will be broadcast to all the consumer processes.</p>\n</blockquote>\n<p>However, 2 consumers from the same group listening to the same topic and partition received the same message. How come?</p>\n<p>I put also topic configuration:</p>\n<pre><code>@Bean\npublic NewTopic topicAAA() {\n    return TopicBuilder.name(KAFKA_TOPIC_0)\n            .partitions(2)\n            .replicas(1)\n            .build();\n}\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1649614759,"post_id":71819194,"comment_id":126914950,"body_markdown":"Does this answer your question? [Spring Boot Compare String in @Value using SpEL](https://stackoverflow.com/questions/57321758/spring-boot-compare-string-in-value-using-spel)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/57321758/spring-boot-compare-string-in-value-using-spel\">Spring Boot Compare String in @Value using SpEL</a>"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649620669,"creation_date":1649620669,"answer_id":71820101,"question_id":71819194,"body_markdown":"While I posted a comment how to achieve a goal you might have, this doesn&#39;t answer your question, and so here is the answer:\r\n\r\nYour Spring Expression is (if working correctly) checking the content of the environment variable _spring.profiles.active_, while you are setting the active spring profile with a Java system property. Those two do not automatically reflect each other.\r\n\r\nYou can set the Spring profile both via environment variable and System property, but this is not a general behaviour of environment variables and System properties.","title":"Spring spel expression not working, for boolean value","body":"<p>While I posted a comment how to achieve a goal you might have, this doesn't answer your question, and so here is the answer:</p>\n<p>Your Spring Expression is (if working correctly) checking the content of the environment variable <em>spring.profiles.active</em>, while you are setting the active spring profile with a Java system property. Those two do not automatically reflect each other.</p>\n<p>You can set the Spring profile both via environment variable and System property, but this is not a general behaviour of environment variables and System properties.</p>\n"}],"owner":{"account_id":3404089,"reputation":1913,"user_id":2855609,"accept_rate":58,"display_name":"robin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1050,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649620669,"creation_date":1649613306,"question_id":71819194,"body_markdown":"I have my application config have a property like \r\n\r\n     @Value(&quot;#{new Boolean(environment[&#39;spring.profiles.active&#39;]!=&#39;dev&#39;)}&quot;)\r\n    private boolean is24;\r\n    \r\nNow in two runtime env application-prod where VM variable is set like \r\n\r\n    -Dspring.profiles.active=prod\r\n\r\nand an env application-dev where VM variable is like \r\n\r\n    -Dspring.profiles.active=dev\r\n\r\nbut the value of is24 is always coming as true. Any idea how can I fix it?","title":"Spring spel expression not working, for boolean value","body":"<p>I have my application config have a property like</p>\n<pre><code> @Value(&quot;#{new Boolean(environment['spring.profiles.active']!='dev')}&quot;)\nprivate boolean is24;\n</code></pre>\n<p>Now in two runtime env application-prod where VM variable is set like</p>\n<pre><code>-Dspring.profiles.active=prod\n</code></pre>\n<p>and an env application-dev where VM variable is like</p>\n<pre><code>-Dspring.profiles.active=dev\n</code></pre>\n<p>but the value of is24 is always coming as true. Any idea how can I fix it?</p>\n"},{"tags":["java","url","websocket","struts2"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1649615865,"post_id":71815254,"comment_id":126915188,"body_markdown":"You are using wrong URL.","body":"You are using wrong URL."},{"owner":{"account_id":4748748,"reputation":646,"user_id":3839312,"accept_rate":71,"display_name":"Ishwar Lal"},"score":0,"creation_date":1649616046,"post_id":71815254,"comment_id":126915225,"body_markdown":"Please suggest what should be used for it.","body":"Please suggest what should be used for it."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1649616843,"post_id":71815254,"comment_id":126915387,"body_markdown":"See below and you can also read [my](https://stackoverflow.com/a/20774984/573032) answer for reference","body":"See below and you can also read <a href=\"https://stackoverflow.com/a/20774984/573032\">my</a> answer for reference"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649620034,"creation_date":1649616498,"answer_id":71819598,"question_id":71815254,"body_markdown":"You are missing web application context path in the URL.\r\n```\r\nws://localhost:8080/[CONTEXT_NAME]/websocket\r\n```\r\nSometimes context name and project name are the same.\r\n\r\nEXAMPLE:\r\n```\r\nws://localhost:8080/web_socket_struts2_test/websocket\r\n```\r\n\r\n","title":"Websocket Connection is not working with Struts2","body":"<p>You are missing web application context path in the URL.</p>\n<pre><code>ws://localhost:8080/[CONTEXT_NAME]/websocket\n</code></pre>\n<p>Sometimes context name and project name are the same.</p>\n<p>EXAMPLE:</p>\n<pre><code>ws://localhost:8080/web_socket_struts2_test/websocket\n</code></pre>\n"}],"owner":{"account_id":4748748,"reputation":646,"user_id":3839312,"accept_rate":71,"display_name":"Ishwar Lal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71819598,"answer_count":1,"score":1,"last_activity_date":1649620034,"creation_date":1649582281,"question_id":71815254,"body_markdown":"I have taken example from \r\nhttps://github.com/slankka/websocket-with-struts2\r\n\r\n    Error : WebSocket connection  to &#39;ws://localhost:8080/websocket&#39; failed: \r\n\r\nWeb.xml\r\n=======\r\n    &lt;!DOCTYPE web-app PUBLIC\r\n        &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\r\n        &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;\r\n    &lt;web-app&gt;\r\n    &lt;display-name&gt;Struts2 Web Application&lt;/display-name&gt;\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;struts2&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;\r\n            org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter\r\n        &lt;/filter-class&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;struts2&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\nStruts.xml\r\n===========\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE struts PUBLIC\r\n        &quot;-//Apache Software Foundation//DTD Struts Configuration 2.5//EN&quot;\r\n        &quot;http://struts.apache.org/dtds/struts-2.5.dtd&quot;&gt;\r\n    &lt;struts&gt;\r\n        &lt;constant name=&quot;struts.action.excludePattern&quot; value=&quot;/websocket*,^ws://.$&quot;/&gt;\r\n        &lt;package name=&quot;controllers&quot; namespace=&quot;/&quot;  extends=&quot;struts-default&quot;&gt;\r\n            &lt;action name=&quot;homePage&quot; class=&quot;io.github.slankka.controllers.HomeAction&quot; method=&quot;home&quot;&gt;\r\n               &lt;result name=&quot;SUCCESS&quot;&gt;/home.jsp&lt;/result&gt;\r\n            &lt;/action&gt;\r\n        &lt;/package&gt;\r\n    &lt;/struts&gt;\r\n\r\nChatServer.java\r\n=============\r\n    package io.github.slankka.controllers;\r\n\r\n    import java.io.IOException;\r\n    import java.util.concurrent.CopyOnWriteArraySet;\r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n\r\n    import javax.websocket.*;\r\n    import javax.websocket.server.ServerEndpoint;\r\n\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    @ServerEndpoint(&quot;/websocket&quot;)\r\n    public class ChatServer {\r\n    ...\r\n    }\r\n\r\nURL : `http://localhost:8080/web_socket_struts2_test/chat.jsp`\r\n\r\n    Error : WebSocket connection to &#39;ws://localhost:8080/websocket&#39; failed: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aOV4s.png\r\n\r\nTried many solutions from stackoverflow as well but nothing work yet.","title":"Websocket Connection is not working with Struts2","body":"<p>I have taken example from\n<a href=\"https://github.com/slankka/websocket-with-struts2\" rel=\"nofollow noreferrer\">https://github.com/slankka/websocket-with-struts2</a></p>\n<pre><code>Error : WebSocket connection  to 'ws://localhost:8080/websocket' failed: \n</code></pre>\n<h1>Web.xml</h1>\n<pre><code>&lt;!DOCTYPE web-app PUBLIC\n    &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\n    &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;\n&lt;web-app&gt;\n&lt;display-name&gt;Struts2 Web Application&lt;/display-name&gt;\n&lt;filter&gt;\n    &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n    &lt;filter-class&gt;\n        org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter\n    &lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<h1>Struts.xml</h1>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE struts PUBLIC\n    &quot;-//Apache Software Foundation//DTD Struts Configuration 2.5//EN&quot;\n    &quot;http://struts.apache.org/dtds/struts-2.5.dtd&quot;&gt;\n&lt;struts&gt;\n    &lt;constant name=&quot;struts.action.excludePattern&quot; value=&quot;/websocket*,^ws://.$&quot;/&gt;\n    &lt;package name=&quot;controllers&quot; namespace=&quot;/&quot;  extends=&quot;struts-default&quot;&gt;\n        &lt;action name=&quot;homePage&quot; class=&quot;io.github.slankka.controllers.HomeAction&quot; method=&quot;home&quot;&gt;\n           &lt;result name=&quot;SUCCESS&quot;&gt;/home.jsp&lt;/result&gt;\n        &lt;/action&gt;\n    &lt;/package&gt;\n&lt;/struts&gt;\n</code></pre>\n<h1>ChatServer.java</h1>\n<pre><code>package io.github.slankka.controllers;\n\nimport java.io.IOException;\nimport java.util.concurrent.CopyOnWriteArraySet;\nimport java.util.concurrent.atomic.AtomicInteger;\n\nimport javax.websocket.*;\nimport javax.websocket.server.ServerEndpoint;\n\n@SuppressWarnings(&quot;unused&quot;)\n@ServerEndpoint(&quot;/websocket&quot;)\npublic class ChatServer {\n...\n}\n</code></pre>\n<p>URL : <code>http://localhost:8080/web_socket_struts2_test/chat.jsp</code></p>\n<pre><code>Error : WebSocket connection to 'ws://localhost:8080/websocket' failed: \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/aOV4s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aOV4s.png\" alt=\"enter image description here\" /></a></p>\n<p>Tried many solutions from stackoverflow as well but nothing work yet.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":4034639,"reputation":985,"user_id":3319557,"accept_rate":100,"display_name":"mlecz"},"score":1,"creation_date":1649615547,"post_id":71819457,"comment_id":126915131,"body_markdown":"looks like calling it with Integer and String is just using T as an Object. So you should be able to call it Object t = print(10, 20.0);","body":"looks like calling it with Integer and String is just using T as an Object. So you should be able to call it Object t = print(10, 20.0);"},{"owner":{"account_id":24870870,"reputation":13,"user_id":18745385,"display_name":"Matt"},"score":0,"creation_date":1649615617,"post_id":71819457,"comment_id":126915141,"body_markdown":"Yes, I understand it. But why I can call &quot;print&quot; with different types, if I declared, that I have only one type T?","body":"Yes, I understand it. But why I can call &quot;print&quot; with different types, if I declared, that I have only one type T?"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649617220,"creation_date":1649617220,"answer_id":71819689,"question_id":71819457,"body_markdown":"Where it works, you didn&#39;t specify the return type, so the compiler can use the most generic one (`Object`). \r\n\r\nAs soon as you declare the return type (that has to be the same as the type of the passed parameters), you cannot mix. \r\n\r\nActually you also don&#39;t mix at the place where it works, the compiler just uses `Object` everywhere.","title":"Type T parameters not the same","body":"<p>Where it works, you didn't specify the return type, so the compiler can use the most generic one (<code>Object</code>).</p>\n<p>As soon as you declare the return type (that has to be the same as the type of the passed parameters), you cannot mix.</p>\n<p>Actually you also don't mix at the place where it works, the compiler just uses <code>Object</code> everywhere.</p>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649619628,"creation_date":1649619628,"answer_id":71819977,"question_id":71819457,"body_markdown":"It works even when you use the return value, but you have to specify the correct return type, i.e. the type which is common to both parameters. `Integer` and `String` both share the supertype `Object`, and as such they can be considered to be of &quot;same type&quot;. `Object` is the common base type of all other types. For numbers, `Number` could work as well:\r\n\r\n```\r\nNumber t = print(10, 20.0);\r\nObject o = print(&quot;string&quot;, 12.3);\r\n```","title":"Type T parameters not the same","body":"<p>It works even when you use the return value, but you have to specify the correct return type, i.e. the type which is common to both parameters. <code>Integer</code> and <code>String</code> both share the supertype <code>Object</code>, and as such they can be considered to be of &quot;same type&quot;. <code>Object</code> is the common base type of all other types. For numbers, <code>Number</code> could work as well:</p>\n<pre><code>Number t = print(10, 20.0);\nObject o = print(&quot;string&quot;, 12.3);\n</code></pre>\n"}],"owner":{"account_id":24870870,"reputation":13,"user_id":18745385,"display_name":"Matt"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1649619757,"answer_count":2,"score":0,"last_activity_date":1649619628,"creation_date":1649615381,"question_id":71819457,"body_markdown":"I have the following code:\r\n\r\n      public static &lt;T&gt; T print(T element1, T element2){\r\n            System.out.println(element1.getClass());\r\n            System.out.println(element2.getClass());\r\n            return null;\r\n        }\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            print(10, &quot;str&quot;);\r\n        }\r\nIt compiles, no errors. Method &quot;print&quot; accepts two arguments of the same Type (T). But I can call this method, for example, with Integer and String arguments. \r\n\r\nIf I want to use return value, code doesn&#39;t compile:\r\n\r\n    Integer t = print(10, 20.0); //compilation error\r\n\r\nThis example also has the same behavior. I can use different types for Array and for Element (but if I use different types, I get ArrayStoreException).\r\n\r\n     public static &lt;T&gt; void fillArray(T[] array, T element){}\r\n\r\nAnd if I work with Collections, I can&#39;t use different types. The following example doesnt compile:\r\n\r\n     public static &lt;T&gt; void fillList(List&lt;T&gt; list, T element){}\r\n    \r\n        public static void main(String[] args) {\r\n            List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n            fillList(list, 20.0);\r\n        }\r\n\r\n\r\nWhat&#39;s the reason of such behavior? Why I can call method with different types with Arrays, and cannot with Lists, if I declared, that I have only the same type T?","title":"Type T parameters not the same","body":"<p>I have the following code:</p>\n<pre><code>  public static &lt;T&gt; T print(T element1, T element2){\n        System.out.println(element1.getClass());\n        System.out.println(element2.getClass());\n        return null;\n    }\n\n\n    public static void main(String[] args) {\n        print(10, &quot;str&quot;);\n    }\n</code></pre>\n<p>It compiles, no errors. Method &quot;print&quot; accepts two arguments of the same Type (T). But I can call this method, for example, with Integer and String arguments.</p>\n<p>If I want to use return value, code doesn't compile:</p>\n<pre><code>Integer t = print(10, 20.0); //compilation error\n</code></pre>\n<p>This example also has the same behavior. I can use different types for Array and for Element (but if I use different types, I get ArrayStoreException).</p>\n<pre><code> public static &lt;T&gt; void fillArray(T[] array, T element){}\n</code></pre>\n<p>And if I work with Collections, I can't use different types. The following example doesnt compile:</p>\n<pre><code> public static &lt;T&gt; void fillList(List&lt;T&gt; list, T element){}\n\n    public static void main(String[] args) {\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n        fillList(list, 20.0);\n    }\n</code></pre>\n<p>What's the reason of such behavior? Why I can call method with different types with Arrays, and cannot with Lists, if I declared, that I have only the same type T?</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1973399,"reputation":4576,"user_id":1771766,"display_name":"G Quintana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649174925,"creation_date":1649174925,"answer_id":71755096,"question_id":71753712,"body_markdown":"First, you shouldn&#39;t force the listening thread to sleep. The consumer may be considered as dead and trigger a consumer rebalance. You&#39;d better use *pause and resume* on the consumer. See https://docs.spring.io/spring-kafka/docs/current/reference/html/#pause-resume\r\n\r\nThen, if you want to skip the records published when the consumer was asleep, you&#39;ll have to *seek* (seekToBeginning) when the consumer awakes. See https://docs.spring.io/spring-kafka/docs/current/reference/html/#seek\r\nHowever it is not simple: The Kafka Consumer doesn&#39;t let you seek when the consumer is active nor when it does not own the partition.","title":"Get last event in Kafka - JAVA","body":"<p>First, you shouldn't force the listening thread to sleep. The consumer may be considered as dead and trigger a consumer rebalance. You'd better use <em>pause and resume</em> on the consumer. See <a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#pause-resume\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#pause-resume</a></p>\n<p>Then, if you want to skip the records published when the consumer was asleep, you'll have to <em>seek</em> (seekToBeginning) when the consumer awakes. See <a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#seek\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#seek</a>\nHowever it is not simple: The Kafka Consumer doesn't let you seek when the consumer is active nor when it does not own the partition.</p>\n"},{"tags":[],"owner":{"account_id":2985035,"reputation":8984,"user_id":2534090,"accept_rate":34,"display_name":"JavaTechnical"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649619178,"creation_date":1649619178,"answer_id":71819920,"question_id":71753712,"body_markdown":"The point of having consumer groups is to keep track of the offsets which have been processed so that the subsequent consumption resumes from there and also distribute load across different consumers.\r\n\r\nIf your use-case doesn&#39;t need any of the above, you can use `consumer.assign()` which doesn&#39;t leverage the group management functionality.\r\n\r\n    @KafkaListener(topicPartitions = @TopicPartition(topic = &quot;so56114299&quot;,\r\n                          partitions = &quot;#{@finder.partitions(&#39;so56114299&#39;)}&quot;))\r\n    public void listen(@Header(KafkaHeaders.RECEIVED_MESSAGE_KEY) String key, String payload) {\r\n        System.out.println(key + &quot;:&quot; + payload);\r\n    }\r\n\r\nSnippet reference: https://stackoverflow.com/a/56114699/2534090\r\n\r\nAlternatively, you can write your own `KafkaConsumer` and manually call the `consumer.assign()` for assigning the partitions.\r\nTo answer your original question, for seeking, you need to call `consumer.seekToEnd()` method every time your method wakes from `Thread.sleep()`. The subsequent poll will fetch the records from the end offset. [Looks like][1] you can add `Consumer` as parameter to your `@KafkaListener` method.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/50500272/2534090","title":"Get last event in Kafka - JAVA","body":"<p>The point of having consumer groups is to keep track of the offsets which have been processed so that the subsequent consumption resumes from there and also distribute load across different consumers.</p>\n<p>If your use-case doesn't need any of the above, you can use <code>consumer.assign()</code> which doesn't leverage the group management functionality.</p>\n<pre><code>@KafkaListener(topicPartitions = @TopicPartition(topic = &quot;so56114299&quot;,\n                      partitions = &quot;#{@finder.partitions('so56114299')}&quot;))\npublic void listen(@Header(KafkaHeaders.RECEIVED_MESSAGE_KEY) String key, String payload) {\n    System.out.println(key + &quot;:&quot; + payload);\n}\n</code></pre>\n<p>Snippet reference: <a href=\"https://stackoverflow.com/a/56114699/2534090\">https://stackoverflow.com/a/56114699/2534090</a></p>\n<p>Alternatively, you can write your own <code>KafkaConsumer</code> and manually call the <code>consumer.assign()</code> for assigning the partitions.\nTo answer your original question, for seeking, you need to call <code>consumer.seekToEnd()</code> method every time your method wakes from <code>Thread.sleep()</code>. The subsequent poll will fetch the records from the end offset. <a href=\"https://stackoverflow.com/a/50500272/2534090\">Looks like</a> you can add <code>Consumer</code> as parameter to your <code>@KafkaListener</code> method.</p>\n"}],"owner":{"account_id":23301548,"reputation":55,"user_id":17382114,"display_name":"Italo Vieira "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1649619178,"creation_date":1649169515,"question_id":71753712,"body_markdown":"I&#39;m actually using `@KafkaListener` to read events in a topic. I want to read 100 events, and after this call `Thread.sleep()` with a certain time period.\r\nMy problem is, when the thread wakes up from sleep, the listener continues on the last event I read, but I want to discard the events when the thread is sleeping and continues with the last events in topic.\r\n\r\n**Like:**\r\n```\r\n1-100 - Capture\r\n\r\nThread sleeping\r\n\r\n101-500\r\n\r\nThread Returns\r\n\r\n501 - 601 - Capture\r\n```\r\n\r\nThe 101-500 events can be discarded\r\n\r\n**Code:**\r\n\r\n    @KafkaListener(topics = &quot;topic&quot;)\r\n    public void consumeBalance(ConsumerRecord&lt;String, String&gt; payload) throws InterruptedException {\r\n    \r\n        this.valorMaximoDeRequest = this.valorMaximoDeRequest + 1;\r\n        if (this.valorMaximoDeRequest &lt;= 100) {\r\n            log.info(&quot;Encontrou evento )&quot;);\r\n            log.info(&quot;Key: &quot; + payload.key() + &quot;, Value:&quot; + payload.value());\r\n            log.info(&quot;Partition:&quot; + payload.partition() + &quot;,Offset:&quot; + payload.offset());\r\n    \r\n            JsonObject jsonObject = new Gson().fromJson(payload.value(), JsonObject.class);\r\n            String accountId = jsonObject.get(&quot;accountId&quot;).getAsString();\r\n            log.info(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; accountId: &quot; + accountId);\r\n    \r\n        } else {\r\n            this.valorMaximoDeRequest = 0;\r\n            Thread.sleep(60*1000);\r\n        }\r\n    \r\n    }\r\n\r\n**Kafka config:**\r\n\r\n        @Bean\r\n        public Map&lt;String, Object&gt; kafkaFactory() {\r\n            Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n            props.put(&quot;specific.avro.reader&quot;, Boolean.TRUE);\r\n            props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;brokers&quot;);\r\n            props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n            props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n            props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;1&quot;);\r\n    \r\n            props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\r\n            props.put(&quot;security.protocol&quot;, &quot;SASL_PLAINTEXT&quot;);\r\n            return props;\r\n        }","title":"Get last event in Kafka - JAVA","body":"<p>I'm actually using <code>@KafkaListener</code> to read events in a topic. I want to read 100 events, and after this call <code>Thread.sleep()</code> with a certain time period.\nMy problem is, when the thread wakes up from sleep, the listener continues on the last event I read, but I want to discard the events when the thread is sleeping and continues with the last events in topic.</p>\n<p><strong>Like:</strong></p>\n<pre><code>1-100 - Capture\n\nThread sleeping\n\n101-500\n\nThread Returns\n\n501 - 601 - Capture\n</code></pre>\n<p>The 101-500 events can be discarded</p>\n<p><strong>Code:</strong></p>\n<pre><code>@KafkaListener(topics = &quot;topic&quot;)\npublic void consumeBalance(ConsumerRecord&lt;String, String&gt; payload) throws InterruptedException {\n\n    this.valorMaximoDeRequest = this.valorMaximoDeRequest + 1;\n    if (this.valorMaximoDeRequest &lt;= 100) {\n        log.info(&quot;Encontrou evento )&quot;);\n        log.info(&quot;Key: &quot; + payload.key() + &quot;, Value:&quot; + payload.value());\n        log.info(&quot;Partition:&quot; + payload.partition() + &quot;,Offset:&quot; + payload.offset());\n\n        JsonObject jsonObject = new Gson().fromJson(payload.value(), JsonObject.class);\n        String accountId = jsonObject.get(&quot;accountId&quot;).getAsString();\n        log.info(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; accountId: &quot; + accountId);\n\n    } else {\n        this.valorMaximoDeRequest = 0;\n        Thread.sleep(60*1000);\n    }\n\n}\n</code></pre>\n<p><strong>Kafka config:</strong></p>\n<pre><code>    @Bean\n    public Map&lt;String, Object&gt; kafkaFactory() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(&quot;specific.avro.reader&quot;, Boolean.TRUE);\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;brokers&quot;);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;1&quot;);\n\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\n        props.put(&quot;security.protocol&quot;, &quot;SASL_PLAINTEXT&quot;);\n        return props;\n    }\n</code></pre>\n"},{"tags":["java","ssl","encryption"],"comments":[{"owner":{"account_id":301110,"reputation":98844,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1398781110,"post_id":1037590,"comment_id":35791281,"body_markdown":"`TLS_RSA_WITH_AES_256_CBC_SHA` ... - you should probably avoid the RSA key transport schemes (or place them at the bottom of your advertised list). Instead, favor the ephemeral key exchanges, like `DHE`, for forward secrecy. In fact, TLS 1.3 is discussing their removal because they lack the property.","body":"<code>TLS_RSA_WITH_AES_256_CBC_SHA</code> ... - you should probably avoid the RSA key transport schemes (or place them at the bottom of your advertised list). Instead, favor the ephemeral key exchanges, like <code>DHE</code>, for forward secrecy. In fact, TLS 1.3 is discussing their removal because they lack the property."},{"owner":{"account_id":301110,"reputation":98844,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1398781473,"post_id":1037590,"comment_id":35791580,"body_markdown":"`SSL_RSA_WITH_RC4_128_MD5` ... - `RC4` is the problem child now. See [On the Security of RC4 in TLS and WPA](http://www.isg.rhul.ac.uk/tls/). An attacker probably *cannot* forge a `HMAC-MD5` signature in the network&#39;s 2MSL time window. However, an attacker can statistically correlate bits in the cipher stream. (And MD5 *is* dead for long term use, like certificates and digital signatures).","body":"<code>SSL_RSA_WITH_RC4_128_MD5</code> ... - <code>RC4</code> is the problem child now. See <a href=\"http://www.isg.rhul.ac.uk/tls/\" rel=\"nofollow noreferrer\">On the Security of RC4 in TLS and WPA</a>. An attacker probably <i>cannot</i> forge a <code>HMAC-MD5</code> signature in the network&#39;s 2MSL time window. However, an attacker can statistically correlate bits in the cipher stream. (And MD5 <i>is</i> dead for long term use, like certificates and digital signatures)."},{"owner":{"account_id":301110,"reputation":98844,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1398781498,"post_id":1037590,"comment_id":35791604,"body_markdown":"`SSL_DHE_DSS_EXPORT_WITH_DES40_CBC_SHA` ... - burn it. Avoid it like the plague.","body":"<code>SSL_DHE_DSS_EXPORT_WITH_DES40_CBC_SHA</code> ... - burn it. Avoid it like the plague."}],"answers":[{"tags":[],"owner":{"account_id":20130,"reputation":279845,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1383072726,"creation_date":1245841894,"answer_id":1037713,"question_id":1037590,"body_markdown":"Don&#39;t use anything with export in it.  That&#39;s crippleware due to export restrictions on strong cryptography.\r\n\r\nEDIT: Changed to use 2009 document.\r\n\r\nA 2009 NIST [recommendation][1] lists the following, incluing TLS_RSA_WITH_AES_256_CBC_SHA (which you mentioned):\r\n\r\n&lt;strike&gt;TLS_RSA_WITH_NULL_SHA&lt;/strike&gt; (don&#39;t use this unless you&#39;re sure you don&#39;t need any privacy/confidentiality).\r\n\r\n    TLS_RSA_WITH_3DES_EDE_CBC_SHA\r\n    TLS_RSA_WITH_AES_128_CBC_SHA\r\n    TLS_RSA_WITH_AES_256_CBC_SHA\r\n    TLS_DH_DSS_WITH_3DES_EDE_CBC_SHA\r\n    TLS_DH_RSA_WITH_3DES_EDE_CBC_SHA\r\n    TLS_DHE_DSS_WITH_3DES_EDE_CBC_SHA\r\n    TLS_DHE_RSA_WITH_3DES_EDE_CBC_SHA\r\n    TLS_DH_DSS_WITH_AES_128_CBC_SHA\r\n    TLS_DH_RSA_WITH_AES_128_CBC_SHA\r\n    TLS_DHE_DSS_WITH_AES_128_CBC_SHA\r\n    TLS_DHE_RSA_WITH_AES_128_CBC_SHA\r\n    TLS_DH_DSS_WITH_AES_256_CBC_SHA\r\n    TLS_DH_RSA_WITH_AES_256_CBC_SHA\r\n    TLS_DHE_DSS_WITH_AES_256_CBC_SHA\r\n    TLS_DHE_RSA_WITH_AES_256_CBC_SHA\r\n    TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA\r\n    TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA\r\n    TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA\r\n    TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA\r\n    TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA\r\n    TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA\r\n    TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA\r\n    TLS_ECDH_RSA_WITH_AES_128_CBC_SHA\r\n    TLS_ECDH_RSA_WITH_AES_256_CBC_SHA\r\n    TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA\r\n    TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA\r\n    TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA\r\n    TLS_PSK_WITH_3DES_EDE_CBC_SHA\r\n    TLS_PSK_WITH_AES_128_CBC_SHA\r\n    TLS_PSK_WITH_AES_256_CBC_SHA\r\n    TLS_DHE_PSK_WITH_3DES_EDE_CBC_SHA\r\n    TLS_DHE_PSK_WITH_AES_128_CBC_SHA\r\n    TLS_DHE_PSK_WITH_AES_256_CBC_SHA\r\n    TLS_RSA_PSK_WITH_3DES_EDE_CBC_SHA\r\n    TLS_RSA_PSK_WITH_AES_128_CBC_SHA\r\n    TLS_RSA_PSK_WITH_AES_256_CBC_SHA\r\n    TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256 \r\n    TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 \r\n    TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256 \r\n    TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384 \r\n\r\n\r\n  [1]: http://csrc.nist.gov/publications/nistpubs/800-57/sp800-57_PART3_key-management_Dec2009.pdf\r\n","title":"Which Cipher Suites to enable for SSL Socket?","body":"<p>Don't use anything with export in it.  That's crippleware due to export restrictions on strong cryptography.</p>\n\n<p>EDIT: Changed to use 2009 document.</p>\n\n<p>A 2009 NIST <a href=\"http://csrc.nist.gov/publications/nistpubs/800-57/sp800-57_PART3_key-management_Dec2009.pdf\" rel=\"nofollow noreferrer\">recommendation</a> lists the following, incluing TLS_RSA_WITH_AES_256_CBC_SHA (which you mentioned):</p>\n\n<p><strike>TLS_RSA_WITH_NULL_SHA</strike> (don't use this unless you're sure you don't need any privacy/confidentiality).</p>\n\n<pre><code>TLS_RSA_WITH_3DES_EDE_CBC_SHA\nTLS_RSA_WITH_AES_128_CBC_SHA\nTLS_RSA_WITH_AES_256_CBC_SHA\nTLS_DH_DSS_WITH_3DES_EDE_CBC_SHA\nTLS_DH_RSA_WITH_3DES_EDE_CBC_SHA\nTLS_DHE_DSS_WITH_3DES_EDE_CBC_SHA\nTLS_DHE_RSA_WITH_3DES_EDE_CBC_SHA\nTLS_DH_DSS_WITH_AES_128_CBC_SHA\nTLS_DH_RSA_WITH_AES_128_CBC_SHA\nTLS_DHE_DSS_WITH_AES_128_CBC_SHA\nTLS_DHE_RSA_WITH_AES_128_CBC_SHA\nTLS_DH_DSS_WITH_AES_256_CBC_SHA\nTLS_DH_RSA_WITH_AES_256_CBC_SHA\nTLS_DHE_DSS_WITH_AES_256_CBC_SHA\nTLS_DHE_RSA_WITH_AES_256_CBC_SHA\nTLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA\nTLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA\nTLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA\nTLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA\nTLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA\nTLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA\nTLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA\nTLS_ECDH_RSA_WITH_AES_128_CBC_SHA\nTLS_ECDH_RSA_WITH_AES_256_CBC_SHA\nTLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA\nTLS_ECDHE_RSA_WITH_AES_128_CBC_SHA\nTLS_ECDHE_RSA_WITH_AES_256_CBC_SHA\nTLS_PSK_WITH_3DES_EDE_CBC_SHA\nTLS_PSK_WITH_AES_128_CBC_SHA\nTLS_PSK_WITH_AES_256_CBC_SHA\nTLS_DHE_PSK_WITH_3DES_EDE_CBC_SHA\nTLS_DHE_PSK_WITH_AES_128_CBC_SHA\nTLS_DHE_PSK_WITH_AES_256_CBC_SHA\nTLS_RSA_PSK_WITH_3DES_EDE_CBC_SHA\nTLS_RSA_PSK_WITH_AES_128_CBC_SHA\nTLS_RSA_PSK_WITH_AES_256_CBC_SHA\nTLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256 \nTLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 \nTLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256 \nTLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":301110,"reputation":98844,"user_id":608639,"accept_rate":64,"display_name":"jww"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1434226834,"creation_date":1398776796,"answer_id":23365536,"question_id":1037590,"body_markdown":"Below is the Java class I use to enforce cipher suites and protocols. Prior to `SSLSocketFactoryEx`, I was modifying properties on the `SSLSocket` when I had access to them. The Java folks on Stack Overflow helped with it, so its nice to be able to post it here.\r\n\r\n`SSLSocketFactoryEx` prefers stronger cipher suites (like `ECDHE` and `DHE`), and it omits weak and wounded cipher suites (like `RC4` and `MD5`). It does have to enable four RSA key transport ciphers for interop with Google and Microsoft when TLS 1.2 is *not* available. They are `TLS_RSA_WITH_AES_256_CBC_SHA256`, `TLS_RSA_WITH_AES_256_CBC_SHA` and two friends. If possible, you should remove the `TLS_RSA_*` key transport schemes.\r\n\r\nKeep the cipher suite list as small as possible. If you advertise *all* available ciphers (similar to Flaschen&#39;s list), then your list will be 80+. That takes up 160 bytes in the `ClientHello`, and it can cause some appliances to fail because they have a small, fixed-size buffer for processing the `ClientHello`. Broken appliances include F5 and Ironport.\r\n\r\nIn practice, the list in the code below is paired down to 10 or 15 cipher suites once the preferred list intersects with Java&#39;s supported cipher suites. For example, here&#39;s the list I get when preparing to connect or microsoft.com or google.com with an unlimited JCE policy in place:\r\n\r\n * TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\r\n * TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\r\n * TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\r\n * TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\r\n * TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384\r\n * TLS_DHE_DSS_WITH_AES_256_GCM_SHA384\r\n * TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\r\n * TLS_DHE_DSS_WITH_AES_128_GCM_SHA256\r\n * TLS_DHE_DSS_WITH_AES_256_CBC_SHA256\r\n * TLS_DHE_RSA_WITH_AES_128_CBC_SHA\r\n * TLS_DHE_DSS_WITH_AES_128_CBC_SHA\r\n * TLS_RSA_WITH_AES_256_CBC_SHA256\r\n * TLS_RSA_WITH_AES_256_CBC_SHA\r\n * TLS_RSA_WITH_AES_128_CBC_SHA256\r\n * TLS_RSA_WITH_AES_128_CBC_SHA\r\n\r\nThe list omits weak/wounded algorithms, like RC4 and MD5. If they are enabled, then you will likely get a [Obsolete cryptography warning from Browser](https://stackoverflow.com/q/30270788) on occasion.\r\n\r\nThe list will be smaller with the default JCE policy because the policy removes AES-256 and some others. I think its about 7 cipher suites with the restricted policy.\r\n\r\nThe `SSLSocketFactoryEx` class also ensures protocols TLS 1.0 and above are used. Java clients prior to Java 8 disable TLS 1.1 and 1.2. `SSLContext.getInstance(&quot;TLS&quot;)` will also sneak in `SSLv3` (even in Java 8), so steps have to be taken to remove it.\r\n\r\nFinally, the class below is TLS 1.3 aware, so it should work when the provider makes them available. The `*_CHACHA20_POLY1305` cipher suites are preferred if available because they are so much faster than some of the current suites and they have better security properties. Google has already rolled it out on its servers. I&#39;m not sure when Oracle will provide them. OpenSSL will provide them with OpenSSL &lt;strike&gt;1.0.2&lt;/strike&gt; [1.1.0](https://mta.openssl.org/pipermail/openssl-users/2015-March/000866.html).\r\n\r\nYou can use it like so:\r\n\r\n    URL url = new URL(&quot;https://www.google.com:443&quot;);\r\n    HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\r\n\r\n    SSLSocketFactoryEx factory = new SSLSocketFactoryEx();\r\n    connection.setSSLSocketFactory(factory);\r\n    connection.setRequestProperty(&quot;charset&quot;, &quot;utf-8&quot;);\r\n        \r\n    InputStream input = connection.getInputStream();\r\n    InputStreamReader reader = new InputStreamReader(input, &quot;utf-8&quot;);\r\n    BufferedReader buffer = new BufferedReader(reader);\r\n    ...\r\n\r\n-----\r\n\r\n    class SSLSocketFactoryEx extends SSLSocketFactory\r\n    {\r\n        public SSLSocketFactoryEx() throws NoSuchAlgorithmException, KeyManagementException\r\n        {\r\n            initSSLSocketFactoryEx(null,null,null);\r\n        }\r\n        \r\n        public SSLSocketFactoryEx(KeyManager[] km, TrustManager[] tm, SecureRandom random) throws NoSuchAlgorithmException, KeyManagementException\r\n        {\r\n            initSSLSocketFactoryEx(km, tm, random);\r\n        }\r\n        \r\n        public SSLSocketFactoryEx(SSLContext ctx) throws NoSuchAlgorithmException, KeyManagementException\r\n        {\r\n            initSSLSocketFactoryEx(ctx);\r\n        }\r\n        \r\n        public String[] getDefaultCipherSuites()\r\n        {\r\n            return m_ciphers;\r\n        }\r\n        \r\n        public String[] getSupportedCipherSuites()\r\n        {\r\n            return m_ciphers;\r\n        }\r\n    \r\n        public String[] getDefaultProtocols()\r\n        {\r\n            return m_protocols;\r\n        }\r\n        \r\n        public String[] getSupportedProtocols()\r\n        {\r\n            return m_protocols;\r\n        }\r\n        \r\n        public Socket createSocket(Socket s, String host, int port, boolean autoClose) throws IOException\r\n        {\r\n            SSLSocketFactory factory = m_ctx.getSocketFactory();\r\n            SSLSocket ss = (SSLSocket)factory.createSocket(s, host, port, autoClose);\r\n            \r\n            ss.setEnabledProtocols(m_protocols);\r\n            ss.setEnabledCipherSuites(m_ciphers);\r\n            \r\n            return ss;\r\n        }\r\n        \r\n        public Socket createSocket(InetAddress address, int port, InetAddress localAddress, int localPort) throws IOException\r\n        {\r\n            SSLSocketFactory factory = m_ctx.getSocketFactory();\r\n            SSLSocket ss = (SSLSocket)factory.createSocket(address, port, localAddress, localPort);\r\n            \r\n            ss.setEnabledProtocols(m_protocols);\r\n            ss.setEnabledCipherSuites(m_ciphers);\r\n            \r\n            return ss;\r\n        }\r\n        \r\n        public Socket createSocket(String host, int port, InetAddress localHost, int localPort) throws IOException\r\n        {\r\n            SSLSocketFactory factory = m_ctx.getSocketFactory();\r\n            SSLSocket ss = (SSLSocket)factory.createSocket(host, port, localHost, localPort);\r\n            \r\n            ss.setEnabledProtocols(m_protocols);\r\n            ss.setEnabledCipherSuites(m_ciphers);\r\n            \r\n            return ss;\r\n        }\r\n        \r\n        public Socket createSocket(InetAddress host, int port) throws IOException\r\n        {\r\n            SSLSocketFactory factory = m_ctx.getSocketFactory();\r\n            SSLSocket ss = (SSLSocket)factory.createSocket(host, port);\r\n            \r\n            ss.setEnabledProtocols(m_protocols);\r\n            ss.setEnabledCipherSuites(m_ciphers);\r\n            \r\n            return ss;\r\n        }\r\n        \r\n        public Socket createSocket(String host, int port) throws IOException\r\n        {\r\n            SSLSocketFactory factory = m_ctx.getSocketFactory();\r\n            SSLSocket ss = (SSLSocket)factory.createSocket(host, port);\r\n            \r\n            ss.setEnabledProtocols(m_protocols);\r\n            ss.setEnabledCipherSuites(m_ciphers);\r\n            \r\n            return ss;\r\n        }\r\n        \r\n        private void initSSLSocketFactoryEx(KeyManager[] km, TrustManager[] tm, SecureRandom random)\r\n        throws NoSuchAlgorithmException, KeyManagementException\r\n        {\r\n            m_ctx = SSLContext.getInstance(&quot;TLS&quot;);\r\n            m_ctx.init(km, tm, random);\r\n            \r\n            m_protocols = GetProtocolList();\r\n            m_ciphers = GetCipherList();\r\n        }\r\n        \r\n        private void initSSLSocketFactoryEx(SSLContext ctx)\r\n        throws NoSuchAlgorithmException, KeyManagementException\r\n        {\r\n            m_ctx = ctx;\r\n            \r\n            m_protocols = GetProtocolList();\r\n            m_ciphers = GetCipherList();\r\n        }\r\n        \r\n        protected String[] GetProtocolList()\r\n        {\r\n            String[] preferredProtocols = { &quot;TLSv1&quot;, &quot;TLSv1.1&quot;, &quot;TLSv1.2&quot;, &quot;TLSv1.3&quot; };\r\n            String[] availableProtocols = null;\r\n            \r\n            SSLSocket socket = null;\r\n            \r\n            try\r\n            {\r\n                SSLSocketFactory factory = m_ctx.getSocketFactory();\r\n                socket = (SSLSocket)factory.createSocket();\r\n                \r\n                availableProtocols = socket.getSupportedProtocols();\r\n                Arrays.sort(availableProtocols);\r\n            }\r\n            catch(Exception e)\r\n            {\r\n                return new String[]{ &quot;TLSv1&quot; };\r\n            }\r\n            finally\r\n            {\r\n                if(socket != null)\r\n                    socket.close();\r\n            }\r\n            \r\n            List&lt;String&gt; aa = new ArrayList&lt;String&gt;();\r\n            for(int i = 0; i &lt; preferredProtocols.length; i++)\r\n            {\r\n                int idx = Arrays.binarySearch(availableProtocols, preferredProtocols[i]);\r\n                if(idx &gt;= 0)\r\n                    aa.add(preferredProtocols[i]);\r\n            }\r\n            \r\n            return aa.toArray(new String[0]);\r\n        }\r\n        \r\n        protected String[] GetCipherList()\r\n        {\r\n            String[] preferredCiphers = {\r\n                \r\n                // *_CHACHA20_POLY1305 are 3x to 4x faster than existing cipher suites.\r\n                //   http://googleonlinesecurity.blogspot.com/2014/04/speeding-up-and-strengthening-https.html\r\n                // Use them if available. Normative names can be found at (TLS spec depends on IPSec spec):\r\n                //   http://tools.ietf.org/html/draft-nir-ipsecme-chacha20-poly1305-01\r\n                //   http://tools.ietf.org/html/draft-mavrogiannopoulos-chacha-tls-02\r\n                &quot;TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305&quot;,\r\n                &quot;TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305&quot;,\r\n                &quot;TLS_ECDHE_ECDSA_WITH_CHACHA20_SHA&quot;,\r\n                &quot;TLS_ECDHE_RSA_WITH_CHACHA20_SHA&quot;,\r\n                \r\n                &quot;TLS_DHE_RSA_WITH_CHACHA20_POLY1305&quot;,\r\n                &quot;TLS_RSA_WITH_CHACHA20_POLY1305&quot;,\r\n                &quot;TLS_DHE_RSA_WITH_CHACHA20_SHA&quot;,\r\n                &quot;TLS_RSA_WITH_CHACHA20_SHA&quot;,\r\n                \r\n                // Done with bleeding edge, back to TLS v1.2 and below\r\n                &quot;TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384&quot;,\r\n                &quot;TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384&quot;,\r\n                &quot;TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256&quot;,\r\n                &quot;TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256&quot;,\r\n                \r\n                &quot;TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384&quot;,\r\n                &quot;TLS_DHE_DSS_WITH_AES_256_GCM_SHA384&quot;,\r\n                &quot;TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256&quot;,\r\n                &quot;TLS_DHE_DSS_WITH_AES_128_GCM_SHA256&quot;,\r\n                \r\n                // TLS v1.0 (with some SSLv3 interop)\r\n                &quot;TLS_DHE_RSA_WITH_AES_256_CBC_SHA384&quot;,\r\n                &quot;TLS_DHE_DSS_WITH_AES_256_CBC_SHA256&quot;,\r\n                &quot;TLS_DHE_RSA_WITH_AES_128_CBC_SHA&quot;,\r\n                &quot;TLS_DHE_DSS_WITH_AES_128_CBC_SHA&quot;,\r\n                \r\n                &quot;TLS_DHE_RSA_WITH_3DES_EDE_CBC_SHA&quot;,\r\n                &quot;TLS_DHE_DSS_WITH_3DES_EDE_CBC_SHA&quot;,\r\n                &quot;SSL_DH_RSA_WITH_3DES_EDE_CBC_SHA&quot;,\r\n                &quot;SSL_DH_DSS_WITH_3DES_EDE_CBC_SHA&quot;,\r\n                \r\n                // RSA key transport sucks, but they are needed as a fallback.\r\n                // For example, microsoft.com fails under all versions of TLS\r\n                // if they are not included. If only TLS 1.0 is available at\r\n                // the client, then google.com will fail too. TLS v1.3 is\r\n                // trying to deprecate them, so it will be interesteng to see\r\n                // what happens.\r\n                &quot;TLS_RSA_WITH_AES_256_CBC_SHA256&quot;,\r\n                &quot;TLS_RSA_WITH_AES_256_CBC_SHA&quot;,\r\n                &quot;TLS_RSA_WITH_AES_128_CBC_SHA256&quot;,\r\n                &quot;TLS_RSA_WITH_AES_128_CBC_SHA&quot;\r\n            };\r\n            \r\n            String[] availableCiphers = null;\r\n            \r\n            try\r\n            {\r\n                SSLSocketFactory factory = m_ctx.getSocketFactory();\r\n                availableCiphers = factory.getSupportedCipherSuites();\r\n                Arrays.sort(availableCiphers);\r\n            }\r\n            catch(Exception e)\r\n            {\r\n                return new String[] {\r\n                    &quot;TLS_DHE_DSS_WITH_AES_128_CBC_SHA&quot;,\r\n                    &quot;TLS_DHE_DSS_WITH_AES_256_CBC_SHA&quot;,\r\n                    &quot;TLS_DHE_RSA_WITH_AES_128_CBC_SHA&quot;,\r\n                    &quot;TLS_DHE_RSA_WITH_AES_256_CBC_SHA&quot;,\r\n                    &quot;TLS_RSA_WITH_AES_256_CBC_SHA256&quot;,\r\n                    &quot;TLS_RSA_WITH_AES_256_CBC_SHA&quot;,\r\n                    &quot;TLS_RSA_WITH_AES_128_CBC_SHA256&quot;,\r\n                    &quot;TLS_RSA_WITH_AES_128_CBC_SHA&quot;,\r\n                    &quot;TLS_EMPTY_RENEGOTIATION_INFO_SCSV&quot;\r\n                };\r\n            }\r\n            \r\n            List&lt;String&gt; aa = new ArrayList&lt;String&gt;();\r\n            for(int i = 0; i &lt; preferredCiphers.length; i++)\r\n            {\r\n                int idx = Arrays.binarySearch(availableCiphers, preferredCiphers[i]);\r\n                if(idx &gt;= 0)\r\n                    aa.add(preferredCiphers[i]);\r\n            }\r\n            \r\n            aa.add(&quot;TLS_EMPTY_RENEGOTIATION_INFO_SCSV&quot;);\r\n            \r\n            return aa.toArray(new String[0]);\r\n        }\r\n        \r\n        private SSLContext m_ctx;\r\n        \r\n        private String[] m_ciphers;\r\n        private String[] m_protocols;\r\n    }\r\n\r\n","title":"Which Cipher Suites to enable for SSL Socket?","body":"<p>Below is the Java class I use to enforce cipher suites and protocols. Prior to <code>SSLSocketFactoryEx</code>, I was modifying properties on the <code>SSLSocket</code> when I had access to them. The Java folks on Stack Overflow helped with it, so its nice to be able to post it here.</p>\n\n<p><code>SSLSocketFactoryEx</code> prefers stronger cipher suites (like <code>ECDHE</code> and <code>DHE</code>), and it omits weak and wounded cipher suites (like <code>RC4</code> and <code>MD5</code>). It does have to enable four RSA key transport ciphers for interop with Google and Microsoft when TLS 1.2 is <em>not</em> available. They are <code>TLS_RSA_WITH_AES_256_CBC_SHA256</code>, <code>TLS_RSA_WITH_AES_256_CBC_SHA</code> and two friends. If possible, you should remove the <code>TLS_RSA_*</code> key transport schemes.</p>\n\n<p>Keep the cipher suite list as small as possible. If you advertise <em>all</em> available ciphers (similar to Flaschen's list), then your list will be 80+. That takes up 160 bytes in the <code>ClientHello</code>, and it can cause some appliances to fail because they have a small, fixed-size buffer for processing the <code>ClientHello</code>. Broken appliances include F5 and Ironport.</p>\n\n<p>In practice, the list in the code below is paired down to 10 or 15 cipher suites once the preferred list intersects with Java's supported cipher suites. For example, here's the list I get when preparing to connect or microsoft.com or google.com with an unlimited JCE policy in place:</p>\n\n<ul>\n<li>TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384</li>\n<li>TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384</li>\n<li>TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256</li>\n<li>TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256</li>\n<li>TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384</li>\n<li>TLS_DHE_DSS_WITH_AES_256_GCM_SHA384</li>\n<li>TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256</li>\n<li>TLS_DHE_DSS_WITH_AES_128_GCM_SHA256</li>\n<li>TLS_DHE_DSS_WITH_AES_256_CBC_SHA256</li>\n<li>TLS_DHE_RSA_WITH_AES_128_CBC_SHA</li>\n<li>TLS_DHE_DSS_WITH_AES_128_CBC_SHA</li>\n<li>TLS_RSA_WITH_AES_256_CBC_SHA256</li>\n<li>TLS_RSA_WITH_AES_256_CBC_SHA</li>\n<li>TLS_RSA_WITH_AES_128_CBC_SHA256</li>\n<li>TLS_RSA_WITH_AES_128_CBC_SHA</li>\n</ul>\n\n<p>The list omits weak/wounded algorithms, like RC4 and MD5. If they are enabled, then you will likely get a <a href=\"https://stackoverflow.com/q/30270788\">Obsolete cryptography warning from Browser</a> on occasion.</p>\n\n<p>The list will be smaller with the default JCE policy because the policy removes AES-256 and some others. I think its about 7 cipher suites with the restricted policy.</p>\n\n<p>The <code>SSLSocketFactoryEx</code> class also ensures protocols TLS 1.0 and above are used. Java clients prior to Java 8 disable TLS 1.1 and 1.2. <code>SSLContext.getInstance(\"TLS\")</code> will also sneak in <code>SSLv3</code> (even in Java 8), so steps have to be taken to remove it.</p>\n\n<p>Finally, the class below is TLS 1.3 aware, so it should work when the provider makes them available. The <code>*_CHACHA20_POLY1305</code> cipher suites are preferred if available because they are so much faster than some of the current suites and they have better security properties. Google has already rolled it out on its servers. I'm not sure when Oracle will provide them. OpenSSL will provide them with OpenSSL <strike>1.0.2</strike> <a href=\"https://mta.openssl.org/pipermail/openssl-users/2015-March/000866.html\" rel=\"noreferrer\">1.1.0</a>.</p>\n\n<p>You can use it like so:</p>\n\n<pre><code>URL url = new URL(\"https://www.google.com:443\");\nHttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\n\nSSLSocketFactoryEx factory = new SSLSocketFactoryEx();\nconnection.setSSLSocketFactory(factory);\nconnection.setRequestProperty(\"charset\", \"utf-8\");\n\nInputStream input = connection.getInputStream();\nInputStreamReader reader = new InputStreamReader(input, \"utf-8\");\nBufferedReader buffer = new BufferedReader(reader);\n...\n</code></pre>\n\n<hr>\n\n<pre><code>class SSLSocketFactoryEx extends SSLSocketFactory\n{\n    public SSLSocketFactoryEx() throws NoSuchAlgorithmException, KeyManagementException\n    {\n        initSSLSocketFactoryEx(null,null,null);\n    }\n\n    public SSLSocketFactoryEx(KeyManager[] km, TrustManager[] tm, SecureRandom random) throws NoSuchAlgorithmException, KeyManagementException\n    {\n        initSSLSocketFactoryEx(km, tm, random);\n    }\n\n    public SSLSocketFactoryEx(SSLContext ctx) throws NoSuchAlgorithmException, KeyManagementException\n    {\n        initSSLSocketFactoryEx(ctx);\n    }\n\n    public String[] getDefaultCipherSuites()\n    {\n        return m_ciphers;\n    }\n\n    public String[] getSupportedCipherSuites()\n    {\n        return m_ciphers;\n    }\n\n    public String[] getDefaultProtocols()\n    {\n        return m_protocols;\n    }\n\n    public String[] getSupportedProtocols()\n    {\n        return m_protocols;\n    }\n\n    public Socket createSocket(Socket s, String host, int port, boolean autoClose) throws IOException\n    {\n        SSLSocketFactory factory = m_ctx.getSocketFactory();\n        SSLSocket ss = (SSLSocket)factory.createSocket(s, host, port, autoClose);\n\n        ss.setEnabledProtocols(m_protocols);\n        ss.setEnabledCipherSuites(m_ciphers);\n\n        return ss;\n    }\n\n    public Socket createSocket(InetAddress address, int port, InetAddress localAddress, int localPort) throws IOException\n    {\n        SSLSocketFactory factory = m_ctx.getSocketFactory();\n        SSLSocket ss = (SSLSocket)factory.createSocket(address, port, localAddress, localPort);\n\n        ss.setEnabledProtocols(m_protocols);\n        ss.setEnabledCipherSuites(m_ciphers);\n\n        return ss;\n    }\n\n    public Socket createSocket(String host, int port, InetAddress localHost, int localPort) throws IOException\n    {\n        SSLSocketFactory factory = m_ctx.getSocketFactory();\n        SSLSocket ss = (SSLSocket)factory.createSocket(host, port, localHost, localPort);\n\n        ss.setEnabledProtocols(m_protocols);\n        ss.setEnabledCipherSuites(m_ciphers);\n\n        return ss;\n    }\n\n    public Socket createSocket(InetAddress host, int port) throws IOException\n    {\n        SSLSocketFactory factory = m_ctx.getSocketFactory();\n        SSLSocket ss = (SSLSocket)factory.createSocket(host, port);\n\n        ss.setEnabledProtocols(m_protocols);\n        ss.setEnabledCipherSuites(m_ciphers);\n\n        return ss;\n    }\n\n    public Socket createSocket(String host, int port) throws IOException\n    {\n        SSLSocketFactory factory = m_ctx.getSocketFactory();\n        SSLSocket ss = (SSLSocket)factory.createSocket(host, port);\n\n        ss.setEnabledProtocols(m_protocols);\n        ss.setEnabledCipherSuites(m_ciphers);\n\n        return ss;\n    }\n\n    private void initSSLSocketFactoryEx(KeyManager[] km, TrustManager[] tm, SecureRandom random)\n    throws NoSuchAlgorithmException, KeyManagementException\n    {\n        m_ctx = SSLContext.getInstance(\"TLS\");\n        m_ctx.init(km, tm, random);\n\n        m_protocols = GetProtocolList();\n        m_ciphers = GetCipherList();\n    }\n\n    private void initSSLSocketFactoryEx(SSLContext ctx)\n    throws NoSuchAlgorithmException, KeyManagementException\n    {\n        m_ctx = ctx;\n\n        m_protocols = GetProtocolList();\n        m_ciphers = GetCipherList();\n    }\n\n    protected String[] GetProtocolList()\n    {\n        String[] preferredProtocols = { \"TLSv1\", \"TLSv1.1\", \"TLSv1.2\", \"TLSv1.3\" };\n        String[] availableProtocols = null;\n\n        SSLSocket socket = null;\n\n        try\n        {\n            SSLSocketFactory factory = m_ctx.getSocketFactory();\n            socket = (SSLSocket)factory.createSocket();\n\n            availableProtocols = socket.getSupportedProtocols();\n            Arrays.sort(availableProtocols);\n        }\n        catch(Exception e)\n        {\n            return new String[]{ \"TLSv1\" };\n        }\n        finally\n        {\n            if(socket != null)\n                socket.close();\n        }\n\n        List&lt;String&gt; aa = new ArrayList&lt;String&gt;();\n        for(int i = 0; i &lt; preferredProtocols.length; i++)\n        {\n            int idx = Arrays.binarySearch(availableProtocols, preferredProtocols[i]);\n            if(idx &gt;= 0)\n                aa.add(preferredProtocols[i]);\n        }\n\n        return aa.toArray(new String[0]);\n    }\n\n    protected String[] GetCipherList()\n    {\n        String[] preferredCiphers = {\n\n            // *_CHACHA20_POLY1305 are 3x to 4x faster than existing cipher suites.\n            //   http://googleonlinesecurity.blogspot.com/2014/04/speeding-up-and-strengthening-https.html\n            // Use them if available. Normative names can be found at (TLS spec depends on IPSec spec):\n            //   http://tools.ietf.org/html/draft-nir-ipsecme-chacha20-poly1305-01\n            //   http://tools.ietf.org/html/draft-mavrogiannopoulos-chacha-tls-02\n            \"TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305\",\n            \"TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305\",\n            \"TLS_ECDHE_ECDSA_WITH_CHACHA20_SHA\",\n            \"TLS_ECDHE_RSA_WITH_CHACHA20_SHA\",\n\n            \"TLS_DHE_RSA_WITH_CHACHA20_POLY1305\",\n            \"TLS_RSA_WITH_CHACHA20_POLY1305\",\n            \"TLS_DHE_RSA_WITH_CHACHA20_SHA\",\n            \"TLS_RSA_WITH_CHACHA20_SHA\",\n\n            // Done with bleeding edge, back to TLS v1.2 and below\n            \"TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\",\n            \"TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\",\n            \"TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\",\n            \"TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\",\n\n            \"TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384\",\n            \"TLS_DHE_DSS_WITH_AES_256_GCM_SHA384\",\n            \"TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\",\n            \"TLS_DHE_DSS_WITH_AES_128_GCM_SHA256\",\n\n            // TLS v1.0 (with some SSLv3 interop)\n            \"TLS_DHE_RSA_WITH_AES_256_CBC_SHA384\",\n            \"TLS_DHE_DSS_WITH_AES_256_CBC_SHA256\",\n            \"TLS_DHE_RSA_WITH_AES_128_CBC_SHA\",\n            \"TLS_DHE_DSS_WITH_AES_128_CBC_SHA\",\n\n            \"TLS_DHE_RSA_WITH_3DES_EDE_CBC_SHA\",\n            \"TLS_DHE_DSS_WITH_3DES_EDE_CBC_SHA\",\n            \"SSL_DH_RSA_WITH_3DES_EDE_CBC_SHA\",\n            \"SSL_DH_DSS_WITH_3DES_EDE_CBC_SHA\",\n\n            // RSA key transport sucks, but they are needed as a fallback.\n            // For example, microsoft.com fails under all versions of TLS\n            // if they are not included. If only TLS 1.0 is available at\n            // the client, then google.com will fail too. TLS v1.3 is\n            // trying to deprecate them, so it will be interesteng to see\n            // what happens.\n            \"TLS_RSA_WITH_AES_256_CBC_SHA256\",\n            \"TLS_RSA_WITH_AES_256_CBC_SHA\",\n            \"TLS_RSA_WITH_AES_128_CBC_SHA256\",\n            \"TLS_RSA_WITH_AES_128_CBC_SHA\"\n        };\n\n        String[] availableCiphers = null;\n\n        try\n        {\n            SSLSocketFactory factory = m_ctx.getSocketFactory();\n            availableCiphers = factory.getSupportedCipherSuites();\n            Arrays.sort(availableCiphers);\n        }\n        catch(Exception e)\n        {\n            return new String[] {\n                \"TLS_DHE_DSS_WITH_AES_128_CBC_SHA\",\n                \"TLS_DHE_DSS_WITH_AES_256_CBC_SHA\",\n                \"TLS_DHE_RSA_WITH_AES_128_CBC_SHA\",\n                \"TLS_DHE_RSA_WITH_AES_256_CBC_SHA\",\n                \"TLS_RSA_WITH_AES_256_CBC_SHA256\",\n                \"TLS_RSA_WITH_AES_256_CBC_SHA\",\n                \"TLS_RSA_WITH_AES_128_CBC_SHA256\",\n                \"TLS_RSA_WITH_AES_128_CBC_SHA\",\n                \"TLS_EMPTY_RENEGOTIATION_INFO_SCSV\"\n            };\n        }\n\n        List&lt;String&gt; aa = new ArrayList&lt;String&gt;();\n        for(int i = 0; i &lt; preferredCiphers.length; i++)\n        {\n            int idx = Arrays.binarySearch(availableCiphers, preferredCiphers[i]);\n            if(idx &gt;= 0)\n                aa.add(preferredCiphers[i]);\n        }\n\n        aa.add(\"TLS_EMPTY_RENEGOTIATION_INFO_SCSV\");\n\n        return aa.toArray(new String[0]);\n    }\n\n    private SSLContext m_ctx;\n\n    private String[] m_ciphers;\n    private String[] m_protocols;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11254118,"reputation":219,"user_id":8254454,"display_name":"Dimitri Tenenbaum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649618920,"creation_date":1649618920,"answer_id":71819885,"question_id":1037590,"body_markdown":"Here you can check how secure a cipher is: [https://ciphersuite.info/cs/][1]\r\n\r\n\r\n  [1]: https://ciphersuite.info/cs/\r\n\r\nHere is a method to check the cipher via API:\r\n \r\n\r\n     public static boolean isCipherSecure(String cipher) throws Exception\r\n      {\r\n        URL url = new URL(&quot;https://ciphersuite.info/api/cs/&quot;);\r\n        URLConnection request = url.openConnection();\r\n        request.connect();\r\n    \r\n        JsonElement root = JsonParser.parseReader(new InputStreamReader((InputStream) request.getContent())); \r\n        JsonObject rootobj = root.getAsJsonObject();\r\n        JsonArray suits = rootobj.getAsJsonArray(&quot;ciphersuites&quot;);\r\n        for (JsonElement el : suits)\r\n        {\r\n          Set&lt;Map.Entry&lt;String, JsonElement&gt;&gt; entries = el.getAsJsonObject().entrySet();\r\n          for (Map.Entry&lt;String, JsonElement&gt; entry : entries)\r\n          {\r\n            if (entry.getKey().contentEquals(cipher) || entry.getValue().getAsJsonObject()\r\n                .getAsJsonPrimitive(&quot;openssl_name&quot;).getAsString().contentEquals(cipher))\r\n            {\r\n              String sec = entry.getValue().getAsJsonObject().getAsJsonPrimitive(&quot;security&quot;).getAsString();\r\n              System.out.println(entry.getKey() + &quot;: &quot; + sec);\r\n              if (sec.contentEquals(&quot;recommended&quot;) || sec.contentEquals(&quot;secure&quot;))\r\n              {\r\n                return true;\r\n              }\r\n              else\r\n                return false;\r\n            }\r\n          }\r\n        }\r\n        throw new Exception(&quot;Can&#39;t find cipher: &quot; + cipher);\r\n      }\r\n\r\n\r\nThe call:\r\n\r\n     SSLServerSocketFactory ssf = (SSLServerSocketFactory) SSLServerSocketFactory.getDefault();\r\n        for (String cipher : ssf.getSupportedCipherSuites())\r\n        {\r\n            if (isCipherSecure(cipher))\r\n            {\r\n              //your code\r\n            }\r\n        }","title":"Which Cipher Suites to enable for SSL Socket?","body":"<p>Here you can check how secure a cipher is: <a href=\"https://ciphersuite.info/cs/\" rel=\"nofollow noreferrer\">https://ciphersuite.info/cs/</a></p>\n<p>Here is a method to check the cipher via API:</p>\n<pre><code> public static boolean isCipherSecure(String cipher) throws Exception\n  {\n    URL url = new URL(&quot;https://ciphersuite.info/api/cs/&quot;);\n    URLConnection request = url.openConnection();\n    request.connect();\n\n    JsonElement root = JsonParser.parseReader(new InputStreamReader((InputStream) request.getContent())); \n    JsonObject rootobj = root.getAsJsonObject();\n    JsonArray suits = rootobj.getAsJsonArray(&quot;ciphersuites&quot;);\n    for (JsonElement el : suits)\n    {\n      Set&lt;Map.Entry&lt;String, JsonElement&gt;&gt; entries = el.getAsJsonObject().entrySet();\n      for (Map.Entry&lt;String, JsonElement&gt; entry : entries)\n      {\n        if (entry.getKey().contentEquals(cipher) || entry.getValue().getAsJsonObject()\n            .getAsJsonPrimitive(&quot;openssl_name&quot;).getAsString().contentEquals(cipher))\n        {\n          String sec = entry.getValue().getAsJsonObject().getAsJsonPrimitive(&quot;security&quot;).getAsString();\n          System.out.println(entry.getKey() + &quot;: &quot; + sec);\n          if (sec.contentEquals(&quot;recommended&quot;) || sec.contentEquals(&quot;secure&quot;))\n          {\n            return true;\n          }\n          else\n            return false;\n        }\n      }\n    }\n    throw new Exception(&quot;Can't find cipher: &quot; + cipher);\n  }\n</code></pre>\n<p>The call:</p>\n<pre><code> SSLServerSocketFactory ssf = (SSLServerSocketFactory) SSLServerSocketFactory.getDefault();\n    for (String cipher : ssf.getSupportedCipherSuites())\n    {\n        if (isCipherSecure(cipher))\n        {\n          //your code\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":8456,"reputation":22280,"user_id":15255,"accept_rate":89,"display_name":"Zarkonnen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56944,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":1037713,"answer_count":3,"score":21,"last_activity_date":1649618920,"creation_date":1245840092,"question_id":1037590,"body_markdown":"I&#39;m using Java&#39;s SSLSocket to secure communications between a client and a server program. The server program also serves up HTTPS requests from web browsers.\r\n\r\nAccording to &quot;&lt;a href=&quot;http://www.wrox.com/WileyCDA/WroxTitle/productCd-0764596330.html&quot;&gt;Beginning Cryptography with Java&lt;/a&gt;&quot;, page 371, you should always call `setEnabledCipherSuites` on your `SSLSocket` / `SSLServerSocket` to ensure that the cipher suite that ends up being negotiated is sufficiently strong for your purposes.\r\n\r\nThat being said, a call to my `SSLSocketFactory`&#39;s `getDefaultCipherSuites` method yields some *180* options. These options range from `TLS_RSA_WITH_AES_256_CBC_SHA` (which I think is fairly secure) to `SSL_RSA_WITH_RC4_128_MD5` (not so sure if that&#39;s secure, given MD5&#39;s current status) to `SSL_DHE_DSS_EXPORT_WITH_DES40_CBC_SHA` (not entirely sure what that does).\r\n\r\n**What&#39;s a sensible list of cipher suites to restrict the sockets to?**\r\n\r\nNote that the client and server have access to the &lt;a href=&quot;http://www.bouncycastle.org/&quot;&gt;Bouncy Castle&lt;/a&gt; service provider, and that they may or may not have unlimited cryptographic policy files installed.","title":"Which Cipher Suites to enable for SSL Socket?","body":"<p>I'm using Java's SSLSocket to secure communications between a client and a server program. The server program also serves up HTTPS requests from web browsers.</p>\n\n<p>According to \"<a href=\"http://www.wrox.com/WileyCDA/WroxTitle/productCd-0764596330.html\" rel=\"noreferrer\">Beginning Cryptography with Java</a>\", page 371, you should always call <code>setEnabledCipherSuites</code> on your <code>SSLSocket</code> / <code>SSLServerSocket</code> to ensure that the cipher suite that ends up being negotiated is sufficiently strong for your purposes.</p>\n\n<p>That being said, a call to my <code>SSLSocketFactory</code>'s <code>getDefaultCipherSuites</code> method yields some <em>180</em> options. These options range from <code>TLS_RSA_WITH_AES_256_CBC_SHA</code> (which I think is fairly secure) to <code>SSL_RSA_WITH_RC4_128_MD5</code> (not so sure if that's secure, given MD5's current status) to <code>SSL_DHE_DSS_EXPORT_WITH_DES40_CBC_SHA</code> (not entirely sure what that does).</p>\n\n<p><strong>What's a sensible list of cipher suites to restrict the sockets to?</strong></p>\n\n<p>Note that the client and server have access to the <a href=\"http://www.bouncycastle.org/\" rel=\"noreferrer\">Bouncy Castle</a> service provider, and that they may or may not have unlimited cryptographic policy files installed.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":20468026,"reputation":103,"user_id":15019099,"display_name":"LiavC"},"score":0,"creation_date":1649615949,"post_id":71819517,"comment_id":126915204,"body_markdown":"You need to break out of the loop if the condition is met.","body":"You need to break out of the loop if the condition is met."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1649616316,"post_id":71819517,"comment_id":126915288,"body_markdown":"&quot;*Please overhaul or modify my code in order to meet the requirements(You must use parallel arrays - Prof).*&quot; - This is not how Stack overflow works. We are not a code writing service. I recommend taking the [tour] and reading the [help] page.","body":"&quot;<i>Please overhaul or modify my code in order to meet the requirements(You must use parallel arrays - Prof).</i>&quot; - This is not how Stack overflow works. We are not a code writing service. I recommend taking the <a href=\"https://stackoverflow.com/tour\">tour</a> and reading the <a href=\"https://stackoverflow.com/help\">help center</a> page."}],"answers":[{"tags":[],"owner":{"account_id":24474877,"reputation":43,"user_id":18394056,"display_name":"William Lafond"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649616057,"creation_date":1649616057,"answer_id":71819536,"question_id":71819517,"body_markdown":"You want to check if the choice is either of the 4 options, try doing a break;","title":"Parallel Arrays in a for loop","body":"<p>You want to check if the choice is either of the 4 options, try doing a break;</p>\n"},{"tags":[],"owner":{"account_id":14894401,"reputation":186,"user_id":10755186,"display_name":"Amrit Malla"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649616454,"creation_date":1649616454,"answer_id":71819593,"question_id":71819517,"body_markdown":"You can use return statement for your requirement. \r\n\r\n```\r\nimport java.util.*;\r\npublic class CarCareChoice {\r\n    public static void main (String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n        \r\n        String[] offers =  { &quot;oil change&quot;, &quot;tire rotation&quot;,\r\n         &quot;battery check&quot;, &quot;brake inspection&quot;};\r\n        \r\n        int[] prices = {25, 22, 15, 5};\r\n        \r\n        System.out.println(&quot;Enter Selection:&quot;);\r\n        String choice = input.nextLine();\r\n        \r\n        \r\n        for(int x = 0; x &lt; prices.length; ++x){\r\n             if(offers[x].equals(choice)){\r\n                System.out.println(offers[x] +&quot; price is $&quot; + prices[x]);\r\n                return;\r\n             }\r\n        }  \r\n        System.out.println(&quot;Invalid Entry&quot;);\r\n    }\r\n}\r\n\r\n","title":"Parallel Arrays in a for loop","body":"<p>You can use return statement for your requirement.</p>\n<pre><code>import java.util.*;\npublic class CarCareChoice {\n    public static void main (String[] args) {\n        Scanner input = new Scanner(System.in);\n        \n        String[] offers =  { &quot;oil change&quot;, &quot;tire rotation&quot;,\n         &quot;battery check&quot;, &quot;brake inspection&quot;};\n        \n        int[] prices = {25, 22, 15, 5};\n        \n        System.out.println(&quot;Enter Selection:&quot;);\n        String choice = input.nextLine();\n        \n        \n        for(int x = 0; x &lt; prices.length; ++x){\n             if(offers[x].equals(choice)){\n                System.out.println(offers[x] +&quot; price is $&quot; + prices[x]);\n                return;\n             }\n        }  \n        System.out.println(&quot;Invalid Entry&quot;);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":23700479,"reputation":45,"user_id":17723710,"display_name":"R.E.F."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":421,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71819593,"answer_count":2,"score":-1,"last_activity_date":1649617171,"creation_date":1649615829,"question_id":71819517,"body_markdown":"It&#39;s my 2nd week in Java. \r\n\r\n**The problem:**\r\n\r\nWrite an application for Cody’s Car Care Shop that shows a user a list of available services: oil change, tire rotation, battery check, or brake inspection. Allow the user to enter a string that corresponds to one of the options, and display the option and its price as $25, $22, $15, or $5, accordingly. Display Invalid Entry if the user enters an invalid item.\r\n\r\nAs you can see in my comments on bottom most part of the code, my program still produce invalid entries. Please overhaul or modify my code in order to meet the requirements(You must use parallel arrays - Prof).\r\n\r\n\r\n\r\n    import java.util.*;\r\n    public class CarCareChoice {\r\n        public static void main (String[] args) {\r\n            Scanner input = new Scanner(System.in);\r\n            \r\n            String[] offers =  { &quot;oil change&quot;, &quot;tire rotation&quot;,\r\n             &quot;battery check&quot;, &quot;brake inspection&quot;};\r\n            \r\n            int[] prices = {25, 22, 15, 5};\r\n            \r\n            System.out.println(&quot;Enter Selection:&quot;);\r\n            String choice = input.nextLine();\r\n            \r\n            for(int x = 0; x &lt; prices.length; ++x){\r\n                 if(offers[x].equals(choice)){\r\n                    System.out.println(offers[x] +&quot; price is $&quot; + prices[x]);\r\n                 }\r\n                 else{\r\n                      System.out.println(&quot;Invalid Entry&quot;);\r\n                 }                            \r\n            }            \r\n        }\r\n    }\r\n\r\n    //input: oil change\r\n    \r\n    /*output:\r\n    oil change price is $25\r\n    Invalid Entry\r\n    Invalid Entry\r\n    Invalid Entry*/\r\n\r\n","title":"Parallel Arrays in a for loop","body":"<p>It's my 2nd week in Java.</p>\n<p><strong>The problem:</strong></p>\n<p>Write an application for Cody’s Car Care Shop that shows a user a list of available services: oil change, tire rotation, battery check, or brake inspection. Allow the user to enter a string that corresponds to one of the options, and display the option and its price as $25, $22, $15, or $5, accordingly. Display Invalid Entry if the user enters an invalid item.</p>\n<p>As you can see in my comments on bottom most part of the code, my program still produce invalid entries. Please overhaul or modify my code in order to meet the requirements(You must use parallel arrays - Prof).</p>\n<pre><code>import java.util.*;\npublic class CarCareChoice {\n    public static void main (String[] args) {\n        Scanner input = new Scanner(System.in);\n        \n        String[] offers =  { &quot;oil change&quot;, &quot;tire rotation&quot;,\n         &quot;battery check&quot;, &quot;brake inspection&quot;};\n        \n        int[] prices = {25, 22, 15, 5};\n        \n        System.out.println(&quot;Enter Selection:&quot;);\n        String choice = input.nextLine();\n        \n        for(int x = 0; x &lt; prices.length; ++x){\n             if(offers[x].equals(choice)){\n                System.out.println(offers[x] +&quot; price is $&quot; + prices[x]);\n             }\n             else{\n                  System.out.println(&quot;Invalid Entry&quot;);\n             }                            \n        }            \n    }\n}\n\n//input: oil change\n\n/*output:\noil change price is $25\nInvalid Entry\nInvalid Entry\nInvalid Entry*/\n</code></pre>\n"},{"tags":["java","android","kotlin","android-recyclerview"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1649600863,"post_id":71817476,"comment_id":126911593,"body_markdown":"I believe you have been a member of Stack Overflow long enough to know that you should never post pictures of your code and/or error messages. Please edit and post your code and an explanation of the error you are getting.","body":"I believe you have been a member of Stack Overflow long enough to know that you should never post pictures of your code and/or error messages. Please edit and post your code and an explanation of the error you are getting."},{"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"score":0,"creation_date":1649601085,"post_id":71817476,"comment_id":126911661,"body_markdown":"I forgot to add my code sorry, you are right @hfontanez","body":"I forgot to add my code sorry, you are right @hfontanez"},{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1649610323,"post_id":71817476,"comment_id":126913860,"body_markdown":"Does this answer your question? [Using context in a fragment](https://stackoverflow.com/questions/8215308/using-context-in-a-fragment)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8215308/using-context-in-a-fragment\">Using context in a fragment</a>"},{"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"score":0,"creation_date":1649610834,"post_id":71817476,"comment_id":126914011,"body_markdown":"No @a_local_nobody","body":"No @a_local_nobody"},{"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"score":0,"creation_date":1649617069,"post_id":71817476,"comment_id":126915429,"body_markdown":"That&#39;s not the case, thanks","body":"That&#39;s not the case, thanks"}],"answers":[{"tags":[],"owner":{"account_id":19355220,"reputation":725,"user_id":14151698,"display_name":"Manjeet deswal"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1649602474,"creation_date":1649602244,"answer_id":71817713,"question_id":71817476,"body_markdown":"* Just pass context as activity or context you can&#39;t use this as context because you are inside a fragment","title":"Hello, I have updated my activity class as fragment, but I am not sure how to update the parts in the photo","body":"<ul>\n<li>Just pass context as activity or context you can't use this as context because you are inside a fragment</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":21319272,"reputation":809,"user_id":15692700,"display_name":"Muhammad Rio"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1649605716,"creation_date":1649602646,"answer_id":71817763,"question_id":71817476,"body_markdown":"Use `requireContext()` to get the context from fragment.\r\n\r\nIf you get `NullPointerException`, that is because you call the `recyclerView` inside `onCreate()` method , as the document said,\r\n\r\n&gt; you can not rely on things like the activity&#39;s content view hierarchy being initialized at this point.\r\n\r\nIf you are using a fragment , you should always call your `View` in the `onCreateView()` method.","title":"Hello, I have updated my activity class as fragment, but I am not sure how to update the parts in the photo","body":"<p>Use <code>requireContext()</code> to get the context from fragment.</p>\n<p>If you get <code>NullPointerException</code>, that is because you call the <code>recyclerView</code> inside <code>onCreate()</code> method , as the document said,</p>\n<blockquote>\n<p>you can not rely on things like the activity's content view hierarchy being initialized at this point.</p>\n</blockquote>\n<p>If you are using a fragment , you should always call your <code>View</code> in the <code>onCreateView()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649617016,"creation_date":1649617016,"answer_id":71819668,"question_id":71817476,"body_markdown":"Changing the onCreate part to onViewCreated worked for me.","title":"Hello, I have updated my activity class as fragment, but I am not sure how to update the parts in the photo","body":"<p>Changing the onCreate part to onViewCreated worked for me.</p>\n"}],"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":71819668,"answer_count":3,"score":0,"last_activity_date":1649617016,"creation_date":1649600578,"question_id":71817476,"body_markdown":"I have updated my activity class as fragment, but I am not sure how to update the parts in the photo.\r\n\r\n[![photo][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OLXdX.jpg\r\n\r\n\r\nMy Code :\r\n\r\n    package com.nisaefendioglu.recentearthquakes.fragment\r\n    \r\n    import android.os.Bundle\r\n    import android.util.Log\r\n    import androidx.fragment.app.Fragment\r\n    import androidx.recyclerview.widget.LinearLayoutManager\r\n    import com.nisaefendioglu.recentearthquakes.R\r\n    import com.nisaefendioglu.recentearthquakes.RecyclerAdapter\r\n    import com.nisaefendioglu.recentearthquakes.model.EarthquakeModelItem\r\n    import com.nisaefendioglu.recentearthquakes.service.ApiClient\r\n    import kotlinx.android.synthetic.main.earthquake.*\r\n    import retrofit2.Call\r\n    import retrofit2.Callback\r\n    import retrofit2.Response\r\n    \r\n    class Earthquake : Fragment((R.layout.earthquake)) {\r\n    \r\n        private var listUsers: MutableList&lt;EarthquakeModelItem&gt; = mutableListOf&lt;EarthquakeModelItem&gt;()\r\n        private var adapter: RecyclerAdapter? = null\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n    \r\n            listUsers = mutableListOf()\r\n    \r\n            recyclerview.layoutManager = LinearLayoutManager(this@Earthquake)\r\n    \r\n            adapter = RecyclerAdapter(\r\n                this,\r\n                listUsers\r\n            )\r\n            recyclerview.adapter = adapter\r\n            getUsersData()\r\n    \r\n        }\r\n    \r\n        private fun getUsersData() {\r\n    \r\n            ApiClient.apiService.getEarthquakes().enqueue(object :\r\n                Callback&lt;MutableList&lt;EarthquakeModelItem&gt;&gt; {\r\n                override fun onFailure(call: Call&lt;MutableList&lt;EarthquakeModelItem&gt;&gt;, t: Throwable) {\r\n                    Log.e(&quot;error&quot;, t.localizedMessage)\r\n                }\r\n    \r\n                override fun onResponse(\r\n                    call: Call&lt;MutableList&lt;EarthquakeModelItem&gt;&gt;,\r\n                    response: Response&lt;MutableList&lt;EarthquakeModelItem&gt;&gt;\r\n                ) {\r\n                    val usersResponse = response.body()\r\n                    listUsers.clear()\r\n                    usersResponse?.let { listUsers.addAll(it) }\r\n                    adapter?.notifyDataSetChanged()\r\n                }\r\n    \r\n            })\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\nMainActivity.kt\r\n\r\n    package com.nisaefendioglu.recentearthquakes.view\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity\r\n    import android.os.Bundle\r\n    import androidx.fragment.app.Fragment\r\n    import com.nisaefendioglu.recentearthquakes.R\r\n    import com.nisaefendioglu.recentearthquakes.fragment.Earthquake\r\n    import com.nisaefendioglu.recentearthquakes.fragment.InfoFragment\r\n    import kotlinx.android.synthetic.main.activity_main.*\r\n    \r\n    \r\n    class MainActivity : AppCompatActivity() {\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_main)\r\n    \r\n            val info= InfoFragment()\r\n            val earthquake = Earthquake()\r\n            //val maps = MapFragment()\r\n    \r\n            setCurrentFragment(info)\r\n    \r\n            bottomNavigationView.setOnNavigationItemSelectedListener {\r\n                when(it.itemId){\r\n                    R.id.infoFragment -&gt;setCurrentFragment(info)\r\n                    R.id.earthquakeFragment -&gt;setCurrentFragment(earthquake)\r\n                 //   R.id.mapsFragment-&gt;setCurrentFragment(maps)\r\n    \r\n                }\r\n                true\r\n            }\r\n    \r\n        }\r\n    \r\n        private fun setCurrentFragment(fragment: Fragment)=\r\n            supportFragmentManager.beginTransaction().apply {\r\n                replace(R.id.flFragment,fragment)\r\n                commit()\r\n            }\r\n    \r\n    }\r\n\r\n\r\nError :\r\ne: /Users/nisa/AndroidStudioProjects/RecentEarthquakes/app/src/main/java/com/nisaefendioglu/recentearthquakes/fragment/Earthquake.kt: (26, 58): Type mismatch: inferred type is Earthquake but Context! was expected\r\n\r\ne: /Users/nisa/AndroidStudioProjects/RecentEarthquakes/app/src/main/java/com/nisaefendioglu/recentearthquakes/fragment/Earthquake.kt: (29, 13): Type mismatch: inferred type is Earthquake but Context was expected\r\n\r\n\r\nI have updated my activity class as fragment, but I am not sure how to update the parts in the photo.\r\nCan you help me?\r\n\r\nI have updated my activity class as fragment, but I am not sure how to update the parts in the photo.\r\nCan you help me?","title":"Hello, I have updated my activity class as fragment, but I am not sure how to update the parts in the photo","body":"<p>I have updated my activity class as fragment, but I am not sure how to update the parts in the photo.</p>\n<p><a href=\"https://i.stack.imgur.com/OLXdX.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OLXdX.jpg\" alt=\"photo\" /></a></p>\n<p>My Code :</p>\n<pre><code>package com.nisaefendioglu.recentearthquakes.fragment\n\nimport android.os.Bundle\nimport android.util.Log\nimport androidx.fragment.app.Fragment\nimport androidx.recyclerview.widget.LinearLayoutManager\nimport com.nisaefendioglu.recentearthquakes.R\nimport com.nisaefendioglu.recentearthquakes.RecyclerAdapter\nimport com.nisaefendioglu.recentearthquakes.model.EarthquakeModelItem\nimport com.nisaefendioglu.recentearthquakes.service.ApiClient\nimport kotlinx.android.synthetic.main.earthquake.*\nimport retrofit2.Call\nimport retrofit2.Callback\nimport retrofit2.Response\n\nclass Earthquake : Fragment((R.layout.earthquake)) {\n\n    private var listUsers: MutableList&lt;EarthquakeModelItem&gt; = mutableListOf&lt;EarthquakeModelItem&gt;()\n    private var adapter: RecyclerAdapter? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        listUsers = mutableListOf()\n\n        recyclerview.layoutManager = LinearLayoutManager(this@Earthquake)\n\n        adapter = RecyclerAdapter(\n            this,\n            listUsers\n        )\n        recyclerview.adapter = adapter\n        getUsersData()\n\n    }\n\n    private fun getUsersData() {\n\n        ApiClient.apiService.getEarthquakes().enqueue(object :\n            Callback&lt;MutableList&lt;EarthquakeModelItem&gt;&gt; {\n            override fun onFailure(call: Call&lt;MutableList&lt;EarthquakeModelItem&gt;&gt;, t: Throwable) {\n                Log.e(&quot;error&quot;, t.localizedMessage)\n            }\n\n            override fun onResponse(\n                call: Call&lt;MutableList&lt;EarthquakeModelItem&gt;&gt;,\n                response: Response&lt;MutableList&lt;EarthquakeModelItem&gt;&gt;\n            ) {\n                val usersResponse = response.body()\n                listUsers.clear()\n                usersResponse?.let { listUsers.addAll(it) }\n                adapter?.notifyDataSetChanged()\n            }\n\n        })\n\n    }\n\n}\n</code></pre>\n<p>MainActivity.kt</p>\n<pre><code>package com.nisaefendioglu.recentearthquakes.view\n\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport androidx.fragment.app.Fragment\nimport com.nisaefendioglu.recentearthquakes.R\nimport com.nisaefendioglu.recentearthquakes.fragment.Earthquake\nimport com.nisaefendioglu.recentearthquakes.fragment.InfoFragment\nimport kotlinx.android.synthetic.main.activity_main.*\n\n\nclass MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val info= InfoFragment()\n        val earthquake = Earthquake()\n        //val maps = MapFragment()\n\n        setCurrentFragment(info)\n\n        bottomNavigationView.setOnNavigationItemSelectedListener {\n            when(it.itemId){\n                R.id.infoFragment -&gt;setCurrentFragment(info)\n                R.id.earthquakeFragment -&gt;setCurrentFragment(earthquake)\n             //   R.id.mapsFragment-&gt;setCurrentFragment(maps)\n\n            }\n            true\n        }\n\n    }\n\n    private fun setCurrentFragment(fragment: Fragment)=\n        supportFragmentManager.beginTransaction().apply {\n            replace(R.id.flFragment,fragment)\n            commit()\n        }\n\n}\n</code></pre>\n<p>Error :\ne: /Users/nisa/AndroidStudioProjects/RecentEarthquakes/app/src/main/java/com/nisaefendioglu/recentearthquakes/fragment/Earthquake.kt: (26, 58): Type mismatch: inferred type is Earthquake but Context! was expected</p>\n<p>e: /Users/nisa/AndroidStudioProjects/RecentEarthquakes/app/src/main/java/com/nisaefendioglu/recentearthquakes/fragment/Earthquake.kt: (29, 13): Type mismatch: inferred type is Earthquake but Context was expected</p>\n<p>I have updated my activity class as fragment, but I am not sure how to update the parts in the photo.\nCan you help me?</p>\n<p>I have updated my activity class as fragment, but I am not sure how to update the parts in the photo.\nCan you help me?</p>\n"},{"tags":["java","arrays","class","methods"],"comments":[{"owner":{"account_id":8198,"reputation":176773,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"score":1,"creation_date":1649451270,"post_id":71803030,"comment_id":126887870,"body_markdown":"Do you want to return a `String[]` or a single `String`? And if you really want a single `String` as your code suggests, what should it look like?","body":"Do you want to return a <code>String[]</code> or a single <code>String</code>? And if you really want a single <code>String</code> as your code suggests, what should it look like?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1649451289,"post_id":71803030,"comment_id":126887873,"body_markdown":"If you&#39;ve got multiple authors, then there are multiple names. What single string do you expect to return?","body":"If you&#39;ve got multiple authors, then there are multiple names. What single string do you expect to return?"},{"owner":{"account_id":22743290,"reputation":3,"user_id":16904382,"display_name":"jgphoenix"},"score":0,"creation_date":1649451468,"post_id":71803030,"comment_id":126887925,"body_markdown":"@Thomas just a single `String` of the names separated by a comma eg. &quot;name1,name2,name3&quot;","body":"@Thomas just a single <code>String</code> of the names separated by a comma eg. &quot;name1,name2,name3&quot;"},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1649451475,"post_id":71803030,"comment_id":126887927,"body_markdown":"authors is not a class.  It is an array of Author.  Yes, you need to loop through the array or use a stream.","body":"authors is not a class.  It is an array of Author.  Yes, you need to loop through the array or use a stream."},{"owner":{"account_id":22743290,"reputation":3,"user_id":16904382,"display_name":"jgphoenix"},"score":0,"creation_date":1649451729,"post_id":71803030,"comment_id":126887999,"body_markdown":"@OldProgrammer i&#39;m not familiar with what a stream is yet, can you give me an example?","body":"@OldProgrammer i&#39;m not familiar with what a stream is yet, can you give me an example?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1649451865,"post_id":71803030,"comment_id":126888032,"body_markdown":"Like this: [Join a list of object&#39;s properties into a String](https://stackoverflow.com/questions/44245790/join-a-list-of-objects-properties-into-a-string) but [creating the stream from the array.](https://stackoverflow.com/questions/27888429/how-can-i-create-a-stream-from-an-array)","body":"Like this: <a href=\"https://stackoverflow.com/questions/44245790/join-a-list-of-objects-properties-into-a-string\">Join a list of object&#39;s properties into a String</a> but <a href=\"https://stackoverflow.com/questions/27888429/how-can-i-create-a-stream-from-an-array\">creating the stream from the array.</a>"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1649618789,"post_id":71803030,"comment_id":126915823,"body_markdown":"While it&#39;s not exactly a beginner concept, a stream in this case would be `Stream.of(this.authors).map(Author::getName).collect(Collectors.joining(&quot;,&quot;))`","body":"While it&#39;s not exactly a beginner concept, a stream in this case would be <code>Stream.of(this.authors).map(Author::getName).collect(Collect&zwnj;&#8203;ors.joining(&quot;,&quot;))</code>"}],"answers":[{"tags":[],"owner":{"account_id":16936604,"reputation":129,"user_id":12249422,"display_name":"obeid salem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649453226,"creation_date":1649452536,"answer_id":71803206,"question_id":71803030,"body_markdown":"`private Author[] authors;` is array of object Author \r\n\r\nyou need to add the index then get the name, here is an example:\r\n\r\n    class Author {\r\n\r\n      private String name;\r\n\r\n      public Author(String name) {\r\n        this.name = name;\r\n      }\r\n      \r\n      public String getName() {\r\n        return this.name;\r\n      }\r\n\r\nand in your class Book:\r\n\r\n      class Book {\r\n        private Author[] authors;\r\n        public Book(int authorsSize) {\r\n          authors = new Author[authorsSize];\r\n        }\r\n        \r\n        public void setAuthor(int index) {\r\n          this.authors[index] = new Author(&quot;Author Name&quot;):\r\n        }\r\n    \r\n       public String getAuthorName(int index) {\r\n          return this.authors[index].getName();\r\n       }\r\n\r\n       public String getAllAuthors() {\r\n         String all = &quot;&quot;;\r\n         for (int i = 0; i &lt; authors.length; i++) {\r\n             all += authors[i].getName() + &quot;, &quot;;\r\n         }\r\n         \r\n         return all;\r\n       }\r\n    \r\n      }\r\n\r\nAfter adding Authors .. use getAllAuthors\r\n\r\n--- more ---\r\nInstead of `Author[] authors = new Authors[size];`\r\nYou can use `ArrayList&lt;Author&gt; authors = new ArrayList&lt;&gt;();`\r\nthen you can use: \r\n\r\n    authors.add(new Author(&quot;Author name1&quot;));\r\n    authors.add(new Author(&quot;Author name2&quot;));\r\n    authors.add(new Author(&quot;Author name3&quot;));\r\n    authors.add(new Author(&quot;Author name4&quot;));\r\n    ......","title":"How to call a method on a array of a class in java?","body":"<p><code>private Author[] authors;</code> is array of object Author</p>\n<p>you need to add the index then get the name, here is an example:</p>\n<pre><code>class Author {\n\n  private String name;\n\n  public Author(String name) {\n    this.name = name;\n  }\n  \n  public String getName() {\n    return this.name;\n  }\n</code></pre>\n<p>and in your class Book:</p>\n<pre><code>  class Book {\n    private Author[] authors;\n    public Book(int authorsSize) {\n      authors = new Author[authorsSize];\n    }\n    \n    public void setAuthor(int index) {\n      this.authors[index] = new Author(&quot;Author Name&quot;):\n    }\n\n   public String getAuthorName(int index) {\n      return this.authors[index].getName();\n   }\n\n   public String getAllAuthors() {\n     String all = &quot;&quot;;\n     for (int i = 0; i &lt; authors.length; i++) {\n         all += authors[i].getName() + &quot;, &quot;;\n     }\n     \n     return all;\n   }\n\n  }\n</code></pre>\n<p>After adding Authors .. use getAllAuthors</p>\n<p>--- more ---\nInstead of <code>Author[] authors = new Authors[size];</code>\nYou can use <code>ArrayList&lt;Author&gt; authors = new ArrayList&lt;&gt;();</code>\nthen you can use:</p>\n<pre><code>authors.add(new Author(&quot;Author name1&quot;));\nauthors.add(new Author(&quot;Author name2&quot;));\nauthors.add(new Author(&quot;Author name3&quot;));\nauthors.add(new Author(&quot;Author name4&quot;));\n......\n</code></pre>\n"}],"owner":{"account_id":22743290,"reputation":3,"user_id":16904382,"display_name":"jgphoenix"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":673,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71803206,"answer_count":1,"score":0,"last_activity_date":1649617004,"creation_date":1649451191,"question_id":71803030,"body_markdown":"I&#39;m a begginer doing some exercises on Java OOP so here&#39;s my problem.\r\nI have a `Book` class with this attribute:\r\n\r\n```private Author[] authors;```\r\n\r\nI need a method that returns just the names of those authors(name1,name2,..). The `Authors` class has a `getName()` method:\r\n\r\n```\r\npublic String getName() {\r\n\t\treturn name;\r\n}\r\n```\r\n\r\nAnd I tried following code but it doesn&#39;t work !\r\n```\r\n//Method in the Book class\r\npublic String getAuthorsNames(){\r\n    return authors.getName();\r\n}\r\n```\r\nDo I need to loop through the array or is there another way ?\r\n","title":"How to call a method on a array of a class in java?","body":"<p>I'm a begginer doing some exercises on Java OOP so here's my problem.\nI have a <code>Book</code> class with this attribute:</p>\n<p><code>private Author[] authors;</code></p>\n<p>I need a method that returns just the names of those authors(name1,name2,..). The <code>Authors</code> class has a <code>getName()</code> method:</p>\n<pre><code>public String getName() {\n        return name;\n}\n</code></pre>\n<p>And I tried following code but it doesn't work !</p>\n<pre><code>//Method in the Book class\npublic String getAuthorsNames(){\n    return authors.getName();\n}\n</code></pre>\n<p>Do I need to loop through the array or is there another way ?</p>\n"},{"tags":["java","selenium","firefox","rust","geckodriver"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1649680299,"post_id":71819581,"comment_id":126929985,"body_markdown":"Just create a contructor with `path_to_profile_file` as arg. `WebDriver startGeckoDriver(String path_to_profile_file) {WebDriver driver = ...;   return driver;   }` and call `WebDriver driver1 = startGeckoDriver(path1);   WebDriver driver2 = startGeckoDriver(path2);`","body":"Just create a contructor with <code>path_to_profile_file</code> as arg. <code>WebDriver startGeckoDriver(String path_to_profile_file) {WebDriver driver = ...;   return driver;   }</code> and call <code>WebDriver driver1 = startGeckoDriver(path1);   WebDriver driver2 = startGeckoDriver(path2);</code>"},{"owner":{"account_id":11876874,"reputation":876,"user_id":8814573,"display_name":"S.O.S"},"score":0,"creation_date":1649692451,"post_id":71819581,"comment_id":126935046,"body_markdown":"@pburgr This won&#39;t create a temp folder first? I think it does..","body":"@pburgr This won&#39;t create a temp folder first? I think it does.."}],"owner":{"account_id":11876874,"reputation":876,"user_id":8814573,"display_name":"S.O.S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649616711,"creation_date":1649616383,"question_id":71819581,"body_markdown":"By default, **Geckodriver 0.30.0** copies existing FF profile to temporary files directory before launching a new instance of `WebDriver`.\r\n\r\n\r\nThe code responsible for this is written in `Rust` and is present in `src/browser.rs` of [geckodriver source][1], in line 60 - 70 [as discussed in this thread][2]:\r\n\r\n     let mut profile = match options.profile {\r\n         Some(x) =&gt; x,\r\n         None =&gt; Profile::new()?,\r\n      };\r\n\r\nI’m able to permanently force `Geckodriver 0.30.0` to use a specific FF Profile directly (w/o first making a copy of it) by modifying the above code to:\r\n\r\n    let path = std::path::Path::new(&quot;path-to-profile&quot;);\r\n    let mut profile = Profile::new_from_path(path)?;\r\n\r\nHowever, this would only allow me to use a single profile in the entire application as the `path_to_profile` is hard coded into above file. \r\n\r\nI need to be able to launch **hundreds of FF profiles** throughout the lifecycle of my application and thus need to choose any existing profile at runtime using the following code structure:\r\n\r\n    File firefoxProfileFile= new File(path_to_profile_file);\r\n    FirefoxProfile firefoxProfile = new FirefoxProfile(firefoxProfileFile);\r\n    FirefoxOptions firefoxOptions = new FirefoxOptions();\r\n    firefoxOptions.setProfile(firefoxProfile);\r\n\r\nUsing the code above it would be possible to dynamically select any existing FF profile at runtime, without first copying profile to temporary folder - but only if I can somehow pass the path to profile as an argument to above code.\r\n\r\nHow can this be done?\r\n\r\n\r\n  [1]: https://github.com/mozilla/geckodriver/releases/tag/v0.30.0\r\n  [2]: https://stackoverflow.com/a/70500365/8814573","title":"Force WebDriver to use an Exisitng Firefox Profile in Geckdriver 0.30.0 without Creating Temporary Copy?","body":"<p>By default, <strong>Geckodriver 0.30.0</strong> copies existing FF profile to temporary files directory before launching a new instance of <code>WebDriver</code>.</p>\n<p>The code responsible for this is written in <code>Rust</code> and is present in <code>src/browser.rs</code> of <a href=\"https://github.com/mozilla/geckodriver/releases/tag/v0.30.0\" rel=\"nofollow noreferrer\">geckodriver source</a>, in line 60 - 70 <a href=\"https://stackoverflow.com/a/70500365/8814573\">as discussed in this thread</a>:</p>\n<pre><code> let mut profile = match options.profile {\n     Some(x) =&gt; x,\n     None =&gt; Profile::new()?,\n  };\n</code></pre>\n<p>I’m able to permanently force <code>Geckodriver 0.30.0</code> to use a specific FF Profile directly (w/o first making a copy of it) by modifying the above code to:</p>\n<pre><code>let path = std::path::Path::new(&quot;path-to-profile&quot;);\nlet mut profile = Profile::new_from_path(path)?;\n</code></pre>\n<p>However, this would only allow me to use a single profile in the entire application as the <code>path_to_profile</code> is hard coded into above file.</p>\n<p>I need to be able to launch <strong>hundreds of FF profiles</strong> throughout the lifecycle of my application and thus need to choose any existing profile at runtime using the following code structure:</p>\n<pre><code>File firefoxProfileFile= new File(path_to_profile_file);\nFirefoxProfile firefoxProfile = new FirefoxProfile(firefoxProfileFile);\nFirefoxOptions firefoxOptions = new FirefoxOptions();\nfirefoxOptions.setProfile(firefoxProfile);\n</code></pre>\n<p>Using the code above it would be possible to dynamically select any existing FF profile at runtime, without first copying profile to temporary folder - but only if I can somehow pass the path to profile as an argument to above code.</p>\n<p>How can this be done?</p>\n"},{"tags":["java","spring","spring-boot","rest","spring-hateoas"],"comments":[{"owner":{"account_id":14894401,"reputation":186,"user_id":10755186,"display_name":"Amrit Malla"},"score":0,"creation_date":1649615786,"post_id":71819344,"comment_id":126915172,"body_markdown":"It looks like you are using IntelliJ, and did you check if the hateos dependency is actually present or not?","body":"It looks like you are using IntelliJ, and did you check if the hateos dependency is actually present or not?"},{"owner":{"account_id":24892859,"reputation":11,"user_id":18764536,"display_name":"Mason"},"score":0,"creation_date":1649616455,"post_id":71819344,"comment_id":126915313,"body_markdown":"I am sorry I don&#39;t understand what you mean by if it is present or not? The only way I know to see if its there is if its in the dependincies or not, I wouldnt know how else to check it, is there another way you&#39;re referring to?","body":"I am sorry I don&#39;t understand what you mean by if it is present or not? The only way I know to see if its there is if its in the dependincies or not, I wouldnt know how else to check it, is there another way you&#39;re referring to?"},{"owner":{"account_id":14894401,"reputation":186,"user_id":10755186,"display_name":"Amrit Malla"},"score":0,"creation_date":1649616638,"post_id":71819344,"comment_id":126915345,"body_markdown":"Yes you can check inside external libraries in Project or you can check if the Heatos is actually working","body":"Yes you can check inside external libraries in Project or you can check if the Heatos is actually working"},{"owner":{"account_id":24892859,"reputation":11,"user_id":18764536,"display_name":"Mason"},"score":0,"creation_date":1649616939,"post_id":71819344,"comment_id":126915409,"body_markdown":"Ahhh okay, I still have a lot to learn haha. I check in the project structure tab, and under libraries it is present: Maven: org.springframework.boot:spring-boot-starter-hateoas:2.6.6","body":"Ahhh okay, I still have a lot to learn haha. I check in the project structure tab, and under libraries it is present: Maven: org.springframework.boot:spring-boot-starter-hateoas:2.6.6"}],"owner":{"account_id":24892859,"reputation":11,"user_id":18764536,"display_name":"Mason"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649616303,"creation_date":1649614667,"question_id":71819344,"body_markdown":"First post here so sorry if format is off.\r\n\r\nCurrently I am trying to follow this Spring Java tutorial: https://spring.io/guides/tutorials/rest/\r\nI am just to the part of adding the hateoas dependency to the pom.xml, however when I try that I get this error:\r\n[Dependency \\prg.springframework.boot:spring-bot-started-hateos:&#39; not found][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZGbQT.png\r\n\r\nI tried Googling it but much came up. I tried adding a version number as another post suggested but that gave the same error. Im still new to Spring and RestAPIs so I am really not sure what else to do, and would appreciate any help.\r\n\r\nThanks!\r\n\r\nEDIT: My IDE is Intellij. As well I had restarted the IDE and the error appears to have went away, however when I add the next block of code from the tutorial(follows adding the depnedncy by a paragraph):\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @GetMapping(&quot;/employees/{id}&quot;)\r\n    EntityModel&lt;Employee&gt; one(@PathVariable Long id) {\r\n\r\n      Employee employee = repository.findById(id) //\r\n          .orElseThrow(() -&gt; new EmployeeNotFoundException(id));\r\n\r\n      return EntityModel.of(employee, //\r\n          linkTo(methodOn(EmployeeController.class).one(id)).withSelfRel(),\r\n          linkTo(methodOn(EmployeeController.class).all()).withRel(&quot;employees&quot;));\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI get errors on &quot;EntityMode&quot;, &quot;linkTo&quot;, and &quot;methodOn&quot;\r\n","title":"Trouble adding Spring hateoas to Spring Boot Project","body":"<p>First post here so sorry if format is off.</p>\n<p>Currently I am trying to follow this Spring Java tutorial: <a href=\"https://spring.io/guides/tutorials/rest/\" rel=\"nofollow noreferrer\">https://spring.io/guides/tutorials/rest/</a>\nI am just to the part of adding the hateoas dependency to the pom.xml, however when I try that I get this error:\n<a href=\"https://i.stack.imgur.com/ZGbQT.png\" rel=\"nofollow noreferrer\">Dependency \\prg.springframework.boot:spring-bot-started-hateos:' not found</a></p>\n<p>I tried Googling it but much came up. I tried adding a version number as another post suggested but that gave the same error. Im still new to Spring and RestAPIs so I am really not sure what else to do, and would appreciate any help.</p>\n<p>Thanks!</p>\n<p>EDIT: My IDE is Intellij. As well I had restarted the IDE and the error appears to have went away, however when I add the next block of code from the tutorial(follows adding the depnedncy by a paragraph):</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@GetMapping(\"/employees/{id}\")\nEntityModel&lt;Employee&gt; one(@PathVariable Long id) {\n\n  Employee employee = repository.findById(id) //\n      .orElseThrow(() -&gt; new EmployeeNotFoundException(id));\n\n  return EntityModel.of(employee, //\n      linkTo(methodOn(EmployeeController.class).one(id)).withSelfRel(),\n      linkTo(methodOn(EmployeeController.class).all()).withRel(\"employees\"));\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I get errors on &quot;EntityMode&quot;, &quot;linkTo&quot;, and &quot;methodOn&quot;</p>\n"},{"tags":["java","exception","java-stream","numberformatexception"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1649679446,"post_id":71818173,"comment_id":126929627,"body_markdown":"If you forget a separator between two numbers, you surely want a feedback about the fact that you did something fundamentally wrong, rather than filtering the values and silently getting a completely wrong result (which looks plausible *in the worst case*) due to skipping two numbers.","body":"If you forget a separator between two numbers, you surely want a feedback about the fact that you did something fundamentally wrong, rather than filtering the values and silently getting a completely wrong result (which looks plausible <i>in the worst case</i>) due to skipping two numbers."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1649608283,"creation_date":1649606534,"answer_id":71818306,"question_id":71818173,"body_markdown":"You can either extract parsing into a separate method and wrap it with a `try/catch`, or use `BigInteger` to eliminate values that exceed the range of `long`.\r\n\r\nExample with `BigInteger`:\r\n\r\n    Set&lt;Long&gt; result =  Stream.of(&quot;&quot;, &quot;12345&quot;, &quot;9999999999999999999999999999&quot;)\r\n            .filter(n -&gt; !n.isEmpty())\r\n            .map(BigInteger::new)\r\n            .filter(n -&gt; n.compareTo(BigInteger.valueOf(Long.MAX_VALUE)) &lt;= 0 &amp;&amp;\r\n                         n.compareTo(BigInteger.valueOf(Long.MIN_VALUE)) &gt;= 0)\r\n            .map(BigInteger::longValueExact) // convert to Long\r\n            .peek(System.out::println) // printing the output\r\n            .collect(Collectors.toSet());\r\n\r\nExample with handling `NumberFormatException` in a separate method:\r\n\r\n    Set&lt;Long&gt; result =  Stream.of(&quot;&quot;, &quot;12345&quot;, &quot;9999999999999999999999999999&quot;)\r\n            .filter(n -&gt; !n.isEmpty())\r\n            .map(n -&gt; safeParse(n))\r\n            .filter(OptionalLong::isPresent)\r\n            .map(OptionalLong::getAsLong) // extracting long primitive and boxing it into Long\r\n            .peek(System.out::println) // printing the output\r\n            .collect(Collectors.toSet());\r\n\r\n    public static OptionalLong safeParse(String candidate) {\r\n        try {\r\n            return OptionalLong.of(Long.parseLong(candidate));\r\n        } catch (NumberFormatException e) {\r\n            return OptionalLong.empty();\r\n        }\r\n    }\r\n\r\n**Output** (from `peek()`)\r\n```\r\n12345\r\n```","title":"How to handle NumberFormatException with Java StreamAPI","body":"<p>You can either extract parsing into a separate method and wrap it with a <code>try/catch</code>, or use <code>BigInteger</code> to eliminate values that exceed the range of <code>long</code>.</p>\n<p>Example with <code>BigInteger</code>:</p>\n<pre><code>Set&lt;Long&gt; result =  Stream.of(&quot;&quot;, &quot;12345&quot;, &quot;9999999999999999999999999999&quot;)\n        .filter(n -&gt; !n.isEmpty())\n        .map(BigInteger::new)\n        .filter(n -&gt; n.compareTo(BigInteger.valueOf(Long.MAX_VALUE)) &lt;= 0 &amp;&amp;\n                     n.compareTo(BigInteger.valueOf(Long.MIN_VALUE)) &gt;= 0)\n        .map(BigInteger::longValueExact) // convert to Long\n        .peek(System.out::println) // printing the output\n        .collect(Collectors.toSet());\n</code></pre>\n<p>Example with handling <code>NumberFormatException</code> in a separate method:</p>\n<pre><code>Set&lt;Long&gt; result =  Stream.of(&quot;&quot;, &quot;12345&quot;, &quot;9999999999999999999999999999&quot;)\n        .filter(n -&gt; !n.isEmpty())\n        .map(n -&gt; safeParse(n))\n        .filter(OptionalLong::isPresent)\n        .map(OptionalLong::getAsLong) // extracting long primitive and boxing it into Long\n        .peek(System.out::println) // printing the output\n        .collect(Collectors.toSet());\n\npublic static OptionalLong safeParse(String candidate) {\n    try {\n        return OptionalLong.of(Long.parseLong(candidate));\n    } catch (NumberFormatException e) {\n        return OptionalLong.empty();\n    }\n}\n</code></pre>\n<p><strong>Output</strong> (from <code>peek()</code>)</p>\n<pre><code>12345\n</code></pre>\n"}],"owner":{"account_id":19267842,"reputation":125,"user_id":14082441,"display_name":"kn&#246;del"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":939,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":71818306,"answer_count":1,"score":7,"last_activity_date":1649616049,"creation_date":1649605619,"question_id":71818173,"body_markdown":"Is there a way to filter out all values that are bigger than the max value that can be stored in a `Long` using Stream API?\r\n\r\nThe current situation is that you can search in the frontend with a simple search bar after some customers by using their ID. \r\n\r\nFor example: `123456789, 10987654321.` If you put a *&quot;separator&quot;* between these two IDs, everything works. But if you forget the *&quot;separator&quot;* my code is trying to parse `12345678910987654321` into a Long and I guess there is the problem. \r\n\r\nThat causes a `NumberFormatException` after trying to search. Is there a way to filter these numbers out that can&#39;t be parsed into a `Long` because they are too big?\r\n\r\n````\r\nString hyphen = &quot;-&quot;;\r\n\r\nString[] customerIds = bulkCustomerIdProperty.getValue()\r\n              .replaceAll(&quot;[^0-9]&quot;, hyphen)\r\n              .split(hyphen);\r\n...\r\ncustomerFilter.setCustomerIds(Arrays.asList(customerIds).stream()\r\n              .filter(n -&gt; !n.isEmpty()) \r\n              .map(n -&gt; Long.valueOf(n)) // convert to Long\r\n              .collect(Collectors.toSet()));\r\n````","title":"How to handle NumberFormatException with Java StreamAPI","body":"<p>Is there a way to filter out all values that are bigger than the max value that can be stored in a <code>Long</code> using Stream API?</p>\n<p>The current situation is that you can search in the frontend with a simple search bar after some customers by using their ID.</p>\n<p>For example: <code>123456789, 10987654321.</code> If you put a <em>&quot;separator&quot;</em> between these two IDs, everything works. But if you forget the <em>&quot;separator&quot;</em> my code is trying to parse <code>12345678910987654321</code> into a Long and I guess there is the problem.</p>\n<p>That causes a <code>NumberFormatException</code> after trying to search. Is there a way to filter these numbers out that can't be parsed into a <code>Long</code> because they are too big?</p>\n<pre><code>String hyphen = &quot;-&quot;;\n\nString[] customerIds = bulkCustomerIdProperty.getValue()\n              .replaceAll(&quot;[^0-9]&quot;, hyphen)\n              .split(hyphen);\n...\ncustomerFilter.setCustomerIds(Arrays.asList(customerIds).stream()\n              .filter(n -&gt; !n.isEmpty()) \n              .map(n -&gt; Long.valueOf(n)) // convert to Long\n              .collect(Collectors.toSet()));\n</code></pre>\n"},{"tags":["java","spring","struts2","websocket","tomcat7"],"comments":[{"owner":{"account_id":242507,"reputation":10389,"user_id":514065,"accept_rate":100,"display_name":"Quaternion"},"score":2,"creation_date":1388088995,"post_id":20774716,"comment_id":31166633,"body_markdown":"Partitioning problems will help you get answers much faster. As you found out you can prevent struts from trying to act on certain urls after that there is currently no struts2/websocket integration. Both technologies are front facing (well front most tier on the server) and have little interaction. But combining both into a single question will reduce the audience. The answer to getting things to work in harmony is developing business logic in the service tier, which both s2 and ws will consume.","body":"Partitioning problems will help you get answers much faster. As you found out you can prevent struts from trying to act on certain urls after that there is currently no struts2/websocket integration. Both technologies are front facing (well front most tier on the server) and have little interaction. But combining both into a single question will reduce the audience. The answer to getting things to work in harmony is developing business logic in the service tier, which both s2 and ws will consume."},{"owner":{"account_id":5922892,"reputation":387,"user_id":4659728,"accept_rate":0,"display_name":"Siva Sankar"},"score":0,"creation_date":1497812565,"post_id":20774716,"comment_id":76222897,"body_markdown":"I am too facing the problem @Manu do you have any solution? Please let me know if you have. Thanks in advance.","body":"I am too facing the problem @Manu do you have any solution? Please let me know if you have. Thanks in advance."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1649615985,"creation_date":1387990648,"answer_id":20774984,"question_id":20774716,"body_markdown":"You can configure the Struts filter to exclude some URLs via regex pattern. You should add the constant in the `struts.xml`\r\n\r\n    &lt;constant name=&quot;struts.action.excludePattern&quot; value=&quot;^ws://.+$&quot;/&gt;\r\n\r\nUse [Websocket API][1] for server endpoints.\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/tutorial/websocket.htm#GKJIQ5","title":"Using a WebSocket API with Struts 2","body":"<p>You can configure the Struts filter to exclude some URLs via regex pattern. You should add the constant in the <code>struts.xml</code></p>\n<pre><code>&lt;constant name=&quot;struts.action.excludePattern&quot; value=&quot;^ws://.+$&quot;/&gt;\n</code></pre>\n<p>Use <a href=\"https://docs.oracle.com/javaee/7/tutorial/websocket.htm#GKJIQ5\" rel=\"nofollow noreferrer\">Websocket API</a> for server endpoints.</p>\n"}],"owner":{"account_id":431718,"reputation":609,"user_id":815974,"accept_rate":45,"display_name":"Manu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5885,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1649615985,"creation_date":1387988671,"question_id":20774716,"body_markdown":"I have a Struts2 web application running on Tomcat 7.0.43 that uses Rest and Convention plugins to map all requests. Struts tries to map all requests by itself.\r\n\r\nJSR 356 defines server end points using annotations like\r\n\r\n    @ServerEndpoint(value = &quot;/websocket/chat&quot;)\r\n\r\nNow when the broswer tries to connect to `ws:/127.0.0.1:8080/websocket/chat`, the request fails because the Struts mapper intercepts the request.\r\n\r\nIs there anything I can specify in the XML files, such that the request reaches the right place? \r\n\r\n\r\n**EDIT:**\r\n\r\nAs suggested, I added\r\n\r\n    &lt;constant name=&quot;struts.action.excludePattern&quot; value=&quot;/websocket.*?&quot; /&gt;\r\n\r\nto my Struts configuration, after which the URL /websocket/chat started reaching a 404 error.\r\n\r\nLater I learnt that I need to configure a `ServerApplicationConfig` implementation. After doing that the websocket starts working fine but the rest of my application fails to load giving an error:\r\n\r\n    SEVERE: Error configuring application listener of class org.springframework.web.context.ContextLoaderListener\r\n    java.lang.ClassNotFoundException: org.springframework.web.context.ContextLoaderListener\r\n\r\nHere is my class:\r\n\r\n    public class Socket implements ServerApplicationConfig {\r\n    \r\n    \t@Override\r\n    \tpublic Set&lt;ServerEndpointConfig&gt; getEndpointConfigs(Set&lt;Class&lt;? extends Endpoint&gt;&gt; scanned) {\r\n    \r\n    \t\tSet&lt;ServerEndpointConfig&gt; result = new HashSet&lt;ServerEndpointConfig&gt;();\r\n    \r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Set&lt;Class&lt;?&gt;&gt; getAnnotatedEndpointClasses(Set&lt;Class&lt;?&gt;&gt; scanned) {\r\n    \r\n    \t\tSet&lt;Class&lt;?&gt;&gt; results = new HashSet&lt;Class&lt;?&gt;&gt;();\r\n    \t\tfor (Class&lt;?&gt; clazz : scanned) {\r\n    \t\t\tresults.add(clazz);\r\n    \t\t}\r\n    \t\treturn results;\r\n    \t}\r\n    }\r\n\r\nHow can I get everything to work together in Harmony?\r\n\r\nNote: I am using Struts Spring Plugin for Dependency Injection of Spring Security.","title":"Using a WebSocket API with Struts 2","body":"<p>I have a Struts2 web application running on Tomcat 7.0.43 that uses Rest and Convention plugins to map all requests. Struts tries to map all requests by itself.</p>\n\n<p>JSR 356 defines server end points using annotations like</p>\n\n<pre><code>@ServerEndpoint(value = \"/websocket/chat\")\n</code></pre>\n\n<p>Now when the broswer tries to connect to <code>ws:/127.0.0.1:8080/websocket/chat</code>, the request fails because the Struts mapper intercepts the request.</p>\n\n<p>Is there anything I can specify in the XML files, such that the request reaches the right place? </p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>As suggested, I added</p>\n\n<pre><code>&lt;constant name=\"struts.action.excludePattern\" value=\"/websocket.*?\" /&gt;\n</code></pre>\n\n<p>to my Struts configuration, after which the URL /websocket/chat started reaching a 404 error.</p>\n\n<p>Later I learnt that I need to configure a <code>ServerApplicationConfig</code> implementation. After doing that the websocket starts working fine but the rest of my application fails to load giving an error:</p>\n\n<pre><code>SEVERE: Error configuring application listener of class org.springframework.web.context.ContextLoaderListener\njava.lang.ClassNotFoundException: org.springframework.web.context.ContextLoaderListener\n</code></pre>\n\n<p>Here is my class:</p>\n\n<pre><code>public class Socket implements ServerApplicationConfig {\n\n    @Override\n    public Set&lt;ServerEndpointConfig&gt; getEndpointConfigs(Set&lt;Class&lt;? extends Endpoint&gt;&gt; scanned) {\n\n        Set&lt;ServerEndpointConfig&gt; result = new HashSet&lt;ServerEndpointConfig&gt;();\n\n        return result;\n    }\n\n    @Override\n    public Set&lt;Class&lt;?&gt;&gt; getAnnotatedEndpointClasses(Set&lt;Class&lt;?&gt;&gt; scanned) {\n\n        Set&lt;Class&lt;?&gt;&gt; results = new HashSet&lt;Class&lt;?&gt;&gt;();\n        for (Class&lt;?&gt; clazz : scanned) {\n            results.add(clazz);\n        }\n        return results;\n    }\n}\n</code></pre>\n\n<p>How can I get everything to work together in Harmony?</p>\n\n<p>Note: I am using Struts Spring Plugin for Dependency Injection of Spring Security.</p>\n"},{"tags":["java","file","io"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1649597709,"post_id":71816889,"comment_id":126910865,"body_markdown":"Please add your `Person` class to the question to make it a [mre] and we can be sure that the problem is not within there.","body":"Please add your <code>Person</code> class to the question to make it a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and we can be sure that the problem is not within there."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1649600524,"post_id":71816889,"comment_id":126911493,"body_markdown":"I recommend you don’t use `Date`. That class is poorly designed and long outdated. And even if you insist on using `Date`, stay far away from its 3-arg constructor. It’s been deprecated for 25 years because it works unreliably across time zones. For a birthdate use `LocalDate` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I recommend you don’t use <code>Date</code>. That class is poorly designed and long outdated. And even if you insist on using <code>Date</code>, stay far away from its 3-arg constructor. It’s been deprecated for 25 years because it works unreliably across time zones. For a birthdate use <code>LocalDate</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1649605668,"post_id":71816889,"comment_id":126912797,"body_markdown":"Why are you not using `ObjectOutputStream`? It would make things a lot easier","body":"Why are you not using <code>ObjectOutputStream</code>? It would make things a lot easier"},{"owner":{"account_id":23152272,"reputation":15,"user_id":17254090,"display_name":"Sean Carrick"},"score":0,"creation_date":1649615618,"post_id":71816889,"comment_id":126915142,"body_markdown":"@cyberbrain: The `Person` class is just a standard Java Bean, but I&#39;ll edit and include it as well.","body":"@cyberbrain: The <code>Person</code> class is just a standard Java Bean, but I&#39;ll edit and include it as well."},{"owner":{"account_id":23152272,"reputation":15,"user_id":17254090,"display_name":"Sean Carrick"},"score":0,"creation_date":1649615690,"post_id":71816889,"comment_id":126915159,"body_markdown":"@OleV.V.: I typically don&#39;t use the `Date` class for the reasons you mentioned, but just went with it in this test as something simple that was neither specifically numeric, nor textual.","body":"@OleV.V.: I typically don&#39;t use the <code>Date</code> class for the reasons you mentioned, but just went with it in this test as something simple that was neither specifically numeric, nor textual."},{"owner":{"account_id":23152272,"reputation":15,"user_id":17254090,"display_name":"Sean Carrick"},"score":1,"creation_date":1649615807,"post_id":71816889,"comment_id":126915176,"body_markdown":"@g00se: I had been serializing the data lists to file and deserializing them back into list objects, but when I got to a complicated record (approximately 40 fields), it was not working for some reason, so I thought that I would give the `Data*Stream`s a try...The frustrations are seeming to not be worth the effort.","body":"@g00se: I had been serializing the data lists to file and deserializing them back into list objects, but when I got to a complicated record (approximately 40 fields), it was not working for some reason, so I thought that I would give the <code>Data*Stream</code>s a try...The frustrations are seeming to not be worth the effort."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1649616226,"post_id":71816889,"comment_id":126915269,"body_markdown":"It&#39;s dead easy with your use case - you simply serialize your collection called `people` One write, one read","body":"It&#39;s dead easy with your use case - you simply serialize your collection called <code>people</code> One write, one read"},{"owner":{"account_id":23152272,"reputation":15,"user_id":17254090,"display_name":"Sean Carrick"},"score":0,"creation_date":1649616514,"post_id":71816889,"comment_id":126915322,"body_markdown":"@g00se: As I had said, the serialization was working until it wasn&#39;t. See my comment to cyberbrain&#39;s answer...","body":"@g00se: As I had said, the serialization was working until it wasn&#39;t. See my comment to cyberbrain&#39;s answer..."}],"answers":[{"tags":[],"owner":{"account_id":8232961,"reputation":1576,"user_id":8990644,"display_name":"bui"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649599879,"creation_date":1649599387,"answer_id":71817328,"question_id":71816889,"body_markdown":"As per [java doc][1], the `read()` method:\r\n\r\n&gt; Reads a byte of data from this input stream. This method blocks if no input is yet available.\r\n\r\nSo you are not reading the birth date string, but the first char in your birth date string.\r\n\r\nI suggest writing your birthdate string using `writeUTF()` like you did with other strings and read it back using `readUTF()`. Otherwise you will need to explicitly state the number of characters (bytes) in the birthdate string to be able to recover it with `read(byte[] b, int off, int len)`.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/FileInputStream.html#read()#read(byte[])","title":"Binary File Input/Output with Data*Stream Classes","body":"<p>As per <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/FileInputStream.html#read()#read(byte%5B%5D)\" rel=\"nofollow noreferrer\">java doc</a>, the <code>read()</code> method:</p>\n<blockquote>\n<p>Reads a byte of data from this input stream. This method blocks if no input is yet available.</p>\n</blockquote>\n<p>So you are not reading the birth date string, but the first char in your birth date string.</p>\n<p>I suggest writing your birthdate string using <code>writeUTF()</code> like you did with other strings and read it back using <code>readUTF()</code>. Otherwise you will need to explicitly state the number of characters (bytes) in the birthdate string to be able to recover it with <code>read(byte[] b, int off, int len)</code>.</p>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649600218,"creation_date":1649600218,"answer_id":71817425,"question_id":71816889,"body_markdown":"The problem with your code is that you use a byte array to write out the date, while you read back an `int` that is than (implicitly) casted to a `long` to recreate that `Date` object.\r\n\r\nYou can e.g. use\r\n```\r\nout.writeLong(p.getBirthDate().getTime());\r\n```\r\nto write your birthdate and \r\n```\r\np.setBirthDate(new Date(in.readLong()));\r\n```\r\nto read it back.\r\n\r\nBut I actually would recommend that you use `java.io.ObjectOutputStream` to write and `java.io.ObjectInputStream` to read back your data.\r\nTo use them, you will have to either add `implements java.io.Serializable` to your `Person` class (and nothing more), or you implement the interface `java.io.Externalizable` with its methods `readExternal` and `writeExternal` and maybe don&#39;t use binary representation for the contents of that file, but a String representation like XML, JSON, YAML or anything like that.\r\n\r\nThen you can use the `writeObject` and `readObject` methods of the according streams once per object to write or read.\r\n\r\nPlease note that the code you are using for the test will always throw an `EOFException` once it has read back the objects you wrote because you read back in an endless loop and do neither stop after 3 records nor have written the number of objects first so you could read that back to stop. You even could define an artificial `Person` object as end marker after which you stop reading.\r\n\r\n(With `Object*Stream`s you could write out the whole `ArrayList` and also read it back in without any looping in your own code.)","title":"Binary File Input/Output with Data*Stream Classes","body":"<p>The problem with your code is that you use a byte array to write out the date, while you read back an <code>int</code> that is than (implicitly) casted to a <code>long</code> to recreate that <code>Date</code> object.</p>\n<p>You can e.g. use</p>\n<pre><code>out.writeLong(p.getBirthDate().getTime());\n</code></pre>\n<p>to write your birthdate and</p>\n<pre><code>p.setBirthDate(new Date(in.readLong()));\n</code></pre>\n<p>to read it back.</p>\n<p>But I actually would recommend that you use <code>java.io.ObjectOutputStream</code> to write and <code>java.io.ObjectInputStream</code> to read back your data.\nTo use them, you will have to either add <code>implements java.io.Serializable</code> to your <code>Person</code> class (and nothing more), or you implement the interface <code>java.io.Externalizable</code> with its methods <code>readExternal</code> and <code>writeExternal</code> and maybe don't use binary representation for the contents of that file, but a String representation like XML, JSON, YAML or anything like that.</p>\n<p>Then you can use the <code>writeObject</code> and <code>readObject</code> methods of the according streams once per object to write or read.</p>\n<p>Please note that the code you are using for the test will always throw an <code>EOFException</code> once it has read back the objects you wrote because you read back in an endless loop and do neither stop after 3 records nor have written the number of objects first so you could read that back to stop. You even could define an artificial <code>Person</code> object as end marker after which you stop reading.</p>\n<p>(With <code>Object*Stream</code>s you could write out the whole <code>ArrayList</code> and also read it back in without any looping in your own code.)</p>\n"}],"owner":{"account_id":23152272,"reputation":15,"user_id":17254090,"display_name":"Sean Carrick"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1649615945,"creation_date":1649596046,"question_id":71816889,"body_markdown":"I have the following test program that is writing out a `Person` record&#39;s field values using `java.io.DataOutputStream` and it writes them out just fine. Then, after a pause that I put in to check the data file, it is supposed to read in the same three records using `java.io.DataInputStream`, but it reads in the first record, the `Person.id` of the second record and throws the `EOFException`, but is not at the end of file. Here&#39;s the code:\r\n\r\n```java\r\npublic class BinaryFileAccessTest {\r\n\r\n    private static File dataFile = new File(System.getProperty(&quot;user.home&quot;) + File.separator + &quot;dataFile.dat&quot;);\r\n    \r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\n        List&lt;Person&gt; people = new ArrayList&lt;&gt;();\r\n        \r\n        people.add(new Person(&quot;Dough&quot;, &quot;John&quot;, new Date(70, 03, 17), 23500.00d));\r\n        people.add(new Person(&quot;Smith&quot;, &quot;Sean&quot;, new Date(70, 05, 06), 53900.00d));\r\n        people.add(new Person(&quot;Carrick&quot;, &quot;Rebecca&quot;, new Date(59, 06, 13), 20000.00d));\r\n        \r\n        System.out.println(&quot;From List&lt;Person&gt; people:&quot;);\r\n        for (Person p : people) {\r\n            System.out.println(&quot;\\tCreated: &quot; + p.toString());\r\n        }\r\n        \r\n        try (DataOutputStream out = new DataOutputStream(new FileOutputStream(dataFile))) {\r\n            System.out.println(&quot;Writing Person to file:&quot;);\r\n            for (Person p : people) {\r\n                out.writeLong(p.getId());\r\n                out.writeUTF(p.getLastName());\r\n                out.writeUTF(p.getFirstName());\r\n                out.write(p.getBirthDate().toString().getBytes());\r\n                out.writeDouble(p.getSalary());\r\n                \r\n                System.out.println(&quot;\\tWrote: &quot; + p.toString());\r\n            }\r\n        } catch (IOException ex) {\r\n            System.err.println(&quot;An error occurred writing to &quot; + dataFile);\r\n            System.err.println(ex);\r\n            ex.printStackTrace(System.err);\r\n        }\r\n        \r\n        Scanner keyboard = new Scanner(System.in);\r\n        boolean exit = false;\r\n        while (!exit) {\r\n            String input = keyboard.nextLine();\r\n            if (input != null) {\r\n                exit = true;\r\n            }\r\n        }\r\n        \r\n        try (DataInputStream in = new DataInputStream(new FileInputStream(dataFile))) {\r\n            people.clear();\r\n            System.out.println(&quot;Reading Person from file:&quot;);\r\n            \r\n            while (true) {\r\n                Person p = new Person();\r\n                p.setId(in.readLong());\r\n                p.setLastName(in.readUTF());\r\n                p.setFirstName(in.readUTF());\r\n                p.setBirthDate(new Date(in.read()));\r\n                p.setSalary(in.readDouble());\r\n                \r\n                System.out.println(&quot;\\tRead: &quot; + p.toString());\r\n                people.add(p);\r\n            }\r\n        } catch (IOException ex) {\r\n//            if (!(ex instanceof EOFException)) {\r\n                System.err.println(&quot;An error occurred writing to &quot; + dataFile);\r\n                System.err.println(ex);\r\n                ex.printStackTrace(System.err);\r\n//            } else {\r\n//                System.out.println(&quot;End of file reached.&quot;);\r\n//            }\r\n        }\r\n        \r\n        System.out.println(&quot;From List&lt;Person&gt; people:&quot;);\r\n        for (Person p : people) {\r\n            System.out.println(&quot;\\tContains: &quot; + p.toString());\r\n        }\r\n       \r\n    }\r\n\r\n}\r\n```\r\nThe output from this program is:\r\n```\r\nFrom List&lt;Person&gt; people:\r\n\tCreated: Dough, John [birth=Fri Apr 17 00:00:00 CST 1970; salary=23500.0\r\n\tCreated: Smith, Sean [birth=Sat Jun 06 00:00:00 CDT 1970; salary=53900.0\r\n\tCreated: Carrick, Rebecca [birth=Mon Jul 13 00:00:00 CDT 1959; salary=20000.0\r\nWriting Person to file:\r\n\tWrote: Dough, John [birth=Fri Apr 17 00:00:00 CST 1970; salary=23500.0\r\n\tWrote: Smith, Sean [birth=Sat Jun 06 00:00:00 CDT 1970; salary=53900.0\r\n\tWrote: Carrick, Rebecca [birth=Mon Jul 13 00:00:00 CDT 1959; salary=20000.0\r\n\r\nReading Person from file:\r\n\tRead: Dough, John [birth=Wed Dec 31 18:00:00 CST 1969; salary=1.3403241663660614E243\r\n```\r\n\r\nIn the second `try...catch` block, the first record (for John Dough) is read in and stored in the `people` list just fine. On the second iteration of the `while` loop, it reads in the ID value for Sean Smith, then when reading in the last name, it throws the `EOFException`, even though it is not at the end of the file. When I look at the contents of the file during the program execution pause, it has three blocks of data, which are clearly visible:\r\n```\r\n&#65536;ꑢ?ꣁ???甔? 珐????? ꗌ?쵐?\r\n```\r\nOf course, it looks different in the editor in which I look at it, but there are three clear blocks of data present. Yet, after reading the one field from the second block of data, it somehow hits the EOF.\r\n\r\nCan anyone explain why this would be? It seems that if these classes are working correctly, when data is written out as I did, then read in by the inverse class, it would read in exactly as it was written out, so it should read in the same number of datapoints as were written. \r\n\r\nI guess the better question is, where did I screw this up? ;)\r\n\r\nThank you for any help you can provide!\r\n\r\n-SC\r\n\r\n[EDIT]\r\nI also just noticed that John Dough&#39;s salary is not being read back in as the same value as written, neither is his `birthDate`. Why would this be?\r\n\r\nThx!\r\n\r\n[EDIT-2]\r\nHere&#39;s the `Person` Java Bean:\r\n```java\r\npublic class Person {\r\n    \r\n    private long id;\r\n    private String lastName;\r\n    private String firstName;\r\n    private Date birthDate;\r\n    private double salary;\r\n    \r\n    public Person() {\r\n        \r\n    }\r\n    \r\n    public Person (String lastName, String firstName, Date birthDate, double salary) {\r\n        this.id = System.currentTimeMillis();\r\n        this.lastName = lastName;\r\n        this.firstName = firstName;\r\n        this.birthDate = birthDate;\r\n        this.salary = salary;\r\n    }\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public Date getBirthDate() {\r\n        return birthDate;\r\n    }\r\n\r\n    public void setBirthDate(Date birthDate) {\r\n        this.birthDate = birthDate;\r\n    }\r\n\r\n    public double getSalary() {\r\n        return salary;\r\n    }\r\n\r\n    public void setSalary(double salary) {\r\n        this.salary = salary;\r\n    }\r\n    \r\n    @Override\r\n    public String toString() {\r\n        return getLastName() + &quot;, &quot; + getFirstName() + &quot; [birth=&quot; + getBirthDate() + &quot;; salary=&quot; + getSalary();\r\n    }\r\n\r\n}\r\n```","title":"Binary File Input/Output with Data*Stream Classes","body":"<p>I have the following test program that is writing out a <code>Person</code> record's field values using <code>java.io.DataOutputStream</code> and it writes them out just fine. Then, after a pause that I put in to check the data file, it is supposed to read in the same three records using <code>java.io.DataInputStream</code>, but it reads in the first record, the <code>Person.id</code> of the second record and throws the <code>EOFException</code>, but is not at the end of file. Here's the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BinaryFileAccessTest {\n\n    private static File dataFile = new File(System.getProperty(&quot;user.home&quot;) + File.separator + &quot;dataFile.dat&quot;);\n    \n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        List&lt;Person&gt; people = new ArrayList&lt;&gt;();\n        \n        people.add(new Person(&quot;Dough&quot;, &quot;John&quot;, new Date(70, 03, 17), 23500.00d));\n        people.add(new Person(&quot;Smith&quot;, &quot;Sean&quot;, new Date(70, 05, 06), 53900.00d));\n        people.add(new Person(&quot;Carrick&quot;, &quot;Rebecca&quot;, new Date(59, 06, 13), 20000.00d));\n        \n        System.out.println(&quot;From List&lt;Person&gt; people:&quot;);\n        for (Person p : people) {\n            System.out.println(&quot;\\tCreated: &quot; + p.toString());\n        }\n        \n        try (DataOutputStream out = new DataOutputStream(new FileOutputStream(dataFile))) {\n            System.out.println(&quot;Writing Person to file:&quot;);\n            for (Person p : people) {\n                out.writeLong(p.getId());\n                out.writeUTF(p.getLastName());\n                out.writeUTF(p.getFirstName());\n                out.write(p.getBirthDate().toString().getBytes());\n                out.writeDouble(p.getSalary());\n                \n                System.out.println(&quot;\\tWrote: &quot; + p.toString());\n            }\n        } catch (IOException ex) {\n            System.err.println(&quot;An error occurred writing to &quot; + dataFile);\n            System.err.println(ex);\n            ex.printStackTrace(System.err);\n        }\n        \n        Scanner keyboard = new Scanner(System.in);\n        boolean exit = false;\n        while (!exit) {\n            String input = keyboard.nextLine();\n            if (input != null) {\n                exit = true;\n            }\n        }\n        \n        try (DataInputStream in = new DataInputStream(new FileInputStream(dataFile))) {\n            people.clear();\n            System.out.println(&quot;Reading Person from file:&quot;);\n            \n            while (true) {\n                Person p = new Person();\n                p.setId(in.readLong());\n                p.setLastName(in.readUTF());\n                p.setFirstName(in.readUTF());\n                p.setBirthDate(new Date(in.read()));\n                p.setSalary(in.readDouble());\n                \n                System.out.println(&quot;\\tRead: &quot; + p.toString());\n                people.add(p);\n            }\n        } catch (IOException ex) {\n//            if (!(ex instanceof EOFException)) {\n                System.err.println(&quot;An error occurred writing to &quot; + dataFile);\n                System.err.println(ex);\n                ex.printStackTrace(System.err);\n//            } else {\n//                System.out.println(&quot;End of file reached.&quot;);\n//            }\n        }\n        \n        System.out.println(&quot;From List&lt;Person&gt; people:&quot;);\n        for (Person p : people) {\n            System.out.println(&quot;\\tContains: &quot; + p.toString());\n        }\n       \n    }\n\n}\n</code></pre>\n<p>The output from this program is:</p>\n<pre><code>From List&lt;Person&gt; people:\n    Created: Dough, John [birth=Fri Apr 17 00:00:00 CST 1970; salary=23500.0\n    Created: Smith, Sean [birth=Sat Jun 06 00:00:00 CDT 1970; salary=53900.0\n    Created: Carrick, Rebecca [birth=Mon Jul 13 00:00:00 CDT 1959; salary=20000.0\nWriting Person to file:\n    Wrote: Dough, John [birth=Fri Apr 17 00:00:00 CST 1970; salary=23500.0\n    Wrote: Smith, Sean [birth=Sat Jun 06 00:00:00 CDT 1970; salary=53900.0\n    Wrote: Carrick, Rebecca [birth=Mon Jul 13 00:00:00 CDT 1959; salary=20000.0\n\nReading Person from file:\n    Read: Dough, John [birth=Wed Dec 31 18:00:00 CST 1969; salary=1.3403241663660614E243\n</code></pre>\n<p>In the second <code>try...catch</code> block, the first record (for John Dough) is read in and stored in the <code>people</code> list just fine. On the second iteration of the <code>while</code> loop, it reads in the ID value for Sean Smith, then when reading in the last name, it throws the <code>EOFException</code>, even though it is not at the end of the file. When I look at the contents of the file during the program execution pause, it has three blocks of data, which are clearly visible:</p>\n<pre><code>𐀀ꑢ?ꣁ???甔? 珐????? ꗌ?쵐?\n</code></pre>\n<p>Of course, it looks different in the editor in which I look at it, but there are three clear blocks of data present. Yet, after reading the one field from the second block of data, it somehow hits the EOF.</p>\n<p>Can anyone explain why this would be? It seems that if these classes are working correctly, when data is written out as I did, then read in by the inverse class, it would read in exactly as it was written out, so it should read in the same number of datapoints as were written.</p>\n<p>I guess the better question is, where did I screw this up? ;)</p>\n<p>Thank you for any help you can provide!</p>\n<p>-SC</p>\n<p>[EDIT]\nI also just noticed that John Dough's salary is not being read back in as the same value as written, neither is his <code>birthDate</code>. Why would this be?</p>\n<p>Thx!</p>\n<p>[EDIT-2]\nHere's the <code>Person</code> Java Bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Person {\n    \n    private long id;\n    private String lastName;\n    private String firstName;\n    private Date birthDate;\n    private double salary;\n    \n    public Person() {\n        \n    }\n    \n    public Person (String lastName, String firstName, Date birthDate, double salary) {\n        this.id = System.currentTimeMillis();\n        this.lastName = lastName;\n        this.firstName = firstName;\n        this.birthDate = birthDate;\n        this.salary = salary;\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public Date getBirthDate() {\n        return birthDate;\n    }\n\n    public void setBirthDate(Date birthDate) {\n        this.birthDate = birthDate;\n    }\n\n    public double getSalary() {\n        return salary;\n    }\n\n    public void setSalary(double salary) {\n        this.salary = salary;\n    }\n    \n    @Override\n    public String toString() {\n        return getLastName() + &quot;, &quot; + getFirstName() + &quot; [birth=&quot; + getBirthDate() + &quot;; salary=&quot; + getSalary();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","performance","collections"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1649613658,"post_id":71819062,"comment_id":126914674,"body_markdown":"You can&#39;t pass an ArrayDeque to Collections.rotate, can you?","body":"You can&#39;t pass an ArrayDeque to Collections.rotate, can you?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1649631369,"post_id":71819062,"comment_id":126918275,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649615893,"creation_date":1649615893,"answer_id":71819526,"question_id":71819062,"body_markdown":"IMHO the [documentation of `Collections.rotate()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#rotate(java.util.List,int)) describes the algorithm nicely:\r\n\r\n&gt; If the specified list is small or implements the `RandomAccess` interface, this implementation exchanges the first element into the location it should go, and then repeatedly exchanges the displaced element into the location it should go until a displaced element is swapped into the first element. If necessary, the process is repeated on the second and successive elements, until the rotation is complete.\r\n\r\nAccording to this part of the description the time complexity is O(N) for lists that implement the `RandomAccess` interface (because for such lists the element access is O(1) and the algorithm needs to access N elements), O(N^2) for lists where the element access is O(N) (for example `LinkedList`) - but only for small N.\r\n\r\n&gt; If the specified list is large and doesn&#39;t implement the `RandomAccess` interface, this implementation breaks the list into two sublist views around index `-distance mod size`. Then the [`reverse(List)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#reverse(java.util.List)) method is invoked on each sublist view, and finally it is invoked on the entire list. \r\n\r\nThis part of the description is for larger lists that do not implement the `RandomAccess` interface (for example `LinkedList`). The description mentions 3 calls to [`Collections.reverse()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#reverse(java.util.List)) and the [documentation for `Collections.reverse()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#reverse(java.util.List)) says:\r\n\r\n&gt; This method runs in linear time.\r\n\r\nThat means O(N) for each call to `Collections.reverse()` - but O(3*N) is a constant factor to O(N) which means that the whole operation for `Collections.rotate()` also runs in O(N).\r\n\r\n----\r\nNote that [`ArrayDeque`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ArrayDeque.html) does **not** implement the `List` interface and you therefore cannot call `Collections.rotate()` with an `ArrayDeque` as argument.","title":"Time complexity of Collections.rotate in Java","body":"<p>IMHO the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#rotate(java.util.List,int)\" rel=\"nofollow noreferrer\">documentation of <code>Collections.rotate()</code></a> describes the algorithm nicely:</p>\n<blockquote>\n<p>If the specified list is small or implements the <code>RandomAccess</code> interface, this implementation exchanges the first element into the location it should go, and then repeatedly exchanges the displaced element into the location it should go until a displaced element is swapped into the first element. If necessary, the process is repeated on the second and successive elements, until the rotation is complete.</p>\n</blockquote>\n<p>According to this part of the description the time complexity is O(N) for lists that implement the <code>RandomAccess</code> interface (because for such lists the element access is O(1) and the algorithm needs to access N elements), O(N^2) for lists where the element access is O(N) (for example <code>LinkedList</code>) - but only for small N.</p>\n<blockquote>\n<p>If the specified list is large and doesn't implement the <code>RandomAccess</code> interface, this implementation breaks the list into two sublist views around index <code>-distance mod size</code>. Then the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#reverse(java.util.List)\" rel=\"nofollow noreferrer\"><code>reverse(List)</code></a> method is invoked on each sublist view, and finally it is invoked on the entire list.</p>\n</blockquote>\n<p>This part of the description is for larger lists that do not implement the <code>RandomAccess</code> interface (for example <code>LinkedList</code>). The description mentions 3 calls to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#reverse(java.util.List)\" rel=\"nofollow noreferrer\"><code>Collections.reverse()</code></a> and the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#reverse(java.util.List)\" rel=\"nofollow noreferrer\">documentation for <code>Collections.reverse()</code></a> says:</p>\n<blockquote>\n<p>This method runs in linear time.</p>\n</blockquote>\n<p>That means O(N) for each call to <code>Collections.reverse()</code> - but O(3*N) is a constant factor to O(N) which means that the whole operation for <code>Collections.rotate()</code> also runs in O(N).</p>\n<hr />\n<p>Note that <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ArrayDeque.html\" rel=\"nofollow noreferrer\"><code>ArrayDeque</code></a> does <strong>not</strong> implement the <code>List</code> interface and you therefore cannot call <code>Collections.rotate()</code> with an <code>ArrayDeque</code> as argument.</p>\n"}],"owner":{"account_id":20445070,"reputation":21,"user_id":15001063,"display_name":"Davit Escobedo "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649615893,"creation_date":1649612204,"question_id":71819062,"body_markdown":"I haven&#39;t found much information about the time complexity of Collections.rotate(list, k), am I correct in assuming the following?\r\n\r\n - For ArrayList: O(n) being n the size of the list\r\n - For LinkedList and ArrayDeque: O(k)\r\n\r\nThanks in advance.","title":"Time complexity of Collections.rotate in Java","body":"<p>I haven't found much information about the time complexity of Collections.rotate(list, k), am I correct in assuming the following?</p>\n<ul>\n<li>For ArrayList: O(n) being n the size of the list</li>\n<li>For LinkedList and ArrayDeque: O(k)</li>\n</ul>\n<p>Thanks in advance.</p>\n"},{"tags":["java","minecraft","mcps"],"comments":[{"owner":{"account_id":18894925,"reputation":91,"user_id":13784314,"display_name":"comicalvery"},"score":0,"creation_date":1625644660,"post_id":68255138,"comment_id":120678486,"body_markdown":"This is a bad solution but try using a predecompiled MCP . Also please don&#39;t use [screenshots](https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors) if you can paste the error message.","body":"This is a bad solution but try using a predecompiled MCP . Also please don&#39;t use <a href=\"https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors\">screenshots</a> if you can paste the error message."},{"owner":{"display_name":"user16383053"},"score":0,"creation_date":1625652583,"post_id":68255138,"comment_id":120681948,"body_markdown":"Sometimes predecompiled MCP also doesn&#39;t have some of the modules that it needs. It will show up another thousand of erros that there are no exisitng modules. If you can, can you please, sned me a link to the mcp that actually is fully decompiled (It&#39;s usually like a gigabyte or something). I could&#39;t find any.","body":"Sometimes predecompiled MCP also doesn&#39;t have some of the modules that it needs. It will show up another thousand of erros that there are no exisitng modules. If you can, can you please, sned me a link to the mcp that actually is fully decompiled (It&#39;s usually like a gigabyte or something). I could&#39;t find any."},{"owner":{"account_id":18894925,"reputation":91,"user_id":13784314,"display_name":"comicalvery"},"score":0,"creation_date":1626168281,"post_id":68255138,"comment_id":120814733,"body_markdown":"https://github.com/ZeroedInOnTech/1.8.8","body":"<a href=\"https://github.com/ZeroedInOnTech/1.8.8\" rel=\"nofollow noreferrer\">github.com/ZeroedInOnTech/1.8.8</a>"}],"answers":[{"tags":[],"owner":{"account_id":20437635,"reputation":26,"user_id":14995093,"display_name":"jack"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1625719313,"creation_date":1625719313,"answer_id":68295747,"question_id":68255138,"body_markdown":"Encountered this error just before, go here:\r\n\r\n`conf\\mcp.cfg`\r\n\r\nOpen &amp; edit the file, go to CmdRecomp, change values of `-source` &amp; `-target` from `1.6` to `1.8` \r\n\r\nSource and target must equal the same value. Chances are you will be using 1.8/Java 8, so use that instead of 1.7/Java 7 as the error says.\r\n","title":"How to fix the error when decompiling MCP 9.18?","body":"<p>Encountered this error just before, go here:</p>\n<p><code>conf\\mcp.cfg</code></p>\n<p>Open &amp; edit the file, go to CmdRecomp, change values of <code>-source</code> &amp; <code>-target</code> from <code>1.6</code> to <code>1.8</code></p>\n<p>Source and target must equal the same value. Chances are you will be using 1.8/Java 8, so use that instead of 1.7/Java 7 as the error says.</p>\n"}],"owner":{"display_name":"user16383053"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":811,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68295747,"answer_count":1,"score":0,"last_activity_date":1649615552,"creation_date":1625483483,"question_id":68255138,"body_markdown":"When I am decompiling the MCP 9.18 (For 1.8.8) to make a minecraft client I get an error. At the point of when it reached the recompiling process it gave me a massive error.\r\n\r\n![pic from cmd prompt][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LVbyA.png\r\n\r\nI think that the statement:\r\n```none\r\n== ERRORS FOUND in JAVA CODE ==\r\n\r\nerror: Source option 6 is no longer supported. Use 7 or later. \r\n\r\nerror: Target option 6 is no longer supported. Use 7 or later.\r\n\r\n==\r\n```\r\nShould help. ","title":"How to fix the error when decompiling MCP 9.18?","body":"<p>When I am decompiling the MCP 9.18 (For 1.8.8) to make a minecraft client I get an error. At the point of when it reached the recompiling process it gave me a massive error.</p>\n<p><img src=\"https://i.stack.imgur.com/LVbyA.png\" alt=\"pic from cmd prompt\" /></p>\n<p>I think that the statement:</p>\n<pre class=\"lang-none prettyprint-override\"><code>== ERRORS FOUND in JAVA CODE ==\n\nerror: Source option 6 is no longer supported. Use 7 or later. \n\nerror: Target option 6 is no longer supported. Use 7 or later.\n\n==\n</code></pre>\n<p>Should help.</p>\n"},{"tags":["java","minecraft","mcps"],"comments":[{"owner":{"account_id":6928580,"reputation":1,"user_id":5318832,"display_name":"Donato "},"score":0,"creation_date":1445167495,"post_id":33197366,"comment_id":54199840,"body_markdown":"MCP means &quot;Minecraft Coder Pack&quot;","body":"MCP means &quot;Minecraft Coder Pack&quot;"}],"answers":[{"tags":[],"owner":{"account_id":3341419,"reputation":180,"user_id":2807632,"display_name":"rchard2scout"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1445349043,"creation_date":1445349043,"answer_id":33238547,"question_id":33197366,"body_markdown":"If you want to make a mod for Minecraft, you want to be using Forge. Follow the [tutorial here.][1] If it doesn&#39;t work, come back with any error messages you&#39;re getting.\r\n\r\n\r\n  [1]: https://raw.githubusercontent.com/MinecraftForge/MinecraftForge/master/README.txt","title":"How to install MCP on Eclipse with no errors?","body":"<p>If you want to make a mod for Minecraft, you want to be using Forge. Follow the <a href=\"https://raw.githubusercontent.com/MinecraftForge/MinecraftForge/master/README.txt\" rel=\"nofollow\">tutorial here.</a> If it doesn't work, come back with any error messages you're getting.</p>\n"}],"owner":{"account_id":6928580,"reputation":1,"user_id":5318832,"display_name":"Donato "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":734,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1448044295,"accepted_answer_id":33238547,"answer_count":1,"score":-4,"last_activity_date":1649615496,"creation_date":1445167377,"question_id":33197366,"body_markdown":"I need help to use or to install MCP on Eclipse with no erorrs.\r\nI&#39;ve got CMS Erorr with my Java 64-bit Server. I want to make mods for Minecraft Forge 1.7.10. I need a Forge client.jar.","title":"How to install MCP on Eclipse with no errors?","body":"<p>I need help to use or to install MCP on Eclipse with no erorrs.\nI've got CMS Erorr with my Java 64-bit Server. I want to make mods for Minecraft Forge 1.7.10. I need a Forge client.jar.</p>\n"},{"tags":["java","android","kotlin","android-recyclerview","menu"],"answers":[{"tags":[],"owner":{"account_id":15759257,"reputation":321,"user_id":11407290,"display_name":"GuilhermeMagro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649615340,"creation_date":1649615340,"answer_id":71819449,"question_id":71818932,"body_markdown":"You had just created your `ActionMode.Callback` object, but you are not doing anything with it. You can create it outside of your `ClickListener` and just use the `Activity` method `startActionMode(ActionMode.Callback)` inside of you `ClickListener`.\r\n\r\nRead the documentation for more information:\r\nhttps://developer.android.com/guide/topics/ui/menus.html#CAB","title":"Action mode call back doesn&#39;t trigger","body":"<p>You had just created your <code>ActionMode.Callback</code> object, but you are not doing anything with it. You can create it outside of your <code>ClickListener</code> and just use the <code>Activity</code> method <code>startActionMode(ActionMode.Callback)</code> inside of you <code>ClickListener</code>.</p>\n<p>Read the documentation for more information:\n<a href=\"https://developer.android.com/guide/topics/ui/menus.html#CAB\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/ui/menus.html#CAB</a></p>\n"}],"owner":{"account_id":24237502,"reputation":105,"user_id":18190398,"display_name":"Bam Bou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649615340,"creation_date":1649611208,"question_id":71818932,"body_markdown":"I&#39;m trying to implement a multiselection to share files in my recyclerview. For that I&#39;m using an Action mode callback which is supposed to inflate a custom menu for my option. But after a long click nothing happen... Someone has an idea? It&#39;s very difficult to find good examples without seeing multiple complex methods.\r\n\r\n\r\n            holder.itemView.setOnLongClickListener {        // todo partager plusieurs fichier? + imprimer\r\n\r\n            val actionModeCallback = object : ActionMode.Callback {\r\n                override fun onCreateActionMode(mode: ActionMode, menu: Menu): Boolean {\r\n                    mode.menuInflater.inflate(R.menu.menu_file,menu)\r\n                    return true\r\n                }\r\n\r\n                override fun onPrepareActionMode(mode: ActionMode, menu: Menu): Boolean {\r\n                    isSelected = true\r\n\r\n                    return false\r\n                }\r\n\r\n                override fun onActionItemClicked(mode: ActionMode, item: MenuItem): Boolean {\r\n                    return when (item.itemId) {\r\n                        R.id.share -&gt; {\r\n                            // delete all the selected rows\r\n                            mode.finish()\r\n                            true\r\n                        }\r\n                        else -&gt; false\r\n                    }\r\n                }\r\n\r\n                override fun onDestroyActionMode(mode: ActionMode) {\r\n                    isSelected = false\r\n                }\r\n            }\r\n\r\n","title":"Action mode call back doesn&#39;t trigger","body":"<p>I'm trying to implement a multiselection to share files in my recyclerview. For that I'm using an Action mode callback which is supposed to inflate a custom menu for my option. But after a long click nothing happen... Someone has an idea? It's very difficult to find good examples without seeing multiple complex methods.</p>\n<pre><code>        holder.itemView.setOnLongClickListener {        // todo partager plusieurs fichier? + imprimer\n\n        val actionModeCallback = object : ActionMode.Callback {\n            override fun onCreateActionMode(mode: ActionMode, menu: Menu): Boolean {\n                mode.menuInflater.inflate(R.menu.menu_file,menu)\n                return true\n            }\n\n            override fun onPrepareActionMode(mode: ActionMode, menu: Menu): Boolean {\n                isSelected = true\n\n                return false\n            }\n\n            override fun onActionItemClicked(mode: ActionMode, item: MenuItem): Boolean {\n                return when (item.itemId) {\n                    R.id.share -&gt; {\n                        // delete all the selected rows\n                        mode.finish()\n                        true\n                    }\n                    else -&gt; false\n                }\n            }\n\n            override fun onDestroyActionMode(mode: ActionMode) {\n                isSelected = false\n            }\n        }\n</code></pre>\n"},{"tags":["java","qr-code","jaspersoft-studio"],"answers":[{"tags":[],"owner":{"account_id":18061655,"reputation":29,"user_id":13128646,"display_name":"Ami Soni"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649615004,"creation_date":1649614600,"answer_id":71819338,"question_id":71819330,"body_markdown":"- Configration in JasperSoft Studio\r\n\r\nIn jasper Studio Select Option Barcode in that Select QR.\r\nIn QR Propeties Select Code Expression and add your variable Or Data in Code Expression Field.\r\nSelect Now in Evaluation Time.\r\n\r\nAdd Jar File In JasperSoft Studio For Genrate QR Code.\r\n-&gt; Select Project From Menu -&gt; Propeties -&gt; java build Path -&gt; libraries -&gt; add external jar \r\nselect you path where you have download your jar.\r\n\r\n- Configration in Your IDE\r\n\r\nIn your IDE  WebContent/WEB-INF/classes make jasperreports.properties file.\r\n\r\nin file Write \r\nnet.sf.jasperreports.components.barcode4j.image.producer=image\r\n\r\nAdd jar Files in you lib folder.\r\n\r\nFor More Detailed Answer Visit :: https://github.com/Amisoni/How-To-add-QR-Code-In-jasper-using-JasperSoft-Studio-Tibco-JasperSoft-Studio ","title":"How To add QR Code In jasper using JasperSoft Studio [Tibco JasperSoft Studio]","body":"<ul>\n<li>Configration in JasperSoft Studio</li>\n</ul>\n<p>In jasper Studio Select Option Barcode in that Select QR.\nIn QR Propeties Select Code Expression and add your variable Or Data in Code Expression Field.\nSelect Now in Evaluation Time.</p>\n<p>Add Jar File In JasperSoft Studio For Genrate QR Code.\n-&gt; Select Project From Menu -&gt; Propeties -&gt; java build Path -&gt; libraries -&gt; add external jar\nselect you path where you have download your jar.</p>\n<ul>\n<li>Configration in Your IDE</li>\n</ul>\n<p>In your IDE  WebContent/WEB-INF/classes make jasperreports.properties file.</p>\n<p>in file Write\nnet.sf.jasperreports.components.barcode4j.image.producer=image</p>\n<p>Add jar Files in you lib folder.</p>\n<p>For More Detailed Answer Visit :: <a href=\"https://github.com/Amisoni/How-To-add-QR-Code-In-jasper-using-JasperSoft-Studio-Tibco-JasperSoft-Studio\" rel=\"nofollow noreferrer\">https://github.com/Amisoni/How-To-add-QR-Code-In-jasper-using-JasperSoft-Studio-Tibco-JasperSoft-Studio</a></p>\n"}],"owner":{"account_id":18061655,"reputation":29,"user_id":13128646,"display_name":"Ami Soni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5231,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1649685367,"answer_count":1,"score":-1,"last_activity_date":1649615081,"creation_date":1649614538,"question_id":71819330,"body_markdown":"For More Detailed Answer Visit :: https://github.com/Amisoni/How-To-add-QR-Code-In-jasper-using-JasperSoft-Studio-Tibco-JasperSoft-Studio  ","title":"How To add QR Code In jasper using JasperSoft Studio [Tibco JasperSoft Studio]","body":"<p>For More Detailed Answer Visit :: <a href=\"https://github.com/Amisoni/How-To-add-QR-Code-In-jasper-using-JasperSoft-Studio-Tibco-JasperSoft-Studio\" rel=\"nofollow noreferrer\">https://github.com/Amisoni/How-To-add-QR-Code-In-jasper-using-JasperSoft-Studio-Tibco-JasperSoft-Studio</a></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1649614554,"post_id":71819319,"comment_id":126914888,"body_markdown":"Have the two fragments share a `ViewModel`, and put the data in that viewmodel.","body":"Have the two fragments share a <code>ViewModel</code>, and put the data in that viewmodel."},{"owner":{"account_id":20881042,"reputation":41,"user_id":15338753,"display_name":"Farou Faroud"},"score":0,"creation_date":1649614720,"post_id":71819319,"comment_id":126914941,"body_markdown":"@CommonsWare I don&#39;t know what that means :)","body":"@CommonsWare I don&#39;t know what that means :)"},{"owner":{"account_id":20881042,"reputation":41,"user_id":15338753,"display_name":"Farou Faroud"},"score":0,"creation_date":1649615178,"post_id":71819319,"comment_id":126915044,"body_markdown":"@CommonsWare btw I don&#39;t know if this is important to mention or not but I am opening `MyDialogFragment` from inside `SettingsFragment`. So the current activity that&#39;s open behind `MyDialogFragment` is the SettingsActivity.","body":"@CommonsWare btw I don&#39;t know if this is important to mention or not but I am opening <code>MyDialogFragment</code> from inside <code>SettingsFragment</code>. So the current activity that&#39;s open behind <code>MyDialogFragment</code> is the SettingsActivity."},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1649616074,"post_id":71819319,"comment_id":126915237,"body_markdown":"&quot;I don&#39;t know what that means :)&quot; -- the Jetpack `ViewModel` system has been around for five years or so. Make sure that you are learning Android app development from up-to-date resources. FWIW, I cover `ViewModel` in [this free book](https://commonsware.com/Jetpack) and [this free book](https://commonsware.com/AndExplore). It is also covered in the official documentation, such as [here](https://developer.android.com/topic/libraries/architecture/viewmodel), including specifically [for sharing data between fragments](https://developer.android.com/topic/libraries/architecture/viewmodel#sharing).","body":"&quot;I don&#39;t know what that means :)&quot; -- the Jetpack <code>ViewModel</code> system has been around for five years or so. Make sure that you are learning Android app development from up-to-date resources. FWIW, I cover <code>ViewModel</code> in <a href=\"https://commonsware.com/Jetpack\" rel=\"nofollow noreferrer\">this free book</a> and <a href=\"https://commonsware.com/AndExplore\" rel=\"nofollow noreferrer\">this free book</a>. It is also covered in the official documentation, such as <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel\" rel=\"nofollow noreferrer\">here</a>, including specifically <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel#sharing\" rel=\"nofollow noreferrer\">for sharing data between fragments</a>."},{"owner":{"account_id":20881042,"reputation":41,"user_id":15338753,"display_name":"Farou Faroud"},"score":0,"creation_date":1649617174,"post_id":71819319,"comment_id":126915461,"body_markdown":"@CommonsWare Ok thanks I will try it. But before I do should I be concerned about the fact that SettingsFragment is static? Just making sure","body":"@CommonsWare Ok thanks I will try it. But before I do should I be concerned about the fact that SettingsFragment is static? Just making sure"},{"owner":{"account_id":20881042,"reputation":41,"user_id":15338753,"display_name":"Farou Faroud"},"score":0,"creation_date":1649617434,"post_id":71819319,"comment_id":126915539,"body_markdown":"@CommonsWare Also what if this was a Java question purely, without android. Meaning I was trying to access a variable that&#39;s inside a static inner class that happens to be called SettingsFragment from somewhere else? How would that be done?","body":"@CommonsWare Also what if this was a Java question purely, without android. Meaning I was trying to access a variable that&#39;s inside a static inner class that happens to be called SettingsFragment from somewhere else? How would that be done?"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1649618443,"post_id":71819319,"comment_id":126915745,"body_markdown":"&quot;But before I do should I be concerned about the fact that SettingsFragment is static?&quot; -- it is an unusual setup, but it should not cause a problem. &quot;Also what if this was a Java question purely, without android&quot; -- in these circumstances, that statement makes little sense to me. &quot;How would that be done?&quot; -- via `.drawable`. Your problem is not Java syntax. Your problem is that one fragment should not hold a reference to a peer fragment, and that is an Android architecture issue, not a Java language issue.","body":"&quot;But before I do should I be concerned about the fact that SettingsFragment is static?&quot; -- it is an unusual setup, but it should not cause a problem. &quot;Also what if this was a Java question purely, without android&quot; -- in these circumstances, that statement makes little sense to me. &quot;How would that be done?&quot; -- via <code>.drawable</code>. Your problem is not Java syntax. Your problem is that one fragment should not hold a reference to a peer fragment, and that is an Android architecture issue, not a Java language issue."}],"owner":{"account_id":20881042,"reputation":41,"user_id":15338753,"display_name":"Farou Faroud"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649614812,"creation_date":1649614457,"question_id":71819319,"body_markdown":"I&#39;m on Android. I need to access a variable that&#39;s inside a static fragment called `SettingsFragment` (which itself is inside an activity called `SettingsActivity`) from another Fragment called `MyDialogFragment`.\r\n\r\nHere is the SettingsFragment. The variable I want to access is called `drawable`:\r\n\r\n    public class SettingsActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.settings_activity);\r\n            getSupportFragmentManager()\r\n                    .beginTransaction()\r\n                    .replace(R.id.settings, new SettingsFragment())\r\n                    .commit();\r\n        }\r\n    \r\n        public static class SettingsFragment extends PreferenceFragmentCompat {\r\n\r\n            //This is the variable I want to access inside MyDialogFragment\r\n            public Drawable drawable = AppCompatResources.getDrawable(getContext(), R.drawable.hohol);\r\n    \r\n            @Override\r\n            public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {\r\n                setPreferencesFromResource(R.xml.preferences, rootKey);\r\n            }\r\n    \r\n            @Override\r\n            public void onDisplayPreferenceDialog(Preference preference) {\r\n                if (preference instanceof MyDialogFragment) {\r\n                    MyDialogFragment myDialogFragment = new MyDialogFragment();\r\n                    myDialogFragment.show(getActivity().getSupportFragmentManager(), &quot;My Dialog&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAnd this is the MyDialogFragment:\r\n\r\n    public class MyDialogFragment extends AppCompatDialogFragment {\r\n    \r\n        public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\r\n            MaterialAlertDialogBuilder builder = new MaterialAlertDialogBuilder(requireActivity());\r\n            LayoutInflater inflater = requireActivity().getLayoutInflater();\r\n            View view = inflater.inflate(R.layout.layout_dialog, null);\r\n            builder.setView(view);\r\n\r\n            Drawable drawable = SettingsActivity.SettingsFragment.drawable; //Doesn&#39;t work\r\n\r\n            return dialog;\r\n        }\r\n    \r\n    }\r\n\r\nI tried to get the drawable inside of the dialog fragment but I can&#39;t figure out how. Important thing to note is that I cannot make the drawable variable inside `SettingsFragment` a static variable because I need it to be non static.","title":"How to access a variable that&#39;s inside a static fragment, from outside this fragment?","body":"<p>I'm on Android. I need to access a variable that's inside a static fragment called <code>SettingsFragment</code> (which itself is inside an activity called <code>SettingsActivity</code>) from another Fragment called <code>MyDialogFragment</code>.</p>\n<p>Here is the SettingsFragment. The variable I want to access is called <code>drawable</code>:</p>\n<pre><code>public class SettingsActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.settings_activity);\n        getSupportFragmentManager()\n                .beginTransaction()\n                .replace(R.id.settings, new SettingsFragment())\n                .commit();\n    }\n\n    public static class SettingsFragment extends PreferenceFragmentCompat {\n\n        //This is the variable I want to access inside MyDialogFragment\n        public Drawable drawable = AppCompatResources.getDrawable(getContext(), R.drawable.hohol);\n\n        @Override\n        public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {\n            setPreferencesFromResource(R.xml.preferences, rootKey);\n        }\n\n        @Override\n        public void onDisplayPreferenceDialog(Preference preference) {\n            if (preference instanceof MyDialogFragment) {\n                MyDialogFragment myDialogFragment = new MyDialogFragment();\n                myDialogFragment.show(getActivity().getSupportFragmentManager(), &quot;My Dialog&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>And this is the MyDialogFragment:</p>\n<pre><code>public class MyDialogFragment extends AppCompatDialogFragment {\n\n    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n        MaterialAlertDialogBuilder builder = new MaterialAlertDialogBuilder(requireActivity());\n        LayoutInflater inflater = requireActivity().getLayoutInflater();\n        View view = inflater.inflate(R.layout.layout_dialog, null);\n        builder.setView(view);\n\n        Drawable drawable = SettingsActivity.SettingsFragment.drawable; //Doesn't work\n\n        return dialog;\n    }\n\n}\n</code></pre>\n<p>I tried to get the drawable inside of the dialog fragment but I can't figure out how. Important thing to note is that I cannot make the drawable variable inside <code>SettingsFragment</code> a static variable because I need it to be non static.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1649622985,"post_id":71819283,"comment_id":126916788,"body_markdown":"“ re-installed Java 11. I also re-installed JRE,” ?? If you installed a JDK, you have no need for a JRE.","body":"“ re-installed Java 11. I also re-installed JRE,” ?? If you installed a JDK, you have no need for a JRE."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1649623301,"post_id":71819283,"comment_id":126916871,"body_markdown":"You seem to be working too hard. I suggest you delete everything in /Users/Truc/Library/Java/JavaVirtualMachines/ and in /Library/Java/JavaVirtualMachines/. Then start fresh with an installer from your choice of vendor: Amazon, Azul Systems, Adoptium, BellSoft, Pivotal, Oracle, SAP, Red Hat/IBM, etc. Be sure to get installer for macOS, for Intel x86 chip. Install *one* JDK, not JRE. Then install [JetBrains Toolbox](https://www.jetbrains.com/toolbox-app/) to add an icon menu to your menu bar. Use that menu to auto-install IntelliJ.","body":"You seem to be working too hard. I suggest you delete everything in /Users/Truc/Library/Java/JavaVirtualMachines/ and in /Library/Java/JavaVirtualMachines/. Then start fresh with an installer from your choice of vendor: Amazon, Azul Systems, Adoptium, BellSoft, Pivotal, Oracle, SAP, Red Hat/IBM, etc. Be sure to get installer for macOS, for Intel x86 chip. Install <i>one</i> JDK, not JRE. Then install <a href=\"https://www.jetbrains.com/toolbox-app/\" rel=\"nofollow noreferrer\">JetBrains Toolbox</a> to add an icon menu to your menu bar. Use that menu to auto-install IntelliJ."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1649623460,"post_id":71819283,"comment_id":126916905,"body_markdown":"Actually, later versions of IntelliJ will download and install your choice of JDK for you.  https://www.jetbrains.com/idea/guide/tips/download-jdk/","body":"Actually, later versions of IntelliJ will download and install your choice of JDK for you.  <a href=\"https://www.jetbrains.com/idea/guide/tips/download-jdk/\" rel=\"nofollow noreferrer\">jetbrains.com/idea/guide/tips/download-jdk</a>"},{"owner":{"account_id":20323865,"reputation":1,"user_id":18228427,"display_name":"Vinami in Canada"},"score":0,"creation_date":1649640497,"post_id":71819283,"comment_id":126919514,"body_markdown":"I know JRE may not be needed but I ran out of options, so I tried it anyway. Thank you so much for your help, I was able to fix it. What was wrong is that I didn&#39;t pay attention to the /Users/Truc/Library/Java/JavaVirtualMachines/ folder. I just deleted all of it, then the re-installing worked. Thank you.","body":"I know JRE may not be needed but I ran out of options, so I tried it anyway. Thank you so much for your help, I was able to fix it. What was wrong is that I didn&#39;t pay attention to the /Users/Truc/Library/Java/JavaVirtualMachines/ folder. I just deleted all of it, then the re-installing worked. Thank you."},{"owner":{"account_id":20323865,"reputation":1,"user_id":18228427,"display_name":"Vinami in Canada"},"score":0,"creation_date":1649640878,"post_id":71819283,"comment_id":126919570,"body_markdown":"I have a follow up question, appreciate it if you can answer. Downloading a jdk inside IntelliJ is not the same as installling that JDK on your computer, right? Thanks.","body":"I have a follow up question, appreciate it if you can answer. Downloading a jdk inside IntelliJ is not the same as installling that JDK on your computer, right? Thanks."}],"owner":{"account_id":20323865,"reputation":1,"user_id":18228427,"display_name":"Vinami in Canada"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649614136,"creation_date":1649614136,"question_id":71819283,"body_markdown":"I&#39;m having an issue re-installing Java on my Mac. I&#39;m using a MacBook Air version 10.11.6, so the latest Java I could install on my Mac is JDK 11.\r\nAt first, I successfully installed Java 11 on my computer. I&#39;m also using IntelliJ for Java programming, using Oracle JDK 11. Everything was fine. But then, I had an assignment that required Java 17, so I downloaded it inside IntelliJ. It worked fine for a few days, then it crashed. [The issue inside IntelliJ][1] this is the error in IntelliJ when I tried to used Java 17 inside IntelliJ.\r\nTo troubleshoot the problems, I uninstalled everything: all Java versions on my Mac and IntelliJ, then re-installed everything again but I still couldn&#39;t use Java 17 inside IntelliJ, so I settled with Java 11 for now.\r\nHowever, when I checked java version on my Mac, I received the same error \r\n\r\n&gt; Error: dl failure on line 560\r\nError: failed /Users/Truc/Library/Java/JavaVirtualMachines/corretto-17.0.2/Contents/Home/lib/server/libjvm.dylib, because dlopen(/Users/Truc/Library/Java/JavaVirtualMachines/corretto-17.0.2/Contents/Home/lib/server/libjvm.dylib, 10): Symbol not found: _clock_gettime\r\n  Referenced from: /Users/Truc/Library/Java/JavaVirtualMachines/corretto-17.0.2/Contents/Home/lib/server/libjvm.dylib (which was built for Mac OS X 10.12)\r\n  Expected in: /usr/lib/libSystem.B.dylib\r\n in /Users/Truc/Library/Java/JavaVirtualMachines/corretto-17.0.2/Contents/Home/lib/server/libjvm.dylib\r\n\r\neven though I have removed Java 17 and re-installed Java 11. I also re-installed JRE, the latest version. Now I can&#39;t run Java from my terminal.\r\nI asked my professor and other experienced classmates but they didn&#39;t have the answers yet. Hopefully someone here could help me.\r\nThank you.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z8pS8.png\r\n  [2]: https://i.stack.imgur.com/CoRv0.png","title":"Unable to re-install Java on Mac, error &quot;Error: dl failure on line 560&quot;","body":"<p>I'm having an issue re-installing Java on my Mac. I'm using a MacBook Air version 10.11.6, so the latest Java I could install on my Mac is JDK 11.\nAt first, I successfully installed Java 11 on my computer. I'm also using IntelliJ for Java programming, using Oracle JDK 11. Everything was fine. But then, I had an assignment that required Java 17, so I downloaded it inside IntelliJ. It worked fine for a few days, then it crashed. <a href=\"https://i.stack.imgur.com/z8pS8.png\" rel=\"nofollow noreferrer\">The issue inside IntelliJ</a> this is the error in IntelliJ when I tried to used Java 17 inside IntelliJ.\nTo troubleshoot the problems, I uninstalled everything: all Java versions on my Mac and IntelliJ, then re-installed everything again but I still couldn't use Java 17 inside IntelliJ, so I settled with Java 11 for now.\nHowever, when I checked java version on my Mac, I received the same error</p>\n<blockquote>\n<p>Error: dl failure on line 560\nError: failed /Users/Truc/Library/Java/JavaVirtualMachines/corretto-17.0.2/Contents/Home/lib/server/libjvm.dylib, because dlopen(/Users/Truc/Library/Java/JavaVirtualMachines/corretto-17.0.2/Contents/Home/lib/server/libjvm.dylib, 10): Symbol not found: _clock_gettime\nReferenced from: /Users/Truc/Library/Java/JavaVirtualMachines/corretto-17.0.2/Contents/Home/lib/server/libjvm.dylib (which was built for Mac OS X 10.12)\nExpected in: /usr/lib/libSystem.B.dylib\nin /Users/Truc/Library/Java/JavaVirtualMachines/corretto-17.0.2/Contents/Home/lib/server/libjvm.dylib</p>\n</blockquote>\n<p>even though I have removed Java 17 and re-installed Java 11. I also re-installed JRE, the latest version. Now I can't run Java from my terminal.\nI asked my professor and other experienced classmates but they didn't have the answers yet. Hopefully someone here could help me.\nThank you.</p>\n"},{"tags":["java","android","c++","java-native-interface"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1649570835,"post_id":71814069,"comment_id":126906183,"body_markdown":"I&#39;m no expert in React but did you initialize the JNI Library by calling your `install()` method anywhere? I see you have added `System.loadLibrary(&quot;jsi-rn-wallet-core&quot;);` in that method.","body":"I&#39;m no expert in React but did you initialize the JNI Library by calling your <code>install()</code> method anywhere? I see you have added <code>System.loadLibrary(&quot;jsi-rn-wallet-core&quot;);</code> in that method."},{"owner":{"account_id":3737258,"reputation":5761,"user_id":3107926,"accept_rate":95,"display_name":"Oscar Franco"},"score":0,"creation_date":1649571442,"post_id":71814069,"comment_id":126906255,"body_markdown":"yes, as stated in the question, the testFn is bound and called correctly, that&#39;s why I get the error message...","body":"yes, as stated in the question, the testFn is bound and called correctly, that&#39;s why I get the error message..."},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1649571822,"post_id":71814069,"comment_id":126906307,"body_markdown":"Can you try moving the `java_object = env-&gt;NewGlobalRef(thiz);` before `tempInstall(*rt)`? I&#39;m not sure but either the `java_object` is clearly uninitialized when `tempInstall()` is called or complete class name is not formed when calling `getSeed`","body":"Can you try moving the <code>java_object = env-&gt;NewGlobalRef(thiz);</code> before <code>tempInstall(*rt)</code>? I&#39;m not sure but either the <code>java_object</code> is clearly uninitialized when <code>tempInstall()</code> is called or complete class name is not formed when calling <code>getSeed</code>"},{"owner":{"account_id":3737258,"reputation":5761,"user_id":3107926,"accept_rate":95,"display_name":"Oscar Franco"},"score":0,"creation_date":1649572178,"post_id":71814069,"comment_id":126906360,"body_markdown":"get seed is called much later, via a button in the UI. But I&#39;ve moved it anyways, makes no difference.","body":"get seed is called much later, via a button in the UI. But I&#39;ve moved it anyways, makes no difference."},{"owner":{"account_id":10677708,"reputation":36201,"user_id":7860670,"accept_rate":60,"display_name":"user7860670"},"score":1,"creation_date":1649574159,"post_id":71814069,"comment_id":126906630,"body_markdown":"`initialize` is a static method so `thiz` is not a handle to `WalletCoreModule` object instance so `GetObjectClass` returns the wrong class and so on.","body":"<code>initialize</code> is a static method so <code>thiz</code> is not a handle to <code>WalletCoreModule</code> object instance so <code>GetObjectClass</code> returns the wrong class and so on."},{"owner":{"account_id":3737258,"reputation":5761,"user_id":3107926,"accept_rate":95,"display_name":"Oscar Franco"},"score":0,"creation_date":1649574380,"post_id":71814069,"comment_id":126906655,"body_markdown":"Oh jesus.. you are right @user7860670... thanks a lot!","body":"Oh jesus.. you are right @user7860670... thanks a lot!"}],"answers":[{"tags":[],"owner":{"account_id":3737258,"reputation":5761,"user_id":3107926,"accept_rate":95,"display_name":"Oscar Franco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649613976,"creation_date":1649576482,"answer_id":71814656,"question_id":71814069,"body_markdown":"As pointed out by @user7860670 in the comments, the problem was that I declared the native method as static.\r\n\r\n```java\r\nprivate static native void initialize(long jsiPtr);\r\n```\r\n\r\nWhereas it should be an instance method:\r\n\r\n```java\r\nprivate native void initialize(long jsiPtr);\r\n```\r\n\r\nEven if the correct class name was being returned, the static nature of it caused it to crash.\r\n\r\n&lt;s&gt;Big oof that the JNI throws no *real* helpful hint.&lt;/s&gt;","title":"Android JNI, call getMethodID crashes app","body":"<p>As pointed out by @user7860670 in the comments, the problem was that I declared the native method as static.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static native void initialize(long jsiPtr);\n</code></pre>\n<p>Whereas it should be an instance method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private native void initialize(long jsiPtr);\n</code></pre>\n<p>Even if the correct class name was being returned, the static nature of it caused it to crash.</p>\n<p><s>Big oof that the JNI throws no <em>real</em> helpful hint.</s></p>\n"}],"owner":{"account_id":3737258,"reputation":5761,"user_id":3107926,"accept_rate":95,"display_name":"Oscar Franco"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":844,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71814656,"answer_count":1,"score":0,"last_activity_date":1649613976,"creation_date":1649569453,"question_id":71814069,"body_markdown":"I&#39;m trying to use the JNI in an Android app. My code correctly compiles and the application launches, however when I want to call a Java method (from the calling class) in my C++ code, the app promptly crashes saying it cannot find the method.\r\n\r\nYou will have to excuse the code, it is a bit messy because I&#39;ve tried so many things, it is also mixed with React-Native stuff, but the JNI crash has nothing to do with it.\r\n\r\nThe java module:\r\n```java\r\npackage com.jsirnwalletcore;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Keep;\r\nimport android.util.Log;\r\n\r\nimport android.content.Context;\r\nimport android.content.SharedPreferences;\r\nimport android.util.Base64;\r\n\r\nimport com.facebook.react.bridge.ReactApplicationContext;\r\nimport com.facebook.react.bridge.ReactContextBaseJavaModule;\r\nimport com.facebook.react.bridge.ReactMethod;\r\n\r\n@Keep\r\nclass WalletCoreModule extends ReactContextBaseJavaModule {\r\n  public static final String NAME = &quot;WalletCore&quot;;\r\n  private static native void initialize(long jsiPtr);\r\n  private SharedPreferences prefs;\r\n\r\n  public WalletCoreModule(ReactApplicationContext context) {\r\n    super(context);\r\n    \r\n    this.prefs = context.getSharedPreferences(&quot;WALLETCORE&quot;, Context.MODE_PRIVATE);\r\n  }\r\n\r\n  @NonNull\r\n  @Override\r\n  public String getName() {\r\n    return NAME;\r\n  }\r\n\r\n  public String getSeed() {\r\n    return &quot;HARDCODED SEED&quot;;\r\n  }\r\n\r\n  @ReactMethod(isBlockingSynchronousMethod = true)\r\n  public boolean install() {\r\n    try {\r\n      String seed = getSeed();\r\n      Log.w(NAME, &quot;ROPO CALLING GET SEED: &quot; + seed);\r\n\r\n      System.loadLibrary(&quot;jsi-rn-wallet-core&quot;);\r\n\r\n      ReactApplicationContext context = getReactApplicationContext();\r\n\r\n      initialize(context.getJavaScriptContextHolder().get());\r\n      return true;\r\n    } catch(Exception exception) {\r\n      return false;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe cpp-adapter.cpp:\r\n\r\n```c++\r\n#include &lt;jni.h&gt;\r\n#include &quot;installer.hpp&quot;\r\n#include &quot;logs.h&quot;\r\n#include &lt;string&gt;\r\n#include &quot;pthread.h&quot;\r\n#include &lt;sys/types.h&gt;\r\n#include &lt;jsi/jsi.h&gt;\r\n\r\nJavaVM *java_vm;\r\njclass java_class;\r\njobject java_object;\r\n\r\n/**\r\n * A simple callback function that allows us to detach current JNI Environment\r\n * when the thread\r\n * See https://stackoverflow.com/a/30026231 for detailed explanation\r\n */\r\n\r\nvoid DeferThreadDetach(JNIEnv *env)\r\n{\r\n    static pthread_key_t thread_key;\r\n\r\n    // Set up a Thread Specific Data key, and a callback that\r\n    // will be executed when a thread is destroyed.\r\n    // This is only done once, across all threads, and the value\r\n    // associated with the key for any given thread will initially\r\n    // be NULL.\r\n    static auto run_once = []\r\n    {\r\n        const auto err = pthread_key_create(&amp;thread_key, [](void *ts_env)\r\n                                            {\r\n            if (ts_env) {\r\n                java_vm-&gt;DetachCurrentThread();\r\n            } });\r\n        if (err)\r\n        {\r\n            // Failed to create TSD key. Throw an exception if you want to.\r\n        }\r\n        return 0;\r\n    }();\r\n\r\n    // For the callback to actually be executed when a thread exits\r\n    // we need to associate a non-NULL value with the key on that thread.\r\n    // We can use the JNIEnv* as that value.\r\n    const auto ts_env = pthread_getspecific(thread_key);\r\n    if (!ts_env)\r\n    {\r\n        if (pthread_setspecific(thread_key, env))\r\n        {\r\n            // Failed to set thread-specific value for key. Throw an exception if you want to.\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Get a JNIEnv* valid for this thread, regardless of whether\r\n * we&#39;re on a native thread or a Java thread.\r\n * If the calling thread is not currently attached to the JVM\r\n * it will be attached, and then automatically detached when the\r\n * thread is destroyed.\r\n *\r\n * See https://stackoverflow.com/a/30026231 for detailed explanation\r\n */\r\nJNIEnv *GetJniEnv()\r\n{\r\n    JNIEnv *env = nullptr;\r\n    // We still call GetEnv first to detect if the thread already\r\n    // is attached. This is done to avoid setting up a DetachCurrentThread\r\n    // call on a Java thread.\r\n\r\n    // g_vm is a global.\r\n    auto get_env_result = java_vm-&gt;GetEnv((void **)&amp;env, JNI_VERSION_1_6);\r\n    if (get_env_result == JNI_EDETACHED)\r\n    {\r\n        if (java_vm-&gt;AttachCurrentThread(&amp;env, NULL) == JNI_OK)\r\n        {\r\n            DeferThreadDetach(env);\r\n        }\r\n        else\r\n        {\r\n            // Failed to attach thread. Throw an exception if you want to.\r\n        }\r\n    }\r\n    else if (get_env_result == JNI_EVERSION)\r\n    {\r\n        // Unsupported JNI version. Throw an exception if you want to.\r\n    }\r\n    return env;\r\n}\r\n\r\nvoid tempInstall(jsi::Runtime &amp;rt)\r\n{\r\n    auto testFn = jsi::Function::createFromHostFunction(\r\n        rt,\r\n        jsi::PropNameID::forAscii(rt, &quot;testFn&quot;),\r\n        0,\r\n        [](jsi::Runtime &amp;rt, const jsi::Value &amp;thisValue, const jsi::Value *args, size_t count) -&gt; jsi::Value\r\n        {\r\n            JNIEnv *jniEnv = GetJniEnv();\r\n\r\n            java_class = jniEnv-&gt;GetObjectClass(java_object);\r\n            jmethodID get = jniEnv-&gt;GetMethodID(java_class, &quot;getSeed&quot;, &quot;()Ljava/lang/String;&quot;);\r\n            // jobject result = jniEnv-&gt;CallObjectMethod(java_object, get);\r\n            // const char *str = jniEnv-&gt;GetStringUTFChars((jstring)result, NULL);\r\n            // LOGW(&quot;ROPO GOT: %s&quot;, str);\r\n            return {};\r\n        });\r\n\r\n    rt.global().setProperty(rt, &quot;testFn&quot;, std::move(testFn));\r\n}\r\n\r\nextern &quot;C&quot; JNIEXPORT jint JNICALL JNI_OnLoad(JavaVM *jvm, void *reserved)\r\n{\r\n    java_vm = jvm;\r\n\r\n    LOGW(&quot;ROPO JNI_OnLoad CALLED&quot;);\r\n\r\n    return JNI_VERSION_1_6;\r\n}\r\n\r\nextern &quot;C&quot; JNIEXPORT void JNICALL\r\nJava_com_jsirnwalletcore_WalletCoreModule_initialize(JNIEnv *env, jobject thiz, jlong jsi)\r\n{\r\n    auto rt = reinterpret_cast&lt;jsi::Runtime *&gt;(jsi);\r\n    // jclass clazz = env-&gt;GetObjectClass(thiz);\r\n\r\n    // jmethodID getNameMID = env-&gt;GetMethodID(clazz, &quot;getName&quot;, &quot;()Ljava/lang/String;&quot;);\r\n    // jstring jClassName = (jstring)env-&gt;CallObjectMethod(thiz, getNameMID);\r\n    // std::string classString = jstringToString(env, jClassName);\r\n    // LOGW(&quot;###########ROPO############&quot;);\r\n    // LOGW(&quot;RETRIEVED STRING: %s&quot;, classString.c_str());\r\n    // LOGW(&quot;###########ROPO############&quot;);\r\n\r\n    // jmethodID retrieveMethodID = env-&gt;GetMethodID(clazz, &quot;getSeed&quot;, &quot;()Ljava/lang/String;&quot;);\r\n    // if (retrieveMethodID == NULL)\r\n    // {\r\n    //     LOGW(&quot;ROPO methodID not found!&quot;);\r\n    // }\r\n    // else\r\n    // {\r\n    //     jstring myString = (jstring)env-&gt;CallObjectMethod(thiz, retrieveMethodID);\r\n    //     std::string retrievedString = jstringToString(env, myString);\r\n    //     LOGW(&quot;###########ROPO############&quot;);\r\n    //     LOGW(&quot;RETRIEVED STRING: %s&quot;, retrievedString.c_str());\r\n    //     LOGW(&quot;###########ROPO############&quot;);\r\n    // }\r\n\r\n    install(*rt);\r\n    tempInstall(*rt);\r\n\r\n    // env-&gt;GetJavaVM(&amp;java_vm);\r\n    java_object = env-&gt;NewGlobalRef(thiz);\r\n}\r\n```\r\n\r\nIn my app, I call the `testFn`, basically when it reaches the line that calls env-&gt;getMethodID, there is an error saying the method is not found and then the app promptly crashes.\r\n\r\n```\r\n04-10 04:04:11.707 22870 22916 F com.example: java_vm_ext.cc:579] JNI DETECTED ERROR IN APPLICATION: JNI NewObjectV called with pending exception java.lang.NoSuchMethodError: no non-static method &quot;Ljava/lang/Class;.getSeed()Ljava/lang/String;&quot;\r\n```\r\n\r\nAny idea what might be wrong?","title":"Android JNI, call getMethodID crashes app","body":"<p>I'm trying to use the JNI in an Android app. My code correctly compiles and the application launches, however when I want to call a Java method (from the calling class) in my C++ code, the app promptly crashes saying it cannot find the method.</p>\n<p>You will have to excuse the code, it is a bit messy because I've tried so many things, it is also mixed with React-Native stuff, but the JNI crash has nothing to do with it.</p>\n<p>The java module:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.jsirnwalletcore;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Keep;\nimport android.util.Log;\n\nimport android.content.Context;\nimport android.content.SharedPreferences;\nimport android.util.Base64;\n\nimport com.facebook.react.bridge.ReactApplicationContext;\nimport com.facebook.react.bridge.ReactContextBaseJavaModule;\nimport com.facebook.react.bridge.ReactMethod;\n\n@Keep\nclass WalletCoreModule extends ReactContextBaseJavaModule {\n  public static final String NAME = &quot;WalletCore&quot;;\n  private static native void initialize(long jsiPtr);\n  private SharedPreferences prefs;\n\n  public WalletCoreModule(ReactApplicationContext context) {\n    super(context);\n    \n    this.prefs = context.getSharedPreferences(&quot;WALLETCORE&quot;, Context.MODE_PRIVATE);\n  }\n\n  @NonNull\n  @Override\n  public String getName() {\n    return NAME;\n  }\n\n  public String getSeed() {\n    return &quot;HARDCODED SEED&quot;;\n  }\n\n  @ReactMethod(isBlockingSynchronousMethod = true)\n  public boolean install() {\n    try {\n      String seed = getSeed();\n      Log.w(NAME, &quot;ROPO CALLING GET SEED: &quot; + seed);\n\n      System.loadLibrary(&quot;jsi-rn-wallet-core&quot;);\n\n      ReactApplicationContext context = getReactApplicationContext();\n\n      initialize(context.getJavaScriptContextHolder().get());\n      return true;\n    } catch(Exception exception) {\n      return false;\n    }\n  }\n}\n</code></pre>\n<p>The cpp-adapter.cpp:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;jni.h&gt;\n#include &quot;installer.hpp&quot;\n#include &quot;logs.h&quot;\n#include &lt;string&gt;\n#include &quot;pthread.h&quot;\n#include &lt;sys/types.h&gt;\n#include &lt;jsi/jsi.h&gt;\n\nJavaVM *java_vm;\njclass java_class;\njobject java_object;\n\n/**\n * A simple callback function that allows us to detach current JNI Environment\n * when the thread\n * See https://stackoverflow.com/a/30026231 for detailed explanation\n */\n\nvoid DeferThreadDetach(JNIEnv *env)\n{\n    static pthread_key_t thread_key;\n\n    // Set up a Thread Specific Data key, and a callback that\n    // will be executed when a thread is destroyed.\n    // This is only done once, across all threads, and the value\n    // associated with the key for any given thread will initially\n    // be NULL.\n    static auto run_once = []\n    {\n        const auto err = pthread_key_create(&amp;thread_key, [](void *ts_env)\n                                            {\n            if (ts_env) {\n                java_vm-&gt;DetachCurrentThread();\n            } });\n        if (err)\n        {\n            // Failed to create TSD key. Throw an exception if you want to.\n        }\n        return 0;\n    }();\n\n    // For the callback to actually be executed when a thread exits\n    // we need to associate a non-NULL value with the key on that thread.\n    // We can use the JNIEnv* as that value.\n    const auto ts_env = pthread_getspecific(thread_key);\n    if (!ts_env)\n    {\n        if (pthread_setspecific(thread_key, env))\n        {\n            // Failed to set thread-specific value for key. Throw an exception if you want to.\n        }\n    }\n}\n\n/**\n * Get a JNIEnv* valid for this thread, regardless of whether\n * we're on a native thread or a Java thread.\n * If the calling thread is not currently attached to the JVM\n * it will be attached, and then automatically detached when the\n * thread is destroyed.\n *\n * See https://stackoverflow.com/a/30026231 for detailed explanation\n */\nJNIEnv *GetJniEnv()\n{\n    JNIEnv *env = nullptr;\n    // We still call GetEnv first to detect if the thread already\n    // is attached. This is done to avoid setting up a DetachCurrentThread\n    // call on a Java thread.\n\n    // g_vm is a global.\n    auto get_env_result = java_vm-&gt;GetEnv((void **)&amp;env, JNI_VERSION_1_6);\n    if (get_env_result == JNI_EDETACHED)\n    {\n        if (java_vm-&gt;AttachCurrentThread(&amp;env, NULL) == JNI_OK)\n        {\n            DeferThreadDetach(env);\n        }\n        else\n        {\n            // Failed to attach thread. Throw an exception if you want to.\n        }\n    }\n    else if (get_env_result == JNI_EVERSION)\n    {\n        // Unsupported JNI version. Throw an exception if you want to.\n    }\n    return env;\n}\n\nvoid tempInstall(jsi::Runtime &amp;rt)\n{\n    auto testFn = jsi::Function::createFromHostFunction(\n        rt,\n        jsi::PropNameID::forAscii(rt, &quot;testFn&quot;),\n        0,\n        [](jsi::Runtime &amp;rt, const jsi::Value &amp;thisValue, const jsi::Value *args, size_t count) -&gt; jsi::Value\n        {\n            JNIEnv *jniEnv = GetJniEnv();\n\n            java_class = jniEnv-&gt;GetObjectClass(java_object);\n            jmethodID get = jniEnv-&gt;GetMethodID(java_class, &quot;getSeed&quot;, &quot;()Ljava/lang/String;&quot;);\n            // jobject result = jniEnv-&gt;CallObjectMethod(java_object, get);\n            // const char *str = jniEnv-&gt;GetStringUTFChars((jstring)result, NULL);\n            // LOGW(&quot;ROPO GOT: %s&quot;, str);\n            return {};\n        });\n\n    rt.global().setProperty(rt, &quot;testFn&quot;, std::move(testFn));\n}\n\nextern &quot;C&quot; JNIEXPORT jint JNICALL JNI_OnLoad(JavaVM *jvm, void *reserved)\n{\n    java_vm = jvm;\n\n    LOGW(&quot;ROPO JNI_OnLoad CALLED&quot;);\n\n    return JNI_VERSION_1_6;\n}\n\nextern &quot;C&quot; JNIEXPORT void JNICALL\nJava_com_jsirnwalletcore_WalletCoreModule_initialize(JNIEnv *env, jobject thiz, jlong jsi)\n{\n    auto rt = reinterpret_cast&lt;jsi::Runtime *&gt;(jsi);\n    // jclass clazz = env-&gt;GetObjectClass(thiz);\n\n    // jmethodID getNameMID = env-&gt;GetMethodID(clazz, &quot;getName&quot;, &quot;()Ljava/lang/String;&quot;);\n    // jstring jClassName = (jstring)env-&gt;CallObjectMethod(thiz, getNameMID);\n    // std::string classString = jstringToString(env, jClassName);\n    // LOGW(&quot;###########ROPO############&quot;);\n    // LOGW(&quot;RETRIEVED STRING: %s&quot;, classString.c_str());\n    // LOGW(&quot;###########ROPO############&quot;);\n\n    // jmethodID retrieveMethodID = env-&gt;GetMethodID(clazz, &quot;getSeed&quot;, &quot;()Ljava/lang/String;&quot;);\n    // if (retrieveMethodID == NULL)\n    // {\n    //     LOGW(&quot;ROPO methodID not found!&quot;);\n    // }\n    // else\n    // {\n    //     jstring myString = (jstring)env-&gt;CallObjectMethod(thiz, retrieveMethodID);\n    //     std::string retrievedString = jstringToString(env, myString);\n    //     LOGW(&quot;###########ROPO############&quot;);\n    //     LOGW(&quot;RETRIEVED STRING: %s&quot;, retrievedString.c_str());\n    //     LOGW(&quot;###########ROPO############&quot;);\n    // }\n\n    install(*rt);\n    tempInstall(*rt);\n\n    // env-&gt;GetJavaVM(&amp;java_vm);\n    java_object = env-&gt;NewGlobalRef(thiz);\n}\n</code></pre>\n<p>In my app, I call the <code>testFn</code>, basically when it reaches the line that calls env-&gt;getMethodID, there is an error saying the method is not found and then the app promptly crashes.</p>\n<pre><code>04-10 04:04:11.707 22870 22916 F com.example: java_vm_ext.cc:579] JNI DETECTED ERROR IN APPLICATION: JNI NewObjectV called with pending exception java.lang.NoSuchMethodError: no non-static method &quot;Ljava/lang/Class;.getSeed()Ljava/lang/String;&quot;\n</code></pre>\n<p>Any idea what might be wrong?</p>\n"},{"tags":["java","comparable"],"comments":[{"owner":{"account_id":8650156,"reputation":280,"user_id":6476139,"accept_rate":100,"display_name":"Squareoot"},"score":0,"creation_date":1515837728,"post_id":48238773,"comment_id":83459841,"body_markdown":"Possible duplicate of [Alphabet constant in Java?](https://stackoverflow.com/questions/6205771/alphabet-constant-in-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/6205771/alphabet-constant-in-java\">Alphabet constant in Java?</a>"},{"owner":{"account_id":951889,"reputation":1417,"user_id":977855,"display_name":"vinS"},"score":0,"creation_date":1515837799,"post_id":48238773,"comment_id":83459857,"body_markdown":"Possible duplicate of [How to use the Comparable CompareTo on Strings in Java](https://stackoverflow.com/questions/3748805/how-to-use-the-comparable-compareto-on-strings-in-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/3748805/how-to-use-the-comparable-compareto-on-strings-in-java\">How to use the Comparable CompareTo on Strings in Java</a>"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":3,"creation_date":1515837842,"post_id":48238773,"comment_id":83459867,"body_markdown":"&quot;c comes after b&quot; =&gt; Well ... That means that `s1` is _greater_ than `s2`!","body":"&quot;c comes after b&quot; =&gt; Well ... That means that <code>s1</code> is <i>greater</i> than <code>s2</code>!"},{"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"score":0,"creation_date":1515838132,"post_id":48238773,"comment_id":83459938,"body_markdown":"Your statement is about equivalent to saying 23 &lt; 22 (which is obviously not true) because 3 comes after 2 (which is true). Is that just a lapse of judgement on your part or is there a specific reason why you believe one implies the other?","body":"Your statement is about equivalent to saying 23 &lt; 22 (which is obviously not true) because 3 comes after 2 (which is true). Is that just a lapse of judgement on your part or is there a specific reason why you believe one implies the other?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":3,"creation_date":1515838173,"post_id":48238773,"comment_id":83459946,"body_markdown":"&quot;So what did I understand wrong?&quot; basically this part: &quot;My understanding is that s1 &lt; s2 because c comes after b in the alphabet.&quot;","body":"&quot;So what did I understand wrong?&quot; basically this part: &quot;My understanding is that s1 &lt; s2 because c comes after b in the alphabet.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":12512623,"reputation":1,"user_id":9107136,"display_name":"Pfanta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515837913,"creation_date":1515837913,"answer_id":48238811,"question_id":48238773,"body_markdown":"c has a greater index in the ASCII table (cast char &#39;c&#39; and char &#39;b&#39; into integer)\nc has the constant 99 and b 98, so S1 is bigger than S2","title":"String compareTo understanding","body":"<p>c has a greater index in the ASCII table (cast char 'c' and char 'b' into integer)\nc has the constant 99 and b 98, so S1 is bigger than S2</p>\n"},{"tags":[],"owner":{"account_id":2690720,"reputation":5975,"user_id":2324133,"accept_rate":62,"display_name":"Robdll"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515838009,"creation_date":1515837913,"answer_id":48238812,"question_id":48238773,"body_markdown":"from the [doc][1]\r\n\r\n&gt; returned value:\r\n&gt; \r\n&gt; the value 0 if the argument string is equal to this string; a value\r\n&gt; less than 0 if this string is lexicographically less than the string\r\n&gt; argument; and a value greater than 0 if this string is\r\n&gt; lexicographically greater than the string argument.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#compareTo(java.lang.String)","title":"String compareTo understanding","body":"<p>from the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#compareTo(java.lang.String)\" rel=\"nofollow noreferrer\">doc</a></p>\n\n<blockquote>\n  <p>returned value:</p>\n  \n  <p>the value 0 if the argument string is equal to this string; a value\n  less than 0 if this string is lexicographically less than the string\n  argument; and a value greater than 0 if this string is\n  lexicographically greater than the string argument.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127164,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515838615,"creation_date":1515838047,"answer_id":48238832,"question_id":48238773,"body_markdown":"&gt; My understanding is that s1 &lt; s2 because c comes after b in the\r\n&gt; alphabet.\r\n\r\nIt works in the other way.&lt;br&gt;\r\nFor String objects, `compareTo()` works in this way :&lt;br&gt;\r\n\r\n&gt; Compares two strings lexicographically. The comparison is based on the\r\n&gt; Unicode value of each character in the strings. The character sequence\r\n&gt; represented by this String object is compared lexicographically to the\r\n&gt; character sequence represented by the argument string. **The result is a\r\n&gt; negative integer if this String object lexicographically precedes the\r\n&gt; argument string.** **The result is a positive integer if this String\r\n&gt; object lexicographically follows the argument string**. The result is\r\n&gt; zero if the strings are equal;\r\n\r\n\r\n[Lexicographically][1] or more simply for a case with only alphabetic characters, in a dictionary a `&quot;bc&quot;` word would follow a `&quot;bb&quot;` word. &lt;br&gt;\r\nSo `&quot;bc&quot;.compareTo(&quot;bb&quot;)` returns a positive value according to the specification.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Lexicographical_order","title":"String compareTo understanding","body":"<blockquote>\n  <p>My understanding is that s1 &lt; s2 because c comes after b in the\n  alphabet.</p>\n</blockquote>\n\n<p>It works in the other way.<br>\nFor String objects, <code>compareTo()</code> works in this way :<br></p>\n\n<blockquote>\n  <p>Compares two strings lexicographically. The comparison is based on the\n  Unicode value of each character in the strings. The character sequence\n  represented by this String object is compared lexicographically to the\n  character sequence represented by the argument string. <strong>The result is a\n  negative integer if this String object lexicographically precedes the\n  argument string.</strong> <strong>The result is a positive integer if this String\n  object lexicographically follows the argument string</strong>. The result is\n  zero if the strings are equal;</p>\n</blockquote>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Lexicographical_order\" rel=\"nofollow noreferrer\">Lexicographically</a> or more simply for a case with only alphabetic characters, in a dictionary a <code>\"bc\"</code> word would follow a <code>\"bb\"</code> word. <br>\nSo <code>\"bc\".compareTo(\"bb\")</code> returns a positive value according to the specification.</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1515838138,"creation_date":1515838138,"answer_id":48238844,"question_id":48238773,"body_markdown":"You seem to have misunderstood what is meant by &quot;lexicographic order&quot;.\r\n\r\nSince `c` comes after `b`, `s1` is considered bigger than `s2`!\r\n\r\nThink of letters as numbers. `a` is 1, `b` is 2, `c` is 3, and so on. `2` comes after `1`, so `2` is bigger than `1`. \r\n\r\nSo comparing `bb` and `bc` is just like comparing `22` and `23`. Obviously, `23` is bigger.","title":"String compareTo understanding","body":"<p>You seem to have misunderstood what is meant by \"lexicographic order\".</p>\n\n<p>Since <code>c</code> comes after <code>b</code>, <code>s1</code> is considered bigger than <code>s2</code>!</p>\n\n<p>Think of letters as numbers. <code>a</code> is 1, <code>b</code> is 2, <code>c</code> is 3, and so on. <code>2</code> comes after <code>1</code>, so <code>2</code> is bigger than <code>1</code>. </p>\n\n<p>So comparing <code>bb</code> and <code>bc</code> is just like comparing <code>22</code> and <code>23</code>. Obviously, <code>23</code> is bigger.</p>\n"},{"tags":[],"owner":{"account_id":2200616,"reputation":222,"user_id":1945111,"accept_rate":56,"display_name":"Nishant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515839025,"creation_date":1515839025,"answer_id":48238950,"question_id":48238773,"body_markdown":"Have a look at java doc of String&#39;s `compareTo` method [here][1]\n\nIt says \n\n&gt; The comparison is based on the Unicode value of each character in the strings. The character sequence represented by thisString&#160;object is compared lexicographically to the character sequence represented by the argument string.&#160;\n\nWhich is evaluated as follows\n`this.charAt(k)-anotherString.charAt(k) `\n\nSince Unicode value of character c is higher than that of character b result is 1. Which is what you are seeing. \n\nHave a look at [Unicode list][2]\n\nHope this helps\n\n\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#compareTo-java.lang.String-\n  [2]: https://unicode-table.com/en/","title":"String compareTo understanding","body":"<p>Have a look at java doc of String's <code>compareTo</code> method <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#compareTo-java.lang.String-\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>It says </p>\n\n<blockquote>\n  <p>The comparison is based on the Unicode value of each character in the strings. The character sequence represented by thisString object is compared lexicographically to the character sequence represented by the argument string. </p>\n</blockquote>\n\n<p>Which is evaluated as follows\n<code>this.charAt(k)-anotherString.charAt(k)</code></p>\n\n<p>Since Unicode value of character c is higher than that of character b result is 1. Which is what you are seeing. </p>\n\n<p>Have a look at <a href=\"https://unicode-table.com/en/\" rel=\"nofollow noreferrer\">Unicode list</a></p>\n\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":4984101,"reputation":31,"user_id":4008235,"display_name":"John Kyalo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649613553,"creation_date":1649613553,"answer_id":71819222,"question_id":48238773,"body_markdown":"Assuming below is the below program as per your code snippet:\r\n````\r\npackage devsought;\r\n\r\npublic class JavaStringCompareTo {\r\n\r\n    public static void main(String... args) {\r\n        String s1=&quot;bc&quot;;\r\n        String s2=&quot;bb&quot;;\r\n        System.out.println(s1.compareTo(s2));\r\n    }\r\n}\r\n\r\n````\r\nThe output is 1\r\n\r\nExplanation:\r\n\r\n| b (index 0)| c (index 1)| \r\n|:- |:-:|\r\n| b (index 0)| b (index 1)| \r\n\r\nAt index 1(second position),we have two characters ‘c’(unicode value \\u0063,Decimal value 99) and ‘b’(unicode value \\u0062 ,Decimal value 98).The difference 99-98=1 is returned and printed on the console. Check out for more [examples on java String compareTo method][1]\r\n\r\n\r\n  [1]: https://devsought.com/java-string-compare-to","title":"String compareTo understanding","body":"<p>Assuming below is the below program as per your code snippet:</p>\n<pre><code>package devsought;\n\npublic class JavaStringCompareTo {\n\n    public static void main(String... args) {\n        String s1=&quot;bc&quot;;\n        String s2=&quot;bb&quot;;\n        System.out.println(s1.compareTo(s2));\n    }\n}\n\n</code></pre>\n<p>The output is 1</p>\n<p>Explanation:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">b (index 0)</th>\n<th style=\"text-align: center;\">c (index 1)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">b (index 0)</td>\n<td style=\"text-align: center;\">b (index 1)</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>At index 1(second position),we have two characters ‘c’(unicode value \\u0063,Decimal value 99) and ‘b’(unicode value \\u0062 ,Decimal value 98).The difference 99-98=1 is returned and printed on the console. Check out for more <a href=\"https://devsought.com/java-string-compare-to\" rel=\"nofollow noreferrer\">examples on java String compareTo method</a></p>\n"}],"owner":{"account_id":12414006,"reputation":27,"user_id":9044624,"display_name":"JcodingW"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1385,"favorite_count":0,"down_vote_count":5,"up_vote_count":3,"answer_count":6,"score":-2,"last_activity_date":1649613553,"creation_date":1515837595,"question_id":48238773,"body_markdown":"I have a quick question about comparing two Strings. these are my Strings:\r\n\r\n    String s1 = &quot;bc&quot;;\r\n    String s2 = &quot;bb&quot;;\r\n\r\nMy understanding is that s1 &lt; s2 because c comes after b in the alphabet. So\r\n`s1.compareTo(s2)` should return -1. How ever if I test this with `System.out.println(s1.compareTo(s2));` it return 1. So what did I understand wrong?","title":"String compareTo understanding","body":"<p>I have a quick question about comparing two Strings. these are my Strings:</p>\n\n<pre><code>String s1 = \"bc\";\nString s2 = \"bb\";\n</code></pre>\n\n<p>My understanding is that s1 &lt; s2 because c comes after b in the alphabet. So\n<code>s1.compareTo(s2)</code> should return -1. How ever if I test this with <code>System.out.println(s1.compareTo(s2));</code> it return 1. So what did I understand wrong?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649613415,"creation_date":1649613415,"answer_id":71819207,"question_id":71818921,"body_markdown":"AFIU you want this:\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    class CustomClass {\r\n        public String field1;\r\n        public String field2;\r\n        public String field3;\r\n        public CustomClass2 parentfield;\r\n\r\n    }\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    class CustomClass2 {\r\n        public String field1;\r\n        public String field2;\r\n    }\r\n\r\nThen depends on your code, to set the values of the fields in an object of CustomClass2 with fields from an object of CustomClass.","title":"Convert list of jsonNode objects to another class, but add a new parent field","body":"<p>AFIU you want this:</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\nclass CustomClass {\n    public String field1;\n    public String field2;\n    public String field3;\n    public CustomClass2 parentfield;\n\n}\n\n@JsonIgnoreProperties(ignoreUnknown = true)\nclass CustomClass2 {\n    public String field1;\n    public String field2;\n}\n</code></pre>\n<p>Then depends on your code, to set the values of the fields in an object of CustomClass2 with fields from an object of CustomClass.</p>\n"}],"owner":{"account_id":11227177,"reputation":47,"user_id":8236476,"display_name":"baggy696"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649613415,"creation_date":1649611139,"question_id":71818921,"body_markdown":"I am very new to java and I hope my question is not too stupid and has enough info for you guys to help me out. \r\nI have a list of jsonNodes, each of them is in the following format:\r\n\r\n    {&quot;field1&quot;:value1, &quot;field2&quot;:value2, &quot;field3&quot;:value3, &quot;notneeded1&quot;:value4, &quot;notneeded2&quot;:value5}\r\nI am currently using a class like the following and converting it to list&lt;customClass&gt;\r\n\r\n   \r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    class customClass:\r\n        String field1;\r\n        String field2;\r\n        String field3;\r\n    Using TypeReference to convert the list of jsonNode to list of this class...\r\nWhat I want to do is add a few of these fields within an another field\r\n\r\n    {&quot;parentfield&quot;:{&quot;field1&quot;:value1, &quot;field2&quot;:value2}, &quot;field3&quot;:value3}\r\nHow do I do this using this class?\r\n\r\n    ","title":"Convert list of jsonNode objects to another class, but add a new parent field","body":"<p>I am very new to java and I hope my question is not too stupid and has enough info for you guys to help me out.\nI have a list of jsonNodes, each of them is in the following format:</p>\n<pre><code>{&quot;field1&quot;:value1, &quot;field2&quot;:value2, &quot;field3&quot;:value3, &quot;notneeded1&quot;:value4, &quot;notneeded2&quot;:value5}\n</code></pre>\n<p>I am currently using a class like the following and converting it to list</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\nclass customClass:\n    String field1;\n    String field2;\n    String field3;\nUsing TypeReference to convert the list of jsonNode to list of this class...\n</code></pre>\n<p>What I want to do is add a few of these fields within an another field</p>\n<pre><code>{&quot;parentfield&quot;:{&quot;field1&quot;:value1, &quot;field2&quot;:value2}, &quot;field3&quot;:value3}\n</code></pre>\n<p>How do I do this using this class?</p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":10833670,"reputation":549,"user_id":7967235,"display_name":"Avital"},"score":0,"creation_date":1649662518,"post_id":71818042,"comment_id":126923511,"body_markdown":"what do you mean &quot;doesn&#39;t do anything&quot;? do you get the data correctly from firebase? explain your problem","body":"what do you mean &quot;doesn&#39;t do anything&quot;? do you get the data correctly from firebase? explain your problem"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1649666128,"post_id":71818042,"comment_id":126924760,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors? Besides that, please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors? Besides that, please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":24891712,"reputation":1,"user_id":18763575,"display_name":"Imran Khan"},"score":0,"creation_date":1649671591,"post_id":71818042,"comment_id":126926859,"body_markdown":"Thanks. Now it is working as i missed one child from the Json tree","body":"Thanks. Now it is working as i missed one child from the Json tree"}],"owner":{"account_id":24891712,"reputation":1,"user_id":18763575,"display_name":"Imran Khan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649613108,"creation_date":1649604606,"question_id":71818042,"body_markdown":"I am trying to get Data and comparing it to the input data but it doesn&#39;t do anything. Pls Help me!`btn_login.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference().child(&quot;Routes&quot;).child(&quot;route1&quot;).child(&quot;Students&quot;).child(&quot;driver&quot;); \r\n\r\n                databaseReference.addValueEventListener(new ValueEventListener() { \r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                        String phoneNumber = et_phone.getText().toString();\r\n                        String password = et_password.getText().toString();\r\n                        \r\n                        String phone = dataSnapshot.child(&quot;Phone_No&quot;).getValue().toString();\r\n                        String pass = dataSnapshot.child(&quot;Password&quot;).getValue().toString();\r\n                       \r\n                        if(phone.equals(phoneNumber)){\r\n                            if(pass.equals(password)){\r\n                               \r\n                                startActivity(new Intent(Authentication.this, Home.class));\r\n\r\n                            }else{\r\n                                Toast.makeText(Authentication.this, &quot;Worng Password!!!&quot;, Toast.LENGTH_LONG).show();\r\n                            }\r\n                        }else{\r\n                            Toast.makeText(Authentication.this, &quot;Invalid PhoneNumber![enter image description here][1]&quot;, Toast.LENGTH_LONG).show();\r\n\r\n                        }*/\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                    }\r\n                });`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fe8A3.png","title":"Unable to retrieve and compare data from firebase in android studio","body":"<p>I am trying to get Data and comparing it to the input data but it doesn't do anything. Pls Help me!`btn_login.setOnClickListener(new View.OnClickListener() {\n@Override\npublic void onClick(View view) {\nDatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference().child(&quot;Routes&quot;).child(&quot;route1&quot;).child(&quot;Students&quot;).child(&quot;driver&quot;);</p>\n<pre><code>            databaseReference.addValueEventListener(new ValueEventListener() { \n                @Override\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                    String phoneNumber = et_phone.getText().toString();\n                    String password = et_password.getText().toString();\n                    \n                    String phone = dataSnapshot.child(&quot;Phone_No&quot;).getValue().toString();\n                    String pass = dataSnapshot.child(&quot;Password&quot;).getValue().toString();\n                   \n                    if(phone.equals(phoneNumber)){\n                        if(pass.equals(password)){\n                           \n                            startActivity(new Intent(Authentication.this, Home.class));\n\n                        }else{\n                            Toast.makeText(Authentication.this, &quot;Worng Password!!!&quot;, Toast.LENGTH_LONG).show();\n                        }\n                    }else{\n                        Toast.makeText(Authentication.this, &quot;Invalid PhoneNumber![enter image description here][1]&quot;, Toast.LENGTH_LONG).show();\n\n                    }*/\n                }\n\n                @Override\n                public void onCancelled(@NonNull DatabaseError error) {\n\n                }\n            });`\n</code></pre>\n"},{"tags":["java","arrays","swing"],"comments":[{"owner":{"account_id":2880367,"reputation":6588,"user_id":2471439,"display_name":"kiheru"},"score":3,"creation_date":1393259885,"post_id":21993512,"comment_id":33331664,"body_markdown":"Take a look at the loops. You have `i++` in both.","body":"Take a look at the loops. You have <code>i++</code> in both."},{"owner":{"account_id":2808454,"reputation":14373,"user_id":2415194,"accept_rate":87,"display_name":"nachokk"},"score":0,"creation_date":1393259908,"post_id":21993512,"comment_id":33331683,"body_markdown":"if you want to the component to have a name, use `setName`.. `setText` is the text show in the button","body":"if you want to the component to have a name, use <code>setName</code>.. <code>setText</code> is the text show in the button"},{"owner":{"account_id":429840,"reputation":1887,"user_id":812948,"accept_rate":89,"display_name":"turbo"},"score":2,"creation_date":1393260026,"post_id":21993512,"comment_id":33331757,"body_markdown":"Also keep in mind a 3x3 2D array is not large enough to hold 12 buttons.","body":"Also keep in mind a 3x3 2D array is not large enough to hold 12 buttons."},{"owner":{"account_id":355150,"reputation":19342,"user_id":693927,"display_name":"Pimp Trizkit"},"score":0,"creation_date":1393260256,"post_id":21993512,"comment_id":33331913,"body_markdown":"Am I the only one thinking that 3x3 would be 9 buttons? and not 12. And much less, not 12x12 as the second example suggests. Either way, its better coding to say `j &lt; buttons[i].length` (and im not going to mention caching that... oops i just did)","body":"Am I the only one thinking that 3x3 would be 9 buttons? and not 12. And much less, not 12x12 as the second example suggests. Either way, its better coding to say <code>j &lt; buttons[i].length</code> (and im not going to mention caching that... oops i just did)"},{"owner":{"account_id":3988805,"reputation":509,"user_id":3288493,"accept_rate":96,"display_name":"Seeker"},"score":0,"creation_date":1393260354,"post_id":21993512,"comment_id":33331973,"body_markdown":"ye, sorry about that 3 by 3 only holds 9 buttons thanks.","body":"ye, sorry about that 3 by 3 only holds 9 buttons thanks."},{"owner":{"account_id":355150,"reputation":19342,"user_id":693927,"display_name":"Pimp Trizkit"},"score":0,"creation_date":1393260540,"post_id":21993512,"comment_id":33332116,"body_markdown":"ya, you need to declare something like `JButton[] buttons = new JButton[3][3]`","body":"ya, you need to declare something like <code>JButton[] buttons = new JButton[3][3]</code>"},{"owner":{"account_id":3988805,"reputation":509,"user_id":3288493,"accept_rate":96,"display_name":"Seeker"},"score":0,"creation_date":1393260604,"post_id":21993512,"comment_id":33332166,"body_markdown":"@PimpTrizkit, hi ye, I have changed that.","body":"@PimpTrizkit, hi ye, I have changed that."},{"owner":{"account_id":3988805,"reputation":509,"user_id":3288493,"accept_rate":96,"display_name":"Seeker"},"score":0,"creation_date":1393260659,"post_id":21993512,"comment_id":33332219,"body_markdown":"@nachokk, hi so if I use setName, would I be able to refer to buttons with the name I give them or would I need to call them from the array like; buttons[0].","body":"@nachokk, hi so if I use setName, would I be able to refer to buttons with the name I give them or would I need to call them from the array like; buttons[0]."},{"owner":{"account_id":429840,"reputation":1887,"user_id":812948,"accept_rate":89,"display_name":"turbo"},"score":1,"creation_date":1393261034,"post_id":21993512,"comment_id":33332504,"body_markdown":"If you use setName you can use getName to get a buttons name. You would still have to refer to them from the array.  Or, you could declare a button as `JButton button0 = new Button()` then add it to your array as `buttons[0]=button0`.  Then you have a separate reference that you could use, but you would need to declare them all separately.","body":"If you use setName you can use getName to get a buttons name. You would still have to refer to them from the array.  Or, you could declare a button as <code>JButton button0 = new Button()</code> then add it to your array as <code>buttons[0]=button0</code>.  Then you have a separate reference that you could use, but you would need to declare them all separately."},{"owner":{"account_id":2808454,"reputation":14373,"user_id":2415194,"accept_rate":87,"display_name":"nachokk"},"score":1,"creation_date":1393261044,"post_id":21993512,"comment_id":33332511,"body_markdown":"If you use an array not.. but you can distinct a button from each other, example you have `buttons[0][0].getName().equals(&quot;button1&quot;)`  then you know what button is, if you don&#39;t want to do this you still can store your buttons instead of array in a `Map&lt;String,JButton&gt;`","body":"If you use an array not.. but you can distinct a button from each other, example you have <code>buttons[0][0].getName().equals(&quot;button1&quot;)</code>  then you know what button is, if you don&#39;t want to do this you still can store your buttons instead of array in a <code>Map&lt;String,JButton&gt;</code>"},{"owner":{"account_id":2808454,"reputation":14373,"user_id":2415194,"accept_rate":87,"display_name":"nachokk"},"score":0,"creation_date":1393261076,"post_id":21993512,"comment_id":33332536,"body_markdown":"@PimpTrizkit should be `JButton[][] buttons = ..`","body":"@PimpTrizkit should be <code>JButton[][] buttons = ..</code>"},{"owner":{"account_id":355150,"reputation":19342,"user_id":693927,"display_name":"Pimp Trizkit"},"score":0,"creation_date":1393261449,"post_id":21993512,"comment_id":33332830,"body_markdown":"@nachokk -- ooops, typeo, thanks!","body":"@nachokk -- ooops, typeo, thanks!"}],"answers":[{"tags":[],"owner":{"account_id":2983138,"reputation":1479,"user_id":2532674,"accept_rate":67,"display_name":"Embattled Swag"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1393260238,"creation_date":1393259902,"answer_id":21993561,"question_id":21993512,"body_markdown":"Your second `for` loop has `for (int j = 0; j &lt; buttons.length; i++)`...it should be `j++`, not `i++`.\r\n\r\nAlso, like turbo pointed out, a 3x3 grid isn&#39;t large enough to hold 12 buttons (I&#39;m assuming you mean 4x3 or 3x4?). Also, instead of comparing both `i` and `j` to buttons.length, you should probably have two separate variables to compare each against (buttonsWidth, buttonsLength; buttonsX, buttonsY, etc.).","title":"making 3 by 3, 2d array in java","body":"<p>Your second <code>for</code> loop has <code>for (int j = 0; j &lt; buttons.length; i++)</code>...it should be <code>j++</code>, not <code>i++</code>.</p>\n\n<p>Also, like turbo pointed out, a 3x3 grid isn't large enough to hold 12 buttons (I'm assuming you mean 4x3 or 3x4?). Also, instead of comparing both <code>i</code> and <code>j</code> to buttons.length, you should probably have two separate variables to compare each against (buttonsWidth, buttonsLength; buttonsX, buttonsY, etc.).</p>\n"},{"tags":[],"owner":{"account_id":1760367,"reputation":4807,"user_id":1607660,"accept_rate":70,"display_name":"FazoM"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1393261461,"creation_date":1393259920,"answer_id":21993570,"question_id":21993512,"body_markdown":"You have a bug here:\r\n\r\n    for (int j = 0; j &lt; buttons.length; i++){\r\n\r\nshould be:\r\n\r\n    for (int j = 0; j &lt; buttons.length; j++){\r\n\r\nFor your other questions:\r\n\r\nYes, you need to invoke `button[...].setText(&quot;...&quot;);` for each button to assign it&#39;s name.  (you can incorporate your loop indexes to automate this).\r\n\r\n&gt; and also would it be possible to give each button a name, for example instead of button[0], would it be possible to have button1, and so on.\r\n\r\nThat&#39;s why you created an array to avoid dealing with multiple object button1, button2, etc. This is because now you can process them in a loop.\r\n\r\n**EDIT:**\r\nalso there is a problem with your array init:\r\n&gt;JButton[] buttons = new JButton[12];\r\n\r\nThis creates a 1-dimension array. What you want is something like:\r\n\r\n&gt; JButton[][] buttons = new JButton[3][3]; //[3][4] ?\r\n\r\n**EDIT2:**\r\n\r\n    int number = 0;\r\n    for (int i = 0; i &lt; buttons.length; i++){\r\n        for (int j = 0; j &lt; buttons[0].length; j++){  //watch here for additional index [0] in length (it is size of &quot;second dimension&quot;)\r\n            buttons[i][j] = new JButton();\r\n            frame.add(buttons[i][j]);\r\n            buttons[i][j].setText(&quot;Button&quot; + number);\r\n            number++; //in separate line for clarity\r\n        }\r\n    }\r\n","title":"making 3 by 3, 2d array in java","body":"<p>You have a bug here:</p>\n\n<pre><code>for (int j = 0; j &lt; buttons.length; i++){\n</code></pre>\n\n<p>should be:</p>\n\n<pre><code>for (int j = 0; j &lt; buttons.length; j++){\n</code></pre>\n\n<p>For your other questions:</p>\n\n<p>Yes, you need to invoke <code>button[...].setText(\"...\");</code> for each button to assign it's name.  (you can incorporate your loop indexes to automate this).</p>\n\n<blockquote>\n  <p>and also would it be possible to give each button a name, for example instead of button[0], would it be possible to have button1, and so on.</p>\n</blockquote>\n\n<p>That's why you created an array to avoid dealing with multiple object button1, button2, etc. This is because now you can process them in a loop.</p>\n\n<p><strong>EDIT:</strong>\nalso there is a problem with your array init:</p>\n\n<blockquote>\n  <p>JButton[] buttons = new JButton[12];</p>\n</blockquote>\n\n<p>This creates a 1-dimension array. What you want is something like:</p>\n\n<blockquote>\n  <p>JButton[][] buttons = new JButton[3][3]; //[3][4] ?</p>\n</blockquote>\n\n<p><strong>EDIT2:</strong></p>\n\n<pre><code>int number = 0;\nfor (int i = 0; i &lt; buttons.length; i++){\n    for (int j = 0; j &lt; buttons[0].length; j++){  //watch here for additional index [0] in length (it is size of \"second dimension\")\n        buttons[i][j] = new JButton();\n        frame.add(buttons[i][j]);\n        buttons[i][j].setText(\"Button\" + number);\n        number++; //in separate line for clarity\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3988805,"reputation":509,"user_id":3288493,"accept_rate":96,"display_name":"Seeker"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2255,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":21993570,"answer_count":2,"score":1,"last_activity_date":1649613036,"creation_date":1393259760,"question_id":21993512,"body_markdown":"Hi I was just working with arrays and I had few problems with creating a 2D array in a 3 by 3 grid.\r\n\r\nBelow is an example of 1D arrray that I created with 9 buttons which is working fine atm, as it displays all 9 of the buttons.\r\n\r\n\t\tframe.setLayout(new GridLayout(3,3));\r\n\t\tJButton[] buttons = new JButton[9];\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; buttons.length; i++){\r\n\t\t\tbuttons[i] = new JButton();\r\n\t\t\tframe.add(buttons[i]);\r\n\t\t\tbuttons[i].setText(&quot;.&quot;);\r\n\r\nHowever, when I try doing this with 2D array only 6 out of 12 buttons show up. \t\r\n\r\n\t\tframe.setLayout(new GridLayout(3,3));\r\n                JButton[][] buttons = new JButton[3][3];\r\n\t\tfor (int i = 0; i &lt; buttons.length; i++){\r\n\t\t\tfor (int j = 0; j &lt; buttons.length; j++){\r\n\t\t\tbuttons[i][j] = new JButton();\r\n\t\t\tframe.add(buttons[i][j]);\r\n\t\t\tbuttons[i][j].setText(&quot;.&quot;);\r\n\r\n\t\t\t}\r\n\t\t}\r\nAlso, I have one more question, to call each individual button do I need to do it like this?\r\n\r\n    button[0].setText(&quot;button 1&quot;);\r\nand also would it be possible to give each button a name, for example instead of button[0], would it be possible to have button1, and so on.\r\n\r\nThanks.","title":"making 3 by 3, 2d array in java","body":"<p>Hi I was just working with arrays and I had few problems with creating a 2D array in a 3 by 3 grid.</p>\n\n<p>Below is an example of 1D arrray that I created with 9 buttons which is working fine atm, as it displays all 9 of the buttons.</p>\n\n<pre><code>    frame.setLayout(new GridLayout(3,3));\n    JButton[] buttons = new JButton[9];\n\n    for (int i = 0; i &lt; buttons.length; i++){\n        buttons[i] = new JButton();\n        frame.add(buttons[i]);\n        buttons[i].setText(\".\");\n</code></pre>\n\n<p>However, when I try doing this with 2D array only 6 out of 12 buttons show up.  </p>\n\n<pre><code>    frame.setLayout(new GridLayout(3,3));\n            JButton[][] buttons = new JButton[3][3];\n    for (int i = 0; i &lt; buttons.length; i++){\n        for (int j = 0; j &lt; buttons.length; j++){\n        buttons[i][j] = new JButton();\n        frame.add(buttons[i][j]);\n        buttons[i][j].setText(\".\");\n\n        }\n    }\n</code></pre>\n\n<p>Also, I have one more question, to call each individual button do I need to do it like this?</p>\n\n<pre><code>button[0].setText(\"button 1\");\n</code></pre>\n\n<p>and also would it be possible to give each button a name, for example instead of button[0], would it be possible to have button1, and so on.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","android","animation","user-interface"],"comments":[{"owner":{"account_id":4871624,"reputation":2942,"user_id":3927911,"accept_rate":57,"display_name":"Max Worg"},"score":0,"creation_date":1422395176,"post_id":28180592,"comment_id":44730296,"body_markdown":"Please post your `NullPointerException` traceback so we can better assist you.","body":"Please post your <code>NullPointerException</code> traceback so we can better assist you."},{"owner":{"display_name":"user1460340"},"score":0,"creation_date":1422402157,"post_id":28180592,"comment_id":44733477,"body_markdown":"didn&#39;t find any **NullPointerException** .... but there are **Choreographing Errors** which are pretty famous with animations...","body":"didn&#39;t find any <b>NullPointerException</b> .... but there are <b>Choreographing Errors</b> which are pretty famous with animations..."}],"answers":[{"tags":[],"owner":{"account_id":4871624,"reputation":2942,"user_id":3927911,"accept_rate":57,"display_name":"Max Worg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1422396042,"creation_date":1422396042,"answer_id":28180866,"question_id":28180592,"body_markdown":"It&#39;s likely that you will have issues removing the view in this way since you should only be attempting to touch any of your views from the UI thread (to avoid other threads trying to change your UI elements at the same time which will just cause problems).  For this reason Android provides a method called [runOnUiThread()][1] that will instruct your code to perform an action in the correct thread.\r\n\r\nSomething like this should get you pointed in the right direction.  Place this in your `onAnimationEnd` method.\r\n\r\n\r\n    //get the parentView...\r\n    parentView.post(new Runnable() {\r\n        public void run () {\r\n            // it works without the runOnUiThread, but all UI updates must \r\n            // be done on the UI thread\r\n            activity.runOnUiThread(new Runnable() {\r\n                public void run() {\r\n                    parentView.removeView(view);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/app/Activity.html#runOnUiThread(java.lang.Runnable)","title":"Android - remove View when its animation finished","body":"<p>It's likely that you will have issues removing the view in this way since you should only be attempting to touch any of your views from the UI thread (to avoid other threads trying to change your UI elements at the same time which will just cause problems).  For this reason Android provides a method called <a href=\"http://developer.android.com/reference/android/app/Activity.html#runOnUiThread(java.lang.Runnable)\" rel=\"nofollow\">runOnUiThread()</a> that will instruct your code to perform an action in the correct thread.</p>\n\n<p>Something like this should get you pointed in the right direction.  Place this in your <code>onAnimationEnd</code> method.</p>\n\n<pre><code>//get the parentView...\nparentView.post(new Runnable() {\n    public void run () {\n        // it works without the runOnUiThread, but all UI updates must \n        // be done on the UI thread\n        activity.runOnUiThread(new Runnable() {\n            public void run() {\n                parentView.removeView(view);\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1634981,"reputation":7135,"user_id":1508724,"accept_rate":68,"display_name":"T D Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422400023,"creation_date":1422400023,"answer_id":28181717,"question_id":28180592,"body_markdown":"Try this:\r\n\r\n 1. Make sure `bgFl` is not null\r\n 2. You can try: `temp.setVisibility(View.GONE)` instead of remove\r\n\r\nOr\r\n\r\n 3. Use handler to remove view safely in UI thread.\r\n\r\n    ","title":"Android - remove View when its animation finished","body":"<p>Try this:</p>\n\n<ol>\n<li>Make sure <code>bgFl</code> is not null</li>\n<li>You can try: <code>temp.setVisibility(View.GONE)</code> instead of remove</li>\n</ol>\n\n<p>Or</p>\n\n<ol start=\"3\">\n<li>Use handler to remove view safely in UI thread.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16967123,"reputation":3285,"user_id":12272687,"display_name":"Mori"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649612153,"creation_date":1649612153,"answer_id":71819056,"question_id":28180592,"body_markdown":"If you **remove** by that way  `bgFl.removeView(temp);`, the function cannot continue that&#39;s why you see that error. If you want to disappear a view, use `View.GONE`\r\n\r\nin **Kotlin** like this:\r\n\r\n    animation.doOnEnd {\r\n    binding.mainLayout.visibility = View.GONE}","title":"Android - remove View when its animation finished","body":"<p>If you <strong>remove</strong> by that way  <code>bgFl.removeView(temp);</code>, the function cannot continue that's why you see that error. If you want to disappear a view, use <code>View.GONE</code></p>\n<p>in <strong>Kotlin</strong> like this:</p>\n<pre><code>animation.doOnEnd {\nbinding.mainLayout.visibility = View.GONE}\n</code></pre>\n"}],"owner":{"display_name":"user3742480"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4029,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":28180866,"answer_count":3,"score":2,"last_activity_date":1649612153,"creation_date":1422394975,"question_id":28180592,"body_markdown":"Hey I have a method which adds a `TextView` to my `FrameLayout` and starts the Animation. The method should be able to be called more often (for multiple Animations).  That is working fine since I can run multiple Animations at one time, but i want to remove the animated view when its animation has finished.\r\n\r\n    public void showMoneyAnimation(int amoutAddedOrRemoved){\r\n        //Adding Money\r\n            float textSize = Math.round((global.getDisplaySize().y / scaleValue) * 34.0);\r\n            final TextView temp = new TextView(context);\r\n            temp.setTextAlignment(View.TEXT_ALIGNMENT_TEXT_END);\r\n            temp.setText(&quot;+ &quot; + amoutAddedOrRemoved + &quot;$&quot;);\r\n            temp.setTextAppearance(context, R.style.tsMoney1);\r\n            temp.setTypeface(global.getFont(&quot;Grobold&quot;));\r\n            temp.setTextSize(TypedValue.COMPLEX_UNIT_PX, textSize);\r\n\r\n            sb_money.measure(0, 0);\r\n            temp.measure(0,0);\r\n            int xtemp = ((int) sb_money.getX() + sb_money.getMeasuredWidth()) - temp.getMeasuredWidth();\r\n            temp.setX(xtemp);\r\n            temp.setY(0);\r\n\r\n            //Adding My Text to my FrameLayout\r\n            bgFl.addView(temp);\r\n\r\n            Animation atemp = AnimationUtils.loadAnimation(context, R.anim.addanim);\r\n            temp.startAnimation(atemp);\r\n            atemp.setAnimationListener(new Animation.AnimationListener() {\r\n                @Override\r\n                public void onAnimationStart(Animation animation) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onAnimationEnd(Animation animation) {\r\n                    // This is the problem&#39;s origin!\r\n                    bgFl.removeView(temp);\r\n                }\r\n\r\n                @Override\r\n                public void onAnimationRepeat(Animation animation) {\r\n\r\n                }\r\n            });\r\n        }\r\n\r\nBut I&#39;m getting a `NullPointerException`, maybe because the views have the same name?\r\nHow can I work around that problem?  Please help :)\r\n\r\n\r\n\r\nHere the Exception:\r\n\r\n    01-27 22:52:25.633  25975-25975/de.cookedapps.needforweed E/AndroidRuntime﹕ FATAL EXCEPTION: main\r\n    Process: de.cookedapps.needforweed, PID: 25975\r\n    java.lang.NullPointerException\r\n            at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3146)\r\n            at android.view.View.getDisplayList(View.java:14283)\r\n            at android.view.View.getDisplayList(View.java:14330)\r\n            at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3284)\r\n            at android.view.View.getDisplayList(View.java:14225)\r\n            at android.view.View.getDisplayList(View.java:14330)\r\n            at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3284)\r\n            at android.view.View.getDisplayList(View.java:14225)\r\n            at android.view.View.getDisplayList(View.java:14330)\r\n            at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3284)\r\n            at android.view.View.getDisplayList(View.java:14225)\r\n            at android.view.View.getDisplayList(View.java:14330)\r\n            at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3284)\r\n            at android.view.View.getDisplayList(View.java:14225)\r\n            at android.view.View.getDisplayList(View.java:14330)\r\n            at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3284)\r\n            at android.view.View.getDisplayList(View.java:14225)\r\n            at android.view.View.getDisplayList(View.java:14330)\r\n            at android.view.HardwareRenderer$GlRenderer.buildDisplayList(HardwareRenderer.java:1588)\r\n            at android.view.HardwareRenderer$GlRenderer.draw(HardwareRenderer.java:1467)\r\n            at android.view.ViewRootImpl.draw(ViewRootImpl.java:2754)\r\n            at android.view.ViewRootImpl.performDraw(ViewRootImpl.java:2620)\r\n            at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2188)\r\n            at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1249)\r\n            at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:6585)\r\n            at android.view.Choreographer$CallbackRecord.run(Choreographer.java:803)\r\n            at android.view.Choreographer.doCallbacks(Choreographer.java:603)\r\n            at android.view.Choreographer.doFrame(Choreographer.java:573)\r\n            at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:789)\r\n            at android.os.Handler.handleCallback(Handler.java:733)\r\n            at android.os.Handler.dispatchMessage(Handler.java:95)\r\n            at android.os.Looper.loop(Looper.java:136)\r\n            at android.app.ActivityThread.main(ActivityThread.java:5586)\r\n            at java.lang.reflect.Method.invokeNative(Native Method)\r\n            at java.lang.reflect.Method.invoke(Method.java:515)\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1268)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1084)\r\n            at dalvik.system.NativeStart.main(Native Method)\r\n","title":"Android - remove View when its animation finished","body":"<p>Hey I have a method which adds a <code>TextView</code> to my <code>FrameLayout</code> and starts the Animation. The method should be able to be called more often (for multiple Animations).  That is working fine since I can run multiple Animations at one time, but i want to remove the animated view when its animation has finished.</p>\n\n<pre><code>public void showMoneyAnimation(int amoutAddedOrRemoved){\n    //Adding Money\n        float textSize = Math.round((global.getDisplaySize().y / scaleValue) * 34.0);\n        final TextView temp = new TextView(context);\n        temp.setTextAlignment(View.TEXT_ALIGNMENT_TEXT_END);\n        temp.setText(\"+ \" + amoutAddedOrRemoved + \"$\");\n        temp.setTextAppearance(context, R.style.tsMoney1);\n        temp.setTypeface(global.getFont(\"Grobold\"));\n        temp.setTextSize(TypedValue.COMPLEX_UNIT_PX, textSize);\n\n        sb_money.measure(0, 0);\n        temp.measure(0,0);\n        int xtemp = ((int) sb_money.getX() + sb_money.getMeasuredWidth()) - temp.getMeasuredWidth();\n        temp.setX(xtemp);\n        temp.setY(0);\n\n        //Adding My Text to my FrameLayout\n        bgFl.addView(temp);\n\n        Animation atemp = AnimationUtils.loadAnimation(context, R.anim.addanim);\n        temp.startAnimation(atemp);\n        atemp.setAnimationListener(new Animation.AnimationListener() {\n            @Override\n            public void onAnimationStart(Animation animation) {\n\n            }\n\n            @Override\n            public void onAnimationEnd(Animation animation) {\n                // This is the problem's origin!\n                bgFl.removeView(temp);\n            }\n\n            @Override\n            public void onAnimationRepeat(Animation animation) {\n\n            }\n        });\n    }\n</code></pre>\n\n<p>But I'm getting a <code>NullPointerException</code>, maybe because the views have the same name?\nHow can I work around that problem?  Please help :)</p>\n\n<p>Here the Exception:</p>\n\n<pre><code>01-27 22:52:25.633  25975-25975/de.cookedapps.needforweed E/AndroidRuntime﹕ FATAL EXCEPTION: main\nProcess: de.cookedapps.needforweed, PID: 25975\njava.lang.NullPointerException\n        at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3146)\n        at android.view.View.getDisplayList(View.java:14283)\n        at android.view.View.getDisplayList(View.java:14330)\n        at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3284)\n        at android.view.View.getDisplayList(View.java:14225)\n        at android.view.View.getDisplayList(View.java:14330)\n        at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3284)\n        at android.view.View.getDisplayList(View.java:14225)\n        at android.view.View.getDisplayList(View.java:14330)\n        at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3284)\n        at android.view.View.getDisplayList(View.java:14225)\n        at android.view.View.getDisplayList(View.java:14330)\n        at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3284)\n        at android.view.View.getDisplayList(View.java:14225)\n        at android.view.View.getDisplayList(View.java:14330)\n        at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3284)\n        at android.view.View.getDisplayList(View.java:14225)\n        at android.view.View.getDisplayList(View.java:14330)\n        at android.view.HardwareRenderer$GlRenderer.buildDisplayList(HardwareRenderer.java:1588)\n        at android.view.HardwareRenderer$GlRenderer.draw(HardwareRenderer.java:1467)\n        at android.view.ViewRootImpl.draw(ViewRootImpl.java:2754)\n        at android.view.ViewRootImpl.performDraw(ViewRootImpl.java:2620)\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2188)\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1249)\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:6585)\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:803)\n        at android.view.Choreographer.doCallbacks(Choreographer.java:603)\n        at android.view.Choreographer.doFrame(Choreographer.java:573)\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:789)\n        at android.os.Handler.handleCallback(Handler.java:733)\n        at android.os.Handler.dispatchMessage(Handler.java:95)\n        at android.os.Looper.loop(Looper.java:136)\n        at android.app.ActivityThread.main(ActivityThread.java:5586)\n        at java.lang.reflect.Method.invokeNative(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:515)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1268)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1084)\n        at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n"},{"tags":["java","multidimensional-array","user-input","nested-loops"],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649611680,"creation_date":1649611680,"answer_id":71819001,"question_id":71818729,"body_markdown":"With the way you access the elements of the nested array (`grid[i][j]`) you can only access one element at a time. You could also access the complete sub-array `grid[i]` - that would be a one-dimensional array: `String[]`.\r\n\r\nTo access multiple elements of the multi-dimensional array (e.g. around the entered position of the player, `r` and `c`) you will have to use either loops or multiple single operations, like with `grid[r-1][c]`, `grid[r][c+1]` and so on, to reach the neighbours. Take care that you do not exceed the array boundaries (but you have to prepare for special cases at the edges of the grid anyways).\r\n\r\nOtherwise you might be interested to do matrix operations, but that is a completely new topic and probably too much for here. (It is also not directly supported by core Java, you would have to use extra libraries.)","title":"Open and closed elements in a 2D array","body":"<p>With the way you access the elements of the nested array (<code>grid[i][j]</code>) you can only access one element at a time. You could also access the complete sub-array <code>grid[i]</code> - that would be a one-dimensional array: <code>String[]</code>.</p>\n<p>To access multiple elements of the multi-dimensional array (e.g. around the entered position of the player, <code>r</code> and <code>c</code>) you will have to use either loops or multiple single operations, like with <code>grid[r-1][c]</code>, <code>grid[r][c+1]</code> and so on, to reach the neighbours. Take care that you do not exceed the array boundaries (but you have to prepare for special cases at the edges of the grid anyways).</p>\n<p>Otherwise you might be interested to do matrix operations, but that is a completely new topic and probably too much for here. (It is also not directly supported by core Java, you would have to use extra libraries.)</p>\n"}],"owner":{"display_name":"user18543051"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649611680,"creation_date":1649609645,"question_id":71818729,"body_markdown":"I am trying to create a grid using a  2D array that has open and closed elements. The open elements will be represented by a `.` and closed elements will be represented by `*`.\r\n\r\nIn the open elements, letters representing colors are able to be placed in each element. A letter will be placed one at a time. When a letter is placed inside the open element which is next to a closed element, the closed element will then become open.\r\n\r\nThe player can then place a letter in this new open element on their next move. No letter should be allowed to be placed in any closed element. This will continue to repeat.\r\n\r\nThe image attached below shows a better visual understanding.\r\n\r\nI have created a 2D array using a nested for loop. Within this nested loop I have used an if statement to make the first column open with `.`.\r\n\r\nI have been trying to create these open and closed elements outside of this nested for loop however I can only seem to access one element at a time, however I am trying to access multiple.\r\n\r\nI am not looking for people to send me code or anything but I am aksing for help in understanding how to create these open and closed elements.\r\n\r\n```\r\npublic class MatrixGrid {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Move row?&quot;);\r\n\t\tint r = StdIn.readInt();\r\n\t\tSystem.out.println(&quot;Move Colomn?&quot;);\r\n\t\tint c = StdIn.readInt();\r\n\t\tint m =8;\r\n\t\tString p = &quot;G&quot;;\r\n\t\t\r\n\t\t\r\n\t\tString[][] grid = new String[m][m];\r\n\t\t\t\r\n\t\tfor (int i=0; i&lt;grid.length; i++) {\r\n\t\t\t\r\n\t\t\tfor (int j=0; j&lt;grid[i].length; j++) {\r\n\t\t\t\tif (j &gt; 0) {\r\n\t\t\t\t\tgrid[i][j] = &quot;*&quot;;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgrid[i][j] = &quot;.&quot;;\r\n\t\t\t\t}\r\n\t\t\t\tgrid[r][c] = p;\r\n\t\t\t\t\t\r\n\t\t\t\tStdOut.print(grid[i][j]);\r\n\t\t\t\t\t\r\n\t\t\t}\r\n\t\t\tStdOut.println();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n[![Image showing the progression of open and closed elements in a 2D array][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SkcUX.jpg","title":"Open and closed elements in a 2D array","body":"<p>I am trying to create a grid using a  2D array that has open and closed elements. The open elements will be represented by a <code>.</code> and closed elements will be represented by <code>*</code>.</p>\n<p>In the open elements, letters representing colors are able to be placed in each element. A letter will be placed one at a time. When a letter is placed inside the open element which is next to a closed element, the closed element will then become open.</p>\n<p>The player can then place a letter in this new open element on their next move. No letter should be allowed to be placed in any closed element. This will continue to repeat.</p>\n<p>The image attached below shows a better visual understanding.</p>\n<p>I have created a 2D array using a nested for loop. Within this nested loop I have used an if statement to make the first column open with <code>.</code>.</p>\n<p>I have been trying to create these open and closed elements outside of this nested for loop however I can only seem to access one element at a time, however I am trying to access multiple.</p>\n<p>I am not looking for people to send me code or anything but I am aksing for help in understanding how to create these open and closed elements.</p>\n<pre><code>public class MatrixGrid {\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Move row?&quot;);\n        int r = StdIn.readInt();\n        System.out.println(&quot;Move Colomn?&quot;);\n        int c = StdIn.readInt();\n        int m =8;\n        String p = &quot;G&quot;;\n        \n        \n        String[][] grid = new String[m][m];\n            \n        for (int i=0; i&lt;grid.length; i++) {\n            \n            for (int j=0; j&lt;grid[i].length; j++) {\n                if (j &gt; 0) {\n                    grid[i][j] = &quot;*&quot;;\n                } else {\n                    grid[i][j] = &quot;.&quot;;\n                }\n                grid[r][c] = p;\n                    \n                StdOut.print(grid[i][j]);\n                    \n            }\n            StdOut.println();\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/SkcUX.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SkcUX.jpg\" alt=\"Image showing the progression of open and closed elements in a 2D array\" /></a></p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1649568136,"post_id":71809754,"comment_id":126905819,"body_markdown":"You have displayed a log inside `onDatachange`. Can you tell what get&#39;s printed?","body":"You have displayed a log inside <code>onDatachange</code>. Can you tell what get&#39;s printed?"},{"owner":{"account_id":22132595,"reputation":71,"user_id":16383903,"display_name":"ROCKY 007"},"score":0,"creation_date":1649574548,"post_id":71809754,"comment_id":126906685,"body_markdown":"D/CHHH: Users/owRf4tqVKkbWHEUQlmrYIsXRxpO2/Sn3g0t2IslZru0cPyoFCWuGgbnV2/appointment_dates/11-4-2022............... as you can see the path is perfect and if it was not perfect then Toast message wont visible but it is.","body":"D/CHHH: Users/owRf4tqVKkbWHEUQlmrYIsXRxpO2/Sn3g0t2IslZru0cPyoFCWuGgb&zwnj;&#8203;nV2/appointment_date&zwnj;&#8203;s/11-4-2022.........&zwnj;&#8203;...... as you can see the path is perfect and if it was not perfect then Toast message wont visible but it is."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1649578357,"post_id":71809754,"comment_id":126907208,"body_markdown":"If you understand Kotlin, I think that this article, [How to delete a record from Firestore on a RecylerView left/right swipe?](https://medium.com/firebase-tips-tricks/how-to-delete-a-record-from-firestore-on-a-recylerview-left-right-swipe-d65d993f0baf) or [How to delete multiple records from Firestore using RecyclerView multi-selection?](https://medium.com/firebase-tips-tricks/how-to-delete-multiple-records-from-firestore-using-recyclerview-multi-selection-96108e4c6166) might help.","body":"If you understand Kotlin, I think that this article, <a href=\"https://medium.com/firebase-tips-tricks/how-to-delete-a-record-from-firestore-on-a-recylerview-left-right-swipe-d65d993f0baf\" rel=\"nofollow noreferrer\">How to delete a record from Firestore on a RecylerView left/right swipe?</a> or <a href=\"https://medium.com/firebase-tips-tricks/how-to-delete-multiple-records-from-firestore-using-recyclerview-multi-selection-96108e4c6166\" rel=\"nofollow noreferrer\">How to delete multiple records from Firestore using RecyclerView multi-selection?</a> might help."}],"answers":[{"tags":[],"owner":{"account_id":18782185,"reputation":296,"user_id":13696581,"display_name":"Kashif Masood"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649522515,"creation_date":1649522515,"answer_id":71809986,"question_id":71809754,"body_markdown":"You can use .setValue(null) instead of .removeValue to delete an item from realtime database.","title":"children is not removing from firebase onclick event is written in onbindviewholder in custom recyclerview class","body":"<p>You can use .setValue(null) instead of .removeValue to delete an item from realtime database.</p>\n"},{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649524570,"creation_date":1649524570,"answer_id":71810263,"question_id":71809754,"body_markdown":"It helps to not ignore errors that you get back from the APIs that you call. \r\n\r\nIn the call to `removeValue`, you&#39;ll want to check if the `error` is not `null`, and log it:\r\n\r\n    public void onComplete(@Nullable DatabaseError error, @NonNull DatabaseReference ref) {\r\n        if (error != null) {\r\n            Log.e(&quot;Firebase&quot;, &quot;Error deleting node&quot;, error);\r\n        } else {\r\n            Toast.makeText(view.getContext(), &quot;Your Appointment With &quot;+list.get(holder.getAdapterPosition()).getShopname()+&quot; has been cancelled!!&quot;,Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\nAnd in your listener you should never leave `onCancelled` empty. At its minimum that should be\r\n```\r\n@Override\r\npublic void onCancelled(@NonNull DatabaseError error) {\r\n    throw error.toException();\r\n}\r\n```\r\n\r\nOnce you can read the error, you can find out what the root cause of the problem is.","title":"children is not removing from firebase onclick event is written in onbindviewholder in custom recyclerview class","body":"<p>It helps to not ignore errors that you get back from the APIs that you call.</p>\n<p>In the call to <code>removeValue</code>, you'll want to check if the <code>error</code> is not <code>null</code>, and log it:</p>\n<pre><code>public void onComplete(@Nullable DatabaseError error, @NonNull DatabaseReference ref) {\n    if (error != null) {\n        Log.e(&quot;Firebase&quot;, &quot;Error deleting node&quot;, error);\n    } else {\n        Toast.makeText(view.getContext(), &quot;Your Appointment With &quot;+list.get(holder.getAdapterPosition()).getShopname()+&quot; has been cancelled!!&quot;,Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n<p>And in your listener you should never leave <code>onCancelled</code> empty. At its minimum that should be</p>\n<pre><code>@Override\npublic void onCancelled(@NonNull DatabaseError error) {\n    throw error.toException();\n}\n</code></pre>\n<p>Once you can read the error, you can find out what the root cause of the problem is.</p>\n"},{"tags":[],"owner":{"account_id":22132595,"reputation":71,"user_id":16383903,"display_name":"ROCKY 007"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649611400,"creation_date":1649611400,"answer_id":71818961,"question_id":71809754,"body_markdown":"I am giving the wrong path(path which isn&#39;t Exists) for deleting that node from firebase so after correction I got my required Result.\r\n(Note : If you give wrong path still Toast which is written in remove valueoncomplete will run.)","title":"children is not removing from firebase onclick event is written in onbindviewholder in custom recyclerview class","body":"<p>I am giving the wrong path(path which isn't Exists) for deleting that node from firebase so after correction I got my required Result.\n(Note : If you give wrong path still Toast which is written in remove valueoncomplete will run.)</p>\n"}],"owner":{"account_id":22132595,"reputation":71,"user_id":16383903,"display_name":"ROCKY 007"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71810263,"answer_count":3,"score":0,"last_activity_date":1649611400,"creation_date":1649520598,"question_id":71809754,"body_markdown":"interesting thing is that toast written on remove completion is showing but value from firebase is not removing.\r\n\r\nhere is my UI image..\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nhere is my onbindviewholder code...\r\n```\r\n  public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n\r\n        holder.getShopname().setText(list.get(position).getShopname());\r\n        holder.getApmt_date().setText(list.get(position).getAppointment_date());\r\n        Log.d(&quot;QWWQ&quot;,&quot;size=&quot;+list.get(position).getServices());\r\n        holder.getServices().setText(list.get(position).getServices().substring(0,list.get(holder.getAdapterPosition()).getServices().indexOf(&#39;-&#39;))) ;\r\n        holder.getSlot().setText(list.get(position).getSlot());\r\n        holder.getAmount().setText(list.get(position).getAmount());\r\n\r\n        holder.getcancelBtn().setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(FirebaseAuth.getInstance().getCurrentUser().getUid()).child(&quot;appointments&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                        for (DataSnapshot datasnapshot: snapshot.getChildren()\r\n                             ) {\r\n                            if(datasnapshot.child(&quot;shop_name&quot;).getValue(String.class).equals(list.get(holder.getAdapterPosition()).getShopname())){\r\n                                Log.d(&quot;CHHH&quot;,&quot;Users/&quot;+FirebaseAuth.getInstance().getCurrentUser().getUid()+&quot;/&quot;+datasnapshot.getKey()+&quot;/appointment_dates/&quot;+list.get(holder.getAdapterPosition()).getAppointment_date());\r\n                                FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(FirebaseAuth.getInstance().getCurrentUser().getUid()).child(datasnapshot.getKey()).child(&quot;appointment_dates&quot;).child(list.get(holder.getAdapterPosition()).getAppointment_date()).removeValue(new DatabaseReference.CompletionListener() {\r\n                                    @Override\r\n                                    public void onComplete(@Nullable DatabaseError error, @NonNull DatabaseReference ref) {\r\n                                        FirebaseDatabase.getInstance().getReference(&quot;Shops&quot;).child(&quot;appointments&quot;).child(FirebaseAuth.getInstance().getCurrentUser().getUid()).child(list.get(holder.getAdapterPosition()).getAppointment_date()).removeValue(new DatabaseReference.CompletionListener() {\r\n                                            @Override\r\n                                            public void onComplete(@Nullable DatabaseError error, @NonNull DatabaseReference ref) {\r\n                                                Toast.makeText(view.getContext(), &quot;Your Appointment With &quot;+list.get(holder.getAdapterPosition()).getShopname()+&quot; has been cancelled!!&quot;,Toast.LENGTH_SHORT).show();\r\n                                            }\r\n                                        });\r\n\r\n                                    }\r\n                                });\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                    }\r\n                });\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n```\r\n\r\nFirebase database image...\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ie0Zb.jpg\r\n  [2]: https://i.stack.imgur.com/qCHkP.png","title":"children is not removing from firebase onclick event is written in onbindviewholder in custom recyclerview class","body":"<p>interesting thing is that toast written on remove completion is showing but value from firebase is not removing.</p>\n<p>here is my UI image..</p>\n<p><a href=\"https://i.stack.imgur.com/ie0Zb.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ie0Zb.jpg\" alt=\"enter image description here\" /></a></p>\n<p>here is my onbindviewholder code...</p>\n<pre><code>  public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n\n        holder.getShopname().setText(list.get(position).getShopname());\n        holder.getApmt_date().setText(list.get(position).getAppointment_date());\n        Log.d(&quot;QWWQ&quot;,&quot;size=&quot;+list.get(position).getServices());\n        holder.getServices().setText(list.get(position).getServices().substring(0,list.get(holder.getAdapterPosition()).getServices().indexOf('-'))) ;\n        holder.getSlot().setText(list.get(position).getSlot());\n        holder.getAmount().setText(list.get(position).getAmount());\n\n        holder.getcancelBtn().setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(FirebaseAuth.getInstance().getCurrentUser().getUid()).child(&quot;appointments&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\n                        for (DataSnapshot datasnapshot: snapshot.getChildren()\n                             ) {\n                            if(datasnapshot.child(&quot;shop_name&quot;).getValue(String.class).equals(list.get(holder.getAdapterPosition()).getShopname())){\n                                Log.d(&quot;CHHH&quot;,&quot;Users/&quot;+FirebaseAuth.getInstance().getCurrentUser().getUid()+&quot;/&quot;+datasnapshot.getKey()+&quot;/appointment_dates/&quot;+list.get(holder.getAdapterPosition()).getAppointment_date());\n                                FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(FirebaseAuth.getInstance().getCurrentUser().getUid()).child(datasnapshot.getKey()).child(&quot;appointment_dates&quot;).child(list.get(holder.getAdapterPosition()).getAppointment_date()).removeValue(new DatabaseReference.CompletionListener() {\n                                    @Override\n                                    public void onComplete(@Nullable DatabaseError error, @NonNull DatabaseReference ref) {\n                                        FirebaseDatabase.getInstance().getReference(&quot;Shops&quot;).child(&quot;appointments&quot;).child(FirebaseAuth.getInstance().getCurrentUser().getUid()).child(list.get(holder.getAdapterPosition()).getAppointment_date()).removeValue(new DatabaseReference.CompletionListener() {\n                                            @Override\n                                            public void onComplete(@Nullable DatabaseError error, @NonNull DatabaseReference ref) {\n                                                Toast.makeText(view.getContext(), &quot;Your Appointment With &quot;+list.get(holder.getAdapterPosition()).getShopname()+&quot; has been cancelled!!&quot;,Toast.LENGTH_SHORT).show();\n                                            }\n                                        });\n\n                                    }\n                                });\n                            }\n                        }\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n\n                    }\n                });\n\n            }\n        });\n    }\n\n</code></pre>\n<p>Firebase database image...</p>\n<p><a href=\"https://i.stack.imgur.com/qCHkP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qCHkP.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","osgi","osgi-bundle","service-provider","serviceloader"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1649611468,"post_id":71818820,"comment_id":126914177,"body_markdown":"There is [a ServiceLoader.load method](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/ServiceLoader.html#load(java.lang.Class,java.lang.ClassLoader)) that accepts a ClassLoader.  As for running on server startup… why is it necessary to run immediately?  Why can’t your classes perform initialization when those classes are loaded, using static initialization blocks (or even regular constructors)?","body":"There is <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/ServiceLoader.html#load(java.lang.Class,java.lang.ClassLoader)\" rel=\"nofollow noreferrer\">a ServiceLoader.load method</a> that accepts a ClassLoader.  As for running on server startup… why is it necessary to run immediately?  Why can’t your classes perform initialization when those classes are loaded, using static initialization blocks (or even regular constructors)?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1661252596,"post_id":71818820,"comment_id":129722270,"body_markdown":"I’m not sure what you mean with “SPI modules”. When you are talking about ordinary Java modules, they are not loaded though the class path at all. Within one module layer, conflicting packages are not allowed, so if your different versions of a library keep using the same package names, they must be placed into different module layers.","body":"I’m not sure what you mean with “SPI modules”. When you are talking about ordinary Java modules, they are not loaded though the class path at all. Within one module layer, conflicting packages are not allowed, so if your different versions of a library keep using the same package names, they must be placed into different module layers."}],"owner":{"account_id":23009046,"reputation":23,"user_id":17131812,"display_name":"Shamly"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649610325,"creation_date":1649610325,"question_id":71818820,"body_markdown":"I am working on a task that migrates the OSGI modules to Java SPI modules. Let&#39;s say I have three OSGI(A, B, C) modules. So each module has a class for activation and activation happening when starting the servers(at the beginning). Service registration and some other required method executions happening on the activation(@acctivate) class. Service, Service implementation, and Service registration are included in the same module.\r\n\r\nbut when migrating I have some questions,\r\n\r\n1)Each OSGI module has a different class path. Therefore I can have different versions of dependency jars for the different modules ( A - aaa.jar(version-1.0), B - aaa.jar(version-2.0). But all the SPI modules will load in the same class path. So is it possible to have different versions of dependency jars for the different modules?\r\n\r\n2)In Java SPI we don&#39;t have an activation class. Service loader is to load service implementations. is this lazy loading the solution for java SPI?\r\n\r\n3)As I mentioned earlier. Some other method executions are happening in the OSGi activation class. So it will execute those methods when bundle activation happens(Starting the server ).what can be the solution in SPI modules(there is no activation class)?","title":"How is activation happening in the Java SPI modules?","body":"<p>I am working on a task that migrates the OSGI modules to Java SPI modules. Let's say I have three OSGI(A, B, C) modules. So each module has a class for activation and activation happening when starting the servers(at the beginning). Service registration and some other required method executions happening on the activation(@acctivate) class. Service, Service implementation, and Service registration are included in the same module.</p>\n<p>but when migrating I have some questions,</p>\n<p>1)Each OSGI module has a different class path. Therefore I can have different versions of dependency jars for the different modules ( A - aaa.jar(version-1.0), B - aaa.jar(version-2.0). But all the SPI modules will load in the same class path. So is it possible to have different versions of dependency jars for the different modules?</p>\n<p>2)In Java SPI we don't have an activation class. Service loader is to load service implementations. is this lazy loading the solution for java SPI?</p>\n<p>3)As I mentioned earlier. Some other method executions are happening in the OSGi activation class. So it will execute those methods when bundle activation happens(Starting the server ).what can be the solution in SPI modules(there is no activation class)?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1649601438,"post_id":71817590,"comment_id":126911770,"body_markdown":"in short: java is pass-by-value - changing the parameter `nums`  inside a method will NOT change the variable used when the method was called - this site already has a couple of questions dealing with that, but I am got no time (or too lazy) to search now","body":"in short: java is pass-by-value - changing the parameter <code>nums</code>  inside a method will NOT change the variable used when the method was called - this site already has a couple of questions dealing with that, but I am got no time (or too lazy) to search now"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1649601792,"post_id":71817590,"comment_id":126911857,"body_markdown":"Yes, you&#39;re changing the temp array within the method, but then assigning temp to the nums parameter does nothing to the original array object passed into the method. Better to have the method *return* temp, and then assign that result when calling the method: `nums = code_189.rotate(nums, 3);`","body":"Yes, you&#39;re changing the temp array within the method, but then assigning temp to the nums parameter does nothing to the original array object passed into the method. Better to have the method <i>return</i> temp, and then assign that result when calling the method: <code>nums = code_189.rotate(nums, 3);</code>"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1649601856,"post_id":71817590,"comment_id":126911875,"body_markdown":"Well, @user16320675, this is only part of a solution. You can only change the contents of `num` to be visible outside, but you cannot reassign it and expect the change to be visible outside.","body":"Well, @user16320675, this is only part of a solution. You can only change the contents of <code>num</code> to be visible outside, but you cannot reassign it and expect the change to be visible outside."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1649602020,"post_id":71817590,"comment_id":126911923,"body_markdown":"The key concept to gain: if you mutate the array *object* passed into the method, then this will be reflected in the array object passed into the method. If instead you assign the method&#39;s array parameter a different array object, then this will have no effect on the array object passed into the method.","body":"The key concept to gain: if you mutate the array <i>object</i> passed into the method, then this will be reflected in the array object passed into the method. If instead you assign the method&#39;s array parameter a different array object, then this will have no effect on the array object passed into the method."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1649602203,"post_id":71817590,"comment_id":126911985,"body_markdown":"@user16320675 of course you can return the new array, but if you want only to rotate the original array, you could do that in the method - unfortunately this question was closed within about 10 minutes, so I could not post an answer how to do that properly :(","body":"@user16320675 of course you can return the new array, but if you want only to rotate the original array, you could do that in the method - unfortunately this question was closed within about 10 minutes, so I could not post an answer how to do that properly :("},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1649602272,"post_id":71817590,"comment_id":126912000,"body_markdown":"@user16320675 the OPs code has several problems, so even if Java _would_ work with call by reference, the code would not work to rotate the array.","body":"@user16320675 the OPs code has several problems, so even if Java <i>would</i> work with call by reference, the code would not work to rotate the array."}],"owner":{"account_id":23814537,"reputation":1,"user_id":17822968,"display_name":"jian cao"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1649601737,"answer_count":0,"score":0,"last_activity_date":1649609472,"creation_date":1649601278,"question_id":71817590,"body_markdown":"Why has the array num not changed and the member method shows that num has been changed\r\n\r\n```\r\npublic class Code_189 {\r\n    public void rotate(int[] nums, int k) {\r\n        int[] temp;\r\n        for (int i = 0; i &lt; k; i++) {\r\n            temp = new int[nums.length];\r\n            System.arraycopy(nums,0, temp, 1, nums.length-1);\r\n            temp[0] = nums[nums.length-1];\r\n            nums = temp;\r\n        }\r\n        System.out.println(Arrays.toString(nums));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Code_189 code_189 = new Code_189();\r\n        int[] nums  = new int[]{1,2,3,4,5,6,7};\r\n        code_189.rotate(nums, 3);\r\n        System.out.println(Arrays.toString(nums));\r\n    }\r\n}\r\n```","title":"Why does the array nums not changes?","body":"<p>Why has the array num not changed and the member method shows that num has been changed</p>\n<pre><code>public class Code_189 {\n    public void rotate(int[] nums, int k) {\n        int[] temp;\n        for (int i = 0; i &lt; k; i++) {\n            temp = new int[nums.length];\n            System.arraycopy(nums,0, temp, 1, nums.length-1);\n            temp[0] = nums[nums.length-1];\n            nums = temp;\n        }\n        System.out.println(Arrays.toString(nums));\n    }\n\n    public static void main(String[] args) {\n        Code_189 code_189 = new Code_189();\n        int[] nums  = new int[]{1,2,3,4,5,6,7};\n        code_189.rotate(nums, 3);\n        System.out.println(Arrays.toString(nums));\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1649582906,"post_id":71815131,"comment_id":126908067,"body_markdown":"what you call inverse of a number? bitwise inverse, additive inverse, multiplicative inverse (probably not), ...?","body":"what you call inverse of a number? bitwise inverse, additive inverse, multiplicative inverse (probably not), ...?"}],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1649609155,"creation_date":1649581942,"answer_id":71815211,"question_id":71815131,"body_markdown":"You are wrong!\r\n\r\nThe binary representation of 4302033 is not 10000011010010011010001!\r\n\r\nIn fact it is 000000000010000011010010011010001.\r\n\r\nIn Java, an `int` has 32 bits (check `Integer.SIZE`), always, no matter how large the number is that you store within that `int` field. Even for zero, it has those 32 bit (Ok, the first (most left) bit is not really used for the value, but for the sign).\r\n\r\nThis means that when you invert an `int`, you invert all these 32 bits, even including those left from the first 1 (those you referred to as &quot;these units at the beginning&quot;).\r\n\r\nIf this is unwanted, you have to take precautions against that:\r\n\r\n```Java\r\nvar value = 4302033;\r\nvar leadingZeros = Integer.numberOfLeadingZeros( value );\r\nvar inverted = value ^ 0xFFFFFFFF &lt;&lt; leadingZeros &gt;&gt;&gt; leadingZeros;\r\nSystem.out.println( Integer.toBinaryString( value );\r\nSystem.out.println( Integer.toBinaryString( inverted );\r\n\r\n```","title":"How to do inversion on int","body":"<p>You are wrong!</p>\n<p>The binary representation of 4302033 is not 10000011010010011010001!</p>\n<p>In fact it is 000000000010000011010010011010001.</p>\n<p>In Java, an <code>int</code> has 32 bits (check <code>Integer.SIZE</code>), always, no matter how large the number is that you store within that <code>int</code> field. Even for zero, it has those 32 bit (Ok, the first (most left) bit is not really used for the value, but for the sign).</p>\n<p>This means that when you invert an <code>int</code>, you invert all these 32 bits, even including those left from the first 1 (those you referred to as &quot;these units at the beginning&quot;).</p>\n<p>If this is unwanted, you have to take precautions against that:</p>\n<pre><code>var value = 4302033;\nvar leadingZeros = Integer.numberOfLeadingZeros( value );\nvar inverted = value ^ 0xFFFFFFFF &lt;&lt; leadingZeros &gt;&gt;&gt; leadingZeros;\nSystem.out.println( Integer.toBinaryString( value );\nSystem.out.println( Integer.toBinaryString( inverted );\n\n</code></pre>\n"}],"owner":{"display_name":"user18629162"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1649609155,"creation_date":1649581305,"question_id":71815131,"body_markdown":"for example I have such number `4302033`, it is in binary system `10000011010010011010001`, and I need to make inversion, but when I do inversion, it turns out so `11111111101111100101101100101110`, and how to take away these units in the beginning","title":"How to do inversion on int","body":"<p>for example I have such number <code>4302033</code>, it is in binary system <code>10000011010010011010001</code>, and I need to make inversion, but when I do inversion, it turns out so <code>11111111101111100101101100101110</code>, and how to take away these units in the beginning</p>\n"},{"tags":["java","postgresql","in-memory-database"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1544775491,"post_id":53775763,"comment_id":94402708,"body_markdown":"Could you add the stacktrace ?","body":"Could you add the stacktrace ?"},{"owner":{"account_id":8294214,"reputation":305,"user_id":6234906,"accept_rate":0,"display_name":"Vikas Gite"},"score":0,"creation_date":1544776421,"post_id":53775763,"comment_id":94403109,"body_markdown":"Updated question with stack trace.","body":"Updated question with stack trace."},{"owner":{"account_id":8294214,"reputation":305,"user_id":6234906,"accept_rate":0,"display_name":"Vikas Gite"},"score":0,"creation_date":1545028340,"post_id":53775763,"comment_id":94468265,"body_markdown":"Updated stack trace again.","body":"Updated stack trace again."},{"owner":{"account_id":1049705,"reputation":5187,"user_id":1053930,"accept_rate":67,"display_name":"Shashwat Kumar"},"score":0,"creation_date":1560254740,"post_id":53775763,"comment_id":99668228,"body_markdown":"@VikasGite did you get solution for this?","body":"@VikasGite did you get solution for this?"}],"answers":[{"tags":[],"owner":{"account_id":179306,"reputation":2770,"user_id":411871,"accept_rate":67,"display_name":"Anil Bharadia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579014952,"creation_date":1579014952,"answer_id":59736683,"question_id":53775763,"body_markdown":"By looking at this line in the stack trace\r\n`initdb: invalid locale settings; check LANG and LC_* environment variables`,\r\n\r\n\r\nIt seems you need to set env variables for locale as described here: https://github.com/zonkyio/embedded-postgres/issues/11.\r\n\r\n```\r\nexport LC_CTYPE=&quot;en_US.UTF-8&quot;\r\nexport LC_ALL=&quot;en_US.UTF-8&quot;\r\n```\r\n","title":"opentable embedded postgresql not working","body":"<p>By looking at this line in the stack trace\n<code>initdb: invalid locale settings; check LANG and LC_* environment variables</code>,</p>\n\n<p>It seems you need to set env variables for locale as described here: <a href=\"https://github.com/zonkyio/embedded-postgres/issues/11\" rel=\"nofollow noreferrer\">https://github.com/zonkyio/embedded-postgres/issues/11</a>.</p>\n\n<pre><code>export LC_CTYPE=\"en_US.UTF-8\"\nexport LC_ALL=\"en_US.UTF-8\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8710429,"reputation":73,"user_id":6516761,"display_name":"Atul Girishkumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596987072,"creation_date":1596986737,"answer_id":63328099,"question_id":53775763,"body_markdown":"```java\r\nEmbeddedPostgres pg = EmbeddedPostgres.builder().start();\r\n\r\n//Get the connection to postgres db\r\nStatement dbSetup = pg.getDatabase(&quot;postgres&quot;, &quot;postgres&quot;).getConnection().createStatement();\r\n\r\n//Then create a db as per your requirement with appropriate user and password if required.\r\ndbSetup.execute(&quot;create database testdatabase;&quot;);\r\ndbSetup.execute(&quot;CREATE USER testadmin WITH PASSWORD &#39;testadmin&#39; CREATEDB;&quot;);\r\ndbSetup.execute(&quot;ALTER USER testadmin WITH SUPERUSER;&quot;); \r\ndbSetup.execute(&quot;ALTER ROLE testadmin SUPERUSER;&quot;);\r\n\r\n// Connect to the created database and work\r\npg.getDatabase(&quot;testadmin&quot;, &quot;testdatabase&quot;).getConnection().createStatement().executeQuery(&quot;select 1;&quot;);\r\n\r\n```","title":"opentable embedded postgresql not working","body":"<pre class=\"lang-java prettyprint-override\"><code>EmbeddedPostgres pg = EmbeddedPostgres.builder().start();\n\n//Get the connection to postgres db\nStatement dbSetup = pg.getDatabase(&quot;postgres&quot;, &quot;postgres&quot;).getConnection().createStatement();\n\n//Then create a db as per your requirement with appropriate user and password if required.\ndbSetup.execute(&quot;create database testdatabase;&quot;);\ndbSetup.execute(&quot;CREATE USER testadmin WITH PASSWORD 'testadmin' CREATEDB;&quot;);\ndbSetup.execute(&quot;ALTER USER testadmin WITH SUPERUSER;&quot;); \ndbSetup.execute(&quot;ALTER ROLE testadmin SUPERUSER;&quot;);\n\n// Connect to the created database and work\npg.getDatabase(&quot;testadmin&quot;, &quot;testdatabase&quot;).getConnection().createStatement().executeQuery(&quot;select 1;&quot;);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8502298,"reputation":1218,"user_id":6374900,"display_name":"Antonio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649608600,"creation_date":1649608600,"answer_id":71818577,"question_id":53775763,"body_markdown":"I had the same problem and I fixed it upgrading to the latest version of `otj-pg-embedded`.\r\n\r\nfor instance on gradle set:\r\n\r\n```\r\ntestImplementation &quot;com.opentable.components:otj-pg-embedded:1.0.0&quot;\r\n```\r\n\r\nThe initialization of the db faced a lot of problems with binaries, and finally at the end of this long commented ticket, [Fail on OSX suddenly. &#183; Issue #136 &#183; opentable/otj-pg-embedded](https://github.com/opentable/otj-pg-embedded/issues/136), I found the real solution.\r\n\r\nOn Jan 2022 the library switched to version 1, which conveniently uses [Testcontainers](https://www.testcontainers.org/). This finally solved my problems, and I didn&#39;t look at it any deeper. My understanding is that much of the compatibility problems between the library itself, Postgres, and the OS should have gone thanks to using isolated containers.","title":"opentable embedded postgresql not working","body":"<p>I had the same problem and I fixed it upgrading to the latest version of <code>otj-pg-embedded</code>.</p>\n<p>for instance on gradle set:</p>\n<pre><code>testImplementation &quot;com.opentable.components:otj-pg-embedded:1.0.0&quot;\n</code></pre>\n<p>The initialization of the db faced a lot of problems with binaries, and finally at the end of this long commented ticket, <a href=\"https://github.com/opentable/otj-pg-embedded/issues/136\" rel=\"nofollow noreferrer\">Fail on OSX suddenly. · Issue #136 · opentable/otj-pg-embedded</a>, I found the real solution.</p>\n<p>On Jan 2022 the library switched to version 1, which conveniently uses <a href=\"https://www.testcontainers.org/\" rel=\"nofollow noreferrer\">Testcontainers</a>. This finally solved my problems, and I didn't look at it any deeper. My understanding is that much of the compatibility problems between the library itself, Postgres, and the OS should have gone thanks to using isolated containers.</p>\n"}],"owner":{"account_id":8294214,"reputation":305,"user_id":6234906,"accept_rate":0,"display_name":"Vikas Gite"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4712,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1649608600,"creation_date":1544775334,"question_id":53775763,"body_markdown":"I am using [otj-pg-embedded][1] for the first time and would like to incorporate it into our test framework. Details are as follows \r\n\r\nFollowing is the maven dependency : \r\n\r\n     &lt;dependency&gt;\r\n                &lt;groupId&gt;com.opentable.components&lt;/groupId&gt;\r\n                &lt;artifactId&gt;otj-pg-embedded&lt;/artifactId&gt;\r\n                &lt;version&gt;0.12.5&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n     &lt;/dependency&gt;\r\n\r\nAnd the code is :\r\n \r\n\r\n    EmbeddedPostgres pg = EmbeddedPostgres.start();\r\n     Connection connection = pg.getPostgresDatabase().getConnection();\r\n     Statement s = connection.createStatement();\r\n     ResultSet rs = s.executeQuery(&quot;SELECT 1&quot;);\r\n     assertEquals(1, rs.getInt(1));\r\n\r\nBut it fails with java.lang.IllegalStateException on line 1 of the code.\r\n\r\nStack trace is :\r\n\r\n    initdb: invalid locale settings; check LANG and LC_* environment variables\r\n        \r\n    java.lang.IllegalStateException: Process [/var/folders/rj/3jd5_2n16g37lv1v550g9cqw0000gp/T/embedded-pg/PG-b210101549c90a94dbbada389b65c5d2/bin/initdb, -A, trust, -U, postgres, -D, /var/folders/rj/3jd5_2n16g37lv1v550g9cqw0000gp/T/epg2729813194709143982, -E, UTF-8] failed\r\n        \r\n        \r\n        \tat com.opentable.db.postgres.embedded.EmbeddedPostgres.system(EmbeddedPostgres.java:593)\r\n        \tat com.opentable.db.postgres.embedded.EmbeddedPostgres.initdb(EmbeddedPostgres.java:230)\r\n        \tat com.opentable.db.postgres.embedded.EmbeddedPostgres.&lt;init&gt;(EmbeddedPostgres.java:148)\r\n        \tat com.opentable.db.postgres.embedded.EmbeddedPostgres$Builder.start(EmbeddedPostgres.java:580)\r\n        \tat com.opentable.db.postgres.embedded.EmbeddedPostgres.start(EmbeddedPostgres.java:480)\r\n\r\nIs there anything that I am missing to configure here? Any help would be appreciated.\r\n\r\n  [1]: https://github.com/opentable/otj-pg-embedded\r\n\r\n","title":"opentable embedded postgresql not working","body":"<p>I am using <a href=\"https://github.com/opentable/otj-pg-embedded\" rel=\"noreferrer\">otj-pg-embedded</a> for the first time and would like to incorporate it into our test framework. Details are as follows </p>\n\n<p>Following is the maven dependency : </p>\n\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;com.opentable.components&lt;/groupId&gt;\n            &lt;artifactId&gt;otj-pg-embedded&lt;/artifactId&gt;\n            &lt;version&gt;0.12.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n &lt;/dependency&gt;\n</code></pre>\n\n<p>And the code is :</p>\n\n<pre><code>EmbeddedPostgres pg = EmbeddedPostgres.start();\n Connection connection = pg.getPostgresDatabase().getConnection();\n Statement s = connection.createStatement();\n ResultSet rs = s.executeQuery(\"SELECT 1\");\n assertEquals(1, rs.getInt(1));\n</code></pre>\n\n<p>But it fails with java.lang.IllegalStateException on line 1 of the code.</p>\n\n<p>Stack trace is :</p>\n\n<pre><code>initdb: invalid locale settings; check LANG and LC_* environment variables\n\njava.lang.IllegalStateException: Process [/var/folders/rj/3jd5_2n16g37lv1v550g9cqw0000gp/T/embedded-pg/PG-b210101549c90a94dbbada389b65c5d2/bin/initdb, -A, trust, -U, postgres, -D, /var/folders/rj/3jd5_2n16g37lv1v550g9cqw0000gp/T/epg2729813194709143982, -E, UTF-8] failed\n\n\n        at com.opentable.db.postgres.embedded.EmbeddedPostgres.system(EmbeddedPostgres.java:593)\n        at com.opentable.db.postgres.embedded.EmbeddedPostgres.initdb(EmbeddedPostgres.java:230)\n        at com.opentable.db.postgres.embedded.EmbeddedPostgres.&lt;init&gt;(EmbeddedPostgres.java:148)\n        at com.opentable.db.postgres.embedded.EmbeddedPostgres$Builder.start(EmbeddedPostgres.java:580)\n        at com.opentable.db.postgres.embedded.EmbeddedPostgres.start(EmbeddedPostgres.java:480)\n</code></pre>\n\n<p>Is there anything that I am missing to configure here? Any help would be appreciated.</p>\n"},{"tags":["java","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":236964,"reputation":1214,"user_id":504807,"accept_rate":79,"display_name":"yoni"},"score":0,"creation_date":1631223683,"post_id":69124886,"comment_id":122172438,"body_markdown":"Do `Skill` &amp; `EditSkillRequest` objects contain getters for all fields?","body":"Do <code>Skill</code> &amp; <code>EditSkillRequest</code> objects contain getters for all fields?"},{"owner":{"account_id":4160077,"reputation":477,"user_id":3410377,"accept_rate":93,"display_name":"Razlo3p"},"score":0,"creation_date":1631224010,"post_id":69124886,"comment_id":122172503,"body_markdown":"@yoni yes they do. Some are isNameField insted of get, since they are boolean. But i don&#39;t think this is the issue","body":"@yoni yes they do. Some are isNameField insted of get, since they are boolean. But i don&#39;t think this is the issue"},{"owner":{"account_id":236964,"reputation":1214,"user_id":504807,"accept_rate":79,"display_name":"yoni"},"score":0,"creation_date":1631225048,"post_id":69124886,"comment_id":122172717,"body_markdown":"Can you please upload `EditSkillRequest` class here? is there a field named: `skills&#39;?","body":"Can you please upload <code>EditSkillRequest</code> class here? is there a field named: `skills&#39;?"},{"owner":{"account_id":4160077,"reputation":477,"user_id":3410377,"accept_rate":93,"display_name":"Razlo3p"},"score":0,"creation_date":1631225551,"post_id":69124886,"comment_id":122172811,"body_markdown":"no there is not, in the request i don&#39;t need a Skill. I have the id of the skill to edit and the fields that need to be edited.","body":"no there is not, in the request i don&#39;t need a Skill. I have the id of the skill to edit and the fields that need to be edited."},{"owner":{"account_id":236964,"reputation":1214,"user_id":504807,"accept_rate":79,"display_name":"yoni"},"score":0,"creation_date":1631225928,"post_id":69124886,"comment_id":122172878,"body_markdown":"Thx. Try use `findById` instead of `getById`. Maybe it&#39;s a mass because of the lazy loading and proxy of the DB.","body":"Thx. Try use <code>findById</code> instead of <code>getById</code>. Maybe it&#39;s a mass because of the lazy loading and proxy of the DB."},{"owner":{"account_id":4160077,"reputation":477,"user_id":3410377,"accept_rate":93,"display_name":"Razlo3p"},"score":0,"creation_date":1631226117,"post_id":69124886,"comment_id":122172921,"body_markdown":"I&#39;m not using gtById for retrieving the list of Skills (the error is a the return statement), i&#39;m using skillRepository.getAllSkills();","body":"I&#39;m not using gtById for retrieving the list of Skills (the error is a the return statement), i&#39;m using skillRepository.getAllSkills();"},{"owner":{"account_id":236964,"reputation":1214,"user_id":504807,"accept_rate":79,"display_name":"yoni"},"score":0,"creation_date":1631226192,"post_id":69124886,"comment_id":122172942,"body_markdown":"I meant it: `Skill s = skillRepository.getById(body.getId());`","body":"I meant it: <code>Skill s = skillRepository.getById(body.getId());</code>"},{"owner":{"account_id":117315,"reputation":3877,"user_id":307295,"display_name":"mvmn"},"score":1,"creation_date":1631226846,"post_id":69124886,"comment_id":122173057,"body_markdown":"Try skillRepository.flush() after save","body":"Try skillRepository.flush() after save"}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1631227459,"creation_date":1631227459,"answer_id":69125459,"question_id":69124886,"body_markdown":"Just replace `getById` with `findById`. The reason being that the first one is a lazy load operation and as a consequence you only get a reference (a proxy) to the entity. On the other hand, `findById` is a eagger load operation, and as a consequence, you immediately have the actual entity fully populated.\r\n\r\n```java\r\n@PostMapping(path=&quot;/editSkill&quot;)\r\npublic @ResponseBody Iterable&lt;Skill&gt; editSkill(@RequestBody EditSkillRequest body) {\r\n    User u = userRepository.getUserBySessionToken(body.getSessionToken());\r\n    Skill s = skillRepository.findByid(body.getId());\r\n       \r\n    s.setCost(body.getCost());\r\n    s.setName(body.getName());\r\n    s.setDescription(body.getDescription());\r\n    skillRepository.save(s);\r\n\r\n    return skillRepository.getAllSkills();\r\n}\r\n```","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor, two method with same result but different output","body":"<p>Just replace <code>getById</code> with <code>findById</code>. The reason being that the first one is a lazy load operation and as a consequence you only get a reference (a proxy) to the entity. On the other hand, <code>findById</code> is a eagger load operation, and as a consequence, you immediately have the actual entity fully populated.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(path=&quot;/editSkill&quot;)\npublic @ResponseBody Iterable&lt;Skill&gt; editSkill(@RequestBody EditSkillRequest body) {\n    User u = userRepository.getUserBySessionToken(body.getSessionToken());\n    Skill s = skillRepository.findByid(body.getId());\n       \n    s.setCost(body.getCost());\n    s.setName(body.getName());\n    s.setDescription(body.getDescription());\n    skillRepository.save(s);\n\n    return skillRepository.getAllSkills();\n}\n</code></pre>\n"}],"owner":{"account_id":4160077,"reputation":477,"user_id":3410377,"accept_rate":93,"display_name":"Razlo3p"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4762,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69125459,"answer_count":1,"score":0,"last_activity_date":1649608425,"creation_date":1631222733,"question_id":69124886,"body_markdown":"I have two request that will produce the same output. A `Iterable&lt;Skill&gt;` where `Skill` is an object with some properties (no other classes nested).\r\n\r\nThis gives me no error and work like a charm.\r\n\r\n    @GetMapping(path=&quot;/getAllSkills&quot;)\r\n    public @ResponseBody Iterable&lt;Skill&gt; getAllSkills() {\r\n        return skillRepository.getAllSkills();\r\n    }\r\n\r\nThis one is failing.\r\n\r\n    @PostMapping(path=&quot;/editSkill&quot;)\r\n        public @ResponseBody Iterable&lt;Skill&gt; editSkill(@RequestBody EditSkillRequest body) {\r\n        User u = userRepository.getUserBySessionToken(body.getSessionToken());\r\n        Skill s = skillRepository.getById(body.getId());\r\n           \r\n        s.setCost(body.getCost());\r\n        s.setName(body.getName());\r\n        s.setDescription(body.getDescription());\r\n        skillRepository.save(s);\r\n\r\n        return skillRepository.getAllSkills();\r\n    }\r\n\r\nI tried with `getAllSkills()` (self created query) and with `findAll()` too.\r\nI get the same error\r\n\r\n    2021-09-09 23:19:14.373 ERROR 7452 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested excepti\r\n    on is org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]; nested exception is com.fasterxml.jackson.databind.exc.Inv\r\n    alidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEA\r\n    NS) (through reference chain: WHLive.messages.EditSkillResponse[&quot;skills&quot;]-&gt;java.util.ArrayList[0]-&gt;WHLive.model.Skill$HibernateProxy$PvDfTPV7[&quot;hibernateLazyInitializer&quot;])] with root cause\r\n    \r\n    com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable\r\n    SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: WHLive.messages.EditSkillResponse[&quot;skills&quot;]-&gt;java.util.ArrayList[0]-&gt;WHLive.model.Skill$HibernateProxy$PvDfTPV7[&quot;hibernateLazyInitializer&quot;])\r\n            at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.12.3.jar:2.12.3]\r\n            at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1276) ~[jackson-databind-2.12.3.jar:2.12.3]\r\n            at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400) ~[jackson-databind-2.12.3.jar:2.12.3]\r\n            at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:71) ~[jackson-databind-2.12.3.jar:2.12.3]\r\n            at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:33) ~[jackson-databind-2.12.3.jar:2.12.3]\r\n            at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.12.3.jar:2.12.3]\r\n            at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.12.3.jar:2.12.3]\r\n            at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.12.3.jar:2.12.3]\r\n            at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:119) ~[jackson-databind-2.12.3.jar:2.12.3]\r\n            at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serialize(IndexedListSerializer.java:79) ~[jackson-databind-2.12.3.jar:2.12.3]\r\n            at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serialize(IndexedListSerializer.java:18) ~[jackson-databind-2.12.3.jar:2.12.3]\r\n            at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.12.3.jar:2.12.3]\r\n            at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.12.3.jar:2.12.3]\r\n            at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.12.3.jar:2.12.3]\r\n            at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.12.3.jar:2.12.3]\r\n            at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.12.3.jar:2.12.3]\r\n            at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1514) ~[jackson-databind-2.12.3.jar:2.12.3]\r\n            at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1006) ~[jackson-databind-2.12.3.jar:2.12.3]\r\n            at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:454) ~[spring-web-5.3.8.jar:5.3.8]\r\n            at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104) ~[spring-web-5.3.8.jar:5.3.8]\r\n            at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290) ~[spring-webmvc-5.3.8.jar:5.3.8]\r\n            at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:181) ~[spring-webmvc-5.3.8.jar:5.3.8]\r\n            at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-5.3.8.jar:5.3.8]\r\n            at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:124) ~[spring-webmvc-5.3.8.jar:5.3.8]\r\n            at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894) ~[spring-webmvc-5.3.8.jar:5.3.8]\r\n            at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.8.jar:5.3.8]\r\n            at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.8.jar:5.3.8]\r\n            at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063) ~[spring-webmvc-5.3.8.jar:5.3.8]\r\n            at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.8.jar:5.3.8]\r\n            at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.8.jar:5.3.8]\r\n            at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.8.jar:5.3.8]\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.48.jar:4.0.FR]\r\n            at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.8.jar:5.3.8]\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.48.jar:4.0.FR]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n            at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.48.jar:9.0.48]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n            at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.8.jar:5.3.8]\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.8.jar:5.3.8]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n            at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.8.jar:5.3.8]\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.8.jar:5.3.8]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n            at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.8.jar:5.3.8]\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.8.jar:5.3.8]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n            at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\r\n            at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.48.jar:9.0.48]\r\n            at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) [tomcat-embed-core-9.0.48.jar:9.0.48]\r\n            at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [tomcat-embed-core-9.0.48.jar:9.0.48]\r\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.48.jar:9.0.48]\r\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.48.jar:9.0.48]\r\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.48.jar:9.0.48]\r\n            at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.48.jar:9.0.48]\r\n            at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.48.jar:9.0.48]\r\n            at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) [tomcat-embed-core-9.0.48.jar:9.0.48]\r\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723) [tomcat-embed-core-9.0.48.jar:9.0.48]\r\n            at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.48.jar:9.0.48]\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_301]\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_301]\r\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.48.jar:9.0.48]\r\n            at java.lang.Thread.run(Thread.java:748) [na:1.8.0_301]\r\n\r\nEDIT: As requested\r\n\r\n    public class EditSkillRequest extends BaseRequest {\r\n        private Long id;\r\n        private String name;\r\n        private int cost;\r\n        private boolean career;\r\n        private boolean mastery;\r\n        private boolean style;\r\n        private boolean advanced;\r\n        private boolean supreme;\r\n        private String description;\r\n    \r\n        EditSkillRequest() {\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public int getCost() {\r\n            return cost;\r\n        }\r\n    \r\n        public void setCost(int cost) {\r\n            this.cost = cost;\r\n        }\r\n    \r\n        public boolean isCareer() {\r\n            return career;\r\n        }\r\n    \r\n        public void setCareer(boolean career) {\r\n            this.career = career;\r\n        }\r\n    \r\n        public boolean isMastery() {\r\n            return mastery;\r\n        }\r\n    \r\n        public void setMastery(boolean mastery) {\r\n            this.mastery = mastery;\r\n        }\r\n    \r\n        public boolean isStyle() {\r\n            return style;\r\n        }\r\n    \r\n        public void setStyle(boolean style) {\r\n            this.style = style;\r\n        }\r\n    \r\n        public boolean isAdvanced() {\r\n            return advanced;\r\n        }\r\n    \r\n        public void setAdvanced(boolean advanced) {\r\n            this.advanced = advanced;\r\n        }\r\n    \r\n        public boolean isSupreme() {\r\n            return supreme;\r\n        }\r\n    \r\n        public void setSupreme(boolean supreme) {\r\n            this.supreme = supreme;\r\n        }\r\n    \r\n        public String getDescription() {\r\n            return description;\r\n        }\r\n    \r\n        public void setDescription(String description) {\r\n            this.description = description;\r\n        }\r\n    }","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor, two method with same result but different output","body":"<p>I have two request that will produce the same output. A <code>Iterable&lt;Skill&gt;</code> where <code>Skill</code> is an object with some properties (no other classes nested).</p>\n<p>This gives me no error and work like a charm.</p>\n<pre><code>@GetMapping(path=&quot;/getAllSkills&quot;)\npublic @ResponseBody Iterable&lt;Skill&gt; getAllSkills() {\n    return skillRepository.getAllSkills();\n}\n</code></pre>\n<p>This one is failing.</p>\n<pre><code>@PostMapping(path=&quot;/editSkill&quot;)\n    public @ResponseBody Iterable&lt;Skill&gt; editSkill(@RequestBody EditSkillRequest body) {\n    User u = userRepository.getUserBySessionToken(body.getSessionToken());\n    Skill s = skillRepository.getById(body.getId());\n       \n    s.setCost(body.getCost());\n    s.setName(body.getName());\n    s.setDescription(body.getDescription());\n    skillRepository.save(s);\n\n    return skillRepository.getAllSkills();\n}\n</code></pre>\n<p>I tried with <code>getAllSkills()</code> (self created query) and with <code>findAll()</code> too.\nI get the same error</p>\n<pre><code>2021-09-09 23:19:14.373 ERROR 7452 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested excepti\non is org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]; nested exception is com.fasterxml.jackson.databind.exc.Inv\nalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEA\nNS) (through reference chain: WHLive.messages.EditSkillResponse[&quot;skills&quot;]-&gt;java.util.ArrayList[0]-&gt;WHLive.model.Skill$HibernateProxy$PvDfTPV7[&quot;hibernateLazyInitializer&quot;])] with root cause\n\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable\nSerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: WHLive.messages.EditSkillResponse[&quot;skills&quot;]-&gt;java.util.ArrayList[0]-&gt;WHLive.model.Skill$HibernateProxy$PvDfTPV7[&quot;hibernateLazyInitializer&quot;])\n        at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.12.3.jar:2.12.3]\n        at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1276) ~[jackson-databind-2.12.3.jar:2.12.3]\n        at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400) ~[jackson-databind-2.12.3.jar:2.12.3]\n        at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:71) ~[jackson-databind-2.12.3.jar:2.12.3]\n        at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:33) ~[jackson-databind-2.12.3.jar:2.12.3]\n        at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.12.3.jar:2.12.3]\n        at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.12.3.jar:2.12.3]\n        at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.12.3.jar:2.12.3]\n        at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:119) ~[jackson-databind-2.12.3.jar:2.12.3]\n        at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serialize(IndexedListSerializer.java:79) ~[jackson-databind-2.12.3.jar:2.12.3]\n        at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serialize(IndexedListSerializer.java:18) ~[jackson-databind-2.12.3.jar:2.12.3]\n        at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.12.3.jar:2.12.3]\n        at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.12.3.jar:2.12.3]\n        at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.12.3.jar:2.12.3]\n        at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.12.3.jar:2.12.3]\n        at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.12.3.jar:2.12.3]\n        at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1514) ~[jackson-databind-2.12.3.jar:2.12.3]\n        at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1006) ~[jackson-databind-2.12.3.jar:2.12.3]\n        at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:454) ~[spring-web-5.3.8.jar:5.3.8]\n        at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104) ~[spring-web-5.3.8.jar:5.3.8]\n        at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290) ~[spring-webmvc-5.3.8.jar:5.3.8]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:181) ~[spring-webmvc-5.3.8.jar:5.3.8]\n        at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-5.3.8.jar:5.3.8]\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:124) ~[spring-webmvc-5.3.8.jar:5.3.8]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894) ~[spring-webmvc-5.3.8.jar:5.3.8]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.8.jar:5.3.8]\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.8.jar:5.3.8]\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063) ~[spring-webmvc-5.3.8.jar:5.3.8]\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.8.jar:5.3.8]\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.8.jar:5.3.8]\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.8.jar:5.3.8]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.48.jar:4.0.FR]\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.8.jar:5.3.8]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.48.jar:4.0.FR]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.48.jar:9.0.48]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.8.jar:5.3.8]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.8.jar:5.3.8]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.8.jar:5.3.8]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.8.jar:5.3.8]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.8.jar:5.3.8]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.8.jar:5.3.8]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) [tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) [tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723) [tomcat-embed-core-9.0.48.jar:9.0.48]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.48.jar:9.0.48]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_301]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_301]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.48.jar:9.0.48]\n        at java.lang.Thread.run(Thread.java:748) [na:1.8.0_301]\n</code></pre>\n<p>EDIT: As requested</p>\n<pre><code>public class EditSkillRequest extends BaseRequest {\n    private Long id;\n    private String name;\n    private int cost;\n    private boolean career;\n    private boolean mastery;\n    private boolean style;\n    private boolean advanced;\n    private boolean supreme;\n    private String description;\n\n    EditSkillRequest() {\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getCost() {\n        return cost;\n    }\n\n    public void setCost(int cost) {\n        this.cost = cost;\n    }\n\n    public boolean isCareer() {\n        return career;\n    }\n\n    public void setCareer(boolean career) {\n        this.career = career;\n    }\n\n    public boolean isMastery() {\n        return mastery;\n    }\n\n    public void setMastery(boolean mastery) {\n        this.mastery = mastery;\n    }\n\n    public boolean isStyle() {\n        return style;\n    }\n\n    public void setStyle(boolean style) {\n        this.style = style;\n    }\n\n    public boolean isAdvanced() {\n        return advanced;\n    }\n\n    public void setAdvanced(boolean advanced) {\n        this.advanced = advanced;\n    }\n\n    public boolean isSupreme() {\n        return supreme;\n    }\n\n    public void setSupreme(boolean supreme) {\n        this.supreme = supreme;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1570120999,"post_id":58223510,"comment_id":102822347,"body_markdown":"Try adding getters and setters","body":"Try adding getters and setters"},{"owner":{"account_id":7739018,"reputation":151,"user_id":5859567,"display_name":"Ocean&#39;s Fourteenth"},"score":0,"creation_date":1570124482,"post_id":58223510,"comment_id":102823763,"body_markdown":"@Aris_Kortex I indicated my getters and setters with a comment on the last line","body":"@Aris_Kortex I indicated my getters and setters with a comment on the last line"}],"answers":[{"tags":[],"owner":{"account_id":10945219,"reputation":21,"user_id":8043597,"display_name":"Stefan Creanga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570121808,"creation_date":1570121808,"answer_id":58223728,"question_id":58223510,"body_markdown":"\r\nMaybe try to add annotation to your fields, to map the column names with the fields\r\n    @Column(name=&quot;name&quot;)\r\n    private String name;\r\n    \r\nor did you put the annotation to the getters and setters?","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer","body":"<p>Maybe try to add annotation to your fields, to map the column names with the fields\n    @Column(name=\"name\")\n    private String name;</p>\n\n<p>or did you put the annotation to the getters and setters?</p>\n"},{"tags":[],"owner":{"account_id":7739018,"reputation":151,"user_id":5859567,"display_name":"Ocean&#39;s Fourteenth"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1643656771,"creation_date":1570544028,"answer_id":58288171,"question_id":58223510,"body_markdown":"I was able to solve the issue by using the ```@JsonIgnoreProperties``` annotation.\r\n\r\n```java\r\n// package and imports\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n\r\n@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;})\r\n@Entity\r\npublic class Pokemon implements Serializable {\r\n\r\n// rest of code\r\n\r\n}\r\n```","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer","body":"<p>I was able to solve the issue by using the <code>@JsonIgnoreProperties</code> annotation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// package and imports\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\n@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;})\n@Entity\npublic class Pokemon implements Serializable {\n\n// rest of code\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16210738,"reputation":11,"user_id":11704837,"display_name":"El Hadji Ndongo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634190538,"creation_date":1634159552,"answer_id":69562391,"question_id":58223510,"body_markdown":"With your repository, when you retrieve one Pokemon use the method : \r\n    \r\n    findById(id).get();","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer","body":"<p>With your repository, when you retrieve one Pokemon use the method :</p>\n<pre><code>findById(id).get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1575976,"reputation":406,"user_id":1462417,"display_name":"kqr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644317437,"creation_date":1644317437,"answer_id":71032609,"question_id":58223510,"body_markdown":"What solved this issue for me was using \r\n[jackson-datatype-hibernate5][1]\r\nand registering this module in objectmapper\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-datatype-hibernate","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer","body":"<p>What solved this issue for me was using\n<a href=\"https://github.com/FasterXML/jackson-datatype-hibernate\" rel=\"nofollow noreferrer\">jackson-datatype-hibernate5</a>\nand registering this module in objectmapper</p>\n"}],"owner":{"account_id":7739018,"reputation":151,"user_id":5859567,"display_name":"Ocean&#39;s Fourteenth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7499,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58288171,"answer_count":4,"score":2,"last_activity_date":1649608403,"creation_date":1570120844,"question_id":58223510,"body_markdown":"I am using Spring Boot with Spring Data JPA. However, when I try to retrieve data from my Repository, the following error is thrown: \r\n\r\n```\r\nType definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.example.model.Pokemon$HibernateProxy$DuUnG9om[\\&quot;hibernateLazyInitializer\\&quot;])\r\n```\r\nMost of the &quot;duplicates&quot; I see have relationships, but my Pokemon class does not. Is there something that I am missing?\r\n\r\n\r\nMy Pokemon class is a simple POJO class:\r\n```\r\npackage com.example.model;\r\n\r\nimport java.io.Serializable;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\npublic class Pokemon implements Serializable {\r\n\r\n\t/**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = -2228784815938588107L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate Integer id;\r\n\r\n\tprivate String name;\r\n\tprivate Double attack, defense, speed;\r\n\t\r\n\tpublic Pokemon() {\r\n\t\t\r\n\t}\r\n\r\n\tpublic Pokemon(int id, String name, double attack, double defense, double speed) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t\tthis.attack = attack;\r\n\t\tthis.defense = defense;\r\n\t\tthis.speed = speed;\r\n\t}\r\n\r\n    // Getters and setters\r\n}\r\n```\r\n","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer","body":"<p>I am using Spring Boot with Spring Data JPA. However, when I try to retrieve data from my Repository, the following error is thrown: </p>\n\n<pre><code>Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.example.model.Pokemon$HibernateProxy$DuUnG9om[\\\"hibernateLazyInitializer\\\"])\n</code></pre>\n\n<p>Most of the \"duplicates\" I see have relationships, but my Pokemon class does not. Is there something that I am missing?</p>\n\n<p>My Pokemon class is a simple POJO class:</p>\n\n<pre><code>package com.example.model;\n\nimport java.io.Serializable;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\n\n@Entity\npublic class Pokemon implements Serializable {\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = -2228784815938588107L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n\n    private String name;\n    private Double attack, defense, speed;\n\n    public Pokemon() {\n\n    }\n\n    public Pokemon(int id, String name, double attack, double defense, double speed) {\n        super();\n        this.id = id;\n        this.name = name;\n        this.attack = attack;\n        this.defense = defense;\n        this.speed = speed;\n    }\n\n    // Getters and setters\n}\n</code></pre>\n"},{"tags":["java","mysql","hibernate"],"comments":[{"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"score":0,"creation_date":1610556448,"post_id":65694427,"comment_id":116173377,"body_markdown":"Does this answer your question? [No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor](https://stackoverflow.com/questions/52656517/no-serializer-found-for-class-org-hibernate-proxy-pojo-bytebuddy-bytebuddyinterc)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/52656517/no-serializer-found-for-class-org-hibernate-proxy-pojo-bytebuddy-bytebuddyinterc\">No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor</a>"},{"owner":{"account_id":3886707,"reputation":1216,"user_id":3217883,"accept_rate":76,"display_name":"user3217883"},"score":0,"creation_date":1610573850,"post_id":65694427,"comment_id":116180480,"body_markdown":"No, I don&#39;t think so.  My question is about trying to use hibernate to populate the same Backtest entity that it used to save it.  When it saves it, it creates a new foreign key in the table.  I believe this field is what is preventing it from binding during the db read.","body":"No, I don&#39;t think so.  My question is about trying to use hibernate to populate the same Backtest entity that it used to save it.  When it saves it, it creates a new foreign key in the table.  I believe this field is what is preventing it from binding during the db read."}],"owner":{"account_id":3886707,"reputation":1216,"user_id":3217883,"accept_rate":76,"display_name":"user3217883"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1661,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649608379,"creation_date":1610501069,"question_id":65694427,"body_markdown":"When I try to read from a database table into a  @Entity Backtest, I get the following error:\r\n\r\n    {&quot;timestamp&quot;:&quot;2021-01-13T00:42:52.516+00:00&quot;,&quot;message&quot;:&quot;Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: net.tekknow.moneymachine.model.JsonResponse[\\&quot;data\\&quot;]-&gt;java.util.ArrayList[0]-&gt;net.tekknow.moneymachine.model.Backtest[\\&quot;strategy\\&quot;]-&gt;net.tekknow.moneymachine.model.Strategy$HibernateProxy$NY2C2PBb[\\&quot;hibernateLazyInitializer\\&quot;])&quot;,&quot;details&quot;:&quot;uri=/api/v1/backtests&quot;}\r\n\r\nThe @Entity backtest contains a property &quot;Strategy strategy&quot;. From the error message, I&#39;m guessing it doesn&#39;t like the &quot;strategy&quot; field which exists in the Backtest entity, but not in the corresponding mysql table.  All properties are public and contain getters and setters.\r\n\r\n    @Entity\r\n    @Table(name=&quot;backtest&quot;)\r\n    public class Backtest {\r\n    \t@Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY) \r\n    \tprivate Long id;\r\n    \t\r\n    \t@JsonManagedReference\t\t//This prevents an &quot;infinite recursion&quot; error.  Might not need it anymore because I&#39;ve since added FetchType.LAZY\r\n    \t@ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name=&quot;strategy_id&quot;, nullable=false)\t//strategy_id will be the name of the foreign key in the backtest table that points to the primary key of the strategy table\r\n    \tStrategy strategy;\r\n\r\n  \r\nThe hibernate save() command creates and stores the data into the table correctly.  All columns match the Backtest properties, except of course, for the &quot;strategy&quot; property which is an object.  But hibernate also creates a foreign key called &quot;strategy_id&quot; in its place.  I suspect that reading the data back into the same @Entity Backtest is causing the serialization error.\r\n\r\n    @GetMapping(&quot;/backtests&quot;) \r\n    public JsonResponse getUserBacktests(@RequestParam int userId) {\r\n    \tList&lt;Backtest&gt; backtests = backtestService.getUserBacktests(userId);\r\n    \tJsonResponse response = new JsonResponse();\r\n    \tresponse.setStatus(&quot;success&quot;);\r\n    \tresponse.setData(backtests);\r\n    \treturn response;\r\n    }\r\nThis has to be a common problem. Is there a common solution?","title":"reading from database table into @Entity model produces &quot;no serializer found&quot; error","body":"<p>When I try to read from a database table into a  @Entity Backtest, I get the following error:</p>\n<pre><code>{&quot;timestamp&quot;:&quot;2021-01-13T00:42:52.516+00:00&quot;,&quot;message&quot;:&quot;Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: net.tekknow.moneymachine.model.JsonResponse[\\&quot;data\\&quot;]-&gt;java.util.ArrayList[0]-&gt;net.tekknow.moneymachine.model.Backtest[\\&quot;strategy\\&quot;]-&gt;net.tekknow.moneymachine.model.Strategy$HibernateProxy$NY2C2PBb[\\&quot;hibernateLazyInitializer\\&quot;])&quot;,&quot;details&quot;:&quot;uri=/api/v1/backtests&quot;}\n</code></pre>\n<p>The @Entity backtest contains a property &quot;Strategy strategy&quot;. From the error message, I'm guessing it doesn't like the &quot;strategy&quot; field which exists in the Backtest entity, but not in the corresponding mysql table.  All properties are public and contain getters and setters.</p>\n<pre><code>@Entity\n@Table(name=&quot;backtest&quot;)\npublic class Backtest {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY) \n    private Long id;\n    \n    @JsonManagedReference       //This prevents an &quot;infinite recursion&quot; error.  Might not need it anymore because I've since added FetchType.LAZY\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name=&quot;strategy_id&quot;, nullable=false) //strategy_id will be the name of the foreign key in the backtest table that points to the primary key of the strategy table\n    Strategy strategy;\n</code></pre>\n<p>The hibernate save() command creates and stores the data into the table correctly.  All columns match the Backtest properties, except of course, for the &quot;strategy&quot; property which is an object.  But hibernate also creates a foreign key called &quot;strategy_id&quot; in its place.  I suspect that reading the data back into the same @Entity Backtest is causing the serialization error.</p>\n<pre><code>@GetMapping(&quot;/backtests&quot;) \npublic JsonResponse getUserBacktests(@RequestParam int userId) {\n    List&lt;Backtest&gt; backtests = backtestService.getUserBacktests(userId);\n    JsonResponse response = new JsonResponse();\n    response.setStatus(&quot;success&quot;);\n    response.setData(backtests);\n    return response;\n}\n</code></pre>\n<p>This has to be a common problem. Is there a common solution?</p>\n"},{"tags":["java","hibernate","persistence","lazy-loading","many-to-one"],"answers":[{"tags":[],"owner":{"account_id":15379452,"reputation":91,"user_id":11095260,"display_name":"chrysaet0s"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1550844087,"creation_date":1550844087,"answer_id":54828752,"question_id":54828498,"body_markdown":"You already lazy load the parent class. Exception happens because you serialize Child objects before parents are loaded. To disable it you can annotate your Child class with that:\r\n`@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})`\r\n\r\nAfter that Parent will be ignored in serialization.","title":"FetchType.LAZY not working for @ManyToOne mapping in hibernate","body":"<p>You already lazy load the parent class. Exception happens because you serialize Child objects before parents are loaded. To disable it you can annotate your Child class with that:\n<code>@JsonIgnoreProperties({\"hibernateLazyInitializer\", \"handler\"})</code></p>\n\n<p>After that Parent will be ignored in serialization.</p>\n"}],"owner":{"account_id":15371706,"reputation":31,"user_id":11089568,"display_name":"Sajeel Bongale"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4814,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1649608349,"creation_date":1550843248,"question_id":54828498,"body_markdown":"Simply put I have a many to one relation on the Child class with the Parent class. I want to load all the children without having to load their parent details. \r\nMy child class is \r\n\r\n   \r\n    \r\n\r\n    @Entity\r\n\r\n    public class Child implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;parentId&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Parent parent;\r\n\r\n    public Child() {\r\n    }\r\n    // Getters and setters here\r\n    }\r\n\r\n\r\nMy parent class is\r\n\r\n    @Entity\r\n    public class Parent implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    public Parent() {\r\n    }\r\n    }\r\n\r\n\r\nI have a rest controller with which I want to fetch all the children without their parents\r\n\r\n    @GetMapping\r\n    public List&lt;Child&gt; getChildren() {\r\n        return childRepository.findAll();\r\n    }\r\n\r\nWhen i run this it throws\r\n\r\n   \r\n\r\n     {\r\n      &quot;timestamp&quot;: &quot;2019-02-22T13:45:31.219+0000&quot;,\r\n      &quot;status&quot;: 500,\r\n      &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n      &quot;message&quot;: &quot;Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]-&gt;com.example.attendance.models.Child[\\&quot;parent\\&quot;]-&gt;com.example.attendance.models.Parent$HibernateProxy$1QzJfFPz[\\&quot;hibernateLazyInitializer\\&quot;])&quot;,\r\n      &quot;trace&quot;: &quot;org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]-&gt;com.example.attendance.models.Child[\\&quot;parent\\&quot;]-&gt;com.example.attendance.models.Parent$HibernateProxy$1QzJfFPz[\\&quot;hibernateLazyInitializer\\&quot;])\\n\\tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:293)\\n\\tat org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:103)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:180)\r\n\r\nWhat do I change so that I can lazy load the parent class?\r\n\r\nThanks in advance.\r\n\r\n","title":"FetchType.LAZY not working for @ManyToOne mapping in hibernate","body":"<p>Simply put I have a many to one relation on the Child class with the Parent class. I want to load all the children without having to load their parent details. \nMy child class is </p>\n\n<pre><code>@Entity\n\npublic class Child implements Serializable {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\nprivate String name;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = \"parentId\", referencedColumnName = \"id\")\nprivate Parent parent;\n\npublic Child() {\n}\n// Getters and setters here\n}\n</code></pre>\n\n<p>My parent class is</p>\n\n<pre><code>@Entity\npublic class Parent implements Serializable {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\nprivate String name;\n\npublic Parent() {\n}\n}\n</code></pre>\n\n<p>I have a rest controller with which I want to fetch all the children without their parents</p>\n\n<pre><code>@GetMapping\npublic List&lt;Child&gt; getChildren() {\n    return childRepository.findAll();\n}\n</code></pre>\n\n<p>When i run this it throws</p>\n\n<pre><code> {\n  \"timestamp\": \"2019-02-22T13:45:31.219+0000\",\n  \"status\": 500,\n  \"error\": \"Internal Server Error\",\n  \"message\": \"Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]-&gt;com.example.attendance.models.Child[\\\"parent\\\"]-&gt;com.example.attendance.models.Parent$HibernateProxy$1QzJfFPz[\\\"hibernateLazyInitializer\\\"])\",\n  \"trace\": \"org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]-&gt;com.example.attendance.models.Child[\\\"parent\\\"]-&gt;com.example.attendance.models.Parent$HibernateProxy$1QzJfFPz[\\\"hibernateLazyInitializer\\\"])\\n\\tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:293)\\n\\tat org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:103)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:180)\n</code></pre>\n\n<p>What do I change so that I can lazy load the parent class?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","canvas","javafx","colors"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1649608167,"creation_date":1502761235,"answer_id":45685372,"question_id":45685190,"body_markdown":"A [`Canvas`][1] buffers the drawing _instructions_ prescribed by invoking the methods of a [`GraphicsContext`][2]. There _are_ no pixels to read until the `Canvas` is rendered in a later [pulse][2], and the internal format of the instruction buffer is not exposed in the API.\r\n\r\nIf a [`snapshot()`][3] of the `Canvas` is feasible, a rendered pixel may be examined using the resulting image&#39;s `PixelReader`.\r\n\r\n    int aRGB = image.getPixelReader().getArgb(x, y);\r\n\r\nThis [example][4] focuses on a single pixel. This [example][5] displays the ARGB `BlendMode` result in a `TextField` and a `Tooltip` as the mouse moves on the `Canvas`. More examples may be found [here][6].\r\n\r\nAs an alternative, consider drawing into a [`BufferedImage`][7], illustrated [here][8], which allows access to the image&#39;s pixels directly and via its [`WritableRaster`][9]. Adding the following line to this complete [example][8] outputs the expected value for opaque red in ARGB order: `ffff0000`.\r\n\r\n    System.out.println(Integer.toHexString(bi.getRGB(50, 550)));\r\n\r\n![image][10]\r\n\r\n  [1]: https://docs.oracle.com/javase/8/javafx/api/javafx/scene/canvas/Canvas.html\r\n  [2]: https://docs.oracle.com/javase/8/javafx/get-started-tutorial/jfx-architecture.htm#JFXST108\r\n  [3]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Node.html#snapshot(javafx.util.Callback,javafx.scene.SnapshotParameters,javafx.scene.image.WritableImage)\r\n  [4]: https://stackoverflow.com/a/49407175/230513\r\n  [5]: https://github.com/trashgod/modular#blend-mode-application\r\n  [6]: https://stackoverflow.com/search?q=%5Bjavafx%5D%20snapshot%20canvas\r\n  [7]: https://docs.oracle.com/javase/8/docs/api/java/awt/image/BufferedImage.html\r\n  [8]: https://stackoverflow.com/a/44141878/230513\r\n  [9]: https://docs.oracle.com/javase/8/docs/api/java/awt/image/WritableRaster.html\r\n  [10]: https://i.stack.imgur.com/8X8ti.png","title":"What is the best way to read pixels of a JavaFX Canvas?","body":"<p>A <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/canvas/Canvas.html\" rel=\"nofollow noreferrer\"><code>Canvas</code></a> buffers the drawing <em>instructions</em> prescribed by invoking the methods of a <a href=\"https://docs.oracle.com/javase/8/javafx/get-started-tutorial/jfx-architecture.htm#JFXST108\" rel=\"nofollow noreferrer\"><code>GraphicsContext</code></a>. There <em>are</em> no pixels to read until the <code>Canvas</code> is rendered in a later <a href=\"https://docs.oracle.com/javase/8/javafx/get-started-tutorial/jfx-architecture.htm#JFXST108\" rel=\"nofollow noreferrer\">pulse</a>, and the internal format of the instruction buffer is not exposed in the API.</p>\n<p>If a <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Node.html#snapshot(javafx.util.Callback,javafx.scene.SnapshotParameters,javafx.scene.image.WritableImage)\" rel=\"nofollow noreferrer\"><code>snapshot()</code></a> of the <code>Canvas</code> is feasible, a rendered pixel may be examined using the resulting image's <code>PixelReader</code>.</p>\n<pre><code>int aRGB = image.getPixelReader().getArgb(x, y);\n</code></pre>\n<p>This <a href=\"https://stackoverflow.com/a/49407175/230513\">example</a> focuses on a single pixel. This <a href=\"https://github.com/trashgod/modular#blend-mode-application\" rel=\"nofollow noreferrer\">example</a> displays the ARGB <code>BlendMode</code> result in a <code>TextField</code> and a <code>Tooltip</code> as the mouse moves on the <code>Canvas</code>. More examples may be found <a href=\"https://stackoverflow.com/search?q=%5Bjavafx%5D%20snapshot%20canvas\">here</a>.</p>\n<p>As an alternative, consider drawing into a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/image/BufferedImage.html\" rel=\"nofollow noreferrer\"><code>BufferedImage</code></a>, illustrated <a href=\"https://stackoverflow.com/a/44141878/230513\">here</a>, which allows access to the image's pixels directly and via its <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/image/WritableRaster.html\" rel=\"nofollow noreferrer\"><code>WritableRaster</code></a>. Adding the following line to this complete <a href=\"https://stackoverflow.com/a/44141878/230513\">example</a> outputs the expected value for opaque red in ARGB order: <code>ffff0000</code>.</p>\n<pre><code>System.out.println(Integer.toHexString(bi.getRGB(50, 550)));\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/8X8ti.png\" alt=\"image\" /></p>\n"},{"tags":[],"owner":{"account_id":13193047,"reputation":1,"user_id":9528804,"display_name":"Petr"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1521637694,"creation_date":1521637694,"answer_id":49407175,"question_id":45685190,"body_markdown":"    public class Pixel\r\n    {\r\n        private static final SnapshotParameters SP = new SnapshotParameters();\r\n        private static final WritableImage WI = new WritableImage(1, 1);\r\n        private static final PixelReader PR = WI.getPixelReader();\r\n\r\n        private Pixel()\r\n        {\r\n        }\r\n    \r\n        public static int getArgb(Node n, double x, double y)\r\n        {\r\n            synchronized (WI)\r\n            {\r\n                Rectangle2D r = new Rectangle2D(x, y, 1, 1);\r\n                SP.setViewport(r);\r\n                n.snapshot(SP, WI);\r\n               return PR.getArgb(0, 0);\r\n            }\r\n        }\r\n    \r\n        public static Color getColor(Node n, double x, double y)\r\n        {\r\n            synchronized (WI)\r\n            {\r\n                Rectangle2D r = new Rectangle2D(x, y, 1, 1);\r\n                SP.setViewport(r);\r\n                n.snapshot(SP, WI);\r\n                return PR.getColor(0, 0);\r\n            }\r\n        }\r\n    }\r\n","title":"What is the best way to read pixels of a JavaFX Canvas?","body":"<pre><code>public class Pixel\n{\n    private static final SnapshotParameters SP = new SnapshotParameters();\n    private static final WritableImage WI = new WritableImage(1, 1);\n    private static final PixelReader PR = WI.getPixelReader();\n\n    private Pixel()\n    {\n    }\n\n    public static int getArgb(Node n, double x, double y)\n    {\n        synchronized (WI)\n        {\n            Rectangle2D r = new Rectangle2D(x, y, 1, 1);\n            SP.setViewport(r);\n            n.snapshot(SP, WI);\n           return PR.getArgb(0, 0);\n        }\n    }\n\n    public static Color getColor(Node n, double x, double y)\n    {\n        synchronized (WI)\n        {\n            Rectangle2D r = new Rectangle2D(x, y, 1, 1);\n            SP.setViewport(r);\n            n.snapshot(SP, WI);\n            return PR.getColor(0, 0);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11552654,"reputation":33,"user_id":8464730,"display_name":"V. Castillo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4331,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":45685372,"answer_count":2,"score":3,"last_activity_date":1649608167,"creation_date":1502759716,"question_id":45685190,"body_markdown":"I want to get the color for specific coordinates inside a `Canvas`. I already tried getting a snapshot using this code:\r\n\r\n    WritableImage snap = gc.getCanvas().snapshot(null, null);\r\n    snap.getPixelReader().getArgb(x, y); //This just gets the color without assigning it.\r\n\r\nBut it just takes too much time for my application. I was wondering if there is any other way to access the color of a pixel for which I know the coordinates.\r\n","title":"What is the best way to read pixels of a JavaFX Canvas?","body":"<p>I want to get the color for specific coordinates inside a <code>Canvas</code>. I already tried getting a snapshot using this code:</p>\n\n<pre><code>WritableImage snap = gc.getCanvas().snapshot(null, null);\nsnap.getPixelReader().getArgb(x, y); //This just gets the color without assigning it.\n</code></pre>\n\n<p>But it just takes too much time for my application. I was wondering if there is any other way to access the color of a pixel for which I know the coordinates.</p>\n"},{"tags":["java","android","kotlin","android-fragments"],"comments":[{"owner":{"account_id":13464558,"reputation":8533,"user_id":9715339,"display_name":"Mayur Gajra"},"score":0,"creation_date":1649595383,"post_id":71815621,"comment_id":126910372,"body_markdown":"What are you using as a `container` ? Can you please post your code for `activity_main`?","body":"What are you using as a <code>container</code> ? Can you please post your code for <code>activity_main</code>?"},{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":0,"creation_date":1649599123,"post_id":71815621,"comment_id":126911148,"body_markdown":"Regarding your comment on the now-deleted answer: please use the &quot;Flag&quot; option to report plagiarism to moderators, we&#39;re always quite interested in hearing about it. :-)","body":"Regarding your comment on the now-deleted answer: please use the &quot;Flag&quot; option to report plagiarism to moderators, we&#39;re always quite interested in hearing about it. :-)"},{"owner":{"account_id":12601487,"reputation":304,"user_id":9164064,"display_name":"chris"},"score":0,"creation_date":1649604050,"post_id":71815621,"comment_id":126912427,"body_markdown":"@MayurGajra updated with main_activity code","body":"@MayurGajra updated with main_activity code"}],"answers":[{"tags":[],"owner":{"account_id":16582962,"reputation":3261,"user_id":11983124,"display_name":"Praveen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649608020,"creation_date":1649607657,"answer_id":71818445,"question_id":71815621,"body_markdown":"&gt; after I call add but the screen still showing the first fragment\r\n\r\nYou are using a `LinearLayout` as a container of the fragments. When your fragments are getting added, they are going out of the screen as they are getting added vertically below the first fragment. That&#39;s why you are always seeing your first fragment on the screen. \r\n\r\nYou should use a `FrameLayout` as a container, so you can see your last transacted fragment on the screen.\r\n\r\n&gt; why is the backstack count is still 0 once first fragment is added\r\n\r\n`commit()` method is asynchronous, so when you update `fragment_stack_count` text, the backstack count is still not increased as fragment transactions are not yet completed, and the fragment is still not get added to the backstack.\r\n\r\nAn excerpt from the Android doc\r\n&gt; Calling commit() doesn&#39;t perform the transaction immediately. Rather, the transaction is scheduled to run on the main UI thread as soon as it is able to do so.\r\n\r\nYou can read more about it on documentation of [fragment transactions][1]\r\n\r\n\r\n  [1]: https://developer.android.com/guide/fragments/transactions","title":"call add() twice with different fragment","body":"<blockquote>\n<p>after I call add but the screen still showing the first fragment</p>\n</blockquote>\n<p>You are using a <code>LinearLayout</code> as a container of the fragments. When your fragments are getting added, they are going out of the screen as they are getting added vertically below the first fragment. That's why you are always seeing your first fragment on the screen.</p>\n<p>You should use a <code>FrameLayout</code> as a container, so you can see your last transacted fragment on the screen.</p>\n<blockquote>\n<p>why is the backstack count is still 0 once first fragment is added</p>\n</blockquote>\n<p><code>commit()</code> method is asynchronous, so when you update <code>fragment_stack_count</code> text, the backstack count is still not increased as fragment transactions are not yet completed, and the fragment is still not get added to the backstack.</p>\n<p>An excerpt from the Android doc</p>\n<blockquote>\n<p>Calling commit() doesn't perform the transaction immediately. Rather, the transaction is scheduled to run on the main UI thread as soon as it is able to do so.</p>\n</blockquote>\n<p>You can read more about it on documentation of <a href=\"https://developer.android.com/guide/fragments/transactions\" rel=\"nofollow noreferrer\">fragment transactions</a></p>\n"}],"owner":{"account_id":12601487,"reputation":304,"user_id":9164064,"display_name":"chris"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71818445,"answer_count":1,"score":0,"last_activity_date":1649608020,"creation_date":1649585697,"question_id":71815621,"body_markdown":"I am trying to learn more about fragments. I read that it doesn&#39;t have an implicit stack that will handle onBackPress() like activities do so we need to add it to an explicit stack. \r\n\r\nMy question is can we call add() function more then once or we need to call replace() once the first fragment is added.\r\n\r\nHere i am calling add() on ***FragmentA*** then calling add() on ***FragmentB***. The fragment backstack count is being increased after i call add but the screen still showing the first fragment i.e, ***FragmentA***.\r\n\r\n```\r\nclass MainActivity : AppCompatActivity() {\r\n\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        fragment_stack_count.text = supportFragmentManager.backStackEntryCount.toString()\r\n\r\n\r\n\r\n        add_a.setOnClickListener { it\r\n            addFragmentA()\r\n        }\r\n\r\n        add_b.setOnClickListener {\r\n            addFragmentB()\r\n        }\r\n    }\r\n\r\n    fun addFragmentA() {\r\n        val fragA = FragmentA()\r\n        supportFragmentManager.beginTransaction().add(R.id.container, fragA).addToBackStack(&quot;A&quot;).commit()\r\n        fragment_stack_count.text = supportFragmentManager.backStackEntryCount.toString()\r\n\r\n    }\r\n\r\n    fun addFragmentB() {\r\n        val fragB = FragmentB()\r\n        supportFragmentManager.beginTransaction().add(R.id.container, fragB).addToBackStack(&quot;B&quot;).commit()\r\n        fragment_stack_count.text = supportFragmentManager.backStackEntryCount.toString()\r\n    }\r\n\r\n    \r\n}\r\n```\r\n\r\nalso why is the backstack count is still 0 once first fragment is added.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DG8vF.png\r\n\r\n\r\nHere is the main activity \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#D8EFFA&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/container&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_margin=&quot;12dp&quot;\r\n        android:background=&quot;@color/white&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHeight_percent=&quot;0.8&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/fragment_stack_count&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;0&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/add_a&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;ADD A&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@+id/add_b&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/container&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/add_b&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;ADD B&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@+id/add_a&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/container&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```","title":"call add() twice with different fragment","body":"<p>I am trying to learn more about fragments. I read that it doesn't have an implicit stack that will handle onBackPress() like activities do so we need to add it to an explicit stack.</p>\n<p>My question is can we call add() function more then once or we need to call replace() once the first fragment is added.</p>\n<p>Here i am calling add() on <em><strong>FragmentA</strong></em> then calling add() on <em><strong>FragmentB</strong></em>. The fragment backstack count is being increased after i call add but the screen still showing the first fragment i.e, <em><strong>FragmentA</strong></em>.</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        fragment_stack_count.text = supportFragmentManager.backStackEntryCount.toString()\n\n\n\n        add_a.setOnClickListener { it\n            addFragmentA()\n        }\n\n        add_b.setOnClickListener {\n            addFragmentB()\n        }\n    }\n\n    fun addFragmentA() {\n        val fragA = FragmentA()\n        supportFragmentManager.beginTransaction().add(R.id.container, fragA).addToBackStack(&quot;A&quot;).commit()\n        fragment_stack_count.text = supportFragmentManager.backStackEntryCount.toString()\n\n    }\n\n    fun addFragmentB() {\n        val fragB = FragmentB()\n        supportFragmentManager.beginTransaction().add(R.id.container, fragB).addToBackStack(&quot;B&quot;).commit()\n        fragment_stack_count.text = supportFragmentManager.backStackEntryCount.toString()\n    }\n\n    \n}\n</code></pre>\n<p>also why is the backstack count is still 0 once first fragment is added.</p>\n<p><a href=\"https://i.stack.imgur.com/DG8vF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DG8vF.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the main activity</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#D8EFFA&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/container&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_margin=&quot;12dp&quot;\n        android:background=&quot;@color/white&quot;\n        android:orientation=&quot;vertical&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHeight_percent=&quot;0.8&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n    &lt;/LinearLayout&gt;\n\n\n    &lt;TextView\n        android:id=&quot;@+id/fragment_stack_count&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;0&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/add_a&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;ADD A&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/add_b&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/container&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/add_b&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;ADD B&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@+id/add_a&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/container&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","drawing","line","java-2d"],"answers":[{"tags":[],"owner":{"account_id":1146,"reputation":49086,"user_id":1527,"accept_rate":92,"display_name":"Pete Kirkham"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1262958856,"creation_date":1262955363,"answer_id":2027641,"question_id":2027613,"body_markdown":"The bevel is drawn between segments in a polyline if they are at certain angles. It has no bearing if you are drawing a line which happens to be drawn near some other pixels which are of a certain colour - once you&#39;ve drawn the rectangle, the Graphics object doesn&#39;t know about the rectangle, it (in effect) only holds the pixels. ( or rather the image or OS window holds the pixels ).\r\n\r\nTo draw a simple arrow, draw a line for the stalk as you&#39;re doing, then a polyline for the vee. Nicer looking nicer arrows have curved sides and are filled.\r\n\r\nYou probably don&#39;t want to use bevel for the arrow head, as bevels are a flat; instead use the mitre option:\r\n\r\n    import java.awt.*;\r\n    import java.awt.geom.*;\r\n    import javax.swing.*;\r\n\r\n    public class BevelArrows\r\n    {\r\n        public static void main ( String...args )\r\n        {\r\n            SwingUtilities.invokeLater ( new Runnable () {\r\n                BevelArrows arrows = new BevelArrows();\r\n\r\n                @Override\r\n                public void run () {\r\n                    JFrame frame = new JFrame ( &quot;Bevel Arrows&quot; );\r\n\r\n                    frame.add ( new JPanel() {\r\n                        public void paintComponent ( Graphics g ) {\r\n                            arrows.draw ( ( Graphics2D ) g, getWidth(), getHeight() );\r\n                        }\r\n                    }\r\n                    , BorderLayout.CENTER );\r\n\r\n                    frame.setSize ( 800, 400 );\r\n                    frame.setDefaultCloseOperation ( JFrame.EXIT_ON_CLOSE );\r\n                    frame.setVisible ( true );\r\n                }\r\n            } );\r\n        }\r\n\r\n        interface Arrow {\r\n            void draw ( Graphics2D g );\r\n        }\r\n\r\n        Arrow[] arrows = { new LineArrow(), new CurvedArrow() };\r\n\r\n        void draw ( Graphics2D g, int width, int height )\r\n        {\r\n            g.setRenderingHint ( RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON );\r\n\r\n            g.setColor ( Color.WHITE );\r\n            g.fillRect ( 0, 0, width, height );\r\n\r\n            for ( Arrow arrow : arrows ) {\r\n                g.setColor ( Color.ORANGE );\r\n                g.fillRect ( 350, 20, 20, 280 );\r\n\r\n                g.setStroke ( new BasicStroke ( 20.0f, BasicStroke.CAP_BUTT, BasicStroke.JOIN_BEVEL ) );\r\n                g.translate ( 0, 60 );\r\n                arrow.draw ( g );\r\n\r\n                g.setStroke ( new BasicStroke ( 20.0f, BasicStroke.CAP_BUTT, BasicStroke.JOIN_MITER ) );\r\n                g.translate ( 0, 100 );\r\n                arrow.draw ( g );\r\n\r\n                g.setStroke ( new BasicStroke ( 20.0f, BasicStroke.CAP_BUTT, BasicStroke.JOIN_ROUND ) );\r\n                g.translate ( 0, 100 );\r\n                arrow.draw ( g );\r\n\r\n                g.translate ( 400, -260 );\r\n            }\r\n        }\r\n\r\n        static class LineArrow  implements Arrow\r\n        {\r\n            public void draw ( Graphics2D g )\r\n            {\r\n                // where the control point for the intersection of the V needs calculating\r\n                // by projecting where the ends meet\r\n\r\n                float arrowRatio = 0.5f;\r\n                float arrowLength = 80.0f;\r\n\r\n                BasicStroke stroke = ( BasicStroke ) g.getStroke();\r\n\r\n                float endX = 350.0f;\r\n\r\n                float veeX;\r\n\r\n                switch ( stroke.getLineJoin() ) {\r\n                    case BasicStroke.JOIN_BEVEL:\r\n                        // IIRC, bevel varies system to system, this is approximate\r\n                        veeX = endX - stroke.getLineWidth() * 0.25f;\r\n                        break;\r\n                    default:\r\n                    case BasicStroke.JOIN_MITER:\r\n                        veeX = endX - stroke.getLineWidth() * 0.5f / arrowRatio;\r\n                        break;\r\n                    case BasicStroke.JOIN_ROUND:\r\n                        veeX = endX - stroke.getLineWidth() * 0.5f;\r\n                        break;\r\n                }\r\n\r\n                // vee\r\n                Path2D.Float path = new Path2D.Float();\r\n\r\n                path.moveTo ( veeX - arrowLength, -arrowRatio*arrowLength );\r\n                path.lineTo ( veeX, 0.0f );\r\n                path.lineTo ( veeX - arrowLength, arrowRatio*arrowLength );\r\n\r\n                g.setColor ( Color.BLUE );\r\n                g.draw ( path );\r\n\r\n                // stem for exposition only\r\n                g.setColor ( Color.YELLOW );\r\n                g.draw ( new Line2D.Float ( 50.0f, 0.0f, veeX, 0.0f ) );\r\n\r\n                // in practice, move stem back a bit as rounding errors\r\n                // can make it poke through the sides of the Vee\r\n                g.setColor ( Color.RED );\r\n                g.draw ( new Line2D.Float ( 50.0f, 0.0f, veeX - stroke.getLineWidth() * 0.25f, 0.0f ) );\r\n            }\r\n        }\r\n\r\n        static class CurvedArrow  implements Arrow\r\n        {\r\n            // to draw a nice curved arrow, fill a V shape rather than stroking it with lines\r\n            public void draw ( Graphics2D g )\r\n            {\r\n                // as we&#39;re filling rather than stroking, control point is at the apex,\r\n\r\n                float arrowRatio = 0.5f;\r\n                float arrowLength = 80.0f;\r\n\r\n                BasicStroke stroke = ( BasicStroke ) g.getStroke();\r\n\r\n                float endX = 350.0f;\r\n\r\n                float veeX = endX - stroke.getLineWidth() * 0.5f / arrowRatio;\r\n\r\n                // vee\r\n                Path2D.Float path = new Path2D.Float();\r\n\r\n                float waisting = 0.5f;\r\n\r\n                float waistX = endX - arrowLength * 0.5f;\r\n                float waistY = arrowRatio * arrowLength * 0.5f * waisting;\r\n                float arrowWidth = arrowRatio * arrowLength;\r\n\r\n                path.moveTo ( veeX - arrowLength, -arrowWidth );\r\n                path.quadTo ( waistX, -waistY, endX, 0.0f );\r\n                path.quadTo ( waistX, waistY, veeX - arrowLength, arrowWidth );\r\n\r\n                // end of arrow is pinched in\r\n                path.lineTo ( veeX - arrowLength * 0.75f, 0.0f );\r\n                path.lineTo ( veeX - arrowLength, -arrowWidth );\r\n\r\n                g.setColor ( Color.BLUE );\r\n                g.fill ( path );\r\n\r\n                // move stem back a bit\r\n                g.setColor ( Color.RED );\r\n                g.draw ( new Line2D.Float ( 50.0f, 0.0f, veeX - arrowLength * 0.5f, 0.0f ) );\r\n            }\r\n        }\r\n    }\r\n","title":"How to draw a directed arrow line in Java?","body":"<p>The bevel is drawn between segments in a polyline if they are at certain angles. It has no bearing if you are drawing a line which happens to be drawn near some other pixels which are of a certain colour - once you've drawn the rectangle, the Graphics object doesn't know about the rectangle, it (in effect) only holds the pixels. ( or rather the image or OS window holds the pixels ).</p>\n\n<p>To draw a simple arrow, draw a line for the stalk as you're doing, then a polyline for the vee. Nicer looking nicer arrows have curved sides and are filled.</p>\n\n<p>You probably don't want to use bevel for the arrow head, as bevels are a flat; instead use the mitre option:</p>\n\n<pre><code>import java.awt.*;\nimport java.awt.geom.*;\nimport javax.swing.*;\n\npublic class BevelArrows\n{\n    public static void main ( String...args )\n    {\n        SwingUtilities.invokeLater ( new Runnable () {\n            BevelArrows arrows = new BevelArrows();\n\n            @Override\n            public void run () {\n                JFrame frame = new JFrame ( \"Bevel Arrows\" );\n\n                frame.add ( new JPanel() {\n                    public void paintComponent ( Graphics g ) {\n                        arrows.draw ( ( Graphics2D ) g, getWidth(), getHeight() );\n                    }\n                }\n                , BorderLayout.CENTER );\n\n                frame.setSize ( 800, 400 );\n                frame.setDefaultCloseOperation ( JFrame.EXIT_ON_CLOSE );\n                frame.setVisible ( true );\n            }\n        } );\n    }\n\n    interface Arrow {\n        void draw ( Graphics2D g );\n    }\n\n    Arrow[] arrows = { new LineArrow(), new CurvedArrow() };\n\n    void draw ( Graphics2D g, int width, int height )\n    {\n        g.setRenderingHint ( RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON );\n\n        g.setColor ( Color.WHITE );\n        g.fillRect ( 0, 0, width, height );\n\n        for ( Arrow arrow : arrows ) {\n            g.setColor ( Color.ORANGE );\n            g.fillRect ( 350, 20, 20, 280 );\n\n            g.setStroke ( new BasicStroke ( 20.0f, BasicStroke.CAP_BUTT, BasicStroke.JOIN_BEVEL ) );\n            g.translate ( 0, 60 );\n            arrow.draw ( g );\n\n            g.setStroke ( new BasicStroke ( 20.0f, BasicStroke.CAP_BUTT, BasicStroke.JOIN_MITER ) );\n            g.translate ( 0, 100 );\n            arrow.draw ( g );\n\n            g.setStroke ( new BasicStroke ( 20.0f, BasicStroke.CAP_BUTT, BasicStroke.JOIN_ROUND ) );\n            g.translate ( 0, 100 );\n            arrow.draw ( g );\n\n            g.translate ( 400, -260 );\n        }\n    }\n\n    static class LineArrow  implements Arrow\n    {\n        public void draw ( Graphics2D g )\n        {\n            // where the control point for the intersection of the V needs calculating\n            // by projecting where the ends meet\n\n            float arrowRatio = 0.5f;\n            float arrowLength = 80.0f;\n\n            BasicStroke stroke = ( BasicStroke ) g.getStroke();\n\n            float endX = 350.0f;\n\n            float veeX;\n\n            switch ( stroke.getLineJoin() ) {\n                case BasicStroke.JOIN_BEVEL:\n                    // IIRC, bevel varies system to system, this is approximate\n                    veeX = endX - stroke.getLineWidth() * 0.25f;\n                    break;\n                default:\n                case BasicStroke.JOIN_MITER:\n                    veeX = endX - stroke.getLineWidth() * 0.5f / arrowRatio;\n                    break;\n                case BasicStroke.JOIN_ROUND:\n                    veeX = endX - stroke.getLineWidth() * 0.5f;\n                    break;\n            }\n\n            // vee\n            Path2D.Float path = new Path2D.Float();\n\n            path.moveTo ( veeX - arrowLength, -arrowRatio*arrowLength );\n            path.lineTo ( veeX, 0.0f );\n            path.lineTo ( veeX - arrowLength, arrowRatio*arrowLength );\n\n            g.setColor ( Color.BLUE );\n            g.draw ( path );\n\n            // stem for exposition only\n            g.setColor ( Color.YELLOW );\n            g.draw ( new Line2D.Float ( 50.0f, 0.0f, veeX, 0.0f ) );\n\n            // in practice, move stem back a bit as rounding errors\n            // can make it poke through the sides of the Vee\n            g.setColor ( Color.RED );\n            g.draw ( new Line2D.Float ( 50.0f, 0.0f, veeX - stroke.getLineWidth() * 0.25f, 0.0f ) );\n        }\n    }\n\n    static class CurvedArrow  implements Arrow\n    {\n        // to draw a nice curved arrow, fill a V shape rather than stroking it with lines\n        public void draw ( Graphics2D g )\n        {\n            // as we're filling rather than stroking, control point is at the apex,\n\n            float arrowRatio = 0.5f;\n            float arrowLength = 80.0f;\n\n            BasicStroke stroke = ( BasicStroke ) g.getStroke();\n\n            float endX = 350.0f;\n\n            float veeX = endX - stroke.getLineWidth() * 0.5f / arrowRatio;\n\n            // vee\n            Path2D.Float path = new Path2D.Float();\n\n            float waisting = 0.5f;\n\n            float waistX = endX - arrowLength * 0.5f;\n            float waistY = arrowRatio * arrowLength * 0.5f * waisting;\n            float arrowWidth = arrowRatio * arrowLength;\n\n            path.moveTo ( veeX - arrowLength, -arrowWidth );\n            path.quadTo ( waistX, -waistY, endX, 0.0f );\n            path.quadTo ( waistX, waistY, veeX - arrowLength, arrowWidth );\n\n            // end of arrow is pinched in\n            path.lineTo ( veeX - arrowLength * 0.75f, 0.0f );\n            path.lineTo ( veeX - arrowLength, -arrowWidth );\n\n            g.setColor ( Color.BLUE );\n            g.fill ( path );\n\n            // move stem back a bit\n            g.setColor ( Color.RED );\n            g.draw ( new Line2D.Float ( 50.0f, 0.0f, veeX - arrowLength * 0.5f, 0.0f ) );\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":153778,"reputation":887,"user_id":369278,"display_name":"Vicente Reig"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1277236370,"creation_date":1277222980,"answer_id":3094933,"question_id":2027613,"body_markdown":"Although Pete&#39;s post is awesomely comprehensive, I&#39;m using this method to draw a very simple line with a little triangle at its end.\r\n\r\n    // create an AffineTransform \r\n    // and a triangle centered on (0,0) and pointing downward\r\n    // somewhere outside Swing&#39;s paint loop\r\n    AffineTransform tx = new AffineTransform();\r\n    Line2D.Double line = new Line2D.Double(0,0,100,100);\r\n\r\n    Polygon arrowHead = new Polygon();  \r\n    arrowHead.addPoint( 0,5);\r\n    arrowHead.addPoint( -5, -5);\r\n    arrowHead.addPoint( 5,-5);\r\n\r\n    // [...]\r\n    private void drawArrowHead(Graphics2D g2d) {  \r\n        tx.setToIdentity();\r\n        double angle = Math.atan2(line.y2-line.y1, line.x2-line.x1);\r\n        tx.translate(line.x2, line.y2);\r\n        tx.rotate((angle-Math.PI/2d));  \r\n    \r\n        Graphics2D g = (Graphics2D) g2d.create();\r\n        g.setTransform(tx);   \r\n        g.fill(arrowHead);\r\n        g.dispose();\r\n    }\r\n","title":"How to draw a directed arrow line in Java?","body":"<p>Although Pete's post is awesomely comprehensive, I'm using this method to draw a very simple line with a little triangle at its end.</p>\n\n<pre><code>// create an AffineTransform \n// and a triangle centered on (0,0) and pointing downward\n// somewhere outside Swing's paint loop\nAffineTransform tx = new AffineTransform();\nLine2D.Double line = new Line2D.Double(0,0,100,100);\n\nPolygon arrowHead = new Polygon();  \narrowHead.addPoint( 0,5);\narrowHead.addPoint( -5, -5);\narrowHead.addPoint( 5,-5);\n\n// [...]\nprivate void drawArrowHead(Graphics2D g2d) {  \n    tx.setToIdentity();\n    double angle = Math.atan2(line.y2-line.y1, line.x2-line.x1);\n    tx.translate(line.x2, line.y2);\n    tx.rotate((angle-Math.PI/2d));  \n\n    Graphics2D g = (Graphics2D) g2d.create();\n    g.setTransform(tx);   \n    g.fill(arrowHead);\n    g.dispose();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":345518,"reputation":8442,"user_id":678505,"accept_rate":100,"display_name":"Michael Zlatkovsky - Microsoft"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1301183946,"creation_date":1301183946,"answer_id":5446247,"question_id":2027613,"body_markdown":"In the past, I&#39;ve written the following method to create an an arrow shape, which I can then fill with ((Graphics2D) g).fill(shape);\r\n\r\n\r\n    public static Shape createArrowShape(Point fromPt, Point toPt) {\r\n\t\tPolygon arrowPolygon = new Polygon();\r\n\t\tarrowPolygon.addPoint(-6,1);\r\n\t\tarrowPolygon.addPoint(3,1);\r\n\t\tarrowPolygon.addPoint(3,3);\r\n\t\tarrowPolygon.addPoint(6,0);\r\n\t\tarrowPolygon.addPoint(3,-3);\r\n\t\tarrowPolygon.addPoint(3,-1);\r\n\t\tarrowPolygon.addPoint(-6,-1);\r\n\t\t\r\n\t\t\r\n\t\tPoint midPoint = midpoint(fromPt, toPt);\r\n\t\t\r\n\t\tdouble rotate = Math.atan2(toPt.y - fromPt.y, toPt.x - fromPt.x);\r\n\t\t\r\n\t\tAffineTransform transform = new AffineTransform();\r\n\t\ttransform.translate(midPoint.x, midPoint.y);\r\n\t\tdouble ptDistance = fromPt.distance(toPt);\r\n\t\tdouble scale = ptDistance / 12.0; // 12 because it&#39;s the length of the arrow polygon.\r\n\t\ttransform.scale(scale, scale);\r\n\t\ttransform.rotate(rotate);\r\n\t\t\r\n\t\treturn transform.createTransformedShape(arrowPolygon);\r\n\t}\r\n\r\n\tprivate static Point midpoint(Point p1, Point p2) {\r\n\t\treturn new Point((int)((p1.x + p2.x)/2.0), \r\n\t\t\t\t         (int)((p1.y + p2.y)/2.0));\r\n\t}","title":"How to draw a directed arrow line in Java?","body":"<p>In the past, I've written the following method to create an an arrow shape, which I can then fill with ((Graphics2D) g).fill(shape);</p>\n\n<pre><code>public static Shape createArrowShape(Point fromPt, Point toPt) {\n    Polygon arrowPolygon = new Polygon();\n    arrowPolygon.addPoint(-6,1);\n    arrowPolygon.addPoint(3,1);\n    arrowPolygon.addPoint(3,3);\n    arrowPolygon.addPoint(6,0);\n    arrowPolygon.addPoint(3,-3);\n    arrowPolygon.addPoint(3,-1);\n    arrowPolygon.addPoint(-6,-1);\n\n\n    Point midPoint = midpoint(fromPt, toPt);\n\n    double rotate = Math.atan2(toPt.y - fromPt.y, toPt.x - fromPt.x);\n\n    AffineTransform transform = new AffineTransform();\n    transform.translate(midPoint.x, midPoint.y);\n    double ptDistance = fromPt.distance(toPt);\n    double scale = ptDistance / 12.0; // 12 because it's the length of the arrow polygon.\n    transform.scale(scale, scale);\n    transform.rotate(rotate);\n\n    return transform.createTransformedShape(arrowPolygon);\n}\n\nprivate static Point midpoint(Point p1, Point p2) {\n    return new Point((int)((p1.x + p2.x)/2.0), \n                     (int)((p1.y + p2.y)/2.0));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2850210,"reputation":2240,"user_id":2447581,"accept_rate":78,"display_name":"phibao37"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1508750402,"creation_date":1418489975,"answer_id":27461352,"question_id":2027613,"body_markdown":"This is my approach, absolute Math only:\r\n\r\n    /**\r\n     * Draw an arrow line between two points.\r\n     * @param g the graphics component.\r\n     * @param x1 x-position of first point.\r\n     * @param y1 y-position of first point.\r\n     * @param x2 x-position of second point.\r\n     * @param y2 y-position of second point.\r\n     * @param d  the width of the arrow.\r\n     * @param h  the height of the arrow.\r\n     */\r\n    private void drawArrowLine(Graphics g, int x1, int y1, int x2, int y2, int d, int h) {\r\n        int dx = x2 - x1, dy = y2 - y1;\r\n        double D = Math.sqrt(dx*dx + dy*dy);\r\n        double xm = D - d, xn = xm, ym = h, yn = -h, x;\r\n        double sin = dy / D, cos = dx / D;\r\n    \r\n        x = xm*cos - ym*sin + x1;\r\n        ym = xm*sin + ym*cos + y1;\r\n        xm = x;\r\n    \r\n        x = xn*cos - yn*sin + x1;\r\n        yn = xn*sin + yn*cos + y1;\r\n        xn = x;\r\n    \r\n        int[] xpoints = {x2, (int) xm, (int) xn};\r\n        int[] ypoints = {y2, (int) ym, (int) yn};\r\n    \r\n        g.drawLine(x1, y1, x2, y2);\r\n        g.fillPolygon(xpoints, ypoints, 3);\r\n    }","title":"How to draw a directed arrow line in Java?","body":"<p>This is my approach, absolute Math only:</p>\n\n<pre><code>/**\n * Draw an arrow line between two points.\n * @param g the graphics component.\n * @param x1 x-position of first point.\n * @param y1 y-position of first point.\n * @param x2 x-position of second point.\n * @param y2 y-position of second point.\n * @param d  the width of the arrow.\n * @param h  the height of the arrow.\n */\nprivate void drawArrowLine(Graphics g, int x1, int y1, int x2, int y2, int d, int h) {\n    int dx = x2 - x1, dy = y2 - y1;\n    double D = Math.sqrt(dx*dx + dy*dy);\n    double xm = D - d, xn = xm, ym = h, yn = -h, x;\n    double sin = dy / D, cos = dx / D;\n\n    x = xm*cos - ym*sin + x1;\n    ym = xm*sin + ym*cos + y1;\n    xm = x;\n\n    x = xn*cos - yn*sin + x1;\n    yn = xn*sin + yn*cos + y1;\n    xn = x;\n\n    int[] xpoints = {x2, (int) xm, (int) xn};\n    int[] ypoints = {y2, (int) ym, (int) yn};\n\n    g.drawLine(x1, y1, x2, y2);\n    g.fillPolygon(xpoints, ypoints, 3);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10674792,"reputation":77,"user_id":7858696,"accept_rate":0,"display_name":"mhamad arsalan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550599425,"creation_date":1550599425,"answer_id":54772382,"question_id":2027613,"body_markdown":"Just in case if you want an &lt;i&gt;&lt;b&gt;non-programmatic&lt;/b&gt;&lt;/i&gt; arrow (I.e. for text purpose) in &lt;b&gt;Fast&lt;/b&gt; way, you can use `&lt;html&gt;` code for making arrow as text, just put your HTML code inside `.setText()` method for a component. I have &lt;b&gt;`java 1.8u202`&lt;/b&gt; it works fine.\r\n\r\n`myLabel.setText(&quot;&lt;html&gt;&lt;body&gt;&amp;#8592;&lt;/body&gt;&lt;/html&gt;&quot;);`\r\n\r\n&gt;this code `&amp;#8592;` is for left-pointing arrow\r\n\r\nother arrow directions HTML code from [This Website][1]\r\n\r\n\r\n  [1]: https://www.toptal.com/designers/htmlarrows/","title":"How to draw a directed arrow line in Java?","body":"<p>Just in case if you want an <i><b>non-programmatic</b></i> arrow (I.e. for text purpose) in <b>Fast</b> way, you can use <code>&lt;html&gt;</code> code for making arrow as text, just put your HTML code inside <code>.setText()</code> method for a component. I have <b><code>java 1.8u202</code></b> it works fine.</p>\n\n<p><code>myLabel.setText(\"&lt;html&gt;&lt;body&gt;&amp;#8592;&lt;/body&gt;&lt;/html&gt;\");</code></p>\n\n<blockquote>\n  <p>this code <code>&amp;#8592;</code> is for left-pointing arrow</p>\n</blockquote>\n\n<p>other arrow directions HTML code from <a href=\"https://www.toptal.com/designers/htmlarrows/\" rel=\"nofollow noreferrer\">This Website</a></p>\n"},{"tags":[],"owner":{"account_id":7720184,"reputation":39,"user_id":5846651,"display_name":"Ali Seify"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647891935,"creation_date":1647883019,"answer_id":71561565,"question_id":2027613,"body_markdown":"        void drawArrow(Graphics g1, double x1, double y1, double x2, double y2 ) {\r\n        Graphics2D ga = (Graphics2D) g1.create();\r\n        ga.drawLine((int)x1, (int)y1, (int)x2, (int)y2);\r\n\r\n        double l = Math.sqrt(Math.pow((x2 - x1), 2) + Math.pow((y2 - y1), 2));//  line length\r\n        double d = l / 10; // arrowhead distance from end of line. you can use your own value.\r\n        \r\n        double newX = ((x2 + (((x1 - x2) / (l) * d)))); // new x of arrowhead position on the line with d distance from end of the line.\r\n        double newY = ((y2 + (((y1 - y2) / (l) * d)))); // new y of arrowhead position on the line with d distance from end of the line.\r\n\r\n        double dx = x2 - x1, dy = y2 - y1;\r\n        double angle = (Math.atan2(dy, dx)); //get angle (Radians) between ours line and x vectors line. (counter clockwise)\r\n        angle = (-1) * Math.toDegrees(angle);// cconvert to degree and reverse it to round clock for better understand what we need to do.\r\n        if (angle &lt; 0) {\r\n            angle = 360 + angle; // convert negative degrees to posative degree\r\n        }\r\n        angle = (-1) * angle; // convert to counter clockwise mode\r\n        angle = Math.toRadians(angle);//  convert Degree to Radians\r\n        AffineTransform at = new AffineTransform();\r\n        at.translate(newX, newY);// transport cursor to draw arrowhead position.\r\n        at.rotate(angle);\r\n        ga.transform(at);\r\n\r\n        Polygon arrowHead = new Polygon();\r\n        arrowHead.addPoint(5, 0);\r\n        arrowHead.addPoint(-5, 5);\r\n        arrowHead.addPoint(-2, -0);\r\n        arrowHead.addPoint(-5, -5);\r\n        ga.fill(arrowHead);\r\n        ga.drawPolygon(arrowHead);\r\n    }\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iWHLs.png\r\n\r\n","title":"How to draw a directed arrow line in Java?","body":"<pre><code>    void drawArrow(Graphics g1, double x1, double y1, double x2, double y2 ) {\n    Graphics2D ga = (Graphics2D) g1.create();\n    ga.drawLine((int)x1, (int)y1, (int)x2, (int)y2);\n\n    double l = Math.sqrt(Math.pow((x2 - x1), 2) + Math.pow((y2 - y1), 2));//  line length\n    double d = l / 10; // arrowhead distance from end of line. you can use your own value.\n    \n    double newX = ((x2 + (((x1 - x2) / (l) * d)))); // new x of arrowhead position on the line with d distance from end of the line.\n    double newY = ((y2 + (((y1 - y2) / (l) * d)))); // new y of arrowhead position on the line with d distance from end of the line.\n\n    double dx = x2 - x1, dy = y2 - y1;\n    double angle = (Math.atan2(dy, dx)); //get angle (Radians) between ours line and x vectors line. (counter clockwise)\n    angle = (-1) * Math.toDegrees(angle);// cconvert to degree and reverse it to round clock for better understand what we need to do.\n    if (angle &lt; 0) {\n        angle = 360 + angle; // convert negative degrees to posative degree\n    }\n    angle = (-1) * angle; // convert to counter clockwise mode\n    angle = Math.toRadians(angle);//  convert Degree to Radians\n    AffineTransform at = new AffineTransform();\n    at.translate(newX, newY);// transport cursor to draw arrowhead position.\n    at.rotate(angle);\n    ga.transform(at);\n\n    Polygon arrowHead = new Polygon();\n    arrowHead.addPoint(5, 0);\n    arrowHead.addPoint(-5, 5);\n    arrowHead.addPoint(-2, -0);\n    arrowHead.addPoint(-5, -5);\n    ga.fill(arrowHead);\n    ga.drawPolygon(arrowHead);\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/iWHLs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iWHLs.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":19414861,"reputation":443,"user_id":14198583,"display_name":"Christopher"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649607019,"creation_date":1649579724,"answer_id":71814974,"question_id":2027613,"body_markdown":"This is the code from Vicente Reig&#39;s great answer, simplified a little and packaged as a nice utility class.\r\n\r\n    import java.awt.*;\r\n    import java.awt.geom.AffineTransform;\r\n    \r\n    public class Arrow\r\n    {\r\n        private final Polygon arrowHead = new Polygon ();\r\n    \r\n        /**\r\n         * Create an arrow.\r\n         *\r\n         * @see https://stackoverflow.com/questions/2027613/how-to-draw-a-directed-arrow-line-in-java\r\n         *\r\n         * @param size Size of the arrow to draw.\r\n         */\r\n        public Arrow (int size)\r\n        {\r\n            // create a triangle centered on (0,0) and pointing right\r\n            arrowHead.addPoint (size, 0);\r\n            arrowHead.addPoint (-size, -size);\r\n            arrowHead.addPoint (-size, size);\r\n            //arrowHead.addPoint (0, 0); // Another style\r\n        }\r\n    \r\n        /**\r\n         * Draw the arrow at the end of a line segment. Drawing the line segment must be done by the caller, using whatever\r\n         * stroke and color is required.\r\n         */\r\n        public void drawArrowHead (Graphics2D g, double x0, double y0, double x1, double y1)\r\n        {\r\n            final AffineTransform tx = AffineTransform.getTranslateInstance (x1, y1);\r\n            tx.rotate (Math.atan2 (y1 - y0, x1 - x0));\r\n            g.fill (tx.createTransformedShape (arrowHead));\r\n        }\r\n    }","title":"How to draw a directed arrow line in Java?","body":"<p>This is the code from Vicente Reig's great answer, simplified a little and packaged as a nice utility class.</p>\n<pre><code>import java.awt.*;\nimport java.awt.geom.AffineTransform;\n\npublic class Arrow\n{\n    private final Polygon arrowHead = new Polygon ();\n\n    /**\n     * Create an arrow.\n     *\n     * @see https://stackoverflow.com/questions/2027613/how-to-draw-a-directed-arrow-line-in-java\n     *\n     * @param size Size of the arrow to draw.\n     */\n    public Arrow (int size)\n    {\n        // create a triangle centered on (0,0) and pointing right\n        arrowHead.addPoint (size, 0);\n        arrowHead.addPoint (-size, -size);\n        arrowHead.addPoint (-size, size);\n        //arrowHead.addPoint (0, 0); // Another style\n    }\n\n    /**\n     * Draw the arrow at the end of a line segment. Drawing the line segment must be done by the caller, using whatever\n     * stroke and color is required.\n     */\n    public void drawArrowHead (Graphics2D g, double x0, double y0, double x1, double y1)\n    {\n        final AffineTransform tx = AffineTransform.getTranslateInstance (x1, y1);\n        tx.rotate (Math.atan2 (y1 - y0, x1 - x0));\n        g.fill (tx.createTransformedShape (arrowHead));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":52535,"reputation":34017,"user_id":157027,"accept_rate":67,"display_name":"Amit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73856,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":2027641,"answer_count":7,"score":28,"last_activity_date":1649607019,"creation_date":1262955003,"question_id":2027613,"body_markdown":"I want to draw a directed arrow line through Java.\r\n\r\nAt present, I am using `java.awt.Line2D.Double` class to draw a line\r\n\r\n    g2.setStroke(new BasicStroke(2.0f, BasicStroke.CAP_BUTT, BasicStroke.JOIN_BEVEL)); // g2 is an instance of Graphics2D\r\n    g2.draw(new Line2D.Double(x1,y1,x2,y2));\r\n\r\nBut only the line appears and no directed arrow appears.  `BasicStroke.Join_BEVEL` is used to draw a directed arrow. It is applied when two line segments meet.\r\n\r\nThe line I am drawing meets the border of a rectangle but no directed arrow is drawn. Only a simple line is drawn.\r\n\r\nIs there anything I am missing? ","title":"How to draw a directed arrow line in Java?","body":"<p>I want to draw a directed arrow line through Java.</p>\n\n<p>At present, I am using <code>java.awt.Line2D.Double</code> class to draw a line</p>\n\n<pre><code>g2.setStroke(new BasicStroke(2.0f, BasicStroke.CAP_BUTT, BasicStroke.JOIN_BEVEL)); // g2 is an instance of Graphics2D\ng2.draw(new Line2D.Double(x1,y1,x2,y2));\n</code></pre>\n\n<p>But only the line appears and no directed arrow appears.  <code>BasicStroke.Join_BEVEL</code> is used to draw a directed arrow. It is applied when two line segments meet.</p>\n\n<p>The line I am drawing meets the border of a rectangle but no directed arrow is drawn. Only a simple line is drawn.</p>\n\n<p>Is there anything I am missing? </p>\n"},{"tags":["java","algorithm","sorting","hashmap"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1649557295,"post_id":71812154,"comment_id":126904767,"body_markdown":"What is the `3rd` highest value of `8,8,7,7,6,6,5,4,3,2,1`?  It makes sense for it to be `6` but you didn&#39;t clarify that in your question.  7 would be the value in the third location which is different.","body":"What is the <code>3rd</code> highest value of <code>8,8,7,7,6,6,5,4,3,2,1</code>?  It makes sense for it to be <code>6</code> but you didn&#39;t clarify that in your question.  7 would be the value in the third location which is different."},{"owner":{"account_id":20973295,"reputation":39,"user_id":15409956,"display_name":"student"},"score":1,"creation_date":1649601456,"post_id":71812154,"comment_id":126911771,"body_markdown":"Yes correct, The third highest value will be 6 and I have to print the key for that value(Duplicates will be ignored). For eg. the Hashmap is : &quot;peter&quot; : 40, &quot;mike&quot; : 90, &quot;sam&quot;: 60, &quot;john&quot;:90, &quot;jimmy&quot; : 32, &quot;Alex&quot;:60. In this case 2nd highest value will be 60 and there are two keys i.e. Sam and Alex having the same value. In this case we have to sort the keys alphabetically and return only the first one i.e. &quot;Alex&quot;: 60","body":"Yes correct, The third highest value will be 6 and I have to print the key for that value(Duplicates will be ignored). For eg. the Hashmap is : &quot;peter&quot; : 40, &quot;mike&quot; : 90, &quot;sam&quot;: 60, &quot;john&quot;:90, &quot;jimmy&quot; : 32, &quot;Alex&quot;:60. In this case 2nd highest value will be 60 and there are two keys i.e. Sam and Alex having the same value. In this case we have to sort the keys alphabetically and return only the first one i.e. &quot;Alex&quot;: 60"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1649606922,"post_id":71812154,"comment_id":126913108,"body_markdown":"I included your data in my answer below.  If you are unfamiliar with sorting stability you may also want to check out the sorting algorithms to see what is meant by a `stable sort`.","body":"I included your data in my answer below.  If you are unfamiliar with sorting stability you may also want to check out the sorting algorithms to see what is meant by a <code>stable sort</code>."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1649636489,"post_id":71812154,"comment_id":126918967,"body_markdown":"@student This information must be included in your question, not posted as the comment","body":"@student This information must be included in your question, not posted as the comment"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649570587,"creation_date":1649542054,"answer_id":71812253,"question_id":71812154,"body_markdown":"This problem **doesn&#39;t require sorting** all the given data. It will cause a huge overhead if `n` is close to `1`, in which case the possible solution will run in a linear time **O(n)**. Sorting increases time complexity to **O(n*log n)** (*if you are not familiar with **Big O notation**, you might be interested in reading [answers to this question](https://stackoverflow.com/questions/487258/what-is-a-plain-english-explanation-of-big-o-notation)*). And for any `n` less than map size, partial sorting will be a better option.\r\n\r\nIf I understood you correctly, duplicated values need to be taken into account. For instance, for `n=3` values `12,12,10,8,5` the third-largest value will be `10` (*if you don&#39;t duplicate then the following solution can be simplified*).\r\n\r\nI suggest approaching this problem in the following steps:\r\n* ***Reverse*** the given map. So that values of the source map will become the keys, and vice versa. In the case of duplicated values, the key (*value in the reversed map*) that comes first **alphabetically** will be preserved.\r\n* Create a ***map of frequencies***. So that the values of the source map will become the keys of the reversed map. Values will represent the number of occurrences for each value.\r\n* ***Flatten*** the values of reversed map into a list.\r\n* Perform a ***partial sorting*** by utilizing [`PriorityQueue`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/PriorityQueue.html) as container for `n` highest values. `PriorityQueue` is based on the so called [min heap data structure](https://en.wikipedia.org/wiki/Heap_(data_structure)). While instantiating `PriorityQueue` you either need to provide a `Comparator` or elements of the queue has to have a natural sorting order, i.e. implement interface `Comparable` (which is the case for `Integer`). Methods `element()` and `peek()` will retrieve the smallest element from the priority queue. And the queue will contain `n` largest values from the given map, its smallest element will be the `n`-th highest value of the map.\r\n\r\nThe implementation might look like this:\r\n\r\n    public static void printKeyForNthValue(Map&lt;String, Integer&gt; map, int n) {\r\n        if (n &lt;= 0) {\r\n            System.out.println(&quot;required element can&#39;t be found&quot;);\r\n        }\r\n        \r\n        Map&lt;Integer, String&gt; reversedMap = getReversedMap(map);\r\n        Map&lt;Integer, Integer&gt; valueToCount = getValueFrequencies(map);\r\n        List&lt;Integer&gt; flattenedValues = flattenFrequencyMap(valueToCount);\r\n        Queue&lt;Integer&gt; queue = new PriorityQueue&lt;&gt;();\r\n        \r\n        for (int next: flattenedValues) {\r\n            if (queue.size() &gt;= n) {\r\n                queue.remove();\r\n            }\r\n            queue.add(next);\r\n        }\r\n        \r\n        if (queue.size() &lt; n) {\r\n            System.out.println(&quot;required element wasn&#39;t found&quot;);\r\n        } else {\r\n            System.out.println(&quot;value:\\t&quot; + queue.element());\r\n            System.out.println(&quot;key:\\t&quot; + reversedMap.get(queue.element()));\r\n        }\r\n    }\r\n    \r\n    private static Map&lt;Integer, String&gt; getReversedMap(Map&lt;String, Integer&gt; map) {\r\n        Map&lt;Integer, String&gt; reversedMap = new HashMap&lt;&gt;();\r\n        for (Map.Entry&lt;String, Integer&gt; entry: map.entrySet()) { // in case of duplicates the key the comes first alphabetically will be preserved\r\n            reversedMap.merge(entry.getValue(), entry.getKey(),\r\n                        (s1, s2) -&gt; s1.compareTo(s2) &lt; 0 ? s1 : s2);\r\n        }\r\n        return reversedMap;\r\n    }\r\n    \r\n    private static Map&lt;Integer, Integer&gt; getValueFrequencies(Map&lt;String, Integer&gt; map) {\r\n        Map&lt;Integer, Integer&gt; result = new HashMap&lt;&gt;();\r\n        for (Integer next: map.values()) {\r\n            result.merge(next, 1, Integer::sum); // the same as result.put(next, result.getOrDefault(next, 0) + 1);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    private static List&lt;Integer&gt; flattenFrequencyMap(Map&lt;Integer, Integer&gt; valueToCount) {\r\n        List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n        for (Map.Entry&lt;Integer, Integer&gt; entry: valueToCount.entrySet()) {\r\n            for (int i = 0; i &lt; entry.getValue(); i++) {\r\n                result.add(entry.getKey());\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n**Note**, if you are not familiar with Java 8 method `merge()`, inside `getReversedMap()` you can replace it this with:\r\n```\r\nif (!reversedMap.containsKey(entry.getValue()) || \r\n      entry.getKey().compareTo(reversedMap.get(entry.getValue())) &lt; 0) {\r\n   reversedMap.put(entry.getValue(), entry.getKey());\r\n}\r\n```\r\n\r\n`main()` - demo\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String, Integer&gt; source =\r\n            Map.of(&quot;w&quot;, 10, &quot;b&quot;, 12, &quot;a&quot;, 10, &quot;r&quot;, 12,\r\n                   &quot;k&quot;, 3, &quot;l&quot;, 5, &quot;y&quot;, 3, &quot;t&quot;, 9);\r\n    \r\n        printKeyForNthValue(source, 3);\r\n    }\r\n\r\n**Output** (*the third-greatest value from the set* `12, 12, 10, 10, 9, 5, 3, 3`)\r\n```\r\nvalue:\t10\r\nkey:\ta\r\n```","title":"Print the Key for the N-th highest Value in a HashMap","body":"<p>This problem <strong>doesn't require sorting</strong> all the given data. It will cause a huge overhead if <code>n</code> is close to <code>1</code>, in which case the possible solution will run in a linear time <strong>O(n)</strong>. Sorting increases time complexity to <strong>O(n*log n)</strong> (<em>if you are not familiar with <strong>Big O notation</strong>, you might be interested in reading <a href=\"https://stackoverflow.com/questions/487258/what-is-a-plain-english-explanation-of-big-o-notation\">answers to this question</a></em>). And for any <code>n</code> less than map size, partial sorting will be a better option.</p>\n<p>If I understood you correctly, duplicated values need to be taken into account. For instance, for <code>n=3</code> values <code>12,12,10,8,5</code> the third-largest value will be <code>10</code> (<em>if you don't duplicate then the following solution can be simplified</em>).</p>\n<p>I suggest approaching this problem in the following steps:</p>\n<ul>\n<li><em><strong>Reverse</strong></em> the given map. So that values of the source map will become the keys, and vice versa. In the case of duplicated values, the key (<em>value in the reversed map</em>) that comes first <strong>alphabetically</strong> will be preserved.</li>\n<li>Create a <em><strong>map of frequencies</strong></em>. So that the values of the source map will become the keys of the reversed map. Values will represent the number of occurrences for each value.</li>\n<li><em><strong>Flatten</strong></em> the values of reversed map into a list.</li>\n<li>Perform a <em><strong>partial sorting</strong></em> by utilizing <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/PriorityQueue.html\" rel=\"nofollow noreferrer\"><code>PriorityQueue</code></a> as container for <code>n</code> highest values. <code>PriorityQueue</code> is based on the so called <a href=\"https://en.wikipedia.org/wiki/Heap_(data_structure)\" rel=\"nofollow noreferrer\">min heap data structure</a>. While instantiating <code>PriorityQueue</code> you either need to provide a <code>Comparator</code> or elements of the queue has to have a natural sorting order, i.e. implement interface <code>Comparable</code> (which is the case for <code>Integer</code>). Methods <code>element()</code> and <code>peek()</code> will retrieve the smallest element from the priority queue. And the queue will contain <code>n</code> largest values from the given map, its smallest element will be the <code>n</code>-th highest value of the map.</li>\n</ul>\n<p>The implementation might look like this:</p>\n<pre><code>public static void printKeyForNthValue(Map&lt;String, Integer&gt; map, int n) {\n    if (n &lt;= 0) {\n        System.out.println(&quot;required element can't be found&quot;);\n    }\n    \n    Map&lt;Integer, String&gt; reversedMap = getReversedMap(map);\n    Map&lt;Integer, Integer&gt; valueToCount = getValueFrequencies(map);\n    List&lt;Integer&gt; flattenedValues = flattenFrequencyMap(valueToCount);\n    Queue&lt;Integer&gt; queue = new PriorityQueue&lt;&gt;();\n    \n    for (int next: flattenedValues) {\n        if (queue.size() &gt;= n) {\n            queue.remove();\n        }\n        queue.add(next);\n    }\n    \n    if (queue.size() &lt; n) {\n        System.out.println(&quot;required element wasn't found&quot;);\n    } else {\n        System.out.println(&quot;value:\\t&quot; + queue.element());\n        System.out.println(&quot;key:\\t&quot; + reversedMap.get(queue.element()));\n    }\n}\n\nprivate static Map&lt;Integer, String&gt; getReversedMap(Map&lt;String, Integer&gt; map) {\n    Map&lt;Integer, String&gt; reversedMap = new HashMap&lt;&gt;();\n    for (Map.Entry&lt;String, Integer&gt; entry: map.entrySet()) { // in case of duplicates the key the comes first alphabetically will be preserved\n        reversedMap.merge(entry.getValue(), entry.getKey(),\n                    (s1, s2) -&gt; s1.compareTo(s2) &lt; 0 ? s1 : s2);\n    }\n    return reversedMap;\n}\n\nprivate static Map&lt;Integer, Integer&gt; getValueFrequencies(Map&lt;String, Integer&gt; map) {\n    Map&lt;Integer, Integer&gt; result = new HashMap&lt;&gt;();\n    for (Integer next: map.values()) {\n        result.merge(next, 1, Integer::sum); // the same as result.put(next, result.getOrDefault(next, 0) + 1);\n    }\n    return result;\n}\n\nprivate static List&lt;Integer&gt; flattenFrequencyMap(Map&lt;Integer, Integer&gt; valueToCount) {\n    List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n    for (Map.Entry&lt;Integer, Integer&gt; entry: valueToCount.entrySet()) {\n        for (int i = 0; i &lt; entry.getValue(); i++) {\n            result.add(entry.getKey());\n        }\n    }\n    return result;\n}\n</code></pre>\n<p><strong>Note</strong>, if you are not familiar with Java 8 method <code>merge()</code>, inside <code>getReversedMap()</code> you can replace it this with:</p>\n<pre><code>if (!reversedMap.containsKey(entry.getValue()) || \n      entry.getKey().compareTo(reversedMap.get(entry.getValue())) &lt; 0) {\n   reversedMap.put(entry.getValue(), entry.getKey());\n}\n</code></pre>\n<p><code>main()</code> - demo</p>\n<pre><code>public static void main(String[] args) {\n    Map&lt;String, Integer&gt; source =\n        Map.of(&quot;w&quot;, 10, &quot;b&quot;, 12, &quot;a&quot;, 10, &quot;r&quot;, 12,\n               &quot;k&quot;, 3, &quot;l&quot;, 5, &quot;y&quot;, 3, &quot;t&quot;, 9);\n\n    printKeyForNthValue(source, 3);\n}\n</code></pre>\n<p><strong>Output</strong> (<em>the third-greatest value from the set</em> <code>12, 12, 10, 10, 9, 5, 3, 3</code>)</p>\n<pre><code>value:  10\nkey:    a\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649606828,"creation_date":1649542281,"answer_id":71812274,"question_id":71812154,"body_markdown":"Here is one way. It is presumed by **Nth highest that duplicates must be ignored**.  Otherwise you would be asking about position in the map and not the intrinsic value as compared to others.  For example, if the values are `8,8,8,7,7,5,5,3,2,1` then the `3rd` highest value is `5` where the value `8` would be simply be value in the `3rd` location of a descending sorted list. \r\n\r\n- initialize `found` to `false` and `max` to `Integer.MAX_VALUE`.\r\n- sort the list in reverse order based on value.  Since the `TreeMap` is already sorted by keys and is a `stable sort` (see [Sorting algorithms](https://en.wikipedia.org/wiki/Category:Stable_sorts#:~:text=Stable%20sorting%20algorithms%20maintain%20the,S%20in%20the%20sorted%20list.)) the keys will remain in sorted order for duplicate values.\r\n- loop thru the list and continue checking if the current value is less than max.  The key here is `less than`, That is what ignores the duplicates when iterating thru the list.\r\n- if the current value is less than max, assign to `max` and decrement `n`.  Also assign the key\r\n- if n == 0, set `found` to `true` and break out of the loop.\r\n- if the loop finishes on its own, found will be false and no `nth` largest exists.\r\n```\r\nMap&lt;String, Integer&gt; map = new TreeMap&lt;&gt;(Map.of(\r\n\t\t &quot;peter&quot; , 40, &quot;mike&quot; , 90, &quot;sam&quot;,60, &quot;john&quot;,90, &quot;jimmy&quot; , 32, &quot;Alex&quot;,60,&quot;joan&quot;, 20, &quot;alice&quot;, 40));\r\n\r\nList&lt;Entry&lt;String,Integer&gt;&gt; save = new ArrayList&lt;&gt;(map.entrySet());\r\n\r\nsave.sort(Entry.comparingByValue(Comparator.reverseOrder()));\r\n\r\nint max = Integer.MAX_VALUE;\r\nboolean found = false;\r\nString key = null;\r\nfor (Entry&lt;String,Integer&gt; e : save) {\r\n\tif (e.getValue() &lt; max) {\r\n\t\tmax = e.getValue();\r\n\t\tkey = e.getKey();\r\n\t\tif (--n == 0) {\r\n\t\t\tfound = true;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nif (found) {\r\n\tSystem.out.println(&quot;Value = &quot; + max);\r\n\tSystem.out.println(&quot;Key = &quot; + key);\r\n} else {\r\n\tSystem.out.println(&quot;Not found&quot;);\r\n}\r\n```\r\nprints\r\n```\r\nValue = 60\r\nKey = Alex\r\n\r\n\t","title":"Print the Key for the N-th highest Value in a HashMap","body":"<p>Here is one way. It is presumed by <strong>Nth highest that duplicates must be ignored</strong>.  Otherwise you would be asking about position in the map and not the intrinsic value as compared to others.  For example, if the values are <code>8,8,8,7,7,5,5,3,2,1</code> then the <code>3rd</code> highest value is <code>5</code> where the value <code>8</code> would be simply be value in the <code>3rd</code> location of a descending sorted list.</p>\n<ul>\n<li>initialize <code>found</code> to <code>false</code> and <code>max</code> to <code>Integer.MAX_VALUE</code>.</li>\n<li>sort the list in reverse order based on value.  Since the <code>TreeMap</code> is already sorted by keys and is a <code>stable sort</code> (see <a href=\"https://en.wikipedia.org/wiki/Category:Stable_sorts#:%7E:text=Stable%20sorting%20algorithms%20maintain%20the,S%20in%20the%20sorted%20list.\" rel=\"nofollow noreferrer\">Sorting algorithms</a>) the keys will remain in sorted order for duplicate values.</li>\n<li>loop thru the list and continue checking if the current value is less than max.  The key here is <code>less than</code>, That is what ignores the duplicates when iterating thru the list.</li>\n<li>if the current value is less than max, assign to <code>max</code> and decrement <code>n</code>.  Also assign the key</li>\n<li>if n == 0, set <code>found</code> to <code>true</code> and break out of the loop.</li>\n<li>if the loop finishes on its own, found will be false and no <code>nth</code> largest exists.</li>\n</ul>\n<pre><code>Map&lt;String, Integer&gt; map = new TreeMap&lt;&gt;(Map.of(\n         &quot;peter&quot; , 40, &quot;mike&quot; , 90, &quot;sam&quot;,60, &quot;john&quot;,90, &quot;jimmy&quot; , 32, &quot;Alex&quot;,60,&quot;joan&quot;, 20, &quot;alice&quot;, 40));\n\nList&lt;Entry&lt;String,Integer&gt;&gt; save = new ArrayList&lt;&gt;(map.entrySet());\n\nsave.sort(Entry.comparingByValue(Comparator.reverseOrder()));\n\nint max = Integer.MAX_VALUE;\nboolean found = false;\nString key = null;\nfor (Entry&lt;String,Integer&gt; e : save) {\n    if (e.getValue() &lt; max) {\n        max = e.getValue();\n        key = e.getKey();\n        if (--n == 0) {\n            found = true;\n            break;\n        }\n    }\n}\n\nif (found) {\n    System.out.println(&quot;Value = &quot; + max);\n    System.out.println(&quot;Key = &quot; + key);\n} else {\n    System.out.println(&quot;Not found&quot;);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>Value = 60\nKey = Alex\n\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":23312846,"reputation":1,"user_id":17391802,"display_name":"harry wang"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1649544879,"creation_date":1649544879,"answer_id":71812523,"question_id":71812154,"body_markdown":"When finding the kth highest value, you should consider using a priority queue (aka a heap) or using quick select.\r\n\r\nA heap can be constructed in O(n) time however if you initialize it and insert n elements, it will take O(nlogn) time. After which you can pop k elements in order to get the kth highest element\r\n\r\nQuick select is an algorithm designed for finding the nth highest element in O(n) time","title":"Print the Key for the N-th highest Value in a HashMap","body":"<p>When finding the kth highest value, you should consider using a priority queue (aka a heap) or using quick select.</p>\n<p>A heap can be constructed in O(n) time however if you initialize it and insert n elements, it will take O(nlogn) time. After which you can pop k elements in order to get the kth highest element</p>\n<p>Quick select is an algorithm designed for finding the nth highest element in O(n) time</p>\n"}],"owner":{"account_id":20973295,"reputation":39,"user_id":15409956,"display_name":"student"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71812274,"answer_count":3,"score":0,"last_activity_date":1649606828,"creation_date":1649540966,"question_id":71812154,"body_markdown":"I have a `HashMap` and have to print the `N`-th highest value in the `HashMap`. \r\n\r\nI have managed to get the highest *value*. \r\n\r\nI have sorted the HashMap first so that if there are ***two keys** with the **same value***, then I get the key that comes first ***alphabetically***.\r\n\r\nBut I still don&#39;t know how to get the key for nth highest value?\r\n\r\n```java\r\npublic void(HashMap map, int n) {\r\n    Map&lt;String, Integer&gt; sortedmap = new TreeMap&lt;&gt;(map);\r\n    Map.Entry&lt;String, Integer&gt; maxEntry = null;\r\n    for (Map.Entry&lt;String, Integer&gt; entry : sortedmap.entrySet()) {\r\n        if (maxEntry == null || entry.getValue().compareTo(maxEntry.getValue()) &gt; 0) {\r\n            maxEntry = entry;\r\n        }\r\n    }\r\n    System.out.println(maxEntry.getKey());\r\n}\r\n```","title":"Print the Key for the N-th highest Value in a HashMap","body":"<p>I have a <code>HashMap</code> and have to print the <code>N</code>-th highest value in the <code>HashMap</code>.</p>\n<p>I have managed to get the highest <em>value</em>.</p>\n<p>I have sorted the HashMap first so that if there are <em><strong>two keys</strong> with the <strong>same value</strong></em>, then I get the key that comes first <em><strong>alphabetically</strong></em>.</p>\n<p>But I still don't know how to get the key for nth highest value?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void(HashMap map, int n) {\n    Map&lt;String, Integer&gt; sortedmap = new TreeMap&lt;&gt;(map);\n    Map.Entry&lt;String, Integer&gt; maxEntry = null;\n    for (Map.Entry&lt;String, Integer&gt; entry : sortedmap.entrySet()) {\n        if (maxEntry == null || entry.getValue().compareTo(maxEntry.getValue()) &gt; 0) {\n            maxEntry = entry;\n        }\n    }\n    System.out.println(maxEntry.getKey());\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1649605520,"post_id":71818093,"comment_id":126912760,"body_markdown":"What do you mean when you say stops? Does your program end? Or does your program just not do anything?","body":"What do you mean when you say stops? Does your program end? Or does your program just not do anything?"},{"owner":{"account_id":13709443,"reputation":126,"user_id":10165023,"display_name":"Sergey Gurylev"},"score":0,"creation_date":1649605617,"post_id":71818093,"comment_id":126912786,"body_markdown":"Are you sure there was no guessing?","body":"Are you sure there was no guessing?"}],"answers":[{"tags":[],"owner":{"account_id":24379813,"reputation":36,"user_id":18311574,"display_name":"Lonika Ghosh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649606619,"creation_date":1649606619,"answer_id":71818319,"question_id":71818093,"body_markdown":"The loop is not ending after 1 iteration. Since we don&#39;t have a logger inside the loop it seems as if the execution has stopped. ````guessing()```` for each player is being called just once before entering the while loop. So each time the same target number is being matched with the already guessed numbers, as a result when there is no match in the first iteration we enter an infinite loop. Move the ````guessing()````function for all players inside the while loop so that a new number is guessed during each iteration.\r\n```\r\nEnter p1&#39;s name:\r\np1\r\nEnter p2&#39;s name:\r\np2\r\nEnter p3&#39;s name:\r\np3\r\nEnter a number between 0 and 9 for the players to guess\r\n8\r\np1&#39;s guess is 6\r\np2&#39;s guess is 3\r\np3&#39;s guess is 5\r\np1&#39;s guess is 3\r\np2&#39;s guess is 0\r\np3&#39;s guess is 1\r\np1&#39;s guess is 4\r\np2&#39;s guess is 2\r\np3&#39;s guess is 2\r\np1&#39;s guess is 7\r\np2&#39;s guess is 8\r\np3&#39;s guess is 3\r\np2 won\r\n```\r\nWe would break out of the while loop once we have a match as shown in the above output snapshot.","title":"My guess game just stops after one iteration","body":"<p>The loop is not ending after 1 iteration. Since we don't have a logger inside the loop it seems as if the execution has stopped. <code>guessing()</code> for each player is being called just once before entering the while loop. So each time the same target number is being matched with the already guessed numbers, as a result when there is no match in the first iteration we enter an infinite loop. Move the <code>guessing()</code>function for all players inside the while loop so that a new number is guessed during each iteration.</p>\n<pre><code>Enter p1's name:\np1\nEnter p2's name:\np2\nEnter p3's name:\np3\nEnter a number between 0 and 9 for the players to guess\n8\np1's guess is 6\np2's guess is 3\np3's guess is 5\np1's guess is 3\np2's guess is 0\np3's guess is 1\np1's guess is 4\np2's guess is 2\np3's guess is 2\np1's guess is 7\np2's guess is 8\np3's guess is 3\np2 won\n</code></pre>\n<p>We would break out of the while loop once we have a match as shown in the above output snapshot.</p>\n"}],"owner":{"account_id":21208109,"reputation":21,"user_id":15597314,"display_name":"Ojas Singh Yadav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649606619,"creation_date":1649605131,"question_id":71818093,"body_markdown":"My goal was to create a &#39;guess game&#39; with three &quot;player&quot; objects.\r\n\r\nI created a variable known as &quot;target&quot; which contains the input by the user.\r\n\r\nAfter that, I run the &quot;guessing&quot; method on each of the three &quot;player&quot; objects\r\nthen I run a while loop which runs until it is broken.\r\nthe if statements in the loop check if the guesses of the player objects are equal to the target and breaks the loop if the statement is true.\r\n\r\nThe problem is that the loop just stops after one iteration.\r\n\r\nhere&#39;s the code:\r\n\r\n    import java.util.*;\r\n     class testDrive{\r\n        public static void main(String[] args){\r\n            //code \r\n            Scanner sc = new Scanner(System.in);\r\n            player p1 = new player();\r\n            player p2 = new player();\r\n            player p3 = new player();\r\n            System.out.println(&quot;Enter p1&#39;s name:&quot;);\r\n            p1.name = sc.nextLine();\r\n            System.out.println(&quot;Enter p2&#39;s name:&quot;);\r\n            p2.name = sc.nextLine();\r\n            System.out.println(&quot;Enter p3&#39;s name:&quot;);\r\n            p3.name = sc.nextLine();\r\n            System.out.println(&quot;Enter a number between 0 and 9 for the players to guess&quot;);\r\n            int target = sc.nextInt();\r\n            p1.guessing();\r\n            p2.guessing();\r\n            p3.guessing();\r\n            while(true){\r\n                if(target == p1.guess){\r\n                    System.out.println(p1.name+&quot; won&quot;);\r\n                    break;\r\n                }\r\n                else if(target == p2.guess){\r\n                    System.out.println(p2.name+&quot; won&quot;);\r\n                    break; \r\n                }\r\n                else if(target == p3.guess){\r\n                    System.out.println(p3.name+&quot; won&quot;);\r\n                    break;\r\n                }\r\n                else{\r\n                    continue;\r\n                }\r\n            }\r\n    }}\r\n     class player{\r\n        int guess;\r\n        String name;\r\n        public void guessing(){\r\n            guess =(int)Math.floor(Math.random() * 9);\r\n            System.out.println(name+&quot;&#39;s guess is &quot;+guess);\r\n        }\r\n    }\r\n\r\n","title":"My guess game just stops after one iteration","body":"<p>My goal was to create a 'guess game' with three &quot;player&quot; objects.</p>\n<p>I created a variable known as &quot;target&quot; which contains the input by the user.</p>\n<p>After that, I run the &quot;guessing&quot; method on each of the three &quot;player&quot; objects\nthen I run a while loop which runs until it is broken.\nthe if statements in the loop check if the guesses of the player objects are equal to the target and breaks the loop if the statement is true.</p>\n<p>The problem is that the loop just stops after one iteration.</p>\n<p>here's the code:</p>\n<pre><code>import java.util.*;\n class testDrive{\n    public static void main(String[] args){\n        //code \n        Scanner sc = new Scanner(System.in);\n        player p1 = new player();\n        player p2 = new player();\n        player p3 = new player();\n        System.out.println(&quot;Enter p1's name:&quot;);\n        p1.name = sc.nextLine();\n        System.out.println(&quot;Enter p2's name:&quot;);\n        p2.name = sc.nextLine();\n        System.out.println(&quot;Enter p3's name:&quot;);\n        p3.name = sc.nextLine();\n        System.out.println(&quot;Enter a number between 0 and 9 for the players to guess&quot;);\n        int target = sc.nextInt();\n        p1.guessing();\n        p2.guessing();\n        p3.guessing();\n        while(true){\n            if(target == p1.guess){\n                System.out.println(p1.name+&quot; won&quot;);\n                break;\n            }\n            else if(target == p2.guess){\n                System.out.println(p2.name+&quot; won&quot;);\n                break; \n            }\n            else if(target == p3.guess){\n                System.out.println(p3.name+&quot; won&quot;);\n                break;\n            }\n            else{\n                continue;\n            }\n        }\n}}\n class player{\n    int guess;\n    String name;\n    public void guessing(){\n        guess =(int)Math.floor(Math.random() * 9);\n        System.out.println(name+&quot;'s guess is &quot;+guess);\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649606294,"creation_date":1649606294,"answer_id":71818269,"question_id":71816165,"body_markdown":"Keyboards work via an InputConnection.  I you focus a View in your app, the framework will call getInputConnection on that view.  If the view returns non-null, it will send all the data from the keyboard and map it to function calls on the InputConnection.  So all you need to do is override that function on your SurfaceView and have it return a custom InputConnection.\r\n\r\nInputConnection is a large api, but the most important ones for you to implement are commitText (which sends a string of text from the keyboard to the view) and deleteSurroundingText (used for deletion).  The rest of the api should be implemented as well, but those are the main ones.","title":"Show + Hide / Toggle Soft Keyboard and get what has been typed","body":"<p>Keyboards work via an InputConnection.  I you focus a View in your app, the framework will call getInputConnection on that view.  If the view returns non-null, it will send all the data from the keyboard and map it to function calls on the InputConnection.  So all you need to do is override that function on your SurfaceView and have it return a custom InputConnection.</p>\n<p>InputConnection is a large api, but the most important ones for you to implement are commitText (which sends a string of text from the keyboard to the view) and deleteSurroundingText (used for deletion).  The rest of the api should be implemented as well, but those are the main ones.</p>\n"}],"owner":{"account_id":20502764,"reputation":155,"user_id":15046317,"display_name":"DevTaube"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71818269,"answer_count":1,"score":0,"last_activity_date":1649606294,"creation_date":1649590216,"question_id":71816165,"body_markdown":"I am currently developing a simple library for making games on Android. I am almost done and only want to add a few more features. One feature I would like to add is a method that would show / hide the onscreen-keyboard (soft keyboard). I want to get whatever has been typed and return it using another method.\r\n\r\nMy codebase consists of an Activity that gets launched and a SurfaceView that does the rendering and touch input (and some other classes for the gameloop, sprites, sound and so on). As this is supposed to be a small library I don&#39;t want to mess with the XML.\r\n\r\nHow would I go on about showing+hiding/toggling the keyboard **and** receiving it&#39;s inputs?\r\n\r\n","title":"Show + Hide / Toggle Soft Keyboard and get what has been typed","body":"<p>I am currently developing a simple library for making games on Android. I am almost done and only want to add a few more features. One feature I would like to add is a method that would show / hide the onscreen-keyboard (soft keyboard). I want to get whatever has been typed and return it using another method.</p>\n<p>My codebase consists of an Activity that gets launched and a SurfaceView that does the rendering and touch input (and some other classes for the gameloop, sprites, sound and so on). As this is supposed to be a small library I don't want to mess with the XML.</p>\n<p>How would I go on about showing+hiding/toggling the keyboard <strong>and</strong> receiving it's inputs?</p>\n"},{"tags":["java","spring","odata","urlencode","feign"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1645030700,"post_id":71145878,"comment_id":125764018,"body_markdown":"You might consider `RequestMethod.POST` (like posting a HTML form without long URL). URL parameter values need to be URL encoded (probably using some encoding like UTF-8 for free Unicode text), but will be decoded again at the server. I hope someone will give a better answer.","body":"You might consider <code>RequestMethod.POST</code> (like posting a HTML form without long URL). URL parameter values need to be URL encoded (probably using some encoding like UTF-8 for free Unicode text), but will be decoded again at the server. I hope someone will give a better answer."},{"owner":{"account_id":11668516,"reputation":58,"user_id":8544452,"display_name":"stefalber"},"score":0,"creation_date":1645091627,"post_id":71145878,"comment_id":125780519,"body_markdown":"@JoopEggen it&#39;s for sure a solution, but I would like to keep the GET method to retrieve resources, as HTTP and RESTful suggest. Also I noticed that using Resttemplate of Spring I have no problem, I believe that some tricky configuration could solve the problem.","body":"@JoopEggen it&#39;s for sure a solution, but I would like to keep the GET method to retrieve resources, as HTTP and RESTful suggest. Also I noticed that using Resttemplate of Spring I have no problem, I believe that some tricky configuration could solve the problem."}],"answers":[{"tags":[],"owner":{"account_id":127329,"reputation":2592,"user_id":324407,"accept_rate":25,"display_name":"Delta George"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649604753,"creation_date":1649604753,"answer_id":71818057,"question_id":71145878,"body_markdown":"This should work:\r\n\r\n    odata.put(&quot;$filter&quot;, &quot;created_at&quot;.concat(&quot; ge &quot;).concat(fromTime));","title":"Feign client: Avoid encoding in query parameters","body":"<p>This should work:</p>\n<pre><code>odata.put(&quot;$filter&quot;, &quot;created_at&quot;.concat(&quot; ge &quot;).concat(fromTime));\n</code></pre>\n"}],"owner":{"account_id":11668516,"reputation":58,"user_id":8544452,"display_name":"stefalber"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1359,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649604753,"creation_date":1645029944,"question_id":71145878,"body_markdown":"I have to call a server that implements OData protocol. I&#39;m using Spring and Feign client. I definend the interface as always and this is the method I wrote inside to call the server:\r\n\r\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/resource&quot;)\r\n    ResponseBase&lt;List&lt;Resource&gt;&gt; getResourcer(@RequestParam Map&lt;String, String&gt; odata);\r\n\r\nI have to insert ```$filter```, ```$skip``` and ```$top``` dinamically based on context, so at runtime I create a Map that can contains one or more of these key words. In the scenario that I&#39;m testing I have something like:\r\n\r\n    Map&lt;String, String&gt; odata = new HashMap&lt;&gt;();\r\n    odata.put(&quot;$filter=&quot;, &quot;created_at&quot;.concat(&quot; ge &quot;).concat(fromTime));\r\n    ResponseBase&lt;List&lt;Resource&gt;&gt; response = repository.getResource(odata);\r\n\r\nBut this the url that is invoked:\r\n\r\n    /resource?%24filter%253D=created_at%20ge%201920202921\r\n\r\nIs there a way to avoid encoding in query parameter? Or a easier way to call a rest api that implements OData using Spring?\r\n\r\n**Edit 1:**\r\n       \r\nI used \r\n\r\n    @Bean\r\n    public RequestInterceptor myCustomInterceptor() {\r\n        return new FeignDecoderUriInterceptor();\r\n    }\r\n\r\nwhere `FeignDecoderUriInterceptor` has this logic: \r\n\r\n    public class FeignDecoderUriInterceptor implements RequestInterceptor {\r\n        @Override\r\n        public void apply(RequestTemplate template) {\r\n            System.out.print(template.request().url());\r\n            template.uri(\r\n                    template.request()\r\n                            .url()\r\n                            .replace(&quot;%20&quot;, &quot; &quot;)\r\n                            .replace(&quot;%24&quot;, &quot;$&quot;)\r\n            );\r\n        }\r\n    }\r\n\r\nbut this doesn&#39;t work properly, even when is called correctly. \r\n","title":"Feign client: Avoid encoding in query parameters","body":"<p>I have to call a server that implements OData protocol. I'm using Spring and Feign client. I definend the interface as always and this is the method I wrote inside to call the server:</p>\n<pre><code>@RequestMapping(method = RequestMethod.GET, value = &quot;/resource&quot;)\nResponseBase&lt;List&lt;Resource&gt;&gt; getResourcer(@RequestParam Map&lt;String, String&gt; odata);\n</code></pre>\n<p>I have to insert <code>$filter</code>, <code>$skip</code> and <code>$top</code> dinamically based on context, so at runtime I create a Map that can contains one or more of these key words. In the scenario that I'm testing I have something like:</p>\n<pre><code>Map&lt;String, String&gt; odata = new HashMap&lt;&gt;();\nodata.put(&quot;$filter=&quot;, &quot;created_at&quot;.concat(&quot; ge &quot;).concat(fromTime));\nResponseBase&lt;List&lt;Resource&gt;&gt; response = repository.getResource(odata);\n</code></pre>\n<p>But this the url that is invoked:</p>\n<pre><code>/resource?%24filter%253D=created_at%20ge%201920202921\n</code></pre>\n<p>Is there a way to avoid encoding in query parameter? Or a easier way to call a rest api that implements OData using Spring?</p>\n<p><strong>Edit 1:</strong></p>\n<p>I used</p>\n<pre><code>@Bean\npublic RequestInterceptor myCustomInterceptor() {\n    return new FeignDecoderUriInterceptor();\n}\n</code></pre>\n<p>where <code>FeignDecoderUriInterceptor</code> has this logic:</p>\n<pre><code>public class FeignDecoderUriInterceptor implements RequestInterceptor {\n    @Override\n    public void apply(RequestTemplate template) {\n        System.out.print(template.request().url());\n        template.uri(\n                template.request()\n                        .url()\n                        .replace(&quot;%20&quot;, &quot; &quot;)\n                        .replace(&quot;%24&quot;, &quot;$&quot;)\n        );\n    }\n}\n</code></pre>\n<p>but this doesn't work properly, even when is called correctly.</p>\n"},{"tags":["java","android","kotlin","android-volley"],"answers":[{"tags":[],"owner":{"account_id":15934114,"reputation":25,"user_id":11966370,"display_name":"deo_gemini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649603698,"creation_date":1649603698,"answer_id":71817908,"question_id":71817697,"body_markdown":"volley cannot show the HTTP request/ response \r\nyou can also look at this https://google.github.io/volley/simple.html","title":"Can volley show the full HTTP request / response?","body":"<p>volley cannot show the HTTP request/ response\nyou can also look at this <a href=\"https://google.github.io/volley/simple.html\" rel=\"nofollow noreferrer\">https://google.github.io/volley/simple.html</a></p>\n"}],"owner":{"account_id":7365669,"reputation":5074,"user_id":5607457,"accept_rate":48,"display_name":"Greelings"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649603698,"creation_date":1649602138,"question_id":71817697,"body_markdown":"Can [Volley][1] show the full HTTP request / response?\r\n\r\nI already use `VolleyLog.DEBUG = true` and that does show several logging messages, but not the HTTP traffic.\r\n\r\n\r\n  [1]: https://google.github.io/volley/","title":"Can volley show the full HTTP request / response?","body":"<p>Can <a href=\"https://google.github.io/volley/\" rel=\"nofollow noreferrer\">Volley</a> show the full HTTP request / response?</p>\n<p>I already use <code>VolleyLog.DEBUG = true</code> and that does show several logging messages, but not the HTTP traffic.</p>\n"},{"tags":["java","string","split","hashmap","hashset"],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1649603645,"creation_date":1649602990,"answer_id":71817808,"question_id":71817406,"body_markdown":"Your problem is how you interpreted what &quot;query&quot; is. *Operation* and *Word* are not in a single String. they are elements in the query. Therefore...\r\n```\r\nfor (List&lt;String&gt; query : queries) {\r\n    String operation = query.get(0);\r\n    String word = query.get(1);\r\n    // The rest of your code;\r\n}\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis is for people who love to comment without trying their own suggestions first.\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7RPNL.png\r\n  [2]: https://i.stack.imgur.com/MXVJ2.png","title":"ArrayIndexOutOfBoundsException after splitting a string","body":"<p>Your problem is how you interpreted what &quot;query&quot; is. <em>Operation</em> and <em>Word</em> are not in a single String. they are elements in the query. Therefore...</p>\n<pre><code>for (List&lt;String&gt; query : queries) {\n    String operation = query.get(0);\n    String word = query.get(1);\n    // The rest of your code;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7RPNL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7RPNL.png\" alt=\"enter image description here\" /></a></p>\n<p>This is for people who love to comment without trying their own suggestions first.\n<a href=\"https://i.stack.imgur.com/MXVJ2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MXVJ2.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"display_name":"user18588618"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71817808,"answer_count":1,"score":1,"last_activity_date":1649603645,"creation_date":1649600079,"question_id":71817406,"body_markdown":"I am getting the following error when trying to submit this code to hackerrank on https://www.hackerrank.com/challenges/contacts/problem:\r\n\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 1\r\n\tat Result.contacts(Solution.java:31)\r\n\tat Solution.main(Solution.java:66)\r\n\r\n\r\nHowever, it seems to work on my local machine, but I am not sure if there is a problem after splitting the words. It seems to be split properly as I check by debugging, but I am not sure if I need to use an extra check after split. Or there may be a problem for split.\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    List&lt;String&gt; s = List.of(&quot;add hack&quot;, &quot;add hackerrank&quot;, &quot;find hac&quot;, &quot;find hak&quot;);\r\n    List&lt;List&lt;String&gt;&gt; queries = Collections.singletonList(s);\r\n    List&lt;Integer&gt; result = contacts(queries);\r\n    result.forEach(System.out::println);\r\n}\r\n\r\npublic static List&lt;Integer&gt; contacts(List&lt;List&lt;String&gt;&gt; queries) {\r\n    Set&lt;String&gt; set = new HashSet&lt;&gt;();\r\n    List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n\r\n    for (List&lt;String&gt; query : queries) {\r\n        for (String s : query) {\r\n\r\n            // !!! the problem may be caused from these lines &gt;&gt;&gt;\r\n            String operation = s.split(&quot; &quot;)[0];\r\n            String word = s.split(&quot; &quot;)[1];\r\n\r\n            if (operation.equals(&quot;add&quot;)) {\r\n                set.add(word);\r\n            } else if (operation.equals(&quot;find&quot;)) {\r\n                long count = set.stream().filter(c -&gt; c.startsWith(word)).count();\r\n                result.add((int) count);\r\n            }\r\n        }\r\n    }\r\n    return result;\r\n}\r\n```\r\n\r\nSo, what may the cause of the problem? ","title":"ArrayIndexOutOfBoundsException after splitting a string","body":"<p>I am getting the following error when trying to submit this code to hackerrank on <a href=\"https://www.hackerrank.com/challenges/contacts/problem\" rel=\"nofollow noreferrer\">https://www.hackerrank.com/challenges/contacts/problem</a>:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 1\nat Result.contacts(Solution.java:31)\nat Solution.main(Solution.java:66)</p>\n</blockquote>\n<p>However, it seems to work on my local machine, but I am not sure if there is a problem after splitting the words. It seems to be split properly as I check by debugging, but I am not sure if I need to use an extra check after split. Or there may be a problem for split.</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; s = List.of(&quot;add hack&quot;, &quot;add hackerrank&quot;, &quot;find hac&quot;, &quot;find hak&quot;);\n    List&lt;List&lt;String&gt;&gt; queries = Collections.singletonList(s);\n    List&lt;Integer&gt; result = contacts(queries);\n    result.forEach(System.out::println);\n}\n\npublic static List&lt;Integer&gt; contacts(List&lt;List&lt;String&gt;&gt; queries) {\n    Set&lt;String&gt; set = new HashSet&lt;&gt;();\n    List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n\n    for (List&lt;String&gt; query : queries) {\n        for (String s : query) {\n\n            // !!! the problem may be caused from these lines &gt;&gt;&gt;\n            String operation = s.split(&quot; &quot;)[0];\n            String word = s.split(&quot; &quot;)[1];\n\n            if (operation.equals(&quot;add&quot;)) {\n                set.add(word);\n            } else if (operation.equals(&quot;find&quot;)) {\n                long count = set.stream().filter(c -&gt; c.startsWith(word)).count();\n                result.add((int) count);\n            }\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>So, what may the cause of the problem?</p>\n"},{"tags":["java","token","feign"],"answers":[{"tags":[],"owner":{"account_id":127329,"reputation":2592,"user_id":324407,"accept_rate":25,"display_name":"Delta George"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649603534,"creation_date":1649603534,"answer_id":71817887,"question_id":71378347,"body_markdown":"\r\n        public RequestInterceptor requestInterceptor() {\r\n            return requestTemplate -&gt; requestTemplate.header(&quot;Authorization&quot;, &quot;Bearer &quot; + getAccessToken());\r\n        }\r\n\r\n        private String getAccessToken() {\r\n            Instant instant = Instant.now();\r\n            if (token == null || (instant.getEpochSecond()&gt;token.getRefreshExpiresIn())) {\r\n                token = tokenService.getAdeptAccessToken();\r\n                token.setRefreshExpiresIn(instant.getEpochSecond() + token.getExpiresIn());\r\n            }\r\n            return token.getAccessToken();\r\n        }\r\n","title":"Enable to refresh token on a java feign client","body":"<pre><code>    public RequestInterceptor requestInterceptor() {\n        return requestTemplate -&gt; requestTemplate.header(&quot;Authorization&quot;, &quot;Bearer &quot; + getAccessToken());\n    }\n\n    private String getAccessToken() {\n        Instant instant = Instant.now();\n        if (token == null || (instant.getEpochSecond()&gt;token.getRefreshExpiresIn())) {\n            token = tokenService.getAdeptAccessToken();\n            token.setRefreshExpiresIn(instant.getEpochSecond() + token.getExpiresIn());\n        }\n        return token.getAccessToken();\n    }\n</code></pre>\n"}],"owner":{"account_id":6553690,"reputation":11,"user_id":5067153,"display_name":"user5067153"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1763,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649603534,"creation_date":1646642349,"question_id":71378347,"body_markdown":"I am trying to use a request interceptor to refresh a token on a feign client.\r\nThe problem is that the interceptor is executed on the first request and its not executed on other. Her&#39;s the code of the interceptor. I am using the common instant to try to refresh the token when its expired but the code is only executed on the first request. What is the good way to do that?\r\n\r\n    public AdeptClientConfiguration(TokenService tokenService) {\r\n        this.tokenService = tokenService;\r\n      }\r\n    \r\n    \r\n      @Lazy\r\n      @Bean\r\n      @Qualifier(&quot;AdeptRequestInterceptor&quot;)\r\n      public RequestInterceptor requestInterceptor() {\r\n        Instant instant = Instant.now();\r\n        if (token == null || (instant.getEpochSecond()&gt;token.getRefreshExpiresIn())) {\r\n          token = tokenService.getAdeptAccessToken();\r\n          token.setRefreshExpiresIn(instant.getEpochSecond() + token.getExpiresIn());\r\n        }\r\n        return requestTemplate -&gt; requestTemplate.header(&quot;Authorization&quot;, &quot;Bearer &quot; + token.getAccessToken());\r\n      }\r\n\r\nThis is how I inject the interceptor.\r\n\r\n    @Lazy\r\n    @FeignClient(value = &quot;adept&quot;,  configuration = AdeptClientConfiguration.class, url = &quot;${application.web.adeptUrl}&quot;)\r\n    public interface AdeptClient {\r\n\r\nthe method token.getAccessToken()) is returning me a new token.\r\n\r\nThanks for help.","title":"Enable to refresh token on a java feign client","body":"<p>I am trying to use a request interceptor to refresh a token on a feign client.\nThe problem is that the interceptor is executed on the first request and its not executed on other. Her's the code of the interceptor. I am using the common instant to try to refresh the token when its expired but the code is only executed on the first request. What is the good way to do that?</p>\n<pre><code>public AdeptClientConfiguration(TokenService tokenService) {\n    this.tokenService = tokenService;\n  }\n\n\n  @Lazy\n  @Bean\n  @Qualifier(&quot;AdeptRequestInterceptor&quot;)\n  public RequestInterceptor requestInterceptor() {\n    Instant instant = Instant.now();\n    if (token == null || (instant.getEpochSecond()&gt;token.getRefreshExpiresIn())) {\n      token = tokenService.getAdeptAccessToken();\n      token.setRefreshExpiresIn(instant.getEpochSecond() + token.getExpiresIn());\n    }\n    return requestTemplate -&gt; requestTemplate.header(&quot;Authorization&quot;, &quot;Bearer &quot; + token.getAccessToken());\n  }\n</code></pre>\n<p>This is how I inject the interceptor.</p>\n<pre><code>@Lazy\n@FeignClient(value = &quot;adept&quot;,  configuration = AdeptClientConfiguration.class, url = &quot;${application.web.adeptUrl}&quot;)\npublic interface AdeptClient {\n</code></pre>\n<p>the method token.getAccessToken()) is returning me a new token.</p>\n<p>Thanks for help.</p>\n"},{"tags":["java","oracle","hibernate"],"comments":[{"owner":{"account_id":426907,"reputation":1181,"user_id":808396,"accept_rate":71,"display_name":"Tony Chemit"},"score":1,"creation_date":1649587229,"post_id":71815633,"comment_id":126908887,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":7988880,"reputation":1070,"user_id":9528658,"display_name":"Vladimir.V.Bvn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649603483,"creation_date":1649603483,"answer_id":71817881,"question_id":71815633,"body_markdown":"org.hibernate Interface Session does not allow to work directly with JDBC, that means use prepared statements and so on.\r\n\r\norg.hibernate Interface Session allows to work with Criteria API, HQL and Native queries.\r\n\r\nhttps://docs.jboss.org/hibernate/orm/3.5/javadocs/org/hibernate/Session.html\r\n\r\nBut the doWork method of the org.hibernate Interface Session gives access to the Connection object managed by this Session and there you can make usual JDBC stuff - prepared statements and so on.\r\n\r\nExamples are here:\r\n\r\nhttps://www.javatips.net/api/org.hibernate.jdbc.work","title":"Is it possible to create a prepared statement for querying Oracle db with a hibernate session object instead of connection?","body":"<p>org.hibernate Interface Session does not allow to work directly with JDBC, that means use prepared statements and so on.</p>\n<p>org.hibernate Interface Session allows to work with Criteria API, HQL and Native queries.</p>\n<p><a href=\"https://docs.jboss.org/hibernate/orm/3.5/javadocs/org/hibernate/Session.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/3.5/javadocs/org/hibernate/Session.html</a></p>\n<p>But the doWork method of the org.hibernate Interface Session gives access to the Connection object managed by this Session and there you can make usual JDBC stuff - prepared statements and so on.</p>\n<p>Examples are here:</p>\n<p><a href=\"https://www.javatips.net/api/org.hibernate.jdbc.work\" rel=\"nofollow noreferrer\">https://www.javatips.net/api/org.hibernate.jdbc.work</a></p>\n"}],"owner":{"account_id":24889765,"reputation":1,"user_id":18761896,"display_name":"Neha Kulkarni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649603483,"creation_date":1649585776,"question_id":71815633,"body_markdown":"I have a session object as shown below\r\nSession session = HibernateUtil.currentSession();\r\nWould it be possible to to create prepared statement with that for a query \r\nin Java instead of the normal method using connection? ","title":"Is it possible to create a prepared statement for querying Oracle db with a hibernate session object instead of connection?","body":"<p>I have a session object as shown below\nSession session = HibernateUtil.currentSession();\nWould it be possible to to create prepared statement with that for a query\nin Java instead of the normal method using connection?</p>\n"},{"tags":["java","gson"],"answers":[{"tags":[],"owner":{"account_id":3691991,"reputation":1761,"user_id":3074381,"accept_rate":90,"display_name":"cghislai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1407324715,"creation_date":1407324715,"answer_id":25159271,"question_id":25159186,"body_markdown":"You json does not include arrays (with syntax `[]`) but objects (with syntax `{}`).\r\n\r\nYou probably need to use `new TypeToken&lt;Map&lt;String, &lt;Map&lt;String, Object&gt;&gt;&gt;&gt;(){}.getType();`","title":"Java - Gson parse &quot;Expected BEGIN_ARRAY but was BEGIN_OBJECT&quot;","body":"<p>You json does not include arrays (with syntax <code>[]</code>) but objects (with syntax <code>{}</code>).</p>\n\n<p>You probably need to use <code>new TypeToken&lt;Map&lt;String, &lt;Map&lt;String, Object&gt;&gt;&gt;&gt;(){}.getType();</code></p>\n"}],"owner":{"account_id":4483189,"reputation":105,"user_id":3646662,"accept_rate":50,"display_name":"Jeremy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":25159271,"answer_count":1,"score":0,"last_activity_date":1649603306,"creation_date":1407324528,"question_id":25159186,"body_markdown":"I have a JSON similar to this which I get it by sending HTTP request.\r\n\r\n\r\n    {\r\n          &quot;0&quot;: {\r\n            &quot;name&quot;: &quot;Chunk&quot;,\r\n            &quot;type&quot;: &quot;magic&quot;,\r\n            &quot;item&quot;: &quot;Chestplate&quot;,\r\n            &quot;item_min_lvl&quot;: &quot;70&quot;,\r\n            &quot;id&quot;: {\r\n              &quot;health&quot;: &quot;0.3&quot;,\r\n              &quot;spell&quot;: &quot;24%&quot;,\r\n              &quot;life&quot;: &quot;0.1&quot;,\r\n              &quot;xp&quot;: &quot;24%&quot;,\r\n              &quot;loot&quot;: &quot;22%&quot;\r\n            },\r\n            &quot;def&quot;: &quot;67&quot;\r\n          },\r\n          &quot;1&quot;: {\r\n            &quot;name&quot;: &quot;Thor&quot;,\r\n            &quot;type&quot;: &quot;normal&quot;,\r\n            &quot;item&quot;: &quot;Shoe&quot;,\r\n            &quot;item_min_lvl&quot;: &quot;12&quot;,\r\n            &quot;id&quot;: {\r\n              &quot;xp&quot;: &quot;24%&quot;\r\n            },\r\n            &quot;def&quot;: &quot;12&quot;\r\n          },\r\n          &quot;2&quot;: {\r\n            &quot;name&quot;: &quot;Clipper&quot;,\r\n            &quot;type&quot;: &quot;normal&quot;,\r\n            &quot;item&quot;: &quot;Sword&quot;,\r\n            &quot;item_min_lvl&quot;: &quot;51&quot;,\r\n            &quot;id&quot;: {\r\n              &quot;health&quot;: &quot;1&quot;,\r\n              &quot;life&quot;: &quot;0.12&quot;,\r\n              &quot;xp&quot;: &quot;4%&quot;\r\n            },\r\n            &quot;min_dam&quot;: &quot;11&quot;,\r\n            &quot;max_dam&quot;: &quot;7&quot;\r\n          }\r\n    \r\n    }\r\n\r\nHere is my code:\r\n\r\n    java.lang.reflect.Type type = new TypeToken&lt;ArrayList&lt;Map&lt;String, Object&gt;&gt;&gt;(){}.getType();\r\n    ArrayList&lt;Map&lt;String, Object&gt;&gt; list = gson.fromJson(json, type);//Error here\r\n    for(Map&lt;String, Object&gt; m : list)\r\n    {\r\n        //blah\r\n    }\r\n\r\nIt returns this error `Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2`\r\n\r\nCan anyone help me to solve this error? I am new to `JSON` and `GSON`. Please note, some of the  the &quot;items&quot; aren&#39;t the same so I have to use `TypeToken`.","title":"Java - Gson parse &quot;Expected BEGIN_ARRAY but was BEGIN_OBJECT&quot;","body":"<p>I have a JSON similar to this which I get it by sending HTTP request.</p>\n<pre><code>{\n      &quot;0&quot;: {\n        &quot;name&quot;: &quot;Chunk&quot;,\n        &quot;type&quot;: &quot;magic&quot;,\n        &quot;item&quot;: &quot;Chestplate&quot;,\n        &quot;item_min_lvl&quot;: &quot;70&quot;,\n        &quot;id&quot;: {\n          &quot;health&quot;: &quot;0.3&quot;,\n          &quot;spell&quot;: &quot;24%&quot;,\n          &quot;life&quot;: &quot;0.1&quot;,\n          &quot;xp&quot;: &quot;24%&quot;,\n          &quot;loot&quot;: &quot;22%&quot;\n        },\n        &quot;def&quot;: &quot;67&quot;\n      },\n      &quot;1&quot;: {\n        &quot;name&quot;: &quot;Thor&quot;,\n        &quot;type&quot;: &quot;normal&quot;,\n        &quot;item&quot;: &quot;Shoe&quot;,\n        &quot;item_min_lvl&quot;: &quot;12&quot;,\n        &quot;id&quot;: {\n          &quot;xp&quot;: &quot;24%&quot;\n        },\n        &quot;def&quot;: &quot;12&quot;\n      },\n      &quot;2&quot;: {\n        &quot;name&quot;: &quot;Clipper&quot;,\n        &quot;type&quot;: &quot;normal&quot;,\n        &quot;item&quot;: &quot;Sword&quot;,\n        &quot;item_min_lvl&quot;: &quot;51&quot;,\n        &quot;id&quot;: {\n          &quot;health&quot;: &quot;1&quot;,\n          &quot;life&quot;: &quot;0.12&quot;,\n          &quot;xp&quot;: &quot;4%&quot;\n        },\n        &quot;min_dam&quot;: &quot;11&quot;,\n        &quot;max_dam&quot;: &quot;7&quot;\n      }\n\n}\n</code></pre>\n<p>Here is my code:</p>\n<pre><code>java.lang.reflect.Type type = new TypeToken&lt;ArrayList&lt;Map&lt;String, Object&gt;&gt;&gt;(){}.getType();\nArrayList&lt;Map&lt;String, Object&gt;&gt; list = gson.fromJson(json, type);//Error here\nfor(Map&lt;String, Object&gt; m : list)\n{\n    //blah\n}\n</code></pre>\n<p>It returns this error <code>Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2</code></p>\n<p>Can anyone help me to solve this error? I am new to <code>JSON</code> and <code>GSON</code>. Please note, some of the  the &quot;items&quot; aren't the same so I have to use <code>TypeToken</code>.</p>\n"},{"tags":["java","maven","jar"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1649603804,"post_id":71817819,"comment_id":126912373,"body_markdown":"Why do you create your own repository? Why not use the local repository of your computer? BTW: Dependencies are loaded automatically.","body":"Why do you create your own repository? Why not use the local repository of your computer? BTW: Dependencies are loaded automatically."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1649607630,"post_id":71817819,"comment_id":126913254,"body_markdown":"The simplest thing is to do a `mvn install` in your `testlib` project...then write in the other project you like to use it simply a dependency with the appropriate names and that&#39;s it. No definition of a local repository etc. needed. Furthermore what is the reason for mentioning the maven-compiler-plugin ? If you like to mention it is better to define the version of the maven-compiler-plugin...","body":"The simplest thing is to do a <code>mvn install</code> in your <code>testlib</code> project...then write in the other project you like to use it simply a dependency with the appropriate names and that&#39;s it. No definition of a local repository etc. needed. Furthermore what is the reason for mentioning the maven-compiler-plugin ? If you like to mention it is better to define the version of the maven-compiler-plugin..."}],"owner":{"account_id":18417763,"reputation":47,"user_id":18723152,"display_name":"dasd-431"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649603049,"creation_date":1649603049,"question_id":71817819,"body_markdown":"So this is probably a stupid question, but I have created an own library &quot;testlib&quot; which I want to include in other of my own Maven projects.\r\n\r\nThis is my own librarys .pom\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.test.testlib&lt;/groupId&gt;\r\n    &lt;artifactId&gt;testlib&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;name&gt;${project.groupId}:${project.artifactId}&lt;/name&gt;\r\n    &lt;description&gt;testlibrary&lt;/description&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.36&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nIn order to include my library in another new project, I have created a local repository in my new projects .pom\r\n\r\n```xml\r\n...\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;data-local&lt;/id&gt;\r\n            &lt;name&gt;data&lt;/name&gt;\r\n            &lt;url&gt;file://${project.basedir}/repo&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.test.testlib&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testlib&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n...\r\n```\r\n\r\nInstalling my own library &quot;testlib&quot; via mvn install is working fine for testlib itself. The problem is, that Maven will not detect that &quot;testlib&quot; requires org.slf4j, hence won&#39;t get it when I run install.\r\n\r\nI have checked other dependencies in my .m2 folder and saw they have a .pom file with the same name as the .jar (for log4j that&#39;d be log4j-1.2.17.pom). I tried copying testlibs .pom next to its .jar and changed the name accordinly, but that doesn&#39;t do it.\r\n\r\nWhat do I have to do in order to get the same functionality as any other library from maven central? In other words, I don&#39;t want a fat .jar that has all dependencies included. I want a Maven project that adds my library as a dependency to discover that it needs sl4j and include it when mvn install is run.\r\n\r\n","title":"import own .jar file as dependency via Maven and have install discover and retrieve it&#39;s dependencies","body":"<p>So this is probably a stupid question, but I have created an own library &quot;testlib&quot; which I want to include in other of my own Maven projects.</p>\n<p>This is my own librarys .pom</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.test.testlib&lt;/groupId&gt;\n    &lt;artifactId&gt;testlib&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;name&gt;${project.groupId}:${project.artifactId}&lt;/name&gt;\n    &lt;description&gt;testlibrary&lt;/description&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.36&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>In order to include my library in another new project, I have created a local repository in my new projects .pom</p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;data-local&lt;/id&gt;\n            &lt;name&gt;data&lt;/name&gt;\n            &lt;url&gt;file://${project.basedir}/repo&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.test.testlib&lt;/groupId&gt;\n            &lt;artifactId&gt;testlib&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n...\n</code></pre>\n<p>Installing my own library &quot;testlib&quot; via mvn install is working fine for testlib itself. The problem is, that Maven will not detect that &quot;testlib&quot; requires org.slf4j, hence won't get it when I run install.</p>\n<p>I have checked other dependencies in my .m2 folder and saw they have a .pom file with the same name as the .jar (for log4j that'd be log4j-1.2.17.pom). I tried copying testlibs .pom next to its .jar and changed the name accordinly, but that doesn't do it.</p>\n<p>What do I have to do in order to get the same functionality as any other library from maven central? In other words, I don't want a fat .jar that has all dependencies included. I want a Maven project that adds my library as a dependency to discover that it needs sl4j and include it when mvn install is run.</p>\n"},{"tags":["java","android","android-studio","reverse-engineering","apktool"],"answers":[{"tags":[],"owner":{"account_id":205974,"reputation":3290,"user_id":455008,"accept_rate":83,"display_name":"Connor Tumbleson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646777345,"creation_date":1646777345,"answer_id":71402060,"question_id":71390394,"body_markdown":"An ongoing problem I&#39;m debating on best path to solve. aapt2 versions are getting stricter to add more checks during compile time vs runtime. My gut is your building applications against lower versions than Apktool uses. You have a few options here:\r\n\r\n * Don&#39;t use private resources. Embed them directly instead of referencing them, AOSP does not want you to reference things that are not on a forced contract.\r\n * Trick it by changing the resource entry `@*android:color/Teal_800`, this allows it to override the restriction\r\n * Help upgrade the internal aapt/aapt2 within Apktool and upstream a patch to resolve this more easily.\r\n\r\ncontext - Apktool Maintainer.","title":"Apktool Not Building Simple Decompiled Android Studio APK","body":"<p>An ongoing problem I'm debating on best path to solve. aapt2 versions are getting stricter to add more checks during compile time vs runtime. My gut is your building applications against lower versions than Apktool uses. You have a few options here:</p>\n<ul>\n<li>Don't use private resources. Embed them directly instead of referencing them, AOSP does not want you to reference things that are not on a forced contract.</li>\n<li>Trick it by changing the resource entry <code>@*android:color/Teal_800</code>, this allows it to override the restriction</li>\n<li>Help upgrade the internal aapt/aapt2 within Apktool and upstream a patch to resolve this more easily.</li>\n</ul>\n<p>context - Apktool Maintainer.</p>\n"},{"tags":[],"owner":{"account_id":21151801,"reputation":85,"user_id":16889846,"display_name":"Nikita K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649602953,"creation_date":1649602953,"answer_id":71817801,"question_id":71390394,"body_markdown":"I have solved this issue just by adding missing **aapt.exe** file in the apktool directory. But modified changes in the extracted apk director was unable to make signed apk properly, was giving so many errors.\r\n\r\nSo I used ApkEasyTool tool for signing, zipalign, compiling apk dir. This worked correctly.","title":"Apktool Not Building Simple Decompiled Android Studio APK","body":"<p>I have solved this issue just by adding missing <strong>aapt.exe</strong> file in the apktool directory. But modified changes in the extracted apk director was unable to make signed apk properly, was giving so many errors.</p>\n<p>So I used ApkEasyTool tool for signing, zipalign, compiling apk dir. This worked correctly.</p>\n"}],"owner":{"account_id":21151801,"reputation":85,"user_id":16889846,"display_name":"Nikita K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1687,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71817801,"answer_count":2,"score":0,"last_activity_date":1649602953,"creation_date":1646717121,"question_id":71390394,"body_markdown":"I have created very simple android studio project and modified **nothing**. Apk is get successfully decompiled using command `apktool d test1.apk` but when i do build the decompiled directory using command `apktool b -o test_build.apk test1/` i&#39;m getting error and no apk is generated.\r\n\r\n**Output of :**  `apktool b -o test_build.apk test1/`\r\n\r\n    ┌──(root&#128128;kattie)-[/home/kattie/android]\r\n    └─# apktool b -o test11.apk test1/ \r\n    I: Using Apktool 2.4.1\r\n    I: Checking whether sources has changed...\r\n    I: Smaling smali folder into classes.dex...\r\n    I: Checking whether sources has changed...\r\n    I: Smaling smali_classes3 folder into classes3.dex...\r\n    I: Checking whether sources has changed...\r\n    I: Smaling smali_classes2 folder into classes2.dex...\r\n    I: Checking whether resources has changed...\r\n    I: Building resources...\r\n    W: Failed to generate resource table for split &#39;&#39;\r\n    W: /home/kattie/android/test1/res/values-v31/colors.xml:3: error: Error: Resource is not public. (at &#39;m3_ref_palette_dynamic_neutral0&#39; with value &#39;@android:color/Teal_800&#39;).\r\n    W: \r\n    brut.androlib.AndrolibException: brut.common.BrutException: could not exec (exit code = 1): \r\n    [/tmp/brut_util_Jar_931359246141218477.tmp, p, --forced-package-id, 127, --min-sdk-version, 26, --target-sdk-version, 32, --version-code,\r\n     1, --version-name, 1.0, --no-version-vectors, -F, /tmp/APKTOOL10608228614004030548.tmp, -e, /tmp/APKTOOL8247866953395506188.tmp, -0, arsc,\r\n    -I, /root/.local/share/apktool/framework/1.apk, -S, /home/kattie/android/test1/res, -M, /home/kattie/android/test1/AndroidManifest.xml]\r\n\r\n**Tries:**\r\n\r\n* I have tried to solve [Failed to generate  resource table for split &#39;&#39;][1]  but not worked. \r\n\r\n* I have tried to solve [brut.androlib.AndrolibException: brut.common.BrutException:][2] but not worked. (gives more errors)\r\n\r\n\r\n**My system details**\r\n\r\n&gt; **System:** linux\r\n&gt; \r\n&gt; **Java:**  openjdk version &quot;11.0.11-ea&quot; 2021-04-20 OpenJDK Runtime Environment (build 11.0.11-ea+4-post-Debian-1) OpenJDK 64-Bit Server\r\n&gt; VM (build 11.0.11-ea+4-post-Debian-1, mixed mode, sharing)\r\n&gt; \r\n&gt; **Apktool:** v2.4.1\r\n&gt; \r\n&gt; \r\n&gt; **Android studio:** 2021.1.1, minSDK: 26, TargetSDK 32\r\n\r\n  [1]: https://stackoverflow.com/questions/28225023/failed-to-generate-resource-table-for-split\r\n  [2]: https://stackoverflow.com/questions/57441409/how-fix-brut-androlib-androlibexception-brut-common-brutexception-could-not-ex","title":"Apktool Not Building Simple Decompiled Android Studio APK","body":"<p>I have created very simple android studio project and modified <strong>nothing</strong>. Apk is get successfully decompiled using command <code>apktool d test1.apk</code> but when i do build the decompiled directory using command <code>apktool b -o test_build.apk test1/</code> i'm getting error and no apk is generated.</p>\n<p><strong>Output of :</strong>  <code>apktool b -o test_build.apk test1/</code></p>\n<pre><code>┌──(root💀kattie)-[/home/kattie/android]\n└─# apktool b -o test11.apk test1/ \nI: Using Apktool 2.4.1\nI: Checking whether sources has changed...\nI: Smaling smali folder into classes.dex...\nI: Checking whether sources has changed...\nI: Smaling smali_classes3 folder into classes3.dex...\nI: Checking whether sources has changed...\nI: Smaling smali_classes2 folder into classes2.dex...\nI: Checking whether resources has changed...\nI: Building resources...\nW: Failed to generate resource table for split ''\nW: /home/kattie/android/test1/res/values-v31/colors.xml:3: error: Error: Resource is not public. (at 'm3_ref_palette_dynamic_neutral0' with value '@android:color/Teal_800').\nW: \nbrut.androlib.AndrolibException: brut.common.BrutException: could not exec (exit code = 1): \n[/tmp/brut_util_Jar_931359246141218477.tmp, p, --forced-package-id, 127, --min-sdk-version, 26, --target-sdk-version, 32, --version-code,\n 1, --version-name, 1.0, --no-version-vectors, -F, /tmp/APKTOOL10608228614004030548.tmp, -e, /tmp/APKTOOL8247866953395506188.tmp, -0, arsc,\n-I, /root/.local/share/apktool/framework/1.apk, -S, /home/kattie/android/test1/res, -M, /home/kattie/android/test1/AndroidManifest.xml]\n</code></pre>\n<p><strong>Tries:</strong></p>\n<ul>\n<li><p>I have tried to solve <a href=\"https://stackoverflow.com/questions/28225023/failed-to-generate-resource-table-for-split\">Failed to generate  resource table for split ''</a>  but not worked.</p>\n</li>\n<li><p>I have tried to solve <a href=\"https://stackoverflow.com/questions/57441409/how-fix-brut-androlib-androlibexception-brut-common-brutexception-could-not-ex\">brut.androlib.AndrolibException: brut.common.BrutException:</a> but not worked. (gives more errors)</p>\n</li>\n</ul>\n<p><strong>My system details</strong></p>\n<blockquote>\n<p><strong>System:</strong> linux</p>\n<p><strong>Java:</strong>  openjdk version &quot;11.0.11-ea&quot; 2021-04-20 OpenJDK Runtime Environment (build 11.0.11-ea+4-post-Debian-1) OpenJDK 64-Bit Server\nVM (build 11.0.11-ea+4-post-Debian-1, mixed mode, sharing)</p>\n<p><strong>Apktool:</strong> v2.4.1</p>\n<p><strong>Android studio:</strong> 2021.1.1, minSDK: 26, TargetSDK 32</p>\n</blockquote>\n"},{"tags":["java","file","unix"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1649502071,"post_id":71807423,"comment_id":126895002,"body_markdown":"Make your java program create a dummy file when it starts working on abc.txt and deletes it when finished. Before running `mv` check whether that file exists. If it doesn&#39;t, your java program is not working with the file and you can move it. (This is not bullet-proof but could be close enough)","body":"Make your java program create a dummy file when it starts working on abc.txt and deletes it when finished. Before running <code>mv</code> check whether that file exists. If it doesn&#39;t, your java program is not working with the file and you can move it. (This is not bullet-proof but could be close enough)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1649504641,"post_id":71807423,"comment_id":126895553,"body_markdown":"Run `lsof` on it?","body":"Run <code>lsof</code> on it?"},{"owner":{"account_id":2686715,"reputation":8194,"user_id":2320961,"display_name":"Nic3500"},"score":0,"creation_date":1649635161,"post_id":71807423,"comment_id":126918791,"body_markdown":"The method you use in your cron will overwrite the content of `abc.txt` every 15 minutes.  If you want to keep the entire content, you could use `cp` instead.  As the file grows, you copy its entire content to the new location.","body":"The method you use in your cron will overwrite the content of <code>abc.txt</code> every 15 minutes.  If you want to keep the entire content, you could use <code>cp</code> instead.  As the file grows, you copy its entire content to the new location."}],"owner":{"account_id":16034416,"reputation":1,"user_id":11572500,"display_name":"Gaurav Yadav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649602891,"creation_date":1649501829,"question_id":71807423,"body_markdown":"I am writing to a file `abc.txt` using a Java program, and periodically I want to move that file to a different location.\r\n\r\nI have created a job for the same, which runs every 15 mins and does:\r\n```\r\n mv oldlocation\\abc.txt newlocation\\abc.txt\r\n```\r\nHow can I ensure the file is not in use by the java program before I run the `mv` command?\r\n","title":"How to ensure a file is not in use before using mv command?","body":"<p>I am writing to a file <code>abc.txt</code> using a Java program, and periodically I want to move that file to a different location.</p>\n<p>I have created a job for the same, which runs every 15 mins and does:</p>\n<pre><code> mv oldlocation\\abc.txt newlocation\\abc.txt\n</code></pre>\n<p>How can I ensure the file is not in use by the java program before I run the <code>mv</code> command?</p>\n"},{"tags":["java","android","timer"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1649564976,"post_id":71813550,"comment_id":126905479,"body_markdown":"It probably does an implicit start at creation.  Putting a call to stop in your onCreate will likely fix it.","body":"It probably does an implicit start at creation.  Putting a call to stop in your onCreate will likely fix it."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1649567662,"post_id":71813550,"comment_id":126905768,"body_markdown":"This is weird. Not for me. Then why for you? I tried to reproduce and it works fine","body":"This is weird. Not for me. Then why for you? I tried to reproduce and it works fine"}],"owner":{"account_id":5074361,"reputation":1,"user_id":4072215,"display_name":"B1rt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649602836,"creation_date":1649561197,"question_id":71813550,"body_markdown":"When I launch the app with the widget Chronometer, this counts up itself parallel to the android activity when this is botted . I put a button for example and I added in the listener the method chronometer.start(). When I press the button, the time  had  already counted. It is like both Activity and Chronometer start parallel without any handle for the user. I was looking for solutions and I founded it how to implement and manage but I will know the reason why this happen. This is my code:  \r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    Chronometer chronometer;\r\n    Button button_record;\r\n    Button button_stop;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        button_record = (Button)findViewById(R.id.button_record);\r\n        button_stop = (Button)findViewById(R.id.button_stop);\r\n        chronometer = (Chronometer)findViewById(R.id.chronometer_mic);\r\n\r\n        button_record.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                    chronometer.start(); // Here the time was counted up when the app is booted or Activity \r\n            }\r\n        });\r\n\r\n        button_stop.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                chronometer.stop();\r\n            }\r\n        });\r\n    }\r\n}","title":"Why does chronometer begin to count up when an Activity starts?","body":"<p>When I launch the app with the widget Chronometer, this counts up itself parallel to the android activity when this is botted . I put a button for example and I added in the listener the method chronometer.start(). When I press the button, the time  had  already counted. It is like both Activity and Chronometer start parallel without any handle for the user. I was looking for solutions and I founded it how to implement and manage but I will know the reason why this happen. This is my code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nChronometer chronometer;\nButton button_record;\nButton button_stop;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    button_record = (Button)findViewById(R.id.button_record);\n    button_stop = (Button)findViewById(R.id.button_stop);\n    chronometer = (Chronometer)findViewById(R.id.chronometer_mic);\n\n    button_record.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n                chronometer.start(); // Here the time was counted up when the app is booted or Activity \n        }\n    });\n\n    button_stop.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            chronometer.stop();\n        }\n    });\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","javascript","timer","settimeout","setinterval"],"comments":[{"owner":{"account_id":451370,"reputation":2890,"user_id":847235,"accept_rate":92,"display_name":"intrepidis"},"score":0,"creation_date":1427797633,"post_id":26311470,"comment_id":46915391,"body_markdown":"This question has some good relevant answers: http://stackoverflow.com/questions/4044726/how-to-set-a-timer-in-java","body":"This question has some good relevant answers: <a href=\"http://stackoverflow.com/questions/4044726/how-to-set-a-timer-in-java\" title=\"how to set a timer in java\">stackoverflow.com/questions/4044726/how-to-set-a-timer-in-ja&zwnj;&#8203;va</a>"}],"answers":[{"tags":[],"owner":{"account_id":4641056,"reputation":2363,"user_id":3760899,"accept_rate":52,"display_name":"Aditya Singh"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1413005778,"creation_date":1413005778,"answer_id":26311493,"question_id":26311470,"body_markdown":"You should use `Thread.sleep()` method.  \r\n  \r\n    try {\r\n\r\n        Thread.sleep(60000);\r\n        callTheFunctionYouWantTo();\r\n    } catch(InterruptedException ex) {\r\n\r\n    }\r\n  \r\n  \r\nThis will wait for 60,000 milliseconds(60 seconds) and then execute the next statements in your code. ","title":"What is the equivalent of javascript setTimeout in Java?","body":"<p>You should use <code>Thread.sleep()</code> method.  </p>\n\n<pre><code>try {\n\n    Thread.sleep(60000);\n    callTheFunctionYouWantTo();\n} catch(InterruptedException ex) {\n\n}\n</code></pre>\n\n<p>This will wait for 60,000 milliseconds(60 seconds) and then execute the next statements in your code. </p>\n"},{"tags":[],"owner":{"account_id":1279576,"reputation":3559,"user_id":1234007,"accept_rate":69,"display_name":"Aman Gautam"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1413006147,"creation_date":1413006147,"answer_id":26311531,"question_id":26311470,"body_markdown":"You can simply use `Thread.sleep()` for this purpose. But if you are working in a multithreaded environment with a user interface, you would want to perform this in the separate thread to avoid the sleep to block the user interface.\r\n\r\n\ttry{\r\n\t\tThread.sleep(60000);\r\n\t\t// Then do something meaningful...\r\n\t}catch(InterruptedException e){\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\n","title":"What is the equivalent of javascript setTimeout in Java?","body":"<p>You can simply use <code>Thread.sleep()</code> for this purpose. But if you are working in a multithreaded environment with a user interface, you would want to perform this in the separate thread to avoid the sleep to block the user interface.</p>\n\n<pre><code>try{\n    Thread.sleep(60000);\n    // Then do something meaningful...\n}catch(InterruptedException e){\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4230755,"reputation":7764,"user_id":3536342,"display_name":"DavidPostill"},"down_vote_count":1,"up_vote_count":23,"is_accepted":true,"score":22,"last_activity_date":1538620180,"creation_date":1413009543,"answer_id":26311872,"question_id":26311470,"body_markdown":"&gt; &quot;I used the Timer class, but I think that that is not the best way.&quot;\r\n\r\nThe other answers assume you are not using Swing for your user interface (button).\r\n\r\nIf you are using Swing then do **not** use `Thread.sleep()` as it will freeze your Swing application.\r\n\r\nInstead you should use a `javax.swing.Timer`.\r\n\r\nSee the Java tutorial [How to Use Swing Timers](http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) and [Lesson: Concurrency in Swing](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more information and examples.","title":"What is the equivalent of javascript setTimeout in Java?","body":"<blockquote>\n  <p>\"I used the Timer class, but I think that that is not the best way.\"</p>\n</blockquote>\n\n<p>The other answers assume you are not using Swing for your user interface (button).</p>\n\n<p>If you are using Swing then do <strong>not</strong> use <code>Thread.sleep()</code> as it will freeze your Swing application.</p>\n\n<p>Instead you should use a <code>javax.swing.Timer</code>.</p>\n\n<p>See the Java tutorial <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"noreferrer\">How to Use Swing Timers</a> and <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"noreferrer\">Lesson: Concurrency in Swing</a> for more information and examples.</p>\n"},{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630717136,"creation_date":1459523651,"answer_id":36359885,"question_id":26311470,"body_markdown":"There is `setTimeout()` method in [underscore-java][1] library.\r\n\r\nCode example:\r\n\r\n    import com.github.underscore.Underscore;\r\n    import java.util.function.Supplier;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            final Integer[] counter = new Integer[] {0};\r\n            Supplier&lt;Void&gt; incr =\r\n                () -&gt; {\r\n                    counter[0]++;\r\n                    return null;\r\n                };\r\n            Underscore.setTimeout(incr, 0);\r\n        }\r\n    }\r\n\r\nThe function will be started in 100ms with a new thread.\r\n\r\n\r\n  [1]: https://github.com/javadev/underscore-java","title":"What is the equivalent of javascript setTimeout in Java?","body":"<p>There is <code>setTimeout()</code> method in <a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">underscore-java</a> library.</p>\n<p>Code example:</p>\n<pre><code>import com.github.underscore.Underscore;\nimport java.util.function.Supplier;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        final Integer[] counter = new Integer[] {0};\n        Supplier&lt;Void&gt; incr =\n            () -&gt; {\n                counter[0]++;\n                return null;\n            };\n        Underscore.setTimeout(incr, 0);\n    }\n}\n</code></pre>\n<p>The function will be started in 100ms with a new thread.</p>\n"},{"tags":[],"owner":{"account_id":3063996,"reputation":5861,"user_id":2596109,"accept_rate":50,"display_name":"Oleg Mikhailov"},"down_vote_count":2,"up_vote_count":66,"is_accepted":false,"score":64,"last_activity_date":1461594658,"creation_date":1461592956,"answer_id":36842856,"question_id":26311470,"body_markdown":"Asynchronous implementation with JDK **1.8**:\r\n\r\n    public static void setTimeout(Runnable runnable, int delay){\r\n        new Thread(() -&gt; {\r\n            try {\r\n                Thread.sleep(delay);\r\n                runnable.run();\r\n            }\r\n            catch (Exception e){\r\n                System.err.println(e);\r\n            }\r\n        }).start();\r\n    }\r\n\r\nTo call with lambda expression:\r\n\r\n    setTimeout(() -&gt; System.out.println(&quot;test&quot;), 1000);\r\n\r\nOr with method reference:\r\n\r\n    setTimeout(anInstance::aMethod, 1000);\r\n\r\nTo deal with the current running thread only use a synchronous version:\r\n\r\n    public static void setTimeoutSync(Runnable runnable, int delay) {\r\n        try {\r\n            Thread.sleep(delay);\r\n            runnable.run();\r\n        }\r\n        catch (Exception e){\r\n            System.err.println(e);\r\n        }\r\n    }\r\n\r\nUse this with caution in main thread – it will suspend  everything after the call until `timeout` expires and `runnable` executes.","title":"What is the equivalent of javascript setTimeout in Java?","body":"<p>Asynchronous implementation with JDK <strong>1.8</strong>:</p>\n\n<pre><code>public static void setTimeout(Runnable runnable, int delay){\n    new Thread(() -&gt; {\n        try {\n            Thread.sleep(delay);\n            runnable.run();\n        }\n        catch (Exception e){\n            System.err.println(e);\n        }\n    }).start();\n}\n</code></pre>\n\n<p>To call with lambda expression:</p>\n\n<pre><code>setTimeout(() -&gt; System.out.println(\"test\"), 1000);\n</code></pre>\n\n<p>Or with method reference:</p>\n\n<pre><code>setTimeout(anInstance::aMethod, 1000);\n</code></pre>\n\n<p>To deal with the current running thread only use a synchronous version:</p>\n\n<pre><code>public static void setTimeoutSync(Runnable runnable, int delay) {\n    try {\n        Thread.sleep(delay);\n        runnable.run();\n    }\n    catch (Exception e){\n        System.err.println(e);\n    }\n}\n</code></pre>\n\n<p>Use this with caution in main thread – it will suspend  everything after the call until <code>timeout</code> expires and <code>runnable</code> executes.</p>\n"},{"tags":[],"owner":{"account_id":1270860,"reputation":169,"user_id":1227168,"display_name":"Juliano Moraes"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1649598647,"creation_date":1487963000,"answer_id":42446389,"question_id":26311470,"body_markdown":"Do not use `Thread.sleep` as **it will freeze your main thread**, and not simulate setTimeout from JS. \r\n\r\nYou need to create and start a new background thread to run your code without stoping the execution of the main thread. \r\n\r\nOne example:\r\n\r\n```javascript\r\n\r\n    new Thread() {\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                this.sleep(3000);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            \r\n            \r\n            // your code here\r\n\r\n        }\r\n    }.start();\r\n```\r\n","title":"What is the equivalent of javascript setTimeout in Java?","body":"<p>Do not use <code>Thread.sleep</code> as <strong>it will freeze your main thread</strong>, and not simulate setTimeout from JS.</p>\n<p>You need to create and start a new background thread to run your code without stoping the execution of the main thread.</p>\n<p>One example:</p>\n<pre class=\"lang-js prettyprint-override\"><code>\n    new Thread() {\n        @Override\n        public void run() {\n            try {\n                this.sleep(3000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            \n            \n            // your code here\n\n        }\n    }.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9823746,"reputation":73,"user_id":7277537,"display_name":"babak"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1649602802,"creation_date":1496577729,"answer_id":44353860,"question_id":26311470,"body_markdown":"     \r\n    public ScheduledExecutorService = ses;\r\n    ses.scheduleAtFixedRate(new Runnable() {\r\n        run() {\r\n                //running after specified time\r\n        }\r\n    }, 60, TimeUnit.SECONDS);\r\n\r\nIt runs after 60 seconds from `scheduleAtFixedRate`. Check the [ScheduledExecutorService](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html) documentation. ","title":"What is the equivalent of javascript setTimeout in Java?","body":"<pre><code>public ScheduledExecutorService = ses;\nses.scheduleAtFixedRate(new Runnable() {\n    run() {\n            //running after specified time\n    }\n}, 60, TimeUnit.SECONDS);\n</code></pre>\n<p>It runs after 60 seconds from <code>scheduleAtFixedRate</code>. Check the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\">ScheduledExecutorService</a> documentation.</p>\n"},{"tags":[],"owner":{"account_id":1083604,"reputation":9098,"user_id":1079877,"accept_rate":61,"display_name":"user1079877"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1543339260,"creation_date":1543004772,"answer_id":53452586,"question_id":26311470,"body_markdown":"Use Java 9 CompletableFuture, every simple: \r\n\r\n    CompletableFuture.delayedExecutor(5, TimeUnit.SECONDS).execute(() -&gt; {\r\n      // Your code here executes after 5 seconds!\r\n    });","title":"What is the equivalent of javascript setTimeout in Java?","body":"<p>Use Java 9 CompletableFuture, every simple: </p>\n\n<pre><code>CompletableFuture.delayedExecutor(5, TimeUnit.SECONDS).execute(() -&gt; {\n  // Your code here executes after 5 seconds!\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8773527,"reputation":166,"user_id":6559478,"display_name":"Luca Pinelli"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1558373402,"creation_date":1558371237,"answer_id":56225206,"question_id":26311470,"body_markdown":"Using the [java.util.Timer](https://docs.oracle.com/javase/7/docs/api/java/util/Timer.html):\r\n\r\n```java\r\nnew Timer().schedule(new TimerTask() {\r\n\t@Override\r\n\tpublic void run() {\r\n\t\t// here goes your code to delay\r\n\t}\r\n}, 300L); // 300 is the delay in millis\r\n```\r\n\r\n[Here](https://www.baeldung.com/java-timer-and-timertask) you can find some info and examples.\r\n","title":"What is the equivalent of javascript setTimeout in Java?","body":"<p>Using the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Timer.html\" rel=\"noreferrer\">java.util.Timer</a>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>new Timer().schedule(new TimerTask() {\n    @Override\n    public void run() {\n        // here goes your code to delay\n    }\n}, 300L); // 300 is the delay in millis\n</code></pre>\n\n<p><a href=\"https://www.baeldung.com/java-timer-and-timertask\" rel=\"noreferrer\">Here</a> you can find some info and examples.</p>\n"}],"owner":{"account_id":5159355,"reputation":651,"user_id":4131561,"display_name":"Ar&#243;n Garc&#237;a S&#225;nchez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110040,"favorite_count":0,"down_vote_count":1,"up_vote_count":64,"accepted_answer_id":26311872,"answer_count":9,"score":63,"last_activity_date":1649602802,"creation_date":1413005538,"question_id":26311470,"body_markdown":"I need to implement a function to run after 60 seconds of clicking a button. Please help, I used the Timer class, but I think that that is not the best way.","title":"What is the equivalent of javascript setTimeout in Java?","body":"<p>I need to implement a function to run after 60 seconds of clicking a button. Please help, I used the Timer class, but I think that that is not the best way.</p>\n"},{"tags":["java","swing","javasound"],"comments":[{"owner":{"account_id":7228310,"reputation":263,"user_id":5516116,"display_name":"PabloBuendia"},"score":2,"creation_date":1649548602,"post_id":71812723,"comment_id":126903901,"body_markdown":"Why are you using a File class to read an URL? Shouldn&#39;t  you use the URL?\n\n```java\nURL url = new URL(&quot;https://codehs.com/uploads/1981fc4b1d2e4123e9cbe7ab8cc1962a&quot;);\n```","body":"Why are you using a File class to read an URL? Shouldn&#39;t  you use the URL?  <code>java URL url = new URL(&quot;https:&#47;&#47;codehs.com&#47;uploads&#47;1981fc4b1d2e4123e9cbe7ab8cc1&zwnj;&#8203;962a&quot;); </code>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1649552508,"post_id":71812723,"comment_id":126904324,"body_markdown":"I corrected the use of `File` in favour for `URL` and your URL causes a `mark/reset not supported` exception.  It&#39;s unlikely that the source URL points to a &quot;file&quot; and instead points to some kind of imbedded player, but I&#39;m guessing","body":"I corrected the use of <code>File</code> in favour for <code>URL</code> and your URL causes a <code>mark&#47;reset not supported</code> exception.  It&#39;s unlikely that the source URL points to a &quot;file&quot; and instead points to some kind of imbedded player, but I&#39;m guessing"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1649563724,"post_id":71812723,"comment_id":126905338,"body_markdown":"@MadProgrammer *&quot;points to some kind of imbedded player&quot;* [Yup](https://i.stack.imgur.com/kxu89.png). But OP: For the moment I&#39;d focus on fixing `could not find or load main class`. Nothing else could work until that is fixed. Are you using an IDE?","body":"@MadProgrammer <i>&quot;points to some kind of imbedded player&quot;</i> <a href=\"https://i.stack.imgur.com/kxu89.png\" rel=\"nofollow noreferrer\">Yup</a>. But OP: For the moment I&#39;d focus on fixing <code>could not find or load main class</code>. Nothing else could work until that is fixed. Are you using an IDE?"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1649573078,"post_id":71812723,"comment_id":126906477,"body_markdown":"Sound is extremely complex for a Java beginner.  First, create a working GUI.  Second, add the sound.  Third, only MIDI and WAV files are playable through Java sound.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay close attention to the [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) and [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) sections.","body":"Sound is extremely complex for a Java beginner.  First, create a working GUI.  Second, add the sound.  Third, only MIDI and WAV files are playable through Java sound.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay close attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> sections."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1649573262,"post_id":71812723,"comment_id":126906503,"body_markdown":"Finally, after you&#39;ve mastered using Java, you can consider studying the [Sound](https://docs.oracle.com/javase/tutorial/sound/) tutorial.","body":"Finally, after you&#39;ve mastered using Java, you can consider studying the <a href=\"https://docs.oracle.com/javase/tutorial/sound/\" rel=\"nofollow noreferrer\">Sound</a> tutorial."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1649576564,"post_id":71812723,"comment_id":126906943,"body_markdown":"@GilbertLeBlanc *&quot;only MIDI and WAV files are playable through Java sound&quot;* Incorrect. Java Sound supports formats via a Service Provider Interface. There is no SPI for MIDI in the standard JRE, but one can be supplied from the JMF (if you can find it). WAV and AU (at least, from memory) *are* supplied with the JRE. An app can use `AudioSystem.getAudioFileTypes()` for a list of supported types. That is handy for apps that offer a file chooser to load sounds.","body":"@GilbertLeBlanc <i>&quot;only MIDI and WAV files are playable through Java sound&quot;</i> Incorrect. Java Sound supports formats via a Service Provider Interface. There is no SPI for MIDI in the standard JRE, but one can be supplied from the JMF (if you can find it). WAV and AU (at least, from memory) <i>are</i> supplied with the JRE. An app can use <code>AudioSystem.getAudioFileTypes()</code> for a list of supported types. That is handy for apps that offer a file chooser to load sounds."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1649687144,"post_id":71812723,"comment_id":126932910,"body_markdown":"*I am trying to play a sound using Java Sound* If you are trying to play a .wav file then check out: https://stackoverflow.com/questions/64509691/how-can-i-add-some-sound-to-my-java-jframe/64509714#64509714","body":"<i>I am trying to play a sound using Java Sound</i> If you are trying to play a .wav file then check out: <a href=\"https://stackoverflow.com/questions/64509691/how-can-i-add-some-sound-to-my-java-jframe/64509714#64509714\" title=\"how can i add some sound to my java jframe\">stackoverflow.com/questions/64509691/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649602427,"creation_date":1649602427,"answer_id":71817730,"question_id":71812723,"body_markdown":"I made a couple small changes to the tutorial code example you posted, and the program worked perfectly well.\r\n\r\nHere are my changes:\r\n\r\n(1) Replaced &quot;File audioFile = new File(audioFilePath);&quot; with the following:\r\n\r\n    URL audioFile = null;\r\n\ttry {\r\n\t\taudioFile = new URL(audioFilePath);\r\n\t} catch (MalformedURLException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\n(2) Added the following line to the module-info file (required if you are using Java 9 or higher):\r\n\r\n    requires java.desktop;\r\n\r\nMy package setting is slightly different, but I assume you know how to properly set up packages. Your class is in the file folder specified by the package statement, yes?\r\n\r\nThe error being cited: &quot;could not find or load main class&quot; indicates that something is going wrong with how the code is being invoked rather than a problem with the audio part of the code. What version of Java are you using? What IDE? What is the command you are issuing to execute the program? FWIW, my setup that successfully executed this code has an up-to-date Eclipse IDE running Java 11.\r\n\r\nNam Ha Minh&#39;s tutorials at codejava.net usually are quite good. I think he is one of the more reliable tutorial writers out there.\r\n","title":"Play sound in GUI program","body":"<p>I made a couple small changes to the tutorial code example you posted, and the program worked perfectly well.</p>\n<p>Here are my changes:</p>\n<p>(1) Replaced &quot;File audioFile = new File(audioFilePath);&quot; with the following:</p>\n<pre><code>URL audioFile = null;\ntry {\n    audioFile = new URL(audioFilePath);\n} catch (MalformedURLException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>(2) Added the following line to the module-info file (required if you are using Java 9 or higher):</p>\n<pre><code>requires java.desktop;\n</code></pre>\n<p>My package setting is slightly different, but I assume you know how to properly set up packages. Your class is in the file folder specified by the package statement, yes?</p>\n<p>The error being cited: &quot;could not find or load main class&quot; indicates that something is going wrong with how the code is being invoked rather than a problem with the audio part of the code. What version of Java are you using? What IDE? What is the command you are issuing to execute the program? FWIW, my setup that successfully executed this code has an up-to-date Eclipse IDE running Java 11.</p>\n<p>Nam Ha Minh's tutorials at codejava.net usually are quite good. I think he is one of the more reliable tutorial writers out there.</p>\n"}],"owner":{"account_id":24886433,"reputation":1,"user_id":18758984,"display_name":"Chris Jonson"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649602427,"creation_date":1649547789,"question_id":71812723,"body_markdown":"I have been experimenting with Java Swing using a GUI and have hit a wall.  I am trying to play a sound using Java Sound.  Ultimately, I want to push a button and the sound plays.  I have tried a lot of combinations but none seem to work.  Here is the latest code I tried and I code and it reports: \r\n\r\n    Error: could not find or load main class.  \r\n\r\nI am not seeing why:\r\n\r\n\r\n\r\n\r\n    package net.codejava.sound;\r\n     \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n     \r\n    import javax.sound.sampled.AudioFormat;\r\n    import javax.sound.sampled.AudioInputStream;\r\n    import javax.sound.sampled.AudioSystem;\r\n    import javax.sound.sampled.DataLine;\r\n    import javax.sound.sampled.LineUnavailableException;\r\n    import javax.sound.sampled.SourceDataLine;\r\n    import javax.sound.sampled.UnsupportedAudioFileException;\r\n     \r\n    /**\r\n     * This is an example program that demonstrates how to play back an audio file\r\n     * using the SourceDataLine in Java Sound API.\r\n     * @author www.codejava.net\r\n     *\r\n     */\r\n    public class AudioPlayerExample2 {\r\n     \r\n        // size of the byte buffer used to read/write the audio stream\r\n        private static final int BUFFER_SIZE = 4096;\r\n         \r\n        /**\r\n         * Play a given audio file.\r\n         * @param audioFilePath Path of the audio file.\r\n         */\r\n        void play(String audioFilePath) {\r\n            File audioFile = new File(audioFilePath);\r\n            try {\r\n                AudioInputStream audioStream = AudioSystem.getAudioInputStream(audioFile);\r\n     \r\n                AudioFormat format = audioStream.getFormat();\r\n     \r\n                DataLine.Info info = new DataLine.Info(SourceDataLine.class, format);\r\n     \r\n                SourceDataLine audioLine = (SourceDataLine) AudioSystem.getLine(info);\r\n     \r\n                audioLine.open(format);\r\n     \r\n                audioLine.start();\r\n                 \r\n                System.out.println(&quot;Playback started.&quot;);\r\n                 \r\n                byte[] bytesBuffer = new byte[BUFFER_SIZE];\r\n                int bytesRead = -1;\r\n     \r\n                while ((bytesRead = audioStream.read(bytesBuffer)) != -1) {\r\n                    audioLine.write(bytesBuffer, 0, bytesRead);\r\n                }\r\n                 \r\n                audioLine.drain();\r\n                audioLine.close();\r\n                audioStream.close();\r\n                 \r\n                System.out.println(&quot;Playback completed.&quot;);\r\n                 \r\n            } catch (UnsupportedAudioFileException ex) {\r\n                System.out.println(&quot;The specified audio file is not supported.&quot;);\r\n                ex.printStackTrace();\r\n            } catch (LineUnavailableException ex) {\r\n                System.out.println(&quot;Audio line for playing back is unavailable.&quot;);\r\n                ex.printStackTrace();\r\n            } catch (IOException ex) {\r\n                System.out.println(&quot;Error playing the audio file.&quot;);\r\n                ex.printStackTrace();\r\n            }      \r\n        }\r\n         \r\n        public static void main(String[] args) {\r\n            String audioFilePath = &quot;https://codehs.com/uploads/1981fc4b1d2e4123e9cbe7ab8cc1962a&quot;;\r\n            AudioPlayerExample2 player = new AudioPlayerExample2();\r\n            player.play(audioFilePath);\r\n        }\r\n    }","title":"Play sound in GUI program","body":"<p>I have been experimenting with Java Swing using a GUI and have hit a wall.  I am trying to play a sound using Java Sound.  Ultimately, I want to push a button and the sound plays.  I have tried a lot of combinations but none seem to work.  Here is the latest code I tried and I code and it reports:</p>\n<pre><code>Error: could not find or load main class.  \n</code></pre>\n<p>I am not seeing why:</p>\n<pre><code>package net.codejava.sound;\n \nimport java.io.File;\nimport java.io.IOException;\n \nimport javax.sound.sampled.AudioFormat;\nimport javax.sound.sampled.AudioInputStream;\nimport javax.sound.sampled.AudioSystem;\nimport javax.sound.sampled.DataLine;\nimport javax.sound.sampled.LineUnavailableException;\nimport javax.sound.sampled.SourceDataLine;\nimport javax.sound.sampled.UnsupportedAudioFileException;\n \n/**\n * This is an example program that demonstrates how to play back an audio file\n * using the SourceDataLine in Java Sound API.\n * @author www.codejava.net\n *\n */\npublic class AudioPlayerExample2 {\n \n    // size of the byte buffer used to read/write the audio stream\n    private static final int BUFFER_SIZE = 4096;\n     \n    /**\n     * Play a given audio file.\n     * @param audioFilePath Path of the audio file.\n     */\n    void play(String audioFilePath) {\n        File audioFile = new File(audioFilePath);\n        try {\n            AudioInputStream audioStream = AudioSystem.getAudioInputStream(audioFile);\n \n            AudioFormat format = audioStream.getFormat();\n \n            DataLine.Info info = new DataLine.Info(SourceDataLine.class, format);\n \n            SourceDataLine audioLine = (SourceDataLine) AudioSystem.getLine(info);\n \n            audioLine.open(format);\n \n            audioLine.start();\n             \n            System.out.println(&quot;Playback started.&quot;);\n             \n            byte[] bytesBuffer = new byte[BUFFER_SIZE];\n            int bytesRead = -1;\n \n            while ((bytesRead = audioStream.read(bytesBuffer)) != -1) {\n                audioLine.write(bytesBuffer, 0, bytesRead);\n            }\n             \n            audioLine.drain();\n            audioLine.close();\n            audioStream.close();\n             \n            System.out.println(&quot;Playback completed.&quot;);\n             \n        } catch (UnsupportedAudioFileException ex) {\n            System.out.println(&quot;The specified audio file is not supported.&quot;);\n            ex.printStackTrace();\n        } catch (LineUnavailableException ex) {\n            System.out.println(&quot;Audio line for playing back is unavailable.&quot;);\n            ex.printStackTrace();\n        } catch (IOException ex) {\n            System.out.println(&quot;Error playing the audio file.&quot;);\n            ex.printStackTrace();\n        }      \n    }\n     \n    public static void main(String[] args) {\n        String audioFilePath = &quot;https://codehs.com/uploads/1981fc4b1d2e4123e9cbe7ab8cc1962a&quot;;\n        AudioPlayerExample2 player = new AudioPlayerExample2();\n        player.play(audioFilePath);\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","maven-surefire-plugin","google-cloud-build"],"answers":[{"tags":[],"owner":{"account_id":5508962,"reputation":53,"user_id":4375976,"display_name":"Glenn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649601966,"creation_date":1649601966,"answer_id":71817680,"question_id":71813774,"body_markdown":"Found better documentation.\r\n\r\nhttps://cloud.google.com/build/docs/build-config-file-schema#artifacts\r\n\r\nJust needed to add an artifacts section to the cloudbuild yaml file.  Something like...\r\n\r\nartifacts:\r\n  objects:\r\n    location: &#39;gs://buildresults/projectx/$BUILD_ID&#39;\r\n    paths: [&#39;target/surefire-reports/testng-results.xml&#39;]\r\n","title":"How to save Maven Surefire reports through Google Cloud Build","body":"<p>Found better documentation.</p>\n<p><a href=\"https://cloud.google.com/build/docs/build-config-file-schema#artifacts\" rel=\"nofollow noreferrer\">https://cloud.google.com/build/docs/build-config-file-schema#artifacts</a></p>\n<p>Just needed to add an artifacts section to the cloudbuild yaml file.  Something like...</p>\n<p>artifacts:\nobjects:\nlocation: 'gs://buildresults/projectx/$BUILD_ID'\npaths: ['target/surefire-reports/testng-results.xml']</p>\n"}],"owner":{"account_id":5508962,"reputation":53,"user_id":4375976,"display_name":"Glenn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649601966,"creation_date":1649565164,"question_id":71813774,"body_markdown":"We have a Java project that we build using Maven.  We use the Surefire plugin to generate a report on test results.  If I build the project locally, I can find the report files under the project&#39;s &quot;target/surefire-reports&quot; directory, which includes an xml file with the test details and a formatted HTML report version for viewing.\r\n\r\nHowever, when I trigger the build from Google Cloud Build and view &quot;artifacts&quot;, all I see is the raw log output from the Maven build.  Is there a way to save the associated Surefire-generated test result files as additional artifacts that can be viewed from the build artifact link on Google Cloud Build?  We are using a cloudbuild.yaml file.  I&#39;m guessing if it can be done, I need to include some custom commands there, but I&#39;ve not found anything yet on that.","title":"How to save Maven Surefire reports through Google Cloud Build","body":"<p>We have a Java project that we build using Maven.  We use the Surefire plugin to generate a report on test results.  If I build the project locally, I can find the report files under the project's &quot;target/surefire-reports&quot; directory, which includes an xml file with the test details and a formatted HTML report version for viewing.</p>\n<p>However, when I trigger the build from Google Cloud Build and view &quot;artifacts&quot;, all I see is the raw log output from the Maven build.  Is there a way to save the associated Surefire-generated test result files as additional artifacts that can be viewed from the build artifact link on Google Cloud Build?  We are using a cloudbuild.yaml file.  I'm guessing if it can be done, I need to include some custom commands there, but I've not found anything yet on that.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649601568,"creation_date":1649601568,"answer_id":71817621,"question_id":71817552,"body_markdown":"You should add \r\n    \r\n    @Import({UserService.class})\r\n\r\nto you test class. The Result would be \r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @WebMvcTest(CustomerController.class)\r\n    @Import({UserService.class})\r\n    class CustomerControllerTest {\r\n\r\nYou have annotated your class with &quot;WebMvcTest&quot;. In this case spring does not completely starte its entire context. Bean initialization for example is only done for Controller. If you want everything to be initialized (because you are lazy or because your UserService has more dependency that have to be manually imported)  you can replace\r\n\r\n    @WebMvcTest(CustomerController.class)\r\n\r\nwith \r\n\r\n    @SpringBootTest\r\n\r\nthis however will take longer to start your unitTest since it has to initialize more Context","title":"Parameter 0 of method setUserService when run test Controller","body":"<p>You should add</p>\n<pre><code>@Import({UserService.class})\n</code></pre>\n<p>to you test class. The Result would be</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@WebMvcTest(CustomerController.class)\n@Import({UserService.class})\nclass CustomerControllerTest {\n</code></pre>\n<p>You have annotated your class with &quot;WebMvcTest&quot;. In this case spring does not completely starte its entire context. Bean initialization for example is only done for Controller. If you want everything to be initialized (because you are lazy or because your UserService has more dependency that have to be manually imported)  you can replace</p>\n<pre><code>@WebMvcTest(CustomerController.class)\n</code></pre>\n<p>with</p>\n<pre><code>@SpringBootTest\n</code></pre>\n<p>this however will take longer to start your unitTest since it has to initialize more Context</p>\n"}],"owner":{"account_id":19955868,"reputation":96,"user_id":14624519,"display_name":"mszyba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71817621,"answer_count":1,"score":0,"last_activity_date":1649601568,"creation_date":1649601072,"question_id":71817552,"body_markdown":"I have Spring Security app. I added custom `SpringDataUserDetailsService implements UserDetailsService`. Autowired `setUserService`. \r\n\r\n```\r\npublic class SpringDataUserDetailsService implements UserDetailsService {\r\n\r\n    private UserService userService;\r\n\r\n    @Autowired\r\n    public void setUserService(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n\r\n        User user = userService.findByEmail(username);\r\n\r\n        if (user == null) {\r\n            throw new UsernameNotFoundException(username);\r\n        }\r\n\r\n        return new org.springframework.security.core.userdetails.User(\r\n                user.getEmail(),\r\n                user.getPassword(),\r\n                convertAuthorities(user.getRoles()));\r\n    }\r\n\r\n    private Set&lt;GrantedAuthority&gt; convertAuthorities(Set&lt;Role&gt; userRoles) {\r\n        Set&lt;GrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\r\n        for (Role ur : userRoles) {\r\n            authorities.add(new SimpleGrantedAuthority(ur.getRole()));\r\n        }\r\n        return authorities;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n    User findByEmail(String email);\r\n}\r\n```\r\n\r\n```\r\n@Service\r\npublic class UserService {\r\n\r\n    private static final String DEFAULT_ROLE = &quot;ROLE_USER&quot;;\r\n    private final UserRepository userRepository;\r\n    private final RoleRepository roleRepository;\r\n    private final PasswordEncoder passwordEncoder;\r\n\r\n    public UserService(UserRepository userRepository, RoleRepository roleRepository, PasswordEncoder passwordEncoder) {\r\n        this.userRepository = userRepository;\r\n        this.roleRepository = roleRepository;\r\n        this.passwordEncoder = passwordEncoder;\r\n    }\r\n\r\n    public List&lt;User&gt; getAllUsers() {\r\n        return userRepository.findAll();\r\n    }\r\n\r\n    public void registerNewUserAccount(User user) {\r\n        if (emailExist(user.getEmail())) {\r\n            throw new UserAlreadyExistException(&quot;There is an account with that email address: &quot;\r\n            + user.getEmail());\r\n        }\r\n\r\n        // set default role\r\n        Role userRole = roleRepository.findRoleByRole(DEFAULT_ROLE);\r\n        user.getRoles().add(userRole);\r\n\r\n        // set hash password\r\n        user.setPassword(passwordEncoder.encode(user.getPassword()));\r\n\r\n        // save\r\n        userRepository.save(user);\r\n    }\r\n\r\n    public User findByEmail(String email) {\r\n        return userRepository.findByEmail(email);\r\n    }\r\n\r\n    private boolean emailExist(String email) {\r\n        return userRepository.findByEmail(email) != null;\r\n    }\r\n}\r\n```\r\n\r\nI have tested by browser and it works ok. I can register new User (to database) and then log in to app. Now I want write test for `CustomerController`, but recived error. If I delete Autowired `setUserService` test is passed, but i can&#39;t register new user. Where I need find problem?\r\n\r\n&gt; Exception encountered during context initialization - cancelling refresh attempt:\r\norg.springframework.beans.factory.BeanCreationException: \r\nError creating bean with name &#39;springSecurityFilterChain&#39; defined in class path resource \r\n[org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: \r\nBean instantiation via factory method failed; nested exception is \r\norg.springframework.beans.BeanInstantiationException: \r\nFailed to instantiate [javax.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception;\r\n nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: \r\nError creating bean with name &#39;customUserDetailsService&#39;: Unsatisfied dependency expressed through method &#39;setUserService&#39; parameter 0; \r\nnested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException:\r\nNo qualifying bean of type &#39;.service.UserService&#39;\r\n available: expected at least 1 bean which qualifies as autowire candidate. \r\nDependency annotations: {}\r\n\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@WebMvcTest(CustomerController.class)\r\nclass CustomerControllerTest {\r\n\r\n    @MockBean\r\n    private CustomerService customerService;\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @Autowired\r\n    private WebApplicationContext context;\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n        mockMvc = MockMvcBuilders\r\n                .webAppContextSetup(context)\r\n                .apply(springSecurity())\r\n                .build();\r\n    }\r\n\r\n    @WithMockUser(value = &quot;spring&quot;)\r\n    @Test\r\n    void shouldReturnViewWithPrefilledData() throws Exception {\r\n\r\n        Customer customer = new Customer();\r\n        customer.setId(1L);\r\n        customer.setCustomerName(&quot;customer Name&quot;);\r\n\r\n        when(customerService.getAllCustomers()).thenReturn(List.of(customer));\r\n\r\n        this.mockMvc.perform(MockMvcRequestBuilders.get(&quot;/customer/list&quot;))\r\n                .andExpect(status().isOk())\r\n                .andExpect(view().name(&quot;customer/customer-list&quot;))\r\n                .andExpect(MockMvcResultMatchers.model().attributeExists(&quot;customers&quot;));\r\n\r\n    }\r\n}\r\n```\r\n","title":"Parameter 0 of method setUserService when run test Controller","body":"<p>I have Spring Security app. I added custom <code>SpringDataUserDetailsService implements UserDetailsService</code>. Autowired <code>setUserService</code>.</p>\n<pre><code>public class SpringDataUserDetailsService implements UserDetailsService {\n\n    private UserService userService;\n\n    @Autowired\n    public void setUserService(UserService userService) {\n        this.userService = userService;\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n\n        User user = userService.findByEmail(username);\n\n        if (user == null) {\n            throw new UsernameNotFoundException(username);\n        }\n\n        return new org.springframework.security.core.userdetails.User(\n                user.getEmail(),\n                user.getPassword(),\n                convertAuthorities(user.getRoles()));\n    }\n\n    private Set&lt;GrantedAuthority&gt; convertAuthorities(Set&lt;Role&gt; userRoles) {\n        Set&lt;GrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\n        for (Role ur : userRoles) {\n            authorities.add(new SimpleGrantedAuthority(ur.getRole()));\n        }\n        return authorities;\n    }\n}\n</code></pre>\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n    User findByEmail(String email);\n}\n</code></pre>\n<pre><code>@Service\npublic class UserService {\n\n    private static final String DEFAULT_ROLE = &quot;ROLE_USER&quot;;\n    private final UserRepository userRepository;\n    private final RoleRepository roleRepository;\n    private final PasswordEncoder passwordEncoder;\n\n    public UserService(UserRepository userRepository, RoleRepository roleRepository, PasswordEncoder passwordEncoder) {\n        this.userRepository = userRepository;\n        this.roleRepository = roleRepository;\n        this.passwordEncoder = passwordEncoder;\n    }\n\n    public List&lt;User&gt; getAllUsers() {\n        return userRepository.findAll();\n    }\n\n    public void registerNewUserAccount(User user) {\n        if (emailExist(user.getEmail())) {\n            throw new UserAlreadyExistException(&quot;There is an account with that email address: &quot;\n            + user.getEmail());\n        }\n\n        // set default role\n        Role userRole = roleRepository.findRoleByRole(DEFAULT_ROLE);\n        user.getRoles().add(userRole);\n\n        // set hash password\n        user.setPassword(passwordEncoder.encode(user.getPassword()));\n\n        // save\n        userRepository.save(user);\n    }\n\n    public User findByEmail(String email) {\n        return userRepository.findByEmail(email);\n    }\n\n    private boolean emailExist(String email) {\n        return userRepository.findByEmail(email) != null;\n    }\n}\n</code></pre>\n<p>I have tested by browser and it works ok. I can register new User (to database) and then log in to app. Now I want write test for <code>CustomerController</code>, but recived error. If I delete Autowired <code>setUserService</code> test is passed, but i can't register new user. Where I need find problem?</p>\n<blockquote>\n<p>Exception encountered during context initialization - cancelling refresh attempt:\norg.springframework.beans.factory.BeanCreationException:\nError creating bean with name 'springSecurityFilterChain' defined in class path resource\n[org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]:\nBean instantiation via factory method failed; nested exception is\norg.springframework.beans.BeanInstantiationException:\nFailed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception;\nnested exception is org.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name 'customUserDetailsService': Unsatisfied dependency expressed through method 'setUserService' parameter 0;\nnested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException:\nNo qualifying bean of type '.service.UserService'\navailable: expected at least 1 bean which qualifies as autowire candidate.\nDependency annotations: {}</p>\n</blockquote>\n<pre><code>@ExtendWith(SpringExtension.class)\n@WebMvcTest(CustomerController.class)\nclass CustomerControllerTest {\n\n    @MockBean\n    private CustomerService customerService;\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Autowired\n    private WebApplicationContext context;\n\n    @BeforeEach\n    public void setup() {\n        mockMvc = MockMvcBuilders\n                .webAppContextSetup(context)\n                .apply(springSecurity())\n                .build();\n    }\n\n    @WithMockUser(value = &quot;spring&quot;)\n    @Test\n    void shouldReturnViewWithPrefilledData() throws Exception {\n\n        Customer customer = new Customer();\n        customer.setId(1L);\n        customer.setCustomerName(&quot;customer Name&quot;);\n\n        when(customerService.getAllCustomers()).thenReturn(List.of(customer));\n\n        this.mockMvc.perform(MockMvcRequestBuilders.get(&quot;/customer/list&quot;))\n                .andExpect(status().isOk())\n                .andExpect(view().name(&quot;customer/customer-list&quot;))\n                .andExpect(MockMvcResultMatchers.model().attributeExists(&quot;customers&quot;));\n\n    }\n}\n</code></pre>\n"},{"tags":["java","debugging","intellij-idea"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1649601520,"post_id":71817583,"comment_id":126911790,"body_markdown":"“Looked ok” means?","body":"“Looked ok” means?"},{"owner":{"account_id":17538629,"reputation":11,"user_id":12721187,"display_name":"Netto Ribeiro"},"score":0,"creation_date":1649602132,"post_id":71817583,"comment_id":126911965,"body_markdown":"not using a lot of cpu and ram, plenty available","body":"not using a lot of cpu and ram, plenty available"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1649603215,"post_id":71817583,"comment_id":126912258,"body_markdown":"Can you reproduce this on another machine?","body":"Can you reproduce this on another machine?"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1649682429,"post_id":71817583,"comment_id":126930954,"body_markdown":"Do you face the issue only while debugging?","body":"Do you face the issue only while debugging?"},{"owner":{"account_id":17538629,"reputation":11,"user_id":12721187,"display_name":"Netto Ribeiro"},"score":0,"creation_date":1649685009,"post_id":71817583,"comment_id":126932010,"body_markdown":"Only when it hits a breakpoint while debugging, yes","body":"Only when it hits a breakpoint while debugging, yes"},{"owner":{"account_id":17538629,"reputation":11,"user_id":12721187,"display_name":"Netto Ribeiro"},"score":0,"creation_date":1649685078,"post_id":71817583,"comment_id":126932033,"body_markdown":"I didn&#39;t reproduce in another machine because I only have this one (I also don&#39;t have a virtual machine installed)","body":"I didn&#39;t reproduce in another machine because I only have this one (I also don&#39;t have a virtual machine installed)"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1650144120,"post_id":71817583,"comment_id":127048626,"body_markdown":"Please report issue on YouTrack (https://youtrack.jetbrains.com/issues/IDEA) attaching logs folder (https://intellij-support.jetbrains.com/hc/en-us/articles/207241085-Locating-IDE-log-files) after restarting IDE and reproducing the issue.","body":"Please report issue on YouTrack (<a href=\"https://youtrack.jetbrains.com/issues/IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/IDEA</a>) attaching logs folder (<a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/207241085-Locating-IDE-log-files\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/articles/&hellip;</a>) after restarting IDE and reproducing the issue."},{"owner":{"account_id":17538629,"reputation":11,"user_id":12721187,"display_name":"Netto Ribeiro"},"score":0,"creation_date":1650199475,"post_id":71817583,"comment_id":127055987,"body_markdown":"I&#39;m gonna do that, thanks","body":"I&#39;m gonna do that, thanks"}],"owner":{"account_id":17538629,"reputation":11,"user_id":12721187,"display_name":"Netto Ribeiro"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649601243,"creation_date":1649601243,"question_id":71817583,"body_markdown":"I&#39;m using IntelliJ IDE (2021.2.3 community) in a java project and I am not able to utilize the debug because whenever I run and it hits a breakpoint it slows my  mouse and keyboard, mainly the mouse and it becomes impossible to do anything other than struggle to end the process. That&#39;s very weird, I looked into the process manager during the issue and my system looked ok on cpu and memory","title":"why IntelliJ debbuging slows my entire system?","body":"<p>I'm using IntelliJ IDE (2021.2.3 community) in a java project and I am not able to utilize the debug because whenever I run and it hits a breakpoint it slows my  mouse and keyboard, mainly the mouse and it becomes impossible to do anything other than struggle to end the process. That's very weird, I looked into the process manager during the issue and my system looked ok on cpu and memory</p>\n"},{"tags":["java","constructor"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1649600422,"post_id":71817352,"comment_id":126911464,"body_markdown":"Initialise `dispenser` in your constructor, where you have access to `currency`.","body":"Initialise <code>dispenser</code> in your constructor, where you have access to <code>currency</code>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1649600690,"post_id":71817352,"comment_id":126911537,"body_markdown":"Why the Scanner? Delete extraneous code when posting here.","body":"Why the Scanner? Delete extraneous code when posting here."},{"owner":{"account_id":13803395,"reputation":23,"user_id":9962882,"display_name":"rharkin"},"score":0,"creation_date":1649601030,"post_id":71817352,"comment_id":126911642,"body_markdown":"Will do sorry @BasilBourque","body":"Will do sorry @BasilBourque"},{"owner":{"account_id":13803395,"reputation":23,"user_id":9962882,"display_name":"rharkin"},"score":0,"creation_date":1649601047,"post_id":71817352,"comment_id":126911648,"body_markdown":"Whenever i do that @khelwood i no longer have access to it in my methods","body":"Whenever i do that @khelwood i no longer have access to it in my methods"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649600958,"creation_date":1649600958,"answer_id":71817531,"question_id":71817352,"body_markdown":"Just.. shift the initialization to the constructor. Java first runs all &#39;initializing expressions&#39;, _then_ the constructor. Hence, in your current code snippet, `currency` begins as `null`, then `new coinCollector(currency)` is executed (thus, passing `null`), then your constructor runs and sets `currency` - too late.\r\n\r\nHence:\r\n\r\n```java\r\npublic class Owner_Class {\r\n    Controller items = new Controller();\r\n    private Item[][] list = items.getItemList();\r\n    private Scanner input = new Scanner(System.in);\r\n    private String currency;\r\n    private coinCollector dispenser;\r\n\r\n    public Owner_Class(String currency) {\r\n        this.currency = currency;\r\n        this.dispenser = new coinCollector(currency);\r\n    }\r\n}\r\n```","title":"Java how do i declare a instance variable of another class if i need to pass a variable from the constructor","body":"<p>Just.. shift the initialization to the constructor. Java first runs all 'initializing expressions', <em>then</em> the constructor. Hence, in your current code snippet, <code>currency</code> begins as <code>null</code>, then <code>new coinCollector(currency)</code> is executed (thus, passing <code>null</code>), then your constructor runs and sets <code>currency</code> - too late.</p>\n<p>Hence:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Owner_Class {\n    Controller items = new Controller();\n    private Item[][] list = items.getItemList();\n    private Scanner input = new Scanner(System.in);\n    private String currency;\n    private coinCollector dispenser;\n\n    public Owner_Class(String currency) {\n        this.currency = currency;\n        this.dispenser = new coinCollector(currency);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13803395,"reputation":23,"user_id":9962882,"display_name":"rharkin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71817531,"answer_count":1,"score":-1,"last_activity_date":1649601008,"creation_date":1649599622,"question_id":71817352,"body_markdown":"I want to create an instance of a class which requires currency for its \r\nconstructor, however i get the currency passed into the constructor of the class i am creating them in.\r\n```\r\npublic class Owner_Class {\r\n\t\r\n\t\r\n\t\r\n\r\n\tController items = new Controller();\r\n\tprivate Item[][] list = items.getItemList();\r\n\tprivate String currency;\r\n\tprivate coinCollector dispenser = new coinCollector(currency);\r\n\tpublic Owner_Class(String currency) {\r\n\t\tthis.currency = currency;\r\n\r\n\t}\r\n```\r\n\r\nWhenever i run this the currency is just null. Is there anyway to do this or do i need to change how it works","title":"Java how do i declare a instance variable of another class if i need to pass a variable from the constructor","body":"<p>I want to create an instance of a class which requires currency for its\nconstructor, however i get the currency passed into the constructor of the class i am creating them in.</p>\n<pre><code>public class Owner_Class {\n    \n    \n    \n\n    Controller items = new Controller();\n    private Item[][] list = items.getItemList();\n    private String currency;\n    private coinCollector dispenser = new coinCollector(currency);\n    public Owner_Class(String currency) {\n        this.currency = currency;\n\n    }\n</code></pre>\n<p>Whenever i run this the currency is just null. Is there anyway to do this or do i need to change how it works</p>\n"},{"tags":["java","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1649585142,"post_id":71815537,"comment_id":126908480,"body_markdown":"What do you mean by &quot;How can I get to the end of a specific child\n&quot;?","body":"What do you mean by &quot;How can I get to the end of a specific child &quot;?"},{"owner":{"account_id":24511643,"reputation":29,"user_id":18425894,"display_name":"Rho"},"score":0,"creation_date":1649591196,"post_id":71815537,"comment_id":126909615,"body_markdown":"I encircled the image above. That is where I want to get the child","body":"I encircled the image above. That is where I want to get the child"},{"owner":{"account_id":18361187,"reputation":686,"user_id":13373270,"display_name":"codebod"},"score":0,"creation_date":1649593208,"post_id":71815537,"comment_id":126909932,"body_markdown":"Read in all the data, then filter client side?","body":"Read in all the data, then filter client side?"},{"owner":{"account_id":24511643,"reputation":29,"user_id":18425894,"display_name":"Rho"},"score":0,"creation_date":1649593738,"post_id":71815537,"comment_id":126910034,"body_markdown":"Yes. I need to read all the data so that I can edit it.","body":"Yes. I need to read all the data so that I can edit it."}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649600743,"creation_date":1649600743,"answer_id":71817497,"question_id":71815537,"body_markdown":"Your code reads all data under `Attendance/Record`. If you want to show the data for `John-Smith` on `April 10, 2022-test` (and similar nodes), you can loop over the extra levels in your JSON with:\r\n\r\n```\r\nmDatabaseReferenceAttendance = FirebaseDatabase.getInstance().getReference(&quot;Attendance&quot;).child(&quot;Record&quot;);\r\nmDatabaseReferenceAttendance.addValueEventListener(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n        for(DataSnapshot dateSnapshot : snapshot.getChildren()){\r\n            for(DataSnapshot userSnapshot : dateSnapshot.getChildren()){\r\n                System.out.println(userSnapshot.getKey()); // &quot;John-Smith&quot;\r\n                System.out.println(userSnapshot.child(&quot;description&quot;).getValue(String.class)); // &quot;test&quot;\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(@NonNull DatabaseError error) {\r\n        throw error.toException(); // never ignore errors\r\n    }\r\n});\r\n```\r\n","title":"How can I get to the end of a specific child which has different edited key","body":"<p>Your code reads all data under <code>Attendance/Record</code>. If you want to show the data for <code>John-Smith</code> on <code>April 10, 2022-test</code> (and similar nodes), you can loop over the extra levels in your JSON with:</p>\n<pre><code>mDatabaseReferenceAttendance = FirebaseDatabase.getInstance().getReference(&quot;Attendance&quot;).child(&quot;Record&quot;);\nmDatabaseReferenceAttendance.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n        for(DataSnapshot dateSnapshot : snapshot.getChildren()){\n            for(DataSnapshot userSnapshot : dateSnapshot.getChildren()){\n                System.out.println(userSnapshot.getKey()); // &quot;John-Smith&quot;\n                System.out.println(userSnapshot.child(&quot;description&quot;).getValue(String.class)); // &quot;test&quot;\n            }\n        }\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n        throw error.toException(); // never ignore errors\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":24511643,"reputation":29,"user_id":18425894,"display_name":"Rho"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649600743,"creation_date":1649584963,"question_id":71815537,"body_markdown":"Example Data Model:\r\n\r\n![Example Data Model][1]\r\n\r\nI am trying to get the position of the child so that every time I click the items, I can edit the data. I am using a Recycler Adapter by the way.\r\n\r\nHow can I get to the end of a specific child which has different edited key? \r\n\r\n\r\n    mDatabaseReferenceAttendance = FirebaseDatabase.getInstance().getReference(&quot;Attendance&quot;).child(&quot;Record&quot;);\r\n    mDatabaseReferenceAttendance.addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n            if(snapshot.exists()){\r\n                for(DataSnapshot dataSnapshot : snapshot.getChildren()){\r\n                    \r\n                }\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n        }\r\n    });\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5ZN8C.png","title":"How can I get to the end of a specific child which has different edited key","body":"<p>Example Data Model:</p>\n<p><img src=\"https://i.stack.imgur.com/5ZN8C.png\" alt=\"Example Data Model\" /></p>\n<p>I am trying to get the position of the child so that every time I click the items, I can edit the data. I am using a Recycler Adapter by the way.</p>\n<p>How can I get to the end of a specific child which has different edited key?</p>\n<pre><code>mDatabaseReferenceAttendance = FirebaseDatabase.getInstance().getReference(&quot;Attendance&quot;).child(&quot;Record&quot;);\nmDatabaseReferenceAttendance.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n        if(snapshot.exists()){\n            for(DataSnapshot dataSnapshot : snapshot.getChildren()){\n                \n            }\n        }\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n\n    }\n});\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1649391016,"post_id":71791547,"comment_id":126868357,"body_markdown":"`Thread` is non-reentrant, that is, once it&#39;s completed running, you can&#39;t restart it.  So, instead, when needed, you create a `Thread` and pass it the instance of `Runnable` you want executed, so you can &quot;re-run&quot; an instance of `Runnable` multiple times ... if that&#39;s a thing you want to do.  It also falls into the design principle of &quot;composition over inheritance&quot;, I mean, honestly, how many times do you really need to extend `Thread`?  What &quot;new&quot; functionality would you possibly add to it?","body":"<code>Thread</code> is non-reentrant, that is, once it&#39;s completed running, you can&#39;t restart it.  So, instead, when needed, you create a <code>Thread</code> and pass it the instance of <code>Runnable</code> you want executed, so you can &quot;re-run&quot; an instance of <code>Runnable</code> multiple times ... if that&#39;s a thing you want to do.  It also falls into the design principle of &quot;composition over inheritance&quot;, I mean, honestly, how many times do you really need to extend <code>Thread</code>?  What &quot;new&quot; functionality would you possibly add to it?"}],"answers":[{"tags":[],"owner":{"account_id":10661768,"reputation":9318,"user_id":7849549,"accept_rate":44,"display_name":"Shubham Dixit"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1649390804,"creation_date":1649390804,"answer_id":71791569,"question_id":71791547,"body_markdown":"Java doesn&#39;t have multiple inheritance concept for classes ,but for interface it is .\r\n\r\nLet&#39;s say you have a class which is already extending(inheriting) a class \r\n\r\n    class A extends Parent{\r\n    \r\n    }\r\nAbove class can&#39;t extend another class like\r\n\r\n \r\n\r\n    class A extends Parent extends Thread{ // Incorrect\r\n        \r\n        }\r\n\r\nBut it can have something like\r\n\r\n \r\n\r\n    class A extends Parent implements Runnable{\r\n        \r\n        }\r\n\r\nNow for above case if you want to utillize `multi threading` ,you can easily do that.\r\n\r\nFor more look [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/21824402/java-multiple-inheritance","title":"Why Java provides both the Thread Class and Runnable Interface for creating Threads?","body":"<p>Java doesn't have multiple inheritance concept for classes ,but for interface it is .</p>\n<p>Let's say you have a class which is already extending(inheriting) a class</p>\n<pre><code>class A extends Parent{\n\n}\n</code></pre>\n<p>Above class can't extend another class like</p>\n<pre><code>class A extends Parent extends Thread{ // Incorrect\n    \n    }\n</code></pre>\n<p>But it can have something like</p>\n<pre><code>class A extends Parent implements Runnable{\n    \n    }\n</code></pre>\n<p>Now for above case if you want to utillize <code>multi threading</code> ,you can easily do that.</p>\n<p>For more look <a href=\"https://stackoverflow.com/questions/21824402/java-multiple-inheritance\">here</a></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1649393107,"creation_date":1649391693,"answer_id":71791648,"question_id":71791547,"body_markdown":"&gt; Why Java provides both the Thread Class and Runnable Interface for creating Threads?\r\n\r\nThe short answer is &quot;history&quot;.  \r\n\r\nIn ~1995, Java 1.0 defined `Thread` so that you can either extend the class, or pass a `Runnable` to the constructor.  By about Java 1.1, it was pretty clear to the designers that extending `Thread` was a poor choice.  But it was too late to fix.  Changing `Thread` to be a `final` class was no longer an option, since it would break backwards compatibility.\r\n\r\nRoll forward to 2022 and the same reasoning still applies.  There is still lots of important legacy code where programmers have extended `Thread` to override `run()` with a method containing application logic.  The code works fine ... so forcing lots of Java users to update to a &quot;better&quot; way would be a bad business decision.\r\n\r\n------------------\r\n\r\nWhy did they make the decision in the first place?  Who knows!  My guess is that back in 1995 they didn&#39;t envisage things like thread pools, executors and so on that are problematic if you extend `Thread`.  (And a few other things ... as illustrated by the unsafe or unimplementable `Thread` methods that were deprecated many years ago.)\r\n\r\nOne possible factor is that Java 1.0 didn&#39;t have anonymous inner classes.  So, to use the constructor parameter approach, programmers needed to declare a named class that extended `Runnable`.  Extending `Thread` was an &quot;attractive&quot; alternative.  IIRC, that language shortcoming was addressed in Java 1.1.  And in Java 8+ we can also use lambda expressions to define thread runnables.\r\n\r\nRemember: threads were *a new thing* when Java was designed.  Java was one of the first programming languages to support them *properly*.  (The only way to guarantee not to make mistakes is to not do anything.  And that is often a *bigger* mistake.)\r\n\r\n-----------------\r\n\r\n&gt; Can all threads be created by implementing the `Runnable` interface ?\r\n\r\nNo.  All of the logic involved in creating a thread is actually in the `Thread` class ... and its native code implementation in the JVM.  It is not practical to do this yourself in Java code.\r\n","title":"Why Java provides both the Thread Class and Runnable Interface for creating Threads?","body":"<blockquote>\n<p>Why Java provides both the Thread Class and Runnable Interface for creating Threads?</p>\n</blockquote>\n<p>The short answer is &quot;history&quot;.</p>\n<p>In ~1995, Java 1.0 defined <code>Thread</code> so that you can either extend the class, or pass a <code>Runnable</code> to the constructor.  By about Java 1.1, it was pretty clear to the designers that extending <code>Thread</code> was a poor choice.  But it was too late to fix.  Changing <code>Thread</code> to be a <code>final</code> class was no longer an option, since it would break backwards compatibility.</p>\n<p>Roll forward to 2022 and the same reasoning still applies.  There is still lots of important legacy code where programmers have extended <code>Thread</code> to override <code>run()</code> with a method containing application logic.  The code works fine ... so forcing lots of Java users to update to a &quot;better&quot; way would be a bad business decision.</p>\n<hr />\n<p>Why did they make the decision in the first place?  Who knows!  My guess is that back in 1995 they didn't envisage things like thread pools, executors and so on that are problematic if you extend <code>Thread</code>.  (And a few other things ... as illustrated by the unsafe or unimplementable <code>Thread</code> methods that were deprecated many years ago.)</p>\n<p>One possible factor is that Java 1.0 didn't have anonymous inner classes.  So, to use the constructor parameter approach, programmers needed to declare a named class that extended <code>Runnable</code>.  Extending <code>Thread</code> was an &quot;attractive&quot; alternative.  IIRC, that language shortcoming was addressed in Java 1.1.  And in Java 8+ we can also use lambda expressions to define thread runnables.</p>\n<p>Remember: threads were <em>a new thing</em> when Java was designed.  Java was one of the first programming languages to support them <em>properly</em>.  (The only way to guarantee not to make mistakes is to not do anything.  And that is often a <em>bigger</em> mistake.)</p>\n<hr />\n<blockquote>\n<p>Can all threads be created by implementing the <code>Runnable</code> interface ?</p>\n</blockquote>\n<p>No.  All of the logic involved in creating a thread is actually in the <code>Thread</code> class ... and its native code implementation in the JVM.  It is not practical to do this yourself in Java code.</p>\n"},{"tags":[],"owner":{"account_id":23707915,"reputation":37,"user_id":17730160,"display_name":"Manoj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649394961,"creation_date":1649394961,"answer_id":71791983,"question_id":71791547,"body_markdown":"Because if we extend Thread class the we can&#39;t extend any other class\r\nso that reason java provide runnable interface it is higly recomanded to use  runnable interface if we implement runnable interface then we can extends any other also\r\n ","title":"Why Java provides both the Thread Class and Runnable Interface for creating Threads?","body":"<p>Because if we extend Thread class the we can't extend any other class\nso that reason java provide runnable interface it is higly recomanded to use  runnable interface if we implement runnable interface then we can extends any other also</p>\n"},{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649600717,"creation_date":1649422529,"answer_id":71797400,"question_id":71791547,"body_markdown":"&gt; I know the differences between the concrete Thread class and the Runnable Interface in Java. ... Can all threads be created by implementing the Runnable interface? What will be the use case where the Thread class is a necessity?\r\n\r\nYou cannot create a thread just by implementing the Runnable interface. There must always be a `Thread` even when there is also a separate `Runnable`. The `Thread` class is essential for multi-threading in Java programs.\\*\r\n\r\nBut note! That doesn&#39;t mean your own code must execute `new&#160;Thread(...)` or `new&#160;MyFoobarThread()`.\r\n\r\n&gt; Why we have two ways to solve the same problem ?\r\n\r\nWe have _many_ ways to solve the problem: Your code could ask a `ThreadFactory` to create new instances. Your code could create a `ThreadPoolExecutor` instance, and let the executor manage the threads. Your code could use _parallel streams_, which are based on threads. Your code could call a third party library that uses threads. But, no matter how it happens, there will always be one `Thread` instance for each thread in the program.\r\n\r\n\\[\\* A `native` method could create a thread for which there was no corresponding `Thread` instance, but in that case, the thread would be incapable of calling Java methods, and Java code would be completely unaware that the thread existed.\\]\r\n\r\n--------------\r\n\r\n&gt; What is the need for making the Thread class overridable...?\r\n\r\nIt&#39;s not a question of need. `Thread` is a class. _Every_ class that is not `final` can be extended. What would be the purpose of making `Thread` final? What would be the reason to prevent programmers from extending it if extending it solved some problem? (I know of problems that could be solved by extending `Thread` and _wrapping_ certain of its methods, but I won&#39;t go in to that here.)\r\n\r\nThe purpose of programming languages is to _help_ programmers to do what they need to do, not to put roadblocks in their way.\r\n\r\n---------------\r\n\r\n`Runnable` originally was created for use with the `Thread` class—[Stephen C told you](https://stackoverflow.com/a/71791648/801894) a bit about the history of that, and [Shubh told you](https://stackoverflow.com/a/71791569/801894) a bit about the reason for it—But `Runnable`, it turns out, is useful for much more than just threading.\r\n\r\n`Runnable` is a _behavioral contract._ It describes a &quot;thing that needs to happen,&quot; a &quot;piece of work that needs to be done.&quot; It does _not_ describe who does the work or, when they do it. The work could be done by a `Thread` now, it could be done by a thread _pool_ as soon as possible, it could be done by a _timer_ at some appointed time, it could be done by a third party library after some other task has been completed, etc.\r\n\r\nA `Thread` _has_ a `Runnable` just like how a coffee pot _has_ a handle. Having a handle greatly improves the usefulness of a coffee pot, but other things have handles too, for reasons that have nothing to do with making coffee.","title":"Why Java provides both the Thread Class and Runnable Interface for creating Threads?","body":"<blockquote>\n<p>I know the differences between the concrete Thread class and the Runnable Interface in Java. ... Can all threads be created by implementing the Runnable interface? What will be the use case where the Thread class is a necessity?</p>\n</blockquote>\n<p>You cannot create a thread just by implementing the Runnable interface. There must always be a <code>Thread</code> even when there is also a separate <code>Runnable</code>. The <code>Thread</code> class is essential for multi-threading in Java programs.*</p>\n<p>But note! That doesn't mean your own code must execute <code>new Thread(...)</code> or <code>new MyFoobarThread()</code>.</p>\n<blockquote>\n<p>Why we have two ways to solve the same problem ?</p>\n</blockquote>\n<p>We have <em>many</em> ways to solve the problem: Your code could ask a <code>ThreadFactory</code> to create new instances. Your code could create a <code>ThreadPoolExecutor</code> instance, and let the executor manage the threads. Your code could use <em>parallel streams</em>, which are based on threads. Your code could call a third party library that uses threads. But, no matter how it happens, there will always be one <code>Thread</code> instance for each thread in the program.</p>\n<p>[* A <code>native</code> method could create a thread for which there was no corresponding <code>Thread</code> instance, but in that case, the thread would be incapable of calling Java methods, and Java code would be completely unaware that the thread existed.]</p>\n<hr />\n<blockquote>\n<p>What is the need for making the Thread class overridable...?</p>\n</blockquote>\n<p>It's not a question of need. <code>Thread</code> is a class. <em>Every</em> class that is not <code>final</code> can be extended. What would be the purpose of making <code>Thread</code> final? What would be the reason to prevent programmers from extending it if extending it solved some problem? (I know of problems that could be solved by extending <code>Thread</code> and <em>wrapping</em> certain of its methods, but I won't go in to that here.)</p>\n<p>The purpose of programming languages is to <em>help</em> programmers to do what they need to do, not to put roadblocks in their way.</p>\n<hr />\n<p><code>Runnable</code> originally was created for use with the <code>Thread</code> class—<a href=\"https://stackoverflow.com/a/71791648/801894\">Stephen C told you</a> a bit about the history of that, and <a href=\"https://stackoverflow.com/a/71791569/801894\">Shubh told you</a> a bit about the reason for it—But <code>Runnable</code>, it turns out, is useful for much more than just threading.</p>\n<p><code>Runnable</code> is a <em>behavioral contract.</em> It describes a &quot;thing that needs to happen,&quot; a &quot;piece of work that needs to be done.&quot; It does <em>not</em> describe who does the work or, when they do it. The work could be done by a <code>Thread</code> now, it could be done by a thread <em>pool</em> as soon as possible, it could be done by a <em>timer</em> at some appointed time, it could be done by a third party library after some other task has been completed, etc.</p>\n<p>A <code>Thread</code> <em>has</em> a <code>Runnable</code> just like how a coffee pot <em>has</em> a handle. Having a handle greatly improves the usefulness of a coffee pot, but other things have handles too, for reasons that have nothing to do with making coffee.</p>\n"}],"owner":{"account_id":3320600,"reputation":121,"user_id":2791876,"display_name":"Thaveedu"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":481,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1651410240,"accepted_answer_id":71791648,"answer_count":4,"score":1,"last_activity_date":1649600717,"creation_date":1649390557,"question_id":71791547,"body_markdown":"I know the differences between the concrete Thread class and the Runnable Interface in Java . What is the need for making the Thread class overridable so that it is available for consumption ? Can all threads be created by implementing the Runnable interface ? What will be the use case where the Thread class is a necessity? Why we have two ways to solve the same problem ?\r\n\r\nEdit : I understand the Thread class is the container for the Runnable implementations , I want to know whether there are any use cases which is unsolvable by Runnable implementations","title":"Why Java provides both the Thread Class and Runnable Interface for creating Threads?","body":"<p>I know the differences between the concrete Thread class and the Runnable Interface in Java . What is the need for making the Thread class overridable so that it is available for consumption ? Can all threads be created by implementing the Runnable interface ? What will be the use case where the Thread class is a necessity? Why we have two ways to solve the same problem ?</p>\n<p>Edit : I understand the Thread class is the container for the Runnable implementations , I want to know whether there are any use cases which is unsolvable by Runnable implementations</p>\n"},{"tags":["java","txt","netbeans-12"],"comments":[{"owner":{"account_id":24211419,"reputation":1,"user_id":18167892,"display_name":"K_Cole369"},"score":0,"creation_date":1649564055,"post_id":71813588,"comment_id":126905380,"body_markdown":"I also tried FileReader with the direct path and that produced the same error","body":"I also tried FileReader with the direct path and that produced the same error"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1649564645,"post_id":71813588,"comment_id":126905448,"body_markdown":"1. Determine the current &quot;working location&quot; from which the program is been execute, something like `System.getProperty(&quot;user.dir&quot;)` will work; 2.  Move your file to that location.","body":"1. Determine the current &quot;working location&quot; from which the program is been execute, something like <code>System.getProperty(&quot;user.dir&quot;)</code> will work; 2.  Move your file to that location."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1649564741,"post_id":71813588,"comment_id":126905458,"body_markdown":"Netbeans will allow you to set the &quot;working directory&quot;, right click the project&#39;s node, select &quot;Properties&quot; and look under the &quot;Run&quot; properties.  Alternatively you could explore using an embedded resource, but this assumes that the `BookPrices.txt` file won&#39;t need to be written to","body":"Netbeans will allow you to set the &quot;working directory&quot;, right click the project&#39;s node, select &quot;Properties&quot; and look under the &quot;Run&quot; properties.  Alternatively you could explore using an embedded resource, but this assumes that the <code>BookPrices.txt</code> file won&#39;t need to be written to"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1649613995,"post_id":71813588,"comment_id":126914756,"body_markdown":"Your question makes no sense. Your title states _&quot;NetBeans 12.6 not opening txt files&quot;_ (meaning NetBeans is the problem), your question states _&quot;When I try to open the file using the File and Scanner method I keep getting the Unreported exception FileNotFoundException error&quot;_ (meaning you have a runtime exception), and yet you have posted a solution stating _&quot;I needed to put it in a Try/Catch&quot;_, meaning you had a compilation error! Please be much more precise in describing your problem, and follow the advice given in [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask).","body":"Your question makes no sense. Your title states <i>&quot;NetBeans 12.6 not opening txt files&quot;</i> (meaning NetBeans is the problem), your question states <i>&quot;When I try to open the file using the File and Scanner method I keep getting the Unreported exception FileNotFoundException error&quot;</i> (meaning you have a runtime exception), and yet you have posted a solution stating <i>&quot;I needed to put it in a Try/Catch&quot;</i>, meaning you had a compilation error! Please be much more precise in describing your problem, and follow the advice given in <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>."}],"answers":[{"tags":[],"owner":{"account_id":24211419,"reputation":1,"user_id":18167892,"display_name":"K_Cole369"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649572400,"creation_date":1649572400,"answer_id":71814294,"question_id":71813588,"body_markdown":"I figured it out! I needed to put it in a Try/Catch","title":"NetBeans 12.6 not opening txt files on MAC","body":"<p>I figured it out! I needed to put it in a Try/Catch</p>\n"}],"owner":{"account_id":24211419,"reputation":1,"user_id":18167892,"display_name":"K_Cole369"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1676475900,"answer_count":1,"score":-2,"last_activity_date":1649599721,"creation_date":1649561820,"question_id":71813588,"body_markdown":"I am trying to open a txt file in NetBeans 12.6 using Java. I placed the txt file in the main project file. When I try to open the file using the File and Scanner method I keep getting the &quot;Unreported exception FileNotFoundException&quot; error. Is there a new place you&#39;re supposed to put the txt file with 12.6? I am using a mac so I don&#39;t know if that is adding to the problem. It used to work fine when I was using NetBeans 8. Here is my code:\r\n\r\n    File bookList = new File(&quot;BookPrices.txt&quot;);//File to be opened\r\n    Scanner inputFile = new Scanner(bookList);//Scanner for the file of books\r\n\r\n","title":"NetBeans 12.6 not opening txt files on MAC","body":"<p>I am trying to open a txt file in NetBeans 12.6 using Java. I placed the txt file in the main project file. When I try to open the file using the File and Scanner method I keep getting the &quot;Unreported exception FileNotFoundException&quot; error. Is there a new place you're supposed to put the txt file with 12.6? I am using a mac so I don't know if that is adding to the problem. It used to work fine when I was using NetBeans 8. Here is my code:</p>\n<pre><code>File bookList = new File(&quot;BookPrices.txt&quot;);//File to be opened\nScanner inputFile = new Scanner(bookList);//Scanner for the file of books\n</code></pre>\n"},{"tags":["java","android","runnable","android-handler"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1647018563,"post_id":71442139,"comment_id":126275545,"body_markdown":"Making a Fragment a Runnable is super weird.  Generally you&#39;d create an annonymous class and use that for a runnable.","body":"Making a Fragment a Runnable is super weird.  Generally you&#39;d create an annonymous class and use that for a runnable."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1647018694,"post_id":71442139,"comment_id":126275590,"body_markdown":"Also, are you sure you have only one instance of the fragment?  Printing out this to make sure its the same instance might help.","body":"Also, are you sure you have only one instance of the fragment?  Printing out this to make sure its the same instance might help."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1647019772,"post_id":71442139,"comment_id":126276022,"body_markdown":"@GabeSechan:&#180;Thanks for your comments. I make the Fragment a Runnable because this is acutally a game with UI elements being changed all the time in the Fragment. Regarding you second question I don&#39;t know how to print the needed information out. I use a One Activity Multiple Fragments approach and I just start this Fragment once.","body":"@GabeSechan:&#180;Thanks for your comments. I make the Fragment a Runnable because this is acutally a game with UI elements being changed all the time in the Fragment. Regarding you second question I don&#39;t know how to print the needed information out. I use a One Activity Multiple Fragments approach and I just start this Fragment once."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1647021824,"post_id":71442139,"comment_id":126276741,"body_markdown":"ITs still weird and a bad idea to make you fragment implement runnable.  Use an annonymous class inside the fragment instead, it will make your code much clearer.  As for printing the instance-  literally add &quot;this&quot; to the string you&#39;re printing","body":"ITs still weird and a bad idea to make you fragment implement runnable.  Use an annonymous class inside the fragment instead, it will make your code much clearer.  As for printing the instance-  literally add &quot;this&quot; to the string you&#39;re printing"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1647074506,"post_id":71442139,"comment_id":126285891,"body_markdown":"@GabeSechan: Thanks for your answer. I added `this` before printing and received a slightly different output (see my Update). Can you infer something out of this? Furhter, I don&#39;t understand your advice with the anonymous inside class. Where exactly and how shall I add it? After `handler.postDelayed()`","body":"@GabeSechan: Thanks for your answer. I added <code>this</code> before printing and received a slightly different output (see my Update). Can you infer something out of this? Furhter, I don&#39;t understand your advice with the anonymous inside class. Where exactly and how shall I add it? After <code>handler.postDelayed()</code>"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1647155946,"post_id":71442139,"comment_id":126296425,"body_markdown":"Sorry, you misunderstood.  Not this.helpCounterRun.  Just this.  I want it to print out the reference id of the class, because I think 2 instances exist and are running.","body":"Sorry, you misunderstood.  Not this.helpCounterRun.  Just this.  I want it to print out the reference id of the class, because I think 2 instances exist and are running."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1647160986,"post_id":71442139,"comment_id":126297234,"body_markdown":"@GabeSechan: Thanks Gabe for your comment. I know changed the code and the output. It seems that there are in fact 2 instances being started but the big question is why and where are those two instances started?In my code I only use `handler.postDelayed(this, DELAY_IN_MILLIS);` once and I don&#39;t understand why this starts 2 runnables at the same time.","body":"@GabeSechan: Thanks Gabe for your comment. I know changed the code and the output. It seems that there are in fact 2 instances being started but the big question is why and where are those two instances started?In my code I only use <code>handler.postDelayed(this, DELAY_IN_MILLIS);</code> once and I don&#39;t understand why this starts 2 runnables at the same time."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1647186924,"post_id":71442139,"comment_id":126302772,"body_markdown":"If there&#39;s 2 instances you don&#39;t have 2 runnables, you have 2 fragments (since your runnable is a fragment).  We&#39;d need to see the code creating/launching this fragment to help","body":"If there&#39;s 2 instances you don&#39;t have 2 runnables, you have 2 fragments (since your runnable is a fragment).  We&#39;d need to see the code creating/launching this fragment to help"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1647379395,"post_id":71442139,"comment_id":126355702,"body_markdown":"@GabeSechan: Thanks Gabe for your answer and effort. I updated my question (Update 2) and posted the code of the Fragment that launches the problematic Fragment. Can you infer something out of it that explains, why 2 runnables are started?","body":"@GabeSechan: Thanks Gabe for your answer and effort. I updated my question (Update 2) and posted the code of the Fragment that launches the problematic Fragment. Can you infer something out of it that explains, why 2 runnables are started?"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1650821391,"post_id":71442139,"comment_id":127207857,"body_markdown":"@GabeSechan: Any comments to my last comments? I&#39;ll highly appreciate every further comment from you","body":"@GabeSechan: Any comments to my last comments? I&#39;ll highly appreciate every further comment from you"}],"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649599234,"creation_date":1647018263,"question_id":71442139,"body_markdown":"I have a general problem understanding how the `run` method is called when using `handler.postDelayed` in Android.\r\n\r\nI have the following Java code:\r\n\r\n    public class Test extends Fragment implements Runnable {\r\n    \r\n        public static final int DELAY_IN_MILLIS = 10;\r\n        private int currentTimeLeft_MILLIS;\r\n        private Handler handler = new Handler();\r\n    \r\n        int helpCounterRun =0;\r\n    \r\n        private boolean viewHasBeenCreated = false;\r\n        private FragmentTestBinding binding;\r\n    \r\n        public Test() {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            currentTimeLeft_MILLIS = 90 * 1000;\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            binding = FragmentTestBinding.inflate(inflater, container, false);\r\n            viewHasBeenCreated = true;\r\n            getActivity().setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\r\n            countDownTime();\r\n            return binding.getRoot();\r\n        }\r\n    \r\n        private void updateScreen() {\r\n            binding.textViewTimeLeftValue.setText(&quot;&quot; + currentTimeLeft_MILLIS/1000);\r\n            Log.e(&quot;LogTag&quot;, &quot;Method updateScreen&quot; );\r\n        }\r\n    \r\n        private void countDownTime(){\r\n            currentTimeLeftInTheLevel_MILLIS = currentTimeLeftInTheLevel_MILLIS - DELAY_IN_MILLIS;\r\n            Log.e(&quot;LogTag&quot;, &quot;Method countDownTime - currentTimeLeftInTheLevel_MILLIS: &quot; + currentTimeLeftInTheLevel_MILLIS);\r\n    \r\n            handler.postDelayed(this, DELAY_IN_MILLIS);\r\n            updateScreen();\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void run() {\r\n            helpCounterRun++;\r\n            Log.e(&quot;LogTag&quot;, &quot;Method run - helpCounterRun: &quot; + helpCounterRun);\r\n            if(viewHasBeenCreated) {\r\n                countDownTime();\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\nNext to the `onCreate` and `onCreateView` method this Fragment has 3 basic methods. The `updateScreen()` method should update the `currentTimeLeft_MILLIS` in a textview. So it should actually display the remaining time in seconds (starting from 90 seconds). The method `countDownTime()` should just decrease the variable `currentTimeLeft_MILLIS` by `DELAY_IN_MILLIS` call the method `updateScreen()` and it used the call `handler.postDelayed(this, DELAY_IN_MILLIS);` to call the Runnable `run()` which calls the `countDownTime()`method again.\r\n\r\nWhen I look at the `LogTag`outputs it looks like this\r\n\r\n    2022-03-11 17:59:30.128 7361-7361/com.example.game E/LogTag: Method run - helpCounterRun: 1\r\n    2022-03-11 17:59:30.128 7361-7361/com.example.game E/LogTag: Method countDownTime - currentTimeLeft_MILLIS: 89980\r\n    2022-03-11 17:59:30.135 7361-7361/com.example.game E/LogTag: Method updateScreen\r\n    2022-03-11 17:59:31.918 7361-7361/com.example.game E/LogTag: Method run - helpCounterRun: 1\r\n    2022-03-11 17:59:31.919 7361-7361/com.example.game E/LogTag: Method countDownTime - currentTimeLeft_MILLIS: 89980\r\n    2022-03-11 17:59:31.919 7361-7361/com.example.game E/LogTag: Method updateScreen\r\n    2022-03-11 17:59:31.924 7361-7361/com.example.game E/LogTag: Method run - helpCounterRun: 2\r\n    2022-03-11 17:59:31.925 7361-7361/com.example.game E/LogTag: Method countDownTime - currentTimeLeft_MILLIS: 89970\r\n    2022-03-11 17:59:31.925 7361-7361/com.example.game E/LogTag: Method updateScreen\r\n    2022-03-11 17:59:32.028 7361-7361/com.example.game E/LogTag: Method run - helpCounterRun: 2\r\n    2022-03-11 17:59:32.029 7361-7361/com.example.game E/LogTag: Method countDownTime - currentTimeLeft_MILLIS: 89970\r\n    2022-03-11 17:59:32.029 7361-7361/com.example.game E/LogTag: Method updateScreen\r\n    2022-03-11 17:59:32.029 7361-7361/com.example.game E/LogTag: Method run - helpCounterRun: 3\r\n    2022-03-11 17:59:32.029 7361-7361/com.example.game E/LogTag: Method countDownTime - currentTimeLeft_MILLIS: 89960\r\n    2022-03-11 17:59:32.030 7361-7361/com.example.game E/LogTag: Method updateScreen\r\n    2022-03-11 17:59:32.089 7361-7361/com.example.game E/LogTag: Method run - helpCounterRun: 3\r\n    2022-03-11 17:59:32.089 7361-7361/com.example.game E/LogTag: Method countDownTime - currentTimeLeft_MILLIS: 89960\r\n\r\nWhat I don&#39;t understand is why the run method is called two times before it updates `helpCounterRun++;`. So I can see that the code &quot;visits&quot; the `run()` method one time in which it does not update the variable `helpCounterRun++;` ? Also the other methods do every thing two times before updating and I don&#39;t understand why. Do I start 2 separate threads with this code?\r\n\r\nAnother problem (that might be realted to the first problem) is that the countdown that the textView displays is too slow. It should decrease the value by 1 every second (by decreasing the value of `currentTimeLeftInTheLevel_MILLIS` after `DELAY_IN_MILLIS`). \r\n\r\nDo you have any idea why these 2 problems occur?\r\n\r\n**Update**: When use `this`before printing the strings in the LogTag in `Log.e(&quot;LogTag&quot;, &quot;Method countDownTime - this: &quot; + this);` and `        Log.e(&quot;LogTag&quot;, &quot;Method run - this: &quot; + this);`\r\n\r\nI get a slightly different output:\r\n\r\n    2022-03-13 09:37:54.693 9512-9512/com.example.game E/LogTag: Method run - helpCounterRun: 1\r\n    2022-03-13 09:37:54.693 9512-9512/com.example.game E/LogTag: Method run - this: Test{1f79232} (ad58656d-a106-4ab6-8d65-8ee20d095fbf)}\r\n    2022-03-13 09:37:54.693 9512-9512/com.example.game E/LogTag: Method countDownTime - currentTimeLeft_MILLIS: 89980\r\n    2022-03-13 09:37:54.694 9512-9512/com.example.game E/LogTag: Method countDownTime - this: Test{1f79232} (ad58656d-a106-4ab6-8d65-8ee20d095fbf)}\r\n    2022-03-13 09:37:54.694 9512-9512/com.example.game E/LogTag: Method updateScreen\r\n    2022-03-13 09:37:54.696 9512-9512/com.example.game E/LogTag: Method updateScreen - this: Test{1f79232} (ad58656d-a106-4ab6-8d65-8ee20d095fbf)}\r\n    2022-03-13 09:37:55.991 9512-9512/com.example.game E/LogTag: Method run - helpCounterRun: 1\r\n    2022-03-13 09:37:55.991 9512-9512/com.example.game E/LogTag: Method run - this: Test{1cbc30c} (6c4409c6-c501-4b40-9e33-cbf1895c68f6) id=0x7f08013c}\r\n    2022-03-13 09:37:55.992 9512-9512/com.example.game E/LogTag: Method countDownTime - currentTimeLeft_MILLIS: 89980\r\n    2022-03-13 09:37:55.992 9512-9512/com.example.game E/LogTag: Method countDownTime - this: Test{1cbc30c} (6c4409c6-c501-4b40-9e33-cbf1895c68f6) id=0x7f08013c}\r\n    2022-03-13 09:37:55.993 9512-9512/com.example.game E/LogTag: Method updateScreen\r\n    2022-03-13 09:37:55.993 9512-9512/com.example.game E/LogTag: Method updateScreen - this: Test{1cbc30c} (6c4409c6-c501-4b40-9e33-cbf1895c68f6) id=0x7f08013c}\r\n    2022-03-13 09:37:56.009 9512-9512/com.example.game E/LogTag: Method run - helpCounterRun: 2\r\n    2022-03-13 09:37:56.010 9512-9512/com.example.game E/LogTag: Method run - this: Test{1f79232} (ad58656d-a106-4ab6-8d65-8ee20d095fbf)}\r\n    2022-03-13 09:37:56.010 9512-9512/com.example.game E/LogTag: Method countDownTime - currentTimeLeft_MILLIS: 89970\r\n    2022-03-13 09:37:56.010 9512-9512/com.example.game E/LogTag: Method countDownTime - this: Test{1f79232} (ad58656d-a106-4ab6-8d65-8ee20d095fbf)}\r\n    2022-03-13 09:37:56.020 9512-9512/com.example.game E/LogTag: Method updateScreen\r\n    2022-03-13 09:37:56.021 9512-9512/com.example.game E/LogTag: Method updateScreen - this: Test{1f79232} (ad58656d-a106-4ab6-8d65-8ee20d095fbf)}\r\n    2022-03-13 09:37:56.121 9512-9512/com.example.game E/LogTag: Method run - helpCounterRun: 2\r\n    2022-03-13 09:37:56.122 9512-9512/com.example.game E/LogTag: Method run - this: Test{1cbc30c} (6c4409c6-c501-4b40-9e33-cbf1895c68f6) id=0x7f08013c}\r\n    2022-03-13 09:37:56.122 9512-9512/com.example.game E/LogTag: Method countDownTime - currentTimeLeft_MILLIS: 89970\r\n    2022-03-13 09:37:56.122 9512-9512/com.example.game E/LogTag: Method countDownTime - this: Test{1cbc30c} (6c4409c6-c501-4b40-9e33-cbf1895c68f6) id=0x7f08013c}\r\n    2022-03-13 09:37:56.124 9512-9512/com.example.game E/LogTag: Method updateScreen\r\n    2022-03-13 09:37:56.125 9512-9512/com.example.game E/LogTag: Method updateScreen - this: Test{1cbc30c} (6c4409c6-c501-4b40-9e33-cbf1895c68f6) id=0x7f08013c}\r\n\r\n**Update 2**: I was asked to show the code that launches the problematic fragment `Test`. Here you can see the Fragment `FR_Menu` that launches the fragment `Test`after clicking on the corresponding button.\r\n\r\n    public class FR_Menu extends Fragment implements View.OnClickListener{\r\n    \r\n        private FragmentMenuBinding binding;\r\n        \r\n    \r\n        public FR_Menu() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            binding = FragmentMenuBinding.inflate(inflater, container, false);\r\n            getActivity().setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\r\n    \r\n            binding.buttonGame.setOnClickListener(this);\r\n            binding.buttonOptions.setOnClickListener(this);\r\n            binding.buttonHighscores.setOnClickListener(this);\r\n            binding.buttonFacts.setOnClickListener(this);\r\n            binding.buttonExit.setOnClickListener(this);\r\n            binding.buttonTest.setOnClickListener(this);\r\n            return binding.getRoot();\r\n        }\r\n    \r\n        @Override\r\n        public void onClick(View view) {\r\n    \r\n            if(view.getId() == R.id.button_game) {\r\n                \r\n                Navigation.findNavController(getView()).navigate(FR_MenuDirections.actionFRMenuToFRGame());\r\n            }\r\n    \r\n            if(view.getId() == R.id.button_highscores) {\r\n                Navigation.findNavController(getView()).navigate(FR_MenuDirections.actionFRMenuToFRHighScores());\r\n            }\r\n    \r\n            if(view.getId() == R.id.button_facts) {\r\n                Navigation.findNavController(getView()).navigate(FR_MenuDirections.actionFRMenuToFRInterestingFacts());\r\n            }\r\n    \r\n            if(view.getId() == R.id.button_options) {\r\n                Navigation.findNavController(getView()).navigate(FR_MenuDirections.actionFRMenuToFROptions());\r\n            }\r\n    //This launches the problematic Fragment &quot;Test&quot;\r\n            if(view.getId() == R.id.button_test) {\r\n                Navigation.findNavController(getView()).navigate(FR_MenuDirections.actionFRMenuToTest());\r\n            }\r\n    \r\n            if(view.getId() == R.id.button_exit) {\r\n                getActivity().finishAndRemoveTask();\r\n            }\r\n            \r\n        }\r\n    }  \r\n\r\n**Reminder**: Does nobody have any idea?","title":"Why is the run method two times called before updating when using handler.postDelayed","body":"<p>I have a general problem understanding how the <code>run</code> method is called when using <code>handler.postDelayed</code> in Android.</p>\n<p>I have the following Java code:</p>\n<pre><code>public class Test extends Fragment implements Runnable {\n\n    public static final int DELAY_IN_MILLIS = 10;\n    private int currentTimeLeft_MILLIS;\n    private Handler handler = new Handler();\n\n    int helpCounterRun =0;\n\n    private boolean viewHasBeenCreated = false;\n    private FragmentTestBinding binding;\n\n    public Test() {\n\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        currentTimeLeft_MILLIS = 90 * 1000;\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        binding = FragmentTestBinding.inflate(inflater, container, false);\n        viewHasBeenCreated = true;\n        getActivity().setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\n        countDownTime();\n        return binding.getRoot();\n    }\n\n    private void updateScreen() {\n        binding.textViewTimeLeftValue.setText(&quot;&quot; + currentTimeLeft_MILLIS/1000);\n        Log.e(&quot;LogTag&quot;, &quot;Method updateScreen&quot; );\n    }\n\n    private void countDownTime(){\n        currentTimeLeftInTheLevel_MILLIS = currentTimeLeftInTheLevel_MILLIS - DELAY_IN_MILLIS;\n        Log.e(&quot;LogTag&quot;, &quot;Method countDownTime - currentTimeLeftInTheLevel_MILLIS: &quot; + currentTimeLeftInTheLevel_MILLIS);\n\n        handler.postDelayed(this, DELAY_IN_MILLIS);\n        updateScreen();\n    }\n\n\n    @Override\n    public void run() {\n        helpCounterRun++;\n        Log.e(&quot;LogTag&quot;, &quot;Method run - helpCounterRun: &quot; + helpCounterRun);\n        if(viewHasBeenCreated) {\n            countDownTime();\n        }\n\n    }\n}\n</code></pre>\n<p>Next to the <code>onCreate</code> and <code>onCreateView</code> method this Fragment has 3 basic methods. The <code>updateScreen()</code> method should update the <code>currentTimeLeft_MILLIS</code> in a textview. So it should actually display the remaining time in seconds (starting from 90 seconds). The method <code>countDownTime()</code> should just decrease the variable <code>currentTimeLeft_MILLIS</code> by <code>DELAY_IN_MILLIS</code> call the method <code>updateScreen()</code> and it used the call <code>handler.postDelayed(this, DELAY_IN_MILLIS);</code> to call the Runnable <code>run()</code> which calls the <code>countDownTime()</code>method again.</p>\n<p>When I look at the <code>LogTag</code>outputs it looks like this</p>\n<pre><code>2022-03-11 17:59:30.128 7361-7361/com.example.game E/LogTag: Method run - helpCounterRun: 1\n2022-03-11 17:59:30.128 7361-7361/com.example.game E/LogTag: Method countDownTime - currentTimeLeft_MILLIS: 89980\n2022-03-11 17:59:30.135 7361-7361/com.example.game E/LogTag: Method updateScreen\n2022-03-11 17:59:31.918 7361-7361/com.example.game E/LogTag: Method run - helpCounterRun: 1\n2022-03-11 17:59:31.919 7361-7361/com.example.game E/LogTag: Method countDownTime - currentTimeLeft_MILLIS: 89980\n2022-03-11 17:59:31.919 7361-7361/com.example.game E/LogTag: Method updateScreen\n2022-03-11 17:59:31.924 7361-7361/com.example.game E/LogTag: Method run - helpCounterRun: 2\n2022-03-11 17:59:31.925 7361-7361/com.example.game E/LogTag: Method countDownTime - currentTimeLeft_MILLIS: 89970\n2022-03-11 17:59:31.925 7361-7361/com.example.game E/LogTag: Method updateScreen\n2022-03-11 17:59:32.028 7361-7361/com.example.game E/LogTag: Method run - helpCounterRun: 2\n2022-03-11 17:59:32.029 7361-7361/com.example.game E/LogTag: Method countDownTime - currentTimeLeft_MILLIS: 89970\n2022-03-11 17:59:32.029 7361-7361/com.example.game E/LogTag: Method updateScreen\n2022-03-11 17:59:32.029 7361-7361/com.example.game E/LogTag: Method run - helpCounterRun: 3\n2022-03-11 17:59:32.029 7361-7361/com.example.game E/LogTag: Method countDownTime - currentTimeLeft_MILLIS: 89960\n2022-03-11 17:59:32.030 7361-7361/com.example.game E/LogTag: Method updateScreen\n2022-03-11 17:59:32.089 7361-7361/com.example.game E/LogTag: Method run - helpCounterRun: 3\n2022-03-11 17:59:32.089 7361-7361/com.example.game E/LogTag: Method countDownTime - currentTimeLeft_MILLIS: 89960\n</code></pre>\n<p>What I don't understand is why the run method is called two times before it updates <code>helpCounterRun++;</code>. So I can see that the code &quot;visits&quot; the <code>run()</code> method one time in which it does not update the variable <code>helpCounterRun++;</code> ? Also the other methods do every thing two times before updating and I don't understand why. Do I start 2 separate threads with this code?</p>\n<p>Another problem (that might be realted to the first problem) is that the countdown that the textView displays is too slow. It should decrease the value by 1 every second (by decreasing the value of <code>currentTimeLeftInTheLevel_MILLIS</code> after <code>DELAY_IN_MILLIS</code>).</p>\n<p>Do you have any idea why these 2 problems occur?</p>\n<p><strong>Update</strong>: When use <code>this</code>before printing the strings in the LogTag in <code>Log.e(&quot;LogTag&quot;, &quot;Method countDownTime - this: &quot; + this);</code> and <code>        Log.e(&quot;LogTag&quot;, &quot;Method run - this: &quot; + this);</code></p>\n<p>I get a slightly different output:</p>\n<pre><code>2022-03-13 09:37:54.693 9512-9512/com.example.game E/LogTag: Method run - helpCounterRun: 1\n2022-03-13 09:37:54.693 9512-9512/com.example.game E/LogTag: Method run - this: Test{1f79232} (ad58656d-a106-4ab6-8d65-8ee20d095fbf)}\n2022-03-13 09:37:54.693 9512-9512/com.example.game E/LogTag: Method countDownTime - currentTimeLeft_MILLIS: 89980\n2022-03-13 09:37:54.694 9512-9512/com.example.game E/LogTag: Method countDownTime - this: Test{1f79232} (ad58656d-a106-4ab6-8d65-8ee20d095fbf)}\n2022-03-13 09:37:54.694 9512-9512/com.example.game E/LogTag: Method updateScreen\n2022-03-13 09:37:54.696 9512-9512/com.example.game E/LogTag: Method updateScreen - this: Test{1f79232} (ad58656d-a106-4ab6-8d65-8ee20d095fbf)}\n2022-03-13 09:37:55.991 9512-9512/com.example.game E/LogTag: Method run - helpCounterRun: 1\n2022-03-13 09:37:55.991 9512-9512/com.example.game E/LogTag: Method run - this: Test{1cbc30c} (6c4409c6-c501-4b40-9e33-cbf1895c68f6) id=0x7f08013c}\n2022-03-13 09:37:55.992 9512-9512/com.example.game E/LogTag: Method countDownTime - currentTimeLeft_MILLIS: 89980\n2022-03-13 09:37:55.992 9512-9512/com.example.game E/LogTag: Method countDownTime - this: Test{1cbc30c} (6c4409c6-c501-4b40-9e33-cbf1895c68f6) id=0x7f08013c}\n2022-03-13 09:37:55.993 9512-9512/com.example.game E/LogTag: Method updateScreen\n2022-03-13 09:37:55.993 9512-9512/com.example.game E/LogTag: Method updateScreen - this: Test{1cbc30c} (6c4409c6-c501-4b40-9e33-cbf1895c68f6) id=0x7f08013c}\n2022-03-13 09:37:56.009 9512-9512/com.example.game E/LogTag: Method run - helpCounterRun: 2\n2022-03-13 09:37:56.010 9512-9512/com.example.game E/LogTag: Method run - this: Test{1f79232} (ad58656d-a106-4ab6-8d65-8ee20d095fbf)}\n2022-03-13 09:37:56.010 9512-9512/com.example.game E/LogTag: Method countDownTime - currentTimeLeft_MILLIS: 89970\n2022-03-13 09:37:56.010 9512-9512/com.example.game E/LogTag: Method countDownTime - this: Test{1f79232} (ad58656d-a106-4ab6-8d65-8ee20d095fbf)}\n2022-03-13 09:37:56.020 9512-9512/com.example.game E/LogTag: Method updateScreen\n2022-03-13 09:37:56.021 9512-9512/com.example.game E/LogTag: Method updateScreen - this: Test{1f79232} (ad58656d-a106-4ab6-8d65-8ee20d095fbf)}\n2022-03-13 09:37:56.121 9512-9512/com.example.game E/LogTag: Method run - helpCounterRun: 2\n2022-03-13 09:37:56.122 9512-9512/com.example.game E/LogTag: Method run - this: Test{1cbc30c} (6c4409c6-c501-4b40-9e33-cbf1895c68f6) id=0x7f08013c}\n2022-03-13 09:37:56.122 9512-9512/com.example.game E/LogTag: Method countDownTime - currentTimeLeft_MILLIS: 89970\n2022-03-13 09:37:56.122 9512-9512/com.example.game E/LogTag: Method countDownTime - this: Test{1cbc30c} (6c4409c6-c501-4b40-9e33-cbf1895c68f6) id=0x7f08013c}\n2022-03-13 09:37:56.124 9512-9512/com.example.game E/LogTag: Method updateScreen\n2022-03-13 09:37:56.125 9512-9512/com.example.game E/LogTag: Method updateScreen - this: Test{1cbc30c} (6c4409c6-c501-4b40-9e33-cbf1895c68f6) id=0x7f08013c}\n</code></pre>\n<p><strong>Update 2</strong>: I was asked to show the code that launches the problematic fragment <code>Test</code>. Here you can see the Fragment <code>FR_Menu</code> that launches the fragment <code>Test</code>after clicking on the corresponding button.</p>\n<pre><code>public class FR_Menu extends Fragment implements View.OnClickListener{\n\n    private FragmentMenuBinding binding;\n    \n\n    public FR_Menu() {\n        // Required empty public constructor\n    }\n\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        binding = FragmentMenuBinding.inflate(inflater, container, false);\n        getActivity().setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\n\n        binding.buttonGame.setOnClickListener(this);\n        binding.buttonOptions.setOnClickListener(this);\n        binding.buttonHighscores.setOnClickListener(this);\n        binding.buttonFacts.setOnClickListener(this);\n        binding.buttonExit.setOnClickListener(this);\n        binding.buttonTest.setOnClickListener(this);\n        return binding.getRoot();\n    }\n\n    @Override\n    public void onClick(View view) {\n\n        if(view.getId() == R.id.button_game) {\n            \n            Navigation.findNavController(getView()).navigate(FR_MenuDirections.actionFRMenuToFRGame());\n        }\n\n        if(view.getId() == R.id.button_highscores) {\n            Navigation.findNavController(getView()).navigate(FR_MenuDirections.actionFRMenuToFRHighScores());\n        }\n\n        if(view.getId() == R.id.button_facts) {\n            Navigation.findNavController(getView()).navigate(FR_MenuDirections.actionFRMenuToFRInterestingFacts());\n        }\n\n        if(view.getId() == R.id.button_options) {\n            Navigation.findNavController(getView()).navigate(FR_MenuDirections.actionFRMenuToFROptions());\n        }\n//This launches the problematic Fragment &quot;Test&quot;\n        if(view.getId() == R.id.button_test) {\n            Navigation.findNavController(getView()).navigate(FR_MenuDirections.actionFRMenuToTest());\n        }\n\n        if(view.getId() == R.id.button_exit) {\n            getActivity().finishAndRemoveTask();\n        }\n        \n    }\n}  \n</code></pre>\n<p><strong>Reminder</strong>: Does nobody have any idea?</p>\n"},{"tags":["java","android-studio","gradle"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1649596026,"post_id":71816183,"comment_id":126910528,"body_markdown":"Nice to see what you have included. Can you also provide the build failure message?","body":"Nice to see what you have included. Can you also provide the build failure message?"},{"owner":{"account_id":14871848,"reputation":159,"user_id":12816936,"display_name":"agega"},"score":0,"creation_date":1649596560,"post_id":71816183,"comment_id":126910631,"body_markdown":"Could not find com.android.tools.build:gradle:7.1.3.\nSearched in the following locations:\n  - https://plugins.gradle.org/m2/com/android/tools/build/gradle/7.1.3/gradle-7.1.3.pom\nIf the artifact you are trying to retrieve can be found in the repository but without metadata in &#39;Maven POM&#39; format, you need to adjust the &#39;metadataSources { ... }&#39; of the repository declaration.\nRequired by:\n    project :app\nAdd google Maven repository and sync project\nOpen File","body":"Could not find com.android.tools.build:gradle:7.1.3. Searched in the following locations:   - <a href=\"https://plugins.gradle.org/m2/com/android/tools/build/gradle/7.1.3/gradle-7.1.3.pom\" rel=\"nofollow noreferrer\">plugins.gradle.org/m2/com/android/tools/build/gradle/7.1.3/&hellip;</a> If the artifact you are trying to retrieve can be found in the repository but without metadata in &#39;Maven POM&#39; format, you need to adjust the &#39;metadataSources { ... }&#39; of the repository declaration. Required by:     project :app Add google Maven repository and sync project Open File"},{"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"score":0,"creation_date":1649598975,"post_id":71816183,"comment_id":126911121,"body_markdown":"try this:- `File` &gt; `Sync with Gradle Project` and then click on `invalidate cache` and run again.","body":"try this:- <code>File</code> &gt; <code>Sync with Gradle Project</code> and then click on <code>invalidate cache</code> and run again."},{"owner":{"account_id":14871848,"reputation":159,"user_id":12816936,"display_name":"agega"},"score":0,"creation_date":1649600594,"post_id":71816183,"comment_id":126911507,"body_markdown":"@MDev that did not work \n\nBut a different failure message showed up :\n\nMinimum supported Gradle version is 7.2. Current version is 7.0.2.\n\nPlease fix the project&#39;s Gradle settings.","body":"@MDev that did not work   But a different failure message showed up :  Minimum supported Gradle version is 7.2. Current version is 7.0.2.  Please fix the project&#39;s Gradle settings."}],"answers":[{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649598455,"creation_date":1649598455,"answer_id":71817189,"question_id":71816183,"body_markdown":"As this is a new version (released at 2022-04-08), you need [`google()`][1] repository for recent release, as stated in [Android Developer Documentation][2]\r\n```\r\nrepositories {\r\n    ...\r\n    google()\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/declaring_repositories.html#sub:maven_google\r\n  [2]: https://developer.android.com/studio/build/dependencies#google-maven","title":"Gradle Build Failure version 7.1.3","body":"<p>As this is a new version (released at 2022-04-08), you need <a href=\"https://docs.gradle.org/current/userguide/declaring_repositories.html#sub:maven_google\" rel=\"nofollow noreferrer\"><code>google()</code></a> repository for recent release, as stated in <a href=\"https://developer.android.com/studio/build/dependencies#google-maven\" rel=\"nofollow noreferrer\">Android Developer Documentation</a></p>\n<pre><code>repositories {\n    ...\n    google()\n}\n</code></pre>\n"}],"owner":{"account_id":14871848,"reputation":159,"user_id":12816936,"display_name":"agega"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2878,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649598585,"creation_date":1649590313,"question_id":71816183,"body_markdown":"I&#39;m having trouble building my gradle file. I recently upgraded my gradle version form 7.1.2 on gradle-wrapper-properties, build.gradle files and added `implementation &#39;com.android.tools.build:gradle:7.1.3&#39;` and see below error message when building with gradle:\r\n\r\n&gt;Could not find com.android.tools.build:gradle:7.1.3. Searched in the following locations: - plugins.gradle.org/m2/com/android/tools/build/gradle/7.1.3/… If the artifact you are trying to retrieve can be found in the repository but without metadata in &#39;Maven POM&#39; format, you need to adjust the &#39;metadataSources { ... }&#39; of the repository declaration. Required by: project :app Add google Maven repository and sync project Open File\r\n\r\n\r\n\r\nBelow is my build.gradle(Project level) file :\r\n\r\n    apply &#39;7.1.3&#39;\r\n    buildscript {\r\n        ext {\r\n            agp_version = &#39;7.1.3&#39;\r\n        }\r\n        repositories {\r\n            maven { url &#39;https://plugins.gradle.org/m2/&#39; }\r\n        }\r\n        dependencies {\r\n            classpath &#39;gradle.plugin.com.onesignal:onesignal-gradle-plugin:0.14.0&#39;\r\n            classpath &quot;com.android.tools.build:gradle:$agp_version&quot;\r\n        }\r\n    }\r\n    apply plugin: &#39;com.onesignal.androidsdk.onesignal-gradle-plugin&#39;\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 31\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.wallpapers_8k_Celebrity_Art.app&quot;\r\n            minSdkVersion 19\r\n            targetSdkVersion 31\r\n            versionCode 16\r\n            versionName &quot;alpha1.016&quot;\r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled true\r\n                shrinkResources true\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility 1.8\r\n            targetCompatibility 1.8\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n        implementation &#39;com.facebook.android:audience-network-sdk:6.8.0&#39;\r\n        implementation &#39;com.android.tools.build:gradle:7.1.3&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n        implementation &#39;com.google.firebase:firebase-database:20.0.4&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n        implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n        implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n        implementation &#39;com.onesignal:OneSignal:[4.0.0, 4.99.99]&#39;\r\n        implementation &#39;com.applovin:applovin-sdk:+&#39;\r\n    }\r\n\r\nUpdated properties file : \r\n\r\n    #Sun Apr 10 14:07:23 EAT 2022\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-bin.zip\r\n    distributionPath=wrapper/dists\r\n    zipStorePath=wrapper/dists\r\n    zipStoreBase=GRADLE_USER_HOME\r\n\r\nBelow is a screenshot under my project Structure setting :\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lB0tu.png","title":"Gradle Build Failure version 7.1.3","body":"<p>I'm having trouble building my gradle file. I recently upgraded my gradle version form 7.1.2 on gradle-wrapper-properties, build.gradle files and added <code>implementation 'com.android.tools.build:gradle:7.1.3'</code> and see below error message when building with gradle:</p>\n<blockquote>\n<p>Could not find com.android.tools.build:gradle:7.1.3. Searched in the following locations: - plugins.gradle.org/m2/com/android/tools/build/gradle/7.1.3/… If the artifact you are trying to retrieve can be found in the repository but without metadata in 'Maven POM' format, you need to adjust the 'metadataSources { ... }' of the repository declaration. Required by: project :app Add google Maven repository and sync project Open File</p>\n</blockquote>\n<p>Below is my build.gradle(Project level) file :</p>\n<pre><code>apply '7.1.3'\nbuildscript {\n    ext {\n        agp_version = '7.1.3'\n    }\n    repositories {\n        maven { url 'https://plugins.gradle.org/m2/' }\n    }\n    dependencies {\n        classpath 'gradle.plugin.com.onesignal:onesignal-gradle-plugin:0.14.0'\n        classpath &quot;com.android.tools.build:gradle:$agp_version&quot;\n    }\n}\napply plugin: 'com.onesignal.androidsdk.onesignal-gradle-plugin'\napply plugin: 'com.google.gms.google-services'\n\nandroid {\n    compileSdkVersion 31\n\n    defaultConfig {\n        applicationId &quot;com.wallpapers_8k_Celebrity_Art.app&quot;\n        minSdkVersion 19\n        targetSdkVersion 31\n        versionCode 16\n        versionName &quot;alpha1.016&quot;\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n    buildTypes {\n        release {\n            minifyEnabled true\n            shrinkResources true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility 1.8\n        targetCompatibility 1.8\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.facebook.android:audience-network-sdk:6.8.0'\n    implementation 'com.android.tools.build:gradle:7.1.3'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    implementation 'com.google.firebase:firebase-database:20.0.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    implementation 'com.onesignal:OneSignal:[4.0.0, 4.99.99]'\n    implementation 'com.applovin:applovin-sdk:+'\n}\n</code></pre>\n<p>Updated properties file :</p>\n<pre><code>#Sun Apr 10 14:07:23 EAT 2022\ndistributionBase=GRADLE_USER_HOME\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-bin.zip\ndistributionPath=wrapper/dists\nzipStorePath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\n</code></pre>\n<p>Below is a screenshot under my project Structure setting :\n<a href=\"https://i.stack.imgur.com/lB0tu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lB0tu.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","redis"],"answers":[{"tags":[],"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649584665,"creation_date":1649584665,"answer_id":71815505,"question_id":71815401,"body_markdown":"I am guessing that you wrote \r\n\r\n    Stream &lt;myClass&gt; findAll();\r\n\r\non your own. This is not supported by default no. findAll() in repositories returns a list. It should look like this\r\n\r\n    List&lt;MyClass&gt; findAll();\r\n\r\nthe conversion to a stream can be done afterwards\r\n\r\n    myClassRepository().findAll().stream().forEach(this::doNothing)\r\n\r\nor shortened\r\n\r\n    myClassRepository().findAll().forEach(this::doNothing)\r\n","title":"Returning a stream in a Spring repository using Redis, throws casting exception","body":"<p>I am guessing that you wrote</p>\n<pre><code>Stream &lt;myClass&gt; findAll();\n</code></pre>\n<p>on your own. This is not supported by default no. findAll() in repositories returns a list. It should look like this</p>\n<pre><code>List&lt;MyClass&gt; findAll();\n</code></pre>\n<p>the conversion to a stream can be done afterwards</p>\n<pre><code>myClassRepository().findAll().stream().forEach(this::doNothing)\n</code></pre>\n<p>or shortened</p>\n<pre><code>myClassRepository().findAll().forEach(this::doNothing)\n</code></pre>\n"}],"owner":{"account_id":24889529,"reputation":1,"user_id":18761689,"display_name":"Ido Kendler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649598224,"creation_date":1649583722,"question_id":71815401,"body_markdown":"My repository has this function:\r\n\r\n```java\r\n\r\nStream &lt; myClass&gt; findAll();\r\n\r\nand I&#39;m calling it this way:\r\n\r\ntry(Stream&lt; myClass&gt; s = myClassRepository.findAll()){\r\n\r\n    s.forEach(this::doNothing);\r\n\r\n}\r\n```\r\n\r\nFor some reason i get this exception:\r\n\r\n`myClass cannot be cast to class java.util.stream.Stream`\r\n\r\n\r\nIs the issue with my code or is this not supported by Redis?\r\n\r\n","title":"Returning a stream in a Spring repository using Redis, throws casting exception","body":"<p>My repository has this function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nStream &lt; myClass&gt; findAll();\n\nand I'm calling it this way:\n\ntry(Stream&lt; myClass&gt; s = myClassRepository.findAll()){\n\n    s.forEach(this::doNothing);\n\n}\n</code></pre>\n<p>For some reason i get this exception:</p>\n<p><code>myClass cannot be cast to class java.util.stream.Stream</code></p>\n<p>Is the issue with my code or is this not supported by Redis?</p>\n"},{"tags":["java","csv","parsing","processing"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1649591402,"post_id":71816273,"comment_id":126909650,"body_markdown":"Maybe this? https://stackoverflow.com/questions/1468998/execute-sql-on-csv-files-via-jdbc","body":"Maybe this? <a href=\"https://stackoverflow.com/questions/1468998/execute-sql-on-csv-files-via-jdbc\" title=\"execute sql on csv files via jdbc\">stackoverflow.com/questions/1468998/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649597892,"creation_date":1649597892,"answer_id":71817123,"question_id":71816273,"body_markdown":"Use any of the several available CSV parsing tools to read your file. For example, *Apache Commons CSV*. \r\n\r\n\r\nAs you read in each line, test if it contains your target value. If so, remember that row by stashing in a variable. Each time you find a hit, replace the previously stashed value with the latest, storing in that same variable. \r\n\r\nWhen done reading the file, the last row meeting your criteria is in that variable. Now read the adjacent cell from that row. Voil&#224;, your result. \r\n\r\nYou will find many examples of reading CSV files in existing Questions and Answers. Again, I recommend you use a library for reading and parsing the CSV rather than perform that chore yourself. ","title":"How to find the last use of a string in a csv table and finding the value of another column on that row","body":"<p>Use any of the several available CSV parsing tools to read your file. For example, <em>Apache Commons CSV</em>.</p>\n<p>As you read in each line, test if it contains your target value. If so, remember that row by stashing in a variable. Each time you find a hit, replace the previously stashed value with the latest, storing in that same variable.</p>\n<p>When done reading the file, the last row meeting your criteria is in that variable. Now read the adjacent cell from that row. Voilà, your result.</p>\n<p>You will find many examples of reading CSV files in existing Questions and Answers. Again, I recommend you use a library for reading and parsing the CSV rather than perform that chore yourself.</p>\n"}],"owner":{"account_id":24890237,"reputation":1,"user_id":18762313,"display_name":"oZeppy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649598163,"creation_date":1649590989,"question_id":71816273,"body_markdown":"Using Java Processing I&#39;m trying to find the last time that a specific string value is found in a table column and get another value from the cell next to it.\r\nHow would I do something like this?","title":"How to find the last use of a string in a csv table and finding the value of another column on that row","body":"<p>Using Java Processing I'm trying to find the last time that a specific string value is found in a table column and get another value from the cell next to it.\nHow would I do something like this?</p>\n"},{"tags":["java","eclipse","hibernate"],"comments":[{"owner":{"account_id":1261259,"reputation":6717,"user_id":1219487,"accept_rate":80,"display_name":"Chetter Hummin"},"score":0,"creation_date":1332590307,"post_id":9851528,"comment_id":12556793,"body_markdown":"have you tried putting your hibernate jars directly in the build path?","body":"have you tried putting your hibernate jars directly in the build path?"},{"owner":{"account_id":117025,"reputation":5019,"user_id":306643,"accept_rate":76,"display_name":"kandarp"},"score":0,"creation_date":1332600094,"post_id":9851528,"comment_id":12558478,"body_markdown":"As per your attached image, I  think your DOCTYPE entry in your hibernate.cfg.xml file. Replace with below entry and test it..\n\n\n&lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n                                         &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;","body":"As per your attached image, I  think your DOCTYPE entry in your hibernate.cfg.xml file. Replace with below entry and test it..   &lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;                                          &quot;<a href=\"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\" rel=\"nofollow noreferrer\">hibernate.sourceforge.net/hibernate-configuration-3.0.dtd</a>&quot;&gt;"}],"answers":[{"tags":[],"owner":{"account_id":1337393,"reputation":29969,"user_id":1279787,"accept_rate":67,"display_name":"Chris White"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1332604552,"creation_date":1332604552,"answer_id":9853106,"question_id":9851528,"body_markdown":"You&#39;re getting the error because the hibernate libraries are not available to Tomcat. In your picture, below the hibernate library set there is an empty set called &#39;Web App Libraries&#39; - this is the set your hibernate libraries need to be in.\r\n\r\nRight click your project -&gt; Build Path -&gt; Configure Build Path, and remove the hibernate set from the build path. Now import the jars into the WEB-INF/lib folder. Refresh your project and now you should see them listed in the &#39;Web App Libraries&#39; set (i appreciate this is somewhat annoying that you have to import them into your code base - someone else might know a better way to do this that doesn&#39;t involve copying the jars in)","title":"java.lang.NoClassDefFoundError: org/hibernate/cfg/Configuration","body":"<p>You're getting the error because the hibernate libraries are not available to Tomcat. In your picture, below the hibernate library set there is an empty set called 'Web App Libraries' - this is the set your hibernate libraries need to be in.</p>\n\n<p>Right click your project -> Build Path -> Configure Build Path, and remove the hibernate set from the build path. Now import the jars into the WEB-INF/lib folder. Refresh your project and now you should see them listed in the 'Web App Libraries' set (i appreciate this is somewhat annoying that you have to import them into your code base - someone else might know a better way to do this that doesn't involve copying the jars in)</p>\n"},{"tags":[],"owner":{"account_id":227875,"reputation":557,"user_id":489802,"accept_rate":71,"display_name":"Shams"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1352625966,"creation_date":1352575329,"answer_id":13325297,"question_id":9851528,"body_markdown":"You don&#39;t have the hibernate jar present in your library folder\r\nVisit the below link for the possible solution, http://www.smashplus.info/2012/11/javalangnoclassdeffounderror.html","title":"java.lang.NoClassDefFoundError: org/hibernate/cfg/Configuration","body":"<p>You don't have the hibernate jar present in your library folder\nVisit the below link for the possible solution, <a href=\"http://www.smashplus.info/2012/11/javalangnoclassdeffounderror.html\" rel=\"nofollow\">http://www.smashplus.info/2012/11/javalangnoclassdeffounderror.html</a></p>\n"},{"tags":[],"owner":{"account_id":1010812,"reputation":7229,"user_id":1023421,"accept_rate":62,"display_name":"prageeth"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1389075898,"creation_date":1380195607,"answer_id":19027232,"question_id":9851528,"body_markdown":"This error can happen when your jar files has not been **exported** with your web archive.   You can do what @Chris White has said or you can follow below steps if you are using Eclipse.\r\n\r\n`Right click the project -&gt; Build Path -&gt; Configure Build Path`\r\n\r\nIn the list at left side click on **Deployment Assembly**. Click &quot;**Add**&quot; button. Select &quot;**Java Build Path Entries**&quot; and click **next**. Now select your hibernate jar files or library. Click **finish**. Then click **Ok**. &lt;br/&gt;\r\nRestart the server if necessary.","title":"java.lang.NoClassDefFoundError: org/hibernate/cfg/Configuration","body":"<p>This error can happen when your jar files has not been <strong>exported</strong> with your web archive.   You can do what @Chris White has said or you can follow below steps if you are using Eclipse.</p>\n\n<p><code>Right click the project -&gt; Build Path -&gt; Configure Build Path</code></p>\n\n<p>In the list at left side click on <strong>Deployment Assembly</strong>. Click \"<strong>Add</strong>\" button. Select \"<strong>Java Build Path Entries</strong>\" and click <strong>next</strong>. Now select your hibernate jar files or library. Click <strong>finish</strong>. Then click <strong>Ok</strong>. <br/>\nRestart the server if necessary.</p>\n"},{"tags":[],"owner":{"account_id":11175219,"reputation":615,"user_id":8201028,"display_name":"Krishna Choudhary"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1501131574,"creation_date":1501131574,"answer_id":45341756,"question_id":9851528,"body_markdown":"Simpler way than Chris White&#39;s way.\r\n\r\n&gt; You&#39;re getting the error because the hibernate libraries are not available to Tomcat. Right click your project -&gt; Build Path -&gt; Configure Build Path, and **remove** the hibernate set from the build path.\r\n\r\nDo the same stuff, but instead of importing the jars everytime for a new project, **copy the required hibernate jars in lib folder of Apache Tomcat **(or whatever the server u are using).\r\n\r\n\r\n\r\n","title":"java.lang.NoClassDefFoundError: org/hibernate/cfg/Configuration","body":"<p>Simpler way than Chris White's way.</p>\n\n<blockquote>\n  <p>You're getting the error because the hibernate libraries are not available to Tomcat. Right click your project -> Build Path -> Configure Build Path, and <strong>remove</strong> the hibernate set from the build path.</p>\n</blockquote>\n\n<p>Do the same stuff, but instead of importing the jars everytime for a new project, **copy the required hibernate jars in lib folder of Apache Tomcat **(or whatever the server u are using).</p>\n"},{"tags":[],"owner":{"account_id":11902368,"reputation":147,"user_id":8709958,"display_name":"Patrick L"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649597134,"creation_date":1649597134,"answer_id":71817037,"question_id":9851528,"body_markdown":"To achieve the same with IntelliJ :\r\n - File -&gt; Project Structure\r\n - Project Settings -&gt; Artifacts\r\n - Select your .war artifact\r\n - expand Available Elements\r\n - right click the Hibernate lib -&gt; Put into /WEB-INF/lib\r\n\r\nDone.","title":"java.lang.NoClassDefFoundError: org/hibernate/cfg/Configuration","body":"<p>To achieve the same with IntelliJ :</p>\n<ul>\n<li>File -&gt; Project Structure</li>\n<li>Project Settings -&gt; Artifacts</li>\n<li>Select your .war artifact</li>\n<li>expand Available Elements</li>\n<li>right click the Hibernate lib -&gt; Put into /WEB-INF/lib</li>\n</ul>\n<p>Done.</p>\n"}],"owner":{"account_id":1349942,"reputation":1899,"user_id":1289894,"accept_rate":50,"display_name":"Blue"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72541,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":9853106,"answer_count":5,"score":12,"last_activity_date":1649597134,"creation_date":1332590188,"question_id":9851528,"body_markdown":"I&#39;m trying to do an initial setup with Hibernate in Eclipse, while deploying with Tomcat.\r\n\r\nI encountered the following problem:\r\n\r\n    java.lang.ClassNotFoundException: org.hibernate.cfg.Configuration\r\n    \torg.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1701)\r\n    \torg.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1546)\r\n    \tdb.HibernateUtil.buildSessionFactory(HibernateUtil.java:13)\r\n    \tdb.HibernateUtil.&lt;clinit&gt;(HibernateUtil.java:8)\r\n\r\nI&#39;ve goggled my problem online and I understand that it has something to to with the project class path.\r\n\r\nI&#39;ve added a user library to my project containing all the jars under the &quot;required&quot; directory in the hibernate download, but that doesn&#39;t seem to work.\r\n\r\nPlease find a screen shot of my project [here:][1] \r\n\r\n\r\n  [1]: http://tinypic.com/view.php?pic=2rnuh4y&amp;s=5","title":"java.lang.NoClassDefFoundError: org/hibernate/cfg/Configuration","body":"<p>I'm trying to do an initial setup with Hibernate in Eclipse, while deploying with Tomcat.</p>\n\n<p>I encountered the following problem:</p>\n\n<pre><code>java.lang.ClassNotFoundException: org.hibernate.cfg.Configuration\n    org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1701)\n    org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1546)\n    db.HibernateUtil.buildSessionFactory(HibernateUtil.java:13)\n    db.HibernateUtil.&lt;clinit&gt;(HibernateUtil.java:8)\n</code></pre>\n\n<p>I've goggled my problem online and I understand that it has something to to with the project class path.</p>\n\n<p>I've added a user library to my project containing all the jars under the \"required\" directory in the hibernate download, but that doesn't seem to work.</p>\n\n<p>Please find a screen shot of my project <a href=\"http://tinypic.com/view.php?pic=2rnuh4y&amp;s=5\" rel=\"noreferrer\">here:</a> </p>\n"},{"tags":["java","selenium","selenium-webdriver"],"owner":{"account_id":22011669,"reputation":11,"user_id":16281839,"display_name":"Deepak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1649611281,"answer_count":0,"score":1,"last_activity_date":1649596733,"creation_date":1649596733,"question_id":71816972,"body_markdown":"I am unable to select the password html element i.e, &lt;input&gt; tag... Even though i have tried using various find element methods provided by selenium to select it directly and indirectly and given proper values for the methods as well. still I&#39;m unable to select the &lt;input&gt; tag for the password \r\n\r\n```import org.openqa.selenium.By;\r\nimport org.openqa.selenium.Keys;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.testng.annotations.AfterTest;\r\nimport org.testng.annotations.BeforeTest;\r\nimport org.testng.annotations.Test;\r\n\r\npublic class demo {\r\n\tWebDriver driver;\r\n @BeforeTest\r\n public void Test1() throws InterruptedException {\r\n\t \tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\selenium\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n\t \tdriver = new ChromeDriver(); \r\n\t\tdriver.get(&quot;http://www.voot.com/&quot;);\r\n\t\tdriver.manage().window().maximize();\r\n\t\tThread.sleep(2000);\r\n }\r\n @Test\r\n public void Test2() throws InterruptedException {\r\n\t \tdriver.findElement(By.xpath(&quot;//div[@class=&#39;MuiAvatar-root-136 MuiAvatar- \r\n                         colorDefault-137 withRouter-UserDropdownMenu--avatar- \r\n                          120&#39;]&quot;)).click();\r\n\t\tWebElement dropdownlist = driver.findElement(By.className(&quot;withRouter- \r\n                    UserDropdownMenu--dropDownContent-124&quot;));\r\n\t\tWebElement login = dropdownlist.findElement(By.xpath(&quot;//li[@class=&#39;MuiListItem-root- \r\n                              143 MuiListItem-default-146 MuiListItem-gutters-151 \r\n                          withRouter-UserDropdownMenu--ListItem-126&#39;]&quot;));\r\n\t\tThread.sleep(500);\r\n\t\tlogin.click();\r\n\t\tThread.sleep(200);\r\n\t\r\n\t\tWebElement iframe = driver.findElement(By.xpath(&quot;//iframe[@title=&#39;User Sync&#39;]&quot;));\r\n\t    iframe.findElement(By.xpath(&quot;//img[@alt=&#39;email- \r\n                      icon&#39;]|//img[@src=&#39;/images/icon_mail_purple.svg&#39;]&quot;)).click();\r\n\t\tThread.sleep(100);\r\n\t\ttry {\r\n\t\tWebElement emailprovide = driver.findElement(By.name(&quot;email&quot;));\r\n\t\temailprovide.sendKeys(&quot;abc123@gmail.com&quot;,Keys.ENTER);\r\n\r\n`the next line is where i am seeing my error`\r\n\t\tWebElement password = driver.findElement(By.xpath(&quot;//*[@id=&#39;password&#39;]&quot;));\r\n\t\tpassword.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;abc123&quot;,Keys.ENTER);\r\n \r\n\t\tSystem.out.println(&quot;Test2 passed&quot;);\r\n\t\t}\r\n\t\tcatch (Exception e) {\r\n\t\t\tSystem.out.println(e);\r\n\t\t}\r\n  }```","title":"The error that I am seeing on the console: &quot;NoSuchElementException&quot; when testing out an website using selenium. I&#39;m new at this. unable to key in pwd","body":"<p>I am unable to select the password html element i.e,  tag... Even though i have tried using various find element methods provided by selenium to select it directly and indirectly and given proper values for the methods as well. still I'm unable to select the  tag for the password</p>\n<pre><code>import org.openqa.selenium.Keys;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.testng.annotations.AfterTest;\nimport org.testng.annotations.BeforeTest;\nimport org.testng.annotations.Test;\n\npublic class demo {\n    WebDriver driver;\n @BeforeTest\n public void Test1() throws InterruptedException {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\selenium\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\n        driver = new ChromeDriver(); \n        driver.get(&quot;http://www.voot.com/&quot;);\n        driver.manage().window().maximize();\n        Thread.sleep(2000);\n }\n @Test\n public void Test2() throws InterruptedException {\n        driver.findElement(By.xpath(&quot;//div[@class='MuiAvatar-root-136 MuiAvatar- \n                         colorDefault-137 withRouter-UserDropdownMenu--avatar- \n                          120']&quot;)).click();\n        WebElement dropdownlist = driver.findElement(By.className(&quot;withRouter- \n                    UserDropdownMenu--dropDownContent-124&quot;));\n        WebElement login = dropdownlist.findElement(By.xpath(&quot;//li[@class='MuiListItem-root- \n                              143 MuiListItem-default-146 MuiListItem-gutters-151 \n                          withRouter-UserDropdownMenu--ListItem-126']&quot;));\n        Thread.sleep(500);\n        login.click();\n        Thread.sleep(200);\n    \n        WebElement iframe = driver.findElement(By.xpath(&quot;//iframe[@title='User Sync']&quot;));\n        iframe.findElement(By.xpath(&quot;//img[@alt='email- \n                      icon']|//img[@src='/images/icon_mail_purple.svg']&quot;)).click();\n        Thread.sleep(100);\n        try {\n        WebElement emailprovide = driver.findElement(By.name(&quot;email&quot;));\n        emailprovide.sendKeys(&quot;abc123@gmail.com&quot;,Keys.ENTER);\n\n`the next line is where i am seeing my error`\n        WebElement password = driver.findElement(By.xpath(&quot;//*[@id='password']&quot;));\n        password.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;abc123&quot;,Keys.ENTER);\n \n        System.out.println(&quot;Test2 passed&quot;);\n        }\n        catch (Exception e) {\n            System.out.println(e);\n        }\n  }```\n</code></pre>\n"},{"tags":["java","byte-buddy"],"answers":[{"tags":[],"owner":{"account_id":21386634,"reputation":107,"user_id":15751512,"display_name":"Junhyung"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649596672,"creation_date":1649596201,"answer_id":71816905,"question_id":71816195,"body_markdown":"I solved!\r\n\r\n```\r\npublic class GeneralInterceptor {\r\n    @RuntimeType\r\n    public static Object intercept(@AllArguments Object[] allArguments) {\r\n        System.out.println(&quot;asdfasdf&quot;);\r\n        return null;\r\n    }\r\n}\r\n```\r\nand change\r\n\r\n```intercept(MethodDelegation.to(new GeneralInterceptor())```\r\n\r\nto\r\n\r\n```intercept(MethodDelegation.to(GeneralInterceptor.class)```\r\n   \r\n\r\n","title":"Redefine methods with ByteBuddy","body":"<p>I solved!</p>\n<pre><code>public class GeneralInterceptor {\n    @RuntimeType\n    public static Object intercept(@AllArguments Object[] allArguments) {\n        System.out.println(&quot;asdfasdf&quot;);\n        return null;\n    }\n}\n</code></pre>\n<p>and change</p>\n<p><code>intercept(MethodDelegation.to(new GeneralInterceptor())</code></p>\n<p>to</p>\n<p><code>intercept(MethodDelegation.to(GeneralInterceptor.class)</code></p>\n"}],"owner":{"account_id":21386634,"reputation":107,"user_id":15751512,"display_name":"Junhyung"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71816905,"answer_count":1,"score":0,"last_activity_date":1649596672,"creation_date":1649590398,"question_id":71816195,"body_markdown":"I am trying to redefine some methods using ByteBuddy.\r\nwhen I intercept methods with FixedValue.value(), it&#39;s fine.\r\nbut intercept methods with an interceptor, the compiler throws UnsupportedOperationException.\r\n\r\nI want to override the &quot;Foo.nothing()&quot; method to print something.\r\n\r\n```\r\npublic class Foo {\r\n    public String getHello() {\r\n        return &quot;not redefined hello!&quot;;\r\n    }\r\n    public String getBye() {\r\n        return &quot;not redefined Bye!&quot;;\r\n    }\r\n    public void nothing() {}\r\n}\r\n```\r\nhere is my interceptor:\r\n```\r\npublic class GeneralInterceptor {\r\n    @RuntimeType\r\n    public Object intercept(@AllArguments Object[] allArguments,\r\n                            @Origin Method method) {\r\n        System.out.println(&quot;asdfasdf&quot;);\r\n        return null;\r\n    }\r\n}\r\n```\r\nand here is my redefining code\r\n```\r\npublic class RedefineTest {\r\n    ClassReloadingStrategy classReloadingStrategy;\r\n    @BeforeEach\r\n    public void init() {\r\n        ByteBuddyAgent.install();\r\n        classReloadingStrategy = ClassReloadingStrategy.fromInstalledAgent();\r\n    }\r\n\r\n    @Test\r\n    public void redefineTest() {\r\n        // okay\r\n        new ByteBuddy()\r\n                .redefine(Foo.class)\r\n                .method(named(&quot;getHello&quot;))\r\n                .intercept(FixedValue.value(&quot;ByteBuddy Hello!&quot;))\r\n                .make()\r\n                .load(Foo.class.getClassLoader(), classReloadingStrategy);\r\n        // error\r\n        new ByteBuddy()\r\n                .redefine(Foo.class)\r\n                .method(named(&quot;nothing&quot;))\r\n                .intercept(MethodDelegation.to(new GeneralInterceptor()))\r\n                .make()\r\n                .load(Foo.class.getClassLoader(), classReloadingStrategy);\r\n        Foo foo = new Foo();\r\n        System.out.println(foo.getHello());\r\n        System.out.println(foo.getBye());\r\n        foo.nothing();\r\n    }\r\n}\r\n```","title":"Redefine methods with ByteBuddy","body":"<p>I am trying to redefine some methods using ByteBuddy.\nwhen I intercept methods with FixedValue.value(), it's fine.\nbut intercept methods with an interceptor, the compiler throws UnsupportedOperationException.</p>\n<p>I want to override the &quot;Foo.nothing()&quot; method to print something.</p>\n<pre><code>public class Foo {\n    public String getHello() {\n        return &quot;not redefined hello!&quot;;\n    }\n    public String getBye() {\n        return &quot;not redefined Bye!&quot;;\n    }\n    public void nothing() {}\n}\n</code></pre>\n<p>here is my interceptor:</p>\n<pre><code>public class GeneralInterceptor {\n    @RuntimeType\n    public Object intercept(@AllArguments Object[] allArguments,\n                            @Origin Method method) {\n        System.out.println(&quot;asdfasdf&quot;);\n        return null;\n    }\n}\n</code></pre>\n<p>and here is my redefining code</p>\n<pre><code>public class RedefineTest {\n    ClassReloadingStrategy classReloadingStrategy;\n    @BeforeEach\n    public void init() {\n        ByteBuddyAgent.install();\n        classReloadingStrategy = ClassReloadingStrategy.fromInstalledAgent();\n    }\n\n    @Test\n    public void redefineTest() {\n        // okay\n        new ByteBuddy()\n                .redefine(Foo.class)\n                .method(named(&quot;getHello&quot;))\n                .intercept(FixedValue.value(&quot;ByteBuddy Hello!&quot;))\n                .make()\n                .load(Foo.class.getClassLoader(), classReloadingStrategy);\n        // error\n        new ByteBuddy()\n                .redefine(Foo.class)\n                .method(named(&quot;nothing&quot;))\n                .intercept(MethodDelegation.to(new GeneralInterceptor()))\n                .make()\n                .load(Foo.class.getClassLoader(), classReloadingStrategy);\n        Foo foo = new Foo();\n        System.out.println(foo.getHello());\n        System.out.println(foo.getBye());\n        foo.nothing();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","deserialization","abstract-class"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1649410118,"post_id":71794531,"comment_id":126873351,"body_markdown":"Does this answer your question? [How to provide a custom deserializer with Jackson and Spring Boot](https://stackoverflow.com/questions/53480525/how-to-provide-a-custom-deserializer-with-jackson-and-spring-boot)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/53480525/how-to-provide-a-custom-deserializer-with-jackson-and-spring-boot\">How to provide a custom deserializer with Jackson and Spring Boot</a>"},{"owner":{"account_id":4838196,"reputation":101,"user_id":9715520,"display_name":"Rahul"},"score":0,"creation_date":1649413315,"post_id":71794531,"comment_id":126874455,"body_markdown":"@daniu does that mean I&#39;ll have to write multiple deserializers? Even if I do, how would I decide when to use which concrete implemetation? The accepted answer on the link you shared has just one implementation. In my case however, there are 3 implementations.","body":"@daniu does that mean I&#39;ll have to write multiple deserializers? Even if I do, how would I decide when to use which concrete implemetation? The accepted answer on the link you shared has just one implementation. In my case however, there are 3 implementations."}],"answers":[{"tags":[],"owner":{"account_id":16339508,"reputation":94,"user_id":11800728,"display_name":"Ruixiang Ji"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649414006,"creation_date":1649414006,"answer_id":71795498,"question_id":71794531,"body_markdown":"I don&#39;t know in what environment you want to use this deserialization method, so let me tell you how to do it in springboot.\r\nIf it is key1, key2, key3 is determined, I can use the following methods to receive.\r\n\r\n    @PostMapping(&quot;/test&quot;)\r\n    public String test(@RequestBody Test userName){\r\n        System.out.println(userName);\r\n        return null;\r\n    }\r\n\r\n    @Data\r\n    @ToString\r\n    @Accessors(chain = true)public class Test {\r\n    \t\r\n    \tprivate String key;\r\n    \t\r\n    \tprivate String key2;\r\n    \t\r\n    \tprivate Map&lt;String, Object&gt; key3;\r\n    \t}\r\n\r\n\r\n\r\nThe console prints the result as Test(key=aaa, key2=some value1, key3={key4=16, key5=jsf}).\r\n\r\nIt is proved that the deserialization can be completed by using map to receive multiple parameters, however, this method requires key1, key2, and key3 to be fixed names.\r\n","title":"Deserializing a JSONobject to an abstract class in spring boot","body":"<p>I don't know in what environment you want to use this deserialization method, so let me tell you how to do it in springboot.\nIf it is key1, key2, key3 is determined, I can use the following methods to receive.</p>\n<pre><code>@PostMapping(&quot;/test&quot;)\npublic String test(@RequestBody Test userName){\n    System.out.println(userName);\n    return null;\n}\n\n@Data\n@ToString\n@Accessors(chain = true)public class Test {\n    \n    private String key;\n    \n    private String key2;\n    \n    private Map&lt;String, Object&gt; key3;\n    }\n</code></pre>\n<p>The console prints the result as Test(key=aaa, key2=some value1, key3={key4=16, key5=jsf}).</p>\n<p>It is proved that the deserialization can be completed by using map to receive multiple parameters, however, this method requires key1, key2, and key3 to be fixed names.</p>\n"},{"tags":[],"owner":{"account_id":17554312,"reputation":51,"user_id":12734089,"display_name":"Skilled_Teaser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649414530,"creation_date":1649414206,"answer_id":71795529,"question_id":71794531,"body_markdown":"So basically you have two options. If you know there&#39;ll always be the same structure you can create classes for response and deserialize with for example GSON. There are always three fields in object and the ones that are not in JSON response are null. The second option is to create list of strings in Key3 class to store those values but it has to be done manually.\r\n\r\nCase 1:\r\n\r\n    public class Response {\r\n\r\n\t@SerializedName(&quot;key1&quot;)\r\n\tprivate Key1 key1;\r\n\r\n\t// getters, setters\r\n    }\r\n\r\nKey1 class\r\n\r\n    public class Key1{\r\n\r\n\t@SerializedName(&quot;key2&quot;)\r\n\tprivate String key2;\r\n\r\n\t@SerializedName(&quot;key3&quot;)\r\n\tprivate Key3 key3;\r\n\r\n\t// getters, setters\r\n    }\r\n\r\nKey3 class\r\n\r\n    public class Key3{\r\n\r\n\t@SerializedName(&quot;key5&quot;)\r\n\tprivate String key5;\r\n\r\n\t@SerializedName(&quot;key6&quot;)\r\n\tprivate String key6;\r\n\r\n\t@SerializedName(&quot;key4&quot;)\r\n\tprivate String key4;\r\n\r\n\t// getters, setters\r\n    }\r\n\r\nThen you can deserialize JSON response with following code\r\n\r\n        GsonBuilder gsonBuilder = new GsonBuilder();\r\n        Response response = gsonBuilder.create().fromJson(jsonResponse, Response.class);\r\n        System.out.println(response);\r\n\r\nKeep in mind if JSON response doesnt contain, for example key6, this value will be null.\r\n\r\nCase 2:\r\n\r\n    public class Key3{\r\n\r\n\tList&lt;String&gt; keys = new ArrayList&lt;&gt;();\r\n\r\n\t// geters, setters\r\n    }\r\n\r\nDeserialization\r\n\r\n        Gson gson = new Gson();\r\n        Object o = gson.fromJson(jsonResponse, Object.class);\r\n        if (o instanceof Map) {\r\n            Map map = (Map) o;\r\n            Collection firstLevelBranchMapValues = map.values();\r\n            Key1 key1 = new Key1();\r\n            for (var val : firstLevelBranchMapValues) {\r\n                if (val instanceof LinkedTreeMap){\r\n                    Map secondLevelBranchMap = ((LinkedTreeMap) val);\r\n                    for (var secondLevelBranchMapValues : secondLevelBranchMap.values()) {\r\n                        if (secondLevelBranchMapValues instanceof LinkedTreeMap){\r\n                            // map of some value2, some value3, some value4\r\n                            Map thirdLevelBranchMap = ((LinkedTreeMap) secondLevelBranchMapValues);\r\n                            Key3 key3 = new Key3();\r\n                            for (var thirdLevelBranchMapValues : thirdLevelBranchMap.values()){\r\n                                // returns some value2, some value3, some value4 in following iterations\r\n                                key3.getKeys().add(thirdLevelBranchMapValues.toString());\r\n                            }\r\n                            key1.setKey3(key3);\r\n                        } else {\r\n                            // returns some value1\r\n                            key1.setKey2(secondLevelBranchMapValues.toString());\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }","title":"Deserializing a JSONobject to an abstract class in spring boot","body":"<p>So basically you have two options. If you know there'll always be the same structure you can create classes for response and deserialize with for example GSON. There are always three fields in object and the ones that are not in JSON response are null. The second option is to create list of strings in Key3 class to store those values but it has to be done manually.</p>\n<p>Case 1:</p>\n<pre><code>public class Response {\n\n@SerializedName(&quot;key1&quot;)\nprivate Key1 key1;\n\n// getters, setters\n}\n</code></pre>\n<p>Key1 class</p>\n<pre><code>public class Key1{\n\n@SerializedName(&quot;key2&quot;)\nprivate String key2;\n\n@SerializedName(&quot;key3&quot;)\nprivate Key3 key3;\n\n// getters, setters\n}\n</code></pre>\n<p>Key3 class</p>\n<pre><code>public class Key3{\n\n@SerializedName(&quot;key5&quot;)\nprivate String key5;\n\n@SerializedName(&quot;key6&quot;)\nprivate String key6;\n\n@SerializedName(&quot;key4&quot;)\nprivate String key4;\n\n// getters, setters\n}\n</code></pre>\n<p>Then you can deserialize JSON response with following code</p>\n<pre><code>    GsonBuilder gsonBuilder = new GsonBuilder();\n    Response response = gsonBuilder.create().fromJson(jsonResponse, Response.class);\n    System.out.println(response);\n</code></pre>\n<p>Keep in mind if JSON response doesnt contain, for example key6, this value will be null.</p>\n<p>Case 2:</p>\n<pre><code>public class Key3{\n\nList&lt;String&gt; keys = new ArrayList&lt;&gt;();\n\n// geters, setters\n}\n</code></pre>\n<p>Deserialization</p>\n<pre><code>    Gson gson = new Gson();\n    Object o = gson.fromJson(jsonResponse, Object.class);\n    if (o instanceof Map) {\n        Map map = (Map) o;\n        Collection firstLevelBranchMapValues = map.values();\n        Key1 key1 = new Key1();\n        for (var val : firstLevelBranchMapValues) {\n            if (val instanceof LinkedTreeMap){\n                Map secondLevelBranchMap = ((LinkedTreeMap) val);\n                for (var secondLevelBranchMapValues : secondLevelBranchMap.values()) {\n                    if (secondLevelBranchMapValues instanceof LinkedTreeMap){\n                        // map of some value2, some value3, some value4\n                        Map thirdLevelBranchMap = ((LinkedTreeMap) secondLevelBranchMapValues);\n                        Key3 key3 = new Key3();\n                        for (var thirdLevelBranchMapValues : thirdLevelBranchMap.values()){\n                            // returns some value2, some value3, some value4 in following iterations\n                            key3.getKeys().add(thirdLevelBranchMapValues.toString());\n                        }\n                        key1.setKey3(key3);\n                    } else {\n                        // returns some value1\n                        key1.setKey2(secondLevelBranchMapValues.toString());\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649595752,"creation_date":1649595752,"answer_id":71816843,"question_id":71794531,"body_markdown":"You don&#39;t need an abstract class with 3 possible implementations. Just create 1 class where `key3` property is of type `Map&lt;String, String&gt;`. You can always de-serialize it into your class and your class in your map may hold 1, 2 or 3 key-value pairs. Your class may look as follows:\r\n\r\n    public class MyProps {\r\n      private Key1 key1;\r\n      //... seter and getter for key1 here\r\n    }\r\n    \r\n    public class Key1 {\r\n      private String key2;\r\n      private Map&lt;String, String&gt; key3;\r\n      // ... setters and getters here\r\n    }\r\n\r\n","title":"Deserializing a JSONobject to an abstract class in spring boot","body":"<p>You don't need an abstract class with 3 possible implementations. Just create 1 class where <code>key3</code> property is of type <code>Map&lt;String, String&gt;</code>. You can always de-serialize it into your class and your class in your map may hold 1, 2 or 3 key-value pairs. Your class may look as follows:</p>\n<pre><code>public class MyProps {\n  private Key1 key1;\n  //... seter and getter for key1 here\n}\n\npublic class Key1 {\n  private String key2;\n  private Map&lt;String, String&gt; key3;\n  // ... setters and getters here\n}\n</code></pre>\n"}],"owner":{"account_id":4838196,"reputation":101,"user_id":9715520,"display_name":"Rahul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":972,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1649595752,"creation_date":1649409483,"question_id":71794531,"body_markdown":"I have a JSON object which has a key (key1) with the following structure\r\n\r\n    &quot;key1&quot;: {\r\n          &quot;key2&quot;: &quot;some value1&quot;,\r\n          &quot;key3&quot;: {\r\n              &quot;key4&quot;: &quot;some value2&quot;,\r\n              &quot;key5&quot;: &quot;some value3&quot;\r\n          }\r\n    }\r\n\r\nKey 3 is dynamic in that it can have the following data as well\r\n\r\n\r\n    &quot;key1&quot;: {\r\n          &quot;key2&quot;: &quot;some value1&quot;,\r\n          &quot;key3&quot;: {\r\n              &quot;key4&quot;: &quot;some value2&quot;,\r\n              &quot;key5&quot;: &quot;some value3&quot;\r\n    \t\t  &quot;key6&quot;: &quot;some value4&quot;\r\n          }\r\n    }\r\n\r\nor\r\n\r\n    &quot;key1&quot;: {\r\n          &quot;key2&quot;: &quot;some value1&quot;,\r\n          &quot;key3&quot;: {\r\n              &quot;key4&quot;: &quot;some value2&quot;,\r\n          }\r\n    }\r\n\r\nOnly these 3 combinations are possible (key 3 having 2 attributes, 3 attributes or just 1 attribute).\r\n\r\nWith all that in mind, I declared an abstract class (let&#39;s say Class Key3) for key3 in Java thinking that key3 can have multiple implementations (each concrete class will have their own fields).\r\n\r\nNow there is a POJO composed of class Key3&#39;s variable (having a reference variable of Key3)\r\n\r\n\r\n    public Class MYPOJO class{\r\n     String variable1;\r\n     String variable2;\r\n     .\r\n     .\r\n     .\r\n     \r\n     Key3 variable;\r\n     .\r\n     .\r\n     .\r\n     int variable3;\r\n    \r\n    }\r\n\r\nNow as the deserialization happens for MYPOJO, it fails as Key3 is abstract and hence can&#39;t be instantiated with a desired concrete class (concrete class will be either of the three classes - having 1, 2 or 3 fields). The concrete class can be decided on the basis of the value of key2 or whatever is present in key3 in JSON.\r\n\r\nCan anyone suggest me something that can take care of this, instantiate a concrete class and pass it on to the reference variable of abstract class?\r\n\r\nOr some better workaround to deal with it?\r\n","title":"Deserializing a JSONobject to an abstract class in spring boot","body":"<p>I have a JSON object which has a key (key1) with the following structure</p>\n<pre><code>&quot;key1&quot;: {\n      &quot;key2&quot;: &quot;some value1&quot;,\n      &quot;key3&quot;: {\n          &quot;key4&quot;: &quot;some value2&quot;,\n          &quot;key5&quot;: &quot;some value3&quot;\n      }\n}\n</code></pre>\n<p>Key 3 is dynamic in that it can have the following data as well</p>\n<pre><code>&quot;key1&quot;: {\n      &quot;key2&quot;: &quot;some value1&quot;,\n      &quot;key3&quot;: {\n          &quot;key4&quot;: &quot;some value2&quot;,\n          &quot;key5&quot;: &quot;some value3&quot;\n          &quot;key6&quot;: &quot;some value4&quot;\n      }\n}\n</code></pre>\n<p>or</p>\n<pre><code>&quot;key1&quot;: {\n      &quot;key2&quot;: &quot;some value1&quot;,\n      &quot;key3&quot;: {\n          &quot;key4&quot;: &quot;some value2&quot;,\n      }\n}\n</code></pre>\n<p>Only these 3 combinations are possible (key 3 having 2 attributes, 3 attributes or just 1 attribute).</p>\n<p>With all that in mind, I declared an abstract class (let's say Class Key3) for key3 in Java thinking that key3 can have multiple implementations (each concrete class will have their own fields).</p>\n<p>Now there is a POJO composed of class Key3's variable (having a reference variable of Key3)</p>\n<pre><code>public Class MYPOJO class{\n String variable1;\n String variable2;\n .\n .\n .\n \n Key3 variable;\n .\n .\n .\n int variable3;\n\n}\n</code></pre>\n<p>Now as the deserialization happens for MYPOJO, it fails as Key3 is abstract and hence can't be instantiated with a desired concrete class (concrete class will be either of the three classes - having 1, 2 or 3 fields). The concrete class can be decided on the basis of the value of key2 or whatever is present in key3 in JSON.</p>\n<p>Can anyone suggest me something that can take care of this, instantiate a concrete class and pass it on to the reference variable of abstract class?</p>\n<p>Or some better workaround to deal with it?</p>\n"},{"tags":["java","spring","groovy","spring-groovy-config"],"answers":[{"tags":[],"owner":{"account_id":7629305,"reputation":143,"user_id":5784880,"display_name":"dSH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649595643,"creation_date":1649595643,"answer_id":71816834,"question_id":71732643,"body_markdown":"The decision is to implement interface BeanFactoryAware:\r\n\r\n    class NFrame extends GMyFrame implements BeanFactoryAware {\r\n    \r\n        def factory\r\n    \r\n        @Override\r\n        Color getNewColor() {\r\n            return factory.getBean(&#39;randomColor&#39;)\r\n        }\r\n    \r\n        @Override\r\n        void setBeanFactory(BeanFactory beanFactory) throws BeansException {\r\n            factory = beanFactory\r\n        }\r\n    }\r\n\r\n    ","title":"Groovy Spring configuration with lookup method","body":"<p>The decision is to implement interface BeanFactoryAware:</p>\n<pre><code>class NFrame extends GMyFrame implements BeanFactoryAware {\n\n    def factory\n\n    @Override\n    Color getNewColor() {\n        return factory.getBean('randomColor')\n    }\n\n    @Override\n    void setBeanFactory(BeanFactory beanFactory) throws BeansException {\n        factory = beanFactory\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7629305,"reputation":143,"user_id":5784880,"display_name":"dSH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649595643,"creation_date":1649051972,"question_id":71732643,"body_markdown":"I can&#39;t find more effective way to implement lookup method with groovy configuration (only groovy!) than that:  \r\n\r\n// abstract Java class with lookup method\r\n\r\n    public abstract class GMyFrame extends JFrame {\r\n\r\n    private Color startColor;\r\n\r\n    public GMyFrame() {\r\n        super(&quot;Hello&quot;);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setPreferredSize(new Dimension(200, 400));\r\n        setSize(new Dimension(400, 400));\r\n        setLocationRelativeTo(null);\r\n    }\r\n\r\n    public void setStartColor(Color color) {\r\n        this.startColor = color;\r\n        this.getContentPane().setBackground(color);\r\n    }\r\n\r\n    protected Color getStartColor() {\r\n        return startColor;\r\n    }\r\n\r\n    public abstract Color getNewColor(); //lookup\r\n}\r\n\r\n//groovy config\r\n\r\n...\r\n\r\n    Closure ctx() {\r\n        def closure = { caller -&gt;\r\n            [this, caller]\r\n        }\r\n        return closure\r\n    }\r\n    \r\n    beans {\r\n    \r\n        randomColorGenerator(GRandomColorGenerator) {\r\n            new GRandomColorGenerator()\r\n        }\r\n    \r\n        randomColor(Color) { bean -&gt;\r\n            bean.scope = &#39;prototype&#39;\r\n            bean.factoryBean = &#39;randomColorGenerator&#39;\r\n            bean.factoryMethod = &#39;generate&#39;\r\n        }\r\n    \r\n        startColor(Color, 0, 0, 255) {}\r\n    \r\n        myFrame(NFrame, ctx().getProperties()) {\r\n            startColor = ref(&#39;startColor&#39;)\r\n        }\r\n    \r\n        jFrameInvoker(GJFrameInvoker) { bean -&gt;\r\n            bean.initMethod = &#39;init&#39;\r\n            frame = ref(&#39;myFrame&#39;)\r\n        }\r\n    }\r\n    \r\nclass NFrame extends GMyFrame {\r\n\r\n    def configObj\r\n\r\n    NFrame(o) {\r\n        configObj = o\r\n    }\r\n\r\n    @Override\r\n    Color getNewColor() {\r\n        return configObj[&#39;thisObject&#39;].getProperties().get(&#39;binding&#39;).getProperties().get(&#39;variables&#39;)[&#39;beans&#39;].getApplicationContext().getBean(&#39;randomColor&#39;)\r\n    }\r\n}\r\n\r\n\r\nBut it&#39;s too long and strange. Can you find a simple decision? ","title":"Groovy Spring configuration with lookup method","body":"<p>I can't find more effective way to implement lookup method with groovy configuration (only groovy!) than that:</p>\n<p>// abstract Java class with lookup method</p>\n<pre><code>public abstract class GMyFrame extends JFrame {\n\nprivate Color startColor;\n\npublic GMyFrame() {\n    super(&quot;Hello&quot;);\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setPreferredSize(new Dimension(200, 400));\n    setSize(new Dimension(400, 400));\n    setLocationRelativeTo(null);\n}\n\npublic void setStartColor(Color color) {\n    this.startColor = color;\n    this.getContentPane().setBackground(color);\n}\n\nprotected Color getStartColor() {\n    return startColor;\n}\n\npublic abstract Color getNewColor(); //lookup\n</code></pre>\n<p>}</p>\n<p>//groovy config</p>\n<p>...</p>\n<pre><code>Closure ctx() {\n    def closure = { caller -&gt;\n        [this, caller]\n    }\n    return closure\n}\n\nbeans {\n\n    randomColorGenerator(GRandomColorGenerator) {\n        new GRandomColorGenerator()\n    }\n\n    randomColor(Color) { bean -&gt;\n        bean.scope = 'prototype'\n        bean.factoryBean = 'randomColorGenerator'\n        bean.factoryMethod = 'generate'\n    }\n\n    startColor(Color, 0, 0, 255) {}\n\n    myFrame(NFrame, ctx().getProperties()) {\n        startColor = ref('startColor')\n    }\n\n    jFrameInvoker(GJFrameInvoker) { bean -&gt;\n        bean.initMethod = 'init'\n        frame = ref('myFrame')\n    }\n}\n</code></pre>\n<p>class NFrame extends GMyFrame {</p>\n<pre><code>def configObj\n\nNFrame(o) {\n    configObj = o\n}\n\n@Override\nColor getNewColor() {\n    return configObj['thisObject'].getProperties().get('binding').getProperties().get('variables')['beans'].getApplicationContext().getBean('randomColor')\n}\n</code></pre>\n<p>}</p>\n<p>But it's too long and strange. Can you find a simple decision?</p>\n"},{"tags":["java","apache","api"],"comments":[{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1491114979,"post_id":43165291,"comment_id":73405147,"body_markdown":"did you import the jar? Are you using maven? or did you import the jar manually?","body":"did you import the jar? Are you using maven? or did you import the jar manually?"},{"owner":{"account_id":1616980,"reputation":616,"user_id":1494395,"accept_rate":0,"display_name":"Rajith Pemabandu"},"score":0,"creation_date":1491115267,"post_id":43165291,"comment_id":73405220,"body_markdown":"if you are using maven or gradle please update the project.seems like jar is not properly inside the buildpath.","body":"if you are using maven or gradle please update the project.seems like jar is not properly inside the buildpath."},{"owner":{"account_id":5580837,"reputation":87,"user_id":5354357,"accept_rate":0,"display_name":"Aditya Kumar Gupta"},"score":0,"creation_date":1491115782,"post_id":43165291,"comment_id":73405304,"body_markdown":"@Rajith Pemabandu  , rest non of the classes required show any error, only StringEntity shows so I suppose problem is not with the imports. I was wondering in what package string entity placed? I imported the whole import org.apache.http.*;package but it still did not work.","body":"@Rajith Pemabandu  , rest non of the classes required show any error, only StringEntity shows so I suppose problem is not with the imports. I was wondering in what package string entity placed? I imported the whole import org.apache.http.*;package but it still did not work."},{"owner":{"account_id":1616980,"reputation":616,"user_id":1494395,"accept_rate":0,"display_name":"Rajith Pemabandu"},"score":0,"creation_date":1491115981,"post_id":43165291,"comment_id":73405361,"body_markdown":"here it is .https://hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/org/apache/http/entity/StringEntity.html","body":"here it is .<a href=\"https://hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/org/apache/http/entity/StringEntity.html\" rel=\"nofollow noreferrer\">hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/org/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1491115918,"creation_date":1491115918,"answer_id":43165445,"question_id":43165291,"body_markdown":"The class `StringEntity` is in the package `org.apache.http.entity`, so you have to add the correct import for that:\r\n\r\n    import org.apache.http.entity.StringEntity","title":"Why can&#39;t java find StringEntity class even after importing org.apache.http packages?","body":"<p>The class <code>StringEntity</code> is in the package <code>org.apache.http.entity</code>, so you have to add the correct import for that:</p>\n\n<pre><code>import org.apache.http.entity.StringEntity\n</code></pre>\n"}],"owner":{"account_id":5580837,"reputation":87,"user_id":5354357,"accept_rate":0,"display_name":"Aditya Kumar Gupta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4449,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1649594657,"creation_date":1491114546,"question_id":43165291,"body_markdown":"I am using a  sample code from Microsoft Cognitive Services. It makes use of StringEntity class to make request to the REST API. The java compiler seems to be unable to find &#39;symbol&#39; StringEntity? What could be the reason for this and how to resolve this? \r\nHere goes the code - \r\n\r\n    import java.net.URI;\r\n    import org.apache.http.HttpEntity;\r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.client.HttpClient;\r\n    import org.apache.http.client.methods.HttpGet;\r\n    import org.apache.http.client.utils.URIBuilder;\r\n    import org.apache.http.impl.client.HttpClients;\r\n    import org.apache.http.util.EntityUtils;\r\n    import org.apache.http.*;\r\n    \r\n    \r\n    public class NEWS_FETCHER \r\n    {\r\n        public static void main(String[] args) \r\n        {\r\n            HttpClient httpclient = HttpClients.createDefault();\r\n    \r\n            try\r\n            {\r\n                URIBuilder builder = new URIBuilder(&quot;https://api.cognitive.microsoft.com/bing/v5.0/news/search&quot;);\r\n    \r\n                builder.setParameter(&quot;q&quot;, &quot;microsoft&quot;);\r\n                builder.setParameter(&quot;count&quot;, &quot;10&quot;);\r\n                builder.setParameter(&quot;offset&quot;, &quot;0&quot;);\r\n                builder.setParameter(&quot;mkt&quot;, &quot;en-us&quot;);\r\n                builder.setParameter(&quot;safeSearch&quot;, &quot;Moderate&quot;);\r\n    \r\n                URI uri = builder.build();\r\n                HttpGet request = new HttpGet(uri);\r\n                request.setHeader(&quot;Ocp-Apim-Subscription-Key&quot;, &quot;&lt;Key goes here&gt;&quot;);\r\n               \r\n                // Request body\r\n                StringEntity reqEntity = new StringEntity(&quot;&quot;);\r\n                request.setEntity(reqEntity);\r\n    \r\n                HttpResponse response = httpclient.execute(request);\r\n                HttpEntity entity = response.getEntity();\r\n    \r\n                if (entity != null) \r\n                {\r\n                    System.out.println(EntityUtils.toString(entity));\r\n                }\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                System.out.println(e.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\nMost of it is taken from Microsoft API Test Sample.\r\n[https://dev.cognitive.microsoft.com/docs/services/56b43f72cf5ff8098cef380a/operations/56b449fbcf5ff81038d15cdf][1]\r\n\r\n\r\n\r\n  [1]: https://dev.cognitive.microsoft.com/docs/services/56b43f72cf5ff8098cef380a/operations/56b449fbcf5ff81038d15cdf\r\n","title":"Why can&#39;t java find StringEntity class even after importing org.apache.http packages?","body":"<p>I am using a  sample code from Microsoft Cognitive Services. It makes use of StringEntity class to make request to the REST API. The java compiler seems to be unable to find 'symbol' StringEntity? What could be the reason for this and how to resolve this? \nHere goes the code - </p>\n\n<pre><code>import java.net.URI;\nimport org.apache.http.HttpEntity;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.client.utils.URIBuilder;\nimport org.apache.http.impl.client.HttpClients;\nimport org.apache.http.util.EntityUtils;\nimport org.apache.http.*;\n\n\npublic class NEWS_FETCHER \n{\n    public static void main(String[] args) \n    {\n        HttpClient httpclient = HttpClients.createDefault();\n\n        try\n        {\n            URIBuilder builder = new URIBuilder(\"https://api.cognitive.microsoft.com/bing/v5.0/news/search\");\n\n            builder.setParameter(\"q\", \"microsoft\");\n            builder.setParameter(\"count\", \"10\");\n            builder.setParameter(\"offset\", \"0\");\n            builder.setParameter(\"mkt\", \"en-us\");\n            builder.setParameter(\"safeSearch\", \"Moderate\");\n\n            URI uri = builder.build();\n            HttpGet request = new HttpGet(uri);\n            request.setHeader(\"Ocp-Apim-Subscription-Key\", \"&lt;Key goes here&gt;\");\n\n            // Request body\n            StringEntity reqEntity = new StringEntity(\"\");\n            request.setEntity(reqEntity);\n\n            HttpResponse response = httpclient.execute(request);\n            HttpEntity entity = response.getEntity();\n\n            if (entity != null) \n            {\n                System.out.println(EntityUtils.toString(entity));\n            }\n        }\n        catch (Exception e)\n        {\n            System.out.println(e.getMessage());\n        }\n    }\n}\n</code></pre>\n\n<p>Most of it is taken from Microsoft API Test Sample.\n<a href=\"https://dev.cognitive.microsoft.com/docs/services/56b43f72cf5ff8098cef380a/operations/56b449fbcf5ff81038d15cdf\" rel=\"nofollow noreferrer\">https://dev.cognitive.microsoft.com/docs/services/56b43f72cf5ff8098cef380a/operations/56b449fbcf5ff81038d15cdf</a></p>\n"},{"tags":["java","algorithm","data-structures","collections","stack"],"answers":[{"tags":[],"owner":{"account_id":12931984,"reputation":7896,"user_id":9350720,"display_name":"Abhinav Mathur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649589173,"creation_date":1649589173,"answer_id":71816043,"question_id":71815862,"body_markdown":"Before calling `stack.peek()`, you need to check if the stack is empty or not. Calling `pop()` or `peek()` on an empty stack will raise an error.  \r\nIf the current character is an opening bracket, you don&#39;t even need to check the stack top. If it is a closing bracket, then check if the stack is empty or not first. If it is, return false. Otherwise compare the top character and make a decision.","title":"Java Stack error after getting last element via pop method","body":"<p>Before calling <code>stack.peek()</code>, you need to check if the stack is empty or not. Calling <code>pop()</code> or <code>peek()</code> on an empty stack will raise an error.<br />\nIf the current character is an opening bracket, you don't even need to check the stack top. If it is a closing bracket, then check if the stack is empty or not first. If it is, return false. Otherwise compare the top character and make a decision.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71816043,"answer_count":1,"score":0,"last_activity_date":1649594021,"creation_date":1649587760,"question_id":71815862,"body_markdown":"I have the following code for the solution of [Hackerrank](https://www.hackerrank.com/challenges/balanced-brackets/problem).\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        System.out.println(isBalanced(&quot;{(([])[])[]}&quot;));\r\n}\r\n\r\npublic static String isBalanced(String s) {\r\n    Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\r\n    stack.push(s.charAt(0));\r\n\r\n    for (int i = 1; i &lt; s.length(); i++) {\r\n        Character c = s.charAt(i);\r\n        Character cStack = stack.peek();\r\n\r\n\r\n        if (cStack == &#39;{&#39; &amp;&amp; c == &#39;}&#39; \r\n            || cStack == &#39;[&#39; &amp;&amp; c == &#39;]&#39; \r\n            || cStack == &#39;(&#39; &amp;&amp; c == &#39;)&#39;) {\r\n            stack.pop();\r\n        } else {\r\n            stack.push(c);\r\n        }\r\n    }\r\n\r\n    if (stack.isEmpty())\r\n        return &quot;YES&quot;;\r\n    return &quot;NO&quot;;\r\n}\r\n```\r\n\r\nAlthough the code seems to working without any problem, it throws the following error on the Hackerrank page. I already test the input in my local IDE as it is `{(([])[])[]}`, but I am not sure if I need to get the last element (it maybe due to getting it via `Character cStack = stack.peek();` and then `stack.pop();`. \r\n\r\nSo, could you please have a look at and test this code on [Hackerrank](https://www.hackerrank.com/challenges/balanced-brackets/problem) page and let me know what is wrong? \r\n \r\n\r\n***Update:***\r\n\r\n```\r\npublic static String isBalanced(String s) {\r\n    Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\r\n    stack.push(s.charAt(0));\r\n\r\n    for (int i = 1; i &lt; s.length(); i++) {\r\n        Character c = s.charAt(i);\r\n\r\n        if (c == &#39;{&#39; || c == &#39;[&#39; || c == &#39;(&#39;) {\r\n            stack.push(c);\r\n        } else if (stack != null) {\r\n            Character cStack = stack.peek();\r\n            if (cStack == &#39;{&#39; &amp;&amp; c == &#39;}&#39;\r\n                    || cStack == &#39;[&#39; &amp;&amp; c == &#39;]&#39;\r\n                    || cStack == &#39;(&#39; &amp;&amp; c == &#39;)&#39;) {\r\n                stack.pop();\r\n            }\r\n        }\r\n    }\r\n    if (stack.isEmpty())\r\n        return &quot;YES&quot;;\r\n    return &quot;NO&quot;;\r\n}\r\n```","title":"Java Stack error after getting last element via pop method","body":"<p>I have the following code for the solution of <a href=\"https://www.hackerrank.com/challenges/balanced-brackets/problem\" rel=\"nofollow noreferrer\">Hackerrank</a>.</p>\n<pre><code>public static void main(String[] args) {\n        System.out.println(isBalanced(&quot;{(([])[])[]}&quot;));\n}\n\npublic static String isBalanced(String s) {\n    Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\n    stack.push(s.charAt(0));\n\n    for (int i = 1; i &lt; s.length(); i++) {\n        Character c = s.charAt(i);\n        Character cStack = stack.peek();\n\n\n        if (cStack == '{' &amp;&amp; c == '}' \n            || cStack == '[' &amp;&amp; c == ']' \n            || cStack == '(' &amp;&amp; c == ')') {\n            stack.pop();\n        } else {\n            stack.push(c);\n        }\n    }\n\n    if (stack.isEmpty())\n        return &quot;YES&quot;;\n    return &quot;NO&quot;;\n}\n</code></pre>\n<p>Although the code seems to working without any problem, it throws the following error on the Hackerrank page. I already test the input in my local IDE as it is <code>{(([])[])[]}</code>, but I am not sure if I need to get the last element (it maybe due to getting it via <code>Character cStack = stack.peek();</code> and then <code>stack.pop();</code>.</p>\n<p>So, could you please have a look at and test this code on <a href=\"https://www.hackerrank.com/challenges/balanced-brackets/problem\" rel=\"nofollow noreferrer\">Hackerrank</a> page and let me know what is wrong?</p>\n<p><em><strong>Update:</strong></em></p>\n<pre><code>public static String isBalanced(String s) {\n    Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\n    stack.push(s.charAt(0));\n\n    for (int i = 1; i &lt; s.length(); i++) {\n        Character c = s.charAt(i);\n\n        if (c == '{' || c == '[' || c == '(') {\n            stack.push(c);\n        } else if (stack != null) {\n            Character cStack = stack.peek();\n            if (cStack == '{' &amp;&amp; c == '}'\n                    || cStack == '[' &amp;&amp; c == ']'\n                    || cStack == '(' &amp;&amp; c == ')') {\n                stack.pop();\n            }\n        }\n    }\n    if (stack.isEmpty())\n        return &quot;YES&quot;;\n    return &quot;NO&quot;;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","rest","web-applications"],"comments":[{"owner":{"account_id":13910106,"reputation":206,"user_id":10043521,"display_name":"Andrei Prakhov"},"score":0,"creation_date":1649594019,"post_id":71816525,"comment_id":126910092,"body_markdown":"It depends on your application business needs and which calculations exactly are done. Room and wall can&#39;t exist without building, so it could be one endpoint that accepts Building as a complex object that has list of walls. rooms, etc. inside. However you could have also separate endpoints or controllers for each operation you need if you want to be able to do something only with room object that comes from  frontend.","body":"It depends on your application business needs and which calculations exactly are done. Room and wall can&#39;t exist without building, so it could be one endpoint that accepts Building as a complex object that has list of walls. rooms, etc. inside. However you could have also separate endpoints or controllers for each operation you need if you want to be able to do something only with room object that comes from  frontend."},{"owner":{"account_id":20789863,"reputation":9,"user_id":15268292,"display_name":"Tim Heinze"},"score":0,"creation_date":1649594914,"post_id":71816525,"comment_id":126910284,"body_markdown":"The calculations are always for a howl building and not for a room only so it wouldn&#39;t make sense to send an object of a room individual.","body":"The calculations are always for a howl building and not for a room only so it wouldn&#39;t make sense to send an object of a room individual."},{"owner":{"account_id":13910106,"reputation":206,"user_id":10043521,"display_name":"Andrei Prakhov"},"score":1,"creation_date":1649595067,"post_id":71816525,"comment_id":126910316,"body_markdown":"Then is should be &quot;void addBuilding(@RequestBody Building building)&quot; with List&lt;Room&gt;, List&lt;Wall&gt;, etc, as fields of Building class","body":"Then is should be &quot;void addBuilding(@RequestBody Building building)&quot; with List&lt;Room&gt;, List&lt;Wall&gt;, etc, as fields of Building class"},{"owner":{"account_id":20789863,"reputation":9,"user_id":15268292,"display_name":"Tim Heinze"},"score":0,"creation_date":1649595159,"post_id":71816525,"comment_id":126910332,"body_markdown":"Ok, I will do it like this. Thanks for the help!","body":"Ok, I will do it like this. Thanks for the help!"}],"owner":{"account_id":20789863,"reputation":9,"user_id":15268292,"display_name":"Tim Heinze"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649593932,"creation_date":1649593079,"question_id":71816525,"body_markdown":"I&#39;m currently working on a project which consists of an angular frontend and a Spring Boot Backend. For the communication, I want to use a normal RestController. Somewhat like this:\r\n\r\n    @RestController\r\n    public class BuildingController {\r\n       @PostMapping(&quot;/building&quot;)\r\n       void addBuilding(@RequestBody Building building){...}\r\n\r\nIn the frontend the user defines a building which contains zones, rooms, walls, roofs ... . This data is sent to the backend where the created objects will be stored in the database and some calculations are done. The calculation results will then be sent back to the frontend.\r\n\r\nTo this, it&#39;s necessary that not only the building object is sent to the backend but also the objects of the walls, etc.\r\n\r\nSo my question would be if it is better to create a controller for every class(Building, wall, room, etc.), have just one Controller which excepts every Object at once, or maybe an even better way than my proposed solutions?\r\n\r\n    @RestController\r\n    public class allMightyController{\r\n       @PostMapping(&quot;/building&quot;)\r\n       void addAll(@RequestBody Building building, List&lt;Room&gt;, List&lt;Wall&gt;, ...){...}","title":"How to deal with many objects in a Spring Boot controller","body":"<p>I'm currently working on a project which consists of an angular frontend and a Spring Boot Backend. For the communication, I want to use a normal RestController. Somewhat like this:</p>\n<pre><code>@RestController\npublic class BuildingController {\n   @PostMapping(&quot;/building&quot;)\n   void addBuilding(@RequestBody Building building){...}\n</code></pre>\n<p>In the frontend the user defines a building which contains zones, rooms, walls, roofs ... . This data is sent to the backend where the created objects will be stored in the database and some calculations are done. The calculation results will then be sent back to the frontend.</p>\n<p>To this, it's necessary that not only the building object is sent to the backend but also the objects of the walls, etc.</p>\n<p>So my question would be if it is better to create a controller for every class(Building, wall, room, etc.), have just one Controller which excepts every Object at once, or maybe an even better way than my proposed solutions?</p>\n<pre><code>@RestController\npublic class allMightyController{\n   @PostMapping(&quot;/building&quot;)\n   void addAll(@RequestBody Building building, List&lt;Room&gt;, List&lt;Wall&gt;, ...){...}\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","spring-cloud","amazon-sqs"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1649343394,"post_id":71784396,"comment_id":126856554,"body_markdown":"When do you call the code, do you only call it once and never again or do you call it inside a loop of some sort?","body":"When do you call the code, do you only call it once and never again or do you call it inside a loop of some sort?"},{"owner":{"account_id":41415,"reputation":12739,"user_id":120330,"accept_rate":74,"display_name":"Andromeda"},"score":0,"creation_date":1649343797,"post_id":71784396,"comment_id":126856714,"body_markdown":"@luk2302 I have updated the question with more snippets. I am using springboot and this is how i am executing it on pod startup","body":"@luk2302 I have updated the question with more snippets. I am using springboot and this is how i am executing it on pod startup"},{"owner":{"account_id":41415,"reputation":12739,"user_id":120330,"accept_rate":74,"display_name":"Andromeda"},"score":0,"creation_date":1649346239,"post_id":71784396,"comment_id":126857753,"body_markdown":"Also i verified that its not because of the loop. Even if i remove the loop and do the call only once. its still the same","body":"Also i verified that its not because of the loop. Even if i remove the loop and do the call only once. its still the same"},{"owner":{"account_id":58377,"reputation":247890,"user_id":174777,"display_name":"John Rotenstein"},"score":0,"creation_date":1649369782,"post_id":71784396,"comment_id":126865089,"body_markdown":"I&#39;m confused. You seem to be calling `receiveMessage()` in two locations -- once in `public SQSS3Event getMessage()` and again in the print statements (when showing `&quot;No of messages in the result&quot;`). The latter one is probably grabbing all the messages from the queue.","body":"I&#39;m confused. You seem to be calling <code>receiveMessage()</code> in two locations -- once in <code>public SQSS3Event getMessage()</code> and again in the print statements (when showing <code>&quot;No of messages in the result&quot;</code>). The latter one is probably grabbing all the messages from the queue."},{"owner":{"account_id":41415,"reputation":12739,"user_id":120330,"accept_rate":74,"display_name":"Andromeda"},"score":0,"creation_date":1649370744,"post_id":71784396,"comment_id":126865262,"body_markdown":"@JohnRotenstein The later code block is the same one from getMessage(). I just added it again with the print statments.","body":"@JohnRotenstein The later code block is the same one from getMessage(). I just added it again with the print statments."},{"owner":{"account_id":58377,"reputation":247890,"user_id":174777,"display_name":"John Rotenstein"},"score":0,"creation_date":1649375290,"post_id":71784396,"comment_id":126866074,"body_markdown":"Your `MessageMD5ChecksumHandler` debug results are showing two different message bodies, which suggests that something is retrieving messages twice (hence the two messages in flight).","body":"Your <code>MessageMD5ChecksumHandler</code> debug results are showing two different message bodies, which suggests that something is retrieving messages twice (hence the two messages in flight)."},{"owner":{"account_id":41415,"reputation":12739,"user_id":120330,"accept_rate":74,"display_name":"Andromeda"},"score":0,"creation_date":1649407355,"post_id":71784396,"comment_id":126872401,"body_markdown":"@JohnRotenstein Got a workaround. Updated the post with that info","body":"@JohnRotenstein Got a workaround. Updated the post with that info"},{"owner":{"account_id":58377,"reputation":247890,"user_id":174777,"display_name":"John Rotenstein"},"score":0,"creation_date":1649418160,"post_id":71784396,"comment_id":126876184,"body_markdown":"Great to know you got if fixed! Please put the Solution into an Answer rather than adding it to your own Question. (Yes, are allowed to answer your own question.)","body":"Great to know you got if fixed! Please put the Solution into an Answer rather than adding it to your own Question. (Yes, are allowed to answer your own question.)"}],"answers":[{"tags":[],"owner":{"account_id":41415,"reputation":12739,"user_id":120330,"accept_rate":74,"display_name":"Andromeda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649593545,"creation_date":1649593545,"answer_id":71816590,"question_id":71784396,"body_markdown":"Solution - (Got a workaround. Eventhough i don&#39;t fully understand it)\r\n\r\nI was using spring cloud aws dependencies and was using an @Autowired AmazonSQS instance to interact with the queue. That one by default, gets 10 messages into some kind of BufferQueue and then serves the messages one by one. That was the reason why all messages goes into flight and then processed one by one.\r\n\r\nWas able to override that one by defining a simple bean.\r\n\r\n    @Bean\r\n    public SimpleMessageListenerContainer simpleMessageListenerContainer(AmazonSQSAsync amazonSQSAsync) {\r\n        SimpleMessageListenerContainer simpleMessageListenerContainer = new SimpleMessageListenerContainer();\r\n        simpleMessageListenerContainer.setAmazonSqs(amazonSQSAsync);\r\n        simpleMessageListenerContainer.setMessageHandler(queueMessageHandler());\r\n        simpleMessageListenerContainer.setMaxNumberOfMessages(1);\r\n        simpleMessageListenerContainer.setTaskExecutor(threadPoolTaskExecutor());\r\n        return simpleMessageListenerContainer;\r\n    }\r\n\r\nAnd now it works in sync with withMaxNumberOfMessages(n) as expected","title":"SQS - all messages goes into flight even when maxNumberOfMessages is set to 1","body":"<p>Solution - (Got a workaround. Eventhough i don't fully understand it)</p>\n<p>I was using spring cloud aws dependencies and was using an @Autowired AmazonSQS instance to interact with the queue. That one by default, gets 10 messages into some kind of BufferQueue and then serves the messages one by one. That was the reason why all messages goes into flight and then processed one by one.</p>\n<p>Was able to override that one by defining a simple bean.</p>\n<pre><code>@Bean\npublic SimpleMessageListenerContainer simpleMessageListenerContainer(AmazonSQSAsync amazonSQSAsync) {\n    SimpleMessageListenerContainer simpleMessageListenerContainer = new SimpleMessageListenerContainer();\n    simpleMessageListenerContainer.setAmazonSqs(amazonSQSAsync);\n    simpleMessageListenerContainer.setMessageHandler(queueMessageHandler());\n    simpleMessageListenerContainer.setMaxNumberOfMessages(1);\n    simpleMessageListenerContainer.setTaskExecutor(threadPoolTaskExecutor());\n    return simpleMessageListenerContainer;\n}\n</code></pre>\n<p>And now it works in sync with withMaxNumberOfMessages(n) as expected</p>\n"}],"owner":{"account_id":41415,"reputation":12739,"user_id":120330,"accept_rate":74,"display_name":"Andromeda"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":666,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71816590,"answer_count":1,"score":1,"last_activity_date":1649593545,"creation_date":1649343177,"question_id":71784396,"body_markdown":"I have a defined pod scaling based on the number of messages in sqs. And i want each pod to process 1 message.\r\n\r\nSo if i have 3 messages, i will have 3 pods and each processing 1 message.\r\n\r\nThis is how i am retreiving the messages from sqs. with `withMaxNumberOfMessages(1)`\r\n\r\n    ReceiveMessageRequest receiveMessageRequest = new \r\n    ReceiveMessageRequest(queueUrl).withMaxNumberOfMessages(1).withWaitTimeSeconds(10);\r\n    List&lt;Message&gt; messages = sqs.receiveMessage(receiveMessageRequest).getMessages();\r\n    System.out.println(&quot;Number of messages - &quot;+messages.size());\r\n\r\nAnd i can see the number of messages it picks is 1. \r\n\r\nIssue that i am facing is  when 1 pod run, all the messages in queue goes into flight-mode. And the remaining pods gets zero messages to read.\r\n\r\nWhy is that happening. even though i specified maxNumberOfMessages to 1 , why all the messages goes into flight-mod. I expect it to just pick 1 message and that message goes into flight-mode and the remaining messages remain in queue and is available for other pods\r\n\r\n\r\nThis is how i ran the code on pod startup \r\n\r\n    @EventListener(ApplicationReadyEvent.class)\r\n        public void init() throws InterruptedException {\r\n            SQSS3Event message = sqsRepository.getMessage(queueUrl);\r\n            while(message != null){\r\n                System.out.println(message.getBucketName());\r\n                System.out.println(message.getFileName());\r\n                System.out.println(message.getReceiptHandle());\r\n                sqsRepository.changeMessageVisibility(queueUrl, message.getReceiptHandle(), 70);\r\n                Thread.sleep(60000);\r\n                sqsRepository.changeMessageVisibility(queueUrl, message.getReceiptHandle(), 10);\r\n                sqsRepository.deleteMessage(queueUrl,message.getReceiptHandle());\r\n    \r\n                message = sqsRepository.getMessage(queueUrl);\r\n            }\r\n            System.out.println(&quot;No more messages to process&quot;);\r\n        }\r\n\r\n\r\n\r\nAnd this is the helper method for retrieving message from SQS\r\n\r\n    public SQSS3Event getMessage(String queueUrl){\r\n        ReceiveMessageRequest receiveMessageRequest = new ReceiveMessageRequest(queueUrl).withMaxNumberOfMessages(1).withWaitTimeSeconds(10);\r\n        List&lt;Message&gt; messages = sqs.receiveMessage(receiveMessageRequest).getMessages();\r\n        System.out.println(&quot;Number of messages - &quot;+messages.size());\r\n        if(messages.size()&gt;0) {\r\n            S3EventNotification notification = S3EventNotification.parseJson(messages.get(0).getBody());\r\n            return SQSS3Event.builder()\r\n                    .bucketName(notification.getRecords().get(0).getS3().getBucket().getName())\r\n                    .fileName(notification.getRecords().get(0).getS3().getObject().getKey())\r\n                    .receiptHandle(messages.get(0).getReceiptHandle())\r\n                    .build();\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n**Added print statements to read queue attributes before reading and after reading a message**\r\n\r\n\r\n    ReceiveMessageRequest receiveMessageRequest = new ReceiveMessageRequest().withQueueUrl(queueUrl).withMaxNumberOfMessages(1).withWaitTimeSeconds(5);\r\n    GetQueueAttributesResult att = sqs.getQueueAttributes(queueUrl, List.of(&quot;ApproximateNumberOfMessages&quot;, &quot;ApproximateNumberOfMessagesNotVisible&quot;));\r\n    System.out.println(&quot;##########################Before reading##########################&quot;);\r\n    System.out.println(&quot;No of Messages - &quot;+ att.getAttributes().get(&quot;ApproximateNumberOfMessages&quot;));\r\n    System.out.println(&quot;No of Messages on Flight - &quot;+ att.getAttributes().get(&quot;ApproximateNumberOfMessagesNotVisible&quot;));\r\n    System.out.println(&quot;##################################################################&quot;);\r\n    ReceiveMessageResult result = sqs.receiveMessage(receiveMessageRequest);\r\n    List&lt;Message&gt; messages = result.getMessages();\r\n    \r\n    System.out.println(&quot;No of messages in the result - &quot;+messages.size());\r\n    \r\n    S3EventNotification notification = S3EventNotification.parseJson(messages.get(0).getBody());\r\n    att = sqs.getQueueAttributes(queueUrl, List.of(&quot;ApproximateNumberOfMessages&quot;, &quot;ApproximateNumberOfMessagesNotVisible&quot;));\r\n    System.out.println(&quot;##########################After reading##########################&quot;);\r\n    System.out.println(&quot;No of Messages - &quot;+ att.getAttributes().get(&quot;ApproximateNumberOfMessages&quot;));\r\n    System.out.println(&quot;No of Messages on Flight - &quot;+ att.getAttributes().get(&quot;ApproximateNumberOfMessagesNotVisible&quot;));\r\n    System.out.println(&quot;##################################################################&quot;);\r\n\r\n&gt; Output\r\n\r\n    ##########################Before reading##########################\r\n    No of Messages - 4\r\n    No of Messages on Flight - 0\r\n    ##################################################################\r\n    No of messages in the result- 1\r\n    ##########################After reading##########################\r\n    No of Messages - 0\r\n    No of Messages on Flight - 4\r\n    ##################################################################\r\n\r\n**With the trace**\r\n\r\n   \r\n\r\n     ##########################Before reading##########################\r\n    No of Messages - 2\r\n    No of Messages on Flight - 0\r\n    ##################################################################\r\n    2022-04-07 21:59:24.036 TRACE 21096 --- [           main] c.a.s.sqs.buffered.ReceiveQueueBuffer    : Spawned receive batch #1 (1 of 10 inflight) for queue http://localhost:4576/queue/upload-notifications\r\n    2022-04-07 21:59:24.166 DEBUG 21096 --- [rWorkerThread-1] c.a.s.sqs.MessageMD5ChecksumHandler      : Message body: {&quot;Records&quot;: [{&quot;eventVersion&quot;: &quot;2.0&quot;, &quot;eventName&quot;: &quot;ObjectCreated:Put&quot;, &quot;eventTime&quot;: &quot;2022-04-07T19:14:39.050963Z&quot;, &quot;userIdentity&quot;: {&quot;principalId&quot;: &quot;AIDAJDPLRKLG7UEXAMPLE&quot;}, &quot;eventSource&quot;: &quot;aws:s3&quot;, &quot;requestParameters&quot;: {&quot;sourceIPAddress&quot;: &quot;127.0.0.1&quot;}, &quot;s3&quot;: {&quot;configurationId&quot;: &quot;testConfigRule&quot;, &quot;object&quot;: {&quot;versionId&quot;: &quot;096fKKXTRTtl3on89fVO.nfljtsv6qko&quot;, &quot;eTag&quot;: &quot;d41d8cd98f00b204e9800998ecf8427e&quot;, &quot;sequencer&quot;: &quot;0055AED6DCD90281E5&quot;, &quot;key&quot;: &quot;3.txt&quot;, &quot;size&quot;: 1024}, &quot;bucket&quot;: {&quot;arn&quot;: &quot;arn:aws:s3:::uploads-toprocess&quot;, &quot;name&quot;: &quot;uploads-toprocess&quot;, &quot;ownerIdentity&quot;: {&quot;principalId&quot;: &quot;A3NL1KOZZKExample&quot;}}, &quot;s3SchemaVersion&quot;: &quot;1.0&quot;}, &quot;responseElements&quot;: {&quot;x-amz-id-2&quot;: &quot;eftixk72aD6Ap51TnqcoF8eFidJG9Z/2&quot;, &quot;x-amz-request-id&quot;: &quot;2e30a6e9&quot;}, &quot;awsRegion&quot;: &quot;us-east-1&quot;}]}\r\n    2022-04-07 21:59:24.167 DEBUG 21096 --- [rWorkerThread-1] c.a.s.sqs.MessageMD5ChecksumHandler      : Expected  MD5 of message body: 9428bd5190b9d47af3368b3f67c62d02\r\n    2022-04-07 21:59:24.167 DEBUG 21096 --- [rWorkerThread-1] c.a.s.sqs.MessageMD5ChecksumHandler      : Message body: {&quot;Records&quot;: [{&quot;eventVersion&quot;: &quot;2.0&quot;, &quot;eventName&quot;: &quot;ObjectCreated:Put&quot;, &quot;eventTime&quot;: &quot;2022-04-07T19:15:50.375772Z&quot;, &quot;userIdentity&quot;: {&quot;principalId&quot;: &quot;AIDAJDPLRKLG7UEXAMPLE&quot;}, &quot;eventSource&quot;: &quot;aws:s3&quot;, &quot;requestParameters&quot;: {&quot;sourceIPAddress&quot;: &quot;127.0.0.1&quot;}, &quot;s3&quot;: {&quot;configurationId&quot;: &quot;testConfigRule&quot;, &quot;object&quot;: {&quot;versionId&quot;: &quot;096fKKXTRTtl3on89fVO.nfljtsv6qko&quot;, &quot;eTag&quot;: &quot;d41d8cd98f00b204e9800998ecf8427e&quot;, &quot;sequencer&quot;: &quot;0055AED6DCD90281E5&quot;, &quot;key&quot;: &quot;3.txt&quot;, &quot;size&quot;: 1024}, &quot;bucket&quot;: {&quot;arn&quot;: &quot;arn:aws:s3:::uploads-toprocess&quot;, &quot;name&quot;: &quot;uploads-toprocess&quot;, &quot;ownerIdentity&quot;: {&quot;principalId&quot;: &quot;A3NL1KOZZKExample&quot;}}, &quot;s3SchemaVersion&quot;: &quot;1.0&quot;}, &quot;responseElements&quot;: {&quot;x-amz-id-2&quot;: &quot;eftixk72aD6Ap51TnqcoF8eFidJG9Z/2&quot;, &quot;x-amz-request-id&quot;: &quot;a8ba5ab3&quot;}, &quot;awsRegion&quot;: &quot;us-east-1&quot;}]}\r\n    2022-04-07 21:59:24.167 DEBUG 21096 --- [rWorkerThread-1] c.a.s.sqs.MessageMD5ChecksumHandler      : Expected  MD5 of message body: 18ce2856addac8a08c394ce8fbd7d315\r\n    2022-04-07 21:59:24.167 TRACE 21096 --- [rWorkerThread-1] c.a.s.sqs.buffered.ReceiveQueueBuffer    : Queue http://localhost:4576/queue/upload-notifications now has 1 receive results cached \r\n    2022-04-07 21:59:24.168 TRACE 21096 --- [rWorkerThread-1] c.a.s.sqs.buffered.ReceiveQueueBuffer    : Spawned receive batch #2 (1 of 10 inflight) for queue http://localhost:4576/queue/upload-notifications\r\n    No of messages in the result- 1\r\n    ##########################After reading##########################\r\n    No of Messages - 0\r\n    No of Messages on Flight - 2\r\n    ##################################################################\r\n\r\n\r\n**Solution - (Got a workaround. Eventhough i don&#39;t fully understand it)**\r\n\r\nI was using spring cloud aws dependencies and was using an @Autowired AmazonSQS instance to interact with the queue. That one by default, gets 10 messages into some kind of BufferQueue and then serves the messages one by one. That was the reason why all messages goes into flight and then processed one by one.\r\n\r\nWas able to override that one by defining a simple bean.\r\n\r\n    @Bean\r\n    public SimpleMessageListenerContainer simpleMessageListenerContainer(AmazonSQSAsync amazonSQSAsync) {\r\n        SimpleMessageListenerContainer simpleMessageListenerContainer = new SimpleMessageListenerContainer();\r\n        simpleMessageListenerContainer.setAmazonSqs(amazonSQSAsync);\r\n        simpleMessageListenerContainer.setMessageHandler(queueMessageHandler());\r\n        simpleMessageListenerContainer.setMaxNumberOfMessages(1);\r\n        simpleMessageListenerContainer.setTaskExecutor(threadPoolTaskExecutor());\r\n        return simpleMessageListenerContainer;\r\n    }\r\n\r\nAnd now it works in sync with `withMaxNumberOfMessages(n)` as expected","title":"SQS - all messages goes into flight even when maxNumberOfMessages is set to 1","body":"<p>I have a defined pod scaling based on the number of messages in sqs. And i want each pod to process 1 message.</p>\n<p>So if i have 3 messages, i will have 3 pods and each processing 1 message.</p>\n<p>This is how i am retreiving the messages from sqs. with <code>withMaxNumberOfMessages(1)</code></p>\n<pre><code>ReceiveMessageRequest receiveMessageRequest = new \nReceiveMessageRequest(queueUrl).withMaxNumberOfMessages(1).withWaitTimeSeconds(10);\nList&lt;Message&gt; messages = sqs.receiveMessage(receiveMessageRequest).getMessages();\nSystem.out.println(&quot;Number of messages - &quot;+messages.size());\n</code></pre>\n<p>And i can see the number of messages it picks is 1.</p>\n<p>Issue that i am facing is  when 1 pod run, all the messages in queue goes into flight-mode. And the remaining pods gets zero messages to read.</p>\n<p>Why is that happening. even though i specified maxNumberOfMessages to 1 , why all the messages goes into flight-mod. I expect it to just pick 1 message and that message goes into flight-mode and the remaining messages remain in queue and is available for other pods</p>\n<p>This is how i ran the code on pod startup</p>\n<pre><code>@EventListener(ApplicationReadyEvent.class)\n    public void init() throws InterruptedException {\n        SQSS3Event message = sqsRepository.getMessage(queueUrl);\n        while(message != null){\n            System.out.println(message.getBucketName());\n            System.out.println(message.getFileName());\n            System.out.println(message.getReceiptHandle());\n            sqsRepository.changeMessageVisibility(queueUrl, message.getReceiptHandle(), 70);\n            Thread.sleep(60000);\n            sqsRepository.changeMessageVisibility(queueUrl, message.getReceiptHandle(), 10);\n            sqsRepository.deleteMessage(queueUrl,message.getReceiptHandle());\n\n            message = sqsRepository.getMessage(queueUrl);\n        }\n        System.out.println(&quot;No more messages to process&quot;);\n    }\n</code></pre>\n<p>And this is the helper method for retrieving message from SQS</p>\n<pre><code>public SQSS3Event getMessage(String queueUrl){\n    ReceiveMessageRequest receiveMessageRequest = new ReceiveMessageRequest(queueUrl).withMaxNumberOfMessages(1).withWaitTimeSeconds(10);\n    List&lt;Message&gt; messages = sqs.receiveMessage(receiveMessageRequest).getMessages();\n    System.out.println(&quot;Number of messages - &quot;+messages.size());\n    if(messages.size()&gt;0) {\n        S3EventNotification notification = S3EventNotification.parseJson(messages.get(0).getBody());\n        return SQSS3Event.builder()\n                .bucketName(notification.getRecords().get(0).getS3().getBucket().getName())\n                .fileName(notification.getRecords().get(0).getS3().getObject().getKey())\n                .receiptHandle(messages.get(0).getReceiptHandle())\n                .build();\n    }\n    else {\n        return null;\n    }\n}\n</code></pre>\n<p><strong>Added print statements to read queue attributes before reading and after reading a message</strong></p>\n<pre><code>ReceiveMessageRequest receiveMessageRequest = new ReceiveMessageRequest().withQueueUrl(queueUrl).withMaxNumberOfMessages(1).withWaitTimeSeconds(5);\nGetQueueAttributesResult att = sqs.getQueueAttributes(queueUrl, List.of(&quot;ApproximateNumberOfMessages&quot;, &quot;ApproximateNumberOfMessagesNotVisible&quot;));\nSystem.out.println(&quot;##########################Before reading##########################&quot;);\nSystem.out.println(&quot;No of Messages - &quot;+ att.getAttributes().get(&quot;ApproximateNumberOfMessages&quot;));\nSystem.out.println(&quot;No of Messages on Flight - &quot;+ att.getAttributes().get(&quot;ApproximateNumberOfMessagesNotVisible&quot;));\nSystem.out.println(&quot;##################################################################&quot;);\nReceiveMessageResult result = sqs.receiveMessage(receiveMessageRequest);\nList&lt;Message&gt; messages = result.getMessages();\n\nSystem.out.println(&quot;No of messages in the result - &quot;+messages.size());\n\nS3EventNotification notification = S3EventNotification.parseJson(messages.get(0).getBody());\natt = sqs.getQueueAttributes(queueUrl, List.of(&quot;ApproximateNumberOfMessages&quot;, &quot;ApproximateNumberOfMessagesNotVisible&quot;));\nSystem.out.println(&quot;##########################After reading##########################&quot;);\nSystem.out.println(&quot;No of Messages - &quot;+ att.getAttributes().get(&quot;ApproximateNumberOfMessages&quot;));\nSystem.out.println(&quot;No of Messages on Flight - &quot;+ att.getAttributes().get(&quot;ApproximateNumberOfMessagesNotVisible&quot;));\nSystem.out.println(&quot;##################################################################&quot;);\n</code></pre>\n<blockquote>\n<p>Output</p>\n</blockquote>\n<pre><code>##########################Before reading##########################\nNo of Messages - 4\nNo of Messages on Flight - 0\n##################################################################\nNo of messages in the result- 1\n##########################After reading##########################\nNo of Messages - 0\nNo of Messages on Flight - 4\n##################################################################\n</code></pre>\n<p><strong>With the trace</strong></p>\n<pre><code> ##########################Before reading##########################\nNo of Messages - 2\nNo of Messages on Flight - 0\n##################################################################\n2022-04-07 21:59:24.036 TRACE 21096 --- [           main] c.a.s.sqs.buffered.ReceiveQueueBuffer    : Spawned receive batch #1 (1 of 10 inflight) for queue http://localhost:4576/queue/upload-notifications\n2022-04-07 21:59:24.166 DEBUG 21096 --- [rWorkerThread-1] c.a.s.sqs.MessageMD5ChecksumHandler      : Message body: {&quot;Records&quot;: [{&quot;eventVersion&quot;: &quot;2.0&quot;, &quot;eventName&quot;: &quot;ObjectCreated:Put&quot;, &quot;eventTime&quot;: &quot;2022-04-07T19:14:39.050963Z&quot;, &quot;userIdentity&quot;: {&quot;principalId&quot;: &quot;AIDAJDPLRKLG7UEXAMPLE&quot;}, &quot;eventSource&quot;: &quot;aws:s3&quot;, &quot;requestParameters&quot;: {&quot;sourceIPAddress&quot;: &quot;127.0.0.1&quot;}, &quot;s3&quot;: {&quot;configurationId&quot;: &quot;testConfigRule&quot;, &quot;object&quot;: {&quot;versionId&quot;: &quot;096fKKXTRTtl3on89fVO.nfljtsv6qko&quot;, &quot;eTag&quot;: &quot;d41d8cd98f00b204e9800998ecf8427e&quot;, &quot;sequencer&quot;: &quot;0055AED6DCD90281E5&quot;, &quot;key&quot;: &quot;3.txt&quot;, &quot;size&quot;: 1024}, &quot;bucket&quot;: {&quot;arn&quot;: &quot;arn:aws:s3:::uploads-toprocess&quot;, &quot;name&quot;: &quot;uploads-toprocess&quot;, &quot;ownerIdentity&quot;: {&quot;principalId&quot;: &quot;A3NL1KOZZKExample&quot;}}, &quot;s3SchemaVersion&quot;: &quot;1.0&quot;}, &quot;responseElements&quot;: {&quot;x-amz-id-2&quot;: &quot;eftixk72aD6Ap51TnqcoF8eFidJG9Z/2&quot;, &quot;x-amz-request-id&quot;: &quot;2e30a6e9&quot;}, &quot;awsRegion&quot;: &quot;us-east-1&quot;}]}\n2022-04-07 21:59:24.167 DEBUG 21096 --- [rWorkerThread-1] c.a.s.sqs.MessageMD5ChecksumHandler      : Expected  MD5 of message body: 9428bd5190b9d47af3368b3f67c62d02\n2022-04-07 21:59:24.167 DEBUG 21096 --- [rWorkerThread-1] c.a.s.sqs.MessageMD5ChecksumHandler      : Message body: {&quot;Records&quot;: [{&quot;eventVersion&quot;: &quot;2.0&quot;, &quot;eventName&quot;: &quot;ObjectCreated:Put&quot;, &quot;eventTime&quot;: &quot;2022-04-07T19:15:50.375772Z&quot;, &quot;userIdentity&quot;: {&quot;principalId&quot;: &quot;AIDAJDPLRKLG7UEXAMPLE&quot;}, &quot;eventSource&quot;: &quot;aws:s3&quot;, &quot;requestParameters&quot;: {&quot;sourceIPAddress&quot;: &quot;127.0.0.1&quot;}, &quot;s3&quot;: {&quot;configurationId&quot;: &quot;testConfigRule&quot;, &quot;object&quot;: {&quot;versionId&quot;: &quot;096fKKXTRTtl3on89fVO.nfljtsv6qko&quot;, &quot;eTag&quot;: &quot;d41d8cd98f00b204e9800998ecf8427e&quot;, &quot;sequencer&quot;: &quot;0055AED6DCD90281E5&quot;, &quot;key&quot;: &quot;3.txt&quot;, &quot;size&quot;: 1024}, &quot;bucket&quot;: {&quot;arn&quot;: &quot;arn:aws:s3:::uploads-toprocess&quot;, &quot;name&quot;: &quot;uploads-toprocess&quot;, &quot;ownerIdentity&quot;: {&quot;principalId&quot;: &quot;A3NL1KOZZKExample&quot;}}, &quot;s3SchemaVersion&quot;: &quot;1.0&quot;}, &quot;responseElements&quot;: {&quot;x-amz-id-2&quot;: &quot;eftixk72aD6Ap51TnqcoF8eFidJG9Z/2&quot;, &quot;x-amz-request-id&quot;: &quot;a8ba5ab3&quot;}, &quot;awsRegion&quot;: &quot;us-east-1&quot;}]}\n2022-04-07 21:59:24.167 DEBUG 21096 --- [rWorkerThread-1] c.a.s.sqs.MessageMD5ChecksumHandler      : Expected  MD5 of message body: 18ce2856addac8a08c394ce8fbd7d315\n2022-04-07 21:59:24.167 TRACE 21096 --- [rWorkerThread-1] c.a.s.sqs.buffered.ReceiveQueueBuffer    : Queue http://localhost:4576/queue/upload-notifications now has 1 receive results cached \n2022-04-07 21:59:24.168 TRACE 21096 --- [rWorkerThread-1] c.a.s.sqs.buffered.ReceiveQueueBuffer    : Spawned receive batch #2 (1 of 10 inflight) for queue http://localhost:4576/queue/upload-notifications\nNo of messages in the result- 1\n##########################After reading##########################\nNo of Messages - 0\nNo of Messages on Flight - 2\n##################################################################\n</code></pre>\n<p><strong>Solution - (Got a workaround. Eventhough i don't fully understand it)</strong></p>\n<p>I was using spring cloud aws dependencies and was using an @Autowired AmazonSQS instance to interact with the queue. That one by default, gets 10 messages into some kind of BufferQueue and then serves the messages one by one. That was the reason why all messages goes into flight and then processed one by one.</p>\n<p>Was able to override that one by defining a simple bean.</p>\n<pre><code>@Bean\npublic SimpleMessageListenerContainer simpleMessageListenerContainer(AmazonSQSAsync amazonSQSAsync) {\n    SimpleMessageListenerContainer simpleMessageListenerContainer = new SimpleMessageListenerContainer();\n    simpleMessageListenerContainer.setAmazonSqs(amazonSQSAsync);\n    simpleMessageListenerContainer.setMessageHandler(queueMessageHandler());\n    simpleMessageListenerContainer.setMaxNumberOfMessages(1);\n    simpleMessageListenerContainer.setTaskExecutor(threadPoolTaskExecutor());\n    return simpleMessageListenerContainer;\n}\n</code></pre>\n<p>And now it works in sync with <code>withMaxNumberOfMessages(n)</code> as expected</p>\n"},{"tags":["java","jsf","richfaces","seam","jsf-1.2"],"answers":[{"tags":[],"owner":{"account_id":108057,"reputation":2937,"user_id":286999,"accept_rate":59,"display_name":"La Chamelle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340710858,"creation_date":1340710858,"answer_id":11206547,"question_id":11204473,"body_markdown":"Check the `@ViewScope` : http://balusc.blogspot.fr/2010/06/benefits-and-pitfalls-of-viewscoped.html","title":"How to maintain state of a request scope bean without using a4j:keepAlive in richfaces 3 and seam 2?","body":"<p>Check the <code>@ViewScope</code> : <a href=\"http://balusc.blogspot.fr/2010/06/benefits-and-pitfalls-of-viewscoped.html\" rel=\"nofollow\">http://balusc.blogspot.fr/2010/06/benefits-and-pitfalls-of-viewscoped.html</a></p>\n"},{"tags":[],"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1340806757,"creation_date":1340721873,"answer_id":11209891,"question_id":11204473,"body_markdown":"If you&#39;re using JSF 2 for your website development, it would be better to use RichFaces 4. The [RichFaces 3.3][1] is built to support JSF 1.2 mainly and then was extended to support JSF 2, still it doesn&#39;t take advantages of the benefits from JSF 2. [RichFaces 4.x][2], in the other hand, is built thinking in JSF 2. It would be wise to move from RF 3.3 to RF 4, but if you still want to stick to RF 3.3, you should change the scope of your bean to ViewScope and stop using the `a4j:keepAlive`.\r\n\r\nMore info:\r\n\r\n- [Managed bean scopes][3]\r\n\r\nEDIT:\r\n\r\nFor your given problem, you should save the data in session and recover it when your Request Managed Bean is created, doing that your data will be preserved through your view, but you have to do the job manually (very hard to maintain, also).\r\n\r\nIf your managed bean has binding attributes with the jsp/facelet you&#39;re using, then don&#39;t use the `a4j:keepAlive` tag component, instead add the `@KeepAlive(ajaxOnly=false)` annotation to your request managed bean to save the entire state of your bean (even the binding components).\r\n\r\n\r\n  [1]: http://docs.jboss.org/richfaces/latest_3_3_X/en/devguide/html/TechnicalRequirements.html#SupportedJavaServerFacesImplementations\r\n  [2]: http://docs.jboss.org/richfaces/latest_4_2_X/Developer_Guide/en-US/html/chap-Developer_Guide-Getting_started_with_RichFaces.html#sect-Developer_Guide-Getting_started_with_RichFaces-Technical_Requirements\r\n  [3]: http://balusc.blogspot.com/2011/09/communication-in-jsf-20.html#ManagedBeanScopes","title":"How to maintain state of a request scope bean without using a4j:keepAlive in richfaces 3 and seam 2?","body":"<p>If you're using JSF 2 for your website development, it would be better to use RichFaces 4. The <a href=\"http://docs.jboss.org/richfaces/latest_3_3_X/en/devguide/html/TechnicalRequirements.html#SupportedJavaServerFacesImplementations\" rel=\"nofollow\">RichFaces 3.3</a> is built to support JSF 1.2 mainly and then was extended to support JSF 2, still it doesn't take advantages of the benefits from JSF 2. <a href=\"http://docs.jboss.org/richfaces/latest_4_2_X/Developer_Guide/en-US/html/chap-Developer_Guide-Getting_started_with_RichFaces.html#sect-Developer_Guide-Getting_started_with_RichFaces-Technical_Requirements\" rel=\"nofollow\">RichFaces 4.x</a>, in the other hand, is built thinking in JSF 2. It would be wise to move from RF 3.3 to RF 4, but if you still want to stick to RF 3.3, you should change the scope of your bean to ViewScope and stop using the <code>a4j:keepAlive</code>.</p>\n\n<p>More info:</p>\n\n<ul>\n<li><a href=\"http://balusc.blogspot.com/2011/09/communication-in-jsf-20.html#ManagedBeanScopes\" rel=\"nofollow\">Managed bean scopes</a></li>\n</ul>\n\n<p>EDIT:</p>\n\n<p>For your given problem, you should save the data in session and recover it when your Request Managed Bean is created, doing that your data will be preserved through your view, but you have to do the job manually (very hard to maintain, also).</p>\n\n<p>If your managed bean has binding attributes with the jsp/facelet you're using, then don't use the <code>a4j:keepAlive</code> tag component, instead add the <code>@KeepAlive(ajaxOnly=false)</code> annotation to your request managed bean to save the entire state of your bean (even the binding components).</p>\n"}],"owner":{"account_id":925183,"reputation":791,"user_id":956098,"accept_rate":65,"display_name":"Ellie Fabrero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4686,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":11209891,"answer_count":2,"score":2,"last_activity_date":1649593219,"creation_date":1340703307,"question_id":11204473,"body_markdown":"I have problem pertaining to the maintaining state of the particular @Request scope bean. I have a Seam Entity List request scope component. And after a particular request i want it to maintain its state and not to be refreshed, `a4j:keepAlive` do the solution but unfortunately using `a4j:keepAlive` destroy some other functionality inside a view so instead changing the whole page i just ignore `a4j:keepAlive`.\r\n\r\nMy question is, how can i maintain this particular scenario without using `a4j:keepAlive` and without making my component into `@SessionScope` or `@ConversationScope`.","title":"How to maintain state of a request scope bean without using a4j:keepAlive in richfaces 3 and seam 2?","body":"<p>I have problem pertaining to the maintaining state of the particular @Request scope bean. I have a Seam Entity List request scope component. And after a particular request i want it to maintain its state and not to be refreshed, <code>a4j:keepAlive</code> do the solution but unfortunately using <code>a4j:keepAlive</code> destroy some other functionality inside a view so instead changing the whole page i just ignore <code>a4j:keepAlive</code>.</p>\n<p>My question is, how can i maintain this particular scenario without using <code>a4j:keepAlive</code> and without making my component into <code>@SessionScope</code> or <code>@ConversationScope</code>.</p>\n"},{"tags":["java","spring","spring-security","ldap"],"answers":[{"tags":[],"owner":{"account_id":6119760,"reputation":153,"user_id":4773663,"accept_rate":50,"display_name":"viral bhojani"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1464879726,"creation_date":1437721565,"answer_id":31604259,"question_id":31588864,"body_markdown":"It was pretty much easier than I thought. Please find the code below. In this you just need to Enumerate the all the memberOf in for loop and assign int in List, then return the List along with all other attribute.\r\n\r\nBelow is the code.\r\n\r\n    private class UserAttributesMapper implements AttributesMapper {\r\n        @Override\r\n        public Object mapFromAttributes(Attributes attributes) throws NamingException {\r\n            LdapUser user = new LdapUser();\r\n            user.setCn((String)attributes.get(&quot;cn&quot;).get());\r\n            List&lt;String&gt; memberOf = new ArrayList&lt;String&gt;();\r\n\r\n            for(Enumeration vals = attributes.get(&quot;memberOf&quot;).getAll(); vals.hasMoreElements();){\r\n                memberOf.add((String)vals.nextElement());\r\n            }\r\n            user.setMemberOf(memberOf);\r\n            user.setsAMAccountName((String)attributes.get(&quot;sAMAccountName&quot;).get());\r\n            user.setMail((String)attributes.get(&quot;mail&quot;).get());\r\n            return user;\r\n        }\r\n    }\r\n","title":"How do I get all the memberOf Attribute assign to a particular user in LDAP","body":"<p>It was pretty much easier than I thought. Please find the code below. In this you just need to Enumerate the all the memberOf in for loop and assign int in List, then return the List along with all other attribute.</p>\n\n<p>Below is the code.</p>\n\n<pre><code>private class UserAttributesMapper implements AttributesMapper {\n    @Override\n    public Object mapFromAttributes(Attributes attributes) throws NamingException {\n        LdapUser user = new LdapUser();\n        user.setCn((String)attributes.get(\"cn\").get());\n        List&lt;String&gt; memberOf = new ArrayList&lt;String&gt;();\n\n        for(Enumeration vals = attributes.get(\"memberOf\").getAll(); vals.hasMoreElements();){\n            memberOf.add((String)vals.nextElement());\n        }\n        user.setMemberOf(memberOf);\n        user.setsAMAccountName((String)attributes.get(\"sAMAccountName\").get());\n        user.setMail((String)attributes.get(\"mail\").get());\n        return user;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6119760,"reputation":153,"user_id":4773663,"accept_rate":50,"display_name":"viral bhojani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7000,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":31604259,"answer_count":1,"score":3,"last_activity_date":1649593012,"creation_date":1437658226,"question_id":31588864,"body_markdown":"I have created an application which uses LDAP for authentication. I need to find out all the group name in which the User is assign to. Is there any way to find out that. I have written code but somehow it return only one group name that to randomly.\r\n\r\nBelow is my code to get all memberOf the users.\r\n\r\n    private class UserAttributesMapper implements AttributesMapper {\r\n    \t\t@Override\r\n    \t\tpublic Object mapFromAttributes(Attributes attributes) throws NamingException {\r\n    \t\t\tLdapUser user = new LdapUser();\r\n    \t\t\tuser.setCn((String)attributes.get(&quot;cn&quot;).get());\r\n    \t\t\tuser.setMemberOf((String)attributes.get(&quot;memberOf&quot;).get());\r\n    \t\t\t\r\n    \t\t\t/*String member = (String)attributes.get(&quot;memberOf&quot;).get();\r\n    \t\t\tint length = attributes.get(&quot;memberOf&quot;).size();\r\n    \t\t\tif(member != null){\r\n    \t\t\t\tfor(int i = 0;i&lt;= length; i++){\r\n    \t\t\t\t\tuser.setMemberOf(member);\r\n    \t\t\t\t}\r\n    \t\t\t}*/\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t//user.setMemberOf(attributes.get(&quot;memberOf&quot;).getID());\r\n    \t\t\tuser.setsAMAccountName((String)attributes.get(&quot;sAMAccountName&quot;).get());\r\n    \t\t\treturn user;\r\n    \t\t}\r\n        }\r\n\r\nThis class is used to set attribute and return attribute for the user.","title":"How do I get all the memberOf Attribute assign to a particular user in LDAP","body":"<p>I have created an application which uses LDAP for authentication. I need to find out all the group name in which the User is assign to. Is there any way to find out that. I have written code but somehow it return only one group name that to randomly.</p>\n<p>Below is my code to get all memberOf the users.</p>\n<pre><code>private class UserAttributesMapper implements AttributesMapper {\n        @Override\n        public Object mapFromAttributes(Attributes attributes) throws NamingException {\n            LdapUser user = new LdapUser();\n            user.setCn((String)attributes.get(&quot;cn&quot;).get());\n            user.setMemberOf((String)attributes.get(&quot;memberOf&quot;).get());\n            \n            /*String member = (String)attributes.get(&quot;memberOf&quot;).get();\n            int length = attributes.get(&quot;memberOf&quot;).size();\n            if(member != null){\n                for(int i = 0;i&lt;= length; i++){\n                    user.setMemberOf(member);\n                }\n            }*/\n            \n            \n            //user.setMemberOf(attributes.get(&quot;memberOf&quot;).getID());\n            user.setsAMAccountName((String)attributes.get(&quot;sAMAccountName&quot;).get());\n            return user;\n        }\n    }\n</code></pre>\n<p>This class is used to set attribute and return attribute for the user.</p>\n"},{"tags":["java","refactoring"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1649598650,"post_id":71816217,"comment_id":126911066,"body_markdown":"Does this answer your question? [Replace if-statements with Loops](https://stackoverflow.com/questions/71736076/replace-if-statements-with-loops)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/71736076/replace-if-statements-with-loops\">Replace if-statements with Loops</a>"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649592610,"creation_date":1649591010,"answer_id":71816274,"question_id":71816217,"body_markdown":"You could define once the 8 lines indexes, then use it to check for a winner\r\n\r\n\r\n    static int[][] lines = new int[][]{\r\n            {0, 1, 2}, {3, 4, 5}, {6, 7, 8}, // rows\r\n            {0, 3, 6}, {1, 4, 7}, {2, 5, 8}, // cols\r\n            {0, 4, 8}, {2, 4, 6}             // diags\r\n    };\r\n\r\n    static String check(String[] bd) {\r\n        for (int[] line : lines) {\r\n            StringBuilder lineSymbols = new StringBuilder();\r\n            for (int idx : line) {\r\n                lineSymbols.append(bd[idx]);\r\n            }\r\n\r\n            if (lineSymbols.toString().equals(&quot;XXX&quot;)) {\r\n                return &quot;X&quot;;\r\n            } else if (lineSymbols.toString().equals(&quot;OOO&quot;)) {\r\n                return &quot;O&quot;;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n---\r\n\r\nKnow that now when enhanced switch it could look like\r\n\r\n    for (int i = 0; i &lt; 8; i++) {\r\n        String line = switch (i) {\r\n            case 0 -&gt; bd[0] + bd[1] + bd[2];\r\n            case 1 -&gt; bd[3] + bd[4] + bd[5];\r\n            case 2 -&gt; bd[6] + bd[7] + bd[8];\r\n            case 3 -&gt; bd[0] + bd[3] + bd[6];\r\n            case 4 -&gt; bd[1] + bd[4] + bd[7];\r\n            case 5 -&gt; bd[2] + bd[5] + bd[8];\r\n            case 6 -&gt; bd[0] + bd[4] + bd[8];\r\n            case 7 -&gt; bd[2] + bd[4] + bd[6];\r\n            default -&gt; null;\r\n        };\r\n        if (line.equals(&quot;XXX&quot;)) {\r\n            return &quot;X&quot;;\r\n        } else if (line.equals(&quot;OOO&quot;)) {\r\n            return &quot;O&quot;;\r\n        }\r\n    }\r\n\r\n","title":"verifying winner in tictactoe game","body":"<p>You could define once the 8 lines indexes, then use it to check for a winner</p>\n<pre><code>static int[][] lines = new int[][]{\n        {0, 1, 2}, {3, 4, 5}, {6, 7, 8}, // rows\n        {0, 3, 6}, {1, 4, 7}, {2, 5, 8}, // cols\n        {0, 4, 8}, {2, 4, 6}             // diags\n};\n\nstatic String check(String[] bd) {\n    for (int[] line : lines) {\n        StringBuilder lineSymbols = new StringBuilder();\n        for (int idx : line) {\n            lineSymbols.append(bd[idx]);\n        }\n\n        if (lineSymbols.toString().equals(&quot;XXX&quot;)) {\n            return &quot;X&quot;;\n        } else if (lineSymbols.toString().equals(&quot;OOO&quot;)) {\n            return &quot;O&quot;;\n        }\n    }\n    return null;\n}\n</code></pre>\n<hr />\n<p>Know that now when enhanced switch it could look like</p>\n<pre><code>for (int i = 0; i &lt; 8; i++) {\n    String line = switch (i) {\n        case 0 -&gt; bd[0] + bd[1] + bd[2];\n        case 1 -&gt; bd[3] + bd[4] + bd[5];\n        case 2 -&gt; bd[6] + bd[7] + bd[8];\n        case 3 -&gt; bd[0] + bd[3] + bd[6];\n        case 4 -&gt; bd[1] + bd[4] + bd[7];\n        case 5 -&gt; bd[2] + bd[5] + bd[8];\n        case 6 -&gt; bd[0] + bd[4] + bd[8];\n        case 7 -&gt; bd[2] + bd[4] + bd[6];\n        default -&gt; null;\n    };\n    if (line.equals(&quot;XXX&quot;)) {\n        return &quot;X&quot;;\n    } else if (line.equals(&quot;OOO&quot;)) {\n        return &quot;O&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24890177,"reputation":27,"user_id":18762259,"display_name":"nick shetty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649592610,"creation_date":1649590548,"question_id":71816217,"body_markdown":"I have written some code for the Tic Tac Toe game:   \r\n\r\n \r\n\r\n    for (int i = 0; i &lt; 8; i++) {\r\n            String line = null;\r\n            switch (i) {\r\n                case 0:\r\n                    line = bd[0] + bd[1] + bd[2];\r\n                    break;\r\n                case 1:\r\n                    line = bd[3] + bd[4] + bd[5];\r\n                    break;\r\n                case 2:\r\n                    line = bd[6] + bd[7] + bd[8];\r\n                    break;\r\n                case 3:\r\n                    line = bd[0] + bd[3] + bd[6];\r\n                    break;\r\n                case 4:\r\n                    line = bd[1] + bd[4] + bd[7];\r\n                    break;\r\n                case 5:\r\n                    line = bd[2] + bd[5] + bd[8];\r\n                    break;\r\n                case 6:\r\n                    line = bd[0] + bd[4] + bd[8];\r\n                    break;\r\n                case 7:\r\n                    line = bd[2] + bd[4] + bd[6];\r\n                    break;\r\n            }\r\n            if (line.equals(&quot;XXX&quot;)) {\r\n                return &quot;X&quot;;\r\n            } else if (line.equals(&quot;OOO&quot;)) {\r\n                return &quot;O&quot;;\r\n            }\r\n        }    \r\n   \r\nThe line in the switch statement is just checking if any of the eight lines in tic tac toe   \r\nhas the same character. This seems to be a lot of code for this purpose. Could there be   \r\nan easier way to achieve this?","title":"verifying winner in tictactoe game","body":"<p>I have written some code for the Tic Tac Toe game:</p>\n<pre><code>for (int i = 0; i &lt; 8; i++) {\n        String line = null;\n        switch (i) {\n            case 0:\n                line = bd[0] + bd[1] + bd[2];\n                break;\n            case 1:\n                line = bd[3] + bd[4] + bd[5];\n                break;\n            case 2:\n                line = bd[6] + bd[7] + bd[8];\n                break;\n            case 3:\n                line = bd[0] + bd[3] + bd[6];\n                break;\n            case 4:\n                line = bd[1] + bd[4] + bd[7];\n                break;\n            case 5:\n                line = bd[2] + bd[5] + bd[8];\n                break;\n            case 6:\n                line = bd[0] + bd[4] + bd[8];\n                break;\n            case 7:\n                line = bd[2] + bd[4] + bd[6];\n                break;\n        }\n        if (line.equals(&quot;XXX&quot;)) {\n            return &quot;X&quot;;\n        } else if (line.equals(&quot;OOO&quot;)) {\n            return &quot;O&quot;;\n        }\n    }    \n</code></pre>\n<p>The line in the switch statement is just checking if any of the eight lines in tic tac toe<br />\nhas the same character. This seems to be a lot of code for this purpose. Could there be<br />\nan easier way to achieve this?</p>\n"},{"tags":["java","android","calculator"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1401958088,"post_id":24055578,"comment_id":37090510,"body_markdown":"the error is happening in `onClick` DamDuppatYojna.java:62","body":"the error is happening in <code>onClick</code> DamDuppatYojna.java:62"},{"owner":{"account_id":190595,"reputation":7590,"user_id":430673,"accept_rate":86,"display_name":"Tash Pemhiwa"},"score":0,"creation_date":1401958279,"post_id":24055578,"comment_id":37090645,"body_markdown":"Please post DamDuppatYojna.java here","body":"Please post DamDuppatYojna.java here"},{"owner":{"account_id":190595,"reputation":7590,"user_id":430673,"accept_rate":86,"display_name":"Tash Pemhiwa"},"score":1,"creation_date":1401958406,"post_id":24055578,"comment_id":37090739,"body_markdown":"Also please indicate to us what is on line 62","body":"Also please indicate to us what is on line 62"},{"owner":{"account_id":2715187,"reputation":117,"user_id":2342717,"accept_rate":22,"display_name":"TJM"},"score":0,"creation_date":1401958876,"post_id":24055578,"comment_id":37091061,"body_markdown":"THe line 62 in indicate = \t\t\t\tinterestRatesSpinner.setAdapter(ir_adapter);","body":"THe line 62 in indicate = \t\t\t\tinterestRatesSpinner.setAdapter(ir_adapter);"},{"owner":{"account_id":190595,"reputation":7590,"user_id":430673,"accept_rate":86,"display_name":"Tash Pemhiwa"},"score":0,"creation_date":1402038642,"post_id":24055578,"comment_id":37128371,"body_markdown":"@TJM Perhaps `R.array.interest_rate_array` does not exist?","body":"@TJM Perhaps <code>R.array.interest_rate_array</code> does not exist?"}],"answers":[{"tags":[],"owner":{"account_id":190595,"reputation":7590,"user_id":430673,"accept_rate":86,"display_name":"Tash Pemhiwa"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1401990304,"creation_date":1401990304,"answer_id":24066770,"question_id":24055578,"body_markdown":"According to the code supplied, either `interestRatesSpinner` is null or `ir_adapter` is null. I doubt that interestRatesSpinner is null, though.","title":"How to open Calculator in Pop up window in Android?","body":"<p>According to the code supplied, either <code>interestRatesSpinner</code> is null or <code>ir_adapter</code> is null. I doubt that interestRatesSpinner is null, though.</p>\n"}],"owner":{"account_id":2715187,"reputation":117,"user_id":2342717,"accept_rate":22,"display_name":"TJM"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1291,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1649592585,"creation_date":1401957958,"question_id":24055578,"body_markdown":"I am creating a pop up window for calculator on Button click. I have created and when run the application the app is crashes and I m getting `NullPointerException`. I want pop up calculator when i click on button.\r\n\r\nHere is my Calculator Activity Code:\r\n\r\n    public void onCreate(Bundle savedInstanceState)\r\n    \t{\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tsetContentView(R.layout.damduppatyojna);\r\n    \t\t\r\n    \t\timgCalculator = (ImageView)findViewById(R.id.buttonCalculator);\r\n    \t\timgCalculator.setOnClickListener(new OnClickListener() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void onClick(View v) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\tLayoutInflater layoutInflater = (LayoutInflater)getBaseContext().getSystemService(LAYOUT_INFLATER_SERVICE);  \r\n    \t\t\t    View popupView = layoutInflater.inflate(R.layout.popup_calculator, null);  \r\n    \t\t\t    final PopupWindow popupWindow = new PopupWindow(popupView, LayoutParams.WRAP_CONTENT,LayoutParams.WRAP_CONTENT);\r\n    \t\t\t    \r\n    \t\t\t    \r\n    \t\t\t    interestRatesSpinner = (Spinner) findViewById(R.id.interestSpinner);\r\n    \t\t\t\tperiodSpinner = (Spinner) findViewById(R.id.periodSpinner);\r\n    \t\t\t\tamountEditText = (EditText) findViewById(R.id.amountEditText);\r\n    \t\t\t\ttoBeCalculatedTextView = (TextView) findViewById(R.id.toBeCalculatedTextView);\r\n    \t\t\t\t\r\n    \t\t\t\t//\r\n    \t\t\t\t//ArrayAdapter&lt;CharSequence&gt; ir_adapter = ArrayAdapter.createFromResource(this, R.array.interest_rate_array,android.R.layout.simple_spinner_item);\r\n    \t\t\t\t//ArrayAdapter&lt;CharSequence&gt; ir_adapter = ArrayAdapter.createFromResource(this, R.array.interest_rate_array,android.R.layout.simple_spinner_item);\r\n    \t\t\t\tArrayAdapter&lt;?&gt; ir_adapter = ArrayAdapter.createFromResource(DamDuppatYojna.this, R.array.interest_rate_array, R.id.interestSpinner);\r\n    \t\t\t\tir_adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n    \t\t\t\tinterestRatesSpinner.setAdapter(ir_adapter);\r\n    \r\n    \t\t\t\tir_adapter = ArrayAdapter.createFromResource(DamDuppatYojna.this,R.array.period_array, android.R.layout.simple_spinner_item);\r\n    \t\t\t\tir_adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n    \t\t\t\tperiodSpinner.setAdapter(ir_adapter);\r\n    \t\t\t  \r\n    \t\t\t    Button btnCalculator = (Button)popupView.findViewById(R.id.calculatorButton);\r\n    \t\t\t    btnCalculator.setOnClickListener(new OnClickListener() {\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void onClick(View v) {\r\n    \t\t\t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\t\tIntent intent = new Intent(&quot;com.lokmanya.ResultActivity&quot;);\r\n    \t\t\t\t\t\tBundle extras = new Bundle();\r\n    \t\t\t\t\t\textras.putString(&quot;amount&quot;, amountEditText.getText().toString());\r\n    \t\t\t\t\t\textras.putString(&quot;interestrate&quot;, interestRatesSpinner.getSelectedItem().toString());\r\n    \t\t\t\t\t\textras.putString(&quot;period&quot;, periodSpinner.getSelectedItem()\r\n    \t\t\t\t\t\t\t\t.toString());\r\n    \t\t\t\t\t\tintent.putExtras(extras);\r\n    \t\t\t\t\t\tstartActivityForResult(intent, 1);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t\t\t    \r\n    \t\t\t             \r\n    \t\t\t    Button btnDismiss = (Button)popupView.findViewById(R.id.dismiss);\r\n    \t\t\t    btnDismiss.setOnClickListener(new Button.OnClickListener()\r\n    \t\t\t    {\r\n    \t\t\t    \t@Override\r\n    \t\t\t        public void onClick(View v) \r\n    \t\t\t    \t{\r\n    \t\t\t      // TODO Auto-generated method stub\r\n    \t\t\t      popupWindow.dismiss();\r\n    \t\t\t         }});\r\n    \t\t\t               \r\n    \t\t\t             popupWindow.showAsDropDown(imgCalculator, 50, -30);\r\n    \t\t\r\n    \t\t\t}});\r\n\r\n\t\t\t  \r\n\r\n\r\nHere is Result Activity \r\n\r\n\r\n\r\n\r\n    public class ResultActivity extends Activity {\r\n    \t@Override\r\n    \tpublic void onCreate(Bundle savedInstanceState){\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tLog.d(this.getClass().getName(), &quot;Now in On Create&quot;);\r\n    \t\tthis.setContentView(R.layout.result);\r\n    \t\t\r\n    \t\tBundle bundle = getIntent().getExtras();\r\n    \t\tLog.d(this.getClass().getName(),&quot;Interest Rate: &quot;+bundle.getString(&quot;interestrate&quot;));\r\n    \t\t\r\n    \t\tfloat interestrate = Float.parseFloat(bundle.getString(&quot;interestrate&quot;));\r\n    \t\tfloat period = Float.parseFloat(bundle.getString(&quot;period&quot;));\r\n    \t\tfloat amount = Float.parseFloat(bundle.getString(&quot;amount&quot;));\r\n    \t\t\r\n    \t\tfloat monthly = ((amount * (interestrate/100)*period)+amount)/(period * 12);\r\n    \t\tIntent data = new Intent();\r\n    \t\tdata.setData(Uri.parse(&quot;&quot; + monthly));\r\n    \t\tsetResult(1,data); // first param to indicate resultCode\r\n    \t\tthis.finish();\r\n    \t}\r\n    }\r\n\r\n\r\n\r\nHere is xml File \r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;fill_parent&quot;\r\n        android:orientation=&quot;vertical&quot; &gt;\r\n    \r\n        &lt;TableLayout\r\n            android:id=&quot;@+id/tableLayout_Form&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:stretchColumns=&quot;1&quot; &gt;\r\n    \r\n            &lt;TableRow\r\n                android:id=&quot;@+id/tableRow1&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot; &gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/amountTextView&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:clickable=&quot;false&quot;\r\n                    android:gravity=&quot;right&quot;\r\n                    android:text=&quot;@string/amountString&quot; &gt;\r\n                &lt;/TextView&gt;\r\n    \r\n                &lt;EditText\r\n                    android:id=&quot;@+id/amountEditText&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot; &gt;\r\n                &lt;/EditText&gt;\r\n            &lt;/TableRow&gt;\r\n    \r\n            &lt;TableRow\r\n                android:id=&quot;@+id/tableRow2&quot;\r\n                android:layout_width=&quot;fill_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot; &gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/interestRateTextView&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;right|center_vertical&quot;\r\n                    android:text=&quot;@string/interestRateString&quot; &gt;\r\n                &lt;/TextView&gt;\r\n    \r\n                &lt;Spinner\r\n                    android:id=&quot;@+id/interestSpinner&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot; &gt;\r\n                &lt;/Spinner&gt;\r\n            &lt;/TableRow&gt;\r\n    \r\n            &lt;TableRow\r\n                android:id=&quot;@+id/tableRow3&quot;\r\n                android:layout_width=&quot;fill_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot; &gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/loadPeriodTextView&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;right|center_vertical&quot;\r\n                    android:text=&quot;@string/loanPeriodString&quot; &gt;\r\n                &lt;/TextView&gt;\r\n    \r\n                &lt;Spinner\r\n                    android:id=&quot;@+id/periodSpinner&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot; &gt;\r\n                &lt;/Spinner&gt;\r\n            &lt;/TableRow&gt;\r\n    \r\n            &lt;TableRow\r\n                android:id=&quot;@+id/tableRow4&quot;\r\n                android:layout_width=&quot;fill_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot; &gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/monthlyInstallmentTextView&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;@string/monthlyInstallmentString&quot; &gt;\r\n                &lt;/TextView&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/toBeCalculatedTextView&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;center_horizontal&quot;\r\n                    android:text=&quot;@string/toBeCalculatedString&quot; &gt;\r\n                &lt;/TextView&gt;\r\n            &lt;/TableRow&gt;\r\n        &lt;/TableLayout&gt;\r\n    \r\n      \r\n    \r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/linearLayout2&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot; &gt;\r\n    \r\n            &lt;Button\r\n              android:id=&quot;@+id/calculatorButton&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:text=&quot;Save Settings&quot; &gt;\r\n            &lt;/Button&gt;\r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/dismiss&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:text=&quot;Load Settings&quot; &gt;\r\n            &lt;/Button&gt;\r\n        &lt;/LinearLayout&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\nHere is Log cat text Information.\r\n\r\n    06-05 14:08:13.162: E/AndroidRuntime(751): FATAL EXCEPTION: main\r\n    06-05 14:08:13.162: E/AndroidRuntime(751): java.lang.NullPointerException\r\n    06-05 14:08:13.162: E/AndroidRuntime(751): \tat com.lokmanya.DamDuppatYojna$1.onClick(DamDuppatYojna.java:62)\r\n    06-05 14:08:13.162: E/AndroidRuntime(751): \tat android.view.View.performClick(View.java:2485)\r\n    06-05 14:08:13.162: E/AndroidRuntime(751): \tat android.view.View$PerformClick.run(View.java:9080)\r\n    06-05 14:08:13.162: E/AndroidRuntime(751): \tat android.os.Handler.handleCallback(Handler.java:587)\r\n    06-05 14:08:13.162: E/AndroidRuntime(751): \tat android.os.Handler.dispatchMessage(Handler.java:92)\r\n    06-05 14:08:13.162: E/AndroidRuntime(751): \tat android.os.Looper.loop(Looper.java:123)\r\n    06-05 14:08:13.162: E/AndroidRuntime(751): \tat android.app.ActivityThread.main(ActivityThread.java:3683)\r\n    06-05 14:08:13.162: E/AndroidRuntime(751): \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n    06-05 14:08:13.162: E/AndroidRuntime(751): \tat java.lang.reflect.Method.invoke(Method.java:507)\r\n    06-05 14:08:13.162: E/AndroidRuntime(751): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\r\n    06-05 14:08:13.162: E/AndroidRuntime(751): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\r\n    06-05 14:08:13.162: E/AndroidRuntime(751): \tat dalvik.system.NativeStart.main(Native Method)\r\n    06-05 14:08:15.503: I/Process(751): Sending signal. PID: 751 SIG: 9\r\n\r\n\r\n","title":"How to open Calculator in Pop up window in Android?","body":"<p>I am creating a pop up window for calculator on Button click. I have created and when run the application the app is crashes and I m getting <code>NullPointerException</code>. I want pop up calculator when i click on button.</p>\n<p>Here is my Calculator Activity Code:</p>\n<pre><code>public void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.damduppatyojna);\n        \n        imgCalculator = (ImageView)findViewById(R.id.buttonCalculator);\n        imgCalculator.setOnClickListener(new OnClickListener() {\n            \n            @Override\n            public void onClick(View v) {\n                // TODO Auto-generated method stub\n                LayoutInflater layoutInflater = (LayoutInflater)getBaseContext().getSystemService(LAYOUT_INFLATER_SERVICE);  \n                View popupView = layoutInflater.inflate(R.layout.popup_calculator, null);  \n                final PopupWindow popupWindow = new PopupWindow(popupView, LayoutParams.WRAP_CONTENT,LayoutParams.WRAP_CONTENT);\n                \n                \n                interestRatesSpinner = (Spinner) findViewById(R.id.interestSpinner);\n                periodSpinner = (Spinner) findViewById(R.id.periodSpinner);\n                amountEditText = (EditText) findViewById(R.id.amountEditText);\n                toBeCalculatedTextView = (TextView) findViewById(R.id.toBeCalculatedTextView);\n                \n                //\n                //ArrayAdapter&lt;CharSequence&gt; ir_adapter = ArrayAdapter.createFromResource(this, R.array.interest_rate_array,android.R.layout.simple_spinner_item);\n                //ArrayAdapter&lt;CharSequence&gt; ir_adapter = ArrayAdapter.createFromResource(this, R.array.interest_rate_array,android.R.layout.simple_spinner_item);\n                ArrayAdapter&lt;?&gt; ir_adapter = ArrayAdapter.createFromResource(DamDuppatYojna.this, R.array.interest_rate_array, R.id.interestSpinner);\n                ir_adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n                interestRatesSpinner.setAdapter(ir_adapter);\n\n                ir_adapter = ArrayAdapter.createFromResource(DamDuppatYojna.this,R.array.period_array, android.R.layout.simple_spinner_item);\n                ir_adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n                periodSpinner.setAdapter(ir_adapter);\n              \n                Button btnCalculator = (Button)popupView.findViewById(R.id.calculatorButton);\n                btnCalculator.setOnClickListener(new OnClickListener() {\n                    \n                    @Override\n                    public void onClick(View v) {\n                        // TODO Auto-generated method stub\n                        Intent intent = new Intent(&quot;com.lokmanya.ResultActivity&quot;);\n                        Bundle extras = new Bundle();\n                        extras.putString(&quot;amount&quot;, amountEditText.getText().toString());\n                        extras.putString(&quot;interestrate&quot;, interestRatesSpinner.getSelectedItem().toString());\n                        extras.putString(&quot;period&quot;, periodSpinner.getSelectedItem()\n                                .toString());\n                        intent.putExtras(extras);\n                        startActivityForResult(intent, 1);\n                    }\n                });\n                \n                         \n                Button btnDismiss = (Button)popupView.findViewById(R.id.dismiss);\n                btnDismiss.setOnClickListener(new Button.OnClickListener()\n                {\n                    @Override\n                    public void onClick(View v) \n                    {\n                  // TODO Auto-generated method stub\n                  popupWindow.dismiss();\n                     }});\n                           \n                         popupWindow.showAsDropDown(imgCalculator, 50, -30);\n        \n            }});\n\n          \n</code></pre>\n<p>Here is Result Activity</p>\n<pre><code>public class ResultActivity extends Activity {\n    @Override\n    public void onCreate(Bundle savedInstanceState){\n        super.onCreate(savedInstanceState);\n        Log.d(this.getClass().getName(), &quot;Now in On Create&quot;);\n        this.setContentView(R.layout.result);\n        \n        Bundle bundle = getIntent().getExtras();\n        Log.d(this.getClass().getName(),&quot;Interest Rate: &quot;+bundle.getString(&quot;interestrate&quot;));\n        \n        float interestrate = Float.parseFloat(bundle.getString(&quot;interestrate&quot;));\n        float period = Float.parseFloat(bundle.getString(&quot;period&quot;));\n        float amount = Float.parseFloat(bundle.getString(&quot;amount&quot;));\n        \n        float monthly = ((amount * (interestrate/100)*period)+amount)/(period * 12);\n        Intent data = new Intent();\n        data.setData(Uri.parse(&quot;&quot; + monthly));\n        setResult(1,data); // first param to indicate resultCode\n        this.finish();\n    }\n}\n</code></pre>\n<p>Here is xml File</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;fill_parent&quot;\n    android:orientation=&quot;vertical&quot; &gt;\n\n    &lt;TableLayout\n        android:id=&quot;@+id/tableLayout_Form&quot;\n        android:layout_width=&quot;fill_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:stretchColumns=&quot;1&quot; &gt;\n\n        &lt;TableRow\n            android:id=&quot;@+id/tableRow1&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot; &gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/amountTextView&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:clickable=&quot;false&quot;\n                android:gravity=&quot;right&quot;\n                android:text=&quot;@string/amountString&quot; &gt;\n            &lt;/TextView&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/amountEditText&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot; &gt;\n            &lt;/EditText&gt;\n        &lt;/TableRow&gt;\n\n        &lt;TableRow\n            android:id=&quot;@+id/tableRow2&quot;\n            android:layout_width=&quot;fill_parent&quot;\n            android:layout_height=&quot;wrap_content&quot; &gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/interestRateTextView&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;right|center_vertical&quot;\n                android:text=&quot;@string/interestRateString&quot; &gt;\n            &lt;/TextView&gt;\n\n            &lt;Spinner\n                android:id=&quot;@+id/interestSpinner&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot; &gt;\n            &lt;/Spinner&gt;\n        &lt;/TableRow&gt;\n\n        &lt;TableRow\n            android:id=&quot;@+id/tableRow3&quot;\n            android:layout_width=&quot;fill_parent&quot;\n            android:layout_height=&quot;wrap_content&quot; &gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/loadPeriodTextView&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;right|center_vertical&quot;\n                android:text=&quot;@string/loanPeriodString&quot; &gt;\n            &lt;/TextView&gt;\n\n            &lt;Spinner\n                android:id=&quot;@+id/periodSpinner&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot; &gt;\n            &lt;/Spinner&gt;\n        &lt;/TableRow&gt;\n\n        &lt;TableRow\n            android:id=&quot;@+id/tableRow4&quot;\n            android:layout_width=&quot;fill_parent&quot;\n            android:layout_height=&quot;wrap_content&quot; &gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/monthlyInstallmentTextView&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;@string/monthlyInstallmentString&quot; &gt;\n            &lt;/TextView&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/toBeCalculatedTextView&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center_horizontal&quot;\n                android:text=&quot;@string/toBeCalculatedString&quot; &gt;\n            &lt;/TextView&gt;\n        &lt;/TableRow&gt;\n    &lt;/TableLayout&gt;\n\n  \n\n    &lt;LinearLayout\n        android:id=&quot;@+id/linearLayout2&quot;\n        android:layout_width=&quot;fill_parent&quot;\n        android:layout_height=&quot;wrap_content&quot; &gt;\n\n        &lt;Button\n          android:id=&quot;@+id/calculatorButton&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;1&quot;\n            android:text=&quot;Save Settings&quot; &gt;\n        &lt;/Button&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/dismiss&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;1&quot;\n            android:text=&quot;Load Settings&quot; &gt;\n        &lt;/Button&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Here is Log cat text Information.</p>\n<pre><code>06-05 14:08:13.162: E/AndroidRuntime(751): FATAL EXCEPTION: main\n06-05 14:08:13.162: E/AndroidRuntime(751): java.lang.NullPointerException\n06-05 14:08:13.162: E/AndroidRuntime(751):  at com.lokmanya.DamDuppatYojna$1.onClick(DamDuppatYojna.java:62)\n06-05 14:08:13.162: E/AndroidRuntime(751):  at android.view.View.performClick(View.java:2485)\n06-05 14:08:13.162: E/AndroidRuntime(751):  at android.view.View$PerformClick.run(View.java:9080)\n06-05 14:08:13.162: E/AndroidRuntime(751):  at android.os.Handler.handleCallback(Handler.java:587)\n06-05 14:08:13.162: E/AndroidRuntime(751):  at android.os.Handler.dispatchMessage(Handler.java:92)\n06-05 14:08:13.162: E/AndroidRuntime(751):  at android.os.Looper.loop(Looper.java:123)\n06-05 14:08:13.162: E/AndroidRuntime(751):  at android.app.ActivityThread.main(ActivityThread.java:3683)\n06-05 14:08:13.162: E/AndroidRuntime(751):  at java.lang.reflect.Method.invokeNative(Native Method)\n06-05 14:08:13.162: E/AndroidRuntime(751):  at java.lang.reflect.Method.invoke(Method.java:507)\n06-05 14:08:13.162: E/AndroidRuntime(751):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\n06-05 14:08:13.162: E/AndroidRuntime(751):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\n06-05 14:08:13.162: E/AndroidRuntime(751):  at dalvik.system.NativeStart.main(Native Method)\n06-05 14:08:15.503: I/Process(751): Sending signal. PID: 751 SIG: 9\n</code></pre>\n"},{"tags":["java","arrays","matrix","input"],"answers":[{"tags":[],"owner":{"account_id":21896525,"reputation":87,"user_id":16182731,"display_name":"Samuel Simon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649530287,"creation_date":1649530287,"answer_id":71810971,"question_id":71810767,"body_markdown":"    public static void dataEntry(double arr[][]) {\r\n        Scanner inp = new Scanner(System.in);\r\n        for(int column = 1; column &lt; arr[0].length; column++){\r\n            System.out.println(&quot;Enter base wage for col:&quot;+column);\r\n            arr[0][column]=inp.nextInt();     \r\n            System.out.println(&quot;Enter % increase per year&quot;);\r\n            int increase=inp.nextInt();\r\n            for(int row=1; row&lt;arr.length; row++){\r\n                arr[row][col] += arr[row-1][column]*increase/100;\r\n            }\r\n        }\r\n    }","title":"How do I enter data from user input into a 2D array in Java?","body":"<pre><code>public static void dataEntry(double arr[][]) {\n    Scanner inp = new Scanner(System.in);\n    for(int column = 1; column &lt; arr[0].length; column++){\n        System.out.println(&quot;Enter base wage for col:&quot;+column);\n        arr[0][column]=inp.nextInt();     \n        System.out.println(&quot;Enter % increase per year&quot;);\n        int increase=inp.nextInt();\n        for(int row=1; row&lt;arr.length; row++){\n            arr[row][col] += arr[row-1][column]*increase/100;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14673837,"reputation":300,"user_id":11593686,"display_name":"MonstraG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649592432,"creation_date":1649530365,"answer_id":71810977,"question_id":71810767,"body_markdown":"Assuming user already knows how many values they need to enter, you can start with this basic verion:\r\n\r\n```java\r\n\tpublic static void dataEntry(double arr[][]) {\r\n\t\tScanner inp = new Scanner(System.in);\r\n\r\n\t\tint rows = nursesArray.length;\r\n\t\tint columns = nursesArray[0].length;\r\n\r\n\t\tfor (int row = 0; row &lt; rows; row++) {\r\n\t\t\tSystem.out.println(&quot;Please, enter values for year &quot; + nursesArray[row][0]);\r\n\r\n\t\t\t// starts with 1 to skip the year.\r\n\t\t\tfor (int column = 1; column &lt; columns; column++) {\r\n\t\t\t\tnursesArray[row][column] = inp.nextDouble();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\n\r\nIt just iterates trough rows and columns from left to right, from top to bottom.","title":"How do I enter data from user input into a 2D array in Java?","body":"<p>Assuming user already knows how many values they need to enter, you can start with this basic verion:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void dataEntry(double arr[][]) {\n        Scanner inp = new Scanner(System.in);\n\n        int rows = nursesArray.length;\n        int columns = nursesArray[0].length;\n\n        for (int row = 0; row &lt; rows; row++) {\n            System.out.println(&quot;Please, enter values for year &quot; + nursesArray[row][0]);\n\n            // starts with 1 to skip the year.\n            for (int column = 1; column &lt; columns; column++) {\n                nursesArray[row][column] = inp.nextDouble();\n            }\n        }\n    }\n</code></pre>\n<p>It just iterates trough rows and columns from left to right, from top to bottom.</p>\n"}],"owner":{"account_id":19316428,"reputation":23,"user_id":14121107,"display_name":"Farouq Syed Abdali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":829,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71810977,"answer_count":2,"score":0,"last_activity_date":1649592432,"creation_date":1649528543,"question_id":71810767,"body_markdown":"I have a 2D array that needs it&#39;s values to be changed based on user input.\r\n\r\n    private static double nursesArray[][] = {\r\n            {2020, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n            {2021, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n            {2022, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n            {2023, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n            {2024, 0, 0, 0, 0, 0, 0, 0, 0, 0}\r\n    };\r\nThe program revolves around it asking the user for the base wage in the year 2020 for the second column (index 1). The program will then ask the user to enter the percent differences in each of the years below, going down each row in that same column. This process needs to be iterated in each of the columns all the way to the end.\r\n\r\nThe way I have the rest of my code set up is that it uses the array as an argument for the method.\r\n\r\n    public class nursesUnion {\r\n\r\n        private static double nursesArray[][] = {\r\n                {2020, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n                {2021, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n                {2022, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n                {2023, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n                {2024, 0, 0, 0, 0, 0, 0, 0, 0, 0}\r\n        };\r\n\r\n        public static void dataEntry(double arr[][]) {\r\n            Scanner inp = new Scanner(System.in);\r\n        }\r\n    ...\r\nI really have no idea where to begin for this. Java is a new language for me and I haven&#39;t fully wrapped my head around it yet.","title":"How do I enter data from user input into a 2D array in Java?","body":"<p>I have a 2D array that needs it's values to be changed based on user input.</p>\n<pre><code>private static double nursesArray[][] = {\n        {2020, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n        {2021, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n        {2022, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n        {2023, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n        {2024, 0, 0, 0, 0, 0, 0, 0, 0, 0}\n};\n</code></pre>\n<p>The program revolves around it asking the user for the base wage in the year 2020 for the second column (index 1). The program will then ask the user to enter the percent differences in each of the years below, going down each row in that same column. This process needs to be iterated in each of the columns all the way to the end.</p>\n<p>The way I have the rest of my code set up is that it uses the array as an argument for the method.</p>\n<pre><code>public class nursesUnion {\n\n    private static double nursesArray[][] = {\n            {2020, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n            {2021, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n            {2022, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n            {2023, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n            {2024, 0, 0, 0, 0, 0, 0, 0, 0, 0}\n    };\n\n    public static void dataEntry(double arr[][]) {\n        Scanner inp = new Scanner(System.in);\n    }\n...\n</code></pre>\n<p>I really have no idea where to begin for this. Java is a new language for me and I haven't fully wrapped my head around it yet.</p>\n"},{"tags":["java","oracle","hibernate"],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649592322,"creation_date":1649592322,"answer_id":71816412,"question_id":71814493,"body_markdown":"I suggest to try two solutions here:\r\n1. Use Pageable instead of setMaxResult() to keep going with HQL\r\n2. Use createNativeQuery() with limit option to retrieve correct result\r\n\r\n","title":"Hibernate: addQueryHint issue when using setMaxResults","body":"<p>I suggest to try two solutions here:</p>\n<ol>\n<li>Use Pageable instead of setMaxResult() to keep going with HQL</li>\n<li>Use createNativeQuery() with limit option to retrieve correct result</li>\n</ol>\n"}],"owner":{"account_id":1918987,"reputation":2839,"user_id":1730917,"accept_rate":71,"display_name":"Arya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649592322,"creation_date":1649574744,"question_id":71814493,"body_markdown":"I&#39;m using hibernate `5.4.23` and oracle `12c`:\r\n\r\nConsider this query:\r\n\r\n    .createQuery(&quot;select m from OrgMessage m &quot; +\r\n                   &quot;where m.userId=:userId and m.peerId=:peerId&quot; +\r\n                   &quot;order by m.message_id desc&quot;)\r\n             .addQueryHint(&quot;index(org_message ix_org_message_userid_peerid)&quot;)\r\n             .setParameter(&quot;userId&quot;, userId)\r\n             .setParameter(&quot;peerId&quot;, peerId)\r\n\r\nHibernate generates this sql (which is correct):\r\n\r\n    SELECT\r\n    \t/*+ index(orgmessage0_ ix_org_message_userid_peerid) */\r\n    \torgmessage0_.message_id,\r\n    \torgmessage0_.user_id,\r\n    \torgmessage0_.peer_id,\r\n    \torgmessage0_.msg_content,\r\n    FROM\r\n    \torg_message orgmessage0_\r\n    WHERE\r\n    \torgmessage0_.user_id =?\r\n    \tAND orgmessage0_.peer_id =?\r\n    ORDER BY\r\n    \torgmessage0_.message_id DESC\r\n\r\nBut, by adding `setMaxResults(10)`, hibernate puts the hint in the outer select (which is wrong):\r\n\r\n    SELECT /*+ index(orgmessage0_ ix_org_message_userid_peerid) */ * FROM (\r\n    \tSELECT\r\n    \t    orgmessage0_.message_id,\r\n    \t    orgmessage0_.user_id,\r\n    \t    orgmessage0_.peer_id,\r\n    \t    orgmessage0_.msg_content,\r\n    \tFROM\r\n    \t    org_message orgmessage0_\r\n    \tWHERE\r\n    \t    orgmessage0_.user_id =?\r\n    \t    AND orgmessage0_.peer_id =?\r\n    \tORDER BY\r\n    \t    orgmessage0_.message_id DESC\r\n    ) WHERE rownum &lt;= 10;\r\n\r\nIs there any solution to add the query hint to the right place?\r\n\r\n","title":"Hibernate: addQueryHint issue when using setMaxResults","body":"<p>I'm using hibernate <code>5.4.23</code> and oracle <code>12c</code>:</p>\n<p>Consider this query:</p>\n<pre><code>.createQuery(&quot;select m from OrgMessage m &quot; +\n               &quot;where m.userId=:userId and m.peerId=:peerId&quot; +\n               &quot;order by m.message_id desc&quot;)\n         .addQueryHint(&quot;index(org_message ix_org_message_userid_peerid)&quot;)\n         .setParameter(&quot;userId&quot;, userId)\n         .setParameter(&quot;peerId&quot;, peerId)\n</code></pre>\n<p>Hibernate generates this sql (which is correct):</p>\n<pre><code>SELECT\n    /*+ index(orgmessage0_ ix_org_message_userid_peerid) */\n    orgmessage0_.message_id,\n    orgmessage0_.user_id,\n    orgmessage0_.peer_id,\n    orgmessage0_.msg_content,\nFROM\n    org_message orgmessage0_\nWHERE\n    orgmessage0_.user_id =?\n    AND orgmessage0_.peer_id =?\nORDER BY\n    orgmessage0_.message_id DESC\n</code></pre>\n<p>But, by adding <code>setMaxResults(10)</code>, hibernate puts the hint in the outer select (which is wrong):</p>\n<pre><code>SELECT /*+ index(orgmessage0_ ix_org_message_userid_peerid) */ * FROM (\n    SELECT\n        orgmessage0_.message_id,\n        orgmessage0_.user_id,\n        orgmessage0_.peer_id,\n        orgmessage0_.msg_content,\n    FROM\n        org_message orgmessage0_\n    WHERE\n        orgmessage0_.user_id =?\n        AND orgmessage0_.peer_id =?\n    ORDER BY\n        orgmessage0_.message_id DESC\n) WHERE rownum &lt;= 10;\n</code></pre>\n<p>Is there any solution to add the query hint to the right place?</p>\n"},{"tags":["java","android","image","android-mediascanner"],"answers":[{"tags":[],"owner":{"account_id":1111885,"reputation":1362,"user_id":1102206,"accept_rate":56,"display_name":"Gomoku7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364576280,"creation_date":1364576280,"answer_id":15707818,"question_id":13637352,"body_markdown":"In my app, I&#39;m also downloading pictures.\r\n\r\nWhen my main activity (that download pictures) is started, I initiate a mediascanner connection. The downloading is sequential, once a picture has arrived, I store the file name in a string (named currentFile below) and &quot;connect&quot; the media scanner : \r\n\r\n\r\n    public class SomeActivity \r\n              extends Activity implements MediaScannerConnectionClient {\r\n\r\n        ....\r\n\r\n        protected MediaScannerConnection mMs;\r\n\r\n        ....\r\n\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n\t    super.onCreate(savedInstanceState);\r\n            ....\r\n            mMs = new MediaScannerConnection(this, this);\r\n            ....\r\n        }\r\n\r\n        @Override\r\n        public void onMediaScannerConnected() {\r\n            mMs.scanFile(currentFile, null);\r\n        }\r\n\r\n        @Override\r\n        public void onScanCompleted(String path, Uri uri) {\r\n            mMs.disconnect();\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\nTo launch the scanning I just do : \r\n\r\n\r\n    currentFile = &quot;/mnt/sdcard/someLocationToScan/somefile.jpg&quot;;\r\n    mMs.connect();\r\n\r\n\r\n","title":"Invoking the MediaScanner in just a single directory (android)","body":"<p>In my app, I'm also downloading pictures.</p>\n\n<p>When my main activity (that download pictures) is started, I initiate a mediascanner connection. The downloading is sequential, once a picture has arrived, I store the file name in a string (named currentFile below) and \"connect\" the media scanner : </p>\n\n<pre><code>public class SomeActivity \n          extends Activity implements MediaScannerConnectionClient {\n\n    ....\n\n    protected MediaScannerConnection mMs;\n\n    ....\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n        ....\n        mMs = new MediaScannerConnection(this, this);\n        ....\n    }\n\n    @Override\n    public void onMediaScannerConnected() {\n        mMs.scanFile(currentFile, null);\n    }\n\n    @Override\n    public void onScanCompleted(String path, Uri uri) {\n        mMs.disconnect();\n    }\n\n\n}\n</code></pre>\n\n<p>To launch the scanning I just do : </p>\n\n<pre><code>currentFile = \"/mnt/sdcard/someLocationToScan/somefile.jpg\";\nmMs.connect();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":204087,"reputation":1977,"user_id":452090,"accept_rate":40,"display_name":"hB0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583000751,"creation_date":1383840444,"answer_id":19840794,"question_id":13637352,"body_markdown":"    public static void ScanMyFile(String strFilePath) {\r\n        // Tell the media scanner so it is available to the user.\r\n        MediaScannerConnection.scanFile(null, new String[] { strFilePath }, null, \r\n                new MediaScannerConnection.OnScanCompletedListener() {\r\n            public void onScanCompleted(String path, Uri uri) {\r\n\r\n            }\r\n        });\r\n    }","title":"Invoking the MediaScanner in just a single directory (android)","body":"<pre><code>public static void ScanMyFile(String strFilePath) {\n    // Tell the media scanner so it is available to the user.\n    MediaScannerConnection.scanFile(null, new String[] { strFilePath }, null, \n            new MediaScannerConnection.OnScanCompletedListener() {\n        public void onScanCompleted(String path, Uri uri) {\n\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17349276,"reputation":1,"user_id":12780695,"display_name":"stoneAge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649592207,"creation_date":1649592207,"answer_id":71816397,"question_id":13637352,"body_markdown":"I used your same answer slightly modified to scan just Music directory.\r\n\r\n```sendBroadcast(new Intent(Intent.ACTION_MEDIA_MOUNTED, Uri.parse(&quot;file://&quot;+Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MUSIC))));```\r\n\r\nSo I tried the following for your case and it worked, hopefully scanning all DCIM isn&#39;t too much.\r\n\r\n```sendBroadcast(new Intent(Intent.ACTION_MEDIA_MOUNTED, Uri.parse(&quot;file://&quot;+Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM))));```","title":"Invoking the MediaScanner in just a single directory (android)","body":"<p>I used your same answer slightly modified to scan just Music directory.</p>\n<p><code>sendBroadcast(new Intent(Intent.ACTION_MEDIA_MOUNTED, Uri.parse(&quot;file://&quot;+Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MUSIC))));</code></p>\n<p>So I tried the following for your case and it worked, hopefully scanning all DCIM isn't too much.</p>\n<p><code>sendBroadcast(new Intent(Intent.ACTION_MEDIA_MOUNTED, Uri.parse(&quot;file://&quot;+Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM))));</code></p>\n"}],"owner":{"account_id":1769408,"reputation":93,"user_id":1614553,"accept_rate":57,"display_name":"SJonesGSO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1198,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1649592207,"creation_date":1354236190,"question_id":13637352,"body_markdown":"I have a problem trying to get MediaScanner to scan just one directory.\r\n\r\nMy app takes pictures, and saves them to sd-card/DCIM/AppPictures/, and obviously I need to invoke the MediaScanner for them to show up in the gallery app.  The following code DOES work for my purpose:\r\n\r\n    sendBroadcast(new Intent(Intent.ACTION_MEDIA_MOUNTED, Uri.parse(&quot;file://&quot; + Environment.getExternalStorageDirectory())));\r\n\r\nBut it just seems so wasteful! I don&#39;t want to use resources trying to scan the whole SDcard when I know exactly where the files are.  I have tried the following too:\r\n\r\n    sendBroadcast(new Intent(Intent.ACTION_MEDIA_MOUNTED, Uri.parse(&quot;file://&quot; + Environment.getExternalStorageDirectory+&quot;/DCIM/AppPictures/&quot;)));\r\n\r\nBut this fails to yield any results.  Can someone PLEASE let me know the proper way to get this done?","title":"Invoking the MediaScanner in just a single directory (android)","body":"<p>I have a problem trying to get MediaScanner to scan just one directory.</p>\n\n<p>My app takes pictures, and saves them to sd-card/DCIM/AppPictures/, and obviously I need to invoke the MediaScanner for them to show up in the gallery app.  The following code DOES work for my purpose:</p>\n\n<pre><code>sendBroadcast(new Intent(Intent.ACTION_MEDIA_MOUNTED, Uri.parse(\"file://\" + Environment.getExternalStorageDirectory())));\n</code></pre>\n\n<p>But it just seems so wasteful! I don't want to use resources trying to scan the whole SDcard when I know exactly where the files are.  I have tried the following too:</p>\n\n<pre><code>sendBroadcast(new Intent(Intent.ACTION_MEDIA_MOUNTED, Uri.parse(\"file://\" + Environment.getExternalStorageDirectory+\"/DCIM/AppPictures/\")));\n</code></pre>\n\n<p>But this fails to yield any results.  Can someone PLEASE let me know the proper way to get this done?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8550,"page":1442,"page_size":100}
