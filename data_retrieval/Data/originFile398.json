{"items":[{"tags":["java","android-studio","kotlin","android-jetpack-compose"],"comments":[{"owner":{"account_id":3333705,"reputation":4400,"user_id":2801938,"display_name":"Jan B&#237;na"},"score":1,"creation_date":1685610152,"post_id":76379554,"comment_id":134685111,"body_markdown":"What&#39;s the usecase?","body":"What&#39;s the usecase?"},{"owner":{"account_id":269240,"reputation":5686,"user_id":558457,"accept_rate":62,"display_name":"Viacheslav Smityukh"},"score":0,"creation_date":1685615798,"post_id":76379554,"comment_id":134686321,"body_markdown":"You have no way to do it","body":"You have no way to do it"},{"owner":{"account_id":7665503,"reputation":1002,"user_id":5809339,"display_name":"kishan verma"},"score":0,"creation_date":1685616588,"post_id":76379554,"comment_id":134686484,"body_markdown":"@JanB&#237;na Hi,\n\nI am building an application that will show all the child element attached to decoreview.\n\nhere is screenshots https://prnt.sc/nbvVwCGMRn8B","body":"@JanB&#237;na Hi,  I am building an application that will show all the child element attached to decoreview.  here is screenshots <a href=\"https://prnt.sc/nbvVwCGMRn8B\" rel=\"nofollow noreferrer\">prnt.sc/nbvVwCGMRn8B</a>"},{"owner":{"account_id":7665503,"reputation":1002,"user_id":5809339,"display_name":"kishan verma"},"score":0,"creation_date":1685616621,"post_id":76379554,"comment_id":134686494,"body_markdown":"@ViacheslavSmityukh Hi,\nIs there any documents that says we can&#39;t get child of compose ?","body":"@ViacheslavSmityukh Hi, Is there any documents that says we can&#39;t get child of compose ?"}],"owner":{"account_id":7665503,"reputation":1002,"user_id":5809339,"display_name":"kishan verma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685629095,"creation_date":1685604271,"question_id":76379554,"body_markdown":"Android: How can I get all child elements of a jetpack compose view?\r\n\r\nIn case of xml i am able to find child view using these line of code.\r\n\r\n    public void getChild() {\r\n        View v = getwindow().getdecorView().getrootView();\r\n        if (v instanceof ViewGroup) {\r\n            ViewGroup g = (ViewGroup) v;\r\n\r\n            for (int i = 0; i &lt; g.getChildCount(); i++) {\r\n                Log.d(&quot;find: &quot;, g.getChildAt(i).getClass().getName());\r\n            }\r\n        }\r\n    }\r\n\r\ntried this but unable to get\r\n\r\nas i run this after `androidx.compose.ui.platform.AndroidComposeView` view i am getting nothing.\r\nPlease suggest some solution if anyone can solve this.","title":"How can I get all child elements of a Jetpack Compose view in Android using Kotlin or Java?","body":"<p>Android: How can I get all child elements of a jetpack compose view?</p>\n<p>In case of xml i am able to find child view using these line of code.</p>\n<pre><code>public void getChild() {\n    View v = getwindow().getdecorView().getrootView();\n    if (v instanceof ViewGroup) {\n        ViewGroup g = (ViewGroup) v;\n\n        for (int i = 0; i &lt; g.getChildCount(); i++) {\n            Log.d(&quot;find: &quot;, g.getChildAt(i).getClass().getName());\n        }\n    }\n}\n</code></pre>\n<p>tried this but unable to get</p>\n<p>as i run this after <code>androidx.compose.ui.platform.AndroidComposeView</code> view i am getting nothing.\nPlease suggest some solution if anyone can solve this.</p>\n"},{"tags":["java","json","spring-boot","jackson"],"comments":[{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":0,"creation_date":1685629782,"post_id":76378002,"comment_id":134689790,"body_markdown":"It allows your code to focus solely on the business/domain rather than these technicalities.","body":"It allows your code to focus solely on the business/domain rather than these technicalities."}],"answers":[{"tags":[],"owner":{"account_id":184203,"reputation":3430,"user_id":420096,"accept_rate":71,"display_name":"Sombriks"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685628747,"creation_date":1685628747,"answer_id":76382835,"question_id":76378002,"body_markdown":"To my understanding, you&#39;re talking about [spring web feature to deliver you an object from payload in a transparent way][1], right?\r\n\r\nIf yes, then the key benefit is not to have the serialization/deserialization code visible to you.\r\n\r\nOn the other hand, if you&#39;re not sure about the payload shape then it can be troublesome, since spring will convert it into Exceptions/BAD_REQUESTS that will happen even before it enters on your code.\r\n\r\nIn most cases it&#39;s ok, because the payload is expected to be known. Besides that, it&#39;s just a matter to keep doing the parse by yourself or the let the framework do the job for you.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/reference/6.1-SNAPSHOT/web/webmvc/mvc-controller/ann-methods/requestbody.html#page-title","title":"Is using Spring to bind JSON to POJOs more efficient than manual parsing with ObjectMapper?","body":"<p>To my understanding, you're talking about <a href=\"https://docs.spring.io/spring-framework/reference/6.1-SNAPSHOT/web/webmvc/mvc-controller/ann-methods/requestbody.html#page-title\" rel=\"nofollow noreferrer\">spring web feature to deliver you an object from payload in a transparent way</a>, right?</p>\n<p>If yes, then the key benefit is not to have the serialization/deserialization code visible to you.</p>\n<p>On the other hand, if you're not sure about the payload shape then it can be troublesome, since spring will convert it into Exceptions/BAD_REQUESTS that will happen even before it enters on your code.</p>\n<p>In most cases it's ok, because the payload is expected to be known. Besides that, it's just a matter to keep doing the parse by yourself or the let the framework do the job for you.</p>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685628927,"creation_date":1685628927,"answer_id":76382861,"question_id":76378002,"body_markdown":"Spring behind the scenes uses the Json-Jackson library (`ObjectMapper` class) to marshal data between POJOs and JSON. This could be configured so you can tell Spring to use any other library, bu by default it uses Jackson. So, Letting Spring do the conversion is just cleaner than you doing it yourself. As for efficiency you don&#39;t get much of the benefit either way, but still if you can let Spring do it it is cleaner and it is done uniformly. So, Unless you have a special requirement for your POJO conversion that doesn&#39;t come with Spring out of the box, I would side with your manager and say let Spring do it.","title":"Is using Spring to bind JSON to POJOs more efficient than manual parsing with ObjectMapper?","body":"<p>Spring behind the scenes uses the Json-Jackson library (<code>ObjectMapper</code> class) to marshal data between POJOs and JSON. This could be configured so you can tell Spring to use any other library, bu by default it uses Jackson. So, Letting Spring do the conversion is just cleaner than you doing it yourself. As for efficiency you don't get much of the benefit either way, but still if you can let Spring do it it is cleaner and it is done uniformly. So, Unless you have a special requirement for your POJO conversion that doesn't come with Spring out of the box, I would side with your manager and say let Spring do it.</p>\n"}],"owner":{"account_id":19237253,"reputation":11,"user_id":14057962,"display_name":"Juzu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1685628927,"creation_date":1685579180,"question_id":76378002,"body_markdown":"What are the differences of letting spring bind JSON objects to Custom Pojos vs retrieving the response as a JSON string and using the ObjectMapper to parse?\r\n\r\nWe had some legacy code that called an api and got a response as a JSON string. The code then went ahead and parsed the data into the new POJO objects. \r\n\r\nI was working on improving that area of the code and added some new functions, but I followed the legacy code to reuse the old helper functions to make things consistent. \r\n\r\nHowever, when I submitted it for review, my supervisor asked whether I can get it to skip the manual parsing, and get the JSON to deserialize into the POJO object. He said: &quot;...it would be nicer if you could....&quot; \r\n\r\nI got this completed, but I never heard why this is &quot;better&quot; than using the Object Mapper.\r\nHere is an example: (It&#39;s something like this, not exact, just basing this off memory\r\n\r\n- Legacy Code:\r\n\r\n```java\r\nString response = someCall();\r\n\r\nTry {\r\n  SomePojo object = ObjectMapper.parse(response ,SomePojo.class)\r\n  // Some helpers that extract a list of data from this object, error catching etc.\r\n  List&lt;SomeData&gt; data = object.getData().stream(//helpers to map etc);\r\n  return data;\r\n}\r\n```\r\n\r\n- Then the new version is:\r\n\r\n```java\r\ntry {\r\n SomePojo object = someCall()\r\n return object.getData()\r\n}\r\n```\r\n\r\nFrom what I was reading up, this method is still using the same Jackson objectmapper to parse, and it uses the getters and setters from the POJO object. \r\n\r\nOther than the fact that it looks cleaner, I couldn&#39;t really figure out why this is a better approach.\r\n\r\nAny thoughts?","title":"Is using Spring to bind JSON to POJOs more efficient than manual parsing with ObjectMapper?","body":"<p>What are the differences of letting spring bind JSON objects to Custom Pojos vs retrieving the response as a JSON string and using the ObjectMapper to parse?</p>\n<p>We had some legacy code that called an api and got a response as a JSON string. The code then went ahead and parsed the data into the new POJO objects.</p>\n<p>I was working on improving that area of the code and added some new functions, but I followed the legacy code to reuse the old helper functions to make things consistent.</p>\n<p>However, when I submitted it for review, my supervisor asked whether I can get it to skip the manual parsing, and get the JSON to deserialize into the POJO object. He said: &quot;...it would be nicer if you could....&quot;</p>\n<p>I got this completed, but I never heard why this is &quot;better&quot; than using the Object Mapper.\nHere is an example: (It's something like this, not exact, just basing this off memory</p>\n<ul>\n<li>Legacy Code:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>String response = someCall();\n\nTry {\n  SomePojo object = ObjectMapper.parse(response ,SomePojo.class)\n  // Some helpers that extract a list of data from this object, error catching etc.\n  List&lt;SomeData&gt; data = object.getData().stream(//helpers to map etc);\n  return data;\n}\n</code></pre>\n<ul>\n<li>Then the new version is:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n SomePojo object = someCall()\n return object.getData()\n}\n</code></pre>\n<p>From what I was reading up, this method is still using the same Jackson objectmapper to parse, and it uses the getters and setters from the POJO object.</p>\n<p>Other than the fact that it looks cleaner, I couldn't really figure out why this is a better approach.</p>\n<p>Any thoughts?</p>\n"},{"tags":["java","apache-poi","maven-assembly-plugin"],"owner":{"account_id":22049479,"reputation":41,"user_id":16313975,"display_name":"Drl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685628345,"creation_date":1685628345,"question_id":76382762,"body_markdown":"After upgrading to from  Apache Poi 4.1.2 to 5.2.3 I got this error: \r\n```\r\njava.io.IOException: Your InputStream was neither an OLE2 stream, nor an OOXML stream or you haven&#39;t provide\r\nthe poi-ooxml*.jar in the classpath/modulepath - FileMagic: OOXML, having providers:org.apache.poi.hssf.usermodel.HSSFWorkbookFactory@4681c175]\r\n```\r\nafter a search I found this can be fixed with maven build plugin  **maven-shade-plugin** by adding a transformer in pom.xml:\r\n```\r\n&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n```\r\nAs I am using **maven-assembly-plugin**, Is there any way that I can achieve this with **maven-assembly-plugin**\r\n\r\nThis is my **maven-assembly-plugin** configuration in pom.xml\r\n\r\n```\r\n\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.3.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;descriptorRefs&gt;\r\n\t\t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n\t\t\t\t\t&lt;/descriptorRefs&gt;\r\n\t\t\t\t\t&lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n\t\t\t\t\t&lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;test.poitest.Program&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;make-assembly&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n```\r\n","title":"Error after upgrading from Apache Poi 4.1.2 to 5.2.3","body":"<p>After upgrading to from  Apache Poi 4.1.2 to 5.2.3 I got this error:</p>\n<pre><code>java.io.IOException: Your InputStream was neither an OLE2 stream, nor an OOXML stream or you haven't provide\nthe poi-ooxml*.jar in the classpath/modulepath - FileMagic: OOXML, having providers:org.apache.poi.hssf.usermodel.HSSFWorkbookFactory@4681c175]\n</code></pre>\n<p>after a search I found this can be fixed with maven build plugin  <strong>maven-shade-plugin</strong> by adding a transformer in pom.xml:</p>\n<pre><code>&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\n</code></pre>\n<p>As I am using <strong>maven-assembly-plugin</strong>, Is there any way that I can achieve this with <strong>maven-assembly-plugin</strong></p>\n<p>This is my <strong>maven-assembly-plugin</strong> configuration in pom.xml</p>\n<pre><code>        &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;8&lt;/source&gt;\n                    &lt;target&gt;8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                    &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;test.poitest.Program&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"comments":[{"owner":{"display_name":"user3335083"},"score":0,"creation_date":1517404073,"post_id":48542883,"comment_id":84080804,"body_markdown":"just so you know, if you use the annotation RestController, it combines Controller &amp; ResponseBody so you can just use RestController &amp; omit ResponseBody.","body":"just so you know, if you use the annotation RestController, it combines Controller &amp; ResponseBody so you can just use RestController &amp; omit ResponseBody."},{"owner":{"account_id":4473237,"reputation":1497,"user_id":3638966,"accept_rate":58,"display_name":"diesieben07"},"score":0,"creation_date":1517404145,"post_id":48542883,"comment_id":84080851,"body_markdown":"Thanks, I know about that. However I was keeping this example to an absolute minimum to make it easier to figure out where this problem is coming from.","body":"Thanks, I know about that. However I was keeping this example to an absolute minimum to make it easier to figure out where this problem is coming from."},{"owner":{"display_name":"user3335083"},"score":0,"creation_date":1517404201,"post_id":48542883,"comment_id":84080890,"body_markdown":"well. 1 annotation instead of 2 would be minimal... just sayin&#39;","body":"well. 1 annotation instead of 2 would be minimal... just sayin&#39;"},{"owner":{"account_id":3162153,"reputation":3611,"user_id":2672973,"accept_rate":86,"display_name":"andolsi zied"},"score":0,"creation_date":1517404326,"post_id":48542883,"comment_id":84080974,"body_markdown":"why you instantiate ObjectMapper class?","body":"why you instantiate ObjectMapper class?"},{"owner":{"account_id":4473237,"reputation":1497,"user_id":3638966,"accept_rate":58,"display_name":"diesieben07"},"score":0,"creation_date":1517404465,"post_id":48542883,"comment_id":84081071,"body_markdown":"Because I want to configure the `ObjectMapper` by, for example, adding mixin annotations, etc.\nEven if I take the alternative approach of just registering a `com.fasterxml.jackson.databind.Module` as a Spring `@Component`, which will automatically register it to the standard `ObjectMapper`, only _one_ of the created `ObjectMapper` instances will have those modules.","body":"Because I want to configure the <code>ObjectMapper</code> by, for example, adding mixin annotations, etc. Even if I take the alternative approach of just registering a <code>com.fasterxml.jackson.databind.Module</code> as a Spring <code>@Component</code>, which will automatically register it to the standard <code>ObjectMapper</code>, only <i>one</i> of the created <code>ObjectMapper</code> instances will have those modules."},{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1517404684,"post_id":48542883,"comment_id":84081226,"body_markdown":"For customizing the objectmapper, don&#39;t create a new object Mapper in your application. Instead you can customize the objectmapper provided by spring. Check my answer here https://stackoverflow.com/questions/48519772/how-to-configure-jackson-in-spring-boot-application-without-overriding-springs-d/48519868#48519868","body":"For customizing the objectmapper, don&#39;t create a new object Mapper in your application. Instead you can customize the objectmapper provided by spring. Check my answer here <a href=\"https://stackoverflow.com/questions/48519772/how-to-configure-jackson-in-spring-boot-application-without-overriding-springs-d/48519868#48519868\" title=\"how to configure jackson in spring boot application without overriding springs d\">stackoverflow.com/questions/48519772/&hellip;</a>"},{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1517404703,"post_id":48542883,"comment_id":84081239,"body_markdown":"This way you can get rid of multiple Objectmapper issue","body":"This way you can get rid of multiple Objectmapper issue"},{"owner":{"account_id":4473237,"reputation":1497,"user_id":3638966,"accept_rate":58,"display_name":"diesieben07"},"score":0,"creation_date":1517404814,"post_id":48542883,"comment_id":84081313,"body_markdown":"No, I cannot. Even if I remove my custom `ObjectMapper` bean (no configuration at all except `@SpringBootApplication`) I still get _two_ `MappingJackson2HttpMessageConverter` instances. One of them uses the `ObjectMapper` that is available via Spring DI, which is therefor configurable, the other uses _some other mapper_, which I do not know where it comes from.","body":"No, I cannot. Even if I remove my custom <code>ObjectMapper</code> bean (no configuration at all except <code>@SpringBootApplication</code>) I still get <i>two</i> <code>MappingJackson2HttpMessageConverter</code> instances. One of them uses the <code>ObjectMapper</code> that is available via Spring DI, which is therefor configurable, the other uses <i>some other mapper</i>, which I do not know where it comes from."},{"owner":{"account_id":9608425,"reputation":1249,"user_id":7133682,"display_name":"Bogdan Oros"},"score":0,"creation_date":1517404823,"post_id":48542883,"comment_id":84081319,"body_markdown":"Hmm, the problem can be that `org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration` has a `@Primary @ConditionalOnMissingBean(ObjectMapper.class)` marked ObjectMapper. Check that your configuration is loaded before this autoconfiguration. If the name of second `ObjectMapper` bean is &#39;jacksonObjectMapper&#39; - load a configuration before autoconfiguration. Also that mapper is marked as `@Primary` so it is injected with DI by default.","body":"Hmm, the problem can be that <code>org.springframework.boot.autoconfigure.jackson.JacksonAutoCo&zwnj;&#8203;nfiguration</code> has a <code>@Primary @ConditionalOnMissingBean(ObjectMapper.class)</code> marked ObjectMapper. Check that your configuration is loaded before this autoconfiguration. If the name of second <code>ObjectMapper</code> bean is &#39;jacksonObjectMapper&#39; - load a configuration before autoconfiguration. Also that mapper is marked as <code>@Primary</code> so it is injected with DI by default."},{"owner":{"account_id":4473237,"reputation":1497,"user_id":3638966,"accept_rate":58,"display_name":"diesieben07"},"score":0,"creation_date":1517404971,"post_id":48542883,"comment_id":84081429,"body_markdown":"@BogdanOros Does that apply even if my configuration is completely empty (see above)? How can I load my configuration before said autoconfiguration?","body":"@BogdanOros Does that apply even if my configuration is completely empty (see above)? How can I load my configuration before said autoconfiguration?"},{"owner":{"account_id":9608425,"reputation":1249,"user_id":7133682,"display_name":"Bogdan Oros"},"score":0,"creation_date":1517405136,"post_id":48542883,"comment_id":84081538,"body_markdown":"Try to create a configuration class with that bean with `@Order(Ordered.HIGHEST_PRECEDENCE)` annotation.","body":"Try to create a configuration class with that bean with <code>@Order(Ordered.HIGHEST_PRECEDENCE)</code> annotation."},{"owner":{"account_id":4473237,"reputation":1497,"user_id":3638966,"accept_rate":58,"display_name":"diesieben07"},"score":0,"creation_date":1517405252,"post_id":48542883,"comment_id":84081612,"body_markdown":"@BogdanOros That made absolutely no difference. I still get the two converters.","body":"@BogdanOros That made absolutely no difference. I still get the two converters."},{"owner":{"account_id":9608425,"reputation":1249,"user_id":7133682,"display_name":"Bogdan Oros"},"score":0,"creation_date":1517405554,"post_id":48542883,"comment_id":84081828,"body_markdown":"Try to mark you `ObjectMapper` with `@Primary` annotation and check which one is injected by DI. Also can you paste the second mappers name?","body":"Try to mark you <code>ObjectMapper</code> with <code>@Primary</code> annotation and check which one is injected by DI. Also can you paste the second mappers name?"},{"owner":{"account_id":4473237,"reputation":1497,"user_id":3638966,"accept_rate":58,"display_name":"diesieben07"},"score":0,"creation_date":1517405986,"post_id":48542883,"comment_id":84082150,"body_markdown":"Please read the edit to my question. This even happens if I do not make my own `ObjectMapper` at all!\nI also verified using `ApplicationContext.getBeansOfType`: There is only _one_ `ObjectMapper` in the IoC container (whether created by me or spring boot autoconfiguration). But there are _still_ two `MappingJackson2HttpMessageConverter` instances in the return value mapper.","body":"Please read the edit to my question. This even happens if I do not make my own <code>ObjectMapper</code> at all! I also verified using <code>ApplicationContext.getBeansOfType</code>: There is only <i>one</i> <code>ObjectMapper</code> in the IoC container (whether created by me or spring boot autoconfiguration). But there are <i>still</i> two <code>MappingJackson2HttpMessageConverter</code> instances in the return value mapper."},{"owner":{"account_id":9608425,"reputation":1249,"user_id":7133682,"display_name":"Bogdan Oros"},"score":0,"creation_date":1517406022,"post_id":48542883,"comment_id":84082176,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/164267/discussion-between-bogdan-oros-and-diesieben07).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/164267/discussion-between-bogdan-oros-and-diesieben07\">continue this discussion in chat</a>."}],"answers":[{"comments":[{"owner":{"account_id":3920223,"reputation":5600,"user_id":3242721,"accept_rate":86,"display_name":"Michal Hosala"},"score":0,"creation_date":1675697103,"post_id":48545620,"comment_id":132979413,"body_markdown":"So what was the misconfiguration on your side...? We are likely facing similar problem, but no solution is provided here :)","body":"So what was the misconfiguration on your side...? We are likely facing similar problem, but no solution is provided here :)"}],"tags":[],"owner":{"account_id":4473237,"reputation":1497,"user_id":3638966,"accept_rate":58,"display_name":"diesieben07"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1517418113,"creation_date":1517412174,"answer_id":48545620,"question_id":48542883,"body_markdown":"After further investigation I have found the issue and it was simply an issue with my Jackson configuration not working as I thought it would.\r\nHaving two `MappingJackson2HttpMessageConverter` is not a problem.","title":"Spring Boot configures two MappingJackson2HttpMessageConverter instances","body":"<p>After further investigation I have found the issue and it was simply an issue with my Jackson configuration not working as I thought it would.\nHaving two <code>MappingJackson2HttpMessageConverter</code> is not a problem.</p>\n"},{"tags":[],"owner":{"account_id":4550242,"reputation":439,"user_id":3695718,"display_name":"zolee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685628148,"creation_date":1685628148,"answer_id":76382731,"question_id":48542883,"body_markdown":"The reason of two jackson converters with spring boot and web mvc:\r\n\r\n`HttpMessageConvertersAutoConfiguration` creates the `stringHttpMessageConverter` and a `mappingJackson2HttpMessageConverter`  (with configurable object mapper) beans.\r\n`HttpMessageConvertersAutoConfiguration` also creates a `HttpMessageConverters` bean and takes the previously mentioned converters as a constructor param with the name &quot;additionalConverters&quot;.  The used constructor has an add default converters flag with true value as well. It gets the default converters by instantiating a `WebMvcConfigurationSupport` class and calling its `getDefaultConverters` method.\r\nThat method creates a second `mappingJackson2HttpMessageConverter` (with a default, non configurable object mapper).\r\n`HttpMessageConverters` concats the converters passed through the constructor with default ones from `WebMvcConfigurationSupport` instance.\r\n\r\nThe `HttpMessageConverters` containing the duplicate json converter is used in example by `RestTemplateAutoConfiguration` hence by `RestTemplateBuilder`.","title":"Spring Boot configures two MappingJackson2HttpMessageConverter instances","body":"<p>The reason of two jackson converters with spring boot and web mvc:</p>\n<p><code>HttpMessageConvertersAutoConfiguration</code> creates the <code>stringHttpMessageConverter</code> and a <code>mappingJackson2HttpMessageConverter</code>  (with configurable object mapper) beans.\n<code>HttpMessageConvertersAutoConfiguration</code> also creates a <code>HttpMessageConverters</code> bean and takes the previously mentioned converters as a constructor param with the name &quot;additionalConverters&quot;.  The used constructor has an add default converters flag with true value as well. It gets the default converters by instantiating a <code>WebMvcConfigurationSupport</code> class and calling its <code>getDefaultConverters</code> method.\nThat method creates a second <code>mappingJackson2HttpMessageConverter</code> (with a default, non configurable object mapper).\n<code>HttpMessageConverters</code> concats the converters passed through the constructor with default ones from <code>WebMvcConfigurationSupport</code> instance.</p>\n<p>The <code>HttpMessageConverters</code> containing the duplicate json converter is used in example by <code>RestTemplateAutoConfiguration</code> hence by <code>RestTemplateBuilder</code>.</p>\n"}],"owner":{"account_id":4473237,"reputation":1497,"user_id":3638966,"accept_rate":58,"display_name":"diesieben07"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1265,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48545620,"answer_count":2,"score":2,"last_activity_date":1685628148,"creation_date":1517403827,"question_id":48542883,"body_markdown":"I am having a problem with a newly created Spring Boot application. For some reason _something_ is adding _two_ `MappingJackson2HttpMessageConverter` instances to the return value processing of Spring Web MVC (I found this out using the debugger).\r\nOne of them uses the `ObjectMapper` instance I create via a `@Bean` method in my configuration class, the other one uses some random other instance. This 2nd `ObjectMapper` is therefor completely unconfigured and my `ObjectMapper` configurations are not applied to the JSON serialization used by `@ResponseBody`.\r\n\r\nHow can I stop this duplication? You can find all of my code below.\r\n\r\n*Edit:* This problem is _not_ related to my custom `ObjectMapper` bean. Even if I remove it (completely empty configuration except `@SpringBootApplication`), I still get _two_ `MappingJackson2HttpMessageConverter` instances, one of which uses a completely unconfigured and unreachable (as far as I can tell) `ObjectMapper`.\r\n\r\n*Edit&#178;:* This is not an issue of duplicate beans. `ApplicationContext.getBeansOfType` returns only _one_ instance for both `ObjectMapper` and `MappingJackson2HttpMessageConverter` no matter if I create the `ObjectMapper` myself or let it be created by spring autoconfiguration.\r\n\r\n**build.gradle:**\r\n\r\n    buildscript {\r\n        ext.springBootVersion = &#39;2.0.0.RC1&#39;\r\n\r\n        repositories {\r\n            mavenCentral()\r\n            maven { url &#39;http://repo.spring.io/snapshot&#39; }\r\n            maven { url &#39;http://repo.spring.io/milestone&#39; }\r\n            maven { url &#39;http://repo.spring.io/libs-snapshot&#39; }\r\n        }\r\n        dependencies {\r\n            classpath &quot;org.springframework.boot:spring-boot-gradle-plugin:$springBootVersion&quot;\r\n        }\r\n    }\r\n\r\n    group &#39;de.takeweiland.springtest&#39;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;org.springframework.boot&#39;\r\n    apply plugin: &#39;io.spring.dependency-management&#39;\r\n\r\n    repositories {\r\n        mavenCentral()\r\n        maven { url &#39;http://repo.spring.io/snapshot&#39; }\r\n        maven { url &#39;http://repo.spring.io/milestone&#39; }\r\n        maven { url &#39;http://repo.spring.io/libs-snapshot&#39; }\r\n    }\r\n\r\n    dependencies {\r\n        compile &quot;org.springframework.boot:spring-boot-starter-web&quot;\r\n    }\r\n\r\n**Configuration class**:\r\n\r\n    package main;\r\n    \r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.Bean;\r\n    \r\n    @SpringBootApplication\r\n    public class Main {\r\n    \r\n        @Bean\r\n        public ObjectMapper createObjectMapper() {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            return mapper;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Main.class);\r\n        }\r\n    }\r\n\r\n**Controller:**\r\n\r\n    package main;\r\n    \r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    \r\n    @Controller\r\n    public class MyController {\r\n    \r\n        @GetMapping(&quot;**&quot;)\r\n        @ResponseBody\r\n        public String test() {\r\n            return &quot;Hello World&quot;;\r\n        }\r\n    }","title":"Spring Boot configures two MappingJackson2HttpMessageConverter instances","body":"<p>I am having a problem with a newly created Spring Boot application. For some reason <em>something</em> is adding <em>two</em> <code>MappingJackson2HttpMessageConverter</code> instances to the return value processing of Spring Web MVC (I found this out using the debugger).\nOne of them uses the <code>ObjectMapper</code> instance I create via a <code>@Bean</code> method in my configuration class, the other one uses some random other instance. This 2nd <code>ObjectMapper</code> is therefor completely unconfigured and my <code>ObjectMapper</code> configurations are not applied to the JSON serialization used by <code>@ResponseBody</code>.</p>\n\n<p>How can I stop this duplication? You can find all of my code below.</p>\n\n<p><em>Edit:</em> This problem is <em>not</em> related to my custom <code>ObjectMapper</code> bean. Even if I remove it (completely empty configuration except <code>@SpringBootApplication</code>), I still get <em>two</em> <code>MappingJackson2HttpMessageConverter</code> instances, one of which uses a completely unconfigured and unreachable (as far as I can tell) <code>ObjectMapper</code>.</p>\n\n<p><em>EditÂ²:</em> This is not an issue of duplicate beans. <code>ApplicationContext.getBeansOfType</code> returns only <em>one</em> instance for both <code>ObjectMapper</code> and <code>MappingJackson2HttpMessageConverter</code> no matter if I create the <code>ObjectMapper</code> myself or let it be created by spring autoconfiguration.</p>\n\n<p><strong>build.gradle:</strong></p>\n\n<pre><code>buildscript {\n    ext.springBootVersion = '2.0.0.RC1'\n\n    repositories {\n        mavenCentral()\n        maven { url 'http://repo.spring.io/snapshot' }\n        maven { url 'http://repo.spring.io/milestone' }\n        maven { url 'http://repo.spring.io/libs-snapshot' }\n    }\n    dependencies {\n        classpath \"org.springframework.boot:spring-boot-gradle-plugin:$springBootVersion\"\n    }\n}\n\ngroup 'de.takeweiland.springtest'\nversion '1.0-SNAPSHOT'\n\napply plugin: 'java'\napply plugin: 'org.springframework.boot'\napply plugin: 'io.spring.dependency-management'\n\nrepositories {\n    mavenCentral()\n    maven { url 'http://repo.spring.io/snapshot' }\n    maven { url 'http://repo.spring.io/milestone' }\n    maven { url 'http://repo.spring.io/libs-snapshot' }\n}\n\ndependencies {\n    compile \"org.springframework.boot:spring-boot-starter-web\"\n}\n</code></pre>\n\n<p><strong>Configuration class</strong>:</p>\n\n<pre><code>package main;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication\npublic class Main {\n\n    @Bean\n    public ObjectMapper createObjectMapper() {\n        ObjectMapper mapper = new ObjectMapper();\n        return mapper;\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(Main.class);\n    }\n}\n</code></pre>\n\n<p><strong>Controller:</strong></p>\n\n<pre><code>package main;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\n@Controller\npublic class MyController {\n\n    @GetMapping(\"**\")\n    @ResponseBody\n    public String test() {\n        return \"Hello World\";\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","viewmodel"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1685628359,"post_id":76381483,"comment_id":134689395,"body_markdown":"You&#39;re starting to run into the unnecessary complexity that happens when you try to use BaseActivities. Someone below is even suggesting you compound the complexity by introducing BaseViewModels. Read the links here for some explanations of why I think this should be avoided entirely. Composition over inheritance. https://stackoverflow.com/a/75007744/506796","body":"You&#39;re starting to run into the unnecessary complexity that happens when you try to use BaseActivities. Someone below is even suggesting you compound the complexity by introducing BaseViewModels. Read the links here for some explanations of why I think this should be avoided entirely. Composition over inheritance. <a href=\"https://stackoverflow.com/a/75007744/506796\">stackoverflow.com/a/75007744/506796</a>"},{"owner":{"account_id":2403408,"reputation":1317,"user_id":2100558,"accept_rate":51,"display_name":"Sk1X1"},"score":0,"creation_date":1685953987,"post_id":76381483,"comment_id":134727477,"body_markdown":"Thanks for comment. Composition is nice idea, but I don&#39;t think I will use it in this scenario. This base class is doing exactly what I need (just load some data and show the list of it) so rewritting to composion what probably does not add any benefits right now. But I will this for other parts of my app.","body":"Thanks for comment. Composition is nice idea, but I don&#39;t think I will use it in this scenario. This base class is doing exactly what I need (just load some data and show the list of it) so rewritting to composion what probably does not add any benefits right now. But I will this for other parts of my app."}],"answers":[{"tags":[],"owner":{"account_id":4717273,"reputation":956,"user_id":3816129,"display_name":"Dmytro Batyuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685622356,"creation_date":1685622356,"answer_id":76381844,"question_id":76381483,"body_markdown":"Introduce the base view model\r\n```\r\nabstract class BaseActivityViewModel: ViewModel() {\r\n abstract fun listDocQueue()\r\n}\r\n```\r\n\r\n\r\nYour base activity class could be generic and have a method to create a view model instance:\r\n```\r\npublic abstract class BaseActivity&lt;ViewModelT: BaseActivityViewModel&gt;: Activity {\r\n  protected open fun getViewModelFactory(): ViewModelProvider.Factory? = null\r\n\r\n  protected val viewModel: ViewModelT by lazy {\r\n      val viewModelFactory = getViewModelFactory()\r\n      if(viewModelFactory != null) {\r\n         ViewModelProvider(this, viewModelFactory).get(viewModelClass)\r\n      } else {\r\n         ViewModelProvider(this).get(viewModelClass)\r\n      }\r\n  }\r\n}\r\n\r\n```\r\n\r\nThen define your ViewModels and Activities based on your needs\r\n\r\n```\r\nclass ActivityViewModel1 : BaseActivityViewModel() {\r\n   override fun listDocQueue() { ... }\r\n}\r\n\r\nclass ActivityViewModel2 : BaseActivityViewModel() {\r\n   override fun listDocQueue() { ... }\r\n}\r\n```\r\n\r\n```\r\nclass Activity1: class BaseActivity&lt;ActivityViewModel1&gt;() {\r\n   override onCreate(...) {\r\n      onCreate(...)\r\n      viewModel.listDocQueue()\r\n}\r\n\r\nclass Activity2: class BaseActivity&lt;ActivityViewModel2&gt;() {\r\n   override onCreate(...) {\r\n      onCreate(...)\r\n      viewModel.listDocQueue()\r\n}\r\n```\r\n\r\nAlso make sure you have provided ViewModelFactory in case you need that.","title":"Correct way to use ViewModel from child activity","body":"<p>Introduce the base view model</p>\n<pre><code>abstract class BaseActivityViewModel: ViewModel() {\n abstract fun listDocQueue()\n}\n</code></pre>\n<p>Your base activity class could be generic and have a method to create a view model instance:</p>\n<pre><code>public abstract class BaseActivity&lt;ViewModelT: BaseActivityViewModel&gt;: Activity {\n  protected open fun getViewModelFactory(): ViewModelProvider.Factory? = null\n\n  protected val viewModel: ViewModelT by lazy {\n      val viewModelFactory = getViewModelFactory()\n      if(viewModelFactory != null) {\n         ViewModelProvider(this, viewModelFactory).get(viewModelClass)\n      } else {\n         ViewModelProvider(this).get(viewModelClass)\n      }\n  }\n}\n\n</code></pre>\n<p>Then define your ViewModels and Activities based on your needs</p>\n<pre><code>class ActivityViewModel1 : BaseActivityViewModel() {\n   override fun listDocQueue() { ... }\n}\n\nclass ActivityViewModel2 : BaseActivityViewModel() {\n   override fun listDocQueue() { ... }\n}\n</code></pre>\n<pre><code>class Activity1: class BaseActivity&lt;ActivityViewModel1&gt;() {\n   override onCreate(...) {\n      onCreate(...)\n      viewModel.listDocQueue()\n}\n\nclass Activity2: class BaseActivity&lt;ActivityViewModel2&gt;() {\n   override onCreate(...) {\n      onCreate(...)\n      viewModel.listDocQueue()\n}\n</code></pre>\n<p>Also make sure you have provided ViewModelFactory in case you need that.</p>\n"},{"tags":[],"owner":{"account_id":15602203,"reputation":149,"user_id":11256018,"display_name":"IbrahimTG99"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685627770,"creation_date":1685626957,"answer_id":76382533,"question_id":76381483,"body_markdown":"According to the latest architecture guidelines you should be passing usecases to the viewModel, instead of exposing repository and each Use-case handles a specific task. it makes testing and maintaining code very easy. I recommend you use some kind of dependency inject as-well I personally use Dagger-Hilt. it makes it very easy. \r\n\r\nRepository\r\n\r\n    interface Repository {}\r\n\r\nRepositoryimpl\r\n\r\n    class RepositoryImpl @Inject constructor(\r\n    private val Dao: Dao) : Repository {}\r\n\r\nUseCase\r\n\r\n    class getWordFromRep(\r\n    private val repository: Repository) {\r\n        suspend operator fun invoke(){\r\n          repository.getWord()\r\n       } \r\n    }\r\n\r\nThan in ViewModel\r\n\r\n    class HomeViewModel @Inject constructor(\r\n         private val getWord: GetWordFromRep\r\n       ) : ViewModel(){\r\n         fun getWord() = getword()\r\n    }\r\n\r\nAnd for Di you will be making a module\r\n\r\n    @Module\r\n    @InstallIn(SingletonComponent::class)\r\n    object AppModule {\r\n    @Provides\r\n    @Singleton\r\n    fun provideGetWordFromRep(repository: RepositoryImpl) = GetWordFromRep(repository)\r\n    }\r\n\r\nI recommend you watch the use-case video by [Philipp Lackner][1] It really helped me understand it. \r\n\r\nAlso I recommend using Flows and states instead of livedata it really makes getting data in views easier and makes the code much cleaner.\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=ufq3LJ-5P6s","title":"Correct way to use ViewModel from child activity","body":"<p>According to the latest architecture guidelines you should be passing usecases to the viewModel, instead of exposing repository and each Use-case handles a specific task. it makes testing and maintaining code very easy. I recommend you use some kind of dependency inject as-well I personally use Dagger-Hilt. it makes it very easy.</p>\n<p>Repository</p>\n<pre><code>interface Repository {}\n</code></pre>\n<p>Repositoryimpl</p>\n<pre><code>class RepositoryImpl @Inject constructor(\nprivate val Dao: Dao) : Repository {}\n</code></pre>\n<p>UseCase</p>\n<pre><code>class getWordFromRep(\nprivate val repository: Repository) {\n    suspend operator fun invoke(){\n      repository.getWord()\n   } \n}\n</code></pre>\n<p>Than in ViewModel</p>\n<pre><code>class HomeViewModel @Inject constructor(\n     private val getWord: GetWordFromRep\n   ) : ViewModel(){\n     fun getWord() = getword()\n}\n</code></pre>\n<p>And for Di you will be making a module</p>\n<pre><code>@Module\n@InstallIn(SingletonComponent::class)\nobject AppModule {\n@Provides\n@Singleton\nfun provideGetWordFromRep(repository: RepositoryImpl) = GetWordFromRep(repository)\n}\n</code></pre>\n<p>I recommend you watch the use-case video by <a href=\"https://www.youtube.com/watch?v=ufq3LJ-5P6s\" rel=\"nofollow noreferrer\">Philipp Lackner</a> It really helped me understand it.</p>\n<p>Also I recommend using Flows and states instead of livedata it really makes getting data in views easier and makes the code much cleaner.</p>\n"}],"owner":{"account_id":2403408,"reputation":1317,"user_id":2100558,"accept_rate":51,"display_name":"Sk1X1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685627770,"creation_date":1685619599,"question_id":76381483,"body_markdown":"My application have abstract activity class (`BaseQueueActivity`) implementing most of activity needed functionality. Class is also using one `ViewModel` class and one repository class. But now I need to create child activity which will call another API function (call `listAnotherDocQueue` instead of `listDocQueue`). What is the correct way to do it? Should I create new child `ViewModel` and override the `loadDocuments` function? I need to preserve other code that could be in *master* `ViewModel`. \r\n\r\n**Base activity**\r\n\r\n    public abstract class BaseQueueActivity{\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            viewModel = new ViewModelProvider(this, new QueueViewModelFactory(documentTypes)).get(QueueViewModel.class);\r\n    \r\n            viewModel.documents.observe(\r\n                    this,\r\n                    response -&gt; {\r\n                        showDocuments();\r\n                    }\r\n            );\r\n        }\r\n    }\r\n\r\n**ViewModel**\r\n\r\n    public class QueueViewModel extends ViewModel {\r\n        final private QueueRepository repository = new QueueRepository();\r\n    \r\n        private final MutableLiveData&lt;ArrayList&lt;Models.QueueDoc&gt;&gt; _documents = new MutableLiveData&lt;&gt;();\r\n        public LiveData&lt;ArrayList&lt;Models.QueueDoc&gt;&gt; documents = _documents;\r\n    \r\n        public QueueViewModel() {\r\n        }\r\n    \r\n        public void loadDocuments() {\r\n            loadDocuments(&quot;&quot;);\r\n        }\r\n        public void loadDocuments(String search) {\r\n            Single&lt;ArrayList&lt;Models.QueueDoc&gt;&gt; response = repository.loadDocuments(_documentTypes.getValue(), search);\r\n            Disposable disposable = response\r\n                .subscribeOn(Schedulers.io())\r\n                .subscribe(\r\n                    it -&gt; {\r\n                        _documents.postValue(it);\r\n                    },\r\n                    it -&gt; {\r\n                        // some error handling\r\n                    }\r\n                );\r\n        }\r\n    }\r\n\r\n**Repository**\r\n\r\n    class QueueRepository {\r\n        fun loadDocuments(documentTypes: ArrayList&lt;DocumentType&gt;, search: String) {\r\n            return RESTConnection.getService().listDocQueue(documentTypesString, search)\r\n        }\r\n    }\r\n\r\n**Retrofit API**\r\n\r\n    @GET(&quot;listDocQueue/{DocType}/{Search}&quot;)\r\n    Single&lt;ArrayList&lt;Models.QueueDoc&gt;&gt; listDocQueue(\r\n            @Path(&quot;DocType&quot;) String DocType,\r\n            @Path(&quot;Search&quot;) String search);\r\n    \r\n    @GET(&quot;listAnotherDocQueue/{DocType}/{Search}&quot;)\r\n    Single&lt;ArrayList&lt;Models.QueueDoc&gt;&gt; listDocQueue(\r\n            @Path(&quot;DocType&quot;) String DocType,\r\n            @Path(&quot;Search&quot;) String search);","title":"Correct way to use ViewModel from child activity","body":"<p>My application have abstract activity class (<code>BaseQueueActivity</code>) implementing most of activity needed functionality. Class is also using one <code>ViewModel</code> class and one repository class. But now I need to create child activity which will call another API function (call <code>listAnotherDocQueue</code> instead of <code>listDocQueue</code>). What is the correct way to do it? Should I create new child <code>ViewModel</code> and override the <code>loadDocuments</code> function? I need to preserve other code that could be in <em>master</em> <code>ViewModel</code>.</p>\n<p><strong>Base activity</strong></p>\n<pre><code>public abstract class BaseQueueActivity{\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        viewModel = new ViewModelProvider(this, new QueueViewModelFactory(documentTypes)).get(QueueViewModel.class);\n\n        viewModel.documents.observe(\n                this,\n                response -&gt; {\n                    showDocuments();\n                }\n        );\n    }\n}\n</code></pre>\n<p><strong>ViewModel</strong></p>\n<pre><code>public class QueueViewModel extends ViewModel {\n    final private QueueRepository repository = new QueueRepository();\n\n    private final MutableLiveData&lt;ArrayList&lt;Models.QueueDoc&gt;&gt; _documents = new MutableLiveData&lt;&gt;();\n    public LiveData&lt;ArrayList&lt;Models.QueueDoc&gt;&gt; documents = _documents;\n\n    public QueueViewModel() {\n    }\n\n    public void loadDocuments() {\n        loadDocuments(&quot;&quot;);\n    }\n    public void loadDocuments(String search) {\n        Single&lt;ArrayList&lt;Models.QueueDoc&gt;&gt; response = repository.loadDocuments(_documentTypes.getValue(), search);\n        Disposable disposable = response\n            .subscribeOn(Schedulers.io())\n            .subscribe(\n                it -&gt; {\n                    _documents.postValue(it);\n                },\n                it -&gt; {\n                    // some error handling\n                }\n            );\n    }\n}\n</code></pre>\n<p><strong>Repository</strong></p>\n<pre><code>class QueueRepository {\n    fun loadDocuments(documentTypes: ArrayList&lt;DocumentType&gt;, search: String) {\n        return RESTConnection.getService().listDocQueue(documentTypesString, search)\n    }\n}\n</code></pre>\n<p><strong>Retrofit API</strong></p>\n<pre><code>@GET(&quot;listDocQueue/{DocType}/{Search}&quot;)\nSingle&lt;ArrayList&lt;Models.QueueDoc&gt;&gt; listDocQueue(\n        @Path(&quot;DocType&quot;) String DocType,\n        @Path(&quot;Search&quot;) String search);\n\n@GET(&quot;listAnotherDocQueue/{DocType}/{Search}&quot;)\nSingle&lt;ArrayList&lt;Models.QueueDoc&gt;&gt; listDocQueue(\n        @Path(&quot;DocType&quot;) String DocType,\n        @Path(&quot;Search&quot;) String search);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1685584771,"post_id":76378207,"comment_id":134681831,"body_markdown":"`throw new IllegalArgumentException(&quot;username does not exist. &quot;);` is been called from within the `for-loop` looping over the customer information","body":"<code>throw new IllegalArgumentException(&quot;username does not exist. &quot;);</code> is been called from within the <code>for-loop</code> looping over the customer information"}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685627602,"creation_date":1685586252,"answer_id":76378304,"question_id":76378207,"body_markdown":"&gt; How do I make it do the for loop checks every user then throws the exceptions?\r\n\r\nMaybe something like:\r\n\r\n    //  Find the Customer\r\n    \r\n    Customer customerInUse = null;\r\n    \r\n    for (Customer customerU : carDealership.getCustomerList()) {\r\n        if (customerU.getUserName().equals(userNameAttempt)) {\r\n             customerInUse = customerU;\r\n             break;\r\n        }\r\n     }\r\n    \r\n    if (customerInUse == null)\r\n       // throw the Exception\r\n    \r\n    //  prompt and validate the password\r\n    \r\n    System.out.println(&quot;Enter password:&quot;);\r\n    passWordAttempt = scnr.next();\r\n    \r\n    if (!customerInUse.getPassWord().equals(passWordAttempt))\r\n        // throw the Exception\r\n    \r\n    //  valid sign in, display the appropriate menu\r\n    \r\n    if (customerInUse instanceof Admin)\r\n        adminMainMenu(carDealership, scnr, customerInUse, customerList, carInUse);\r\n    else    \r\n        customerMainMenu(carDealership, scnr, customerInUse, customerList, carInUse);\r\n       \r\n\r\n ","title":"Why does my sign in function only work for one user in my CSV file with usernames and passwords?","body":"<blockquote>\n<p>How do I make it do the for loop checks every user then throws the exceptions?</p>\n</blockquote>\n<p>Maybe something like:</p>\n<pre><code>//  Find the Customer\n\nCustomer customerInUse = null;\n\nfor (Customer customerU : carDealership.getCustomerList()) {\n    if (customerU.getUserName().equals(userNameAttempt)) {\n         customerInUse = customerU;\n         break;\n    }\n }\n\nif (customerInUse == null)\n   // throw the Exception\n\n//  prompt and validate the password\n\nSystem.out.println(&quot;Enter password:&quot;);\npassWordAttempt = scnr.next();\n\nif (!customerInUse.getPassWord().equals(passWordAttempt))\n    // throw the Exception\n\n//  valid sign in, display the appropriate menu\n\nif (customerInUse instanceof Admin)\n    adminMainMenu(carDealership, scnr, customerInUse, customerList, carInUse);\nelse    \n    customerMainMenu(carDealership, scnr, customerInUse, customerList, carInUse);\n   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685593681,"creation_date":1685592752,"answer_id":76378610,"question_id":76378207,"body_markdown":"There are a few thing to consider with your code.\r\n\r\nHere is the _customerU_ _for-loop_.\r\n\r\n```java\r\nfor (Customer customerU : carDealership.getCustomerList()) {\r\n    if (customerU.getUserName().equals(userNameAttempt)) {\r\n        System.out.println(&quot;Enter password:&quot;);\r\n        passWordAttempt = scnr.next();\r\n        if (customerU.getPassWord().equals(passWordAttempt)) {\r\n            System.out.println(&quot;Welcome &quot; + customerU.getFullName());\r\n            if (customerU instanceof Admin) {\r\n                Customer customerInUse = customerU;\r\n                adminMainMenu(carDealership, scnr, customerInUse, customerList, carInUse);\r\n            }\r\n            Customer customerInUse = customerU;\r\n            customerMainMenu(carDealership, scnr, customerInUse, customerList, carInUse);\r\n        }\r\n        throw new IllegalArgumentException(&quot;password is incorrect. &quot;);\r\n    }\r\n    throw new IllegalArgumentException(&quot;username does not exist. &quot;);\r\n}\r\n```\r\n\r\nYour first _if-conitional_ statement is the following.\r\n\r\n```java\r\nif (customerU.getUserName().equals(userNameAttempt))\r\n```\r\n\r\nWhich, if not met, will skip directly to your throw for _IllegalArgumentException_.  \r\nAnd, at that rate, even if the _if-conditional_ was met, upon exit of the code block, the _exception_ would be thrown.\r\n\r\n```java\r\nthrow new IllegalArgumentException(&quot;username does not exist. &quot;);\r\n```\r\n\r\nThus, if the first _Customer_ within _carDealership.getCustomerList()_ does not match _userNameAttempt_, the _exception_ will be thrown.\r\n\r\nI recommend re-ordering your code, as follows.\r\n\r\nWe&#39;ll need to capture whether the _userNameAttempt_ was found or not.  \r\nSo, I&#39;ve added a _boolean_ value, named _&quot;found&quot;_, that we&#39;ll assign as _true_ when the _if-conditional_ is met.\r\n\r\nI then placed it&#39;s accompanying _IllegalArgumentException_ outside of the _for-loop_, under the condition that _found == false_&amp;mdash; which can also be written as, _!found_.\r\n\r\nFurthermore, I inverted the _if-conditional_ for the _passWordAttempt_ evaluation.  \r\nThus, having it throw the _exception_ if the password is not a match.  \r\nTherefore, any code after would be under the condition that the password _was_ a match.\r\n\r\nI then placed a _break_ keyword within the conditional scope, to exit the _for-loop_&amp;mdash;since subsequent iterations would be erroneous.\r\n\r\nAnd, finally, you need to create a distinction between whether _customerU_ is an instance of _Admin_ or not.  \r\nSo, the _if-conditional_ here now includes an _else_ block.\r\n\r\nFeel free to provide feedback, as I cannot run the code.\r\n\r\n```java\r\nboolean found = false;\r\nfor (Customer customerU : carDealership.getCustomerList()) {\r\n    if (customerU.getUserName().equals(userNameAttempt)) {\r\n        found = true;\r\n        System.out.println(&quot;Enter password:&quot;);\r\n        passWordAttempt = scnr.next();\r\n        if (!customerU.getPassWord().equals(passWordAttempt))\r\n            throw new IllegalArgumentException(&quot;password is incorrect. &quot;);\r\n        System.out.println(&quot;Welcome &quot; + customerU.getFullName());\r\n        Customer customerInUse = customerU;\r\n        if (customerU instanceof Admin) {\r\n            adminMainMenu(carDealership, scnr, customerInUse, customerList, carInUse);\r\n        } else {\r\n            customerMainMenu(carDealership, scnr, customerInUse, customerList, carInUse);\r\n        }\r\n        break;\r\n    }\r\n}\r\nif (!found) throw new IllegalArgumentException(&quot;username does not exist. &quot;);\r\n```","title":"Why does my sign in function only work for one user in my CSV file with usernames and passwords?","body":"<p>There are a few thing to consider with your code.</p>\n<p>Here is the <em>customerU</em> <em>for-loop</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (Customer customerU : carDealership.getCustomerList()) {\n    if (customerU.getUserName().equals(userNameAttempt)) {\n        System.out.println(&quot;Enter password:&quot;);\n        passWordAttempt = scnr.next();\n        if (customerU.getPassWord().equals(passWordAttempt)) {\n            System.out.println(&quot;Welcome &quot; + customerU.getFullName());\n            if (customerU instanceof Admin) {\n                Customer customerInUse = customerU;\n                adminMainMenu(carDealership, scnr, customerInUse, customerList, carInUse);\n            }\n            Customer customerInUse = customerU;\n            customerMainMenu(carDealership, scnr, customerInUse, customerList, carInUse);\n        }\n        throw new IllegalArgumentException(&quot;password is incorrect. &quot;);\n    }\n    throw new IllegalArgumentException(&quot;username does not exist. &quot;);\n}\n</code></pre>\n<p>Your first <em>if-conitional</em> statement is the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (customerU.getUserName().equals(userNameAttempt))\n</code></pre>\n<p>Which, if not met, will skip directly to your throw for <em>IllegalArgumentException</em>.<br />\nAnd, at that rate, even if the <em>if-conditional</em> was met, upon exit of the code block, the <em>exception</em> would be thrown.</p>\n<pre class=\"lang-java prettyprint-override\"><code>throw new IllegalArgumentException(&quot;username does not exist. &quot;);\n</code></pre>\n<p>Thus, if the first <em>Customer</em> within <em>carDealership.getCustomerList()</em> does not match <em>userNameAttempt</em>, the <em>exception</em> will be thrown.</p>\n<p>I recommend re-ordering your code, as follows.</p>\n<p>We'll need to capture whether the <em>userNameAttempt</em> was found or not.<br />\nSo, I've added a <em>boolean</em> value, named <em>&quot;found&quot;</em>, that we'll assign as <em>true</em> when the <em>if-conditional</em> is met.</p>\n<p>I then placed it's accompanying <em>IllegalArgumentException</em> outside of the <em>for-loop</em>, under the condition that <em>found == false</em>â which can also be written as, <em>!found</em>.</p>\n<p>Furthermore, I inverted the <em>if-conditional</em> for the <em>passWordAttempt</em> evaluation.<br />\nThus, having it throw the <em>exception</em> if the password is not a match.<br />\nTherefore, any code after would be under the condition that the password <em>was</em> a match.</p>\n<p>I then placed a <em>break</em> keyword within the conditional scope, to exit the <em>for-loop</em>âsince subsequent iterations would be erroneous.</p>\n<p>And, finally, you need to create a distinction between whether <em>customerU</em> is an instance of <em>Admin</em> or not.<br />\nSo, the <em>if-conditional</em> here now includes an <em>else</em> block.</p>\n<p>Feel free to provide feedback, as I cannot run the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean found = false;\nfor (Customer customerU : carDealership.getCustomerList()) {\n    if (customerU.getUserName().equals(userNameAttempt)) {\n        found = true;\n        System.out.println(&quot;Enter password:&quot;);\n        passWordAttempt = scnr.next();\n        if (!customerU.getPassWord().equals(passWordAttempt))\n            throw new IllegalArgumentException(&quot;password is incorrect. &quot;);\n        System.out.println(&quot;Welcome &quot; + customerU.getFullName());\n        Customer customerInUse = customerU;\n        if (customerU instanceof Admin) {\n            adminMainMenu(carDealership, scnr, customerInUse, customerList, carInUse);\n        } else {\n            customerMainMenu(carDealership, scnr, customerInUse, customerList, carInUse);\n        }\n        break;\n    }\n}\nif (!found) throw new IllegalArgumentException(&quot;username does not exist. &quot;);\n</code></pre>\n"}],"owner":{"account_id":28723807,"reputation":3,"user_id":21997018,"display_name":"Kevin Manoj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76378610,"answer_count":2,"score":-1,"last_activity_date":1685627602,"creation_date":1685584202,"question_id":76378207,"body_markdown":"I have a csv file that holds all the customers and admins of my car dealership and one of the pieces of information is a username and password. I have a sign in function where the user inputs their username and password and I use a for loop to see if the user is typing the correct credentials. I tried signing into one of my accounts which worked. However, I tried to sign into any other account and it doesnt work the same way. Below is the sign in function.\r\n\r\n\r\n```\r\nprivate static void signIn(CarDealership carDealership, Scanner scnr, ArrayList&lt;Customer&gt; customerList, Car carInUse) //method used to sign in\r\n    {\r\n        String userNameAttempt;\r\n        String passWordAttempt;\r\n        try {\r\n            System.out.println(&quot;Enter username:&quot;);\r\n            userNameAttempt = scnr.next();\r\n            for (Customer customerU : carDealership.getCustomerList()) {\r\n                if (customerU.getUserName().equals(userNameAttempt)) {\r\n                    System.out.println(&quot;Enter password:&quot;);\r\n                    passWordAttempt = scnr.next();\r\n                    if (customerU.getPassWord().equals(passWordAttempt)) {\r\n                        System.out.println(&quot;Welcome &quot; + customerU.getFullName());\r\n                        if (customerU instanceof Admin) {\r\n                            Customer customerInUse = customerU;\r\n                            adminMainMenu(carDealership, scnr, customerInUse, customerList, carInUse);\r\n                        }\r\n                        Customer customerInUse = customerU;\r\n                        customerMainMenu(carDealership, scnr, customerInUse, customerList, carInUse);\r\n                    }\r\n                    throw new IllegalArgumentException(&quot;password is incorrect. &quot;);\r\n                }\r\n                throw new IllegalArgumentException(&quot;username does not exist. &quot;);\r\n            }\r\n        } catch (IllegalArgumentException ex) {\r\n            System.out.println(ex.getMessage() + &quot;Would you like to retry?(1) register yourself?(2) or go back?(3) &quot;);\r\n            int input = scnr.nextInt();\r\n\r\n            switch (input) {\r\n                case 1 -&gt; {\r\n                    System.out.println(&quot;-----------------------------------&quot;);\r\n                    signIn(carDealership, scnr, customerList, carInUse);\r\n                    break;\r\n                }\r\n                case 2 -&gt; {\r\n                    System.out.println(&quot;-----------------------------------&quot;);\r\n                    registerCustomer(carDealership, scnr, customerList, carInUse);\r\n                    break;\r\n                }\r\n                case 3 -&gt; {\r\n                    System.out.println(&quot;-----------------------------------&quot;);\r\n                    beginningSite(carDealership, scnr, customerList, carInUse);\r\n                    break;\r\n                }\r\n                default -&gt; {\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\nI will say that maybe the reason one of the customers works while the others doesnt is because its the first user in the csv file. How do I make it do the for loop checks every user then throws the exceptions?\r\n\r\n\r\nI did try moving the throws higher but it just made the password throw work before even asking the user for their password.","title":"Why does my sign in function only work for one user in my CSV file with usernames and passwords?","body":"<p>I have a csv file that holds all the customers and admins of my car dealership and one of the pieces of information is a username and password. I have a sign in function where the user inputs their username and password and I use a for loop to see if the user is typing the correct credentials. I tried signing into one of my accounts which worked. However, I tried to sign into any other account and it doesnt work the same way. Below is the sign in function.</p>\n<pre><code>private static void signIn(CarDealership carDealership, Scanner scnr, ArrayList&lt;Customer&gt; customerList, Car carInUse) //method used to sign in\n    {\n        String userNameAttempt;\n        String passWordAttempt;\n        try {\n            System.out.println(&quot;Enter username:&quot;);\n            userNameAttempt = scnr.next();\n            for (Customer customerU : carDealership.getCustomerList()) {\n                if (customerU.getUserName().equals(userNameAttempt)) {\n                    System.out.println(&quot;Enter password:&quot;);\n                    passWordAttempt = scnr.next();\n                    if (customerU.getPassWord().equals(passWordAttempt)) {\n                        System.out.println(&quot;Welcome &quot; + customerU.getFullName());\n                        if (customerU instanceof Admin) {\n                            Customer customerInUse = customerU;\n                            adminMainMenu(carDealership, scnr, customerInUse, customerList, carInUse);\n                        }\n                        Customer customerInUse = customerU;\n                        customerMainMenu(carDealership, scnr, customerInUse, customerList, carInUse);\n                    }\n                    throw new IllegalArgumentException(&quot;password is incorrect. &quot;);\n                }\n                throw new IllegalArgumentException(&quot;username does not exist. &quot;);\n            }\n        } catch (IllegalArgumentException ex) {\n            System.out.println(ex.getMessage() + &quot;Would you like to retry?(1) register yourself?(2) or go back?(3) &quot;);\n            int input = scnr.nextInt();\n\n            switch (input) {\n                case 1 -&gt; {\n                    System.out.println(&quot;-----------------------------------&quot;);\n                    signIn(carDealership, scnr, customerList, carInUse);\n                    break;\n                }\n                case 2 -&gt; {\n                    System.out.println(&quot;-----------------------------------&quot;);\n                    registerCustomer(carDealership, scnr, customerList, carInUse);\n                    break;\n                }\n                case 3 -&gt; {\n                    System.out.println(&quot;-----------------------------------&quot;);\n                    beginningSite(carDealership, scnr, customerList, carInUse);\n                    break;\n                }\n                default -&gt; {\n                }\n            }\n        }\n    }\n</code></pre>\n<p>I will say that maybe the reason one of the customers works while the others doesnt is because its the first user in the csv file. How do I make it do the for loop checks every user then throws the exceptions?</p>\n<p>I did try moving the throws higher but it just made the password throw work before even asking the user for their password.</p>\n"},{"tags":["java","android","android-productflavors","android-build-flavors","android-flavors"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1685621259,"post_id":76380803,"comment_id":134687487,"body_markdown":"The flavor directories are added in addition to the standard directories in `app/src/main/java`. And you don&#39;t have to specify the directories, it is just `app/src/&lt;flavorname&gt;/main/java` and `app/src/&lt;flavorname&gt;/res`. You just have to create those directories.","body":"The flavor directories are added in addition to the standard directories in <code>app&#47;src&#47;main&#47;java</code>. And you don&#39;t have to specify the directories, it is just <code>app&#47;src&#47;&lt;flavorname&gt;&#47;main&#47;java</code> and <code>app&#47;src&#47;&lt;flavorname&gt;&#47;res</code>. You just have to create those directories."},{"owner":{"account_id":13354497,"reputation":51,"user_id":15007032,"display_name":"zaxunobi"},"score":0,"creation_date":1685627925,"post_id":76380803,"comment_id":134689291,"body_markdown":"I created those directories myself because there were no directories after I specified the sourceSets. If you could give me a detailed explanation, step by step, I would much appreciate it. Thank you.\nPlease note that I do not want redundant classes. Let&#39;s say I have Classes A, B, C, D, E, F. I want to share classes A, B, C and D for both flavors. Class E only for RootFlavor and and Class F only for RootlessFlavor.","body":"I created those directories myself because there were no directories after I specified the sourceSets. If you could give me a detailed explanation, step by step, I would much appreciate it. Thank you. Please note that I do not want redundant classes. Let&#39;s say I have Classes A, B, C, D, E, F. I want to share classes A, B, C and D for both flavors. Class E only for RootFlavor and and Class F only for RootlessFlavor."}],"owner":{"account_id":13354497,"reputation":51,"user_id":15007032,"display_name":"zaxunobi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685627486,"creation_date":1685613999,"question_id":76380803,"body_markdown":"I have two almost identical android projects that performs some tasks (heavy ones since I am using openCV) with the use of root permissions or simply without root. \r\nI want to use flavors since it gets boring handling two projects.\r\n\r\nI have plenty of classes that are identical, regardless of the flavor, so I want to share those classes with both flavors. \r\nFor classes/files that are unique (like MainActivity, layouts and AndroidManifest ) I would like of course to have each file for flavor.\r\n\r\n   \r\n\r\n     flavorDimensions &quot;default&quot;\r\n    \r\n     productFlavors {\r\n    \r\n            freeVersion {\r\n                dimension &quot;default&quot;\r\n                applicationIdSuffix &quot;.root&quot;\r\n            }\r\n    \r\n            proVersion {\r\n                dimension &quot;default&quot;\r\n                applicationIdSuffix &quot;.rootless&quot;\r\n            }\r\n        }\r\n\r\n      sourceSets {\r\n            RootFlavor {\r\n                res {\r\n                    srcDirs &#39;src/RootFlavor/res&#39;\r\n                }\r\n                java {\r\n                    srcDirs &#39;src/RootFlavor/java&#39;\r\n                }\r\n            }\r\n            RootlesFlavor {\r\n                res {\r\n                    srcDirs &#39;src/RootlesFlavor/res&#39;\r\n                }\r\n                java {\r\n                    srcDirs &#39;src/RootlesFlavor/java&#39;\r\n                }\r\n            }\r\n\r\n\r\nBut for some reason the folders don&#39;t appear in my project. Furthermore this way I would need also to have redundant classes (the ones that are identical) in each src subfolder. So how to achieve what I am saying?\r\n\r\n\r\nEdit:\r\n\r\nLet&#39;s say I have Classes A, B, C, D, E, F. I want to share classes A, B, C and D for both flavors. Class E for RootFlavor and and Class F for RootlessFlavor.","title":"Sharing code for root version and rootless version with flavors","body":"<p>I have two almost identical android projects that performs some tasks (heavy ones since I am using openCV) with the use of root permissions or simply without root.\nI want to use flavors since it gets boring handling two projects.</p>\n<p>I have plenty of classes that are identical, regardless of the flavor, so I want to share those classes with both flavors.\nFor classes/files that are unique (like MainActivity, layouts and AndroidManifest ) I would like of course to have each file for flavor.</p>\n<pre><code> flavorDimensions &quot;default&quot;\n\n productFlavors {\n\n        freeVersion {\n            dimension &quot;default&quot;\n            applicationIdSuffix &quot;.root&quot;\n        }\n\n        proVersion {\n            dimension &quot;default&quot;\n            applicationIdSuffix &quot;.rootless&quot;\n        }\n    }\n\n  sourceSets {\n        RootFlavor {\n            res {\n                srcDirs 'src/RootFlavor/res'\n            }\n            java {\n                srcDirs 'src/RootFlavor/java'\n            }\n        }\n        RootlesFlavor {\n            res {\n                srcDirs 'src/RootlesFlavor/res'\n            }\n            java {\n                srcDirs 'src/RootlesFlavor/java'\n            }\n        }\n</code></pre>\n<p>But for some reason the folders don't appear in my project. Furthermore this way I would need also to have redundant classes (the ones that are identical) in each src subfolder. So how to achieve what I am saying?</p>\n<p>Edit:</p>\n<p>Let's say I have Classes A, B, C, D, E, F. I want to share classes A, B, C and D for both flavors. Class E for RootFlavor and and Class F for RootlessFlavor.</p>\n"},{"tags":["java","quarkus"],"answers":[{"comments":[{"owner":{"account_id":3010767,"reputation":662,"user_id":2554360,"accept_rate":54,"display_name":"schube"},"score":0,"creation_date":1685705054,"post_id":76382613,"comment_id":134701912,"body_markdown":"Thank you very much!! I will try that and give feedback. Thank you for your suggestion with the custom worker. I also think this is the better approach and will try that!","body":"Thank you very much!! I will try that and give feedback. Thank you for your suggestion with the custom worker. I also think this is the better approach and will try that!"},{"owner":{"account_id":3010767,"reputation":662,"user_id":2554360,"accept_rate":54,"display_name":"schube"},"score":0,"creation_date":1685709152,"post_id":76382613,"comment_id":134702739,"body_markdown":"I tried with the event bus (I will later try the customer worker, but let&#39;s do step-by-step.)\nNow, the main REST call waits until the event is processed and the logfile says &quot;End long running mark tickets as printed job&quot; which takes really long.\nThen the REST call is finished and some milliseconds later I can see &quot;finished&quot; in the log.\nThis is not really what I need. Any ideas? Thanks","body":"I tried with the event bus (I will later try the customer worker, but let&#39;s do step-by-step.) Now, the main REST call waits until the event is processed and the logfile says &quot;End long running mark tickets as printed job&quot; which takes really long. Then the REST call is finished and some milliseconds later I can see &quot;finished&quot; in the log. This is not really what I need. Any ideas? Thanks"},{"owner":{"account_id":3010767,"reputation":662,"user_id":2554360,"accept_rate":54,"display_name":"schube"},"score":0,"creation_date":1685709757,"post_id":76382613,"comment_id":134702898,"body_markdown":"I now tried the worker approach, but this is more or less the same. The REST call waits for the worker to be completed. I see your log output which is exactly what I am looking for, but my output is different. I don&#39;t know what is wrong here.","body":"I now tried the worker approach, but this is more or less the same. The REST call waits for the worker to be completed. I see your log output which is exactly what I am looking for, but my output is different. I don&#39;t know what is wrong here."},{"owner":{"account_id":3010767,"reputation":662,"user_id":2554360,"accept_rate":54,"display_name":"schube"},"score":0,"creation_date":1685710468,"post_id":76382613,"comment_id":134703048,"body_markdown":"One step further, but still no solution:\n\nSo when I use your\nThread.sleep(5000);\ncall, I get the same result as you.\n\nIn my case I have \n\ndaoBooking.markSeatsAsPrinted(bookingId);\n\nwhich actually calles the database (with a REST call, not JDBC if that matters).\n\nWhy is that method invokation blocking the REST call when it is inside the worker?\n\nAlso, I think &quot;executor.executeBlocking&quot; is suspicious, but there is no &quot;executor.executeNoneBlocking&quot; method... :-)","body":"One step further, but still no solution:  So when I use your Thread.sleep(5000); call, I get the same result as you.  In my case I have   daoBooking.markSeatsAsPrinted(bookingId);  which actually calles the database (with a REST call, not JDBC if that matters).  Why is that method invokation blocking the REST call when it is inside the worker?  Also, I think &quot;executor.executeBlocking&quot; is suspicious, but there is no &quot;executor.executeNoneBlocking&quot; method... :-)"},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1685724043,"post_id":76382613,"comment_id":134706107,"body_markdown":"The executor doesn&#39;t have to block the REST call. Blocking and non blocking terms determine which thread poll will use. Non blocking functions will run on I/O thread and blocking ones on worker threads. I think there are some hidden stuff in the code which affects this behaviour. Probably this good [article](https://quarkus.io/blog/resteasy-reactive-smart-dispatch/) may help to change RestEasy Classic endpoint to an I/O thread.","body":"The executor doesn&#39;t have to block the REST call. Blocking and non blocking terms determine which thread poll will use. Non blocking functions will run on I/O thread and blocking ones on worker threads. I think there are some hidden stuff in the code which affects this behaviour. Probably this good <a href=\"https://quarkus.io/blog/resteasy-reactive-smart-dispatch/\" rel=\"nofollow noreferrer\">article</a> may help to change RestEasy Classic endpoint to an I/O thread."},{"owner":{"account_id":3010767,"reputation":662,"user_id":2554360,"accept_rate":54,"display_name":"schube"},"score":0,"creation_date":1686338551,"post_id":76382613,"comment_id":134790388,"body_markdown":"Thank you, it finally worked. Turns out I had a bug in my database layer... Your example worked 100% correctly. Thank you very much!!!!","body":"Thank you, it finally worked. Turns out I had a bug in my database layer... Your example worked 100% correctly. Thank you very much!!!!"}],"tags":[],"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685627431,"creation_date":1685627431,"answer_id":76382613,"question_id":76380276,"body_markdown":"There are several mistakes in the code.\r\n\r\n**Always use subscription**\r\n\r\nMutiny as a reative and event driven library is using lazy evaluated events and subscriptions to run asynchronous code. That means, any operation without subscription will never run. \r\n\r\n```java\r\nUni.createFrom().voidItem().invoke(() -&gt; {\r\n    LOG.info(&quot;Start long running mark tickets as printed job&quot;);\r\n    try {\r\n        LOG.info(&quot;marked as printed&quot;);\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n    LOG.info(&quot;End long running mark tickets as printed job&quot;);\r\n\r\n}).emitOn(executor).subscribe().with(\r\n        item -&gt; LOG.info(&quot;Finished&quot;),\r\n        failure -&gt; LOG.error(&quot;Failed with &quot; + failure)\r\n);\r\n```\r\n\r\nNOTE: other methods are available e.q. `onItem()`, `onFailure()` and so on.\r\n\r\nThe output is:\r\n\r\n```none\r\n2023-06-01 15:11:58,545 INFO  [com.exa.TestRunner] (vert.x-eventloop-thread-9) Received markSeatsAsPrinted event\r\n2023-06-01 15:11:58,548 INFO  [com.exa.TestRunner] (vert.x-eventloop-thread-9) Start long running mark tickets as printed job\r\n2023-06-01 15:11:58,549 INFO  [com.exa.TestRunner] (vert.x-eventloop-thread-9) marked as printed\r\n2023-06-01 15:11:58,549 INFO  [com.exa.TestRunner] (vert.x-eventloop-thread-9) End long running mark tickets as printed job\r\n2023-06-01 15:11:58,551 INFO  [com.exa.TestRunner] (executor-thread-1) Finished\r\n```\r\n\r\n**Never block the event loop**\r\n\r\nAs you can see the previous operation was executed on `event-loop` thread pool. As a golden rule you should never block the event loop. When you have to run some blocking operations (e.g database modifications) or other long running tasks it has to be propagated to worker threads. Using  `@Blocking` annotation on the method Quarkus will run that on worker thread.\r\n\r\n```java\r\n@ConsumeEvent(&quot;greeting&quot;)\r\n@Blocking\r\npublic void markSeatsAsPrinted(String bookingId) {\r\n    LOG.info(&quot;Received markSeatsAsPrinted event&quot;);\r\n    Uni.createFrom().voidItem().invoke(() -&gt; {\r\n                LOG.info(&quot;Start long running mark tickets as printed job&quot;);\r\n                try {\r\n                    printer.doSome(bookingId);\r\n                    LOG.info(&quot;marked as printed&quot;);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n                LOG.info(&quot;End long running mark tickets as printed job&quot;);\r\n\r\n            }).emitOn(executor).\r\n            subscribe().with(\r\n                    item -&gt; LOG.info(&quot;Finished&quot;),\r\n                    failure -&gt; LOG.error(&quot;Failed with &quot; + failure)\r\n            );\r\n}\r\n```\r\nNow, the log output is:\r\n\r\n```none\r\n2023-06-01 15:29:08,177 INFO  [com.exa.TestRunner] (vert.x-worker-thread-1) Received markSeatsAsPrinted event\r\n2023-06-01 15:29:08,179 INFO  [com.exa.TestRunner] (vert.x-worker-thread-1) Start long running mark tickets as printed job\r\n2023-06-01 15:29:08,180 INFO  [com.exa.SomePrinter] (vert.x-worker-thread-1) Printing\r\n2023-06-01 15:29:08,181 INFO  [com.exa.TestRunner] (vert.x-worker-thread-1) marked as printed\r\n2023-06-01 15:29:08,182 INFO  [com.exa.TestRunner] (vert.x-worker-thread-1) End long running mark tickets as printed job\r\n2023-06-01 15:29:08,183 INFO  [com.exa.TestRunner] (executor-thread-1) Finished\r\n```\r\n\r\n**Suggestion: Use custom worker instead of event bus**\r\n\r\nAs I understood the business requirement by the code I don&#39;t think eventbus is the perfect solution. Probably I&#39;m wrong, but I prefer to create separated worker for the pdf generation.\r\n\r\nHere is a ground work.\r\n\r\n```java\r\n@Singleton\r\n@Startup\r\npublic class CustomWorker {\r\n\r\n    private static final Logger LOG = Logger.getLogger(CustomWorker.class);\r\n\r\n    private final WorkerExecutor executor;\r\n\r\n    CustomWorker(Vertx vertx) {\r\n        executor = vertx.createSharedWorkerExecutor(&quot;pdf-printer&quot;);\r\n    }\r\n\r\n    void tearDown(@Observes ShutdownEvent ev) {\r\n        executor.close();\r\n    }\r\n\r\n    public void markSeatsAsPrinted(String bookingId) {\r\n\r\n        LOG.info(&quot;Received markSeatsAsPrinted event&quot;);\r\n        executor.executeBlocking(promise -&gt; {\r\n            LOG.info(&quot;Start long running mark tickets as printed job&quot;);\r\n            try {\r\n                // Block thread for 5 seconds\r\n                Thread.sleep(5000L);\r\n                LOG.info(&quot;marked as printed&quot;);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            LOG.info(&quot;End long running mark tickets as printed job&quot;);\r\n            promise.complete();\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Path(&quot;/booking&quot;)\r\npublic class ExampleResource {\r\n\r\n    private static final Logger LOG = Logger.getLogger(ExampleResource.class);\r\n\r\n    @Inject\r\n    CustomWorker worker;\r\n\r\n    @GET\r\n    @Path(&quot;/{bookingId}/print-tickets/&quot;)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public PdfTicket printTickets(@PathParam(&quot;bookingId&quot;) String bookingId) {\r\n\r\n        LOG.info(&quot;Got request&quot;);\r\n\r\n        // I did&#39;t implement so much (e.g. DAO logic)\r\n        var booking = new Booking(bookingId);\r\n        //....\r\n        PdfTicket pdfTicket = new PdfTicket(bookingId);\r\n\r\n        //this is the code which should run in background and the REST call should NOT wait vor the result\r\n        if (booking.hasFixedSeatingTickets()) {\r\n            worker.markSeatsAsPrinted(booking.getBookingId());\r\n        }\r\n\r\n        LOG.info(&quot;Return response&quot;);\r\n        return pdfTicket;\r\n    }\r\n}\r\n```\r\n\r\nThe outout is:\r\n\r\n```none\r\n2023-06-01 15:43:05,127 INFO  [com.exa.ExampleResource] (executor-thread-1) Got request\r\n2023-06-01 15:43:05,128 INFO  [com.exa.CustomWorker] (executor-thread-1) Received markSeatsAsPrinted event\r\n2023-06-01 15:43:05,130 INFO  [com.exa.ExampleResource] (executor-thread-1) Return response\r\n2023-06-01 15:43:05,130 INFO  [com.exa.CustomWorker] (pdf-printer-1) Start long running mark tickets as printed job\r\n2023-06-01 15:43:10,131 INFO  [com.exa.CustomWorker] (pdf-printer-1) marked as printed\r\n2023-06-01 15:43:10,132 INFO  [com.exa.CustomWorker] (pdf-printer-1) End long running mark tickets as printed job\r\n```\r\n\r\nOf course, `WorkerExecutor` is customizable. You can also set `poolSize` and `maxExecutionTime` if it needed.","title":"Execute background job with quarkus and don&#39;t wait for result","body":"<p>There are several mistakes in the code.</p>\n<p><strong>Always use subscription</strong></p>\n<p>Mutiny as a reative and event driven library is using lazy evaluated events and subscriptions to run asynchronous code. That means, any operation without subscription will never run.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Uni.createFrom().voidItem().invoke(() -&gt; {\n    LOG.info(&quot;Start long running mark tickets as printed job&quot;);\n    try {\n        LOG.info(&quot;marked as printed&quot;);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    LOG.info(&quot;End long running mark tickets as printed job&quot;);\n\n}).emitOn(executor).subscribe().with(\n        item -&gt; LOG.info(&quot;Finished&quot;),\n        failure -&gt; LOG.error(&quot;Failed with &quot; + failure)\n);\n</code></pre>\n<p>NOTE: other methods are available e.q. <code>onItem()</code>, <code>onFailure()</code> and so on.</p>\n<p>The output is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-06-01 15:11:58,545 INFO  [com.exa.TestRunner] (vert.x-eventloop-thread-9) Received markSeatsAsPrinted event\n2023-06-01 15:11:58,548 INFO  [com.exa.TestRunner] (vert.x-eventloop-thread-9) Start long running mark tickets as printed job\n2023-06-01 15:11:58,549 INFO  [com.exa.TestRunner] (vert.x-eventloop-thread-9) marked as printed\n2023-06-01 15:11:58,549 INFO  [com.exa.TestRunner] (vert.x-eventloop-thread-9) End long running mark tickets as printed job\n2023-06-01 15:11:58,551 INFO  [com.exa.TestRunner] (executor-thread-1) Finished\n</code></pre>\n<p><strong>Never block the event loop</strong></p>\n<p>As you can see the previous operation was executed on <code>event-loop</code> thread pool. As a golden rule you should never block the event loop. When you have to run some blocking operations (e.g database modifications) or other long running tasks it has to be propagated to worker threads. Using  <code>@Blocking</code> annotation on the method Quarkus will run that on worker thread.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ConsumeEvent(&quot;greeting&quot;)\n@Blocking\npublic void markSeatsAsPrinted(String bookingId) {\n    LOG.info(&quot;Received markSeatsAsPrinted event&quot;);\n    Uni.createFrom().voidItem().invoke(() -&gt; {\n                LOG.info(&quot;Start long running mark tickets as printed job&quot;);\n                try {\n                    printer.doSome(bookingId);\n                    LOG.info(&quot;marked as printed&quot;);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n                LOG.info(&quot;End long running mark tickets as printed job&quot;);\n\n            }).emitOn(executor).\n            subscribe().with(\n                    item -&gt; LOG.info(&quot;Finished&quot;),\n                    failure -&gt; LOG.error(&quot;Failed with &quot; + failure)\n            );\n}\n</code></pre>\n<p>Now, the log output is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-06-01 15:29:08,177 INFO  [com.exa.TestRunner] (vert.x-worker-thread-1) Received markSeatsAsPrinted event\n2023-06-01 15:29:08,179 INFO  [com.exa.TestRunner] (vert.x-worker-thread-1) Start long running mark tickets as printed job\n2023-06-01 15:29:08,180 INFO  [com.exa.SomePrinter] (vert.x-worker-thread-1) Printing\n2023-06-01 15:29:08,181 INFO  [com.exa.TestRunner] (vert.x-worker-thread-1) marked as printed\n2023-06-01 15:29:08,182 INFO  [com.exa.TestRunner] (vert.x-worker-thread-1) End long running mark tickets as printed job\n2023-06-01 15:29:08,183 INFO  [com.exa.TestRunner] (executor-thread-1) Finished\n</code></pre>\n<p><strong>Suggestion: Use custom worker instead of event bus</strong></p>\n<p>As I understood the business requirement by the code I don't think eventbus is the perfect solution. Probably I'm wrong, but I prefer to create separated worker for the pdf generation.</p>\n<p>Here is a ground work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Singleton\n@Startup\npublic class CustomWorker {\n\n    private static final Logger LOG = Logger.getLogger(CustomWorker.class);\n\n    private final WorkerExecutor executor;\n\n    CustomWorker(Vertx vertx) {\n        executor = vertx.createSharedWorkerExecutor(&quot;pdf-printer&quot;);\n    }\n\n    void tearDown(@Observes ShutdownEvent ev) {\n        executor.close();\n    }\n\n    public void markSeatsAsPrinted(String bookingId) {\n\n        LOG.info(&quot;Received markSeatsAsPrinted event&quot;);\n        executor.executeBlocking(promise -&gt; {\n            LOG.info(&quot;Start long running mark tickets as printed job&quot;);\n            try {\n                // Block thread for 5 seconds\n                Thread.sleep(5000L);\n                LOG.info(&quot;marked as printed&quot;);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            LOG.info(&quot;End long running mark tickets as printed job&quot;);\n            promise.complete();\n        });\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;/booking&quot;)\npublic class ExampleResource {\n\n    private static final Logger LOG = Logger.getLogger(ExampleResource.class);\n\n    @Inject\n    CustomWorker worker;\n\n    @GET\n    @Path(&quot;/{bookingId}/print-tickets/&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    public PdfTicket printTickets(@PathParam(&quot;bookingId&quot;) String bookingId) {\n\n        LOG.info(&quot;Got request&quot;);\n\n        // I did't implement so much (e.g. DAO logic)\n        var booking = new Booking(bookingId);\n        //....\n        PdfTicket pdfTicket = new PdfTicket(bookingId);\n\n        //this is the code which should run in background and the REST call should NOT wait vor the result\n        if (booking.hasFixedSeatingTickets()) {\n            worker.markSeatsAsPrinted(booking.getBookingId());\n        }\n\n        LOG.info(&quot;Return response&quot;);\n        return pdfTicket;\n    }\n}\n</code></pre>\n<p>The outout is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-06-01 15:43:05,127 INFO  [com.exa.ExampleResource] (executor-thread-1) Got request\n2023-06-01 15:43:05,128 INFO  [com.exa.CustomWorker] (executor-thread-1) Received markSeatsAsPrinted event\n2023-06-01 15:43:05,130 INFO  [com.exa.ExampleResource] (executor-thread-1) Return response\n2023-06-01 15:43:05,130 INFO  [com.exa.CustomWorker] (pdf-printer-1) Start long running mark tickets as printed job\n2023-06-01 15:43:10,131 INFO  [com.exa.CustomWorker] (pdf-printer-1) marked as printed\n2023-06-01 15:43:10,132 INFO  [com.exa.CustomWorker] (pdf-printer-1) End long running mark tickets as printed job\n</code></pre>\n<p>Of course, <code>WorkerExecutor</code> is customizable. You can also set <code>poolSize</code> and <code>maxExecutionTime</code> if it needed.</p>\n"}],"owner":{"account_id":3010767,"reputation":662,"user_id":2554360,"accept_rate":54,"display_name":"schube"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":666,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76382613,"answer_count":1,"score":0,"last_activity_date":1685627431,"creation_date":1685610118,"question_id":76380276,"body_markdown":"My problem is, that I have a quarkus REST webservice which executes some tasks in a blocking/sequential way and then I want to execute a longer running task none blocking, but I found no running solution.\r\n\r\nSo the webservice looks like that (simplyfied!:\r\n\r\n    import io.vertx.mutiny.core.eventbus.EventBus;\r\n\r\n\t@Path(&quot;/booking&quot;)\r\n\t@ApplicationScoped\r\n\tpublic class BookingResource {\r\n\r\n\t    @Inject\r\n    \tEventBus eventBus;\r\n\r\n\t\t@POST\r\n\t\t@Path(&quot;/{bookingId}/print-tickets/&quot;)\r\n\t\t@Produces(MediaType.APPLICATION_JSON)\r\n\t\tpublic PdfTicket printTickets(@PathParam(&quot;bookingId&quot;) String bookingId) throws Exception {\r\n\r\n\t\t\tvar optBooking = daoBooking.getBookingDetailsById(bookingId);\r\n\t\t\t//....\r\n\t\t\tvar eventOpt = daoEvent.getEventById(booking.getEventId());\r\n\t\t\t//...\r\n\t\t\tPdfTicket pdfTicket = myconverter(optBooking, eventOpt); //Some magic code which I removed here\r\n\t\t\r\n\t\t\t//this is the code which should run in background and the REST call should NOT wait vor the result\r\n\t\t\tif (booking.hasFixedSeatingTickets()) {\r\n\t\t\t\t// Mark seats as printed, so the fixed seats are not re-assigned to other guests\r\n\t\t\t\teventBus.requestAndForget(&quot;greeting&quot;, booking.getBookingId());\r\n\t\t\t}\r\n\t\t\treturn pdfTicket;\r\n\t\t}\r\n\t}\r\n\r\n\r\nI tried simple java threads, I tried Mutinity and lastly I tried the quarkus eventbus approach which you can see in the code above.\r\nSo here I am sending a message to &quot;greeting&quot;. I consume the event like that:\r\n\r\n\timport io.quarkus.vertx.ConsumeEvent;\r\n\timport io.smallrye.mutiny.Uni;\r\n\r\n\t@ApplicationScoped\r\n\tpublic class TestResource {\r\n\t\tprivate static final Logger LOG = Logger.getLogger(TestResource.class);\r\n\r\n\t\t@Inject\r\n\t\tprivate DaoBooking daoBooking;\r\n\r\n\t\t@Inject\r\n\t\tManagedExecutor executor;\r\n\r\n\t\t@ConsumeEvent(&quot;greeting&quot;)\r\n\t\tpublic void markSeatsAsPrinted(String bookingId) {\r\n\t\t\tLOG.info(&quot;Received markSeatsAsPrinted event&quot;);\r\n\t\t\tUni.createFrom().voidItem().invoke(() -&gt; {\r\n\t\t\t\tLOG.info(&quot;Start long running mark tickets as printed job&quot;);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tdaoBooking.markSeatsAsPrinted(bookingId);\r\n\t\t\t\t} catch (FileMakerException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\tLOG.info(&quot;End long running mark tickets as printed job&quot;);\r\n\r\n\t\t\t}).emitOn(executor);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\nAccording to https://quarkus.io/guides/reactive-event-bus when the method returns `void` the calling service should NOT wait for the result. \r\n\r\nNow, when I call my REST service, I can see in the log &quot;Received markSeatsAsPrinted event&quot; but never &quot;Start long running mark tickets as printed job&quot;. So the code in the Uni block is just not executed.\r\n\r\nWhen I change my code to return a `Uni&lt;Boolean&gt;` like that:\r\n\r\n\t@ConsumeEvent(&quot;greeting&quot;)\r\n\tpublic Uni&lt;Boolean&gt; markSeatsAsPrinted(String bookingId) {\r\n\t\tLOG.info(&quot;Received markSeatsAsPrinted event&quot;);;\r\n\t\treturn Uni.createFrom().item(() -&gt; {\r\n\t\t\tLOG.info(&quot;Start long running mark tickets as printed job&quot;);\r\n\t\t\ttry {\r\n\t\t\t\tdaoBooking.markSeatsAsPrinted(bookingId);\r\n\t\t\t} catch (FileMakerException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\tLOG.info(&quot;End long running mark tickets as printed job&quot;);\r\n\t\t\treturn true;\r\n\r\n\t\t}).emitOn(executor);\r\n\r\n\t}\r\n\r\nthen the logfile does display &quot;Start long running mark tickets as printed job&quot; but now, also my main REST service blocks until the event is fully processed (which takes 10 seconds, so I have to do it in the background).\r\n\r\nWhat is wrong here?\r\nAlso, I had the same behaviour, when I did not use quarkus event bus but the Uni/Executor stuff in a simple method. Also, using Java Threads did not work because quarkus waited until the thread was finished with the REST response.\r\n\r\nAt the end of the day I just want to have that task which takes so much time running in background without waiting for the answer in the REST call. \r\n\r\nPlease help :-)\r\n\r\nThank you,\r\nschube","title":"Execute background job with quarkus and don&#39;t wait for result","body":"<p>My problem is, that I have a quarkus REST webservice which executes some tasks in a blocking/sequential way and then I want to execute a longer running task none blocking, but I found no running solution.</p>\n<p>So the webservice looks like that (simplyfied!:</p>\n<pre><code>import io.vertx.mutiny.core.eventbus.EventBus;\n\n@Path(&quot;/booking&quot;)\n@ApplicationScoped\npublic class BookingResource {\n\n    @Inject\n    EventBus eventBus;\n\n    @POST\n    @Path(&quot;/{bookingId}/print-tickets/&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    public PdfTicket printTickets(@PathParam(&quot;bookingId&quot;) String bookingId) throws Exception {\n\n        var optBooking = daoBooking.getBookingDetailsById(bookingId);\n        //....\n        var eventOpt = daoEvent.getEventById(booking.getEventId());\n        //...\n        PdfTicket pdfTicket = myconverter(optBooking, eventOpt); //Some magic code which I removed here\n    \n        //this is the code which should run in background and the REST call should NOT wait vor the result\n        if (booking.hasFixedSeatingTickets()) {\n            // Mark seats as printed, so the fixed seats are not re-assigned to other guests\n            eventBus.requestAndForget(&quot;greeting&quot;, booking.getBookingId());\n        }\n        return pdfTicket;\n    }\n}\n</code></pre>\n<p>I tried simple java threads, I tried Mutinity and lastly I tried the quarkus eventbus approach which you can see in the code above.\nSo here I am sending a message to &quot;greeting&quot;. I consume the event like that:</p>\n<pre><code>import io.quarkus.vertx.ConsumeEvent;\nimport io.smallrye.mutiny.Uni;\n\n@ApplicationScoped\npublic class TestResource {\n    private static final Logger LOG = Logger.getLogger(TestResource.class);\n\n    @Inject\n    private DaoBooking daoBooking;\n\n    @Inject\n    ManagedExecutor executor;\n\n    @ConsumeEvent(&quot;greeting&quot;)\n    public void markSeatsAsPrinted(String bookingId) {\n        LOG.info(&quot;Received markSeatsAsPrinted event&quot;);\n        Uni.createFrom().voidItem().invoke(() -&gt; {\n            LOG.info(&quot;Start long running mark tickets as printed job&quot;);\n            try {\n                daoBooking.markSeatsAsPrinted(bookingId);\n            } catch (FileMakerException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n            LOG.info(&quot;End long running mark tickets as printed job&quot;);\n\n        }).emitOn(executor);\n\n    }\n\n}\n</code></pre>\n<p>According to <a href=\"https://quarkus.io/guides/reactive-event-bus\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/reactive-event-bus</a> when the method returns <code>void</code> the calling service should NOT wait for the result.</p>\n<p>Now, when I call my REST service, I can see in the log &quot;Received markSeatsAsPrinted event&quot; but never &quot;Start long running mark tickets as printed job&quot;. So the code in the Uni block is just not executed.</p>\n<p>When I change my code to return a <code>Uni&lt;Boolean&gt;</code> like that:</p>\n<pre><code>@ConsumeEvent(&quot;greeting&quot;)\npublic Uni&lt;Boolean&gt; markSeatsAsPrinted(String bookingId) {\n    LOG.info(&quot;Received markSeatsAsPrinted event&quot;);;\n    return Uni.createFrom().item(() -&gt; {\n        LOG.info(&quot;Start long running mark tickets as printed job&quot;);\n        try {\n            daoBooking.markSeatsAsPrinted(bookingId);\n        } catch (FileMakerException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        LOG.info(&quot;End long running mark tickets as printed job&quot;);\n        return true;\n\n    }).emitOn(executor);\n\n}\n</code></pre>\n<p>then the logfile does display &quot;Start long running mark tickets as printed job&quot; but now, also my main REST service blocks until the event is fully processed (which takes 10 seconds, so I have to do it in the background).</p>\n<p>What is wrong here?\nAlso, I had the same behaviour, when I did not use quarkus event bus but the Uni/Executor stuff in a simple method. Also, using Java Threads did not work because quarkus waited until the thread was finished with the REST response.</p>\n<p>At the end of the day I just want to have that task which takes so much time running in background without waiting for the answer in the REST call.</p>\n<p>Please help :-)</p>\n<p>Thank you,\nschube</p>\n"},{"tags":["java","object","equals"],"comments":[{"owner":{"account_id":9460871,"reputation":2153,"user_id":7034621,"display_name":"orhtej2"},"score":0,"creation_date":1685360283,"post_id":76356971,"comment_id":134645367,"body_markdown":"Does this answer your question? [how do I correctly override equals for inheritance in java?](https://stackoverflow.com/questions/9885773/how-do-i-correctly-override-equals-for-inheritance-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9885773/how-do-i-correctly-override-equals-for-inheritance-in-java\">how do I correctly override equals for inheritance in java?</a>"},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr JaneÄek"},"score":1,"creation_date":1685360585,"post_id":76356971,"comment_id":134645408,"body_markdown":"This generally tends to be solved by `if (other.getClass != Date.class) return false` instead of the instanceof check, but it has its own problems (read Effective Java article 3.10). In general, please think about the symmetry, what should happen when date.equals(dateT), or dateT.eqauls(date) and if they should ever be equal, e.g. when somebody daoes `Date haha = dateT;` and then expects `date.equals(haha)` when the date components match.","body":"This generally tends to be solved by <code>if (other.getClass != Date.class) return false</code> instead of the instanceof check, but it has its own problems (read Effective Java article 3.10). In general, please think about the symmetry, what should happen when date.equals(dateT), or dateT.eqauls(date) and if they should ever be equal, e.g. when somebody daoes <code>Date haha = dateT;</code> and then expects <code>date.equals(haha)</code> when the date components match."},{"owner":{"account_id":28698013,"reputation":11,"user_id":21975806,"display_name":"nelad"},"score":0,"creation_date":1685361120,"post_id":76356971,"comment_id":134645511,"body_markdown":"I can&#39;t use getClass in the assignment","body":"I can&#39;t use getClass in the assignment"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1685374801,"post_id":76356971,"comment_id":134648125,"body_markdown":"@nelad  *`&quot;I can&#39;t use getClass in the assignment&quot;`*  You didn&#39;t list that as one of  your constraints.  Can you be more general about what is or is not permitted.  Otherwise we are just guessing.","body":"@nelad  <i><code>&quot;I can&#39;t use getClass in the assignment&quot;</code></i>  You didn&#39;t list that as one of  your constraints.  Can you be more general about what is or is not permitted.  Otherwise we are just guessing."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685377760,"creation_date":1685371106,"answer_id":76358229,"question_id":76356971,"body_markdown":"Assuming I understand the issue, I believe the following should enforce the symmetric and transitive requirements of your `equals` implementations.\r\n\r\nYou need to make sure that you only `properly` compare `Date to Date` and `DateT to DateT`. So have them each return their own class name in `toString()` and check to see that it matches the passed object&#39;s `toString()`.  This is only needed in the `Date` class.\r\n\r\nThe following should meet your requirements as no `Date*` class mentions the other.\r\n\r\nSo in your `DateT` class, put\r\n```\r\n@Override\r\npubic String toString() { \r\n    return &quot;DateT&quot;;\r\n}\r\npublic boolean equals(Object date) {\r\n        if (this == date) { // same object\r\n           return true;\r\n        if (date instanceof DateT d) { // d is now cast as dateT\r\n            return &lt;comparison using DateT values&gt;\r\n        }\r\n        return false;\r\n}\r\n``` \r\nBut since `DateT` is a subtype of `Date`, put this in your `Date` class\r\n```\r\n@Override\r\npublic String toString() {\r\n    return &quot;Date&quot;;\r\n}\r\n\r\npublic boolean equals( Object date) {\r\n  if( this == date) {  // same object\r\n     return true;\r\n  }\r\n  if ((date instanceof Date d) &amp;&amp; date.toString().equals(&quot;Date&quot;)) {\r\n        return &lt;comparison using Date values&gt;\r\n  }\r\n  return false;\r\n}\r\n\r\n``` \r\nNote: As of Java 14 implied casting can be used as follows:\r\n```\r\npublic boolean equals(Object foo) {\r\n  if (foo instanceOf Foo f) { // if true f is now an instance of Foo and\r\n                                  // can be used directly.\r\n   ...\r\n} ","title":"Comparing objects with equals","body":"<p>Assuming I understand the issue, I believe the following should enforce the symmetric and transitive requirements of your <code>equals</code> implementations.</p>\n<p>You need to make sure that you only <code>properly</code> compare <code>Date to Date</code> and <code>DateT to DateT</code>. So have them each return their own class name in <code>toString()</code> and check to see that it matches the passed object's <code>toString()</code>.  This is only needed in the <code>Date</code> class.</p>\n<p>The following should meet your requirements as no <code>Date*</code> class mentions the other.</p>\n<p>So in your <code>DateT</code> class, put</p>\n<pre><code>@Override\npubic String toString() { \n    return &quot;DateT&quot;;\n}\npublic boolean equals(Object date) {\n        if (this == date) { // same object\n           return true;\n        if (date instanceof DateT d) { // d is now cast as dateT\n            return &lt;comparison using DateT values&gt;\n        }\n        return false;\n}\n</code></pre>\n<p>But since <code>DateT</code> is a subtype of <code>Date</code>, put this in your <code>Date</code> class</p>\n<pre><code>@Override\npublic String toString() {\n    return &quot;Date&quot;;\n}\n\npublic boolean equals( Object date) {\n  if( this == date) {  // same object\n     return true;\n  }\n  if ((date instanceof Date d) &amp;&amp; date.toString().equals(&quot;Date&quot;)) {\n        return &lt;comparison using Date values&gt;\n  }\n  return false;\n}\n\n</code></pre>\n<p>Note: As of Java 14 implied casting can be used as follows:</p>\n<pre><code>public boolean equals(Object foo) {\n  if (foo instanceOf Foo f) { // if true f is now an instance of Foo and\n                                  // can be used directly.\n   ...\n} \n</code></pre>\n"},{"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1685391989,"post_id":76359187,"comment_id":134650593,"body_markdown":"According to the exchange in the comments, you can&#39;t use `getClass()`.","body":"According to the exchange in the comments, you can&#39;t use <code>getClass()</code>."}],"tags":[],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685380270,"creation_date":1685380270,"answer_id":76359187,"question_id":76356971,"body_markdown":"\r\nThis line `if (!(other instanceof Date))` will always be false when you supply `DateT` type as the argument to `equals` method because `DateT` is a subclass of `Date`. Thus the `return false;` will not be executed and the custom comparison will be checked.\r\n\r\nYou need to do two things before your custom comparison\r\n\r\n 1. Check the argument is not `null`. A `null` can be passed into any derived data type variable.\r\n 2. Return `false` if the argument is not the Canonical Name doesn&#39;t match with your class name (I&#39;m guessing it is `java.util.Date`).\r\n\r\nThis is how the equality should be checked.\r\n\r\n    public boolean equals(Object date) {\r\n    \r\n    \tif(date == null)\r\n    \t\treturn false;\r\n    \t\r\n\t\telse if(date.getClass().getCanonicalName() != &quot;java.util.Date&quot;)\r\n\t\t\treturn false;\r\n    \t\r\n    \telse {\r\n    \t\tDate d = (Date) other;\r\n    \t    return day == d.day &amp;&amp; month == d.month &amp;&amp; year == d.year;\r\n    \t}\r\n    }","title":"Comparing objects with equals","body":"<p>This line <code>if (!(other instanceof Date))</code> will always be false when you supply <code>DateT</code> type as the argument to <code>equals</code> method because <code>DateT</code> is a subclass of <code>Date</code>. Thus the <code>return false;</code> will not be executed and the custom comparison will be checked.</p>\n<p>You need to do two things before your custom comparison</p>\n<ol>\n<li>Check the argument is not <code>null</code>. A <code>null</code> can be passed into any derived data type variable.</li>\n<li>Return <code>false</code> if the argument is not the Canonical Name doesn't match with your class name (I'm guessing it is <code>java.util.Date</code>).</li>\n</ol>\n<p>This is how the equality should be checked.</p>\n<pre><code>public boolean equals(Object date) {\n\n    if(date == null)\n        return false;\n    \n    else if(date.getClass().getCanonicalName() != &quot;java.util.Date&quot;)\n        return false;\n    \n    else {\n        Date d = (Date) other;\n        return day == d.day &amp;&amp; month == d.month &amp;&amp; year == d.year;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1685399541,"post_id":76360103,"comment_id":134651469,"body_markdown":"You cannot use the the name of one  class in the other.  Check the second bullet in the question.  `if (obj instanceof DateT) return false;` is not allowed in the `Date` class.","body":"You cannot use the the name of one  class in the other.  Check the second bullet in the question.  <code>if (obj instanceof DateT) return false;</code> is not allowed in the <code>Date</code> class."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685404383,"post_id":76360103,"comment_id":134651925,"body_markdown":"@WJS, interesting, I overlooked that.  I thought they were referring to _Object.class.getName()_.","body":"@WJS, interesting, I overlooked that.  I thought they were referring to <i>Object.class.getName()</i>."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1685404851,"post_id":76360103,"comment_id":134651956,"body_markdown":"I made the same mistake in an earlier answer and the OP pointed it out.","body":"I made the same mistake in an earlier answer and the OP pointed it out."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685391305,"creation_date":1685391305,"answer_id":76360103,"question_id":76356971,"body_markdown":"To negate the comparison using the _DateT_ class, you can first check if the _obj_ parameter is an instance of _DateT_.\r\n\r\nAdditionally, here you can use a _[pattern variable](https://docs.oracle.com/en/java/javase/17/language/pattern-matching-instanceof-operator.html)_ within the _instanceof_ statement.\r\n\r\n```java\r\nclass Date {\r\n    int years, months, days;\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (obj instanceof DateT) return false;\r\n        if (obj instanceof Date date) {\r\n            return years == date.years\r\n                &amp;&amp; months == date.months\r\n                &amp;&amp; days == date.days;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\nThe sub-class _equals_ can be implemented in two ways, I&#39;m not sure which is more valid.  \r\nEssentially, it _could_ be equivalent if the _hours_ and _minutes_ of the _DateT_ class are _0_.\r\n\r\nIn this case, a _DateT_ will not equal a _Date_.\r\n\r\n```java\r\nclass DateT extends Date {\r\n    int hours, minutes;\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (!(obj instanceof DateT date)) return false;\r\n        return years == date.years\r\n            &amp;&amp; months == date.months\r\n            &amp;&amp; days == date.days\r\n            &amp;&amp; hours == date.hours\r\n            &amp;&amp; minutes == date.minutes;\r\n    }\r\n}\r\n```","title":"Comparing objects with equals","body":"<p>To negate the comparison using the <em>DateT</em> class, you can first check if the <em>obj</em> parameter is an instance of <em>DateT</em>.</p>\n<p>Additionally, here you can use a <em><a href=\"https://docs.oracle.com/en/java/javase/17/language/pattern-matching-instanceof-operator.html\" rel=\"nofollow noreferrer\">pattern variable</a></em> within the <em>instanceof</em> statement.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Date {\n    int years, months, days;\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj instanceof DateT) return false;\n        if (obj instanceof Date date) {\n            return years == date.years\n                &amp;&amp; months == date.months\n                &amp;&amp; days == date.days;\n        }\n        return false;\n    }\n}\n</code></pre>\n<p>The sub-class <em>equals</em> can be implemented in two ways, I'm not sure which is more valid.<br />\nEssentially, it <em>could</em> be equivalent if the <em>hours</em> and <em>minutes</em> of the <em>DateT</em> class are <em>0</em>.</p>\n<p>In this case, a <em>DateT</em> will not equal a <em>Date</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class DateT extends Date {\n    int hours, minutes;\n\n    @Override\n    public boolean equals(Object obj) {\n        if (!(obj instanceof DateT date)) return false;\n        return years == date.years\n            &amp;&amp; months == date.months\n            &amp;&amp; days == date.days\n            &amp;&amp; hours == date.hours\n            &amp;&amp; minutes == date.minutes;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685627401,"creation_date":1685626661,"answer_id":76382487,"question_id":76356971,"body_markdown":"The answer should be that you shouldnât design your software that way. Donât look at bad examples, like [`Timestamp`] extending `Date` in an incompatible manner. Rather, look at examples like [`LocalDate`] and [`YearMonth`], which implement common interfaces but are not subclasses of each other.\r\n\r\n---\r\n\r\nBut since this is an *assignment*, here are two ways to solve this:\r\n\r\nThe problem is that the overridden method is invoked on the first object, which does not take into account that the second object might be a subclass. Therefore, split the comparison operation into two methods and invoke the second method on the second object:\r\n\r\n```java\r\nclass Date {\r\n    â¦\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        return obj instanceof Date &amp;&amp; ((Date)obj).sameDate(this);\r\n    }\r\n\r\n    protected boolean sameDate(Date d) {\r\n        return day == d.day &amp;&amp; month == d.month &amp;&amp; year == d.year;\r\n    }\r\n}\r\nclass DateT extends Date {\r\n    â¦\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        return obj instanceof DateT &amp;&amp; ((DateT)obj).sameDate(this);\r\n    }\r\n  \r\n    @Override\r\n    protected boolean sameDate(Date d) {\r\n        return d instanceof DateT &amp;&amp; month == d.month &amp;&amp; year == d.year;\r\n    }\r\n}\r\n```\r\nThe overridable method `equals` delegates to the overridable method of the method argument, so if either `this` or the argument object is a `DateT`, at least one overridden method will be invoked, enforcing that both objects must be `DateT` to be equal.\r\n\r\nThereâs a small redundancy when both objects are `DateT`, as the `this` passed to `sameDate` is already known to be of type `DateT` but to avoid this check, the comparison logic would have to be extracted into a third method which is not worth the effort here.\r\n\r\n---\r\n\r\nThe alternative is to consider that even if `DateT` doesnât use the `day` field, each instance will have it, inherited from `Day`. So, initialize it with a value that can never be equal to a valid value of a `Day` instance and youâre done. E.g.\r\n\r\n```java\r\npublic class Date {\r\n    final int day, month, year;\r\n\r\n    public Date(int day, int month, int year) {\r\n        if(day &lt; 0) {\r\n            throw new IllegalArgumentException(&quot;day = &quot; + day);\r\n        }\r\n        this.day = day;\r\n        this.month = month;\r\n        this.year = year;\r\n    }\r\n\r\n    // only for subclasses, might be even more restricted than protected,\r\n    // package-private or even private when using nested classes\r\n    protected Date(int month, int year) {\r\n        this.day = -1;\r\n        this.month = month;\r\n        this.year = year;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        return obj instanceof Date d\r\n            &amp;&amp; day == d.day &amp;&amp; month == d.month &amp;&amp; year == d.year;\r\n    }\r\n}\r\n\r\npublic class DateT extends Date {\r\n    public DateT(int month, int year) {\r\n        super(month, year);\r\n    }\r\n}\r\n```\r\nThis assumes that a day can never be negative and enforces this property in the constructor. Only the special constructor, which should only be accessible to subclasses, will initialize the day to `-1` which can never match a valid day of a `Date` instance. This way, `Date` instances are never equal to `DateT` instances without the need for a special handling in the `equals` method.\r\n\r\nIf you have a mutable `day` field, additional measures must be taken to ensure that no method can change these invariants.\r\n\r\n[`Timestamp`]: https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/java/sql/Timestamp.html\r\n[`LocalDate`]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/LocalDate.html\r\n[`YearMonth`]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/YearMonth.html","title":"Comparing objects with equals","body":"<p>The answer should be that you shouldnât design your software that way. Donât look at bad examples, like <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/java/sql/Timestamp.html\" rel=\"nofollow noreferrer\"><code>Timestamp</code></a> extending <code>Date</code> in an incompatible manner. Rather, look at examples like <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/YearMonth.html\" rel=\"nofollow noreferrer\"><code>YearMonth</code></a>, which implement common interfaces but are not subclasses of each other.</p>\n<hr />\n<p>But since this is an <em>assignment</em>, here are two ways to solve this:</p>\n<p>The problem is that the overridden method is invoked on the first object, which does not take into account that the second object might be a subclass. Therefore, split the comparison operation into two methods and invoke the second method on the second object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Date {\n    â¦\n\n    @Override\n    public boolean equals(Object obj) {\n        return obj instanceof Date &amp;&amp; ((Date)obj).sameDate(this);\n    }\n\n    protected boolean sameDate(Date d) {\n        return day == d.day &amp;&amp; month == d.month &amp;&amp; year == d.year;\n    }\n}\nclass DateT extends Date {\n    â¦\n\n    @Override\n    public boolean equals(Object obj) {\n        return obj instanceof DateT &amp;&amp; ((DateT)obj).sameDate(this);\n    }\n  \n    @Override\n    protected boolean sameDate(Date d) {\n        return d instanceof DateT &amp;&amp; month == d.month &amp;&amp; year == d.year;\n    }\n}\n</code></pre>\n<p>The overridable method <code>equals</code> delegates to the overridable method of the method argument, so if either <code>this</code> or the argument object is a <code>DateT</code>, at least one overridden method will be invoked, enforcing that both objects must be <code>DateT</code> to be equal.</p>\n<p>Thereâs a small redundancy when both objects are <code>DateT</code>, as the <code>this</code> passed to <code>sameDate</code> is already known to be of type <code>DateT</code> but to avoid this check, the comparison logic would have to be extracted into a third method which is not worth the effort here.</p>\n<hr />\n<p>The alternative is to consider that even if <code>DateT</code> doesnât use the <code>day</code> field, each instance will have it, inherited from <code>Day</code>. So, initialize it with a value that can never be equal to a valid value of a <code>Day</code> instance and youâre done. E.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Date {\n    final int day, month, year;\n\n    public Date(int day, int month, int year) {\n        if(day &lt; 0) {\n            throw new IllegalArgumentException(&quot;day = &quot; + day);\n        }\n        this.day = day;\n        this.month = month;\n        this.year = year;\n    }\n\n    // only for subclasses, might be even more restricted than protected,\n    // package-private or even private when using nested classes\n    protected Date(int month, int year) {\n        this.day = -1;\n        this.month = month;\n        this.year = year;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        return obj instanceof Date d\n            &amp;&amp; day == d.day &amp;&amp; month == d.month &amp;&amp; year == d.year;\n    }\n}\n\npublic class DateT extends Date {\n    public DateT(int month, int year) {\n        super(month, year);\n    }\n}\n</code></pre>\n<p>This assumes that a day can never be negative and enforces this property in the constructor. Only the special constructor, which should only be accessible to subclasses, will initialize the day to <code>-1</code> which can never match a valid day of a <code>Date</code> instance. This way, <code>Date</code> instances are never equal to <code>DateT</code> instances without the need for a special handling in the <code>equals</code> method.</p>\n<p>If you have a mutable <code>day</code> field, additional measures must be taken to ensure that no method can change these invariants.</p>\n"}],"owner":{"account_id":28698013,"reputation":11,"user_id":21975806,"display_name":"nelad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1685627401,"creation_date":1685359994,"question_id":76356971,"body_markdown":"I have a task to compare between two objects in java. One is a `Date` that has days, months and years. the second one extends it, `DateT` with hours and minutes. In order to to that:\r\n - I **can&#39;t** use any function from Objects Class.\r\n - I also **can&#39;t** use the Name of one Class in the other Class.\r\n - But I **can** use `instanceof`.\r\n \r\nThe problem is that when I compare between `Date date` and `Date dateT`(the subclass object) I need to return `false`.\r\n\r\nThe problem is that `date.equals(dateT)` returns `true`. Do you have some suggestions?\r\n\r\n    public boolean equals(Object other) \r\n        if (!(other instanceof Date))\r\n            return false;\r\n        Date d = (Date) other;\r\n        return day == d.day &amp;&amp; month == d.month &amp;&amp; year == d.year;\r\n    ","title":"Comparing objects with equals","body":"<p>I have a task to compare between two objects in java. One is a <code>Date</code> that has days, months and years. the second one extends it, <code>DateT</code> with hours and minutes. In order to to that:</p>\n<ul>\n<li>I <strong>can't</strong> use any function from Objects Class.</li>\n<li>I also <strong>can't</strong> use the Name of one Class in the other Class.</li>\n<li>But I <strong>can</strong> use <code>instanceof</code>.</li>\n</ul>\n<p>The problem is that when I compare between <code>Date date</code> and <code>Date dateT</code>(the subclass object) I need to return <code>false</code>.</p>\n<p>The problem is that <code>date.equals(dateT)</code> returns <code>true</code>. Do you have some suggestions?</p>\n<pre><code>public boolean equals(Object other) \n    if (!(other instanceof Date))\n        return false;\n    Date d = (Date) other;\n    return day == d.day &amp;&amp; month == d.month &amp;&amp; year == d.year;\n</code></pre>\n"},{"tags":["java","c","java-native-interface","swig"],"comments":[{"owner":{"account_id":14709065,"reputation":9457,"user_id":10622916,"display_name":"Bodo"},"score":2,"creation_date":1685456202,"post_id":76365690,"comment_id":134660483,"body_markdown":"If your generated code needs changes, this might mean that the input to the code generator is wrong. Please [edit] your question and create a [mre]. Provide all code and commands needed to reproduce your problem.","body":"If your generated code needs changes, this might mean that the input to the code generator is wrong. Please <a href=\"https://stackoverflow.com/posts/76365690/edit\">edit</a> your question and create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Provide all code and commands needed to reproduce your problem."},{"owner":{"account_id":84277,"reputation":168394,"user_id":235698,"display_name":"Mark Tolonen"},"score":1,"creation_date":1685461570,"post_id":76365690,"comment_id":134661799,"body_markdown":"Did you tell SWIG what the definition of `uint32_t` was?  `%include &lt;stdint.i&gt;`.  For unknown types SWIG creates opaque pointers to the type.","body":"Did you tell SWIG what the definition of <code>uint32_t</code> was?  <code>%include &lt;stdint.i&gt;</code>.  For unknown types SWIG creates opaque pointers to the type."},{"owner":{"account_id":84277,"reputation":168394,"user_id":235698,"display_name":"Mark Tolonen"},"score":1,"creation_date":1685480416,"post_id":76365690,"comment_id":134665465,"body_markdown":"Note that even if `bitwuzla.h` included `stdint.h`, SWIG *does not* recurse when generating wrappers via `%include` for the simple reason that you wouldn&#39;t want all of `stdio.h`, `stdlib.h` or whatever else was included to be wrapped.  There is an `-includeall` switch, but it is generally not what you want.","body":"Note that even if <code>bitwuzla.h</code> included <code>stdint.h</code>, SWIG <i>does not</i> recurse when generating wrappers via <code>%include</code> for the simple reason that you wouldn&#39;t want all of <code>stdio.h</code>, <code>stdlib.h</code> or whatever else was included to be wrapped.  There is an <code>-includeall</code> switch, but it is generally not what you want."},{"owner":{"account_id":28710811,"reputation":13,"user_id":21986341,"display_name":"HDSL"},"score":0,"creation_date":1685627529,"post_id":76365690,"comment_id":134689183,"body_markdown":"@MarkTolonen Yes, that was the answer, thank you very much! I did use the -includeall switch, but I guess it was indeed not what I wanted. But with using -includeall and adding the libraries to the interface file it works perfectly. Thanks!","body":"@MarkTolonen Yes, that was the answer, thank you very much! I did use the -includeall switch, but I guess it was indeed not what I wanted. But with using -includeall and adding the libraries to the interface file it works perfectly. Thanks!"}],"owner":{"account_id":28710811,"reputation":13,"user_id":21986341,"display_name":"HDSL"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685627384,"creation_date":1685455600,"question_id":76365690,"body_markdown":"It seems like SWIG is generating a pointer type, which then is used even when only a value itself is needed by the function. It does this by creating a function requiring the pointer type in Java, then passing its CPtr value to the generated wrapper function. However, this functions expects a pointer, not its value, and therefore leads to a Segmentation Fault. The Java file is a translation of a C file, that has been tested and works without problem. Accordingly, the problem is most likely not in the native code. I will omit it here, since the function is about 100 lines long.\r\nHere are the important parts of the various files:\r\n\r\nIn Main.java :\r\n```\r\n\r\n      bitwuzla.bitwuzla_set_option(bzla, BitwuzlaOption.BITWUZLA_OPT_INCREMENTAL, new SWIGTYPE_p_uint32_t(1, false));\r\n```\r\n\r\nThe generated type:\r\n\r\n\r\n```\r\npublic class SWIGTYPE_p_uint32_t {\r\n  private transient long swigCPtr;\r\n\r\n  protected SWIGTYPE_p_uint32_t(long cPtr, @SuppressWarnings(&quot;unused&quot;) boolean futureUse) {\r\n    swigCPtr = cPtr;\r\n  }\r\n\r\n  protected SWIGTYPE_p_uint32_t() {\r\n    swigCPtr = 0;\r\n  }\r\n\r\n  protected static long getCPtr(SWIGTYPE_p_uint32_t obj) {\r\n    return (obj == null) ? 0 : obj.swigCPtr;\r\n  }\r\n}\r\n```\r\n\r\nThe generated wrapper, of which only jarg3 and its handling is important:\r\n\r\n```\r\nSWIGEXPORT void JNICALL Java_bitwuzlaJNI_bitwuzla_1set_1option(JNIEnv *jenv, jclass jcls, jlong jarg1, jint jarg2, jlong jarg3) {\r\n  Bitwuzla *arg1 = (Bitwuzla *) 0 ;\r\n  BitwuzlaOption arg2 ;\r\n  uint32_t arg3 ;\r\n  uint32_t *argp3 ;\r\n  (void)jenv;\r\n  (void)jcls;\r\n  arg1 = *(Bitwuzla **)&amp;jarg1; \r\n  arg2 = (BitwuzlaOption)jarg2; \r\n  argp3 = *(uint32_t **)&amp;jarg3;\r\n\r\n  printf(&quot;jarg3: %ld\\n&quot;, jarg3); // 1\r\n\r\n  printf(&quot;argp3: %p\\n&quot;, (void *)argp3); // 0x1\r\n\r\n  if (!argp3) {\r\n    SWIG_JavaThrowException(jenv, SWIG_JavaNullPointerException, &quot;Attempt to dereference null uint32_t&quot;);\r\n    return ;\r\n  }\r\n  arg3 = *argp3; // The program crashes here, since it is trying to dereference 0x1\r\n  bitwuzla_set_option(arg1,arg2,arg3);\r\n}\r\n```\r\n\r\nThe native function:\r\n\r\n```\r\nvoid\r\nbitwuzla_set_option(Bitwuzla *bitwuzla, BitwuzlaOption option, uint32_t value)\r\n```\r\n\r\nThe SWIG interface file is fairly basic so far:\r\n\r\n```\r\n%module bitwuzla\r\n%{\r\n#include &quot;bitwuzla.h&quot;\r\n%}\r\n\r\ntypedef struct Bitwuzla Bitwuzla;\r\n\r\n%include &quot;bitwuzla.h&quot;\r\n```\r\nAnd the error:\r\n\r\n```\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00007f1e74706a60, pid=28005, tid=28006\r\n#\r\n# JRE version: OpenJDK Runtime Environment (11.0.19+7) (build 11.0.19+7-post-Ubuntu-0ubuntu122.04.1)\r\n# Java VM: OpenJDK 64-Bit Server VM (11.0.19+7-post-Ubuntu-0ubuntu122.04.1, mixed mode, sharing, tiered, compressed oops, g1 gc, linux-amd64)\r\n# Problematic frame:\r\n# C  [libbitwuzla.so+0x47a60]  Java_bitwuzlaJNI_bitwuzla_1set_1option+0x9e\r\n```\r\n\r\n\r\nThe code does run if I change the wrapping file as follows:\r\n\r\n\r\n```\r\narg3 = *(uint32_t *)&amp;jarg3;\r\nbitwuzla_set_option(arg1,arg2,arg3);\r\n```\r\n\r\nHowever, changing all occorunces of this mistake manually seems labor intensive and prone to errors.\r\nI have looked through the SWIG documentation, specifically on typemaps, but it doesn&#39;t seem like anything addresses what to do if SWIG simply improperly uses a pointer type. I am hesitant to simply change the pointer type to a long type, since the native code does use uint32 pointers as well. Is there a specific way of modifying the interface file to change SWIGs behaviour regarding this type? ","title":"SWIG incorrectly using a generated pointer type when generating Java code from C. How to change the interface file?","body":"<p>It seems like SWIG is generating a pointer type, which then is used even when only a value itself is needed by the function. It does this by creating a function requiring the pointer type in Java, then passing its CPtr value to the generated wrapper function. However, this functions expects a pointer, not its value, and therefore leads to a Segmentation Fault. The Java file is a translation of a C file, that has been tested and works without problem. Accordingly, the problem is most likely not in the native code. I will omit it here, since the function is about 100 lines long.\nHere are the important parts of the various files:</p>\n<p>In Main.java :</p>\n<pre><code>\n      bitwuzla.bitwuzla_set_option(bzla, BitwuzlaOption.BITWUZLA_OPT_INCREMENTAL, new SWIGTYPE_p_uint32_t(1, false));\n</code></pre>\n<p>The generated type:</p>\n<pre><code>public class SWIGTYPE_p_uint32_t {\n  private transient long swigCPtr;\n\n  protected SWIGTYPE_p_uint32_t(long cPtr, @SuppressWarnings(&quot;unused&quot;) boolean futureUse) {\n    swigCPtr = cPtr;\n  }\n\n  protected SWIGTYPE_p_uint32_t() {\n    swigCPtr = 0;\n  }\n\n  protected static long getCPtr(SWIGTYPE_p_uint32_t obj) {\n    return (obj == null) ? 0 : obj.swigCPtr;\n  }\n}\n</code></pre>\n<p>The generated wrapper, of which only jarg3 and its handling is important:</p>\n<pre><code>SWIGEXPORT void JNICALL Java_bitwuzlaJNI_bitwuzla_1set_1option(JNIEnv *jenv, jclass jcls, jlong jarg1, jint jarg2, jlong jarg3) {\n  Bitwuzla *arg1 = (Bitwuzla *) 0 ;\n  BitwuzlaOption arg2 ;\n  uint32_t arg3 ;\n  uint32_t *argp3 ;\n  (void)jenv;\n  (void)jcls;\n  arg1 = *(Bitwuzla **)&amp;jarg1; \n  arg2 = (BitwuzlaOption)jarg2; \n  argp3 = *(uint32_t **)&amp;jarg3;\n\n  printf(&quot;jarg3: %ld\\n&quot;, jarg3); // 1\n\n  printf(&quot;argp3: %p\\n&quot;, (void *)argp3); // 0x1\n\n  if (!argp3) {\n    SWIG_JavaThrowException(jenv, SWIG_JavaNullPointerException, &quot;Attempt to dereference null uint32_t&quot;);\n    return ;\n  }\n  arg3 = *argp3; // The program crashes here, since it is trying to dereference 0x1\n  bitwuzla_set_option(arg1,arg2,arg3);\n}\n</code></pre>\n<p>The native function:</p>\n<pre><code>void\nbitwuzla_set_option(Bitwuzla *bitwuzla, BitwuzlaOption option, uint32_t value)\n</code></pre>\n<p>The SWIG interface file is fairly basic so far:</p>\n<pre><code>%module bitwuzla\n%{\n#include &quot;bitwuzla.h&quot;\n%}\n\ntypedef struct Bitwuzla Bitwuzla;\n\n%include &quot;bitwuzla.h&quot;\n</code></pre>\n<p>And the error:</p>\n<pre><code># A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007f1e74706a60, pid=28005, tid=28006\n#\n# JRE version: OpenJDK Runtime Environment (11.0.19+7) (build 11.0.19+7-post-Ubuntu-0ubuntu122.04.1)\n# Java VM: OpenJDK 64-Bit Server VM (11.0.19+7-post-Ubuntu-0ubuntu122.04.1, mixed mode, sharing, tiered, compressed oops, g1 gc, linux-amd64)\n# Problematic frame:\n# C  [libbitwuzla.so+0x47a60]  Java_bitwuzlaJNI_bitwuzla_1set_1option+0x9e\n</code></pre>\n<p>The code does run if I change the wrapping file as follows:</p>\n<pre><code>arg3 = *(uint32_t *)&amp;jarg3;\nbitwuzla_set_option(arg1,arg2,arg3);\n</code></pre>\n<p>However, changing all occorunces of this mistake manually seems labor intensive and prone to errors.\nI have looked through the SWIG documentation, specifically on typemaps, but it doesn't seem like anything addresses what to do if SWIG simply improperly uses a pointer type. I am hesitant to simply change the pointer type to a long type, since the native code does use uint32 pointers as well. Is there a specific way of modifying the interface file to change SWIGs behaviour regarding this type?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1314958543,"post_id":7281875,"comment_id":8768475,"body_markdown":"*&quot;calcul&quot;*  Is that a word in your language, or are you just being lazy?","body":"<i>&quot;calcul&quot;</i>  Is that a word in your language, or are you just being lazy?"}],"answers":[{"comments":[{"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"score":0,"creation_date":1542021287,"post_id":7281908,"comment_id":93406240,"body_markdown":"Please do keep in mind that adding a `try...catch` block on the innermost part of a loop can be expensive on Java; explicitly checking for non-emptiness will be probably more efficient, as long as you don&#39;t have any cells with non-numeric non-empty text.","body":"Please do keep in mind that adding a <code>try...catch</code> block on the innermost part of a loop can be expensive on Java; explicitly checking for non-emptiness will be probably more efficient, as long as you don&#39;t have any cells with non-numeric non-empty text."}],"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1314958549,"creation_date":1314957860,"answer_id":7281908,"question_id":7281875,"body_markdown":"You have at least one empty cell in your table.\r\n\r\nHere&#39;s a suggestion:\r\n\r\n    try {\r\n       sum += Integer.parseInt(columnValue);\r\n    } catch (NumberFormatException nfe) {\r\n      // the cell is either empty or not an integer number\r\n      // will be treated as zero (0)\r\n    }\r\n\r\n---\r\n\r\nNote, that the method `getColumnValue(int i, String name)` is not defined for `javax.swing.JTable`. If you use a subclass of `JTable` then the error could be in that class/method too: it may return an empty string instead of a cell value.","title":"java : convert string value to int","body":"<p>You have at least one empty cell in your table.</p>\n\n<p>Here's a suggestion:</p>\n\n<pre><code>try {\n   sum += Integer.parseInt(columnValue);\n} catch (NumberFormatException nfe) {\n  // the cell is either empty or not an integer number\n  // will be treated as zero (0)\n}\n</code></pre>\n\n<hr>\n\n<p>Note, that the method <code>getColumnValue(int i, String name)</code> is not defined for <code>javax.swing.JTable</code>. If you use a subclass of <code>JTable</code> then the error could be in that class/method too: it may return an empty string instead of a cell value.</p>\n"},{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1314958224,"creation_date":1314957906,"answer_id":7281916,"question_id":7281875,"body_markdown":"If `columnValue` is empty (`&quot;&quot;`), you can&#39;t parse it. Just skip the that column in this case, i.e. \r\n\r\n    if( columnValue != null || columnValue.length() &gt; 0 ) {\r\n     //parse and add here\r\n    }\r\n\r\nNote that I added the check for null just in case, you might not need it if `myTable.getColumnValue(...)` is guaranteed to never return null.\r\n\r\nAlso note that you might try and handle other cases as well, depending on what values might be in your table. If blank strings like `&quot;  &quot;` or general alpha-numeric values are allowed, you need to account for that as well.\r\n\r\nFinally, why are your values stored as strings if they actually are numbers? Why don&#39;t you store them as `Integer` objects right away?","title":"java : convert string value to int","body":"<p>If <code>columnValue</code> is empty (<code>\"\"</code>), you can't parse it. Just skip the that column in this case, i.e. </p>\n\n<pre><code>if( columnValue != null || columnValue.length() &gt; 0 ) {\n //parse and add here\n}\n</code></pre>\n\n<p>Note that I added the check for null just in case, you might not need it if <code>myTable.getColumnValue(...)</code> is guaranteed to never return null.</p>\n\n<p>Also note that you might try and handle other cases as well, depending on what values might be in your table. If blank strings like <code>\"  \"</code> or general alpha-numeric values are allowed, you need to account for that as well.</p>\n\n<p>Finally, why are your values stored as strings if they actually are numbers? Why don't you store them as <code>Integer</code> objects right away?</p>\n"},{"tags":[],"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1314957921,"creation_date":1314957921,"answer_id":7281918,"question_id":7281875,"body_markdown":"An empty string cannot be converted to an int. If you want to treat it as 0, add the appropriate if statement.","title":"java : convert string value to int","body":"<p>An empty string cannot be converted to an int. If you want to treat it as 0, add the appropriate if statement.</p>\n"},{"tags":[],"owner":{"account_id":389881,"reputation":53027,"user_id":749588,"accept_rate":65,"display_name":"Jean Logeart"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1314957955,"creation_date":1314957955,"answer_id":7281926,"question_id":7281875,"body_markdown":"What the compiler is telling you is that you are trying to convert an empty string ``&quot;&quot;`` to an ``int`` . So you may want to check that you are converting strings that actually represent integers!","title":"java : convert string value to int","body":"<p>What the compiler is telling you is that you are trying to convert an empty string <code>\"\"</code> to an <code>int</code> . So you may want to check that you are converting strings that actually represent integers!</p>\n"},{"tags":[],"owner":{"account_id":102091,"reputation":116,"user_id":274247,"display_name":"Aditya"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1327926911,"creation_date":1314958096,"answer_id":7281956,"question_id":7281875,"body_markdown":"Put a check for null/empty string before calling the conversion with `parseInst`. \r\n\r\n    if (columnValue != null &amp;&amp; !columnValue.isEmpty())\r\n    \tsum=sum+Integer.parseInt(columnValue);\r\n\r\nI am not sure about exact syntax so verify before using it.\r\n\r\n","title":"java : convert string value to int","body":"<p>Put a check for null/empty string before calling the conversion with <code>parseInst</code>. </p>\n\n<pre><code>if (columnValue != null &amp;&amp; !columnValue.isEmpty())\n    sum=sum+Integer.parseInt(columnValue);\n</code></pre>\n\n<p>I am not sure about exact syntax so verify before using it.</p>\n"},{"tags":[],"owner":{"account_id":255356,"reputation":829,"user_id":535357,"accept_rate":60,"display_name":"Simson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1314958598,"creation_date":1314958226,"answer_id":7281980,"question_id":7281875,"body_markdown":"If the empty String means 0 in your case, you can just check this before:\r\n\r\n    if (!columnValue.equals(&quot;&quot;))\r\n        sum=sum+Integer.parseInt(columnValue);\r\n\r\nOr even better:\r\n\r\n    if(!columnValue.isEmpty())\r\n        sum=sum+Integer.parseInt(columnValue);\r\n\r\n\r\n\r\n","title":"java : convert string value to int","body":"<p>If the empty String means 0 in your case, you can just check this before:</p>\n\n<pre><code>if (!columnValue.equals(\"\"))\n    sum=sum+Integer.parseInt(columnValue);\n</code></pre>\n\n<p>Or even better:</p>\n\n<pre><code>if(!columnValue.isEmpty())\n    sum=sum+Integer.parseInt(columnValue);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":875271,"reputation":2505,"user_id":925040,"accept_rate":75,"display_name":"Alexius DIAKOGIANNIS"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1327925026,"creation_date":1314958359,"answer_id":7282003,"question_id":7281875,"body_markdown":"I guess you will need to convert an empty *String* or null value to zero.\r\n\r\nSo you need to trim the whitespaces when you get the *String* value and then check if the string  is empty.\r\n\r\nHere is what your code should look like\r\n\r\n    final ArrayList&lt;String&gt;ValuesList = new ArrayList&lt;String&gt;();\r\n    final int nb = myTable.getRowCount();\r\n    int sum=0;\r\n    String columnValue = &quot;&quot;;\r\n    \r\n    for (int i = 1; i &lt; nb; i++)\r\n    {\r\n    \tcolumnValue = myTable.getColumnValue(i, columnName).trim();\r\n    \tif (!columnValue.isEmpty()) {\r\n    \t\tsum=sum+Integer.parseInt(columnValue);\r\n    \t}\r\n    \r\n    \tValuesList.add(columnValue);\r\n    }\r\n\r\n","title":"java : convert string value to int","body":"<p>I guess you will need to convert an empty <em>String</em> or null value to zero.</p>\n\n<p>So you need to trim the whitespaces when you get the <em>String</em> value and then check if the string  is empty.</p>\n\n<p>Here is what your code should look like</p>\n\n<pre><code>final ArrayList&lt;String&gt;ValuesList = new ArrayList&lt;String&gt;();\nfinal int nb = myTable.getRowCount();\nint sum=0;\nString columnValue = \"\";\n\nfor (int i = 1; i &lt; nb; i++)\n{\n    columnValue = myTable.getColumnValue(i, columnName).trim();\n    if (!columnValue.isEmpty()) {\n        sum=sum+Integer.parseInt(columnValue);\n    }\n\n    ValuesList.add(columnValue);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9043062,"reputation":1293,"user_id":6736591,"display_name":"Nakamoto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685627289,"creation_date":1685627289,"answer_id":76382588,"question_id":7281875,"body_markdown":"You could use Java Optionals to accomplish that:\r\n\r\n    public class NumberUtil {\r\n        \r\n        public static Integer convertBlankOrNull(String string) {\r\n            return Optional.ofNullable(string)\r\n                    .map(String::trim)\r\n                    .filter(s -&gt; !s.isEmpty())\r\n                    .map(Integer::parseInt)\r\n                    .orElse(0);\r\n        }\r\n    }\r\n\r\n","title":"java : convert string value to int","body":"<p>You could use Java Optionals to accomplish that:</p>\n<pre><code>public class NumberUtil {\n    \n    public static Integer convertBlankOrNull(String string) {\n        return Optional.ofNullable(string)\n                .map(String::trim)\n                .filter(s -&gt; !s.isEmpty())\n                .map(Integer::parseInt)\n                .orElse(0);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":874984,"reputation":33,"user_id":924804,"display_name":"lamisse"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19707,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":8,"score":2,"last_activity_date":1685627289,"creation_date":1314957715,"question_id":7281875,"body_markdown":"from *JTable*, I try to get values (which are string) of each column from [row 1 to ..end of row] and calcul sum of values as follow :\r\n\r\n    final ArrayList&lt;String&gt;ValuesList = new ArrayList&lt;String&gt;();\r\n    final int nb = myTable.getRowCount();\r\n    int sum=0;\r\n    \r\n    for (int i = 1; i &lt; nb; i++)\r\n    {\r\n    \tString columnValue = myTable.getColumnValue(i, columnName);\r\n    \r\n    \tsum=sum+Integer.parseInt(columnValue);\r\n    \r\n    \tValuesList .add(columnValue);\r\n    }\r\n\r\nbut I got :\r\n\r\n    java.lang.NumberFormatException: For input string: &quot;&quot;\r\n    \tat java.lang.NumberFormatException.forInputString(Unknown Source)\r\n    \tat java.lang.Integer.parseInt(Unknown Source)\r\n    \tat java.lang.Integer.parseInt(Unknown Source)\r\n\t","title":"java : convert string value to int","body":"<p>from <em>JTable</em>, I try to get values (which are string) of each column from [row 1 to ..end of row] and calcul sum of values as follow :</p>\n\n<pre><code>final ArrayList&lt;String&gt;ValuesList = new ArrayList&lt;String&gt;();\nfinal int nb = myTable.getRowCount();\nint sum=0;\n\nfor (int i = 1; i &lt; nb; i++)\n{\n    String columnValue = myTable.getColumnValue(i, columnName);\n\n    sum=sum+Integer.parseInt(columnValue);\n\n    ValuesList .add(columnValue);\n}\n</code></pre>\n\n<p>but I got :</p>\n\n<pre><code>java.lang.NumberFormatException: For input string: \"\"\n    at java.lang.NumberFormatException.forInputString(Unknown Source)\n    at java.lang.Integer.parseInt(Unknown Source)\n    at java.lang.Integer.parseInt(Unknown Source)\n</code></pre>\n"},{"tags":["java","sql","spring-boot","hibernate","hql"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1685546370,"post_id":76374877,"comment_id":134676103,"body_markdown":"it is asking to define alias for `CHILD1.parent.id`","body":"it is asking to define alias for <code>CHILD1.parent.id</code>"},{"owner":{"account_id":15763584,"reputation":47,"user_id":11374675,"display_name":"kuytsce"},"score":0,"creation_date":1685602063,"post_id":76374877,"comment_id":134683515,"body_markdown":"Thanks for the reply, are you referring to adding the alias to the group by statement e.g. \n\n\n\n`GROUP BY CHILD1.parent.id as ALIAS`\n\n\n\nIf so then I get a &#39;no viable alternative at input&#39; error \n\n\n\n`Caused by: org.hibernate.query.sqm.ParsingException: line 1:340 no viable alternative at input &#39;SELECTPARENT,CHILD1FROMParentPARENTINNERJOINChildCHILD1ONCHILD1.parent.id=PARENT.idINNERJOIN(SELECTCHILD1.parent.id,MAX(CHILD1.effectiveTimestamp)asMaxEff,MAX(CHILD1.createdTimestamp)asMaxCreFROMChildasCHILD2WHERECHILD1.effectiveTimestamp&lt;=:currentTimestampGROUPBYCHILD1.parent.idALIAS&#39;`","body":"Thanks for the reply, are you referring to adding the alias to the group by statement e.g.     <code>GROUP BY CHILD1.parent.id as ALIAS</code>    If so then I get a &#39;no viable alternative at input&#39; error     <code>Caused by: org.hibernate.query.sqm.ParsingException: line 1:340 no viable alternative at input &#39;SELECTPARENT,CHILD1FROMParentPARENTINNERJOINChildCHILD1ONCH&zwnj;&#8203;ILD1.parent.id=PAREN&zwnj;&#8203;T.idINNERJOIN(SELECT&zwnj;&#8203;CHILD1.parent.id,MAX&zwnj;&#8203;(CHILD1.effectiveTim&zwnj;&#8203;estamp)asMaxEff,MAX(&zwnj;&#8203;CHILD1.createdTimest&zwnj;&#8203;amp)asMaxCreFROMChil&zwnj;&#8203;dasCHILD2WHERECHILD1&zwnj;&#8203;.effectiveTimestamp&lt;&zwnj;&#8203;=:currentTimestampGR&zwnj;&#8203;OUPBYCHILD1.parent.i&zwnj;&#8203;dALIAS&#39;</code>"},{"owner":{"account_id":15763584,"reputation":47,"user_id":11374675,"display_name":"kuytsce"},"score":0,"creation_date":1685602359,"post_id":76374877,"comment_id":134683561,"body_markdown":"If you are referring to adding to the join statements  `ON CHILD1.parent.id = PARENT.id` then I understandably get this error `Caused by: org.hibernate.query.sqm.ParsingException: line 1:92 mismatched input &#39;AS&#39; expecting {&lt;EOF&gt;, &#39;,&#39;, &#39;.&#39;, &#39;[&#39;, &#39;+&#39;, &#39;-&#39;, &#39;*&#39;, &#39;/&#39;, &#39;%&#39;, &#39;||&#39;, AND, BY, CROSS, DAY, FULL, GROUP, HOUR, INNER, JOIN, LEFT, MINUTE, MONTH, NANOSECOND, OR, ORDER, OUTER, QUARTER, RIGHT, SECOND, WEEK, WHERE, YEAR}`","body":"If you are referring to adding to the join statements  <code>ON CHILD1.parent.id = PARENT.id</code> then I understandably get this error <code>Caused by: org.hibernate.query.sqm.ParsingException: line 1:92 mismatched input &#39;AS&#39; expecting {&lt;EOF&gt;, &#39;,&#39;, &#39;.&#39;, &#39;[&#39;, &#39;+&#39;, &#39;-&#39;, &#39;*&#39;, &#39;&#47;&#39;, &#39;%&#39;, &#39;||&#39;, AND, BY, CROSS, DAY, FULL, GROUP, HOUR, INNER, JOIN, LEFT, MINUTE, MONTH, NANOSECOND, OR, ORDER, OUTER, QUARTER, RIGHT, SECOND, WEEK, WHERE, YEAR}</code>"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1685603044,"post_id":76374877,"comment_id":134683667,"body_markdown":"`SELECT CHILD1.parent.id` -&gt; `SELECT CHILD1.parent.id AS parent_id`, `ON CHILD2.parent.id = CHILD1.parent.id` -&gt; `ON CHILD2.parent_id = CHILD1.parent.id`","body":"<code>SELECT CHILD1.parent.id</code> -&gt; <code>SELECT CHILD1.parent.id AS parent_id</code>, <code>ON CHILD2.parent.id = CHILD1.parent.id</code> -&gt; <code>ON CHILD2.parent_id = CHILD1.parent.id</code>"},{"owner":{"account_id":15763584,"reputation":47,"user_id":11374675,"display_name":"kuytsce"},"score":0,"creation_date":1685608033,"post_id":76374877,"comment_id":134684659,"body_markdown":"Thanks, that&#39;s resolved the alias issue, I&#39;m now getting this exception instead `Caused by: org.hibernate.query.SemanticException: Could not resolve attribute &#39;parent&#39; of &#39;java.lang.Object[]&#39;`","body":"Thanks, that&#39;s resolved the alias issue, I&#39;m now getting this exception instead <code>Caused by: org.hibernate.query.SemanticException: Could not resolve attribute &#39;parent&#39; of &#39;java.lang.Object[]&#39;</code>"}],"answers":[{"tags":[],"owner":{"account_id":15763584,"reputation":47,"user_id":11374675,"display_name":"kuytsce"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685627139,"creation_date":1685627139,"answer_id":76382558,"question_id":76374877,"body_markdown":"Using the alias I added off the back of the comment from Andrey B. Panfilov, I had to use that alias in my second inner join to fix the &#39;Could not resolve attribute&#39; error. The hibernate query below now works.\r\n\r\n\r\n```\r\n\r\n@Query(value = &quot;SELECT PARENT, CHILD1 FROM Parent PARENT &quot;\r\n              + &quot; INNER JOIN Child CHILD1 &quot;\r\n              + &quot;   ON CHILD1.parent.id = PARENT.id &quot;\r\n              + &quot;   INNER JOIN &quot;\r\n              + &quot;  ( SELECT CHILD1.parent.id as NEWALIAS, MAX(CHILD1.effectiveTimestamp) as MaxEff, MAX(CHILD1.createdTimestamp) as MaxCre &quot;\r\n              + &quot;  FROM Child as CHILD2 &quot;\r\n              + &quot;     WHERE CHILD1.effectiveTimestamp &lt;= :currentTimestamp &quot;\r\n              + &quot;     GROUP BY CHILD1.parent.id &quot;\r\n              + &quot;     ) CHILD2 &quot;\r\n              + &quot;   ON NEWALIAS = CHILD2.parent.id &quot;\r\n              + &quot;   AND CHILD2.MaxEff = CHILD1.effectiveTimestamp &quot;\r\n              + &quot;   AND CHILD2.MaxCre = CHILD1.createdTimestamp &quot; )\r\n      Optional&lt;List&lt;Parent&gt;&gt; getAllActiveChildByParent(@Param(&quot;currentTimestamp&quot;) LocalDateTime currentTimestamp);\r\n```","title":"Error converting valid SQL query into valid HQL","body":"<p>Using the alias I added off the back of the comment from Andrey B. Panfilov, I had to use that alias in my second inner join to fix the 'Could not resolve attribute' error. The hibernate query below now works.</p>\n<pre><code>\n@Query(value = &quot;SELECT PARENT, CHILD1 FROM Parent PARENT &quot;\n              + &quot; INNER JOIN Child CHILD1 &quot;\n              + &quot;   ON CHILD1.parent.id = PARENT.id &quot;\n              + &quot;   INNER JOIN &quot;\n              + &quot;  ( SELECT CHILD1.parent.id as NEWALIAS, MAX(CHILD1.effectiveTimestamp) as MaxEff, MAX(CHILD1.createdTimestamp) as MaxCre &quot;\n              + &quot;  FROM Child as CHILD2 &quot;\n              + &quot;     WHERE CHILD1.effectiveTimestamp &lt;= :currentTimestamp &quot;\n              + &quot;     GROUP BY CHILD1.parent.id &quot;\n              + &quot;     ) CHILD2 &quot;\n              + &quot;   ON NEWALIAS = CHILD2.parent.id &quot;\n              + &quot;   AND CHILD2.MaxEff = CHILD1.effectiveTimestamp &quot;\n              + &quot;   AND CHILD2.MaxCre = CHILD1.createdTimestamp &quot; )\n      Optional&lt;List&lt;Parent&gt;&gt; getAllActiveChildByParent(@Param(&quot;currentTimestamp&quot;) LocalDateTime currentTimestamp);\n</code></pre>\n"}],"owner":{"account_id":15763584,"reputation":47,"user_id":11374675,"display_name":"kuytsce"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685627139,"creation_date":1685545252,"question_id":76374877,"body_markdown":"I&#39;m running a SpringBoot Java application which is currently using hibernate-core 6.1.7.Final. I have a valid SQL query that gives me the results I need which I need to convert into HQL so my app can run the query and return the same results. However, I keep getting an error during app start up. I&#39;ve had multiple different errors while trying to fix the HQL, the current error based on the current version of the code shown below is: \r\n\r\n`java.lang.IllegalArgumentException: Component at index 0 has no alias, but alias is required`\r\n\r\nBelow is the working SQL query that gives the correct results:\r\n\r\n```\r\nSELECT PARENT.* \r\n      , CHILD1.* \r\n    FROM [dbo].[PARENT] PARENT \r\n  INNER JOIN [dbo].[CHILD] CHILD1 \r\n      ON CHILD1.ParentId = PARENT.id \r\n  INNER JOIN ( \r\n      SELECT parentId, MAX(effectivetimestamp) as MaxEff, Max([createdtimestamp]) as MaxCre \r\n        FROM [dbo].[CHILD] as CHILD2\r\n        WHERE CHILD2.effectivetimestamp &lt; Cast(Getutcdate() at time zone &#39;UTC&#39; at time zone &#39;GMT Standard Time&#39; AS DATETIME2) \r\n        GROUP BY parentId \r\n      ) CHILD2 \r\n    ON CHILD2.parentId = CHILD1.parentId \r\n    AND CHILD2.MaxEff = CHILD1.effectiveTimestamp \r\n    AND CHILD2.MaxCre = CHILD1.createdTimestamp \r\n\r\n```\r\ndbo.PARENT has a one to many relationship with dbo.CHILD. dbo.CHILD has the columns effectiveTimestamp and this query is returning all Parents with the current active Child (latest effectiveTimestamp value that is not future dated for each parent).\r\n\r\nBelow are the Java entity classes for Parent and Child:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;PARENT&quot;)\r\npublic class Parent {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id&quot;, nullable = false, unique = true)\r\n\tprivate Integer id;\r\n\r\n\t@OneToMany(mappedBy = &quot;parent&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true)\r\n\t@Fetch(value = FetchMode.SUBSELECT)\r\n\t@JsonManagedReference\r\n\tprivate List&lt;Child&gt; child;\r\n\r\n\tpublic List&lt;Child&gt; getChild() {\r\n\t\treturn child;\r\n\t}\r\n\r\n\tpublic void setChild(List&lt;Child&gt; child) {\r\n\t\tthis.child = child;\r\n\t}\r\n\r\n}\r\n```\r\n```\r\n@Entity\r\n@Table(name = &quot;CHILD&quot;)\r\npublic class Child {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id&quot;, nullable = false, unique = true)\r\n\tprivate Integer id;\r\n\t\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;parentId&quot;)\r\n\t@JsonBackReference\r\n\tprivate Parent parent;\r\n\t\r\n\t@Column(name = &quot;effectiveTimestamp&quot;, nullable = false)\r\n\tprivate LocalDateTime effectiveTimestamp;\r\n\t\r\n\t@Column(name = &quot;createdTimestamp&quot;, nullable = false)\r\n\tprivate LocalDateTime createdTimestamp;\r\n\t\r\n\r\n\tpublic Integer getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Integer id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic Parent getParent() {\r\n\t\treturn parent;\r\n\t}\r\n\r\n\tpublic void setParent(Parent parent) {\r\n\t\tthis.parent = parent;\r\n\t}\r\n\r\n\tpublic LocalDateTime getEffectiveTimestamp() {\r\n\t\treturn effectiveTimestamp;\r\n\t}\r\n\r\n\tpublic void setEffectiveTimestamp(LocalDateTime effectiveTimestamp) {\r\n\t\tthis.effectiveTimestamp = effectiveTimestamp;\r\n\t}\r\n\r\n\tpublic LocalDateTime getCreatedTimestamp() {\r\n\t\treturn createdTimestamp;\r\n\t}\r\n\r\n\tpublic void setCreatedTimestamp(LocalDateTime createdTimestamp) {\r\n\t\tthis.createdTimestamp = createdTimestamp;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAnd this is my current attempt at the native hibernate query that is currently failing. I want it to return all Parent objects in the table, joining only the current active Child to the Parent.\r\n\r\n```\r\n\t  @Query(value = &quot;SELECT PARENT, CHILD1 FROM Parent PARENT &quot;\r\n\t\t\t  + &quot; INNER JOIN Child CHILD1 &quot;\r\n\t\t\t  + &quot;   ON CHILD1.parent.id = PARENT.id &quot;\r\n\t\t\t  + &quot;   INNER JOIN &quot;\r\n\t\t\t  + &quot;  ( SELECT CHILD1.parent.id, MAX(CHILD1.effectiveTimestamp) as MaxEff, MAX(CHILD1.createdTimestamp) as MaxCre &quot;\r\n\t\t\t  + &quot;  FROM Child as CHILD2 &quot;\r\n\t\t\t  + &quot;     WHERE CHILD1.effectiveTimestamp &lt;= :currentTimestamp &quot;\r\n\t\t\t  + &quot;     GROUP BY CHILD1.parent.id &quot;\r\n\t\t\t  + &quot;     ) CHILD2 &quot;\r\n\t\t\t  + &quot;   ON CHILD2.parent.id = CHILD1.parent.id &quot;\r\n\t\t\t  + &quot;   AND CHILD2.MaxEff = CHILD1.effectiveTimestamp &quot;\r\n\t\t\t  + &quot;   AND CHILD2.MaxCre = CHILD1.createdTimestamp &quot; )\r\n\t  Optional&lt;List&lt;Parent&gt;&gt; getAllActiveChildByParent(@Param(&quot;currentTimestamp&quot;) LocalDateTime currentTimestamp);\r\n```\r\n\r\nAny help will be greatly appreciated.\r\n\r\n**UPDATE**\r\nFollowing the comment from Andrey B. Panfilov below I have added the missing alias which can be seen below.\r\n\r\n```\r\n @Query(value = &quot;SELECT PARENT, CHILD1 FROM Parent PARENT &quot;\r\n              + &quot; INNER JOIN Child CHILD1 &quot;\r\n              + &quot;   ON CHILD1.parent.id = PARENT.id &quot;\r\n              + &quot;   INNER JOIN &quot;\r\n              + &quot;  ( SELECT CHILD1.parent.id as NEWALIAS, MAX(CHILD1.effectiveTimestamp) as MaxEff, MAX(CHILD1.createdTimestamp) as MaxCre &quot;\r\n              + &quot;  FROM Child as CHILD2 &quot;\r\n              + &quot;     WHERE CHILD1.effectiveTimestamp &lt;= :currentTimestamp &quot;\r\n              + &quot;     GROUP BY CHILD1.parent.id &quot;\r\n              + &quot;     ) CHILD2 &quot;\r\n              + &quot;   ON CHILD2.parent.id = CHILD1.parent.id &quot;\r\n              + &quot;   AND CHILD2.MaxEff = CHILD1.effectiveTimestamp &quot;\r\n              + &quot;   AND CHILD2.MaxCre = CHILD1.createdTimestamp &quot; )\r\n      Optional&lt;List&lt;Parent&gt;&gt; getAllActiveChildByParent(@Param(&quot;currentTimestamp&quot;) LocalDateTime currentTimestamp);\r\n```\r\nHowever I am now getting this error:\r\n```\r\nCaused by: org.hibernate.query.SemanticException: Could not resolve attribute &#39;parent&#39; of &#39;java.lang.Object[]&#39;\r\n```\r\nBy breaking down the hibernate query I believe the error is coming from the 2nd inner join, but I can&#39;t see what in that section is causing the error.","title":"Error converting valid SQL query into valid HQL","body":"<p>I'm running a SpringBoot Java application which is currently using hibernate-core 6.1.7.Final. I have a valid SQL query that gives me the results I need which I need to convert into HQL so my app can run the query and return the same results. However, I keep getting an error during app start up. I've had multiple different errors while trying to fix the HQL, the current error based on the current version of the code shown below is:</p>\n<p><code>java.lang.IllegalArgumentException: Component at index 0 has no alias, but alias is required</code></p>\n<p>Below is the working SQL query that gives the correct results:</p>\n<pre><code>SELECT PARENT.* \n      , CHILD1.* \n    FROM [dbo].[PARENT] PARENT \n  INNER JOIN [dbo].[CHILD] CHILD1 \n      ON CHILD1.ParentId = PARENT.id \n  INNER JOIN ( \n      SELECT parentId, MAX(effectivetimestamp) as MaxEff, Max([createdtimestamp]) as MaxCre \n        FROM [dbo].[CHILD] as CHILD2\n        WHERE CHILD2.effectivetimestamp &lt; Cast(Getutcdate() at time zone 'UTC' at time zone 'GMT Standard Time' AS DATETIME2) \n        GROUP BY parentId \n      ) CHILD2 \n    ON CHILD2.parentId = CHILD1.parentId \n    AND CHILD2.MaxEff = CHILD1.effectiveTimestamp \n    AND CHILD2.MaxCre = CHILD1.createdTimestamp \n\n</code></pre>\n<p>dbo.PARENT has a one to many relationship with dbo.CHILD. dbo.CHILD has the columns effectiveTimestamp and this query is returning all Parents with the current active Child (latest effectiveTimestamp value that is not future dated for each parent).</p>\n<p>Below are the Java entity classes for Parent and Child:</p>\n<pre><code>@Entity\n@Table(name = &quot;PARENT&quot;)\npublic class Parent {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false, unique = true)\n    private Integer id;\n\n    @OneToMany(mappedBy = &quot;parent&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true)\n    @Fetch(value = FetchMode.SUBSELECT)\n    @JsonManagedReference\n    private List&lt;Child&gt; child;\n\n    public List&lt;Child&gt; getChild() {\n        return child;\n    }\n\n    public void setChild(List&lt;Child&gt; child) {\n        this.child = child;\n    }\n\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;CHILD&quot;)\npublic class Child {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false, unique = true)\n    private Integer id;\n    \n    @ManyToOne\n    @JoinColumn(name = &quot;parentId&quot;)\n    @JsonBackReference\n    private Parent parent;\n    \n    @Column(name = &quot;effectiveTimestamp&quot;, nullable = false)\n    private LocalDateTime effectiveTimestamp;\n    \n    @Column(name = &quot;createdTimestamp&quot;, nullable = false)\n    private LocalDateTime createdTimestamp;\n    \n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public Parent getParent() {\n        return parent;\n    }\n\n    public void setParent(Parent parent) {\n        this.parent = parent;\n    }\n\n    public LocalDateTime getEffectiveTimestamp() {\n        return effectiveTimestamp;\n    }\n\n    public void setEffectiveTimestamp(LocalDateTime effectiveTimestamp) {\n        this.effectiveTimestamp = effectiveTimestamp;\n    }\n\n    public LocalDateTime getCreatedTimestamp() {\n        return createdTimestamp;\n    }\n\n    public void setCreatedTimestamp(LocalDateTime createdTimestamp) {\n        this.createdTimestamp = createdTimestamp;\n    }\n\n}\n</code></pre>\n<p>And this is my current attempt at the native hibernate query that is currently failing. I want it to return all Parent objects in the table, joining only the current active Child to the Parent.</p>\n<pre><code>      @Query(value = &quot;SELECT PARENT, CHILD1 FROM Parent PARENT &quot;\n              + &quot; INNER JOIN Child CHILD1 &quot;\n              + &quot;   ON CHILD1.parent.id = PARENT.id &quot;\n              + &quot;   INNER JOIN &quot;\n              + &quot;  ( SELECT CHILD1.parent.id, MAX(CHILD1.effectiveTimestamp) as MaxEff, MAX(CHILD1.createdTimestamp) as MaxCre &quot;\n              + &quot;  FROM Child as CHILD2 &quot;\n              + &quot;     WHERE CHILD1.effectiveTimestamp &lt;= :currentTimestamp &quot;\n              + &quot;     GROUP BY CHILD1.parent.id &quot;\n              + &quot;     ) CHILD2 &quot;\n              + &quot;   ON CHILD2.parent.id = CHILD1.parent.id &quot;\n              + &quot;   AND CHILD2.MaxEff = CHILD1.effectiveTimestamp &quot;\n              + &quot;   AND CHILD2.MaxCre = CHILD1.createdTimestamp &quot; )\n      Optional&lt;List&lt;Parent&gt;&gt; getAllActiveChildByParent(@Param(&quot;currentTimestamp&quot;) LocalDateTime currentTimestamp);\n</code></pre>\n<p>Any help will be greatly appreciated.</p>\n<p><strong>UPDATE</strong>\nFollowing the comment from Andrey B. Panfilov below I have added the missing alias which can be seen below.</p>\n<pre><code> @Query(value = &quot;SELECT PARENT, CHILD1 FROM Parent PARENT &quot;\n              + &quot; INNER JOIN Child CHILD1 &quot;\n              + &quot;   ON CHILD1.parent.id = PARENT.id &quot;\n              + &quot;   INNER JOIN &quot;\n              + &quot;  ( SELECT CHILD1.parent.id as NEWALIAS, MAX(CHILD1.effectiveTimestamp) as MaxEff, MAX(CHILD1.createdTimestamp) as MaxCre &quot;\n              + &quot;  FROM Child as CHILD2 &quot;\n              + &quot;     WHERE CHILD1.effectiveTimestamp &lt;= :currentTimestamp &quot;\n              + &quot;     GROUP BY CHILD1.parent.id &quot;\n              + &quot;     ) CHILD2 &quot;\n              + &quot;   ON CHILD2.parent.id = CHILD1.parent.id &quot;\n              + &quot;   AND CHILD2.MaxEff = CHILD1.effectiveTimestamp &quot;\n              + &quot;   AND CHILD2.MaxCre = CHILD1.createdTimestamp &quot; )\n      Optional&lt;List&lt;Parent&gt;&gt; getAllActiveChildByParent(@Param(&quot;currentTimestamp&quot;) LocalDateTime currentTimestamp);\n</code></pre>\n<p>However I am now getting this error:</p>\n<pre><code>Caused by: org.hibernate.query.SemanticException: Could not resolve attribute 'parent' of 'java.lang.Object[]'\n</code></pre>\n<p>By breaking down the hibernate query I believe the error is coming from the 2nd inner join, but I can't see what in that section is causing the error.</p>\n"},{"tags":["java","reactive-programming","spring-webflux","project-reactor","webtestclient"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":1,"creation_date":1621005721,"post_id":67534602,"comment_id":119373059,"body_markdown":"The problem is that Reactor actually forbids calling `block` in Schedulers not explicitly marked as compatible with blocking code. I do not find detailed doc about that, but I think that. you have to use either `subscribeOn(Schedulers.boundedElastic())` or `.share()` method on your flux before block call. The difference in behaviour might come from the fact that in one case, block function triggers pipeline in current thread (non reactive scheduler), but in your test, you try to call `canDoIt` from a reactive stack, so the executing thread comes from a reactive scheduler.","body":"The problem is that Reactor actually forbids calling <code>block</code> in Schedulers not explicitly marked as compatible with blocking code. I do not find detailed doc about that, but I think that. you have to use either <code>subscribeOn(Schedulers.boundedElastic())</code> or <code>.share()</code> method on your flux before block call. The difference in behaviour might come from the fact that in one case, block function triggers pipeline in current thread (non reactive scheduler), but in your test, you try to call <code>canDoIt</code> from a reactive stack, so the executing thread comes from a reactive scheduler."},{"owner":{"account_id":133310,"reputation":6104,"user_id":334569,"accept_rate":73,"display_name":"Marco Lackovic"},"score":0,"creation_date":1621253696,"post_id":67534602,"comment_id":119431394,"body_markdown":"I tried both with `subscribeOn` and `share` but I still get the same error. Please note that the error does not appear with `WebClient`, it appears only with `WebTestClient`.","body":"I tried both with <code>subscribeOn</code> and <code>share</code> but I still get the same error. Please note that the error does not appear with <code>WebClient</code>, it appears only with <code>WebTestClient</code>."},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1621271034,"post_id":67534602,"comment_id":119439755,"body_markdown":"Maybe I miss/misunderstand something. Can you please make an edit with your attempt to use share and subscribeOn ? Also, the failing piece of code using WebTestClient and `flatMap` would be nice. It would help me to dig further and adapt my answer.","body":"Maybe I miss/misunderstand something. Can you please make an edit with your attempt to use share and subscribeOn ? Also, the failing piece of code using WebTestClient and <code>flatMap</code> would be nice. It would help me to dig further and adapt my answer."},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1621271384,"post_id":67534602,"comment_id":119439878,"body_markdown":"Also, I&#39;ve made a rather generic answer because I was not too sure, but If I have the failing code (well, a minimal reproducible example of it), I will be able to make an answer really focused on your use-case.","body":"Also, I&#39;ve made a rather generic answer because I was not too sure, but If I have the failing code (well, a minimal reproducible example of it), I will be able to make an answer really focused on your use-case."}],"answers":[{"comments":[{"owner":{"account_id":133310,"reputation":6104,"user_id":334569,"accept_rate":73,"display_name":"Marco Lackovic"},"score":0,"creation_date":1621254179,"post_id":67549756,"comment_id":119431595,"body_markdown":"I am afraid I fail to see how this solution fits my needs: in your `subscribeOnAndWait` you use a `Mono&lt;Boolean&gt;` and return `void`, I need to return a `Boolean` to the outside caller.","body":"I am afraid I fail to see how this solution fits my needs: in your <code>subscribeOnAndWait</code> you use a <code>Mono&lt;Boolean&gt;</code> and return <code>void</code>, I need to return a <code>Boolean</code> to the outside caller."},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":1,"creation_date":1621270860,"post_id":67549756,"comment_id":119439676,"body_markdown":"My example consider the `blockingFunction` to be equivalent to your `canDoIt` function. When this function is called from a reactive context, it might the error you are seeing. To avoid that, the call to the function must be wrapped back in a Mono (in my example `blockingMono`), and that Mono must be scheduled on the bounded elastic scheduler. Note that, if it is not possible to identify or modify places where your `canDoIt` function is injected back to a reactive context, things become more complicated.","body":"My example consider the <code>blockingFunction</code> to be equivalent to your <code>canDoIt</code> function. When this function is called from a reactive context, it might the error you are seeing. To avoid that, the call to the function must be wrapped back in a Mono (in my example <code>blockingMono</code>), and that Mono must be scheduled on the bounded elastic scheduler. Note that, if it is not possible to identify or modify places where your <code>canDoIt</code> function is injected back to a reactive context, things become more complicated."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1673366182,"post_id":67549756,"comment_id":132479958,"body_markdown":"plase take a look https://stackoverflow.com/questions/75058585/block-blockfirst-blocklast-are-blocking-which-is-not-supported-in-thread","body":"plase take a look <a href=\"https://stackoverflow.com/questions/75058585/block-blockfirst-blocklast-are-blocking-which-is-not-supported-in-thread\" title=\"block blockfirst blocklast are blocking which is not supported in thread\">stackoverflow.com/questions/75058585/&hellip;</a>"},{"owner":{"account_id":1962480,"reputation":15483,"user_id":1763602,"accept_rate":76,"display_name":"Marco Sulla"},"score":0,"creation_date":1684588396,"post_id":67549756,"comment_id":134540763,"body_markdown":"I&#39;m just curious to know why it works, in particular what is exactly `Schedulers.boundedElastic()` and why without `.subscribe()` it does not work.","body":"I&#39;m just curious to know why it works, in particular what is exactly <code>Schedulers.boundedElastic()</code> and why without <code>.subscribe()</code> it does not work."},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":1,"creation_date":1684603369,"post_id":67549756,"comment_id":134542521,"body_markdown":"@MarcoSulla I use subscribe because I&#39;ve done an example program, and I need to start the reactive pipeline manually.. In a Spring app, you just return the publisher back, and Spring will trigger it itself. As for Schedulers.boundedElastic, I cannot really provide a better description than official API doc (linked in references). It is a worker pool that can spawn a lot of threads/workers, to cope with blocking calls inside a reactive chain.","body":"@MarcoSulla I use subscribe because I&#39;ve done an example program, and I need to start the reactive pipeline manually.. In a Spring app, you just return the publisher back, and Spring will trigger it itself. As for Schedulers.boundedElastic, I cannot really provide a better description than official API doc (linked in references). It is a worker pool that can spawn a lot of threads/workers, to cope with blocking calls inside a reactive chain."},{"owner":{"account_id":1962480,"reputation":15483,"user_id":1763602,"accept_rate":76,"display_name":"Marco Sulla"},"score":0,"creation_date":1684697501,"post_id":67549756,"comment_id":134551196,"body_markdown":"@amanin Of course usually I return, for example from an REST API, the mono, but I checked your solution because I needed the result in another way.\n\nThe fact I do not understand is why without `subscribre()` the `block()` is not triggered.","body":"@amanin Of course usually I return, for example from an REST API, the mono, but I checked your solution because I needed the result in another way.  The fact I do not understand is why without <code>subscribre()</code> the <code>block()</code> is not triggered."},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1684772167,"post_id":67549756,"comment_id":134562212,"body_markdown":"It is just how reactor works. The flux is not executed until a subscription is triggered. Therefore, `Mono.fromCallable(someMono::block)` is a mono that runs `someMono.block()` each time someone subscribe on it.","body":"It is just how reactor works. The flux is not executed until a subscription is triggered. Therefore, <code>Mono.fromCallable(someMono::block)</code> is a mono that runs <code>someMono.block()</code> each time someone subscribe on it."}],"tags":[],"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"comment_count":7,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1621101399,"creation_date":1621101399,"answer_id":67549756,"question_id":67534602,"body_markdown":"I validate my comment. `block()` checks if the calling thread is compatible with blocking code (thread external to reactor, or a thread of a specific reactor scheduler like `Schedulers.boundedElastic()`). \r\n\r\nThere&#39;s 2 ways to handle blocking calls in the middle of a reactive stack:\r\n\r\n* Use the *share* operator on publisher you will block upon. Be careful, the share operator caches the value internally.\r\n* Force `block()` call to be executed on a blocking compatible scheduler using `scheduleOn` or `publishOn`. Beware, this operators should not be called on the publisher that directly call `block()`, but on the publisher that will &quot;wrap&quot; the block call (see example below).\r\n\r\nSome references:\r\n\r\n* [The schedulers API doc](https://projectreactor.io/docs/core/release/api/reactor/core/scheduler/Schedulers.html) summaries available types of schedulers, and tells which ones are designed for blocking calls.\r\n* [Reference guide section about blocking call wrapping](https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking)\r\n* [share() operator documentation](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#share--)\r\n\r\nAnd a minimal reproducible example (tested on v3.4.6) giving this output:\r\n\r\n```logs\r\nOk context: not running from reactor Threads\r\nvalue is true\r\nProblematic stack: working with scheduler not compatible with blocking call\r\nERROR: block()/blockFirst()/blockLast() are blocking, which is not supported in thread parallel-2\r\nBad way to subscribe on a blocking compatible scheduler\r\nERROR: block()/blockFirst()/blockLast() are blocking, which is not supported in thread parallel-4\r\nBad way to publish on blocking compatible scheduler\r\nERROR: block()/blockFirst()/blockLast() are blocking, which is not supported in thread parallel-6\r\nPossible workaround: share the reactive stream before blocking on it\r\nIt worked\r\nRight way to subscribe on blocking compatible scheduler\r\nIt worked\r\nRight way to publish on blocking compatible scheduler\r\nIt worked\r\n```\r\n\r\nHere comes the code:\r\n\r\n```java\r\nimport reactor.core.publisher.Mono;\r\nimport reactor.core.scheduler.Schedulers;\r\n\r\nimport java.time.Duration;\r\nimport java.util.concurrent.Callable;\r\nimport java.util.function.Supplier;\r\n\r\npublic class BlockingWorkaround {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        System.out.println(&quot;Ok context: not running from reactor Threads&quot;);\r\n        System.out.println(&quot;value is &quot;+blockingFunction());\r\n\r\n        System.out.println(&quot;Problematic stack: working with scheduler not compatible with blocking call&quot;);\r\n        executeAndWait(() -&gt; blockingFunction());\r\n\r\n        System.out.println(&quot;Bad way to subscribe on a blocking compatible scheduler&quot;);\r\n        executeAndWait(() -&gt; blockingFunctionUsingSubscribeOn());\r\n\r\n        System.out.println(&quot;Bad way to publish on blocking compatible scheduler&quot;);\r\n        executeAndWait(() -&gt; blockingFunctionUsingPublishOn());\r\n\r\n        System.out.println(&quot;Possible workaround: share the reactive stream before blocking on it&quot;);\r\n        executeAndWait(() -&gt; blockingFunctionShared());\r\n\r\n        System.out.println(&quot;Right way to subscribe on blocking compatible scheduler&quot;);\r\n        subscribeOnAndWait(() -&gt; blockingFunction());\r\n\r\n        System.out.println(&quot;Right way to publish on blocking compatible scheduler&quot;);\r\n        publishOnAndWait(() -&gt; blockingFunction());\r\n    }\r\n\r\n    static Boolean blockingFunction() {\r\n        return delay()\r\n                .flatMap(delay -&gt; Mono.just(true))\r\n                .block();\r\n    }\r\n\r\n    static Boolean blockingFunctionShared() {\r\n        return delay()\r\n                .flatMap(delay -&gt; Mono.just(true))\r\n                .share() // Mono result is cached internally\r\n                .block();\r\n    }\r\n\r\n    static Boolean blockingFunctionUsingSubscribeOn() {\r\n        return delay()\r\n                .subscribeOn(Schedulers.boundedElastic())\r\n                .flatMap(delay -&gt; Mono.just(true))\r\n                .block();\r\n    }\r\n\r\n    static Boolean blockingFunctionUsingPublishOn() {\r\n        return delay()\r\n                .flatMap(delay -&gt; Mono.just(true))\r\n                .publishOn(Schedulers.boundedElastic())\r\n                .block();\r\n    }\r\n\r\n    static Mono&lt;Long&gt; delay() {\r\n        return Mono.delay(Duration.ofMillis(10));\r\n    }\r\n\r\n    private static void executeAndWait(Supplier&lt;Boolean&gt; blockingAction) throws InterruptedException {\r\n        delay()\r\n                .map(it -&gt; blockingAction.get())\r\n                .subscribe(\r\n                        val -&gt; System.out.println(&quot;It worked&quot;),\r\n                        err -&gt; System.out.println(&quot;ERROR: &quot; + err.getMessage())\r\n                );\r\n\r\n        Thread.sleep(100);\r\n    }\r\n\r\n    private static void subscribeOnAndWait(Callable&lt;Boolean&gt; blockingAction) throws InterruptedException {\r\n        final Mono&lt;Boolean&gt; blockingMono = Mono.fromCallable(blockingAction)\r\n                .subscribeOn(Schedulers.boundedElastic()); // Upstream is executed on given scheduler\r\n\r\n        delay()\r\n                .flatMap(it -&gt; blockingMono)\r\n                .subscribe(\r\n                        val -&gt; System.out.println(&quot;It worked&quot;),\r\n                        err -&gt; System.out.println(&quot;ERROR: &quot; + err.getMessage())\r\n                );\r\n\r\n        Thread.sleep(100);\r\n    }\r\n\r\n    private static void publishOnAndWait(Supplier&lt;Boolean&gt; blockingAction) throws InterruptedException {\r\n        delay()\r\n                .publishOn(Schedulers.boundedElastic()) // Cause downstream to be executed on given scheduler\r\n                .map(it -&gt; blockingAction.get())\r\n                .subscribe(\r\n                        val -&gt; System.out.println(&quot;It worked&quot;),\r\n                        err -&gt; System.out.println(&quot;ERROR: &quot; + err.getMessage())\r\n                );\r\n\r\n        Thread.sleep(100);\r\n    }\r\n}\r\n```","title":"WebTestClient returning IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread","body":"<p>I validate my comment. <code>block()</code> checks if the calling thread is compatible with blocking code (thread external to reactor, or a thread of a specific reactor scheduler like <code>Schedulers.boundedElastic()</code>).</p>\n<p>There's 2 ways to handle blocking calls in the middle of a reactive stack:</p>\n<ul>\n<li>Use the <em>share</em> operator on publisher you will block upon. Be careful, the share operator caches the value internally.</li>\n<li>Force <code>block()</code> call to be executed on a blocking compatible scheduler using <code>scheduleOn</code> or <code>publishOn</code>. Beware, this operators should not be called on the publisher that directly call <code>block()</code>, but on the publisher that will &quot;wrap&quot; the block call (see example below).</li>\n</ul>\n<p>Some references:</p>\n<ul>\n<li><a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/scheduler/Schedulers.html\" rel=\"nofollow noreferrer\">The schedulers API doc</a> summaries available types of schedulers, and tells which ones are designed for blocking calls.</li>\n<li><a href=\"https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking\" rel=\"nofollow noreferrer\">Reference guide section about blocking call wrapping</a></li>\n<li><a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#share--\" rel=\"nofollow noreferrer\">share() operator documentation</a></li>\n</ul>\n<p>And a minimal reproducible example (tested on v3.4.6) giving this output:</p>\n<pre><code>Ok context: not running from reactor Threads\nvalue is true\nProblematic stack: working with scheduler not compatible with blocking call\nERROR: block()/blockFirst()/blockLast() are blocking, which is not supported in thread parallel-2\nBad way to subscribe on a blocking compatible scheduler\nERROR: block()/blockFirst()/blockLast() are blocking, which is not supported in thread parallel-4\nBad way to publish on blocking compatible scheduler\nERROR: block()/blockFirst()/blockLast() are blocking, which is not supported in thread parallel-6\nPossible workaround: share the reactive stream before blocking on it\nIt worked\nRight way to subscribe on blocking compatible scheduler\nIt worked\nRight way to publish on blocking compatible scheduler\nIt worked\n</code></pre>\n<p>Here comes the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import reactor.core.publisher.Mono;\nimport reactor.core.scheduler.Schedulers;\n\nimport java.time.Duration;\nimport java.util.concurrent.Callable;\nimport java.util.function.Supplier;\n\npublic class BlockingWorkaround {\n\n    public static void main(String[] args) throws Exception {\n        System.out.println(&quot;Ok context: not running from reactor Threads&quot;);\n        System.out.println(&quot;value is &quot;+blockingFunction());\n\n        System.out.println(&quot;Problematic stack: working with scheduler not compatible with blocking call&quot;);\n        executeAndWait(() -&gt; blockingFunction());\n\n        System.out.println(&quot;Bad way to subscribe on a blocking compatible scheduler&quot;);\n        executeAndWait(() -&gt; blockingFunctionUsingSubscribeOn());\n\n        System.out.println(&quot;Bad way to publish on blocking compatible scheduler&quot;);\n        executeAndWait(() -&gt; blockingFunctionUsingPublishOn());\n\n        System.out.println(&quot;Possible workaround: share the reactive stream before blocking on it&quot;);\n        executeAndWait(() -&gt; blockingFunctionShared());\n\n        System.out.println(&quot;Right way to subscribe on blocking compatible scheduler&quot;);\n        subscribeOnAndWait(() -&gt; blockingFunction());\n\n        System.out.println(&quot;Right way to publish on blocking compatible scheduler&quot;);\n        publishOnAndWait(() -&gt; blockingFunction());\n    }\n\n    static Boolean blockingFunction() {\n        return delay()\n                .flatMap(delay -&gt; Mono.just(true))\n                .block();\n    }\n\n    static Boolean blockingFunctionShared() {\n        return delay()\n                .flatMap(delay -&gt; Mono.just(true))\n                .share() // Mono result is cached internally\n                .block();\n    }\n\n    static Boolean blockingFunctionUsingSubscribeOn() {\n        return delay()\n                .subscribeOn(Schedulers.boundedElastic())\n                .flatMap(delay -&gt; Mono.just(true))\n                .block();\n    }\n\n    static Boolean blockingFunctionUsingPublishOn() {\n        return delay()\n                .flatMap(delay -&gt; Mono.just(true))\n                .publishOn(Schedulers.boundedElastic())\n                .block();\n    }\n\n    static Mono&lt;Long&gt; delay() {\n        return Mono.delay(Duration.ofMillis(10));\n    }\n\n    private static void executeAndWait(Supplier&lt;Boolean&gt; blockingAction) throws InterruptedException {\n        delay()\n                .map(it -&gt; blockingAction.get())\n                .subscribe(\n                        val -&gt; System.out.println(&quot;It worked&quot;),\n                        err -&gt; System.out.println(&quot;ERROR: &quot; + err.getMessage())\n                );\n\n        Thread.sleep(100);\n    }\n\n    private static void subscribeOnAndWait(Callable&lt;Boolean&gt; blockingAction) throws InterruptedException {\n        final Mono&lt;Boolean&gt; blockingMono = Mono.fromCallable(blockingAction)\n                .subscribeOn(Schedulers.boundedElastic()); // Upstream is executed on given scheduler\n\n        delay()\n                .flatMap(it -&gt; blockingMono)\n                .subscribe(\n                        val -&gt; System.out.println(&quot;It worked&quot;),\n                        err -&gt; System.out.println(&quot;ERROR: &quot; + err.getMessage())\n                );\n\n        Thread.sleep(100);\n    }\n\n    private static void publishOnAndWait(Supplier&lt;Boolean&gt; blockingAction) throws InterruptedException {\n        delay()\n                .publishOn(Schedulers.boundedElastic()) // Cause downstream to be executed on given scheduler\n                .map(it -&gt; blockingAction.get())\n                .subscribe(\n                        val -&gt; System.out.println(&quot;It worked&quot;),\n                        err -&gt; System.out.println(&quot;ERROR: &quot; + err.getMessage())\n                );\n\n        Thread.sleep(100);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1962480,"reputation":15483,"user_id":1763602,"accept_rate":76,"display_name":"Marco Sulla"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685626959,"creation_date":1684587893,"answer_id":76295383,"question_id":67534602,"body_markdown":"Decrypting [amanin&#39;s answer](https://stackoverflow.com/q/67534602/1763602), this is her/his TL;DR:\r\n\r\n```\r\nScheduler scheduler = Schedulers.boundedElastic();\r\n\r\nMono\r\n    .fromCallable(myMono::block)\r\n    .subscribeOn(scheduler)\r\n    .subscribe(val -&gt; {});\r\n```\r\n\r\nWhere `myMono` is the `Mono` to block.\r\n\r\nIt works because the default scheduler is `Schedulers.parallel()`, that&#39;s a multiprocessing (workers) scheduler, while `Schedulers.boundedElastic()` is a multithread scheduler.","title":"WebTestClient returning IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread","body":"<p>Decrypting <a href=\"https://stackoverflow.com/q/67534602/1763602\">amanin's answer</a>, this is her/his TL;DR:</p>\n<pre><code>Scheduler scheduler = Schedulers.boundedElastic();\n\nMono\n    .fromCallable(myMono::block)\n    .subscribeOn(scheduler)\n    .subscribe(val -&gt; {});\n</code></pre>\n<p>Where <code>myMono</code> is the <code>Mono</code> to block.</p>\n<p>It works because the default scheduler is <code>Schedulers.parallel()</code>, that's a multiprocessing (workers) scheduler, while <code>Schedulers.boundedElastic()</code> is a multithread scheduler.</p>\n"}],"owner":{"account_id":133310,"reputation":6104,"user_id":334569,"accept_rate":73,"display_name":"Marco Lackovic"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10788,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1685626959,"creation_date":1620996465,"question_id":67534602,"body_markdown":"The following function:\r\n\r\n```java\r\nprivate Boolean canDoIt(Parameter param) {\r\n  return myService\r\n      .getMyObjectInReactiveWay(param)\r\n      .map(myObject -&gt; myService.checkMyObjectInImperativeWay(myObject))\r\n      .block();\r\n}\r\n```\r\nis working fine at runtime, but when testing a flow which uses it using `WebTestClient` I get the following error:\r\n```log\r\njava.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread parallel-1\r\n\tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:83) ~[reactor-core-3.4.1.jar:3.4.1]\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nAssembly trace from producer [reactor.core.publisher.MonoFlatMap] :\r\n\treactor.core.publisher.Mono.flatMap\r\n```\r\n\r\nI know I am not supposed to use `block()` but I have no other choice: the function has to return a `Boolean` (not a `Mono&lt;Boolean&gt;`). Perhaps there is an alternative way to write it which doesn&#39;t use `block()`.\r\n\r\nIs there a way I can make `WebTestClient` not throw that error? \r\n\r\nUsing Reactor Core version `3.4.6`.","title":"WebTestClient returning IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread","body":"<p>The following function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Boolean canDoIt(Parameter param) {\n  return myService\n      .getMyObjectInReactiveWay(param)\n      .map(myObject -&gt; myService.checkMyObjectInImperativeWay(myObject))\n      .block();\n}\n</code></pre>\n<p>is working fine at runtime, but when testing a flow which uses it using <code>WebTestClient</code> I get the following error:</p>\n<pre><code>java.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread parallel-1\n    at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:83) ~[reactor-core-3.4.1.jar:3.4.1]\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nAssembly trace from producer [reactor.core.publisher.MonoFlatMap] :\n    reactor.core.publisher.Mono.flatMap\n</code></pre>\n<p>I know I am not supposed to use <code>block()</code> but I have no other choice: the function has to return a <code>Boolean</code> (not a <code>Mono&lt;Boolean&gt;</code>). Perhaps there is an alternative way to write it which doesn't use <code>block()</code>.</p>\n<p>Is there a way I can make <code>WebTestClient</code> not throw that error?</p>\n<p>Using Reactor Core version <code>3.4.6</code>.</p>\n"},{"tags":["java","mapstruct","modelmapper"],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1546507861,"creation_date":1546507861,"answer_id":54019501,"question_id":53938338,"body_markdown":"Yes you can use [Updating existing bean instances](http://mapstruct.org/documentation/stable/reference/html/#updating-bean-instances) from MapStruct to do the updates you are looking for.\r\n\r\nThe mapper would look like:\r\n\r\n    @Mapper(nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE, nullValueCheckStrategy = NullValueCheckStrategy.ALWAYS)\r\n    public interface PersonMapper {\r\n    \r\n        void update(@MappingTarget Person toUpdate, Person person);\r\n    \r\n        void update(@MappingTarget Address toUpdate, Address address);\r\n    }\r\n\r\nThe generated code for this would look like:\r\n\r\n    public class PersonMapperImpl implements PersonMapper {\r\n    \r\n        @Override\r\n        public void update(Person toUpdate, Person person) {\r\n            if ( person == null ) {\r\n                return;\r\n            }\r\n    \r\n            if ( person.getName() != null ) {\r\n                toUpdate.setName( person.getName() );\r\n            }\r\n            if ( person.getAddress() != null ) {\r\n                if ( toUpdate.getAddress() == null ) {\r\n                    toUpdate.setAddress( new Address() );\r\n                }\r\n                update( toUpdate.getAddress(), person.getAddress() );\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void update(Address toUpdate, Address address) {\r\n            if ( address == null ) {\r\n                return;\r\n            }\r\n    \r\n            if ( address.getStreet() != null ) {\r\n                toUpdate.setStreet( address.getStreet() );\r\n            }\r\n            if ( address.getHome() != null ) {\r\n                toUpdate.setHome( address.getHome() );\r\n            }\r\n        }\r\n    }\r\n\r\n* `nullValuePropertyMappingStrategy` - The strategy to be applied when a source bean property is `null` or not present. The default is to set the value to target value to `null`\r\n* `nullValueCheckStrategy` - Determines when to include a `null` check on the source property value of a bean mapping\r\n\r\n**NB** The `nullValuePropertyMappingStrategy` is from MapStruct 1.3.0.Beta2","title":"How recursively update nested objects from one object by another use mapstruct or modelmapper?","body":"<p>Yes you can use <a href=\"http://mapstruct.org/documentation/stable/reference/html/#updating-bean-instances\" rel=\"nofollow noreferrer\">Updating existing bean instances</a> from MapStruct to do the updates you are looking for.</p>\n\n<p>The mapper would look like:</p>\n\n<pre><code>@Mapper(nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE, nullValueCheckStrategy = NullValueCheckStrategy.ALWAYS)\npublic interface PersonMapper {\n\n    void update(@MappingTarget Person toUpdate, Person person);\n\n    void update(@MappingTarget Address toUpdate, Address address);\n}\n</code></pre>\n\n<p>The generated code for this would look like:</p>\n\n<pre><code>public class PersonMapperImpl implements PersonMapper {\n\n    @Override\n    public void update(Person toUpdate, Person person) {\n        if ( person == null ) {\n            return;\n        }\n\n        if ( person.getName() != null ) {\n            toUpdate.setName( person.getName() );\n        }\n        if ( person.getAddress() != null ) {\n            if ( toUpdate.getAddress() == null ) {\n                toUpdate.setAddress( new Address() );\n            }\n            update( toUpdate.getAddress(), person.getAddress() );\n        }\n    }\n\n    @Override\n    public void update(Address toUpdate, Address address) {\n        if ( address == null ) {\n            return;\n        }\n\n        if ( address.getStreet() != null ) {\n            toUpdate.setStreet( address.getStreet() );\n        }\n        if ( address.getHome() != null ) {\n            toUpdate.setHome( address.getHome() );\n        }\n    }\n}\n</code></pre>\n\n<ul>\n<li><code>nullValuePropertyMappingStrategy</code> - The strategy to be applied when a source bean property is <code>null</code> or not present. The default is to set the value to target value to <code>null</code></li>\n<li><code>nullValueCheckStrategy</code> - Determines when to include a <code>null</code> check on the source property value of a bean mapping</li>\n</ul>\n\n<p><strong>NB</strong> The <code>nullValuePropertyMappingStrategy</code> is from MapStruct 1.3.0.Beta2</p>\n"},{"tags":[],"owner":{"account_id":10390033,"reputation":76,"user_id":7661683,"display_name":"Radzivon Hrechukha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685626702,"creation_date":1685626702,"answer_id":76382493,"question_id":53938338,"body_markdown":"Although the existing answer is correct, there&#39;s another solution which does not require defining methods for all inner objects. I personally faced similar issue to define mappers for all inner classes when trying to map lots of Embeddable objects with the requirement to not replace but leave original instances of them.\r\n\r\nAccording to [official documentation][1] mapper behavior can be controlled using the `mappingControl` property. Combining `mappingControl = DeepClone.class` with `@BeanMapping` we can write very simple mapper:\r\n\r\n```\r\n    @BeanMapping(mappingControl = DeepClone.class)\r\n    public abstract User updateFields(@MappingTarget User oldUser, User newUser);\r\n```\r\n\r\nand generated mapper implementaion will go through inner objects and update them with the new values:\r\n```\r\n    @Override\r\n    public User updateFields(User oldUser, User newUser) {\r\n        if ( newUser == null ) {\r\n            return oldUser;\r\n        }\r\n\r\n        oldUser.setName( newUser.getName() );\r\n        oldUser.setEmail( newUser.getEmail() );\r\n        if ( newUser.getDepartment() != null ) {\r\n            if ( oldUser.getDepartment() == null ) {\r\n                oldUser.setDepartment( new Department() );\r\n            }\r\n            departmentToDepartment( newUser.getDepartment(), oldUser.getDepartment() );\r\n        }\r\n        else {\r\n            oldUser.setDepartment( null );\r\n        }\r\n\r\n        return oldUser;\r\n    }\r\n\r\n    protected void departmentToDepartment(Department department, Department mappingTarget) {\r\n        if ( department == null ) {\r\n            return;\r\n        }\r\n\r\n        mappingTarget.setName( department.getName() );\r\n        mappingTarget.setAddress( department.getAddress() );\r\n    }\r\n```\r\n\r\nNote that generated `departmentToDepartment` method sets all fields of the `Department` class one-by-one instead of just setting the reference to `department` from new object to mapping target.\r\n\r\nP.S.\r\n\r\nSource of `User.class`:\r\n```\r\npublic class User {\r\n    private String name;\r\n    private String email;\r\n    private Department department;\r\n}\r\n```\r\nSource of `Department.class`:\r\n```\r\npublic class Department {\r\n    private String name;\r\n    private String address;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#mapping-object-references","title":"How recursively update nested objects from one object by another use mapstruct or modelmapper?","body":"<p>Although the existing answer is correct, there's another solution which does not require defining methods for all inner objects. I personally faced similar issue to define mappers for all inner classes when trying to map lots of Embeddable objects with the requirement to not replace but leave original instances of them.</p>\n<p>According to <a href=\"https://mapstruct.org/documentation/stable/reference/html/#mapping-object-references\" rel=\"nofollow noreferrer\">official documentation</a> mapper behavior can be controlled using the <code>mappingControl</code> property. Combining <code>mappingControl = DeepClone.class</code> with <code>@BeanMapping</code> we can write very simple mapper:</p>\n<pre><code>    @BeanMapping(mappingControl = DeepClone.class)\n    public abstract User updateFields(@MappingTarget User oldUser, User newUser);\n</code></pre>\n<p>and generated mapper implementaion will go through inner objects and update them with the new values:</p>\n<pre><code>    @Override\n    public User updateFields(User oldUser, User newUser) {\n        if ( newUser == null ) {\n            return oldUser;\n        }\n\n        oldUser.setName( newUser.getName() );\n        oldUser.setEmail( newUser.getEmail() );\n        if ( newUser.getDepartment() != null ) {\n            if ( oldUser.getDepartment() == null ) {\n                oldUser.setDepartment( new Department() );\n            }\n            departmentToDepartment( newUser.getDepartment(), oldUser.getDepartment() );\n        }\n        else {\n            oldUser.setDepartment( null );\n        }\n\n        return oldUser;\n    }\n\n    protected void departmentToDepartment(Department department, Department mappingTarget) {\n        if ( department == null ) {\n            return;\n        }\n\n        mappingTarget.setName( department.getName() );\n        mappingTarget.setAddress( department.getAddress() );\n    }\n</code></pre>\n<p>Note that generated <code>departmentToDepartment</code> method sets all fields of the <code>Department</code> class one-by-one instead of just setting the reference to <code>department</code> from new object to mapping target.</p>\n<p>P.S.</p>\n<p>Source of <code>User.class</code>:</p>\n<pre><code>public class User {\n    private String name;\n    private String email;\n    private Department department;\n}\n</code></pre>\n<p>Source of <code>Department.class</code>:</p>\n<pre><code>public class Department {\n    private String name;\n    private String address;\n}\n</code></pre>\n"}],"owner":{"account_id":15013013,"reputation":109,"user_id":10836883,"display_name":"human547234923750547"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3459,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1685626702,"creation_date":1545868519,"question_id":53938338,"body_markdown":"Better i explain my task by an example of what I want to get.\r\nIs it possible to solve this use mapstruct / modelmapper / etc?\r\n\r\n\r\n    class Person{\r\n        String name;\r\n        Address address;\r\n    }\r\n    \r\n    class Address{\r\n        String street;\r\n        Integer home;\r\n    }\r\n\r\nUpdates:\r\n\r\n    {\r\n        name: &quot;Bob&quot;\r\n        address: {\r\n                     street: &quot;Abbey Road&quot;\r\n                 }\r\n    }\r\n\r\nTarget:\r\n\r\n    {\r\n        name: &quot;Michael&quot;\r\n        address: {\r\n                     street: &quot;Kitano&quot;\r\n                     home: 5\r\n                 }\r\n    }\r\n\r\nAnd as result i want get:\r\n\r\n    {\r\n        name: &quot;Bob&quot;\r\n        address: {\r\n                     street: &quot;Abbey Road&quot;\r\n                     home: 5\r\n                 }\r\n    }\r\n\r\nIt must&#39;t rewrite Address object. It recursively set new values in it.\r\n\r\n","title":"How recursively update nested objects from one object by another use mapstruct or modelmapper?","body":"<p>Better i explain my task by an example of what I want to get.\nIs it possible to solve this use mapstruct / modelmapper / etc?</p>\n\n<pre><code>class Person{\n    String name;\n    Address address;\n}\n\nclass Address{\n    String street;\n    Integer home;\n}\n</code></pre>\n\n<p>Updates:</p>\n\n<pre><code>{\n    name: \"Bob\"\n    address: {\n                 street: \"Abbey Road\"\n             }\n}\n</code></pre>\n\n<p>Target:</p>\n\n<pre><code>{\n    name: \"Michael\"\n    address: {\n                 street: \"Kitano\"\n                 home: 5\n             }\n}\n</code></pre>\n\n<p>And as result i want get:</p>\n\n<pre><code>{\n    name: \"Bob\"\n    address: {\n                 street: \"Abbey Road\"\n                 home: 5\n             }\n}\n</code></pre>\n\n<p>It must't rewrite Address object. It recursively set new values in it.</p>\n"},{"tags":["java","maven","jaxb","wsdl"],"comments":[{"owner":{"account_id":1623729,"reputation":5200,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":0,"creation_date":1488627287,"post_id":42582550,"comment_id":72322080,"body_markdown":"Can you post w1/w2.wsdl (maybe in simplified form)?","body":"Can you post w1/w2.wsdl (maybe in simplified form)?"},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":0,"creation_date":1488640782,"post_id":42582550,"comment_id":72326311,"body_markdown":"@ScottKurz Will be happy to, but it will have to wait until Monday (Eastern US Time); just tried to get into my work computer and there&#39;s something wrong with the login sequence...","body":"@ScottKurz Will be happy to, but it will have to wait until Monday (Eastern US Time); just tried to get into my work computer and there&#39;s something wrong with the login sequence..."},{"owner":{"account_id":2563057,"reputation":99,"user_id":2223787,"display_name":"Denis Orlov"},"score":0,"creation_date":1638442577,"post_id":42582550,"comment_id":124091309,"body_markdown":"the simplest way for jaxb2-maven-plugin is here https://stackoverflow.com/a/10613686","body":"the simplest way for jaxb2-maven-plugin is here <a href=\"https://stackoverflow.com/a/10613686\">stackoverflow.com/a/10613686</a>"}],"answers":[{"tags":[],"owner":{"account_id":11758413,"reputation":31,"user_id":8605352,"display_name":"Adam T Poole"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1505331253,"creation_date":1505331253,"answer_id":46205528,"question_id":42582550,"body_markdown":"I just got done converting to from the old jaxb2-maven-plugin that is a dependency of only 1 other project in Maven to maven-jaxb2-plugin which is a dependency for 18. There seems to be much more documentation for it. Check out the [JAXB2 Maven Plugin Wiki][1]\r\n\r\nHere is a pom.xml example:\r\n\r\n    &lt;build&gt;\r\n  \t&lt;plugins&gt;\r\n\t  &lt;plugin&gt;\r\n\t    &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n\t    &lt;version&gt;0.13.2&lt;/version&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t  &lt;execution&gt;\r\n\t\t\t&lt;id&gt;generate&lt;/id&gt;\r\n\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t  &lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t  &lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t  &lt;schemaDirectory&gt;src/main/resources/&lt;/schemaDirectory&gt;\r\n\t\t  &lt;generateDirectory&gt;${project.build.directory}/generated-sources/jaxb&lt;/generateDirectory&gt;\r\n\t\t  &lt;schemaIncludes&gt;\r\n\t\t  \t&lt;include&gt;MyXSD.xsd&lt;/include&gt;\r\n\t\t  &lt;/schemaIncludes&gt;\r\n\t\t  &lt;schemaExcludes&gt;\r\n\t\t  \t&lt;include&gt;ObeXSD.xsd&lt;/include&gt;\r\n\t\t  &lt;/schemaExcludes&gt;\r\n\t\t  &lt;args&gt;\r\n\t\t  \t&lt;arg&gt;-Xannotate&lt;/arg&gt;\r\n\t\t  &lt;/args&gt;\r\n\t\t  &lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jvnet.jaxb2_commons&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jaxb2-basics-annotate&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.0.2&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t  &lt;/plugins&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t  &lt;/plugin&gt;\r\n\t  &lt;plugin&gt;\r\n\t  \t  &lt;inherited&gt;true&lt;/inherited&gt;\r\n\t\t  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t  &lt;configuration&gt;\r\n\t\t\t  &lt;source&gt;1.7&lt;/source&gt;\r\n\t\t\t  &lt;target&gt;1.7&lt;/target&gt;\r\n\t\t  &lt;/configuration&gt;\r\n\t  &lt;/plugin&gt;\r\n\r\n  [1]: https://github.com/highsource/maven-jaxb2-plugin/wiki#quick-start\r\n\r\nHere is an example xsd:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; \r\n\t    xmlns:jaxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;\r\n\t    jaxb:version=&quot;2.1&quot; \r\n\t    xmlns:annox=&quot;http://annox.dev.java.net&quot; \r\n\t    jaxb:extensionBindingPrefixes=&quot;annox&quot;&gt;\r\n        &lt;xsd:complexType name=&quot;AbstractProblemClass&quot; abstract=&quot;true&quot;&gt;\r\n\t\t&lt;xsd:sequence /&gt;\r\n        &lt;/xsd:complexType&gt;\r\n\r\n        &lt;xsd:complexType name=&quot;ConcreteClass&quot;&gt;\r\n\t\t&lt;xsd:annotation&gt;\r\n\t\t\t&lt;xsd:appinfo&gt;\r\n\t\t\t\t&lt;annox:annotate target=&quot;class&quot;&gt;@javax.xml.bind.annotation.XmlRootElement&lt;/annox:annotate&gt;\r\n\t\t\t&lt;/xsd:appinfo&gt;\r\n\t\t&lt;/xsd:annotation&gt;\r\n\t\t&lt;xsd:complexContent&gt;\r\n\t\t\t&lt;xsd:extension base=&quot;AbstractProblemClass&quot;&gt;\r\n\t\t\t\t&lt;xsd:sequence&gt;\r\n\t\t\t\t\t&lt;xsd:element name=&quot;Stuff&quot; type=&quot;xsd:String&quot; /&gt;\r\n\t\t\t\t&lt;/xsd:sequence&gt;\r\n\t\t\t&lt;/xsd:extension&gt;\r\n\t\t&lt;/xsd:complexContent&gt;\r\n        &lt;/xsd:complexType&gt;\r\n    &lt;/xsd:schema&gt;","title":"Want @XmlRootElement in classes generated by jaxb2-maven-plugin","body":"<p>I just got done converting to from the old jaxb2-maven-plugin that is a dependency of only 1 other project in Maven to maven-jaxb2-plugin which is a dependency for 18. There seems to be much more documentation for it. Check out the <a href=\"https://github.com/highsource/maven-jaxb2-plugin/wiki#quick-start\" rel=\"nofollow noreferrer\">JAXB2 Maven Plugin Wiki</a></p>\n\n<p>Here is a pom.xml example:</p>\n\n<pre><code>&lt;build&gt;\n&lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.13.2&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;generate&lt;/id&gt;\n        &lt;phase&gt;generate-sources&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;generate&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n      &lt;schemaDirectory&gt;src/main/resources/&lt;/schemaDirectory&gt;\n      &lt;generateDirectory&gt;${project.build.directory}/generated-sources/jaxb&lt;/generateDirectory&gt;\n      &lt;schemaIncludes&gt;\n        &lt;include&gt;MyXSD.xsd&lt;/include&gt;\n      &lt;/schemaIncludes&gt;\n      &lt;schemaExcludes&gt;\n        &lt;include&gt;ObeXSD.xsd&lt;/include&gt;\n      &lt;/schemaExcludes&gt;\n      &lt;args&gt;\n        &lt;arg&gt;-Xannotate&lt;/arg&gt;\n      &lt;/args&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jvnet.jaxb2_commons&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb2-basics-annotate&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n  &lt;plugin&gt;\n      &lt;inherited&gt;true&lt;/inherited&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n          &lt;source&gt;1.7&lt;/source&gt;\n          &lt;target&gt;1.7&lt;/target&gt;\n      &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n\n<p>Here is an example xsd:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;xsd:schema xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" \n    xmlns:jaxb=\"http://java.sun.com/xml/ns/jaxb\"\n    jaxb:version=\"2.1\" \n    xmlns:annox=\"http://annox.dev.java.net\" \n    jaxb:extensionBindingPrefixes=\"annox\"&gt;\n    &lt;xsd:complexType name=\"AbstractProblemClass\" abstract=\"true\"&gt;\n    &lt;xsd:sequence /&gt;\n    &lt;/xsd:complexType&gt;\n\n    &lt;xsd:complexType name=\"ConcreteClass\"&gt;\n    &lt;xsd:annotation&gt;\n        &lt;xsd:appinfo&gt;\n            &lt;annox:annotate target=\"class\"&gt;@javax.xml.bind.annotation.XmlRootElement&lt;/annox:annotate&gt;\n        &lt;/xsd:appinfo&gt;\n    &lt;/xsd:annotation&gt;\n    &lt;xsd:complexContent&gt;\n        &lt;xsd:extension base=\"AbstractProblemClass\"&gt;\n            &lt;xsd:sequence&gt;\n                &lt;xsd:element name=\"Stuff\" type=\"xsd:String\" /&gt;\n            &lt;/xsd:sequence&gt;\n        &lt;/xsd:extension&gt;\n    &lt;/xsd:complexContent&gt;\n    &lt;/xsd:complexType&gt;\n&lt;/xsd:schema&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":609731,"reputation":444,"user_id":332319,"accept_rate":67,"display_name":"Kjeld"},"score":0,"creation_date":1689439141,"post_id":76382483,"comment_id":135215100,"body_markdown":"This did the trick for me. Thanks.","body":"This did the trick for me. Thanks."}],"tags":[],"owner":{"account_id":5728675,"reputation":21,"user_id":4524905,"display_name":"Rasto"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685626643,"creation_date":1685626643,"answer_id":76382483,"question_id":42582550,"body_markdown":"For jakarta based annotations (Spring Boot 3 uses them eg) this one worked for me:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${jaxb2-maven-plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;xjc&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;verbose&gt;true&lt;/verbose&gt;\r\n                            &lt;packageName&gt;package.name&lt;/packageName&gt;\r\n                            &lt;sourceType&gt;wsdl&lt;/sourceType&gt;\r\n                            &lt;xjbSources&gt;\r\n                                &lt;xjbSource&gt;src/main/resources/bindings.xjb&lt;/xjbSource&gt;\r\n                            &lt;/xjbSources&gt;\r\n                            &lt;sources&gt;\r\n                                &lt;source&gt;src/main/resources/wsdl/some.wsdl&lt;/source&gt;\r\n                            &lt;/sources&gt;\r\n                            &lt;outputDirectory&gt;target/generated-sources/&lt;/outputDirectory&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nbindings.xjb file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt; &lt;jxb:bindings version=&quot;3.0&quot; xmlns:jxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\r\n                  xmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;\r\n                  jxb:extensionBindingPrefixes=&quot;xjc&quot;&gt;\r\n        &lt;jxb:globalBindings&gt;\r\n            &lt;xjc:simple/&gt; &lt;!-- adds @XmlRootElement annotations --&gt;\r\n        &lt;/jxb:globalBindings&gt; &lt;/jxb:bindings&gt;\r\n\r\n","title":"Want @XmlRootElement in classes generated by jaxb2-maven-plugin","body":"<p>For jakarta based annotations (Spring Boot 3 uses them eg) this one worked for me:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${jaxb2-maven-plugin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;xjc&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;verbose&gt;true&lt;/verbose&gt;\n                        &lt;packageName&gt;package.name&lt;/packageName&gt;\n                        &lt;sourceType&gt;wsdl&lt;/sourceType&gt;\n                        &lt;xjbSources&gt;\n                            &lt;xjbSource&gt;src/main/resources/bindings.xjb&lt;/xjbSource&gt;\n                        &lt;/xjbSources&gt;\n                        &lt;sources&gt;\n                            &lt;source&gt;src/main/resources/wsdl/some.wsdl&lt;/source&gt;\n                        &lt;/sources&gt;\n                        &lt;outputDirectory&gt;target/generated-sources/&lt;/outputDirectory&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>bindings.xjb file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt; &lt;jxb:bindings version=&quot;3.0&quot; xmlns:jxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\n              xmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;\n              jxb:extensionBindingPrefixes=&quot;xjc&quot;&gt;\n    &lt;jxb:globalBindings&gt;\n        &lt;xjc:simple/&gt; &lt;!-- adds @XmlRootElement annotations --&gt;\n    &lt;/jxb:globalBindings&gt; &lt;/jxb:bindings&gt;\n</code></pre>\n"}],"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10442,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1685626643,"creation_date":1488554341,"question_id":42582550,"body_markdown":"I have one set of Java classes generated from a WSDL that work fine; I&#39;m adding another WSDL to the project for another webservice I&#39;m using, but I get no @XmlRootElement annotations in the generated classes from the second WSDL, and don&#39;t understand why not.\r\n\r\nHere&#39;s the plugin portion of the pom:\r\n\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n              &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.2&lt;/version&gt;\r\n              &lt;executions&gt;\r\n                  &lt;execution&gt;\r\n                      &lt;id&gt;xjc&lt;/id&gt;\r\n                      &lt;goals&gt;\r\n                          &lt;goal&gt;xjc&lt;/goal&gt;\r\n                      &lt;/goals&gt;\r\n                  &lt;/execution&gt;\r\n              &lt;/executions&gt;\r\n              &lt;configuration&gt;\r\n                  &lt;sourceType&gt;wsdl&lt;/sourceType&gt;\r\n                  &lt;sources&gt;\r\n                      &lt;source&gt;${resources.path}my-module/src/main/resources/wsdl/w1.wsdl&lt;/source&gt;\r\n                      &lt;source&gt;${resources.path}my-module/src/main/resources/wsdl/w2.wsdl&lt;/source&gt;\r\n                  &lt;/sources&gt;\r\n                  &lt;extension&gt;true&lt;/extension&gt;\r\n                  &lt;xjbSources&gt;\r\n                      &lt;xjbSource&gt;src/main/resources/xjb/bindings.xjb&lt;/xjbSource&gt;\r\n                  &lt;/xjbSources&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\nAnd here&#39;s bindings.xjb:\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;jxb:bindings version=&quot;1.0&quot; xmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;\r\n                  xmlns:xjc= &quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;\r\n                  jxb:extensionBindingPrefixes=&quot;xjc&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n        &lt;jxb:bindings&gt;\r\n            &lt;!-- annotate tag here? --&gt;\r\n            &lt;jxb:globalBindings&gt;\r\n                &lt;xjc:simple/&gt;\r\n            &lt;/jxb:globalBindings&gt;\r\n        &lt;/jxb:bindings&gt;\r\n    &lt;/jxb:bindings&gt;\r\n\r\n\r\nI read in [this][1] SO post about using an `annotate` tag, so I inserted \r\n\r\n            &lt;annox:annotate&gt;\r\n                &lt;annox:annotate annox:class=&quot;javax.xml.bind.annotation.XmlRootElement&quot; /&gt;\r\n            &lt;/annox:annotate&gt;\r\n\r\n\r\nat the indicated place in the bindings.xjb file, but of course I don&#39;t have a definition for the `annox` prefix, so that doesn&#39;t work. The post doesn&#39;t indicate where that&#39;s defined.\r\n\r\nI&#39;ve also been through multiple answers in [this][2] SO post; unfortunately the various methods each leave out some steps. For instance, I&#39;m willing to call marshall and unmarshall methods directly, but I need to know where to get the &quot;JAXBContext&quot; they speak of, and what the unmarshall call looks like, or where to look it up.\r\n\r\nIs `annox` the correct way to do this? Is there another correct way to do this?\r\n\r\n  [1]: https://stackoverflow.com/questions/18665053/generating-java-classes-using-maven-jaxb2-plugin &quot;this&quot;\r\n  [2]: https://stackoverflow.com/questions/819720/no-xmlrootelement-generated-by-jaxb","title":"Want @XmlRootElement in classes generated by jaxb2-maven-plugin","body":"<p>I have one set of Java classes generated from a WSDL that work fine; I'm adding another WSDL to the project for another webservice I'm using, but I get no @XmlRootElement annotations in the generated classes from the second WSDL, and don't understand why not.</p>\n\n<p>Here's the plugin portion of the pom:</p>\n\n<pre><code>        &lt;plugin&gt;\n          &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n          &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.2&lt;/version&gt;\n          &lt;executions&gt;\n              &lt;execution&gt;\n                  &lt;id&gt;xjc&lt;/id&gt;\n                  &lt;goals&gt;\n                      &lt;goal&gt;xjc&lt;/goal&gt;\n                  &lt;/goals&gt;\n              &lt;/execution&gt;\n          &lt;/executions&gt;\n          &lt;configuration&gt;\n              &lt;sourceType&gt;wsdl&lt;/sourceType&gt;\n              &lt;sources&gt;\n                  &lt;source&gt;${resources.path}my-module/src/main/resources/wsdl/w1.wsdl&lt;/source&gt;\n                  &lt;source&gt;${resources.path}my-module/src/main/resources/wsdl/w2.wsdl&lt;/source&gt;\n              &lt;/sources&gt;\n              &lt;extension&gt;true&lt;/extension&gt;\n              &lt;xjbSources&gt;\n                  &lt;xjbSource&gt;src/main/resources/xjb/bindings.xjb&lt;/xjbSource&gt;\n              &lt;/xjbSources&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>And here's bindings.xjb:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;jxb:bindings version=\"1.0\" xmlns:jxb=\"http://java.sun.com/xml/ns/jaxb\"\n              xmlns:xjc= \"http://java.sun.com/xml/ns/jaxb/xjc\"\n              jxb:extensionBindingPrefixes=\"xjc\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"&gt;\n    &lt;jxb:bindings&gt;\n        &lt;!-- annotate tag here? --&gt;\n        &lt;jxb:globalBindings&gt;\n            &lt;xjc:simple/&gt;\n        &lt;/jxb:globalBindings&gt;\n    &lt;/jxb:bindings&gt;\n&lt;/jxb:bindings&gt;\n</code></pre>\n\n<p>I read in <a href=\"https://stackoverflow.com/questions/18665053/generating-java-classes-using-maven-jaxb2-plugin\" title=\"this\">this</a> SO post about using an <code>annotate</code> tag, so I inserted </p>\n\n<pre><code>        &lt;annox:annotate&gt;\n            &lt;annox:annotate annox:class=\"javax.xml.bind.annotation.XmlRootElement\" /&gt;\n        &lt;/annox:annotate&gt;\n</code></pre>\n\n<p>at the indicated place in the bindings.xjb file, but of course I don't have a definition for the <code>annox</code> prefix, so that doesn't work. The post doesn't indicate where that's defined.</p>\n\n<p>I've also been through multiple answers in <a href=\"https://stackoverflow.com/questions/819720/no-xmlrootelement-generated-by-jaxb\">this</a> SO post; unfortunately the various methods each leave out some steps. For instance, I'm willing to call marshall and unmarshall methods directly, but I need to know where to get the \"JAXBContext\" they speak of, and what the unmarshall call looks like, or where to look it up.</p>\n\n<p>Is <code>annox</code> the correct way to do this? Is there another correct way to do this?</p>\n"},{"tags":["java","spring-boot","apache-kafka","kafka-consumer-api","spring-kafka"],"answers":[{"comments":[{"owner":{"account_id":2861266,"reputation":6734,"user_id":4781349,"accept_rate":33,"display_name":"ip696"},"score":0,"creation_date":1553002410,"post_id":55242179,"comment_id":97217509,"body_markdown":"still not fully understand. Ie if I annotated the method with `@KafkaListener` - each handle in this method will in new Thread? because spring create default `ConcurrentKafkaListenerContainerFactory ` and I do not need create `ConcurrentKafkaListenerContainerFactory `?","body":"still not fully understand. Ie if I annotated the method with <code>@KafkaListener</code> - each handle in this method will in new Thread? because spring create default <code>ConcurrentKafkaListenerContainerFactory </code> and I do not need create <code>ConcurrentKafkaListenerContainerFactory </code>?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1553002801,"post_id":55242179,"comment_id":97217753,"body_markdown":"For concurrency = 5, you need at least 5 partitions on the topic; the partitions will be distributed across the threads - a partition can only be processed by one thread. You don&#39;t need to create a factory because boot does it for you with auto-configuration.","body":"For concurrency = 5, you need at least 5 partitions on the topic; the partitions will be distributed across the threads - a partition can only be processed by one thread. You don&#39;t need to create a factory because boot does it for you with auto-configuration."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1553003061,"post_id":55242179,"comment_id":97217941,"body_markdown":"Using an executor makes things complicated, with regard to managing committed offsets; it is not recommended.","body":"Using an executor makes things complicated, with regard to managing committed offsets; it is not recommended."},{"owner":{"account_id":2861266,"reputation":6734,"user_id":4781349,"accept_rate":33,"display_name":"ip696"},"score":0,"creation_date":1553003161,"post_id":55242179,"comment_id":97218003,"body_markdown":"if it&#39;s easier, please tell me what should I do to get this logic - 1) I handle message in `@KafkaListener` method. 2) start processing this message in new thread. 3) handle new message....and etc","body":"if it&#39;s easier, please tell me what should I do to get this logic - 1) I handle message in <code>@KafkaListener</code> method. 2) start processing this message in new thread. 3) handle new message....and etc"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1553003404,"post_id":55242179,"comment_id":97218167,"body_markdown":"You could lose messages that way; it would take me too long to describe the pitfalls and the code you would need to write to make sure the offsets are managed properly, deal with duplicates, etc, etc. I suggest you use the Kafka `Consumer` directly rather than using a listener container.","body":"You could lose messages that way; it would take me too long to describe the pitfalls and the code you would need to write to make sure the offsets are managed properly, deal with duplicates, etc, etc. I suggest you use the Kafka <code>Consumer</code> directly rather than using a listener container."},{"owner":{"account_id":2861266,"reputation":6734,"user_id":4781349,"accept_rate":33,"display_name":"ip696"},"score":0,"creation_date":1553003591,"post_id":55242179,"comment_id":97218291,"body_markdown":"it seems I began to understand a little. you suggest not to use annotation `@KafkaListener`. Instead this I need create somthing like &quot;consumers pool&quot;? If it is true can you share some example or article about this?","body":"it seems I began to understand a little. you suggest not to use annotation <code>@KafkaListener</code>. Instead this I need create somthing like &quot;consumers pool&quot;? If it is true can you share some example or article about this?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1553005714,"post_id":55242179,"comment_id":97219726,"body_markdown":"Sorry; I don&#39;t have time to teach you about how Kafka works; I can only help with using Spring Kafka. Even if you write the code yourself to poll the `Consumer`, you will still have the same problems with regards to managing offsets if you hand off work to asynchronous threads.","body":"Sorry; I don&#39;t have time to teach you about how Kafka works; I can only help with using Spring Kafka. Even if you write the code yourself to poll the <code>Consumer</code>, you will still have the same problems with regards to managing offsets if you hand off work to asynchronous threads."},{"owner":{"account_id":2861266,"reputation":6734,"user_id":4781349,"accept_rate":33,"display_name":"ip696"},"score":0,"creation_date":1553006449,"post_id":55242179,"comment_id":97220197,"body_markdown":"Sorry to bother you. I just want to understand how to make it in `spring kafka`. I had a sheduler. It polled a third-party service and when it received the answer it gave it to a new thread for processing. Now I move sheduler to microservice and it send answer to kafka. And my core microservice has become a consumer. I add `@KafkaListener` and process responses. But earlier I did it in several threads and now in one. I just want to understand how I can process the queue faster. So I thought it was possible in `spring kafka`. Make it like I have 5 same cunsumers in one application","body":"Sorry to bother you. I just want to understand how to make it in <code>spring kafka</code>. I had a sheduler. It polled a third-party service and when it received the answer it gave it to a new thread for processing. Now I move sheduler to microservice and it send answer to kafka. And my core microservice has become a consumer. I add <code>@KafkaListener</code> and process responses. But earlier I did it in several threads and now in one. I just want to understand how I can process the queue faster. So I thought it was possible in <code>spring kafka</code>. Make it like I have 5 same cunsumers in one application"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1553006939,"post_id":55242179,"comment_id":97220506,"body_markdown":"Once again; you can increase the concurrency ONLY if you have at least that number of partitions on the topic; Kafka does not allow multiple consumers on a partition for the same group. If you hand off to another thread, it will add a great deal of complexity with regards to managing the offsets committed for the partition(s). You need to learn more about Kafka.","body":"Once again; you can increase the concurrency ONLY if you have at least that number of partitions on the topic; Kafka does not allow multiple consumers on a partition for the same group. If you hand off to another thread, it will add a great deal of complexity with regards to managing the offsets committed for the partition(s). You need to learn more about Kafka."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":9,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1553003056,"creation_date":1553002063,"answer_id":55242179,"question_id":55241976,"body_markdown":"Using an executor makes things complicated, with regard to managing committed offsets; it is not recommended.\r\n\r\nWith `@KafkaListener`, the framework creates a `ConcurrentKafkaListenerContainerFactory` for you.\r\n\r\n`concurrency` on the annotation is just a convenience; it overrides the factory setting.\r\n\r\nThis allows you to use the same factory with multiple listeners, each with different concurrency.\r\n\r\nYou can set the container concurrency (default) using a boot property; that value is overridden by the annotation value; see the javadocs...\r\n\r\n\t/**\r\n\t * Override the container factory&#39;s {@code concurrency} setting for this listener. May\r\n\t * be a property placeholder or SpEL expression that evaluates to a {@link Number}, in\r\n\t * which case {@link Number#intValue()} is used to obtain the value.\r\n\t * &lt;p&gt;SpEL {@code #{...}} and property place holders {@code ${...}} are supported.\r\n\t * @return the concurrency.\r\n\t * @since 2.2\r\n\t */\r\n\tString concurrency() default &quot;&quot;;\r\n","title":"How can I process @KafkaListener method in different threads?","body":"<p>Using an executor makes things complicated, with regard to managing committed offsets; it is not recommended.</p>\n\n<p>With <code>@KafkaListener</code>, the framework creates a <code>ConcurrentKafkaListenerContainerFactory</code> for you.</p>\n\n<p><code>concurrency</code> on the annotation is just a convenience; it overrides the factory setting.</p>\n\n<p>This allows you to use the same factory with multiple listeners, each with different concurrency.</p>\n\n<p>You can set the container concurrency (default) using a boot property; that value is overridden by the annotation value; see the javadocs...</p>\n\n<pre><code>/**\n * Override the container factory's {@code concurrency} setting for this listener. May\n * be a property placeholder or SpEL expression that evaluates to a {@link Number}, in\n * which case {@link Number#intValue()} is used to obtain the value.\n * &lt;p&gt;SpEL {@code #{...}} and property place holders {@code ${...}} are supported.\n * @return the concurrency.\n * @since 2.2\n */\nString concurrency() default \"\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5648860,"reputation":9049,"user_id":4470135,"accept_rate":54,"display_name":"yuranos"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1561358667,"creation_date":1561358667,"answer_id":56731102,"question_id":55241976,"body_markdown":"`concurrency` option has nothing to do with concurrently processing the messages received by the same consumer. It&#39;s for consumer groups when you have multiple consumers that each processes their own partitions.\r\n\r\nPassing the processing to a separate thread is very complicated and Spring-Kafka team decided not to do that &quot;by design&quot;, I believe. You don&#39;t even need to dig into Spring-Kafka to understand why. Check the [KafkaConsumer&#39;s][1] ***Detecting Consumer Failures*** doc:\r\n\r\n&gt; Some care must be taken to ensure that committed offsets do not get\r\n&gt; ahead of the actual position. Typically, you must disable automatic\r\n&gt; commits and manually commit processed offsets for records only after\r\n&gt; the thread has finished handling them (depending on the delivery\r\n&gt; semantics you need). Note also that you will need to pause the\r\n&gt; partition so that no new records are received from poll until after\r\n&gt; thread has finished handling those previously returned.\r\n\r\n\r\n  [1]: https://kafka.apache.org/20/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#position-org.apache.kafka.common.TopicPartition-","title":"How can I process @KafkaListener method in different threads?","body":"<p><code>concurrency</code> option has nothing to do with concurrently processing the messages received by the same consumer. It's for consumer groups when you have multiple consumers that each processes their own partitions.</p>\n\n<p>Passing the processing to a separate thread is very complicated and Spring-Kafka team decided not to do that \"by design\", I believe. You don't even need to dig into Spring-Kafka to understand why. Check the <a href=\"https://kafka.apache.org/20/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#position-org.apache.kafka.common.TopicPartition-\" rel=\"noreferrer\">KafkaConsumer's</a> <strong><em>Detecting Consumer Failures</em></strong> doc:</p>\n\n<blockquote>\n  <p>Some care must be taken to ensure that committed offsets do not get\n  ahead of the actual position. Typically, you must disable automatic\n  commits and manually commit processed offsets for records only after\n  the thread has finished handling them (depending on the delivery\n  semantics you need). Note also that you will need to pause the\n  partition so that no new records are received from poll until after\n  thread has finished handling those previously returned.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3960968,"reputation":153,"user_id":4974813,"display_name":"entimaniac"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685626324,"creation_date":1685626324,"answer_id":76382436,"question_id":55241976,"body_markdown":"Kinda old question I found here, but I don&#39;t think I see an actual answer about processing messages on different threads.\r\n\r\nIf you don&#39;t mind committing your messages with no regard to processing, you can take advantage of `@Async` on your processing logic (and make sure your project has `@EnableAsync` on your application).\r\n\r\nRead the messages in your listener:\r\n```\r\n  @KafkaListener(topics = &quot;my_topic&quot;)\r\n  void listen(ConsumerRecord&lt;String, String&gt; record) {\r\n    messageHandlingService.processMessage(record.value());\r\n  }\r\n```\r\nAnd then in a separate service, annotate your async processing message:\r\n``` \r\n @Async\r\n  public void processMessage(String messageString) {\r\n    // do stuff here\r\n  }\r\n```\r\n\r\nNow you can read multiple messages without being blocked by processing them. With all things, there are challenges and caveats and possible configurations, but this might help get you started.","title":"How can I process @KafkaListener method in different threads?","body":"<p>Kinda old question I found here, but I don't think I see an actual answer about processing messages on different threads.</p>\n<p>If you don't mind committing your messages with no regard to processing, you can take advantage of <code>@Async</code> on your processing logic (and make sure your project has <code>@EnableAsync</code> on your application).</p>\n<p>Read the messages in your listener:</p>\n<pre><code>  @KafkaListener(topics = &quot;my_topic&quot;)\n  void listen(ConsumerRecord&lt;String, String&gt; record) {\n    messageHandlingService.processMessage(record.value());\n  }\n</code></pre>\n<p>And then in a separate service, annotate your async processing message:</p>\n<pre><code> @Async\n  public void processMessage(String messageString) {\n    // do stuff here\n  }\n</code></pre>\n<p>Now you can read multiple messages without being blocked by processing them. With all things, there are challenges and caveats and possible configurations, but this might help get you started.</p>\n"}],"owner":{"account_id":2861266,"reputation":6734,"user_id":4781349,"accept_rate":33,"display_name":"ip696"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10698,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":55242179,"answer_count":3,"score":2,"last_activity_date":1685626324,"creation_date":1553001338,"question_id":55241976,"body_markdown":"I have kafka handler in spring boot:\r\n\r\n        @KafkaListener(topics = &quot;topic-one&quot;, groupId = &quot;response&quot;)\r\n        public void listen(String response) {\r\n            myService.processResponse(response);\r\n        }\r\n\r\nFor example producer send one message every second. But `myService.processResponse` work 10 seconds. I need handle each message and start `myService.processResponse` in new thread. I can create my executor and delegate each response to it. But I think there are another configs in kafka for them. I found 2:\r\n\r\n1) add `concurrency = &quot;5&quot;` to `@KafkaListener` annotation - It seems to be working. But I&#39;m not sure how correct, because I have second way:\r\n\r\n2) I can create `ConcurrentKafkaListenerContainerFactory` and set to it `ConsumerFactory` and `concurrency`\r\n\r\nI do not understand the difference between these methods? is it enough just to add `concurrency = &quot;5&quot;` to `@KafkaListener` annotation or I need create `ConcurrentKafkaListenerContainerFactory`? \r\n\r\nOr I do not understand anything at all and is there another way?","title":"How can I process @KafkaListener method in different threads?","body":"<p>I have kafka handler in spring boot:</p>\n\n<pre><code>    @KafkaListener(topics = \"topic-one\", groupId = \"response\")\n    public void listen(String response) {\n        myService.processResponse(response);\n    }\n</code></pre>\n\n<p>For example producer send one message every second. But <code>myService.processResponse</code> work 10 seconds. I need handle each message and start <code>myService.processResponse</code> in new thread. I can create my executor and delegate each response to it. But I think there are another configs in kafka for them. I found 2:</p>\n\n<p>1) add <code>concurrency = \"5\"</code> to <code>@KafkaListener</code> annotation - It seems to be working. But I'm not sure how correct, because I have second way:</p>\n\n<p>2) I can create <code>ConcurrentKafkaListenerContainerFactory</code> and set to it <code>ConsumerFactory</code> and <code>concurrency</code></p>\n\n<p>I do not understand the difference between these methods? is it enough just to add <code>concurrency = \"5\"</code> to <code>@KafkaListener</code> annotation or I need create <code>ConcurrentKafkaListenerContainerFactory</code>? </p>\n\n<p>Or I do not understand anything at all and is there another way?</p>\n"},{"tags":["java","xml","ant","build.xml","vxml"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685630648,"post_id":76382373,"comment_id":134690043,"body_markdown":"Where did you get that from? The current project on Github is built using Gradle, not th","body":"Where did you get that from? The current project on Github is built using Gradle, not th"},{"owner":{"account_id":28728255,"reputation":1,"user_id":22000707,"display_name":"Florian"},"score":0,"creation_date":1685698439,"post_id":76382373,"comment_id":134700599,"body_markdown":"I get it on sourceforge (https://sourceforge.net/projects/jvoicexml/files/latest/download) because they provide the java installer so i didnt need gradle.","body":"I get it on sourceforge (<a href=\"https://sourceforge.net/projects/jvoicexml/files/latest/download\" rel=\"nofollow noreferrer\">sourceforge.net/projects/jvoicexml/files/latest/download</a>) because they provide the java installer so i didnt need gradle."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685699234,"post_id":76382373,"comment_id":134700760,"body_markdown":"But you haven&#39;t got an *installer*. You&#39;ve got Ant - which isn&#39;t working. I would use the current Gradle version. Everything you need will be there","body":"But you haven&#39;t got an <i>installer</i>. You&#39;ve got Ant - which isn&#39;t working. I would use the current Gradle version. Everything you need will be there"},{"owner":{"account_id":28728255,"reputation":1,"user_id":22000707,"display_name":"Florian"},"score":0,"creation_date":1685714643,"post_id":76382373,"comment_id":134704072,"body_markdown":"If I&#39;m not mistaken, ANT allows to build project just as Gradle do. So you tell just install with gradle anyways ?","body":"If I&#39;m not mistaken, ANT allows to build project just as Gradle do. So you tell just install with gradle anyways ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685716095,"post_id":76382373,"comment_id":134704390,"body_markdown":"Yes. You don&#39;t even need to &#39;install&#39; Gradle (unlike Ant). Just run `gradlew(.bat)`","body":"Yes. You don&#39;t even need to &#39;install&#39; Gradle (unlike Ant). Just run <code>gradlew(.bat)</code>"},{"owner":{"account_id":28728255,"reputation":1,"user_id":22000707,"display_name":"Florian"},"score":0,"creation_date":1685717465,"post_id":76382373,"comment_id":134704694,"body_markdown":"I&#39;m really thankfull for yours answears but I&#39;m a bit lost with the gradle version of the JVoiceXML project. Now i ran gradlew.bat, what do i do to run the demo ( i tried to found out by myself but as i said, i&#39;m new to these technologies).\n\nPS : When i was using ant version of the project, i used to, run the &quot;startup.bat&quot; file that start the JVoiceXML consol, and then go in demo folder (org.jvoicexml.demo.helloworlddemo for exemple ) and then run &quot; ant run &quot; on an other command promt.","body":"I&#39;m really thankfull for yours answears but I&#39;m a bit lost with the gradle version of the JVoiceXML project. Now i ran gradlew.bat, what do i do to run the demo ( i tried to found out by myself but as i said, i&#39;m new to these technologies).  PS : When i was using ant version of the project, i used to, run the &quot;startup.bat&quot; file that start the JVoiceXML consol, and then go in demo folder (org.jvoicexml.demo.helloworlddemo for exemple ) and then run &quot; ant run &quot; on an other command promt."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685717625,"post_id":76382373,"comment_id":134704739,"body_markdown":"Tbh I don&#39;t use Gradle myself. I would read a primer on it","body":"Tbh I don&#39;t use Gradle myself. I would read a primer on it"}],"owner":{"account_id":28728255,"reputation":1,"user_id":22000707,"display_name":"Florian"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685625836,"creation_date":1685625836,"question_id":76382373,"body_markdown":"I&#39;m trying to run JVoiceXML demo but I&#39;m new to all theses new technologies. I succeed to run the demo except the servlet one (in which one you have to work with tomcat. The problem is: when I try to &quot;ant war&quot;, an error appears: \r\n&quot;BUILD FAILED\r\nC:\\Users\\a904778\\JVoiceXML\\V1\\demo\\org.jvoicexml.demo.helloworldservletdemo\\build.xml:113: jvxml.xml.lib doesn&#39;t denote a zipfileset or a fileset&quot;\r\n\r\nHere&#39;s my build.xml : \r\n\r\n```\r\n&lt;project name=&quot;HelloWorldServlet&quot; default=&quot;war&quot; basedir=&quot;.&quot;&gt;\r\n    &lt;description&gt;\r\nThis file builds the &#39;Hello world&#39; demo for JVoiceXML for a servlet container.\r\n\r\nThis demo consists of two servlets. The &#39;HelloWorldServlet&#39; as the initial\r\nservlet greets the user and passes a goodbye message to the next servlet,\r\nthe &#39;GoodbyServlet&#39;.\r\n\r\nYou will need a servlet container, i.e. tomcat, to run this demo.\r\n\r\nYou will need to adapt the settings for your servlet container in the file\r\n../personal-props/ant.properties.\r\nCall target checkJEE to check the current settings.\r\n\r\nI order to run the demo you will first have to call\r\nant war\r\nto create a deployable war file. After the installation in you sevlet\r\ncontainer, call\r\nant run\r\nto run the client.\r\n    &lt;/description&gt;\r\n\r\n    &lt;!-- allow the user to override setting in an own propertiesfile. --&gt;\r\n    &lt;property file=&quot;../personal-props/ant.properties&quot; /&gt;\r\n    &lt;property file=&quot;../config-props/ant.properties&quot; /&gt;\r\n\r\n    &lt;!-- Load the settings for 3rdparty libraries --&gt;\r\n    &lt;import file=&quot;3rdparty-libs.xml&quot; /&gt;\r\n\r\n    &lt;target name=&quot;-setup&quot; depends=&quot;-local-3rdparty-setup&quot;&gt;\r\n        &lt;!-- The component built here--&gt;\r\n        &lt;property name=&quot;component&quot;\r\n            value=&quot;org.jvoicexml.demo.helloworldservletdemo&quot;/&gt;\r\n        &lt;property name=&quot;component.path&quot;\r\n          value=&quot;org/jvoicexml/demo/helloworldservletdemo&quot;/&gt;\r\n\r\n        &lt;property name=&quot;src&quot; value=&quot;src&quot; /&gt;\r\n        &lt;property name=&quot;build&quot; value=&quot;classes&quot; /&gt;\r\n        &lt;property name=&quot;config&quot; value=&quot;config&quot; /&gt;\r\n        &lt;property name=&quot;dist&quot; value=&quot;${jvxml.core.dir}/dist&quot; /&gt;\r\n\r\n        &lt;property name=&quot;dist.war&quot; value=&quot;${dist}/${component}.war&quot; /&gt;\r\n\r\n        &lt;property name=&quot;optimize&quot; value=&quot;off&quot; /&gt;\r\n        &lt;property name=&quot;debug&quot; value=&quot;on&quot; /&gt;\r\n\r\n        &lt;!-- the used class path --&gt;\r\n        &lt;path id=&quot;build.classpath&quot;&gt;\r\n            &lt;fileset refid=&quot;log4j.lib&quot; /&gt;\r\n            &lt;fileset refid=&quot;servlet.lib&quot; /&gt;\r\n            &lt;path refid=&quot;jvxml.core.lib&quot; /&gt;\r\n        &lt;/path&gt;\r\n\r\n        &lt;path id=&quot;run.classpath&quot;&gt;\r\n            &lt;fileset refid=&quot;log4j.lib&quot; /&gt;\r\n            &lt;fileset refid=&quot;rhino.lib&quot; /&gt;\r\n            &lt;path refid=&quot;jvxml.core.lib&quot; /&gt;\r\n        &lt;/path&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;-init&quot; depends=&quot;-setup&quot;&gt;\r\n        &lt;mkdir dir=&quot;${build}&quot; /&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;-checkJVoiceXML&quot;&gt;\r\n        &lt;available classname=&quot;org.jvoicexml.JVoiceXml&quot; property=&quot;jvoicexml.present&quot; classpathref=&quot;build.classpath&quot; /&gt;\r\n        &lt;fail unless=&quot;jvoicexml.present&quot;&gt;\r\nCannot find jvoicexml libraries needed to build this demo.\r\nBuild this jar from the main project first.\r\n    &lt;/fail&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;checkJEE&quot; description=&quot;Check JEE library settings&quot; depends=&quot;-init&quot;&gt;\r\n        &lt;available classname=&quot;javax.servlet.http.HttpServlet&quot; property=&quot;servlet.available&quot;&gt;\r\n            &lt;classpath&gt;\r\n                &lt;fileset refid=&quot;servlet.lib&quot; /&gt;\r\n            &lt;/classpath&gt;\r\n        &lt;/available&gt;\r\n        &lt;fail unless=&quot;servlet.available&quot;&gt;\r\nCannot find servlet libraries at &#39;${servlet.lib.dir}&#39;.\r\nAdapt the settings for your servlet container in the file\r\n../personal-props/ant.properties.\r\n      &lt;/fail&gt;\r\n        &lt;echo message=&quot;servlet.lib.dir = &#39;${servlet.lib.dir}&#39; usable:${servlet.available}&quot; /&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;clean&quot; description=&quot;Remove all compiled and distribution files&quot;&gt;\r\n        &lt;delete dir=&quot;${build}&quot; /&gt;\r\n        &lt;delete file=&quot;${jar.file}&quot; /&gt;\r\n        &lt;delete file=&quot;${war.file}&quot; /&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;compile&quot; depends=&quot;-init,-checkJVoiceXML&quot; description=&quot;Compile the JAVA sources&quot;&gt;\r\n        &lt;copy todir=&quot;${build}&quot;&gt;\r\n            &lt;fileset dir=&quot;${config}&quot;&gt;\r\n                &lt;include name=&quot;**/*.xml&quot; /&gt;\r\n                &lt;include name=&quot;**/*.properties&quot; /&gt;\r\n                &lt;include name=&quot;**/*.policy&quot; /&gt;\r\n            &lt;/fileset&gt;\r\n        &lt;/copy&gt;\r\n        &lt;echo message=&quot;compiling with debug=${debug}, optimize=${optimize}&quot; /&gt;\r\n        &lt;javac destdir=&quot;${build}&quot; optimize=&quot;${optimize}&quot; debug=&quot;${debug}&quot;\r\n            deprecation=&quot;on&quot; includeantruntime=&quot;false&quot;&gt;\r\n            &lt;src path=&quot;${src}&quot; /&gt;\r\n            &lt;include name=&quot;**/*.java&quot; /&gt;\r\n            &lt;classpath refid=&quot;build.classpath&quot; /&gt;\r\n            &lt;compilerarg value=&quot;-Xlint:unchecked&quot; /&gt;\r\n        &lt;/javac&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;war&quot; depends=&quot;compile&quot; description=&quot;Pack all compiled servlet files into a single war&quot;&gt;\r\n        &lt;war destfile=&quot;${dist.war}&quot; webxml=&quot;WebContent/WEB-INF/web.xml&quot;&gt;\r\n            &lt;lib refid=&quot;log4j.lib&quot; /&gt;\r\n            &lt;lib refid=&quot;jvxml.xml.lib&quot; /&gt;\r\n            &lt;classes dir=&quot;${build}&quot;&gt;\r\n                &lt;include name=&quot;**/*Servlet.class&quot; /&gt;\r\n            &lt;/classes&gt;\r\n            &lt;classes dir=&quot;config&quot;&gt;\r\n                &lt;include name=&quot;log4j.xml&quot; /&gt;\r\n            &lt;/classes&gt;\r\n            &lt;fileset dir=&quot;WebContent&quot;&gt;\r\n                &lt;include name=&quot;*.html&quot; /&gt;\r\n                &lt;include name=&quot;META-INF/**&quot; /&gt;\r\n            &lt;/fileset&gt;\r\n        &lt;/war&gt;\r\n\r\n        &lt;echo message=&quot;Install ${dist.war} to your servlet container!&quot; /&gt;\r\n        &lt;echo message=&quot;Then call &#39;ant run&#39; to run the client&quot; /&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;run&quot; description=&quot;Run the &#39;hello world servlet demo&#39; demo&quot; depends=&quot;compile&quot;&gt;\r\n        &lt;java classname=&quot;org.jvoicexml.demo.helloworldservletdemo.HelloWorldDemo&quot; fork=&quot;true&quot;&gt;\r\n            &lt;jvmarg value=&quot;-Djava.security.policy=${build}/jvoicexml.policy&quot; /&gt;\r\n            &lt;classpath&gt;\r\n                &lt;path refid=&quot;run.classpath&quot; /&gt;\r\n                &lt;pathelement path=&quot;${build}&quot; /&gt;\r\n            &lt;/classpath&gt;\r\n            &lt;arg value=&quot;http://127.0.0.1:8080/helloworldservletdemo/HelloWorld&quot; /&gt;\r\n        &lt;/java&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;checkstyle&quot; description=&quot;Check for JVoiceXML coding standard&quot; depends=&quot;compile, -initcheckstyle&quot; if=&quot;checkstyle.present&quot;&gt;\r\n        &lt;property name=&quot;checkstyle-target.dir&quot; value=&quot;${dist}/checkstyle/${component}&quot; /&gt;\r\n        &lt;mkdir dir=&quot;${checkstyle-target.dir}&quot; /&gt;\r\n        &lt;property name=&quot;checkstyle.data&quot; value=&quot;${checkstyle-target.dir}/checkstyle-data.xml&quot; /&gt;\r\n        &lt;checkstyle config=&quot;${jvxml.core.dir}/etc/jvoicexml-checks.xml&quot; failonviolation=&quot;false&quot;&gt;\r\n            &lt;classpath&gt;\r\n                &lt;pathelement path=&quot;${project.classpath}&quot; /&gt;\r\n                &lt;pathelement location=&quot;${build}&quot; /&gt;\r\n            &lt;/classpath&gt;\r\n            &lt;classpath refid=&quot;jvxml.core.lib&quot; /&gt;\r\n            &lt;fileset dir=&quot;${src}&quot;&gt;\r\n                &lt;include name=&quot;${component.path}/**/*.java&quot; /&gt;\r\n            &lt;/fileset&gt;\r\n            &lt;formatter type=&quot;xml&quot; tofile=&quot;${checkstyle.data}&quot; /&gt;\r\n        &lt;/checkstyle&gt;\r\n        &lt;xslt style=&quot;${jvxml.core.dir}/etc/checkstyle-frames.xsl&quot; in=&quot;${checkstyle.data}&quot; out=&quot;${checkstyle-target.dir}/report.html&quot;&gt;\r\n            &lt;param name=&quot;output.dir&quot; expression=&quot;${checkstyle-target.dir}&quot; /&gt;\r\n        &lt;/xslt&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;all&quot; depends=&quot;run, war&quot; description=&quot;create binaries&quot; /&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\nI really try to find out what was the problem, but I didn&#39;t. Can someone could help me?\r\n\r\nI tried to look in every folder to understand, looked on the internet to understand build.xml files but nothing.\r\n\r\nPS: I need this war in order to deploy it on tomcat server","title":"Ant command &#39;war&#39; fails with error &#39;jvxml.xml.lib doesn&#39;t denote a zipfileset or a fileset&#39;","body":"<p>I'm trying to run JVoiceXML demo but I'm new to all theses new technologies. I succeed to run the demo except the servlet one (in which one you have to work with tomcat. The problem is: when I try to &quot;ant war&quot;, an error appears:\n&quot;BUILD FAILED\nC:\\Users\\a904778\\JVoiceXML\\V1\\demo\\org.jvoicexml.demo.helloworldservletdemo\\build.xml:113: jvxml.xml.lib doesn't denote a zipfileset or a fileset&quot;</p>\n<p>Here's my build.xml :</p>\n<pre><code>&lt;project name=&quot;HelloWorldServlet&quot; default=&quot;war&quot; basedir=&quot;.&quot;&gt;\n    &lt;description&gt;\nThis file builds the 'Hello world' demo for JVoiceXML for a servlet container.\n\nThis demo consists of two servlets. The 'HelloWorldServlet' as the initial\nservlet greets the user and passes a goodbye message to the next servlet,\nthe 'GoodbyServlet'.\n\nYou will need a servlet container, i.e. tomcat, to run this demo.\n\nYou will need to adapt the settings for your servlet container in the file\n../personal-props/ant.properties.\nCall target checkJEE to check the current settings.\n\nI order to run the demo you will first have to call\nant war\nto create a deployable war file. After the installation in you sevlet\ncontainer, call\nant run\nto run the client.\n    &lt;/description&gt;\n\n    &lt;!-- allow the user to override setting in an own propertiesfile. --&gt;\n    &lt;property file=&quot;../personal-props/ant.properties&quot; /&gt;\n    &lt;property file=&quot;../config-props/ant.properties&quot; /&gt;\n\n    &lt;!-- Load the settings for 3rdparty libraries --&gt;\n    &lt;import file=&quot;3rdparty-libs.xml&quot; /&gt;\n\n    &lt;target name=&quot;-setup&quot; depends=&quot;-local-3rdparty-setup&quot;&gt;\n        &lt;!-- The component built here--&gt;\n        &lt;property name=&quot;component&quot;\n            value=&quot;org.jvoicexml.demo.helloworldservletdemo&quot;/&gt;\n        &lt;property name=&quot;component.path&quot;\n          value=&quot;org/jvoicexml/demo/helloworldservletdemo&quot;/&gt;\n\n        &lt;property name=&quot;src&quot; value=&quot;src&quot; /&gt;\n        &lt;property name=&quot;build&quot; value=&quot;classes&quot; /&gt;\n        &lt;property name=&quot;config&quot; value=&quot;config&quot; /&gt;\n        &lt;property name=&quot;dist&quot; value=&quot;${jvxml.core.dir}/dist&quot; /&gt;\n\n        &lt;property name=&quot;dist.war&quot; value=&quot;${dist}/${component}.war&quot; /&gt;\n\n        &lt;property name=&quot;optimize&quot; value=&quot;off&quot; /&gt;\n        &lt;property name=&quot;debug&quot; value=&quot;on&quot; /&gt;\n\n        &lt;!-- the used class path --&gt;\n        &lt;path id=&quot;build.classpath&quot;&gt;\n            &lt;fileset refid=&quot;log4j.lib&quot; /&gt;\n            &lt;fileset refid=&quot;servlet.lib&quot; /&gt;\n            &lt;path refid=&quot;jvxml.core.lib&quot; /&gt;\n        &lt;/path&gt;\n\n        &lt;path id=&quot;run.classpath&quot;&gt;\n            &lt;fileset refid=&quot;log4j.lib&quot; /&gt;\n            &lt;fileset refid=&quot;rhino.lib&quot; /&gt;\n            &lt;path refid=&quot;jvxml.core.lib&quot; /&gt;\n        &lt;/path&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;-init&quot; depends=&quot;-setup&quot;&gt;\n        &lt;mkdir dir=&quot;${build}&quot; /&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;-checkJVoiceXML&quot;&gt;\n        &lt;available classname=&quot;org.jvoicexml.JVoiceXml&quot; property=&quot;jvoicexml.present&quot; classpathref=&quot;build.classpath&quot; /&gt;\n        &lt;fail unless=&quot;jvoicexml.present&quot;&gt;\nCannot find jvoicexml libraries needed to build this demo.\nBuild this jar from the main project first.\n    &lt;/fail&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;checkJEE&quot; description=&quot;Check JEE library settings&quot; depends=&quot;-init&quot;&gt;\n        &lt;available classname=&quot;javax.servlet.http.HttpServlet&quot; property=&quot;servlet.available&quot;&gt;\n            &lt;classpath&gt;\n                &lt;fileset refid=&quot;servlet.lib&quot; /&gt;\n            &lt;/classpath&gt;\n        &lt;/available&gt;\n        &lt;fail unless=&quot;servlet.available&quot;&gt;\nCannot find servlet libraries at '${servlet.lib.dir}'.\nAdapt the settings for your servlet container in the file\n../personal-props/ant.properties.\n      &lt;/fail&gt;\n        &lt;echo message=&quot;servlet.lib.dir = '${servlet.lib.dir}' usable:${servlet.available}&quot; /&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;clean&quot; description=&quot;Remove all compiled and distribution files&quot;&gt;\n        &lt;delete dir=&quot;${build}&quot; /&gt;\n        &lt;delete file=&quot;${jar.file}&quot; /&gt;\n        &lt;delete file=&quot;${war.file}&quot; /&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;compile&quot; depends=&quot;-init,-checkJVoiceXML&quot; description=&quot;Compile the JAVA sources&quot;&gt;\n        &lt;copy todir=&quot;${build}&quot;&gt;\n            &lt;fileset dir=&quot;${config}&quot;&gt;\n                &lt;include name=&quot;**/*.xml&quot; /&gt;\n                &lt;include name=&quot;**/*.properties&quot; /&gt;\n                &lt;include name=&quot;**/*.policy&quot; /&gt;\n            &lt;/fileset&gt;\n        &lt;/copy&gt;\n        &lt;echo message=&quot;compiling with debug=${debug}, optimize=${optimize}&quot; /&gt;\n        &lt;javac destdir=&quot;${build}&quot; optimize=&quot;${optimize}&quot; debug=&quot;${debug}&quot;\n            deprecation=&quot;on&quot; includeantruntime=&quot;false&quot;&gt;\n            &lt;src path=&quot;${src}&quot; /&gt;\n            &lt;include name=&quot;**/*.java&quot; /&gt;\n            &lt;classpath refid=&quot;build.classpath&quot; /&gt;\n            &lt;compilerarg value=&quot;-Xlint:unchecked&quot; /&gt;\n        &lt;/javac&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;war&quot; depends=&quot;compile&quot; description=&quot;Pack all compiled servlet files into a single war&quot;&gt;\n        &lt;war destfile=&quot;${dist.war}&quot; webxml=&quot;WebContent/WEB-INF/web.xml&quot;&gt;\n            &lt;lib refid=&quot;log4j.lib&quot; /&gt;\n            &lt;lib refid=&quot;jvxml.xml.lib&quot; /&gt;\n            &lt;classes dir=&quot;${build}&quot;&gt;\n                &lt;include name=&quot;**/*Servlet.class&quot; /&gt;\n            &lt;/classes&gt;\n            &lt;classes dir=&quot;config&quot;&gt;\n                &lt;include name=&quot;log4j.xml&quot; /&gt;\n            &lt;/classes&gt;\n            &lt;fileset dir=&quot;WebContent&quot;&gt;\n                &lt;include name=&quot;*.html&quot; /&gt;\n                &lt;include name=&quot;META-INF/**&quot; /&gt;\n            &lt;/fileset&gt;\n        &lt;/war&gt;\n\n        &lt;echo message=&quot;Install ${dist.war} to your servlet container!&quot; /&gt;\n        &lt;echo message=&quot;Then call 'ant run' to run the client&quot; /&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;run&quot; description=&quot;Run the 'hello world servlet demo' demo&quot; depends=&quot;compile&quot;&gt;\n        &lt;java classname=&quot;org.jvoicexml.demo.helloworldservletdemo.HelloWorldDemo&quot; fork=&quot;true&quot;&gt;\n            &lt;jvmarg value=&quot;-Djava.security.policy=${build}/jvoicexml.policy&quot; /&gt;\n            &lt;classpath&gt;\n                &lt;path refid=&quot;run.classpath&quot; /&gt;\n                &lt;pathelement path=&quot;${build}&quot; /&gt;\n            &lt;/classpath&gt;\n            &lt;arg value=&quot;http://127.0.0.1:8080/helloworldservletdemo/HelloWorld&quot; /&gt;\n        &lt;/java&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;checkstyle&quot; description=&quot;Check for JVoiceXML coding standard&quot; depends=&quot;compile, -initcheckstyle&quot; if=&quot;checkstyle.present&quot;&gt;\n        &lt;property name=&quot;checkstyle-target.dir&quot; value=&quot;${dist}/checkstyle/${component}&quot; /&gt;\n        &lt;mkdir dir=&quot;${checkstyle-target.dir}&quot; /&gt;\n        &lt;property name=&quot;checkstyle.data&quot; value=&quot;${checkstyle-target.dir}/checkstyle-data.xml&quot; /&gt;\n        &lt;checkstyle config=&quot;${jvxml.core.dir}/etc/jvoicexml-checks.xml&quot; failonviolation=&quot;false&quot;&gt;\n            &lt;classpath&gt;\n                &lt;pathelement path=&quot;${project.classpath}&quot; /&gt;\n                &lt;pathelement location=&quot;${build}&quot; /&gt;\n            &lt;/classpath&gt;\n            &lt;classpath refid=&quot;jvxml.core.lib&quot; /&gt;\n            &lt;fileset dir=&quot;${src}&quot;&gt;\n                &lt;include name=&quot;${component.path}/**/*.java&quot; /&gt;\n            &lt;/fileset&gt;\n            &lt;formatter type=&quot;xml&quot; tofile=&quot;${checkstyle.data}&quot; /&gt;\n        &lt;/checkstyle&gt;\n        &lt;xslt style=&quot;${jvxml.core.dir}/etc/checkstyle-frames.xsl&quot; in=&quot;${checkstyle.data}&quot; out=&quot;${checkstyle-target.dir}/report.html&quot;&gt;\n            &lt;param name=&quot;output.dir&quot; expression=&quot;${checkstyle-target.dir}&quot; /&gt;\n        &lt;/xslt&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;all&quot; depends=&quot;run, war&quot; description=&quot;create binaries&quot; /&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>I really try to find out what was the problem, but I didn't. Can someone could help me?</p>\n<p>I tried to look in every folder to understand, looked on the internet to understand build.xml files but nothing.</p>\n<p>PS: I need this war in order to deploy it on tomcat server</p>\n"},{"tags":["java","microservices","hystrix"],"answers":[{"tags":[],"owner":{"account_id":5749769,"reputation":2331,"user_id":4539838,"display_name":"Amit kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1632200487,"creation_date":1632200487,"answer_id":69263584,"question_id":69263386,"body_markdown":"As per the docs for [Spring Cloud CircuitBreaker GatewayFilter Factory][1]\r\n\r\n&gt; To enable the Spring Cloud CircuitBreaker filter you will need to\r\n&gt; either place spring-cloud-starter-circuitbreaker-reactor-resilience4j\r\n&gt; or spring-cloud-starter-netflix-hystrix on the classpath.\r\n\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-gateway/reference/html/#spring-cloud-circuitbreaker-filter-factory\r\n\r\nSo, Try after adding below dependencies in your `pom.xml` file :\r\n\r\n1. spring-cloud-starter-gateway\r\n2. spring-cloud-starter-circuitbreaker-reactor-resilience4j\r\n3. spring-cloud-starter-netflix-hystrix","title":"Unable to find GatewayFilterFactory with name CircuitBreaker","body":"<p>As per the docs for <a href=\"https://cloud.spring.io/spring-cloud-gateway/reference/html/#spring-cloud-circuitbreaker-filter-factory\" rel=\"noreferrer\">Spring Cloud CircuitBreaker GatewayFilter Factory</a></p>\n<blockquote>\n<p>To enable the Spring Cloud CircuitBreaker filter you will need to\neither place spring-cloud-starter-circuitbreaker-reactor-resilience4j\nor spring-cloud-starter-netflix-hystrix on the classpath.</p>\n</blockquote>\n<p>So, Try after adding below dependencies in your <code>pom.xml</code> file :</p>\n<ol>\n<li>spring-cloud-starter-gateway</li>\n<li>spring-cloud-starter-circuitbreaker-reactor-resilience4j</li>\n<li>spring-cloud-starter-netflix-hystrix</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17285700,"reputation":121,"user_id":12518452,"display_name":"Mami Alexandre"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634243634,"creation_date":1634243634,"answer_id":69577032,"question_id":69263386,"body_markdown":"Check spring-boot version .\r\nI had the same problem . Spent a lot of time to find solution.\r\nProblem was resolved when a change the version of spring-boot in .pom file from 2.5.5 to 2.3.4 Release and spring-cloud.version from 2020.0.4 to Hoxton.SR8\r\n\r\n[![version 2.5.5][1]][1]\r\n\r\n\r\n-----------------------------------------\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n-----------------------------------------------\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n-------------------------------------------\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ut9hI.png\r\n  [2]: https://i.stack.imgur.com/mXFUp.png\r\n  [3]: https://i.stack.imgur.com/d39wS.png\r\n  [4]: https://i.stack.imgur.com/zUsOB.png","title":"Unable to find GatewayFilterFactory with name CircuitBreaker","body":"<p>Check spring-boot version .\nI had the same problem . Spent a lot of time to find solution.\nProblem was resolved when a change the version of spring-boot in .pom file from 2.5.5 to 2.3.4 Release and spring-cloud.version from 2020.0.4 to Hoxton.SR8</p>\n<p><a href=\"https://i.stack.imgur.com/Ut9hI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ut9hI.png\" alt=\"version 2.5.5\" /></a></p>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/mXFUp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mXFUp.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/d39wS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d39wS.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/zUsOB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zUsOB.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":23438485,"reputation":1,"user_id":17496291,"display_name":"BOBY BURMAN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639639098,"creation_date":1639637168,"answer_id":70374901,"question_id":69263386,"body_markdown":"use these versions:\r\n```\r\nparent version=2.4.3\r\nspring-cloud version=2020.0.1\r\n```\r\nimport dependencies:\r\n```\r\nspring-cloud-starter-circuitbreaker-reactor-resilience4j\r\njersey-apache-client4\t\t\r\n```\r\nThanks\r\n","title":"Unable to find GatewayFilterFactory with name CircuitBreaker","body":"<p>use these versions:</p>\n<pre><code>parent version=2.4.3\nspring-cloud version=2020.0.1\n</code></pre>\n<p>import dependencies:</p>\n<pre><code>spring-cloud-starter-circuitbreaker-reactor-resilience4j\njersey-apache-client4       \n</code></pre>\n<p>Thanks</p>\n"},{"comments":[{"owner":{"account_id":13753711,"reputation":676,"user_id":9925191,"display_name":"Rose"},"score":1,"creation_date":1651124972,"post_id":70605732,"comment_id":127289189,"body_markdown":"Adding both resilience4j and hystrix actually worked for me. Thank you!","body":"Adding both resilience4j and hystrix actually worked for me. Thank you!"},{"owner":{"account_id":16484526,"reputation":93,"user_id":11910303,"display_name":"Shubham K."},"score":0,"creation_date":1666934212,"post_id":70605732,"comment_id":131056507,"body_markdown":"same thing worked for me as well. Thank you!","body":"same thing worked for me as well. Thank you!"}],"tags":[],"owner":{"account_id":12734887,"reputation":183,"user_id":9250139,"display_name":"user9250139"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1641464882,"creation_date":1641464882,"answer_id":70605732,"question_id":69263386,"body_markdown":"Unlike what the docs https://cloud.spring.io/spring-cloud-gateway/reference/html/#spring-cloud-circuitbreaker-filter-factory says about:\r\n\r\nTo enable the Spring Cloud CircuitBreaker filter you will need to either place **spring-cloud-starter-circuitbreaker-reactor-resilience4j or spring-cloud-starter-netflix-hystrix** on the classpath.\r\n\r\nOne will need to have **BOTH** of the dependencies in order to have the auto configuration to configure the SpringCloudCircuitBreakerResilience4JFilterFactory bean.\r\n\r\nie.\r\npom.xml:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-circuitbreaker-reactor-resilience4j&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nIt is due to this auto configuration class&#39;s code:\r\n\r\n    @ConditionalOnClass({ DispatcherHandler.class,\r\n    \t\tReactiveResilience4JAutoConfiguration.class,\r\n    \t\tHystrixCircuitBreakerAutoConfiguration.class })\r\n    public class GatewayCircuitBreakerAutoConfiguration {\r\n    and @ConditionalOnClass&#39;s\r\n\r\n javadocs says:\r\n\r\nThe classes that must be present.\r\n\r\nHence whatever listed as the list param to @ConditionalOnClass are in and relationship instead of what the docs claims to be or relationship.","title":"Unable to find GatewayFilterFactory with name CircuitBreaker","body":"<p>Unlike what the docs <a href=\"https://cloud.spring.io/spring-cloud-gateway/reference/html/#spring-cloud-circuitbreaker-filter-factory\" rel=\"noreferrer\">https://cloud.spring.io/spring-cloud-gateway/reference/html/#spring-cloud-circuitbreaker-filter-factory</a> says about:</p>\n<p>To enable the Spring Cloud CircuitBreaker filter you will need to either place <strong>spring-cloud-starter-circuitbreaker-reactor-resilience4j or spring-cloud-starter-netflix-hystrix</strong> on the classpath.</p>\n<p>One will need to have <strong>BOTH</strong> of the dependencies in order to have the auto configuration to configure the SpringCloudCircuitBreakerResilience4JFilterFactory bean.</p>\n<p>ie.\npom.xml:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-circuitbreaker-reactor-resilience4j&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>It is due to this auto configuration class's code:</p>\n<pre><code>@ConditionalOnClass({ DispatcherHandler.class,\n        ReactiveResilience4JAutoConfiguration.class,\n        HystrixCircuitBreakerAutoConfiguration.class })\npublic class GatewayCircuitBreakerAutoConfiguration {\nand @ConditionalOnClass's\n</code></pre>\n<p>javadocs says:</p>\n<p>The classes that must be present.</p>\n<p>Hence whatever listed as the list param to @ConditionalOnClass are in and relationship instead of what the docs claims to be or relationship.</p>\n"},{"tags":[],"owner":{"account_id":24057073,"reputation":1,"user_id":18034765,"display_name":"Pradyumn Bhavsar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643630884,"creation_date":1643175733,"answer_id":70859046,"question_id":69263386,"body_markdown":"Add this dependency in your pom.xml file:\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2.10.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-circuitbreaker-reactor-resilience4j --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-circuitbreaker-reactor-resilience4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Unable to find GatewayFilterFactory with name CircuitBreaker","body":"<p>Add this dependency in your pom.xml file:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;\n            &lt;version&gt;2.2.10.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-circuitbreaker-reactor-resilience4j --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-circuitbreaker-reactor-resilience4j&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24056093,"reputation":11,"user_id":18033889,"display_name":"Edford Jongwe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643278378,"creation_date":1643270367,"answer_id":70875085,"question_id":69263386,"body_markdown":"Adding these dependencies worked for me. I had to add \r\n```\r\nspring-cloud-starter-circuitbreaker-reactor-circuitbreaker\r\n```\r\nto my pom.xml","title":"Unable to find GatewayFilterFactory with name CircuitBreaker","body":"<p>Adding these dependencies worked for me. I had to add</p>\n<pre><code>spring-cloud-starter-circuitbreaker-reactor-circuitbreaker\n</code></pre>\n<p>to my pom.xml</p>\n"},{"tags":[],"owner":{"account_id":10810559,"reputation":79,"user_id":7951276,"display_name":"Ayush Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657422527,"creation_date":1657422527,"answer_id":72925909,"question_id":69263386,"body_markdown":"Adding spring-cloud-starter-circuitbreaker-reactor-resilience4j dependency worked in my case.\r\nI have API-gateway with Java 11 and spring-boot version 2.7.1\r\n\r\nHere is the dependency versions for spring-boot,netflix-hystrix and reilience4j\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.1&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n        &lt;!--  lookup parent from repository  --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.10.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-circuitbreaker-reactor-resilience4j&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n","title":"Unable to find GatewayFilterFactory with name CircuitBreaker","body":"<p>Adding spring-cloud-starter-circuitbreaker-reactor-resilience4j dependency worked in my case.\nI have API-gateway with Java 11 and spring-boot version 2.7.1</p>\n<p>Here is the dependency versions for spring-boot,netflix-hystrix and reilience4j</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.1&lt;/version&gt;\n    &lt;relativePath/&gt;\n    &lt;!--  lookup parent from repository  --&gt;\n&lt;/parent&gt;\n\n&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;\n        &lt;version&gt;2.2.10.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-circuitbreaker-reactor-resilience4j&lt;/artifactId&gt;\n        &lt;version&gt;2.1.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13782778,"reputation":935,"user_id":9947525,"display_name":"Fazal Haroon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685625706,"creation_date":1664020245,"answer_id":73837005,"question_id":69263386,"body_markdown":"We need both **spring-cloud-starter-circuitbreaker-reactor-resilience4j** and **spring-cloud-starter-netflix-hystrix** for hystrix configuration\r\nImport the following dependencies\r\n\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;{new-version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-circuitbreaker-reactor-resilience4j&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n\r\nFallBackController\r\n\r\n    @RestController\r\n    public class FallbackController {\r\n    @RequestMapping(&quot;/orderFallBack&quot;)\r\n    public Mono&lt;String&gt; orderServiceFallBack(){\r\n        return Mono.just(&quot;Order Service is taking too long to respond or is down. Please try again later&quot;);\r\n    }\r\n    @RequestMapping(&quot;/paymentFallBack&quot;)\r\n    public Mono&lt;String&gt; paymentServiceFallBack(){\r\n        return Mono.just(&quot;Payment Service is taking too long to respond or is down. Please try again later&quot;);\r\n    }\r\n    }\r\n\r\nMain Application Class\r\n\r\n    @SpringBootApplication\r\n    @EnableEurekaClient\r\n    @EnableHystrix\r\n    public class CloudGatewayApplication {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(CloudGatewayApplication.class, args);\r\n\t}\r\n    }\r\napplication.properties\r\n\r\n    spring:\r\n      application:\r\n        name: GATEWAY-SERVICE\r\n      cloud:\r\n        gateway:\r\n          routes:\r\n            - id: order-service\r\n              uri: lb://ORDER-SERVICE\r\n              predicates:\r\n                - Path=/order/**\r\n              filters:\r\n                - name: CircuitBreaker\r\n                  args:\r\n                    name: order-service\r\n                    fallbackuri: forward:/orderFallBack\r\n            - id: payment-service\r\n              uri: lb://PAYMENT-SERVICE\r\n              predicates:\r\n                - Path=/payment/**\r\n              filters:\r\n                - name: CircuitBreaker\r\n                  args:\r\n                    name: payment-service\r\n                    fallbackuri: forward:/paymentFallBack\r\n    \r\n    server:\r\n      port: 8989\r\n    \r\n    eureka:\r\n      client:\r\n        fetch-registry: true\r\n        register-with-eureka: true\r\n        service-url:\r\n          defaultZone: http://localhost:8761/eureka/\r\n      instance:\r\n        hostname: localhost\r\n    management:\r\n      endpoints:\r\n        web:\r\n          exposure:\r\n            include: hystrix.stream\r\n    \r\n    hystrix:\r\n      command:\r\n        fallbackcmd:\r\n          execution:\r\n            isolation:\r\n              thread:\r\n                timeoutInMilliseconds: 5000\r\n\r\nI hope this helps! Let me know if you have any questions or if there&#39;s anything else I can assist you with.\r\n\r\nHappy coding! &#128104;â&#128187;\r\n\r\n","title":"Unable to find GatewayFilterFactory with name CircuitBreaker","body":"<p>We need both <strong>spring-cloud-starter-circuitbreaker-reactor-resilience4j</strong> and <strong>spring-cloud-starter-netflix-hystrix</strong> for hystrix configuration\nImport the following dependencies</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;\n            &lt;version&gt;{new-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-circuitbreaker-reactor-resilience4j&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>FallBackController</p>\n<pre><code>@RestController\npublic class FallbackController {\n@RequestMapping(&quot;/orderFallBack&quot;)\npublic Mono&lt;String&gt; orderServiceFallBack(){\n    return Mono.just(&quot;Order Service is taking too long to respond or is down. Please try again later&quot;);\n}\n@RequestMapping(&quot;/paymentFallBack&quot;)\npublic Mono&lt;String&gt; paymentServiceFallBack(){\n    return Mono.just(&quot;Payment Service is taking too long to respond or is down. Please try again later&quot;);\n}\n}\n</code></pre>\n<p>Main Application Class</p>\n<pre><code>@SpringBootApplication\n@EnableEurekaClient\n@EnableHystrix\npublic class CloudGatewayApplication {\npublic static void main(String[] args) {\n    SpringApplication.run(CloudGatewayApplication.class, args);\n}\n}\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring:\n  application:\n    name: GATEWAY-SERVICE\n  cloud:\n    gateway:\n      routes:\n        - id: order-service\n          uri: lb://ORDER-SERVICE\n          predicates:\n            - Path=/order/**\n          filters:\n            - name: CircuitBreaker\n              args:\n                name: order-service\n                fallbackuri: forward:/orderFallBack\n        - id: payment-service\n          uri: lb://PAYMENT-SERVICE\n          predicates:\n            - Path=/payment/**\n          filters:\n            - name: CircuitBreaker\n              args:\n                name: payment-service\n                fallbackuri: forward:/paymentFallBack\n\nserver:\n  port: 8989\n\neureka:\n  client:\n    fetch-registry: true\n    register-with-eureka: true\n    service-url:\n      defaultZone: http://localhost:8761/eureka/\n  instance:\n    hostname: localhost\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: hystrix.stream\n\nhystrix:\n  command:\n    fallbackcmd:\n      execution:\n        isolation:\n          thread:\n            timeoutInMilliseconds: 5000\n</code></pre>\n<p>I hope this helps! Let me know if you have any questions or if there's anything else I can assist you with.</p>\n<p>Happy coding! ð¨âð»</p>\n"},{"comments":[{"owner":{"account_id":11067636,"reputation":165,"user_id":8126924,"display_name":"Vamsi Jayavarapu"},"score":0,"creation_date":1683707016,"post_id":75319947,"comment_id":134406180,"body_markdown":"Only adding this wont worked for me after adding &#39;spring-cloud-starter-netflix-hystrix&#39;, it started working.","body":"Only adding this wont worked for me after adding &#39;spring-cloud-starter-netflix-hystrix&#39;, it started working."}],"tags":[],"owner":{"account_id":22789129,"reputation":81,"user_id":16943764,"display_name":"dinakaran karan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675323440,"creation_date":1675323440,"answer_id":75319947,"question_id":69263386,"body_markdown":"Adding the following dependency in pom.xml worked for me\r\n   \r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-circuitbreaker-reactor- \r\n                resilience4j&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Unable to find GatewayFilterFactory with name CircuitBreaker","body":"<p>Adding the following dependency in pom.xml worked for me</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-circuitbreaker-reactor- \n            resilience4j&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13782778,"reputation":935,"user_id":9947525,"display_name":"Fazal Haroon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685625678,"creation_date":1685625345,"answer_id":76382301,"question_id":69263386,"body_markdown":"To use Reactor in a Spring Boot project, you need to add the appropriate dependency for Reactor. You can include the Reactor dependency in your project by adding the following entry to your Maven pom.xml file:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.3&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.fazaltuts4u&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;CloudGateway&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;CloudGateway&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;2021.0.7&lt;/spring-cloud.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-circuitbreaker-reactor-resilience4j&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nAdd the following lines of configuration to your application.yaml file:\r\n\r\n    server:\r\n      port: 9090\r\n    \r\n    spring:\r\n      application:\r\n        name: API-GATEWAY\r\n      config:\r\n        import: configserver:http://localhost:9296\r\n      cloud:\r\n        gateway:\r\n          routes:\r\n            - id : ORDER-SERVICE\r\n              uri: lb://ORDER-SERVICE\r\n              predicates:\r\n                - Path=/order/**\r\n              filters:\r\n                - name: CircuitBreaker\r\n                  args:\r\n                    name: ORDER-SERVICE\r\n                    fallbackuri: forward:/orderServiceFallBack\r\n            - id: PRODUCT-SERVICE\r\n              uri: lb://PRODUCT-SERVICE\r\n              predicates:\r\n                - Path=/product/**\r\n              filters:\r\n                - name: CircuitBreaker\r\n                  args:\r\n                    name: PRODUCT-SERVICE\r\n                    fallbackuri: forward:/productServiceFallBack\r\n            - id: PAYMENT-SERVICE\r\n              uri: lb://PAYMENT-SERVICE\r\n              predicates:\r\n                - Path=/payment/**\r\n              filters:\r\n                - name: CircuitBreaker\r\n                  args:\r\n                    name: PAYMENT-SERVICE\r\n                    fallbackuri: forward:/paymentServiceFallBack\r\n\r\nFallbackController file\r\n\r\n    package com.fazaltuts4u.CloudGateway.controller;\r\n    \r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    public class FallbackController {\r\n    \r\n        @GetMapping(&quot;/orderServiceFallBack&quot;)\r\n        public String orderServiceFallback(){\r\n            return &quot;Order Service is down!&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/productServiceFallBack&quot;)\r\n        public String productServiceFallback(){\r\n            return &quot;Product Service is down!&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/paymentServiceFallBack&quot;)\r\n        public String paymentServiceFallback(){\r\n            return &quot;Payment Service is down!&quot;;\r\n        }\r\n    }\r\n\r\nMain Class\r\n\r\n    package com.fazaltuts4u.CloudGateway;\r\n    \r\n    import io.github.resilience4j.circuitbreaker.CircuitBreakerConfig;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.cloud.circuitbreaker.resilience4j.Resilience4JCircuitBreakerFactory;\r\n    import org.springframework.cloud.circuitbreaker.resilience4j.Resilience4JConfigBuilder;\r\n    import org.springframework.cloud.client.circuitbreaker.Customizer;\r\n    import org.springframework.context.annotation.Bean;\r\n    \r\n    @SpringBootApplication\r\n    public class CloudGatewayApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(CloudGatewayApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic Customizer&lt;Resilience4JCircuitBreakerFactory&gt; defaultCustomizer(){\r\n    \t\treturn factory -&gt; factory.configureDefault(\r\n    \t\t\t\tid -&gt; new Resilience4JConfigBuilder(id)\r\n    \t\t\t\t\t\t.circuitBreakerConfig(CircuitBreakerConfig.ofDefaults())\r\n    \t\t\t\t\t\t.build()\r\n    \t\t);\r\n    \t}\r\n    \r\n    }\r\n\r\nI hope this helps! Let me know if you have any questions or if there&#39;s anything else I can assist you with.\r\n\r\nHappy coding! &#128104;â&#128187;\r\n\r\n\r\n","title":"Unable to find GatewayFilterFactory with name CircuitBreaker","body":"<p>To use Reactor in a Spring Boot project, you need to add the appropriate dependency for Reactor. You can include the Reactor dependency in your project by adding the following entry to your Maven pom.xml file:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.fazaltuts4u&lt;/groupId&gt;\n    &lt;artifactId&gt;CloudGateway&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;CloudGateway&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.7&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-circuitbreaker-reactor-resilience4j&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Add the following lines of configuration to your application.yaml file:</p>\n<pre><code>server:\n  port: 9090\n\nspring:\n  application:\n    name: API-GATEWAY\n  config:\n    import: configserver:http://localhost:9296\n  cloud:\n    gateway:\n      routes:\n        - id : ORDER-SERVICE\n          uri: lb://ORDER-SERVICE\n          predicates:\n            - Path=/order/**\n          filters:\n            - name: CircuitBreaker\n              args:\n                name: ORDER-SERVICE\n                fallbackuri: forward:/orderServiceFallBack\n        - id: PRODUCT-SERVICE\n          uri: lb://PRODUCT-SERVICE\n          predicates:\n            - Path=/product/**\n          filters:\n            - name: CircuitBreaker\n              args:\n                name: PRODUCT-SERVICE\n                fallbackuri: forward:/productServiceFallBack\n        - id: PAYMENT-SERVICE\n          uri: lb://PAYMENT-SERVICE\n          predicates:\n            - Path=/payment/**\n          filters:\n            - name: CircuitBreaker\n              args:\n                name: PAYMENT-SERVICE\n                fallbackuri: forward:/paymentServiceFallBack\n</code></pre>\n<p>FallbackController file</p>\n<pre><code>package com.fazaltuts4u.CloudGateway.controller;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class FallbackController {\n\n    @GetMapping(&quot;/orderServiceFallBack&quot;)\n    public String orderServiceFallback(){\n        return &quot;Order Service is down!&quot;;\n    }\n\n    @GetMapping(&quot;/productServiceFallBack&quot;)\n    public String productServiceFallback(){\n        return &quot;Product Service is down!&quot;;\n    }\n\n    @GetMapping(&quot;/paymentServiceFallBack&quot;)\n    public String paymentServiceFallback(){\n        return &quot;Payment Service is down!&quot;;\n    }\n}\n</code></pre>\n<p>Main Class</p>\n<pre><code>package com.fazaltuts4u.CloudGateway;\n\nimport io.github.resilience4j.circuitbreaker.CircuitBreakerConfig;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.circuitbreaker.resilience4j.Resilience4JCircuitBreakerFactory;\nimport org.springframework.cloud.circuitbreaker.resilience4j.Resilience4JConfigBuilder;\nimport org.springframework.cloud.client.circuitbreaker.Customizer;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication\npublic class CloudGatewayApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(CloudGatewayApplication.class, args);\n    }\n\n    @Bean\n    public Customizer&lt;Resilience4JCircuitBreakerFactory&gt; defaultCustomizer(){\n        return factory -&gt; factory.configureDefault(\n                id -&gt; new Resilience4JConfigBuilder(id)\n                        .circuitBreakerConfig(CircuitBreakerConfig.ofDefaults())\n                        .build()\n        );\n    }\n\n}\n</code></pre>\n<p>I hope this helps! Let me know if you have any questions or if there's anything else I can assist you with.</p>\n<p>Happy coding! ð¨âð»</p>\n"}],"owner":{"account_id":21802979,"reputation":81,"user_id":16101543,"display_name":"Swapnil Soni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14867,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":10,"score":8,"last_activity_date":1685625706,"creation_date":1632198596,"question_id":69263386,"body_markdown":"Properties File\r\n\r\n```\r\nserver:\r\n  port: 8999\r\n  \r\neureka:\r\n  instance:\r\n    hostname: localhost\r\n\r\n    \r\n#Actuator Configuration\r\nmanagement:\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: hystrix.stream, health, info  \r\n        \r\n#Hystrix Configuration\r\nhystrix:\r\n  command:\r\n    fallbackcmd:\r\n      execution:\r\n        isolation:\r\n          thread:\r\n            timeoutInMilliseconds: 4000\r\n\r\n\r\nspring:\r\n  application:\r\n    name: gateway\r\n  cloud:\r\n    gateway:\r\n      routes:\r\n      - id: capability-deck\r\n        uri: lb://capability-deck\r\n        predicates:\r\n        - Path=/capability/**\r\n        filters:\r\n            - name: CircuitBreaker\r\n              args:\r\n                name: capability-deck\r\n                fallbackuri: forward:/capabilityServiceFallBack\r\n        \r\n     \r\n      - id: home-page\r\n        uri: lb://home-page\r\n        predicates:\r\n        - Path=/home/**\r\n      \r\n        \r\n      - id: subscription\r\n        uri: lb://subscription\r\n        predicates:\r\n        - Path=/subscription/**\r\n       \r\n       \r\n        \r\n\r\n```\r\n\r\nController\r\n\r\n```\r\npackage com.valuepedia.gateway.controller;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class FallBackController {\r\n\r\n\t@GetMapping(&quot;/subscriptionServiceFallBack&quot;)\r\n    public String userServiceFallBackMethod() {\r\n        return &quot;Subscription Service is taking longer than Expected.&quot; +\r\n                &quot; Please try again later&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/capabilityServiceFallBack&quot;)\r\n    public String capabilityServiceFallBackMethod() {\r\n        return &quot;Capability Service is taking longer than Expected.&quot; +\r\n                &quot; Please try again later&quot;;\r\n    }\r\n    \r\n    @GetMapping(&quot;/homeServiceFallBack&quot;)\r\n    public String homeServiceFallBackMethod() {\r\n        return &quot;Home Service is taking longer than Expected.&quot; +\r\n                &quot; Please try again later&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nMain Class\r\n\r\n```\r\npackage com.valuepedia.gateway;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.cloud.netflix.eureka.EnableEurekaClient;\r\nimport org.springframework.cloud.netflix.hystrix.EnableHystrix;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\n@SpringBootApplication\r\n@EnableEurekaClient\r\n@EnableHystrix\r\npublic class GatewayApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(GatewayApplication.class, args);\r\n\t}\r\n}\r\n\r\n```\r\n\r\nGetting error message as\r\n\r\n```none\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n[32m :: Spring Boot :: [39m              [2m (v2.5.4)[0;39m\r\n\r\n[2m2021-09-21 09:44:08.705[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.valuepedia.gateway.GatewayApplication [0;39m [2m:[0;39m Starting GatewayApplication using Java 15.0.2 on A2568L with PID 7852 (D:\\Valuepedia\\Gateway\\target\\classes started by Swapnil.Soni in D:\\Valuepedia\\Gateway)\r\n[2m2021-09-21 09:44:08.714[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.valuepedia.gateway.GatewayApplication [0;39m [2m:[0;39m No active profile set, falling back to default profiles: default\r\n[2m2021-09-21 09:44:10.561[0;39m [33m WARN[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.boot.actuate.endpoint.EndpointId    [0;39m [2m:[0;39m Endpoint ID &#39;hystrix.stream&#39; contains invalid characters, please migrate to a valid format.\r\n[2m2021-09-21 09:44:13.646[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.cloud.context.scope.GenericScope    [0;39m [2m:[0;39m BeanFactory id=86068429-c6fe-399f-b31b-17fdee65f911\r\n[2m2021-09-21 09:44:14.693[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mtrationDelegate$BeanPostProcessorChecker[0;39m [2m:[0;39m Bean &#39;org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration&#39; of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[2m2021-09-21 09:44:14.697[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mtrationDelegate$BeanPostProcessorChecker[0;39m [2m:[0;39m Bean &#39;org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig&#39; of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[2m2021-09-21 09:44:14.701[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mtrationDelegate$BeanPostProcessorChecker[0;39m [2m:[0;39m Bean &#39;reactorDeferringLoadBalancerExchangeFilterFunction&#39; of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[2m2021-09-21 09:44:15.438[0;39m [33m WARN[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.n.c.sources.URLConfigurationSource    [0;39m [2m:[0;39m No URLs will be polled as dynamic configuration sources.\r\n[2m2021-09-21 09:44:15.440[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.n.c.sources.URLConfigurationSource    [0;39m [2m:[0;39m To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.\r\n[2m2021-09-21 09:44:15.463[0;39m [33m WARN[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.n.c.sources.URLConfigurationSource    [0;39m [2m:[0;39m No URLs will be polled as dynamic configuration sources.\r\n[2m2021-09-21 09:44:15.463[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.n.c.sources.URLConfigurationSource    [0;39m [2m:[0;39m To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.\r\n[2m2021-09-21 09:44:19.020[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [After]\r\n[2m2021-09-21 09:44:19.021[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Before]\r\n[2m2021-09-21 09:44:19.021[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Between]\r\n[2m2021-09-21 09:44:19.021[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Cookie]\r\n[2m2021-09-21 09:44:19.022[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Header]\r\n[2m2021-09-21 09:44:19.022[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Host]\r\n[2m2021-09-21 09:44:19.022[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Method]\r\n[2m2021-09-21 09:44:19.023[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Path]\r\n[2m2021-09-21 09:44:19.025[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Query]\r\n[2m2021-09-21 09:44:19.026[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [ReadBody]\r\n[2m2021-09-21 09:44:19.027[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [RemoteAddr]\r\n[2m2021-09-21 09:44:19.027[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Weight]\r\n[2m2021-09-21 09:44:19.027[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [CloudFoundryRouteService]\r\n[2m2021-09-21 09:44:21.669[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.b.a.e.web.EndpointLinksResolver     [0;39m [2m:[0;39m Exposing 3 endpoint(s) beneath base path &#39;/actuator&#39;\r\n[2m2021-09-21 09:44:22.230[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mDiscoveryClientOptionalArgsConfiguration[0;39m [2m:[0;39m Eureka HTTP Client uses RestTemplate.\r\n[2m2021-09-21 09:44:22.424[0;39m [33m WARN[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36miguration$LoadBalancerCaffeineWarnLogger[0;39m [2m:[0;39m Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.\r\n[2m2021-09-21 09:44:22.611[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.n.eureka.InstanceInfoFactory      [0;39m [2m:[0;39m Setting initial instance status as: STARTING\r\n[2m2021-09-21 09:44:22.800[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Initializing Eureka in region us-east-1\r\n[2m2021-09-21 09:44:22.820[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.n.d.s.r.aws.ConfigClusterResolver     [0;39m [2m:[0;39m Resolving eureka endpoints via configuration\r\n[2m2021-09-21 09:44:22.919[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Disable delta property : false\r\n[2m2021-09-21 09:44:22.919[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Single vip registry refresh property : null\r\n[2m2021-09-21 09:44:22.919[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Force full registry fetch : false\r\n[2m2021-09-21 09:44:22.920[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Application is null : false\r\n[2m2021-09-21 09:44:22.920[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Registered Applications size is zero : true\r\n[2m2021-09-21 09:44:22.920[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Application version is -1: true\r\n[2m2021-09-21 09:44:22.920[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Getting all instance registry info from the eureka server\r\n[2m2021-09-21 09:44:24.054[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m The response status is 200\r\n[2m2021-09-21 09:44:24.067[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Starting heartbeat executor: renew interval is: 30\r\n[2m2021-09-21 09:44:24.081[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.n.discovery.InstanceInfoReplicator    [0;39m [2m:[0;39m InstanceInfoReplicator onDemand update allowed rate per min is 4\r\n[2m2021-09-21 09:44:24.119[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Discovery Client initialized at timestamp 1632197664116 with initial instances count: 0\r\n[2m2021-09-21 09:44:24.126[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.n.e.s.EurekaServiceRegistry       [0;39m [2m:[0;39m Registering application GATEWAY with eureka with status UP\r\n[2m2021-09-21 09:44:24.127[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Saw local status change event StatusChangeEvent [timestamp=1632197664127, current=UP, previous=STARTING]\r\n[2m2021-09-21 09:44:24.131[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[nfoReplicator-0][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m DiscoveryClient_GATEWAY/A2568L.corp.ads.valuelabs.net:gateway:8999: registering service...\r\n[2m2021-09-21 09:44:24.201[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[nfoReplicator-0][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m DiscoveryClient_GATEWAY/A2568L.corp.ads.valuelabs.net:gateway:8999 - registration status: 204\r\n[2m2021-09-21 09:44:24.270[0;39m [31mERROR[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.gateway.route.CachingRouteLocator [0;39m [2m:[0;39m Refresh routes error !!!\r\n\r\njava.lang.IllegalArgumentException: Unable to find GatewayFilterFactory with name CircuitBreaker\r\n\tat org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator.loadGatewayFilters(RouteDefinitionRouteLocator.java:130) ~[spring-cloud-gateway-server-3.0.3.jar:3.0.3]\r\n\tat org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator.getFilters(RouteDefinitionRouteLocator.java:176) ~[spring-cloud-gateway-server-3.0.3.jar:3.0.3]\r\n\tat org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator.convertToRoute(RouteDefinitionRouteLocator.java:117) ~[spring-cloud-gateway-server-3.0.3.jar:3.0.3]\r\n\tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.tryEmitScalar(FluxFlatMap.java:488) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:421) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.drain(FluxMergeSequential.java:432) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.innerComplete(FluxMergeSequential.java:328) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxMergeSequential$MergeSequentialInner.onSubscribe(FluxMergeSequential.java:552) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:164) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:86) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.Flux.subscribe(Flux.java:8411) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.onNext(FluxMergeSequential.java:237) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:270) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:228) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.onSubscribe(FluxMergeSequential.java:198) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:164) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:86) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.Flux.subscribe(Flux.java:8411) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.onNext(FluxMergeSequential.java:237) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:270) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:228) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.onSubscribe(FluxMergeSequential.java:198) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:164) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:86) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4338) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.Mono.subscribeWith(Mono.java:4453) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4309) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4245) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4217) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat org.springframework.cloud.gateway.route.CachingRouteLocator.onApplicationEvent(CachingRouteLocator.java:81) ~[spring-cloud-gateway-server-3.0.3.jar:3.0.3]\r\n\tat org.springframework.cloud.gateway.route.CachingRouteLocator.onApplicationEvent(CachingRouteLocator.java:40) ~[spring-cloud-gateway-server-3.0.3.jar:3.0.3]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.cloud.gateway.route.RouteRefreshListener.reset(RouteRefreshListener.java:73) ~[spring-cloud-gateway-server-3.0.3.jar:3.0.3]\r\n\tat org.springframework.cloud.gateway.route.RouteRefreshListener.onApplicationEvent(RouteRefreshListener.java:54) ~[spring-cloud-gateway-server-3.0.3.jar:3.0.3]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration.start(EurekaAutoServiceRegistration.java:85) ~[spring-cloud-netflix-eureka-client-3.0.3.jar:3.0.3]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:64) ~[spring-boot-2.5.4.jar:2.5.4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.4.jar:2.5.4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.4.jar:2.5.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.4.jar:2.5.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.4.jar:2.5.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.4.jar:2.5.4]\r\n\tat com.valuepedia.gateway.GatewayApplication.main(GatewayApplication.java:15) ~[classes/:na]\r\n\r\n[2m2021-09-21 09:44:24.290[0;39m [33m WARN[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36monfigReactiveWebServerApplicationContext[0;39m [2m:[0;39m Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean &#39;eurekaAutoServiceRegistration&#39;; nested exception is java.lang.IllegalArgumentException: Unable to find GatewayFilterFactory with name CircuitBreaker\r\n[2m2021-09-21 09:44:24.347[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Shutting down DiscoveryClient ...\r\n[2m2021-09-21 09:44:27.370[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Unregistering ...\r\n[2m2021-09-21 09:44:27.384[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m DiscoveryClient_GATEWAY/A2568L.corp.ads.valuelabs.net:gateway:8999 - deregister  status: 200\r\n[2m2021-09-21 09:44:27.538[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Completed shut down of DiscoveryClient\r\n[2m2021-09-21 09:44:27.549[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mConditionEvaluationReportLoggingListener[0;39m [2m:[0;39m \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n[2m2021-09-21 09:44:27.593[0;39m [31mERROR[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.boot.SpringApplication              [0;39m [2m:[0;39m Application run failed\r\n\r\norg.springframework.context.ApplicationContextException: Failed to start bean &#39;eurekaAutoServiceRegistration&#39;; nested exception is java.lang.IllegalArgumentException: Unable to find GatewayFilterFactory with name CircuitBreaker\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat \r\n\r\n```\r\n\r\n\r\nWhen I am trying to run my Gateway application I am getting the following error I have also tried by changing version of spring cloud to Hoxton.SR7 but it is still not working.\r\nPlease provide the solution for it. Also I have implemented the hystrix dashboard but is stuck in loading page only.","title":"Unable to find GatewayFilterFactory with name CircuitBreaker","body":"<p>Properties File</p>\n<pre><code>server:\n  port: 8999\n  \neureka:\n  instance:\n    hostname: localhost\n\n    \n#Actuator Configuration\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: hystrix.stream, health, info  \n        \n#Hystrix Configuration\nhystrix:\n  command:\n    fallbackcmd:\n      execution:\n        isolation:\n          thread:\n            timeoutInMilliseconds: 4000\n\n\nspring:\n  application:\n    name: gateway\n  cloud:\n    gateway:\n      routes:\n      - id: capability-deck\n        uri: lb://capability-deck\n        predicates:\n        - Path=/capability/**\n        filters:\n            - name: CircuitBreaker\n              args:\n                name: capability-deck\n                fallbackuri: forward:/capabilityServiceFallBack\n        \n     \n      - id: home-page\n        uri: lb://home-page\n        predicates:\n        - Path=/home/**\n      \n        \n      - id: subscription\n        uri: lb://subscription\n        predicates:\n        - Path=/subscription/**\n       \n       \n        \n\n</code></pre>\n<p>Controller</p>\n<pre><code>package com.valuepedia.gateway.controller;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class FallBackController {\n\n    @GetMapping(&quot;/subscriptionServiceFallBack&quot;)\n    public String userServiceFallBackMethod() {\n        return &quot;Subscription Service is taking longer than Expected.&quot; +\n                &quot; Please try again later&quot;;\n    }\n\n    @GetMapping(&quot;/capabilityServiceFallBack&quot;)\n    public String capabilityServiceFallBackMethod() {\n        return &quot;Capability Service is taking longer than Expected.&quot; +\n                &quot; Please try again later&quot;;\n    }\n    \n    @GetMapping(&quot;/homeServiceFallBack&quot;)\n    public String homeServiceFallBackMethod() {\n        return &quot;Home Service is taking longer than Expected.&quot; +\n                &quot; Please try again later&quot;;\n    }\n}\n\n</code></pre>\n<p>Main Class</p>\n<pre><code>package com.valuepedia.gateway;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.netflix.eureka.EnableEurekaClient;\nimport org.springframework.cloud.netflix.hystrix.EnableHystrix;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication\n@EnableEurekaClient\n@EnableHystrix\npublic class GatewayApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(GatewayApplication.class, args);\n    }\n}\n\n</code></pre>\n<p>Getting error message as</p>\n<pre class=\"lang-none prettyprint-override\"><code>\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n[32m :: Spring Boot :: [39m              [2m (v2.5.4)[0;39m\n\n[2m2021-09-21 09:44:08.705[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.valuepedia.gateway.GatewayApplication [0;39m [2m:[0;39m Starting GatewayApplication using Java 15.0.2 on A2568L with PID 7852 (D:\\Valuepedia\\Gateway\\target\\classes started by Swapnil.Soni in D:\\Valuepedia\\Gateway)\n[2m2021-09-21 09:44:08.714[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.valuepedia.gateway.GatewayApplication [0;39m [2m:[0;39m No active profile set, falling back to default profiles: default\n[2m2021-09-21 09:44:10.561[0;39m [33m WARN[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.boot.actuate.endpoint.EndpointId    [0;39m [2m:[0;39m Endpoint ID 'hystrix.stream' contains invalid characters, please migrate to a valid format.\n[2m2021-09-21 09:44:13.646[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.cloud.context.scope.GenericScope    [0;39m [2m:[0;39m BeanFactory id=86068429-c6fe-399f-b31b-17fdee65f911\n[2m2021-09-21 09:44:14.693[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mtrationDelegate$BeanPostProcessorChecker[0;39m [2m:[0;39m Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[2m2021-09-21 09:44:14.697[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mtrationDelegate$BeanPostProcessorChecker[0;39m [2m:[0;39m Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[2m2021-09-21 09:44:14.701[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mtrationDelegate$BeanPostProcessorChecker[0;39m [2m:[0;39m Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[2m2021-09-21 09:44:15.438[0;39m [33m WARN[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.n.c.sources.URLConfigurationSource    [0;39m [2m:[0;39m No URLs will be polled as dynamic configuration sources.\n[2m2021-09-21 09:44:15.440[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.n.c.sources.URLConfigurationSource    [0;39m [2m:[0;39m To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.\n[2m2021-09-21 09:44:15.463[0;39m [33m WARN[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.n.c.sources.URLConfigurationSource    [0;39m [2m:[0;39m No URLs will be polled as dynamic configuration sources.\n[2m2021-09-21 09:44:15.463[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.n.c.sources.URLConfigurationSource    [0;39m [2m:[0;39m To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.\n[2m2021-09-21 09:44:19.020[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [After]\n[2m2021-09-21 09:44:19.021[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Before]\n[2m2021-09-21 09:44:19.021[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Between]\n[2m2021-09-21 09:44:19.021[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Cookie]\n[2m2021-09-21 09:44:19.022[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Header]\n[2m2021-09-21 09:44:19.022[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Host]\n[2m2021-09-21 09:44:19.022[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Method]\n[2m2021-09-21 09:44:19.023[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Path]\n[2m2021-09-21 09:44:19.025[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Query]\n[2m2021-09-21 09:44:19.026[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [ReadBody]\n[2m2021-09-21 09:44:19.027[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [RemoteAddr]\n[2m2021-09-21 09:44:19.027[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Weight]\n[2m2021-09-21 09:44:19.027[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [CloudFoundryRouteService]\n[2m2021-09-21 09:44:21.669[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.b.a.e.web.EndpointLinksResolver     [0;39m [2m:[0;39m Exposing 3 endpoint(s) beneath base path '/actuator'\n[2m2021-09-21 09:44:22.230[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mDiscoveryClientOptionalArgsConfiguration[0;39m [2m:[0;39m Eureka HTTP Client uses RestTemplate.\n[2m2021-09-21 09:44:22.424[0;39m [33m WARN[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36miguration$LoadBalancerCaffeineWarnLogger[0;39m [2m:[0;39m Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.\n[2m2021-09-21 09:44:22.611[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.n.eureka.InstanceInfoFactory      [0;39m [2m:[0;39m Setting initial instance status as: STARTING\n[2m2021-09-21 09:44:22.800[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Initializing Eureka in region us-east-1\n[2m2021-09-21 09:44:22.820[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.n.d.s.r.aws.ConfigClusterResolver     [0;39m [2m:[0;39m Resolving eureka endpoints via configuration\n[2m2021-09-21 09:44:22.919[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Disable delta property : false\n[2m2021-09-21 09:44:22.919[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Single vip registry refresh property : null\n[2m2021-09-21 09:44:22.919[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Force full registry fetch : false\n[2m2021-09-21 09:44:22.920[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Application is null : false\n[2m2021-09-21 09:44:22.920[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Registered Applications size is zero : true\n[2m2021-09-21 09:44:22.920[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Application version is -1: true\n[2m2021-09-21 09:44:22.920[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Getting all instance registry info from the eureka server\n[2m2021-09-21 09:44:24.054[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m The response status is 200\n[2m2021-09-21 09:44:24.067[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Starting heartbeat executor: renew interval is: 30\n[2m2021-09-21 09:44:24.081[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.n.discovery.InstanceInfoReplicator    [0;39m [2m:[0;39m InstanceInfoReplicator onDemand update allowed rate per min is 4\n[2m2021-09-21 09:44:24.119[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Discovery Client initialized at timestamp 1632197664116 with initial instances count: 0\n[2m2021-09-21 09:44:24.126[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.n.e.s.EurekaServiceRegistry       [0;39m [2m:[0;39m Registering application GATEWAY with eureka with status UP\n[2m2021-09-21 09:44:24.127[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Saw local status change event StatusChangeEvent [timestamp=1632197664127, current=UP, previous=STARTING]\n[2m2021-09-21 09:44:24.131[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[nfoReplicator-0][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m DiscoveryClient_GATEWAY/A2568L.corp.ads.valuelabs.net:gateway:8999: registering service...\n[2m2021-09-21 09:44:24.201[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[nfoReplicator-0][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m DiscoveryClient_GATEWAY/A2568L.corp.ads.valuelabs.net:gateway:8999 - registration status: 204\n[2m2021-09-21 09:44:24.270[0;39m [31mERROR[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.gateway.route.CachingRouteLocator [0;39m [2m:[0;39m Refresh routes error !!!\n\njava.lang.IllegalArgumentException: Unable to find GatewayFilterFactory with name CircuitBreaker\n    at org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator.loadGatewayFilters(RouteDefinitionRouteLocator.java:130) ~[spring-cloud-gateway-server-3.0.3.jar:3.0.3]\n    at org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator.getFilters(RouteDefinitionRouteLocator.java:176) ~[spring-cloud-gateway-server-3.0.3.jar:3.0.3]\n    at org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator.convertToRoute(RouteDefinitionRouteLocator.java:117) ~[spring-cloud-gateway-server-3.0.3.jar:3.0.3]\n    at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.tryEmitScalar(FluxFlatMap.java:488) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:421) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.drain(FluxMergeSequential.java:432) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.innerComplete(FluxMergeSequential.java:328) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxMergeSequential$MergeSequentialInner.onSubscribe(FluxMergeSequential.java:552) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:164) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:86) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.Flux.subscribe(Flux.java:8411) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.onNext(FluxMergeSequential.java:237) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:270) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:228) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.onSubscribe(FluxMergeSequential.java:198) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:164) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:86) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.Flux.subscribe(Flux.java:8411) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.onNext(FluxMergeSequential.java:237) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:270) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:228) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.onSubscribe(FluxMergeSequential.java:198) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:164) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:86) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4338) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.Mono.subscribeWith(Mono.java:4453) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4309) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4245) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4217) ~[reactor-core-3.4.9.jar:3.4.9]\n    at org.springframework.cloud.gateway.route.CachingRouteLocator.onApplicationEvent(CachingRouteLocator.java:81) ~[spring-cloud-gateway-server-3.0.3.jar:3.0.3]\n    at org.springframework.cloud.gateway.route.CachingRouteLocator.onApplicationEvent(CachingRouteLocator.java:40) ~[spring-cloud-gateway-server-3.0.3.jar:3.0.3]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.cloud.gateway.route.RouteRefreshListener.reset(RouteRefreshListener.java:73) ~[spring-cloud-gateway-server-3.0.3.jar:3.0.3]\n    at org.springframework.cloud.gateway.route.RouteRefreshListener.onApplicationEvent(RouteRefreshListener.java:54) ~[spring-cloud-gateway-server-3.0.3.jar:3.0.3]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration.start(EurekaAutoServiceRegistration.java:85) ~[spring-cloud-netflix-eureka-client-3.0.3.jar:3.0.3]\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.9.jar:5.3.9]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n    at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:64) ~[spring-boot-2.5.4.jar:2.5.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.4.jar:2.5.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.4.jar:2.5.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.4.jar:2.5.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.4.jar:2.5.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.4.jar:2.5.4]\n    at com.valuepedia.gateway.GatewayApplication.main(GatewayApplication.java:15) ~[classes/:na]\n\n[2m2021-09-21 09:44:24.290[0;39m [33m WARN[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36monfigReactiveWebServerApplicationContext[0;39m [2m:[0;39m Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'eurekaAutoServiceRegistration'; nested exception is java.lang.IllegalArgumentException: Unable to find GatewayFilterFactory with name CircuitBreaker\n[2m2021-09-21 09:44:24.347[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Shutting down DiscoveryClient ...\n[2m2021-09-21 09:44:27.370[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Unregistering ...\n[2m2021-09-21 09:44:27.384[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m DiscoveryClient_GATEWAY/A2568L.corp.ads.valuelabs.net:gateway:8999 - deregister  status: 200\n[2m2021-09-21 09:44:27.538[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Completed shut down of DiscoveryClient\n[2m2021-09-21 09:44:27.549[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mConditionEvaluationReportLoggingListener[0;39m [2m:[0;39m \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n[2m2021-09-21 09:44:27.593[0;39m [31mERROR[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.boot.SpringApplication              [0;39m [2m:[0;39m Application run failed\n\norg.springframework.context.ApplicationContextException: Failed to start bean 'eurekaAutoServiceRegistration'; nested exception is java.lang.IllegalArgumentException: Unable to find GatewayFilterFactory with name CircuitBreaker\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.9.jar:5.3.9]\n    at \n\n</code></pre>\n<p>When I am trying to run my Gateway application I am getting the following error I have also tried by changing version of spring cloud to Hoxton.SR7 but it is still not working.\nPlease provide the solution for it. Also I have implemented the hystrix dashboard but is stuck in loading page only.</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1543621474,"post_id":53565534,"comment_id":93998559,"body_markdown":"Do you want to fix it, or just suppress the messages?","body":"Do you want to fix it, or just suppress the messages?"},{"owner":{"account_id":14556223,"reputation":693,"user_id":10513675,"display_name":"8t12c7081"},"score":0,"creation_date":1543683615,"post_id":53565534,"comment_id":94010451,"body_markdown":"@VGR is it a warning only and not an error? I assumed it was preventing the process from running since there is an exit immediately after","body":"@VGR is it a warning only and not an error? I assumed it was preventing the process from running since there is an exit immediately after"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1543685380,"post_id":53565534,"comment_id":94010964,"body_markdown":"Those messages, by themselves, are only warnings, but, as with all warnings in Java, they are worth paying attention to.  They are telling you that serializer-2.7.2.jar and xalan-2.7.2.jar were expecting to find other .jar files on which they depend, in the same directory, but Maven has not assembled them into a single directory when the program is run.  If they are placed in the classpath by other means, your program is probably returning prematurely for other reasons.","body":"Those messages, by themselves, are only warnings, but, as with all warnings in Java, they are worth paying attention to.  They are telling you that serializer-2.7.2.jar and xalan-2.7.2.jar were expecting to find other .jar files on which they depend, in the same directory, but Maven has not assembled them into a single directory when the program is run.  If they are placed in the classpath by other means, your program is probably returning prematurely for other reasons."},{"owner":{"account_id":14556223,"reputation":693,"user_id":10513675,"display_name":"8t12c7081"},"score":0,"creation_date":1543686125,"post_id":53565534,"comment_id":94011177,"body_markdown":"I just double-checked the paths listed and the files are not there. Since this is my first time working with this particular project (I was tasked with upgrading it to Java 11 as a sort of intro to the project), might this be a missing dependency I need to download manually to add?","body":"I just double-checked the paths listed and the files are not there. Since this is my first time working with this particular project (I was tasked with upgrading it to Java 11 as a sort of intro to the project), might this be a missing dependency I need to download manually to add?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1543720403,"post_id":53565534,"comment_id":94018156,"body_markdown":"If the dependency were not in the classpath at all, I would expect your program to throw a NoClassDefFoundError.  I think itâs more likely that your program needs to be debugged, to determine why itâs exiting.","body":"If the dependency were not in the classpath at all, I would expect your program to throw a NoClassDefFoundError.  I think itâs more likely that your program needs to be debugged, to determine why itâs exiting."},{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1554822694,"post_id":53565534,"comment_id":97888594,"body_markdown":"`they are placed in the classpath by other means` - they&#39;re probably in the application jar under `BOOT_INF/libs`, loaded by Spring Boot.","body":"<code>they are placed in the classpath by other means</code> - they&#39;re probably in the application jar under <code>BOOT_INF&#47;libs</code>, loaded by Spring Boot."},{"owner":{"account_id":4948196,"reputation":631,"user_id":4727210,"display_name":"mohitmayank"},"score":0,"creation_date":1559037949,"post_id":53565534,"comment_id":99284802,"body_markdown":"@8t12c7081 I&#39;m also trying to upgrade to Spring Boot 2 and the application is terminating prematurely with no logs at all. Were you able to fix it?","body":"@8t12c7081 I&#39;m also trying to upgrade to Spring Boot 2 and the application is terminating prematurely with no logs at all. Were you able to fix it?"},{"owner":{"account_id":14556223,"reputation":693,"user_id":10513675,"display_name":"8t12c7081"},"score":0,"creation_date":1559051707,"post_id":53565534,"comment_id":99292677,"body_markdown":"@mohitmayank there is probably another earlier issue causing your application to exit - look into what the application is doing before it gets to this point","body":"@mohitmayank there is probably another earlier issue causing your application to exit - look into what the application is doing before it gets to this point"},{"owner":{"account_id":4948196,"reputation":631,"user_id":4727210,"display_name":"mohitmayank"},"score":1,"creation_date":1559055351,"post_id":53565534,"comment_id":99294843,"body_markdown":"@8t12c7081 yeah, there was a dependency which was outdated. No idea why it was not printing any logs but just exiting.","body":"@8t12c7081 yeah, there was a dependency which was outdated. No idea why it was not printing any logs but just exiting."},{"owner":{"account_id":10997122,"reputation":121,"user_id":8078910,"accept_rate":67,"display_name":"Jo&#227;o Vieira"},"score":0,"creation_date":1562607806,"post_id":53565534,"comment_id":100420310,"body_markdown":"@mohitmayank which dependency was that ? i&#39;m having the same issue","body":"@mohitmayank which dependency was that ? i&#39;m having the same issue"},{"owner":{"account_id":4948196,"reputation":631,"user_id":4727210,"display_name":"mohitmayank"},"score":0,"creation_date":1562653880,"post_id":53565534,"comment_id":100432354,"body_markdown":"@Jo&#227;oVieira you&#39;ll have to revisit each of your dependencies one by one. for me it was a dependency which is specific to the company that I work in.\nword of advice - update each of the deps to their highest version (compatible with the Spring Boot version you&#39;re upgrading to)","body":"@Jo&#227;oVieira you&#39;ll have to revisit each of your dependencies one by one. for me it was a dependency which is specific to the company that I work in. word of advice - update each of the deps to their highest version (compatible with the Spring Boot version you&#39;re upgrading to)"}],"answers":[{"comments":[{"owner":{"account_id":14556223,"reputation":693,"user_id":10513675,"display_name":"8t12c7081"},"score":0,"creation_date":1543685869,"post_id":53565664,"comment_id":94011097,"body_markdown":"This did not resolve. I&#39;m using compiler version 3.8.0 (but did try 3.7 as well), does this make any difference?","body":"This did not resolve. I&#39;m using compiler version 3.8.0 (but did try 3.7 as well), does this make any difference?"},{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":2,"creation_date":1554822232,"post_id":53565664,"comment_id":97888304,"body_markdown":"These are runtime warnings, not compile time.","body":"These are runtime warnings, not compile time."}],"tags":[],"owner":{"account_id":1098758,"reputation":1662,"user_id":1091731,"display_name":"Illya Kysil"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543616296,"creation_date":1543616296,"answer_id":53565664,"question_id":53565534,"body_markdown":"Add `-Xlint:-path` [option][1] to `maven-compiler-plugin`:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.7.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;compilerArgs&gt;\r\n                &lt;arg&gt;-Xlint:-path&lt;/arg&gt;\r\n            &lt;/compilerArgs&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/tools/windows/javac.html","title":"The Class-Path manifest attribute in [path] referenced one or more files that do not exist","body":"<p>Add <code>-Xlint:-path</code> <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/javac.html\" rel=\"nofollow noreferrer\">option</a> to <code>maven-compiler-plugin</code>:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.7.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;compilerArgs&gt;\n            &lt;arg&gt;-Xlint:-path&lt;/arg&gt;\n        &lt;/compilerArgs&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7833047,"reputation":594,"user_id":5922270,"accept_rate":80,"display_name":"Shabbir Essaji"},"score":0,"creation_date":1597140050,"post_id":62090731,"comment_id":112029973,"body_markdown":"This solved my issue.. I was trying to migrate to logback-spring.xml..\nI delete my whole .m2 folder for this &amp; couldn&#39;t get anywhere..\nThanks","body":"This solved my issue.. I was trying to migrate to logback-spring.xml.. I delete my whole .m2 folder for this &amp; couldn&#39;t get anywhere.. Thanks"},{"owner":{"account_id":14250001,"reputation":191,"user_id":10293875,"display_name":"jueschus"},"score":0,"creation_date":1605542344,"post_id":62090731,"comment_id":114675174,"body_markdown":"Thanks, was exactly my problem (had a merge conflict in logback-spring.xml which i didn&#39;t see at first)","body":"Thanks, was exactly my problem (had a merge conflict in logback-spring.xml which i didn&#39;t see at first)"}],"tags":[],"owner":{"account_id":6342850,"reputation":1335,"user_id":4924260,"display_name":"mapm"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1590770427,"creation_date":1590770427,"answer_id":62090731,"question_id":53565534,"body_markdown":"I had a similar problem after changing my `logback-spring.xml` file.\r\n\r\nThe application wouldn&#39;t start anymore and I could only see some INFO messages like those you described but that wasn&#39;t the actual cause of the problem.\r\n\r\nThe application was failing after that point but couldn&#39;t log any erros messages exactly because of a issue in my `logback-spring.xml`.\r\n\r\nSo if you don&#39;t see any other error messages, try to double check that your logging mechanism is configured correctly.","title":"The Class-Path manifest attribute in [path] referenced one or more files that do not exist","body":"<p>I had a similar problem after changing my <code>logback-spring.xml</code> file.</p>\n\n<p>The application wouldn't start anymore and I could only see some INFO messages like those you described but that wasn't the actual cause of the problem.</p>\n\n<p>The application was failing after that point but couldn't log any erros messages exactly because of a issue in my <code>logback-spring.xml</code>.</p>\n\n<p>So if you don't see any other error messages, try to double check that your logging mechanism is configured correctly.</p>\n"},{"tags":[],"owner":{"account_id":14556223,"reputation":693,"user_id":10513675,"display_name":"8t12c7081"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1591903397,"creation_date":1591903397,"answer_id":62331995,"question_id":53565534,"body_markdown":"Since this question continues to get traffic, I will post a summary of the answers and comments - \r\n\r\nThe messages described in the title are warnings, not errors, and should not be causing your app to crash.\r\n\r\nIf your app is crashing, check for errors earlier in the logs which would cause it to exit.\r\n\r\nIn cases where no error output was available, several people reported the issue was caused by an outdated dependency which needed to be updated as part of their Spring/Spring Boot/Java upgrade.","title":"The Class-Path manifest attribute in [path] referenced one or more files that do not exist","body":"<p>Since this question continues to get traffic, I will post a summary of the answers and comments - </p>\n\n<p>The messages described in the title are warnings, not errors, and should not be causing your app to crash.</p>\n\n<p>If your app is crashing, check for errors earlier in the logs which would cause it to exit.</p>\n\n<p>In cases where no error output was available, several people reported the issue was caused by an outdated dependency which needed to be updated as part of their Spring/Spring Boot/Java upgrade.</p>\n"},{"comments":[{"owner":{"account_id":1962480,"reputation":15483,"user_id":1763602,"accept_rate":76,"display_name":"Marco Sulla"},"score":0,"creation_date":1685625438,"post_id":62441028,"comment_id":134688575,"body_markdown":"This simply remove the error log. My application was not working anyway. I solved adding the missing dependencies.","body":"This simply remove the error log. My application was not working anyway. I solved adding the missing dependencies."}],"tags":[],"owner":{"account_id":18871770,"reputation":101,"user_id":13766162,"display_name":"Manu"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1685625641,"creation_date":1592444742,"answer_id":62441028,"question_id":53565534,"body_markdown":"Please check do you have &quot;spring-boot-devtools dependency&quot; in pom.xml then remove it and try again.\r\n\r\nNote that this simply removes the error log.","title":"The Class-Path manifest attribute in [path] referenced one or more files that do not exist","body":"<p>Please check do you have &quot;spring-boot-devtools dependency&quot; in pom.xml then remove it and try again.</p>\n<p>Note that this simply removes the error log.</p>\n"},{"comments":[{"owner":{"account_id":16733282,"reputation":11,"user_id":12095107,"display_name":"M.Mohammed"},"score":0,"creation_date":1595227927,"post_id":62974224,"comment_id":111389909,"body_markdown":"For me i was getting this error at the start of running app, where the build creates two identical jar files for jaxb-impl-2.3.0. once i set the environment to dev the app started.","body":"For me i was getting this error at the start of running app, where the build creates two identical jar files for jaxb-impl-2.3.0. once i set the environment to dev the app started."}],"tags":[],"owner":{"account_id":16733282,"reputation":11,"user_id":12095107,"display_name":"M.Mohammed"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595109563,"creation_date":1595109563,"answer_id":62974224,"question_id":53565534,"body_markdown":"vm options -Dspring.profiles.active={profileName}","title":"The Class-Path manifest attribute in [path] referenced one or more files that do not exist","body":"<p>vm options -Dspring.profiles.active={profileName}</p>\n"},{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1605823943,"creation_date":1605823943,"answer_id":64920791,"question_id":53565534,"body_markdown":"In my case the associated failure was due to other silent error (while those notifications were the only output in the log, that&#39;s why I have checked them and there were no log output associated with the actual error).\r\n\r\nI had the wrong `application.yml` structure like this:\r\n\r\n    logging:\r\n      level:\r\n        root: ${LOG_LEVEL:info}\r\n        ru.pflb.foundation.config.RequestResponseLoggingFilter: ${LOG_LEVEL_HTTP:trace}\r\n        org    #&lt;-- that caused the problem\r\n        org:\r\n          apache.kafka.clients.NetworkClient: ERROR\r\n          hibernate: WARN\r\n\r\n","title":"The Class-Path manifest attribute in [path] referenced one or more files that do not exist","body":"<p>In my case the associated failure was due to other silent error (while those notifications were the only output in the log, that's why I have checked them and there were no log output associated with the actual error).</p>\n<p>I had the wrong <code>application.yml</code> structure like this:</p>\n<pre><code>logging:\n  level:\n    root: ${LOG_LEVEL:info}\n    ru.pflb.foundation.config.RequestResponseLoggingFilter: ${LOG_LEVEL_HTTP:trace}\n    org    #&lt;-- that caused the problem\n    org:\n      apache.kafka.clients.NetworkClient: ERROR\n      hibernate: WARN\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1610599,"reputation":1397,"user_id":1489638,"accept_rate":67,"display_name":"Dev Utkarsh"},"score":0,"creation_date":1609791089,"post_id":65568684,"comment_id":115927962,"body_markdown":"Hi Yash. Welcome to stackoverflow. Please format the code and edit the answer to clarify the issue.","body":"Hi Yash. Welcome to stackoverflow. Please format the code and edit the answer to clarify the issue."}],"tags":[],"owner":{"account_id":12675085,"reputation":23,"user_id":9211195,"display_name":"Yash Bhatt"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609791002,"creation_date":1609788657,"answer_id":65568684,"question_id":53565534,"body_markdown":"I had the same issue. After a format correction in the configuration file the app started.   ","title":"The Class-Path manifest attribute in [path] referenced one or more files that do not exist","body":"<p>I had the same issue. After a format correction in the configuration file the app started.</p>\n"},{"tags":[],"owner":{"account_id":5850578,"reputation":1170,"user_id":4609353,"display_name":"Oleg Ushakov"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1609811383,"creation_date":1609811383,"answer_id":65572184,"question_id":53565534,"body_markdown":"In my case, I have got a similar error when I add a dependency to the `spring-boot-devtools`.\r\n\r\nFor the fast diagnostic you can try to disable (comment out) this dependency","title":"The Class-Path manifest attribute in [path] referenced one or more files that do not exist","body":"<p>In my case, I have got a similar error when I add a dependency to the <code>spring-boot-devtools</code>.</p>\n<p>For the fast diagnostic you can try to disable (comment out) this dependency</p>\n"},{"tags":[],"owner":{"account_id":8458385,"reputation":41,"user_id":6344903,"display_name":"MBill"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626275764,"creation_date":1626275764,"answer_id":68380748,"question_id":53565534,"body_markdown":"I removed devtools dependency as well as spring web from pom file and it worked for me, it looks like its devtools dependency which was causing issues with different version of my oracle jar file","title":"The Class-Path manifest attribute in [path] referenced one or more files that do not exist","body":"<p>I removed devtools dependency as well as spring web from pom file and it worked for me, it looks like its devtools dependency which was causing issues with different version of my oracle jar file</p>\n"}],"owner":{"account_id":14556223,"reputation":693,"user_id":10513675,"display_name":"8t12c7081"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20422,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":62331995,"answer_count":9,"score":19,"last_activity_date":1685625641,"creation_date":1543615528,"question_id":53565534,"body_markdown":"I am having a problem with Java 11/Spring Boot 2.1 migration where the project compiles but when run returns only:\r\n\r\n    Connected to the target VM, address: &#39;127.0.0.1:5754&#39;, transport: &#39;socket&#39;\r\n    The Class-Path manifest attribute in C:\\Users\\{user}\\.m2\\repository\\xalan\\serializer\\2.7.2\\serializer-2.7.2.jar referenced one or more files that do not exist: \r\n    file:/C:/Users/{user}/.m2/repository/xalan/serializer/2.7.2/xml-apis.jar\r\n    The Class-Path manifest attribute in C:\\Users\\{user}\\.m2\\repository\\xalan\\xalan\\2.7.2\\xalan-2.7.2.jar referenced one or more files that do not exist: \r\n    file:/C:/Users/{user}/.m2/repository/xalan/xalan/2.7.2/xercesImpl.jar,file:/C:/Users/{user}/.m2/repository/xalan/xalan/2.7.2/xml-apis.jar,file:/C:/Users/{user}/.m2/repository/xalan/xalan/2.7.2/serializer.jar\r\n    Disconnected from the target VM, address: &#39;127.0.0.1:5754&#39;, transport: &#39;socket&#39;\r\n    \r\n    Process finished with exit code 1\r\n\r\nI have tried updating maven versions, maven compiler version, etc.\r\n\r\nHow do I fix this?","title":"The Class-Path manifest attribute in [path] referenced one or more files that do not exist","body":"<p>I am having a problem with Java 11/Spring Boot 2.1 migration where the project compiles but when run returns only:</p>\n\n<pre><code>Connected to the target VM, address: '127.0.0.1:5754', transport: 'socket'\nThe Class-Path manifest attribute in C:\\Users\\{user}\\.m2\\repository\\xalan\\serializer\\2.7.2\\serializer-2.7.2.jar referenced one or more files that do not exist: \nfile:/C:/Users/{user}/.m2/repository/xalan/serializer/2.7.2/xml-apis.jar\nThe Class-Path manifest attribute in C:\\Users\\{user}\\.m2\\repository\\xalan\\xalan\\2.7.2\\xalan-2.7.2.jar referenced one or more files that do not exist: \nfile:/C:/Users/{user}/.m2/repository/xalan/xalan/2.7.2/xercesImpl.jar,file:/C:/Users/{user}/.m2/repository/xalan/xalan/2.7.2/xml-apis.jar,file:/C:/Users/{user}/.m2/repository/xalan/xalan/2.7.2/serializer.jar\nDisconnected from the target VM, address: '127.0.0.1:5754', transport: 'socket'\n\nProcess finished with exit code 1\n</code></pre>\n\n<p>I have tried updating maven versions, maven compiler version, etc.</p>\n\n<p>How do I fix this?</p>\n"},{"tags":["java","mapping","modelmapper"],"answers":[{"tags":[],"owner":{"account_id":18281346,"reputation":320,"user_id":13310114,"display_name":"Doyel Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685526314,"creation_date":1685526314,"answer_id":76372160,"question_id":76372159,"body_markdown":"Use ObjectMapper separately for additionalProperty setting\r\n\r\nLike this\r\n\r\n```\r\npublic SettingDto apply(SettingEntity settingEntity) {\r\n\r\n    SettingDto settingDto = mapper.map(settingEntity, SettingDto.class);\r\n\r\n    ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\r\n    String json = null;\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    try {\r\n        json = ow.writeValueAsString(settingEntity.getAdditionalProperty());\r\n        settingDto.setAdditionalProperty( mapper.readValue(json, AdditionalPropertyDto.class));\r\n    } catch (JsonProcessingException e) {\r\n        LOGGER.debug(&quot;Error Converting entity to dto...&quot;);\r\n    }\r\n\r\n    return settingDto;\r\n}\r\n```","title":"When converting an Entity to a Bean, Model Mapper returns an empty object","body":"<p>Use ObjectMapper separately for additionalProperty setting</p>\n<p>Like this</p>\n<pre><code>public SettingDto apply(SettingEntity settingEntity) {\n\n    SettingDto settingDto = mapper.map(settingEntity, SettingDto.class);\n\n    ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\n    String json = null;\n    ObjectMapper mapper = new ObjectMapper();\n    try {\n        json = ow.writeValueAsString(settingEntity.getAdditionalProperty());\n        settingDto.setAdditionalProperty( mapper.readValue(json, AdditionalPropertyDto.class));\n    } catch (JsonProcessingException e) {\n        LOGGER.debug(&quot;Error Converting entity to dto...&quot;);\n    }\n\n    return settingDto;\n}\n</code></pre>\n"}],"owner":{"account_id":18281346,"reputation":320,"user_id":13310114,"display_name":"Doyel Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76372160,"answer_count":1,"score":0,"last_activity_date":1685625232,"creation_date":1685526314,"question_id":76372159,"body_markdown":"I want to map an entity to a bean class using a model mapper since they both have identical fields except for additional property in the entity class, which is an object type. It works for Dto to entity conversion, however, the additional property in this case returns null.\r\n\r\nBean/ Dto class\r\n\r\n```\r\npublic class SettingDto {\r\n\r\n    private UUID settingUUID;\r\n    private AdditionalPropertyDto additionalProperty;\r\n}\r\n```\r\nAdditionalPropertyDto Class\r\n```\r\npublic class AdditionalPropertyDto {\r\n    private String colorCode;\r\n}\r\n```\r\n\r\nEntity class\r\n```\r\npublic class SettingEntity {\r\n\r\n    @Id\r\n    @Column(name = &quot;setting_uuid&quot;, nullable = false)\r\n    private UUID settingUUID;\r\n\r\n    @Type(type = &quot;jsonb&quot;)\r\n    @Column(name = &quot;additional_property&quot;, columnDefinition = &quot;jsonb&quot;)\r\n    private Object additionalProperty;\r\n    \r\n\r\n}\r\n```\r\n\r\nWhen I use this approach, the AdditionalPropertyDto class returns null, and only the UUID obtains mapping.\r\n\r\n\r\n```\r\n  public SettingDto apply(SettingEntity settingEntity) {\r\n        return mapper.map(settingEntity, SettingDto.class);\r\n  }\r\n\r\n```","title":"When converting an Entity to a Bean, Model Mapper returns an empty object","body":"<p>I want to map an entity to a bean class using a model mapper since they both have identical fields except for additional property in the entity class, which is an object type. It works for Dto to entity conversion, however, the additional property in this case returns null.</p>\n<p>Bean/ Dto class</p>\n<pre><code>public class SettingDto {\n\n    private UUID settingUUID;\n    private AdditionalPropertyDto additionalProperty;\n}\n</code></pre>\n<p>AdditionalPropertyDto Class</p>\n<pre><code>public class AdditionalPropertyDto {\n    private String colorCode;\n}\n</code></pre>\n<p>Entity class</p>\n<pre><code>public class SettingEntity {\n\n    @Id\n    @Column(name = &quot;setting_uuid&quot;, nullable = false)\n    private UUID settingUUID;\n\n    @Type(type = &quot;jsonb&quot;)\n    @Column(name = &quot;additional_property&quot;, columnDefinition = &quot;jsonb&quot;)\n    private Object additionalProperty;\n    \n\n}\n</code></pre>\n<p>When I use this approach, the AdditionalPropertyDto class returns null, and only the UUID obtains mapping.</p>\n<pre><code>  public SettingDto apply(SettingEntity settingEntity) {\n        return mapper.map(settingEntity, SettingDto.class);\n  }\n\n</code></pre>\n"},{"tags":["java","encapsulation","private-methods"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":1,"creation_date":1685563103,"post_id":76376783,"comment_id":134679422,"body_markdown":"You could add a static sum method to the Weight class that takes Weights and returns the sum as a Weight.","body":"You could add a static sum method to the Weight class that takes Weights and returns the sum as a Weight."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1685563991,"post_id":76376783,"comment_id":134679592,"body_markdown":"You could return `new Weight(0, averageOunces)` from the `findAverage()` method.","body":"You could return <code>new Weight(0, averageOunces)</code> from the <code>findAverage()</code> method."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1685578495,"post_id":76376783,"comment_id":134681377,"body_markdown":"The link to the assignment isnât accessible. Stack Overflow questions should aim to be self-contained, so please copy the assignment text into the question (if that doesnât violate academic policy)","body":"The link to the assignment isnât accessible. Stack Overflow questions should aim to be self-contained, so please copy the assignment text into the question (if that doesnât violate academic policy)"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1685578728,"post_id":76376783,"comment_id":134681392,"body_markdown":"In general, the way you avoid violating encapsulation is by adding functionality to the encapsulated class. You could add a method to `Weight` that averages itself with another `Weight`. You can average three weights by taking the average of the first two, and then averaging that with the third. I donât know if thatâs what the instructor wants, though.","body":"In general, the way you avoid violating encapsulation is by adding functionality to the encapsulated class. You could add a method to <code>Weight</code> that averages itself with another <code>Weight</code>. You can average three weights by taking the average of the first two, and then averaging that with the third. I donât know if thatâs what the instructor wants, though."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685581489,"post_id":76376783,"comment_id":134681592,"body_markdown":"Typically, when resolve is required from an alternate source you would create an _[accessor](https://docs.oracle.com/javase/tutorial/java/javaOO/variables.html)_ method.  So in this case, _&quot;getPoundsPerOunce&quot;_, and _&quot;getToOunces&quot;_.  If this appears to be typical for your design pattern, you could try creating an _[interface](https://docs.oracle.com/javase/tutorial/java/concepts/interface.html)_ or _[abstract class](https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html)_, for which you can more easily maintain what data is for local use, and what is for an alternate source.","body":"Typically, when resolve is required from an alternate source you would create an <i><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/variables.html\" rel=\"nofollow noreferrer\">accessor</a></i> method.  So in this case, <i>&quot;getPoundsPerOunce&quot;</i>, and <i>&quot;getToOunces&quot;</i>.  If this appears to be typical for your design pattern, you could try creating an <i><a href=\"https://docs.oracle.com/javase/tutorial/java/concepts/interface.html\" rel=\"nofollow noreferrer\">interface</a></i> or <i><a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html\" rel=\"nofollow noreferrer\">abstract class</a></i>, for which you can more easily maintain what data is for local use, and what is for an alternate source."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1685624296,"post_id":76376783,"comment_id":134688261,"body_markdown":"@Reilas Neither of those is correct.  `toOunces()` is correct as it is, because itâs not a property of a Weight instance, itâs operation thatâs performed on a Weight instance.  Pounds per ounce is not a property of any one Weight instance, so it should be static.  The correct solution here is either a static `sum` method like Hulk suggested, or a non-static `add` or `plus` method that takes one Weight argument and returns a new Weight instance.","body":"@Reilas Neither of those is correct.  <code>toOunces()</code> is correct as it is, because itâs not a property of a Weight instance, itâs operation thatâs performed on a Weight instance.  Pounds per ounce is not a property of any one Weight instance, so it should be static.  The correct solution here is either a static <code>sum</code> method like Hulk suggested, or a non-static <code>add</code> or <code>plus</code> method that takes one Weight argument and returns a new Weight instance."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685625064,"creation_date":1685625064,"answer_id":76382260,"question_id":76376783,"body_markdown":"OUNCES_IN_A_POUND is private and should remain private.  This is why the Project class cannot access it.\r\n\r\nYou are on the right track:  this is indeed a matter of encapsulation.  What you want to do is encapsulate *all* mathematical operations, inside public methods of the Weight class itself.\r\n\r\nSo, instead of this:\r\n\r\n    double totalOunces = weight1.toOunces() + weight2.toOunces() + weight3.toOunces();\r\n    double averageOunces = totalOunces / 3.0;\r\n\r\n    int averagePounds = (int) (averageOunces / Weight.OUNCES_IN_A_POUND);\r\n    double averageOuncesRemaining = averageOunces % Weight.OUNCES_IN_A_POUND;\r\n\r\nYou want to write something like this:\r\n\r\n    Weight sum = new Weight(weight1);\r\n    sum.addTo(weight2);\r\n    sum.addTo(weight3);\r\n\r\n    return sum.divideBy(3);\r\n\r\nThis achieves encapsulation by having the Weight class manage all computational operations.  Callers never need to break the encapsulation by manipulating its numeric properties directly.\r\n\r\nAs you can see, a couple additions to Weight are needed:\r\n\r\n    /**\r\n     * Makes a copy of an existing Weight instance.\r\n     *\r\n     * @param other non-null Weight instance to be copied\r\n     */\r\n    public Weight(Weight other) {\r\n        // ...\r\n    }\r\n\r\n    /**\r\n     * Divides this Weight by the given factor.\r\n     *\r\n     * @param divisor amount by which this Weight will be divided\r\n     */\r\n    public void divideBy(double divisor) {\r\n        // ...\r\n    }\r\n\r\nI leave it to you to implement that constructor and that method.\r\n\r\nAs a final note, you may want to consider renaming your `addTo` method to just `add`.  The method is not adding anything to the argument and is not altering the argument in any way;  rather, it is using the argument to add to the instanceâs own value.\r\n","title":"trying to avoid violating encapsulation","body":"<p>OUNCES_IN_A_POUND is private and should remain private.  This is why the Project class cannot access it.</p>\n<p>You are on the right track:  this is indeed a matter of encapsulation.  What you want to do is encapsulate <em>all</em> mathematical operations, inside public methods of the Weight class itself.</p>\n<p>So, instead of this:</p>\n<pre><code>double totalOunces = weight1.toOunces() + weight2.toOunces() + weight3.toOunces();\ndouble averageOunces = totalOunces / 3.0;\n\nint averagePounds = (int) (averageOunces / Weight.OUNCES_IN_A_POUND);\ndouble averageOuncesRemaining = averageOunces % Weight.OUNCES_IN_A_POUND;\n</code></pre>\n<p>You want to write something like this:</p>\n<pre><code>Weight sum = new Weight(weight1);\nsum.addTo(weight2);\nsum.addTo(weight3);\n\nreturn sum.divideBy(3);\n</code></pre>\n<p>This achieves encapsulation by having the Weight class manage all computational operations.  Callers never need to break the encapsulation by manipulating its numeric properties directly.</p>\n<p>As you can see, a couple additions to Weight are needed:</p>\n<pre><code>/**\n * Makes a copy of an existing Weight instance.\n *\n * @param other non-null Weight instance to be copied\n */\npublic Weight(Weight other) {\n    // ...\n}\n\n/**\n * Divides this Weight by the given factor.\n *\n * @param divisor amount by which this Weight will be divided\n */\npublic void divideBy(double divisor) {\n    // ...\n}\n</code></pre>\n<p>I leave it to you to implement that constructor and that method.</p>\n<p>As a final note, you may want to consider renaming your <code>addTo</code> method to just <code>add</code>.  The method is not adding anything to the argument and is not altering the argument in any way;  rather, it is using the argument to add to the instanceâs own value.</p>\n"}],"owner":{"account_id":26381844,"reputation":9,"user_id":20034972,"display_name":"Oquin123"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1685625064,"creation_date":1685562139,"question_id":76376783,"body_markdown":"starting some new stuff in Java and im kind of having a hard time. I feel like im on the right track just for some reason cannot find a way around the problem I am having without violating encapsulation. I have these two classes called Weight and Project. I have finished both of them but get errors in the Project class. Which include, &#39;toOunces&#39;, &#39;ounces&#39;, and &#39;OUNCES_IN_A_POUND&#39;. these are private in the Weight class. I already understand that I cannot carry over private variables, methods, ect. from one class to another. I just have no clue how to go about this without violating encapsulation. below i have both the Weight class and the Project class as well as the assignment details. \r\n\r\nI am not looking for anyone to do the work for me as I am just looking for tips, tricks, and suggestions. Also please bear with me as I am still learning the Java language and on the first week of CMIS 242.\r\n\r\n```\r\npublic class Weight {\r\n\r\n    //Private variables\r\n    private static final int OUNCES_IN_A_POUND = 16;\r\n    private int pounds;\r\n    private double ounces;\r\n\r\n    //A public parameterized constructor, which initializes the private variables.\r\n    public Weight(int pounds, double ounces) {\r\n        this.pounds = pounds;\r\n        this.ounces = ounces;\r\n        normalize();\r\n    }\r\n\r\n    //instance methods\r\n    private double toOunces() {\r\n        return (pounds * OUNCES_IN_A_POUND) + ounces;\r\n    }\r\n\r\n    private void normalize() {\r\n        while (ounces &gt;= OUNCES_IN_A_POUND) {\r\n            pounds++;\r\n            ounces -= OUNCES_IN_A_POUND;\r\n        }\r\n    }\r\n\r\n    public boolean lessThan(Weight weight) {\r\n        double thisOunces = toOunces();\r\n        double otherOunces = weight.toOunces();\r\n        return thisOunces &lt; otherOunces;\r\n    }\r\n\r\n    public void addTo(Weight weight) {\r\n        double thisOunces = toOunces();\r\n        double otherOunces = weight.toOunces();\r\n        double totalOunces = thisOunces + otherOunces;\r\n\r\n        pounds = (int) (totalOunces / OUNCES_IN_A_POUND);\r\n        ounces = totalOunces % OUNCES_IN_A_POUND;\r\n        normalize();\r\n    }\r\n\r\n    public String toString() {\r\n        return pounds + &quot; pounds and &quot; + String.format(&quot;%.2f&quot;, ounces) + &quot; ounces&quot;;\r\n    }\r\n}\r\n\r\n----------------------------------------------------------------------------------------------------\r\npublic class Project {\r\n    private static Weight findMinimum(Weight weight1, Weight weight2, Weight weight3) {\r\n        Weight minimumWeight = weight1;\r\n\r\n        if (weight2.lessThan(minimumWeight)) {\r\n            minimumWeight = weight2;\r\n        }\r\n\r\n        if (weight3.lessThan(minimumWeight)) {\r\n            minimumWeight = weight3;\r\n        }\r\n\r\n        return minimumWeight;\r\n    }\r\n\r\n    private static Weight findMaximum(Weight weight1, Weight weight2, Weight weight3) {\r\n        Weight maximumWeight = weight1;\r\n\r\n        if (weight2.toOunces() &gt; maximumWeight.toOunces()) {\r\n            maximumWeight = weight2;\r\n        }\r\n\r\n        if (weight3.toOunces() &gt; maximumWeight.toOunces()) {\r\n            maximumWeight = weight3;\r\n        }\r\n\r\n        return maximumWeight;\r\n    }\r\n\r\n    private static Weight findAverage(Weight weight1, Weight weight2, Weight weight3) {\r\n        double totalOunces = weight1.toOunces() + weight2.toOunces() + weight3.toOunces();\r\n        double averageOunces = totalOunces / 3.0;\r\n\r\n        int averagePounds = (int) (averageOunces / Weight.OUNCES_IN_A_POUND);\r\n        double averageOuncesRemaining = averageOunces % Weight.OUNCES_IN_A_POUND;\r\n\r\n        return new Weight(averagePounds, averageOuncesRemaining);\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        //instances of the weight class\r\n        Weight weight1 = new Weight(11, 3);\r\n        Weight weight2 = new Weight(7, 20);\r\n        Weight weight3 = new Weight(14, 6);\r\n\r\n        System.out.println(&quot;Weight 1: &quot; + weight1.toString());\r\n        System.out.println(&quot;Weight 2: &quot; + weight2.toString());\r\n        System.out.println(&quot;Weight 3: &quot; + weight3.toString());\r\n\r\n        Weight minimumWeight = findMinimum(weight1, weight2, weight3);\r\n        System.out.println(&quot;The minimum weight is &quot; + minimumWeight.toString());\r\n\r\n        Weight maximumWeight = findMaximum(weight1, weight2, weight3);\r\n        System.out.println(&quot;The maximum weight is &quot; + maximumWeight.toString());\r\n\r\n        Weight averageWeight = findAverage(weight1, weight2, weight3);\r\n        System.out.println(&quot;The average weight is &quot; + averageWeight.toString());\r\n    }\r\n}\r\n```\r\nlink to the PDF file for the assignment details:\r\nhttps://learn.umgc.edu/d2l/common/viewFile.d2lfile/Database/NzQ5OTk1NjE/Assignment1.pdf?ou=1016228\r\n\r\n","title":"trying to avoid violating encapsulation","body":"<p>starting some new stuff in Java and im kind of having a hard time. I feel like im on the right track just for some reason cannot find a way around the problem I am having without violating encapsulation. I have these two classes called Weight and Project. I have finished both of them but get errors in the Project class. Which include, 'toOunces', 'ounces', and 'OUNCES_IN_A_POUND'. these are private in the Weight class. I already understand that I cannot carry over private variables, methods, ect. from one class to another. I just have no clue how to go about this without violating encapsulation. below i have both the Weight class and the Project class as well as the assignment details.</p>\n<p>I am not looking for anyone to do the work for me as I am just looking for tips, tricks, and suggestions. Also please bear with me as I am still learning the Java language and on the first week of CMIS 242.</p>\n<pre><code>public class Weight {\n\n    //Private variables\n    private static final int OUNCES_IN_A_POUND = 16;\n    private int pounds;\n    private double ounces;\n\n    //A public parameterized constructor, which initializes the private variables.\n    public Weight(int pounds, double ounces) {\n        this.pounds = pounds;\n        this.ounces = ounces;\n        normalize();\n    }\n\n    //instance methods\n    private double toOunces() {\n        return (pounds * OUNCES_IN_A_POUND) + ounces;\n    }\n\n    private void normalize() {\n        while (ounces &gt;= OUNCES_IN_A_POUND) {\n            pounds++;\n            ounces -= OUNCES_IN_A_POUND;\n        }\n    }\n\n    public boolean lessThan(Weight weight) {\n        double thisOunces = toOunces();\n        double otherOunces = weight.toOunces();\n        return thisOunces &lt; otherOunces;\n    }\n\n    public void addTo(Weight weight) {\n        double thisOunces = toOunces();\n        double otherOunces = weight.toOunces();\n        double totalOunces = thisOunces + otherOunces;\n\n        pounds = (int) (totalOunces / OUNCES_IN_A_POUND);\n        ounces = totalOunces % OUNCES_IN_A_POUND;\n        normalize();\n    }\n\n    public String toString() {\n        return pounds + &quot; pounds and &quot; + String.format(&quot;%.2f&quot;, ounces) + &quot; ounces&quot;;\n    }\n}\n\n----------------------------------------------------------------------------------------------------\npublic class Project {\n    private static Weight findMinimum(Weight weight1, Weight weight2, Weight weight3) {\n        Weight minimumWeight = weight1;\n\n        if (weight2.lessThan(minimumWeight)) {\n            minimumWeight = weight2;\n        }\n\n        if (weight3.lessThan(minimumWeight)) {\n            minimumWeight = weight3;\n        }\n\n        return minimumWeight;\n    }\n\n    private static Weight findMaximum(Weight weight1, Weight weight2, Weight weight3) {\n        Weight maximumWeight = weight1;\n\n        if (weight2.toOunces() &gt; maximumWeight.toOunces()) {\n            maximumWeight = weight2;\n        }\n\n        if (weight3.toOunces() &gt; maximumWeight.toOunces()) {\n            maximumWeight = weight3;\n        }\n\n        return maximumWeight;\n    }\n\n    private static Weight findAverage(Weight weight1, Weight weight2, Weight weight3) {\n        double totalOunces = weight1.toOunces() + weight2.toOunces() + weight3.toOunces();\n        double averageOunces = totalOunces / 3.0;\n\n        int averagePounds = (int) (averageOunces / Weight.OUNCES_IN_A_POUND);\n        double averageOuncesRemaining = averageOunces % Weight.OUNCES_IN_A_POUND;\n\n        return new Weight(averagePounds, averageOuncesRemaining);\n    }\n\n\n    public static void main(String[] args) {\n        //instances of the weight class\n        Weight weight1 = new Weight(11, 3);\n        Weight weight2 = new Weight(7, 20);\n        Weight weight3 = new Weight(14, 6);\n\n        System.out.println(&quot;Weight 1: &quot; + weight1.toString());\n        System.out.println(&quot;Weight 2: &quot; + weight2.toString());\n        System.out.println(&quot;Weight 3: &quot; + weight3.toString());\n\n        Weight minimumWeight = findMinimum(weight1, weight2, weight3);\n        System.out.println(&quot;The minimum weight is &quot; + minimumWeight.toString());\n\n        Weight maximumWeight = findMaximum(weight1, weight2, weight3);\n        System.out.println(&quot;The maximum weight is &quot; + maximumWeight.toString());\n\n        Weight averageWeight = findAverage(weight1, weight2, weight3);\n        System.out.println(&quot;The average weight is &quot; + averageWeight.toString());\n    }\n}\n</code></pre>\n<p>link to the PDF file for the assignment details:\n<a href=\"https://learn.umgc.edu/d2l/common/viewFile.d2lfile/Database/NzQ5OTk1NjE/Assignment1.pdf?ou=1016228\" rel=\"nofollow noreferrer\">https://learn.umgc.edu/d2l/common/viewFile.d2lfile/Database/NzQ5OTk1NjE/Assignment1.pdf?ou=1016228</a></p>\n"},{"tags":["java","unit-testing","spring-boot"],"comments":[{"owner":{"account_id":11821692,"reputation":2574,"user_id":8650621,"display_name":"Felipe Desiderati"},"score":2,"creation_date":1585616482,"post_id":29669393,"comment_id":107818262,"body_markdown":"If you need to configure just a few properties, you can use the new @DynamicPropertySource annotation. https://stackoverflow.com/a/60941845/8650621","body":"If you need to configure just a few properties, you can use the new @DynamicPropertySource annotation. <a href=\"https://stackoverflow.com/a/60941845/8650621\">stackoverflow.com/a/60941845/8650621</a>"},{"owner":{"account_id":4701532,"reputation":636,"user_id":3804977,"display_name":"Pierre-Henri Sudre"},"score":0,"creation_date":1645533846,"post_id":29669393,"comment_id":125891695,"body_markdown":"I used ReflectionTestUtils.setField(myService, &quot;myPropery&quot;, myPropertyValue);","body":"I used ReflectionTestUtils.setField(myService, &quot;myPropery&quot;, myPropertyValue);"}],"answers":[{"comments":[{"owner":{"account_id":152633,"reputation":48313,"user_id":367285,"accept_rate":81,"display_name":"FrVaBe"},"score":6,"creation_date":1429185191,"post_id":29673732,"comment_id":47485431,"body_markdown":"That&#39;s it. Thanks. Unfortuantly it does not work when used on the ExampleApplication.class so I have to set it on each test class. Is that right?","body":"That&#39;s it. Thanks. Unfortuantly it does not work when used on the ExampleApplication.class so I have to set it on each test class. Is that right?"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":2,"creation_date":1429187930,"post_id":29673732,"comment_id":47487523,"body_markdown":"It has to go somewhere in the test class&#39;s hierarchy, i.e. you could use a common superclass to configure it across a number of different test classes.","body":"It has to go somewhere in the test class&#39;s hierarchy, i.e. you could use a common superclass to configure it across a number of different test classes."},{"owner":{"account_id":152633,"reputation":48313,"user_id":367285,"accept_rate":81,"display_name":"FrVaBe"},"score":0,"creation_date":1429188509,"post_id":29673732,"comment_id":47488027,"body_markdown":"Yes, that would be a proper woraround but as `@PropertySource` is supported on `@Configuration` classes why not also `@TestPropertySource` ;-)  Anyway - as expected, the framework will not let me down and I thank you again for answering the question.","body":"Yes, that would be a proper woraround but as <code>@PropertySource</code> is supported on <code>@Configuration</code> classes why not also <code>@TestPropertySource</code> ;-)  Anyway - as expected, the framework will not let me down and I thank you again for answering the question."},{"owner":{"account_id":1299659,"reputation":2884,"user_id":1249851,"display_name":"dyng"},"score":94,"creation_date":1454505581,"post_id":29673732,"comment_id":58073243,"body_markdown":"Also note that `@TestPropertySource` can accept a `properties` argument to overwrite some property inline, such as `@TestPropertySource(properties = &quot;myConf.myProp=valueInTest&quot;)`, it&#39;s useful in case that you don&#39;t want a totally brand new property file.","body":"Also note that <code>@TestPropertySource</code> can accept a <code>properties</code> argument to overwrite some property inline, such as <code>@TestPropertySource(properties = &quot;myConf.myProp=valueInTest&quot;)</code>, it&#39;s useful in case that you don&#39;t want a totally brand new property file."},{"owner":{"account_id":1474388,"reputation":5265,"user_id":1385174,"accept_rate":60,"display_name":"Adam"},"score":3,"creation_date":1486128109,"post_id":29673732,"comment_id":71224437,"body_markdown":"You can specify multiple files in an array, and also files on the file system (but remember they might not work on the CI server): `@TestPropertySource(locations={&quot;file:C:/dev/...&quot;,&quot;classpath:test.properties&quot;})`","body":"You can specify multiple files in an array, and also files on the file system (but remember they might not work on the CI server): <code>@TestPropertySource(locations={&quot;file:C:&#47;dev&#47;...&quot;,&quot;classpath:&zwnj;&#8203;test.properties&quot;})</code>"},{"owner":{"account_id":6105471,"reputation":4298,"user_id":4763309,"accept_rate":75,"display_name":"mrkernelpanic"},"score":18,"creation_date":1511427850,"post_id":29673732,"comment_id":81857543,"body_markdown":"Note, that `@SpringApplicationConfiguration` is already deprecated, and you should use `@SpringBootTest`","body":"Note, that <code>@SpringApplicationConfiguration</code> is already deprecated, and you should use <code>@SpringBootTest</code>"},{"owner":{"account_id":1317825,"reputation":12193,"user_id":1264321,"accept_rate":92,"display_name":"Stefan"},"score":2,"creation_date":1536067551,"post_id":29673732,"comment_id":91284650,"body_markdown":"It would be nice if a file `src/test/resources/application-test.properties` could be used for unit tests.","body":"It would be nice if a file <code>src&#47;test&#47;resources&#47;application-test.properties</code> could be used for unit tests."},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":3,"creation_date":1536136984,"post_id":29673732,"comment_id":91311519,"body_markdown":"@Stefan It can be used if you make the `test` profile active.","body":"@Stefan It can be used if you make the <code>test</code> profile active."},{"owner":{"account_id":6863081,"reputation":156,"user_id":5276434,"display_name":"Xingxing Qiao"},"score":1,"creation_date":1578932918,"post_id":29673732,"comment_id":105591434,"body_markdown":"note: `@TestPropertySource` not load yml file, only support properties file","body":"note: <code>@TestPropertySource</code> not load yml file, only support properties file"},{"owner":{"account_id":239945,"reputation":555,"user_id":509882,"accept_rate":23,"display_name":"Arthur"},"score":0,"creation_date":1677014528,"post_id":29673732,"comment_id":133253035,"body_markdown":"But we don&#39;t want to have to change source code to modify an application property. Instead, we want to *add a command line argument* or *create another, perhaps temporary, .properties* file and force gradle to use that file.","body":"But we don&#39;t want to have to change source code to modify an application property. Instead, we want to <i>add a command line argument</i> or <i>create another, perhaps temporary, .properties</i> file and force gradle to use that file."},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1677059444,"post_id":29673732,"comment_id":133260937,"body_markdown":"@Arthur then you have different requirements. I&#39;d ask a new question if I were you.","body":"@Arthur then you have different requirements. I&#39;d ask a new question if I were you."}],"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":11,"down_vote_count":0,"up_vote_count":367,"is_accepted":true,"score":367,"last_activity_date":1429184713,"creation_date":1429184713,"answer_id":29673732,"question_id":29669393,"body_markdown":"You can use `@TestPropertySource` to override values in `application.properties`. From its javadoc:\r\n\r\n&gt; test property sources can be used to selectively override properties defined in system and application property sources\r\n\r\nFor example:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringApplicationConfiguration(classes = ExampleApplication.class)\r\n    @TestPropertySource(locations=&quot;classpath:test.properties&quot;)\r\n    public class ExampleApplicationTests {\r\n\r\n    }","title":"Override default Spring-Boot application.properties settings in Junit Test","body":"<p>You can use <code>@TestPropertySource</code> to override values in <code>application.properties</code>. From its javadoc:</p>\n\n<blockquote>\n  <p>test property sources can be used to selectively override properties defined in system and application property sources</p>\n</blockquote>\n\n<p>For example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringApplicationConfiguration(classes = ExampleApplication.class)\n@TestPropertySource(locations=\"classpath:test.properties\")\npublic class ExampleApplicationTests {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":307015,"reputation":21530,"user_id":618087,"display_name":"Rob Winch"},"comment_count":0,"down_vote_count":0,"up_vote_count":68,"is_accepted":false,"score":68,"last_activity_date":1532674373,"creation_date":1429205699,"answer_id":29682080,"question_id":29669393,"body_markdown":"You can also use [meta-annotations][1] to externalize the configuration. For example:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @DefaultTestAnnotations\r\n    public class ExampleApplicationTests { \r\n       ...\r\n    }\r\n    \r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.TYPE)\r\n    @SpringApplicationConfiguration(classes = ExampleApplication.class)\r\n    @TestPropertySource(locations=&quot;classpath:test.properties&quot;)\r\n    public @interface DefaultTestAnnotations { }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#integration-testing-annotations-meta","title":"Override default Spring-Boot application.properties settings in Junit Test","body":"<p>You can also use <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#integration-testing-annotations-meta\" rel=\"noreferrer\">meta-annotations</a> to externalize the configuration. For example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringJUnit4ClassRunner.class)\n@DefaultTestAnnotations\npublic class ExampleApplicationTests { \n   ...\n}\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.TYPE)\n@SpringApplicationConfiguration(classes = ExampleApplication.class)\n@TestPropertySource(locations=\"classpath:test.properties\")\npublic @interface DefaultTestAnnotations { }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":152633,"reputation":48313,"user_id":367285,"accept_rate":81,"display_name":"FrVaBe"},"score":6,"creation_date":1478780062,"post_id":40514016,"comment_id":68294889,"body_markdown":"Ignoring `application.properties` is not an option for me as I only want to override _some_ of the original configuration values in the test.","body":"Ignoring <code>application.properties</code> is not an option for me as I only want to override <i>some</i> of the original configuration values in the test."},{"owner":{"account_id":4010674,"reputation":285,"user_id":3304145,"display_name":"rvertigo"},"score":0,"creation_date":1550796623,"post_id":40514016,"comment_id":96412778,"body_markdown":"I&#39;ve been looking for a way to have a single test that doesn&#39;t load the src/main/resources/application.properties and this is it.\nCreate a file: src/test/resources/empty.properties and add the annotation to the test(s) that should ignore the main properties. @TestPropertySource(properties=&quot;spring.config.name=empty&quot;)","body":"I&#39;ve been looking for a way to have a single test that doesn&#39;t load the src/main/resources/application.properties and this is it. Create a file: src/test/resources/empty.properties and add the annotation to the test(s) that should ignore the main properties. @TestPropertySource(properties=&quot;spring.config.name=empty&quot;)"},{"owner":{"account_id":6825737,"reputation":574,"user_id":5251510,"display_name":"Nicolas"},"score":1,"creation_date":1583856304,"post_id":40514016,"comment_id":107250210,"body_markdown":"How to set a specific property value for each junit test method?","body":"How to set a specific property value for each junit test method?"}],"tags":[],"owner":{"account_id":9146506,"reputation":19,"user_id":6802490,"display_name":"D. Soloviev"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1478717516,"creation_date":1478717516,"answer_id":40514016,"question_id":29669393,"body_markdown":"Otherwise we may change the default property configurator name, setting the property `spring.config.name=test` and then having class-path resource \r\n`src/test/test.properties` our native instance of `org.springframework.boot.SpringApplication` will be auto-configured from this separated test.properties, ignoring application properties;\r\n\r\nBenefit: auto-configuration of tests;\r\n\r\nDrawback: exposing &quot;spring.config.name&quot; property at C.I. layer\r\n\r\nref: http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\r\n\r\n&gt; spring.config.name=application # Config file name","title":"Override default Spring-Boot application.properties settings in Junit Test","body":"<p>Otherwise we may change the default property configurator name, setting the property <code>spring.config.name=test</code> and then having class-path resource \n<code>src/test/test.properties</code> our native instance of <code>org.springframework.boot.SpringApplication</code> will be auto-configured from this separated test.properties, ignoring application properties;</p>\n\n<p>Benefit: auto-configuration of tests;</p>\n\n<p>Drawback: exposing \"spring.config.name\" property at C.I. layer</p>\n\n<p>ref: <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\" rel=\"nofollow noreferrer\">http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html</a></p>\n\n<blockquote>\n  <p>spring.config.name=application # Config file name</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":152633,"reputation":48313,"user_id":367285,"accept_rate":81,"display_name":"FrVaBe"},"score":4,"creation_date":1499941015,"post_id":45021819,"comment_id":77127869,"body_markdown":"Not sure if it is a good idea to have two `application.properties` files on the classpath (one in `src/main/resources` and one in `src/test/resources`). Who guarantees that both will be taken and which one will be taken first?","body":"Not sure if it is a good idea to have two <code>application.properties</code> files on the classpath (one in <code>src&#47;main&#47;resources</code> and one in <code>src&#47;test&#47;resources</code>). Who guarantees that both will be taken and which one will be taken first?"},{"owner":{"account_id":70915,"reputation":1935,"user_id":205230,"display_name":"Mohnish"},"score":6,"creation_date":1500150007,"post_id":45021819,"comment_id":77215643,"body_markdown":"@FrVaBe Spring is going to guarantee it! Main profile properties are always loaded. Then during the test phase, test properties are loaded, adding/overriding new/existing properties.\n\nIf you don&#39;t like keeping two files with same name, then you can add `application-test.properties` in `src/main/resources` and specify `test` as the active profile in the test case.","body":"@FrVaBe Spring is going to guarantee it! Main profile properties are always loaded. Then during the test phase, test properties are loaded, adding/overriding new/existing properties.  If you don&#39;t like keeping two files with same name, then you can add <code>application-test.properties</code> in <code>src&#47;main&#47;resources</code> and specify <code>test</code> as the active profile in the test case."},{"owner":{"account_id":152633,"reputation":48313,"user_id":367285,"accept_rate":81,"display_name":"FrVaBe"},"score":18,"creation_date":1500366843,"post_id":45021819,"comment_id":77291251,"body_markdown":"Spring does not give a guarantee. The build tool will use the test resources in favour of the main resources during tests. But in case of a test application.properties the main application.properties will be ignored. That is not what I want because the main one contains several useful default values and I only need to override some of them during the test (and I do not want to duplicate the whole file in the test section). See [here](https://twitter.com/snicoll/status/887224501871751168).","body":"Spring does not give a guarantee. The build tool will use the test resources in favour of the main resources during tests. But in case of a test application.properties the main application.properties will be ignored. That is not what I want because the main one contains several useful default values and I only need to override some of them during the test (and I do not want to duplicate the whole file in the test section). See <a href=\"https://twitter.com/snicoll/status/887224501871751168\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":70915,"reputation":1935,"user_id":205230,"display_name":"Mohnish"},"score":13,"creation_date":1500394395,"post_id":45021819,"comment_id":77312247,"body_markdown":"You&#39;re correct, only properties defined in `src/test/resources/application.properties` are loaded during the test phase, `src/main/resources/application.properties` is ignored.","body":"You&#39;re correct, only properties defined in <code>src&#47;test&#47;resources&#47;application.properties</code> are loaded during the test phase, <code>src&#47;main&#47;resources&#47;application.properties</code> is ignored."},{"owner":{"account_id":152633,"reputation":48313,"user_id":367285,"accept_rate":81,"display_name":"FrVaBe"},"score":15,"creation_date":1500410898,"post_id":45021819,"comment_id":77322124,"body_markdown":"If you do not use profiles so far you do not need a dedicated &quot;test&quot; profile. Just name your test properties `application-default.properties` and they will be considered because you are automatically running the &quot;default&quot; profile (if not declared any other).","body":"If you do not use profiles so far you do not need a dedicated &quot;test&quot; profile. Just name your test properties <code>application-default.properties</code> and they will be considered because you are automatically running the &quot;default&quot; profile (if not declared any other)."},{"owner":{"account_id":1962480,"reputation":15483,"user_id":1763602,"accept_rate":76,"display_name":"Marco Sulla"},"score":0,"creation_date":1553513186,"post_id":45021819,"comment_id":97398605,"body_markdown":"This is incorrect. The file automagically loaded is the default `application.properties`, not the test one. See https://stackoverflow.com/q/55297676/1763602","body":"This is incorrect. The file automagically loaded is the default <code>application.properties</code>, not the test one. See <a href=\"https://stackoverflow.com/q/55297676/1763602\">stackoverflow.com/q/55297676/1763602</a>"},{"owner":{"account_id":70915,"reputation":1935,"user_id":205230,"display_name":"Mohnish"},"score":0,"creation_date":1553605295,"post_id":45021819,"comment_id":97439288,"body_markdown":"@Marco Did you try running the referenced GitHub project?","body":"@Marco Did you try running the referenced GitHub project?"},{"owner":{"account_id":1962480,"reputation":15483,"user_id":1763602,"accept_rate":76,"display_name":"Marco Sulla"},"score":0,"creation_date":1553627154,"post_id":45021819,"comment_id":97452907,"body_markdown":"@Mohnish: the project does not use `src/test/resources`, it uses `src/main/resources`. Please read https://stackoverflow.com/questions/55297676/junit-test-run-in-eclipse-but-fails-with-gradle-test and my answer","body":"@Mohnish: the project does not use <code>src&#47;test&#47;resources</code>, it uses <code>src&#47;main&#47;resources</code>. Please read <a href=\"https://stackoverflow.com/questions/55297676/junit-test-run-in-eclipse-but-fails-with-gradle-test\" title=\"junit test run in eclipse but fails with gradle test\">stackoverflow.com/questions/55297676/&hellip;</a> and my answer"},{"owner":{"account_id":70915,"reputation":1935,"user_id":205230,"display_name":"Mohnish"},"score":0,"creation_date":1553701826,"post_id":45021819,"comment_id":97484905,"body_markdown":"@Marco Not sure where you&#39;re getting confused. But if you put a file named `application.properties` under `src/test/resources`, it is picked up for test cases. However, note that in such a case, _only_ properties defined in that file are available. But as frequently we want _main_ properties, with a few of them overridden for our test case, hence the `ActiveProfile` approach suggestion.","body":"@Marco Not sure where you&#39;re getting confused. But if you put a file named <code>application.properties</code> under <code>src&#47;test&#47;resources</code>, it is picked up for test cases. However, note that in such a case, <i>only</i> properties defined in that file are available. But as frequently we want <i>main</i> properties, with a few of them overridden for our test case, hence the <code>ActiveProfile</code> approach suggestion."},{"owner":{"account_id":1962480,"reputation":15483,"user_id":1763602,"accept_rate":76,"display_name":"Marco Sulla"},"score":0,"creation_date":1553712399,"post_id":45021819,"comment_id":97490835,"body_markdown":"@Mohnish `if you put a file named application.properties under src/test/resources, it is picked up for test cases` This is not true, I tested it in my application and the default application.properties was loaded instead. I had to use `@TestPropertySource`","body":"@Mohnish <code>if you put a file named application.properties under src&#47;test&#47;resources, it is picked up for test cases</code> This is not true, I tested it in my application and the default application.properties was loaded instead. I had to use <code>@TestPropertySource</code>"},{"owner":{"account_id":70915,"reputation":1935,"user_id":205230,"display_name":"Mohnish"},"score":0,"creation_date":1553828459,"post_id":45021819,"comment_id":97539898,"body_markdown":"@MarcoSulla You might be missing something in your setup. Anyway, I&#39;ve provided code to showcase it in `test-props-loading` branch of the demo project. It should serve as a proof! Check it out.","body":"@MarcoSulla You might be missing something in your setup. Anyway, I&#39;ve provided code to showcase it in <code>test-props-loading</code> branch of the demo project. It should serve as a proof! Check it out."},{"owner":{"account_id":6825737,"reputation":574,"user_id":5251510,"display_name":"Nicolas"},"score":0,"creation_date":1583856326,"post_id":45021819,"comment_id":107250227,"body_markdown":"How to set a specific property value for each junit test method?","body":"How to set a specific property value for each junit test method?"},{"owner":{"account_id":70915,"reputation":1935,"user_id":205230,"display_name":"Mohnish"},"score":0,"creation_date":1609009667,"post_id":45021819,"comment_id":115730129,"body_markdown":"@Grigory Kislin - if you have a code edit to suggest, please suggest it as a comment. `application-test` can be placed under `src/main/resources`, as has been done in the referenced GitHub code sample. It allows users to know that test props can be placed at an alternative location. Also, please don&#39;t tag code edits as `grammer`.","body":"@Grigory Kislin - if you have a code edit to suggest, please suggest it as a comment. <code>application-test</code> can be placed under <code>src&#47;main&#47;resources</code>, as has been done in the referenced GitHub code sample. It allows users to know that test props can be placed at an alternative location. Also, please don&#39;t tag code edits as <code>grammer</code>."},{"owner":{"account_id":9771290,"reputation":748,"user_id":7243065,"display_name":"James Dube"},"score":0,"creation_date":1647949989,"post_id":45021819,"comment_id":126494868,"body_markdown":"`ConfigFileApplicationContextInitializer.class` is deprected use `ConfigDataApplicationContextInitializer.class` instead. Worked for me","body":"<code>ConfigFileApplicationContextInitializer.class</code> is deprected use <code>ConfigDataApplicationContextInitializer.class</code> instead. Worked for me"},{"owner":{"account_id":1161864,"reputation":2061,"user_id":1141215,"display_name":"PJ_Finnegan"},"score":0,"creation_date":1665138731,"post_id":45021819,"comment_id":130634722,"body_markdown":"For me `src/test/application.properties` works, but `src/main/resources/application-test.properties` is ignored, maybe because I&#39;m using Spring Batch.","body":"For me <code>src&#47;test&#47;application.properties</code> works, but <code>src&#47;main&#47;resources&#47;application-test.properties</code> is ignored, maybe because I&#39;m using Spring Batch."}],"tags":[],"owner":{"account_id":70915,"reputation":1935,"user_id":205230,"display_name":"Mohnish"},"comment_count":15,"down_vote_count":2,"up_vote_count":117,"is_accepted":false,"score":115,"last_activity_date":1609009250,"creation_date":1499721809,"answer_id":45021819,"question_id":29669393,"body_markdown":"Spring Boot automatically loads `src/test/resources/application.properties`, if following annotations are used\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n\r\nSo, rename `test.properties` to `application.properties` to utilize auto configuration. \r\n\r\n&gt; If you _*only*_ need to load the properties file (into the Environment) you can also use the following, as explained [here][1]\r\n&gt;\r\n    @RunWith(SpringRunner.class)\r\n    @ContextConfiguration(initializers = ConfigFileApplicationContextInitializer.class) \r\n\r\n[_Update: Overriding certain properties for testing_]  \r\n\r\n 1. Add `src/main/resources/application-test.properties`.\r\n 2. Annotate test class with `@ActiveProfiles(&quot;test&quot;)`.\r\n\r\nThis loads `application.properties` and _then_ `application-test.properties` properties into application context for the test case, as per rules defined [here][2].  \r\n\r\nDemo - [https://github.com/mohnish82/so-spring-boot-testprops](https://github.com/mohnish82/so-spring-boot-testprops)\r\n\r\n[1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-configfileapplicationcontextinitializer-test-utility\r\n[2]: https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config-files-profile-specific\r\n","title":"Override default Spring-Boot application.properties settings in Junit Test","body":"<p>Spring Boot automatically loads <code>src/test/resources/application.properties</code>, if following annotations are used</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n</code></pre>\n<p>So, rename <code>test.properties</code> to <code>application.properties</code> to utilize auto configuration.</p>\n<blockquote>\n<p>If you <em><em>only</em></em> need to load the properties file (into the Environment) you can also use the following, as explained <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-configfileapplicationcontextinitializer-test-utility\" rel=\"noreferrer\">here</a></p>\n</blockquote>\n<pre><code>@RunWith(SpringRunner.class)\n@ContextConfiguration(initializers = ConfigFileApplicationContextInitializer.class) \n</code></pre>\n<p>[<em>Update: Overriding certain properties for testing</em>]</p>\n<ol>\n<li>Add <code>src/main/resources/application-test.properties</code>.</li>\n<li>Annotate test class with <code>@ActiveProfiles(&quot;test&quot;)</code>.</li>\n</ol>\n<p>This loads <code>application.properties</code> and <em>then</em> <code>application-test.properties</code> properties into application context for the test case, as per rules defined <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config-files-profile-specific\" rel=\"noreferrer\">here</a>.</p>\n<p>Demo - <a href=\"https://github.com/mohnish82/so-spring-boot-testprops\" rel=\"noreferrer\">https://github.com/mohnish82/so-spring-boot-testprops</a></p>\n"},{"comments":[{"owner":{"account_id":175608,"reputation":529,"user_id":405749,"display_name":"elonderin"},"score":0,"creation_date":1632928717,"post_id":51741730,"comment_id":122627165,"body_markdown":"Note that as of spring boot 2.4 the power-developer way is deprected, see https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4","body":"Note that as of spring boot 2.4 the power-developer way is deprected, see <a href=\"https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4\" rel=\"nofollow noreferrer\">spring.io/blog/2020/08/14/&hellip;</a>"}],"tags":[],"owner":{"account_id":175608,"reputation":529,"user_id":405749,"display_name":"elonderin"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1623167002,"creation_date":1533716035,"answer_id":51741730,"question_id":29669393,"body_markdown":"TLDR:\r\n-\r\nSo what I did was to have the standard `src/main/resources/application.properties` and also a `src/test/resources/application-default.properties` where i override some settings for ALL my tests.\r\n\r\nFor power-developers:\r\n--\r\nIn order to change/use even more easily different spring profiles, I have a now an `application-default.yaml` that declares the profiles I want to use.\r\nThis file is not committed, so that each developer may choose his way of activating profiles and needs (e.g. feature) he/she is working on.\r\n\r\n````yaml\r\nspring:\r\n  profiles:\r\n    include:\r\n      - local\r\n      - devlocal\r\n      - wip\r\n#      - kafka@docker\r\n\r\n---\r\nspring.profiles: wip\r\n# ... overriding properties \r\n\r\n````\r\n\r\n\r\nWhole Story\r\n-\r\nI ran into the same problem and was not using profiles either so far. It seemed to be bothersome to have to do it now and remember declaring the profile -- which can be easily forgotten.\r\n\r\nThe trick is, to leverage that a profile specific `application-&lt;profile&gt;.properties` overrides settings in the general profile. See https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-profile-specific-properties.","title":"Override default Spring-Boot application.properties settings in Junit Test","body":"<h2>TLDR:</h2>\n<p>So what I did was to have the standard <code>src/main/resources/application.properties</code> and also a <code>src/test/resources/application-default.properties</code> where i override some settings for ALL my tests.</p>\n<h2>For power-developers:</h2>\n<p>In order to change/use even more easily different spring profiles, I have a now an <code>application-default.yaml</code> that declares the profiles I want to use.\nThis file is not committed, so that each developer may choose his way of activating profiles and needs (e.g. feature) he/she is working on.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  profiles:\n    include:\n      - local\n      - devlocal\n      - wip\n#      - kafka@docker\n\n---\nspring.profiles: wip\n# ... overriding properties \n\n</code></pre>\n<h2>Whole Story</h2>\n<p>I ran into the same problem and was not using profiles either so far. It seemed to be bothersome to have to do it now and remember declaring the profile -- which can be easily forgotten.</p>\n<p>The trick is, to leverage that a profile specific <code>application-&lt;profile&gt;.properties</code> overrides settings in the general profile. See <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-profile-specific-properties\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-profile-specific-properties</a>.</p>\n"},{"comments":[{"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"score":0,"creation_date":1582095939,"post_id":52953348,"comment_id":106654233,"body_markdown":"How does this help? ^^","body":"How does this help? ^^"},{"owner":{"account_id":744098,"reputation":657,"user_id":715439,"accept_rate":61,"display_name":"Ran"},"score":1,"creation_date":1632985532,"post_id":52953348,"comment_id":122641927,"body_markdown":"This is what he DOESN&#39;T wants...","body":"This is what he DOESN&#39;T wants..."},{"owner":{"account_id":3861784,"reputation":8519,"user_id":3199351,"accept_rate":35,"display_name":"Abdeali Chandanwala"},"score":0,"creation_date":1677566911,"post_id":52953348,"comment_id":133358219,"body_markdown":"Thanks I had made application-test.properties in test/resources folder - renamed it to application.properties and it worked","body":"Thanks I had made application-test.properties in test/resources folder - renamed it to application.properties and it worked"}],"tags":[],"owner":{"account_id":10500224,"reputation":65,"user_id":7739151,"display_name":"PragmaticFire"},"comment_count":3,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1540310317,"creation_date":1540310317,"answer_id":52953348,"question_id":29669393,"body_markdown":"You can also create a application.properties file in src/test/resources where your JUnits are written. ","title":"Override default Spring-Boot application.properties settings in Junit Test","body":"<p>You can also create a application.properties file in src/test/resources where your JUnits are written. </p>\n"},{"comments":[{"owner":{"account_id":3818241,"reputation":4374,"user_id":3167016,"accept_rate":94,"display_name":"TuGordoBello"},"score":3,"creation_date":1570482156,"post_id":57124491,"comment_id":102920556,"body_markdown":"does `SpringBootTest` load the application.properties file?","body":"does <code>SpringBootTest</code> load the application.properties file?"},{"owner":{"account_id":445218,"reputation":5275,"user_id":837530,"accept_rate":14,"display_name":"Sa&#39;ad"},"score":1,"creation_date":1617992278,"post_id":57124491,"comment_id":118476336,"body_markdown":"@TuGordoBello yes","body":"@TuGordoBello yes"}],"tags":[],"owner":{"account_id":6980681,"reputation":2784,"user_id":5353734,"display_name":"Nima Ajdari"},"comment_count":2,"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1563624030,"creation_date":1563624030,"answer_id":57124491,"question_id":29669393,"body_markdown":"Another approach suitable for overriding a few properties in your test, if you are using `@SpringBootTest` annotation:\r\n\r\n    @SpringBootTest(properties = {&quot;propA=valueA&quot;, &quot;propB=valueB&quot;})","title":"Override default Spring-Boot application.properties settings in Junit Test","body":"<p>Another approach suitable for overriding a few properties in your test, if you are using <code>@SpringBootTest</code> annotation:</p>\n\n<pre><code>@SpringBootTest(properties = {\"propA=valueA\", \"propB=valueB\"})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16121915,"reputation":709,"user_id":11637696,"display_name":"Hilal Aissani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576642547,"creation_date":1576642547,"answer_id":59385382,"question_id":29669393,"body_markdown":"    I just configured min as the following :\r\n    \r\n    spring.h2.console.enabled=true\r\n    spring.h2.console.path=/h2-console\r\n    \r\n    \r\n    # changing the name of my data base for testing\r\n    spring.datasource.url= jdbc:h2:mem:mockedDB\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=sa\r\n    \r\n    \r\n    \r\n    # in testing i don`t need to know the port\r\n    \r\n    #Feature that determines what happens when no accessors are found for a type\r\n    #(and there are no annotations to indicate it is meant to be serialized).\r\n    spring.jackson.serialization.FAIL_ON_EMPTY_BEANS=false`enter code here`","title":"Override default Spring-Boot application.properties settings in Junit Test","body":"<pre><code>I just configured min as the following :\n\nspring.h2.console.enabled=true\nspring.h2.console.path=/h2-console\n\n\n# changing the name of my data base for testing\nspring.datasource.url= jdbc:h2:mem:mockedDB\nspring.datasource.username=sa\nspring.datasource.password=sa\n\n\n\n# in testing i don`t need to know the port\n\n#Feature that determines what happens when no accessors are found for a type\n#(and there are no annotations to indicate it is meant to be serialized).\nspring.jackson.serialization.FAIL_ON_EMPTY_BEANS=false`enter code here`\n</code></pre>\n"},{"comments":[{"owner":{"account_id":175608,"reputation":529,"user_id":405749,"display_name":"elonderin"},"score":1,"creation_date":1632929138,"post_id":60296719,"comment_id":122627386,"body_markdown":"I find this approach lacking because defining a profile on your test will remove the option to adjust this on the fly via `-Dspring.profiles.active=...` in CI and other environments which might need other configs that wou might not want to override via `-D` as this becomes very tedious. After all spinning up spring context should only be needed for **integration** tests and those are likely to depend on external resources which are different for the environements they run in.","body":"I find this approach lacking because defining a profile on your test will remove the option to adjust this on the fly via <code>-Dspring.profiles.active=...</code> in CI and other environments which might need other configs that wou might not want to override via <code>-D</code> as this becomes very tedious. After all spinning up spring context should only be needed for <b>integration</b> tests and those are likely to depend on external resources which are different for the environements they run in."},{"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"score":2,"creation_date":1632980272,"post_id":60296719,"comment_id":122640259,"body_markdown":"Hey @elonderin, thanks for your comment. If there are configurations that are common to all, i plug them in `application.properties`. Thereafter, if i develop on `local` and doing `test`, `spring.profiles.active=local, test`. If i am on pre-prod, it becomes `spring.profiles.active=pre-prod, test`. Is this what you wanted?","body":"Hey @elonderin, thanks for your comment. If there are configurations that are common to all, i plug them in <code>application.properties</code>. Thereafter, if i develop on <code>local</code> and doing <code>test</code>, <code>spring.profiles.active=local, test</code>. If i am on pre-prod, it becomes <code>spring.profiles.active=pre-prod, test</code>. Is this what you wanted?"},{"owner":{"account_id":85429,"reputation":9406,"user_id":238190,"accept_rate":71,"display_name":"emeraldhieu"},"score":2,"creation_date":1644467255,"post_id":60296719,"comment_id":125616454,"body_markdown":"This should be the accepted answer. Apparently, test/application.properties doesn&#39;t override main/application.properties.","body":"This should be the accepted answer. Apparently, test/application.properties doesn&#39;t override main/application.properties."}],"tags":[],"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"comment_count":3,"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1616723500,"creation_date":1582103824,"answer_id":60296719,"question_id":29669393,"body_markdown":"If you are like me and you have the same `application.properties` in `src/main/resources` and `src/test/resources`, and you are **wondering** why the `application.properties` in your test folder is **not overriding** the `application.properties` in your main resources, read on...&lt;br&gt;\r\n\r\n# Simple explanation:\r\n\r\nIf you have `application.properties` under `src/main/resources` and the same `application.properties` under `src/test/resources`, which `application.properties` gets picked up, **depends on how you are running your tests**. The folder *structure* `src/main/resources` and `src/test/resources`, is a Maven architectural convention, so if you run your test like `mvnw test` or even `gradlew test`, the `application.properties` in `src/test/resources` will get picked up, as *test* classpath will precede *main* classpath. But, if you run your test like `Run as JUnit Test` in Eclipse/STS, the `application.properties` in `src/main/resources` will get picked up, as *main* classpath precedes *test* classpath.&lt;br&gt; \r\n\r\nYou can check it out by opening the **menu bar** `Run &gt; Run Configurations &gt; JUnit &gt; *your_run_configuration* &gt; Click on &quot;Show Command Line&quot;`.\r\n\r\nYou will see something like this:&lt;br&gt;\r\n\r\n&gt; XXXbin\\javaw.exe -ea -Dfile.encoding=UTF-8 -classpath&lt;br&gt; \r\n&gt; XXX\\workspace-spring-tool-suite-4-4.5.1.RELEASE\\project_name\\bin\\main;&lt;br&gt;\r\n&gt; XXX\\workspace-spring-tool-suite-4-4.5.1.RELEASE\\project_name\\bin\\test;&lt;br&gt;\r\n&gt; &lt;many other jars&gt;&lt;br&gt;\r\n\r\nDo you see that *classpath* **xxx\\main** comes first, and then **xxx\\test**? Right, **it&#39;s all about classpath** :-)\r\n\r\n*Side-note:\r\nBe mindful that properties overridden in the Launch Configuration(In Spring Tool Suite IDE, for example) takes priority over application.properties.*\r\n\r\n# Change the order:\r\nNow, everything is configurable in Spring. You can change the build classpath, so that **xxx\\test** comes first, and then **xxx\\main**.\r\n\r\nSimply go to `Project &gt; Properties &gt; Java Build Path &gt; Order and Export`, change the build class path order by putting any of the **test** folder first such as:\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OLBez.png\r\n\r\nAnd that&#39;s it!\r\n\r\n# Better solution\r\n\r\nA better solution though, when testing, would be to activate the `src/test/resources/application-{profile}.properties` (where `profile` can be test), such as the following in `src/main/resources/application.properties`:\r\n\r\n&gt; spring.profiles.active=test\r\n\r\nThis is neater, and gives you complete control on what profile to activate when doing what.","title":"Override default Spring-Boot application.properties settings in Junit Test","body":"<p>If you are like me and you have the same <code>application.properties</code> in <code>src/main/resources</code> and <code>src/test/resources</code>, and you are <strong>wondering</strong> why the <code>application.properties</code> in your test folder is <strong>not overriding</strong> the <code>application.properties</code> in your main resources, read on...<br></p>\n<h1>Simple explanation:</h1>\n<p>If you have <code>application.properties</code> under <code>src/main/resources</code> and the same <code>application.properties</code> under <code>src/test/resources</code>, which <code>application.properties</code> gets picked up, <strong>depends on how you are running your tests</strong>. The folder <em>structure</em> <code>src/main/resources</code> and <code>src/test/resources</code>, is a Maven architectural convention, so if you run your test like <code>mvnw test</code> or even <code>gradlew test</code>, the <code>application.properties</code> in <code>src/test/resources</code> will get picked up, as <em>test</em> classpath will precede <em>main</em> classpath. But, if you run your test like <code>Run as JUnit Test</code> in Eclipse/STS, the <code>application.properties</code> in <code>src/main/resources</code> will get picked up, as <em>main</em> classpath precedes <em>test</em> classpath.<br></p>\n<p>You can check it out by opening the <strong>menu bar</strong> <code>Run &gt; Run Configurations &gt; JUnit &gt; *your_run_configuration* &gt; Click on &quot;Show Command Line&quot;</code>.</p>\n<p>You will see something like this:<br></p>\n<blockquote>\n<p>XXXbin\\javaw.exe -ea -Dfile.encoding=UTF-8 -classpath<br>\nXXX\\workspace-spring-tool-suite-4-4.5.1.RELEASE\\project_name\\bin\\main;<br>\nXXX\\workspace-spring-tool-suite-4-4.5.1.RELEASE\\project_name\\bin\\test;<br>\n<br></p>\n</blockquote>\n<p>Do you see that <em>classpath</em> <strong>xxx\\main</strong> comes first, and then <strong>xxx\\test</strong>? Right, <strong>it's all about classpath</strong> :-)</p>\n<p><em>Side-note:\nBe mindful that properties overridden in the Launch Configuration(In Spring Tool Suite IDE, for example) takes priority over application.properties.</em></p>\n<h1>Change the order:</h1>\n<p>Now, everything is configurable in Spring. You can change the build classpath, so that <strong>xxx\\test</strong> comes first, and then <strong>xxx\\main</strong>.</p>\n<p>Simply go to <code>Project &gt; Properties &gt; Java Build Path &gt; Order and Export</code>, change the build class path order by putting any of the <strong>test</strong> folder first such as:</p>\n<p><a href=\"https://i.stack.imgur.com/OLBez.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/OLBez.png\" alt=\"enter image description here\" /></a></p>\n<p>And that's it!</p>\n<h1>Better solution</h1>\n<p>A better solution though, when testing, would be to activate the <code>src/test/resources/application-{profile}.properties</code> (where <code>profile</code> can be test), such as the following in <code>src/main/resources/application.properties</code>:</p>\n<blockquote>\n<p>spring.profiles.active=test</p>\n</blockquote>\n<p>This is neater, and gives you complete control on what profile to activate when doing what.</p>\n"},{"comments":[{"owner":{"account_id":4355473,"reputation":17255,"user_id":3554264,"accept_rate":62,"display_name":"Christian Hujer"},"score":2,"creation_date":1647958467,"post_id":60939314,"comment_id":126498389,"body_markdown":"This should be the top answer. Overriding properties from tests very often needs dynamic values, and just switching to another property file as the other answers won&#39;t cut it.\n\nNote: The `@Testcontainers` annotation is not required for this to work.","body":"This should be the top answer. Overriding properties from tests very often needs dynamic values, and just switching to another property file as the other answers won&#39;t cut it.  Note: The <code>@Testcontainers</code> annotation is not required for this to work."},{"owner":{"display_name":"user16422658"},"score":1,"creation_date":1650488998,"post_id":60939314,"comment_id":127132118,"body_markdown":"This doesn&#39;t work when not using Test containers","body":"This doesn&#39;t work when not using Test containers"}],"tags":[],"owner":{"account_id":11821692,"reputation":2574,"user_id":8650621,"display_name":"Felipe Desiderati"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1585601600,"creation_date":1585601600,"answer_id":60939314,"question_id":29669393,"body_markdown":"If you&#39;re using Spring 5.2.5 and Spring Boot 2.2.6 and want to override just a few properties instead of the whole file. You can use the new annotation: @DynamicPropertySource\r\n\r\n    @SpringBootTest\r\n    @Testcontainers\r\n    class ExampleIntegrationTests {\r\n\r\n        @Container\r\n        static Neo4jContainer&lt;?&gt; neo4j = new Neo4jContainer&lt;&gt;();\r\n\r\n        @DynamicPropertySource\r\n        static void neo4jProperties(DynamicPropertyRegistry registry) {\r\n            registry.add(&quot;spring.data.neo4j.uri&quot;, neo4j::getBoltUrl);\r\n        }\r\n    }","title":"Override default Spring-Boot application.properties settings in Junit Test","body":"<p>If you're using Spring 5.2.5 and Spring Boot 2.2.6 and want to override just a few properties instead of the whole file. You can use the new annotation: @DynamicPropertySource</p>\n\n<pre><code>@SpringBootTest\n@Testcontainers\nclass ExampleIntegrationTests {\n\n    @Container\n    static Neo4jContainer&lt;?&gt; neo4j = new Neo4jContainer&lt;&gt;();\n\n    @DynamicPropertySource\n    static void neo4jProperties(DynamicPropertyRegistry registry) {\n        registry.add(\"spring.data.neo4j.uri\", neo4j::getBoltUrl);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3444261,"reputation":143,"user_id":2885422,"accept_rate":20,"display_name":"techsavvy"},"score":0,"creation_date":1656949340,"post_id":69102641,"comment_id":128689527,"body_markdown":"This worked for me, very well.\n@TestPropertySource(properties = &quot;spring.config.additional-location=file:/Users/..&quot;)","body":"This worked for me, very well. @TestPropertySource(properties = &quot;spring.config.additional-location=file:/Users/..&quot;)"}],"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1631102192,"creation_date":1631102192,"answer_id":69102641,"question_id":29669393,"body_markdown":"I think you can also use this:\r\n\r\n```\r\n@TestPropertySource(properties = &quot;spring.config.additional-location=classpath:application-test.yml&quot;)\r\n```\r\n\r\nwhen custom config locations are configured by using spring.config.additional-location, they are used in addition to the default locations.\r\n\r\nThe file will have precedence\r\n\r\nPlease refer [here][1] for more details.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/boot-features-external-config.html","title":"Override default Spring-Boot application.properties settings in Junit Test","body":"<p>I think you can also use this:</p>\n<pre><code>@TestPropertySource(properties = &quot;spring.config.additional-location=classpath:application-test.yml&quot;)\n</code></pre>\n<p>when custom config locations are configured by using spring.config.additional-location, they are used in addition to the default locations.</p>\n<p>The file will have precedence</p>\n<p>Please refer <a href=\"https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">here</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":21882291,"reputation":56,"user_id":16170369,"display_name":"æ¨åé"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642327575,"creation_date":1642327575,"answer_id":70729047,"question_id":29669393,"body_markdown":"You can create a spring.factories file in src/test/resources/META-INF and a EnvironmentPostProcessor Implementation class in src/test/java.  \r\n`spring.factories` like\r\n```\r\n# Environment Post Processors\r\norg.springframework.boot.env.EnvironmentPostProcessor=\\\r\ncom.example.test.YourTestPropertiesConfig\r\n```\r\n`YourTestPropertiesConfig.java` like\r\n```\r\npackage com.example.test;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.env.EnvironmentPostProcessor;\r\nimport org.springframework.core.env.ConfigurableEnvironment;\r\nimport org.springframework.core.env.MapPropertySource;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class YourTestPropertiesConfig implements EnvironmentPostProcessor {\r\n    private static final Map&lt;String, Object&gt; testProperties = new HashMap&lt;&gt;();\r\n    private static final Set&lt;String&gt; testPropertiesFile = new HashSet&lt;&gt;();\r\n\r\n    static {\r\n    //Add the properties you need to take effect globally in the test directly here.\r\n        testProperties.put(&quot;spring.jackson.time-zone&quot;, &quot;GMT&quot;);\r\n        testPropertiesFile.add(&quot;classpath:test.properties&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void postProcessEnvironment(ConfigurableEnvironment environment, SpringApplication application) {\r\n        environment.getPropertySources().addFirst(new MapPropertySource(&quot;TestProperties&quot;, testProperties));\r\n        for (String location : testPropertiesFile) {\r\n            try {\r\n                environment.getPropertySources().addFirst(new ResourcePropertySource(location));\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void addProperty(String key, Object value) {\r\n        testProperties.put(key, value);\r\n    }\r\n\r\n    public static void addProperty(String location) {\r\n        testPropertiesFile.add(location);\r\n    }\r\n}\r\n```\r\n\r\n","title":"Override default Spring-Boot application.properties settings in Junit Test","body":"<p>You can create a spring.factories file in src/test/resources/META-INF and a EnvironmentPostProcessor Implementation class in src/test/java.<br />\n<code>spring.factories</code> like</p>\n<pre><code># Environment Post Processors\norg.springframework.boot.env.EnvironmentPostProcessor=\\\ncom.example.test.YourTestPropertiesConfig\n</code></pre>\n<p><code>YourTestPropertiesConfig.java</code> like</p>\n<pre><code>package com.example.test;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.env.EnvironmentPostProcessor;\nimport org.springframework.core.env.ConfigurableEnvironment;\nimport org.springframework.core.env.MapPropertySource;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class YourTestPropertiesConfig implements EnvironmentPostProcessor {\n    private static final Map&lt;String, Object&gt; testProperties = new HashMap&lt;&gt;();\n    private static final Set&lt;String&gt; testPropertiesFile = new HashSet&lt;&gt;();\n\n    static {\n    //Add the properties you need to take effect globally in the test directly here.\n        testProperties.put(&quot;spring.jackson.time-zone&quot;, &quot;GMT&quot;);\n        testPropertiesFile.add(&quot;classpath:test.properties&quot;);\n    }\n\n    @Override\n    public void postProcessEnvironment(ConfigurableEnvironment environment, SpringApplication application) {\n        environment.getPropertySources().addFirst(new MapPropertySource(&quot;TestProperties&quot;, testProperties));\n        for (String location : testPropertiesFile) {\n            try {\n                environment.getPropertySources().addFirst(new ResourcePropertySource(location));\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    public static void addProperty(String key, Object value) {\n        testProperties.put(key, value);\n    }\n\n    public static void addProperty(String location) {\n        testPropertiesFile.add(location);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4895829,"reputation":61,"user_id":3945501,"display_name":"Hamid Pourgholi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1659502255,"creation_date":1659501704,"answer_id":73216369,"question_id":29669393,"body_markdown":"This workes for me:\r\n\r\nMy Test:\r\n\r\n    @SpringBootTest\r\n    @TestPropertySource(properties = &quot;spring.config.additional-location=classpath:application-test.yml&quot;)\r\n    class EngineApplicationTests {\r\n        @Test\r\n        void contextLoads() {\r\n        }\r\n    }\r\n\r\nMy versions:\r\n\r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.7.1&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.12.RELEASE&#39;\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;com.kubemachine&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;11&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    ext {\r\n        set(&#39;springCloudVersion&#39;, &quot;2021.0.3&quot;)\r\n    }\r\n\r\nThe only test dependency in my gradle file:\r\n\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\r\nI also have this in my build.gradle file:\r\n\r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\nand two properties file: \r\n\r\n- src/main/resources/application.yml\r\n- src/test/resources/application-test.yml\r\n\r\n\r\nAnd in this setup application-test.yml definitely ONLY overrides the values in application.yml. I don&#39;t have to repeat the property values from application.yml in application-test.yml. application-test.yml really extends application.yml.","title":"Override default Spring-Boot application.properties settings in Junit Test","body":"<p>This workes for me:</p>\n<p>My Test:</p>\n<pre><code>@SpringBootTest\n@TestPropertySource(properties = &quot;spring.config.additional-location=classpath:application-test.yml&quot;)\nclass EngineApplicationTests {\n    @Test\n    void contextLoads() {\n    }\n}\n</code></pre>\n<p>My versions:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.1'\n    id 'io.spring.dependency-management' version '1.0.12.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.kubemachine'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    set('springCloudVersion', &quot;2021.0.3&quot;)\n}\n</code></pre>\n<p>The only test dependency in my gradle file:</p>\n<pre><code>testImplementation 'org.springframework.boot:spring-boot-starter-test'\n</code></pre>\n<p>I also have this in my build.gradle file:</p>\n<pre><code>test {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>and two properties file:</p>\n<ul>\n<li>src/main/resources/application.yml</li>\n<li>src/test/resources/application-test.yml</li>\n</ul>\n<p>And in this setup application-test.yml definitely ONLY overrides the values in application.yml. I don't have to repeat the property values from application.yml in application-test.yml. application-test.yml really extends application.yml.</p>\n"},{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685625036,"creation_date":1660816355,"answer_id":73400956,"question_id":29669393,"body_markdown":"# Setup\r\nUsing\r\n* properties declared with `.yaml` file-ending\r\n* Spring-Boot 2.7\r\n* and multiple .yaml files in the classpath\r\n\r\n# Problem\r\n\r\nI noticed that the precedence of `@TestPropertySource(locations)` was not applied as it would be with `.properties` files.\r\n\r\nThe problem I was having was, that Spring kept loading all `.yaml` properties (especially those from production) and **overriding** the properties meant for the tests with the values specified for prod. (*sigh*)\r\n\r\n# Solution\r\nWe come up with the workaround of overwriting the config-scraping mechanism by specifying just my `application-test.yaml` as the only properties used like so:\r\n\r\n```yaml\r\n@TestPropertySource(properties = &quot;spring.config.location=classpath:/application-test.yaml&quot;)\r\n```\r\n\r\n# Alternative solution\r\nAs mentioned above: with `.properties` files everything works as expected.\r\n\r\nAnother solution would be to transpile the `.yaml` to `.properties`.\r\n\r\nHere is a handy online converter: https://mageddo.com/tools/yaml-converter (note its inability to cope with comments)","title":"Override default Spring-Boot application.properties settings in Junit Test","body":"<h1>Setup</h1>\n<p>Using</p>\n<ul>\n<li>properties declared with <code>.yaml</code> file-ending</li>\n<li>Spring-Boot 2.7</li>\n<li>and multiple .yaml files in the classpath</li>\n</ul>\n<h1>Problem</h1>\n<p>I noticed that the precedence of <code>@TestPropertySource(locations)</code> was not applied as it would be with <code>.properties</code> files.</p>\n<p>The problem I was having was, that Spring kept loading all <code>.yaml</code> properties (especially those from production) and <strong>overriding</strong> the properties meant for the tests with the values specified for prod. (<em>sigh</em>)</p>\n<h1>Solution</h1>\n<p>We come up with the workaround of overwriting the config-scraping mechanism by specifying just my <code>application-test.yaml</code> as the only properties used like so:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>@TestPropertySource(properties = &quot;spring.config.location=classpath:/application-test.yaml&quot;)\n</code></pre>\n<h1>Alternative solution</h1>\n<p>As mentioned above: with <code>.properties</code> files everything works as expected.</p>\n<p>Another solution would be to transpile the <code>.yaml</code> to <code>.properties</code>.</p>\n<p>Here is a handy online converter: <a href=\"https://mageddo.com/tools/yaml-converter\" rel=\"nofollow noreferrer\">https://mageddo.com/tools/yaml-converter</a> (note its inability to cope with comments)</p>\n"},{"tags":[],"owner":{"account_id":1509886,"reputation":2831,"user_id":1412279,"display_name":"bebbo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674637747,"creation_date":1674637747,"answer_id":75231725,"question_id":29669393,"body_markdown":"If you really want/have to use `System.setProperties(...)` then use a Junit extension and annotate the test class:\r\n\r\n    ...\r\n    @ExtendWith(MyBeforeAllCallback.class)\r\n    public SomeTestClass ...\r\n\r\nand use the constructor of the callback to set the system properties.\r\n\r\n    public MyBeforeAllCallback implements BeforeAllCallback {\r\n        public MyBeforeAllCallback() {\r\n            // wicket 9 workaround for java 17 / cglib issue.\r\n            System.setProperty(&quot;wicket.ioc.useByteBuddy&quot;, &quot;true&quot;);\r\n            // ... whatever you want ...\r\n            System.setProperty(&quot;whatever&quot;, &quot;you need it badly&quot;);\r\n        }\r\n        void beforeAll(ExtensionContext context) {\r\n            // ... empty\r\n        }\r\n    }","title":"Override default Spring-Boot application.properties settings in Junit Test","body":"<p>If you really want/have to use <code>System.setProperties(...)</code> then use a Junit extension and annotate the test class:</p>\n<pre><code>...\n@ExtendWith(MyBeforeAllCallback.class)\npublic SomeTestClass ...\n</code></pre>\n<p>and use the constructor of the callback to set the system properties.</p>\n<pre><code>public MyBeforeAllCallback implements BeforeAllCallback {\n    public MyBeforeAllCallback() {\n        // wicket 9 workaround for java 17 / cglib issue.\n        System.setProperty(&quot;wicket.ioc.useByteBuddy&quot;, &quot;true&quot;);\n        // ... whatever you want ...\n        System.setProperty(&quot;whatever&quot;, &quot;you need it badly&quot;);\n    }\n    void beforeAll(ExtensionContext context) {\n        // ... empty\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":152633,"reputation":48313,"user_id":367285,"accept_rate":81,"display_name":"FrVaBe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":406099,"favorite_count":0,"down_vote_count":0,"up_vote_count":287,"accepted_answer_id":29673732,"answer_count":15,"score":287,"last_activity_date":1685625036,"creation_date":1429173172,"question_id":29669393,"body_markdown":"I have a Spring-Boot application where the default properties are set in an `application.properties` file in the classpath (src/main/resources/application.properties).\r\n\r\nI would like to override some default settings in my JUnit test with properties declared in a `test.properties` file (src/test/resources/test.properties)\r\n\r\nI usualy have a dedicated Config Class for my Junit Tests, e.g.\r\n\r\n    package foo.bar.test;\r\n    \r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.Import;\r\n    \r\n    @Configuration\r\n    @Import(CoreConfig.class)\r\n    @EnableAutoConfiguration\r\n    public class TestConfig {\r\n      \r\n    }\r\n\r\nI first thought that using `@PropertySource(&quot;classpath:test.properties&quot;)` in  the TestConfig class would do the trick, but these properties will not overwrite the application.properties settings (see Spring-Boot Reference Doc - [23. Externalized Configuration][1]).\r\n\r\nThen I tried to use `-Dspring.config.location=classpath:test.properties` when invoking the test. That was successful - but I don&#39;t want to set this system property for each test execution. Thus I put it in the code\r\n\r\n    @Configuration\r\n    @Import(CoreConfig.class)\r\n    @EnableAutoConfiguration\r\n    public class TestConfig {\r\n      \r\n      static {\r\n        System.setProperty(&quot;spring.config.location&quot;, &quot;classpath:test.properties&quot;);\r\n      }\r\n    \r\n    }\r\n\r\nwhich unfortunatly was again not successful.\r\n\r\nThere must be a simple solution on how to override `application.properties` settings in JUnit tests with `test.properties` that I must have overlooked.\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/1.2.3.RELEASE/reference/htmlsingle/#boot-features-external-config","title":"Override default Spring-Boot application.properties settings in Junit Test","body":"<p>I have a Spring-Boot application where the default properties are set in an <code>application.properties</code> file in the classpath (src/main/resources/application.properties).</p>\n\n<p>I would like to override some default settings in my JUnit test with properties declared in a <code>test.properties</code> file (src/test/resources/test.properties)</p>\n\n<p>I usualy have a dedicated Config Class for my Junit Tests, e.g.</p>\n\n<pre><code>package foo.bar.test;\n\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Import;\n\n@Configuration\n@Import(CoreConfig.class)\n@EnableAutoConfiguration\npublic class TestConfig {\n\n}\n</code></pre>\n\n<p>I first thought that using <code>@PropertySource(\"classpath:test.properties\")</code> in  the TestConfig class would do the trick, but these properties will not overwrite the application.properties settings (see Spring-Boot Reference Doc - <a href=\"http://docs.spring.io/spring-boot/docs/1.2.3.RELEASE/reference/htmlsingle/#boot-features-external-config\">23. Externalized Configuration</a>).</p>\n\n<p>Then I tried to use <code>-Dspring.config.location=classpath:test.properties</code> when invoking the test. That was successful - but I don't want to set this system property for each test execution. Thus I put it in the code</p>\n\n<pre><code>@Configuration\n@Import(CoreConfig.class)\n@EnableAutoConfiguration\npublic class TestConfig {\n\n  static {\n    System.setProperty(\"spring.config.location\", \"classpath:test.properties\");\n  }\n\n}\n</code></pre>\n\n<p>which unfortunatly was again not successful.</p>\n\n<p>There must be a simple solution on how to override <code>application.properties</code> settings in JUnit tests with <code>test.properties</code> that I must have overlooked.</p>\n"},{"tags":["java","spring","reactive-programming","spring-webflux"],"answers":[{"comments":[{"owner":{"account_id":2881551,"reputation":35,"user_id":2472336,"display_name":"Dmitry"},"score":1,"creation_date":1586098699,"post_id":61037494,"comment_id":107995270,"body_markdown":"Thank you @vins. I guess under the circumstances blocking is acceptable.","body":"Thank you @vins. I guess under the circumstances blocking is acceptable."}],"tags":[],"owner":{"account_id":3459421,"reputation":15080,"user_id":2897008,"accept_rate":73,"display_name":"vins"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1586055822,"creation_date":1586055822,"answer_id":61037494,"question_id":61035588,"body_markdown":"I created a simple bean.\r\n\r\n**Synchronous update:**\r\n\r\n    @Component\r\n    public class BeanTest {\r\n    \r\n        private String postConstructValue;\r\n    \r\n        @PostConstruct\r\n        public void init(){\r\n            try {\r\n                Thread.sleep(5000);\r\n                this.postConstructValue = &quot;Construction done&quot;;\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        @Scheduled(fixedRate = 500)\r\n        public void print(){\r\n            System.out.println(\r\n                    this.postConstructValue\r\n            );\r\n        }\r\n    \r\n    }\r\n\r\n - It took some time for app to start (more than 5 seconds) because we simulated some time consuming process in the post construct. Scheduled print method started printing only after the app started. It started printing &quot;Construction done&quot; message.\r\n\r\n**Asynchronous update:**\r\n\r\n    @Component\r\n    public class BeanTest {\r\n    \r\n        private String postConstructValue;\r\n    \r\n        @PostConstruct\r\n        public void init(){\r\n            Flux.just(&quot;Construction done&quot;)\r\n                    .delayElements(Duration.ofSeconds(5))\r\n                    .subscribe(s -&gt; this.postConstructValue = s);\r\n        }\r\n    \r\n        @Scheduled(fixedRate = 500)\r\n        public void print(){\r\n            System.out.println(\r\n                    this.postConstructValue\r\n            );\r\n        }\r\n    \r\n    }\r\n\r\n - Now in this approach, the app started within 2 seconds. Print method starting printing `null` for few seconds. Then it started printing &quot;Construction done&quot;. It does not terminate the Flux postConstruct value update. It happened asynchronously. \r\n\r\nReactive approach is good when you want a non-blocking behavior and getting something done asynchronously. If you think that your component creation should wait for proper construction, you have to block! Otherwise, you can go with second approach.  ","title":"Reactive calls in @PostConstruct function","body":"<p>I created a simple bean.</p>\n\n<p><strong>Synchronous update:</strong></p>\n\n<pre><code>@Component\npublic class BeanTest {\n\n    private String postConstructValue;\n\n    @PostConstruct\n    public void init(){\n        try {\n            Thread.sleep(5000);\n            this.postConstructValue = \"Construction done\";\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Scheduled(fixedRate = 500)\n    public void print(){\n        System.out.println(\n                this.postConstructValue\n        );\n    }\n\n}\n</code></pre>\n\n<ul>\n<li>It took some time for app to start (more than 5 seconds) because we simulated some time consuming process in the post construct. Scheduled print method started printing only after the app started. It started printing \"Construction done\" message.</li>\n</ul>\n\n<p><strong>Asynchronous update:</strong></p>\n\n<pre><code>@Component\npublic class BeanTest {\n\n    private String postConstructValue;\n\n    @PostConstruct\n    public void init(){\n        Flux.just(\"Construction done\")\n                .delayElements(Duration.ofSeconds(5))\n                .subscribe(s -&gt; this.postConstructValue = s);\n    }\n\n    @Scheduled(fixedRate = 500)\n    public void print(){\n        System.out.println(\n                this.postConstructValue\n        );\n    }\n\n}\n</code></pre>\n\n<ul>\n<li>Now in this approach, the app started within 2 seconds. Print method starting printing <code>null</code> for few seconds. Then it started printing \"Construction done\". It does not terminate the Flux postConstruct value update. It happened asynchronously. </li>\n</ul>\n\n<p>Reactive approach is good when you want a non-blocking behavior and getting something done asynchronously. If you think that your component creation should wait for proper construction, you have to block! Otherwise, you can go with second approach.  </p>\n"},{"tags":[],"owner":{"account_id":1557852,"reputation":4589,"user_id":1448419,"accept_rate":64,"display_name":"rcomblen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685624878,"creation_date":1685624878,"answer_id":76382224,"question_id":61035588,"body_markdown":"You can use `toFuture` to use the standard Java async mechanisms:\r\n\r\n    @PostConstruct\r\n    public void postConstruct() throws ExecutionException, InterruptedException {\r\n        log.info(&quot;Start postConstruct&quot;);\r\n        WebClient webClient = WebClient.create();\r\n        webClient.get().uri(...).retrieve()\r\n            .toEntity(String.class)\r\n            .flatMap((responseEntity) -&gt; {\r\n                log.info(&quot;Data retrieved.&quot;);\r\n                return Mono.just(true);\r\n             })\r\n             .toFuture()\r\n             .get();\r\n        log.info(&quot;Setup complete&quot;);\r\n    }\r\n\r\nAnd you&#39;ll get in the logs:\r\n\r\n    Start postConstruct\r\n    Data retrieved\r\n    Setup complete\r\n\r\nIn that order ...","title":"Reactive calls in @PostConstruct function","body":"<p>You can use <code>toFuture</code> to use the standard Java async mechanisms:</p>\n<pre><code>@PostConstruct\npublic void postConstruct() throws ExecutionException, InterruptedException {\n    log.info(&quot;Start postConstruct&quot;);\n    WebClient webClient = WebClient.create();\n    webClient.get().uri(...).retrieve()\n        .toEntity(String.class)\n        .flatMap((responseEntity) -&gt; {\n            log.info(&quot;Data retrieved.&quot;);\n            return Mono.just(true);\n         })\n         .toFuture()\n         .get();\n    log.info(&quot;Setup complete&quot;);\n}\n</code></pre>\n<p>And you'll get in the logs:</p>\n<pre><code>Start postConstruct\nData retrieved\nSetup complete\n</code></pre>\n<p>In that order ...</p>\n"}],"owner":{"account_id":2881551,"reputation":35,"user_id":2472336,"display_name":"Dmitry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1406,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61037494,"answer_count":2,"score":1,"last_activity_date":1685624878,"creation_date":1586039090,"question_id":61035588,"body_markdown":"Could somebody help me to do the following:\r\n```\r\n@PostContruct public void func() {\r\n   webclient.get()...subscribe();\r\n}\r\n```\r\nwebclient call will terminate after func() returns. Most likely it will happen before the first request comes in, but no guarantees. The other option is to block(), which defeats the purpose of being reactive.\r\n\r\nWhat would be the right way to make reactive calls in @PostConstruct methods?\r\n\r\nThank you.","title":"Reactive calls in @PostConstruct function","body":"<p>Could somebody help me to do the following:</p>\n\n<pre><code>@PostContruct public void func() {\n   webclient.get()...subscribe();\n}\n</code></pre>\n\n<p>webclient call will terminate after func() returns. Most likely it will happen before the first request comes in, but no guarantees. The other option is to block(), which defeats the purpose of being reactive.</p>\n\n<p>What would be the right way to make reactive calls in @PostConstruct methods?</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","spring","spring-boot","parsing","spring-el"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1685622731,"post_id":76381020,"comment_id":134687852,"body_markdown":"Does formula.expression in application.properties really have a period/fullstop at the end? How is formula.expression injected? &#39;@Value(&quot;${formula.expression}&quot;)","body":"Does formula.expression in application.properties really have a period/fullstop at the end? How is formula.expression injected? &#39;@Value(&quot;${formula.expression}&quot;)"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1685624944,"post_id":76381020,"comment_id":134688435,"body_markdown":"What does that period do in the end of your expression? The `loan` SpEL variable must be used as `#loan`. You can just have a unit test in Java to be sure that your expression is correct. For now it looks like there is some syntax typo, e.g. extra parenthesis. To be honest I wouldn&#39;t such a complex logic with SpEL: you always can have a static method with that one and call it from the expression. This has nothing to do with `scriptEngineManagaer`: SpEL is not a scripting language.","body":"What does that period do in the end of your expression? The <code>loan</code> SpEL variable must be used as <code>#loan</code>. You can just have a unit test in Java to be sure that your expression is correct. For now it looks like there is some syntax typo, e.g. extra parenthesis. To be honest I wouldn&#39;t such a complex logic with SpEL: you always can have a static method with that one and call it from the expression. This has nothing to do with <code>scriptEngineManagaer</code>: SpEL is not a scripting language."},{"owner":{"account_id":22682874,"reputation":137,"user_id":16852995,"display_name":"Karthik KK"},"score":0,"creation_date":1685670202,"post_id":76381020,"comment_id":134696767,"body_markdown":"@ArtemBilan I was trying to find the difference between due date and current date if the current date passes due date the formula becomes cur_date-due_date","body":"@ArtemBilan I was trying to find the difference between due date and current date if the current date passes due date the formula becomes cur_date-due_date"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1685710742,"post_id":76381020,"comment_id":134703114,"body_markdown":"Well, I didn&#39;t ask about the meaning of your expression: I just pointed to syntax errors. The syntax and logic must be covered by the unit test in your project. Probably after doing that you&#39;d have the question like this in the forum.","body":"Well, I didn&#39;t ask about the meaning of your expression: I just pointed to syntax errors. The syntax and logic must be covered by the unit test in your project. Probably after doing that you&#39;d have the question like this in the forum."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685624789,"creation_date":1685624789,"answer_id":76382209,"question_id":76381020,"body_markdown":"You have a typo in formula.expression - extra close parenthesis here loan.getDueDate().toLocalDate()**)** + 1, try:\r\n\r\n    formula.expression=T(java.lang.Math).max((1.0 / T(java.time.temporal.ChronoUnit).DAYS.between(T(java.time.LocalDate).now(), loan.getDueDate().toLocalDate() + 1)), T(java.time.temporal.ChronoUnit).DAYS.between(loan.getDueDate().toLocalDate(), T(java.time.LocalDate).now()))\r\n\r\n","title":"Spel Expression Parser not able to recognise and read the formula in application.properties in SpringBoot 3","body":"<p>You have a typo in formula.expression - extra close parenthesis here loan.getDueDate().toLocalDate()<strong>)</strong> + 1, try:</p>\n<pre><code>formula.expression=T(java.lang.Math).max((1.0 / T(java.time.temporal.ChronoUnit).DAYS.between(T(java.time.LocalDate).now(), loan.getDueDate().toLocalDate() + 1)), T(java.time.temporal.ChronoUnit).DAYS.between(loan.getDueDate().toLocalDate(), T(java.time.LocalDate).now()))\n</code></pre>\n"}],"owner":{"account_id":22682874,"reputation":137,"user_id":16852995,"display_name":"Karthik KK"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685624789,"creation_date":1685615787,"question_id":76381020,"body_markdown":"I have a formula stored in my application.properties as follows:-\r\n\r\n    formula.expression=T(java.lang.Math).max((1.0 / T(java.time.temporal.ChronoUnit).DAYS.between(T(java.time.LocalDate).now(), loan.getDueDate().toLocalDate()) + 1)), T(java.time.temporal.ChronoUnit).DAYS.between(loan.getDueDate().toLocalDate(), T(java.time.LocalDate).now())). \r\n\r\n T is a special operator  used for referencing types and invoking static methods.\r\nNow i am trying to update my urgencyFactor score by parsing the the formula stored in my application.properties,then evaluating it and then storing the result in my database. \r\nMy formula works properly if i store it in my service class and then evaluate it . But then if i store it in application.properties i get this error:-\r\n\r\n    java.lang.IllegalArgumentException: Error evaluating expression: T(java.lang.Math).max((1.0 / T(java.time.temporal.ChronoUnit).DAYS.between(T(java.time.LocalDate).now(), loan.getDueDate().toLocalDate()) + 1)), T(java.time.temporal.ChronoUnit).DAYS.between(loan.getDueDate().toLocalDate(), T(java.time.LocalDate).now()))\r\n    \tat com.realtimeDecision.realtimeDecision.Jobs.LoanPriorityScoreJob.convertExpression(LoanPriorityScoreJob.java:89) ~[classes/:na]\r\n    \tat com.realtimeDecision.realtimeDecision.Jobs.LoanPriorityScoreJob.updateLoanPriorityScoreJob1(LoanPriorityScoreJob.java:63) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n    \tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-6.0.7.jar:6.0.7]\r\n    \tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.0.7.jar:6.0.7]\r\n    \tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96) ~[spring-context-6.0.7.jar:6.0.7]\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577) ~[na:na]\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]\r\n    \tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1623) ~[na:na]\r\n    Caused by: org.springframework.expression.spel.SpelParseException: EL1041E: After parsing a valid expression, there is still more data in the expression: &#39;comma(,)&#39;\r\nI have tried using scriptEngineManagaer, MveL to parse and evaluate it nothing works.\r\n\r\nHere is my code:-\r\nJob class:-\r\n\r\n    public ResponseEntity&lt;?&gt; updateLoanPriorityScore() throws LoanNotFoundException, IncorrectStatusException {\r\n            long loanId = 0;\r\n            List&lt;Loan&gt; allLoans = loanRepo.findAll();\r\n            for (Loan loan : allLoans) {\r\n                loanId++;\r\n                Loan loan1 = new Loan();\r\n                Date date = new Date();\r\n                LoanPriorityScore loanPriorityScore = loanPriorityScoreRepo.findByLoanId(loanId);\r\n                if (loanPriorityScore != null) {\r\n                    if (loan.getStatus().equalsIgnoreCase(&quot;assigned&quot;) || loan.getStatus().equalsIgnoreCase(&quot;unassigned&quot;)) {\r\n                        LocalDate currentDate = LocalDate.now();\r\n                        LocalDate dueDate = loan.getDueDate().toLocalDate();\r\n                        String urgencyFactorExpression = formulaConfiguration.getUrgencyFactor();\r\n                        Double urgencyFactor = convertExpression(urgencyFactorExpression,loan);\r\n                        System.out.println(&quot;loannnnn &quot;+loan);\r\n    //                    String urgencyFactorExpression = formulaConfiguration.getUrgencyFactor();\r\n    //                    String urgencyFactorString = convertExpression(urgencyFactorExpression,loan);\r\n    //                    double urgencyFactor = evaluateExpression(currentDate,dueDate,urgencyFactorString);\r\n                        System.out.println(&quot;urgency factor expression inside updateLoanPs &quot;+urgencyFactorExpression);\r\n    \r\n    \r\n    //                    double urgencyFactor = Math.max((1.0 / (ChronoUnit.DAYS.between(currentDate, dueDate) + urgencyFactorDivisor)), ChronoUnit.DAYS.between(dueDate, currentDate) + urgencyFactorOffset);\r\n                        double loanPriorityScore1 = urgencyFactor;\r\n                        loanPriorityScore.setPriorityScore(loanPriorityScore1);\r\n                        loanPriorityScore.setUpdatedDate(date);\r\n                        loanPriorityScore.setCreatedDate(date);\r\n                        loanPriorityScoreRepo.save(loanPriorityScore);\r\n                    } else {\r\n                        loanPriorityScore.setUpdatedDate(date);\r\n                        loanPriorityScore.setCreatedDate(date);\r\n                        loanPriorityScore.setPriorityScore(0.0);\r\n                        loanPriorityScoreRepo.save(loanPriorityScore);\r\n                    }\r\n                }\r\n            }\r\n            return ResponseEntity.ok(&quot;Success&quot;);\r\n        }\r\n\r\nHere it works properly if i store it in database as :`-double urgencyFactor = Math.max((1.0 / (ChronoUnit.DAYS.between(currentDate, dueDate) + urgencyFactorDivisor)), ChronoUnit.DAYS.between(dueDate, currentDate) + urgencyFactorOffset);` \r\nBut as soon as  I use convertExpression it dosent work here is the code for it:-\r\n\r\n    private double convertExpression(String expression,Loan loan) {\r\n        System.out.println(&quot;dueDate&quot;+loan.getDueDate());\r\n        try {\r\n            System.out.println(&quot;exp&quot;+expression);\r\n            ExpressionParser parser = new SpelExpressionParser();\r\n            StandardEvaluationContext evaluationContext = new StandardEvaluationContext();\r\n            evaluationContext.setVariable(&quot;loan&quot;, loan);\r\n            Expression exp = parser.parseExpression(expression);\r\n            System.out.println(exp+&quot;jhasbufwqfi&quot;);\r\n            Double evaluatedValue = exp.getValue(evaluationContext, Double.class);\r\n            System.out.println(&quot;evaluated&quot;+evaluatedValue);\r\n            return evaluatedValue;\r\n        } catch (Exception e) {\r\n            throw new IllegalArgumentException(&quot;Error evaluating expression: &quot; + expression, e);\r\n        }\r\n    }","title":"Spel Expression Parser not able to recognise and read the formula in application.properties in SpringBoot 3","body":"<p>I have a formula stored in my application.properties as follows:-</p>\n<pre><code>formula.expression=T(java.lang.Math).max((1.0 / T(java.time.temporal.ChronoUnit).DAYS.between(T(java.time.LocalDate).now(), loan.getDueDate().toLocalDate()) + 1)), T(java.time.temporal.ChronoUnit).DAYS.between(loan.getDueDate().toLocalDate(), T(java.time.LocalDate).now())). \n</code></pre>\n<p>T is a special operator  used for referencing types and invoking static methods.\nNow i am trying to update my urgencyFactor score by parsing the the formula stored in my application.properties,then evaluating it and then storing the result in my database.\nMy formula works properly if i store it in my service class and then evaluate it . But then if i store it in application.properties i get this error:-</p>\n<pre><code>java.lang.IllegalArgumentException: Error evaluating expression: T(java.lang.Math).max((1.0 / T(java.time.temporal.ChronoUnit).DAYS.between(T(java.time.LocalDate).now(), loan.getDueDate().toLocalDate()) + 1)), T(java.time.temporal.ChronoUnit).DAYS.between(loan.getDueDate().toLocalDate(), T(java.time.LocalDate).now()))\n    at com.realtimeDecision.realtimeDecision.Jobs.LoanPriorityScoreJob.convertExpression(LoanPriorityScoreJob.java:89) ~[classes/:na]\n    at com.realtimeDecision.realtimeDecision.Jobs.LoanPriorityScoreJob.updateLoanPriorityScoreJob1(LoanPriorityScoreJob.java:63) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96) ~[spring-context-6.0.7.jar:6.0.7]\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:1623) ~[na:na]\nCaused by: org.springframework.expression.spel.SpelParseException: EL1041E: After parsing a valid expression, there is still more data in the expression: 'comma(,)'\n</code></pre>\n<p>I have tried using scriptEngineManagaer, MveL to parse and evaluate it nothing works.</p>\n<p>Here is my code:-\nJob class:-</p>\n<pre><code>public ResponseEntity&lt;?&gt; updateLoanPriorityScore() throws LoanNotFoundException, IncorrectStatusException {\n        long loanId = 0;\n        List&lt;Loan&gt; allLoans = loanRepo.findAll();\n        for (Loan loan : allLoans) {\n            loanId++;\n            Loan loan1 = new Loan();\n            Date date = new Date();\n            LoanPriorityScore loanPriorityScore = loanPriorityScoreRepo.findByLoanId(loanId);\n            if (loanPriorityScore != null) {\n                if (loan.getStatus().equalsIgnoreCase(&quot;assigned&quot;) || loan.getStatus().equalsIgnoreCase(&quot;unassigned&quot;)) {\n                    LocalDate currentDate = LocalDate.now();\n                    LocalDate dueDate = loan.getDueDate().toLocalDate();\n                    String urgencyFactorExpression = formulaConfiguration.getUrgencyFactor();\n                    Double urgencyFactor = convertExpression(urgencyFactorExpression,loan);\n                    System.out.println(&quot;loannnnn &quot;+loan);\n//                    String urgencyFactorExpression = formulaConfiguration.getUrgencyFactor();\n//                    String urgencyFactorString = convertExpression(urgencyFactorExpression,loan);\n//                    double urgencyFactor = evaluateExpression(currentDate,dueDate,urgencyFactorString);\n                    System.out.println(&quot;urgency factor expression inside updateLoanPs &quot;+urgencyFactorExpression);\n\n\n//                    double urgencyFactor = Math.max((1.0 / (ChronoUnit.DAYS.between(currentDate, dueDate) + urgencyFactorDivisor)), ChronoUnit.DAYS.between(dueDate, currentDate) + urgencyFactorOffset);\n                    double loanPriorityScore1 = urgencyFactor;\n                    loanPriorityScore.setPriorityScore(loanPriorityScore1);\n                    loanPriorityScore.setUpdatedDate(date);\n                    loanPriorityScore.setCreatedDate(date);\n                    loanPriorityScoreRepo.save(loanPriorityScore);\n                } else {\n                    loanPriorityScore.setUpdatedDate(date);\n                    loanPriorityScore.setCreatedDate(date);\n                    loanPriorityScore.setPriorityScore(0.0);\n                    loanPriorityScoreRepo.save(loanPriorityScore);\n                }\n            }\n        }\n        return ResponseEntity.ok(&quot;Success&quot;);\n    }\n</code></pre>\n<p>Here it works properly if i store it in database as :<code>-double urgencyFactor = Math.max((1.0 / (ChronoUnit.DAYS.between(currentDate, dueDate) + urgencyFactorDivisor)), ChronoUnit.DAYS.between(dueDate, currentDate) + urgencyFactorOffset);</code>\nBut as soon as  I use convertExpression it dosent work here is the code for it:-</p>\n<pre><code>private double convertExpression(String expression,Loan loan) {\n    System.out.println(&quot;dueDate&quot;+loan.getDueDate());\n    try {\n        System.out.println(&quot;exp&quot;+expression);\n        ExpressionParser parser = new SpelExpressionParser();\n        StandardEvaluationContext evaluationContext = new StandardEvaluationContext();\n        evaluationContext.setVariable(&quot;loan&quot;, loan);\n        Expression exp = parser.parseExpression(expression);\n        System.out.println(exp+&quot;jhasbufwqfi&quot;);\n        Double evaluatedValue = exp.getValue(evaluationContext, Double.class);\n        System.out.println(&quot;evaluated&quot;+evaluatedValue);\n        return evaluatedValue;\n    } catch (Exception e) {\n        throw new IllegalArgumentException(&quot;Error evaluating expression: &quot; + expression, e);\n    }\n}\n</code></pre>\n"},{"tags":["java","hadoop","apache-spark","hive","snappy"],"answers":[{"tags":[],"owner":{"account_id":9537271,"reputation":131,"user_id":7087009,"display_name":"Thomas Maxwell"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1477760773,"creation_date":1477683504,"answer_id":40312141,"question_id":35418018,"body_markdown":"This issue occurs when (for security reasons) `/tmp` is mounted non-exec.  I ran into the same problem and our sysadmin fixed it by remounting `/tmp` as exec.","title":"spark returns error libsnappyjava.so: failed to map segment from shared object: Operation not permitted","body":"<p>This issue occurs when (for security reasons) <code>/tmp</code> is mounted non-exec.  I ran into the same problem and our sysadmin fixed it by remounting <code>/tmp</code> as exec.</p>\n"},{"tags":[],"owner":{"account_id":8862649,"reputation":11,"user_id":6618563,"display_name":"Daniel Gitau"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618673057,"creation_date":1618566338,"answer_id":67122917,"question_id":35418018,"body_markdown":"This worked for me.\r\n\r\n    sudo mount -o remount,exec /tmp\r\n\r\nMore details on [this Ask Ubuntu question](https://askubuntu.com/questions/311438/how-to-make-tmp-executable)\r\n\r\n","title":"spark returns error libsnappyjava.so: failed to map segment from shared object: Operation not permitted","body":"<p>This worked for me.</p>\n<pre><code>sudo mount -o remount,exec /tmp\n</code></pre>\n<p>More details on <a href=\"https://askubuntu.com/questions/311438/how-to-make-tmp-executable\">this Ask Ubuntu question</a></p>\n"},{"comments":[{"owner":{"account_id":26216193,"reputation":1,"user_id":19894301,"display_name":"Saberedo"},"score":0,"creation_date":1686450644,"post_id":76377880,"comment_id":134799656,"body_markdown":"Got similar error on Hive, It worked for me too:\n\nsudo mount -o remount,exec /tmp","body":"Got similar error on Hive, It worked for me too:  sudo mount -o remount,exec /tmp"}],"tags":[],"owner":{"account_id":26216193,"reputation":1,"user_id":19894301,"display_name":"Saberedo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685624750,"creation_date":1685576460,"answer_id":76377880,"question_id":35418018,"body_markdown":"This worked for me:\r\n```\r\nsudo mount -o remount,exec /tmp\r\n```\r\n\r\nHowever, after remounting /tmp with exec, I had to enable 777 on the /tmp. before it eventually worked.  \r\nI also did same on all the cluster nodes.\r\n\r\n","title":"spark returns error libsnappyjava.so: failed to map segment from shared object: Operation not permitted","body":"<p>This worked for me:</p>\n<pre><code>sudo mount -o remount,exec /tmp\n</code></pre>\n<p>However, after remounting /tmp with exec, I had to enable 777 on the /tmp. before it eventually worked.<br />\nI also did same on all the cluster nodes.</p>\n"}],"owner":{"account_id":4138802,"reputation":2159,"user_id":3818405,"accept_rate":68,"display_name":"paolov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7466,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1685624750,"creation_date":1455566463,"question_id":35418018,"body_markdown":"I have just extracted and setup spark 1.6.0 into environment that has a fresh install of hadoop 2.6.0 and hive 0.14.\r\n\r\nI have verified that hive, beeline and mapreduce works fine on examples.\r\n\r\nHowever, as soon as I run `sc.textfile()` within spark-shell, it returns an error:\r\n\r\n\r\n    $ spark-shell\r\n    Welcome to\r\n          ____              __\r\n         / __/__  ___ _____/ /__\r\n        _\\ \\/ _ \\/ _ `/ __/  &#39;_/\r\n       /___/ .__/\\_,_/_/ /_/\\_\\   version 1.6.0\r\n          /_/\r\n    \r\n    Using Scala version 2.10.5 (Java HotSpot(TM) 64-Bit Server VM, Java 1.7.0_67)\r\n    Type in expressions to have them evaluated.\r\n    Type :help for more information.\r\n    Spark context available as sc.\r\n    SQL context available as sqlContext.\r\n    \r\n    scala&gt; val textFile = sc.textFile(&quot;README.md&quot;)\r\n    java.lang.IllegalArgumentException: java.lang.UnsatisfiedLinkError: /tmp/snappy-1.1.2-2ccaf764-c7c4-4ff1-a68e-bbfdec0a3aa1-libsnappyjava.so: /tmp/snappy-1.1.2-2ccaf764-c7c4-4ff1-a68e-bbfdec0a3aa1-libsnappyjava.so: failed to map segment from shared object: Operation not permitted\r\n            at org.apache.spark.io.SnappyCompressionCodec.&lt;init&gt;(CompressionCodec.scala:156)\r\n            at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n            at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\r\n            at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n            at java.lang.reflect.Constructor.newInstance(Constructor.java:526)\r\n            at org.apache.spark.io.CompressionCodec$.createCodec(CompressionCodec.scala:72)\r\n            at org.apache.spark.io.CompressionCodec$.createCodec(CompressionCodec.scala:65)\r\n            at org.apache.spark.broadcast.TorrentBroadcast.org$apache$spark$broadcast$TorrentBroadcast$$setConf(TorrentBroadcast.scala:73)\r\n            at org.apache.spark.broadcast.TorrentBroadcast.&lt;init&gt;(TorrentBroadcast.scala:80)\r\n            at org.apache.spark.broadcast.TorrentBroadcastFactory.newBroadcast(TorrentBroadcastFactory.scala:34)\r\n            at org.apache.spark.broadcast.BroadcastManager.newBroadcast(BroadcastManager.scala:63)\r\n            at org.apache.spark.SparkContext.broadcast(SparkContext.scala:1326)\r\n            at org.apache.spark.SparkContext$$anonfun$hadoopFile$1.apply(SparkContext.scala:1014)\r\n            at org.apache.spark.SparkContext$$anonfun$hadoopFile$1.apply(SparkContext.scala:1011)\r\n            at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:150)\r\n            at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:111)\r\n            at org.apache.spark.SparkContext.withScope(SparkContext.scala:714)\r\n            at org.apache.spark.SparkContext.hadoopFile(SparkContext.scala:1011)\r\n            at org.apache.spark.SparkContext$$anonfun$textFile$1.apply(SparkContext.scala:832)\r\n            at org.apache.spark.SparkContext$$anonfun$textFile$1.apply(SparkContext.scala:830)\r\n            at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:150)\r\n            at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:111)\r\n            at org.apache.spark.SparkContext.withScope(SparkContext.scala:714)\r\n            at org.apache.spark.SparkContext.textFile(SparkContext.scala:830)\r\n            at $iwC$$iwC$$iwC$$iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:27)\r\n            at $iwC$$iwC$$iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:32)\r\n            at $iwC$$iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:34)\r\n            at $iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:36)\r\n            at $iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:38)\r\n            at $iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:40)\r\n            at $iwC$$iwC.&lt;init&gt;(&lt;console&gt;:42)\r\n            at $iwC.&lt;init&gt;(&lt;console&gt;:44)\r\n            at &lt;init&gt;(&lt;console&gt;:46)\r\n            at .&lt;init&gt;(&lt;console&gt;:50)\r\n            at .&lt;clinit&gt;(&lt;console&gt;)\r\n            at .&lt;init&gt;(&lt;console&gt;:7)\r\n            at .&lt;clinit&gt;(&lt;console&gt;)\r\n            at $print(&lt;console&gt;)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:606)\r\n            at org.apache.spark.repl.SparkIMain$ReadEvalPrint.call(SparkIMain.scala:1065)\r\n            at org.apache.spark.repl.SparkIMain$Request.loadAndRun(SparkIMain.scala:1346)\r\n            at org.apache.spark.repl.SparkIMain.loadAndRunReq$1(SparkIMain.scala:840)\r\n            at org.apache.spark.repl.SparkIMain.interpret(SparkIMain.scala:871)\r\n            at org.apache.spark.repl.SparkIMain.interpret(SparkIMain.scala:819)\r\n            at org.apache.spark.repl.SparkILoop.reallyInterpret$1(SparkILoop.scala:857)\r\n            at org.apache.spark.repl.SparkILoop.interpretStartingWith(SparkILoop.scala:902)\r\n            at org.apache.spark.repl.SparkILoop.command(SparkILoop.scala:814)\r\n            at org.apache.spark.repl.SparkILoop.processLine$1(SparkILoop.scala:657)\r\n            at org.apache.spark.repl.SparkILoop.innerLoop$1(SparkILoop.scala:665)\r\n            at org.apache.spark.repl.SparkILoop.org$apache$spark$repl$SparkILoop$$loop(SparkILoop.scala:670)\r\n            at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply$mcZ$sp(SparkILoop.scala:997)\r\n            at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply(SparkILoop.scala:945)\r\n            at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply(SparkILoop.scala:945)\r\n            at scala.tools.nsc.util.ScalaClassLoader$.savingContextLoader(ScalaClassLoader.scala:135)\r\n            at org.apache.spark.repl.SparkILoop.org$apache$spark$repl$SparkILoop$$process(SparkILoop.scala:945)\r\n            at org.apache.spark.repl.SparkILoop.process(SparkILoop.scala:1059)\r\n            at org.apache.spark.repl.Main$.main(Main.scala:31)\r\n            at org.apache.spark.repl.Main.main(Main.scala)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:606)\r\n            at org.apache.spark.deploy.SparkSubmit$.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:731)\r\n            at org.apache.spark.deploy.SparkSubmit$.doRunMain$1(SparkSubmit.scala:181)\r\n            at org.apache.spark.deploy.SparkSubmit$.submit(SparkSubmit.scala:206)\r\n            at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:121)\r\n            at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\n    Caused by: java.lang.UnsatisfiedLinkError: /tmp/snappy-1.1.2-2ccaf764-c7c4-4ff1-a68e-bbfdec0a3aa1-libsnappyjava.so: /tmp/snappy-1.1.2-2ccaf764-c7c4-4ff1-a68e-bbfdec0a3aa1-libsnappyjava.so: failed to map segment from shared object: Operation not permitted\r\n            at java.lang.ClassLoader$NativeLibrary.load(Native Method)\r\n            at java.lang.ClassLoader.loadLibrary1(ClassLoader.java:1965)\r\n            at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1890)\r\n            at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1851)\r\n            at java.lang.Runtime.load0(Runtime.java:795)\r\n            at java.lang.System.load(System.java:1062)\r\n            at org.xerial.snappy.SnappyLoader.loadNativeLibrary(SnappyLoader.java:174)\r\n            at org.xerial.snappy.SnappyLoader.load(SnappyLoader.java:152)\r\n            at org.xerial.snappy.Snappy.&lt;clinit&gt;(Snappy.java:46)\r\n            at org.apache.spark.io.SnappyCompressionCodec.&lt;init&gt;(CompressionCodec.scala:154)\r\n            ... 69 more\r\n\r\n\r\nThere is not a lot in spark&#39;s conf. The setup for spark were as per:\r\nhttp://www.tutorialspoint.com/apache_spark/apache_spark_installation.htm\r\n\r\nI have already made certain that everything in /tmp is world accessible (uog+rwx).\r\n\r\nAny advice/ideas would be much appreciated.\r\n\r\n","title":"spark returns error libsnappyjava.so: failed to map segment from shared object: Operation not permitted","body":"<p>I have just extracted and setup spark 1.6.0 into environment that has a fresh install of hadoop 2.6.0 and hive 0.14.</p>\n\n<p>I have verified that hive, beeline and mapreduce works fine on examples.</p>\n\n<p>However, as soon as I run <code>sc.textfile()</code> within spark-shell, it returns an error:</p>\n\n<pre><code>$ spark-shell\nWelcome to\n      ____              __\n     / __/__  ___ _____/ /__\n    _\\ \\/ _ \\/ _ `/ __/  '_/\n   /___/ .__/\\_,_/_/ /_/\\_\\   version 1.6.0\n      /_/\n\nUsing Scala version 2.10.5 (Java HotSpot(TM) 64-Bit Server VM, Java 1.7.0_67)\nType in expressions to have them evaluated.\nType :help for more information.\nSpark context available as sc.\nSQL context available as sqlContext.\n\nscala&gt; val textFile = sc.textFile(\"README.md\")\njava.lang.IllegalArgumentException: java.lang.UnsatisfiedLinkError: /tmp/snappy-1.1.2-2ccaf764-c7c4-4ff1-a68e-bbfdec0a3aa1-libsnappyjava.so: /tmp/snappy-1.1.2-2ccaf764-c7c4-4ff1-a68e-bbfdec0a3aa1-libsnappyjava.so: failed to map segment from shared object: Operation not permitted\n        at org.apache.spark.io.SnappyCompressionCodec.&lt;init&gt;(CompressionCodec.scala:156)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:526)\n        at org.apache.spark.io.CompressionCodec$.createCodec(CompressionCodec.scala:72)\n        at org.apache.spark.io.CompressionCodec$.createCodec(CompressionCodec.scala:65)\n        at org.apache.spark.broadcast.TorrentBroadcast.org$apache$spark$broadcast$TorrentBroadcast$$setConf(TorrentBroadcast.scala:73)\n        at org.apache.spark.broadcast.TorrentBroadcast.&lt;init&gt;(TorrentBroadcast.scala:80)\n        at org.apache.spark.broadcast.TorrentBroadcastFactory.newBroadcast(TorrentBroadcastFactory.scala:34)\n        at org.apache.spark.broadcast.BroadcastManager.newBroadcast(BroadcastManager.scala:63)\n        at org.apache.spark.SparkContext.broadcast(SparkContext.scala:1326)\n        at org.apache.spark.SparkContext$$anonfun$hadoopFile$1.apply(SparkContext.scala:1014)\n        at org.apache.spark.SparkContext$$anonfun$hadoopFile$1.apply(SparkContext.scala:1011)\n        at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:150)\n        at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:111)\n        at org.apache.spark.SparkContext.withScope(SparkContext.scala:714)\n        at org.apache.spark.SparkContext.hadoopFile(SparkContext.scala:1011)\n        at org.apache.spark.SparkContext$$anonfun$textFile$1.apply(SparkContext.scala:832)\n        at org.apache.spark.SparkContext$$anonfun$textFile$1.apply(SparkContext.scala:830)\n        at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:150)\n        at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:111)\n        at org.apache.spark.SparkContext.withScope(SparkContext.scala:714)\n        at org.apache.spark.SparkContext.textFile(SparkContext.scala:830)\n        at $iwC$$iwC$$iwC$$iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:27)\n        at $iwC$$iwC$$iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:32)\n        at $iwC$$iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:34)\n        at $iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:36)\n        at $iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:38)\n        at $iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:40)\n        at $iwC$$iwC.&lt;init&gt;(&lt;console&gt;:42)\n        at $iwC.&lt;init&gt;(&lt;console&gt;:44)\n        at &lt;init&gt;(&lt;console&gt;:46)\n        at .&lt;init&gt;(&lt;console&gt;:50)\n        at .&lt;clinit&gt;(&lt;console&gt;)\n        at .&lt;init&gt;(&lt;console&gt;:7)\n        at .&lt;clinit&gt;(&lt;console&gt;)\n        at $print(&lt;console&gt;)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.apache.spark.repl.SparkIMain$ReadEvalPrint.call(SparkIMain.scala:1065)\n        at org.apache.spark.repl.SparkIMain$Request.loadAndRun(SparkIMain.scala:1346)\n        at org.apache.spark.repl.SparkIMain.loadAndRunReq$1(SparkIMain.scala:840)\n        at org.apache.spark.repl.SparkIMain.interpret(SparkIMain.scala:871)\n        at org.apache.spark.repl.SparkIMain.interpret(SparkIMain.scala:819)\n        at org.apache.spark.repl.SparkILoop.reallyInterpret$1(SparkILoop.scala:857)\n        at org.apache.spark.repl.SparkILoop.interpretStartingWith(SparkILoop.scala:902)\n        at org.apache.spark.repl.SparkILoop.command(SparkILoop.scala:814)\n        at org.apache.spark.repl.SparkILoop.processLine$1(SparkILoop.scala:657)\n        at org.apache.spark.repl.SparkILoop.innerLoop$1(SparkILoop.scala:665)\n        at org.apache.spark.repl.SparkILoop.org$apache$spark$repl$SparkILoop$$loop(SparkILoop.scala:670)\n        at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply$mcZ$sp(SparkILoop.scala:997)\n        at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply(SparkILoop.scala:945)\n        at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply(SparkILoop.scala:945)\n        at scala.tools.nsc.util.ScalaClassLoader$.savingContextLoader(ScalaClassLoader.scala:135)\n        at org.apache.spark.repl.SparkILoop.org$apache$spark$repl$SparkILoop$$process(SparkILoop.scala:945)\n        at org.apache.spark.repl.SparkILoop.process(SparkILoop.scala:1059)\n        at org.apache.spark.repl.Main$.main(Main.scala:31)\n        at org.apache.spark.repl.Main.main(Main.scala)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.apache.spark.deploy.SparkSubmit$.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:731)\n        at org.apache.spark.deploy.SparkSubmit$.doRunMain$1(SparkSubmit.scala:181)\n        at org.apache.spark.deploy.SparkSubmit$.submit(SparkSubmit.scala:206)\n        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:121)\n        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\nCaused by: java.lang.UnsatisfiedLinkError: /tmp/snappy-1.1.2-2ccaf764-c7c4-4ff1-a68e-bbfdec0a3aa1-libsnappyjava.so: /tmp/snappy-1.1.2-2ccaf764-c7c4-4ff1-a68e-bbfdec0a3aa1-libsnappyjava.so: failed to map segment from shared object: Operation not permitted\n        at java.lang.ClassLoader$NativeLibrary.load(Native Method)\n        at java.lang.ClassLoader.loadLibrary1(ClassLoader.java:1965)\n        at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1890)\n        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1851)\n        at java.lang.Runtime.load0(Runtime.java:795)\n        at java.lang.System.load(System.java:1062)\n        at org.xerial.snappy.SnappyLoader.loadNativeLibrary(SnappyLoader.java:174)\n        at org.xerial.snappy.SnappyLoader.load(SnappyLoader.java:152)\n        at org.xerial.snappy.Snappy.&lt;clinit&gt;(Snappy.java:46)\n        at org.apache.spark.io.SnappyCompressionCodec.&lt;init&gt;(CompressionCodec.scala:154)\n        ... 69 more\n</code></pre>\n\n<p>There is not a lot in spark's conf. The setup for spark were as per:\n<a href=\"http://www.tutorialspoint.com/apache_spark/apache_spark_installation.htm\" rel=\"noreferrer\">http://www.tutorialspoint.com/apache_spark/apache_spark_installation.htm</a></p>\n\n<p>I have already made certain that everything in /tmp is world accessible (uog+rwx).</p>\n\n<p>Any advice/ideas would be much appreciated.</p>\n"},{"tags":["java","eclipse","antlr4"],"comments":[{"owner":{"account_id":6128906,"reputation":1172,"user_id":4779853,"display_name":"kaby76"},"score":0,"creation_date":1685574838,"post_id":76377485,"comment_id":134681086,"body_markdown":"You must use an EOF-terminated start rule if you want the parser to consume all input. `start: condition EOF ;`","body":"You must use an EOF-terminated start rule if you want the parser to consume all input. <code>start: condition EOF ;</code>"},{"owner":{"account_id":6128906,"reputation":1172,"user_id":4779853,"display_name":"kaby76"},"score":0,"creation_date":1685627868,"post_id":76377485,"comment_id":134689279,"body_markdown":"Also, you should know that if the lexer cannot lex the input, it will not throw an error. You will need to keep track of the number of errors the lexer sees, and then throw an error after parsing.","body":"Also, you should know that if the lexer cannot lex the input, it will not throw an error. You will need to keep track of the number of errors the lexer sees, and then throw an error after parsing."},{"owner":{"account_id":7047665,"reputation":3,"user_id":5397960,"display_name":"S. DAN"},"score":1,"creation_date":1685719857,"post_id":76377485,"comment_id":134705251,"body_markdown":"Thanks a lot @kaby76 for the hints. It solved the problem.","body":"Thanks a lot @kaby76 for the hints. It solved the problem."}],"answers":[{"tags":[],"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685624720,"creation_date":1685624720,"answer_id":76382199,"question_id":76377485,"body_markdown":"For the input `id = 889xx88 OR y = 7`, the lexer will produce the following 9 tokens:\r\n\r\n - `IDENT`: `id`\r\n - `&#39;=&#39;`: `=`\r\n - `NUM`: `889`\r\n - `IDENT`: `xx`\r\n - `NUM`: `88`\r\n - `&#39;OR&#39;`: `OR`\r\n - `IDENT`: `y`\r\n - `&#39;=&#39;`: `=`\r\n - `NUM`: `7`\r\n\r\nIf you now let the parser rule `condition` consume these tokens, it happily creates `IDENT = NUM` (`id = 889`) from these tokens and will then stop parsing.\r\n\r\nAs mentioned by kaby76 in the comments: create a start rule that contains the built-in `EOF` (end-of-file) token to make sure *all* tokens are consumed (or an error will be reported, if it cannot do so):\r\n\r\n```\r\nstart\r\n : condition EOF\r\n ;\r\n```\r\n\r\nNote that chances are that the parser will only print an error to your STDERR and will (try to) continue parsing after the error. This is the default error recovery mode of ANTLR. If you want to change that, try searching for &quot;ANTLR custom error recovery&quot; or &quot;ANTLR custom error handler&quot; (or similar).","title":"Why does ANTLR parser not throw an error for invalid numerical input in Java?","body":"<p>For the input <code>id = 889xx88 OR y = 7</code>, the lexer will produce the following 9 tokens:</p>\n<ul>\n<li><code>IDENT</code>: <code>id</code></li>\n<li><code>'='</code>: <code>=</code></li>\n<li><code>NUM</code>: <code>889</code></li>\n<li><code>IDENT</code>: <code>xx</code></li>\n<li><code>NUM</code>: <code>88</code></li>\n<li><code>'OR'</code>: <code>OR</code></li>\n<li><code>IDENT</code>: <code>y</code></li>\n<li><code>'='</code>: <code>=</code></li>\n<li><code>NUM</code>: <code>7</code></li>\n</ul>\n<p>If you now let the parser rule <code>condition</code> consume these tokens, it happily creates <code>IDENT = NUM</code> (<code>id = 889</code>) from these tokens and will then stop parsing.</p>\n<p>As mentioned by kaby76 in the comments: create a start rule that contains the built-in <code>EOF</code> (end-of-file) token to make sure <em>all</em> tokens are consumed (or an error will be reported, if it cannot do so):</p>\n<pre><code>start\n : condition EOF\n ;\n</code></pre>\n<p>Note that chances are that the parser will only print an error to your STDERR and will (try to) continue parsing after the error. This is the default error recovery mode of ANTLR. If you want to change that, try searching for &quot;ANTLR custom error recovery&quot; or &quot;ANTLR custom error handler&quot; (or similar).</p>\n"}],"owner":{"account_id":7047665,"reputation":3,"user_id":5397960,"display_name":"S. DAN"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76382199,"answer_count":1,"score":0,"last_activity_date":1685624720,"creation_date":1685569368,"question_id":76377485,"body_markdown":"I built following ANTLR grammar (antlr4-runtime-4.13.0) for a simple condition:\r\n\r\n```\r\ngrammar Condition;\r\n\r\n@header {\r\npackage expression;\r\n}\r\n\r\ncondition\r\n    :(expression)(&#39;OR&#39; expression)*\r\n    ;\r\n\t\r\nexpression\r\n    : IDENT &#39;=&#39; NUM\r\n    ;\r\n\t\r\nIDENT : (&#39;a&#39;..&#39;z&#39; | &#39;A&#39;..&#39;Z&#39;)+;\r\nNUM   : [0-9]+;\r\nWS    : [ \\t\\r\\n]+ -&gt; skip;\r\n```\r\nI used this Java main test it:\r\n\r\n```\r\npublic class TestANTLRGrammar extends ConditionBaseListener   {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tString entry = &quot;id = 889xx88 OR y = 7&quot;;\r\n\t\tConditionLexer lexer = new ConditionLexer(CharStreams.fromString(entry));\r\n\t\tTokenStream tokens = new CommonTokenStream(lexer);\r\n\t\tConditionParser parser = new ConditionParser(tokens);\r\n\t\tparser.condition();\r\n\t\tSystem.out.println(parser.getNumberOfSyntaxErrors());\r\n\t}\r\n}\r\n```\r\nI expected the parser to throw an error because &quot;889xx88&quot; shouldn&#39;t be considered as number but the parser identified &quot;id = 889&quot; and stops without continuing to the rest of the condition (i.e. &quot;OR y = 7&quot;). \r\nThe function getNumberOfSyntaxErrors() displayed &quot;0&quot;. \r\nCan anyone help me to fix this problem, please ?\r\n\r\n\r\n\r\nI expected the parser to throw an error as explained above.","title":"Why does ANTLR parser not throw an error for invalid numerical input in Java?","body":"<p>I built following ANTLR grammar (antlr4-runtime-4.13.0) for a simple condition:</p>\n<pre><code>grammar Condition;\n\n@header {\npackage expression;\n}\n\ncondition\n    :(expression)('OR' expression)*\n    ;\n    \nexpression\n    : IDENT '=' NUM\n    ;\n    \nIDENT : ('a'..'z' | 'A'..'Z')+;\nNUM   : [0-9]+;\nWS    : [ \\t\\r\\n]+ -&gt; skip;\n</code></pre>\n<p>I used this Java main test it:</p>\n<pre><code>public class TestANTLRGrammar extends ConditionBaseListener   {\n    \n    public static void main(String[] args) {\n        String entry = &quot;id = 889xx88 OR y = 7&quot;;\n        ConditionLexer lexer = new ConditionLexer(CharStreams.fromString(entry));\n        TokenStream tokens = new CommonTokenStream(lexer);\n        ConditionParser parser = new ConditionParser(tokens);\n        parser.condition();\n        System.out.println(parser.getNumberOfSyntaxErrors());\n    }\n}\n</code></pre>\n<p>I expected the parser to throw an error because &quot;889xx88&quot; shouldn't be considered as number but the parser identified &quot;id = 889&quot; and stops without continuing to the rest of the condition (i.e. &quot;OR y = 7&quot;).\nThe function getNumberOfSyntaxErrors() displayed &quot;0&quot;.\nCan anyone help me to fix this problem, please ?</p>\n<p>I expected the parser to throw an error as explained above.</p>\n"},{"tags":["java","kubernetes","spring-security","keycloak","spring-cloud-gateway"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1685644273,"post_id":76382182,"comment_id":134693106,"body_markdown":"Keycloak adapters for Spring are deprecated and incompatible with Boot 3 / Security 6. Plus spring-cloud-gateway is a reactive application and keycloak adapters where designed for servlets. Refer to [my tutorials](https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials) (main README first and then BFF tutorial) to configure your gateway properly. Only then, will you get a chance to have it work in k8s (my BFF tutorial is [deployed to k8s](https://bff.demo.c4-soft.com/ui/)).","body":"Keycloak adapters for Spring are deprecated and incompatible with Boot 3 / Security 6. Plus spring-cloud-gateway is a reactive application and keycloak adapters where designed for servlets. Refer to <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">my tutorials</a> (main README first and then BFF tutorial) to configure your gateway properly. Only then, will you get a chance to have it work in k8s (my BFF tutorial is <a href=\"https://bff.demo.c4-soft.com/ui/\" rel=\"nofollow noreferrer\">deployed to k8s</a>)."}],"owner":{"account_id":13316463,"reputation":55,"user_id":9612721,"display_name":"Kornext"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685624566,"creation_date":1685624566,"question_id":76382182,"body_markdown":"I can&#39;t figure out how to set up the infrastructure in such a way that everything works.\r\n    \r\n    @KeycloakConfiguration\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    @FieldDefaults(level = AccessLevel.PRIVATE)\r\n    public class SpringWebSecurityConfig extends KeycloakWebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    LogoutSuccessHandler logoutSuccessHandler;\r\n\r\n    @Override\r\n    protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\r\n        return new NullAuthenticatedSessionStrategy();\r\n    }\r\n\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder authManagerBuilder) {\r\n\r\n        KeycloakAuthenticationProvider keycloakAuthenticationProvider = keycloakAuthenticationProvider();\r\n        keycloakAuthenticationProvider.setGrantedAuthoritiesMapper(new SimpleAuthorityMapper());\r\n        authManagerBuilder.authenticationProvider(keycloakAuthenticationProvider);\r\n    }\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        super.configure(http);\r\n\r\n        http.csrf().and()\r\n                .authorizeRequests()\r\n                .anyRequest().fullyAuthenticated();\r\n        http.logout()\r\n                .addLogoutHandler(keycloakLogoutHandler())\r\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;, &quot;GET&quot;))\r\n                .logoutSuccessHandler(logoutSuccessHandler);\r\n    }\r\n    }\r\n\r\nConfig Keylock adapter\r\n\r\n    keycloak:\r\n      auth-server-url: ${KEYCLOAK_AUTH_URL}\r\n      realm: test-realm\r\n      resource: test-admin-client\r\n      use-resource-role-mappings: false\r\n      credentials:\r\n      secret: ${KEYCLOAK_CLIENT_SECRET}\r\n\r\nSpring Geteway\r\n\r\n      cloud:\r\n    gateway:\r\n      globalcors:\r\n        corsConfigurations:\r\n          &#39;[/**]&#39;:\r\n            allowedOrigins: &quot;*&quot;\r\n            allowedMethods: &quot;*&quot;\r\n            allowedHeaders: &quot;*&quot;\r\n      routes:\r\n        - id: test-admin-client\r\n          uri: lb://test-admin-client\r\n          predicates:\r\n            - Path=/apps/test-admin-client/**\r\n          filters:\r\n            - TokenRelay=\r\n            - RewritePath=/apps/test-admin-client(?&lt;segment&gt;/?.*), $\\{segment}\r\n\r\nWhen visiting the gateway address (gateway.dev.test/app/test-admin-client), there was a redirect to http://10.244.130.77/sso/login (the local IP address of the k8s module).\r\n\r\nI fix this by:\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        super.configure(http);\r\n\r\n        KeycloakAuthenticationEntryPoint entryPoint = (KeycloakAuthenticationEntryPoint)authenticationEntryPoint();\r\n        entryPoint.setLoginUri(&quot;http://gateway.dev.test/app/test-admin-client/sso/login&quot;);\r\n\r\n        http.csrf().and()\r\n                .authorizeRequests()\r\n                .anyRequest().fullyAuthenticated()\r\n                .and()\r\n                .exceptionHandling()\r\n                .authenticationEntryPoint(entryPoint);\r\n        http.logout()\r\n                .addLogoutHandler(keycloakLogoutHandler())\r\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;, &quot;GET&quot;))\r\n                .logoutSuccessHandler(logoutSuccessHandler);\r\n    }\r\n\r\nIt worked, now I could see the keycloak-server authorization window, but the request contained an incorrect redirect_uri with the local IP of my service pod. Like This:\r\n\r\n    https://{keycloack-server-hostname}\r\n      ?response_type=code\r\n      &amp;client_id=na-polke-admin-client\r\n      &amp;redirect_uri=http%3A%2F%2F10.244.130.77%2Fsso%2Flogin\r\n      &amp;state=057fabd5-27a1-4e19-9b61-90712f8c8a1\r\n      &amp;login=true\r\n      &amp;scope=openid\r\n\r\nI fixed it with override getReuest() method on KeycloakAuthenticationProcessingFilter\r\n\r\n    @Component\r\n    public class KeycloackAuthenticationProcessingFilterPostProcessor implements BeanPostProcessor {\r\n\r\n    private void process(KeycloakAuthenticationProcessingFilter filter) {\r\n\r\n        filter.setRequestAuthenticatorFactory(new SpringSecurityRequestAuthenticatorFactory() {\r\n\r\n            @Override\r\n            public RequestAuthenticator createRequestAuthenticator(HttpFacade facade, HttpServletRequest request, KeycloakDeployment deployment, AdapterTokenStore tokenStore, int sslRedirectPort) {\r\n\r\n                return new SpringSecurityRequestAuthenticator(facade, request, deployment, tokenStore, sslRedirectPort) {\r\n\r\n                    @Override\r\n                    protected OAuthRequestAuthenticator createOAuthAuthenticator() {\r\n\r\n                        return new OAuthRequestAuthenticator(this, facade, deployment, sslRedirectPort, tokenStore) {\r\n\r\n                            @Override\r\n                            protected String getRequestUrl() {\r\n\r\n                                return &quot;http://gateway.dev.test/app/test-admin-client/sso/login&quot;;\r\n                            }\r\n                        };\r\n                    }\r\n\r\n                };\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public Object postProcessAfterInitialization(Object bean, String beanName) {\r\n\r\n        if (bean instanceof KeycloakAuthenticationProcessingFilter) {\r\n            log.info(&quot;Injecting Custom handler...&quot;);\r\n            process(((KeycloakAuthenticationProcessingFilter) bean));\r\n        }\r\n        return bean;\r\n    }\r\n}\r\n\r\nIn the end, i manage to successfully pass authorization and I get a redirect to http://gateway.dev.test/app/test-admin-client/sso/login but then the redirects go into a loop referring to gateway/app/admin-client/sso/login\r\n\r\n\r\nWhat could be the problem? What am I doing wrong?","title":"Spring Security + Keylock Adapter + Gateway + Kubernetes - too many redirects","body":"<p>I can't figure out how to set up the infrastructure in such a way that everything works.</p>\n<pre><code>@KeycloakConfiguration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n@FieldDefaults(level = AccessLevel.PRIVATE)\npublic class SpringWebSecurityConfig extends KeycloakWebSecurityConfigurerAdapter {\n\n@Autowired\nLogoutSuccessHandler logoutSuccessHandler;\n\n@Override\nprotected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\n    return new NullAuthenticatedSessionStrategy();\n}\n\n@Autowired\npublic void configureGlobal(AuthenticationManagerBuilder authManagerBuilder) {\n\n    KeycloakAuthenticationProvider keycloakAuthenticationProvider = keycloakAuthenticationProvider();\n    keycloakAuthenticationProvider.setGrantedAuthoritiesMapper(new SimpleAuthorityMapper());\n    authManagerBuilder.authenticationProvider(keycloakAuthenticationProvider);\n}\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    super.configure(http);\n\n    http.csrf().and()\n            .authorizeRequests()\n            .anyRequest().fullyAuthenticated();\n    http.logout()\n            .addLogoutHandler(keycloakLogoutHandler())\n            .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;, &quot;GET&quot;))\n            .logoutSuccessHandler(logoutSuccessHandler);\n}\n}\n</code></pre>\n<p>Config Keylock adapter</p>\n<pre><code>keycloak:\n  auth-server-url: ${KEYCLOAK_AUTH_URL}\n  realm: test-realm\n  resource: test-admin-client\n  use-resource-role-mappings: false\n  credentials:\n  secret: ${KEYCLOAK_CLIENT_SECRET}\n</code></pre>\n<p>Spring Geteway</p>\n<pre><code>  cloud:\ngateway:\n  globalcors:\n    corsConfigurations:\n      '[/**]':\n        allowedOrigins: &quot;*&quot;\n        allowedMethods: &quot;*&quot;\n        allowedHeaders: &quot;*&quot;\n  routes:\n    - id: test-admin-client\n      uri: lb://test-admin-client\n      predicates:\n        - Path=/apps/test-admin-client/**\n      filters:\n        - TokenRelay=\n        - RewritePath=/apps/test-admin-client(?&lt;segment&gt;/?.*), $\\{segment}\n</code></pre>\n<p>When visiting the gateway address (gateway.dev.test/app/test-admin-client), there was a redirect to <a href=\"http://10.244.130.77/sso/login\" rel=\"nofollow noreferrer\">http://10.244.130.77/sso/login</a> (the local IP address of the k8s module).</p>\n<p>I fix this by:</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    super.configure(http);\n\n    KeycloakAuthenticationEntryPoint entryPoint = (KeycloakAuthenticationEntryPoint)authenticationEntryPoint();\n    entryPoint.setLoginUri(&quot;http://gateway.dev.test/app/test-admin-client/sso/login&quot;);\n\n    http.csrf().and()\n            .authorizeRequests()\n            .anyRequest().fullyAuthenticated()\n            .and()\n            .exceptionHandling()\n            .authenticationEntryPoint(entryPoint);\n    http.logout()\n            .addLogoutHandler(keycloakLogoutHandler())\n            .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;, &quot;GET&quot;))\n            .logoutSuccessHandler(logoutSuccessHandler);\n}\n</code></pre>\n<p>It worked, now I could see the keycloak-server authorization window, but the request contained an incorrect redirect_uri with the local IP of my service pod. Like This:</p>\n<pre><code>https://{keycloack-server-hostname}\n  ?response_type=code\n  &amp;client_id=na-polke-admin-client\n  &amp;redirect_uri=http%3A%2F%2F10.244.130.77%2Fsso%2Flogin\n  &amp;state=057fabd5-27a1-4e19-9b61-90712f8c8a1\n  &amp;login=true\n  &amp;scope=openid\n</code></pre>\n<p>I fixed it with override getReuest() method on KeycloakAuthenticationProcessingFilter</p>\n<pre><code>@Component\npublic class KeycloackAuthenticationProcessingFilterPostProcessor implements BeanPostProcessor {\n\nprivate void process(KeycloakAuthenticationProcessingFilter filter) {\n\n    filter.setRequestAuthenticatorFactory(new SpringSecurityRequestAuthenticatorFactory() {\n\n        @Override\n        public RequestAuthenticator createRequestAuthenticator(HttpFacade facade, HttpServletRequest request, KeycloakDeployment deployment, AdapterTokenStore tokenStore, int sslRedirectPort) {\n\n            return new SpringSecurityRequestAuthenticator(facade, request, deployment, tokenStore, sslRedirectPort) {\n\n                @Override\n                protected OAuthRequestAuthenticator createOAuthAuthenticator() {\n\n                    return new OAuthRequestAuthenticator(this, facade, deployment, sslRedirectPort, tokenStore) {\n\n                        @Override\n                        protected String getRequestUrl() {\n\n                            return &quot;http://gateway.dev.test/app/test-admin-client/sso/login&quot;;\n                        }\n                    };\n                }\n\n            };\n        }\n    });\n}\n\n@Override\npublic Object postProcessAfterInitialization(Object bean, String beanName) {\n\n    if (bean instanceof KeycloakAuthenticationProcessingFilter) {\n        log.info(&quot;Injecting Custom handler...&quot;);\n        process(((KeycloakAuthenticationProcessingFilter) bean));\n    }\n    return bean;\n}\n</code></pre>\n<p>}</p>\n<p>In the end, i manage to successfully pass authorization and I get a redirect to <a href=\"http://gateway.dev.test/app/test-admin-client/sso/login\" rel=\"nofollow noreferrer\">http://gateway.dev.test/app/test-admin-client/sso/login</a> but then the redirects go into a loop referring to gateway/app/admin-client/sso/login</p>\n<p>What could be the problem? What am I doing wrong?</p>\n"},{"tags":["java","thymeleaf"],"answers":[{"comments":[{"owner":{"account_id":9458955,"reputation":133,"user_id":7459856,"display_name":"Oleksii Morenets"},"score":0,"creation_date":1678204678,"post_id":22969865,"comment_id":133486015,"body_markdown":"Does somebody know why my result list items are starting with &#39;??&#39; and ending with &#39;_en_US??&#39;\n?","body":"Does somebody know why my result list items are starting with &#39;??&#39; and ending with &#39;_en_US??&#39; ?"}],"tags":[],"owner":{"account_id":740853,"reputation":5144,"user_id":718515,"display_name":"Rafal Borowiec"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1397064724,"creation_date":1397064724,"answer_id":22969865,"question_id":22959987,"body_markdown":"You can do it by utilizing `#messages.listMsg` and `#strings.listJoin`\r\n\r\nHaving the model returned from your @Controller:\r\n\r\n    model.addAttribute(&quot;messageKeyList&quot;, Lists.newArrayList(&quot;name&quot;, &quot;address&quot;));\r\n\r\nYou can join list of translated messages like this:\r\n\r\n    &lt;div th:text=&quot;${#strings.listJoin(#messages.listMsg(messageKeyList), &#39;,&#39;)}&quot;&gt;&lt;/div&gt;\r\n\r\nWhich should produce what you expect, e.g.:\r\n\r\n    Some name,Some address\r\n\r\nWhere name and address are keys in your messages file.","title":"How to process and join string in thymeleaf","body":"<p>You can do it by utilizing <code>#messages.listMsg</code> and <code>#strings.listJoin</code></p>\n\n<p>Having the model returned from your @Controller:</p>\n\n<pre><code>model.addAttribute(\"messageKeyList\", Lists.newArrayList(\"name\", \"address\"));\n</code></pre>\n\n<p>You can join list of translated messages like this:</p>\n\n<pre><code>&lt;div th:text=\"${#strings.listJoin(#messages.listMsg(messageKeyList), ',')}\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Which should produce what you expect, e.g.:</p>\n\n<pre><code>Some name,Some address\n</code></pre>\n\n<p>Where name and address are keys in your messages file.</p>\n"},{"tags":[],"owner":{"account_id":13533258,"reputation":121,"user_id":9763114,"display_name":"Yiorgos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685623916,"creation_date":1685623916,"answer_id":76382076,"question_id":22959987,"body_markdown":"In case you are using localization, the *#messages.listMsg* part will try to translate each string in the list, resulting in what [@Oleksii][1] mentioned in his comment above. If you want just to print the strings as-is, use this:\r\n\r\n    &lt;div th:text=&quot;${#strings.listJoin(messageKeyList, &#39;,&#39;)}&quot;&gt;&lt;/div&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/7459856/oleksii-morenets","title":"How to process and join string in thymeleaf","body":"<p>In case you are using localization, the <em>#messages.listMsg</em> part will try to translate each string in the list, resulting in what <a href=\"https://stackoverflow.com/users/7459856/oleksii-morenets\">@Oleksii</a> mentioned in his comment above. If you want just to print the strings as-is, use this:</p>\n<pre><code>&lt;div th:text=&quot;${#strings.listJoin(messageKeyList, ',')}&quot;&gt;&lt;/div&gt;\n</code></pre>\n"}],"owner":{"account_id":1167779,"reputation":1569,"user_id":1145674,"accept_rate":54,"display_name":"Roxana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15734,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":22969865,"answer_count":2,"score":10,"last_activity_date":1685623916,"creation_date":1397039819,"question_id":22959987,"body_markdown":"I have a list of strings - which are the properties names that I am interested in:\r\nI want to join the values of these strings, but not using the properties name, but the properties values for them.\r\nI saw that the starting point is &lt;code&gt;#strings.listJoin&lt;/code&gt; - but how can I say to match the elements in the list against their value in the properties files?\r\n\r\nThe list would be: &lt;code&gt;[name, address]&lt;/code&gt; and in the properties file I have:&lt;pre&gt;&lt;code&gt;name=stg\r\naddress=another something\r\n&lt;/code&gt;&lt;/pre&gt;\r\nI would like to obtain the string: &lt;code&gt;stg, another something&lt;/code&gt;","title":"How to process and join string in thymeleaf","body":"<p>I have a list of strings - which are the properties names that I am interested in:\nI want to join the values of these strings, but not using the properties name, but the properties values for them.\nI saw that the starting point is <code>#strings.listJoin</code> - but how can I say to match the elements in the list against their value in the properties files?</p>\n\n<p>The list would be: <code>[name, address]</code> and in the properties file I have:<pre><code>name=stg\naddress=another something\n</code></pre>\nI would like to obtain the string: <code>stg, another something</code></p>\n"},{"tags":["java","spring","gradle","visual-studio-code"],"answers":[{"comments":[{"owner":{"account_id":421784,"reputation":678,"user_id":800198,"display_name":"Sherwin F"},"score":0,"creation_date":1580921389,"post_id":59215704,"comment_id":106259411,"body_markdown":"Does anyone know what this actually does? It would make sense if I could save this in the repository or a settings file so other developers don&#39;t have to be instructed to do the same thing.","body":"Does anyone know what this actually does? It would make sense if I could save this in the repository or a settings file so other developers don&#39;t have to be instructed to do the same thing."}],"tags":[],"owner":{"account_id":17252039,"reputation":19,"user_id":12492027,"display_name":"ÐÐ°ÐºÑÐ¸Ð¼ ÐÐ°ÑÐ¼Ð¾Ð²"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1575645077,"creation_date":1575645077,"answer_id":59215704,"question_id":48357592,"body_markdown":"You can right-click on src/main/java in Explorer and choose &quot;Add Folder to Java Source Path&quot;, and restart VSCode.","title":"Change java project source in VSCode?","body":"<p>You can right-click on src/main/java in Explorer and choose \"Add Folder to Java Source Path\", and restart VSCode.</p>\n"},{"tags":[],"owner":{"account_id":110166,"reputation":32552,"user_id":291641,"display_name":"patthoyts"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685622161,"creation_date":1685622161,"answer_id":76381815,"question_id":48357592,"body_markdown":"In the .vscode/settings file set\r\n\r\n    &quot;java.project.sourcePaths&quot;: [\r\n         &quot;src/main/java&quot;\r\n     ]\r\n\r\nor edit the Workspace settings and find the java.sourcePaths property.\r\n","title":"Change java project source in VSCode?","body":"<p>In the .vscode/settings file set</p>\n<pre><code>&quot;java.project.sourcePaths&quot;: [\n     &quot;src/main/java&quot;\n ]\n</code></pre>\n<p>or edit the Workspace settings and find the java.sourcePaths property.</p>\n"}],"owner":{"account_id":4875403,"reputation":557,"user_id":3930681,"accept_rate":100,"display_name":"steve"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8215,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1685622161,"creation_date":1516460590,"question_id":48357592,"body_markdown":"After creating the basic hello world Spring Java [application][1] I am getting this lint error for the &#39;hello&#39; package definition:\r\n\r\n    The declared package &quot;hello&quot; does not match the expected package &quot;main.java.hello&quot;\r\n\r\nI understand in Eclipse you can change the Java source directory to be /src/main/java instead of just /src. How can I achieve the same in VSCode?\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/serving-web-content/","title":"Change java project source in VSCode?","body":"<p>After creating the basic hello world Spring Java <a href=\"https://spring.io/guides/gs/serving-web-content/\" rel=\"noreferrer\">application</a> I am getting this lint error for the 'hello' package definition:</p>\n\n<pre><code>The declared package \"hello\" does not match the expected package \"main.java.hello\"\n</code></pre>\n\n<p>I understand in Eclipse you can change the Java source directory to be /src/main/java instead of just /src. How can I achieve the same in VSCode?</p>\n"},{"tags":["java","netbeans","package","javadoc"],"answers":[{"comments":[{"owner":{"account_id":1634583,"reputation":333,"user_id":1508419,"accept_rate":74,"display_name":"user1508419"},"score":0,"creation_date":1342109719,"post_id":11456096,"comment_id":15120638,"body_markdown":"But I would use netbeans.how could do that?","body":"But I would use netbeans.how could do that?"},{"owner":{"account_id":981398,"reputation":23613,"user_id":1001027,"accept_rate":72,"display_name":"Francisco Spaeth"},"score":0,"creation_date":1342111104,"post_id":11456096,"comment_id":15121307,"body_markdown":"I just add a comment about that","body":"I just add a comment about that"},{"owner":{"account_id":446054,"reputation":1244,"user_id":838862,"accept_rate":78,"display_name":"mastaH"},"score":0,"creation_date":1342115697,"post_id":11456096,"comment_id":15123285,"body_markdown":"what about copying code in a new project and get Javadoc from that?","body":"what about copying code in a new project and get Javadoc from that?"}],"tags":[],"owner":{"account_id":981398,"reputation":23613,"user_id":1001027,"accept_rate":72,"display_name":"Francisco Spaeth"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1342111085,"creation_date":1342109511,"answer_id":11456096,"question_id":11456069,"body_markdown":"You could use `packagenames` parameter for that. Syntax:\r\n\r\n    javadoc [ options ] [ packagenames ] [ sourcefilenames ] [ -subpackages pkg1:pkg2:... ] [ @argfiles ] \r\n\r\n[Documentation](http://docs.oracle.com/javase/1.5.0/docs/tooldocs/windows/javadoc.html):\r\n\r\n&gt; **packagenames** - \r\n&gt;     A series of names of packages, separated by spaces, such as java.lang java.lang.reflect java.awt. You must separately specify each\r\n&gt; package you want to document. Wildcards are not allowed; use\r\n&gt; -subpackages for recursion. The Javadoc tool uses -sourcepath to look for these package names. See Example - Documenting One or More\r\n&gt; Packages\r\n\r\nThis parameters you can apply to [Right Click on Project] &gt; Properties &gt; Build &gt; Documenting you can provide additional parameters but when I needed it as you need now I just did it manually (command line), I conclude that netbeans provides the source package as already a parameter to javadoc. ","title":"how to generate javadoc of only one package","body":"<p>You could use <code>packagenames</code> parameter for that. Syntax:</p>\n\n<pre><code>javadoc [ options ] [ packagenames ] [ sourcefilenames ] [ -subpackages pkg1:pkg2:... ] [ @argfiles ] \n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javase/1.5.0/docs/tooldocs/windows/javadoc.html\" rel=\"nofollow\">Documentation</a>:</p>\n\n<blockquote>\n  <p><strong>packagenames</strong> - \n      A series of names of packages, separated by spaces, such as java.lang java.lang.reflect java.awt. You must separately specify each\n  package you want to document. Wildcards are not allowed; use\n  -subpackages for recursion. The Javadoc tool uses -sourcepath to look for these package names. See Example - Documenting One or More\n  Packages</p>\n</blockquote>\n\n<p>This parameters you can apply to [Right Click on Project] > Properties > Build > Documenting you can provide additional parameters but when I needed it as you need now I just did it manually (command line), I conclude that netbeans provides the source package as already a parameter to javadoc. </p>\n"},{"tags":[],"owner":{"account_id":465074,"reputation":12318,"user_id":868941,"accept_rate":75,"display_name":"rmuller"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448276734,"creation_date":1448276734,"answer_id":33869513,"question_id":11456069,"body_markdown":"When using Netbeans 8.1:\r\n\r\n+ [Right Click on Project] &gt; Properties &gt; Actions\r\n+ Select Action &quot;Generate JavaDoc&quot;\r\n+ At &quot;Set Properties:&quot;, specify: `subpackages=&lt;your package(s)&gt;`\r\n+ Click &quot;OK&quot;\r\n\r\nNow for generating JavaDoc *for this project*, execute the maven `javadoc:javadoc` goal or run this goal directly from Netbeans:\r\n\r\n+ [Right Click on Project] &gt; Generate JavaDoc\r\n","title":"how to generate javadoc of only one package","body":"<p>When using Netbeans 8.1:</p>\n\n<ul>\n<li>[Right Click on Project] > Properties > Actions</li>\n<li>Select Action \"Generate JavaDoc\"</li>\n<li>At \"Set Properties:\", specify: <code>subpackages=&lt;your package(s)&gt;</code></li>\n<li>Click \"OK\"</li>\n</ul>\n\n<p>Now for generating JavaDoc <em>for this project</em>, execute the maven <code>javadoc:javadoc</code> goal or run this goal directly from Netbeans:</p>\n\n<ul>\n<li>[Right Click on Project] > Generate JavaDoc</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16906630,"reputation":11,"user_id":12226810,"display_name":"mohamed didi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685621984,"creation_date":1685621984,"answer_id":76381789,"question_id":11456069,"body_markdown":"\r\nTry to do this :\r\n\r\n 1. Place the curser on the package you want to generate the javadoc for.\r\n 2. Click on Tools -&gt; Generate JavaDoc\r\n 3. For JavaDoc Scop, you will see your package as choice, select it\r\n 4. After specifying the ouput directory, click on Generate.\r\n\r\n \r\n\r\n ","title":"how to generate javadoc of only one package","body":"<p>Try to do this :</p>\n<ol>\n<li>Place the curser on the package you want to generate the javadoc for.</li>\n<li>Click on Tools -&gt; Generate JavaDoc</li>\n<li>For JavaDoc Scop, you will see your package as choice, select it</li>\n<li>After specifying the ouput directory, click on Generate.</li>\n</ol>\n"}],"owner":{"account_id":1634583,"reputation":333,"user_id":1508419,"accept_rate":74,"display_name":"user1508419"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3428,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1685621984,"creation_date":1342109408,"question_id":11456069,"body_markdown":"I would generate through Netbeans javadoc for only one specific package.If I press on the panel &quot;Generate Javadocs&quot; I obtain Javadoc of all the project.Instead I would for only one package.","title":"how to generate javadoc of only one package","body":"<p>I would generate through Netbeans javadoc for only one specific package.If I press on the panel \"Generate Javadocs\" I obtain Javadoc of all the project.Instead I would for only one package.</p>\n"},{"tags":["java","hibernate","jpa","ddl"],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685621866,"creation_date":1685621866,"question_id":76381774,"body_markdown":"I have a test class that fetches a JWT token in its constructor. Or rather, it *tries to*: the tables are not yet created by the time constructor code is executed so all test methods fail with a 401 error\r\n```java\r\n// a snippet from my test class\r\npublic class UserQuestionCommentRestControllerTest extends IntegrationTestContext {\r\n    private static final String testUsername = &quot;mickey_m&quot;;\r\n    private static final String testPassword = &quot;mickey&quot;;\r\n    private final String token;\r\n    private static final String BASE_URI = &quot;/api/v1/user/question-comments/&quot;;\r\n    private static final String BASE_SCRIPT_PATH = &quot;/sql/UserQuestionCommentRestControllerTest/&quot;;\r\n    private ExpectationTester expectationTester;\r\n\r\n    @Autowired\r\n    public UserQuestionCommentRestControllerTest(TestUtil testUtil) throws Exception {\r\n        token = testUtil.getToken(testUsername, testPassword);\r\n    }\r\n    @Test\r\n    @Sql(executionPhase = BEFORE_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;GetCommentTest/before.sql&quot;) // e.g. attempts to insert into the security join table accounts_permissions\r\n    @Sql(executionPhase = AFTER_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;GetCommentTest/after.sql&quot;)\r\n    public void getCommentTest() throws Exception {\r\n        MockHttpServletResponse response = mockMvc.perform(get(BASE_URI + 1)\r\n                        .header(HttpHeaders.AUTHORIZATION, token))\r\n                .andExpect(status().isOk())\r\n                .andReturn()\r\n                .getResponse();\r\n    // asserts\r\n```\r\n```java\r\n// here&#39;s what getToken() does\r\n@RequiredArgsConstructor\r\n@Component\r\npublic class TestUtil {\r\n\r\n    private final ObjectMapper objectMapper;\r\n    private final MockMvc mockMvc;\r\n\r\n    public String getToken(String username, String password) throws Exception {\r\n        MvcResult result = mockMvc.perform(post(&quot;/api/v1/token&quot;)\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .content(objectMapper.writeValueAsString(new JwtRequestDto(username, password))))\r\n                .andExpect(status().isOk())\r\n                .andReturn();\r\n        ObjectNode content = objectMapper.readValue(result.getResponse().getContentAsString(), ObjectNode.class);\r\n        return &quot;Bearer &quot; + objectMapper.readValue(content.get(&quot;data&quot;).toString(), String.class);\r\n    }\r\n}\r\n```\r\n```\r\njava.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;401&gt;\r\nExpected :200\r\nActual   :401\r\n```\r\n```java\r\n// a snippet from the Account @Entity class\r\n    @NotNull\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;accounts_permissions&quot;, // â here it is\r\n            joinColumns = @JoinColumn(name = &quot;account_id&quot;, nullable = false),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;permission_id&quot;, nullable = false),\r\n            uniqueConstraints = @UniqueConstraint(columnNames = {&quot;account_id&quot;, &quot;permission_id&quot;}))\r\n    private Set&lt;Permission&gt; permissions = new HashSet&lt;&gt;();\r\n```\r\nIt made me wonder: **when exactly does schema initialization happen when your `ddl-auto` is set to some value involving automatic table creation** (like `create`, as in my code)? I thought it happens once your `@Entity` classes are loaded in memory, but it appears it is not the case","title":"When exactly does Hibernate create tables according to @Entity mappings?","body":"<p>I have a test class that fetches a JWT token in its constructor. Or rather, it <em>tries to</em>: the tables are not yet created by the time constructor code is executed so all test methods fail with a 401 error</p>\n<pre class=\"lang-java prettyprint-override\"><code>// a snippet from my test class\npublic class UserQuestionCommentRestControllerTest extends IntegrationTestContext {\n    private static final String testUsername = &quot;mickey_m&quot;;\n    private static final String testPassword = &quot;mickey&quot;;\n    private final String token;\n    private static final String BASE_URI = &quot;/api/v1/user/question-comments/&quot;;\n    private static final String BASE_SCRIPT_PATH = &quot;/sql/UserQuestionCommentRestControllerTest/&quot;;\n    private ExpectationTester expectationTester;\n\n    @Autowired\n    public UserQuestionCommentRestControllerTest(TestUtil testUtil) throws Exception {\n        token = testUtil.getToken(testUsername, testPassword);\n    }\n    @Test\n    @Sql(executionPhase = BEFORE_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;GetCommentTest/before.sql&quot;) // e.g. attempts to insert into the security join table accounts_permissions\n    @Sql(executionPhase = AFTER_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;GetCommentTest/after.sql&quot;)\n    public void getCommentTest() throws Exception {\n        MockHttpServletResponse response = mockMvc.perform(get(BASE_URI + 1)\n                        .header(HttpHeaders.AUTHORIZATION, token))\n                .andExpect(status().isOk())\n                .andReturn()\n                .getResponse();\n    // asserts\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// here's what getToken() does\n@RequiredArgsConstructor\n@Component\npublic class TestUtil {\n\n    private final ObjectMapper objectMapper;\n    private final MockMvc mockMvc;\n\n    public String getToken(String username, String password) throws Exception {\n        MvcResult result = mockMvc.perform(post(&quot;/api/v1/token&quot;)\n                        .contentType(MediaType.APPLICATION_JSON)\n                        .content(objectMapper.writeValueAsString(new JwtRequestDto(username, password))))\n                .andExpect(status().isOk())\n                .andReturn();\n        ObjectNode content = objectMapper.readValue(result.getResponse().getContentAsString(), ObjectNode.class);\n        return &quot;Bearer &quot; + objectMapper.readValue(content.get(&quot;data&quot;).toString(), String.class);\n    }\n}\n</code></pre>\n<pre><code>java.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;401&gt;\nExpected :200\nActual   :401\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// a snippet from the Account @Entity class\n    @NotNull\n    @ManyToMany\n    @JoinTable(name = &quot;accounts_permissions&quot;, // â here it is\n            joinColumns = @JoinColumn(name = &quot;account_id&quot;, nullable = false),\n            inverseJoinColumns = @JoinColumn(name = &quot;permission_id&quot;, nullable = false),\n            uniqueConstraints = @UniqueConstraint(columnNames = {&quot;account_id&quot;, &quot;permission_id&quot;}))\n    private Set&lt;Permission&gt; permissions = new HashSet&lt;&gt;();\n</code></pre>\n<p>It made me wonder: <strong>when exactly does schema initialization happen when your <code>ddl-auto</code> is set to some value involving automatic table creation</strong> (like <code>create</code>, as in my code)? I thought it happens once your <code>@Entity</code> classes are loaded in memory, but it appears it is not the case</p>\n"},{"tags":["java","postgresql","r2dbc"],"owner":{"account_id":203656,"reputation":417,"user_id":451445,"accept_rate":42,"display_name":"GTY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685621757,"creation_date":1685621757,"question_id":76381760,"body_markdown":"While working on a Java application that connects to postgres DB, I encountered an error while using different database drivers. \r\n\r\nThe application connects to postgres DB 14.0 using \r\n* A connection obtained via `javax.sql.Datasource` used for applying database changes via liquibase.\r\n* The rest of the business logic was using reactor APIs and hence was using `r2dbc` driver to connect and execute any queries.\r\n\r\nWhile running the application locally, both the mechanisms worked fine. However, when this was run on AWS using an RDS postgres 14.0 instance, I observed a different behaviour. \r\n* The `Datasource` based part used by liquibase worked.\r\n* The `r2dbc` part failed with the following error.\r\n```\r\nCaused by: io.r2dbc.postgresql.ExceptionFactory$PostgresqlAuthenticationFailure: [28000] no pg_hba.conf entry for host &quot;*.*.*.*&quot;, user &quot;devuser&quot;, database &quot;devDB&quot;, no encryption\r\n```\r\nThis got me thinking on why JDBC4 connection obtained by `Datasource` worked while `r2dbc` based connection was interrupted in its path and asked for client authentication by having host entry in its path. \r\n\r\nBoth the ways are using standard way to connect i.e. username, password, etc. No SSL or encryption was enabled, it was just using default settings.\r\n\r\nDoes anyone have any idea what may be the difference in the way these drivers connect? Why one of them is not challenged by database for client authentication while the other is?\r\n","title":"Difference of connection between JDBC4 driver and r2dbc driver","body":"<p>While working on a Java application that connects to postgres DB, I encountered an error while using different database drivers.</p>\n<p>The application connects to postgres DB 14.0 using</p>\n<ul>\n<li>A connection obtained via <code>javax.sql.Datasource</code> used for applying database changes via liquibase.</li>\n<li>The rest of the business logic was using reactor APIs and hence was using <code>r2dbc</code> driver to connect and execute any queries.</li>\n</ul>\n<p>While running the application locally, both the mechanisms worked fine. However, when this was run on AWS using an RDS postgres 14.0 instance, I observed a different behaviour.</p>\n<ul>\n<li>The <code>Datasource</code> based part used by liquibase worked.</li>\n<li>The <code>r2dbc</code> part failed with the following error.</li>\n</ul>\n<pre><code>Caused by: io.r2dbc.postgresql.ExceptionFactory$PostgresqlAuthenticationFailure: [28000] no pg_hba.conf entry for host &quot;*.*.*.*&quot;, user &quot;devuser&quot;, database &quot;devDB&quot;, no encryption\n</code></pre>\n<p>This got me thinking on why JDBC4 connection obtained by <code>Datasource</code> worked while <code>r2dbc</code> based connection was interrupted in its path and asked for client authentication by having host entry in its path.</p>\n<p>Both the ways are using standard way to connect i.e. username, password, etc. No SSL or encryption was enabled, it was just using default settings.</p>\n<p>Does anyone have any idea what may be the difference in the way these drivers connect? Why one of them is not challenged by database for client authentication while the other is?</p>\n"},{"tags":["java","virtualbox"],"answers":[{"comments":[{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1685636641,"post_id":76381756,"comment_id":134691599,"body_markdown":"@Grim OK. What version of VirtualBox are you using? Would a [different mouse mode](https://superuser.com/a/479289/141) yield the same result?","body":"@Grim OK. What version of VirtualBox are you using? Would a <a href=\"https://superuser.com/a/479289/141\">different mouse mode</a> yield the same result?"},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1685956908,"post_id":76381756,"comment_id":134728049,"body_markdown":"I am using VirtualBox 7.0.6 r155176 (Qt5.15.8).","body":"I am using VirtualBox 7.0.6 r155176 (Qt5.15.8)."},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1685956982,"post_id":76381756,"comment_id":134728062,"body_markdown":"FYI The VM is configured to use USB Tablet. I did not change that.","body":"FYI The VM is configured to use USB Tablet. I did not change that."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1685958075,"post_id":76381756,"comment_id":134728285,"body_markdown":"@Grim OK. At this point, [VB forums](https://forums.virtualbox.org/index.php) might be a better place to seek an answer. I hope someone will have one here (Stack Overflow) or there (VB forum) for you.","body":"@Grim OK. At this point, <a href=\"https://forums.virtualbox.org/index.php\" rel=\"nofollow noreferrer\">VB forums</a> might be a better place to seek an answer. I hope someone will have one here (Stack Overflow) or there (VB forum) for you."},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1685958416,"post_id":76381756,"comment_id":134728352,"body_markdown":"yea, I posted to vb-forum and referenced this stackoverflow question. Different mouse-mode did not helped. Thanks for the effort but the problem remains unchanged.","body":"yea, I posted to vb-forum and referenced this stackoverflow question. Different mouse-mode did not helped. Thanks for the effort but the problem remains unchanged."}],"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685621750,"creation_date":1685621750,"answer_id":76381756,"question_id":76361805,"body_markdown":"&gt; Now, the first putMouseEventAbsolute(200, 200, places the mouse to 199x199, that is almost ok.\r\n\r\nThat looks like [VirtualBox issue 9321](https://www.virtualbox.org/ticket/9321), duplicate of [7566](https://www.virtualbox.org/ticket/7566) with the comment:\r\n\r\n&gt; Actually there is only a single pixel difference, as the API officially uses an origin of (1, 1) for reasons no one can remember.  \r\nWhich no one wants to change now.\r\n\r\nThat means, if you want the mouse to end up at (200,200) you would need to provide (202,202) as the arguments to putMouseEventAbsolute, given the current behavior of the VirtualBox APIâ.\r\n\r\nLooking at &quot;[IMouse::putMouseEventAbsolute - no mouse event received by VM ](https://vbox-dev.virtualbox.narkive.com/4R4MIaAd/imouse-putmouseeventabsolute-no-mouse-event-received-by-vm)&quot;, absolute mouse events will only get through if [`IMouse::absoluteSupported`](https://www.virtualbox.org/sdkref/interface_i_mouse.html) returns TRUE (similarly for relative mouse events and `IMouse::relativeSupported`).  \r\nIf the VM is configured to use an actual mouse (which is inherently relative), then this will only be the case if the Guest Additions are installed in the VM, because these add absolute support. If you configure the VM to use the USB tablet (which is the default configuration for reasonably new Linux VMs), then the absolute events should always go through.\r\n\r\nI see also &quot;[PutMouseEventAbsolute not moving mouse](https://forums.virtualbox.org/viewtopic.php?t=62753)&quot;: It has been suggested that when you send absolute position events, the guest OS may assume that you are telling it the location of the host cursor and stop drawing it itself.  \r\nUsing relative position events (`mouse.putMouseEvent(dx, dy, dz, dw, buttonState);`) would therefore be advisable, and yet, as you have seen, the result in strange.   \r\nIf the guest system&#39;s display is not at a 1:1 pixel ratio with the host system, or if there is any kind of display scaling going on, this could affect the interpretation of the mouse events: try and check both resolutions.  \r\nIn VirtualBox itself, do also check the &quot;Display&quot; settings for the specific virtual machine. Look at the &quot;Screen&quot; tab and make sure that the &quot;Scale Factor&quot; is set to 100%. Also, ensure that the &quot;Graphics Controller&quot; is set appropriately for your guest system.","title":"Weird virtualbox behaviour in unit-test","body":"<blockquote>\n<p>Now, the first putMouseEventAbsolute(200, 200, places the mouse to 199x199, that is almost ok.</p>\n</blockquote>\n<p>That looks like <a href=\"https://www.virtualbox.org/ticket/9321\" rel=\"nofollow noreferrer\">VirtualBox issue 9321</a>, duplicate of <a href=\"https://www.virtualbox.org/ticket/7566\" rel=\"nofollow noreferrer\">7566</a> with the comment:</p>\n<blockquote>\n<p>Actually there is only a single pixel difference, as the API officially uses an origin of (1, 1) for reasons no one can remember.<br />\nWhich no one wants to change now.</p>\n</blockquote>\n<p>That means, if you want the mouse to end up at (200,200) you would need to provide (202,202) as the arguments to putMouseEventAbsolute, given the current behavior of the VirtualBox APIâ.</p>\n<p>Looking at &quot;<a href=\"https://vbox-dev.virtualbox.narkive.com/4R4MIaAd/imouse-putmouseeventabsolute-no-mouse-event-received-by-vm\" rel=\"nofollow noreferrer\">IMouse::putMouseEventAbsolute - no mouse event received by VM </a>&quot;, absolute mouse events will only get through if <a href=\"https://www.virtualbox.org/sdkref/interface_i_mouse.html\" rel=\"nofollow noreferrer\"><code>IMouse::absoluteSupported</code></a> returns TRUE (similarly for relative mouse events and <code>IMouse::relativeSupported</code>).<br />\nIf the VM is configured to use an actual mouse (which is inherently relative), then this will only be the case if the Guest Additions are installed in the VM, because these add absolute support. If you configure the VM to use the USB tablet (which is the default configuration for reasonably new Linux VMs), then the absolute events should always go through.</p>\n<p>I see also &quot;<a href=\"https://forums.virtualbox.org/viewtopic.php?t=62753\" rel=\"nofollow noreferrer\">PutMouseEventAbsolute not moving mouse</a>&quot;: It has been suggested that when you send absolute position events, the guest OS may assume that you are telling it the location of the host cursor and stop drawing it itself.<br />\nUsing relative position events (<code>mouse.putMouseEvent(dx, dy, dz, dw, buttonState);</code>) would therefore be advisable, and yet, as you have seen, the result in strange.<br />\nIf the guest system's display is not at a 1:1 pixel ratio with the host system, or if there is any kind of display scaling going on, this could affect the interpretation of the mouse events: try and check both resolutions.<br />\nIn VirtualBox itself, do also check the &quot;Display&quot; settings for the specific virtual machine. Look at the &quot;Screen&quot; tab and make sure that the &quot;Scale Factor&quot; is set to 100%. Also, ensure that the &quot;Graphics Controller&quot; is set appropriately for your guest system.</p>\n"}],"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1685621750,"creation_date":1685424323,"question_id":76361805,"body_markdown":"Trying to control virtualbox programatically some unexpected behaviour occourse.\r\nI try to:\r\n1. Place the mouse-cursor at 200x200.\r\n2. Move the mouse-cursor by 10x10 to the lower-right.\r\n\r\nSteps to reproduce: \r\n\r\n1. Start a virtualbox-machine. \r\n2. Start xev in the virtualbox-machine.\r\n3. Start vboxwebsrv\r\n4. Enter user-credentials for vboxwebsrv-Server in the code below\r\n\r\nThis is my code:\r\n\r\n    VirtualBoxManager manager = VirtualBoxManager.createInstance(null);\r\n\r\n\tprivate IVirtualBox connect() throws IOException, FileNotFoundException {\r\n\t\tmanager.connect(&quot;http://localhost:18083&quot;, &quot;user&quot;, &quot;pass&quot;);\r\n\t\treturn manager.getVBox();\r\n\t}\r\n\r\n\tpublic void testMousePos() throws Exception {\r\n\t\tIVirtualBox box = connect();\r\n\t\tfor (IMachine machine : box.getMachines()) {\r\n\t\t\tif (machine.getState() == MachineState.Running) {\r\n\t\t\t\tISession session = manager.getSessionObject();\r\n\t\t\t\tmachine.lockMachine(session, LockType.Shared);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tIConsole console = session.getConsole();\r\n\t\t\t\t\tIMouse mouse = console.getMouse();\r\n\t\t\t\t\tmouse.putMouseEventAbsolute(200, 200, 0, 0, 0x00);\r\n\t\t\t\t\tmouse.putMouseEvent(10, 10, 0, 0, 0x00);\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tsession.unlockMachine();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nThis will produce this screenshot: \r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/VJqCs.png&quot; width=&quot;300&quot;&gt;\r\n\r\nNow, the first `putMouseEventAbsolute(200, 200,` places the mouse to 199x199, that is *almost* ok. \r\n\r\nThen the `putMouseEvent(10, 10,` result in the new position of 203x203, that is **NOT** ok. \r\n\r\nThen\r\n---\r\nIf I restart the test it is getting more worst.\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/OgIoh.png&quot; width=&quot;300&quot;&gt;\r\n\r\nThe position is now changed from 203x203 to 208x208. The `putMouseEventAbsolute` seems to be not executed at all anymore (even if I restart the vboxwebsvr-service).\r\n\r\nAny idea?","title":"Weird virtualbox behaviour in unit-test","body":"<p>Trying to control virtualbox programatically some unexpected behaviour occourse.\nI try to:</p>\n<ol>\n<li>Place the mouse-cursor at 200x200.</li>\n<li>Move the mouse-cursor by 10x10 to the lower-right.</li>\n</ol>\n<p>Steps to reproduce:</p>\n<ol>\n<li>Start a virtualbox-machine.</li>\n<li>Start xev in the virtualbox-machine.</li>\n<li>Start vboxwebsrv</li>\n<li>Enter user-credentials for vboxwebsrv-Server in the code below</li>\n</ol>\n<p>This is my code:</p>\n<pre><code>VirtualBoxManager manager = VirtualBoxManager.createInstance(null);\n\nprivate IVirtualBox connect() throws IOException, FileNotFoundException {\n    manager.connect(&quot;http://localhost:18083&quot;, &quot;user&quot;, &quot;pass&quot;);\n    return manager.getVBox();\n}\n\npublic void testMousePos() throws Exception {\n    IVirtualBox box = connect();\n    for (IMachine machine : box.getMachines()) {\n        if (machine.getState() == MachineState.Running) {\n            ISession session = manager.getSessionObject();\n            machine.lockMachine(session, LockType.Shared);\n            try {\n                IConsole console = session.getConsole();\n                IMouse mouse = console.getMouse();\n                mouse.putMouseEventAbsolute(200, 200, 0, 0, 0x00);\n                mouse.putMouseEvent(10, 10, 0, 0, 0x00);\n            } finally {\n                session.unlockMachine();\n            }\n        }\n    }\n}\n</code></pre>\n<p>This will produce this screenshot:</p>\n<img src=\"https://i.stack.imgur.com/VJqCs.png\" width=\"300\">\n<p>Now, the first <code>putMouseEventAbsolute(200, 200,</code> places the mouse to 199x199, that is <em>almost</em> ok.</p>\n<p>Then the <code>putMouseEvent(10, 10,</code> result in the new position of 203x203, that is <strong>NOT</strong> ok.</p>\n<h2>Then</h2>\n<p>If I restart the test it is getting more worst.</p>\n<img src=\"https://i.stack.imgur.com/OgIoh.png\" width=\"300\">\n<p>The position is now changed from 203x203 to 208x208. The <code>putMouseEventAbsolute</code> seems to be not executed at all anymore (even if I restart the vboxwebsvr-service).</p>\n<p>Any idea?</p>\n"},{"tags":["javascript","java","htmlunit-driver"],"answers":[{"tags":[],"owner":{"account_id":61892,"reputation":5204,"user_id":184201,"accept_rate":78,"display_name":"Ahmed Ashour"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1685621569,"creation_date":1447855767,"answer_id":33782238,"question_id":33780849,"body_markdown":"This already enables the JavaScript:\r\n\r\n    webClient.getOptions().setJavaScriptEnabled(true);\r\n\r\nWhat you see in the logs are warning messages that the content type should not be used, but you can safely ignore them.","title":"How to enable javascript in HtmlUnit","body":"<p>This already enables the JavaScript:</p>\n<pre><code>webClient.getOptions().setJavaScriptEnabled(true);\n</code></pre>\n<p>What you see in the logs are warning messages that the content type should not be used, but you can safely ignore them.</p>\n"}],"owner":{"account_id":5888651,"reputation":81,"user_id":4635899,"accept_rate":17,"display_name":"Suresh S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6849,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685621569,"creation_date":1447851854,"question_id":33780849,"body_markdown":"  This is my coding for HtmlUnit\r\n\r\n\r\n    final WebClient webClient = new WebClient();\r\n\twebClient.getOptions().setJavaScriptEnabled(true);\r\n\twebClient.getOptions().setCssEnabled(false);\r\n\twebClient.getOptions().setRedirectEnabled(true);\r\n\twebClient.getOptions().setThrowExceptionOnScriptError(false);\r\n\twebClient.setThrowExceptionOnFailingStatusCode(false);\r\n\twebClient.setTimeout(20000);\r\n\t//webClient.setSSLClientCertificate(certificateUrl,\r\n           certificatePassword, certificateType);\r\n\tHtmlPage page1 = (HtmlPage)webClient.getPage(&quot;http://oneurl&quot;);\r\n\r\n\r\nBut i got error like\r\n\r\n    WARN APOPERATOR &quot;htmlunit.IncorrectnessListenerImpl&quot; Obsolete content type encountered: &#39;text/javascript&#39;.\r\n    ERROR APOPERATOR &quot;javascript.StrictErrorReporter&quot; runtimeError: message=[The data necessary to complete this operation is not yet available.] sourceName=[http://easypay.swisscom.ch/charging-engine-checkout/js/libs/jquery-1.9.1.min.js] line=[3] lineSource=[null] lineOffset=[0]\r\n    WARN APOPERATOR &quot;html.HTMLDocument&quot; getElementById(sizzle-1447848465222) did a getElementByName for Internet Explorer\r\n    WARN APOPERATOR &quot;htmlunit.IncorrectnessListenerImpl&quot; Obsolete content type encountered: &#39;text/javascript&#39;.\r\n\r\n\r\nCan anyone please help to enable javascript in HtmlUnit?\r\n\r\n","title":"How to enable javascript in HtmlUnit","body":"<p>This is my coding for HtmlUnit</p>\n\n<pre><code>final WebClient webClient = new WebClient();\nwebClient.getOptions().setJavaScriptEnabled(true);\nwebClient.getOptions().setCssEnabled(false);\nwebClient.getOptions().setRedirectEnabled(true);\nwebClient.getOptions().setThrowExceptionOnScriptError(false);\nwebClient.setThrowExceptionOnFailingStatusCode(false);\nwebClient.setTimeout(20000);\n//webClient.setSSLClientCertificate(certificateUrl,\n       certificatePassword, certificateType);\nHtmlPage page1 = (HtmlPage)webClient.getPage(\"http://oneurl\");\n</code></pre>\n\n<p>But i got error like</p>\n\n<pre><code>WARN APOPERATOR \"htmlunit.IncorrectnessListenerImpl\" Obsolete content type encountered: 'text/javascript'.\nERROR APOPERATOR \"javascript.StrictErrorReporter\" runtimeError: message=[The data necessary to complete this operation is not yet available.] sourceName=[http://easypay.swisscom.ch/charging-engine-checkout/js/libs/jquery-1.9.1.min.js] line=[3] lineSource=[null] lineOffset=[0]\nWARN APOPERATOR \"html.HTMLDocument\" getElementById(sizzle-1447848465222) did a getElementByName for Internet Explorer\nWARN APOPERATOR \"htmlunit.IncorrectnessListenerImpl\" Obsolete content type encountered: 'text/javascript'.\n</code></pre>\n\n<p>Can anyone please help to enable javascript in HtmlUnit?</p>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1682755918,"post_id":76135151,"comment_id":134268225,"body_markdown":"Please add pom/gradle file to the question.","body":"Please add pom/gradle file to the question."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685621527,"creation_date":1685621527,"answer_id":76381730,"question_id":76135151,"body_markdown":"The annotation `jakarta.validation.Valid` will not fire in Spring5/Java11 - it&#39;s for Spring6/Java17.\r\n\r\nChange\r\n\r\n    public String showDetails(@Valid @ModelAttribute(&quot;user&quot;) User user, BindingResult bindingResult)\r\n\r\nto\r\n\r\n    public String showDetails(@Validated @ModelAttribute(&quot;user&quot;) User user, BindingResult bindingResult)\r\n\r\nwhere `@Validated` is `org.springframework.validation.annotation.Validated`\r\n","title":"Validation (@Size or @NotEmpty) is not working for Spring MVC","body":"<p>The annotation <code>jakarta.validation.Valid</code> will not fire in Spring5/Java11 - it's for Spring6/Java17.</p>\n<p>Change</p>\n<pre><code>public String showDetails(@Valid @ModelAttribute(&quot;user&quot;) User user, BindingResult bindingResult)\n</code></pre>\n<p>to</p>\n<pre><code>public String showDetails(@Validated @ModelAttribute(&quot;user&quot;) User user, BindingResult bindingResult)\n</code></pre>\n<p>where <code>@Validated</code> is <code>org.springframework.validation.annotation.Validated</code></p>\n"}],"owner":{"account_id":26969825,"reputation":3,"user_id":21770498,"display_name":"Vlad Zherikhov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76381730,"answer_count":1,"score":0,"last_activity_date":1685621527,"creation_date":1682755396,"question_id":76135151,"body_markdown":"I created a cimple program, and I want to add validation for my field (`firstName` and `secondName`).I use annotations `@Size` and `@NotEmpty`, but all my app works except validation.\r\n\r\n```\r\n/**\r\n* model\r\n*/\r\nimport jakarta.validation.constraints.NotEmpty;\r\nimport jakarta.validation.constraints.Size;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class User {\r\n    @Size(min = 2, message = &quot;Field must be min 2 symbols!&quot;)\r\n    private String firstName;\r\n    @NotEmpty(message = &quot;Field is required&quot;)\r\n    private String secondName;\r\n    private String department;\r\n    private Map&lt;String, String&gt; departments;\r\n\r\n    public User() {\r\n        departments = new HashMap&lt;&gt;();\r\n        departments.put(&quot;IT&quot;, &quot;Information Technology&quot;);\r\n        departments.put(&quot;HR&quot;, &quot;Human Resources&quot;);\r\n        departments.put(&quot;Sales&quot;, &quot;Sales&quot;);\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getSecondName() {\r\n        return secondName;\r\n    }\r\n\r\n    public void setSecondName(String secondName) {\r\n        this.secondName = secondName;\r\n    }\r\n\r\n    public String getDepartment() {\r\n        return department;\r\n    }\r\n\r\n    public void setDepartment(String department) {\r\n        this.department = department;\r\n    }\r\n\r\n    public Map&lt;String, String&gt; getDepartments() {\r\n        return departments;\r\n    }\r\n\r\n    public void setDepartments(Map&lt;String, String&gt; departments) {\r\n        this.departments = departments;\r\n    }\r\n}\r\n```\r\n\r\n``` \r\n/**\r\n* Controller\r\n*/\r\nimport com.zherikhov.models.User;\r\nimport jakarta.validation.Valid;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.validation.BindingResult;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\n@Controller\r\npublic class MyController {\r\n    @RequestMapping(&quot;/home&quot;)\r\n    public String showFirstView() {\r\n        return &quot;home&quot;;\r\n    }\r\n\r\n    @RequestMapping(&quot;/authorization&quot;)\r\n    public String showAuthorization(Model model) {\r\n        model.addAttribute(&quot;user&quot;, new User());\r\n        return &quot;authorization&quot;;\r\n    }\r\n\r\n    @RequestMapping(&quot;/welcome&quot;)\r\n    public String showDetails(@Valid @ModelAttribute(&quot;user&quot;) User user, BindingResult bindingResult) {\r\n        if (bindingResult.hasErrors()) {\r\n            return &quot;authorization&quot;;\r\n        } else {\r\n            return &quot;welcome&quot;;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```\r\n/**\r\n* authorization.jsp\r\n*/\r\n&lt;%@ taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot; %&gt;\r\n&lt;!DOCTYPE html&gt;\r\n\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div&gt;\r\n    &lt;div&gt;\r\n        &lt;p&gt;Authorization&lt;/p&gt;\r\n        &lt;form:form action=&quot;welcome&quot; modelAttribute=&quot;user&quot;&gt;\r\n            &lt;div&gt;\r\n                &lt;label&gt;Please enter your First name&lt;/label&gt;\r\n                &lt;form:input path=&quot;firstName&quot;/&gt;\r\n                &lt;form:errors path=&quot;firstName&quot;/&gt;\r\n            &lt;/div&gt;\r\n            &lt;div&gt;\r\n                &lt;label&gt;Please enter your Second name&lt;/label&gt;\r\n                &lt;form:input path=&quot;secondName&quot;/&gt;\r\n                &lt;form:errors path=&quot;secondName&quot;/&gt;\r\n            &lt;/div&gt;\r\n            &lt;div&gt;\r\n                &lt;label&gt;Please choose your department&lt;/label&gt;\r\n                &lt;form:select path=&quot;department&quot;&gt;\r\n                    &lt;form:options items=&quot;${user.departments}&quot;/&gt;\r\n                &lt;/form:select&gt;\r\n            &lt;/div&gt;\r\n            &lt;div&gt;\r\n                &lt;input type=&quot;submit&quot; value=&quot;Send&quot;&gt;\r\n            &lt;/div&gt;\r\n        &lt;/form:form&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;/form&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\n\r\n```\r\n/**\r\n* welcome.jsp\r\n*/\r\n&lt;!DOCTYPE html&gt;\r\n\r\n&lt;html&gt;\r\n\r\n&lt;body&gt;\r\n\r\n&lt;h2&gt;Authorization was successful!&lt;/h2&gt;\r\nFirst name - ${user.firstName}\r\n&lt;br&gt;\r\nSecond name - ${user.secondName}\r\n&lt;br&gt;\r\nDepartment -  ${user.department}\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.zherikhov&lt;/groupId&gt;\r\n  &lt;artifactId&gt;myAccounting&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n  &lt;name&gt;myAccounting Maven Webapp&lt;/name&gt;\r\n  &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n  &lt;url&gt;http://www.myAccounting.com&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n      &lt;version&gt;5.3.27&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n      &lt;version&gt;5.3.27&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-beans --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n      &lt;version&gt;5.3.27&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n      &lt;version&gt;5.3.27&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/jstl --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/servlet-api --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.5&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate.validator/hibernate-validator --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n      &lt;version&gt;8.0.0.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;finalName&gt;myAccounting&lt;/finalName&gt;\r\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.22.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.2.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nI added annotations `@Size` and `@NotEmpty` for my fields, and when I will be to press button send, I have to see error, but it doesn&#39;t happen.","title":"Validation (@Size or @NotEmpty) is not working for Spring MVC","body":"<p>I created a cimple program, and I want to add validation for my field (<code>firstName</code> and <code>secondName</code>).I use annotations <code>@Size</code> and <code>@NotEmpty</code>, but all my app works except validation.</p>\n<pre><code>/**\n* model\n*/\nimport jakarta.validation.constraints.NotEmpty;\nimport jakarta.validation.constraints.Size;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class User {\n    @Size(min = 2, message = &quot;Field must be min 2 symbols!&quot;)\n    private String firstName;\n    @NotEmpty(message = &quot;Field is required&quot;)\n    private String secondName;\n    private String department;\n    private Map&lt;String, String&gt; departments;\n\n    public User() {\n        departments = new HashMap&lt;&gt;();\n        departments.put(&quot;IT&quot;, &quot;Information Technology&quot;);\n        departments.put(&quot;HR&quot;, &quot;Human Resources&quot;);\n        departments.put(&quot;Sales&quot;, &quot;Sales&quot;);\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getSecondName() {\n        return secondName;\n    }\n\n    public void setSecondName(String secondName) {\n        this.secondName = secondName;\n    }\n\n    public String getDepartment() {\n        return department;\n    }\n\n    public void setDepartment(String department) {\n        this.department = department;\n    }\n\n    public Map&lt;String, String&gt; getDepartments() {\n        return departments;\n    }\n\n    public void setDepartments(Map&lt;String, String&gt; departments) {\n        this.departments = departments;\n    }\n}\n</code></pre>\n<pre><code>/**\n* Controller\n*/\nimport com.zherikhov.models.User;\nimport jakarta.validation.Valid;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\npublic class MyController {\n    @RequestMapping(&quot;/home&quot;)\n    public String showFirstView() {\n        return &quot;home&quot;;\n    }\n\n    @RequestMapping(&quot;/authorization&quot;)\n    public String showAuthorization(Model model) {\n        model.addAttribute(&quot;user&quot;, new User());\n        return &quot;authorization&quot;;\n    }\n\n    @RequestMapping(&quot;/welcome&quot;)\n    public String showDetails(@Valid @ModelAttribute(&quot;user&quot;) User user, BindingResult bindingResult) {\n        if (bindingResult.hasErrors()) {\n            return &quot;authorization&quot;;\n        } else {\n            return &quot;welcome&quot;;\n        }\n    }\n}\n</code></pre>\n<pre><code>/**\n* authorization.jsp\n*/\n&lt;%@ taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot; %&gt;\n&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div&gt;\n    &lt;div&gt;\n        &lt;p&gt;Authorization&lt;/p&gt;\n        &lt;form:form action=&quot;welcome&quot; modelAttribute=&quot;user&quot;&gt;\n            &lt;div&gt;\n                &lt;label&gt;Please enter your First name&lt;/label&gt;\n                &lt;form:input path=&quot;firstName&quot;/&gt;\n                &lt;form:errors path=&quot;firstName&quot;/&gt;\n            &lt;/div&gt;\n            &lt;div&gt;\n                &lt;label&gt;Please enter your Second name&lt;/label&gt;\n                &lt;form:input path=&quot;secondName&quot;/&gt;\n                &lt;form:errors path=&quot;secondName&quot;/&gt;\n            &lt;/div&gt;\n            &lt;div&gt;\n                &lt;label&gt;Please choose your department&lt;/label&gt;\n                &lt;form:select path=&quot;department&quot;&gt;\n                    &lt;form:options items=&quot;${user.departments}&quot;/&gt;\n                &lt;/form:select&gt;\n            &lt;/div&gt;\n            &lt;div&gt;\n                &lt;input type=&quot;submit&quot; value=&quot;Send&quot;&gt;\n            &lt;/div&gt;\n        &lt;/form:form&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<pre><code>/**\n* welcome.jsp\n*/\n&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n\n&lt;body&gt;\n\n&lt;h2&gt;Authorization was successful!&lt;/h2&gt;\nFirst name - ${user.firstName}\n&lt;br&gt;\nSecond name - ${user.secondName}\n&lt;br&gt;\nDepartment -  ${user.department}\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.zherikhov&lt;/groupId&gt;\n  &lt;artifactId&gt;myAccounting&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n\n  &lt;name&gt;myAccounting Maven Webapp&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.myAccounting.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n      &lt;version&gt;5.3.27&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n      &lt;version&gt;5.3.27&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-beans --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n      &lt;version&gt;5.3.27&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n      &lt;version&gt;5.3.27&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/jstl --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n      &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/servlet-api --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;2.5&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate.validator/hibernate-validator --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n      &lt;version&gt;8.0.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;finalName&gt;myAccounting&lt;/finalName&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.2.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I added annotations <code>@Size</code> and <code>@NotEmpty</code> for my fields, and when I will be to press button send, I have to see error, but it doesn't happen.</p>\n"},{"tags":["java","spring-boot","microservices","spring-cloud"],"answers":[{"comments":[{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":0,"creation_date":1654870049,"post_id":72574158,"comment_id":128202411,"body_markdown":"Very Strange this works when I&#39;ve multiple copies of Inventory-services running, with the single instance it doesn&#39;t works!","body":"Very Strange this works when I&#39;ve multiple copies of Inventory-services running, with the single instance it doesn&#39;t works!"},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1654871093,"post_id":72574158,"comment_id":128202822,"body_markdown":"I checked it with single instance. Works for me and should work logically.","body":"I checked it with single instance. Works for me and should work logically."},{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":0,"creation_date":1654871493,"post_id":72574158,"comment_id":128202987,"body_markdown":"Did you tried on my source code? LoadBalancer logically may look for multiple instance, for single instance - with/without loadBalance I still see original issue","body":"Did you tried on my source code? LoadBalancer logically may look for multiple instance, for single instance - with/without loadBalance I still see original issue"},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1654884648,"post_id":72574158,"comment_id":128207383,"body_markdown":"Tried with your code as well. It is working with single or multiple instances. When I comment `Loadbalanced Webclient`, it gives 404","body":"Tried with your code as well. It is working with single or multiple instances. When I comment <code>Loadbalanced Webclient</code>, it gives 404"},{"owner":{"account_id":5164011,"reputation":505,"user_id":6952763,"accept_rate":92,"display_name":"John Santos"},"score":1,"creation_date":1679258382,"post_id":72574158,"comment_id":133684862,"body_markdown":"Worked just fine for me with single and multiple instances. Thank you @ChetanAhirrao. +1","body":"Worked just fine for me with single and multiple instances. Thank you @ChetanAhirrao. +1"},{"owner":{"account_id":5853055,"reputation":1234,"user_id":4611186,"accept_rate":62,"display_name":"Katlock"},"score":0,"creation_date":1680639310,"post_id":72574158,"comment_id":133931732,"body_markdown":"If I instantiate a webClient from WebClientBuilder.build() method, the http call does not work but it works only if I use WebClientBuilder.build().get() call.  Why?","body":"If I instantiate a webClient from WebClientBuilder.build() method, the http call does not work but it works only if I use WebClientBuilder.build().get() call.  Why?"},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1681626869,"post_id":72574158,"comment_id":134084790,"body_markdown":"@Katlock with `WebClientBuilder.build()` you are just getting instance of `WebClient` implementation. But to actually send a request, we need to prepare `GET` or `POST` request and then with methods like `exchange`, you are actually sending the request. So we are calling the method `get()` to actually prepare `GET` request and not the normal get to get the `WebClient` instance.","body":"@Katlock with <code>WebClientBuilder.build()</code> you are just getting instance of <code>WebClient</code> implementation. But to actually send a request, we need to prepare <code>GET</code> or <code>POST</code> request and then with methods like <code>exchange</code>, you are actually sending the request. So we are calling the method <code>get()</code> to actually prepare <code>GET</code> request and not the normal get to get the <code>WebClient</code> instance."}],"tags":[],"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"comment_count":7,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1654863362,"creation_date":1654863362,"answer_id":72574158,"question_id":72569019,"body_markdown":"For using the ```WebClient``` with Discovery, declare following bean in configuration.\r\n```\r\n    @Bean\r\n\t@LoadBalanced\r\n\tpublic WebClient.Builder loadBalancedWebClientBuilder() {\r\n\t return WebClient.builder();\r\n\t}\r\n```\r\n\r\nAutowire this in class where you are calling other service, \r\n```\r\n    @Autowired\r\n\tprivate WebClient.Builder webClientBuilder;\r\n```\r\nAnd, instead of ```webClient.get()```, use ```webClientBuilder.build().get()```","title":"java.net.UnknownHostException: Failed to resolve &#39;inventory-service&#39; after 4 queries in Spring Boot and Cloud","body":"<p>For using the <code>WebClient</code> with Discovery, declare following bean in configuration.</p>\n<pre><code>    @Bean\n    @LoadBalanced\n    public WebClient.Builder loadBalancedWebClientBuilder() {\n     return WebClient.builder();\n    }\n</code></pre>\n<p>Autowire this in class where you are calling other service,</p>\n<pre><code>    @Autowired\n    private WebClient.Builder webClientBuilder;\n</code></pre>\n<p>And, instead of <code>webClient.get()</code>, use <code>webClientBuilder.build().get()</code></p>\n"},{"tags":[],"owner":{"account_id":18549890,"reputation":1,"user_id":13516358,"display_name":"bui nam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668231536,"creation_date":1668231536,"answer_id":74410628,"question_id":72569019,"body_markdown":"for some reason I make it work by typing exactly the service url default zone like this: `eureka.client.service-url.defaultZone=http://localhost:8761/eureka/`","title":"java.net.UnknownHostException: Failed to resolve &#39;inventory-service&#39; after 4 queries in Spring Boot and Cloud","body":"<p>for some reason I make it work by typing exactly the service url default zone like this: <code>eureka.client.service-url.defaultZone=http://localhost:8761/eureka/</code></p>\n"},{"tags":[],"owner":{"account_id":28556527,"reputation":1,"user_id":21860660,"display_name":"Axe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685621260,"creation_date":1685620678,"answer_id":76381624,"question_id":72569019,"body_markdown":"I had the same problem and have now solved the issue, I don&#39;t care what registry is used and if a gateway service is used.\r\nFor example: \r\nDiscovery: nacos\r\nwebflux:spring-boot-starter-webflux:5.3.25 \r\nspring boot: 2.7.11\r\nJDK: open 19\r\nwhen I have a remote reqeust with WebClient\r\n[enter image description here][1]\r\nI got this error:\r\n[enter image description here][2]\r\nSo the real issue is why cann&#39;t find remote server by server name.\r\nClient cannot loadbalance by nacos instances information\r\nSo i add a new dependency\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-cloud-starter-loadbalancer&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\nit&#39;s will be working.\r\n  [1]: https://i.stack.imgur.com/AEpf9.png\r\n  [2]: https://i.stack.imgur.com/fxjXY.png","title":"java.net.UnknownHostException: Failed to resolve &#39;inventory-service&#39; after 4 queries in Spring Boot and Cloud","body":"<p>I had the same problem and have now solved the issue, I don't care what registry is used and if a gateway service is used.\nFor example:\nDiscovery: nacos\nwebflux:spring-boot-starter-webflux:5.3.25\nspring boot: 2.7.11\nJDK: open 19\nwhen I have a remote reqeust with WebClient\n[enter image description here][1]\nI got this error:\n[enter image description here][2]\nSo the real issue is why cann't find remote server by server name.\nClient cannot loadbalance by nacos instances information\nSo i add a new dependency</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-cloud-starter-loadbalancer&lt;/artifactId&gt;\n  &lt;version&gt;3.1.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>it's will be working.\n[1]: <a href=\"https://i.stack.imgur.com/AEpf9.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/AEpf9.png</a>\n[2]: <a href=\"https://i.stack.imgur.com/fxjXY.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/fxjXY.png</a></p>\n"}],"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17110,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72574158,"answer_count":3,"score":3,"last_activity_date":1685621260,"creation_date":1654834241,"question_id":72569019,"body_markdown":"I&#39;m using **Spring Boot v2.7.0** and Spring Cloud stack to perform interservice communication. I saw few solutions like: https://github.com/spring-cloud/spring-cloud-gateway/issues/2091, but none of them worked for me.\r\n\r\nI&#39;ve updated code here: https://github.com/javaHelper/Spring-Boot-Microservices-sai-youtube/tree/main/3.Using-service-discovery\r\n\r\nError:\r\n\r\n    2022-06-10 09:31:26.600 ERROR 9506 --- [nio-8090-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.reactive.function.client.WebClientRequestException: Failed to resolve &#39;inventory-service&#39; after 4 queries ; nested exception is java.net.UnknownHostException: Failed to resolve &#39;inventory-service&#39; after 4 queries ] with root cause\r\n    \r\n    java.net.UnknownHostException: Failed to resolve &#39;inventory-service&#39; after 4 queries \r\n    \tat io.netty.resolver.dns.DnsResolveContext.finishResolve(DnsResolveContext.java:1047) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:1000) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:418) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.resolver.dns.DnsResolveContext.onResponse(DnsResolveContext.java:629) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.resolver.dns.DnsResolveContext.access$400(DnsResolveContext.java:66) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.resolver.dns.DnsResolveContext$2.operationComplete(DnsResolveContext.java:462) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:571) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:550) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:605) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:104) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.resolver.dns.DnsQueryContext.trySuccess(DnsQueryContext.java:216) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.resolver.dns.DnsQueryContext.finish(DnsQueryContext.java:208) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.resolver.dns.DnsNameResolver$DnsResponseHandler.channelRead(DnsNameResolver.java:1314) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103) ~[netty-codec-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.channel.nio.AbstractNioMessageChannel$NioMessageUnsafe.read(AbstractNioMessageChannel.java:97) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\r\n**Order-service calling to inventory-service**\r\n\r\norder-service\r\n\r\napplication.properties\r\n\r\n    spring.application.name=order-service\r\n    \r\n    \r\n    #MySQL DB\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/order-service\r\n    spring.datasource.username=root\r\n    spring.datasource.password=Password\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\r\n    \r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.show-sql=true\r\n    spring.sql.init.mode=always\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    \r\n    server.port=8090\r\n    \r\n    #Eureka\r\n    eureka.instance.prefer-ip-address=true\r\n    eureka.instance.hostname=localhost\r\n    eureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/\r\n    \r\n    eureka.client.register-with-eureka=true\r\n    eureka.client.fetch-registry=true\r\n    spring.cloud.discovery.enabled=true\r\n\r\nCalling Logic\r\n\r\n    private static final String INVENTORY_SERVICE_URI = &quot;http://inventory-service/api/inventory&quot;;\r\n    public void placeOrder(OrderRequest orderRequest) {\r\n    \t\tlog.info(&quot;OrderService | placeOrder method called &quot;);\r\n    \t\tList&lt;OrderLineItems&gt; orderLineItems = orderRequest.getOrderLineItemsDtoList()\r\n    \t\t\t\t.stream()\r\n    \t\t\t\t.map(this::mapToDto)\r\n    \t\t\t\t.collect(Collectors.toList());\r\n    \r\n    \t\tOrder order = new Order();\r\n    \t\torder.setOrderNumber(UUID.randomUUID().toString());\r\n    \t\torder.setOrderLineItemsList(orderLineItems);\r\n    \r\n    \r\n    \t\tList&lt;String&gt; skuCodes = order.getOrderLineItemsList()\r\n    \t\t\t\t.stream()\r\n    \t\t\t\t.map(orderLineItem -&gt; orderLineItem.getSkuCode())\r\n    \t\t\t\t.collect(Collectors.toList());\r\n    \r\n    \t\t// Call Inventory Service, and place order if product is in stock\r\n    \t\tboolean allProductsInStock = webClient.get()\r\n    \t\t\t\t.uri(INVENTORY_SERVICE_URI, uriBuilder -&gt; uriBuilder.queryParam(&quot;skuCode&quot;, skuCodes).build())\r\n    \t\t\t\t.retrieve()\r\n    \t\t\t\t.bodyToMono(InventoryResponse[].class)\r\n    \t\t\t\t.map(e -&gt; Arrays.stream(e))\r\n    \t\t\t\t.block()\r\n    \t\t\t\t.allMatch(InventoryResponse::isInStock);\r\n    \r\n    \t\tif(allProductsInStock){\r\n    \t\t\torderRepository.save(order);\r\n    \t\t} else {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Product is not in the stock, please try again later&quot;);\r\n    \t\t}\r\n    \r\n    \t}\r\n\r\ninventory-service\r\n\r\napplication.properties\r\n\r\n    spring.application.name=inventory-service\r\n    \r\n    #MySQL DB\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/inventory-service\r\n    spring.datasource.username=root\r\n    spring.datasource.password=Password\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\r\n    \r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.show-sql=true\r\n    spring.sql.init.mode=always\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    \r\n    server.port=0\r\n    \r\n    \r\n    #Eureka\r\n    eureka.instance.prefer-ip-address=true\r\n    eureka.instance.hostname=localhost\r\n    eureka.instance.instance-id=${spring.application.name}:${random.int}\r\n    eureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/\r\n    \r\n    eureka.client.register-with-eureka=true\r\n    eureka.client.fetch-registry=true\r\n    spring.cloud.discovery.enabled=true\r\n\r\n-------------\r\nAs per solution suggested by @Chetan - If I have multiple instances of inventory-service up, then only this logic works, it doesn&#39;t work with single instance ","title":"java.net.UnknownHostException: Failed to resolve &#39;inventory-service&#39; after 4 queries in Spring Boot and Cloud","body":"<p>I'm using <strong>Spring Boot v2.7.0</strong> and Spring Cloud stack to perform interservice communication. I saw few solutions like: <a href=\"https://github.com/spring-cloud/spring-cloud-gateway/issues/2091\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-gateway/issues/2091</a>, but none of them worked for me.</p>\n<p>I've updated code here: <a href=\"https://github.com/javaHelper/Spring-Boot-Microservices-sai-youtube/tree/main/3.Using-service-discovery\" rel=\"nofollow noreferrer\">https://github.com/javaHelper/Spring-Boot-Microservices-sai-youtube/tree/main/3.Using-service-discovery</a></p>\n<p>Error:</p>\n<pre><code>2022-06-10 09:31:26.600 ERROR 9506 --- [nio-8090-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.reactive.function.client.WebClientRequestException: Failed to resolve 'inventory-service' after 4 queries ; nested exception is java.net.UnknownHostException: Failed to resolve 'inventory-service' after 4 queries ] with root cause\n\njava.net.UnknownHostException: Failed to resolve 'inventory-service' after 4 queries \n    at io.netty.resolver.dns.DnsResolveContext.finishResolve(DnsResolveContext.java:1047) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:1000) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:418) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.resolver.dns.DnsResolveContext.onResponse(DnsResolveContext.java:629) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.resolver.dns.DnsResolveContext.access$400(DnsResolveContext.java:66) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.resolver.dns.DnsResolveContext$2.operationComplete(DnsResolveContext.java:462) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:571) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:550) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:605) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:104) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.resolver.dns.DnsQueryContext.trySuccess(DnsQueryContext.java:216) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.resolver.dns.DnsQueryContext.finish(DnsQueryContext.java:208) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.resolver.dns.DnsNameResolver$DnsResponseHandler.channelRead(DnsNameResolver.java:1314) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103) ~[netty-codec-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.channel.nio.AbstractNioMessageChannel$NioMessageUnsafe.read(AbstractNioMessageChannel.java:97) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n</code></pre>\n<p><strong>Order-service calling to inventory-service</strong></p>\n<p>order-service</p>\n<p>application.properties</p>\n<pre><code>spring.application.name=order-service\n\n\n#MySQL DB\nspring.datasource.url=jdbc:mysql://localhost:3306/order-service\nspring.datasource.username=root\nspring.datasource.password=Password\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\n\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\nspring.sql.init.mode=always\nspring.jpa.properties.hibernate.format_sql=true\n\nserver.port=8090\n\n#Eureka\neureka.instance.prefer-ip-address=true\neureka.instance.hostname=localhost\neureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/\n\neureka.client.register-with-eureka=true\neureka.client.fetch-registry=true\nspring.cloud.discovery.enabled=true\n</code></pre>\n<p>Calling Logic</p>\n<pre><code>private static final String INVENTORY_SERVICE_URI = &quot;http://inventory-service/api/inventory&quot;;\npublic void placeOrder(OrderRequest orderRequest) {\n        log.info(&quot;OrderService | placeOrder method called &quot;);\n        List&lt;OrderLineItems&gt; orderLineItems = orderRequest.getOrderLineItemsDtoList()\n                .stream()\n                .map(this::mapToDto)\n                .collect(Collectors.toList());\n\n        Order order = new Order();\n        order.setOrderNumber(UUID.randomUUID().toString());\n        order.setOrderLineItemsList(orderLineItems);\n\n\n        List&lt;String&gt; skuCodes = order.getOrderLineItemsList()\n                .stream()\n                .map(orderLineItem -&gt; orderLineItem.getSkuCode())\n                .collect(Collectors.toList());\n\n        // Call Inventory Service, and place order if product is in stock\n        boolean allProductsInStock = webClient.get()\n                .uri(INVENTORY_SERVICE_URI, uriBuilder -&gt; uriBuilder.queryParam(&quot;skuCode&quot;, skuCodes).build())\n                .retrieve()\n                .bodyToMono(InventoryResponse[].class)\n                .map(e -&gt; Arrays.stream(e))\n                .block()\n                .allMatch(InventoryResponse::isInStock);\n\n        if(allProductsInStock){\n            orderRepository.save(order);\n        } else {\n            throw new IllegalArgumentException(&quot;Product is not in the stock, please try again later&quot;);\n        }\n\n    }\n</code></pre>\n<p>inventory-service</p>\n<p>application.properties</p>\n<pre><code>spring.application.name=inventory-service\n\n#MySQL DB\nspring.datasource.url=jdbc:mysql://localhost:3306/inventory-service\nspring.datasource.username=root\nspring.datasource.password=Password\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\n\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\nspring.sql.init.mode=always\nspring.jpa.properties.hibernate.format_sql=true\n\nserver.port=0\n\n\n#Eureka\neureka.instance.prefer-ip-address=true\neureka.instance.hostname=localhost\neureka.instance.instance-id=${spring.application.name}:${random.int}\neureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/\n\neureka.client.register-with-eureka=true\neureka.client.fetch-registry=true\nspring.cloud.discovery.enabled=true\n</code></pre>\n<hr />\n<p>As per solution suggested by @Chetan - If I have multiple instances of inventory-service up, then only this logic works, it doesn't work with single instance</p>\n"},{"tags":["java","guava","compiler-optimization","remote-debugging","preconditions"],"comments":[{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1673454061,"post_id":75084167,"comment_id":132504065,"body_markdown":"Is that method even called at all?","body":"Is that method even called at all?"},{"owner":{"account_id":10527367,"reputation":21,"user_id":7757968,"display_name":"Pankaj Jahagirdar"},"score":0,"creation_date":1673456827,"post_id":75084167,"comment_id":132505140,"body_markdown":"Yes we call it in all flows. That&#39;s why it gets hit during remote debug.","body":"Yes we call it in all flows. That&#39;s why it gets hit during remote debug."},{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1673464190,"post_id":75084167,"comment_id":132507388,"body_markdown":"Let me rephrase : is that method called when you want it to be called? It could be called at some point, but not in every scenario you&#39;re testing. Just because it&#39;s a hit when you remote debug it means that it&#39;s exactly when you want it.","body":"Let me rephrase : is that method called when you want it to be called? It could be called at some point, but not in every scenario you&#39;re testing. Just because it&#39;s a hit when you remote debug it means that it&#39;s exactly when you want it."},{"owner":{"account_id":10527367,"reputation":21,"user_id":7757968,"display_name":"Pankaj Jahagirdar"},"score":0,"creation_date":1673489968,"post_id":75084167,"comment_id":132513003,"body_markdown":"Yes, we call it in all possible flows. What&#39;s expected is validation should fail for some flows.","body":"Yes, we call it in all possible flows. What&#39;s expected is validation should fail for some flows."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1673498386,"post_id":75084167,"comment_id":132514020,"body_markdown":"Then the answer is that it CANNOT be optimized away.  Your problem is caused by something else.  For example, some of your other assumptions are incorrect.   It is worth noting that debugging a program can cause various behavior related to memory visibility and concurrency to change.  So that&#39;s another implicit assumption that could be incorrect.","body":"Then the answer is that it CANNOT be optimized away.  Your problem is caused by something else.  For example, some of your other assumptions are incorrect.   It is worth noting that debugging a program can cause various behavior related to memory visibility and concurrency to change.  So that&#39;s another implicit assumption that could be incorrect."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1673499560,"post_id":75084167,"comment_id":132514210,"body_markdown":"Your analysis has a few assumptions â like that this method gets called, that the getters return null, and that the catch isn&#39;t being triggered â that a couple log lines could very quickly validate. If you haven&#39;t done that yet, it&#39;s where I might start. (Just as a guess: you haven&#39;t shown the getters, so could it be they&#39;re providing a default? And you haven&#39;t shown the object&#39;s instantiation, so could it be that process is setting defaults?)","body":"Your analysis has a few assumptions â like that this method gets called, that the getters return null, and that the catch isn&#39;t being triggered â that a couple log lines could very quickly validate. If you haven&#39;t done that yet, it&#39;s where I might start. (Just as a guess: you haven&#39;t shown the getters, so could it be they&#39;re providing a default? And you haven&#39;t shown the object&#39;s instantiation, so could it be that process is setting defaults?)"},{"owner":{"account_id":10527367,"reputation":21,"user_id":7757968,"display_name":"Pankaj Jahagirdar"},"score":0,"creation_date":1673500415,"post_id":75084167,"comment_id":132514364,"body_markdown":"-&gt; I am sure catch isn&#39;t triggered because Metric isn&#39;t emitted; same metric gets emitted when in remote debug exception is triggered. \n-&gt; Have noticed fields are null and not default during remote debugging as well.","body":"-&gt; I am sure catch isn&#39;t triggered because Metric isn&#39;t emitted; same metric gets emitted when in remote debug exception is triggered.  -&gt; Have noticed fields are null and not default during remote debugging as well."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1685620929,"post_id":75084167,"comment_id":134687415,"body_markdown":"@StephenC letâs not call this an optimization, but *expected, reproducible behavior*. The strange thing here is that the OP says that the actual problem has not been revealed during debugging.","body":"@StephenC letâs not call this an optimization, but <i>expected, reproducible behavior</i>. The strange thing here is that the OP says that the actual problem has not been revealed during debugging."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1685621112,"post_id":75084167,"comment_id":134687447,"body_markdown":"@Holger - it was the OP that is asking if this is the result of &quot;optimization&quot; ... not me.","body":"@Holger - it was the OP that is asking if this is the result of &quot;optimization&quot; ... not me."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1685621439,"post_id":75084167,"comment_id":134687526,"body_markdown":"@StephenC I know. Itâs an interesting case of a questionerâs preoccupation influencing the readers. I think, without it, more people would have noticed that the OPâs â*It is as if Preconditions are never executed*â is actually spot on.","body":"@StephenC I know. Itâs an interesting case of a questionerâs preoccupation influencing the readers. I think, without it, more people would have noticed that the OPâs â<i>It is as if Preconditions are never executed</i>â is actually spot on."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1685621542,"post_id":75084167,"comment_id":134687558,"body_markdown":"Or ... we were just answering the question that he asked :-)","body":"Or ... we were just answering the question that he asked :-)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1685621776,"post_id":75084167,"comment_id":134687605,"body_markdown":"@StephenC yes, the good old *xy problem*. Though, in the OPâs defense, this question has enough context to get to the actual problem. It only took a bit longerâ¦","body":"@StephenC yes, the good old <i>xy problem</i>. Though, in the OPâs defense, this question has enough context to get to the actual problem. It only took a bit longerâ¦"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685619882,"creation_date":1685619882,"answer_id":76381535,"question_id":75084167,"body_markdown":"This code seems to be a kind of Cargo Cult Programming. Itâs not clear what you expect from the call to `Preconditions.checkArgument(â¦)`, but whatever it is, itâs not there.\r\n\r\nWhen you call\r\n\r\n```java\r\nPreconditions.checkArgument( getField1() &gt;= 0, &quot;error message&quot; );\r\n```\r\n\r\nThe expression `getField1() &gt;= 0` is evaluated *in your method*. Youâve already done the check before even calling the `checkArgument` method. All, the method does, is throwing a new `IllegalArgumentException` if the argument is `false`, with the message youâve provided, i.e.\r\n\r\n```java\r\npublic static void checkArgument(boolean expression, Object errorMessage) {\r\n    if(!expression) {\r\n        throw new IllegalArgumentException(String.valueOf(errorMessage));\r\n    }\r\n}\r\n```\r\n\r\nwhich you then catch, to extract the very error message, you have provided yourself.\r\n\r\n```java\r\ncatch (IllegalArgumentException | NullPointerException e){\r\n    //emit some metric\r\n    return e.getMessage();\r\n}\r\n```\r\n\r\nSo, you have created an inefficient way to do the same as\r\n\r\n```java\r\nif(getField1() &lt; 0) return &quot;error message&quot;;\r\n```\r\n\r\n---\r\n\r\nSince the evaluation of `getField1() &gt;= 0` happens in your method, *before* the `checkArgument` method is invoked, it will also fail with a `NullPointerException` instead of ever invoking the `checkArgument` method when `getField1()` returned `null`. This JVM generated `NullPointerException` will have an implementation specific message or no message at all.\r\n\r\nThis is not an optimization but just the way method invocations work. First, the arguments are evaluated, then, the method is invoked. If the argument evaluation throws an exception the method is not invoked.\r\n\r\nItâs not clear how you could see this working with a `getField1()` returning `null` during debugging, as it is impossible to pass `null` to a method expecting a primitive type `boolean`. Maybe you are confusing it with the scenario of `getField2()` returning `null`.\r\n\r\nYour second check uses the expression `StringUtils.isNotBlank(getField2())` which handles the `null` case, as `isNotBlank` will return `false` when the argument is `null`.\r\n\r\nYou can fix the first check by handling the `null` case, e.g.\r\n\r\n```java\r\nif(getField1() == null || getField1() &lt; 0) return &quot;error message&quot;;\r\n```\r\n\r\nor, if you insist on creating and catching an exception, just to extract the very message you have specified yourself,\r\n\r\n```java\r\nPreconditions.checkArgument(getField1()!=null &amp;&amp; getField1()&gt;=0, &quot;error message&quot;);\r\n```\r\n","title":"Can Java compiler optimisation cause Google Guava&#39;s Preconditions checks to be ignored?","body":"<p>This code seems to be a kind of Cargo Cult Programming. Itâs not clear what you expect from the call to <code>Preconditions.checkArgument(â¦)</code>, but whatever it is, itâs not there.</p>\n<p>When you call</p>\n<pre class=\"lang-java prettyprint-override\"><code>Preconditions.checkArgument( getField1() &gt;= 0, &quot;error message&quot; );\n</code></pre>\n<p>The expression <code>getField1() &gt;= 0</code> is evaluated <em>in your method</em>. Youâve already done the check before even calling the <code>checkArgument</code> method. All, the method does, is throwing a new <code>IllegalArgumentException</code> if the argument is <code>false</code>, with the message youâve provided, i.e.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void checkArgument(boolean expression, Object errorMessage) {\n    if(!expression) {\n        throw new IllegalArgumentException(String.valueOf(errorMessage));\n    }\n}\n</code></pre>\n<p>which you then catch, to extract the very error message, you have provided yourself.</p>\n<pre class=\"lang-java prettyprint-override\"><code>catch (IllegalArgumentException | NullPointerException e){\n    //emit some metric\n    return e.getMessage();\n}\n</code></pre>\n<p>So, you have created an inefficient way to do the same as</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(getField1() &lt; 0) return &quot;error message&quot;;\n</code></pre>\n<hr />\n<p>Since the evaluation of <code>getField1() &gt;= 0</code> happens in your method, <em>before</em> the <code>checkArgument</code> method is invoked, it will also fail with a <code>NullPointerException</code> instead of ever invoking the <code>checkArgument</code> method when <code>getField1()</code> returned <code>null</code>. This JVM generated <code>NullPointerException</code> will have an implementation specific message or no message at all.</p>\n<p>This is not an optimization but just the way method invocations work. First, the arguments are evaluated, then, the method is invoked. If the argument evaluation throws an exception the method is not invoked.</p>\n<p>Itâs not clear how you could see this working with a <code>getField1()</code> returning <code>null</code> during debugging, as it is impossible to pass <code>null</code> to a method expecting a primitive type <code>boolean</code>. Maybe you are confusing it with the scenario of <code>getField2()</code> returning <code>null</code>.</p>\n<p>Your second check uses the expression <code>StringUtils.isNotBlank(getField2())</code> which handles the <code>null</code> case, as <code>isNotBlank</code> will return <code>false</code> when the argument is <code>null</code>.</p>\n<p>You can fix the first check by handling the <code>null</code> case, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(getField1() == null || getField1() &lt; 0) return &quot;error message&quot;;\n</code></pre>\n<p>or, if you insist on creating and catching an exception, just to extract the very message you have specified yourself,</p>\n<pre class=\"lang-java prettyprint-override\"><code>Preconditions.checkArgument(getField1()!=null &amp;&amp; getField1()&gt;=0, &quot;error message&quot;);\n</code></pre>\n"}],"owner":{"account_id":10527367,"reputation":21,"user_id":7757968,"display_name":"Pankaj Jahagirdar"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685619882,"creation_date":1673445370,"question_id":75084167,"body_markdown":"We have a POJO in our Java application let&#39;s say `Request` which has validateRequest() method that basically validates some of it&#39;s fields using Guava&#39;s Preconditions library. \r\n\r\nSo, Basically Class looks like this : \r\n\r\n\r\n```\r\npublic class Request { \r\n   private Integer field1; \r\n   \r\n   private String field2;\r\n   .\r\n   .\r\n   private String fieldN;\r\n\r\n   \r\n   public String validateRequest() {\r\n      try { \r\n           Preconditions.checkArgument( getField1() &gt;= 0, &quot;error message&quot; );\r\n\r\n           Preconditions.checkArgument( StringUtils.isNotBlank(getField2()), &quot;error message&quot; );\r\n           .\r\n           .\r\n        } catch (IllegalArgumentException | NullPointerException e){\r\n            //emit some metric\r\n            return e.getMessage();\r\n        }\r\n        return null;\r\n   }\r\n}\r\n\r\n```\r\nWe call the below method in all the flows after building the Request POJO. \r\n\r\n```\r\npublic void someMethod(Request request) {\r\n    String message = request.validateRequest();\r\n    if(message!= null)\r\n       throw new Exception(message);\r\n}\r\n```\r\n\r\nIn some of the flows in our application we are never initialising field1 and field2 , so they are always null in those flows. So, ideal expectation is that validateRequest should return error message for those flows. But, what we notice is production is that this application never returns error message. It is as if Preconditions are never executed! Even metric that we emit is zero. On searching web, found out that compiler&#39;s optimisation can cause certain validation/assertion statements to be ignored, but didn&#39;t get more details around it. \r\n\r\n\r\nWhen we explicitly remote debug to our Production box and put break-point on precondition statements they get executed and error message is returned and metric is emitted. \r\n\r\nWhen we deploy this same application is deployed on Stage, code behaves as expected and throws validation error and metric is emitted.\r\n\r\nWant to understand if compiler optimisation is the culprit here, or if root cause could be something else. How to verify that compiler optimisation is causing Preconditions to be ignored?","title":"Can Java compiler optimisation cause Google Guava&#39;s Preconditions checks to be ignored?","body":"<p>We have a POJO in our Java application let's say <code>Request</code> which has validateRequest() method that basically validates some of it's fields using Guava's Preconditions library.</p>\n<p>So, Basically Class looks like this :</p>\n<pre><code>public class Request { \n   private Integer field1; \n   \n   private String field2;\n   .\n   .\n   private String fieldN;\n\n   \n   public String validateRequest() {\n      try { \n           Preconditions.checkArgument( getField1() &gt;= 0, &quot;error message&quot; );\n\n           Preconditions.checkArgument( StringUtils.isNotBlank(getField2()), &quot;error message&quot; );\n           .\n           .\n        } catch (IllegalArgumentException | NullPointerException e){\n            //emit some metric\n            return e.getMessage();\n        }\n        return null;\n   }\n}\n\n</code></pre>\n<p>We call the below method in all the flows after building the Request POJO.</p>\n<pre><code>public void someMethod(Request request) {\n    String message = request.validateRequest();\n    if(message!= null)\n       throw new Exception(message);\n}\n</code></pre>\n<p>In some of the flows in our application we are never initialising field1 and field2 , so they are always null in those flows. So, ideal expectation is that validateRequest should return error message for those flows. But, what we notice is production is that this application never returns error message. It is as if Preconditions are never executed! Even metric that we emit is zero. On searching web, found out that compiler's optimisation can cause certain validation/assertion statements to be ignored, but didn't get more details around it.</p>\n<p>When we explicitly remote debug to our Production box and put break-point on precondition statements they get executed and error message is returned and metric is emitted.</p>\n<p>When we deploy this same application is deployed on Stage, code behaves as expected and throws validation error and metric is emitted.</p>\n<p>Want to understand if compiler optimisation is the culprit here, or if root cause could be something else. How to verify that compiler optimisation is causing Preconditions to be ignored?</p>\n"},{"tags":["java","ssl","pem","cer"],"comments":[{"owner":{"account_id":5662356,"reputation":2384,"user_id":4479618,"display_name":"marpme"},"score":0,"creation_date":1494778375,"post_id":43921524,"comment_id":74962191,"body_markdown":"Are you maybe search for this ? http://stackoverflow.com/questions/32433832/configuring-sslcontext-using-existing-ssl-key-certificate-pair-in-java-jsse-api?answertab=active#tab-top","body":"Are you maybe search for this ? <a href=\"http://stackoverflow.com/questions/32433832/configuring-sslcontext-using-existing-ssl-key-certificate-pair-in-java-jsse-api?answertab=active#tab-top\" title=\"configuring sslcontext using existing ssl key certificate pair in java jsse api\">stackoverflow.com/questions/32433832/&hellip;</a>"},{"owner":{"account_id":8455,"reputation":1834,"user_id":15254,"display_name":"Philip Helger"},"score":0,"creation_date":1494967554,"post_id":43921524,"comment_id":75050736,"body_markdown":"The proposed answer by @Kyon is a valid answer. For conversion from CER/KEY to a JKS (Java KeyStore) I can recommend Portecle - a standalone GUI tool: http://portecle.sourceforge.net/ - it imports basically everything :)","body":"The proposed answer by @Kyon is a valid answer. For conversion from CER/KEY to a JKS (Java KeyStore) I can recommend Portecle - a standalone GUI tool: <a href=\"http://portecle.sourceforge.net/\" rel=\"nofollow noreferrer\">portecle.sourceforge.net</a> - it imports basically everything :)"},{"owner":{"account_id":5588131,"reputation":3409,"user_id":4428150,"accept_rate":40,"display_name":"Gustave"},"score":0,"creation_date":1494995531,"post_id":43921524,"comment_id":75058689,"body_markdown":"What is the content of those files? Which format do they have and which encoding?","body":"What is the content of those files? Which format do they have and which encoding?"},{"owner":{"account_id":5588131,"reputation":3409,"user_id":4428150,"accept_rate":40,"display_name":"Gustave"},"score":0,"creation_date":1494996059,"post_id":43921524,"comment_id":75058886,"body_markdown":"I assume mycer.cer should contain your own certificate and mykey.key the corresponding private key. By default, Java uses the &quot;JKS&quot; (Java Key Store format). If you want to stick with that, you probably will have to convert your material accordingly. There are a lot of (partly not properly specified) file formats around.","body":"I assume mycer.cer should contain your own certificate and mykey.key the corresponding private key. By default, Java uses the &quot;JKS&quot; (Java Key Store format). If you want to stick with that, you probably will have to convert your material accordingly. There are a lot of (partly not properly specified) file formats around."}],"answers":[{"tags":[],"owner":{"account_id":2693254,"reputation":8153,"user_id":2325987,"accept_rate":91,"display_name":"A Paul"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1608729494,"creation_date":1495249529,"answer_id":44081517,"question_id":43921524,"body_markdown":"Get a certificate in p12 format, as far I know you can not use cert file, there are utilities to do that (like openssl) or the source (from where you generated downloaded the certificate) can give you a p12 format.\r\n\r\n    openssl pkcs12 -export -in mycer.crt -inkey mykey.key -out mycer.p12 -name &quot;mycer&quot;\r\n\r\nAnd then check the below url, it should contain the information you want. \r\n\r\nhttps://stackoverflow.com/questions/1666052/java-https-client-certificate-authentication\r\n\r\nHopefully it helps!","title":"Create SSLContext from private key and cer files","body":"<p>Get a certificate in p12 format, as far I know you can not use cert file, there are utilities to do that (like openssl) or the source (from where you generated downloaded the certificate) can give you a p12 format.</p>\n<pre><code>openssl pkcs12 -export -in mycer.crt -inkey mykey.key -out mycer.p12 -name &quot;mycer&quot;\n</code></pre>\n<p>And then check the below url, it should contain the information you want.</p>\n<p><a href=\"https://stackoverflow.com/questions/1666052/java-https-client-certificate-authentication\">Java HTTPS client certificate authentication</a></p>\n<p>Hopefully it helps!</p>\n"},{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685610368,"creation_date":1607189446,"answer_id":65159895,"question_id":43921524,"body_markdown":"This question is already answered here: https://stackoverflow.com/questions/50025086/in-java-what-is-the-simplest-way-to-create-an-sslcontext-with-just-a-pem-file/65159530#65159530\r\n\r\nI have created a library for this use case to simplify the configuration. It uses bouncy castle under the covers. See below for the usage:\r\n\r\n```\r\nX509ExtendedKeyManager keyManager = PemUtils.loadIdentityMaterial(&quot;certificate-chain.cer&quot;, &quot;mykey.key&quot;);\r\nX509ExtendedTrustManager trustManager = PemUtils.loadTrustMaterial(&quot;mycer.cer&quot;);\r\n\r\nSSLFactory sslFactory = SSLFactory.builder()\r\n          .withIdentityMaterial(keyManager)\r\n          .withTrustMaterial(trustManager)\r\n          .build();\r\n\r\nSSLContext sslContext = sslFactory.getSslContext();\r\n```\r\nTo use the above setup you can use this library:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sslcontext-kickstart-for-pem&lt;/artifactId&gt;\r\n    &lt;version&gt;8.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Create SSLContext from private key and cer files","body":"<p>This question is already answered here: <a href=\"https://stackoverflow.com/questions/50025086/in-java-what-is-the-simplest-way-to-create-an-sslcontext-with-just-a-pem-file/65159530#65159530\">In Java, what is the simplest way to create an SSLContext with just a PEM file?</a></p>\n<p>I have created a library for this use case to simplify the configuration. It uses bouncy castle under the covers. See below for the usage:</p>\n<pre><code>X509ExtendedKeyManager keyManager = PemUtils.loadIdentityMaterial(&quot;certificate-chain.cer&quot;, &quot;mykey.key&quot;);\nX509ExtendedTrustManager trustManager = PemUtils.loadTrustMaterial(&quot;mycer.cer&quot;);\n\nSSLFactory sslFactory = SSLFactory.builder()\n          .withIdentityMaterial(keyManager)\n          .withTrustMaterial(trustManager)\n          .build();\n\nSSLContext sslContext = sslFactory.getSslContext();\n</code></pre>\n<p>To use the above setup you can use this library:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\n    &lt;artifactId&gt;sslcontext-kickstart-for-pem&lt;/artifactId&gt;\n    &lt;version&gt;8.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2271315,"reputation":611,"user_id":1998632,"accept_rate":64,"display_name":"Marwan Jaber"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3927,"favorite_count":0,"down_vote_count":2,"up_vote_count":11,"closed_date":1685619850,"answer_count":2,"score":9,"last_activity_date":1685619875,"creation_date":1494521785,"question_id":43921524,"body_markdown":"I have two files:\r\n- `mycer.cer`\r\n- `mykey.key`\r\n\r\nI need to create a `SslContext` to connect to another server via SSL using Java.\r\nI&#39;m trying to find out how I can create the `SslContext` object directly from those files.\r\n\r\nThis post may be duplicated, but I tried to find a clear explanation with an example to create the `SslContext`, but didn&#39;t find something clear.","title":"Create SSLContext from private key and cer files","body":"<p>I have two files:</p>\n<ul>\n<li><code>mycer.cer</code></li>\n<li><code>mykey.key</code></li>\n</ul>\n<p>I need to create a <code>SslContext</code> to connect to another server via SSL using Java.\nI'm trying to find out how I can create the <code>SslContext</code> object directly from those files.</p>\n<p>This post may be duplicated, but I tried to find a clear explanation with an example to create the <code>SslContext</code>, but didn't find something clear.</p>\n"},{"tags":["java","json"],"answers":[{"comments":[{"owner":{"account_id":25497874,"reputation":41,"user_id":19291667,"display_name":"Siva_K22"},"score":0,"creation_date":1686302703,"post_id":76379528,"comment_id":134783321,"body_markdown":"Thanks @Thumilan , this resolved my issue...","body":"Thanks @Thumilan , this resolved my issue..."}],"tags":[],"owner":{"account_id":10538027,"reputation":63,"user_id":7765194,"display_name":"Thumilan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685603991,"creation_date":1685603991,"answer_id":76379528,"question_id":76379450,"body_markdown":"In the provided code, you are trying to check for null values using dataValue == null. However, in the case of JSON objects, checking for null using == won&#39;t work as expected. Instead, you can use the JsonNull class provided by the Gson library to check for null values.\r\n\r\n    public static String displayName(JsonElement dataValue) {\r\n       if (dataValue == null || dataValue.isJsonNull()) {\r\n           return &quot;&quot;;\r\n       } else {\r\n           JsonObject obj = dataValue.getAsJsonObject();\r\n           return obj.get(&quot;name&quot;).getAsString();\r\n       }\r\n    }\r\nAdditionally, dataObj in the parseData method is of type JsonElement instead of Object to avoid unnecessary conversions.\r\n\r\n        for (JsonElement dataObj : data) {\r\n           JsonParser parser = new JsonParser();\r\n           JsonObject obj = dataObj.getAsJsonObject();\r\n           JsonObject finalDataObj = new JsonObject();\r\n\r\n           JsonObject fieldsObj = obj.getAsJsonObject(&quot;fields&quot;);\r\n           finalDataObj.add(&quot;key&quot;, obj.get(&quot;key&quot;));\r\n           finalDataObj.addProperty(&quot;cityName&quot;, displayName(fieldsObj.get(&quot;cityName&quot;)));\r\n           finalDataObj.addProperty(&quot;category&quot;, displayName(fieldsObj.get(&quot;category&quot;)));\r\n\r\n           dataArray.add(finalDataObj);\r\n        }","title":"Null condition check not working in parsing JSON array with nested objects","body":"<p>In the provided code, you are trying to check for null values using dataValue == null. However, in the case of JSON objects, checking for null using == won't work as expected. Instead, you can use the JsonNull class provided by the Gson library to check for null values.</p>\n<pre><code>public static String displayName(JsonElement dataValue) {\n   if (dataValue == null || dataValue.isJsonNull()) {\n       return &quot;&quot;;\n   } else {\n       JsonObject obj = dataValue.getAsJsonObject();\n       return obj.get(&quot;name&quot;).getAsString();\n   }\n}\n</code></pre>\n<p>Additionally, dataObj in the parseData method is of type JsonElement instead of Object to avoid unnecessary conversions.</p>\n<pre><code>    for (JsonElement dataObj : data) {\n       JsonParser parser = new JsonParser();\n       JsonObject obj = dataObj.getAsJsonObject();\n       JsonObject finalDataObj = new JsonObject();\n\n       JsonObject fieldsObj = obj.getAsJsonObject(&quot;fields&quot;);\n       finalDataObj.add(&quot;key&quot;, obj.get(&quot;key&quot;));\n       finalDataObj.addProperty(&quot;cityName&quot;, displayName(fieldsObj.get(&quot;cityName&quot;)));\n       finalDataObj.addProperty(&quot;category&quot;, displayName(fieldsObj.get(&quot;category&quot;)));\n\n       dataArray.add(finalDataObj);\n    }\n</code></pre>\n"}],"owner":{"account_id":25497874,"reputation":41,"user_id":19291667,"display_name":"Siva_K22"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76379528,"answer_count":1,"score":1,"last_activity_date":1685619404,"creation_date":1685603332,"question_id":76379450,"body_markdown":"Beginner in Java working on parsing JSON array with nested objects into simplified JSON array using the below code. \r\n\r\nIt works fine if there are no null values in the object. The null value check appears to be faulty. I&#39;ve tried other ways like `==null` or `equals(null)` or `equals(&quot;null&quot;)` or `!=null` or `!=&quot;null&quot;` or `==&quot;null&quot;` as well before this. \r\n\r\n```java\r\nimport com.google.gson.*;\r\n\r\npublic class DataParser {\r\n    public static JsonArray parseData(JsonArray data) throws JsonParseException {\r\n\t\tJsonArray dataArray = new JsonArray();\r\n    \tfor (Object dataObj : data) {\r\n            JsonParser parser = new JsonParser();\r\n            JsonObject obj = (JsonObject) parser.parse(dataObj.toString());\r\n            JsonObject finalDataObj = new JsonObject();            \r\n            Object fields = obj.get(&quot;fields&quot;);            \r\n            JsonObject fieldsObj = (JsonObject) parser.parse(fields.toString());\r\n\t\t\tfinalDataObj.add(&quot;key&quot;, obj.get(&quot;key&quot;));\r\n            finalIssueObj.addProperty(&quot;cityName&quot;, displayName(fieldsObj.get(&quot;cityName&quot;)));\r\n            finalIssueObj.addProperty(&quot;category&quot;, displayName(fieldsObj.get(&quot;category&quot;)));\r\n    \t\tdataArray.add(finalDataObj);\r\n    \t}\r\n\t\treturn dataArray;\r\n    }\r\n\t\r\n\t public static String displayName(Object dataValue){\r\n        if ( dataValue == null){\r\n             return &quot;&quot;;\r\n        }\r\n        else {            \r\n            JsonObject obj = (JsonObject)dataValue;\r\n            return obj.get(&quot;name&quot;).toString();\r\n        }\r\n    }\t\r\n}\r\n```\r\n\r\nInput:\r\n\r\n\t[{&quot;key&quot;:&quot;1232&quot;, &quot;fields&quot;: {cityName&quot;:{&quot;id&quot;:&quot;10000&quot;,&quot;description&quot;:&quot;This is city name&quot;,&quot;iconUrl&quot;:&quot;https://iconurls.com&quot;,&quot;name&quot;:&quot;Hyderabad&quot;,&quot;subtask&quot;:false},&quot;updated&quot;:&quot;2023-05-31&quot;,&quot;category&quot;:{&quot;description&quot;:&quot;This is category of city.&quot;,&quot;iconUrl&quot;:&quot;https://category1.icon.com&quot;,&quot;name&quot;:&quot;Dining&quot;}}},\r\n    {&quot;key&quot;:&quot;1233&quot;, &quot;fields&quot;: {cityName&quot;:null,&quot;updated&quot;:&quot;2023-05-31&quot;,&quot;category&quot;:null}}]\r\n    \r\nOutput:\r\n\r\n\t[{&quot;key&quot; : &quot;1232&quot;, &quot;cityName&quot;: &quot;Hyderabad&quot;, &quot;category&quot; : &quot;Dining&quot;}, \r\n    {&quot;key&quot; : &quot;1233&quot;, &quot;cityName&quot;: &quot;&quot;, &quot;category&quot; : &quot;&quot;} ]`","title":"Null condition check not working in parsing JSON array with nested objects","body":"<p>Beginner in Java working on parsing JSON array with nested objects into simplified JSON array using the below code.</p>\n<p>It works fine if there are no null values in the object. The null value check appears to be faulty. I've tried other ways like <code>==null</code> or <code>equals(null)</code> or <code>equals(&quot;null&quot;)</code> or <code>!=null</code> or <code>!=&quot;null&quot;</code> or <code>==&quot;null&quot;</code> as well before this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.gson.*;\n\npublic class DataParser {\n    public static JsonArray parseData(JsonArray data) throws JsonParseException {\n        JsonArray dataArray = new JsonArray();\n        for (Object dataObj : data) {\n            JsonParser parser = new JsonParser();\n            JsonObject obj = (JsonObject) parser.parse(dataObj.toString());\n            JsonObject finalDataObj = new JsonObject();            \n            Object fields = obj.get(&quot;fields&quot;);            \n            JsonObject fieldsObj = (JsonObject) parser.parse(fields.toString());\n            finalDataObj.add(&quot;key&quot;, obj.get(&quot;key&quot;));\n            finalIssueObj.addProperty(&quot;cityName&quot;, displayName(fieldsObj.get(&quot;cityName&quot;)));\n            finalIssueObj.addProperty(&quot;category&quot;, displayName(fieldsObj.get(&quot;category&quot;)));\n            dataArray.add(finalDataObj);\n        }\n        return dataArray;\n    }\n    \n     public static String displayName(Object dataValue){\n        if ( dataValue == null){\n             return &quot;&quot;;\n        }\n        else {            \n            JsonObject obj = (JsonObject)dataValue;\n            return obj.get(&quot;name&quot;).toString();\n        }\n    }   \n}\n</code></pre>\n<p>Input:</p>\n<pre><code>[{&quot;key&quot;:&quot;1232&quot;, &quot;fields&quot;: {cityName&quot;:{&quot;id&quot;:&quot;10000&quot;,&quot;description&quot;:&quot;This is city name&quot;,&quot;iconUrl&quot;:&quot;https://iconurls.com&quot;,&quot;name&quot;:&quot;Hyderabad&quot;,&quot;subtask&quot;:false},&quot;updated&quot;:&quot;2023-05-31&quot;,&quot;category&quot;:{&quot;description&quot;:&quot;This is category of city.&quot;,&quot;iconUrl&quot;:&quot;https://category1.icon.com&quot;,&quot;name&quot;:&quot;Dining&quot;}}},\n{&quot;key&quot;:&quot;1233&quot;, &quot;fields&quot;: {cityName&quot;:null,&quot;updated&quot;:&quot;2023-05-31&quot;,&quot;category&quot;:null}}]\n</code></pre>\n<p>Output:</p>\n<pre><code>[{&quot;key&quot; : &quot;1232&quot;, &quot;cityName&quot;: &quot;Hyderabad&quot;, &quot;category&quot; : &quot;Dining&quot;}, \n{&quot;key&quot; : &quot;1233&quot;, &quot;cityName&quot;: &quot;&quot;, &quot;category&quot; : &quot;&quot;} ]`\n</code></pre>\n"},{"tags":["java","pcap","pcap4j"],"owner":{"account_id":28726133,"reputation":1,"user_id":21998925,"display_name":"user21998925"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685619398,"creation_date":1685610087,"question_id":76380270,"body_markdown":"pcap4j sendPacket \r\n\r\nThe target IP cannot capture the corresponding message.\r\n\r\n        PcapHandle pcapHandle = Pcaps.openOffline(&quot;D:\\\\GTP.pcap&quot;);\r\n        PcapNetworkInterface device = Pcaps.getDevByName(&quot;\\\\Device\\\\NPF_{32B17C2A-F521-4721-90CA-C57DF0024F01}&quot;);\r\n        int snapshotLength = 65536;\r\n        int readTimeout = 50;\r\n        PcapHandle handle = device.openLive(snapshotLength, PcapNetworkInterface.PromiscuousMode.PROMISCUOUS, readTimeout);\r\n        String str=null;\r\n        while (true){\r\n            Packet packet = pcapHandle.getNextPacket();\r\n            if(packet==null){\r\n                break;\r\n            }\r\n            EthernetPacket ethernetPacket = packet.get(EthernetPacket.class);\r\n            EthernetPacket.EthernetHeader header = ethernetPacket.getHeader();\r\n            GtpV1Packet gtpPacket = packet.get(GtpV1Packet.class);\r\n            Packet innerPacket = gtpPacket.getPayload();\r\n            byte[] rawData = innerPacket.getRawData();\r\n            byte[] newRawData = Arrays.copyOfRange(rawData, 4, rawData.length);\r\n            IpV4Packet newPacket = IpV4Packet.newPacket(newRawData, 0, newRawData.length);\r\n            if (newPacket.contains(IpPacket.class)) {\r\n                IpV4Packet ipPacket = newPacket.get(IpV4Packet.class);\r\n                InetAddress src = ipPacket.getHeader().getSrcAddr();\r\n                InetAddress dst = ipPacket.getHeader().getDstAddr();\r\n                if(StringUtil.isEmpty(str)){\r\n                    str=src.getHostAddress();\r\n                }\r\n                IpV4Packet.Builder builder = ipPacket.getBuilder();\r\n                Inet4Address srcAddr=null;\r\n                Inet4Address dstAddr=null;\r\n                if(src.getHostAddress().equals(str)){\r\n                    srcAddr=(Inet4Address) InetAddress.getLocalHost();\r\n                }else{\r\n                    srcAddr=(Inet4Address) InetAddress.getByName(ip);\r\n                }\r\n                if(dst.getHostAddress().equals(str)){\r\n                    dstAddr=(Inet4Address)InetAddress.getLocalHost();\r\n                }else {\r\n                    dstAddr=(Inet4Address) InetAddress.getByName(ip);\r\n                }\r\n                builder.srcAddr(srcAddr);\r\n                builder.dstAddr(dstAddr);\r\n                EthernetPacket.Builder eb = new EthernetPacket.Builder();\r\n                eb.dstAddr(header.getDstAddr())\r\n                        .srcAddr(header.getSrcAddr())\r\n                        .type(EtherType.IPV4)\r\n                        .payloadBuilder(builder)\r\n                        .paddingAtBuild(true);\r\n                EthernetPacket build = eb.build();\r\n                handle.sendPacket(build);\r\n            }\r\n        }","title":"pcap4j sendPacket The target IP cannot capture the corresponding message","body":"<p>pcap4j sendPacket</p>\n<p>The target IP cannot capture the corresponding message.</p>\n<pre><code>    PcapHandle pcapHandle = Pcaps.openOffline(&quot;D:\\\\GTP.pcap&quot;);\n    PcapNetworkInterface device = Pcaps.getDevByName(&quot;\\\\Device\\\\NPF_{32B17C2A-F521-4721-90CA-C57DF0024F01}&quot;);\n    int snapshotLength = 65536;\n    int readTimeout = 50;\n    PcapHandle handle = device.openLive(snapshotLength, PcapNetworkInterface.PromiscuousMode.PROMISCUOUS, readTimeout);\n    String str=null;\n    while (true){\n        Packet packet = pcapHandle.getNextPacket();\n        if(packet==null){\n            break;\n        }\n        EthernetPacket ethernetPacket = packet.get(EthernetPacket.class);\n        EthernetPacket.EthernetHeader header = ethernetPacket.getHeader();\n        GtpV1Packet gtpPacket = packet.get(GtpV1Packet.class);\n        Packet innerPacket = gtpPacket.getPayload();\n        byte[] rawData = innerPacket.getRawData();\n        byte[] newRawData = Arrays.copyOfRange(rawData, 4, rawData.length);\n        IpV4Packet newPacket = IpV4Packet.newPacket(newRawData, 0, newRawData.length);\n        if (newPacket.contains(IpPacket.class)) {\n            IpV4Packet ipPacket = newPacket.get(IpV4Packet.class);\n            InetAddress src = ipPacket.getHeader().getSrcAddr();\n            InetAddress dst = ipPacket.getHeader().getDstAddr();\n            if(StringUtil.isEmpty(str)){\n                str=src.getHostAddress();\n            }\n            IpV4Packet.Builder builder = ipPacket.getBuilder();\n            Inet4Address srcAddr=null;\n            Inet4Address dstAddr=null;\n            if(src.getHostAddress().equals(str)){\n                srcAddr=(Inet4Address) InetAddress.getLocalHost();\n            }else{\n                srcAddr=(Inet4Address) InetAddress.getByName(ip);\n            }\n            if(dst.getHostAddress().equals(str)){\n                dstAddr=(Inet4Address)InetAddress.getLocalHost();\n            }else {\n                dstAddr=(Inet4Address) InetAddress.getByName(ip);\n            }\n            builder.srcAddr(srcAddr);\n            builder.dstAddr(dstAddr);\n            EthernetPacket.Builder eb = new EthernetPacket.Builder();\n            eb.dstAddr(header.getDstAddr())\n                    .srcAddr(header.getSrcAddr())\n                    .type(EtherType.IPV4)\n                    .payloadBuilder(builder)\n                    .paddingAtBuild(true);\n            EthernetPacket build = eb.build();\n            handle.sendPacket(build);\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","date"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1685617008,"post_id":76380830,"comment_id":134686566,"body_markdown":"Can you avoid using the cumbersome and long outdated `Calendar` class? `java.util.Date` and `java.sql.Date` are not (much) better. At least if using at least version 5.0 of Hibernate, you can use `LocalDate`. Itâs independent of time zone so should eliminate your problem.","body":"Can you avoid using the cumbersome and long outdated <code>Calendar</code> class? <code>java.util.Date</code> and <code>java.sql.Date</code> are not (much) better. At least if using at least version 5.0 of Hibernate, you can use <code>LocalDate</code>. Itâs independent of time zone so should eliminate your problem."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685617025,"post_id":76380830,"comment_id":134686571,"body_markdown":"Which database engine and which data type in the database?","body":"Which database engine and which data type in the database?"}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685849797,"post_id":76380968,"comment_id":134717630,"body_markdown":"While setting the default time zone of the program may be a good idea: (1) Donât use the outdated `TimeZone` class for that. Start the program with JVM argument `-Duser.timezone=UTC`. (2) Itâs fragile because someone else may exactly use `TimeZone` to override the value you set. This can be done not only from any part of the program but also from any other program running in the same JVM.","body":"While setting the default time zone of the program may be a good idea: (1) Donât use the outdated <code>TimeZone</code> class for that. Start the program with JVM argument <code>-Duser.timezone=UTC</code>. (2) Itâs fragile because someone else may exactly use <code>TimeZone</code> to override the value you set. This can be done not only from any part of the program but also from any other program running in the same JVM."}],"tags":[],"owner":{"account_id":14838004,"reputation":56,"user_id":10715499,"display_name":"Ken.Zhang"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685615232,"creation_date":1685615232,"answer_id":76380968,"question_id":76380830,"body_markdown":"The issue you&#39;re facing is indeed related to time zones. When you store the dob value in the database, it&#39;s stored as the exact date and time provided. However, when you retrieve it, the time zone conversion takes place, causing the date to appear different.\r\nTry use `TimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;));`\r\nand set spring.datasource.url: jdbc:mysql://127.0.0.1:3306/database?**serverTimezone=UTC**","title":"Spring Boot Wrong date returned","body":"<p>The issue you're facing is indeed related to time zones. When you store the dob value in the database, it's stored as the exact date and time provided. However, when you retrieve it, the time zone conversion takes place, causing the date to appear different.\nTry use <code>TimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;));</code>\nand set spring.datasource.url: jdbc:mysql://127.0.0.1:3306/database?<strong>serverTimezone=UTC</strong></p>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685619323,"creation_date":1685619323,"answer_id":76381444,"question_id":76380830,"body_markdown":"If Applicable try to switch from class `Calendar` to `LocalDate`. `LocalDate` does not take time zone into consideration. This should resolve your issue (and simplify your code). Also, for formatting the `LocalDate` with Json see the answer to this question: [Spring Data JPA - ZonedDateTime format for json serialization][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31627992/spring-data-jpa-zoneddatetime-format-for-json-serialization","title":"Spring Boot Wrong date returned","body":"<p>If Applicable try to switch from class <code>Calendar</code> to <code>LocalDate</code>. <code>LocalDate</code> does not take time zone into consideration. This should resolve your issue (and simplify your code). Also, for formatting the <code>LocalDate</code> with Json see the answer to this question: <a href=\"https://stackoverflow.com/questions/31627992/spring-data-jpa-zoneddatetime-format-for-json-serialization\">Spring Data JPA - ZonedDateTime format for json serialization</a></p>\n"}],"owner":{"account_id":27784879,"reputation":389,"user_id":21212553,"display_name":"galalem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76381444,"answer_count":2,"score":0,"last_activity_date":1685619323,"creation_date":1685614157,"question_id":76380830,"body_markdown":"I have an entity Person\r\n```\r\n@Entity\r\n@Data\r\npublic class Person {\r\n\r\n  @Temporal(TemporalType.DATE)\r\n  private Calendar dob;\r\n}\r\n```\r\nAnd some dao classes\r\n```\r\n@Data\r\npublic class PersonResponse {\r\n\r\n  @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n  private Calendar dob;\r\n}\r\n```\r\n\r\n```\r\n@Data\r\npublic class PersonRequest{\r\n  @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n  private Calendar dob;\r\n}\r\n```\r\n\r\nWhen storing values it works perfectly. Example if I send &quot;2000-01-01&quot; it&#39;s stored as is in the database &quot;2000-01-01&quot;. But When I try to return it I get &quot;1999-12-31&quot;.\r\n\r\nNow it&#39;s clear that is a ***Timezone Problem*** but I don&#39;t know how to fix it.\r\n##### My explanation for the cause\r\nThe user timezone is GMT+1 so it is some how retrieved as &quot;2000-01-01T00:00:00.000 +01:00&quot;, then parsed to UTC &quot;1999-12-31T23:00:00.000 +00:00&quot; to finally be returned as &quot;1999-12-31&quot;.\r\n\r\nBut why? And how can I prevent this knowing that users timezones can change (so adding the time offset manually of 1 hour won&#39;t work).\r\n\r\nI tried also changing type from Calendar to java.util.Date and java.sql.Date... but no result.\r\n\r\nSimilar questions where asked before like [this one](https://stackoverflow.com/questions/50829014/spring-bootreturn-wrong-value-date-in-json-response) but I still couldn&#39;t understand how to fix it","title":"Spring Boot Wrong date returned","body":"<p>I have an entity Person</p>\n<pre><code>@Entity\n@Data\npublic class Person {\n\n  @Temporal(TemporalType.DATE)\n  private Calendar dob;\n}\n</code></pre>\n<p>And some dao classes</p>\n<pre><code>@Data\npublic class PersonResponse {\n\n  @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)\n  private Calendar dob;\n}\n</code></pre>\n<pre><code>@Data\npublic class PersonRequest{\n  @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n  private Calendar dob;\n}\n</code></pre>\n<p>When storing values it works perfectly. Example if I send &quot;2000-01-01&quot; it's stored as is in the database &quot;2000-01-01&quot;. But When I try to return it I get &quot;1999-12-31&quot;.</p>\n<p>Now it's clear that is a <em><strong>Timezone Problem</strong></em> but I don't know how to fix it.</p>\n<h5>My explanation for the cause</h5>\n<p>The user timezone is GMT+1 so it is some how retrieved as &quot;2000-01-01T00:00:00.000 +01:00&quot;, then parsed to UTC &quot;1999-12-31T23:00:00.000 +00:00&quot; to finally be returned as &quot;1999-12-31&quot;.</p>\n<p>But why? And how can I prevent this knowing that users timezones can change (so adding the time offset manually of 1 hour won't work).</p>\n<p>I tried also changing type from Calendar to java.util.Date and java.sql.Date... but no result.</p>\n<p>Similar questions where asked before like <a href=\"https://stackoverflow.com/questions/50829014/spring-bootreturn-wrong-value-date-in-json-response\">this one</a> but I still couldn't understand how to fix it</p>\n"},{"tags":["java","oracle","timestamp","xmlgregoriancalendar"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1685459015,"post_id":76366101,"comment_id":134661187,"body_markdown":"How did you declare the timestamp column in SQL?   Just `TIMESTAMP`?","body":"How did you declare the timestamp column in SQL?   Just <code>TIMESTAMP</code>?"},{"owner":{"account_id":98359,"reputation":184997,"user_id":266304,"display_name":"Alex Poole"},"score":2,"creation_date":1685459582,"post_id":76366101,"comment_id":134661325,"body_markdown":"It looks like your column might be defined as `TIMESTAMP(3)` - if you don&#39;t have the DDL you can check that in `user_tab_columns` or `all_tab_columns`.","body":"It looks like your column might be defined as <code>TIMESTAMP(3)</code> - if you don&#39;t have the DDL you can check that in <code>user_tab_columns</code> or <code>all_tab_columns</code>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1685461436,"post_id":76366101,"comment_id":134661776,"body_markdown":"What *exactly* is the data type of your column? Voting to close for insufficient information.","body":"What <i>exactly</i> is the data type of your column? Voting to close for insufficient information."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1685461520,"post_id":76366101,"comment_id":134661792,"body_markdown":"Why involve the legacy class `XMLGregorianCalendar`?","body":"Why involve the legacy class <code>XMLGregorianCalendar</code>?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1685461608,"post_id":76366101,"comment_id":134661808,"body_markdown":"I cannot imagine a case where calling `LocalDateTime.now()` is the right thing to do. That class lacks the context of a time zone or offset, so it cannot represent a point on the timeline.","body":"I cannot imagine a case where calling <code>LocalDateTime.now()</code> is the right thing to do. That class lacks the context of a time zone or offset, so it cannot represent a point on the timeline."},{"owner":{"account_id":7927892,"reputation":1594,"user_id":6306558,"accept_rate":84,"display_name":"Yunus Haznedar"},"score":0,"creation_date":1685516650,"post_id":76366101,"comment_id":134669254,"body_markdown":"I do not know who voted for closing this question but I couldnt check the answer. As I said I declared as TIMESTAMP(6).","body":"I do not know who voted for closing this question but I couldnt check the answer. As I said I declared as TIMESTAMP(6)."},{"owner":{"account_id":7927892,"reputation":1594,"user_id":6306558,"accept_rate":84,"display_name":"Yunus Haznedar"},"score":0,"creation_date":1685516789,"post_id":76366101,"comment_id":134669273,"body_markdown":"@BasilBourque can I ask what is the reason to vote for closure? Please read the question carefully next time.","body":"@BasilBourque can I ask what is the reason to vote for closure? Please read the question carefully next time."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1685519075,"post_id":76366101,"comment_id":134669713,"body_markdown":"Your Question has many issues. For one: You speak of output from Java, and output from the database, but you do not show code for either. For another: you include some needlessly convoluted code with `XMLGregorianCalendar` that is likely irrelevant to your issue.","body":"Your Question has many issues. For one: You speak of output from Java, and output from the database, but you do not show code for either. For another: you include some needlessly convoluted code with <code>XMLGregorianCalendar</code> that is likely irrelevant to your issue."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1685519090,"post_id":76366101,"comment_id":134669718,"body_markdown":"It is a bit disingenuous to accuse Basil of not reading the question.  We can read the edit history to see where and when you edited the question to respond to his comments.","body":"It is a bit disingenuous to accuse Basil of not reading the question.  We can read the edit history to see where and when you edited the question to respond to his comments."},{"owner":{"account_id":7927892,"reputation":1594,"user_id":6306558,"accept_rate":84,"display_name":"Yunus Haznedar"},"score":0,"creation_date":1685519459,"post_id":76366101,"comment_id":134669813,"body_markdown":"I shared the code that I am using the java. I added sql mapping and calling now. If you specify, I can share the what you need.","body":"I shared the code that I am using the java. I added sql mapping and calling now. If you specify, I can share the what you need."},{"owner":{"account_id":236811,"reputation":13011,"user_id":504547,"display_name":"Martin Schapendonk"},"score":0,"creation_date":1685522260,"post_id":76366101,"comment_id":134670437,"body_markdown":"The next step would be to also post the code of the `dummytest` procedure. Also, I&#39;m not too familiar with jdbcType Timestamp but the docs at https://docs.oracle.com/javase/8/docs/api/index.html?java/sql/Timestamp.html suggest that the resolution is milliseconds at best.","body":"The next step would be to also post the code of the <code>dummytest</code> procedure. Also, I&#39;m not too familiar with jdbcType Timestamp but the docs at <a href=\"https://docs.oracle.com/javase/8/docs/api/index.html?java/sql/Timestamp.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/index.html?java/sql/&hellip;</a> suggest that the resolution is milliseconds at best."},{"owner":{"account_id":7927892,"reputation":1594,"user_id":6306558,"accept_rate":84,"display_name":"Yunus Haznedar"},"score":0,"creation_date":1685522541,"post_id":76366101,"comment_id":134670509,"body_markdown":"@MartinSchapendonk thanks for your kind message. Unfortunately in my case, I need microseconds.","body":"@MartinSchapendonk thanks for your kind message. Unfortunately in my case, I need microseconds."},{"owner":{"account_id":7927892,"reputation":1594,"user_id":6306558,"accept_rate":84,"display_name":"Yunus Haznedar"},"score":1,"creation_date":1685523363,"post_id":76366101,"comment_id":134670681,"body_markdown":"@MartinSchapendonk also added the code of dummytest procedure.","body":"@MartinSchapendonk also added the code of dummytest procedure."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685538892,"post_id":76366101,"comment_id":134674140,"body_markdown":"@MartinSchapendonk I donât know whether itâs relevant.  From your doc link: *... the ability to hold the SQL `TIMESTAMP` fractional seconds value, by allowing the specification of fractional seconds to a precision of nanoseconds.* However the `java.sql.Timestamp` class is outdated and should not be used provided that Oracle is offering a JDBC 4.2 compliant driver allowing to use `LocalDateTime` (also offering nanosecond precision).","body":"@MartinSchapendonk I donât know whether itâs relevant.  From your doc link: <i>... the ability to hold the SQL <code>TIMESTAMP</code> fractional seconds value, by allowing the specification of fractional seconds to a precision of nanoseconds.</i> However the <code>java.sql.Timestamp</code> class is outdated and should not be used provided that Oracle is offering a JDBC 4.2 compliant driver allowing to use <code>LocalDateTime</code> (also offering nanosecond precision)."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685538980,"post_id":76366101,"comment_id":134674161,"body_markdown":"In the declaration of the stored procedure, in `dummytest(p_timestamp TIMESTAMP)` it does not say `TIMESTAMP(6)`. Might this be the issue??","body":"In the declaration of the stored procedure, in <code>dummytest(p_timestamp TIMESTAMP)</code> it does not say <code>TIMESTAMP(6)</code>. Might this be the issue??"},{"owner":{"account_id":7927892,"reputation":1594,"user_id":6306558,"accept_rate":84,"display_name":"Yunus Haznedar"},"score":1,"creation_date":1685606286,"post_id":76366101,"comment_id":134684284,"body_markdown":"@OleV.V. In PLSQL procedure declaration you cannot specify length. such as varchar2(100), timestamp(6), etc.","body":"@OleV.V. In PLSQL procedure declaration you cannot specify length. such as varchar2(100), timestamp(6), etc."},{"owner":{"account_id":236811,"reputation":13011,"user_id":504547,"display_name":"Martin Schapendonk"},"score":0,"creation_date":1685614488,"post_id":76366101,"comment_id":134686044,"body_markdown":"Thanks for your additions, I&#39;m afraid I can&#39;t help you further.","body":"Thanks for your additions, I&#39;m afraid I can&#39;t help you further."}],"answers":[{"tags":[],"owner":{"account_id":7927892,"reputation":1594,"user_id":6306558,"accept_rate":84,"display_name":"Yunus Haznedar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685618791,"creation_date":1685618791,"answer_id":76381375,"question_id":76366101,"body_markdown":"The problem is fixed by custom handler in java side.\r\n\r\n    &lt;select id=&quot;add_time&quot; statementType=&quot;CALLABLE&quot; parameterType=&quot;java.util.Map&quot;&gt;\r\n            {call dummytest(\r\n                    #{time, mode=IN, jdbcType=TIMESTAMP, typeHandler = com.project.yunus.XMLGregorianCalendarWithFractionalTypeHandler}\r\n                )}\r\n        &lt;/select&gt;\r\n\r\nContent of XMLGregorianCalendarWithFractionalTypeHandler:\r\n\r\n    public class XMLGregorianCalendarWithFractionalTypeHandler implements TypeHandler {\r\n        public XMLGregorianCalendarWithFractionalTypeHandler() {\r\n        }\r\n    \r\n        public void setParameter(PreparedStatement paramPreparedStatement, int paramInt, Object paramObject, JdbcType paramJdbcType) throws SQLException {\r\n            if (paramObject == null) {\r\n                paramPreparedStatement.setNull(paramInt, 93);\r\n            } else {\r\n                if (!(paramObject instanceof XMLGregorianCalendar)) {\r\n                    throw new IllegalArgumentException(&quot;Excepted XMLGregorianCalendar, but have: &quot; + paramObject);\r\n                }\r\n    \r\n                XMLGregorianCalendar objectCalendar = ((XMLGregorianCalendar)paramObject);\r\n                Timestamp timestamp = Timestamp.valueOf(objectCalendar.toString().replace(&quot;T&quot;, &quot; &quot;));\r\n                paramPreparedStatement.setTimestamp(paramInt, timestamp);\r\n            }\r\n    \r\n        }\r\n    \r\n        public Object getResult(ResultSet rs, String columnLabel) throws SQLException {\r\n            Timestamp value = rs.getTimestamp(columnLabel);\r\n            return rs.wasNull() ? null : stringToXMLGregorianCalendar(value);\r\n        }\r\n    \r\n        public Object getResult(ResultSet rs, int columnIndex) throws SQLException {\r\n            Timestamp value = rs.getTimestamp(columnIndex);\r\n            return rs.wasNull() ? null : stringToXMLGregorianCalendar(value);\r\n        }\r\n    \r\n        public Object getResult(CallableStatement rs, int columnNb) throws SQLException {\r\n            Timestamp value = rs.getTimestamp(columnNb);\r\n            return rs.wasNull() ? null : stringToXMLGregorianCalendar(value);\r\n        }\r\n    \r\n        private static XMLGregorianCalendar stringToXMLGregorianCalendar(Timestamp value) {\r\n            try {\r\n                return dateToXMLGregorianCalendar(value);\r\n            } catch (Exception var2) {\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        public static XMLGregorianCalendar dateToXMLGregorianCalendar(Timestamp timestamp) throws DatatypeConfigurationException {\r\n            return  DatatypeFactory.newInstance().newXMLGregorianCalendar(timestamp.toString().replace(&quot; &quot;, &quot;T&quot;));\r\n    \r\n        }\r\n\r\n","title":"Cannot set microsecond value from Java to the Oracle","body":"<p>The problem is fixed by custom handler in java side.</p>\n<pre><code>&lt;select id=&quot;add_time&quot; statementType=&quot;CALLABLE&quot; parameterType=&quot;java.util.Map&quot;&gt;\n        {call dummytest(\n                #{time, mode=IN, jdbcType=TIMESTAMP, typeHandler = com.project.yunus.XMLGregorianCalendarWithFractionalTypeHandler}\n            )}\n    &lt;/select&gt;\n</code></pre>\n<p>Content of XMLGregorianCalendarWithFractionalTypeHandler:</p>\n<pre><code>public class XMLGregorianCalendarWithFractionalTypeHandler implements TypeHandler {\n    public XMLGregorianCalendarWithFractionalTypeHandler() {\n    }\n\n    public void setParameter(PreparedStatement paramPreparedStatement, int paramInt, Object paramObject, JdbcType paramJdbcType) throws SQLException {\n        if (paramObject == null) {\n            paramPreparedStatement.setNull(paramInt, 93);\n        } else {\n            if (!(paramObject instanceof XMLGregorianCalendar)) {\n                throw new IllegalArgumentException(&quot;Excepted XMLGregorianCalendar, but have: &quot; + paramObject);\n            }\n\n            XMLGregorianCalendar objectCalendar = ((XMLGregorianCalendar)paramObject);\n            Timestamp timestamp = Timestamp.valueOf(objectCalendar.toString().replace(&quot;T&quot;, &quot; &quot;));\n            paramPreparedStatement.setTimestamp(paramInt, timestamp);\n        }\n\n    }\n\n    public Object getResult(ResultSet rs, String columnLabel) throws SQLException {\n        Timestamp value = rs.getTimestamp(columnLabel);\n        return rs.wasNull() ? null : stringToXMLGregorianCalendar(value);\n    }\n\n    public Object getResult(ResultSet rs, int columnIndex) throws SQLException {\n        Timestamp value = rs.getTimestamp(columnIndex);\n        return rs.wasNull() ? null : stringToXMLGregorianCalendar(value);\n    }\n\n    public Object getResult(CallableStatement rs, int columnNb) throws SQLException {\n        Timestamp value = rs.getTimestamp(columnNb);\n        return rs.wasNull() ? null : stringToXMLGregorianCalendar(value);\n    }\n\n    private static XMLGregorianCalendar stringToXMLGregorianCalendar(Timestamp value) {\n        try {\n            return dateToXMLGregorianCalendar(value);\n        } catch (Exception var2) {\n            return null;\n        }\n    }\n\n    public static XMLGregorianCalendar dateToXMLGregorianCalendar(Timestamp timestamp) throws DatatypeConfigurationException {\n        return  DatatypeFactory.newInstance().newXMLGregorianCalendar(timestamp.toString().replace(&quot; &quot;, &quot;T&quot;));\n\n    }\n</code></pre>\n"}],"owner":{"account_id":7927892,"reputation":1594,"user_id":6306558,"accept_rate":84,"display_name":"Yunus Haznedar"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76381375,"answer_count":1,"score":-1,"last_activity_date":1685618791,"creation_date":1685458355,"question_id":76366101,"body_markdown":"I have a date which created from current time and the object type is XMLGregorianCalendar. In Java, I can see that my date has microseconds but in the SQL, it is set as 0. What is the exact problem here?\r\n\r\n        public static XMLGregorianCalendar initializeTime(LocalDateTime localDateTime) {\r\n            try {\r\n                XMLGregorianCalendar time= DatatypeFactory.newInstance()\r\n                  .newXMLGregorianCalendar(String.valueOf\r\n                  (LocalDateTime.now().truncatedTo(ChronoUnit.MICROS)));\r\n                \r\n            return time;\r\n            } catch (DatatypeConfigurationException var3) {\r\n                throw new RuntimeException(&quot;Execution time could not created.&quot;);\r\n            }\r\n        }\r\n\r\n\r\n  \r\nIn Java it shows: 2023-05-24T15:50:07.931456\r\n\r\nBut in the SQL (the type is TIMESTAMP(6)) it shows like this : 24-MAY-23 15.50.07.931000000 PM\r\n\r\nSQL calling, you can find it down below.\r\ndummytest is a procedure basically taking a param and inserting this param into a table.\r\n\r\n    &lt;select id=&quot;add_time&quot; statementType=&quot;CALLABLE&quot; parameterType=&quot;java.util.Map&quot;&gt;\r\n            {call dummytest(\r\n                    #{time, mode=IN, jdbcType=TIMESTAMP}\r\n                )}\r\n        &lt;/select&gt;\r\n\r\nprocedure code:\r\n\r\n    create or replace procedure dummytest(p_timestamp TIMESTAMP) is\r\n    begin\r\n      insert into testtimestamp values (p_timestamp);\r\n      commit;\r\n    end ;\r\n\r\nI am losing the microsecond precision. I have to use XMLGregorianCalendar because all code designed for this API.","title":"Cannot set microsecond value from Java to the Oracle","body":"<p>I have a date which created from current time and the object type is XMLGregorianCalendar. In Java, I can see that my date has microseconds but in the SQL, it is set as 0. What is the exact problem here?</p>\n<pre><code>    public static XMLGregorianCalendar initializeTime(LocalDateTime localDateTime) {\n        try {\n            XMLGregorianCalendar time= DatatypeFactory.newInstance()\n              .newXMLGregorianCalendar(String.valueOf\n              (LocalDateTime.now().truncatedTo(ChronoUnit.MICROS)));\n            \n        return time;\n        } catch (DatatypeConfigurationException var3) {\n            throw new RuntimeException(&quot;Execution time could not created.&quot;);\n        }\n    }\n</code></pre>\n<p>In Java it shows: 2023-05-24T15:50:07.931456</p>\n<p>But in the SQL (the type is TIMESTAMP(6)) it shows like this : 24-MAY-23 15.50.07.931000000 PM</p>\n<p>SQL calling, you can find it down below.\ndummytest is a procedure basically taking a param and inserting this param into a table.</p>\n<pre><code>&lt;select id=&quot;add_time&quot; statementType=&quot;CALLABLE&quot; parameterType=&quot;java.util.Map&quot;&gt;\n        {call dummytest(\n                #{time, mode=IN, jdbcType=TIMESTAMP}\n            )}\n    &lt;/select&gt;\n</code></pre>\n<p>procedure code:</p>\n<pre><code>create or replace procedure dummytest(p_timestamp TIMESTAMP) is\nbegin\n  insert into testtimestamp values (p_timestamp);\n  commit;\nend ;\n</code></pre>\n<p>I am losing the microsecond precision. I have to use XMLGregorianCalendar because all code designed for this API.</p>\n"},{"tags":["java","json","gson","json-simple"],"comments":[{"owner":{"account_id":140327,"reputation":43675,"user_id":346561,"accept_rate":94,"display_name":"Jesse Webb"},"score":2,"creation_date":1306506195,"post_id":6153176,"comment_id":7147382,"body_markdown":"&#39;Show me the code&#39; of what you&#39;ve tried. Links to libs should be perfectly fine, you can learn on your own from there. If your question was &quot;How do you parse JSON with XXX lib?&quot;, then your request for code is valid, otherwise, don&#39;t be afraid to experiment with something new.","body":"&#39;Show me the code&#39; of what you&#39;ve tried. Links to libs should be perfectly fine, you can learn on your own from there. If your question was &quot;How do you parse JSON with XXX lib?&quot;, then your request for code is valid, otherwise, don&#39;t be afraid to experiment with something new."},{"owner":{"account_id":390729,"reputation":65307,"user_id":750987,"display_name":"Programmer Bruce"},"score":0,"creation_date":1308282557,"post_id":6153176,"comment_id":7475548,"body_markdown":"Was this issue resolved?","body":"Was this issue resolved?"},{"owner":{"account_id":2762334,"reputation":133,"user_id":2378974,"display_name":"Suliman Alzamel"},"score":0,"creation_date":1460457178,"post_id":6153176,"comment_id":60739969,"body_markdown":"try this \n    import com.google.gson.JsonObject;\n    import com.google.gson.JsonParser;\n\n    JsonParser parser = new JsonParser();\n    JsonObject obj = parser.parse(jsonString).getAsJsonObject();\n    String age = obj.get(&quot;age&quot;).getAsString();","body":"try this      import com.google.gson.JsonObject;     import com.google.gson.JsonParser;      JsonParser parser = new JsonParser();     JsonObject obj = parser.parse(jsonString).getAsJsonObject();     String age = obj.get(&quot;age&quot;).getAsString();"},{"owner":{"account_id":133310,"reputation":6104,"user_id":334569,"accept_rate":73,"display_name":"Marco Lackovic"},"score":0,"creation_date":1685604019,"post_id":6153176,"comment_id":134683868,"body_markdown":"The question was closed (unjustifiably) so I will have to answer in a comment: add `implementation(&#39;org.json:json:20230227&#39;)` to your `build.gradle`, then `int age = new JSONObject(yourJsonString).getInt(&quot;age&quot;)`","body":"The question was closed (unjustifiably) so I will have to answer in a comment: add <code>implementation(&#39;org.json:json:20230227&#39;)</code> to your <code>build.gradle</code>, then <code>int age = new JSONObject(yourJsonString).getInt(&quot;age&quot;)</code>"}],"answers":[{"comments":[{"owner":{"account_id":542593,"reputation":3179,"user_id":911412,"accept_rate":65,"display_name":"Abby"},"score":2,"creation_date":1361960138,"post_id":6153294,"comment_id":21259430,"body_markdown":"The question was to find &#39;field&#39;, not age. The idea being a sub-key is required, not an immediate one.","body":"The question was to find &#39;field&#39;, not age. The idea being a sub-key is required, not an immediate one."},{"owner":{"account_id":404706,"reputation":7875,"user_id":773189,"accept_rate":83,"display_name":"devconsole"},"score":5,"creation_date":1361983412,"post_id":6153294,"comment_id":21273988,"body_markdown":"Actually I think the question was specifically how to find field &#39;age&#39;.","body":"Actually I think the question was specifically how to find field &#39;age&#39;."},{"owner":{"account_id":3024546,"reputation":18815,"user_id":2564847,"accept_rate":75,"display_name":"Robin Dijkhof"},"score":0,"creation_date":1503654617,"post_id":6153294,"comment_id":78715789,"body_markdown":"Link is dead...","body":"Link is dead..."},{"owner":{"account_id":404706,"reputation":7875,"user_id":773189,"accept_rate":83,"display_name":"devconsole"},"score":0,"creation_date":1503819957,"post_id":6153294,"comment_id":78764200,"body_markdown":"@RobinDijkhof I have updated my answer","body":"@RobinDijkhof I have updated my answer"},{"owner":{"account_id":19296215,"reputation":703,"user_id":14105130,"display_name":"YourHelper"},"score":0,"creation_date":1642374093,"post_id":6153294,"comment_id":125047716,"body_markdown":"where is the &#39;getInt()&#39; method","body":"where is the &#39;getInt()&#39; method"}],"tags":[],"owner":{"account_id":404706,"reputation":7875,"user_id":773189,"accept_rate":83,"display_name":"devconsole"},"comment_count":5,"down_vote_count":1,"up_vote_count":64,"is_accepted":false,"score":63,"last_activity_date":1505973717,"creation_date":1306504830,"answer_id":6153294,"question_id":6153176,"body_markdown":"Use a JSON library to parse the string and retrieve the value.\r\n\r\nThe following very basic example uses the built-in [JSON parser][1] from Android.\r\n\r\n    String jsonString = &quot;{ \\&quot;name\\&quot; : \\&quot;John\\&quot;, \\&quot;age\\&quot; : \\&quot;20\\&quot;, \\&quot;address\\&quot; : \\&quot;some address\\&quot; }&quot;;\r\n    JSONObject jsonObject = new JSONObject(jsonString);\r\n    int age = jsonObject.getInt(&quot;age&quot;);\r\n\r\nMore advanced JSON libraries, such as [jackson][2], [google-gson][3], [json-io][4] or [genson][5], allow you to convert JSON objects to Java objects directly.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/org/json/package-summary.html\r\n  [2]: https://github.com/FasterXML/jackson\r\n  [3]: https://github.com/google/gson\r\n  [4]: https://github.com/jdereg/json-io\r\n  [5]: https://github.com/owlike/genson","title":"How to find specified name and its value in JSON-string from Java?","body":"<p>Use a JSON library to parse the string and retrieve the value.</p>\n\n<p>The following very basic example uses the built-in <a href=\"https://developer.android.com/reference/org/json/package-summary.html\" rel=\"noreferrer\">JSON parser</a> from Android.</p>\n\n<pre><code>String jsonString = \"{ \\\"name\\\" : \\\"John\\\", \\\"age\\\" : \\\"20\\\", \\\"address\\\" : \\\"some address\\\" }\";\nJSONObject jsonObject = new JSONObject(jsonString);\nint age = jsonObject.getInt(\"age\");\n</code></pre>\n\n<p>More advanced JSON libraries, such as <a href=\"https://github.com/FasterXML/jackson\" rel=\"noreferrer\">jackson</a>, <a href=\"https://github.com/google/gson\" rel=\"noreferrer\">google-gson</a>, <a href=\"https://github.com/jdereg/json-io\" rel=\"noreferrer\">json-io</a> or <a href=\"https://github.com/owlike/genson\" rel=\"noreferrer\">genson</a>, allow you to convert JSON objects to Java objects directly.</p>\n"},{"comments":[{"owner":{"account_id":114544,"reputation":728,"user_id":301139,"accept_rate":86,"display_name":"stojke"},"score":3,"creation_date":1437921590,"post_id":6381146,"comment_id":51222839,"body_markdown":"Good answer, but important thing to note here, I think,  is that this approach of not creating a separate class for binding doesn&#39;t work if you&#39;re looking for nested fields (i.e. if he was looking for `&quot;field&quot;` instead of `&quot;age&quot;` he would&#39;ve had to create a new class for binding)","body":"Good answer, but important thing to note here, I think,  is that this approach of not creating a separate class for binding doesn&#39;t work if you&#39;re looking for nested fields (i.e. if he was looking for <code>&quot;field&quot;</code> instead of <code>&quot;age&quot;</code> he would&#39;ve had to create a new class for binding)"}],"tags":[],"owner":{"account_id":390729,"reputation":65307,"user_id":750987,"display_name":"Programmer Bruce"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1308282717,"creation_date":1308282717,"answer_id":6381146,"question_id":6153176,"body_markdown":"Gson allows for one of the simplest possible solutions.  Compared to similar APIs like Jackson or svenson, Gson by default doesn&#39;t even need the unused JSON elements to have bindings available in the Java structure.  Specific to the question asked, here&#39;s a working solution.\r\n\r\n    import com.google.gson.Gson;\r\n    \r\n    public class Foo\r\n    {\r\n      static String jsonInput = \r\n        &quot;{&quot; + \r\n          &quot;\\&quot;name\\&quot;:\\&quot;John\\&quot;,&quot; + \r\n          &quot;\\&quot;age\\&quot;:\\&quot;20\\&quot;,&quot; + \r\n          &quot;\\&quot;address\\&quot;:\\&quot;some address\\&quot;,&quot; + \r\n          &quot;\\&quot;someobject\\&quot;:&quot; +\r\n          &quot;{&quot; + \r\n            &quot;\\&quot;field\\&quot;:\\&quot;value\\&quot;&quot; + \r\n          &quot;}&quot; + \r\n        &quot;}&quot;;\r\n      \r\n      String age;\r\n      \r\n      public static void main(String[] args) throws Exception\r\n      {\r\n        Gson gson = new Gson();\r\n        Foo thing = gson.fromJson(jsonInput, Foo.class);\r\n        if (thing.age != null)\r\n        {\r\n          System.out.println(&quot;age is &quot; + thing.age);\r\n        }\r\n        else\r\n        {\r\n          System.out.println(&quot;age element not present or value is null&quot;);\r\n        }\r\n      }\r\n    }","title":"How to find specified name and its value in JSON-string from Java?","body":"<p>Gson allows for one of the simplest possible solutions.  Compared to similar APIs like Jackson or svenson, Gson by default doesn't even need the unused JSON elements to have bindings available in the Java structure.  Specific to the question asked, here's a working solution.</p>\n\n<pre><code>import com.google.gson.Gson;\n\npublic class Foo\n{\n  static String jsonInput = \n    \"{\" + \n      \"\\\"name\\\":\\\"John\\\",\" + \n      \"\\\"age\\\":\\\"20\\\",\" + \n      \"\\\"address\\\":\\\"some address\\\",\" + \n      \"\\\"someobject\\\":\" +\n      \"{\" + \n        \"\\\"field\\\":\\\"value\\\"\" + \n      \"}\" + \n    \"}\";\n\n  String age;\n\n  public static void main(String[] args) throws Exception\n  {\n    Gson gson = new Gson();\n    Foo thing = gson.fromJson(jsonInput, Foo.class);\n    if (thing.age != null)\n    {\n      System.out.println(\"age is \" + thing.age);\n    }\n    else\n    {\n      System.out.println(\"age element not present or value is null\");\n    }\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8906759,"reputation":2159,"user_id":6648326,"accept_rate":71,"display_name":"MasterJoe"},"score":0,"creation_date":1557360168,"post_id":9739330,"comment_id":98742227,"body_markdown":"If the desired field is a String and is present in the outermost json object, then can we simply use jsonObject.get(&quot;myStringField&quot;).toString(); instead of iterating the keySet ? Btw, thanks for mentioning the imports because so many projects have JSONObject.","body":"If the desired field is a String and is present in the outermost json object, then can we simply use jsonObject.get(&quot;myStringField&quot;).toString(); instead of iterating the keySet ? Btw, thanks for mentioning the imports because so many projects have JSONObject."}],"tags":[],"owner":{"account_id":135261,"reputation":4039,"user_id":337988,"accept_rate":94,"display_name":"philipjkim"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1331908931,"creation_date":1331908931,"answer_id":9739330,"question_id":6153176,"body_markdown":"I agree that Google&#39;s `Gson` is clear and easy to use. But you should create a result class for getting an instance from JSON string. If you can&#39;t clarify the result class, use `json-simple`:\r\n\r\n    // import static org.hamcrest.CoreMatchers.is;\r\n    // import static org.junit.Assert.assertThat;\r\n    // import org.json.simple.JSONObject;\r\n    // import org.json.simple.JSONValue;\r\n    // import org.junit.Test;\r\n\r\n\t@Test\r\n\tpublic void json2Object() {\r\n\t\t// given\r\n\t\tString jsonString = &quot;{\\&quot;name\\&quot; : \\&quot;John\\&quot;,\\&quot;age\\&quot; : \\&quot;20\\&quot;,&quot;\r\n\t\t\t\t+ &quot;\\&quot;address\\&quot; : \\&quot;some address\\&quot;,&quot;\r\n\t\t\t\t+ &quot;\\&quot;someobject\\&quot; : {\\&quot;field\\&quot; : \\&quot;value\\&quot;}}&quot;;\r\n\r\n\t\t// when\r\n\t\tJSONObject object = (JSONObject) JSONValue.parse(jsonString);\r\n\r\n\t\t// then\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tSet&lt;String&gt; keySet = object.keySet();\r\n\t\tfor (String key : keySet) {\r\n\t\t\tObject value = object.get(key);\r\n\t\t\tSystem.out.printf(&quot;%s=%s (%s)\\n&quot;, key, value, value.getClass()\r\n\t\t\t\t\t.getSimpleName());\r\n\t\t}\r\n\r\n\t\tassertThat(object.get(&quot;age&quot;).toString(), is(&quot;20&quot;));\r\n\t}\r\n\r\nPros and cons of `Gson` and `json-simple` is pretty much like pros and cons of user-defined Java Object and `Map`. The object you define is clear for all fields (name and type), but less flexible than `Map`.","title":"How to find specified name and its value in JSON-string from Java?","body":"<p>I agree that Google's <code>Gson</code> is clear and easy to use. But you should create a result class for getting an instance from JSON string. If you can't clarify the result class, use <code>json-simple</code>:</p>\n\n<pre><code>// import static org.hamcrest.CoreMatchers.is;\n// import static org.junit.Assert.assertThat;\n// import org.json.simple.JSONObject;\n// import org.json.simple.JSONValue;\n// import org.junit.Test;\n\n@Test\npublic void json2Object() {\n    // given\n    String jsonString = \"{\\\"name\\\" : \\\"John\\\",\\\"age\\\" : \\\"20\\\",\"\n            + \"\\\"address\\\" : \\\"some address\\\",\"\n            + \"\\\"someobject\\\" : {\\\"field\\\" : \\\"value\\\"}}\";\n\n    // when\n    JSONObject object = (JSONObject) JSONValue.parse(jsonString);\n\n    // then\n    @SuppressWarnings(\"unchecked\")\n    Set&lt;String&gt; keySet = object.keySet();\n    for (String key : keySet) {\n        Object value = object.get(key);\n        System.out.printf(\"%s=%s (%s)\\n\", key, value, value.getClass()\n                .getSimpleName());\n    }\n\n    assertThat(object.get(\"age\").toString(), is(\"20\"));\n}\n</code></pre>\n\n<p>Pros and cons of <code>Gson</code> and <code>json-simple</code> is pretty much like pros and cons of user-defined Java Object and <code>Map</code>. The object you define is clear for all fields (name and type), but less flexible than <code>Map</code>.</p>\n"}],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233996,"favorite_count":0,"down_vote_count":1,"up_vote_count":58,"answer_count":3,"score":57,"last_activity_date":1685618262,"creation_date":1306504324,"question_id":6153176,"body_markdown":"Let&#39;s assume we have the next JSON string:\r\n\r\n```json\r\n{  \r\n   &quot;name&quot; : &quot;John&quot;,\r\n   &quot;age&quot; : &quot;20&quot;,\r\n   &quot;address&quot; : &quot;some address&quot;,\r\n   &quot;someobject&quot; : {\r\n       &quot;field&quot; : &quot;value&quot;    \r\n   }\r\n}\r\n```\r\n\r\nWhat is the easiest (but still correct, i.e. regular expressions are not acceptable) way to find field `age` and its value (or determine that there&#39;s no field with given name)? \r\n","title":"How to find specified name and its value in JSON-string from Java?","body":"<p>Let's assume we have the next JSON string:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{  \n   &quot;name&quot; : &quot;John&quot;,\n   &quot;age&quot; : &quot;20&quot;,\n   &quot;address&quot; : &quot;some address&quot;,\n   &quot;someobject&quot; : {\n       &quot;field&quot; : &quot;value&quot;    \n   }\n}\n</code></pre>\n<p>What is the easiest (but still correct, i.e. regular expressions are not acceptable) way to find field <code>age</code> and its value (or determine that there's no field with given name)?</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"score":1,"creation_date":1561384683,"post_id":56737634,"comment_id":100035021,"body_markdown":"From my point of view also the first solution should give you a `Property or field &#39;bicycles&#39; cannot be found on null` exception. Just tried it with an example. Check if bicycles is really not null.","body":"From my point of view also the first solution should give you a <code>Property or field &#39;bicycles&#39; cannot be found on null</code> exception. Just tried it with an example. Check if bicycles is really not null."},{"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"score":0,"creation_date":1561387752,"post_id":56737634,"comment_id":100036925,"body_markdown":"Is that the actual code?  The error message is not saying that `bicycles` doesn&#39;t exist, but rather that `${owner}` is null, and so it can&#39;t get a property of a null object.  Are you sure that you didn&#39;t accidentally close the loop and `${owner}` is out of scope?","body":"Is that the actual code?  The error message is not saying that <code>bicycles</code> doesn&#39;t exist, but rather that <code>${owner}</code> is null, and so it can&#39;t get a property of a null object.  Are you sure that you didn&#39;t accidentally close the loop and <code>${owner}</code> is out of scope?"},{"owner":{"account_id":3337041,"reputation":1633,"user_id":4551793,"accept_rate":44,"display_name":"John"},"score":0,"creation_date":1561392433,"post_id":56737634,"comment_id":100039462,"body_markdown":"@Metroids - I can&#39;t see how it goes out of scope. Owner is supposed to be valid to all child tags. Hopefully that includes another each. \nThis has proved valid in other stackoverflow questions.\nI accept that it is saying owner is null.\nIs &lt;tr&gt; within a &lt;tr&gt; legal?","body":"@Metroids - I can&#39;t see how it goes out of scope. Owner is supposed to be valid to all child tags. Hopefully that includes another each.  This has proved valid in other stackoverflow questions. I accept that it is saying owner is null. Is &lt;tr&gt; within a &lt;tr&gt; legal?"},{"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"score":0,"creation_date":1561414937,"post_id":56737634,"comment_id":100048015,"body_markdown":"Well, typically you&#39;d do that with a `&lt;th:block&gt;` rather than nested `&lt;tr&gt;s`, but it should work either way. I&#39;m just saying that the error you are getting can&#39;t be explained by the code you have (as far as i can tell).","body":"Well, typically you&#39;d do that with a <code>&lt;th:block&gt;</code> rather than nested <code>&lt;tr&gt;s</code>, but it should work either way. I&#39;m just saying that the error you are getting can&#39;t be explained by the code you have (as far as i can tell)."},{"owner":{"account_id":3475140,"reputation":2491,"user_id":3019956,"accept_rate":33,"display_name":"want2learn"},"score":0,"creation_date":1561473141,"post_id":56737634,"comment_id":100070516,"body_markdown":"just before you do return can yo debug to see how the owners attribute that you add on model looks like","body":"just before you do return can yo debug to see how the owners attribute that you add on model looks like"}],"answers":[{"comments":[{"owner":{"account_id":3337041,"reputation":1633,"user_id":4551793,"accept_rate":44,"display_name":"John"},"score":0,"creation_date":1561447497,"post_id":56742017,"comment_id":100055610,"body_markdown":"Same error but slightly different.\n\nException evaluating SpringEL expression: &quot;owner.bicycles&quot; (template: &quot;nutsthymeleaf&quot; - line 23, col 49)\n\norg.thymeleaf.exceptions.TemplateProcessingException: \nException evaluating SpringEL expression: &quot;owner.bicycles&quot; \n(template: &quot;nutsthymeleaf&quot; - line 23, col 49)\n\nAnd the code is \n&lt;tr th:if=&quot;${owner.bicycles} != null&quot; th:each=&quot;bike : ${owner.bicycles}&quot;&gt;\n\nSo, it seems to accept owner.bicycles in the if but not in the each. And, of course, it accepts owner.bicycles[index].field in earlier code and when finding the length of the list.","body":"Same error but slightly different.  Exception evaluating SpringEL expression: &quot;owner.bicycles&quot; (template: &quot;nutsthymeleaf&quot; - line 23, col 49)  org.thymeleaf.exceptions.TemplateProcessingException:  Exception evaluating SpringEL expression: &quot;owner.bicycles&quot;  (template: &quot;nutsthymeleaf&quot; - line 23, col 49)  And the code is  &lt;tr th:if=&quot;${owner.bicycles} != null&quot; th:each=&quot;bike : ${owner.bicycles}&quot;&gt;  So, it seems to accept owner.bicycles in the if but not in the each. And, of course, it accepts owner.bicycles[index].field in earlier code and when finding the length of the list."}],"tags":[],"owner":{"account_id":10191646,"reputation":1081,"user_id":7524856,"display_name":"AmirBll"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561400642,"creation_date":1561400642,"answer_id":56742017,"question_id":56737634,"body_markdown":"Try `if` for check `bicycles` is *null* or not\r\n\r\n    &lt;table&gt;\r\n        &lt;tr th:each=&quot;owner : ${owners}&quot;&gt;\r\n          &lt;td th:text=&quot;${owner.userName}&quot;&gt;&lt;/td&gt;\r\n          &lt;tr th:if={owner.bicycles != null} th:each=&quot;bike : ${owner.bicycles}&quot;&gt;\r\n              &lt;td th:text=&quot;${bike.make}&quot;&gt;&lt;/td&gt;\r\n              &lt;td th:text=&quot;${bike.model}&quot;&gt;&lt;/td&gt;  \r\n          &lt;/tr&gt;  \r\n        &lt;/tr&gt;\r\n    &lt;/table&gt;","title":"Spring Boot / Thymeleaf - loop within a loop","body":"<p>Try <code>if</code> for check <code>bicycles</code> is <em>null</em> or not</p>\n\n<pre><code>&lt;table&gt;\n    &lt;tr th:each=\"owner : ${owners}\"&gt;\n      &lt;td th:text=\"${owner.userName}\"&gt;&lt;/td&gt;\n      &lt;tr th:if={owner.bicycles != null} th:each=\"bike : ${owner.bicycles}\"&gt;\n          &lt;td th:text=\"${bike.make}\"&gt;&lt;/td&gt;\n          &lt;td th:text=\"${bike.model}\"&gt;&lt;/td&gt;  \n      &lt;/tr&gt;  \n    &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3337041,"reputation":1633,"user_id":4551793,"accept_rate":44,"display_name":"John"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1561542421,"creation_date":1561448758,"answer_id":56749181,"question_id":56737634,"body_markdown":"So I found this\r\n\r\nhttps://stackoverflow.com/questions/55095198/thymeleaf-getting-property-or-field-cannot-be-found-on-null-iteration-of-list\r\n\r\nand that has stopped SpelException.\r\n\r\nHaving played around with it, it does not need 3 levels but just two. The problem arises if a th:each is nested within a th:each. The second th:each has to be in a th:block (or possibly div).","title":"Spring Boot / Thymeleaf - loop within a loop","body":"<p>So I found this</p>\n\n<p><a href=\"https://stackoverflow.com/questions/55095198/thymeleaf-getting-property-or-field-cannot-be-found-on-null-iteration-of-list\">Thymeleaf: Getting Property or field cannot be found on null. Iteration of list inside a list</a></p>\n\n<p>and that has stopped SpelException.</p>\n\n<p>Having played around with it, it does not need 3 levels but just two. The problem arises if a th:each is nested within a th:each. The second th:each has to be in a th:block (or possibly div).</p>\n"},{"tags":[],"owner":{"account_id":28727109,"reputation":1,"user_id":21999768,"display_name":"maykelange"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685618074,"creation_date":1685618074,"answer_id":76381297,"question_id":56737634,"body_markdown":"The problem seems to be that you are trying to generate invalid HTML by nesting table row `&lt;tr&gt;` elements. \r\n\r\nTo generate the HTML you want, you should use the [syntethic `th:block` tag](https://www.thymeleaf.org/doc/tutorials/3.1/usingthymeleaf.html#synthetic-thblock-tag) , which allows you to generate the cells for each bike.\r\n\r\n```\r\n&lt;table&gt;\r\n    &lt;tr th:each=&quot;owner : ${owners}&quot;&gt;\r\n      &lt;td th:text=&quot;${owner.userName}&quot;&gt;&lt;/td&gt;\r\n      &lt;th:block th:each=&quot;bike : ${owner.bicycles}&quot;&gt;\r\n          &lt;td th:text=&quot;${bike.make}&quot;&gt;&lt;/td&gt;\r\n          &lt;td th:text=&quot;${bike.model}&quot;&gt;&lt;/td&gt;  \r\n      &lt;/th:block&gt;  \r\n    &lt;/tr&gt;\r\n  &lt;/table&gt;\r\n```","title":"Spring Boot / Thymeleaf - loop within a loop","body":"<p>The problem seems to be that you are trying to generate invalid HTML by nesting table row <code>&lt;tr&gt;</code> elements.</p>\n<p>To generate the HTML you want, you should use the <a href=\"https://www.thymeleaf.org/doc/tutorials/3.1/usingthymeleaf.html#synthetic-thblock-tag\" rel=\"nofollow noreferrer\">syntethic <code>th:block</code> tag</a> , which allows you to generate the cells for each bike.</p>\n<pre><code>&lt;table&gt;\n    &lt;tr th:each=&quot;owner : ${owners}&quot;&gt;\n      &lt;td th:text=&quot;${owner.userName}&quot;&gt;&lt;/td&gt;\n      &lt;th:block th:each=&quot;bike : ${owner.bicycles}&quot;&gt;\n          &lt;td th:text=&quot;${bike.make}&quot;&gt;&lt;/td&gt;\n          &lt;td th:text=&quot;${bike.model}&quot;&gt;&lt;/td&gt;  \n      &lt;/th:block&gt;  \n    &lt;/tr&gt;\n  &lt;/table&gt;\n</code></pre>\n"}],"owner":{"account_id":3337041,"reputation":1633,"user_id":4551793,"accept_rate":44,"display_name":"John"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1712,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56749181,"answer_count":3,"score":0,"last_activity_date":1685618074,"creation_date":1561382865,"question_id":56737634,"body_markdown":"I have an application with two entities that have a bidirectional one to many relationship. Owners and Bicycles.\r\n\r\nSo getting the owners via curl will give\r\n\r\n    [\r\n        {&quot;id&quot;:1,\r\n        &quot;userName&quot;:&quot;user1&quot;,\r\n        &quot;bicycles&quot;:\r\n            [\r\n                {\r\n                    &quot;id&quot;:1,\r\n                    &quot;make&quot;:&quot;dawes&quot;,\r\n                    &quot;model&quot;:&quot;civic&quot;,\r\n                    &quot;owner&quot;:1\r\n                }\r\n            ]\r\n        },\r\n        {&quot;id&quot;:2,\r\n        &quot;userName&quot;:&quot;user2&quot;,\r\n        &quot;bicycles&quot;:\r\n            [\r\n                {\r\n                    &quot;id&quot;:2,\r\n                    &quot;make&quot;:&quot;whyte&quot;,\r\n                    &quot;model&quot;:&quot;montpellier&quot;,\r\n                    &quot;owner&quot;:2\r\n                }\r\n                ,{\r\n                    &quot;id&quot;:4,\r\n                    &quot;make&quot;:&quot;dahon&quot;,\r\n                    &quot;model&quot;:&quot;tern A7&quot;,\r\n                    &quot;owner&quot;:2\r\n                }\r\n            ]\r\n        } ]\r\n\r\nwhich is fine.\r\n\r\nIf I create a template which loops in a table,\r\n\r\n    &lt;table&gt;\r\n        &lt;tr th:each=&quot;owner : ${owners}&quot;&gt;\r\n          &lt;td th:text=&quot;${owner.userName}&quot;&gt;&lt;/td&gt;\r\n          &lt;td th:text=&quot;${owner.bicycles[0].make}&quot;\r\n              th:if=&quot;${#lists.size(owner.bicycles)} &gt; 0&quot;&gt;&quot;&lt;/td&gt;\r\n          &lt;td th:text=&quot;${owner.bicycles[0].model}&quot;\r\n              th:if=&quot;${#lists.size(owner.bicycles)} &gt; 0&quot;&gt;&lt;/td&gt; \r\n        &lt;/tr&gt;\r\n      &lt;/table&gt;\r\n\r\nthen I get the expected result in the browser. I realise the above is awful code but I am just interested in getting thymeleaf to work at the moment.\r\n\r\nBut if I do the following code\r\n\r\n    &lt;table&gt;\r\n        &lt;tr th:each=&quot;owner : ${owners}&quot;&gt;\r\n          &lt;td th:text=&quot;${owner.userName}&quot;&gt;&lt;/td&gt;\r\n          &lt;tr th:each=&quot;bike : ${owner.bicycles}&quot;&gt;\r\n              &lt;td th:text=&quot;${bike.make}&quot;&gt;&lt;/td&gt;\r\n              &lt;td th:text=&quot;${bike.model}&quot;&gt;&lt;/td&gt;  \r\n          &lt;/tr&gt;  \r\n        &lt;/tr&gt;\r\n      &lt;/table&gt;\r\n\r\nthen I get the following console error\r\n\r\n&gt; nested exception is\r\n&gt; org.thymeleaf.exceptions.TemplateProcessingException: Exception\r\n&gt; evaluating SpringEL expression: &quot;owner.bicycles&quot; (template:\r\n&gt; &quot;nutsthymeleaf&quot; - line 23, col 15)] with root cause\r\n&gt; \r\n&gt; org.springframework.expression.spel.SpelEvaluationException: EL1007E:\r\n&gt; Property or field &#39;bicycles&#39; cannot be found on null\r\n\r\nWhat I find confusing is that owner.bicycle[index] works. It shows make and model. Yet owner.bicycles appears to be a null field according to the error.\r\n\r\nSo obviously I am doing something wrong â¦.\r\n\r\n","title":"Spring Boot / Thymeleaf - loop within a loop","body":"<p>I have an application with two entities that have a bidirectional one to many relationship. Owners and Bicycles.</p>\n\n<p>So getting the owners via curl will give</p>\n\n<pre><code>[\n    {\"id\":1,\n    \"userName\":\"user1\",\n    \"bicycles\":\n        [\n            {\n                \"id\":1,\n                \"make\":\"dawes\",\n                \"model\":\"civic\",\n                \"owner\":1\n            }\n        ]\n    },\n    {\"id\":2,\n    \"userName\":\"user2\",\n    \"bicycles\":\n        [\n            {\n                \"id\":2,\n                \"make\":\"whyte\",\n                \"model\":\"montpellier\",\n                \"owner\":2\n            }\n            ,{\n                \"id\":4,\n                \"make\":\"dahon\",\n                \"model\":\"tern A7\",\n                \"owner\":2\n            }\n        ]\n    } ]\n</code></pre>\n\n<p>which is fine.</p>\n\n<p>If I create a template which loops in a table,</p>\n\n<pre><code>&lt;table&gt;\n    &lt;tr th:each=\"owner : ${owners}\"&gt;\n      &lt;td th:text=\"${owner.userName}\"&gt;&lt;/td&gt;\n      &lt;td th:text=\"${owner.bicycles[0].make}\"\n          th:if=\"${#lists.size(owner.bicycles)} &gt; 0\"&gt;\"&lt;/td&gt;\n      &lt;td th:text=\"${owner.bicycles[0].model}\"\n          th:if=\"${#lists.size(owner.bicycles)} &gt; 0\"&gt;&lt;/td&gt; \n    &lt;/tr&gt;\n  &lt;/table&gt;\n</code></pre>\n\n<p>then I get the expected result in the browser. I realise the above is awful code but I am just interested in getting thymeleaf to work at the moment.</p>\n\n<p>But if I do the following code</p>\n\n<pre><code>&lt;table&gt;\n    &lt;tr th:each=\"owner : ${owners}\"&gt;\n      &lt;td th:text=\"${owner.userName}\"&gt;&lt;/td&gt;\n      &lt;tr th:each=\"bike : ${owner.bicycles}\"&gt;\n          &lt;td th:text=\"${bike.make}\"&gt;&lt;/td&gt;\n          &lt;td th:text=\"${bike.model}\"&gt;&lt;/td&gt;  \n      &lt;/tr&gt;  \n    &lt;/tr&gt;\n  &lt;/table&gt;\n</code></pre>\n\n<p>then I get the following console error</p>\n\n<blockquote>\n  <p>nested exception is\n  org.thymeleaf.exceptions.TemplateProcessingException: Exception\n  evaluating SpringEL expression: \"owner.bicycles\" (template:\n  \"nutsthymeleaf\" - line 23, col 15)] with root cause</p>\n  \n  <p>org.springframework.expression.spel.SpelEvaluationException: EL1007E:\n  Property or field 'bicycles' cannot be found on null</p>\n</blockquote>\n\n<p>What I find confusing is that owner.bicycle[index] works. It shows make and model. Yet owner.bicycles appears to be a null field according to the error.</p>\n\n<p>So obviously I am doing something wrong â¦.</p>\n"},{"tags":["java","android","gradle","android-gradle-plugin"],"comments":[{"owner":{"display_name":"user6490462"},"score":5,"creation_date":1506596686,"post_id":46467561,"comment_id":79889906,"body_markdown":"maven.google for android studio 2.3 and below versions.\ngoogle()  for android studio 3.0.0 and above. ( it&#39;s the same fuctionality)","body":"maven.google for android studio 2.3 and below versions. google()  for android studio 3.0.0 and above. ( it&#39;s the same fuctionality)"},{"owner":{"account_id":1453935,"reputation":7165,"user_id":1370087,"accept_rate":75,"display_name":"Benjamin"},"score":1,"creation_date":1506597385,"post_id":46467561,"comment_id":79890337,"body_markdown":"See [here](https://stackoverflow.com/a/45854844/1370087) for more details.","body":"See <a href=\"https://stackoverflow.com/a/45854844/1370087\">here</a> for more details."}],"answers":[{"comments":[{"owner":{"account_id":2294849,"reputation":332016,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"score":0,"creation_date":1506601181,"post_id":46467800,"comment_id":79892779,"body_markdown":"More details here: https://docs.gradle.org/current/userguide/userguide_single.html#mavenGoogleRepo","body":"More details here: <a href=\"https://docs.gradle.org/current/userguide/userguide_single.html#mavenGoogleRepo\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>"},{"owner":{"account_id":7202279,"reputation":3472,"user_id":5499118,"accept_rate":8,"display_name":"Alex Martian"},"score":0,"creation_date":1580890660,"post_id":46467800,"comment_id":106242413,"body_markdown":"Note @Sergio answer for URL, docs not updated still (or documented link is not for web access ...)","body":"Note @Sergio answer for URL, docs not updated still (or documented link is not for web access ...)"}],"tags":[],"owner":{"account_id":7814463,"reputation":2388,"user_id":5909655,"display_name":"Jayson Chacko"},"comment_count":2,"down_vote_count":0,"up_vote_count":110,"is_accepted":true,"score":110,"last_activity_date":1506597383,"creation_date":1506597383,"answer_id":46467800,"question_id":46467561,"body_markdown":"The `google()` repository is a shortcut to Google&#39;s maven repository. It was introduced in Gradle 4.x+. The actual repository URL used is `&quot;https://dl.google.com/dl/android/maven2/&quot; as specified [here.][1] https://maven.google.com actually points to the same repository.\r\n\r\nHowever, if you are planning to use the `google()` shortcut, you need Gradle 4.x+, Android Studio 3.x+ and Gradle plugin for Android 3.x+.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/javadoc/org/gradle/api/artifacts/dsl/RepositoryHandler.html#google()","title":"Difference between google() and maven { url &#39;https://maven.google.com&#39; }","body":"<p>The <code>google()</code> repository is a shortcut to Google's maven repository. It was introduced in Gradle 4.x+. The actual repository URL used is `\"<a href=\"https://dl.google.com/dl/android/maven2/\" rel=\"noreferrer\">https://dl.google.com/dl/android/maven2/</a>\" as specified <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/artifacts/dsl/RepositoryHandler.html#google()\" rel=\"noreferrer\">here.</a> <a href=\"https://maven.google.com\" rel=\"noreferrer\">https://maven.google.com</a> actually points to the same repository.</p>\n\n<p>However, if you are planning to use the <code>google()</code> shortcut, you need Gradle 4.x+, Android Studio 3.x+ and Gradle plugin for Android 3.x+.</p>\n"},{"comments":[{"owner":{"account_id":6867226,"reputation":8143,"user_id":5279156,"display_name":"Vlad"},"score":1,"creation_date":1531844728,"post_id":50235942,"comment_id":89744316,"body_markdown":"I think url may be changed beetwen gradle versions so this is the main purpose of shortcut","body":"I think url may be changed beetwen gradle versions so this is the main purpose of shortcut"},{"owner":{"account_id":4760849,"reputation":1377,"user_id":3848267,"display_name":"Rodrigo Garc&#237;a"},"score":1,"creation_date":1538419150,"post_id":50235942,"comment_id":92128575,"body_markdown":"This should have been posted as a comment to Jayson&#39;s answer.","body":"This should have been posted as a comment to Jayson&#39;s answer."},{"owner":{"account_id":3284132,"reputation":2685,"user_id":2764007,"display_name":"drakeet"},"score":0,"creation_date":1620717887,"post_id":50235942,"comment_id":119275876,"body_markdown":"https://dl.google.com/dl/android/maven2/index.html is also 404 now","body":"<a href=\"https://dl.google.com/dl/android/maven2/index.html\" rel=\"nofollow noreferrer\">dl.google.com/dl/android/maven2/index.html</a> is also 404 now"}],"tags":[],"owner":{"account_id":9022379,"reputation":2364,"user_id":6723008,"display_name":"Sergio"},"comment_count":3,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1537915801,"creation_date":1525789339,"answer_id":50235942,"question_id":46467561,"body_markdown":"Small correction to the answer above. \r\nIf you try to go to https://dl.google.com/dl/android/maven2/ it gives you a 404.\r\nThe correct url to google maven repository is: \r\n\r\nhttps://dl.google.com/dl/android/maven2/index.html\r\nor just \r\nhttps://maven.google.com\r\n\r\nHere you can check all the supported libraries and the latest versions.","title":"Difference between google() and maven { url &#39;https://maven.google.com&#39; }","body":"<p>Small correction to the answer above. \nIf you try to go to <a href=\"https://dl.google.com/dl/android/maven2/\" rel=\"noreferrer\">https://dl.google.com/dl/android/maven2/</a> it gives you a 404.\nThe correct url to google maven repository is: </p>\n\n<p><a href=\"https://dl.google.com/dl/android/maven2/index.html\" rel=\"noreferrer\">https://dl.google.com/dl/android/maven2/index.html</a>\nor just \n<a href=\"https://maven.google.com\" rel=\"noreferrer\">https://maven.google.com</a></p>\n\n<p>Here you can check all the supported libraries and the latest versions.</p>\n"},{"tags":[],"owner":{"account_id":2264450,"reputation":4051,"user_id":1993577,"display_name":"Ruchira Randana"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669740854,"creation_date":1669740854,"answer_id":74617534,"question_id":46467561,"body_markdown":"When using gradle, you can mention multiple repositories which the build tool (gradle) uses to resolve dependencies mentioned in your project.\r\n\r\n    repositories {\r\n        jcenter()\r\n        maven { url &#39;https://maven.google.com&#39; }\r\n        google()\r\n    }\r\nIn the above scenario, you&#39;re mentioning 3 repositories which gradle can use to resolve dependenciesâall of which are Maven repositories. \r\n\r\n**1. jcenter()** \r\n* Means the [JCenter Maven][1] repository.\r\n* This is a shortcut available in later versions of gradle\r\n\r\n**2. { url &#39;https://maven.google.com&#39; }**\r\n* This means you are referring a Maven repo hosted at the URL which can be used by gradle to resolve the dependencies.\r\n* If you want, you can actually enter the URL for JCenter and this would be the same as mentioning `jcenter()` in the gradle file.\r\n\r\n**3. google()**\r\n* This means the Google Maven repository\r\n* Similar to the notation `maven()`, this can be used in later versions of gradle only\r\n\r\n\r\n  [1]: https://mvnrepository.com/repos/jcenter","title":"Difference between google() and maven { url &#39;https://maven.google.com&#39; }","body":"<p>When using gradle, you can mention multiple repositories which the build tool (gradle) uses to resolve dependencies mentioned in your project.</p>\n<pre><code>repositories {\n    jcenter()\n    maven { url 'https://maven.google.com' }\n    google()\n}\n</code></pre>\n<p>In the above scenario, you're mentioning 3 repositories which gradle can use to resolve dependenciesâall of which are Maven repositories.</p>\n<p><strong>1. jcenter()</strong></p>\n<ul>\n<li>Means the <a href=\"https://mvnrepository.com/repos/jcenter\" rel=\"nofollow noreferrer\">JCenter Maven</a> repository.</li>\n<li>This is a shortcut available in later versions of gradle</li>\n</ul>\n<p><strong>2. { url 'https://maven.google.com' }</strong></p>\n<ul>\n<li>This means you are referring a Maven repo hosted at the URL which can be used by gradle to resolve the dependencies.</li>\n<li>If you want, you can actually enter the URL for JCenter and this would be the same as mentioning <code>jcenter()</code> in the gradle file.</li>\n</ul>\n<p><strong>3. google()</strong></p>\n<ul>\n<li>This means the Google Maven repository</li>\n<li>Similar to the notation <code>maven()</code>, this can be used in later versions of gradle only</li>\n</ul>\n"}],"owner":{"account_id":5605220,"reputation":1427,"user_id":4440076,"display_name":"Amit Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68257,"favorite_count":0,"down_vote_count":0,"up_vote_count":92,"accepted_answer_id":46467800,"answer_count":3,"score":92,"last_activity_date":1685617673,"creation_date":1506596556,"question_id":46467561,"body_markdown":"Is there any difference between google() and maven { url &#39;https://maven.google.com&#39; } in build.gradle file and if there is any, what is it?\r\n\r\n    allprojects {\r\n        repositories {\r\n            jcenter()\r\n            maven { url &#39;https://maven.google.com&#39; }\r\n            // OR\r\n            google()\r\n        }\r\n    }\r\n","title":"Difference between google() and maven { url &#39;https://maven.google.com&#39; }","body":"<p>Is there any difference between google() and maven { url '<a href=\"https://maven.google.com\" rel=\"noreferrer\">https://maven.google.com</a>' } in build.gradle file and if there is any, what is it?</p>\n\n<pre><code>allprojects {\n    repositories {\n        jcenter()\n        maven { url 'https://maven.google.com' }\n        // OR\n        google()\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-commons","ftps","apache-commons-fileupload"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685534724,"post_id":76373127,"comment_id":134673054,"body_markdown":"*at com.sample.simulator.Application.main(Application.java:103)* What *is* line 103? Note that it&#39;s calling logout on a client. You posted the *full* stack trace?","body":"<i>at com.sample.simulator.Application.main(Application.java:103)</i> What <i>is</i> line 103? Note that it&#39;s calling logout on a client. You posted the <i>full</i> stack trace?"},{"owner":{"account_id":12835035,"reputation":2652,"user_id":9284962,"display_name":"Markus S."},"score":0,"creation_date":1685535079,"post_id":76373127,"comment_id":134673146,"body_markdown":"@g00se the second exception is a result of the first one. i shorted the sample program a bit. line 103 is the call to ftpClient.logout(); \nthe original (first) exception is thrown on the line ftpClient.connect(server);","body":"@g00se the second exception is a result of the first one. i shorted the sample program a bit. line 103 is the call to ftpClient.logout();  the original (first) exception is thrown on the line ftpClient.connect(server);"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685535983,"post_id":76373127,"comment_id":134673410,"body_markdown":"Please post the *full stack trace* with code to match","body":"Please post the <i>full stack trace</i> with code to match"},{"owner":{"account_id":12835035,"reputation":2652,"user_id":9284962,"display_name":"Markus S."},"score":0,"creation_date":1685541403,"post_id":76373127,"comment_id":134674786,"body_markdown":"@g00se I updated the sample source code and added the matching stacktrace.","body":"@g00se I updated the sample source code and added the matching stacktrace."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685542503,"post_id":76373127,"comment_id":134675081,"body_markdown":"And you can, immediately after such an error, successfully execute the curl command?","body":"And you can, immediately after such an error, successfully execute the curl command?"},{"owner":{"account_id":12835035,"reputation":2652,"user_id":9284962,"display_name":"Markus S."},"score":0,"creation_date":1685542875,"post_id":76373127,"comment_id":134675199,"body_markdown":"@g00se yes. they are 2 different applications connecting via different methods to the same service and the same user account.","body":"@g00se yes. they are 2 different applications connecting via different methods to the same service and the same user account."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685543231,"post_id":76373127,"comment_id":134675293,"body_markdown":"I&#39;m not entirely sure from that if authorization is finished. Perhaps not, in which case, running with `-Djavax.net.debug=ssl` might reveal something","body":"I&#39;m not entirely sure from that if authorization is finished. Perhaps not, in which case, running with <code>-Djavax.net.debug=ssl</code> might reveal something"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1685544158,"post_id":76373127,"comment_id":134675550,"body_markdown":"I think that the default connection mode is active, which means that a different connection + port is used for file transfers. Can you try calling `ftpClient.enterLocalPassiveMode()`? I don&#39;t know if it&#39;s needed before or after the call to `connect`, you&#39;d have to try that.","body":"I think that the default connection mode is active, which means that a different connection + port is used for file transfers. Can you try calling <code>ftpClient.enterLocalPassiveMode()</code>? I don&#39;t know if it&#39;s needed before or after the call to <code>connect</code>, you&#39;d have to try that."},{"owner":{"account_id":12835035,"reputation":2652,"user_id":9284962,"display_name":"Markus S."},"score":0,"creation_date":1685594477,"post_id":76373127,"comment_id":134682602,"body_markdown":"@g00se I added the output with activated debug flag to the original question.","body":"@g00se I added the output with activated debug flag to the original question."},{"owner":{"account_id":12835035,"reputation":2652,"user_id":9284962,"display_name":"Markus S."},"score":0,"creation_date":1685594758,"post_id":76373127,"comment_id":134682625,"body_markdown":"@RobSpoor I think so too but i am not sure if it&#39;s possible with this library to reuse the same port for control and data connection. I tried your suggestion but it doesn&#39;t make a difference. I also tried enterLocalActiveMode() but still no change. I have to make the call before connect() because the exception is thrown at connect(). I also tried enterRemotePassiveMode() but for that i ned an open connection.","body":"@RobSpoor I think so too but i am not sure if it&#39;s possible with this library to reuse the same port for control and data connection. I tried your suggestion but it doesn&#39;t make a difference. I also tried enterLocalActiveMode() but still no change. I have to make the call before connect() because the exception is thrown at connect(). I also tried enterRemotePassiveMode() but for that i ned an open connection."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685603252,"post_id":76373127,"comment_id":134683707,"body_markdown":"For local-passive, a _PASV_ command is typically sent before a data transfer.  This will create a separate socket connection, other than the control connection.  You&#39;ll want to call _enterLocalPassiveMode_ after the _login_ call.  Then any subsequent call to _storeFile_ should make a new _PASV_ connection first, before the transfer.","body":"For local-passive, a <i>PASV</i> command is typically sent before a data transfer.  This will create a separate socket connection, other than the control connection.  You&#39;ll want to call <i>enterLocalPassiveMode</i> after the <i>login</i> call.  Then any subsequent call to <i>storeFile</i> should make a new <i>PASV</i> connection first, before the transfer."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685604157,"post_id":76373127,"comment_id":134683899,"body_markdown":"Did you turn on ssl debugging? There could be ssl manoeuvres involved with the *transfer* that are failing","body":"Did you turn on ssl debugging? There could be ssl manoeuvres involved with the <i>transfer</i> that are failing"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685605878,"post_id":76373127,"comment_id":134684195,"body_markdown":"Also worthwhile putting Curl into trace mode to see what it&#39;s doing, e.g. whether using PASV or EPSV. Maybe do that *before* my previous suggestion","body":"Also worthwhile putting Curl into trace mode to see what it&#39;s doing, e.g. whether using PASV or EPSV. Maybe do that <i>before</i> my previous suggestion"},{"owner":{"account_id":12835035,"reputation":2652,"user_id":9284962,"display_name":"Markus S."},"score":0,"creation_date":1685609782,"post_id":76373127,"comment_id":134685035,"body_markdown":"@g00se Yes, i added SSL debug output of the sample program to the original question. Also i added the curl verbose output.","body":"@g00se Yes, i added SSL debug output of the sample program to the original question. Also i added the curl verbose output."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685610642,"post_id":76373127,"comment_id":134685219,"body_markdown":"*Failed EPSV attempt. Disabling EPSV* could be of interest. You might find EPSV is enabled *by default* for IP4 connections. Try turning it off","body":"<i>Failed EPSV attempt. Disabling EPSV</i> could be of interest. You might find EPSV is enabled <i>by default</i> for IP4 connections. Try turning it off"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1685614795,"post_id":76373127,"comment_id":134686104,"body_markdown":"@g00se: _curl_ tried EPSV for IP4, but for commons-net it is already disabled: https://apache.googlesource.com/commons-net/+/refs/heads/master/src/main/java/org/apache/commons/net/ftp/FTPClient.java#588 . OP: in summary you need to set explicit SSL/TLS AND enterLocalPassiveMode.","body":"@g00se: <i>curl</i> tried EPSV for IP4, but for commons-net it is already disabled: <a href=\"https://apache.googlesource.com/commons-net/+/refs/heads/master/src/main/java/org/apache/commons/net/ftp/FTPClient.java#588\" rel=\"nofollow noreferrer\">apache.googlesource.com/commons-net/+/refs/heads/master/src/&zwnj;&#8203;&hellip;</a> . OP: in summary you need to set explicit SSL/TLS AND enterLocalPassiveMode."},{"owner":{"account_id":12835035,"reputation":2652,"user_id":9284962,"display_name":"Markus S."},"score":0,"creation_date":1685617110,"post_id":76373127,"comment_id":134686588,"body_markdown":"@dave_thompson_085 Thanks for your comment. I updated the OP with the log output when using explicit mode and localPassiveMode. I do not understand why i get a permission error this way when the same thing works with cURL.","body":"@dave_thompson_085 Thanks for your comment. I updated the OP with the log output when using explicit mode and localPassiveMode. I do not understand why i get a permission error this way when the same thing works with cURL."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1685691099,"post_id":76373127,"comment_id":134699136,"body_markdown":"Looking at the logs the obvious difference is your system is not sending PROT, and if the server demands SSL/TLS for control it makes sense it would demand it for data also. I would have thought this would be done automatically but apparently not. From the source it looks like you can just call `.execPROT(&quot;P&quot;)` -- try that.","body":"Looking at the logs the obvious difference is your system is not sending PROT, and if the server demands SSL/TLS for control it makes sense it would demand it for data also. I would have thought this would be done automatically but apparently not. From the source it looks like you can just call <code>.execPROT(&quot;P&quot;)</code> -- try that."},{"owner":{"account_id":12835035,"reputation":2652,"user_id":9284962,"display_name":"Markus S."},"score":0,"creation_date":1685692023,"post_id":76373127,"comment_id":134699310,"body_markdown":"@dave_thompson_085 Thank you very much for that hint! It was not the full story though because i had to add a execPBSZ(0); before the call to execPROT(&quot;P&quot;); (and enterLocalPassiveMode()). Please add an answer and i will accept.","body":"@dave_thompson_085 Thank you very much for that hint! It was not the full story though because i had to add a execPBSZ(0); before the call to execPROT(&quot;P&quot;); (and enterLocalPassiveMode()). Please add an answer and i will accept."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1685693868,"post_id":76373127,"comment_id":134699686,"body_markdown":"Very nice detective work. Perhaps this weakness should be brought to the attention of the Apache devs? Of course, it would be much better to be using SSH rather than this patched-up old protocol. If that&#39;s possible, I&#39;d strongly advise it","body":"Very nice detective work. Perhaps this weakness should be brought to the attention of the Apache devs? Of course, it would be much better to be using SSH rather than this patched-up old protocol. If that&#39;s possible, I&#39;d strongly advise it"},{"owner":{"account_id":12835035,"reputation":2652,"user_id":9284962,"display_name":"Markus S."},"score":0,"creation_date":1685695506,"post_id":76373127,"comment_id":134700004,"body_markdown":"@g00se Thank you too for your support! In our project unfortunately we are bound to FTPS because of constraints of a protocol that is implemented on the devices uploading the files. Otherwise 100% agree.","body":"@g00se Thank you too for your support! In our project unfortunately we are bound to FTPS because of constraints of a protocol that is implemented on the devices uploading the files. Otherwise 100% agree."}],"owner":{"account_id":12835035,"reputation":2652,"user_id":9284962,"display_name":"Markus S."},"comment_count":21,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685617061,"creation_date":1685533520,"question_id":76373127,"body_markdown":"The following command works to upload a file to our FTPS service provider:\r\n\r\n    curl --ftp-ssl -T test.txt ftp://username:password@ftp.hidrive.ionos.com/public/test.txt\r\n\r\nI would like to achieve the same upload with Java using Apache Commons FTPSClient.\r\nI created this small sample program \r\n\r\n    package com.sample.simulator;\r\n    \r\n    import org.apache.commons.net.PrintCommandListener;\r\n    import org.apache.commons.net.ftp.FTP;\r\n    import org.apache.commons.net.ftp.FTPSClient;\r\n    \r\n    import java.io.*;\r\n    \r\n    public class Application  {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            String server = &quot;ftp.hidrive.ionos.com&quot;;\r\n            String user = &quot;username&quot;;\r\n            String pass = &quot;password&quot;;\r\n    \r\n            FTPSClient ftpClient = new FTPSClient(true);\r\n    \r\n            ftpClient.addProtocolCommandListener(new PrintCommandListener(new PrintWriter(System.out)));\r\n    \r\n            try {\r\n                ftpClient.connect(server);\r\n    \r\n                var success = ftpClient.login(user, pass);\r\n                if(success) {\r\n                    System.out.println(&quot;Login successful&quot;);\r\n                } else {\r\n                    System.out.println(&quot;Login failed&quot;);\r\n                }\r\n    \r\n                ftpClient.setFileType(FTP.BINARY_FILE_TYPE);\r\n    \r\n                File firstLocalFile = new File(&quot;C:/Temp/test.txt&quot;);\r\n                InputStream inputStream = new FileInputStream(firstLocalFile);\r\n    \r\n                String firstRemoteFile = &quot;test.txt&quot;;\r\n    \r\n                ftpClient.changeWorkingDirectory(&quot;public&quot;);\r\n                var currentWorkingDir = ftpClient.printWorkingDirectory();\r\n                System.out.println(&quot;Current working directory &quot; + currentWorkingDir);\r\n    \r\n                System.out.println(&quot;Start uploading first file&quot;);\r\n    \r\n                boolean done = ftpClient.storeFile(firstRemoteFile, inputStream);\r\n    \r\n                inputStream.close();\r\n                if (done) {\r\n                    System.out.println(&quot;The first file is uploaded successfully.&quot;);\r\n                } else {\r\n                    var reply = ftpClient.getReplyString();\r\n                    System.out.println(&quot;Upload failed &quot; + reply );\r\n                }\r\n    \r\n                inputStream.close();\r\n            } catch (IOException ex) {\r\n                System.out.println(&quot;Error: &quot; + ex.getMessage());\r\n                ex.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    if (ftpClient.isConnected()) {\r\n                        ftpClient.disconnect();\r\n                    }\r\n                } catch (IOException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nbut it always throws the following exception:\r\n\r\n\r\n\r\n    java.net.SocketException: Connection reset by peer: socket write error\r\n    \tat java.base/java.net.SocketOutputStream.socketWrite0(Native Method)\r\n    \tat java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)\r\n    \tat java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)\r\n    \tat java.base/sun.security.ssl.SSLSocketOutputRecord.flush(SSLSocketOutputRecord.java:271)\r\n    \tat java.base/sun.security.ssl.HandshakeOutStream.flush(HandshakeOutStream.java:89)\r\n    \tat java.base/sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:647)\r\n    \tat java.base/sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:525)\r\n    \tat java.base/sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:112)\r\n    \tat java.base/sun.security.ssl.TransportContext.kickstart(TransportContext.java:233)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:449)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:427)\r\n    \tat org.apache.commons.net.ftp.FTPSClient.sslNegotiation(FTPSClient.java:283)\r\n    \tat org.apache.commons.net.ftp.FTPSClient._connectAction_(FTPSClient.java:219)\r\n    \tat org.apache.commons.net.SocketClient._connect(SocketClient.java:254)\r\n    \tat org.apache.commons.net.SocketClient.connect(SocketClient.java:212)\r\n    \tat org.apache.commons.net.SocketClient.connect(SocketClient.java:316)\r\n    \tat com.sample.simulator.Application.main(Application.java:21)\r\n\r\n\r\n\r\n\r\n\r\nSetting the isImplicit - Flag in the Constructor of FTPSClient to false goes further but fails at the upload stage (because probably a different port would be used for data connection which is not setup at our provider).\r\n\r\n    220 Another visitor. Stay a while...\r\n    AUTH TLS\r\n    234 AUTH SSL OK.\r\n    USER username\r\n    331 FTP login okay, send password.\r\n    PASS password\r\n    230 User logged in, proceed.\r\n    Login successful\r\n    TYPE I\r\n    200 Using BINARY mode to transfer data.\r\n    CWD public\r\n    250 Directory changed to /public\r\n    PWD\r\n    257 &quot;/public&quot; is current directory.\r\n    Current working directory /public\r\n    Start uploading first file\r\n    PORT 192,168,0,4,243,243\r\n    550 Permission denied.\r\n    Upload failed 550 Permission denied.\r\n    \r\n    QUIT\r\n    221 Goodbye.\r\n\r\n\r\nUpdate:\r\nWhen activating the flag -Djavax.net.debug=ssl i get the following output\r\n\r\n    C:\\Users\\xxx\\.jdks\\corretto-11.0.18\\bin\\java.exe -Djavax.net.debug=ssl &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3.3\\lib\\idea_rt.jar=59373:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3.3\\bin&quot; -Dfile.encoding=UTF-8 @C:\\Users\\xxx\\AppData\\Local\\Temp\\idea_arg_file1613146868 com.sample.simulator.Application -Djavax.net.debug=ssl\r\n    javax.net.ssl|DEBUG|01|main|2023-06-01 06:37:30.918 CEST|SSLCipher.java:464|jdk.tls.keyLimits:  entry = AES/GCM/NoPadding KeyUpdate 2^37. AES/GCM/NOPADDING:KEYUPDATE = 137438953472\r\n    javax.net.ssl|WARNING|01|main|2023-06-01 06:37:31.262 CEST|SSLSocketImpl.java:1654|handling exception (\r\n    &quot;throwable&quot; : {\r\n      java.net.SocketException: Connection reset by peer: socket write error\r\n      \tat java.base/java.net.SocketOutputStream.socketWrite0(Native Method)\r\n      \tat java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)\r\n      \tat java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)\r\n      \tat java.base/sun.security.ssl.SSLSocketOutputRecord.flush(SSLSocketOutputRecord.java:271)\r\n      \tat java.base/sun.security.ssl.HandshakeOutStream.flush(HandshakeOutStream.java:89)\r\n      \tat java.base/sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:647)\r\n      \tat java.base/sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:525)\r\n      \tat java.base/sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:112)\r\n      \tat java.base/sun.security.ssl.TransportContext.kickstart(TransportContext.java:233)\r\n      \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:449)\r\n      \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:427)\r\n      \tat org.apache.commons.net.ftp.FTPSClient.sslNegotiation(FTPSClient.java:283)\r\n      \tat org.apache.commons.net.ftp.FTPSClient._connectAction_(FTPSClient.java:219)\r\n      \tat org.apache.commons.net.SocketClient._connect(SocketClient.java:254)\r\n      \tat org.apache.commons.net.SocketClient.connect(SocketClient.java:212)\r\n      \tat org.apache.commons.net.SocketClient.connect(SocketClient.java:316)\r\n      \tat com.sample.simulator.Application.main(Application.java:21)}\r\n    \r\n    )\r\n    javax.net.ssl|ERROR|01|main|2023-06-01 06:37:31.263 CEST|TransportContext.java:345|Fatal (UNEXPECTED_MESSAGE): Connection reset by peer: socket write error (\r\n    &quot;throwable&quot; : {\r\n      java.net.SocketException: Connection reset by peer: socket write error\r\n      \tat java.base/java.net.SocketOutputStream.socketWrite0(Native Method)\r\n      \tat java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)\r\n      \tat java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)\r\n      \tat java.base/sun.security.ssl.SSLSocketOutputRecord.flush(SSLSocketOutputRecord.java:271)\r\n      \tat java.base/sun.security.ssl.HandshakeOutStream.flush(HandshakeOutStream.java:89)\r\n      \tat java.base/sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:647)\r\n      \tat java.base/sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:525)\r\n      \tat java.base/sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:112)\r\n      \tat java.base/sun.security.ssl.TransportContext.kickstart(TransportContext.java:233)\r\n      \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:449)\r\n      \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:427)\r\n      \tat org.apache.commons.net.ftp.FTPSClient.sslNegotiation(FTPSClient.java:283)\r\n      \tat org.apache.commons.net.ftp.FTPSClient._connectAction_(FTPSClient.java:219)\r\n      \tat org.apache.commons.net.SocketClient._connect(SocketClient.java:254)\r\n      \tat org.apache.commons.net.SocketClient.connect(SocketClient.java:212)\r\n      \tat org.apache.commons.net.SocketClient.connect(SocketClient.java:316)\r\n      \tat com.sample.simulator.Application.main(Application.java:21)}\r\n    \r\n    )\r\n    javax.net.ssl|WARNING|01|main|2023-06-01 06:37:31.264 CEST|TransportContext.java:392|Fatal: failed to send fatal alert UNEXPECTED_MESSAGE (\r\n    &quot;throwable&quot; : {\r\n      java.net.SocketException: Connection reset by peer: socket write error\r\n      \tat java.base/java.net.SocketOutputStream.socketWrite0(Native Method)\r\n      \tat java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)\r\n      \tat java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)\r\n      \tat java.base/sun.security.ssl.SSLSocketOutputRecord.encodeAlert(SSLSocketOutputRecord.java:81)\r\n      \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:389)\r\n      \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:296)\r\n      \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:291)\r\n      \tat java.base/sun.security.ssl.SSLSocketImpl.handleException(SSLSocketImpl.java:1682)\r\n      \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:466)\r\n      \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:427)\r\n      \tat org.apache.commons.net.ftp.FTPSClient.sslNegotiation(FTPSClient.java:283)\r\n      \tat org.apache.commons.net.ftp.FTPSClient._connectAction_(FTPSClient.java:219)\r\n      \tat org.apache.commons.net.SocketClient._connect(SocketClient.java:254)\r\n      \tat org.apache.commons.net.SocketClient.connect(SocketClient.java:212)\r\n      \tat org.apache.commons.net.SocketClient.connect(SocketClient.java:316)\r\n      \tat com.sample.simulator.Application.main(Application.java:21)}\r\n    \r\n    )\r\n    javax.net.ssl|DEBUG|01|main|2023-06-01 06:37:31.264 CEST|SSLSocketImpl.java:1737|close the underlying socket\r\n    javax.net.ssl|DEBUG|01|main|2023-06-01 06:37:31.264 CEST|SSLSocketImpl.java:1756|close the SSL connection (initiative)\r\n    java.net.SocketException: Connection reset by peer: socket write error\r\n    \tat java.base/java.net.SocketOutputStream.socketWrite0(Native Method)\r\n    \tat java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)\r\n    \tat java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)\r\n    \tat java.base/sun.security.ssl.SSLSocketOutputRecord.flush(SSLSocketOutputRecord.java:271)\r\n    \tat java.base/sun.security.ssl.HandshakeOutStream.flush(HandshakeOutStream.java:89)\r\n    \tat java.base/sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:647)\r\n    \tat java.base/sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:525)\r\n    \tat java.base/sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:112)\r\n    \tat java.base/sun.security.ssl.TransportContext.kickstart(TransportContext.java:233)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:449)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:427)\r\n    \tat org.apache.commons.net.ftp.FTPSClient.sslNegotiation(FTPSClient.java:283)\r\n    \tat org.apache.commons.net.ftp.FTPSClient._connectAction_(FTPSClient.java:219)\r\n    \tat org.apache.commons.net.SocketClient._connect(SocketClient.java:254)\r\n    \tat org.apache.commons.net.SocketClient.connect(SocketClient.java:212)\r\n    \tat org.apache.commons.net.SocketClient.connect(SocketClient.java:316)\r\n    \tat com.sample.simulator.Application.main(Application.java:21)\r\n    Error: Connection reset by peer: socket write error\r\n    \r\n    Process finished with exit code 0\r\n\r\nUpdate 2:\r\nThis is the verbose log output of the above curl command:\r\n\r\n    curl -v --ftp-ssl -T test.txt ftp://username:password@ftp.hidrive.ionos.com/public/testx2.txt\r\n    \r\n    Warning: --ssl is an insecure option, consider --ssl-reqd instead\r\n      % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                     Dload  Upload   Total   Spent    Left  Speed\r\n      0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying 85.214.3.104:21...\r\n    * Connected to ftp.hidrive.ionos.com (85.214.3.104) port 21 (#0)\r\n    &lt; 220 Another visitor. Stay a while...\r\n    &gt; AUTH SSL\r\n    &lt; 234 AUTH SSL OK.\r\n    * schannel: disabled automatic use of client certificate\r\n    &gt; USER username\r\n    * schannel: remote party requests renegotiation\r\n    * schannel: renegotiating SSL/TLS connection\r\n    * schannel: SSL/TLS connection renegotiated\r\n    * schannel: remote party requests renegotiation\r\n    * schannel: renegotiating SSL/TLS connection\r\n    * schannel: SSL/TLS connection renegotiated\r\n    &lt; 331 FTP login okay, send password.\r\n    &gt; PASS password\r\n    &lt; 230 User logged in, proceed.\r\n    &gt; PBSZ 0\r\n    &lt; 200 PBSZ=0\r\n    &gt; PROT P\r\n    &lt; 200 Switched to protected data transfer mode.\r\n    &gt; PWD\r\n    &lt; 257 &quot;/&quot; is current directory.\r\n    * Entry path is &#39;/&#39;\r\n    &gt; CWD public\r\n    * ftp_perform ends with SECONDARY: 0\r\n    &lt; 250 Directory changed to /public\r\n    &gt; EPSV\r\n    * Connect data stream passively\r\n    &lt; 500 Syntax error, command unrecognized.\r\n    * Failed EPSV attempt. Disabling EPSV\r\n    &gt; PASV\r\n    &lt; 227 Entering Passive Mode (85,214,3,104,230,253).\r\n    * Skip 85.214.3.104 for data connection, re-use ftp.hidrive.ionos.com instead\r\n    * Connecting to 85.214.3.104 (85.214.3.104) port 59133\r\n    *   Trying 85.214.3.104:59133...\r\n    * Connected to ftp.hidrive.ionos.com (85.214.3.104) port 21 (#0)\r\n    &gt; TYPE I\r\n    &lt; 200 Using BINARY mode to transfer data.\r\n    &gt; STOR testx2.txt\r\n    &lt; 150 Opening BINARY mode SSL data connection.\r\n    } [8 bytes data]\r\n    * We are completely uploaded and fine\r\n    * Remembering we are in dir &quot;public/&quot;\r\n    * schannel: shutting down SSL/TLS connection with ftp.hidrive.ionos.com port 21\r\n    &lt; 226 Transfer complete. Closing data connection.\r\n    100     8    0     0  100     8      0     10 --:--:-- --:--:-- --:--:--    10\r\n    * Connection #0 to host ftp.hidrive.ionos.com left intact\r\n\r\n\r\nUpdate 3:\r\n\r\nWhen i use passive mode (new FTPSClient(false)) and entering localPassiveMode connect and login works but i get a permission error when uploading the file. How can this be when i am using the same credentials and the same folder as with cURL?\r\n\r\n    220 Another visitor. Stay a while...\r\n    AUTH TLS\r\n    234 AUTH SSL OK.\r\n    javax.net.ssl|DEBUG|01|main|2023-06-01 12:54:27.190 CEST|SSLCipher.java:464|jdk.tls.keyLimits:  entry = AES/GCM/NoPadding KeyUpdate 2^37. AES/GCM/NOPADDING:KEYUPDATE = 137438953472\r\n    javax.net.ssl|DEBUG|01|main|2023-06-01 12:54:27.674 CEST|SSLCipher.java:1866|KeyLimit read side: algorithm = AES/GCM/NOPADDING:KEYUPDATE\r\n    countdown value = 137438953472\r\n    javax.net.ssl|DEBUG|01|main|2023-06-01 12:54:27.678 CEST|SSLCipher.java:2020|KeyLimit write side: algorithm = AES/GCM/NOPADDING:KEYUPDATE\r\n    countdown value = 137438953472\r\n    javax.net.ssl|DEBUG|01|main|2023-06-01 12:54:27.729 CEST|SSLCipher.java:1866|KeyLimit read side: algorithm = AES/GCM/NOPADDING:KEYUPDATE\r\n    countdown value = 137438953472\r\n    javax.net.ssl|DEBUG|01|main|2023-06-01 12:54:27.731 CEST|SSLCipher.java:2020|KeyLimit write side: algorithm = AES/GCM/NOPADDING:KEYUPDATE\r\n    countdown value = 137438953472\r\n    USER username\r\n    331 FTP login okay, send password.\r\n    PASS password\r\n    230 User logged in, proceed.\r\n    Login successful\r\n    TYPE I\r\n    200 Using BINARY mode to transfer data.\r\n    CWD public\r\n    250 Directory changed to /public\r\n    PWD\r\n    257 &quot;/public&quot; is current directory.\r\n    Current working directory /public\r\n    Start uploading first file\r\n    PASV\r\n    550 Permission denied.\r\n    Upload failed 550 Permission denied.\r\n    \r\n    javax.net.ssl|DEBUG|01|main|2023-06-01 12:54:28.006 CEST|SSLSocketImpl.java:578|duplex close of SSLSocket\r\n    javax.net.ssl|DEBUG|01|main|2023-06-01 12:54:28.008 CEST|SSLSocketImpl.java:1756|close the SSL connection (passive)\r\n\r\n\r\nIs there any option i am missing which would correctly upload the file as the cURL command does? \r\n\r\n\r\n","title":"FTPS Upload works with cURL command but not with Apache Commons FTPClient","body":"<p>The following command works to upload a file to our FTPS service provider:</p>\n<pre><code>curl --ftp-ssl -T test.txt ftp://username:password@ftp.hidrive.ionos.com/public/test.txt\n</code></pre>\n<p>I would like to achieve the same upload with Java using Apache Commons FTPSClient.\nI created this small sample program</p>\n<pre><code>package com.sample.simulator;\n\nimport org.apache.commons.net.PrintCommandListener;\nimport org.apache.commons.net.ftp.FTP;\nimport org.apache.commons.net.ftp.FTPSClient;\n\nimport java.io.*;\n\npublic class Application  {\n\n    public static void main(String[] args) throws IOException {\n        String server = &quot;ftp.hidrive.ionos.com&quot;;\n        String user = &quot;username&quot;;\n        String pass = &quot;password&quot;;\n\n        FTPSClient ftpClient = new FTPSClient(true);\n\n        ftpClient.addProtocolCommandListener(new PrintCommandListener(new PrintWriter(System.out)));\n\n        try {\n            ftpClient.connect(server);\n\n            var success = ftpClient.login(user, pass);\n            if(success) {\n                System.out.println(&quot;Login successful&quot;);\n            } else {\n                System.out.println(&quot;Login failed&quot;);\n            }\n\n            ftpClient.setFileType(FTP.BINARY_FILE_TYPE);\n\n            File firstLocalFile = new File(&quot;C:/Temp/test.txt&quot;);\n            InputStream inputStream = new FileInputStream(firstLocalFile);\n\n            String firstRemoteFile = &quot;test.txt&quot;;\n\n            ftpClient.changeWorkingDirectory(&quot;public&quot;);\n            var currentWorkingDir = ftpClient.printWorkingDirectory();\n            System.out.println(&quot;Current working directory &quot; + currentWorkingDir);\n\n            System.out.println(&quot;Start uploading first file&quot;);\n\n            boolean done = ftpClient.storeFile(firstRemoteFile, inputStream);\n\n            inputStream.close();\n            if (done) {\n                System.out.println(&quot;The first file is uploaded successfully.&quot;);\n            } else {\n                var reply = ftpClient.getReplyString();\n                System.out.println(&quot;Upload failed &quot; + reply );\n            }\n\n            inputStream.close();\n        } catch (IOException ex) {\n            System.out.println(&quot;Error: &quot; + ex.getMessage());\n            ex.printStackTrace();\n        } finally {\n            try {\n                if (ftpClient.isConnected()) {\n                    ftpClient.disconnect();\n                }\n            } catch (IOException ex) {\n                ex.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>but it always throws the following exception:</p>\n<pre><code>java.net.SocketException: Connection reset by peer: socket write error\n    at java.base/java.net.SocketOutputStream.socketWrite0(Native Method)\n    at java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)\n    at java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)\n    at java.base/sun.security.ssl.SSLSocketOutputRecord.flush(SSLSocketOutputRecord.java:271)\n    at java.base/sun.security.ssl.HandshakeOutStream.flush(HandshakeOutStream.java:89)\n    at java.base/sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:647)\n    at java.base/sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:525)\n    at java.base/sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:112)\n    at java.base/sun.security.ssl.TransportContext.kickstart(TransportContext.java:233)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:449)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:427)\n    at org.apache.commons.net.ftp.FTPSClient.sslNegotiation(FTPSClient.java:283)\n    at org.apache.commons.net.ftp.FTPSClient._connectAction_(FTPSClient.java:219)\n    at org.apache.commons.net.SocketClient._connect(SocketClient.java:254)\n    at org.apache.commons.net.SocketClient.connect(SocketClient.java:212)\n    at org.apache.commons.net.SocketClient.connect(SocketClient.java:316)\n    at com.sample.simulator.Application.main(Application.java:21)\n</code></pre>\n<p>Setting the isImplicit - Flag in the Constructor of FTPSClient to false goes further but fails at the upload stage (because probably a different port would be used for data connection which is not setup at our provider).</p>\n<pre><code>220 Another visitor. Stay a while...\nAUTH TLS\n234 AUTH SSL OK.\nUSER username\n331 FTP login okay, send password.\nPASS password\n230 User logged in, proceed.\nLogin successful\nTYPE I\n200 Using BINARY mode to transfer data.\nCWD public\n250 Directory changed to /public\nPWD\n257 &quot;/public&quot; is current directory.\nCurrent working directory /public\nStart uploading first file\nPORT 192,168,0,4,243,243\n550 Permission denied.\nUpload failed 550 Permission denied.\n\nQUIT\n221 Goodbye.\n</code></pre>\n<p>Update:\nWhen activating the flag -Djavax.net.debug=ssl i get the following output</p>\n<pre><code>C:\\Users\\xxx\\.jdks\\corretto-11.0.18\\bin\\java.exe -Djavax.net.debug=ssl &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3.3\\lib\\idea_rt.jar=59373:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3.3\\bin&quot; -Dfile.encoding=UTF-8 @C:\\Users\\xxx\\AppData\\Local\\Temp\\idea_arg_file1613146868 com.sample.simulator.Application -Djavax.net.debug=ssl\njavax.net.ssl|DEBUG|01|main|2023-06-01 06:37:30.918 CEST|SSLCipher.java:464|jdk.tls.keyLimits:  entry = AES/GCM/NoPadding KeyUpdate 2^37. AES/GCM/NOPADDING:KEYUPDATE = 137438953472\njavax.net.ssl|WARNING|01|main|2023-06-01 06:37:31.262 CEST|SSLSocketImpl.java:1654|handling exception (\n&quot;throwable&quot; : {\n  java.net.SocketException: Connection reset by peer: socket write error\n    at java.base/java.net.SocketOutputStream.socketWrite0(Native Method)\n    at java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)\n    at java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)\n    at java.base/sun.security.ssl.SSLSocketOutputRecord.flush(SSLSocketOutputRecord.java:271)\n    at java.base/sun.security.ssl.HandshakeOutStream.flush(HandshakeOutStream.java:89)\n    at java.base/sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:647)\n    at java.base/sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:525)\n    at java.base/sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:112)\n    at java.base/sun.security.ssl.TransportContext.kickstart(TransportContext.java:233)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:449)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:427)\n    at org.apache.commons.net.ftp.FTPSClient.sslNegotiation(FTPSClient.java:283)\n    at org.apache.commons.net.ftp.FTPSClient._connectAction_(FTPSClient.java:219)\n    at org.apache.commons.net.SocketClient._connect(SocketClient.java:254)\n    at org.apache.commons.net.SocketClient.connect(SocketClient.java:212)\n    at org.apache.commons.net.SocketClient.connect(SocketClient.java:316)\n    at com.sample.simulator.Application.main(Application.java:21)}\n\n)\njavax.net.ssl|ERROR|01|main|2023-06-01 06:37:31.263 CEST|TransportContext.java:345|Fatal (UNEXPECTED_MESSAGE): Connection reset by peer: socket write error (\n&quot;throwable&quot; : {\n  java.net.SocketException: Connection reset by peer: socket write error\n    at java.base/java.net.SocketOutputStream.socketWrite0(Native Method)\n    at java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)\n    at java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)\n    at java.base/sun.security.ssl.SSLSocketOutputRecord.flush(SSLSocketOutputRecord.java:271)\n    at java.base/sun.security.ssl.HandshakeOutStream.flush(HandshakeOutStream.java:89)\n    at java.base/sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:647)\n    at java.base/sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:525)\n    at java.base/sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:112)\n    at java.base/sun.security.ssl.TransportContext.kickstart(TransportContext.java:233)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:449)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:427)\n    at org.apache.commons.net.ftp.FTPSClient.sslNegotiation(FTPSClient.java:283)\n    at org.apache.commons.net.ftp.FTPSClient._connectAction_(FTPSClient.java:219)\n    at org.apache.commons.net.SocketClient._connect(SocketClient.java:254)\n    at org.apache.commons.net.SocketClient.connect(SocketClient.java:212)\n    at org.apache.commons.net.SocketClient.connect(SocketClient.java:316)\n    at com.sample.simulator.Application.main(Application.java:21)}\n\n)\njavax.net.ssl|WARNING|01|main|2023-06-01 06:37:31.264 CEST|TransportContext.java:392|Fatal: failed to send fatal alert UNEXPECTED_MESSAGE (\n&quot;throwable&quot; : {\n  java.net.SocketException: Connection reset by peer: socket write error\n    at java.base/java.net.SocketOutputStream.socketWrite0(Native Method)\n    at java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)\n    at java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)\n    at java.base/sun.security.ssl.SSLSocketOutputRecord.encodeAlert(SSLSocketOutputRecord.java:81)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:389)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:296)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:291)\n    at java.base/sun.security.ssl.SSLSocketImpl.handleException(SSLSocketImpl.java:1682)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:466)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:427)\n    at org.apache.commons.net.ftp.FTPSClient.sslNegotiation(FTPSClient.java:283)\n    at org.apache.commons.net.ftp.FTPSClient._connectAction_(FTPSClient.java:219)\n    at org.apache.commons.net.SocketClient._connect(SocketClient.java:254)\n    at org.apache.commons.net.SocketClient.connect(SocketClient.java:212)\n    at org.apache.commons.net.SocketClient.connect(SocketClient.java:316)\n    at com.sample.simulator.Application.main(Application.java:21)}\n\n)\njavax.net.ssl|DEBUG|01|main|2023-06-01 06:37:31.264 CEST|SSLSocketImpl.java:1737|close the underlying socket\njavax.net.ssl|DEBUG|01|main|2023-06-01 06:37:31.264 CEST|SSLSocketImpl.java:1756|close the SSL connection (initiative)\njava.net.SocketException: Connection reset by peer: socket write error\n    at java.base/java.net.SocketOutputStream.socketWrite0(Native Method)\n    at java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)\n    at java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)\n    at java.base/sun.security.ssl.SSLSocketOutputRecord.flush(SSLSocketOutputRecord.java:271)\n    at java.base/sun.security.ssl.HandshakeOutStream.flush(HandshakeOutStream.java:89)\n    at java.base/sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:647)\n    at java.base/sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:525)\n    at java.base/sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:112)\n    at java.base/sun.security.ssl.TransportContext.kickstart(TransportContext.java:233)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:449)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:427)\n    at org.apache.commons.net.ftp.FTPSClient.sslNegotiation(FTPSClient.java:283)\n    at org.apache.commons.net.ftp.FTPSClient._connectAction_(FTPSClient.java:219)\n    at org.apache.commons.net.SocketClient._connect(SocketClient.java:254)\n    at org.apache.commons.net.SocketClient.connect(SocketClient.java:212)\n    at org.apache.commons.net.SocketClient.connect(SocketClient.java:316)\n    at com.sample.simulator.Application.main(Application.java:21)\nError: Connection reset by peer: socket write error\n\nProcess finished with exit code 0\n</code></pre>\n<p>Update 2:\nThis is the verbose log output of the above curl command:</p>\n<pre><code>curl -v --ftp-ssl -T test.txt ftp://username:password@ftp.hidrive.ionos.com/public/testx2.txt\n\nWarning: --ssl is an insecure option, consider --ssl-reqd instead\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying 85.214.3.104:21...\n* Connected to ftp.hidrive.ionos.com (85.214.3.104) port 21 (#0)\n&lt; 220 Another visitor. Stay a while...\n&gt; AUTH SSL\n&lt; 234 AUTH SSL OK.\n* schannel: disabled automatic use of client certificate\n&gt; USER username\n* schannel: remote party requests renegotiation\n* schannel: renegotiating SSL/TLS connection\n* schannel: SSL/TLS connection renegotiated\n* schannel: remote party requests renegotiation\n* schannel: renegotiating SSL/TLS connection\n* schannel: SSL/TLS connection renegotiated\n&lt; 331 FTP login okay, send password.\n&gt; PASS password\n&lt; 230 User logged in, proceed.\n&gt; PBSZ 0\n&lt; 200 PBSZ=0\n&gt; PROT P\n&lt; 200 Switched to protected data transfer mode.\n&gt; PWD\n&lt; 257 &quot;/&quot; is current directory.\n* Entry path is '/'\n&gt; CWD public\n* ftp_perform ends with SECONDARY: 0\n&lt; 250 Directory changed to /public\n&gt; EPSV\n* Connect data stream passively\n&lt; 500 Syntax error, command unrecognized.\n* Failed EPSV attempt. Disabling EPSV\n&gt; PASV\n&lt; 227 Entering Passive Mode (85,214,3,104,230,253).\n* Skip 85.214.3.104 for data connection, re-use ftp.hidrive.ionos.com instead\n* Connecting to 85.214.3.104 (85.214.3.104) port 59133\n*   Trying 85.214.3.104:59133...\n* Connected to ftp.hidrive.ionos.com (85.214.3.104) port 21 (#0)\n&gt; TYPE I\n&lt; 200 Using BINARY mode to transfer data.\n&gt; STOR testx2.txt\n&lt; 150 Opening BINARY mode SSL data connection.\n} [8 bytes data]\n* We are completely uploaded and fine\n* Remembering we are in dir &quot;public/&quot;\n* schannel: shutting down SSL/TLS connection with ftp.hidrive.ionos.com port 21\n&lt; 226 Transfer complete. Closing data connection.\n100     8    0     0  100     8      0     10 --:--:-- --:--:-- --:--:--    10\n* Connection #0 to host ftp.hidrive.ionos.com left intact\n</code></pre>\n<p>Update 3:</p>\n<p>When i use passive mode (new FTPSClient(false)) and entering localPassiveMode connect and login works but i get a permission error when uploading the file. How can this be when i am using the same credentials and the same folder as with cURL?</p>\n<pre><code>220 Another visitor. Stay a while...\nAUTH TLS\n234 AUTH SSL OK.\njavax.net.ssl|DEBUG|01|main|2023-06-01 12:54:27.190 CEST|SSLCipher.java:464|jdk.tls.keyLimits:  entry = AES/GCM/NoPadding KeyUpdate 2^37. AES/GCM/NOPADDING:KEYUPDATE = 137438953472\njavax.net.ssl|DEBUG|01|main|2023-06-01 12:54:27.674 CEST|SSLCipher.java:1866|KeyLimit read side: algorithm = AES/GCM/NOPADDING:KEYUPDATE\ncountdown value = 137438953472\njavax.net.ssl|DEBUG|01|main|2023-06-01 12:54:27.678 CEST|SSLCipher.java:2020|KeyLimit write side: algorithm = AES/GCM/NOPADDING:KEYUPDATE\ncountdown value = 137438953472\njavax.net.ssl|DEBUG|01|main|2023-06-01 12:54:27.729 CEST|SSLCipher.java:1866|KeyLimit read side: algorithm = AES/GCM/NOPADDING:KEYUPDATE\ncountdown value = 137438953472\njavax.net.ssl|DEBUG|01|main|2023-06-01 12:54:27.731 CEST|SSLCipher.java:2020|KeyLimit write side: algorithm = AES/GCM/NOPADDING:KEYUPDATE\ncountdown value = 137438953472\nUSER username\n331 FTP login okay, send password.\nPASS password\n230 User logged in, proceed.\nLogin successful\nTYPE I\n200 Using BINARY mode to transfer data.\nCWD public\n250 Directory changed to /public\nPWD\n257 &quot;/public&quot; is current directory.\nCurrent working directory /public\nStart uploading first file\nPASV\n550 Permission denied.\nUpload failed 550 Permission denied.\n\njavax.net.ssl|DEBUG|01|main|2023-06-01 12:54:28.006 CEST|SSLSocketImpl.java:578|duplex close of SSLSocket\njavax.net.ssl|DEBUG|01|main|2023-06-01 12:54:28.008 CEST|SSLSocketImpl.java:1756|close the SSL connection (passive)\n</code></pre>\n<p>Is there any option i am missing which would correctly upload the file as the cURL command does?</p>\n"},{"tags":["java","gson"],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685616858,"creation_date":1685489041,"answer_id":76369203,"question_id":76368945,"body_markdown":"Assuming that you want to read the JSON from a file and parse it into a Desc object:\r\n```java\r\nGson gson = new Gson();\r\nReader reader = Files.newBufferedReader(Paths.get(&quot;desc.json&quot;));\r\nDesc desc= gson.fromJson(reader,Desc.class);\r\nreader.close();\r\n```","title":"How to convert JSON to Java class using Gson&#39;s fromJson method?","body":"<p>Assuming that you want to read the JSON from a file and parse it into a Desc object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Gson gson = new Gson();\nReader reader = Files.newBufferedReader(Paths.get(&quot;desc.json&quot;));\nDesc desc= gson.fromJson(reader,Desc.class);\nreader.close();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":28611686,"reputation":15,"user_id":21906550,"display_name":"DiegoM"},"score":0,"creation_date":1685520266,"post_id":76370457,"comment_id":134669987,"body_markdown":"thank you, I was looking for a tool like this","body":"thank you, I was looking for a tool like this"},{"owner":{"account_id":24346889,"reputation":74,"user_id":18283306,"display_name":"Dylan LaMott"},"score":0,"creation_date":1685640897,"post_id":76370457,"comment_id":134692404,"body_markdown":"No problem, definitely comes in handy for me!","body":"No problem, definitely comes in handy for me!"}],"tags":[],"owner":{"account_id":24346889,"reputation":74,"user_id":18283306,"display_name":"Dylan LaMott"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685511539,"creation_date":1685511539,"answer_id":76370457,"question_id":76368945,"body_markdown":"If you already have this in an object then it is simple as this\r\n\r\n    Desc desc = new Gson().fromJson(jsonString, Desc.class);\r\n\r\nAlso for creating class models don&#39;t waste time making your own... just use this: https://www.jsonschema2pojo.org/\r\n\r\nSaves headache and time","title":"How to convert JSON to Java class using Gson&#39;s fromJson method?","body":"<p>If you already have this in an object then it is simple as this</p>\n<pre><code>Desc desc = new Gson().fromJson(jsonString, Desc.class);\n</code></pre>\n<p>Also for creating class models don't waste time making your own... just use this: <a href=\"https://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">https://www.jsonschema2pojo.org/</a></p>\n<p>Saves headache and time</p>\n"}],"owner":{"account_id":28611686,"reputation":15,"user_id":21906550,"display_name":"DiegoM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76370457,"answer_count":2,"score":-1,"last_activity_date":1685616858,"creation_date":1685484261,"question_id":76368945,"body_markdown":"I have a message in JSON and I want convert it to a Java object using the &quot;fromJson&quot; method of the Gson library.\r\n\r\nHow can I do this?\r\n\r\nI have the message JSON in this format:\r\n```json\r\n{\r\n   &quot;desc&quot;:[\r\n      {\r\n         &quot;name&quot;:&quot;id&quot;,\r\n         &quot;desc&quot;:{\r\n            &quot;ip_arduino&quot;:&quot;value&quot;,\r\n            &quot;id_house&quot;:&quot;value&quot;,\r\n            &quot;house_address&quot;:&quot;value&quot;\r\n         }\r\n      },\r\n      {\r\n         &quot;name&quot;:&quot;P1&quot;,\r\n         &quot;desc&quot;:{\r\n            &quot;field&quot;:&quot;panel1&quot;,\r\n            &quot;value&quot;:0\r\n         }\r\n      },\r\n      {\r\n         &quot;name&quot;:&quot;P2&quot;,\r\n         &quot;desc&quot;:{\r\n            &quot;field&quot;:&quot;panel3&quot;,\r\n            &quot;value&quot;:0\r\n         }\r\n      },\r\n      {\r\n         &quot;name&quot;:&quot;P3&quot;,\r\n         &quot;desc&quot;:{\r\n            &quot;field&quot;:&quot;panel3&quot;,\r\n            &quot;value&quot;:0\r\n         }\r\n      },\r\n      {\r\n         &quot;name&quot;:&quot;P4&quot;,\r\n         &quot;desc&quot;:{\r\n            &quot;field&quot;:&quot;panel4&quot;,\r\n            &quot;value&quot;:0\r\n         }\r\n      }\r\n   ]\r\n}\r\n```\r\n\r\nI have tried this, but it does not work. I have printed some value, but it is null: \r\n\r\njsonDesc.java file\r\n```java\r\npublic class jsonDesc {\r\n\r\n    private ArrayList&lt;Desc&gt; desc = new ArrayList();\r\n    \r\n}\r\n```\r\n\r\n\r\nand Desc.java file\r\n\r\n```java\r\npublic class Desc {\r\n    String name;\r\n    desc desc;\r\n\r\n    desc1 desc1;\r\n\r\n    public class desc{\r\n       String ip_arduino;\r\n       String id_house;\r\n       String house_address;\r\n    }\r\n\r\n    public class desc1{\r\n        String name;\r\n        desc desc;\r\n        public class desc{\r\n            String field;\r\n            String value;\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n","title":"How to convert JSON to Java class using Gson&#39;s fromJson method?","body":"<p>I have a message in JSON and I want convert it to a Java object using the &quot;fromJson&quot; method of the Gson library.</p>\n<p>How can I do this?</p>\n<p>I have the message JSON in this format:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;desc&quot;:[\n      {\n         &quot;name&quot;:&quot;id&quot;,\n         &quot;desc&quot;:{\n            &quot;ip_arduino&quot;:&quot;value&quot;,\n            &quot;id_house&quot;:&quot;value&quot;,\n            &quot;house_address&quot;:&quot;value&quot;\n         }\n      },\n      {\n         &quot;name&quot;:&quot;P1&quot;,\n         &quot;desc&quot;:{\n            &quot;field&quot;:&quot;panel1&quot;,\n            &quot;value&quot;:0\n         }\n      },\n      {\n         &quot;name&quot;:&quot;P2&quot;,\n         &quot;desc&quot;:{\n            &quot;field&quot;:&quot;panel3&quot;,\n            &quot;value&quot;:0\n         }\n      },\n      {\n         &quot;name&quot;:&quot;P3&quot;,\n         &quot;desc&quot;:{\n            &quot;field&quot;:&quot;panel3&quot;,\n            &quot;value&quot;:0\n         }\n      },\n      {\n         &quot;name&quot;:&quot;P4&quot;,\n         &quot;desc&quot;:{\n            &quot;field&quot;:&quot;panel4&quot;,\n            &quot;value&quot;:0\n         }\n      }\n   ]\n}\n</code></pre>\n<p>I have tried this, but it does not work. I have printed some value, but it is null:</p>\n<p>jsonDesc.java file</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class jsonDesc {\n\n    private ArrayList&lt;Desc&gt; desc = new ArrayList();\n    \n}\n</code></pre>\n<p>and Desc.java file</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Desc {\n    String name;\n    desc desc;\n\n    desc1 desc1;\n\n    public class desc{\n       String ip_arduino;\n       String id_house;\n       String house_address;\n    }\n\n    public class desc1{\n        String name;\n        desc desc;\n        public class desc{\n            String field;\n            String value;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","webview"],"owner":{"account_id":26712899,"reputation":21,"user_id":20317930,"display_name":"Ayan Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685616816,"creation_date":1685616816,"question_id":76381156,"body_markdown":"i will try to handel webview onReceivedError and onReceivedHttpError, i will show error laytout when webview ReceivedError or ReceivedHttpError and hide webview and when user refresh than error layout hide and webview show but problem is webview onReceivedError is work correctly but onReceivedHttpError not working means error layout not showing webview directly show error, please help me ...\r\n\r\ni will get some http errors which will display on webview directly :- net::ERR_INTERNET_DISCONNECTED, net::ERR_HTTP_RESPONSE_CODE_FAILURE.. \r\n\r\nthis is my code :- \r\n\r\n```\r\noverride fun onProgressChanged(view: WebView?, newProgress: Int) {\r\n                binding.progressBar.progress = newProgress\r\n                if (newProgress == 100) {\r\n                    view?.visibility = View.VISIBLE\r\n                    binding.errorLayout.visibility = View.GONE\r\n                }\r\n\r\n                if (newProgress &gt; 70) {\r\n                    binding.swipeRefreshLayout.isRefreshing = false\r\n                    binding.progressBar.visibility = View.INVISIBLE\r\n\r\n                } else {\r\n                    binding.progressBar.visibility = View.VISIBLE\r\n                }\r\n            }\r\n```\r\n\r\nonReceivedError code :- \r\n\r\n```\r\noverride fun onReceivedError(\r\n                view: WebView?,\r\n                request: WebResourceRequest?,\r\n                error: WebResourceError?\r\n            ) {\r\n                if (error != null &amp;&amp; error.errorCode != -1) {\r\n                    val errorCode = error.errorCode\r\n                    val errorMessage = error.description.toString()\r\n                    binding.errorLayout.visibility = View.VISIBLE\r\n                    binding.webView.visibility = View.GONE\r\n                    isErrorOccurred = true\r\n                    handleError(errorCode, errorMessage)\r\n                }\r\n                super.onReceivedError(view, request, error)\r\n            }\r\n```\r\n\r\nonReceivedHttpError code :- \r\n\r\n```\r\noverride fun onReceivedHttpError(\r\n                view: WebView?,\r\n                request: WebResourceRequest?,\r\n                errorResponse: WebResourceResponse?\r\n            ) {\r\n                if (errorResponse != null &amp;&amp; errorResponse.statusCode != 404) {\r\n                    val errorCode = errorResponse.statusCode\r\n                    val errorMessage = errorResponse.reasonPhrase.toString()\r\n                    binding.errorLayout.visibility = View.VISIBLE\r\n                    binding.webView.visibility = View.GONE\r\n                    isErrorOccurred = true\r\n                    handleError(errorCode, errorMessage)\r\n                }\r\n                super.onReceivedHttpError(view, request, errorResponse)\r\n            }\r\n```\r\n\r\n\r\n```\r\nfun handleError(errorCode: Int?, errorDes: String) {\r\n        var message: String? = null\r\n        when (errorCode) {\r\n            WebViewClient.ERROR_AUTHENTICATION -&gt; message = &quot;User authentication failed on server&quot;\r\n            WebViewClient.ERROR_TIMEOUT -&gt; message =\r\n                &quot;The server is taking too much time to communicate. Try again later.&quot;\r\n\r\n            WebViewClient.ERROR_TOO_MANY_REQUESTS -&gt; message = &quot;Too many requests during this load&quot;\r\n            WebViewClient.ERROR_UNKNOWN -&gt; message = &quot;Generic error&quot;\r\n            WebViewClient.ERROR_BAD_URL -&gt; message = &quot;Check entered URL..&quot;\r\n            WebViewClient.ERROR_CONNECT -&gt; message = &quot;Failed to connect to the server&quot;\r\n            WebViewClient.ERROR_FAILED_SSL_HANDSHAKE -&gt; message = &quot;Failed to perform SSL handshake&quot;\r\n            WebViewClient.ERROR_HOST_LOOKUP -&gt; message = &quot;Server or proxy hostname lookup failed&quot;\r\n            WebViewClient.ERROR_PROXY_AUTHENTICATION -&gt; message =\r\n                &quot;User authentication failed on proxy&quot;\r\n\r\n            WebViewClient.ERROR_REDIRECT_LOOP -&gt; message = &quot;Too many redirects&quot;\r\n            WebViewClient.ERROR_UNSUPPORTED_AUTH_SCHEME -&gt; message =\r\n                &quot;Unsupported authentication scheme (not basic or digest)&quot;\r\n\r\n            WebViewClient.ERROR_UNSUPPORTED_SCHEME -&gt; message = &quot;unsupported scheme&quot;\r\n            WebViewClient.ERROR_FILE -&gt; message = &quot;Generic file error&quot;\r\n            WebViewClient.ERROR_FILE_NOT_FOUND -&gt; message = &quot;File not found&quot;\r\n            WebViewClient.ERROR_IO -&gt; message = &quot;The server failed to communicate. Try again later.&quot;\r\n        }\r\n\r\n        binding.errorTxt1.text = errorDes\r\n        binding.errorTxt2.text = message\r\n\r\n    }\r\n```","title":"Webview onReceivedHttpError and onReceivedError problem (not working)","body":"<p>i will try to handel webview onReceivedError and onReceivedHttpError, i will show error laytout when webview ReceivedError or ReceivedHttpError and hide webview and when user refresh than error layout hide and webview show but problem is webview onReceivedError is work correctly but onReceivedHttpError not working means error layout not showing webview directly show error, please help me ...</p>\n<p>i will get some http errors which will display on webview directly :- net::ERR_INTERNET_DISCONNECTED, net::ERR_HTTP_RESPONSE_CODE_FAILURE..</p>\n<p>this is my code :-</p>\n<pre><code>override fun onProgressChanged(view: WebView?, newProgress: Int) {\n                binding.progressBar.progress = newProgress\n                if (newProgress == 100) {\n                    view?.visibility = View.VISIBLE\n                    binding.errorLayout.visibility = View.GONE\n                }\n\n                if (newProgress &gt; 70) {\n                    binding.swipeRefreshLayout.isRefreshing = false\n                    binding.progressBar.visibility = View.INVISIBLE\n\n                } else {\n                    binding.progressBar.visibility = View.VISIBLE\n                }\n            }\n</code></pre>\n<p>onReceivedError code :-</p>\n<pre><code>override fun onReceivedError(\n                view: WebView?,\n                request: WebResourceRequest?,\n                error: WebResourceError?\n            ) {\n                if (error != null &amp;&amp; error.errorCode != -1) {\n                    val errorCode = error.errorCode\n                    val errorMessage = error.description.toString()\n                    binding.errorLayout.visibility = View.VISIBLE\n                    binding.webView.visibility = View.GONE\n                    isErrorOccurred = true\n                    handleError(errorCode, errorMessage)\n                }\n                super.onReceivedError(view, request, error)\n            }\n</code></pre>\n<p>onReceivedHttpError code :-</p>\n<pre><code>override fun onReceivedHttpError(\n                view: WebView?,\n                request: WebResourceRequest?,\n                errorResponse: WebResourceResponse?\n            ) {\n                if (errorResponse != null &amp;&amp; errorResponse.statusCode != 404) {\n                    val errorCode = errorResponse.statusCode\n                    val errorMessage = errorResponse.reasonPhrase.toString()\n                    binding.errorLayout.visibility = View.VISIBLE\n                    binding.webView.visibility = View.GONE\n                    isErrorOccurred = true\n                    handleError(errorCode, errorMessage)\n                }\n                super.onReceivedHttpError(view, request, errorResponse)\n            }\n</code></pre>\n<pre><code>fun handleError(errorCode: Int?, errorDes: String) {\n        var message: String? = null\n        when (errorCode) {\n            WebViewClient.ERROR_AUTHENTICATION -&gt; message = &quot;User authentication failed on server&quot;\n            WebViewClient.ERROR_TIMEOUT -&gt; message =\n                &quot;The server is taking too much time to communicate. Try again later.&quot;\n\n            WebViewClient.ERROR_TOO_MANY_REQUESTS -&gt; message = &quot;Too many requests during this load&quot;\n            WebViewClient.ERROR_UNKNOWN -&gt; message = &quot;Generic error&quot;\n            WebViewClient.ERROR_BAD_URL -&gt; message = &quot;Check entered URL..&quot;\n            WebViewClient.ERROR_CONNECT -&gt; message = &quot;Failed to connect to the server&quot;\n            WebViewClient.ERROR_FAILED_SSL_HANDSHAKE -&gt; message = &quot;Failed to perform SSL handshake&quot;\n            WebViewClient.ERROR_HOST_LOOKUP -&gt; message = &quot;Server or proxy hostname lookup failed&quot;\n            WebViewClient.ERROR_PROXY_AUTHENTICATION -&gt; message =\n                &quot;User authentication failed on proxy&quot;\n\n            WebViewClient.ERROR_REDIRECT_LOOP -&gt; message = &quot;Too many redirects&quot;\n            WebViewClient.ERROR_UNSUPPORTED_AUTH_SCHEME -&gt; message =\n                &quot;Unsupported authentication scheme (not basic or digest)&quot;\n\n            WebViewClient.ERROR_UNSUPPORTED_SCHEME -&gt; message = &quot;unsupported scheme&quot;\n            WebViewClient.ERROR_FILE -&gt; message = &quot;Generic file error&quot;\n            WebViewClient.ERROR_FILE_NOT_FOUND -&gt; message = &quot;File not found&quot;\n            WebViewClient.ERROR_IO -&gt; message = &quot;The server failed to communicate. Try again later.&quot;\n        }\n\n        binding.errorTxt1.text = errorDes\n        binding.errorTxt2.text = message\n\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","swagger","openapi"],"comments":[{"owner":{"account_id":14544626,"reputation":129,"user_id":10505187,"display_name":"fixcer"},"score":1,"creation_date":1685607651,"post_id":76379843,"comment_id":134684579,"body_markdown":"You can use mapstruct to mapper PriceDto to com.prueba.gen.dto.PriceDto","body":"You can use mapstruct to mapper PriceDto to com.prueba.gen.dto.PriceDto"},{"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"score":0,"creation_date":1685609563,"post_id":76379843,"comment_id":134684985,"body_markdown":"Either use mapstruct (easiest solution) or you can map your object to be returned by openapi generator [example here](https://stackoverflow.com/questions/59072297/openapi-generator-reference-an-external-pojo-in-yaml-file-specification/59085102#59085102)","body":"Either use mapstruct (easiest solution) or you can map your object to be returned by openapi generator <a href=\"https://stackoverflow.com/questions/59072297/openapi-generator-reference-an-external-pojo-in-yaml-file-specification/59085102#59085102\">example here</a>"},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1685641166,"post_id":76379843,"comment_id":134692466,"body_markdown":"Why not return generated dto from your service?","body":"Why not return generated dto from your service?"}],"owner":{"account_id":14775090,"reputation":33,"user_id":10863855,"display_name":"sergio rodriguez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":571,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685616762,"creation_date":1685606592,"question_id":76379843,"body_markdown":"Firstly, it&#39;s my first time working with OpenAPI, so any comments are welcome.\r\n\r\nMy question is: OpenAPI generate an interface of my API &quot;PriceControllerApi&quot; that returns a `ResponseEntity&lt;PriceDto&gt;` this is the generated DTO by open API. The method that override in my class controller return a `ResponseEntity&lt;PriceDto&gt;` but this DTO is my own DTO.\r\n\r\nWhat is the best practice?\r\n\r\n - As my service returns my DTO, make a copy of this DTO to the generated DTO and return it on the return\r\n - make a template for the generated API interface that returns my DTO\r\n - Is there any other option that is more correct?\r\n\r\nHere is the code\r\n\r\napi-docs.json\r\n\r\n        {\r\n      &quot;components&quot;: {\r\n        &quot;schemas&quot;: {\r\n          &quot;PriceDto&quot;: {\r\n            &quot;type&quot;: &quot;object&quot;,\r\n            &quot;properties&quot;: {\r\n              &quot;id&quot;: {\r\n                &quot;type&quot;: &quot;integer&quot;,\r\n                &quot;description&quot;: &quot;ID del precio&quot;,\r\n                &quot;format&quot;: &quot;int32&quot;\r\n              },\r\n              &quot;productId&quot;: {\r\n                &quot;type&quot;: &quot;integer&quot;,\r\n                &quot;description&quot;: &quot;ID del producto&quot;,\r\n                &quot;format&quot;: &quot;int64&quot;\r\n              },\r\n              &quot;brandId&quot;: {\r\n                &quot;type&quot;: &quot;integer&quot;,\r\n                &quot;description&quot;: &quot;ID de la marca&quot;,\r\n                &quot;format&quot;: &quot;int64&quot;\r\n              },\r\n              &quot;priceList&quot;: {\r\n                &quot;type&quot;: &quot;integer&quot;,\r\n                &quot;description&quot;: &quot;Orden de ofertas&quot;,\r\n                &quot;format&quot;: &quot;int32&quot;\r\n              },\r\n              &quot;priority&quot;: {\r\n                &quot;type&quot;: &quot;integer&quot;,\r\n                &quot;description&quot;: &quot;Prioridad&quot;,\r\n                &quot;format&quot;: &quot;int32&quot;\r\n              },\r\n              &quot;startDate&quot;: {\r\n                &quot;type&quot;: &quot;string&quot;,\r\n                &quot;description&quot;: &quot;Fecha inicio de la oferta&quot;,\r\n                &quot;format&quot;: &quot;date-time&quot;\r\n              },\r\n              &quot;endDate&quot;: {\r\n                &quot;type&quot;: &quot;string&quot;,\r\n                &quot;description&quot;: &quot;Fecha fin de la oferta&quot;,\r\n                &quot;format&quot;: &quot;date-time&quot;\r\n              },\r\n              &quot;price&quot;: {\r\n                &quot;description&quot;: &quot;Precio unitario&quot;,\r\n                &quot;format&quot;: &quot;double&quot;,\r\n                &quot;type&quot;: &quot;number&quot;\r\n              },\r\n              &quot;curr&quot;: {\r\n                &quot;type&quot;: &quot;string&quot;,\r\n                &quot;description&quot;: &quot;Tipo de moneda&quot;\r\n              }\r\n            },\r\n            &quot;description&quot;: &quot;Objeto que representa el precio&quot;\r\n          }\r\n        }\r\n      },\r\n      &quot;info&quot;: {\r\n        &quot;title&quot;: &quot;OpenAPI definition&quot;,\r\n        &quot;version&quot;: &quot;v0&quot;\r\n      },\r\n      &quot;openapi&quot;: &quot;3.0.1&quot;,\r\n      &quot;paths&quot;: {\r\n        &quot;/prices&quot;: {\r\n          &quot;get&quot;: {\r\n            &quot;tags&quot;: [\r\n              &quot;price-controller&quot;\r\n            ],\r\n            &quot;summary&quot;: &quot;Obtener precio&quot;,\r\n            &quot;operationId&quot;: &quot;getPrice&quot;,\r\n            &quot;parameters&quot;: [\r\n              {\r\n                &quot;name&quot;: &quot;applicationDate&quot;,\r\n                &quot;in&quot;: &quot;query&quot;,\r\n                &quot;description&quot;: &quot;Fecha y hora de la aplicaci&#243;n&quot;,\r\n                &quot;required&quot;: true,\r\n                &quot;schema&quot;: {\r\n                  &quot;type&quot;: &quot;string&quot;,\r\n                  &quot;format&quot;: &quot;date-time&quot;,\r\n                  &quot;example&quot;: &quot;2023-05-31T10:30:00&quot;\r\n                }\r\n              },\r\n              {\r\n                &quot;name&quot;: &quot;productId&quot;,\r\n                &quot;in&quot;: &quot;query&quot;,\r\n                &quot;description&quot;: &quot;Id del producto&quot;,\r\n                &quot;required&quot;: true,\r\n                &quot;schema&quot;: {\r\n                  &quot;type&quot;: &quot;integer&quot;,\r\n                  &quot;format&quot;: &quot;int64&quot;\r\n                }\r\n              },\r\n              {\r\n                &quot;name&quot;: &quot;brandId&quot;,\r\n                &quot;in&quot;: &quot;query&quot;,\r\n                &quot;description&quot;: &quot;Id de la marca&quot;,\r\n                &quot;required&quot;: true,\r\n                &quot;schema&quot;: {\r\n                  &quot;type&quot;: &quot;integer&quot;,\r\n                  &quot;format&quot;: &quot;int64&quot;\r\n                }\r\n              }\r\n            ],\r\n            &quot;responses&quot;: {\r\n              &quot;400&quot;: {\r\n                &quot;description&quot;: &quot;Solicitud inv&#225;lida&quot;\r\n              },\r\n              &quot;200&quot;: {\r\n                &quot;description&quot;: &quot;OK&quot;,\r\n                &quot;content&quot;: {\r\n                  &quot;application/json&quot;: {\r\n                    &quot;schema&quot;: {\r\n                      &quot;$ref&quot;: &quot;#/components/schemas/PriceDto&quot;\r\n                    }\r\n                  }\r\n                }\r\n              },\r\n              &quot;404&quot;: {\r\n                &quot;description&quot;: &quot;Valor no encontrado&quot;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      },\r\n      &quot;servers&quot;: [\r\n        {\r\n          &quot;url&quot;: &quot;http://localhost:8080&quot;,\r\n          &quot;description&quot;: &quot;Generated server url&quot;}]\r\n    }\r\n\r\nplugin of pom.xml\r\n\r\n    &lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;!-- RELEASE_VERSION --&gt;\r\n    \t\t\t\t&lt;version&gt;5.4.0&lt;/version&gt;\r\n    \t\t\t\t&lt;!-- /RELEASE_VERSION --&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;inputSpec&gt;${project.basedir}/api-docs/json/api-docs.json&lt;/inputSpec&gt;\r\n    \t\t\t\t\t\t\t&lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n    \t\t\t\t\t\t\t&lt;packageName&gt;${project.groupId}.gen&lt;/packageName&gt;\r\n    \t\t\t\t\t\t\t&lt;apiPackage&gt;${project.groupId}.gen.api.v1&lt;/apiPackage&gt;\r\n    \t\t\t\t\t\t\t&lt;modelPackage&gt;${project.groupId}.gen.dto&lt;/modelPackage&gt;\r\n    \t\t\t\t\t\t\t&lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\r\n    \t\t\t\t\t\t\t&lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\r\n    \t\t\t\t\t\t\t&lt;library&gt;spring-boot&lt;/library&gt;\r\n    \t\t\t\t\t\t\t&lt;skipValidateSpec&gt;false&lt;/skipValidateSpec&gt;\r\n    \t\t\t\t\t\t\t&lt;configOptions&gt;\r\n    \t\t\t\t\t\t\t\t&lt;basePackage&gt;com.prueba.test&lt;/basePackage&gt;\r\n    \t\t\t\t\t\t\t\t&lt;reactive&gt;false&lt;/reactive&gt;\r\n    \t\t\t\t\t\t\t\t&lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\r\n    \t\t\t\t\t\t\t\t&lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\r\n    \t\t\t\t\t\t\t\t&lt;sourceFolder&gt;src/main/java&lt;/sourceFolder&gt;\r\n    \t\t\t\t\t\t\t\t&lt;!--suppress UnresolvedMavenProperty --&gt;\r\n    \t\t\t\t\t\t\t\t&lt;additionalModelTypeAnnotations&gt;@lombok.Builder @lombok.NoArgsConstructor @lombok.AllArgsConstructor&lt;/additionalModelTypeAnnotations&gt;\r\n    \t\t\t\t\t\t\t\t&lt;useTags&gt;true&lt;/useTags&gt;\r\n    \t\t\t\t\t\t\t&lt;/configOptions&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n\r\nmy controller with the first option a mencioned\r\n\r\n     @Override\r\n        public ResponseEntity&lt;com.prueba.gen.dto.PriceDto&gt; getPrice(OffsetDateTime applicationDate, Long productId, Long brandId){\r\n            if (applicationDate == null || productId &lt;= 0 || brandId &lt;= 0) {\r\n                return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\r\n            }\r\n    \r\n            PriceDto priceDto = this.priceService.getByApplicationDateAndProductIdAndBrandId(applicationDate.toLocalDateTime(), productId, brandId);\r\n            if (priceDto.getId() == 0) {\r\n                throw new PriceNotFoundException(&quot;Price not found for application date &quot; + applicationDate + &quot;, product &quot; + productId + &quot;, brand &quot; + brandId);\r\n            }\r\n           com.prueba.gen.dto.PriceDto generatedPriceDto = DtoMapper.INSTANCE.mapSourceToDestination(priceDto);\r\n            return new ResponseEntity&lt;&gt;(generatedPriceDto,HttpStatus.OK);\r\n        }\r\n\r\nany contribution or improvement of the code is welcome. Thank you!\r\n","title":"Best Practice to copy DTO generated by OpenApi to own DTO","body":"<p>Firstly, it's my first time working with OpenAPI, so any comments are welcome.</p>\n<p>My question is: OpenAPI generate an interface of my API &quot;PriceControllerApi&quot; that returns a <code>ResponseEntity&lt;PriceDto&gt;</code> this is the generated DTO by open API. The method that override in my class controller return a <code>ResponseEntity&lt;PriceDto&gt;</code> but this DTO is my own DTO.</p>\n<p>What is the best practice?</p>\n<ul>\n<li>As my service returns my DTO, make a copy of this DTO to the generated DTO and return it on the return</li>\n<li>make a template for the generated API interface that returns my DTO</li>\n<li>Is there any other option that is more correct?</li>\n</ul>\n<p>Here is the code</p>\n<p>api-docs.json</p>\n<pre><code>    {\n  &quot;components&quot;: {\n    &quot;schemas&quot;: {\n      &quot;PriceDto&quot;: {\n        &quot;type&quot;: &quot;object&quot;,\n        &quot;properties&quot;: {\n          &quot;id&quot;: {\n            &quot;type&quot;: &quot;integer&quot;,\n            &quot;description&quot;: &quot;ID del precio&quot;,\n            &quot;format&quot;: &quot;int32&quot;\n          },\n          &quot;productId&quot;: {\n            &quot;type&quot;: &quot;integer&quot;,\n            &quot;description&quot;: &quot;ID del producto&quot;,\n            &quot;format&quot;: &quot;int64&quot;\n          },\n          &quot;brandId&quot;: {\n            &quot;type&quot;: &quot;integer&quot;,\n            &quot;description&quot;: &quot;ID de la marca&quot;,\n            &quot;format&quot;: &quot;int64&quot;\n          },\n          &quot;priceList&quot;: {\n            &quot;type&quot;: &quot;integer&quot;,\n            &quot;description&quot;: &quot;Orden de ofertas&quot;,\n            &quot;format&quot;: &quot;int32&quot;\n          },\n          &quot;priority&quot;: {\n            &quot;type&quot;: &quot;integer&quot;,\n            &quot;description&quot;: &quot;Prioridad&quot;,\n            &quot;format&quot;: &quot;int32&quot;\n          },\n          &quot;startDate&quot;: {\n            &quot;type&quot;: &quot;string&quot;,\n            &quot;description&quot;: &quot;Fecha inicio de la oferta&quot;,\n            &quot;format&quot;: &quot;date-time&quot;\n          },\n          &quot;endDate&quot;: {\n            &quot;type&quot;: &quot;string&quot;,\n            &quot;description&quot;: &quot;Fecha fin de la oferta&quot;,\n            &quot;format&quot;: &quot;date-time&quot;\n          },\n          &quot;price&quot;: {\n            &quot;description&quot;: &quot;Precio unitario&quot;,\n            &quot;format&quot;: &quot;double&quot;,\n            &quot;type&quot;: &quot;number&quot;\n          },\n          &quot;curr&quot;: {\n            &quot;type&quot;: &quot;string&quot;,\n            &quot;description&quot;: &quot;Tipo de moneda&quot;\n          }\n        },\n        &quot;description&quot;: &quot;Objeto que representa el precio&quot;\n      }\n    }\n  },\n  &quot;info&quot;: {\n    &quot;title&quot;: &quot;OpenAPI definition&quot;,\n    &quot;version&quot;: &quot;v0&quot;\n  },\n  &quot;openapi&quot;: &quot;3.0.1&quot;,\n  &quot;paths&quot;: {\n    &quot;/prices&quot;: {\n      &quot;get&quot;: {\n        &quot;tags&quot;: [\n          &quot;price-controller&quot;\n        ],\n        &quot;summary&quot;: &quot;Obtener precio&quot;,\n        &quot;operationId&quot;: &quot;getPrice&quot;,\n        &quot;parameters&quot;: [\n          {\n            &quot;name&quot;: &quot;applicationDate&quot;,\n            &quot;in&quot;: &quot;query&quot;,\n            &quot;description&quot;: &quot;Fecha y hora de la aplicaciÃ³n&quot;,\n            &quot;required&quot;: true,\n            &quot;schema&quot;: {\n              &quot;type&quot;: &quot;string&quot;,\n              &quot;format&quot;: &quot;date-time&quot;,\n              &quot;example&quot;: &quot;2023-05-31T10:30:00&quot;\n            }\n          },\n          {\n            &quot;name&quot;: &quot;productId&quot;,\n            &quot;in&quot;: &quot;query&quot;,\n            &quot;description&quot;: &quot;Id del producto&quot;,\n            &quot;required&quot;: true,\n            &quot;schema&quot;: {\n              &quot;type&quot;: &quot;integer&quot;,\n              &quot;format&quot;: &quot;int64&quot;\n            }\n          },\n          {\n            &quot;name&quot;: &quot;brandId&quot;,\n            &quot;in&quot;: &quot;query&quot;,\n            &quot;description&quot;: &quot;Id de la marca&quot;,\n            &quot;required&quot;: true,\n            &quot;schema&quot;: {\n              &quot;type&quot;: &quot;integer&quot;,\n              &quot;format&quot;: &quot;int64&quot;\n            }\n          }\n        ],\n        &quot;responses&quot;: {\n          &quot;400&quot;: {\n            &quot;description&quot;: &quot;Solicitud invÃ¡lida&quot;\n          },\n          &quot;200&quot;: {\n            &quot;description&quot;: &quot;OK&quot;,\n            &quot;content&quot;: {\n              &quot;application/json&quot;: {\n                &quot;schema&quot;: {\n                  &quot;$ref&quot;: &quot;#/components/schemas/PriceDto&quot;\n                }\n              }\n            }\n          },\n          &quot;404&quot;: {\n            &quot;description&quot;: &quot;Valor no encontrado&quot;\n          }\n        }\n      }\n    }\n  },\n  &quot;servers&quot;: [\n    {\n      &quot;url&quot;: &quot;http://localhost:8080&quot;,\n      &quot;description&quot;: &quot;Generated server url&quot;}]\n}\n</code></pre>\n<p>plugin of pom.xml</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n                &lt;!-- RELEASE_VERSION --&gt;\n                &lt;version&gt;5.4.0&lt;/version&gt;\n                &lt;!-- /RELEASE_VERSION --&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;inputSpec&gt;${project.basedir}/api-docs/json/api-docs.json&lt;/inputSpec&gt;\n                            &lt;generatorName&gt;spring&lt;/generatorName&gt;\n                            &lt;packageName&gt;${project.groupId}.gen&lt;/packageName&gt;\n                            &lt;apiPackage&gt;${project.groupId}.gen.api.v1&lt;/apiPackage&gt;\n                            &lt;modelPackage&gt;${project.groupId}.gen.dto&lt;/modelPackage&gt;\n                            &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\n                            &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\n                            &lt;library&gt;spring-boot&lt;/library&gt;\n                            &lt;skipValidateSpec&gt;false&lt;/skipValidateSpec&gt;\n                            &lt;configOptions&gt;\n                                &lt;basePackage&gt;com.prueba.test&lt;/basePackage&gt;\n                                &lt;reactive&gt;false&lt;/reactive&gt;\n                                &lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\n                                &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\n                                &lt;sourceFolder&gt;src/main/java&lt;/sourceFolder&gt;\n                                &lt;!--suppress UnresolvedMavenProperty --&gt;\n                                &lt;additionalModelTypeAnnotations&gt;@lombok.Builder @lombok.NoArgsConstructor @lombok.AllArgsConstructor&lt;/additionalModelTypeAnnotations&gt;\n                                &lt;useTags&gt;true&lt;/useTags&gt;\n                            &lt;/configOptions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>my controller with the first option a mencioned</p>\n<pre><code> @Override\n    public ResponseEntity&lt;com.prueba.gen.dto.PriceDto&gt; getPrice(OffsetDateTime applicationDate, Long productId, Long brandId){\n        if (applicationDate == null || productId &lt;= 0 || brandId &lt;= 0) {\n            return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\n        }\n\n        PriceDto priceDto = this.priceService.getByApplicationDateAndProductIdAndBrandId(applicationDate.toLocalDateTime(), productId, brandId);\n        if (priceDto.getId() == 0) {\n            throw new PriceNotFoundException(&quot;Price not found for application date &quot; + applicationDate + &quot;, product &quot; + productId + &quot;, brand &quot; + brandId);\n        }\n       com.prueba.gen.dto.PriceDto generatedPriceDto = DtoMapper.INSTANCE.mapSourceToDestination(priceDto);\n        return new ResponseEntity&lt;&gt;(generatedPriceDto,HttpStatus.OK);\n    }\n</code></pre>\n<p>any contribution or improvement of the code is welcome. Thank you!</p>\n"},{"tags":["java","h2"],"answers":[{"comments":[{"owner":{"account_id":22924971,"reputation":39,"user_id":17060205,"display_name":"sadpatato"},"score":0,"creation_date":1685468713,"post_id":76367331,"comment_id":134663357,"body_markdown":"I guess it would be more wisely to create function for it.","body":"I guess it would be more wisely to create function for it."}],"tags":[],"owner":{"account_id":12498833,"reputation":135427,"user_id":9097906,"display_name":"Littlefoot"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685468398,"creation_date":1685468398,"answer_id":76367331,"question_id":76367295,"body_markdown":"`regexp_replace` - in &lt;a href=&quot;https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/REGEXP_REPLACE.html&quot;&gt;Oracle&lt;/a&gt; - can have up to 6 parameters:\r\n\r\n    REGEXP_REPLACE ( source_char, pattern\r\n                     [, replace_string\r\n                        [, position\r\n                           [, occurrence\r\n                              [, match_param ]\r\n                           ]\r\n                        ]\r\n                     ]\r\n                   )\r\n\r\n---------\r\n\r\nBut, in &lt;a href=&quot;http://www.h2database.com/html/functions.html#regexp_replace&quot;&gt;h2&lt;/a&gt; (you use), it can have up to 4 parameters:\r\n\r\n    REGEXP_REPLACE(inputString, regexString, replacementString, flagsString)\r\n\r\n-----------\r\n\r\nWhat to do? Adjust your code to syntax your database supports.","title":"org.h2.jdbc.JdbcSQLSyntaxErrorException: Invalid parameter count for &quot;REGEXP_REPLACE&quot;, expected count: &quot;3..4&quot;; SQL statement","body":"<p><code>regexp_replace</code> - in <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/REGEXP_REPLACE.html\" rel=\"nofollow noreferrer\">Oracle</a> - can have up to 6 parameters:</p>\n<pre><code>REGEXP_REPLACE ( source_char, pattern\n                 [, replace_string\n                    [, position\n                       [, occurrence\n                          [, match_param ]\n                       ]\n                    ]\n                 ]\n               )\n</code></pre>\n<hr />\n<p>But, in <a href=\"http://www.h2database.com/html/functions.html#regexp_replace\" rel=\"nofollow noreferrer\">h2</a> (you use), it can have up to 4 parameters:</p>\n<pre><code>REGEXP_REPLACE(inputString, regexString, replacementString, flagsString)\n</code></pre>\n<hr />\n<p>What to do? Adjust your code to syntax your database supports.</p>\n"}],"owner":{"account_id":22924971,"reputation":39,"user_id":17060205,"display_name":"sadpatato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1685616702,"creation_date":1685468080,"question_id":76367295,"body_markdown":"I&#39;m just trying to test a query. I use h2 db. And there is a parameter limitation for REGEXP_REPLACE function. How can I create alias for this one? Because currently I have the following error:\r\n\r\n&gt; Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Invalid parameter\r\n&gt; count for &quot;REGEXP_REPLACE&quot;, expected count: &quot;3..4&quot;; SQL statement.\r\n\r\nAs you can see I have 6 parameter. \r\n\r\n```sql\r\nregexp_replace(error,&#39;(^.*)(date=.*)&#39;,&#39;\\1&#39;, 1, 1,&#39;m&#39;)\r\n```\r\n","title":"org.h2.jdbc.JdbcSQLSyntaxErrorException: Invalid parameter count for &quot;REGEXP_REPLACE&quot;, expected count: &quot;3..4&quot;; SQL statement","body":"<p>I'm just trying to test a query. I use h2 db. And there is a parameter limitation for REGEXP_REPLACE function. How can I create alias for this one? Because currently I have the following error:</p>\n<blockquote>\n<p>Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Invalid parameter\ncount for &quot;REGEXP_REPLACE&quot;, expected count: &quot;3..4&quot;; SQL statement.</p>\n</blockquote>\n<p>As you can see I have 6 parameter.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>regexp_replace(error,'(^.*)(date=.*)','\\1', 1, 1,'m')\n</code></pre>\n"},{"tags":["java","spring","docker","hibernate","testing"],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685616234,"creation_date":1685436997,"question_id":76363185,"body_markdown":"I have a Docker-contained REST app. It has a few test classes, including `UserQuestionRestControllerTest` and `UserQuestionCommentControllerTest`. They look something like this\r\n```java\r\n    @Test\r\n    @Sql(executionPhase = BEFORE_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;GetCommentTest/before.sql&quot;) // e.g. attempts to insert into the security join table accounts_permissions\r\n    @Sql(executionPhase = AFTER_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;GetCommentTest/after.sql&quot;)\r\n    public void getCommentTest() throws Exception {\r\n        MockHttpServletResponse response = mockMvc.perform(get(BASE_URI + 1)\r\n                        .header(HttpHeaders.AUTHORIZATION, token))\r\n                .andExpect(status().isOk())\r\n                .andReturn()\r\n                .getResponse();\r\n    // asserts\r\n```\r\nThe former test class, `UserQuestionRestControllerTest`, completes successfully while the latter class&#39;s test methods all fail for the same reason â 401, &quot;not authorized&quot;\r\n```\r\njava.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;401&gt;\r\nExpected :200\r\nActual   :401\r\n```\r\nI examined the verbose console output and noticed this. The first exception that pops up is `ClosedChannelException`\r\n```\r\nCaused by: java.nio.channels.ClosedChannelException: null\r\n    at java.base/sun.nio.ch.WindowsAsynchronousFileChannelImpl.implRead(WindowsAsynchronousFileChannelImpl.java:516)\r\n    at java.base/sun.nio.ch.AsynchronousFileChannelImpl.read(AsynchronousFileChannelImpl.java:229)\r\n    at com.github.dockerjava.transport.NamedPipeSocket$AsynchronousFileByteChannel.read(NamedPipeSocket.java:117)\r\n    at java.base/java.nio.channels.Channels$2.read(Channels.java:238)\r\n```\r\nIt doesn&#39;t tell me much, and at any rate it seems it doesn&#39;t actually cause `UserQuestionCommentControllerTest`&#39;s tests to fail. After all, when I examined the console output of the successfully run `UserQuestionRestControllerTest`, it, too, included that exception\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBack to the original console output. The next thing of note is Hibernate&#39;s attempt to drop a foreign key of a table `accounts_permissions`. It&#39;s a join table and contains two columns: `account_id` and `permission_id`. It serves to provide security information on user roles\r\n```java\r\n    @NotNull\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;accounts_permissions&quot;, // â here it is\r\n            joinColumns = @JoinColumn(name = &quot;account_id&quot;, nullable = false),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;permission_id&quot;, nullable = false),\r\n            uniqueConstraints = @UniqueConstraint(columnNames = {&quot;account_id&quot;, &quot;permission_id&quot;}))\r\n    private Set&lt;Permission&gt; permissions = new HashSet&lt;&gt;();\r\n```\r\n```\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table accounts_permissions drop constraint FKjfqhtvqauv3ign74mp1dybsyr&quot; via JDBC Statement\r\n```\r\nHowever, Hibernate finds out that `accounts_permissions` does not exist and throws an exception (instead of creating the table)\r\n```\r\nCaused by: org.postgresql.util.PSQLException: ERROR: relation &quot;accounts_permissions&quot; does not exist\r\n```\r\nImportantly, both run configurations are identical. The only VM option in both cases is the profile, `-Dspring.profiles.active=test`\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\nNow, I have two YML-configurations. One is called `application-local.yml`. It sits in the `resources` folder which is a sibling to `java`, *the source root*. It *contains* datasource information. It, I believe, is not relevant though I&#39;ll include it just in case I&#39;m wrong (which very well might be)\r\n```yml\r\nserver:\r\n  port: ${SERVER_PORT:8080}\r\n\r\nspring:\r\n  application:\r\n    name: stack-overflow\r\n  datasource:\r\n    url: jdbc:postgresql://${POSTGRES_SERVER:localhost}:${POSTGRES_PORT:5411}/${POSTGRES_DATABASE:stack_overflow_postgres}\r\n    username: ${POSTGRES_USERNAME:postgres}\r\n    password: ${POSTGRES_PASSWORD:postgres123}\r\n  jpa:\r\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\r\n    hibernate.ddl-auto: ${POSTGRES_DDL_AUTO:create}\r\n    show-sql: ${POSTGRES_SHOW_SQL:true}\r\n\r\njwt:\r\n  secret:\r\n    key: abrakadabra\r\n  expiration:\r\n    hours: 10\r\n\r\nspringdoc:\r\n  api-docs:\r\n    path: /docs/v3/api-docs\r\n  swagger-ui:\r\n    path: /docs/swagger-ui/index.html\r\n```\r\nNotice the DDL set to `create`. I also have a separate configuration file, `application-test.yml`. It sits in the resources root which is a sibling to *the test root*. This YML *doesn&#39;t* contain datasource info (but remember the &quot;Question&quot; test class runs with no issues)\r\n```yml\r\nspring:\r\n  jpa:\r\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\r\n    hibernate.ddl-auto: ${POSTGRES_DDL_AUTO:create}\r\n    show-sql: ${POSTGRES_SHOW_SQL:true}\r\n\r\njwt:\r\n  secret:\r\n    key: abrakadabra\r\n  expiration:\r\n    hours: 10\r\n```\r\nI am new to Docker so my bet is I made some rookie mistake in that department\r\n\r\nIn case I didn&#39;t mention some important details, here&#39;s [my repo][4]. I know that questions on SO are supposed to be self-contained, but in my opinion, information accessible remotely is better than information not accessible at all. If you suggest moving some parts of the code from the repo here, I&#39;ll gladly consider that suggestion\r\n\r\n**UPD:** Unfortunately, I realized after the publication that I didn&#39;t push the commit to the repository. I am sorry for that. I corrected that mistake, and now you can actually see the code in question\r\n\r\n**UPD2:** I am told it&#39;s because the tables are not yet created by the time an instance of my test class is created. Can you suggest alternative solutions to reduce code duplication so that I don&#39;t request the token at the start of each method?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gkiBy.png\r\n  [2]: https://i.stack.imgur.com/vLGmp.png\r\n  [3]: https://i.stack.imgur.com/DbTFT.png\r\n  [4]: https://github.com/NadChel/stack-overflow-1","title":"In a Docker environment, DDL creates tables for one test class â but fails to do so for another. Why?","body":"<p>I have a Docker-contained REST app. It has a few test classes, including <code>UserQuestionRestControllerTest</code> and <code>UserQuestionCommentControllerTest</code>. They look something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    @Sql(executionPhase = BEFORE_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;GetCommentTest/before.sql&quot;) // e.g. attempts to insert into the security join table accounts_permissions\n    @Sql(executionPhase = AFTER_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;GetCommentTest/after.sql&quot;)\n    public void getCommentTest() throws Exception {\n        MockHttpServletResponse response = mockMvc.perform(get(BASE_URI + 1)\n                        .header(HttpHeaders.AUTHORIZATION, token))\n                .andExpect(status().isOk())\n                .andReturn()\n                .getResponse();\n    // asserts\n</code></pre>\n<p>The former test class, <code>UserQuestionRestControllerTest</code>, completes successfully while the latter class's test methods all fail for the same reason â 401, &quot;not authorized&quot;</p>\n<pre><code>java.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;401&gt;\nExpected :200\nActual   :401\n</code></pre>\n<p>I examined the verbose console output and noticed this. The first exception that pops up is <code>ClosedChannelException</code></p>\n<pre><code>Caused by: java.nio.channels.ClosedChannelException: null\n    at java.base/sun.nio.ch.WindowsAsynchronousFileChannelImpl.implRead(WindowsAsynchronousFileChannelImpl.java:516)\n    at java.base/sun.nio.ch.AsynchronousFileChannelImpl.read(AsynchronousFileChannelImpl.java:229)\n    at com.github.dockerjava.transport.NamedPipeSocket$AsynchronousFileByteChannel.read(NamedPipeSocket.java:117)\n    at java.base/java.nio.channels.Channels$2.read(Channels.java:238)\n</code></pre>\n<p>It doesn't tell me much, and at any rate it seems it doesn't actually cause <code>UserQuestionCommentControllerTest</code>'s tests to fail. After all, when I examined the console output of the successfully run <code>UserQuestionRestControllerTest</code>, it, too, included that exception</p>\n<p><a href=\"https://i.stack.imgur.com/gkiBy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gkiBy.png\" alt=\"enter image description here\" /></a></p>\n<p>Back to the original console output. The next thing of note is Hibernate's attempt to drop a foreign key of a table <code>accounts_permissions</code>. It's a join table and contains two columns: <code>account_id</code> and <code>permission_id</code>. It serves to provide security information on user roles</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @NotNull\n    @ManyToMany\n    @JoinTable(name = &quot;accounts_permissions&quot;, // â here it is\n            joinColumns = @JoinColumn(name = &quot;account_id&quot;, nullable = false),\n            inverseJoinColumns = @JoinColumn(name = &quot;permission_id&quot;, nullable = false),\n            uniqueConstraints = @UniqueConstraint(columnNames = {&quot;account_id&quot;, &quot;permission_id&quot;}))\n    private Set&lt;Permission&gt; permissions = new HashSet&lt;&gt;();\n</code></pre>\n<pre><code>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table accounts_permissions drop constraint FKjfqhtvqauv3ign74mp1dybsyr&quot; via JDBC Statement\n</code></pre>\n<p>However, Hibernate finds out that <code>accounts_permissions</code> does not exist and throws an exception (instead of creating the table)</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: ERROR: relation &quot;accounts_permissions&quot; does not exist\n</code></pre>\n<p>Importantly, both run configurations are identical. The only VM option in both cases is the profile, <code>-Dspring.profiles.active=test</code></p>\n<p><a href=\"https://i.stack.imgur.com/vLGmp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vLGmp.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/DbTFT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DbTFT.png\" alt=\"enter image description here\" /></a></p>\n<p>Now, I have two YML-configurations. One is called <code>application-local.yml</code>. It sits in the <code>resources</code> folder which is a sibling to <code>java</code>, <em>the source root</em>. It <em>contains</em> datasource information. It, I believe, is not relevant though I'll include it just in case I'm wrong (which very well might be)</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>server:\n  port: ${SERVER_PORT:8080}\n\nspring:\n  application:\n    name: stack-overflow\n  datasource:\n    url: jdbc:postgresql://${POSTGRES_SERVER:localhost}:${POSTGRES_PORT:5411}/${POSTGRES_DATABASE:stack_overflow_postgres}\n    username: ${POSTGRES_USERNAME:postgres}\n    password: ${POSTGRES_PASSWORD:postgres123}\n  jpa:\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\n    hibernate.ddl-auto: ${POSTGRES_DDL_AUTO:create}\n    show-sql: ${POSTGRES_SHOW_SQL:true}\n\njwt:\n  secret:\n    key: abrakadabra\n  expiration:\n    hours: 10\n\nspringdoc:\n  api-docs:\n    path: /docs/v3/api-docs\n  swagger-ui:\n    path: /docs/swagger-ui/index.html\n</code></pre>\n<p>Notice the DDL set to <code>create</code>. I also have a separate configuration file, <code>application-test.yml</code>. It sits in the resources root which is a sibling to <em>the test root</em>. This YML <em>doesn't</em> contain datasource info (but remember the &quot;Question&quot; test class runs with no issues)</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  jpa:\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\n    hibernate.ddl-auto: ${POSTGRES_DDL_AUTO:create}\n    show-sql: ${POSTGRES_SHOW_SQL:true}\n\njwt:\n  secret:\n    key: abrakadabra\n  expiration:\n    hours: 10\n</code></pre>\n<p>I am new to Docker so my bet is I made some rookie mistake in that department</p>\n<p>In case I didn't mention some important details, here's <a href=\"https://github.com/NadChel/stack-overflow-1\" rel=\"nofollow noreferrer\">my repo</a>. I know that questions on SO are supposed to be self-contained, but in my opinion, information accessible remotely is better than information not accessible at all. If you suggest moving some parts of the code from the repo here, I'll gladly consider that suggestion</p>\n<p><strong>UPD:</strong> Unfortunately, I realized after the publication that I didn't push the commit to the repository. I am sorry for that. I corrected that mistake, and now you can actually see the code in question</p>\n<p><strong>UPD2:</strong> I am told it's because the tables are not yet created by the time an instance of my test class is created. Can you suggest alternative solutions to reduce code duplication so that I don't request the token at the start of each method?</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","repository"],"answers":[{"comments":[{"owner":{"account_id":23104207,"reputation":161,"user_id":17506985,"display_name":"Cucumberbatch"},"score":0,"creation_date":1685609547,"post_id":76380135,"comment_id":134684982,"body_markdown":"I may have expressed my needs incorrectly. To make it clear, I simplified my objects but I may have over simplified them. I, indeed, have a many to many relation between these objects, hence why I have a join table. I&#39;m sorry for the confusion","body":"I may have expressed my needs incorrectly. To make it clear, I simplified my objects but I may have over simplified them. I, indeed, have a many to many relation between these objects, hence why I have a join table. I&#39;m sorry for the confusion"},{"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"score":0,"creation_date":1685615557,"post_id":76380135,"comment_id":134686273,"body_markdown":"You should edit your question then. ManyToMany can not be described with a &quot;@JoinColumn&quot; only, it needs a &quot;@JoinTable&quot;, see : https://www.baeldung.com/hibernate-many-to-many","body":"You should edit your question then. ManyToMany can not be described with a &quot;@JoinColumn&quot; only, it needs a &quot;@JoinTable&quot;, see : <a href=\"https://www.baeldung.com/hibernate-many-to-many\" rel=\"nofollow noreferrer\">baeldung.com/hibernate-many-to-many</a>"}],"tags":[],"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685616209,"creation_date":1685609192,"answer_id":76380135,"question_id":76380070,"body_markdown":"Well, to begin with, there should not be a &quot;join table&quot; for this many-to-one relationship, a record from table A should simply reference an ID from table B.\r\n\r\nA &quot;join table&quot; is only necessary in the case of a many-to-many relationship, if each object could be linked to many of the other object.\r\n\r\nYour SQL query would then be : \r\n\r\n``` sql\r\nSELECT *\r\nFROM objectA\r\nWHERE objectA.objectB_id is not null\r\n```\r\n\r\nThen writing it in JPQL is trivial\r\n\r\nUPDATE :\r\n\r\nSince the true relationship seems to be a &quot;many-to-many&quot; and not a &quot;many-to-one&quot; (one B can have multiple As but one A can also be linked to multiple B), here is how the SQL query should look :\r\n\r\n``` sql\r\nSELECT *\r\nFROM objectA A\r\nLEFT JOIN objectA_objectB AB ON AB.objectA_ID = A.ID\r\nWHERE AB.objectB_ID is not null\r\n```\r\n\r\nAnd &quot;LEFT JOIN&quot; do exist in JPQL : https://www.baeldung.com/jpa-join-types","title":"Cannot formulate correctly my repository method for fetching a list of objects that are existing in another object","body":"<p>Well, to begin with, there should not be a &quot;join table&quot; for this many-to-one relationship, a record from table A should simply reference an ID from table B.</p>\n<p>A &quot;join table&quot; is only necessary in the case of a many-to-many relationship, if each object could be linked to many of the other object.</p>\n<p>Your SQL query would then be :</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT *\nFROM objectA\nWHERE objectA.objectB_id is not null\n</code></pre>\n<p>Then writing it in JPQL is trivial</p>\n<p>UPDATE :</p>\n<p>Since the true relationship seems to be a &quot;many-to-many&quot; and not a &quot;many-to-one&quot; (one B can have multiple As but one A can also be linked to multiple B), here is how the SQL query should look :</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT *\nFROM objectA A\nLEFT JOIN objectA_objectB AB ON AB.objectA_ID = A.ID\nWHERE AB.objectB_ID is not null\n</code></pre>\n<p>And &quot;LEFT JOIN&quot; do exist in JPQL : <a href=\"https://www.baeldung.com/jpa-join-types\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jpa-join-types</a></p>\n"}],"owner":{"account_id":23104207,"reputation":161,"user_id":17506985,"display_name":"Cucumberbatch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685616209,"creation_date":1685608695,"question_id":76380070,"body_markdown":"This is the first time I&#39;ve been working with Springboot and JPA and I am struggling to write a repository method.\r\n\r\nI have two objects: \r\n\r\n```\r\npublic class ObjectA{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;objectA_id&quot;)\r\n    private Integer id;\r\n\r\n    @Column(length=40, unique=true, nullable = false)\r\n    private String label;\r\n}\r\n```\r\nand \r\n```\r\npublic class ObjectB{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name=&quot;objectB_id&quot;)\r\n    private Integer id;\r\n\r\n    @Column(length = 100, nullable = false, unique = true)\r\n    private String label;\r\n\r\n    @ManyToMany\r\n    @JoinColumn(name=&quot;refObjectA_id&quot;, nullable = false)\r\n    private List&lt;ObjectA&gt; ObjectAs;\r\n}\r\n```\r\n\r\nNow, I would like to have a repository method to fetch the objects A if only at least one object B is &quot;linked&quot; to it. Since I don&#39;t know how to do so, I wrote a MySQL query that I tested and worked perfectly but I was wondering if there was a way to do it without specifying the query.\r\n\r\nHere&#39;s the query: \r\n\r\n```\r\nSELECT *\r\nFROM objectA\r\nWHERE objectA_id IN \r\n(SELECT objectAs_id FROM objectB_objectAs)\r\n```\r\n\r\nobjectB_objectAs is the join table between the two objects.\r\n\r\nIf anyone has an idea on how to do such a thing, I would be glad to hear about that :) \r\n\r\nThank you for reading !","title":"Cannot formulate correctly my repository method for fetching a list of objects that are existing in another object","body":"<p>This is the first time I've been working with Springboot and JPA and I am struggling to write a repository method.</p>\n<p>I have two objects:</p>\n<pre><code>public class ObjectA{\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;objectA_id&quot;)\n    private Integer id;\n\n    @Column(length=40, unique=true, nullable = false)\n    private String label;\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class ObjectB{\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name=&quot;objectB_id&quot;)\n    private Integer id;\n\n    @Column(length = 100, nullable = false, unique = true)\n    private String label;\n\n    @ManyToMany\n    @JoinColumn(name=&quot;refObjectA_id&quot;, nullable = false)\n    private List&lt;ObjectA&gt; ObjectAs;\n}\n</code></pre>\n<p>Now, I would like to have a repository method to fetch the objects A if only at least one object B is &quot;linked&quot; to it. Since I don't know how to do so, I wrote a MySQL query that I tested and worked perfectly but I was wondering if there was a way to do it without specifying the query.</p>\n<p>Here's the query:</p>\n<pre><code>SELECT *\nFROM objectA\nWHERE objectA_id IN \n(SELECT objectAs_id FROM objectB_objectAs)\n</code></pre>\n<p>objectB_objectAs is the join table between the two objects.</p>\n<p>If anyone has an idea on how to do such a thing, I would be glad to hear about that :)</p>\n<p>Thank you for reading !</p>\n"},{"tags":["java","sql","spring-boot","jdbc"],"comments":[{"owner":{"account_id":6331664,"reputation":526,"user_id":4916419,"accept_rate":71,"display_name":"AyoubMK"},"score":0,"creation_date":1685613578,"post_id":76380589,"comment_id":134685865,"body_markdown":"you can enrich your question with snippet of the code ?","body":"you can enrich your question with snippet of the code ?"},{"owner":{"account_id":16656303,"reputation":161,"user_id":14353673,"display_name":"Valdy B"},"score":0,"creation_date":1685614385,"post_id":76380589,"comment_id":134686027,"body_markdown":"Yes, I will. Added","body":"Yes, I will. Added"},{"owner":{"account_id":6331664,"reputation":526,"user_id":4916419,"accept_rate":71,"display_name":"AyoubMK"},"score":0,"creation_date":1685623126,"post_id":76380589,"comment_id":134687964,"body_markdown":"Can  we see what you declared as primary key in your DB ? The ORA-00001 message is triggered when a unique constraint has been violated. Maybe you pass a duplicate values in your batch or retring to save what are you already saved in the update.","body":"Can  we see what you declared as primary key in your DB ? The ORA-00001 message is triggered when a unique constraint has been violated. Maybe you pass a duplicate values in your batch or retring to save what are you already saved in the update."},{"owner":{"account_id":16656303,"reputation":161,"user_id":14353673,"display_name":"Valdy B"},"score":0,"creation_date":1685624222,"post_id":76380589,"comment_id":134688245,"body_markdown":"Looks like my batchUpdate some how working outside transaction scope and can&#39;t find this ID","body":"Looks like my batchUpdate some how working outside transaction scope and can&#39;t find this ID"}],"owner":{"account_id":16656303,"reputation":161,"user_id":14353673,"display_name":"Valdy B"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685616183,"creation_date":1685612561,"question_id":76380589,"body_markdown":"I have an interesting problem. Using spring boot and jdbctemplate. I have two SQLs. The first SQL creates the record and the primaryKey is retrieved. A second SQL attempt to create another table is written using the already created primaryKey and an error is received. It is interesting that second SQL with `batchUpdate` an error is received, but with simple `update` no error is received. Both sqls are running one after the other and both are running in the same transaction. Why is this happening and what is the best way to fix it\r\n\r\n\r\n    public int[] createMultilpleRow(String carId, List&lt;String&gt; houseIds) {\r\n        List&lt;MapSqlParameterSource&gt; sqlParameterSources = new ArrayList&lt;&gt;();\r\n\r\n        for (String houseId : houseIds) {\r\n            MapSqlParameterSource sqlParameterSource = new MapSqlParameterSource();\r\n            sqlParameterSource.addValue(&quot;CAR_ID&quot;, carId);\r\n            sqlParameterSource.addValue(&quot;HOUSE_ID&quot;, houseId);\r\n            sqlParameterSources.add(sqlParameterSource);\r\n        }\r\n        SqlParameterSource[] batch = new SqlParameterSource[sqlParameterSources.size()];\r\n        sqlParameterSources.toArray(batch);\r\n\r\n        return jdbcTemplate.batchUpdate(&quot;&quot;&quot;\r\n                INSERT INTO TABLE (carId, houseId)\r\n                VALUES (:carId, :houseId)\r\n                &quot;&quot;&quot;, batch);\r\n    }\r\n\r\n     public int createResource(String carId) {\r\n        Map&lt;String, Object&gt; arguments = new HashMap&lt;&gt;();\r\n        arguments.put(&quot;CAR_ID&quot;, carId);\r\n       \r\n        return jdbcTemplate.update(&quot;&quot;&quot;\r\n                INSERT INTO CarTable (carId)\r\n                VALUES (:carId)\r\n                &quot;&quot;&quot;, arguments);\r\n    }","title":"ORA-00001: unique constraint violated with batchUpdate but with update all good","body":"<p>I have an interesting problem. Using spring boot and jdbctemplate. I have two SQLs. The first SQL creates the record and the primaryKey is retrieved. A second SQL attempt to create another table is written using the already created primaryKey and an error is received. It is interesting that second SQL with <code>batchUpdate</code> an error is received, but with simple <code>update</code> no error is received. Both sqls are running one after the other and both are running in the same transaction. Why is this happening and what is the best way to fix it</p>\n<pre><code>public int[] createMultilpleRow(String carId, List&lt;String&gt; houseIds) {\n    List&lt;MapSqlParameterSource&gt; sqlParameterSources = new ArrayList&lt;&gt;();\n\n    for (String houseId : houseIds) {\n        MapSqlParameterSource sqlParameterSource = new MapSqlParameterSource();\n        sqlParameterSource.addValue(&quot;CAR_ID&quot;, carId);\n        sqlParameterSource.addValue(&quot;HOUSE_ID&quot;, houseId);\n        sqlParameterSources.add(sqlParameterSource);\n    }\n    SqlParameterSource[] batch = new SqlParameterSource[sqlParameterSources.size()];\n    sqlParameterSources.toArray(batch);\n\n    return jdbcTemplate.batchUpdate(&quot;&quot;&quot;\n            INSERT INTO TABLE (carId, houseId)\n            VALUES (:carId, :houseId)\n            &quot;&quot;&quot;, batch);\n}\n\n public int createResource(String carId) {\n    Map&lt;String, Object&gt; arguments = new HashMap&lt;&gt;();\n    arguments.put(&quot;CAR_ID&quot;, carId);\n   \n    return jdbcTemplate.update(&quot;&quot;&quot;\n            INSERT INTO CarTable (carId)\n            VALUES (:carId)\n            &quot;&quot;&quot;, arguments);\n}\n</code></pre>\n"},{"tags":["java","android","react-native","build.gradle"],"comments":[{"owner":{"account_id":25351485,"reputation":1,"user_id":19168274,"display_name":"Subham Sahoo"},"score":0,"creation_date":1685023042,"post_id":76329980,"comment_id":134605583,"body_markdown":"This is where the scanned details is present = https://scans.gradle.com/s/nvmfcc45awwje/failure#1","body":"This is where the scanned details is present = <a href=\"https://scans.gradle.com/s/nvmfcc45awwje/failure#1\" rel=\"nofollow noreferrer\">scans.gradle.com/s/nvmfcc45awwje/failure#1</a>"}],"owner":{"account_id":25351485,"reputation":1,"user_id":19168274,"display_name":"Subham Sahoo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685615776,"creation_date":1685000776,"question_id":76329980,"body_markdown":"```none\r\n$ npx react-native run-android\r\ninfo Starting JS server...\r\ninfo Installing the app...\r\n5 actionable tasks: 5 up-to-date\r\n                                                                                                                                  \r\nFAILURE: Build completed with 2 failures.                                                                                         \r\n\r\n1: Task failed with an exception.\r\n-----------\r\n* Where:\r\nBuild file &#39;C:\\Users\\prami\\OneDrive\\Desktop\\Gps_Tracker\\node_modules\\react-native-safe-area-context\\android\\build.gradle&#39; line: 26\r\n\r\n* What went wrong:\r\nA problem occurred evaluating project &#39;:react-native-safe-area-context&#39;.\r\n&gt; Could not initialize class org.jetbrains.kotlin.gradle.plugin.KotlinGradleBuildServices\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n==============================================================================\r\n\r\n2: Task failed with an exception.\r\n-----------\r\n* What went wrong:\r\nA problem occurred configuring project &#39;:react-native-safe-area-context&#39;.\r\n&gt; compileSdkVersion is not specified. Please add it to build.gradle\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n==============================================================================\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\n```\r\nI am facing the issue from last three days still not able to resolve can any one help me in resolving the issue?\r\n\r\nI checked the compileSdkVersion in build.gradle file, everything is fine, but I&#39;m still getting the error.","title":"What is causing &#39;compileSdkVersion is not specified&#39; error in React Native app build.gradle file?","body":"<pre class=\"lang-none prettyprint-override\"><code>$ npx react-native run-android\ninfo Starting JS server...\ninfo Installing the app...\n5 actionable tasks: 5 up-to-date\n                                                                                                                                  \nFAILURE: Build completed with 2 failures.                                                                                         \n\n1: Task failed with an exception.\n-----------\n* Where:\nBuild file 'C:\\Users\\prami\\OneDrive\\Desktop\\Gps_Tracker\\node_modules\\react-native-safe-area-context\\android\\build.gradle' line: 26\n\n* What went wrong:\nA problem occurred evaluating project ':react-native-safe-area-context'.\n&gt; Could not initialize class org.jetbrains.kotlin.gradle.plugin.KotlinGradleBuildServices\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n==============================================================================\n\n2: Task failed with an exception.\n-----------\n* What went wrong:\nA problem occurred configuring project ':react-native-safe-area-context'.\n&gt; compileSdkVersion is not specified. Please add it to build.gradle\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n==============================================================================\n\n* Get more help at https://help.gradle.org\n\n</code></pre>\n<p>I am facing the issue from last three days still not able to resolve can any one help me in resolving the issue?</p>\n<p>I checked the compileSdkVersion in build.gradle file, everything is fine, but I'm still getting the error.</p>\n"},{"tags":["java","image","image-processing","bufferedimage"],"answers":[{"comments":[{"owner":{"account_id":28615449,"reputation":21,"user_id":21909563,"display_name":"pure21_h"},"score":0,"creation_date":1685547649,"post_id":76375200,"comment_id":134676433,"body_markdown":"thanks, but when I call `((DataBufferInt) img.getRaster().getDataBuffer()).getData()` I will get ClassCastException `DataBufferByte cannot be cast to class java.awt.image.DataBufferInt`, so what can I do?","body":"thanks, but when I call <code>((DataBufferInt) img.getRaster().getDataBuffer()).getData()</code> I will get ClassCastException <code>DataBufferByte cannot be cast to class java.awt.image.DataBufferInt</code>, so what can I do?"},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1685548211,"post_id":76375200,"comment_id":134676577,"body_markdown":"Depends on *why* you want to access the image&#39;s `DataBuffer` and why you want to cast to `DataBufferInt`. What do you want do with your image?","body":"Depends on <i>why</i> you want to access the image&#39;s <code>DataBuffer</code> and why you want to cast to <code>DataBufferInt</code>. What do you want do with your image?"},{"owner":{"account_id":28615449,"reputation":21,"user_id":21909563,"display_name":"pure21_h"},"score":0,"creation_date":1685549493,"post_id":76375200,"comment_id":134676867,"body_markdown":"it&#39;s all right, i already found solution, thank you\n\n\t\t\t&#39;Graphics g = image.getGraphics();\n\t\t\tg.drawImage(img, 0, 0, null);&#39;","body":"it&#39;s all right, i already found solution, thank you  \t\t\t&#39;Graphics g = image.getGraphics(); \t\t\tg.drawImage(img, 0, 0, null);&#39;"}],"tags":[],"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685547469,"creation_date":1685547469,"answer_id":76375200,"question_id":76375169,"body_markdown":"Essentially your code is\r\n```\r\nimage = new BufferedImage(img.getWidth(), img.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\nfinal int[] pixels = ((DataBufferInt) image.getRaster().getDataBuffer()).getData();\r\n```\r\nYou are never drawing anything into `image`. (The image you read from the filesystem is stored in `img` not `image`.)","title":"Why ((DataBufferInt) image.getRaster().getDataBuffer()).getData() return the array which contains only 0&#39;s?","body":"<p>Essentially your code is</p>\n<pre><code>image = new BufferedImage(img.getWidth(), img.getHeight(), BufferedImage.TYPE_INT_ARGB);\nfinal int[] pixels = ((DataBufferInt) image.getRaster().getDataBuffer()).getData();\n</code></pre>\n<p>You are never drawing anything into <code>image</code>. (The image you read from the filesystem is stored in <code>img</code> not <code>image</code>.)</p>\n"}],"owner":{"account_id":28615449,"reputation":21,"user_id":21909563,"display_name":"pure21_h"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1685615734,"answer_count":1,"score":-2,"last_activity_date":1685615709,"creation_date":1685547306,"question_id":76375169,"body_markdown":"I have the next code:\r\n\r\n```\r\nBufferedImage image = null;\r\ntry {\r\n\tBufferedImage img = ImageIO.read(new File(&quot;src/img.jpg&quot;));\r\n\timage = new BufferedImage(img.getWidth(), img.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n} catch (IOException e) {\r\n\tSystem.out.println(e);\r\n}\r\n\r\n// get array of image\r\nfinal int[] pixels = ((DataBufferInt) image.getRaster().getDataBuffer()).getData();\r\n\r\nSystem.out.println(Arrays.toString(pixels));\r\n```\r\n\r\n\r\nAnd I get next output:\r\n\r\n```\r\n[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ... ]\r\n```\r\n\r\nWhat am I doing wrong? \r\n\r\nP.S. And yes, everything is OK with my file. Because, when I run `sout(image)` get something like that `BufferedImage@6f7fd0e6: type = 2 DirectColorModel: rmask=ff0000 gmask=ff00 bmask=ff amask=ff000000 IntegerInterleavedRaster: width = 1280 height = 720 #Bands = 4 xOff = 0 yOff = 0 dataOffset[0] 0`","title":"Why ((DataBufferInt) image.getRaster().getDataBuffer()).getData() return the array which contains only 0&#39;s?","body":"<p>I have the next code:</p>\n<pre><code>BufferedImage image = null;\ntry {\n    BufferedImage img = ImageIO.read(new File(&quot;src/img.jpg&quot;));\n    image = new BufferedImage(img.getWidth(), img.getHeight(), BufferedImage.TYPE_INT_ARGB);\n} catch (IOException e) {\n    System.out.println(e);\n}\n\n// get array of image\nfinal int[] pixels = ((DataBufferInt) image.getRaster().getDataBuffer()).getData();\n\nSystem.out.println(Arrays.toString(pixels));\n</code></pre>\n<p>And I get next output:</p>\n<pre><code>[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ... ]\n</code></pre>\n<p>What am I doing wrong?</p>\n<p>P.S. And yes, everything is OK with my file. Because, when I run <code>sout(image)</code> get something like that <code>BufferedImage@6f7fd0e6: type = 2 DirectColorModel: rmask=ff0000 gmask=ff00 bmask=ff amask=ff000000 IntegerInterleavedRaster: width = 1280 height = 720 #Bands = 4 xOff = 0 yOff = 0 dataOffset[0] 0</code></p>\n"},{"tags":["java","sha"],"answers":[{"comments":[{"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"score":0,"creation_date":1685556044,"post_id":76376116,"comment_id":134678207,"body_markdown":"we cannot use a third-party API, but can only use an offline database. Thank you for the detailed answer.","body":"we cannot use a third-party API, but can only use an offline database. Thank you for the detailed answer."},{"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"score":0,"creation_date":1685556813,"post_id":76376116,"comment_id":134678353,"body_markdown":"however, when I use Message Digest and get a hash (taking into account UTF-8) as an array of bytes, what format should I convert it to in order to get a string? Maybe it&#39;s a 16-bit format? How did the author do it ?","body":"however, when I use Message Digest and get a hash (taking into account UTF-8) as an array of bytes, what format should I convert it to in order to get a string? Maybe it&#39;s a 16-bit format? How did the author do it ?"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1685560700,"post_id":76376116,"comment_id":134679090,"body_markdown":"Might check out the [have-i-been-bloomed](https://github.com/adewes/have-i-been-bloomed) project. I&#39;m sure there are other, similar services that handle this just as well.","body":"Might check out the <a href=\"https://github.com/adewes/have-i-been-bloomed\" rel=\"nofollow noreferrer\">have-i-been-bloomed</a> project. I&#39;m sure there are other, similar services that handle this just as well."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1685585995,"post_id":76376116,"comment_id":134681913,"body_markdown":"@skyho convert byte array to nibbles. A single byte with `String.format(&quot;%02X&quot;, byteVal)` - and just concatenate the hash byte arra together with that.","body":"@skyho convert byte array to nibbles. A single byte with <code>String.format(&quot;%02X&quot;, byteVal)</code> - and just concatenate the hash byte arra together with that."},{"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"score":0,"creation_date":1685611761,"post_id":76376116,"comment_id":134685502,"body_markdown":"&quot;....If you actually write this yourself it is smart to build up an index - say, 100k hashes&quot; . Honestly, I was trying to understand your advice. how to speed up everything (it&#39;s clear about indexes, I already created an index based on a b-tree on a column with a hash pwd), but could you give an example of your idea. In addition, I still did not understand what kind of","body":"&quot;....If you actually write this yourself it is smart to build up an index - say, 100k hashes&quot; . Honestly, I was trying to understand your advice. how to speed up everything (it&#39;s clear about indexes, I already created an index based on a b-tree on a column with a hash pwd), but could you give an example of your idea. In addition, I still did not understand what kind of"},{"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"score":0,"creation_date":1685611872,"post_id":76376116,"comment_id":134685528,"body_markdown":"MessageDigest digest = MessageDigest.getInstance(algorithm);\n            byte[] hashedBytes = digest.digest(message.getBytes(&quot;UTF-8&quot;));\nand\n\nStringBuilder stringBuffer = new StringBuilder();\n        for (byte arrayByte : arrayBytes) {\n            stringBuffer.append(String.format(&quot;%02X&quot;, arrayByte));\n        }\n        return stringBuffer.toString();\n\n - Is that what you meant? Then I can safely compare the converted password that the client entered with the hashes in the database?","body":"MessageDigest digest = MessageDigest.getInstance(algorithm);             byte[] hashedBytes = digest.digest(message.getBytes(&quot;UTF-8&quot;)); and  StringBuilder stringBuffer = new StringBuilder();         for (byte arrayByte : arrayBytes) {             stringBuffer.append(String.format(&quot;%02X&quot;, arrayByte));         }         return stringBuffer.toString();   - Is that what you meant? Then I can safely compare the converted password that the client entered with the hashes in the database?"},{"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"score":0,"creation_date":1685615549,"post_id":76376116,"comment_id":134686271,"body_markdown":"&quot;Case insensitive&quot; and &#39;hash it&#39; are not compatible. For a very quick test, check if SHA1(iloveyou) and SHA1(ILOVEYOU) are in the database ... I checked that. Depending on the case, the hash is different.","body":"&quot;Case insensitive&quot; and &#39;hash it&#39; are not compatible. For a very quick test, check if SHA1(iloveyou) and SHA1(ILOVEYOU) are in the database ... I checked that. Depending on the case, the hash is different."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1685618921,"post_id":76376116,"comment_id":134686941,"body_markdown":"@skyho yes, that&#39;s how you turn a passsword into a hash. Yes, the hash is different - the question is, are _both_ hashes in the HIBP database? If the answer is &#39;yes&#39;, then you _know_ that HIBP&#39;s passwords are stored case sensitive. (And I think that&#39;s the case: You said in your question HIBP&#39;s password db is case insensitive; I don&#39;t think it is, however, and that would be a fine test, given that &#39;iloveyou&#39; is an incredibly common password).","body":"@skyho yes, that&#39;s how you turn a passsword into a hash. Yes, the hash is different - the question is, are <i>both</i> hashes in the HIBP database? If the answer is &#39;yes&#39;, then you <i>know</i> that HIBP&#39;s passwords are stored case sensitive. (And I think that&#39;s the case: You said in your question HIBP&#39;s password db is case insensitive; I don&#39;t think it is, however, and that would be a fine test, given that &#39;iloveyou&#39; is an incredibly common password)."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1685618996,"post_id":76376116,"comment_id":134686955,"body_markdown":"@skyho if you have these hashes in a DB right now with an index, you&#39;ve done hte job - the breakdown on how to quickly look things up in a sorted file using a 100k lookup table is for when you want to, more or less, &#39;write a db for this purpose from scratch&#39;.","body":"@skyho if you have these hashes in a DB right now with an index, you&#39;ve done hte job - the breakdown on how to quickly look things up in a sorted file using a 100k lookup table is for when you want to, more or less, &#39;write a db for this purpose from scratch&#39;."},{"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"score":0,"creation_date":1685623650,"post_id":76376116,"comment_id":134688103,"body_markdown":"&quot;the question is, are both hashes in the HIBP database? ... &quot; - This is indeed the case, passwords in this database are case-sensitive. I checked.","body":"&quot;the question is, are both hashes in the HIBP database? ... &quot; - This is indeed the case, passwords in this database are case-sensitive. I checked."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":10,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1685555783,"creation_date":1685555365,"answer_id":76376116,"question_id":76375868,"body_markdown":"As per the [blog post that explains all this](https://www.troyhunt.com/ive-just-launched-pwned-passwords-version-2/), the `:5` is telling you that this password showed up with separate account information 5 separate times. That one with 873 suggests it&#39;s a somewhat commonly used password and in that sense &#39;worse&#39;.\r\n\r\nI don&#39;t think the passwords are case insensitive. The API that HIBP provides has case insensitive hash searches, i.e. if you search for `000000005ad76BD555C1D6D771DE417A4B87E4B4`, it finds a hit just as well as `000000005AD76BD555C1D6D771DE417A4B87E4B4`. &quot;Case insensitive&quot; and &#39;hash it&#39; are not compatible. For a very quick test, check if SHA1(iloveyou) and SHA1(ILOVEYOU) are in the database. if both are, you have your confirmation: Don&#39;t mess with cases. If only one is, uppercase (or lowercase) before searching. \r\n\r\nVerifying a password&#39;s suitability is done as follows:\r\n\r\nTake the user&#39;s password. Don&#39;t mess with its case. SHA1 it. Check if that SHA1 is in this file (the part _before_ the colon). If yes, tell the user to go pick something else and [link em to the usual](https://xkcd.com/936/). Especially if the number following the colon is high, that&#39;s worse, but appearing _at all_ in this list is grounds to deny that password. That `:1234` stuff is mostly for other kinds of research.\r\n\r\n&gt; However, if I get a cache, then I will have to perform a hash comparison search across the entire database.\r\n\r\nYes; how else did you think this was going to work? Instead of the 6GB or whatever it is file, you can use their API, even cross-site (each IP is rate limited to one request per 1.5 seconds). Yes, your change pass/create new account form can _directly_ ping HIBP with absolutely no involvement from your server, if you want. The HIBP site&#39;s API docs explain all this and how to do that. Then _they_&lt;sup&gt;1&lt;/sup&gt; will do a search.\r\n\r\nFor what its worth, searching all that isn&#39;t too difficult assuming you do it correctly, that is, indexed. For example, a binary search (I&#39;m pretty sure that file is &#39;sorted&#39; on SHA1, so look up hashes the way you look up a phone number in a phone book based on somebody&#39;s name: Don&#39;t just open the book and start reading from Mr. Aabarth, go to the exact middle, check if the name you find there is &#39;below&#39; or &#39;above&#39; what you are looking for. If &#39;below&#39;, then take the bottom half of the phonebook, tear it off, toss it in the garbage. You now have half a phonebook to search.\r\n\r\nContinue to apply that algorithm: Each time you toss half of what is left in the garbage. That&#39;s a LOG2(n) algorithm and therefore will e.g. process in something like 32 steps total (&#39;get rid of half the phonebook&#39; applied 32 times will get you down to a single entry even for a phonebook that has 4 billion entries in it. LOG2(n) is pretty neat).\r\n\r\ndbs do this automatically (or can do even better than that) assuming you add an index to the column.\r\n\r\nIf you actually write this yourself it is smart to build up an index - say, 100k hashes and their exact position in the giant file. To then look up a hash, check your index for that hash that is &#39;below&#39; your hash but as close to it as possible (you can use `TreeSet` in java for this for example). Open the file, seek to that position, and then start processing until you either [A] find that hash (and deny that password as unsuitable), or [B] you find a hash that is &#39;higher&#39; (sorts above the hash you have), in which case the password is presumably allright to use. Given that there are something like 4 billion passwords in there, you&#39;ve now reduced the search to scanning through the file for only 4 billion / 100k = 40,000 hashes, which is going to be near instant, and would be faster than doing a full binary search on the entire file (as hopping around disk sectors is usually pricier even with SSDs), and avoids the difficulty of first seeking to a newline to avoid trying to scan for stuff in the middle of a hash.\r\n\r\n[1] _they_ is referring to [Troy Hunt](https://www.troyhunt.com) who basically runs HIBP as a charity. Consider donating to the cause if you use HIBP!","title":"How can I process a database with unreliable passwords","body":"<p>As per the <a href=\"https://www.troyhunt.com/ive-just-launched-pwned-passwords-version-2/\" rel=\"nofollow noreferrer\">blog post that explains all this</a>, the <code>:5</code> is telling you that this password showed up with separate account information 5 separate times. That one with 873 suggests it's a somewhat commonly used password and in that sense 'worse'.</p>\n<p>I don't think the passwords are case insensitive. The API that HIBP provides has case insensitive hash searches, i.e. if you search for <code>000000005ad76BD555C1D6D771DE417A4B87E4B4</code>, it finds a hit just as well as <code>000000005AD76BD555C1D6D771DE417A4B87E4B4</code>. &quot;Case insensitive&quot; and 'hash it' are not compatible. For a very quick test, check if SHA1(iloveyou) and SHA1(ILOVEYOU) are in the database. if both are, you have your confirmation: Don't mess with cases. If only one is, uppercase (or lowercase) before searching.</p>\n<p>Verifying a password's suitability is done as follows:</p>\n<p>Take the user's password. Don't mess with its case. SHA1 it. Check if that SHA1 is in this file (the part <em>before</em> the colon). If yes, tell the user to go pick something else and <a href=\"https://xkcd.com/936/\" rel=\"nofollow noreferrer\">link em to the usual</a>. Especially if the number following the colon is high, that's worse, but appearing <em>at all</em> in this list is grounds to deny that password. That <code>:1234</code> stuff is mostly for other kinds of research.</p>\n<blockquote>\n<p>However, if I get a cache, then I will have to perform a hash comparison search across the entire database.</p>\n</blockquote>\n<p>Yes; how else did you think this was going to work? Instead of the 6GB or whatever it is file, you can use their API, even cross-site (each IP is rate limited to one request per 1.5 seconds). Yes, your change pass/create new account form can <em>directly</em> ping HIBP with absolutely no involvement from your server, if you want. The HIBP site's API docs explain all this and how to do that. Then <em>they</em><sup>1</sup> will do a search.</p>\n<p>For what its worth, searching all that isn't too difficult assuming you do it correctly, that is, indexed. For example, a binary search (I'm pretty sure that file is 'sorted' on SHA1, so look up hashes the way you look up a phone number in a phone book based on somebody's name: Don't just open the book and start reading from Mr. Aabarth, go to the exact middle, check if the name you find there is 'below' or 'above' what you are looking for. If 'below', then take the bottom half of the phonebook, tear it off, toss it in the garbage. You now have half a phonebook to search.</p>\n<p>Continue to apply that algorithm: Each time you toss half of what is left in the garbage. That's a LOG2(n) algorithm and therefore will e.g. process in something like 32 steps total ('get rid of half the phonebook' applied 32 times will get you down to a single entry even for a phonebook that has 4 billion entries in it. LOG2(n) is pretty neat).</p>\n<p>dbs do this automatically (or can do even better than that) assuming you add an index to the column.</p>\n<p>If you actually write this yourself it is smart to build up an index - say, 100k hashes and their exact position in the giant file. To then look up a hash, check your index for that hash that is 'below' your hash but as close to it as possible (you can use <code>TreeSet</code> in java for this for example). Open the file, seek to that position, and then start processing until you either [A] find that hash (and deny that password as unsuitable), or [B] you find a hash that is 'higher' (sorts above the hash you have), in which case the password is presumably allright to use. Given that there are something like 4 billion passwords in there, you've now reduced the search to scanning through the file for only 4 billion / 100k = 40,000 hashes, which is going to be near instant, and would be faster than doing a full binary search on the entire file (as hopping around disk sectors is usually pricier even with SSDs), and avoids the difficulty of first seeking to a newline to avoid trying to scan for stuff in the middle of a hash.</p>\n<p>[1] <em>they</em> is referring to <a href=\"https://www.troyhunt.com\" rel=\"nofollow noreferrer\">Troy Hunt</a> who basically runs HIBP as a charity. Consider donating to the cause if you use HIBP!</p>\n"},{"tags":[],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685615589,"creation_date":1685614783,"answer_id":76380900,"question_id":76375868,"body_markdown":"Here is a set of methods that helped me convert a plain-text password into a hash, via the **SHA-1** algorithm.  after that, I compared passwords with an offline database of compromised passwords.\r\n\r\n```java\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        String password = &quot;qwerty&quot;;\r\n\r\n        String pwd = generatePasswordIntoSHA1Algorithm(password);\r\n\r\n        System.out.println(pwd);\r\n    }\r\n\r\n\r\n    public static String generatePasswordIntoSHA1Algorithm(String password) throws RuntimeException {\r\n        return convertPasswordIntoHashString(password, &quot;SHA-1&quot;);\r\n    }\r\n\r\n    private static String convertPasswordIntoHashString(String message, String algorithm)\r\n            throws RuntimeException {\r\n        try {\r\n            MessageDigest digest = MessageDigest.getInstance(algorithm);\r\n\r\n            byte[] messageInBytes = message.getBytes(StandardCharsets.UTF_8);\r\n\r\n            byte[] messageInBytesHashed = digest.digest(messageInBytes);\r\n\r\n            return convertByteArrayToHexString(messageInBytesHashed);\r\n\r\n        } catch (NoSuchAlgorithmException ex) {\r\n            throw new RuntimeException(\r\n                    &quot;Could not generate hash from String&quot;, ex);\r\n        }\r\n    }\r\n\r\n    private static String convertByteArrayToHexString(byte[] arrayBytes) {\r\n\r\n        StringBuilder stringBuffer = new StringBuilder();\r\n\r\n        for (byte arrayByte : arrayBytes) {\r\n\r\n            stringBuffer.append(\r\n                    convertByteToHexFormat(arrayByte)\r\n            );\r\n        }\r\n        return stringBuffer.toString();\r\n    }\r\n\r\n    private static String convertByteToHexFormat(byte arrayByte) {\r\n        return String.format(&quot;%02X&quot;, arrayByte);\r\n    }\r\n}\r\n\r\n```","title":"How can I process a database with unreliable passwords","body":"<p>Here is a set of methods that helped me convert a plain-text password into a hash, via the <strong>SHA-1</strong> algorithm.  after that, I compared passwords with an offline database of compromised passwords.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    public static void main(String[] args) {\n\n        String password = &quot;qwerty&quot;;\n\n        String pwd = generatePasswordIntoSHA1Algorithm(password);\n\n        System.out.println(pwd);\n    }\n\n\n    public static String generatePasswordIntoSHA1Algorithm(String password) throws RuntimeException {\n        return convertPasswordIntoHashString(password, &quot;SHA-1&quot;);\n    }\n\n    private static String convertPasswordIntoHashString(String message, String algorithm)\n            throws RuntimeException {\n        try {\n            MessageDigest digest = MessageDigest.getInstance(algorithm);\n\n            byte[] messageInBytes = message.getBytes(StandardCharsets.UTF_8);\n\n            byte[] messageInBytesHashed = digest.digest(messageInBytes);\n\n            return convertByteArrayToHexString(messageInBytesHashed);\n\n        } catch (NoSuchAlgorithmException ex) {\n            throw new RuntimeException(\n                    &quot;Could not generate hash from String&quot;, ex);\n        }\n    }\n\n    private static String convertByteArrayToHexString(byte[] arrayBytes) {\n\n        StringBuilder stringBuffer = new StringBuilder();\n\n        for (byte arrayByte : arrayBytes) {\n\n            stringBuffer.append(\n                    convertByteToHexFormat(arrayByte)\n            );\n        }\n        return stringBuffer.toString();\n    }\n\n    private static String convertByteToHexFormat(byte arrayByte) {\n        return String.format(&quot;%02X&quot;, arrayByte);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76376116,"answer_count":2,"score":0,"last_activity_date":1685615589,"creation_date":1685552936,"question_id":76375868,"body_markdown":" I found a website [haveibeenpwned][1] that makes it possible to check if the password is compromised. A database with passwords is also provided. The database looks like a text file\r\n\r\n```txt\r\n000000005AD76BD555C1D6D771DE417A4B87E4B4:10\r\n00000000A8DAE4228F821FB418F59826079BF368:4\r\n00000000DD7F2A1C68A35673713783CA390C9E93:873\r\n```\r\n\r\nThere are several hundred million values encoded in SHA1, before that the values were converted to uppercase.\r\n\r\nI found this:\r\n\r\n```java\r\n  public static String generateSHA1(String message) throws RuntimeException {\r\n        return hashString(message, &quot;SHA-1&quot;);\r\n    }\r\n\r\n    private static String hashString(String message, String algorithm)\r\n            throws RuntimeException {\r\n        try {\r\n            MessageDigest digest = MessageDigest.getInstance(algorithm);\r\n            byte[] hashedBytes = digest.digest(message.getBytes(&quot;UTF-8&quot;));\r\n\r\n            return convertByteArrayToHexString(hashedBytes);\r\n        } catch (NoSuchAlgorithmException | UnsupportedEncodingException ex) {\r\n            throw new RuntimeException(\r\n                    &quot;Could not generate hash from String&quot;, ex);\r\n        }\r\n    }\r\n\r\n    private static String convertByteArrayToHexString(byte[] arrayBytes) {\r\n        StringBuilder stringBuffer = new StringBuilder();\r\n        for (byte arrayByte : arrayBytes) {\r\n            stringBuffer.append(Integer.toString((arrayByte &amp; 0xff) + 0x100, 16)\r\n                    .substring(1));\r\n        }\r\n        return stringBuffer.toString();\r\n    }\r\n```\r\nShould I bring my password (which should be compared with the hashes table) after converting to hash, to a HEX string ?\r\n\r\n Is this enough to be able to perform a comparison?\r\n\r\nHowever, I don&#39;t understand how to check such a volume :\r\n\r\n - After the &#39;:&#39; character, what is this number indicated ?\r\n - To verify, do I have to translate the password value to uppercase and encode using Message Digest with the SHA1 type ?\r\n - However, if I get a hash, then I will have to perform a hash comparison search across the entire database.\r\n- And is it possible to somehow allocate the prefix of the hash string and make a selection of suitable values and search among their range using Java, which will reduce the load on the database and reduce the response of the application?\r\n\r\nIf anyone has any ideas how to do this and what is this hash in the file, please share?\r\n\r\n  [1]: https://haveibeenpwned.com/Passwords","title":"How can I process a database with unreliable passwords","body":"<p>I found a website <a href=\"https://haveibeenpwned.com/Passwords\" rel=\"nofollow noreferrer\">haveibeenpwned</a> that makes it possible to check if the password is compromised. A database with passwords is also provided. The database looks like a text file</p>\n<pre><code>000000005AD76BD555C1D6D771DE417A4B87E4B4:10\n00000000A8DAE4228F821FB418F59826079BF368:4\n00000000DD7F2A1C68A35673713783CA390C9E93:873\n</code></pre>\n<p>There are several hundred million values encoded in SHA1, before that the values were converted to uppercase.</p>\n<p>I found this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static String generateSHA1(String message) throws RuntimeException {\n        return hashString(message, &quot;SHA-1&quot;);\n    }\n\n    private static String hashString(String message, String algorithm)\n            throws RuntimeException {\n        try {\n            MessageDigest digest = MessageDigest.getInstance(algorithm);\n            byte[] hashedBytes = digest.digest(message.getBytes(&quot;UTF-8&quot;));\n\n            return convertByteArrayToHexString(hashedBytes);\n        } catch (NoSuchAlgorithmException | UnsupportedEncodingException ex) {\n            throw new RuntimeException(\n                    &quot;Could not generate hash from String&quot;, ex);\n        }\n    }\n\n    private static String convertByteArrayToHexString(byte[] arrayBytes) {\n        StringBuilder stringBuffer = new StringBuilder();\n        for (byte arrayByte : arrayBytes) {\n            stringBuffer.append(Integer.toString((arrayByte &amp; 0xff) + 0x100, 16)\n                    .substring(1));\n        }\n        return stringBuffer.toString();\n    }\n</code></pre>\n<p>Should I bring my password (which should be compared with the hashes table) after converting to hash, to a HEX string ?</p>\n<p>Is this enough to be able to perform a comparison?</p>\n<p>However, I don't understand how to check such a volume :</p>\n<ul>\n<li>After the ':' character, what is this number indicated ?</li>\n<li>To verify, do I have to translate the password value to uppercase and encode using Message Digest with the SHA1 type ?</li>\n<li>However, if I get a hash, then I will have to perform a hash comparison search across the entire database.</li>\n<li>And is it possible to somehow allocate the prefix of the hash string and make a selection of suitable values and search among their range using Java, which will reduce the load on the database and reduce the response of the application?</li>\n</ul>\n<p>If anyone has any ideas how to do this and what is this hash in the file, please share?</p>\n"},{"tags":["java","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1685618067,"post_id":76380976,"comment_id":134686767,"body_markdown":"please attach the image correctly","body":"please attach the image correctly"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1685618317,"post_id":76380976,"comment_id":134686831,"body_markdown":"Please check my comment at https://youtrack.jetbrains.com/issue/IDEA-321462/IDEA-is-not-opening-a-specific-project-it-gets-stuck-on-a-blank-thumbnail#focus=Comments-27-7402701.0-0","body":"Please check my comment at <a href=\"https://youtrack.jetbrains.com/issue/IDEA-321462/IDEA-is-not-opening-a-specific-project-it-gets-stuck-on-a-blank-thumbnail#focus=Comments-27-7402701.0-0\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-321462/&hellip;</a>"},{"owner":{"account_id":18877613,"reputation":3,"user_id":13770795,"display_name":"fakindzej"},"score":0,"creation_date":1685621208,"post_id":76380976,"comment_id":134687476,"body_markdown":"I fixed the problem by installing the EAP version of IDEA. Apparently it&#39;s a bug which hasn&#39;t been fixed yet - thank you Egor.","body":"I fixed the problem by installing the EAP version of IDEA. Apparently it&#39;s a bug which hasn&#39;t been fixed yet - thank you Egor."}],"owner":{"account_id":18877613,"reputation":3,"user_id":13770795,"display_name":"fakindzej"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685615519,"creation_date":1685615373,"question_id":76380976,"body_markdown":"When I try to open a specific project, it only loads as an empty thumbnail (see attached screenshot). The issue only happens with this project, others work fine.\r\n\r\n[sccreenshot](https://i.stack.imgur.com/VJq67.png)\r\n\r\n**What steps will reproduce the issue?**\r\nOpening the project with a right click (or with file-&gt;open) in IntelliJ IDEA.\r\n\r\n**What is the expected result?**\r\nProject opens as usual.\r\n\r\n**What I&#39;ve already tried**\r\n - Cloning the project into a new directory\r\n - Invalidating caches\r\n - Updating IDE\r\n - Restarting OS\r\n\r\n","title":"IntelliJ IDEA not opening a specific project - it gets stuck on a blank thumbnail","body":"<p>When I try to open a specific project, it only loads as an empty thumbnail (see attached screenshot). The issue only happens with this project, others work fine.</p>\n<p><a href=\"https://i.stack.imgur.com/VJq67.png\" rel=\"nofollow noreferrer\">sccreenshot</a></p>\n<p><strong>What steps will reproduce the issue?</strong>\nOpening the project with a right click (or with file-&gt;open) in IntelliJ IDEA.</p>\n<p><strong>What is the expected result?</strong>\nProject opens as usual.</p>\n<p><strong>What I've already tried</strong></p>\n<ul>\n<li>Cloning the project into a new directory</li>\n<li>Invalidating caches</li>\n<li>Updating IDE</li>\n<li>Restarting OS</li>\n</ul>\n"},{"tags":["java","class","inheritance","methods","program-entry-point"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1685546568,"post_id":76375037,"comment_id":134676157,"body_markdown":"It looks like you have put both classes in one file. Don&#39;t do that. `Derived` goes in `Derived.java` and `Test` goes in `Test.java`. Also, you currently overload the single function from `Test` in `Derived` (and just duplicated the code when you did so). That is both confusing and pointless. Also your declared package is `code.now` but your error message is from `code.ninja`.","body":"It looks like you have put both classes in one file. Don&#39;t do that. <code>Derived</code> goes in <code>Derived.java</code> and <code>Test</code> goes in <code>Test.java</code>. Also, you currently overload the single function from <code>Test</code> in <code>Derived</code> (and just duplicated the code when you did so). That is both confusing and pointless. Also your declared package is <code>code.now</code> but your error message is from <code>code.ninja</code>."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1685547155,"post_id":76375037,"comment_id":134676313,"body_markdown":"Additionally, I think the class containing `main` should be `public`","body":"Additionally, I think the class containing <code>main</code> should be <code>public</code>"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1685547497,"post_id":76375037,"comment_id":134676395,"body_markdown":"@QBrute not required.","body":"@QBrute not required."},{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":0,"creation_date":1685548950,"post_id":76375037,"comment_id":134676761,"body_markdown":"Using eclipse or intelij?","body":"Using eclipse or intelij?"},{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":0,"creation_date":1685549931,"post_id":76375037,"comment_id":134676951,"body_markdown":"Does this answer your question? [Error: Selection does not contain a main type](https://stackoverflow.com/questions/16225177/error-selection-does-not-contain-a-main-type)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/16225177/error-selection-does-not-contain-a-main-type\">Error: Selection does not contain a main type</a>"},{"owner":{"account_id":15437885,"reputation":39,"user_id":11137450,"display_name":"Goutham"},"score":0,"creation_date":1685553999,"post_id":76375037,"comment_id":134677825,"body_markdown":"@ElliottFrisch - it is not pointless, i&#39;m just a beginner and learning the implementation with some basic examples. I cannot comment on others capabilities ...","body":"@ElliottFrisch - it is not pointless, i&#39;m just a beginner and learning the implementation with some basic examples. I cannot comment on others capabilities ..."},{"owner":{"account_id":15437885,"reputation":39,"user_id":11137450,"display_name":"Goutham"},"score":0,"creation_date":1685554115,"post_id":76375037,"comment_id":134677840,"body_markdown":"@ElliottFrisch you are right about  the package name mismatch in the error and the code. I might have made a typo in writing the package name in code snippet","body":"@ElliottFrisch you are right about  the package name mismatch in the error and the code. I might have made a typo in writing the package name in code snippet"}],"answers":[{"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1685549201,"post_id":76375396,"comment_id":134676817,"body_markdown":"If it&#39;s a dupe mark it as a dupe; if it isn&#39;t, link-only answers aren&#39;t great.","body":"If it&#39;s a dupe mark it as a dupe; if it isn&#39;t, link-only answers aren&#39;t great."},{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":0,"creation_date":1685549526,"post_id":76375396,"comment_id":134676874,"body_markdown":"@Dave Newton , I couldn&#39;t see the duplicate option.","body":"@Dave Newton , I couldn&#39;t see the duplicate option."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1685549720,"post_id":76375396,"comment_id":134676913,"body_markdown":"I didn&#39;t downvote, but: 1) we don&#39;t know if it&#39;s the right answer because we don&#39;t know how the OP is running the code, 2) duplicates are the first option listed when we vote to close a question, and 3) link-only answers are not how SO works *(and if the answer is an SO link it&#39;s a dupe by definition)*.","body":"I didn&#39;t downvote, but: 1) we don&#39;t know if it&#39;s the right answer because we don&#39;t know how the OP is running the code, 2) duplicates are the first option listed when we vote to close a question, and 3) link-only answers are not how SO works <i>(and if the answer is an SO link it&#39;s a dupe by definition)</i>."},{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":0,"creation_date":1685549832,"post_id":76375396,"comment_id":134676937,"body_markdown":"I tried running this code. works good. The problem is with IDE. Could you please tell me how to mark it as duplicate?","body":"I tried running this code. works good. The problem is with IDE. Could you please tell me how to mark it as duplicate?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1685549984,"post_id":76375396,"comment_id":134676966,"body_markdown":"You&#39;re missing what I&#39;m saying: we don&#39;t know if the OP is even **using** an IDE *(or which one if they are)*. Underneath the question are links: `Share Edit Follow Close Flag`. Click &quot;Close&quot; to close the question *(a vote to close, actually)*. Find the duplicate question from the list provided, by searching, or by pasting a link. Click the &quot;Vote to Close&quot; button.","body":"You&#39;re missing what I&#39;m saying: we don&#39;t know if the OP is even <b>using</b> an IDE <i>(or which one if they are)</i>. Underneath the question are links: <code>Share Edit Follow Close Flag</code>. Click &quot;Close&quot; to close the question <i>(a vote to close, actually)</i>. Find the duplicate question from the list provided, by searching, or by pasting a link. Click the &quot;Vote to Close&quot; button."},{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":0,"creation_date":1685550079,"post_id":76375396,"comment_id":134676986,"body_markdown":"Thanks for assisting. I raised request to close.","body":"Thanks for assisting. I raised request to close."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1685550096,"post_id":76375396,"comment_id":134676991,"body_markdown":"No problem :thumbs-up:","body":"No problem :thumbs-up:"},{"owner":{"account_id":15437885,"reputation":39,"user_id":11137450,"display_name":"Goutham"},"score":0,"creation_date":1685556502,"post_id":76375396,"comment_id":134678297,"body_markdown":"@DaveNewton , the reason i posted a new question cause the answers in the suggested questions didnât fix my problem. Neither could i comment cause I don&#39;t have enough privileges to comment on others answers. So the only logical option for me is to post a new question as the answers on the other questions didn&#39;t help me","body":"@DaveNewton , the reason i posted a new question cause the answers in the suggested questions didnât fix my problem. Neither could i comment cause I don&#39;t have enough privileges to comment on others answers. So the only logical option for me is to post a new question as the answers on the other questions didn&#39;t help me"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1685557023,"post_id":76375396,"comment_id":134678384,"body_markdown":"@Goutham The dupe comments were directed at the poster of this answer.","body":"@Goutham The dupe comments were directed at the poster of this answer."},{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":0,"creation_date":1685597127,"post_id":76375396,"comment_id":134682858,"body_markdown":"@Goutham you got those privileges now. Have fun. I faced the same. We need more upvotes to  access those privileges.","body":"@Goutham you got those privileges now. Have fun. I faced the same. We need more upvotes to  access those privileges."}],"tags":[],"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"comment_count":10,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1685550717,"creation_date":1685549006,"answer_id":76375396,"question_id":76375037,"body_markdown":"I faced the same before. Your code is  good. No issues. Problem with IDE config.\r\n\r\nFor Eclipse https://stackoverflow.com/a/75637946/11962586\r\n\r\nUPDATE - Try this way\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AQhH2.png\r\n  [2]: https://i.stack.imgur.com/CUBVs.png\r\n  [3]: https://i.stack.imgur.com/Tsdv4.png","title":"Why am I getting the error &#39;Main method not found in class&#39; even though I defined the main method in my Java program with inheritance?","body":"<p>I faced the same before. Your code is  good. No issues. Problem with IDE config.</p>\n<p>For Eclipse <a href=\"https://stackoverflow.com/a/75637946/11962586\">https://stackoverflow.com/a/75637946/11962586</a></p>\n<p>UPDATE - Try this way</p>\n<p><a href=\"https://i.stack.imgur.com/AQhH2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AQhH2.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/CUBVs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CUBVs.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/Tsdv4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Tsdv4.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":15437885,"reputation":39,"user_id":11137450,"display_name":"Goutham"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685615381,"creation_date":1685555239,"answer_id":76376103,"question_id":76375037,"body_markdown":"Thanks for the help.\r\n\r\nI think I found the issue. There are two files in the same package\r\n\r\n&gt; package code.ninja; \r\n\r\n    &gt; Main.java\r\n    &gt; Deriveded.java\r\n\r\n\r\n - Main.java ( this has a class name Derived ), so when I tried to create a new java class with Derived.java it&#39;s throwing error, but after I changed the class to Deriveded.java, the errors are gone.\r\n - Deriveded.java (previously it was Derived.java )\r\n\r\n[Main.java program in the same package][1]\r\n\r\n\r\n[Deriveded.java][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/onYxp.png\r\n  [2]: https://i.stack.imgur.com/MFGcX.png","title":"Why am I getting the error &#39;Main method not found in class&#39; even though I defined the main method in my Java program with inheritance?","body":"<p>Thanks for the help.</p>\n<p>I think I found the issue. There are two files in the same package</p>\n<blockquote>\n<p>package code.ninja;</p>\n</blockquote>\n<pre><code>&gt; Main.java\n&gt; Deriveded.java\n</code></pre>\n<ul>\n<li>Main.java ( this has a class name Derived ), so when I tried to create a new java class with Derived.java it's throwing error, but after I changed the class to Deriveded.java, the errors are gone.</li>\n<li>Deriveded.java (previously it was Derived.java )</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/onYxp.png\" rel=\"nofollow noreferrer\">Main.java program in the same package</a></p>\n<p><a href=\"https://i.stack.imgur.com/MFGcX.png\" rel=\"nofollow noreferrer\">Deriveded.java</a></p>\n"}],"owner":{"account_id":15437885,"reputation":39,"user_id":11137450,"display_name":"Goutham"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1685615396,"accepted_answer_id":76375396,"answer_count":2,"score":1,"last_activity_date":1685615381,"creation_date":1685546302,"question_id":76375037,"body_markdown":"```\r\npackage code.now;\r\n\r\n\r\nclass Test {\r\n    public void fun() {\r\n        System.out.println(&quot;Coding Ninjas&quot;);\r\n    }\r\n}\r\n\r\nclass Derived extends Test {\r\n\t\r\n    public void fun() {\r\n        System.out.println(&quot;Coding Ninjas&quot;);\r\n    }\r\n    public static void main(String[] args) {\r\n        Derived obj = new Derived();\r\n        obj.fun();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\ni&#39;m trying to execute this code and running into the below error \r\n\r\n&quot;Error: Main method not found in class code.ninja.Derived, please define the main method as:\r\n   public static void main(String[] args)\r\nor a JavaFX application class must extend javafx.application.Application&quot;\r\n\r\nbut I already defined the main method and also tried to check for any syntax and spelling mistakes but still the code is returning the error.","title":"Why am I getting the error &#39;Main method not found in class&#39; even though I defined the main method in my Java program with inheritance?","body":"<pre><code>package code.now;\n\n\nclass Test {\n    public void fun() {\n        System.out.println(&quot;Coding Ninjas&quot;);\n    }\n}\n\nclass Derived extends Test {\n    \n    public void fun() {\n        System.out.println(&quot;Coding Ninjas&quot;);\n    }\n    public static void main(String[] args) {\n        Derived obj = new Derived();\n        obj.fun();\n    }\n}\n\n</code></pre>\n<p>i'm trying to execute this code and running into the below error</p>\n<p>&quot;Error: Main method not found in class code.ninja.Derived, please define the main method as:\npublic static void main(String[] args)\nor a JavaFX application class must extend javafx.application.Application&quot;</p>\n<p>but I already defined the main method and also tried to check for any syntax and spelling mistakes but still the code is returning the error.</p>\n"},{"tags":["java","sbt","typesafe-activator"],"owner":{"account_id":13579259,"reputation":35,"user_id":9795757,"display_name":"Shiva Reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685614723,"creation_date":1685614723,"question_id":76380892,"body_markdown":"I am trying to start a play server using\r\n\r\n    activator -Dconfig.file=conf/prod.conf -Dhttp.port=9006 -Dhttps.port=9007 -jvm-debug 5005 run\r\nBut I am getting following error in the server logs:\r\n```\r\n...\r\n[info] Set current project to ofe (in build file:/Users/shiva/br/work/src/analytics/frontend/ui/)\r\n[info] Updating {file:/Users/shiva/br/work/src/analytics/frontend/ui/}ofe...\r\n[info] Resolving com.typesafe.play#play-jdbc_2.10;2.2.0 ...\r\n[error] Server access Error: Connection refused url=http://repo.typesafe.com/typesafe/releases/com/typesafe/play/play-jdbc_2.10/2.2.0/play-jdbc_2.10-2.2.0.pom\r\n[error] Server access Error: Connection refused url=http://repo.typesafe.com/typesafe/releases/com/typesafe/play/play-jdbc_2.10/2.2.0/play-jdbc_2.10-2.2.0.jar\r\n[info] Resolving com.jolbox#bonecp-parent;0.8.0-rc1 ...\r\n[error] Server access Error: Connection refused url=http://repo.typesafe.com/typesafe/releases/com/jolbox/bonecp-parent/0.8.0-rc1/bonecp-parent-0.8.0-rc1.jar\r\n[error] Server access Error: Connection refused url=http://repo.typesafe.com/typesafe/releases/com/jolbox/bonecp-parent/0.8.0-rc1/bonecp-parent-0.8.0-rc1.jar\r\n[info] Resolving com.typesafe.play#play-java_2.10;2.2.0 ...\r\n[error] Server access Error: Connection refused url=http://repo.typesafe.com/typesafe/releases/com/typesafe/play/play-java_2.10/2.2.0/play-java_2.10-2.2.0.pom\r\n[error] Server access Error: Connection refused url=http://repo.typesafe.com/typesafe/releases/com/typesafe/play/play-java_2.10/2.2.0/play-java_2.10-2.2.0.jar\r\n...\r\n```\r\nFollowing is my build.sbt file:\r\n```\r\nlibraryDependencies ++= Seq(\r\n  javaJdbc,\r\n  javaEbean,\r\n  cache,\r\n  &quot;com.google.inject&quot; % &quot;guice&quot; % &quot;3.0&quot;\r\n)\r\n\r\nresolvers += &quot;Maven Central Server&quot; at &quot;https://repo1.maven.org/maven2&quot;\r\n\r\nresolvers += &quot;Typesafe Server&quot; at &quot;https://repo.typesafe.com/typesafe/releases&quot;\r\n\r\nplay.Project.playJavaSettings\r\n\r\nseq(copyViewsSettings:_*)\r\n```\r\nFollowing is my project/plugins.sbt file:\r\n```\r\n// Comment to get more information during initialization\r\nlogLevel := Level.Warn\r\n\r\n// The Typesafe repository\r\nresolvers ++= Seq(\r\n  &quot;Typesafe repository&quot; at &quot;https://repo.typesafe.com/typesafe/releases/&quot;,\r\n  &quot;Maven Repo&quot; at  &quot;https://repo1.maven.org/maven2/&quot;\r\n)\r\n\r\n// Use the Play sbt plugin for Play projects\r\naddSbtPlugin(&quot;com.typesafe.play&quot; % &quot;sbt-plugin&quot; % &quot;2.2.0&quot;)\r\n\r\naddSbtPlugin(&quot;com.typesafe.sbt&quot; % &quot;sbt-web&quot; % &quot;1.1.0&quot;)\r\n```\r\n\r\nI am using sbt version 0.13.18. I have cleared my ~/.ivy2/cache as well.\r\nI want the activator command to resolve dependencies using https://repo.typesafe.com instead of http://repo.typesafe.com. But it is not clear how it is getting resolved to http://repo.typesafe.com.\r\n\r\n\r\nI am new to play and activator. Does anyone know how to fix the above issue?","title":"Getting a http://repo.typesafe.com server access error when trying to start a server using activator","body":"<p>I am trying to start a play server using</p>\n<pre><code>activator -Dconfig.file=conf/prod.conf -Dhttp.port=9006 -Dhttps.port=9007 -jvm-debug 5005 run\n</code></pre>\n<p>But I am getting following error in the server logs:</p>\n<pre><code>...\n[info] Set current project to ofe (in build file:/Users/shiva/br/work/src/analytics/frontend/ui/)\n[info] Updating {file:/Users/shiva/br/work/src/analytics/frontend/ui/}ofe...\n[info] Resolving com.typesafe.play#play-jdbc_2.10;2.2.0 ...\n[error] Server access Error: Connection refused url=http://repo.typesafe.com/typesafe/releases/com/typesafe/play/play-jdbc_2.10/2.2.0/play-jdbc_2.10-2.2.0.pom\n[error] Server access Error: Connection refused url=http://repo.typesafe.com/typesafe/releases/com/typesafe/play/play-jdbc_2.10/2.2.0/play-jdbc_2.10-2.2.0.jar\n[info] Resolving com.jolbox#bonecp-parent;0.8.0-rc1 ...\n[error] Server access Error: Connection refused url=http://repo.typesafe.com/typesafe/releases/com/jolbox/bonecp-parent/0.8.0-rc1/bonecp-parent-0.8.0-rc1.jar\n[error] Server access Error: Connection refused url=http://repo.typesafe.com/typesafe/releases/com/jolbox/bonecp-parent/0.8.0-rc1/bonecp-parent-0.8.0-rc1.jar\n[info] Resolving com.typesafe.play#play-java_2.10;2.2.0 ...\n[error] Server access Error: Connection refused url=http://repo.typesafe.com/typesafe/releases/com/typesafe/play/play-java_2.10/2.2.0/play-java_2.10-2.2.0.pom\n[error] Server access Error: Connection refused url=http://repo.typesafe.com/typesafe/releases/com/typesafe/play/play-java_2.10/2.2.0/play-java_2.10-2.2.0.jar\n...\n</code></pre>\n<p>Following is my build.sbt file:</p>\n<pre><code>libraryDependencies ++= Seq(\n  javaJdbc,\n  javaEbean,\n  cache,\n  &quot;com.google.inject&quot; % &quot;guice&quot; % &quot;3.0&quot;\n)\n\nresolvers += &quot;Maven Central Server&quot; at &quot;https://repo1.maven.org/maven2&quot;\n\nresolvers += &quot;Typesafe Server&quot; at &quot;https://repo.typesafe.com/typesafe/releases&quot;\n\nplay.Project.playJavaSettings\n\nseq(copyViewsSettings:_*)\n</code></pre>\n<p>Following is my project/plugins.sbt file:</p>\n<pre><code>// Comment to get more information during initialization\nlogLevel := Level.Warn\n\n// The Typesafe repository\nresolvers ++= Seq(\n  &quot;Typesafe repository&quot; at &quot;https://repo.typesafe.com/typesafe/releases/&quot;,\n  &quot;Maven Repo&quot; at  &quot;https://repo1.maven.org/maven2/&quot;\n)\n\n// Use the Play sbt plugin for Play projects\naddSbtPlugin(&quot;com.typesafe.play&quot; % &quot;sbt-plugin&quot; % &quot;2.2.0&quot;)\n\naddSbtPlugin(&quot;com.typesafe.sbt&quot; % &quot;sbt-web&quot; % &quot;1.1.0&quot;)\n</code></pre>\n<p>I am using sbt version 0.13.18. I have cleared my ~/.ivy2/cache as well.\nI want the activator command to resolve dependencies using <a href=\"https://repo.typesafe.com\" rel=\"nofollow noreferrer\">https://repo.typesafe.com</a> instead of <a href=\"http://repo.typesafe.com\" rel=\"nofollow noreferrer\">http://repo.typesafe.com</a>. But it is not clear how it is getting resolved to <a href=\"http://repo.typesafe.com\" rel=\"nofollow noreferrer\">http://repo.typesafe.com</a>.</p>\n<p>I am new to play and activator. Does anyone know how to fix the above issue?</p>\n"},{"tags":["java","kotlin"],"owner":{"account_id":18396973,"reputation":1,"user_id":17052850,"display_name":"Brayant Brice&#241;o"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685614502,"creation_date":1685561104,"question_id":76376686,"body_markdown":"I have my configuration, I have the signature key of the app, both upload and test, but even so, it does not read the data, I use SMS and if the message arrives, but when registering the data, it throws null, I don&#39;t know how to do it, it&#39;s the first time that This happens to me I have already used some apps but I never went through this.\r\n\r\n```\r\nandroid {\r\n    compileSdk 32\r\n\r\n    aaptOptions {\r\n        cruncherEnabled = false\r\n    }\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.app.violtecoffe&quot;\r\n        minSdk 21\r\n        targetSdk 32\r\n        versionCode 4\r\n        versionName &quot;1.4&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n\r\n\r\n\r\n\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n    viewBinding{enabled=true}\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.core:core-ktx:1.7.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.5.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.7.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:20.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-database-ktx:20.2.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-maps:18.0.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-storage-ktx:20.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-messaging-ktx:23.1.2&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.4&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-crashlytics-ktx&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics-ktx&#39;\r\n\r\n    //FIREBASE\r\n\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:31.3.0&#39;)\r\n\r\n    implementation &#39;com.google.firebase:firebase-auth&#39;\r\n\r\n    implementation &quot;com.google.android.gms:play-services-location:21.0.1&quot;\r\n\r\n\r\n    //LOTIIEEEE\r\n\r\n    implementation &quot;com.airbnb.android:lottie:3.4.0&quot;\r\n\r\n\r\n    implementation &#39;com.github.bumptech.glide:glide:4.15.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-appcheck-playintegrity&#39;\r\n    implementation &#39;androidx.browser:browser:1.3.0&#39;\r\n    implementation &#39;com.squareup.okhttp3:okhttp:4.9.3&#39;\r\n    implementation &#39;com.android.volley:volley:1.2.1&#39;\r\n\r\n}\r\n\r\n\r\n```\r\n","title":"Firebase database does not read data when I upload the app in production mode","body":"<p>I have my configuration, I have the signature key of the app, both upload and test, but even so, it does not read the data, I use SMS and if the message arrives, but when registering the data, it throws null, I don't know how to do it, it's the first time that This happens to me I have already used some apps but I never went through this.</p>\n<pre><code>android {\n    compileSdk 32\n\n    aaptOptions {\n        cruncherEnabled = false\n    }\n\n    defaultConfig {\n        applicationId &quot;com.app.violtecoffe&quot;\n        minSdk 21\n        targetSdk 32\n        versionCode 4\n        versionName &quot;1.4&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n\n\n\n\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n    viewBinding{enabled=true}\n    buildFeatures {\n        viewBinding true\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.core:core-ktx:1.7.0'\n    implementation 'androidx.appcompat:appcompat:1.5.1'\n    implementation 'com.google.android.material:material:1.7.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'com.google.firebase:firebase-database:20.1.0'\n    implementation 'com.google.firebase:firebase-database-ktx:20.2.0'\n    implementation 'com.google.android.gms:play-services-maps:18.0.1'\n    implementation 'com.google.firebase:firebase-storage-ktx:20.1.0'\n    implementation 'com.google.firebase:firebase-messaging-ktx:23.1.2'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.4'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.0'\n    implementation 'com.google.firebase:firebase-crashlytics-ktx'\n    implementation 'com.google.firebase:firebase-analytics-ktx'\n\n    //FIREBASE\n\n    implementation platform('com.google.firebase:firebase-bom:31.3.0')\n\n    implementation 'com.google.firebase:firebase-auth'\n\n    implementation &quot;com.google.android.gms:play-services-location:21.0.1&quot;\n\n\n    //LOTIIEEEE\n\n    implementation &quot;com.airbnb.android:lottie:3.4.0&quot;\n\n\n    implementation 'com.github.bumptech.glide:glide:4.15.1'\n    implementation 'com.google.firebase:firebase-appcheck-playintegrity'\n    implementation 'androidx.browser:browser:1.3.0'\n    implementation 'com.squareup.okhttp3:okhttp:4.9.3'\n    implementation 'com.android.volley:volley:1.2.1'\n\n}\n\n\n</code></pre>\n"},{"tags":["java","junit","mockito","junit4"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1685563621,"post_id":76375007,"comment_id":134679517,"body_markdown":"Does this answer your question? [Why are my mocked methods not called when executing a unit test?](https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test) â `final RunSummaryServiceImpl runSummaryServiceImpl = new RunSummaryServiceImpl();` shadows your field with the same name. The instance with injected mocks is never used. Also, you need to chose Mockito-based tests or Spring-based tests.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test\">Why are my mocked methods not called when executing a unit test?</a> â <code>final RunSummaryServiceImpl runSummaryServiceImpl = new RunSummaryServiceImpl();</code> shadows your field with the same name. The instance with injected mocks is never used. Also, you need to chose Mockito-based tests or Spring-based tests."}],"answers":[{"comments":[{"owner":{"account_id":28634839,"reputation":1,"user_id":21925154,"display_name":"shreyash"},"score":0,"creation_date":1685553633,"post_id":76375128,"comment_id":134677749,"body_markdown":"Removed that still getting null pointer exception at      runSummaryServiceImpl.processCustomerRunSummaries(runs);\nthis line","body":"Removed that still getting null pointer exception at      runSummaryServiceImpl.processCustomerRunSummaries(runs); this line"},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1685559934,"post_id":76375128,"comment_id":134678956,"body_markdown":"Ah, I just noticed that you&#39;re mixing SpringBootTest with Mocks.  They don&#39;t work together too well.  In looking at your test, you aren&#39;t actually using any of the mocking aspects, nor are you using your Spys.  Remove any references to the Mock stuff (including your @Before method, replace the `@InjectMocks` annotation on your service to just Autowired.  If you do want to use mocks with SpringBootTest, use @MockBean so it&#39;s part of the context.","body":"Ah, I just noticed that you&#39;re mixing SpringBootTest with Mocks.  They don&#39;t work together too well.  In looking at your test, you aren&#39;t actually using any of the mocking aspects, nor are you using your Spys.  Remove any references to the Mock stuff (including your @Before method, replace the <code>@InjectMocks</code> annotation on your service to just Autowired.  If you do want to use mocks with SpringBootTest, use @MockBean so it&#39;s part of the context."}],"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685546974,"creation_date":1685546974,"answer_id":76375128,"question_id":76375007,"body_markdown":"You&#39;re nullifying the Mock by creating a new instance of the service in your test.\r\n\r\nRemove\r\n\r\n    final RunSummaryServiceImpl runSummaryServiceImpl = new RunSummaryServiceImpl();\r\n\r\nSince your test class already has a member variable called runSummaryServiceImpl that has the mocks injected, your test should simply look like this:\r\n\r\n    @Test\r\n    public void TestprocessCustomerRunSummaries() {\r\n        final Collection&lt;RunSummary&gt; runs = new ArrayList&lt;&gt;();\r\n        runs.add(new RunSummary(&quot;customer1&quot;, 1, Timestamp.valueOf(&quot;2023-05-30 10:00:00&quot;)));\r\n        runs.add(new RunSummary(&quot;customer2&quot;, 2, Timestamp.valueOf(&quot;2023-05-30 11:00:00&quot;)));\r\n        runs.add(new RunSummary(&quot;customer3&quot;, 3, Timestamp.valueOf(&quot;2023-05-30 12:00:00&quot;)));\r\n\r\n        // This is created as a mock at the class level\r\n        runSummaryServiceImpl.processCustomerRunSummaries(runs);\r\n    }","title":"How do I fix a null pointer exception in a JUnit test class when using Mockito?","body":"<p>You're nullifying the Mock by creating a new instance of the service in your test.</p>\n<p>Remove</p>\n<pre><code>final RunSummaryServiceImpl runSummaryServiceImpl = new RunSummaryServiceImpl();\n</code></pre>\n<p>Since your test class already has a member variable called runSummaryServiceImpl that has the mocks injected, your test should simply look like this:</p>\n<pre><code>@Test\npublic void TestprocessCustomerRunSummaries() {\n    final Collection&lt;RunSummary&gt; runs = new ArrayList&lt;&gt;();\n    runs.add(new RunSummary(&quot;customer1&quot;, 1, Timestamp.valueOf(&quot;2023-05-30 10:00:00&quot;)));\n    runs.add(new RunSummary(&quot;customer2&quot;, 2, Timestamp.valueOf(&quot;2023-05-30 11:00:00&quot;)));\n    runs.add(new RunSummary(&quot;customer3&quot;, 3, Timestamp.valueOf(&quot;2023-05-30 12:00:00&quot;)));\n\n    // This is created as a mock at the class level\n    runSummaryServiceImpl.processCustomerRunSummaries(runs);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1685547351,"post_id":76375135,"comment_id":134676352,"body_markdown":"I&#39;m not sure this actually answers the question, how does this correct the null pointer exception?","body":"I&#39;m not sure this actually answers the question, how does this correct the null pointer exception?"}],"tags":[],"owner":{"account_id":4220957,"reputation":177,"user_id":3455763,"accept_rate":73,"display_name":"Samuel_"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685547033,"creation_date":1685547033,"answer_id":76375135,"question_id":76375007,"body_markdown":"Hy\r\n\r\nI think you can use this example :\r\n\r\n    when(myMock.doSomething()).thenThrow(new MyException());\r\n\r\nOr you can annotate your test with : \r\n\r\n    @Test(expected=MyException.class)","title":"How do I fix a null pointer exception in a JUnit test class when using Mockito?","body":"<p>Hy</p>\n<p>I think you can use this example :</p>\n<pre><code>when(myMock.doSomething()).thenThrow(new MyException());\n</code></pre>\n<p>Or you can annotate your test with :</p>\n<pre><code>@Test(expected=MyException.class)\n</code></pre>\n"}],"owner":{"account_id":28634839,"reputation":1,"user_id":21925154,"display_name":"shreyash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":446,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1685614436,"answer_count":2,"score":-2,"last_activity_date":1685614429,"creation_date":1685546105,"question_id":76375007,"body_markdown":"I am getting null pointer exception while testing.\r\nHere is the test class.\r\n\r\n```\r\n@SpringBootTest\r\npublic class RunSummaryServiceImplTest {\r\n\r\n\t@Spy   //Tried @Mock too\r\n\tprivate RunSummaryRepository runSummaryRepository;\r\n\r\n\t/** The file repository. */\r\n\t@Spy\r\n\tprivate FileRepository fileRepository;\r\n\r\n\t@InjectMocks\r\n\tRunSummaryServiceImpl runSummaryServiceImpl;\r\n\r\n\t@Before\r\n\tpublic void setup() {\r\n\t\tMockitoAnnotations.initMocks(this);\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void TestprocessCustomerRunSummaries() {\r\n\r\n\t\tfinal RunSummaryServiceImpl runSummaryServiceImpl = new RunSummaryServiceImpl();\r\n\t\tfinal Collection&lt;RunSummary&gt; runs = new ArrayList&lt;&gt;();\r\n\t\truns.add(new RunSummary(&quot;customer1&quot;, 1, Timestamp.valueOf(&quot;2023-05-30 10:00:00&quot;)));\r\n\t\truns.add(new RunSummary(&quot;customer2&quot;, 2, Timestamp.valueOf(&quot;2023-05-30 11:00:00&quot;)));\r\n\t\truns.add(new RunSummary(&quot;customer3&quot;, 3, Timestamp.valueOf(&quot;2023-05-30 12:00:00&quot;)));\r\n\r\n\t\trunSummaryServiceImpl.processCustomerRunSummaries(runs);  //NULL POINTER EXCEPTION HERE\r\n\t}\r\n}\r\n```\r\n\r\n\r\nI tried using @Spy also instead of @Mock,also I tried changing @SpringBootTest with `@ExtendWith` still getting same issue.\r\n\r\nAlso I cant use `when.thenReturn()`,because the method `processCustomerRunSummaries()` is void.\r\n\r\nHere is the ServiceImpl Class\r\n```\r\n    @Service\r\n    public class RunSummaryServiceImpl implements RunSummaryService {\r\n\r\n\t/** LOGGER. */\r\n\tprivate static final Logger LOGGER = LogManager.getLogger(RunSummaryServiceImpl.class.getName());\r\n\r\n\t/** RunSummaryRepository reference. */\r\n\t@Autowired\r\n\tprivate RunSummaryRepository runSummaryRepository;\r\n\r\n\t/** The file repository. */\r\n\t@Autowired\r\n\tprivate FileRepository fileRepository;\r\n\r\n\t\r\n\t@Override\r\n\tpublic void processCustomerRunSummaries(final Collection&lt;RunSummary&gt; runs) {\r\n\t\tLOGGER.debug(&quot;Customer RunSummary list size : {}&quot;, runs.size());\r\n\t\tfinal long start = System.currentTimeMillis();\r\n\t\tfor (final RunSummary run : runs) {\r\n\t// Get RunSummaryEntity for each group. Create/update RunSummaryEntity statics for    each group.\r\n\t\tprocessCustomerRunSummary(run);\r\n\t\t}\r\n\tLOGGER.info(&quot;All {} Customer Run Summaries processing finished in {} milliseconds.&quot;, runs.size(),\r\n\t\t\tSystem.currentTimeMillis() - start);\r\n\t}\r\n\r\n\t\r\n\t@Override\r\n\tpublic void processCustomerRunSummary(final RunSummary run) {\r\n\t\tLOGGER.debug(&quot;Processing Customer Run Summary : {}&quot;, run);\r\n\t\tfinal String customerId = run.getCustomerId();\r\n\t\tfinal Integer solutionNumber = run.getSolutionNumber();\r\n\t\tfinal Timestamp downloadDatetime = run.getDownloadDatetime();\r\n\r\n\t\ttry {\r\n\t//check if RunSummary is present in RunSummaryEntity.if not,create a RunSummaryEntity.If present     then\r\n\t\t\t// append its statistics.\r\n\t\t\tfinal RunSummaryEntity runEntityDb = runSummaryRepository\r\n\t .findByCustomerIdAndSolutionNumberAndDownloadDatetime(customerId, solutionNumber,downloadDatetime);\r\n\r\n\t\t\tif (null == runEntityDb) {\r\n\t\t\tcreateCustomerRunSummary(run, customerId, solutionNumber, downloadDatetime);\r\n\t\t\t} else {\r\n\t\t\t// runEntityDb exist in DB so update it with latest Statistics\r\n\t\tupdateCustomerRunSummary(run, customerId, solutionNumber, downloadDatetime, runEntityDb);\r\n\t\t\t}\r\n\t\t} catch (final DataAccessException daException) {\r\n\t\t// just catch and log DataAccessException so that next RunSummaries should be processed.\r\n\tLOGGER.error(&quot;DataAccessException while processing customer RunSummary: {} , error: {}&quot;, run,\r\n\t\t\t\tdaException);\r\n\t\t}\r\n\t}\r\n```\r\n\r\nAlso adding the  stack trace below\r\n\r\n```\r\n  java.lang.NullPointerException\r\n\tat     com.oversighttech.ocr.service.impl.RunSummaryServiceImpl.processCustomerRunSummary(RunSummaryServiceImpl.java:74)\r\n\tat com.oversighttech.ocr.service.impl.RunSummaryServiceImpl.processCustomerRunSummaries(RunSummaryServiceImpl.java:52)\r\n\tat com.oversighttech.ocr.service.impl.RunSummaryServiceImplTest.TestprocessCustomerRunSummaries(RunSummaryServiceImplTest.java:53)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)\r\n```\r\n\r\n\r\n ","title":"How do I fix a null pointer exception in a JUnit test class when using Mockito?","body":"<p>I am getting null pointer exception while testing.\nHere is the test class.</p>\n<pre><code>@SpringBootTest\npublic class RunSummaryServiceImplTest {\n\n    @Spy   //Tried @Mock too\n    private RunSummaryRepository runSummaryRepository;\n\n    /** The file repository. */\n    @Spy\n    private FileRepository fileRepository;\n\n    @InjectMocks\n    RunSummaryServiceImpl runSummaryServiceImpl;\n\n    @Before\n    public void setup() {\n        MockitoAnnotations.initMocks(this);\n    }\n\n    @Test\n    public void TestprocessCustomerRunSummaries() {\n\n        final RunSummaryServiceImpl runSummaryServiceImpl = new RunSummaryServiceImpl();\n        final Collection&lt;RunSummary&gt; runs = new ArrayList&lt;&gt;();\n        runs.add(new RunSummary(&quot;customer1&quot;, 1, Timestamp.valueOf(&quot;2023-05-30 10:00:00&quot;)));\n        runs.add(new RunSummary(&quot;customer2&quot;, 2, Timestamp.valueOf(&quot;2023-05-30 11:00:00&quot;)));\n        runs.add(new RunSummary(&quot;customer3&quot;, 3, Timestamp.valueOf(&quot;2023-05-30 12:00:00&quot;)));\n\n        runSummaryServiceImpl.processCustomerRunSummaries(runs);  //NULL POINTER EXCEPTION HERE\n    }\n}\n</code></pre>\n<p>I tried using @Spy also instead of @Mock,also I tried changing @SpringBootTest with <code>@ExtendWith</code> still getting same issue.</p>\n<p>Also I cant use <code>when.thenReturn()</code>,because the method <code>processCustomerRunSummaries()</code> is void.</p>\n<p>Here is the ServiceImpl Class</p>\n<pre><code>    @Service\n    public class RunSummaryServiceImpl implements RunSummaryService {\n\n    /** LOGGER. */\n    private static final Logger LOGGER = LogManager.getLogger(RunSummaryServiceImpl.class.getName());\n\n    /** RunSummaryRepository reference. */\n    @Autowired\n    private RunSummaryRepository runSummaryRepository;\n\n    /** The file repository. */\n    @Autowired\n    private FileRepository fileRepository;\n\n    \n    @Override\n    public void processCustomerRunSummaries(final Collection&lt;RunSummary&gt; runs) {\n        LOGGER.debug(&quot;Customer RunSummary list size : {}&quot;, runs.size());\n        final long start = System.currentTimeMillis();\n        for (final RunSummary run : runs) {\n    // Get RunSummaryEntity for each group. Create/update RunSummaryEntity statics for    each group.\n        processCustomerRunSummary(run);\n        }\n    LOGGER.info(&quot;All {} Customer Run Summaries processing finished in {} milliseconds.&quot;, runs.size(),\n            System.currentTimeMillis() - start);\n    }\n\n    \n    @Override\n    public void processCustomerRunSummary(final RunSummary run) {\n        LOGGER.debug(&quot;Processing Customer Run Summary : {}&quot;, run);\n        final String customerId = run.getCustomerId();\n        final Integer solutionNumber = run.getSolutionNumber();\n        final Timestamp downloadDatetime = run.getDownloadDatetime();\n\n        try {\n    //check if RunSummary is present in RunSummaryEntity.if not,create a RunSummaryEntity.If present     then\n            // append its statistics.\n            final RunSummaryEntity runEntityDb = runSummaryRepository\n     .findByCustomerIdAndSolutionNumberAndDownloadDatetime(customerId, solutionNumber,downloadDatetime);\n\n            if (null == runEntityDb) {\n            createCustomerRunSummary(run, customerId, solutionNumber, downloadDatetime);\n            } else {\n            // runEntityDb exist in DB so update it with latest Statistics\n        updateCustomerRunSummary(run, customerId, solutionNumber, downloadDatetime, runEntityDb);\n            }\n        } catch (final DataAccessException daException) {\n        // just catch and log DataAccessException so that next RunSummaries should be processed.\n    LOGGER.error(&quot;DataAccessException while processing customer RunSummary: {} , error: {}&quot;, run,\n                daException);\n        }\n    }\n</code></pre>\n<p>Also adding the  stack trace below</p>\n<pre><code>  java.lang.NullPointerException\n    at     com.oversighttech.ocr.service.impl.RunSummaryServiceImpl.processCustomerRunSummary(RunSummaryServiceImpl.java:74)\n    at com.oversighttech.ocr.service.impl.RunSummaryServiceImpl.processCustomerRunSummaries(RunSummaryServiceImpl.java:52)\n    at com.oversighttech.ocr.service.impl.RunSummaryServiceImplTest.TestprocessCustomerRunSummaries(RunSummaryServiceImplTest.java:53)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)\n</code></pre>\n"},{"tags":["java","date","simpledateformat","hsqldb","date-formatting"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685613981,"post_id":76380429,"comment_id":134685940,"body_markdown":"I definitely recommend that you donât use `SimpleDateFormat`. That is a notorious troublemaker of a class and long outdated. Use `DateTimeFormatter` and other classes from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html). Most of the format pattern letters are the same, not all of them. For example, with `DateTimeFormatter` you can choose between `dd-MMM-uuuu` and `dd-MMM-yyyy`.","body":"I definitely recommend that you donât use <code>SimpleDateFormat</code>. That is a notorious troublemaker of a class and long outdated. Use <code>DateTimeFormatter</code> and other classes from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. Most of the format pattern letters are the same, not all of them. For example, with <code>DateTimeFormatter</code> you can choose between <code>dd-MMM-uuuu</code> and <code>dd-MMM-yyyy</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685614174,"post_id":76380429,"comment_id":134685980,"body_markdown":"I know of no other library method with same functionality. If you know the HSQL format syntax, you should be able to code it yourself. Itâs not clear to me whether you are asking if the method exists or if someone will write it for you? Both seem to be off-topic for Stack Overflow. You can improve your question by spelling out what your search engine turned up and/or what your own attempt at writing the method looks like.","body":"I know of no other library method with same functionality. If you know the HSQL format syntax, you should be able to code it yourself. Itâs not clear to me whether you are asking if the method exists or if someone will write it for you? Both seem to be off-topic for Stack Overflow. You can improve your question by spelling out what your search engine turned up and/or what your own attempt at writing the method looks like."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685617184,"post_id":76380429,"comment_id":134686603,"body_markdown":"Also what do you need this for? Asking because I believe that your JDBC driver can transfer `LocalDate` and other java.time objects to and from the database, and you should avoid passing dates back and forth as strings.","body":"Also what do you need this for? Asking because I believe that your JDBC driver can transfer <code>LocalDate</code> and other java.time objects to and from the database, and you should avoid passing dates back and forth as strings."},{"owner":{"account_id":8049179,"reputation":147,"user_id":6068362,"display_name":"Ragas"},"score":0,"creation_date":1685701637,"post_id":76380429,"comment_id":134701242,"body_markdown":"Thank you for the reply. I need this so I can add any date format as param and get back the SimpleDateFormat for given date format in param.","body":"Thank you for the reply. I need this so I can add any date format as param and get back the SimpleDateFormat for given date format in param."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685711652,"post_id":76380429,"comment_id":134703311,"body_markdown":"It seems that the source code of the method is [on Github](https://github.com/ryenus/hsqldb/blob/master/src/org/hsqldb/HsqlDateTime.java) from line 663. Maybe you can copy-paste it from there??","body":"It seems that the source code of the method is <a href=\"https://github.com/ryenus/hsqldb/blob/master/src/org/hsqldb/HsqlDateTime.java\" rel=\"nofollow noreferrer\">on Github</a> from line 663. Maybe you can copy-paste it from there??"}],"owner":{"account_id":8049179,"reputation":147,"user_id":6068362,"display_name":"Ragas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685614214,"creation_date":1685611378,"question_id":76380429,"body_markdown":"Need alternative for toJavaDatePattern method which is available in `HsqlDateTime` class from `jar - hsqldb-2.3.1.`\r\n\r\nMethod usage - Converts the given format to pattern acceptable by SimpleDateFormat.\r\n\r\nExample:\r\n``` toJavaDatePattern(&quot;DD-MON-YYYY&quot;) ```  - This returns - `dd-MMM-yyyy`\r\n\r\nI need to achieve the same thing and don&#39;t use this method.","title":"Need alternative for toJavaDatePattern method from HsqlDateTime class from jar - hsqldb-2.3.1","body":"<p>Need alternative for toJavaDatePattern method which is available in <code>HsqlDateTime</code> class from <code>jar - hsqldb-2.3.1.</code></p>\n<p>Method usage - Converts the given format to pattern acceptable by SimpleDateFormat.</p>\n<p>Example:\n<code>toJavaDatePattern(&quot;DD-MON-YYYY&quot;)</code>  - This returns - <code>dd-MMM-yyyy</code></p>\n<p>I need to achieve the same thing and don't use this method.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685564742,"post_id":76375900,"comment_id":134679746,"body_markdown":"What is a column in this problem? What are the contents of the list? Just Objects with no methods and no fields?","body":"What is a column in this problem? What are the contents of the list? Just Objects with no methods and no fields?"},{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1685570914,"post_id":76375900,"comment_id":134680677,"body_markdown":"It&#39;s not exactly clear what you are trying to do. what does `file` do? do you have a list and you want to save that list in a plain text? something like that? please edit your post clarifying your problem. Maybe the article [how to ask](https://stackoverflow.com/help/how-to-ask) and [minimal reproducible element](https://stackoverflow.com/help/minimal-reproducible-example) detailing the expected behavior and the error messages that you are getting","body":"It&#39;s not exactly clear what you are trying to do. what does <code>file</code> do? do you have a list and you want to save that list in a plain text? something like that? please edit your post clarifying your problem. Maybe the article <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible element</a> detailing the expected behavior and the error messages that you are getting"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685584205,"post_id":76375900,"comment_id":134681793,"body_markdown":"You can utilize the _[String#join](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#join(java.lang.CharSequence,java.lang.Iterable))_ method to concatenate a list of values.  Or, do you need that specific code translated to Java?","body":"You can utilize the <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#join(java.lang.CharSequence,java.lang.Iterable)\" rel=\"nofollow noreferrer\">String#join</a></i> method to concatenate a list of values.  Or, do you need that specific code translated to Java?"},{"owner":{"account_id":28598361,"reputation":15,"user_id":21895897,"display_name":"Hareni"},"score":0,"creation_date":1685600883,"post_id":76375900,"comment_id":134683321,"body_markdown":"Have updated the question, please take a look","body":"Have updated the question, please take a look"}],"owner":{"account_id":28598361,"reputation":15,"user_id":21895897,"display_name":"Hareni"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685614184,"creation_date":1685553320,"question_id":76375900,"body_markdown":"How to extract each column value from a list of object using the column name dynamically or how to convert it into a array of column values?\r\n\r\nI am trying to replicate the following .NET (C#) code in Java.\r\n\r\n```csharp\r\nStreamWriter file = new StreamWriter(textFileName, true);\r\nforeach (DataRow row in table.Rows)\r\n{\r\n    \r\n  object[] array = row.ItemArray;\r\n  for (i = 0; i &lt; array.Length; i++)\r\n    \r\n  {\r\n    file.Write(array[i].ToString());   \r\n    if (i &lt; array.Length - 1)\r\n       file.Write(&quot;,&quot;);                                 \r\n  }                    \r\n    \r\n}\r\n```\r\nIn the above code - &#39;table&#39; is a data table, I&#39;m iterating over the rows and storing each row in an array and writing the contents to the text file one by one.\r\n\r\nLikewise, in java in place of the dataTable used in .net, I have used a List&lt;?&gt; (List of UserDetails model class)\r\n\r\n```java\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class UserDetails {\r\n    public String Id;\r\n    public String firstName;\r\n    public String lastName;\r\n    public String department;\r\n}\r\n```\r\n\r\n\r\n```\r\nList&lt;UserDetails&gt; userList = getDate();\r\n\r\npublic List&lt;UserDetails&gt; getData(){\r\nDataSource dataSource = jdbcTemplate.getDataSource();\r\n        if (dataSource != null) {\r\n            try (Connection con = dataSource.getConnection()) {\r\n                CallableStatement cs = this.getCallableStatement(&quot;getUsersSp&quot;, con);\r\n\r\n                int c = 0;\r\n                while(isResultSet){\r\n\r\n                    ResultSet resultSet = cs.getResultSet();\r\n                    while (resultSet.next()) {\r\n                    UserDeatils u = new UserDeatils();\r\n                    u.setId(resultSet.getString(&quot;ID&quot;));\r\n                    u.setfirstName(resultSet.getString(&quot;FirstName&quot;));\r\n                    u.setlastName(resultSet.getString(&quot;LastName&quot;));\r\n                 u.setdeapartment(resultSet.getString(&quot;Department&quot;));\r\n\r\n                   userList.add(u);\r\n}}}}\r\n\r\n}\r\n```\r\n\r\nI want traverse through the list, get each userDetail and put them into a text file &#39;,&#39; seperated\r\n\r\n```\r\nFileWriter fos = new FileWriter(&quot;D:/data/file.txt&quot;);\r\n//String Columns = [&quot;Id&quot;,&quot;firstName&quot;,&quot;lastName&quot;,&quot;department&quot;]\r\nfor(UserDetails value : batchList){  \r\n      /// I want to replicate  object[] array = row.ItemArray; in java here \r\n\r\n/// want to avaid value.getId....\r\n      fos.write();                      \r\n}\r\n\r\n```\r\n\r\nI am looking for similar implementation to the C# code given (or) an alternative way to achieve it instead of manually using the get methods for all variables present in a class, it would be better to get them dynamically to reduce number of lines in a code. Is there a way to do this? \r\n","title":"How to dynamically get the class variables in Java?","body":"<p>How to extract each column value from a list of object using the column name dynamically or how to convert it into a array of column values?</p>\n<p>I am trying to replicate the following .NET (C#) code in Java.</p>\n<pre class=\"lang-cs prettyprint-override\"><code>StreamWriter file = new StreamWriter(textFileName, true);\nforeach (DataRow row in table.Rows)\n{\n    \n  object[] array = row.ItemArray;\n  for (i = 0; i &lt; array.Length; i++)\n    \n  {\n    file.Write(array[i].ToString());   \n    if (i &lt; array.Length - 1)\n       file.Write(&quot;,&quot;);                                 \n  }                    \n    \n}\n</code></pre>\n<p>In the above code - 'table' is a data table, I'm iterating over the rows and storing each row in an array and writing the contents to the text file one by one.</p>\n<p>Likewise, in java in place of the dataTable used in .net, I have used a List&lt;?&gt; (List of UserDetails model class)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\npublic class UserDetails {\n    public String Id;\n    public String firstName;\n    public String lastName;\n    public String department;\n}\n</code></pre>\n<pre><code>List&lt;UserDetails&gt; userList = getDate();\n\npublic List&lt;UserDetails&gt; getData(){\nDataSource dataSource = jdbcTemplate.getDataSource();\n        if (dataSource != null) {\n            try (Connection con = dataSource.getConnection()) {\n                CallableStatement cs = this.getCallableStatement(&quot;getUsersSp&quot;, con);\n\n                int c = 0;\n                while(isResultSet){\n\n                    ResultSet resultSet = cs.getResultSet();\n                    while (resultSet.next()) {\n                    UserDeatils u = new UserDeatils();\n                    u.setId(resultSet.getString(&quot;ID&quot;));\n                    u.setfirstName(resultSet.getString(&quot;FirstName&quot;));\n                    u.setlastName(resultSet.getString(&quot;LastName&quot;));\n                 u.setdeapartment(resultSet.getString(&quot;Department&quot;));\n\n                   userList.add(u);\n}}}}\n\n}\n</code></pre>\n<p>I want traverse through the list, get each userDetail and put them into a text file ',' seperated</p>\n<pre><code>FileWriter fos = new FileWriter(&quot;D:/data/file.txt&quot;);\n//String Columns = [&quot;Id&quot;,&quot;firstName&quot;,&quot;lastName&quot;,&quot;department&quot;]\nfor(UserDetails value : batchList){  \n      /// I want to replicate  object[] array = row.ItemArray; in java here \n\n/// want to avaid value.getId....\n      fos.write();                      \n}\n\n</code></pre>\n<p>I am looking for similar implementation to the C# code given (or) an alternative way to achieve it instead of manually using the get methods for all variables present in a class, it would be better to get them dynamically to reduce number of lines in a code. Is there a way to do this?</p>\n"},{"tags":["java","eclipse","eclipse-plugin","eclipse-rcp","rational-team-concert"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1685429312,"post_id":76361859,"comment_id":134654251,"body_markdown":"Note the plugin_customization.ini sets default values. It does **not** update any prefs file.","body":"Note the plugin_customization.ini sets default values. It does <b>not</b> update any prefs file."},{"owner":{"account_id":28668249,"reputation":1,"user_id":21951808,"display_name":"Saravana"},"score":0,"creation_date":1685600286,"post_id":76361859,"comment_id":134683228,"body_markdown":"Please correct me if i am wrong, because in my one of old workspace whenever i add above key and value into plugin_customization.ini it is getting updated into  com.ibm.team.process.rcp.ui.prefs file.","body":"Please correct me if i am wrong, because in my one of old workspace whenever i add above key and value into plugin_customization.ini it is getting updated into  com.ibm.team.process.rcp.ui.prefs file."},{"owner":{"account_id":28668249,"reputation":1,"user_id":21951808,"display_name":"Saravana"},"score":0,"creation_date":1685600418,"post_id":76361859,"comment_id":134683246,"body_markdown":"**Note the plugin_customization.ini sets default values** - but the value should be stored somewhere right? or will directly read from plugin_customization.ini?","body":"<b>Note the plugin_customization.ini sets default values</b> - but the value should be stored somewhere right? or will directly read from plugin_customization.ini?"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1685600873,"post_id":76361859,"comment_id":134683320,"body_markdown":"The plugin_customization.ini is read during startup and values are kept in memory, they are not written out. If you open one of the preference pages the page may end up writing the value to the prefs file.","body":"The plugin_customization.ini is read during startup and values are kept in memory, they are not written out. If you open one of the preference pages the page may end up writing the value to the prefs file."}],"owner":{"account_id":28668249,"reputation":1,"user_id":21951808,"display_name":"Saravana"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685614013,"creation_date":1685425027,"question_id":76361859,"body_markdown":"I am using existing `org.eclipse.ui.ide.workbench` as an application in .product. One using 3.x Compatibility Layer (3.x API) on Eclipse 4.x. My platform is 4.16.\r\n\r\n`plugin_customization.ini` file is added as property value of `preferenceCustomization` under `org.eclipse.core.runtime.products` extension point in application plugin\r\n\r\nI have add below lines into `plugin_customization.ini` file but it is not updating `com.ibm.team.process.rcp.ui.prefs` file\r\n```\r\ncom.ibm.team.process.rcp.ui/com.ibm.team.process.rcp.ui.RepositoryCreationPart/dialog/uri/history0/value=&lt;URL&gt;\r\ncom.ibm.team.process.rcp.ui/com.ibm.team.process.rcp.ui.RepositoryCreationPart/dialog/uri/history1/value=&lt;URL&gt;\r\n```\r\nCreate a jazz connection:\r\n\r\n[![Create a jazz connection][1]][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y2ZP3.png","title":"How to add url&#39;s by deafult in create a jazz repository connection under location URI in eclipse rcp application?","body":"<p>I am using existing <code>org.eclipse.ui.ide.workbench</code> as an application in .product. One using 3.x Compatibility Layer (3.x API) on Eclipse 4.x. My platform is 4.16.</p>\n<p><code>plugin_customization.ini</code> file is added as property value of <code>preferenceCustomization</code> under <code>org.eclipse.core.runtime.products</code> extension point in application plugin</p>\n<p>I have add below lines into <code>plugin_customization.ini</code> file but it is not updating <code>com.ibm.team.process.rcp.ui.prefs</code> file</p>\n<pre><code>com.ibm.team.process.rcp.ui/com.ibm.team.process.rcp.ui.RepositoryCreationPart/dialog/uri/history0/value=&lt;URL&gt;\ncom.ibm.team.process.rcp.ui/com.ibm.team.process.rcp.ui.RepositoryCreationPart/dialog/uri/history1/value=&lt;URL&gt;\n</code></pre>\n<p>Create a jazz connection:</p>\n<p><a href=\"https://i.stack.imgur.com/Y2ZP3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y2ZP3.png\" alt=\"Create a jazz connection\" /></a></p>\n"},{"tags":["java","sbt"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1685602017,"post_id":76379200,"comment_id":134683504,"body_markdown":"Is the error message full? it seems there is something missing in the stack trace~","body":"Is the error message full? it seems there is something missing in the stack trace~"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1685602999,"post_id":76379200,"comment_id":134683663,"body_markdown":"Unsupported Operation usually means that it isn&#39;t implemented in that class, and calling that method is hardcoded to throw that Exception. You may need to find the correct class of which to create an instance to call that method on","body":"Unsupported Operation usually means that it isn&#39;t implemented in that class, and calling that method is hardcoded to throw that Exception. You may need to find the correct class of which to create an instance to call that method on"},{"owner":{"account_id":13579259,"reputation":35,"user_id":9795757,"display_name":"Shiva Reddy"},"score":0,"creation_date":1685616304,"post_id":76379200,"comment_id":134686415,"body_markdown":"@FarkhodAbdukodirov I have intentionally put only the top part of the stack trace so that the question is short. Let me know if I need to provide the full stack trace.","body":"@FarkhodAbdukodirov I have intentionally put only the top part of the stack trace so that the question is short. Let me know if I need to provide the full stack trace."}],"owner":{"account_id":13579259,"reputation":35,"user_id":9795757,"display_name":"Shiva Reddy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685613994,"creation_date":1685600875,"question_id":76379200,"body_markdown":"I am getting the following error when I try mvn clean install on a play project:\r\n```\r\njava.lang.UnsupportedOperationException: Position.start on class scala.reflect.internal.util.OffsetPosition\r\n\tat scala.reflect.internal.util.Position.start(Position.scala:114)\r\n\tat sbt.internals.parser.SbtParser.sbt$internals$parser$SbtParser$$convertStatement$1(SbtParser.scala:148)\r\n\tat sbt.internals.parser.SbtParser$$anonfun$4.apply(SbtParser.scala:153)\r\n\tat sbt.internals.parser.SbtParser$$anonfun$4.apply(SbtParser.scala:153)\r\n\tat scala.collection.TraversableLike$$anonfun$flatMap$1.apply(TraversableLike.scala:251)\r\n\tat scala.collection.TraversableLike$$anonfun$flatMap$1.apply(TraversableLike.scala:251)\r\n\tat scala.collection.immutable.List.foreach(List.scala:318)\r\n\tat scala.collection.TraversableLike$class.flatMap(TraversableLike.scala:251)\r\n\tat scala.collection.AbstractTraversable.flatMap(Traversable.scala:105)\r\n\tat sbt.internals.parser.SbtParser.splitExpressions(SbtParser.scala:153)\r\n\tat sbt.internals.parser.SbtParser.&lt;init&gt;(SbtParser.scala:58)\r\n\tat sbt.EvaluateConfigurations$.splitExpressions(EvaluateConfigurations.scala:226)\r\n\tat sbt.EvaluateConfigurations$.parseConfiguration(EvaluateConfigurations.scala:69)\r\n\tat sbt.EvaluateConfigurations$.evaluateSbtFile(EvaluateConfigurations.scala:106)\r\n\tat sbt.Load$.sbt$Load$$loadSettingsFile$1(Load.scala:789)\r\n...\r\n```\r\nMy sbt version is 0.13.18.\r\nHere&#39;s how my ~/.sbt/repositories file looks like:\r\n```\r\nâ¯ cat ~/.sbt/repositories\r\n[repositories]\r\n  local\r\n  sbt-releases-repo: https://repo.typesafe.com/typesafe/ivy-releases/, [organization]/[module]/(scala_[scalaVersion]/)(sbt_[sbtVersion]/)[revision]/[type]s/[artifact](-[classifier]).[ext]\r\n  sbt-plugins-repo: https://repo.scala-sbt.org/scalasbt/sbt-plugin-releases/, [organization]/[module]/(scala_[scalaVersion]/)(sbt_[sbtVersion]/)[revision]/[type]s/[artifact](-[classifier]).[ext]\r\n  maven-central: https://repo1.maven.org/maven2/\r\n```\r\nAnyone knows how to resolve the issue?","title":"java.lang.UnsupportedOperationException error in mvn clean for a play project","body":"<p>I am getting the following error when I try mvn clean install on a play project:</p>\n<pre><code>java.lang.UnsupportedOperationException: Position.start on class scala.reflect.internal.util.OffsetPosition\n    at scala.reflect.internal.util.Position.start(Position.scala:114)\n    at sbt.internals.parser.SbtParser.sbt$internals$parser$SbtParser$$convertStatement$1(SbtParser.scala:148)\n    at sbt.internals.parser.SbtParser$$anonfun$4.apply(SbtParser.scala:153)\n    at sbt.internals.parser.SbtParser$$anonfun$4.apply(SbtParser.scala:153)\n    at scala.collection.TraversableLike$$anonfun$flatMap$1.apply(TraversableLike.scala:251)\n    at scala.collection.TraversableLike$$anonfun$flatMap$1.apply(TraversableLike.scala:251)\n    at scala.collection.immutable.List.foreach(List.scala:318)\n    at scala.collection.TraversableLike$class.flatMap(TraversableLike.scala:251)\n    at scala.collection.AbstractTraversable.flatMap(Traversable.scala:105)\n    at sbt.internals.parser.SbtParser.splitExpressions(SbtParser.scala:153)\n    at sbt.internals.parser.SbtParser.&lt;init&gt;(SbtParser.scala:58)\n    at sbt.EvaluateConfigurations$.splitExpressions(EvaluateConfigurations.scala:226)\n    at sbt.EvaluateConfigurations$.parseConfiguration(EvaluateConfigurations.scala:69)\n    at sbt.EvaluateConfigurations$.evaluateSbtFile(EvaluateConfigurations.scala:106)\n    at sbt.Load$.sbt$Load$$loadSettingsFile$1(Load.scala:789)\n...\n</code></pre>\n<p>My sbt version is 0.13.18.\nHere's how my ~/.sbt/repositories file looks like:</p>\n<pre><code>â¯ cat ~/.sbt/repositories\n[repositories]\n  local\n  sbt-releases-repo: https://repo.typesafe.com/typesafe/ivy-releases/, [organization]/[module]/(scala_[scalaVersion]/)(sbt_[sbtVersion]/)[revision]/[type]s/[artifact](-[classifier]).[ext]\n  sbt-plugins-repo: https://repo.scala-sbt.org/scalasbt/sbt-plugin-releases/, [organization]/[module]/(scala_[scalaVersion]/)(sbt_[sbtVersion]/)[revision]/[type]s/[artifact](-[classifier]).[ext]\n  maven-central: https://repo1.maven.org/maven2/\n</code></pre>\n<p>Anyone knows how to resolve the issue?</p>\n"},{"tags":["java","xml","xslt","xsl-fo","apache-fop"],"comments":[{"owner":{"account_id":2905849,"reputation":8813,"user_id":2491227,"accept_rate":33,"display_name":"Kevin Brown"},"score":2,"creation_date":1685638226,"post_id":76379148,"comment_id":134691897,"body_markdown":"I would post the current XSL so we can help you modify it. I see no reason for a two pass approach in the sample. One should be able to match when text contains the carret and add the appropriate footnote then.","body":"I would post the current XSL so we can help you modify it. I see no reason for a two pass approach in the sample. One should be able to match when text contains the carret and add the appropriate footnote then."},{"owner":{"account_id":6268914,"reputation":742,"user_id":4873687,"accept_rate":40,"display_name":"stackMan10"},"score":0,"creation_date":1685686605,"post_id":76379148,"comment_id":134698327,"body_markdown":"@KevinBrown the reason I thought two pass approach was needed because different footnotes should be displayed on different pages. is something like this possible in the first pass itself?  I&#39;ll post the xslfo in some time","body":"@KevinBrown the reason I thought two pass approach was needed because different footnotes should be displayed on different pages. is something like this possible in the first pass itself?  I&#39;ll post the xslfo in some time"},{"owner":{"account_id":2905849,"reputation":8813,"user_id":2491227,"accept_rate":33,"display_name":"Kevin Brown"},"score":1,"creation_date":1685724800,"post_id":76379148,"comment_id":134706263,"body_markdown":"Footnote is a common FO element and will appear on the page in which it is referenced","body":"Footnote is a common FO element and will appear on the page in which it is referenced"}],"answers":[{"tags":[],"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685613674,"creation_date":1685613674,"answer_id":76380749,"question_id":76379148,"body_markdown":"Obviously one way you could consider is to add the necessary XSLT code (e.g. templates) to process/generate the footnotes to your existing code and existing transformation (step); if you want several transformation steps then XSLT 1.0 allows that using variables and modes with the help of an extension function (usually exsl:node-set) to transform the variable values being result tree fragments back to node-sets for the next processing step or you can easily use XSLT 2 or 3 these days with Fop processing and Java by putting a recent version of Saxon HE (e.g. 10, 11, 12) on the classpath: in XSLT 2/3 you can have intermediary results of type node or node sequence, the (kind of) artificial type &quot;result tree fragment&quot; is gone and that way you would use e.g.\r\n\r\n    &lt;xsl:import href=&quot;first-sheet.xsl&quot;/&gt;\r\n    \r\n    &lt;xsl:variable name=&quot;first-sheet-result&quot;&gt;\r\n      &lt;xsl:apply-imports/&gt;\r\n    &lt;/xsl:variable&gt;\r\n    \r\n    &lt;xsl:template match=&quot;/&quot;&gt;\r\n      &lt;xsl:apply-templates select=&quot;$first-sheet-result/node()&quot; mode=&quot;step2&quot;/&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;xsl:mode name=&quot;step&quot; on-no-match=&quot;shallow-copy&quot;/&gt;\r\n    \r\n    &lt;!-- now make sure you have templates generating footnotes, might use a third mode, depending on the input (i.e. your intermediary FO) and the document structure) --&gt;\r\n\r\n","title":"How to post process an xsl fo to add footnotes on second pass based on the page numbers?","body":"<p>Obviously one way you could consider is to add the necessary XSLT code (e.g. templates) to process/generate the footnotes to your existing code and existing transformation (step); if you want several transformation steps then XSLT 1.0 allows that using variables and modes with the help of an extension function (usually exsl:node-set) to transform the variable values being result tree fragments back to node-sets for the next processing step or you can easily use XSLT 2 or 3 these days with Fop processing and Java by putting a recent version of Saxon HE (e.g. 10, 11, 12) on the classpath: in XSLT 2/3 you can have intermediary results of type node or node sequence, the (kind of) artificial type &quot;result tree fragment&quot; is gone and that way you would use e.g.</p>\n<pre><code>&lt;xsl:import href=&quot;first-sheet.xsl&quot;/&gt;\n\n&lt;xsl:variable name=&quot;first-sheet-result&quot;&gt;\n  &lt;xsl:apply-imports/&gt;\n&lt;/xsl:variable&gt;\n\n&lt;xsl:template match=&quot;/&quot;&gt;\n  &lt;xsl:apply-templates select=&quot;$first-sheet-result/node()&quot; mode=&quot;step2&quot;/&gt;\n&lt;/xsl:template&gt;\n\n&lt;xsl:mode name=&quot;step&quot; on-no-match=&quot;shallow-copy&quot;/&gt;\n\n&lt;!-- now make sure you have templates generating footnotes, might use a third mode, depending on the input (i.e. your intermediary FO) and the document structure) --&gt;\n</code></pre>\n"}],"owner":{"account_id":6268914,"reputation":742,"user_id":4873687,"accept_rate":40,"display_name":"stackMan10"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685613674,"creation_date":1685600249,"question_id":76379148,"body_markdown":"I have an xml that I recive from the UI, that I use along with an xslfo to transform it to a pdf. \r\n\r\n    &lt;tabs&gt;\r\n    \t&lt;auth&gt;\r\n    \t\t&lt;appointedBy&gt;Test Person is a good SRC^1 boy&lt;/appointedBy&gt;\r\n    \t\t&lt;country&gt;Singapore&lt;/country&gt;\r\n    \t\t&lt;name&gt;NMRC&lt;/name&gt;\r\n    \t&lt;/auth&gt;\r\n    \r\n    \t&lt;meet&gt;\r\n    \t\t&lt;minutes&gt;These^2 are the minues and things like FFD^3 were discussed &lt;/minutes&gt;\r\n    \t\t&lt;frequency&gt;2&lt;/frequency&gt;\r\n    \t\t&lt;responsibilities&gt;&lt;/responsibilities&gt;\r\n    \t&lt;/meet&gt;\r\n    \r\n    \t\r\n    \t&lt;footnotes&gt;\r\n    \t\t&lt;f1&gt;SRC is a sales representative council&lt;/f1&gt;\r\n    \t\t&lt;f2&gt;PWF is the Prduct Workflow&lt;/f2&gt;\r\n    \t\t&lt;f3&gt;Borad of Reroad development&lt;/f4&gt;\r\n    \t&lt;/footnotes&gt;\r\n    \r\n    &lt;/tabs&gt;\r\n\r\nthis is the xml, a corresponding xsl fo is present that simply displays this data in a table in a key value format. \r\nAfter the first transformation is over, I generate an intermediate xsl fo, that represents the pdf, but in the fo format. I want to do a second pass on this intermediate xsl. so that I can add footnotes to the pdf based on the special characters present in the text. The footnotes should appear in the corresponding pages where that character appears. how do I achieve this? where ever ^1 is encountered in the intermediate, the pdf should have //footnotes/f1 in the footer and so on. \r\nI have found no information on how to do this. \r\nI have a couple of questions\r\n\r\n\r\n0. Is this sort of second pass even possible with apache fop ? \r\nto add footnotes to corresponding pages based on where certain texts appear in the pdf.  \r\n1. what would the second pass xslt look like ? Because I want the original pdf to look the same, This second pass should just add footnotes to the original xsl fo. \r\n2. During the second transformation, how do I send the xml data that actually has the corresponding footnotes? because in the transformer I can send the intermediate xsl fo and the new xsl fo to add the footnotes. I don&#39;t understand where the xml data can be sent. \r\n\r\n \r\n\r\n ","title":"How to post process an xsl fo to add footnotes on second pass based on the page numbers?","body":"<p>I have an xml that I recive from the UI, that I use along with an xslfo to transform it to a pdf.</p>\n<pre><code>&lt;tabs&gt;\n    &lt;auth&gt;\n        &lt;appointedBy&gt;Test Person is a good SRC^1 boy&lt;/appointedBy&gt;\n        &lt;country&gt;Singapore&lt;/country&gt;\n        &lt;name&gt;NMRC&lt;/name&gt;\n    &lt;/auth&gt;\n\n    &lt;meet&gt;\n        &lt;minutes&gt;These^2 are the minues and things like FFD^3 were discussed &lt;/minutes&gt;\n        &lt;frequency&gt;2&lt;/frequency&gt;\n        &lt;responsibilities&gt;&lt;/responsibilities&gt;\n    &lt;/meet&gt;\n\n    \n    &lt;footnotes&gt;\n        &lt;f1&gt;SRC is a sales representative council&lt;/f1&gt;\n        &lt;f2&gt;PWF is the Prduct Workflow&lt;/f2&gt;\n        &lt;f3&gt;Borad of Reroad development&lt;/f4&gt;\n    &lt;/footnotes&gt;\n\n&lt;/tabs&gt;\n</code></pre>\n<p>this is the xml, a corresponding xsl fo is present that simply displays this data in a table in a key value format.\nAfter the first transformation is over, I generate an intermediate xsl fo, that represents the pdf, but in the fo format. I want to do a second pass on this intermediate xsl. so that I can add footnotes to the pdf based on the special characters present in the text. The footnotes should appear in the corresponding pages where that character appears. how do I achieve this? where ever ^1 is encountered in the intermediate, the pdf should have //footnotes/f1 in the footer and so on.\nI have found no information on how to do this.\nI have a couple of questions</p>\n<ol start=\"0\">\n<li>Is this sort of second pass even possible with apache fop ?\nto add footnotes to corresponding pages based on where certain texts appear in the pdf.</li>\n<li>what would the second pass xslt look like ? Because I want the original pdf to look the same, This second pass should just add footnotes to the original xsl fo.</li>\n<li>During the second transformation, how do I send the xml data that actually has the corresponding footnotes? because in the transformer I can send the intermediate xsl fo and the new xsl fo to add the footnotes. I don't understand where the xml data can be sent.</li>\n</ol>\n"},{"tags":["java","android","onpause","countdowntimer"],"comments":[{"owner":{"account_id":71498,"reputation":2116,"user_id":206809,"accept_rate":57,"display_name":"Vishal Khakhkhar"},"score":0,"creation_date":1322545676,"post_id":8306374,"comment_id":10235337,"body_markdown":"This will surelyhelp you\r\n\r\nhttp://stackoverflow.com/questions/3510433/countdown-timer-required-on-android","body":"This will surelyhelp you    <a href=\"http://stackoverflow.com/questions/3510433/countdown-timer-required-on-android\" title=\"countdown timer required on android\">stackoverflow.com/questions/3510433/&hellip;</a>"},{"owner":{"account_id":376937,"reputation":21919,"user_id":863257,"accept_rate":93,"display_name":"Nikunj Patel"},"score":0,"creation_date":1322545706,"post_id":8306374,"comment_id":10235344,"body_markdown":"http://developer.android.com/reference/android/os/CountDownTimer.html","body":"<a href=\"http://developer.android.com/reference/android/os/CountDownTimer.html\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/os/CountDownTimer.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":1068886,"reputation":651,"user_id":1068638,"accept_rate":72,"display_name":"Mineko"},"score":0,"creation_date":1322546046,"post_id":8306374,"comment_id":10235404,"body_markdown":"do I need to use crono for pause and resume?","body":"do I need to use crono for pause and resume?"},{"owner":{"account_id":4275999,"reputation":34098,"user_id":3496570,"accept_rate":39,"display_name":"Zar E Ahmer"},"score":0,"creation_date":1421245199,"post_id":8306374,"comment_id":44285326,"body_markdown":"you must see http://stackoverflow.com/a/8858608/3496570","body":"you must see <a href=\"http://stackoverflow.com/a/8858608/3496570\">stackoverflow.com/a/8858608/3496570</a>"}],"answers":[{"comments":[{"owner":{"account_id":1068886,"reputation":651,"user_id":1068638,"accept_rate":72,"display_name":"Mineko"},"score":0,"creation_date":1322545850,"post_id":8306456,"comment_id":10235368,"body_markdown":"Hmm do I need to use savedInstanceState to store the time remaining? or I would use this: ///long timeLeft = millisUntilFinished / 1000; from my code? thanks","body":"Hmm do I need to use savedInstanceState to store the time remaining? or I would use this: ///long timeLeft = millisUntilFinished / 1000; from my code? thanks"},{"owner":{"account_id":26457,"reputation":33684,"user_id":68805,"display_name":"Reno"},"score":0,"creation_date":1322546500,"post_id":8306456,"comment_id":10235479,"body_markdown":"If you know that your Activity containing the timer is [destroyed and recreated, then yes you have to store the the timer value in `savedInstanceState`](http://stackoverflow.com/a/151940/68805)","body":"If you know that your Activity containing the timer is <a href=\"http://stackoverflow.com/a/151940/68805\">destroyed and recreated, then yes you have to store the the timer value in <code>savedInstanceState</code></a>"},{"owner":{"account_id":1068886,"reputation":651,"user_id":1068638,"accept_rate":72,"display_name":"Mineko"},"score":0,"creation_date":1322547460,"post_id":8306456,"comment_id":10235680,"body_markdown":"Sorry Im new in android programming. How would I store the timer value using savedInstanceState?","body":"Sorry Im new in android programming. How would I store the timer value using savedInstanceState?"},{"owner":{"account_id":26457,"reputation":33684,"user_id":68805,"display_name":"Reno"},"score":0,"creation_date":1322547767,"post_id":8306456,"comment_id":10235740,"body_markdown":"Click on the link in my previous comment and see Reto&#39;s answer","body":"Click on the link in my previous comment and see Reto&#39;s answer"},{"owner":{"account_id":1068886,"reputation":651,"user_id":1068638,"accept_rate":72,"display_name":"Mineko"},"score":0,"creation_date":1322554807,"post_id":8306456,"comment_id":10237095,"body_markdown":"I cannot apply it on my own. Can you teach me how to do it? or anyone who could teach me how to do it? Thanks!","body":"I cannot apply it on my own. Can you teach me how to do it? or anyone who could teach me how to do it? Thanks!"}],"tags":[],"owner":{"account_id":26457,"reputation":33684,"user_id":68805,"display_name":"Reno"},"comment_count":5,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1322545681,"creation_date":1322545681,"answer_id":8306456,"question_id":8306374,"body_markdown":"Well there are no API to pause or resume it. What you should do is `cancel()` the timer and store the time remaining in a variable. When the resume button is hit again, restart the timer with the value from the variable. \r\n\r\n--- \r\n\r\nYou know [Chronometers][1] may be of interest to you. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4152569/how-to-change-format-of-chronometer","title":"Android: How to pause and resume a Count Down Timer?","body":"<p>Well there are no API to pause or resume it. What you should do is <code>cancel()</code> the timer and store the time remaining in a variable. When the resume button is hit again, restart the timer with the value from the variable. </p>\n\n<hr>\n\n<p>You know <a href=\"https://stackoverflow.com/questions/4152569/how-to-change-format-of-chronometer\">Chronometers</a> may be of interest to you. </p>\n"},{"comments":[{"owner":{"account_id":1072639,"reputation":4508,"user_id":1071545,"accept_rate":60,"display_name":"Ahmad Arslan"},"score":0,"creation_date":1404974096,"post_id":9802426,"comment_id":38246443,"body_markdown":"not found :@ where is the link why its being accepted","body":"not found :@ where is the link why its being accepted"},{"owner":{"account_id":1148870,"reputation":967,"user_id":1131019,"accept_rate":33,"display_name":"hexin"},"score":0,"creation_date":1404981500,"post_id":9802426,"comment_id":38250267,"body_markdown":"as you can see the link was added some time ago and could expried","body":"as you can see the link was added some time ago and could expried"},{"owner":{"account_id":1072639,"reputation":4508,"user_id":1071545,"accept_rate":60,"display_name":"Ahmad Arslan"},"score":0,"creation_date":1404984001,"post_id":9802426,"comment_id":38251665,"body_markdown":"provide some other link or you can paste your code.","body":"provide some other link or you can paste your code."},{"owner":{"account_id":1148870,"reputation":967,"user_id":1131019,"accept_rate":33,"display_name":"hexin"},"score":0,"creation_date":1404985550,"post_id":9802426,"comment_id":38252725,"body_markdown":"http://example.javamonday.com/Open-Source/Android/Timer/multitimer-android/com/cycleindex/multitimer/CountDownTimerWithPause.java.htm","body":"<a href=\"http://example.javamonday.com/Open-Source/Android/Timer/multitimer-android/com/cycleindex/multitimer/CountDownTimerWithPause.java.htm\" rel=\"nofollow noreferrer\">example.javamonday.com/Open-Source/Android/Timer/&hellip;</a>"},{"owner":{"account_id":1164328,"reputation":519,"user_id":1143263,"accept_rate":50,"display_name":"matteolel"},"score":0,"creation_date":1445538100,"post_id":9802426,"comment_id":54375956,"body_markdown":"@RishabhSrivastava you can use `create()`","body":"@RishabhSrivastava you can use <code>create()</code>"},{"owner":{"account_id":4232985,"reputation":2632,"user_id":3464919,"display_name":"Codelaby"},"score":1,"creation_date":1459590797,"post_id":9802426,"comment_id":60361795,"body_markdown":"Would be helpful , an example of how to use this class.","body":"Would be helpful , an example of how to use this class."},{"owner":{"account_id":6806312,"reputation":2057,"user_id":5237917,"accept_rate":54,"display_name":"Kuls"},"score":0,"creation_date":1486802648,"post_id":9802426,"comment_id":71511791,"body_markdown":"Working charm. Thank you so much. Much appreciated","body":"Working charm. Thank you so much. Much appreciated"},{"owner":{"account_id":9427868,"reputation":692,"user_id":7012285,"accept_rate":80,"display_name":"Gowsik Raja"},"score":0,"creation_date":1527775938,"post_id":9802426,"comment_id":88262745,"body_markdown":"how to stop timer ?  `cancel();`  is not working for me","body":"how to stop timer ?  <code>cancel();</code>  is not working for me"},{"owner":{"account_id":4969510,"reputation":135,"user_id":3997799,"display_name":"Quentin Rufin"},"score":0,"creation_date":1597134638,"post_id":9802426,"comment_id":112027457,"body_markdown":"I got this error message: &quot;This Handler class should be static or leaks might occur&quot;","body":"I got this error message: &quot;This Handler class should be static or leaks might occur&quot;"},{"owner":{"account_id":1374590,"reputation":3335,"user_id":1308850,"accept_rate":37,"display_name":"FractalBob"},"score":0,"creation_date":1617857608,"post_id":9802426,"comment_id":118426242,"body_markdown":"@QuentinRufin It&#39;s actually a warning, but an important one: use of Handler is prone to memory leaks. To avoid them, be sure to clear the Hander of all messages when stopping the calling activity with Handler.removeCallbacksAndMessages(null).","body":"@QuentinRufin It&#39;s actually a warning, but an important one: use of Handler is prone to memory leaks. To avoid them, be sure to clear the Hander of all messages when stopping the calling activity with Handler.removeCallbacksAndMessages(null)."}],"tags":[],"owner":{"account_id":1148870,"reputation":967,"user_id":1131019,"accept_rate":33,"display_name":"hexin"},"comment_count":10,"down_vote_count":2,"up_vote_count":37,"is_accepted":true,"score":35,"last_activity_date":1477141499,"creation_date":1332324784,"answer_id":9802426,"question_id":8306374,"body_markdown":"    /*\r\n     * Copyright (C) 2010 Andrew Gainer\r\n     *\r\n     * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\r\n     * you may not use this file except in compliance with the License.\r\n     * You may obtain a copy of the License at\r\n     *\r\n     *      http://www.apache.org/licenses/LICENSE-2.0\r\n     *\r\n     * Unless required by applicable law or agreed to in writing, software\r\n     * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n     * See the License for the specific language governing permissions and\r\n     * limitations under the License.\r\n     */\r\n    \r\n    // Adapted from Android&#39;s CountDownTimer class\r\n    \r\n    package com.cycleindex.multitimer;\r\n    \r\n    import android.os.Handler;\r\n    import android.os.Message;\r\n    import android.os.SystemClock;\r\n    \r\n    /**\r\n     * Schedule a countdown until a time in the future, with\r\n     * regular notifications on intervals along the way.\r\n     *\r\n      * The calls to {@link #onTick(long)} are synchronized to this object so that\r\n     * one call to {@link #onTick(long)} won&#39;t ever occur before the previous\r\n     * callback is complete.  This is only relevant when the implementation of\r\n     * {@link #onTick(long)} takes an amount of time to execute that is significant\r\n     * compared to the countdown interval.\r\n     */\r\n    public abstract class CountDownTimerWithPause {\r\n    \r\n        /**\r\n         * Millis since boot when alarm should stop.\r\n         */\r\n      private long mStopTimeInFuture;\r\n    \r\n      /**\r\n       * Real time remaining until timer completes\r\n       */\r\n        private long mMillisInFuture;\r\n        \r\n        /**\r\n         * Total time on timer at start\r\n         */\r\n        private final long mTotalCountdown;\r\n        \r\n        /**\r\n         * The interval in millis that the user receives callbacks\r\n         */\r\n        private final long mCountdownInterval;\r\n        \r\n        /**\r\n         * The time remaining on the timer when it was paused, if it is currently paused; 0 otherwise.\r\n         */\r\n        private long mPauseTimeRemaining;\r\n        \r\n        /**\r\n         * True if timer was started running, false if not.\r\n         */\r\n        private boolean mRunAtStart;\r\n        \r\n        /**\r\n         * @param millisInFuture The number of millis in the future from the call\r\n         *   to {@link #start} until the countdown is done and {@link #onFinish()}\r\n         *   is called\r\n         * @param countDownInterval The interval in millis at which to execute\r\n         *   {@link #onTick(millisUntilFinished)} callbacks\r\n         * @param runAtStart True if timer should start running, false if not\r\n         */\r\n        public CountDownTimerWithPause(long millisOnTimer, long countDownInterval, boolean runAtStart) {\r\n            mMillisInFuture = millisOnTimer;\r\n            mTotalCountdown = mMillisInFuture;\r\n            mCountdownInterval = countDownInterval;\r\n            mRunAtStart = runAtStart;\r\n        }\r\n    \r\n        /**\r\n         * Cancel the countdown and clears all remaining messages\r\n         */\r\n        public final void cancel() {\r\n            mHandler.removeMessages(MSG);\r\n        }\r\n    \r\n        /**\r\n         * Create the timer object.\r\n         */\r\n        public synchronized final CountDownTimerWithPause create() {\r\n            if (mMillisInFuture &lt;= 0) {\r\n                onFinish();\r\n            } else {\r\n              mPauseTimeRemaining = mMillisInFuture;\r\n            }\r\n            \r\n            if (mRunAtStart) {\r\n              resume();\r\n            }\r\n    \r\n            return this;\r\n        }\r\n        \r\n        /**\r\n         * Pauses the counter.\r\n         */\r\n      public void pause () {\r\n        if (isRunning()) {\r\n          mPauseTimeRemaining = timeLeft();\r\n          cancel();\r\n        }\r\n      }\r\n      \r\n      /**\r\n       * Resumes the counter.\r\n       */\r\n      public void resume () {\r\n        if (isPaused()) {\r\n          mMillisInFuture = mPauseTimeRemaining;\r\n          mStopTimeInFuture = SystemClock.elapsedRealtime() + mMillisInFuture;\r\n              mHandler.sendMessage(mHandler.obtainMessage(MSG));\r\n          mPauseTimeRemaining = 0;\r\n        }\r\n      }\r\n      \r\n      /**\r\n       * Tests whether the timer is paused.\r\n       * @return true if the timer is currently paused, false otherwise.\r\n       */\r\n      public boolean isPaused () {\r\n        return (mPauseTimeRemaining &gt; 0);\r\n      }\r\n      \r\n      /**\r\n       * Tests whether the timer is running. (Performs logical negation on {@link #isPaused()})\r\n       * @return true if the timer is currently running, false otherwise.\r\n       */\r\n      public boolean isRunning() {\r\n        return (! isPaused());\r\n      }\r\n      \r\n      /**\r\n       * Returns the number of milliseconds remaining until the timer is finished\r\n       * @return number of milliseconds remaining until the timer is finished\r\n       */\r\n      public long timeLeft() {\r\n        long millisUntilFinished;\r\n        if (isPaused()) {\r\n          millisUntilFinished = mPauseTimeRemaining;\r\n        } else {\r\n          millisUntilFinished = mStopTimeInFuture - SystemClock.elapsedRealtime();\r\n          if (millisUntilFinished &lt; 0) millisUntilFinished = 0;\r\n        }\r\n        return millisUntilFinished;\r\n      }\r\n      \r\n      /**\r\n       * Returns the number of milliseconds in total that the timer was set to run\r\n       * @return number of milliseconds timer was set to run\r\n       */\r\n      public long totalCountdown() {\r\n        return mTotalCountdown;\r\n      }\r\n      \r\n      /**\r\n       * Returns the number of milliseconds that have elapsed on the timer.\r\n       * @return the number of milliseconds that have elapsed on the timer.\r\n       */\r\n      public long timePassed() {\r\n        return mTotalCountdown - timeLeft();\r\n      }\r\n      \r\n      /**\r\n       * Returns true if the timer has been started, false otherwise.\r\n       * @return true if the timer has been started, false otherwise.\r\n       */\r\n      public boolean hasBeenStarted() {\r\n        return (mPauseTimeRemaining &lt;= mMillisInFuture);\r\n      }\r\n    \r\n        /**\r\n         * Callback fired on regular interval\r\n         * @param millisUntilFinished The amount of time until finished\r\n         */\r\n        public abstract void onTick(long millisUntilFinished);\r\n    \r\n        /**\r\n         * Callback fired when the time is up.\r\n         */\r\n        public abstract void onFinish();\r\n    \r\n    \r\n        private static final int MSG = 1;\r\n    \r\n    \r\n        // handles counting down\r\n        private Handler mHandler = new Handler() {\r\n    \r\n            @Override\r\n            public void handleMessage(Message msg) {\r\n    \r\n                synchronized (CountDownTimerWithPause.this) {\r\n                    long millisLeft = timeLeft();\r\n    \r\n                    if (millisLeft &lt;= 0) {\r\n                        cancel();\r\n                      onFinish();\r\n                    } else if (millisLeft &lt; mCountdownInterval) {\r\n                        // no tick, just delay until done\r\n                        sendMessageDelayed(obtainMessage(MSG), millisLeft);\r\n                    } else {\r\n                        long lastTickStart = SystemClock.elapsedRealtime();\r\n                        onTick(millisLeft);\r\n    \r\n                        // take into account user&#39;s onTick taking time to execute\r\n                        long delay = mCountdownInterval - (SystemClock.elapsedRealtime() - lastTickStart);\r\n    \r\n                        // special case: user&#39;s onTick took more than mCountdownInterval to\r\n                        // complete, skip to next interval\r\n                        while (delay &lt; 0) delay += mCountdownInterval;\r\n    \r\n                        sendMessageDelayed(obtainMessage(MSG), delay);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\nSource : [This Gist.][1]\r\n\r\n\r\n  [1]: https://gist.github.com/bverc/1492672","title":"Android: How to pause and resume a Count Down Timer?","body":"<pre><code>/*\n * Copyright (C) 2010 Andrew Gainer\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// Adapted from Android's CountDownTimer class\n\npackage com.cycleindex.multitimer;\n\nimport android.os.Handler;\nimport android.os.Message;\nimport android.os.SystemClock;\n\n/**\n * Schedule a countdown until a time in the future, with\n * regular notifications on intervals along the way.\n *\n  * The calls to {@link #onTick(long)} are synchronized to this object so that\n * one call to {@link #onTick(long)} won't ever occur before the previous\n * callback is complete.  This is only relevant when the implementation of\n * {@link #onTick(long)} takes an amount of time to execute that is significant\n * compared to the countdown interval.\n */\npublic abstract class CountDownTimerWithPause {\n\n    /**\n     * Millis since boot when alarm should stop.\n     */\n  private long mStopTimeInFuture;\n\n  /**\n   * Real time remaining until timer completes\n   */\n    private long mMillisInFuture;\n\n    /**\n     * Total time on timer at start\n     */\n    private final long mTotalCountdown;\n\n    /**\n     * The interval in millis that the user receives callbacks\n     */\n    private final long mCountdownInterval;\n\n    /**\n     * The time remaining on the timer when it was paused, if it is currently paused; 0 otherwise.\n     */\n    private long mPauseTimeRemaining;\n\n    /**\n     * True if timer was started running, false if not.\n     */\n    private boolean mRunAtStart;\n\n    /**\n     * @param millisInFuture The number of millis in the future from the call\n     *   to {@link #start} until the countdown is done and {@link #onFinish()}\n     *   is called\n     * @param countDownInterval The interval in millis at which to execute\n     *   {@link #onTick(millisUntilFinished)} callbacks\n     * @param runAtStart True if timer should start running, false if not\n     */\n    public CountDownTimerWithPause(long millisOnTimer, long countDownInterval, boolean runAtStart) {\n        mMillisInFuture = millisOnTimer;\n        mTotalCountdown = mMillisInFuture;\n        mCountdownInterval = countDownInterval;\n        mRunAtStart = runAtStart;\n    }\n\n    /**\n     * Cancel the countdown and clears all remaining messages\n     */\n    public final void cancel() {\n        mHandler.removeMessages(MSG);\n    }\n\n    /**\n     * Create the timer object.\n     */\n    public synchronized final CountDownTimerWithPause create() {\n        if (mMillisInFuture &lt;= 0) {\n            onFinish();\n        } else {\n          mPauseTimeRemaining = mMillisInFuture;\n        }\n\n        if (mRunAtStart) {\n          resume();\n        }\n\n        return this;\n    }\n\n    /**\n     * Pauses the counter.\n     */\n  public void pause () {\n    if (isRunning()) {\n      mPauseTimeRemaining = timeLeft();\n      cancel();\n    }\n  }\n\n  /**\n   * Resumes the counter.\n   */\n  public void resume () {\n    if (isPaused()) {\n      mMillisInFuture = mPauseTimeRemaining;\n      mStopTimeInFuture = SystemClock.elapsedRealtime() + mMillisInFuture;\n          mHandler.sendMessage(mHandler.obtainMessage(MSG));\n      mPauseTimeRemaining = 0;\n    }\n  }\n\n  /**\n   * Tests whether the timer is paused.\n   * @return true if the timer is currently paused, false otherwise.\n   */\n  public boolean isPaused () {\n    return (mPauseTimeRemaining &gt; 0);\n  }\n\n  /**\n   * Tests whether the timer is running. (Performs logical negation on {@link #isPaused()})\n   * @return true if the timer is currently running, false otherwise.\n   */\n  public boolean isRunning() {\n    return (! isPaused());\n  }\n\n  /**\n   * Returns the number of milliseconds remaining until the timer is finished\n   * @return number of milliseconds remaining until the timer is finished\n   */\n  public long timeLeft() {\n    long millisUntilFinished;\n    if (isPaused()) {\n      millisUntilFinished = mPauseTimeRemaining;\n    } else {\n      millisUntilFinished = mStopTimeInFuture - SystemClock.elapsedRealtime();\n      if (millisUntilFinished &lt; 0) millisUntilFinished = 0;\n    }\n    return millisUntilFinished;\n  }\n\n  /**\n   * Returns the number of milliseconds in total that the timer was set to run\n   * @return number of milliseconds timer was set to run\n   */\n  public long totalCountdown() {\n    return mTotalCountdown;\n  }\n\n  /**\n   * Returns the number of milliseconds that have elapsed on the timer.\n   * @return the number of milliseconds that have elapsed on the timer.\n   */\n  public long timePassed() {\n    return mTotalCountdown - timeLeft();\n  }\n\n  /**\n   * Returns true if the timer has been started, false otherwise.\n   * @return true if the timer has been started, false otherwise.\n   */\n  public boolean hasBeenStarted() {\n    return (mPauseTimeRemaining &lt;= mMillisInFuture);\n  }\n\n    /**\n     * Callback fired on regular interval\n     * @param millisUntilFinished The amount of time until finished\n     */\n    public abstract void onTick(long millisUntilFinished);\n\n    /**\n     * Callback fired when the time is up.\n     */\n    public abstract void onFinish();\n\n\n    private static final int MSG = 1;\n\n\n    // handles counting down\n    private Handler mHandler = new Handler() {\n\n        @Override\n        public void handleMessage(Message msg) {\n\n            synchronized (CountDownTimerWithPause.this) {\n                long millisLeft = timeLeft();\n\n                if (millisLeft &lt;= 0) {\n                    cancel();\n                  onFinish();\n                } else if (millisLeft &lt; mCountdownInterval) {\n                    // no tick, just delay until done\n                    sendMessageDelayed(obtainMessage(MSG), millisLeft);\n                } else {\n                    long lastTickStart = SystemClock.elapsedRealtime();\n                    onTick(millisLeft);\n\n                    // take into account user's onTick taking time to execute\n                    long delay = mCountdownInterval - (SystemClock.elapsedRealtime() - lastTickStart);\n\n                    // special case: user's onTick took more than mCountdownInterval to\n                    // complete, skip to next interval\n                    while (delay &lt; 0) delay += mCountdownInterval;\n\n                    sendMessageDelayed(obtainMessage(MSG), delay);\n                }\n            }\n        }\n    };\n}\n</code></pre>\n\n<p>Source : <a href=\"https://gist.github.com/bverc/1492672\" rel=\"noreferrer\">This Gist.</a></p>\n"},{"tags":[],"owner":{"account_id":7056215,"reputation":2222,"user_id":5403449,"accept_rate":43,"display_name":"Josh"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1517292469,"creation_date":1472635299,"answer_id":39245596,"question_id":8306374,"body_markdown":"A nice and simple way to create a Pause/Resume for your CountDownTimer is to create a separate method for your timer **start**, **pause** and **resume** as follows:\r\n\r\n    public void timerStart(long timeLengthMilli) {\r\n            timer = new CountDownTimer(timeLengthMilli, 1000) {\r\n    \r\n                @Override\r\n                public void onTick(long milliTillFinish) {\r\n                    milliLeft=milliTillFinish;\r\n                    min = (milliTillFinish/(1000*60));\r\n                    sec = ((milliTillFinish/1000)-min*60);\r\n                    clock.setText(Long.toString(min)+&quot;:&quot;+Long.toString(sec));\r\n                    Log.i(&quot;Tick&quot;, &quot;Tock&quot;);\r\n                }\r\n             }\r\n             timer.start();\r\n\r\nThe timerStart has a long parameter as it will be reused by the **resume()** method below. Remember to store your **milliTillFinished** (above as milliLeft) so that you may send it through in your **resume()** method. Pause and resume methods below respectively:\r\n\r\n    public void timerPause() {\r\n            timer.cancel();\r\n        }\r\n    \r\n        private void timerResume() {\r\n            Log.i(&quot;min&quot;, Long.toString(min));\r\n            Log.i(&quot;Sec&quot;, Long.toString(sec));\r\n            timerStart(milliLeft);\r\n        }\r\n\r\nHere is the code for the button FYI:\r\n\r\n    startPause.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if(startPause.getText().equals(&quot;Start&quot;)){\r\n                        Log.i(&quot;Started&quot;, startPause.getText().toString());\r\n                        startPause.setText(&quot;Pause&quot;);\r\n                        timerStart(15*1000);\r\n                    } else if (startPause.getText().equals(&quot;Pause&quot;)){\r\n                        Log.i(&quot;Paused&quot;, startPause.getText().toString());\r\n                        startPause.setText(&quot;Resume&quot;);\r\n                        timerPause();\r\n                    } else if (startPause.getText().equals(&quot;Resume&quot;)){\r\n                        startPause.setText(&quot;Pause&quot;);\r\n                        timerResume();\r\n                    }","title":"Android: How to pause and resume a Count Down Timer?","body":"<p>A nice and simple way to create a Pause/Resume for your CountDownTimer is to create a separate method for your timer <strong>start</strong>, <strong>pause</strong> and <strong>resume</strong> as follows:</p>\n\n<pre><code>public void timerStart(long timeLengthMilli) {\n        timer = new CountDownTimer(timeLengthMilli, 1000) {\n\n            @Override\n            public void onTick(long milliTillFinish) {\n                milliLeft=milliTillFinish;\n                min = (milliTillFinish/(1000*60));\n                sec = ((milliTillFinish/1000)-min*60);\n                clock.setText(Long.toString(min)+\":\"+Long.toString(sec));\n                Log.i(\"Tick\", \"Tock\");\n            }\n         }\n         timer.start();\n</code></pre>\n\n<p>The timerStart has a long parameter as it will be reused by the <strong>resume()</strong> method below. Remember to store your <strong>milliTillFinished</strong> (above as milliLeft) so that you may send it through in your <strong>resume()</strong> method. Pause and resume methods below respectively:</p>\n\n<pre><code>public void timerPause() {\n        timer.cancel();\n    }\n\n    private void timerResume() {\n        Log.i(\"min\", Long.toString(min));\n        Log.i(\"Sec\", Long.toString(sec));\n        timerStart(milliLeft);\n    }\n</code></pre>\n\n<p>Here is the code for the button FYI:</p>\n\n<pre><code>startPause.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(startPause.getText().equals(\"Start\")){\n                    Log.i(\"Started\", startPause.getText().toString());\n                    startPause.setText(\"Pause\");\n                    timerStart(15*1000);\n                } else if (startPause.getText().equals(\"Pause\")){\n                    Log.i(\"Paused\", startPause.getText().toString());\n                    startPause.setText(\"Resume\");\n                    timerPause();\n                } else if (startPause.getText().equals(\"Resume\")){\n                    startPause.setText(\"Pause\");\n                    timerResume();\n                }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10446039,"reputation":1336,"user_id":7871869,"accept_rate":67,"display_name":"Pritt Balagopal"},"score":2,"creation_date":1526912955,"post_id":48020267,"comment_id":87915125,"body_markdown":"My compliments for making this wonderful tool, but please make sure you disclose your affiliations, as I see that this is made by you.","body":"My compliments for making this wonderful tool, but please make sure you disclose your affiliations, as I see that this is made by you."},{"owner":{"account_id":7743136,"reputation":1214,"user_id":5862065,"display_name":"Zia"},"score":0,"creation_date":1622369510,"post_id":48020267,"comment_id":119768685,"body_markdown":"@Ankush brother,  onTimerTick() is being called if I call pauseTimer(). How can I stop this?","body":"@Ankush brother,  onTimerTick() is being called if I call pauseTimer(). How can I stop this?"}],"tags":[],"owner":{"account_id":3040612,"reputation":1928,"user_id":2577750,"display_name":"Ankush"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1526969082,"creation_date":1514539491,"answer_id":48020267,"question_id":8306374,"body_markdown":"You can try using a library I created, [Hourglass][1]\r\n\r\n    Hourglass hourglass = new Hourglass(50000, 1000) {\r\n            @Override\r\n            public void onTimerTick(long timeRemaining) {\r\n                // Update UI\r\n                Toast.show(MainActivity.this, String.valueOf(timeRemaining), Toast.LENGTH_SHORT).show();\r\n            }\r\n\r\n            @Override\r\n            public void onTimerFinish() {\r\n                // Timer finished\r\n                Toast.show(MainActivity.this, &quot;Timer finished&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n\r\n            }\r\n        };\r\n\r\nUse `hourglass.startTimer();` to start the timer.\r\n\r\nIt has helper methods which allow to pause and resume the timer.\r\n\r\n    hourglass.pauseTimer();\r\n\r\nAND\r\n\r\n    hourglass.resumeTimer();\r\n       \r\n\r\n  [1]: https://github.com/groverankush/Hourglass","title":"Android: How to pause and resume a Count Down Timer?","body":"<p>You can try using a library I created, <a href=\"https://github.com/groverankush/Hourglass\" rel=\"nofollow noreferrer\">Hourglass</a></p>\n\n<pre><code>Hourglass hourglass = new Hourglass(50000, 1000) {\n        @Override\n        public void onTimerTick(long timeRemaining) {\n            // Update UI\n            Toast.show(MainActivity.this, String.valueOf(timeRemaining), Toast.LENGTH_SHORT).show();\n        }\n\n        @Override\n        public void onTimerFinish() {\n            // Timer finished\n            Toast.show(MainActivity.this, \"Timer finished\", Toast.LENGTH_SHORT).show();\n\n\n        }\n    };\n</code></pre>\n\n<p>Use <code>hourglass.startTimer();</code> to start the timer.</p>\n\n<p>It has helper methods which allow to pause and resume the timer.</p>\n\n<pre><code>hourglass.pauseTimer();\n</code></pre>\n\n<p>AND</p>\n\n<pre><code>hourglass.resumeTimer();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9787587,"reputation":31,"user_id":7253394,"display_name":"Sam p"},"score":0,"creation_date":1528029174,"post_id":50666360,"comment_id":88342778,"body_markdown":"just keep timeLeft of countdown in sharepreference and here we go.","body":"just keep timeLeft of countdown in sharepreference and here we go."},{"owner":{"account_id":3769196,"reputation":7953,"user_id":3131852,"accept_rate":100,"display_name":"Tim Diekmann"},"score":0,"creation_date":1528029563,"post_id":50666360,"comment_id":88342896,"body_markdown":"Generally, answers are much more helpful if they include an explanation of what the code is intended to do, and why that solves the problem without introducing others. Thanks for improving the answer&#39;s reference value and making it more understandable!","body":"Generally, answers are much more helpful if they include an explanation of what the code is intended to do, and why that solves the problem without introducing others. Thanks for improving the answer&#39;s reference value and making it more understandable!"},{"owner":{"account_id":9787587,"reputation":31,"user_id":7253394,"display_name":"Sam p"},"score":0,"creation_date":1528032832,"post_id":50666360,"comment_id":88343835,"body_markdown":"Please use sharedpreference to save your last time left in millis and when you open app again, take the last save time left in millis","body":"Please use sharedpreference to save your last time left in millis and when you open app again, take the last save time left in millis"},{"owner":{"account_id":3769196,"reputation":7953,"user_id":3131852,"accept_rate":100,"display_name":"Tim Diekmann"},"score":0,"creation_date":1528032884,"post_id":50666360,"comment_id":88343846,"body_markdown":"If you want to add further informations to your answer, please [edit] it.","body":"If you want to add further informations to your answer, please <a href=\"https://stackoverflow.com/posts/50666360/edit\">edit</a> it."}],"tags":[],"owner":{"account_id":9787587,"reputation":31,"user_id":7253394,"display_name":"Sam p"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528029117,"creation_date":1528028460,"answer_id":50666360,"question_id":8306374,"body_markdown":"    \r\n \r\n\r\n        public static void setTimerMillis(Context context, long millis)\r\n     { SharedPreferences sp = \r\n    context.getSharedPreferences(SessionManager.FILE_USER, Context.MODE_PRIVATE); \r\n    SharedPreferences.Editor spe = sp.edit(); spe.putLong(SessionManager.TIMER_MILLIS, millis); spe.apply(); }\r\n    \r\n    \r\n    \r\n           void setExamTimer() {\r\n                setTimerColors();\r\n                final long maxTimeToShow = 60000;            //testing\r\n                final long lastTimeinMillisLeftSaved = TestyBookHelper.getTimerMillis(context); //take saved value from sharedpref\r\n                final long intervalTime = 1000;\r\n                donut_exam_timer.setMax((int) maxTimeToShow);\r\n                CountDownTimer countDownTimer = new CountDownTimer(lastTimeinMillisLeftSaved, intervalTime) {\r\n                    @Override\r\n                    public void onTick(long millis) {\r\n                        TestyBookHelper.setTimerMillis(context, millis);\r\n                        String hms = String.format(&quot;%02d:%02d:%02d&quot;, TimeUnit.MILLISECONDS.toHours(millis),\r\n                                TimeUnit.MILLISECONDS.toMinutes(millis) - TimeUnit.HOURS.toMinutes(TimeUnit.MILLISECONDS.toHours(millis)),\r\n                                TimeUnit.MILLISECONDS.toSeconds(millis) - TimeUnit.MINUTES.toSeconds(TimeUnit.MILLISECONDS.toMinutes(millis)));               System.out.println(hms);\r\n                        donut_exam_timer.setText(hms);\r\n                        donut_exam_timer.setProgress(millis);\r\n                    }\r\n                    @Override\r\n                    public void onFinish() {\r\n                    }\r\n                };\r\n                countDownTimer.start();\r\n            }\r\n    \r\n      public static long getTimerMillis(Context context) {\r\n        SharedPreferences sp = context.getSharedPreferences(SessionManager.FILE_USER, Context.MODE_PRIVATE);\r\n        return sp.getLong(SessionManager.TIMER_MILLIS, 60000L);}\r\n      \r\n\r\n\r\n\r\n","title":"Android: How to pause and resume a Count Down Timer?","body":"<pre><code>    public static void setTimerMillis(Context context, long millis)\n { SharedPreferences sp = \ncontext.getSharedPreferences(SessionManager.FILE_USER, Context.MODE_PRIVATE); \nSharedPreferences.Editor spe = sp.edit(); spe.putLong(SessionManager.TIMER_MILLIS, millis); spe.apply(); }\n\n\n\n       void setExamTimer() {\n            setTimerColors();\n            final long maxTimeToShow = 60000;            //testing\n            final long lastTimeinMillisLeftSaved = TestyBookHelper.getTimerMillis(context); //take saved value from sharedpref\n            final long intervalTime = 1000;\n            donut_exam_timer.setMax((int) maxTimeToShow);\n            CountDownTimer countDownTimer = new CountDownTimer(lastTimeinMillisLeftSaved, intervalTime) {\n                @Override\n                public void onTick(long millis) {\n                    TestyBookHelper.setTimerMillis(context, millis);\n                    String hms = String.format(\"%02d:%02d:%02d\", TimeUnit.MILLISECONDS.toHours(millis),\n                            TimeUnit.MILLISECONDS.toMinutes(millis) - TimeUnit.HOURS.toMinutes(TimeUnit.MILLISECONDS.toHours(millis)),\n                            TimeUnit.MILLISECONDS.toSeconds(millis) - TimeUnit.MINUTES.toSeconds(TimeUnit.MILLISECONDS.toMinutes(millis)));               System.out.println(hms);\n                    donut_exam_timer.setText(hms);\n                    donut_exam_timer.setProgress(millis);\n                }\n                @Override\n                public void onFinish() {\n                }\n            };\n            countDownTimer.start();\n        }\n\n  public static long getTimerMillis(Context context) {\n    SharedPreferences sp = context.getSharedPreferences(SessionManager.FILE_USER, Context.MODE_PRIVATE);\n    return sp.getLong(SessionManager.TIMER_MILLIS, 60000L);}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7582999,"reputation":437,"user_id":5753128,"display_name":"rahulxyz"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1538477687,"creation_date":1538477687,"answer_id":52606952,"question_id":8306374,"body_markdown":"I have a simple solution. All you have to do is add an extra variable which stores the current time. The only addition is **currentMillis** at top and in onTick(). Use cancel() to pause.&lt;br&gt;\r\n**PS:** I&#39;m using butterknife library, it&#39;s used to avoid using findviewbyid and setonclicklisteners. If you do not want to use it then you can just use the basic way of setting listeners and findviewbyid.\r\n\r\n    @BindView(R.id.play_btn) ImageButton play;\r\n    @BindView(R.id.pause_btn) ImageButton pause;\r\n    @BindView(R.id.close_btn) ImageButton close;\r\n    @BindView(R.id.time) TextView time;\r\n    private CountDownTimer countDownTimer;\r\n    private long currentMillis=10;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_game);\r\n        ButterKnife.bind(this);\r\n    }\r\n\r\n    @OnClick(R.id.play_btn) void play_game(){\r\n        this.play();\r\n    }\r\n\r\n    @OnClick(R.id.pause_btn) void pause_game(){\r\n        this.pause();\r\n    }\r\n\r\n    @OnClick(R.id.close_btn) void close_game(){\r\n        this.close();\r\n    }\r\n\r\n    void play(){\r\n        play.setVisibility(View.GONE);\r\n        close.setVisibility(View.GONE);\r\n        pause.setVisibility(View.VISIBLE);\r\n\r\n        time.setText(&quot;&quot;+currentMillis);\r\n        countDownTimer = new CountDownTimer(currentMillis*1000,1000) {\r\n\r\n            @Override\r\n            public void onTick(long millisUntilFinish) {\r\n                currentMillis=millisUntilFinish/1000;\r\n                time.setText(&quot;&quot;+millisUntilFinish/1000);\r\n            }\r\n\r\n            @Override\r\n            public void onFinish() {\r\n                time.setText(&quot;Done!&quot;);\r\n            }\r\n        };\r\n\r\n        countDownTimer.start();\r\n    }\r\n\r\n    void pause(){\r\n        play.setVisibility(View.VISIBLE);\r\n        close.setVisibility(View.VISIBLE);\r\n        pause.setVisibility(View.GONE);\r\n        countDownTimer.cancel();\r\n    }\r\n\r\n    void close(){\r\n        if(countDownTimer!=null){\r\n            countDownTimer.cancel();\r\n            countDownTimer=null;\r\n        }\r\n        Intent intent = new Intent(this,MainActivity.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n}","title":"Android: How to pause and resume a Count Down Timer?","body":"<p>I have a simple solution. All you have to do is add an extra variable which stores the current time. The only addition is <strong>currentMillis</strong> at top and in onTick(). Use cancel() to pause.<br>\n<strong>PS:</strong> I'm using butterknife library, it's used to avoid using findviewbyid and setonclicklisteners. If you do not want to use it then you can just use the basic way of setting listeners and findviewbyid.</p>\n\n<pre><code>@BindView(R.id.play_btn) ImageButton play;\n@BindView(R.id.pause_btn) ImageButton pause;\n@BindView(R.id.close_btn) ImageButton close;\n@BindView(R.id.time) TextView time;\nprivate CountDownTimer countDownTimer;\nprivate long currentMillis=10;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_game);\n    ButterKnife.bind(this);\n}\n\n@OnClick(R.id.play_btn) void play_game(){\n    this.play();\n}\n\n@OnClick(R.id.pause_btn) void pause_game(){\n    this.pause();\n}\n\n@OnClick(R.id.close_btn) void close_game(){\n    this.close();\n}\n\nvoid play(){\n    play.setVisibility(View.GONE);\n    close.setVisibility(View.GONE);\n    pause.setVisibility(View.VISIBLE);\n\n    time.setText(\"\"+currentMillis);\n    countDownTimer = new CountDownTimer(currentMillis*1000,1000) {\n\n        @Override\n        public void onTick(long millisUntilFinish) {\n            currentMillis=millisUntilFinish/1000;\n            time.setText(\"\"+millisUntilFinish/1000);\n        }\n\n        @Override\n        public void onFinish() {\n            time.setText(\"Done!\");\n        }\n    };\n\n    countDownTimer.start();\n}\n\nvoid pause(){\n    play.setVisibility(View.VISIBLE);\n    close.setVisibility(View.VISIBLE);\n    pause.setVisibility(View.GONE);\n    countDownTimer.cancel();\n}\n\nvoid close(){\n    if(countDownTimer!=null){\n        countDownTimer.cancel();\n        countDownTimer=null;\n    }\n    Intent intent = new Intent(this,MainActivity.class);\n    startActivity(intent);\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":2666377,"reputation":3513,"user_id":2304737,"accept_rate":50,"display_name":"mr5"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1603196124,"creation_date":1602508315,"answer_id":64318584,"question_id":8306374,"body_markdown":"Although the question doesn&#39;t include the Kotlin tag, I still think this answer belongs here due to Android tag.\r\n\r\nI&#39;ve made a very simple library that uses the `CountDownTimer` internally and inspired by this [answer](https://stackoverflow.com/a/8306456/2304737). So far, it works as intended with my very basic use case:\r\n&gt; Pause the timer when the app/activity is paused, and resume when the app/activity resumes.\r\n\r\n### Usage: ###\r\n\r\n    class GameActivity : Activity() {\r\n\r\n        private var timer = CustomTimer(30000, 1000) // 30 seconds duration at 1 second interval\r\n\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            ...\r\n            timer.onTick = { millisUntilFinished -&gt;\r\n                textView.text = &quot;seconds remaining: &quot; + millisUntilFinished / 1000\r\n            }\r\n            timer.onFinish = {\r\n                TODO(&quot;do something here&quot;)\r\n            }\r\n        }\r\n\r\n        override fun onResume() {\r\n            super.onResume()\r\n            timer.resume()\r\n        }\r\n\r\n        override fun onPause() {\r\n            super.onPause()\r\n            timer.pause()\r\n        }\r\n    }\r\n\r\n\r\n### Source code:  ###\r\nResumable [CustomTimer.kt](https://gist.github.com/mr5z/e997cd23844b9461f84d5ceede0e4c86) (50 lines)","title":"Android: How to pause and resume a Count Down Timer?","body":"<p>Although the question doesn't include the Kotlin tag, I still think this answer belongs here due to Android tag.</p>\n<p>I've made a very simple library that uses the <code>CountDownTimer</code> internally and inspired by this <a href=\"https://stackoverflow.com/a/8306456/2304737\">answer</a>. So far, it works as intended with my very basic use case:</p>\n<blockquote>\n<p>Pause the timer when the app/activity is paused, and resume when the app/activity resumes.</p>\n</blockquote>\n<h3>Usage:</h3>\n<pre><code>class GameActivity : Activity() {\n\n    private var timer = CustomTimer(30000, 1000) // 30 seconds duration at 1 second interval\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        ...\n        timer.onTick = { millisUntilFinished -&gt;\n            textView.text = &quot;seconds remaining: &quot; + millisUntilFinished / 1000\n        }\n        timer.onFinish = {\n            TODO(&quot;do something here&quot;)\n        }\n    }\n\n    override fun onResume() {\n        super.onResume()\n        timer.resume()\n    }\n\n    override fun onPause() {\n        super.onPause()\n        timer.pause()\n    }\n}\n</code></pre>\n<h3>Source code:</h3>\n<p>Resumable <a href=\"https://gist.github.com/mr5z/e997cd23844b9461f84d5ceede0e4c86\" rel=\"nofollow noreferrer\">CustomTimer.kt</a> (50 lines)</p>\n"},{"tags":[],"owner":{"account_id":7832532,"reputation":1060,"user_id":5921933,"accept_rate":38,"display_name":"Huy Nguyen"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1604301951,"creation_date":1604301951,"answer_id":64641358,"question_id":8306374,"body_markdown":"I wrote a extended CountDownTimer [here][1]. Let&#39;s try this and leave your comment:\r\n\r\n\r\n  [1]: https://github.com/huynguyennovem/Android-CountDownTimer-Ext\r\n\r\nEg:\r\n\r\n```kotlin\r\n// Init timer\r\nlateinit var timerExt: CountDownTimerExt\r\n\r\ntimerExt = object : CountDownTimerExt(TIMER_DURATION, TIMER_INTERVAL) {\r\n    override fun onTimerTick(millisUntilFinished: Long) {\r\n        Log.d(&quot;MainActivity&quot;, &quot;onTimerTick $millisUntilFinished&quot;)\r\n    }\r\n\r\n    override fun onTimerFinish() {\r\n        Log.d(&quot;MainActivity&quot;, &quot;onTimerFinish&quot;)\r\n    }\r\n\r\n}\r\n\r\n// Start/Resume timer\r\ntimerExt.start()\r\n\r\n// Pause timer\r\ntimerExt.pause()\r\n\r\n// Restart timer\r\ntimerExt.restart()\r\n```","title":"Android: How to pause and resume a Count Down Timer?","body":"<p>I wrote a extended CountDownTimer <a href=\"https://github.com/huynguyennovem/Android-CountDownTimer-Ext\" rel=\"noreferrer\">here</a>. Let's try this and leave your comment:</p>\n<p>Eg:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Init timer\nlateinit var timerExt: CountDownTimerExt\n\ntimerExt = object : CountDownTimerExt(TIMER_DURATION, TIMER_INTERVAL) {\n    override fun onTimerTick(millisUntilFinished: Long) {\n        Log.d(&quot;MainActivity&quot;, &quot;onTimerTick $millisUntilFinished&quot;)\n    }\n\n    override fun onTimerFinish() {\n        Log.d(&quot;MainActivity&quot;, &quot;onTimerFinish&quot;)\n    }\n\n}\n\n// Start/Resume timer\ntimerExt.start()\n\n// Pause timer\ntimerExt.pause()\n\n// Restart timer\ntimerExt.restart()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16554344,"reputation":1,"user_id":11961871,"display_name":"Bence Tibor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685613509,"creation_date":1685613509,"answer_id":76380732,"question_id":8306374,"body_markdown":"Here is my code. I hope this simple and helpful.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    private long startMillis = 10000; //milliseconds the start value\r\n    private CountDownTimer countDownTimer;\r\n    private Button btnStart;\r\n    private boolean isStarted;\r\n    private long remainderMillis// get remaing milli seconds\r\n\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        this.Init();\r\n\tStartTime()\r\n\r\n\r\n\r\n    }\r\n\r\n    private void Init() {\r\n        isStarted = false;\r\n       \r\n        remainderMillis = startMillis; // remaingMillis equals startMillis at the first start\r\n        this.btnStart.setOnClickListener(new View.OnClickListener() { // Start pause controller button\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (isStarted){\r\n                    PauseGame();\r\n                }else{\r\n                    StartGame();\r\n                }\r\n            }\r\n        });\r\n    }\r\n    private void StartTimer(){\r\n        this.countDownTimer = new CountDownTimer(remaingMillis,1000) {\r\n            @Override\r\n            public void onTick(long millisUntilFinished) {\r\n                remainderMillis = millisUntilFinished;\r\n\r\n                int totalSecs = (int)millisUntilFinished/1000; //convert to seconds\r\n                int minutes = (totalSecs%3600)/60; // Convert to minutes\r\n                int seconds = totalSecs%60; // Convert to seconds\r\n                String timeString = String.format(&quot;%02d:%02d&quot;,minutes,seconds); // Formatting to mm:ss\r\n                countDownView.setText(timeString); // Display in textview\r\n            }\r\n\r\n            @Override\r\n            public void onFinish() {\r\n\t\t// Beeping if the timer onfinish\r\n                ToneGenerator toneGenerator = new ToneGenerator(AudioManager.STREAM_MUSIC,100);\r\n                toneGenerator.startTone(ToneGenerator.TONE_CDMA_PIP,500);\r\n\r\n\r\n            }\r\n        }.start();\r\n        btnStart.setImageResource(R.mipmap.pause); //change button image to Pause mipmap\r\n    }\r\n    private void PauseTimer(){\r\n        isStarted = false;\r\n        countDownTimer.cancel(); //You can cancel here the countDownTimer, but the current milliseconds store in the remainderMillis variable, so in the StartTimer() void can be contiune the timer\r\n        btnStart.setImageResource(R.mipmap.play);\r\n\r\n\r\n    }\r\n\r\n}\r\n","title":"Android: How to pause and resume a Count Down Timer?","body":"<p>Here is my code. I hope this simple and helpful.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nprivate long startMillis = 10000; //milliseconds the start value\nprivate CountDownTimer countDownTimer;\nprivate Button btnStart;\nprivate boolean isStarted;\nprivate long remainderMillis// get remaing milli seconds\n\n\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    this.Init();\nStartTime()\n\n\n\n}\n\nprivate void Init() {\n    isStarted = false;\n   \n    remainderMillis = startMillis; // remaingMillis equals startMillis at the first start\n    this.btnStart.setOnClickListener(new View.OnClickListener() { // Start pause controller button\n        @Override\n        public void onClick(View v) {\n            if (isStarted){\n                PauseGame();\n            }else{\n                StartGame();\n            }\n        }\n    });\n}\nprivate void StartTimer(){\n    this.countDownTimer = new CountDownTimer(remaingMillis,1000) {\n        @Override\n        public void onTick(long millisUntilFinished) {\n            remainderMillis = millisUntilFinished;\n\n            int totalSecs = (int)millisUntilFinished/1000; //convert to seconds\n            int minutes = (totalSecs%3600)/60; // Convert to minutes\n            int seconds = totalSecs%60; // Convert to seconds\n            String timeString = String.format(&quot;%02d:%02d&quot;,minutes,seconds); // Formatting to mm:ss\n            countDownView.setText(timeString); // Display in textview\n        }\n\n        @Override\n        public void onFinish() {\n    // Beeping if the timer onfinish\n            ToneGenerator toneGenerator = new ToneGenerator(AudioManager.STREAM_MUSIC,100);\n            toneGenerator.startTone(ToneGenerator.TONE_CDMA_PIP,500);\n\n\n        }\n    }.start();\n    btnStart.setImageResource(R.mipmap.pause); //change button image to Pause mipmap\n}\nprivate void PauseTimer(){\n    isStarted = false;\n    countDownTimer.cancel(); //You can cancel here the countDownTimer, but the current milliseconds store in the remainderMillis variable, so in the StartTimer() void can be contiune the timer\n    btnStart.setImageResource(R.mipmap.play);\n\n\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":1068886,"reputation":651,"user_id":1068638,"accept_rate":72,"display_name":"Mineko"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60844,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":9802426,"answer_count":9,"score":38,"last_activity_date":1685613509,"creation_date":1322545065,"question_id":8306374,"body_markdown":"I have developed a Count Down Timer and I am not sure how to pause and resume the timer as the textview for the timer is being clicked. Click to start then click again to pause and to resume, click again the timer&#39;s text view.\r\n\r\nThis is my code:\r\n\r\n\r\n        Timer = (TextView) this.findViewById(R.id.time); //TIMER  \r\n        Timer.setOnClickListener(TimerClickListener);\r\n        counter = new MyCount(600000, 1000);\r\n    }//end of create \r\n\r\n    private OnClickListener TimerClickListener = new OnClickListener() {\r\n        public void onClick(View v) {\r\n            updateTimeTask();\r\n        }\r\n\r\n        private void updateTimeTask() {\r\n            if (decision == 0) {\r\n                counter.start();\r\n                decision = 1;\r\n            } else if (decision == 2) {\r\n                counter.onResume1();\r\n                decision = 1;\r\n            } else {\r\n                counter.onPause1();\r\n                decision = 2;\r\n            }//end if  \r\n        }\r\n\r\n        ;\r\n    };\r\n\r\n    class MyCount extends CountDownTimer {\r\n        public MyCount(long millisInFuture, long countDownInterval) {\r\n            super(millisInFuture, countDownInterval);\r\n        }//MyCount  \r\n\r\n        public void onResume1() {\r\n            onResume();\r\n        }\r\n\r\n        public void onPause1() {\r\n            onPause();\r\n        }\r\n\r\n        public void onFinish() {\r\n            Timer.setText(&quot;00:00&quot;);\r\n            p1++;\r\n            if (p1 &lt;= 4) {\r\n                TextView PScore = (TextView) findViewById(R.id.pscore);\r\n                PScore.setText(p1 + &quot;&quot;);\r\n            }//end if  \r\n        }//finish  \r\n\r\n        public void onTick(long millisUntilFinished) {\r\n            Integer milisec = new Integer(new Double(millisUntilFinished).intValue());\r\n            Integer cd_secs = milisec / 1000;\r\n\r\n            Integer minutes = (cd_secs % 3600) / 60;\r\n            Integer seconds = (cd_secs % 3600) % 60;\r\n\r\n            Timer.setText(String.format(&quot;%02d&quot;, minutes) + &quot;:&quot;\r\n                    + String.format(&quot;%02d&quot;, seconds));\r\n            ///long timeLeft = millisUntilFinished / 1000;  \r\n            /}//on tick  \r\n    }//class MyCount  \r\n\r\n    protected void onResume() {\r\n        super.onResume();\r\n        //handler.removeCallbacks(updateTimeTask);  \r\n        //handler.postDelayed(updateTimeTask, 1000);  \r\n    }//onResume  \r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        //do stuff  \r\n    }//onPause  ","title":"Android: How to pause and resume a Count Down Timer?","body":"<p>I have developed a Count Down Timer and I am not sure how to pause and resume the timer as the textview for the timer is being clicked. Click to start then click again to pause and to resume, click again the timer's text view.</p>\n\n<p>This is my code:</p>\n\n<pre><code>    Timer = (TextView) this.findViewById(R.id.time); //TIMER  \n    Timer.setOnClickListener(TimerClickListener);\n    counter = new MyCount(600000, 1000);\n}//end of create \n\nprivate OnClickListener TimerClickListener = new OnClickListener() {\n    public void onClick(View v) {\n        updateTimeTask();\n    }\n\n    private void updateTimeTask() {\n        if (decision == 0) {\n            counter.start();\n            decision = 1;\n        } else if (decision == 2) {\n            counter.onResume1();\n            decision = 1;\n        } else {\n            counter.onPause1();\n            decision = 2;\n        }//end if  \n    }\n\n    ;\n};\n\nclass MyCount extends CountDownTimer {\n    public MyCount(long millisInFuture, long countDownInterval) {\n        super(millisInFuture, countDownInterval);\n    }//MyCount  \n\n    public void onResume1() {\n        onResume();\n    }\n\n    public void onPause1() {\n        onPause();\n    }\n\n    public void onFinish() {\n        Timer.setText(\"00:00\");\n        p1++;\n        if (p1 &lt;= 4) {\n            TextView PScore = (TextView) findViewById(R.id.pscore);\n            PScore.setText(p1 + \"\");\n        }//end if  \n    }//finish  \n\n    public void onTick(long millisUntilFinished) {\n        Integer milisec = new Integer(new Double(millisUntilFinished).intValue());\n        Integer cd_secs = milisec / 1000;\n\n        Integer minutes = (cd_secs % 3600) / 60;\n        Integer seconds = (cd_secs % 3600) % 60;\n\n        Timer.setText(String.format(\"%02d\", minutes) + \":\"\n                + String.format(\"%02d\", seconds));\n        ///long timeLeft = millisUntilFinished / 1000;  \n        /}//on tick  \n}//class MyCount  \n\nprotected void onResume() {\n    super.onResume();\n    //handler.removeCallbacks(updateTimeTask);  \n    //handler.postDelayed(updateTimeTask, 1000);  \n}//onResume  \n\n@Override\nprotected void onPause() {\n    super.onPause();\n    //do stuff  \n}//onPause  \n</code></pre>\n"},{"tags":["java","spring-boot","maven","testng","maven-surefire-plugin"],"answers":[{"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1685719113,"post_id":76380646,"comment_id":134705088,"body_markdown":"That should not be neccessary because if you have correctly defined a dependency to testng this will be done by surefire-plugin automatically... that looks like an issue in your pom file... I assume you might be using junit-jupiter in general in your project?","body":"That should not be neccessary because if you have correctly defined a dependency to testng this will be done by surefire-plugin automatically... that looks like an issue in your pom file... I assume you might be using junit-jupiter in general in your project?"},{"owner":{"account_id":1192733,"reputation":1507,"user_id":1165160,"accept_rate":92,"display_name":"King Midas"},"score":0,"creation_date":1685952387,"post_id":76380646,"comment_id":134727214,"body_markdown":"No, I am not using it. Unless is included by `spring-boot-starter-test`.","body":"No, I am not using it. Unless is included by <code>spring-boot-starter-test</code>."},{"owner":{"account_id":1192733,"reputation":1507,"user_id":1165160,"accept_rate":92,"display_name":"King Midas"},"score":0,"creation_date":1686305021,"post_id":76380646,"comment_id":134783787,"body_markdown":"In any case, if I remove the dependency inside the plugin, the tests are ignored again.","body":"In any case, if I remove the dependency inside the plugin, the tests are ignored again."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1686311601,"post_id":76380646,"comment_id":134784941,"body_markdown":"Than you have defined more than one unit test framework please show the full pom files etc. because by default spring boot used junit-jupiter and not TestNG... I would ask why do you use TestNG instead of JUnit Jupiter?","body":"Than you have defined more than one unit test framework please show the full pom files etc. because by default spring boot used junit-jupiter and not TestNG... I would ask why do you use TestNG instead of JUnit Jupiter?"},{"owner":{"account_id":1192733,"reputation":1507,"user_id":1165160,"accept_rate":92,"display_name":"King Midas"},"score":0,"creation_date":1686393535,"post_id":76380646,"comment_id":134794716,"body_markdown":"I am feel comfortable with TestNG and I am using it for more than 10 years now. The pom related to this contain, `org.testng`dependency, `maven-surefire-plugin`, and `spring-boot-starter-test`. If you want more details, you have a project [here](https://github.com/softwaremagico/KendoTournamentManager/tree/spring-3.0)","body":"I am feel comfortable with TestNG and I am using it for more than 10 years now. The pom related to this contain, <code>org.testng</code>dependency, <code>maven-surefire-plugin</code>, and <code>spring-boot-starter-test</code>. If you want more details, you have a project <a href=\"https://github.com/softwaremagico/KendoTournamentManager/tree/spring-3.0\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1686409183,"post_id":76380646,"comment_id":134796242,"body_markdown":"I&#39;ve used TestNG for a long time but I&#39;ve switched about 4 years ago because it offers more flexibility(extensions etc). than TestNG does. Why using the suiteFile? That can handled by default via naming conventions etc. without the need of a suite file... even in TestNG....","body":"I&#39;ve used TestNG for a long time but I&#39;ve switched about 4 years ago because it offers more flexibility(extensions etc). than TestNG does. Why using the suiteFile? That can handled by default via naming conventions etc. without the need of a suite file... even in TestNG...."},{"owner":{"account_id":1192733,"reputation":1507,"user_id":1165160,"accept_rate":92,"display_name":"King Midas"},"score":0,"creation_date":1686556126,"post_id":76380646,"comment_id":134808986,"body_markdown":"Suite file has some advantages that naming conventions not (listeners, etc. that I use). But I think that discussing about why testng or juniper, or why using a suitefile is outside of the scope of the question.","body":"Suite file has some advantages that naming conventions not (listeners, etc. that I use). But I think that discussing about why testng or juniper, or why using a suitefile is outside of the scope of the question."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1686569045,"post_id":76380646,"comment_id":134811649,"body_markdown":"Listeners are not flexible enough..extensions in JUnit Jupiter are much more flexible etc. suites can be defined with JUnit Jupiter as well (https://junit.org/junit5/docs/current/user-guide/#junit-platform-suite-engine-example)","body":"Listeners are not flexible enough..extensions in JUnit Jupiter are much more flexible etc. suites can be defined with JUnit Jupiter as well (<a href=\"https://junit.org/junit5/docs/current/user-guide/#junit-platform-suite-engine-example\" rel=\"nofollow noreferrer\">junit.org/junit5/docs/current/user-guide/&hellip;</a>)"}],"tags":[],"owner":{"account_id":1192733,"reputation":1507,"user_id":1165160,"accept_rate":92,"display_name":"King Midas"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685612969,"creation_date":1685612969,"answer_id":76380646,"question_id":76380624,"body_markdown":"Ok, I have found the &quot;issue&quot;. Seems that the new versions of `maven-surefire-plugin` [needs to include][1] a `surefire-testng` extra plugin for executing it:\r\n\r\n```\r\n           &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;suiteXmlFiles&gt;\r\n                        &lt;suiteXmlFile&gt;src/test/resources/testng.xml&lt;/suiteXmlFile&gt;\r\n                    &lt;/suiteXmlFiles&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;surefire-testng&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.1.0&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n```\r\nAfter including the dependency on the plugin, now is working fine. \r\n\r\n  [1]: https://maven.apache.org/surefire/maven-surefire-plugin/examples/testng.html","title":"Testng test are ignored after upgrading to Sprint Boot 3 and maven-surefire-plugin 3.1.0","body":"<p>Ok, I have found the &quot;issue&quot;. Seems that the new versions of <code>maven-surefire-plugin</code> <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/testng.html\" rel=\"nofollow noreferrer\">needs to include</a> a <code>surefire-testng</code> extra plugin for executing it:</p>\n<pre><code>           &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;suiteXmlFiles&gt;\n                        &lt;suiteXmlFile&gt;src/test/resources/testng.xml&lt;/suiteXmlFile&gt;\n                    &lt;/suiteXmlFiles&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n                        &lt;artifactId&gt;surefire-testng&lt;/artifactId&gt;\n                        &lt;version&gt;3.1.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>After including the dependency on the plugin, now is working fine.</p>\n"}],"owner":{"account_id":1192733,"reputation":1507,"user_id":1165160,"accept_rate":92,"display_name":"King Midas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":924,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76380646,"answer_count":1,"score":0,"last_activity_date":1685613446,"creation_date":1685612790,"question_id":76380624,"body_markdown":"I have an application that was executing TestNG tests perfectly with maven, for example, when using a `mvn clean install` command. \r\n\r\nCurrently I have updated the application to start using Spring Boot 3.1.0, and now the tests are completely ignored. No tests are executed. \r\n\r\nI am using a classic `testng.xml` file defined on the `maven-surefire-plugin`:\r\n\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;suiteXmlFiles&gt;\r\n                        &lt;suiteXmlFile&gt;src/test/resources/testng.xml&lt;/suiteXmlFile&gt;\r\n                    &lt;/suiteXmlFiles&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```\r\nAll solutions I have found are related about the java classes ending on `*Test.java` but this is not applied as I am using the testng suite file. And before the update, the tests are working fine. \r\n\r\nWhat has been changed into Spring Boot 3 to skip my tests?","title":"Testng test are ignored after upgrading to Sprint Boot 3 and maven-surefire-plugin 3.1.0","body":"<p>I have an application that was executing TestNG tests perfectly with maven, for example, when using a <code>mvn clean install</code> command.</p>\n<p>Currently I have updated the application to start using Spring Boot 3.1.0, and now the tests are completely ignored. No tests are executed.</p>\n<p>I am using a classic <code>testng.xml</code> file defined on the <code>maven-surefire-plugin</code>:</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;suiteXmlFiles&gt;\n                        &lt;suiteXmlFile&gt;src/test/resources/testng.xml&lt;/suiteXmlFile&gt;\n                    &lt;/suiteXmlFiles&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>All solutions I have found are related about the java classes ending on <code>*Test.java</code> but this is not applied as I am using the testng suite file. And before the update, the tests are working fine.</p>\n<p>What has been changed into Spring Boot 3 to skip my tests?</p>\n"},{"tags":["java","pentaho"],"owner":{"account_id":20163759,"reputation":9,"user_id":14788226,"display_name":"DRISSI EL Houcine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685613318,"creation_date":1685609416,"question_id":76380171,"body_markdown":"Could anyone please explain this error that I get when a job started. I have a scheduling lunch system for each kjb or ktr  and some are Ok and green and when it arrive at some ktr or kjb it gives me this error that I don&#39;t understand :\r\n    \r\n    \r\n    &gt;     2023/06/01 09:28:35 - job script launched - ERROR (version 8.3.0.0-371, build 8.3.0.0-371 from 2019-06-11 11.09.08 by buildguy) : Error running job entry &#39;job&#39; :\r\n    &gt;     2023/06/01 09:28:35 - job script launched - ERROR (version 8.3.0.0-371, build 8.3.0.0-371 from 2019-06-11 11.09.08 by buildguy) : org.pentaho.di.core.exception.KettleException: \r\n    &gt;     2023/06/01 09:28:35 - job script launched - Unexpected error during job metadata load\r\n    &gt;     2023/06/01 09:28:35 - job script launched -  at java.lang.Thread.run (null:-1)\r\n    &gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.entries.job.JobEntryJobRunner.run\r\n    &gt; (JobEntryJobRunner.java:69)\r\n    &gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.Job.execute (Job.java:565)\r\n    &gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.Job.execute (Job.java:827)\r\n    &gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.Job.execute (Job.java:827)\r\n    &gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.Job.execute (Job.java:827)\r\n    &gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.Job.execute (Job.java:827)\r\n    &gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.Job.execute (Job.java:827)\r\n    &gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.Job.execute (Job.java:686)\r\n    &gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.entries.job.JobEntryJob.execute\r\n    &gt; (JobEntryJob.java:695)\r\n    &gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.entries.job.JobEntryJob.getJobMeta\r\n    &gt; (JobEntryJob.java:1373)\r\n    &gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.entries.job.JobEntryJob.getJobMeta\r\n    &gt; (JobEntryJob.java:1409)\r\n    &gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.entries.job.JobEntryJob.getJobMetaFromRepository\r\n    &gt; (JobEntryJob.java:1388)\r\n    &gt;     2023/06/01 09:28:35 - job script launched - \r\n    &gt;     2023/06/01 09:28:35 - job script launched - \tat org.pentaho.di.job.entries.job.JobEntryJob.getJobMeta(JobEntryJob.java:1449)\r\n    &gt;     2023/06/01 09:28:35 - job script launched - \tat org.pentaho.di.job.entries.job.JobEntryJob.getJobMeta(JobEntryJob.java:1373)\r\n    &gt;     2023/06/01 09:28:35 - job script launched - \tat org.pentaho.di.job.entries.job.JobEntryJob.execute(JobEntryJob.java:695)\r\n    &gt;     2023/06/01 09:28:35 - job script launched - \tat org.pentaho.di.job.Job.execute(Job.java:686)\r\n    &gt;     2023/06/01 09:28:35 - job script launched - \tat org.pentaho.di.job.Job.execute(Job.java:827)\r\n    &gt;     2023/06/01 09:28:35 - job script launched - \tat org.pentaho.di.job.Job.execute(Job.java:827)\r\n    &gt;     2023/06/01 09:28:35 - job script launched - \tat org.pentaho.di.job.Job.execute(Job.java:827)\r\n    &gt;     2023/06/01 09:28:35 - job script launched - \tat org.pentaho.di.job.Job.execute(Job.java:827)\r\n    &gt;     2023/06/01 09:28:35 - job script launched - \tat org.pentaho.di.job.Job.execute(Job.java:827)\r\n    &gt;     2023/06/01 09:28:35 - job script launched - \tat org.pentaho.di.job.Job.execute(Job.java:565)`enter code here`\r\n    &gt;     2023/06/01 09:28:35 - job script launched - \tat org.pentaho.di.job.entries.job.JobEntryJobRunner.run(JobEntryJobRunner.java:69)\r\n    &gt;     2023/06/01 09:28:35 - job script launched - \tat java.lang.Thread.run(Unknown Source)\r\n    &gt;     2023/06/01 09:28:35 - job script launched - Caused by: java.lang.NullPointerException\r\n    &gt;     2023/06/01 09:28:35 - job script launched - \tat org.pentaho.di.job.entries.job.JobEntryJob.getJobMetaFromRepository(JobEntryJob.java:1388)\r\n    &gt;     2023/06/01 09:28:35 - job script launched - \tat org.pentaho.di.job.entries.job.JobEntryJob.getJobMeta(JobEntryJob.java:1409)\r\n    &gt;     2023/06/01 09:28:35 - job script launched - \t... 11 more","title":"I get this Error java in pentaho when I start a job","body":"<p>Could anyone please explain this error that I get when a job started. I have a scheduling lunch system for each kjb or ktr  and some are Ok and green and when it arrive at some ktr or kjb it gives me this error that I don't understand :</p>\n<pre><code>&gt;     2023/06/01 09:28:35 - job script launched - ERROR (version 8.3.0.0-371, build 8.3.0.0-371 from 2019-06-11 11.09.08 by buildguy) : Error running job entry 'job' :\n&gt;     2023/06/01 09:28:35 - job script launched - ERROR (version 8.3.0.0-371, build 8.3.0.0-371 from 2019-06-11 11.09.08 by buildguy) : org.pentaho.di.core.exception.KettleException: \n&gt;     2023/06/01 09:28:35 - job script launched - Unexpected error during job metadata load\n&gt;     2023/06/01 09:28:35 - job script launched -  at java.lang.Thread.run (null:-1)\n&gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.entries.job.JobEntryJobRunner.run\n&gt; (JobEntryJobRunner.java:69)\n&gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.Job.execute (Job.java:565)\n&gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.Job.execute (Job.java:827)\n&gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.Job.execute (Job.java:827)\n&gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.Job.execute (Job.java:827)\n&gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.Job.execute (Job.java:827)\n&gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.Job.execute (Job.java:827)\n&gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.Job.execute (Job.java:686)\n&gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.entries.job.JobEntryJob.execute\n&gt; (JobEntryJob.java:695)\n&gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.entries.job.JobEntryJob.getJobMeta\n&gt; (JobEntryJob.java:1373)\n&gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.entries.job.JobEntryJob.getJobMeta\n&gt; (JobEntryJob.java:1409)\n&gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.entries.job.JobEntryJob.getJobMetaFromRepository\n&gt; (JobEntryJob.java:1388)\n&gt;     2023/06/01 09:28:35 - job script launched - \n&gt;     2023/06/01 09:28:35 - job script launched -   at org.pentaho.di.job.entries.job.JobEntryJob.getJobMeta(JobEntryJob.java:1449)\n&gt;     2023/06/01 09:28:35 - job script launched -   at org.pentaho.di.job.entries.job.JobEntryJob.getJobMeta(JobEntryJob.java:1373)\n&gt;     2023/06/01 09:28:35 - job script launched -   at org.pentaho.di.job.entries.job.JobEntryJob.execute(JobEntryJob.java:695)\n&gt;     2023/06/01 09:28:35 - job script launched -   at org.pentaho.di.job.Job.execute(Job.java:686)\n&gt;     2023/06/01 09:28:35 - job script launched -   at org.pentaho.di.job.Job.execute(Job.java:827)\n&gt;     2023/06/01 09:28:35 - job script launched -   at org.pentaho.di.job.Job.execute(Job.java:827)\n&gt;     2023/06/01 09:28:35 - job script launched -   at org.pentaho.di.job.Job.execute(Job.java:827)\n&gt;     2023/06/01 09:28:35 - job script launched -   at org.pentaho.di.job.Job.execute(Job.java:827)\n&gt;     2023/06/01 09:28:35 - job script launched -   at org.pentaho.di.job.Job.execute(Job.java:827)\n&gt;     2023/06/01 09:28:35 - job script launched -   at org.pentaho.di.job.Job.execute(Job.java:565)`enter code here`\n&gt;     2023/06/01 09:28:35 - job script launched -   at org.pentaho.di.job.entries.job.JobEntryJobRunner.run(JobEntryJobRunner.java:69)\n&gt;     2023/06/01 09:28:35 - job script launched -   at java.lang.Thread.run(Unknown Source)\n&gt;     2023/06/01 09:28:35 - job script launched - Caused by: java.lang.NullPointerException\n&gt;     2023/06/01 09:28:35 - job script launched -   at org.pentaho.di.job.entries.job.JobEntryJob.getJobMetaFromRepository(JobEntryJob.java:1388)\n&gt;     2023/06/01 09:28:35 - job script launched -   at org.pentaho.di.job.entries.job.JobEntryJob.getJobMeta(JobEntryJob.java:1409)\n&gt;     2023/06/01 09:28:35 - job script launched -   ... 11 more\n</code></pre>\n"},{"tags":["java","intellij-idea","annotations","abstract-syntax-tree","annotation-processing"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1684130660,"post_id":76250953,"comment_id":134465867,"body_markdown":"Have you enabled annotation processing? See [IntelliJ doc](https://www.jetbrains.com/help/idea/annotation-processors-support.html)","body":"Have you enabled annotation processing? See <a href=\"https://www.jetbrains.com/help/idea/annotation-processors-support.html\" rel=\"nofollow noreferrer\">IntelliJ doc</a>"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1684144018,"post_id":76250953,"comment_id":134468529,"body_markdown":"If yes, please share your project sample at https://uploads.jetbrains.com and share the UploadID here to check the configuration","body":"If yes, please share your project sample at <a href=\"https://uploads.jetbrains.com\" rel=\"nofollow noreferrer\">uploads.jetbrains.com</a> and share the UploadID here to check the configuration"},{"owner":{"account_id":15749960,"reputation":11,"user_id":11364836,"display_name":"Thoi Khuman"},"score":0,"creation_date":1684158558,"post_id":76250953,"comment_id":134471807,"body_markdown":"I am not sure if these are the correct settings, but I have turned enabled annotation processing for the profiles Maven default annotation processors profile &amp; Annotation profile for AstTest but not for the Default profile. I have added the screen shot of it in the main question at the end.","body":"I am not sure if these are the correct settings, but I have turned enabled annotation processing for the profiles Maven default annotation processors profile &amp; Annotation profile for AstTest but not for the Default profile. I have added the screen shot of it in the main question at the end."},{"owner":{"account_id":15749960,"reputation":11,"user_id":11364836,"display_name":"Thoi Khuman"},"score":0,"creation_date":1684159020,"post_id":76250953,"comment_id":134471932,"body_markdown":"@EgorKlepikov here is the sample project Upload id: 2023_05_15_V3pSsNMD2m4eQvcWjGw2FK (file: AstTest.zip)","body":"@EgorKlepikov here is the sample project Upload id: 2023_05_15_V3pSsNMD2m4eQvcWjGw2FK (file: AstTest.zip)"}],"answers":[{"tags":[],"owner":{"account_id":28411028,"reputation":416,"user_id":21734429,"display_name":"romanv-jb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685613278,"creation_date":1685613278,"answer_id":76380698,"question_id":76250953,"body_markdown":"IDEA does recognize Classes and Methods generated by APs, but it expects them to be located in `target/generated-sources`.\r\nIn the Project you have provided you seem to be using an approach that is closer to what [Lombok][1] is doing.\r\n\r\nUnfortunately, recognizing Classes/Methods generated in such a way would require a custom support in editor for each individual implementation.\r\n\r\n\r\n  [1]: https://projectlombok.org/","title":"How to get intellij idea to recognise methods generated by my annotation processor","body":"<p>IDEA does recognize Classes and Methods generated by APs, but it expects them to be located in <code>target/generated-sources</code>.\nIn the Project you have provided you seem to be using an approach that is closer to what <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">Lombok</a> is doing.</p>\n<p>Unfortunately, recognizing Classes/Methods generated in such a way would require a custom support in editor for each individual implementation.</p>\n"}],"owner":{"account_id":15749960,"reputation":11,"user_id":11364836,"display_name":"Thoi Khuman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685613278,"creation_date":1684126380,"question_id":76250953,"body_markdown":"I have created a multi module project namely **App** and **Mods**, **App** contains the main method and **Mods** contains the annotation and its annotation processor.\r\n[Project Structure](https://i.stack.imgur.com/4CRMt.png)\r\n\r\nI have used the annotation on a class defined in the **App** module called *Test*, and further created an instance of it in the main method and also called the the *getTest* method that gets generated by the annotation processor.\r\n[Test class](https://i.stack.imgur.com/EMNFO.png)\r\n[Main method](https://i.stack.imgur.com/f9M6N.png)\r\n\r\nThe problem I am facing is that the method is not recognised by intellij and shows an error, but the project compiles and runs just fine.\r\n[Run results](https://i.stack.imgur.com/Np3eJ.png)\r\n\r\nHow do I get intellij idea to recognise methods generated by a custom annotation processor?\r\n\r\n\r\n#Note: annotation processor uses AST modification to generate the method\r\n\r\n[Preferences](https://i.stack.imgur.com/dIyDu.png)\r\n[Annotation processor](https://i.stack.imgur.com/NRWes.png)","title":"How to get intellij idea to recognise methods generated by my annotation processor","body":"<p>I have created a multi module project namely <strong>App</strong> and <strong>Mods</strong>, <strong>App</strong> contains the main method and <strong>Mods</strong> contains the annotation and its annotation processor.\n<a href=\"https://i.stack.imgur.com/4CRMt.png\" rel=\"nofollow noreferrer\">Project Structure</a></p>\n<p>I have used the annotation on a class defined in the <strong>App</strong> module called <em>Test</em>, and further created an instance of it in the main method and also called the the <em>getTest</em> method that gets generated by the annotation processor.\n<a href=\"https://i.stack.imgur.com/EMNFO.png\" rel=\"nofollow noreferrer\">Test class</a>\n<a href=\"https://i.stack.imgur.com/f9M6N.png\" rel=\"nofollow noreferrer\">Main method</a></p>\n<p>The problem I am facing is that the method is not recognised by intellij and shows an error, but the project compiles and runs just fine.\n<a href=\"https://i.stack.imgur.com/Np3eJ.png\" rel=\"nofollow noreferrer\">Run results</a></p>\n<p>How do I get intellij idea to recognise methods generated by a custom annotation processor?</p>\n<p>#Note: annotation processor uses AST modification to generate the method</p>\n<p><a href=\"https://i.stack.imgur.com/dIyDu.png\" rel=\"nofollow noreferrer\">Preferences</a>\n<a href=\"https://i.stack.imgur.com/NRWes.png\" rel=\"nofollow noreferrer\">Annotation processor</a></p>\n"},{"tags":["java","spring","swagger","openapi","springdoc"],"owner":{"account_id":16641195,"reputation":359,"user_id":13154548,"display_name":"eternal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685613242,"creation_date":1685612693,"question_id":76380610,"body_markdown":"I needed a different Instant format in all my dtos in swagger examples, so I&#39;ve replaced schema for an instant like this:\r\n\r\n    var config = SpringDocUtils.getConfig();\r\n    \r\n    config.replaceWithSchema(Instant.class, new StringSchema().example(INSTANT_FORMATTER.format(Instant.now())));\r\n\r\nBut I also need to have a specific format for some dtos. I&#39;ve tried to add `@Schema(example = &quot;2023-06-01T09:24:14.512125&quot;, type = &quot;string&quot;)` for this field, but seems like this annotation is ignored because of my `replaceWithSchema()`.\r\n\r\nHow can I specify different examples for specific Instant fields, while having another example for the rest of the Instant fields?","title":"Override example for one field in DTO with OpenAPI","body":"<p>I needed a different Instant format in all my dtos in swagger examples, so I've replaced schema for an instant like this:</p>\n<pre><code>var config = SpringDocUtils.getConfig();\n\nconfig.replaceWithSchema(Instant.class, new StringSchema().example(INSTANT_FORMATTER.format(Instant.now())));\n</code></pre>\n<p>But I also need to have a specific format for some dtos. I've tried to add <code>@Schema(example = &quot;2023-06-01T09:24:14.512125&quot;, type = &quot;string&quot;)</code> for this field, but seems like this annotation is ignored because of my <code>replaceWithSchema()</code>.</p>\n<p>How can I specify different examples for specific Instant fields, while having another example for the rest of the Instant fields?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1685606537,"post_id":76379660,"comment_id":134684356,"body_markdown":"Have you tried **downgrading** to Gradle 7.6 and maybe to Java 17 (or even Java 11)? Though given the error, more likely you only need to downgrade Java.","body":"Have you tried <b>downgrading</b> to Gradle 7.6 and maybe to Java 17 (or even Java 11)? Though given the error, more likely you only need to downgrade Java."},{"owner":{"account_id":4943370,"reputation":123,"user_id":3979494,"display_name":"Manu Mathur"},"score":0,"creation_date":1685609988,"post_id":76379660,"comment_id":134685078,"body_markdown":"Let me try this method, Mark. To achieve the same, I shall - 1) Uninstall the current JDK v20 from the system and will reinstall JDK v17. \n\nWill also reset the environment and system variables.\n\nHope that works.","body":"Let me try this method, Mark. To achieve the same, I shall - 1) Uninstall the current JDK v20 from the system and will reinstall JDK v17.   Will also reset the environment and system variables.  Hope that works."},{"owner":{"account_id":4943370,"reputation":123,"user_id":3979494,"display_name":"Manu Mathur"},"score":0,"creation_date":1685612940,"post_id":76379660,"comment_id":134685744,"body_markdown":"Hey @MarkRotteveel - the issue stands resolved. AS is no longer throwing error and the build is successful. Thanks for reminding me to downgrade the JDK version.","body":"Hey @MarkRotteveel - the issue stands resolved. AS is no longer throwing error and the build is successful. Thanks for reminding me to downgrade the JDK version."}],"answers":[{"comments":[{"owner":{"account_id":4943370,"reputation":123,"user_id":3979494,"display_name":"Manu Mathur"},"score":0,"creation_date":1685613132,"post_id":76380662,"comment_id":134685784,"body_markdown":"Thank you, @mostafa for this suggestion, but I had already given this a try, but didn&#39;t succeed.\n\nWhat worked in my favor is - downgrading the JDK version from 20 to 17.","body":"Thank you, @mostafa for this suggestion, but I had already given this a try, but didn&#39;t succeed.  What worked in my favor is - downgrading the JDK version from 20 to 17."}],"tags":[],"owner":{"account_id":11941592,"reputation":1007,"user_id":8738231,"display_name":"mostafa3dmax"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685613056,"creation_date":1685613056,"answer_id":76380662,"question_id":76379660,"body_markdown":"In the Project Structure menu -&gt; SDK Location -&gt; Gradle settings, set Gradle JDK to embedded JSD 17.0.6","title":"Getting &quot;Unsupported Java&quot; Gradle and JDK related error on Android Studio Flamingo","body":"<p>In the Project Structure menu -&gt; SDK Location -&gt; Gradle settings, set Gradle JDK to embedded JSD 17.0.6</p>\n"}],"owner":{"account_id":4943370,"reputation":123,"user_id":3979494,"display_name":"Manu Mathur"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1324,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685613056,"creation_date":1685605133,"question_id":76379660,"body_markdown":"I am restarting my Android development journey after 9 years, but when I try building my first project on Android Studio v2022.2.1, I encounter this error:\r\n\r\n```none\r\nUnsupported Java. \r\nYour build is currently configured to use Java 20.0.1 and Gradle 8.0.\r\n\r\nPossible solution:\r\n - Open Gradle wrapper settings, change `distributionUrl` property to use compatible Gradle version and reload the project\r\n```\r\n\r\nI searched for solutions on Stack Overflow and noticed that it&#39;s primarily related to Gradle properties and version issues, and most of the solutions recommended to either upgrade the Gradle version to 7.4+ or downgrade the JDK version.\r\n\r\nBut, I am already using Gradle v8.0 and latest JDK, available for my OS (Windows 10 OS x64 architecture). So, what could be the issue.\r\n\r\nI have already attempted the following steps listed in these 2 Stack Overflow answers:\r\n\r\n- [Answer #1](https://stackoverflow.com/questions/70890575/flutter-android-your-build-is-currently-configured-to-use-java-17-0-2-and-gra)\r\n\r\n- [Answer #2](https://stackoverflow.com/questions/75543891/unsupported-java-android-studio)\r\n\r\nBut the issue persists.","title":"Getting &quot;Unsupported Java&quot; Gradle and JDK related error on Android Studio Flamingo","body":"<p>I am restarting my Android development journey after 9 years, but when I try building my first project on Android Studio v2022.2.1, I encounter this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Unsupported Java. \nYour build is currently configured to use Java 20.0.1 and Gradle 8.0.\n\nPossible solution:\n - Open Gradle wrapper settings, change `distributionUrl` property to use compatible Gradle version and reload the project\n</code></pre>\n<p>I searched for solutions on Stack Overflow and noticed that it's primarily related to Gradle properties and version issues, and most of the solutions recommended to either upgrade the Gradle version to 7.4+ or downgrade the JDK version.</p>\n<p>But, I am already using Gradle v8.0 and latest JDK, available for my OS (Windows 10 OS x64 architecture). So, what could be the issue.</p>\n<p>I have already attempted the following steps listed in these 2 Stack Overflow answers:</p>\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/70890575/flutter-android-your-build-is-currently-configured-to-use-java-17-0-2-and-gra\">Answer #1</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/75543891/unsupported-java-android-studio\">Answer #2</a></p>\n</li>\n</ul>\n<p>But the issue persists.</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":4875051,"reputation":4665,"user_id":3930424,"accept_rate":78,"display_name":"GROX13"},"score":1,"creation_date":1489423567,"post_id":42768942,"comment_id":72653531,"body_markdown":"Possible duplicate of [Android Studio 2.2. Preview 1 error: &quot;Please use JDK 8 or newer&quot;](http://stackoverflow.com/questions/37335214/android-studio-2-2-preview-1-error-please-use-jdk-8-or-newer)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/37335214/android-studio-2-2-preview-1-error-please-use-jdk-8-or-newer\">Android Studio 2.2. Preview 1 error: &quot;Please use JDK 8 or newer&quot;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1281728,"reputation":73134,"user_id":1235698,"accept_rate":100,"display_name":"Marcin Orlowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489423351,"creation_date":1489423351,"answer_id":42768977,"question_id":42768942,"body_markdown":"&gt; Unsupported Java Version: Cannot start under Java 1.7.0_80-b15: Java 1.8 or later is required.\r\n\r\nIt seems like you also have outdated Java 7 installed on your system. Simply uninstall it completely if you do not really need it or at least update it to most recent version.\t","title":"How to fix unsupported Java version for Android Studio?","body":"<blockquote>\n  <p>Unsupported Java Version: Cannot start under Java 1.7.0_80-b15: Java 1.8 or later is required.</p>\n</blockquote>\n\n<p>It seems like you also have outdated Java 7 installed on your system. Simply uninstall it completely if you do not really need it or at least update it to most recent version. </p>\n"},{"comments":[{"owner":{"account_id":403078,"reputation":4280,"user_id":770627,"accept_rate":78,"display_name":"Albert.Qing"},"score":0,"creation_date":1689918924,"post_id":76340379,"comment_id":135283806,"body_markdown":"Note that sometimes there may be compatibility issues with the compiled SDK version, and changing the compiled SDK version may also solve the problem","body":"Note that sometimes there may be compatibility issues with the compiled SDK version, and changing the compiled SDK version may also solve the problem"}],"tags":[],"owner":{"account_id":403078,"reputation":4280,"user_id":770627,"accept_rate":78,"display_name":"Albert.Qing"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1685100638,"creation_date":1685100638,"answer_id":76340379,"question_id":42768942,"body_markdown":"1.Open your project in Android Studio and select\r\n `File &gt; Settings (on macOS, Android Studio &gt; Preferences`).\r\n\r\n2.In the left pane, navigate to `Build, Execution, Deployment &gt; Build Tools &gt; Gradle`.\r\n\r\n3.Under Gradle `JDK`, choose the right JDK option.\r\nClick OK.","title":"How to fix unsupported Java version for Android Studio?","body":"<p>1.Open your project in Android Studio and select\n<code>File &gt; Settings (on macOS, Android Studio &gt; Preferences</code>).</p>\n<p>2.In the left pane, navigate to <code>Build, Execution, Deployment &gt; Build Tools &gt; Gradle</code>.</p>\n<p>3.Under Gradle <code>JDK</code>, choose the right JDK option.\nClick OK.</p>\n"},{"tags":[],"owner":{"account_id":20651806,"reputation":1,"user_id":15161909,"display_name":"Mahmoud El Shenawy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685612945,"creation_date":1685612945,"answer_id":76380641,"question_id":42768942,"body_markdown":"There are two solutions, especially after updating Android Studio will change the default JDK to a higher version. So, If you are using an older version you have to make changes according to you. \r\n\r\nFirstly, to change the using JDK in Android Studio (Overall not for specific projects) the answer of @Albert.Qing is perfect, and no need to repeat his steps\r\n\r\nif the issue still exists so you have to change it in your specific project. \r\n\r\n&gt; Open your project\r\n&gt; \r\n&gt; Open `Project Structure`\r\n&gt; \r\n&gt; Select `SDK Location`\r\n&gt; \r\n&gt; You will see the following sentence: JDK Location was moved to `Gradle\r\n&gt; Setting` - Click on the setting\r\n&gt;\r\n&gt; Change the `Gradle JDK` to a suitable version\r\n\r\n","title":"How to fix unsupported Java version for Android Studio?","body":"<p>There are two solutions, especially after updating Android Studio will change the default JDK to a higher version. So, If you are using an older version you have to make changes according to you.</p>\n<p>Firstly, to change the using JDK in Android Studio (Overall not for specific projects) the answer of @Albert.Qing is perfect, and no need to repeat his steps</p>\n<p>if the issue still exists so you have to change it in your specific project.</p>\n<blockquote>\n<p>Open your project</p>\n<p>Open <code>Project Structure</code></p>\n<p>Select <code>SDK Location</code></p>\n<p>You will see the following sentence: JDK Location was moved to <code>Gradle Setting</code> - Click on the setting</p>\n<p>Change the <code>Gradle JDK</code> to a suitable version</p>\n</blockquote>\n"}],"owner":{"account_id":10450331,"reputation":31,"user_id":7704169,"display_name":"harsha555"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10444,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":3,"score":0,"last_activity_date":1685612945,"creation_date":1489423220,"question_id":42768942,"body_markdown":"I downloaded Android Studio, but when I try to run it I get:\r\n\r\n&gt; Unsupported Java Version: Cannot start under Java 1.7.0_80-b15: Java 1.8 or later is required.\r\n\r\nBut when I checked the Java version it is:\r\n\r\n&gt; java version &quot;1.8.0_45&quot; Java(TM) SE Runtime Environment (build 1.8.0_45-b14) Java HotSpot(TM) Server VM (build 25.45-b02, mixed mode)\r\n\r\nHow to fix it?","title":"How to fix unsupported Java version for Android Studio?","body":"<p>I downloaded Android Studio, but when I try to run it I get:</p>\n\n<blockquote>\n  <p>Unsupported Java Version: Cannot start under Java 1.7.0_80-b15: Java 1.8 or later is required.</p>\n</blockquote>\n\n<p>But when I checked the Java version it is:</p>\n\n<blockquote>\n  <p>java version \"1.8.0_45\" Java(TM) SE Runtime Environment (build 1.8.0_45-b14) Java HotSpot(TM) Server VM (build 25.45-b02, mixed mode)</p>\n</blockquote>\n\n<p>How to fix it?</p>\n"},{"tags":["java","spring","spring-boot","graphql"],"comments":[{"owner":{"account_id":1354373,"reputation":4359,"user_id":1293087,"display_name":"Laksitha Ranasingha"},"score":0,"creation_date":1550690466,"post_id":54793759,"comment_id":96365566,"body_markdown":"Have you tried this `and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS)`?","body":"Have you tried this <code>and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS)</code>?"},{"owner":{"account_id":13731020,"reputation":532,"user_id":9908535,"display_name":"Michael"},"score":0,"creation_date":1550690850,"post_id":54793759,"comment_id":96365727,"body_markdown":"I cannot configure the ObjectMapper, since it is used by graphql-servlet library internaly. But as written above: It anyway does not make any sense that the Publisher gets serialized to JSON.","body":"I cannot configure the ObjectMapper, since it is used by graphql-servlet library internaly. But as written above: It anyway does not make any sense that the Publisher gets serialized to JSON."}],"answers":[{"comments":[{"owner":{"account_id":13731020,"reputation":532,"user_id":9908535,"display_name":"Michael"},"score":0,"creation_date":1550756073,"post_id":54805857,"comment_id":96393106,"body_markdown":"Thanks! That was the missing piece of information. I actually used GraphiQL.app. And also tried the Web-based GraphiQL, but was not aware that it listens to another subscription endpoint.","body":"Thanks! That was the missing piece of information. I actually used GraphiQL.app. And also tried the Web-based GraphiQL, but was not aware that it listens to another subscription endpoint."},{"owner":{"account_id":4736637,"reputation":61,"user_id":3830848,"display_name":"user3830848"},"score":0,"creation_date":1581096408,"post_id":54805857,"comment_id":106328387,"body_markdown":"@vaa Could you please tell me how can I make subscriptions working when i have a context path for my spring boot app? By default my subscription url is `http://localhost:8080/subscriptions` . I tried setting the property `graphql.servlet.subscriptions.websocket.path=/&lt;&lt;context&gt;&gt;/subscriptions` but it still calls `http://localhost:8080/subscriptions`","body":"@vaa Could you please tell me how can I make subscriptions working when i have a context path for my spring boot app? By default my subscription url is <code>http:&#47;&#47;localhost:8080&#47;subscriptions</code> . I tried setting the property <code>graphql.servlet.subscriptions.websocket.path=&#47;&lt;&lt;context&gt;&gt;&#47;su&zwnj;&#8203;bscriptions</code> but it still calls <code>http:&#47;&#47;localhost:8080&#47;subscriptions</code>"},{"owner":{"account_id":1071752,"reputation":174,"user_id":1070842,"accept_rate":100,"display_name":"vaa"},"score":0,"creation_date":1583303001,"post_id":54805857,"comment_id":107065721,"body_markdown":"According to the classes `GraphQLWebsocketAutoConfiguration` and `GraphQLWsServerEndpointRegistration` from `graphql-spring-boot-autoconfigure` the `websocketPath`, which takes value from `graphql.servlet.subscriptions.websocket.path`, have to be qualified from root `/`. So, you have to specify your `&lt;&lt;context&gt;&gt;` in configuration.  Sorry for the later reply.","body":"According to the classes <code>GraphQLWebsocketAutoConfiguration</code> and <code>GraphQLWsServerEndpointRegistration</code> from <code>graphql-spring-boot-autoconfigure</code> the <code>websocketPath</code>, which takes value from <code>graphql.servlet.subscriptions.websocket.path</code>, have to be qualified from root <code>&#47;</code>. So, you have to specify your <code>&lt;&lt;context&gt;&gt;</code> in configuration.  Sorry for the later reply."}],"tags":[],"owner":{"account_id":1071752,"reputation":174,"user_id":1070842,"accept_rate":100,"display_name":"vaa"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1550747955,"creation_date":1550747955,"answer_id":54805857,"question_id":54793759,"body_markdown":"Above stack trace comes when you try to use electron based `GraphiQL.app` which was not updated since Mar 22, 2018 (v.0.7.2). So, to fix an issue and see subscription working:\r\n\r\n1. Don&#39;t use `GraphiQL.app`;\r\n\r\n2. Add following dependency to your `pom.xml` to expose resent `/graphiql` endpoint from your spring boot micro service (for testing):\r\n```\r\n        &lt;!-- Graph(i)QL tool: for development --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\r\n            &lt;artifactId&gt;graphiql-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n``` \r\n3. `graphiql` by default expects that subscriptions are exposed over `/subscriptions` endpoint. So:\r\n\r\n- either change `graphql.subscriptions.websocket.path` from `/graphql` to `/subscriptions`;\r\n\r\n- or customize `graphiql` in your `application.yml` (to reflect `graphql` configuration): \r\n```\r\ngraphiql:\r\n  endpoint:\r\n    subscriptions: /graphql\r\n```\r\n\r\nAfter restart you can go to `http://localhost:9200/graphiql` and run subscription, as:\r\n```\r\nsubscription StockCodeSubscription {\r\n    stockQuotes {\r\n        dateTime\r\n        stockCode\r\n        stockPrice\r\n        stockPriceChange\r\n    }\r\n}\r\n```\r\nShould work!","title":"How to write a resolver for a GraphQL subscription using graphql-java and graphql-java-servlet?","body":"<p>Above stack trace comes when you try to use electron based <code>GraphiQL.app</code> which was not updated since Mar 22, 2018 (v.0.7.2). So, to fix an issue and see subscription working:</p>\n\n<ol>\n<li><p>Don't use <code>GraphiQL.app</code>;</p></li>\n<li><p>Add following dependency to your <code>pom.xml</code> to expose resent <code>/graphiql</code> endpoint from your spring boot micro service (for testing):</p></li>\n</ol>\n\n<pre><code>        &lt;!-- Graph(i)QL tool: for development --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\n            &lt;artifactId&gt;graphiql-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;5.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<ol start=\"3\">\n<li><p><code>graphiql</code> by default expects that subscriptions are exposed over <code>/subscriptions</code> endpoint. So:</p>\n\n<ul>\n<li><p>either change <code>graphql.subscriptions.websocket.path</code> from <code>/graphql</code> to <code>/subscriptions</code>;</p></li>\n<li><p>or customize <code>graphiql</code> in your <code>application.yml</code> (to reflect <code>graphql</code> configuration): </p></li>\n</ul></li>\n</ol>\n\n<pre><code>graphiql:\n  endpoint:\n    subscriptions: /graphql\n</code></pre>\n\n<p>After restart you can go to <code>http://localhost:9200/graphiql</code> and run subscription, as:</p>\n\n<pre><code>subscription StockCodeSubscription {\n    stockQuotes {\n        dateTime\n        stockCode\n        stockPrice\n        stockPriceChange\n    }\n}\n</code></pre>\n\n<p>Should work!</p>\n"}],"owner":{"account_id":13731020,"reputation":532,"user_id":9908535,"display_name":"Michael"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4931,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54805857,"answer_count":1,"score":0,"last_activity_date":1685612919,"creation_date":1550690280,"question_id":54793759,"body_markdown":"I try to setup a Spring Boot based GraphQL service (based on project `graphql-spring-boot-starter`, https://github.com/graphql-java-kickstart/graphql-spring-boot), which does **not** use `graphql-java-tools`, but builds the RuntimeWiring manually/programmatically. GraphQL queries and mutations work just fine that way. However, I have problems to make subscriptions work.\r\n\r\nI&#39;ve added the following wiring to bind the DataFetcher for the subscription:\r\n\r\n    RuntimeWiring.Builder runtimeWiringBuilder =\r\n        newRuntimeWiring()\r\n        ...\r\n            .type(TypeRuntimeWiring.newTypeWiring(&quot;Subscription&quot;)\r\n                .dataFetcher(&quot;stockQuotes&quot;, gqlService::stockQuotes)\r\n            );\r\n\r\nAnd my resolver function returns correctly an `org.reactivestream.Publisher`\r\n\r\n    Publisher&lt;StockPriceUpdate&gt; stockQuotes(DataFetchingEnvironment env) {\r\n        return stockTickerPublisher.getPublisher();\r\n    }\r\n\r\nHowever, if I call my subscription from GraphiQL or GraphQL Playground, I get the following error:\r\n&quot;No serializer found for class graphql.execution.reactive.CompletionStageMappingPublisher&quot; (stack trace below).\r\n\r\nIt looks like that `GraphQLObjectMapper` from lib `graphql-java-servlet` tries to serialize the result, which is a (wrapped) `org.reactivestream.Publisher`, directly as a JSON result. That does not make sense, of course. Instead it should subscribe as listener to the publisher and push updates via the WebSocket whenever the Publisher emits the next update.\r\n\r\nAs far as I understood, `graphql-java-servlet` already has built-in support for subscriptions via WebSockets. Unfortunately there is no plain-vanilla example available, which does subscriptions *without using graphql-tools*.\r\n\r\nAny ideas how I can get this working? Thanks a lot!\r\n\r\nThe relevant parts of my `application.yml` file are those:\r\n\r\n    server:\r\n      port: 9200\r\n    \r\n    graphql:\r\n      servlet:\r\n        mapping: /graphql\r\n        enabled: true\r\n        corsEnabled: true\r\n        websocket:\r\n          enabled: true\r\n          path: /graphql\r\n        subscriptions:\r\n          websocket:\r\n            path: /graphql\r\n\r\nThe schema (excerpt):\r\n\r\n    schema {\r\n      query: Query\r\n      mutation: Mutation\r\n      subscription : Subscription\r\n    }\r\n    \r\n    type Subscription {\r\n      stockQuotes: StockPriceUpdate!\r\n    }\r\n    \r\n    type StockPriceUpdate {\r\n      dateTime : String\r\n      stockCode : String\r\n      stockPrice : Float\r\n      stockPriceChange : Float\r\n    }\r\n\r\nThe stacktrace:\r\n\r\n    java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class graphql.execution.reactive.CompletionStageMappingPublisher and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.LinkedHashMap[&quot;data&quot;])\r\n        at graphql.servlet.GraphQLObjectMapper.serializeResultAsJson(GraphQLObjectMapper.java:95) ~[graphql-java-servlet-7.1.1.jar:na]\r\n        at graphql.servlet.AbstractGraphQLHttpServlet.query(AbstractGraphQLHttpServlet.java:339) ~[graphql-java-servlet-7.1.1.jar:na]\r\n        at graphql.servlet.AbstractGraphQLHttpServlet.lambda$init$4(AbstractGraphQLHttpServlet.java:209) ~[graphql-java-servlet-7.1.1.jar:na]\r\n        at graphql.servlet.AbstractGraphQLHttpServlet.doRequest(AbstractGraphQLHttpServlet.java:306) ~[graphql-java-servlet-7.1.1.jar:na]\r\n        at graphql.servlet.AbstractGraphQLHttpServlet.doRequestAsync(AbstractGraphQLHttpServlet.java:297) ~[graphql-java-servlet-7.1.1.jar:na]\r\n        at graphql.servlet.AbstractGraphQLHttpServlet.doPost(AbstractGraphQLHttpServlet.java:327) ~[graphql-java-servlet-7.1.1.jar:na]\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) ~[spring-boot-actuator-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117) ~[spring-boot-actuator-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106) ~[spring-boot-actuator-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_192]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_192]\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_192]\r\n    Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class graphql.execution.reactive.CompletionStageMappingPublisher and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.LinkedHashMap[&quot;data&quot;])\r\n        at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.9.7.jar:2.9.7]\r\n        at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1191) ~[jackson-databind-2.9.7.jar:2.9.7]\r\n        at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:313) ~[jackson-databind-2.9.7.jar:2.9.7]\r\n        at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:71) ~[jackson-databind-2.9.7.jar:2.9.7]\r\n        at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:33) ~[jackson-databind-2.9.7.jar:2.9.7]\r\n        at com.fasterxml.jackson.databind.ser.std.MapSerializer.serializeFields(MapSerializer.java:718) ~[jackson-databind-2.9.7.jar:2.9.7]\r\n        at com.fasterxml.jackson.databind.ser.std.MapSerializer.serialize(MapSerializer.java:639) ~[jackson-databind-2.9.7.jar:2.9.7]\r\n        at com.fasterxml.jackson.databind.ser.std.MapSerializer.serialize(MapSerializer.java:33) ~[jackson-databind-2.9.7.jar:2.9.7]\r\n        at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.9.7.jar:2.9.7]\r\n        at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.9.7.jar:2.9.7]\r\n        at com.fasterxml.jackson.databind.ObjectMapper._configAndWriteValue(ObjectMapper.java:3905) ~[jackson-databind-2.9.7.jar:2.9.7]\r\n        at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:3219) ~[jackson-databind-2.9.7.jar:2.9.7]\r\n        at graphql.servlet.GraphQLObjectMapper.serializeResultAsJson(GraphQLObjectMapper.java:93) ~[graphql-java-servlet-7.1.1.jar:na]\r\n        ... 57 common frames omitted\r\n","title":"How to write a resolver for a GraphQL subscription using graphql-java and graphql-java-servlet?","body":"<p>I try to setup a Spring Boot based GraphQL service (based on project <code>graphql-spring-boot-starter</code>, <a href=\"https://github.com/graphql-java-kickstart/graphql-spring-boot\" rel=\"nofollow noreferrer\">https://github.com/graphql-java-kickstart/graphql-spring-boot</a>), which does <strong>not</strong> use <code>graphql-java-tools</code>, but builds the RuntimeWiring manually/programmatically. GraphQL queries and mutations work just fine that way. However, I have problems to make subscriptions work.</p>\n\n<p>I've added the following wiring to bind the DataFetcher for the subscription:</p>\n\n<pre><code>RuntimeWiring.Builder runtimeWiringBuilder =\n    newRuntimeWiring()\n    ...\n        .type(TypeRuntimeWiring.newTypeWiring(\"Subscription\")\n            .dataFetcher(\"stockQuotes\", gqlService::stockQuotes)\n        );\n</code></pre>\n\n<p>And my resolver function returns correctly an <code>org.reactivestream.Publisher</code></p>\n\n<pre><code>Publisher&lt;StockPriceUpdate&gt; stockQuotes(DataFetchingEnvironment env) {\n    return stockTickerPublisher.getPublisher();\n}\n</code></pre>\n\n<p>However, if I call my subscription from GraphiQL or GraphQL Playground, I get the following error:\n\"No serializer found for class graphql.execution.reactive.CompletionStageMappingPublisher\" (stack trace below).</p>\n\n<p>It looks like that <code>GraphQLObjectMapper</code> from lib <code>graphql-java-servlet</code> tries to serialize the result, which is a (wrapped) <code>org.reactivestream.Publisher</code>, directly as a JSON result. That does not make sense, of course. Instead it should subscribe as listener to the publisher and push updates via the WebSocket whenever the Publisher emits the next update.</p>\n\n<p>As far as I understood, <code>graphql-java-servlet</code> already has built-in support for subscriptions via WebSockets. Unfortunately there is no plain-vanilla example available, which does subscriptions <em>without using graphql-tools</em>.</p>\n\n<p>Any ideas how I can get this working? Thanks a lot!</p>\n\n<p>The relevant parts of my <code>application.yml</code> file are those:</p>\n\n<pre><code>server:\n  port: 9200\n\ngraphql:\n  servlet:\n    mapping: /graphql\n    enabled: true\n    corsEnabled: true\n    websocket:\n      enabled: true\n      path: /graphql\n    subscriptions:\n      websocket:\n        path: /graphql\n</code></pre>\n\n<p>The schema (excerpt):</p>\n\n<pre><code>schema {\n  query: Query\n  mutation: Mutation\n  subscription : Subscription\n}\n\ntype Subscription {\n  stockQuotes: StockPriceUpdate!\n}\n\ntype StockPriceUpdate {\n  dateTime : String\n  stockCode : String\n  stockPrice : Float\n  stockPriceChange : Float\n}\n</code></pre>\n\n<p>The stacktrace:</p>\n\n<pre><code>java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class graphql.execution.reactive.CompletionStageMappingPublisher and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.LinkedHashMap[\"data\"])\n    at graphql.servlet.GraphQLObjectMapper.serializeResultAsJson(GraphQLObjectMapper.java:95) ~[graphql-java-servlet-7.1.1.jar:na]\n    at graphql.servlet.AbstractGraphQLHttpServlet.query(AbstractGraphQLHttpServlet.java:339) ~[graphql-java-servlet-7.1.1.jar:na]\n    at graphql.servlet.AbstractGraphQLHttpServlet.lambda$init$4(AbstractGraphQLHttpServlet.java:209) ~[graphql-java-servlet-7.1.1.jar:na]\n    at graphql.servlet.AbstractGraphQLHttpServlet.doRequest(AbstractGraphQLHttpServlet.java:306) ~[graphql-java-servlet-7.1.1.jar:na]\n    at graphql.servlet.AbstractGraphQLHttpServlet.doRequestAsync(AbstractGraphQLHttpServlet.java:297) ~[graphql-java-servlet-7.1.1.jar:na]\n    at graphql.servlet.AbstractGraphQLHttpServlet.doPost(AbstractGraphQLHttpServlet.java:327) ~[graphql-java-servlet-7.1.1.jar:na]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.14.jar:9.0.14]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) ~[spring-boot-actuator-2.1.2.RELEASE.jar:2.1.2.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117) ~[spring-boot-actuator-2.1.2.RELEASE.jar:2.1.2.RELEASE]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106) ~[spring-boot-actuator-2.1.2.RELEASE.jar:2.1.2.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_192]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_192]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_192]\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class graphql.execution.reactive.CompletionStageMappingPublisher and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.LinkedHashMap[\"data\"])\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.9.7.jar:2.9.7]\n    at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1191) ~[jackson-databind-2.9.7.jar:2.9.7]\n    at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:313) ~[jackson-databind-2.9.7.jar:2.9.7]\n    at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:71) ~[jackson-databind-2.9.7.jar:2.9.7]\n    at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:33) ~[jackson-databind-2.9.7.jar:2.9.7]\n    at com.fasterxml.jackson.databind.ser.std.MapSerializer.serializeFields(MapSerializer.java:718) ~[jackson-databind-2.9.7.jar:2.9.7]\n    at com.fasterxml.jackson.databind.ser.std.MapSerializer.serialize(MapSerializer.java:639) ~[jackson-databind-2.9.7.jar:2.9.7]\n    at com.fasterxml.jackson.databind.ser.std.MapSerializer.serialize(MapSerializer.java:33) ~[jackson-databind-2.9.7.jar:2.9.7]\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.9.7.jar:2.9.7]\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.9.7.jar:2.9.7]\n    at com.fasterxml.jackson.databind.ObjectMapper._configAndWriteValue(ObjectMapper.java:3905) ~[jackson-databind-2.9.7.jar:2.9.7]\n    at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:3219) ~[jackson-databind-2.9.7.jar:2.9.7]\n    at graphql.servlet.GraphQLObjectMapper.serializeResultAsJson(GraphQLObjectMapper.java:93) ~[graphql-java-servlet-7.1.1.jar:na]\n    ... 57 common frames omitted\n</code></pre>\n"},{"tags":["java","apache-camel"],"comments":[{"owner":{"account_id":14511673,"reputation":25,"user_id":10481910,"display_name":"Jason"},"score":0,"creation_date":1695198673,"post_id":76380554,"comment_id":135990687,"body_markdown":"any one have advice?","body":"any one have advice?"}],"owner":{"account_id":14511673,"reputation":25,"user_id":10481910,"display_name":"Jason"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685612296,"creation_date":1685612296,"question_id":76380554,"body_markdown":"In our camel configure, we will receive file and once got file, will do split and do some convert work and aggregate the result and save into file.\r\n\r\n    route.split().tokenize(delimiter, eachThreadMsgNum).streaming().to(&quot;seda:rawMessages?concurrentConsumers=&quot;+mutiThreadNum).process(converter).to(publishUri)\r\n\t\t\t**.aggregate(header(Exchange.FILE_NAME_ONLY), new MyAggregationStrategy())\r\n\t\t\t.completionFromBatchConsumer()**\r\n\t\t\t.to(&quot;seda:persistResult?multipleConsumers=true&amp;concurrentConsumers=15&quot;)\r\n\t\t\t.end();\r\n\r\n    @Override\r\n\tpublic Exchange aggregate(Exchange oldExchange, Exchange newExchange) {\r\n        // put order together in old exchange by adding the order from new exchange\r\n\t        Object newBody = newExchange.getIn().getBody();\r\n\t        List&lt;Object&gt; list = null;\r\n\t        if (oldExchange == null) {\r\n\t            list = new ArrayList&lt;Object&gt;();\r\n\t            list.add(newBody);\r\n\t            newExchange.getIn().setBody(list);\r\n\t            return newExchange;\r\n\t        } else {\r\n\t            list = oldExchange.getIn().getBody(List.class);\r\n\t            list.add(newBody);\r\n\t            return oldExchange;\r\n\t        }\r\n\t    }\r\n\r\n\t}\r\n\r\nAnd from the camel document, it suggest we&#39;d better use aggregate after split.\r\nSo we just aggregate by incoming file name and sent to next route.\r\n\r\nSeems like the aggregator will build an aggregate repository which will use JVM memory to implement the aggregation.\r\n\r\nBut in our case, after we received continuous big file and each file aggregated result will be &gt; 100M String.\r\nSo after analyze the OOM heap dump file, the AggregatedRespository will hold a very big map like:\r\n\r\n    file_name_1 : 120M String\r\n    file_name_2 : 140M String\r\n    file_name_3 : 130M String\r\n    ...\r\n\r\nAnd we are using G1 as GC and looks like G1 is not like big object.\r\n\r\nAfter remove aggregation, the OOM is gone, and heap dump have no big object found.\r\n\r\nBut the concern is why Camel suggest to use aggregation after split? looks like it is not necessary. It looks like have no impact after we remove the aggregation part, at least the result are same. The only different is if using file name aggregation, it will pick next file, even the last persist step didn&#39;t start.\r\n\r\nAnd is there any way to setup some configure to let aggregation or batchConsumer not hold so much cache to finish aggregation so that it will not need to hold the big object for such long time and cause the OOM...\r\n\r\n\r\n","title":"How Camel could handle continuous large file with Split and Aggregation without OOM","body":"<p>In our camel configure, we will receive file and once got file, will do split and do some convert work and aggregate the result and save into file.</p>\n<pre><code>route.split().tokenize(delimiter, eachThreadMsgNum).streaming().to(&quot;seda:rawMessages?concurrentConsumers=&quot;+mutiThreadNum).process(converter).to(publishUri)\n        **.aggregate(header(Exchange.FILE_NAME_ONLY), new MyAggregationStrategy())\n        .completionFromBatchConsumer()**\n        .to(&quot;seda:persistResult?multipleConsumers=true&amp;concurrentConsumers=15&quot;)\n        .end();\n\n@Override\npublic Exchange aggregate(Exchange oldExchange, Exchange newExchange) {\n    // put order together in old exchange by adding the order from new exchange\n        Object newBody = newExchange.getIn().getBody();\n        List&lt;Object&gt; list = null;\n        if (oldExchange == null) {\n            list = new ArrayList&lt;Object&gt;();\n            list.add(newBody);\n            newExchange.getIn().setBody(list);\n            return newExchange;\n        } else {\n            list = oldExchange.getIn().getBody(List.class);\n            list.add(newBody);\n            return oldExchange;\n        }\n    }\n\n}\n</code></pre>\n<p>And from the camel document, it suggest we'd better use aggregate after split.\nSo we just aggregate by incoming file name and sent to next route.</p>\n<p>Seems like the aggregator will build an aggregate repository which will use JVM memory to implement the aggregation.</p>\n<p>But in our case, after we received continuous big file and each file aggregated result will be &gt; 100M String.\nSo after analyze the OOM heap dump file, the AggregatedRespository will hold a very big map like:</p>\n<pre><code>file_name_1 : 120M String\nfile_name_2 : 140M String\nfile_name_3 : 130M String\n...\n</code></pre>\n<p>And we are using G1 as GC and looks like G1 is not like big object.</p>\n<p>After remove aggregation, the OOM is gone, and heap dump have no big object found.</p>\n<p>But the concern is why Camel suggest to use aggregation after split? looks like it is not necessary. It looks like have no impact after we remove the aggregation part, at least the result are same. The only different is if using file name aggregation, it will pick next file, even the last persist step didn't start.</p>\n<p>And is there any way to setup some configure to let aggregation or batchConsumer not hold so much cache to finish aggregation so that it will not need to hold the big object for such long time and cause the OOM...</p>\n"},{"tags":["java","android","mapbox"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1605013121,"post_id":64769286,"comment_id":114518010,"body_markdown":"asking the simple question which has to be asked, but are you specifically looking to do this with code ? because you could just change the location on the emulator for android","body":"asking the simple question which has to be asked, but are you specifically looking to do this with code ? because you could just change the location on the emulator for android"},{"owner":{"account_id":284239,"reputation":3979,"user_id":582211,"accept_rate":79,"display_name":"Tom"},"score":1,"creation_date":1605013226,"post_id":64769286,"comment_id":114518054,"body_markdown":"Yep, with code. I&#39;d like to show indoor location as user location calculated by our hardware, not by GPS. Thanks a lot!","body":"Yep, with code. I&#39;d like to show indoor location as user location calculated by our hardware, not by GPS. Thanks a lot!"}],"answers":[{"tags":[],"owner":{"account_id":14274600,"reputation":1750,"user_id":10311158,"display_name":"Moritz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1605109554,"creation_date":1605109554,"answer_id":64789606,"question_id":64769286,"body_markdown":"The location engine that is used by the Mapbox locationComponent can be set programmatically. For that you can also use a MockLocationEngine.\r\n\r\nPlease see this article that explains how to define and initialize a locationEngine that would be used with the Mapbox locationComponent:\r\n\r\nhttps://docs.mapbox.com/help/tutorials/android-location-listening/#initialize-the-locationengine \r\n\r\nIf you do not want to create a MockLocationEngine yourself, you can make use of the Android default location engine and set test locations using `setTestProviderLocation`\r\n\r\nhttps://developer.android.com/reference/android/location/LocationManager#setTestProviderLocation(java.lang.String,%20android.location.Location)","title":"Mock user location in MapBox Android","body":"<p>The location engine that is used by the Mapbox locationComponent can be set programmatically. For that you can also use a MockLocationEngine.</p>\n<p>Please see this article that explains how to define and initialize a locationEngine that would be used with the Mapbox locationComponent:</p>\n<p><a href=\"https://docs.mapbox.com/help/tutorials/android-location-listening/#initialize-the-locationengine\" rel=\"nofollow noreferrer\">https://docs.mapbox.com/help/tutorials/android-location-listening/#initialize-the-locationengine</a></p>\n<p>If you do not want to create a MockLocationEngine yourself, you can make use of the Android default location engine and set test locations using <code>setTestProviderLocation</code></p>\n<p><a href=\"https://developer.android.com/reference/android/location/LocationManager#setTestProviderLocation(java.lang.String,%20android.location.Location)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/location/LocationManager#setTestProviderLocation(java.lang.String,%20android.location.Location)</a></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1685613432,"post_id":76380511,"comment_id":134685836,"body_markdown":"As itâs currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As itâs currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76380511/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":1988575,"reputation":21,"user_id":1783185,"display_name":"sevy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685612040,"creation_date":1685612040,"answer_id":76380511,"question_id":64769286,"body_markdown":"this is accepted as an answer? \r\n\r\nnone of this work :\r\n\r\nin suggestion 1, there is absolutely no example of a custom LocationEngine\r\n\r\ni suggestion 2, this is only available in developper mode on android and cannot be integrated in an app\r\n\r\ni still haven&#39;t found a solution with mapbox SDK 10.13.0","title":"Mock user location in MapBox Android","body":"<p>this is accepted as an answer?</p>\n<p>none of this work :</p>\n<p>in suggestion 1, there is absolutely no example of a custom LocationEngine</p>\n<p>i suggestion 2, this is only available in developper mode on android and cannot be integrated in an app</p>\n<p>i still haven't found a solution with mapbox SDK 10.13.0</p>\n"}],"owner":{"account_id":284239,"reputation":3979,"user_id":582211,"accept_rate":79,"display_name":"Tom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":539,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":64789606,"answer_count":2,"score":-1,"last_activity_date":1685612040,"creation_date":1605012735,"question_id":64769286,"body_markdown":"In MapBox IOS SDK there is a possibility to mock user location by implementing a custom MGLLocationManager. I have implemented mine and works great.\r\n\r\nNow I&#39;d like to implement the same feature on Andorid, but I can not find any similar classes. Would you be to kind to suggest me the way it works on Android?\r\n\r\nThanks a lot!","title":"Mock user location in MapBox Android","body":"<p>In MapBox IOS SDK there is a possibility to mock user location by implementing a custom MGLLocationManager. I have implemented mine and works great.</p>\n<p>Now I'd like to implement the same feature on Andorid, but I can not find any similar classes. Would you be to kind to suggest me the way it works on Android?</p>\n<p>Thanks a lot!</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684830702,"post_id":76312361,"comment_id":134570602,"body_markdown":"I suspect you need to use the `LocalTemporaryTableMutationStrategy` which implements the correct interface instead of the `LocalTemporaryTableStrategy` which looks like a helper class for the former mentioned class.","body":"I suspect you need to use the <code>LocalTemporaryTableMutationStrategy</code> which implements the correct interface instead of the <code>LocalTemporaryTableStrategy</code> which looks like a helper class for the former mentioned class."},{"owner":{"account_id":11221837,"reputation":2208,"user_id":8232755,"display_name":"Thoomas"},"score":0,"creation_date":1684841239,"post_id":76312361,"comment_id":134573069,"body_markdown":"Unfortunately, this is not working :  `Cannot instantiate the class [org.hibernate.query.sqm.mutation.internal.temptable.LocalTemporaryTableMutationStrategy] because it does not have a constructor that accepts a dialect or an empty constructor`. \nApp starts if I use `org.hibernate.query.sqm.mutation.internal.inline.InlineMutationStrategy`  but global temporary table are still created...","body":"Unfortunately, this is not working :  <code>Cannot instantiate the class [org.hibernate.query.sqm.mutation.internal.temptable.LocalTe&zwnj;&#8203;mporaryTableMutation&zwnj;&#8203;Strategy] because it does not have a constructor that accepts a dialect or an empty constructor</code>.  App starts if I use <code>org.hibernate.query.sqm.mutation.internal.inline.InlineMutat&zwnj;&#8203;ionStrategy</code>  but global temporary table are still created..."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684841837,"post_id":76312361,"comment_id":134573203,"body_markdown":"Try `local_temporary` as the full name (that seems to be the shortcut for it). If it doesn&#39;t implement the interface/appropriate strategy it will do the default (which is global tables, judging from the source code).","body":"Try <code>local_temporary</code> as the full name (that seems to be the shortcut for it). If it doesn&#39;t implement the interface/appropriate strategy it will do the default (which is global tables, judging from the source code)."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684842898,"post_id":76312361,"comment_id":134573467,"body_markdown":"Next to `mutation_strategy` you probably also want to set the `insert_strategy` to the same. `spring.jpa.properties.hibernate.query.mutation_strategy= local_temporary` and `spring.jpa.properties.hibernate.query.insert_strategy= local_temporary`","body":"Next to <code>mutation_strategy</code> you probably also want to set the <code>insert_strategy</code> to the same. <code>spring.jpa.properties.hibernate.query.mutation_strategy= local_temporary</code> and <code>spring.jpa.properties.hibernate.query.insert_strategy= local_temporary</code>"},{"owner":{"account_id":11221837,"reputation":2208,"user_id":8232755,"display_name":"Thoomas"},"score":0,"creation_date":1684843365,"post_id":76312361,"comment_id":134573571,"body_markdown":"With the `mutation_strategy` and `insert_strategy`set, I still have the `Cannot instantiate the class [org.hibernate.query.sqm.mutation.internal.temptable.LocalTemporaryTableMutationStrategy] because it does not have a constructor that accepts a dialect or an empty constructor` exception.","body":"With the <code>mutation_strategy</code> and <code>insert_strategy</code>set, I still have the <code>Cannot instantiate the class [org.hibernate.query.sqm.mutation.internal.temptable.LocalTe&zwnj;&#8203;mporaryTableMutation&zwnj;&#8203;Strategy] because it does not have a constructor that accepts a dialect or an empty constructor</code> exception."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684843748,"post_id":76312361,"comment_id":134573678,"body_markdown":"You are setting it with `local_temporary`? Or still the full classname?","body":"You are setting it with <code>local_temporary</code>? Or still the full classname?"},{"owner":{"account_id":11221837,"reputation":2208,"user_id":8232755,"display_name":"Thoomas"},"score":0,"creation_date":1684844001,"post_id":76312361,"comment_id":134573736,"body_markdown":"I tried both, but the last try was with the short name `local_temporary` as in your comment.","body":"I tried both, but the last try was with the short name <code>local_temporary</code> as in your comment."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684844477,"post_id":76312361,"comment_id":134573859,"body_markdown":"Feels like this is broken by design or something. Only the `InlineMutationStrategy` has a constructor that satisfies the constructor with a `Dialect`. All others have other constructors, not satisfying the constraint. I would register a ticket with Hibernate for t his.","body":"Feels like this is broken by design or something. Only the <code>InlineMutationStrategy</code> has a constructor that satisfies the constructor with a <code>Dialect</code>. All others have other constructors, not satisfying the constraint. I would register a ticket with Hibernate for t his."},{"owner":{"account_id":11221837,"reputation":2208,"user_id":8232755,"display_name":"Thoomas"},"score":0,"creation_date":1684844964,"post_id":76312361,"comment_id":134573978,"body_markdown":"You&#39;re right, and I can&#39;t use this strategy for the `insert_strategy` because it does not exist (strategies implementing `SqmMultiTableInsertStrategy` are only cte/global/local/persistent-table` strategies `. Thanks for your time and help, I will keep digging...","body":"You&#39;re right, and I can&#39;t use this strategy for the <code>insert_strategy</code> because it does not exist (strategies implementing <code>SqmMultiTableInsertStrategy</code> are only cte/global/local/persistent-table` strategies `. Thanks for your time and help, I will keep digging..."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684845205,"post_id":76312361,"comment_id":134574049,"body_markdown":"And yes you can use the `local_temporary` strategy as that maps to the local one. Check the code. Your initial class `LocalTemporaryTableStrategy` serves as a base class to both of those and the static name is used for the different strategies. (I did check on 6.2.2 I just noticed, not 6.1)","body":"And yes you can use the <code>local_temporary</code> strategy as that maps to the local one. Check the code. Your initial class <code>LocalTemporaryTableStrategy</code> serves as a base class to both of those and the static name is used for the different strategies. (I did check on 6.2.2 I just noticed, not 6.1)"},{"owner":{"account_id":11221837,"reputation":2208,"user_id":8232755,"display_name":"Thoomas"},"score":0,"creation_date":1684849951,"post_id":76312361,"comment_id":134575249,"body_markdown":"I tried to ignore the fact that I can&#39;t create global temporary tables and I ran my app without any properties configuring this aspect. The app starts and I can do everything, even if the `HTE_` tables are not present... I&#39;m really confused.","body":"I tried to ignore the fact that I can&#39;t create global temporary tables and I ran my app without any properties configuring this aspect. The app starts and I can do everything, even if the <code>HTE_</code> tables are not present... I&#39;m really confused."}],"answers":[{"tags":[],"owner":{"account_id":11221837,"reputation":2208,"user_id":8232755,"display_name":"Thoomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685611912,"creation_date":1685611912,"answer_id":76380491,"question_id":76312361,"body_markdown":"This was an Hibernate [issue](https://hibernate.atlassian.net/browse/HHH-15550) that has been solved in `6.2.0` : \r\n\r\n&gt; In addition to the\r\n&gt; hibernate.hql.bulk_id_strategy.global_temporary.drop_tables and\r\n&gt; hibernate.hql.bulk_id_strategy.persistent.drop_tables settings, add a\r\n&gt; create_tables variant which allows to control whether to create\r\n&gt; tables. Keep it true by default to retain backwards compatibility.\r\n\r\nSpring Boot 3.1 upgrades to Hibernate 6.2, so upgrading SB to `3.1.x` fixes the issue.","title":"Hibernate 6.1.x / Spring Boot : avoid global temporary table creation","body":"<p>This was an Hibernate <a href=\"https://hibernate.atlassian.net/browse/HHH-15550\" rel=\"nofollow noreferrer\">issue</a> that has been solved in <code>6.2.0</code> :</p>\n<blockquote>\n<p>In addition to the\nhibernate.hql.bulk_id_strategy.global_temporary.drop_tables and\nhibernate.hql.bulk_id_strategy.persistent.drop_tables settings, add a\ncreate_tables variant which allows to control whether to create\ntables. Keep it true by default to retain backwards compatibility.</p>\n</blockquote>\n<p>Spring Boot 3.1 upgrades to Hibernate 6.2, so upgrading SB to <code>3.1.x</code> fixes the issue.</p>\n"}],"owner":{"account_id":11221837,"reputation":2208,"user_id":8232755,"display_name":"Thoomas"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76380491,"answer_count":1,"score":1,"last_activity_date":1685611912,"creation_date":1684827837,"question_id":76312361,"body_markdown":"Hibernate creates temporary tables for bulk operations.\r\n\r\nWe&#39;re using Oracle (*v19.0.0.0.0*) and our user won&#39;t have the privilege to create temporary table.\r\n\r\nI&#39;ve tried a lot of different configurations, but `HTE_` tables are still created on startup :\r\n\r\n    09:07:43.658 INFO  [com.zaxxer.hikari.HikariDataSource      ] HikariPool-1 - Starting...\r\n    09:07:44.285 INFO  [com.zaxxer.hikari.pool.HikariPool       ] HikariPool-1 - Added connection oracle.jdbc.driver.T4CConnection@6dc5e857\r\n    09:07:44.286 INFO  [com.zaxxer.hikari.HikariDataSource      ] HikariPool-1 - Start completed.\r\n    09:07:44.596 INFO  [SQL dialect                             ] HHH000400: Using dialect: org.hibernate.dialect.Oracle12cDialect\r\n    Hibernate: create global temporary table HTE_xxxxx(...) on commit delete rows\r\n    Hibernate: create global temporary table HTE_yyyyy(...) on commit delete rows\r\n    09:07:45.551 INFO  [j.LocalContainerEntityManagerFactoryBean] Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n\r\nThese configurations don&#39;t work :\r\n```\r\nspring.jpa.properties.hibernate.query.mutation_strategy=org.hibernate.query.sqm.mutation.internal.temptable.LocalTemporaryTableMutationStrategy\r\n\r\nOR \r\n\r\nspring.jpa.properties.hibernate.query.mutation_strategy=org.hibernate.query.sqm.mutation.internal.inline.InlineMutationStrategy\r\nspring.jpa.properties.hibernate.query.insert_strategy=org.hibernate.query.sqm.mutation.internal.temptable.LocalTemporaryTableInsertStrategy\r\n```\r\n\r\n\r\nI&#39;m using **Hibernate 6.1.7.Final** and **Spring Boot 3.0.6**.\r\n\r\nI did not find other ways in the documentation : https://docs.jboss.org/hibernate/stable/orm/userguide/html_single/Hibernate_User_Guide.html\r\n","title":"Hibernate 6.1.x / Spring Boot : avoid global temporary table creation","body":"<p>Hibernate creates temporary tables for bulk operations.</p>\n<p>We're using Oracle (<em>v19.0.0.0.0</em>) and our user won't have the privilege to create temporary table.</p>\n<p>I've tried a lot of different configurations, but <code>HTE_</code> tables are still created on startup :</p>\n<pre><code>09:07:43.658 INFO  [com.zaxxer.hikari.HikariDataSource      ] HikariPool-1 - Starting...\n09:07:44.285 INFO  [com.zaxxer.hikari.pool.HikariPool       ] HikariPool-1 - Added connection oracle.jdbc.driver.T4CConnection@6dc5e857\n09:07:44.286 INFO  [com.zaxxer.hikari.HikariDataSource      ] HikariPool-1 - Start completed.\n09:07:44.596 INFO  [SQL dialect                             ] HHH000400: Using dialect: org.hibernate.dialect.Oracle12cDialect\nHibernate: create global temporary table HTE_xxxxx(...) on commit delete rows\nHibernate: create global temporary table HTE_yyyyy(...) on commit delete rows\n09:07:45.551 INFO  [j.LocalContainerEntityManagerFactoryBean] Initialized JPA EntityManagerFactory for persistence unit 'default'\n</code></pre>\n<p>These configurations don't work :</p>\n<pre><code>spring.jpa.properties.hibernate.query.mutation_strategy=org.hibernate.query.sqm.mutation.internal.temptable.LocalTemporaryTableMutationStrategy\n\nOR \n\nspring.jpa.properties.hibernate.query.mutation_strategy=org.hibernate.query.sqm.mutation.internal.inline.InlineMutationStrategy\nspring.jpa.properties.hibernate.query.insert_strategy=org.hibernate.query.sqm.mutation.internal.temptable.LocalTemporaryTableInsertStrategy\n</code></pre>\n<p>I'm using <strong>Hibernate 6.1.7.Final</strong> and <strong>Spring Boot 3.0.6</strong>.</p>\n<p>I did not find other ways in the documentation : <a href=\"https://docs.jboss.org/hibernate/stable/orm/userguide/html_single/Hibernate_User_Guide.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/stable/orm/userguide/html_single/Hibernate_User_Guide.html</a></p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1685019697,"post_id":76331546,"comment_id":134604604,"body_markdown":"Please check all the intermediate steps:\n- is pdfData really a PDF? Save it into a file to check\n- is the rendered image really an image? Save it into a file to check\nAlso look at log messages, and make sure you have the latest PDFBox\nversion with all the dependencies (jbig2 decoder)","body":"Please check all the intermediate steps: - is pdfData really a PDF? Save it into a file to check - is the rendered image really an image? Save it into a file to check Also look at log messages, and make sure you have the latest PDFBox version with all the dependencies (jbig2 decoder)"},{"owner":{"account_id":13720439,"reputation":39,"user_id":13167157,"display_name":"newhere"},"score":0,"creation_date":1685094972,"post_id":76331546,"comment_id":134616763,"body_markdown":"@TilmanHausherr. Checked all of this. Version of PDFBox is 2.0.28. What I additionaly  tested is that I scanned document with 2 different scanners in 300 and 600dpi. On first scanner is problem above, on second scanner converting is good for both dpi. I think that dpi shouldn&#39;t be even important at all. Might be a problem with scanner? Maybe scanner doesn&#39;t send some metadata?","body":"@TilmanHausherr. Checked all of this. Version of PDFBox is 2.0.28. What I additionaly  tested is that I scanned document with 2 different scanners in 300 and 600dpi. On first scanner is problem above, on second scanner converting is good for both dpi. I think that dpi shouldn&#39;t be even important at all. Might be a problem with scanner? Maybe scanner doesn&#39;t send some metadata?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1685098642,"post_id":76331546,"comment_id":134617490,"body_markdown":"You wrote &quot;Checked all of this&quot; but you&#39;re not telling what worked. Are both (I understand that this is about 2 different ones) PDFs ok when saved? Are the JPEGs ok when saved directly? I want to find out whether this base64 stuff plays a role here or not. Try to display the files with PDFDebugger.","body":"You wrote &quot;Checked all of this&quot; but you&#39;re not telling what worked. Are both (I understand that this is about 2 different ones) PDFs ok when saved? Are the JPEGs ok when saved directly? I want to find out whether this base64 stuff plays a role here or not. Try to display the files with PDFDebugger."},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1685438375,"post_id":76331546,"comment_id":134656193,"body_markdown":"@newhere Could we help you and did you solve your problem? It is custom on SO to &quot;follow-up&quot; you question and continue in the conversion...","body":"@newhere Could we help you and did you solve your problem? It is custom on SO to &quot;follow-up&quot; you question and continue in the conversion..."},{"owner":{"account_id":13720439,"reputation":39,"user_id":13167157,"display_name":"newhere"},"score":0,"creation_date":1685530182,"post_id":76331546,"comment_id":134672054,"body_markdown":"@TilmanHausherr. PDF&#39;s are ok when saved. What do you mean by JPEG&#39;s saved directly?","body":"@TilmanHausherr. PDF&#39;s are ok when saved. What do you mean by JPEG&#39;s saved directly?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1685530883,"post_id":76331546,"comment_id":134672185,"body_markdown":"Save them as file and not base64. This way you&#39;ll know whether the JPEG was ok before it was converted to base64. If the directly saved JPEG is not ok then share it for analysis. I&#39;m lazy (sorry!) so I didn&#39;t bother to understand your code and first wanted to know whether the core part (PDF rendering) works or not. Oh, I just looked at your code and you seem to have TWO `base64JPEG` variables (one inner, one global that is returned), or this isn&#39;t your actual code, i.e. you messed up something when editing.","body":"Save them as file and not base64. This way you&#39;ll know whether the JPEG was ok before it was converted to base64. If the directly saved JPEG is not ok then share it for analysis. I&#39;m lazy (sorry!) so I didn&#39;t bother to understand your code and first wanted to know whether the core part (PDF rendering) works or not. Oh, I just looked at your code and you seem to have TWO <code>base64JPEG</code> variables (one inner, one global that is returned), or this isn&#39;t your actual code, i.e. you messed up something when editing."},{"owner":{"account_id":13720439,"reputation":39,"user_id":13167157,"display_name":"newhere"},"score":0,"creation_date":1685534650,"post_id":76331546,"comment_id":134673034,"body_markdown":"No, JPEG is not ok when saved as file. If it helps, I&#39;ve converted bytes to string to see headers of both PDF&#39;s, one that working and one that not working.  One that working have some hash after stream, one that not working, doesn&#39;t have anything. It&#39;s like that doesn&#39;t have any content, but it is valid PDF.","body":"No, JPEG is not ok when saved as file. If it helps, I&#39;ve converted bytes to string to see headers of both PDF&#39;s, one that working and one that not working.  One that working have some hash after stream, one that not working, doesn&#39;t have anything. It&#39;s like that doesn&#39;t have any content, but it is valid PDF."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1685536029,"post_id":76331546,"comment_id":134673422,"body_markdown":"Then share this PDF.","body":"Then share this PDF."},{"owner":{"account_id":13720439,"reputation":39,"user_id":13167157,"display_name":"newhere"},"score":1,"creation_date":1685538413,"post_id":76331546,"comment_id":134674025,"body_markdown":"https://www.transfernow.net/dl/20230531ZC9SUjO8","body":"<a href=\"https://www.transfernow.net/dl/20230531ZC9SUjO8\" rel=\"nofollow noreferrer\">transfernow.net/dl/20230531ZC9SUjO8</a>"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1685554097,"post_id":76331546,"comment_id":134677836,"body_markdown":"Make sure the JPX and JBIG2 decoder are in your classpath. https://pdfbox.apache.org/2.0/dependencies.html  There is a log message if you don&#39;t (did you switch off the log messages?). The file renders properly for me.","body":"Make sure the JPX and JBIG2 decoder are in your classpath. <a href=\"https://pdfbox.apache.org/2.0/dependencies.html\" rel=\"nofollow noreferrer\">pdfbox.apache.org/2.0/dependencies.html</a>  There is a log message if you don&#39;t (did you switch off the log messages?). The file renders properly for me."},{"owner":{"account_id":13720439,"reputation":39,"user_id":13167157,"display_name":"newhere"},"score":0,"creation_date":1685602944,"post_id":76331546,"comment_id":134683653,"body_markdown":"implementation &#39;org.apache.pdfbox:pdfbox:2.0.28&#39;\n  implementation &#39;org.apache.pdfbox:jbig2-imageio:3.0.4&#39;\n\nThis are my dependencies","body":"implementation &#39;org.apache.pdfbox:pdfbox:2.0.28&#39;   implementation &#39;org.apache.pdfbox:jbig2-imageio:3.0.4&#39;  This are my dependencies"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1685604542,"post_id":76331546,"comment_id":134683974,"body_markdown":"&lt;dependency&gt;\n    &lt;groupId&gt;com.github.jai-imageio&lt;/groupId&gt;\n    &lt;artifactId&gt;jai-imageio-jpeg2000&lt;/artifactId&gt;\n    &lt;version&gt;1.4.0&lt;/version&gt;\n&lt;/dependency&gt; and &lt;dependency&gt;\n    &lt;groupId&gt;com.github.jai-imageio&lt;/groupId&gt;\n    &lt;artifactId&gt;jai-imageio-core&lt;/artifactId&gt;\n    &lt;version&gt;1.3.1&lt;/version&gt;\n&lt;/dependency&gt; and find out why your logging is disabled.","body":"&lt;dependency&gt;     &lt;groupId&gt;com.github.jai-imageio&lt;/groupId&gt;     &lt;artifactId&gt;jai-imageio-jpeg2000&lt;/artifactId&gt;     &lt;version&gt;1.4.0&lt;/version&gt; &lt;/dependency&gt; and &lt;dependency&gt;     &lt;groupId&gt;com.github.jai-imageio&lt;/groupId&gt;     &lt;artifactId&gt;jai-imageio-core&lt;/artifactId&gt;     &lt;version&gt;1.3.1&lt;/version&gt; &lt;/dependency&gt; and find out why your logging is disabled."},{"owner":{"account_id":13720439,"reputation":39,"user_id":13167157,"display_name":"newhere"},"score":0,"creation_date":1685607908,"post_id":76331546,"comment_id":134684635,"body_markdown":"Those dependecies solved problem. Thank you!","body":"Those dependecies solved problem. Thank you!"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1685611255,"post_id":76331546,"comment_id":134685356,"body_markdown":"Thanks I&#39;ve added it as answer. Note that the version number is different from the comment. In the comment I copy-pasted from github readme, which was outdated.","body":"Thanks I&#39;ve added it as answer. Note that the version number is different from the comment. In the comment I copy-pasted from github readme, which was outdated."}],"answers":[{"comments":[{"owner":{"account_id":13720439,"reputation":39,"user_id":13167157,"display_name":"newhere"},"score":0,"creation_date":1685515767,"post_id":76340993,"comment_id":134669083,"body_markdown":"When passing byte from readBinaryFromFile() to PDFDocument.load it says End-of-File. I tried your modified readBase64FromFile() and when returning value, it says Illegal base64 character 5b.","body":"When passing byte from readBinaryFromFile() to PDFDocument.load it says End-of-File. I tried your modified readBase64FromFile() and when returning value, it says Illegal base64 character 5b."},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1685545485,"post_id":76340993,"comment_id":134675913,"body_markdown":"@newhere In the readBinaryFromFile the base64 decoding was missing. I added it. So try again. Also in the other method I was incorrectly calling `line.getBytes()` - which I corrected. Please try again...","body":"@newhere In the readBinaryFromFile the base64 decoding was missing. I added it. So try again. Also in the other method I was incorrectly calling <code>line.getBytes()</code> - which I corrected. Please try again..."}],"tags":[],"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685545364,"creation_date":1685105445,"answer_id":76340993,"question_id":76331546,"body_markdown":"There are several issues with your code:\r\n\r\n1. You are not decoding the base64 data correctly. You read the file line by line and convert (each line) to bytes. Then at the end you pass the whole thing to the Base64 decoder converting it back to string. You should change the method to:\r\n\r\n       public static byte[] readBase64FromFile(String filePath) {\r\n        File file = new File(filePath);\r\n        StringBuilder base64StringBuilder = new StringBuilder();\r\n        \r\n        try (BufferedReader reader = new BufferedReader(new FileReader(file))) {\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                base64StringBuilder.append(line);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return Base64.getDecoder().decode(base64StringBuilder.toString());\r\n       }\r\n   Or read the whole thing as a binary:\r\n\r\n       public static byte[] readBinaryFromFile(String filePath) {\r\n        \r\n        Path path2Pdf = Paths.get(filePath);\r\n        \r\n        byte[] pdf = new byte[]{};\r\n        try {\r\n            pdf = Files.readAllBytes(path2Pdf);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        \r\n        return Base64.getDecoder().decode(pdf);\r\n       }\r\n     \r\n2. Your `convertPDFtoJPEG` method doesn&#39;t make sense. You are reading the whole file but only return the last page (which might even be a white page). You should return a list of base64 jpeg pages:\r\n\r\n       public static List&lt;String&gt; convertPDFtoJPEG(byte[] pdfData) {\r\n        List&lt;String&gt; listOfBase64Images = new ArrayList&lt;&gt;();\r\n        \r\n        try (PDDocument document = PDDocument.load(pdfData)){\r\n            PDFRenderer renderer = new PDFRenderer(document);\r\n\r\n            for (int pageIndex = 0; pageIndex &lt; document.getNumberOfPages(); pageIndex++) {\r\n                BufferedImage image = renderer.renderImageWithDPI(pageIndex, 300);\r\n                ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n                ImageIO.write(image, &quot;JPEG&quot;, baos);\r\n                listOfBase64Images.add(Base64.getEncoder().encodeToString(baos.toByteArray()));\r\n            }\r\n        } \r\n        catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return listOfBase64Images;\r\n    }\r\n\r\nAnd fyi: calling close() and flush() on a `ByteArrayOutputStream` doesn&#39;t do anything.","title":"Convert PDF to JPEG","body":"<p>There are several issues with your code:</p>\n<ol>\n<li><p>You are not decoding the base64 data correctly. You read the file line by line and convert (each line) to bytes. Then at the end you pass the whole thing to the Base64 decoder converting it back to string. You should change the method to:</p>\n<pre><code>public static byte[] readBase64FromFile(String filePath) {\n File file = new File(filePath);\n StringBuilder base64StringBuilder = new StringBuilder();\n\n try (BufferedReader reader = new BufferedReader(new FileReader(file))) {\n     String line;\n     while ((line = reader.readLine()) != null) {\n         base64StringBuilder.append(line);\n     }\n } catch (IOException e) {\n     e.printStackTrace();\n }\n return Base64.getDecoder().decode(base64StringBuilder.toString());\n}\n</code></pre>\n<p>Or read the whole thing as a binary:</p>\n<pre><code>public static byte[] readBinaryFromFile(String filePath) {\n\n Path path2Pdf = Paths.get(filePath);\n\n byte[] pdf = new byte[]{};\n try {\n     pdf = Files.readAllBytes(path2Pdf);\n } catch (IOException e) {\n     e.printStackTrace();\n }\n\n return Base64.getDecoder().decode(pdf);\n}\n</code></pre>\n</li>\n<li><p>Your <code>convertPDFtoJPEG</code> method doesn't make sense. You are reading the whole file but only return the last page (which might even be a white page). You should return a list of base64 jpeg pages:</p>\n<pre><code>public static List&lt;String&gt; convertPDFtoJPEG(byte[] pdfData) {\n List&lt;String&gt; listOfBase64Images = new ArrayList&lt;&gt;();\n\n try (PDDocument document = PDDocument.load(pdfData)){\n     PDFRenderer renderer = new PDFRenderer(document);\n\n     for (int pageIndex = 0; pageIndex &lt; document.getNumberOfPages(); pageIndex++) {\n         BufferedImage image = renderer.renderImageWithDPI(pageIndex, 300);\n         ByteArrayOutputStream baos = new ByteArrayOutputStream();\n         ImageIO.write(image, &quot;JPEG&quot;, baos);\n         listOfBase64Images.add(Base64.getEncoder().encodeToString(baos.toByteArray()));\n     }\n } \n catch (IOException e) {\n     e.printStackTrace();\n }\n return listOfBase64Images;\n</code></pre>\n<p>}</p>\n</li>\n</ol>\n<p>And fyi: calling close() and flush() on a <code>ByteArrayOutputStream</code> doesn't do anything.</p>\n"},{"comments":[{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1685614485,"post_id":76380406,"comment_id":134686043,"body_markdown":"Ah ok the libs were missing - good catch!","body":"Ah ok the libs were missing - good catch!"}],"tags":[],"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685611207,"creation_date":1685611207,"answer_id":76380406,"question_id":76331546,"body_markdown":"As discussed in the comments, make sure you have the dependencies for JPX and JBIG2 image formats:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.github.jai-imageio&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jai-imageio-jpeg2000&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.4.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.github.jai-imageio&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jai-imageio-core&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.4.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nI also recommend using the [twelvemonkeys][1] library for TIFF and JPEG.\r\n\r\n\r\n  [1]: https://github.com/haraldk/TwelveMonkeys","title":"Convert PDF to JPEG","body":"<p>As discussed in the comments, make sure you have the dependencies for JPX and JBIG2 image formats:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.jai-imageio&lt;/groupId&gt;\n    &lt;artifactId&gt;jai-imageio-jpeg2000&lt;/artifactId&gt;\n    &lt;version&gt;1.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.github.jai-imageio&lt;/groupId&gt;\n    &lt;artifactId&gt;jai-imageio-core&lt;/artifactId&gt;\n    &lt;version&gt;1.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I also recommend using the <a href=\"https://github.com/haraldk/TwelveMonkeys\" rel=\"nofollow noreferrer\">twelvemonkeys</a> library for TIFF and JPEG.</p>\n"}],"owner":{"account_id":13720439,"reputation":39,"user_id":13167157,"display_name":"newhere"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76380406,"answer_count":2,"score":2,"last_activity_date":1685611207,"creation_date":1685012322,"question_id":76331546,"body_markdown":"I&#39;m trying to create a process of converting base64 of pdf to base64 of jpeg image. The problem that I have is if pdf is scanned with less than 600dpi, image is not rendered correctly, it is white image without any content in it. \r\n\r\nThis is my code:\r\n\r\n    public String convertPDFtoJPEG(byte[] pdfData) {\r\n        try {\r\n          PDDocument document = PDDocument.load(pdfData);\r\n          PDFRenderer renderer = new PDFRenderer(document);\r\n    \r\n          for (int pageIndex = 0; pageIndex &lt; document.getNumberOfPages(); pageIndex++) {\r\n            BufferedImage image = renderer.renderImageWithDPI(pageIndex, 300);\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            ImageIO.write(image, &quot;JPEG&quot;, baos);\r\n    \r\n            baos.flush();\r\n    \r\n            String base64JPEG = Base64.getEncoder().encodeToString(baos.toByteArray());\r\n    \r\n            baos.close();\r\n          }\r\n    \r\n          document.close();\r\n        } catch (IOException e) {\r\n          e.printStackTrace();\r\n        }\r\n        return base64JPEG;\r\n    \r\n      }\r\n    \r\n     public byte[] readBase64FromFile(String filePath) {\r\n        File file = new File(filePath);\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        try (BufferedReader reader = new BufferedReader(new FileReader(file))) {\r\n          String line;\r\n          while ((line = reader.readLine()) != null) {\r\n            baos.write(line.getBytes());\r\n          }\r\n        } catch (IOException e) {\r\n          e.printStackTrace();\r\n        } \r\n        return Base64.getDecoder().decode(baos.toByteArray());\r\n      }\r\n\r\n\r\nThis is how I&#39;m calling this methods:\r\n\r\n    String filepath = &quot;path:\\\\to\\\\file.txt&quot;\r\n    byte[] pdfData = readBase64FromFile(filePath);\r\n\r\n    convertPDFtoJPEG(pdfData);\r\n\r\n In file.txt is base64 of pdf.","title":"Convert PDF to JPEG","body":"<p>I'm trying to create a process of converting base64 of pdf to base64 of jpeg image. The problem that I have is if pdf is scanned with less than 600dpi, image is not rendered correctly, it is white image without any content in it.</p>\n<p>This is my code:</p>\n<pre><code>public String convertPDFtoJPEG(byte[] pdfData) {\n    try {\n      PDDocument document = PDDocument.load(pdfData);\n      PDFRenderer renderer = new PDFRenderer(document);\n\n      for (int pageIndex = 0; pageIndex &lt; document.getNumberOfPages(); pageIndex++) {\n        BufferedImage image = renderer.renderImageWithDPI(pageIndex, 300);\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        ImageIO.write(image, &quot;JPEG&quot;, baos);\n\n        baos.flush();\n\n        String base64JPEG = Base64.getEncoder().encodeToString(baos.toByteArray());\n\n        baos.close();\n      }\n\n      document.close();\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n    return base64JPEG;\n\n  }\n\n public byte[] readBase64FromFile(String filePath) {\n    File file = new File(filePath);\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    try (BufferedReader reader = new BufferedReader(new FileReader(file))) {\n      String line;\n      while ((line = reader.readLine()) != null) {\n        baos.write(line.getBytes());\n      }\n    } catch (IOException e) {\n      e.printStackTrace();\n    } \n    return Base64.getDecoder().decode(baos.toByteArray());\n  }\n</code></pre>\n<p>This is how I'm calling this methods:</p>\n<pre><code>String filepath = &quot;path:\\\\to\\\\file.txt&quot;\nbyte[] pdfData = readBase64FromFile(filePath);\n\nconvertPDFtoJPEG(pdfData);\n</code></pre>\n<p>In file.txt is base64 of pdf.</p>\n"},{"tags":["java","azul-zing"],"answers":[{"comments":[{"owner":{"account_id":5143074,"reputation":689,"user_id":4119789,"accept_rate":100,"display_name":"Nishant Modi"},"score":0,"creation_date":1681887307,"post_id":76044451,"comment_id":134127408,"body_markdown":"The one thing which is different on impacted environment is that, we are doing heavy groovy processing, millions of groovy scripts are getting executed in a day","body":"The one thing which is different on impacted environment is that, we are doing heavy groovy processing, millions of groovy scripts are getting executed in a day"},{"owner":{"account_id":11106749,"reputation":3227,"user_id":8153713,"display_name":"Speakjava"},"score":0,"creation_date":1681912129,"post_id":76044451,"comment_id":134133552,"body_markdown":"Have you tried running this on the HotSpot JVM (i.e. a build of OpenJDK like Zulu)? That would show whether the issue is because of the way the Prime JVM works as opposed to the application.","body":"Have you tried running this on the HotSpot JVM (i.e. a build of OpenJDK like Zulu)? That would show whether the issue is because of the way the Prime JVM works as opposed to the application."}],"tags":[],"owner":{"account_id":11106749,"reputation":3227,"user_id":8153713,"display_name":"Speakjava"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681819828,"creation_date":1681819828,"answer_id":76044451,"question_id":75989193,"body_markdown":"There is a standard JVM flag that can be used to control this, `-XX:MaxDirectMemorySize`. I checked the Prime JVM, and the default setting for this is zero, which is the same as for OpenJDK HotSpot. Zero means there is no limit. \r\n\r\nHowever, I think you need to be careful changing this because this space is not like the heap (obviously). If you limit the heap size, your application can still (potentially) continue to work by running the garbage collector more frequently. Off-heap memory is not collected automatically; if you make the value smaller than is required, you&#39;ll cause an abrupt halt of your application.\r\n\r\nI would recommend investigating why the off-heap memory usage is high. This is probably a result of what your application is doing rather than the Prime JVM&#39;s usage. \r\n\r\nThe one thing I can think of that might cause this outside the application is the cache for JIT-compiled code. You can see how much this is by adding the `âXX:+PrintCodeCache` flag. I think that is unlikely to be an issue since this will typically be of the order of MB, not GB.","title":"How can we set max limit on off heap usage in azul prime jvm","body":"<p>There is a standard JVM flag that can be used to control this, <code>-XX:MaxDirectMemorySize</code>. I checked the Prime JVM, and the default setting for this is zero, which is the same as for OpenJDK HotSpot. Zero means there is no limit.</p>\n<p>However, I think you need to be careful changing this because this space is not like the heap (obviously). If you limit the heap size, your application can still (potentially) continue to work by running the garbage collector more frequently. Off-heap memory is not collected automatically; if you make the value smaller than is required, you'll cause an abrupt halt of your application.</p>\n<p>I would recommend investigating why the off-heap memory usage is high. This is probably a result of what your application is doing rather than the Prime JVM's usage.</p>\n<p>The one thing I can think of that might cause this outside the application is the cache for JIT-compiled code. You can see how much this is by adding the <code>âXX:+PrintCodeCache</code> flag. I think that is unlikely to be an issue since this will typically be of the order of MB, not GB.</p>\n"},{"tags":[],"owner":{"account_id":5143074,"reputation":689,"user_id":4119789,"accept_rate":100,"display_name":"Nishant Modi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685611109,"creation_date":1685611109,"answer_id":76380395,"question_id":75989193,"body_markdown":"Although we couldn&#39;t found a way to restrict the off heap usage , but the issue was with Azul&#39;s default compiler falcon and its way to handle Dynamic Code generation. After switching on KestralC2 on such environment where dynamic code generation is huge we have solved the issue of off heap mem going beyond control.","title":"How can we set max limit on off heap usage in azul prime jvm","body":"<p>Although we couldn't found a way to restrict the off heap usage , but the issue was with Azul's default compiler falcon and its way to handle Dynamic Code generation. After switching on KestralC2 on such environment where dynamic code generation is huge we have solved the issue of off heap mem going beyond control.</p>\n"}],"owner":{"account_id":5143074,"reputation":689,"user_id":4119789,"accept_rate":100,"display_name":"Nishant Modi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76380395,"answer_count":2,"score":0,"last_activity_date":1685611109,"creation_date":1681238816,"question_id":75989193,"body_markdown":"We are using azul prime, and it is using a lot of off heap memory.\r\nis there any way to give limit for off heap memory like we give for heap","title":"How can we set max limit on off heap usage in azul prime jvm","body":"<p>We are using azul prime, and it is using a lot of off heap memory.\nis there any way to give limit for off heap memory like we give for heap</p>\n"},{"tags":["java","android","device-policy-manager"],"owner":{"account_id":7993567,"reputation":23,"user_id":6030693,"display_name":"Hossam Maarek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685610980,"creation_date":1685608567,"question_id":76380059,"body_markdown":"Using Android Policy Manager, I am asking the user to grant admin access to my app when needed (to be able to lock the screen from within my app).\r\n\r\nWhen I needed, I remove this admin access using:\r\n\r\n            devicePolicyManager.removeActiveAdmin(new ComponentName(this, DeviceAdminReceiver.class));\r\n\r\nthe problem here is that when I need admin access later in my app, the system will ask the user again to grant that access (activate). All I needed is to be able to temporarily inactivate it and then activate it when needed...given that I am granted access the first time.\r\n\r\nAny help?\r\n\r\nused devicePolicyManager to build an intent to ask for admin access activation.\r\nThen used\r\n            devicePolicyManager.removeActiveAdmin(new ComponentName(this, DeviceAdminReceiver.class));\r\n\r\nto deactivate it.\r\n\r\nI need to be able to activate it again without having to ask the user\r\n","title":"How to Re-Activate Admin Access using DevicePolicyManager","body":"<p>Using Android Policy Manager, I am asking the user to grant admin access to my app when needed (to be able to lock the screen from within my app).</p>\n<p>When I needed, I remove this admin access using:</p>\n<pre><code>        devicePolicyManager.removeActiveAdmin(new ComponentName(this, DeviceAdminReceiver.class));\n</code></pre>\n<p>the problem here is that when I need admin access later in my app, the system will ask the user again to grant that access (activate). All I needed is to be able to temporarily inactivate it and then activate it when needed...given that I am granted access the first time.</p>\n<p>Any help?</p>\n<p>used devicePolicyManager to build an intent to ask for admin access activation.\nThen used\ndevicePolicyManager.removeActiveAdmin(new ComponentName(this, DeviceAdminReceiver.class));</p>\n<p>to deactivate it.</p>\n<p>I need to be able to activate it again without having to ask the user</p>\n"},{"tags":["java","ssl","https","java-8","lets-encrypt"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":3,"creation_date":1525193417,"post_id":50025086,"comment_id":87258432,"body_markdown":"CertBot (which is actually from EFF not LetsEncrypt) normally produces several PEM files and you need all of them not just one. Tomcat 8.5 and 9 can (as a new feature) be configured directly with PEM files even when not using APR, but I don&#39;t know how or if they integrate with Eclipse.","body":"CertBot (which is actually from EFF not LetsEncrypt) normally produces several PEM files and you need all of them not just one. Tomcat 8.5 and 9 can (as a new feature) be configured directly with PEM files even when not using APR, but I don&#39;t know how or if they integrate with Eclipse."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1525284203,"post_id":50025086,"comment_id":87300024,"body_markdown":"If you have the key in `-----BEGIN RSA PRIVATE KEY-----` format loading it is pretty complicated as it is PKCS#1 format which AFAIK can not be read easily in plain Java.","body":"If you have the key in <code>-----BEGIN RSA PRIVATE KEY-----</code> format loading it is pretty complicated as it is PKCS#1 format which AFAIK can not be read easily in plain Java."},{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1525563070,"post_id":50025086,"comment_id":87406890,"body_markdown":"In Java, you don&#39;t commonly programatically create servers. This is why the process is not as straight forward as you may expect. Instead, you create an app using the common web primitives, and _deploy_ it on a standard server, like Tomcat, which you configure for HTTPs. There are tools and frameworks that do not work this way, but start a server on their own and that&#39;s no longer the _plain_ Java way you seem to be after.","body":"In Java, you don&#39;t commonly programatically create servers. This is why the process is not as straight forward as you may expect. Instead, you create an app using the common web primitives, and <i>deploy</i> it on a standard server, like Tomcat, which you configure for HTTPs. There are tools and frameworks that do not work this way, but start a server on their own and that&#39;s no longer the <i>plain</i> Java way you seem to be after."},{"owner":{"account_id":950197,"reputation":1687,"user_id":976509,"display_name":"vl4d1m1r4"},"score":0,"creation_date":1525783920,"post_id":50025086,"comment_id":87485497,"body_markdown":"Assuming that a web app is in question, any reason why you can&#39;t have a web server like nginx or apache in front of your java server? They know how to handle pem files pretty well.","body":"Assuming that a web app is in question, any reason why you can&#39;t have a web server like nginx or apache in front of your java server? They know how to handle pem files pretty well."},{"owner":{"account_id":5203,"reputation":15153,"user_id":8261,"accept_rate":78,"display_name":"Rich"},"score":1,"creation_date":1525784027,"post_id":50025086,"comment_id":87485556,"body_markdown":"I think that you have excluded all the easy solutions, sorry. There are easy solutions that involve converting the key to Java format, which you excluded with (1), or using a library that can read PEM, which you have excluded with (2).","body":"I think that you have excluded all the easy solutions, sorry. There are easy solutions that involve converting the key to Java format, which you excluded with (1), or using a library that can read PEM, which you have excluded with (2)."}],"answers":[{"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":2,"creation_date":1525192662,"post_id":50119615,"comment_id":87258053,"body_markdown":"`CertificateFactory` can already read cert in PEM format (as well as DER). However a trustedCertEntry containing the cert is **useless** for an SSL/TLS server; the server needs the cert AND chain AND privatekey in a privateKeyEntry. The second Q you link covers this, but works in plain Java only if the privatekey file is PKCS8 and unencrypted, not PKCS1/traditional or encrypted which require BC. Are you saying certbot always produces PKCS8 unencrypted, or at least in this Q&#39;s unspecified case?","body":"<code>CertificateFactory</code> can already read cert in PEM format (as well as DER). However a trustedCertEntry containing the cert is <b>useless</b> for an SSL/TLS server; the server needs the cert AND chain AND privatekey in a privateKeyEntry. The second Q you link covers this, but works in plain Java only if the privatekey file is PKCS8 and unencrypted, not PKCS1/traditional or encrypted which require BC. Are you saying certbot always produces PKCS8 unencrypted, or at least in this Q&#39;s unspecified case?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1525249671,"post_id":50119615,"comment_id":87278145,"body_markdown":"@dave_thompson_085 You are right, the answer is just for a client context, not for a server. In the question there was only mentioned the PEM file, but nothing about a key file. However as Let&#39;s Encrypt is mentioned it looks like it is about an SSL server context.","body":"@dave_thompson_085 You are right, the answer is just for a client context, not for a server. In the question there was only mentioned the PEM file, but nothing about a key file. However as Let&#39;s Encrypt is mentioned it looks like it is about an SSL server context."},{"owner":{"account_id":73141,"reputation":10927,"user_id":210791,"accept_rate":57,"display_name":"satnam"},"score":0,"creation_date":1525273007,"post_id":50119615,"comment_id":87293633,"body_markdown":"@Robert, I updated the question.  To clarify, this is for the server.  My intention was to just drag and drop in the file(s) and start the server.  I guess this may have to be multiple PEM files and the key file, although LetsEncrypt includes a PEM that *I think* contains all of the needed data in a single PEM, so would just need that and the key.","body":"@Robert, I updated the question.  To clarify, this is for the server.  My intention was to just drag and drop in the file(s) and start the server.  I guess this may have to be multiple PEM files and the key file, although LetsEncrypt includes a PEM that <i>I think</i> contains all of the needed data in a single PEM, so would just need that and the key."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1525273504,"post_id":50119615,"comment_id":87293976,"body_markdown":"@satnam You should exactly specify what PEM files and key file(s) are present. Otherwise it is very difficult to create a working answer.","body":"@satnam You should exactly specify what PEM files and key file(s) are present. Otherwise it is very difficult to create a working answer."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1525420268,"post_id":50119615,"comment_id":87357082,"body_markdown":"If you really do want to read PKCS1 _unencrypted_ PEM without BC, see https://stackoverflow.com/questions/23709898/java-convert-dkim-private-key-from-rsa-to-der-for-javamail and instead of writing the result put it in `PKCS8EncodedKeySpec` and run it through `KeyFactory.getInstance(&quot;RSA&quot;)`","body":"If you really do want to read PKCS1 <i>unencrypted</i> PEM without BC, see <a href=\"https://stackoverflow.com/questions/23709898/java-convert-dkim-private-key-from-rsa-to-der-for-javamail\" title=\"java convert dkim private key from rsa to der for javamail\">stackoverflow.com/questions/23709898/&hellip;</a> and instead of writing the result put it in <code>PKCS8EncodedKeySpec</code> and run it through <code>KeyFactory.getInstance(&quot;RSA&quot;)</code>"}],"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"comment_count":5,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1525284610,"creation_date":1525189868,"answer_id":50119615,"question_id":50025086,"body_markdown":"The following code shows in general how create a SSLContext for an HTTPS server by parsing a PEM file that has multiple entries, e.g. several certificates and one `RSA PRIVATE KEY`. However it is incomplete because plain Java 8 is unable to parse the PKCS#1 RSA private key data. Therefore it seems that your wish to do it without any library is not possible. At least BouncyCastle for parsing the PKCS#1 data is required (and then the PEM parser of BouncyCastle could be used, too).\r\n\r\n    private SSLContext createSslContext() throws Exception {\r\n        URL url = getClass().getResource(&quot;/a.pem&quot;);\r\n        InputStream in = url.openStream();\r\n        String pem = new String(in.readAllBytes(), StandardCharsets.UTF_8);\r\n        Pattern parse = Pattern.compile(&quot;(?m)(?s)^---*BEGIN ([^-]+)---*$([^-]+)^---*END[^-]+-+$&quot;);\r\n        Matcher m = parse.matcher(pem);\r\n        CertificateFactory certFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n        Decoder decoder = Base64.getMimeDecoder();\r\n        List&lt;Certificate&gt; certList = new ArrayList&lt;&gt;(); // java.security.cert.Certificate\r\n\r\n        PrivateKey privateKey = null;\r\n\r\n        int start = 0;\r\n        while (m.find(start)) {\r\n            String type = m.group(1);\r\n            String base64Data = m.group(2);\r\n            byte[] data = decoder.decode(base64Data);\r\n            start += m.group(0).length();\r\n            type = type.toUpperCase();\r\n            if (type.contains(&quot;CERTIFICATE&quot;)) {\r\n                Certificate cert = certFactory.generateCertificate(new ByteArrayInputStream(data));\r\n                certList.add(cert);\r\n            } else if (type.contains(&quot;RSA PRIVATE KEY&quot;)) {\r\n                // TODO: load and parse PKCS1 data structure to get the RSA private key  \r\n                privateKey = ...\r\n            } else {\r\n                System.err.println(&quot;Unsupported type: &quot; + type);\r\n            }\r\n\r\n        }\r\n        if (privateKey == null)\r\n            throw new RuntimeException(&quot;RSA private key not found in PEM file&quot;);\r\n\r\n        char[] keyStorePassword = new char[0];\r\n\r\n        KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n        keyStore.load(null, null);\r\n\r\n        int count = 0;\r\n        for (Certificate cert : certList) {\r\n            keyStore.setCertificateEntry(&quot;cert&quot; + count, cert);\r\n            count++;\r\n        }\r\n        Certificate[] chain = certList.toArray(new Certificate[certList.size()]);\r\n        keyStore.setKeyEntry(&quot;key&quot;, privateKey, keyStorePassword, chain);\r\n\r\n        TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n        tmf.init(keyStore);\r\n        KeyManagerFactory kmf = KeyManagerFactory.getInstance(&quot;RSA&quot;);\r\n        kmf.init(keyStore, keyStorePassword);\r\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n        sslContext.init(kmf.getKeyManagers(), tmf.getTrustManagers(), new SecureRandom());\r\n        return sslContext;\r\n    }\r\n\r\n\r\n","title":"In Java, what is the simplest way to create an SSLContext with just a PEM file?","body":"<p>The following code shows in general how create a SSLContext for an HTTPS server by parsing a PEM file that has multiple entries, e.g. several certificates and one <code>RSA PRIVATE KEY</code>. However it is incomplete because plain Java 8 is unable to parse the PKCS#1 RSA private key data. Therefore it seems that your wish to do it without any library is not possible. At least BouncyCastle for parsing the PKCS#1 data is required (and then the PEM parser of BouncyCastle could be used, too).</p>\n\n<pre><code>private SSLContext createSslContext() throws Exception {\n    URL url = getClass().getResource(\"/a.pem\");\n    InputStream in = url.openStream();\n    String pem = new String(in.readAllBytes(), StandardCharsets.UTF_8);\n    Pattern parse = Pattern.compile(\"(?m)(?s)^---*BEGIN ([^-]+)---*$([^-]+)^---*END[^-]+-+$\");\n    Matcher m = parse.matcher(pem);\n    CertificateFactory certFactory = CertificateFactory.getInstance(\"X.509\");\n    Decoder decoder = Base64.getMimeDecoder();\n    List&lt;Certificate&gt; certList = new ArrayList&lt;&gt;(); // java.security.cert.Certificate\n\n    PrivateKey privateKey = null;\n\n    int start = 0;\n    while (m.find(start)) {\n        String type = m.group(1);\n        String base64Data = m.group(2);\n        byte[] data = decoder.decode(base64Data);\n        start += m.group(0).length();\n        type = type.toUpperCase();\n        if (type.contains(\"CERTIFICATE\")) {\n            Certificate cert = certFactory.generateCertificate(new ByteArrayInputStream(data));\n            certList.add(cert);\n        } else if (type.contains(\"RSA PRIVATE KEY\")) {\n            // TODO: load and parse PKCS1 data structure to get the RSA private key  \n            privateKey = ...\n        } else {\n            System.err.println(\"Unsupported type: \" + type);\n        }\n\n    }\n    if (privateKey == null)\n        throw new RuntimeException(\"RSA private key not found in PEM file\");\n\n    char[] keyStorePassword = new char[0];\n\n    KeyStore keyStore = KeyStore.getInstance(\"JKS\");\n    keyStore.load(null, null);\n\n    int count = 0;\n    for (Certificate cert : certList) {\n        keyStore.setCertificateEntry(\"cert\" + count, cert);\n        count++;\n    }\n    Certificate[] chain = certList.toArray(new Certificate[certList.size()]);\n    keyStore.setKeyEntry(\"key\", privateKey, keyStorePassword, chain);\n\n    TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n    tmf.init(keyStore);\n    KeyManagerFactory kmf = KeyManagerFactory.getInstance(\"RSA\");\n    kmf.init(keyStore, keyStorePassword);\n    SSLContext sslContext = SSLContext.getInstance(\"TLS\");\n    sslContext.init(kmf.getKeyManagers(), tmf.getTrustManagers(), new SecureRandom());\n    return sslContext;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":73141,"reputation":10927,"user_id":210791,"accept_rate":57,"display_name":"satnam"},"score":1,"creation_date":1525273048,"post_id":50135125,"comment_id":87293669,"body_markdown":"It looks like that code is for connecting to a server.   I&#39;m trying to start a server.","body":"It looks like that code is for connecting to a server.   I&#39;m trying to start a server."},{"owner":{"account_id":13459544,"reputation":32,"user_id":9712075,"display_name":"David Arellano"},"score":0,"creation_date":1525276104,"post_id":50135125,"comment_id":87295602,"body_markdown":"actually the code is creating and setting up a context, so the last line is of couse when you want to conect. Insted of it, you can do this: ------------------------------------------------------------------------------------------------- // Create socket factory SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();-------------------------------------------------------------------------------------------------------------------------------------------------------\nSSLSocket sslSocket = (SSLSocket) sslSocketFactory.createSocket(host, port);","body":"actually the code is creating and setting up a context, so the last line is of couse when you want to conect. Insted of it, you can do this: ------------------------------------------------------------&zwnj;&#8203;--------------------&zwnj;&#8203;----------------- // Create socket factory SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();------------------------------&zwnj;&#8203;--------------------&zwnj;&#8203;--------------------&zwnj;&#8203;--------------------&zwnj;&#8203;--------------------&zwnj;&#8203;--------------------&zwnj;&#8203;--------------------&zwnj;&#8203;- SSLSocket sslSocket = (SSLSocket) sslSocketFactory.createSocket(host, port);"},{"owner":{"account_id":13459544,"reputation":32,"user_id":9712075,"display_name":"David Arellano"},"score":0,"creation_date":1525276592,"post_id":50135125,"comment_id":87295934,"body_markdown":"// Create socket factory\nSSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();             \n\n// Create socket\nSSLSocket sslSocket = (SSLSocket) sslSocketFactory.createSocket(host,port);","body":"// Create socket factory SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();               // Create socket SSLSocket sslSocket = (SSLSocket) sslSocketFactory.createSocket(host,port);"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1584661507,"post_id":50135125,"comment_id":107512885,"body_markdown":"This is client code. It is all about trusting other people&#39;s certificates, rather than using your own. It doesn&#39;t solve the question that was asked in any way shape or form.","body":"This is client code. It is all about trusting other people&#39;s certificates, rather than using your own. It doesn&#39;t solve the question that was asked in any way shape or form."}],"tags":[],"owner":{"account_id":13459544,"reputation":32,"user_id":9712075,"display_name":"David Arellano"},"comment_count":4,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1525265530,"creation_date":1525265530,"answer_id":50135125,"question_id":50025086,"body_markdown":" - This is a temporarly solution, because the code below, alows you to accept any server so, you should check deeply into your code when you are trying these kinds solutions.\r\n\r\n - This code does not need any cert at all.\r\n\r\n - The question is that why you are trying to avoid this procces, if the case requiered shouldn&#180;t you be using a non secure server ?\r\n\r\n\r\n----------\r\n\r\n    logger.info(&quot;Starting instance &quot;);\r\n\t\t\tTrustManager[] tm = new TrustManager[]{new X509TrustManager() {\r\n\t\t\t\tpublic X509Certificate[] getAcceptedIssuers(){return new X509Certificate[]{};}\r\n\t\t\t\tpublic void checkClientTrusted(X509Certificate[] chain, String authType) {logger.info(&quot; checkClientTrusted&quot;);}\r\n\t\t\t\tpublic void checkServerTrusted(X509Certificate[] chain, String authType) {logger.info(&quot; checkServerTrusted&quot;);}\r\n\t\t\t\t\r\n\t\t\t}};\r\n\t\t\t\r\n\t\t\tSSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\n\t\t\tsslContext.init(null, tm , new SecureRandom());\r\n\t\t\tHttpsURLConnection.setDefaultSSLSocketFactory(sslContext.getSocketFactory());\r\n\r\n","title":"In Java, what is the simplest way to create an SSLContext with just a PEM file?","body":"<ul>\n<li><p>This is a temporarly solution, because the code below, alows you to accept any server so, you should check deeply into your code when you are trying these kinds solutions.</p></li>\n<li><p>This code does not need any cert at all.</p></li>\n<li><p>The question is that why you are trying to avoid this procces, if the case requiered shouldnÂ´t you be using a non secure server ?</p></li>\n</ul>\n\n<hr>\n\n<pre><code>logger.info(\"Starting instance \");\n        TrustManager[] tm = new TrustManager[]{new X509TrustManager() {\n            public X509Certificate[] getAcceptedIssuers(){return new X509Certificate[]{};}\n            public void checkClientTrusted(X509Certificate[] chain, String authType) {logger.info(\" checkClientTrusted\");}\n            public void checkServerTrusted(X509Certificate[] chain, String authType) {logger.info(\" checkServerTrusted\");}\n\n        }};\n\n        SSLContext sslContext = SSLContext.getInstance(\"SSL\");\n        sslContext.init(null, tm , new SecureRandom());\n        HttpsURLConnection.setDefaultSSLSocketFactory(sslContext.getSocketFactory());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1584646960,"post_id":60762862,"comment_id":107508241,"body_markdown":"You can use PKCS12 directly, without converting to JKS, in any Java since about 2005, and since Java 9 in 2017 PKCS12 is _preferred_ and JKS deprecated (though not, yet, actually dropped). Also SSLv3 _protocol_ is obsolete and no longer permitted at all; in practice when you ask for it in a context JSSE will give you (different) usable protocol(s) but not necessarily the best, so better to ask for something good or at least `&quot;Default&quot;`.","body":"You can use PKCS12 directly, without converting to JKS, in any Java since about 2005, and since Java 9 in 2017 PKCS12 is <i>preferred</i> and JKS deprecated (though not, yet, actually dropped). Also SSLv3 <i>protocol</i> is obsolete and no longer permitted at all; in practice when you ask for it in a context JSSE will give you (different) usable protocol(s) but not necessarily the best, so better to ask for something good or at least <code>&quot;Default&quot;</code>."},{"owner":{"account_id":73141,"reputation":10927,"user_id":210791,"accept_rate":57,"display_name":"satnam"},"score":0,"creation_date":1584647377,"post_id":60762862,"comment_id":107508402,"body_markdown":"thanks, this code was from a while ago, I&#39;m going to update it now based on your advice","body":"thanks, this code was from a while ago, I&#39;m going to update it now based on your advice"}],"tags":[],"owner":{"account_id":73141,"reputation":10927,"user_id":210791,"accept_rate":57,"display_name":"satnam"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1584647659,"creation_date":1584641451,"answer_id":60762862,"question_id":50025086,"body_markdown":"My full solution that I currently use:\r\n\r\n1. Use certbot on your server to generate the certificate.  I use the command &quot;certbot certonly -d myawesomedomain.com&quot;\r\n2. I use the following code to convert that certbot certificate into a java SSLContext:  https://github.com/mirraj2/bowser/blob/master/src/bowser/SSLUtils.java\r\n\r\n```\r\npackage bowser;\r\n\r\nimport static com.google.common.base.Preconditions.checkState;\r\nimport static ox.util.Utils.propagate;\r\n\r\nimport java.io.File;\r\nimport java.security.KeyStore;\r\n\r\nimport javax.net.ssl.KeyManagerFactory;\r\nimport javax.net.ssl.SSLContext;\r\nimport javax.net.ssl.TrustManagerFactory;\r\n\r\nimport com.google.common.base.Splitter;\r\n\r\nimport ox.IO;\r\nimport ox.Log;\r\n\r\npublic class SSLUtils {\r\n\r\n  public static SSLContext createContext(String domain) {\r\n    String pass = &quot;spamspam&quot;;\r\n\r\n    File dir = new File(&quot;/etc/letsencrypt/live/&quot; + domain);\r\n    if (!dir.exists()) {\r\n      Log.warn(&quot;Could not find letsencrypt dir: &quot; + dir);\r\n      return null;\r\n    }\r\n\r\n    File keystoreFile = new File(dir, &quot;keystore.jks&quot;);\r\n    File pemFile = new File(dir, &quot;fullchain.pem&quot;);\r\n\r\n    boolean generateKeystore = false;\r\n\r\n    if (keystoreFile.exists()) {\r\n      if (keystoreFile.lastModified() &lt; pemFile.lastModified()) {\r\n        Log.info(&quot;SSUtils: It looks like a new PEM file was created. Regenerating the keystore.&quot;);\r\n        keystoreFile.delete();\r\n        generateKeystore = true;\r\n      }\r\n    } else {\r\n      generateKeystore = true;\r\n    }\r\n\r\n    if (generateKeystore) {\r\n      Splitter splitter = Splitter.on(&#39; &#39;);\r\n      try {\r\n        String command = &quot;openssl pkcs12 -export -out keystore.pkcs12 -in fullchain.pem -inkey privkey.pem -passout pass:&quot;\r\n            + pass;\r\n        Log.debug(command);\r\n        Process process = new ProcessBuilder(splitter.splitToList(command))\r\n            .directory(dir).inheritIO().start();\r\n        checkState(process.waitFor() == 0);\r\n\r\n        command = &quot;keytool -importkeystore -srckeystore keystore.pkcs12 -srcstoretype PKCS12 -destkeystore keystore.jks -srcstorepass &quot;\r\n            + pass + &quot; -deststorepass &quot; + pass;\r\n        Log.debug(command);\r\n        process = new ProcessBuilder(splitter.splitToList(command))\r\n            .directory(dir).inheritIO().start();\r\n        checkState(process.waitFor() == 0);\r\n\r\n        new File(dir, &quot;keystore.pkcs12&quot;).delete();// cleanup\r\n      } catch (Exception e) {\r\n        throw propagate(e);\r\n      }\r\n    }\r\n\r\n    try {\r\n      KeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n      keystore.load(IO.from(keystoreFile).asStream(), pass.toCharArray());\r\n\r\n      KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n      keyManagerFactory.init(keystore, pass.toCharArray());\r\n\r\n      SSLContext ret = SSLContext.getInstance(&quot;TLSv1.2&quot;);\r\n      TrustManagerFactory factory = TrustManagerFactory.getInstance(\r\n          TrustManagerFactory.getDefaultAlgorithm());\r\n      factory.init(keystore);\r\n      ret.init(keyManagerFactory.getKeyManagers(), factory.getTrustManagers(), null);\r\n\r\n      return ret;\r\n    } catch (Exception e) {\r\n      throw propagate(e);\r\n    }\r\n  }\r\n\r\n}\r\n\r\n```","title":"In Java, what is the simplest way to create an SSLContext with just a PEM file?","body":"<p>My full solution that I currently use:</p>\n\n<ol>\n<li>Use certbot on your server to generate the certificate.  I use the command \"certbot certonly -d myawesomedomain.com\"</li>\n<li>I use the following code to convert that certbot certificate into a java SSLContext:  <a href=\"https://github.com/mirraj2/bowser/blob/master/src/bowser/SSLUtils.java\" rel=\"nofollow noreferrer\">https://github.com/mirraj2/bowser/blob/master/src/bowser/SSLUtils.java</a></li>\n</ol>\n\n<pre><code>package bowser;\n\nimport static com.google.common.base.Preconditions.checkState;\nimport static ox.util.Utils.propagate;\n\nimport java.io.File;\nimport java.security.KeyStore;\n\nimport javax.net.ssl.KeyManagerFactory;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.TrustManagerFactory;\n\nimport com.google.common.base.Splitter;\n\nimport ox.IO;\nimport ox.Log;\n\npublic class SSLUtils {\n\n  public static SSLContext createContext(String domain) {\n    String pass = \"spamspam\";\n\n    File dir = new File(\"/etc/letsencrypt/live/\" + domain);\n    if (!dir.exists()) {\n      Log.warn(\"Could not find letsencrypt dir: \" + dir);\n      return null;\n    }\n\n    File keystoreFile = new File(dir, \"keystore.jks\");\n    File pemFile = new File(dir, \"fullchain.pem\");\n\n    boolean generateKeystore = false;\n\n    if (keystoreFile.exists()) {\n      if (keystoreFile.lastModified() &lt; pemFile.lastModified()) {\n        Log.info(\"SSUtils: It looks like a new PEM file was created. Regenerating the keystore.\");\n        keystoreFile.delete();\n        generateKeystore = true;\n      }\n    } else {\n      generateKeystore = true;\n    }\n\n    if (generateKeystore) {\n      Splitter splitter = Splitter.on(' ');\n      try {\n        String command = \"openssl pkcs12 -export -out keystore.pkcs12 -in fullchain.pem -inkey privkey.pem -passout pass:\"\n            + pass;\n        Log.debug(command);\n        Process process = new ProcessBuilder(splitter.splitToList(command))\n            .directory(dir).inheritIO().start();\n        checkState(process.waitFor() == 0);\n\n        command = \"keytool -importkeystore -srckeystore keystore.pkcs12 -srcstoretype PKCS12 -destkeystore keystore.jks -srcstorepass \"\n            + pass + \" -deststorepass \" + pass;\n        Log.debug(command);\n        process = new ProcessBuilder(splitter.splitToList(command))\n            .directory(dir).inheritIO().start();\n        checkState(process.waitFor() == 0);\n\n        new File(dir, \"keystore.pkcs12\").delete();// cleanup\n      } catch (Exception e) {\n        throw propagate(e);\n      }\n    }\n\n    try {\n      KeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());\n      keystore.load(IO.from(keystoreFile).asStream(), pass.toCharArray());\n\n      KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n      keyManagerFactory.init(keystore, pass.toCharArray());\n\n      SSLContext ret = SSLContext.getInstance(\"TLSv1.2\");\n      TrustManagerFactory factory = TrustManagerFactory.getInstance(\n          TrustManagerFactory.getDefaultAlgorithm());\n      factory.init(keystore);\n      ret.init(keyManagerFactory.getKeyManagers(), factory.getTrustManagers(), null);\n\n      return ret;\n    } catch (Exception e) {\n      throw propagate(e);\n    }\n  }\n\n}\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9118599,"reputation":457,"user_id":6784881,"display_name":"Talos"},"score":0,"creation_date":1619555245,"post_id":61680878,"comment_id":118939931,"body_markdown":"what is `saToken` ?","body":"what is <code>saToken</code> ?"},{"owner":{"account_id":10727529,"reputation":1211,"user_id":10530458,"display_name":"Vedran Vidovic"},"score":0,"creation_date":1623936320,"post_id":61680878,"comment_id":120223662,"body_markdown":"saToken is a keystore type as specified by: https://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html#KeyStore","body":"saToken is a keystore type as specified by: <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html#KeyStore\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/security/&hellip;</a>"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1685613218,"post_id":61680878,"comment_id":134685796,"body_markdown":"Like David Arellano&#39;s answer two years earlier, this is only for a client (to _trust_ a server) and totally usless for a server which is the case requested by the question.","body":"Like David Arellano&#39;s answer two years earlier, this is only for a client (to <i>trust</i> a server) and totally usless for a server which is the case requested by the question."}],"tags":[],"owner":{"account_id":10727529,"reputation":1211,"user_id":10530458,"display_name":"Vedran Vidovic"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1588946390,"creation_date":1588946390,"answer_id":61680878,"question_id":50025086,"body_markdown":"You can do something like this to get a proper SSLContext:\r\n\r\n    final String ca1 = &quot;..load PEM file in string..&quot;;\r\n    final CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n    final Certificate cert1 = cf.generateCertificate(new ByteArrayInputStream(ca1.getBytes()));\r\n    final KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n    keyStore.load(null, null);\r\n    // Can add multiple truststore certificates here...\r\n    keyStore.setCertificateEntry(&quot;my-ca-1&quot;, cert1);\r\n    final SSLContext sslContext = SSLContexts.custom().setKeyStoreType(saToken)\r\n    \t\t.loadTrustMaterial(keyStore, null)\r\n\t\t\t.build();\r\n\r\n\r\n","title":"In Java, what is the simplest way to create an SSLContext with just a PEM file?","body":"<p>You can do something like this to get a proper SSLContext:</p>\n\n<pre><code>final String ca1 = \"..load PEM file in string..\";\nfinal CertificateFactory cf = CertificateFactory.getInstance(\"X.509\");\nfinal Certificate cert1 = cf.generateCertificate(new ByteArrayInputStream(ca1.getBytes()));\nfinal KeyStore keyStore = KeyStore.getInstance(\"JKS\");\nkeyStore.load(null, null);\n// Can add multiple truststore certificates here...\nkeyStore.setCertificateEntry(\"my-ca-1\", cert1);\nfinal SSLContext sslContext = SSLContexts.custom().setKeyStoreType(saToken)\n        .loadTrustMaterial(keyStore, null)\n        .build();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1909395,"reputation":1029,"user_id":1723615,"accept_rate":38,"display_name":"Tom Stambaugh"},"score":0,"creation_date":1680971028,"post_id":65159530,"comment_id":133985715,"body_markdown":"I&#39;d very much like to try this. Sadly, my IDE (VSCode) complains about the hyphen in the `artifactId`. I notice in your github that you&#39;ve apparently changed the name (to `sslcontext-kickstart`), but maven still refuses to import it. I&#39;m not expert in any of these Java tools, so please be gentle.","body":"I&#39;d very much like to try this. Sadly, my IDE (VSCode) complains about the hyphen in the <code>artifactId</code>. I notice in your github that you&#39;ve apparently changed the name (to <code>sslcontext-kickstart</code>), but maven still refuses to import it. I&#39;m not expert in any of these Java tools, so please be gentle."},{"owner":{"account_id":1909395,"reputation":1029,"user_id":1723615,"accept_rate":38,"display_name":"Tom Stambaugh"},"score":0,"creation_date":1680971161,"post_id":65159530,"comment_id":133985731,"body_markdown":"The complaint in the IDE is `Syntax error on token &quot;-&quot;, . expectedJava(1610612940)`. I also see a red squiggle at the front of the import line that says `The import io cannot be resolvedJava(268435846)`","body":"The complaint in the IDE is <code>Syntax error on token &quot;-&quot;, . expectedJava(1610612940)</code>. I also see a red squiggle at the front of the import line that says <code>The import io cannot be resolvedJava(268435846)</code>"},{"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"score":0,"creation_date":1680972016,"post_id":65159530,"comment_id":133985843,"body_markdown":"@TomStambaugh Can you publish your repo to GitHub so I can try it out on my side?","body":"@TomStambaugh Can you publish your repo to GitHub so I can try it out on my side?"},{"owner":{"account_id":1909395,"reputation":1029,"user_id":1723615,"accept_rate":38,"display_name":"Tom Stambaugh"},"score":1,"creation_date":1681060201,"post_id":65159530,"comment_id":133994719,"body_markdown":"I figured out the issue. The package name used in the code is different from the groupId in the dependency. The import statement that works is `import nl.altindag.ssl.util.PemUtils;`. My server is now working great!","body":"I figured out the issue. The package name used in the code is different from the groupId in the dependency. The import statement that works is <code>import nl.altindag.ssl.util.PemUtils;</code>. My server is now working great!"}],"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"comment_count":4,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1685610393,"creation_date":1607187285,"answer_id":65159530,"question_id":50025086,"body_markdown":"Although an answer has been provided, I would like to provide an alternative which requires less code. See below for an example setup:\r\n\r\n```java\r\nimport nl.altindag.ssl.SSLFactory;\r\nimport nl.altindag.ssl.util.PemUtils;\r\n\r\nimport javax.net.ssl.SSLContext;\r\nimport javax.net.ssl.X509ExtendedKeyManager;\r\nimport javax.net.ssl.X509ExtendedTrustManager;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] args) {\r\n        X509ExtendedKeyManager keyManager = PemUtils.loadIdentityMaterial(&quot;certificate-chain.pem&quot;, &quot;private-key.pem&quot;, &quot;private-key-password&quot;.toCharArray());\r\n        X509ExtendedTrustManager trustManager = PemUtils.loadTrustMaterial(&quot;some-trusted-certificate.pem&quot;);\r\n\r\n        SSLFactory sslFactory = SSLFactory.builder()\r\n                .withIdentityMaterial(keyManager)\r\n                .withTrustMaterial(trustManager)\r\n                .build();\r\n\r\n        SSLContext sslContext = sslFactory.getSslContext();\r\n    }\r\n    \r\n}\r\n```\r\nTo use the above setup you can use this library:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sslcontext-kickstart-for-pem&lt;/artifactId&gt;\r\n    &lt;version&gt;8.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThe setup above requires less custom code while it is still achieving what you are trying to accomplish. You can view the library and documentation here: https://github.com/Hakky54/sslcontext-kickstart","title":"In Java, what is the simplest way to create an SSLContext with just a PEM file?","body":"<p>Although an answer has been provided, I would like to provide an alternative which requires less code. See below for an example setup:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import nl.altindag.ssl.SSLFactory;\nimport nl.altindag.ssl.util.PemUtils;\n\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.X509ExtendedKeyManager;\nimport javax.net.ssl.X509ExtendedTrustManager;\n\npublic class App {\n\n    public static void main(String[] args) {\n        X509ExtendedKeyManager keyManager = PemUtils.loadIdentityMaterial(&quot;certificate-chain.pem&quot;, &quot;private-key.pem&quot;, &quot;private-key-password&quot;.toCharArray());\n        X509ExtendedTrustManager trustManager = PemUtils.loadTrustMaterial(&quot;some-trusted-certificate.pem&quot;);\n\n        SSLFactory sslFactory = SSLFactory.builder()\n                .withIdentityMaterial(keyManager)\n                .withTrustMaterial(trustManager)\n                .build();\n\n        SSLContext sslContext = sslFactory.getSslContext();\n    }\n    \n}\n</code></pre>\n<p>To use the above setup you can use this library:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\n    &lt;artifactId&gt;sslcontext-kickstart-for-pem&lt;/artifactId&gt;\n    &lt;version&gt;8.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The setup above requires less custom code while it is still achieving what you are trying to accomplish. You can view the library and documentation here: <a href=\"https://github.com/Hakky54/sslcontext-kickstart\" rel=\"nofollow noreferrer\">https://github.com/Hakky54/sslcontext-kickstart</a></p>\n"}],"owner":{"account_id":73141,"reputation":10927,"user_id":210791,"accept_rate":57,"display_name":"satnam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35521,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":60762862,"answer_count":5,"score":26,"last_activity_date":1685610393,"creation_date":1524667144,"question_id":50025086,"body_markdown":"I used LetsEncrypt&#39;s CertBot to generate PEM files for free.  In other languages it is easy to start an HTTPS server using just a couple lines of code and the PEM/key files.  The solutions I have found so far in java are overly complex and I&#39;m looking for something simpler.\r\n\r\n1. I do not want to use java&#39;s command-line &quot;keytool&quot;.  I just want to drag and drop my PEM/key files into my eclipse, and programatically start up an HTTPS server using an SSLContext.\r\n2. I do not want to include massive external libraries like BouncyCastle. See the following link for a supposed solution using BouncyCastle:  https://stackoverflow.com/questions/42675033/how-to-build-a-sslsocketfactory-from-pem-certificate-and-key-without-converting?rq=1\r\n\r\nIs there a better/easier way to do this?","title":"In Java, what is the simplest way to create an SSLContext with just a PEM file?","body":"<p>I used LetsEncrypt's CertBot to generate PEM files for free.  In other languages it is easy to start an HTTPS server using just a couple lines of code and the PEM/key files.  The solutions I have found so far in java are overly complex and I'm looking for something simpler.</p>\n\n<ol>\n<li>I do not want to use java's command-line \"keytool\".  I just want to drag and drop my PEM/key files into my eclipse, and programatically start up an HTTPS server using an SSLContext.</li>\n<li>I do not want to include massive external libraries like BouncyCastle. See the following link for a supposed solution using BouncyCastle:  <a href=\"https://stackoverflow.com/questions/42675033/how-to-build-a-sslsocketfactory-from-pem-certificate-and-key-without-converting?rq=1\">How to build a SSLSocketFactory from PEM certificate and key without converting to keystore?</a></li>\n</ol>\n\n<p>Is there a better/easier way to do this?</p>\n"},{"tags":["java","eclipse","maven","rdf4j","javaimports"],"comments":[{"owner":{"account_id":8940505,"reputation":961,"user_id":6669735,"display_name":"Byron Lagrone"},"score":2,"creation_date":1684927044,"post_id":76322526,"comment_id":134588179,"body_markdown":"I don&#39;t believe there is a way to do exactly what you want (which is unfortunate in itself), but I would strongly recommend using the official Maven central package search, which does have some namespace-based searching -- https://central.sonatype.com/search?smo=true&amp;q=rdf4j ; \n\nbased on James&#39; comment below I was able to find the source repository underlying the main rdf4j eclipse package, which is what I think you&#39;re looking for: https://github.com/eclipse/rdf4j/blob/main/core/model/src/main/java/org/eclipse/rdf4j/model/util/Values.java","body":"I don&#39;t believe there is a way to do exactly what you want (which is unfortunate in itself), but I would strongly recommend using the official Maven central package search, which does have some namespace-based searching -- <a href=\"https://central.sonatype.com/search?smo=true&amp;q=rdf4j\" rel=\"nofollow noreferrer\">central.sonatype.com/search?smo=true&amp;q=rdf4j</a> ;   based on James&#39; comment below I was able to find the source repository underlying the main rdf4j eclipse package, which is what I think you&#39;re looking for: <a href=\"https://github.com/eclipse/rdf4j/blob/main/core/model/src/main/java/org/eclipse/rdf4j/model/util/Values.java\" rel=\"nofollow noreferrer\">github.com/eclipse/rdf4j/blob/main/core/model/src/main/java/&zwnj;&#8203;org/&hellip;</a>"},{"owner":{"account_id":25889665,"reputation":60,"user_id":19617261,"display_name":"Peter Mulm"},"score":0,"creation_date":1684929830,"post_id":76322526,"comment_id":134588811,"body_markdown":"Most IDE&#39;S automatically search for the missing dependencies, if needed. Maybe turn on auto complete in your editor.","body":"Most IDE&#39;S automatically search for the missing dependencies, if needed. Maybe turn on auto complete in your editor."},{"owner":{"account_id":4153704,"reputation":549,"user_id":3405484,"display_name":"Abdelghani"},"score":0,"creation_date":1685431174,"post_id":76322526,"comment_id":134654644,"body_markdown":"Thanks @Byron Lagrone and James Baxter. I am probably missing something because I have looked in the git repo and used the version in the pom file but still cant see the class I am looking for.","body":"Thanks @Byron Lagrone and James Baxter. I am probably missing something because I have looked in the git repo and used the version in the pom file but still cant see the class I am looking for."},{"owner":{"account_id":203984,"reputation":21757,"user_id":451941,"accept_rate":100,"display_name":"Jeen Broekstra"},"score":0,"creation_date":1685609951,"post_id":76322526,"comment_id":134685070,"body_markdown":"@Abdelghani interested to hear which tutorial you were looking at. If it&#39;s one by the RDF4J project, perhaps I can fix it.","body":"@Abdelghani interested to hear which tutorial you were looking at. If it&#39;s one by the RDF4J project, perhaps I can fix it."}],"answers":[{"tags":[],"owner":{"account_id":159214,"reputation":1238,"user_id":378365,"accept_rate":100,"display_name":"James Baxter"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684924295,"creation_date":1684924295,"answer_id":76322556,"question_id":76322526,"body_markdown":"Personally I try to find the source repo for the project that contains the class, then I look at the maven configuration (ie pom.xml) to see what groupId/artifactId it&#39;s published under.\r\n\r\nSometimes you will need to look at older git tags if the class has moved and/or been deleted.","title":"How to look for the maven repository of a particular class or package","body":"<p>Personally I try to find the source repo for the project that contains the class, then I look at the maven configuration (ie pom.xml) to see what groupId/artifactId it's published under.</p>\n<p>Sometimes you will need to look at older git tags if the class has moved and/or been deleted.</p>\n"},{"tags":[],"owner":{"account_id":203984,"reputation":21757,"user_id":451941,"accept_rate":100,"display_name":"Jeen Broekstra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685610082,"creation_date":1685609508,"answer_id":76380183,"question_id":76322526,"body_markdown":"Looking at the specific project website is usually a good idea if somehow these dependencies are not automatically found. \r\n\r\nIn this case, the [RDF4J project][1] gives instructions on how to get the right maven artifacts on its [download page][2]. You can also look in the [Github repo][3], if you search for the class file ([Values.java][4] in this case) you can see what package and module it&#39;s in: it&#39;s in the `rdf4j/core/model` directory, which has a [module POM][5] that gives you the details of the specific maven artifact:\r\n\r\n```xml\r\n\t&lt;groupId&gt;org.eclipse.rdf4j&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;rdf4j-model&lt;/artifactId&gt;\r\n```\r\n\r\n\r\n  [1]: https://rdf4j.org/\r\n  [2]: https://rdf4j.org/download/\r\n  [3]: https://github.com/eclipse/rdf4j\r\n  [4]: https://github.com/eclipse/rdf4j/blob/main/core/model/src/main/java/org/eclipse/rdf4j/model/util/Values.java\r\n  [5]: https://github.com/eclipse/rdf4j/blob/main/core/model/pom.xml","title":"How to look for the maven repository of a particular class or package","body":"<p>Looking at the specific project website is usually a good idea if somehow these dependencies are not automatically found.</p>\n<p>In this case, the <a href=\"https://rdf4j.org/\" rel=\"nofollow noreferrer\">RDF4J project</a> gives instructions on how to get the right maven artifacts on its <a href=\"https://rdf4j.org/download/\" rel=\"nofollow noreferrer\">download page</a>. You can also look in the <a href=\"https://github.com/eclipse/rdf4j\" rel=\"nofollow noreferrer\">Github repo</a>, if you search for the class file (<a href=\"https://github.com/eclipse/rdf4j/blob/main/core/model/src/main/java/org/eclipse/rdf4j/model/util/Values.java\" rel=\"nofollow noreferrer\">Values.java</a> in this case) you can see what package and module it's in: it's in the <code>rdf4j/core/model</code> directory, which has a <a href=\"https://github.com/eclipse/rdf4j/blob/main/core/model/pom.xml\" rel=\"nofollow noreferrer\">module POM</a> that gives you the details of the specific maven artifact:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;groupId&gt;org.eclipse.rdf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;rdf4j-model&lt;/artifactId&gt;\n</code></pre>\n"}],"owner":{"account_id":4153704,"reputation":549,"user_id":3405484,"display_name":"Abdelghani"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1685610082,"creation_date":1684924075,"question_id":76322526,"body_markdown":"In my Maven project, I need to use a particular class (specifically, org.eclipse.rdf4j.model.util.Values.bnode) However, when I import it in Eclipse it logically  complains it couldnt find it.\r\nFurther, when I look for the Maven repo of rdf4j in https://mvnrepository.com/, I find a bunch of them and I dont know which one contains the class I am looking for.\r\n\r\nSo my question is : is there a simple way to look for the Maven repository that contains a certain class or package?\r\n\r\nThx in advance\r\n\r\nBTW.\r\nI found this class in an online tutorial. But the turorial does not give the maven configuration or the package information, which is not convenient at all. Tutos should always mention how to set the environment and import specific packages (or at least point to another webpage that does).","title":"How to look for the maven repository of a particular class or package","body":"<p>In my Maven project, I need to use a particular class (specifically, org.eclipse.rdf4j.model.util.Values.bnode) However, when I import it in Eclipse it logically  complains it couldnt find it.\nFurther, when I look for the Maven repo of rdf4j in <a href=\"https://mvnrepository.com/\" rel=\"nofollow noreferrer\">https://mvnrepository.com/</a>, I find a bunch of them and I dont know which one contains the class I am looking for.</p>\n<p>So my question is : is there a simple way to look for the Maven repository that contains a certain class or package?</p>\n<p>Thx in advance</p>\n<p>BTW.\nI found this class in an online tutorial. But the turorial does not give the maven configuration or the package information, which is not convenient at all. Tutos should always mention how to set the environment and import specific packages (or at least point to another webpage that does).</p>\n"},{"tags":["java","apache-kafka-streams","confluent-cloud"],"answers":[{"tags":[],"owner":{"account_id":233249,"reputation":11,"user_id":498610,"display_name":"JorgeLC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685609669,"creation_date":1685609669,"answer_id":76380210,"question_id":76316840,"body_markdown":"So, it turns out setting `compression.type=producer` is enough for compressing the `*-changelog` topics. \r\nThe amount of data in our testing environment was too small for the retained_bytes stats to show the compression, but it became apparent when we applied on an environment with more volume.","title":"Can I compress intermediate topic (state store) used by KafkaStream in Kafka via producer settings?","body":"<p>So, it turns out setting <code>compression.type=producer</code> is enough for compressing the <code>*-changelog</code> topics.\nThe amount of data in our testing environment was too small for the retained_bytes stats to show the compression, but it became apparent when we applied on an environment with more volume.</p>\n"}],"owner":{"account_id":233249,"reputation":11,"user_id":498610,"display_name":"JorgeLC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76380210,"answer_count":1,"score":0,"last_activity_date":1685609669,"creation_date":1684858999,"question_id":76316840,"body_markdown":"I am working with a kafka cluster hosted in Confluent Cloud.\r\n\r\n\r\nAs per https://docs.confluent.io/cloud/current/client-apps/optimizing/throughput.html#compression, Confluent Cloud enforces `compression.type=producer`.\r\n\r\nI want to compress both the internal `*-changelog` and output topics.\r\n\r\nThis question is similar to https://stackoverflow.com/questions/56594637/can-i-compress-intermediate-topic-state-store-used-by-kafkastream-in-kafka, but the accepted solution is not valid for me, as the topic setting can&#39;t be changed in Confluent Cloud.\r\n\r\nI have tried to set `producer.compression.type=lz4` in my KStreams app, but I don&#39;t see a significant change in the bytes retained in the topic.\r\n\r\nThe setting seemed to work when I tried with a local docker broker (the topics on the file system were smaller), but it doesn&#39;t seem to make a difference in the retained_bytes metric available from Confluent Cloud.\r\n\r\nIs there a good way to validate that this is effectively compressing the messages?","title":"Can I compress intermediate topic (state store) used by KafkaStream in Kafka via producer settings?","body":"<p>I am working with a kafka cluster hosted in Confluent Cloud.</p>\n<p>As per <a href=\"https://docs.confluent.io/cloud/current/client-apps/optimizing/throughput.html#compression\" rel=\"nofollow noreferrer\">https://docs.confluent.io/cloud/current/client-apps/optimizing/throughput.html#compression</a>, Confluent Cloud enforces <code>compression.type=producer</code>.</p>\n<p>I want to compress both the internal <code>*-changelog</code> and output topics.</p>\n<p>This question is similar to <a href=\"https://stackoverflow.com/questions/56594637/can-i-compress-intermediate-topic-state-store-used-by-kafkastream-in-kafka\">Can I compress intermediate topic (state store) used by KafkaStream in Kafka</a>, but the accepted solution is not valid for me, as the topic setting can't be changed in Confluent Cloud.</p>\n<p>I have tried to set <code>producer.compression.type=lz4</code> in my KStreams app, but I don't see a significant change in the bytes retained in the topic.</p>\n<p>The setting seemed to work when I tried with a local docker broker (the topics on the file system were smaller), but it doesn't seem to make a difference in the retained_bytes metric available from Confluent Cloud.</p>\n<p>Is there a good way to validate that this is effectively compressing the messages?</p>\n"},{"tags":["java","opc-ua","opc"],"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1685616448,"post_id":76375918,"comment_id":134686451,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":124881,"reputation":2119,"user_id":1282835,"accept_rate":82,"display_name":"Jouni Aro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685609427,"creation_date":1685609427,"answer_id":76380173,"question_id":76375918,"body_markdown":"If you look at the [SampleClient][1] in the OPC Foundation UA Java Legacy project, and see how it makes a Read call with a ReadRequest, you can now make a similar Call to make a method call with a CallRequest.\r\n\r\nThe [specification][2] defines how to use the Call request in general.\r\n\r\n\r\n  [1]: https://github.com/OPCFoundation/UA-Java-Legacy/blob/master/examples/basic/src/main/java/org/opcfoundation/ua/examples/SampleClient.java\r\n  [2]: https://reference.opcfoundation.org/Core/Part4/v105/docs/5.11.2","title":"how to use opc ua call method request with java opc library","body":"<p>If you look at the <a href=\"https://github.com/OPCFoundation/UA-Java-Legacy/blob/master/examples/basic/src/main/java/org/opcfoundation/ua/examples/SampleClient.java\" rel=\"nofollow noreferrer\">SampleClient</a> in the OPC Foundation UA Java Legacy project, and see how it makes a Read call with a ReadRequest, you can now make a similar Call to make a method call with a CallRequest.</p>\n<p>The <a href=\"https://reference.opcfoundation.org/Core/Part4/v105/docs/5.11.2\" rel=\"nofollow noreferrer\">specification</a> defines how to use the Call request in general.</p>\n"}],"owner":{"account_id":12136525,"reputation":11,"user_id":8861875,"display_name":"daniele sensini"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685609427,"creation_date":1685553528,"question_id":76375918,"body_markdown":"I&#39;m trying to send the contents of a cvs file to an opc server via the call method request function.  In practice I should send an array with two strings, the first which would be the name of the machine file where I am going to write the parameters, and the second the name of the csv file where I have already written the parameters to send.  Can you give me some indications on which class to use of the Java opc foundation?  Thanks in advance\r\n\r\nI tried calling the java library by invoking the call method but i can&#39;t figure out how to pass the parameters","title":"how to use opc ua call method request with java opc library","body":"<p>I'm trying to send the contents of a cvs file to an opc server via the call method request function.  In practice I should send an array with two strings, the first which would be the name of the machine file where I am going to write the parameters, and the second the name of the csv file where I have already written the parameters to send.  Can you give me some indications on which class to use of the Java opc foundation?  Thanks in advance</p>\n<p>I tried calling the java library by invoking the call method but i can't figure out how to pass the parameters</p>\n"},{"tags":["java","spring","logging"],"comments":[{"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"score":0,"creation_date":1685609383,"post_id":76380123,"comment_id":134684937,"body_markdown":"take a look into [spring-boot-sleuth](https://spring.io/projects/spring-cloud-sleuth) it provides tracing","body":"take a look into <a href=\"https://spring.io/projects/spring-cloud-sleuth\" rel=\"nofollow noreferrer\">spring-boot-sleuth</a> it provides tracing"},{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1685629967,"post_id":76380123,"comment_id":134689846,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":28725993,"reputation":21,"user_id":21998803,"display_name":"è°¢è¯åº"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685609098,"creation_date":1685609098,"question_id":76380123,"body_markdown":"I want to retrive the relative logs of a request from being received to the processing completed and respond. \r\nAre there any solutions? thx.\r\n\r\neg . a request for fetch a user detail info. i want to collect the whole server processing logs","title":"How to seperate the context log of each endpoint in springboot","body":"<p>I want to retrive the relative logs of a request from being received to the processing completed and respond.\nAre there any solutions? thx.</p>\n<p>eg . a request for fetch a user detail info. i want to collect the whole server processing logs</p>\n"},{"tags":["java","mysql","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1685560374,"post_id":76376472,"comment_id":134679024,"body_markdown":"If you changed your entity primary key to be the natural userId and appId composite ID, JPA would pretty much handle this for you with its merge api. Otherwise, what does your query execution return for AffectedRows, what is the constraint(s) you&#39;ve got on that table, and why do you have devicePlatform being passed into findUserConfig when the query is only using appId and userId? I&#39;d guess you have multiple unique indexes - see https://dev.mysql.com/doc/refman/8.0/en/insert-on-duplicate.html","body":"If you changed your entity primary key to be the natural userId and appId composite ID, JPA would pretty much handle this for you with its merge api. Otherwise, what does your query execution return for AffectedRows, what is the constraint(s) you&#39;ve got on that table, and why do you have devicePlatform being passed into findUserConfig when the query is only using appId and userId? I&#39;d guess you have multiple unique indexes - see <a href=\"https://dev.mysql.com/doc/refman/8.0/en/insert-on-duplicate.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/refman/8.0/en/insert-on-duplicate.html</a>"},{"owner":{"account_id":3928362,"reputation":473,"user_id":3247895,"accept_rate":50,"display_name":"user3247895"},"score":0,"creation_date":1685563956,"post_id":76376472,"comment_id":134679582,"body_markdown":"Indexes on table are:\n\nPRIMARY KEY (id), UNIQUE KEY user_config (user_id,app_id)\n\nALSO affectedRows&#39;s value was not zero when addDefaultUserConfig method was returning null. Also devicePlatform passed into findUserConfig method is useless.","body":"Indexes on table are:  PRIMARY KEY (id), UNIQUE KEY user_config (user_id,app_id)  ALSO affectedRows&#39;s value was not zero when addDefaultUserConfig method was returning null. Also devicePlatform passed into findUserConfig method is useless."},{"owner":{"account_id":3928362,"reputation":473,"user_id":3247895,"accept_rate":50,"display_name":"user3247895"},"score":0,"creation_date":1685565820,"post_id":76376472,"comment_id":134679951,"body_markdown":"@Chris updated question with more description.","body":"@Chris updated question with more description."},{"owner":{"account_id":3928362,"reputation":473,"user_id":3247895,"accept_rate":50,"display_name":"user3247895"},"score":0,"creation_date":1685608081,"post_id":76376472,"comment_id":134684673,"body_markdown":"@chris `If you changed your entity primary key to be the natural userId and appId composite ID, JPA would pretty much handle this for you with its merge api` -&gt; if two threads concurrently try to insert, then merge api will throw duplicate exception. so to prevent that exception we are doing ON DUPLICATE KEY UPDATE","body":"@chris <code>If you changed your entity primary key to be the natural userId and appId composite ID, JPA would pretty much handle this for you with its merge api</code> -&gt; if two threads concurrently try to insert, then merge api will throw duplicate exception. so to prevent that exception we are doing ON DUPLICATE KEY UPDATE"}],"owner":{"account_id":3928362,"reputation":473,"user_id":3247895,"accept_rate":50,"display_name":"user3247895"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685608931,"creation_date":1685558899,"question_id":76376472,"body_markdown":"I am opening a MySQL database transaction using JPA (Hibernate) and executing the following code inside that:\r\n\r\n    UserConfig userConfig = this.findUserConfig(appId, userId, devicePlatform);\r\n    if(userConfig == null){\r\n        userConfig = this.addDefaultUserConfig(appId, userId, devicePlatform);\r\n        if (userConfig == null) logger.error(&quot;userConfig must not be null&quot;)\r\n    }\r\n\r\nI am getting &quot;userConfig must not be null&quot; log sometimes in production. So I wanted to know why it is happening?\r\n\r\nUserConfig entity looks like below:\r\n\r\n    @Table(name = &quot;user_config&quot;)\r\n    public class UserConfig extends TemporalModel {\r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        protected long id;\r\n    \r\n        @Column(name = &quot;user_id&quot;)\r\n        private String userId;\r\n    \r\n        @Column(name = &quot;app_id&quot;)\r\n        private String appId;\r\n    \r\n        @Column(name = &quot;device_platform&quot;)\r\n        @Enumerated(EnumType.STRING)\r\n        private Platform devicePlatform;\r\n    \r\n        @Column(name = &quot;payer&quot;)\r\n        private Boolean payer;\r\n    \r\n        @Column(name = &quot;winning_balance&quot;)\r\n        private BigDecimal winningBalance;\r\n    \r\n        @Column(name = &quot;games_eligibility_count&quot;)\r\n        private Integer gamesEligibilityCount;\r\n    }\r\n\r\nfindUserConfig method implementation:\r\n\r\n    public UserConfig findUserConfig(String appId, String userId, Platform devicePlatform) {\r\n        EntityManager em = threadContextProvider.currentThreadContext().getEm();\r\n        String queryS = &quot;SELECT u FROM UserConfig u WHERE u.userId = :userId and u.appId = :appId&quot;;\r\n        TypedQuery&lt;UserConfig&gt; q = em.createQuery(queryS, UserConfig.class)\r\n                .setParameter(&quot;userId&quot;, userId)\r\n                .setParameter(&quot;appId&quot;, appId);\r\n\r\n\r\n        List&lt;UserConfig&gt; userConfig = q.getResultList();\r\n        if (userConfig == null || userConfig.size() == 0) {\r\n            return null;\r\n        }\r\n        return userConfig.get(0);\r\n    }\r\n\r\naddDefaultUserConfig method implementation:\r\n\r\n    UserConfig addDefaultUserConfig(String appId, String userId, Platform devicePlatform) {\r\n        EntityManager em = threadContextProvider.currentThreadContext().getEm();\r\n        String queryStr = &quot;INSERT INTO user_config values ( null, :userId , :appId , :devicePlatform, :winningBalance , :payer ,&quot; +\r\n                &quot;:ratedOnAppStore , :ratedOnPlayStore , :gamesEligibilityCount , now() , now() ) ON DUPLICATE KEY UPDATE updated_at = now() ;&quot;;\r\n\r\n        Query q = em.createNativeQuery(queryStr)\r\n            .setParameter(&quot;userId&quot;, userId)\r\n            .setParameter(&quot;appId&quot;, appId)\r\n            .setParameter(&quot;devicePlatform&quot;, devicePlatform == null ? null:devicePlatform.name())\r\n            .setParameter(&quot;payer&quot;, 0)\r\n            .setParameter(&quot;winningBalance&quot;, &quot;0.00&quot;)\r\n            .setParameter(&quot;ratedOnAppStore&quot;, 0)\r\n            .setParameter(&quot;ratedOnPlayStore&quot;, 0)\r\n            .setParameter(&quot;gamesEligibilityCount&quot;, 0);\r\n        int affectedRows = q.executeUpdate(); //not coming 0\r\n        \r\n        UserConfig userConfig = findUserConfig(appId, userId, devicePlatform);\r\n        if (userConfig == null) {\r\n            logger.debug(&quot;addDefaultUserConfig: userConfig is null&quot;);\r\n        }\r\n        return userConfig;\r\n    }\r\n\r\n\r\nIndexes on table are:\r\n\r\n- PRIMARY KEY (`id`),\r\n- UNIQUE KEY `user_config` (`user_id`,`app_id`)\r\n\r\nAlso affectedRows&#39;s value was not zero when addDefaultUserConfig method was returning null.\r\n\r\nOne more observation:\r\n\r\n`ON DUPLICATE KEY UPDATE updated_at = now()` - I am updating updated_at because otherwise addDefaultUserConfig method was returning null more frequently when I had `ON DUPLICATE KEY UPDATE user_id = :userId`.\r\n\r\nOne more observation:\r\n\r\nWith `ON DUPLICATE KEY UPDATE user_id = :userId`, addDefaultUserConfig method was always returning null if insertion was not being done by this transaction.\r\n","title":"SELECT statement returning null after INSERT ... ON DUPLICATE KEY UPDATE Statement in same transaction","body":"<p>I am opening a MySQL database transaction using JPA (Hibernate) and executing the following code inside that:</p>\n<pre><code>UserConfig userConfig = this.findUserConfig(appId, userId, devicePlatform);\nif(userConfig == null){\n    userConfig = this.addDefaultUserConfig(appId, userId, devicePlatform);\n    if (userConfig == null) logger.error(&quot;userConfig must not be null&quot;)\n}\n</code></pre>\n<p>I am getting &quot;userConfig must not be null&quot; log sometimes in production. So I wanted to know why it is happening?</p>\n<p>UserConfig entity looks like below:</p>\n<pre><code>@Table(name = &quot;user_config&quot;)\npublic class UserConfig extends TemporalModel {\n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    protected long id;\n\n    @Column(name = &quot;user_id&quot;)\n    private String userId;\n\n    @Column(name = &quot;app_id&quot;)\n    private String appId;\n\n    @Column(name = &quot;device_platform&quot;)\n    @Enumerated(EnumType.STRING)\n    private Platform devicePlatform;\n\n    @Column(name = &quot;payer&quot;)\n    private Boolean payer;\n\n    @Column(name = &quot;winning_balance&quot;)\n    private BigDecimal winningBalance;\n\n    @Column(name = &quot;games_eligibility_count&quot;)\n    private Integer gamesEligibilityCount;\n}\n</code></pre>\n<p>findUserConfig method implementation:</p>\n<pre><code>public UserConfig findUserConfig(String appId, String userId, Platform devicePlatform) {\n    EntityManager em = threadContextProvider.currentThreadContext().getEm();\n    String queryS = &quot;SELECT u FROM UserConfig u WHERE u.userId = :userId and u.appId = :appId&quot;;\n    TypedQuery&lt;UserConfig&gt; q = em.createQuery(queryS, UserConfig.class)\n            .setParameter(&quot;userId&quot;, userId)\n            .setParameter(&quot;appId&quot;, appId);\n\n\n    List&lt;UserConfig&gt; userConfig = q.getResultList();\n    if (userConfig == null || userConfig.size() == 0) {\n        return null;\n    }\n    return userConfig.get(0);\n}\n</code></pre>\n<p>addDefaultUserConfig method implementation:</p>\n<pre><code>UserConfig addDefaultUserConfig(String appId, String userId, Platform devicePlatform) {\n    EntityManager em = threadContextProvider.currentThreadContext().getEm();\n    String queryStr = &quot;INSERT INTO user_config values ( null, :userId , :appId , :devicePlatform, :winningBalance , :payer ,&quot; +\n            &quot;:ratedOnAppStore , :ratedOnPlayStore , :gamesEligibilityCount , now() , now() ) ON DUPLICATE KEY UPDATE updated_at = now() ;&quot;;\n\n    Query q = em.createNativeQuery(queryStr)\n        .setParameter(&quot;userId&quot;, userId)\n        .setParameter(&quot;appId&quot;, appId)\n        .setParameter(&quot;devicePlatform&quot;, devicePlatform == null ? null:devicePlatform.name())\n        .setParameter(&quot;payer&quot;, 0)\n        .setParameter(&quot;winningBalance&quot;, &quot;0.00&quot;)\n        .setParameter(&quot;ratedOnAppStore&quot;, 0)\n        .setParameter(&quot;ratedOnPlayStore&quot;, 0)\n        .setParameter(&quot;gamesEligibilityCount&quot;, 0);\n    int affectedRows = q.executeUpdate(); //not coming 0\n    \n    UserConfig userConfig = findUserConfig(appId, userId, devicePlatform);\n    if (userConfig == null) {\n        logger.debug(&quot;addDefaultUserConfig: userConfig is null&quot;);\n    }\n    return userConfig;\n}\n</code></pre>\n<p>Indexes on table are:</p>\n<ul>\n<li>PRIMARY KEY (<code>id</code>),</li>\n<li>UNIQUE KEY <code>user_config</code> (<code>user_id</code>,<code>app_id</code>)</li>\n</ul>\n<p>Also affectedRows's value was not zero when addDefaultUserConfig method was returning null.</p>\n<p>One more observation:</p>\n<p><code>ON DUPLICATE KEY UPDATE updated_at = now()</code> - I am updating updated_at because otherwise addDefaultUserConfig method was returning null more frequently when I had <code>ON DUPLICATE KEY UPDATE user_id = :userId</code>.</p>\n<p>One more observation:</p>\n<p>With <code>ON DUPLICATE KEY UPDATE user_id = :userId</code>, addDefaultUserConfig method was always returning null if insertion was not being done by this transaction.</p>\n"},{"tags":["java","http","zip"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1685612444,"post_id":76380074,"comment_id":134685656,"body_markdown":"Are you saying this code runs to end without exceptions? Make sure `nextEntry.getSize()` is set to value &gt;= 0 before throw ISE.","body":"Are you saying this code runs to end without exceptions? Make sure <code>nextEntry.getSize()</code> is set to value &gt;= 0 before throw ISE."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685617793,"post_id":76380074,"comment_id":134686720,"body_markdown":"*and no IOException is thrown.* What about `IllegalStateException` ? Incidentally, you want `if (!nextEntry.isDirectory() &amp;&amp; file.toFile().length() != nextEntry.getSize())`","body":"<i>and no IOException is thrown.</i> What about <code>IllegalStateException</code> ? Incidentally, you want <code>if (!nextEntry.isDirectory() &amp;&amp; file.toFile().length() != nextEntry.getSize())</code>"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685627838,"post_id":76380074,"comment_id":134689271,"body_markdown":"How the exceptions `throws IOException, InterruptedException` are handled in the caller method?","body":"How the exceptions <code>throws IOException, InterruptedException</code> are handled in the caller method?"},{"owner":{"account_id":7328,"reputation":13010,"user_id":12695,"accept_rate":44,"display_name":"Roman"},"score":0,"creation_date":1685829556,"post_id":76380074,"comment_id":134716477,"body_markdown":"All exceptions are logged, the zip file in question has only one entry, and the end result without the size check is the file is cut in the middle.","body":"All exceptions are logged, the zip file in question has only one entry, and the end result without the size check is the file is cut in the middle."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685830489,"post_id":76380074,"comment_id":134716569,"body_markdown":"Please give us a url that we can use to test that code","body":"Please give us a url that we can use to test that code"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685831204,"post_id":76380074,"comment_id":134716624,"body_markdown":"fwiw I just ran it with a zip archive on my own web server and it worked fine. So you need to post a url that we can use that *you* have a problem with","body":"fwiw I just ran it with a zip archive on my own web server and it worked fine. So you need to post a url that we can use that <i>you</i> have a problem with"}],"owner":{"account_id":7328,"reputation":13010,"user_id":12695,"accept_rate":44,"display_name":"Roman"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685608747,"creation_date":1685608747,"question_id":76380074,"body_markdown":"I have the following method which downloads a zip file and extracts the first entry:\r\n```java\r\npublic static Path download(String url) throws IOException, InterruptedException {\r\n        HttpClient httpClient = HttpClient.newHttpClient();\r\n        HttpRequest request = HttpRequest.newBuilder()\r\n            .uri(URI.create(url))\r\n            .build();\r\n        HttpResponse&lt;InputStream&gt; response = httpClient.send(request, HttpResponse.BodyHandlers.ofInputStream());\r\n        if (response.statusCode() != 200) {\r\n            throw new RuntimeException(response.toString());\r\n        }\r\n        try (ZipInputStream zipInputStream = new ZipInputStream(response.body())) {\r\n            ZipEntry nextEntry = zipInputStream.getNextEntry();\r\n            Path file = Path.of(CACHE_PATH, Objects.requireNonNull(nextEntry).getName());\r\n            Files.createDirectories(Path.of(CACHE_PATH));\r\n            Files.copy(zipInputStream, file);\r\n            if (file.toFile().length() != nextEntry.getSize()) {\r\n                throw new IllegalStateException(&quot;incomplete file: &quot; + file);\r\n            }\r\n            return file;\r\n        }\r\n    }\r\n```\r\nThe problem is that sometimes the file is incomplete and no IOException is thrown.\r\nI added the check in order to workaround this issue, but I&#39;m curious what&#39;s going on there. Any ideas?","title":"Incomplete file when extracting from ZipInputStream","body":"<p>I have the following method which downloads a zip file and extracts the first entry:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Path download(String url) throws IOException, InterruptedException {\n        HttpClient httpClient = HttpClient.newHttpClient();\n        HttpRequest request = HttpRequest.newBuilder()\n            .uri(URI.create(url))\n            .build();\n        HttpResponse&lt;InputStream&gt; response = httpClient.send(request, HttpResponse.BodyHandlers.ofInputStream());\n        if (response.statusCode() != 200) {\n            throw new RuntimeException(response.toString());\n        }\n        try (ZipInputStream zipInputStream = new ZipInputStream(response.body())) {\n            ZipEntry nextEntry = zipInputStream.getNextEntry();\n            Path file = Path.of(CACHE_PATH, Objects.requireNonNull(nextEntry).getName());\n            Files.createDirectories(Path.of(CACHE_PATH));\n            Files.copy(zipInputStream, file);\n            if (file.toFile().length() != nextEntry.getSize()) {\n                throw new IllegalStateException(&quot;incomplete file: &quot; + file);\n            }\n            return file;\n        }\n    }\n</code></pre>\n<p>The problem is that sometimes the file is incomplete and no IOException is thrown.\nI added the check in order to workaround this issue, but I'm curious what's going on there. Any ideas?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1685564601,"post_id":76377009,"comment_id":134679721,"body_markdown":"Welcome to Stack Overflow! Please clarify your specific problem or add additional details to highlight exactly what you need. \nAs it&#39;s currently written, itâs hard to tell exactly what is the issue. See the \n[How to Ask page](https://stackoverflow.com/help/how-to-ask) for help clarifying this question. Include the desired behavior, a specific problem or error and the shortest code necessary to \nreproduce the issue. See: [How to create a Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve).","body":"Welcome to Stack Overflow! Please clarify your specific problem or add additional details to highlight exactly what you need.  As it&#39;s currently written, itâs hard to tell exactly what is the issue. See the  <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask page</a> for help clarifying this question. Include the desired behavior, a specific problem or error and the shortest code necessary to  reproduce the issue. See: <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1685564625,"post_id":76377009,"comment_id":134679727,"body_markdown":"An array of length `0` contains nothing.","body":"An array of length <code>0</code> contains nothing."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1685564933,"post_id":76377009,"comment_id":134679781,"body_markdown":"You are not running this correctly. It expects three command line arguments, and you are providing none.","body":"You are not running this correctly. It expects three command line arguments, and you are providing none."},{"owner":{"account_id":28722678,"reputation":1,"user_id":21996164,"display_name":"lovely trash"},"score":0,"creation_date":1685568930,"post_id":76377009,"comment_id":134680424,"body_markdown":"ohhh right!! idk how to do that on VSCode tho.. but thanks for responding :)","body":"ohhh right!! idk how to do that on VSCode tho.. but thanks for responding :)"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1686272507,"post_id":76377009,"comment_id":134779861,"body_markdown":"Welcome to StackOverflow. If an answer solves your problem you could click &#39;â&#39; to mark it as an acceptable answer. If it helps you give it an upvote. If the answer is offtopic or doesnât help at all, downvote or add a comment. See also [stackoverflow.com/help/why-vote](https://stackoverflow.com/help/why-vote)","body":"Welcome to StackOverflow. If an answer solves your problem you could click &#39;â&#39; to mark it as an acceptable answer. If it helps you give it an upvote. If the answer is offtopic or doesnât help at all, downvote or add a comment. See also <a href=\"https://stackoverflow.com/help/why-vote\">stackoverflow.com/help/why-vote</a>"}],"answers":[{"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1685567840,"post_id":76377310,"comment_id":134680284,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"}],"tags":[],"owner":{"account_id":11283371,"reputation":31,"user_id":8274928,"display_name":"grey"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685568834,"creation_date":1685567267,"answer_id":76377310,"question_id":76377009,"body_markdown":"You should pass 3 arguments as your code expects them. Currently you&#39;re passing none. Since you&#39;re launching your code via VSCode IDE, try to add arguments via IDE:\r\n\r\nRun -&gt; Add Configuration...\r\n\r\nIt will open *launch.json* file. Add the line with arguments to the section where the mainClass specified:\r\n\r\n    &quot;args&quot;: [&quot;one&quot;,&quot;two&quot;,&quot;three&quot;]\r\n\r\n\r\nConsider adding the proper arguments as per your code&#39;s logic: *integer*, *double* &amp; *string*. \r\nWhole *launch.json* should be a valid JSON file, thus pls don&#39;t forget about commas and quotes around the arguments even if they are not strings. It should help, good luck.","title":"Exception in thread &quot;main&quot; java.lang.ArrayOutOfBoundsException: Index 0 out of bounds for length 0","body":"<p>You should pass 3 arguments as your code expects them. Currently you're passing none. Since you're launching your code via VSCode IDE, try to add arguments via IDE:</p>\n<p>Run -&gt; Add Configuration...</p>\n<p>It will open <em>launch.json</em> file. Add the line with arguments to the section where the mainClass specified:</p>\n<pre><code>&quot;args&quot;: [&quot;one&quot;,&quot;two&quot;,&quot;three&quot;]\n</code></pre>\n<p>Consider adding the proper arguments as per your code's logic: <em>integer</em>, <em>double</em> &amp; <em>string</em>.\nWhole <em>launch.json</em> should be a valid JSON file, thus pls don't forget about commas and quotes around the arguments even if they are not strings. It should help, good luck.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685568458,"creation_date":1685568458,"answer_id":76377411,"question_id":76377009,"body_markdown":"Here is a great tutorial by Java, on the _exception_ mechanism used within the framework.  \r\n_[What Is an Exception? (The Java&amp;trade; Tutorials &gt; Essential Java Classes &gt; Exceptions)](https://docs.oracle.com/javase/tutorial/essential/exceptions/definition.html)_\r\n\r\nThe error you&#39;re encountering states the following.\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n\tat Programa01.main(Programa01.java:11)\r\n```\r\n\r\nThis is caused by an _Exception_ which was thrown by one of the statements.\r\n\r\nThe first line here, outlines the type of _Exception_, in this case an _[ArrayIndexOutOfBoundsException](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ArrayIndexOutOfBoundsException.html)_.  \r\nWhich is followed by a message&amp;mdash;optional, although will sometimes includes relative information.\r\n\r\nIn this case it states the following.\r\n\r\n&gt; _Index 0 out of bounds for length 0_\r\n\r\nFirstly, you&#39;ll need to determine how to locate the error.\r\n\r\nThe last line in the error includes the line-number of which the error occurred.  \r\nIn this case it is line _11_, as denoted within the parentheses, after the _.java_ file-extension.\r\n\r\n```none\r\nat Programa01.main(Programa01.java:11)\r\n```\r\n\r\nIf you look at line 11, you&#39;ll find the following code.\r\n\r\n```java\r\nNumInt = Integer.parseInt(args[0]);\r\n```\r\n\r\nThere are a few _[statements](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/expressions.html)_ in this line.\r\n\r\nFirstly, you have the _NumInt_ assignment.\r\n\r\n```java\r\nNumInt = \r\n```\r\n\r\nAdditionally, you have the _[Integer#parseInt](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String))_ method call.\r\n\r\n```java\r\nInteger.parseInt()\r\n```\r\n\r\nAnd, finally, you have the _args_ array access.  \r\nIn which your syntax is specifying a resolve to index _0_.\r\n\r\n```java\r\nargs[0]\r\n```\r\n\r\nSince the _Exception_ that was thrown is an _ArrayIndexOutOfBoundsException_, we can presume that the logic propagates from this final statement, the _args_ array access. \r\n\r\nThus, index _0_ of the _args_ array is inaccessible, since the _length_ of _args_ is 0&amp;mdash;it contains no elements.\r\n\r\nThe _args_ parameter is an argument which is supplied and populated by the Java Virtual Machine upon the start of your program.\r\n\r\nHere is a tutorial on _Command-Line Arguments_.  \r\n_[Command-Line Arguments (The Java&amp;trade; Tutorials &amp;gt; Essential Java Classes &amp;gt; The Platform Environment)](https://docs.oracle.com/javase/tutorial/essential/environment/cmdLineArgs.html)_.\r\n\r\nSince you&#39;re using _VSCode_, you can refer to the following tutorial on adding _Launch Configurations_.  \r\n_[VisualStudio.com &amp;ndash; Debugging in Visual Studio Code](https://code.visualstudio.com/docs/editor/debugging#_launch-configurations)_.\r\n\r\nIf you need more assistance on adding the values, feel free to leave a comment.  ","title":"Exception in thread &quot;main&quot; java.lang.ArrayOutOfBoundsException: Index 0 out of bounds for length 0","body":"<p>Here is a great tutorial by Java, on the <em>exception</em> mechanism used within the framework.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/definition.html\" rel=\"nofollow noreferrer\">What Is an Exception? (The Javaâ¢ Tutorials &gt; Essential Java Classes &gt; Exceptions)</a></em></p>\n<p>The error you're encountering states the following.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\n    at Programa01.main(Programa01.java:11)\n</code></pre>\n<p>This is caused by an <em>Exception</em> which was thrown by one of the statements.</p>\n<p>The first line here, outlines the type of <em>Exception</em>, in this case an <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ArrayIndexOutOfBoundsException.html\" rel=\"nofollow noreferrer\">ArrayIndexOutOfBoundsException</a></em>.<br />\nWhich is followed by a messageâoptional, although will sometimes includes relative information.</p>\n<p>In this case it states the following.</p>\n<blockquote>\n<p><em>Index 0 out of bounds for length 0</em></p>\n</blockquote>\n<p>Firstly, you'll need to determine how to locate the error.</p>\n<p>The last line in the error includes the line-number of which the error occurred.<br />\nIn this case it is line <em>11</em>, as denoted within the parentheses, after the <em>.java</em> file-extension.</p>\n<pre class=\"lang-none prettyprint-override\"><code>at Programa01.main(Programa01.java:11)\n</code></pre>\n<p>If you look at line 11, you'll find the following code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>NumInt = Integer.parseInt(args[0]);\n</code></pre>\n<p>There are a few <em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/expressions.html\" rel=\"nofollow noreferrer\">statements</a></em> in this line.</p>\n<p>Firstly, you have the <em>NumInt</em> assignment.</p>\n<pre class=\"lang-java prettyprint-override\"><code>NumInt = \n</code></pre>\n<p>Additionally, you have the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String)\" rel=\"nofollow noreferrer\">Integer#parseInt</a></em> method call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer.parseInt()\n</code></pre>\n<p>And, finally, you have the <em>args</em> array access.<br />\nIn which your syntax is specifying a resolve to index <em>0</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>args[0]\n</code></pre>\n<p>Since the <em>Exception</em> that was thrown is an <em>ArrayIndexOutOfBoundsException</em>, we can presume that the logic propagates from this final statement, the <em>args</em> array access.</p>\n<p>Thus, index <em>0</em> of the <em>args</em> array is inaccessible, since the <em>length</em> of <em>args</em> is 0âit contains no elements.</p>\n<p>The <em>args</em> parameter is an argument which is supplied and populated by the Java Virtual Machine upon the start of your program.</p>\n<p>Here is a tutorial on <em>Command-Line Arguments</em>.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/cmdLineArgs.html\" rel=\"nofollow noreferrer\">Command-Line Arguments (The Javaâ¢ Tutorials &gt; Essential Java Classes &gt; The Platform Environment)</a></em>.</p>\n<p>Since you're using <em>VSCode</em>, you can refer to the following tutorial on adding <em>Launch Configurations</em>.<br />\n<em><a href=\"https://code.visualstudio.com/docs/editor/debugging#_launch-configurations\" rel=\"nofollow noreferrer\">VisualStudio.com â Debugging in Visual Studio Code</a></em>.</p>\n<p>If you need more assistance on adding the values, feel free to leave a comment.</p>\n"}],"owner":{"account_id":28722678,"reputation":1,"user_id":21996164,"display_name":"lovely trash"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1685608689,"answer_count":2,"score":-1,"last_activity_date":1685608608,"creation_date":1685564568,"question_id":76377009,"body_markdown":"[enter image description here][1]\r\n\r\nI&#39;m in college and new to coding. The professor is teaching us Java, but I keep encountering this error whenever I try running her code.\r\n\r\nThis is the second time I encounter this problem, and I spent so much time trying to solve it last time I don&#39;t even remember what I did. Can someone help me please?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KnmR8.png","title":"Exception in thread &quot;main&quot; java.lang.ArrayOutOfBoundsException: Index 0 out of bounds for length 0","body":"<p><a href=\"https://i.stack.imgur.com/KnmR8.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I'm in college and new to coding. The professor is teaching us Java, but I keep encountering this error whenever I try running her code.</p>\n<p>This is the second time I encounter this problem, and I spent so much time trying to solve it last time I don't even remember what I did. Can someone help me please?</p>\n"},{"tags":["java","spring-boot","jar","java-17"],"answers":[{"tags":[],"owner":{"account_id":5143074,"reputation":689,"user_id":4119789,"accept_rate":100,"display_name":"Nishant Modi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685608309,"creation_date":1685608309,"answer_id":76380030,"question_id":76379202,"body_markdown":"As per below article, it is a bug in spring boot with Java 11 +\r\nAlthough they have fixed it is spring 2.3+ but same is not frontported to 3.x so after applying below workaround it worked for me\r\n\r\n`-Dsun.misc.URLClassPath.disableJarChecking=true`\r\n\r\nReference Article\r\n\r\nhttps://github.com/spring-projects/spring-boot/issues/25538","title":"Security Manager Having Issue with Java 17 and spring boot runnable jar","body":"<p>As per below article, it is a bug in spring boot with Java 11 +\nAlthough they have fixed it is spring 2.3+ but same is not frontported to 3.x so after applying below workaround it worked for me</p>\n<p><code>-Dsun.misc.URLClassPath.disableJarChecking=true</code></p>\n<p>Reference Article</p>\n<p><a href=\"https://github.com/spring-projects/spring-boot/issues/25538\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/25538</a></p>\n"}],"owner":{"account_id":5143074,"reputation":689,"user_id":4119789,"accept_rate":100,"display_name":"Nishant Modi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685608309,"creation_date":1685600887,"question_id":76379202,"body_markdown":"I am migrating a project from Java-8 and spring boot 2.x to Java 17 and Spring boot 3.x\r\nThe project use Security Manager for some of internal requirements and can&#39;t be removed as of now.\r\nWhen the project is started using intellij i.e. \r\n\r\n`java -classpath &lt;all local classes&gt;;&lt;all dependencies&gt; &lt;main class&gt; `\r\n\r\nIt works fine but if the final executable jar is used then a lot of class not found exception occurs for logger, ignite etc. Also if security manager is turned off errors doesn&#39;t come\r\n\r\n`java -jar &lt;executable jar&gt;`\r\n\r\ncode used to enable custom security manager\r\n```\r\n\r\n    log.warn(&quot;Enabling PlatformSecurityManager&quot;);\r\n    Policy policy = Policy.getPolicy();\r\n    PermissionCollection perm = policy.getPermissions(new CodeSource(null, (Certificate[]) null));\r\n    boolean canReplaceSecurityManager = perm.implies(new RuntimePermission(&quot;setSecurityManager&quot;));\r\n    if (System.getSecurityManager() != null &amp;&amp; !canReplaceSecurityManager) {\r\n      //we have to do the check like this because it will be from a different classloader\r\n      if (!(System.getSecurityManager().getClass().getName().equals(PlatformSecurityManager.class.getName()))) {\r\n        throw new RuntimeException(\r\n            &quot;You have started the JVM with a security manager that doesn&#39;t allow me to set a new one!&quot;);\r\n      }\r\n      //else another platform application has specified the security manager... so we should be ok\r\n    } else {\r\n      if (System.getProperty(&quot;java.security.policy&quot;) == null) {\r\n        log.warn(&quot;java.security.policy Not found&quot;);\r\n        //load up allow all policy\r\n        log.info(&quot;Enabling AllPermission for the platform security manager&quot;);\r\n        PlatformSecurityPolicy platformPolicy = new PlatformSecurityPolicy();\r\n        platformPolicy.addPermission(new AllPermission());\r\n        Policy.setPolicy(platformPolicy);\r\n      }\r\n\r\n      log.warn(&quot;Enabled PlatformSecurityManager&quot;);\r\n      System.setSecurityManager(new PlatformSecurityManager(false));\r\n    }\r\n```\r\n\r\nPlease add comment if any additional info is needed.\r\nAny lead/help is highly appreciated.","title":"Security Manager Having Issue with Java 17 and spring boot runnable jar","body":"<p>I am migrating a project from Java-8 and spring boot 2.x to Java 17 and Spring boot 3.x\nThe project use Security Manager for some of internal requirements and can't be removed as of now.\nWhen the project is started using intellij i.e.</p>\n<p><code>java -classpath &lt;all local classes&gt;;&lt;all dependencies&gt; &lt;main class&gt; </code></p>\n<p>It works fine but if the final executable jar is used then a lot of class not found exception occurs for logger, ignite etc. Also if security manager is turned off errors doesn't come</p>\n<p><code>java -jar &lt;executable jar&gt;</code></p>\n<p>code used to enable custom security manager</p>\n<pre><code>\n    log.warn(&quot;Enabling PlatformSecurityManager&quot;);\n    Policy policy = Policy.getPolicy();\n    PermissionCollection perm = policy.getPermissions(new CodeSource(null, (Certificate[]) null));\n    boolean canReplaceSecurityManager = perm.implies(new RuntimePermission(&quot;setSecurityManager&quot;));\n    if (System.getSecurityManager() != null &amp;&amp; !canReplaceSecurityManager) {\n      //we have to do the check like this because it will be from a different classloader\n      if (!(System.getSecurityManager().getClass().getName().equals(PlatformSecurityManager.class.getName()))) {\n        throw new RuntimeException(\n            &quot;You have started the JVM with a security manager that doesn't allow me to set a new one!&quot;);\n      }\n      //else another platform application has specified the security manager... so we should be ok\n    } else {\n      if (System.getProperty(&quot;java.security.policy&quot;) == null) {\n        log.warn(&quot;java.security.policy Not found&quot;);\n        //load up allow all policy\n        log.info(&quot;Enabling AllPermission for the platform security manager&quot;);\n        PlatformSecurityPolicy platformPolicy = new PlatformSecurityPolicy();\n        platformPolicy.addPermission(new AllPermission());\n        Policy.setPolicy(platformPolicy);\n      }\n\n      log.warn(&quot;Enabled PlatformSecurityManager&quot;);\n      System.setSecurityManager(new PlatformSecurityManager(false));\n    }\n</code></pre>\n<p>Please add comment if any additional info is needed.\nAny lead/help is highly appreciated.</p>\n"},{"tags":["java","exception","runtime","jdk1.7"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685618623,"post_id":76378793,"comment_id":134686897,"body_markdown":"We need to see the [error trace](https://technojeeves.com/index.php/aliasjava1/17-errors)","body":"We need to see the <a href=\"https://technojeeves.com/index.php/aliasjava1/17-errors\" rel=\"nofollow noreferrer\">error trace</a>"}],"owner":{"account_id":28724628,"reputation":1,"user_id":21997655,"display_name":"Rautk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685608210,"creation_date":1685595755,"question_id":76378793,"body_markdown":"I am the devtools test suite on java test harness but getting this saxparse exception after running the testcase. what is the root cause? i am using oracle jdk1.7.\r\n\r\nI have tried validating the xml document with xsd but it is valid. ","title":"&quot;java.lang.runtimeexception: org.xml.sax.saxparseexception; linenumber: 1; columnnumber: caused by: org.xml.sax.saxparseexception&quot;","body":"<p>I am the devtools test suite on java test harness but getting this saxparse exception after running the testcase. what is the root cause? i am using oracle jdk1.7.</p>\n<p>I have tried validating the xml document with xsd but it is valid.</p>\n"},{"tags":["java","arrays","foreach"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1685585261,"post_id":76378249,"comment_id":134681863,"body_markdown":"could you further clarify what you mean? It is a bit hard to understand what you hope to achieve","body":"could you further clarify what you mean? It is a bit hard to understand what you hope to achieve"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1685585826,"post_id":76378249,"comment_id":134681901,"body_markdown":"In other words please show us code which reproduces the problem.  What result do you want to see instead of the current result.","body":"In other words please show us code which reproduces the problem.  What result do you want to see instead of the current result."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1685586333,"post_id":76378249,"comment_id":134681936,"body_markdown":"Why loop through all books when I suspect that `Book b = findBook(title);` is the book you want to process - no?","body":"Why loop through all books when I suspect that <code>Book b = findBook(title);</code> is the book you want to process - no?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1685587564,"post_id":76378249,"comment_id":134682026,"body_markdown":"Other than checking them for null, you never use `lm` or `b`.","body":"Other than checking them for null, you never use <code>lm</code> or <code>b</code>."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1685589737,"post_id":76378249,"comment_id":134682180,"body_markdown":"Why would there be any particular relationship between `lm` and any particular element of `libMems`, just from this code alone?  What part of the for loop checks anything about `libMem`?","body":"Why would there be any particular relationship between <code>lm</code> and any particular element of <code>libMems</code>, just from this code alone?  What part of the for loop checks anything about <code>libMem</code>?"}],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685600901,"creation_date":1685600901,"answer_id":76379207,"question_id":76378249,"body_markdown":"You have two `for` loops and you are only breaking out of the `books` one, and the `libMems` loop continues.\r\n\r\n    for (LibraryMember libMem : libMems) {\r\n        for (Book book : books) {\r\n            if( ... ) {\r\n                ...\r\n                break;\r\n            }\r\n\r\nThe simplest way to solve this is to label your main loop and use that label to `break` out of the processing.\r\n\r\nHere is added a lable called `checkBorrowLoop`, adding the label is done with the name and a colon `:` then using that name as a part of the break statement.\r\n\r\n    checkBorrowLoop:\r\n    for (LibraryMember libMem : libMems) {\r\n        for (Book book : books) {\r\n            if( ... ) {\r\n                ...\r\n                break checkBorrowLoop;\r\n            }\r\n\r\n*** A small comment on the logic: You should test for `libMem.getNumBorrowed()&gt;=4` and `!book.isAvailability()` before doing any other processing, as there is no point in doing any checks if either of these are true.","title":"Why does Java for-each loop execute methods on all objects in array?","body":"<p>You have two <code>for</code> loops and you are only breaking out of the <code>books</code> one, and the <code>libMems</code> loop continues.</p>\n<pre><code>for (LibraryMember libMem : libMems) {\n    for (Book book : books) {\n        if( ... ) {\n            ...\n            break;\n        }\n</code></pre>\n<p>The simplest way to solve this is to label your main loop and use that label to <code>break</code> out of the processing.</p>\n<p>Here is added a lable called <code>checkBorrowLoop</code>, adding the label is done with the name and a colon <code>:</code> then using that name as a part of the break statement.</p>\n<pre><code>checkBorrowLoop:\nfor (LibraryMember libMem : libMems) {\n    for (Book book : books) {\n        if( ... ) {\n            ...\n            break checkBorrowLoop;\n        }\n</code></pre>\n<p>*** A small comment on the logic: You should test for <code>libMem.getNumBorrowed()&gt;=4</code> and <code>!book.isAvailability()</code> before doing any other processing, as there is no point in doing any checks if either of these are true.</p>\n"},{"comments":[{"owner":{"account_id":27392371,"reputation":1,"user_id":20895168,"display_name":"AzureBoredom"},"score":0,"creation_date":1685715570,"post_id":76379926,"comment_id":134704281,"body_markdown":"Thanks for the explanation, this code works.","body":"Thanks for the explanation, this code works."}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685607400,"creation_date":1685607400,"answer_id":76379926,"question_id":76378249,"body_markdown":"The for-each loop does what it is supposed to do: it loops over all members of a collection.\r\n\r\nFrom the code you provided I think you don&#39;t need to loop at all since you already have references to the `LibraryMember` and the `Book`:\r\n\r\n    public void borrowBook(String name, String title) {\r\n        LibraryMember lm = findMember(name);\r\n        Book b = findBook(title);\r\n        if (lm != null &amp;&amp; b != null) {\r\n            if (b.isAvailability() &amp;&amp; lm.getNumBorrowed()&lt;4) {\r\n                b.setAvailability(false);\r\n                lm.addBorrow(lm); // this line looks suspicious!!\r\n                System.out.println(title + &quot; has been borrowed by &quot; + name);\r\n            } else if (!book.isAvailability()) {\r\n                System.out.println(title + &quot; is unavailable.&quot;);\r\n            } else {\r\n                System.out.println(name + &quot; has too many books.&quot;);\r\n            }\r\n        } else if (lm==null) {\r\n            System.out.println(name + &quot; could not be found.&quot;);\r\n        } else {\r\n            System.out.println(title + &quot; could not be found.&quot;);\r\n        }\r\n    }\r\n\r\nNote that the line `lm.addBorrow(lm);` (in your original source `libMem.addBorrow(libMem);`) looks suspicious: why would a library member borrow itself?\r\n","title":"Why does Java for-each loop execute methods on all objects in array?","body":"<p>The for-each loop does what it is supposed to do: it loops over all members of a collection.</p>\n<p>From the code you provided I think you don't need to loop at all since you already have references to the <code>LibraryMember</code> and the <code>Book</code>:</p>\n<pre><code>public void borrowBook(String name, String title) {\n    LibraryMember lm = findMember(name);\n    Book b = findBook(title);\n    if (lm != null &amp;&amp; b != null) {\n        if (b.isAvailability() &amp;&amp; lm.getNumBorrowed()&lt;4) {\n            b.setAvailability(false);\n            lm.addBorrow(lm); // this line looks suspicious!!\n            System.out.println(title + &quot; has been borrowed by &quot; + name);\n        } else if (!book.isAvailability()) {\n            System.out.println(title + &quot; is unavailable.&quot;);\n        } else {\n            System.out.println(name + &quot; has too many books.&quot;);\n        }\n    } else if (lm==null) {\n        System.out.println(name + &quot; could not be found.&quot;);\n    } else {\n        System.out.println(title + &quot; could not be found.&quot;);\n    }\n}\n</code></pre>\n<p>Note that the line <code>lm.addBorrow(lm);</code> (in your original source <code>libMem.addBorrow(libMem);</code>) looks suspicious: why would a library member borrow itself?</p>\n"}],"owner":{"account_id":27392371,"reputation":1,"user_id":20895168,"display_name":"AzureBoredom"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685607496,"creation_date":1685585091,"question_id":76378249,"body_markdown":"I&#39;m a beginner to coding and trying to implement a Java for-each loop for a simple project. The project in question has the classes LibraryMember and Book, and the class Library contains the other two classes as attributes of type ArrayList. I would like to be able to cycle through both arrays to discern which LibraryMembers and which Books are available, and subsequently perform the appropriate actions on them, such as mark Book checked out (unavailable) and increment number of Books checked out by LibraryMember.\r\n\r\n```java\r\npublic void borrowBook(String name, String title) {\r\n\tLibraryMember lm = findMember(name);\r\n\tBook b = findBook(title);\r\n\tif (lm != null &amp;&amp; b != null) {\r\n\t\tfor (LibraryMember libMem : libMems) {\r\n\t\t\tfor (Book book : books) {\r\n\t\t\t\tif(book.isAvailability() &amp;&amp; libMem.getNumBorrowed()&lt;4) {\r\n\t\t\t\t\tbook.setAvailability(false);\r\n\t\t\t\t\tlibMem.addBorrow(libMem);\r\n\t\t\t\t\tSystem.out.println(title + &quot; has been borrowed by &quot; + name);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t} else if(!book.isAvailability()) System.out.println(title + &quot; is unavailable.&quot;);\r\n\t\t\t\telse System.out.println(name + &quot; has too many books.&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t} else if(lm==null) System.out.println(name + &quot; could not be found.&quot;);\r\n\telse System.out.println(title + &quot; could not be found.&quot;);\r\n}\r\n```\r\n\r\nWhen the code runs, the methods act upon each object in the array. I know this is because when the initial condition `if (lm != null &amp;&amp; b != null)` is satisfied, the for-each loop continues to cycle through every single member of the array and the methods are executed. \r\n\r\nCould someone please tell me why this is? Why doesn&#39;t the code act only upon the objects which meet the conditions outlined before the loop? i.e. `if (lm != null &amp;&amp; b != null)` and `if(book.isAvailability() &amp;&amp; libMem.getNumBorrowed()&lt;4)`. How would I fix this? \r\n\r\n","title":"Why does Java for-each loop execute methods on all objects in array?","body":"<p>I'm a beginner to coding and trying to implement a Java for-each loop for a simple project. The project in question has the classes LibraryMember and Book, and the class Library contains the other two classes as attributes of type ArrayList. I would like to be able to cycle through both arrays to discern which LibraryMembers and which Books are available, and subsequently perform the appropriate actions on them, such as mark Book checked out (unavailable) and increment number of Books checked out by LibraryMember.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void borrowBook(String name, String title) {\n    LibraryMember lm = findMember(name);\n    Book b = findBook(title);\n    if (lm != null &amp;&amp; b != null) {\n        for (LibraryMember libMem : libMems) {\n            for (Book book : books) {\n                if(book.isAvailability() &amp;&amp; libMem.getNumBorrowed()&lt;4) {\n                    book.setAvailability(false);\n                    libMem.addBorrow(libMem);\n                    System.out.println(title + &quot; has been borrowed by &quot; + name);\n                    break;\n                } else if(!book.isAvailability()) System.out.println(title + &quot; is unavailable.&quot;);\n                else System.out.println(name + &quot; has too many books.&quot;);\n            }\n        }\n    } else if(lm==null) System.out.println(name + &quot; could not be found.&quot;);\n    else System.out.println(title + &quot; could not be found.&quot;);\n}\n</code></pre>\n<p>When the code runs, the methods act upon each object in the array. I know this is because when the initial condition <code>if (lm != null &amp;&amp; b != null)</code> is satisfied, the for-each loop continues to cycle through every single member of the array and the methods are executed.</p>\n<p>Could someone please tell me why this is? Why doesn't the code act only upon the objects which meet the conditions outlined before the loop? i.e. <code>if (lm != null &amp;&amp; b != null)</code> and <code>if(book.isAvailability() &amp;&amp; libMem.getNumBorrowed()&lt;4)</code>. How would I fix this?</p>\n"},{"tags":["java","spring-boot","caching","ehcache-3","jsr107"],"answers":[{"comments":[{"owner":{"account_id":14365136,"reputation":890,"user_id":10376405,"display_name":"Paul"},"score":1,"creation_date":1685523522,"post_id":75644742,"comment_id":134670721,"body_markdown":"encountered the same upgrading to SpringBoot 3+. More info about possible cache-types and needed dependencies for support are found in the docs. https://docs.spring.io/spring-boot/docs/2.1.6.RELEASE/reference/html/boot-features-caching.html","body":"encountered the same upgrading to SpringBoot 3+. More info about possible cache-types and needed dependencies for support are found in the docs. <a href=\"https://docs.spring.io/spring-boot/docs/2.1.6.RELEASE/reference/html/boot-features-caching.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/2.1.6.RELEASE/reference/html&zwnj;&#8203;/&hellip;</a>"}],"tags":[],"owner":{"account_id":449410,"reputation":3835,"user_id":844177,"accept_rate":71,"display_name":"Oliver"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678043883,"creation_date":1678043883,"answer_id":75644742,"question_id":75642995,"body_markdown":"The error was the wrong value for `spring.cache.type`. Changing the value of the property to `jcache` solved the issue. \r\n\r\n```\r\nspring.cache.type=jcache\r\n```\r\n\r\nIt is also possible to leave this property out.","title":"Ehcache integration in Spring Boot application fails","body":"<p>The error was the wrong value for <code>spring.cache.type</code>. Changing the value of the property to <code>jcache</code> solved the issue.</p>\n<pre><code>spring.cache.type=jcache\n</code></pre>\n<p>It is also possible to leave this property out.</p>\n"},{"tags":[],"owner":{"account_id":14365136,"reputation":890,"user_id":10376405,"display_name":"Paul"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685607391,"creation_date":1685607391,"answer_id":76379922,"question_id":75642995,"body_markdown":"Encountering the same problem as Oliver, with the same exception, I&#39;d like to submit my own work when upgrading to SpringBoot 3.0.5\r\n\r\n**Old configurations:**\r\n```\r\n&lt;!-- in POM.xml --&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ehcache&lt;/artifactId&gt;\r\n    &lt;version&gt;2.10.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n```\r\n## in application.properties:\r\nspring.cache.type=ehcache\r\nspring.cache.ehcache.config=classpath:ehcache.xml\r\n```\r\n```\r\n&lt;!-- ehcache.xml example --&gt;\r\n&lt;ehcache xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:noNamespaceSchemaLocation=&quot;ehcache.xsd&quot;\r\n         updateCheck=&quot;true&quot;\r\n         monitoring=&quot;autodetect&quot;\r\n         dynamicConfig=&quot;true&quot;&gt;\r\n\r\n&lt;cache name=&quot;myCustomCache&quot;\r\n           maxEntriesLocalHeap=&quot;1000&quot;\r\n           eternal=&quot;false&quot;\r\n           timeToIdleSeconds=&quot;3600&quot;\r\n           timeToLiveSeconds=&quot;0&quot;\r\n           overflowToDisk=&quot;false&quot;\r\n           memoryStoreEvictionPolicy=&quot;LRU&quot;\r\n/&gt;\r\n&lt;/ehcache&gt;\r\n```\r\n```\r\n/*\r\n * regular call in a @RestController annotated class\r\n */\r\n@GetMapping(value = &quot;/users/{myParam}&quot;, produces = &quot;application/xml&quot;)\r\n@Cacheable(value = &quot;myCustomCache&quot;, key = &quot;#myParam&quot;)\r\npublic String findActiveUser(@PathVariable(&quot;myParam&quot;) String myParam) {\r\n        // call to service\r\n\r\n        // returning desired String\r\n        return &quot;answerFromService&quot;;\r\n}\r\n```\r\n```\r\n@Configuration\r\n@EnableCaching\r\npublic class CacheConfig {\r\n\r\n}\r\n```\r\n\r\n**New configurations:**\r\n```\r\n&lt;!-- in POM.xml --&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.ehcache&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ehcache&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.10.6&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;javax.cache&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;cache-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n```\r\n## in application.properties:\r\nspring.cache.type=jcache\r\n```\r\n```\r\nimport org.ehcache.config.CacheConfiguration;\r\nimport org.ehcache.config.builders.CacheConfigurationBuilder;\r\nimport org.ehcache.config.builders.ExpiryPolicyBuilder;\r\nimport org.ehcache.config.builders.ResourcePoolsBuilder;\r\nimport org.ehcache.jsr107.Eh107Configuration;\r\nimport org.springframework.cache.annotation.EnableCaching;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport javax.cache.CacheManager;\r\nimport javax.cache.Caching;\r\nimport javax.cache.spi.CachingProvider;\r\nimport java.time.Duration;\r\n\r\n@Configuration\r\n@EnableCaching\r\npublic class CacheConfig {\r\n\r\n    @Bean\r\n    public CacheManager createCacheWithinManager() {\r\n        // creation of cache configuration\r\n        CacheConfiguration&lt;String, String&gt; cacheConfiguration = CacheConfigurationBuilder\r\n                .newCacheConfigurationBuilder(\r\n                        String.class, String.class,\r\n                        ResourcePoolsBuilder.heap(1000).build()\r\n                )\r\n                .withExpiry(ExpiryPolicyBuilder\r\n                        .timeToIdleExpiration(Duration.ofSeconds(3600))\r\n                ).build();\r\n\r\n        // fetching cacheManager\r\n        CachingProvider cachingProvider = Caching.getCachingProvider();\r\n        CacheManager cacheManager = cachingProvider.getCacheManager();\r\n\r\n        // parsing ehcache configuration to something SpringBoot will understand\r\n        javax.cache.configuration.Configuration&lt;String, String&gt; configuration = Eh107Configuration.fromEhcacheCacheConfiguration(cacheConfiguration);\r\n\r\n        // creating as many caches as you want\r\n        cacheManager.createCache(&quot;myCustomCache&quot;, configuration);\r\n\r\n        // add shutdown hook to close cacheManager\r\n        Runtime.getRuntime().addShutdownHook(new Thread(cacheManager::close));\r\n\r\n        // return Bean\r\n        return cacheManager;\r\n    }\r\n}\r\n```\r\n*The xml configuration is now obsolete and the Controller-method can remain unchanged!* Take note: the cache is picked up by it&#39;s name.\r\n\r\n**Sources**\r\n- the [ehcache docs][1]\r\n- article by [refactorfirst][2]\r\n- didn&#39;t suffice for me, because I wanted to step away from xml-config, but [Baeldung][3] had some information as well.\r\n\r\n\r\n  [1]: https://www.ehcache.org/documentation/3.0/\r\n  [2]: https://refactorfirst.com/spring-boot-spring-cache-with-ehcache-3\r\n  [3]: https://www.baeldung.com/spring-boot-ehcache","title":"Ehcache integration in Spring Boot application fails","body":"<p>Encountering the same problem as Oliver, with the same exception, I'd like to submit my own work when upgrading to SpringBoot 3.0.5</p>\n<p><strong>Old configurations:</strong></p>\n<pre><code>&lt;!-- in POM.xml --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt;\n    &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\n    &lt;version&gt;2.10.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre><code>## in application.properties:\nspring.cache.type=ehcache\nspring.cache.ehcache.config=classpath:ehcache.xml\n</code></pre>\n<pre><code>&lt;!-- ehcache.xml example --&gt;\n&lt;ehcache xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:noNamespaceSchemaLocation=&quot;ehcache.xsd&quot;\n         updateCheck=&quot;true&quot;\n         monitoring=&quot;autodetect&quot;\n         dynamicConfig=&quot;true&quot;&gt;\n\n&lt;cache name=&quot;myCustomCache&quot;\n           maxEntriesLocalHeap=&quot;1000&quot;\n           eternal=&quot;false&quot;\n           timeToIdleSeconds=&quot;3600&quot;\n           timeToLiveSeconds=&quot;0&quot;\n           overflowToDisk=&quot;false&quot;\n           memoryStoreEvictionPolicy=&quot;LRU&quot;\n/&gt;\n&lt;/ehcache&gt;\n</code></pre>\n<pre><code>/*\n * regular call in a @RestController annotated class\n */\n@GetMapping(value = &quot;/users/{myParam}&quot;, produces = &quot;application/xml&quot;)\n@Cacheable(value = &quot;myCustomCache&quot;, key = &quot;#myParam&quot;)\npublic String findActiveUser(@PathVariable(&quot;myParam&quot;) String myParam) {\n        // call to service\n\n        // returning desired String\n        return &quot;answerFromService&quot;;\n}\n</code></pre>\n<pre><code>@Configuration\n@EnableCaching\npublic class CacheConfig {\n\n}\n</code></pre>\n<p><strong>New configurations:</strong></p>\n<pre><code>&lt;!-- in POM.xml --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.ehcache&lt;/groupId&gt;\n    &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\n    &lt;version&gt;3.10.6&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.cache&lt;/groupId&gt;\n    &lt;artifactId&gt;cache-api&lt;/artifactId&gt;\n    &lt;version&gt;1.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre><code>## in application.properties:\nspring.cache.type=jcache\n</code></pre>\n<pre><code>import org.ehcache.config.CacheConfiguration;\nimport org.ehcache.config.builders.CacheConfigurationBuilder;\nimport org.ehcache.config.builders.ExpiryPolicyBuilder;\nimport org.ehcache.config.builders.ResourcePoolsBuilder;\nimport org.ehcache.jsr107.Eh107Configuration;\nimport org.springframework.cache.annotation.EnableCaching;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport javax.cache.CacheManager;\nimport javax.cache.Caching;\nimport javax.cache.spi.CachingProvider;\nimport java.time.Duration;\n\n@Configuration\n@EnableCaching\npublic class CacheConfig {\n\n    @Bean\n    public CacheManager createCacheWithinManager() {\n        // creation of cache configuration\n        CacheConfiguration&lt;String, String&gt; cacheConfiguration = CacheConfigurationBuilder\n                .newCacheConfigurationBuilder(\n                        String.class, String.class,\n                        ResourcePoolsBuilder.heap(1000).build()\n                )\n                .withExpiry(ExpiryPolicyBuilder\n                        .timeToIdleExpiration(Duration.ofSeconds(3600))\n                ).build();\n\n        // fetching cacheManager\n        CachingProvider cachingProvider = Caching.getCachingProvider();\n        CacheManager cacheManager = cachingProvider.getCacheManager();\n\n        // parsing ehcache configuration to something SpringBoot will understand\n        javax.cache.configuration.Configuration&lt;String, String&gt; configuration = Eh107Configuration.fromEhcacheCacheConfiguration(cacheConfiguration);\n\n        // creating as many caches as you want\n        cacheManager.createCache(&quot;myCustomCache&quot;, configuration);\n\n        // add shutdown hook to close cacheManager\n        Runtime.getRuntime().addShutdownHook(new Thread(cacheManager::close));\n\n        // return Bean\n        return cacheManager;\n    }\n}\n</code></pre>\n<p><em>The xml configuration is now obsolete and the Controller-method can remain unchanged!</em> Take note: the cache is picked up by it's name.</p>\n<p><strong>Sources</strong></p>\n<ul>\n<li>the <a href=\"https://www.ehcache.org/documentation/3.0/\" rel=\"nofollow noreferrer\">ehcache docs</a></li>\n<li>article by <a href=\"https://refactorfirst.com/spring-boot-spring-cache-with-ehcache-3\" rel=\"nofollow noreferrer\">refactorfirst</a></li>\n<li>didn't suffice for me, because I wanted to step away from xml-config, but <a href=\"https://www.baeldung.com/spring-boot-ehcache\" rel=\"nofollow noreferrer\">Baeldung</a> had some information as well.</li>\n</ul>\n"}],"owner":{"account_id":449410,"reputation":3835,"user_id":844177,"accept_rate":71,"display_name":"Oliver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1552,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1685607391,"creation_date":1678027206,"question_id":75642995,"body_markdown":"I try to integrate Ehcache 3 into a Spring Boot 2.7.7 application, but during startup, the application fails with the following error message:\r\n\r\n`org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;cacheAutoConfigurationValidator&#39; defined in class path resource [org/springframework/boot/autoconfigure/cache/CacheAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: No cache manager could be auto-configured, check your configuration (caching type is &#39;EHCACHE&#39;)\r\n...\r\nCaused by: java.lang.IllegalArgumentException: No cache manager could be auto-configured, check your configuration (caching type is &#39;EHCACHE&#39;)`\r\n\r\nAccording the documentation it should be enough to add Ehcache to the classpath/dependencies, and to provide a `ehcache.xml` file.\r\n\r\nMy (relevant) dependencies looks like this:\r\n\r\n```lang-xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.cache&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cache-api&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.ehcache&lt;/groupId&gt;\r\n    &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nMy `application.properties` contains the following chache related entry:\r\n\r\n```\r\nspring.cache.type=ehcache\r\n```\r\n\r\nAny idea what might be missing?","title":"Ehcache integration in Spring Boot application fails","body":"<p>I try to integrate Ehcache 3 into a Spring Boot 2.7.7 application, but during startup, the application fails with the following error message:</p>\n<p><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cacheAutoConfigurationValidator' defined in class path resource [org/springframework/boot/autoconfigure/cache/CacheAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: No cache manager could be auto-configured, check your configuration (caching type is 'EHCACHE') ... Caused by: java.lang.IllegalArgumentException: No cache manager could be auto-configured, check your configuration (caching type is 'EHCACHE')</code></p>\n<p>According the documentation it should be enough to add Ehcache to the classpath/dependencies, and to provide a <code>ehcache.xml</code> file.</p>\n<p>My (relevant) dependencies looks like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.cache&lt;/groupId&gt;\n    &lt;artifactId&gt;cache-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.ehcache&lt;/groupId&gt;\n    &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>My <code>application.properties</code> contains the following chache related entry:</p>\n<pre><code>spring.cache.type=ehcache\n</code></pre>\n<p>Any idea what might be missing?</p>\n"},{"tags":["java","android","kotlin","jar"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1685607376,"post_id":76379914,"comment_id":134684523,"body_markdown":"your error message is not about a library that is missing, but about a field within a class it used.","body":"your error message is not about a library that is missing, but about a field within a class it used."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685620619,"post_id":76379914,"comment_id":134687344,"body_markdown":"You didn&#39;t provide any source code to understand the issue.","body":"You didn&#39;t provide any source code to understand the issue."}],"owner":{"account_id":24900932,"reputation":3,"user_id":18771614,"display_name":"Karthick G"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685607327,"creation_date":1685607327,"question_id":76379914,"body_markdown":"I create a .jar file from my old project and try to use the .jar file in new project its crash application. \r\n\r\n\r\n\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.clientapp, PID: 2837\r\n    java.lang.NoSuchFieldError: No static field abc_text_select_handle_left_mtrl of type I in class Landroidx/appcompat/R$drawable; or its superclasses (declaration of &#39;androidx.appcompat.R$drawable&#39; appears in /data/app/~~m2UIxY8m41H6F1206VId5A==/com.example.clientapp-uQDl-7yLeT3HZC91kbld4Q==/base.apk)\r\n        at androidx.appcompat.widget.AppCompatDrawableManager$1.&lt;init&gt;(AppCompatDrawableManager.java:93)\r\n        at androidx.appcompat.widget.AppCompatDrawableManager.preload(AppCompatDrawableManager.java:62)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.&lt;init&gt;(AppCompatDelegateImpl.java:342)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.&lt;init&gt;(AppCompatDelegateImpl.java:292)\r\n        at androidx.appcompat.app.AppCompatDelegate.create(AppCompatDelegate.java:230)\r\n        at androidx.appcompat.app.AppCompatActivity.getDelegate(AppCompatActivity.java:586)\r\n        at androidx.appcompat.app.AppCompatActivity.attachBaseContext(AppCompatActivity.java:139)\r\n        at android.app.Activity.attach(Activity.java:7939)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3622)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3832)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2247)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loopOnce(Looper.java:201)\r\n        at android.os.Looper.loop(Looper.java:288)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7886)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:568)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1045)\r\n```\r\n\r\nI have only one layout in my new project the layout name also different from the .jar file and  the both project package name also different i don&#39;t know where i mistaked please help.\r\n\r\nThis is my new project build.gradle\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;org.jetbrains.kotlin.android&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.clientapp&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.clientapp&quot;\r\n        minSdk 24\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.core:core-ktx:1.7.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.9.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation files(&#39;libs/BpLibrary.jar&#39;)\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n}\r\n```","title":"I create the .jar file but I can&#39;t use .jar file in my new project","body":"<p>I create a .jar file from my old project and try to use the .jar file in new project its crash application.</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.clientapp, PID: 2837\n    java.lang.NoSuchFieldError: No static field abc_text_select_handle_left_mtrl of type I in class Landroidx/appcompat/R$drawable; or its superclasses (declaration of 'androidx.appcompat.R$drawable' appears in /data/app/~~m2UIxY8m41H6F1206VId5A==/com.example.clientapp-uQDl-7yLeT3HZC91kbld4Q==/base.apk)\n        at androidx.appcompat.widget.AppCompatDrawableManager$1.&lt;init&gt;(AppCompatDrawableManager.java:93)\n        at androidx.appcompat.widget.AppCompatDrawableManager.preload(AppCompatDrawableManager.java:62)\n        at androidx.appcompat.app.AppCompatDelegateImpl.&lt;init&gt;(AppCompatDelegateImpl.java:342)\n        at androidx.appcompat.app.AppCompatDelegateImpl.&lt;init&gt;(AppCompatDelegateImpl.java:292)\n        at androidx.appcompat.app.AppCompatDelegate.create(AppCompatDelegate.java:230)\n        at androidx.appcompat.app.AppCompatActivity.getDelegate(AppCompatActivity.java:586)\n        at androidx.appcompat.app.AppCompatActivity.attachBaseContext(AppCompatActivity.java:139)\n        at android.app.Activity.attach(Activity.java:7939)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3622)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3832)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2247)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loopOnce(Looper.java:201)\n        at android.os.Looper.loop(Looper.java:288)\n        at android.app.ActivityThread.main(ActivityThread.java:7886)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:568)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1045)\n</code></pre>\n<p>I have only one layout in my new project the layout name also different from the .jar file and  the both project package name also different i don't know where i mistaked please help.</p>\n<p>This is my new project build.gradle</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n}\n\nandroid {\n    namespace 'com.example.clientapp'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.clientapp&quot;\n        minSdk 24\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.core:core-ktx:1.7.0'\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'com.google.android.material:material:1.9.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation files('libs/BpLibrary.jar')\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n}\n</code></pre>\n"},{"tags":["java","jackson-dataformat-xml"],"comments":[{"owner":{"account_id":17351533,"reputation":155,"user_id":12579510,"display_name":"mamadaliev"},"score":0,"creation_date":1685565235,"post_id":76375951,"comment_id":134679840,"body_markdown":"The error message suggests that the property &quot;LstMyClassInfo&quot; is duplicated in your MyClassBLL class. This could be because you have both a field and a getter/setter method for this property.","body":"The error message suggests that the property &quot;LstMyClassInfo&quot; is duplicated in your MyClassBLL class. This could be because you have both a field and a getter/setter method for this property."}],"answers":[{"tags":[],"owner":{"account_id":8018983,"reputation":26,"user_id":6048215,"display_name":"ashwinij"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685606875,"creation_date":1685606875,"answer_id":76379873,"question_id":76375951,"body_markdown":"You would need to add `@JacksonXmlProperty` to the fields in the `MyClassBLL` class that matches with the xml element names.\r\n\r\nExample\r\n```\r\n@Getter\r\n@Setter\r\n@ToString\r\n@JsonPropertyOrder({ &quot;LstMyClassInfo&quot;, &quot;DtIni&quot;, &quot;DtEnd&quot;, &quot;LstNumbers&quot; })\r\npublic class MyClassBLL {\r\n\r\n    @JacksonXmlElementWrapper(localName = &quot;LstMyClassInfo&quot;)\r\n    @JacksonXmlProperty(localName=&quot;MyClassInfo&quot;)\r\n    public List&lt;MyClassInfo&gt; MyClassInfoList;\r\n    public String DtIni;\r\n    public String DtEnd;\r\n    @JacksonXmlElementWrapper(localName = &quot;LstNumbers&quot;)\r\n    @JacksonXmlProperty(localName=&quot;string&quot;)\r\n    public List&lt;String&gt; Numbers;\r\n}\r\n```\r\n","title":"I can&#39;t deserialize a wrapped List with Jackson XmlMapper","body":"<p>You would need to add <code>@JacksonXmlProperty</code> to the fields in the <code>MyClassBLL</code> class that matches with the xml element names.</p>\n<p>Example</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@JsonPropertyOrder({ &quot;LstMyClassInfo&quot;, &quot;DtIni&quot;, &quot;DtEnd&quot;, &quot;LstNumbers&quot; })\npublic class MyClassBLL {\n\n    @JacksonXmlElementWrapper(localName = &quot;LstMyClassInfo&quot;)\n    @JacksonXmlProperty(localName=&quot;MyClassInfo&quot;)\n    public List&lt;MyClassInfo&gt; MyClassInfoList;\n    public String DtIni;\n    public String DtEnd;\n    @JacksonXmlElementWrapper(localName = &quot;LstNumbers&quot;)\n    @JacksonXmlProperty(localName=&quot;string&quot;)\n    public List&lt;String&gt; Numbers;\n}\n</code></pre>\n"}],"owner":{"account_id":28721493,"reputation":3,"user_id":21995203,"display_name":"Doma Ricardi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76379873,"answer_count":1,"score":0,"last_activity_date":1685606875,"creation_date":1685553875,"question_id":76375951,"body_markdown":"I&#39;m trying to deserialize an XML list returned from a SOAP request, but I&#39;m getting the following error:\r\n\r\n*com.fasterxml.jackson.databind.JsonMappingException: Duplicate property &#39;LstMyClassInfo&#39; for \\[simple type, class MyClassBLL\\] at \\[Source: (StringReader); line: 1, column: 1\\]*\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\r\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlElementWrapper;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\nimport java.util.List;\r\n\r\n@Getter\r\n@Setter\r\n@JsonPropertyOrder({&quot;LstMyClassInfo&quot;, &quot;DtIni&quot;, &quot;DtEnd&quot;, &quot;LstNumbers&quot;})\r\npublic class MyClassBLL {\r\n    @JacksonXmlElementWrapper(localName = &quot;LstMyClassInfo&quot;)\r\n    public List&lt;MyClassInfo&gt; MyClassInfoList;\r\n    public String DtIni;\r\n    public String DtFDtEndnal;\r\n    @JacksonXmlElementWrapper(localName = &quot;LstNumbers&quot;)\r\n    public List&lt;String&gt; Numbers;\r\n}\r\n```\r\n\r\n```\r\nprivate MyClassBLL deserialize(String captureInformation) throws Exception {\r\n        JacksonXmlModule xmlModule = new JacksonXmlModule();\r\n        xmlModule.setDefaultUseWrapper(false);\r\n        ObjectMapper objectMapper = new XmlMapper(xmlModule);\r\n\r\n        return objectMapper.readValue(captureInformation, MyClassBLL.class);\r\n    }\r\n```\r\n\r\nThis is XML sample to deserialize:\r\n\r\n```\r\n&lt;MyClassBLL xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n\t&lt;LstMyClassInfo&gt;\r\n\t\t&lt;MyClassInfo&gt;\r\n\t\t\t&lt;SNumber&gt;XXXXXXXXX&lt;/SNumber&gt;\r\n\t\t\t-- Any other properties\r\n\t\t&lt;/MyClassInfo&gt;\r\n\t\t&lt;MyClassInfo&gt;\r\n\t\t\t&lt;SNumber&gt;YYYYYYYYY&lt;/SNumber&gt;\r\n\t\t\t-- Any other properties\r\n\t\t&lt;/MyClassInfo&gt;\r\n\t\t&lt;MyClassInfo&gt;\r\n\t\t\t&lt;SNumber&gt;ZZZZZZZZZ&lt;/SNumber&gt;\r\n\t\t\t-- Any other properties\r\n\t\t&lt;/MyClassInfo&gt;\r\n\t&lt;/LstMyClassInfo&gt;\r\n\t&lt;DtIni&gt;2023-05-01T03:00:00&lt;/DtIni&gt;\r\n\t&lt;DtEnd&gt;2023-06-01T02:59:59&lt;/DtEd&gt;\r\n\t&lt;LstNumbers&gt;\r\n\t\t&lt;string&gt;XXXXXXXXX&lt;/string&gt;\r\n\t\t&lt;string&gt;YYYYYYYYY&lt;/string&gt;\r\n\t\t&lt;string&gt;ZZZZZZZZZ&lt;/string&gt;\r\n\t&lt;/LstNumbers&gt;\r\n&lt;/MyClassBLL&gt;\r\n```\r\n\r\nAnybody help-me?\r\n\r\nPS: sorry for my bad english\r\n\r\nI&#39;ve already checked the JacksonXml documentation, but there doesn&#39;t seem to be anything wrong with my implementation.","title":"I can&#39;t deserialize a wrapped List with Jackson XmlMapper","body":"<p>I'm trying to deserialize an XML list returned from a SOAP request, but I'm getting the following error:</p>\n<p><em>com.fasterxml.jackson.databind.JsonMappingException: Duplicate property 'LstMyClassInfo' for [simple type, class MyClassBLL] at [Source: (StringReader); line: 1, column: 1]</em></p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonPropertyOrder;\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlElementWrapper;\nimport lombok.Getter;\nimport lombok.Setter;\n\nimport java.util.List;\n\n@Getter\n@Setter\n@JsonPropertyOrder({&quot;LstMyClassInfo&quot;, &quot;DtIni&quot;, &quot;DtEnd&quot;, &quot;LstNumbers&quot;})\npublic class MyClassBLL {\n    @JacksonXmlElementWrapper(localName = &quot;LstMyClassInfo&quot;)\n    public List&lt;MyClassInfo&gt; MyClassInfoList;\n    public String DtIni;\n    public String DtFDtEndnal;\n    @JacksonXmlElementWrapper(localName = &quot;LstNumbers&quot;)\n    public List&lt;String&gt; Numbers;\n}\n</code></pre>\n<pre><code>private MyClassBLL deserialize(String captureInformation) throws Exception {\n        JacksonXmlModule xmlModule = new JacksonXmlModule();\n        xmlModule.setDefaultUseWrapper(false);\n        ObjectMapper objectMapper = new XmlMapper(xmlModule);\n\n        return objectMapper.readValue(captureInformation, MyClassBLL.class);\n    }\n</code></pre>\n<p>This is XML sample to deserialize:</p>\n<pre><code>&lt;MyClassBLL xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n    &lt;LstMyClassInfo&gt;\n        &lt;MyClassInfo&gt;\n            &lt;SNumber&gt;XXXXXXXXX&lt;/SNumber&gt;\n            -- Any other properties\n        &lt;/MyClassInfo&gt;\n        &lt;MyClassInfo&gt;\n            &lt;SNumber&gt;YYYYYYYYY&lt;/SNumber&gt;\n            -- Any other properties\n        &lt;/MyClassInfo&gt;\n        &lt;MyClassInfo&gt;\n            &lt;SNumber&gt;ZZZZZZZZZ&lt;/SNumber&gt;\n            -- Any other properties\n        &lt;/MyClassInfo&gt;\n    &lt;/LstMyClassInfo&gt;\n    &lt;DtIni&gt;2023-05-01T03:00:00&lt;/DtIni&gt;\n    &lt;DtEnd&gt;2023-06-01T02:59:59&lt;/DtEd&gt;\n    &lt;LstNumbers&gt;\n        &lt;string&gt;XXXXXXXXX&lt;/string&gt;\n        &lt;string&gt;YYYYYYYYY&lt;/string&gt;\n        &lt;string&gt;ZZZZZZZZZ&lt;/string&gt;\n    &lt;/LstNumbers&gt;\n&lt;/MyClassBLL&gt;\n</code></pre>\n<p>Anybody help-me?</p>\n<p>PS: sorry for my bad english</p>\n<p>I've already checked the JacksonXml documentation, but there doesn't seem to be anything wrong with my implementation.</p>\n"},{"tags":["java","spring-boot","mockito","junit5","java-11"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1685601432,"post_id":76379115,"comment_id":134683406,"body_markdown":"Create that object with an injected factory instead of new.","body":"Create that object with an injected factory instead of new."},{"owner":{"account_id":13556629,"reputation":71,"user_id":9779833,"display_name":"Manoj Kommineni"},"score":0,"creation_date":1685603218,"post_id":76379115,"comment_id":134683698,"body_markdown":"I am assuming what you meant is using &quot;@InjectMocks Dependency2 dependency2&quot; instead of &quot;@Mock Dependency2 dependency2&quot;\nTired doing that, however it is resulting in a null pointer exception due to the method dependency2.handle(item) method","body":"I am assuming what you meant is using &quot;@InjectMocks Dependency2 dependency2&quot; instead of &quot;@Mock Dependency2 dependency2&quot; Tired doing that, however it is resulting in a null pointer exception due to the method dependency2.handle(item) method"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1685607011,"post_id":76379115,"comment_id":134684442,"body_markdown":"https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test provides possible solutions (but not an exact dupe, even though the underlying problem is the same)","body":"<a href=\"https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test\" title=\"why are my mocked methods not called when executing a unit test\">stackoverflow.com/questions/74027324/&hellip;</a> provides possible solutions (but not an exact dupe, even though the underlying problem is the same)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1685623354,"post_id":76379115,"comment_id":134688027,"body_markdown":"No, I mean create a factory class, `Dependency2Factory` which has  a method `Dependency2 create(Something something)` and inject that into `EventAhandler`.","body":"No, I mean create a factory class, <code>Dependency2Factory</code> which has  a method <code>Dependency2 create(Something something)</code> and inject that into <code>EventAhandler</code>."}],"owner":{"account_id":13556629,"reputation":71,"user_id":9779833,"display_name":"Manoj Kommineni"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685606751,"creation_date":1685599887,"question_id":76379115,"body_markdown":"I have a method which I need to test on Spring Boot using JUnit 5.\r\n\r\n    @Component\r\n    public class EventAhandler implements ApplicationListener&lt;EventA&gt; {\r\n      @Autowired private ApplicationEventPublisher applicationEventPublisher;\r\n    \r\n      @Autowired private Dependency1 dependency1;\r\n    \r\n      public void onApplicationEvent(EventA event) {\r\n    \r\n        Item item = event.getItem();\r\n        Dependency2 dependency2 = new Dependency2(dependency1.getSomething());\r\n        try {\r\n          dependency2.handle(item);\r\n          applicationEventPublisher.publishEvent(new EventB(this, item));\r\n        } catch (Exception e) {\r\n          applicationEventPublisher.publishEvent(\r\n              new EventC(this, item, e.getMessage()));\r\n        }\r\n      }\r\n    }\r\n\r\nI wrote a test for it as follows:\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest\r\n    public class EventAPublisherTest {\r\n      @Autowired private ApplicationEventPublisher applicationEventPublisher;\r\n    \t@MockBean private Dependency1 dependency1;\r\n    \t@MockBean private Dependency3 dependency3;\r\n    \t@Mock private  Dependency2 dependency2;\r\n      @MockBean private EventBHandler EventBHandler;\r\n    \r\n      @MockBean private EventCHandler EventCHandler;\r\n    \r\n      @SpyBean private EventTestListener testEventListener;\r\n      private static Item item;\r\n    \r\n      @BeforeAll\r\n      static void setup() {\r\n        Item item = new Item(&quot;test&quot;);\r\n      }\r\n    \r\n      @Test\r\n      public void testEventAListener()\r\n    \t\t  throws Exception {\r\n    \t  given(this.dependency1.getSomething()).willReturn(dependency3);\r\n    \t  doNothing().when(this.dependency2).handle(item);\r\n        applicationEventPublisher.publishEvent(\r\n            new EventA(this, item));\r\n    \r\n      }\r\n    }\r\n\r\nHowever it throws a null pointer exception for dependency2.handle(item) and it is not mocked or does nothing. Please help me solve this issue.\r\n","title":"How to mock an object using JUnit 5 which is created inside a method being tested?","body":"<p>I have a method which I need to test on Spring Boot using JUnit 5.</p>\n<pre><code>@Component\npublic class EventAhandler implements ApplicationListener&lt;EventA&gt; {\n  @Autowired private ApplicationEventPublisher applicationEventPublisher;\n\n  @Autowired private Dependency1 dependency1;\n\n  public void onApplicationEvent(EventA event) {\n\n    Item item = event.getItem();\n    Dependency2 dependency2 = new Dependency2(dependency1.getSomething());\n    try {\n      dependency2.handle(item);\n      applicationEventPublisher.publishEvent(new EventB(this, item));\n    } catch (Exception e) {\n      applicationEventPublisher.publishEvent(\n          new EventC(this, item, e.getMessage()));\n    }\n  }\n}\n</code></pre>\n<p>I wrote a test for it as follows:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest\npublic class EventAPublisherTest {\n  @Autowired private ApplicationEventPublisher applicationEventPublisher;\n    @MockBean private Dependency1 dependency1;\n    @MockBean private Dependency3 dependency3;\n    @Mock private  Dependency2 dependency2;\n  @MockBean private EventBHandler EventBHandler;\n\n  @MockBean private EventCHandler EventCHandler;\n\n  @SpyBean private EventTestListener testEventListener;\n  private static Item item;\n\n  @BeforeAll\n  static void setup() {\n    Item item = new Item(&quot;test&quot;);\n  }\n\n  @Test\n  public void testEventAListener()\n          throws Exception {\n      given(this.dependency1.getSomething()).willReturn(dependency3);\n      doNothing().when(this.dependency2).handle(item);\n    applicationEventPublisher.publishEvent(\n        new EventA(this, item));\n\n  }\n}\n</code></pre>\n<p>However it throws a null pointer exception for dependency2.handle(item) and it is not mocked or does nothing. Please help me solve this issue.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":28725705,"reputation":31,"user_id":21998561,"display_name":"Transport"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1685605942,"creation_date":1685605942,"answer_id":76379759,"question_id":76379664,"body_markdown":"Based on the speculation in the exception information, this may be due to the incompatibility between the Java version you are using and the Java version used to compile &quot;App.class&quot;. In this case, you need to ensure that you are using a Java runtime environment (JRE) or development tool that is compatible with the Java version used when compiling the code.","title":"@ComponentScan giving error. How to resolve?","body":"<p>Based on the speculation in the exception information, this may be due to the incompatibility between the Java version you are using and the Java version used to compile &quot;App.class&quot;. In this case, you need to ensure that you are using a Java runtime environment (JRE) or development tool that is compatible with the Java version used when compiling the code.</p>\n"}],"owner":{"display_name":"user17788823"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685606710,"creation_date":1685605180,"question_id":76379664,"body_markdown":"I am learning spring and springboot and have created a project where I am using a configuration class to create beans.\r\n\r\nI also have a pom.xml file where I add the dependencies.\r\n\r\nThe codes are as follows:\r\n\r\npom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n     http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n     &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n     &lt;groupId&gt;com.lcwd.withoutboot&lt;/groupId&gt;\r\n     &lt;artifactId&gt;SpringWithoutBoot&lt;/artifactId&gt;\r\n     &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n     &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n     &lt;name&gt;SpringWithoutBoot&lt;/name&gt;\r\n     &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n    &lt;properties&gt;\r\n      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n      &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\r\n      &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n      &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\r\n      &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n      &lt;version&gt;5.2.24.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n      &lt;version&gt;5.2.24.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n\r\nAppConfig.java\r\n```\r\npackage com.lcwd.withoutboot.config;\r\n\r\nimport com.lcwd.withoutboot.beans.CartService;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\n@ComponentScan(basePackages = {&quot;com.lcwd.withoutboot&quot;})\r\npublic class AppConfig {\r\n\r\n    @Bean(&quot;cartService1&quot;)\r\n    public CartService cartService(){\r\n        return new CartService();\r\n    }\r\n}\r\n```\r\n\r\nApp.java\r\n```\r\npackage com.lcwd.withoutboot;\r\n\r\nimport com.lcwd.withoutboot.beans.CartService;\r\nimport com.lcwd.withoutboot.beans.UserService;\r\nimport com.lcwd.withoutboot.config.AppConfig;\r\nimport org.springframework.context.ApplicationContext;\r\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n\r\n/**\r\n * Hello world!\r\n *\r\n */\r\npublic class App \r\n{\r\n    public static void main( String[] args )\r\n    {\r\n        System.out.println( &quot;Application Started&quot; );\r\n        ApplicationContext context=new AnnotationConfigApplicationContext(AppConfig.class);\r\n        CartService cartService=context.getBean(&quot;cartService1&quot;, CartService.class);\r\n        cartService.createCart();\r\n\r\n        //UserService userService=context.getBean(UserService.class);\r\n        //userService.saveUser();\r\n    }\r\n}\r\n```\r\n\r\nThe error I am getting is as follows:\r\n```\r\nJun 01, 2023 12:56:58 PM org.springframework.context.support.AbstractApplicationContext refresh\r\nWARNING: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [C:\\Users\\soura\\Desktop\\SpringWithoutBoot\\target\\classes\\com\\lcwd\\withoutboot\\App.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [C:\\Users\\soura\\Desktop\\SpringWithoutBoot\\target\\classes\\com\\lcwd\\withoutboot\\App.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 64\r\nException in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [C:\\Users\\soura\\Desktop\\SpringWithoutBoot\\target\\classes\\com\\lcwd\\withoutboot\\App.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [C:\\Users\\soura\\Desktop\\SpringWithoutBoot\\target\\classes\\com\\lcwd\\withoutboot\\App.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 64\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:457)\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:316)\r\n\tat org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276)\r\n\tat org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:296)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:207)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:175)\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:320)\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:237)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:280)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:96)\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:707)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:533)\r\n\tat org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:89)\r\n\tat com.lcwd.withoutboot.App.main(App.java:18)\r\nCaused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [C:\\Users\\soura\\Desktop\\SpringWithoutBoot\\target\\classes\\com\\lcwd\\withoutboot\\App.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 64\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:60)\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:49)\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\r\n\tat org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123)\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:429)\r\n\t... 15 more\r\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 64\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:196)\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:177)\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:163)\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:284)\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:57)\r\n\t... 19 more\r\n\r\n```\r\n\r\nCan someone please tell me how can I resolve the error?","title":"@ComponentScan giving error. How to resolve?","body":"<p>I am learning spring and springboot and have created a project where I am using a configuration class to create beans.</p>\n<p>I also have a pom.xml file where I add the dependencies.</p>\n<p>The codes are as follows:</p>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \n xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \n http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n &lt;groupId&gt;com.lcwd.withoutboot&lt;/groupId&gt;\n &lt;artifactId&gt;SpringWithoutBoot&lt;/artifactId&gt;\n &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n &lt;packaging&gt;jar&lt;/packaging&gt;\n\n &lt;name&gt;SpringWithoutBoot&lt;/name&gt;\n &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n&lt;properties&gt;\n  &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\n  &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n  &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\n  &lt;dependency&gt;\n  &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n  &lt;version&gt;5.2.24.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n  &lt;version&gt;5.2.24.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n&lt;dependency&gt;\n  &lt;groupId&gt;junit&lt;/groupId&gt;\n  &lt;artifactId&gt;junit&lt;/artifactId&gt;\n  &lt;version&gt;3.8.1&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n  \n\n<p>AppConfig.java</p>\n<pre><code>package com.lcwd.withoutboot.config;\n\nimport com.lcwd.withoutboot.beans.CartService;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@ComponentScan(basePackages = {&quot;com.lcwd.withoutboot&quot;})\npublic class AppConfig {\n\n    @Bean(&quot;cartService1&quot;)\n    public CartService cartService(){\n        return new CartService();\n    }\n}\n</code></pre>\n<p>App.java</p>\n<pre><code>package com.lcwd.withoutboot;\n\nimport com.lcwd.withoutboot.beans.CartService;\nimport com.lcwd.withoutboot.beans.UserService;\nimport com.lcwd.withoutboot.config.AppConfig;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\n\n/**\n * Hello world!\n *\n */\npublic class App \n{\n    public static void main( String[] args )\n    {\n        System.out.println( &quot;Application Started&quot; );\n        ApplicationContext context=new AnnotationConfigApplicationContext(AppConfig.class);\n        CartService cartService=context.getBean(&quot;cartService1&quot;, CartService.class);\n        cartService.createCart();\n\n        //UserService userService=context.getBean(UserService.class);\n        //userService.saveUser();\n    }\n}\n</code></pre>\n<p>The error I am getting is as follows:</p>\n<pre><code>Jun 01, 2023 12:56:58 PM org.springframework.context.support.AbstractApplicationContext refresh\nWARNING: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [C:\\Users\\soura\\Desktop\\SpringWithoutBoot\\target\\classes\\com\\lcwd\\withoutboot\\App.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [C:\\Users\\soura\\Desktop\\SpringWithoutBoot\\target\\classes\\com\\lcwd\\withoutboot\\App.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 64\nException in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [C:\\Users\\soura\\Desktop\\SpringWithoutBoot\\target\\classes\\com\\lcwd\\withoutboot\\App.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [C:\\Users\\soura\\Desktop\\SpringWithoutBoot\\target\\classes\\com\\lcwd\\withoutboot\\App.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 64\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:457)\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:316)\n    at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276)\n    at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132)\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:296)\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250)\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:207)\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:175)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:320)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:237)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:280)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:96)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:707)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:533)\n    at org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:89)\n    at com.lcwd.withoutboot.App.main(App.java:18)\nCaused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [C:\\Users\\soura\\Desktop\\SpringWithoutBoot\\target\\classes\\com\\lcwd\\withoutboot\\App.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 64\n    at org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:60)\n    at org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:49)\n    at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\n    at org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123)\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:429)\n    ... 15 more\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 64\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:196)\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:177)\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:163)\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:284)\n    at org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:57)\n    ... 19 more\n\n</code></pre>\n<p>Can someone please tell me how can I resolve the error?</p>\n"},{"tags":["java","png"],"answers":[{"tags":[],"owner":{"account_id":13055830,"reputation":173,"user_id":9434729,"display_name":"Jelmen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685604145,"creation_date":1685604145,"answer_id":76379543,"question_id":76379416,"body_markdown":"You can try to use the `javax.imageio.ImageIO` class:\r\n\r\n```java\r\nimport javax.imageio.ImageIO;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\n\r\npublic class PixelToPNG {\r\n    public static void main(String[] args) {\r\n        // Assuming you have your pixel data stored in a 2D array called &quot;pixels&quot;\r\n        byte[][] pixels = {\r\n                {0, 127, (byte) 255},\r\n                {127, 0, 127},\r\n                {(byte) 255, 127, 0}\r\n        };\r\n\r\n        // Create a BufferedImage with single-band 8-bit grayscale configuration\r\n        BufferedImage image = new BufferedImage(pixels[0].length, pixels.length, BufferedImage.TYPE_BYTE_GRAY);\r\n        for (int y = 0; y &lt; pixels.length; y++) {\r\n            for (int x = 0; x &lt; pixels[y].length; x++) {\r\n                int pixelValue = pixels[y][x] &amp; 0xFF; // Convert byte to unsigned value\r\n                int rgb = (pixelValue &lt;&lt; 16) | (pixelValue &lt;&lt; 8) | pixelValue; // Create RGB value\r\n                image.setRGB(x, y, rgb); // Set pixel value in the BufferedImage\r\n            }\r\n        }\r\n\r\n        // Convert the BufferedImage to PNG-compressed binary data\r\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n        try {\r\n            ImageIO.write(image, &quot;PNG&quot;, outputStream);\r\n            byte[] pngData = outputStream.toByteArray();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n","title":"How can I convert an array of pixel values from an image to a PNG binary data without generating the image?","body":"<p>You can try to use the <code>javax.imageio.ImageIO</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.imageio.ImageIO;\nimport java.awt.image.BufferedImage;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\n\npublic class PixelToPNG {\n    public static void main(String[] args) {\n        // Assuming you have your pixel data stored in a 2D array called &quot;pixels&quot;\n        byte[][] pixels = {\n                {0, 127, (byte) 255},\n                {127, 0, 127},\n                {(byte) 255, 127, 0}\n        };\n\n        // Create a BufferedImage with single-band 8-bit grayscale configuration\n        BufferedImage image = new BufferedImage(pixels[0].length, pixels.length, BufferedImage.TYPE_BYTE_GRAY);\n        for (int y = 0; y &lt; pixels.length; y++) {\n            for (int x = 0; x &lt; pixels[y].length; x++) {\n                int pixelValue = pixels[y][x] &amp; 0xFF; // Convert byte to unsigned value\n                int rgb = (pixelValue &lt;&lt; 16) | (pixelValue &lt;&lt; 8) | pixelValue; // Create RGB value\n                image.setRGB(x, y, rgb); // Set pixel value in the BufferedImage\n            }\n        }\n\n        // Convert the BufferedImage to PNG-compressed binary data\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n        try {\n            ImageIO.write(image, &quot;PNG&quot;, outputStream);\n            byte[] pngData = outputStream.toByteArray();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":27702325,"reputation":13,"user_id":21367834,"display_name":"keweizhou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76379543,"answer_count":1,"score":-1,"last_activity_date":1685606642,"creation_date":1685603042,"question_id":76379416,"body_markdown":"I want to convert pixel data to PNG-compressed binary data and store it in a database, but I don&#39;t want to generate an image file. How can I do this?\r\n\r\nI tried using `BufferedImage` to store my pixel data and `com.keypoint.PngEncoder` to generate binary data for PNG images, but couldn&#39;t seem to generate only single-band 8-bit grayscale images","title":"How can I convert an array of pixel values from an image to a PNG binary data without generating the image?","body":"<p>I want to convert pixel data to PNG-compressed binary data and store it in a database, but I don't want to generate an image file. How can I do this?</p>\n<p>I tried using <code>BufferedImage</code> to store my pixel data and <code>com.keypoint.PngEncoder</code> to generate binary data for PNG images, but couldn't seem to generate only single-band 8-bit grayscale images</p>\n"},{"tags":["java","apache-camel","soa","enterprise-integration"],"answers":[{"comments":[{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1607725099,"post_id":8845358,"comment_id":115372595,"body_markdown":"&quot;implements all EIPs&quot; is not correct: [â_Because Camel implements many of the design patterns in the EIP book_â](https://camel.apache.org/manual/latest/book-getting-started.html#BookGettingStarted-TheCamelproject).","body":"&quot;implements all EIPs&quot; is not correct: <a href=\"https://camel.apache.org/manual/latest/book-getting-started.html#BookGettingStarted-TheCamelproject\" rel=\"nofollow noreferrer\">â<i>Because Camel implements many of the design patterns in the EIP book</i>â</a>."}],"tags":[],"owner":{"account_id":1119154,"reputation":1238,"user_id":1107856,"accept_rate":71,"display_name":"Sunil"},"comment_count":1,"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1326423578,"creation_date":1326423578,"answer_id":8845358,"question_id":8845186,"body_markdown":"If you are aware of Enterprise Integration Patterns, Apache Camel is one integration framework which implements all EIPs.\r\n\r\nAnd you can deploy Camel as a standalone application in a web-container.\r\n\r\nBasically, if you have to integrate several applications with different protocols and technologies, you can use Camel.","title":"What exactly is Apache Camel?","body":"<p>If you are aware of Enterprise Integration Patterns, Apache Camel is one integration framework which implements all EIPs.</p>\n\n<p>And you can deploy Camel as a standalone application in a web-container.</p>\n\n<p>Basically, if you have to integrate several applications with different protocols and technologies, you can use Camel.</p>\n"},{"tags":[],"owner":{"account_id":383315,"reputation":2761,"user_id":739090,"accept_rate":89,"display_name":"Crollster"},"comment_count":0,"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1326425808,"creation_date":1326425808,"answer_id":8845595,"question_id":8845186,"body_markdown":"One of the things you need to understand, before you try to understand Apache Camel, are Enterprise Integration Patterns. Not everyone in the field is actually aware of them. While you can certainly read the Enterprise Integration Patterns book, a quicker way to get up to speed on them would be to read something like the Wikipedia article on [Enterprise Application Integration][1]. \r\n\r\nOne you have read and understood the subject area, you would be much more likely to understand the purpose of Apache Camel\r\n\r\nHTH\r\n\r\n\r\n [1]: http://en.wikipedia.org/wiki/Enterprise_application_integration","title":"What exactly is Apache Camel?","body":"<p>One of the things you need to understand, before you try to understand Apache Camel, are Enterprise Integration Patterns. Not everyone in the field is actually aware of them. While you can certainly read the Enterprise Integration Patterns book, a quicker way to get up to speed on them would be to read something like the Wikipedia article on <a href=\"http://en.wikipedia.org/wiki/Enterprise_application_integration\">Enterprise Application Integration</a>. </p>\n\n<p>One you have read and understood the subject area, you would be much more likely to understand the purpose of Apache Camel</p>\n\n<p>HTH</p>\n"},{"comments":[{"owner":{"account_id":392650,"reputation":2045,"user_id":754048,"display_name":"Matt Aldridge"},"score":58,"creation_date":1326900406,"post_id":8849379,"comment_id":11148574,"body_markdown":"The Camel in Action book is a very very good book to get to learn the basics and also how to use some of the more complicated features of Camel. I highly recommend it! (I am in no way affiliated with the book or publisher)","body":"The Camel in Action book is a very very good book to get to learn the basics and also how to use some of the more complicated features of Camel. I highly recommend it! (I am in no way affiliated with the book or publisher)"},{"owner":{"account_id":178596,"reputation":10817,"user_id":410677,"accept_rate":78,"display_name":"kuhajeyan"},"score":2,"creation_date":1357549893,"post_id":8849379,"comment_id":19675126,"body_markdown":"@Clause  if want to choose between mule ESB &amp; Camel. what should be my demacation on choosing one ove the other","body":"@Clause  if want to choose between mule ESB &amp; Camel. what should be my demacation on choosing one ove the other"},{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":8,"creation_date":1357564805,"post_id":8849379,"comment_id":19681577,"body_markdown":"See some of the links at the _comparison to Camels competitors_ at: http://camel.apache.org/articles.html.","body":"See some of the links at the <i>comparison to Camels competitors</i> at: <a href=\"http://camel.apache.org/articles.html\" rel=\"nofollow noreferrer\">camel.apache.org/articles.html</a>."},{"owner":{"account_id":1199796,"reputation":5199,"user_id":1170686,"accept_rate":91,"display_name":"ankush981"},"score":0,"creation_date":1514315067,"post_id":8849379,"comment_id":82933876,"body_markdown":"So, it can be used to connect, say, microservices?","body":"So, it can be used to connect, say, microservices?"},{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":1,"creation_date":1514362380,"post_id":8849379,"comment_id":82945759,"body_markdown":"Yes absolutely it can be used for connecting microservices, its after all just a little Java toolkit/framework. The Camel in Action 2nd edition book has a full chapter on Camel microservices.","body":"Yes absolutely it can be used for connecting microservices, its after all just a little Java toolkit/framework. The Camel in Action 2nd edition book has a full chapter on Camel microservices."},{"owner":{"account_id":2285005,"reputation":469,"user_id":2009203,"display_name":"Jose Quinteiro"},"score":1,"creation_date":1527227496,"post_id":8849379,"comment_id":88056673,"body_markdown":"What are &quot;Enterprise Integration Patterns (EIPs)&quot; you ask? All you have to do to find out is [&quot;Buy the book Enterprise Integration Patterns...&quot;](http://www.enterpriseintegrationpatterns.com/)","body":"What are &quot;Enterprise Integration Patterns (EIPs)&quot; you ask? All you have to do to find out is <a href=\"http://www.enterpriseintegrationpatterns.com/\" rel=\"nofollow noreferrer\">&quot;Buy the book Enterprise Integration Patterns...&quot;</a>"},{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":1,"creation_date":1618930367,"post_id":8849379,"comment_id":118749036,"body_markdown":"So Camel is a bottle of glue whose main ingredient is DSL based of EIPs.","body":"So Camel is a bottle of glue whose main ingredient is DSL based of EIPs."},{"owner":{"account_id":139855,"reputation":14111,"user_id":345716,"accept_rate":60,"display_name":"Peter V. M&#248;rch"},"score":4,"creation_date":1622132431,"post_id":8849379,"comment_id":119709658,"body_markdown":"The images in the &quot;Integration with Apache Camel&quot; article no longer work. Here is a link to an archived version where the images work: https://web.archive.org/web/20171029104103/https://dzone.com/articles/open-source-integration-apache","body":"The images in the &quot;Integration with Apache Camel&quot; article no longer work. Here is a link to an archived version where the images work: <a href=\"https://web.archive.org/web/20171029104103/https://dzone.com/articles/open-source-integration-apache\" rel=\"nofollow noreferrer\">web.archive.org/web/20171029104103/https://dzone.com/article&zwnj;&#8203;s/&hellip;</a>"},{"owner":{"account_id":62157,"reputation":639,"user_id":5396273,"display_name":"Martin"},"score":0,"creation_date":1652698843,"post_id":8849379,"comment_id":127660869,"body_markdown":"This is confusing to me. Design patterns, as I understood the literature, are meant for reasoning and guiding software design in an abstract way focusing on problem-context-solution triplets. But&#39;s a catalogue of components for EIPs?","body":"This is confusing to me. Design patterns, as I understood the literature, are meant for reasoning and guiding software design in an abstract way focusing on problem-context-solution triplets. But&#39;s a catalogue of components for EIPs?"}],"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"comment_count":9,"down_vote_count":19,"up_vote_count":807,"is_accepted":false,"score":788,"last_activity_date":1601895081,"creation_date":1326451786,"answer_id":8849379,"question_id":8845186,"body_markdown":"If you have 5 to 10 minutes, I generally recommend people to read this [Integration with Apache Camel][1] by Jonathan Anstey. It&#39;s a well written piece which gives a brief introduction to and overview of some of Camel&#39;s concepts, and it implements a use case with code samples. In it, Jonathan writes:\r\n\r\n&gt; Apache Camel is an open source Java framework that focuses on making integration easier and more accessible to developers. It does this by providing:\r\n&gt; \r\n&gt;  - concrete implementations of all the widely used [Enterprise Integration Patterns][2] (EIPs)\r\n&gt;  - connectivity to a great variety of transports and APIs\r\n&gt;  - easy to use Domain Specific Languages (DSLs) to wire EIPs and transports together\r\n\r\nThere is also a free chapter of [Camel in Action][3] (Camel in Action, 2nd ed. is [here][4]) which introduces Camel in the first chapter. Jonathan is a co-author on that book with me.\r\n\r\n\r\n  [1]: http://dzone.com/articles/open-source-integration-apache\r\n  [2]: http://www.enterpriseintegrationpatterns.com/\r\n  [3]: http://manning.com/ibsen/\r\n  [4]: https://www.manning.com/books/camel-in-action-second-edition","title":"What exactly is Apache Camel?","body":"<p>If you have 5 to 10 minutes, I generally recommend people to read this <a href=\"http://dzone.com/articles/open-source-integration-apache\" rel=\"noreferrer\">Integration with Apache Camel</a> by Jonathan Anstey. It's a well written piece which gives a brief introduction to and overview of some of Camel's concepts, and it implements a use case with code samples. In it, Jonathan writes:</p>\n<blockquote>\n<p>Apache Camel is an open source Java framework that focuses on making integration easier and more accessible to developers. It does this by providing:</p>\n<ul>\n<li>concrete implementations of all the widely used <a href=\"http://www.enterpriseintegrationpatterns.com/\" rel=\"noreferrer\">Enterprise Integration Patterns</a> (EIPs)</li>\n<li>connectivity to a great variety of transports and APIs</li>\n<li>easy to use Domain Specific Languages (DSLs) to wire EIPs and transports together</li>\n</ul>\n</blockquote>\n<p>There is also a free chapter of <a href=\"http://manning.com/ibsen/\" rel=\"noreferrer\">Camel in Action</a> (Camel in Action, 2nd ed. is <a href=\"https://www.manning.com/books/camel-in-action-second-edition\" rel=\"noreferrer\">here</a>) which introduces Camel in the first chapter. Jonathan is a co-author on that book with me.</p>\n"},{"comments":[{"owner":{"account_id":1256348,"reputation":3735,"user_id":1215723,"accept_rate":50,"display_name":"youri"},"score":353,"creation_date":1386921835,"post_id":10836773,"comment_id":30752706,"body_markdown":"Apache Camel homepage refers to this thread... They didn&#39;t manage to provide a short functional explanation of their own product.","body":"Apache Camel homepage refers to this thread... They didn&#39;t manage to provide a short functional explanation of their own product."},{"owner":{"account_id":386394,"reputation":9197,"user_id":744133,"accept_rate":57,"display_name":"YoYo"},"score":17,"creation_date":1395605261,"post_id":10836773,"comment_id":34402763,"body_markdown":"This article is a prime example how constructive criticism, and honest effort can create sublime documentation. It is a featured on the official Camel website. But let&#39;s keep it constructive, and avoid name tagging. Documentation writers and other contributors are sometimes hard to come by with, and they deserve our respect. BTW - we have many java coding standards ... and stick with it with pride and honor ... how about a documenting standard for media like Wiki&#39;s and official Guides?","body":"This article is a prime example how constructive criticism, and honest effort can create sublime documentation. It is a featured on the official Camel website. But let&#39;s keep it constructive, and avoid name tagging. Documentation writers and other contributors are sometimes hard to come by with, and they deserve our respect. BTW - we have many java coding standards ... and stick with it with pride and honor ... how about a documenting standard for media like Wiki&#39;s and official Guides?"},{"owner":{"account_id":893782,"reputation":301,"user_id":931536,"display_name":"Asad Hasan"},"score":1,"creation_date":1399946116,"post_id":10836773,"comment_id":36267472,"body_markdown":"Is it like a fine grain reverse proxy?","body":"Is it like a fine grain reverse proxy?"},{"owner":{"account_id":226884,"reputation":767,"user_id":488185,"accept_rate":74,"display_name":"jvhang"},"score":1,"creation_date":1405692725,"post_id":10836773,"comment_id":38543697,"body_markdown":"I found this answer via the Camel homepage link. It stupefies me that that they don&#39;t quote it directly on their page or even link to the answer in specific.","body":"I found this answer via the Camel homepage link. It stupefies me that that they don&#39;t quote it directly on their page or even link to the answer in specific."},{"owner":{"account_id":401994,"reputation":1812,"user_id":768894,"accept_rate":59,"display_name":"EMM"},"score":15,"creation_date":1420277971,"post_id":10836773,"comment_id":43917740,"body_markdown":"Now, this is what I call crisp and to the point answer. Strangely, the accepted answer looks like an advertisement. +1","body":"Now, this is what I call crisp and to the point answer. Strangely, the accepted answer looks like an advertisement. +1"},{"owner":{"account_id":107907,"reputation":40512,"user_id":286685,"accept_rate":56,"display_name":"Stijn de Witt"},"score":0,"creation_date":1506583807,"post_id":10836773,"comment_id":79881419,"body_markdown":"*Documentation writers and other contributors are sometimes hard to come by* When will developers learn that writing docs is part of development and not some side activity that &#39;other people&#39; should do?? Besides, we are talking about the project description that goes on the homepage here! This attitude that many Apache projects exhibit is the reason I mostly avoid Apache projects these days. If they can&#39;t be bothered to provide a simple description of their own project on their own project homepage what does that tell me?","body":"<i>Documentation writers and other contributors are sometimes hard to come by</i> When will developers learn that writing docs is part of development and not some side activity that &#39;other people&#39; should do?? Besides, we are talking about the project description that goes on the homepage here! This attitude that many Apache projects exhibit is the reason I mostly avoid Apache projects these days. If they can&#39;t be bothered to provide a simple description of their own project on their own project homepage what does that tell me?"},{"owner":{"account_id":107907,"reputation":40512,"user_id":286685,"accept_rate":56,"display_name":"Stijn de Witt"},"score":5,"creation_date":1506583974,"post_id":10836773,"comment_id":79881510,"body_markdown":"It&#39;s 2017 now and in 3 years time all they did was add an acknowledgement that their own description is buzzword soup and add a link to this thread. They didn&#39;t even take the time to add a summary of this thread (or even just copy-paste some stuff) to the page itself. All we get is a link to SO. Come on, at some point you gotta stop defending such attitude.","body":"It&#39;s 2017 now and in 3 years time all they did was add an acknowledgement that their own description is buzzword soup and add a link to this thread. They didn&#39;t even take the time to add a summary of this thread (or even just copy-paste some stuff) to the page itself. All we get is a link to SO. Come on, at some point you gotta stop defending such attitude."}],"tags":[],"owner":{"account_id":21425,"reputation":10691,"user_id":52070,"accept_rate":67,"display_name":"David Newcomb"},"comment_count":7,"down_vote_count":13,"up_vote_count":692,"is_accepted":false,"score":679,"last_activity_date":1420585017,"creation_date":1338478630,"answer_id":10836773,"question_id":8845186,"body_markdown":"Creating a [project description][1] should not be complicated.\r\n\r\nI say:\r\n&gt;Apache Camel is messaging technology glue with routing. It joins together messaging start and end points allowing the transference of messages from different sources to different destinations. For example: JMS -&gt; JSON, HTTP -&gt; JMS or funneling FTP -&gt; JMS, HTTP -&gt; JMS, JSON -&gt; JMS\r\n\r\nWikipedia says:\r\n&gt;Apache Camel is a rule-based routing and mediation engine which provides a Java object based implementation of the Enterprise Integration Patterns using an API (or declarative Java Domain Specific Language) to configure routing and mediation rules. The domain specific language means that Apache Camel can support type-safe smart completion of routing rules in your IDE using regular Java code without huge amounts of XML configuration files; though XML configuration inside Spring is also supported.\r\n\r\nSee? That wasn&#39;t hard was it?\r\n\r\n\r\n  [1]: http://www.bigsoft.co.uk/blog/index.php/2010/10/18/the-whats-and-whys-to-creating-project-descriptions","title":"What exactly is Apache Camel?","body":"<p>Creating a <a href=\"http://www.bigsoft.co.uk/blog/index.php/2010/10/18/the-whats-and-whys-to-creating-project-descriptions\">project description</a> should not be complicated.</p>\n\n<p>I say:</p>\n\n<blockquote>\n  <p>Apache Camel is messaging technology glue with routing. It joins together messaging start and end points allowing the transference of messages from different sources to different destinations. For example: JMS -> JSON, HTTP -> JMS or funneling FTP -> JMS, HTTP -> JMS, JSON -> JMS</p>\n</blockquote>\n\n<p>Wikipedia says:</p>\n\n<blockquote>\n  <p>Apache Camel is a rule-based routing and mediation engine which provides a Java object based implementation of the Enterprise Integration Patterns using an API (or declarative Java Domain Specific Language) to configure routing and mediation rules. The domain specific language means that Apache Camel can support type-safe smart completion of routing rules in your IDE using regular Java code without huge amounts of XML configuration files; though XML configuration inside Spring is also supported.</p>\n</blockquote>\n\n<p>See? That wasn't hard was it?</p>\n"},{"comments":[{"owner":{"account_id":4421859,"reputation":1800,"user_id":3601540,"display_name":"hutingung"},"score":27,"creation_date":1405509005,"post_id":11540451,"comment_id":38453047,"body_markdown":"EIP is the key. If you don&#39;t understand EIP, you might use Camel like blind men and elephant(camel). EIP - http://www.eaipatterns.com/","body":"EIP is the key. If you don&#39;t understand EIP, you might use Camel like blind men and elephant(camel). EIP - <a href=\"http://www.eaipatterns.com/\" rel=\"nofollow noreferrer\">eaipatterns.com</a>"},{"owner":{"account_id":6701025,"reputation":698,"user_id":5167492,"accept_rate":81,"display_name":"Quan Nguyen"},"score":3,"creation_date":1471329337,"post_id":11540451,"comment_id":65290167,"body_markdown":"A little bit EIP problems: &quot;There have been many libraries and frameworks over the years to help with inte- gration. But frequently the concepts behind the Enterprise Integration Patterns get transformed into some complex class hierarchies or objects that need to be wired together just so, and the original intentions and patterns are often lost. The developer is forced from then on to focus on the low-level detail and some complex class library API, losing the bigger picture and patterns.&quot;","body":"A little bit EIP problems: &quot;There have been many libraries and frameworks over the years to help with inte- gration. But frequently the concepts behind the Enterprise Integration Patterns get transformed into some complex class hierarchies or objects that need to be wired together just so, and the original intentions and patterns are often lost. The developer is forced from then on to focus on the low-level detail and some complex class library API, losing the bigger picture and patterns.&quot;"}],"tags":[],"owner":{"account_id":18840,"reputation":23337,"user_id":43597,"display_name":"Amr Mostafa"},"comment_count":2,"down_vote_count":3,"up_vote_count":1375,"is_accepted":true,"score":1372,"last_activity_date":1685606505,"creation_date":1342611480,"answer_id":11540451,"question_id":8845186,"body_markdown":"My take to describe this in a more accessible way...\r\n\r\nIn order to understand what Apache Camel is, you need to understand what are [Enterprise Integration Patterns](https://en.wikipedia.org/wiki/Enterprise_Integration_Patterns).\r\n\r\n\r\nLet&#39;s start with what we presumably already know: The [Singleton pattern](https://en.wikipedia.org/wiki/Singleton_pattern), the Factory pattern, etc; They are merely ways of organizing your solution to the problem, but they are not solutions themselves. These patterns were analyzed and extracted for the rest of us by the Gang of Four, when they published their book: [Design Patterns][1]. They saved some of us tremendous effort in thinking of how to best structure our code.\r\n\r\nMuch like the Gang of Four, Gregor Hohpe and Bobby Woolf authored the book [*Enterprise Integration Patterns*][2] (EIP) in which they propose and document a set of new patterns and *blueprints* for how we could *best* design large component-based systems, where components can be running on the same process or in a different machine.\r\n\r\nThey basically propose that we structure our system to be *message* oriented -- where components communicate with each others using messages as inputs and outputs and absolutely nothing else. They show us a complete set of patterns that we may choose from and implement in our different components that will together form the whole system.\r\n\r\n**So what is Apache Camel?**\r\n\r\nApache Camel offers you the interfaces for the EIPs, the base objects, commonly needed implementations, debugging tools, a configuration system, and many other helpers which will save you a ton of time when you want to implement your solution to follow the EIPs.\r\n\r\nTake [MVC](https://en.wikipedia.org/wiki/Modelâviewâcontroller). MVC is pretty simple in theory and we could implement it without any framework help. But good MVC frameworks provide us with the structure ready-to-use and have gone the extra mile and thought out all the other &quot;side&quot; things you need when you create a large MVC project and that&#39;s why we use them most of the time.\r\n\r\nThat&#39;s exactly what Apache Camel is for EIPs. **It&#39;s a complete production-ready framework for people who want to implement their solution to follow the EIPs.**\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Design_Patterns &quot;Design Patterns&quot;\r\n  [2]: https://www.enterpriseintegrationpatterns.com/ &quot;Enterprise Integration Patterns book website&quot;","title":"What exactly is Apache Camel?","body":"<p>My take to describe this in a more accessible way...</p>\n<p>In order to understand what Apache Camel is, you need to understand what are <a href=\"https://en.wikipedia.org/wiki/Enterprise_Integration_Patterns\" rel=\"noreferrer\">Enterprise Integration Patterns</a>.</p>\n<p>Let's start with what we presumably already know: The <a href=\"https://en.wikipedia.org/wiki/Singleton_pattern\" rel=\"noreferrer\">Singleton pattern</a>, the Factory pattern, etc; They are merely ways of organizing your solution to the problem, but they are not solutions themselves. These patterns were analyzed and extracted for the rest of us by the Gang of Four, when they published their book: <a href=\"https://en.wikipedia.org/wiki/Design_Patterns\" rel=\"noreferrer\" title=\"Design Patterns\">Design Patterns</a>. They saved some of us tremendous effort in thinking of how to best structure our code.</p>\n<p>Much like the Gang of Four, Gregor Hohpe and Bobby Woolf authored the book <a href=\"https://www.enterpriseintegrationpatterns.com/\" rel=\"noreferrer\" title=\"Enterprise Integration Patterns book website\"><em>Enterprise Integration Patterns</em></a> (EIP) in which they propose and document a set of new patterns and <em>blueprints</em> for how we could <em>best</em> design large component-based systems, where components can be running on the same process or in a different machine.</p>\n<p>They basically propose that we structure our system to be <em>message</em> oriented -- where components communicate with each others using messages as inputs and outputs and absolutely nothing else. They show us a complete set of patterns that we may choose from and implement in our different components that will together form the whole system.</p>\n<p><strong>So what is Apache Camel?</strong></p>\n<p>Apache Camel offers you the interfaces for the EIPs, the base objects, commonly needed implementations, debugging tools, a configuration system, and many other helpers which will save you a ton of time when you want to implement your solution to follow the EIPs.</p>\n<p>Take <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"noreferrer\">MVC</a>. MVC is pretty simple in theory and we could implement it without any framework help. But good MVC frameworks provide us with the structure ready-to-use and have gone the extra mile and thought out all the other &quot;side&quot; things you need when you create a large MVC project and that's why we use them most of the time.</p>\n<p>That's exactly what Apache Camel is for EIPs. <strong>It's a complete production-ready framework for people who want to implement their solution to follow the EIPs.</strong></p>\n"},{"tags":[],"owner":{"account_id":257390,"reputation":5260,"user_id":538775,"accept_rate":15,"display_name":"Kai W&#228;hner"},"comment_count":0,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1363453723,"creation_date":1363453723,"answer_id":15452135,"question_id":8845186,"body_markdown":"A definition from another perspective: \r\n\r\nApache Camel is an integration framework. It consists of some Java libraries, which helps you implementing integration problems on the Java platform. What this means and how it differs from APIs on the one side and an Enterprise Service Bus (ESB) on the other side is described in my article &quot;[When to use Apache Camel][1]&quot;. \r\n\r\n\r\n  [1]: http://www.kai-waehner.de/blog/2011/06/02/when-to-use-apache-camel/","title":"What exactly is Apache Camel?","body":"<p>A definition from another perspective: </p>\n\n<p>Apache Camel is an integration framework. It consists of some Java libraries, which helps you implementing integration problems on the Java platform. What this means and how it differs from APIs on the one side and an Enterprise Service Bus (ESB) on the other side is described in my article \"<a href=\"http://www.kai-waehner.de/blog/2011/06/02/when-to-use-apache-camel/\">When to use Apache Camel</a>\". </p>\n"},{"comments":[{"owner":{"account_id":2985035,"reputation":8984,"user_id":2534090,"accept_rate":34,"display_name":"JavaTechnical"},"score":0,"creation_date":1421684566,"post_id":16927203,"comment_id":44443148,"body_markdown":"That means other developers can change the logic in another programming language too?","body":"That means other developers can change the logic in another programming language too?"},{"owner":{"account_id":1378200,"reputation":18739,"user_id":1311745,"accept_rate":67,"display_name":"Dheeraj Bhaskar"},"score":2,"creation_date":1430133948,"post_id":16927203,"comment_id":47911662,"body_markdown":"@JavaTechnical given the messaging pattern (EIP), you already can code different components in different languages because these messages are in language independent formats like JSON. Camel provides an easy framework to implement EIP. This is based on my understanding. Please correct me if I&#39;m mistaken.","body":"@JavaTechnical given the messaging pattern (EIP), you already can code different components in different languages because these messages are in language independent formats like JSON. Camel provides an easy framework to implement EIP. This is based on my understanding. Please correct me if I&#39;m mistaken."}],"tags":[],"owner":{"account_id":349924,"reputation":4745,"user_id":685495,"accept_rate":71,"display_name":"Marcin Wasiluk"},"comment_count":2,"down_vote_count":0,"up_vote_count":122,"is_accepted":false,"score":122,"last_activity_date":1400248449,"creation_date":1370378908,"answer_id":16927203,"question_id":8845186,"body_markdown":"In short: \r\n\r\nWhen there is a requirement to connect / integrate systems, you will probably need to connect to some data source and then process this data to match your business requirements.\r\n\r\nIn order to do that:\r\n\r\n1) You could develop custom program that would do it (might be time consuming and hard to understand, maintain for other developer) \r\n\r\n2) Alternatively, you could use Apache Camel to do it in standardised way (it has most of the connectors already developed for you, you just need to set it up and plug your logic - called Process):\r\n\r\n\r\nCamel will help you to:\r\n\r\n 1. Consume data from any source/format\r\n 2. Process this data\r\n 3. Output data to any source/format\r\n\r\nBy using Apache Camel you will make it easy to understand / maintain / extend your system to another developer.\r\n\r\nApache Camel is developed with Enterprise Integration Patterns. The patterns help you to integrate systems in a good way :-)","title":"What exactly is Apache Camel?","body":"<p>In short: </p>\n\n<p>When there is a requirement to connect / integrate systems, you will probably need to connect to some data source and then process this data to match your business requirements.</p>\n\n<p>In order to do that:</p>\n\n<p>1) You could develop custom program that would do it (might be time consuming and hard to understand, maintain for other developer) </p>\n\n<p>2) Alternatively, you could use Apache Camel to do it in standardised way (it has most of the connectors already developed for you, you just need to set it up and plug your logic - called Process):</p>\n\n<p>Camel will help you to:</p>\n\n<ol>\n<li>Consume data from any source/format</li>\n<li>Process this data</li>\n<li>Output data to any source/format</li>\n</ol>\n\n<p>By using Apache Camel you will make it easy to understand / maintain / extend your system to another developer.</p>\n\n<p>Apache Camel is developed with Enterprise Integration Patterns. The patterns help you to integrate systems in a good way :-)</p>\n"},{"tags":[],"owner":{"account_id":1479414,"reputation":4052,"user_id":1389118,"display_name":"skipy"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1385585909,"creation_date":1384170679,"answer_id":19905650,"question_id":8845186,"body_markdown":"Here is another attempt at it.\r\n\r\n\r\nYou know how there are/were things like Webmethods, ICAN Seebeyond, Tibco BW, IBM Broker. They all did help with integration solutions in the enterprise. These tools are commonly known by the name Enterprise Application Integration (EAI) tools.\r\n\r\nThere were mostly drag drop tools built around these technologies and in parts you would have to write adapters in Java. These adapter code were either untested or had poor tooling/automation around testing.\r\n\r\nJust like with design patterns in programming, you have Enterprise Integration patterns for common integration solutions. They were made famous by a book of the same name by Gregor Hohpe and Bobby Woolf.\r\n\r\nAlthough it is quite possible to implement integration solutions which use one or many EIP, Camel is an attempt at doing this within your code base using one of XML, Java, Groovy or Scala.\r\n\r\nCamel supports all Enterprise Integration Patterns listed in the book via its rich DSL and routing mechanism.\r\n\r\nSo Camel is a competing technoloy to other EAI tools with better support for testing your integration code. The code is concise because of the Domain Specific Languages (DSLs). It is readable by even business users and it is free and makes you productive.\r\n\r\n","title":"What exactly is Apache Camel?","body":"<p>Here is another attempt at it.</p>\n\n<p>You know how there are/were things like Webmethods, ICAN Seebeyond, Tibco BW, IBM Broker. They all did help with integration solutions in the enterprise. These tools are commonly known by the name Enterprise Application Integration (EAI) tools.</p>\n\n<p>There were mostly drag drop tools built around these technologies and in parts you would have to write adapters in Java. These adapter code were either untested or had poor tooling/automation around testing.</p>\n\n<p>Just like with design patterns in programming, you have Enterprise Integration patterns for common integration solutions. They were made famous by a book of the same name by Gregor Hohpe and Bobby Woolf.</p>\n\n<p>Although it is quite possible to implement integration solutions which use one or many EIP, Camel is an attempt at doing this within your code base using one of XML, Java, Groovy or Scala.</p>\n\n<p>Camel supports all Enterprise Integration Patterns listed in the book via its rich DSL and routing mechanism.</p>\n\n<p>So Camel is a competing technoloy to other EAI tools with better support for testing your integration code. The code is concise because of the Domain Specific Languages (DSLs). It is readable by even business users and it is free and makes you productive.</p>\n"},{"tags":[],"owner":{"account_id":1527161,"reputation":801,"user_id":1425280,"accept_rate":56,"display_name":"Naveen Raj"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1407725459,"creation_date":1401353523,"answer_id":23929350,"question_id":8845186,"body_markdown":"\r\n\r\nThere are lot of frameworks that facilitates us for messaging and solving problems in messaging. One such product is Apache Camel.\r\n\r\nMost of the common problems have proven solutions called as design patterns. The design pattern for messaging is Enterprise Integration patterns(EIPs) which are well explained [here][1]. Apache camel help us to implement our solution using the EIPs.\r\n\r\n The strength of an integration framework is its ability to facilitate us through EIPs or other patterns,number of transports and components and ease of development on which Apache camel stands on the top of the list \r\n\r\nEach of the Frameworks has its own advantages  Some of the special features of Apache camel are the following.\r\n\r\n1. It provides the coding to be in many DSLs namely Java DSL and Spring xml based DSL , which are popular.\r\n2. Easy use and simple to use. \r\n3. Fuse IDE is a product that helps you to code through UI\r\n\r\n\r\n  [1]: http://www.eaipatterns.com/toc.html","title":"What exactly is Apache Camel?","body":"<p>There are lot of frameworks that facilitates us for messaging and solving problems in messaging. One such product is Apache Camel.</p>\n\n<p>Most of the common problems have proven solutions called as design patterns. The design pattern for messaging is Enterprise Integration patterns(EIPs) which are well explained <a href=\"http://www.eaipatterns.com/toc.html\" rel=\"noreferrer\">here</a>. Apache camel help us to implement our solution using the EIPs.</p>\n\n<p>The strength of an integration framework is its ability to facilitate us through EIPs or other patterns,number of transports and components and ease of development on which Apache camel stands on the top of the list </p>\n\n<p>Each of the Frameworks has its own advantages  Some of the special features of Apache camel are the following.</p>\n\n<ol>\n<li>It provides the coding to be in many DSLs namely Java DSL and Spring xml based DSL , which are popular.</li>\n<li>Easy use and simple to use. </li>\n<li>Fuse IDE is a product that helps you to code through UI</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2060460,"reputation":981,"user_id":1837134,"accept_rate":65,"display_name":"sa_nyc"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1408545252,"creation_date":1408545252,"answer_id":25407488,"question_id":8845186,"body_markdown":"Camel helps in routing, transformation, monitoring. \r\n\r\nIt uses Routes; which can be described as :\r\n\r\n*When service bus receives particular message, it will route it through no of services/broker destinations such as queue/topics. This path is known as route.*\r\n\r\nExample:\r\n*your stock application has got some input by analyst, it will be processed through the application/web component and then result will be published to all the interested/registered members for particular stock update.*","title":"What exactly is Apache Camel?","body":"<p>Camel helps in routing, transformation, monitoring. </p>\n\n<p>It uses Routes; which can be described as :</p>\n\n<p><em>When service bus receives particular message, it will route it through no of services/broker destinations such as queue/topics. This path is known as route.</em></p>\n\n<p>Example:\n<em>your stock application has got some input by analyst, it will be processed through the application/web component and then result will be published to all the interested/registered members for particular stock update.</em></p>\n"},{"comments":[{"owner":{"account_id":3076776,"reputation":1444,"user_id":2605902,"accept_rate":62,"display_name":"Stimpson Cat"},"score":0,"creation_date":1539777077,"post_id":29605854,"comment_id":92623508,"body_markdown":"Great explanation nice to read and easy to remember. I wonder what role has a runway or pilot, if they even exist in camel.","body":"Great explanation nice to read and easy to remember. I wonder what role has a runway or pilot, if they even exist in camel."},{"owner":{"account_id":9878667,"reputation":133,"user_id":7315455,"display_name":"Ankur Nirmalkar"},"score":0,"creation_date":1561623817,"post_id":29605854,"comment_id":100127834,"body_markdown":"Nice explanation specially Airport example keep it up. if you added few more extended terms and little bit piece of code example would be really great !! Thanks","body":"Nice explanation specially Airport example keep it up. if you added few more extended terms and little bit piece of code example would be really great !! Thanks"}],"tags":[],"owner":{"account_id":4155445,"reputation":2712,"user_id":3406884,"accept_rate":75,"display_name":"DolphinJava"},"comment_count":2,"down_vote_count":0,"up_vote_count":62,"is_accepted":false,"score":62,"last_activity_date":1428929661,"creation_date":1428929661,"answer_id":29605854,"question_id":8845186,"body_markdown":"BASED ON ANALOGY\r\n\r\nCamel based routing can be understood much easily by putting yourself in the shoes of a Airline owner (eg.: American Airlines, Jet Airways) .\r\n\r\n\r\nPurpose of &#39;your airline&#39; is to &#39;carry&#39; &#39;passengers&#39; from one &#39;city&#39; to another one in the world. You use aircrafts from different &#39;aircraft companies&#39; like Boeing, Airbus, HAL for carrying passengers.\r\n\r\n \r\n\r\nYour airline&#39;s boards passengers using &#39;airports&#39; of the from city and deboards them using the airport of the to city. A passenger may &#39;travel&#39; to multiple cities, but everywhere they have to go through the airport to travel between your airline&#39;s aircraft and the city.\r\n\r\n \r\n\r\nNote that a passenger &#39;departing&#39; from the city is essentially &#39;arriving&#39; into your airlines&#39; aircraft. And a passeger  &#39;arriving&#39; into the city, is essentially departing from the aircraft. Since we are in the shoes of airline owner, the term &#39;arrival passenger&#39; and &#39;departing passenger&#39; are reversed from our conventional notions which are based on cities perspective.\r\n\r\n \r\n\r\nSame &#39;airport&#39; infrastructure of each city is used by &#39;departing&#39; passengers and &#39;arrival&#39; passengers. An airport provides &#39;departing infrastructure&#39; for departing passengers, which is different from the &#39;arrival infrastructure&#39; provided for arriving passengers.\r\n\r\n \r\n\r\nPassengers can continue doing their day to their activities due to various &#39;amenities&#39; provided inside the aircraft by your airlines, while travelling.\r\n\r\n \r\n\r\nOn top of that, your airline also provides lounge facilities for special treatments like &#39;understanding local language&#39; and or preparing you for the &#39;travel&#39;.\r\n\r\n \r\n\r\n**Lets replace few words/phrases used above with following:**\r\n\r\nyour airline: Apache Camel\r\n\r\naircraft companies: Transport mechanisms\r\n\r\nyour airline&#39;s aircraft: Apache Camel&#39;s underlying transport mechanism\r\n\r\ncarry: route\r\n\r\npassengers: message;\r\n\r\ncity: system;\r\n\r\nairport: Camel Component;\r\n\r\nunderstanding local languages: Type Conversions;\r\n\r\ndeparting: producing, produced\r\n\r\narriving: consuming, consumed\r\n\r\ntravel: routed\r\n\r\namenities: provided\r\n\r\n \r\n\r\nAfter replacing the words, here is what you get:\r\n\r\n\r\n**Purpose of &#39;Apache Camel&#39;** is to route &#39;messages&#39; from one &#39;system&#39; to another one in the world. Apache camel uses different transport mechanisms for message routing.\r\n\r\n \r\n\r\nApache Camel picks up messages using &#39;Camel based Component&#39; of the &#39;from&#39; system and drops them using the &#39;Camel based Component&#39; of the &#39;to&#39; system. A message may route to multiple systems, but everywhere they have to go through &#39;Camel based Components&#39; to travel between &#39;Apache Camel&#39;s underlying transport mechanism&#39; and the system.\r\n\r\n \r\n\r\nNote that a message &#39;produced&#39; from the system is essentially &#39;consumed&#39; into Apache Camel&#39;s underlying transport mechanism&#39;. And a message consumed by a system, is essentially produced by the &#39;Apache Camel&#39;s underlying transport mechanism&#39;.\r\n\r\n\r\nSince we are attempting to understand Camel, we must think from Camel&#39;s perspective here onwards. The meaning of the terms &#39;consumer message&#39; and &#39;producer message&#39; are ,thus, reversed from our conventional notions which are based on a system&#39;s perspective.\r\n\r\n \r\n\r\nSame &#39;Camel based Component&#39;s &#39; coding infrastructure is used by &#39;producer message&#39; and &#39;consumer message&#39;. A &#39;Camel based Component&#39; provides a &#39;producer endpoint&#39; for &#39;producer message&#39; and a &#39;consumer endpoint&#39; for &#39;consumer message&#39;.\r\n\r\n \r\n\r\nMessages can be processed by Camel when they are being routed.\r\n\r\n \r\n\r\nOn top of this routing, Camel provides special features like &#39;Type Conversion&#39; and many more...","title":"What exactly is Apache Camel?","body":"<p>BASED ON ANALOGY</p>\n\n<p>Camel based routing can be understood much easily by putting yourself in the shoes of a Airline owner (eg.: American Airlines, Jet Airways) .</p>\n\n<p>Purpose of 'your airline' is to 'carry' 'passengers' from one 'city' to another one in the world. You use aircrafts from different 'aircraft companies' like Boeing, Airbus, HAL for carrying passengers.</p>\n\n<p>Your airline's boards passengers using 'airports' of the from city and deboards them using the airport of the to city. A passenger may 'travel' to multiple cities, but everywhere they have to go through the airport to travel between your airline's aircraft and the city.</p>\n\n<p>Note that a passenger 'departing' from the city is essentially 'arriving' into your airlines' aircraft. And a passeger  'arriving' into the city, is essentially departing from the aircraft. Since we are in the shoes of airline owner, the term 'arrival passenger' and 'departing passenger' are reversed from our conventional notions which are based on cities perspective.</p>\n\n<p>Same 'airport' infrastructure of each city is used by 'departing' passengers and 'arrival' passengers. An airport provides 'departing infrastructure' for departing passengers, which is different from the 'arrival infrastructure' provided for arriving passengers.</p>\n\n<p>Passengers can continue doing their day to their activities due to various 'amenities' provided inside the aircraft by your airlines, while travelling.</p>\n\n<p>On top of that, your airline also provides lounge facilities for special treatments like 'understanding local language' and or preparing you for the 'travel'.</p>\n\n<p><strong>Lets replace few words/phrases used above with following:</strong></p>\n\n<p>your airline: Apache Camel</p>\n\n<p>aircraft companies: Transport mechanisms</p>\n\n<p>your airline's aircraft: Apache Camel's underlying transport mechanism</p>\n\n<p>carry: route</p>\n\n<p>passengers: message;</p>\n\n<p>city: system;</p>\n\n<p>airport: Camel Component;</p>\n\n<p>understanding local languages: Type Conversions;</p>\n\n<p>departing: producing, produced</p>\n\n<p>arriving: consuming, consumed</p>\n\n<p>travel: routed</p>\n\n<p>amenities: provided</p>\n\n<p>After replacing the words, here is what you get:</p>\n\n<p><strong>Purpose of 'Apache Camel'</strong> is to route 'messages' from one 'system' to another one in the world. Apache camel uses different transport mechanisms for message routing.</p>\n\n<p>Apache Camel picks up messages using 'Camel based Component' of the 'from' system and drops them using the 'Camel based Component' of the 'to' system. A message may route to multiple systems, but everywhere they have to go through 'Camel based Components' to travel between 'Apache Camel's underlying transport mechanism' and the system.</p>\n\n<p>Note that a message 'produced' from the system is essentially 'consumed' into Apache Camel's underlying transport mechanism'. And a message consumed by a system, is essentially produced by the 'Apache Camel's underlying transport mechanism'.</p>\n\n<p>Since we are attempting to understand Camel, we must think from Camel's perspective here onwards. The meaning of the terms 'consumer message' and 'producer message' are ,thus, reversed from our conventional notions which are based on a system's perspective.</p>\n\n<p>Same 'Camel based Component's ' coding infrastructure is used by 'producer message' and 'consumer message'. A 'Camel based Component' provides a 'producer endpoint' for 'producer message' and a 'consumer endpoint' for 'consumer message'.</p>\n\n<p>Messages can be processed by Camel when they are being routed.</p>\n\n<p>On top of this routing, Camel provides special features like 'Type Conversion' and many more...</p>\n"},{"comments":[{"owner":{"account_id":1561405,"reputation":3143,"user_id":1451197,"display_name":"Dave"},"score":4,"creation_date":1487062394,"post_id":32458754,"comment_id":71603326,"body_markdown":"&quot;Most &quot;new&quot; things in computing aren&#39;t really new at all, they&#39;re just a mystifying wrapper around something already well-understood.&quot;\n &lt;&lt;&lt;&lt; Best thing I&#39;ve read all week!","body":"&quot;Most &quot;new&quot; things in computing aren&#39;t really new at all, they&#39;re just a mystifying wrapper around something already well-understood.&quot;  &lt;&lt;&lt;&lt; Best thing I&#39;ve read all week!"}],"tags":[],"owner":{"account_id":924115,"reputation":349,"user_id":1403742,"accept_rate":50,"display_name":"MMacD"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1441717831,"creation_date":1441717831,"answer_id":32458754,"question_id":8845186,"body_markdown":"Most &quot;new&quot; things in computing aren&#39;t really new at all, they&#39;re just a mystifying wrapper around something that already well-understood.  When they&#39;re hard to understand, it&#39;s usually because someone decided to invent new language terms or colonise existing terms for a different purpose (a good example of *that* is the X developers&#39; reversal of what &quot;client&quot; and &quot;server&quot; mean.)\r\n\r\nCamel is a Java-based wrapper/API for inter-application middleware.  \r\n\r\nMiddleware is a general term for software that provides interpretation services between entities that don&#39;t share a common language or data types.\r\n\r\nThat&#39;s what Camel is, at bottom.  We can flesh out the description by noting that it provides for EIP-type middleware.\r\n\r\nIt doesn&#39;t provide the middleware itself, since it can&#39;t know the details of what the applications need to communicate.  But it provides the API for creating the invariant parts of that middleware (create a start point, create an end point, create conditions for starting and ending, etc)\r\n\r\nHope that helps.","title":"What exactly is Apache Camel?","body":"<p>Most \"new\" things in computing aren't really new at all, they're just a mystifying wrapper around something that already well-understood.  When they're hard to understand, it's usually because someone decided to invent new language terms or colonise existing terms for a different purpose (a good example of <em>that</em> is the X developers' reversal of what \"client\" and \"server\" mean.)</p>\n\n<p>Camel is a Java-based wrapper/API for inter-application middleware.  </p>\n\n<p>Middleware is a general term for software that provides interpretation services between entities that don't share a common language or data types.</p>\n\n<p>That's what Camel is, at bottom.  We can flesh out the description by noting that it provides for EIP-type middleware.</p>\n\n<p>It doesn't provide the middleware itself, since it can't know the details of what the applications need to communicate.  But it provides the API for creating the invariant parts of that middleware (create a start point, create an end point, create conditions for starting and ending, etc)</p>\n\n<p>Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":6918239,"reputation":3153,"user_id":5311694,"accept_rate":47,"display_name":"Souciance Eqdam Rashti"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1442900604,"creation_date":1442900604,"answer_id":32709196,"question_id":8845186,"body_markdown":"Yes, this is probably a bit late. But one thing to add to everyone else&#39;s comments is that, Camel is actually a toolbox rather than a complete set of features. You should bear this in mind when developing and need to do various transformations and protocol conversions. \r\n\r\nCamel itself relies on other frameworks and therefore sometimes you need to understand those as well in order to understand which is best suited for your needs. There are for example multiple ways to handle REST. This can get a bit confusing at first, but once you starting using and testing you will feel at ease and your knowledge of the different concepts will increase.","title":"What exactly is Apache Camel?","body":"<p>Yes, this is probably a bit late. But one thing to add to everyone else's comments is that, Camel is actually a toolbox rather than a complete set of features. You should bear this in mind when developing and need to do various transformations and protocol conversions. </p>\n\n<p>Camel itself relies on other frameworks and therefore sometimes you need to understand those as well in order to understand which is best suited for your needs. There are for example multiple ways to handle REST. This can get a bit confusing at first, but once you starting using and testing you will feel at ease and your knowledge of the different concepts will increase.</p>\n"},{"comments":[{"owner":{"account_id":1609777,"reputation":1063,"user_id":1489121,"display_name":"Krzysztof Tomaszewski"},"score":0,"creation_date":1578494122,"post_id":34154102,"comment_id":105457079,"body_markdown":"I wonder why do you use the word &quot;lightweight&quot;. My observation is that Apache Camel is actually heavy.","body":"I wonder why do you use the word &quot;lightweight&quot;. My observation is that Apache Camel is actually heavy."},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1607725170,"post_id":34154102,"comment_id":115372628,"body_markdown":"&quot;implements all Enterprise Integration patterns&quot; is not correct: [â_Because Camel implements many of the design patterns in the EIP book_â](https://camel.apache.org/manual/latest/book-getting-started.html#BookGettingStarted-TheCamelproject).","body":"&quot;implements all Enterprise Integration patterns&quot; is not correct: <a href=\"https://camel.apache.org/manual/latest/book-getting-started.html#BookGettingStarted-TheCamelproject\" rel=\"nofollow noreferrer\">â<i>Because Camel implements many of the design patterns in the EIP book</i>â</a>."},{"owner":{"account_id":1982977,"reputation":8704,"user_id":1779091,"accept_rate":70,"display_name":"variable"},"score":0,"creation_date":1657868607,"post_id":34154102,"comment_id":128916507,"body_markdown":"Can I create an http endpoint in Apache Camel for external users to be able to send a request to this endpoint? I am reading the HTTP component and it says producer - what does this mean?","body":"Can I create an http endpoint in Apache Camel for external users to be able to send a request to this endpoint? I am reading the HTTP component and it says producer - what does this mean?"}],"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":3,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1680446570,"creation_date":1449572319,"answer_id":34154102,"question_id":8845186,"body_markdown":"&gt; What exactly is it?\r\n\r\n*Apache Camel* is a lightweight integration framework which implements many Enterprise Integration patterns. You can easily integrate different applications.\r\n\r\n*You can integrated with many of the technologies like HTTP, FTP, JMS, EJB, JPA, RMI, JMS, JMX,  Netty etc.* \r\n\r\n&gt; How does it interact with an application written in Java?\r\n\r\nCamel uses a *Java Domain Specific Language or DSL* for creating Enterprise Integration Patterns or Routes in a variety of domain-specific languages (DSL) \r\n\r\nEnterprise Integration Pattern resolves around these concepts : \r\n\r\n*Message, End Point, Producer, Consumer, Routing, Bus, Transform and Process*.\r\n\r\n&gt; Is it something that goes together with the server?\r\n\r\nIt acts as a bridge across multiple enterprise sub systems.\r\n\r\n&gt; Is it an independent program?\r\n\r\nApache Camel, an integration framework, integrates different independent applications. \r\n\r\n*The major advantage of Camel* : You can integrate different applications with different technologies (and different protocols) by using same same concepts for every integration. \r\n\r\n ","title":"What exactly is Apache Camel?","body":"<blockquote>\n<p>What exactly is it?</p>\n</blockquote>\n<p><em>Apache Camel</em> is a lightweight integration framework which implements many Enterprise Integration patterns. You can easily integrate different applications.</p>\n<p><em>You can integrated with many of the technologies like HTTP, FTP, JMS, EJB, JPA, RMI, JMS, JMX,  Netty etc.</em></p>\n<blockquote>\n<p>How does it interact with an application written in Java?</p>\n</blockquote>\n<p>Camel uses a <em>Java Domain Specific Language or DSL</em> for creating Enterprise Integration Patterns or Routes in a variety of domain-specific languages (DSL)</p>\n<p>Enterprise Integration Pattern resolves around these concepts :</p>\n<p><em>Message, End Point, Producer, Consumer, Routing, Bus, Transform and Process</em>.</p>\n<blockquote>\n<p>Is it something that goes together with the server?</p>\n</blockquote>\n<p>It acts as a bridge across multiple enterprise sub systems.</p>\n<blockquote>\n<p>Is it an independent program?</p>\n</blockquote>\n<p>Apache Camel, an integration framework, integrates different independent applications.</p>\n<p><em>The major advantage of Camel</em> : You can integrate different applications with different technologies (and different protocols) by using same same concepts for every integration.</p>\n"},{"tags":[],"owner":{"account_id":4724623,"reputation":303,"user_id":3821653,"display_name":"KingJulien"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1505904844,"creation_date":1463175704,"answer_id":37219754,"question_id":8845186,"body_markdown":"In plain English, camel gets (many) things done without much of boiler plate code.\r\n\r\nJust to give you a perspective, the Java DSL given below will create a REST endpoint which will be able to accept an XML consisting of List of Products and splits it into multiple products and invoke Process method of BrandProcessor with it. \r\nAnd just by adding .parallelProcessing (note the commented out part) it will parallel process all the Product Objects. (Product class is JAXB/XJC generated Java stub from the XSD which the input xml is confined to.) This much code (along with few Camel dependencies) will get the job done which used to take 100s of lines of Java code.\r\n\r\n    from(&quot;servlet:item-delta?matchOnUriPrefix=true&amp;httpMethodRestrict=POST&quot;)\r\n    .split(stax(Product.class))\r\n    /*.parallelProcessing()*/\r\n    .process(itemDeltaProcessor);\r\n\r\nAfter adding the route ID and logging statement\r\n\r\n    from(&quot;servlet:item-delta?matchOnUriPrefix=true&amp;httpMethodRestrict=POST&quot;)\r\n    .routeId(&quot;Item-DeltaRESTRoute&quot;)\r\n    .log(LoggingLevel.INFO, &quot;Item Delta received on Item-DeltaRESTRoute&quot;)\r\n    .split(stax(Product.class))\r\n    .parallelProcessing()\r\n    .process(itemDeltaProcessor);\r\n\r\nThis is just a sample, Camel is much more than just REST end point. Just take a look the pluggable component list http://camel.apache.org/components.html","title":"What exactly is Apache Camel?","body":"<p>In plain English, camel gets (many) things done without much of boiler plate code.</p>\n\n<p>Just to give you a perspective, the Java DSL given below will create a REST endpoint which will be able to accept an XML consisting of List of Products and splits it into multiple products and invoke Process method of BrandProcessor with it. \nAnd just by adding .parallelProcessing (note the commented out part) it will parallel process all the Product Objects. (Product class is JAXB/XJC generated Java stub from the XSD which the input xml is confined to.) This much code (along with few Camel dependencies) will get the job done which used to take 100s of lines of Java code.</p>\n\n<pre><code>from(\"servlet:item-delta?matchOnUriPrefix=true&amp;httpMethodRestrict=POST\")\n.split(stax(Product.class))\n/*.parallelProcessing()*/\n.process(itemDeltaProcessor);\n</code></pre>\n\n<p>After adding the route ID and logging statement</p>\n\n<pre><code>from(\"servlet:item-delta?matchOnUriPrefix=true&amp;httpMethodRestrict=POST\")\n.routeId(\"Item-DeltaRESTRoute\")\n.log(LoggingLevel.INFO, \"Item Delta received on Item-DeltaRESTRoute\")\n.split(stax(Product.class))\n.parallelProcessing()\n.process(itemDeltaProcessor);\n</code></pre>\n\n<p>This is just a sample, Camel is much more than just REST end point. Just take a look the pluggable component list <a href=\"http://camel.apache.org/components.html\" rel=\"noreferrer\">http://camel.apache.org/components.html</a></p>\n"},{"comments":[{"owner":{"account_id":4080404,"reputation":195,"user_id":3379976,"display_name":"anotherDev"},"score":23,"creation_date":1648818386,"post_id":43686199,"comment_id":126727220,"body_markdown":"As a noob, this is the only answer on this page that made any kind of sense to me in understanding what Camel does. Thanks.","body":"As a noob, this is the only answer on this page that made any kind of sense to me in understanding what Camel does. Thanks."}],"tags":[],"owner":{"account_id":3313963,"reputation":11003,"user_id":2786733,"accept_rate":95,"display_name":"Andrejs"},"comment_count":1,"down_vote_count":0,"up_vote_count":175,"is_accepted":false,"score":175,"last_activity_date":1493402021,"creation_date":1493402021,"answer_id":43686199,"question_id":8845186,"body_markdown":"Camel sends messages from A to B:\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\nWhy a whole framework for this? Well, what if you have:\r\n\r\n- many senders and many receivers\r\n- a dozen of protocols (`ftp`, `http`, `jms`, etc.)\r\n- many complex rules \r\n   - Send a message A to Receivers A and B only\r\n   - Send a message B to Receiver C **as XML**, but partly **translate** it, **enrich** it (add metadata) and **IF condition X**, then send it to Receiver D too, but **as CSV**.\r\n\r\nSo now you need:\r\n\r\n- **translate** between protocols\r\n- **glue** components together\r\n- define routes - **what goes where**\r\n- **filter** some things in some cases\r\n\r\n\r\nCamel gives you the above (and more) out of the box:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nwith a cool DSL language for you to define the what and how:\r\n\r\n      new DefaultCamelContext().addRoutes(new RouteBuilder() {\r\n            public void configure() {\r\n                from(&quot;jms:incomingMessages&quot;)\r\n                        .choice() // start router rules\r\n                        .when(header(&quot;CamelFileName&quot;)\r\n                                .endsWith(&quot;.xml&quot;))\r\n                        .to(&quot;jms:xmlMessages&quot;)\r\n                        .when(header(&quot;CamelFileName&quot;)\r\n                                .endsWith(&quot;.csv&quot;))\r\n                        .to(&quot;ftp:csvMessages&quot;);\r\n    }\r\n\r\n\r\nSee also [this][3] and [this][4] and Camel in Action (as others have said, an excellent book!)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r5Kfr.png\r\n  [2]: https://i.stack.imgur.com/AoyyL.png\r\n  [3]: http://camel.apache.org/eip.html\r\n  [4]: https://dzone.com/articles/apache-camel-tutorial-eip","title":"What exactly is Apache Camel?","body":"<p>Camel sends messages from A to B:</p>\n\n<p><a href=\"https://i.stack.imgur.com/r5Kfr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/r5Kfr.png\" alt=\"enter image description here\"></a></p>\n\n<p>Why a whole framework for this? Well, what if you have:</p>\n\n<ul>\n<li>many senders and many receivers</li>\n<li>a dozen of protocols (<code>ftp</code>, <code>http</code>, <code>jms</code>, etc.)</li>\n<li>many complex rules \n\n<ul>\n<li>Send a message A to Receivers A and B only</li>\n<li>Send a message B to Receiver C <strong>as XML</strong>, but partly <strong>translate</strong> it, <strong>enrich</strong> it (add metadata) and <strong>IF condition X</strong>, then send it to Receiver D too, but <strong>as CSV</strong>.</li>\n</ul></li>\n</ul>\n\n<p>So now you need:</p>\n\n<ul>\n<li><strong>translate</strong> between protocols</li>\n<li><strong>glue</strong> components together</li>\n<li>define routes - <strong>what goes where</strong></li>\n<li><strong>filter</strong> some things in some cases</li>\n</ul>\n\n<p>Camel gives you the above (and more) out of the box:</p>\n\n<p><a href=\"https://i.stack.imgur.com/AoyyL.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/AoyyL.png\" alt=\"enter image description here\"></a></p>\n\n<p>with a cool DSL language for you to define the what and how:</p>\n\n<pre><code>  new DefaultCamelContext().addRoutes(new RouteBuilder() {\n        public void configure() {\n            from(\"jms:incomingMessages\")\n                    .choice() // start router rules\n                    .when(header(\"CamelFileName\")\n                            .endsWith(\".xml\"))\n                    .to(\"jms:xmlMessages\")\n                    .when(header(\"CamelFileName\")\n                            .endsWith(\".csv\"))\n                    .to(\"ftp:csvMessages\");\n}\n</code></pre>\n\n<p>See also <a href=\"http://camel.apache.org/eip.html\" rel=\"noreferrer\">this</a> and <a href=\"https://dzone.com/articles/apache-camel-tutorial-eip\" rel=\"noreferrer\">this</a> and Camel in Action (as others have said, an excellent book!)</p>\n"},{"tags":[],"owner":{"account_id":10030576,"reputation":483,"user_id":7417349,"accept_rate":67,"display_name":"javalearner_heaven"},"comment_count":0,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1504772608,"creation_date":1504772608,"answer_id":46091438,"question_id":8845186,"body_markdown":"Its like a pipeline connecting \r\n\r\n    From----&gt;To\r\n\r\nIn between u can add as many channels and pipes. The faucet can be of any type \r\nautomatic or manual for flow of data and a route to channelize the flow.\r\n\r\nIt supports and have implementation for all types and kinds of processing.\r\nAnd for same processing many approaches because it has many components and each component can also provide the desired output using different methods under it.\r\n\r\n\r\nFor instance,\r\n File transfer can be done in camel with types file moved or copied and also from folder, server or queue. \r\n \r\n\r\n    -from--&gt;To\r\n       - from--&gt;process--&gt;to\r\n       - from--&gt;bean--&gt;to\r\n       - from--&gt;process--&gt;bean--&gt;to\r\n       -from--&gt;marshal--&gt;process--&gt;unmarshal--&gt;to\r\n\r\nFrom/to----folder, direct, seda, vm can be anything\r\n \r\n\r\n\r\n","title":"What exactly is Apache Camel?","body":"<p>Its like a pipeline connecting </p>\n\n<pre><code>From----&gt;To\n</code></pre>\n\n<p>In between u can add as many channels and pipes. The faucet can be of any type \nautomatic or manual for flow of data and a route to channelize the flow.</p>\n\n<p>It supports and have implementation for all types and kinds of processing.\nAnd for same processing many approaches because it has many components and each component can also provide the desired output using different methods under it.</p>\n\n<p>For instance,\n File transfer can be done in camel with types file moved or copied and also from folder, server or queue. </p>\n\n<pre><code>-from--&gt;To\n   - from--&gt;process--&gt;to\n   - from--&gt;bean--&gt;to\n   - from--&gt;process--&gt;bean--&gt;to\n   -from--&gt;marshal--&gt;process--&gt;unmarshal--&gt;to\n</code></pre>\n\n<p>From/to----folder, direct, seda, vm can be anything</p>\n"},{"tags":[],"owner":{"account_id":5958733,"reputation":5513,"user_id":4684508,"display_name":"Khader M A"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1519919311,"creation_date":1519919311,"answer_id":49053481,"question_id":8845186,"body_markdown":"Apache Camel is a Java framework for Enterprise integration. Eg:- if you are building a web application which interacts with many vendor API&#39;s we can use the camel as the External integration tool. We can do more with it based on the use case. Camel in Action from Manning publications is a great book for learning Camel. The integrations can be defined as below.\r\n\r\nJava DSL\r\n\r\n    from(&quot;jetty://0.0.0.0:8080/searchProduct&quot;).routeId(&quot;searchProduct.products&quot;).threads()\r\n\t\t.log(LoggingLevel.INFO, &quot;searchProducts request Received with body: ${body}&quot;)\r\n\t\t.bean(Processor.class, &quot;createSearchProductsRequest&quot;).removeHeaders(&quot;CamelHttp*&quot;)\r\n\t\t.setHeader(Exchange.HTTP_METHOD, constant(org.apache.camel.component.http4.HttpMethods.POST))\r\n\t\t.to(&quot;http4://&quot; + preLiveBaseAPI + searchProductsUrl + &quot;?apiKey=&quot; + ApiKey\r\n\t\t\t\t\t\t+ &quot;&amp;bridgeEndpoint=true&quot;)\r\n\t\t.bean(Processor.class, &quot;buildResponse&quot;).log(LoggingLevel.INFO, &quot;Search products finished&quot;);\r\n\r\nThis is to just create a REST API endpoint which in turn calls an external API and sends the request back\r\n\r\n\r\nSpring DSL\r\n\r\n    &lt;route id=&quot;GROUPS-SHOW&quot;&gt;\r\n        &lt;from uri=&quot;jetty://0.0.0.0:8080/showGroups&quot; /&gt;\r\n        &lt;log loggingLevel=&quot;INFO&quot; message=&quot;Reqeust receviced service to fetch groups -&gt; ${body}&quot; /&gt;\r\n        &lt;to uri=&quot;direct:auditLog&quot; /&gt;\r\n\t    &lt;process ref=&quot;TestProcessor&quot; /&gt;\r\n    &lt;/route&gt;\r\n\r\nComing to your questions\r\n\r\n 1. What exactly is it? Ans:- It is a framework which implements Enterprise integration patterns\r\n 2. How does it interact with an application written in Java? Ans:- it can interact with any available protocols like http, ftp, amqp etc\r\n 3. Is it something that goes together with the server? Ans:- It can be deployed in a container like tomcat or can be deployed independently as a java process\r\n 4. Is it an independent program? Ans:- It can be.\r\n\r\nHope it helps\r\n\r\n\r\n\r\n","title":"What exactly is Apache Camel?","body":"<p>Apache Camel is a Java framework for Enterprise integration. Eg:- if you are building a web application which interacts with many vendor API's we can use the camel as the External integration tool. We can do more with it based on the use case. Camel in Action from Manning publications is a great book for learning Camel. The integrations can be defined as below.</p>\n\n<p>Java DSL</p>\n\n<pre><code>from(\"jetty://0.0.0.0:8080/searchProduct\").routeId(\"searchProduct.products\").threads()\n    .log(LoggingLevel.INFO, \"searchProducts request Received with body: ${body}\")\n    .bean(Processor.class, \"createSearchProductsRequest\").removeHeaders(\"CamelHttp*\")\n    .setHeader(Exchange.HTTP_METHOD, constant(org.apache.camel.component.http4.HttpMethods.POST))\n    .to(\"http4://\" + preLiveBaseAPI + searchProductsUrl + \"?apiKey=\" + ApiKey\n                    + \"&amp;bridgeEndpoint=true\")\n    .bean(Processor.class, \"buildResponse\").log(LoggingLevel.INFO, \"Search products finished\");\n</code></pre>\n\n<p>This is to just create a REST API endpoint which in turn calls an external API and sends the request back</p>\n\n<p>Spring DSL</p>\n\n<pre><code>&lt;route id=\"GROUPS-SHOW\"&gt;\n    &lt;from uri=\"jetty://0.0.0.0:8080/showGroups\" /&gt;\n    &lt;log loggingLevel=\"INFO\" message=\"Reqeust receviced service to fetch groups -&gt; ${body}\" /&gt;\n    &lt;to uri=\"direct:auditLog\" /&gt;\n    &lt;process ref=\"TestProcessor\" /&gt;\n&lt;/route&gt;\n</code></pre>\n\n<p>Coming to your questions</p>\n\n<ol>\n<li>What exactly is it? Ans:- It is a framework which implements Enterprise integration patterns</li>\n<li>How does it interact with an application written in Java? Ans:- it can interact with any available protocols like http, ftp, amqp etc</li>\n<li>Is it something that goes together with the server? Ans:- It can be deployed in a container like tomcat or can be deployed independently as a java process</li>\n<li>Is it an independent program? Ans:- It can be.</li>\n</ol>\n\n<p>Hope it helps</p>\n"},{"tags":[],"owner":{"account_id":3311832,"reputation":390,"user_id":2785156,"accept_rate":17,"display_name":"Chetan Gowda"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1543575912,"creation_date":1543575912,"answer_id":53556297,"question_id":8845186,"body_markdown":"Assume you create an ecommerce company like Amazon, and you want to only focus on strategy/choice of products to sell. unlike amazon delivery fleet, instead of yourself handling moving of goods from sellers to warehouse, making changes to it in warehouse like packaging and sending it out to other city and customers. You hire a company that does all this and just give them info of all your warehouse locations, vehicle types, delivery locations and a list of when to do what. Then they handle that by themselves, that would be Apache Camel. They take care of moving things from one end to other, once you handover stuff to them, so that you are free to focus on other things. \r\n","title":"What exactly is Apache Camel?","body":"<p>Assume you create an ecommerce company like Amazon, and you want to only focus on strategy/choice of products to sell. unlike amazon delivery fleet, instead of yourself handling moving of goods from sellers to warehouse, making changes to it in warehouse like packaging and sending it out to other city and customers. You hire a company that does all this and just give them info of all your warehouse locations, vehicle types, delivery locations and a list of when to do what. Then they handle that by themselves, that would be Apache Camel. They take care of moving things from one end to other, once you handover stuff to them, so that you are free to focus on other things. </p>\n"},{"tags":[],"owner":{"account_id":23695,"reputation":4225,"user_id":59561,"accept_rate":69,"display_name":"cwash"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1544658979,"creation_date":1544658668,"answer_id":53753117,"question_id":8845186,"body_markdown":"# 101 Word Intro\r\n\r\nCamel is a framework with a consistent API and programming model for integrating applications together.  The API is based on theories in [Enterprise Integration Patterns](https://www.enterpriseintegrationpatterns.com/) - i.e., bunch of design patterns that tend to use messaging.  It provides out of the box implementations of most of these patterns, and additionally ships with over 200 different [components](https://camel.apache.org/components.html) you can use to easily talk to all kinds of other systems.  To use Camel, first write your business logic in POJOs and implement simple interfaces centered around messages.  Then use Camelâs DSL to create &quot;Routes&quot; which are sets of rules for gluing your application together.\r\n\r\n# Extended Intro\r\n\r\nOn the surface, Camel&#39;s functionality rivals traditional Enterprise Service Bus products.  We typically think of a Camel Route being a &quot;mediation&quot; (aka orchestration) component that lives on the server side, but because it&#39;s a Java library itâs easy to embed and it can live on a client side app just as well and help you integrate it with point to point services (aka choreography).  You can even take your POJOs that process the messages inside the Camel route and easily spin them off into their own remote consumer processes, e.g. if you needed to scale just one piece independently.  You can use Camel to connect routes or processors through any number of different remote transport/protocols depending on your needs.  Do you need an extremely efficient and fast binary protocol, or one that is more human readable and easy to debug?  What if you wanted to switch?  With Camel this is usually as easy as changing a line or two in your route and not changing any business logic at all.  Or you could support both - youâre free to run many Routes at once in a Camel Context.\r\n\r\nYou don&#39;t really need to use Camel for simple applications that are going to live in a single process or JVM - it would be overkill.  But it&#39;s not conceptually any more difficult than code you may write yourself.  And if your requirements change, the separation of business logic and glue code makes it easier to maintain over time.  Once you learn the Camel API, it is easy to use it like a Swiss-Army knife and apply it quickly in many different contexts to cut down on the amount of custom code youâd otherwise have to write.  You can learn one flavor - the Java DSL, for example, a fluent API that&#39;s easy to chain together - and pick up the other flavors easily.\r\n\r\nOverall Camel is a great fit if you are trying to do microservices.  I have found it invaluable for evolutionary architecture, because you can put off a lot of the difficult, &quot;easy-to-get-wrong&quot; decisions about protocols, transports and other system integration problems until you know more about your problem domain.  Just focus on your EIPs and core business logic and switch to new Routes with the &quot;right&quot; components as you learn more.\r\n","title":"What exactly is Apache Camel?","body":"<h1>101 Word Intro</h1>\n\n<p>Camel is a framework with a consistent API and programming model for integrating applications together.  The API is based on theories in <a href=\"https://www.enterpriseintegrationpatterns.com/\" rel=\"noreferrer\">Enterprise Integration Patterns</a> - i.e., bunch of design patterns that tend to use messaging.  It provides out of the box implementations of most of these patterns, and additionally ships with over 200 different <a href=\"https://camel.apache.org/components.html\" rel=\"noreferrer\">components</a> you can use to easily talk to all kinds of other systems.  To use Camel, first write your business logic in POJOs and implement simple interfaces centered around messages.  Then use Camelâs DSL to create \"Routes\" which are sets of rules for gluing your application together.</p>\n\n<h1>Extended Intro</h1>\n\n<p>On the surface, Camel's functionality rivals traditional Enterprise Service Bus products.  We typically think of a Camel Route being a \"mediation\" (aka orchestration) component that lives on the server side, but because it's a Java library itâs easy to embed and it can live on a client side app just as well and help you integrate it with point to point services (aka choreography).  You can even take your POJOs that process the messages inside the Camel route and easily spin them off into their own remote consumer processes, e.g. if you needed to scale just one piece independently.  You can use Camel to connect routes or processors through any number of different remote transport/protocols depending on your needs.  Do you need an extremely efficient and fast binary protocol, or one that is more human readable and easy to debug?  What if you wanted to switch?  With Camel this is usually as easy as changing a line or two in your route and not changing any business logic at all.  Or you could support both - youâre free to run many Routes at once in a Camel Context.</p>\n\n<p>You don't really need to use Camel for simple applications that are going to live in a single process or JVM - it would be overkill.  But it's not conceptually any more difficult than code you may write yourself.  And if your requirements change, the separation of business logic and glue code makes it easier to maintain over time.  Once you learn the Camel API, it is easy to use it like a Swiss-Army knife and apply it quickly in many different contexts to cut down on the amount of custom code youâd otherwise have to write.  You can learn one flavor - the Java DSL, for example, a fluent API that's easy to chain together - and pick up the other flavors easily.</p>\n\n<p>Overall Camel is a great fit if you are trying to do microservices.  I have found it invaluable for evolutionary architecture, because you can put off a lot of the difficult, \"easy-to-get-wrong\" decisions about protocols, transports and other system integration problems until you know more about your problem domain.  Just focus on your EIPs and core business logic and switch to new Routes with the \"right\" components as you learn more.</p>\n"},{"tags":[],"owner":{"account_id":1233610,"reputation":2139,"user_id":1197682,"accept_rate":73,"display_name":"earizon"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1596473656,"creation_date":1545295814,"answer_id":53865210,"question_id":8845186,"body_markdown":"Another point of view (based on more fundamental mathematical topics)\r\n\r\nThe most general computing platform is a [Turing Machine][1].\r\n\r\n\r\nThere is a problem with the Turing machine. All the input/output data stays inside the turing machine. In the real world there are input sources and output sinks external to our Turing machine, and in general governed by systems outside of our control. That is, those external system will send/receive data at will in any format with any desired data-scheduler. \r\n\r\nQuestion: How do we manage to make independent turing-machines speak to each other in the most-general way so that each turing-machine sees their peers as either a source of input-data or sink of output-data?\r\n\r\nAnswer: Using something like camel, mule, BizTalk or any other ESB that abstract away the data handling between completing distinct &quot;physical&quot; (or virtual software) turing machines.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Turing_machine","title":"What exactly is Apache Camel?","body":"<p>Another point of view (based on more fundamental mathematical topics)</p>\n<p>The most general computing platform is a <a href=\"https://en.wikipedia.org/wiki/Turing_machine\" rel=\"nofollow noreferrer\">Turing Machine</a>.</p>\n<p>There is a problem with the Turing machine. All the input/output data stays inside the turing machine. In the real world there are input sources and output sinks external to our Turing machine, and in general governed by systems outside of our control. That is, those external system will send/receive data at will in any format with any desired data-scheduler.</p>\n<p>Question: How do we manage to make independent turing-machines speak to each other in the most-general way so that each turing-machine sees their peers as either a source of input-data or sink of output-data?</p>\n<p>Answer: Using something like camel, mule, BizTalk or any other ESB that abstract away the data handling between completing distinct &quot;physical&quot; (or virtual software) turing machines.</p>\n"},{"comments":[{"owner":{"account_id":6180392,"reputation":1028,"user_id":4816080,"accept_rate":100,"display_name":"ÙØ¹ÙÙØ¨"},"score":1,"creation_date":1576074333,"post_id":58058775,"comment_id":104780931,"body_markdown":"Camel implement 40 pattern, in EIP : enterprise integration pattern.","body":"Camel implement 40 pattern, in EIP : enterprise integration pattern."},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1607725281,"post_id":58058775,"comment_id":115372669,"body_markdown":"&quot;implements all Enterprise Integration patterns&quot; is not correct: [â_Because Camel implements many of the design patterns in the EIP book_â](https://camel.apache.org/manual/latest/book-getting-started.html#BookGettingStarted-TheCamelproject).","body":"&quot;implements all Enterprise Integration patterns&quot; is not correct: <a href=\"https://camel.apache.org/manual/latest/book-getting-started.html#BookGettingStarted-TheCamelproject\" rel=\"nofollow noreferrer\">â<i>Because Camel implements many of the design patterns in the EIP book</i>â</a>."}],"tags":[],"owner":{"account_id":1808646,"reputation":1117,"user_id":1645154,"accept_rate":58,"display_name":"Midhun Pottammal"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1569228568,"creation_date":1569228568,"answer_id":58058775,"question_id":8845186,"body_markdown":"Apache Camel is a lightweight integration framework that implements all Enterprise Integration patterns. You can easily integrate different applications using the required patterns. You can use Java, Spring XML, Scala or Groovy.\r\n\r\nApache Camel runs on the Java Virtual Machine (JVM). ... The core functionality of Apache Camel is its routing engine. It allocates messages based on the related routes. A route contains flow and integration logic. It is implemented using EIPs and a specific DSL.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NdL2x.jpg","title":"What exactly is Apache Camel?","body":"<p>Apache Camel is a lightweight integration framework that implements all Enterprise Integration patterns. You can easily integrate different applications using the required patterns. You can use Java, Spring XML, Scala or Groovy.</p>\n\n<p>Apache Camel runs on the Java Virtual Machine (JVM). ... The core functionality of Apache Camel is its routing engine. It allocates messages based on the related routes. A route contains flow and integration logic. It is implemented using EIPs and a specific DSL.</p>\n\n<p><a href=\"https://i.stack.imgur.com/NdL2x.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NdL2x.jpg\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":891545,"reputation":18247,"user_id":929694,"accept_rate":76,"display_name":"Myy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":668419,"favorite_count":0,"down_vote_count":9,"up_vote_count":1626,"accepted_answer_id":11540451,"answer_count":22,"score":1617,"last_activity_date":1685606505,"creation_date":1326421938,"question_id":8845186,"body_markdown":"I don&#39;t understand what exactly [Camel](http://camel.apache.org/index.html) does.\r\n\r\nIf you could give in 101 words an introduction to Camel:\r\n\r\n* What exactly is it? \r\n* How does it interact with an application written in Java? \r\n* Is it something that goes together with the server? \r\n* Is it an independent program? \r\n\r\n**Please explain what Camel is.**","title":"What exactly is Apache Camel?","body":"<p>I don't understand what exactly <a href=\"http://camel.apache.org/index.html\" rel=\"noreferrer\">Camel</a> does.</p>\n\n<p>If you could give in 101 words an introduction to Camel:</p>\n\n<ul>\n<li>What exactly is it? </li>\n<li>How does it interact with an application written in Java? </li>\n<li>Is it something that goes together with the server? </li>\n<li>Is it an independent program? </li>\n</ul>\n\n<p><strong>Please explain what Camel is.</strong></p>\n"},{"tags":["macos","java"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1357991234,"post_id":14292698,"comment_id":19850257,"body_markdown":"*&quot; that software aren&#39;t running&quot;*  What is the error output?","body":"<i>&quot; that software aren&#39;t running&quot;</i>  What is the error output?"}],"answers":[{"comments":[{"owner":{"account_id":206200,"reputation":10858,"user_id":455340,"accept_rate":87,"display_name":"angry kiwi"},"score":4,"creation_date":1357990005,"post_id":14292720,"comment_id":19850026,"body_markdown":"I got &quot;javac 1.6.0_37&quot; is it equivalent of jdk 6 or 7?","body":"I got &quot;javac 1.6.0_37&quot; is it equivalent of jdk 6 or 7?"},{"owner":{"account_id":36088,"reputation":30908,"user_id":102704,"accept_rate":88,"display_name":"a paid nerd"},"score":12,"creation_date":1452017745,"post_id":14292720,"comment_id":56982508,"body_markdown":"However, if Java isn&#39;t installed, a dialog box will appear telling you that Java needs to be installed, so this isn&#39;t a good option for scripts.","body":"However, if Java isn&#39;t installed, a dialog box will appear telling you that Java needs to be installed, so this isn&#39;t a good option for scripts."},{"owner":{"account_id":18395450,"reputation":592,"user_id":13400029,"display_name":"Delicia Fernandes"},"score":4,"creation_date":1607607742,"post_id":14292720,"comment_id":115329888,"body_markdown":"If you get &quot;The operation couldnât be completed. Unable to locate a Java Runtime.\nPlease visit http://www.java.com for information on installing Java.&quot;, got to https://www.oracle.com/java/technologies/javase-downloads.html and download java jdk!","body":"If you get &quot;The operation couldnât be completed. Unable to locate a Java Runtime. Please visit <a href=\"http://www.java.com\" rel=\"nofollow noreferrer\">java.com</a> for information on installing Java.&quot;, got to <a href=\"https://www.oracle.com/java/technologies/javase-downloads.html\" rel=\"nofollow noreferrer\">oracle.com/java/technologies/javase-downloads.html</a> and download java jdk!"},{"owner":{"account_id":4213871,"reputation":3453,"user_id":3450755,"accept_rate":74,"display_name":"dragonfly02"},"score":0,"creation_date":1647658616,"post_id":14292720,"comment_id":126432678,"body_markdown":"this doesn&#39;t show any sdk path; only shows java runtime version for me on macOS 12.1, is it because I didn&#39;t install the sdk?","body":"this doesn&#39;t show any sdk path; only shows java runtime version for me on macOS 12.1, is it because I didn&#39;t install the sdk?"},{"owner":{"account_id":12483411,"reputation":633,"user_id":9087374,"display_name":"Arya Mohanan"},"score":0,"creation_date":1690964301,"post_id":14292720,"comment_id":135424666,"body_markdown":"To show the path where the java jdk installed, use command &quot;which javac&quot;. Also regarding the version naming, Java 8 is Java 1.8, where 8 is the version number, and 1.8 is the version string","body":"To show the path where the java jdk installed, use command &quot;which javac&quot;. Also regarding the version naming, Java 8 is Java 1.8, where 8 is the version number, and 1.8 is the version string"}],"tags":[],"owner":{"display_name":"user180100"},"comment_count":5,"down_vote_count":5,"up_vote_count":268,"is_accepted":true,"score":263,"last_activity_date":1357988751,"creation_date":1357988751,"answer_id":14292720,"question_id":14292698,"body_markdown":"`javac -version` in a terminal will do","title":"How do I check if the Java JDK is installed on Mac?","body":"<p><code>javac -version</code> in a terminal will do</p>\n"},{"comments":[{"owner":{"account_id":94649,"reputation":8697,"user_id":258289,"accept_rate":95,"display_name":"Luigi"},"score":22,"creation_date":1357988907,"post_id":14292719,"comment_id":19849801,"body_markdown":"-1 for the answer: the presence of java command in the path doesn&#39;t testify that the JDK is installed (but the JRE)","body":"-1 for the answer: the presence of java command in the path doesn&#39;t testify that the JDK is installed (but the JRE)"},{"owner":{"account_id":943785,"reputation":2643,"user_id":971437,"accept_rate":38,"display_name":"fanchyna"},"score":2,"creation_date":1451830464,"post_id":14292719,"comment_id":56899546,"body_markdown":"I agree. I could run &quot;which java&quot; or &quot;which javac&quot;, but I got an error message when running &quot;java --version&quot; because JDK is not installed.","body":"I agree. I could run &quot;which java&quot; or &quot;which javac&quot;, but I got an error message when running &quot;java --version&quot; because JDK is not installed."},{"owner":{"account_id":4333307,"reputation":4755,"user_id":3538165,"accept_rate":100,"display_name":"Resigned June 2023"},"score":6,"creation_date":1492557327,"post_id":14292719,"comment_id":74023197,"body_markdown":"-1 This is completely wrong. All Macs come with a `javac` shim by default. It bears no relation to whether or not Java is installed.","body":"-1 This is completely wrong. All Macs come with a <code>javac</code> shim by default. It bears no relation to whether or not Java is installed."},{"owner":{"account_id":25684565,"reputation":806,"user_id":19446851,"display_name":"habrewning"},"score":0,"creation_date":1670791295,"post_id":14292719,"comment_id":131949820,"body_markdown":"16 people say, this answer is helpful. Although it is incorrect.","body":"16 people say, this answer is helpful. Although it is incorrect."}],"tags":[],"owner":{"account_id":2162386,"reputation":35622,"user_id":1916258,"accept_rate":100,"display_name":"asgoth"},"comment_count":4,"down_vote_count":12,"up_vote_count":28,"is_accepted":false,"score":16,"last_activity_date":1357989139,"creation_date":1357988751,"answer_id":14292719,"question_id":14292698,"body_markdown":"Type in  a terminal:\r\n\r\n    which javac\r\n\r\nIt should show you something like\r\n\r\n    /usr/bin/javac","title":"How do I check if the Java JDK is installed on Mac?","body":"<p>Type in  a terminal:</p>\n\n<pre><code>which javac\n</code></pre>\n\n<p>It should show you something like</p>\n\n<pre><code>/usr/bin/javac\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2974393,"reputation":93,"user_id":2525780,"display_name":"Hari Dattada"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1486402764,"creation_date":1372278707,"answer_id":17329907,"question_id":14292698,"body_markdown":"Just type `javac`. If it is installed you get usage information, otherwise it would just ask if you would like to install Java.\r\n","title":"How do I check if the Java JDK is installed on Mac?","body":"<p>Just type <code>javac</code>. If it is installed you get usage information, otherwise it would just ask if you would like to install Java.</p>\n"},{"comments":[{"owner":{"account_id":10913272,"reputation":495,"user_id":8021938,"display_name":"MasterPiece"},"score":0,"creation_date":1651175256,"post_id":31776543,"comment_id":127307959,"body_markdown":"That&#39;s exactly what I needed to find the path of my java versions","body":"That&#39;s exactly what I needed to find the path of my java versions"}],"tags":[],"owner":{"account_id":160587,"reputation":47975,"user_id":380757,"accept_rate":86,"display_name":"Tuxdude"},"comment_count":1,"down_vote_count":0,"up_vote_count":107,"is_accepted":false,"score":107,"last_activity_date":1438549220,"creation_date":1438549220,"answer_id":31776543,"question_id":14292698,"body_markdown":"You can leverage the `java_home` helper binary on `OS X` for what you&#39;re looking for.\r\n\r\nTo list all versions of installed JDK:\r\n\r\n    $ /usr/libexec/java_home -V\r\n    Matching Java Virtual Machines (2):\r\n        1.8.0_51, x86_64:\t&quot;Java SE 8&quot;\t/Library/Java/JavaVirtualMachines/jdk1.8.0_51.jdk/Contents/Home\r\n        1.7.0_79, x86_64:\t&quot;Java SE 7&quot;\t/Library/Java/JavaVirtualMachines/jdk1.7.0_79.jdk/Contents/Home\r\n\r\n\r\nTo request the JAVA_HOME path of a specific JDK version, you can do:\r\n\r\n    $ /usr/libexec/java_home -v 1.7\r\n    /Library/Java/JavaVirtualMachines/jdk1.7.0_79.jdk/Contents/Home\r\n    \r\n    $ /usr/libexec/java_home -v 1.8\r\n    /Library/Java/JavaVirtualMachines/jdk1.8.0_51.jdk/Contents/Home\r\n\r\nYou could take advantage of the above commands in your script like this:\r\n\r\n    REQUESTED_JAVA_VERSION=&quot;1.7&quot;\r\n    if POSSIBLE_JAVA_HOME=&quot;$(/usr/libexec/java_home -v $REQUESTED_JAVA_VERSION 2&gt;/dev/null)&quot;; then\r\n        # Do this if you want to export JAVA_HOME\r\n        export JAVA_HOME=&quot;$POSSIBLE_JAVA_HOME&quot;\r\n        echo &quot;Java SDK is installed&quot;\r\n    else\r\n        echo &quot;Did not find any installed JDK for version $REQUESTED_JAVA_VERSION&quot;\r\n    fi\r\n\r\nYou might be able to do if-else and check for multiple different versions of java as well.\r\n\r\nIf you prefer XML output, java_home also has a -X option to output in XML.\r\n\r\n    $ /usr/libexec/java_home --help\r\n    Usage: java_home [options...]\r\n        Returns the path to a Java home directory from the current user&#39;s settings.\r\n    \r\n    Options:\r\n        [-v/--version   &lt;version&gt;]       Filter Java versions in the &quot;JVMVersion&quot; form 1.X(+ or *).\r\n        [-a/--arch      &lt;architecture&gt;]  Filter JVMs matching architecture (i386, x86_64, etc).\r\n        [-d/--datamodel &lt;datamodel&gt;]     Filter JVMs capable of -d32 or -d64\r\n        [-t/--task      &lt;task&gt;]          Use the JVM list for a specific task (Applets, WebStart, BundledApp, JNI, or CommandLine)\r\n        [-F/--failfast]                  Fail when filters return no JVMs, do not continue with default.\r\n        [   --exec      &lt;command&gt; ...]   Execute the $JAVA_HOME/bin/&lt;command&gt; with the remaining arguments.\r\n        [-R/--request]                   Request installation of a Java Runtime if not installed.\r\n        [-X/--xml]                       Print full JVM list and additional data as XML plist.\r\n        [-V/--verbose]                   Print full JVM list with architectures.\r\n        [-h/--help]                      This usage information.","title":"How do I check if the Java JDK is installed on Mac?","body":"<p>You can leverage the <code>java_home</code> helper binary on <code>OS X</code> for what you're looking for.</p>\n\n<p>To list all versions of installed JDK:</p>\n\n<pre><code>$ /usr/libexec/java_home -V\nMatching Java Virtual Machines (2):\n    1.8.0_51, x86_64:   \"Java SE 8\" /Library/Java/JavaVirtualMachines/jdk1.8.0_51.jdk/Contents/Home\n    1.7.0_79, x86_64:   \"Java SE 7\" /Library/Java/JavaVirtualMachines/jdk1.7.0_79.jdk/Contents/Home\n</code></pre>\n\n<p>To request the JAVA_HOME path of a specific JDK version, you can do:</p>\n\n<pre><code>$ /usr/libexec/java_home -v 1.7\n/Library/Java/JavaVirtualMachines/jdk1.7.0_79.jdk/Contents/Home\n\n$ /usr/libexec/java_home -v 1.8\n/Library/Java/JavaVirtualMachines/jdk1.8.0_51.jdk/Contents/Home\n</code></pre>\n\n<p>You could take advantage of the above commands in your script like this:</p>\n\n<pre><code>REQUESTED_JAVA_VERSION=\"1.7\"\nif POSSIBLE_JAVA_HOME=\"$(/usr/libexec/java_home -v $REQUESTED_JAVA_VERSION 2&gt;/dev/null)\"; then\n    # Do this if you want to export JAVA_HOME\n    export JAVA_HOME=\"$POSSIBLE_JAVA_HOME\"\n    echo \"Java SDK is installed\"\nelse\n    echo \"Did not find any installed JDK for version $REQUESTED_JAVA_VERSION\"\nfi\n</code></pre>\n\n<p>You might be able to do if-else and check for multiple different versions of java as well.</p>\n\n<p>If you prefer XML output, java_home also has a -X option to output in XML.</p>\n\n<pre><code>$ /usr/libexec/java_home --help\nUsage: java_home [options...]\n    Returns the path to a Java home directory from the current user's settings.\n\nOptions:\n    [-v/--version   &lt;version&gt;]       Filter Java versions in the \"JVMVersion\" form 1.X(+ or *).\n    [-a/--arch      &lt;architecture&gt;]  Filter JVMs matching architecture (i386, x86_64, etc).\n    [-d/--datamodel &lt;datamodel&gt;]     Filter JVMs capable of -d32 or -d64\n    [-t/--task      &lt;task&gt;]          Use the JVM list for a specific task (Applets, WebStart, BundledApp, JNI, or CommandLine)\n    [-F/--failfast]                  Fail when filters return no JVMs, do not continue with default.\n    [   --exec      &lt;command&gt; ...]   Execute the $JAVA_HOME/bin/&lt;command&gt; with the remaining arguments.\n    [-R/--request]                   Request installation of a Java Runtime if not installed.\n    [-X/--xml]                       Print full JVM list and additional data as XML plist.\n    [-V/--verbose]                   Print full JVM list with architectures.\n    [-h/--help]                      This usage information.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5027416,"reputation":1722,"user_id":4553442,"display_name":"Tom Hundt"},"score":0,"creation_date":1689783638,"post_id":44158166,"comment_id":135263513,"body_markdown":"annnnnnd it returns -127 if `/usr/libexec/java_home` doesn&#39;t even exist... so this actually works both ways ;-)","body":"annnnnnd it returns -127 if <code>&#47;usr&#47;libexec&#47;java_home</code> doesn&#39;t even exist... so this actually works both ways ;-)"}],"tags":[],"owner":{"account_id":2520594,"reputation":772,"user_id":2191057,"display_name":"ramzes2"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1495628095,"creation_date":1495628095,"answer_id":44158166,"question_id":14292698,"body_markdown":"`/usr/bin/java_home` tool returns 1 if java not installed.\r\n\r\nSo you can check if java is installed by the next way:\r\n\r\n    /usr/libexec/java_home &amp;&gt; /dev/null &amp;&amp; echo &quot;installed&quot; || echo  &quot;not installed&quot;","title":"How do I check if the Java JDK is installed on Mac?","body":"<p><code>/usr/bin/java_home</code> tool returns 1 if java not installed.</p>\n\n<p>So you can check if java is installed by the next way:</p>\n\n<pre><code>/usr/libexec/java_home &amp;&gt; /dev/null &amp;&amp; echo \"installed\" || echo  \"not installed\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":433987,"reputation":5865,"user_id":819651,"accept_rate":90,"display_name":"Lu&#237;s Soares"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528742551,"creation_date":1528742551,"answer_id":50804164,"question_id":14292698,"body_markdown":"Make sure you correctly define the project&#39;s JDK and restart IntelliJ (full restart).","title":"How do I check if the Java JDK is installed on Mac?","body":"<p>Make sure you correctly define the project's JDK and restart IntelliJ (full restart).</p>\n"},{"tags":[],"owner":{"account_id":2752510,"reputation":401,"user_id":2371568,"display_name":"Mir Kazim Ali Tabrez"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1534818674,"creation_date":1534818674,"answer_id":51940794,"question_id":14292698,"body_markdown":"Below command worked out pretty good:\r\n\r\n    javac -version\r\n\r\nI also manually verified by navigating to the Java Folder on my Mac\r\n        \r\n    /Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk","title":"How do I check if the Java JDK is installed on Mac?","body":"<p>Below command worked out pretty good:</p>\n\n<pre><code>javac -version\n</code></pre>\n\n<p>I also manually verified by navigating to the Java Folder on my Mac</p>\n\n<pre><code>/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7563249,"reputation":121,"user_id":5739881,"display_name":"Mohtasim"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1580587364,"creation_date":1580587364,"answer_id":60020650,"question_id":14292698,"body_markdown":"* Open terminal.\r\n* run command to see:\r\n\r\n    javac -version\r\n\r\n* Also you can verify manually by going to the specific location and then check. To do this run below command in the mac terminal\r\n\r\n    cd /Library/Java/JavaVirtualMachines/\r\n    \r\nThen run `ls` command in the terminal again. Now you can see the jdk version &amp; package if exists in your computer. \r\n\r\n\r\n","title":"How do I check if the Java JDK is installed on Mac?","body":"<ul>\n<li>Open terminal.</li>\n<li><p>run command to see:</p>\n\n<p>javac -version</p></li>\n<li><p>Also you can verify manually by going to the specific location and then check. To do this run below command in the mac terminal</p>\n\n<p>cd /Library/Java/JavaVirtualMachines/</p></li>\n</ul>\n\n<p>Then run <code>ls</code> command in the terminal again. Now you can see the jdk version &amp; package if exists in your computer. </p>\n"},{"tags":[],"owner":{"account_id":2404155,"reputation":3688,"user_id":2101117,"display_name":"Aleksandar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1611254951,"creation_date":1611254951,"answer_id":65833927,"question_id":14292698,"body_markdown":"If you are on Mac OS Big Sur, then you probably have a messed up java installation.\r\nI found info on how to fix the issue with this article:\r\nhttps://knasmueller.net/how-to-install-java-openjdk-15-on-macos-big-sur\r\n\r\n 1. Download the .tar.gz file of the JDK on https://jdk.java.net/15/\r\n 2. Navigate to the download folder, and run these commands (move the .tar.gz file, extract it and remove it after extraction):\r\n```\r\nsudo mv openjdk-15.0.2_osx-x64_bin.tar.gz /Library/Java/JavaVirtualMachines/\r\ncd /Library/Java/JavaVirtualMachines/\r\nsudo tar -xzf openjdk-15.0.2_osx-x64_bin.tar.gz\r\nsudo rm openjdk-15.0.2_osx-x64_bin.tar.gz\r\n```\r\nNote: it might be 15.0.3 or higher, depending on the date of your download.\r\n\r\n 3. run `/usr/libexec/java_home -v15` and copy the output\r\n 4. add this line to your `.bash_profile` or `.zshrc` file, depending on which shell you are using. You will probably have only one of these files existing in your home directory (`~/.bash_profile` or `~/.zshrc`).\r\n```\r\nJAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-15.0.2.jdk/Contents/Home\r\n```\r\n5. save the changes and make them effective right away by running:\r\n`source ~/.bash_profile` or `source ~/.zshrc`\r\n6. check that java is working - run `java -v`","title":"How do I check if the Java JDK is installed on Mac?","body":"<p>If you are on Mac OS Big Sur, then you probably have a messed up java installation.\nI found info on how to fix the issue with this article:\n<a href=\"https://knasmueller.net/how-to-install-java-openjdk-15-on-macos-big-sur\" rel=\"nofollow noreferrer\">https://knasmueller.net/how-to-install-java-openjdk-15-on-macos-big-sur</a></p>\n<ol>\n<li>Download the .tar.gz file of the JDK on <a href=\"https://jdk.java.net/15/\" rel=\"nofollow noreferrer\">https://jdk.java.net/15/</a></li>\n<li>Navigate to the download folder, and run these commands (move the .tar.gz file, extract it and remove it after extraction):</li>\n</ol>\n<pre><code>sudo mv openjdk-15.0.2_osx-x64_bin.tar.gz /Library/Java/JavaVirtualMachines/\ncd /Library/Java/JavaVirtualMachines/\nsudo tar -xzf openjdk-15.0.2_osx-x64_bin.tar.gz\nsudo rm openjdk-15.0.2_osx-x64_bin.tar.gz\n</code></pre>\n<p>Note: it might be 15.0.3 or higher, depending on the date of your download.</p>\n<ol start=\"3\">\n<li>run <code>/usr/libexec/java_home -v15</code> and copy the output</li>\n<li>add this line to your <code>.bash_profile</code> or <code>.zshrc</code> file, depending on which shell you are using. You will probably have only one of these files existing in your home directory (<code>~/.bash_profile</code> or <code>~/.zshrc</code>).</li>\n</ol>\n<pre><code>JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-15.0.2.jdk/Contents/Home\n</code></pre>\n<ol start=\"5\">\n<li>save the changes and make them effective right away by running:\n<code>source ~/.bash_profile</code> or <code>source ~/.zshrc</code></li>\n<li>check that java is working - run <code>java -v</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7442031,"reputation":3314,"user_id":5659521,"display_name":"Amit Meena"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665049648,"creation_date":1665049648,"answer_id":73971776,"question_id":14292698,"body_markdown":"On MAC find your JDK path by executing the command.\r\n\r\n```\r\n/usr/libexec/java_home\r\n```","title":"How do I check if the Java JDK is installed on Mac?","body":"<p>On MAC find your JDK path by executing the command.</p>\n<pre><code>/usr/libexec/java_home\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3627341,"reputation":25090,"user_id":3024579,"accept_rate":62,"display_name":"Alok"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685606216,"creation_date":1685606216,"answer_id":76379794,"question_id":14292698,"body_markdown":"If you want to only check Java is already installed or not \r\n\r\njust type- **java** on the terminal\r\n\r\nand if you want to know about the version as well then \r\n\r\ntype- **java -version** on the terminal\r\n\r\nResult will be look like:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pG3vn.png","title":"How do I check if the Java JDK is installed on Mac?","body":"<p>If you want to only check Java is already installed or not</p>\n<p>just type- <strong>java</strong> on the terminal</p>\n<p>and if you want to know about the version as well then</p>\n<p>type- <strong>java -version</strong> on the terminal</p>\n<p>Result will be look like:</p>\n<p><a href=\"https://i.stack.imgur.com/pG3vn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pG3vn.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":206200,"reputation":10858,"user_id":455340,"accept_rate":87,"display_name":"angry kiwi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276313,"favorite_count":0,"down_vote_count":0,"up_vote_count":192,"accepted_answer_id":14292720,"answer_count":11,"score":192,"last_activity_date":1685606216,"creation_date":1357988611,"question_id":14292698,"body_markdown":"How do you check if Java SDK is installed on a Mac?\r\n\r\nIs there a command line for this?\r\n","title":"How do I check if the Java JDK is installed on Mac?","body":"<p>How do you check if Java SDK is installed on a Mac?</p>\n\n<p>Is there a command line for this?</p>\n"},{"tags":["java","spring","spring-websocket"],"comments":[{"owner":{"account_id":28177079,"reputation":118,"user_id":21534708,"display_name":"Farfetch&#39;d"},"score":0,"creation_date":1685433157,"post_id":76361533,"comment_id":134655057,"body_markdown":"It&#39;s only working when client send request cause you have used  @MessageMapping(&quot;/client&quot;). It means that counDonwService is mapped with &quot;/client&quot; websocket endpoint. I don&#39;t know if you are interresting by schedule the call of countDownService, so take a look of @Scheduled (https://spring.io/guides/gs/scheduling-tasks/)","body":"It&#39;s only working when client send request cause you have used  @MessageMapping(&quot;/client&quot;). It means that counDonwService is mapped with &quot;/client&quot; websocket endpoint. I don&#39;t know if you are interresting by schedule the call of countDownService, so take a look of @Scheduled (<a href=\"https://spring.io/guides/gs/scheduling-tasks/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/scheduling-tasks</a>)"},{"owner":{"account_id":9683939,"reputation":15,"user_id":7184477,"display_name":"DKB"},"score":0,"creation_date":1685459707,"post_id":76361533,"comment_id":134661359,"body_markdown":"Hi @Farfetch&#39;d thanks a lot. Its working completely fine. Is there any way if I can do this without multithreading.","body":"Hi @Farfetch&#39;d thanks a lot. Its working completely fine. Is there any way if I can do this without multithreading."},{"owner":{"account_id":28177079,"reputation":118,"user_id":21534708,"display_name":"Farfetch&#39;d"},"score":0,"creation_date":1685519588,"post_id":76361533,"comment_id":134669847,"body_markdown":"Hi @DKB I&#39;m not sure to understand what you want to achieve. You are trying to send the count to all client when value equals to 0 ?","body":"Hi @DKB I&#39;m not sure to understand what you want to achieve. You are trying to send the count to all client when value equals to 0 ?"},{"owner":{"account_id":9683939,"reputation":15,"user_id":7184477,"display_name":"DKB"},"score":0,"creation_date":1685551488,"post_id":76361533,"comment_id":134677292,"body_markdown":"Hi @Farfetch&#39;d I just want to create a server which will share live countdown to the all the connected clients like 60 59 58 57.....","body":"Hi @Farfetch&#39;d I just want to create a server which will share live countdown to the all the connected clients like 60 59 58 57....."}],"answers":[{"tags":[],"owner":{"account_id":28177079,"reputation":118,"user_id":21534708,"display_name":"Farfetch&#39;d"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685605757,"creation_date":1685605435,"answer_id":76379692,"question_id":76361533,"body_markdown":"One of the ways to do that without using multi threading \r\n\r\n    @Controller\r\n    public class CountdownWSController {\r\n    \r\n        private int countdown;\r\n        private SimpMessagingTemplate template;\r\n    \r\n    \r\n        public CountdownWSController(Countdown cnt, SimpMessagingTemplate template){\r\n            this.template = template;\r\n            countdown = 60; /* Choose the starting value */\r\n        }\r\n    \r\n        @Scheduled(fixedRate = 1000)\r\n        public void countDownService() {\r\n                this.template.convertAndSend(&quot;/topic/greetings&quot;, this.count);\r\n                this.count=this.count-1;\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nHowever, with this way if there are two clients the timer will be the same even if they join the communication at different time \r\n","title":"Sending data from server to all the client using spring websocket java","body":"<p>One of the ways to do that without using multi threading</p>\n<pre><code>@Controller\npublic class CountdownWSController {\n\n    private int countdown;\n    private SimpMessagingTemplate template;\n\n\n    public CountdownWSController(Countdown cnt, SimpMessagingTemplate template){\n        this.template = template;\n        countdown = 60; /* Choose the starting value */\n    }\n\n    @Scheduled(fixedRate = 1000)\n    public void countDownService() {\n            this.template.convertAndSend(&quot;/topic/greetings&quot;, this.count);\n            this.count=this.count-1;\n\n    }\n\n}\n</code></pre>\n<p>However, with this way if there are two clients the timer will be the same even if they join the communication at different time</p>\n"}],"owner":{"account_id":9683939,"reputation":15,"user_id":7184477,"display_name":"DKB"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76379692,"answer_count":1,"score":0,"last_activity_date":1685605757,"creation_date":1685419152,"question_id":76361533,"body_markdown":"I have create a thread in spring application which is called at the start of the spring boot application.\r\n\r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n        public static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoApplication.class, args);\r\n    \t\tThread th = new Thread(new Countdown());\r\n    \t\tth.start();\r\n    \r\n    \t}\r\n    }\r\nInside that I have created a variable which decreases by 1 every second.\r\n\r\n    public class Countdown implements Runnable{\r\n        private static volatile int count=0;\r\n\r\n        @Override\r\n        public void run() {\r\n            this.runTimer();\r\n    \r\n        }\r\n    \r\n        public void runTimer(){\r\n            count=60;\r\n            while(count&gt;0){\r\n                System.out.println(&quot;Countdown : &quot;+count+&quot; &quot;+Thread.currentThread().getId());\r\n                try{\r\n                    count--;\r\n                    Thread.sleep(1000);\r\n                }\r\n                catch (Exception e){\r\n                    System.out.println(e);\r\n                }\r\n            }\r\n        }\r\n    }\r\nWhat I wanted to achieve is that after count-- operation I should be able to send the count value to all the clients connected to the server. The count value should be send without any request from the client.\r\n\r\nHere is the WebSocket configuration\r\n\r\n    @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    public class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\r\n        @Override\r\n        public void configureMessageBroker(MessageBrokerRegistry config) {\r\n            config.enableSimpleBroker(&quot;/topic&quot;);\r\n            config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n            registry.addEndpoint(&quot;/gs-guide-websocket&quot;).withSockJS();\r\n        }\r\n    }\r\n\r\nI tried using SimpMessageTemplate object to send the count. But it is only working when the client sends a request. I tried to use the SimpMessageTemplate object in Countdown class after count-- operation but its giving me null exception.   \r\n\r\n    @Controller\r\n    public class CountdownWSController {\r\n    \r\n        private Countdown countdown;\r\n        private SimpMessagingTemplate template;\r\n    \r\n    \r\n        public CountdownWSController(Countdown cnt, SimpMessagingTemplate template){\r\n            this.template = template;\r\n            countdown = cnt;\r\n        }\r\n    \r\n        @MessageMapping(&quot;/client&quot;)\r\n        @SendTo(&quot;/topic/greetings&quot;)\r\n        public void countDownService(int count) throws Exception{\r\n                this.template.convertAndSend(&quot;/topic/greetings&quot;, new CountdownModel(count));\r\n    \r\n        }\r\n    \r\n        }\r\n    }","title":"Sending data from server to all the client using spring websocket java","body":"<p>I have create a thread in spring application which is called at the start of the spring boot application.</p>\n<pre><code>@SpringBootApplication\npublic class DemoApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n        Thread th = new Thread(new Countdown());\n        th.start();\n\n    }\n}\n</code></pre>\n<p>Inside that I have created a variable which decreases by 1 every second.</p>\n<pre><code>public class Countdown implements Runnable{\n    private static volatile int count=0;\n\n    @Override\n    public void run() {\n        this.runTimer();\n\n    }\n\n    public void runTimer(){\n        count=60;\n        while(count&gt;0){\n            System.out.println(&quot;Countdown : &quot;+count+&quot; &quot;+Thread.currentThread().getId());\n            try{\n                count--;\n                Thread.sleep(1000);\n            }\n            catch (Exception e){\n                System.out.println(e);\n            }\n        }\n    }\n}\n</code></pre>\n<p>What I wanted to achieve is that after count-- operation I should be able to send the count value to all the clients connected to the server. The count value should be send without any request from the client.</p>\n<p>Here is the WebSocket configuration</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.enableSimpleBroker(&quot;/topic&quot;);\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/gs-guide-websocket&quot;).withSockJS();\n    }\n}\n</code></pre>\n<p>I tried using SimpMessageTemplate object to send the count. But it is only working when the client sends a request. I tried to use the SimpMessageTemplate object in Countdown class after count-- operation but its giving me null exception.</p>\n<pre><code>@Controller\npublic class CountdownWSController {\n\n    private Countdown countdown;\n    private SimpMessagingTemplate template;\n\n\n    public CountdownWSController(Countdown cnt, SimpMessagingTemplate template){\n        this.template = template;\n        countdown = cnt;\n    }\n\n    @MessageMapping(&quot;/client&quot;)\n    @SendTo(&quot;/topic/greetings&quot;)\n    public void countDownService(int count) throws Exception{\n            this.template.convertAndSend(&quot;/topic/greetings&quot;, new CountdownModel(count));\n\n    }\n\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9827,"page":398,"page_size":100}
