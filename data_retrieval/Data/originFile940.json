{"items":[{"tags":["java","function","jpa","parameters","criteria"],"answers":[{"tags":[],"owner":{"account_id":409632,"reputation":1129,"user_id":780998,"accept_rate":76,"display_name":"Deven Phillips"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1311289756,"creation_date":1311289756,"answer_id":6783928,"question_id":5820415,"body_markdown":"It looks like your defined PL/SQL function takes 4 arguments and you only have 2 arguments shown.","title":"JPA Criteria API. Query with sql function call which takes parameters","body":"<p>It looks like your defined PL/SQL function takes 4 arguments and you only have 2 arguments shown.</p>\n"}],"owner":{"account_id":377427,"reputation":131,"user_id":729546,"display_name":"RimasK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7746,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1666544805,"creation_date":1304001799,"question_id":5820415,"body_markdown":"I&#39;m trying to construct this query using Criteria typesafe API:  \r\n\r\n    select * from xxx_table xxx where CALC_DISTANCE(xxx.latitude, xxx.longitude, :lat, :lng) &lt; :dist\r\n    \r\n    CALC_DISTANCE definded PL/SQL function:  \r\n    FUNCTION calc_distance(  \r\n     pLat1 NUMBER,  \r\n     pLon1 NUMBER,  \r\n     pLat2 NUMBER,  \r\n     pLon2 NUMBER)  \r\n     RETURN NUMBER  \r\n      \r\n    \r\n    CriteriaBuilder builder = JpaHandle.get().getCriteriaBuilder();  \r\n    CriteriaQuery&lt;XXX&gt; criteria = builder.createQuery(XXX.class);  \r\n    Root&lt;XXX&gt; xxxRoot = criteria.from(XXX.class);  \r\n      \t\r\n    ParameterExpression&lt;Double&gt; latParam = builder.parameter( Double.class );  \r\n    ParameterExpression&lt;Double&gt; lngParam = builder.parameter( Double.class );  \r\n    ParameterExpression&lt;Double&gt; distParam = builder.parameter( Double.class );  \r\n      \r\n    Expression&lt;Double&gt; distFunction = builder.function(&quot;CALC_DISTANCE&quot;, Double.class, xxxRoot.get(XXX_.latitude), xxxRoot.get(XXX_.longitude), latParam, lngParam);  \r\n    \t\t  \r\n    criteria.where(builder.greaterThan(distFunction, distParam));  \r\n    TypedQuery&lt;XXX&gt; q = em.createQuery(criteria);  \r\n    q.setParameter(latParam, latitude);  \r\n    q.setParameter(lngParam, longitude);  \r\n    q.setParameter(distParam, new Double(distance.toString()));  \r\n    return q.getResultList();  \r\n\r\nI get this exception:  \r\n\r\n    Caused by: org.hibernate.QueryException: could not resolve property:  \r\n    latitudegeneratedAlias0 of: domain.XXX  \r\n    [select generatedAlias0 from domain.XXX as generatedAlias0 where  \r\n    CALC_DISTANCE(generatedAlias0.latitudegeneratedAlias0.longitude:param0:param1)&gt;:param2]  \r\n\r\nSeems like JPA query construction logic forgets to separate params with commas, or do I have somehow to do it myself?","title":"JPA Criteria API. Query with sql function call which takes parameters","body":"<p>I'm trying to construct this query using Criteria typesafe API:  </p>\n\n<pre><code>select * from xxx_table xxx where CALC_DISTANCE(xxx.latitude, xxx.longitude, :lat, :lng) &lt; :dist\n\nCALC_DISTANCE definded PL/SQL function:  \nFUNCTION calc_distance(  \n pLat1 NUMBER,  \n pLon1 NUMBER,  \n pLat2 NUMBER,  \n pLon2 NUMBER)  \n RETURN NUMBER  \n\n\nCriteriaBuilder builder = JpaHandle.get().getCriteriaBuilder();  \nCriteriaQuery&lt;XXX&gt; criteria = builder.createQuery(XXX.class);  \nRoot&lt;XXX&gt; xxxRoot = criteria.from(XXX.class);  \n\nParameterExpression&lt;Double&gt; latParam = builder.parameter( Double.class );  \nParameterExpression&lt;Double&gt; lngParam = builder.parameter( Double.class );  \nParameterExpression&lt;Double&gt; distParam = builder.parameter( Double.class );  \n\nExpression&lt;Double&gt; distFunction = builder.function(\"CALC_DISTANCE\", Double.class, xxxRoot.get(XXX_.latitude), xxxRoot.get(XXX_.longitude), latParam, lngParam);  \n\ncriteria.where(builder.greaterThan(distFunction, distParam));  \nTypedQuery&lt;XXX&gt; q = em.createQuery(criteria);  \nq.setParameter(latParam, latitude);  \nq.setParameter(lngParam, longitude);  \nq.setParameter(distParam, new Double(distance.toString()));  \nreturn q.getResultList();  \n</code></pre>\n\n<p>I get this exception:  </p>\n\n<pre><code>Caused by: org.hibernate.QueryException: could not resolve property:  \nlatitudegeneratedAlias0 of: domain.XXX  \n[select generatedAlias0 from domain.XXX as generatedAlias0 where  \nCALC_DISTANCE(generatedAlias0.latitudegeneratedAlias0.longitude:param0:param1)&gt;:param2]  \n</code></pre>\n\n<p>Seems like JPA query construction logic forgets to separate params with commas, or do I have somehow to do it myself?</p>\n"},{"tags":["java","node.js","spring","spring-boot","redis"],"comments":[{"owner":{"account_id":114905,"reputation":7357,"user_id":301957,"accept_rate":50,"display_name":"Harshana"},"score":0,"creation_date":1487556977,"post_id":42088184,"comment_id":71823428,"body_markdown":"This worked. Problem was with a later set up of redis replication, the name given by another person was something else than mymaster. So I enter the correct master name there it workes.","body":"This worked. Problem was with a later set up of redis replication, the name given by another person was something else than mymaster. So I enter the correct master name there it workes."}],"answers":[{"tags":[],"owner":{"account_id":2162777,"reputation":4478,"user_id":4536811,"display_name":"Mickael"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1486466206,"creation_date":1486466206,"answer_id":42088442,"question_id":42088184,"body_markdown":"According to [Add support for Redis Sentinel Configuration GitHub request][1], \r\n\r\n&gt; Spring Data Redis 1.4.0 will introduce redis [Sentinel][2] support.\r\n&gt; Sentinels can be configured using `RedisSentinelConfiguration`. When\r\n&gt; applied to `RedisConnectionFactory` the sentinel configuration will be\r\n&gt; used to determine current master node an perform failover in case a\r\n&gt; new master is elected.\r\n&gt; \r\n&gt; Added new config properties to `RedisProperties`:\r\n&gt; \r\n&gt;     spring.redis.sentinel.master=mymaster #name of redis server\r\n&gt;     spring.redis.sentinel.nodes=127.0.0.1:26379,127.0.0.1:26380 #deliminated list of sentinels.\r\n\r\nI hope this can help you.\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/pull/1337\r\n  [2]: http://redis.io/topics/sentinel","title":"Redis sentinel set up with spring boot","body":"<p>According to <a href=\"https://github.com/spring-projects/spring-boot/pull/1337\" rel=\"noreferrer\">Add support for Redis Sentinel Configuration GitHub request</a>, </p>\n\n<blockquote>\n  <p>Spring Data Redis 1.4.0 will introduce redis <a href=\"http://redis.io/topics/sentinel\" rel=\"noreferrer\">Sentinel</a> support.\n  Sentinels can be configured using <code>RedisSentinelConfiguration</code>. When\n  applied to <code>RedisConnectionFactory</code> the sentinel configuration will be\n  used to determine current master node an perform failover in case a\n  new master is elected.</p>\n  \n  <p>Added new config properties to <code>RedisProperties</code>:</p>\n\n<pre><code>spring.redis.sentinel.master=mymaster #name of redis server\nspring.redis.sentinel.nodes=127.0.0.1:26379,127.0.0.1:26380 #deliminated list of sentinels.\n</code></pre>\n</blockquote>\n\n<p>I hope this can help you.</p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666544527,"creation_date":1666544527,"answer_id":74173100,"question_id":42088184,"body_markdown":"Recent Update\r\n\r\nFor future readers having the same problem and need to apply those configurations but having already upgraded to **Spring Boot 3.0**, then the configurations should be \r\n\r\n    spring.data.redis.sentinel.master= someMaster #name of master redis server\r\n    spring.data.redis.sentinel.nodes= some.domain.for.sentinel:26379, some.other.domain.for.other.sentinel:26379 #list of sentinels.","title":"Redis sentinel set up with spring boot","body":"<p>Recent Update</p>\n<p>For future readers having the same problem and need to apply those configurations but having already upgraded to <strong>Spring Boot 3.0</strong>, then the configurations should be</p>\n<pre><code>spring.data.redis.sentinel.master= someMaster #name of master redis server\nspring.data.redis.sentinel.nodes= some.domain.for.sentinel:26379, some.other.domain.for.other.sentinel:26379 #list of sentinels.\n</code></pre>\n"}],"owner":{"account_id":114905,"reputation":7357,"user_id":301957,"accept_rate":50,"display_name":"Harshana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16804,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":42088442,"answer_count":2,"score":5,"last_activity_date":1666544527,"creation_date":1486465452,"question_id":42088184,"body_markdown":"I have redis on 1 master and 2 slaves and on each server a sentinel process is running on port 26379\r\n\r\nI want to know how to configure a sentinel as master in order to add for below in application.property file.\r\n\r\n    spring.redis.sentinel.master=\r\n    spring.redis.sentinel.nodes=\r\n\r\nI have redis server 2.8.19 and spring boot 1.3.4, spring-data-redis 1.6.4 jars\r\n\r\n","title":"Redis sentinel set up with spring boot","body":"<p>I have redis on 1 master and 2 slaves and on each server a sentinel process is running on port 26379</p>\n\n<p>I want to know how to configure a sentinel as master in order to add for below in application.property file.</p>\n\n<pre><code>spring.redis.sentinel.master=\nspring.redis.sentinel.nodes=\n</code></pre>\n\n<p>I have redis server 2.8.19 and spring boot 1.3.4, spring-data-redis 1.6.4 jars</p>\n"},{"tags":["java","mongodb","spring-data-mongodb","mongo-java-driver"],"owner":{"account_id":14085149,"reputation":21,"user_id":10175083,"display_name":"Kotagiri Sathwik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":587,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666543960,"creation_date":1628055709,"question_id":68645935,"body_markdown":"I&#39;m trying to use flapdoodle embedded mongodb for writing the unit tests. But I was receiving the following error. &quot;java.lang.NoSuchMethodErrror:&#39;com.mongodb.connection.ConnectionPoolSettings$Builder \r\n com.mongodb.connection.ConnectionPoolSettings$Builder.maxWaitQueueSize(int)&quot;\r\n\r\nIs there any dependency I need to add here ? Is the code which I have written in @Before block correct. At the end I need MongoClient and MongoDatabse to pass to other method and test.\r\n\r\n\r\n\r\n\r\n\r\n    **MongoDBConfig file:**\r\n    \r\n    \r\n    import java.io.IOException;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.data.mongodb.core.MongoTemplate;\r\n    import org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\r\n    import com.mongodb.client.MongoClient;\r\n    import com.mongodb.client.MongoClients;\r\n \r\n    @EnableMongoRepositories\r\n    public class MongoDBConfig {\r\n    \t@Value(&quot;${mongo.db.url}&quot;)\r\n    \tprivate String MONGO_DB_URL;\r\n    \r\n    \t@Value((&quot;${mongo.db.port:27017}&quot;))\r\n    \tprivate int MONGO_DB_PORT;\r\n    \r\n    \t@Value(&quot;${mongo.db.name}&quot;)\r\n    \tprivate String MONGO_DB_NAME;\r\n    \r\n    \t@Bean\r\n    \tpublic MongoTemplate mongoTemplate() throws IOException {\r\n    \t\tMongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);\r\n            MongoTemplate mongoTemplate = new MongoTemplate(mongoClient, &quot;test&quot;);\r\n            return mongoTemplate;\r\n    \t}\r\n    }\r\n\r\n  \r\n\r\n    **UnitTestFile:**\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.util.stream.Collectors;\r\n    \r\n    import org.json.simple.parser.ParseException;\r\n    import org.junit.After;\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.data.mongodb.core.MongoTemplate;\r\n    import org.springframework.test.context.ActiveProfiles;\r\n    import org.springframework.test.context.ContextConfiguration;\r\n    import org.springframework.test.context.TestPropertySource;\r\n    import org.springframework.test.context.junit4.SpringRunner;\r\n    \r\n    import com.mongodb.MongoClient;\r\n    import com.mongodb.client.MongoDatabase;\r\n    import com.sap.crm.ana.gatewayservice.AnaGatewayServiceApplication;\r\n    \r\n    import de.flapdoodle.embed.mongo.MongodExecutable;\r\n    import de.flapdoodle.embed.mongo.MongodStarter;\r\n    import de.flapdoodle.embed.mongo.config.IMongodConfig;\r\n    import de.flapdoodle.embed.mongo.config.MongodConfigBuilder;\r\n    import de.flapdoodle.embed.mongo.config.Net;\r\n    import de.flapdoodle.embed.mongo.distribution.Version;\r\n    import de.flapdoodle.embed.process.runtime.Network;\r\n    \r\n    @SpringBootTest\r\n    @RunWith(SpringRunner.class)\r\n    @ContextConfiguration(classes = { MongoDBConfig.class })\r\n    @TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\r\n    public class CSNHandlerTestEmbeddedMongoDB {\r\n    \r\n    \tprivate CSNHandler handler;\r\n    \tprivate MongoClient mongoClient;\r\n    \tprivate MongoDatabase database;\r\n    \tprivate String model;\r\n    \tprivate MongodExecutable mongodExecutable;\r\n    \tprivate MongoTemplate mongoTemplate;\r\n    \r\n    \t@Before\r\n    \tpublic void setup() throws Exception {\r\n    \t\tMongodStarter starter = MongodStarter.getDefaultInstance();\r\n    \t\tString bindIp = &quot;localhost&quot;;\r\n    \t\tint port = 27017;\r\n    \t\tIMongodConfig mongodConfig = new MongodConfigBuilder().version(Version.Main.PRODUCTION)\r\n    \t\t\t\t.net(new Net(bindIp, port, Network.localhostIsIPv6())).build();\r\n    \t\tthis.mongoClient = new MongoClient(bindIp, port);\r\n    \t\tthis.database = mongoClient.getDatabase(&quot;test&quot;);\r\n    \t\tmongodExecutable = null;\r\n    \t\ttry {\r\n    \t\t\tmongodExecutable = starter.prepare(mongodConfig);\r\n    \t\t\tmongodExecutable.start();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t// log exception here\r\n    \t\t\tif (mongodExecutable != null)\r\n    \t\t\t\tmongodExecutable.stop();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void testCSNHandler() throws IOException, ParseException {\r\n    \t\t\r\n    \t\thandler = new CSNHandler(database);\r\n    \t\thandler.insertUpdateAnaModel(&quot;100&quot;, model);\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@After\r\n    \tpublic void teardown() throws Exception {\r\n    \t\tif (mongodExecutable != null)\r\n    \t\t\tmongodExecutable.stop();\r\n    \t}\r\n    }\r\n\r\n    **Dependencies:**\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\r\n    &lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\r\n    &lt;version&gt;3.12.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n","title":"java.lang.NoSuchMethodErrror:&#39;com.mongodb.connection.ConnectionPoolSettings$Builder","body":"<p>I'm trying to use flapdoodle embedded mongodb for writing the unit tests. But I was receiving the following error. &quot;java.lang.NoSuchMethodErrror:'com.mongodb.connection.ConnectionPoolSettings$Builder\ncom.mongodb.connection.ConnectionPoolSettings$Builder.maxWaitQueueSize(int)&quot;</p>\n<p>Is there any dependency I need to add here ? Is the code which I have written in @Before block correct. At the end I need MongoClient and MongoDatabse to pass to other method and test.</p>\n<pre><code>**MongoDBConfig file:**\n\n\nimport java.io.IOException;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.data.mongodb.core.MongoTemplate;\nimport org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\nimport com.mongodb.client.MongoClient;\nimport com.mongodb.client.MongoClients;\n\n@EnableMongoRepositories\npublic class MongoDBConfig {\n    @Value(&quot;${mongo.db.url}&quot;)\n    private String MONGO_DB_URL;\n\n    @Value((&quot;${mongo.db.port:27017}&quot;))\n    private int MONGO_DB_PORT;\n\n    @Value(&quot;${mongo.db.name}&quot;)\n    private String MONGO_DB_NAME;\n\n    @Bean\n    public MongoTemplate mongoTemplate() throws IOException {\n        MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);\n        MongoTemplate mongoTemplate = new MongoTemplate(mongoClient, &quot;test&quot;);\n        return mongoTemplate;\n    }\n}\n\n\n\n**UnitTestFile:**\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.util.stream.Collectors;\n\nimport org.json.simple.parser.ParseException;\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.data.mongodb.core.MongoTemplate;\nimport org.springframework.test.context.ActiveProfiles;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.TestPropertySource;\nimport org.springframework.test.context.junit4.SpringRunner;\n\nimport com.mongodb.MongoClient;\nimport com.mongodb.client.MongoDatabase;\nimport com.sap.crm.ana.gatewayservice.AnaGatewayServiceApplication;\n\nimport de.flapdoodle.embed.mongo.MongodExecutable;\nimport de.flapdoodle.embed.mongo.MongodStarter;\nimport de.flapdoodle.embed.mongo.config.IMongodConfig;\nimport de.flapdoodle.embed.mongo.config.MongodConfigBuilder;\nimport de.flapdoodle.embed.mongo.config.Net;\nimport de.flapdoodle.embed.mongo.distribution.Version;\nimport de.flapdoodle.embed.process.runtime.Network;\n\n@SpringBootTest\n@RunWith(SpringRunner.class)\n@ContextConfiguration(classes = { MongoDBConfig.class })\n@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\npublic class CSNHandlerTestEmbeddedMongoDB {\n\n    private CSNHandler handler;\n    private MongoClient mongoClient;\n    private MongoDatabase database;\n    private String model;\n    private MongodExecutable mongodExecutable;\n    private MongoTemplate mongoTemplate;\n\n    @Before\n    public void setup() throws Exception {\n        MongodStarter starter = MongodStarter.getDefaultInstance();\n        String bindIp = &quot;localhost&quot;;\n        int port = 27017;\n        IMongodConfig mongodConfig = new MongodConfigBuilder().version(Version.Main.PRODUCTION)\n                .net(new Net(bindIp, port, Network.localhostIsIPv6())).build();\n        this.mongoClient = new MongoClient(bindIp, port);\n        this.database = mongoClient.getDatabase(&quot;test&quot;);\n        mongodExecutable = null;\n        try {\n            mongodExecutable = starter.prepare(mongodConfig);\n            mongodExecutable.start();\n        } catch (Exception e) {\n            // log exception here\n            if (mongodExecutable != null)\n                mongodExecutable.stop();\n        }\n    }\n    \n    @Test\n    public void testCSNHandler() throws IOException, ParseException {\n        \n        handler = new CSNHandler(database);\n        handler.insertUpdateAnaModel(&quot;100&quot;, model);\n        \n    }\n\n    @After\n    public void teardown() throws Exception {\n        if (mongodExecutable != null)\n            mongodExecutable.stop();\n    }\n}\n\n**Dependencies:**\n\n&lt;dependency&gt;\n&lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\n&lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\n&lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n&lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n&lt;version&gt;3.12.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","pynetlogo"],"owner":{"account_id":14732502,"reputation":2758,"user_id":10639382,"display_name":"imantha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666543408,"creation_date":1666543408,"question_id":74172979,"body_markdown":"Hi I am trying to a run a library called `pyNetlogo` in m1 mac. However when I run `NetLogoLink` function I get the following error.\r\n\r\n```\r\nnetlogo = pyNetLogo.NetLogoLink(\r\n    gui = False,\r\n    netlogo_home = &quot;/Applications/NetLogo 6.0.3&quot;\r\n)\r\n```\r\n\r\n`FileNotFoundError: [Errno 2] JVM DLL not found: /Library/Java/JavaVirtualMachines/amazon-corretto-16.jdk/Contents/Home/lib/libjli.dylib`\r\n\r\nSince it seemed that JVM could not be found by the function I gave the path explicitly\r\n\r\n```\r\nnetlogo = pyNetLogo.NetLogoLink(\r\n    gui = False,\r\n    netlogo_home = &quot;/Applications/NetLogo 6.0.3&quot;,\r\n    jvm_home = &quot;/usr/bin/java&quot;\r\n)\r\n```\r\nHowever notw I get the following error and I am not too sure how to solve it.\r\n`RuntimeError: Unable to load symbol [JNI_CreateJavaVM], error = dlsym(0x201b1d2c0, JNI_CreateJavaVM): symbol not found`\r\n\r\nAny Idea how to fix it?","title":"RuntimeError: Unable to load symbol [JNI_CreateJavaVM], error = dlsym(0x201b1d2c0, JNI_CreateJavaVM): symbol not found","body":"<p>Hi I am trying to a run a library called <code>pyNetlogo</code> in m1 mac. However when I run <code>NetLogoLink</code> function I get the following error.</p>\n<pre><code>netlogo = pyNetLogo.NetLogoLink(\n    gui = False,\n    netlogo_home = &quot;/Applications/NetLogo 6.0.3&quot;\n)\n</code></pre>\n<p><code>FileNotFoundError: [Errno 2] JVM DLL not found: /Library/Java/JavaVirtualMachines/amazon-corretto-16.jdk/Contents/Home/lib/libjli.dylib</code></p>\n<p>Since it seemed that JVM could not be found by the function I gave the path explicitly</p>\n<pre><code>netlogo = pyNetLogo.NetLogoLink(\n    gui = False,\n    netlogo_home = &quot;/Applications/NetLogo 6.0.3&quot;,\n    jvm_home = &quot;/usr/bin/java&quot;\n)\n</code></pre>\n<p>However notw I get the following error and I am not too sure how to solve it.\n<code>RuntimeError: Unable to load symbol [JNI_CreateJavaVM], error = dlsym(0x201b1d2c0, JNI_CreateJavaVM): symbol not found</code></p>\n<p>Any Idea how to fix it?</p>\n"},{"tags":["javascript","java","truffle","graalvm"],"answers":[{"tags":[],"owner":{"account_id":3057856,"reputation":1337,"user_id":2591131,"accept_rate":75,"display_name":"Eric"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652725874,"creation_date":1652721788,"answer_id":72263215,"question_id":72246737,"body_markdown":"I&#39;ve finally found a way to pass an _array_ from the host to the guest - using `ProxyArray`.\r\n\r\nhttps://www.graalvm.org/22.1/reference-manual/embed-languages/#computed-arrays-using-polyglot-proxies\r\n\r\nReading through the Graalvm documentation and experimenting with the very primative examples they provide, I came up with the following changes to my `Services` class:\r\n\r\n```java\r\n    ArrayList&lt;String&gt; array = new ArrayList&lt;String&gt;();\r\n\r\n    @HostAccess.Export\r\n    public void prepareList()\r\n    {\r\n\t\tarray.add(&quot;s1&quot;);\r\n\t\tarray.add(&quot;s2&quot;);\r\n\t\tarray.add(&quot;s3&quot;);\r\n    }\r\n\r\n    @HostAccess.Export\r\n    public ProxyArray getArray()\r\n    {\r\n    \treturn new ProxyArray() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Object get( long index )\r\n\t\t\t{\r\n\t\t\t\treturn array.get((int)index);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void set( long index, Value value )\r\n\t\t\t{\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic long getSize()\r\n\t\t\t{\r\n\t\t\t\treturn array.size();\r\n\t\t\t}\r\n    \t};\r\n    }\r\n```\r\n\r\nAnd finally the guest call looks like this:\r\n\r\n```javascript\r\nservices.prepareList();\r\nvar a = services.getArray();\r\nb = &#39;&#39;;\r\nfor ( i = 0; i &lt; a.length; i++ ) b += a[i];\r\nservices.setMessage(&#39;&#39; + a + &#39; // &#39; + b)\r\n```\r\nAnd the value of the message is then as expected `&quot;[object Object] // s1s2s3&quot;`\r\n\r\nHope someone finds this useful ... and if you have a better way of returning objects (Array, Hashtable, whatever) post your answers here - thanks.","title":"GraalVM how to return an array from a method to the guest language?","body":"<p>I've finally found a way to pass an <em>array</em> from the host to the guest - using <code>ProxyArray</code>.</p>\n<p><a href=\"https://www.graalvm.org/22.1/reference-manual/embed-languages/#computed-arrays-using-polyglot-proxies\" rel=\"nofollow noreferrer\">https://www.graalvm.org/22.1/reference-manual/embed-languages/#computed-arrays-using-polyglot-proxies</a></p>\n<p>Reading through the Graalvm documentation and experimenting with the very primative examples they provide, I came up with the following changes to my <code>Services</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    ArrayList&lt;String&gt; array = new ArrayList&lt;String&gt;();\n\n    @HostAccess.Export\n    public void prepareList()\n    {\n        array.add(&quot;s1&quot;);\n        array.add(&quot;s2&quot;);\n        array.add(&quot;s3&quot;);\n    }\n\n    @HostAccess.Export\n    public ProxyArray getArray()\n    {\n        return new ProxyArray() {\n\n            @Override\n            public Object get( long index )\n            {\n                return array.get((int)index);\n            }\n\n            @Override\n            public void set( long index, Value value )\n            {\n                // TODO Auto-generated method stub\n            }\n\n            @Override\n            public long getSize()\n            {\n                return array.size();\n            }\n        };\n    }\n</code></pre>\n<p>And finally the guest call looks like this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>services.prepareList();\nvar a = services.getArray();\nb = '';\nfor ( i = 0; i &lt; a.length; i++ ) b += a[i];\nservices.setMessage('' + a + ' // ' + b)\n</code></pre>\n<p>And the value of the message is then as expected <code>&quot;[object Object] // s1s2s3&quot;</code></p>\n<p>Hope someone finds this useful ... and if you have a better way of returning objects (Array, Hashtable, whatever) post your answers here - thanks.</p>\n"},{"tags":[],"owner":{"account_id":13502007,"reputation":26,"user_id":9741203,"display_name":"Peterson Yuhala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666543342,"creation_date":1666542199,"answer_id":74172826,"question_id":72246737,"body_markdown":"\r\nFirst I would give a straight forward answer to your question. To pass an array from Java scope to the guest language scope, you can just send the Java array/list as input to the execute method. For example: \r\n\r\n```\r\nContext context = Context.newBuilder().allowAllAccess(true).build();\r\nint intArray[] = {1,2,3};\r\nValue ret = context.eval(&quot;js&quot;, &quot;(function getArray(a) {console.log(a[2]);})&quot;).execute(intArray);\r\n```\r\nThe above should print `3` in the JS scope.\r\n\r\nNow I decide to add the following paragraphs because after reading your code as well as those in some proposed answers, I think it could be of help.\r\n\r\nSay you have a Java code snippet like the one below which returns an array from the JS context.\r\n\r\n```\r\n\r\nValue val = context.eval(&quot;js&quot;, &quot;(function getArray() {return [1,2,3];})&quot;).execute();\r\n```\r\nIt is not possible to directly access the whole array object from `val` in the Java language scope because the memory layout of Java arrays is different from the memory layout of JS arrays. However you can obtain elements at different indices of the JS array from within the Java scope as follows:\r\n\r\n```\r\n int index2 = val.getArrayElement(2).asInt();\r\n System.out.println(index2);\r\n```\r\nThe above should print the value `3`. \r\n\r\nIn order to obtain the full array in the Java scope, you must do an explicit array copy. The classic way to do this is to leverage the technique described here: https://www.graalvm.org/sdk/javadoc/org/graalvm/polyglot/Value.html#as-org.graalvm.polyglot.TypeLiteral-\r\n\r\nUsing that technique one can define an `INTEGER_LIST` TypeLiteral as such:\r\n\r\n```\r\n   public static final TypeLiteral&lt;List&lt;Integer&gt;&gt; INTEGER_LIST =\r\n            new TypeLiteral&lt;List&lt;Integer&gt;&gt;() {};\r\n```\r\nAnd then return the polyglot Value as an `INTEGER_LIST` as follows:\r\n\r\n```\r\nList&lt;Integer&gt; intList = context.eval(&quot;js&quot;, &quot;(function getArray() {return [1,2,3];})&quot;).execute().as(INTEGER_LIST);        \r\nSystem.out.println(&quot;JS array in Java scope: &quot; + intList);\r\n```\r\nThe above print should produce: `[1,2,3]`. This strategy also does an explicit array copy in the back ground but it is neat, more or less. \r\n\r\nYou could apply exactly the same strategy for your String array, by defining a TypeLiteral like:\r\n\r\n```\r\n   public static final TypeLiteral&lt;List&lt;String&gt;&gt; STRING_LIST =\r\n            new TypeLiteral&lt;List&lt;STRING&gt;&gt;() {};\r\n```\r\nAnd obtaining the String list/array in Java scope via `...execute().as(STRING_LIST);`. This should give you your String array in the Java scope.\r\n\r\n\r\n\r\n\r\n\r\n","title":"GraalVM how to return an array from a method to the guest language?","body":"<p>First I would give a straight forward answer to your question. To pass an array from Java scope to the guest language scope, you can just send the Java array/list as input to the execute method. For example:</p>\n<pre><code>Context context = Context.newBuilder().allowAllAccess(true).build();\nint intArray[] = {1,2,3};\nValue ret = context.eval(&quot;js&quot;, &quot;(function getArray(a) {console.log(a[2]);})&quot;).execute(intArray);\n</code></pre>\n<p>The above should print <code>3</code> in the JS scope.</p>\n<p>Now I decide to add the following paragraphs because after reading your code as well as those in some proposed answers, I think it could be of help.</p>\n<p>Say you have a Java code snippet like the one below which returns an array from the JS context.</p>\n<pre><code>\nValue val = context.eval(&quot;js&quot;, &quot;(function getArray() {return [1,2,3];})&quot;).execute();\n</code></pre>\n<p>It is not possible to directly access the whole array object from <code>val</code> in the Java language scope because the memory layout of Java arrays is different from the memory layout of JS arrays. However you can obtain elements at different indices of the JS array from within the Java scope as follows:</p>\n<pre><code> int index2 = val.getArrayElement(2).asInt();\n System.out.println(index2);\n</code></pre>\n<p>The above should print the value <code>3</code>.</p>\n<p>In order to obtain the full array in the Java scope, you must do an explicit array copy. The classic way to do this is to leverage the technique described here: <a href=\"https://www.graalvm.org/sdk/javadoc/org/graalvm/polyglot/Value.html#as-org.graalvm.polyglot.TypeLiteral-\" rel=\"nofollow noreferrer\">https://www.graalvm.org/sdk/javadoc/org/graalvm/polyglot/Value.html#as-org.graalvm.polyglot.TypeLiteral-</a></p>\n<p>Using that technique one can define an <code>INTEGER_LIST</code> TypeLiteral as such:</p>\n<pre><code>   public static final TypeLiteral&lt;List&lt;Integer&gt;&gt; INTEGER_LIST =\n            new TypeLiteral&lt;List&lt;Integer&gt;&gt;() {};\n</code></pre>\n<p>And then return the polyglot Value as an <code>INTEGER_LIST</code> as follows:</p>\n<pre><code>List&lt;Integer&gt; intList = context.eval(&quot;js&quot;, &quot;(function getArray() {return [1,2,3];})&quot;).execute().as(INTEGER_LIST);        \nSystem.out.println(&quot;JS array in Java scope: &quot; + intList);\n</code></pre>\n<p>The above print should produce: <code>[1,2,3]</code>. This strategy also does an explicit array copy in the back ground but it is neat, more or less.</p>\n<p>You could apply exactly the same strategy for your String array, by defining a TypeLiteral like:</p>\n<pre><code>   public static final TypeLiteral&lt;List&lt;String&gt;&gt; STRING_LIST =\n            new TypeLiteral&lt;List&lt;STRING&gt;&gt;() {};\n</code></pre>\n<p>And obtaining the String list/array in Java scope via <code>...execute().as(STRING_LIST);</code>. This should give you your String array in the Java scope.</p>\n"}],"owner":{"account_id":3057856,"reputation":1337,"user_id":2591131,"accept_rate":75,"display_name":"Eric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":634,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666543342,"creation_date":1652603944,"question_id":72246737,"body_markdown":"I&#39;m playing around with GraalVM (Truffle) in OpenJDK 17, and would like to know what the correct way is to return values to the guest language from method calls? Right now I&#39;m struggling with passing a `String[]` array back.\r\n\r\n**Exmaple:**\r\n\r\nJava (host)\r\n```java\r\nclass Services\r\n{\r\n    Value message;\r\n\r\n    @HostAccess.Export\r\n    public String[] getArrayString()\r\n    {\r\n        return new String[]{&quot;s1&quot;, &quot;s2&quot;, &quot;s3&quot;};\r\n    }\r\n\r\n    @HostAccess.Export\r\n    public void setMessage( Value v )\r\n    {\r\n        message = v;\r\n        message.pin();\r\n    }\r\n}\r\n\r\n...\r\n\r\nString jsScript = &quot; ... &quot; // see below\r\ntry ( Context context = Context.newBuilder().allowHostAccess(HostAccess.SCOPED).build() )\r\n{\r\n    Services s = new Services();\r\n    context.getBindings(&quot;js&quot;).putMember(&quot;services&quot;, s);\r\n    context.eval(&quot;js&quot;, jsScript);\r\n}\r\n\r\n```\r\nJavaScript (guest)\r\n```js\r\nvar a = services.getArrayString();\r\nb = &#39;&#39;;\r\nfor ( var c in a ) b += c;\r\nservices.setMessage(&#39;&#39; + a + &#39; // &#39; + b)\r\n```\r\nThe final message value is `&quot;[object Object] // &quot;` (b is blank), however I expected something like `&quot;[object Object] // s1s2s3&quot;`.\r\n\r\nI&#39;ve also tried the return types `Object[]` and `ArrayList&lt;String&gt;`. I&#39;m not sure why I can&#39;t access the elements of the array, either I&#39;m not passing the array back correctly, or I&#39;m not accessing it correctly within the JavaScript script. The examples I&#39;ve found in the GraalVM docs are always about passing values directly from the host to the guest, but I&#39;d like to do it via a method call - how is that done?","title":"GraalVM how to return an array from a method to the guest language?","body":"<p>I'm playing around with GraalVM (Truffle) in OpenJDK 17, and would like to know what the correct way is to return values to the guest language from method calls? Right now I'm struggling with passing a <code>String[]</code> array back.</p>\n<p><strong>Exmaple:</strong></p>\n<p>Java (host)</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Services\n{\n    Value message;\n\n    @HostAccess.Export\n    public String[] getArrayString()\n    {\n        return new String[]{&quot;s1&quot;, &quot;s2&quot;, &quot;s3&quot;};\n    }\n\n    @HostAccess.Export\n    public void setMessage( Value v )\n    {\n        message = v;\n        message.pin();\n    }\n}\n\n...\n\nString jsScript = &quot; ... &quot; // see below\ntry ( Context context = Context.newBuilder().allowHostAccess(HostAccess.SCOPED).build() )\n{\n    Services s = new Services();\n    context.getBindings(&quot;js&quot;).putMember(&quot;services&quot;, s);\n    context.eval(&quot;js&quot;, jsScript);\n}\n\n</code></pre>\n<p>JavaScript (guest)</p>\n<pre class=\"lang-js prettyprint-override\"><code>var a = services.getArrayString();\nb = '';\nfor ( var c in a ) b += c;\nservices.setMessage('' + a + ' // ' + b)\n</code></pre>\n<p>The final message value is <code>&quot;[object Object] // &quot;</code> (b is blank), however I expected something like <code>&quot;[object Object] // s1s2s3&quot;</code>.</p>\n<p>I've also tried the return types <code>Object[]</code> and <code>ArrayList&lt;String&gt;</code>. I'm not sure why I can't access the elements of the array, either I'm not passing the array back correctly, or I'm not accessing it correctly within the JavaScript script. The examples I've found in the GraalVM docs are always about passing values directly from the host to the guest, but I'd like to do it via a method call - how is that done?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1666543231,"post_id":74172927,"comment_id":130957018,"body_markdown":"By using [for loop](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html).","body":"By using <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\" rel=\"nofollow noreferrer\">for loop</a>."},{"owner":{"account_id":26710334,"reputation":1,"user_id":20315827,"display_name":"Andrew_Lee996"},"score":0,"creation_date":1666545495,"post_id":74172927,"comment_id":130957582,"body_markdown":"please to look the image","body":"please to look the image"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666543310,"creation_date":1666543310,"answer_id":74172967,"question_id":74172927,"body_markdown":"The `for-each` loop hides the iterator (or index), use a traditional loop.\r\n\r\n\tfor (int i = 0; i &lt; EVENTS.length; i++) {\r\n\t\tSystem.out.printf(&quot;%d: %s%n&quot;, i, EVENTS[i]);\r\n\t}\r\n\r\n**or** you could keep your own additional counter. Like,\r\n\r\n\tint i = 0;\r\n\tfor (String s : EVENTS) {\r\n\t\tSystem.out.printf(&quot;%d: %s%n&quot;, i, s);\r\n\t\ti++;\r\n\t}\r\n","title":"How to prefix the contents of an array with java","body":"<p>The <code>for-each</code> loop hides the iterator (or index), use a traditional loop.</p>\n<pre><code>for (int i = 0; i &lt; EVENTS.length; i++) {\n    System.out.printf(&quot;%d: %s%n&quot;, i, EVENTS[i]);\n}\n</code></pre>\n<p><strong>or</strong> you could keep your own additional counter. Like,</p>\n<pre><code>int i = 0;\nfor (String s : EVENTS) {\n    System.out.printf(&quot;%d: %s%n&quot;, i, s);\n    i++;\n}\n</code></pre>\n"}],"owner":{"account_id":26710334,"reputation":1,"user_id":20315827,"display_name":"Andrew_Lee996"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1666544943,"answer_count":1,"score":-3,"last_activity_date":1666543310,"creation_date":1666543034,"question_id":74172927,"body_markdown":"So if you have an array of strings and the contents of the event how do you label the event number without an &quot;arraylist&quot; like the array in the picture.\r\n```\r\n    public static final String[] EVENTS = {\r\n            &quot;Breakfast at Tiffany&#39;s&quot;,\r\n            &quot;My Dinner with Andre&quot;,\r\n            &quot;Attack of the Killer Tomatoes!&quot;,\r\n            &quot;State Fair&quot;,\r\n            &quot;Go to White Castle with Harold and Kumar&quot;,\r\n            &quot;My Best Friend&#39;s Wedding&quot;,\r\n            &quot;Soylent Green for Lunch&quot;,\r\n            &quot;Groundhog Day&quot;,\r\n            &quot;The Arrival of a Train&quot;,\r\n            &quot;The Breakfast Club&quot;\r\n    };\r\n    public static void printMyEvenList(){\r\n\r\n        for(String i: EVENTS){\r\n            System.out.println(i);\r\n        }\r\n    }\r\n```\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IOKaD.png","title":"How to prefix the contents of an array with java","body":"<p>So if you have an array of strings and the contents of the event how do you label the event number without an &quot;arraylist&quot; like the array in the picture.</p>\n<pre><code>    public static final String[] EVENTS = {\n            &quot;Breakfast at Tiffany's&quot;,\n            &quot;My Dinner with Andre&quot;,\n            &quot;Attack of the Killer Tomatoes!&quot;,\n            &quot;State Fair&quot;,\n            &quot;Go to White Castle with Harold and Kumar&quot;,\n            &quot;My Best Friend's Wedding&quot;,\n            &quot;Soylent Green for Lunch&quot;,\n            &quot;Groundhog Day&quot;,\n            &quot;The Arrival of a Train&quot;,\n            &quot;The Breakfast Club&quot;\n    };\n    public static void printMyEvenList(){\n\n        for(String i: EVENTS){\n            System.out.println(i);\n        }\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/IOKaD.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666542866,"post_id":74172891,"comment_id":130956932,"body_markdown":"Please show us the code you have written.","body":"Please show us the code you have written."},{"owner":{"account_id":6897165,"reputation":7367,"user_id":5298696,"display_name":"CollinD"},"score":1,"creation_date":1666542996,"post_id":74172891,"comment_id":130956959,"body_markdown":"Post the code in your question, formatted properly, not as a comment.","body":"Post the code in your question, formatted properly, not as a comment."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1666543162,"post_id":74172891,"comment_id":130956993,"body_markdown":"To &quot;show the code&quot;, you should simply [Edit] your original question.  That allows &quot;code formatting&quot;.  I took the liberty of doing that for you.","body":"To &quot;show the code&quot;, you should simply <a href=\"https://stackoverflow.com/posts/74172891/edit\">Edit</a> your original question.  That allows &quot;code formatting&quot;.  I took the liberty of doing that for you."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666543046,"creation_date":1666543046,"answer_id":74172929,"question_id":74172891,"body_markdown":"Do the division once with variables declared as `int` and once with `float`. Then compare the results.\r\n\r\n```\r\nint a = 42;\r\nint b = 5;\r\nfloat result = a/b;\r\n```\r\n\r\n```\r\nfloat a = 42.0f;\r\nfloat b = 5.0f;\r\nfloat result = a/b;\r\n```\r\n\r\nOr as a self-contained function:\r\n\r\n```\r\nvoid compareDivision(final int a, final int b) {\r\n  float intResult = a/b;\r\n  float floatResult = (float)a/(float)b; // cast to float\r\n  if (intResult != floatResult) {\r\n    System.out.println(&quot;Results are different: &quot; + intResult + &quot; != &quot; + floatResult);\r\n  }\r\n}\r\n```\r\n\r\nBuilding on the code from your updated question:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    Scanner sc = new Scanner(System.in);\r\n    System.out.println(&quot;Please type the first number that you want be divided: &quot;);\r\n    int a = sc.nextInt();\r\n    float b = a;\r\n    System.out.println(&quot;Please type another number that you want to divide with:&quot;);\r\n    int c = sc.nextInt();\r\n    float d = c;\r\n\r\n    float intResult = a/c;\r\n    float floatResult = b/d;\r\n    if (intResult != floatResult) {\r\n        System.out.println(&quot;Results are different: &quot; + intResult + &quot; != &quot; + floatResult);\r\n    }\r\n}\r\n```","title":"How to check a division as a int and float at the same time?","body":"<p>Do the division once with variables declared as <code>int</code> and once with <code>float</code>. Then compare the results.</p>\n<pre><code>int a = 42;\nint b = 5;\nfloat result = a/b;\n</code></pre>\n<pre><code>float a = 42.0f;\nfloat b = 5.0f;\nfloat result = a/b;\n</code></pre>\n<p>Or as a self-contained function:</p>\n<pre><code>void compareDivision(final int a, final int b) {\n  float intResult = a/b;\n  float floatResult = (float)a/(float)b; // cast to float\n  if (intResult != floatResult) {\n    System.out.println(&quot;Results are different: &quot; + intResult + &quot; != &quot; + floatResult);\n  }\n}\n</code></pre>\n<p>Building on the code from your updated question:</p>\n<pre><code>public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    System.out.println(&quot;Please type the first number that you want be divided: &quot;);\n    int a = sc.nextInt();\n    float b = a;\n    System.out.println(&quot;Please type another number that you want to divide with:&quot;);\n    int c = sc.nextInt();\n    float d = c;\n\n    float intResult = a/c;\n    float floatResult = b/d;\n    if (intResult != floatResult) {\n        System.out.println(&quot;Results are different: &quot; + intResult + &quot; != &quot; + floatResult);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666543293,"creation_date":1666543293,"answer_id":74172964,"question_id":74172891,"body_markdown":"If you were to divide integers 5/2, then you would end up with 2.\r\n\r\nReverse the operation, multiply the result by the divisor, 2 * 2, and you end up with 4. Therefore your program should return false since it didn&#39;t equal the dividend, 5. ","title":"How to check a division as a int and float at the same time?","body":"<p>If you were to divide integers 5/2, then you would end up with 2.</p>\n<p>Reverse the operation, multiply the result by the divisor, 2 * 2, and you end up with 4. Therefore your program should return false since it didn't equal the dividend, 5.</p>\n"}],"owner":{"account_id":26709990,"reputation":9,"user_id":20315537,"display_name":"akinsavascii"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74172929,"answer_count":2,"score":-1,"last_activity_date":1666543293,"creation_date":1666542749,"question_id":74172891,"body_markdown":"i have a question that goes with: \r\n\r\n&gt; In Java, if we divide two integers, the result is another integer, but the result might not be correct. For example, 4/2 = 2, but 5/2 = 2.5 but in Java the result would be 2 when both 5 and 2 values are stored as integer values. The program should check if the numbers the result of the division is the same when the values are both integers and when they are floats.\r\n\r\n\r\nSo that I spend over 1 hour to figure this q but i have a problem with the ending part. What it meant in this part: &quot;The program should check if the numbers the result of the division is the same when the values are both integers and when they are floats.&quot; \r\n    \r\n\r\n    import java.util.Scanner;\r\n    class StartUp2{\r\n        public static void main(String[] args){\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.println(&quot;Please type the first number that you want be devided: &quot;);\r\n            int a = sc.nextInt();\r\n            float b = a;\r\n            System.out.println(&quot;Please type another number that you want to devide with:&quot;);\r\n            int c = sc.nextInt();\r\n            float d = c;\r\n\r\n        }\r\n    }\r\n","title":"How to check a division as a int and float at the same time?","body":"<p>i have a question that goes with:</p>\n<blockquote>\n<p>In Java, if we divide two integers, the result is another integer, but the result might not be correct. For example, 4/2 = 2, but 5/2 = 2.5 but in Java the result would be 2 when both 5 and 2 values are stored as integer values. The program should check if the numbers the result of the division is the same when the values are both integers and when they are floats.</p>\n</blockquote>\n<p>So that I spend over 1 hour to figure this q but i have a problem with the ending part. What it meant in this part: &quot;The program should check if the numbers the result of the division is the same when the values are both integers and when they are floats.&quot;</p>\n<pre><code>import java.util.Scanner;\nclass StartUp2{\n    public static void main(String[] args){\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Please type the first number that you want be devided: &quot;);\n        int a = sc.nextInt();\n        float b = a;\n        System.out.println(&quot;Please type another number that you want to devide with:&quot;);\n        int c = sc.nextInt();\n        float d = c;\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","static"],"answers":[{"comments":[{"owner":{"account_id":20948953,"reputation":33,"user_id":15391099,"display_name":"rasha"},"score":0,"creation_date":1666488517,"post_id":74168124,"comment_id":130948807,"body_markdown":"Okay that makes a lot of sense, thank you! What if I have static variables which I am currently setting in ```@PostConstruct ```method, if I remove ```@PostConstruct``` how can I initialize them with the static method call?","body":"Okay that makes a lot of sense, thank you! What if I have static variables which I am currently setting in <code>@PostConstruct </code>method, if I remove <code>@PostConstruct</code> how can I initialize them with the static method call?"},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1666489803,"post_id":74168124,"comment_id":130948937,"body_markdown":"The point of PostConstruct is again, that code gets called after a Bean has been constructed.  There is a reason to want the code in question to run at that time.  In your case, when do you want the code to run that sets the static variables?  I expect that it has something to do with when data is available.  You can go ahead and put PostConstruct on the method of one of your Beans, and then have that method set the static variables when it runs.  This is a fairly common thing to do if, especially if the Bean in question is required to be able to set the static variable to the right value.","body":"The point of PostConstruct is again, that code gets called after a Bean has been constructed.  There is a reason to want the code in question to run at that time.  In your case, when do you want the code to run that sets the static variables?  I expect that it has something to do with when data is available.  You can go ahead and put PostConstruct on the method of one of your Beans, and then have that method set the static variables when it runs.  This is a fairly common thing to do if, especially if the Bean in question is required to be able to set the static variable to the right value."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1666489950,"post_id":74168124,"comment_id":130948950,"body_markdown":"If your question is still unanswered (or poorly answered ;o) ), I would suggest that you post some code and explain a little more about what it is you&#39;re trying to accomplish.  The sample code you provide seems to be just for illustrating the concept.  Show us more about what you&#39;re really trying to do.","body":"If your question is still unanswered (or poorly answered ;o) ), I would suggest that you post some code and explain a little more about what it is you&#39;re trying to accomplish.  The sample code you provide seems to be just for illustrating the concept.  Show us more about what you&#39;re really trying to do."},{"owner":{"account_id":20948953,"reputation":33,"user_id":15391099,"display_name":"rasha"},"score":0,"creation_date":1666543174,"post_id":74168124,"comment_id":130956999,"body_markdown":"I just added more code to show what I am trying to accomplish. So basically &quot;SomeComponent&quot; is a helper class like ObjectUtils which has one public static method. This method is used to fetch a list of cached list. Hope my code is clearer now.","body":"I just added more code to show what I am trying to accomplish. So basically &quot;SomeComponent&quot; is a helper class like ObjectUtils which has one public static method. This method is used to fetch a list of cached list. Hope my code is clearer now."}],"tags":[],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666488105,"creation_date":1666488105,"answer_id":74168124,"question_id":74168098,"body_markdown":"No, `@PostConstruct` can not be applied to a static method.  The whole point of this annotation is to be called on a method of a Bean after the bean has been constructed.  In the case of a static method, there is no corresponding Bean (Java object) and so it doesn&#39;t make sense to have a static `@PostConstruct` method.","title":"Is @PostConstruct method called for a static method?","body":"<p>No, <code>@PostConstruct</code> can not be applied to a static method.  The whole point of this annotation is to be called on a method of a Bean after the bean has been constructed.  In the case of a static method, there is no corresponding Bean (Java object) and so it doesn't make sense to have a static <code>@PostConstruct</code> method.</p>\n"}],"owner":{"account_id":20948953,"reputation":33,"user_id":15391099,"display_name":"rasha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":593,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74168124,"answer_count":1,"score":1,"last_activity_date":1666543083,"creation_date":1666487418,"question_id":74168098,"body_markdown":"I am wondering whether @PostConstruct method is ever called when a static method from a component is called for e.g.\r\n\r\n```\r\n@Component\r\npublic class SomeComponent{\r\n    @Autowired\r\n    private SomeService someService;\r\n    @Autowired\r\n    private CacheManager cacheManager;\r\n    private static SomeService someService;\r\n    private static CacheManager cacheManager;\r\n    @PostConstruct\r\n    void init(){ \r\n    SomeComponent.someService = someService;\r\n    SomeComponent.cacheManager= cacheManager;// set up static variables\r\n    };\r\n\r\n    SomeComponent{};\r\n\r\n    public static List&lt;MyObjectDTO&gt; someStaticMethod (){\r\n    List&lt;MyObjectDTO&gt; returnList = new ArrayList&lt;MyObjectDTO&gt;();\r\n    returnList = getCacheList();\r\n    .\r\n    .\r\n    //does some more manipulation to that list\r\n    return returnList;\r\n   }\r\n   \r\n   private static List&lt;MyObjectDTO&gt; getCacheList() {\r\n   SomeComponent someComponent = new someComponent();\r\n   return someComponent.setAndGetCachedList();\r\n   }\r\n\r\n   private List&lt;MyObjectDTO&gt; setAndGetCachedList (){\r\n    ModelMapper modelMapper = new ModelMapper();\r\n    someService.getList(); //sets the cache first\r\n    Cache cache = cacheManager.getCache(&quot;MyCache&quot;);\r\n    Type list = new TypeToken&lt;List&lt;MyObjectDTO&gt;&gt;(){}.getType();\r\n    List&lt;MyObjectDTO&gt; cacheList = modelMapper.map(cache.get(SimpleKey.EMPTY).get(), list)); //maps the cached list to list of MyObjectDTO\r\n    return cacheList;\r\n   };\r\n}\r\n```\r\n```\r\n@Service\r\npublic class SomeService{\r\n\r\n    public method(){\r\n        SomeComponent.someStaticMethod(); //is @PostConstructor called here?\r\n    }\r\n}\r\n```\r\nIs @PostConstructor method ever called when the static method of the component is called above? If not, in what way can the @PostConstructor method be called? Much thanks!","title":"Is @PostConstruct method called for a static method?","body":"<p>I am wondering whether @PostConstruct method is ever called when a static method from a component is called for e.g.</p>\n<pre><code>@Component\npublic class SomeComponent{\n    @Autowired\n    private SomeService someService;\n    @Autowired\n    private CacheManager cacheManager;\n    private static SomeService someService;\n    private static CacheManager cacheManager;\n    @PostConstruct\n    void init(){ \n    SomeComponent.someService = someService;\n    SomeComponent.cacheManager= cacheManager;// set up static variables\n    };\n\n    SomeComponent{};\n\n    public static List&lt;MyObjectDTO&gt; someStaticMethod (){\n    List&lt;MyObjectDTO&gt; returnList = new ArrayList&lt;MyObjectDTO&gt;();\n    returnList = getCacheList();\n    .\n    .\n    //does some more manipulation to that list\n    return returnList;\n   }\n   \n   private static List&lt;MyObjectDTO&gt; getCacheList() {\n   SomeComponent someComponent = new someComponent();\n   return someComponent.setAndGetCachedList();\n   }\n\n   private List&lt;MyObjectDTO&gt; setAndGetCachedList (){\n    ModelMapper modelMapper = new ModelMapper();\n    someService.getList(); //sets the cache first\n    Cache cache = cacheManager.getCache(&quot;MyCache&quot;);\n    Type list = new TypeToken&lt;List&lt;MyObjectDTO&gt;&gt;(){}.getType();\n    List&lt;MyObjectDTO&gt; cacheList = modelMapper.map(cache.get(SimpleKey.EMPTY).get(), list)); //maps the cached list to list of MyObjectDTO\n    return cacheList;\n   };\n}\n</code></pre>\n<pre><code>@Service\npublic class SomeService{\n\n    public method(){\n        SomeComponent.someStaticMethod(); //is @PostConstructor called here?\n    }\n}\n</code></pre>\n<p>Is @PostConstructor method ever called when the static method of the component is called above? If not, in what way can the @PostConstructor method be called? Much thanks!</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":31518,"reputation":36053,"user_id":86604,"accept_rate":80,"display_name":"Ingo"},"score":2,"creation_date":1316595954,"post_id":7497199,"comment_id":9076758,"body_markdown":"&quot;•is faster to develop in thanks to it&#39;s dynamic nature&quot; testing and type error fixing is not part of development, right?","body":"&quot;•is faster to develop in thanks to it&#39;s dynamic nature&quot; testing and type error fixing is not part of development, right?"},{"owner":{"account_id":76141,"reputation":801361,"user_id":218196,"accept_rate":100,"display_name":"Felix Kling"},"score":0,"creation_date":1316596024,"post_id":7497199,"comment_id":9076777,"body_markdown":"Unless someone working for Google finds this question, you probably won&#39;t get *the* answer. Maybe the question is better phrased in a more generic way, something like *What are the advantages of XYZ on mobile platforms?*","body":"Unless someone working for Google finds this question, you probably won&#39;t get <i>the</i> answer. Maybe the question is better phrased in a more generic way, something like <i>What are the advantages of XYZ on mobile platforms?</i>"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":7,"creation_date":1316596279,"post_id":7497199,"comment_id":9076831,"body_markdown":"@FelixKling: I work for Google, but there&#39;s no way I&#39;m going to answer this question...","body":"@FelixKling: I work for Google, but there&#39;s no way I&#39;m going to answer this question..."},{"owner":{"account_id":398303,"reputation":27194,"user_id":762913,"accept_rate":75,"display_name":"pap"},"score":1,"creation_date":1316596522,"post_id":7497199,"comment_id":9076894,"body_markdown":"Statements not backed by facts are subjective. Nothing of what you wrote is anything except a statement of your personal opinion. Incidentally, I disagree with most of your opinions.\n\nThe only statement of objective character is that Google choose *JAVA* for Android, and this is incorrect. They developed a language called Dalvik, which is syntactically on conceptually near-equivalent with Java, but any similarities beyond that can only be assessed on a case-by-case basis.","body":"Statements not backed by facts are subjective. Nothing of what you wrote is anything except a statement of your personal opinion. Incidentally, I disagree with most of your opinions.  The only statement of objective character is that Google choose <i>JAVA</i> for Android, and this is incorrect. They developed a language called Dalvik, which is syntactically on conceptually near-equivalent with Java, but any similarities beyond that can only be assessed on a case-by-case basis."},{"owner":{"account_id":76141,"reputation":801361,"user_id":218196,"accept_rate":100,"display_name":"Felix Kling"},"score":0,"creation_date":1316596758,"post_id":7497199,"comment_id":9076958,"body_markdown":"@Jon: How could I forget :D (finds and is allowed to disclose this information ;)) Anyways, the question as it is was doomed to be closed...","body":"@Jon: How could I forget :D (finds and is allowed to disclose this information ;)) Anyways, the question as it is was doomed to be closed..."}],"answers":[{"tags":[],"owner":{"account_id":372833,"reputation":86879,"user_id":722121,"accept_rate":100,"display_name":"Gareth Latty"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1316596216,"creation_date":1316596216,"answer_id":7497295,"question_id":7497199,"body_markdown":"According to Google:\r\n\r\n&gt; We&#39;ve been over a bunch of [alternatives to Java], and think they all\r\n&gt; suck. We conclude that we need to negotiate a license for Java under\r\n&gt; the terms we need.\r\n[Source][1]\r\n\r\n\r\n  [1]: http://www.appleinsider.com/articles/11/08/06/google_fighting_to_suppress_evidence_android_willfully_infringed_upon_oracles_java.html\r\n\r\nIt&#39;s not a particularly descriptive why, but it&#39;s about as good as you&#39;ll get from Google, I&#39;d imagine.","title":"Why did Google choose Java for the Android Operating System?","body":"<p>According to Google:</p>\n\n<blockquote>\n  <p>We've been over a bunch of [alternatives to Java], and think they all\n  suck. We conclude that we need to negotiate a license for Java under\n  the terms we need.\n  <a href=\"http://www.appleinsider.com/articles/11/08/06/google_fighting_to_suppress_evidence_android_willfully_infringed_upon_oracles_java.html\">Source</a></p>\n</blockquote>\n\n<p>It's not a particularly descriptive why, but it's about as good as you'll get from Google, I'd imagine.</p>\n"},{"comments":[{"owner":{"account_id":68600,"reputation":6703,"user_id":200044,"accept_rate":92,"display_name":"Phyo Arkar Lwin"},"score":0,"creation_date":1364924634,"post_id":7497322,"comment_id":22417425,"body_markdown":"I believe this is the main reason. They uses python alot too , just see their cloud GAE. Python is most adopted there.","body":"I believe this is the main reason. They uses python alot too , just see their cloud GAE. Python is most adopted there."},{"owner":{"account_id":2585708,"reputation":3215,"user_id":2241463,"accept_rate":84,"display_name":"Piovezan"},"score":3,"creation_date":1448765757,"post_id":7497322,"comment_id":55714132,"body_markdown":"According to [Google&#39;s Andy Rubin](http://www.zdnet.com/article/trial-android-chief-on-why-java-was-picked-for-android/) Java was chosen due to _&quot;primarily the well-known brand name as well as compatibility being that it is a common language taught at universities worldwide.&quot;_","body":"According to <a href=\"http://www.zdnet.com/article/trial-android-chief-on-why-java-was-picked-for-android/\" rel=\"nofollow noreferrer\">Google&#39;s Andy Rubin</a> Java was chosen due to <i>&quot;primarily the well-known brand name as well as compatibility being that it is a common language taught at universities worldwide.&quot;</i>"}],"tags":[],"owner":{"account_id":55732,"reputation":75249,"user_id":166949,"accept_rate":90,"display_name":"steveha"},"comment_count":2,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1381810645,"creation_date":1316596348,"answer_id":7497322,"question_id":7497199,"body_markdown":"* Google, as a company, uses Java a lot.  The search features are written in Java.  As far as I can tell from the outside, Google *likes* Java.\r\n\r\n* For most tasks, Java is faster than Python.  I would rather work in Python, and I know how to write reasonably efficient Python, and yes PyPy is really shaking things up, but Google needed to provide a snappy experience on relatively underpowered phone processors so they likely didn&#39;t consider Python a contender.\r\n\r\n* Java, like Python, provides a great deal of isolation from details of the underlying hardware.  I think all Android phones are ARM-based, but in theory you could make an Android phone based on an x86 chip or something completely different, and as long as you do a good job of porting the Dalvik VM, your code will run.  (Aside from apps that have native ARM code compiled in, of course.)\r\n\r\nGoogle likes the Java language, but they chose to write their own VM (&quot;Dalvik&quot;) rather than license the Java VM.  Compiled Java can be directly translated into Dalvik bytecodes.  (Oracle sued Google over this.  Oracle lost the lawsuit.)","title":"Why did Google choose Java for the Android Operating System?","body":"<ul>\n<li><p>Google, as a company, uses Java a lot.  The search features are written in Java.  As far as I can tell from the outside, Google <em>likes</em> Java.</p></li>\n<li><p>For most tasks, Java is faster than Python.  I would rather work in Python, and I know how to write reasonably efficient Python, and yes PyPy is really shaking things up, but Google needed to provide a snappy experience on relatively underpowered phone processors so they likely didn't consider Python a contender.</p></li>\n<li><p>Java, like Python, provides a great deal of isolation from details of the underlying hardware.  I think all Android phones are ARM-based, but in theory you could make an Android phone based on an x86 chip or something completely different, and as long as you do a good job of porting the Dalvik VM, your code will run.  (Aside from apps that have native ARM code compiled in, of course.)</p></li>\n</ul>\n\n<p>Google likes the Java language, but they chose to write their own VM (\"Dalvik\") rather than license the Java VM.  Compiled Java can be directly translated into Dalvik bytecodes.  (Oracle sued Google over this.  Oracle lost the lawsuit.)</p>\n"}],"owner":{"account_id":99104,"reputation":2586,"user_id":267874,"display_name":"Paul-Sebastian Manole"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10596,"favorite_count":0,"down_vote_count":6,"up_vote_count":26,"closed_date":1316596252,"accepted_answer_id":7497295,"answer_count":2,"score":20,"last_activity_date":1666542949,"creation_date":1316595764,"question_id":7497199,"body_markdown":"Why did Google choose Java for the Android Operating System and not some other language?\r\n\r\nI have revisited this question 9 years later. I realize that this question invites a lot of debate and personal opinion. I want to try to and reframe this question if possible, so we keep personal opinions and preference out of it.\r\n\r\nWhy Java specifically? Was it because of technical merits? Was it because so many developers know Java? Was it because Java was actually the best **garbage-collected** language at the time? Or was it because that is what the initial developers chose and they had to stick with it once the project got officially picked up?\r\n\r\nI know that there are more *modern* languages available today then there were in 2008, when Android was first released. I don&#39;t know though how many viable alternatives to Java Google had in 2008. And I don&#39;t know much about the Java ecosystem, as I&#39;m not a Java developer. Was Java the best available open source alternative back then? Was it a good option because Sun was still developing it back then?\r\n\r\nThese are the kind of considerations I wanted to know about. Environmental constraints, technical constraints, etc. And I don&#39;t mean which language is better. I mean which language could have fit their needs better and why in the end they chose Java?","title":"Why did Google choose Java for the Android Operating System?","body":"<p>Why did Google choose Java for the Android Operating System and not some other language?</p>\n<p>I have revisited this question 9 years later. I realize that this question invites a lot of debate and personal opinion. I want to try to and reframe this question if possible, so we keep personal opinions and preference out of it.</p>\n<p>Why Java specifically? Was it because of technical merits? Was it because so many developers know Java? Was it because Java was actually the best <strong>garbage-collected</strong> language at the time? Or was it because that is what the initial developers chose and they had to stick with it once the project got officially picked up?</p>\n<p>I know that there are more <em>modern</em> languages available today then there were in 2008, when Android was first released. I don't know though how many viable alternatives to Java Google had in 2008. And I don't know much about the Java ecosystem, as I'm not a Java developer. Was Java the best available open source alternative back then? Was it a good option because Sun was still developing it back then?</p>\n<p>These are the kind of considerations I wanted to know about. Environmental constraints, technical constraints, etc. And I don't mean which language is better. I mean which language could have fit their needs better and why in the end they chose Java?</p>\n"},{"tags":["java","string","substring"],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1631871526,"creation_date":1631871526,"answer_id":69221134,"question_id":69221079,"body_markdown":"Don&#39;t reinvent the wheel. Instead of looping over the characters of the string, you could just use the [`contains`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html#contains(java.lang.CharSequence)) method:\r\n\r\n```\r\nif (name.contains(&quot;.&quot;)) {\r\n    // logic comes here...\r\n```","title":"Substring method to identify char value in string value","body":"<p>Don't reinvent the wheel. Instead of looping over the characters of the string, you could just use the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html#contains(java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>contains</code></a> method:</p>\n<pre><code>if (name.contains(&quot;.&quot;)) {\n    // logic comes here...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17113942,"reputation":623,"user_id":12383992,"display_name":"dbrewster"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631898085,"creation_date":1631898085,"answer_id":69227149,"question_id":69221079,"body_markdown":"While Mureinik is correct on the best way to accomplish your goal, the reason your function does not work is because of your ```else { break; } ``` statement.\r\n\r\n```break``` terminates the loop so unless the very first character is a ```.```, then the loop will exit immediately after the first iteration. When you want to increment the loop, the correct keyword is ```continue``` although it is unnecessary in this case because all of the logic is housed inside of the if statement. Since there is no other logic to avoid, you should delete the else statement.","title":"Substring method to identify char value in string value","body":"<p>While Mureinik is correct on the best way to accomplish your goal, the reason your function does not work is because of your <code>else { break; } </code> statement.</p>\n<p><code>break</code> terminates the loop so unless the very first character is a <code>.</code>, then the loop will exit immediately after the first iteration. When you want to increment the loop, the correct keyword is <code>continue</code> although it is unnecessary in this case because all of the logic is housed inside of the if statement. Since there is no other logic to avoid, you should delete the else statement.</p>\n"}],"owner":{"account_id":22550988,"reputation":53,"user_id":16740107,"display_name":"Brad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":69221134,"answer_count":2,"score":1,"last_activity_date":1666542813,"creation_date":1631871291,"question_id":69221079,"body_markdown":"I&#39;m having an issue with using the substring method to find a specific character in a string variable. Currently I have a for loop setup to loop over the length of a string variable named **name**. I then have my substring method inside of my if statement to find my specific character, in this case it is a &quot;.&quot;. \r\n\r\nI&#39;m not able to get this to work and would appreciate any help. Thank you.\r\n\r\n    System.out.println(&quot;\\nEnter name: &quot;);\r\n    String name = in.nextLine();\r\n    \r\n    int length = name.length();\r\n \r\n    for (int x = 0; x &lt; length; x++) {\r\n        \r\n        if(name.substring(x,x+1).equals(&quot;.&quot;)) {\r\n            \r\n            System.out.println(&quot;Error! - name can not contain (.) values\\n&quot;\r\n                             + &quot;***************************************************&quot;);\r\n            \r\n                System.out.println(&quot;\\nWould you like to capture another name?&quot; +\r\n                &quot;\\nEnter (1) to continue or any other key to exit&quot;);\r\n                String opt1 = in.nextLine();\r\n\r\n                    // If statement to run application from the start \r\n                    if (opt1.equals(&quot;1&quot;)) {\r\n           \r\n                         System.out.println(&quot;menu launch&quot;);\r\n                    }\r\n                    else { System.exit(0); }\r\n        }            \r\n        else { break; } \r\n    }","title":"Substring method to identify char value in string value","body":"<p>I'm having an issue with using the substring method to find a specific character in a string variable. Currently I have a for loop setup to loop over the length of a string variable named <strong>name</strong>. I then have my substring method inside of my if statement to find my specific character, in this case it is a &quot;.&quot;.</p>\n<p>I'm not able to get this to work and would appreciate any help. Thank you.</p>\n<pre><code>System.out.println(&quot;\\nEnter name: &quot;);\nString name = in.nextLine();\n\nint length = name.length();\n\nfor (int x = 0; x &lt; length; x++) {\n    \n    if(name.substring(x,x+1).equals(&quot;.&quot;)) {\n        \n        System.out.println(&quot;Error! - name can not contain (.) values\\n&quot;\n                         + &quot;***************************************************&quot;);\n        \n            System.out.println(&quot;\\nWould you like to capture another name?&quot; +\n            &quot;\\nEnter (1) to continue or any other key to exit&quot;);\n            String opt1 = in.nextLine();\n\n                // If statement to run application from the start \n                if (opt1.equals(&quot;1&quot;)) {\n       \n                     System.out.println(&quot;menu launch&quot;);\n                }\n                else { System.exit(0); }\n    }            \n    else { break; } \n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1666449971,"post_id":74162200,"comment_id":130942220,"body_markdown":"I don&#39;t think this is possible. And if it&#39;s possible, there&#39;s a risk that merging the entity would delete the entries that haven&#39;t been loaded. If you need this fine control over the data, you might want to not map the *tomany relationship and manage it manually.","body":"I don&#39;t think this is possible. And if it&#39;s possible, there&#39;s a risk that merging the entity would delete the entries that haven&#39;t been loaded. If you need this fine control over the data, you might want to not map the *tomany relationship and manage it manually."}],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666542250,"creation_date":1666540558,"answer_id":74172611,"question_id":74162200,"body_markdown":"You have different options depending on your exact constraints.\r\n\r\n## [You can use the `@Where` annotation][1]:\r\n```java\r\n@Data\r\n@Entity\r\npublic class SomeEntity {\r\n    @Id\r\n    private Long id;\r\n\r\n    @OneToMany\r\n    @Where(clause = &quot;version &lt; 10&quot;)\r\n    private List&lt;AnotherEntity&gt; anotherEntities = new ArrayList&lt;&gt;();\r\n    \r\n    @Version\r\n    private Long version;\r\n\r\n}\r\n```\r\n\r\n## [You can use a filter][2]:\r\n```java\r\n@Data\r\n@Entity\r\npublic class SomeEntity {\r\n    @Id\r\n    private Long id;\r\n\r\n    @OneToMany\r\n    @Filter(\r\n        name=&quot;latestVersions&quot;,\r\n        condition=&quot;version &lt; :version&quot;\r\n   )\r\n   private List&lt;AnotherEntity&gt; anotherEntities = new ArrayList&lt;&gt;();\r\n   \r\n}\r\n```\r\n\r\nYou can enable filters before running a query with the session:\r\n```java\r\nentityManager\r\n    .unwrap(Session.class)\r\n    .enableFilter(&quot;latestVersions&quot;)\r\n    .setParameter(&quot;version&quot;, 10);\r\n\r\nList&lt;Account&gt; accounts = entityManager.createQuery(\r\n    &quot;from SomeEntity se where se.id = 1&quot;, SomeEntity.class)\r\n.getResultList();\r\n```\r\n\r\n## You can map the association as bidirectional (or as a many-to-one)\r\n\r\n```\r\n@Data\r\n@Entity\r\npublic class SomeEntity {\r\n    @Id\r\n    private Long id;\r\n\r\n    @OneToMany(mappedBy = &quot;someEntity&quot;)\r\n    private List&lt;AnotherEntity&gt; anotherEntities = new ArrayList&lt;&gt;();\r\n    \r\n    @Version\r\n    private Long version;\r\n\r\n}\r\n\r\n@Data\r\n@Entity\r\npublic class AnotherEntity {\r\n    @Id\r\n    private Long id;\r\n\r\n    @Column\r\n    private String someField;\r\n    \r\n    @Column\r\n    private Long version;\r\n \r\n\r\n   @ManyToOne\r\n   private SomeEntity someEntity;\r\n}\r\n```\r\n\r\nNow you can get the list of entities using an HQL query:\r\n```\r\nfrom AnotherEntity ae where ae.someEntity.id = 1 and ae.version &lt; 10\r\n```\r\n\r\nWhen you want to create a new `AnotherEntity`, you can get `SomeEntity` from any element in the result list, or you can use `EntityManager#getReference` (and avoid running the query):\r\n```\r\nAnotherEntity ae = new AnotherEntity(...);\r\nae.setSomeEntity(em.getReference(SomeEntity.class, 1));\r\nem.persist(ae);\r\n```\r\n\r\nThe association is lazy, so Hibernate is not going to load the whole collection (unless you need to access it).\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#pc-where\r\n  [2]: https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#pc-filter","title":"Is there a way to retrieve an entity with list property but load the list with the last few entities?","body":"<p>You have different options depending on your exact constraints.</p>\n<h2><a href=\"https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#pc-where\" rel=\"nofollow noreferrer\">You can use the <code>@Where</code> annotation</a>:</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Entity\npublic class SomeEntity {\n    @Id\n    private Long id;\n\n    @OneToMany\n    @Where(clause = &quot;version &lt; 10&quot;)\n    private List&lt;AnotherEntity&gt; anotherEntities = new ArrayList&lt;&gt;();\n    \n    @Version\n    private Long version;\n\n}\n</code></pre>\n<h2><a href=\"https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#pc-filter\" rel=\"nofollow noreferrer\">You can use a filter</a>:</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Entity\npublic class SomeEntity {\n    @Id\n    private Long id;\n\n    @OneToMany\n    @Filter(\n        name=&quot;latestVersions&quot;,\n        condition=&quot;version &lt; :version&quot;\n   )\n   private List&lt;AnotherEntity&gt; anotherEntities = new ArrayList&lt;&gt;();\n   \n}\n</code></pre>\n<p>You can enable filters before running a query with the session:</p>\n<pre class=\"lang-java prettyprint-override\"><code>entityManager\n    .unwrap(Session.class)\n    .enableFilter(&quot;latestVersions&quot;)\n    .setParameter(&quot;version&quot;, 10);\n\nList&lt;Account&gt; accounts = entityManager.createQuery(\n    &quot;from SomeEntity se where se.id = 1&quot;, SomeEntity.class)\n.getResultList();\n</code></pre>\n<h2>You can map the association as bidirectional (or as a many-to-one)</h2>\n<pre><code>@Data\n@Entity\npublic class SomeEntity {\n    @Id\n    private Long id;\n\n    @OneToMany(mappedBy = &quot;someEntity&quot;)\n    private List&lt;AnotherEntity&gt; anotherEntities = new ArrayList&lt;&gt;();\n    \n    @Version\n    private Long version;\n\n}\n\n@Data\n@Entity\npublic class AnotherEntity {\n    @Id\n    private Long id;\n\n    @Column\n    private String someField;\n    \n    @Column\n    private Long version;\n \n\n   @ManyToOne\n   private SomeEntity someEntity;\n}\n</code></pre>\n<p>Now you can get the list of entities using an HQL query:</p>\n<pre><code>from AnotherEntity ae where ae.someEntity.id = 1 and ae.version &lt; 10\n</code></pre>\n<p>When you want to create a new <code>AnotherEntity</code>, you can get <code>SomeEntity</code> from any element in the result list, or you can use <code>EntityManager#getReference</code> (and avoid running the query):</p>\n<pre><code>AnotherEntity ae = new AnotherEntity(...);\nae.setSomeEntity(em.getReference(SomeEntity.class, 1));\nem.persist(ae);\n</code></pre>\n<p>The association is lazy, so Hibernate is not going to load the whole collection (unless you need to access it).</p>\n"}],"owner":{"account_id":15846606,"reputation":316,"user_id":11433749,"display_name":"Shayan Daneshvar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74172611,"answer_count":1,"score":0,"last_activity_date":1666542250,"creation_date":1666428754,"question_id":74162200,"body_markdown":"\r\n## Let&#39;s say I have the following entities in my application:\r\n\r\n```\r\n@Data\r\n@Entity\r\npublic class SomeEntity {\r\n    @Id\r\n    private Long id;\r\n\r\n    @OneToMany\r\n    private List&lt;AnotherEntity&gt; anotherEntities = new ArrayList&lt;&gt;();\r\n    \r\n    @Version\r\n    private Long version;\r\n\r\n}\r\n\r\n@Data\r\n@Entity\r\npublic class AnotherEntity {\r\n    @Id\r\n    private Long id;\r\n\r\n    @Column\r\n    private String someField;\r\n    \r\n    @Column\r\n    private Long version;\r\n  \r\n}\r\n```\r\n-----------------\r\n### Question 1:\r\nI want to load a SomeEntity with id = 1 for example, but I only want to load the anotherEntities partially, for example I only want the last 10 versions of it, what is the easiest and most straight forward way of doing it (with Hibernate/Spring Data JPA) with one request?\r\n\r\n### Question 2:\r\nI want to update the previously mentioned object and add a new AnotherEntity to the list, but the save(T t) method of JpaRepository saves the whole object and I lose the ones that weren&#39;t loaded. How can I save the object so that the version will be updated by Spring Data (Optimistic Locking) and the SomeEntity won&#39;t lose previous data?\r\n\r\n-----------------\r\n### Update 1:\r\nI am using Postgresql for database.","title":"Is there a way to retrieve an entity with list property but load the list with the last few entities?","body":"<h2>Let's say I have the following entities in my application:</h2>\n<pre><code>@Data\n@Entity\npublic class SomeEntity {\n    @Id\n    private Long id;\n\n    @OneToMany\n    private List&lt;AnotherEntity&gt; anotherEntities = new ArrayList&lt;&gt;();\n    \n    @Version\n    private Long version;\n\n}\n\n@Data\n@Entity\npublic class AnotherEntity {\n    @Id\n    private Long id;\n\n    @Column\n    private String someField;\n    \n    @Column\n    private Long version;\n  \n}\n</code></pre>\n<hr />\n<h3>Question 1:</h3>\n<p>I want to load a SomeEntity with id = 1 for example, but I only want to load the anotherEntities partially, for example I only want the last 10 versions of it, what is the easiest and most straight forward way of doing it (with Hibernate/Spring Data JPA) with one request?</p>\n<h3>Question 2:</h3>\n<p>I want to update the previously mentioned object and add a new AnotherEntity to the list, but the save(T t) method of JpaRepository saves the whole object and I lose the ones that weren't loaded. How can I save the object so that the version will be updated by Spring Data (Optimistic Locking) and the SomeEntity won't lose previous data?</p>\n<hr />\n<h3>Update 1:</h3>\n<p>I am using Postgresql for database.</p>\n"},{"tags":["java","spring","hibernate","spring-boot","hibernate-envers"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1489161909,"post_id":42722539,"comment_id":72565267,"body_markdown":"Stop mixing versions. You are mixing Spring Boot 1.5, 1.4 and 1.3 and with that are also mixing hibernate versions also due to the inclusion of `hibernate-spatial` all the `org.hibernate` versions need to have the same versions your mixture of different versions is causing errors.","body":"Stop mixing versions. You are mixing Spring Boot 1.5, 1.4 and 1.3 and with that are also mixing hibernate versions also due to the inclusion of <code>hibernate-spatial</code> all the <code>org.hibernate</code> versions need to have the same versions your mixture of different versions is causing errors."},{"owner":{"account_id":1887821,"reputation":2984,"user_id":1706691,"accept_rate":69,"display_name":"James"},"score":1,"creation_date":1494452816,"post_id":42722539,"comment_id":74840382,"body_markdown":"The Spring Boot plugin that you&#39;re using allows you to &quot;omit version numbers when declaring dependencies that are managed in the BOM&quot;. Take a look at [this](https://docs.spring.io/spring-boot/docs/current/reference/html/build-tool-plugins-gradle-plugin.html#build-tool-plugins-gradle-dependency-management). That should help to avoid mixing versions and produce a more concise and maintainable build script.","body":"The Spring Boot plugin that you&#39;re using allows you to &quot;omit version numbers when declaring dependencies that are managed in the BOM&quot;. Take a look at <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/build-tool-plugins-gradle-plugin.html#build-tool-plugins-gradle-dependency-management\" rel=\"nofollow noreferrer\">this</a>. That should help to avoid mixing versions and produce a more concise and maintainable build script."}],"answers":[{"tags":[],"owner":{"account_id":5395171,"reputation":3745,"user_id":4296607,"display_name":"JUAN CALVOPINA M"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492559789,"creation_date":1492559789,"answer_id":43484064,"question_id":42722539,"body_markdown":"I had the same problem, I solved adding the `hibernate-core` dependency, this dependency has the missing class (*SharedSessionContractImplementor*), so you can add it to your gradle file.\r\nI used the `hibernate-core 5.0.11.final` for `spring-boot 1.4.2.RELEASE`\r\n\r\n**Gradle:**\r\n\r\n    compile group: &#39;org.hibernate&#39;, name: &#39;hibernate-core&#39;, version: &#39;5.0.11.Final&#39;","title":"Spring boot + Envers ClassNotFoundException","body":"<p>I had the same problem, I solved adding the <code>hibernate-core</code> dependency, this dependency has the missing class (<em>SharedSessionContractImplementor</em>), so you can add it to your gradle file.\nI used the <code>hibernate-core 5.0.11.final</code> for <code>spring-boot 1.4.2.RELEASE</code></p>\n\n<p><strong>Gradle:</strong></p>\n\n<pre><code>compile group: 'org.hibernate', name: 'hibernate-core', version: '5.0.11.Final'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15733725,"reputation":359,"user_id":11353384,"display_name":"mohamed hamada"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666541998,"creation_date":1666541998,"answer_id":74172796,"question_id":42722539,"body_markdown":"In my case the solution is to use `spring-data-envers` instead of the original `hibernate-envers`\r\n\r\n`implementation &#39;org.springframework.data:spring-data-envers&#39;`\r\n","title":"Spring boot + Envers ClassNotFoundException","body":"<p>In my case the solution is to use <code>spring-data-envers</code> instead of the original <code>hibernate-envers</code></p>\n<p><code>implementation 'org.springframework.data:spring-data-envers'</code></p>\n"}],"owner":{"account_id":4131663,"reputation":51,"user_id":4797976,"display_name":"High5"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1884,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666541998,"creation_date":1489161302,"question_id":42722539,"body_markdown":"I&#39;m trying to wire in Hibernate Envers into my Spring Boot app, and I get this exception:\r\nI&#39;ve tried a lot of different dependencies for Envers, because this seems like dependency conflict issue, but nothing helped. \r\nWhen I start the app, everything is ok, but when I try to annotate class with @Audited this exception drops.\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean         with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/hibernate/engine/spi/SharedSessionContractImplementor\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:314) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1162) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1151) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.base.BaseApplication.main(BaseApplication.java:11) [main/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_111]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_111]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_111]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_111]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-1.3.0.RELEASE.jar:1.3.0.RELEASE]\r\n    Caused by: java.lang.NoClassDefFoundError: org/hibernate/engine/spi/SharedSessionContractImplementor\r\n    \tat org.hibernate.envers.boot.internal.EnversIntegrator.integrate(EnversIntegrator.java:94) ~[hibernate-envers-5.2.8.Final.jar:5.2.8.Final]\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:280) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:444) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:879) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:60) ~[spring-orm-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:353) ~[spring-orm-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:370) ~[spring-orm-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:359) ~[spring-orm-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \t... 21 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: org.hibernate.engine.spi.SharedSessionContractImplementor\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381) ~[na:1.8.0_111]\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[na:1.8.0_111]\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331) ~[na:1.8.0_111]\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[na:1.8.0_111]\r\n    \t... 31 common frames omitted\r\n\r\nMy application.properties \r\n   \r\n\r\n         \r\n            spring.profiles.active = dev\r\n            \r\n            \r\n        spring.datasource.testWhileIdle = true\r\n        spring.datasource.validationQuery = SELECT 1\r\n        \r\n        # ===============================\r\n        # = JPA / HIBERNATE\r\n        # ===============================\r\n        \r\n      \r\n        spring.jpa.show-sql = true\r\n        logging.level.org.hibernate.type.descriptor.sql=trace\r\n        \r\n        # Hibernate ddl auto (create, create-drop, update): with &quot;update&quot; the database\r\n        # schema will be automatically updated accordingly to java entities found in\r\n        # the project\r\n        spring.jpa.hibernate.ddl-auto = update\r\n        \r\n        # Allows Hibernate to generate SQL optimized for a particular DBMS\r\n        spring.jpa.properties.hibernate.dialect=org.hibernate.spatial.dialect.mysql.MySQL5InnoDBSpatialDialect\r\n        spring.jpa.database-platform = org.hibernate.spatial.dialect.mysql.MySQLSpatial56Dialect\r\n        spring.datasource.url = jdbc:mysql://localhost:3306/database\r\n        \r\n        # Username and secret\r\n        spring.datasource.username = root\r\n        spring.datasource.password = root\r\n        server.port=8082\r\n\r\nGradle build file:\r\n\r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;1.5.2.RELEASE&#39;\r\n    }\r\n    \r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n    apply plugin: &#39;idea&#39;\r\n    \r\n    jar {\r\n        baseName = &#39;Base&#39;\r\n        version = &#39;0.0.1-SNAPSHOT&#39;\r\n    }\r\n    \r\n    bootRun {\r\n        systemProperties = System.properties\r\n    }\r\n    \r\n    repositories {\r\n        mavenLocal()\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        compile group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-web&#39;, version:&#39;1.4.2.RELEASE&#39;\r\n        compile group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-jdbc&#39;, version:&#39;1.4.2.RELEASE&#39;\r\n        compile group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-data-jpa&#39;, version:&#39;1.4.2.RELEASE&#39;\r\n        compile group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-devtools&#39;, version: &#39;1.3.0.RELEASE&#39;\r\n        compile group: &#39;mysql&#39;, name: &#39;mysql-connector-java&#39;, version:&#39;5.1.40&#39;\r\n        compile group: &#39;org.modelmapper&#39;, name: &#39;modelmapper&#39;, version:&#39;0.7.5&#39;\r\n        compile group: &#39;com.vividsolutions&#39;, name: &#39;jts&#39;, version:&#39;1.13&#39;\r\n        compile group: &#39;com.bedatadriven&#39;, name: &#39;jackson-datatype-jts&#39;, version:&#39;2.3&#39;\r\n        compile group: &#39;org.hibernate&#39;, name: &#39;hibernate-spatial&#39;, version:&#39;5.0.11.Final&#39;\r\n        compile group: &#39;org.flywaydb&#39;, name: &#39;flyway-core&#39;, version:&#39;3.2.1&#39;\r\n        compile group: &#39;org.apache.commons&#39;, name: &#39;commons-email&#39;, version: &#39;1.4&#39;\r\n        compile group: &#39;org.apache.tomcat.embed&#39;, name: &#39;tomcat-embed-core&#39;, version: &#39;8.5.6&#39;\r\n        compile group: &#39;io.springfox&#39;, name: &#39;springfox-swagger2&#39;, version:&#39;2.4.0&#39;\r\n        compile group: &#39;io.springfox&#39;, name: &#39;springfox-swagger-ui&#39;, version:&#39;2.4.0&#39;\r\n        compile group: &#39;org.hibernate&#39;, name: &#39;hibernate-envers&#39;\r\n        testCompile group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-test&#39;, version:&#39;1.4.2.RELEASE&#39;\r\n    }\r\n    \r\n    task wrapper(type: Wrapper) {\r\n        gradleVersion = &#39;1.6&#39;\r\n    }\r\n\r\n\r\n\r\n","title":"Spring boot + Envers ClassNotFoundException","body":"<p>I'm trying to wire in Hibernate Envers into my Spring Boot app, and I get this exception:\nI've tried a lot of different dependencies for Envers, because this seems like dependency conflict issue, but nothing helped. \nWhen I start the app, everything is ok, but when I try to annotate class with @Audited this exception drops.</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean         with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/hibernate/engine/spi/SharedSessionContractImplementor\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1162) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1151) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.base.BaseApplication.main(BaseApplication.java:11) [main/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_111]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_111]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_111]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_111]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-1.3.0.RELEASE.jar:1.3.0.RELEASE]\nCaused by: java.lang.NoClassDefFoundError: org/hibernate/engine/spi/SharedSessionContractImplementor\n    at org.hibernate.envers.boot.internal.EnversIntegrator.integrate(EnversIntegrator.java:94) ~[hibernate-envers-5.2.8.Final.jar:5.2.8.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:280) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:444) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:879) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:60) ~[spring-orm-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:353) ~[spring-orm-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:370) ~[spring-orm-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:359) ~[spring-orm-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    ... 21 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.hibernate.engine.spi.SharedSessionContractImplementor\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381) ~[na:1.8.0_111]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[na:1.8.0_111]\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331) ~[na:1.8.0_111]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[na:1.8.0_111]\n    ... 31 common frames omitted\n</code></pre>\n\n<p>My application.properties </p>\n\n<pre><code>        spring.profiles.active = dev\n\n\n    spring.datasource.testWhileIdle = true\n    spring.datasource.validationQuery = SELECT 1\n\n    # ===============================\n    # = JPA / HIBERNATE\n    # ===============================\n\n\n    spring.jpa.show-sql = true\n    logging.level.org.hibernate.type.descriptor.sql=trace\n\n    # Hibernate ddl auto (create, create-drop, update): with \"update\" the database\n    # schema will be automatically updated accordingly to java entities found in\n    # the project\n    spring.jpa.hibernate.ddl-auto = update\n\n    # Allows Hibernate to generate SQL optimized for a particular DBMS\n    spring.jpa.properties.hibernate.dialect=org.hibernate.spatial.dialect.mysql.MySQL5InnoDBSpatialDialect\n    spring.jpa.database-platform = org.hibernate.spatial.dialect.mysql.MySQLSpatial56Dialect\n    spring.datasource.url = jdbc:mysql://localhost:3306/database\n\n    # Username and secret\n    spring.datasource.username = root\n    spring.datasource.password = root\n    server.port=8082\n</code></pre>\n\n<p>Gradle build file:</p>\n\n<pre><code>plugins {\n    id 'org.springframework.boot' version '1.5.2.RELEASE'\n}\n\napply plugin: 'java'\napply plugin: 'eclipse'\napply plugin: 'idea'\n\njar {\n    baseName = 'Base'\n    version = '0.0.1-SNAPSHOT'\n}\n\nbootRun {\n    systemProperties = System.properties\n}\n\nrepositories {\n    mavenLocal()\n    mavenCentral()\n}\n\ndependencies {\n    compile group: 'org.springframework.boot', name: 'spring-boot-starter-web', version:'1.4.2.RELEASE'\n    compile group: 'org.springframework.boot', name: 'spring-boot-starter-jdbc', version:'1.4.2.RELEASE'\n    compile group: 'org.springframework.boot', name: 'spring-boot-starter-data-jpa', version:'1.4.2.RELEASE'\n    compile group: 'org.springframework.boot', name: 'spring-boot-devtools', version: '1.3.0.RELEASE'\n    compile group: 'mysql', name: 'mysql-connector-java', version:'5.1.40'\n    compile group: 'org.modelmapper', name: 'modelmapper', version:'0.7.5'\n    compile group: 'com.vividsolutions', name: 'jts', version:'1.13'\n    compile group: 'com.bedatadriven', name: 'jackson-datatype-jts', version:'2.3'\n    compile group: 'org.hibernate', name: 'hibernate-spatial', version:'5.0.11.Final'\n    compile group: 'org.flywaydb', name: 'flyway-core', version:'3.2.1'\n    compile group: 'org.apache.commons', name: 'commons-email', version: '1.4'\n    compile group: 'org.apache.tomcat.embed', name: 'tomcat-embed-core', version: '8.5.6'\n    compile group: 'io.springfox', name: 'springfox-swagger2', version:'2.4.0'\n    compile group: 'io.springfox', name: 'springfox-swagger-ui', version:'2.4.0'\n    compile group: 'org.hibernate', name: 'hibernate-envers'\n    testCompile group: 'org.springframework.boot', name: 'spring-boot-starter-test', version:'1.4.2.RELEASE'\n}\n\ntask wrapper(type: Wrapper) {\n    gradleVersion = '1.6'\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"answers":[{"comments":[{"owner":{"account_id":19887841,"reputation":13,"user_id":14570507,"display_name":"Bence Katona"},"score":0,"creation_date":1666522472,"post_id":74170462,"comment_id":130952755,"body_markdown":"Thank you! I didnt see my mistake, so thanks a lot for pointing it out. Have a nice day!","body":"Thank you! I didnt see my mistake, so thanks a lot for pointing it out. Have a nice day!"}],"tags":[],"owner":{"account_id":25182377,"reputation":5871,"user_id":19023745,"display_name":"z.g.y"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666525997,"creation_date":1666521516,"answer_id":74170462,"question_id":74170427,"body_markdown":"Assuming your XML and other things are properly configured.\r\n\r\nBoth of these aren&#39;t doing anything,\r\n\r\n\r\n    kedvencEvszak.findViewById(R.id.kedvencEvszak);\r\n    tw.findViewById(R.id.textView);\r\n\r\nso when you do this\r\n\r\n    kedvencEvszak.startAnimation(anim);\r\n\r\n`kedvencEvszak` is **non-existent**, thats why you&#39;re getting an `NPE` exception.\r\n\r\nTry doing this instead,\r\n\r\n\r\n    kedvencEvszak = findViewById(R.id.kedvencEvszak);\r\n    tw = findViewById(R.id.textView);\r\n\r\nand afterwards, call the animation from `kedvencEvszak`\r\n\r\n    kedvencEvszak.startAnimation(anim);\r\n\r\nwhich in turn your posted `onCreate` code will become like this\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_evszak);\r\n        kedvencEvszak = findViewById(R.id.kedvencEvszak);\r\n        tw = findViewById(R.id.textView);\r\n        anim = AnimationUtils.loadAnimation(EvszakActivity.this, R.anim.kepanimacio);\r\n    \r\n        kedvencEvszak.startAnimation(anim);\r\n\r\n    }\r\n\r\n\r\n\r\nThe `TextView` `tw` doesn&#39;t have anything to do with `kedvencEvszak` throwing `NullPointerException`, but I added it to save you the headache just in case you decided to do something with it.\r\n\r\n\r\n\r\n","title":"Android app crashes when using rotate animation","body":"<p>Assuming your XML and other things are properly configured.</p>\n<p>Both of these aren't doing anything,</p>\n<pre><code>kedvencEvszak.findViewById(R.id.kedvencEvszak);\ntw.findViewById(R.id.textView);\n</code></pre>\n<p>so when you do this</p>\n<pre><code>kedvencEvszak.startAnimation(anim);\n</code></pre>\n<p><code>kedvencEvszak</code> is <strong>non-existent</strong>, thats why you're getting an <code>NPE</code> exception.</p>\n<p>Try doing this instead,</p>\n<pre><code>kedvencEvszak = findViewById(R.id.kedvencEvszak);\ntw = findViewById(R.id.textView);\n</code></pre>\n<p>and afterwards, call the animation from <code>kedvencEvszak</code></p>\n<pre><code>kedvencEvszak.startAnimation(anim);\n</code></pre>\n<p>which in turn your posted <code>onCreate</code> code will become like this</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_evszak);\n    kedvencEvszak = findViewById(R.id.kedvencEvszak);\n    tw = findViewById(R.id.textView);\n    anim = AnimationUtils.loadAnimation(EvszakActivity.this, R.anim.kepanimacio);\n\n    kedvencEvszak.startAnimation(anim);\n\n}\n</code></pre>\n<p>The <code>TextView</code> <code>tw</code> doesn't have anything to do with <code>kedvencEvszak</code> throwing <code>NullPointerException</code>, but I added it to save you the headache just in case you decided to do something with it.</p>\n"}],"owner":{"account_id":19887841,"reputation":13,"user_id":14570507,"display_name":"Bence Katona"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74170462,"answer_count":1,"score":1,"last_activity_date":1666541987,"creation_date":1666521219,"question_id":74170427,"body_markdown":"So I&#39;ve got this code, and tried to use rotate on my imageView, but it throws null when using findviewbyid, but I have it in the same class. I have a few separate activities in the same project, and this is one of them, which opens from the main activity\r\n```java\r\npackage com.example.gyakorlozh;\r\n\r\nImageView kedvencEvszak;\r\nTextView tw;\r\nAnimation anim;\r\n\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_evszak);\r\n    kedvencEvszak.findViewById(R.id.kedvencEvszak);\r\n    tw.findViewById(R.id.textView);\r\n    anim = AnimationUtils.loadAnimation(EvszakActivity.this, R.anim.kepanimacio);\r\n\r\n    kedvencEvszak.startAnimation(anim);\r\n\r\n}\r\n```\r\nAnd if I try to run it crashes, please help me solve this.\r\n\r\nThe animation is a simple rotate:\r\n```xml\r\n&lt;rotate android:pivotY=&quot;50%&quot;\r\n    android:pivotX=&quot;50%&quot;\r\n    android:fromDegrees=&quot;0&quot;\r\n    android:toDegrees=&quot;360&quot;\r\n    android:duration = &quot;2000&quot;\r\n    android:startOffset = &quot;3000&quot;/&gt;\r\n```","title":"Android app crashes when using rotate animation","body":"<p>So I've got this code, and tried to use rotate on my imageView, but it throws null when using findviewbyid, but I have it in the same class. I have a few separate activities in the same project, and this is one of them, which opens from the main activity</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.gyakorlozh;\n\nImageView kedvencEvszak;\nTextView tw;\nAnimation anim;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_evszak);\n    kedvencEvszak.findViewById(R.id.kedvencEvszak);\n    tw.findViewById(R.id.textView);\n    anim = AnimationUtils.loadAnimation(EvszakActivity.this, R.anim.kepanimacio);\n\n    kedvencEvszak.startAnimation(anim);\n\n}\n</code></pre>\n<p>And if I try to run it crashes, please help me solve this.</p>\n<p>The animation is a simple rotate:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;rotate android:pivotY=&quot;50%&quot;\n    android:pivotX=&quot;50%&quot;\n    android:fromDegrees=&quot;0&quot;\n    android:toDegrees=&quot;360&quot;\n    android:duration = &quot;2000&quot;\n    android:startOffset = &quot;3000&quot;/&gt;\n</code></pre>\n"},{"tags":["java","do-while"],"comments":[{"owner":{"account_id":769702,"reputation":5530,"user_id":1061193,"accept_rate":83,"display_name":"drum"},"score":1,"creation_date":1666478672,"post_id":74167578,"comment_id":130947723,"body_markdown":"Where are you stuck? Be specific.","body":"Where are you stuck? Be specific."},{"owner":{"account_id":23850345,"reputation":1,"user_id":17854360,"display_name":"fmellon99"},"score":0,"creation_date":1666478952,"post_id":74167578,"comment_id":130947753,"body_markdown":"When it comes to the doWhile loop.  How can I write code to calculate how many decrements of 5% it will take and how to keep track of the number of bounces","body":"When it comes to the doWhile loop.  How can I write code to calculate how many decrements of 5% it will take and how to keep track of the number of bounces"},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1666479029,"post_id":74167578,"comment_id":130947760,"body_markdown":"If the loop stopping depends on the value of `height`, then `height` needs to change within the loop.","body":"If the loop stopping depends on the value of <code>height</code>, then <code>height</code> needs to change within the loop."},{"owner":{"account_id":23850345,"reputation":1,"user_id":17854360,"display_name":"fmellon99"},"score":0,"creation_date":1666481148,"post_id":74167578,"comment_id":130948037,"body_markdown":"Ah Cheers, so I&#39;ve got that now.  How can I code so that each decrement is 5% though?Been messing around with a few different variations and getting no where.  I&#39;ve tried including the fivePer variable but not working","body":"Ah Cheers, so I&#39;ve got that now.  How can I code so that each decrement is 5% though?Been messing around with a few different variations and getting no where.  I&#39;ve tried including the fivePer variable but not working"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1666502280,"post_id":74167578,"comment_id":130949979,"body_markdown":"If the ball is dropped from a height of 100 feet, then, after the first bounce, will it rise to 95 feet? Assuming that it does, then after the second bounce will it rise to 90 feet or to 90.25 feet (i.e. 5% of 95)?","body":"If the ball is dropped from a height of 100 feet, then, after the first bounce, will it rise to 95 feet? Assuming that it does, then after the second bounce will it rise to 90 feet or to 90.25 feet (i.e. 5% of 95)?"},{"owner":{"account_id":11373023,"reputation":4495,"user_id":8338100,"display_name":"jurez"},"score":1,"creation_date":1666503136,"post_id":74167578,"comment_id":130950059,"body_markdown":"Mathematically the ball will never stop bouncing because you are assuming there are no losses. You should set yourself a limit for how close to zero you want to get. Also, using float/double is a much more appropriate choice since you are talking about physical simulation.","body":"Mathematically the ball will never stop bouncing because you are assuming there are no losses. You should set yourself a limit for how close to zero you want to get. Also, using float/double is a much more appropriate choice since you are talking about physical simulation."}],"answers":[{"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":2,"creation_date":1666485694,"post_id":74167867,"comment_id":130948537,"body_markdown":"Your calculation reduces the height **to** 5% not **by** 5%.  And, of course, per Zeno&#39;s paradox, it&#39;ll never stop bouncing (except I suppose you&#39;ll eventually get floating underflow).","body":"Your calculation reduces the height <b>to</b> 5% not <b>by</b> 5%.  And, of course, per Zeno&#39;s paradox, it&#39;ll never stop bouncing (except I suppose you&#39;ll eventually get floating underflow)."}],"tags":[],"owner":{"account_id":24764408,"reputation":306,"user_id":18648400,"display_name":"Mirco0"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666541802,"creation_date":1666482913,"answer_id":74167867,"question_id":74167578,"body_markdown":"Instead of calculating the five percent of the height and subtracting at the end, you can just decrease the height by 5% everytime until it reaches 0.\r\n\r\nWhat about \r\n\r\n    float height = key.nextInt();\r\n    int nBounces = 0;\r\n    while(height &gt; 0){\r\n    \theight *= 95 / 100; //decrease the height by 5%\r\n    \tnBounces++; //add a bounce\r\n    }\r\n    System.out.print(&quot;\\n\\tIt took  &quot; + nBounces);\r\n\r\nHope that helps!","title":"Java Program to calculate how many bounces it will take a ball to drop in 5% decrements. User will initially input the heigh","body":"<p>Instead of calculating the five percent of the height and subtracting at the end, you can just decrease the height by 5% everytime until it reaches 0.</p>\n<p>What about</p>\n<pre><code>float height = key.nextInt();\nint nBounces = 0;\nwhile(height &gt; 0){\n    height *= 95 / 100; //decrease the height by 5%\n    nBounces++; //add a bounce\n}\nSystem.out.print(&quot;\\n\\tIt took  &quot; + nBounces);\n</code></pre>\n<p>Hope that helps!</p>\n"},{"tags":[],"owner":{"account_id":472765,"reputation":22587,"user_id":881441,"display_name":"Stephen Quan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666504174,"creation_date":1666502953,"answer_id":74168862,"question_id":74167578,"body_markdown":"To get a feel of the algorithm, I mocked the following in Javascript. The important parts of the algorithm are:\r\n\r\n - height reduction of 5% is implemented as `h = h * 95 / 100`\r\n - there needs to be a terminating condition, i.e. threshold\r\n\r\nWhen you run the algorithm you see that counter reaches 77. Why is it so high? Well, this is attributed to the fact that (1) a height reduction of 5% is unrealistic, in practice, a figure of 50% is more realistic, (2) in practical physics, there is a drag that causes it to diminish faster and eventually rest. With zero resistance, theoretically, something could bounce forever - hence, it is important that the question is improved with a terminating condition.\r\n\r\nTo demonstrate the algorithm, I did write it in Javascript not Java, so that you can run it in the browser.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    let h = 50;        // initial height, say 50cm\r\n    let threshold = 1; // threshold height, say &lt;= 1cm\r\n    let count = 0;     // counter for bounces\r\n    while (h &gt; threshold) {\r\n        h = h * 95 / 100; // 5% height reduction\r\n        count++;\r\n        console.log(count, h);\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Java Program to calculate how many bounces it will take a ball to drop in 5% decrements. User will initially input the heigh","body":"<p>To get a feel of the algorithm, I mocked the following in Javascript. The important parts of the algorithm are:</p>\n<ul>\n<li>height reduction of 5% is implemented as <code>h = h * 95 / 100</code></li>\n<li>there needs to be a terminating condition, i.e. threshold</li>\n</ul>\n<p>When you run the algorithm you see that counter reaches 77. Why is it so high? Well, this is attributed to the fact that (1) a height reduction of 5% is unrealistic, in practice, a figure of 50% is more realistic, (2) in practical physics, there is a drag that causes it to diminish faster and eventually rest. With zero resistance, theoretically, something could bounce forever - hence, it is important that the question is improved with a terminating condition.</p>\n<p>To demonstrate the algorithm, I did write it in Javascript not Java, so that you can run it in the browser.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let h = 50;        // initial height, say 50cm\nlet threshold = 1; // threshold height, say &lt;= 1cm\nlet count = 0;     // counter for bounces\nwhile (h &gt; threshold) {\n    h = h * 95 / 100; // 5% height reduction\n    count++;\n    console.log(count, h);\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":23850345,"reputation":1,"user_id":17854360,"display_name":"fmellon99"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1666541802,"creation_date":1666478527,"question_id":74167578,"body_markdown":"So I have to write a short Java program which will input of the height a ball is dropped from.  Assuming that on each bounce the height reached reduces by 5%, output the number of bounces that occur before \r\nthe ball stops bouncing.\r\n\r\nI understand the logic of how to work this out but I cannot grasp how to put this into code. \r\n\r\nI have some unfinished code, but just hit a brick wall.  Any suggestions would be greatly appreciated.\r\n\r\n```java\r\npackage doWhileLoops;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Ex3 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner key = new Scanner(System.in);\r\n\t\tint height = 0, noBounces = 0, fivePer = 0;\r\n\t\tfivePer = height /100 * 5;\r\n\t\tSystem.out.print(&quot;\\n\\tEnter the height in feet that the ball will be dropped from: &quot;);\r\n\t\theight = key.nextInt();\r\n\t\tdo {\r\n\t\t\tSystem.out.print(&quot;\\n\\tIt took  &quot; + (height - fivePer));\r\n\t\t\tfivePer--;\r\n\t\t} while (height &gt; 0);\r\n\t}\r\n}\r\n```","title":"Java Program to calculate how many bounces it will take a ball to drop in 5% decrements. User will initially input the heigh","body":"<p>So I have to write a short Java program which will input of the height a ball is dropped from.  Assuming that on each bounce the height reached reduces by 5%, output the number of bounces that occur before\nthe ball stops bouncing.</p>\n<p>I understand the logic of how to work this out but I cannot grasp how to put this into code.</p>\n<p>I have some unfinished code, but just hit a brick wall.  Any suggestions would be greatly appreciated.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package doWhileLoops;\n\nimport java.util.Scanner;\n\npublic class Ex3 {\n\n    public static void main(String[] args) {\n        Scanner key = new Scanner(System.in);\n        int height = 0, noBounces = 0, fivePer = 0;\n        fivePer = height /100 * 5;\n        System.out.print(&quot;\\n\\tEnter the height in feet that the ball will be dropped from: &quot;);\n        height = key.nextInt();\n        do {\n            System.out.print(&quot;\\n\\tIt took  &quot; + (height - fivePer));\n            fivePer--;\n        } while (height &gt; 0);\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","comparator"],"comments":[{"owner":{"account_id":6528461,"reputation":3279,"user_id":5050431,"accept_rate":60,"display_name":"A_Arnold"},"score":0,"creation_date":1666538431,"post_id":74172306,"comment_id":130955926,"body_markdown":"You can convert everything to ASCII or unicode numbers, mod by m so that m = 0 and then sort and convert back.","body":"You can convert everything to ASCII or unicode numbers, mod by m so that m = 0 and then sort and convert back."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1666538556,"post_id":74172306,"comment_id":130955958,"body_markdown":"If two strings both contain &quot;m&quot;, or both do not contain &quot;m&quot;, how should they be sorted? Alphabetically?","body":"If two strings both contain &quot;m&quot;, or both do not contain &quot;m&quot;, how should they be sorted? Alphabetically?"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666540826,"creation_date":1666538632,"answer_id":74172353,"question_id":74172306,"body_markdown":"The natural order of `boolean` values is `false` -&gt; `true` (i.e. `false` comes first).\r\n\r\nYou need to change the condition of your Comparator to get elements containing `m` to be placed and the beginning of the sorted list:\r\n\r\n```\r\nComparator.comparing(s -&gt; !s.contains(&quot;m&quot;))\r\n```\r\n\r\nYou might want both groups of string (with and without `m`) to be sorted as well. For that you can use method [`thenComparing()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#thenComparing(java.util.Comparator)) which allow to build an aggregate Comparator based on several conditions:\r\n\r\n```\r\nComparator.comparing((String s) -&gt; !s.contains(&quot;m&quot;))\r\n    .thenComparing(Comparator.naturalOrder());\r\n```\r\n\r\n**Note** that when comparators are being chained together, the type inference mechanism fails to infer the types of arguments used in the chained methods based on the *target type* (i.e. the expected aggregate Comparator). And we need to either provide the types of argument in the lambda expression explicitly, like shown above `(String s) -&gt; ...`, or use a so-called *type-witness* `&lt;String, Boolean&gt;comparing(...)`.","title":"How to sort an array of Strings that contain &quot;m&quot; first, everything else second","body":"<p>The natural order of <code>boolean</code> values is <code>false</code> -&gt; <code>true</code> (i.e. <code>false</code> comes first).</p>\n<p>You need to change the condition of your Comparator to get elements containing <code>m</code> to be placed and the beginning of the sorted list:</p>\n<pre><code>Comparator.comparing(s -&gt; !s.contains(&quot;m&quot;))\n</code></pre>\n<p>You might want both groups of string (with and without <code>m</code>) to be sorted as well. For that you can use method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#thenComparing(java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>thenComparing()</code></a> which allow to build an aggregate Comparator based on several conditions:</p>\n<pre><code>Comparator.comparing((String s) -&gt; !s.contains(&quot;m&quot;))\n    .thenComparing(Comparator.naturalOrder());\n</code></pre>\n<p><strong>Note</strong> that when comparators are being chained together, the type inference mechanism fails to infer the types of arguments used in the chained methods based on the <em>target type</em> (i.e. the expected aggregate Comparator). And we need to either provide the types of argument in the lambda expression explicitly, like shown above <code>(String s) -&gt; ...</code>, or use a so-called <em>type-witness</em> <code>&lt;String, Boolean&gt;comparing(...)</code>.</p>\n"}],"owner":{"account_id":18542463,"reputation":3,"user_id":13510620,"display_name":"Marcus3w"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74172353,"answer_count":1,"score":0,"last_activity_date":1666540826,"creation_date":1666538243,"question_id":74172306,"body_markdown":"    String[] strArray = {&quot;xyz&quot;, &quot;aaazzz&quot;,&quot;abc&quot;,&quot;mft&quot;,&quot;gh&quot;,&quot;j&quot;, &quot;aaazaz&quot;, &quot;mm&quot;, &quot;am&quot;};\r\n    \r\n    Arrays.sort(strArray, Comparator.comparing((s) -&gt; s.contains(&quot;m&quot;)));\r\n    System.out.println(&quot;Array sorted by &#39;m&#39;: &quot; + Arrays.toString(strArray));\r\n    \r\nI have been able to get the array so that it is sorted using &#39;m&#39;, but the results are in defending order - as in all strings that contain &#39;m&#39; are at the end.\r\n\r\nMy print out reads;\r\n\r\n    Array sorted by &#39;m&#39;: [xyz, aaazzz, abc, gh, j, aaazaz, mft, mm, am]\r\n\r\nI have considered using indexOf() but I haven&#39;t been able to figure out a way to get this to work.\r\n\r\nMany thanks for any suggestions!","title":"How to sort an array of Strings that contain &quot;m&quot; first, everything else second","body":"<pre><code>String[] strArray = {&quot;xyz&quot;, &quot;aaazzz&quot;,&quot;abc&quot;,&quot;mft&quot;,&quot;gh&quot;,&quot;j&quot;, &quot;aaazaz&quot;, &quot;mm&quot;, &quot;am&quot;};\n\nArrays.sort(strArray, Comparator.comparing((s) -&gt; s.contains(&quot;m&quot;)));\nSystem.out.println(&quot;Array sorted by 'm': &quot; + Arrays.toString(strArray));\n</code></pre>\n<p>I have been able to get the array so that it is sorted using 'm', but the results are in defending order - as in all strings that contain 'm' are at the end.</p>\n<p>My print out reads;</p>\n<pre><code>Array sorted by 'm': [xyz, aaazzz, abc, gh, j, aaazaz, mft, mm, am]\n</code></pre>\n<p>I have considered using indexOf() but I haven't been able to figure out a way to get this to work.</p>\n<p>Many thanks for any suggestions!</p>\n"},{"tags":["java","spring-boot","unit-testing","mocking","mockito"],"answers":[{"comments":[{"owner":{"account_id":2324803,"reputation":2518,"user_id":2039574,"accept_rate":80,"display_name":"Euridice01"},"score":0,"creation_date":1666453370,"post_id":74163633,"comment_id":130942890,"body_markdown":"FlagsmithClient is still null. What could I be doing wrong above?","body":"FlagsmithClient is still null. What could I be doing wrong above?"},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1666454102,"post_id":74163633,"comment_id":130943072,"body_markdown":"@Euridice01 Doesn&#39;t look like the mock is being initialised. Try `FlagsmithClient flagsmithClient = Mockito.mock(FlagsmithClient .class);`. And... are you using Spring in your tests? Why adding so much complexity to something simple?","body":"@Euridice01 Doesn&#39;t look like the mock is being initialised. Try <code>FlagsmithClient flagsmithClient = Mockito.mock(FlagsmithClient .class);</code>. And... are you using Spring in your tests? Why adding so much complexity to something simple?"},{"owner":{"account_id":2324803,"reputation":2518,"user_id":2039574,"accept_rate":80,"display_name":"Euridice01"},"score":0,"creation_date":1666457550,"post_id":74163633,"comment_id":130943854,"body_markdown":"I added that line but when it goes to this line, it fails: flags.isFeatureEnabled(flag.toString()); because Flags isn&#39;t properly mocked. \n\nI&#39;m happy to start the test from scratch and understand how to properly set this up. Having a lot of difficulty.","body":"I added that line but when it goes to this line, it fails: flags.isFeatureEnabled(flag.toString()); because Flags isn&#39;t properly mocked.   I&#39;m happy to start the test from scratch and understand how to properly set this up. Having a lot of difficulty."},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1666458912,"post_id":74163633,"comment_id":130944167,"body_markdown":"@Euridice01 , how do you create `FlagsmithGateway` in your test ? I am suggesting to create it using a new constructor with explicitly pass the mocked `FlagsmithClient` into it. I just updated my answers to mentioned it more clearly. please check.","body":"@Euridice01 , how do you create <code>FlagsmithGateway</code> in your test ? I am suggesting to create it using a new constructor with explicitly pass the mocked <code>FlagsmithClient</code> into it. I just updated my answers to mentioned it more clearly. please check."},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1666459092,"post_id":74163633,"comment_id":130944207,"body_markdown":"Forget to mention in my original answer , in order to make `@Mock` to take effect , you have to make sure `@ExtendWith(MockitoExtension.class)` is annotated on your test class","body":"Forget to mention in my original answer , in order to make <code>@Mock</code> to take effect , you have to make sure <code>@ExtendWith(MockitoExtension.class)</code> is annotated on your test class"},{"owner":{"account_id":2324803,"reputation":2518,"user_id":2039574,"accept_rate":80,"display_name":"Euridice01"},"score":0,"creation_date":1666498176,"post_id":74163633,"comment_id":130949659,"body_markdown":"Hi all, I just updated my post with the latest changes. It&#39;s still failing because the `FlagsmithGateway` is null. Can you please review? I think we&#39;re getting close but still running into a few issues. Thanks again for your help!","body":"Hi all, I just updated my post with the latest changes. It&#39;s still failing because the <code>FlagsmithGateway</code> is null. Can you please review? I think we&#39;re getting close but still running into a few issues. Thanks again for your help!"},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1666522562,"post_id":74163633,"comment_id":130952768,"body_markdown":"You are using junit4 or junit5 actually? just noticed that you are actually using junit4 from the codes that you edit before ?","body":"You are using junit4 or junit5 actually? just noticed that you are actually using junit4 from the codes that you edit before ?"},{"owner":{"account_id":2324803,"reputation":2518,"user_id":2039574,"accept_rate":80,"display_name":"Euridice01"},"score":0,"creation_date":1666535181,"post_id":74163633,"comment_id":130955221,"body_markdown":"Sorry, we have both junit4 and junit 5 tests in our code. Since this will be new code, let&#39;s stick to junit 5. I double checked some of the imports and now the gateway is not null anymore but on the line above. I edited my post with some new details. Thanks again","body":"Sorry, we have both junit4 and junit 5 tests in our code. Since this will be new code, let&#39;s stick to junit 5. I double checked some of the imports and now the gateway is not null anymore but on the line above. I edited my post with some new details. Thanks again"},{"owner":{"account_id":2324803,"reputation":2518,"user_id":2039574,"accept_rate":80,"display_name":"Euridice01"},"score":0,"creation_date":1666536418,"post_id":74163633,"comment_id":130955498,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/248998/discussion-between-euridice01-and-ken-chan).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/248998/discussion-between-euridice01-and-ken-chan\">continue this discussion in chat</a>."},{"owner":{"account_id":2324803,"reputation":2518,"user_id":2039574,"accept_rate":80,"display_name":"Euridice01"},"score":0,"creation_date":1666537189,"post_id":74163633,"comment_id":130955675,"body_markdown":"Hey, I&#39;m an idiot. I removed the .mock(FlagsmithClient.class) above and now it&#39;s only using the @Mock and it&#39;s working now. My bad and thanks again for all your help! Really appreciate it! It was probably related to that and the junit 4/5 differences that made me pull hairs lol.","body":"Hey, I&#39;m an idiot. I removed the .mock(FlagsmithClient.class) above and now it&#39;s only using the @Mock and it&#39;s working now. My bad and thanks again for all your help! Really appreciate it! It was probably related to that and the junit 4/5 differences that made me pull hairs lol."}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":10,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666540771,"creation_date":1666442269,"answer_id":74163633,"question_id":74134061,"body_markdown":"To test `FlagsmithGateway` , you only need to verify if its methods interact correctly with its dependency (i.e. `FlagsmithClient`) such as if it really calls the expected method with the expected parameters .In this case, you just simply need to mock `FlagsmithClient` and stub its `getEnvironmentFlags()`.\r\n\r\nIn order to allow `FlagsmithGateway` able to use the mocked `FlagsmithClient` , you need to have some way to pass the `FlagsmithClient` into it. (e.g via constructor or setter). So firstly , I would refactor your  gateway a little bit such that it allows to create with `FlagsmithClient` through constructor directly. \r\n\r\n``` java\r\n@Gateway\r\npublic class FlagsmithGateway implements FlagsmithPort {\r\n\r\n    private final FlagsmithClient flagsmithClient; \r\n\r\n    @Autowired\r\n    public FlagsmithGateway(@Value(&quot;${flagsmith.apikey}&quot;) String flagsmithApiKey,\r\n                            @Value(&quot;${flagsmith.endpoint}&quot;) String flagsmithEndpoint) {\r\n        this(FlagsmithClient\r\n            .newBuilder()\r\n            .setApiKey(flagsmithApiKey)\r\n            .withApiUrl(flagsmithEndpoint)\r\n            .build());\r\n    }\r\n\r\n    public FlagsmithGateway(FlagsmithClient flagsmithClient) {\r\n        this.flagsmithClient = flagsmithClient;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd the test would use this constructor to create `FlagsmithGateway` : \r\n\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\npublic class FlagsmithGatewayTest extends GatewayIntegrationTest {\r\n\r\n    FlagsmithGateway flagsmithGateway;\r\n\r\n    @Mock\r\n    FlagsmithClient flagsmithClient;\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n        flagsmithGateway = new FlagsmithGateway(flagsmithClient);\r\n    }\r\n\r\n    @Test\r\n    public void isEnabled_shouldReturnWhetherFeatureIsEnabled() throws FlagsmithClientError {\r\n\r\n        Flags flags = defaultFlagHandler(&quot;test_toggle&quot;, true);\r\n        when(client.getEnvironmentFlags()).thenReturn(flags);\r\n        \r\n        FeatureFlags featureFlags = xxxxx //create it based on your logic\r\n\r\n        boolean result = flagsmithGateway.isEnabled(featureFlags);\r\n        assertThat(result).isTrue();\r\n    }\r\n\r\n}\r\n```\r\n\r\nPlease note that I am using the plain Mockito test to manually create a `FlagsmithGateway` but not using spring-boot-test mainly because the way that you setup in spring will make it to use the constructor \r\n\r\n``` java\r\nnew FlagsmithGateway(String flagsmithApiKey,String flagsmithEndpoint) \r\n```\r\n\r\nto create a `FlagsmithGateway` but it always hardcode to use the real `FlagsmithClient` instance.\r\n\r\n\r\nIf you really want to verify the codes in your original constructor works as expected , you can create another test for it : \r\n\r\n``` java\r\n@Test\r\npublic void flagsmithClientCreatedProperly(){\r\n   FlagsmithGateway gateway = new FlagsmithGateway(&quot;apiKey&quot; , &quot;http://foo&quot;);\r\n\r\n  //get the FlagsmithClient from  FlagsmithGateway and the assert tis apiKey and apiUrl \r\n}\r\n```\r\n\r\n\r\n","title":"How do I mock this client in Java?","body":"<p>To test <code>FlagsmithGateway</code> , you only need to verify if its methods interact correctly with its dependency (i.e. <code>FlagsmithClient</code>) such as if it really calls the expected method with the expected parameters .In this case, you just simply need to mock <code>FlagsmithClient</code> and stub its <code>getEnvironmentFlags()</code>.</p>\n<p>In order to allow <code>FlagsmithGateway</code> able to use the mocked <code>FlagsmithClient</code> , you need to have some way to pass the <code>FlagsmithClient</code> into it. (e.g via constructor or setter). So firstly , I would refactor your  gateway a little bit such that it allows to create with <code>FlagsmithClient</code> through constructor directly.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Gateway\npublic class FlagsmithGateway implements FlagsmithPort {\n\n    private final FlagsmithClient flagsmithClient; \n\n    @Autowired\n    public FlagsmithGateway(@Value(&quot;${flagsmith.apikey}&quot;) String flagsmithApiKey,\n                            @Value(&quot;${flagsmith.endpoint}&quot;) String flagsmithEndpoint) {\n        this(FlagsmithClient\n            .newBuilder()\n            .setApiKey(flagsmithApiKey)\n            .withApiUrl(flagsmithEndpoint)\n            .build());\n    }\n\n    public FlagsmithGateway(FlagsmithClient flagsmithClient) {\n        this.flagsmithClient = flagsmithClient;\n    }\n\n}\n</code></pre>\n<p>And the test would use this constructor to create <code>FlagsmithGateway</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\npublic class FlagsmithGatewayTest extends GatewayIntegrationTest {\n\n    FlagsmithGateway flagsmithGateway;\n\n    @Mock\n    FlagsmithClient flagsmithClient;\n\n    @BeforeEach\n    public void setup() {\n        flagsmithGateway = new FlagsmithGateway(flagsmithClient);\n    }\n\n    @Test\n    public void isEnabled_shouldReturnWhetherFeatureIsEnabled() throws FlagsmithClientError {\n\n        Flags flags = defaultFlagHandler(&quot;test_toggle&quot;, true);\n        when(client.getEnvironmentFlags()).thenReturn(flags);\n        \n        FeatureFlags featureFlags = xxxxx //create it based on your logic\n\n        boolean result = flagsmithGateway.isEnabled(featureFlags);\n        assertThat(result).isTrue();\n    }\n\n}\n</code></pre>\n<p>Please note that I am using the plain Mockito test to manually create a <code>FlagsmithGateway</code> but not using spring-boot-test mainly because the way that you setup in spring will make it to use the constructor</p>\n<pre class=\"lang-java prettyprint-override\"><code>new FlagsmithGateway(String flagsmithApiKey,String flagsmithEndpoint) \n</code></pre>\n<p>to create a <code>FlagsmithGateway</code> but it always hardcode to use the real <code>FlagsmithClient</code> instance.</p>\n<p>If you really want to verify the codes in your original constructor works as expected , you can create another test for it :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void flagsmithClientCreatedProperly(){\n   FlagsmithGateway gateway = new FlagsmithGateway(&quot;apiKey&quot; , &quot;http://foo&quot;);\n\n  //get the FlagsmithClient from  FlagsmithGateway and the assert tis apiKey and apiUrl \n}\n</code></pre>\n"}],"owner":{"account_id":2324803,"reputation":2518,"user_id":2039574,"accept_rate":80,"display_name":"Euridice01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1166,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74163633,"answer_count":1,"score":2,"last_activity_date":1666540771,"creation_date":1666235804,"question_id":74134061,"body_markdown":"I&#39;m trying to mock this flag client properly in Java but I&#39;m not sure how to do it. Normally, I would mock third party apis via WireMock (mock the call) and it will help me mock it and add a test for it. However, the actual call and logic is masked under this client object, I&#39;m not sure if I&#39;m mocking it properly. \r\n\r\nHere&#39;s some code from the docs: https://docs.flagsmith.com/clients/server-side#initialise-the-sdk\r\n\r\nI have this setup right now in my codebase however: \r\n\r\nImplementation: \r\n\r\n    @Gateway\r\n    public class FlagsmithGateway implements FlagsmithPort {\r\n    \r\n        private final FlagsmithClient flagsmithClient;\r\n    \r\n        @Autowired\r\n        public FlagsmithGateway(@Value(&quot;${flagsmith.environment.id}&quot;) String flagsmithEnvironmentId,\r\n                                @Value(&quot;${flagsmith.endpoint}&quot;) String flagsmithEndpoint) {\r\n    \r\n            this(FlagsmithClient\r\n                .newBuilder()\r\n                .setApiKey(flagsmithEnvironmentId)\r\n                .withApiUrl(flagsmithEndpoint)\r\n                .build());\r\n        }\r\n    \r\n        public FlagsmithGateway(FlagsmithClient flagsmithClient) {\r\n            this.flagsmithClient = flagsmithClient;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEnabled(FeatureFlags flag) throws FlagsmithClientError {\r\n            Flags flags = flagsmithClient.getEnvironmentFlags();\r\n            return flags.isFeatureEnabled(flag.toString());\r\n        }\r\n    \r\n        @Override\r\n        public boolean isDisabled(FeatureFlags flag) throws FlagsmithClientError {\r\n            Flags flags = flagsmithClient.getEnvironmentFlags();\r\n            return !flags.isFeatureEnabled(flag.toString());\r\n        }\r\n\r\n}\r\n\r\nTest class for implementation above: \r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class FlagsmithGatewayTest  {\r\n        \r\n        private FlagsmithGateway flagsmithGateway;\r\n    \r\n        @Mock\r\n        private FlagsmithClient flagsmithClient;\r\n    \r\n        @BeforeEach\r\n        public void setup() {\r\n            flagsmithGateway = new FlagsmithGateway(flagsmithClient);\r\n        }\r\n    \r\n        @Test\r\n        public void isEnabled_shouldReturnWhetherFeatureIsEnabled() throws FlagsmithClientError {\r\n            flagsmithClient = mock(FlagsmithClient.class);\r\n            Flags flags = setupFlags(&quot;test_toggle&quot;, true);\r\n    \r\n            when(flagsmithClient.getEnvironmentFlags()).thenReturn(flags);=\r\n    \r\n            boolean result = flagsmithGateway.isEnabled(FeatureFlags.TOGGLE_FOR_TESTS); \r\n\r\n            assertThat(result).isTrue();\r\n        }\r\n    \r\n        private static Flags setupFlags(String featureName, Boolean enabled) {\r\n            Flags flag = new Flags();\r\n            BaseFlag baseFlag = new BaseFlag();\r\n            Map&lt;String, BaseFlag&gt; someFlags = new HashMap&lt;&gt;();\r\n    \r\n            baseFlag.setFeatureName(featureName);\r\n            baseFlag.setEnabled(enabled);\r\n            someFlags.put(featureName,baseFlag);\r\n            flag.setFlags(someFlags);\r\n    \r\n            return flag;\r\n        }\r\n    }\r\n    \r\nEDIT: The code above almost works but on this line after calling `flagsmithGateway.isEnabled(FeatureFlags.TOGGLE_FOR_TESTS)` in the tests, I get this an NPE on this line. Flags is null\r\n\r\n    flags.isFeatureEnabled(flag.toString());\r\n\r\nAny reason why? I&#39;m using Junit 5. ","title":"How do I mock this client in Java?","body":"<p>I'm trying to mock this flag client properly in Java but I'm not sure how to do it. Normally, I would mock third party apis via WireMock (mock the call) and it will help me mock it and add a test for it. However, the actual call and logic is masked under this client object, I'm not sure if I'm mocking it properly.</p>\n<p>Here's some code from the docs: <a href=\"https://docs.flagsmith.com/clients/server-side#initialise-the-sdk\" rel=\"nofollow noreferrer\">https://docs.flagsmith.com/clients/server-side#initialise-the-sdk</a></p>\n<p>I have this setup right now in my codebase however:</p>\n<p>Implementation:</p>\n<pre><code>@Gateway\npublic class FlagsmithGateway implements FlagsmithPort {\n\n    private final FlagsmithClient flagsmithClient;\n\n    @Autowired\n    public FlagsmithGateway(@Value(&quot;${flagsmith.environment.id}&quot;) String flagsmithEnvironmentId,\n                            @Value(&quot;${flagsmith.endpoint}&quot;) String flagsmithEndpoint) {\n\n        this(FlagsmithClient\n            .newBuilder()\n            .setApiKey(flagsmithEnvironmentId)\n            .withApiUrl(flagsmithEndpoint)\n            .build());\n    }\n\n    public FlagsmithGateway(FlagsmithClient flagsmithClient) {\n        this.flagsmithClient = flagsmithClient;\n    }\n\n    @Override\n    public boolean isEnabled(FeatureFlags flag) throws FlagsmithClientError {\n        Flags flags = flagsmithClient.getEnvironmentFlags();\n        return flags.isFeatureEnabled(flag.toString());\n    }\n\n    @Override\n    public boolean isDisabled(FeatureFlags flag) throws FlagsmithClientError {\n        Flags flags = flagsmithClient.getEnvironmentFlags();\n        return !flags.isFeatureEnabled(flag.toString());\n    }\n</code></pre>\n<p>}</p>\n<p>Test class for implementation above:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class FlagsmithGatewayTest  {\n    \n    private FlagsmithGateway flagsmithGateway;\n\n    @Mock\n    private FlagsmithClient flagsmithClient;\n\n    @BeforeEach\n    public void setup() {\n        flagsmithGateway = new FlagsmithGateway(flagsmithClient);\n    }\n\n    @Test\n    public void isEnabled_shouldReturnWhetherFeatureIsEnabled() throws FlagsmithClientError {\n        flagsmithClient = mock(FlagsmithClient.class);\n        Flags flags = setupFlags(&quot;test_toggle&quot;, true);\n\n        when(flagsmithClient.getEnvironmentFlags()).thenReturn(flags);=\n\n        boolean result = flagsmithGateway.isEnabled(FeatureFlags.TOGGLE_FOR_TESTS); \n\n        assertThat(result).isTrue();\n    }\n\n    private static Flags setupFlags(String featureName, Boolean enabled) {\n        Flags flag = new Flags();\n        BaseFlag baseFlag = new BaseFlag();\n        Map&lt;String, BaseFlag&gt; someFlags = new HashMap&lt;&gt;();\n\n        baseFlag.setFeatureName(featureName);\n        baseFlag.setEnabled(enabled);\n        someFlags.put(featureName,baseFlag);\n        flag.setFlags(someFlags);\n\n        return flag;\n    }\n}\n</code></pre>\n<p>EDIT: The code above almost works but on this line after calling <code>flagsmithGateway.isEnabled(FeatureFlags.TOGGLE_FOR_TESTS)</code> in the tests, I get this an NPE on this line. Flags is null</p>\n<pre><code>flags.isFeatureEnabled(flag.toString());\n</code></pre>\n<p>Any reason why? I'm using Junit 5.</p>\n"},{"tags":["java","gradle","apache-camel","quarkus"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1666540015,"post_id":74172521,"comment_id":130956289,"body_markdown":"&quot;*Is it required to add the actual Camel dependencies in addition for all the Quarkus Camel dependencies I like to use?*&quot; - No, it is not. It should be pulled in transitively by the corresponding `camel-quarkus`-dependency (I think the `RouteBuilder` should be in `camel-quarkus-core`). Is this &quot;just&quot; IntelliJ complaining, or does the code not compile?","body":"&quot;<i>Is it required to add the actual Camel dependencies in addition for all the Quarkus Camel dependencies I like to use?</i>&quot; - No, it is not. It should be pulled in transitively by the corresponding <code>camel-quarkus</code>-dependency (I think the <code>RouteBuilder</code> should be in <code>camel-quarkus-core</code>). Is this &quot;just&quot; IntelliJ complaining, or does the code not compile?"},{"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"score":0,"creation_date":1666540436,"post_id":74172521,"comment_id":130956393,"body_markdown":"@Turing85 no the application does not build and complains about missing dependencies. I&#39;ve edited the original post and added the logs","body":"@Turing85 no the application does not build and complains about missing dependencies. I&#39;ve edited the original post and added the logs"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1666540540,"post_id":74172521,"comment_id":130956421,"body_markdown":"Looks like the dependency resolution does not work. Have you boostrapped the application via [`code.quarkus.io`](https://code.quarkus.io)?","body":"Looks like the dependency resolution does not work. Have you boostrapped the application via <a href=\"https://code.quarkus.io\" rel=\"nofollow noreferrer\"><code>code.quarkus.io</code></a>?"},{"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"score":0,"creation_date":1666540691,"post_id":74172521,"comment_id":130956453,"body_markdown":"No, I&#39;ve just dropped in the Camel dependencies and I&#39;m currently using the latest version 2.13.3. But I try to generate a sample project and look for differences","body":"No, I&#39;ve just dropped in the Camel dependencies and I&#39;m currently using the latest version 2.13.3. But I try to generate a sample project and look for differences"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1666540745,"post_id":74172521,"comment_id":130956467,"body_markdown":"I am pretty sure that something in the bom setup isn&#39;t right. I highly recommend to always start with a bootstrap from `code.quarkus.io`, and abstract from there.","body":"I am pretty sure that something in the bom setup isn&#39;t right. I highly recommend to always start with a bootstrap from <code>code.quarkus.io</code>, and abstract from there."},{"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"score":0,"creation_date":1666540799,"post_id":74172521,"comment_id":130956482,"body_markdown":"Yeah, it seems I do not have the camel bom in place `implementation enforcedPlatform(&quot;${quarkusPlatformGroupId}:quarkus-camel-bom:${quarkusPlatformVersion}&quot;)`","body":"Yeah, it seems I do not have the camel bom in place <code>implementation enforcedPlatform(&quot;${quarkusPlatformGroupId}:quarkus-camel-bo&zwnj;&#8203;m:${quarkusPlatformV&zwnj;&#8203;ersion}&quot;)</code>"}],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666540402,"creation_date":1666539873,"question_id":74172521,"body_markdown":"I was trying to use Apache Camel with Quarkus. These are my dependencies:\r\n\r\n```\r\n\r\ndependencies {\r\n    implementation(&quot;org.apache.camel.quarkus:camel-quarkus-http&quot;)\r\n    implementation(&quot;org.apache.camel.quarkus:camel-quarkus-rest&quot;)\r\n    implementation(&quot;org.apache.camel.quarkus:camel-quarkus-core&quot;)\r\n    implementation(&quot;org.apache.camel.quarkus:camel-quarkus-direct&quot;)\r\n    implementation(&quot;org.apache.camel.quarkus:camel-quarkus-caffeine&quot;)\r\n    implementation(&quot;org.apache.camel.quarkus:camel-quarkus-jackson&quot;)\r\n}\r\n```\r\n\r\n\r\nBut it seems this is not enough to use Camel, as the RouterBuilder class is not available.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThese are the logs from running `quarkusDev`\r\n```\r\n   &gt; Could not find org.apache.camel.quarkus:camel-quarkus-jackson:.\r\n     Required by:\r\n         project :applications:demo\r\n   &gt; Could not find org.apache.camel.quarkus:camel-quarkus-http:.\r\n     Required by:\r\n         project :applications:demo\r\n   &gt; Could not find org.apache.camel.quarkus:camel-quarkus-rest:.\r\n     Required by:\r\n         project :applications:demo\r\n   &gt; Could not find org.apache.camel.quarkus:camel-quarkus-core:.\r\n     Required by:\r\n         project :applications:demo\r\n   &gt; Could not find org.apache.camel.quarkus:camel-quarkus-direct:.\r\n     Required by:\r\n         project :applications:demo\r\n   &gt; Could not find org.apache.camel.quarkus:camel-quarkus-caffeine:.\r\n     Required by:\r\n         project :applications:demo\r\n   &gt; Could not find org.apache.camel.quarkus:camel-quarkus-caffeine-lrucache:.\r\n     Required by:\r\n         project :applications:demo\r\n\r\nPossible solution:\r\n - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\r\n\r\n```\r\n\r\n\r\n**Is it required to add the actual Camel dependencies in addition for all the Quarkus Camel dependencies I like to use?**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iUpyp.png","title":"Required dependencies using Quarkus and Apache Camel with Gradle","body":"<p>I was trying to use Apache Camel with Quarkus. These are my dependencies:</p>\n<pre><code>\ndependencies {\n    implementation(&quot;org.apache.camel.quarkus:camel-quarkus-http&quot;)\n    implementation(&quot;org.apache.camel.quarkus:camel-quarkus-rest&quot;)\n    implementation(&quot;org.apache.camel.quarkus:camel-quarkus-core&quot;)\n    implementation(&quot;org.apache.camel.quarkus:camel-quarkus-direct&quot;)\n    implementation(&quot;org.apache.camel.quarkus:camel-quarkus-caffeine&quot;)\n    implementation(&quot;org.apache.camel.quarkus:camel-quarkus-jackson&quot;)\n}\n</code></pre>\n<p>But it seems this is not enough to use Camel, as the RouterBuilder class is not available.</p>\n<p><a href=\"https://i.stack.imgur.com/iUpyp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iUpyp.png\" alt=\"enter image description here\" /></a></p>\n<p>These are the logs from running <code>quarkusDev</code></p>\n<pre><code>   &gt; Could not find org.apache.camel.quarkus:camel-quarkus-jackson:.\n     Required by:\n         project :applications:demo\n   &gt; Could not find org.apache.camel.quarkus:camel-quarkus-http:.\n     Required by:\n         project :applications:demo\n   &gt; Could not find org.apache.camel.quarkus:camel-quarkus-rest:.\n     Required by:\n         project :applications:demo\n   &gt; Could not find org.apache.camel.quarkus:camel-quarkus-core:.\n     Required by:\n         project :applications:demo\n   &gt; Could not find org.apache.camel.quarkus:camel-quarkus-direct:.\n     Required by:\n         project :applications:demo\n   &gt; Could not find org.apache.camel.quarkus:camel-quarkus-caffeine:.\n     Required by:\n         project :applications:demo\n   &gt; Could not find org.apache.camel.quarkus:camel-quarkus-caffeine-lrucache:.\n     Required by:\n         project :applications:demo\n\nPossible solution:\n - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\n\n</code></pre>\n<p><strong>Is it required to add the actual Camel dependencies in addition for all the Quarkus Camel dependencies I like to use?</strong></p>\n"},{"tags":["java","arraylist","hashmap"],"answers":[{"tags":[],"owner":{"account_id":480822,"reputation":48369,"user_id":894284,"accept_rate":75,"display_name":"Matt Fenwick"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1320163843,"creation_date":1320163843,"answer_id":7969340,"question_id":7969286,"body_markdown":"First, you have to lookup the correct `ArrayList` in the `HashMap`:\r\n\r\n    ArrayList&lt;String&gt; myAList = theHashMap.get(courseID)\r\n\r\nThen, add the new grade to the `ArrayList`:\r\n\r\n    myAList.add(newGrade)","title":"Java, How to add values to Array List used as value in HashMap","body":"<p>First, you have to lookup the correct <code>ArrayList</code> in the <code>HashMap</code>:</p>\n\n<pre><code>ArrayList&lt;String&gt; myAList = theHashMap.get(courseID)\n</code></pre>\n\n<p>Then, add the new grade to the <code>ArrayList</code>:</p>\n\n<pre><code>myAList.add(newGrade)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1685915,"reputation":2329,"user_id":1549219,"accept_rate":84,"display_name":"David"},"score":0,"creation_date":1382359267,"post_id":7969342,"comment_id":28915628,"body_markdown":"and how can i get the keys,values?","body":"and how can i get the keys,values?"},{"owner":{"account_id":1004269,"reputation":4294,"user_id":1018419,"display_name":"Mechkov"},"score":0,"creation_date":1382359411,"post_id":7969342,"comment_id":28915707,"body_markdown":"@David Use the HashMap&#39;s keySet() method. It will return all keys which in the above example would be Strings. Then for each key, you can get the corresponding ArrayList&lt;String&gt; by using the HashMap&#39;s get(key) method, where &#39;key&#39; is the keys you retrieved earlier. Hope this helps!","body":"@David Use the HashMap&#39;s keySet() method. It will return all keys which in the above example would be Strings. Then for each key, you can get the corresponding ArrayList&lt;String&gt; by using the HashMap&#39;s get(key) method, where &#39;key&#39; is the keys you retrieved earlier. Hope this helps!"},{"owner":{"account_id":1004269,"reputation":4294,"user_id":1018419,"display_name":"Mechkov"},"score":0,"creation_date":1455024543,"post_id":7969342,"comment_id":58296298,"body_markdown":"@greenhorn No problem!","body":"@greenhorn No problem!"}],"tags":[],"owner":{"account_id":1004269,"reputation":4294,"user_id":1018419,"display_name":"Mechkov"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1320163854,"creation_date":1320163854,"answer_id":7969342,"question_id":7969286,"body_markdown":"    String courseID = &quot;Comp-101&quot;;\r\n    List&lt;String&gt; scores = new ArrayList&lt;String&gt; ();\r\n    scores.add(&quot;100&quot;);\r\n    scores.add(&quot;90&quot;);\r\n    scores.add(&quot;80&quot;);\r\n    scores.add(&quot;97&quot;);\r\n\r\n    Map&lt;String, ArrayList&lt;String&gt;&gt; myMap = new HashMap&lt;String, ArrayList&lt;String&gt;&gt;();\r\n    myMap.put(courseID, scores);\r\n\r\nHope this helps!","title":"Java, How to add values to Array List used as value in HashMap","body":"<pre><code>String courseID = \"Comp-101\";\nList&lt;String&gt; scores = new ArrayList&lt;String&gt; ();\nscores.add(\"100\");\nscores.add(\"90\");\nscores.add(\"80\");\nscores.add(\"97\");\n\nMap&lt;String, ArrayList&lt;String&gt;&gt; myMap = new HashMap&lt;String, ArrayList&lt;String&gt;&gt;();\nmyMap.put(courseID, scores);\n</code></pre>\n\n<p>Hope this helps!</p>\n"},{"comments":[{"owner":{"account_id":465640,"reputation":1196,"user_id":869854,"accept_rate":64,"display_name":"eduardohl"},"score":0,"creation_date":1392829099,"post_id":7969379,"comment_id":33142021,"body_markdown":"There&#39;s also Spring MultiValueMap and LinkedMultiValueMap","body":"There&#39;s also Spring MultiValueMap and LinkedMultiValueMap"},{"owner":{"account_id":3983929,"reputation":2521,"user_id":3285138,"accept_rate":78,"display_name":"goelakash"},"score":0,"creation_date":1471596838,"post_id":7969379,"comment_id":65419551,"body_markdown":"Nice example, exactly what a Java n00b like me required.","body":"Nice example, exactly what a Java n00b like me required."}],"tags":[],"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"comment_count":2,"down_vote_count":0,"up_vote_count":51,"is_accepted":true,"score":51,"last_activity_date":1456265862,"creation_date":1320163973,"answer_id":7969379,"question_id":7969286,"body_markdown":"You could either use the Google Guava library, which has implementations for Multi-Value-Maps (Apache Commons Collections has also implementations, but without generics).\r\n\r\nHowever, if you don&#39;t want to use an external lib, then you would do something like this:\r\n\r\n    if (map.get(id) == null) { //gets the value for an id)\r\n        map.put(id, new ArrayList&lt;String&gt;()); //no ArrayList assigned, create new ArrayList\r\n    \r\n    map.get(id).add(value); //adds value to list.","title":"Java, How to add values to Array List used as value in HashMap","body":"<p>You could either use the Google Guava library, which has implementations for Multi-Value-Maps (Apache Commons Collections has also implementations, but without generics).</p>\n\n<p>However, if you don't want to use an external lib, then you would do something like this:</p>\n\n<pre><code>if (map.get(id) == null) { //gets the value for an id)\n    map.put(id, new ArrayList&lt;String&gt;()); //no ArrayList assigned, create new ArrayList\n\nmap.get(id).add(value); //adds value to list.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1320164013,"creation_date":1320164013,"answer_id":7969390,"question_id":7969286,"body_markdown":"First you retreieve the value (given a key) and then you add a new element to it\r\n\r\n\t\tArrayList&lt;String&gt; grades = examList.get(courseId);\r\n\t\tgrades.add(aGrade);\r\n","title":"Java, How to add values to Array List used as value in HashMap","body":"<p>First you retreieve the value (given a key) and then you add a new element to it</p>\n\n<pre><code>    ArrayList&lt;String&gt; grades = examList.get(courseId);\n    grades.add(aGrade);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2042397,"reputation":10132,"user_id":1834057,"accept_rate":51,"display_name":"Nicholas Hamilton"},"score":0,"creation_date":1512950133,"post_id":28232631,"comment_id":82449606,"body_markdown":"Is it necessary to put the arraylist back into the hashmap? or is an item added by reference?","body":"Is it necessary to put the arraylist back into the hashmap? or is an item added by reference?"},{"owner":{"account_id":1384119,"reputation":605,"user_id":1316503,"display_name":"Sandy Simonton"},"score":0,"creation_date":1690594440,"post_id":28232631,"comment_id":135379691,"body_markdown":"No, you don&#39;t have to put the list back in mapList, you can skip the final step listed here.","body":"No, you don&#39;t have to put the list back in mapList, you can skip the final step listed here."}],"tags":[],"owner":{"account_id":5659982,"reputation":184,"user_id":4477907,"display_name":"Chetan"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1422609530,"creation_date":1422609530,"answer_id":28232631,"question_id":7969286,"body_markdown":"* First create HashMap.\r\n\r\n    HashMap&lt;String, ArrayList&lt;String&gt;&gt; mapList = new HashMap&lt;String,arrayList&lt;String&gt;&gt;();\r\n    \r\n* Get value from HashMap against your input key.\r\n\r\n    ArrayList&lt;String&gt; arrayList = mapList.get(key);\r\n    \r\n* Add value to arraylist.\r\n\r\n    arrayList.add(addvalue);\r\n    \r\n* Then again put arraylist against that key value.\r\n    mapList.put(key,arrayList);\r\n\r\nIt will work.....","title":"Java, How to add values to Array List used as value in HashMap","body":"<ul>\n<li><p>First create HashMap.</p>\n\n<p>HashMap> mapList = new HashMap>();</p></li>\n<li><p>Get value from HashMap against your input key.</p>\n\n<p>ArrayList arrayList = mapList.get(key);</p></li>\n<li><p>Add value to arraylist.</p>\n\n<p>arrayList.add(addvalue);</p></li>\n<li><p>Then again put arraylist against that key value.\nmapList.put(key,arrayList);</p></li>\n</ul>\n\n<p>It will work.....</p>\n"},{"tags":[],"owner":{"account_id":15777236,"reputation":85,"user_id":11384733,"display_name":"Diacrome"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1666540346,"creation_date":1590443498,"answer_id":62011331,"question_id":7969286,"body_markdown":"Java 8+ has **[Map.compute][1]** for such cases:\r\n```java\r\nexamList.compute(courseId, (id, grades) -&gt;\r\n        grades != null ? grades : new ArrayList&lt;&gt;())\r\n    .add(value);\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#compute-K-java.util.function.BiFunction-","title":"Java, How to add values to Array List used as value in HashMap","body":"<p>Java 8+ has <strong><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#compute-K-java.util.function.BiFunction-\" rel=\"nofollow noreferrer\">Map.compute</a></strong> for such cases:</p>\n<pre class=\"lang-java prettyprint-override\"><code>examList.compute(courseId, (id, grades) -&gt;\n        grades != null ? grades : new ArrayList&lt;&gt;())\n    .add(value);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651350,"reputation":65,"user_id":5327333,"display_name":"Rod Efraim"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1644432615,"creation_date":1643943065,"answer_id":70980888,"question_id":7969286,"body_markdown":"Can also do this in Kotlin without using any external libraries.\r\n\r\n```\r\nvar hashMap : HashMap&lt;String, MutableList&lt;String&gt;&gt; = HashMap()\r\n\r\nif(hashMap.get(id) == null){\r\n        hashMap.put(id, mutableListOf&lt;String&gt;(&quot;yourString&quot;))\r\n} else{\r\n        hashMap.get(id)?.add(&quot;yourString&quot;)\r\n}\r\n\r\n```\r\n\r\n\r\n","title":"Java, How to add values to Array List used as value in HashMap","body":"<p>Can also do this in Kotlin without using any external libraries.</p>\n<pre><code>var hashMap : HashMap&lt;String, MutableList&lt;String&gt;&gt; = HashMap()\n\nif(hashMap.get(id) == null){\n        hashMap.put(id, mutableListOf&lt;String&gt;(&quot;yourString&quot;))\n} else{\n        hashMap.get(id)?.add(&quot;yourString&quot;)\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":268922,"reputation":113,"user_id":557968,"display_name":"sarath"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666503901,"creation_date":1666503901,"answer_id":74168933,"question_id":7969286,"body_markdown":"    HashMap&lt;String, ArrayList&lt;ObjectX&gt;&gt; objList = new HashMap&lt;&gt;();\r\n\r\n    if(objList.containsKey(key))\r\n       objList.get(key).add(Object1);\r\n    else\r\n       objList.put(key, new ArrayList&lt;ObjectX&gt;(Arrays.asList(Object1)));","title":"Java, How to add values to Array List used as value in HashMap","body":"<pre><code>HashMap&lt;String, ArrayList&lt;ObjectX&gt;&gt; objList = new HashMap&lt;&gt;();\n\nif(objList.containsKey(key))\n   objList.get(key).add(Object1);\nelse\n   objList.put(key, new ArrayList&lt;ObjectX&gt;(Arrays.asList(Object1)));\n</code></pre>\n"}],"owner":{"account_id":297070,"reputation":2168,"user_id":602385,"accept_rate":90,"display_name":"vedran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139797,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":7969379,"answer_count":8,"score":24,"last_activity_date":1666540346,"creation_date":1320163610,"question_id":7969286,"body_markdown":"What I have is a `HashMap&lt;String, ArrayList&lt;String&gt;&gt;` called `examList`. What I want to use it for is to save grades of each course a person is attending. So key for this `HashMap` is `couresID`, and value is a `ArrayList` of all grades (exam attempts) this person has made.\r\n\r\nThe problem is I know how to work with array lists and hashmaps normally, but I&#39;m not sure how to even begin with this example. So how would I, or example, add something to `ArrayList` inside `HashMap`?","title":"Java, How to add values to Array List used as value in HashMap","body":"<p>What I have is a <code>HashMap&lt;String, ArrayList&lt;String&gt;&gt;</code> called <code>examList</code>. What I want to use it for is to save grades of each course a person is attending. So key for this <code>HashMap</code> is <code>couresID</code>, and value is a <code>ArrayList</code> of all grades (exam attempts) this person has made.</p>\n\n<p>The problem is I know how to work with array lists and hashmaps normally, but I'm not sure how to even begin with this example. So how would I, or example, add something to <code>ArrayList</code> inside <code>HashMap</code>?</p>\n"},{"tags":["java","kotlin","events","event-handling","guava"],"answers":[{"comments":[{"owner":{"account_id":26709686,"reputation":25,"user_id":20315287,"display_name":"Bluecross"},"score":0,"creation_date":1666541981,"post_id":74172550,"comment_id":130956750,"body_markdown":"wow, that sad :(","body":"wow, that sad :("},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666542870,"post_id":74172550,"comment_id":130956933,"body_markdown":"What&#39;s so bad about creating objects?","body":"What&#39;s so bad about creating objects?"}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666540122,"creation_date":1666540122,"answer_id":74172550,"question_id":74172208,"body_markdown":"You don&#39;t.  You will need to use some other structure, like a `SharedFlow` -- though even there, you will have to create a subscription to the flow.","title":"Guava event subscribing in any place i want (java,kotlin)","body":"<p>You don't.  You will need to use some other structure, like a <code>SharedFlow</code> -- though even there, you will have to create a subscription to the flow.</p>\n"}],"owner":{"account_id":26709686,"reputation":25,"user_id":20315287,"display_name":"Bluecross"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666540122,"creation_date":1666537612,"question_id":74172208,"body_markdown":"I needed events in my application. I want to be able to subscribe to events in any class (or not in a class because I&#39;m using Kotlin) but guava eventbus seems to allow you to subscribe to events only in objects that are registered via \r\n\r\n&gt;`EventManager.register(SomeObject)`\r\n\r\nI tried doing this\r\n &gt;`EventManager.register(Any())`\r\n\r\n but it doesn&#39;t work. How do I subscribe to events if I don&#39;t want to register objects\r\n?","title":"Guava event subscribing in any place i want (java,kotlin)","body":"<p>I needed events in my application. I want to be able to subscribe to events in any class (or not in a class because I'm using Kotlin) but guava eventbus seems to allow you to subscribe to events only in objects that are registered via</p>\n<blockquote>\n<p><code>EventManager.register(SomeObject)</code></p>\n</blockquote>\n<p>I tried doing this</p>\n<blockquote>\n<p><code>EventManager.register(Any())</code></p>\n</blockquote>\n<p>but it doesn't work. How do I subscribe to events if I don't want to register objects\n?</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1666537854,"post_id":74172214,"comment_id":130955784,"body_markdown":"If you are using recursion then you don&#39;t need a loop here. Just try it without any loops and see how far you get.","body":"If you are using recursion then you don&#39;t need a loop here. Just try it without any loops and see how far you get."},{"owner":{"account_id":23675179,"reputation":27,"user_id":17701500,"display_name":"newsenpai"},"score":0,"creation_date":1666539008,"post_id":74172214,"comment_id":130956057,"body_markdown":"I&#39;ve replaced the &#39;while&#39; statement with the &#39;if&#39; statement. Now it returns the wrong root, but after debugging I saw that at the 5th iteration my root is correct, but for now, have no idea how to catch it.","body":"I&#39;ve replaced the &#39;while&#39; statement with the &#39;if&#39; statement. Now it returns the wrong root, but after debugging I saw that at the 5th iteration my root is correct, but for now, have no idea how to catch it."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1666539286,"post_id":74172214,"comment_id":130956112,"body_markdown":"Yes, it still has bugs. The comparisons where you are multiplying function outputs together don&#39;t make sense to me.","body":"Yes, it still has bugs. The comparisons where you are multiplying function outputs together don&#39;t make sense to me."},{"owner":{"account_id":23675179,"reputation":27,"user_id":17701500,"display_name":"newsenpai"},"score":0,"creation_date":1666539657,"post_id":74172214,"comment_id":130956219,"body_markdown":"Okay, I found the way out. The problem was ` double c = a`. Now it works, thanks!!","body":"Okay, I found the way out. The problem was ` double c = a`. Now it works, thanks!!"}],"answers":[{"tags":[],"owner":{"account_id":23675179,"reputation":27,"user_id":17701500,"display_name":"newsenpai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666539689,"creation_date":1666539689,"answer_id":74172493,"question_id":74172214,"body_markdown":"Okay, I found the way out.\r\n\r\n```\r\n    private double EPSILON = 0.25;\r\n    private int iteration = 0;\r\n    private double c = 1.0;\r\n\r\n    public double f(double x){\r\n        return x*x - 2;\r\n    }\r\n\r\n    public double bisection(double a, double b){ //main algorithm\r\n\r\n        iteration++;\r\n\r\n        if(f(a) * f(b) &gt;= 0){\r\n            return 0.0; // Wrong [a, b]\r\n        }\r\n\r\n        if((b-a) &gt;= EPSILON){\r\n\r\n            c = (a+b)/2; // middle point\r\n\r\n            if(f(c) == 0.0){ // that means middle point is the root\r\n                return c;\r\n            }\r\n            else if (f(c)*f(a) &lt; 0){\r\n                b = c;\r\n                bisection(a, b);\r\n            }\r\n            else {\r\n                a = c;\r\n                bisection(a, b);\r\n            }\r\n        }\r\n        return c;\r\n    }\r\n\r\n    public int getIteration(){\r\n        return iteration;\r\n    }\r\n}\r\n```\r\n","title":"JAVA Recursive bisection method","body":"<p>Okay, I found the way out.</p>\n<pre><code>    private double EPSILON = 0.25;\n    private int iteration = 0;\n    private double c = 1.0;\n\n    public double f(double x){\n        return x*x - 2;\n    }\n\n    public double bisection(double a, double b){ //main algorithm\n\n        iteration++;\n\n        if(f(a) * f(b) &gt;= 0){\n            return 0.0; // Wrong [a, b]\n        }\n\n        if((b-a) &gt;= EPSILON){\n\n            c = (a+b)/2; // middle point\n\n            if(f(c) == 0.0){ // that means middle point is the root\n                return c;\n            }\n            else if (f(c)*f(a) &lt; 0){\n                b = c;\n                bisection(a, b);\n            }\n            else {\n                a = c;\n                bisection(a, b);\n            }\n        }\n        return c;\n    }\n\n    public int getIteration(){\n        return iteration;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23675179,"reputation":27,"user_id":17701500,"display_name":"newsenpai"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666539689,"creation_date":1666537673,"question_id":74172214,"body_markdown":"```public class Bisection {\r\n\r\n    private double EPSILON = 0.25;\r\n    private int iteration = 0;\r\n\r\n    public double f(double x){\r\n        return x*x - 2;\r\n    }\r\n\r\n    public double bisection(double a, double b){ //main algorithm\r\n\r\n        iteration++;\r\n\r\n        if(f(a) * f(b) &gt;= 0){\r\n            return 0.0; // Wrong [a, b]\r\n        }\r\n\r\n        double c = a;\r\n        while((b-a) &gt;= EPSILON){\r\n\r\n            c = (a+b)/2; // middle point\r\n\r\n            if(f(c) == 0.0){ // that means middle point is the root\r\n                break;\r\n            }\r\n            else if (f(c)*f(a) &lt; 0){\r\n                b = c;\r\n                bisection(a, b); // continue calculating by recu\r\n            }\r\n            else{\r\n                a = c;\r\n                bisection(a, b);\r\n            }\r\n        }\r\n        return c;\r\n    }\r\n\r\n    public int getIteration(){\r\n        return iteration;\r\n    }\r\n}\r\n```\r\n\r\nI am dealing with a recursive bisection method/algorithm. I&#39;ve put my recursion in the else/else if statement and don&#39;t know if I&#39;m wrong or not. It also returns the correct root without recursion there, but the main issue is to do that with recursion.","title":"JAVA Recursive bisection method","body":"<pre><code>\n    private double EPSILON = 0.25;\n    private int iteration = 0;\n\n    public double f(double x){\n        return x*x - 2;\n    }\n\n    public double bisection(double a, double b){ //main algorithm\n\n        iteration++;\n\n        if(f(a) * f(b) &gt;= 0){\n            return 0.0; // Wrong [a, b]\n        }\n\n        double c = a;\n        while((b-a) &gt;= EPSILON){\n\n            c = (a+b)/2; // middle point\n\n            if(f(c) == 0.0){ // that means middle point is the root\n                break;\n            }\n            else if (f(c)*f(a) &lt; 0){\n                b = c;\n                bisection(a, b); // continue calculating by recu\n            }\n            else{\n                a = c;\n                bisection(a, b);\n            }\n        }\n        return c;\n    }\n\n    public int getIteration(){\n        return iteration;\n    }\n}\n</code></pre>\n<p>I am dealing with a recursive bisection method/algorithm. I've put my recursion in the else/else if statement and don't know if I'm wrong or not. It also returns the correct root without recursion there, but the main issue is to do that with recursion.</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":17966800,"reputation":409,"user_id":13056526,"display_name":"Alberto San Jos&#233;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666539670,"creation_date":1666539670,"answer_id":74172490,"question_id":74171232,"body_markdown":"The last part of the error finally gave me the hint: &quot; Please define the source explicitly.&quot;\r\nLooking at Mapstruct source I saw that it was trying to find an attribute in SourceBeanOne named &quot;targetListTransformedWithAnotherMethod&quot;. As there was not one, mapping was not possible and it failed saying &quot;[...] define the source explicitly&quot;.\r\nDespite none of the examples in [5.9. Mapping method selection based on qualifiers][1] indicated the source bean by means of the source parameter, I tried it and now it works.\r\n\r\nI leave here the final code of the mapper and a test, for reference. The code of the qualifier is the same as in the question above.\r\n\r\nThe mapper:\r\n\r\n    @Mapper(uses = SourceOneExtractor.class)\r\n    public interface TargetBeanMapper {\r\n        @Mapping(target = &quot;targetListTransformed&quot;, source= &quot;source1&quot;, qualifiedByName = {&quot;sourceOneTransformer&quot;, &quot;transformerOne&quot;})\r\n        @Mapping(target = &quot;targetListDirectMapping&quot;, source = &quot;source1.sourceListDirectMapping&quot;)\r\n        @Mapping(target = &quot;targetListTransformedWithAnotherMethod&quot;, source= &quot;source1&quot;, qualifiedByName = {&quot;sourceOneTransformer&quot;, &quot;transformerTwo&quot;})\r\n        @Mapping(target = &quot;targetString&quot;, source = &quot;source1.sourceString&quot;)\r\n        @Mapping(target = &quot;targetInteger&quot;, source = &quot;source2.sourceInteger&quot;)\r\n        TargetBean map (SourceBeanOne source1, SourceBeanTwo source2);\r\n}\r\n\r\nA sample test:\r\n\r\n    class TargetBeanMapperTest {\r\n\r\n        private static TargetBeanMapper mapper;\r\n\r\n        @BeforeAll\r\n        static void instantiateMapper() {\r\n\r\n            // instantiate mapper under test\r\n            mapper = Mappers.getMapper(TargetBeanMapper.class);\r\n        }\r\n\r\n        @Test\r\n        void map() {\r\n            final SourceBeanOne s1 = new SourceBeanOne(List.of(&quot;this&quot;, &quot;list&quot;, &quot;will be transformed&quot;),\r\n                    List.of(&quot;this&quot;, &quot;list&quot;, &quot;will be directly mapped&quot;),\r\n                &quot;sourceOneString&quot;);\r\n            final SourceBeanTwo s2 = new SourceBeanTwo(66);\r\n            final TargetBean t = mapper.map(s1, s2);\r\n            assertNotEquals(s1.getSourceListToTransform(), \r\n                t.getTargetListTransformed());  // check that source1 list has been transformed\r\n            assertEquals(List.of(&quot;one&quot;, &quot;two&quot;), t.getTargetListTransformed());\r\n            assertEquals(List.of(&quot;three&quot;, &quot;four&quot;), \r\n                t.getTargetListTransformedWithAnotherMethod());  // check that source1 list has been transformed\r\n            assertEquals(s1.getSourceListDirectMapping(), \r\n                t.getTargetListDirectMapping());\r\n            assertEquals(s1.getSourceString(), t.getTargetString());\r\n            assertEquals(s2.getSourceInteger(), t.getTargetInteger());\r\n        }\r\n    }\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#selection-based-on-qualifiers","title":"Cannot make work mapping method selection based on qualifiers","body":"<p>The last part of the error finally gave me the hint: &quot; Please define the source explicitly.&quot;\nLooking at Mapstruct source I saw that it was trying to find an attribute in SourceBeanOne named &quot;targetListTransformedWithAnotherMethod&quot;. As there was not one, mapping was not possible and it failed saying &quot;[...] define the source explicitly&quot;.\nDespite none of the examples in <a href=\"https://mapstruct.org/documentation/stable/reference/html/#selection-based-on-qualifiers\" rel=\"nofollow noreferrer\">5.9. Mapping method selection based on qualifiers</a> indicated the source bean by means of the source parameter, I tried it and now it works.</p>\n<p>I leave here the final code of the mapper and a test, for reference. The code of the qualifier is the same as in the question above.</p>\n<p>The mapper:</p>\n<pre><code>@Mapper(uses = SourceOneExtractor.class)\npublic interface TargetBeanMapper {\n    @Mapping(target = &quot;targetListTransformed&quot;, source= &quot;source1&quot;, qualifiedByName = {&quot;sourceOneTransformer&quot;, &quot;transformerOne&quot;})\n    @Mapping(target = &quot;targetListDirectMapping&quot;, source = &quot;source1.sourceListDirectMapping&quot;)\n    @Mapping(target = &quot;targetListTransformedWithAnotherMethod&quot;, source= &quot;source1&quot;, qualifiedByName = {&quot;sourceOneTransformer&quot;, &quot;transformerTwo&quot;})\n    @Mapping(target = &quot;targetString&quot;, source = &quot;source1.sourceString&quot;)\n    @Mapping(target = &quot;targetInteger&quot;, source = &quot;source2.sourceInteger&quot;)\n    TargetBean map (SourceBeanOne source1, SourceBeanTwo source2);\n</code></pre>\n<p>}</p>\n<p>A sample test:</p>\n<pre><code>class TargetBeanMapperTest {\n\n    private static TargetBeanMapper mapper;\n\n    @BeforeAll\n    static void instantiateMapper() {\n\n        // instantiate mapper under test\n        mapper = Mappers.getMapper(TargetBeanMapper.class);\n    }\n\n    @Test\n    void map() {\n        final SourceBeanOne s1 = new SourceBeanOne(List.of(&quot;this&quot;, &quot;list&quot;, &quot;will be transformed&quot;),\n                List.of(&quot;this&quot;, &quot;list&quot;, &quot;will be directly mapped&quot;),\n            &quot;sourceOneString&quot;);\n        final SourceBeanTwo s2 = new SourceBeanTwo(66);\n        final TargetBean t = mapper.map(s1, s2);\n        assertNotEquals(s1.getSourceListToTransform(), \n            t.getTargetListTransformed());  // check that source1 list has been transformed\n        assertEquals(List.of(&quot;one&quot;, &quot;two&quot;), t.getTargetListTransformed());\n        assertEquals(List.of(&quot;three&quot;, &quot;four&quot;), \n            t.getTargetListTransformedWithAnotherMethod());  // check that source1 list has been transformed\n        assertEquals(s1.getSourceListDirectMapping(), \n            t.getTargetListDirectMapping());\n        assertEquals(s1.getSourceString(), t.getTargetString());\n        assertEquals(s2.getSourceInteger(), t.getTargetInteger());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17966800,"reputation":409,"user_id":13056526,"display_name":"Alberto San Jos&#233;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":593,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666539670,"creation_date":1666529006,"question_id":74171232,"body_markdown":"I am using MapStruct to have a target bean mapped from attributes coming from 2 source beans. This is something very common that MapStruct easily does by [Controlling nested mappings][1]. My problem is that I need to &quot;calculate/validate&quot; a target attribute taking as input one of the attributes in a source bean.\r\n\r\nI will explain with a few code snippets.\r\n\r\nFirst, we have the beans, something like (simplified):\r\n\r\n    import lombok.Builder;\r\n    import lombok.Getter;\r\n    import java.util.List;\r\n\r\n    @Getter\r\n    @Builder\r\n    public class TargetBean {\r\n        private final List&lt;String&gt; targetListTransformed;\r\n        private final List&lt;String&gt; targetListDirectMapping;\r\n        private final List&lt;String&gt; targetListTransformedWithAnotherMethod;\r\n        private final String targetString;\r\n        private final Integer targetInteger;\r\n    }\r\n\r\nOne of the source beans:\r\n\r\n    import lombok.Getter;\r\n    import lombok.RequiredArgsConstructor;\r\n    import java.util.List;\r\n\r\n    @Getter\r\n    @RequiredArgsConstructor\r\n    public class SourceBeanOne {\r\n        private final List&lt;String&gt; sourceListToTransform;\r\n        private final List&lt;String&gt; sourceListDirectMapping;\r\n        private final String sourceString;\r\n    }\r\n\r\nand the other source bean:\r\n\r\n    import lombok.Getter;\r\n    import lombok.RequiredArgsConstructor;\r\n\r\n    @Getter\r\n    @RequiredArgsConstructor\r\n    public class SourceBeanTwo {\r\n        private final Integer sourceInteger;\r\n    }\r\n\r\nThen the mapping attempt:\r\n\r\n    @Mapper(uses = SourceOneExtractor.class)\r\n    public abstract class TargetBeanMapper {\r\n        @Mapping(target = &quot;targetListTransformed&quot;, source = &quot;source1&quot;)\r\n        @Mapping(target = &quot;targetListDirectMapping&quot;, source = &quot;source1.sourceListDirectMapping&quot;)\r\n        @Mapping(target = &quot;targetListTransformedWithAnotherMethod&quot;, qualifiedByName = {&quot;sourceOneTransformer&quot;, &quot;transformerTwo&quot;})\r\n        @Mapping(target = &quot;targetString&quot;, source = &quot;source1.sourceString&quot;)\r\n        @Mapping(target = &quot;targetInteger&quot;, source = &quot;source2.sourceInteger&quot;)\r\n        abstract TargetBean map (SourceBeanOne source1, SourceBeanTwo source2);\r\n\r\n        List&lt;String&gt; mapTargetList(SourceBeanOne source1) {\r\n            final List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n            // simulate a transformation\r\n            result.add(&quot;one&quot;);\r\n            result.add(&quot;two&quot;);\r\n            return result;\r\n        }\r\n\r\n    }\r\n\r\nAs you can see, I have tried [Invoking custom mapping method][2], where you can see see a dummy implementation what I need to do: use one, or more, attributes in SourceBeanOne to produce the List&lt;String&gt; to be mapped into TargetBean.targetListTransformed.\r\n\r\nThat perfectly works. My problem came when I realized that I needed to produce another List&lt;String&gt; for another Target attribute, doing different things with other attributes in SourceBeanOne. Another custom mapping method is not possible because MapStruct cannot disambiguate. That&#39;s how I ended trying [5.9. Mapping method selection based on qualifiers][3]. And this is the resulting qualifier class based on @Named (to avoid generating a bunch of @Qualified annotations):\r\n\r\n    import org.mapstruct.Named;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    @Named(&quot;sourceOneTransformer&quot;)\r\n    public class SourceOneExtractor {\r\n\r\n        @Named(&quot;transformerOne&quot;)\r\n        public List&lt;String&gt; getterMethodOne(SourceBeanOne s) {\r\n            final List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n            // simulate a transformation\r\n            result.add(&quot;one&quot;);\r\n            result.add(&quot;two&quot;);\r\n            return result;\r\n        }\r\n\r\n        @Named(&quot;transformerTwo&quot;)\r\n        public List&lt;String&gt; getterMethodTwo(SourceBeanOne s) {\r\n            final List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n            // simulate a transformation\r\n            result.add(&quot;three&quot;);\r\n            result.add(&quot;four&quot;);\r\n            return result;\r\n        }\r\n    }\r\n\r\n\r\nThen I got this error:\r\n\r\n&gt; No property named &quot;targetListTransformedWithAnotherMethod&quot; exists in source parameter(s). Please define the source explicitly.\r\n\r\nAt the beginning I had to deal with Lombok-Mapstruct issues reading some other posts in Stack Overflow and MapStruct documentation ([Can I use MapStruct together with Project Lombok?][4]), but once solved, everything is working and Lombok annotations are correctly processed before MapStruct&#39;s. But, just in case, I also tried with hand-made code for constructors, target builder and getters with the same result, so Lombok is not causing this. I also made sure I am using the right @Name annotation ([Why does @Name not work?][5]).\r\n\r\nMy real use case (code here is just a simplification for the sake of clarity) source does not have any attribute named &quot;targetListTransformedWithAnotherMethod&quot;.\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#controlling-nested-bean-mappings\r\n  [2]: https://mapstruct.org/documentation/stable/reference/html/#invoking-custom-mapping-method\r\n  [3]: https://mapstruct.org/documentation/stable/reference/html/#selection-based-on-qualifiers\r\n  [4]: https://mapstruct.org/faq/#Can-I-use-MapStruct-together-with-Project-Lombok\r\n  [5]: https://mapstruct.org/faq/#Why-does-Named-not-work","title":"Cannot make work mapping method selection based on qualifiers","body":"<p>I am using MapStruct to have a target bean mapped from attributes coming from 2 source beans. This is something very common that MapStruct easily does by <a href=\"https://mapstruct.org/documentation/stable/reference/html/#controlling-nested-bean-mappings\" rel=\"nofollow noreferrer\">Controlling nested mappings</a>. My problem is that I need to &quot;calculate/validate&quot; a target attribute taking as input one of the attributes in a source bean.</p>\n<p>I will explain with a few code snippets.</p>\n<p>First, we have the beans, something like (simplified):</p>\n<pre><code>import lombok.Builder;\nimport lombok.Getter;\nimport java.util.List;\n\n@Getter\n@Builder\npublic class TargetBean {\n    private final List&lt;String&gt; targetListTransformed;\n    private final List&lt;String&gt; targetListDirectMapping;\n    private final List&lt;String&gt; targetListTransformedWithAnotherMethod;\n    private final String targetString;\n    private final Integer targetInteger;\n}\n</code></pre>\n<p>One of the source beans:</p>\n<pre><code>import lombok.Getter;\nimport lombok.RequiredArgsConstructor;\nimport java.util.List;\n\n@Getter\n@RequiredArgsConstructor\npublic class SourceBeanOne {\n    private final List&lt;String&gt; sourceListToTransform;\n    private final List&lt;String&gt; sourceListDirectMapping;\n    private final String sourceString;\n}\n</code></pre>\n<p>and the other source bean:</p>\n<pre><code>import lombok.Getter;\nimport lombok.RequiredArgsConstructor;\n\n@Getter\n@RequiredArgsConstructor\npublic class SourceBeanTwo {\n    private final Integer sourceInteger;\n}\n</code></pre>\n<p>Then the mapping attempt:</p>\n<pre><code>@Mapper(uses = SourceOneExtractor.class)\npublic abstract class TargetBeanMapper {\n    @Mapping(target = &quot;targetListTransformed&quot;, source = &quot;source1&quot;)\n    @Mapping(target = &quot;targetListDirectMapping&quot;, source = &quot;source1.sourceListDirectMapping&quot;)\n    @Mapping(target = &quot;targetListTransformedWithAnotherMethod&quot;, qualifiedByName = {&quot;sourceOneTransformer&quot;, &quot;transformerTwo&quot;})\n    @Mapping(target = &quot;targetString&quot;, source = &quot;source1.sourceString&quot;)\n    @Mapping(target = &quot;targetInteger&quot;, source = &quot;source2.sourceInteger&quot;)\n    abstract TargetBean map (SourceBeanOne source1, SourceBeanTwo source2);\n\n    List&lt;String&gt; mapTargetList(SourceBeanOne source1) {\n        final List&lt;String&gt; result = new ArrayList&lt;&gt;();\n        // simulate a transformation\n        result.add(&quot;one&quot;);\n        result.add(&quot;two&quot;);\n        return result;\n    }\n\n}\n</code></pre>\n<p>As you can see, I have tried <a href=\"https://mapstruct.org/documentation/stable/reference/html/#invoking-custom-mapping-method\" rel=\"nofollow noreferrer\">Invoking custom mapping method</a>, where you can see see a dummy implementation what I need to do: use one, or more, attributes in SourceBeanOne to produce the List to be mapped into TargetBean.targetListTransformed.</p>\n<p>That perfectly works. My problem came when I realized that I needed to produce another List for another Target attribute, doing different things with other attributes in SourceBeanOne. Another custom mapping method is not possible because MapStruct cannot disambiguate. That's how I ended trying <a href=\"https://mapstruct.org/documentation/stable/reference/html/#selection-based-on-qualifiers\" rel=\"nofollow noreferrer\">5.9. Mapping method selection based on qualifiers</a>. And this is the resulting qualifier class based on @Named (to avoid generating a bunch of @Qualified annotations):</p>\n<pre><code>import org.mapstruct.Named;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Named(&quot;sourceOneTransformer&quot;)\npublic class SourceOneExtractor {\n\n    @Named(&quot;transformerOne&quot;)\n    public List&lt;String&gt; getterMethodOne(SourceBeanOne s) {\n        final List&lt;String&gt; result = new ArrayList&lt;&gt;();\n        // simulate a transformation\n        result.add(&quot;one&quot;);\n        result.add(&quot;two&quot;);\n        return result;\n    }\n\n    @Named(&quot;transformerTwo&quot;)\n    public List&lt;String&gt; getterMethodTwo(SourceBeanOne s) {\n        final List&lt;String&gt; result = new ArrayList&lt;&gt;();\n        // simulate a transformation\n        result.add(&quot;three&quot;);\n        result.add(&quot;four&quot;);\n        return result;\n    }\n}\n</code></pre>\n<p>Then I got this error:</p>\n<blockquote>\n<p>No property named &quot;targetListTransformedWithAnotherMethod&quot; exists in source parameter(s). Please define the source explicitly.</p>\n</blockquote>\n<p>At the beginning I had to deal with Lombok-Mapstruct issues reading some other posts in Stack Overflow and MapStruct documentation (<a href=\"https://mapstruct.org/faq/#Can-I-use-MapStruct-together-with-Project-Lombok\" rel=\"nofollow noreferrer\">Can I use MapStruct together with Project Lombok?</a>), but once solved, everything is working and Lombok annotations are correctly processed before MapStruct's. But, just in case, I also tried with hand-made code for constructors, target builder and getters with the same result, so Lombok is not causing this. I also made sure I am using the right @Name annotation (<a href=\"https://mapstruct.org/faq/#Why-does-Named-not-work\" rel=\"nofollow noreferrer\">Why does @Name not work?</a>).</p>\n<p>My real use case (code here is just a simplification for the sake of clarity) source does not have any attribute named &quot;targetListTransformedWithAnotherMethod&quot;.</p>\n"},{"tags":["java","java-8","java-stream","grouping"],"comments":[{"owner":{"account_id":7848863,"reputation":75,"user_id":5932944,"display_name":"Sreeni"},"score":0,"creation_date":1541989497,"post_id":53255091,"comment_id":93395083,"body_markdown":"I used the way to iterate through the groups and getting the first entry id and then checking through the remaining groups to update the object Map&lt;String, List&lt;String&gt;&gt; I created. I &#39;m getting the results I need, but asking for suggestions to implement it in java8.","body":"I used the way to iterate through the groups and getting the first entry id and then checking through the remaining groups to update the object Map&lt;String, List&lt;String&gt;&gt; I created. I &#39;m getting the results I need, but asking for suggestions to implement it in java8."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1541989779,"post_id":53255091,"comment_id":93395130,"body_markdown":"Its always worth sharing what you&#39;ve tried in the question to bring the clarity about your expected output.","body":"Its always worth sharing what you&#39;ve tried in the question to bring the clarity about your expected output."},{"owner":{"account_id":8680019,"reputation":671,"user_id":6496240,"display_name":"uli"},"score":1,"creation_date":1541991565,"post_id":53255091,"comment_id":93395482,"body_markdown":"Possible duplicate of [Java 8 lambdas group list into map](https://stackoverflow.com/questions/30755949/java-8-lambdas-group-list-into-map)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/30755949/java-8-lambdas-group-list-into-map\">Java 8 lambdas group list into map</a>"},{"owner":{"account_id":7848863,"reputation":75,"user_id":5932944,"display_name":"Sreeni"},"score":0,"creation_date":1541995042,"post_id":53255091,"comment_id":93396084,"body_markdown":"@uli no, its not what I&#39;m looking for. I updated my question with the expected output and the way I&#39;m doing it currently. The one you pointed is different. I&#39;m trying to do the grouping by the values inside the inner lists.","body":"@uli no, its not what I&#39;m looking for. I updated my question with the expected output and the way I&#39;m doing it currently. The one you pointed is different. I&#39;m trying to do the grouping by the values inside the inner lists."}],"answers":[{"tags":[],"owner":{"account_id":1153490,"reputation":1336,"user_id":1134707,"display_name":"Dylan Bijnagte"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666538649,"creation_date":1541995711,"answer_id":53255846,"question_id":53255091,"body_markdown":"Something like this ought to work, it requires making some sort of intermediate tuple object:\r\n```java\r\ngroups.stream()\r\n    .flatMap(group -&gt; group.getEntries().stream()\r\n            .map(entry -&gt; Map.entry(entry.getEntryId(), group.getId())))\r\n    .collect(Colectors.groupingBy(Map.Entry::getKey,\r\n            Colectors.mapping(Map.Entry::getValue, toList())));\r\n```","title":"How to group List of Lists using a certain criteria in Java 8","body":"<p>Something like this ought to work, it requires making some sort of intermediate tuple object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>groups.stream()\n    .flatMap(group -&gt; group.getEntries().stream()\n            .map(entry -&gt; Map.entry(entry.getEntryId(), group.getId())))\n    .collect(Colectors.groupingBy(Map.Entry::getKey,\n            Colectors.mapping(Map.Entry::getValue, toList())));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7848863,"reputation":75,"user_id":5932944,"display_name":"Sreeni"},"score":1,"creation_date":1541996726,"post_id":53255869,"comment_id":93396446,"body_markdown":"Thanks. It worked. based on your implementation I had to declare as this.\nMap&lt;String, LinkedHashSet&lt;String&gt;&gt; entryMaps = new LinkedHashMap&lt;&gt;()","body":"Thanks. It worked. based on your implementation I had to declare as this. Map&lt;String, LinkedHashSet&lt;String&gt;&gt; entryMaps = new LinkedHashMap&lt;&gt;()"}],"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1542042564,"creation_date":1541995872,"answer_id":53255869,"question_id":53255091,"body_markdown":"You can do it as follows:\r\n\r\n    Map&lt;String, Set&lt;String&gt;&gt; entryMaps = new LinkedHashMap&lt;&gt;();\r\n    groups.forEach(group -&gt; \r\n        group.getEntries().forEach(entry -&gt; \r\n                entryMaps.computeIfAbsent(\r\n                        entry.getEntryId().toLowerCase(),\r\n                        k -&gt; new LinkedHashSet&lt;&gt;())\r\n                    .add(group.getId())));\r\n\r\nThis iterates the groups, then each group&#39;s entries and uses `Map.computeIfAbsent` to put an entry with a new, empty `LinkedHashSet` if the key wasn&#39;t present, returning either this empty set or the one matching that key. Then, the group id is added to this returned set.\r\n\r\nNote: I&#39;m using a `Set` instead of a `List` for values, to avoid possible duplicates. And `LinkedHashMap` and `LinkedhashSet` guarantee insertion-order.\r\n","title":"How to group List of Lists using a certain criteria in Java 8","body":"<p>You can do it as follows:</p>\n\n<pre><code>Map&lt;String, Set&lt;String&gt;&gt; entryMaps = new LinkedHashMap&lt;&gt;();\ngroups.forEach(group -&gt; \n    group.getEntries().forEach(entry -&gt; \n            entryMaps.computeIfAbsent(\n                    entry.getEntryId().toLowerCase(),\n                    k -&gt; new LinkedHashSet&lt;&gt;())\n                .add(group.getId())));\n</code></pre>\n\n<p>This iterates the groups, then each group's entries and uses <code>Map.computeIfAbsent</code> to put an entry with a new, empty <code>LinkedHashSet</code> if the key wasn't present, returning either this empty set or the one matching that key. Then, the group id is added to this returned set.</p>\n\n<p>Note: I'm using a <code>Set</code> instead of a <code>List</code> for values, to avoid possible duplicates. And <code>LinkedHashMap</code> and <code>LinkedhashSet</code> guarantee insertion-order.</p>\n"},{"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":3,"creation_date":1666334230,"post_id":74149126,"comment_id":130916511,"body_markdown":"could you add some explanation to it, please?","body":"could you add some explanation to it, please?"}],"tags":[],"owner":{"account_id":15878073,"reputation":37,"user_id":11456666,"display_name":"java code point"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666330129,"creation_date":1666330129,"answer_id":74149126,"question_id":53255091,"body_markdown":"    List&lt;List&lt;EmployeeHourLogDetails&gt;&gt; resultLisSalesman = new ArrayList&lt;&gt; \r\n    (employeeHourLogHeader.getEmployeeHourLogDetails().stream()\r\n\t\t\t\t\t\t\t.collect(Collectors.groupingBy(d -&gt; \r\n    d.getEmployeeId())).values());","title":"How to group List of Lists using a certain criteria in Java 8","body":"<pre><code>List&lt;List&lt;EmployeeHourLogDetails&gt;&gt; resultLisSalesman = new ArrayList&lt;&gt; \n(employeeHourLogHeader.getEmployeeHourLogDetails().stream()\n                        .collect(Collectors.groupingBy(d -&gt; \nd.getEmployeeId())).values());\n</code></pre>\n"}],"owner":{"account_id":7848863,"reputation":75,"user_id":5932944,"display_name":"Sreeni"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4119,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":53255869,"answer_count":3,"score":3,"last_activity_date":1666538649,"creation_date":1541987707,"question_id":53255091,"body_markdown":"I have a data structure like below. I&#39;m trying to group the objects in such a way like `Map&lt;String, List&lt;String&gt;&gt;` where key is the entryId and value is the List of groups it belongs to. entryId is always unique inside a group.\r\n\r\nExample: entryId &quot;1111&quot; belongs to group1,group2,group3. I&#39;m using the old java 7 way to iterate through the lists and checking. Is there any best possible way using Java8 Collectors/grouping to achieve this.\r\n\r\n`List&lt;Group&gt;` where each Group object will have a list of Entry objects.\r\n\r\n        [  \r\n       {  \r\n          &quot;id&quot;:&quot;group1&quot;,\r\n          &quot;entries&quot;:[  \r\n             {  \r\n                &quot;entryId&quot;:&quot;1111&quot;,\r\n                &quot;name&quot;:&quot;test1&quot;\r\n             },\r\n             {  \r\n                &quot;entryId&quot;:&quot;2222&quot;,\r\n                &quot;name&quot;:&quot;test2&quot;\r\n             },\r\n             {  \r\n                &quot;entryId&quot;:&quot;3333&quot;,\r\n                &quot;name&quot;:&quot;test3&quot;\r\n             }\r\n          ]\r\n       },\r\n       {  \r\n          &quot;id&quot;:&quot;group2&quot;,\r\n          &quot;entries&quot;:[  \r\n             {  \r\n                &quot;entryId&quot;:&quot;4444&quot;,\r\n                &quot;name&quot;:&quot;test1&quot;\r\n             },\r\n             {  \r\n                &quot;entryId&quot;:&quot;1111&quot;,\r\n                &quot;name&quot;:&quot;test2&quot;\r\n             },\r\n             {  \r\n                &quot;entryId&quot;:&quot;2222&quot;,\r\n                &quot;name&quot;:&quot;test3&quot;\r\n             }\r\n          ]\r\n       },\r\n       {  \r\n          &quot;id&quot;:&quot;group3&quot;,\r\n          &quot;entries&quot;:[  \r\n             {  \r\n                &quot;entryId&quot;:&quot;1111&quot;,\r\n                &quot;name&quot;:&quot;test1&quot;\r\n             },\r\n             {  \r\n                &quot;entryId&quot;:&quot;5555&quot;,\r\n                &quot;name&quot;:&quot;test2&quot;\r\n             },\r\n             {  \r\n                &quot;entryId&quot;:&quot;3333&quot;,\r\n                &quot;name&quot;:&quot;test3&quot;\r\n             }\r\n          ]\r\n       }\r\n    ]\r\nSo the expected out put is this :\r\n\r\n        [  \r\n       {  \r\n          &quot;1111&quot;:[  \r\n             &quot;group1&quot;,\r\n             &quot;group2&quot;,\r\n             &quot;group3&quot;\r\n          ]\r\n       },\r\n       {  \r\n          &quot;2222&quot;:[  \r\n             &quot;group1&quot;,\r\n             &quot;group2&quot;\r\n          ]\r\n       },\r\n       {  \r\n          &quot;3333&quot;:[  \r\n             &quot;group1&quot;,\r\n             &quot;group3&quot;\r\n          ]\r\n       },\r\n       {  \r\n          &quot;4444&quot;:[  \r\n             &quot;group2&quot;\r\n          ]\r\n       },\r\n       {  \r\n          &quot;5555&quot;:[  \r\n             &quot;group3&quot;\r\n          ]\r\n       }\r\n    ]\r\n\r\nI&#39;m using below way currently. which is working as expected, but is there a much simpler way in Java 8 I can achieve this.\r\n\r\n        public Map&lt;String, List&lt;String&gt;&gt; mapEntries(List&lt;Group&gt; groups) {\r\n        Map&lt;String, List&lt;String&gt;&gt; entryMaps = new HashMap&lt;&gt;();\r\n        for (Group group : groups) {\r\n            for (Entry entry : group.getEntries()) {\r\n                List&lt;String&gt; groupsEntryBelongs = new ArrayList&lt;&gt;();\r\n                if (groups.iterator().hasNext() &amp;&amp; !entryMaps.keySet().contains(entry.getEntryId())) {\r\n                    updateGroups(groups, entry.getEntryId(), groupsEntryBelongs, entryMaps);\r\n                }\r\n            }\r\n        }\r\n        return entryMaps;\r\n    }\r\n    \r\n        void updateGroups(List&lt;Group&gt; groups, String id, List&lt;String&gt; groupsEntryBelongs, Map&lt;String, List&lt;String&gt;&gt; entryMaps) {\r\n            for (Group group : groups) {\r\n                for (Entry entry : group.getEntries()) {\r\n                    if (entry.getEntryId().equalsIgnoreCase(id)) {\r\n                        groupsEntryBelongs.add(group.getId());\r\n                    }\r\n                }\r\n            }\r\n            entryMaps.put(id, groupsEntryBelongs);\r\n        }","title":"How to group List of Lists using a certain criteria in Java 8","body":"<p>I have a data structure like below. I'm trying to group the objects in such a way like <code>Map&lt;String, List&lt;String&gt;&gt;</code> where key is the entryId and value is the List of groups it belongs to. entryId is always unique inside a group.</p>\n\n<p>Example: entryId \"1111\" belongs to group1,group2,group3. I'm using the old java 7 way to iterate through the lists and checking. Is there any best possible way using Java8 Collectors/grouping to achieve this.</p>\n\n<p><code>List&lt;Group&gt;</code> where each Group object will have a list of Entry objects.</p>\n\n<pre><code>    [  \n   {  \n      \"id\":\"group1\",\n      \"entries\":[  \n         {  \n            \"entryId\":\"1111\",\n            \"name\":\"test1\"\n         },\n         {  \n            \"entryId\":\"2222\",\n            \"name\":\"test2\"\n         },\n         {  \n            \"entryId\":\"3333\",\n            \"name\":\"test3\"\n         }\n      ]\n   },\n   {  \n      \"id\":\"group2\",\n      \"entries\":[  \n         {  \n            \"entryId\":\"4444\",\n            \"name\":\"test1\"\n         },\n         {  \n            \"entryId\":\"1111\",\n            \"name\":\"test2\"\n         },\n         {  \n            \"entryId\":\"2222\",\n            \"name\":\"test3\"\n         }\n      ]\n   },\n   {  \n      \"id\":\"group3\",\n      \"entries\":[  \n         {  \n            \"entryId\":\"1111\",\n            \"name\":\"test1\"\n         },\n         {  \n            \"entryId\":\"5555\",\n            \"name\":\"test2\"\n         },\n         {  \n            \"entryId\":\"3333\",\n            \"name\":\"test3\"\n         }\n      ]\n   }\n]\n</code></pre>\n\n<p>So the expected out put is this :</p>\n\n<pre><code>    [  \n   {  \n      \"1111\":[  \n         \"group1\",\n         \"group2\",\n         \"group3\"\n      ]\n   },\n   {  \n      \"2222\":[  \n         \"group1\",\n         \"group2\"\n      ]\n   },\n   {  \n      \"3333\":[  \n         \"group1\",\n         \"group3\"\n      ]\n   },\n   {  \n      \"4444\":[  \n         \"group2\"\n      ]\n   },\n   {  \n      \"5555\":[  \n         \"group3\"\n      ]\n   }\n]\n</code></pre>\n\n<p>I'm using below way currently. which is working as expected, but is there a much simpler way in Java 8 I can achieve this.</p>\n\n<pre><code>    public Map&lt;String, List&lt;String&gt;&gt; mapEntries(List&lt;Group&gt; groups) {\n    Map&lt;String, List&lt;String&gt;&gt; entryMaps = new HashMap&lt;&gt;();\n    for (Group group : groups) {\n        for (Entry entry : group.getEntries()) {\n            List&lt;String&gt; groupsEntryBelongs = new ArrayList&lt;&gt;();\n            if (groups.iterator().hasNext() &amp;&amp; !entryMaps.keySet().contains(entry.getEntryId())) {\n                updateGroups(groups, entry.getEntryId(), groupsEntryBelongs, entryMaps);\n            }\n        }\n    }\n    return entryMaps;\n}\n\n    void updateGroups(List&lt;Group&gt; groups, String id, List&lt;String&gt; groupsEntryBelongs, Map&lt;String, List&lt;String&gt;&gt; entryMaps) {\n        for (Group group : groups) {\n            for (Entry entry : group.getEntries()) {\n                if (entry.getEntryId().equalsIgnoreCase(id)) {\n                    groupsEntryBelongs.add(group.getId());\n                }\n            }\n        }\n        entryMaps.put(id, groupsEntryBelongs);\n    }\n</code></pre>\n"},{"tags":["java","firebase","spring-boot","firebase-storage"],"answers":[{"comments":[{"owner":{"account_id":220846,"reputation":10684,"user_id":834239,"accept_rate":64,"display_name":"Amit Pal"},"score":0,"creation_date":1623178001,"post_id":67869942,"comment_id":120003241,"body_markdown":"Thanks for your reply. After changing the bucket name to `gs://sample-ccc80.appspot.com`. I am still getting the same error message","body":"Thanks for your reply. After changing the bucket name to <code>gs:&#47;&#47;sample-ccc80.appspot.com</code>. I am still getting the same error message"}],"tags":[],"owner":{"account_id":4108664,"reputation":80443,"user_id":3371862,"accept_rate":73,"display_name":"Renaud Tarnec"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623062497,"creation_date":1623061548,"answer_id":67869942,"question_id":67869698,"body_markdown":"A Cloud Storage bucket name cannot contain a `/` (slash), see the [doc on &quot;Bucket naming guidelines&quot;][1].\r\n\r\nI guess that you want to upload to the `SAMPLE/IMAGES` &quot;folder&quot; of your bucket, but Google Cloud Storage does not have genuine &quot;folders&quot; as explained in this [anwser][2].\r\n\r\nYou need to use the `fileName` variable to pass this &quot;folder&quot; like `SAMPLE/IMAGES/MyHolidaysNicePicture.png`. And your bucket name should be `gs://sample-ccc80.appspot.com`.\r\n\r\n\r\n  [1]: https://cloud.google.com/storage/docs/naming-buckets\r\n  [2]: https://stackoverflow.com/a/66655114/3371862\r\n","title":"Invalid Bucket Name when uploading to Firebase storage?","body":"<p>A Cloud Storage bucket name cannot contain a <code>/</code> (slash), see the <a href=\"https://cloud.google.com/storage/docs/naming-buckets\" rel=\"nofollow noreferrer\">doc on &quot;Bucket naming guidelines&quot;</a>.</p>\n<p>I guess that you want to upload to the <code>SAMPLE/IMAGES</code> &quot;folder&quot; of your bucket, but Google Cloud Storage does not have genuine &quot;folders&quot; as explained in this <a href=\"https://stackoverflow.com/a/66655114/3371862\">anwser</a>.</p>\n<p>You need to use the <code>fileName</code> variable to pass this &quot;folder&quot; like <code>SAMPLE/IMAGES/MyHolidaysNicePicture.png</code>. And your bucket name should be <code>gs://sample-ccc80.appspot.com</code>.</p>\n"},{"tags":[],"owner":{"account_id":11992773,"reputation":578,"user_id":8775332,"display_name":"kaspiotr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666538381,"creation_date":1666538381,"answer_id":74172320,"question_id":67869698,"body_markdown":"The bucket path that you have used is as follows:\r\n\r\n    gs://sample-ccc80.appspot.com/SAMPLE/IMAGES\r\n\r\nAccording to guidelines available [here][1] a Cloud Storage bucket name cannot contain a &#39;/&#39; sign that&#39;s why the part:\r\n\r\n    /SAMPLE/IMAGES\r\n\r\nof your bucket&#39;s path is invalid.\r\n\r\nWhatsmore, your bucket name should not contain the prefix `gs://`.\r\n\r\n\r\n**Solution**:\r\n\r\nSumming up, your bucket name should be as follows:\r\n\r\n    sample-ccc80.appspot.com\r\n\r\n**P.S.**\r\n\r\nFor those who will be looking for the bucket&#39;s name of their project it can be found here:\r\n[![backet_name_location][2]][2]\r\n\r\n\r\n  [1]: https://cloud.google.com/storage/docs/naming-buckets\r\n  [2]: https://i.stack.imgur.com/Nltot.png","title":"Invalid Bucket Name when uploading to Firebase storage?","body":"<p>The bucket path that you have used is as follows:</p>\n<pre><code>gs://sample-ccc80.appspot.com/SAMPLE/IMAGES\n</code></pre>\n<p>According to guidelines available <a href=\"https://cloud.google.com/storage/docs/naming-buckets\" rel=\"nofollow noreferrer\">here</a> a Cloud Storage bucket name cannot contain a '/' sign that's why the part:</p>\n<pre><code>/SAMPLE/IMAGES\n</code></pre>\n<p>of your bucket's path is invalid.</p>\n<p>Whatsmore, your bucket name should not contain the prefix <code>gs://</code>.</p>\n<p><strong>Solution</strong>:</p>\n<p>Summing up, your bucket name should be as follows:</p>\n<pre><code>sample-ccc80.appspot.com\n</code></pre>\n<p><strong>P.S.</strong></p>\n<p>For those who will be looking for the bucket's name of their project it can be found here:\n<a href=\"https://i.stack.imgur.com/Nltot.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nltot.png\" alt=\"backet_name_location\" /></a></p>\n"}],"owner":{"account_id":220846,"reputation":10684,"user_id":834239,"accept_rate":64,"display_name":"Amit Pal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":905,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666538381,"creation_date":1623060410,"question_id":67869698,"body_markdown":"I am trying to upload a media (Image) to firebase storage. Bucket Path is \r\n\r\n    gs://sample-ccc80.appspot.com/SAMPLE/IMAGES\r\n\r\nFirebase Rules:\r\n\r\n    rules_version = &#39;2&#39;;\r\n    service firebase.storage {\r\n    match /b/{bucket}/o {\r\n    match /{allPaths=**} {\r\n      allow read, write;\r\n    }\r\n    }\r\n    }\r\n\r\nI am following this [blog][1] as a tutorial. Here is the response I am getting:\r\n\r\n    &quot;message&quot; : &quot;Invalid bucket name: &#39;sample-ccc80.appspot.com/SAMPLE/IMAGES&#39;&quot;\r\n\r\n#code\r\n\r\n     public static String uploadFile(File file, String fileName, String bucketName) throws IOException {\r\n        BlobId blobId = BlobId.of(bucketName, fileName);\r\n        BlobInfo blobInfo = BlobInfo.newBuilder(blobId).setContentType(&quot;media&quot;).build();\r\n        String absolutePath = &quot;/service-account.json&quot;;\r\n        Credentials credentials = GoogleCredentials.fromStream(new FileInputStream(absolutePath));\r\n        Storage storage = StorageOptions.newBuilder().setCredentials(credentials).build().getService();\r\n        storage.create(blobInfo, Files.readAllBytes(file.toPath()));\r\n        String DOWNLOAD_URL  = &quot;https://firebasestorage.googleapis.com/v0/b/&quot; + bucketName + &quot;/o/%s?alt=media&quot;;\r\n        return String.format(DOWNLOAD_URL, URLEncoder.encode(fileName, &quot;UTF-8&quot;));\r\n    }\r\n\r\nWhat Am I doing wrong here?\r\n\r\n  [1]: https://medium.com/teamarimac/file-upload-and-download-with-spring-boot-firebase-af068bc62614","title":"Invalid Bucket Name when uploading to Firebase storage?","body":"<p>I am trying to upload a media (Image) to firebase storage. Bucket Path is</p>\n<pre><code>gs://sample-ccc80.appspot.com/SAMPLE/IMAGES\n</code></pre>\n<p>Firebase Rules:</p>\n<pre><code>rules_version = '2';\nservice firebase.storage {\nmatch /b/{bucket}/o {\nmatch /{allPaths=**} {\n  allow read, write;\n}\n}\n}\n</code></pre>\n<p>I am following this <a href=\"https://medium.com/teamarimac/file-upload-and-download-with-spring-boot-firebase-af068bc62614\" rel=\"nofollow noreferrer\">blog</a> as a tutorial. Here is the response I am getting:</p>\n<pre><code>&quot;message&quot; : &quot;Invalid bucket name: 'sample-ccc80.appspot.com/SAMPLE/IMAGES'&quot;\n</code></pre>\n<p>#code</p>\n<pre><code> public static String uploadFile(File file, String fileName, String bucketName) throws IOException {\n    BlobId blobId = BlobId.of(bucketName, fileName);\n    BlobInfo blobInfo = BlobInfo.newBuilder(blobId).setContentType(&quot;media&quot;).build();\n    String absolutePath = &quot;/service-account.json&quot;;\n    Credentials credentials = GoogleCredentials.fromStream(new FileInputStream(absolutePath));\n    Storage storage = StorageOptions.newBuilder().setCredentials(credentials).build().getService();\n    storage.create(blobInfo, Files.readAllBytes(file.toPath()));\n    String DOWNLOAD_URL  = &quot;https://firebasestorage.googleapis.com/v0/b/&quot; + bucketName + &quot;/o/%s?alt=media&quot;;\n    return String.format(DOWNLOAD_URL, URLEncoder.encode(fileName, &quot;UTF-8&quot;));\n}\n</code></pre>\n<p>What Am I doing wrong here?</p>\n"},{"tags":["java","download","listener"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666504306,"post_id":74168913,"comment_id":130950191,"body_markdown":"Browsers usually use a temporary name (e.g. a .crdownload suffix for chrome, I think) and then rename to the final name when the download is complete.","body":"Browsers usually use a temporary name (e.g. a .crdownload suffix for chrome, I think) and then rename to the final name when the download is complete."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666506098,"post_id":74168913,"comment_id":130950405,"body_markdown":"Probably better to do the downloading in your app","body":"Probably better to do the downloading in your app"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666537997,"creation_date":1666512558,"answer_id":74169565,"question_id":74168913,"body_markdown":"I just tried the WatchService for the first time, but I do get all the events I was looking for. Here is my code and the output whilst downloading some file with my browser:\r\n\r\n    import java.nio.file.*;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) throws Exception {\r\n            Path path = Paths.get(&quot;/home/hiran/Downloads&quot;);\r\n            WatchService watchService = path.getFileSystem().newWatchService();\r\n            WatchKey key = path.register(watchService, StandardWatchEventKinds.ENTRY_CREATE, StandardWatchEventKinds.ENTRY_DELETE, StandardWatchEventKinds.ENTRY_MODIFY);\r\n        \r\n            while (true) {\r\n                for (WatchEvent&lt;?&gt; event: key.pollEvents()) {\r\n                    System.out.println(&quot;Received &quot;+event.kind() +&quot; on &quot;+event.context());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAnd here is the output I received during a download:\r\n\r\n    Received ENTRY_CREATE on fA-3bH63.tgz.part\r\n    Received ENTRY_MODIFY on fA-3bH63.tgz.part\r\n    Received ENTRY_CREATE on oolite-1.90.linux-x86_64.tgz\r\n    Received ENTRY_DELETE on fA-3bH63.tgz.part\r\n    Received ENTRY_CREATE on oolite-1.yrfZFKKr.90.linux-x86_64.tgz.part\r\n    Received ENTRY_MODIFY on oolite-1.yrfZFKKr.90.linux-x86_64.tgz.part\r\n    Received ENTRY_MODIFY on oolite-1.yrfZFKKr.90.linux-x86_64.tgz.part\r\n    ...\r\n    Received ENTRY_MODIFY on oolite-1.yrfZFKKr.90.linux-x86_64.tgz.part\r\n    Received ENTRY_DELETE on oolite-1.yrfZFKKr.90.linux-x86_64.tgz.part\r\n    Received ENTRY_CREATE on oolite-1.90.linux-x86_64.tgz\r\n    Received ENTRY_MODIFY on oolite-1.90.linux-x86_64.tgz\r\n\r\nSo there is no clear event saying &#39;download has finished&#39;, but there is a pattern you could use.\r\n\r\nAs soon as a file got created/modified, wait for a few seconds. If there is no further such event, assume the download has finished and process it. To be even more on the safe side, try to open the file with exclusive access to be sure no other process is still writing, only then process it.\r\n\r\nHow to open a file with exclusive access (translate to: shared=false), check https://www.baeldung.com/java-lock-files","title":"Detecting browser download in Java","body":"<p>I just tried the WatchService for the first time, but I do get all the events I was looking for. Here is my code and the output whilst downloading some file with my browser:</p>\n<pre><code>import java.nio.file.*;\n\npublic class Test {\n\n    public static void main(String[] args) throws Exception {\n        Path path = Paths.get(&quot;/home/hiran/Downloads&quot;);\n        WatchService watchService = path.getFileSystem().newWatchService();\n        WatchKey key = path.register(watchService, StandardWatchEventKinds.ENTRY_CREATE, StandardWatchEventKinds.ENTRY_DELETE, StandardWatchEventKinds.ENTRY_MODIFY);\n    \n        while (true) {\n            for (WatchEvent&lt;?&gt; event: key.pollEvents()) {\n                System.out.println(&quot;Received &quot;+event.kind() +&quot; on &quot;+event.context());\n            }\n        }\n    }\n}\n</code></pre>\n<p>And here is the output I received during a download:</p>\n<pre><code>Received ENTRY_CREATE on fA-3bH63.tgz.part\nReceived ENTRY_MODIFY on fA-3bH63.tgz.part\nReceived ENTRY_CREATE on oolite-1.90.linux-x86_64.tgz\nReceived ENTRY_DELETE on fA-3bH63.tgz.part\nReceived ENTRY_CREATE on oolite-1.yrfZFKKr.90.linux-x86_64.tgz.part\nReceived ENTRY_MODIFY on oolite-1.yrfZFKKr.90.linux-x86_64.tgz.part\nReceived ENTRY_MODIFY on oolite-1.yrfZFKKr.90.linux-x86_64.tgz.part\n...\nReceived ENTRY_MODIFY on oolite-1.yrfZFKKr.90.linux-x86_64.tgz.part\nReceived ENTRY_DELETE on oolite-1.yrfZFKKr.90.linux-x86_64.tgz.part\nReceived ENTRY_CREATE on oolite-1.90.linux-x86_64.tgz\nReceived ENTRY_MODIFY on oolite-1.90.linux-x86_64.tgz\n</code></pre>\n<p>So there is no clear event saying 'download has finished', but there is a pattern you could use.</p>\n<p>As soon as a file got created/modified, wait for a few seconds. If there is no further such event, assume the download has finished and process it. To be even more on the safe side, try to open the file with exclusive access to be sure no other process is still writing, only then process it.</p>\n<p>How to open a file with exclusive access (translate to: shared=false), check <a href=\"https://www.baeldung.com/java-lock-files\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-lock-files</a></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666518448,"creation_date":1666518448,"answer_id":74170128,"question_id":74168913,"body_markdown":"&gt; Is there a way I can detect the download (or addition) of a file to a directory (e.g. Downloads) **when it finishes?**\r\n\r\nNot reliably.\r\n\r\nWhile the Linux [`inotify`](https://man7.org/linux/man-pages/man7/inotify.7.html) API includes an event that corresponds to the closing of a file that was being written, this is not supported by the standard Java `WatchService`.  So while you can use the `WatchService` to detect the creation of a downloaded file, you can&#39;t use it to detect that the download has completed.\r\n\r\nSo you need to try to infer that the download has completed:\r\n\r\n  - If the download mechanism writes the file to a file with a temporary name and renames it on completion, then look for the rename event.\r\n\r\n  - Otherwise, you can poll the &quot;last modified&quot; timestamp for the file.  If the file stop changes, you could assume that the download has completed.\r\n\r\nThere are problems with both of these.  The download mechanism may not rename the downloaded file, and downloads can stall and resume due to network congestion.","title":"Detecting browser download in Java","body":"<blockquote>\n<p>Is there a way I can detect the download (or addition) of a file to a directory (e.g. Downloads) <strong>when it finishes?</strong></p>\n</blockquote>\n<p>Not reliably.</p>\n<p>While the Linux <a href=\"https://man7.org/linux/man-pages/man7/inotify.7.html\" rel=\"nofollow noreferrer\"><code>inotify</code></a> API includes an event that corresponds to the closing of a file that was being written, this is not supported by the standard Java <code>WatchService</code>.  So while you can use the <code>WatchService</code> to detect the creation of a downloaded file, you can't use it to detect that the download has completed.</p>\n<p>So you need to try to infer that the download has completed:</p>\n<ul>\n<li><p>If the download mechanism writes the file to a file with a temporary name and renames it on completion, then look for the rename event.</p>\n</li>\n<li><p>Otherwise, you can poll the &quot;last modified&quot; timestamp for the file.  If the file stop changes, you could assume that the download has completed.</p>\n</li>\n</ul>\n<p>There are problems with both of these.  The download mechanism may not rename the downloaded file, and downloads can stall and resume due to network congestion.</p>\n"}],"owner":{"account_id":5652626,"reputation":11,"user_id":4472664,"display_name":"Rashedul Hasan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666537997,"creation_date":1666503691,"question_id":74168913,"body_markdown":"I have a Java program running as jar. When it&#39;s running, I want to detect download of a file from browser to Downloads folder. I can detect using Java nio package WatchService but the problem is with this I can detect only the addition of new file to Downloads folder. I can&#39;t detect when download or copy finishes. \r\n\r\nIs there a way I can detect the download (or addition) of a file to a directory (e.g. Downloads) when it finishes?","title":"Detecting browser download in Java","body":"<p>I have a Java program running as jar. When it's running, I want to detect download of a file from browser to Downloads folder. I can detect using Java nio package WatchService but the problem is with this I can detect only the addition of new file to Downloads folder. I can't detect when download or copy finishes.</p>\n<p>Is there a way I can detect the download (or addition) of a file to a directory (e.g. Downloads) when it finishes?</p>\n"},{"tags":["java","memory-layout","mappedbytebuffer","project-panama"],"answers":[{"tags":[],"owner":{"account_id":180181,"reputation":76390,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666537794,"creation_date":1666537198,"answer_id":74172162,"question_id":74171986,"body_markdown":"It&#39;s difficult to say why the memory alignment behavior was put into the Foreign Function &amp; Memory API in the first place. In its current form, it&#39;s confusing and more of an obstacle than help.\r\n\r\nFortunately, you can turn it off:\r\n\r\n```\r\nvar UNALIGNED_INT = ValueLayout.JAVA_INT.withBitAlignment(8);\r\nMemorySegment segment = MemorySegment.allocateNative(1024, MemorySession.global());\r\n\r\nvar elem = segment.get(UNALIGNED_INT, 3);\r\nSystem.out.println(elem);\r\n```\r\n\r\nNote that it will only run if the underlying processor can access unaligned memory and is configured to do so. As far as I know, this is the case for Windows (x86-64), Linux (x86-64 and ARM64) and macOS (x86-64 and ARM64). It&#39;s also the case for many 32-bit system but they are not supported by the Foreign Function &amp; Memory API.","title":"Java19 Foreign Memory - Read Varint from a MemorySegment","body":"<p>It's difficult to say why the memory alignment behavior was put into the Foreign Function &amp; Memory API in the first place. In its current form, it's confusing and more of an obstacle than help.</p>\n<p>Fortunately, you can turn it off:</p>\n<pre><code>var UNALIGNED_INT = ValueLayout.JAVA_INT.withBitAlignment(8);\nMemorySegment segment = MemorySegment.allocateNative(1024, MemorySession.global());\n\nvar elem = segment.get(UNALIGNED_INT, 3);\nSystem.out.println(elem);\n</code></pre>\n<p>Note that it will only run if the underlying processor can access unaligned memory and is configured to do so. As far as I know, this is the case for Windows (x86-64), Linux (x86-64 and ARM64) and macOS (x86-64 and ARM64). It's also the case for many 32-bit system but they are not supported by the Foreign Function &amp; Memory API.</p>\n"}],"owner":{"account_id":1305479,"reputation":153,"user_id":1254562,"display_name":"daniele.guiducci"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74172162,"answer_count":1,"score":0,"last_activity_date":1666537794,"creation_date":1666535690,"question_id":74171986,"body_markdown":"I need to read from a large memory mapped file and as we know, ByteBuffer suffer from many limitations, like the 2GB size limit and developers are unable to deallocate a MemoryMapped file.\r\nI was investigating MemorySegment which aims to solve all those issue.\r\n\r\nMy file contains many Variable integers elements which are easy to read and write with a ByteBuffer using the following methods:\r\n```java\r\npublic static int getVarInt(ByteBuffer src) {\r\n    int tmp;\r\n    if ((tmp = src.get()) &gt;= 0) {\r\n        return tmp;\r\n    }\r\n    int result = tmp &amp; 0x7f;\r\n    if ((tmp = src.get()) &gt;= 0) {\r\n        result |= tmp &lt;&lt; 7;\r\n    } else {\r\n        result |= (tmp &amp; 0x7f) &lt;&lt; 7;\r\n        if ((tmp = src.get()) &gt;= 0) {\r\n            result |= tmp &lt;&lt; 14;\r\n        } else {\r\n            result |= (tmp &amp; 0x7f) &lt;&lt; 14;\r\n            if ((tmp = src.get()) &gt;= 0) {\r\n                result |= tmp &lt;&lt; 21;\r\n            } else {\r\n                result |= (tmp &amp; 0x7f) &lt;&lt; 21;\r\n                result |= (tmp = src.get()) &lt;&lt; 28;\r\n                while (tmp &lt; 0) {\r\n                    tmp = src.get();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return result;\r\n}\r\n```\r\n\r\nIt&#39;s also possible to read an INT or LONG from any position of the ByteBuffer.\r\n\r\nA MemoryLayout doesn&#39;t seem to be helpful here as the size of the struct is fixed.\r\n\r\nMoreover, if I have to read an Int that is not align to 4 bytes, MemorySegment throws a very nasty exception.\r\n```java\r\nMemorySegment segment = MemorySegment.allocateNative(1024, MemorySession.global());\r\n\r\nsegment.set(ValueLayout.JAVA_INT, 0, 10);\r\n// You can&#39;t read from position 3 even if you slice the memory segment :(\r\nvar elem = segment.asSlice(3,4).get(ValueLayout.JAVA_INT, 0);\r\n```\r\n```\r\njava.lang.IllegalArgumentException: Misaligned access at address: 5066757123\r\n```\r\n\r\nIs there any efficient way to read a structure with many variable integers, and integers that are not aligned to 4 bytes?","title":"Java19 Foreign Memory - Read Varint from a MemorySegment","body":"<p>I need to read from a large memory mapped file and as we know, ByteBuffer suffer from many limitations, like the 2GB size limit and developers are unable to deallocate a MemoryMapped file.\nI was investigating MemorySegment which aims to solve all those issue.</p>\n<p>My file contains many Variable integers elements which are easy to read and write with a ByteBuffer using the following methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int getVarInt(ByteBuffer src) {\n    int tmp;\n    if ((tmp = src.get()) &gt;= 0) {\n        return tmp;\n    }\n    int result = tmp &amp; 0x7f;\n    if ((tmp = src.get()) &gt;= 0) {\n        result |= tmp &lt;&lt; 7;\n    } else {\n        result |= (tmp &amp; 0x7f) &lt;&lt; 7;\n        if ((tmp = src.get()) &gt;= 0) {\n            result |= tmp &lt;&lt; 14;\n        } else {\n            result |= (tmp &amp; 0x7f) &lt;&lt; 14;\n            if ((tmp = src.get()) &gt;= 0) {\n                result |= tmp &lt;&lt; 21;\n            } else {\n                result |= (tmp &amp; 0x7f) &lt;&lt; 21;\n                result |= (tmp = src.get()) &lt;&lt; 28;\n                while (tmp &lt; 0) {\n                    tmp = src.get();\n                }\n            }\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>It's also possible to read an INT or LONG from any position of the ByteBuffer.</p>\n<p>A MemoryLayout doesn't seem to be helpful here as the size of the struct is fixed.</p>\n<p>Moreover, if I have to read an Int that is not align to 4 bytes, MemorySegment throws a very nasty exception.</p>\n<pre class=\"lang-java prettyprint-override\"><code>MemorySegment segment = MemorySegment.allocateNative(1024, MemorySession.global());\n\nsegment.set(ValueLayout.JAVA_INT, 0, 10);\n// You can't read from position 3 even if you slice the memory segment :(\nvar elem = segment.asSlice(3,4).get(ValueLayout.JAVA_INT, 0);\n</code></pre>\n<pre><code>java.lang.IllegalArgumentException: Misaligned access at address: 5066757123\n</code></pre>\n<p>Is there any efficient way to read a structure with many variable integers, and integers that are not aligned to 4 bytes?</p>\n"},{"tags":["java","out-of-memory","reactor-netty","directmemory"],"comments":[{"owner":{"account_id":48638,"reputation":5943,"user_id":144578,"accept_rate":79,"display_name":"Sebastiaan van den Broek"},"score":0,"creation_date":1666536571,"post_id":74172045,"comment_id":130955532,"body_markdown":"Does this help? https://stackoverflow.com/questions/42651707/how-to-find-a-root-cause-of-the-following-netty-error-io-netty-util-internal-ou","body":"Does this help? <a href=\"https://stackoverflow.com/questions/42651707/how-to-find-a-root-cause-of-the-following-netty-error-io-netty-util-internal-ou\" title=\"how to find a root cause of the following netty error io netty util internal ou\">stackoverflow.com/questions/42651707/&hellip;</a>"},{"owner":{"account_id":3137993,"reputation":99,"user_id":2654102,"accept_rate":0,"display_name":"S2K"},"score":0,"creation_date":1666539177,"post_id":74172045,"comment_id":130956091,"body_markdown":"Definitely throws some light but still have above questions.","body":"Definitely throws some light but still have above questions."}],"owner":{"account_id":3137993,"reputation":99,"user_id":2654102,"accept_rate":0,"display_name":"S2K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666537479,"creation_date":1666536234,"question_id":74172045,"body_markdown":"I am seeing *`reactor.netty.ReactorNetty$InternalNettyException: io.netty.util.internal.OutOfDirectMemoryError: failed to allocate 16777216 byte(s) of direct memory (used: 1056964615, max: 1073741824)`* issue while calling an external client B from my application A.\r\n\r\nI had following questions:\r\n\r\na) Interestingly, this happens only for a certain external client call, my application is a large scale real time app making multiple downstream/external client calls but none of them fails. Is there any correlation?  \r\n\r\nb)Why the external client call needs a direct memory access? Is it a default behavior for all external client calls or upon some configuration?\r\n\r\nc) If latter is the case, how one can decide the apt size for direct memory?\r\n\r\nThanks for your response.  ","title":"javax.ws.rs.ProcessingException: reactor.netty.ReactorNetty$InternalNettyException: io.netty.util.internal.OutOfDirectMemoryError: failed to allocate","body":"<p>I am seeing <em><code>reactor.netty.ReactorNetty$InternalNettyException: io.netty.util.internal.OutOfDirectMemoryError: failed to allocate 16777216 byte(s) of direct memory (used: 1056964615, max: 1073741824)</code></em> issue while calling an external client B from my application A.</p>\n<p>I had following questions:</p>\n<p>a) Interestingly, this happens only for a certain external client call, my application is a large scale real time app making multiple downstream/external client calls but none of them fails. Is there any correlation?</p>\n<p>b)Why the external client call needs a direct memory access? Is it a default behavior for all external client calls or upon some configuration?</p>\n<p>c) If latter is the case, how one can decide the apt size for direct memory?</p>\n<p>Thanks for your response.</p>\n"},{"tags":["java","rotation","processing"],"comments":[{"owner":{"account_id":10493705,"reputation":1115,"user_id":11554968,"display_name":"Alex P"},"score":0,"creation_date":1666530855,"post_id":74168760,"comment_id":130954322,"body_markdown":"what have you tried so far?","body":"what have you tried so far?"},{"owner":{"account_id":26375246,"reputation":25,"user_id":20029280,"display_name":"Jrishi_del14"},"score":0,"creation_date":1666534305,"post_id":74168760,"comment_id":130955060,"body_markdown":"i just uploaded the code that I have tried","body":"i just uploaded the code that I have tried"}],"answers":[{"comments":[{"owner":{"account_id":26375246,"reputation":25,"user_id":20029280,"display_name":"Jrishi_del14"},"score":0,"creation_date":1666555163,"post_id":74172134,"comment_id":130959782,"body_markdown":"yes this pretty close to what I wanted thank you so much","body":"yes this pretty close to what I wanted thank you so much"},{"owner":{"account_id":10493705,"reputation":1115,"user_id":11554968,"display_name":"Alex P"},"score":0,"creation_date":1666556315,"post_id":74172134,"comment_id":130960014,"body_markdown":"@RishithaJayathilaka consider upvoting the answer and accepting it as the solution","body":"@RishithaJayathilaka consider upvoting the answer and accepting it as the solution"}],"tags":[],"owner":{"account_id":10493705,"reputation":1115,"user_id":11554968,"display_name":"Alex P"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666537282,"creation_date":1666536959,"answer_id":74172134,"question_id":74168760,"body_markdown":"Based on the code you posted, I&#39;m guessing that you want to draw a fan, as opposed to having a sprite. The code below is a minimal example of the functionality you want. I highly suggest you familiarize yourself with the [translate()][1] and [rotate()][2] methods.\r\n\r\nThe position and rotation of the fan are handled by the `translate` and `rotate` methods respectively. By applying these transformations to the entire canvas, we can draw the desired fan with simple statements, without too much math. You can adapt the complexity of the graphic according to your needs, but this is a minimal example.\r\n\r\nThe rotation speed is expressed in degrees per second, to be intuitive. Thus, when calculating the angle of the fan, the elapsed time between frames must be taken into account. You could use the global time (e.g. `millis`) instead of the delta time (time between frames), but you would eventually run into overflow problems.\r\n\r\nFinally, you can change the speed by adding (a positive or negative) number of degrees per second to the existing fan speed, for every frame the relevant keys are pressed.\r\n\r\nYou can easily adapt the code to more complex control mechanics, better graphics, using sprites instead of manually drawing the fan etc.\r\n\r\n```Java\r\nFan fan;\r\n\r\nvoid setup(){\r\n  size(500, 500);\r\n  \r\n  fan = new Fan(width/2, height/2, 50, 360);\r\n}\r\n\r\nvoid draw(){\r\n  background(255);\r\n  \r\n  fan.display();\r\n  \r\n  if (keyPressed &amp;&amp; key == &#39;+&#39;) fan.changeSpeed(1);\r\n  if (keyPressed &amp;&amp; key == &#39;-&#39;) fan.changeSpeed(-1);\r\n}\r\n\r\nclass Fan {\r\n  int x, y;\r\n  int size;\r\n  float speed;              // in degrees per second\r\n  private long lastUpdate;  // in milliseconds\r\n  private float angle;      // in degrees\r\n  \r\n  Fan(int x, int y, int size, float speed){\r\n    this.x = x;\r\n    this.y = y;\r\n    this.size = size;\r\n    this.speed = speed;\r\n    \r\n    lastUpdate = 0;\r\n    angle = 0;\r\n  }\r\n  \r\n  void display(){\r\n    translate(x, y);\r\n    \r\n    // Update the fan&#39;s angle\r\n    angle += speed*(millis()-lastUpdate)/1000 % 360;\r\n    rotate(radians(angle));\r\n    lastUpdate = millis();\r\n    \r\n    // Draw red blade\r\n    fill(255, 0, 0);\r\n    triangle(0, 0, -size, -3*size, size, -3*size);\r\n    \r\n    // Draw blue blade\r\n    rotate(radians(120));\r\n    fill(0, 255, 0);\r\n    triangle(0, 0, -size, -3*size, size, -3*size);\r\n    \r\n    // Draw green blade\r\n    rotate(radians(120));\r\n    fill(0, 0, 255);\r\n    triangle(0, 0, -size, -3*size, size, -3*size);\r\n    \r\n    translate(-x, -y);\r\n  }\r\n  \r\n  void changeSpeed(float amount){\r\n    speed += amount;\r\n  }\r\n}\r\n```\r\n\r\n  [1]: https://processing.org/reference/translate_.html\r\n  [2]: https://processing.org/reference/rotate_.html","title":"Trying to figure how to make a fan to Rotate in Processing","body":"<p>Based on the code you posted, I'm guessing that you want to draw a fan, as opposed to having a sprite. The code below is a minimal example of the functionality you want. I highly suggest you familiarize yourself with the <a href=\"https://processing.org/reference/translate_.html\" rel=\"nofollow noreferrer\">translate()</a> and <a href=\"https://processing.org/reference/rotate_.html\" rel=\"nofollow noreferrer\">rotate()</a> methods.</p>\n<p>The position and rotation of the fan are handled by the <code>translate</code> and <code>rotate</code> methods respectively. By applying these transformations to the entire canvas, we can draw the desired fan with simple statements, without too much math. You can adapt the complexity of the graphic according to your needs, but this is a minimal example.</p>\n<p>The rotation speed is expressed in degrees per second, to be intuitive. Thus, when calculating the angle of the fan, the elapsed time between frames must be taken into account. You could use the global time (e.g. <code>millis</code>) instead of the delta time (time between frames), but you would eventually run into overflow problems.</p>\n<p>Finally, you can change the speed by adding (a positive or negative) number of degrees per second to the existing fan speed, for every frame the relevant keys are pressed.</p>\n<p>You can easily adapt the code to more complex control mechanics, better graphics, using sprites instead of manually drawing the fan etc.</p>\n<pre><code>Fan fan;\n\nvoid setup(){\n  size(500, 500);\n  \n  fan = new Fan(width/2, height/2, 50, 360);\n}\n\nvoid draw(){\n  background(255);\n  \n  fan.display();\n  \n  if (keyPressed &amp;&amp; key == '+') fan.changeSpeed(1);\n  if (keyPressed &amp;&amp; key == '-') fan.changeSpeed(-1);\n}\n\nclass Fan {\n  int x, y;\n  int size;\n  float speed;              // in degrees per second\n  private long lastUpdate;  // in milliseconds\n  private float angle;      // in degrees\n  \n  Fan(int x, int y, int size, float speed){\n    this.x = x;\n    this.y = y;\n    this.size = size;\n    this.speed = speed;\n    \n    lastUpdate = 0;\n    angle = 0;\n  }\n  \n  void display(){\n    translate(x, y);\n    \n    // Update the fan's angle\n    angle += speed*(millis()-lastUpdate)/1000 % 360;\n    rotate(radians(angle));\n    lastUpdate = millis();\n    \n    // Draw red blade\n    fill(255, 0, 0);\n    triangle(0, 0, -size, -3*size, size, -3*size);\n    \n    // Draw blue blade\n    rotate(radians(120));\n    fill(0, 255, 0);\n    triangle(0, 0, -size, -3*size, size, -3*size);\n    \n    // Draw green blade\n    rotate(radians(120));\n    fill(0, 0, 255);\n    triangle(0, 0, -size, -3*size, size, -3*size);\n    \n    translate(-x, -y);\n  }\n  \n  void changeSpeed(float amount){\n    speed += amount;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":26375246,"reputation":25,"user_id":20029280,"display_name":"Jrishi_del14"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74172134,"answer_count":1,"score":1,"last_activity_date":1666537282,"creation_date":1666501115,"question_id":74168760,"body_markdown":"I&#39;m completely new to Java Processing and I am trying to figure out a way to deign a fan which will rotate and increase the speed when press the plus(+) button and decrease when press the negative(-) button. As well as a way to display the speed which the fan is rotating.\r\n\r\n    final int coverSize=250;\r\n    final int centralDiskSize=30;\r\n    final int rectSize=50;\r\n    final int bladeSize=30;\r\n    float xPos=0, yPos=0;\r\n    float angle=250;\r\n    float bladePosX=0, bladePosY=0; \r\n    boolean button = false;\r\n    \r\n    void setup(){\r\n      size(500,500);\r\n      bladePosX=width/2+coverSize;\r\n      bladePosY=height/2;\r\n    \r\n    \r\n    }\r\n    \r\n    void draw(){\r\n      //rotateFan();\r\n      drawFan();\r\n      btton();\r\n    }\r\n    \r\n    \r\n    void drawFan(){\r\n      background(200);\r\n      strokeWeight(2);\r\n      noFill();\r\n      ellipse(xPos+250,yPos+250,coverSize,coverSize);\r\n      ellipse(xPos+250,yPos+250,coverSize-40,coverSize-40);\r\n      ellipse(xPos+250,yPos+250,coverSize-90,coverSize-90);\r\n      ellipse(xPos+250,yPos+250,coverSize-130,coverSize-130);\r\n      ellipse(xPos+250,yPos+250,coverSize-180,coverSize-180);\r\n      fill(0);\r\n      ellipse(xPos+250,yPos+250,centralDiskSize,centralDiskSize);\r\n      noFill();\r\n      rect(xPos+175,yPos+375,rectSize,rectSize);\r\n      rect(xPos+225,yPos+375,rectSize,rectSize);\r\n      rect(xPos+275,yPos+375,rectSize,rectSize);\r\n    }\r\n    \r\n    void rotateFan(){\r\n      background(200);\r\n      ellipse(bladePosX,bladePosY,bladeSize,bladeSize);\r\n      bladePosX=width/2+coverSize*cos(angle);\r\n      bladePosY=height/2+coverSize*sin(angle);\r\n      angle=angle+(PI/90);\r\n      ellipse(bladePosX,bladePosY,bladeSize,bladeSize);\r\n      //ellipse(xPos+250,yPos+250,centralDiskSize,centralDiskSize);\r\n      //buttons();\r\n    }\r\n    \r\n    void btton(){\r\n      if(button){\r\n        background(255);\r\n        stroke(0);\r\n        if (button){\r\n          \r\n    \r\n    void mousePressed (){\r\n      if (mouseX &gt;    xPos &amp;&amp; mouseX &lt; xPos+rectSize &amp;&amp; mouseY &gt; yPos &amp;&amp; mouseY &lt; yPos+rectSize){\r\n        button = !button;\r\n      }\r\n    }","title":"Trying to figure how to make a fan to Rotate in Processing","body":"<p>I'm completely new to Java Processing and I am trying to figure out a way to deign a fan which will rotate and increase the speed when press the plus(+) button and decrease when press the negative(-) button. As well as a way to display the speed which the fan is rotating.</p>\n<pre><code>final int coverSize=250;\nfinal int centralDiskSize=30;\nfinal int rectSize=50;\nfinal int bladeSize=30;\nfloat xPos=0, yPos=0;\nfloat angle=250;\nfloat bladePosX=0, bladePosY=0; \nboolean button = false;\n\nvoid setup(){\n  size(500,500);\n  bladePosX=width/2+coverSize;\n  bladePosY=height/2;\n\n\n}\n\nvoid draw(){\n  //rotateFan();\n  drawFan();\n  btton();\n}\n\n\nvoid drawFan(){\n  background(200);\n  strokeWeight(2);\n  noFill();\n  ellipse(xPos+250,yPos+250,coverSize,coverSize);\n  ellipse(xPos+250,yPos+250,coverSize-40,coverSize-40);\n  ellipse(xPos+250,yPos+250,coverSize-90,coverSize-90);\n  ellipse(xPos+250,yPos+250,coverSize-130,coverSize-130);\n  ellipse(xPos+250,yPos+250,coverSize-180,coverSize-180);\n  fill(0);\n  ellipse(xPos+250,yPos+250,centralDiskSize,centralDiskSize);\n  noFill();\n  rect(xPos+175,yPos+375,rectSize,rectSize);\n  rect(xPos+225,yPos+375,rectSize,rectSize);\n  rect(xPos+275,yPos+375,rectSize,rectSize);\n}\n\nvoid rotateFan(){\n  background(200);\n  ellipse(bladePosX,bladePosY,bladeSize,bladeSize);\n  bladePosX=width/2+coverSize*cos(angle);\n  bladePosY=height/2+coverSize*sin(angle);\n  angle=angle+(PI/90);\n  ellipse(bladePosX,bladePosY,bladeSize,bladeSize);\n  //ellipse(xPos+250,yPos+250,centralDiskSize,centralDiskSize);\n  //buttons();\n}\n\nvoid btton(){\n  if(button){\n    background(255);\n    stroke(0);\n    if (button){\n      \n\nvoid mousePressed (){\n  if (mouseX &gt;    xPos &amp;&amp; mouseX &lt; xPos+rectSize &amp;&amp; mouseY &gt; yPos &amp;&amp; mouseY &lt; yPos+rectSize){\n    button = !button;\n  }\n}\n</code></pre>\n"},{"tags":["java","hadoop","mapreduce"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1666536904,"post_id":74168717,"comment_id":130955605,"body_markdown":"Hint: Your reducer **got** nothing - `Reduce input records=0`, so your mapper is the problem","body":"Hint: Your reducer <b>got</b> nothing - <code>Reduce input records=0</code>, so your mapper is the problem"}],"answers":[{"tags":[],"owner":{"account_id":377596,"reputation":5231,"user_id":729819,"accept_rate":83,"display_name":"Ben Watson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666522499,"creation_date":1666522499,"answer_id":74170569,"question_id":74168717,"body_markdown":"As per your mapper code:\r\n\r\n```java\r\npublic void map(LongWritable arg0, Text Value, Context context) throws IOException, InterruptedException {\r\n    String line = Value.toString();\r\n    if(line.length() == 0 &amp;&amp; !line.contains(&quot;MAX&quot;)) {\r\n```\r\n\r\n`line.length() == 0` you are discarding any input that isn&#39;t blank. You want `line.length() != 0`.","title":"Hadoop Reducer Not Writing anything despite writing to context","body":"<p>As per your mapper code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void map(LongWritable arg0, Text Value, Context context) throws IOException, InterruptedException {\n    String line = Value.toString();\n    if(line.length() == 0 &amp;&amp; !line.contains(&quot;MAX&quot;)) {\n</code></pre>\n<p><code>line.length() == 0</code> you are discarding any input that isn't blank. You want <code>line.length() != 0</code>.</p>\n"}],"owner":{"account_id":21505757,"reputation":35,"user_id":15849171,"display_name":"Anvay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666536919,"creation_date":1666500520,"question_id":74168717,"body_markdown":"I run the exported jar as a mapreduce job hadoop and 0 bytes are being written the to output file. \r\n\r\nLOGS\r\n\r\n```\r\n2022-10-22 21:38:19,004 INFO mapreduce.Job:  map 100% reduce 100%\r\n2022-10-22 21:38:19,012 INFO mapreduce.Job: Job job_1666492742770_0009 completed successfully\r\n2022-10-22 21:38:19,159 INFO mapreduce.Job: Counters: 54\r\n        File System Counters\r\n                FILE: Number of bytes read=6\r\n                FILE: Number of bytes written=1134025\r\n                FILE: Number of read operations=0\r\n                FILE: Number of large read operations=0\r\n                FILE: Number of write operations=0\r\n                HDFS: Number of bytes read=446009085\r\n                HDFS: Number of bytes written=0\r\n                HDFS: Number of read operations=17\r\n                HDFS: Number of large read operations=0\r\n                HDFS: Number of write operations=2\r\n                HDFS: Number of bytes read erasure-coded=0\r\n        Job Counters\r\n                Launched map tasks=4\r\n                Launched reduce tasks=1\r\n                Rack-local map tasks=4\r\n                Total time spent by all maps in occupied slots (ms)=38622\r\n                Total time spent by all reduces in occupied slots (ms)=6317\r\n                Total time spent by all map tasks (ms)=38622\r\n                Total time spent by all reduce tasks (ms)=6317\r\n                Total vcore-milliseconds taken by all map tasks=38622\r\n                Total vcore-milliseconds taken by all reduce tasks=6317\r\n                Total megabyte-milliseconds taken by all map tasks=39548928\r\n                Total megabyte-milliseconds taken by all reduce tasks=6468608\r\n        Map-Reduce Framework\r\n                Map input records=3208607\r\n                Map output records=0\r\n                Map output bytes=0\r\n                Map output materialized bytes=24\r\n                Input split bytes=424\r\n                Combine input records=0\r\n                Combine output records=0\r\n                Reduce input groups=0\r\n                Reduce shuffle bytes=24\r\n                Reduce input records=0\r\n                Reduce output records=0\r\n                Spilled Records=0\r\n                Shuffled Maps =4\r\n                Failed Shuffles=0\r\n                Merged Map outputs=4\r\n                GC time elapsed (ms)=505\r\n                CPU time spent (ms)=9339\r\n                Physical memory (bytes) snapshot=2058481664\r\n                Virtual memory (bytes) snapshot=2935365632\r\n                Total committed heap usage (bytes)=1875378176\r\n                Peak Map Physical memory (bytes)=501469184\r\n                Peak Map Virtual memory (bytes)=643743744\r\n                Peak Reduce Physical memory (bytes)=206155776\r\n                Peak Reduce Virtual memory (bytes)=384512000\r\n        Shuffle Errors\r\n                BAD_ID=0\r\n                CONNECTION=0\r\n                IO_ERROR=0\r\n                WRONG_LENGTH=0\r\n                WRONG_MAP=0\r\n                WRONG_REDUCE=0\r\n        File Input Format Counters\r\n                Bytes Read=446008661\r\n        File Output Format Counters\r\n                Bytes Written=0\r\n```\r\n\r\nany help appreciated!\r\nMap Function :\r\n\r\n```\r\n        public void map(LongWritable arg0, Text Value, Context context) throws IOException, InterruptedException {\r\n            String line = Value.toString();\r\n            if(line.length() == 0 &amp;&amp; !line.contains(&quot;MAX&quot;)) {\r\n                String date = line.substring(14,21);\r\n                float temp_Max;\r\n                float temp_Min;\r\n\r\n                try {\r\n                    temp_Max = Float.parseFloat(line.substring(104,108).trim());\r\n                }catch(NumberFormatException e) {\r\n                    temp_Max = Float.parseFloat(line.substring(104,107).trim());\r\n\r\n                }\r\n\r\n\r\n\r\n                try {\r\n                    temp_Min = Float.parseFloat(line.substring(112,117).trim());\r\n                }catch(NumberFormatException e) {\r\n                    temp_Min = Float.parseFloat(line.substring(112,116).trim());\r\n                }\r\n\r\n\r\n                if(temp_Max &gt; 35.0) {\r\n                    context.write(new Text(&quot;Hot Day&quot; + date), new FloatWritable(temp_Max));\r\n                }\r\n                if(temp_Min &lt; 10) {\r\n                    context.write(new Text(&quot;Cold Day&quot; + date), new FloatWritable(temp_Min));\r\n                }\r\n\r\n\r\n\r\n            }\r\n\r\n        }\r\n```\r\n\r\nReducer Function: \r\n\r\n```\r\npublic static class MaxMinTemperatureReducer extends Reducer&lt;Text, Text, Text, FloatWritable&gt;  {\r\n\r\n\r\n        FloatWritable res = new FloatWritable();\r\n\r\n            public void reduce(Text key, Iterable&lt;IntWritable&gt; values,\r\n                    Context context\r\n                       ) throws IOException, InterruptedException {\r\n                float sum = 0;\r\n                for (IntWritable val : values) {\r\n                    sum += val.get();\r\n                }\r\n                res.set(sum);\r\n                LogManager lgmngr = LogManager.getLogManager();\r\n\r\n                // lgmngr now contains a reference to the log manager.\r\n                Logger log = lgmngr.getLogger(Logger.GLOBAL_LOGGER_NAME);\r\n\r\n                // Getting the global application level logger\r\n                // from the Java Log Manager\r\n                log.log(Level.INFO, &quot;LOL_PLS_WORK&quot;,res.toString());\r\n                context.write(key,res);\r\n            }\r\n    }\r\n```\r\n\r\nMain: \r\n```\r\n        Configuration conf = new Configuration();\r\n        Job job = Job.getInstance(conf,&quot;weather example&quot;);\r\n\r\n        job.setJarByClass(MyMaxMin.class);\r\n        job.setMapOutputKeyClass(Text.class);\r\n        job.setMapOutputValueClass(Text.class);\r\n        job.setMapperClass(MaxMinTemperatureMapper.class);\r\n        job.setReducerClass(MaxMinTemperatureReducer.class);\r\n        job.setInputFormatClass(TextInputFormat.class);\r\n        job.setOutputFormatClass(TextOutputFormat.class);\r\n        Path OutputPath = new Path(args[1]);\r\n        FileInputFormat.addInputPath(job, new Path(args[0]));\r\n        FileOutputFormat.setOutputPath(job, new Path(args[1]));\r\n        OutputPath.getFileSystem(conf).delete(OutputPath, true);\r\n        System.exit(job.waitForCompletion(true) ? 0 : 1);\r\n```","title":"Hadoop Reducer Not Writing anything despite writing to context","body":"<p>I run the exported jar as a mapreduce job hadoop and 0 bytes are being written the to output file.</p>\n<p>LOGS</p>\n<pre><code>2022-10-22 21:38:19,004 INFO mapreduce.Job:  map 100% reduce 100%\n2022-10-22 21:38:19,012 INFO mapreduce.Job: Job job_1666492742770_0009 completed successfully\n2022-10-22 21:38:19,159 INFO mapreduce.Job: Counters: 54\n        File System Counters\n                FILE: Number of bytes read=6\n                FILE: Number of bytes written=1134025\n                FILE: Number of read operations=0\n                FILE: Number of large read operations=0\n                FILE: Number of write operations=0\n                HDFS: Number of bytes read=446009085\n                HDFS: Number of bytes written=0\n                HDFS: Number of read operations=17\n                HDFS: Number of large read operations=0\n                HDFS: Number of write operations=2\n                HDFS: Number of bytes read erasure-coded=0\n        Job Counters\n                Launched map tasks=4\n                Launched reduce tasks=1\n                Rack-local map tasks=4\n                Total time spent by all maps in occupied slots (ms)=38622\n                Total time spent by all reduces in occupied slots (ms)=6317\n                Total time spent by all map tasks (ms)=38622\n                Total time spent by all reduce tasks (ms)=6317\n                Total vcore-milliseconds taken by all map tasks=38622\n                Total vcore-milliseconds taken by all reduce tasks=6317\n                Total megabyte-milliseconds taken by all map tasks=39548928\n                Total megabyte-milliseconds taken by all reduce tasks=6468608\n        Map-Reduce Framework\n                Map input records=3208607\n                Map output records=0\n                Map output bytes=0\n                Map output materialized bytes=24\n                Input split bytes=424\n                Combine input records=0\n                Combine output records=0\n                Reduce input groups=0\n                Reduce shuffle bytes=24\n                Reduce input records=0\n                Reduce output records=0\n                Spilled Records=0\n                Shuffled Maps =4\n                Failed Shuffles=0\n                Merged Map outputs=4\n                GC time elapsed (ms)=505\n                CPU time spent (ms)=9339\n                Physical memory (bytes) snapshot=2058481664\n                Virtual memory (bytes) snapshot=2935365632\n                Total committed heap usage (bytes)=1875378176\n                Peak Map Physical memory (bytes)=501469184\n                Peak Map Virtual memory (bytes)=643743744\n                Peak Reduce Physical memory (bytes)=206155776\n                Peak Reduce Virtual memory (bytes)=384512000\n        Shuffle Errors\n                BAD_ID=0\n                CONNECTION=0\n                IO_ERROR=0\n                WRONG_LENGTH=0\n                WRONG_MAP=0\n                WRONG_REDUCE=0\n        File Input Format Counters\n                Bytes Read=446008661\n        File Output Format Counters\n                Bytes Written=0\n</code></pre>\n<p>any help appreciated!\nMap Function :</p>\n<pre><code>        public void map(LongWritable arg0, Text Value, Context context) throws IOException, InterruptedException {\n            String line = Value.toString();\n            if(line.length() == 0 &amp;&amp; !line.contains(&quot;MAX&quot;)) {\n                String date = line.substring(14,21);\n                float temp_Max;\n                float temp_Min;\n\n                try {\n                    temp_Max = Float.parseFloat(line.substring(104,108).trim());\n                }catch(NumberFormatException e) {\n                    temp_Max = Float.parseFloat(line.substring(104,107).trim());\n\n                }\n\n\n\n                try {\n                    temp_Min = Float.parseFloat(line.substring(112,117).trim());\n                }catch(NumberFormatException e) {\n                    temp_Min = Float.parseFloat(line.substring(112,116).trim());\n                }\n\n\n                if(temp_Max &gt; 35.0) {\n                    context.write(new Text(&quot;Hot Day&quot; + date), new FloatWritable(temp_Max));\n                }\n                if(temp_Min &lt; 10) {\n                    context.write(new Text(&quot;Cold Day&quot; + date), new FloatWritable(temp_Min));\n                }\n\n\n\n            }\n\n        }\n</code></pre>\n<p>Reducer Function:</p>\n<pre><code>public static class MaxMinTemperatureReducer extends Reducer&lt;Text, Text, Text, FloatWritable&gt;  {\n\n\n        FloatWritable res = new FloatWritable();\n\n            public void reduce(Text key, Iterable&lt;IntWritable&gt; values,\n                    Context context\n                       ) throws IOException, InterruptedException {\n                float sum = 0;\n                for (IntWritable val : values) {\n                    sum += val.get();\n                }\n                res.set(sum);\n                LogManager lgmngr = LogManager.getLogManager();\n\n                // lgmngr now contains a reference to the log manager.\n                Logger log = lgmngr.getLogger(Logger.GLOBAL_LOGGER_NAME);\n\n                // Getting the global application level logger\n                // from the Java Log Manager\n                log.log(Level.INFO, &quot;LOL_PLS_WORK&quot;,res.toString());\n                context.write(key,res);\n            }\n    }\n</code></pre>\n<p>Main:</p>\n<pre><code>        Configuration conf = new Configuration();\n        Job job = Job.getInstance(conf,&quot;weather example&quot;);\n\n        job.setJarByClass(MyMaxMin.class);\n        job.setMapOutputKeyClass(Text.class);\n        job.setMapOutputValueClass(Text.class);\n        job.setMapperClass(MaxMinTemperatureMapper.class);\n        job.setReducerClass(MaxMinTemperatureReducer.class);\n        job.setInputFormatClass(TextInputFormat.class);\n        job.setOutputFormatClass(TextOutputFormat.class);\n        Path OutputPath = new Path(args[1]);\n        FileInputFormat.addInputPath(job, new Path(args[0]));\n        FileOutputFormat.setOutputPath(job, new Path(args[1]));\n        OutputPath.getFileSystem(conf).delete(OutputPath, true);\n        System.exit(job.waitForCompletion(true) ? 0 : 1);\n</code></pre>\n"},{"tags":["java","class"],"comments":[{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1666484767,"post_id":74167911,"comment_id":130948456,"body_markdown":"[1] `private`, [2] inner classes get to refer to an instance of their outer implicitly. make it a separate class and you&#39;d either have to make a field for that, or figure out a way to do without.","body":"[1] <code>private</code>, [2] inner classes get to refer to an instance of their outer implicitly. make it a separate class and you&#39;d either have to make a field for that, or figure out a way to do without."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":1,"creation_date":1666486636,"post_id":74167911,"comment_id":130948618,"body_markdown":"Move the class Node outside and compile your code.  If it compiles and runs as expected, then there&#39;s no change needed.  Otherwise, ask yourself, what do you need to do to make it work if the node class is outside?","body":"Move the class Node outside and compile your code.  If it compiles and runs as expected, then there&#39;s no change needed.  Otherwise, ask yourself, what do you need to do to make it work if the node class is outside?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1666536431,"post_id":74167911,"comment_id":130955503,"body_markdown":"It is an **inner** class. Java has no concept called *internal* class.","body":"It is an <b>inner</b> class. Java has no concept called <i>internal</i> class."}],"owner":{"account_id":23294976,"reputation":53,"user_id":17376517,"display_name":"Carlo Viloria"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1666536500,"creation_date":1666483790,"question_id":74167911,"body_markdown":"I&#39;m asked this question and I&#39;m not really sure what it means,\r\n\r\n&gt; In our LinkedList class, the Node class is an internal class. Briefly\r\n&gt; describe two things that would have to be coded differently if the\r\n&gt; Node class was a separate class from the LinkedList class.\r\n\r\nHere&#39;s the code for my LinkedList class:\r\n\r\n```java\r\npublic class LinkedList&lt;T&gt; implements LinkedListInterface&lt;T&gt; {\r\n  private Node head;\r\n  private Node tail;\r\n  private int count;\r\n\r\n  public LinkedList() {\r\n    head = null;\r\n    tail = null;\r\n    count = 0;\r\n  }\r\n\r\n  class Node {\r\n    T data;\r\n    Node next;\r\n\r\n    Node(T data) {\r\n      this.data = data;\r\n      next = null;\r\n    }\r\n  }\r\n\r\n  public Node getHead() {\r\n    return head;\r\n  }\r\n\r\n  public int add(T item) {\r\n    Node newNode = new Node(item);\r\n    if (isEmpty()) {\r\n      head = newNode;\r\n    } else {\r\n      tail.next = newNode;\r\n    }\r\n    tail = newNode;\r\n    count++;\r\n    return count;\r\n  }\r\n\r\n  public void add(T item, int pos) throws ListException {\r\n    if (pos &lt; 1 || pos &gt; count + 1) {\r\n      throw new ListException(&quot;Invalid position to insert at&quot;);\r\n    }\r\n    Node newNode = new Node(item);\r\n    if (count == 0) {\r\n      add(item);\r\n    } else if (pos == count + 1) {\r\n      add(item);\r\n    } else if (pos == 1) {\r\n      newNode.next = head;\r\n      head = newNode;\r\n      count++;\r\n    } else {\r\n      Node prev = jump(pos - 2);\r\n      newNode.next = prev.next;\r\n      prev.next = newNode;\r\n      count++;\r\n    }\r\n  }\r\n\r\n  private Node jump(int numJumps) {\r\n    Node nd = head;\r\n    for (int i = 0; i &lt; numJumps; i++) {\r\n      nd = nd.next;\r\n    }\r\n    return nd;\r\n  }\r\n\r\n  public LinkedList&lt;T&gt; combine(LinkedList&lt;T&gt; obj2) {\r\n    Node list1 = this.getHead();\r\n    Node list2 = obj2.getHead();\r\n    if (list2 == null) {\r\n      return this;\r\n    }\r\n    if(list1==null) {\r\n      return obj2;\r\n    }\r\n    \r\n    Node temp=list1;\r\n    while(temp.next!=null) {\r\n      temp = temp.next;\r\n    }\r\n    temp.next=list2;\r\n    return this;\r\n  }\r\n\r\n  public int contains(T item) {\r\n    Node nd = this.head;\r\n    for (int pos = 1; pos &lt;= count; pos++) {\r\n      if (nd.data.equals(item)) {\r\n        return pos;\r\n      }\r\n      nd = nd.next;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  public LinkedList&lt;T&gt; copy() {\r\n    LinkedList&lt;T&gt; l = new LinkedList&lt;T&gt;();\r\n    try {\r\n      for (int pos = 1; pos &lt;= count; pos++)\r\n        l.add(retrieve(pos));\r\n    }\r\n    catch(ListException e) {\r\n      System.out.println(&quot;Should not occur (Copy)&quot;);\r\n    }\r\n    return l;\r\n  }\r\n\r\n  public boolean equals(Object list) {\r\n    if (list == null) {\r\n      return false;\r\n    }\r\n    LinkedList myLinkedList = (LinkedList)list;\r\n    if(myLinkedList.getClass() != this.getClass()) {\r\n      return false;\r\n    }\r\n    if(myLinkedList.length() != this.length()) {\r\n      return false;\r\n    }\r\n    try{\r\n      for (int pos = 1; pos &lt;= count; pos++) {\r\n        if(!myLinkedList.retrieve(pos).equals(this.retrieve(pos))) {\r\n          return false;\r\n        }\r\n      }\r\n    }\r\n    catch (ListException e) {\r\n      System.out.println(&quot;Should not occur&quot;);\r\n    }\r\n    return true;\r\n  }\r\n\r\n  public boolean isEmpty() {\r\n    return length() == 0;\r\n  }\r\n\r\n  public int length() {\r\n    return count;\r\n  }\r\n  @SuppressWarnings(&quot;unchecked&quot;)\r\n\r\n  public T remove(int pos) throws ListException {\r\n    if (pos &lt; 1 || pos &gt; count) {\r\n      throw new ListException(&quot;Invalid position to remove from&quot;);\r\n    }\r\n    Node removedItem = null;\r\n    if (count == 1) {\r\n      removedItem = head;\r\n      head = null;\r\n      tail = null;\r\n    } else if (pos == 1) {\r\n      removedItem = head;\r\n      head = head.next;\r\n    } else if (pos == count) {\r\n      removedItem = tail;\r\n      Node prev = jump(pos - 2);\r\n      prev.next = null;\r\n      tail = prev;\r\n    } else {\r\n      Node prev = jump(pos - 2);\r\n      removedItem = prev.next;\r\n      prev.next = prev.next.next;\r\n    }\r\n    count--;\r\n    return removedItem.data;\r\n  }\r\n\r\n  public int remove(T item) {\r\n    int numRemoved = 0;\r\n    int pos = -1;\r\n    try {\r\n      while ((pos = contains(item)) &gt; 0) {\r\n        remove(pos);\r\n        numRemoved++;\r\n      }\r\n    } catch (ListException e){\r\n      System.out.print(e);\r\n    }\r\n    return numRemoved;\r\n  }\r\n\r\n  int find_length(Node list){\r\n    int count = 0;\r\n    while (list!=null) {\r\n      count++;\r\n      list=list.next;\r\n    }\r\n    return count;\r\n  }\r\n  public void replace(T item, int pos) throws ListException {\r\n    if (pos &lt; 1 || pos &gt; count + 1) {\r\n      throw new ListException(&quot;Invalid position to replace at&quot;);\r\n    }\r\n    Node list = this.getHead();\r\n    int length = find_length(list);\r\n    if(pos&lt;1||pos&gt;length){\r\n      return;\r\n    }\r\n    while(list!=null){\r\n      pos--;\r\n      if(pos==0){\r\n        list.data=item;\r\n        return;\r\n      }\r\n      list=list.next;\r\n    }\r\n  }\r\n  \r\n\r\n  public T retrieve(int pos) throws ListException {\r\n    T item = null;\r\n    if (pos &lt; 1 || pos &gt; count) {\r\n    throw new ListException(&quot;Invalid position to retrieve from&quot;);\r\n    }\r\n    if (pos == 1) {\r\n    return head.data;\r\n    }\r\n    Node prev = jump(pos - 2);\r\n    item = prev.next.data;\r\n    return item;\r\n  }\r\n\r\n  public LinkedList&lt;T&gt; reverse() {\r\n    LinkedList&lt;T&gt; l = new LinkedList&lt;T&gt;();\r\n    try {\r\n      for (int pos = count; pos &gt; 0; pos--)\r\n        l.add(retrieve(pos));\r\n    }\r\n    catch (ListException e) {\r\n      System.out.println(&quot;Should not occur (Reverse)&quot;);\r\n    }\r\n    return l;\r\n  }\r\n    public String toString() {\r\n       String temp = &quot;&quot;;\r\n       Node nd = head;\r\n       while (nd != null) {\r\n          temp += nd.data + &quot;-&quot;;\r\n          nd = nd.next;\r\n       }\r\n       return temp;\r\n    }\r\n}\r\n```\r\nWhat I&#39;m trying to get is the since the Node class is located in the same class as my LinkedList class, it is referred to as an internal class. If it were to be separate, would I have to implement a Node class similarly to the LinkedListInterface\\&lt;T&gt; class? What else would have to be coded differently?\r\n\r\n","title":"Node class is an internal class in my code?","body":"<p>I'm asked this question and I'm not really sure what it means,</p>\n<blockquote>\n<p>In our LinkedList class, the Node class is an internal class. Briefly\ndescribe two things that would have to be coded differently if the\nNode class was a separate class from the LinkedList class.</p>\n</blockquote>\n<p>Here's the code for my LinkedList class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LinkedList&lt;T&gt; implements LinkedListInterface&lt;T&gt; {\n  private Node head;\n  private Node tail;\n  private int count;\n\n  public LinkedList() {\n    head = null;\n    tail = null;\n    count = 0;\n  }\n\n  class Node {\n    T data;\n    Node next;\n\n    Node(T data) {\n      this.data = data;\n      next = null;\n    }\n  }\n\n  public Node getHead() {\n    return head;\n  }\n\n  public int add(T item) {\n    Node newNode = new Node(item);\n    if (isEmpty()) {\n      head = newNode;\n    } else {\n      tail.next = newNode;\n    }\n    tail = newNode;\n    count++;\n    return count;\n  }\n\n  public void add(T item, int pos) throws ListException {\n    if (pos &lt; 1 || pos &gt; count + 1) {\n      throw new ListException(&quot;Invalid position to insert at&quot;);\n    }\n    Node newNode = new Node(item);\n    if (count == 0) {\n      add(item);\n    } else if (pos == count + 1) {\n      add(item);\n    } else if (pos == 1) {\n      newNode.next = head;\n      head = newNode;\n      count++;\n    } else {\n      Node prev = jump(pos - 2);\n      newNode.next = prev.next;\n      prev.next = newNode;\n      count++;\n    }\n  }\n\n  private Node jump(int numJumps) {\n    Node nd = head;\n    for (int i = 0; i &lt; numJumps; i++) {\n      nd = nd.next;\n    }\n    return nd;\n  }\n\n  public LinkedList&lt;T&gt; combine(LinkedList&lt;T&gt; obj2) {\n    Node list1 = this.getHead();\n    Node list2 = obj2.getHead();\n    if (list2 == null) {\n      return this;\n    }\n    if(list1==null) {\n      return obj2;\n    }\n    \n    Node temp=list1;\n    while(temp.next!=null) {\n      temp = temp.next;\n    }\n    temp.next=list2;\n    return this;\n  }\n\n  public int contains(T item) {\n    Node nd = this.head;\n    for (int pos = 1; pos &lt;= count; pos++) {\n      if (nd.data.equals(item)) {\n        return pos;\n      }\n      nd = nd.next;\n    }\n    return 0;\n  }\n\n  public LinkedList&lt;T&gt; copy() {\n    LinkedList&lt;T&gt; l = new LinkedList&lt;T&gt;();\n    try {\n      for (int pos = 1; pos &lt;= count; pos++)\n        l.add(retrieve(pos));\n    }\n    catch(ListException e) {\n      System.out.println(&quot;Should not occur (Copy)&quot;);\n    }\n    return l;\n  }\n\n  public boolean equals(Object list) {\n    if (list == null) {\n      return false;\n    }\n    LinkedList myLinkedList = (LinkedList)list;\n    if(myLinkedList.getClass() != this.getClass()) {\n      return false;\n    }\n    if(myLinkedList.length() != this.length()) {\n      return false;\n    }\n    try{\n      for (int pos = 1; pos &lt;= count; pos++) {\n        if(!myLinkedList.retrieve(pos).equals(this.retrieve(pos))) {\n          return false;\n        }\n      }\n    }\n    catch (ListException e) {\n      System.out.println(&quot;Should not occur&quot;);\n    }\n    return true;\n  }\n\n  public boolean isEmpty() {\n    return length() == 0;\n  }\n\n  public int length() {\n    return count;\n  }\n  @SuppressWarnings(&quot;unchecked&quot;)\n\n  public T remove(int pos) throws ListException {\n    if (pos &lt; 1 || pos &gt; count) {\n      throw new ListException(&quot;Invalid position to remove from&quot;);\n    }\n    Node removedItem = null;\n    if (count == 1) {\n      removedItem = head;\n      head = null;\n      tail = null;\n    } else if (pos == 1) {\n      removedItem = head;\n      head = head.next;\n    } else if (pos == count) {\n      removedItem = tail;\n      Node prev = jump(pos - 2);\n      prev.next = null;\n      tail = prev;\n    } else {\n      Node prev = jump(pos - 2);\n      removedItem = prev.next;\n      prev.next = prev.next.next;\n    }\n    count--;\n    return removedItem.data;\n  }\n\n  public int remove(T item) {\n    int numRemoved = 0;\n    int pos = -1;\n    try {\n      while ((pos = contains(item)) &gt; 0) {\n        remove(pos);\n        numRemoved++;\n      }\n    } catch (ListException e){\n      System.out.print(e);\n    }\n    return numRemoved;\n  }\n\n  int find_length(Node list){\n    int count = 0;\n    while (list!=null) {\n      count++;\n      list=list.next;\n    }\n    return count;\n  }\n  public void replace(T item, int pos) throws ListException {\n    if (pos &lt; 1 || pos &gt; count + 1) {\n      throw new ListException(&quot;Invalid position to replace at&quot;);\n    }\n    Node list = this.getHead();\n    int length = find_length(list);\n    if(pos&lt;1||pos&gt;length){\n      return;\n    }\n    while(list!=null){\n      pos--;\n      if(pos==0){\n        list.data=item;\n        return;\n      }\n      list=list.next;\n    }\n  }\n  \n\n  public T retrieve(int pos) throws ListException {\n    T item = null;\n    if (pos &lt; 1 || pos &gt; count) {\n    throw new ListException(&quot;Invalid position to retrieve from&quot;);\n    }\n    if (pos == 1) {\n    return head.data;\n    }\n    Node prev = jump(pos - 2);\n    item = prev.next.data;\n    return item;\n  }\n\n  public LinkedList&lt;T&gt; reverse() {\n    LinkedList&lt;T&gt; l = new LinkedList&lt;T&gt;();\n    try {\n      for (int pos = count; pos &gt; 0; pos--)\n        l.add(retrieve(pos));\n    }\n    catch (ListException e) {\n      System.out.println(&quot;Should not occur (Reverse)&quot;);\n    }\n    return l;\n  }\n    public String toString() {\n       String temp = &quot;&quot;;\n       Node nd = head;\n       while (nd != null) {\n          temp += nd.data + &quot;-&quot;;\n          nd = nd.next;\n       }\n       return temp;\n    }\n}\n</code></pre>\n<p>What I'm trying to get is the since the Node class is located in the same class as my LinkedList class, it is referred to as an internal class. If it were to be separate, would I have to implement a Node class similarly to the LinkedListInterface&lt;T&gt; class? What else would have to be coded differently?</p>\n"},{"tags":["java","elasticsearch","full-text-search","date-range"],"answers":[{"tags":[],"owner":{"account_id":13890414,"reputation":323,"user_id":10028567,"display_name":"Tom Lever"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659553290,"creation_date":1659127888,"answer_id":73170889,"question_id":73148091,"body_markdown":"PutMappingRequest.source sets the _source property of the mappings, which is not what I wanted. My goal was to set the entire mappings from JSON, which can be done using PutMappingRequest.withJson.\r\n\r\nThe section of code from `SourceField.Builder...` to `System.out.println(putMappingResponse);` should be replaced with the following.\r\n\r\n            PutMappingRequest.Builder putMappingRequestBuilder = new PutMappingRequest.Builder();\r\n            putMappingRequestBuilder.index(&quot;commit&quot;);\r\n            String mappings =\r\n                &quot;{\\n&quot; +\r\n                &quot;    \\&quot;properties\\&quot;: {\\n&quot; +\r\n                &quot;        \\&quot;id\\&quot;: {\\n&quot; +\r\n                &quot;            \\&quot;type\\&quot;: \\&quot;text\\&quot;\\n&quot; +\r\n                &quot;        },\\n&quot; +\r\n                &quot;        \\&quot;name\\&quot;: {\\n&quot; +\r\n                &quot;            \\&quot;type\\&quot;: \\&quot;text\\&quot;\\n&quot; +\r\n                &quot;        },\\n&quot; +\r\n                &quot;        \\&quot;dateTimeRange\\&quot;: {\\n&quot; +\r\n                &quot;            \\&quot;type\\&quot;: \\&quot;date_range\\&quot;,\\n&quot; +\r\n                &quot;            \\&quot;format\\&quot;: \\&quot;uuuu-MM-dd[[&#39;T&#39;][ ]HH:mm[:ss[.[SSS][SS][S]][,[SSS][SS][S]]]][XXXXX][XXXX][X]\\&quot;\\n&quot; +\r\n                &quot;        }\\n&quot; +\r\n                &quot;    }\\n&quot; +\r\n                &quot;}&quot;;\r\n            putMappingRequestBuilder.withJson(new StringReader(mappings));\r\n            PutMappingRequest putMappingRequest = putMappingRequestBuilder.build();\r\n            PutMappingResponse putMappingResponse = client.indices().putMapping(putMappingRequest);\r\n            System.out.println(putMappingResponse);","title":"How do I use PutMappingRequest with the Elasticsearch 8 Java API Client?","body":"<p>PutMappingRequest.source sets the _source property of the mappings, which is not what I wanted. My goal was to set the entire mappings from JSON, which can be done using PutMappingRequest.withJson.</p>\n<p>The section of code from <code>SourceField.Builder...</code> to <code>System.out.println(putMappingResponse);</code> should be replaced with the following.</p>\n<pre><code>        PutMappingRequest.Builder putMappingRequestBuilder = new PutMappingRequest.Builder();\n        putMappingRequestBuilder.index(&quot;commit&quot;);\n        String mappings =\n            &quot;{\\n&quot; +\n            &quot;    \\&quot;properties\\&quot;: {\\n&quot; +\n            &quot;        \\&quot;id\\&quot;: {\\n&quot; +\n            &quot;            \\&quot;type\\&quot;: \\&quot;text\\&quot;\\n&quot; +\n            &quot;        },\\n&quot; +\n            &quot;        \\&quot;name\\&quot;: {\\n&quot; +\n            &quot;            \\&quot;type\\&quot;: \\&quot;text\\&quot;\\n&quot; +\n            &quot;        },\\n&quot; +\n            &quot;        \\&quot;dateTimeRange\\&quot;: {\\n&quot; +\n            &quot;            \\&quot;type\\&quot;: \\&quot;date_range\\&quot;,\\n&quot; +\n            &quot;            \\&quot;format\\&quot;: \\&quot;uuuu-MM-dd[['T'][ ]HH:mm[:ss[.[SSS][SS][S]][,[SSS][SS][S]]]][XXXXX][XXXX][X]\\&quot;\\n&quot; +\n            &quot;        }\\n&quot; +\n            &quot;    }\\n&quot; +\n            &quot;}&quot;;\n        putMappingRequestBuilder.withJson(new StringReader(mappings));\n        PutMappingRequest putMappingRequest = putMappingRequestBuilder.build();\n        PutMappingResponse putMappingResponse = client.indices().putMapping(putMappingRequest);\n        System.out.println(putMappingResponse);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8881846,"reputation":33,"user_id":6631651,"display_name":"Enomine"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666535582,"creation_date":1666502197,"answer_id":74168821,"question_id":73148091,"body_markdown":"You are my hero! I was stuck on &quot;.source&quot; because this was a way shown on\r\nhttps://javadeveloperzone.com/elastic-search/elastic-search-put-mapping-example/\r\nhow it works (in Chapter 2.3 PUT Mapping XContentBuilder). I was false on that.\r\n\r\nWell with your help i now build that:\r\n\r\n    XContentBuilder xcb = XContentFactory.jsonBuilder();\r\n\t\txcb.startObject();\r\n\t\txcb.startObject(&quot;properties&quot;);\r\n\t\txcb.startObject(&quot;Rechnungsdatum&quot;);\r\n\t\txcb.field(&quot;type&quot;, &quot;date&quot;);\r\n\t\txcb.endObject();\r\n\t\txcb.endObject();\r\n\t\txcb.endObject();\r\n\t\tString json = Strings.toString(xcb);\r\n\t\tSystem.out.println(json);\r\n\t\tPutMappingRequest pmr2 = new PutMappingRequest.Builder().index(&quot;rechnungen7&quot;).withJson(new StringReader(json)).build();\r\n\t\tPutMappingResponse pma2 = client.indices().putMapping(pmr2);\r\n\t\tSystem.out.println(pma2.toString());\r\n\r\nMaybe this will help somebody one day =)\r\n\r\nThanks - Enomine","title":"How do I use PutMappingRequest with the Elasticsearch 8 Java API Client?","body":"<p>You are my hero! I was stuck on &quot;.source&quot; because this was a way shown on\n<a href=\"https://javadeveloperzone.com/elastic-search/elastic-search-put-mapping-example/\" rel=\"nofollow noreferrer\">https://javadeveloperzone.com/elastic-search/elastic-search-put-mapping-example/</a>\nhow it works (in Chapter 2.3 PUT Mapping XContentBuilder). I was false on that.</p>\n<p>Well with your help i now build that:</p>\n<pre><code>XContentBuilder xcb = XContentFactory.jsonBuilder();\n    xcb.startObject();\n    xcb.startObject(&quot;properties&quot;);\n    xcb.startObject(&quot;Rechnungsdatum&quot;);\n    xcb.field(&quot;type&quot;, &quot;date&quot;);\n    xcb.endObject();\n    xcb.endObject();\n    xcb.endObject();\n    String json = Strings.toString(xcb);\n    System.out.println(json);\n    PutMappingRequest pmr2 = new PutMappingRequest.Builder().index(&quot;rechnungen7&quot;).withJson(new StringReader(json)).build();\n    PutMappingResponse pma2 = client.indices().putMapping(pmr2);\n    System.out.println(pma2.toString());\n</code></pre>\n<p>Maybe this will help somebody one day =)</p>\n<p>Thanks - Enomine</p>\n"}],"owner":{"account_id":13890414,"reputation":323,"user_id":10028567,"display_name":"Tom Lever"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1613,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73170889,"answer_count":2,"score":2,"last_activity_date":1666535582,"creation_date":1658989194,"question_id":73148091,"body_markdown":"I am able to find an object with a datetime range corresponding to `2022-07-27` when sending the following HTTP requests from Postman to an Elasticsearch 8.3.2 server.\r\n\r\n    PUT http://localhost:9200/commit\r\n    {\r\n        &quot;mappings&quot;: {\r\n            &quot;properties&quot;: {\r\n                &quot;dateTimeRange&quot;: {\r\n                    &quot;type&quot;: &quot;date_range&quot;,\r\n                    &quot;format&quot;: &quot;uuuu-MM-dd[[&#39;T&#39;][ ]HH:mm[:ss[.[SSS][SS][S]][,[SSS][SS][S]]]][XXXXX][XXXX][X]&quot;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    PUT http://localhost:9200/commit/_doc/commit20220727?refresh\r\n    {\r\n        &quot;dateTimeRange&quot;: {\r\n            &quot;gte&quot;: &quot;2022-07-27T00:00:00.000Z&quot;, \r\n            &quot;lte&quot;: &quot;2022-07-27T23:59:59.999Z&quot;\r\n        }\r\n    }\r\n\r\n    PUT http://localhost:9200/commit/_doc/commit20220728?refresh\r\n    {\r\n        &quot;dateTimeRange&quot;: {\r\n            &quot;gte&quot;: &quot;2022-07-28T00:00:00.000Z&quot;, \r\n            &quot;lte&quot;: &quot;2022-07-28T23:59:59.999Z&quot;\r\n        }\r\n    }\r\n\r\n    POST http://localhost:9200/commit/_search\r\n    {\r\n        &quot;query&quot; : {\r\n            &quot;range&quot; : {\r\n                &quot;dateTimeRange&quot; : { \r\n                    &quot;gte&quot;: &quot;2022-07-27T12:12:12.999Z&quot;,\r\n                    &quot;lte&quot;: &quot;9999-12-31T23:59:59.999Z&quot;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThat being said, I am unable to use the Elasticsearch Java API Client and the query `datetime:[2022-07-27T12\\\\:12\\\\:12.121Z TO *]` to find an object with a date range corresponding to `2022-07-27`.\r\n\r\nIn ElasticsearchIndexerAndQuerierTest.java, the code on line 158 under comment `Attempt to search for commits with specific dateTime ranges` yields the assertion error `expected:&lt;2&gt; but was:&lt;0&gt;`.\r\n\r\nHow do I resolve this assertion error?\r\n\r\n-----\r\n\r\nElasticsearchIndexerAndQuerierTest.java\r\n\r\n    package Com.TSL.ElasticsearchIndexerAndQuerier;\r\n    \r\n    import static org.junit.Assert.assertEquals;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.List;\r\n    \r\n    import org.apache.http.HttpHost;\r\n    import org.apache.http.auth.AuthScope;\r\n    import org.apache.http.auth.UsernamePasswordCredentials;\r\n    import org.apache.http.client.CredentialsProvider;\r\n    import org.apache.http.impl.client.BasicCredentialsProvider;\r\n    import org.apache.http.impl.nio.client.HttpAsyncClientBuilder;\r\n    import org.elasticsearch.client.RestClient;\r\n    import org.elasticsearch.client.RestClientBuilder;\r\n    import org.elasticsearch.client.RestClientBuilder.HttpClientConfigCallback;\r\n    import org.junit.Test;\r\n    \r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    import co.elastic.clients.elasticsearch.ElasticsearchClient;\r\n    import co.elastic.clients.elasticsearch._types.mapping.SourceField;\r\n    import co.elastic.clients.elasticsearch.core.DeleteRequest;\r\n    import co.elastic.clients.elasticsearch.core.DeleteResponse;\r\n    import co.elastic.clients.elasticsearch.core.IndexRequest;\r\n    import co.elastic.clients.elasticsearch.core.IndexResponse;\r\n    import co.elastic.clients.elasticsearch.core.SearchRequest;\r\n    import co.elastic.clients.elasticsearch.core.SearchResponse;\r\n    import co.elastic.clients.elasticsearch.core.search.Hit;\r\n    import co.elastic.clients.elasticsearch.indices.CreateIndexRequest;\r\n    import co.elastic.clients.elasticsearch.indices.CreateIndexResponse;\r\n    import co.elastic.clients.elasticsearch.indices.DeleteIndexRequest;\r\n    import co.elastic.clients.elasticsearch.indices.DeleteIndexResponse;\r\n    import co.elastic.clients.elasticsearch.indices.PutMappingRequest;\r\n    import co.elastic.clients.elasticsearch.indices.PutMappingResponse;\r\n    import co.elastic.clients.elasticsearch.indices.RefreshResponse;\r\n    import co.elastic.clients.json.jackson.JacksonJsonpMapper;\r\n    import co.elastic.clients.transport.ElasticsearchTransport;\r\n    import co.elastic.clients.transport.rest_client.RestClientTransport;\r\n\r\n    public class ElasticsearchIndexerAndQuerierTest {\r\n\r\n    @Test\r\n    public void testElasticsearchIndexerAndQuerier() throws IOException {\r\n    \r\n        // Create a credentials provider.\r\n        final CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n        credentialsProvider.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(&quot;elastic&quot;, &quot;password&quot;));\r\n        \r\n        // Create a REST client.\r\n        RestClientBuilder restClientBuilder = RestClient.builder(new HttpHost(&quot;localhost&quot;, 9200));\r\n        HttpClientConfigCallback httpClientConfigCallback = new HttpClientConfigCallback() {\r\n            @Override\r\n            public HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\r\n                return httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider);\r\n            }\r\n        };\r\n        restClientBuilder.setHttpClientConfigCallback(httpClientConfigCallback);\r\n        RestClient restClient = restClientBuilder.build();\r\n    \r\n        ElasticsearchTransport elasticsearchTransport = new RestClientTransport(restClient, new JacksonJsonpMapper());\r\n    \r\n        ElasticsearchClient client = new ElasticsearchClient(elasticsearchTransport);\r\n        \r\n        try {\r\n        \r\n            // Create index commit.\r\n            CreateIndexRequest.Builder createIndexRequestBuilder = new CreateIndexRequest.Builder();\r\n            createIndexRequestBuilder.index(&quot;commit&quot;);\r\n            CreateIndexRequest createIndexRequest = createIndexRequestBuilder.build();\r\n            CreateIndexResponse createIndexResponse = client.indices().create(createIndexRequest);\r\n            System.out.println(createIndexResponse);\r\n            \r\n            // Store and index commit-dateTime strings as dates and commit-dangeTimeRange strings as date ranges.\r\n            SourceField.Builder sourceFieldBuilder = new SourceField.Builder();\r\n            String mappings =\r\n                &quot;{\\n&quot; +\r\n                &quot;    \\&quot;mappings\\&quot;: {\\n&quot; +\r\n                &quot;        \\&quot;properties\\&quot;: {\\n&quot; +\r\n                &quot;            \\&quot;id\\&quot;: {\\n&quot; +\r\n                &quot;                \\&quot;type\\&quot;: \\&quot;text\\&quot;\\n&quot; +\r\n                &quot;            },\\n&quot; +\r\n                &quot;            \\&quot;name\\&quot;: {\\n&quot; +\r\n                &quot;                \\&quot;type\\&quot;: \\&quot;text\\&quot;\\n&quot; +\r\n                &quot;            },\\n&quot; +\r\n                &quot;            \\&quot;dateTimeRange\\&quot;: {\\n&quot; +\r\n                &quot;                \\&quot;type\\&quot;: \\&quot;date_range\\&quot;\\n&quot; +\r\n                &quot;                \\&quot;format\\&quot;: \\&quot;uuuu-MM-dd[[&#39;T&#39;][ ]HH:mm[:ss[.[SSS][SS][S]][,[SSS][SS][S]]]][XXXXX][XXXX][X]\\&quot;\\n&quot; +\r\n                &quot;            }\\n&quot; +\r\n                &quot;        }\\n&quot; +\r\n                &quot;    }\\n&quot; +\r\n                &quot;}&quot;;\r\n            sourceFieldBuilder.includes(mappings);\r\n            SourceField sourceField = sourceFieldBuilder.build();\r\n            PutMappingRequest.Builder putMappingRequestBuilder = new PutMappingRequest.Builder();\r\n            putMappingRequestBuilder.index(&quot;commit&quot;);\r\n            putMappingRequestBuilder.source(sourceField);\r\n            PutMappingRequest putMappingRequest = putMappingRequestBuilder.build();\r\n            PutMappingResponse putMappingResponse = client.indices().putMapping(putMappingRequest);\r\n            System.out.println(putMappingResponse);\r\n            \r\n            // Index a commit.\r\n            IndexRequest.Builder&lt;Commit&gt; indexRequestBuilder = new IndexRequest.Builder&lt;&gt;();\r\n            indexRequestBuilder.index(&quot;commit&quot;);\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            JsonNode dateTimeRange = objectMapper.readValue(&quot;{\\&quot;gte\\&quot;:\\&quot;2022-07-27T00:00:00.000Z\\&quot;,\\&quot;lte\\&quot;:\\&quot;2022-07-27T23:59:59.999Z\\&quot;}&quot;, JsonNode.class);\r\n            Commit commit = new Commit(&quot;commit20220727&quot;, &quot;Commit 2022-07-27&quot;, dateTimeRange);\r\n            indexRequestBuilder.id(commit.getId());\r\n            indexRequestBuilder.document(commit);\r\n            IndexResponse indexResponse = client.index(indexRequestBuilder.build());\r\n            System.out.println(indexResponse);\r\n            \r\n            // Index a commit.\r\n            indexRequestBuilder = new IndexRequest.Builder&lt;&gt;();\r\n            indexRequestBuilder.index(&quot;commit&quot;);\r\n            dateTimeRange = objectMapper.readValue(&quot;{\\&quot;gte\\&quot;:\\&quot;2022-07-28T00:00:00.000Z\\&quot;,\\&quot;lte\\&quot;:\\&quot;2022-07-28T23:59:59.999Z\\&quot;}&quot;, JsonNode.class);\r\n            commit = new Commit(&quot;commit20220728&quot;, &quot;Commit 2022-07-28&quot;, dateTimeRange);\r\n            indexRequestBuilder.id(commit.getId());\r\n            indexRequestBuilder.document(commit);\r\n            indexResponse = client.index(indexRequestBuilder.build());\r\n            System.out.println(indexResponse);\r\n            \r\n            // Make sure searching can provide the commits.\r\n            RefreshResponse refreshResponse = client.indices().refresh();\r\n            System.out.println(refreshResponse);\r\n            \r\n            // Attempt to search for commits with specific dateTime ranges.        \r\n            SearchRequest.Builder searchRequestBuilder = new SearchRequest.Builder();\r\n            searchRequestBuilder.q(&quot;dateTimeRange:[2022-07-27T12:12:12.121Z TO *]&quot;);\r\n            SearchRequest searchRequest = searchRequestBuilder.build();\r\n            SearchResponse&lt;Commit&gt; searchResponse = client.search(searchRequest, Commit.class);\r\n            System.out.println(searchResponse);\r\n            List&lt;Hit&lt;Commit&gt;&gt; hits = searchResponse.hits().hits();\r\n            System.out.println(&quot;Hits&quot;);\r\n            System.out.println(&quot;-----&quot;);\r\n            for (Hit&lt;Commit&gt; hit : hits) {\r\n                System.out.println(hit.source());\r\n            }\r\n            System.out.println(&quot;-----&quot;);\r\n            assertEquals(2, hits.size());\r\n    \r\n        } finally {\r\n            \r\n            // Delete the first commit.\r\n            DeleteRequest.Builder deleteRequestBuilder = new DeleteRequest.Builder();\r\n            deleteRequestBuilder.index(&quot;commit&quot;);\r\n            deleteRequestBuilder.id(&quot;commit20220727&quot;);\r\n            DeleteRequest deleteRequest = deleteRequestBuilder.build();\r\n            DeleteResponse deleteResponse = client.delete(deleteRequest);\r\n            System.out.println(deleteResponse);\r\n            \r\n            // Delete the second commit.\r\n            deleteRequestBuilder = new DeleteRequest.Builder();\r\n            deleteRequestBuilder.index(&quot;commit&quot;);\r\n            deleteRequestBuilder.id(&quot;commit20220728&quot;);\r\n            deleteRequest = deleteRequestBuilder.build();\r\n            deleteResponse = client.delete(deleteRequest);\r\n            System.out.println(deleteResponse);\r\n            \r\n            // Delete index commit.\r\n            DeleteIndexRequest.Builder deleteIndexRequestBuilder = new DeleteIndexRequest.Builder();\r\n            deleteIndexRequestBuilder.index(&quot;commit&quot;);\r\n            DeleteIndexRequest deleteIndexRequest = deleteIndexRequestBuilder.build();\r\n            DeleteIndexResponse deleteIndexResponse = client.indices().delete(deleteIndexRequest);\r\n            System.out.println(deleteIndexResponse);\r\n        }\r\n    }\r\n    }","title":"How do I use PutMappingRequest with the Elasticsearch 8 Java API Client?","body":"<p>I am able to find an object with a datetime range corresponding to <code>2022-07-27</code> when sending the following HTTP requests from Postman to an Elasticsearch 8.3.2 server.</p>\n<pre><code>PUT http://localhost:9200/commit\n{\n    &quot;mappings&quot;: {\n        &quot;properties&quot;: {\n            &quot;dateTimeRange&quot;: {\n                &quot;type&quot;: &quot;date_range&quot;,\n                &quot;format&quot;: &quot;uuuu-MM-dd[['T'][ ]HH:mm[:ss[.[SSS][SS][S]][,[SSS][SS][S]]]][XXXXX][XXXX][X]&quot;\n            }\n        }\n    }\n}\n\nPUT http://localhost:9200/commit/_doc/commit20220727?refresh\n{\n    &quot;dateTimeRange&quot;: {\n        &quot;gte&quot;: &quot;2022-07-27T00:00:00.000Z&quot;, \n        &quot;lte&quot;: &quot;2022-07-27T23:59:59.999Z&quot;\n    }\n}\n\nPUT http://localhost:9200/commit/_doc/commit20220728?refresh\n{\n    &quot;dateTimeRange&quot;: {\n        &quot;gte&quot;: &quot;2022-07-28T00:00:00.000Z&quot;, \n        &quot;lte&quot;: &quot;2022-07-28T23:59:59.999Z&quot;\n    }\n}\n\nPOST http://localhost:9200/commit/_search\n{\n    &quot;query&quot; : {\n        &quot;range&quot; : {\n            &quot;dateTimeRange&quot; : { \n                &quot;gte&quot;: &quot;2022-07-27T12:12:12.999Z&quot;,\n                &quot;lte&quot;: &quot;9999-12-31T23:59:59.999Z&quot;\n            }\n        }\n    }\n}\n</code></pre>\n<p>That being said, I am unable to use the Elasticsearch Java API Client and the query <code>datetime:[2022-07-27T12\\\\:12\\\\:12.121Z TO *]</code> to find an object with a date range corresponding to <code>2022-07-27</code>.</p>\n<p>In ElasticsearchIndexerAndQuerierTest.java, the code on line 158 under comment <code>Attempt to search for commits with specific dateTime ranges</code> yields the assertion error <code>expected:&lt;2&gt; but was:&lt;0&gt;</code>.</p>\n<p>How do I resolve this assertion error?</p>\n<hr />\n<p>ElasticsearchIndexerAndQuerierTest.java</p>\n<pre><code>package Com.TSL.ElasticsearchIndexerAndQuerier;\n\nimport static org.junit.Assert.assertEquals;\n\nimport java.io.IOException;\nimport java.util.List;\n\nimport org.apache.http.HttpHost;\nimport org.apache.http.auth.AuthScope;\nimport org.apache.http.auth.UsernamePasswordCredentials;\nimport org.apache.http.client.CredentialsProvider;\nimport org.apache.http.impl.client.BasicCredentialsProvider;\nimport org.apache.http.impl.nio.client.HttpAsyncClientBuilder;\nimport org.elasticsearch.client.RestClient;\nimport org.elasticsearch.client.RestClientBuilder;\nimport org.elasticsearch.client.RestClientBuilder.HttpClientConfigCallback;\nimport org.junit.Test;\n\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport co.elastic.clients.elasticsearch.ElasticsearchClient;\nimport co.elastic.clients.elasticsearch._types.mapping.SourceField;\nimport co.elastic.clients.elasticsearch.core.DeleteRequest;\nimport co.elastic.clients.elasticsearch.core.DeleteResponse;\nimport co.elastic.clients.elasticsearch.core.IndexRequest;\nimport co.elastic.clients.elasticsearch.core.IndexResponse;\nimport co.elastic.clients.elasticsearch.core.SearchRequest;\nimport co.elastic.clients.elasticsearch.core.SearchResponse;\nimport co.elastic.clients.elasticsearch.core.search.Hit;\nimport co.elastic.clients.elasticsearch.indices.CreateIndexRequest;\nimport co.elastic.clients.elasticsearch.indices.CreateIndexResponse;\nimport co.elastic.clients.elasticsearch.indices.DeleteIndexRequest;\nimport co.elastic.clients.elasticsearch.indices.DeleteIndexResponse;\nimport co.elastic.clients.elasticsearch.indices.PutMappingRequest;\nimport co.elastic.clients.elasticsearch.indices.PutMappingResponse;\nimport co.elastic.clients.elasticsearch.indices.RefreshResponse;\nimport co.elastic.clients.json.jackson.JacksonJsonpMapper;\nimport co.elastic.clients.transport.ElasticsearchTransport;\nimport co.elastic.clients.transport.rest_client.RestClientTransport;\n\npublic class ElasticsearchIndexerAndQuerierTest {\n\n@Test\npublic void testElasticsearchIndexerAndQuerier() throws IOException {\n\n    // Create a credentials provider.\n    final CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n    credentialsProvider.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(&quot;elastic&quot;, &quot;password&quot;));\n    \n    // Create a REST client.\n    RestClientBuilder restClientBuilder = RestClient.builder(new HttpHost(&quot;localhost&quot;, 9200));\n    HttpClientConfigCallback httpClientConfigCallback = new HttpClientConfigCallback() {\n        @Override\n        public HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\n            return httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider);\n        }\n    };\n    restClientBuilder.setHttpClientConfigCallback(httpClientConfigCallback);\n    RestClient restClient = restClientBuilder.build();\n\n    ElasticsearchTransport elasticsearchTransport = new RestClientTransport(restClient, new JacksonJsonpMapper());\n\n    ElasticsearchClient client = new ElasticsearchClient(elasticsearchTransport);\n    \n    try {\n    \n        // Create index commit.\n        CreateIndexRequest.Builder createIndexRequestBuilder = new CreateIndexRequest.Builder();\n        createIndexRequestBuilder.index(&quot;commit&quot;);\n        CreateIndexRequest createIndexRequest = createIndexRequestBuilder.build();\n        CreateIndexResponse createIndexResponse = client.indices().create(createIndexRequest);\n        System.out.println(createIndexResponse);\n        \n        // Store and index commit-dateTime strings as dates and commit-dangeTimeRange strings as date ranges.\n        SourceField.Builder sourceFieldBuilder = new SourceField.Builder();\n        String mappings =\n            &quot;{\\n&quot; +\n            &quot;    \\&quot;mappings\\&quot;: {\\n&quot; +\n            &quot;        \\&quot;properties\\&quot;: {\\n&quot; +\n            &quot;            \\&quot;id\\&quot;: {\\n&quot; +\n            &quot;                \\&quot;type\\&quot;: \\&quot;text\\&quot;\\n&quot; +\n            &quot;            },\\n&quot; +\n            &quot;            \\&quot;name\\&quot;: {\\n&quot; +\n            &quot;                \\&quot;type\\&quot;: \\&quot;text\\&quot;\\n&quot; +\n            &quot;            },\\n&quot; +\n            &quot;            \\&quot;dateTimeRange\\&quot;: {\\n&quot; +\n            &quot;                \\&quot;type\\&quot;: \\&quot;date_range\\&quot;\\n&quot; +\n            &quot;                \\&quot;format\\&quot;: \\&quot;uuuu-MM-dd[['T'][ ]HH:mm[:ss[.[SSS][SS][S]][,[SSS][SS][S]]]][XXXXX][XXXX][X]\\&quot;\\n&quot; +\n            &quot;            }\\n&quot; +\n            &quot;        }\\n&quot; +\n            &quot;    }\\n&quot; +\n            &quot;}&quot;;\n        sourceFieldBuilder.includes(mappings);\n        SourceField sourceField = sourceFieldBuilder.build();\n        PutMappingRequest.Builder putMappingRequestBuilder = new PutMappingRequest.Builder();\n        putMappingRequestBuilder.index(&quot;commit&quot;);\n        putMappingRequestBuilder.source(sourceField);\n        PutMappingRequest putMappingRequest = putMappingRequestBuilder.build();\n        PutMappingResponse putMappingResponse = client.indices().putMapping(putMappingRequest);\n        System.out.println(putMappingResponse);\n        \n        // Index a commit.\n        IndexRequest.Builder&lt;Commit&gt; indexRequestBuilder = new IndexRequest.Builder&lt;&gt;();\n        indexRequestBuilder.index(&quot;commit&quot;);\n        ObjectMapper objectMapper = new ObjectMapper();\n        JsonNode dateTimeRange = objectMapper.readValue(&quot;{\\&quot;gte\\&quot;:\\&quot;2022-07-27T00:00:00.000Z\\&quot;,\\&quot;lte\\&quot;:\\&quot;2022-07-27T23:59:59.999Z\\&quot;}&quot;, JsonNode.class);\n        Commit commit = new Commit(&quot;commit20220727&quot;, &quot;Commit 2022-07-27&quot;, dateTimeRange);\n        indexRequestBuilder.id(commit.getId());\n        indexRequestBuilder.document(commit);\n        IndexResponse indexResponse = client.index(indexRequestBuilder.build());\n        System.out.println(indexResponse);\n        \n        // Index a commit.\n        indexRequestBuilder = new IndexRequest.Builder&lt;&gt;();\n        indexRequestBuilder.index(&quot;commit&quot;);\n        dateTimeRange = objectMapper.readValue(&quot;{\\&quot;gte\\&quot;:\\&quot;2022-07-28T00:00:00.000Z\\&quot;,\\&quot;lte\\&quot;:\\&quot;2022-07-28T23:59:59.999Z\\&quot;}&quot;, JsonNode.class);\n        commit = new Commit(&quot;commit20220728&quot;, &quot;Commit 2022-07-28&quot;, dateTimeRange);\n        indexRequestBuilder.id(commit.getId());\n        indexRequestBuilder.document(commit);\n        indexResponse = client.index(indexRequestBuilder.build());\n        System.out.println(indexResponse);\n        \n        // Make sure searching can provide the commits.\n        RefreshResponse refreshResponse = client.indices().refresh();\n        System.out.println(refreshResponse);\n        \n        // Attempt to search for commits with specific dateTime ranges.        \n        SearchRequest.Builder searchRequestBuilder = new SearchRequest.Builder();\n        searchRequestBuilder.q(&quot;dateTimeRange:[2022-07-27T12:12:12.121Z TO *]&quot;);\n        SearchRequest searchRequest = searchRequestBuilder.build();\n        SearchResponse&lt;Commit&gt; searchResponse = client.search(searchRequest, Commit.class);\n        System.out.println(searchResponse);\n        List&lt;Hit&lt;Commit&gt;&gt; hits = searchResponse.hits().hits();\n        System.out.println(&quot;Hits&quot;);\n        System.out.println(&quot;-----&quot;);\n        for (Hit&lt;Commit&gt; hit : hits) {\n            System.out.println(hit.source());\n        }\n        System.out.println(&quot;-----&quot;);\n        assertEquals(2, hits.size());\n\n    } finally {\n        \n        // Delete the first commit.\n        DeleteRequest.Builder deleteRequestBuilder = new DeleteRequest.Builder();\n        deleteRequestBuilder.index(&quot;commit&quot;);\n        deleteRequestBuilder.id(&quot;commit20220727&quot;);\n        DeleteRequest deleteRequest = deleteRequestBuilder.build();\n        DeleteResponse deleteResponse = client.delete(deleteRequest);\n        System.out.println(deleteResponse);\n        \n        // Delete the second commit.\n        deleteRequestBuilder = new DeleteRequest.Builder();\n        deleteRequestBuilder.index(&quot;commit&quot;);\n        deleteRequestBuilder.id(&quot;commit20220728&quot;);\n        deleteRequest = deleteRequestBuilder.build();\n        deleteResponse = client.delete(deleteRequest);\n        System.out.println(deleteResponse);\n        \n        // Delete index commit.\n        DeleteIndexRequest.Builder deleteIndexRequestBuilder = new DeleteIndexRequest.Builder();\n        deleteIndexRequestBuilder.index(&quot;commit&quot;);\n        DeleteIndexRequest deleteIndexRequest = deleteIndexRequestBuilder.build();\n        DeleteIndexResponse deleteIndexResponse = client.indices().delete(deleteIndexRequest);\n        System.out.println(deleteIndexResponse);\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","selenium","interface"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1666535227,"post_id":74171905,"comment_id":130955230,"body_markdown":"That interface defines default methods, which means they only need to be implemented if you want to do something other than its current implementation.","body":"That interface defines default methods, which means they only need to be implemented if you want to do something other than its current implementation."},{"owner":{"account_id":19254221,"reputation":11,"user_id":14126324,"display_name":"Madhavan Theia"},"score":0,"creation_date":1666625639,"post_id":74171905,"comment_id":130976106,"body_markdown":"thanks @MarkRotteveel. I get that now.","body":"thanks @MarkRotteveel. I get that now."}],"owner":{"account_id":19254221,"reputation":11,"user_id":14126324,"display_name":"Madhavan Theia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666535292,"creation_date":1666535074,"question_id":74171905,"body_markdown":"Here in this class, I haven&#39;t implemented all the methods in the Interface WebDriverListener which is from Selenium Library\r\n\r\n```java    \r\npublic class SeleniumListeners implements WebDriverListener{\r\n    public void afterChangeValueOf(WebElement arg0, WebDriver arg1) {\r\n        System.out.println(&quot;In afterChangeValueOf&quot;);\r\n    }\r\n}\r\n```","title":"Why don&#39;t I get any errors even when I am not implementing all the methods in the interface (Selenium Library)","body":"<p>Here in this class, I haven't implemented all the methods in the Interface WebDriverListener which is from Selenium Library</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SeleniumListeners implements WebDriverListener{\n    public void afterChangeValueOf(WebElement arg0, WebDriver arg1) {\n        System.out.println(&quot;In afterChangeValueOf&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","rest","backend","http-status-code-404"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1666533376,"post_id":74171660,"comment_id":130954858,"body_markdown":"Why would you want to do that? Having an endpoint that returns wildly different responses does not seem like a good idea.","body":"Why would you want to do that? Having an endpoint that returns wildly different responses does not seem like a good idea."},{"owner":{"account_id":13161107,"reputation":43,"user_id":9506566,"display_name":"Ashwin "},"score":0,"creation_date":1666533609,"post_id":74171660,"comment_id":130954906,"body_markdown":"@Turing85 Thats the requirement, you know how to generalize it?","body":"@Turing85 Thats the requirement, you know how to generalize it?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1666533737,"post_id":74171660,"comment_id":130954932,"body_markdown":"Well the content does not get displaye becaused you set `NO_CONTENT` as response status. A `NO_CONTENT`response has... no content (i.e. no body). A `404 NOT FOUND`, `409 CONFLICT` or `410 GONE` seems more fitting.","body":"Well the content does not get displaye becaused you set <code>NO_CONTENT</code> as response status. A <code>NO_CONTENT</code>response has... no content (i.e. no body). A <code>404 NOT FOUND</code>, <code>409 CONFLICT</code> or <code>410 GONE</code> seems more fitting."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":2,"creation_date":1666533864,"post_id":74171660,"comment_id":130954961,"body_markdown":"If that&#39;s &quot;the requirement&quot;, it&#39;s a requirement to produce a very bad API.  How is the caller supposed to handle a result that may or may not be a list of users?","body":"If that&#39;s &quot;the requirement&quot;, it&#39;s a requirement to produce a very bad API.  How is the caller supposed to handle a result that may or may not be a list of users?"},{"owner":{"account_id":13161107,"reputation":43,"user_id":9506566,"display_name":"Ashwin "},"score":0,"creation_date":1666533897,"post_id":74171660,"comment_id":130954972,"body_markdown":"@Turing85 thanks a lot man! It helped, I din&#39;t know if status code is validated as well!","body":"@Turing85 thanks a lot man! It helped, I din&#39;t know if status code is validated as well!"},{"owner":{"account_id":13161107,"reputation":43,"user_id":9506566,"display_name":"Ashwin "},"score":0,"creation_date":1666533994,"post_id":74171660,"comment_id":130954984,"body_markdown":"@accessviolation agreed, but this is just for demonstration in a backend test","body":"@accessviolation agreed, but this is just for demonstration in a backend test"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1666534551,"post_id":74171660,"comment_id":130955112,"body_markdown":"A wise man once said &quot;*Nothing lasts longer than a temporary*&quot;...","body":"A wise man once said &quot;<i>Nothing lasts longer than a temporary</i>&quot;..."}],"owner":{"account_id":13161107,"reputation":43,"user_id":9506566,"display_name":"Ashwin "},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666533126,"creation_date":1666533126,"question_id":74171660,"body_markdown":"```\r\n    @GetMapping(&quot;/users&quot;)\r\n    public ResponseEntity&lt;Object&gt; getAllUsers(){\r\n\r\n        List&lt;User&gt; users = this.userRepository.findAll();\r\n\r\n        if(users.isEmpty()){\r\n            return ResponseEntity.status(HttpStatus.NO_CONTENT).body(&quot;Content unavailable!&quot;);\r\n        }\r\n\r\n        return ResponseEntity.status(HttpStatus.OK).body(users);\r\n\r\n    }\r\n```\r\nPlease let me know! Since the &quot;Content unavailable does not get displayed.","title":"How do I generalize the return type of spring controllers such that if the users are present it returns the list of users else it returns a string?","body":"<pre><code>    @GetMapping(&quot;/users&quot;)\n    public ResponseEntity&lt;Object&gt; getAllUsers(){\n\n        List&lt;User&gt; users = this.userRepository.findAll();\n\n        if(users.isEmpty()){\n            return ResponseEntity.status(HttpStatus.NO_CONTENT).body(&quot;Content unavailable!&quot;);\n        }\n\n        return ResponseEntity.status(HttpStatus.OK).body(users);\n\n    }\n</code></pre>\n<p>Please let me know! Since the &quot;Content unavailable does not get displayed.</p>\n"},{"tags":["java","android","android-mediaplayer"],"comments":[{"owner":{"account_id":6442155,"reputation":93,"user_id":4991838,"accept_rate":62,"display_name":"Lama Sonmez"},"score":1,"creation_date":1444671202,"post_id":33086417,"comment_id":53990278,"body_markdown":"I don&#39;t know if this will help , so take a look at this post:  [play mp3 file ](http://stackoverflow.com/questions/5466882/android-play-mp3-file-from-raw-resource-on-click-of-a-textview)","body":"I don&#39;t know if this will help , so take a look at this post:  [play mp3 file ](<a href=\"http://stackoverflow.com/questions/5466882/android-play-mp3-file-from-raw-resource-on-click-of-a-textview\" title=\"android play mp3 file from raw resource on click of a textview\">stackoverflow.com/questions/5466882/&hellip;</a>)"},{"owner":{"display_name":"user755921"},"score":0,"creation_date":1444677139,"post_id":33086417,"comment_id":53993192,"body_markdown":"@LamaSonmez That code is using the MediaPlayer.create(context, id) method.  I am trying to get the version that uses a string file path to work: http://developer.android.com/reference/android/media/MediaPlayer.html#setDataSource(java.lang.String)","body":"@LamaSonmez That code is using the MediaPlayer.create(context, id) method.  I am trying to get the version that uses a string file path to work: <a href=\"http://developer.android.com/reference/android/media/MediaPlayer.html#setDataSource(java.lang.String)\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/media/&hellip;</a>"},{"owner":{"account_id":2161937,"reputation":437,"user_id":1915922,"display_name":"Ahmad"},"score":1,"creation_date":1445460547,"post_id":33086417,"comment_id":54338960,"body_markdown":"set a countdowntimer and call setDataSource may be after 5 seconds not sure may be the resource has not yet loaded so let it cool down and then try to access the resource ...  also u can add onerrorlistener and give it around 4 tries to retry playing ... just a shot","body":"set a countdowntimer and call setDataSource may be after 5 seconds not sure may be the resource has not yet loaded so let it cool down and then try to access the resource ...  also u can add onerrorlistener and give it around 4 tries to retry playing ... just a shot"},{"owner":{"account_id":438590,"reputation":2659,"user_id":826946,"display_name":"Andy Weinstein"},"score":0,"creation_date":1542707030,"post_id":33086417,"comment_id":93655751,"body_markdown":"Perhaps this answer will help folks looking here: https://stackoverflow.com/a/53390067/826946","body":"Perhaps this answer will help folks looking here: <a href=\"https://stackoverflow.com/a/53390067/826946\">stackoverflow.com/a/53390067/826946</a>"}],"answers":[{"comments":[{"owner":{"display_name":"user755921"},"score":0,"creation_date":1444677055,"post_id":33087133,"comment_id":53993161,"body_markdown":"I&#39;m confused as to how InputStream fits in?  I am trying to get the version that takes a filepath string to work.","body":"I&#39;m confused as to how InputStream fits in?  I am trying to get the version that takes a filepath string to work."},{"owner":{"account_id":1152925,"reputation":58,"user_id":1134251,"display_name":"DeKoServidoni"},"score":0,"creation_date":1444687483,"post_id":33087133,"comment_id":53997819,"body_markdown":"maybe this answer could help you :)\nhttp://stackoverflow.com/questions/15098657/reading-a-resource-sound-file-into-a-byte-array","body":"maybe this answer could help you :) <a href=\"http://stackoverflow.com/questions/15098657/reading-a-resource-sound-file-into-a-byte-array\" title=\"reading a resource sound file into a byte array\">stackoverflow.com/questions/15098657/&hellip;</a>"}],"tags":[],"owner":{"account_id":1152925,"reputation":58,"user_id":1134251,"display_name":"DeKoServidoni"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1444671728,"creation_date":1444671728,"answer_id":33087133,"question_id":33086417,"body_markdown":"Like the android [documentation][1] said\r\n\r\n&gt; Arbitrary files to save in their raw form. To open these resources\r\n&gt; with a raw InputStream, call Resources.openRawResource() with the\r\n&gt; resource ID, which is R.raw.filename.\r\n&gt; \r\n&gt; However, if you need access to original file names and file hierarchy,\r\n&gt; you might consider saving some resources in the assets/ directory\r\n&gt; (instead of res/raw/). Files in assets/ are not given a resource ID,\r\n&gt; so you can read them only using AssetManager.\r\n\r\nSo you need to use a InputStream to read the audio file before set it to the media player.\r\n\r\nI suggest you to put the audio file in the assets folder like you said you played\r\n\r\n\r\n  [1]: http://developer.android.com/guide/topics/resources/providing-resources.html\r\n\r\n:)","title":"MediaPlayer.setDataSource(String) not working with local files","body":"<p>Like the android <a href=\"http://developer.android.com/guide/topics/resources/providing-resources.html\" rel=\"nofollow\">documentation</a> said</p>\n\n<blockquote>\n  <p>Arbitrary files to save in their raw form. To open these resources\n  with a raw InputStream, call Resources.openRawResource() with the\n  resource ID, which is R.raw.filename.</p>\n  \n  <p>However, if you need access to original file names and file hierarchy,\n  you might consider saving some resources in the assets/ directory\n  (instead of res/raw/). Files in assets/ are not given a resource ID,\n  so you can read them only using AssetManager.</p>\n</blockquote>\n\n<p>So you need to use a InputStream to read the audio file before set it to the media player.</p>\n\n<p>I suggest you to put the audio file in the assets folder like you said you played</p>\n\n<p>:)</p>\n"},{"comments":[{"owner":{"display_name":"user755921"},"score":0,"creation_date":1445019657,"post_id":33141485,"comment_id":54161300,"body_markdown":"Yes, this method does work for me but I am trying to get the version that takes a string working: http://developer.android.com/reference/android/media/MediaPlayer.html#setDataSource(java.lang.String)","body":"Yes, this method does work for me but I am trying to get the version that takes a string working: <a href=\"http://developer.android.com/reference/android/media/MediaPlayer.html#setDataSource(java.lang.String)\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/media/&hellip;</a>"}],"tags":[],"owner":{"account_id":1074669,"reputation":12309,"user_id":1367571,"accept_rate":73,"display_name":"Sebastiano"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1444896039,"creation_date":1444890965,"answer_id":33141485,"question_id":33086417,"body_markdown":"When dealing with a raw resource, you should rely on the following constructor:\n\n&gt; public static MediaPlayer **create** (Context context, int resid)\n&gt;\n&gt; Convenience method to create a MediaPlayer for a given resource id. On success, prepare() will already have been called and must not be called again.\n\nThe code looks like\n\n    mediaPlayer = MediaPlayer.create(this, R.raw.test0);\n    mediaPlayer.start();\n\nDon&#39;t forget to call `mediaPlayer.release()` when you&#39;re done with it.\n\n([source][1])\n\n\n  [1]: https://developer.android.com/reference/android/media/MediaPlayer.html#create(android.content.Context,%20int)","title":"MediaPlayer.setDataSource(String) not working with local files","body":"<p>When dealing with a raw resource, you should rely on the following constructor:</p>\n<blockquote>\n<p>public static MediaPlayer <strong>create</strong> (Context context, int resid)</p>\n<p>Convenience method to create a MediaPlayer for a given resource id. On success, prepare() will already have been called and must not be called again.</p>\n</blockquote>\n<p>The code looks like</p>\n<pre><code>mediaPlayer = MediaPlayer.create(this, R.raw.test0);\nmediaPlayer.start();\n</code></pre>\n<p>Don't forget to call <code>mediaPlayer.release()</code> when you're done with it.</p>\n<p>(<a href=\"https://developer.android.com/reference/android/media/MediaPlayer.html#create(android.content.Context,%20int)\" rel=\"nofollow noreferrer\">source</a>)</p>\n"},{"comments":[{"owner":{"display_name":"user755921"},"score":0,"creation_date":1445432116,"post_id":33256783,"comment_id":54320840,"body_markdown":"This example is using the MediaPlayer.create(context, id) method, my question is about the MediaPlayer.setDataSource(String) method.","body":"This example is using the MediaPlayer.create(context, id) method, my question is about the MediaPlayer.setDataSource(String) method."},{"owner":{"account_id":6556341,"reputation":3420,"user_id":5068931,"accept_rate":69,"display_name":"Ravi Vaghela"},"score":1,"creation_date":1445493593,"post_id":33256783,"comment_id":54349192,"body_markdown":"http://stackoverflow.com/questions/18977809/mediaplayer-setdatasource-need-best-practice-advice see you can not use MadiaPlayer.setDataSource(String) for local folder files.","body":"<a href=\"http://stackoverflow.com/questions/18977809/mediaplayer-setdatasource-need-best-practice-advice\" title=\"mediaplayer setdatasource need best practice advice\">stackoverflow.com/questions/18977809/&hellip;</a> see you can not use MadiaPlayer.setDataSource(String) for local folder files."},{"owner":{"account_id":3918173,"reputation":1635,"user_id":3241481,"display_name":"Naren Neelamegam"},"score":0,"creation_date":1445515569,"post_id":33256783,"comment_id":54361528,"body_markdown":"@RaviVGHL, the link on your comment doesn&#39;t say setDataSource(String) cannot be used for local files. Its says MediaPlayer.create() internally use setDataSource() and Prepare() methods. Thou your answer is a working code, but your comment&#39;s statement is not correct and the question racarate asking is not about using R.raw.test0 either. racarate wants to use string as parameter (not id) to play sound for his purpose.","body":"@RaviVGHL, the link on your comment doesn&#39;t say setDataSource(String) cannot be used for local files. Its says MediaPlayer.create() internally use setDataSource() and Prepare() methods. Thou your answer is a working code, but your comment&#39;s statement is not correct and the question racarate asking is not about using R.raw.test0 either. racarate wants to use string as parameter (not id) to play sound for his purpose."}],"tags":[],"owner":{"account_id":6556341,"reputation":3420,"user_id":5068931,"accept_rate":69,"display_name":"Ravi Vaghela"},"comment_count":3,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1445422902,"creation_date":1445422902,"answer_id":33256783,"question_id":33086417,"body_markdown":"Below code working for me i think this code will help you\r\n\r\n\r\n    \r\n        player = MediaPlayer.create(this,R.raw.test0);\r\n        player.setLooping(true); // Set looping\r\n      \r\n        player.setVolume(100,100);\r\n        player.start();\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n\t// TODO Auto-generated method stub\r\n\tsuper.onDestroy();\r\n\tplayer.stop();\r\n    player.release();\r\n    }\r\n\r\n\r\n","title":"MediaPlayer.setDataSource(String) not working with local files","body":"<p>Below code working for me i think this code will help you</p>\n\n<pre><code>    player = MediaPlayer.create(this,R.raw.test0);\n    player.setLooping(true); // Set looping\n\n    player.setVolume(100,100);\n    player.start();\n\n@Override\nprotected void onDestroy() {\n// TODO Auto-generated method stub\nsuper.onDestroy();\nplayer.stop();\nplayer.release();\n}\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user755921"},"score":0,"creation_date":1445502476,"post_id":33266429,"comment_id":54353543,"body_markdown":"Yes, this method works for me but I am asking specifically about the method MediaPlayer.setDataSource(String).","body":"Yes, this method works for me but I am asking specifically about the method MediaPlayer.setDataSource(String)."}],"tags":[],"owner":{"account_id":2913328,"reputation":64,"user_id":2497095,"display_name":"Akhunzaada"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1445451308,"creation_date":1445451308,"answer_id":33266429,"question_id":33086417,"body_markdown":"From [here][1],\r\n\r\n&gt; When path refers to a local file, the file may actually be opened by a process other than the calling application. This implies that the pathname should be an absolute path (as any other process runs with unspecified current working directory), and that the pathname should reference a world-readable file. **As an alternative, the application could first open the file for reading, and then use the file descriptor form setDataSource(FileDescriptor).** \r\n\r\nTry,\r\n\r\n    String filePath = &quot;path/file.mp3&quot;;\r\n    File file = new File(filePath);\r\n    FileInputStream inputStream = new FileInputStream(file);\r\n    mediaPlayer.setDataSource(inputStream.getFD());\r\n    inputStream.close();\r\n\r\nHope it Helps!\r\n  [1]: http://developer.android.com/reference/android/media/MediaPlayer.html#setDataSource%28java.lang.String%29","title":"MediaPlayer.setDataSource(String) not working with local files","body":"<p>From <a href=\"http://developer.android.com/reference/android/media/MediaPlayer.html#setDataSource%28java.lang.String%29\" rel=\"nofollow\">here</a>,</p>\n\n<blockquote>\n  <p>When path refers to a local file, the file may actually be opened by a process other than the calling application. This implies that the pathname should be an absolute path (as any other process runs with unspecified current working directory), and that the pathname should reference a world-readable file. <strong>As an alternative, the application could first open the file for reading, and then use the file descriptor form setDataSource(FileDescriptor).</strong> </p>\n</blockquote>\n\n<p>Try,</p>\n\n<pre><code>String filePath = \"path/file.mp3\";\nFile file = new File(filePath);\nFileInputStream inputStream = new FileInputStream(file);\nmediaPlayer.setDataSource(inputStream.getFD());\ninputStream.close();\n</code></pre>\n\n<p>Hope it Helps!</p>\n"},{"comments":[{"owner":{"display_name":"user755921"},"score":0,"creation_date":1445636941,"post_id":33266646,"comment_id":54422765,"body_markdown":"I must have worded my question poorly -- I am asking about MediaPlayer.setDataSource(String) specifically.  I am not interested in other versions of the method.","body":"I must have worded my question poorly -- I am asking about MediaPlayer.setDataSource(String) specifically.  I am not interested in other versions of the method."},{"owner":{"account_id":3918173,"reputation":1635,"user_id":3241481,"display_name":"Naren Neelamegam"},"score":0,"creation_date":1445637183,"post_id":33266646,"comment_id":54422857,"body_markdown":"@racarate, do you mean the solution in update#1 is also not working for you. That uses setDataSource(context,uri). As I mentioned in the answer, I just changed your code from mp.setDataSource(filename) to mp.setDataSource(this, Uri.parse(filename)) and it works perfectly with your resource file.","body":"@racarate, do you mean the solution in update#1 is also not working for you. That uses setDataSource(context,uri). As I mentioned in the answer, I just changed your code from mp.setDataSource(filename) to mp.setDataSource(this, Uri.parse(filename)) and it works perfectly with your resource file."},{"owner":{"account_id":3918173,"reputation":1635,"user_id":3241481,"display_name":"Naren Neelamegam"},"score":0,"creation_date":1445643311,"post_id":33266646,"comment_id":54424634,"body_markdown":"Please check the updated answer (Update #2). setDataSource(String) override cannot be used as is. You can use setDataSource(context,uri) instead with your string resource path or getIdentifier() with MediaPlayer.create()","body":"Please check the updated answer (Update #2). setDataSource(String) override cannot be used as is. You can use setDataSource(context,uri) instead with your string resource path or getIdentifier() with MediaPlayer.create()"},{"owner":{"display_name":"user755921"},"score":0,"creation_date":1445881772,"post_id":33266646,"comment_id":54500208,"body_markdown":"Alright, so the answer is no.  Thanks for the details, maybe this will be more helpful if you get rid of the first two parts of the answer and edit #2 becomes the official &quot;this is not possible&quot; answer.  I have to say, the official documentation was not clear about this at all.","body":"Alright, so the answer is no.  Thanks for the details, maybe this will be more helpful if you get rid of the first two parts of the answer and edit #2 becomes the official &quot;this is not possible&quot; answer.  I have to say, the official documentation was not clear about this at all."},{"owner":{"display_name":"user755921"},"score":0,"creation_date":1445884047,"post_id":33266646,"comment_id":54501600,"body_markdown":"I just realized that openFrameworks seems to use this method to load a local file.  I can&#39;t un-award the bounty but I did mark this as unanswered still.","body":"I just realized that openFrameworks seems to use this method to load a local file.  I can&#39;t un-award the bounty but I did mark this as unanswered still."},{"owner":{"account_id":3918173,"reputation":1635,"user_id":3241481,"display_name":"Naren Neelamegam"},"score":0,"creation_date":1445893353,"post_id":33266646,"comment_id":54506935,"body_markdown":"I am sorry to say either you are confused or confusing me by saying openFrameworks loading the file using the same funciton. I agree. Yes, it is loading the file using the setDataSource(String) function. Is that your question? your question is to load a file in resource using setDataSource(String) function. isn&#39;t it? Please check the openFrameworks source again - LineNo: 4 where it imports android.media.MediaPlayer; and LineNo: 27 where it uses setDataSource(filename) to load a file. I still can say with the explanation in update#2 that it will fail if it loads file in resource.","body":"I am sorry to say either you are confused or confusing me by saying openFrameworks loading the file using the same funciton. I agree. Yes, it is loading the file using the setDataSource(String) function. Is that your question? your question is to load a file in resource using setDataSource(String) function. isn&#39;t it? Please check the openFrameworks source again - LineNo: 4 where it imports android.media.MediaPlayer; and LineNo: 27 where it uses setDataSource(filename) to load a file. I still can say with the explanation in update#2 that it will fail if it loads file in resource."},{"owner":{"display_name":"user755921"},"score":0,"creation_date":1445906538,"post_id":33266646,"comment_id":54511913,"body_markdown":"Sorry, what I am trying to say is that the code linked in openFrameworks seems to work with a local file from the SD card.  I interpreted your answer to mean that setDataSource(String) will only ever work with http/https/rtsp protocols.","body":"Sorry, what I am trying to say is that the code linked in openFrameworks seems to work with a local file from the SD card.  I interpreted your answer to mean that setDataSource(String) will only ever work with http/https/rtsp protocols."},{"owner":{"account_id":3918173,"reputation":1635,"user_id":3241481,"display_name":"Naren Neelamegam"},"score":0,"creation_date":1445956168,"post_id":33266646,"comment_id":54535774,"body_markdown":"Well, I have mentioned that setDatasource(String) filters it using the scheme &quot;file&quot;. So your local file will get through it to use setDatasource(FD) and http/https/rtsp will goto native function call. Updated the answer with more details. Lengthier but I hope it gives your everything you want to know about setDatasource() :)","body":"Well, I have mentioned that setDatasource(String) filters it using the scheme &quot;file&quot;. So your local file will get through it to use setDatasource(FD) and http/https/rtsp will goto native function call. Updated the answer with more details. Lengthier but I hope it gives your everything you want to know about setDatasource() :)"},{"owner":{"display_name":"user755921"},"score":0,"creation_date":1445966411,"post_id":33266646,"comment_id":54543147,"body_markdown":"Alright, I see the distinction now.  Thanks for your reply!","body":"Alright, I see the distinction now.  Thanks for your reply!"},{"owner":{"account_id":10886222,"reputation":1291,"user_id":8003636,"accept_rate":90,"display_name":"Rohit Sharma"},"score":0,"creation_date":1530371021,"post_id":33266646,"comment_id":89218246,"body_markdown":"+1 for good explanation. I have a question on RecyclerView + MediaPlayer. How will it work if I have to replace &quot;test0&quot; here to &lt;ArrayList&gt;  `mp=MediaPlayer.create(getApplicationContext(), getResources().getIdentifier(&quot;test0&quot;,&quot;raw&quot;,getPackageName()));` https://stackoverflow.com/questions/51111733/recyclerview-mediaplayer-toggle-button-string-uri","body":"+1 for good explanation. I have a question on RecyclerView + MediaPlayer. How will it work if I have to replace &quot;test0&quot; here to &lt;ArrayList&gt;  <code>mp=MediaPlayer.create(getApplicationContext(), getResources().getIdentifier(&quot;test0&quot;,&quot;raw&quot;,getPackageName())&zwnj;&#8203;);</code> <a href=\"https://stackoverflow.com/questions/51111733/recyclerview-mediaplayer-toggle-button-string-uri\" title=\"recyclerview mediaplayer toggle button string uri\">stackoverflow.com/questions/51111733/&hellip;</a>"}],"tags":[],"owner":{"account_id":3918173,"reputation":1635,"user_id":3241481,"display_name":"Naren Neelamegam"},"comment_count":10,"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1445963953,"creation_date":1445452193,"answer_id":33266646,"question_id":33086417,"body_markdown":"&lt;h3&gt;Alternative Solution #1: Using Resources.getIdentifier()&lt;/h3&gt;\r\nWhy not use getResources().getIdentifier() to get id of the resource and use the static MediaPlayer.create() as usual? \r\n\r\n    public int getIdentifier (String name, String defType, String defPackage)\r\n\r\n[getIdentifier()][1] takes your resource name (test0), resource type(raw), your package name and returns the actual resource id.\r\n\r\n     MediaPlayer mp;\r\n     //String filename = &quot;android.resource://&quot; + this.getPackageName() + &quot;/raw/test0&quot;;\r\n     mp=MediaPlayer.create(getApplicationContext(), getResources().getIdentifier(&quot;test0&quot;,&quot;raw&quot;,getPackageName()));\r\n     mp.start();\r\n\r\nI&#39;ve tested this code and it works. \r\n&lt;hr&gt;\r\n**Update #1:**\r\n&lt;h3&gt;Alternative Solution #2: Using Uri.parse()&lt;/h3&gt;\r\n\r\nI&#39;ve tested this code as well and it works too. Pass your resource path as URI to setDataSource(). I just made that change to your code to get it work.\r\n\r\n    String filename = &quot;android.resource://&quot; + this.getPackageName() + &quot;/raw/test0&quot;;\r\n\r\n    mp = new MediaPlayer();\r\n    try { mp.setDataSource(this,Uri.parse(filename)); } catch (Exception e) {}\r\n    try { mp.prepare(); } catch (Exception e) {}\r\n    mp.start();\r\n&lt;hr&gt;\r\n**Update #2: Answer is NO**\r\n&lt;h3&gt;About setDataSource(String) call&lt;/h3&gt;\r\n\r\nAfter seeing your comment, it looks like you exactly want setDataSource(string) to be used for your purpose. I don&#39;t understand why. But, what I assume is, for some reason you are trying to avoid using &quot;context&quot;. If that is not the case then the above two solutions should work perfectly for you or if you are trying to avoid context, I&#39;m afraid that is not possible with the function with signature setDataSource(String) call. The reason is as below,\r\n\r\nMediaPlayer setDataSource() function has these below options out of which you are only interested in setDataSource(String),\r\n\r\n[![setDataSource Functions][2]][2]\r\n\r\nsetDataSource(String) internally calls setDataSource(String path, String[] keys, String[] values) function. If you can check its [source][3],\r\n\r\n    public void setDataSource(String path)\r\n                throws IOException, IllegalArgumentException, SecurityException, IllegalStateException {\r\n            setDataSource(path, null, null);\r\n        }\r\n\r\nand if you check setDataSource(String path, String[] keys, String[] values) code, you will see the below condition filtering the path based on its scheme, particularly if it is &quot;file&quot; scheme it calls setDataSource(FileDescriptor) or if scheme is non &quot;file&quot;, it calls native JNI media function. \r\n\r\n    {\r\n            final Uri uri = Uri.parse(path);\r\n            final String scheme = uri.getScheme();\r\n            if (&quot;file&quot;.equals(scheme)) {\r\n                path = uri.getPath();\r\n            } else if (scheme != null) {\r\n                // handle non-file sources\r\n                nativeSetDataSource(\r\n                    MediaHTTPService.createHttpServiceBinderIfNecessary(path),\r\n                    path,\r\n                    keys,\r\n                    values);\r\n                return;\r\n            }\r\n            final File file = new File(path);\r\n            if (file.exists()) {\r\n                FileInputStream is = new FileInputStream(file);\r\n                FileDescriptor fd = is.getFD();\r\n                setDataSource(fd);\r\n                is.close();\r\n            } else {\r\n                throw new IOException(&quot;setDataSource failed.&quot;);\r\n            }\r\n    }\r\n\r\nIn the above code, your resource file URI scheme will not be null (android.resource://) and **setDataSource(String) will try to use native JNI function nativeSetDataSource() thinking that your path is http/https/rtsp and obviously that call will fail as well without throwing any exception. Thats why your call to setDataSource(String) escapes without an exception and gets to prepare() call with the following exception.** \r\n\r\n    Prepare failed.: status=0x1\r\n\r\nSo setDataSource(String) override cannot handle your resource file. You need to choose another override for that.\r\n\r\nOn the other side, check setDataSource(Context context, Uri uri, Map&lt;String, String&gt; headers) which is used by setDataSource(Context context, Uri uri), it uses AssetFileDescriptor, ContentResolver from your context and openAssetFileDescriptor to open the URI which gets success as openAssetFileDescriptor() can open your resource file and finally the resultant fd is used to call setDataSource(FileDescriptor) override.\r\n\r\n        AssetFileDescriptor fd = null;\r\n        try {\r\n            ContentResolver resolver = context.getContentResolver();\r\n            fd = resolver.openAssetFileDescriptor(uri, &quot;r&quot;);\r\n            //  :\r\n            //  :\r\n            //  :\r\n            if (fd.getDeclaredLength() &lt; 0) {\r\n                    setDataSource(fd.getFileDescriptor());\r\n                } else {\r\n                    setDataSource(fd.getFileDescriptor(), fd.getStartOffset(), fd.getDeclaredLength());\r\n                }\r\n\r\nTo conclude, you cannot use setDataSource(String) override as is to use your resource mp3 file. Instead, if you want use string to play your resource file you can use either MediaPlayer.create() static function with getIdentifier() as given above or setDataSource(context,uri) as given in Update#1.\r\n\r\nRefer to the complete source code for more understanding here: [Android MediaPlayer][3]\r\n&lt;hr&gt;\r\n**Update #3:**\r\n&lt;h3&gt;openFrameworks setDataSource(String):&lt;/h3&gt;\r\nAs I have mentioned in the comments below, openFrameworks uses android MediaPlayer code asis. If you can refer to Line no: 4,\r\n\r\n    import android.media.MediaPlayer;\r\nand Line no: 26, 27, 28 and 218\r\n\r\n\t\t\tplayer = new MediaPlayer();       //26\r\n\t\t\tplayer.setDataSource(fileName);   //27\r\n\t\t\tplayer.prepare();                 //28\r\n            \r\n            private MediaPlayer player;       //218\r\n\r\nSo, if you try to pass **ardroid.resource//+ this.getPackageName() + &quot;raw/test0&quot;** to setDataSource() using openFrameworks, you will still get the same exception as I explained in Update#2. Having said that, I just tried my luck searching Google to double sure what I am saying and found this [openFrameworks forum link][4] where one of the **openFrameworks core developer arturo** says, \r\n\r\n&gt; don&#39;t know exactly how the mediaPlayer works but everything in res/raw\r\n&gt; or bin/data gets copied to /sdcard/cc.openframeworks.packagename\r\n\r\nBased on that comment, you may try using the copied path in setDataSource(). Using resource file on setDataSource(String) of MediaPlayer is not possible as it cannot accept resource file path. Please note that, I said &quot;resource file path&quot; starts with the scheme **android.resource//** which is actually a jar location (within your apk), not a physical location. Local file will work with setDataSource(String) which starts with the scheme **file://**.\r\n\r\nTo make you clearly understand what you are trying to do with a resource file, try executing this below code and see the result in logcat,\r\n  \r\n\r\n        try{\r\n          Log.d(&quot;RESURI&quot;, this.getClass().getClassLoader().getResource(&quot;res/raw/test0&quot;).toURI().toString());\r\n        } \r\n        catch(Exception e) {\r\n    \r\n        }\r\n\r\nYou&#39;ll get the result as,\r\n\r\n    jar:file:/data/app/&lt;packagename&gt;/&lt;apkname&gt;.apk!/res/raw/test0\r\n\r\nthat is to show you that the resource file you are trying to access is not actually a file in physical path but a jar location (within apk) which you cannot access using setDataSource(String) method. (Try using 7zip to extract your apk file and you will see the res/raw/test0 in it).\r\n\r\nHope that helps.\r\n\r\nPS: I know its bit lengthy answer, but I hope this explains it in detail. Leaving the alternative solutions in the top if that can help others.\r\n \r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/content/res/Resources.html#getIdentifier(java.lang.String,%20java.lang.String,%20java.lang.String)\r\n  [2]: http://i.stack.imgur.com/fkYMA.png\r\n  [3]: https://github.com/android/platform_frameworks_base/blob/master/media/java/android/media/MediaPlayer.java\r\n  [4]: http://forum.openframeworks.cc/t/soundfiles-on-android/6220/9","title":"MediaPlayer.setDataSource(String) not working with local files","body":"<h3>Alternative Solution #1: Using Resources.getIdentifier()</h3>\n\n<p>Why not use getResources().getIdentifier() to get id of the resource and use the static MediaPlayer.create() as usual? </p>\n\n<pre><code>public int getIdentifier (String name, String defType, String defPackage)\n</code></pre>\n\n<p><a href=\"http://developer.android.com/reference/android/content/res/Resources.html#getIdentifier(java.lang.String,%20java.lang.String,%20java.lang.String)\">getIdentifier()</a> takes your resource name (test0), resource type(raw), your package name and returns the actual resource id.</p>\n\n<pre><code> MediaPlayer mp;\n //String filename = \"android.resource://\" + this.getPackageName() + \"/raw/test0\";\n mp=MediaPlayer.create(getApplicationContext(), getResources().getIdentifier(\"test0\",\"raw\",getPackageName()));\n mp.start();\n</code></pre>\n\n<p>I've tested this code and it works. \n<hr>\n<strong>Update #1:</strong></p>\n\n<h3>Alternative Solution #2: Using Uri.parse()</h3>\n\n<p>I've tested this code as well and it works too. Pass your resource path as URI to setDataSource(). I just made that change to your code to get it work.</p>\n\n<pre><code>String filename = \"android.resource://\" + this.getPackageName() + \"/raw/test0\";\n\nmp = new MediaPlayer();\ntry { mp.setDataSource(this,Uri.parse(filename)); } catch (Exception e) {}\ntry { mp.prepare(); } catch (Exception e) {}\nmp.start();\n</code></pre>\n\n<p><hr>\n<strong>Update #2: Answer is NO</strong></p>\n\n<h3>About setDataSource(String) call</h3>\n\n<p>After seeing your comment, it looks like you exactly want setDataSource(string) to be used for your purpose. I don't understand why. But, what I assume is, for some reason you are trying to avoid using \"context\". If that is not the case then the above two solutions should work perfectly for you or if you are trying to avoid context, I'm afraid that is not possible with the function with signature setDataSource(String) call. The reason is as below,</p>\n\n<p>MediaPlayer setDataSource() function has these below options out of which you are only interested in setDataSource(String),</p>\n\n<p><a href=\"https://i.stack.imgur.com/fkYMA.png\"><img src=\"https://i.stack.imgur.com/fkYMA.png\" alt=\"setDataSource Functions\"></a></p>\n\n<p>setDataSource(String) internally calls setDataSource(String path, String[] keys, String[] values) function. If you can check its <a href=\"https://github.com/android/platform_frameworks_base/blob/master/media/java/android/media/MediaPlayer.java\">source</a>,</p>\n\n<pre><code>public void setDataSource(String path)\n            throws IOException, IllegalArgumentException, SecurityException, IllegalStateException {\n        setDataSource(path, null, null);\n    }\n</code></pre>\n\n<p>and if you check setDataSource(String path, String[] keys, String[] values) code, you will see the below condition filtering the path based on its scheme, particularly if it is \"file\" scheme it calls setDataSource(FileDescriptor) or if scheme is non \"file\", it calls native JNI media function. </p>\n\n<pre><code>{\n        final Uri uri = Uri.parse(path);\n        final String scheme = uri.getScheme();\n        if (\"file\".equals(scheme)) {\n            path = uri.getPath();\n        } else if (scheme != null) {\n            // handle non-file sources\n            nativeSetDataSource(\n                MediaHTTPService.createHttpServiceBinderIfNecessary(path),\n                path,\n                keys,\n                values);\n            return;\n        }\n        final File file = new File(path);\n        if (file.exists()) {\n            FileInputStream is = new FileInputStream(file);\n            FileDescriptor fd = is.getFD();\n            setDataSource(fd);\n            is.close();\n        } else {\n            throw new IOException(\"setDataSource failed.\");\n        }\n}\n</code></pre>\n\n<p>In the above code, your resource file URI scheme will not be null (android.resource://) and <strong>setDataSource(String) will try to use native JNI function nativeSetDataSource() thinking that your path is http/https/rtsp and obviously that call will fail as well without throwing any exception. Thats why your call to setDataSource(String) escapes without an exception and gets to prepare() call with the following exception.</strong> </p>\n\n<pre><code>Prepare failed.: status=0x1\n</code></pre>\n\n<p>So setDataSource(String) override cannot handle your resource file. You need to choose another override for that.</p>\n\n<p>On the other side, check setDataSource(Context context, Uri uri, Map headers) which is used by setDataSource(Context context, Uri uri), it uses AssetFileDescriptor, ContentResolver from your context and openAssetFileDescriptor to open the URI which gets success as openAssetFileDescriptor() can open your resource file and finally the resultant fd is used to call setDataSource(FileDescriptor) override.</p>\n\n<pre><code>    AssetFileDescriptor fd = null;\n    try {\n        ContentResolver resolver = context.getContentResolver();\n        fd = resolver.openAssetFileDescriptor(uri, \"r\");\n        //  :\n        //  :\n        //  :\n        if (fd.getDeclaredLength() &lt; 0) {\n                setDataSource(fd.getFileDescriptor());\n            } else {\n                setDataSource(fd.getFileDescriptor(), fd.getStartOffset(), fd.getDeclaredLength());\n            }\n</code></pre>\n\n<p>To conclude, you cannot use setDataSource(String) override as is to use your resource mp3 file. Instead, if you want use string to play your resource file you can use either MediaPlayer.create() static function with getIdentifier() as given above or setDataSource(context,uri) as given in Update#1.</p>\n\n<p>Refer to the complete source code for more understanding here: <a href=\"https://github.com/android/platform_frameworks_base/blob/master/media/java/android/media/MediaPlayer.java\">Android MediaPlayer</a>\n<hr>\n<strong>Update #3:</strong></p>\n\n<h3>openFrameworks setDataSource(String):</h3>\n\n<p>As I have mentioned in the comments below, openFrameworks uses android MediaPlayer code asis. If you can refer to Line no: 4,</p>\n\n<pre><code>import android.media.MediaPlayer;\n</code></pre>\n\n<p>and Line no: 26, 27, 28 and 218</p>\n\n<pre><code>        player = new MediaPlayer();       //26\n        player.setDataSource(fileName);   //27\n        player.prepare();                 //28\n\n        private MediaPlayer player;       //218\n</code></pre>\n\n<p>So, if you try to pass <strong>ardroid.resource//+ this.getPackageName() + \"raw/test0\"</strong> to setDataSource() using openFrameworks, you will still get the same exception as I explained in Update#2. Having said that, I just tried my luck searching Google to double sure what I am saying and found this <a href=\"http://forum.openframeworks.cc/t/soundfiles-on-android/6220/9\">openFrameworks forum link</a> where one of the <strong>openFrameworks core developer arturo</strong> says, </p>\n\n<blockquote>\n  <p>don't know exactly how the mediaPlayer works but everything in res/raw\n  or bin/data gets copied to /sdcard/cc.openframeworks.packagename</p>\n</blockquote>\n\n<p>Based on that comment, you may try using the copied path in setDataSource(). Using resource file on setDataSource(String) of MediaPlayer is not possible as it cannot accept resource file path. Please note that, I said \"resource file path\" starts with the scheme <strong>android.resource//</strong> which is actually a jar location (within your apk), not a physical location. Local file will work with setDataSource(String) which starts with the scheme <strong>file://</strong>.</p>\n\n<p>To make you clearly understand what you are trying to do with a resource file, try executing this below code and see the result in logcat,</p>\n\n<pre><code>    try{\n      Log.d(\"RESURI\", this.getClass().getClassLoader().getResource(\"res/raw/test0\").toURI().toString());\n    } \n    catch(Exception e) {\n\n    }\n</code></pre>\n\n<p>You'll get the result as,</p>\n\n<pre><code>jar:file:/data/app/&lt;packagename&gt;/&lt;apkname&gt;.apk!/res/raw/test0\n</code></pre>\n\n<p>that is to show you that the resource file you are trying to access is not actually a file in physical path but a jar location (within apk) which you cannot access using setDataSource(String) method. (Try using 7zip to extract your apk file and you will see the res/raw/test0 in it).</p>\n\n<p>Hope that helps.</p>\n\n<p>PS: I know its bit lengthy answer, but I hope this explains it in detail. Leaving the alternative solutions in the top if that can help others.</p>\n"},{"tags":[],"owner":{"account_id":898693,"reputation":832,"user_id":935408,"display_name":"Dmitry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519727744,"creation_date":1519727744,"answer_id":49006584,"question_id":33086417,"body_markdown":"You have to use `setDataSource(@NonNull Context context, @NonNull Uri uri)` instead of `setDataSource(String path)` \r\n\r\nSince you want to resolve resource internal application resources, you have to provide `Context` which would be used to resolve this stuff\r\n\r\nAlso if you will take a look inside these two methods you will notice they use different strategies to find resulting resource.","title":"MediaPlayer.setDataSource(String) not working with local files","body":"<p>You have to use <code>setDataSource(@NonNull Context context, @NonNull Uri uri)</code> instead of <code>setDataSource(String path)</code> </p>\n\n<p>Since you want to resolve resource internal application resources, you have to provide <code>Context</code> which would be used to resolve this stuff</p>\n\n<p>Also if you will take a look inside these two methods you will notice they use different strategies to find resulting resource.</p>\n"},{"tags":[],"owner":{"account_id":25431383,"reputation":1,"user_id":19235731,"display_name":"Yor PG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666531613,"creation_date":1666531546,"answer_id":74171496,"question_id":33086417,"body_markdown":"Try this:  \r\n\r\n      if(mediaPlayer != null ){\r\n        \r\n                            if (mediaPlayer.isPlaying()){mediaPlayer.stop();}\r\n        \r\n                            mediaPlayer.reset(); //this line is important!\r\n        \r\n                            String path = File.separator + &quot;sdcard&quot; + File.separator + utilsFields.repoDirRoot + File.separator + media.mp4;\r\n        \r\n        \r\n                            try {\r\n                                mediaPlayer.setDataSource(path);\r\n                            }catch (Exception ignored){}\r\n        \r\n        \r\n                            try {\r\n                                mediaPlayer.prepare();\r\n                            }catch (Exception ignored){}\r\n        \r\n                            mediaPlayer.start();\r\n        \r\n                        }","title":"MediaPlayer.setDataSource(String) not working with local files","body":"<p>Try this:</p>\n<pre><code>  if(mediaPlayer != null ){\n    \n                        if (mediaPlayer.isPlaying()){mediaPlayer.stop();}\n    \n                        mediaPlayer.reset(); //this line is important!\n    \n                        String path = File.separator + &quot;sdcard&quot; + File.separator + utilsFields.repoDirRoot + File.separator + media.mp4;\n    \n    \n                        try {\n                            mediaPlayer.setDataSource(path);\n                        }catch (Exception ignored){}\n    \n    \n                        try {\n                            mediaPlayer.prepare();\n                        }catch (Exception ignored){}\n    \n                        mediaPlayer.start();\n    \n                    }\n</code></pre>\n"}],"owner":{"display_name":"user755921"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43587,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":33266646,"answer_count":7,"score":38,"last_activity_date":1666531613,"creation_date":1444668944,"question_id":33086417,"body_markdown":"I am able to play a local mp3 if I use the static method MediaPlayer.create(context, id) but it&#39;s not working if I use the non-static method MediaPlayer.setDataSource(String).  What&#39;s happening is that I am getting a synchronous exception when I call MediaPlayer.prepare():\r\n\r\n`prepare exceptionjava.io.IOException: Prepare failed.: status=0x1`\r\n\r\nHere is my code (omitted logging):\r\n\r\n    String filename = &quot;android.resource://&quot; + this.getPackageName() + &quot;/raw/test0&quot;;\r\n    \r\n    mp = new MediaPlayer();\r\n    try { mp.setDataSource(filename); } catch (Exception e) {}\r\n    try { mp.prepare(); } catch (Exception e) {}\r\n    mp.start();\r\n\r\nNote that I am not getting an errors about file not found or anything.  The full name of the file is test0.mp3 and I place it in the /res/raw/ directory in Eclipse.\r\n\r\nI assume that I am setting the path incorrectly but all the examples I find online use the FileDescriptor version of setDataPath instead of the String version of setDataPath.\r\n\r\nEDIT: I am also able to play a local mp3 if I use the method MediaPlayer.setDataSource(FileDescriptor) and place the files in the /assets/ directory in Eclipse.\r\n\r\nEDIT #2: I accepted the answer that this is not possible, but then realized that the library I am using (openFrameworks) actually does use the String method to load a file.  See here: \r\n\r\nhttps://github.com/openframeworks/openFrameworks/blob/master/addons/ofxAndroid/ofAndroidLib/src/cc/openframeworks/OFAndroidSoundPlayer.java","title":"MediaPlayer.setDataSource(String) not working with local files","body":"<p>I am able to play a local mp3 if I use the static method MediaPlayer.create(context, id) but it's not working if I use the non-static method MediaPlayer.setDataSource(String).  What's happening is that I am getting a synchronous exception when I call MediaPlayer.prepare():</p>\n\n<p><code>prepare exceptionjava.io.IOException: Prepare failed.: status=0x1</code></p>\n\n<p>Here is my code (omitted logging):</p>\n\n<pre><code>String filename = \"android.resource://\" + this.getPackageName() + \"/raw/test0\";\n\nmp = new MediaPlayer();\ntry { mp.setDataSource(filename); } catch (Exception e) {}\ntry { mp.prepare(); } catch (Exception e) {}\nmp.start();\n</code></pre>\n\n<p>Note that I am not getting an errors about file not found or anything.  The full name of the file is test0.mp3 and I place it in the /res/raw/ directory in Eclipse.</p>\n\n<p>I assume that I am setting the path incorrectly but all the examples I find online use the FileDescriptor version of setDataPath instead of the String version of setDataPath.</p>\n\n<p>EDIT: I am also able to play a local mp3 if I use the method MediaPlayer.setDataSource(FileDescriptor) and place the files in the /assets/ directory in Eclipse.</p>\n\n<p>EDIT #2: I accepted the answer that this is not possible, but then realized that the library I am using (openFrameworks) actually does use the String method to load a file.  See here: </p>\n\n<p><a href=\"https://github.com/openframeworks/openFrameworks/blob/master/addons/ofxAndroid/ofAndroidLib/src/cc/openframeworks/OFAndroidSoundPlayer.java\" rel=\"noreferrer\">https://github.com/openframeworks/openFrameworks/blob/master/addons/ofxAndroid/ofAndroidLib/src/cc/openframeworks/OFAndroidSoundPlayer.java</a></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666531407,"creation_date":1666530920,"answer_id":74171440,"question_id":74171206,"body_markdown":"Your code assumes everything works properly and might be missing an error in the sub-process. Change the launch to redirect stderr -&gt; stdout and it should give back more details:\r\n\r\n     Process hijo = new ProcessBuilder(&quot;java&quot;,&quot;Hijo&quot;).redirectErrorStream(true).start();\r\n\r\nor put errors to a file to read later.\r\n\r\n     Process hijo = new ProcessBuilder(&quot;java&quot;,&quot;Hijo&quot;).redirectError(new File(&quot;stderr.log&quot;)).start();\r\n\r\nThe command you use might also need extra details for path to current directory or setting classpath, something like:\r\n\r\n     Process hijo = new ProcessBuilder(\r\n           System.getProperty(&quot;java.home&quot;)+&quot;/bin/java&quot;,\r\n           &quot;-cp&quot;, System.getProperty(&quot;java.class.path&quot;)\r\n           ,&quot;Hijo&quot;)\r\n\r\n","title":"Program that creates a child process, sends it a text and returns it in uppercase, using bufferReader","body":"<p>Your code assumes everything works properly and might be missing an error in the sub-process. Change the launch to redirect stderr -&gt; stdout and it should give back more details:</p>\n<pre><code> Process hijo = new ProcessBuilder(&quot;java&quot;,&quot;Hijo&quot;).redirectErrorStream(true).start();\n</code></pre>\n<p>or put errors to a file to read later.</p>\n<pre><code> Process hijo = new ProcessBuilder(&quot;java&quot;,&quot;Hijo&quot;).redirectError(new File(&quot;stderr.log&quot;)).start();\n</code></pre>\n<p>The command you use might also need extra details for path to current directory or setting classpath, something like:</p>\n<pre><code> Process hijo = new ProcessBuilder(\n       System.getProperty(&quot;java.home&quot;)+&quot;/bin/java&quot;,\n       &quot;-cp&quot;, System.getProperty(&quot;java.class.path&quot;)\n       ,&quot;Hijo&quot;)\n</code></pre>\n"}],"owner":{"account_id":26708576,"reputation":1,"user_id":20314364,"display_name":"Emr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666531407,"creation_date":1666528728,"question_id":74171206,"body_markdown":"**I am trying to send a string to the child and print it from the parent, but i always get a &quot;null&quot;.Is the correct way to read the string of the child?\r\nPerhaps it is better to do it with Scanner? \r\nI&#39;ve never done it with &quot;Parent/Child&quot;, I&#39;ve always done it with sockets and I&#39;m a bit lost\r\nThanks**\r\n\r\nParent\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.PrintStream;\r\n\r\n    public class Padre {\r\n\r\n    public static void main(String args[]) {\r\n    String line;\r\n\r\n    try {\r\n\r\n    Process hijo = new ProcessBuilder(&quot;java&quot;,&quot;Hijo&quot;).start();\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(hijo.getInputStream()));\r\n    PrintStream ps = new PrintStream(hijo.getOutputStream(), true);\r\n    BufferedReader in = new BufferedReader(new InputStreamReader (System. in));\r\n\r\n    System.out.println(&quot;Enviar un mensaje al proceso hijo:&quot;);\r\n    line = in.readLine();\r\n    ps.println(line);\r\n    line = br.readLine();\r\n    System.out.println(line) ;\r\n\r\n     } catch (IOException e) {\r\n     System.out.println(&quot;Error : &quot; + e.getMessage());\r\n     }\r\n\r\n    }\r\n    }\r\n\r\nChild\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    public class Hijo {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString leer;\r\n\r\n\t\ttry {\r\n\r\n\t\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n\r\n\t\t\tleer = br.readLine().toUpperCase();\r\n\t\t\tSystem.out.println(leer);\r\n\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(&quot;Error: &quot; + e.getMessage());\r\n\t\t}\r\n\t}}","title":"Program that creates a child process, sends it a text and returns it in uppercase, using bufferReader","body":"<p><strong>I am trying to send a string to the child and print it from the parent, but i always get a &quot;null&quot;.Is the correct way to read the string of the child?\nPerhaps it is better to do it with Scanner?\nI've never done it with &quot;Parent/Child&quot;, I've always done it with sockets and I'm a bit lost\nThanks</strong></p>\n<p>Parent</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintStream;\n\npublic class Padre {\n\npublic static void main(String args[]) {\nString line;\n\ntry {\n\nProcess hijo = new ProcessBuilder(&quot;java&quot;,&quot;Hijo&quot;).start();\nBufferedReader br = new BufferedReader(new InputStreamReader(hijo.getInputStream()));\nPrintStream ps = new PrintStream(hijo.getOutputStream(), true);\nBufferedReader in = new BufferedReader(new InputStreamReader (System. in));\n\nSystem.out.println(&quot;Enviar un mensaje al proceso hijo:&quot;);\nline = in.readLine();\nps.println(line);\nline = br.readLine();\nSystem.out.println(line) ;\n\n } catch (IOException e) {\n System.out.println(&quot;Error : &quot; + e.getMessage());\n }\n\n}\n}\n</code></pre>\n<p>Child</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\npublic class Hijo {\n\npublic static void main(String[] args) {\n\n    String leer;\n\n    try {\n\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\n        leer = br.readLine().toUpperCase();\n        System.out.println(leer);\n\n    } catch (IOException e) {\n        System.out.println(&quot;Error: &quot; + e.getMessage());\n    }\n}}\n</code></pre>\n"},{"tags":["java","java-2d","game-development","game-loop"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1567082079,"post_id":57710138,"comment_id":101862671,"body_markdown":"The while loop is there to let the ticks catch up with the elapsed time. This way the objects move at a realistic pace, even if, for whatever reason, the UI wasn&#39;t able to render for every tick. Since it is trying to catch up here because the entire loop including rendering was too slow, you will likely never catch up if you render every time in the catch-up loop.","body":"The while loop is there to let the ticks catch up with the elapsed time. This way the objects move at a realistic pace, even if, for whatever reason, the UI wasn&#39;t able to render for every tick. Since it is trying to catch up here because the entire loop including rendering was too slow, you will likely never catch up if you render every time in the catch-up loop."},{"owner":{"account_id":16424792,"reputation":314,"user_id":11865149,"display_name":"benjamin"},"score":0,"creation_date":1567082872,"post_id":57710138,"comment_id":101863160,"body_markdown":"@Erwin That a good point, but isn&#39;t it a bad thing if the game updates multiple times and only then the image changes (drastic change from previous image)? Maybe I should just lower the fps if I cant tick and render at the same time. Also, most of the time, I can render 150-200 times when ticking 60 per second. Even in this case I shouldn&#39;t tick and render together?","body":"@Erwin That a good point, but isn&#39;t it a bad thing if the game updates multiple times and only then the image changes (drastic change from previous image)? Maybe I should just lower the fps if I cant tick and render at the same time. Also, most of the time, I can render 150-200 times when ticking 60 per second. Even in this case I shouldn&#39;t tick and render together?"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1567083546,"post_id":57710138,"comment_id":101863605,"body_markdown":"I don&#39;t know the theory behind it but I think that most people will perceive a better experience if the objects move slowly. If there is a big gap (maybe Java doing a very big garbage collection) it could become a problem (and you could check for the gap becoming too large if you want) but mostly there will be just a few skipped rendered frames (unless your frame rate is too high) and it will still feel smooth to the user.","body":"I don&#39;t know the theory behind it but I think that most people will perceive a better experience if the objects move slowly. If there is a big gap (maybe Java doing a very big garbage collection) it could become a problem (and you could check for the gap becoming too large if you want) but mostly there will be just a few skipped rendered frames (unless your frame rate is too high) and it will still feel smooth to the user."}],"answers":[{"comments":[{"owner":{"account_id":16424792,"reputation":314,"user_id":11865149,"display_name":"benjamin"},"score":1,"creation_date":1567085077,"post_id":57711017,"comment_id":101864580,"body_markdown":"So apparently I don&#39;t understand the &quot;update&quot; concept. In Minecraft, what update do? Turning the player view is on the render method?","body":"So apparently I don&#39;t understand the &quot;update&quot; concept. In Minecraft, what update do? Turning the player view is on the render method?"},{"owner":{"account_id":11283042,"reputation":321,"user_id":8274968,"display_name":"Filippo De Angelis"},"score":1,"creation_date":1567085728,"post_id":57711017,"comment_id":101864968,"body_markdown":"A tick is whenever game logic is calculated. Taking Minecraft as an example, it can be anything from a door opening to a block breaking to a redstone circuit updating. The player view is detached from ticks in order to be more fluid.","body":"A tick is whenever game logic is calculated. Taking Minecraft as an example, it can be anything from a door opening to a block breaking to a redstone circuit updating. The player view is detached from ticks in order to be more fluid."}],"tags":[],"owner":{"account_id":11283042,"reputation":321,"user_id":8274968,"display_name":"Filippo De Angelis"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1567084369,"creation_date":1567084369,"answer_id":57711017,"question_id":57710138,"body_markdown":"Game logic should not be tied to framerate.\r\n\r\nSome games don&#39;t use 60 ticks per second, some (like Minecraft) run at 20 ticks per second. That would effectively lock the game at 20 fps.\r\n\r\nEven if all games ran at 60 ticks a second, what if someone has a 144 Hz monitor? He&#39;d be stuck playing at 60 fps.\r\n\r\nIf you render the game more frequently than the ticks, you can still run animations and other stuff in the render logic, while the game logic is stopped for however long it has to be, making the game fluid even if its tick frequence is slower than your monitor&#39;s refresh rate.","title":"Why gameloops render more times than updating","body":"<p>Game logic should not be tied to framerate.</p>\n\n<p>Some games don't use 60 ticks per second, some (like Minecraft) run at 20 ticks per second. That would effectively lock the game at 20 fps.</p>\n\n<p>Even if all games ran at 60 ticks a second, what if someone has a 144 Hz monitor? He'd be stuck playing at 60 fps.</p>\n\n<p>If you render the game more frequently than the ticks, you can still run animations and other stuff in the render logic, while the game logic is stopped for however long it has to be, making the game fluid even if its tick frequence is slower than your monitor's refresh rate.</p>\n"},{"tags":[],"owner":{"account_id":18932774,"reputation":67,"user_id":13814567,"display_name":"Archer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593249446,"creation_date":1593249446,"answer_id":62608101,"question_id":57710138,"body_markdown":"What does tick and render method do?&lt;br&gt;\r\n1. Tick (or update, but I like tick more) method just update game objects’ states. For example, it updates player coordinate, processes input, check current state (menu, game, pause)and update it and so on.&lt;br&gt;\r\n2. Render method just draw it into the screen. It like a painter that draw something based on feelings. But in our case he based on some variables and other information.&lt;br&gt;\r\n\r\nHow does they do their work?\r\n1. Tick method updates specific times per second (for example, 20, 60 and so on). I call that number UPS (stands for updates per second). Let’s consider player movement. His speed is 20 pixels per second. So if we want to move our player with this speed we need to know UPS. For example, UPS is 20. So our player will move 20 pixels per tick. And that’s wrong. If it is then with our 20 ticks, for 1 second our player will move 20*20 pixels (400 pixels per second). So speed of our player will be 20 * (1 / UPS) per tick. We can change our UPS and number of pixels player move per tick will be changed too. But he will be still move 20 pixels per second. To make it clear assume our UPS is 1 it means one tick per second. Then speed will be 20 * (1 / 1) = 20 pixels per tick (in one second is one tick) = 30 pixels per second. The same as we want.&lt;br&gt;\r\n2. Render just draws what we update. It can do it with the same rate as we update also I it can do it faster. But it doesn’t matter, because we will see only what we update. UPS can be 1 but FPS is 160. You will see everything move every second. But it doesn’t mean that we render 1 time per second it mean that for one second we render the same picture. After 1 second we update our game and we will see another picture.&lt;br&gt;\r\n\r\nAnd answer your question you can use tick() and render() together. ","title":"Why gameloops render more times than updating","body":"<p>What does tick and render method do?<br></p>\n<ol>\n<li>Tick (or update, but I like tick more) method just update game objects’ states. For example, it updates player coordinate, processes input, check current state (menu, game, pause)and update it and so on.<br></li>\n<li>Render method just draw it into the screen. It like a painter that draw something based on feelings. But in our case he based on some variables and other information.<br></li>\n</ol>\n<p>How does they do their work?</p>\n<ol>\n<li>Tick method updates specific times per second (for example, 20, 60 and so on). I call that number UPS (stands for updates per second). Let’s consider player movement. His speed is 20 pixels per second. So if we want to move our player with this speed we need to know UPS. For example, UPS is 20. So our player will move 20 pixels per tick. And that’s wrong. If it is then with our 20 ticks, for 1 second our player will move 20*20 pixels (400 pixels per second). So speed of our player will be 20 * (1 / UPS) per tick. We can change our UPS and number of pixels player move per tick will be changed too. But he will be still move 20 pixels per second. To make it clear assume our UPS is 1 it means one tick per second. Then speed will be 20 * (1 / 1) = 20 pixels per tick (in one second is one tick) = 30 pixels per second. The same as we want.<br></li>\n<li>Render just draws what we update. It can do it with the same rate as we update also I it can do it faster. But it doesn’t matter, because we will see only what we update. UPS can be 1 but FPS is 160. You will see everything move every second. But it doesn’t mean that we render 1 time per second it mean that for one second we render the same picture. After 1 second we update our game and we will see another picture.<br></li>\n</ol>\n<p>And answer your question you can use tick() and render() together.</p>\n"},{"tags":[],"owner":{"account_id":45219,"reputation":2057,"user_id":133227,"accept_rate":67,"display_name":"Dragon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666531012,"creation_date":1666531012,"answer_id":74171448,"question_id":57710138,"body_markdown":"All it takes for it to be worth rendering faster than the game state can be updated is the player to be moving, causing stationary objects to change their angle of the screen as the player walks past them or turns.\r\n\r\nThe fluidity of this motion is particularly critical for VR software:\r\n\r\n&gt; Studies have shown that in practice, any VR setup that generates frame rates below 90 frames per second (FPS) is likely to induce disorientation, nausea, and other negative user effects. [[source](https://help.irisvr.com/hc/en-us/articles/215884547-The-Importance-of-Frame-Rates)]\r\n\r\n---\r\n\r\nWe can also linearly interpolate the motion of moving objects between game updates to provide more continuous movement:\r\n\r\n`position_now = position_last_game_loop + (velocity_last_game_loop * time_since_last_game_loop)`\r\n\r\nwhich, whilst not perfect, means a moving object &#39;snaps&#39; from the approximate position to the game loop position, rather than from the last game loop position to the new one. (This works best if objects can&#39;t accelerate or break incredibly fast). (This could similarly use acceleration data.)\r\n ","title":"Why gameloops render more times than updating","body":"<p>All it takes for it to be worth rendering faster than the game state can be updated is the player to be moving, causing stationary objects to change their angle of the screen as the player walks past them or turns.</p>\n<p>The fluidity of this motion is particularly critical for VR software:</p>\n<blockquote>\n<p>Studies have shown that in practice, any VR setup that generates frame rates below 90 frames per second (FPS) is likely to induce disorientation, nausea, and other negative user effects. [<a href=\"https://help.irisvr.com/hc/en-us/articles/215884547-The-Importance-of-Frame-Rates\" rel=\"nofollow noreferrer\">source</a>]</p>\n</blockquote>\n<hr />\n<p>We can also linearly interpolate the motion of moving objects between game updates to provide more continuous movement:</p>\n<p><code>position_now = position_last_game_loop + (velocity_last_game_loop * time_since_last_game_loop)</code></p>\n<p>which, whilst not perfect, means a moving object 'snaps' from the approximate position to the game loop position, rather than from the last game loop position to the new one. (This works best if objects can't accelerate or break incredibly fast). (This could similarly use acceleration data.)</p>\n"}],"owner":{"account_id":16424792,"reputation":314,"user_id":11865149,"display_name":"benjamin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1338,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57711017,"answer_count":3,"score":1,"last_activity_date":1666531012,"creation_date":1567081401,"question_id":57710138,"body_markdown":"Many game loops use tick and render, when tick is done every X ms and render whenever possible. Why not ticking then rendering?\r\nThe way I see it, between ticks the render will draw the same thing, so why call it more than once? (if not explain why please)\r\n\r\nthe typical gameloop is: \r\n```java\r\npublic void run() {\r\n\r\n        long lastTime = System.nanoTime();\r\n        double amountOfTicks = 60.0;\r\n        double nsBetweenTicks = 1000000000 / amountOfTicks;\r\n        double delta = 0;\r\n        long timer = System.currentTimeMillis();\r\n        while(running){\r\n            long now = System.nanoTime();\r\n            delta += (now - lastTime) / nsBetweenTicks;\r\n            lastTime = now;\r\n            while(delta &gt;=1){\r\n                tick();\r\n                delta--;\r\n            }\r\n            render();\r\n       }\r\n}\r\n```\r\nMy question is why not:\r\n\r\n```java\r\npublic void run() {\r\n\r\n        long lastTime = System.nanoTime();\r\n        double amountOfTicks = 60.0;\r\n        double nsBetweenTicks = 1000000000 / amountOfTicks;\r\n        double delta = 0;\r\n        long timer = System.currentTimeMillis();\r\n        while(running){\r\n            long now = System.nanoTime();\r\n            delta += (now - lastTime) / nsBetweenTicks;\r\n            lastTime = now;\r\n            while(delta &gt;=1){\r\n                tick();\r\n                render();\r\n                delta--;\r\n            }\r\n       }\r\n}\r\n```","title":"Why gameloops render more times than updating","body":"<p>Many game loops use tick and render, when tick is done every X ms and render whenever possible. Why not ticking then rendering?\nThe way I see it, between ticks the render will draw the same thing, so why call it more than once? (if not explain why please)</p>\n\n<p>the typical gameloop is: </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void run() {\n\n        long lastTime = System.nanoTime();\n        double amountOfTicks = 60.0;\n        double nsBetweenTicks = 1000000000 / amountOfTicks;\n        double delta = 0;\n        long timer = System.currentTimeMillis();\n        while(running){\n            long now = System.nanoTime();\n            delta += (now - lastTime) / nsBetweenTicks;\n            lastTime = now;\n            while(delta &gt;=1){\n                tick();\n                delta--;\n            }\n            render();\n       }\n}\n</code></pre>\n\n<p>My question is why not:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void run() {\n\n        long lastTime = System.nanoTime();\n        double amountOfTicks = 60.0;\n        double nsBetweenTicks = 1000000000 / amountOfTicks;\n        double delta = 0;\n        long timer = System.currentTimeMillis();\n        while(running){\n            long now = System.nanoTime();\n            delta += (now - lastTime) / nsBetweenTicks;\n            lastTime = now;\n            while(delta &gt;=1){\n                tick();\n                render();\n                delta--;\n            }\n       }\n}\n</code></pre>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"score":0,"creation_date":1666530524,"post_id":74165920,"comment_id":130954262,"body_markdown":"As I know, when you are using &quot;nativeQuery = true&quot;, hibernate wont try to translate your query or use the objects, it just populate the query string with parameters and execute it directly on database, so I don&#39;t think that it is possible to do what you are looking for.!! and you need to define parameters in method signature seperately","body":"As I know, when you are using &quot;nativeQuery = true&quot;, hibernate wont try to translate your query or use the objects, it just populate the query string with parameters and execute it directly on database, so I don&#39;t think that it is possible to do what you are looking for.!! and you need to define parameters in method signature seperately"}],"answers":[{"tags":[],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666530502,"creation_date":1666530166,"answer_id":74171352,"question_id":74165920,"body_markdown":"```java\r\n    @Query(value = &quot;&quot;&quot;\r\n            SELECT *\r\n            FROM tom_schema.tom t\\040\r\n            WHERE t.title ILIKE LOWER(concat(&#39;%&#39;, :#{#tomDto.title}, &#39;%&#39;))\\040\r\n                AND\\040\r\n                  t.completed = :#{#tomDto.completed}\\040\r\n                AND\\040\r\n                  t.priority_id IS NULL\\040\r\n               OR t.priority_id = :#{#tomDto.priorityId}\\040\r\n                AND\r\n                  t.category_id IS NULL\r\n               OR t.category_id = :#{#tomDto.categoryId}\\040\r\n                AND\\040\r\n                  t.task_date IS NULL\\040\r\n               OR t.task_date BETWEEN cast(:#{#tomDto.dateFrom} as timestamp)\\040\\040\r\n                                         AND\\040\\040\r\n                                      cast(:#{#tomDto.dateTo} as timestamp)\\040\r\n                AND\\040\r\n                  t.user_id = :#{#tomDto.userId}\\040\r\n                            &quot;&quot;&quot;, nativeQuery = true)\r\n    Page&lt;Tom&gt; findWithMultiParam(TomDto tomDto, Pageable pageable);\r\n\r\n```\r\n\r\nIt need to add :  **\\040** (Trailing whitespaces inside text block )\r\n\r\nI added more spaces, because when transferring lines, I may have forgotten to put a space between Sql statements.","title":"How can I transsmit an object as set Params to Derived Query Methods in Spring?","body":"<pre class=\"lang-java prettyprint-override\"><code>    @Query(value = &quot;&quot;&quot;\n            SELECT *\n            FROM tom_schema.tom t\\040\n            WHERE t.title ILIKE LOWER(concat('%', :#{#tomDto.title}, '%'))\\040\n                AND\\040\n                  t.completed = :#{#tomDto.completed}\\040\n                AND\\040\n                  t.priority_id IS NULL\\040\n               OR t.priority_id = :#{#tomDto.priorityId}\\040\n                AND\n                  t.category_id IS NULL\n               OR t.category_id = :#{#tomDto.categoryId}\\040\n                AND\\040\n                  t.task_date IS NULL\\040\n               OR t.task_date BETWEEN cast(:#{#tomDto.dateFrom} as timestamp)\\040\\040\n                                         AND\\040\\040\n                                      cast(:#{#tomDto.dateTo} as timestamp)\\040\n                AND\\040\n                  t.user_id = :#{#tomDto.userId}\\040\n                            &quot;&quot;&quot;, nativeQuery = true)\n    Page&lt;Tom&gt; findWithMultiParam(TomDto tomDto, Pageable pageable);\n\n</code></pre>\n<p>It need to add :  <strong>\\040</strong> (Trailing whitespaces inside text block )</p>\n<p>I added more spaces, because when transferring lines, I may have forgotten to put a space between Sql statements.</p>\n"}],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666530502,"creation_date":1666461901,"question_id":74165920,"body_markdown":"I have a Pojo (TomDto) in which the parameters are accumulated, according to which the native query is compiled.\r\n\r\n```java\r\n    @Query(value = &quot;&quot;&quot;\r\n            SELECT *\r\n            FROM tom_schema.tom t\r\n            WHERE t.title ILIKE LOWER(concat(&#39;%&#39;, :#{#tomDto.title}, &#39;%&#39;))\r\n                AND\r\n                  t.completed = :#{#tomDto.completed}\r\n                AND\r\n                  t.priority_id IS NULL\r\n               OR t.priority_id = :#{#tomDto.priorityId}\r\n                AND\r\n                  t.category_id IS NULL\r\n               OR t.category_id = :#{#tomDto.categoryId}\r\n                AND\r\n                  t.task_date IS NULL\r\n               OR t.task_date BETWEEN cast(:#{#tomDto.dateFrom} as timestamp) \r\n                                         AND \r\n                                      cast(:#{#tomDto.dateTo} as timestamp)\r\n                AND\r\n                  t.user_id = :#{#tomDto.userId};\r\n                            &quot;&quot;&quot;, nativeQuery = true)\r\n    Page&lt;Tom&gt; findWithMultiParam(TomDto tomDto, Pageable pageable);\r\n\r\n```\r\n\r\nBut during the request I get an error:\r\n\r\n```yaml\r\n{\r\n    &quot;status&quot;: &quot;INTERNAL_SERVER_ERROR&quot;,\r\n    &quot;message&quot;: &quot;Could not locate named parameter [__$synthetic$__7], expecting one of [__$synthetic$__4, __$synthetic$__3, __$synthetic$__6, __$synthetic$__5, __$synthetic$__7;, __$synthetic$__2, __$synthetic$__1]; nested exception is java.lang.IllegalArgumentException: Could not locate named parameter [__$synthetic$__7], expecting one of [__$synthetic$__4, __$synthetic$__3, __$synthetic$__6, __$synthetic$__5, __$synthetic$__7;, __$synthetic$__2, __$synthetic$__1]&quot;\r\n}\r\n```\r\n\r\nMaybe there are ideas what the problem might be or you can rewrite the query, but only without using these parameters in the method parameters (5-6 parameters to specify in the method parameters is not convenient)?\r\n","title":"How can I transsmit an object as set Params to Derived Query Methods in Spring?","body":"<p>I have a Pojo (TomDto) in which the parameters are accumulated, according to which the native query is compiled.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Query(value = &quot;&quot;&quot;\n            SELECT *\n            FROM tom_schema.tom t\n            WHERE t.title ILIKE LOWER(concat('%', :#{#tomDto.title}, '%'))\n                AND\n                  t.completed = :#{#tomDto.completed}\n                AND\n                  t.priority_id IS NULL\n               OR t.priority_id = :#{#tomDto.priorityId}\n                AND\n                  t.category_id IS NULL\n               OR t.category_id = :#{#tomDto.categoryId}\n                AND\n                  t.task_date IS NULL\n               OR t.task_date BETWEEN cast(:#{#tomDto.dateFrom} as timestamp) \n                                         AND \n                                      cast(:#{#tomDto.dateTo} as timestamp)\n                AND\n                  t.user_id = :#{#tomDto.userId};\n                            &quot;&quot;&quot;, nativeQuery = true)\n    Page&lt;Tom&gt; findWithMultiParam(TomDto tomDto, Pageable pageable);\n\n</code></pre>\n<p>But during the request I get an error:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>{\n    &quot;status&quot;: &quot;INTERNAL_SERVER_ERROR&quot;,\n    &quot;message&quot;: &quot;Could not locate named parameter [__$synthetic$__7], expecting one of [__$synthetic$__4, __$synthetic$__3, __$synthetic$__6, __$synthetic$__5, __$synthetic$__7;, __$synthetic$__2, __$synthetic$__1]; nested exception is java.lang.IllegalArgumentException: Could not locate named parameter [__$synthetic$__7], expecting one of [__$synthetic$__4, __$synthetic$__3, __$synthetic$__6, __$synthetic$__5, __$synthetic$__7;, __$synthetic$__2, __$synthetic$__1]&quot;\n}\n</code></pre>\n<p>Maybe there are ideas what the problem might be or you can rewrite the query, but only without using these parameters in the method parameters (5-6 parameters to specify in the method parameters is not convenient)?</p>\n"},{"tags":["java","spring-boot","junit"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1666483619,"post_id":74167739,"comment_id":130948313,"body_markdown":"&quot;size parameter is missing&quot; returned from your endpoint should be pretty clear, shouldn&#39;t it?","body":"&quot;size parameter is missing&quot; returned from your endpoint should be pretty clear, shouldn&#39;t it?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1666530286,"post_id":74167739,"comment_id":130954215,"body_markdown":"@knittl I edited my post. I added size and page parameter but I got the issue.","body":"@knittl I edited my post. I added size and page parameter but I got the issue."}],"answers":[{"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1666482907,"post_id":74167822,"comment_id":130948238,"body_markdown":"@S.N now it&#39;s a different question (and a different error). The original problem was solved. The new question should be: &quot;how to assert an object with mockmvc and jsonpath to contain a specific number of properties&quot;. Or perhaps &quot;how to pass parameters via mockmvc?&quot;","body":"@S.N now it&#39;s a different question (and a different error). The original problem was solved. The new question should be: &quot;how to assert an object with mockmvc and jsonpath to contain a specific number of properties&quot;. Or perhaps &quot;how to pass parameters via mockmvc?&quot;"}],"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666503941,"creation_date":1666482128,"answer_id":74167822,"question_id":74167739,"body_markdown":"Your method is called `listBook` but you are mocking `listBooks` (note the s). `listBook` is defined with 2 parameters (int, int), but your mock is set up with 3 matchers (int, int, id). Furthermore, you cannot mix matchers with literal values. Either all arguments are matchers or none are (i.e. all are real values).\r\n\r\n```\r\n//                             vvvvvv----vvvvvv-- any matchers\r\nwhen(bookListService.listBooks(anyInt(), anyInt(), eq(userDto.getId())))\r\n//                                                 ^^-- equality matcher\r\n        .thenReturn(response);\r\n```","title":"RestController Junit when issue in Spring Boot","body":"<p>Your method is called <code>listBook</code> but you are mocking <code>listBooks</code> (note the s). <code>listBook</code> is defined with 2 parameters (int, int), but your mock is set up with 3 matchers (int, int, id). Furthermore, you cannot mix matchers with literal values. Either all arguments are matchers or none are (i.e. all are real values).</p>\n<pre><code>//                             vvvvvv----vvvvvv-- any matchers\nwhen(bookListService.listBooks(anyInt(), anyInt(), eq(userDto.getId())))\n//                                                 ^^-- equality matcher\n        .thenReturn(response);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1666541319,"post_id":74171383,"comment_id":130956604,"body_markdown":"If you want to perform a request, you need to pass values. `anyInt()` passes a dummy value (`0`). Also note that you could simply call `mockMvc.perform(get(&quot;/api/v1/book/search?size=1&amp;page=1&quot;)` without concatenating strings","body":"If you want to perform a request, you need to pass values. <code>anyInt()</code> passes a dummy value (<code>0</code>). Also note that you could simply call <code>mockMvc.perform(get(&quot;&#47;api&#47;v1&#47;book&#47;search?size=1&amp;page=1&quot;)</code> without concatenating strings"}],"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666530452,"creation_date":1666530452,"answer_id":74171383,"question_id":74167739,"body_markdown":"Here is the solution shown below.\r\n\r\nChange\r\n\r\n    mockMvc.perform(get(&quot;/api/v1/book/search?size=&quot; + anyInt() + &quot;&amp;page=&quot; + anyInt())\r\n\r\nto \r\n\r\n    mockMvc.perform(get(&quot;/api/v1/book/search?size=&quot; + 1 + &quot;&amp;page=&quot; + 1)","title":"RestController Junit when issue in Spring Boot","body":"<p>Here is the solution shown below.</p>\n<p>Change</p>\n<pre><code>mockMvc.perform(get(&quot;/api/v1/book/search?size=&quot; + anyInt() + &quot;&amp;page=&quot; + anyInt())\n</code></pre>\n<p>to</p>\n<pre><code>mockMvc.perform(get(&quot;/api/v1/book/search?size=&quot; + 1 + &quot;&amp;page=&quot; + 1)\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74171383,"answer_count":2,"score":1,"last_activity_date":1666530452,"creation_date":1666480830,"question_id":74167739,"body_markdown":"I have an issue to write a RestControler Junit in Spring Boot. I have a problem in listBook in when option.\r\n\r\nHow can I fix the issue?\r\n\r\n\r\nHere is the method of restController shown below.\r\n\r\n    @GetMapping(&quot;/search&quot;)\r\n        public ResponseEntity&lt;List&lt;BookResponse&gt;&gt; listBook(@RequestParam(name = &quot;size&quot;) int size, @RequestParam(name = &quot;page&quot;) int page) {\r\n            final Long userID = userService.findInContextUser().getId();\r\n            return ResponseEntity.ok(bookListService.listBooks(size, page, userID));\r\n        }\r\n\r\nHere is the test method shown below\r\n\r\n    @Test\r\n        void itShouldGetBooks_WhenSearch() throws Exception {\r\n    \r\n            // given - precondition or setup\r\n            BookResponse response1 = BookResponse.builder()\r\n                    .title(&quot;Book 1&quot;)\r\n                    .authorName(&quot;authorName&quot;)\r\n                    .build();\r\n    \r\n            BookResponse response2 = BookResponse.builder()\r\n                    .title(&quot;Book 1&quot;)\r\n                    .authorName(&quot;authorName2&quot;)\r\n                    .build();\r\n    \r\n            List&lt;BookResponse&gt; response = List.of(response1, response2);\r\n    \r\n            UserDto userDto = UserDto.builder()\r\n                    .id(1L)\r\n                    .username(&quot;username&quot;)\r\n                    .build();\r\n    \r\n            // when -  action or the behaviour that we are going test\r\n            when(userService.findInContextUser()).thenReturn(userDto);\r\n            when(bookListService.listBooks(anyInt(), anyInt(), eq(userDto.getId()))).thenReturn(response);\r\n    \r\n            // then - verify the output\r\n            mockMvc.perform(get(&quot;/api/v1/book/search?size=&quot; + anyInt() + &quot;&amp;page=&quot; + anyInt()) // HERE IS THE ERROR LINE\r\n                            .contentType(MediaType.APPLICATION_JSON))\r\n                    .andDo(print())\r\n                    .andExpect(jsonPath(&quot;$&quot;, hasSize(2))) // ERROR IS HERE\r\n                    .andExpect(status().isOk());\r\n        }\r\n\r\nHere is the error message shown below.\r\n\r\n        java.lang.AssertionError: JSON path &quot;$&quot;\r\n    Expected: a collection with size &lt;2&gt;\r\n         but: was LinkedHashMap &lt;{error=Request processing failed; nested exception is org.mockito.exceptions.misusing.InvalidUseOfMatchersException: \r\n    Invalid use of argument matchers!\r\n    0 matchers expected, 2 recorded:\r\n","title":"RestController Junit when issue in Spring Boot","body":"<p>I have an issue to write a RestControler Junit in Spring Boot. I have a problem in listBook in when option.</p>\n<p>How can I fix the issue?</p>\n<p>Here is the method of restController shown below.</p>\n<pre><code>@GetMapping(&quot;/search&quot;)\n    public ResponseEntity&lt;List&lt;BookResponse&gt;&gt; listBook(@RequestParam(name = &quot;size&quot;) int size, @RequestParam(name = &quot;page&quot;) int page) {\n        final Long userID = userService.findInContextUser().getId();\n        return ResponseEntity.ok(bookListService.listBooks(size, page, userID));\n    }\n</code></pre>\n<p>Here is the test method shown below</p>\n<pre><code>@Test\n    void itShouldGetBooks_WhenSearch() throws Exception {\n\n        // given - precondition or setup\n        BookResponse response1 = BookResponse.builder()\n                .title(&quot;Book 1&quot;)\n                .authorName(&quot;authorName&quot;)\n                .build();\n\n        BookResponse response2 = BookResponse.builder()\n                .title(&quot;Book 1&quot;)\n                .authorName(&quot;authorName2&quot;)\n                .build();\n\n        List&lt;BookResponse&gt; response = List.of(response1, response2);\n\n        UserDto userDto = UserDto.builder()\n                .id(1L)\n                .username(&quot;username&quot;)\n                .build();\n\n        // when -  action or the behaviour that we are going test\n        when(userService.findInContextUser()).thenReturn(userDto);\n        when(bookListService.listBooks(anyInt(), anyInt(), eq(userDto.getId()))).thenReturn(response);\n\n        // then - verify the output\n        mockMvc.perform(get(&quot;/api/v1/book/search?size=&quot; + anyInt() + &quot;&amp;page=&quot; + anyInt()) // HERE IS THE ERROR LINE\n                        .contentType(MediaType.APPLICATION_JSON))\n                .andDo(print())\n                .andExpect(jsonPath(&quot;$&quot;, hasSize(2))) // ERROR IS HERE\n                .andExpect(status().isOk());\n    }\n</code></pre>\n<p>Here is the error message shown below.</p>\n<pre><code>    java.lang.AssertionError: JSON path &quot;$&quot;\nExpected: a collection with size &lt;2&gt;\n     but: was LinkedHashMap &lt;{error=Request processing failed; nested exception is org.mockito.exceptions.misusing.InvalidUseOfMatchersException: \nInvalid use of argument matchers!\n0 matchers expected, 2 recorded:\n</code></pre>\n"},{"tags":["java","html","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":20498608,"reputation":11,"user_id":15042982,"display_name":"Midlaj Muhammed"},"score":0,"creation_date":1666484162,"post_id":74165466,"comment_id":130948374,"body_markdown":"It is not showing when method attribute is removed. When both them are there it is still showing error.","body":"It is not showing when method attribute is removed. When both them are there it is still showing error."}],"answers":[{"comments":[{"owner":{"account_id":20498608,"reputation":11,"user_id":15042982,"display_name":"Midlaj Muhammed"},"score":0,"creation_date":1666574598,"post_id":74171311,"comment_id":130962779,"body_markdown":"Thanks for the reply. But problem with th:action is not gone. I identified the problem. It is because of csrf token. I disabled in spring security configuration. Now it is working. But my form&#39;s not getting the default csrf token. Do you know why is that?","body":"Thanks for the reply. But problem with th:action is not gone. I identified the problem. It is because of csrf token. I disabled in spring security configuration. Now it is working. But my form&#39;s not getting the default csrf token. Do you know why is that?"},{"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"score":0,"creation_date":1666606400,"post_id":74171311,"comment_id":130968933,"body_markdown":"That is a different issue from the `th:action` though. Ensure you have the dependency `thymeleaf-extras-springsecurity4` in your project, this alongside with `th:action` will help with adding the csrf token automatically in the form.","body":"That is a different issue from the <code>th:action</code> though. Ensure you have the dependency <code>thymeleaf-extras-springsecurity4</code> in your project, this alongside with <code>th:action</code> will help with adding the csrf token automatically in the form."},{"owner":{"account_id":20498608,"reputation":11,"user_id":15042982,"display_name":"Midlaj Muhammed"},"score":0,"creation_date":1666634787,"post_id":74171311,"comment_id":130979106,"body_markdown":"yess! But my this form does not have csrf token automatically. I think it is beacause of the template. When I changed the form completely it is getting csrf automatically. Anyway Thanks bro !!!","body":"yess! But my this form does not have csrf token automatically. I think it is beacause of the template. When I changed the form completely it is getting csrf automatically. Anyway Thanks bro !!!"}],"tags":[],"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666529712,"creation_date":1666529712,"answer_id":74171311,"question_id":74165466,"body_markdown":"Your endpoint is `/users/save` instead of `/user/save`.\r\n\r\nUse `th:action=&quot;@{/users/save}&quot;` and it should be working fine. No need to add `action=&quot;#&quot;` either.","title":"form th:action is giving exception Error during execution of processor &#39;org.thymeleaf.spring5.processor.SpringActionTagProcessor&#39;","body":"<p>Your endpoint is <code>/users/save</code> instead of <code>/user/save</code>.</p>\n<p>Use <code>th:action=&quot;@{/users/save}&quot;</code> and it should be working fine. No need to add <code>action=&quot;#&quot;</code> either.</p>\n"}],"owner":{"account_id":20498608,"reputation":11,"user_id":15042982,"display_name":"Midlaj Muhammed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":543,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666529712,"creation_date":1666458012,"question_id":74165466,"body_markdown":"When I render a page to a specific URL, it is throwing an error because of the action attribute in the form. I don&#39;t know why it is happening. Advance Thanks for looking at this. Other code details are given below.\r\n\r\n\r\nController : \r\n``` \r\n@GetMapping(&quot;/users/new&quot;)\r\n    public String newUser(Model model){\r\n        List&lt;Role&gt; listRoles = userService.listRoles();\r\n\r\n        User user  = new User();\r\n        user.setEnabled(true);\r\n\r\n        model.addAttribute(&quot;user&quot;,user);\r\n        model.addAttribute(&quot;listRoles&quot;,listRoles);\r\n\r\n        return &quot;add_user&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/users/save&quot;)\r\n    public String saveUser(User user, RedirectAttributes redirectAttributes){\r\n        System.out.println(user);\r\n        userService.save(user);\r\n\r\n        redirectAttributes.addFlashAttribute(&quot;message&quot;,&quot;The user has saved Successfully.&quot;);\r\n\r\n        return &quot;redirect:/users&quot;;\r\n    }\r\n```\r\n\r\n\r\nIt is getting error when I call the &#39;user/new&#39; url. When I removed that th:action attribute it is working and not showing any other errors. I don&#39;t what is happening. When I have removed method attribute the error gone.\r\n\r\nadd_form.html:\r\n\r\n``` \r\n&lt;form action=&quot;#&quot; th:action=&quot;@{/user/save}&quot; method=&quot;post&quot;  th:object=&quot;${user}&quot;&gt;\r\n                    &lt;div class=&quot;row mb-3&quot;&gt;\r\n                      &lt;label class=&quot;col-sm-2 col-form-label&quot;\r\n                             for=&quot;basic-icon-default-email&quot;&gt;Email&lt;/label&gt;\r\n                      &lt;div class=&quot;col-sm-10&quot;&gt;\r\n                        &lt;div class=&quot;input-group input-group-merge&quot;&gt;\r\n                          &lt;span class=&quot;input-group-text&quot;&gt;&lt;i class=&quot;bx bx-envelope&quot;&gt;&lt;/i&gt;&lt;/span&gt;\r\n                          &lt;input type=&quot;email&quot;\r\n                                 id=&quot;basic-icon-default-email&quot;\r\n                                 class=&quot;form-control&quot;\r\n                                 placeholder=&quot;Your Email&quot;\r\n                                 aria-label=&quot;Email&quot;\r\n                                 th:field=&quot;*{email}&quot;\r\n                                 required\r\n                                 minlength=&quot;8&quot;\r\n                                 maxlength=&quot;128&quot;\r\n                                 aria-describedby=&quot;basic-icon-default-email2&quot;\r\n                          /&gt;\r\n                          &lt;span id=&quot;basic-icon-default-email2&quot; class=&quot;input-group-text&quot;&gt;@example.com&lt;/span&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=&quot;form-text&quot;&gt;You can use letters, numbers &amp; periods&lt;/div&gt;\r\n                      &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n\r\n                    &lt;div class=&quot;row mb-3&quot;&gt;\r\n                      &lt;label class=&quot;col-sm-2 col-form-label&quot; for=&quot;basic-icon-default-fullname2&quot;&gt;Full\r\n                        Name&lt;/label&gt;\r\n                      &lt;div class=&quot;col-sm-10&quot;&gt;\r\n\r\n                        &lt;div class=&quot;input-group&quot;&gt;\r\n                              &lt;span id=&quot;basic-icon-default-fullname2&quot; class=&quot;input-group-text&quot;\r\n                              &gt;&lt;i class=&quot;bx bx-user&quot;&gt;&lt;/i\r\n                              &gt;&lt;/span&gt;\r\n                          &lt;input type=&quot;text&quot;\r\n                                 aria-label=&quot;First name&quot;\r\n                                 placeholder=&quot;First Name&quot;\r\n                                 th:field=&quot;*{firstName}&quot;\r\n                                 required\r\n                                 minlength=&quot;3&quot;\r\n                                 maxlength=&quot;45&quot;\r\n                                 class=&quot;form-control&quot;/&gt;\r\n                          &lt;input type=&quot;text&quot;\r\n                                 aria-label=&quot;Last name&quot;\r\n                                 placeholder=&quot;Last Name&quot;\r\n                                 th:field=&quot;*{lastName}&quot;\r\n                                 required\r\n                                 minlength=&quot;3&quot;\r\n                                 class=&quot;form-control&quot;/&gt;\r\n                        &lt;/div&gt;\r\n                      &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n\r\n\r\n\r\n                    &lt;div class=&quot;row mb-3 form-password-toggle&quot;&gt;\r\n                      &lt;label class=&quot;col-sm-2 form-label&quot;\r\n                             for=&quot;basic-default-password32&quot;&gt;Password&lt;/label&gt;\r\n                      &lt;div class=&quot;col-sm-10&quot;&gt;\r\n                        &lt;div class=&quot;input-group input-group-merge&quot;&gt;\r\n                                &lt;span id=&quot;basic-icon-default-password&quot; class=&quot;input-group-text&quot;\r\n                                &gt;&lt;i class=&quot;bx bx-lock&quot;&gt;&lt;/i\r\n                                &gt;&lt;/span&gt;\r\n                          &lt;input\r\n                                  type=&quot;password&quot;\r\n                                  th:field=&quot;*{password}&quot;\r\n                                  required\r\n                                  minlength=&quot;8&quot;\r\n                                  maxlength=&quot;20&quot;\r\n                                  class=&quot;form-control&quot;\r\n                                  id=&quot;basic-default-password32&quot;\r\n                                  placeholder=&quot;&amp;#xb7;&amp;#xb7;&amp;#xb7;&amp;#xb7;&amp;#xb7;&amp;#xb7;&amp;#xb7;&amp;#xb7;&amp;#xb7;&amp;#xb7;&amp;#xb7;&amp;#xb7;&quot;\r\n                                  aria-describedby=&quot;basic-default-password&quot;\r\n                          /&gt;\r\n                          &lt;span class=&quot;input-group-text cursor-pointer&quot;\r\n                                id=&quot;basic-default-password&quot;\r\n                          &gt;&lt;i class=&quot;bx bx-hide&quot;&gt;&lt;/i\r\n                          &gt;&lt;/span&gt;\r\n                        &lt;/div&gt;\r\n                      &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;row mb-3&quot;&gt;\r\n                      &lt;label class=&quot;col-sm-2 col-form-label&quot; for=&quot;defaultCheck1&quot;&gt;Roles&lt;/label&gt;\r\n                      &lt;div class=&quot;col-sm-10&quot;&gt;\r\n                        &lt;div class=&quot;col-md&quot;&gt;\r\n                          &lt;small class=&quot;text-light fw-semibold&quot;&gt;Available roles&lt;/small&gt;\r\n                          &lt;th:block th:each=&quot;role : ${listRoles}&quot;&gt;\r\n                            &lt;div class=&quot;form-check mt-3&quot;&gt;\r\n                              &lt;input th:field=&quot;*{roles}&quot;\r\n                                     th:value=&quot;${role.id}&quot;\r\n                                     class=&quot;form-check-input&quot; type=&quot;checkbox&quot; value=&quot;&quot; id=&quot;defaultCheck1&quot; /&gt;\r\n                              &lt;label class=&quot;form-check-label&quot; for=&quot;defaultCheck1&quot; th:text=&quot;${role.name}&quot;&gt;roleName&lt;/label&gt;\r\n                              - &lt;small&gt; [[${role.description}]]&lt;/small&gt;\r\n                            &lt;/div&gt;\r\n                          &lt;/th:block&gt;\r\n\r\n\r\n                        &lt;/div&gt;\r\n                      &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n\r\n\r\n                    &lt;div class=&quot;row mb-3&quot;&gt;\r\n                      &lt;label class=&quot;col-sm-2 col-form-label&quot; for=&quot;defaultCheck1&quot;&gt;Enabled?&lt;/label&gt;\r\n                      &lt;div class=&quot;col-sm-10&quot;&gt;\r\n                        &lt;div class=&quot;col-md&quot;&gt;\r\n                          &lt;small class=&quot;text-light fw-semibold&quot;&gt;Is this user want to be enabled?&lt;/small&gt;\r\n                          &lt;div class=&quot;form-check mt-3&quot;&gt;\r\n                            &lt;input th:field=&quot;*{enabled}&quot;\r\n                                   class=&quot;form-check-input&quot; type=&quot;checkbox&quot; value=&quot;&quot; id=&quot;defaultCheck1&quot; /&gt;\r\n                            &lt;label class=&quot;form-check-label&quot; for=&quot;defaultCheck1&quot;&gt;Enable&lt;/label&gt;\r\n                          &lt;/div&gt;\r\n                        &lt;/div&gt;\r\n                      &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n\r\n                    &lt;div class=&quot;row mb-3&quot;&gt;\r\n                      &lt;label class=&quot;col-sm-2 col-form-label&quot; for=&quot;basic-icon-default-photos&quot;&gt;Photos&lt;/label&gt;\r\n                      &lt;div class=&quot;col-sm-10&quot;&gt;\r\n                        &lt;div class=&quot;input-group input-group-merge&quot;&gt;\r\n                          &lt;span class=&quot;input-group-text&quot;&gt;&lt;i class=&quot;bx bx-user&quot;&gt;&lt;/i&gt;&lt;/span&gt;\r\n                          &lt;input class=&quot;form-control&quot; id=&quot;basic-icon-default-photos&quot; type=&quot;file&quot;/&gt;\r\n                        &lt;/div&gt;\r\n                      &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n\r\n\r\n                    &lt;div class=&quot;row justify-content-end&quot;&gt;\r\n                      &lt;div class=&quot;col-sm-10&quot;&gt;\r\n                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Add User&lt;/button&gt;\r\n                      &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                  &lt;/form&gt;\r\n```\r\n\r\n\r\nTerminal Error:\r\n\r\n```\r\n2022-10-22 22:13:54.636 ERROR 67100 --- [nio-8080-exec-1] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-1] Exception processing template &quot;add_user&quot;: Error during execution of processor &#39;org.thymeleaf.spring5.processor.SpringActionTagProcessor&#39; (template: &quot;add_user&quot; - line 585, col 36)\r\n\r\norg.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor &#39;org.thymeleaf.spring5.processor.SpringActionTagProcessor&#39; (template: &quot;add_user&quot; - line 585, col 36)\r\n\tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:117) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigu\r\n\t\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.thymeleaf.spring5.processor.SpringActionTagProcessor.doProcess(SpringActionTagProcessor.java:118) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:160) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.engine.TemplateModel.process(TemplateModel.java:136) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:661) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1405) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1149) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:67) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]\r\n\r\n\r\n2022-10-22 22:13:54.749 ERROR 67100 --- [nio-8080-exec-1] s.e.ErrorMvcAutoConfiguration$StaticView : Cannot render error page for request [/admin/users/new] as the response has already been committed. As a result, the response may have the wrong status code.\r\n\r\n```","title":"form th:action is giving exception Error during execution of processor &#39;org.thymeleaf.spring5.processor.SpringActionTagProcessor&#39;","body":"<p>When I render a page to a specific URL, it is throwing an error because of the action attribute in the form. I don't know why it is happening. Advance Thanks for looking at this. Other code details are given below.</p>\n<p>Controller :</p>\n<pre><code>@GetMapping(&quot;/users/new&quot;)\n    public String newUser(Model model){\n        List&lt;Role&gt; listRoles = userService.listRoles();\n\n        User user  = new User();\n        user.setEnabled(true);\n\n        model.addAttribute(&quot;user&quot;,user);\n        model.addAttribute(&quot;listRoles&quot;,listRoles);\n\n        return &quot;add_user&quot;;\n    }\n\n    @PostMapping(&quot;/users/save&quot;)\n    public String saveUser(User user, RedirectAttributes redirectAttributes){\n        System.out.println(user);\n        userService.save(user);\n\n        redirectAttributes.addFlashAttribute(&quot;message&quot;,&quot;The user has saved Successfully.&quot;);\n\n        return &quot;redirect:/users&quot;;\n    }\n</code></pre>\n<p>It is getting error when I call the 'user/new' url. When I removed that th:action attribute it is working and not showing any other errors. I don't what is happening. When I have removed method attribute the error gone.</p>\n<p>add_form.html:</p>\n<pre><code>&lt;form action=&quot;#&quot; th:action=&quot;@{/user/save}&quot; method=&quot;post&quot;  th:object=&quot;${user}&quot;&gt;\n                    &lt;div class=&quot;row mb-3&quot;&gt;\n                      &lt;label class=&quot;col-sm-2 col-form-label&quot;\n                             for=&quot;basic-icon-default-email&quot;&gt;Email&lt;/label&gt;\n                      &lt;div class=&quot;col-sm-10&quot;&gt;\n                        &lt;div class=&quot;input-group input-group-merge&quot;&gt;\n                          &lt;span class=&quot;input-group-text&quot;&gt;&lt;i class=&quot;bx bx-envelope&quot;&gt;&lt;/i&gt;&lt;/span&gt;\n                          &lt;input type=&quot;email&quot;\n                                 id=&quot;basic-icon-default-email&quot;\n                                 class=&quot;form-control&quot;\n                                 placeholder=&quot;Your Email&quot;\n                                 aria-label=&quot;Email&quot;\n                                 th:field=&quot;*{email}&quot;\n                                 required\n                                 minlength=&quot;8&quot;\n                                 maxlength=&quot;128&quot;\n                                 aria-describedby=&quot;basic-icon-default-email2&quot;\n                          /&gt;\n                          &lt;span id=&quot;basic-icon-default-email2&quot; class=&quot;input-group-text&quot;&gt;@example.com&lt;/span&gt;\n                        &lt;/div&gt;\n                        &lt;div class=&quot;form-text&quot;&gt;You can use letters, numbers &amp; periods&lt;/div&gt;\n                      &lt;/div&gt;\n                    &lt;/div&gt;\n\n                    &lt;div class=&quot;row mb-3&quot;&gt;\n                      &lt;label class=&quot;col-sm-2 col-form-label&quot; for=&quot;basic-icon-default-fullname2&quot;&gt;Full\n                        Name&lt;/label&gt;\n                      &lt;div class=&quot;col-sm-10&quot;&gt;\n\n                        &lt;div class=&quot;input-group&quot;&gt;\n                              &lt;span id=&quot;basic-icon-default-fullname2&quot; class=&quot;input-group-text&quot;\n                              &gt;&lt;i class=&quot;bx bx-user&quot;&gt;&lt;/i\n                              &gt;&lt;/span&gt;\n                          &lt;input type=&quot;text&quot;\n                                 aria-label=&quot;First name&quot;\n                                 placeholder=&quot;First Name&quot;\n                                 th:field=&quot;*{firstName}&quot;\n                                 required\n                                 minlength=&quot;3&quot;\n                                 maxlength=&quot;45&quot;\n                                 class=&quot;form-control&quot;/&gt;\n                          &lt;input type=&quot;text&quot;\n                                 aria-label=&quot;Last name&quot;\n                                 placeholder=&quot;Last Name&quot;\n                                 th:field=&quot;*{lastName}&quot;\n                                 required\n                                 minlength=&quot;3&quot;\n                                 class=&quot;form-control&quot;/&gt;\n                        &lt;/div&gt;\n                      &lt;/div&gt;\n                    &lt;/div&gt;\n\n\n\n                    &lt;div class=&quot;row mb-3 form-password-toggle&quot;&gt;\n                      &lt;label class=&quot;col-sm-2 form-label&quot;\n                             for=&quot;basic-default-password32&quot;&gt;Password&lt;/label&gt;\n                      &lt;div class=&quot;col-sm-10&quot;&gt;\n                        &lt;div class=&quot;input-group input-group-merge&quot;&gt;\n                                &lt;span id=&quot;basic-icon-default-password&quot; class=&quot;input-group-text&quot;\n                                &gt;&lt;i class=&quot;bx bx-lock&quot;&gt;&lt;/i\n                                &gt;&lt;/span&gt;\n                          &lt;input\n                                  type=&quot;password&quot;\n                                  th:field=&quot;*{password}&quot;\n                                  required\n                                  minlength=&quot;8&quot;\n                                  maxlength=&quot;20&quot;\n                                  class=&quot;form-control&quot;\n                                  id=&quot;basic-default-password32&quot;\n                                  placeholder=&quot;&amp;#xb7;&amp;#xb7;&amp;#xb7;&amp;#xb7;&amp;#xb7;&amp;#xb7;&amp;#xb7;&amp;#xb7;&amp;#xb7;&amp;#xb7;&amp;#xb7;&amp;#xb7;&quot;\n                                  aria-describedby=&quot;basic-default-password&quot;\n                          /&gt;\n                          &lt;span class=&quot;input-group-text cursor-pointer&quot;\n                                id=&quot;basic-default-password&quot;\n                          &gt;&lt;i class=&quot;bx bx-hide&quot;&gt;&lt;/i\n                          &gt;&lt;/span&gt;\n                        &lt;/div&gt;\n                      &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;row mb-3&quot;&gt;\n                      &lt;label class=&quot;col-sm-2 col-form-label&quot; for=&quot;defaultCheck1&quot;&gt;Roles&lt;/label&gt;\n                      &lt;div class=&quot;col-sm-10&quot;&gt;\n                        &lt;div class=&quot;col-md&quot;&gt;\n                          &lt;small class=&quot;text-light fw-semibold&quot;&gt;Available roles&lt;/small&gt;\n                          &lt;th:block th:each=&quot;role : ${listRoles}&quot;&gt;\n                            &lt;div class=&quot;form-check mt-3&quot;&gt;\n                              &lt;input th:field=&quot;*{roles}&quot;\n                                     th:value=&quot;${role.id}&quot;\n                                     class=&quot;form-check-input&quot; type=&quot;checkbox&quot; value=&quot;&quot; id=&quot;defaultCheck1&quot; /&gt;\n                              &lt;label class=&quot;form-check-label&quot; for=&quot;defaultCheck1&quot; th:text=&quot;${role.name}&quot;&gt;roleName&lt;/label&gt;\n                              - &lt;small&gt; [[${role.description}]]&lt;/small&gt;\n                            &lt;/div&gt;\n                          &lt;/th:block&gt;\n\n\n                        &lt;/div&gt;\n                      &lt;/div&gt;\n                    &lt;/div&gt;\n\n\n                    &lt;div class=&quot;row mb-3&quot;&gt;\n                      &lt;label class=&quot;col-sm-2 col-form-label&quot; for=&quot;defaultCheck1&quot;&gt;Enabled?&lt;/label&gt;\n                      &lt;div class=&quot;col-sm-10&quot;&gt;\n                        &lt;div class=&quot;col-md&quot;&gt;\n                          &lt;small class=&quot;text-light fw-semibold&quot;&gt;Is this user want to be enabled?&lt;/small&gt;\n                          &lt;div class=&quot;form-check mt-3&quot;&gt;\n                            &lt;input th:field=&quot;*{enabled}&quot;\n                                   class=&quot;form-check-input&quot; type=&quot;checkbox&quot; value=&quot;&quot; id=&quot;defaultCheck1&quot; /&gt;\n                            &lt;label class=&quot;form-check-label&quot; for=&quot;defaultCheck1&quot;&gt;Enable&lt;/label&gt;\n                          &lt;/div&gt;\n                        &lt;/div&gt;\n                      &lt;/div&gt;\n                    &lt;/div&gt;\n\n                    &lt;div class=&quot;row mb-3&quot;&gt;\n                      &lt;label class=&quot;col-sm-2 col-form-label&quot; for=&quot;basic-icon-default-photos&quot;&gt;Photos&lt;/label&gt;\n                      &lt;div class=&quot;col-sm-10&quot;&gt;\n                        &lt;div class=&quot;input-group input-group-merge&quot;&gt;\n                          &lt;span class=&quot;input-group-text&quot;&gt;&lt;i class=&quot;bx bx-user&quot;&gt;&lt;/i&gt;&lt;/span&gt;\n                          &lt;input class=&quot;form-control&quot; id=&quot;basic-icon-default-photos&quot; type=&quot;file&quot;/&gt;\n                        &lt;/div&gt;\n                      &lt;/div&gt;\n                    &lt;/div&gt;\n\n\n                    &lt;div class=&quot;row justify-content-end&quot;&gt;\n                      &lt;div class=&quot;col-sm-10&quot;&gt;\n                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Add User&lt;/button&gt;\n                      &lt;/div&gt;\n                    &lt;/div&gt;\n                  &lt;/form&gt;\n</code></pre>\n<p>Terminal Error:</p>\n<pre><code>2022-10-22 22:13:54.636 ERROR 67100 --- [nio-8080-exec-1] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-1] Exception processing template &quot;add_user&quot;: Error during execution of processor 'org.thymeleaf.spring5.processor.SpringActionTagProcessor' (template: &quot;add_user&quot; - line 585, col 36)\n\norg.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor 'org.thymeleaf.spring5.processor.SpringActionTagProcessor' (template: &quot;add_user&quot; - line 585, col 36)\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:117) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigu\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.thymeleaf.spring5.processor.SpringActionTagProcessor.doProcess(SpringActionTagProcessor.java:118) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:160) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.engine.TemplateModel.process(TemplateModel.java:136) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:661) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1405) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1149) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:67) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]\n\n\n2022-10-22 22:13:54.749 ERROR 67100 --- [nio-8080-exec-1] s.e.ErrorMvcAutoConfiguration$StaticView : Cannot render error page for request [/admin/users/new] as the response has already been committed. As a result, the response may have the wrong status code.\n\n</code></pre>\n"},{"tags":["java","swing","keylistener"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1666515510,"post_id":74169630,"comment_id":130951635,"body_markdown":"Add a few System.out.println statements to see which parts of your code get executed or what variable values they are facing. An even better approach would be to start debugging your code: https://www.baeldung.com/eclipse-debugging","body":"Add a few System.out.println statements to see which parts of your code get executed or what variable values they are facing. An even better approach would be to start debugging your code: <a href=\"https://www.baeldung.com/eclipse-debugging\" rel=\"nofollow noreferrer\">baeldung.com/eclipse-debugging</a>"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666529361,"creation_date":1666529361,"answer_id":74171273,"question_id":74169630,"body_markdown":"You don&#39;t need a &quot;game loop&quot; that redraws the GUI every few seconds. You just need to call method [repaint][1]. Also, it is not recommended to call method `repaint` from a thread which is **not** the [Event Dispatch Thread][2] (EDT). Lastly, you should use [key bindings][3] rather than a [KeyListener][4].\r\n\r\nThe below code is not a complete solution. It just sets up a key binding for the down-arrow key which moves the rectangle down when the user presses the down-arrow key. Note that you also need to handle the situation when the rectangle hits the edge of the `GamePanel` &amp;ndash; unless you **want** to draw the rectangle at such a location that it doesn&#39;t appear in the `GamePanel`.\r\n\r\n(More notes after the code.)\r\n```java\r\npackage main;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.EventQueue;\r\nimport java.awt.Graphics;\r\nimport java.awt.event.ActionEvent;\r\n\r\nimport javax.swing.AbstractAction;\r\nimport javax.swing.ActionMap;\r\nimport javax.swing.InputMap;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.KeyStroke;\r\n\r\npublic class GamePanel extends JPanel {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    final int originalTilesize = 16;\r\n    final int scale = 3;\r\n    final int tileSize = originalTilesize * scale;\r\n    final int maxScreenRow = 12;\r\n    final int maxScreenCol = 16;\r\n    final int screenWidth = tileSize * maxScreenCol;\r\n    final int screenHeight = tileSize * maxScreenRow;\r\n\r\n    int playerX = 100;\r\n    int playerY = 100;\r\n    int playerSpeed = 4;\r\n\r\n    public GamePanel() {\r\n        setPreferredSize(new Dimension(screenWidth, screenHeight));\r\n        setBackground(Color.black);\r\n        setFocusable(true);\r\n        InputMap im = getInputMap();\r\n        im.put(KeyStroke.getKeyStroke(&quot;DOWN&quot;), &quot;DOWN&quot;);\r\n        ActionMap am = getActionMap();\r\n        am.put(&quot;DOWN&quot;, new DownAction());\r\n    }\r\n\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        g.setColor(Color.white);\r\n        g.fillRect(playerX, playerY, tileSize, tileSize);\r\n        g.dispose();\r\n    }\r\n\r\n    class DownAction extends AbstractAction {\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            playerY += playerSpeed;\r\n            repaint();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; {\r\n            JFrame frame = new JFrame();\r\n            frame.add(new GamePanel());\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n}\r\n```\r\n- This line is not required as it is the default.\r\n```java\r\nthis.setDoubleBuffered(true);\r\n```\r\n- Method `startGameThread` is not required (as explained above) and should therefore be removed. Consequently, method `run` should also be removed which means that class `GamePanel` does **not** need to implement interface `Runnable`. Also no need for variables `FPS` and `gameThread`.\r\n- As shown in above code, you need to write an `Action` for each key binding which therefore replaces method `update` so that method can also be removed. In the above code, I have created one `Action`, named `DownAction`. You need to create an `Action` for the other arrow keys. The keystroke names are:\r\n    - UP\r\n    - RIGHT\r\n    - LEFT\r\n- Since we are using key bindings, no need for class `KeyHandler` nor for variable `keyH`.\r\n- Method `paintComponent` has `protected` access so no need to make it `public`.\r\n- In method `paintComponent` you are only calling methods of class `Graphics` so no need for the cast.\r\n- I added a `main` method so that the above code is a runnable application.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/uiswing/events/index.html","title":"Move a rectangle when a key is pressed","body":"<p>You don't need a &quot;game loop&quot; that redraws the GUI every few seconds. You just need to call method <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">repaint</a>. Also, it is not recommended to call method <code>repaint</code> from a thread which is <strong>not</strong> the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Event Dispatch Thread</a> (EDT). Lastly, you should use <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">key bindings</a> rather than a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/index.html\" rel=\"nofollow noreferrer\">KeyListener</a>.</p>\n<p>The below code is not a complete solution. It just sets up a key binding for the down-arrow key which moves the rectangle down when the user presses the down-arrow key. Note that you also need to handle the situation when the rectangle hits the edge of the <code>GamePanel</code> – unless you <strong>want</strong> to draw the rectangle at such a location that it doesn't appear in the <code>GamePanel</code>.</p>\n<p>(More notes after the code.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>package main;\n\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.event.ActionEvent;\n\nimport javax.swing.AbstractAction;\nimport javax.swing.ActionMap;\nimport javax.swing.InputMap;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.KeyStroke;\n\npublic class GamePanel extends JPanel {\n    private static final long serialVersionUID = 1L;\n\n    final int originalTilesize = 16;\n    final int scale = 3;\n    final int tileSize = originalTilesize * scale;\n    final int maxScreenRow = 12;\n    final int maxScreenCol = 16;\n    final int screenWidth = tileSize * maxScreenCol;\n    final int screenHeight = tileSize * maxScreenRow;\n\n    int playerX = 100;\n    int playerY = 100;\n    int playerSpeed = 4;\n\n    public GamePanel() {\n        setPreferredSize(new Dimension(screenWidth, screenHeight));\n        setBackground(Color.black);\n        setFocusable(true);\n        InputMap im = getInputMap();\n        im.put(KeyStroke.getKeyStroke(&quot;DOWN&quot;), &quot;DOWN&quot;);\n        ActionMap am = getActionMap();\n        am.put(&quot;DOWN&quot;, new DownAction());\n    }\n\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        g.setColor(Color.white);\n        g.fillRect(playerX, playerY, tileSize, tileSize);\n        g.dispose();\n    }\n\n    class DownAction extends AbstractAction {\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            playerY += playerSpeed;\n            repaint();\n        }\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; {\n            JFrame frame = new JFrame();\n            frame.add(new GamePanel());\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n}\n</code></pre>\n<ul>\n<li>This line is not required as it is the default.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>this.setDoubleBuffered(true);\n</code></pre>\n<ul>\n<li>Method <code>startGameThread</code> is not required (as explained above) and should therefore be removed. Consequently, method <code>run</code> should also be removed which means that class <code>GamePanel</code> does <strong>not</strong> need to implement interface <code>Runnable</code>. Also no need for variables <code>FPS</code> and <code>gameThread</code>.</li>\n<li>As shown in above code, you need to write an <code>Action</code> for each key binding which therefore replaces method <code>update</code> so that method can also be removed. In the above code, I have created one <code>Action</code>, named <code>DownAction</code>. You need to create an <code>Action</code> for the other arrow keys. The keystroke names are:\n<ul>\n<li>UP</li>\n<li>RIGHT</li>\n<li>LEFT</li>\n</ul>\n</li>\n<li>Since we are using key bindings, no need for class <code>KeyHandler</code> nor for variable <code>keyH</code>.</li>\n<li>Method <code>paintComponent</code> has <code>protected</code> access so no need to make it <code>public</code>.</li>\n<li>In method <code>paintComponent</code> you are only calling methods of class <code>Graphics</code> so no need for the cast.</li>\n<li>I added a <code>main</code> method so that the above code is a runnable application.</li>\n</ul>\n"}],"owner":{"account_id":26707042,"reputation":1,"user_id":20313056,"display_name":"299792458"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"answer_count":1,"score":-5,"last_activity_date":1666529361,"creation_date":1666513373,"question_id":74169630,"body_markdown":"I need the loop() method to be able to run repaint() but it does nothing when it&#39;s called.\r\n\r\nMoreover, the loop() method also doesn&#39;t update() when executing the code. I&#39;ve tried many different variations to try and get it to work but nothing has worked. In addition to that, I use the IDE Eclipse because my teacher said we shouldn&#39;t use game engines but write the code from scratch.\r\n\r\nclass:GamePanel\r\n\r\n```java\r\npackage main;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\n\r\nimport javax.swing.JPanel;\r\n\r\npublic class GamePanel extends JPanel implements Runnable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n    final int originalTilesize=16;\r\n    final int scale=3;\r\n    final int tileSize=originalTilesize *scale;\r\n    final int maxScreenRow=12;\r\n    final int maxScreenCol=16;\r\n    final int screenWidth=tileSize*maxScreenCol;\r\n    final int screenHeight=tileSize*maxScreenRow;\r\n    \r\n    int FPS=60;\r\n    KeyHandler keyH = new KeyHandler(); // implements KeyHandler in GamePanel\r\n    Thread gameThread;\r\n\r\n    int playerX=100;\r\n    int playerY=100;\r\n    int playerSpeed=4;\r\n\r\n    public GamePanel()\r\n    {\r\n        this.setPreferredSize(new Dimension(screenWidth,screenHeight));\r\n        this.setBackground(Color.black);\r\n        this.setDoubleBuffered(true);\r\n        this.addKeyListener(keyH);\r\n        this.setFocusable(true);\r\n    }\r\n    public void startGameThread()\r\n    {\r\n        gameThread = new Thread(this);\t\r\n        gameThread.start();\r\n    }\r\n\r\n\r\n    public void run() {\r\n        double drawInterval=1000000000/FPS;\r\n        double nextDrawTime=System.nanoTime()+drawInterval;// TODO Auto-generated method stub\r\n        while (gameThread !=null) {\r\n            update();\r\n            repaint();\r\n            \r\n            try {\r\n                double remainingTime=nextDrawTime-System.nanoTime();\r\n                remainingTime=remainingTime/1000000;\r\n                if (remainingTime&lt;0)\r\n                {\r\n                    remainingTime=0;\r\n                }\r\n                Thread.sleep((long)remainingTime);\r\n                nextDrawTime+=drawInterval;\r\n            } catch (InterruptedException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n        };\t\r\n    }\r\n\r\n    public void update()\r\n    {\r\n        if (keyH.upPressed == true)\r\n        {\r\n            playerY-=playerSpeed;\r\n        }\r\n        else if(keyH.downPressed==true)\r\n        {\r\n            playerY +=playerSpeed;\t\r\n        }\r\n        else if(keyH.leftPressed==true)\r\n        {\r\n            playerX -=playerSpeed;\t\r\n        }\r\n        else if(keyH.rightPressed==true)\r\n        {\r\n            playerX +=playerSpeed;\t\r\n        }\r\n    }\r\n\r\n    public void paintComponent(Graphics g)\r\n    {\r\n        super.paintComponent(g);\r\n        Graphics2D g2=(Graphics2D)g;\r\n        g2.setColor(Color.white);\r\n        g2.fillRect(playerX,playerY,tileSize,tileSize);\r\n        g2.dispose();\r\n    }\r\n}\r\n```\r\n\r\nclass:KeyListener\r\n\r\n```java\r\npackage main;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\npublic class KeyHandler implements KeyListener {\r\n    public boolean upPressed,downPressed,leftPressed,rightPressed;\r\n\r\n    public void keyTyped(KeyEvent e) {\r\n        \r\n    }\r\n\r\n    public void keyPressed(KeyEvent e) {\r\n        \r\n        int code =e.getKeyCode();\r\n        if (code==KeyEvent.VK_W) {\r\n            upPressed = true;\t\r\n        }\r\n\r\n        if (code==KeyEvent.VK_S) {\r\n            downPressed=true;\t\r\n        }\r\n\r\n        if (code==KeyEvent.VK_A) {\r\n        leftPressed=true;\r\n        }\r\n\r\n        if (code==KeyEvent.VK_D) {\r\n            rightPressed=true;\t\r\n        }\r\n\r\n    }\r\n\r\n    public void keyReleased(KeyEvent e) {\r\n        // TODO Auto-generated method stub\r\n        int code=e.getKeyCode();\r\n        if (code==KeyEvent.VK_W) {\r\n            upPressed = false;\t\r\n        }\r\n\r\n        if (code==KeyEvent.VK_S) {\r\n            downPressed=false;\t\r\n        }\r\n\r\n        if (code==KeyEvent.VK_A) {\r\n            leftPressed=false;\r\n        }\r\n\r\n        if (code==KeyEvent.VK_D) {\r\n            rightPressed=false;\t\r\n        }\r\n    }\r\n}\r\n```","title":"Move a rectangle when a key is pressed","body":"<p>I need the loop() method to be able to run repaint() but it does nothing when it's called.</p>\n<p>Moreover, the loop() method also doesn't update() when executing the code. I've tried many different variations to try and get it to work but nothing has worked. In addition to that, I use the IDE Eclipse because my teacher said we shouldn't use game engines but write the code from scratch.</p>\n<p>class:GamePanel</p>\n<pre class=\"lang-java prettyprint-override\"><code>package main;\n\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\n\nimport javax.swing.JPanel;\n\npublic class GamePanel extends JPanel implements Runnable {\n\n    private static final long serialVersionUID = 1L;\n    final int originalTilesize=16;\n    final int scale=3;\n    final int tileSize=originalTilesize *scale;\n    final int maxScreenRow=12;\n    final int maxScreenCol=16;\n    final int screenWidth=tileSize*maxScreenCol;\n    final int screenHeight=tileSize*maxScreenRow;\n    \n    int FPS=60;\n    KeyHandler keyH = new KeyHandler(); // implements KeyHandler in GamePanel\n    Thread gameThread;\n\n    int playerX=100;\n    int playerY=100;\n    int playerSpeed=4;\n\n    public GamePanel()\n    {\n        this.setPreferredSize(new Dimension(screenWidth,screenHeight));\n        this.setBackground(Color.black);\n        this.setDoubleBuffered(true);\n        this.addKeyListener(keyH);\n        this.setFocusable(true);\n    }\n    public void startGameThread()\n    {\n        gameThread = new Thread(this);  \n        gameThread.start();\n    }\n\n\n    public void run() {\n        double drawInterval=1000000000/FPS;\n        double nextDrawTime=System.nanoTime()+drawInterval;// TODO Auto-generated method stub\n        while (gameThread !=null) {\n            update();\n            repaint();\n            \n            try {\n                double remainingTime=nextDrawTime-System.nanoTime();\n                remainingTime=remainingTime/1000000;\n                if (remainingTime&lt;0)\n                {\n                    remainingTime=0;\n                }\n                Thread.sleep((long)remainingTime);\n                nextDrawTime+=drawInterval;\n            } catch (InterruptedException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        };  \n    }\n\n    public void update()\n    {\n        if (keyH.upPressed == true)\n        {\n            playerY-=playerSpeed;\n        }\n        else if(keyH.downPressed==true)\n        {\n            playerY +=playerSpeed;  \n        }\n        else if(keyH.leftPressed==true)\n        {\n            playerX -=playerSpeed;  \n        }\n        else if(keyH.rightPressed==true)\n        {\n            playerX +=playerSpeed;  \n        }\n    }\n\n    public void paintComponent(Graphics g)\n    {\n        super.paintComponent(g);\n        Graphics2D g2=(Graphics2D)g;\n        g2.setColor(Color.white);\n        g2.fillRect(playerX,playerY,tileSize,tileSize);\n        g2.dispose();\n    }\n}\n</code></pre>\n<p>class:KeyListener</p>\n<pre class=\"lang-java prettyprint-override\"><code>package main;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\npublic class KeyHandler implements KeyListener {\n    public boolean upPressed,downPressed,leftPressed,rightPressed;\n\n    public void keyTyped(KeyEvent e) {\n        \n    }\n\n    public void keyPressed(KeyEvent e) {\n        \n        int code =e.getKeyCode();\n        if (code==KeyEvent.VK_W) {\n            upPressed = true;   \n        }\n\n        if (code==KeyEvent.VK_S) {\n            downPressed=true;   \n        }\n\n        if (code==KeyEvent.VK_A) {\n        leftPressed=true;\n        }\n\n        if (code==KeyEvent.VK_D) {\n            rightPressed=true;  \n        }\n\n    }\n\n    public void keyReleased(KeyEvent e) {\n        // TODO Auto-generated method stub\n        int code=e.getKeyCode();\n        if (code==KeyEvent.VK_W) {\n            upPressed = false;  \n        }\n\n        if (code==KeyEvent.VK_S) {\n            downPressed=false;  \n        }\n\n        if (code==KeyEvent.VK_A) {\n            leftPressed=false;\n        }\n\n        if (code==KeyEvent.VK_D) {\n            rightPressed=false; \n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","inheritance","interface","static"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666152662,"post_id":74119704,"comment_id":130865228,"body_markdown":"Change `funcOne` in the first test and you&#39;ll see.  `@Override` throws an error if the function *does not* override another function.","body":"Change <code>funcOne</code> in the first test and you&#39;ll see.  <code>@Override</code> throws an error if the function <i>does not</i> override another function."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1666154319,"post_id":74119704,"comment_id":130865454,"body_markdown":"Note that `@Override` is not a _keyword_. It is an _annotation_. If you place it on a method, then the compiler will check to make sure the method actually overrides something, throwing an error if it does not. And static methods can never override anything. In the static case, your `Test.funcOne` static method _hides_ the `one.funcOne` static method but does not _override_ it.","body":"Note that <code>@Override</code> is not a <i>keyword</i>. It is an <i>annotation</i>. If you place it on a method, then the compiler will check to make sure the method actually overrides something, throwing an error if it does not. And static methods can never override anything. In the static case, your <code>Test.funcOne</code> static method <i>hides</i> the <code>one.funcOne</code> static method but does not <i>override</i> it."},{"owner":{"account_id":18069613,"reputation":55,"user_id":13134578,"display_name":"John Pham"},"score":0,"creation_date":1666320262,"post_id":74119704,"comment_id":130914259,"body_markdown":"Ah, so the annotation @Override is for making sure this method as overridden something. Thank you guys for your help!","body":"Ah, so the annotation @Override is for making sure this method as overridden something. Thank you guys for your help!"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666152710,"creation_date":1666152710,"answer_id":74119781,"question_id":74119704,"body_markdown":"Overriding isn&#39;t really a thing with static methods.  You never need to use it on static methods, and you never should use it on static methods.","title":"Keyword &quot;@Override&quot; and static methods in Java","body":"<p>Overriding isn't really a thing with static methods.  You never need to use it on static methods, and you never should use it on static methods.</p>\n"},{"comments":[{"owner":{"account_id":18069613,"reputation":55,"user_id":13134578,"display_name":"John Pham"},"score":0,"creation_date":1666320320,"post_id":74120014,"comment_id":130914269,"body_markdown":"Thanks for your help mate. Your answer is so clear.","body":"Thanks for your help mate. Your answer is so clear."}],"tags":[],"owner":{"account_id":26662415,"reputation":95,"user_id":20275037,"display_name":"Cary Zheng"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666155113,"creation_date":1666154952,"answer_id":74120014,"question_id":74119704,"body_markdown":"1. \r\nUsing annotation @Override to let your compiler help you check if it actually overrides a method.\r\n\r\nIn case like\r\n\r\n    public String tostring() {\r\n        return ...;\r\n    }\r\n\r\nYou might mistake &quot;tostring()&quot; from &quot;toString()&quot;, and you thought you overrode it correctly. The code would be compiled and run just like normal, but the result when method toString() was called cannot be what you wished for. \r\n\r\nBut if you used the annotation @Override\r\n\r\n    @Override\r\n    public String tostring() {\r\n        return ...;\r\n    }\r\n\r\nWhen you tried to compile it, the compiler would show you an error to clarify that you did not override any method. Then you would find out that you did not spell it right.\r\n\r\n\r\n2.\r\nStatic method cannot be overridden, it can only be hidden.\r\n\r\n(Accept if it helps you, thx.)","title":"Keyword &quot;@Override&quot; and static methods in Java","body":"<ol>\n<li></li>\n</ol>\n<p>Using annotation @Override to let your compiler help you check if it actually overrides a method.</p>\n<p>In case like</p>\n<pre><code>public String tostring() {\n    return ...;\n}\n</code></pre>\n<p>You might mistake &quot;tostring()&quot; from &quot;toString()&quot;, and you thought you overrode it correctly. The code would be compiled and run just like normal, but the result when method toString() was called cannot be what you wished for.</p>\n<p>But if you used the annotation @Override</p>\n<pre><code>@Override\npublic String tostring() {\n    return ...;\n}\n</code></pre>\n<p>When you tried to compile it, the compiler would show you an error to clarify that you did not override any method. Then you would find out that you did not spell it right.</p>\n<p>2.\nStatic method cannot be overridden, it can only be hidden.</p>\n<p>(Accept if it helps you, thx.)</p>\n"}],"owner":{"account_id":18069613,"reputation":55,"user_id":13134578,"display_name":"John Pham"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74120014,"answer_count":2,"score":1,"last_activity_date":1666529208,"creation_date":1666151847,"question_id":74119704,"body_markdown":"I am learning about the concept `interface` in Java, specifically about  its inheritance with `class`. From what I understood, this is a basic code syntax for an interface inheritance \r\n\r\n```\r\ninterface one{\r\n    void funcOne();\r\n}\r\n\r\nclass Test implements one{\r\n    @Override public void funcOne(){\r\n         System.out.println(&quot;this is one&quot;);  \r\n    }\r\n}\r\n```\r\nBut when I removed the phrase `@Override`, the code still worked fine. So what is the purpose of using that keyword?\r\n\r\n- My confusion adds up when testing with `static` methods. For instance the code below would throw an error\r\n```\r\ninterface one{\r\n    static void funcOne(){\r\n        System.out.println(&quot;hello&quot;);\r\n    }\r\n}\r\n\r\nclass Test implements one{\r\n    @Override static void funcOne() {\r\n        System.out.println(&quot;This is one&quot;);\r\n    }\r\n}\r\n```\r\nBut it would not throw an error when `@Override` is removed. \r\n\r\nWhen should I use the keyword `@Override`, and what does it have to do with `static` functions?\r\n\r\n","title":"Keyword &quot;@Override&quot; and static methods in Java","body":"<p>I am learning about the concept <code>interface</code> in Java, specifically about  its inheritance with <code>class</code>. From what I understood, this is a basic code syntax for an interface inheritance</p>\n<pre><code>interface one{\n    void funcOne();\n}\n\nclass Test implements one{\n    @Override public void funcOne(){\n         System.out.println(&quot;this is one&quot;);  \n    }\n}\n</code></pre>\n<p>But when I removed the phrase <code>@Override</code>, the code still worked fine. So what is the purpose of using that keyword?</p>\n<ul>\n<li>My confusion adds up when testing with <code>static</code> methods. For instance the code below would throw an error</li>\n</ul>\n<pre><code>interface one{\n    static void funcOne(){\n        System.out.println(&quot;hello&quot;);\n    }\n}\n\nclass Test implements one{\n    @Override static void funcOne() {\n        System.out.println(&quot;This is one&quot;);\n    }\n}\n</code></pre>\n<p>But it would not throw an error when <code>@Override</code> is removed.</p>\n<p>When should I use the keyword <code>@Override</code>, and what does it have to do with <code>static</code> functions?</p>\n"},{"tags":["java","spring","spring-boot","refactoring"],"answers":[{"comments":[{"owner":{"account_id":13899380,"reputation":102,"user_id":16760821,"display_name":"jack"},"score":0,"creation_date":1666551164,"post_id":74171173,"comment_id":130958947,"body_markdown":"Thanks for answer the question, approach seems fine to me, I have posted one more issue while trying from my side, please help me out on the same, thanks","body":"Thanks for answer the question, approach seems fine to me, I have posted one more issue while trying from my side, please help me out on the same, thanks"}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666528498,"creation_date":1666528498,"answer_id":74171173,"question_id":74169177,"body_markdown":"So the only difference between all implementation are `List&lt;ModelCode&gt; modelCodes = layoutRepository.findDistinctAllBy()` ? \r\n\r\nIf yes, then does `ModelCode` is the same in all implementations ? If yes , you can simply just parameterised this method with `Supplier&lt;List&lt;ModelCode&gt;&gt;` and then make it as some kind of common function that can be reused :\r\n\r\n\r\n```java\r\npublic void persistImageDetailsV2(Supplier&lt;List&lt;ModelCode&gt;&gt; modelCodeLoader) {\r\n           ....\r\n        try {\r\n            fillMap();\r\n            List&lt;ModelCode&gt; modelCodes = modelCodeLoader.get();\r\n            List&lt;String&gt; modelCodePresent = modelCodes.stream().map(ModelCode::getModelCode)\r\n                    .collect(Collectors.toList());\r\n            ....\r\n        } catch (Exception e) {\r\n            log.error(&quot;[{}]: Exception occurred while processing: error is: {}&quot;, appName, e.getMessage());\r\n            e.printStackTrace();\r\n        }\r\n} \r\n```\r\n\r\nThen all the implementation just call this common method by :\r\n\r\n```java\r\npersistImageDetailsV2(()-&gt;layoutRepository.findDistinctAllBy());\r\npersistImageDetailsV2(()-&gt;anotherLayoutRepository.findDistinctAllBy());\r\n```\r\n\r\nIf `ModelCode` is not the same in all implementations , first extract an interface from them like :\r\n\r\n``` java\r\ninterface IModelCode {\r\n   String getModelCode();\r\n}\r\n```\r\n\r\nAnd make all ModeCode implementation implement this interface and the above common method will become :\r\n\r\n``` java\r\npublic &lt;T extends IModelCode&gt; void persistImageDetailsV2(Supplier&lt;List&lt;T&gt;&gt; modelCodeLoader) {\r\n           ....\r\n        try {\r\n            fillMap();\r\n            List&lt;T&gt; modelCodes = modelCodeLoader.get();\r\n            List&lt;String&gt; modelCodePresent = modelCodes.stream().map(IModelCode::getModelCode)\r\n                    .collect(Collectors.toList());\r\n            ....\r\n        } catch (Exception e) {\r\n            log.error(&quot;[{}]: Exception occurred while processing: error is: {}&quot;, appName, e.getMessage());\r\n            e.printStackTrace();\r\n        }\r\n} \r\n```\r\n","title":"generalized the method used by three different service implementation an using generics","body":"<p>So the only difference between all implementation are <code>List&lt;ModelCode&gt; modelCodes = layoutRepository.findDistinctAllBy()</code> ?</p>\n<p>If yes, then does <code>ModelCode</code> is the same in all implementations ? If yes , you can simply just parameterised this method with <code>Supplier&lt;List&lt;ModelCode&gt;&gt;</code> and then make it as some kind of common function that can be reused :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void persistImageDetailsV2(Supplier&lt;List&lt;ModelCode&gt;&gt; modelCodeLoader) {\n           ....\n        try {\n            fillMap();\n            List&lt;ModelCode&gt; modelCodes = modelCodeLoader.get();\n            List&lt;String&gt; modelCodePresent = modelCodes.stream().map(ModelCode::getModelCode)\n                    .collect(Collectors.toList());\n            ....\n        } catch (Exception e) {\n            log.error(&quot;[{}]: Exception occurred while processing: error is: {}&quot;, appName, e.getMessage());\n            e.printStackTrace();\n        }\n} \n</code></pre>\n<p>Then all the implementation just call this common method by :</p>\n<pre class=\"lang-java prettyprint-override\"><code>persistImageDetailsV2(()-&gt;layoutRepository.findDistinctAllBy());\npersistImageDetailsV2(()-&gt;anotherLayoutRepository.findDistinctAllBy());\n</code></pre>\n<p>If <code>ModelCode</code> is not the same in all implementations , first extract an interface from them like :</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface IModelCode {\n   String getModelCode();\n}\n</code></pre>\n<p>And make all ModeCode implementation implement this interface and the above common method will become :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T extends IModelCode&gt; void persistImageDetailsV2(Supplier&lt;List&lt;T&gt;&gt; modelCodeLoader) {\n           ....\n        try {\n            fillMap();\n            List&lt;T&gt; modelCodes = modelCodeLoader.get();\n            List&lt;String&gt; modelCodePresent = modelCodes.stream().map(IModelCode::getModelCode)\n                    .collect(Collectors.toList());\n            ....\n        } catch (Exception e) {\n            log.error(&quot;[{}]: Exception occurred while processing: error is: {}&quot;, appName, e.getMessage());\n            e.printStackTrace();\n        }\n} \n</code></pre>\n"}],"owner":{"account_id":13899380,"reputation":102,"user_id":16760821,"display_name":"jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666528630,"creation_date":1666507757,"question_id":74169177,"body_markdown":"The below method is utilized by three different services and in future it is possible that other implementations will also be utilized the same, currently the method is not centralized, it is boiler plated as it is present in each service implementation. I am looking for a way to make it centralized using generics or any other suggested solution.\r\n\r\n    public void persistImageDetailsV2() {\r\n    \t\tString bucketKey = null;\r\n    \t\tString modelCode = null;\r\n    \t\tList&lt;S3Object&gt; objList = new ArrayList&lt;&gt;();\r\n    \t\tString bucketName = s3BucketDetails.getBucketName();\r\n    \t\tString bucketPath = s3BucketDetails.getMsilBucketPrefix();\r\n    \t\tlog.info(&quot;[{}]:Intializing the required attributes: Bucket name [{}] and Bucket path [{}] &quot;, appName,\r\n    \t\t\t\tbucketName, bucketPath);\r\n    \t\ttry {\r\n    \t\t\tfillMap();\r\n    \t\t\tList&lt;ModelCode&gt; modelCodes = layoutRepository.findDistinctAllBy();\r\n    \t\t\tList&lt;String&gt; modelCodePresent = modelCodes.stream().map(ModelCode::getModelCode)\r\n    \t\t\t\t\t.collect(Collectors.toList());\r\n    \t\t\tList&lt;CommonPrefix&gt; allKeysInDesiredBucket = listAllKeysInsideBucket(bucketName, bucketPath);\r\n    \t\t\tList&lt;String&gt; s3ModelCodes = allKeysInDesiredBucket.stream().map(CommonPrefix::prefix)\r\n    \t\t\t\t\t.map(s -&gt; new File(s).getName()).collect(Collectors.toList());\r\n    \t\t\tif (!AppUtil.listEqualsIgnoreOrder(s3ModelCodes, modelCodePresent)) {\r\n    \t\t\t\tsynchDB(s3ModelCodes, s3ModelCodes);\r\n    \t\t\t}\r\n    \t\t\tif (null != allKeysInDesiredBucket &amp;&amp; !allKeysInDesiredBucket.isEmpty()) {\r\n    \t\t\t\tfor (CommonPrefix commonPrefix : allKeysInDesiredBucket) {\r\n    \t\t\t\t\tbucketKey = commonPrefix.prefix();\r\n    \t\t\t\t\tmodelCode = new File(bucketKey).getName();\r\n    \t\t\t\t\tif (modelCodePresent.contains(modelCode)) {\r\n    \t\t\t\t\t\tlog.info(&quot;[{}]: Model code [{}] found,skipping iteration&quot;, appName, modelCode);\r\n    \t\t\t\t\t\tcontinue;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tobjList = s3Service.getBucketObjects(bucketName, bucketKey);\r\n    \t\t\t\t\tif (null != objList &amp;&amp; !objList.isEmpty()) {\r\n    \t\t\t\t\t\tfor (S3Object object : AppUtil.skipFirst(objList)) {\r\n    \t\t\t\t\t\t\tInteger overlayId = overlayMasterMap.get(AppUtil.removeExtension(object.key()));\r\n    \t\t\t\t\t\t\tsaveLayout(bucketName, object.key(), modelCode, overlayId);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tlog.error(&quot;[{}]: Exception occurred while processing: error is: {}&quot;, appName, e.getMessage());\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t} \r\n\r\nThe snippet `List&lt;ModelCode&gt; modelCodes = layoutRepository.findDistinctAllBy();` the layoutRepository in this case is **ServiceA**, in a similar fashion it can be instance of ServiceB or ServiceC and so on.\r\n\r\nso I am looking for way where I can isolate and overcome this tightly couple things form the code.\r\n\r\nPlease help","title":"generalized the method used by three different service implementation an using generics","body":"<p>The below method is utilized by three different services and in future it is possible that other implementations will also be utilized the same, currently the method is not centralized, it is boiler plated as it is present in each service implementation. I am looking for a way to make it centralized using generics or any other suggested solution.</p>\n<pre><code>public void persistImageDetailsV2() {\n        String bucketKey = null;\n        String modelCode = null;\n        List&lt;S3Object&gt; objList = new ArrayList&lt;&gt;();\n        String bucketName = s3BucketDetails.getBucketName();\n        String bucketPath = s3BucketDetails.getMsilBucketPrefix();\n        log.info(&quot;[{}]:Intializing the required attributes: Bucket name [{}] and Bucket path [{}] &quot;, appName,\n                bucketName, bucketPath);\n        try {\n            fillMap();\n            List&lt;ModelCode&gt; modelCodes = layoutRepository.findDistinctAllBy();\n            List&lt;String&gt; modelCodePresent = modelCodes.stream().map(ModelCode::getModelCode)\n                    .collect(Collectors.toList());\n            List&lt;CommonPrefix&gt; allKeysInDesiredBucket = listAllKeysInsideBucket(bucketName, bucketPath);\n            List&lt;String&gt; s3ModelCodes = allKeysInDesiredBucket.stream().map(CommonPrefix::prefix)\n                    .map(s -&gt; new File(s).getName()).collect(Collectors.toList());\n            if (!AppUtil.listEqualsIgnoreOrder(s3ModelCodes, modelCodePresent)) {\n                synchDB(s3ModelCodes, s3ModelCodes);\n            }\n            if (null != allKeysInDesiredBucket &amp;&amp; !allKeysInDesiredBucket.isEmpty()) {\n                for (CommonPrefix commonPrefix : allKeysInDesiredBucket) {\n                    bucketKey = commonPrefix.prefix();\n                    modelCode = new File(bucketKey).getName();\n                    if (modelCodePresent.contains(modelCode)) {\n                        log.info(&quot;[{}]: Model code [{}] found,skipping iteration&quot;, appName, modelCode);\n                        continue;\n                    }\n                    objList = s3Service.getBucketObjects(bucketName, bucketKey);\n                    if (null != objList &amp;&amp; !objList.isEmpty()) {\n                        for (S3Object object : AppUtil.skipFirst(objList)) {\n                            Integer overlayId = overlayMasterMap.get(AppUtil.removeExtension(object.key()));\n                            saveLayout(bucketName, object.key(), modelCode, overlayId);\n                        }\n                    }\n                }\n            }\n        } catch (Exception e) {\n            log.error(&quot;[{}]: Exception occurred while processing: error is: {}&quot;, appName, e.getMessage());\n            e.printStackTrace();\n        }\n\n    } \n</code></pre>\n<p>The snippet <code>List&lt;ModelCode&gt; modelCodes = layoutRepository.findDistinctAllBy();</code> the layoutRepository in this case is <strong>ServiceA</strong>, in a similar fashion it can be instance of ServiceB or ServiceC and so on.</p>\n<p>so I am looking for way where I can isolate and overcome this tightly couple things form the code.</p>\n<p>Please help</p>\n"},{"tags":["java","php","android","html","webview"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666522960,"post_id":74170457,"comment_id":130952842,"body_markdown":"Well what is that unknown scheme?","body":"Well what is that unknown scheme?"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666745170,"post_id":74171168,"comment_id":131007582,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74171168/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":12162478,"reputation":86,"user_id":8879652,"display_name":"abhishekrajak"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666528432,"creation_date":1666528432,"answer_id":74171168,"question_id":74170457,"body_markdown":"inside the shouldOverrideUrlLoading function you can call a function and check for the url scheme and based on that scheme you can handle whether you want to call an external app/activity or let the url be loaded inside the webview. you can refer to these links -&gt; https://stackoverflow.com/a/43872730/8879652 https://stackoverflow.com/a/34022490/8879652","title":"err_unknown_url_scheme in Android WebView","body":"<p>inside the shouldOverrideUrlLoading function you can call a function and check for the url scheme and based on that scheme you can handle whether you want to call an external app/activity or let the url be loaded inside the webview. you can refer to these links -&gt; <a href=\"https://stackoverflow.com/a/43872730/8879652\">https://stackoverflow.com/a/43872730/8879652</a> <a href=\"https://stackoverflow.com/a/34022490/8879652\">https://stackoverflow.com/a/34022490/8879652</a></p>\n"}],"owner":{"account_id":26707939,"reputation":1,"user_id":20313822,"display_name":"cheapy kun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1680,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666528432,"creation_date":1666521479,"question_id":74170457,"body_markdown":" I have a WebView display page, and when I click on one buttons it will redrect in another web site or open in some app such as telegram but this error appears: net::ERR_UNKNOWN_URL_SCHEME\r\n\r\nI kindly ask you for some advice as I have tried several suggestions but without results\r\nI&#39;m a amateur.\r\n\r\nThis is my code\r\n\r\n\r\n\r\n     package com.allcodingtutorial.mywebactivity;\r\n     import androidx.appcompat.app.AppCompatActivity;\r\n     import android.graphics.Bitmap;\r\n     import android.os.Bundle;\r\n     import android.webkit.WebResourceRequest;\r\n     import android.webkit.WebSettings;\r\n     import android.webkit.WebView;\r\n     import android.webkit.WebViewClient;\r\n     public class MainActivity extends AppCompatActivity {\r\n     WebView webView;\r\n     @Override\r\n     protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        webView = findViewById(R.id.webView);\r\n        webView.setWebViewClient(new WebViewClient());\r\n        webView.loadUrl(&quot;https://vnexpress.net/&quot;);\r\n        WebSettings webSettings = webView.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n    }\r\n\r\n    public static class MywebClient extends WebViewClient{\r\n        @Override\r\n        public void onPageStarted(WebView view, String url, Bitmap favicon) {\r\n            super.onPageStarted(view, url, favicon);\r\n        }\r\n        @Override\r\n        public boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request) {\r\n            return super.shouldOverrideUrlLoading(view, request);\r\n        }\r\n    }\r\n    @Override\r\n    public void onBackPressed() {\r\n        if(webView.isFocused() &amp;&amp; webView.canGoBack())\r\n        {\r\n            webView.goBack();\r\n        }else{\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n}\r\n","title":"err_unknown_url_scheme in Android WebView","body":"<p>I have a WebView display page, and when I click on one buttons it will redrect in another web site or open in some app such as telegram but this error appears: net::ERR_UNKNOWN_URL_SCHEME</p>\n<p>I kindly ask you for some advice as I have tried several suggestions but without results\nI'm a amateur.</p>\n<p>This is my code</p>\n<pre><code> package com.allcodingtutorial.mywebactivity;\n import androidx.appcompat.app.AppCompatActivity;\n import android.graphics.Bitmap;\n import android.os.Bundle;\n import android.webkit.WebResourceRequest;\n import android.webkit.WebSettings;\n import android.webkit.WebView;\n import android.webkit.WebViewClient;\n public class MainActivity extends AppCompatActivity {\n WebView webView;\n @Override\n protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    webView = findViewById(R.id.webView);\n    webView.setWebViewClient(new WebViewClient());\n    webView.loadUrl(&quot;https://vnexpress.net/&quot;);\n    WebSettings webSettings = webView.getSettings();\n    webSettings.setJavaScriptEnabled(true);\n}\n\npublic static class MywebClient extends WebViewClient{\n    @Override\n    public void onPageStarted(WebView view, String url, Bitmap favicon) {\n        super.onPageStarted(view, url, favicon);\n    }\n    @Override\n    public boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request) {\n        return super.shouldOverrideUrlLoading(view, request);\n    }\n}\n@Override\npublic void onBackPressed() {\n    if(webView.isFocused() &amp;&amp; webView.canGoBack())\n    {\n        webView.goBack();\n    }else{\n        super.onBackPressed();\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","ejb-3.0"],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666528087,"creation_date":1407409205,"answer_id":25180794,"question_id":25180597,"body_markdown":"Named queries are the same as queries. They are named only to let them be reusable + they can be declared in various places eg. in class mappings, conf files etc. (so you can change query without changing actual code)\r\n\r\nNative queries are just native queries. You have to do all the things that JPA Queries do for you eg. Binding and quoting values etc. + they use DBMP independent syntax (JPQL in your case) so changing database system (lets say from MySQL to Postgresql or H2) will require less work as it does not (not always) require to rewrite native queries.","title":"Named Query Or Native Query or Query Which one is better in performance point of view?","body":"<p>Named queries are the same as queries. They are named only to let them be reusable + they can be declared in various places eg. in class mappings, conf files etc. (so you can change query without changing actual code)</p>\n<p>Native queries are just native queries. You have to do all the things that JPA Queries do for you eg. Binding and quoting values etc. + they use DBMP independent syntax (JPQL in your case) so changing database system (lets say from MySQL to Postgresql or H2) will require less work as it does not (not always) require to rewrite native queries.</p>\n"},{"tags":[],"owner":{"account_id":3669475,"reputation":3487,"user_id":3057004,"accept_rate":46,"display_name":"Wundwin Born"},"comment_count":0,"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1553020622,"creation_date":1407410278,"answer_id":25181145,"question_id":25180597,"body_markdown":" 1. &lt;h3&gt;createQuery()&lt;/h3&gt;\r\n\r\n    It should be used for dynamic query creation.\r\n    \r\n        //Example dynamic query\r\n        StringBuilder builder = new StringBuilder(&quot;select e from Employee e&quot;);\r\n        if (empName != null) {\r\n            builder.append(&quot; where e.name = ?&quot;);\r\n        }\r\n        getEntityManager().createQuery(builder.toString());\r\n        \r\n\r\n 2. &lt;h3&gt;createNamedQuery()&lt;/h3&gt;\r\n    \r\n    It is like a constant variable which can be reused by name. You should use it in common database calls, such as &quot;find all users&quot;, &quot;find by id&quot;, etc.\r\n\r\n 3. &lt;h3&gt;createNativeQuery()&lt;/h3&gt;\r\n\r\n    This creates a query that depends completely on the underlying database&#39;s SQL scripting language support. It is useful when a complex query is required and the JPQL syntax does not support it.\r\n\r\n    However, it can impact your application and require more work, if the underlying database is changed from one to another. An example case would be, if your development environment is in MySQL, and your production environment is using Oracle. Plus, the returned result binding can be complex if there is more than a single result.","title":"Named Query Or Native Query or Query Which one is better in performance point of view?","body":"<ol>\n<li><h3>createQuery()</h3>\n\n<p>It should be used for dynamic query creation.</p>\n\n<pre><code>//Example dynamic query\nStringBuilder builder = new StringBuilder(\"select e from Employee e\");\nif (empName != null) {\n    builder.append(\" where e.name = ?\");\n}\ngetEntityManager().createQuery(builder.toString());\n</code></pre></li>\n<li><h3>createNamedQuery()</h3>\n\n<p>It is like a constant variable which can be reused by name. You should use it in common database calls, such as \"find all users\", \"find by id\", etc.</p></li>\n<li><h3>createNativeQuery()</h3>\n\n<p>This creates a query that depends completely on the underlying database's SQL scripting language support. It is useful when a complex query is required and the JPQL syntax does not support it.</p>\n\n<p>However, it can impact your application and require more work, if the underlying database is changed from one to another. An example case would be, if your development environment is in MySQL, and your production environment is using Oracle. Plus, the returned result binding can be complex if there is more than a single result.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1407413843,"creation_date":1407413843,"answer_id":25182331,"question_id":25180597,"body_markdown":"For me, the better is obviously the first two one, that is JPQL Queries - the second meaning the entity manager will compile the queries (and validate them) while loading the persistence unit, while the first would only yield errors at execution time.\r\n\r\nYou can also get support in some IDE, and it support the object notation (eg: `select b from EntityA a left join a.entityB b`) and some other oddities introduced by the object-relational mapping (like collections, index, etc).\r\n\r\n\r\nOn the other hand, use Native queries in last resort in corner case of JPQL (like window function, such as `select id, partition by (group_id) from table`)\r\n\r\n","title":"Named Query Or Native Query or Query Which one is better in performance point of view?","body":"<p>For me, the better is obviously the first two one, that is JPQL Queries - the second meaning the entity manager will compile the queries (and validate them) while loading the persistence unit, while the first would only yield errors at execution time.</p>\n\n<p>You can also get support in some IDE, and it support the object notation (eg: <code>select b from EntityA a left join a.entityB b</code>) and some other oddities introduced by the object-relational mapping (like collections, index, etc).</p>\n\n<p>On the other hand, use Native queries in last resort in corner case of JPQL (like window function, such as <code>select id, partition by (group_id) from table</code>)</p>\n"},{"comments":[{"owner":{"account_id":2489808,"reputation":3274,"user_id":2167531,"accept_rate":75,"display_name":"Shadow Man"},"score":1,"creation_date":1561659345,"post_id":25182754,"comment_id":100147821,"body_markdown":"You don&#39;t really lose portability by using native queries. You lose portability by using native queries and including DB specific stuff in your query. If your query is just plain standard SQL (using the same syntax that every other SQL compliant database uses) then how does that cost you in portability?","body":"You don&#39;t really lose portability by using native queries. You lose portability by using native queries and including DB specific stuff in your query. If your query is just plain standard SQL (using the same syntax that every other SQL compliant database uses) then how does that cost you in portability?"},{"owner":{"account_id":7929172,"reputation":1797,"user_id":6059506,"accept_rate":77,"display_name":"theprogrammer"},"score":0,"creation_date":1655829537,"post_id":25182754,"comment_id":128422463,"body_markdown":"if hibernate/jpa has to translate JPQL to native queries, isnt there a delay at some layer where this translation happens? So by extension, wont native queries be faster(even if by a small amount) compared to hibernate/jpa which might need an extra step of translation/compilation/transpilation to sql?","body":"if hibernate/jpa has to translate JPQL to native queries, isnt there a delay at some layer where this translation happens? So by extension, wont native queries be faster(even if by a small amount) compared to hibernate/jpa which might need an extra step of translation/compilation/transpilation to sql?"}],"tags":[],"owner":{"account_id":3009744,"reputation":158,"user_id":2553515,"accept_rate":62,"display_name":"Kirtan Patel"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1407415009,"creation_date":1407415009,"answer_id":25182754,"question_id":25180597,"body_markdown":"Native SQL is not necessarily faster than Hibernate/JPA Query. Hibernate/JPA Query finally also is translated into SQL. In some cases it can happen Hibernate/JPA does not generate the most efficient statements, so then native SQL can be faster - but with native SQL your application loses the portability from one database to another, so normally is better to tune the Hibernate/JPA Query mapping and the HQL statement to generate more efficient SQL statements. On the other side with native SQL you&#39;re missing the Hibernate cache - as a consequence in some cases native SQL can be slower than Hibernate/JPA Query.\r\n\r\nI am not with performance, in most cases for the performance it is irrelevant if your load all columns or only the needed columns. In database access the time is lost when searching the row, and not when transferring the data into your application. When you read only the necessary columns.\r\n","title":"Named Query Or Native Query or Query Which one is better in performance point of view?","body":"<p>Native SQL is not necessarily faster than Hibernate/JPA Query. Hibernate/JPA Query finally also is translated into SQL. In some cases it can happen Hibernate/JPA does not generate the most efficient statements, so then native SQL can be faster - but with native SQL your application loses the portability from one database to another, so normally is better to tune the Hibernate/JPA Query mapping and the HQL statement to generate more efficient SQL statements. On the other side with native SQL you're missing the Hibernate cache - as a consequence in some cases native SQL can be slower than Hibernate/JPA Query.</p>\n\n<p>I am not with performance, in most cases for the performance it is irrelevant if your load all columns or only the needed columns. In database access the time is lost when searching the row, and not when transferring the data into your application. When you read only the necessary columns.</p>\n"},{"tags":[],"owner":{"account_id":7264414,"reputation":53,"user_id":8171143,"display_name":"Karan Bhatia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602246728,"creation_date":1602237572,"answer_id":64277798,"question_id":25180597,"body_markdown":"Simple Answer:\r\n**1) createQuery()** - When you want your queries to be executed at runtime.\r\n\r\n**2) createNamedQuery()** - When you want to send common database calls like `findBy&lt;attribute&gt;`, `findAll`,..\r\n\r\n**3)createNativeQuery()** -  Used when you want your queries to be database vendor-specific. This brings a challenge of ***portability***.","title":"Named Query Or Native Query or Query Which one is better in performance point of view?","body":"<p>Simple Answer:\n<strong>1) createQuery()</strong> - When you want your queries to be executed at runtime.</p>\n<p><strong>2) createNamedQuery()</strong> - When you want to send common database calls like <code>findBy&lt;attribute&gt;</code>, <code>findAll</code>,..</p>\n<p><strong>3)createNativeQuery()</strong> -  Used when you want your queries to be database vendor-specific. This brings a challenge of <em><strong>portability</strong></em>.</p>\n"},{"tags":[],"owner":{"account_id":23984779,"reputation":1,"user_id":17971720,"display_name":"Ramesh Bhimappa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643796090,"creation_date":1643793633,"answer_id":70953117,"question_id":25180597,"body_markdown":"Named Query:\r\n\r\nAll the required queries are written in one place related to that entity and they are differentiated by name and we can use them based on the name, no need to write entiry query each time just use the name of the query\r\n\r\nFor example:\r\n```\r\n@NamedQuery(name=&quot;User_detailsbyId&quot;,Query=&quot;from UserDetails where UserId=:UserId)\r\n```","title":"Named Query Or Native Query or Query Which one is better in performance point of view?","body":"<p>Named Query:</p>\n<p>All the required queries are written in one place related to that entity and they are differentiated by name and we can use them based on the name, no need to write entiry query each time just use the name of the query</p>\n<p>For example:</p>\n<pre><code>@NamedQuery(name=&quot;User_detailsbyId&quot;,Query=&quot;from UserDetails where UserId=:UserId)\n</code></pre>\n"}],"owner":{"account_id":2492602,"reputation":3495,"user_id":2169777,"accept_rate":79,"display_name":"Jekin Kalariya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43757,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":25181145,"answer_count":6,"score":22,"last_activity_date":1666528087,"creation_date":1407408689,"question_id":25180597,"body_markdown":"Which one is better among following(EJB 3 JPA)\r\n\r\n\r\n\r\n//Query\r\n\r\na). **getEntityManager().createQuery**(&quot;select o from User o&quot;);\r\n\r\n\r\n//Named Query where findAllUser is defined at Entity level\r\n\r\nb). **getEntityManager().createNamedQuery**(&quot;User.findAllUser&quot;);**\r\n\r\n\r\n//Native Query\r\n\r\nc). **getEntityManager().createNativeQuery**(&quot;SELECT * FROM TBLMUSER &quot;); \r\n\r\n\r\nPlease explain me which approach is better in which case?.","title":"Named Query Or Native Query or Query Which one is better in performance point of view?","body":"<p>Which one is better among following(EJB 3 JPA)</p>\n\n<p>//Query</p>\n\n<p>a). <strong>getEntityManager().createQuery</strong>(\"select o from User o\");</p>\n\n<p>//Named Query where findAllUser is defined at Entity level</p>\n\n<p>b). <strong>getEntityManager().createNamedQuery</strong>(\"User.findAllUser\");**</p>\n\n<p>//Native Query</p>\n\n<p>c). <strong>getEntityManager().createNativeQuery</strong>(\"SELECT * FROM TBLMUSER \"); </p>\n\n<p>Please explain me which approach is better in which case?.</p>\n"},{"tags":["java","spring","spring-boot","security","spring-security"],"answers":[{"tags":[],"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654278911,"creation_date":1654278911,"answer_id":72493426,"question_id":72493425,"body_markdown":"According [Spring Security without the WebSecurityConfigurerAdapter](https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter) it could be updated:\r\n\r\n```\r\npublic class SecurityConfiguration {\r\n\r\n    private final UserRepository userRepository;\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return PasswordEncoderFactories.createDelegatingPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        return email -&gt; {\r\n            log.debug(&quot;Authenticating &#39;{}&#39;&quot;, email);\r\n            Optional&lt;User&gt; optionalUser = userRepository.findByEmailIgnoreCase(email);\r\n            return new AuthUser(optionalUser.orElseThrow(\r\n                    () -&gt; new UsernameNotFoundException(&quot;User &#39;&quot; + email + &quot;&#39; was not found&quot;)));\r\n        };\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests()...;\r\n        return http.build();\r\n    }\r\n}\r\n```","title":"How to update deprecated WebSecurityConfigurerAdapter with userDetailsService in Spring Boot 2.7","body":"<p>According <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">Spring Security without the WebSecurityConfigurerAdapter</a> it could be updated:</p>\n<pre><code>public class SecurityConfiguration {\n\n    private final UserRepository userRepository;\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return PasswordEncoderFactories.createDelegatingPasswordEncoder();\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        return email -&gt; {\n            log.debug(&quot;Authenticating '{}'&quot;, email);\n            Optional&lt;User&gt; optionalUser = userRepository.findByEmailIgnoreCase(email);\n            return new AuthUser(optionalUser.orElseThrow(\n                    () -&gt; new UsernameNotFoundException(&quot;User '&quot; + email + &quot;' was not found&quot;)));\n        };\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.authorizeRequests()...;\n        return http.build();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1479238,"reputation":11,"user_id":1388962,"display_name":"jplayin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661600404,"creation_date":1661594039,"answer_id":73509977,"question_id":72493425,"body_markdown":" // spring boot 2.7.0 + changes with spring security\r\n   \r\n    @Configuration\r\n    public class SecurityConfiguration {\r\n    \r\n        @Bean\r\n\t    UserDetailsService userDetailsService() {\r\n\r\n\t\t    return new MyUserDetailsService(); // to be created\r\n\t    }\r\n\r\n        @Bean\r\n        BCryptPasswordEncoder passwordEncoder() {\r\n\r\n\t        return new BCryptPasswordEncoder();\r\n        }\r\n\r\n\t    @Bean\r\n\t    DaoAuthenticationProvider authenticationProvider() {\r\n\r\n\t\t    DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n\r\n\t\t    authProvider.setUserDetailsService(userDetailsService());\r\n\r\n\t\t    authProvider.setPasswordEncoder(passwordEncoder());\r\n\r\n\t\t    return authProvider;\r\n\t    }\r\n\r\n\t    @Bean\r\n\t    SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\r\n\t\t    http.authenticationProvider(authenticationProvider()); \r\n        \r\n            http.authorizeRequests()...;\r\n\r\n            http.authorizeRequests().and().rememberMe().userDetailsService(userDetailsService()); // important\r\n        \r\n            http.authorizeRequests()...;\r\n\r\n            return http.build();\r\n        }\r\n        \r\n    }","title":"How to update deprecated WebSecurityConfigurerAdapter with userDetailsService in Spring Boot 2.7","body":"<p>// spring boot 2.7.0 + changes with spring security</p>\n<pre><code>@Configuration\npublic class SecurityConfiguration {\n\n    @Bean\n    UserDetailsService userDetailsService() {\n\n        return new MyUserDetailsService(); // to be created\n    }\n\n    @Bean\n    BCryptPasswordEncoder passwordEncoder() {\n\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    DaoAuthenticationProvider authenticationProvider() {\n\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n\n        authProvider.setUserDetailsService(userDetailsService());\n\n        authProvider.setPasswordEncoder(passwordEncoder());\n\n        return authProvider;\n    }\n\n    @Bean\n    SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        http.authenticationProvider(authenticationProvider()); \n    \n        http.authorizeRequests()...;\n\n        http.authorizeRequests().and().rememberMe().userDetailsService(userDetailsService()); // important\n    \n        http.authorizeRequests()...;\n\n        return http.build();\n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12381428,"reputation":809,"user_id":9026870,"display_name":"Oleh Tatsiun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666528084,"creation_date":1666528084,"answer_id":74171137,"question_id":72493425,"body_markdown":"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\r\n\r\n    @Configuration\r\n    public class SecurityConfiguration {\r\n    \r\n        @Bean\r\n        public InMemoryUserDetailsManager userDetailsService() {\r\n            UserDetails user = User.withDefaultPasswordEncoder()\r\n                .username(&quot;user&quot;)\r\n                .password(&quot;password&quot;)\r\n                .roles(&quot;USER&quot;)\r\n                .build();\r\n            return new InMemoryUserDetailsManager(user);\r\n        }\r\n    }","title":"How to update deprecated WebSecurityConfigurerAdapter with userDetailsService in Spring Boot 2.7","body":"<p><a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter</a></p>\n<pre><code>@Configuration\npublic class SecurityConfiguration {\n\n    @Bean\n    public InMemoryUserDetailsManager userDetailsService() {\n        UserDetails user = User.withDefaultPasswordEncoder()\n            .username(&quot;user&quot;)\n            .password(&quot;password&quot;)\n            .roles(&quot;USER&quot;)\n            .build();\n        return new InMemoryUserDetailsManager(user);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2260,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1666528084,"creation_date":1654278911,"question_id":72493425,"body_markdown":"WebSecurityConfigurerAdapter in Spring 2.7 is depricated.\r\nHow should I update this class:\r\n\r\n```\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    private final UserRepository userRepository;\r\n\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(\r\n                email -&gt; {\r\n                    log.debug(&quot;Authenticating &#39;{}&#39;&quot;, email);\r\n                    Optional&lt;User&gt; optionalUser = userRepository.findByEmailIgnoreCase(email);\r\n                    return new AuthUser(optionalUser.orElseThrow(\r\n                            () -&gt; new UsernameNotFoundException(&quot;User &#39;&quot; + email + &quot;&#39; was not found&quot;)));\r\n                }\r\n        ).passwordEncoder(PasswordEncoderFactories.createDelegatingPasswordEncoder());\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests()....\r\n    }\r\n}\r\n```","title":"How to update deprecated WebSecurityConfigurerAdapter with userDetailsService in Spring Boot 2.7","body":"<p>WebSecurityConfigurerAdapter in Spring 2.7 is depricated.\nHow should I update this class:</p>\n<pre><code>public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private final UserRepository userRepository;\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(\n                email -&gt; {\n                    log.debug(&quot;Authenticating '{}'&quot;, email);\n                    Optional&lt;User&gt; optionalUser = userRepository.findByEmailIgnoreCase(email);\n                    return new AuthUser(optionalUser.orElseThrow(\n                            () -&gt; new UsernameNotFoundException(&quot;User '&quot; + email + &quot;' was not found&quot;)));\n                }\n        ).passwordEncoder(PasswordEncoderFactories.createDelegatingPasswordEncoder());\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()....\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1657865826,"post_id":72989741,"comment_id":128915867,"body_markdown":"What research have you done? There&#39;s plenty of solutions to this on the internet and on this site.","body":"What research have you done? There&#39;s plenty of solutions to this on the internet and on this site."},{"owner":{"account_id":23303455,"reputation":51,"user_id":17383753,"display_name":"BasitAli Writes"},"score":0,"creation_date":1657880175,"post_id":72989741,"comment_id":128920039,"body_markdown":"well i have searched of copying image into clipboard found out that i had to regiter my application as a provider and then have to use ClipData.newUri and save the image URI given from content provider which is being copied to clipboard but i can not found that how to enable to show image in clipboard as shown in image in my question and what to do after that image is selected ......","body":"well i have searched of copying image into clipboard found out that i had to regiter my application as a provider and then have to use ClipData.newUri and save the image URI given from content provider which is being copied to clipboard but i can not found that how to enable to show image in clipboard as shown in image in my question and what to do after that image is selected ......"}],"answers":[{"comments":[{"owner":{"account_id":23303455,"reputation":51,"user_id":17383753,"display_name":"BasitAli Writes"},"score":0,"creation_date":1657880324,"post_id":72990106,"comment_id":128920089,"body_markdown":"I am copying using this methodology by making application a provider \n\n\n Uri uri = FileProvider.getUriForFile(\n                    context,\n                    BuildConfig.APPLICATION_ID + &quot;.provider&quot;,\n                    new File(file_name)\n            );\n            ClipData clip =\n                    ClipData.newUri(MainApp.Companion.getAppContext().getContentResolver(), &quot;a Photo&quot;, uri);\n            ServiceUtil.getClipboardManager(context).setPrimaryClip(clip);","body":"I am copying using this methodology by making application a provider     Uri uri = FileProvider.getUriForFile(                     context,                     BuildConfig.APPLICATION_ID + &quot;.provider&quot;,                     new File(file_name)             );             ClipData clip =                     ClipData.newUri(MainApp.Companion.getAppContext().getContent&zwnj;&#8203;Resolver(), &quot;a Photo&quot;, uri);             ServiceUtil.getClipboardManager(context).setPrimaryClip(clip&zwnj;&#8203;);"}],"tags":[],"owner":{"account_id":23365040,"reputation":802,"user_id":17436751,"display_name":"Sayooj"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657868164,"creation_date":1657868164,"answer_id":72990106,"question_id":72989741,"body_markdown":"Here is an modified working version of code from[here][1] to store store a BufferedImage into the system clipboard.\r\n\r\n    import java.awt.*;\r\n    import java.awt.datatransfer.Clipboard;\r\n    import java.awt.datatransfer.DataFlavor;\r\n    import java.awt.datatransfer.Transferable;\r\n    import java.awt.datatransfer.UnsupportedFlavorException;\r\n    import java.awt.image.BufferedImage;\r\n\r\n    public class ClipboardUtil {\r\n    \r\n        private static final Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n    \r\n        public static void copyToClipboard(BufferedImage img) {\r\n            clipboard.setContents(new TransferableImage(img), null);\r\n        }\r\n    \r\n        private record TransferableImage(Image i) implements Transferable {\r\n        \r\n            @Override\r\n            public Object getTransferData(DataFlavor flavor)\r\n                throws UnsupportedFlavorException {\r\n                if (flavor.equals(DataFlavor.imageFlavor) &amp;&amp; i != null) {\r\n                    return i;\r\n                } else {\r\n                    throw new UnsupportedFlavorException(flavor);\r\n                }\r\n            }\r\n        \r\n            @Override\r\n            public DataFlavor[] getTransferDataFlavors() {\r\n                DataFlavor[] flavors = new DataFlavor[1];\r\n                flavors[0] = DataFlavor.imageFlavor;\r\n                return flavors;\r\n            }\r\n        \r\n            @Override\r\n            public boolean isDataFlavorSupported(DataFlavor flavor) {\r\n                DataFlavor[] flavors = getTransferDataFlavors();\r\n                for (DataFlavor dataFlavor : flavors) {\r\n                    if (flavor.equals(dataFlavor)) {\r\n                        return true;\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n\r\nTo copy text to `clipboard`, use\r\n\r\n    copytext.setOnClickListener(v -&gt; {\r\n            ClipboardManager myClipboard;\r\n            myClipboard = (ClipboardManager)getSystemService(CLIPBOARD_SERVICE);\r\n            ClipData myClip;\r\n            String Text = &quot;Hello World!&quot;;\r\n            myClip = ClipData.newPlainText(&quot;text&quot;, Text);\r\n            myClipboard.setPrimaryClip(myClip);\r\n\r\n            Toast.makeText(this, &quot;Copy&quot;, Toast.LENGTH_SHORT).show();\r\n    });\r\n\r\n  [1]: https://coderanch.com/t/333565/java/BufferedImage-System-Clipboard","title":"How to implement Copy of image and text to Clipboard in Android","body":"<p>Here is an modified working version of code from<a href=\"https://coderanch.com/t/333565/java/BufferedImage-System-Clipboard\" rel=\"nofollow noreferrer\">here</a> to store store a BufferedImage into the system clipboard.</p>\n<pre><code>import java.awt.*;\nimport java.awt.datatransfer.Clipboard;\nimport java.awt.datatransfer.DataFlavor;\nimport java.awt.datatransfer.Transferable;\nimport java.awt.datatransfer.UnsupportedFlavorException;\nimport java.awt.image.BufferedImage;\n\npublic class ClipboardUtil {\n\n    private static final Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\n\n    public static void copyToClipboard(BufferedImage img) {\n        clipboard.setContents(new TransferableImage(img), null);\n    }\n\n    private record TransferableImage(Image i) implements Transferable {\n    \n        @Override\n        public Object getTransferData(DataFlavor flavor)\n            throws UnsupportedFlavorException {\n            if (flavor.equals(DataFlavor.imageFlavor) &amp;&amp; i != null) {\n                return i;\n            } else {\n                throw new UnsupportedFlavorException(flavor);\n            }\n        }\n    \n        @Override\n        public DataFlavor[] getTransferDataFlavors() {\n            DataFlavor[] flavors = new DataFlavor[1];\n            flavors[0] = DataFlavor.imageFlavor;\n            return flavors;\n        }\n    \n        @Override\n        public boolean isDataFlavorSupported(DataFlavor flavor) {\n            DataFlavor[] flavors = getTransferDataFlavors();\n            for (DataFlavor dataFlavor : flavors) {\n                if (flavor.equals(dataFlavor)) {\n                    return true;\n                }\n            }\n            return false;\n        }\n    }\n}\n</code></pre>\n<p>To copy text to <code>clipboard</code>, use</p>\n<pre><code>copytext.setOnClickListener(v -&gt; {\n        ClipboardManager myClipboard;\n        myClipboard = (ClipboardManager)getSystemService(CLIPBOARD_SERVICE);\n        ClipData myClip;\n        String Text = &quot;Hello World!&quot;;\n        myClip = ClipData.newPlainText(&quot;text&quot;, Text);\n        myClipboard.setPrimaryClip(myClip);\n\n        Toast.makeText(this, &quot;Copy&quot;, Toast.LENGTH_SHORT).show();\n});\n</code></pre>\n"}],"owner":{"account_id":23303455,"reputation":51,"user_id":17383753,"display_name":"BasitAli Writes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666527597,"creation_date":1657865724,"question_id":72989741,"body_markdown":"I am developing an App in which I require a functionality of copy of text and also Image whichever the user wants and paste it in app .\r\nso far I have accomplished the copy and paste of text data and also I have successfully copied the Image to clipboard but my application is not showing the copied image in keyboard like below also I don&#39;t know how to handle after the image shows in keyboard in my application and the user clicks on it in my app.\r\n\r\n\r\n\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Mbz7j.png\r\n\r\n","title":"How to implement Copy of image and text to Clipboard in Android","body":"<p>I am developing an App in which I require a functionality of copy of text and also Image whichever the user wants and paste it in app .\nso far I have accomplished the copy and paste of text data and also I have successfully copied the Image to clipboard but my application is not showing the copied image in keyboard like below also I don't know how to handle after the image shows in keyboard in my application and the user clicks on it in my app.</p>\n<p><a href=\"https://i.stack.imgur.com/Mbz7j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mbz7j.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","rssi"],"comments":[{"owner":{"account_id":11064381,"reputation":1063,"user_id":8124605,"display_name":"Risto"},"score":0,"creation_date":1666594156,"post_id":74170927,"comment_id":130965272,"body_markdown":"Welcome to Stack Overflow. Does your application have the necessary permissions?","body":"Welcome to Stack Overflow. Does your application have the necessary permissions?"},{"owner":{"account_id":26708245,"reputation":11,"user_id":20314086,"display_name":"Marc Ledesma Chivite"},"score":0,"creation_date":1666641087,"post_id":74170927,"comment_id":130981087,"body_markdown":"Thanks @Risto. I think so, I copied the permissions from the [official website](https://developer.android.com/guide/topics/connectivity/bluetooth/permissions)  to put them in the AndroidManifest.xml.","body":"Thanks @Risto. I think so, I copied the permissions from the <a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth/permissions\" rel=\"nofollow noreferrer\">official website</a>  to put them in the AndroidManifest.xml."},{"owner":{"account_id":6634580,"reputation":439,"user_id":5122089,"accept_rate":60,"display_name":"axa"},"score":0,"creation_date":1674831895,"post_id":74170927,"comment_id":132803297,"body_markdown":"late to the party but, your response here appears quite ambiguous. If all you did was &quot;copy the permissions&quot; and put them &quot;in the AndroidManifest&quot;, then you didn&#39;t follow the complete instructions from the page you refer to.\nFor in runtime, you must request the permissions from the user as well.","body":"late to the party but, your response here appears quite ambiguous. If all you did was &quot;copy the permissions&quot; and put them &quot;in the AndroidManifest&quot;, then you didn&#39;t follow the complete instructions from the page you refer to. For in runtime, you must request the permissions from the user as well."},{"owner":{"account_id":6634580,"reputation":439,"user_id":5122089,"accept_rate":60,"display_name":"axa"},"score":0,"creation_date":1674832734,"post_id":74170927,"comment_id":132803585,"body_markdown":"At least in the latter versions of android","body":"At least in the latter versions of android"}],"owner":{"account_id":26708245,"reputation":11,"user_id":20314086,"display_name":"Marc Ledesma Chivite"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666526124,"creation_date":1666525991,"question_id":74170927,"body_markdown":"I have a button and a TextView in my layout.\r\n\r\nI am trying to get signal strength value of a BLE device, the goal is to find where is the desired devices without need to be connected, and for this I need to get the RSSI of all devices near me. I wrote the following code based on [other posts.](https://stackoverflow.com/questions/29365737/how-to-get-the-rssi-value-for-a-bluetooth-low-energy-device)\r\n\r\nThe problem is that my device never enters the ScanCallback function, and I don&#39;t know why. \r\nCan someone give a guide on how to solve the problem? Thanks!\r\n\r\n```\r\nimport ...\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private BluetoothAdapter mBluetoothAdapter;\r\n    private BluetoothLeScanner mBluetoothLeScanner;\r\n    private ScanCallback mScanCallback;\r\n    private Button mButton;\r\n    private TextView mTextView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mButton = findViewById(R.id.button1);\r\n        mTextView = findViewById(R.id.textView1);\r\n\r\n        mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n        mBluetoothLeScanner = mBluetoothAdapter.getBluetoothLeScanner();\r\n\r\n        mScanCallback = new ScanCallback() {\r\n            @Override\r\n            public void onScanResult(int callbackType, ScanResult result) {\r\n                super.onScanResult(callbackType, result);\r\n                int rssi = result.getRssi();\r\n                mTextView.setText(&quot;RSSI: &quot; + rssi);\r\n            }\r\n        };\r\n\r\n        mButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (ActivityCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.BLUETOOTH_SCAN) != PackageManager.PERMISSION_GRANTED) {return;}\r\n                mBluetoothLeScanner.startScan(mScanCallback);\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n```\r\n","title":"Android 10: How to get the rssi value of a non connected bluetooth device","body":"<p>I have a button and a TextView in my layout.</p>\n<p>I am trying to get signal strength value of a BLE device, the goal is to find where is the desired devices without need to be connected, and for this I need to get the RSSI of all devices near me. I wrote the following code based on <a href=\"https://stackoverflow.com/questions/29365737/how-to-get-the-rssi-value-for-a-bluetooth-low-energy-device\">other posts.</a></p>\n<p>The problem is that my device never enters the ScanCallback function, and I don't know why.\nCan someone give a guide on how to solve the problem? Thanks!</p>\n<pre><code>import ...\n\npublic class MainActivity extends AppCompatActivity {\n\n    private BluetoothAdapter mBluetoothAdapter;\n    private BluetoothLeScanner mBluetoothLeScanner;\n    private ScanCallback mScanCallback;\n    private Button mButton;\n    private TextView mTextView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mButton = findViewById(R.id.button1);\n        mTextView = findViewById(R.id.textView1);\n\n        mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n        mBluetoothLeScanner = mBluetoothAdapter.getBluetoothLeScanner();\n\n        mScanCallback = new ScanCallback() {\n            @Override\n            public void onScanResult(int callbackType, ScanResult result) {\n                super.onScanResult(callbackType, result);\n                int rssi = result.getRssi();\n                mTextView.setText(&quot;RSSI: &quot; + rssi);\n            }\n        };\n\n        mButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (ActivityCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.BLUETOOTH_SCAN) != PackageManager.PERMISSION_GRANTED) {return;}\n                mBluetoothLeScanner.startScan(mScanCallback);\n            }\n        });\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","xml","android-gridlayout"],"comments":[{"owner":{"account_id":3365385,"reputation":22807,"user_id":2826147,"accept_rate":60,"display_name":"Amit Vaghela"},"score":0,"creation_date":1456998370,"post_id":35768374,"comment_id":59208777,"body_markdown":"Check [this answer](http://stackoverflow.com/a/23891978/2826147)","body":"Check <a href=\"http://stackoverflow.com/a/23891978/2826147\">this answer</a>"},{"owner":{"account_id":5788006,"reputation":3426,"user_id":4566531,"display_name":"Dixit Panchal"},"score":0,"creation_date":1456999085,"post_id":35768374,"comment_id":59209343,"body_markdown":"Go below link you may find your solution http://stackoverflow.com/questions/12109126/android-gridview-row-dividers-separators","body":"Go below link you may find your solution <a href=\"http://stackoverflow.com/questions/12109126/android-gridview-row-dividers-separators\" title=\"android gridview row dividers separators\">stackoverflow.com/questions/12109126/&hellip;</a>"},{"owner":{"account_id":1733936,"reputation":23935,"user_id":1586924,"accept_rate":85,"display_name":"hasan"},"score":0,"creation_date":1456999613,"post_id":35768374,"comment_id":59209726,"body_markdown":"A lot of good solutions. what do you think if we went 1px ppl instead of 1dp. the line will look nice and thinner on devices with high specs. does this work?","body":"A lot of good solutions. what do you think if we went 1px ppl instead of 1dp. the line will look nice and thinner on devices with high specs. does this work?"}],"answers":[{"comments":[{"owner":{"account_id":1733936,"reputation":23935,"user_id":1586924,"accept_rate":85,"display_name":"hasan"},"score":0,"creation_date":1456998998,"post_id":35768529,"comment_id":59209261,"body_markdown":"I use this solution usually. but, I don&#39;t like it for one reason. the line is thik and doesn&#39;t look nice. how we can do a thinner line than 1 dp.","body":"I use this solution usually. but, I don&#39;t like it for one reason. the line is thik and doesn&#39;t look nice. how we can do a thinner line than 1 dp."},{"owner":{"account_id":7538145,"reputation":182,"user_id":5723787,"accept_rate":67,"display_name":"Kaustubh Kadam"},"score":0,"creation_date":1456999027,"post_id":35768529,"comment_id":59209287,"body_markdown":"i am using grid view layout","body":"i am using grid view layout"},{"owner":{"account_id":1733936,"reputation":23935,"user_id":1586924,"accept_rate":85,"display_name":"hasan"},"score":0,"creation_date":1456999092,"post_id":35768529,"comment_id":59209347,"body_markdown":"even that you use a grid layout. you can put it in a framelayout along with this suggested view.","body":"even that you use a grid layout. you can put it in a framelayout along with this suggested view."},{"owner":{"account_id":1546532,"reputation":1463,"user_id":1439968,"display_name":"Asutosh Panda"},"score":0,"creation_date":1457100088,"post_id":35768529,"comment_id":59265469,"body_markdown":"@hasan83 , you must be having an XML layout for grid items. Just use this code there, you will get a vertical line.","body":"@hasan83 , you must be having an XML layout for grid items. Just use this code there, you will get a vertical line."}],"tags":[],"owner":{"account_id":1546532,"reputation":1463,"user_id":1439968,"display_name":"Asutosh Panda"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456998451,"creation_date":1456998451,"answer_id":35768529,"question_id":35768374,"body_markdown":"You can add a Vertical line like this - \r\n\r\n    &lt;View\r\n    android:layout_width=&quot;1dp&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#000000&quot; /&gt;\r\n\r\n\r\nYou can set the height as per requirement and can add margin to the above **View** if required","title":"How to show a vertical line between columns of a grid layout in android","body":"<p>You can add a Vertical line like this - </p>\n\n<pre><code>&lt;View\nandroid:layout_width=\"1dp\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"#000000\" /&gt;\n</code></pre>\n\n<p>You can set the height as per requirement and can add margin to the above <strong>View</strong> if required</p>\n"},{"tags":[],"owner":{"display_name":"user5383419"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1457001987,"creation_date":1456999073,"answer_id":35768802,"question_id":35768374,"body_markdown":"Add **verticalSpacing** in your grid layout and set GridView background as the color of line you want.\r\n\r\n    &lt;GridView\r\n            android:id=&quot;@+id/grid_view&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;#DADADA&quot;\r\n            android:verticalSpacing=&quot;1dp&quot;\r\n            android:numColumns=&quot;2&quot; /&gt;","title":"How to show a vertical line between columns of a grid layout in android","body":"<p>Add <strong>verticalSpacing</strong> in your grid layout and set GridView background as the color of line you want.</p>\n\n<pre><code>&lt;GridView\n        android:id=\"@+id/grid_view\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"#DADADA\"\n        android:verticalSpacing=\"1dp\"\n        android:numColumns=\"2\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5415709,"reputation":3743,"user_id":4310905,"display_name":"and_dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456999321,"creation_date":1456999321,"answer_id":35768905,"question_id":35768374,"body_markdown":"if you use two LinearLayouts side by side you can use the frameworks divider function with an ease: \r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:divider=&quot;?android:listDivider&quot;\r\n        android:dividerPadding=&quot;2.5dp&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:showDividers=&quot;middle&quot;\r\n        android:weightSum=&quot;2&quot; &gt; ... &lt;/LinearLayout&gt;\r\n\r\nSee also: http://developer.android.com/reference/android/widget/LinearLayout.html","title":"How to show a vertical line between columns of a grid layout in android","body":"<p>if you use two LinearLayouts side by side you can use the frameworks divider function with an ease: </p>\n\n<pre><code>&lt;LinearLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignParentBottom=\"true\"\n    android:divider=\"?android:listDivider\"\n    android:dividerPadding=\"2.5dp\"\n    android:orientation=\"horizontal\"\n    android:showDividers=\"middle\"\n    android:weightSum=\"2\" &gt; ... &lt;/LinearLayout&gt;\n</code></pre>\n\n<p>See also: <a href=\"http://developer.android.com/reference/android/widget/LinearLayout.html\" rel=\"nofollow\">http://developer.android.com/reference/android/widget/LinearLayout.html</a></p>\n"},{"tags":[],"owner":{"account_id":19915296,"reputation":1,"user_id":14592429,"display_name":"Selvedin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666525672,"creation_date":1666525672,"answer_id":74170888,"question_id":35768374,"body_markdown":"Maybe something like this\r\n\r\n     &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;@dimen/_5sdp&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:divider=&quot;?android:listDivider&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:showDividers=&quot;middle&quot;\r\n            android:weightSum=&quot;1&quot; &gt;\r\n           &lt;GridLayout\r\n               android:layout_width=&quot;wrap_content&quot;\r\n               android:layout_height=&quot;wrap_content&quot;\r\n               android:paddingRight=&quot;@dimen/_5sdp&quot;\r\n               android:rowCount=&quot;2&quot;\r\n               android:columnCount=&quot;1&quot;&gt;\r\n               &lt;TextView\r\n                   android:text=&quot;Qty&quot;\r\n                   /&gt;\r\n               &lt;TextView\r\n                   android:id=&quot;@+id/txtQtyProduct&quot;\r\n                   android:layout_gravity=&quot;center&quot;\r\n                   android:text=&quot;1&quot;/&gt;\r\n\r\n           &lt;/GridLayout&gt;\r\n           &lt;/LinearLayout&gt;\r\n","title":"How to show a vertical line between columns of a grid layout in android","body":"<p>Maybe something like this</p>\n<pre><code> &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;@dimen/_5sdp&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:divider=&quot;?android:listDivider&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:gravity=&quot;center&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:showDividers=&quot;middle&quot;\n        android:weightSum=&quot;1&quot; &gt;\n       &lt;GridLayout\n           android:layout_width=&quot;wrap_content&quot;\n           android:layout_height=&quot;wrap_content&quot;\n           android:paddingRight=&quot;@dimen/_5sdp&quot;\n           android:rowCount=&quot;2&quot;\n           android:columnCount=&quot;1&quot;&gt;\n           &lt;TextView\n               android:text=&quot;Qty&quot;\n               /&gt;\n           &lt;TextView\n               android:id=&quot;@+id/txtQtyProduct&quot;\n               android:layout_gravity=&quot;center&quot;\n               android:text=&quot;1&quot;/&gt;\n\n       &lt;/GridLayout&gt;\n       &lt;/LinearLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":7538145,"reputation":182,"user_id":5723787,"accept_rate":67,"display_name":"Kaustubh Kadam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4735,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":35768802,"answer_count":4,"score":0,"last_activity_date":1666525672,"creation_date":1456998064,"question_id":35768374,"body_markdown":"I am making a native android app, I want to draw a **vertical line between two columns** in a **grid-layout**, is there any way i can do this ??\r\nIn the following screenshot, you can see the lines between cells and between the column. Basically, i just want to display the grid with my own custom style. [This is the link to see the screenshots, apparently stack wont let me post a pic][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ws5so.jpg","title":"How to show a vertical line between columns of a grid layout in android","body":"<p>I am making a native android app, I want to draw a <strong>vertical line between two columns</strong> in a <strong>grid-layout</strong>, is there any way i can do this ??\nIn the following screenshot, you can see the lines between cells and between the column. Basically, i just want to display the grid with my own custom style. <a href=\"https://i.stack.imgur.com/ws5so.jpg\" rel=\"nofollow\">This is the link to see the screenshots, apparently stack wont let me post a pic</a></p>\n"},{"tags":["java","android","static-ip-address","system-setting"],"owner":{"account_id":3477541,"reputation":1048,"user_id":9042612,"accept_rate":62,"display_name":"GNK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":482,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1666525562,"creation_date":1666339335,"question_id":74150511,"body_markdown":"I am working on Android 12 (AOSP 12) device.\r\nTrying to set the static IP from my application.\r\n\r\nSnipped code below:\r\n\r\nMainActivity.java: \r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \tprivate static final String KEY_ETH_IP_ADDRESS = &quot;ethernet_ip_addr&quot;;\r\n    \tprivate static final String KEY_ETH_HW_ADDRESS = &quot;ethernet_hw_addr&quot;;\r\n    \tprivate static final String KEY_ETH_NET_MASK = &quot;ethernet_netmask&quot;;\r\n    \tprivate static final String KEY_ETH_GATEWAY = &quot;ethernet_gateway&quot;;\r\n    \tprivate static final String KEY_ETH_DNS1 = &quot;ethernet_dns1&quot;;\r\n    \tprivate static final String KEY_ETH_DNS2 = &quot;ethernet_dns2&quot;;\r\n    \tprivate static final String KEY_ETH_MODE = &quot;ethernet_mode_select&quot;;\r\n\t\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t    super.onCreate(savedInstanceState);\r\n    \t    setContentView(R.layout.activity_main);\r\n    \t    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n    \t\t\tif (Settings.System.canWrite(this)) {\r\n    \t        \t    Toast.makeText(this, &quot;Hello World&quot;, Toast.LENGTH_SHORT).show();\r\n    \t        \t    ContentResolver cr = this.getContentResolver();\r\n    \t\t\t\t\tSettings.System.putString(cr,KEY_ETH_IP_ADDRESS, &quot;10.xxx.xxx.15&quot;);\r\n    \t        \t    Settings.System.putString(cr,KEY_ETH_NET_MASK, &quot;255.255.255.100&quot;);\r\n    \t        \t    Settings.System.putString(cr,KEY_ETH_GATEWAY, &quot;10.xx.xx.100&quot;);\r\n    \t        \t    Settings.System.putString(cr,KEY_ETH_DNS1, &quot;10.xxx.xx.10&quot;);\r\n    \t        \t    Settings.System.putString(cr,KEY_ETH_DNS2, &quot;10.xxx.xx.10&quot;);\r\n    \t\t\t\t} else {\r\n\t\t\t\t\t\tIntent intent = new Intent(android.provider.Settings.ACTION_MANAGE_WRITE_SETTINGS);\r\n    \t        \t\tintent.setData(Uri.parse(&quot;package:&quot; + this.getPackageName()));\r\n    \t        \t\tintent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    \t        \t\tstartActivity(intent);\r\n    \t    \t\t}\r\n \t \t\t}\r\n\t\t}\r\n\r\nGiven below permission in AndroidManifest.xml file :\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; tools:ignore=&quot;CoarseFineLocation&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_SETTINGS&quot; tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_SECURE_SETTINGS&quot; tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\r\n\r\n\r\nError:\r\n\r\n\tjava.lang.IllegalArgumentException: You cannot keep your settings in the secure settings.\r\n\t\tat com.android.providers.settings.SettingsProvider.warnOrThrowForUndesiredSecureSettingsMutationForTargetSdk(SettingsProvider.java:2266)\r\n\t\tat com.android.providers.settings.SettingsProvider.enforceRestrictedSystemSettingsMutationForCallingPackage(SettingsProvider.java:2036)\r\n\t\tat com.android.providers.settings.SettingsProvider.mutateSystemSetting(SettingsProvider.java:1889)\r\n\t\tat com.android.providers.settings.SettingsProvider.insertSystemSetting(SettingsProvider.java:1840)\r\n\t\tat com.android.providers.settings.SettingsProvider.call(SettingsProvider.java:462)\r\n\t\t...\r\n\t\r\n\tProcess: com.xxx.test_staticip, PID: 3267\r\n\tjava.lang.RuntimeException: Unable to start activity ComponentInfo{com.xxx.test_staticip/com.xxx.test_staticip.MainActivity}: java.lang.IllegalArgumentException: You cannot keep \tyour settings in the secure settings.\r\n\t\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3707)\r\n\t\tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3864)\r\n\t\tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\r\n\t\tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n\t\tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n\t\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2253)\r\n\t\t...\r\n\r\n\tCaused by: java.lang.IllegalArgumentException: You cannot keep your settings in the secure settings.\r\n\t\tat android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:172)\r\n\t\tat android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:142)\r\n\t\tat android.content.ContentProviderProxy.call(ContentProviderNative.java:732)\r\n\t\tat android.provider.Settings$NameValueCache.putStringForUser(Settings.java:2867)\r\n\t\tat android.provider.Settings$System.putStringForUser(Settings.java:3572)\r\n\t\tat android.provider.Settings$System.putStringForUser(Settings.java:3556)\r\n\t\tat android.provider.Settings$System.putString(Settings.java:3529)\r\n\t\tat com.xxx.test_staticip.MainActivity.onCreate(MainActivity.java:84)\r\n\t\tat android.app.Activity.performCreate(Activity.java:8072)\r\n\t\tat android.app.Activity.performCreate(Activity.java:8052)\r\n\t\t...\r\n\r\nI couldn&#39;t found proper info on Google, some solutions are very old and those are deprecated in Android 12.\r\n","title":"java.lang.IllegalArgumentException: You cannot keep your settings in the secure settings","body":"<p>I am working on Android 12 (AOSP 12) device.\nTrying to set the static IP from my application.</p>\n<p>Snipped code below:</p>\n<p>MainActivity.java:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private static final String KEY_ETH_IP_ADDRESS = &quot;ethernet_ip_addr&quot;;\n    private static final String KEY_ETH_HW_ADDRESS = &quot;ethernet_hw_addr&quot;;\n    private static final String KEY_ETH_NET_MASK = &quot;ethernet_netmask&quot;;\n    private static final String KEY_ETH_GATEWAY = &quot;ethernet_gateway&quot;;\n    private static final String KEY_ETH_DNS1 = &quot;ethernet_dns1&quot;;\n    private static final String KEY_ETH_DNS2 = &quot;ethernet_dns2&quot;;\n    private static final String KEY_ETH_MODE = &quot;ethernet_mode_select&quot;;\n\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            if (Settings.System.canWrite(this)) {\n                    Toast.makeText(this, &quot;Hello World&quot;, Toast.LENGTH_SHORT).show();\n                    ContentResolver cr = this.getContentResolver();\n                    Settings.System.putString(cr,KEY_ETH_IP_ADDRESS, &quot;10.xxx.xxx.15&quot;);\n                    Settings.System.putString(cr,KEY_ETH_NET_MASK, &quot;255.255.255.100&quot;);\n                    Settings.System.putString(cr,KEY_ETH_GATEWAY, &quot;10.xx.xx.100&quot;);\n                    Settings.System.putString(cr,KEY_ETH_DNS1, &quot;10.xxx.xx.10&quot;);\n                    Settings.System.putString(cr,KEY_ETH_DNS2, &quot;10.xxx.xx.10&quot;);\n                } else {\n                    Intent intent = new Intent(android.provider.Settings.ACTION_MANAGE_WRITE_SETTINGS);\n                    intent.setData(Uri.parse(&quot;package:&quot; + this.getPackageName()));\n                    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                    startActivity(intent);\n                }\n        }\n    }\n</code></pre>\n<p>Given below permission in AndroidManifest.xml file :</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; tools:ignore=&quot;CoarseFineLocation&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_SETTINGS&quot; tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_SECURE_SETTINGS&quot; tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\n</code></pre>\n<p>Error:</p>\n<pre><code>java.lang.IllegalArgumentException: You cannot keep your settings in the secure settings.\n    at com.android.providers.settings.SettingsProvider.warnOrThrowForUndesiredSecureSettingsMutationForTargetSdk(SettingsProvider.java:2266)\n    at com.android.providers.settings.SettingsProvider.enforceRestrictedSystemSettingsMutationForCallingPackage(SettingsProvider.java:2036)\n    at com.android.providers.settings.SettingsProvider.mutateSystemSetting(SettingsProvider.java:1889)\n    at com.android.providers.settings.SettingsProvider.insertSystemSetting(SettingsProvider.java:1840)\n    at com.android.providers.settings.SettingsProvider.call(SettingsProvider.java:462)\n    ...\n\nProcess: com.xxx.test_staticip, PID: 3267\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.xxx.test_staticip/com.xxx.test_staticip.MainActivity}: java.lang.IllegalArgumentException: You cannot keep   your settings in the secure settings.\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3707)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3864)\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2253)\n    ...\n\nCaused by: java.lang.IllegalArgumentException: You cannot keep your settings in the secure settings.\n    at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:172)\n    at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:142)\n    at android.content.ContentProviderProxy.call(ContentProviderNative.java:732)\n    at android.provider.Settings$NameValueCache.putStringForUser(Settings.java:2867)\n    at android.provider.Settings$System.putStringForUser(Settings.java:3572)\n    at android.provider.Settings$System.putStringForUser(Settings.java:3556)\n    at android.provider.Settings$System.putString(Settings.java:3529)\n    at com.xxx.test_staticip.MainActivity.onCreate(MainActivity.java:84)\n    at android.app.Activity.performCreate(Activity.java:8072)\n    at android.app.Activity.performCreate(Activity.java:8052)\n    ...\n</code></pre>\n<p>I couldn't found proper info on Google, some solutions are very old and those are deprecated in Android 12.</p>\n"},{"tags":["java","spring","spring-security","interceptor"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666280860,"creation_date":1666280860,"answer_id":74142750,"question_id":74139936,"body_markdown":"If the object you&#39;re referring to as *&quot;database object&quot;* is the result returned by `checkAuth()` then sure you can examine its contents [`@PostAuthorize`](https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/access/prepost/PostAuthorize.html). If a SpEl expression provided as an argument would not match, then request processing would fail with an exception.\r\n\r\nIt would look like this:\r\n\r\n```\r\n@PostAuthorize(&quot;returnObject.databaseId ... &lt;- your-conditional-logic-here&quot;)\r\n```\r\n\r\n**Reminder:** to make this annotation enabled, `prePostEnabled` attribute of the `@EnableGlobalMethodSecurity` (*which annotates configuration class*) needs to be set to `true` (*I guess you&#39;re aware of this, but a random reader might be not*):\r\n```\r\n@EnableGlobalMethodSecurity(prePostEnabled=true)\r\n```\r\n\r\nIn case if you didn&#39;t refer to the resulting object, then you can retrieve this *&quot;database object&quot;* right inside the SpEl-expression because we&#39;re free to use any Beans and invoke their methods. So it still can be using `@PostAuthorize`.\r\n\r\nAlso, it&#39;s worth noticing:\r\n* That it&#39;s better keep SpEl-expression as simple as possible, since its hard to test.\r\n* `HandlerInterceptorAdapter` is deprecated since release version `5.3`, so it&#39;s not a great alternative. ","title":"Is it possible to prefetch database object from auth/custom annotation in Spring boot","body":"<p>If the object you're referring to as <em>&quot;database object&quot;</em> is the result returned by <code>checkAuth()</code> then sure you can examine its contents <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/access/prepost/PostAuthorize.html\" rel=\"nofollow noreferrer\"><code>@PostAuthorize</code></a>. If a SpEl expression provided as an argument would not match, then request processing would fail with an exception.</p>\n<p>It would look like this:</p>\n<pre><code>@PostAuthorize(&quot;returnObject.databaseId ... &lt;- your-conditional-logic-here&quot;)\n</code></pre>\n<p><strong>Reminder:</strong> to make this annotation enabled, <code>prePostEnabled</code> attribute of the <code>@EnableGlobalMethodSecurity</code> (<em>which annotates configuration class</em>) needs to be set to <code>true</code> (<em>I guess you're aware of this, but a random reader might be not</em>):</p>\n<pre><code>@EnableGlobalMethodSecurity(prePostEnabled=true)\n</code></pre>\n<p>In case if you didn't refer to the resulting object, then you can retrieve this <em>&quot;database object&quot;</em> right inside the SpEl-expression because we're free to use any Beans and invoke their methods. So it still can be using <code>@PostAuthorize</code>.</p>\n<p>Also, it's worth noticing:</p>\n<ul>\n<li>That it's better keep SpEl-expression as simple as possible, since its hard to test.</li>\n<li><code>HandlerInterceptorAdapter</code> is deprecated since release version <code>5.3</code>, so it's not a great alternative.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666525520,"creation_date":1666435020,"answer_id":74162792,"question_id":74139936,"body_markdown":"Use `@PreAuthorize` which allows you to define a SpEL to refer to a method in any bean that will be executed before a method is called for permission checking. The permission checking method should return a boolean which true means allow while false means disallow. \r\n\r\nIn that SpEL , you can use `@bean` to refer to a bean and use `#foo` or `@P` to access the parameters of the method that `@PreAuthorize` protects.(docs at [here][1])\r\n\r\nSomething like : \r\n\r\n``` java\r\n@GetMapping(&quot;/v1/auth-check/....id....&quot;)\r\n@PreAuthorize(&quot;@authzService.isAllow(#databaseId)&quot;)\r\npublic MyResult checkAuth(...., int databaseId, ....) {\r\n\r\n}\r\n```\r\n\r\nwhich will look for a bean which the name is `authzService` and execute its `isAllow()` for permission checking.\r\n\r\n``` java\r\n@Service\r\npublic class AuthzService{\r\n\r\n    public boolean isAllow(int databaseId){\r\n        /******************************************\r\n          Do the checking here....\r\n          Use SecurityContextHolder.getContext().getAuthentication() to access the current user object such that you can check their roles. \r\n         ******************************************/\r\n    }\r\n} \r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/5.3.2.RELEASE/reference/html5/#access-control-using-preauthorize-and-postauthorize","title":"Is it possible to prefetch database object from auth/custom annotation in Spring boot","body":"<p>Use <code>@PreAuthorize</code> which allows you to define a SpEL to refer to a method in any bean that will be executed before a method is called for permission checking. The permission checking method should return a boolean which true means allow while false means disallow.</p>\n<p>In that SpEL , you can use <code>@bean</code> to refer to a bean and use <code>#foo</code> or <code>@P</code> to access the parameters of the method that <code>@PreAuthorize</code> protects.(docs at <a href=\"https://docs.spring.io/spring-security/site/docs/5.3.2.RELEASE/reference/html5/#access-control-using-preauthorize-and-postauthorize\" rel=\"nofollow noreferrer\">here</a>)</p>\n<p>Something like :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/v1/auth-check/....id....&quot;)\n@PreAuthorize(&quot;@authzService.isAllow(#databaseId)&quot;)\npublic MyResult checkAuth(...., int databaseId, ....) {\n\n}\n</code></pre>\n<p>which will look for a bean which the name is <code>authzService</code> and execute its <code>isAllow()</code> for permission checking.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class AuthzService{\n\n    public boolean isAllow(int databaseId){\n        /******************************************\n          Do the checking here....\n          Use SecurityContextHolder.getContext().getAuthentication() to access the current user object such that you can check their roles. \n         ******************************************/\n    }\n} \n</code></pre>\n"}],"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74142750,"answer_count":2,"score":0,"last_activity_date":1666525520,"creation_date":1666269174,"question_id":74139936,"body_markdown":"I have the following endpoint in my Spring MVC controller:\r\n\r\n    @RestController\r\n    public class ToolsController {\r\n    \r\n        @GetMapping(&quot;/v1/auth-check/....id....&quot;)\r\n        @RolesAllowed(...)\r\n        @MyCustomPermissions(...)\r\n        public MyResult checkAuth(...., int databaseId, ....) {\r\n\r\nHere roles allowed is a standard annotation, which checks with user data and prevent method from being called without permissions. \r\n\r\nNow I want additionally to check permissions with the help of a data, which is contained in a database object, identified by parameter `databaseId`. Can I read this object from somewhere so that my annotation also prevent method from being called?\r\n\r\nI can parse request separately in `HandlerInterceptorAdapter#preHandle`\r\n\r\nThis is bad because I will duplicate Spring&#39;s work. Are there any other mechanisms?","title":"Is it possible to prefetch database object from auth/custom annotation in Spring boot","body":"<p>I have the following endpoint in my Spring MVC controller:</p>\n<pre><code>@RestController\npublic class ToolsController {\n\n    @GetMapping(&quot;/v1/auth-check/....id....&quot;)\n    @RolesAllowed(...)\n    @MyCustomPermissions(...)\n    public MyResult checkAuth(...., int databaseId, ....) {\n</code></pre>\n<p>Here roles allowed is a standard annotation, which checks with user data and prevent method from being called without permissions.</p>\n<p>Now I want additionally to check permissions with the help of a data, which is contained in a database object, identified by parameter <code>databaseId</code>. Can I read this object from somewhere so that my annotation also prevent method from being called?</p>\n<p>I can parse request separately in <code>HandlerInterceptorAdapter#preHandle</code></p>\n<p>This is bad because I will duplicate Spring's work. Are there any other mechanisms?</p>\n"},{"tags":["java","class"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1666514098,"post_id":74169646,"comment_id":130951446,"body_markdown":"Does this answer your question? [Is there a way to instantiate a class by name in Java?](https://stackoverflow.com/questions/9886266/is-there-a-way-to-instantiate-a-class-by-name-in-java) Did you remember to search before asking?","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9886266/is-there-a-way-to-instantiate-a-class-by-name-in-java\">Is there a way to instantiate a class by name in Java?</a> Did you remember to search before asking?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":2,"creation_date":1666516106,"post_id":74169646,"comment_id":130951707,"body_markdown":"You cannot specify the type of a field as a variable like you did. Also your example `private viewModels.get(getPosition).className binding;` would not instantiate a new object, it is only a declaration. One solution could be generics, but you also mentioned something with &quot;matched to own xml layout&quot;, maybe you can describe your overall goal you want to reach a bit more so we could think about proper solutions in a bigger picture.","body":"You cannot specify the type of a field as a variable like you did. Also your example <code>private viewModels.get(getPosition).className binding;</code> would not instantiate a new object, it is only a declaration. One solution could be generics, but you also mentioned something with &quot;matched to own xml layout&quot;, maybe you can describe your overall goal you want to reach a bit more so we could think about proper solutions in a bigger picture."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1666516336,"post_id":74169646,"comment_id":130951743,"body_markdown":"@OleV.V. I think this problem is actually bigger than just instatiating - the shown example code has no single place where a new object would be instantiated, I rather think this is either a problem to solve with generics or inheritance - and then maybe add reflection for instantiation on top, but maybe that&#39;s not necessary.","body":"@OleV.V. I think this problem is actually bigger than just instatiating - the shown example code has no single place where a new object would be instantiated, I rather think this is either a problem to solve with generics or inheritance - and then maybe add reflection for instantiation on top, but maybe that&#39;s not necessary."},{"owner":{"account_id":25239024,"reputation":1,"user_id":19073143,"display_name":"Hadi Tayebifar"},"score":0,"creation_date":1666520623,"post_id":74169646,"comment_id":130952418,"body_markdown":"I apologize for the ambiguity in the question. I have designed a recyclerView. each item of the recyclerView has own layout. a data set list, passed to Aadapter. these data includes the layouts addresses. I want to do this: in the Adapter class, for each item, reads  layout address and corresponding binding class. name of the binding class, saved as a String. regards","body":"I apologize for the ambiguity in the question. I have designed a recyclerView. each item of the recyclerView has own layout. a data set list, passed to Aadapter. these data includes the layouts addresses. I want to do this: in the Adapter class, for each item, reads  layout address and corresponding binding class. name of the binding class, saved as a String. regards"},{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":1,"creation_date":1666524953,"post_id":74169646,"comment_id":130953205,"body_markdown":"Better edit the question and add these explanations to it","body":"Better edit the question and add these explanations to it"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1666525299,"post_id":74169646,"comment_id":130953268,"body_markdown":"Thanks for giving precise context to enhance our understanding of your situation and your question. That helps. This time only I pasted the information into your question for you. In the future please do it yourself.","body":"Thanks for giving precise context to enhance our understanding of your situation and your question. That helps. This time only I pasted the information into your question for you. In the future please do it yourself."}],"owner":{"account_id":25239024,"reputation":1,"user_id":19073143,"display_name":"Hadi Tayebifar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666525255,"creation_date":1666513575,"question_id":74169646,"body_markdown":"I&#39;m beginner in programming, I have so many classes like &quot;AddItemBinding&quot; (each of them, is matched to own xml layout).\r\n\r\n    public class MainViewHolder extends RecyclerView.ViewHolder{\r\n        private AddItemBinding binding;\r\n        public MainViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            binding = DataBindingUtil.bind(itemView);\r\n\r\n        }\r\n        public  void bindItemsModel(ViewModel viewModel) {\r\n            binding.setModel(viewModels.get(getPosition()).viewDataSet);\r\n        }\r\n    }\r\n\r\nhow to instantiate each class from its name stored in a String? like this:\r\n\r\n    private viewModels.get(getPosition).className binding;\r\nclassName is a String field contains name of a class.\r\n\r\nContext: I have designed a recyclerView. Each item of the recyclerView has its own layout. A data set list, passed to Adapter. these data includes the layouts addresses. I want to do this: in the Adapter class, for each item, reads layout address and corresponding binding class. name of the binding class, saved as a String.","title":"How to instantiate a Class (its name stored in a String variable)?","body":"<p>I'm beginner in programming, I have so many classes like &quot;AddItemBinding&quot; (each of them, is matched to own xml layout).</p>\n<pre><code>public class MainViewHolder extends RecyclerView.ViewHolder{\n    private AddItemBinding binding;\n    public MainViewHolder(@NonNull View itemView) {\n        super(itemView);\n        binding = DataBindingUtil.bind(itemView);\n\n    }\n    public  void bindItemsModel(ViewModel viewModel) {\n        binding.setModel(viewModels.get(getPosition()).viewDataSet);\n    }\n}\n</code></pre>\n<p>how to instantiate each class from its name stored in a String? like this:</p>\n<pre><code>private viewModels.get(getPosition).className binding;\n</code></pre>\n<p>className is a String field contains name of a class.</p>\n<p>Context: I have designed a recyclerView. Each item of the recyclerView has its own layout. A data set list, passed to Adapter. these data includes the layouts addresses. I want to do this: in the Adapter class, for each item, reads layout address and corresponding binding class. name of the binding class, saved as a String.</p>\n"},{"tags":["java","spring-boot","https","microservices","api-gateway"],"comments":[{"owner":{"account_id":3289024,"reputation":49,"user_id":2767738,"display_name":"Amit Thakur"},"score":0,"creation_date":1659347007,"post_id":73190520,"comment_id":129265001,"body_markdown":"Issue is resolved post re-correct the rout as below in application.yaml :      \n\n                      \nspring.cloud.gateway.routes[0].id=item-service\nspring.cloud.gateway.routes[0].uri=http://localhost:9001/api/item\nspring.cloud.gateway.routes[0].predicates[0]=Path=/api/item/**\n\n\nspring.cloud.gateway.routes[1].id=user-service\nspring.cloud.gateway.routes[1].uri=http://localhost:9002/api/user\nspring.cloud.gateway.routes[1].predicates[0]=Path=/api/user/**","body":"Issue is resolved post re-correct the rout as below in application.yaml :                               spring.cloud.gateway.routes[0].id=item-service spring.cloud.gateway.routes[0].uri=<a href=\"http://localhost:9001/api/item\" rel=\"nofollow noreferrer\">localhost:9001/api/item</a> spring.cloud.gateway.routes[0].predicates[0]=Path=/api/item/&zwnj;&#8203;**   spring.cloud.gateway.routes[1].id=user-service spring.cloud.gateway.routes[1].uri=<a href=\"http://localhost:9002/api/user\" rel=\"nofollow noreferrer\">localhost:9002/api/user</a> spring.cloud.gateway.routes[1].predicates[0]=Path=/api/user/&zwnj;&#8203;**"},{"owner":{"account_id":3289024,"reputation":49,"user_id":2767738,"display_name":"Amit Thakur"},"score":0,"creation_date":1659350128,"post_id":73190520,"comment_id":129266131,"body_markdown":"Solution# 2 - This is better as above solution will kill load balancer  feature in api-gateway. Hence just add below property in application.xml file in api-gateway.\n\neureka.instance.hostname=localhost","body":"Solution# 2 - This is better as above solution will kill load balancer  feature in api-gateway. Hence just add below property in application.xml file in api-gateway.  eureka.instance.hostname=localhost"}],"owner":{"account_id":3289024,"reputation":49,"user_id":2767738,"display_name":"Amit Thakur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":576,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666525164,"creation_date":1659340674,"question_id":73190520,"body_markdown":"I have developed the Micro Service application with all services (Spring Boot)  like api-gwateway , service-discovery, cloud-config , item-service and all. I just enabled the https in api-gateway and able to access the rest service on api-gateway. \r\nBut while request re-rout to other service (Item or User service) then unable to call and it give 503 error as service unavailable. \r\nAPI-Gateway internally call item service to get data.\r\n\r\n\r\nRequest :\r\nGet : https://localhost:9191/api/item/\r\n\r\nResponse :\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-08-01T07:27:41.373+00:00&quot;,\r\n    &quot;path&quot;: &quot;/api/item/&quot;,\r\n    &quot;status&quot;: 503,\r\n    &quot;error&quot;: &quot;Service Unavailable&quot;,\r\n    &quot;requestId&quot;: &quot;ccdc0886-4&quot;\r\n}\r\n\r\nPlease see below configuration:\r\n - application.yaml\r\n\r\nserver:\r\n  port: 9191\r\n  ssl:\r\n    key-alias: spring-https\r\n    key-store: classpath:apigateway.jks\r\n    key-store-type: JKS\r\n    key-password: p***\r\n    enabled: true\r\n  \r\nspring:\r\n  application:\r\n    name: api-gateway\r\n  cloud:\r\n    gateway:\r\n      default-filters:\r\n        - DedupeResponseHeader=Access-Control-Allow-Credentials Access-Control-Allow-Origin\r\n      globalcors:\r\n        corsConfigurations:\r\n          &#39;[/api/**]&#39;:\r\n              allowedOrigins: &quot;*&quot;\r\n              allowedMethods: &quot;*&quot;\r\n              allowedHeaders: &quot;*&quot;\r\n      routes:\r\n        - id: item-service\r\n          uri: lb://item-service\r\n          predicates:\r\n            - Path=/api/item/**\r\n        - id: user-service\r\n          uri: lb://user-service\r\n          predicates:\r\n            - Path=/api/user/**\r\n      httpclient:\r\n        ssl:\r\n          use-insecure-trust-manager: true\r\n        connect-timeout: 1000\r\n        response-timeout: 15s\r\n    config:\r\n      enabled: true\r\n      label: dev\r\n  config:\r\n    import: configserver:http://localhost:8888    \r\n    \r\nmanagement:\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: health\r\n  endpoint:\r\n    health:\r\n      show-details: always \r\n    gateway:\r\n      enabled: true","title":"No servers available for service: item-service : Post enable HTTPS on Api-Gateway in Java","body":"<p>I have developed the Micro Service application with all services (Spring Boot)  like api-gwateway , service-discovery, cloud-config , item-service and all. I just enabled the https in api-gateway and able to access the rest service on api-gateway.\nBut while request re-rout to other service (Item or User service) then unable to call and it give 503 error as service unavailable.\nAPI-Gateway internally call item service to get data.</p>\n<p>Request :\nGet : https://localhost:9191/api/item/</p>\n<p>Response :\n{\n&quot;timestamp&quot;: &quot;2022-08-01T07:27:41.373+00:00&quot;,\n&quot;path&quot;: &quot;/api/item/&quot;,\n&quot;status&quot;: 503,\n&quot;error&quot;: &quot;Service Unavailable&quot;,\n&quot;requestId&quot;: &quot;ccdc0886-4&quot;\n}</p>\n<p>Please see below configuration:</p>\n<ul>\n<li>application.yaml</li>\n</ul>\n<p>server:\nport: 9191\nssl:\nkey-alias: spring-https\nkey-store: classpath:apigateway.jks\nkey-store-type: JKS\nkey-password: p***\nenabled: true</p>\n<p>spring:\napplication:\nname: api-gateway\ncloud:\ngateway:\ndefault-filters:\n- DedupeResponseHeader=Access-Control-Allow-Credentials Access-Control-Allow-Origin\nglobalcors:\ncorsConfigurations:\n'[/api/<strong>]':\nallowedOrigins: &quot;<em>&quot;\nallowedMethods: &quot;</em>&quot;\nallowedHeaders: &quot;*&quot;\nroutes:\n- id: item-service\nuri: lb://item-service\npredicates:\n- Path=/api/item/</strong>\n- id: user-service\nuri: lb://user-service\npredicates:\n- Path=/api/user/**\nhttpclient:\nssl:\nuse-insecure-trust-manager: true\nconnect-timeout: 1000\nresponse-timeout: 15s\nconfig:\nenabled: true\nlabel: dev\nconfig:\nimport: configserver:http://localhost:8888</p>\n<p>management:\nendpoints:\nweb:\nexposure:\ninclude: health\nendpoint:\nhealth:\nshow-details: always\ngateway:\nenabled: true</p>\n"},{"tags":["java","swing","drawing","geometry","paintcomponent"],"answers":[{"tags":[],"owner":{"account_id":1249,"reputation":1691,"user_id":1660,"accept_rate":86,"display_name":"Viesturs"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1269443821,"creation_date":1269443821,"answer_id":2508860,"question_id":2508704,"body_markdown":"Try something like this:\r\n\r\n      public class CirclePanel extends JPanel\r\n      {\r\n    \tpublic static void main(String[] args) throws Exception\r\n    \t{\r\n    \t\tJFrame f = new JFrame();\r\n    \r\n    \t\tf.setContentPane(new CirclePanel());\r\n    \t\tf.setSize(700,500);\r\n    \t\tf.setVisible(true);\r\n    \t}\r\n    \r\n    \tpublic void paint(Graphics g)\r\n    \t{\r\n    \t\tsuper.paint(g);\r\n    \t\t//Draws the line\r\n    \t\tg.drawOval(0,0,this.getWidth(), this.getHeight());\r\n    \r\n    \t\t//draws filled circle\r\n    \t\tg.setColor(Color.red); \r\n    \t\tg.fillOval(0,0,this.getWidth(), this.getHeight());\r\n    \t}\r\n      }\r\n\r\n\r\nYou can also override the paint method in the frame class, but then the you would have to calculate in the size of the window decorations and it gets dirty there...\r\n","title":"Draw a circle with a radius and points around the edge","body":"<p>Try something like this:</p>\n\n<pre><code>  public class CirclePanel extends JPanel\n  {\n    public static void main(String[] args) throws Exception\n    {\n        JFrame f = new JFrame();\n\n        f.setContentPane(new CirclePanel());\n        f.setSize(700,500);\n        f.setVisible(true);\n    }\n\n    public void paint(Graphics g)\n    {\n        super.paint(g);\n        //Draws the line\n        g.drawOval(0,0,this.getWidth(), this.getHeight());\n\n        //draws filled circle\n        g.setColor(Color.red); \n        g.fillOval(0,0,this.getWidth(), this.getHeight());\n    }\n  }\n</code></pre>\n\n<p>You can also override the paint method in the frame class, but then the you would have to calculate in the size of the window decorations and it gets dirty there...</p>\n"},{"comments":[{"owner":{"account_id":114444,"reputation":485,"user_id":300915,"accept_rate":50,"display_name":"alchemey89"},"score":0,"creation_date":1269515502,"post_id":2510048,"comment_id":2511235,"body_markdown":"if you dont mind me asking. when you draw the points on the circle, why do you minus 4 from the x and y coordinates?","body":"if you dont mind me asking. when you draw the points on the circle, why do you minus 4 from the x and y coordinates?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1269525012,"post_id":2510048,"comment_id":2512563,"body_markdown":"Good question: _x_ and _y_ are points _on_ the circle. If I want an 8x8 circle around a given point, I need to adjust the top and left coordinates of the boundary by half the width and height.","body":"Good question: <i>x</i> and <i>y</i> are points <i>on</i> the circle. If I want an 8x8 circle around a given point, I need to adjust the top and left coordinates of the boundary by half the width and height."},{"owner":{"account_id":83010,"reputation":27402,"user_id":233014,"display_name":"Christoffer Hammarstr&#246;m"},"score":2,"creation_date":1288279995,"post_id":2510048,"comment_id":4341572,"body_markdown":"Put those magic numbers in well-named constants instead of explaining them.","body":"Put those magic numbers in well-named constants instead of explaining them."}],"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":3,"down_vote_count":0,"up_vote_count":63,"is_accepted":true,"score":63,"last_activity_date":1288293685,"creation_date":1269452382,"answer_id":2510048,"question_id":2508704,"body_markdown":"Points on a [circle][1] may be specified as a function of the angle θ:\r\n\r\n&gt; *x = a + r cos(θ)*&lt;br&gt;\r\n&gt; *y = b + r sin(θ)*\r\n\r\nHere, increments of *2π/8* are shown.\r\n\r\nAddendum: As suggested in a comment by @Christoffer Hammarstr&#246;m, this [revised][3] example reduces the number of [*magic numbers*][4] in the original. The desired number of points becomes a parameter to the constructor. It also adapts the rendering to the container&#39;s size.\r\n\r\n![alt text][2]\r\n\r\n    /** @see https://stackoverflow.com/questions/2508704 */\r\n    public class CircleTest extends JPanel {\r\n    \r\n        private static final int SIZE = 256;\r\n        private int a = SIZE / 2;\r\n        private int b = a;\r\n        private int r = 4 * SIZE / 5;\r\n        private int n;\r\n    \r\n        /** @param n  the desired number of circles. */\r\n        public CircleTest(int n) {\r\n            super(true);\r\n            this.setPreferredSize(new Dimension(SIZE, SIZE));\r\n            this.n = n;\r\n        }\r\n    \r\n        @Override\r\n        protected void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n            Graphics2D g2d = (Graphics2D) g;\r\n            g2d.setRenderingHint(\r\n                RenderingHints.KEY_ANTIALIASING,\r\n                RenderingHints.VALUE_ANTIALIAS_ON);\r\n            g2d.setColor(Color.black);\r\n            a = getWidth() / 2;\r\n            b = getHeight() / 2;\r\n            int m = Math.min(a, b);\r\n            r = 4 * m / 5;\r\n            int r2 = Math.abs(m - r) / 2;\r\n            g2d.drawOval(a - r, b - r, 2 * r, 2 * r);\r\n            g2d.setColor(Color.blue);\r\n            for (int i = 0; i &lt; n; i++) {\r\n                double t = 2 * Math.PI * i / n;\r\n                int x = (int) Math.round(a + r * Math.cos(t));\r\n                int y = (int) Math.round(b + r * Math.sin(t));\r\n                g2d.fillOval(x - r2, y - r2, 2 * r2, 2 * r2);\r\n            }\r\n        }\r\n    \r\n        private static void create() {\r\n            JFrame f = new JFrame();\r\n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            f.add(new CircleTest(9));\r\n            f.pack();\r\n            f.setVisible(true);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            EventQueue.invokeLater(new Runnable() {\r\n    \r\n                @Override\r\n                public void run() {\r\n                    create();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n[1]:http://en.wikipedia.org/wiki/Circle\r\n[2]:http://i.stack.imgur.com/aAyrg.png\r\n[3]:https://stackoverflow.com/posts/2510048/revisions\r\n[4]:http://en.wikipedia.org/wiki/Magic_number_%28programming%29","title":"Draw a circle with a radius and points around the edge","body":"<p>Points on a <a href=\"http://en.wikipedia.org/wiki/Circle\" rel=\"nofollow noreferrer\">circle</a> may be specified as a function of the angle θ:</p>\n\n<blockquote>\n  <p><em>x = a + r cos(θ)</em><br>\n  <em>y = b + r sin(θ)</em></p>\n</blockquote>\n\n<p>Here, increments of <em>2π/8</em> are shown.</p>\n\n<p>Addendum: As suggested in a comment by @Christoffer Hammarström, this <a href=\"https://stackoverflow.com/posts/2510048/revisions\">revised</a> example reduces the number of <a href=\"http://en.wikipedia.org/wiki/Magic_number_%28programming%29\" rel=\"nofollow noreferrer\"><em>magic numbers</em></a> in the original. The desired number of points becomes a parameter to the constructor. It also adapts the rendering to the container's size.</p>\n\n<p><img src=\"https://i.stack.imgur.com/aAyrg.png\" alt=\"alt text\"></p>\n\n<pre><code>/** @see https://stackoverflow.com/questions/2508704 */\npublic class CircleTest extends JPanel {\n\n    private static final int SIZE = 256;\n    private int a = SIZE / 2;\n    private int b = a;\n    private int r = 4 * SIZE / 5;\n    private int n;\n\n    /** @param n  the desired number of circles. */\n    public CircleTest(int n) {\n        super(true);\n        this.setPreferredSize(new Dimension(SIZE, SIZE));\n        this.n = n;\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2d = (Graphics2D) g;\n        g2d.setRenderingHint(\n            RenderingHints.KEY_ANTIALIASING,\n            RenderingHints.VALUE_ANTIALIAS_ON);\n        g2d.setColor(Color.black);\n        a = getWidth() / 2;\n        b = getHeight() / 2;\n        int m = Math.min(a, b);\n        r = 4 * m / 5;\n        int r2 = Math.abs(m - r) / 2;\n        g2d.drawOval(a - r, b - r, 2 * r, 2 * r);\n        g2d.setColor(Color.blue);\n        for (int i = 0; i &lt; n; i++) {\n            double t = 2 * Math.PI * i / n;\n            int x = (int) Math.round(a + r * Math.cos(t));\n            int y = (int) Math.round(b + r * Math.sin(t));\n            g2d.fillOval(x - r2, y - r2, 2 * r2, 2 * r2);\n        }\n    }\n\n    private static void create() {\n        JFrame f = new JFrame();\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.add(new CircleTest(9));\n        f.pack();\n        f.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n\n            @Override\n            public void run() {\n                create();\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2215435,"reputation":2620,"user_id":1956183,"display_name":"mhcuervo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375812272,"creation_date":1375812272,"answer_id":18087304,"question_id":2508704,"body_markdown":"I recommend to take some time to review the &quot;midpoint circle algorithm or Bresenham&#39;s circle algorithm&quot;. The accepted solution is based on very costly math operations like float multiplication and trigonometric functions.","title":"Draw a circle with a radius and points around the edge","body":"<p>I recommend to take some time to review the \"midpoint circle algorithm or Bresenham's circle algorithm\". The accepted solution is based on very costly math operations like float multiplication and trigonometric functions.</p>\n"}],"owner":{"account_id":114444,"reputation":485,"user_id":300915,"accept_rate":50,"display_name":"alchemey89"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88930,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":2510048,"answer_count":3,"score":23,"last_activity_date":1666524720,"creation_date":1269442711,"question_id":2508704,"body_markdown":"I&#39;m really stuck on how to go about programming this. How to draw a circle in Java with a radius and points around the edge?\r\n\r\nI need to draw a circle within a JFrame with a radius and points around the circumference. i can mathematically calculate how to find the coordinates of the point around the edge but i cant seem to be able to program the circle. I am currently using a Ellipse2D method but that doesn&#39;t seem to work and doesn&#39;t return a radius, as under my understanding, it doesn&#39;t draw the circle from the center rather from a starting coordinate using a height and width. \r\n\r\nMy current code is on a separate frame but I need to add it to my existing frame.\r\n\r\n    import java.awt.*; \r\n    import javax.swing.*; \r\n    import java.awt.geom.*; \r\n \r\n    public class circle extends JFrame { \r\n      public circle() { \r\n         super(&quot;circle&quot;); \r\n         setSize(410, 435); \r\n         setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); \r\n         Panel sp = new Panel(); \r\n         Container content = getContentPane(); \r\n         content.add(sp); \r\n         setContentPane(content); \r\n         setVisible(true); \r\n     } \r\n \r\n     public static void main (String args[]){\r\n      circle sign = new circle(); \r\n     } \r\n    } \r\n \r\n    class Panel extends JPanel { \r\n     public void paintComponent(Graphics comp) { \r\n         super.paintComponent(comp); \r\n         Graphics2D comp2D = (Graphics2D) comp; \r\n\r\n         comp2D.setColor(Color.red); \r\n         Ellipse2D.Float sign1 = new Ellipse2D.Float(0F, 0F, 350F, 350F); \r\n         comp2D.fill(sign1); \r\n     } \r\n    }\r\n\r\n","title":"Draw a circle with a radius and points around the edge","body":"<p>I'm really stuck on how to go about programming this. How to draw a circle in Java with a radius and points around the edge?</p>\n\n<p>I need to draw a circle within a JFrame with a radius and points around the circumference. i can mathematically calculate how to find the coordinates of the point around the edge but i cant seem to be able to program the circle. I am currently using a Ellipse2D method but that doesn't seem to work and doesn't return a radius, as under my understanding, it doesn't draw the circle from the center rather from a starting coordinate using a height and width. </p>\n\n<p>My current code is on a separate frame but I need to add it to my existing frame.</p>\n\n<pre><code>import java.awt.*; \nimport javax.swing.*; \nimport java.awt.geom.*; \n\npublic class circle extends JFrame { \n  public circle() { \n     super(\"circle\"); \n     setSize(410, 435); \n     setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); \n     Panel sp = new Panel(); \n     Container content = getContentPane(); \n     content.add(sp); \n     setContentPane(content); \n     setVisible(true); \n } \n\n public static void main (String args[]){\n  circle sign = new circle(); \n } \n} \n\nclass Panel extends JPanel { \n public void paintComponent(Graphics comp) { \n     super.paintComponent(comp); \n     Graphics2D comp2D = (Graphics2D) comp; \n\n     comp2D.setColor(Color.red); \n     Ellipse2D.Float sign1 = new Ellipse2D.Float(0F, 0F, 350F, 350F); \n     comp2D.fill(sign1); \n } \n}\n</code></pre>\n"},{"tags":["java","c#","android","visual-studio","xamarin"],"comments":[{"owner":{"account_id":1008,"reputation":87078,"user_id":1338,"accept_rate":74,"display_name":"Jason"},"score":0,"creation_date":1666388373,"post_id":74159320,"comment_id":130933719,"body_markdown":"the code you posted just builds the paths, where is the code that is actually doing the read/write and failing?  And how exactly does it fail - is there an error or exception?","body":"the code you posted just builds the paths, where is the code that is actually doing the read/write and failing?  And how exactly does it fail - is there an error or exception?"},{"owner":{"account_id":26555117,"reputation":11,"user_id":20183868,"display_name":"DedSec"},"score":0,"creation_date":1666388808,"post_id":74159320,"comment_id":130933807,"body_markdown":"it throw a error  in androdi11 and 12\n\nif (!IsBase(key)) { throw new Exception(&quot;Invalid key!&quot;); }","body":"it throw a error  in androdi11 and 12  if (!IsBase(key)) { throw new Exception(&quot;Invalid key!&quot;); }"},{"owner":{"account_id":1008,"reputation":87078,"user_id":1338,"accept_rate":74,"display_name":"Jason"},"score":2,"creation_date":1666388991,"post_id":74159320,"comment_id":130933848,"body_markdown":"YOUR code is throwing an exception.  That does not provide enough context to actually demonstrate the problem.  Please [edit] your question to provide a [mcve]","body":"YOUR code is throwing an exception.  That does not provide enough context to actually demonstrate the problem.  Please <a href=\"https://stackoverflow.com/posts/74159320/edit\">edit</a> your question to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":5412020,"reputation":6359,"user_id":4308455,"display_name":"Julian"},"score":0,"creation_date":1666388996,"post_id":74159320,"comment_id":130933850,"body_markdown":"Where&#39;s the rest of the code? This question is difficult to understand. I would also recommend using the Xamarin.Essentials Filesystem Helpers: https://learn.microsoft.com/en-us/xamarin/essentials/file-system-helpers?context=xamarin%2Fandroid&amp;tabs=android","body":"Where&#39;s the rest of the code? This question is difficult to understand. I would also recommend using the Xamarin.Essentials Filesystem Helpers: <a href=\"https://learn.microsoft.com/en-us/xamarin/essentials/file-system-helpers?context=xamarin%2Fandroid&amp;tabs=android\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/xamarin/essentials/&hellip;</a>"},{"owner":{"account_id":26555117,"reputation":11,"user_id":20183868,"display_name":"DedSec"},"score":0,"creation_date":1666523457,"post_id":74159320,"comment_id":130952923,"body_markdown":"@Jason i edited the question can you please answer this now?","body":"@Jason i edited the question can you please answer this now?"},{"owner":{"account_id":26555117,"reputation":11,"user_id":20183868,"display_name":"DedSec"},"score":0,"creation_date":1666523480,"post_id":74159320,"comment_id":130952927,"body_markdown":"@ewerspej can you please check it now.","body":"@ewerspej can you please check it now."},{"owner":{"account_id":5412020,"reputation":6359,"user_id":4308455,"display_name":"Julian"},"score":0,"creation_date":1666529829,"post_id":74159320,"comment_id":130954140,"body_markdown":"What exception do you receive? Did you put breakpoints in your code already to see what might be going wrong? For example, what happens if you simply assign the path to a variable like so: `var path = Pass();`, does `path` hold a valid file path or does it throw? I still recommended using Xamarin.Essentials for this","body":"What exception do you receive? Did you put breakpoints in your code already to see what might be going wrong? For example, what happens if you simply assign the path to a variable like so: <code>var path = Pass();</code>, does <code>path</code> hold a valid file path or does it throw? I still recommended using Xamarin.Essentials for this"},{"owner":{"account_id":1008,"reputation":87078,"user_id":1338,"accept_rate":74,"display_name":"Jason"},"score":0,"creation_date":1666531920,"post_id":74159320,"comment_id":130954564,"body_markdown":"According to your earlier comment it is failing when decoding the key value?  This happens before it attempts to read the file.","body":"According to your earlier comment it is failing when decoding the key value?  This happens before it attempts to read the file."},{"owner":{"account_id":26555117,"reputation":11,"user_id":20183868,"display_name":"DedSec"},"score":0,"creation_date":1666798422,"post_id":74159320,"comment_id":131022308,"body_markdown":"@ewerspej i receive message (Invalid Key) but when i add course name and key then app accept that and throw a message (License added successfully) but when i want to play a video then throw that message invalid key but the same thing and same build is working fine in other lower versions of Android like 10 9 8.","body":"@ewerspej i receive message (Invalid Key) but when i add course name and key then app accept that and throw a message (License added successfully) but when i want to play a video then throw that message invalid key but the same thing and same build is working fine in other lower versions of Android like 10 9 8."},{"owner":{"account_id":26555117,"reputation":11,"user_id":20183868,"display_name":"DedSec"},"score":0,"creation_date":1666798626,"post_id":74159320,"comment_id":131022388,"body_markdown":"@Jason im not sure what is the exact error here because same build is working fine in other android versions but in Android 11 12  throw ( Invalid Key ) message whenever i try to play a encrypted video but when i add course name and key then app that accept Throw a message License added successfully but throwing error while reading video file.","body":"@Jason im not sure what is the exact error here because same build is working fine in other android versions but in Android 11 12  throw ( Invalid Key ) message whenever i try to play a encrypted video but when i add course name and key then app that accept Throw a message License added successfully but throwing error while reading video file."},{"owner":{"account_id":1008,"reputation":87078,"user_id":1338,"accept_rate":74,"display_name":"Jason"},"score":1,"creation_date":1666798971,"post_id":74159320,"comment_id":131022554,"body_markdown":"the only way to fix this is to first step through the code in the debugger and determine exactly where the problem is occurring.","body":"the only way to fix this is to first step through the code in the debugger and determine exactly where the problem is occurring."},{"owner":{"account_id":5412020,"reputation":6359,"user_id":4308455,"display_name":"Julian"},"score":0,"creation_date":1666800717,"post_id":74159320,"comment_id":131023192,"body_markdown":"We need to see the exception. Can you add the debug console output with the stack trace of the exception to the question (as text) and also let us know in which line this occurs in your sample code?","body":"We need to see the exception. Can you add the debug console output with the stack trace of the exception to the question (as text) and also let us know in which line this occurs in your sample code?"}],"owner":{"account_id":26555117,"reputation":11,"user_id":20183868,"display_name":"DedSec"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666524505,"creation_date":1666387789,"question_id":74159320,"body_markdown":"I made a DRM media player app in Xamarin which drops course.licns and pass.licns files in internal memory in app directory for reading correct key.\r\n\r\nIt&#39;s working fine in Android 10 but it&#39;s not working in above versions like Android 11 and 12 when I put course name and key then app added both files but can&#39;t read it again when I want to play a video. The same thing is working fine on lower versions.\r\n \r\n**My code:**\r\n\r\n```Csharp\r\nusing System;\r\nusing System.Text;\r\nusing System.IO;\r\nusing Xamarin.Forms;\r\nusing Xamarin.Forms.Xaml;\r\nusing Android.OS;\r\n\r\nnamespace MediaElement\r\n{\r\n    [XamlCompilation(XamlCompilationOptions.Compile)]\r\n    public partial class Add : ContentPage\r\n    {\r\n        public Add()\r\n        {\r\n            InitializeComponent();\r\n        }\r\n        async void Appears(object sender, EventArgs e)\r\n        {\r\n            try\r\n            {\r\n                this.FindByName&lt;Entry&gt;(&quot;ID&quot;).Text =Helper. GetIMEI();\r\n            }\r\n            catch (Exception e2)\r\n            {\r\n                await DisplayAlert(&quot;Error!&quot;, e2.Message, &quot;Ok&quot;);\r\n            }\r\n        }\r\n        public static string Pass()\r\n        {\r\n            return Path.Combine((string)System.Environment.GetFolderPath(System.Environment.SpecialFolder.Personal), &quot;pass.licns&quot;);\r\n\r\n            //return Path.Combine((string)System.Environment.GetFolderPath(System.Environment.SpecialFolder.LocalApplicationData), &quot;pass.licns&quot;);\r\n\r\n        }\r\n\r\n        public static string Course()\r\n        {\r\n\r\n            //return Path.Combine((string)System.Environment.GetFolderPath(System.Environment.SpecialFolder.LocalApplicationData), &quot;course.licns&quot;);\r\n            return Path.Combine((string)System.Environment.GetFolderPath(System.Environment.SpecialFolder.Personal), &quot;course.licns&quot;);\r\n        }\r\n\r\n    void Register(object sender, EventArgs e)\r\n        {\r\n            try\r\n            {\r\n                string key = this.FindByName&lt;Entry&gt;(&quot;Key&quot;).Text.Trim();\r\n                string Name = this.FindByName&lt;Entry&gt;(&quot;Name&quot;).Text.Trim();\r\n\r\n\r\n                if (key== string.Empty || Name == string.Empty) { throw new Exception(&quot;Key or Name is empty&quot;); }\r\n                if (!IsBase(key)) { throw new Exception(&quot;Invalid key!&quot;); }\r\n                if (!IsValidID(key)) { throw new Exception(&quot;This key is not designed for your ID.&quot;); }\r\n\r\n\r\n                if (File.Exists(Pass()) &amp;&amp; File.Exists(Course()))\r\n                {\r\n                    if (File.ReadAllText(Pass()).Contains(key) || File.ReadAllText(Course()).Contains(Name)){ throw new Exception(&quot;Key or Course Already exists.&quot;); }\r\n                }\r\n\r\n                File.AppendAllText(Pass(), key+&quot;,&quot;);\r\n                File.AppendAllText(Course(), Name + &quot;,&quot;);\r\n                DisplayAlert(&quot;Success&quot;, &quot;License added successfully.&quot;, &quot;Ok&quot;);\r\n            }\r\n            catch (Exception e2)\r\n            {\r\n                DisplayAlert(&quot;Error&quot;, e2.Message, &quot;Ok&quot;);\r\n            }\r\n        }\r\n\r\n        bool IsBase(string base64)\r\n        {\r\n            try\r\n            {\r\n                if (base64 == Convert.ToBase64String(Convert.FromBase64String(base64))) { return true; }\r\n            }\r\n            catch (Exception)\r\n            {\r\n               \r\n            }\r\n            return false;\r\n        }\r\n\r\n   public static bool IsValidID(string key)\r\n        {\r\n                   return Encoding.ASCII.GetString(MainPage.Decrypt(Convert.FromBase64String(key),Helper. IDkey)).Split(new string[] { &quot;,&quot; }, StringSplitOptions.RemoveEmptyEntries)[0].ToString() == Helper. GetIMEI();\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Note:**\r\n\r\nI don&#39;t want to use All file access permissions due to so many restrictions in Google Play Store and my App is only accessing a particular file. Is there a proper way for upper versions?\r\n","title":"How to read file from storage in Xamarin","body":"<p>I made a DRM media player app in Xamarin which drops course.licns and pass.licns files in internal memory in app directory for reading correct key.</p>\n<p>It's working fine in Android 10 but it's not working in above versions like Android 11 and 12 when I put course name and key then app added both files but can't read it again when I want to play a video. The same thing is working fine on lower versions.</p>\n<p><strong>My code:</strong></p>\n<pre><code>using System;\nusing System.Text;\nusing System.IO;\nusing Xamarin.Forms;\nusing Xamarin.Forms.Xaml;\nusing Android.OS;\n\nnamespace MediaElement\n{\n    [XamlCompilation(XamlCompilationOptions.Compile)]\n    public partial class Add : ContentPage\n    {\n        public Add()\n        {\n            InitializeComponent();\n        }\n        async void Appears(object sender, EventArgs e)\n        {\n            try\n            {\n                this.FindByName&lt;Entry&gt;(&quot;ID&quot;).Text =Helper. GetIMEI();\n            }\n            catch (Exception e2)\n            {\n                await DisplayAlert(&quot;Error!&quot;, e2.Message, &quot;Ok&quot;);\n            }\n        }\n        public static string Pass()\n        {\n            return Path.Combine((string)System.Environment.GetFolderPath(System.Environment.SpecialFolder.Personal), &quot;pass.licns&quot;);\n\n            //return Path.Combine((string)System.Environment.GetFolderPath(System.Environment.SpecialFolder.LocalApplicationData), &quot;pass.licns&quot;);\n\n        }\n\n        public static string Course()\n        {\n\n            //return Path.Combine((string)System.Environment.GetFolderPath(System.Environment.SpecialFolder.LocalApplicationData), &quot;course.licns&quot;);\n            return Path.Combine((string)System.Environment.GetFolderPath(System.Environment.SpecialFolder.Personal), &quot;course.licns&quot;);\n        }\n\n    void Register(object sender, EventArgs e)\n        {\n            try\n            {\n                string key = this.FindByName&lt;Entry&gt;(&quot;Key&quot;).Text.Trim();\n                string Name = this.FindByName&lt;Entry&gt;(&quot;Name&quot;).Text.Trim();\n\n\n                if (key== string.Empty || Name == string.Empty) { throw new Exception(&quot;Key or Name is empty&quot;); }\n                if (!IsBase(key)) { throw new Exception(&quot;Invalid key!&quot;); }\n                if (!IsValidID(key)) { throw new Exception(&quot;This key is not designed for your ID.&quot;); }\n\n\n                if (File.Exists(Pass()) &amp;&amp; File.Exists(Course()))\n                {\n                    if (File.ReadAllText(Pass()).Contains(key) || File.ReadAllText(Course()).Contains(Name)){ throw new Exception(&quot;Key or Course Already exists.&quot;); }\n                }\n\n                File.AppendAllText(Pass(), key+&quot;,&quot;);\n                File.AppendAllText(Course(), Name + &quot;,&quot;);\n                DisplayAlert(&quot;Success&quot;, &quot;License added successfully.&quot;, &quot;Ok&quot;);\n            }\n            catch (Exception e2)\n            {\n                DisplayAlert(&quot;Error&quot;, e2.Message, &quot;Ok&quot;);\n            }\n        }\n\n        bool IsBase(string base64)\n        {\n            try\n            {\n                if (base64 == Convert.ToBase64String(Convert.FromBase64String(base64))) { return true; }\n            }\n            catch (Exception)\n            {\n               \n            }\n            return false;\n        }\n\n   public static bool IsValidID(string key)\n        {\n                   return Encoding.ASCII.GetString(MainPage.Decrypt(Convert.FromBase64String(key),Helper. IDkey)).Split(new string[] { &quot;,&quot; }, StringSplitOptions.RemoveEmptyEntries)[0].ToString() == Helper. GetIMEI();\n        }\n\n    }\n\n}\n</code></pre>\n<p><strong>Note:</strong></p>\n<p>I don't want to use All file access permissions due to so many restrictions in Google Play Store and my App is only accessing a particular file. Is there a proper way for upper versions?</p>\n"},{"tags":["java","enums","hashmap"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1666522578,"post_id":74170555,"comment_id":130952771,"body_markdown":"Use a single loop over `foodTable` (like you already do). Inside the loop, use `priceTable.get(set.getValue())` to get the price. Use a single `println` to print the three values (`set.getKey()`, `set.getValue()`, `priceTable.get(set.getValue())`). You can use `System.out.printf(&quot;%s = %s, price = %s%n&quot;, ...)` for that.","body":"Use a single loop over <code>foodTable</code> (like you already do). Inside the loop, use <code>priceTable.get(set.getValue())</code> to get the price. Use a single <code>println</code> to print the three values (<code>set.getKey()</code>, <code>set.getValue()</code>, <code>priceTable.get(set.getValue())</code>). You can use <code>System.out.printf(&quot;%s = %s, price = %s%n&quot;, ...)</code> for that."},{"owner":{"account_id":26572947,"reputation":1,"user_id":20198893,"display_name":"Ursula"},"score":0,"creation_date":1666536281,"post_id":74170555,"comment_id":130955462,"body_markdown":"Thank you Rob. I also want to figure out whether my understanding is right here. As the key of priceTable is pointed to the value of foodTable, thus priceTable.get(set.getValue()) link the value of foodTable, and both key and value of priceTable?","body":"Thank you Rob. I also want to figure out whether my understanding is right here. As the key of priceTable is pointed to the value of foodTable, thus priceTable.get(set.getValue()) link the value of foodTable, and both key and value of priceTable?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1666541232,"post_id":74170555,"comment_id":130956582,"body_markdown":"Indeed. Compare it to a database, where `foodTable.getValue()` links to `priceTable.getKey()`.","body":"Indeed. Compare it to a database, where <code>foodTable.getValue()</code> links to <code>priceTable.getKey()</code>."}],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666523499,"creation_date":1666523499,"answer_id":74170672,"question_id":74170555,"body_markdown":"You don&#39;t need maps at all, as an enum provides a method to return its values. \r\n\r\nGiven the enum\r\n\r\n```\r\nenum Fruit {\r\n    APPLE(&quot;APPLE&quot;, 20), STRAWBERRY(&quot;STRAWBERRY&quot;, 70);\r\n    private final int price;\r\n    private final String name;\r\n    private Fruit(String name, int price) {\r\n        this.name = name;\r\n        this.price = price;\r\n    }\r\n    public String getName() { return name; }\r\n    public int getPrice() { return price; }\r\n}\t\r\n```\r\n\r\nYou can simply write:\r\n\r\n```\r\nint pos = 0;\r\nfor (Fruit fruit : Fruit.values()) {\r\n    pos++;\r\n    System.out.printf(&quot;%d = %s, price = %d%n&quot;, \r\n            pos, fruit.getName(), fruit.getPrice());\r\n}\r\n```\r\n\r\nEdit: as an enum value also knows its ordinal position you can simplify this to\r\n\r\n```\r\nfor (Fruit fruit : Fruit.values()) {\r\n    System.out.printf(&quot;%d = %s, price = %d%n&quot;, \r\n            fruit.ordinal()+1, fruit.getName(), fruit.getPrice());\r\n}\r\n```\r\n","title":"Create a Hashmap with enum class in java","body":"<p>You don't need maps at all, as an enum provides a method to return its values.</p>\n<p>Given the enum</p>\n<pre><code>enum Fruit {\n    APPLE(&quot;APPLE&quot;, 20), STRAWBERRY(&quot;STRAWBERRY&quot;, 70);\n    private final int price;\n    private final String name;\n    private Fruit(String name, int price) {\n        this.name = name;\n        this.price = price;\n    }\n    public String getName() { return name; }\n    public int getPrice() { return price; }\n}   \n</code></pre>\n<p>You can simply write:</p>\n<pre><code>int pos = 0;\nfor (Fruit fruit : Fruit.values()) {\n    pos++;\n    System.out.printf(&quot;%d = %s, price = %d%n&quot;, \n            pos, fruit.getName(), fruit.getPrice());\n}\n</code></pre>\n<p>Edit: as an enum value also knows its ordinal position you can simplify this to</p>\n<pre><code>for (Fruit fruit : Fruit.values()) {\n    System.out.printf(&quot;%d = %s, price = %d%n&quot;, \n            fruit.ordinal()+1, fruit.getName(), fruit.getPrice());\n}\n</code></pre>\n"}],"owner":{"account_id":26572947,"reputation":1,"user_id":20198893,"display_name":"Ursula"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666523499,"creation_date":1666522378,"question_id":74170555,"body_markdown":"I have a question which requires me to create an enum class with two fields, name (String), and then create a hashmap to generate the output with foreach loops method here.\r\n\r\nExpected output:\r\n\r\n1 = APPLE, price = 20\r\n\r\n2 = STRAWBERRY, price = 70\r\n    \r\nI try to create two hashmaps to get the output and for loops to get the value but the output is not what I want. May I know how to print the price with the relevant fruits only?\r\n    \r\nMy output:\r\n\r\n1 = APPLE\r\n\r\n2 = STRAWBERRY\r\n\r\n,price=20\r\n\r\n,price=70\r\n   \r\n\r\nEnum code here:   \r\n    \r\n    enum Fruit {\r\n                APPLE(&quot;APPLE&quot;, 20), STRAWBERRY(&quot;STRAWBERRY&quot;, 70);\r\n                private final int price;\r\n                private final String name;\r\n                private Fruit(String name, int price) {\r\n                    this.name = name;\r\n                    this.price = price;\r\n                }\r\n            }\r\nmain class here\r\n\r\n            public static void main(String[] args) {\r\n               \r\n                HashMap&lt;Integer, Fruit&gt; foodTable = new HashMap&lt;&gt;();\r\n                HashMap&lt;Fruit, Integer&gt; priceTable = new HashMap&lt;&gt;();\r\n                foodTable.put(1, Fruit.APPLE);\r\n                priceTable.put(Fruit.APPLE, Fruit.APPLE.price);\r\n                foodTable.put(2, Fruit.STRAWBERRY);\r\n                priceTable.put(Fruit.STRAWBERRY, Fruit.STRAWBERRY.price);\r\n                for (Map.Entry&lt;Integer, Fruit&gt; set : foodTable.entrySet()) {\r\n                    System.out.println(set.getKey() + &quot; = &quot; + set.getValue());\r\n                }\r\n                for (Map.Entry&lt;Fruit, Integer&gt; set1 : priceTable.entrySet()) {\r\n                    System.out.println(&quot;,&quot; +\r\n                            &quot;price&quot; + &quot;=&quot; + set1.getValue());\r\n                }\r\n            }\r\n\r\n\r\n```","title":"Create a Hashmap with enum class in java","body":"<p>I have a question which requires me to create an enum class with two fields, name (String), and then create a hashmap to generate the output with foreach loops method here.</p>\n<p>Expected output:</p>\n<p>1 = APPLE, price = 20</p>\n<p>2 = STRAWBERRY, price = 70</p>\n<p>I try to create two hashmaps to get the output and for loops to get the value but the output is not what I want. May I know how to print the price with the relevant fruits only?</p>\n<p>My output:</p>\n<p>1 = APPLE</p>\n<p>2 = STRAWBERRY</p>\n<p>,price=20</p>\n<p>,price=70</p>\n<p>Enum code here:</p>\n<pre><code>enum Fruit {\n            APPLE(&quot;APPLE&quot;, 20), STRAWBERRY(&quot;STRAWBERRY&quot;, 70);\n            private final int price;\n            private final String name;\n            private Fruit(String name, int price) {\n                this.name = name;\n                this.price = price;\n            }\n        }\n</code></pre>\n<p>main class here</p>\n<pre><code>        public static void main(String[] args) {\n           \n            HashMap&lt;Integer, Fruit&gt; foodTable = new HashMap&lt;&gt;();\n            HashMap&lt;Fruit, Integer&gt; priceTable = new HashMap&lt;&gt;();\n            foodTable.put(1, Fruit.APPLE);\n            priceTable.put(Fruit.APPLE, Fruit.APPLE.price);\n            foodTable.put(2, Fruit.STRAWBERRY);\n            priceTable.put(Fruit.STRAWBERRY, Fruit.STRAWBERRY.price);\n            for (Map.Entry&lt;Integer, Fruit&gt; set : foodTable.entrySet()) {\n                System.out.println(set.getKey() + &quot; = &quot; + set.getValue());\n            }\n            for (Map.Entry&lt;Fruit, Integer&gt; set1 : priceTable.entrySet()) {\n                System.out.println(&quot;,&quot; +\n                        &quot;price&quot; + &quot;=&quot; + set1.getValue());\n            }\n        }\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-boot","spring-security"],"comments":[{"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"score":0,"creation_date":1506156001,"post_id":46377708,"comment_id":79713972,"body_markdown":"So, what is your question ?","body":"So, what is your question ?"},{"owner":{"account_id":9227487,"reputation":1065,"user_id":6854812,"accept_rate":12,"display_name":"Manu"},"score":0,"creation_date":1506156221,"post_id":46377708,"comment_id":79714027,"body_markdown":"@Ravi How can I code a logout ?","body":"@Ravi How can I code a logout ?"}],"answers":[{"comments":[{"owner":{"account_id":4547518,"reputation":1684,"user_id":3693606,"accept_rate":50,"display_name":"ArslanAnjum"},"score":1,"creation_date":1506161207,"post_id":46378157,"comment_id":79715264,"body_markdown":"Basically it invalidates the session and clears authentication from the security context.","body":"Basically it invalidates the session and clears authentication from the security context."}],"tags":[],"owner":{"account_id":4547518,"reputation":1684,"user_id":3693606,"accept_rate":50,"display_name":"ArslanAnjum"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1506159467,"creation_date":1506159467,"answer_id":46378157,"question_id":46377708,"body_markdown":"    @GetMapping(&quot;/logout&quot;)\r\n    \tpublic String getLogoutPage(HttpServletRequest request, HttpServletResponse response){\r\n    \t\t\r\n    \t\tAuthentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n    \t\tif (authentication != null)\r\n    \t\t\tnew SecurityContextLogoutHandler().logout(request, response, authentication);\r\n    \t\t\r\n    \t\treturn &quot;redirect:/login&quot;;\r\n    \t}","title":"How to create logout with springboot security","body":"<pre><code>@GetMapping(\"/logout\")\n    public String getLogoutPage(HttpServletRequest request, HttpServletResponse response){\n\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n        if (authentication != null)\n            new SecurityContextLogoutHandler().logout(request, response, authentication);\n\n        return \"redirect:/login\";\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9592064,"reputation":5123,"user_id":7122593,"accept_rate":78,"display_name":"Barath"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506168493,"creation_date":1506168493,"answer_id":46379401,"question_id":46377708,"body_markdown":"Another solution is to use spring security adapter.\r\n\r\ncheck the docs : https://docs.spring.io/spring-security/site/docs/4.2.4.BUILD-SNAPSHOT/reference/htmlsingle/#jc-logout\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n    \r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http               \r\n                    .logout().logoutUrl(&quot;/logout.html&quot;);\r\n                   \r\n        }\r\n    }","title":"How to create logout with springboot security","body":"<p>Another solution is to use spring security adapter.</p>\n\n<p>check the docs : <a href=\"https://docs.spring.io/spring-security/site/docs/4.2.4.BUILD-SNAPSHOT/reference/htmlsingle/#jc-logout\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/site/docs/4.2.4.BUILD-SNAPSHOT/reference/htmlsingle/#jc-logout</a></p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http               \n                .logout().logoutUrl(\"/logout.html\");\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19355538,"reputation":41,"user_id":14151950,"display_name":"Konradek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666523406,"creation_date":1666523406,"answer_id":74170660,"question_id":46377708,"body_markdown":"Without WebSecuirtyConfigurerAdapter:\r\n\r\n```\r\n@Configuration\r\n@AllArgsConstructor\r\npublic class SecurityConfig {\r\n\r\n    private final CustomAuthenticationProvider authenticationProvider;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                .csrf().disable()\r\n                .logout()\r\n                .logoutUrl(&quot;/logout&quot;)\r\n                .invalidateHttpSession(true)\r\n                .deleteCookies(&quot;JSESSIONID&quot;)\r\n                .and()\r\n                .build();\r\n    }\r\n}\r\n```","title":"How to create logout with springboot security","body":"<p>Without WebSecuirtyConfigurerAdapter:</p>\n<pre><code>@Configuration\n@AllArgsConstructor\npublic class SecurityConfig {\n\n    private final CustomAuthenticationProvider authenticationProvider;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        return http\n                .csrf().disable()\n                .logout()\n                .logoutUrl(&quot;/logout&quot;)\n                .invalidateHttpSession(true)\n                .deleteCookies(&quot;JSESSIONID&quot;)\n                .and()\n                .build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9227487,"reputation":1065,"user_id":6854812,"accept_rate":12,"display_name":"Manu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3568,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":46378157,"answer_count":3,"score":0,"last_activity_date":1666523406,"creation_date":1506155939,"question_id":46377708,"body_markdown":"Here is my login. I would implement a logout method with `path(&quot;/logout&quot;)` so that the current user-session go really logout. I am using Spring Security\r\n\r\n    @POST\r\n    @Path(&quot;/login&quot;)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Response login(User credentials) {\r\n\r\n        if(credentials == null){\r\n            return Response.status(Response.Status.BAD_REQUEST).build();\r\n        }\r\n\r\n        try {\r\n            User userInfo = new User();\r\n            UserDetails userDetails = userDetailsService.loadUserByUsername(credentials.getUsername\r\n\r\n            // Create authRequest Object with User ind DB, Credentials from Web-client\r\n            UsernamePasswordAuthenticationToken authRequest = new UsernamePasswordAuthenticationToken(userDetails, credentials.getPassword(), userDetails.getAuthorities());\r\n\r\n            // Authenticate the user\r\n            Authentication authentication = authenticationManager.authenticate(authRequest);\r\n            SecurityContext securityContext = SecurityContextHolder.getContext();\r\n            securityContext.setAuthentication(authentication);\r\n\r\n            userInfo.setUsername(authentication.getName());\r\n\r\n            return Response.status(Response.Status.OK).entity(&quot;Login succesfull&quot;).build();\r\n        }\r\n        catch (Exception e) {\r\n            SecurityContextHolder.getContext().setAuthentication(null);\r\n            return Response.status(Response.Status.UNAUTHORIZED).entity(&quot;Login failed&quot;).build();\r\n        }\r\n    }","title":"How to create logout with springboot security","body":"<p>Here is my login. I would implement a logout method with <code>path(\"/logout\")</code> so that the current user-session go really logout. I am using Spring Security</p>\n\n<pre><code>@POST\n@Path(\"/login\")\n@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.APPLICATION_JSON)\npublic Response login(User credentials) {\n\n    if(credentials == null){\n        return Response.status(Response.Status.BAD_REQUEST).build();\n    }\n\n    try {\n        User userInfo = new User();\n        UserDetails userDetails = userDetailsService.loadUserByUsername(credentials.getUsername\n\n        // Create authRequest Object with User ind DB, Credentials from Web-client\n        UsernamePasswordAuthenticationToken authRequest = new UsernamePasswordAuthenticationToken(userDetails, credentials.getPassword(), userDetails.getAuthorities());\n\n        // Authenticate the user\n        Authentication authentication = authenticationManager.authenticate(authRequest);\n        SecurityContext securityContext = SecurityContextHolder.getContext();\n        securityContext.setAuthentication(authentication);\n\n        userInfo.setUsername(authentication.getName());\n\n        return Response.status(Response.Status.OK).entity(\"Login succesfull\").build();\n    }\n    catch (Exception e) {\n        SecurityContextHolder.getContext().setAuthentication(null);\n        return Response.status(Response.Status.UNAUTHORIZED).entity(\"Login failed\").build();\n    }\n}\n</code></pre>\n"},{"tags":["java","base64"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1463471537,"post_id":37269838,"comment_id":62066418,"body_markdown":"I think we need more information. Is this an HTML form POST with `multipart/form-data` encoding you are talking about? If so, what technology are you using on server side to read that? Please edit question to clarify.","body":"I think we need more information. Is this an HTML form POST with <code>multipart&#47;form-data</code> encoding you are talking about? If so, what technology are you using on server side to read that? Please edit question to clarify."},{"owner":{"account_id":2637029,"reputation":673,"user_id":2281439,"accept_rate":61,"display_name":"user2281439"},"score":0,"creation_date":1463472112,"post_id":37269838,"comment_id":62066782,"body_markdown":"I&#39;ve edited question.","body":"I&#39;ve edited question."},{"owner":{"account_id":8232459,"reputation":2307,"user_id":6192747,"display_name":"Stian Skjelstad"},"score":0,"creation_date":1463472910,"post_id":37269838,"comment_id":62067289,"body_markdown":"If you want to be able to receive files, i so not think you can use x-www-form-urlencoded. multipart/form-data is commonly used for this","body":"If you want to be able to receive files, i so not think you can use x-www-form-urlencoded. multipart/form-data is commonly used for this"},{"owner":{"account_id":2637029,"reputation":673,"user_id":2281439,"accept_rate":61,"display_name":"user2281439"},"score":0,"creation_date":1463475935,"post_id":37269838,"comment_id":62069226,"body_markdown":"And if I can receive messages from mobile devices? Will it be ok to post this multipart/form-data from device? Is there any advantages with multipart/form-data ?","body":"And if I can receive messages from mobile devices? Will it be ok to post this multipart/form-data from device? Is there any advantages with multipart/form-data ?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1463501535,"post_id":37269838,"comment_id":62088031,"body_markdown":"If it is a Spring *Web Service*, why are you using HTML Form Post encoding (`application/x-www-form-urlencoded` or `multipart/form-data`)? A web service would usually receive a SOAP, XML or JSON payload.","body":"If it is a Spring <i>Web Service</i>, why are you using HTML Form Post encoding (<code>application&#47;x-www-form-urlencoded</code> or <code>multipart&#47;form-data</code>)? A web service would usually receive a SOAP, XML or JSON payload."}],"answers":[{"comments":[{"owner":{"account_id":2637029,"reputation":673,"user_id":2281439,"accept_rate":61,"display_name":"user2281439"},"score":0,"creation_date":1463583437,"post_id":37270606,"comment_id":62128432,"body_markdown":"I added file name as parameter to request","body":"I added file name as parameter to request"}],"tags":[],"owner":{"account_id":8183678,"reputation":938,"user_id":6160065,"display_name":"uniknow"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1463472774,"creation_date":1463472774,"answer_id":37270606,"question_id":37269838,"body_markdown":"If the filename/extension are not included within the base64 encoded string (for example in the message) I don&#39;t think there is a way to restore it, (can be context depending). Using another encoding type won&#39;t change that; e.g. the client has to specify the filename/extension and include it in the request (either as parameter or within the encoded content) before the server can use it.","title":"Restore filename and extension from base64 encoding","body":"<p>If the filename/extension are not included within the base64 encoded string (for example in the message) I don't think there is a way to restore it, (can be context depending). Using another encoding type won't change that; e.g. the client has to specify the filename/extension and include it in the request (either as parameter or within the encoded content) before the server can use it.</p>\n"},{"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1463501392,"post_id":37270711,"comment_id":62087930,"body_markdown":"`response.setHeader()` is for a response from the server, so a file download. The question is about a file *upload*.","body":"<code>response.setHeader()</code> is for a response from the server, so a file download. The question is about a file <i>upload</i>."}],"tags":[],"owner":{"account_id":104568,"reputation":4517,"user_id":279511,"accept_rate":76,"display_name":"tbsalling"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1463473113,"creation_date":1463473113,"answer_id":37270711,"question_id":37269838,"body_markdown":"In the HTTP request being POST&#39;ed, you need to transfer the filename separate from the message body using the content-disposition header field. Like this:\r\n\r\n    response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=&quot; + filename );\r\n\r\nIf the POST&#39;ing side does not transmit this header field, there no way to determine the filename. Unless you have agreed some format of the base64 encoded payload which contains it.","title":"Restore filename and extension from base64 encoding","body":"<p>In the HTTP request being POST'ed, you need to transfer the filename separate from the message body using the content-disposition header field. Like this:</p>\n\n<pre><code>response.setHeader(\"Content-Disposition\", \"attachment;filename=\" + filename );\n</code></pre>\n\n<p>If the POST'ing side does not transmit this header field, there no way to determine the filename. Unless you have agreed some format of the base64 encoded payload which contains it.</p>\n"},{"tags":[],"owner":{"account_id":10500127,"reputation":1609,"user_id":7739083,"display_name":"Stempler"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666523296,"creation_date":1519116952,"answer_id":48881193,"question_id":37269838,"body_markdown":"Using `Apache Tika` you can get the file mime-type for most common files, and from that you can extract the file extension.\r\n \r\nThis will work great if know that you only expect or wish to allow certain types.\r\nView almost all common mime-types [here][1].\r\n\r\nNote that `Apache Tika` might have [some issue with thread safety][2].\r\n\r\nThis is an example with a few popular mime-types and their correlating file extension:\r\n\r\n   \r\n\r\n    import org.apache.tika.Tika;\r\n    \r\n    import javax.xml.bind.DatatypeConverter;\r\n    import java.io.IOException;\r\n    import java.util.Collections;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class FileTypeResolver {\r\n    \r\n        private static final Map&lt;String, String&gt; mimeTypeMap;\r\n        static {\r\n            Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n            map.put(&quot;application/pdf&quot;, &quot;pdf&quot;);\r\n            map.put(&quot;application/msword&quot;, &quot;doc&quot;);\r\n            map.put(&quot;application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot;, &quot;docx&quot;);\r\n            map.put(&quot;application/vnd.ms-excel&quot;, &quot;xls&quot;);\r\n            mimeTypeMap = Collections.unmodifiableMap(map);\r\n        }\r\n    \r\n        private static String getFileExtension(String base64) throws IOException {\r\n    \r\n            byte[] base64Bytes = DatatypeConverter.parseBase64Binary(base64);\r\n            Tika tika = new Tika();\r\n            String fileMimeType = tika.detect(base64Bytes);\r\n            return mimeTypeMap.get(fileMimeType);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://www.freeformatter.com/mime-types-list.html\r\n  [2]: https://stackoverflow.com/questions/10190980/spring-tika-integration-is-my-approach-thread-safe","title":"Restore filename and extension from base64 encoding","body":"<p>Using <code>Apache Tika</code> you can get the file mime-type for most common files, and from that you can extract the file extension.</p>\n<p>This will work great if know that you only expect or wish to allow certain types.\nView almost all common mime-types <a href=\"https://www.freeformatter.com/mime-types-list.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Note that <code>Apache Tika</code> might have <a href=\"https://stackoverflow.com/questions/10190980/spring-tika-integration-is-my-approach-thread-safe\">some issue with thread safety</a>.</p>\n<p>This is an example with a few popular mime-types and their correlating file extension:</p>\n<pre><code>import org.apache.tika.Tika;\n\nimport javax.xml.bind.DatatypeConverter;\nimport java.io.IOException;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class FileTypeResolver {\n\n    private static final Map&lt;String, String&gt; mimeTypeMap;\n    static {\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;application/pdf&quot;, &quot;pdf&quot;);\n        map.put(&quot;application/msword&quot;, &quot;doc&quot;);\n        map.put(&quot;application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot;, &quot;docx&quot;);\n        map.put(&quot;application/vnd.ms-excel&quot;, &quot;xls&quot;);\n        mimeTypeMap = Collections.unmodifiableMap(map);\n    }\n\n    private static String getFileExtension(String base64) throws IOException {\n\n        byte[] base64Bytes = DatatypeConverter.parseBase64Binary(base64);\n        Tika tika = new Tika();\n        String fileMimeType = tika.detect(base64Bytes);\n        return mimeTypeMap.get(fileMimeType);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2637029,"reputation":673,"user_id":2281439,"accept_rate":61,"display_name":"user2281439"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17037,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":37270606,"answer_count":3,"score":3,"last_activity_date":1666523296,"creation_date":1463470358,"question_id":37269838,"body_markdown":"I need write server side part to post a forum reply. I receive a post request with reply text, and attachment which is a base64 encoded string. Is there a way to restore filename and extension from this base64 string, or I need to have them as additional params in request? Is it a right way to post attachment as as base64 string?\r\n\r\nEDIT\r\n\r\nIt&#39;s a spring web service, I&#39;m expecting Post request. For now I&#39;m using x-www-form-urlencoded encoding and expect message and encoded file to be a part of form body. But encoding type can be changed if needed.\r\nOn server side I just retrieve it as requestParams map, and extract encoded String from this map.","title":"Restore filename and extension from base64 encoding","body":"<p>I need write server side part to post a forum reply. I receive a post request with reply text, and attachment which is a base64 encoded string. Is there a way to restore filename and extension from this base64 string, or I need to have them as additional params in request? Is it a right way to post attachment as as base64 string?</p>\n\n<p>EDIT</p>\n\n<p>It's a spring web service, I'm expecting Post request. For now I'm using x-www-form-urlencoded encoding and expect message and encoded file to be a part of form body. But encoding type can be changed if needed.\nOn server side I just retrieve it as requestParams map, and extract encoded String from this map.</p>\n"},{"tags":["java","spring-data-jpa","jpa-2.0","criteria","criteria-api"],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666523021,"creation_date":1666523021,"answer_id":74170623,"question_id":74133714,"body_markdown":"Because Strings can contain SQL and Integers cannot, there is no need to bind from a security aspect point of view (SQL injection).\r\n\r\nFrom hibernate documentation of [literal_handling_mode](https://docs.jboss.org/hibernate/orm/5.3/javadocs/org/hibernate/query/criteria/LiteralHandlingMode.html):\r\n\r\n&gt; This enum defines how literals are handled by JPA Criteria. By default (AUTO), Criteria queries uses bind parameters for any literal that is not a numeric value. However, to increase the likelihood of JDBC statement caching, you might want to use bind parameters for numeric values too. The BIND mode will use bind variables for any literal value. The INLINE mode will inline literal values as-is. To prevent SQL injection, never use INLINE with String variables. Always use constants with the INLINE mode.\r\n\r\nIn issue [HHH-9576](https://hibernate.atlassian.net/browse/HHH-9576) a new parameter was added to fix this issue, applicable since version 5.2.12\r\n\r\n```\r\n&lt;property name=&quot;hibernate.criteria.literal_handling_mode&quot; value=&quot;bind&quot;/&gt;\r\n```\r\nor in spring boot application.properties you can use\r\n```\r\nspring.jpa.properties.hibernate.criteria.literal_handling_mode=bind\r\n```\r\n\r\nAfter adding configuration your both query will look the same with the bind parameter.\r\n\r\n```\r\nselect parent0_.parent_id as parent_i1_2_, parent0_.parent_name as parent_n2_2_ from parent parent0_ inner join child children1_ on parent0_.parent_id=children1_.parent_parent_id where children1_.child_id=?\r\nbinding parameter [1] as [INTEGER] - [1]\r\nselect parent0_.parent_id as parent_i1_2_, parent0_.parent_name as parent_n2_2_ from parent parent0_ inner join child children1_ on parent0_.parent_id=children1_.parent_parent_id where children1_.child_id=?\r\nbinding parameter [1] as [INTEGER] - [1]","title":"JPA CriteriaQuery Generated SQL with hardcoded parameter on nested entity id","body":"<p>Because Strings can contain SQL and Integers cannot, there is no need to bind from a security aspect point of view (SQL injection).</p>\n<p>From hibernate documentation of <a href=\"https://docs.jboss.org/hibernate/orm/5.3/javadocs/org/hibernate/query/criteria/LiteralHandlingMode.html\" rel=\"nofollow noreferrer\">literal_handling_mode</a>:</p>\n<blockquote>\n<p>This enum defines how literals are handled by JPA Criteria. By default (AUTO), Criteria queries uses bind parameters for any literal that is not a numeric value. However, to increase the likelihood of JDBC statement caching, you might want to use bind parameters for numeric values too. The BIND mode will use bind variables for any literal value. The INLINE mode will inline literal values as-is. To prevent SQL injection, never use INLINE with String variables. Always use constants with the INLINE mode.</p>\n</blockquote>\n<p>In issue <a href=\"https://hibernate.atlassian.net/browse/HHH-9576\" rel=\"nofollow noreferrer\">HHH-9576</a> a new parameter was added to fix this issue, applicable since version 5.2.12</p>\n<pre><code>&lt;property name=&quot;hibernate.criteria.literal_handling_mode&quot; value=&quot;bind&quot;/&gt;\n</code></pre>\n<p>or in spring boot application.properties you can use</p>\n<pre><code>spring.jpa.properties.hibernate.criteria.literal_handling_mode=bind\n</code></pre>\n<p>After adding configuration your both query will look the same with the bind parameter.</p>\n<pre><code>select parent0_.parent_id as parent_i1_2_, parent0_.parent_name as parent_n2_2_ from parent parent0_ inner join child children1_ on parent0_.parent_id=children1_.parent_parent_id where children1_.child_id=?\nbinding parameter [1] as [INTEGER] - [1]\nselect parent0_.parent_id as parent_i1_2_, parent0_.parent_name as parent_n2_2_ from parent parent0_ inner join child children1_ on parent0_.parent_id=children1_.parent_parent_id where children1_.child_id=?\nbinding parameter [1] as [INTEGER] - [1]\n</code></pre>\n"}],"owner":{"account_id":10562047,"reputation":28,"user_id":7781531,"display_name":"efilho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74170623,"answer_count":1,"score":0,"last_activity_date":1666523021,"creation_date":1666231853,"question_id":74133714,"body_markdown":"I&#39;ve been studying SpringData JPA and came across with this weird behavior when using CriteriaQuery to find a given entity by its child entity&#39;s Id, I&#39;ve noticed a hardcoded **child_id** parameter in the generated SQL:\r\n\r\n    Hibernate: select parent0_.parent_id as parent_i1_4_, parent0_.parent_name as parent_n2_4_, parent0_.parent_type_parent_type_id as parent_t3_4_ from parent parent0_ inner join child children1_ on parent0_.parent_id=children1_.parent_parent_id where children1_.child_id=1\r\n    \r\n    Hibernate: select parent0_.parent_id as parent_i1_4_, parent0_.parent_name as parent_n2_4_, parent0_.parent_type_parent_type_id as parent_t3_4_ from parent parent0_ inner join child children1_ on parent0_.parent_id=children1_.parent_parent_id where children1_.child_id=?\r\n\r\nThe java code:\r\n\r\n**Parent**\r\n```\r\n@Data\r\n@Entity\r\npublic class Parent {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer parentId;\r\n\r\n\tprivate String parentName;\r\n\r\n\t@OneToMany(mappedBy = &quot;parent&quot;)\r\n\tprivate List&lt;Child&gt; children;\r\n\r\n}\r\n```\r\n\r\n**Child**\r\n```\r\n@Builder\r\n@Data\r\n@Entity\r\npublic class Child {\r\n\r\n\t@Id\r\n\tprivate Integer childId;\r\n\r\n\tprivate String childName;\r\n\r\n\t@ManyToOne\r\n\tprivate Parent parent;\r\n\r\n}\r\n```\r\n\r\n**ParentDAO**\r\n```\r\n@Repository\r\npublic class ParentDAO {\r\n\r\n\tprivate EntityManager em;\r\n\r\n\tpublic ParentDAO(EntityManager em) {\r\n\t\tthis.em = em;\r\n\t}\r\n\r\n\tpublic List&lt;Parent&gt; findByChildId(Integer childId) {\r\n\r\n\t\tCriteriaBuilder cb = em.getCriteriaBuilder();\r\n\t\tCriteriaQuery&lt;Parent&gt; cq = cb.createQuery(Parent.class);\r\n\t\tRoot&lt;Parent&gt; root = cq.from(Parent.class);\r\n\t\tList&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n\r\n\t\tpredicates.add(cb.equal(root.join(&quot;children&quot;).get(&quot;childId&quot;), childId));\r\n\t\tcq.where(predicates.toArray(new Predicate[0]));\r\n\r\n\t\treturn em.createQuery(cq).getResultList();\r\n\t}\r\n\r\n\tpublic List&lt;Parent&gt; findByChild(Child child) {\r\n\r\n\t\tCriteriaBuilder cb = em.getCriteriaBuilder();\r\n\t\tCriteriaQuery&lt;Parent&gt; cq = cb.createQuery(Parent.class);\r\n\t\tRoot&lt;Parent&gt; root = cq.from(Parent.class);\r\n\t\tList&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n\r\n\t\tpredicates.add(cb.equal(root.join(&quot;children&quot;), child));\r\n\t\tcq.where(predicates.toArray(new Predicate[0]));\r\n\r\n\t\treturn em.createQuery(cq).getResultList();\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**SpringDataApplication**\r\n```\r\n@SpringBootApplication\r\npublic class SpringDataApplication implements CommandLineRunner {\r\n\r\n\tprivate ParentDAO parentDAO;\r\n\r\n\tpublic SpringDataApplication(ParentDAO parentDAO) {\r\n\t\tthis.parentDAO = parentDAO;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SpringDataApplication.class, args);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run(String... args) throws Exception {\r\n\t\tparentDAO.findByChildId(1);\r\n\t\tparentDAO.findByChild(Child.builder().childId(1).build());\r\n\t}\r\n}\r\n```\r\n\r\nIt&#39;s not a big deal since the goal could be achieved with the **findByChild** method, I&#39;m just curious about this situation. Best regards!","title":"JPA CriteriaQuery Generated SQL with hardcoded parameter on nested entity id","body":"<p>I've been studying SpringData JPA and came across with this weird behavior when using CriteriaQuery to find a given entity by its child entity's Id, I've noticed a hardcoded <strong>child_id</strong> parameter in the generated SQL:</p>\n<pre><code>Hibernate: select parent0_.parent_id as parent_i1_4_, parent0_.parent_name as parent_n2_4_, parent0_.parent_type_parent_type_id as parent_t3_4_ from parent parent0_ inner join child children1_ on parent0_.parent_id=children1_.parent_parent_id where children1_.child_id=1\n\nHibernate: select parent0_.parent_id as parent_i1_4_, parent0_.parent_name as parent_n2_4_, parent0_.parent_type_parent_type_id as parent_t3_4_ from parent parent0_ inner join child children1_ on parent0_.parent_id=children1_.parent_parent_id where children1_.child_id=?\n</code></pre>\n<p>The java code:</p>\n<p><strong>Parent</strong></p>\n<pre><code>@Data\n@Entity\npublic class Parent {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer parentId;\n\n    private String parentName;\n\n    @OneToMany(mappedBy = &quot;parent&quot;)\n    private List&lt;Child&gt; children;\n\n}\n</code></pre>\n<p><strong>Child</strong></p>\n<pre><code>@Builder\n@Data\n@Entity\npublic class Child {\n\n    @Id\n    private Integer childId;\n\n    private String childName;\n\n    @ManyToOne\n    private Parent parent;\n\n}\n</code></pre>\n<p><strong>ParentDAO</strong></p>\n<pre><code>@Repository\npublic class ParentDAO {\n\n    private EntityManager em;\n\n    public ParentDAO(EntityManager em) {\n        this.em = em;\n    }\n\n    public List&lt;Parent&gt; findByChildId(Integer childId) {\n\n        CriteriaBuilder cb = em.getCriteriaBuilder();\n        CriteriaQuery&lt;Parent&gt; cq = cb.createQuery(Parent.class);\n        Root&lt;Parent&gt; root = cq.from(Parent.class);\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n\n        predicates.add(cb.equal(root.join(&quot;children&quot;).get(&quot;childId&quot;), childId));\n        cq.where(predicates.toArray(new Predicate[0]));\n\n        return em.createQuery(cq).getResultList();\n    }\n\n    public List&lt;Parent&gt; findByChild(Child child) {\n\n        CriteriaBuilder cb = em.getCriteriaBuilder();\n        CriteriaQuery&lt;Parent&gt; cq = cb.createQuery(Parent.class);\n        Root&lt;Parent&gt; root = cq.from(Parent.class);\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n\n        predicates.add(cb.equal(root.join(&quot;children&quot;), child));\n        cq.where(predicates.toArray(new Predicate[0]));\n\n        return em.createQuery(cq).getResultList();\n    }\n\n}\n</code></pre>\n<p><strong>SpringDataApplication</strong></p>\n<pre><code>@SpringBootApplication\npublic class SpringDataApplication implements CommandLineRunner {\n\n    private ParentDAO parentDAO;\n\n    public SpringDataApplication(ParentDAO parentDAO) {\n        this.parentDAO = parentDAO;\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringDataApplication.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        parentDAO.findByChildId(1);\n        parentDAO.findByChild(Child.builder().childId(1).build());\n    }\n}\n</code></pre>\n<p>It's not a big deal since the goal could be achieved with the <strong>findByChild</strong> method, I'm just curious about this situation. Best regards!</p>\n"},{"tags":["java","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666522552,"creation_date":1666522552,"answer_id":74170575,"question_id":74169659,"body_markdown":"You didn&#39;t enable the [Message Content Intent](https://jda.wiki/using-jda/troubleshooting/#cannot-get-message-content-attempting-to-access-message-content-without-gatewayintent). You should also consider updating, JDA is currently on version `5.0.0-alpha.21`.","title":"My discord bot array is empty. jda doesn&#39;t get a message","body":"<p>You didn't enable the <a href=\"https://jda.wiki/using-jda/troubleshooting/#cannot-get-message-content-attempting-to-access-message-content-without-gatewayintent\" rel=\"nofollow noreferrer\">Message Content Intent</a>. You should also consider updating, JDA is currently on version <code>5.0.0-alpha.21</code>.</p>\n"}],"owner":{"account_id":26707214,"reputation":1,"user_id":20313198,"display_name":"ykd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666522552,"creation_date":1666513689,"question_id":74169659,"body_markdown":"    public class MainBot{\r\n    \tpublic static String prefix = &quot;!&quot;;\r\n    \t\r\n    \tpublic static void main(String[] args) throws LoginException {\r\n    \t\tEnumSet&lt;GatewayIntent&gt; intents = EnumSet.of(\r\n    \t\t\t\t  GatewayIntent.GUILD_MEMBERS,\r\n    \t\t\t\t  GatewayIntent.GUILD_EMOJIS,\r\n    \t\t\t\t  GatewayIntent.GUILD_VOICE_STATES,\r\n    \t\t\t\t  GatewayIntent.GUILD_MESSAGES\r\n    \t\t\t\t);\r\n    \t\t\r\n            JDA jda = JDABuilder.createDefault(&quot;:D&quot;, intents)\r\n            \t\t\t\t\t.addEventListeners(new HorseCarculator())\r\n            \t\t\t\t\t.build();\r\n        }\r\n    \t\r\n    }\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    import javax.annotation.Nonnull;\r\n    \r\n    import net.dv8tion.jda.api.events.message.guild.GuildMessageReceivedEvent;\r\n    import net.dv8tion.jda.api.hooks.ListenerAdapter;\r\n    \r\n    public class HorseCarculator extends ListenerAdapter{\r\n    \t\r\n        public void onGuildMessageReceived(@Nonnull GuildMessageReceivedEvent event) {\r\n    \t\t\r\n        \tString[] args = event.getMessage().getContentRaw().split(&quot;&quot;);\r\n    \t\tSystem.out.println(Arrays.toString(args));\r\n\r\n\r\n\r\n\r\nIf you send a message, the array is empty.\r\nhelp me\r\n\r\n","title":"My discord bot array is empty. jda doesn&#39;t get a message","body":"<pre><code>public class MainBot{\n    public static String prefix = &quot;!&quot;;\n    \n    public static void main(String[] args) throws LoginException {\n        EnumSet&lt;GatewayIntent&gt; intents = EnumSet.of(\n                  GatewayIntent.GUILD_MEMBERS,\n                  GatewayIntent.GUILD_EMOJIS,\n                  GatewayIntent.GUILD_VOICE_STATES,\n                  GatewayIntent.GUILD_MESSAGES\n                );\n        \n        JDA jda = JDABuilder.createDefault(&quot;:D&quot;, intents)\n                            .addEventListeners(new HorseCarculator())\n                            .build();\n    }\n    \n}\n\nimport java.util.Arrays;\n\nimport javax.annotation.Nonnull;\n\nimport net.dv8tion.jda.api.events.message.guild.GuildMessageReceivedEvent;\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\n\npublic class HorseCarculator extends ListenerAdapter{\n    \n    public void onGuildMessageReceived(@Nonnull GuildMessageReceivedEvent event) {\n        \n        String[] args = event.getMessage().getContentRaw().split(&quot;&quot;);\n        System.out.println(Arrays.toString(args));\n</code></pre>\n<p>If you send a message, the array is empty.\nhelp me</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1666519012,"post_id":74170100,"comment_id":130952100,"body_markdown":"What have you tried and why does your program give you the wrong result? Where are you stuck?","body":"What have you tried and why does your program give you the wrong result? Where are you stuck?"}],"answers":[{"comments":[{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1671305566,"post_id":74170447,"comment_id":132072734,"body_markdown":"This is exactly the [example] we asked for in &quot;What have you tried ?&quot;.","body":"This is exactly the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> we asked for in &quot;What have you tried ?&quot;."}],"tags":[],"owner":{"account_id":24989359,"reputation":45,"user_id":18850747,"display_name":"Abdel"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1666521389,"creation_date":1666521389,"answer_id":74170447,"question_id":74170100,"body_markdown":"i was eable to figure it out finally: \r\n\r\n    private Set&lt;Long&gt; get(String chemin, long id){\r\n    \t\tString idOrg = String.valueOf(id);\r\n    \t\tint index=chemin.indexOf(idOrg);\r\n    \t\tString substr= chemin.substring(index+idOrg.length());\r\n    \t\treturn Arrays.stream(substr.split(&quot;/&quot;))\r\n    \t\t\t\t.filter(StringUtils::isNotBlank)\r\n    \t\t\t\t.map(Long::valueOf)\r\n    \t\t\t\t.collect(Collectors.toSet());\r\n    \r\n    \t}\r\n\r\n\tSet&lt;Long&gt; ids = new HashSet&lt;&gt;();\r\n\t\tstringsValues.forEach(fet-&gt;{\r\n\t\t\tids.addAll(get(fet,id));\r\n\t\t});","title":"split string a get distinct descendate values","body":"<p>i was eable to figure it out finally:</p>\n<pre><code>private Set&lt;Long&gt; get(String chemin, long id){\n        String idOrg = String.valueOf(id);\n        int index=chemin.indexOf(idOrg);\n        String substr= chemin.substring(index+idOrg.length());\n        return Arrays.stream(substr.split(&quot;/&quot;))\n                .filter(StringUtils::isNotBlank)\n                .map(Long::valueOf)\n                .collect(Collectors.toSet());\n\n    }\n\nSet&lt;Long&gt; ids = new HashSet&lt;&gt;();\n    stringsValues.forEach(fet-&gt;{\n        ids.addAll(get(fet,id));\n    });\n</code></pre>\n"}],"owner":{"account_id":24989359,"reputation":45,"user_id":18850747,"display_name":"Abdel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1671369450,"accepted_answer_id":74170447,"answer_count":1,"score":-2,"last_activity_date":1666521389,"creation_date":1666518244,"question_id":74170100,"body_markdown":"i have a result from database that return a string containing values, i want to get values from this string descendandly from a specif values. for example i getting query with value =`4762828` \r\nand the result is this : \r\n\r\n    /2192519/863601/4762828/864056/\r\n    2192519/863601/4762828/864056/867339/\r\n    /2192519/863601/4762828/864056/867363/\r\n    /2192519/863601/4762828/864056/2201031/\r\n    /2192519/863601/4762828/864056/2201101/\r\n    /2192519/863601/4762828/\r\n\r\ni only want to get the distinct values after the 4762828 downward `(864056,867339,867363,2201031,2201101)` ","title":"split string a get distinct descendate values","body":"<p>i have a result from database that return a string containing values, i want to get values from this string descendandly from a specif values. for example i getting query with value =<code>4762828</code>\nand the result is this :</p>\n<pre><code>/2192519/863601/4762828/864056/\n2192519/863601/4762828/864056/867339/\n/2192519/863601/4762828/864056/867363/\n/2192519/863601/4762828/864056/2201031/\n/2192519/863601/4762828/864056/2201101/\n/2192519/863601/4762828/\n</code></pre>\n<p>i only want to get the distinct values after the 4762828 downward <code>(864056,867339,867363,2201031,2201101)</code></p>\n"},{"tags":["java","intellij-idea","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1666551999,"post_id":74170115,"comment_id":130959131,"body_markdown":"Note you can determine the module of a class by looking at [its documentation](https://openjfx.io/javadoc/19/javafx.swing/javafx/embed/swing/SwingFXUtils.html). Also, if you&#39;re using a build tool (e.g., Maven, Gradle, etc.), make sure to configure it to include the `org.openjfx:javafx-swing` dependency (as shown in the answer below).","body":"Note you can determine the module of a class by looking at <a href=\"https://openjfx.io/javadoc/19/javafx.swing/javafx/embed/swing/SwingFXUtils.html\" rel=\"nofollow noreferrer\">its documentation</a>. Also, if you&#39;re using a build tool (e.g., Maven, Gradle, etc.), make sure to configure it to include the <code>org.openjfx:javafx-swing</code> dependency (as shown in the answer below)."}],"answers":[{"tags":[],"owner":{"account_id":11494303,"reputation":46,"user_id":8424177,"display_name":"Kent"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666521297,"creation_date":1666521297,"answer_id":74170437,"question_id":74170115,"body_markdown":"If you are using Maven: add this dependency to your pom.xml and just change the version of your JavaFX version.\r\n\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\r\n            &lt;version&gt;19&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nIf you are using Gradle: insert this module into the javafx section at build.gradle\r\n\r\n    modules = [&#39;*****&#39;, &#39;*****&#39;,&#39;javafx.swing&#39;]\r\n\r\n\r\nAfter that, add this to your module-info.java and your problem should be fixed\r\n\r\n    requires javafx.swing;","title":"How to add the SwingFXUtils in module-info.java?","body":"<p>If you are using Maven: add this dependency to your pom.xml and just change the version of your JavaFX version.</p>\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\n        &lt;version&gt;19&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>If you are using Gradle: insert this module into the javafx section at build.gradle</p>\n<pre><code>modules = ['*****', '*****','javafx.swing']\n</code></pre>\n<p>After that, add this to your module-info.java and your problem should be fixed</p>\n<pre><code>requires javafx.swing;\n</code></pre>\n"}],"owner":{"account_id":26707642,"reputation":3,"user_id":20313580,"display_name":"stevvn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666553783,"accepted_answer_id":74170437,"answer_count":1,"score":0,"last_activity_date":1666521297,"creation_date":1666518345,"question_id":74170115,"body_markdown":"I am using Intellij Idea to create my simple program in javafx that requires SwingFXUtils to convert the image, but I am stuck in this error. I cannot import the SwingFXUtils and I&#39;m trying to add a line of code at module-info.java, but I have no idea what is the right code to put in the module-info.java. What is the right one:\r\n\r\nrequires javafx....\r\n\r\nPlease help me. Thank you","title":"How to add the SwingFXUtils in module-info.java?","body":"<p>I am using Intellij Idea to create my simple program in javafx that requires SwingFXUtils to convert the image, but I am stuck in this error. I cannot import the SwingFXUtils and I'm trying to add a line of code at module-info.java, but I have no idea what is the right code to put in the module-info.java. What is the right one:</p>\n<p>requires javafx....</p>\n<p>Please help me. Thank you</p>\n"},{"tags":["java","reflection","path"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666520770,"post_id":74170361,"comment_id":130952445,"body_markdown":"Why not `com.my.pack.example`?","body":"Why not <code>com.my.pack.example</code>?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1666526852,"post_id":74170361,"comment_id":130953564,"body_markdown":"What should happen if you have both `com.example` and `net.example` in the source folder?","body":"What should happen if you have both <code>com.example</code> and <code>net.example</code> in the source folder?"},{"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"score":0,"creation_date":1666527997,"post_id":74170361,"comment_id":130953815,"body_markdown":"then return them both","body":"then return them both"}],"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666521164,"creation_date":1666520666,"question_id":74170361,"body_markdown":"I world like to get a root package where inner package branching starts.\r\n\r\nFor example: `src/main/java/com/my/pack/example`\r\n\r\nand inside there is a fist occurance of multiple packages: `inner1` and `inner2`\r\n\r\nGiven this structure I want to get `com.my.pack.example`\r\n\r\nI know I can iterate over packages starting from some class deep inside and do some filtering. but is there any easier way or existing util?","title":"Dynamically get top level package in source root","body":"<p>I world like to get a root package where inner package branching starts.</p>\n<p>For example: <code>src/main/java/com/my/pack/example</code></p>\n<p>and inside there is a fist occurance of multiple packages: <code>inner1</code> and <code>inner2</code></p>\n<p>Given this structure I want to get <code>com.my.pack.example</code></p>\n<p>I know I can iterate over packages starting from some class deep inside and do some filtering. but is there any easier way or existing util?</p>\n"},{"tags":["java","openshift","grpc","minishift"],"answers":[{"tags":[],"owner":{"account_id":20363360,"reputation":1,"user_id":14937219,"display_name":"Pascal Briet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666520691,"creation_date":1666107903,"answer_id":74113819,"question_id":72116103,"body_markdown":"To be able to serve gRPC connections, you need your ingress controller to handle HTTP2 connections.\r\n\r\n[This is not the case by default][1].\r\n\r\nSo, your answer might be to enter the following command:\r\n\r\n    oc annotate ingresses.config/cluster ingress.operator.openshift.io/default-enable-http2=true\r\n\r\n\r\n  [1]: https://docs.openshift.com/container-platform/4.11/networking/ingress-operator.html#nw-http2-haproxy_configuring-ingress","title":"How to call grpc service in openshift from java","body":"<p>To be able to serve gRPC connections, you need your ingress controller to handle HTTP2 connections.</p>\n<p><a href=\"https://docs.openshift.com/container-platform/4.11/networking/ingress-operator.html#nw-http2-haproxy_configuring-ingress\" rel=\"nofollow noreferrer\">This is not the case by default</a>.</p>\n<p>So, your answer might be to enter the following command:</p>\n<pre><code>oc annotate ingresses.config/cluster ingress.operator.openshift.io/default-enable-http2=true\n</code></pre>\n"}],"owner":{"account_id":18476555,"reputation":517,"user_id":13459947,"display_name":"Violetta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666520691,"creation_date":1651680334,"question_id":72116103,"body_markdown":"I have a client and a service with gRPC. Locally they work well. I tried to start the server in openshift (minishift):\r\n\r\n```yaml\r\nkind: DeploymentConfig\r\n    apiVersion: v1\r\n    metadata:\r\n      name: app-grpc\r\n    spec:\r\n      replicas: 1\r\n      selector:\r\n        app: app-grpc\r\n      template:\r\n        metadata:\r\n          labels:\r\n            app: app-grpc\r\n        spec:\r\n          containers:\r\n            - name: app-grpc\r\n              ports:\r\n                - containerPort: 9005\r\n                  protocol: TCP\r\n              imagePullPolicy: Always\r\n          restartPolicy: Always\r\n          dnsPolicy: ClusterFirst\r\n\r\n---\r\nkind: Service\r\napiVersion: &quot;v1&quot;\r\nmetadata:\r\n  name: &quot;app-grpc-service&quot;\r\nspec:\r\n  ports:\r\n    - port: 9005\r\n      targetPort: 9005\r\n  selector:\r\n    app: &quot;app-grpc&quot;\r\n\r\n---\r\nkind: Route\r\napiVersion: route.openshift.io/v1\r\nmetadata:\r\n  name: &quot;app-grpc-route&quot;\r\nspec:\r\n  to:\r\n    kind: Service\r\n    name: app-grpc-service\r\n```\r\nBut the call from the client does not reach the server. \r\nI am not sure if I have configured Service and Route correctly\r\n\r\nThe client looks like this:\r\n\r\n```java\r\nManagedChannel channel = NettyChannelBuilder\r\n    .forAddress(&quot;app-grpc-route-myproject.111.111.111.111.nip.io/app-grpc&quot;, 9005)\r\n    .usePlaintext()\r\n    .build();\r\n\r\ntry {\r\n    HelloServiceGrpc.HelloServiceBlockingStub client = HelloServiceGrpc.newBlockingStub(channel);\r\n    System.out.println(client.hello(HelloRequest.newBuilder()\r\n        .setFirstName(&quot;firstName&quot;)\r\n        .setLastName(&quot;lastName&quot;)\r\n        .build())\r\n        .getGreeting());\r\n} catch (InterruptedException e) {\r\n    e.printStackTrace();\r\n} finally {\r\n    channel.shutdown();\r\n}\r\n```\r\nI&#39;m not sure if I&#39;m specifying host correctly. I copied it from route. \r\n\r\nWhen trying to call \r\n`forAddress(&quot;app-grpc-route-myproject.111.111.111.111.nip.io&quot;, 9005)`I have `Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: no further information`\r\n\r\nIf I use `.forAddress(&quot;app-grpc-route-myproject.111.111.111.111.nip.io/app-grpc&quot;, 9005)` I have `Caused by: io.netty.handler.codec.http2.Http2Exception: First received frame was not SETTINGS. Hex dump for first 5 bytes: 485454502f`","title":"How to call grpc service in openshift from java","body":"<p>I have a client and a service with gRPC. Locally they work well. I tried to start the server in openshift (minishift):</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>kind: DeploymentConfig\n    apiVersion: v1\n    metadata:\n      name: app-grpc\n    spec:\n      replicas: 1\n      selector:\n        app: app-grpc\n      template:\n        metadata:\n          labels:\n            app: app-grpc\n        spec:\n          containers:\n            - name: app-grpc\n              ports:\n                - containerPort: 9005\n                  protocol: TCP\n              imagePullPolicy: Always\n          restartPolicy: Always\n          dnsPolicy: ClusterFirst\n\n---\nkind: Service\napiVersion: &quot;v1&quot;\nmetadata:\n  name: &quot;app-grpc-service&quot;\nspec:\n  ports:\n    - port: 9005\n      targetPort: 9005\n  selector:\n    app: &quot;app-grpc&quot;\n\n---\nkind: Route\napiVersion: route.openshift.io/v1\nmetadata:\n  name: &quot;app-grpc-route&quot;\nspec:\n  to:\n    kind: Service\n    name: app-grpc-service\n</code></pre>\n<p>But the call from the client does not reach the server.\nI am not sure if I have configured Service and Route correctly</p>\n<p>The client looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ManagedChannel channel = NettyChannelBuilder\n    .forAddress(&quot;app-grpc-route-myproject.111.111.111.111.nip.io/app-grpc&quot;, 9005)\n    .usePlaintext()\n    .build();\n\ntry {\n    HelloServiceGrpc.HelloServiceBlockingStub client = HelloServiceGrpc.newBlockingStub(channel);\n    System.out.println(client.hello(HelloRequest.newBuilder()\n        .setFirstName(&quot;firstName&quot;)\n        .setLastName(&quot;lastName&quot;)\n        .build())\n        .getGreeting());\n} catch (InterruptedException e) {\n    e.printStackTrace();\n} finally {\n    channel.shutdown();\n}\n</code></pre>\n<p>I'm not sure if I'm specifying host correctly. I copied it from route.</p>\n<p>When trying to call\n<code>forAddress(&quot;app-grpc-route-myproject.111.111.111.111.nip.io&quot;, 9005)</code>I have <code>Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: no further information</code></p>\n<p>If I use <code>.forAddress(&quot;app-grpc-route-myproject.111.111.111.111.nip.io/app-grpc&quot;, 9005)</code> I have <code>Caused by: io.netty.handler.codec.http2.Http2Exception: First received frame was not SETTINGS. Hex dump for first 5 bytes: 485454502f</code></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":3,"creation_date":1358496060,"post_id":14394590,"comment_id":20025707,"body_markdown":"What you describe is a *factory method*. If you want to avoid exceptionhandling, you can do that. Most people would just throw an IllegalArgumentException in the constructor. But as I said, that depends on your architechture. Both ways have their pros and cons.","body":"What you describe is a <i>factory method</i>. If you want to avoid exceptionhandling, you can do that. Most people would just throw an IllegalArgumentException in the constructor. But as I said, that depends on your architechture. Both ways have their pros and cons."},{"owner":{"account_id":2181192,"reputation":639,"user_id":1930653,"accept_rate":91,"display_name":"FirstName LastName"},"score":0,"creation_date":1358496133,"post_id":14394590,"comment_id":20025741,"body_markdown":"@Fildor - where can i learn more about their pros and cons. I want to compare them and understand which one to use in a situation.","body":"@Fildor - where can i learn more about their pros and cons. I want to compare them and understand which one to use in a situation."},{"owner":{"account_id":1633017,"reputation":7674,"user_id":1667773,"display_name":"vishal_aim"},"score":1,"creation_date":1358496358,"post_id":14394590,"comment_id":20025815,"body_markdown":"@FirstNameLastName I would prefer the factory approach generally as exception handling has a cost","body":"@FirstNameLastName I would prefer the factory approach generally as exception handling has a cost"},{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":2,"creation_date":1358496995,"post_id":14394590,"comment_id":20025992,"body_markdown":"If you ask 10 developers about this exception vs. null-check, you may get 12 answers. Facts are: If you return a null, you only know that &quot;something&quot; must have gone wrong. With Exceptions you can react differently to different flaws. For example you could make your own Excpetionclasses for AgeTooHigh and AgeTooLow just for a silly example. Some people will argument with execution time, some with personal taste ... Maybe smarter people than me have a drop-dead-argument for/against one of them ...","body":"If you ask 10 developers about this exception vs. null-check, you may get 12 answers. Facts are: If you return a null, you only know that &quot;something&quot; must have gone wrong. With Exceptions you can react differently to different flaws. For example you could make your own Excpetionclasses for AgeTooHigh and AgeTooLow just for a silly example. Some people will argument with execution time, some with personal taste ... Maybe smarter people than me have a drop-dead-argument for/against one of them ..."},{"owner":{"account_id":2181192,"reputation":639,"user_id":1930653,"accept_rate":91,"display_name":"FirstName LastName"},"score":1,"creation_date":1358497160,"post_id":14394590,"comment_id":20026027,"body_markdown":"@vishal_aim - what is the cost ? Is it speed of execution, memory used, something else ?","body":"@vishal_aim - what is the cost ? Is it speed of execution, memory used, something else ?"},{"owner":{"account_id":2181192,"reputation":639,"user_id":1930653,"accept_rate":91,"display_name":"FirstName LastName"},"score":0,"creation_date":1358497620,"post_id":14394590,"comment_id":20026195,"body_markdown":"@Fildor - i added info to my question to discuss one possible disadvantage of factory method. please see if it makes sense.","body":"@Fildor - i added info to my question to discuss one possible disadvantage of factory method. please see if it makes sense."},{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1358497677,"post_id":14394590,"comment_id":20026218,"body_markdown":"In what way has it to acces a member? You can still access the member in the private constructor that is called in the static factory method. No problem.","body":"In what way has it to acces a member? You can still access the member in the private constructor that is called in the static factory method. No problem."},{"owner":{"account_id":1633017,"reputation":7674,"user_id":1667773,"display_name":"vishal_aim"},"score":2,"creation_date":1358497978,"post_id":14394590,"comment_id":20026325,"body_markdown":"@FirstNameLastName probably it may help: http://stackoverflow.com/questions/299068/how-slow-are-java-exceptions and this one: http://stackoverflow.com/questions/2184935/performance-cost-of-coding-exception-driven-development-in-java","body":"@FirstNameLastName probably it may help: <a href=\"http://stackoverflow.com/questions/299068/how-slow-are-java-exceptions\" title=\"how slow are java exceptions\">stackoverflow.com/questions/299068/how-slow-are-java-excepti&zwnj;&#8203;ons</a> and this one: <a href=\"http://stackoverflow.com/questions/2184935/performance-cost-of-coding-exception-driven-development-in-java\" title=\"performance cost of coding exception driven development in java\">stackoverflow.com/questions/2184935/&hellip;</a>"},{"owner":{"account_id":2181192,"reputation":639,"user_id":1930653,"accept_rate":91,"display_name":"FirstName LastName"},"score":0,"creation_date":1358498193,"post_id":14394590,"comment_id":20026403,"body_markdown":"@Fildor - I will respond to that after some time. Just checking my code before i respond.","body":"@Fildor - I will respond to that after some time. Just checking my code before i respond."},{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":2,"creation_date":1358502047,"post_id":14394590,"comment_id":20028192,"body_markdown":"@FirstNameLastName As a rule of thumb I always think in terms of &quot;Is this a case that is an error, will probably rarely happen and needs special treatment outside normal control flow?&quot; Then I make it an exception. If it is a question of control flow (&quot;If age &lt; 18 return null, else return acces token&quot;) then I don&#39;t use exceptions.","body":"@FirstNameLastName As a rule of thumb I always think in terms of &quot;Is this a case that is an error, will probably rarely happen and needs special treatment outside normal control flow?&quot; Then I make it an exception. If it is a question of control flow (&quot;If age &lt; 18 return null, else return acces token&quot;) then I don&#39;t use exceptions."}],"answers":[{"comments":[{"owner":{"account_id":965697,"reputation":9273,"user_id":989169,"accept_rate":75,"display_name":"Till Helge"},"score":3,"creation_date":1358495994,"post_id":14394612,"comment_id":20025691,"body_markdown":"I would suggest throwing an `IllegalArgumentException` and make it a checked one, too.","body":"I would suggest throwing an <code>IllegalArgumentException</code> and make it a checked one, too."},{"owner":{"account_id":2181192,"reputation":639,"user_id":1930653,"accept_rate":91,"display_name":"FirstName LastName"},"score":0,"creation_date":1358495996,"post_id":14394612,"comment_id":20025692,"body_markdown":"Thanks. Is there any other way besides Exception throwing and handling ?","body":"Thanks. Is there any other way besides Exception throwing and handling ?"},{"owner":{"account_id":965697,"reputation":9273,"user_id":989169,"accept_rate":75,"display_name":"Till Helge"},"score":1,"creation_date":1358496135,"post_id":14394612,"comment_id":20025742,"body_markdown":"@FirstNameLastName Aside from your own solution using a factory...not that I know of...because there is no other way to prevent a constructor from creating an instance. Worst case then would be that you get an instance that violates your class invariant.","body":"@FirstNameLastName Aside from your own solution using a factory...not that I know of...because there is no other way to prevent a constructor from creating an instance. Worst case then would be that you get an instance that violates your class invariant."},{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1358496667,"post_id":14394612,"comment_id":20025897,"body_markdown":"I&#39;m not sure, that throwing an exception from the constructor is a good idea","body":"I&#39;m not sure, that throwing an exception from the constructor is a good idea"},{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":1,"creation_date":1358497776,"post_id":14394612,"comment_id":20026250,"body_markdown":"@Andremoniy why not? The JDK makes heavy use of that!","body":"@Andremoniy why not? The JDK makes heavy use of that!"},{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1358498067,"post_id":14394612,"comment_id":20026356,"body_markdown":"@Flidor, well, in such kind of domain as `Person` bean could be a lot of parameters which should be checked. Will you produce a lot of telescopic constructors with sophisticated checks and throwing exceptions? Static factory, or `Builder` pattern will work here more better. Furthermore, using constructor you aren&#39;t able to return `null` value (it could be needed in some situations).","body":"@Flidor, well, in such kind of domain as <code>Person</code> bean could be a lot of parameters which should be checked. Will you produce a lot of telescopic constructors with sophisticated checks and throwing exceptions? Static factory, or <code>Builder</code> pattern will work here more better. Furthermore, using constructor you aren&#39;t able to return <code>null</code> value (it could be needed in some situations)."},{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":1,"creation_date":1358500725,"post_id":14394612,"comment_id":20027533,"body_markdown":"@Andremoniy We didn&#39;t talk about Beans. It was all about POJOs. I do not work with Beans but isn&#39;t one of their key features to not have constructor-params at all? So my understanding is that using Beans you do not have the option to throw Exceptions because of illegal args in the constructor. If your requirement is to be able to have null values if args do not meet certain criteria, then that another question but based on the requirement. Not because throwing exceptions from the ctor is generally a bad idea.","body":"@Andremoniy We didn&#39;t talk about Beans. It was all about POJOs. I do not work with Beans but isn&#39;t one of their key features to not have constructor-params at all? So my understanding is that using Beans you do not have the option to throw Exceptions because of illegal args in the constructor. If your requirement is to be able to have null values if args do not meet certain criteria, then that another question but based on the requirement. Not because throwing exceptions from the ctor is generally a bad idea."}],"tags":[],"owner":{"display_name":"user948620"},"comment_count":7,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1358497029,"creation_date":1358495782,"answer_id":14394612,"question_id":14394590,"body_markdown":"&gt; Is there any other way of doing it ? Maybe from inside the constructor itself ?\r\n\r\nYes. I suggest to throw an `Exception` from constructor\r\n\r\n\r\n    public class Person\r\n    {\r\n    \r\n    \r\n        int age;\r\n        public Person(int age) throws Exception\r\n        {\r\n           if(age &lt;= 0)\r\n           {\r\n        \r\n              throw new Exception(&quot;Age is not allowed&quot;);\r\n           }\r\n           // Do some stuffs\r\n           this.age = age;\r\n        }\r\n    \r\n    }\r\n\r\n**Edit:**\r\n\r\nYou can also use `IllegalArgumentException` as suggested by Till Helge Helwig\r\n\r\n\r\n    public class Person\r\n    {\r\n    \r\n    \r\n        int age;\r\n        public Person(int age) throws IllegalArgumentException\r\n        {\r\n           if(age &lt;= 0)\r\n           {\r\n        \r\n              throw new IllegalArgumentException(&quot;Age is not allowed&quot;);\r\n           }\r\n           // Do some stuffs\r\n           this.age = age;\r\n        }\r\n    \r\n    }","title":"Preventing instantiation of a class if argument to constructor is illegal?","body":"<blockquote>\n  <p>Is there any other way of doing it ? Maybe from inside the constructor itself ?</p>\n</blockquote>\n\n<p>Yes. I suggest to throw an <code>Exception</code> from constructor</p>\n\n<pre><code>public class Person\n{\n\n\n    int age;\n    public Person(int age) throws Exception\n    {\n       if(age &lt;= 0)\n       {\n\n          throw new Exception(\"Age is not allowed\");\n       }\n       // Do some stuffs\n       this.age = age;\n    }\n\n}\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<p>You can also use <code>IllegalArgumentException</code> as suggested by Till Helge Helwig</p>\n\n<pre><code>public class Person\n{\n\n\n    int age;\n    public Person(int age) throws IllegalArgumentException\n    {\n       if(age &lt;= 0)\n       {\n\n          throw new IllegalArgumentException(\"Age is not allowed\");\n       }\n       // Do some stuffs\n       this.age = age;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":72575,"reputation":40794,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1358495977,"creation_date":1358495977,"answer_id":14394659,"question_id":14394590,"body_markdown":"Rather throw `Exception` if parameter is illegal.\r\n\r\n    public Test(int age) throws IllegalArgumentException {\r\n\t\tif(age&lt;0)\r\n\t\t\tthrow new IllegalArgumentException(...);\r\n\t\tthis.age = age;\r\n\t}","title":"Preventing instantiation of a class if argument to constructor is illegal?","body":"<p>Rather throw <code>Exception</code> if parameter is illegal.</p>\n\n<pre><code>public Test(int age) throws IllegalArgumentException {\n    if(age&lt;0)\n        throw new IllegalArgumentException(...);\n    this.age = age;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":2,"creation_date":1358502273,"post_id":14394722,"comment_id":20028286,"body_markdown":"What&#39;s the difference of throwing the exception from parameterized constructor and throwing it from a factory method (if he wants to)?","body":"What&#39;s the difference of throwing the exception from parameterized constructor and throwing it from a factory method (if he wants to)?"},{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":1,"creation_date":1358502556,"post_id":14394722,"comment_id":20028397,"body_markdown":"In my case Java doesn&#39;t even try to create object. On some JVM implementations the fact of constructor calling leads to memory allocation for an object. In common case this could lead to insignificant increasing of GC work, I think.","body":"In my case Java doesn&#39;t even try to create object. On some JVM implementations the fact of constructor calling leads to memory allocation for an object. In common case this could lead to insignificant increasing of GC work, I think."},{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1358504181,"post_id":14394722,"comment_id":20029207,"body_markdown":"Ah, I see. Could be indeed significant. Depends on how frequently you do this :)","body":"Ah, I see. Could be indeed significant. Depends on how frequently you do this :)"},{"owner":{"account_id":2181192,"reputation":639,"user_id":1930653,"accept_rate":91,"display_name":"FirstName LastName"},"score":1,"creation_date":1363916346,"post_id":14394722,"comment_id":22054857,"body_markdown":"@Andremoniy - can you give me some links which show that different JVMs allocate memory for a constructor call and how this affects code performance ?","body":"@Andremoniy - can you give me some links which show that different JVMs allocate memory for a constructor call and how this affects code performance ?"}],"tags":[],"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"comment_count":4,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1358496618,"creation_date":1358496317,"answer_id":14394722,"question_id":14394590,"body_markdown":"It will be better to use the static factory for this purposes. Because throwing an exception from a constructor is not very nice idea.\r\n\r\n    public class Person\r\n    {     \r\n        public static Person newPerson(int age) /* throws SomeException -- if you want */ {\r\n            if (age &lt;= 0 || age &gt;= 150) {\r\n               return null; // or throw an Exception - it is how you want   \r\n            }\r\n            return new Person(age);\r\n        }\r\n    \r\n        private Person(int age) {\r\n            // assign age to field value\r\n        }\r\n    }\r\n\r\n","title":"Preventing instantiation of a class if argument to constructor is illegal?","body":"<p>It will be better to use the static factory for this purposes. Because throwing an exception from a constructor is not very nice idea.</p>\n\n<pre><code>public class Person\n{     \n    public static Person newPerson(int age) /* throws SomeException -- if you want */ {\n        if (age &lt;= 0 || age &gt;= 150) {\n           return null; // or throw an Exception - it is how you want   \n        }\n        return new Person(age);\n    }\n\n    private Person(int age) {\n        // assign age to field value\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1358497405,"post_id":14394882,"comment_id":20026123,"body_markdown":"@Fildor +1, it is not even a factory","body":"@Fildor +1, it is not even a factory"}],"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1358591399,"creation_date":1358497190,"answer_id":14394882,"question_id":14394590,"body_markdown":"Consider this example, this is java.util.HashMap implementation\r\n\r\n    public HashMap(int initialCapacity, float loadFactor) {\r\n        if (initialCapacity &lt; 0)\r\n            throw new IllegalArgumentException(&quot;Illegal initial capacity: &quot; +\r\n                                               initialCapacity);\r\n        if (initialCapacity &gt; MAXIMUM_CAPACITY)\r\n            initialCapacity = MAXIMUM_CAPACITY;\r\n        if (loadFactor &lt;= 0 || Float.isNaN(loadFactor))\r\n            throw new IllegalArgumentException(&quot;Illegal load factor: &quot; +\r\n                                               loadFactor);\r\n\r\n        // Find a power of 2 &gt;= initialCapacity\r\n        int capacity = 1;\r\n        while (capacity &lt; initialCapacity)\r\n            capacity &lt;&lt;= 1;\r\n\r\n        this.loadFactor = loadFactor;\r\n        threshold = (int)(capacity * loadFactor);\r\n        table = new Entry[capacity];\r\n        init();\r\n    }\r\nsee more in `Effective Java 2nd Edition, Item 38: Check parameters for validity` by Joshua Bloch, who is also the author of the above code","title":"Preventing instantiation of a class if argument to constructor is illegal?","body":"<p>Consider this example, this is java.util.HashMap implementation</p>\n\n<pre><code>public HashMap(int initialCapacity, float loadFactor) {\n    if (initialCapacity &lt; 0)\n        throw new IllegalArgumentException(\"Illegal initial capacity: \" +\n                                           initialCapacity);\n    if (initialCapacity &gt; MAXIMUM_CAPACITY)\n        initialCapacity = MAXIMUM_CAPACITY;\n    if (loadFactor &lt;= 0 || Float.isNaN(loadFactor))\n        throw new IllegalArgumentException(\"Illegal load factor: \" +\n                                           loadFactor);\n\n    // Find a power of 2 &gt;= initialCapacity\n    int capacity = 1;\n    while (capacity &lt; initialCapacity)\n        capacity &lt;&lt;= 1;\n\n    this.loadFactor = loadFactor;\n    threshold = (int)(capacity * loadFactor);\n    table = new Entry[capacity];\n    init();\n}\n</code></pre>\n\n<p>see more in <code>Effective Java 2nd Edition, Item 38: Check parameters for validity</code> by Joshua Bloch, who is also the author of the above code</p>\n"}],"owner":{"account_id":2181192,"reputation":639,"user_id":1930653,"accept_rate":91,"display_name":"FirstName LastName"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10159,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":14394612,"answer_count":4,"score":10,"last_activity_date":1666520648,"creation_date":1358495652,"question_id":14394590,"body_markdown":"I have a public constructor which takes a parameter (int age) to create an object. I want to check if the passed parameter is legal or not, for example age cannot be negative. If its illegal, then don&#39;t create an object/instance. If legal, no problem.\r\n\r\nI can only think of one way to do this - \r\n\r\nMake constructor private. Create a static method with parameter (int age) to do all the checking and return a null if you pass it an illegal value. If you pass it a legal value, then create an object and return its reference.\r\nIs there any other way of doing it ? Maybe from inside the constructor itself ?\r\n\r\n**EDIT :**\r\nI thought of one problem with the above method. The factory method/object creator method can only be a static method for obvious reasons. What happens if the factory method has to access a member variable *(to do some checking)* to create an object ? Then, we will be forced to make that member variable static. This may not be okay in all cases. \r\n\r\nDoes it make sense ?\r\n\r\n\r\n","title":"Preventing instantiation of a class if argument to constructor is illegal?","body":"<p>I have a public constructor which takes a parameter (int age) to create an object. I want to check if the passed parameter is legal or not, for example age cannot be negative. If its illegal, then don't create an object/instance. If legal, no problem.</p>\n\n<p>I can only think of one way to do this - </p>\n\n<p>Make constructor private. Create a static method with parameter (int age) to do all the checking and return a null if you pass it an illegal value. If you pass it a legal value, then create an object and return its reference.\nIs there any other way of doing it ? Maybe from inside the constructor itself ?</p>\n\n<p><strong>EDIT :</strong>\nI thought of one problem with the above method. The factory method/object creator method can only be a static method for obvious reasons. What happens if the factory method has to access a member variable <em>(to do some checking)</em> to create an object ? Then, we will be forced to make that member variable static. This may not be okay in all cases. </p>\n\n<p>Does it make sense ?</p>\n"},{"tags":["java","android","realm"],"comments":[{"owner":{"account_id":1930604,"reputation":665,"user_id":1740059,"display_name":"Justin Mitchell"},"score":0,"creation_date":1482102895,"post_id":41213736,"comment_id":69626488,"body_markdown":"Did you follow the hello world tutorial? I suspect that there&#39;s a missing configuration in your application","body":"Did you follow the hello world tutorial? I suspect that there&#39;s a missing configuration in your application"}],"answers":[{"comments":[{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1489520718,"post_id":41213917,"comment_id":72704894,"body_markdown":"(people also seem to get this error if they have `jack { enabled true }` instead of Retrolambda as well)","body":"(people also seem to get this error if they have <code>jack { enabled true }</code> instead of Retrolambda as well)"}],"tags":[],"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482102994,"creation_date":1482102994,"answer_id":41213917,"question_id":41213736,"body_markdown":"Instead of\r\n\r\n    apply plugin: &#39;com.android.application&#39; \r\n    apply plugin: &#39;realm-android&#39; \r\n    apply plugin: &#39;android-apt&#39;\r\n    apply plugin: &#39;android-command&#39;\r\n\r\nYou need to have\r\n\r\n    apply plugin: &#39;com.android.application&#39; \r\n    apply plugin: &#39;android-apt&#39;\r\n    apply plugin: &#39;realm-android&#39; \r\n    apply plugin: &#39;android-command&#39;","title":"IllegalArgumentException: XXX is not part of the schema for this Realm","body":"<p>Instead of</p>\n\n<pre><code>apply plugin: 'com.android.application' \napply plugin: 'realm-android' \napply plugin: 'android-apt'\napply plugin: 'android-command'\n</code></pre>\n\n<p>You need to have</p>\n\n<pre><code>apply plugin: 'com.android.application' \napply plugin: 'android-apt'\napply plugin: 'realm-android' \napply plugin: 'android-command'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1930604,"reputation":665,"user_id":1740059,"display_name":"Justin Mitchell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482103074,"creation_date":1482103074,"answer_id":41213926,"question_id":41213736,"body_markdown":"I suspect that it&#39;s a configuration error, either with the connection and authorization setup, or with the realm objects that you&#39;ve configured.\r\n\r\nhttps://realm.io/docs/realm-object-server/\r\n\r\nThis is also related:\r\nhttps://github.com/realm/realm-java/issues/3139","title":"IllegalArgumentException: XXX is not part of the schema for this Realm","body":"<p>I suspect that it's a configuration error, either with the connection and authorization setup, or with the realm objects that you've configured.</p>\n\n<p><a href=\"https://realm.io/docs/realm-object-server/\" rel=\"nofollow noreferrer\">https://realm.io/docs/realm-object-server/</a></p>\n\n<p>This is also related:\n<a href=\"https://github.com/realm/realm-java/issues/3139\" rel=\"nofollow noreferrer\">https://github.com/realm/realm-java/issues/3139</a></p>\n"},{"comments":[{"owner":{"account_id":1428736,"reputation":847,"user_id":1351639,"accept_rate":67,"display_name":"moralejaSinCuentoNiProverbio"},"score":0,"creation_date":1495899176,"post_id":44210758,"comment_id":75447880,"body_markdown":"Hello @berrytchacks now on that project we use sqlLite. (that was our best solution). I solved other Realm project by reinstalling but in that project didn&#39;t work. (+1 to your comment)","body":"Hello @berrytchacks now on that project we use sqlLite. (that was our best solution). I solved other Realm project by reinstalling but in that project didn&#39;t work. (+1 to your comment)"}],"tags":[],"owner":{"account_id":8117382,"reputation":839,"user_id":6115442,"accept_rate":25,"display_name":"berrytchaks"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1495836614,"creation_date":1495836614,"answer_id":44210758,"question_id":41213736,"body_markdown":"I faced the same issue today. I tried multiple solutions but they weren&#39;t working for me. \r\n\r\nIn my own case, I was already having some classes (says `RealmChild1 and RealmChild2`) which were `extending RealmObject`. The exception occured when I added a new class (`RealmChild3`) that was `extending RealmObject`. I was able to fix that by uninstalling the my app and reinstalling and launching the app again. I suspect that Realm had already create a Schema containing `RealmChild1 and RealmChild2` and it couldn&#39;t add dynamically `RealmChild3`. That is why it was complaining that `RealmChild3 is not part of the Schema for this Realm`.\r\n\r\nHelp this helps someone.","title":"IllegalArgumentException: XXX is not part of the schema for this Realm","body":"<p>I faced the same issue today. I tried multiple solutions but they weren't working for me. </p>\n\n<p>In my own case, I was already having some classes (says <code>RealmChild1 and RealmChild2</code>) which were <code>extending RealmObject</code>. The exception occured when I added a new class (<code>RealmChild3</code>) that was <code>extending RealmObject</code>. I was able to fix that by uninstalling the my app and reinstalling and launching the app again. I suspect that Realm had already create a Schema containing <code>RealmChild1 and RealmChild2</code> and it couldn't add dynamically <code>RealmChild3</code>. That is why it was complaining that <code>RealmChild3 is not part of the Schema for this Realm</code>.</p>\n\n<p>Help this helps someone.</p>\n"}],"owner":{"account_id":1428736,"reputation":847,"user_id":1351639,"accept_rate":67,"display_name":"moralejaSinCuentoNiProverbio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1924,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1666520584,"creation_date":1482101646,"question_id":41213736,"body_markdown":"I have IllegalArgumentException each time I start my first application with Realm. My application never worked. I read a lot trying to solve my problem and I did a lot of changes.\r\n\r\n**Android-Studio configurations:**\r\n\r\n- Annotation enabled\r\n\r\n- Instant run disabled\r\n\r\n**Build.gradle config:**\r\n\r\n- Realm version 2.2.1\r\n\r\n- sdk version 25\r\n \r\n- I have apply plugin: &#39;com.android.application&#39; &#39;realm-android&#39; &#39;android-apt&#39; and &#39;android-command&#39;\r\n\r\n- I have dexOptions incremental false\r\n\r\n**Inside my application I have**\r\n\r\n    Realm.init(this);\r\n\r\n**I write migration code**\r\n\r\n    public class Migration implements RealmMigration {\r\n    \r\n        @Override\r\n        public void migrate(DynamicRealm realm, long oldVersion, long newVersion) {\r\n            RealmSchema schema = realm.getSchema();\r\n            if(newVersion == 0){\r\n                oldVersion++;\r\n            }\r\n            if(!schema.contains(&quot;ItemCatalog&quot;)){\r\n                schema.create(&quot;ItemCatalog&quot;)\r\n                        .addField(&quot;id&quot;,Integer.class)\r\n                        .addField(&quot;tab&quot;,Integer.class)\r\n                        .addField(&quot;image&quot;, byte[].class)\r\n                        .addField(&quot;title&quot;,String.class)\r\n                        .addField(&quot;description&quot;,String.class)\r\n                        .addPrimaryKey(&quot;id&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n**Inside my first activity I have**\r\n  \r\n\r\n    RealmConfiguration config = new RealmConfiguration.Builder().migration(new Migration())\r\n                    .schemaVersion(0)\r\n                    .name(&quot;appVenture.realm&quot;).build();\r\n            Realm.setDefaultConfiguration(config);\r\n\r\n**Inside my D.T.O. object I have**\r\n\r\n    import io.realm.RealmObject;\r\n    import io.realm.annotations.PrimaryKey;\r\n    import io.realm.annotations.RealmClass;\r\n    \r\n    @RealmClass\r\n    public class ItemCatalog extends RealmObject{\r\n    \r\n        @PrimaryKey\r\n        private Integer id = null;\r\n        private Integer tab = null;\r\n        private byte[] image = null;\r\n        private String title = null;\r\n        private String description = null;\r\n    \r\n    //.. auto-generated getters and setters here\r\n    }\r\n\r\n**My Big Exception is**\r\n\r\n&gt; E/AndroidRuntime: FATAL EXCEPTION: main\r\n&gt;                   Process: com.example.francisco.helloworld, PID: 1646\r\n&gt;                   java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.francisco.helloworld/com.example.francisco.helloworld.MainActivity}:\r\n&gt; java.lang.IllegalArgumentException: ItemCatalog is not part of the\r\n&gt; schema for this Realm\r\n&gt;                       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2319)\r\n&gt;                       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2370)\r\n&gt;                       at android.app.ActivityThread.access$800(ActivityThread.java:155)\r\n&gt;                       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1243)\r\n&gt;                       at android.os.Handler.dispatchMessage(Handler.java:102)\r\n&gt;                       at android.os.Looper.loop(Looper.java:136)\r\n&gt;                       at android.app.ActivityThread.main(ActivityThread.java:5426)\r\n&gt;                       at java.lang.reflect.Method.invokeNative(Native Method)\r\n&gt;                       at java.lang.reflect.Method.invoke(Method.java:515)\r\n&gt;                       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1268)\r\n&gt;                       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1084)\r\n&gt;                       at dalvik.system.NativeStart.main(Native Method)\r\n&gt;                    Caused by: java.lang.IllegalArgumentException: ItemCatalog is not part of the schema for this Realm\r\n&gt;                       at io.realm.internal.modules.CompositeMediator.getMediator(CompositeMediator.java:172)\r\n&gt;                       at io.realm.internal.modules.CompositeMediator.getTableName(CompositeMediator.java:90)\r\n&gt;                       at io.realm.RealmSchema.getTable(RealmSchema.java:296)\r\n&gt;                       at io.realm.Realm.createObjectInternal(Realm.java:817)\r\n&gt;                       at io.realm.Realm.createObject(Realm.java:801)\r\n&gt;                       at com.example.francisco.helloworld.data.RealmController$1.execute(RealmController.java:72)\r\n&gt;                       at io.realm.Realm.executeTransaction(Realm.java:1253)\r\n&gt;                       at com.example.francisco.helloworld.data.RealmController.saveCatalog(RealmController.java:69)\r\n&gt;                       at com.example.francisco.helloworld.data.RealmController.saveCatalog(RealmController.java:64)\r\n&gt;                       at com.example.francisco.helloworld.MainActivity.onCreate(MainActivity.java:67)\r\n&gt;                       at android.app.Activity.performCreate(Activity.java:5296)\r\n&gt;                       at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1094)\r\n&gt;                       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2283)\r\n&gt;                       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2370)&#160;\r\n&gt;                       at android.app.ActivityThread.access$800(ActivityThread.java:155)&#160;\r\n&gt;                       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1243)&#160;\r\n&gt;                       at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n&gt;                       at android.os.Looper.loop(Looper.java:136)&#160;\r\n&gt;                       at android.app.ActivityThread.main(ActivityThread.java:5426)&#160;\r\n&gt;                       at java.lang.reflect.Method.invokeNative(Native Method)&#160;\r\n&gt;                       at java.lang.reflect.Method.invoke(Method.java:515)&#160;\r\n&gt;                       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1268)&#160;\r\n&gt;                       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1084)&#160;\r\n&gt;                       at dalvik.system.NativeStart.main(Native Method)\r\n\r\nWhat can I try next?\r\n","title":"IllegalArgumentException: XXX is not part of the schema for this Realm","body":"<p>I have IllegalArgumentException each time I start my first application with Realm. My application never worked. I read a lot trying to solve my problem and I did a lot of changes.</p>\n<p><strong>Android-Studio configurations:</strong></p>\n<ul>\n<li><p>Annotation enabled</p>\n</li>\n<li><p>Instant run disabled</p>\n</li>\n</ul>\n<p><strong>Build.gradle config:</strong></p>\n<ul>\n<li><p>Realm version 2.2.1</p>\n</li>\n<li><p>sdk version 25</p>\n</li>\n<li><p>I have apply plugin: 'com.android.application' 'realm-android' 'android-apt' and 'android-command'</p>\n</li>\n<li><p>I have dexOptions incremental false</p>\n</li>\n</ul>\n<p><strong>Inside my application I have</strong></p>\n<pre><code>Realm.init(this);\n</code></pre>\n<p><strong>I write migration code</strong></p>\n<pre><code>public class Migration implements RealmMigration {\n\n    @Override\n    public void migrate(DynamicRealm realm, long oldVersion, long newVersion) {\n        RealmSchema schema = realm.getSchema();\n        if(newVersion == 0){\n            oldVersion++;\n        }\n        if(!schema.contains(&quot;ItemCatalog&quot;)){\n            schema.create(&quot;ItemCatalog&quot;)\n                    .addField(&quot;id&quot;,Integer.class)\n                    .addField(&quot;tab&quot;,Integer.class)\n                    .addField(&quot;image&quot;, byte[].class)\n                    .addField(&quot;title&quot;,String.class)\n                    .addField(&quot;description&quot;,String.class)\n                    .addPrimaryKey(&quot;id&quot;);\n        }\n    }\n}\n</code></pre>\n<p><strong>Inside my first activity I have</strong></p>\n<pre><code>RealmConfiguration config = new RealmConfiguration.Builder().migration(new Migration())\n                .schemaVersion(0)\n                .name(&quot;appVenture.realm&quot;).build();\n        Realm.setDefaultConfiguration(config);\n</code></pre>\n<p><strong>Inside my D.T.O. object I have</strong></p>\n<pre><code>import io.realm.RealmObject;\nimport io.realm.annotations.PrimaryKey;\nimport io.realm.annotations.RealmClass;\n\n@RealmClass\npublic class ItemCatalog extends RealmObject{\n\n    @PrimaryKey\n    private Integer id = null;\n    private Integer tab = null;\n    private byte[] image = null;\n    private String title = null;\n    private String description = null;\n\n//.. auto-generated getters and setters here\n}\n</code></pre>\n<p><strong>My Big Exception is</strong></p>\n<blockquote>\n<p>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.francisco.helloworld, PID: 1646\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.francisco.helloworld/com.example.francisco.helloworld.MainActivity}:\njava.lang.IllegalArgumentException: ItemCatalog is not part of the\nschema for this Realm\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2319)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2370)\nat android.app.ActivityThread.access$800(ActivityThread.java:155)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1243)\nat android.os.Handler.dispatchMessage(Handler.java:102)\nat android.os.Looper.loop(Looper.java:136)\nat android.app.ActivityThread.main(ActivityThread.java:5426)\nat java.lang.reflect.Method.invokeNative(Native Method)\nat java.lang.reflect.Method.invoke(Method.java:515)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1268)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1084)\nat dalvik.system.NativeStart.main(Native Method)\nCaused by: java.lang.IllegalArgumentException: ItemCatalog is not part of the schema for this Realm\nat io.realm.internal.modules.CompositeMediator.getMediator(CompositeMediator.java:172)\nat io.realm.internal.modules.CompositeMediator.getTableName(CompositeMediator.java:90)\nat io.realm.RealmSchema.getTable(RealmSchema.java:296)\nat io.realm.Realm.createObjectInternal(Realm.java:817)\nat io.realm.Realm.createObject(Realm.java:801)\nat com.example.francisco.helloworld.data.RealmController$1.execute(RealmController.java:72)\nat io.realm.Realm.executeTransaction(Realm.java:1253)\nat com.example.francisco.helloworld.data.RealmController.saveCatalog(RealmController.java:69)\nat com.example.francisco.helloworld.data.RealmController.saveCatalog(RealmController.java:64)\nat com.example.francisco.helloworld.MainActivity.onCreate(MainActivity.java:67)\nat android.app.Activity.performCreate(Activity.java:5296)\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1094)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2283)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2370) \nat android.app.ActivityThread.access$800(ActivityThread.java:155) \nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1243) \nat android.os.Handler.dispatchMessage(Handler.java:102) \nat android.os.Looper.loop(Looper.java:136) \nat android.app.ActivityThread.main(ActivityThread.java:5426) \nat java.lang.reflect.Method.invokeNative(Native Method) \nat java.lang.reflect.Method.invoke(Method.java:515) \nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1268) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1084) \nat dalvik.system.NativeStart.main(Native Method)</p>\n</blockquote>\n<p>What can I try next?</p>\n"},{"tags":["java","spring","apache-kafka"],"comments":[{"owner":{"account_id":3412605,"reputation":704,"user_id":2862221,"display_name":"ahmed.ettoumi"},"score":0,"creation_date":1666611998,"post_id":74155949,"comment_id":130970824,"body_markdown":"could you share please the logs before the consumer is stopping !","body":"could you share please the logs before the consumer is stopping !"},{"owner":{"account_id":3412605,"reputation":704,"user_id":2862221,"display_name":"ahmed.ettoumi"},"score":0,"creation_date":1666612350,"post_id":74155949,"comment_id":130970969,"body_markdown":"by default your poll retreive 500 records (if there data on topics of course) configured by the max.poll.records. If in your consumer log you see that it&#39;s leaving the group because it exceed the &quot;max.poll.interval.ms&quot; then you could decrease the max.poll.records or increase the max.poll.interval.ms.\n\nmax.poll.records X time spent to process one record &lt; should be lower then max.poll.interval.ms","body":"by default your poll retreive 500 records (if there data on topics of course) configured by the max.poll.records. If in your consumer log you see that it&#39;s leaving the group because it exceed the &quot;max.poll.interval.ms&quot; then you could decrease the max.poll.records or increase the max.poll.interval.ms.  max.poll.records X time spent to process one record &lt; should be lower then max.poll.interval.ms"}],"answers":[{"comments":[{"owner":{"account_id":3412605,"reputation":704,"user_id":2862221,"display_name":"ahmed.ettoumi"},"score":0,"creation_date":1666611973,"post_id":74170339,"comment_id":130970817,"body_markdown":"There is no relation between processing message and heartbits.\nThe consumer has a separate thread to send heartbits.\nBut may be he have to increase the max.poll.intervall.ms","body":"There is no relation between processing message and heartbits. The consumer has a separate thread to send heartbits. But may be he have to increase the max.poll.intervall.ms"}],"tags":[],"owner":{"account_id":8780993,"reputation":2797,"user_id":6564620,"display_name":"maow"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666520513,"creation_date":1666520513,"answer_id":74170339,"question_id":74155949,"body_markdown":"Do I understand that correctly that your consumer may take up to a minute to process the message before committing? Is this a blocking operation?\r\n\r\nI suspect the problem might be heartbeats not being sent. Your consumer has a thread that sends a heartbeat to the Kafka brokers. By default that happens every `heartbeat.interval: 3s`. If your consumer is to busy to send the heartbeat, the broker might think it is dead after `session.timeout.ms: 45s` (`30s` in older versions). Especially in Java I have seen so high loads in the consumer that this happened in practice.\r\n\r\nIf this is the case \r\n1. you should see messages in the *broker* logs which tell you the consumer left the consumer group\r\n2. you could try increase `session.timeout.ms`. The only drawback is, that it will take longer to detect actual failures.","title":"Spring Kafka consumer often stop consume message from topic sometimes","body":"<p>Do I understand that correctly that your consumer may take up to a minute to process the message before committing? Is this a blocking operation?</p>\n<p>I suspect the problem might be heartbeats not being sent. Your consumer has a thread that sends a heartbeat to the Kafka brokers. By default that happens every <code>heartbeat.interval: 3s</code>. If your consumer is to busy to send the heartbeat, the broker might think it is dead after <code>session.timeout.ms: 45s</code> (<code>30s</code> in older versions). Especially in Java I have seen so high loads in the consumer that this happened in practice.</p>\n<p>If this is the case</p>\n<ol>\n<li>you should see messages in the <em>broker</em> logs which tell you the consumer left the consumer group</li>\n<li>you could try increase <code>session.timeout.ms</code>. The only drawback is, that it will take longer to detect actual failures.</li>\n</ol>\n"}],"owner":{"account_id":9893206,"reputation":791,"user_id":7325581,"accept_rate":20,"display_name":"Michael Tsai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":775,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666520513,"creation_date":1666366161,"question_id":74155949,"body_markdown":"I am using spring kafka dependency to build a kafka consumer to consume message from the topic. It often stop consuming message suddenly and there is no any error in log. If I restart the service, it can consume message normally. But it may stop consuming message again at some moment.\r\n\r\nIt is not possible to consume message over the max polling interval because each message will be processed within 1 min and the default max polling interval is 5 mins. And the frequency of message published is very low, it is around 1-2 messages per min.\r\n\r\nAnyone has encountered this problem? How can I solve it?","title":"Spring Kafka consumer often stop consume message from topic sometimes","body":"<p>I am using spring kafka dependency to build a kafka consumer to consume message from the topic. It often stop consuming message suddenly and there is no any error in log. If I restart the service, it can consume message normally. But it may stop consuming message again at some moment.</p>\n<p>It is not possible to consume message over the max polling interval because each message will be processed within 1 min and the default max polling interval is 5 mins. And the frequency of message published is very low, it is around 1-2 messages per min.</p>\n<p>Anyone has encountered this problem? How can I solve it?</p>\n"},{"tags":["java","spring-boot","hibernate","redis"],"answers":[{"comments":[{"owner":{"account_id":10149091,"reputation":372,"user_id":7496320,"accept_rate":0,"display_name":"Aks 1316"},"score":0,"creation_date":1656998041,"post_id":70298113,"comment_id":128698425,"body_markdown":"Hi Bohemian, I am also facing same issue as above and also tried POJO class but same error. Can you suggest some more ideas?","body":"Hi Bohemian, I am also facing same issue as above and also tried POJO class but same error. Can you suggest some more ideas?"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1657019590,"post_id":70298113,"comment_id":128704952,"body_markdown":"@Aks1316 You can&#39;t cast entity objects. You must serialise them or manually map them to a POJO","body":"@Aks1316 You can&#39;t cast entity objects. You must serialise them or manually map them to a POJO"},{"owner":{"account_id":10149091,"reputation":372,"user_id":7496320,"accept_rate":0,"display_name":"Aks 1316"},"score":0,"creation_date":1657024142,"post_id":70298113,"comment_id":128706572,"body_markdown":"I am not casting Entity to POGO. I am converting Entity to POGO manually using setter/getter then storing that POGO to redis and then using get operation and trying to set data in same POGO still I am getting error. \nclass com.dto.UserDto cannot be cast to class com.dto.UserDto","body":"I am not casting Entity to POGO. I am converting Entity to POGO manually using setter/getter then storing that POGO to redis and then using get operation and trying to set data in same POGO still I am getting error.  class com.dto.UserDto cannot be cast to class com.dto.UserDto"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1657055494,"post_id":70298113,"comment_id":128717561,"body_markdown":"@Aks1316 could be a class loader problem. Debug and see if the class of the POJO is `==` the target class. If not (likely) make sure the target class is loaded by the same class loader as what&#39;s retrieved from Redis. If that&#39;s too hard/awkward, use reflection to get the field values from the object and copy over the values to an instance of your target class. Alternatively, don&#39;t store objects in Redis; instead serialise to json and store json strings in redis, which is what I do because json is more durable to changes in the class.","body":"@Aks1316 could be a class loader problem. Debug and see if the class of the POJO is <code>==</code> the target class. If not (likely) make sure the target class is loaded by the same class loader as what&#39;s retrieved from Redis. If that&#39;s too hard/awkward, use reflection to get the field values from the object and copy over the values to an instance of your target class. Alternatively, don&#39;t store objects in Redis; instead serialise to json and store json strings in redis, which is what I do because json is more durable to changes in the class."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1639094111,"creation_date":1639093333,"answer_id":70298113,"question_id":70297666,"body_markdown":"Hibernate decorates the class, which is probably causing the problem, plus there are heavyweight references to the underlying database.\r\n\r\nI strongly recommend (whether you&#39;re using Redis or not) defining a [POJO][1] version of your entity and converting the entity class into the POJO as *early* as possible, and converting the POJO to the entity as *late* as possible, so your application deals with POJOs, and receives, validates and emits (from its API) POJOs, and the entity is *only* used when interacting with the database.\r\n\r\nStore POJO instances in Redis instead of entity instances.\r\n\r\nOr to be more robust, serialise your POJO to json and store the json string in redis, deserialising it on the way back. Jackson (which come for free with spring boot, supports this out of the box. It&#39;s super simple to implement, *plus* you can easily debug content in Redis by visual inspection of its content.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Pojo","title":"Unable to cast the Object to Entity Type","body":"<p>Hibernate decorates the class, which is probably causing the problem, plus there are heavyweight references to the underlying database.</p>\n<p>I strongly recommend (whether you're using Redis or not) defining a <a href=\"https://en.wikipedia.org/wiki/Pojo\" rel=\"nofollow noreferrer\">POJO</a> version of your entity and converting the entity class into the POJO as <em>early</em> as possible, and converting the POJO to the entity as <em>late</em> as possible, so your application deals with POJOs, and receives, validates and emits (from its API) POJOs, and the entity is <em>only</em> used when interacting with the database.</p>\n<p>Store POJO instances in Redis instead of entity instances.</p>\n<p>Or to be more robust, serialise your POJO to json and store the json string in redis, deserialising it on the way back. Jackson (which come for free with spring boot, supports this out of the box. It's super simple to implement, <em>plus</em> you can easily debug content in Redis by visual inspection of its content.</p>\n"},{"tags":[],"owner":{"account_id":10149091,"reputation":372,"user_id":7496320,"accept_rate":0,"display_name":"Aks 1316"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666520334,"creation_date":1666520334,"answer_id":74170327,"question_id":70297666,"body_markdown":"I have found the solution of this problem. I was making mistake. The only answer I found was this Hibernate decorated entity is causing issue.\r\nIt is not at all related to Hibernate.\r\nWhile we create redisTemplate we also adding key and value serialization.\r\nI was adding wrong seriazation.\r\n\r\n        redisTemplate.setKeySerializer(new StringRedisSerializer());\r\n        redisTemplate.setHashKeySerializer(new StringRedisSerializer()) \r\n        redisTemplate.setHashKeySerializer(newJdkSerializationRedisSerializer());\r\n        redisTemplate.setValueSerializer(new JdkSerializationRedisSerializer());\r\n\r\nBy Default seriazation is JDK and which is required. I was not using that and adding StringSeriazation so data was stored in String format in REDIS. So when we perform deserization we need to implement deserializer.  \r\n\r\nFor more details of Serialization refer below link\r\nhttps://medium.com/@betul5634/redis-serialization-with-spring-redis-data-lettuce-codec-1a1d2bc73d26\r\n","title":"Unable to cast the Object to Entity Type","body":"<p>I have found the solution of this problem. I was making mistake. The only answer I found was this Hibernate decorated entity is causing issue.\nIt is not at all related to Hibernate.\nWhile we create redisTemplate we also adding key and value serialization.\nI was adding wrong seriazation.</p>\n<pre><code>    redisTemplate.setKeySerializer(new StringRedisSerializer());\n    redisTemplate.setHashKeySerializer(new StringRedisSerializer()) \n    redisTemplate.setHashKeySerializer(newJdkSerializationRedisSerializer());\n    redisTemplate.setValueSerializer(new JdkSerializationRedisSerializer());\n</code></pre>\n<p>By Default seriazation is JDK and which is required. I was not using that and adding StringSeriazation so data was stored in String format in REDIS. So when we perform deserization we need to implement deserializer.</p>\n<p>For more details of Serialization refer below link\n<a href=\"https://medium.com/@betul5634/redis-serialization-with-spring-redis-data-lettuce-codec-1a1d2bc73d26\" rel=\"nofollow noreferrer\">https://medium.com/@betul5634/redis-serialization-with-spring-redis-data-lettuce-codec-1a1d2bc73d26</a></p>\n"}],"owner":{"account_id":13249424,"reputation":61,"user_id":9567391,"display_name":"PankajTekwani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":926,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1666520334,"creation_date":1639089874,"question_id":70297666,"body_markdown":"I am trying to use Redis Cache to improve the performance of our application. I am referring this [article][1] for my implementation. I am getting this exception:\r\n\r\n```\r\nclass com.entity.UserEntity cannot be cast to class com.entity.UserEntity\r\n```\r\nRedisConfig:\r\n```\r\n@Configuration\r\n@EnableCaching\r\npublic class RedisConfig {\r\n\r\n    @Value(&quot;${spring.redis.port}&quot;) int redisPort;\r\n    @Value(&quot;${spring.redis.host}&quot;) String redisHost;\r\n\r\n    @Bean\r\n    public LettuceConnectionFactory redisLettuceConnectionFactory() {\r\n        RedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration(redisHost,redisPort);\r\n        return new LettuceConnectionFactory(redisStandaloneConfiguration);\r\n    }\r\n\r\n    @Bean\r\n    public RedisTemplate&lt;String, Object&gt; redisTemplate() {\r\n        RedisTemplate&lt;String, Object&gt; redisTemplate = new RedisTemplate&lt;&gt;();\r\n        redisTemplate.setConnectionFactory(redisLettuceConnectionFactory());\r\n\r\n        redisTemplate.setKeySerializer(new StringRedisSerializer());\r\n        redisTemplate.setHashKeySerializer(new StringRedisSerializer());\r\n        redisTemplate.setHashKeySerializer(new JdkSerializationRedisSerializer());\r\n        redisTemplate.setValueSerializer(new JdkSerializationRedisSerializer());\r\n        redisTemplate.setEnableTransactionSupport(true);\r\n        redisTemplate.afterPropertiesSet();\r\n        return redisTemplate;\r\n    }\r\n}\r\n```\r\n\r\nUser Entity:\r\n\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@EqualsAndHashCode(callSuper=false)\r\n@Slf4j\r\n@Table(name=&quot;user&quot;)\r\npublic class UserEntity extends BaseEntity implements Serializable {\r\n\t\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @Column(name = &quot;user_id&quot;)\r\n    @Type(type = &quot;uuid-char&quot;)\r\n    private UUID userId;//Binary in DB and UUID here\r\n\r\n    @OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;user&quot;, orphanRemoval = true, cascade= CascadeType.ALL)\r\n    @JsonIgnore\r\n    @ToStringExclude\r\n    @Fetch(value = FetchMode.SUBSELECT)\r\n    private List&lt;EmailAddress&gt; emailAddresses = new ArrayList&lt;&gt;();\r\n   .\r\n   .\r\n   .\r\n}\r\n```\r\n\r\nUserDaoImpl\r\n```\r\n@Repository\r\npublic class UserDaoImpl implements UserDao {\r\n\r\n    private UserRepository userRepository;\r\n    private HashOperations hashOperations; //to access Redis cache\r\n    private static final String KEY = &quot;User&quot;;\r\n\r\n    public UserDaoImpl(@Autowired RedisTemplate&lt;String, Object&gt; redisTemplate, @Autowired UserRepository userRepository) {\r\n        this.userRepository = userRepository;\r\n        hashOperations = redisTemplate.opsForHash();\r\n    }\r\n\r\n    @Override\r\n    public Optional&lt;UserEntity&gt; fetchUserById(String userId) throws Exception {\r\n        \r\n// Getting Exception here (UserEntity) hashOperations.get(KEY,userId)\r\n        UserEntity userEntity = (UserEntity) hashOperations.get(KEY,userId);\r\n        Optional&lt;UserEntity&gt; userOptional = Optional.ofNullable(userEntity);\r\n        if(!userOptional.isPresent()) {\r\n            userOptional = userRepository.findByUserId(userId);\r\n            if (userOptional.isPresent()) {\r\n                System.out.println(&quot;Cache Miss User id:&quot; + userOptional.get().getUserId());\r\n                \r\n                hashOperations.put(KEY, userOptional.get().getUserId().toString(), userOptional.get());\r\n            } else {\r\n                throw new Exception(&quot;User not present&quot;);\r\n            }\r\n        }\r\n        return userOptional;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://kumarshivam-66534.medium.com/implementation-of-spring-boot-data-redis-for-caching-in-my-application-218d02c31191\r\n\r\nI am successfully able to put UserEntity in the Cache, but then on retrieval I get the exception mentioned above. Most likely, the issue is because of Hibernate. When we cache the entity first time it puts Proxy/PersistentBag in place of Collections, so next time (in some other session) when we retrieve the Object back from Cache we are unable to cast it to the required entity. Can someone confirm that this is the issue, if yes, how to resolve it?","title":"Unable to cast the Object to Entity Type","body":"<p>I am trying to use Redis Cache to improve the performance of our application. I am referring this <a href=\"https://kumarshivam-66534.medium.com/implementation-of-spring-boot-data-redis-for-caching-in-my-application-218d02c31191\" rel=\"nofollow noreferrer\">article</a> for my implementation. I am getting this exception:</p>\n<pre><code>class com.entity.UserEntity cannot be cast to class com.entity.UserEntity\n</code></pre>\n<p>RedisConfig:</p>\n<pre><code>@Configuration\n@EnableCaching\npublic class RedisConfig {\n\n    @Value(&quot;${spring.redis.port}&quot;) int redisPort;\n    @Value(&quot;${spring.redis.host}&quot;) String redisHost;\n\n    @Bean\n    public LettuceConnectionFactory redisLettuceConnectionFactory() {\n        RedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration(redisHost,redisPort);\n        return new LettuceConnectionFactory(redisStandaloneConfiguration);\n    }\n\n    @Bean\n    public RedisTemplate&lt;String, Object&gt; redisTemplate() {\n        RedisTemplate&lt;String, Object&gt; redisTemplate = new RedisTemplate&lt;&gt;();\n        redisTemplate.setConnectionFactory(redisLettuceConnectionFactory());\n\n        redisTemplate.setKeySerializer(new StringRedisSerializer());\n        redisTemplate.setHashKeySerializer(new StringRedisSerializer());\n        redisTemplate.setHashKeySerializer(new JdkSerializationRedisSerializer());\n        redisTemplate.setValueSerializer(new JdkSerializationRedisSerializer());\n        redisTemplate.setEnableTransactionSupport(true);\n        redisTemplate.afterPropertiesSet();\n        return redisTemplate;\n    }\n}\n</code></pre>\n<p>User Entity:</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@EqualsAndHashCode(callSuper=false)\n@Slf4j\n@Table(name=&quot;user&quot;)\npublic class UserEntity extends BaseEntity implements Serializable {\n    \n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @Column(name = &quot;user_id&quot;)\n    @Type(type = &quot;uuid-char&quot;)\n    private UUID userId;//Binary in DB and UUID here\n\n    @OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;user&quot;, orphanRemoval = true, cascade= CascadeType.ALL)\n    @JsonIgnore\n    @ToStringExclude\n    @Fetch(value = FetchMode.SUBSELECT)\n    private List&lt;EmailAddress&gt; emailAddresses = new ArrayList&lt;&gt;();\n   .\n   .\n   .\n}\n</code></pre>\n<p>UserDaoImpl</p>\n<pre><code>@Repository\npublic class UserDaoImpl implements UserDao {\n\n    private UserRepository userRepository;\n    private HashOperations hashOperations; //to access Redis cache\n    private static final String KEY = &quot;User&quot;;\n\n    public UserDaoImpl(@Autowired RedisTemplate&lt;String, Object&gt; redisTemplate, @Autowired UserRepository userRepository) {\n        this.userRepository = userRepository;\n        hashOperations = redisTemplate.opsForHash();\n    }\n\n    @Override\n    public Optional&lt;UserEntity&gt; fetchUserById(String userId) throws Exception {\n        \n// Getting Exception here (UserEntity) hashOperations.get(KEY,userId)\n        UserEntity userEntity = (UserEntity) hashOperations.get(KEY,userId);\n        Optional&lt;UserEntity&gt; userOptional = Optional.ofNullable(userEntity);\n        if(!userOptional.isPresent()) {\n            userOptional = userRepository.findByUserId(userId);\n            if (userOptional.isPresent()) {\n                System.out.println(&quot;Cache Miss User id:&quot; + userOptional.get().getUserId());\n                \n                hashOperations.put(KEY, userOptional.get().getUserId().toString(), userOptional.get());\n            } else {\n                throw new Exception(&quot;User not present&quot;);\n            }\n        }\n        return userOptional;\n    }\n}\n\n</code></pre>\n<p>I am successfully able to put UserEntity in the Cache, but then on retrieval I get the exception mentioned above. Most likely, the issue is because of Hibernate. When we cache the entity first time it puts Proxy/PersistentBag in place of Collections, so next time (in some other session) when we retrieve the Object back from Cache we are unable to cast it to the required entity. Can someone confirm that this is the issue, if yes, how to resolve it?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"score":1,"creation_date":1666517272,"post_id":74170001,"comment_id":130951878,"body_markdown":"Seems you are puting wrong tag,`javascript` is not `java`","body":"Seems you are puting wrong tag,<code>javascript</code> is not <code>java</code>"},{"owner":{"account_id":26707514,"reputation":1,"user_id":20313466,"display_name":"Savan Muller"},"score":0,"creation_date":1666517360,"post_id":74170001,"comment_id":130951888,"body_markdown":"I write program using android studio software. use java language","body":"I write program using android studio software. use java language"},{"owner":{"account_id":21140109,"reputation":146,"user_id":15542694,"display_name":"HMR"},"score":0,"creation_date":1666519243,"post_id":74170001,"comment_id":130952150,"body_markdown":"Can you share your layout file?","body":"Can you share your layout file?"}],"answers":[{"comments":[{"owner":{"account_id":26707514,"reputation":1,"user_id":20313466,"display_name":"Savan Muller"},"score":1,"creation_date":1666522191,"post_id":74170304,"comment_id":130952697,"body_markdown":"Thank you verymuch for this answer.\nI&#39;ll check it out and test it out","body":"Thank you verymuch for this answer. I&#39;ll check it out and test it out"}],"tags":[],"owner":{"account_id":21140109,"reputation":146,"user_id":15542694,"display_name":"HMR"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666520087,"creation_date":1666520087,"answer_id":74170304,"question_id":74170001,"body_markdown":"Use below method instead of Integer.parseInt()\r\n\r\n    private double parseDouble(EditText text){\r\n        try{\r\n            return Double.parseDouble(text.getText().toString());\r\n        } catch (NumberFormatException e) {\r\n            return 0D;\r\n        }\r\n    }\r\n\r\nReplace:\r\n\r\n    double tlon1 = Integer.parseInt(lon1.getText().toString());\r\n\r\nwith:\r\n\r\n    double tlon1 = parseDouble(lon1);\r\n\r\nYou can get a default value zero by getting all EditText values using above method.\r\n","title":"how to set default value for edittext is 1 number","body":"<p>Use below method instead of Integer.parseInt()</p>\n<pre><code>private double parseDouble(EditText text){\n    try{\n        return Double.parseDouble(text.getText().toString());\n    } catch (NumberFormatException e) {\n        return 0D;\n    }\n}\n</code></pre>\n<p>Replace:</p>\n<pre><code>double tlon1 = Integer.parseInt(lon1.getText().toString());\n</code></pre>\n<p>with:</p>\n<pre><code>double tlon1 = parseDouble(lon1);\n</code></pre>\n<p>You can get a default value zero by getting all EditText values using above method.</p>\n"}],"owner":{"account_id":26707514,"reputation":1,"user_id":20313466,"display_name":"Savan Muller"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666520087,"creation_date":1666517186,"question_id":74170001,"body_markdown":"I have a piece of java code.\r\nbut when I run the program, if I don&#39;t enter enough value fields for the lonx variables, I get an error.\r\nplease show me how I can run the program if the input EditText still doesn&#39;t have enough fields. thank you.\r\n\r\n\r\nAs shown in the picture, if I don&#39;t enter 4 Editext, when I press the button, the value of the text will not be displayed, but I will exit the application.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0U7zz.png\r\n\r\n-------------------\r\nI want the program to understand that if I don&#39;t enter it, the edittext will be treated as 0\r\n\r\nI tried to put `android:text(&quot;0&quot;);` in each EditText but it didn&#39;t work\r\n\r\n\r\n    package com.example.test2;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.TextView;\r\n\r\n    import org.w3c.dom.Text;\r\n\r\n    import java.text.DecimalFormat;\r\n\r\n    public class thitlon extends AppCompatActivity {\r\n\r\n        EditText lon1,lon2,lon3,lon4,lon5,lon6,lon7,lon8,lon9,lon10,lon11;\r\n        Button btquydoilon;\r\n        TextView textxoloc1,textnac2;\r\n\r\n        DecimalFormat currency = new DecimalFormat(&quot;###,###.##&quot;);\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_thitlon);\r\n\r\n            btquydoilon = findViewById(R.id.btquydoilon);\r\n            lon1 = findViewById(R.id.lon1);\r\n            lon2 = findViewById(R.id.lon2);\r\n            lon3 = findViewById(R.id.lon3);\r\n            lon4 = findViewById(R.id.lon4);\r\n            lon5 = findViewById(R.id.lon5);\r\n            lon6 = findViewById(R.id.lon6);\r\n            lon7 = findViewById(R.id.lon7);\r\n            lon8 = findViewById(R.id.lon8);\r\n            lon9 = findViewById(R.id.lon9);\r\n            lon10 = findViewById(R.id.lon10);\r\n            lon11 = findViewById(R.id.lon11);\r\n            textxoloc1 = findViewById(R.id.textxoloc1);\r\n            textnac2 = findViewById(R.id.textnac2);\r\n\r\n            btquydoilon.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    thitxoloc();\r\n                    thitnac();\r\n\r\n                }\r\n            });\r\n        }\r\n\r\n        private void thitxoloc() {\r\n            double tlon1 = Integer.parseInt(lon1.getText().toString());\r\n            double tlon2 = Integer.parseInt(lon2.getText().toString());\r\n            double tlon3 = Integer.parseInt(lon3.getText().toString());\r\n            double tlon4 = Integer.parseInt(lon4.getText().toString());\r\n            double tlon5 = Integer.parseInt(lon5.getText().toString());\r\n            double tlon6 = Integer.parseInt(lon6.getText().toString());\r\n            double tlon7 = Integer.parseInt(lon7.getText().toString());\r\n            double tlon8 = Integer.parseInt(lon8.getText().toString());\r\n            double tlon9 = Integer.parseInt(lon9.getText().toString());\r\n            double tlon10 = Integer.parseInt(lon10.getText().toString());\r\n            double tlon11 = Integer.parseInt(lon11.getText().toString());\r\n            double thitxoloc = ((tlon5 + tlon6 +tlon7) * 0) + (tlon1 * 0.5) + (tlon2 * 0.6) + (tlon3 * 0.67) + (tlon4 * 0.6) + tlon8 + (tlon9 * 0.25) + (tlon10 * 0.3) + tlon11;\r\n            textxoloc1.setText(&quot;thit: &quot; + currency.format(thitxoloc) + &quot; kg.&quot;);\r\n        }\r\n\r\n        private void thitnac() {\r\n            double tlon1 = Integer.parseInt(lon1.getText().toString());\r\n            double tlon2 = Integer.parseInt(lon2.getText().toString());\r\n            double tlon3 = Integer.parseInt(lon3.getText().toString());\r\n            double tlon4 = Integer.parseInt(lon4.getText().toString());\r\n            double tlon5 = Integer.parseInt(lon5.getText().toString());\r\n            double tlon6 = Integer.parseInt(lon6.getText().toString());\r\n            double tlon7 = Integer.parseInt(lon7.getText().toString());\r\n            double tlon8 = Integer.parseInt(lon8.getText().toString());\r\n            double tlon9 = Integer.parseInt(lon9.getText().toString());\r\n            double tlon10 = Integer.parseInt(lon10.getText().toString());\r\n            double tlon11 = Integer.parseInt(lon11.getText().toString());\r\n            double thitnac = (tlon1 * 0.5) + (tlon2 * 0.4) + (tlon3 * 0.33) + (tlon4 * 0) + (tlon5 * 0.6) + (tlon6 * 0.3) + tlon7 + tlon8 + (tlon9 * 0.25) + (tlon10 * 0.3) + tlon11;\r\n            textnac2.setText(&quot;THa: &quot; + currency.format(thitnac) + &quot; kg.&quot;);\r\n        }\r\n\r\n\r\n    }\r\n","title":"how to set default value for edittext is 1 number","body":"<p>I have a piece of java code.\nbut when I run the program, if I don't enter enough value fields for the lonx variables, I get an error.\nplease show me how I can run the program if the input EditText still doesn't have enough fields. thank you.</p>\n<p>As shown in the picture, if I don't enter 4 Editext, when I press the button, the value of the text will not be displayed, but I will exit the application.</p>\n<p><img src=\"https://i.stack.imgur.com/0U7zz.png\" alt=\"enter image description here\" /></p>\n<hr />\n<p>I want the program to understand that if I don't enter it, the edittext will be treated as 0</p>\n<p>I tried to put <code>android:text(&quot;0&quot;);</code> in each EditText but it didn't work</p>\n<pre><code>package com.example.test2;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\nimport org.w3c.dom.Text;\n\nimport java.text.DecimalFormat;\n\npublic class thitlon extends AppCompatActivity {\n\n    EditText lon1,lon2,lon3,lon4,lon5,lon6,lon7,lon8,lon9,lon10,lon11;\n    Button btquydoilon;\n    TextView textxoloc1,textnac2;\n\n    DecimalFormat currency = new DecimalFormat(&quot;###,###.##&quot;);\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_thitlon);\n\n        btquydoilon = findViewById(R.id.btquydoilon);\n        lon1 = findViewById(R.id.lon1);\n        lon2 = findViewById(R.id.lon2);\n        lon3 = findViewById(R.id.lon3);\n        lon4 = findViewById(R.id.lon4);\n        lon5 = findViewById(R.id.lon5);\n        lon6 = findViewById(R.id.lon6);\n        lon7 = findViewById(R.id.lon7);\n        lon8 = findViewById(R.id.lon8);\n        lon9 = findViewById(R.id.lon9);\n        lon10 = findViewById(R.id.lon10);\n        lon11 = findViewById(R.id.lon11);\n        textxoloc1 = findViewById(R.id.textxoloc1);\n        textnac2 = findViewById(R.id.textnac2);\n\n        btquydoilon.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                thitxoloc();\n                thitnac();\n\n            }\n        });\n    }\n\n    private void thitxoloc() {\n        double tlon1 = Integer.parseInt(lon1.getText().toString());\n        double tlon2 = Integer.parseInt(lon2.getText().toString());\n        double tlon3 = Integer.parseInt(lon3.getText().toString());\n        double tlon4 = Integer.parseInt(lon4.getText().toString());\n        double tlon5 = Integer.parseInt(lon5.getText().toString());\n        double tlon6 = Integer.parseInt(lon6.getText().toString());\n        double tlon7 = Integer.parseInt(lon7.getText().toString());\n        double tlon8 = Integer.parseInt(lon8.getText().toString());\n        double tlon9 = Integer.parseInt(lon9.getText().toString());\n        double tlon10 = Integer.parseInt(lon10.getText().toString());\n        double tlon11 = Integer.parseInt(lon11.getText().toString());\n        double thitxoloc = ((tlon5 + tlon6 +tlon7) * 0) + (tlon1 * 0.5) + (tlon2 * 0.6) + (tlon3 * 0.67) + (tlon4 * 0.6) + tlon8 + (tlon9 * 0.25) + (tlon10 * 0.3) + tlon11;\n        textxoloc1.setText(&quot;thit: &quot; + currency.format(thitxoloc) + &quot; kg.&quot;);\n    }\n\n    private void thitnac() {\n        double tlon1 = Integer.parseInt(lon1.getText().toString());\n        double tlon2 = Integer.parseInt(lon2.getText().toString());\n        double tlon3 = Integer.parseInt(lon3.getText().toString());\n        double tlon4 = Integer.parseInt(lon4.getText().toString());\n        double tlon5 = Integer.parseInt(lon5.getText().toString());\n        double tlon6 = Integer.parseInt(lon6.getText().toString());\n        double tlon7 = Integer.parseInt(lon7.getText().toString());\n        double tlon8 = Integer.parseInt(lon8.getText().toString());\n        double tlon9 = Integer.parseInt(lon9.getText().toString());\n        double tlon10 = Integer.parseInt(lon10.getText().toString());\n        double tlon11 = Integer.parseInt(lon11.getText().toString());\n        double thitnac = (tlon1 * 0.5) + (tlon2 * 0.4) + (tlon3 * 0.33) + (tlon4 * 0) + (tlon5 * 0.6) + (tlon6 * 0.3) + tlon7 + tlon8 + (tlon9 * 0.25) + (tlon10 * 0.3) + tlon11;\n        textnac2.setText(&quot;THa: &quot; + currency.format(thitnac) + &quot; kg.&quot;);\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","user-input"],"answers":[{"tags":[],"owner":{"account_id":17065598,"reputation":183,"user_id":12347865,"display_name":"Max"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666519704,"creation_date":1666518982,"answer_id":74170183,"question_id":74170037,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \r\n        public static void printOptions() {\r\n            System.out.println(&quot;1. Display Audio Files&quot;);\r\n            System.out.println(&quot;2. Display Compact Discs&quot;);\r\n            System.out.println(&quot;3. Display Vinyl Records&quot;);\r\n            System.out.println(&quot;4. Exit&quot;);\r\n        }\r\n    \r\n        public static void close(Scanner scanner) {\r\n            System.out.println(&quot;Bye Bye :]&quot;);\r\n            scanner.close();\r\n        }\r\n    \r\n        public static void displayMenu() {\r\n            Scanner scanner = new Scanner(System.in);\r\n            String choice;\r\n            printOptions();\r\n            while (true) {\r\n                if (scanner.hasNextInt()) {\r\n                    choice = scanner.nextLine();\r\n                    switch (choice) {\r\n                        case &quot;1&quot; -&gt; System.out.println(&quot;1&quot;);\r\n                        case &quot;2&quot; -&gt; System.out.println(&quot;2&quot;);\r\n                        case &quot;3&quot; -&gt; System.out.println(&quot;3&quot;);\r\n                        case &quot;4&quot; -&gt; {\r\n                            close(scanner);\r\n                            return;\r\n                        }\r\n                        default -&gt; {\r\n                            System.out.println(&quot;You gave a bad input! Try again!!!&quot;);\r\n                        }\r\n                    }\r\n                } else {\r\n                    close(scanner);\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            displayMenu();\r\n        }\r\n    }\r\n\r\n","title":"User Input Menu in Java","body":"<pre><code>import java.util.Scanner;\n\npublic class Main {\n\n    public static void printOptions() {\n        System.out.println(&quot;1. Display Audio Files&quot;);\n        System.out.println(&quot;2. Display Compact Discs&quot;);\n        System.out.println(&quot;3. Display Vinyl Records&quot;);\n        System.out.println(&quot;4. Exit&quot;);\n    }\n\n    public static void close(Scanner scanner) {\n        System.out.println(&quot;Bye Bye :]&quot;);\n        scanner.close();\n    }\n\n    public static void displayMenu() {\n        Scanner scanner = new Scanner(System.in);\n        String choice;\n        printOptions();\n        while (true) {\n            if (scanner.hasNextInt()) {\n                choice = scanner.nextLine();\n                switch (choice) {\n                    case &quot;1&quot; -&gt; System.out.println(&quot;1&quot;);\n                    case &quot;2&quot; -&gt; System.out.println(&quot;2&quot;);\n                    case &quot;3&quot; -&gt; System.out.println(&quot;3&quot;);\n                    case &quot;4&quot; -&gt; {\n                        close(scanner);\n                        return;\n                    }\n                    default -&gt; {\n                        System.out.println(&quot;You gave a bad input! Try again!!!&quot;);\n                    }\n                }\n            } else {\n                close(scanner);\n                return;\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        displayMenu();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26677527,"reputation":1,"user_id":20287963,"display_name":"ArrowTron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666519704,"creation_date":1666517582,"question_id":74170037,"body_markdown":"How would I make it so that if my user inputs a bad input, the program would tell them to try again and get the input to test if the input it good\r\n\r\nMy code consists of:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public void displayMenu() {\r\n    \t\tScanner scanner = new Scanner(System.in);\r\n    \t\tString choice = &quot;0&quot;;\r\n            while (!(choice.equals(&quot;4&quot;))) {\r\n            \tSystem.out.println(&quot;1. Display Audio Files&quot;);\r\n                System.out.println(&quot;2. Display Compact Discs&quot;);\r\n                System.out.println(&quot;3. Display Vinyl Records&quot;);\r\n                System.out.println(&quot;4. Exit&quot;);\r\n                if (scanner.hasNextInt()) {\r\n                \t choice = scanner.nextLine();\r\n                     System.out.println(choice);\r\n                     if (choice.equals(&quot;1&quot;)) {\r\n                       \t\t//Display the audio Files from musicLibrary library\r\n                       \t\t//library.displayChoice(&quot;af&quot;);\r\n                     }\r\n                     if (choice.equals(&quot;2&quot;)) {\r\n                     //Display the compact Discs from musicLibrary library\r\n                      //library.displayChoice(&quot;cd&quot;);\r\n                     }\r\n                     if (choice.equals(&quot;3&quot;)) {\r\n                       \t\t//Display the Vinyl Records from musicLibrary library\r\n                      library.displayChoice(&quot;vr&quot;);\r\n                     }\r\n                }\r\n                else {\r\n                 System.out.println(&quot;You gave a bad input! Try again!!!&quot;);\r\n                 \tchoice = scanner.nextLine();\r\n                  \t\t//System.out.println(&quot;1. Display Audio Files&quot;);\r\n                  \t\t//System.out.println(&quot;2. Display Compact Discs&quot;);\r\n                      \t//System.out.println(&quot;3. Display Vinyl Records&quot;);\r\n                      \t//System.out.println(&quot;4. Exit&quot;);\r\n                  \t\t//choice = scanner.nextLine();\r\n                 }\r\n                  \t\r\n            \t}\r\n            \r\n          \r\n            System.out.println(&quot;Bye Bye :]&quot;);\r\n            scanner.close();\r\n    \t}\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nRight now, it would just repeat the system outputs right under the while loop and I am unsure why. I am printing out the input that the user gives, to help debug, but I still don&#39;t understand what is going wrong.\r\n\r\nAny ideas on how I approach this?","title":"User Input Menu in Java","body":"<p>How would I make it so that if my user inputs a bad input, the program would tell them to try again and get the input to test if the input it good</p>\n<p>My code consists of:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public void displayMenu() {\n        Scanner scanner = new Scanner(System.in);\n        String choice = \"0\";\n        while (!(choice.equals(\"4\"))) {\n            System.out.println(\"1. Display Audio Files\");\n            System.out.println(\"2. Display Compact Discs\");\n            System.out.println(\"3. Display Vinyl Records\");\n            System.out.println(\"4. Exit\");\n            if (scanner.hasNextInt()) {\n                 choice = scanner.nextLine();\n                 System.out.println(choice);\n                 if (choice.equals(\"1\")) {\n                        //Display the audio Files from musicLibrary library\n                        //library.displayChoice(\"af\");\n                 }\n                 if (choice.equals(\"2\")) {\n                 //Display the compact Discs from musicLibrary library\n                  //library.displayChoice(\"cd\");\n                 }\n                 if (choice.equals(\"3\")) {\n                        //Display the Vinyl Records from musicLibrary library\n                  library.displayChoice(\"vr\");\n                 }\n            }\n            else {\n             System.out.println(\"You gave a bad input! Try again!!!\");\n                choice = scanner.nextLine();\n                    //System.out.println(\"1. Display Audio Files\");\n                    //System.out.println(\"2. Display Compact Discs\");\n                    //System.out.println(\"3. Display Vinyl Records\");\n                    //System.out.println(\"4. Exit\");\n                    //choice = scanner.nextLine();\n             }\n                \n            }\n        \n      \n        System.out.println(\"Bye Bye :]\");\n        scanner.close();\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Right now, it would just repeat the system outputs right under the while loop and I am unsure why. I am printing out the input that the user gives, to help debug, but I still don't understand what is going wrong.</p>\n<p>Any ideas on how I approach this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1666504292,"post_id":74168927,"comment_id":130950187,"body_markdown":"You probably at least nead to add a `&quot;\\n&quot;` to the end of your command.  You might also want to add a `writer.flush();`. As it is now, the other side will be waiting for you to finish sending the command you want to run, as you&#39;ve given it no reason to think that it&#39;s received a complete command.","body":"You probably at least nead to add a <code>&quot;\\n&quot;</code> to the end of your command.  You might also want to add a <code>writer.flush();</code>. As it is now, the other side will be waiting for you to finish sending the command you want to run, as you&#39;ve given it no reason to think that it&#39;s received a complete command."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1666508520,"post_id":74168927,"comment_id":130950687,"body_markdown":"You&#39;re also calling `readLine` twice, but ignoring every other input :/","body":"You&#39;re also calling <code>readLine</code> twice, but ignoring every other input :/"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1666514687,"post_id":74168927,"comment_id":130951521,"body_markdown":"It appears that you want to emulate a Windows command prompt using class `ProcessBuilder`. This is not trivial. In my opinion, the purpose of class `ProcessBuilder` is to execute a single, non-interactive command. While it is trivial to fix your code such that it prints out the out put of `dir`, the `while` loop will never terminate since `read.readLine()` will never return null. You probably need to re-think how to achieve what you are trying to do. Maybe [edit] your question and describe the problem you are trying to solve.","body":"It appears that you want to emulate a Windows command prompt using class <code>ProcessBuilder</code>. This is not trivial. In my opinion, the purpose of class <code>ProcessBuilder</code> is to execute a single, non-interactive command. While it is trivial to fix your code such that it prints out the out put of <code>dir</code>, the <code>while</code> loop will never terminate since <code>read.readLine()</code> will never return null. You probably need to re-think how to achieve what you are trying to do. Maybe <a href=\"https://stackoverflow.com/posts/74168927/edit\">edit</a> your question and describe the problem you are trying to solve."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666510817,"creation_date":1666510817,"answer_id":74169414,"question_id":74168927,"body_markdown":"You invoke the ProcessBuilder.start() method. The method returns a Process instance, and in it&#39;s documentation you can read\r\n\r\nBy default, the created process does not have its own terminal or console. All its standard I/O (i.e. stdin, stdout, stderr) operations will be redirected to the parent process, where they can be accessed via the streams obtained using the methods getOutputStream(), getInputStream(), and getErrorStream(). The parent process uses these streams to feed input to and get output from the process. Because some native platforms only provide limited buffer size for standard input and output streams, failure to promptly write the input stream or read the output stream of the process may cause the process to block, or even deadlock.\r\n\r\nSo it is likely your process is started by the OS but gets blocked due to I/O restrictions. Get around that by reading the STDOUT and STDERR streams until your process finishes. Or redirect the streams, like so:\r\n\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;cmd.exe&quot;);\r\n    pb.redirectOutput(ProcessBuilder.Redirect.INHERIT);\r\n    pb.redirectError(ProcessBuilder.Redirect.INHERIT);\r\n    Process p = pb.start();\r\n    p.waitFor();\r\n    System.out.println(&quot;process exited with &quot; + p.exitValue());","title":"ProcessBuilder execute command on cmd","body":"<p>You invoke the ProcessBuilder.start() method. The method returns a Process instance, and in it's documentation you can read</p>\n<p>By default, the created process does not have its own terminal or console. All its standard I/O (i.e. stdin, stdout, stderr) operations will be redirected to the parent process, where they can be accessed via the streams obtained using the methods getOutputStream(), getInputStream(), and getErrorStream(). The parent process uses these streams to feed input to and get output from the process. Because some native platforms only provide limited buffer size for standard input and output streams, failure to promptly write the input stream or read the output stream of the process may cause the process to block, or even deadlock.</p>\n<p>So it is likely your process is started by the OS but gets blocked due to I/O restrictions. Get around that by reading the STDOUT and STDERR streams until your process finishes. Or redirect the streams, like so:</p>\n<pre><code>ProcessBuilder pb = new ProcessBuilder(&quot;cmd.exe&quot;);\npb.redirectOutput(ProcessBuilder.Redirect.INHERIT);\npb.redirectError(ProcessBuilder.Redirect.INHERIT);\nProcess p = pb.start();\np.waitFor();\nSystem.out.println(&quot;process exited with &quot; + p.exitValue());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666519704,"creation_date":1666518884,"answer_id":74170169,"question_id":74168927,"body_markdown":"You have not sent system line separator to terminate the line for `cmd.exe`. This demonstrates one way to set up the command:\r\n\r\n    public static void main(String ... args) throws IOException, InterruptedException {\r\n        String cmd=&quot;cmd.exe&quot;;\r\n\r\n        Process p=new ProcessBuilder(cmd).redirectErrorStream(true).start();\r\n\r\n        try(Writer stdin = new OutputStreamWriter(p.getOutputStream())) {\r\n            stdin.write(&quot;dir&quot;+System.lineSeparator());\r\n        }\r\n        p.getInputStream().transferTo(System.out);\r\n        int rc = p.waitFor();\r\n        System.out.println(&quot;waitFor()=&quot;+rc);\r\n    }\r\n\r\nNote that the above is a demonstration. If you plan to send many commands to the STDIN of sub-process you will need to `stdin.flush()` to ensure each command is sent and read / write stdout / stdin in separate threads or the I/O will stall. \r\n\r\n","title":"ProcessBuilder execute command on cmd","body":"<p>You have not sent system line separator to terminate the line for <code>cmd.exe</code>. This demonstrates one way to set up the command:</p>\n<pre><code>public static void main(String ... args) throws IOException, InterruptedException {\n    String cmd=&quot;cmd.exe&quot;;\n\n    Process p=new ProcessBuilder(cmd).redirectErrorStream(true).start();\n\n    try(Writer stdin = new OutputStreamWriter(p.getOutputStream())) {\n        stdin.write(&quot;dir&quot;+System.lineSeparator());\n    }\n    p.getInputStream().transferTo(System.out);\n    int rc = p.waitFor();\n    System.out.println(&quot;waitFor()=&quot;+rc);\n}\n</code></pre>\n<p>Note that the above is a demonstration. If you plan to send many commands to the STDIN of sub-process you will need to <code>stdin.flush()</code> to ensure each command is sent and read / write stdout / stdin in separate threads or the I/O will stall.</p>\n"}],"owner":{"account_id":21283833,"reputation":1,"user_id":15661834,"display_name":"Jehad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1666519704,"creation_date":1666503842,"question_id":74168927,"body_markdown":"I facing problem on cmd Process i can&#39;t execute command on cmd and retrieve the result and  print it. anyone can help me ?\r\n\r\n\r\n\r\n    public class rev {\r\n    \tpublic static void main(String args[]) throws InterruptedException, IOException {\r\n    \t\tString host=&quot;127.0.0.1&quot;;\r\n    \t\tint port=4444;\r\n    \t\tString cmd=&quot;cmd.exe&quot;,readLine;\r\n    \t\tBufferedWriter writer;\r\n    \t\tBufferedReader read;\r\n    \t\t\r\n    \t\t\r\n    \t\tProcess p=new ProcessBuilder(cmd).redirectErrorStream(true).start();\r\n    \t\tSocket s=new Socket(host,port);\r\n    \t\t\r\n    \t\tSystem.out.print(p.getInputStream().read());\r\n    \t\twriter = new BufferedWriter(new OutputStreamWriter(p.getOutputStream()));\r\n    \t\twriter.write(&quot;dir&quot;);\r\n    \t\tread = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n    \t\twhile((readLine = read.readLine()) != null) {\r\n    \t\t\tSystem.out.print(read.readLine());\r\n    \t\t}\r\n    \t}\r\n    }","title":"ProcessBuilder execute command on cmd","body":"<p>I facing problem on cmd Process i can't execute command on cmd and retrieve the result and  print it. anyone can help me ?</p>\n<pre><code>public class rev {\n    public static void main(String args[]) throws InterruptedException, IOException {\n        String host=&quot;127.0.0.1&quot;;\n        int port=4444;\n        String cmd=&quot;cmd.exe&quot;,readLine;\n        BufferedWriter writer;\n        BufferedReader read;\n        \n        \n        Process p=new ProcessBuilder(cmd).redirectErrorStream(true).start();\n        Socket s=new Socket(host,port);\n        \n        System.out.print(p.getInputStream().read());\n        writer = new BufferedWriter(new OutputStreamWriter(p.getOutputStream()));\n        writer.write(&quot;dir&quot;);\n        read = new BufferedReader(new InputStreamReader(p.getInputStream()));\n        while((readLine = read.readLine()) != null) {\n            System.out.print(read.readLine());\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","json","parent-child","org.json"],"answers":[{"comments":[{"owner":{"account_id":26501604,"reputation":51,"user_id":20138458,"display_name":"Ontkibbeling"},"score":0,"creation_date":1666516767,"post_id":74163631,"comment_id":130951808,"body_markdown":"Thank you for your reply!\nRight, so I should&#39;ve gotten this last method out of my Activity class. I had already started creating an IO class, handling input/output and database communication, but somehow I felt the creation of a JSONObject of this specific class, should stay. Good to hear that you disagree, I was in doubt. However, I do feel that the creation of an Activity in the database, which consists of reading, updating and writing JSON, should be bundled together, don&#39;t you think? Somehow those 3 steps must be consecutively. I have separated them into getJsonArray() and putObjInArr().","body":"Thank you for your reply! Right, so I should&#39;ve gotten this last method out of my Activity class. I had already started creating an IO class, handling input/output and database communication, but somehow I felt the creation of a JSONObject of this specific class, should stay. Good to hear that you disagree, I was in doubt. However, I do feel that the creation of an Activity in the database, which consists of reading, updating and writing JSON, should be bundled together, don&#39;t you think? Somehow those 3 steps must be consecutively. I have separated them into getJsonArray() and putObjInArr()."},{"owner":{"account_id":26501604,"reputation":51,"user_id":20138458,"display_name":"Ontkibbeling"},"score":0,"creation_date":1666517738,"post_id":74163631,"comment_id":130951934,"body_markdown":"And to answer my question, you do suggest I use a map then, right?","body":"And to answer my question, you do suggest I use a map then, right?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1666518813,"post_id":74163631,"comment_id":130952074,"body_markdown":"@Ontkibbeling *&quot;reading, updating and writing JSON, should be bundled together&quot;* - You can have an operation which require these tree steps, and consequently an **instance method** representing this operation (that&#39;s normal). But the whole logic should **not** reside in this method because it becomes hard to test, extend and reuse this functionality (see the link to the Single responsibility principle in the answer). Instead, the **instance method** representing this operation should delegate each step to one of the utility methods.","body":"@Ontkibbeling <i>&quot;reading, updating and writing JSON, should be bundled together&quot;</i> - You can have an operation which require these tree steps, and consequently an <b>instance method</b> representing this operation (that&#39;s normal). But the whole logic should <b>not</b> reside in this method because it becomes hard to test, extend and reuse this functionality (see the link to the Single responsibility principle in the answer). Instead, the <b>instance method</b> representing this operation should delegate each step to one of the utility methods."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1666519028,"post_id":74163631,"comment_id":130952103,"body_markdown":"@Ontkibbeling I.e. instance method `createActivity()` can make several delegating calls, maybe perform some minor data manipulation in between, but the main logic needs to be split and separated away. That&#39;s the way to make the code simple and reusable. Seems like I didn&#39;t clarify that properly in the answer.","body":"@Ontkibbeling I.e. instance method <code>createActivity()</code> can make several delegating calls, maybe perform some minor data manipulation in between, but the main logic needs to be split and separated away. That&#39;s the way to make the code simple and reusable. Seems like I didn&#39;t clarify that properly in the answer."},{"owner":{"account_id":26501604,"reputation":51,"user_id":20138458,"display_name":"Ontkibbeling"},"score":0,"creation_date":1666519299,"post_id":74163631,"comment_id":130952159,"body_markdown":"Okay, so I was on the right path with my IO.getJsonArray() and IO.putObjInArr(), but I should in addition to that also have the updating of the JSON in a separate method. Just to clarify the bit about the static class: A static class is only allowed when it is nested, right? It is not altogether possible as an outer class? So then I could separate all my JSON-related methods in my IO.java into a nested static JsonUtils class maybe...","body":"Okay, so I was on the right path with my IO.getJsonArray() and IO.putObjInArr(), but I should in addition to that also have the updating of the JSON in a separate method. Just to clarify the bit about the static class: A static class is only allowed when it is nested, right? It is not altogether possible as an outer class? So then I could separate all my JSON-related methods in my IO.java into a nested static JsonUtils class maybe..."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1666519353,"post_id":74163631,"comment_id":130952171,"body_markdown":"@Ontkibbeling *&quot;you do suggest I use a map&quot;* - `Map` is an easy way to supply several key-value pair as an argument. Note that you can create a Map right on the spot using Java 9 method `Map.of()`. Example: `Map.of(&quot;userID&quot;,userID,&quot;actDate&quot;, actDate)`.","body":"@Ontkibbeling <i>&quot;you do suggest I use a map&quot;</i> - <code>Map</code> is an easy way to supply several key-value pair as an argument. Note that you can create a Map right on the spot using Java 9 method <code>Map.of()</code>. Example: <code>Map.of(&quot;userID&quot;,userID,&quot;actDate&quot;, actDate)</code>."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666519682,"post_id":74163631,"comment_id":130952236,"body_markdown":"@Ontkibbeling Regarding `static` modifier on the class, sure, it&#39;s only allowed when the class is nested, and I would rather advise placing utility class into a **separate file** (sorry for causing confusion, it was an artifact that I forget to remove).","body":"@Ontkibbeling Regarding <code>static</code> modifier on the class, sure, it&#39;s only allowed when the class is nested, and I would rather advise placing utility class into a <b>separate file</b> (sorry for causing confusion, it was an artifact that I forget to remove)."},{"owner":{"account_id":26501604,"reputation":51,"user_id":20138458,"display_name":"Ontkibbeling"},"score":0,"creation_date":1666524843,"post_id":74163631,"comment_id":130953186,"body_markdown":"One last thing: in _map.forEach(json::put)_ this shorthand notation _json::put_ is new to me. What keywords should I google to learn more about it?","body":"One last thing: in <i>map.forEach(json::put)</i> this shorthand notation <i>json::put</i> is new to me. What keywords should I google to learn more about it?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1666526396,"post_id":74163631,"comment_id":130953476,"body_markdown":"@Ontkibbeling `json::put` is called [method reference](https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html). It&#39;s one of the functional programming features introduced in the language with Java 8. And it&#39;s a very broad topic. I would recommend to start with learning about [lambda expressions](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html) and playing with simple examples. In short, both lambdas and method references are meant to represent an action and should conform to so-called *functional interface*.","body":"@Ontkibbeling <code>json::put</code> is called <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method reference</a>. It&#39;s one of the functional programming features introduced in the language with Java 8. And it&#39;s a very broad topic. I would recommend to start with learning about <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">lambda expressions</a> and playing with simple examples. In short, both lambdas and method references are meant to represent an action and should conform to so-called <i>functional interface</i>."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666519470,"creation_date":1666442243,"answer_id":74163631,"question_id":74162486,"body_markdown":"The problem you&#39;ve faced has two main causes:\r\n\r\n* The functionality of this method is tightly coupled to the needs of a particular class. And as a consequence can be difficult to reuse in other classes.\r\n\r\n* The method itself violates the first principle of SOLID, the [*Single responsibility principle*](https://en.wikipedia.org/wiki/Single-responsibility_principle), which states that a class should have only one reason to change. But there&#39;s a whole lot of things happening in `createActivity()`: it reads JSON from a file, it alters the `JSONobject`, it updates the file.\r\n\r\nBasically, all pieces of functionality that can be observed `createActivity()` should not be coupled to any class. Instead, this method can be split into several `static` methods, each representing a separate responsibility. And this method can be grouped into a Utility class.\r\n\r\nThat&#39;s how such class might look like:\r\n\r\n    public class JsonUtils {\r\n        \r\n        private JsonUtils() {} // no way and no need to invoke the constructor of this class\r\n    \r\n        public JSONObject readFromFile(Path path) throws IOException {\r\n            \r\n            String json = Files.readString(path);\r\n            return new JSONObject(json);\r\n        }\r\n    \r\n        public void updateJsonObject(Map&lt;String, ?&gt; map, JSONObject json) {\r\n            \r\n            map.forEach(json::put);\r\n        }\r\n    \r\n        public void writeToFile(Path path, JSONObject json) throws IOException {\r\n            \r\n            Files.writeString(path,json.toString());\r\n        }\r\n    \r\n        public void writeToFile(Path path, JSONObject json, OpenOption... options) throws IOException {\r\n        \r\n            Files.writeString(path,json.toString(), options);\r\n        }\r\n        \r\n        // other methods\r\n    }\r\n\r\n**Note:** `File` class is legacy. The recommended alternative is to use `Path` from NIO API. And if you make use of `Files` utility class from NIO.2 as shown in the example above, it would immensely simplify code of IO-processing methods.","title":"Writing child instance variables to JSONObject","body":"<p>The problem you've faced has two main causes:</p>\n<ul>\n<li><p>The functionality of this method is tightly coupled to the needs of a particular class. And as a consequence can be difficult to reuse in other classes.</p>\n</li>\n<li><p>The method itself violates the first principle of SOLID, the <a href=\"https://en.wikipedia.org/wiki/Single-responsibility_principle\" rel=\"nofollow noreferrer\"><em>Single responsibility principle</em></a>, which states that a class should have only one reason to change. But there's a whole lot of things happening in <code>createActivity()</code>: it reads JSON from a file, it alters the <code>JSONobject</code>, it updates the file.</p>\n</li>\n</ul>\n<p>Basically, all pieces of functionality that can be observed <code>createActivity()</code> should not be coupled to any class. Instead, this method can be split into several <code>static</code> methods, each representing a separate responsibility. And this method can be grouped into a Utility class.</p>\n<p>That's how such class might look like:</p>\n<pre><code>public class JsonUtils {\n    \n    private JsonUtils() {} // no way and no need to invoke the constructor of this class\n\n    public JSONObject readFromFile(Path path) throws IOException {\n        \n        String json = Files.readString(path);\n        return new JSONObject(json);\n    }\n\n    public void updateJsonObject(Map&lt;String, ?&gt; map, JSONObject json) {\n        \n        map.forEach(json::put);\n    }\n\n    public void writeToFile(Path path, JSONObject json) throws IOException {\n        \n        Files.writeString(path,json.toString());\n    }\n\n    public void writeToFile(Path path, JSONObject json, OpenOption... options) throws IOException {\n    \n        Files.writeString(path,json.toString(), options);\n    }\n    \n    // other methods\n}\n</code></pre>\n<p><strong>Note:</strong> <code>File</code> class is legacy. The recommended alternative is to use <code>Path</code> from NIO API. And if you make use of <code>Files</code> utility class from NIO.2 as shown in the example above, it would immensely simplify code of IO-processing methods.</p>\n"}],"owner":{"account_id":26501604,"reputation":51,"user_id":20138458,"display_name":"Ontkibbeling"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74163631,"answer_count":1,"score":1,"last_activity_date":1666519470,"creation_date":1666431780,"question_id":74162486,"body_markdown":"So recently I figured out how to work with JSON in java, and created code that writes, reads and updates information (mostly classes) to and from my JSON database. In my class &#39;Activity&#39; I have a method that writes the class object to JSON:\r\n\r\n    public void createActivity() {\r\n        File file = database;\r\n        JSONObject newActivity = new JSONObject();\r\n        setRegDate(LocalDate.now());\r\n        try {\r\n            actID = IO.getJsonArray(file, &quot;Activities&quot;).length() + 1;\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Exception: Could not set new activity ID.&quot;);\r\n        }\r\n\r\n\r\n\r\n        newActivity.put(&quot;userID&quot;, userID);\r\n        newActivity.put(&quot;actDate&quot;, actDate);\r\n        newActivity.put(&quot;regDate&quot;, regDate);\r\n        newActivity.put(&quot;actID&quot;, actID);\r\n        newActivity.put(&quot;description&quot;, description);\r\n        newActivity.put(&quot;coach&quot;, coach);\r\n        \r\n\r\n        try {//Writes new user JSONObject to account file.\r\n            IO.putObjInArr(file, newActivity, &quot;Activities&quot;);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Exception: Creating activity failed.&quot;);\r\n        }\r\n    }\r\n\r\nAs the learning process continue, I have now added child-classes to my project. One child-class may contain the instance variables &#39;distance&#39; and &#39;time&#39;. There are several child-classes.\r\n\r\nNow of course, I do not want to copy the above method to every child-class and there add the specific variables to it. I want all of this centralised in one parent-class.\r\n\r\nI wonder, is it possible to somehow loop over all of the possible child-classes&#39; variables, so that I can write those to JSON? Or are child-variables simply not visible to the parent, let alone if I don&#39;t specifiy to the parent which variables those might be?\r\n\r\nFor now, all that I can think of is to put all instance variables of the child class in a hashmap, send them as arguments to Activity.createActivity, and there loop over all the elements of the hashmap.","title":"Writing child instance variables to JSONObject","body":"<p>So recently I figured out how to work with JSON in java, and created code that writes, reads and updates information (mostly classes) to and from my JSON database. In my class 'Activity' I have a method that writes the class object to JSON:</p>\n<pre><code>public void createActivity() {\n    File file = database;\n    JSONObject newActivity = new JSONObject();\n    setRegDate(LocalDate.now());\n    try {\n        actID = IO.getJsonArray(file, &quot;Activities&quot;).length() + 1;\n    } catch (Exception e) {\n        System.out.println(&quot;Exception: Could not set new activity ID.&quot;);\n    }\n\n\n\n    newActivity.put(&quot;userID&quot;, userID);\n    newActivity.put(&quot;actDate&quot;, actDate);\n    newActivity.put(&quot;regDate&quot;, regDate);\n    newActivity.put(&quot;actID&quot;, actID);\n    newActivity.put(&quot;description&quot;, description);\n    newActivity.put(&quot;coach&quot;, coach);\n    \n\n    try {//Writes new user JSONObject to account file.\n        IO.putObjInArr(file, newActivity, &quot;Activities&quot;);\n    } catch (Exception e) {\n        System.out.println(&quot;Exception: Creating activity failed.&quot;);\n    }\n}\n</code></pre>\n<p>As the learning process continue, I have now added child-classes to my project. One child-class may contain the instance variables 'distance' and 'time'. There are several child-classes.</p>\n<p>Now of course, I do not want to copy the above method to every child-class and there add the specific variables to it. I want all of this centralised in one parent-class.</p>\n<p>I wonder, is it possible to somehow loop over all of the possible child-classes' variables, so that I can write those to JSON? Or are child-variables simply not visible to the parent, let alone if I don't specifiy to the parent which variables those might be?</p>\n<p>For now, all that I can think of is to put all instance variables of the child class in a hashmap, send them as arguments to Activity.createActivity, and there loop over all the elements of the hashmap.</p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":2324765,"reputation":3704,"user_id":2039546,"display_name":"İsmail Y."},"score":1,"creation_date":1666525763,"post_id":74170234,"comment_id":130953356,"body_markdown":"Does this answer your question? [Composite DTO projections using a Constructor Expression and JPQL](https://stackoverflow.com/questions/53166982/composite-dto-projections-using-a-constructor-expression-and-jpql)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/53166982/composite-dto-projections-using-a-constructor-expression-and-jpql\">Composite DTO projections using a Constructor Expression and JPQL</a>"}],"owner":{"account_id":16185567,"reputation":35,"user_id":11685807,"display_name":"ThaiLB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2292,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666519391,"creation_date":1666519391,"question_id":74170234,"body_markdown":"I am trying to use DTO projection to obtain my desire output.\r\n\r\nHere are my domain models.\r\n```\r\n@Entity\r\n@Table\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;name&quot;, length = 60, nullable = false)\r\n    private String name;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true, mappedBy = &quot;user&quot;)\r\n    private Set&lt;Thread&gt; threads;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true, mappedBy = &quot;user&quot;)\r\n    private Set&lt;Post&gt; posts;\r\n\r\n    // Omitted Getter and Setter\r\n}\r\n```\r\n```\r\n@Entity\r\n@Table\r\npublic class Thread {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;name&quot;, length = 60, nullable = false)\r\n    private String name;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User user;\r\n\r\n    // Omitted Getter and Setter\r\n}\r\n```\r\n```\r\n@Entity\r\n@Table\r\npublic class Post {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;content&quot;, nullable = false)\r\n    private String content;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;thread_id&quot;)\r\n    private Thread thread;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User user;\r\n\r\n    // Omitted Getter and Setter\r\n}\r\n```\r\n\r\nAnd here are my DTO record.\r\n```\r\npublic record UserActivityDTO(\r\n        int id,\r\n        String alias,\r\n        String title,\r\n        Date joinedDate,\r\n        Set&lt;SimpleThreadDTO&gt; threads,\r\n        Set&lt;SimplePostDTO&gt; posts\r\n) {}\r\n```\r\n\r\nAnd here are my query\r\n```\r\n    @Query(value = &quot;&quot;&quot;\r\n            SELECT new com.project.package.core.User.DTO.UserActivityDTO(\r\n                u.id as id,\r\n                u.alias as alias,\r\n                u.title as title,\r\n                u.joinedDate as joinedDate,\r\n                new com.project.package.core.ThreadAndPost.SimpleThreadDTO(t.id, t.name) as threads,\r\n                new com.project.package.core.ThreadAndPost.SimplePostDTO(p.id, p.name) as posts\r\n            )\r\n            FROM User u\r\n            LEFT JOIN FETCH u.threads t\r\n            LEFT JOIN FETCH u.posts p\r\n            WHERE u.id = :id\r\n            &quot;&quot;&quot;)\r\n    CompletableFuture&lt;UserActivityDTO&gt; getUserActivity(@Param(&quot;id&quot;) int id);\r\n```\r\n\r\nBut when I started the server, I received the error:\r\n```\r\nCaused by: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: new near line 6, column 5 [SELECT new com.myproject.mypackage.core.User.DTO.UserActivityDTO(\r\n    u.id as id,\r\n    u.alias as alias,\r\n    u.title as title,\r\n    u.joinedDate as joinedDate,\r\n    new com.project.package.core.ThreadAndPost.SimpleThreadDTO(t.id, t.name) as threads,\r\n    new com.project.package.core.ThreadAndPost.SimplePostDTO(p.id, p.name) as posts\r\n)\r\nFROM com.project.package.core.User.User u\r\nLEFT JOIN FETCH u.threads t\r\nLEFT JOIN FETCH u.posts p\r\nWHERE u.id = :id\r\n]\r\n```\r\n\r\nSo, I knew that the JPQL didn&#39;t allowed nested DTO in query. May you please help me to obtain my expected result effectively. Thanks.","title":"Spring Data JPA - Nested DTO projection","body":"<p>I am trying to use DTO projection to obtain my desire output.</p>\n<p>Here are my domain models.</p>\n<pre><code>@Entity\n@Table\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column(name = &quot;name&quot;, length = 60, nullable = false)\n    private String name;\n\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true, mappedBy = &quot;user&quot;)\n    private Set&lt;Thread&gt; threads;\n\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true, mappedBy = &quot;user&quot;)\n    private Set&lt;Post&gt; posts;\n\n    // Omitted Getter and Setter\n}\n</code></pre>\n<pre><code>@Entity\n@Table\npublic class Thread {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column(name = &quot;name&quot;, length = 60, nullable = false)\n    private String name;\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n\n    // Omitted Getter and Setter\n}\n</code></pre>\n<pre><code>@Entity\n@Table\npublic class Post {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column(name = &quot;content&quot;, nullable = false)\n    private String content;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;thread_id&quot;)\n    private Thread thread;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n\n    // Omitted Getter and Setter\n}\n</code></pre>\n<p>And here are my DTO record.</p>\n<pre><code>public record UserActivityDTO(\n        int id,\n        String alias,\n        String title,\n        Date joinedDate,\n        Set&lt;SimpleThreadDTO&gt; threads,\n        Set&lt;SimplePostDTO&gt; posts\n) {}\n</code></pre>\n<p>And here are my query</p>\n<pre><code>    @Query(value = &quot;&quot;&quot;\n            SELECT new com.project.package.core.User.DTO.UserActivityDTO(\n                u.id as id,\n                u.alias as alias,\n                u.title as title,\n                u.joinedDate as joinedDate,\n                new com.project.package.core.ThreadAndPost.SimpleThreadDTO(t.id, t.name) as threads,\n                new com.project.package.core.ThreadAndPost.SimplePostDTO(p.id, p.name) as posts\n            )\n            FROM User u\n            LEFT JOIN FETCH u.threads t\n            LEFT JOIN FETCH u.posts p\n            WHERE u.id = :id\n            &quot;&quot;&quot;)\n    CompletableFuture&lt;UserActivityDTO&gt; getUserActivity(@Param(&quot;id&quot;) int id);\n</code></pre>\n<p>But when I started the server, I received the error:</p>\n<pre><code>Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: new near line 6, column 5 [SELECT new com.myproject.mypackage.core.User.DTO.UserActivityDTO(\n    u.id as id,\n    u.alias as alias,\n    u.title as title,\n    u.joinedDate as joinedDate,\n    new com.project.package.core.ThreadAndPost.SimpleThreadDTO(t.id, t.name) as threads,\n    new com.project.package.core.ThreadAndPost.SimplePostDTO(p.id, p.name) as posts\n)\nFROM com.project.package.core.User.User u\nLEFT JOIN FETCH u.threads t\nLEFT JOIN FETCH u.posts p\nWHERE u.id = :id\n]\n</code></pre>\n<p>So, I knew that the JPQL didn't allowed nested DTO in query. May you please help me to obtain my expected result effectively. Thanks.</p>\n"},{"tags":["java","arrays","file","memory"],"answers":[{"tags":[],"owner":{"account_id":20119723,"reputation":443,"user_id":14754410,"display_name":"BccHnw"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666518977,"creation_date":1666518977,"answer_id":74170182,"question_id":74169946,"body_markdown":"The parameter of the invoked method is `URL`. You can use Jimfs (An in-memory file system for Java 7+) to create a file emulation in memory and get its URL (`path.toUri().toURL()`).\r\n","title":"How to create an instance of java.io.File from a byte[] without saving the file to the disk","body":"<p>The parameter of the invoked method is <code>URL</code>. You can use Jimfs (An in-memory file system for Java 7+) to create a file emulation in memory and get its URL (<code>path.toUri().toURL()</code>).</p>\n"}],"owner":{"account_id":13212854,"reputation":81,"user_id":9542475,"display_name":"Sapu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74170182,"answer_count":1,"score":0,"last_activity_date":1666518977,"creation_date":1666516632,"question_id":74169946,"body_markdown":"I must use an existing method: `method.invoke(myClassLoader, myFile.toURI().toURL());` where `myFile` is an instance of `File` and I need to create it from a `byte[]` without saving the file on the disk, is this possible? \r\n\r\nThis is what I tried but it creates a file on the disk and writes it:\r\n\r\n        byte[] bytes = ...;\r\n        File tempFile = File.createTempFile(&quot;prefix&quot;, &quot;suffix&quot;);\r\n        FileOutputStream fos = new FileOutputStream(tempFile);\r\n        fos.write(bytes);\r\n        method.invoke(myClassLoader, tempFile.toURI().toURL());","title":"How to create an instance of java.io.File from a byte[] without saving the file to the disk","body":"<p>I must use an existing method: <code>method.invoke(myClassLoader, myFile.toURI().toURL());</code> where <code>myFile</code> is an instance of <code>File</code> and I need to create it from a <code>byte[]</code> without saving the file on the disk, is this possible?</p>\n<p>This is what I tried but it creates a file on the disk and writes it:</p>\n<pre><code>    byte[] bytes = ...;\n    File tempFile = File.createTempFile(&quot;prefix&quot;, &quot;suffix&quot;);\n    FileOutputStream fos = new FileOutputStream(tempFile);\n    fos.write(bytes);\n    method.invoke(myClassLoader, tempFile.toURI().toURL());\n</code></pre>\n"},{"tags":["java","caching","jar"],"owner":{"account_id":1482617,"reputation":103,"user_id":1391608,"accept_rate":100,"display_name":"Ghotirey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666518819,"creation_date":1666518819,"question_id":74170159,"body_markdown":"I have written an application in Java that runs on MacOS (Macbook Air, 12.6 Monterey, M1 processor). I use the jpackage tool to pack the jar into a dmg file that can be installed/run on MacOS (currently using the x64 Java 17/JavaFX 17 runtimes in my build). I use the xcrun altool to notorize the application for mac. \r\n\r\nWhen my users are running the application there seem to be a lot of disc writes which I prefer not to have if possible (as do my users). Users can specify where the user data is stored and if they set that to another drive, the application still writes to the main drive (SSD). After a lot of trying out tools to see what is actually written even when the application does nothing, I found that it seems to contineous writing some kind of jar caching. (Folder: /System/Volumes/Data/private/var/folders/ and then in a sub folder periodically jar_cach&lt;long number&gt;.tmp files.)\r\n\r\nI have searched the internet but the only information I could find was how to remove the cached files (and if it is safe to do so) but that is not what I am looking for because the writes have already been done. I always thought that jar caches would only change when you are actually rewriting the jar file but my application does not rewrite the jar in the user environment (like when devving the application it would with every rewrite of the code) and the jar is obfuscated as well so that also does not imply changes to it during runtime in a user environment.\r\n\r\nI hope this has given enough information about how it is set up for you to get an idea for a solution on the question below.\r\n\r\nMy question is there a way to turn off this cache writing either through some options I can set in my app (java code) or command line parameters (vm options) or a setting in Java itself that can turn it off? Or am I missing something else in my process which causes this seemingly unnecessary disc writes?\r\n\r\n","title":"How to turn off caching of jar file for Java applications on MacOs?","body":"<p>I have written an application in Java that runs on MacOS (Macbook Air, 12.6 Monterey, M1 processor). I use the jpackage tool to pack the jar into a dmg file that can be installed/run on MacOS (currently using the x64 Java 17/JavaFX 17 runtimes in my build). I use the xcrun altool to notorize the application for mac.</p>\n<p>When my users are running the application there seem to be a lot of disc writes which I prefer not to have if possible (as do my users). Users can specify where the user data is stored and if they set that to another drive, the application still writes to the main drive (SSD). After a lot of trying out tools to see what is actually written even when the application does nothing, I found that it seems to contineous writing some kind of jar caching. (Folder: /System/Volumes/Data/private/var/folders/ and then in a sub folder periodically jar_cach.tmp files.)</p>\n<p>I have searched the internet but the only information I could find was how to remove the cached files (and if it is safe to do so) but that is not what I am looking for because the writes have already been done. I always thought that jar caches would only change when you are actually rewriting the jar file but my application does not rewrite the jar in the user environment (like when devving the application it would with every rewrite of the code) and the jar is obfuscated as well so that also does not imply changes to it during runtime in a user environment.</p>\n<p>I hope this has given enough information about how it is set up for you to get an idea for a solution on the question below.</p>\n<p>My question is there a way to turn off this cache writing either through some options I can set in my app (java code) or command line parameters (vm options) or a setting in Java itself that can turn it off? Or am I missing something else in my process which causes this seemingly unnecessary disc writes?</p>\n"},{"tags":["java","spring","spring-boot","docker","docker-compose"],"comments":[{"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"score":0,"creation_date":1666455486,"post_id":74164922,"comment_id":130943391,"body_markdown":"Hi @Eivydas Vickus. From posted log seems that there is an issue with initializing `channelController` because of missing dependency  `ChannelServiceInterface`. Can you add add controller and service to description? Have you tried to run your app from IDEA?","body":"Hi @Eivydas Vickus. From posted log seems that there is an issue with initializing <code>channelController</code> because of missing dependency  <code>ChannelServiceInterface</code>. Can you add add controller and service to description? Have you tried to run your app from IDEA?"},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1666517975,"post_id":74164922,"comment_id":130951969,"body_markdown":"2 hints beside the already given &quot;solution/hin&quot;: If your application will not be extended or become a lib for others, then remove the interfaces. They are resource and time consuming + giving complexity to the files/code.\n\nThe other one is that you should use constructor injection and replace @AutoWired by that.","body":"2 hints beside the already given &quot;solution/hin&quot;: If your application will not be extended or become a lib for others, then remove the interfaces. They are resource and time consuming + giving complexity to the files/code.  The other one is that you should use constructor injection and replace @AutoWired by that."},{"owner":{"account_id":22419559,"reputation":119,"user_id":16627079,"display_name":"Eivydas Vickus"},"score":0,"creation_date":1666518201,"post_id":74164922,"comment_id":130952002,"body_markdown":"@artiomi I do not think that&#39;s a problem, because for example when it crashes like this, I can just restart docker containers and the app starts successfully (without editing the code), so if something is wrong in my code it should not start no matter what. Also if I run my app without docker with IDEA it starts successfully. I updated my post and even added github link.","body":"@artiomi I do not think that&#39;s a problem, because for example when it crashes like this, I can just restart docker containers and the app starts successfully (without editing the code), so if something is wrong in my code it should not start no matter what. Also if I run my app without docker with IDEA it starts successfully. I updated my post and even added github link."},{"owner":{"account_id":22419559,"reputation":119,"user_id":16627079,"display_name":"Eivydas Vickus"},"score":0,"creation_date":1666518491,"post_id":74164922,"comment_id":130952037,"body_markdown":"@LenglBoy your tips may be good, but it does not explain why my app is not working with docker","body":"@LenglBoy your tips may be good, but it does not explain why my app is not working with docker"},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1666521158,"post_id":74164922,"comment_id":130952515,"body_markdown":"@EivydasVickus that&#39;s why it is added as a comment and not as solution. Beside artiomi already gave you some hint. Bean implementation/Bean can not be found.","body":"@EivydasVickus that&#39;s why it is added as a comment and not as solution. Beside artiomi already gave you some hint. Bean implementation/Bean can not be found."},{"owner":{"account_id":22419559,"reputation":119,"user_id":16627079,"display_name":"Eivydas Vickus"},"score":0,"creation_date":1666521836,"post_id":74164922,"comment_id":130952640,"body_markdown":"@LenglBoy yeah but if I get `Bean implementation/Bean can not be found`  my app should not start no matter what, but now I just restart docker containers and it works again without any code edit, it only crashes like this when IntelliJ triggers live reload","body":"@LenglBoy yeah but if I get <code>Bean implementation&#47;Bean can not be found</code>  my app should not start no matter what, but now I just restart docker containers and it works again without any code edit, it only crashes like this when IntelliJ triggers live reload"}],"owner":{"account_id":22419559,"reputation":119,"user_id":16627079,"display_name":"Eivydas Vickus"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666518294,"creation_date":1666453455,"question_id":74164922,"body_markdown":"The problem is when spring boot app gets triggered by live reload. Then it usually crashes a whole docker image. it&#39;s not on every live reload happens, but it happens very often.\r\n`docker-compose.yml`\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    version: &quot;3.7&quot;\r\n    services:\r\n      app:\r\n        image: youtube-spring-boot-image\r\n        ports:\r\n          - &quot;8080:8080&quot;\r\n        depends_on:\r\n          - postgres\r\n        restart: always\r\n      postgres:\r\n        image: postgres:latest\r\n        volumes:\r\n          - postgres-data:/var/lib/postgresql/data\r\n        ports:\r\n          - &quot;5432:5432&quot;\r\n        environment:\r\n          - POSTGRES_PASSWORD=postgres\r\n          - POSTGRES_USER=postgres\r\n          - POSTGRES_DB=posts\r\n        restart: unless-stopped\r\n\r\n    volumes:\r\n      postgres-data:\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n`application.yml`\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n\r\n    spring:\r\n      devtools:\r\n        restart:\r\n          poll-interval: 2s\r\n          quiet-period: 1s\r\n      data:\r\n        web:\r\n          pageable:\r\n            one-indexed-parameters: true\r\n            max-page-size: 50\r\n\r\n      profiles:\r\n        active: dev\r\n    ---\r\n\r\n    spring:\r\n      config:\r\n        activate:\r\n          on-profile: dev\r\n      devtools:\r\n        remote:\r\n          secret: &quot;mysecret&quot;\r\n      datasource:\r\n        username: postgres\r\n        url: jdbc:postgresql://postgres:5432/posts\r\n        password: postgres\r\n      jpa:\r\n        properties:\r\n          hibernate:\r\n            dialect: org.hibernate.dialect.PostgreSQLDialect\r\n            format_sql: &#39;true&#39;\r\n        hibernate:\r\n          ddl-auto: update\r\n        show-sql: &#39;true&#39;\r\n      mvc:\r\n        throw-exception-if-no-handler-found: &#39;true&#39;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n`ChannelController.java`\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    package com.project.youtube.channel;\r\n\r\n\r\n    import com.project.youtube.channel.dto.body.CreateChannelDTO;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.*;\r\n\r\n    import javax.validation.Valid;\r\n    import java.util.UUID;\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/v1/channels&quot;)\r\n    public class ChannelController {\r\n\r\n        @Autowired\r\n        ChannelServiceInterface channelService;\r\n\r\n        @PostMapping\r\n        Channel createChannel(@Valid @RequestBody CreateChannelDTO channel){\r\n            return channelService.saveChannel(channel);\r\n        }\r\n\r\n        @GetMapping(&quot;/findById/{id}&quot;)\r\n        Channel findById(@PathVariable UUID id){\r\n            return channelService.findById(id).orElseThrow();\r\n        }\r\n\r\n        @GetMapping(&quot;/findByName/{name}&quot;)\r\n        Channel findByName(@PathVariable String name){\r\n            return channelService.findByName(name).orElseThrow();\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n`ChannelService.java`\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    package com.project.youtube.channel;\r\n\r\n    import com.project.youtube.channel.dto.body.CreateChannelDTO;\r\n    import com.project.youtube.common.exception.BadRequestException;\r\n    import com.project.youtube.user.User;\r\n    import com.project.youtube.user.UserServiceInterface;\r\n    import org.modelmapper.ModelMapper;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.data.domain.Page;\r\n    import org.springframework.data.domain.Pageable;\r\n    import org.springframework.stereotype.Service;\r\n\r\n    import java.util.Optional;\r\n    import java.util.UUID;\r\n\r\n    @Service\r\n    public class ChannelService implements ChannelServiceInterface {\r\n\r\n        @Autowired\r\n        ChannelRepository channelRepository;\r\n\r\n        @Autowired\r\n        ModelMapper modelMapper;\r\n\r\n        @Autowired\r\n        UserServiceInterface userService;\r\n\r\n        @Override\r\n        public Page&lt;Channel&gt; findAll(Pageable pageable) {\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public Channel saveChannel(CreateChannelDTO channel) {\r\n            Channel channelEntity = modelMapper.map(channel, Channel.class);\r\n            User user = userService.findById(channel.getUser()).orElseThrow();\r\n            System.out.println(user);\r\n            if(user.getChannel() != null){\r\n                throw new BadRequestException(&quot;User already has a channel&quot;);\r\n            }\r\n            channelEntity.setUser(user);\r\n\r\n            return channelRepository.save(channelEntity);\r\n        }\r\n\r\n        @Override\r\n        public Optional&lt;Channel&gt; findById(UUID id) {\r\n            return channelRepository.findById(id);\r\n        }\r\n\r\n        @Override\r\n        public Optional&lt;Channel&gt; findByName(String name) {\r\n            return channelRepository.findByName(name);\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nerror\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    2022-10-22 15:07:20.441  INFO 1 --- [  restartedMain] com.project.youtube.YoutubeApplication   : Starting YoutubeApplication v0.0.1-SNAPSHOT using Java 17.0.4.1 on 369da96882ed with PID 1 (/workspace/BOOT-INF/classes started by cnb in /workspace)\r\n    2022-10-22 15:07:20.441  INFO 1 --- [  restartedMain] com.project.youtube.YoutubeApplication   : The following 1 profile is active: &quot;dev&quot;\r\n    2022-10-22 15:07:20.568  INFO 1 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2022-10-22 15:07:20.577  INFO 1 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 4 JPA repository interfaces.\r\n    2022-10-22 15:07:20.620  INFO 1 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2022-10-22 15:07:20.621  INFO 1 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2022-10-22 15:07:20.621  INFO 1 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]\r\n    2022-10-22 15:07:20.626  INFO 1 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2022-10-22 15:07:20.626  INFO 1 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 183 ms\r\n    2022-10-22 15:07:20.649  WARN 1 --- [  restartedMain] .s.b.d.a.RemoteDevToolsAutoConfiguration : Listening for remote restart updates on /.~~spring-boot!~/restart\r\n    2022-10-22 15:07:20.660  INFO 1 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2022-10-22 15:07:20.662  INFO 1 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...\r\n    2022-10-22 15:07:20.670  INFO 1 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.\r\n    2022-10-22 15:07:20.671  INFO 1 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\r\n    2022-10-22 15:07:20.751  INFO 1 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    2022-10-22 15:07:20.751  INFO 1 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2022-10-22 15:07:20.756  WARN 1 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.f\r\n    actory.UnsatisfiedDependencyException: Error creating bean with name &#39;channelController&#39;: Unsatisfied dependency expressed through field &#39;channelService&#39;; nested exception is org.springframework.beans.facto\r\n    ry.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.project.youtube.channel.ChannelServiceInterface&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    2022-10-22 15:07:20.756  INFO 1 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2022-10-22 15:07:20.757  INFO 1 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown initiated...\r\n    2022-10-22 15:07:20.758  INFO 1 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown completed.\r\n    2022-10-22 15:07:20.758  INFO 1 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2022-10-22 15:07:20.764  INFO 1 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \r\n\r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2022-10-22 15:07:20.780 ERROR 1 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n\r\n    Description:\r\n\r\n    Field channelService in com.project.youtube.channel.ChannelController required a bean of type &#39;com.project.youtube.channel.ChannelServiceInterface&#39; that could not be found.\r\n\r\n    The injection point has the following annotations:\r\n            - @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\n    Action:\r\n\r\n    Consider defining a bean of type &#39;com.project.youtube.channel.ChannelServiceInterface&#39; in your configuration.\r\n\r\n\r\n    Native Memory Tracking:\r\n\r\n    Total: reserved=6967925842, committed=410233938\r\n    -                 Java Heap (reserved=6144655360, committed=155189248)\r\n                                (mmap: reserved=6144655360, committed=155189248)\r\n\r\n    -                     Class (reserved=98438868, committed=12259028)\r\n                                (classes #16438)\r\n                                (  instance classes #15272, array classes #1166)\r\n                                (malloc=1969876 #37911)\r\n                                (mmap: reserved=96468992, committed=10289152)\r\n                                (  Metadata:   )\r\n                                (    reserved=67108864, committed=63832064)\r\n                                (    used=63492728)\r\n                                (    waste=339336 =0.53%)\r\n                                (  Class space:)\r\n                                (    reserved=96468992, committed=10289152)\r\n                                (    used=9920144)\r\n                                (    waste=369008 =3.59%)\r\n\r\n    -                    Thread (reserved=28445208, committed=1350168)\r\n                                (thread #28)\r\n                                (stack: reserved=28364800, committed=1269760)\r\n                                (malloc=45944 #196)\r\n                                (arena=34464 #60)\r\n\r\n    -                      Code (reserved=255452840, committed=27645608)\r\n                                (malloc=1820328 #9753)\r\n                                (mmap: reserved=253632512, committed=25825280)\r\n\r\n    -                        GC (reserved=284467544, committed=62202200)\r\n                                (malloc=22499672 #9236)\r\n                                (mmap: reserved=261967872, committed=39702528)\r\n\r\n    -                  Compiler (reserved=44841728, committed=44841728)\r\n                                (malloc=47848 #1198)\r\n                                (arena=44793880 #27)\r\n\r\n    -                     JVMCI (reserved=104, committed=104)\r\n                                (malloc=104 #7)\r\n\r\n    -                  Internal (reserved=452902, committed=452902)\r\n                                (malloc=416038 #11608)\r\n                                (mmap: reserved=36864, committed=36864)\r\n\r\n    -                    Symbol (reserved=16537712, committed=16537712)\r\n                                (malloc=15678152 #395104)\r\n                                (arena=859560 #1)\r\n\r\n    -    Native Memory Tracking (reserved=7534776, committed=7534776)\r\n                                (malloc=7288 #101)\r\n                                (tracking overhead=7527488)\r\n\r\n    -        Shared class space (reserved=12582912, committed=10981376)\r\n                                (mmap: reserved=12582912, committed=10981376)\r\n\r\n    -               Arena Chunk (reserved=6492528, committed=6492528)\r\n                                (malloc=6492528)\r\n\r\n    -                   Tracing (reserved=33121, committed=33121)\r\n                                (malloc=393 #10)\r\n                                (arena=32728 #1)\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIf I wanna start my app first I run `./mvnw spring-boot:build-image -fn` to create spring boot image and then `docker-compose up`. It starts perfectly fine, it crashes only when live reload is triggered. Also I have created run configuration in intellij (without it live reload is not working).\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/prPmy.png\r\nSo if anyone knows how to deal with it, please help, cause this became very frustrating. I actually do not know what is wrong here. This is the only docker setup, that I able to find, that works with live reload, if someone knows better docker setup, that works with live reload please share with me.\r\ngithub https://github.com/EivydasV/spring-youtube","title":"spring boot docker crashes a whole image on live reload","body":"<p>The problem is when spring boot app gets triggered by live reload. Then it usually crashes a whole docker image. it's not on every live reload happens, but it happens very often.\n<code>docker-compose.yml</code></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>version: \"3.7\"\nservices:\n  app:\n    image: youtube-spring-boot-image\n    ports:\n      - \"8080:8080\"\n    depends_on:\n      - postgres\n    restart: always\n  postgres:\n    image: postgres:latest\n    volumes:\n      - postgres-data:/var/lib/postgresql/data\n    ports:\n      - \"5432:5432\"\n    environment:\n      - POSTGRES_PASSWORD=postgres\n      - POSTGRES_USER=postgres\n      - POSTGRES_DB=posts\n    restart: unless-stopped\n\nvolumes:\n  postgres-data:</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><code>application.yml</code></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>spring:\n  devtools:\n    restart:\n      poll-interval: 2s\n      quiet-period: 1s\n  data:\n    web:\n      pageable:\n        one-indexed-parameters: true\n        max-page-size: 50\n\n  profiles:\n    active: dev\n---\n\nspring:\n  config:\n    activate:\n      on-profile: dev\n  devtools:\n    remote:\n      secret: \"mysecret\"\n  datasource:\n    username: postgres\n    url: jdbc:postgresql://postgres:5432/posts\n    password: postgres\n  jpa:\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.PostgreSQLDialect\n        format_sql: 'true'\n    hibernate:\n      ddl-auto: update\n    show-sql: 'true'\n  mvc:\n    throw-exception-if-no-handler-found: 'true'</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><code>ChannelController.java</code>\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>package com.project.youtube.channel;\n\n\nimport com.project.youtube.channel.dto.body.CreateChannelDTO;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.validation.Valid;\nimport java.util.UUID;\n\n@RestController\n@RequestMapping(\"/api/v1/channels\")\npublic class ChannelController {\n\n    @Autowired\n    ChannelServiceInterface channelService;\n\n    @PostMapping\n    Channel createChannel(@Valid @RequestBody CreateChannelDTO channel){\n        return channelService.saveChannel(channel);\n    }\n\n    @GetMapping(\"/findById/{id}\")\n    Channel findById(@PathVariable UUID id){\n        return channelService.findById(id).orElseThrow();\n    }\n\n    @GetMapping(\"/findByName/{name}\")\n    Channel findByName(@PathVariable String name){\n        return channelService.findByName(name).orElseThrow();\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n\n<code>ChannelService.java</code></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>package com.project.youtube.channel;\n\nimport com.project.youtube.channel.dto.body.CreateChannelDTO;\nimport com.project.youtube.common.exception.BadRequestException;\nimport com.project.youtube.user.User;\nimport com.project.youtube.user.UserServiceInterface;\nimport org.modelmapper.ModelMapper;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.stereotype.Service;\n\nimport java.util.Optional;\nimport java.util.UUID;\n\n@Service\npublic class ChannelService implements ChannelServiceInterface {\n\n    @Autowired\n    ChannelRepository channelRepository;\n\n    @Autowired\n    ModelMapper modelMapper;\n\n    @Autowired\n    UserServiceInterface userService;\n\n    @Override\n    public Page&lt;Channel&gt; findAll(Pageable pageable) {\n        return null;\n    }\n\n    @Override\n    public Channel saveChannel(CreateChannelDTO channel) {\n        Channel channelEntity = modelMapper.map(channel, Channel.class);\n        User user = userService.findById(channel.getUser()).orElseThrow();\n        System.out.println(user);\n        if(user.getChannel() != null){\n            throw new BadRequestException(\"User already has a channel\");\n        }\n        channelEntity.setUser(user);\n\n        return channelRepository.save(channelEntity);\n    }\n\n    @Override\n    public Optional&lt;Channel&gt; findById(UUID id) {\n        return channelRepository.findById(id);\n    }\n\n    @Override\n    public Optional&lt;Channel&gt; findByName(String name) {\n        return channelRepository.findByName(name);\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>error</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>2022-10-22 15:07:20.441  INFO 1 --- [  restartedMain] com.project.youtube.YoutubeApplication   : Starting YoutubeApplication v0.0.1-SNAPSHOT using Java 17.0.4.1 on 369da96882ed with PID 1 (/workspace/BOOT-INF/classes started by cnb in /workspace)\n2022-10-22 15:07:20.441  INFO 1 --- [  restartedMain] com.project.youtube.YoutubeApplication   : The following 1 profile is active: \"dev\"\n2022-10-22 15:07:20.568  INFO 1 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-10-22 15:07:20.577  INFO 1 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 4 JPA repository interfaces.\n2022-10-22 15:07:20.620  INFO 1 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-10-22 15:07:20.621  INFO 1 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-10-22 15:07:20.621  INFO 1 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]\n2022-10-22 15:07:20.626  INFO 1 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-10-22 15:07:20.626  INFO 1 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 183 ms\n2022-10-22 15:07:20.649  WARN 1 --- [  restartedMain] .s.b.d.a.RemoteDevToolsAutoConfiguration : Listening for remote restart updates on /.~~spring-boot!~/restart\n2022-10-22 15:07:20.660  INFO 1 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2022-10-22 15:07:20.662  INFO 1 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...\n2022-10-22 15:07:20.670  INFO 1 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.\n2022-10-22 15:07:20.671  INFO 1 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\n2022-10-22 15:07:20.751  INFO 1 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2022-10-22 15:07:20.751  INFO 1 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2022-10-22 15:07:20.756  WARN 1 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.f\nactory.UnsatisfiedDependencyException: Error creating bean with name 'channelController': Unsatisfied dependency expressed through field 'channelService'; nested exception is org.springframework.beans.facto\nry.NoSuchBeanDefinitionException: No qualifying bean of type 'com.project.youtube.channel.ChannelServiceInterface' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n2022-10-22 15:07:20.756  INFO 1 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2022-10-22 15:07:20.757  INFO 1 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown initiated...\n2022-10-22 15:07:20.758  INFO 1 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown completed.\n2022-10-22 15:07:20.758  INFO 1 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-10-22 15:07:20.764  INFO 1 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-10-22 15:07:20.780 ERROR 1 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField channelService in com.project.youtube.channel.ChannelController required a bean of type 'com.project.youtube.channel.ChannelServiceInterface' that could not be found.\n\nThe injection point has the following annotations:\n        - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'com.project.youtube.channel.ChannelServiceInterface' in your configuration.\n\n\nNative Memory Tracking:\n\nTotal: reserved=6967925842, committed=410233938\n-                 Java Heap (reserved=6144655360, committed=155189248)\n                            (mmap: reserved=6144655360, committed=155189248)\n\n-                     Class (reserved=98438868, committed=12259028)\n                            (classes #16438)\n                            (  instance classes #15272, array classes #1166)\n                            (malloc=1969876 #37911)\n                            (mmap: reserved=96468992, committed=10289152)\n                            (  Metadata:   )\n                            (    reserved=67108864, committed=63832064)\n                            (    used=63492728)\n                            (    waste=339336 =0.53%)\n                            (  Class space:)\n                            (    reserved=96468992, committed=10289152)\n                            (    used=9920144)\n                            (    waste=369008 =3.59%)\n\n-                    Thread (reserved=28445208, committed=1350168)\n                            (thread #28)\n                            (stack: reserved=28364800, committed=1269760)\n                            (malloc=45944 #196)\n                            (arena=34464 #60)\n\n-                      Code (reserved=255452840, committed=27645608)\n                            (malloc=1820328 #9753)\n                            (mmap: reserved=253632512, committed=25825280)\n\n-                        GC (reserved=284467544, committed=62202200)\n                            (malloc=22499672 #9236)\n                            (mmap: reserved=261967872, committed=39702528)\n\n-                  Compiler (reserved=44841728, committed=44841728)\n                            (malloc=47848 #1198)\n                            (arena=44793880 #27)\n\n-                     JVMCI (reserved=104, committed=104)\n                            (malloc=104 #7)\n\n-                  Internal (reserved=452902, committed=452902)\n                            (malloc=416038 #11608)\n                            (mmap: reserved=36864, committed=36864)\n\n-                    Symbol (reserved=16537712, committed=16537712)\n                            (malloc=15678152 #395104)\n                            (arena=859560 #1)\n\n-    Native Memory Tracking (reserved=7534776, committed=7534776)\n                            (malloc=7288 #101)\n                            (tracking overhead=7527488)\n\n-        Shared class space (reserved=12582912, committed=10981376)\n                            (mmap: reserved=12582912, committed=10981376)\n\n-               Arena Chunk (reserved=6492528, committed=6492528)\n                            (malloc=6492528)\n\n-                   Tracing (reserved=33121, committed=33121)\n                            (malloc=393 #10)\n                            (arena=32728 #1)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>If I wanna start my app first I run <code>./mvnw spring-boot:build-image -fn</code> to create spring boot image and then <code>docker-compose up</code>. It starts perfectly fine, it crashes only when live reload is triggered. Also I have created run configuration in intellij (without it live reload is not working).\n<a href=\"https://i.stack.imgur.com/prPmy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/prPmy.png\" alt=\"enter image description here\" /></a></p>\n<p>So if anyone knows how to deal with it, please help, cause this became very frustrating. I actually do not know what is wrong here. This is the only docker setup, that I able to find, that works with live reload, if someone knows better docker setup, that works with live reload please share with me.\ngithub <a href=\"https://github.com/EivydasV/spring-youtube\" rel=\"nofollow noreferrer\">https://github.com/EivydasV/spring-youtube</a></p>\n"},{"tags":["java","json","amazon-dynamodb"],"answers":[{"comments":[{"owner":{"account_id":1171849,"reputation":549,"user_id":1148859,"accept_rate":85,"display_name":"Amit"},"score":0,"creation_date":1412121908,"post_id":26120937,"comment_id":40959214,"body_markdown":"How can we achieve this?","body":"How can we achieve this?"},{"owner":{"account_id":147778,"reputation":9734,"user_id":359134,"accept_rate":82,"display_name":"Chen Harel"},"score":0,"creation_date":1412143933,"post_id":26120937,"comment_id":40964356,"body_markdown":"You said DynamoDB wants sets of strings, but it can also save strings. Which SDK/programming language are you using?","body":"You said DynamoDB wants sets of strings, but it can also save strings. Which SDK/programming language are you using?"},{"owner":{"account_id":13186368,"reputation":797,"user_id":9524323,"display_name":"Prathamesh Doke"},"score":0,"creation_date":1579521069,"post_id":26120937,"comment_id":105782505,"body_markdown":"i have json file with nested objects, i&#39;m trying to import it in my table created in aws dynamo, i&#39;m running `aws dynamodb put-item` but failed to import data, any help?","body":"i have json file with nested objects, i&#39;m trying to import it in my table created in aws dynamo, i&#39;m running <code>aws dynamodb put-item</code> but failed to import data, any help?"}],"tags":[],"owner":{"account_id":147778,"reputation":9734,"user_id":359134,"accept_rate":82,"display_name":"Chen Harel"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1412080310,"creation_date":1412080310,"answer_id":26120937,"question_id":26118067,"body_markdown":"You can store JSONs in Dynamodb as Strings. It all depends on what you want to do with the data and how to retrieve it. \r\n\r\nThe DynamoDB Java API for instance, introduces Marshaller objects that transforms any Java object into a String so you can store it and fetch it automagically from a DynamoDB attribute.","title":"DynamoDB: How can I create a table with nested JSON structure?","body":"<p>You can store JSONs in Dynamodb as Strings. It all depends on what you want to do with the data and how to retrieve it. </p>\n\n<p>The DynamoDB Java API for instance, introduces Marshaller objects that transforms any Java object into a String so you can store it and fetch it automagically from a DynamoDB attribute.</p>\n"},{"tags":[],"owner":{"account_id":1016469,"reputation":1850,"user_id":1027946,"accept_rate":100,"display_name":"golem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480902419,"creation_date":1480902419,"answer_id":40965955,"question_id":26118067,"body_markdown":"Not sure if these data types were available when this question was asked (there is a good chance that they were not) but these days you&#39;d use the List datatype for the `CartItems` and each cart item would be of Map datatype.\r\n\r\nReference: [DynamoDB Data Types][1]\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.NamingRulesDataTypes.html","title":"DynamoDB: How can I create a table with nested JSON structure?","body":"<p>Not sure if these data types were available when this question was asked (there is a good chance that they were not) but these days you'd use the List datatype for the <code>CartItems</code> and each cart item would be of Map datatype.</p>\n\n<p>Reference: <a href=\"http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.NamingRulesDataTypes.html\" rel=\"nofollow noreferrer\">DynamoDB Data Types</a></p>\n"},{"tags":[],"owner":{"account_id":1972860,"reputation":525,"user_id":1771366,"display_name":"Laura"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1581386620,"creation_date":1483649734,"answer_id":41494554,"question_id":26118067,"body_markdown":"Posting to an old question because I did not think the solution was easy to find.  Hope this helps someone.\r\n\r\nStep 1: Create a complex Java object that mirrors the structure desired.\r\n```java\r\nList&lt;HashMap&lt;String, Integer&gt;&gt; cartItems = new ArrayList&lt;HashMap&lt;String, Integer&gt;&gt;();\r\nHashMap&lt;String, Integer&gt; item1 = new HashMap&lt;String, Integer&gt;();\r\nitem1.put(&quot;ProductId&quot;, 100);\r\nitem1.put(&quot;Quantity&quot;, 50);\r\ncartItems.add(item1);\r\nHashMap&lt;String, Integer&gt; item2 = new HashMap&lt;String, Integer&gt;();\r\nitem2.put(&quot;ProductId&quot;, 121);\r\nitem2.put(&quot;Quantity&quot;, 51);\r\ncartItems.add(item2);\r\n```\r\nStep 2: Update DynamoDB item with the complex object.\r\n\r\nI use a helper method:\r\n```java\r\nprivate void updateAttribute(int id, String newAttribute, Object newValue){\r\n    Map&lt;String, Object&gt; newValues = new HashMap&lt;String, Object&gt;();\r\n    newValues.put(&quot;:value&quot;, newValue);\r\n    \r\n    UpdateItemSpec updateItemSpec = new UpdateItemSpec()\r\n            .withPrimaryKey(&quot;id&quot;, id)\r\n            .withUpdateExpression(&quot;set &quot; + newAttribute + &quot; = :value&quot;)\r\n            .withValueMap(newValues);\r\n    \r\n    siteTable.updateItem(updateItemSpec);\r\n}\r\n```\r\nand then call thus:\r\n```java\r\nupdateAttribute(123, &quot;CartItems&quot;, cartItems);\r\n```\r\n\r\nThe newly added cart items attribute displays in DynamoDB like: \r\n\r\n ```json\r\n {\r\n  &quot;CartItems&quot;: [\r\n    {\r\n      &quot;ProductId&quot;: 100,\r\n      &quot;Quantity&quot;: 50\r\n    },\r\n    {\r\n      &quot;ProductId&quot;: 121,\r\n      &quot;Quantity&quot;: 51\r\n    }\r\n  ]\r\n}\r\n ```\r\n\r\nI have not tested an upsert scenario.  In the past, upsert functionality did not seem to be present: https://forums.aws.amazon.com/thread.jspa?threadID=162907\r\n\r\nRegarding reads of deeply nested items: http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Expressions.AccessingItemAttributes.html#DocumentPaths\r\n","title":"DynamoDB: How can I create a table with nested JSON structure?","body":"<p>Posting to an old question because I did not think the solution was easy to find.  Hope this helps someone.</p>\n\n<p>Step 1: Create a complex Java object that mirrors the structure desired.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;HashMap&lt;String, Integer&gt;&gt; cartItems = new ArrayList&lt;HashMap&lt;String, Integer&gt;&gt;();\nHashMap&lt;String, Integer&gt; item1 = new HashMap&lt;String, Integer&gt;();\nitem1.put(\"ProductId\", 100);\nitem1.put(\"Quantity\", 50);\ncartItems.add(item1);\nHashMap&lt;String, Integer&gt; item2 = new HashMap&lt;String, Integer&gt;();\nitem2.put(\"ProductId\", 121);\nitem2.put(\"Quantity\", 51);\ncartItems.add(item2);\n</code></pre>\n\n<p>Step 2: Update DynamoDB item with the complex object.</p>\n\n<p>I use a helper method:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private void updateAttribute(int id, String newAttribute, Object newValue){\n    Map&lt;String, Object&gt; newValues = new HashMap&lt;String, Object&gt;();\n    newValues.put(\":value\", newValue);\n\n    UpdateItemSpec updateItemSpec = new UpdateItemSpec()\n            .withPrimaryKey(\"id\", id)\n            .withUpdateExpression(\"set \" + newAttribute + \" = :value\")\n            .withValueMap(newValues);\n\n    siteTable.updateItem(updateItemSpec);\n}\n</code></pre>\n\n<p>and then call thus:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>updateAttribute(123, \"CartItems\", cartItems);\n</code></pre>\n\n<p>The newly added cart items attribute displays in DynamoDB like: </p>\n\n<pre><code>{\n \"CartItems\": [\n   {\n     \"ProductId\": 100,\n     \"Quantity\": 50\n   },\n   {\n     \"ProductId\": 121,\n     \"Quantity\": 51\n   }\n ]\n}\n</code></pre>\n\n<p>I have not tested an upsert scenario.  In the past, upsert functionality did not seem to be present: <a href=\"https://forums.aws.amazon.com/thread.jspa?threadID=162907\" rel=\"nofollow noreferrer\">https://forums.aws.amazon.com/thread.jspa?threadID=162907</a></p>\n\n<p>Regarding reads of deeply nested items: <a href=\"http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Expressions.AccessingItemAttributes.html#DocumentPaths\" rel=\"nofollow noreferrer\">http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Expressions.AccessingItemAttributes.html#DocumentPaths</a></p>\n"},{"comments":[{"owner":{"account_id":4559003,"reputation":695,"user_id":3701844,"accept_rate":56,"display_name":"Bhargav"},"score":0,"creation_date":1512637819,"post_id":46021158,"comment_id":82341635,"body_markdown":"Hi, when we use this solution, what happens if we add new fields to the inner class, will they be present in dynamo db?","body":"Hi, when we use this solution, what happens if we add new fields to the inner class, will they be present in dynamo db?"},{"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"score":0,"creation_date":1512704719,"post_id":46021158,"comment_id":82374773,"body_markdown":"Yes, it is going to be there","body":"Yes, it is going to be there"},{"owner":{"account_id":208709,"reputation":5062,"user_id":459367,"accept_rate":55,"display_name":"Ruchi"},"score":0,"creation_date":1625739819,"post_id":46021158,"comment_id":120709611,"body_markdown":"How to map generic json in pojo using @DynamoDBDocument..like i have key,value pair with different value object.","body":"How to map generic json in pojo using @DynamoDBDocument..like i have key,value pair with different value object."}],"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"comment_count":3,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1581392984,"creation_date":1504423263,"answer_id":46021158,"question_id":26118067,"body_markdown":"Simplest way is use `@DynamoDBDocument`\r\n\r\n1. Add Maven dependency\r\n```xml\r\n&lt;dependency&gt;\r\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aws-java-sdk-dynamodb&lt;/artifactId&gt;\r\n        &lt;version&gt;1.11.186&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n2. Create POJO\r\n```java\r\n@DynamoDBTable(tableName = &quot;Customer&quot;)\r\npublic class Customer\r\n{ \r\n    @DynamoDBHashKey\r\n    @DynamoDBAutoGeneratedKey\r\n    private String id;\r\n\r\n    private String firstName;\r\n\r\n    private List&lt;Foo&gt; fooList;\r\n}\r\n\r\n@DynamoDBDocument\r\npublic static class Foo {\r\n    private String name;\r\n}\r\n```\r\n\r\n3. Create a repository\r\n```java\r\n@EnableScan\r\npublic interface CustomerRepository extends CrudRepository&lt;Customer,String&gt;\r\n```\r\n\r\n   Then call `customerRepository.save(customer)`. The result will be like this:\r\n\r\n```json\r\n{\r\n  &quot;firstName&quot;: &quot;Test&quot;,\r\n  &quot;fooList&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;foo&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;foo2&quot;\r\n    }\r\n  ],\r\n  &quot;id&quot;: &quot;e57dd681-8608-4712-a39a-f3e0f31a5e27&quot;\r\n}\r\n```","title":"DynamoDB: How can I create a table with nested JSON structure?","body":"<p>Simplest way is use <code>@DynamoDBDocument</code></p>\n\n<ol>\n<li>Add Maven dependency</li>\n</ol>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk-dynamodb&lt;/artifactId&gt;\n        &lt;version&gt;1.11.186&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<ol start=\"2\">\n<li>Create POJO</li>\n</ol>\n\n<pre class=\"lang-java prettyprint-override\"><code>@DynamoDBTable(tableName = \"Customer\")\npublic class Customer\n{ \n    @DynamoDBHashKey\n    @DynamoDBAutoGeneratedKey\n    private String id;\n\n    private String firstName;\n\n    private List&lt;Foo&gt; fooList;\n}\n\n@DynamoDBDocument\npublic static class Foo {\n    private String name;\n}\n</code></pre>\n\n<ol start=\"3\">\n<li>Create a repository</li>\n</ol>\n\n<pre class=\"lang-java prettyprint-override\"><code>@EnableScan\npublic interface CustomerRepository extends CrudRepository&lt;Customer,String&gt;\n</code></pre>\n\n<p>Then call <code>customerRepository.save(customer)</code>. The result will be like this:</p>\n\n<pre><code>{\n  \"firstName\": \"Test\",\n  \"fooList\": [\n    {\n      \"name\": \"foo\"\n    },\n    {\n      \"name\": \"foo2\"\n    }\n  ],\n  \"id\": \"e57dd681-8608-4712-a39a-f3e0f31a5e27\"\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2176810,"reputation":1464,"user_id":1927303,"display_name":"Arundev"},"score":0,"creation_date":1655138373,"post_id":59588657,"comment_id":128254982,"body_markdown":"@DynamoDBAttribute - this is not applicable to fields... have you tried this before ?","body":"@DynamoDBAttribute - this is not applicable to fields... have you tried this before ?"}],"tags":[],"owner":{"account_id":17450915,"reputation":452,"user_id":12650909,"display_name":"Sandeep Lakdawala"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1578121413,"creation_date":1578121413,"answer_id":59588657,"question_id":26118067,"body_markdown":"Bit Late to the party but would like to share this.\r\nI was able to store a deep nested Json Doc by defining the column attribute as below in my Java Entity.\r\n\r\n    @DynamoDBAttribute\r\n    @DynamoDBTypeConvertedJson\r\n    private List&lt;Map&lt;String,Object&gt;&gt; pageData;\r\n\r\nInput Json:\r\n   \r\n\r\n     {\r\n        &quot;userId&quot;: 359628,\r\n        &quot;platform&quot;: &quot;learn-web&quot;,\r\n        &quot;inactive_duration&quot;: 0,\r\n        &quot;total_time&quot;: 15,\r\n        &quot;device_type&quot;: &quot;web&quot;,\r\n        &quot;page_data&quot;: [{\r\n            &quot;page_details&quot;: {\r\n                &quot;page_type&quot;: &quot;segmentView&quot;,\r\n                &quot;time&quot;: 15,\r\n                &quot;segment_id&quot;: 65590,\r\n                &quot;session_id&quot;: 13140,\r\n                &quot;module_id&quot;: 4363\r\n            },\r\n            &quot;items&quot;: [{\r\n                &quot;type&quot;: &quot;component&quot;,\r\n                &quot;id&quot;: 267307,\r\n                &quot;sub_type&quot;: &quot;video&quot;,\r\n                &quot;time&quot;: 10,\r\n                &quot;metadata&quot;: {\r\n                    &quot;lastPlaybackRate&quot;: 1,\r\n                    &quot;currentTime&quot;: 0,\r\n                    &quot;isLocked&quot;: false,\r\n                    &quot;video&quot;: {\r\n                        &quot;videoType&quot;: &quot;BRIGHTCOVE&quot;,\r\n                        &quot;viewingTime&quot;: 156,\r\n                        &quot;videoSize&quot;: 7120441,\r\n                        &quot;url&quot;: &quot;5378655747001&quot;,\r\n                        &quot;URL&quot;: &quot;5378655747001&quot;\r\n                    }\r\n                }\r\n            }]\r\n        }]\r\n    }\r\n\r\n[As stored in Dynamo DB-Snap][1]   \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UtmaQ.png","title":"DynamoDB: How can I create a table with nested JSON structure?","body":"<p>Bit Late to the party but would like to share this.\nI was able to store a deep nested Json Doc by defining the column attribute as below in my Java Entity.</p>\n\n<pre><code>@DynamoDBAttribute\n@DynamoDBTypeConvertedJson\nprivate List&lt;Map&lt;String,Object&gt;&gt; pageData;\n</code></pre>\n\n<p>Input Json:</p>\n\n<pre><code> {\n    \"userId\": 359628,\n    \"platform\": \"learn-web\",\n    \"inactive_duration\": 0,\n    \"total_time\": 15,\n    \"device_type\": \"web\",\n    \"page_data\": [{\n        \"page_details\": {\n            \"page_type\": \"segmentView\",\n            \"time\": 15,\n            \"segment_id\": 65590,\n            \"session_id\": 13140,\n            \"module_id\": 4363\n        },\n        \"items\": [{\n            \"type\": \"component\",\n            \"id\": 267307,\n            \"sub_type\": \"video\",\n            \"time\": 10,\n            \"metadata\": {\n                \"lastPlaybackRate\": 1,\n                \"currentTime\": 0,\n                \"isLocked\": false,\n                \"video\": {\n                    \"videoType\": \"BRIGHTCOVE\",\n                    \"viewingTime\": 156,\n                    \"videoSize\": 7120441,\n                    \"url\": \"5378655747001\",\n                    \"URL\": \"5378655747001\"\n                }\n            }\n        }]\n    }]\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/UtmaQ.png\" rel=\"nofollow noreferrer\">As stored in Dynamo DB-Snap</a>   </p>\n"},{"tags":[],"owner":{"account_id":157392,"reputation":3230,"user_id":375317,"display_name":"cayhorstmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601746181,"creation_date":1601746181,"answer_id":64187036,"question_id":26118067,"body_markdown":"If you have the JSON in a string, you can simply call\r\n```\r\ntable.putItem(Item.fromJSON(jsonString));\r\n```\r\nThe JSON needs to contain keys/values for the partition and sort key. For a conditional put, use\r\n```\r\ntable.putItem(Item.fromJSON(jsonString), conditionString, nameMap, valueMap)\r\n```","title":"DynamoDB: How can I create a table with nested JSON structure?","body":"<p>If you have the JSON in a string, you can simply call</p>\n<pre><code>table.putItem(Item.fromJSON(jsonString));\n</code></pre>\n<p>The JSON needs to contain keys/values for the partition and sort key. For a conditional put, use</p>\n<pre><code>table.putItem(Item.fromJSON(jsonString), conditionString, nameMap, valueMap)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11517390,"reputation":2361,"user_id":8440358,"accept_rate":100,"display_name":"Hasitha Jayawardana"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666518280,"creation_date":1666518280,"answer_id":74170107,"question_id":26118067,"body_markdown":"The following is the annotated way of doing it in `V2` (Equivalent of [@DynamoDBDocument][1]). For more information check their [GitHub Issue Page][2].\r\n\r\n    @DynamoDbBean\r\n    public class Cart {\r\n    \r\n    \tprivate String cartId;\r\n    \tprivate String userId;\r\n    \t\r\n    \tprivate List&lt;CartItem&gt; cartItems;\r\n    }\r\n    \r\n    @DynamoDbBean\r\n    public class CartItem {\r\n    \r\n    \tprivate String productId;\r\n    \tprivate Integer quantity;\r\n    }\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.Annotations.html\r\n  [2]: https://github.com/aws/aws-sdk-java-v2/issues/2265","title":"DynamoDB: How can I create a table with nested JSON structure?","body":"<p>The following is the annotated way of doing it in <code>V2</code> (Equivalent of <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.Annotations.html\" rel=\"nofollow noreferrer\">@DynamoDBDocument</a>). For more information check their <a href=\"https://github.com/aws/aws-sdk-java-v2/issues/2265\" rel=\"nofollow noreferrer\">GitHub Issue Page</a>.</p>\n<pre><code>@DynamoDbBean\npublic class Cart {\n\n    private String cartId;\n    private String userId;\n    \n    private List&lt;CartItem&gt; cartItems;\n}\n\n@DynamoDbBean\npublic class CartItem {\n\n    private String productId;\n    private Integer quantity;\n}\n</code></pre>\n"}],"owner":{"account_id":1171849,"reputation":549,"user_id":1148859,"accept_rate":85,"display_name":"Amit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49139,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":7,"score":20,"last_activity_date":1666518280,"creation_date":1412071483,"question_id":26118067,"body_markdown":"I want to create a table in dynamoDB with below structure.\r\n```json\r\n{\r\n  &quot;CartId&quot;: 123,\r\n  &quot;UserId&quot;: 356,\r\n  &quot;CartItems&quot;: [\r\n    {\r\n      &quot;ProductId&quot;: 100,\r\n      &quot;Quantity&quot;: 50\r\n    },\r\n    {\r\n      &quot;ProductId&quot;: 121,\r\n      &quot;Quantity&quot;: 51\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nEverywhere in tutorials and documents it says that we can only have below type of attributes in the table:\r\n\r\n1. Set of Strings \r\n\r\n2. Set of Numbers\r\n\r\n3. Set of Binary\r\n\r\nI can&#39;t think of a way to store above structure in DynamoDB. Could you please help out?\r\n\r\nI am using object mapper Api of java. It would be great if you can also tell me how can I create a class which can be mapped to this particular table structure.","title":"DynamoDB: How can I create a table with nested JSON structure?","body":"<p>I want to create a table in dynamoDB with below structure.</p>\n\n<pre><code>{\n  \"CartId\": 123,\n  \"UserId\": 356,\n  \"CartItems\": [\n    {\n      \"ProductId\": 100,\n      \"Quantity\": 50\n    },\n    {\n      \"ProductId\": 121,\n      \"Quantity\": 51\n    }\n  ]\n}\n</code></pre>\n\n<p>Everywhere in tutorials and documents it says that we can only have below type of attributes in the table:</p>\n\n<ol>\n<li><p>Set of Strings </p></li>\n<li><p>Set of Numbers</p></li>\n<li><p>Set of Binary</p></li>\n</ol>\n\n<p>I can't think of a way to store above structure in DynamoDB. Could you please help out?</p>\n\n<p>I am using object mapper Api of java. It would be great if you can also tell me how can I create a class which can be mapped to this particular table structure.</p>\n"},{"tags":["java","ftp"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666478046,"post_id":74167345,"comment_id":130947651,"body_markdown":"That&#39;s not going to cut it as your recursion is including the connecting procedure and other unwanted stuff. You need to isolate just the listing in a separate method and recurse that","body":"That&#39;s not going to cut it as your recursion is including the connecting procedure and other unwanted stuff. You need to isolate just the listing in a separate method and recurse that"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666518017,"creation_date":1666518017,"answer_id":74170080,"question_id":74167345,"body_markdown":"Like many questions in SO, `System.out.println()` isn&#39;t printing values which identify the issue. Add this to inside `listFolder` will tell you one problem:\r\n\r\n     System.out.println(&quot;listFolder remotePath=&quot;+remotePath);\r\n\r\nYou are passing in &quot;remotePath=true&quot;. Fix by building the correct subPath of the sub-directory using `remotePath` as base:\r\n\r\n      listFolder(ftp, remotePath+&quot;/&quot;+listFiles[i].getName());\r\n\r\nOther problems are mentioned by @g00se - don&#39;t touch the ftp client inside `listFolder`, but move to the `main()`:\r\n\r\n     ftp.connect(&quot;xxx&quot;, 21);\r\n     ftp.enterLocalPassiveMode();\r\n     System.out.println(&quot;successfull connected&quot;);\r\n     ftp.login(&quot;xxx&quot;, &quot;xxx&quot;);\r\n\r\nFinally, print stack trace in one line - or better still don&#39;t catch it and make `listFiles throws WhateverException` it leave the method so caller can decide on sensible action.\r\n\r\n     exception.printStackTrace();\r\n","title":"Java: Recursively list of FTP files and directories","body":"<p>Like many questions in SO, <code>System.out.println()</code> isn't printing values which identify the issue. Add this to inside <code>listFolder</code> will tell you one problem:</p>\n<pre><code> System.out.println(&quot;listFolder remotePath=&quot;+remotePath);\n</code></pre>\n<p>You are passing in &quot;remotePath=true&quot;. Fix by building the correct subPath of the sub-directory using <code>remotePath</code> as base:</p>\n<pre><code>  listFolder(ftp, remotePath+&quot;/&quot;+listFiles[i].getName());\n</code></pre>\n<p>Other problems are mentioned by @g00se - don't touch the ftp client inside <code>listFolder</code>, but move to the <code>main()</code>:</p>\n<pre><code> ftp.connect(&quot;xxx&quot;, 21);\n ftp.enterLocalPassiveMode();\n System.out.println(&quot;successfull connected&quot;);\n ftp.login(&quot;xxx&quot;, &quot;xxx&quot;);\n</code></pre>\n<p>Finally, print stack trace in one line - or better still don't catch it and make <code>listFiles throws WhateverException</code> it leave the method so caller can decide on sensible action.</p>\n<pre><code> exception.printStackTrace();\n</code></pre>\n"}],"owner":{"account_id":7130574,"reputation":133,"user_id":5512866,"accept_rate":70,"display_name":"Seomat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666518017,"creation_date":1666475497,"question_id":74167345,"body_markdown":"I want to list of all files in all directories and subdirectories (Recursively) on FTP server and get full path to files ещ рфму something like this:\r\n\r\n    /www/www2/www3/1.mp4\r\n    /www/www2/2.mp4\r\n    /www/3.mp4\r\n\r\nI have done this code but have problems: 1) For loop not stoppping, 2) Not showing full path:\r\n\r\n    package org.example;\r\n    \r\n    import org.apache.commons.net.ftp.FTPClient;\r\n    import org.apache.commons.net.ftp.FTPFile;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws IOException {\r\n    \r\n            var ftpClient = new FTPClient();\r\n            ftpClient.connect(&quot;xxx&quot;);\r\n            ftpClient.login(&quot;xxx&quot;, &quot;xxx&quot;);\r\n    \r\n            listFolder(ftpClient, &quot;/&quot;);\r\n        }\r\n    \r\n        private static void listFolder(FTPClient ftp, String remotePath) throws IOException\r\n        {\r\n            ftp.connect(&quot;xxx&quot;, 21);\r\n            ftp.enterLocalPassiveMode();\r\n            System.out.println(&quot;successfull connected&quot;);\r\n            ftp.login(&quot;xxx&quot;, &quot;xxx&quot;);\r\n            ftp.changeWorkingDirectory(remotePath);\r\n            System.out.println(&quot;successfull logged in&quot;);\r\n    \r\n            FTPFile[] listFiles =null;\r\n    // listing files from the direcotry\r\n            try {\r\n                System.out.println(&quot;Fetching files from the directory&quot;);\r\n                listFiles = ftp.listFiles();\r\n    \r\n                for (int i = 0; i &lt; listFiles.length; i++) {\r\n                    if (listFiles[i].isDirectory()) {\r\n    \r\n                        listFolder(ftp, String.valueOf(listFiles[i].isDirectory()));\r\n                        System.out.println(listFiles[i].getName());\r\n                    } else {\r\n                        System.out.println(listFiles[i].getName());\r\n                    }\r\n                }\r\n            }catch(Exception exception) {\r\n                StackTraceElement[] stackTrace = exception.getStackTrace();\r\n                System.out.println(exception.getMessage());\r\n                for(int i=0; i&lt;=stackTrace.length-1; i++) {\r\n                    System.out.println(&quot;&quot;+stackTrace[i]);\r\n                }\r\n            }\r\n        }\r\n    }","title":"Java: Recursively list of FTP files and directories","body":"<p>I want to list of all files in all directories and subdirectories (Recursively) on FTP server and get full path to files ещ рфму something like this:</p>\n<pre><code>/www/www2/www3/1.mp4\n/www/www2/2.mp4\n/www/3.mp4\n</code></pre>\n<p>I have done this code but have problems: 1) For loop not stoppping, 2) Not showing full path:</p>\n<pre><code>package org.example;\n\nimport org.apache.commons.net.ftp.FTPClient;\nimport org.apache.commons.net.ftp.FTPFile;\n\nimport java.io.IOException;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n\n        var ftpClient = new FTPClient();\n        ftpClient.connect(&quot;xxx&quot;);\n        ftpClient.login(&quot;xxx&quot;, &quot;xxx&quot;);\n\n        listFolder(ftpClient, &quot;/&quot;);\n    }\n\n    private static void listFolder(FTPClient ftp, String remotePath) throws IOException\n    {\n        ftp.connect(&quot;xxx&quot;, 21);\n        ftp.enterLocalPassiveMode();\n        System.out.println(&quot;successfull connected&quot;);\n        ftp.login(&quot;xxx&quot;, &quot;xxx&quot;);\n        ftp.changeWorkingDirectory(remotePath);\n        System.out.println(&quot;successfull logged in&quot;);\n\n        FTPFile[] listFiles =null;\n// listing files from the direcotry\n        try {\n            System.out.println(&quot;Fetching files from the directory&quot;);\n            listFiles = ftp.listFiles();\n\n            for (int i = 0; i &lt; listFiles.length; i++) {\n                if (listFiles[i].isDirectory()) {\n\n                    listFolder(ftp, String.valueOf(listFiles[i].isDirectory()));\n                    System.out.println(listFiles[i].getName());\n                } else {\n                    System.out.println(listFiles[i].getName());\n                }\n            }\n        }catch(Exception exception) {\n            StackTraceElement[] stackTrace = exception.getStackTrace();\n            System.out.println(exception.getMessage());\n            for(int i=0; i&lt;=stackTrace.length-1; i++) {\n                System.out.println(&quot;&quot;+stackTrace[i]);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","java-8","java-stream"],"answers":[{"comments":[{"owner":{"account_id":29144164,"reputation":12197,"user_id":12361700,"display_name":"Alberto"},"score":1,"creation_date":1606145506,"post_id":41295795,"comment_id":114865336,"body_markdown":"just as note, you can use  `Function.identity()` instead of `stream -&gt; stream`","body":"just as note, you can use  <code>Function.identity()</code> instead of <code>stream -&gt; stream</code>"}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1666516289,"creation_date":1482471771,"answer_id":41295795,"question_id":41295766,"body_markdown":"Just write\r\n\r\n    IntStream.of(...)\r\n            .mapToObj(i -&gt; getStreamOfObjects(i))\r\n            .flatMap(stream -&gt; stream)","title":"Why isn&#39;t there IntStream.flatMapToObj()?","body":"<p>Just write</p>\n<pre><code>IntStream.of(...)\n        .mapToObj(i -&gt; getStreamOfObjects(i))\n        .flatMap(stream -&gt; stream)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":248187,"reputation":22658,"user_id":523391,"display_name":"prunge"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1482472079,"creation_date":1482472079,"answer_id":41295845,"question_id":41295766,"body_markdown":"Using a boxed stream would work if you don&#39;t mind the cost of boxing each `int` value.\r\n\r\n    Stream&lt;Object&gt; stream = IntStream.of(...).boxed().flatMap(i -&gt; getStreamOfObjects(i));","title":"Why isn&#39;t there IntStream.flatMapToObj()?","body":"<p>Using a boxed stream would work if you don't mind the cost of boxing each <code>int</code> value.</p>\n\n<pre><code>Stream&lt;Object&gt; stream = IntStream.of(...).boxed().flatMap(i -&gt; getStreamOfObjects(i));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1482472444,"post_id":41295856,"comment_id":69794365,"body_markdown":"Good answer. I think I subconsciously assumed `IntStream.flatMapToObj()` was as necessary as `Stream.flatMapToInt()`, but that&#39;s obviously not the case.","body":"Good answer. I think I subconsciously assumed <code>IntStream.flatMapToObj()</code> was as necessary as <code>Stream.flatMapToInt()</code>, but that&#39;s obviously not the case."},{"owner":{"account_id":7537037,"reputation":4882,"user_id":7098259,"display_name":"Patrick Parker"},"score":5,"creation_date":1482561018,"post_id":41295856,"comment_id":69825165,"body_markdown":"this `.flatMap(...)` should probably be `.flatMap(Function.identity())` since you have already mapped to Streams with mapToObj","body":"this <code>.flatMap(...)</code> should probably be <code>.flatMap(Function.identity())</code> since you have already mapped to Streams with mapToObj"},{"owner":{"account_id":246020,"reputation":356,"user_id":519891,"display_name":"MrPotes"},"score":2,"creation_date":1500973134,"post_id":41295856,"comment_id":77558524,"body_markdown":"I&#39;m not that convinced by this - in the API we&#39;re given the `.boxed()` method, which should eliminate the need for `.mapToObj(...)` because all can be rewritten to `.boxed().map(...)`. It seems inconsistent therefore to have provided `.mapToObj()` (`.boxed().map(...)`) but not `.flatMapToObj()` (`.boxed().flatMap()`).","body":"I&#39;m not that convinced by this - in the API we&#39;re given the <code>.boxed()</code> method, which should eliminate the need for <code>.mapToObj(...)</code> because all can be rewritten to <code>.boxed().map(...)</code>. It seems inconsistent therefore to have provided <code>.mapToObj()</code> (<code>.boxed().map(...)</code>) but not <code>.flatMapToObj()</code> (<code>.boxed().flatMap()</code>)."},{"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"score":1,"creation_date":1500974997,"post_id":41295856,"comment_id":77559913,"body_markdown":"@MrPotes `.boxed().map(...)` is not the same as `.mapToObj(...)`, because boxing is not exactly free. In this example, if you have a function that returns a stream for a primitive `int`, then boxing the `int` will be a waste, and could even lead to performance issues. In other words, `mapToObj` is necessary due to primitive types in Java. (Sad and ugly but true.)","body":"@MrPotes <code>.boxed().map(...)</code> is not the same as <code>.mapToObj(...)</code>, because boxing is not exactly free. In this example, if you have a function that returns a stream for a primitive <code>int</code>, then boxing the <code>int</code> will be a waste, and could even lead to performance issues. In other words, <code>mapToObj</code> is necessary due to primitive types in Java. (Sad and ugly but true.)"},{"owner":{"account_id":246020,"reputation":356,"user_id":519891,"display_name":"MrPotes"},"score":0,"creation_date":1500987974,"post_id":41295856,"comment_id":77569972,"body_markdown":"Yes, true, hadn&#39;t thought of the cost of boxing :)","body":"Yes, true, hadn&#39;t thought of the cost of boxing :)"},{"owner":{"account_id":1604752,"reputation":3710,"user_id":1485064,"accept_rate":74,"display_name":"Mikkel L&#248;kke"},"score":1,"creation_date":1582742443,"post_id":41295856,"comment_id":106885732,"body_markdown":"@janos Wait that doesn&#39;t make sense, you&#39;re moving the goalposts. Surely the same logic would still apply. If boxing isn&#39;t &quot;free&quot;, then surely neither is an additional ```flatMap(Function::Identity)```? And then not having ```flatMapToObj()``` is an oversight?","body":"@janos Wait that doesn&#39;t make sense, you&#39;re moving the goalposts. Surely the same logic would still apply. If boxing isn&#39;t &quot;free&quot;, then surely neither is an additional <code>flatMap(Function::Identity)</code>? And then not having <code>flatMapToObj()</code> is an oversight?"}],"tags":[],"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"comment_count":6,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1482472136,"creation_date":1482472136,"answer_id":41295856,"question_id":41295766,"body_markdown":"&gt; Why was it was left out?\r\n\r\nThe API provides reusable building blocks. The relevant building blocks here are `IntStream`, `mapToObj`, `flatMap`. From these you can achieve what you want: map an in stream to objects, and then get a flat map. Providing permutations of building blocks would not be practical, and harder to extend.\r\n\r\n&gt; What&#39;s a recommended workaround?\r\n\r\nAs hinted earlier, use the available building blocks (`mapToObj` + `flatMap`):\r\n\r\n    Stream&lt;Object&gt; stream = IntStream.of(...)\r\n        .mapToObj(i -&gt; Stream.of(...))\r\n        .flatMap(...);","title":"Why isn&#39;t there IntStream.flatMapToObj()?","body":"<blockquote>\n  <p>Why was it was left out?</p>\n</blockquote>\n\n<p>The API provides reusable building blocks. The relevant building blocks here are <code>IntStream</code>, <code>mapToObj</code>, <code>flatMap</code>. From these you can achieve what you want: map an in stream to objects, and then get a flat map. Providing permutations of building blocks would not be practical, and harder to extend.</p>\n\n<blockquote>\n  <p>What's a recommended workaround?</p>\n</blockquote>\n\n<p>As hinted earlier, use the available building blocks (<code>mapToObj</code> + <code>flatMap</code>):</p>\n\n<pre><code>Stream&lt;Object&gt; stream = IntStream.of(...)\n    .mapToObj(i -&gt; Stream.of(...))\n    .flatMap(...);\n</code></pre>\n"}],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3215,"favorite_count":0,"down_vote_count":1,"up_vote_count":25,"accepted_answer_id":41295856,"answer_count":3,"score":24,"last_activity_date":1666516289,"creation_date":1482471625,"question_id":41295766,"body_markdown":"I&#39;m trying to do something like this:\r\n\r\n    Stream&lt;Object&gt; stream = IntStream.of(...)\r\n            .flatMapToObj(i -&gt; getStreamOfObjects(i));\r\n\r\nUnfortunately, `IntStream.flatMapToObj()` doesn&#39;t exist, even in Java 9.\r\n\r\n1. Why was it left out?\r\n2. What&#39;s a recommended workaround?","title":"Why isn&#39;t there IntStream.flatMapToObj()?","body":"<p>I'm trying to do something like this:</p>\n\n<pre><code>Stream&lt;Object&gt; stream = IntStream.of(...)\n        .flatMapToObj(i -&gt; getStreamOfObjects(i));\n</code></pre>\n\n<p>Unfortunately, <code>IntStream.flatMapToObj()</code> doesn't exist, even in Java 9.</p>\n\n<ol>\n<li>Why was it left out?</li>\n<li>What's a recommended workaround?</li>\n</ol>\n"},{"tags":["java","tcp","serversocket"],"comments":[{"owner":{"account_id":11002035,"reputation":3342,"user_id":8997916,"display_name":"DownloadPizza"},"score":0,"creation_date":1666023407,"post_id":74100197,"comment_id":130831831,"body_markdown":"For one: yes the client never reaches the host. Can you ping the host? How did you find out the hosts WAN IP?","body":"For one: yes the client never reaches the host. Can you ping the host? How did you find out the hosts WAN IP?"},{"owner":{"account_id":17668560,"reputation":166,"user_id":12825336,"display_name":"Conta"},"score":0,"creation_date":1666023797,"post_id":74100197,"comment_id":130831986,"body_markdown":"@DownloadPizza yes the host is reachable, i can ping it, but what do you mean for &quot;How did you find out the hosts WAN IP&quot;?","body":"@DownloadPizza yes the host is reachable, i can ping it, but what do you mean for &quot;How did you find out the hosts WAN IP&quot;?"},{"owner":{"account_id":11002035,"reputation":3342,"user_id":8997916,"display_name":"DownloadPizza"},"score":0,"creation_date":1666023875,"post_id":74100197,"comment_id":130832031,"body_markdown":"You have the hosts real IP where you have 00.00.00.000, right?","body":"You have the hosts real IP where you have 00.00.00.000, right?"},{"owner":{"account_id":11002035,"reputation":3342,"user_id":8997916,"display_name":"DownloadPizza"},"score":0,"creation_date":1666023903,"post_id":74100197,"comment_id":130832045,"body_markdown":"And not just 192.168.1.29","body":"And not just 192.168.1.29"},{"owner":{"account_id":17668560,"reputation":166,"user_id":12825336,"display_name":"Conta"},"score":0,"creation_date":1666023921,"post_id":74100197,"comment_id":130832055,"body_markdown":"@DownloadPizza yes, that is just a censure","body":"@DownloadPizza yes, that is just a censure"},{"owner":{"account_id":17668560,"reputation":166,"user_id":12825336,"display_name":"Conta"},"score":0,"creation_date":1666023939,"post_id":74100197,"comment_id":130832062,"body_markdown":"@DownloadPizza no i have the real public ip","body":"@DownloadPizza no i have the real public ip"},{"owner":{"account_id":11002035,"reputation":3342,"user_id":8997916,"display_name":"DownloadPizza"},"score":0,"creation_date":1666024042,"post_id":74100197,"comment_id":130832105,"body_markdown":"I assume the server is some VPS you rented. Maybe check firewall settings on the server? Best guess is that they are using ufw, so `ufw status` might tell you something. If its not ufw you may need to search","body":"I assume the server is some VPS you rented. Maybe check firewall settings on the server? Best guess is that they are using ufw, so <code>ufw status</code> might tell you something. If its not ufw you may need to search"},{"owner":{"account_id":17668560,"reputation":166,"user_id":12825336,"display_name":"Conta"},"score":0,"creation_date":1666024094,"post_id":74100197,"comment_id":130832123,"body_markdown":"@DownloadPizza no it is just another pc in another LAN, is the pc of a my friend","body":"@DownloadPizza no it is just another pc in another LAN, is the pc of a my friend"},{"owner":{"account_id":11002035,"reputation":3342,"user_id":8997916,"display_name":"DownloadPizza"},"score":2,"creation_date":1666024258,"post_id":74100197,"comment_id":130832181,"body_markdown":"Ok then I actually have no idea. To me it seems like you did everything right. Maybe check if their ISP actually supports port forwarding? My router for example has a port forwarding page which does not do anything, I needed DMZ settings to get server things to run. A quick google search might tell you, but in my case it didnt so trial and error might be the only way","body":"Ok then I actually have no idea. To me it seems like you did everything right. Maybe check if their ISP actually supports port forwarding? My router for example has a port forwarding page which does not do anything, I needed DMZ settings to get server things to run. A quick google search might tell you, but in my case it didnt so trial and error might be the only way"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":2,"creation_date":1666044510,"post_id":74100197,"comment_id":130838116,"body_markdown":"It looks like those router settings are forwarding port 6666 on the router to port 113 on the destination, but the server is actually binding to port 6666 as well.","body":"It looks like those router settings are forwarding port 6666 on the router to port 113 on the destination, but the server is actually binding to port 6666 as well."}],"answers":[{"tags":[],"owner":{"account_id":17668560,"reputation":166,"user_id":12825336,"display_name":"Conta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666516255,"creation_date":1666516255,"answer_id":74169900,"question_id":74100197,"body_markdown":"I solved allowing access to private and public networks in the **Windows client firewall settings**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/klxQ1.png","title":"Send a socket with Socket java library","body":"<p>I solved allowing access to private and public networks in the <strong>Windows client firewall settings</strong></p>\n<p><a href=\"https://i.stack.imgur.com/klxQ1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/klxQ1.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":17668560,"reputation":166,"user_id":12825336,"display_name":"Conta"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74169900,"answer_count":1,"score":0,"last_activity_date":1666516255,"creation_date":1666023261,"question_id":74100197,"body_markdown":"I am trying to open a TCP connection between two machines which are not within the same LAN. **the server does not receive anything** even though it has opened the port with port forwarding in the router settings.\r\np**robably the client does not connect to the host**, this is because having put a **test sout** after the socket initialization instruction, **in the debug, in the console, nothing appears**, on the contrary, the connection drops after a certain period (about 15 seconds ):\r\n\r\n    java.net.ConnectException: Connection timed out: connect\r\n        \r\nand I&#39;m trying to figure out just where the error lies.\r\n\r\nClient.java\r\n\r\n            try {\r\n               \r\n                Socket s = new Socket(&quot;00.00.00.000&quot;, 6666);\r\n                System.out.println(&quot;connected&quot;);\r\n                s.getOutputStream().write((int) (Math.random() * 10));\r\n                s.close();\r\n              \r\n            } catch (UnknownHostException uhe) {\r\n                uhe.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\nServer.java\r\n\r\n     try {\r\n        ServerSocket ss = new ServerSocket(6666);\r\n        while (true) {\r\n            Socket s = ss.accept();        \r\n            System.out.println(&quot;Server: &quot; + s.getInputStream().read());     \r\n            s.close();\r\n        }\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nPort Forwarding in server router settings:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RnWuT.png","title":"Send a socket with Socket java library","body":"<p>I am trying to open a TCP connection between two machines which are not within the same LAN. <strong>the server does not receive anything</strong> even though it has opened the port with port forwarding in the router settings.\np<strong>robably the client does not connect to the host</strong>, this is because having put a <strong>test sout</strong> after the socket initialization instruction, <strong>in the debug, in the console, nothing appears</strong>, on the contrary, the connection drops after a certain period (about 15 seconds ):</p>\n<pre><code>java.net.ConnectException: Connection timed out: connect\n    \n</code></pre>\n<p>and I'm trying to figure out just where the error lies.</p>\n<p>Client.java</p>\n<pre><code>        try {\n           \n            Socket s = new Socket(&quot;00.00.00.000&quot;, 6666);\n            System.out.println(&quot;connected&quot;);\n            s.getOutputStream().write((int) (Math.random() * 10));\n            s.close();\n          \n        } catch (UnknownHostException uhe) {\n            uhe.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>Server.java</p>\n<pre><code> try {\n    ServerSocket ss = new ServerSocket(6666);\n    while (true) {\n        Socket s = ss.accept();        \n        System.out.println(&quot;Server: &quot; + s.getInputStream().read());     \n        s.close();\n    }\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Port Forwarding in server router settings:\n<a href=\"https://i.stack.imgur.com/RnWuT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RnWuT.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","algorithm","union-find"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666292178,"creation_date":1666292178,"answer_id":74145004,"question_id":74143803,"body_markdown":"Here are some issues:\r\n\r\n* The `size` information is not used, yet that information is crucial in keeping the desired performance. Most importantly, in `unite`:\r\n\r\n    * `size` should be kept updated: the united set will have as many members as the two given sets had\r\n    * `size` should determine which of the two root nodes should be the root of the united set, as this will keep the trees balanced\r\n\r\n* `setCount` has O(n) time complexity. It could give the information in O(1) time if you would keep track of that number in a member variable. I&#39;d call it `numSets`. If `setCount()` is called a lot, this change will have a positive effect.\r\n\r\nNot a problem, but naming variables as `N` and `K` is not helping to make the code readable. Why not give names that actually tell what they are, so you don&#39;t need to accompany their definitions with a comment to give that explanation?\r\n\r\nHere is your code with those adaptations:\r\n\r\n```\r\npublic class UnionFind {\r\n    \r\n    private int[] parent;\r\n    private int[] size;\r\n    private int maxItemCount;\r\n    private int numItems;\r\n    private int numSets;\r\n    \r\n    UnionFind(int maxItemCount) {\r\n        this.maxItemCount = maxItemCount;\r\n        numItems = 0;\r\n        numSets = 0;\r\n        parent = new int[maxItemCount];\r\n        size = new int[maxItemCount];\r\n        for (int i = 0; i &lt; maxItemCount; i++) {\r\n            parent[i] = -1;\r\n            size[i] = 0;\r\n        }\r\n    }\r\n    \r\n    void makeSet(int v) {\r\n        if (parent[v] != -1) return; // item v already belongs in a set\r\n        parent[v] = v;\r\n        size[v] = 1;\r\n        numItems++;\r\n        numSets++;  // Keep track of number of sets\r\n    }\r\n    \r\n    int find(int v) {\r\n        if (v == parent[v]) {\r\n            return v;\r\n        }\r\n        return parent[v] = find(parent[v]);\r\n    }\r\n    \r\n    void unite(int v, int u) {\r\n        int x = find(v);\r\n        int y = find(u);\r\n        if (x != y) {\r\n            numSets--; // A union decreases the set count\r\n            // Determine which node becomes the root\r\n            if (size[x] &lt; size[y]) {\r\n                parent[x] = y;\r\n                size[y] += size[x]; // Adapt size\r\n            } else {\r\n                parent[y] = x;\r\n                size[x] += size[y]; // Adapt size\r\n            }\r\n        }\r\n    }\r\n    \r\n    int setCount() {\r\n        return numSets; // Kept track of it\r\n    }\r\n    \r\n    int itemCount() {\r\n        return numItems;\r\n    }\r\n}\r\n```","title":"Weighted Quick-Union with Path Compression algorithm-Union Find","body":"<p>Here are some issues:</p>\n<ul>\n<li><p>The <code>size</code> information is not used, yet that information is crucial in keeping the desired performance. Most importantly, in <code>unite</code>:</p>\n<ul>\n<li><code>size</code> should be kept updated: the united set will have as many members as the two given sets had</li>\n<li><code>size</code> should determine which of the two root nodes should be the root of the united set, as this will keep the trees balanced</li>\n</ul>\n</li>\n<li><p><code>setCount</code> has O(n) time complexity. It could give the information in O(1) time if you would keep track of that number in a member variable. I'd call it <code>numSets</code>. If <code>setCount()</code> is called a lot, this change will have a positive effect.</p>\n</li>\n</ul>\n<p>Not a problem, but naming variables as <code>N</code> and <code>K</code> is not helping to make the code readable. Why not give names that actually tell what they are, so you don't need to accompany their definitions with a comment to give that explanation?</p>\n<p>Here is your code with those adaptations:</p>\n<pre><code>public class UnionFind {\n    \n    private int[] parent;\n    private int[] size;\n    private int maxItemCount;\n    private int numItems;\n    private int numSets;\n    \n    UnionFind(int maxItemCount) {\n        this.maxItemCount = maxItemCount;\n        numItems = 0;\n        numSets = 0;\n        parent = new int[maxItemCount];\n        size = new int[maxItemCount];\n        for (int i = 0; i &lt; maxItemCount; i++) {\n            parent[i] = -1;\n            size[i] = 0;\n        }\n    }\n    \n    void makeSet(int v) {\n        if (parent[v] != -1) return; // item v already belongs in a set\n        parent[v] = v;\n        size[v] = 1;\n        numItems++;\n        numSets++;  // Keep track of number of sets\n    }\n    \n    int find(int v) {\n        if (v == parent[v]) {\n            return v;\n        }\n        return parent[v] = find(parent[v]);\n    }\n    \n    void unite(int v, int u) {\n        int x = find(v);\n        int y = find(u);\n        if (x != y) {\n            numSets--; // A union decreases the set count\n            // Determine which node becomes the root\n            if (size[x] &lt; size[y]) {\n                parent[x] = y;\n                size[y] += size[x]; // Adapt size\n            } else {\n                parent[y] = x;\n                size[x] += size[y]; // Adapt size\n            }\n        }\n    }\n    \n    int setCount() {\n        return numSets; // Kept track of it\n    }\n    \n    int itemCount() {\n        return numItems;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25349394,"reputation":3,"user_id":19166484,"display_name":"DM2112"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74145004,"answer_count":1,"score":0,"last_activity_date":1666516091,"creation_date":1666285922,"question_id":74143803,"body_markdown":"I have a project in which i have to implement a weighted quick-union with path compression algorithm.After seeing a number of others source code,i ended up in this:\r\n\r\n    public class UnionFind {\r\n\r\n    private int[] parent;\r\n    private int[] size;\r\n    private int maxItemCount;      // maximum number of items from {0,1,...,N-1}\r\n    private int numItems;      // number of items created\r\n\r\n    UnionFind(int N) {\r\n        this.N = N;\r\n        this.K = 0;\r\n        parent = new int[N];\r\n        size = new int[N];\r\n        for (int i = 0; i &lt; N; i++) {\r\n            parent[i] = -1;\r\n            size[i] = 0;\r\n        }\r\n    }\r\n\r\n    void makeSet(int v) {\r\n        if (parent[v] != -1) return; // item v already belongs in a set\r\n        parent[v] = v;\r\n        size[v] = 1;\r\n        K++;\r\n    }\r\n    \r\n    int find(int v) {\r\n    \tif (v == parent[v]) {\r\n    \t\treturn v;\r\n    \t}\r\n    \t   return parent[v] = find(parent[v]);\r\n    \t}\r\n    \r\n\r\n    void unite(int v, int u) {\r\n        int x=find(v);\r\n        int y=find(u);\r\n        if(x!=y) {\r\n        \tparent[x]=y;\r\n        }\r\n    }\r\n\r\n    int setCount() {\r\n        int item=0;\r\n        for(int i=0;i&lt;parent.length;i++) {\r\n        \tif(i==parent[i]) {\r\n        \t\titem++;\r\n        \t}\r\n        }\r\n        return item; // change appropriately \r\n    }\r\n    \r\n    int itemCount() {\r\n        return K;\r\n    }\r\nThe task which has been assigned to me is to complete properly the following methods :\r\n\r\n 1. int find(int v)\r\n 2. void unite(int v,int u)\r\n 3. setCount(int v)\r\n\r\nWell,the algorithm seems to be slow and i can&#39;t find a suitable solution.\r\n\r\n---------","title":"Weighted Quick-Union with Path Compression algorithm-Union Find","body":"<p>I have a project in which i have to implement a weighted quick-union with path compression algorithm.After seeing a number of others source code,i ended up in this:</p>\n<pre><code>public class UnionFind {\n\nprivate int[] parent;\nprivate int[] size;\nprivate int maxItemCount;      // maximum number of items from {0,1,...,N-1}\nprivate int numItems;      // number of items created\n\nUnionFind(int N) {\n    this.N = N;\n    this.K = 0;\n    parent = new int[N];\n    size = new int[N];\n    for (int i = 0; i &lt; N; i++) {\n        parent[i] = -1;\n        size[i] = 0;\n    }\n}\n\nvoid makeSet(int v) {\n    if (parent[v] != -1) return; // item v already belongs in a set\n    parent[v] = v;\n    size[v] = 1;\n    K++;\n}\n\nint find(int v) {\n    if (v == parent[v]) {\n        return v;\n    }\n       return parent[v] = find(parent[v]);\n    }\n\n\nvoid unite(int v, int u) {\n    int x=find(v);\n    int y=find(u);\n    if(x!=y) {\n        parent[x]=y;\n    }\n}\n\nint setCount() {\n    int item=0;\n    for(int i=0;i&lt;parent.length;i++) {\n        if(i==parent[i]) {\n            item++;\n        }\n    }\n    return item; // change appropriately \n}\n\nint itemCount() {\n    return K;\n}\n</code></pre>\n<p>The task which has been assigned to me is to complete properly the following methods :</p>\n<ol>\n<li>int find(int v)</li>\n<li>void unite(int v,int u)</li>\n<li>setCount(int v)</li>\n</ol>\n<p>Well,the algorithm seems to be slow and i can't find a suitable solution.</p>\n<hr />\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":9080284,"reputation":440,"user_id":6760346,"display_name":"damianr13"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666515539,"creation_date":1666515539,"answer_id":74169829,"question_id":74169769,"body_markdown":"The first step in debugging code is going through it as a computer would. Here you have 2 nested loops, so let&#39;s go through what happens. \r\n\r\nWe take an example array: `[1, 2, 3, 4, 5]`.\r\n\r\nEntering the first loop, we have `i = 0`, then we enter the second and set `u = 4&#39;, and entering the loop we execute `temp[0] = a[4]`. Next we continue with the inner loop (which did not complete its condition), so we have `u = 3` and execute `temp[0] = a[3]`. And so on... \r\n\r\n```\r\ni = 0\r\nu = 4\r\ntemp[0] = a[4]\r\n\r\nu = 3\r\ntemp[0] = a[3]\r\n\r\nu = 2\r\ntemp[0] = a[2]\r\n...\r\nu = 0\r\ntemp[0] = a[0] \r\n\r\ni = 1\r\nu = 4 \r\ntemp[1] = a[4]\r\n\r\nu = 3 \r\ntemp[1] = a[3]\r\n\r\nu = 2\r\ntemp[1] = a[2]\r\n...\r\n\r\nu = 0\r\ntemp[1] = a[0]\r\n...\r\n\r\n```\r\n\r\nSo you finish up by adding the first element of the array in your resulting array. ","title":"Reversing Elements In An Array Java","body":"<p>The first step in debugging code is going through it as a computer would. Here you have 2 nested loops, so let's go through what happens.</p>\n<p>We take an example array: <code>[1, 2, 3, 4, 5]</code>.</p>\n<p>Entering the first loop, we have <code>i = 0</code>, then we enter the second and set <code>u = 4', and entering the loop we execute </code>temp[0] = a[4]<code>. Next we continue with the inner loop (which did not complete its condition), so we have </code>u = 3<code>and execute</code>temp[0] = a[3]`. And so on...</p>\n<pre><code>i = 0\nu = 4\ntemp[0] = a[4]\n\nu = 3\ntemp[0] = a[3]\n\nu = 2\ntemp[0] = a[2]\n...\nu = 0\ntemp[0] = a[0] \n\ni = 1\nu = 4 \ntemp[1] = a[4]\n\nu = 3 \ntemp[1] = a[3]\n\nu = 2\ntemp[1] = a[2]\n...\n\nu = 0\ntemp[1] = a[0]\n...\n\n</code></pre>\n<p>So you finish up by adding the first element of the array in your resulting array.</p>\n"}],"owner":{"account_id":26707325,"reputation":1,"user_id":20313296,"display_name":"Saqib Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666515760,"answer_count":1,"score":0,"last_activity_date":1666515539,"creation_date":1666514889,"question_id":74169769,"body_markdown":"Here is the code I wrote for reversing the elements in an array (Java) for example the last element becomes the first and so on. However, it doesn&#39;t quite work why is that?\r\n\r\n```java\r\npublic int[] reverse(int[] a) {\r\n    int[] temp = new int[a.length];\r\n\r\n    for (int i = 0; i &lt; a.length - 1; i++) {\r\n        for (int u = a.length - 1; u &gt;= 0; u--) {\r\n            temp[i] = a[u];\r\n        }\r\n    }\r\n    return temp;\r\n}\r\n```","title":"Reversing Elements In An Array Java","body":"<p>Here is the code I wrote for reversing the elements in an array (Java) for example the last element becomes the first and so on. However, it doesn't quite work why is that?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int[] reverse(int[] a) {\n    int[] temp = new int[a.length];\n\n    for (int i = 0; i &lt; a.length - 1; i++) {\n        for (int u = a.length - 1; u &gt;= 0; u--) {\n            temp[i] = a[u];\n        }\n    }\n    return temp;\n}\n</code></pre>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1666513114,"post_id":74169457,"comment_id":130951288,"body_markdown":"This exercise would clearly be related to a lesson that you have recently been given - so what have you learn recently ?  For example, have you covered Lists?","body":"This exercise would clearly be related to a lesson that you have recently been given - so what have you learn recently ?  For example, have you covered Lists?"}],"answers":[{"tags":[],"owner":{"account_id":21298634,"reputation":31,"user_id":15674760,"display_name":"PentaMine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666513403,"creation_date":1666513403,"answer_id":74169633,"question_id":74169457,"body_markdown":"\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            int outputNum = 0;\r\n            for(int i = 0; i &lt; 5; i++){\r\n\r\n                if (i % 2 == 0){\r\n                    outputNum += 2;\r\n                }\r\n                else {\r\n                    outputNum += 3;\r\n                }\r\n                System.out.print(outputNum + (i == 4 ? &quot;&quot; : &quot; &quot;));\r\n            }\r\n        }\r\n    }\r\nThis does exactly what you need. &lt;br/&gt;\r\nExplanation: &lt;br/&gt;\r\nIn the loop if the `i` variable is even we add 2 to the output number (since you need to add 2 then 3 then 2...) and if `i` is uneven then we add three. At the end of the for loop we print the number without the newline using `System.out.print` and we separate them by a space if we aren&#39;t printing the last number using a ternary operator `(i == 4 ? &quot;&quot; : &quot; &quot;)` which returns a space if `i` is not equal to 4 and an empty string if it is, we do this to avoid having a space on the end of our output, so we get this `2 5 7 10 12` instead of this `2 5 7 10 12 `","title":"java program to loop and output 2,5,7,10,12","body":"<pre><code>public class Main {\n    public static void main(String[] args) {\n        int outputNum = 0;\n        for(int i = 0; i &lt; 5; i++){\n\n            if (i % 2 == 0){\n                outputNum += 2;\n            }\n            else {\n                outputNum += 3;\n            }\n            System.out.print(outputNum + (i == 4 ? &quot;&quot; : &quot; &quot;));\n        }\n    }\n}\n</code></pre>\n<p>This does exactly what you need. <br/>\nExplanation: <br/>\nIn the loop if the <code>i</code> variable is even we add 2 to the output number (since you need to add 2 then 3 then 2...) and if <code>i</code> is uneven then we add three. At the end of the for loop we print the number without the newline using <code>System.out.print</code> and we separate them by a space if we aren't printing the last number using a ternary operator <code>(i == 4 ? &quot;&quot; : &quot; &quot;)</code> which returns a space if <code>i</code> is not equal to 4 and an empty string if it is, we do this to avoid having a space on the end of our output, so we get this <code>2 5 7 10 12</code> instead of this <code>2 5 7 10 12 </code></p>\n"},{"comments":[{"owner":{"account_id":25302604,"reputation":1,"user_id":19126644,"display_name":"gasp"},"score":0,"creation_date":1666580026,"post_id":74169649,"comment_id":130963320,"body_markdown":"did you do it one by one to find the correct solution to get the output?","body":"did you do it one by one to find the correct solution to get the output?"},{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1666582505,"post_id":74169649,"comment_id":130963591,"body_markdown":"I know that if odd-numbered and even-numbered increments of an integer sequence differ by 1, they are most likely other arithmetic sequences divided by 2.","body":"I know that if odd-numbered and even-numbered increments of an integer sequence differ by 1, they are most likely other arithmetic sequences divided by 2."}],"tags":[],"owner":{"display_name":"user17233545"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666514526,"creation_date":1666513623,"answer_id":74169649,"question_id":74169457,"body_markdown":"Try this.\r\n\r\n    for (int i = 5; i &lt;= 25; i += 5)\r\n        System.out.println(i / 2);\r\n\r\n\r\nOr\r\n\r\n    for (int i = 1; i &lt;= 5; i++)\r\n        System.out.println(i * 5 / 2);\r\n\r\n\r\noutput:\r\n\r\n    2\r\n    5\r\n    7\r\n    10\r\n    12\r\n\r\nThink for yourself why this produces the correct result.","title":"java program to loop and output 2,5,7,10,12","body":"<p>Try this.</p>\n<pre><code>for (int i = 5; i &lt;= 25; i += 5)\n    System.out.println(i / 2);\n</code></pre>\n<p>Or</p>\n<pre><code>for (int i = 1; i &lt;= 5; i++)\n    System.out.println(i * 5 / 2);\n</code></pre>\n<p>output:</p>\n<pre><code>2\n5\n7\n10\n12\n</code></pre>\n<p>Think for yourself why this produces the correct result.</p>\n"}],"owner":{"account_id":25302604,"reputation":1,"user_id":19126644,"display_name":"gasp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1666606923,"answer_count":2,"score":-5,"last_activity_date":1666514526,"creation_date":1666511340,"question_id":74169457,"body_markdown":"[Loop][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ry38F.png \r\n\r\nhow to loop this without using array? I&#39;m clearly confuse in this in java module I don&#39;t know the solution ;-; I&#39;m new to java pls helppp mee","title":"java program to loop and output 2,5,7,10,12","body":"<p><a href=\"https://i.stack.imgur.com/ry38F.png\" rel=\"nofollow noreferrer\">Loop</a></p>\n<p>how to loop this without using array? I'm clearly confuse in this in java module I don't know the solution ;-; I'm new to java pls helppp mee</p>\n"},{"tags":["java","arrays"],"answers":[{"comments":[{"owner":{"account_id":24387703,"reputation":1,"user_id":18318204,"display_name":"Muhammed Shameel"},"score":0,"creation_date":1666358005,"post_id":74151798,"comment_id":130924371,"body_markdown":"thanky you, i really appreciate help. I have already tried the above steps but if have repeaing prime numbers in the array then the flag will count that as well, i just need unique prime number count. and yes your suggestion works if there is no any repeating elements in the array . Thank you","body":"thanky you, i really appreciate help. I have already tried the above steps but if have repeaing prime numbers in the array then the flag will count that as well, i just need unique prime number count. and yes your suggestion works if there is no any repeating elements in the array . Thank you"},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1666358516,"post_id":74151798,"comment_id":130924568,"body_markdown":"I just updated the answer!","body":"I just updated the answer!"},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1667906884,"post_id":74151798,"comment_id":131274561,"body_markdown":"Hey @MuhammedShameel did my answer help you solve your problem? If so I would really appreciate it if you chose it as correct!","body":"Hey @MuhammedShameel did my answer help you solve your problem? If so I would really appreciate it if you chose it as correct!"},{"owner":{"account_id":24387703,"reputation":1,"user_id":18318204,"display_name":"Muhammed Shameel"},"score":0,"creation_date":1673852078,"post_id":74151798,"comment_id":132581432,"body_markdown":"Yes thank you, appreciate your help brother!","body":"Yes thank you, appreciate your help brother!"}],"tags":[],"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666358491,"creation_date":1666345614,"answer_id":74151798,"question_id":74151451,"body_markdown":"Update: if you need only unique values, you might want to insert them into a Set and in the end return the size of the Set, like this: \r\n```\r\nint flag = 0;\r\nSet&lt;Integer&gt; primeNumbers = new HashSet&lt;&gt;();\r\nfor (int i = 0; i &lt; limit; i++) {\r\n  int counter = 0;\r\n  for (int j = 1; j &lt;= array[i]; j++) {\r\n    if (array[i] % j == 0) {\r\n      counter++;\r\n    }\r\n  }\r\n  if (counter == 2) {\r\n    primeNumbers.add(array[i]);\r\n    System.out.println(array[i]);\r\n  }\r\n}\r\n```\r\nIn the end just return `primeNumbers.size()`. This works because a Set data-structure does not allow duplicate values.\r\n\r\nThere is no need to do a second loop after encountering a prime number (i.e counter == 2). Just change the code after that if condition with:\r\n```\r\nif (counter == 2) {\r\n  System.out.println(array[i]);\r\n  flag++;\r\n}\r\n```\r\nIn the end just print/return the flag. Happy coding! =)","title":"Count of unique prime number","body":"<p>Update: if you need only unique values, you might want to insert them into a Set and in the end return the size of the Set, like this:</p>\n<pre><code>int flag = 0;\nSet&lt;Integer&gt; primeNumbers = new HashSet&lt;&gt;();\nfor (int i = 0; i &lt; limit; i++) {\n  int counter = 0;\n  for (int j = 1; j &lt;= array[i]; j++) {\n    if (array[i] % j == 0) {\n      counter++;\n    }\n  }\n  if (counter == 2) {\n    primeNumbers.add(array[i]);\n    System.out.println(array[i]);\n  }\n}\n</code></pre>\n<p>In the end just return <code>primeNumbers.size()</code>. This works because a Set data-structure does not allow duplicate values.</p>\n<p>There is no need to do a second loop after encountering a prime number (i.e counter == 2). Just change the code after that if condition with:</p>\n<pre><code>if (counter == 2) {\n  System.out.println(array[i]);\n  flag++;\n}\n</code></pre>\n<p>In the end just print/return the flag. Happy coding! =)</p>\n"}],"owner":{"account_id":24387703,"reputation":1,"user_id":18318204,"display_name":"Muhammed Shameel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666513986,"creation_date":1666343897,"question_id":74151451,"body_markdown":"Im trying to take count of the unique prime numbers,im able to print the unique prime number but unable to take count , also im not suppose to use an extra array ?\r\nmy logic after finding the prime number went wrong ! can anyone help me with this ?\t\r\n    \r\n        \r\n    \r\n    public static void main(String[] args) {\r\n    \t\tScanner sc=new Scanner(System.in);   \r\n    \t\tSystem.out.println(&quot;Please enter your array limit&quot;);    \r\n    \t\tint limit=sc.nextInt();    \r\n    \t\tint array[]=new int[limit];    \r\n    \t\tSystem.out.println(&quot;please enter your array elements &quot;);    \r\n    \t\tfor(int i=0;i&lt;limit;i++) {     \r\n    \t\t\tarray[i]=sc.nextInt();     \r\n    \t\t}     \r\n    \t\tint flag=0;   \r\n    \t\tfor(int i=0;i&lt;limit;i++) {     \r\n    \t\t\tint counter=0;      \r\n    \t\t\tfor (int j=1;j&lt;=array[i];j++) {      \r\n    \t\t\t\tif(array[i]%j==0) {\r\n    \t\t\t\t\tcounter++;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tif(counter==2) {\r\n    \t\t\t\tSystem.out.println(array[i]);\r\n    \t\t\t\tfor(int k=i;k&lt;limit;k++) {\r\n    \t\t\t\tif(array[i]!=array[k]) {\r\n    \t\t\t\t\tflag++;\r\n    \t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t}\r\n    System.out.println(&quot;Count of unique prime number: &quot;+flag);\r\n    sc.close();\r\n    }\r\n    }\r\n    \r\n    output:\r\n    Please enter your array limit\r\n    6\r\n    please enter your array elements \r\n    1 2 3 4 5 6\r\n    2\r\n    3\r\n    5\r\n    Count of unique prime number: 8\r\n    //expected output 3\r\n\r\n","title":"Count of unique prime number","body":"<p>Im trying to take count of the unique prime numbers,im able to print the unique prime number but unable to take count , also im not suppose to use an extra array ?\nmy logic after finding the prime number went wrong ! can anyone help me with this ?</p>\n<pre><code>public static void main(String[] args) {\n        Scanner sc=new Scanner(System.in);   \n        System.out.println(&quot;Please enter your array limit&quot;);    \n        int limit=sc.nextInt();    \n        int array[]=new int[limit];    \n        System.out.println(&quot;please enter your array elements &quot;);    \n        for(int i=0;i&lt;limit;i++) {     \n            array[i]=sc.nextInt();     \n        }     \n        int flag=0;   \n        for(int i=0;i&lt;limit;i++) {     \n            int counter=0;      \n            for (int j=1;j&lt;=array[i];j++) {      \n                if(array[i]%j==0) {\n                    counter++;\n                }\n            }\n            if(counter==2) {\n                System.out.println(array[i]);\n                for(int k=i;k&lt;limit;k++) {\n                if(array[i]!=array[k]) {\n                    flag++;\n                }\n                }\n                }\n        }\nSystem.out.println(&quot;Count of unique prime number: &quot;+flag);\nsc.close();\n}\n}\n\noutput:\nPlease enter your array limit\n6\nplease enter your array elements \n1 2 3 4 5 6\n2\n3\n5\nCount of unique prime number: 8\n//expected output 3\n</code></pre>\n"},{"tags":["java","list","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1666503756,"post_id":74168900,"comment_id":130950125,"body_markdown":"`myList.stream().flatMap(List::stream).max(...)`","body":"<code>myList.stream().flatMap(List::stream).max(...)</code>"}],"answers":[{"tags":[],"owner":{"account_id":7659035,"reputation":58,"user_id":5804899,"display_name":"Rajnish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666513813,"creation_date":1666513813,"answer_id":74169671,"question_id":74168900,"body_markdown":"  \r\n\r\n      \r\n    import java.util.Arrays;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    \r\n    /* finding max of 2D array where int elements \r\n     * are in String*/\r\n    public class MaxOf2DArray {\r\n    \t\r\n     public int findMax(List&lt;List&lt;String&gt;&gt; list){\r\n    \tComparator&lt;Integer&gt; cmp =( i1, i2)-&gt;{return i1.compareTo(i2);};\t\r\n    \tOptional&lt;Integer&gt; maxNumber= list.stream().flatMap(List::stream).map(k-&gt;Integer.valueOf(k)).max(cmp);\r\n    \t\r\n    \treturn maxNumber.orElse(0);\r\n    \t \r\n     }\r\n     public static void main(String[]args){\r\n    \t  List&lt;List&lt;String&gt;&gt; myList = Arrays.asList(\r\n    \t\t\t    Arrays.asList(&quot;1&quot;, &quot;3&quot;, &quot;99&quot;, &quot;2&quot;, &quot;14&quot;, &quot;2&quot;),\r\n    \t\t\t    Arrays.asList(&quot;111&quot;, &quot;7&quot;, &quot;199&quot;, &quot;92&quot;, &quot;14&quot;, &quot;20&quot;),\r\n    \t\t\t    Arrays.asList(&quot;10&quot;, &quot;31&quot;, &quot;9&quot;, &quot;21&quot;, &quot;243&quot;, &quot;432&quot;),\r\n    \t\t\t    Arrays.asList(&quot;31&quot;, &quot;13&quot;, &quot;999&quot;, &quot;5&quot;, &quot;41&quot;, &quot;222&quot;),\r\n    \t\t\t    Arrays.asList(&quot;10&quot;, &quot;31&quot;, &quot;401&quot;, &quot;42&quot;, &quot;11&quot;, &quot;77&quot;)\r\n    \t\t\t);\r\n    \t MaxOf2DArray maxOf2DArray= new MaxOf2DArray();\r\n    \t \r\n    \t System.out.println(maxOf2DArray.findMax(myList));\r\n    \t \r\n    \t \r\n     }\r\n    }\r\n\r\n","title":"How to find max element from 2-D List using Java Stream","body":"<pre><code>import java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.List;\nimport java.util.Optional;\n\n/* finding max of 2D array where int elements \n * are in String*/\npublic class MaxOf2DArray {\n    \n public int findMax(List&lt;List&lt;String&gt;&gt; list){\n    Comparator&lt;Integer&gt; cmp =( i1, i2)-&gt;{return i1.compareTo(i2);}; \n    Optional&lt;Integer&gt; maxNumber= list.stream().flatMap(List::stream).map(k-&gt;Integer.valueOf(k)).max(cmp);\n    \n    return maxNumber.orElse(0);\n     \n }\n public static void main(String[]args){\n      List&lt;List&lt;String&gt;&gt; myList = Arrays.asList(\n                Arrays.asList(&quot;1&quot;, &quot;3&quot;, &quot;99&quot;, &quot;2&quot;, &quot;14&quot;, &quot;2&quot;),\n                Arrays.asList(&quot;111&quot;, &quot;7&quot;, &quot;199&quot;, &quot;92&quot;, &quot;14&quot;, &quot;20&quot;),\n                Arrays.asList(&quot;10&quot;, &quot;31&quot;, &quot;9&quot;, &quot;21&quot;, &quot;243&quot;, &quot;432&quot;),\n                Arrays.asList(&quot;31&quot;, &quot;13&quot;, &quot;999&quot;, &quot;5&quot;, &quot;41&quot;, &quot;222&quot;),\n                Arrays.asList(&quot;10&quot;, &quot;31&quot;, &quot;401&quot;, &quot;42&quot;, &quot;11&quot;, &quot;77&quot;)\n            );\n     MaxOf2DArray maxOf2DArray= new MaxOf2DArray();\n     \n     System.out.println(maxOf2DArray.findMax(myList));\n     \n     \n }\n}\n</code></pre>\n"}],"owner":{"account_id":25545673,"reputation":13,"user_id":19331035,"display_name":"ABHINAV.DEEP"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1666549999,"accepted_answer_id":74169671,"answer_count":1,"score":-1,"last_activity_date":1666513813,"creation_date":1666503495,"question_id":74168900,"body_markdown":"I want to find the max element in a 2-D array using Java Stream.\r\nNote: The elements in the List is stored as String.\r\n\r\nLike this:\r\n\r\n    private static final List&lt;List&lt;String&gt;&gt; myList = Arrays.asList(\r\n        Arrays.asList(&quot;1&quot;, &quot;3&quot;, &quot;99&quot;, &quot;2&quot;, &quot;14&quot;, &quot;2&quot;),\r\n        Arrays.asList(&quot;111&quot;, &quot;7&quot;, &quot;199&quot;, &quot;92&quot;, &quot;14&quot;, &quot;20&quot;),\r\n        Arrays.asList(&quot;10&quot;, &quot;31&quot;, &quot;9&quot;, &quot;21&quot;, &quot;243&quot;, &quot;432&quot;),\r\n        Arrays.asList(&quot;31&quot;, &quot;13&quot;, &quot;999&quot;, &quot;5&quot;, &quot;41&quot;, &quot;222&quot;),\r\n        Arrays.asList(&quot;10&quot;, &quot;31&quot;, &quot;401&quot;, &quot;42&quot;, &quot;11&quot;, &quot;77&quot;)\r\n    );\r\n    \r\n\r\nI am expecting an int/Integer value as output(999 in this case).","title":"How to find max element from 2-D List using Java Stream","body":"<p>I want to find the max element in a 2-D array using Java Stream.\nNote: The elements in the List is stored as String.</p>\n<p>Like this:</p>\n<pre><code>private static final List&lt;List&lt;String&gt;&gt; myList = Arrays.asList(\n    Arrays.asList(&quot;1&quot;, &quot;3&quot;, &quot;99&quot;, &quot;2&quot;, &quot;14&quot;, &quot;2&quot;),\n    Arrays.asList(&quot;111&quot;, &quot;7&quot;, &quot;199&quot;, &quot;92&quot;, &quot;14&quot;, &quot;20&quot;),\n    Arrays.asList(&quot;10&quot;, &quot;31&quot;, &quot;9&quot;, &quot;21&quot;, &quot;243&quot;, &quot;432&quot;),\n    Arrays.asList(&quot;31&quot;, &quot;13&quot;, &quot;999&quot;, &quot;5&quot;, &quot;41&quot;, &quot;222&quot;),\n    Arrays.asList(&quot;10&quot;, &quot;31&quot;, &quot;401&quot;, &quot;42&quot;, &quot;11&quot;, &quot;77&quot;)\n);\n</code></pre>\n<p>I am expecting an int/Integer value as output(999 in this case).</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1666510245,"post_id":74169353,"comment_id":130950898,"body_markdown":"Why not just use `return &quot;true&quot;.equals(value)`? You can&#39;t *cast* a string to a `boolean` or any other primitive type, because it&#39;s *not* an instance of that type.","body":"Why not just use <code>return &quot;true&quot;.equals(value)</code>? You can&#39;t <i>cast</i> a string to a <code>boolean</code> or any other primitive type, because it&#39;s <i>not</i> an instance of that type."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1666510273,"post_id":74169353,"comment_id":130950904,"body_markdown":"For other types, look at `Integer.parseInt` etc.","body":"For other types, look at <code>Integer.parseInt</code> etc."},{"owner":{"account_id":316179,"reputation":1167,"user_id":632199,"accept_rate":98,"display_name":"Denis"},"score":0,"creation_date":1666510340,"post_id":74169353,"comment_id":130950916,"body_markdown":"Yes, I use `&quot;true&quot;.equalsIgnoreCase(value)`, but the method could return values of different types, so cast is required.","body":"Yes, I use <code>&quot;true&quot;.equalsIgnoreCase(value)</code>, but the method could return values of different types, so cast is required."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1666510757,"post_id":74169353,"comment_id":130950973,"body_markdown":"No, that&#39;s false logic. A cast *will never work* because casts require a language-defined conversion from one type to another, and there *isn&#39;t* such a conversion from `String` to `boolean`. The sooner you accept that casting won&#39;t work, the sooner you&#39;ll get to working code, which is likely to require per-type logic - such as calling `Integer.parseInt` and the like.","body":"No, that&#39;s false logic. A cast <i>will never work</i> because casts require a language-defined conversion from one type to another, and there <i>isn&#39;t</i> such a conversion from <code>String</code> to <code>boolean</code>. The sooner you accept that casting won&#39;t work, the sooner you&#39;ll get to working code, which is likely to require per-type logic - such as calling <code>Integer.parseInt</code> and the like."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1666511061,"post_id":74169353,"comment_id":130951016,"body_markdown":"I think the problem here is different. You can&#39;t convert to a primitive type because by definition any generiic type T is an *object* type. Java is not like Scala in this.","body":"I think the problem here is different. You can&#39;t convert to a primitive type because by definition any generiic type T is an <i>object</i> type. Java is not like Scala in this."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1666511153,"post_id":74169353,"comment_id":130951027,"body_markdown":"Although you&#39;re headed for a brick wall, it may help to know the class of a boolean primitive, which is only used when working with reflection, is `boolean.class`.","body":"Although you&#39;re headed for a brick wall, it may help to know the class of a boolean primitive, which is only used when working with reflection, is <code>boolean.class</code>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666511259,"post_id":74169353,"comment_id":130951036,"body_markdown":"Java will unbox your Boolean in the statement `boolean b = literal.getValue(Boolean.class);`, if that helps with whatever you are doing.","body":"Java will unbox your Boolean in the statement <code>boolean b = literal.getValue(Boolean.class);</code>, if that helps with whatever you are doing."},{"owner":{"display_name":"user17233545"},"score":1,"creation_date":1666511981,"post_id":74169353,"comment_id":130951134,"body_markdown":"`return (T)Boolean.class.cast(&quot;true&quot;.equalsIgnoreCase(value));` works in both cases.","body":"<code>return (T)Boolean.class.cast(&quot;true&quot;.equalsIgnoreCase(value));</code> works in both cases."}],"answers":[{"comments":[{"owner":{"account_id":316179,"reputation":1167,"user_id":632199,"accept_rate":98,"display_name":"Denis"},"score":0,"creation_date":1666517553,"post_id":74169448,"comment_id":130951909,"body_markdown":"Thanks a lot for the explanation! The unchecked cast warning in Java is really annoying. I thought that I can use `cast()` operation instead of `(T)` to get rid of warnings. However it seems that in some cases I have to do unchecked casts and suppress warnings.","body":"Thanks a lot for the explanation! The unchecked cast warning in Java is really annoying. I thought that I can use <code>cast()</code> operation instead of <code>(T)</code> to get rid of warnings. However it seems that in some cases I have to do unchecked casts and suppress warnings."}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666511232,"creation_date":1666511232,"answer_id":74169448,"question_id":74169353,"body_markdown":"Yes.. and no.\r\n\r\nIn basis what you say is a non-sequitur. Your question is: &quot;How do I put this round green in this square hole&quot; - concepts that don&#39;t even align.\r\n\r\n&quot;An object&quot; cannot become a primitive value, and &quot;an object&quot; cannot be used where a primitive is required. This: `Object o = 5;` is illegal plain and simple.\r\n\r\nExcept.. it isn&#39;t. And the reason it isn&#39;t, is only because of syntax sugar. The compiler KNOWS it is illegal but assumes you MEANT to write `Object o = Integer.valueOf(5);` so, it just assumes you meant that and generates code accordingly. Just go compile that, run `javap -c -v` and lo! A call to `integer.valueOf` you never wrote.\r\n\r\nYou can do the same thing here: Write an 8-nested if/elseif:\r\n\r\n```\r\nif (type == boolean.class /* or Boolean.TYPE - same thing */) {\r\n  return (T) &quot;true&quot;.equals(value);\r\n}\r\n```\r\n\r\nThe `type.cast` part __only__ buys you a runtime check, which is literally pointless as you already just did so with an `if`, thus, `(T) foo` is superior to `type.cast(foo)` here. Even though `(T)` thing produces a warning - ignore it, you _know_ the warning _is irrelevant_. The heap corruption it is warning you about cannot happen / the `type.cast` wouldn&#39;t fix it.\r\n\r\nIn other words, get rid of `type.cast(x)` and make that `(T) x` and the error goes away (and a warning comes in trade; but that one you can `@SuppressWarnings`). The code will do what you want:\r\n\r\n```java\r\nboolean v = new Literal(&quot;true&quot;).getValue(boolean.class);\r\n```\r\n\r\nBut note that the system auto-boxes and auto-unboxes anyway. You can&#39;t stop that from happening unless you make a new method for it:\r\n\r\n```java\r\nboolean v = new Literal(&quot;true&quot;).getBooleanValue();\r\n```\r\n\r\nWhere you can implement `getBooleanValue` as `return &quot;true&quot;.equals(value);` of course.\r\n\r\n&quot;I do not want the overhead of autoboxing&quot; and &quot;... you will be making 8 additional methods then&quot; go hand in hand. It&#39;s why e.g. `IntStream` exists instead of just having a `Stream&lt;Integer&gt;`.\r\n\r\nNB: The cast operator is used for 3 utterly unrelated things. 2 of those 3 are about assertions (is this thing type X already? If yes do nothing, if no, throw an exception / break the JVM, depending on which of the 2) - only one actually converts things, and it&#39;s primitive conversion: the thing in the `()` has to be a primitive type. You can&#39;t get that kind of cast here, that kind of cast fundamentally is not dynamic. Hence, no conversion can take place, hence, trying to &#39;cast an object to lower-case-b `boolean`&#39; is an error. &quot;cast&quot; the operator cannot do that.","title":"How to cast an object to a primitive value?","body":"<p>Yes.. and no.</p>\n<p>In basis what you say is a non-sequitur. Your question is: &quot;How do I put this round green in this square hole&quot; - concepts that don't even align.</p>\n<p>&quot;An object&quot; cannot become a primitive value, and &quot;an object&quot; cannot be used where a primitive is required. This: <code>Object o = 5;</code> is illegal plain and simple.</p>\n<p>Except.. it isn't. And the reason it isn't, is only because of syntax sugar. The compiler KNOWS it is illegal but assumes you MEANT to write <code>Object o = Integer.valueOf(5);</code> so, it just assumes you meant that and generates code accordingly. Just go compile that, run <code>javap -c -v</code> and lo! A call to <code>integer.valueOf</code> you never wrote.</p>\n<p>You can do the same thing here: Write an 8-nested if/elseif:</p>\n<pre><code>if (type == boolean.class /* or Boolean.TYPE - same thing */) {\n  return (T) &quot;true&quot;.equals(value);\n}\n</code></pre>\n<p>The <code>type.cast</code> part <strong>only</strong> buys you a runtime check, which is literally pointless as you already just did so with an <code>if</code>, thus, <code>(T) foo</code> is superior to <code>type.cast(foo)</code> here. Even though <code>(T)</code> thing produces a warning - ignore it, you <em>know</em> the warning <em>is irrelevant</em>. The heap corruption it is warning you about cannot happen / the <code>type.cast</code> wouldn't fix it.</p>\n<p>In other words, get rid of <code>type.cast(x)</code> and make that <code>(T) x</code> and the error goes away (and a warning comes in trade; but that one you can <code>@SuppressWarnings</code>). The code will do what you want:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean v = new Literal(&quot;true&quot;).getValue(boolean.class);\n</code></pre>\n<p>But note that the system auto-boxes and auto-unboxes anyway. You can't stop that from happening unless you make a new method for it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean v = new Literal(&quot;true&quot;).getBooleanValue();\n</code></pre>\n<p>Where you can implement <code>getBooleanValue</code> as <code>return &quot;true&quot;.equals(value);</code> of course.</p>\n<p>&quot;I do not want the overhead of autoboxing&quot; and &quot;... you will be making 8 additional methods then&quot; go hand in hand. It's why e.g. <code>IntStream</code> exists instead of just having a <code>Stream&lt;Integer&gt;</code>.</p>\n<p>NB: The cast operator is used for 3 utterly unrelated things. 2 of those 3 are about assertions (is this thing type X already? If yes do nothing, if no, throw an exception / break the JVM, depending on which of the 2) - only one actually converts things, and it's primitive conversion: the thing in the <code>()</code> has to be a primitive type. You can't get that kind of cast here, that kind of cast fundamentally is not dynamic. Hence, no conversion can take place, hence, trying to 'cast an object to lower-case-b <code>boolean</code>' is an error. &quot;cast&quot; the operator cannot do that.</p>\n"},{"tags":[],"owner":{"account_id":1355886,"reputation":3999,"user_id":1294283,"accept_rate":60,"display_name":"F. M&#252;ller"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666513646,"creation_date":1666513646,"answer_id":74169653,"question_id":74169353,"body_markdown":"`rzwitserloot` already explained quite well how and why you should adjust the casting and the difference between primitives and objects.\r\n\r\nI just wanted to give you a small executable example on top of that. You could do something like the following:\r\n\r\n```\r\npublic class Literal {\r\n    private final String value;\r\n\r\n    public Literal(String value) {\r\n        this.value = value;\r\n    }\r\n\r\n    public &lt;T&gt; T getValue(Class&lt;T&gt; type) {\r\n        if (type == Boolean.class || type == Boolean.TYPE) {\r\n            return (T) new Boolean(this.value); // or Boolean.valueOf(this.value)\r\n        } else if (type == boolean.class) {\r\n            return (T) this.value;\r\n        }\r\n        // [add other type checks here, if you want]\r\n        throw new UnsupportedOperationException();\r\n    }\r\n\r\n    public boolean getBooleanValue() {\r\n        return new Boolean(this.value); // or Boolean.valueOf(this.value)\r\n    }\r\n    \r\n    /** This method is just here for demo purpose */\r\n    public static void main(String[] args) {\r\n        // Use it like this\r\n        Boolean obj = new Literal(&quot;true&quot;).getValue(Boolean.TYPE);\r\n        Boolean obj2 = new Literal(&quot;FALSE&quot;).getValue(Boolean.TYPE);\r\n        boolean primitive = new Literal(&quot;true&quot;).getValue(boolean.class);\r\n        boolean primitive2 = new Literal(&quot;FALSE&quot;).getValue(boolean.class);\r\n        System.out.println(obj); // true\r\n        System.out.println(obj2); // false\r\n        System.out.println(primitive); // true\r\n        System.out.println(primitive2); // false\r\n        \r\n        // Or this\r\n        boolean primitive3 = new Literal(&quot;true&quot;).getBooleanValue();\r\n        System.out.println(primitive3); // true\r\n    }\r\n}\r\n```","title":"How to cast an object to a primitive value?","body":"<p><code>rzwitserloot</code> already explained quite well how and why you should adjust the casting and the difference between primitives and objects.</p>\n<p>I just wanted to give you a small executable example on top of that. You could do something like the following:</p>\n<pre><code>public class Literal {\n    private final String value;\n\n    public Literal(String value) {\n        this.value = value;\n    }\n\n    public &lt;T&gt; T getValue(Class&lt;T&gt; type) {\n        if (type == Boolean.class || type == Boolean.TYPE) {\n            return (T) new Boolean(this.value); // or Boolean.valueOf(this.value)\n        } else if (type == boolean.class) {\n            return (T) this.value;\n        }\n        // [add other type checks here, if you want]\n        throw new UnsupportedOperationException();\n    }\n\n    public boolean getBooleanValue() {\n        return new Boolean(this.value); // or Boolean.valueOf(this.value)\n    }\n    \n    /** This method is just here for demo purpose */\n    public static void main(String[] args) {\n        // Use it like this\n        Boolean obj = new Literal(&quot;true&quot;).getValue(Boolean.TYPE);\n        Boolean obj2 = new Literal(&quot;FALSE&quot;).getValue(Boolean.TYPE);\n        boolean primitive = new Literal(&quot;true&quot;).getValue(boolean.class);\n        boolean primitive2 = new Literal(&quot;FALSE&quot;).getValue(boolean.class);\n        System.out.println(obj); // true\n        System.out.println(obj2); // false\n        System.out.println(primitive); // true\n        System.out.println(primitive2); // false\n        \n        // Or this\n        boolean primitive3 = new Literal(&quot;true&quot;).getBooleanValue();\n        System.out.println(primitive3); // true\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":316179,"reputation":1167,"user_id":632199,"accept_rate":98,"display_name":"Denis"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74169653,"answer_count":2,"score":1,"last_activity_date":1666513646,"creation_date":1666510050,"question_id":74169353,"body_markdown":"Here is a literal class that allows one to get a value of a specified type:\r\n\r\n```\r\npublic class Literal {\r\n\r\n    private final String value;\r\n\r\n    public Literal(String value) {\r\n        this.value = value;\r\n    }\r\n\r\n    public &lt;T&gt; T getValue(Class&lt;T&gt; type) {\r\n        if (type == Boolean.class || type == Boolean.TYPE) {\r\n            return type.cast(&quot;true&quot;.equalsIgnoreCase(value));\r\n        }\r\n        throw new UnsupportedOperationException();\r\n    }\r\n\r\n}\r\n```\r\n\r\nIt works fine for object types:\r\n```\r\nnew Literal(&quot;true&quot;).getValue(Boolean.class);\r\n```\r\n\r\nBut it throws the error for primitive types:\r\n```\r\nnew Literal(&quot;true&quot;).getValue(Boolean.TYPE);\r\n```\r\n```\r\njava.lang.ClassCastException: Cannot cast java.lang.Boolean to boolean\r\n```\r\n\r\nIs it possible to return a boolean value without the exception?\r\n\r\nOr maybe I can transform a primitive type to a corresponding object type before calling the method? Is there a method to transform boolean type to java.lang.Boolean.class, int type to java.lang.Integer.class, ...? Something like this:\r\n```\r\nnew Literal(&quot;true&quot;).getValue(toObjectType(Boolean.TYPE));\r\n```","title":"How to cast an object to a primitive value?","body":"<p>Here is a literal class that allows one to get a value of a specified type:</p>\n<pre><code>public class Literal {\n\n    private final String value;\n\n    public Literal(String value) {\n        this.value = value;\n    }\n\n    public &lt;T&gt; T getValue(Class&lt;T&gt; type) {\n        if (type == Boolean.class || type == Boolean.TYPE) {\n            return type.cast(&quot;true&quot;.equalsIgnoreCase(value));\n        }\n        throw new UnsupportedOperationException();\n    }\n\n}\n</code></pre>\n<p>It works fine for object types:</p>\n<pre><code>new Literal(&quot;true&quot;).getValue(Boolean.class);\n</code></pre>\n<p>But it throws the error for primitive types:</p>\n<pre><code>new Literal(&quot;true&quot;).getValue(Boolean.TYPE);\n</code></pre>\n<pre><code>java.lang.ClassCastException: Cannot cast java.lang.Boolean to boolean\n</code></pre>\n<p>Is it possible to return a boolean value without the exception?</p>\n<p>Or maybe I can transform a primitive type to a corresponding object type before calling the method? Is there a method to transform boolean type to java.lang.Boolean.class, int type to java.lang.Integer.class, ...? Something like this:</p>\n<pre><code>new Literal(&quot;true&quot;).getValue(toObjectType(Boolean.TYPE));\n</code></pre>\n"},{"tags":["java","time-series","iceberg"],"answers":[{"comments":[{"owner":{"account_id":3907258,"reputation":161,"user_id":3233628,"display_name":"djchapm"},"score":0,"creation_date":1696950663,"post_id":74167077,"comment_id":136216632,"body_markdown":"Thanks, this got me on the right track.  I was using Parquet.write(table.io().newOutputFile(location))... Threw me off that it says on writing files using Table.io() - the java doc says &quot;/** Returns a {@link FileIO} to read and write table data and metadata files. */&quot;. Which is false, doesn&#39;t do anything w/ metadata files!","body":"Thanks, this got me on the right track.  I was using Parquet.write(table.io().newOutputFile(location))... Threw me off that it says on writing files using Table.io() - the java doc says &quot;/** Returns a {@link FileIO} to read and write table data and metadata files. */&quot;. Which is false, doesn&#39;t do anything w/ metadata files!"}],"tags":[],"owner":{"account_id":99969,"reputation":1029,"user_id":269739,"accept_rate":67,"display_name":"Jo&#227;o Paran&#225;"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666472463,"creation_date":1666472463,"answer_id":74167077,"question_id":74166090,"body_markdown":"I found out how to fix the Java program.\r\n\r\nJust add the lines below to the end of the `main` method\r\n\r\n```java\r\nPartitionKey partitionKey = new PartitionKey(table.spec(), table.schema());\r\nDataFile dataFile = DataFiles.builder(table.spec())\r\n        .withPartition(partitionKey)\r\n        .withInputFile(localInput(parquetFile))\r\n        .withMetrics(appender.metrics())\r\n        .withFormat(FileFormat.PARQUET)\r\n        .build();\r\n Transaction t = table.newTransaction();\r\n t.newAppend().appendFile(dataFile).commit();\r\n // commit all changes to the table\r\n t.commitTransaction();\r\n```\r\n\r\nAlso add to your POM file the dependency below\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hadoop-mapreduce-client-core&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThis avoids the runtime error shown below:\r\n\r\n`java.lang.ClassNotFoundException: org.apache.hadoop.mapreduce.lib.input.FileInputFormat`","title":"Iceberg table does not see the generated Parquet file","body":"<p>I found out how to fix the Java program.</p>\n<p>Just add the lines below to the end of the <code>main</code> method</p>\n<pre class=\"lang-java prettyprint-override\"><code>PartitionKey partitionKey = new PartitionKey(table.spec(), table.schema());\nDataFile dataFile = DataFiles.builder(table.spec())\n        .withPartition(partitionKey)\n        .withInputFile(localInput(parquetFile))\n        .withMetrics(appender.metrics())\n        .withFormat(FileFormat.PARQUET)\n        .build();\n Transaction t = table.newTransaction();\n t.newAppend().appendFile(dataFile).commit();\n // commit all changes to the table\n t.commitTransaction();\n</code></pre>\n<p>Also add to your POM file the dependency below</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n    &lt;artifactId&gt;hadoop-mapreduce-client-core&lt;/artifactId&gt;\n    &lt;version&gt;3.3.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This avoids the runtime error shown below:</p>\n<p><code>java.lang.ClassNotFoundException: org.apache.hadoop.mapreduce.lib.input.FileInputFormat</code></p>\n"}],"owner":{"account_id":99969,"reputation":1029,"user_id":269739,"accept_rate":67,"display_name":"Jo&#227;o Paran&#225;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666512929,"creation_date":1666463030,"question_id":74166090,"body_markdown":"In my use case, the table in Iceberg format is created. It only receives APPEND operations as it is about recording events in a time series stream. To evaluate the use of the **Iceberg format** in this use-case, I created a simple Java program that creates a set of 27600 lines. Both the metadata and the parquet file were created but I can&#39;t access them via the Java API (https://iceberg.apache.org/docs/latest/java-api-quickstart/). I&#39;m using `HadoopCatalog` and `FileAppender&lt;GenericRecord&gt;`. It is important to say that I can read the Parquet file created using `pyarrow` and `datafusion` modules via Python 3 script, and it is correct!\r\n\r\nI believe that the execution of some method in my program that links the generated Parquet file to the table created in the catalog must be missing.\r\n\r\nNOTE: I&#39;m only using Apache Iceberg&#39;s Java API in version 1.0.0\r\n\r\nThere is an org.apache.iceberg.Transaction object in the API that accepts an org.apache.iceberg.DataFile but I haven&#39;t seen examples of how to use it and I don&#39;t know if it&#39;s useful to solve this problem either.\r\n\r\nSee the program below:\r\n\r\n\r\n```java\r\nimport org.apache.hadoop.conf.Configuration;\r\nimport org.apache.iceberg.*;\r\nimport org.apache.iceberg.catalog.Catalog;\r\nimport org.apache.iceberg.catalog.TableIdentifier;\r\nimport org.apache.iceberg.data.GenericRecord;\r\nimport org.apache.iceberg.data.parquet.GenericParquetWriter;\r\nimport org.apache.iceberg.hadoop.HadoopCatalog;\r\nimport org.apache.iceberg.io.FileAppender;\r\nimport org.apache.iceberg.parquet.Parquet;\r\nimport org.apache.iceberg.relocated.com.google.common.collect.Lists;\r\nimport org.apache.iceberg.types.Types;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.time.LocalDate;\r\nimport java.time.temporal.ChronoUnit;\r\nimport java.util.List;\r\n\r\nimport static org.apache.iceberg.types.Types.NestedField.optional;\r\nimport static org.apache.iceberg.types.Types.NestedField.required;\r\n\r\npublic class IcebergTableAppend {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Appending records &quot;);\r\n        Configuration conf = new Configuration();\r\n        String lakehouse = &quot;/tmp/iceberg-test&quot;;\r\n        conf.set(CatalogProperties.WAREHOUSE_LOCATION, lakehouse);\r\n        Schema schema = new Schema(\r\n                required(1, &quot;hotel_id&quot;, Types.LongType.get()),\r\n                optional(2, &quot;hotel_name&quot;, Types.StringType.get()),\r\n                required(3, &quot;customer_id&quot;, Types.LongType.get()),\r\n                required(4, &quot;arrival_date&quot;, Types.DateType.get()),\r\n                required(5, &quot;departure_date&quot;, Types.DateType.get()),\r\n                required(6, &quot;value&quot;, Types.DoubleType.get())\r\n        );\r\n        PartitionSpec spec = PartitionSpec.builderFor(schema)\r\n                .month(&quot;arrival_date&quot;)\r\n                .build();\r\n        TableIdentifier id = TableIdentifier.parse(&quot;bookings.rome_hotels&quot;);\r\n        String warehousePath = &quot;file://&quot; + lakehouse;\r\n        Catalog catalog = new HadoopCatalog(conf, warehousePath);\r\n        // rm -rf  /tmp/iceberg-test/bookings\r\n        Table table = catalog.createTable(id, schema, spec);\r\n        List&lt;GenericRecord&gt; records = Lists.newArrayList();\r\n        // generating a bunch of records\r\n        for (int j = 1; j &lt;= 12; j++) {\r\n            int NUM_ROWS_PER_MONTH = 2300;\r\n            for (int i = 0; i &lt; NUM_ROWS_PER_MONTH; i++) {\r\n                GenericRecord rec = GenericRecord.create(schema);\r\n                rec.setField(&quot;hotel_id&quot;, (long) (i * 2) + 10000);\r\n                rec.setField(&quot;hotel_name&quot;, &quot;hotel_name-&quot; + i + 1000);\r\n                rec.setField(&quot;customer_id&quot;, (long) (i * 2) + 20000);\r\n                rec.setField(&quot;arrival_date&quot;,\r\n                        LocalDate.of(2022, j, (i % 23) + 1)\r\n                                .plus(1, ChronoUnit.DAYS));\r\n                rec.setField(&quot;departure_date&quot;,\r\n                        LocalDate.of(2022, j, (i % 23) + 5));\r\n                rec.setField(&quot;value&quot;, (double) i * 4.13);\r\n                records.add(rec);\r\n            }\r\n        }\r\n        File parquetFile = new File(\r\n                lakehouse + &quot;/bookings/rome_hotels/arq_001.parquet&quot;);\r\n        FileAppender&lt;GenericRecord&gt; appender = null;\r\n        try {\r\n            appender = Parquet.write(Files.localOutput(parquetFile))\r\n                    .schema(table.schema())\r\n                    .createWriterFunc(GenericParquetWriter::buildWriter)\r\n                    .build();\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        try {\r\n            appender.addAll(records);\r\n        } finally {\r\n            try {\r\n                appender.close();\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Iceberg table does not see the generated Parquet file","body":"<p>In my use case, the table in Iceberg format is created. It only receives APPEND operations as it is about recording events in a time series stream. To evaluate the use of the <strong>Iceberg format</strong> in this use-case, I created a simple Java program that creates a set of 27600 lines. Both the metadata and the parquet file were created but I can't access them via the Java API (<a href=\"https://iceberg.apache.org/docs/latest/java-api-quickstart/\" rel=\"nofollow noreferrer\">https://iceberg.apache.org/docs/latest/java-api-quickstart/</a>). I'm using <code>HadoopCatalog</code> and <code>FileAppender&lt;GenericRecord&gt;</code>. It is important to say that I can read the Parquet file created using <code>pyarrow</code> and <code>datafusion</code> modules via Python 3 script, and it is correct!</p>\n<p>I believe that the execution of some method in my program that links the generated Parquet file to the table created in the catalog must be missing.</p>\n<p>NOTE: I'm only using Apache Iceberg's Java API in version 1.0.0</p>\n<p>There is an org.apache.iceberg.Transaction object in the API that accepts an org.apache.iceberg.DataFile but I haven't seen examples of how to use it and I don't know if it's useful to solve this problem either.</p>\n<p>See the program below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.hadoop.conf.Configuration;\nimport org.apache.iceberg.*;\nimport org.apache.iceberg.catalog.Catalog;\nimport org.apache.iceberg.catalog.TableIdentifier;\nimport org.apache.iceberg.data.GenericRecord;\nimport org.apache.iceberg.data.parquet.GenericParquetWriter;\nimport org.apache.iceberg.hadoop.HadoopCatalog;\nimport org.apache.iceberg.io.FileAppender;\nimport org.apache.iceberg.parquet.Parquet;\nimport org.apache.iceberg.relocated.com.google.common.collect.Lists;\nimport org.apache.iceberg.types.Types;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.time.LocalDate;\nimport java.time.temporal.ChronoUnit;\nimport java.util.List;\n\nimport static org.apache.iceberg.types.Types.NestedField.optional;\nimport static org.apache.iceberg.types.Types.NestedField.required;\n\npublic class IcebergTableAppend {\n    public static void main(String[] args) {\n        System.out.println(&quot;Appending records &quot;);\n        Configuration conf = new Configuration();\n        String lakehouse = &quot;/tmp/iceberg-test&quot;;\n        conf.set(CatalogProperties.WAREHOUSE_LOCATION, lakehouse);\n        Schema schema = new Schema(\n                required(1, &quot;hotel_id&quot;, Types.LongType.get()),\n                optional(2, &quot;hotel_name&quot;, Types.StringType.get()),\n                required(3, &quot;customer_id&quot;, Types.LongType.get()),\n                required(4, &quot;arrival_date&quot;, Types.DateType.get()),\n                required(5, &quot;departure_date&quot;, Types.DateType.get()),\n                required(6, &quot;value&quot;, Types.DoubleType.get())\n        );\n        PartitionSpec spec = PartitionSpec.builderFor(schema)\n                .month(&quot;arrival_date&quot;)\n                .build();\n        TableIdentifier id = TableIdentifier.parse(&quot;bookings.rome_hotels&quot;);\n        String warehousePath = &quot;file://&quot; + lakehouse;\n        Catalog catalog = new HadoopCatalog(conf, warehousePath);\n        // rm -rf  /tmp/iceberg-test/bookings\n        Table table = catalog.createTable(id, schema, spec);\n        List&lt;GenericRecord&gt; records = Lists.newArrayList();\n        // generating a bunch of records\n        for (int j = 1; j &lt;= 12; j++) {\n            int NUM_ROWS_PER_MONTH = 2300;\n            for (int i = 0; i &lt; NUM_ROWS_PER_MONTH; i++) {\n                GenericRecord rec = GenericRecord.create(schema);\n                rec.setField(&quot;hotel_id&quot;, (long) (i * 2) + 10000);\n                rec.setField(&quot;hotel_name&quot;, &quot;hotel_name-&quot; + i + 1000);\n                rec.setField(&quot;customer_id&quot;, (long) (i * 2) + 20000);\n                rec.setField(&quot;arrival_date&quot;,\n                        LocalDate.of(2022, j, (i % 23) + 1)\n                                .plus(1, ChronoUnit.DAYS));\n                rec.setField(&quot;departure_date&quot;,\n                        LocalDate.of(2022, j, (i % 23) + 5));\n                rec.setField(&quot;value&quot;, (double) i * 4.13);\n                records.add(rec);\n            }\n        }\n        File parquetFile = new File(\n                lakehouse + &quot;/bookings/rome_hotels/arq_001.parquet&quot;);\n        FileAppender&lt;GenericRecord&gt; appender = null;\n        try {\n            appender = Parquet.write(Files.localOutput(parquetFile))\n                    .schema(table.schema())\n                    .createWriterFunc(GenericParquetWriter::buildWriter)\n                    .build();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n        try {\n            appender.addAll(records);\n        } finally {\n            try {\n                appender.close();\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","system","call","ringtone"],"answers":[{"tags":[],"owner":{"account_id":26681788,"reputation":1,"user_id":20291629,"display_name":"ssiiaa.x"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666512906,"creation_date":1666512906,"answer_id":74169589,"question_id":74140377,"body_markdown":"It seems to be the peculiarities of the firmware of this particular smartphone. But instead there is an option to set the default ringtone to NONE. All this of course is sad, but it&#39;s Android.","title":"How to make IN_CALL_SERVICE_RINGING work?","body":"<p>It seems to be the peculiarities of the firmware of this particular smartphone. But instead there is an option to set the default ringtone to NONE. All this of course is sad, but it's Android.</p>\n"}],"owner":{"account_id":26681788,"reputation":1,"user_id":20291629,"display_name":"ssiiaa.x"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666512906,"creation_date":1666271095,"question_id":74140377,"body_markdown":"Android docs:\r\n\r\n&gt; public static final String METADATA_IN_CALL_SERVICE_RINGING A boolean\r\n&gt; meta-data value indicating whether an InCallService implements\r\n&gt; ringing. Dialer implementations (see getDefaultDialerPackage()) which\r\n&gt; would also like to override the system provided ringing should set\r\n&gt; this meta-data to true in the manifest registration of their\r\n&gt; InCallService.\r\n&gt; \r\n&gt; **When true, it is the InCallService&#39;s responsibility to play a ringtone for all incoming calls.**\r\n\r\nMy code:\r\n\r\n        &lt;service\r\n            android:name=&quot;.InCallServ&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:permission=&quot;android.permission.BIND_INCALL_SERVICE&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.telecom.IN_CALL_SERVICE_UI&quot;\r\n                android:value=&quot;true&quot; /&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.telecom.IN_CALL_SERVICE_RINGING&quot;\r\n                android:value=&quot;true&quot; /&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.telecom.InCallService&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n\r\nI expected that as a result, since now my Phone app is **&quot;responsible&quot;** for this, there will be no ringtone at all and I can then add my own if necessary.\r\nBut no changes happened.\r\nWhat did I do wrong or what did I not do to disable the default ringtone?\r\n\r\n**P.S.** I forgot to add &quot;no changes happened&quot; - this is on real smartphones. On the Android Studio emulator, everything is according to the documentation.\r\n\r\n\r\n\r\n","title":"How to make IN_CALL_SERVICE_RINGING work?","body":"<p>Android docs:</p>\n<blockquote>\n<p>public static final String METADATA_IN_CALL_SERVICE_RINGING A boolean\nmeta-data value indicating whether an InCallService implements\nringing. Dialer implementations (see getDefaultDialerPackage()) which\nwould also like to override the system provided ringing should set\nthis meta-data to true in the manifest registration of their\nInCallService.</p>\n<p><strong>When true, it is the InCallService's responsibility to play a ringtone for all incoming calls.</strong></p>\n</blockquote>\n<p>My code:</p>\n<pre><code>    &lt;service\n        android:name=&quot;.InCallServ&quot;\n        android:exported=&quot;true&quot;\n        android:permission=&quot;android.permission.BIND_INCALL_SERVICE&quot;&gt;\n        &lt;meta-data\n            android:name=&quot;android.telecom.IN_CALL_SERVICE_UI&quot;\n            android:value=&quot;true&quot; /&gt;\n        &lt;meta-data\n            android:name=&quot;android.telecom.IN_CALL_SERVICE_RINGING&quot;\n            android:value=&quot;true&quot; /&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.telecom.InCallService&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/service&gt;\n</code></pre>\n<p>I expected that as a result, since now my Phone app is <strong>&quot;responsible&quot;</strong> for this, there will be no ringtone at all and I can then add my own if necessary.\nBut no changes happened.\nWhat did I do wrong or what did I not do to disable the default ringtone?</p>\n<p><strong>P.S.</strong> I forgot to add &quot;no changes happened&quot; - this is on real smartphones. On the Android Studio emulator, everything is according to the documentation.</p>\n"},{"tags":["java","swing","frame","jinternalframe"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1384170885,"creation_date":1384170885,"answer_id":19905717,"question_id":19905221,"body_markdown":"Yes, although a `JInternalFrame` is intended for use in a [`JDesktopPane`][1]. If you&#39;re seeing only the title bar, verify that your content has a [preferred size][2] and `pack()` the internal frame, as shown [here][3].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/components/internalframe.html\r\n  [2]: https://stackoverflow.com/q/7229226/230513\r\n  [3]: https://stackoverflow.com/a/4091329/230513","title":"May i can use JOptionPane.showConfirmDialog for dispay JInternalFrame?","body":"<p>Yes, although a <code>JInternalFrame</code> is intended for use in a <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/internalframe.html\" rel=\"nofollow noreferrer\"><code>JDesktopPane</code></a>. If you're seeing only the title bar, verify that your content has a <a href=\"https://stackoverflow.com/q/7229226/230513\">preferred size</a> and <code>pack()</code> the internal frame, as shown <a href=\"https://stackoverflow.com/a/4091329/230513\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":26707148,"reputation":1,"user_id":20313142,"display_name":"boris kateta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666512786,"creation_date":1666512786,"answer_id":74169578,"question_id":19905221,"body_markdown":"    yourJInternalFrame obt=new yourJInternalFrame ();\r\n    obt.pack();\r\n    obt.setVisible(true);\r\n    intns=JOptionPane.showConfirmDialog(null,obt,&quot;Billing&quot;,\r\n    JOptionPane.OK_CANCEL_OPTION,JOptionPane.PLAIN_MESSAGE);\r\n","title":"May i can use JOptionPane.showConfirmDialog for dispay JInternalFrame?","body":"<pre><code>yourJInternalFrame obt=new yourJInternalFrame ();\nobt.pack();\nobt.setVisible(true);\nintns=JOptionPane.showConfirmDialog(null,obt,&quot;Billing&quot;,\nJOptionPane.OK_CANCEL_OPTION,JOptionPane.PLAIN_MESSAGE);\n</code></pre>\n"}],"owner":{"account_id":3395667,"reputation":151,"user_id":2849358,"accept_rate":100,"display_name":"Daxesh Prajapati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":501,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":19905717,"answer_count":2,"score":2,"last_activity_date":1666512786,"creation_date":1384169300,"question_id":19905221,"body_markdown":"May i can use `JOptionPane.showConfirmDialog` for display `JInternalFrame`?\r\n\r\nI tried following code:\r\n\r\n    OPD.Registration opdRegister = new OPD.Registration(); \r\n    //OPD.Registration is extending JInternalFrame    \r\n    \r\n    int ns=JOptionPane.showConfirmDialog(null, opdRegister, &quot;Billing&quot;, JOptionPane.OK_CANCEL_OPTION,JOptionPane.PLAIN_MESSAGE);\r\n    // i am trying to call opdregister in this Confirm Dialog Box.\r\n\r\nBy using above code that display dialog box with `JInternalFrame` but it not display proper. It display only title bar. Other data are cut from the `JInternalFrame`. \r\n\r\nHow can I increase size of this dialog?\r\n\r\n","title":"May i can use JOptionPane.showConfirmDialog for dispay JInternalFrame?","body":"<p>May i can use <code>JOptionPane.showConfirmDialog</code> for display <code>JInternalFrame</code>?</p>\n\n<p>I tried following code:</p>\n\n<pre><code>OPD.Registration opdRegister = new OPD.Registration(); \n//OPD.Registration is extending JInternalFrame    \n\nint ns=JOptionPane.showConfirmDialog(null, opdRegister, \"Billing\", JOptionPane.OK_CANCEL_OPTION,JOptionPane.PLAIN_MESSAGE);\n// i am trying to call opdregister in this Confirm Dialog Box.\n</code></pre>\n\n<p>By using above code that display dialog box with <code>JInternalFrame</code> but it not display proper. It display only title bar. Other data are cut from the <code>JInternalFrame</code>. </p>\n\n<p>How can I increase size of this dialog?</p>\n"},{"tags":["java","graphics2d"],"answers":[{"tags":[],"owner":{"account_id":1558798,"reputation":36540,"user_id":1449199,"accept_rate":95,"display_name":"Baz"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1345543260,"creation_date":1345542939,"answer_id":12052392,"question_id":12052235,"body_markdown":"If `(x,y)` is the center you want to use and you can only specify the upper left corner, then use the following:\r\n\r\n    private Ellipse2D getEllipseFromCenter(double x, double y, double width, double height)\r\n    {\r\n        double newX = x - width / 2.0;\r\n        double newY = y - height / 2.0;\r\n        \r\n        Ellipse2D ellipse = new Ellipse2D.Double(newX, newY, width, height);\r\n        \r\n        return ellipse;\r\n    }\r\n\r\nIf called with the center point and the width and height, this will &quot;transform&quot; your center point to the upper left corner and create an `Ellipse2D` which is located just as you want it to be.","title":"draw ellipse using center point (not upper left corner)","body":"<p>If <code>(x,y)</code> is the center you want to use and you can only specify the upper left corner, then use the following:</p>\n\n<pre><code>private Ellipse2D getEllipseFromCenter(double x, double y, double width, double height)\n{\n    double newX = x - width / 2.0;\n    double newY = y - height / 2.0;\n\n    Ellipse2D ellipse = new Ellipse2D.Double(newX, newY, width, height);\n\n    return ellipse;\n}\n</code></pre>\n\n<p>If called with the center point and the width and height, this will \"transform\" your center point to the upper left corner and create an <code>Ellipse2D</code> which is located just as you want it to be.</p>\n"},{"tags":[],"owner":{"account_id":9949096,"reputation":21,"user_id":7362525,"display_name":"Philippe P."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666512629,"creation_date":1666512629,"answer_id":74169571,"question_id":12052235,"body_markdown":"The &#39;Upper&#39; coordinate is misleading , it only works assuming y &gt;=0 ( which works fine for a screen referential , bur not if you use the primitive with y &lt;0 , for instance calculating object collisions )\r\n\r\nWith the usual math referential , where y&lt;0 is possible , up is at the bottom\r\nso it lacks a general definition not to get confused\r\n\r\nThe exact definition is that x and y are the min coordinates of the bounding rectangle.  \r\n\r\nIt can be &#39;up&#39; or &#39;down&#39; ( relatively to your screen i suppose ) depending on the y axis orientation and y coordinate sign","title":"draw ellipse using center point (not upper left corner)","body":"<p>The 'Upper' coordinate is misleading , it only works assuming y &gt;=0 ( which works fine for a screen referential , bur not if you use the primitive with y &lt;0 , for instance calculating object collisions )</p>\n<p>With the usual math referential , where y&lt;0 is possible , up is at the bottom\nso it lacks a general definition not to get confused</p>\n<p>The exact definition is that x and y are the min coordinates of the bounding rectangle.</p>\n<p>It can be 'up' or 'down' ( relatively to your screen i suppose ) depending on the y axis orientation and y coordinate sign</p>\n"}],"owner":{"account_id":294955,"reputation":1456,"user_id":599110,"accept_rate":66,"display_name":"nyyrikki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7125,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":12052392,"answer_count":2,"score":3,"last_activity_date":1666512629,"creation_date":1345542442,"question_id":12052235,"body_markdown":"I try to find a solution for drawing ellipses based on the center point, not the upper left corner as it is specified in the constructor of Ellipse2D.Double. As seen in the picture the ellipses should have the same center point and scale, is that somehow possible?\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/zWJ8m.png\r\n\r\nThanks in advance for your help.","title":"draw ellipse using center point (not upper left corner)","body":"<p>I try to find a solution for drawing ellipses based on the center point, not the upper left corner as it is specified in the constructor of Ellipse2D.Double. As seen in the picture the ellipses should have the same center point and scale, is that somehow possible?</p>\n\n<p><img src=\"https://i.stack.imgur.com/zWJ8m.png\" alt=\"enter image description here\"></p>\n\n<p>Thanks in advance for your help.</p>\n"},{"tags":["java","spring","tomcat","microservices","netflix-eureka"],"answers":[{"tags":[],"owner":{"account_id":21170558,"reputation":53,"user_id":15602766,"display_name":"kqlqk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666511573,"creation_date":1666507471,"answer_id":74169167,"question_id":74167202,"body_markdown":"So, i solved it in unusual way, in my microservice i changed application.properties\r\n```\r\neureka.client.service-url.default-zone=...\r\n```\r\n\r\nto camelCase\r\n\r\n```\r\neureka.client.serviceUrl.defaultZone=\r\n```","title":"Eureka client looking for default url instead of custom url","body":"<p>So, i solved it in unusual way, in my microservice i changed application.properties</p>\n<pre><code>eureka.client.service-url.default-zone=...\n</code></pre>\n<p>to camelCase</p>\n<pre><code>eureka.client.serviceUrl.defaultZone=\n</code></pre>\n"}],"owner":{"account_id":21170558,"reputation":53,"user_id":15602766,"display_name":"kqlqk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":667,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74169167,"answer_count":1,"score":1,"last_activity_date":1666511573,"creation_date":1666473973,"question_id":74167202,"body_markdown":"I have eureka server that posted in tomcat server (localhost:80/eureka-server)\r\n\r\n```\r\nspring.application.name=eureka\r\nserver.port=80\r\nserver.servlet.context-path=/eureka-server\r\neureka.client.register-with-eureka=false\r\neureka.client.fetch-registry=false\r\neureka.client.service-url.default-zone=http://localhost:80/eureka-server/eureka/\r\n```\r\n```\r\n@SpringBootApplication\r\n@EnableEurekaServer\r\npublic class EurekaServer extends SpringBootServletInitializer {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(EurekaServer.class, args);\r\n    }\r\n}\r\n```\r\n\r\nIn my microservice i try to register it in eureka\r\n\r\n```\r\nspring.application.name=randomService\r\neureka.client.service-url.default-zone=http://localhost:80/eureka-server/eureka/\r\n```\r\n\r\n```\r\n@SpringBootApplication\r\n@EnableEurekaClient\r\npublic class RandomServiceApplication extends SpringBootServletInitializer {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(RandomServiceApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\nbut everytime microservice tries to connect with default eureka url (http://localhost:8761). What should i do?","title":"Eureka client looking for default url instead of custom url","body":"<p>I have eureka server that posted in tomcat server (localhost:80/eureka-server)</p>\n<pre><code>spring.application.name=eureka\nserver.port=80\nserver.servlet.context-path=/eureka-server\neureka.client.register-with-eureka=false\neureka.client.fetch-registry=false\neureka.client.service-url.default-zone=http://localhost:80/eureka-server/eureka/\n</code></pre>\n<pre><code>@SpringBootApplication\n@EnableEurekaServer\npublic class EurekaServer extends SpringBootServletInitializer {\n\n    public static void main(String[] args) {\n        SpringApplication.run(EurekaServer.class, args);\n    }\n}\n</code></pre>\n<p>In my microservice i try to register it in eureka</p>\n<pre><code>spring.application.name=randomService\neureka.client.service-url.default-zone=http://localhost:80/eureka-server/eureka/\n</code></pre>\n<pre><code>@SpringBootApplication\n@EnableEurekaClient\npublic class RandomServiceApplication extends SpringBootServletInitializer {\n\n    public static void main(String[] args) {\n        SpringApplication.run(RandomServiceApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>but everytime microservice tries to connect with default eureka url (http://localhost:8761). What should i do?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":6978516,"reputation":36237,"user_id":5352399,"accept_rate":81,"display_name":"Wasi Ahmad"},"score":2,"creation_date":1483081464,"post_id":41392104,"comment_id":69986076,"body_markdown":"what is the problem?","body":"what is the problem?"},{"owner":{"account_id":2078183,"reputation":3320,"user_id":1850925,"display_name":"Arjit"},"score":2,"creation_date":1483081499,"post_id":41392104,"comment_id":69986089,"body_markdown":"duplicate of http://stackoverflow.com/questions/4457277/algorithm-to-rotate-an-array-in-linear-time","body":"duplicate of <a href=\"http://stackoverflow.com/questions/4457277/algorithm-to-rotate-an-array-in-linear-time\" title=\"algorithm to rotate an array in linear time\">stackoverflow.com/questions/4457277/&hellip;</a>"},{"owner":{"account_id":8402734,"reputation":1404,"user_id":6307292,"display_name":"mm759"},"score":0,"creation_date":1483081622,"post_id":41392104,"comment_id":69986133,"body_markdown":"What is the problem? What do you expect and what actually happens?","body":"What is the problem? What do you expect and what actually happens?"},{"owner":{"account_id":4964366,"reputation":506,"user_id":3994253,"accept_rate":77,"display_name":"Dhaval Mistry"},"score":0,"creation_date":1483081627,"post_id":41392104,"comment_id":69986136,"body_markdown":"now how to print it?","body":"now how to print it?"},{"owner":{"account_id":4964366,"reputation":506,"user_id":3994253,"accept_rate":77,"display_name":"Dhaval Mistry"},"score":0,"creation_date":1483081660,"post_id":41392104,"comment_id":69986153,"body_markdown":"please write the program","body":"please write the program"},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1483081713,"post_id":41392104,"comment_id":69986177,"body_markdown":"This is working! Please do some test first and some research on how to print an array in console.","body":"This is working! Please do some test first and some research on how to print an array in console."},{"owner":{"account_id":2175164,"reputation":5597,"user_id":1925997,"accept_rate":64,"display_name":"Kishore Bandi"},"score":0,"creation_date":1483081773,"post_id":41392104,"comment_id":69986204,"body_markdown":"Try `Arrays.stream(resultArray).forEach(System.out::println);`","body":"Try <code>Arrays.stream(resultArray).forEach(System.out::println);</code>"}],"answers":[{"comments":[{"owner":{"account_id":6978516,"reputation":36237,"user_id":5352399,"accept_rate":81,"display_name":"Wasi Ahmad"},"score":1,"creation_date":1483081752,"post_id":41392172,"comment_id":69986192,"body_markdown":"you can make a comment for such small thing.","body":"you can make a comment for such small thing."},{"owner":{"account_id":8402734,"reputation":1404,"user_id":6307292,"display_name":"mm759"},"score":0,"creation_date":1483082019,"post_id":41392172,"comment_id":69986315,"body_markdown":"It answers the question as explained in comment of Dhaval Mistry. A small question gets a small answer. I added an example.","body":"It answers the question as explained in comment of Dhaval Mistry. A small question gets a small answer. I added an example."}],"tags":[],"owner":{"account_id":8402734,"reputation":1404,"user_id":6307292,"display_name":"mm759"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483081906,"creation_date":1483081726,"answer_id":41392172,"question_id":41392104,"body_markdown":"You can print the result using `Arrays.toString`. For example:\n\n    System.out.println(Arrays.toString(rotation(new int[] { 3, 8, 9, 7, 6}, 3)));","title":"Rotation of the array means that each element is shifted right by one index, and the last element of the array is also moved to the first place","body":"<p>You can print the result using <code>Arrays.toString</code>. For example:</p>\n\n<pre><code>System.out.println(Arrays.toString(rotation(new int[] { 3, 8, 9, 7, 6}, 3)));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1329743,"reputation":1134,"user_id":1273887,"accept_rate":70,"display_name":"jjj"},"score":1,"creation_date":1516198251,"post_id":48302731,"comment_id":83590823,"body_markdown":"Please add some description to explain answer for benefit of other.","body":"Please add some description to explain answer for benefit of other."}],"tags":[],"owner":{"account_id":12703995,"reputation":1,"user_id":9229864,"display_name":"user9229864"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516198350,"creation_date":1516197016,"answer_id":48302731,"question_id":41392104,"body_markdown":"    public int[] solution(int[] A, int K) {\r\n        // write your code in Java SE 8\r\n        \r\n        int [] B =new int [A.length];\r\n       \r\n        for(int l=0;K&gt;l;K--){\r\n            int j=0;\r\n            for(int i=0;i&lt;A.length;i++){\r\n                if(i==0){\r\n                    B[j]=A[A.length-1];\r\n                    j++;\r\n                }\r\n                else{\r\n                    B[j]=A[i-1];\r\n                    j++;\r\n                }\r\n            }\r\n            for(int i= 0;i&lt;A.length;i++){\r\n                A[i]=B[i];\r\n            }\r\n            \r\n        }\r\n        return B;\r\n    } ","title":"Rotation of the array means that each element is shifted right by one index, and the last element of the array is also moved to the first place","body":"<pre><code>public int[] solution(int[] A, int K) {\n    // write your code in Java SE 8\n\n    int [] B =new int [A.length];\n\n    for(int l=0;K&gt;l;K--){\n        int j=0;\n        for(int i=0;i&lt;A.length;i++){\n            if(i==0){\n                B[j]=A[A.length-1];\n                j++;\n            }\n            else{\n                B[j]=A[i-1];\n                j++;\n            }\n        }\n        for(int i= 0;i&lt;A.length;i++){\n            A[i]=B[i];\n        }\n\n    }\n    return B;\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":12717195,"reputation":36,"user_id":9238798,"display_name":"Hooney"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1557397546,"creation_date":1516623334,"answer_id":48381414,"question_id":41392104,"body_markdown":"You can also use `A = B.clone();` \r\n\r\n```\r\npublic int[] solution(int[] A, int K) {\r\n    // write your code in Java SE 8\r\n\r\n    int [] B =new int [A.length];\r\n\r\n    for(int l=0;K&gt;l;K--){\r\n        int j=0;\r\n        for(int i=0;i&lt;A.length;i++){\r\n            if(i==0){\r\n                B[j]=A[A.length-1];\r\n                j++;\r\n            }\r\n            else{\r\n                B[j]=A[i-1];\r\n                j++;\r\n            }\r\n        }\r\n\r\n        //below part\r\n        /*for(int i= 0;i&lt;A.length;i++){\r\n            A[i]=B[i];\r\n        }*/\r\n        A = B.clone();\r\n\r\n    }\r\n    return B;\r\n} \r\n```\r\nIf you like :D","title":"Rotation of the array means that each element is shifted right by one index, and the last element of the array is also moved to the first place","body":"<p>You can also use <code>A = B.clone();</code> </p>\n\n<pre><code>public int[] solution(int[] A, int K) {\n    // write your code in Java SE 8\n\n    int [] B =new int [A.length];\n\n    for(int l=0;K&gt;l;K--){\n        int j=0;\n        for(int i=0;i&lt;A.length;i++){\n            if(i==0){\n                B[j]=A[A.length-1];\n                j++;\n            }\n            else{\n                B[j]=A[i-1];\n                j++;\n            }\n        }\n\n        //below part\n        /*for(int i= 0;i&lt;A.length;i++){\n            A[i]=B[i];\n        }*/\n        A = B.clone();\n\n    }\n    return B;\n} \n</code></pre>\n\n<p>If you like :D</p>\n"},{"tags":[],"owner":{"account_id":15941293,"reputation":1,"user_id":11503051,"display_name":"Shailendra Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558924198,"creation_date":1558096530,"answer_id":56186557,"question_id":41392104,"body_markdown":"  \r\n\r\n      function solution(A, K) {\r\n        \r\n            function shiftArray(arrayToShift, newArray=[] ){\r\n                newArray[0] = arrayToShift[arrayToShift.length-1] ; \r\n                for (var i=1; i&lt;arrayToShift.length; i++){\r\n                    newArray[i] = arrayToShift[i-1];   \r\n                }\r\n                // console.log(&quot;arrayToShift&quot;);\r\n                // console.log(newArray);\r\n                return newArray;\r\n            }\r\n            \r\n             \r\n            var newArray = A;\r\n            for(var i=0; i&lt;K; i++){\r\n                newArray =  shiftArray(newArray);\r\n            }\r\n            return newArray\r\n        }\r\n    \r\n    \r\n    console.log(solution([3, 8, 9, 7, 6], 3));\r\n\r\n","title":"Rotation of the array means that each element is shifted right by one index, and the last element of the array is also moved to the first place","body":"<pre><code>  function solution(A, K) {\n\n        function shiftArray(arrayToShift, newArray=[] ){\n            newArray[0] = arrayToShift[arrayToShift.length-1] ; \n            for (var i=1; i&lt;arrayToShift.length; i++){\n                newArray[i] = arrayToShift[i-1];   \n            }\n            // console.log(\"arrayToShift\");\n            // console.log(newArray);\n            return newArray;\n        }\n\n\n        var newArray = A;\n        for(var i=0; i&lt;K; i++){\n            newArray =  shiftArray(newArray);\n        }\n        return newArray\n    }\n\n\nconsole.log(solution([3, 8, 9, 7, 6], 3));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8855263,"reputation":935,"user_id":6613232,"display_name":"GTRekter"},"score":0,"creation_date":1593522962,"post_id":57052674,"comment_id":110806590,"body_markdown":"Great solution!","body":"Great solution!"}],"tags":[],"owner":{"account_id":8404138,"reputation":851,"user_id":6308162,"display_name":"Iryna Prokopenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1563268880,"creation_date":1563264131,"answer_id":57052674,"question_id":41392104,"body_markdown":"I didnt get what exactly wants topic starter but here my code for this task\r\n     \r\n    class Solution {\r\n    public int[] solution(int[] arr, int k) {\r\n        int[] newArr = new int[arr.length];\r\n       \r\n        if (arr.length == 0) return arr;\r\n           k = k%arr.length;\r\n        for (int i=0; i&lt;arr.length; i++) {\r\n\r\n          newArr[i] = arr[(i + (arr.length - k)) % (arr.length)];\r\n\r\n        }\r\n        \r\n        return newArr;\r\n    }\r\n}","title":"Rotation of the array means that each element is shifted right by one index, and the last element of the array is also moved to the first place","body":"<p>I didnt get what exactly wants topic starter but here my code for this task</p>\n\n<pre><code>class Solution {\npublic int[] solution(int[] arr, int k) {\n    int[] newArr = new int[arr.length];\n\n    if (arr.length == 0) return arr;\n       k = k%arr.length;\n    for (int i=0; i&lt;arr.length; i++) {\n\n      newArr[i] = arr[(i + (arr.length - k)) % (arr.length)];\n\n    }\n\n    return newArr;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":5653365,"reputation":31,"user_id":4473223,"display_name":"SACHIN MALPE"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572004118,"creation_date":1572004118,"answer_id":58557972,"question_id":41392104,"body_markdown":"&lt;b&gt;Achieved 100% correctness&lt;/b&gt;\r\n\r\n    public int[] solution(int[] A, int K) {\r\n        // write your code in Java SE 8\r\n        if(K == A.length || A.length == 0)\r\n            return A;\r\n        if(K &gt; A.length) {\r\n\t\t\tK = K%A.length;\r\n\t\t}\r\n\t\tint[] arr1 = Arrays.copyOfRange(A, A.length-K, A.length);\r\n\t\tint[] arr2 = Arrays.copyOfRange(A, 0, A.length-K);\r\n\t\tint aLen = arr1.length;\r\n        int bLen = arr2.length;\r\n        int[] result = new int[aLen + bLen];\r\n        System.arraycopy(arr1, 0, result, 0, aLen);\r\n        System.arraycopy(arr2, 0, result, aLen, bLen);\r\n        return result;\r\n    }","title":"Rotation of the array means that each element is shifted right by one index, and the last element of the array is also moved to the first place","body":"<p><b>Achieved 100% correctness</b></p>\n\n<pre><code>public int[] solution(int[] A, int K) {\n    // write your code in Java SE 8\n    if(K == A.length || A.length == 0)\n        return A;\n    if(K &gt; A.length) {\n        K = K%A.length;\n    }\n    int[] arr1 = Arrays.copyOfRange(A, A.length-K, A.length);\n    int[] arr2 = Arrays.copyOfRange(A, 0, A.length-K);\n    int aLen = arr1.length;\n    int bLen = arr2.length;\n    int[] result = new int[aLen + bLen];\n    System.arraycopy(arr1, 0, result, 0, aLen);\n    System.arraycopy(arr2, 0, result, aLen, bLen);\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2746810,"reputation":448,"user_id":2367057,"display_name":"Chigozie Orunta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578771239,"creation_date":1578771239,"answer_id":59697972,"question_id":41392104,"body_markdown":"Here&#39;s my solution using JavaScript, **tested 100%.**\r\n\r\n```\r\nfunction solution(A, K) {\r\n    for(let i=0; i&lt;K; i++) {\r\n        let lastIndex = A.length - 1;\r\n        let lastItem = A[lastIndex];\r\n        for(let j=(A.length-1); j&gt;-1; j--) {\r\n            if(j&gt;0) {\r\n                A[j] = A[j-1];\r\n            } else {\r\n                A[j] = lastItem;\r\n            }\r\n        }\r\n    }\r\n    return A;\r\n}\r\n```","title":"Rotation of the array means that each element is shifted right by one index, and the last element of the array is also moved to the first place","body":"<p>Here's my solution using JavaScript, <strong>tested 100%.</strong></p>\n\n<pre><code>function solution(A, K) {\n    for(let i=0; i&lt;K; i++) {\n        let lastIndex = A.length - 1;\n        let lastItem = A[lastIndex];\n        for(let j=(A.length-1); j&gt;-1; j--) {\n            if(j&gt;0) {\n                A[j] = A[j-1];\n            } else {\n                A[j] = lastItem;\n            }\n        }\n    }\n    return A;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17268394,"reputation":25,"user_id":12504623,"display_name":"Najeeb Jebreel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579172857,"creation_date":1579172857,"answer_id":59768323,"question_id":41392104,"body_markdown":"class Solution { \r\n    public int[] solution(int[] A, int K){\r\n        \r\n        if((A.length == 0) || (K == 0)){\r\n            return A;\r\n        }\r\n        int [] B = new int[A.length];\r\n        int c = K;\r\n        while(c != 0){\r\n            for(int i = 1; i&lt; A.length; i++){\r\n                B[i] = A[i-1];\r\n            }\r\n            c--;\r\n            B[0] = A[A.length-1];\r\n            System.arraycopy(B, 0, A, 0, A.length);\r\n        }\r\n        return A;\r\n    }\r\n    \r\n}","title":"Rotation of the array means that each element is shifted right by one index, and the last element of the array is also moved to the first place","body":"<p>class Solution { \n    public int[] solution(int[] A, int K){</p>\n\n<pre><code>    if((A.length == 0) || (K == 0)){\n        return A;\n    }\n    int [] B = new int[A.length];\n    int c = K;\n    while(c != 0){\n        for(int i = 1; i&lt; A.length; i++){\n            B[i] = A[i-1];\n        }\n        c--;\n        B[0] = A[A.length-1];\n        System.arraycopy(B, 0, A, 0, A.length);\n    }\n    return A;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":8314575,"reputation":143,"user_id":6248378,"accept_rate":50,"display_name":"Rodrigo Salomao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589614033,"creation_date":1589614033,"answer_id":61833335,"question_id":41392104,"body_markdown":"In Kotlin:\r\n\r\n    fun flipList(list: List&lt;Int&gt;, times: Int): List&lt;Int&gt; {\r\n        val flippedList = list.toMutableList()\r\n        val referenceList = list.toMutableList()\r\n        repeat(times) {\r\n            var position = 0\r\n            referenceList.forEach {\r\n                position++\r\n                if (position &lt; list.size)\r\n                    flippedList[position] = referenceList[position -1]\r\n                else\r\n                    flippedList[0] = referenceList.last()\r\n            }\r\n            referenceList.clear()\r\n            referenceList.addAll(flippedList)\r\n        }\r\n        return flippedList\r\n    }\r\n\r\nUnit Teste\r\n\r\n \r\n\r\n    class FlipListUnitTest {\r\n            private val referenceListMock = listOf(1,2,3,4)\r\n            private val referenceListOneTimeFlipResultMock = listOf(4,1,2,3)\r\n            private val referenceListFourTimesFlipResultMock = listOf(1,2,3,4)\r\n            @Test\r\n            fun `check test api is working`(){\r\n                assertTrue(true)\r\n            }\r\n        \r\n            @Test\r\n            fun `check list flip 1 time`(){\r\n                assertTrue(flipList(referenceListMock, 1) == referenceListOneTimeFlipResultMock)\r\n            }\r\n        \r\n            @Test\r\n            fun `check list flip 4 time`(){\r\n                assertTrue(flipList(referenceListMock, 4) == referenceListFourTimesFlipResultMock)\r\n            }\r\n    }","title":"Rotation of the array means that each element is shifted right by one index, and the last element of the array is also moved to the first place","body":"<p>In Kotlin:</p>\n\n<pre><code>fun flipList(list: List&lt;Int&gt;, times: Int): List&lt;Int&gt; {\n    val flippedList = list.toMutableList()\n    val referenceList = list.toMutableList()\n    repeat(times) {\n        var position = 0\n        referenceList.forEach {\n            position++\n            if (position &lt; list.size)\n                flippedList[position] = referenceList[position -1]\n            else\n                flippedList[0] = referenceList.last()\n        }\n        referenceList.clear()\n        referenceList.addAll(flippedList)\n    }\n    return flippedList\n}\n</code></pre>\n\n<p>Unit Teste</p>\n\n<pre><code>class FlipListUnitTest {\n        private val referenceListMock = listOf(1,2,3,4)\n        private val referenceListOneTimeFlipResultMock = listOf(4,1,2,3)\n        private val referenceListFourTimesFlipResultMock = listOf(1,2,3,4)\n        @Test\n        fun `check test api is working`(){\n            assertTrue(true)\n        }\n\n        @Test\n        fun `check list flip 1 time`(){\n            assertTrue(flipList(referenceListMock, 1) == referenceListOneTimeFlipResultMock)\n        }\n\n        @Test\n        fun `check list flip 4 time`(){\n            assertTrue(flipList(referenceListMock, 4) == referenceListFourTimesFlipResultMock)\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18666798,"reputation":1,"user_id":13606577,"display_name":"Quốc Định"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590310163,"creation_date":1590310163,"answer_id":61983616,"question_id":41392104,"body_markdown":"Here in my code\r\n\r\n    public static int[] solution(int[] A, int K){\r\n        if(A.length &gt; 0) {\r\n            for(int i = 0; i &lt; K ; i++){\r\n                int temp = A[A.length - 1];\r\n                for(int j = A.length - 2; j &gt;= 0; j--){\r\n                    A[j + 1] = A[j];\r\n                }\r\n                A[0] = temp;\r\n            }\r\n        }\r\n        return A;\r\n    }","title":"Rotation of the array means that each element is shifted right by one index, and the last element of the array is also moved to the first place","body":"<p>Here in my code</p>\n\n<pre><code>public static int[] solution(int[] A, int K){\n    if(A.length &gt; 0) {\n        for(int i = 0; i &lt; K ; i++){\n            int temp = A[A.length - 1];\n            for(int j = A.length - 2; j &gt;= 0; j--){\n                A[j + 1] = A[j];\n            }\n            A[0] = temp;\n        }\n    }\n    return A;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6321139,"reputation":153,"user_id":4909153,"accept_rate":100,"display_name":"Mwas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611566526,"creation_date":1611566526,"answer_id":65881937,"question_id":41392104,"body_markdown":"    public static int[] solution(int[] A, int K) {\r\n        if(A.length&lt;1)\r\n            return A;\r\n        int[] newArray = new int[A.length];\r\n\r\n        while (K&gt;0){\r\n            newArray[0]=A[A.length-1];\r\n            for(int i=0; i&lt;A.length-1; i++){\r\n                newArray[i+1]=A[i];\r\n            }\r\n            for (int i=0; i&lt;newArray.length; i++) {\r\n                A[i]=newArray[i];\r\n            }\r\n            K--;\r\n        }\r\n        return A;\r\n    }","title":"Rotation of the array means that each element is shifted right by one index, and the last element of the array is also moved to the first place","body":"<pre><code>public static int[] solution(int[] A, int K) {\n    if(A.length&lt;1)\n        return A;\n    int[] newArray = new int[A.length];\n\n    while (K&gt;0){\n        newArray[0]=A[A.length-1];\n        for(int i=0; i&lt;A.length-1; i++){\n            newArray[i+1]=A[i];\n        }\n        for (int i=0; i&lt;newArray.length; i++) {\n            A[i]=newArray[i];\n        }\n        K--;\n    }\n    return A;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8821115,"reputation":1,"user_id":6590965,"display_name":"Haris Azam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623772001,"creation_date":1623772001,"answer_id":67989490,"question_id":41392104,"body_markdown":"&gt; An array A consisting of N integers is given. Rotation of the array means that each element is shifted right by one index, and the last element of the array is moved to the first place.\r\n\r\n\r\nHi everyone here is another simple solution for this problem in JAVA, 100% working.\r\n\r\n```\r\nclass Solution {\r\n    public int[] solution(int[] A, int K) {\r\n        \r\n        // Corner cases to save resources\r\n         if(K == 0 || A.length &lt;= 0 || A.length == K){\r\n             return A;\r\n         }\r\n         \r\n         // Loop to traverse K times\r\n         for(int i=0; i&lt;K; i++){\r\n             int last = A[A.length - 1]; // Last digit\r\n             \r\n             // Loop to traverse A.Length times in swing order,\r\n             // so that first element can be set\r\n             for(int j=A.length-1; j&gt;0; j--){\r\n              A[j] = A[j-1];   \r\n             }\r\n             \r\n             // Set last element\r\n             A[0] = last;\r\n         }\r\n         \r\n         // Return result\r\n         return A;\r\n    }\r\n}\r\n\r\n","title":"Rotation of the array means that each element is shifted right by one index, and the last element of the array is also moved to the first place","body":"<blockquote>\n<p>An array A consisting of N integers is given. Rotation of the array means that each element is shifted right by one index, and the last element of the array is moved to the first place.</p>\n</blockquote>\n<p>Hi everyone here is another simple solution for this problem in JAVA, 100% working.</p>\n<pre><code>class Solution {\n    public int[] solution(int[] A, int K) {\n        \n        // Corner cases to save resources\n         if(K == 0 || A.length &lt;= 0 || A.length == K){\n             return A;\n         }\n         \n         // Loop to traverse K times\n         for(int i=0; i&lt;K; i++){\n             int last = A[A.length - 1]; // Last digit\n             \n             // Loop to traverse A.Length times in swing order,\n             // so that first element can be set\n             for(int j=A.length-1; j&gt;0; j--){\n              A[j] = A[j-1];   \n             }\n             \n             // Set last element\n             A[0] = last;\n         }\n         \n         // Return result\n         return A;\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24222462,"reputation":1,"user_id":18177446,"display_name":"Parveen Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644554589,"creation_date":1644554589,"answer_id":71075430,"question_id":41392104,"body_markdown":"Here is my answer in JavaScript\r\n``` javascript\r\nfunction solution(A, K){\r\nlet arr = [];\r\nlet lastIndex = A.length -1;\r\n        let rotation = K-1;\r\n    for(let i = 0; i &lt; K; i++){\r\n        arr[rotation] = A[lastIndex];\r\n        --lastIndex; \r\n        --rotation;\r\n    }\r\n\r\n    for(let j = 0; j &lt;= lastIndex; j++){\r\n        arr.push(A[j]);\r\n    }\r\n    return arr;\r\n}\r\n```","title":"Rotation of the array means that each element is shifted right by one index, and the last element of the array is also moved to the first place","body":"<p>Here is my answer in JavaScript</p>\n<pre class=\"lang-js prettyprint-override\"><code>function solution(A, K){\nlet arr = [];\nlet lastIndex = A.length -1;\n        let rotation = K-1;\n    for(let i = 0; i &lt; K; i++){\n        arr[rotation] = A[lastIndex];\n        --lastIndex; \n        --rotation;\n    }\n\n    for(let j = 0; j &lt;= lastIndex; j++){\n        arr.push(A[j]);\n    }\n    return arr;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8819037,"reputation":193,"user_id":8289026,"display_name":"EmreAydin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651710226,"creation_date":1651710226,"answer_id":72120732,"question_id":41392104,"body_markdown":"Here is my answer in Python without loop and using string substitution\r\n\r\n````\r\ndef solution(A, K):\r\n    K = K % len(A) if K &gt; len(A) else K\r\n    if (K == 0) or (K == len(A)) or (len(A) in [0, 1]):\r\n        return A\r\n    \r\n    first_index = len(A) - K\r\n    return A[first_index:] + A[:first_index]\r\n````\r\n","title":"Rotation of the array means that each element is shifted right by one index, and the last element of the array is also moved to the first place","body":"<p>Here is my answer in Python without loop and using string substitution</p>\n<pre><code>def solution(A, K):\n    K = K % len(A) if K &gt; len(A) else K\n    if (K == 0) or (K == len(A)) or (len(A) in [0, 1]):\n        return A\n    \n    first_index = len(A) - K\n    return A[first_index:] + A[:first_index]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13460295,"reputation":1223,"user_id":9712582,"display_name":"user9712582"},"score":0,"creation_date":1658625615,"post_id":73057026,"comment_id":129097444,"body_markdown":"This answer appears to be Javascript code.  The question requested Java code and gave an attempt in Java, not Javascript.","body":"This answer appears to be Javascript code.  The question requested Java code and gave an attempt in Java, not Javascript."}],"tags":[],"owner":{"account_id":25856458,"reputation":1,"user_id":19589627,"display_name":"Chukwuemeka Joseph Onwukwe"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658344355,"creation_date":1658344355,"answer_id":73057026,"question_id":41392104,"body_markdown":"    function solution(A, K) {\r\n       let tmpA = [];\r\n       for (let i = 1; i &lt;= K; i++){\r\n           tmpA.unshift(A.pop());\r\n       }\r\n       for (let i = 1; i &lt;= K; i++){\r\n           A.unshift(tmpA.pop());\r\n       }\r\n       return A;   \r\n    }","title":"Rotation of the array means that each element is shifted right by one index, and the last element of the array is also moved to the first place","body":"<pre><code>function solution(A, K) {\n   let tmpA = [];\n   for (let i = 1; i &lt;= K; i++){\n       tmpA.unshift(A.pop());\n   }\n   for (let i = 1; i &lt;= K; i++){\n       A.unshift(tmpA.pop());\n   }\n   return A;   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15056075,"reputation":1,"user_id":10866291,"display_name":"Mohneesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663942537,"creation_date":1663942477,"answer_id":73829101,"question_id":41392104,"body_markdown":"This is the code written in PHP but logic can be used in any language.\r\n \r\n    function solution($A, $K) {\r\n    // write your code in PHP7.0      \r\n        $cnt = count($A);\r\n        for($i=1; $i&lt;=$K; $i++){ \r\n            foreach($A as $key=&gt;$val){\r\n                $key++;\r\n                if($key==$cnt){\r\n                    $A[0] = $val;\r\n                }\r\n                else\r\n                {   \r\n                    $A[$key] = $val;\r\n                }\r\n            }\r\n        }\r\n        return $A;\r\n    }","title":"Rotation of the array means that each element is shifted right by one index, and the last element of the array is also moved to the first place","body":"<p>This is the code written in PHP but logic can be used in any language.</p>\n<pre><code>function solution($A, $K) {\n// write your code in PHP7.0      \n    $cnt = count($A);\n    for($i=1; $i&lt;=$K; $i++){ \n        foreach($A as $key=&gt;$val){\n            $key++;\n            if($key==$cnt){\n                $A[0] = $val;\n            }\n            else\n            {   \n                $A[$key] = $val;\n            }\n        }\n    }\n    return $A;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22861647,"reputation":3,"user_id":17005621,"display_name":"RAKESH YEDLAPPALLI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665646962,"creation_date":1665208514,"answer_id":73994729,"question_id":41392104,"body_markdown":"    public static int[] rotateArrayKTimes(int[] A, int K) {\r\n    \r\n            if (A.length == 0 || A.length &gt; 1000 || K &gt; 100) {\r\n                return new int[]{};\r\n            }\r\n            for (int index = 0; index &lt; K; index++) {\r\n                int temp = A[A.length - 1];\r\n                System.arraycopy(A, 0, A, 1, A.length - 1);\r\n                A[0] = temp;\r\n            }\r\n            return A;\r\n        }","title":"Rotation of the array means that each element is shifted right by one index, and the last element of the array is also moved to the first place","body":"<pre><code>public static int[] rotateArrayKTimes(int[] A, int K) {\n\n        if (A.length == 0 || A.length &gt; 1000 || K &gt; 100) {\n            return new int[]{};\n        }\n        for (int index = 0; index &lt; K; index++) {\n            int temp = A[A.length - 1];\n            System.arraycopy(A, 0, A, 1, A.length - 1);\n            A[0] = temp;\n        }\n        return A;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12128926,"reputation":596,"user_id":8856587,"display_name":"Andr&#233; Walker"},"score":0,"creation_date":1665758959,"post_id":74017559,"comment_id":130780086,"body_markdown":"Your post is mostly code, please add some more explanation of how it works","body":"Your post is mostly code, please add some more explanation of how it works"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1665759000,"post_id":74017559,"comment_id":130780102,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74017559/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26581867,"reputation":1,"user_id":20206396,"display_name":"Sim&#227;o Rocha"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665417388,"creation_date":1665417342,"answer_id":74017559,"question_id":41392104,"body_markdown":"javascript | score: 100%\r\n\r\nfunction solution(A, K) {\r\n\r\n    for(let i=0 ; i&lt;K ; i++){\r\n        let lastIndex = A.length-1;\r\n        let lastNumber = A[lastIndex];\r\n        A.unshift(lastNumber);\r\n        A.pop();\r\n    }\r\n    return A;\r\n}","title":"Rotation of the array means that each element is shifted right by one index, and the last element of the array is also moved to the first place","body":"<p>javascript | score: 100%</p>\n<p>function solution(A, K) {</p>\n<pre><code>for(let i=0 ; i&lt;K ; i++){\n    let lastIndex = A.length-1;\n    let lastNumber = A[lastIndex];\n    A.unshift(lastNumber);\n    A.pop();\n}\nreturn A;\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":26702104,"reputation":1,"user_id":20308980,"display_name":"mysteriousR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666511107,"creation_date":1666511107,"answer_id":74169437,"question_id":41392104,"body_markdown":"JAVA solution - \r\n\r\n    class Solution2 {\r\n    \tpublic int[] solution(int[] arr, int k) {\r\n    \t\tint temp;\r\n    \t\tint startindex = 0;\r\n    \t\tif (arr.length != 0) {\r\n    \t\t\tfor (int i = 1; i &lt;= k; i++) {\r\n    \t\t\t\ttemp = arr[arr.length - 1];\r\n    \t\t\t\tfor (int j = arr.length - 1; j &gt;= startindex; j--) {\r\n    \r\n    \t\t\t\t\tif (j != (startindex)) {\r\n    \t\t\t\t\t\tarr[j] = arr[j - 1];\r\n    \t\t\t\t\t} else\r\n    \t\t\t\t\t\tarr[startindex] = temp;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} else\r\n    \t\t\tSystem.out.println(&quot;This is empty array&quot;);\r\n    \t\treturn arr;\r\n    \t}\r\n    \r\n    }","title":"Rotation of the array means that each element is shifted right by one index, and the last element of the array is also moved to the first place","body":"<p>JAVA solution -</p>\n<pre><code>class Solution2 {\n    public int[] solution(int[] arr, int k) {\n        int temp;\n        int startindex = 0;\n        if (arr.length != 0) {\n            for (int i = 1; i &lt;= k; i++) {\n                temp = arr[arr.length - 1];\n                for (int j = arr.length - 1; j &gt;= startindex; j--) {\n\n                    if (j != (startindex)) {\n                        arr[j] = arr[j - 1];\n                    } else\n                        arr[startindex] = temp;\n                }\n            }\n        } else\n            System.out.println(&quot;This is empty array&quot;);\n        return arr;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4964366,"reputation":506,"user_id":3994253,"accept_rate":77,"display_name":"Dhaval Mistry"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9825,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":48381414,"answer_count":19,"score":-2,"last_activity_date":1666511107,"creation_date":1483081391,"question_id":41392104,"body_markdown":"For example, the rotation of `array A = [3, 8, 9, 7, 6] is [6, 3, 8, 9, 7]`. The goal is to rotate array A K times;\r\nthat is, each element of A will be shifted to the right by K indexes.\r\n\r\nFor example, given array `A = [3, 8, 9, 7, 6]` and `K = 3`, the function should return `[9, 7, 6, 3, 8]`.\r\n\r\nI want this in java.\r\nI have tried this.\r\n\r\n    public static int[] rotation(int[] a,int k) {\r\n\r\n        int[] newArray = new int[a.length];\r\n        for(int i = 0 ; i &lt; a.length ; i++) {\r\n            int newPosition = (i + k)%a.length;\r\n            newArray[newPosition] = a[i];\r\n        }\r\n        return newArray;\r\n    }","title":"Rotation of the array means that each element is shifted right by one index, and the last element of the array is also moved to the first place","body":"<p>For example, the rotation of <code>array A = [3, 8, 9, 7, 6] is [6, 3, 8, 9, 7]</code>. The goal is to rotate array A K times;\nthat is, each element of A will be shifted to the right by K indexes.</p>\n\n<p>For example, given array <code>A = [3, 8, 9, 7, 6]</code> and <code>K = 3</code>, the function should return <code>[9, 7, 6, 3, 8]</code>.</p>\n\n<p>I want this in java.\nI have tried this.</p>\n\n<pre><code>public static int[] rotation(int[] a,int k) {\n\n    int[] newArray = new int[a.length];\n    for(int i = 0 ; i &lt; a.length ; i++) {\n        int newPosition = (i + k)%a.length;\n        newArray[newPosition] = a[i];\n    }\n    return newArray;\n}\n</code></pre>\n"},{"tags":["java","sql","spring-boot","hibernate","parameters"],"comments":[{"owner":{"account_id":21706727,"reputation":1201,"user_id":16019058,"display_name":"Shmiel"},"score":0,"creation_date":1655917744,"post_id":72719399,"comment_id":128447746,"body_markdown":"The link you provided is a localhost link. So I hope you understand that it can&#39;t be seen by anyone.","body":"The link you provided is a localhost link. So I hope you understand that it can&#39;t be seen by anyone."},{"owner":{"account_id":24371492,"reputation":17,"user_id":18304378,"display_name":"RohanRider"},"score":0,"creation_date":1655929766,"post_id":72719399,"comment_id":128451508,"body_markdown":"Yes,that is the url that after after I put the params on postman. I wrote that for if I made a mistake there","body":"Yes,that is the url that after after I put the params on postman. I wrote that for if I made a mistake there"}],"answers":[{"tags":[],"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655918656,"creation_date":1655918340,"answer_id":72719589,"question_id":72719399,"body_markdown":"This is because by default, Spring cannot convert String parameters to any date or time object.\r\n\r\nUse this instead.\r\n\r\n`@RequestParam @DateTimeFormat(pattern= &quot;yyyy-MM-dd&quot;) Date startDate`","title":"Springboot date entity problem &quot;Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.util.Date&#39;","body":"<p>This is because by default, Spring cannot convert String parameters to any date or time object.</p>\n<p>Use this instead.</p>\n<p><code>@RequestParam @DateTimeFormat(pattern= &quot;yyyy-MM-dd&quot;) Date startDate</code></p>\n"},{"comments":[{"owner":{"account_id":24371492,"reputation":17,"user_id":18304378,"display_name":"RohanRider"},"score":0,"creation_date":1655929684,"post_id":72719694,"comment_id":128451486,"body_markdown":"With that I get this error &quot;org.postgresql.util.PSQLException: ERROR: could not determine data type of parameter $1&quot;","body":"With that I get this error &quot;org.postgresql.util.PSQLException: ERROR: could not determine data type of parameter $1&quot;"}],"tags":[],"owner":{"account_id":16033654,"reputation":31,"user_id":11571904,"display_name":"khoa junior"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655918898,"creation_date":1655918898,"answer_id":72719694,"question_id":72719399,"body_markdown":"problem is java convert string to date \r\nyou can try this \r\n\r\n    @GetMapping(path=&quot;/search&quot;)\r\n    public ResponseEntity&lt;List&lt;Employee&gt;&gt; searchEmployees(@RequestParam(&quot;startDate&quot;) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) Date startDate,\r\n                                                          @RequestParam(&quot;salary&quot;) Integer salary){\r\n        return ResponseEntity.ok(employeeService.searchEmployees(startDate,salary));\r\n    }","title":"Springboot date entity problem &quot;Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.util.Date&#39;","body":"<p>problem is java convert string to date\nyou can try this</p>\n<pre><code>@GetMapping(path=&quot;/search&quot;)\npublic ResponseEntity&lt;List&lt;Employee&gt;&gt; searchEmployees(@RequestParam(&quot;startDate&quot;) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) Date startDate,\n                                                      @RequestParam(&quot;salary&quot;) Integer salary){\n    return ResponseEntity.ok(employeeService.searchEmployees(startDate,salary));\n}\n</code></pre>\n"}],"owner":{"account_id":24371492,"reputation":17,"user_id":18304378,"display_name":"RohanRider"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7484,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666510206,"creation_date":1655917386,"question_id":72719399,"body_markdown":"When I tried to get with these url : http://www.localhost:8080/api/employee/search?startDate=2000-10-22&amp;salary=10000\r\n\r\nThis error message shows up : &quot;Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.util.Date&#39;; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@org.springframework.web.bind.annotation.RequestParam java.util.Date] for value &#39;2000-10-22&#39;; nested exception is java.lang.IllegalArgumentException&quot;\r\n\r\n\r\nParams : startDate = 2000-10-22 salary = 10000\r\n\r\nWhat is the problem here ?\r\n              \r\n\r\nEmployee Class :\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Data\r\n    @Builder\r\n    @Entity\r\n    @Table(name = &quot;employee&quot;)\r\n    public class Employee {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n    \r\n        @NotBlank\r\n        private String nationalId;\r\n    \r\n        @NotBlank\r\n        private String name;\r\n    \r\n        @NotBlank\r\n        private String surname;\r\n    \r\n        private Integer salary;\r\n    \r\n        @JoinColumn(name=&quot;start_date&quot;)\r\n        @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\r\n        private Date startDate;\r\n    \r\n        private String office;\r\n    \r\n        private String department;\r\n\r\nQuery in my repository :\r\n\r\n \r\n\r\n      @Query(&quot;Select e FROM Employee e  &quot; +\r\n                &quot;where &quot; +\r\n                &quot; (:startDate is NULL or e.startDate &gt; :startDate) &quot; +\r\n                &quot; AND &quot; +\r\n                &quot; (:salary is NULL or e.salary &gt; :salary) &quot;)\r\n        List&lt;Employee&gt; searchEmployees(Date startDate,Integer salary);\r\n\r\nServiceImpl:\r\n\r\n     @Override\r\n        public List&lt;Employee&gt; searchEmployees(Date startDate,Integer salary){\r\n            List &lt;Employee&gt; employees = employeeRepository.searchEmployees(startDate,salary);\r\n            return employees;\r\n        }\r\n\r\nController :\r\n\r\n    @GetMapping(path=&quot;/search&quot;)\r\n        public ResponseEntity&lt;List&lt;Employee&gt;&gt; searchEmployees(@RequestParam(&quot;startDate&quot;) Date startDate,\r\n                                                              @RequestParam(&quot;salary&quot;) Integer salary){\r\n            return ResponseEntity.ok(employeeService.searchEmployees(startDate,salary));\r\n        }","title":"Springboot date entity problem &quot;Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.util.Date&#39;","body":"<p>When I tried to get with these url : <a href=\"http://www.localhost:8080/api/employee/search?startDate=2000-10-22&amp;salary=10000\" rel=\"nofollow noreferrer\">http://www.localhost:8080/api/employee/search?startDate=2000-10-22&amp;salary=10000</a></p>\n<p>This error message shows up : &quot;Failed to convert value of type 'java.lang.String' to required type 'java.util.Date'; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@org.springframework.web.bind.annotation.RequestParam java.util.Date] for value '2000-10-22'; nested exception is java.lang.IllegalArgumentException&quot;</p>\n<p>Params : startDate = 2000-10-22 salary = 10000</p>\n<p>What is the problem here ?</p>\n<p>Employee Class :</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Builder\n@Entity\n@Table(name = &quot;employee&quot;)\npublic class Employee {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @NotBlank\n    private String nationalId;\n\n    @NotBlank\n    private String name;\n\n    @NotBlank\n    private String surname;\n\n    private Integer salary;\n\n    @JoinColumn(name=&quot;start_date&quot;)\n    @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\n    private Date startDate;\n\n    private String office;\n\n    private String department;\n</code></pre>\n<p>Query in my repository :</p>\n<pre><code>  @Query(&quot;Select e FROM Employee e  &quot; +\n            &quot;where &quot; +\n            &quot; (:startDate is NULL or e.startDate &gt; :startDate) &quot; +\n            &quot; AND &quot; +\n            &quot; (:salary is NULL or e.salary &gt; :salary) &quot;)\n    List&lt;Employee&gt; searchEmployees(Date startDate,Integer salary);\n</code></pre>\n<p>ServiceImpl:</p>\n<pre><code> @Override\n    public List&lt;Employee&gt; searchEmployees(Date startDate,Integer salary){\n        List &lt;Employee&gt; employees = employeeRepository.searchEmployees(startDate,salary);\n        return employees;\n    }\n</code></pre>\n<p>Controller :</p>\n<pre><code>@GetMapping(path=&quot;/search&quot;)\n    public ResponseEntity&lt;List&lt;Employee&gt;&gt; searchEmployees(@RequestParam(&quot;startDate&quot;) Date startDate,\n                                                          @RequestParam(&quot;salary&quot;) Integer salary){\n        return ResponseEntity.ok(employeeService.searchEmployees(startDate,salary));\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","oauth-2.0","spring-oauth2"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666510036,"creation_date":1666492557,"answer_id":74168315,"question_id":74168151,"body_markdown":"**Authorization-server** (what delivers tokens) is by definition server side, and so is **resource-server** (REST API secured with access control rules based on this access-tokens claims or introspected attributes), but this are usually separate services (served from different sockets / hosts).\r\n\r\nYou can use whatever OAuth2 authorization-server (or better, its OpenID specialization): \r\n- Spring authorization-server (but requires quite some coding)\r\n- a much more complete / mature solution you can deploy on your dev machine (like Keycloak)\r\n- even online solutions (like Auth0, Amazon Cognito, etc.)\r\n\r\nOnce, you have an authorization-server up and running, configure your Spring API as resource-server. Tutorials there: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\r\n\r\nLast use an OAuth2 client lib to handle redirection to and from authorization-server, exchange authorization-code for tokens (access, refresh and ID), etc. The lib(s) to use depend on your client framework(s): Spring has one for Spring clients (UI with Thymeleaf or REST robots or whatever), but there are also client libs for Angular, React, Vue, etc. ","title":"OAuth2 Authorization server with access token","body":"<p><strong>Authorization-server</strong> (what delivers tokens) is by definition server side, and so is <strong>resource-server</strong> (REST API secured with access control rules based on this access-tokens claims or introspected attributes), but this are usually separate services (served from different sockets / hosts).</p>\n<p>You can use whatever OAuth2 authorization-server (or better, its OpenID specialization):</p>\n<ul>\n<li>Spring authorization-server (but requires quite some coding)</li>\n<li>a much more complete / mature solution you can deploy on your dev machine (like Keycloak)</li>\n<li>even online solutions (like Auth0, Amazon Cognito, etc.)</li>\n</ul>\n<p>Once, you have an authorization-server up and running, configure your Spring API as resource-server. Tutorials there: <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials</a></p>\n<p>Last use an OAuth2 client lib to handle redirection to and from authorization-server, exchange authorization-code for tokens (access, refresh and ID), etc. The lib(s) to use depend on your client framework(s): Spring has one for Spring clients (UI with Thymeleaf or REST robots or whatever), but there are also client libs for Angular, React, Vue, etc.</p>\n"}],"owner":{"account_id":26494197,"reputation":3,"user_id":20132206,"display_name":"Suusus Ayayya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74168315,"answer_count":1,"score":0,"last_activity_date":1666510036,"creation_date":1666488562,"question_id":74168151,"body_markdown":"Is it possible for OAuth2 Authorization server side to generate access token that will be get by client side and then transfer it again to server to authorize? The main point is to generate access token OAuth2 Authorization server side.\r\n\r\nI watch some a lot tutorial like this [git hub repo][1] from Daily Code Buffer. This will work but i need access token from server side\r\n\r\n\r\n  [1]: https://github.com/shabbirdwd53/spring-security-tutorial/tree/main/Oauth-authorization-server/src/main/java/com/dailycodebuffer/oauthserver","title":"OAuth2 Authorization server with access token","body":"<p>Is it possible for OAuth2 Authorization server side to generate access token that will be get by client side and then transfer it again to server to authorize? The main point is to generate access token OAuth2 Authorization server side.</p>\n<p>I watch some a lot tutorial like this <a href=\"https://github.com/shabbirdwd53/spring-security-tutorial/tree/main/Oauth-authorization-server/src/main/java/com/dailycodebuffer/oauthserver\" rel=\"nofollow noreferrer\">git hub repo</a> from Daily Code Buffer. This will work but i need access token from server side</p>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":25182377,"reputation":5871,"user_id":19023745,"display_name":"z.g.y"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666506273,"creation_date":1666500383,"answer_id":74168709,"question_id":74168698,"body_markdown":"Instead of this,\r\n\r\n          \r\n    Button button = this.findViewById(R.id.SAVE);\r\n    TextView InputID = findViewById(R.id.textView);\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n               \r\n\r\nplease do this.\r\n\r\n     super.onCreate(savedInstanceState);\r\n     setContentView(R.layout.activity_main);\r\n     Button button = this.findViewById(R.id.SAVE);\r\n     TextView InputID = findViewById(R.id.textView);\r\n\r\n\r\nIn your code, you are setting `R.id.textView` and `R.id.SAVE` when your activity hasn&#39;t yet set its layout via `setContentView`, so when you call \r\n\r\n  \r\n    button.setOnClickListener{...}\r\nit will crash because there is no `button` reference yet and because there is no layout yet being set, hence `NullPointerException`\r\n\r\nFor now, keep these 4 lines in mind and in-order.\r\n\r\n&gt; - onCreate(Bundle savedInstanceState)\r\n&gt; - super.onCreate(savedInstanceState)\r\n&gt; - setContentView(R.layout.my_layout)\r\n&gt; - findViewByid(R.id.my_view)\r\n\r\nAnd to help you out further a little bit, when you encounter the dreadful `NullPointerException` or the so called `NPE`, don&#39;t panic, just look at the left side of the `.` operator and try to think why its `non-existent` when you are calling some of its `methods`","title":"FATAL EXCEPITON , android studio keeps crashing For a button ;","body":"<p>Instead of this,</p>\n<pre><code>Button button = this.findViewById(R.id.SAVE);\nTextView InputID = findViewById(R.id.textView);\nsuper.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_main);\n           \n</code></pre>\n<p>please do this.</p>\n<pre><code> super.onCreate(savedInstanceState);\n setContentView(R.layout.activity_main);\n Button button = this.findViewById(R.id.SAVE);\n TextView InputID = findViewById(R.id.textView);\n</code></pre>\n<p>In your code, you are setting <code>R.id.textView</code> and <code>R.id.SAVE</code> when your activity hasn't yet set its layout via <code>setContentView</code>, so when you call</p>\n<pre><code>button.setOnClickListener{...}\n</code></pre>\n<p>it will crash because there is no <code>button</code> reference yet and because there is no layout yet being set, hence <code>NullPointerException</code></p>\n<p>For now, keep these 4 lines in mind and in-order.</p>\n<blockquote>\n<ul>\n<li>onCreate(Bundle savedInstanceState)</li>\n<li>super.onCreate(savedInstanceState)</li>\n<li>setContentView(R.layout.my_layout)</li>\n<li>findViewByid(R.id.my_view)</li>\n</ul>\n</blockquote>\n<p>And to help you out further a little bit, when you encounter the dreadful <code>NullPointerException</code> or the so called <code>NPE</code>, don't panic, just look at the left side of the <code>.</code> operator and try to think why its <code>non-existent</code> when you are calling some of its <code>methods</code></p>\n"},{"tags":[],"owner":{"account_id":8574016,"reputation":143,"user_id":6423842,"accept_rate":90,"display_name":"Sangam Jung Gauli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666500983,"creation_date":1666500983,"answer_id":74168752,"question_id":74168698,"body_markdown":"Put your initialization after \r\n\r\n     super.onCreate(savedInstanceState);\r\n     setContentView(R.layout.activity_main);\r\n\r\ni.e. \r\n\r\n     super.onCreate(savedInstanceState);\r\n     setContentView(R.layout.activity_main);\r\n     Button button = this.findViewById(R.id.SAVE);\r\n     TextView InputID = findViewById(R.id.textView);\r\n     ","title":"FATAL EXCEPITON , android studio keeps crashing For a button ;","body":"<p>Put your initialization after</p>\n<pre><code> super.onCreate(savedInstanceState);\n setContentView(R.layout.activity_main);\n</code></pre>\n<p>i.e.</p>\n<pre><code> super.onCreate(savedInstanceState);\n setContentView(R.layout.activity_main);\n Button button = this.findViewById(R.id.SAVE);\n TextView InputID = findViewById(R.id.textView);\n \n</code></pre>\n"}],"owner":{"account_id":26233459,"reputation":33,"user_id":20312274,"display_name":"Divyansh undley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74168709,"answer_count":2,"score":1,"last_activity_date":1666506273,"creation_date":1666500201,"question_id":74168698,"body_markdown":"i have a button variable and is keeps crashing \r\n\r\nhere&#39;s MainActivity.java:\r\n\r\n    package com.example.datasaving;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            Button button = this.findViewById(R.id.SAVE);\r\n            TextView InputID = findViewById(R.id.textView);\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            button.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    String msg = InputID.getText().toString();\r\n                    Toast.makeText(MainActivity.this, &quot;&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n\r\nand Here&#39;s activity_main.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/SAVE&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/save&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;@string/enter_your_gmail&quot;\r\n            android:textColorHint=&quot;#757575&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/SAVE&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nnow it gives me an error saying :\r\n\r\n    FATAL EXCEPTION: main\r\n                                                                                                        Process: com.example.datasaving, PID: 6961\r\n                                                                                                        java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.datasaving/com.example.datasaving.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference\r\n                                                                                                        \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3921)\r\n                                                                                                        \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4078)\r\n                                                                                                        \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\r\n                                                                                                        \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n                                                                                                        \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n                                                                                                        \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2423)\r\n                                                                                                        \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n                                                                                                        \tat android.os.Looper.loopOnce(Looper.java:233)\r\n                                                                                                        \tat android.os.Looper.loop(Looper.java:334)\r\n                                                                                                        \tat android.app.ActivityThread.main(ActivityThread.java:8348)\r\n                                                                                                        \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                        \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:582)\r\n                                                                                                        \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1065)\r\n                                                                                                        Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference\r\n                                                                                                        \tat com.example.datasaving.MainActivity.onCreate(MainActivity.java:20)\r\n                                                                                                        \tat android.app.Activity.performCreate(Activity.java:8363)\r\n                                                                                                        \tat android.app.Activity.performCreate(Activity.java:8341)\r\n                                                                                                        \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1329)\r\n                                                                                                        \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3894)\r\n                                                                                                        \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4078)&#160;\r\n                                                                                                        \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)&#160;\r\n                                                                                                        \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n                                                                                                        \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n                                                                                                        \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2423)&#160;\r\n                                                                                                        \tat android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n                                                                                                        \tat android.os.Looper.loopOnce(Looper.java:233)&#160;\r\n                                                                                                        \tat android.os.Looper.loop(Looper.java:334)&#160;\r\n                                                                                                        \tat android.app.ActivityThread.main(ActivityThread.java:8348)&#160;\r\n                                                                                                        \tat java.lang.reflect.Method.invoke(Native Method)&#160;\r\n                                                                                                        \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:582)&#160;\r\n                                                                                                        \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1065)\r\n\r\n\r\nso this says that i have a null object but when i ctrl click that object it sends me back to The button what could be wrong am I doing something wrong or is it just the android studio???&#160;","title":"FATAL EXCEPITON , android studio keeps crashing For a button ;","body":"<p>i have a button variable and is keeps crashing</p>\n<p>here's MainActivity.java:</p>\n<pre><code>package com.example.datasaving;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        Button button = this.findViewById(R.id.SAVE);\n        TextView InputID = findViewById(R.id.textView);\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                String msg = InputID.getText().toString();\n                Toast.makeText(MainActivity.this, &quot;&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n}\n</code></pre>\n<p>and Here's activity_main.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/SAVE&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/save&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;@string/enter_your_gmail&quot;\n        android:textColorHint=&quot;#757575&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/SAVE&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>now it gives me an error saying :</p>\n<pre><code>FATAL EXCEPTION: main\n                                                                                                    Process: com.example.datasaving, PID: 6961\n                                                                                                    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.datasaving/com.example.datasaving.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\n                                                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3921)\n                                                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4078)\n                                                                                                        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\n                                                                                                        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n                                                                                                        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n                                                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2423)\n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:106)\n                                                                                                        at android.os.Looper.loopOnce(Looper.java:233)\n                                                                                                        at android.os.Looper.loop(Looper.java:334)\n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:8348)\n                                                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:582)\n                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1065)\n                                                                                                    Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\n                                                                                                        at com.example.datasaving.MainActivity.onCreate(MainActivity.java:20)\n                                                                                                        at android.app.Activity.performCreate(Activity.java:8363)\n                                                                                                        at android.app.Activity.performCreate(Activity.java:8341)\n                                                                                                        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1329)\n                                                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3894)\n                                                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4078) \n                                                                                                        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103) \n                                                                                                        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n                                                                                                        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n                                                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2423) \n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:106) \n                                                                                                        at android.os.Looper.loopOnce(Looper.java:233) \n                                                                                                        at android.os.Looper.loop(Looper.java:334) \n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:8348) \n                                                                                                        at java.lang.reflect.Method.invoke(Native Method) \n                                                                                                        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:582) \n                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1065)\n</code></pre>\n<p>so this says that i have a null object but when i ctrl click that object it sends me back to The button what could be wrong am I doing something wrong or is it just the android studio??? </p>\n"},{"tags":["java","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1666005467,"post_id":74092262,"comment_id":130824826,"body_markdown":"&quot;Not success&quot; is really hard to help with. When you set a breakpoint on each line of the code you shared, run in the debugger, and then check the value of each variable on each line: what is the first line that doesn&#39;t do what you expect it to do?","body":"&quot;Not success&quot; is really hard to help with. When you set a breakpoint on each line of the code you shared, run in the debugger, and then check the value of each variable on each line: what is the first line that doesn&#39;t do what you expect it to do?"}],"answers":[{"tags":[],"owner":{"account_id":26644375,"reputation":1,"user_id":20259505,"display_name":"TECH PATHAK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666506005,"creation_date":1666229616,"answer_id":74133551,"question_id":74092262,"body_markdown":"     \r\n\r\n&gt; Glad to know that now I have solved it by myself...\r\n\r\n        DocumentReference productsRef = firebaseFirestore.collection(&quot;report&quot;).document(userID)\r\n                .collection(&quot;year&quot;).document(userID2)\r\n                .collection(&quot;month&quot;).document(userID3);\r\n\r\n        Query query = productsRef.collection(&quot;report&quot;);\r\n\r\n        query.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    int sum = 0;\r\n                    for (QueryDocumentSnapshot document : task.getResult()) {\r\n                        String itemCost = document.getString(&quot;total&quot;);\r\n                        int total = Integer.parseInt(itemCost);\r\n                        sum = sum + total;\r\n                        dtotal.setText(String.valueOf(sum));\r\n\r\n\r\n                    }\r\n\r\n\r\n                }\r\n            }\r\n        });","title":"Calculate total from values stored in Firebase Firestore Database-Android","body":"<blockquote>\n<p>Glad to know that now I have solved it by myself...</p>\n</blockquote>\n<pre><code>    DocumentReference productsRef = firebaseFirestore.collection(&quot;report&quot;).document(userID)\n            .collection(&quot;year&quot;).document(userID2)\n            .collection(&quot;month&quot;).document(userID3);\n\n    Query query = productsRef.collection(&quot;report&quot;);\n\n    query.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n            if (task.isSuccessful()) {\n                int sum = 0;\n                for (QueryDocumentSnapshot document : task.getResult()) {\n                    String itemCost = document.getString(&quot;total&quot;);\n                    int total = Integer.parseInt(itemCost);\n                    sum = sum + total;\n                    dtotal.setText(String.valueOf(sum));\n\n\n                }\n\n\n            }\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":26644375,"reputation":1,"user_id":20259505,"display_name":"TECH PATHAK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74133551,"answer_count":1,"score":0,"last_activity_date":1666506005,"creation_date":1665976449,"question_id":74092262,"body_markdown":"I&#39;m trying to get total value of a collection fields from cloud Firestore database. Not success. Please help me.\r\n\r\n  \r\n\r\n    DocumentReference productsRef = firebaseFirestore\r\n            .collection(&quot;report&quot;).document(userID)\r\n            .collection(&quot;year&quot;).document(userID2)\r\n            .collection(&quot;month&quot;).document(userID3)\r\n            .collection(&quot;report&quot;).document();\r\n\r\n    productsRef.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n            if (task.isSuccessful()) {\r\n                double total = 0;\r\n                for (QueryDocumentSnapshot document : task.getResult()) {\r\n                    double itemCost = document.getDouble(&quot;total&quot;);\r\n                    total += itemCost;\r\n                }\r\n               // Log.d(&quot;TAG&quot;, String.valueOf(total));\r\n                dtotal.setText(String.valueOf(total));\r\n            }\r\n        }\r\n    });\r\n\r\n","title":"Calculate total from values stored in Firebase Firestore Database-Android","body":"<p>I'm trying to get total value of a collection fields from cloud Firestore database. Not success. Please help me.</p>\n<pre><code>DocumentReference productsRef = firebaseFirestore\n        .collection(&quot;report&quot;).document(userID)\n        .collection(&quot;year&quot;).document(userID2)\n        .collection(&quot;month&quot;).document(userID3)\n        .collection(&quot;report&quot;).document();\n\nproductsRef.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            double total = 0;\n            for (QueryDocumentSnapshot document : task.getResult()) {\n                double itemCost = document.getDouble(&quot;total&quot;);\n                total += itemCost;\n            }\n           // Log.d(&quot;TAG&quot;, String.valueOf(total));\n            dtotal.setText(String.valueOf(total));\n        }\n    }\n});\n</code></pre>\n"},{"tags":["java","interface","hashmap","key"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1666482550,"post_id":74167280,"comment_id":130948194,"body_markdown":"Can’t you just check the HashMap keys using `instanceof`?","body":"Can’t you just check the HashMap keys using <code>instanceof</code>?"}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666507969,"post_id":74169001,"comment_id":130950625,"body_markdown":"Furthermore, in Java 16+, that `instanceof` test can also perform a cast implicitly. See [*JEP 394: Pattern Matching for `instanceof`*](https://openjdk.org/jeps/394). Example: `if ( key instanceof Sword sword ) { … use sword var here … }`","body":"Furthermore, in Java 16+, that <code>instanceof</code> test can also perform a cast implicitly. See <a href=\"https://openjdk.org/jeps/394\" rel=\"nofollow noreferrer\"><i>JEP 394: Pattern Matching for <code>instanceof</code></i></a>. Example: <code>if ( key instanceof Sword sword ) { … use sword var here … }</code>"}],"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666505074,"creation_date":1666505074,"answer_id":74169001,"question_id":74167280,"body_markdown":"`HashMap`s use the `hashCode` method of its key. `Item.class.hashCode()` is different from `Sword.class.hashCode()`. So no, it is not possible to achieve constant-time, O(1) lookup. Perhaps you need to change your design.\r\n\r\nThe only way I can think of to check if your map contains a `Sword` as key is to use a loop:\r\n\r\n```\r\nfor (final Item key : map.keySet()) {\r\n  if (key instanceof Sword) {\r\n    // your map contains a sword\r\n  }\r\n}\r\n```","title":"Getting the sub-classes of an interface","body":"<p><code>HashMap</code>s use the <code>hashCode</code> method of its key. <code>Item.class.hashCode()</code> is different from <code>Sword.class.hashCode()</code>. So no, it is not possible to achieve constant-time, O(1) lookup. Perhaps you need to change your design.</p>\n<p>The only way I can think of to check if your map contains a <code>Sword</code> as key is to use a loop:</p>\n<pre><code>for (final Item key : map.keySet()) {\n  if (key instanceof Sword) {\n    // your map contains a sword\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":24769665,"reputation":15,"user_id":18653390,"display_name":"nellyjelly56"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74169001,"answer_count":1,"score":0,"last_activity_date":1666505074,"creation_date":1666474795,"question_id":74167280,"body_markdown":"I am working on a project in Java, and we have a HashMap that is made up of an interface and integer, (HashMap&lt;Item, Integer&gt;()), and now I need to check that hashmap for a specific class that implements the interface. Specifically, I need to see if the &quot;inventory&quot; hashmap holds a sword (which is a class that implements Item) and if the inventory does have a Sword then it can carry out a specific method. Is there a way to return the specific class that implements my item interface?","title":"Getting the sub-classes of an interface","body":"<p>I am working on a project in Java, and we have a HashMap that is made up of an interface and integer, (HashMap&lt;Item, Integer&gt;()), and now I need to check that hashmap for a specific class that implements the interface. Specifically, I need to see if the &quot;inventory&quot; hashmap holds a sword (which is a class that implements Item) and if the inventory does have a Sword then it can carry out a specific method. Is there a way to return the specific class that implements my item interface?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666504521,"post_id":74168949,"comment_id":130950221,"body_markdown":"Have you tried changing the file name back?","body":"Have you tried changing the file name back?"},{"owner":{"account_id":14021967,"reputation":1036,"user_id":10127980,"display_name":"Akanksha_p"},"score":0,"creation_date":1666504944,"post_id":74168949,"comment_id":130950268,"body_markdown":"Yes, changing the file name back helps. It doesn&#39;t throw error then. However, there are multiple files in the project and all class&#39; file name is lower cased. For simplicity, I gave one example in the question.","body":"Yes, changing the file name back helps. It doesn&#39;t throw error then. However, there are multiple files in the project and all class&#39; file name is lower cased. For simplicity, I gave one example in the question."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1666505168,"post_id":74168949,"comment_id":130950300,"body_markdown":"I would be really surprised if IntelliJ were doing this. Are you sure that it is IntelliJ and not something else? What&#39;s your operating system? Your file system? Do you have AV scanners installed? How do you build the project? Does the same also happen when you build via maven?","body":"I would be really surprised if IntelliJ were doing this. Are you sure that it is IntelliJ and not something else? What&#39;s your operating system? Your file system? Do you have AV scanners installed? How do you build the project? Does the same also happen when you build via maven?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1666506680,"post_id":74168949,"comment_id":130950472,"body_markdown":"Can you reproduce this issue?","body":"Can you reproduce this issue?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1666507186,"post_id":74168949,"comment_id":130950533,"body_markdown":"Sounds like it might be this: https://www.hanselman.com/blog/git-is-casesensitive-and-your-filesystem-may-not-be-weird-folder-merging-on-windows.  The problem would be that someone someone somewhere has done `git config --global core.ignorecase true` ... which you shouldn&#39;t do if you are working on Java projects.","body":"Sounds like it might be this: <a href=\"https://www.hanselman.com/blog/git-is-casesensitive-and-your-filesystem-may-not-be-weird-folder-merging-on-windows\" rel=\"nofollow noreferrer\">hanselman.com/blog/&hellip;</a>.  The problem would be that someone someone somewhere has done <code>git config --global core.ignorecase true</code> ... which you shouldn&#39;t do if you are working on Java projects."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1666536164,"post_id":74168949,"comment_id":130955436,"body_markdown":"Are you sure you didn&#39;t initially name it `commoncontroller` and then renamed it? Case insensitive file systems (the default mode for example for Windows&#39; NTFS) sometimes consider renaming a file `commoncontroller.java` to `CommonController.java` a no-op and does nothing. Try renaming to a different intermediate file name.","body":"Are you sure you didn&#39;t initially name it <code>commoncontroller</code> and then renamed it? Case insensitive file systems (the default mode for example for Windows&#39; NTFS) sometimes consider renaming a file <code>commoncontroller.java</code> to <code>CommonController.java</code> a no-op and does nothing. Try renaming to a different intermediate file name."},{"owner":{"account_id":14021967,"reputation":1036,"user_id":10127980,"display_name":"Akanksha_p"},"score":0,"creation_date":1666589488,"post_id":74168949,"comment_id":130964416,"body_markdown":"@knittl, OS is windows. How i open the porject and run it is by importing the pom.xml file into IntelliJ and run either clicking &quot;Run&quot; button which eventually triggers the build first and another option i tried is ```mvn clean install```. Both ways I get my class file name changed","body":"@knittl, OS is windows. How i open the porject and run it is by importing the pom.xml file into IntelliJ and run either clicking &quot;Run&quot; button which eventually triggers the build first and another option i tried is <code>mvn clean install</code>. Both ways I get my class file name changed"},{"owner":{"account_id":14021967,"reputation":1036,"user_id":10127980,"display_name":"Akanksha_p"},"score":0,"creation_date":1666589644,"post_id":74168949,"comment_id":130964452,"body_markdown":"@StephenC, thanks for the suggestion. I tried that and it solved the problem.","body":"@StephenC, thanks for the suggestion. I tried that and it solved the problem."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1666594473,"post_id":74168949,"comment_id":130965331,"body_markdown":"@Akanksha_p and the file names are correct _before_ running the build? That&#39;s odd. And doesn&#39;t make any sense if the blog linked by Stephen was the solution.","body":"@Akanksha_p and the file names are correct <i>before</i> running the build? That&#39;s odd. And doesn&#39;t make any sense if the blog linked by Stephen was the solution."}],"owner":{"account_id":14021967,"reputation":1036,"user_id":10127980,"display_name":"Akanksha_p"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666505011,"creation_date":1666504264,"question_id":74168949,"body_markdown":"I cloned a maven project from git and this was the initial class structure under the src folder:\r\n```\r\n src\r\n  |-main\r\n    |- java\r\n       |-com.controller\r\n         |- CommonController.java\r\n```\r\nNow, when I build this project, I don&#39;t understand how but the file name in which class is defined, changed to lower case and the folder structure is changing to below:\r\n```\r\n src\r\n  |-main\r\n    |- java\r\n       |-com.controller\r\n         |-commoncontroller.java\r\n            |- CommonController\r\n```\r\nand then IntelliJ throws this error since the file name has got changed: \r\n```java: class CommonController is public, should be declared in a file named CommonController.java```\r\n\r\nI searched a lot to find what is causing this but could not find any valid reason.\r\n\r\nFor other folks, this is not the case. So, I&#39;m suspecting it&#39;s IntelliJ settings. Also, this issue is not for one codebase, I&#39;m facing this problem with other projects as well. So thought to get it&#39;s root cause and fix it permanently.\r\n","title":"IntelliJ is converting file name to lower case and build is failing","body":"<p>I cloned a maven project from git and this was the initial class structure under the src folder:</p>\n<pre><code> src\n  |-main\n    |- java\n       |-com.controller\n         |- CommonController.java\n</code></pre>\n<p>Now, when I build this project, I don't understand how but the file name in which class is defined, changed to lower case and the folder structure is changing to below:</p>\n<pre><code> src\n  |-main\n    |- java\n       |-com.controller\n         |-commoncontroller.java\n            |- CommonController\n</code></pre>\n<p>and then IntelliJ throws this error since the file name has got changed:\n<code>java: class CommonController is public, should be declared in a file named CommonController.java</code></p>\n<p>I searched a lot to find what is causing this but could not find any valid reason.</p>\n<p>For other folks, this is not the case. So, I'm suspecting it's IntelliJ settings. Also, this issue is not for one codebase, I'm facing this problem with other projects as well. So thought to get it's root cause and fix it permanently.</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":138557,"reputation":42623,"user_id":343568,"accept_rate":100,"display_name":"nicholas.hauschild"},"score":0,"creation_date":1305175058,"post_id":5973016,"comment_id":6892766,"body_markdown":"I wanted to indicate where the mistake was made.  Thanks!","body":"I wanted to indicate where the mistake was made.  Thanks!"},{"owner":{"account_id":145320,"reputation":6254,"user_id":355039,"accept_rate":86,"display_name":"Shawn Lauzon"},"score":1,"creation_date":1305300168,"post_id":5973016,"comment_id":6922162,"body_markdown":"I should have mentioned that your solution definitely works and does better show where the error was, whereas I wanted to indicate the best way to check if an EditText is empty. Clearly they&#39;re both correct answers.","body":"I should have mentioned that your solution definitely works and does better show where the error was, whereas I wanted to indicate the best way to check if an EditText is empty. Clearly they&#39;re both correct answers."}],"tags":[],"owner":{"account_id":138557,"reputation":42623,"user_id":343568,"accept_rate":100,"display_name":"nicholas.hauschild"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1305173752,"creation_date":1305171098,"answer_id":5973016,"question_id":5973000,"body_markdown":"Assuming &#39;name&#39; is the EditText in question, your if statement should read something like this:\r\n\r\n    if((&quot;&quot;).equals(name.getText().toString()))\r\n\r\nPerforming an Object.equals(Object) between a String and an EditText (at least currently!) will not return true.","title":"How to change background color of editText?","body":"<p>Assuming 'name' is the EditText in question, your if statement should read something like this:</p>\n\n<pre><code>if((\"\").equals(name.getText().toString()))\n</code></pre>\n\n<p>Performing an Object.equals(Object) between a String and an EditText (at least currently!) will not return true.</p>\n"},{"comments":[{"owner":{"account_id":145320,"reputation":6254,"user_id":355039,"accept_rate":86,"display_name":"Shawn Lauzon"},"score":0,"creation_date":1305300248,"post_id":5973085,"comment_id":6922185,"body_markdown":"@artist Glad to hear it. Please mark the accept the answer which you choice (the checkbox outline to the left). Thanks!","body":"@artist Glad to hear it. Please mark the accept the answer which you choice (the checkbox outline to the left). Thanks!"}],"tags":[],"owner":{"account_id":145320,"reputation":6254,"user_id":355039,"accept_rate":86,"display_name":"Shawn Lauzon"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1305171997,"creation_date":1305171997,"answer_id":5973085,"question_id":5973000,"body_markdown":"The easiest way is to check the length:\r\n\r\n    if (name.length() == 0) {\r\n        name.setBackgroundColor(Color.RED);\r\n    }\r\n\r\n","title":"How to change background color of editText?","body":"<p>The easiest way is to check the length:</p>\n\n<pre><code>if (name.length() == 0) {\n    name.setBackgroundColor(Color.RED);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1068297,"reputation":633,"user_id":1068222,"accept_rate":33,"display_name":"y434y"},"score":0,"creation_date":1666366139,"post_id":74109477,"comment_id":130927450,"body_markdown":"*name* is instance of *EditText*, so it does not contain *isEmpty* method.","body":"<i>name</i> is instance of <i>EditText</i>, so it does not contain <i>isEmpty</i> method."},{"owner":{"account_id":7556512,"reputation":47,"user_id":5735923,"display_name":"Ayesha Anika"},"score":0,"creation_date":1666504823,"post_id":74109477,"comment_id":130950257,"body_markdown":"that was my mistake.  It is edited now.","body":"that was my mistake.  It is edited now."}],"tags":[],"owner":{"account_id":7556512,"reputation":47,"user_id":5735923,"display_name":"Ayesha Anika"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666504769,"creation_date":1666089057,"answer_id":74109477,"question_id":5973000,"body_markdown":"    String name = nameedittext.getText().toString();\r\n\r\n    if(name.isEmpty()){\r\n        nameedittext.setBackgroundColor(Color.RED);\r\n    }\r\n\r\nIf you want to give a error message too then you can write this:\r\n\r\n    if(name.isEmpty()){\r\n        nameedittext.setBackgroundColor(Color.RED);\r\n        nameedittext.setError(&quot;Please Enter Name&quot;);\r\n        return;\r\n    }","title":"How to change background color of editText?","body":"<pre><code>String name = nameedittext.getText().toString();\n\nif(name.isEmpty()){\n    nameedittext.setBackgroundColor(Color.RED);\n}\n</code></pre>\n<p>If you want to give a error message too then you can write this:</p>\n<pre><code>if(name.isEmpty()){\n    nameedittext.setBackgroundColor(Color.RED);\n    nameedittext.setError(&quot;Please Enter Name&quot;);\n    return;\n}\n</code></pre>\n"}],"owner":{"account_id":332043,"reputation":6301,"user_id":657094,"accept_rate":83,"display_name":"artist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11739,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":5973085,"answer_count":3,"score":2,"last_activity_date":1666504769,"creation_date":1305170906,"question_id":5973000,"body_markdown":"I need to change background color of `EditText` if it is empty.\r\nBelow is my code but doesn&#39;t seem to be working.\r\n\r\n    public void onClick(View v) {\r\n        // TODO Auto-generated method stub            \r\n        Change();    \r\n    }\r\n\r\n    public void Change() {\r\n        if((&quot;&quot;).equals(name)) {\r\n            name.setBackgroundColor(Color.RED);\r\n            return;\r\n        }\r\n    }","title":"How to change background color of editText?","body":"<p>I need to change background color of <code>EditText</code> if it is empty.\nBelow is my code but doesn't seem to be working.</p>\n\n<pre><code>public void onClick(View v) {\n    // TODO Auto-generated method stub            \n    Change();    \n}\n\npublic void Change() {\n    if((\"\").equals(name)) {\n        name.setBackgroundColor(Color.RED);\n        return;\n    }\n}\n</code></pre>\n"},{"tags":["java","generics"],"answers":[{"tags":[],"owner":{"account_id":13575931,"reputation":11,"user_id":19592205,"display_name":"Жорж Парадокс"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666504499,"creation_date":1666504499,"answer_id":74168959,"question_id":74165633,"body_markdown":"Solution\r\n\r\n    public static &lt;T&gt; void process(Set&lt;ConstraintViolation&lt;T&gt;&gt; validates) {\r\n    ...\r\n    }\r\n\r\n","title":"Creating a method with a Set collection argument that contains objects that are typed","body":"<p>Solution</p>\n<pre><code>public static &lt;T&gt; void process(Set&lt;ConstraintViolation&lt;T&gt;&gt; validates) {\n...\n}\n</code></pre>\n"}],"owner":{"account_id":13575931,"reputation":11,"user_id":19592205,"display_name":"Жорж Парадокс"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":1,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74168959,"answer_count":1,"score":1,"last_activity_date":1666504499,"creation_date":1666459506,"question_id":74165633,"body_markdown":"I need to transform the validation results of the form, which are represented by the `java.util.Set&lt;javax.validation.ConstraintViolation&lt;dox.web.dto.RegisterFormDTO&gt;&gt;`, where `dox.web.dto.RegisterFormDTO` is one of my forms that requires validation. For this I have created some method\r\n\r\n    public static void process(Set&lt;ConstraintViolation&lt;RegisterFormDTO&gt;&gt; validates) {\r\n      ...\r\n    }\r\n\r\nwhich, in fact, produces transformations. But, the problem is that besides `RegisterFormDTO`, I have many other different forms, and I would like to make one universal method that would transform validation results for all of them, especially since working with the form itself inside the method is not implied. The forms themselves do not extends from any other class, that is, just Object, and it would be logical to do so:\r\n\r\n    public static void process(Set&lt;ConstraintViolation&lt;Object&gt;&gt; validates) {\r\n      ...\r\n    }\r\n\r\nbut, for some reason, it does not roll, it returns an error: `java: incompatible types: java.util.Set&lt;javax.validation.ConstraintViolation&lt;dox.web.dto.RegisterFormDTO&gt;&gt; cannot be converted to java.util.Set&lt;javax.validation.ConstraintViolation&lt;java.lang.Object&gt;&gt;`. I have already tried and so `Set&lt;ConstraintViolation&lt;? extends Object&gt;&gt;`, which is the same, and so `Set&lt;ConstraintViolation&lt;? super Object&gt;&gt;`. All this is not rolling. As a result, it turns out that I create the same method for each form, differing only in the type in the method argument. \r\nCan someone tell me how to make the method universal for all forms?","title":"Creating a method with a Set collection argument that contains objects that are typed","body":"<p>I need to transform the validation results of the form, which are represented by the <code>java.util.Set&lt;javax.validation.ConstraintViolation&lt;dox.web.dto.RegisterFormDTO&gt;&gt;</code>, where <code>dox.web.dto.RegisterFormDTO</code> is one of my forms that requires validation. For this I have created some method</p>\n<pre><code>public static void process(Set&lt;ConstraintViolation&lt;RegisterFormDTO&gt;&gt; validates) {\n  ...\n}\n</code></pre>\n<p>which, in fact, produces transformations. But, the problem is that besides <code>RegisterFormDTO</code>, I have many other different forms, and I would like to make one universal method that would transform validation results for all of them, especially since working with the form itself inside the method is not implied. The forms themselves do not extends from any other class, that is, just Object, and it would be logical to do so:</p>\n<pre><code>public static void process(Set&lt;ConstraintViolation&lt;Object&gt;&gt; validates) {\n  ...\n}\n</code></pre>\n<p>but, for some reason, it does not roll, it returns an error: <code>java: incompatible types: java.util.Set&lt;javax.validation.ConstraintViolation&lt;dox.web.dto.RegisterFormDTO&gt;&gt; cannot be converted to java.util.Set&lt;javax.validation.ConstraintViolation&lt;java.lang.Object&gt;&gt;</code>. I have already tried and so <code>Set&lt;ConstraintViolation&lt;? extends Object&gt;&gt;</code>, which is the same, and so <code>Set&lt;ConstraintViolation&lt;? super Object&gt;&gt;</code>. All this is not rolling. As a result, it turns out that I create the same method for each form, differing only in the type in the method argument.\nCan someone tell me how to make the method universal for all forms?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2020478,"reputation":30439,"user_id":1806780,"accept_rate":0,"display_name":"Sami Kuhmonen"},"score":2,"creation_date":1659373339,"post_id":73197170,"comment_id":129274278,"body_markdown":"There’s no null pointer exception. The exception explains what’s wrong","body":"There’s no null pointer exception. The exception explains what’s wrong"},{"owner":{"account_id":9821606,"reputation":113,"user_id":7276125,"display_name":"Geri Drem&#225;k"},"score":0,"creation_date":1659373512,"post_id":73197170,"comment_id":129274339,"body_markdown":"(just to make things even simpler: org.sqlite.JDBC not found)","body":"(just to make things even simpler: org.sqlite.JDBC not found)"},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1659373839,"post_id":73197170,"comment_id":129274435,"body_markdown":"Are you sure that you&#39;re including your external dependencies to your launcher as well? Some buzzword could be the difference between slim and fat jar.","body":"Are you sure that you&#39;re including your external dependencies to your launcher as well? Some buzzword could be the difference between slim and fat jar."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":3,"creation_date":1659375656,"post_id":73197170,"comment_id":129275001,"body_markdown":"The `NullPointerException` is merely a side effect of you ignoring the `ClassNotFoundException` and `SQLException` which occurred during startup.  Your application is not addressing these critical exceptions which prevents it from starting up properly.  If you cannot recover from an Exception then you should either percolate it for someone else to handle or terminate processing.\n\nResolve why the `ClassNotFoundException` is occurring and the `SQLException` and `NullPointerException` will likely go away.","body":"The <code>NullPointerException</code> is merely a side effect of you ignoring the <code>ClassNotFoundException</code> and <code>SQLException</code> which occurred during startup.  Your application is not addressing these critical exceptions which prevents it from starting up properly.  If you cannot recover from an Exception then you should either percolate it for someone else to handle or terminate processing.  Resolve why the <code>ClassNotFoundException</code> is occurring and the <code>SQLException</code> and <code>NullPointerException</code> will likely go away."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1659393598,"post_id":73197170,"comment_id":129279753,"body_markdown":"**DO NOT IGNORE EXCEPTIONS.** If DriverManager.getConnection fails, **do not continue.**  Your program **cannot function properly** without a database connection, so the correct thing to do if you encounter an SQLException is **terminate your program.**  The best way to do this is to remove all try/catch statements from the Connecteur class, and add `throws SQLException` to the Connecteur constructor.  Class.forName is not needed, so you can remove that line entirely.","body":"<b>DO NOT IGNORE EXCEPTIONS.</b> If DriverManager.getConnection fails, <b>do not continue.</b>  Your program <b>cannot function properly</b> without a database connection, so the correct thing to do if you encounter an SQLException is <b>terminate your program.</b>  The best way to do this is to remove all try/catch statements from the Connecteur class, and add <code>throws SQLException</code> to the Connecteur constructor.  Class.forName is not needed, so you can remove that line entirely."},{"owner":{"account_id":25931022,"reputation":1,"user_id":19652093,"display_name":"h81 edrick"},"score":0,"creation_date":1659429578,"post_id":73197170,"comment_id":129286785,"body_markdown":"I followed your advice concerning throws and blocks try and I have an exception which says that the connection variable is null and yet it should not since in the class connector I returned con=DriverManager.getConnection(&quot;jdbc: sqlite:C:\\\\DataBase\\\\IPM.db&quot;)","body":"I followed your advice concerning throws and blocks try and I have an exception which says that the connection variable is null and yet it should not since in the class connector I returned con=DriverManager.getConnection(&quot;jdbc: sqlite:C:\\\\DataBase\\\\IPM.db&quot;)"}],"answers":[{"tags":[],"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659375682,"creation_date":1659375682,"answer_id":73197593,"question_id":73197170,"body_markdown":"```\r\njava.lang.ClassNotFoundException: org.sqlite.JDBC\r\n    java.sql.SQLException: No suitable driver found for jdbc:sqlite:C:\\DataBase\\IPM.db\r\n```\r\n\r\nYou didn’t package the jdbc driver you use.  ","title":"NullPointerException source not found","body":"<pre><code>java.lang.ClassNotFoundException: org.sqlite.JDBC\n    java.sql.SQLException: No suitable driver found for jdbc:sqlite:C:\\DataBase\\IPM.db\n</code></pre>\n<p>You didn’t package the jdbc driver you use.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1665950921,"post_id":74042511,"comment_id":130813969,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74042511/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25931022,"reputation":1,"user_id":19652093,"display_name":"h81 edrick"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666503242,"creation_date":1665580649,"answer_id":74042511,"question_id":73197170,"body_markdown":"I finally solved the NPE problem. I forgot to instantiate my statement variable. `this.connexion = new Connecteur();`","title":"NullPointerException source not found","body":"<p>I finally solved the NPE problem. I forgot to instantiate my statement variable. <code>this.connexion = new Connecteur();</code></p>\n"}],"owner":{"account_id":25931022,"reputation":1,"user_id":19652093,"display_name":"h81 edrick"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74042511,"answer_count":2,"score":0,"last_activity_date":1666503242,"creation_date":1659373206,"question_id":73197170,"body_markdown":"I have already posted the same problem twice with two different questions since according to the comments it was not clear enough or moreover complete in terms of information so I modified the first one and here it is.\r\n\r\nMy application works well in netbeans, it does not report any errors. but after creating an installer (with launch4j and innoSetup), the application reports a NullPointerException whose source I don&#39;t know. need help please. Thank you\r\n\r\nHere is a snippet of my code: \r\n\r\n    import java.awt.HeadlessException;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    import javax.swing.JOptionPane;\r\n    \r\n    \r\n    public class Login extends javax.swing.JFrame {\r\n        Connecteur connexion = new Connecteur();\r\n        Statement stm;\r\n        ResultSet resultat;\r\n        public static String Id =&quot;&quot;;\r\n        \r\n        public Login() {\r\n            initComponents();\r\n        }\r\n    \r\n       \r\n                              \r\n    \r\n        private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n            \r\n            \r\n            try {\r\n       (here)stm =connexion.obtenirconnexion().createStatement();\r\n                System.out.println(stm);\r\n                ResultSet resultat = stm.executeQuery(&quot;select * from Techniciens where UserName =&#39;&quot;+UserName.getText().toString()+&quot;&#39;&quot;);\r\n                \r\n                Id = resultat.getString(&quot;IdTech&quot;);\r\n                \r\n                if ((resultat.getString(&quot;UserName&quot;).equals(UserName.getText().toString())) &amp;&amp; (resultat.getString(&quot;Password&quot;).equals(Password.getText().toString()))){\r\n                \r\n                Principale P = new Principale();\r\n                P.setVisible(true);\r\n                this.hide();\r\n                }\r\n       \r\n                \r\n            } catch (HeadlessException | SQLException e) {\r\n                JOptionPane.showMessageDialog(null, &quot;Compte invalide&quot;);\r\n                \r\n            }\r\n            finally{\r\n                try{\r\n                    stm.close();\r\n                }catch(Exception e){\r\n                    JOptionPane.showMessageDialog(null, e);\r\n                }\r\n            } \r\n    \r\n            \r\n        }\r\n    \r\nclass conneteur: \r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n    \r\n    \r\n    public class Connecteur {\r\n        Connection con ;\r\n        public Connecteur(){\r\n            try{\r\n                \r\n              Class.forName(&quot;org.sqlite.JDBC&quot;);\r\n            }catch(ClassNotFoundException e){\r\n               System.err.println(e);\r\n              //message d&#39;erreur\r\n            }\r\n            try{\r\n              con = DriverManager.getConnection(&quot;jdbc:sqlite:C:\\\\DataBase\\\\IPM.db&quot;);\r\n                System.out.println(&quot;connected&quot;);\r\n                \r\n            }catch(SQLException e){\r\n                System.err.println(e);\r\n                \r\n            }\r\n        }\r\n        Connection obtenirconnexion(){return con;}\r\n    }\r\n    \r\n    \r\nexception:\r\n    \r\n    \r\n\r\n    Microsoft Windows [Version 10.0.19042.1288]\r\n        (c) Microsoft Corporation. All rights reserved.\r\n    \r\n        C:\\Users\\Zouzou&gt;cd desktop\r\n    \r\n        C:\\Users\\Zouzou\\Desktop&gt;java -jar &quot;Logiciel_IPM.jar&quot;\r\n        java.lang.ClassNotFoundException: org.sqlite.JDBC\r\n        java.sql.SQLException: No suitable driver found for jdbc:sqlite:C:\\DataBase\\IPM.db\r\n        Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\r\n            at logiciel_ipm.Login.jButton1ActionPerformed(Login.java:98)\r\n            at logiciel_ipm.Login.access$000(Login.java:11)\r\n            at logiciel_ipm.Login$1.actionPerformed(Login.java:49)\r\n            at javax.swing.AbstractButton.fireActionPerformed(Unknown Source)\r\n            at javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)\r\n            at javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)\r\n            at javax.swing.DefaultButtonModel.setPressed(Unknown Source)\r\n            at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(Unknown Source)\r\n            at java.awt.Component.processMouseEvent(Unknown Source)\r\n            at javax.swing.JComponent.processMouseEvent(Unknown Source)\r\n            at java.awt.Component.processEvent(Unknown Source)\r\n            at java.awt.Container.processEvent(Unknown Source)\r\n            at java.awt.Component.dispatchEventImpl(Unknown Source)\r\n            at java.awt.Container.dispatchEventImpl(Unknown Source)\r\n            at java.awt.Component.dispatchEvent(Unknown Source)\r\n            at java.awt.LightweightDispatcher.retargetMouseEvent(Unknown Source)\r\n            at java.awt.LightweightDispatcher.processMouseEvent(Unknown Source)\r\n            at java.awt.LightweightDispatcher.dispatchEvent(Unknown Source)\r\n            at java.awt.Container.dispatchEventImpl(Unknown Source)\r\n            at java.awt.Window.dispatchEventImpl(Unknown Source)\r\n            at java.awt.Component.dispatchEvent(Unknown Source)\r\n            at java.awt.EventQueue.dispatchEventImpl(Unknown Source)\r\n            at java.awt.EventQueue.access$500(Unknown Source)\r\n            at java.awt.EventQueue$3.run(Unknown Source)\r\n            at java.awt.EventQueue$3.run(Unknown Source)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown \r\n            Source)\r\n            at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown \r\n            Source)\r\n            at java.awt.EventQueue$4.run(Unknown Source)\r\n            at java.awt.EventQueue$4.run(Unknown Source)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown \r\n            Source)\r\n            at java.awt.EventQueue.dispatchEvent(Unknown Source)\r\n            at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\r\n            at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\r\n            at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\r\n            at java.awt.EventDispatchThread.pumpEvents(Unknown Source)\r\n            at java.awt.EventDispatchThread.pumpEvents(Unknown Source)\r\n            at java.awt.EventDispatchThread.run(Unknown Source)\r\n\r\n","title":"NullPointerException source not found","body":"<p>I have already posted the same problem twice with two different questions since according to the comments it was not clear enough or moreover complete in terms of information so I modified the first one and here it is.</p>\n<p>My application works well in netbeans, it does not report any errors. but after creating an installer (with launch4j and innoSetup), the application reports a NullPointerException whose source I don't know. need help please. Thank you</p>\n<p>Here is a snippet of my code:</p>\n<pre><code>import java.awt.HeadlessException;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport javax.swing.JOptionPane;\n\n\npublic class Login extends javax.swing.JFrame {\n    Connecteur connexion = new Connecteur();\n    Statement stm;\n    ResultSet resultat;\n    public static String Id =&quot;&quot;;\n    \n    public Login() {\n        initComponents();\n    }\n\n   \n                          \n\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        \n        \n        try {\n   (here)stm =connexion.obtenirconnexion().createStatement();\n            System.out.println(stm);\n            ResultSet resultat = stm.executeQuery(&quot;select * from Techniciens where UserName ='&quot;+UserName.getText().toString()+&quot;'&quot;);\n            \n            Id = resultat.getString(&quot;IdTech&quot;);\n            \n            if ((resultat.getString(&quot;UserName&quot;).equals(UserName.getText().toString())) &amp;&amp; (resultat.getString(&quot;Password&quot;).equals(Password.getText().toString()))){\n            \n            Principale P = new Principale();\n            P.setVisible(true);\n            this.hide();\n            }\n   \n            \n        } catch (HeadlessException | SQLException e) {\n            JOptionPane.showMessageDialog(null, &quot;Compte invalide&quot;);\n            \n        }\n        finally{\n            try{\n                stm.close();\n            }catch(Exception e){\n                JOptionPane.showMessageDialog(null, e);\n            }\n        } \n\n        \n    }\n</code></pre>\n<p>class conneteur:</p>\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\n\n\npublic class Connecteur {\n    Connection con ;\n    public Connecteur(){\n        try{\n            \n          Class.forName(&quot;org.sqlite.JDBC&quot;);\n        }catch(ClassNotFoundException e){\n           System.err.println(e);\n          //message d'erreur\n        }\n        try{\n          con = DriverManager.getConnection(&quot;jdbc:sqlite:C:\\\\DataBase\\\\IPM.db&quot;);\n            System.out.println(&quot;connected&quot;);\n            \n        }catch(SQLException e){\n            System.err.println(e);\n            \n        }\n    }\n    Connection obtenirconnexion(){return con;}\n}\n</code></pre>\n<p>exception:</p>\n<pre><code>Microsoft Windows [Version 10.0.19042.1288]\n    (c) Microsoft Corporation. All rights reserved.\n\n    C:\\Users\\Zouzou&gt;cd desktop\n\n    C:\\Users\\Zouzou\\Desktop&gt;java -jar &quot;Logiciel_IPM.jar&quot;\n    java.lang.ClassNotFoundException: org.sqlite.JDBC\n    java.sql.SQLException: No suitable driver found for jdbc:sqlite:C:\\DataBase\\IPM.db\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\n        at logiciel_ipm.Login.jButton1ActionPerformed(Login.java:98)\n        at logiciel_ipm.Login.access$000(Login.java:11)\n        at logiciel_ipm.Login$1.actionPerformed(Login.java:49)\n        at javax.swing.AbstractButton.fireActionPerformed(Unknown Source)\n        at javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)\n        at javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)\n        at javax.swing.DefaultButtonModel.setPressed(Unknown Source)\n        at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(Unknown Source)\n        at java.awt.Component.processMouseEvent(Unknown Source)\n        at javax.swing.JComponent.processMouseEvent(Unknown Source)\n        at java.awt.Component.processEvent(Unknown Source)\n        at java.awt.Container.processEvent(Unknown Source)\n        at java.awt.Component.dispatchEventImpl(Unknown Source)\n        at java.awt.Container.dispatchEventImpl(Unknown Source)\n        at java.awt.Component.dispatchEvent(Unknown Source)\n        at java.awt.LightweightDispatcher.retargetMouseEvent(Unknown Source)\n        at java.awt.LightweightDispatcher.processMouseEvent(Unknown Source)\n        at java.awt.LightweightDispatcher.dispatchEvent(Unknown Source)\n        at java.awt.Container.dispatchEventImpl(Unknown Source)\n        at java.awt.Window.dispatchEventImpl(Unknown Source)\n        at java.awt.Component.dispatchEvent(Unknown Source)\n        at java.awt.EventQueue.dispatchEventImpl(Unknown Source)\n        at java.awt.EventQueue.access$500(Unknown Source)\n        at java.awt.EventQueue$3.run(Unknown Source)\n        at java.awt.EventQueue$3.run(Unknown Source)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown \n        Source)\n        at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown \n        Source)\n        at java.awt.EventQueue$4.run(Unknown Source)\n        at java.awt.EventQueue$4.run(Unknown Source)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown \n        Source)\n        at java.awt.EventQueue.dispatchEvent(Unknown Source)\n        at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\n        at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\n        at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\n        at java.awt.EventDispatchThread.pumpEvents(Unknown Source)\n        at java.awt.EventDispatchThread.pumpEvents(Unknown Source)\n        at java.awt.EventDispatchThread.run(Unknown Source)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1666506746,"post_id":74168855,"comment_id":130950475,"body_markdown":"Did you put the Antlt JAR on the **runtime** classpath too?","body":"Did you put the Antlt JAR on the <b>runtime</b> classpath too?"},{"owner":{"account_id":26519348,"reputation":39,"user_id":20153313,"display_name":"newb hi"},"score":0,"creation_date":1666507432,"post_id":74168855,"comment_id":130950562,"body_markdown":"I put jar in modulepath at build path","body":"I put jar in modulepath at build path"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1666507757,"post_id":74168855,"comment_id":130950597,"body_markdown":"That is not what I asked ...........","body":"That is not what I asked ..........."},{"owner":{"account_id":26519348,"reputation":39,"user_id":20153313,"display_name":"newb hi"},"score":0,"creation_date":1666507795,"post_id":74168855,"comment_id":130950603,"body_markdown":"I changed path from modulepath to classpath and it works. I think. At least the program runs. I think I might have solved it. Thank you","body":"I changed path from modulepath to classpath and it works. I think. At least the program runs. I think I might have solved it. Thank you"},{"owner":{"account_id":26519348,"reputation":39,"user_id":20153313,"display_name":"newb hi"},"score":0,"creation_date":1666507853,"post_id":74168855,"comment_id":130950609,"body_markdown":"Sorry... I&#39;m not good at using eclipse so I needed to find out what is runtime classpath","body":"Sorry... I&#39;m not good at using eclipse so I needed to find out what is runtime classpath"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1666508197,"post_id":74168855,"comment_id":130950648,"body_markdown":"OK so you are trying to run it from within Eclipse, and that is when it is failing?","body":"OK so you are trying to run it from within Eclipse, and that is when it is failing?"},{"owner":{"account_id":26519348,"reputation":39,"user_id":20153313,"display_name":"newb hi"},"score":0,"creation_date":1666508308,"post_id":74168855,"comment_id":130950654,"body_markdown":"No I fixed it. That was just saying. Thank you","body":"No I fixed it. That was just saying. Thank you"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666593600,"post_id":74168855,"comment_id":130965152,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":26519348,"reputation":39,"user_id":20153313,"display_name":"newb hi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666502880,"creation_date":1666502880,"question_id":74168855,"body_markdown":"I was making basic antlr project that read parse tree and print it.However, when I tried to run this, they can&#39;t initiallize my main class.\r\nError massage was: java.lang.NoClassDefFoundError: org/antlr/v4/runtime/tree/ParseTree\r\nI&#39;m using antlr-4.9.2-complete.jar\r\nI set class path using Build path to use jar file, and I tried project clean, refresh my project as I found in internet that they told me to do so at noclassfounderror. What is wrong with my project?","title":"Eclipse antlr4 NoClassDefFoundError","body":"<p>I was making basic antlr project that read parse tree and print it.However, when I tried to run this, they can't initiallize my main class.\nError massage was: java.lang.NoClassDefFoundError: org/antlr/v4/runtime/tree/ParseTree\nI'm using antlr-4.9.2-complete.jar\nI set class path using Build path to use jar file, and I tried project clean, refresh my project as I found in internet that they told me to do so at noclassfounderror. What is wrong with my project?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9283,"page":940,"page_size":100}
