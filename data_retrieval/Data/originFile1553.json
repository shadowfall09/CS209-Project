{"items":[{"tags":["java","retrofit2","okhttp"],"answers":[{"tags":[],"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646132918,"creation_date":1646038873,"answer_id":71292596,"question_id":71286168,"body_markdown":"Implement a custom CookieJar and set on the OkHttpClient\r\n\r\nhttps://square.github.io/okhttp/4.x/okhttp/okhttp3/-cookie-jar/\r\n\r\n```\r\nabstract fun loadForRequest(url: HttpUrl): List&lt;Cookie&gt;\r\n```\r\n\r\n&gt; Load cookies from the jar for an HTTP request to url. This method returns a possibly empty list of cookies for the network request.","title":"Dynamic Cookies For Retrofit 2 Requests","body":"<p>Implement a custom CookieJar and set on the OkHttpClient</p>\n<p><a href=\"https://square.github.io/okhttp/4.x/okhttp/okhttp3/-cookie-jar/\" rel=\"nofollow noreferrer\">https://square.github.io/okhttp/4.x/okhttp/okhttp3/-cookie-jar/</a></p>\n<pre><code>abstract fun loadForRequest(url: HttpUrl): List&lt;Cookie&gt;\n</code></pre>\n<blockquote>\n<p>Load cookies from the jar for an HTTP request to url. This method returns a possibly empty list of cookies for the network request.</p>\n</blockquote>\n"}],"owner":{"account_id":9553538,"reputation":633,"user_id":7096838,"display_name":"Agnibha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1646132918,"creation_date":1645976726,"question_id":71286168,"body_markdown":"I&#39;ve been using retrofit for quite a long time and haven&#39;t faced any serious usability issue before now. So my use case is very simple, I&#39;ve to fetch an entity from another API that we&#39;re using to process a few data. Now the only issue is the service is using `Cookies` to accept entity id. \r\n\r\nSo this means that each request needs to have dynamic set of cookie associated with it. But currently I cannot see anything such that in Retrofit. I can see a old [PR][1], but it was rejected for unknown reason. \r\n\r\n\r\nCan anyone from Retrofit team can help in this matter. I think it will be very helpful. If you need code examples I can provide that in an edit. \r\n\r\nTIA\r\n\r\n\r\n  [1]: https://github.com/square/retrofit/pull/915","title":"Dynamic Cookies For Retrofit 2 Requests","body":"<p>I've been using retrofit for quite a long time and haven't faced any serious usability issue before now. So my use case is very simple, I've to fetch an entity from another API that we're using to process a few data. Now the only issue is the service is using <code>Cookies</code> to accept entity id.</p>\n<p>So this means that each request needs to have dynamic set of cookie associated with it. But currently I cannot see anything such that in Retrofit. I can see a old <a href=\"https://github.com/square/retrofit/pull/915\" rel=\"nofollow noreferrer\">PR</a>, but it was rejected for unknown reason.</p>\n<p>Can anyone from Retrofit team can help in this matter. I think it will be very helpful. If you need code examples I can provide that in an edit.</p>\n<p>TIA</p>\n"},{"tags":["java","windows","logstash"],"answers":[{"tags":[],"owner":{"account_id":1440220,"reputation":555,"user_id":1360586,"display_name":"Numan KIZILIRMAK"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1567063615,"creation_date":1541539452,"answer_id":53180238,"question_id":53035863,"body_markdown":"problem was seem my region but even I changed my region it did not change anything and I found `StandardHttpRequestRetryHandler` in  `client.rb` file \r\n\r\nand \r\n\r\nchanged `&#39;Java::OrgApacheHttpImplClient::StandardHttpRequestRetryHandler&#39;`  to `&#39;Java::OrgApacheHttp.impl.client::StandardHttpRequestRetryHandler&#39;` and it solved my problem","title":"Logstash missing class name (`org.apache.http.â”€â–’mpl.client.StandardHttpRequestRetryHandler&#39;)","body":"<p>problem was seem my region but even I changed my region it did not change anything and I found <code>StandardHttpRequestRetryHandler</code> in  <code>client.rb</code> file </p>\n\n<p>and </p>\n\n<p>changed <code>'Java::OrgApacheHttpImplClient::StandardHttpRequestRetryHandler'</code>  to <code>'Java::OrgApacheHttp.impl.client::StandardHttpRequestRetryHandler'</code> and it solved my problem</p>\n"},{"tags":[],"owner":{"account_id":15922433,"reputation":31,"user_id":11687605,"display_name":"Omer CANGA"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1567062039,"creation_date":1567062039,"answer_id":57704699,"question_id":53035863,"body_markdown":"problem was seem by region because of this, I had changed \r\n````jvm.options ````from```` logstash\\config````\r\n\r\nthen I set\r\n```` \r\n## Locale\r\n# Set the locale language\r\n#-Duser.language=en\r\n\r\n# Set the locale country\r\n#-Duser.country=US\r\n````\r\nto this \r\n```` ## Locale\r\n# Set the locale language\r\n-Duser.language=en\r\n\r\n# Set the locale country\r\n-Duser.country=US\r\n```` \r\nthen  and it solved my problem\r\n ","title":"Logstash missing class name (`org.apache.http.â”€â–’mpl.client.StandardHttpRequestRetryHandler&#39;)","body":"<p>problem was seem by region because of this, I had changed \n<code>jvm.options</code>from<code>logstash\\config</code></p>\n\n<p>then I set</p>\n\n<pre><code>## Locale\n# Set the locale language\n#-Duser.language=en\n\n# Set the locale country\n#-Duser.country=US\n</code></pre>\n\n<p>to this </p>\n\n<pre><code># Set the locale language\n-Duser.language=en\n\n# Set the locale country\n-Duser.country=US\n</code></pre>\n\n<p>then  and it solved my problem</p>\n"},{"tags":[],"owner":{"account_id":16928396,"reputation":1,"user_id":12243418,"display_name":"Finn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646132743,"creation_date":1646132743,"answer_id":71307509,"question_id":53035863,"body_markdown":"If you are using CentOS 8, the path for solution is:\r\n```\r\n/usr/share/logstash/vendor/bundle/jruby/2.5.0/gems/manticore-0.8.0-java/lib/manticore/client.rb\r\n```\r\n\r\nAnd you should change this: \r\n```\r\n&quot;OrgApacheHttpImplClient&quot; ==&gt; &quot;OrgApacheHttp.impl.client&quot;\r\n```","title":"Logstash missing class name (`org.apache.http.â”€â–’mpl.client.StandardHttpRequestRetryHandler&#39;)","body":"<p>If you are using CentOS 8, the path for solution is:</p>\n<pre><code>/usr/share/logstash/vendor/bundle/jruby/2.5.0/gems/manticore-0.8.0-java/lib/manticore/client.rb\n</code></pre>\n<p>And you should change this:</p>\n<pre><code>&quot;OrgApacheHttpImplClient&quot; ==&gt; &quot;OrgApacheHttp.impl.client&quot;\n</code></pre>\n"}],"owner":{"account_id":1440220,"reputation":555,"user_id":1360586,"display_name":"Numan KIZILIRMAK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1219,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1646132743,"creation_date":1540759119,"question_id":53035863,"body_markdown":"I want to use logstash to fetch data from rabitmq on windows but when I start logstash with even empty input and output I get missing class name `org.apache.http.â”€Impl.client.StandardHttpRequestRetryHandler` error.\r\n\r\nOn cmd I run:\r\n\r\n    C:\\ELK_Stack\\logstash\\bin&gt;logstash -e input {stdin {}}output {stdout {}} --debug\r\n\r\nbut I get \r\n\r\n&gt; [ERROR] 2018-10-28 23:29:38.504 [main] Logstash - java.lang.IllegalStateException: Logstash stopped processing because of an error: (NameError) missing class name (org.apache.http.â”€â–’mpl.client.StandardHttpRequestRetryHandler)","title":"Logstash missing class name (`org.apache.http.â”€â–’mpl.client.StandardHttpRequestRetryHandler&#39;)","body":"<p>I want to use logstash to fetch data from rabitmq on windows but when I start logstash with even empty input and output I get missing class name <code>org.apache.http.â”€Impl.client.StandardHttpRequestRetryHandler</code> error.</p>\n\n<p>On cmd I run:</p>\n\n<pre><code>C:\\ELK_Stack\\logstash\\bin&gt;logstash -e input {stdin {}}output {stdout {}} --debug\n</code></pre>\n\n<p>but I get </p>\n\n<blockquote>\n  <p>[ERROR] 2018-10-28 23:29:38.504 [main] Logstash - java.lang.IllegalStateException: Logstash stopped processing because of an error: (NameError) missing class name (org.apache.http.â”€â–’mpl.client.StandardHttpRequestRetryHandler)</p>\n</blockquote>\n"},{"tags":["java","spring","aop"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1646133040,"post_id":71307496,"comment_id":126043407,"body_markdown":"The method invocation is build **before** the method is invoked, at that point it is still `null`. It is being set upon invocation (due to your `@Around` aspect). Ditch the aspect and write a filter which does this.","body":"The method invocation is build <b>before</b> the method is invoked, at that point it is still <code>null</code>. It is being set upon invocation (due to your <code>@Around</code> aspect). Ditch the aspect and write a filter which does this."},{"owner":{"account_id":9860975,"reputation":1650,"user_id":7303998,"accept_rate":100,"display_name":"MatWdo"},"score":0,"creation_date":1646134078,"post_id":71307496,"comment_id":126043709,"body_markdown":"@M.Deinum thanks for the answer. But one more question, can I use other AOP annotation for that case?","body":"@M.Deinum thanks for the answer. But one more question, can I use other AOP annotation for that case?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1646137135,"post_id":71307496,"comment_id":126044700,"body_markdown":"No. Because SPring MVC builds the invocation before it is invoked, so no AOP isn&#39;t going to solve this for you.","body":"No. Because SPring MVC builds the invocation before it is invoked, so no AOP isn&#39;t going to solve this for you."},{"owner":{"account_id":9860975,"reputation":1650,"user_id":7303998,"accept_rate":100,"display_name":"MatWdo"},"score":0,"creation_date":1646149522,"post_id":71307496,"comment_id":126049443,"body_markdown":"You are right, so I create WebMvcConfigurer bean and class that implements `HandlerMethodArgumentResolver`, thanks for the explanation","body":"You are right, so I create WebMvcConfigurer bean and class that implements <code>HandlerMethodArgumentResolver</code>, thanks for the explanation"}],"owner":{"account_id":9860975,"reputation":1650,"user_id":7303998,"accept_rate":100,"display_name":"MatWdo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646132662,"creation_date":1646132662,"question_id":71307496,"body_markdown":"I would like to read the request attribute in the controller that I added in spring AOP. But is still return null. Maybe I read this data incorrectly? Maybe I can&#39;t use annotation for that? \r\n\r\nAop:\r\n\r\n    @Around(value = &quot;putMappingPointcut(putMapping)&quot;, argNames = &quot;joinPoint,putMapping&quot;)\r\n    public Object checkPutHeaders(ProceedingJoinPoint joinPoint, PutMapping putMapping)    throws Throwable {\r\n\r\n    final RequestAttributes requestAttributes = RequestContextHolder.getRequestAttributes();\r\n    final HttpServletRequest request = ((ServletRequestAttributes) Objects.requireNonNull(requestAttributes)).getRequest();\r\n    final String apiKey = request.getHeader(API_KEY);\r\n\r\n\r\n     final String company = apiKeyProviderService.getCompanyBy(apiKey);\r\n     request.setAttribute(&quot;company&quot;, company);\r\n\r\n     return joinPoint.proceed();\r\n    }\r\n\r\nController:\r\n\r\n    @PutMapping(&quot;/accounts&quot;)\r\n    public Company authenticate(@RequestAttribute(name = &quot;company&quot;, required = false) String company,\r\n                                @RequestBody Authentication authentication) {\r\n    ....\r\n    \r\n    }\r\n\r\nIf I add `HttpServletRequest` to my controller and call `getAttribut(&quot;company&quot;)` I receive correct code for company.\r\n\r\nThanks for the help!","title":"@RequestAttribute return null for own attribute created by AOP","body":"<p>I would like to read the request attribute in the controller that I added in spring AOP. But is still return null. Maybe I read this data incorrectly? Maybe I can't use annotation for that?</p>\n<p>Aop:</p>\n<pre><code>@Around(value = &quot;putMappingPointcut(putMapping)&quot;, argNames = &quot;joinPoint,putMapping&quot;)\npublic Object checkPutHeaders(ProceedingJoinPoint joinPoint, PutMapping putMapping)    throws Throwable {\n\nfinal RequestAttributes requestAttributes = RequestContextHolder.getRequestAttributes();\nfinal HttpServletRequest request = ((ServletRequestAttributes) Objects.requireNonNull(requestAttributes)).getRequest();\nfinal String apiKey = request.getHeader(API_KEY);\n\n\n final String company = apiKeyProviderService.getCompanyBy(apiKey);\n request.setAttribute(&quot;company&quot;, company);\n\n return joinPoint.proceed();\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@PutMapping(&quot;/accounts&quot;)\npublic Company authenticate(@RequestAttribute(name = &quot;company&quot;, required = false) String company,\n                            @RequestBody Authentication authentication) {\n....\n\n}\n</code></pre>\n<p>If I add <code>HttpServletRequest</code> to my controller and call <code>getAttribut(&quot;company&quot;)</code> I receive correct code for company.</p>\n<p>Thanks for the help!</p>\n"},{"tags":["java","spring","testing","spock"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1646188358,"post_id":71307367,"comment_id":126059907,"body_markdown":"This question is off-topic on Stack Overflow, because it will attract opinionated answer. If you have a concrete problem, you need to describe it. You tagged the question with _spock_ and also mention Spock testing, but where is your Spock test? Please be advised to learn how to ask good questions by providing an [MCVE](https://stackoverflow.com/help/mcve).","body":"This question is off-topic on Stack Overflow, because it will attract opinionated answer. If you have a concrete problem, you need to describe it. You tagged the question with <i>spock</i> and also mention Spock testing, but where is your Spock test? Please be advised to learn how to ask good questions by providing an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>."}],"answers":[{"tags":[],"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646132602,"creation_date":1646132602,"answer_id":71307478,"question_id":71307367,"body_markdown":"This is a tricky question and you&#39;ll find different answers for that.\r\nIf I understand correctly, you are basically asking if constructor injection is better than setter injection or vice versa, correct?\r\n\r\nObviously constructor injection is neat when you have a limited amount of fields in your class. Constructors with 20 args are not very readable and should definitely be avoided. In that case you would have to use setter injection and call the setters for the individual fields one by one.\r\n\r\nBut maybe if you have a class with so many fields that need injecting, it would be good to refactor and get your dependencies down to a smaller amount.\r\n\r\nPersonally I prefer construtor injection but there are arguments against it.","title":"When to pass a parameter as a constructor parameter or as a method parameter","body":"<p>This is a tricky question and you'll find different answers for that.\nIf I understand correctly, you are basically asking if constructor injection is better than setter injection or vice versa, correct?</p>\n<p>Obviously constructor injection is neat when you have a limited amount of fields in your class. Constructors with 20 args are not very readable and should definitely be avoided. In that case you would have to use setter injection and call the setters for the individual fields one by one.</p>\n<p>But maybe if you have a class with so many fields that need injecting, it would be good to refactor and get your dependencies down to a smaller amount.</p>\n<p>Personally I prefer construtor injection but there are arguments against it.</p>\n"}],"owner":{"account_id":15210638,"reputation":5,"user_id":11074670,"display_name":"DonalDraper"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71307478,"answer_count":1,"score":0,"last_activity_date":1646132602,"creation_date":1646132113,"question_id":71307367,"body_markdown":"I currently have this class that uses a Service class in a class method. Currently I am creating an instance of the service class in my method as shown below. The question I am wondering is that when it comes to testing, I am using spock and it seems to be difficult to test when a new instance of a class is being created in the method rather than being passed in as a constructor parameter for dependency injection. I am wondering would passing in an instance of Service class into Handler as a constructor parameter be the correct way of doing this? Thanks\r\n\r\n```\r\npublic class Handler{\r\n   private Service service;\r\n\r\n    public Handler(){}\r\n\r\npublic void someMethod(ObjectNeededForService object){\r\n   service = new Service(object);\r\n}\r\n}","title":"When to pass a parameter as a constructor parameter or as a method parameter","body":"<p>I currently have this class that uses a Service class in a class method. Currently I am creating an instance of the service class in my method as shown below. The question I am wondering is that when it comes to testing, I am using spock and it seems to be difficult to test when a new instance of a class is being created in the method rather than being passed in as a constructor parameter for dependency injection. I am wondering would passing in an instance of Service class into Handler as a constructor parameter be the correct way of doing this? Thanks</p>\n<pre><code>public class Handler{\n   private Service service;\n\n    public Handler(){}\n\npublic void someMethod(ObjectNeededForService object){\n   service = new Service(object);\n}\n}\n</code></pre>\n"},{"tags":["java","c++"],"answers":[{"tags":[],"owner":{"account_id":7123842,"reputation":27597,"user_id":5684257,"display_name":"HTNW"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645961030,"creation_date":1645961030,"answer_id":71284346,"question_id":71284219,"body_markdown":"The header file needs to be updated when you move `AddNumbers` into a package. If you run `javac -h` on `AddNumbers.java` when it contains the `package Test;` line, the header file will declare `Java_Test_AddNumbers_Add_1Numbers` instead of `Java_AddNumbers_Add_1Numbers`. This should make sense: the native function name contains the full name of the Java class and moving a class into different package changes its full name, so the native function name changes when you move class into a package. The error you see is because Java can&#39;t match the native implementation to the class method if the names are wrong.\r\n\r\nRegenerate the header file by running `javac -h` again and update the implementation file to match the new function name.","title":"&quot;package&quot; causing a class not found error when using JavaNativeInterface","body":"<p>The header file needs to be updated when you move <code>AddNumbers</code> into a package. If you run <code>javac -h</code> on <code>AddNumbers.java</code> when it contains the <code>package Test;</code> line, the header file will declare <code>Java_Test_AddNumbers_Add_1Numbers</code> instead of <code>Java_AddNumbers_Add_1Numbers</code>. This should make sense: the native function name contains the full name of the Java class and moving a class into different package changes its full name, so the native function name changes when you move class into a package. The error you see is because Java can't match the native implementation to the class method if the names are wrong.</p>\n<p>Regenerate the header file by running <code>javac -h</code> again and update the implementation file to match the new function name.</p>\n"}],"owner":{"account_id":19006905,"reputation":64,"user_id":18322491,"display_name":"MatErW3len"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646132590,"creation_date":1645960013,"question_id":71284219,"body_markdown":"this is my first ever question so I am sorry if I cannot explain my problem clearly. I am learning Java Native Interface. And I am running into a very weird error when I use the package keyword. My tests run fine without this keyword. I am using Windows.\r\nBelow is an example of my problem.\r\nIn a folder &#39;Test&#39;, I create an AddNumbers.java file\r\n```\r\npackage Test;\r\nimport java.util.Scanner;\r\npublic class AddNumbers {\r\n    static{\r\n        System.loadLibrary(&quot;addNumbers&quot;);;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        AddNumbers adder = new AddNumbers();\r\n        Scanner in = new Scanner(System.in);\r\n        System.out.print(&quot;ENTER INTEGER 1: &quot;);\r\n        int i1 = in.nextInt();\r\n        in.nextLine();\r\n        System.out.print(&quot;ENTER INTEGER 2: &quot;);\r\n        int i2 = in.nextInt();\r\n        in.nextLine();\r\n        System.out.println(&quot;THE SUM IS: &quot; + adder.Add_Numbers(i1, i2));\r\n    }\r\n    private native int Add_Numbers(int i1, int i2);\r\n}\r\n```\r\nThen in powershell, I run ` javac -h . AddNumbers.java` and this gives me AddNumbers.class and\r\nAddNumbers.h. Below is AddNumbers.h\r\n```\r\n/* DO NOT EDIT THIS FILE - it is machine generated */\r\n#include &lt;jni.h&gt;\r\n/* Header for class AddNumbers */\r\n\r\n#ifndef _Included_AddNumbers\r\n#define _Included_AddNumbers\r\n#ifdef __cplusplus\r\nextern &quot;C&quot; {\r\n#endif\r\n\r\nJNIEXPORT jint JNICALL Java_Test_AddNumbers_Add_1Numbers\r\n  (JNIEnv *, jobject, jint, jint);\r\n\r\n#ifdef __cplusplus\r\n}\r\n#endif\r\n#endif\r\n```\r\nI write a AddNumbers.cpp file:\r\n```\r\n#include &quot;AddNumbers.h&quot;\r\nJNIEXPORT jint JNICALL Java_Test_AddNumbers_Add_1Numbers\r\n  (JNIEnv *, jobject, jint first, jint second){\r\n      return first + second;\r\n  }\r\n```\r\nThen I run ```g++ -c -IC:\\Program` Files\\Java\\jdk-17\\include AddNumbers.cpp -o AddNumbers.o``` followed by  ```g++ -shared -o addNumbers.dll AddNumbers.o``` to get the .dll file. But now that I do ```java AddNumbers``` it gives me a class not found error. I have even tried with full qualified name of classes that is ```java Test.AddNumbers``` in this case I hope. The only difference is that if I remove package from AddNumbers.java the program works. What am I missing? \r\n\r\nEdit: i wasn&#39;t going back to previous directory before calling java &lt;fully qualified class name&gt; &#128517;\r\n\r\n\r\n\r\n","title":"&quot;package&quot; causing a class not found error when using JavaNativeInterface","body":"<p>this is my first ever question so I am sorry if I cannot explain my problem clearly. I am learning Java Native Interface. And I am running into a very weird error when I use the package keyword. My tests run fine without this keyword. I am using Windows.\nBelow is an example of my problem.\nIn a folder 'Test', I create an AddNumbers.java file</p>\n<pre><code>package Test;\nimport java.util.Scanner;\npublic class AddNumbers {\n    static{\n        System.loadLibrary(&quot;addNumbers&quot;);;\n    }\n\n    public static void main(String[] args) {\n        AddNumbers adder = new AddNumbers();\n        Scanner in = new Scanner(System.in);\n        System.out.print(&quot;ENTER INTEGER 1: &quot;);\n        int i1 = in.nextInt();\n        in.nextLine();\n        System.out.print(&quot;ENTER INTEGER 2: &quot;);\n        int i2 = in.nextInt();\n        in.nextLine();\n        System.out.println(&quot;THE SUM IS: &quot; + adder.Add_Numbers(i1, i2));\n    }\n    private native int Add_Numbers(int i1, int i2);\n}\n</code></pre>\n<p>Then in powershell, I run <code> javac -h . AddNumbers.java</code> and this gives me AddNumbers.class and\nAddNumbers.h. Below is AddNumbers.h</p>\n<pre><code>/* DO NOT EDIT THIS FILE - it is machine generated */\n#include &lt;jni.h&gt;\n/* Header for class AddNumbers */\n\n#ifndef _Included_AddNumbers\n#define _Included_AddNumbers\n#ifdef __cplusplus\nextern &quot;C&quot; {\n#endif\n\nJNIEXPORT jint JNICALL Java_Test_AddNumbers_Add_1Numbers\n  (JNIEnv *, jobject, jint, jint);\n\n#ifdef __cplusplus\n}\n#endif\n#endif\n</code></pre>\n<p>I write a AddNumbers.cpp file:</p>\n<pre><code>#include &quot;AddNumbers.h&quot;\nJNIEXPORT jint JNICALL Java_Test_AddNumbers_Add_1Numbers\n  (JNIEnv *, jobject, jint first, jint second){\n      return first + second;\n  }\n</code></pre>\n<p>Then I run <code>g++ -c -IC:\\Program` Files\\Java\\jdk-17\\include AddNumbers.cpp -o AddNumbers.o</code> followed by  <code>g++ -shared -o addNumbers.dll AddNumbers.o</code> to get the .dll file. But now that I do <code>java AddNumbers</code> it gives me a class not found error. I have even tried with full qualified name of classes that is <code>java Test.AddNumbers</code> in this case I hope. The only difference is that if I remove package from AddNumbers.java the program works. What am I missing?</p>\n<p>Edit: i wasn't going back to previous directory before calling java  ðŸ˜…</p>\n"},{"tags":["java","for-loop","methods","return","calculator"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1646114858,"post_id":71304263,"comment_id":126038058,"body_markdown":"There&#39;s no `return` in your method, you are not returning anything (and it is defined as `void`, meaning it doesn&#39;t return anything). `break` stops the loop (and you unconditionally break out of your loop as the last statement, effectively turning your `for` loop into an `if` conditional.","body":"There&#39;s no <code>return</code> in your method, you are not returning anything (and it is defined as <code>void</code>, meaning it doesn&#39;t return anything). <code>break</code> stops the loop (and you unconditionally break out of your loop as the last statement, effectively turning your <code>for</code> loop into an <code>if</code> conditional."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1646115083,"post_id":71304263,"comment_id":126038096,"body_markdown":"Is the intention to vend the first product found that the customer has enough money to pay for?","body":"Is the intention to vend the first product found that the customer has enough money to pay for?"}],"answers":[{"tags":[],"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646117966,"creation_date":1646114943,"answer_id":71304377,"question_id":71304263,"body_markdown":"I don&#39;t know why you put those break statements.\r\nA ```break``` will break the loop, that&#39;s why you&#39;re not getting past the first item. Drop the breaks and it should work.\r\n\r\n    for(Product product: Product.values()) {\r\n      if(moneyInserted &gt;= product.getPrice()){\r\n            System.out.println(&quot;Vending&quot;);\r\n            double changeReturn = (double)moneyInserted - (double)product.getPrice();\r\n            System.out.println(&quot;    &quot;);\r\n            System.out.println(&quot;Here is your $&quot; +changeReturn+&quot; in change&quot;);\r\n            System.out.println(&quot;Thank You&quot;);\r\n            break; // this will end the loop the first time you return change\r\n        }\r\n      else {\r\n          System.out.println(&quot;Unsuffient funds&quot;);\r\n      }\r\n      break; // this will end the loop after the first product, regardless of the outcome\r\n    }","title":"I&#39;m trying to calculate and return the user change and I don&#39;t know how","body":"<p>I don't know why you put those break statements.\nA <code>break</code> will break the loop, that's why you're not getting past the first item. Drop the breaks and it should work.</p>\n<pre><code>for(Product product: Product.values()) {\n  if(moneyInserted &gt;= product.getPrice()){\n        System.out.println(&quot;Vending&quot;);\n        double changeReturn = (double)moneyInserted - (double)product.getPrice();\n        System.out.println(&quot;    &quot;);\n        System.out.println(&quot;Here is your $&quot; +changeReturn+&quot; in change&quot;);\n        System.out.println(&quot;Thank You&quot;);\n        break; // this will end the loop the first time you return change\n    }\n  else {\n      System.out.println(&quot;Unsuffient funds&quot;);\n  }\n  break; // this will end the loop after the first product, regardless of the outcome\n}\n</code></pre>\n"}],"owner":{"account_id":24413031,"reputation":1,"user_id":18340246,"display_name":"simaravz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646132498,"creation_date":1646113958,"question_id":71304263,"body_markdown":"I&#39;m newbie in programming and I need to do a final project. \r\nI can calculate and return the user change. \r\nI tried with the for loop but and it will calculate just the first product from the list.\r\n\t\r\n```\r\npublic class ChangeCalculator{\r\n\tpublic double moneyInserted;\r\n\t\r\n\t\r\n\tChangeCalculator(double moneyInserted){\r\n\t\t\r\n\t}\r\n\r\npublic static void dispence (double moneyInserted) {\r\n  for(Product product: Product.values()) {\r\n\t  if(moneyInserted &gt;= product.getPrice()){\r\n\t\t\tSystem.out.println(&quot;Vending&quot;);\r\n\t\t\tdouble changeReturn = (double)moneyInserted - (double)product.getPrice();\r\n\t\t\tSystem.out.println(&quot;    &quot;);\r\n\t\t    System.out.println(&quot;Here is your $&quot; +changeReturn+&quot; in change&quot;);\r\n\t\t\tSystem.out.println(&quot;Thank You&quot;);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t  else {\r\n\t\t  System.out.println(&quot;Unsuffient funds&quot;);\r\n\t  }\r\n\t  break;\r\n}\r\n  \r\n}\r\n}\r\n```","title":"I&#39;m trying to calculate and return the user change and I don&#39;t know how","body":"<p>I'm newbie in programming and I need to do a final project.\nI can calculate and return the user change.\nI tried with the for loop but and it will calculate just the first product from the list.</p>\n<pre><code>public class ChangeCalculator{\n    public double moneyInserted;\n    \n    \n    ChangeCalculator(double moneyInserted){\n        \n    }\n\npublic static void dispence (double moneyInserted) {\n  for(Product product: Product.values()) {\n      if(moneyInserted &gt;= product.getPrice()){\n            System.out.println(&quot;Vending&quot;);\n            double changeReturn = (double)moneyInserted - (double)product.getPrice();\n            System.out.println(&quot;    &quot;);\n            System.out.println(&quot;Here is your $&quot; +changeReturn+&quot; in change&quot;);\n            System.out.println(&quot;Thank You&quot;);\n            break;\n        }\n      else {\n          System.out.println(&quot;Unsuffient funds&quot;);\n      }\n      break;\n}\n  \n}\n}\n</code></pre>\n"},{"tags":["java","maven-shade-plugin","java-platform-module-system","module-info"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1647736204,"post_id":71307451,"comment_id":126446196,"body_markdown":"The Moditect solution also has the advantage that it easily supports creation of a multi-release JAR file through its `jvmVersion` option. This can be useful when targeting Java 8 (or older), but at the same time adding a module descriptor for users of Java 9 or newer (which seems to be the case for your library). Directly placing the `module-info.class` in the root directory of the JAR can cause issues for some build tools, see for example the issues linked [here](https://github.com/google/gson/pull/2013) where this apparently caused Android build failures.","body":"The Moditect solution also has the advantage that it easily supports creation of a multi-release JAR file through its <code>jvmVersion</code> option. This can be useful when targeting Java 8 (or older), but at the same time adding a module descriptor for users of Java 9 or newer (which seems to be the case for your library). Directly placing the <code>module-info.class</code> in the root directory of the JAR can cause issues for some build tools, see for example the issues linked <a href=\"https://github.com/google/gson/pull/2013\" rel=\"nofollow noreferrer\">here</a> where this apparently caused Android build failures."}],"owner":{"account_id":39564,"reputation":10494,"user_id":114196,"accept_rate":80,"display_name":"Niels Basjes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":541,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1646132497,"creation_date":1646132497,"question_id":71307451,"body_markdown":"My context is that I have written [a java library that does something &quot;useful&quot;][1] and this library is (as is common for libraries) to be used in other applications.\r\n\r\nAmong other things my library uses [Antlr 4][2] to generate part of the code. Key thing here is that the Antlr versions of the generated code and the runtime must be identical.\r\n\r\nI do not want to limit applications that want to use my library to only the specific Antlr version my code uses. So the Antlr runtime for my library must be present and hidden from the application than uses my library.\r\n\r\nAt this point I have solved this my using the maven-shade-plugin and relocate the antlr4 classes to a new package that is specific to my jar file. \r\nThat way my code is modified to look for these classes in different packages and thus two different versions can exist side by side.\r\n\r\nThis works fine.\r\n\r\nI have been experimenting with making my library a JPMS compliant module and there this all becomes very hard.\r\n\r\nThe key problem I&#39;m facing is how can I isolate the Antlr runtime my library needs from the Antlr runtime the application needs when using the JPMS?\r\n\r\n- If I create my library as a module then dependencies like the Antlr runtime remain &quot;external&quot; and thus there seems to be no way to enforce the specific version.\r\n- If I simply shade them in you will get conflicts about packages existing in two modules and thus the maven-shade-plugin [removes the module-info.class from the jar][3] to avoid very nasty issues.\r\n- If I shade and relocate the Antlr runtime then I think it should be possible. How ever the maven-shade-plugin still [removes the module-info.class from the jar][3] and the module-info.class that is created during the build. \r\nBecause it is created during the build (before shading) it must include the Antlr runtime dependency ... which is no longer a dependency that is needed after the shading step (so the module-info.class seems incorrect to me).\r\n- Tools like the [moditect-maven-plugin][4] seem to me like a quite brutal solution: A separate plugin to generate something the java compiler also generates.\r\n\r\nSo my question is what is the best/recommended solution for this kind of situation?\r\nI want my library to be usable in both JPMS and non-JPMS applications.\r\n\r\n\r\n  [1]: https://yauaa.basjes.nl/\r\n  [2]: https://www.antlr.org/\r\n  [3]: https://stackoverflow.com/questions/51751981/why-does-maven-shade-plugin-remove-module-info-class/58097561#58097561\r\n  [4]: https://github.com/moditect/moditect","title":"From shading to modules: How to avoid version conflicts?","body":"<p>My context is that I have written <a href=\"https://yauaa.basjes.nl/\" rel=\"nofollow noreferrer\">a java library that does something &quot;useful&quot;</a> and this library is (as is common for libraries) to be used in other applications.</p>\n<p>Among other things my library uses <a href=\"https://www.antlr.org/\" rel=\"nofollow noreferrer\">Antlr 4</a> to generate part of the code. Key thing here is that the Antlr versions of the generated code and the runtime must be identical.</p>\n<p>I do not want to limit applications that want to use my library to only the specific Antlr version my code uses. So the Antlr runtime for my library must be present and hidden from the application than uses my library.</p>\n<p>At this point I have solved this my using the maven-shade-plugin and relocate the antlr4 classes to a new package that is specific to my jar file.\nThat way my code is modified to look for these classes in different packages and thus two different versions can exist side by side.</p>\n<p>This works fine.</p>\n<p>I have been experimenting with making my library a JPMS compliant module and there this all becomes very hard.</p>\n<p>The key problem I'm facing is how can I isolate the Antlr runtime my library needs from the Antlr runtime the application needs when using the JPMS?</p>\n<ul>\n<li>If I create my library as a module then dependencies like the Antlr runtime remain &quot;external&quot; and thus there seems to be no way to enforce the specific version.</li>\n<li>If I simply shade them in you will get conflicts about packages existing in two modules and thus the maven-shade-plugin <a href=\"https://stackoverflow.com/questions/51751981/why-does-maven-shade-plugin-remove-module-info-class/58097561#58097561\">removes the module-info.class from the jar</a> to avoid very nasty issues.</li>\n<li>If I shade and relocate the Antlr runtime then I think it should be possible. How ever the maven-shade-plugin still <a href=\"https://stackoverflow.com/questions/51751981/why-does-maven-shade-plugin-remove-module-info-class/58097561#58097561\">removes the module-info.class from the jar</a> and the module-info.class that is created during the build.\nBecause it is created during the build (before shading) it must include the Antlr runtime dependency ... which is no longer a dependency that is needed after the shading step (so the module-info.class seems incorrect to me).</li>\n<li>Tools like the <a href=\"https://github.com/moditect/moditect\" rel=\"nofollow noreferrer\">moditect-maven-plugin</a> seem to me like a quite brutal solution: A separate plugin to generate something the java compiler also generates.</li>\n</ul>\n<p>So my question is what is the best/recommended solution for this kind of situation?\nI want my library to be usable in both JPMS and non-JPMS applications.</p>\n"},{"tags":["java","sockets","portforwarding"],"comments":[{"owner":{"account_id":22166369,"reputation":198,"user_id":16412496,"display_name":"baggiogiacomo"},"score":0,"creation_date":1646120962,"post_id":71305176,"comment_id":126039350,"body_markdown":"I think that you can fix your problem [here](https://stackoverflow.com/questions/14835982/make-a-connection-using-an-external-ip-address-in-java)","body":"I think that you can fix your problem <a href=\"https://stackoverflow.com/questions/14835982/make-a-connection-using-an-external-ip-address-in-java\">here</a>"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1646120979,"post_id":71305176,"comment_id":126039358,"body_markdown":"I don&#39;t think this is a java issue","body":"I don&#39;t think this is a java issue"},{"owner":{"account_id":16515701,"reputation":159,"user_id":11933249,"display_name":"Achal Urankar"},"score":0,"creation_date":1646122271,"post_id":71305176,"comment_id":126039754,"body_markdown":"thanks, baggio, I just came to know about NAT-loopback, and also saw this comment &quot;If you are still inside LAN (as i understand) you have to use internal IP. If you are on the same computer, you have to use 127.0.0.1&quot; and as I was trying to connect using public ip on same network so I tried different network but still it is not connecting.","body":"thanks, baggio, I just came to know about NAT-loopback, and also saw this comment &quot;If you are still inside LAN (as i understand) you have to use internal IP. If you are on the same computer, you have to use 127.0.0.1&quot; and as I was trying to connect using public ip on same network so I tried different network but still it is not connecting."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1646127376,"post_id":71305176,"comment_id":126041564,"body_markdown":"You don&#39;t connect to sockets. You connect to ports. You have to open the port at the public side of the router, and you have to arrange port forwarding from there to the internal port to which your `ServerSocket` is bound.","body":"You don&#39;t connect to sockets. You connect to ports. You have to open the port at the public side of the router, and you have to arrange port forwarding from there to the internal port to which your <code>ServerSocket</code> is bound."},{"owner":{"account_id":16515701,"reputation":159,"user_id":11933249,"display_name":"Achal Urankar"},"score":0,"creation_date":1646129924,"post_id":71305176,"comment_id":126042462,"body_markdown":"@user207421, in the port forwarding screenshot, ive done the same, and it is working for other apis like spring or node js, im able to call these apis from different network but with ServerSocket, connection is getting timed out.","body":"@user207421, in the port forwarding screenshot, ive done the same, and it is working for other apis like spring or node js, im able to call these apis from different network but with ServerSocket, connection is getting timed out."}],"answers":[{"tags":[],"owner":{"account_id":24085224,"reputation":83,"user_id":18059330,"display_name":"Louis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646131871,"creation_date":1646127910,"answer_id":71306492,"question_id":71305176,"body_markdown":"Firstly replace your port number by 8080, which is the default port for HTTP when you are not root. Then you have to open the port 8080 on your router to allow the client to connect.\r\nYour server must be connected to the Internet and have a public IP address. Then the client can connect to this public IP address.","title":"Java : How to connect to ServerSocket using router public IP?","body":"<p>Firstly replace your port number by 8080, which is the default port for HTTP when you are not root. Then you have to open the port 8080 on your router to allow the client to connect.\nYour server must be connected to the Internet and have a public IP address. Then the client can connect to this public IP address.</p>\n"}],"owner":{"account_id":16515701,"reputation":159,"user_id":11933249,"display_name":"Achal Urankar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646131871,"creation_date":1646120645,"question_id":71305176,"body_markdown":"I&#39;m trying to connect to server socket in java using my router&#39;s public ip, \r\n\r\nfirst, I tried by simply configuring server socket to localhost, like this,\r\n```\r\nserver = new ServerSocket(5000);\r\n``` \r\nIt is working on localhost but not working on trying internal ip 192.168.1.6\r\nthen, I tried configuring server socket to the internal Ip (saw this [solution][1]), code is as follows,\r\n```\r\nint backlog = 5;\r\nserver = new ServerSocket(5000, backlog, InetAddress.getByName(&quot;192.168.1.6&quot;));\r\n```\r\nand it is working as my devices are connected to same network, I can connect to this Ip 192.168.1.6 from a device with Ip 192.168.1.5 on the same network but when I use public ip of my router from client side, connection is getting timed out, I&#39;ve done port forwarding, \r\n[![screenshot of port forwarding][2]][2]\r\n\r\nWhat am I doing wrong here? any help is appreciated, thanks in advance.\r\n\r\n\r\nEDIT :\r\nI came to about NAT-loopback (saw this [solution][3]) as I was trying to connect using public ip while being on same network so I tried different network but still it is not connecting, connection is getting timed out.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/37420237/why-socket-does-not-connect-with-ip-instead-of-localhost\r\n  [2]: https://i.stack.imgur.com/gVwKW.png\r\n  [3]: https://stackoverflow.com/questions/14835982/make-a-connection-using-an-external-ip-address-in-java","title":"Java : How to connect to ServerSocket using router public IP?","body":"<p>I'm trying to connect to server socket in java using my router's public ip,</p>\n<p>first, I tried by simply configuring server socket to localhost, like this,</p>\n<pre><code>server = new ServerSocket(5000);\n</code></pre>\n<p>It is working on localhost but not working on trying internal ip 192.168.1.6\nthen, I tried configuring server socket to the internal Ip (saw this <a href=\"https://stackoverflow.com/questions/37420237/why-socket-does-not-connect-with-ip-instead-of-localhost\">solution</a>), code is as follows,</p>\n<pre><code>int backlog = 5;\nserver = new ServerSocket(5000, backlog, InetAddress.getByName(&quot;192.168.1.6&quot;));\n</code></pre>\n<p>and it is working as my devices are connected to same network, I can connect to this Ip 192.168.1.6 from a device with Ip 192.168.1.5 on the same network but when I use public ip of my router from client side, connection is getting timed out, I've done port forwarding,\n<a href=\"https://i.stack.imgur.com/gVwKW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gVwKW.png\" alt=\"screenshot of port forwarding\" /></a></p>\n<p>What am I doing wrong here? any help is appreciated, thanks in advance.</p>\n<p>EDIT :\nI came to about NAT-loopback (saw this <a href=\"https://stackoverflow.com/questions/14835982/make-a-connection-using-an-external-ip-address-in-java\">solution</a>) as I was trying to connect using public ip while being on same network so I tried different network but still it is not connecting, connection is getting timed out.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7336430,"reputation":101,"user_id":5587659,"accept_rate":60,"display_name":"Mathi Vanan"},"score":0,"creation_date":1646142299,"post_id":71305987,"comment_id":126046463,"body_markdown":"I am wondering how come this code works without runtime permission, also you should assign the view to globally declared variable instead of creating a new one.","body":"I am wondering how come this code works without runtime permission, also you should assign the view to globally declared variable instead of creating a new one."}],"answers":[{"tags":[],"owner":{"account_id":2139883,"reputation":141,"user_id":5288010,"display_name":"Mohamed Saleh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646131759,"creation_date":1646131759,"answer_id":71307296,"question_id":71305987,"body_markdown":"The problem is image view is null at this line \r\n\r\n    imageView.setImageURI(uri);\r\n\r\nBecause you make image view as global variable but don&#39;t initialize it you make a new one in onViewCreated method .. you should change it on onViewCreated to be from \r\n\r\n    ImageView imageView = view.findViewById(R.id.pick);\r\n\r\nto \r\n\r\n    imageView = view.findViewById(R.id.pick);\r\n\r\n","title":"I am trying to upload picture through my emulator in android using img picker but it shows error and I can&#39;t find out why, says null object reference","body":"<p>The problem is image view is null at this line</p>\n<pre><code>imageView.setImageURI(uri);\n</code></pre>\n<p>Because you make image view as global variable but don't initialize it you make a new one in onViewCreated method .. you should change it on onViewCreated to be from</p>\n<pre><code>ImageView imageView = view.findViewById(R.id.pick);\n</code></pre>\n<p>to</p>\n<pre><code>imageView = view.findViewById(R.id.pick);\n</code></pre>\n"}],"owner":{"account_id":22706132,"reputation":1,"user_id":16872832,"display_name":"Prajesh Kayastha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646131759,"creation_date":1646125343,"question_id":71305987,"body_markdown":"[error can be seen in image][1]\r\n\r\n**Here is my code**\r\n**I am trying to upload picture through my emulator in android using img picker but it shows error and I can&#39;t find out why,  says null object reference**\r\n\r\n***It show error on last line where I have made the code bolder.***\r\n\r\npackage com.example.fyp;\r\n\r\n\r\n\r\npublic class HouseOwner extends Fragment {\r\n\r\n    TextView textView;\r\n    CircleImageView circleImageView;\r\n    ImageView imageView;\r\n    int SELECT_IMAGE_CODE=1;\r\n\r\n\r\n    \r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n       \r\n\r\n     /*   TextView textView = view.findViewById(R.id.search);\r\n        textView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                startActivity(new Intent(startActivity();));*//*\r\n            }\r\n        });*/\r\n\r\n        ImageView imageView = view.findViewById(R.id.pick);\r\n        CircleImageView circleImageView = view.findViewById(R.id.add);\r\n        circleImageView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent();\r\n                intent.setType(&quot;image/*&quot;);\r\n                intent.setAction(Intent.ACTION_GET_CONTENT);\r\n                startActivityForResult(Intent.createChooser(intent,&quot;title&quot;),SELECT_IMAGE_CODE);\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode==1){\r\n\r\n            assert data != null;\r\n            Uri uri= data.getData();\r\n           **imageView.setImageURI(uri);** \r\n\r\n        }\r\n    }\r\n}","title":"I am trying to upload picture through my emulator in android using img picker but it shows error and I can&#39;t find out why, says null object reference","body":"<p>[error can be seen in image][1]</p>\n<p><strong>Here is my code</strong>\n<strong>I am trying to upload picture through my emulator in android using img picker but it shows error and I can't find out why,  says null object reference</strong></p>\n<p><em><strong>It show error on last line where I have made the code bolder.</strong></em></p>\n<p>package com.example.fyp;</p>\n<p>public class HouseOwner extends Fragment {</p>\n<pre><code>TextView textView;\nCircleImageView circleImageView;\nImageView imageView;\nint SELECT_IMAGE_CODE=1;\n\n\n\n@Override\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n\n   \n\n /*   TextView textView = view.findViewById(R.id.search);\n    textView.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            startActivity(new Intent(startActivity();));*//*\n        }\n    });*/\n\n    ImageView imageView = view.findViewById(R.id.pick);\n    CircleImageView circleImageView = view.findViewById(R.id.add);\n    circleImageView.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Intent intent = new Intent();\n            intent.setType(&quot;image/*&quot;);\n            intent.setAction(Intent.ACTION_GET_CONTENT);\n            startActivityForResult(Intent.createChooser(intent,&quot;title&quot;),SELECT_IMAGE_CODE);\n        }\n    });\n\n\n}\n\n@Override\npublic void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if (requestCode==1){\n\n        assert data != null;\n        Uri uri= data.getData();\n       **imageView.setImageURI(uri);** \n\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","kotlin","android-lifecycle","picture-in-picture"],"comments":[{"owner":{"account_id":8881126,"reputation":123,"user_id":6631209,"display_name":"Hasanuzzaman Rana"},"score":1,"creation_date":1630555874,"post_id":69023847,"comment_id":121989662,"body_markdown":"When your activity switches to PIP, the system places the activity in the paused state and calls the activity&#39;s onPause() method. Video playback should not be paused and should continue playing if the activity is paused while in PIP mode. When your activity switches out of PIP mode back to full-screen mode, the system resumes your activity and calls your onResume() method.","body":"When your activity switches to PIP, the system places the activity in the paused state and calls the activity&#39;s onPause() method. Video playback should not be paused and should continue playing if the activity is paused while in PIP mode. When your activity switches out of PIP mode back to full-screen mode, the system resumes your activity and calls your onResume() method."},{"owner":{"account_id":16877200,"reputation":629,"user_id":12204281,"display_name":"LCZ"},"score":0,"creation_date":1630564616,"post_id":69023847,"comment_id":121991684,"body_markdown":"I know `onPause()` is called, but is the activity recreated? i.e. is `onCreate()` called? Thanks.","body":"I know <code>onPause()</code> is called, but is the activity recreated? i.e. is <code>onCreate()</code> called? Thanks."}],"answers":[{"tags":[],"owner":{"account_id":15564404,"reputation":1,"user_id":11228657,"display_name":"samyuktha madireddi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630555572,"creation_date":1630555572,"answer_id":69024031,"question_id":69023847,"body_markdown":"From the Android documentation, When your activity switches to PIP, the system places the activity in the paused state and calls the activity&#39;s onPause() method.","title":"Activity lifecycle in PiP","body":"<p>From the Android documentation, When your activity switches to PIP, the system places the activity in the paused state and calls the activity's onPause() method.</p>\n"}],"owner":{"account_id":16877200,"reputation":629,"user_id":12204281,"display_name":"LCZ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":662,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646131659,"creation_date":1630553849,"question_id":69023847,"body_markdown":"I know there&#39;s a lot of questions on activity lifecycle of Android activities on StackOverflow, but I am asking specifically for the activity lifecycle in PiP(picture in picture) mode.\r\n\r\nIs the activity recreated during PiP mode (`onStop()`, `onCreate()`, etc), are called, or does the activity maintain its paused state throughout PiP?","title":"Activity lifecycle in PiP","body":"<p>I know there's a lot of questions on activity lifecycle of Android activities on StackOverflow, but I am asking specifically for the activity lifecycle in PiP(picture in picture) mode.</p>\n<p>Is the activity recreated during PiP mode (<code>onStop()</code>, <code>onCreate()</code>, etc), are called, or does the activity maintain its paused state throughout PiP?</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":9607023,"reputation":281,"user_id":7132739,"display_name":"The Frozen One"},"score":0,"creation_date":1646128457,"post_id":71306444,"comment_id":126041926,"body_markdown":"Reading the [API](https://mirrors.aliyun.com/android.googlesource.com/external/jackson-databind/docs/javadoc/2.10/com/fasterxml/jackson/databind/PropertyNamingStrategy.html), from what I understand, you have to do it the other way aroung using `SnakeCaseStrategy`: \t\n\n_PropertyNamingStrategy.SnakeCaseStrategy\nA PropertyNamingStrategy that translates typical camel case Java property names to lower case JSON element names, separated by underscores._\n\nBut I&#39;m not sure if it works with a simple map key since the key is not a property of a Java object.","body":"Reading the <a href=\"https://mirrors.aliyun.com/android.googlesource.com/external/jackson-databind/docs/javadoc/2.10/com/fasterxml/jackson/databind/PropertyNamingStrategy.html\" rel=\"nofollow noreferrer\">API</a>, from what I understand, you have to do it the other way aroung using <code>SnakeCaseStrategy</code>: \t  <i>PropertyNamingStrategy.SnakeCaseStrategy A PropertyNamingStrategy that translates typical camel case Java property names to lower case JSON element names, separated by underscores.</i>  But I&#39;m not sure if it works with a simple map key since the key is not a property of a Java object."},{"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"score":0,"creation_date":1646128586,"post_id":71306444,"comment_id":126041972,"body_markdown":"@TheFrozenOnem, I don&#39;t understand, you&#39;re saying that it will change the CamelCase to underscore case, but I need to do vice versa: from underscore case map to json string containing camelCase","body":"@TheFrozenOnem, I don&#39;t understand, you&#39;re saying that it will change the CamelCase to underscore case, but I need to do vice versa: from underscore case map to json string containing camelCase"},{"owner":{"account_id":9607023,"reputation":281,"user_id":7132739,"display_name":"The Frozen One"},"score":0,"creation_date":1646128963,"post_id":71306444,"comment_id":126042109,"body_markdown":"Ok, got it. If your example above in JSON style is a Java object, you should post it as a Java object like `Map&lt;&gt; someMap = new HashMap();`\nYou should also post your output, or the problem, you&#39;re facing. \nAnyway, I think, someone else already explained it:\nhttps://stackoverflow.com/a/39413177/7132739","body":"Ok, got it. If your example above in JSON style is a Java object, you should post it as a Java object like <code>Map&lt;&gt; someMap = new HashMap();</code> You should also post your output, or the problem, you&#39;re facing.  Anyway, I think, someone else already explained it: <a href=\"https://stackoverflow.com/a/39413177/7132739\">stackoverflow.com/a/39413177/7132739</a>"},{"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"score":0,"creation_date":1646129119,"post_id":71306444,"comment_id":126042174,"body_markdown":"@TheFrozenOne, Try to read the question next time, there&#39;s no one accepted style on how to display a value of a map, so I wrote it like this, it doesn&#39;t matter because I literally wrote before &quot;I have this map:&quot;. And the question you linked is doing vice versa: from json to map, and is not helpful because it&#39;s hardcoded to only one use case: from UpperCamelCase to lowerCamelCase","body":"@TheFrozenOne, Try to read the question next time, there&#39;s no one accepted style on how to display a value of a map, so I wrote it like this, it doesn&#39;t matter because I literally wrote before &quot;I have this map:&quot;. And the question you linked is doing vice versa: from json to map, and is not helpful because it&#39;s hardcoded to only one use case: from UpperCamelCase to lowerCamelCase"},{"owner":{"account_id":9607023,"reputation":281,"user_id":7132739,"display_name":"The Frozen One"},"score":0,"creation_date":1646129379,"post_id":71306444,"comment_id":126042284,"body_markdown":"It exactly describes the solution to your problem. And it might help others to help you if you provide a clear and complete example.","body":"It exactly describes the solution to your problem. And it might help others to help you if you provide a clear and complete example."},{"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"score":0,"creation_date":1646129458,"post_id":71306444,"comment_id":126042310,"body_markdown":"@TheFrozenOne, no, it&#39;s not, I already explained why, and about &quot;clear example&quot;:  in the question you linked the author describes a map literally as I did in the first version, I guess it was a clear example then, so what&#39;s the problem?","body":"@TheFrozenOne, no, it&#39;s not, I already explained why, and about &quot;clear example&quot;:  in the question you linked the author describes a map literally as I did in the first version, I guess it was a clear example then, so what&#39;s the problem?"}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646129640,"creation_date":1646129640,"answer_id":71306816,"question_id":71306444,"body_markdown":"Use `@JsonProperty` annotation. Over your property variable or over its getter do this:\r\n\r\n    @JsonProperty(&quot;testFirst&quot;)\r\n    String test_first;\r\n    \r\n    @JsonProperty(&quot;testSecond&quot;)\r\n    String test_second;\r\n\r\nApparently you can also use `@JsonGetter` and `@JsonSetter` annotations as an alternative. Read about it in [Jackson Annotation Examples][1] areticle\r\n\r\n\r\n  [1]: https://www.baeldung.com/jackson-annotations","title":"Jackson map to json with changing case","body":"<p>Use <code>@JsonProperty</code> annotation. Over your property variable or over its getter do this:</p>\n<pre><code>@JsonProperty(&quot;testFirst&quot;)\nString test_first;\n\n@JsonProperty(&quot;testSecond&quot;)\nString test_second;\n</code></pre>\n<p>Apparently you can also use <code>@JsonGetter</code> and <code>@JsonSetter</code> annotations as an alternative. Read about it in <a href=\"https://www.baeldung.com/jackson-annotations\" rel=\"nofollow noreferrer\">Jackson Annotation Examples</a> areticle</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646131583,"creation_date":1646131188,"answer_id":71307174,"question_id":71306444,"body_markdown":"There is [`StringKeySerializer`](https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/ser/std/StdKeySerializers.StringKeySerializer.html) in Jackson which may implement the functionality to change presentation of the keys in some map (e.g. using Guava [`CaseFormat`](https://guava.dev/releases/23.0/api/docs/com/google/common/base/CaseFormat.html)):\r\n```java\r\n// custom key serializer\r\nclass SnakeToCamelMapKeySerialiser extends StdKeySerializers.StringKeySerializer {\r\n    @Override\r\n    public void serialize(Object value, JsonGenerator g, SerializerProvider provider)\r\n            throws IOException {\r\n        g.writeFieldName(CaseFormat.LOWER_UNDERSCORE.to(CaseFormat.LOWER_CAMEL, (String) value));\r\n    }\r\n}\r\n\r\n// map with the custom serializer\r\n@JsonSerialize(keyUsing = SnakeToCamelMapKeySerialiser.class)\r\nclass MyMap&lt;K extends String, V&gt; extends HashMap&lt;K, V&gt; {\r\n}\r\n```\r\nThen the map is serialized with the required format:\r\n```java\r\nMap&lt;String, Integer&gt; map = new MyMap&lt;&gt;();\r\nmap.put(&quot;first_key&quot;, 1);\r\nmap.put(&quot;second_key&quot;, 2);\r\n\r\nObjectMapper mapper = new ObjectMapper();\r\n\r\n\r\nString json = mapper.writeValueAsString(map);\r\n\r\nSystem.out.println(json);\r\n// -&gt; {&quot;firstKey&quot;:1,&quot;secondKey&quot;:2}\r\n```","title":"Jackson map to json with changing case","body":"<p>There is <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/ser/std/StdKeySerializers.StringKeySerializer.html\" rel=\"nofollow noreferrer\"><code>StringKeySerializer</code></a> in Jackson which may implement the functionality to change presentation of the keys in some map (e.g. using Guava <a href=\"https://guava.dev/releases/23.0/api/docs/com/google/common/base/CaseFormat.html\" rel=\"nofollow noreferrer\"><code>CaseFormat</code></a>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>// custom key serializer\nclass SnakeToCamelMapKeySerialiser extends StdKeySerializers.StringKeySerializer {\n    @Override\n    public void serialize(Object value, JsonGenerator g, SerializerProvider provider)\n            throws IOException {\n        g.writeFieldName(CaseFormat.LOWER_UNDERSCORE.to(CaseFormat.LOWER_CAMEL, (String) value));\n    }\n}\n\n// map with the custom serializer\n@JsonSerialize(keyUsing = SnakeToCamelMapKeySerialiser.class)\nclass MyMap&lt;K extends String, V&gt; extends HashMap&lt;K, V&gt; {\n}\n</code></pre>\n<p>Then the map is serialized with the required format:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Integer&gt; map = new MyMap&lt;&gt;();\nmap.put(&quot;first_key&quot;, 1);\nmap.put(&quot;second_key&quot;, 2);\n\nObjectMapper mapper = new ObjectMapper();\n\n\nString json = mapper.writeValueAsString(map);\n\nSystem.out.println(json);\n// -&gt; {&quot;firstKey&quot;:1,&quot;secondKey&quot;:2}\n</code></pre>\n"}],"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1254,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71307174,"answer_count":2,"score":4,"last_activity_date":1646131583,"creation_date":1646127741,"question_id":71306444,"body_markdown":"I want to convert map to json but with changing case using jackson. For example, I have this map:\r\n```\r\n &quot;test_first&quot; -&gt; 1,\r\n &quot;test_second&quot; -&gt; 2,\r\n```\r\nI want to convert it to json but with changing from underscore case to lowerCamelCase. How do I do that? Using this didn&#39;t help:\r\n```\r\n// Map&lt;String, String&gt; fields;\r\n\r\nvar mapper = new ObjectMapper();\r\nmapper.setPropertyNamingStrategy(PropertyNamingStrategy.LOWER_CAMEL_CASE); \r\n// setPropertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE) didn&#39;t help too\r\nString json = mapper.writeValueAsString(fields);\r\n```","title":"Jackson map to json with changing case","body":"<p>I want to convert map to json but with changing case using jackson. For example, I have this map:</p>\n<pre><code> &quot;test_first&quot; -&gt; 1,\n &quot;test_second&quot; -&gt; 2,\n</code></pre>\n<p>I want to convert it to json but with changing from underscore case to lowerCamelCase. How do I do that? Using this didn't help:</p>\n<pre><code>// Map&lt;String, String&gt; fields;\n\nvar mapper = new ObjectMapper();\nmapper.setPropertyNamingStrategy(PropertyNamingStrategy.LOWER_CAMEL_CASE); \n// setPropertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE) didn't help too\nString json = mapper.writeValueAsString(fields);\n</code></pre>\n"},{"tags":["java","icalendar","ical4j"],"answers":[{"tags":[],"owner":{"account_id":1717188,"reputation":935,"user_id":1574012,"accept_rate":67,"display_name":"cljk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646131057,"creation_date":1646131057,"answer_id":71307153,"question_id":69010053,"body_markdown":"I did it this way\r\n\r\n```\r\nParameterList valueDuration = new ParameterList();\r\nvalueDuration.add(new Value(&quot;DURATION&quot;));\r\ncalendar.getProperties().add(new RefreshInterval(valueDuration, java.time.Duration.ofMinutes(30) ));\r\n```\r\n\r\nwhich results in output of\r\n\r\n```\r\nREFRESH-INTERVAL;VALUE=DURATION:PT30M\r\n```\r\n\r\n","title":"Adding Refresh-Interval Parameter in ics file using iCal4J library in java","body":"<p>I did it this way</p>\n<pre><code>ParameterList valueDuration = new ParameterList();\nvalueDuration.add(new Value(&quot;DURATION&quot;));\ncalendar.getProperties().add(new RefreshInterval(valueDuration, java.time.Duration.ofMinutes(30) ));\n</code></pre>\n<p>which results in output of</p>\n<pre><code>REFRESH-INTERVAL;VALUE=DURATION:PT30M\n</code></pre>\n"}],"owner":{"account_id":15908965,"reputation":81,"user_id":11479367,"display_name":"Nishant Joshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":473,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1646131057,"creation_date":1630483885,"question_id":69010053,"body_markdown":"Below is my ics file and I want to add REFRESH-INTERVAL;VALUE=DURATION:PT12H parameter in the file using ical4j library in java. Can anyone suggest how to perform that action.\r\n\r\n    BEGIN:VCALENDAR\r\n    VERSION:2.0\r\n    PRODID:-//My Company//NONSGML Event Calendar//EN\r\n    URL:http://my.calendar/url\r\n    NAME:My Calendar Name\r\n    X-WR-CALNAME:My Calendar Name\r\n    DESCRIPTION:A description of my calendar\r\n    X-WR-CALDESC:A description of my calendar\r\n    TIMEZONE-ID:Europe/London\r\n    X-WR-TIMEZONE:Europe/London\r\n    X-PUBLISHED-TTL:PT12H\r\n    COLOR:34:50:105\r\n    CALSCALE:GREGORIAN\r\n    METHOD:PUBLISH","title":"Adding Refresh-Interval Parameter in ics file using iCal4J library in java","body":"<p>Below is my ics file and I want to add REFRESH-INTERVAL;VALUE=DURATION:PT12H parameter in the file using ical4j library in java. Can anyone suggest how to perform that action.</p>\n<pre><code>BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//My Company//NONSGML Event Calendar//EN\nURL:http://my.calendar/url\nNAME:My Calendar Name\nX-WR-CALNAME:My Calendar Name\nDESCRIPTION:A description of my calendar\nX-WR-CALDESC:A description of my calendar\nTIMEZONE-ID:Europe/London\nX-WR-TIMEZONE:Europe/London\nX-PUBLISHED-TTL:PT12H\nCOLOR:34:50:105\nCALSCALE:GREGORIAN\nMETHOD:PUBLISH\n</code></pre>\n"},{"tags":["java","unit-testing","testing","junit"],"comments":[{"owner":{"account_id":23457968,"reputation":1,"user_id":17513197,"display_name":"MasonK01"},"score":0,"creation_date":1646079560,"post_id":71300631,"comment_id":126031582,"body_markdown":"Essentially i want to make the for loop within the test method to be able to fill the nextInt with values 1-9 as the for loop executes","body":"Essentially i want to make the for loop within the test method to be able to fill the nextInt with values 1-9 as the for loop executes"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1646079737,"post_id":71300631,"comment_id":126031644,"body_markdown":"You can create your own instance of `Scanner` seeded with a `String` value which basically represents all the moves of the players in turn, ie `0 1 4 2 8` or something","body":"You can create your own instance of <code>Scanner</code> seeded with a <code>String</code> value which basically represents all the moves of the players in turn, ie <code>0 1 4 2 8</code> or something"}],"owner":{"account_id":23457968,"reputation":1,"user_id":17513197,"display_name":"MasonK01"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646130705,"creation_date":1646079465,"question_id":71300631,"body_markdown":"As the title says, I am making automated test cases for a tic tac toe game, however I use the scanner nextInt method within the method I&#39;m trying to test, i just dont understand how to make my test case automatically fill the input rather than the program asking the user. Here are the two methods: \r\n\r\n\r\nMain class method:\r\n```\r\npublic static void playGame(String playerOne, String playerTwo, char[][] gameBoard, int playerNum, Scanner input) {\r\n        int moveSelected = 0;\r\n        while (moveSelected &gt;= 10 || moveSelected &lt;= 0) {\r\n            moveSelected = 0;\r\n            try {\r\n                if (playerNum == 1) {\r\n                    System.out.println(playerOne + &quot; please input your spot selection(1-9)&quot;);\r\n                } else {\r\n                    System.out.println(playerTwo + &quot; please input your spot selection(1-9)&quot;);\r\n                }\r\n                moveSelected = input.nextInt();\r\n            }\r\n            catch(InputMismatchException e){\r\n                System.err.println(&quot;Wrong input! Integer Values Only.&quot;);\r\n                input.next();\r\n            }\r\n        }\r\n\r\n        playerMove(moveSelected, playerNum, gameBoard);\r\n        displayBoard(gameBoard);\r\n    }\r\n```\r\nTest Method: \r\n```\r\npublic void testplayGame(){\r\n        Scanner input = new Scanner(System.in);\r\n        char[][] gameBoard = {{&#39; &#39;, &#39;|&#39;, &#39; &#39;, &#39;|&#39;, &#39; &#39;},\r\n                {&#39;-&#39;, &#39;+&#39;, &#39;-&#39;, &#39;+&#39;, &#39;-&#39;},\r\n                {&#39; &#39;, &#39;|&#39;, &#39; &#39;, &#39;|&#39;, &#39; &#39;},\r\n                {&#39;-&#39;, &#39;+&#39;, &#39;-&#39;, &#39;+&#39;, &#39;-&#39;},\r\n                {&#39; &#39;, &#39;|&#39;, &#39; &#39;, &#39;|&#39;, &#39; &#39;}};\r\n        for(int i =1; i&lt;10;i++) {\r\n            assertEquals(fstTest.playGame(&quot;p1&quot;,&quot;p2&quot;,gameBoard,1,input));\r\n        }\r\n    }","title":"Making automated tests for a basic tic tac toe game","body":"<p>As the title says, I am making automated test cases for a tic tac toe game, however I use the scanner nextInt method within the method I'm trying to test, i just dont understand how to make my test case automatically fill the input rather than the program asking the user. Here are the two methods:</p>\n<p>Main class method:</p>\n<pre><code>public static void playGame(String playerOne, String playerTwo, char[][] gameBoard, int playerNum, Scanner input) {\n        int moveSelected = 0;\n        while (moveSelected &gt;= 10 || moveSelected &lt;= 0) {\n            moveSelected = 0;\n            try {\n                if (playerNum == 1) {\n                    System.out.println(playerOne + &quot; please input your spot selection(1-9)&quot;);\n                } else {\n                    System.out.println(playerTwo + &quot; please input your spot selection(1-9)&quot;);\n                }\n                moveSelected = input.nextInt();\n            }\n            catch(InputMismatchException e){\n                System.err.println(&quot;Wrong input! Integer Values Only.&quot;);\n                input.next();\n            }\n        }\n\n        playerMove(moveSelected, playerNum, gameBoard);\n        displayBoard(gameBoard);\n    }\n</code></pre>\n<p>Test Method:</p>\n<pre><code>public void testplayGame(){\n        Scanner input = new Scanner(System.in);\n        char[][] gameBoard = {{' ', '|', ' ', '|', ' '},\n                {'-', '+', '-', '+', '-'},\n                {' ', '|', ' ', '|', ' '},\n                {'-', '+', '-', '+', '-'},\n                {' ', '|', ' ', '|', ' '}};\n        for(int i =1; i&lt;10;i++) {\n            assertEquals(fstTest.playGame(&quot;p1&quot;,&quot;p2&quot;,gameBoard,1,input));\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa","beancreationexception"],"comments":[{"owner":{"account_id":19635311,"reputation":1574,"user_id":14372685,"display_name":"tbjorch"},"score":0,"creation_date":1646131498,"post_id":71306549,"comment_id":126042958,"body_markdown":"Tried using mapped superclass? https://vladmihalcea.com/how-to-inherit-properties-from-a-base-class-entity-using-mappedsuperclass-with-jpa-and-hibernate/","body":"Tried using mapped superclass? <a href=\"https://vladmihalcea.com/how-to-inherit-properties-from-a-base-class-entity-using-mappedsuperclass-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a>"},{"owner":{"account_id":24415325,"reputation":1,"user_id":18342257,"display_name":"Lucas Van Der Stuyft"},"score":0,"creation_date":1646402973,"post_id":71306549,"comment_id":126120795,"body_markdown":"Nope, the same result as when I use @Entity...","body":"Nope, the same result as when I use @Entity..."}],"owner":{"account_id":24415325,"reputation":1,"user_id":18342257,"display_name":"Lucas Van Der Stuyft"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646130691,"creation_date":1646128144,"question_id":71306549,"body_markdown":"I&#39;m making tables in my PostgreSQL database using Hibernate. I have a class user, from which some other classes like student inherit using `@inheritance`. When I don&#39;t use `@Entity`, all the tables are created like they should, but when I use `@Entity`, none of the tables get made, and I get the following error:\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.ClassCastException: class org.hibernate.mapping.SingleTableSubclass cannot be cast to class org.hibernate.mapping.RootClass (org.hibernate.mapping.SingleTableSubclass and org.hibernate.mapping.RootClass are in unnamed module of loader &#39;app&#39;)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat com.example.MasterproofTool.MasterproefToolApplication.main(MasterproefToolApplication.java:10) ~[classes/:na]\r\nCaused by: java.lang.ClassCastException: class org.hibernate.mapping.SingleTableSubclass cannot be cast to class org.hibernate.mapping.RootClass (org.hibernate.mapping.SingleTableSubclass and org.hibernate.mapping.RootClass are in unnamed module of loader &#39;app&#39;)\r\n\tat org.hibernate.cfg.annotations.PropertyBinder.bind(PropertyBinder.java:214) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.cfg.annotations.PropertyBinder.makePropertyValueAndBind(PropertyBinder.java:205) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.cfg.AnnotationBinder.processElementAnnotations(AnnotationBinder.java:2319) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.cfg.AnnotationBinder.processIdPropertiesIfNotAlready(AnnotationBinder.java:967) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:792) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:225) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:239) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:282) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.15.jar:5.3.15]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.15.jar:5.3.15]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.15.jar:5.3.15]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.15.jar:5.3.15]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\t... 16 common frames omitted\r\n```\r\n\r\nI have searched for an answer on the internet, but haven&#39;t found anything. The solution probably isn&#39;t that hard, but I can&#39;t seem to find it.","title":"Hibernate BeanCreationException when using @entity","body":"<p>I'm making tables in my PostgreSQL database using Hibernate. I have a class user, from which some other classes like student inherit using <code>@inheritance</code>. When I don't use <code>@Entity</code>, all the tables are created like they should, but when I use <code>@Entity</code>, none of the tables get made, and I get the following error:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.ClassCastException: class org.hibernate.mapping.SingleTableSubclass cannot be cast to class org.hibernate.mapping.RootClass (org.hibernate.mapping.SingleTableSubclass and org.hibernate.mapping.RootClass are in unnamed module of loader 'app')\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.6.3.jar:2.6.3]\n    at com.example.MasterproofTool.MasterproefToolApplication.main(MasterproefToolApplication.java:10) ~[classes/:na]\nCaused by: java.lang.ClassCastException: class org.hibernate.mapping.SingleTableSubclass cannot be cast to class org.hibernate.mapping.RootClass (org.hibernate.mapping.SingleTableSubclass and org.hibernate.mapping.RootClass are in unnamed module of loader 'app')\n    at org.hibernate.cfg.annotations.PropertyBinder.bind(PropertyBinder.java:214) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.cfg.annotations.PropertyBinder.makePropertyValueAndBind(PropertyBinder.java:205) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.cfg.AnnotationBinder.processElementAnnotations(AnnotationBinder.java:2319) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.cfg.AnnotationBinder.processIdPropertiesIfNotAlready(AnnotationBinder.java:967) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:792) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:225) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:239) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:282) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.15.jar:5.3.15]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.15.jar:5.3.15]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.15.jar:5.3.15]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.15.jar:5.3.15]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.15.jar:5.3.15]\n    ... 16 common frames omitted\n</code></pre>\n<p>I have searched for an answer on the internet, but haven't found anything. The solution probably isn't that hard, but I can't seem to find it.</p>\n"},{"tags":["java","xml","xpath"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646130673,"creation_date":1646130673,"answer_id":71307054,"question_id":71306875,"body_markdown":"Try using XPath `local-name()`  \r\nInstead of  \r\n```java\r\nXPathExpression expr = xpath.compile(&quot;/Employees/EXTENSION/OTHER/ULAD:HMDAGenderType&quot;);\r\n```\r\nPlease try \r\n```java\r\nXPathExpression expr = xpath.compile(&quot;//*[local-name()=&#39;HMDAGenderType&#39;]&quot;);\r\n```\r\nAnd to get the text attribute value directly you can use this XPath:\r\n```java\r\nXPathExpression expr = xpath.compile(&quot;//*[local-name()=&#39;HMDAGenderType&#39;]/text()&quot;);\r\n```\r\n","title":"XPath not reading xml tag with namespace","body":"<p>Try using XPath <code>local-name()</code><br />\nInstead of</p>\n<pre class=\"lang-java prettyprint-override\"><code>XPathExpression expr = xpath.compile(&quot;/Employees/EXTENSION/OTHER/ULAD:HMDAGenderType&quot;);\n</code></pre>\n<p>Please try</p>\n<pre class=\"lang-java prettyprint-override\"><code>XPathExpression expr = xpath.compile(&quot;//*[local-name()='HMDAGenderType']&quot;);\n</code></pre>\n<p>And to get the text attribute value directly you can use this XPath:</p>\n<pre class=\"lang-java prettyprint-override\"><code>XPathExpression expr = xpath.compile(&quot;//*[local-name()='HMDAGenderType']/text()&quot;);\n</code></pre>\n"}],"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71307054,"answer_count":1,"score":1,"last_activity_date":1646130673,"creation_date":1646129870,"question_id":71306875,"body_markdown":"hi i am trying to read a xml which have namespace defined and some tags are with namespaces. But namespace tags always give empty value when i use XPath to read those tags.\r\n\r\nSample XML\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Employees xmlns:ULAD=&quot;http://www.datamodelextension.org/Schema/ULAD&quot;&gt;\r\n\t&lt;EXTENSION&gt;\r\n\t\t&lt;OTHER&gt;\r\n\t\t\t&lt;ULAD:HMDAGenderType&gt;Male&lt;/ULAD:HMDAGenderType&gt;\r\n\t\t&lt;/OTHER&gt;\r\n\t&lt;/EXTENSION&gt;\r\n    &lt;/Employees&gt;\r\n\r\nSample Java Program to read ULAD:HMDAGenderType\r\n\r\n    public static void main(String args[]) throws XPathExpressionException {\r\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n    factory.setNamespaceAware(true);\r\n    try {\r\n      DocumentBuilder builder = factory.newDocumentBuilder();\r\n      Document doc = builder.parse(&quot;C:\\\\test.xml&quot;);\r\n      XPathFactory xpathFactory = XPathFactory.newInstance();\r\n      XPath xpath = xpathFactory.newXPath();\r\n      XPathExpression expr = xpath.compile(&quot;/Employees/EXTENSION/OTHER/ULAD:HMDAGenderType&quot;);\r\n      System.out.println(&quot;Gender :: &quot; + expr.evaluate(doc, XPathConstants.STRING));\r\n    } catch (ParserConfigurationException | SAXException | IOException e) {\r\n      e.printStackTrace();\r\n    }\r\n    }\r\n\r\nOutput :: null\r\n\r\nExpected Output :: Male\r\n\r\nHow to read such tags ?","title":"XPath not reading xml tag with namespace","body":"<p>hi i am trying to read a xml which have namespace defined and some tags are with namespaces. But namespace tags always give empty value when i use XPath to read those tags.</p>\n<p>Sample XML</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Employees xmlns:ULAD=&quot;http://www.datamodelextension.org/Schema/ULAD&quot;&gt;\n&lt;EXTENSION&gt;\n    &lt;OTHER&gt;\n        &lt;ULAD:HMDAGenderType&gt;Male&lt;/ULAD:HMDAGenderType&gt;\n    &lt;/OTHER&gt;\n&lt;/EXTENSION&gt;\n&lt;/Employees&gt;\n</code></pre>\n<p>Sample Java Program to read ULAD:HMDAGenderType</p>\n<pre><code>public static void main(String args[]) throws XPathExpressionException {\nDocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\nfactory.setNamespaceAware(true);\ntry {\n  DocumentBuilder builder = factory.newDocumentBuilder();\n  Document doc = builder.parse(&quot;C:\\\\test.xml&quot;);\n  XPathFactory xpathFactory = XPathFactory.newInstance();\n  XPath xpath = xpathFactory.newXPath();\n  XPathExpression expr = xpath.compile(&quot;/Employees/EXTENSION/OTHER/ULAD:HMDAGenderType&quot;);\n  System.out.println(&quot;Gender :: &quot; + expr.evaluate(doc, XPathConstants.STRING));\n} catch (ParserConfigurationException | SAXException | IOException e) {\n  e.printStackTrace();\n}\n}\n</code></pre>\n<p>Output :: null</p>\n<p>Expected Output :: Male</p>\n<p>How to read such tags ?</p>\n"},{"tags":["java","jpa","caching","redis","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":2831074,"reputation":105,"user_id":2432656,"accept_rate":100,"display_name":"tbere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646130668,"creation_date":1646130668,"answer_id":71307051,"question_id":71305766,"body_markdown":"I found a proper solution so far. Its all about Thread context :) \r\n\r\nThread.currentThread().getContextClassLoader()\r\n\r\nthis line is necessary \r\n\r\n    RedisCacheConfiguration redisCacheConfiguration = RedisCacheConfiguration\r\n\t\t.defaultCacheConfig(Thread.currentThread().getContextClassLoader())\r\n\t\t.entryTtl( Duration.ofHours(1));\r\n\r\n ","title":"ClassCastException when loading from Redis Cache","body":"<p>I found a proper solution so far. Its all about Thread context :)</p>\n<p>Thread.currentThread().getContextClassLoader()</p>\n<p>this line is necessary</p>\n<pre><code>RedisCacheConfiguration redisCacheConfiguration = RedisCacheConfiguration\n    .defaultCacheConfig(Thread.currentThread().getContextClassLoader())\n    .entryTtl( Duration.ofHours(1));\n</code></pre>\n"}],"owner":{"account_id":2831074,"reputation":105,"user_id":2432656,"accept_rate":100,"display_name":"tbere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646130668,"creation_date":1646124113,"question_id":71305766,"body_markdown":"I geta ClassCastException when reading a response from Redis Cache. Everything looks good when hitting the DB and store it in Redis Cache. The second read out of the Redis Cache terminates in a ClassCastException when i want to iterate over the linked HashSet. When I debug the Hashmap all values are correct, until I reach the foreach loop. When I want to evaluate an Entry I get the Exception.\r\nIs it a configuration property that i missed in the Cacheconfig?\r\n\r\nCode: \r\n\r\nJpa Repository\r\n\r\n    @EntityGraph(value = &quot;Usr.fullCascade&quot;)\r\n    @Cacheable(value = &quot;UsrEntity&quot;, cacheManager = &quot;userEntity&quot;)\r\n    Set&lt;UsrEntity&gt; findByCompanyidAndStatusNot(int cid, UserRoleStatus status);\r\n\r\nService\r\n\r\n    Set&lt;UsrEntity&gt; usrEntity = userRepository.findByCompanyidAndStatusNot(companyID,\r\n    UserRoleStatus.X);\r\n    usrEntity.forEach(user -&gt; {\r\n            userDtos.add(companyUserDataMapper.toDto(user));\r\n    });\r\n\r\nCacheConfig\r\n\r\n \t@Bean\r\n\tJedisConnectionFactory jedisConnectionFactory() {\r\n\t\tRedisStandaloneConfiguration redisStandaloneConfiguration = new \r\n             RedisStandaloneConfiguration(&quot;localhost&quot;, 6379);\r\n\t\treturn new JedisConnectionFactory(redisStandaloneConfiguration);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic RedisTemplate redisTemplate() {\r\n\t\tRedisTemplate template = new RedisTemplate&lt;&gt;();\r\n\t\ttemplate.setConnectionFactory(jedisConnectionFactory());\r\n\t\treturn template;\r\n\t}\r\n\r\n\t@Bean(&quot;userEntity&quot;)\r\n\tpublic CacheManager cacheManager(RedisConnectionFactory redisConnectionFactory) {\r\n\r\n\t\tRedisCacheConfiguration redisCacheConfiguration = \r\n            RedisCacheConfiguration.defaultCacheConfig()\r\n\t\t\t.entryTtl( Duration.ofHours(1));\r\n\t\tredisCacheConfiguration.disableCachingNullValues();\r\n\t\treturn RedisCacheManager\r\n\t\t\t.builder( \r\n             redisCacheWriter.nonLockingRedisCacheWriter(redisConnectionFactory))\r\n\t\t\t.cacheDefaults(redisCacheConfiguration).build();\r\n\t}\r\n","title":"ClassCastException when loading from Redis Cache","body":"<p>I geta ClassCastException when reading a response from Redis Cache. Everything looks good when hitting the DB and store it in Redis Cache. The second read out of the Redis Cache terminates in a ClassCastException when i want to iterate over the linked HashSet. When I debug the Hashmap all values are correct, until I reach the foreach loop. When I want to evaluate an Entry I get the Exception.\nIs it a configuration property that i missed in the Cacheconfig?</p>\n<p>Code:</p>\n<p>Jpa Repository</p>\n<pre><code>@EntityGraph(value = &quot;Usr.fullCascade&quot;)\n@Cacheable(value = &quot;UsrEntity&quot;, cacheManager = &quot;userEntity&quot;)\nSet&lt;UsrEntity&gt; findByCompanyidAndStatusNot(int cid, UserRoleStatus status);\n</code></pre>\n<p>Service</p>\n<pre><code>Set&lt;UsrEntity&gt; usrEntity = userRepository.findByCompanyidAndStatusNot(companyID,\nUserRoleStatus.X);\nusrEntity.forEach(user -&gt; {\n        userDtos.add(companyUserDataMapper.toDto(user));\n});\n</code></pre>\n<p>CacheConfig</p>\n<pre><code>@Bean\nJedisConnectionFactory jedisConnectionFactory() {\n    RedisStandaloneConfiguration redisStandaloneConfiguration = new \n         RedisStandaloneConfiguration(&quot;localhost&quot;, 6379);\n    return new JedisConnectionFactory(redisStandaloneConfiguration);\n}\n\n@Bean\npublic RedisTemplate redisTemplate() {\n    RedisTemplate template = new RedisTemplate&lt;&gt;();\n    template.setConnectionFactory(jedisConnectionFactory());\n    return template;\n}\n\n@Bean(&quot;userEntity&quot;)\npublic CacheManager cacheManager(RedisConnectionFactory redisConnectionFactory) {\n\n    RedisCacheConfiguration redisCacheConfiguration = \n        RedisCacheConfiguration.defaultCacheConfig()\n        .entryTtl( Duration.ofHours(1));\n    redisCacheConfiguration.disableCachingNullValues();\n    return RedisCacheManager\n        .builder( \n         redisCacheWriter.nonLockingRedisCacheWriter(redisConnectionFactory))\n        .cacheDefaults(redisCacheConfiguration).build();\n}\n</code></pre>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"display_name":"user142162"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1325857312,"creation_date":1325857312,"answer_id":8758700,"question_id":8758653,"body_markdown":"    String newStr = str.replaceAll(&quot;&lt;[^&gt;]*&gt;&quot;, &quot;&quot;);","title":"Regular expression to remove a substring between two characters","body":"<pre><code>String newStr = str.replaceAll(\"&lt;[^&gt;]*&gt;\", \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1325857593,"creation_date":1325857593,"answer_id":8758765,"question_id":8758653,"body_markdown":"Try using the regex:\r\n\r\n    &lt;.*?&gt;\r\n\r\nFor example:\r\n\r\n    String s = &quot;Hi&lt;friends&gt;and&lt;family&gt;&quot;;\r\n    System.out.println(s.replaceAll(&quot;&lt;.*?&gt;&quot;, &quot;&quot;));","title":"Regular expression to remove a substring between two characters","body":"<p>Try using the regex:</p>\n\n<pre><code>&lt;.*?&gt;\n</code></pre>\n\n<p>For example:</p>\n\n<pre><code>String s = \"Hi&lt;friends&gt;and&lt;family&gt;\";\nSystem.out.println(s.replaceAll(\"&lt;.*?&gt;\", \"\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":379167,"reputation":1086,"user_id":732347,"accept_rate":67,"display_name":"Taha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1326188796,"creation_date":1326188796,"answer_id":8801217,"question_id":8758653,"body_markdown":"Give this code segment a try!\r\n\r\n    String str = &quot;Hi&lt;family&gt;and&lt;/family&gt;test&quot;;       \r\n            \r\n    for (int i = 0; i &lt; str.split(&quot;&lt;/?[a-z]+&gt;&quot;).length; i++)\r\n      System.out.println(str.split(&quot;&lt;/?[a-z]+&gt;&quot;)[i]);","title":"Regular expression to remove a substring between two characters","body":"<p>Give this code segment a try!</p>\n\n<pre><code>String str = \"Hi&lt;family&gt;and&lt;/family&gt;test\";       \n\nfor (int i = 0; i &lt; str.split(\"&lt;/?[a-z]+&gt;\").length; i++)\n  System.out.println(str.split(\"&lt;/?[a-z]+&gt;\")[i]);\n</code></pre>\n"}],"owner":{"account_id":1093673,"reputation":1519,"user_id":1087746,"accept_rate":53,"display_name":"Ragini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39345,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":8758765,"answer_count":3,"score":15,"last_activity_date":1646130555,"creation_date":1325857086,"question_id":8758653,"body_markdown":"I want to remove anything between `&lt;` and `&gt;` including (`&lt;` and `&gt;`) from my string with regular expression. Here are few examples.\r\n\r\n`Hi&lt;friends&gt;and&lt;family&gt;` it should give `Hiand`\r\n\r\n`&lt;Rekha Verma&gt;rekha@gmail.com` then it should give `rekha@gmail.com`\r\n\r\n`Reva Patel` it should give `Reva Patel`\r\n\r\n`&lt;Reva Patel&gt;revapatel@gmail.com,&lt;rekha Verma&gt;rekha@gmail.com` it should give\r\n`revapatel@gmail.com,rekha@gmail.com`\r\n\r\nCan anyone please give me a regular expression for this? I need to implement it in Java.\r\n","title":"Regular expression to remove a substring between two characters","body":"<p>I want to remove anything between <code>&lt;</code> and <code>&gt;</code> including (<code>&lt;</code> and <code>&gt;</code>) from my string with regular expression. Here are few examples.</p>\n\n<p><code>Hi&lt;friends&gt;and&lt;family&gt;</code> it should give <code>Hiand</code></p>\n\n<p><code>&lt;Rekha Verma&gt;rekha@gmail.com</code> then it should give <code>rekha@gmail.com</code></p>\n\n<p><code>Reva Patel</code> it should give <code>Reva Patel</code></p>\n\n<p><code>&lt;Reva Patel&gt;revapatel@gmail.com,&lt;rekha Verma&gt;rekha@gmail.com</code> it should give\n<code>revapatel@gmail.com,rekha@gmail.com</code></p>\n\n<p>Can anyone please give me a regular expression for this? I need to implement it in Java.</p>\n"},{"tags":["java","android","rx-java2"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1646054314,"post_id":71295510,"comment_id":126022359,"body_markdown":"Add your code with question . the way you are creating and exposing Observable .","body":"Add your code with question . the way you are creating and exposing Observable ."},{"owner":{"account_id":19206689,"reputation":150,"user_id":14033398,"display_name":"Estevanbs"},"score":0,"creation_date":1646054930,"post_id":71295510,"comment_id":126022571,"body_markdown":"@ADM added the code","body":"@ADM added the code"}],"answers":[{"tags":[],"owner":{"account_id":2139883,"reputation":141,"user_id":5288010,"display_name":"Mohamed Saleh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646130549,"creation_date":1646060569,"answer_id":71296949,"question_id":71295510,"body_markdown":"You need to convert your observables to hot observables \r\n\r\nyou can read more about hot and cold observables here \r\nhttps://github.com/Froussios/Intro-To-RxJava/blob/master/Part%203%20-%20Taming%20the%20sequence/6.%20Hot%20and%20Cold%20observables.md\r\n\r\nHere is your updated code:\r\n\r\n    private ConnectableObservable&lt;UploadPercentage&gt; uploadObservable;\r\n\r\n    public ConnectableObservable&lt;UploadPercentage&gt; getUploadObservable() {\r\n        return uploadObservable;\r\n    }\r\n\r\n    private ConnectableObservable&lt;UploadPercentage&gt; uploadFile(File file) {\r\n        ProgressRequestBody fileUploadBody = new ProgressRequestBody(file, &quot;multipart/form-data&quot;);\r\n\r\n        MultipartBody.Part multipartFileBody =\r\n                MultipartBody.Part.createFormData(\r\n                        &quot;file&quot;,\r\n                        file.getName(),\r\n                        fileUploadBody);\r\n\r\n        InterfaceUpload apiService = retrofit.create(InterfaceUpload.class);\r\n\r\n        Response&lt;Void&gt; emptyResponse = Response.success(null);\r\n\r\n        Observable&lt;Response&lt;Void&gt;&gt; apiRequestObservable = apiService.uploadFile(\r\n                        multipartFileBody\r\n                )\r\n                // It starts by emitting an empty response to follow the\r\n                // percentage even though the api still have not responded\r\n                .startWith(Observable.just(emptyResponse));\r\n\r\n        Observable&lt;Integer&gt; percentageUploadedObservable = fileUploadBody.getProgressSubject();\r\n\r\n        uploadObservable = Observable.combineLatest(\r\n                percentageUploadedObservable,\r\n                apiRequestObservable,\r\n                (percentage, apiResponse) -&gt;\r\n                new UploadPercentage(percentage, apiResponse, file))\r\n                .publish();\r\n\r\n        return uploadObservable;\r\n    }","title":"Subscribe to an observable when it&#39;s already running","body":"<p>You need to convert your observables to hot observables</p>\n<p>you can read more about hot and cold observables here\n<a href=\"https://github.com/Froussios/Intro-To-RxJava/blob/master/Part%203%20-%20Taming%20the%20sequence/6.%20Hot%20and%20Cold%20observables.md\" rel=\"nofollow noreferrer\">https://github.com/Froussios/Intro-To-RxJava/blob/master/Part%203%20-%20Taming%20the%20sequence/6.%20Hot%20and%20Cold%20observables.md</a></p>\n<p>Here is your updated code:</p>\n<pre><code>private ConnectableObservable&lt;UploadPercentage&gt; uploadObservable;\n\npublic ConnectableObservable&lt;UploadPercentage&gt; getUploadObservable() {\n    return uploadObservable;\n}\n\nprivate ConnectableObservable&lt;UploadPercentage&gt; uploadFile(File file) {\n    ProgressRequestBody fileUploadBody = new ProgressRequestBody(file, &quot;multipart/form-data&quot;);\n\n    MultipartBody.Part multipartFileBody =\n            MultipartBody.Part.createFormData(\n                    &quot;file&quot;,\n                    file.getName(),\n                    fileUploadBody);\n\n    InterfaceUpload apiService = retrofit.create(InterfaceUpload.class);\n\n    Response&lt;Void&gt; emptyResponse = Response.success(null);\n\n    Observable&lt;Response&lt;Void&gt;&gt; apiRequestObservable = apiService.uploadFile(\n                    multipartFileBody\n            )\n            // It starts by emitting an empty response to follow the\n            // percentage even though the api still have not responded\n            .startWith(Observable.just(emptyResponse));\n\n    Observable&lt;Integer&gt; percentageUploadedObservable = fileUploadBody.getProgressSubject();\n\n    uploadObservable = Observable.combineLatest(\n            percentageUploadedObservable,\n            apiRequestObservable,\n            (percentage, apiResponse) -&gt;\n            new UploadPercentage(percentage, apiResponse, file))\n            .publish();\n\n    return uploadObservable;\n}\n</code></pre>\n"}],"owner":{"account_id":19206689,"reputation":150,"user_id":14033398,"display_name":"Estevanbs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71296949,"answer_count":1,"score":0,"last_activity_date":1646130549,"creation_date":1646053783,"question_id":71295510,"body_markdown":"I want to subscribe to an observable when it&#39;s already running.\r\n\r\nE.g. I create an observable to emit some upload percentage somewhere in the app, and start that upload. When users launch another app screen, I need to show a progress bar of what&#39;s happing. What&#39;s the best way to do this?\r\n\r\nThis is my current code\r\n\r\n    private Observable&lt;UploadPercentage&gt; uploadFile(File file) {\r\n        ProgressRequestBody fileUploadBody = new ProgressRequestBody(file, &quot;multipart/form-data&quot;);\r\n\r\n        MultipartBody.Part multipartFileBody =\r\n                MultipartBody.Part.createFormData(\r\n                        &quot;file&quot;,\r\n                        file.getName(),\r\n                        fileUploadBody);\r\n\r\n        InterfaceUpload apiService = retrofit.create(InterfaceUpload.class);\r\n\r\n        Response&lt;Void&gt; emptyResponse = Response.success(null);\r\n\r\n        Observable&lt;Response&lt;Void&gt;&gt; apiRequestObservable = apiService.uploadFile(\r\n                        multipartFileBody\r\n                )\r\n                // It starts by emitting an empty response to follow the\r\n                // percentage even though the api still have not responded\r\n                .startWith(Observable.just(emptyResponse));\r\n\r\n        Observable&lt;Integer&gt; percentageUploadedObservable = fileUploadBody.getProgressSubject();\r\n\r\n        return Observable.combineLatest(\r\n                percentageUploadedObservable,\r\n                apiRequestObservable,\r\n                (percentage, apiResponse) -&gt;\r\n                new UploadPercentage(percentage, apiResponse, file));\r\n    }\r\n\r\n","title":"Subscribe to an observable when it&#39;s already running","body":"<p>I want to subscribe to an observable when it's already running.</p>\n<p>E.g. I create an observable to emit some upload percentage somewhere in the app, and start that upload. When users launch another app screen, I need to show a progress bar of what's happing. What's the best way to do this?</p>\n<p>This is my current code</p>\n<pre><code>private Observable&lt;UploadPercentage&gt; uploadFile(File file) {\n    ProgressRequestBody fileUploadBody = new ProgressRequestBody(file, &quot;multipart/form-data&quot;);\n\n    MultipartBody.Part multipartFileBody =\n            MultipartBody.Part.createFormData(\n                    &quot;file&quot;,\n                    file.getName(),\n                    fileUploadBody);\n\n    InterfaceUpload apiService = retrofit.create(InterfaceUpload.class);\n\n    Response&lt;Void&gt; emptyResponse = Response.success(null);\n\n    Observable&lt;Response&lt;Void&gt;&gt; apiRequestObservable = apiService.uploadFile(\n                    multipartFileBody\n            )\n            // It starts by emitting an empty response to follow the\n            // percentage even though the api still have not responded\n            .startWith(Observable.just(emptyResponse));\n\n    Observable&lt;Integer&gt; percentageUploadedObservable = fileUploadBody.getProgressSubject();\n\n    return Observable.combineLatest(\n            percentageUploadedObservable,\n            apiRequestObservable,\n            (percentage, apiResponse) -&gt;\n            new UploadPercentage(percentage, apiResponse, file));\n}\n</code></pre>\n"},{"tags":["java","android","mobile-application","wakelock","sleep-mode"],"comments":[{"owner":{"account_id":21209622,"reputation":356,"user_id":15598519,"display_name":"LegendSayantan"},"score":0,"creation_date":1646824394,"post_id":71306922,"comment_id":126218048,"body_markdown":"Please provide more details. What are you trying to achieve ? An app or an activity within that app that keeps the screen on??","body":"Please provide more details. What are you trying to achieve ? An app or an activity within that app that keeps the screen on??"},{"owner":{"account_id":21984716,"reputation":11,"user_id":16259185,"display_name":"Archana"},"score":0,"creation_date":1646917847,"post_id":71306922,"comment_id":126245506,"body_markdown":"No there is login to backend. I am trying to keep cpu awake so that after 10 mins of inactivity app should logoff the backend. But timer does not run for 10 mins after inactivity","body":"No there is login to backend. I am trying to keep cpu awake so that after 10 mins of inactivity app should logoff the backend. But timer does not run for 10 mins after inactivity"}],"owner":{"account_id":21984716,"reputation":11,"user_id":16259185,"display_name":"Archana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646130468,"creation_date":1646130096,"question_id":71306922,"body_markdown":"My wakeup lock is not working in android. I have used below code:-\r\n ```\r\n PowerManager powerManager = (PowerManager) this.getSystemService(POWER_SERVICE);\r\n PowerManager.WakeLock wakeLock = powerManager.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,\r\n                &quot;MyApp::MyWakelockTag&quot;);\r\n wakeLock.acquire(IDLE_DELAY_MINUTES+1000); \r\n ```\r\nIn the manifest file I have also mentioned:-\r\n ```\r\n &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n```\r\nWhat is wrong in my code?\r\n","title":"Wakeup lock is not working in android mobile app","body":"<p>My wakeup lock is not working in android. I have used below code:-</p>\n<pre><code>PowerManager powerManager = (PowerManager) this.getSystemService(POWER_SERVICE);\nPowerManager.WakeLock wakeLock = powerManager.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,\n               &quot;MyApp::MyWakelockTag&quot;);\nwakeLock.acquire(IDLE_DELAY_MINUTES+1000); \n</code></pre>\n<p>In the manifest file I have also mentioned:-</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n</code></pre>\n<p>What is wrong in my code?</p>\n"},{"tags":["java","maven","maven-plugin","apache-tomee"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646130452,"creation_date":1646130452,"answer_id":71306999,"question_id":71305178,"body_markdown":"Looking at the documentation there **does not** seem to be anyway to specify Java Version.  \r\n\r\nHowever each version of Tomee supports specific versions of Java, for example Java8/11, etc.\r\n\r\nYou could select the version that is suitable for your JDK version, as well ensure that your `pom.xml` has source/target for the specific java version you want:\r\n\r\n       &lt;properties&gt;\r\n         &lt;tomee.version&gt;7.0.2&lt;/tomee.version&gt;\r\n         &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n         &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n       &lt;/properties&gt;\r\n\r\n\r\nYou could also ensure that your maven compiler plugin uses the appropriate JDK:\r\n\r\n       &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.6.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;1.8&lt;/source&gt;\r\n                &lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        \r\n\r\n","title":"Tomee Maven Plugin Specify Java Binary","body":"<p>Looking at the documentation there <strong>does not</strong> seem to be anyway to specify Java Version.</p>\n<p>However each version of Tomee supports specific versions of Java, for example Java8/11, etc.</p>\n<p>You could select the version that is suitable for your JDK version, as well ensure that your <code>pom.xml</code> has source/target for the specific java version you want:</p>\n<pre><code>   &lt;properties&gt;\n     &lt;tomee.version&gt;7.0.2&lt;/tomee.version&gt;\n     &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n     &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n   &lt;/properties&gt;\n</code></pre>\n<p>You could also ensure that your maven compiler plugin uses the appropriate JDK:</p>\n<pre><code>   &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.6.1&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n    \n</code></pre>\n"}],"owner":{"account_id":513777,"reputation":3202,"user_id":2069922,"accept_rate":62,"display_name":"user152468"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646130452,"creation_date":1646120646,"question_id":71305178,"body_markdown":"We are using the Tomee Maven Plugin for starting a Tomcat server and running some webapps. We need to use a specific version of Java, which is installed on the local system. Yet the Plugin picks the wrong Java version for starting Tomcat. We then get illegal argument exceptions due to the wrong Java version being used. How can we configure the Tomee Maven plugin to use a specific Java version?\r\n","title":"Tomee Maven Plugin Specify Java Binary","body":"<p>We are using the Tomee Maven Plugin for starting a Tomcat server and running some webapps. We need to use a specific version of Java, which is installed on the local system. Yet the Plugin picks the wrong Java version for starting Tomcat. We then get illegal argument exceptions due to the wrong Java version being used. How can we configure the Tomee Maven plugin to use a specific Java version?</p>\n"},{"tags":["java","spring","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":0,"creation_date":1426004934,"post_id":28877754,"comment_id":46189636,"body_markdown":"Adding the stack trace would be welcome. Also where is created `entityEventsCreate` ?","body":"Adding the stack trace would be welcome. Also where is created <code>entityEventsCreate</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1503053976,"creation_date":1425558381,"answer_id":28877863,"question_id":28877754,"body_markdown":"Try to add this\r\n\r\n    @Before\r\n    public void initMocks() {\r\n        MockitoAnnotations.initMocks(this);\r\n    }\r\n\r\n","title":"Mockito - Mock not being injected for one of the testcases","body":"<p>Try to add this</p>\n\n<pre><code>@Before\npublic void initMocks() {\n    MockitoAnnotations.initMocks(this);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1426005428,"creation_date":1426005428,"answer_id":28969255,"question_id":28877754,"body_markdown":"**Not related to the question, but useful to know !**\r\n\r\nIf the test is annotated with `@RunWith(MockitoJUnitRunner.class)` then `MockitoAnnotations.initMocks(this);` is not necessary (it may even cause issues when injecting), the mockito runner performs injection and additional stuffs to validate mocks.\r\n\r\nAlso having both mock init mechanisms may cause trouble with injection and stubbing, this is due to the way the lifecyle of JUnit test and how mockito unit-integration code is used : \r\n\r\n1. The runner will create mocks and inject those mocks in the test object.\r\n2. Then the `@Before` methods kicks in and recreate new mocks, and may not perform injection as the object is already initialized.","title":"Mockito - Mock not being injected for one of the testcases","body":"<p><strong>Not related to the question, but useful to know !</strong></p>\n\n<p>If the test is annotated with <code>@RunWith(MockitoJUnitRunner.class)</code> then <code>MockitoAnnotations.initMocks(this);</code> is not necessary (it may even cause issues when injecting), the mockito runner performs injection and additional stuffs to validate mocks.</p>\n\n<p>Also having both mock init mechanisms may cause trouble with injection and stubbing, this is due to the way the lifecyle of JUnit test and how mockito unit-integration code is used : </p>\n\n<ol>\n<li>The runner will create mocks and inject those mocks in the test object.</li>\n<li>Then the <code>@Before</code> methods kicks in and recreate new mocks, and may not perform injection as the object is already initialized.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2479629,"reputation":1487,"user_id":2159372,"accept_rate":83,"display_name":"mehere"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1426134209,"creation_date":1426134209,"answer_id":29001837,"question_id":28877754,"body_markdown":"I solved the problem..In my spring bean, i had 2 objects for the same service interface. so the mock was being set for the first interface object.\r\n\r\nEx: in my bean i had,\r\n\r\n    @Autowired\r\n    IEmployeeService employeeService;\r\n    @Autowired\r\n    IEmployeeService iEmployeeService;\r\n\r\n\r\nSo the mock create for the IEmployeeservice interfaces was being inject for the first service object irrelevant for their names.\r\n\r\n    @Mock\r\n    IEmployeeService iEmployeeService;\r\n\r\nie, the mock object &#39;iEmployeeService&#39; was injected to beans &#39;employeeService&#39; .\r\n\r\nThank you for all those who helped..:)\r\n","title":"Mockito - Mock not being injected for one of the testcases","body":"<p>I solved the problem..In my spring bean, i had 2 objects for the same service interface. so the mock was being set for the first interface object.</p>\n\n<p>Ex: in my bean i had,</p>\n\n<pre><code>@Autowired\nIEmployeeService employeeService;\n@Autowired\nIEmployeeService iEmployeeService;\n</code></pre>\n\n<p>So the mock create for the IEmployeeservice interfaces was being inject for the first service object irrelevant for their names.</p>\n\n<pre><code>@Mock\nIEmployeeService iEmployeeService;\n</code></pre>\n\n<p>ie, the mock object 'iEmployeeService' was injected to beans 'employeeService' .</p>\n\n<p>Thank you for all those who helped..:)</p>\n"},{"tags":[],"owner":{"account_id":5834336,"reputation":1811,"user_id":4597890,"accept_rate":78,"display_name":"Praveen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537645015,"creation_date":1537541124,"answer_id":52446166,"question_id":28877754,"body_markdown":"I had a similar problem and after few researches, I found that it looks like the `@InjectMocks` were not working and failing silently without injecting the `@AutoWired` *private objects*,\r\n\r\n**Solution :** Change the design by making the dependencies visible through constructor,&lt;br&gt;\r\n\r\n    IEmployeeService iEmployeeService;\r\n    ISecurityLoginService iSecurityLoginService;\r\n    \r\n    @Autowired\r\n    public ServiceCalendarViewBean(final IEmployeeService iEmployeeService,\r\n    \t\t\t\tfinal ISecurityLoginService iSecurityLoginService){\r\n    \tthis.iEmployeeService=iEmployeeService;\r\n    \tthis.iSecurityLoginService=iSecurityLoginService;\r\n    }\r\n\r\nThis [link][1] helped me in identifying how to work on `@Autowired` objects which is not visible\r\n\r\n\r\n  [1]: https://tedvinke.wordpress.com/2014/02/13/mockito-why-you-should-not-use-injectmocks-annotation-to-autowire-fields/","title":"Mockito - Mock not being injected for one of the testcases","body":"<p>I had a similar problem and after few researches, I found that it looks like the <code>@InjectMocks</code> were not working and failing silently without injecting the <code>@AutoWired</code> <em>private objects</em>,</p>\n\n<p><strong>Solution :</strong> Change the design by making the dependencies visible through constructor,<br></p>\n\n<pre><code>IEmployeeService iEmployeeService;\nISecurityLoginService iSecurityLoginService;\n\n@Autowired\npublic ServiceCalendarViewBean(final IEmployeeService iEmployeeService,\n                final ISecurityLoginService iSecurityLoginService){\n    this.iEmployeeService=iEmployeeService;\n    this.iSecurityLoginService=iSecurityLoginService;\n}\n</code></pre>\n\n<p>This <a href=\"https://tedvinke.wordpress.com/2014/02/13/mockito-why-you-should-not-use-injectmocks-annotation-to-autowire-fields/\" rel=\"nofollow noreferrer\">link</a> helped me in identifying how to work on <code>@Autowired</code> objects which is not visible</p>\n"},{"tags":[],"owner":{"account_id":7363767,"reputation":71,"user_id":5606194,"display_name":"apolo884"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646130103,"creation_date":1646130103,"answer_id":71306923,"question_id":28877754,"body_markdown":"One thing to take into account is if you have a non-empty constructor in your class you must call MockitoAnnotations.initMocks in your test class because InjectMocks annotation will not work, for example:\r\n\r\n    public class classA {\r\n\r\n      @Autowired\r\n      private ClassB classB;\r\n\r\n      private Integer i;\r\n\r\n      public ClassA(Integer i) {\r\n        this.i = i;\r\n      }\r\n\r\n    } \r\n\r\nMockito will try to use that constructor and injection of mocks will fail using InjectMocks annotation, so you will need to call initMocks method instead, not sure if is a bug but this solved the problem for me.\r\n","title":"Mockito - Mock not being injected for one of the testcases","body":"<p>One thing to take into account is if you have a non-empty constructor in your class you must call MockitoAnnotations.initMocks in your test class because InjectMocks annotation will not work, for example:</p>\n<pre><code>public class classA {\n\n  @Autowired\n  private ClassB classB;\n\n  private Integer i;\n\n  public ClassA(Integer i) {\n    this.i = i;\n  }\n\n} \n</code></pre>\n<p>Mockito will try to use that constructor and injection of mocks will fail using InjectMocks annotation, so you will need to call initMocks method instead, not sure if is a bug but this solved the problem for me.</p>\n"}],"owner":{"account_id":2479629,"reputation":1487,"user_id":2159372,"accept_rate":83,"display_name":"mehere"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24587,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":29001837,"answer_count":5,"score":7,"last_activity_date":1646130103,"creation_date":1425557998,"question_id":28877754,"body_markdown":"I have a jsf spring application and using *mockito* for my unit test. I keep getting `NullPointerException` when i run my `junit` test in `iEmployeeService` mocking. There are not `Exception` for `iSecurityLoginService`. \r\n\r\nMethod to be mocked\r\n\r\n    @Autowired\r\n    IEmployeeService iEmployeeService;\r\n    @Autowired\r\n    ISecurityLoginService iSecurityLoginService;\r\n    public void addEvent() {\r\n    \r\n    \tentityEventsCreate.setTitle(entityEventsCreate.getTitle());\r\n    \tentityEventsCreate.setModifiedBy(iSecurityLoginService\r\n    \t\t\t\t.findLoggedInUserId());\r\n    \r\n    \tint eventId = iEmployeeService.addEmployeeTimeOff(entityEventsCreate);\r\n    }\r\n\r\nMy JUnit test is annotated with `@RunWith(MockitoJUnitRunner.class)`\r\n\r\n    @Mock\r\n    ISecurityLoginService iSecurityLoginService;\r\n    \t\r\n    @Mock\r\n    IEmployeeService iEmployeeService;\r\n    \t\r\n    @InjectMocks\r\n    ServiceCalendarViewBean serviceCalendarViewBean  = new ServiceCalendarViewBean();\r\n    \r\n    @Before public void initMocks() {\r\n    \t\t   MockitoAnnotations.initMocks(this);\r\n    }\r\n    \r\n    @Test\r\n    public void testSaveEvent() {\r\n    \tMockito.when(iSecurityLoginService.findLoggedInUserId()).thenReturn(1);\r\n    \tserviceCalendarViewBean.getEntityEventsCreate().setTitle(&quot;Junit Event Testing&quot;);\r\n    \r\n    \tMockito.when(iSecurityLoginService.findLoggedInUserId()).thenReturn(1);\r\n    \tMockito.when(iEmployeeService.addEmployeeTimeOff(Mockito.any(Events.class))).thenReturn(2);\r\n    \r\n    \tserviceCalendarViewBean.addEvent();\r\n    }\r\n\t","title":"Mockito - Mock not being injected for one of the testcases","body":"<p>I have a jsf spring application and using <em>mockito</em> for my unit test. I keep getting <code>NullPointerException</code> when i run my <code>junit</code> test in <code>iEmployeeService</code> mocking. There are not <code>Exception</code> for <code>iSecurityLoginService</code>. </p>\n\n<p>Method to be mocked</p>\n\n<pre><code>@Autowired\nIEmployeeService iEmployeeService;\n@Autowired\nISecurityLoginService iSecurityLoginService;\npublic void addEvent() {\n\n    entityEventsCreate.setTitle(entityEventsCreate.getTitle());\n    entityEventsCreate.setModifiedBy(iSecurityLoginService\n                .findLoggedInUserId());\n\n    int eventId = iEmployeeService.addEmployeeTimeOff(entityEventsCreate);\n}\n</code></pre>\n\n<p>My JUnit test is annotated with <code>@RunWith(MockitoJUnitRunner.class)</code></p>\n\n<pre><code>@Mock\nISecurityLoginService iSecurityLoginService;\n\n@Mock\nIEmployeeService iEmployeeService;\n\n@InjectMocks\nServiceCalendarViewBean serviceCalendarViewBean  = new ServiceCalendarViewBean();\n\n@Before public void initMocks() {\n           MockitoAnnotations.initMocks(this);\n}\n\n@Test\npublic void testSaveEvent() {\n    Mockito.when(iSecurityLoginService.findLoggedInUserId()).thenReturn(1);\n    serviceCalendarViewBean.getEntityEventsCreate().setTitle(\"Junit Event Testing\");\n\n    Mockito.when(iSecurityLoginService.findLoggedInUserId()).thenReturn(1);\n    Mockito.when(iEmployeeService.addEmployeeTimeOff(Mockito.any(Events.class))).thenReturn(2);\n\n    serviceCalendarViewBean.addEvent();\n}\n</code></pre>\n"},{"tags":["java","indexoutofboundsexception"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":1,"creation_date":1646045410,"post_id":71293839,"comment_id":126019467,"body_markdown":"`int [] ages= {};` is an array with length 0. You can&#39;t access any of its indices (and you should be getting an `IndexOutOfBoundsException`)","body":"<code>int [] ages= {};</code> is an array with length 0. You can&#39;t access any of its indices (and you should be getting an <code>IndexOutOfBoundsException</code>)"},{"owner":{"account_id":8958875,"reputation":3265,"user_id":6682274,"accept_rate":25,"display_name":"Sudhir Ojha"},"score":0,"creation_date":1646045679,"post_id":71293839,"comment_id":126019555,"body_markdown":"And also you don&#39;t need second array in `array2` class.","body":"And also you don&#39;t need second array in <code>array2</code> class."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1646047202,"post_id":71293839,"comment_id":126020042,"body_markdown":"@user16320675 I think only &quot;age[0]:&quot; is to be written by the program, the &quot;65&quot; is the user input","body":"@user16320675 I think only &quot;age[0]:&quot; is to be written by the program, the &quot;65&quot; is the user input"}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646046050,"creation_date":1646046050,"answer_id":71293996,"question_id":71293839,"body_markdown":"I would recommend first of all making decomposition of the task into smaller element steps. Then implement each step and check the result. In this case, you can easier find a bug in the program.\r\n\r\n***P.S.** Your teacher could give a `+` sign seeing this*\r\n\r\n```java\r\npublic class LengthArray {\r\n\r\n    public static void main(String... args) {\r\n        int[] ages = createArray();\r\n        printArray(ages);\r\n        printTotal(ages);\r\n    }\r\n\r\n    private static int[] createArray() {\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n        System.out.print(&quot;Input length of an array: &quot;);\r\n        int[] ages = new int[scan.nextInt()];\r\n\r\n        for (int i = 0; i &lt; ages.length; i++) {\r\n            System.out.format(&quot;age[%d]: &quot;, i);\r\n            ages[i] = scan.nextInt();\r\n        }\r\n\r\n        return ages;\r\n    }\r\n\r\n    private static void printArray(int... ages) {\r\n        System.out.println(&quot;Display all elements in an array: &quot; + Arrays.toString(ages));\r\n    }\r\n\r\n    private static void printTotal(int... ages) {\r\n        System.out.println(&quot;Total: &quot; + calcTotal(ages));\r\n    }\r\n\r\n    private static int calcTotal(int... ages) {\r\n        int total = 0;\r\n\r\n        for (int age : ages)\r\n            total += age;\r\n\r\n        return total;\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Output:**\r\n```\r\nInput length of an array: 4\r\nage[0]: 65\r\nage[1]: 10\r\nage[2]: 60\r\nage[3]: 18\r\nDisplay all elements in an array: [65, 10, 60, 18]\r\nTotal: 153\r\n```","title":"Why get ArrayIndexOutOfBound Exception?","body":"<p>I would recommend first of all making decomposition of the task into smaller element steps. Then implement each step and check the result. In this case, you can easier find a bug in the program.</p>\n<p><em><strong>P.S.</strong> Your teacher could give a <code>+</code> sign seeing this</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LengthArray {\n\n    public static void main(String... args) {\n        int[] ages = createArray();\n        printArray(ages);\n        printTotal(ages);\n    }\n\n    private static int[] createArray() {\n        Scanner scan = new Scanner(System.in);\n\n        System.out.print(&quot;Input length of an array: &quot;);\n        int[] ages = new int[scan.nextInt()];\n\n        for (int i = 0; i &lt; ages.length; i++) {\n            System.out.format(&quot;age[%d]: &quot;, i);\n            ages[i] = scan.nextInt();\n        }\n\n        return ages;\n    }\n\n    private static void printArray(int... ages) {\n        System.out.println(&quot;Display all elements in an array: &quot; + Arrays.toString(ages));\n    }\n\n    private static void printTotal(int... ages) {\n        System.out.println(&quot;Total: &quot; + calcTotal(ages));\n    }\n\n    private static int calcTotal(int... ages) {\n        int total = 0;\n\n        for (int age : ages)\n            total += age;\n\n        return total;\n    }\n\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Input length of an array: 4\nage[0]: 65\nage[1]: 10\nage[2]: 60\nage[3]: 18\nDisplay all elements in an array: [65, 10, 60, 18]\nTotal: 153\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646046124,"creation_date":1646046124,"answer_id":71294019,"question_id":71293839,"body_markdown":"You need to change place and style of the declaration and creation of the `age` array:\r\n * declare it after you know it&#39;s desired length\r\n * create it with the desired length:\r\n\r\n``` lang-java\r\nint number = inp.nextInt();\r\nint[] ages = new int[number];\r\n```\r\n\r\nRest of your code looks good. You might want to improve it a bit by printing the texts before the inputs (like &quot;Input length of an array:&quot;) only with `System.out.print` instead of `System.out.println` - this will make the input on the same row as the text before.\r\n\r\nIn contrary you should use the `println` for the total output.","title":"Why get ArrayIndexOutOfBound Exception?","body":"<p>You need to change place and style of the declaration and creation of the <code>age</code> array:</p>\n<ul>\n<li>declare it after you know it's desired length</li>\n<li>create it with the desired length:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>int number = inp.nextInt();\nint[] ages = new int[number];\n</code></pre>\n<p>Rest of your code looks good. You might want to improve it a bit by printing the texts before the inputs (like &quot;Input length of an array:&quot;) only with <code>System.out.print</code> instead of <code>System.out.println</code> - this will make the input on the same row as the text before.</p>\n<p>In contrary you should use the <code>println</code> for the total output.</p>\n"}],"owner":{"account_id":24351995,"reputation":13,"user_id":18287710,"display_name":"Ellie Riggs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646129927,"creation_date":1646045341,"question_id":71293839,"body_markdown":"Modify the program below:\r\n``` \r\npublic class LenghtArray {\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        int[] ages = {16, 19, 30, 60, 21, 25, 2, 13};\r\n        // Print all elements\r\n        for (int count = 0; count &lt; ages.length; count++) {\r\n            System.out.print(ages[count] + &quot; &quot;);\r\n        }\r\n\r\n        // Sum of all ages\r\n        System.out.println(&quot; &quot;);\r\n        int total = 0;\r\n        for (int count = 0; count &lt; ages.length; count++) {\r\n            total = total + ages[count];\r\n        }\r\n        System.out.print(&quot;Total :&quot; + total + &quot; &quot;);\r\n    }\r\n}\r\n```\r\n\r\nHere down is my expected output:\r\n```\r\nInput length of an array: 4\r\n\r\nage[0]: 65\r\n\r\nage[1]: 10\r\n\r\nage[2]: 60\r\n\r\nage[3]: 18\r\n\r\n\r\nDisplay all elements in an array: 65, 10, 60, 18\r\n\r\nTotal: 153\r\n```\r\nSo far here&#39;s what I have, I don&#39;t know what&#39;s wrong with it. My professor said you just need to add 2 string of lines. I keep on adding more\r\n\r\n```\r\npublic static void main(String[] args) {\r\n\r\n    Scanner inp = new Scanner(System.in);\r\n    int[] ages = {0};\r\n\r\n    System.out.println(&quot;Input length of an array:&quot;);\r\n    int number = inp.nextInt();\r\n    for (int count = 0; count &lt; number; count++) {\r\n        System.out.println(&quot;age[&quot; + count + &quot;]: &quot;);\r\n        ages[count] = inp.nextInt();\r\n    }\r\n\r\n    // Print all elements\r\n    for (int count = 0; count &lt; ages.length; count++) {\r\n        System.out.print(ages[count] + &quot; &quot;);\r\n    }\r\n\r\n    // Sum of all ages\r\n    System.out.println(&quot; &quot;);\r\n    int total = 0;\r\n    for (int count = 0; count &lt; ages.length; count++) {\r\n        total = total + ages[count];\r\n    }\r\n    System.out.print(&quot;Total :&quot; + total + &quot; &quot;);\r\n}\r\n```","title":"Why get ArrayIndexOutOfBound Exception?","body":"<p>Modify the program below:</p>\n<pre><code>public class LenghtArray {\n\n    public static void main(String[] args) {\n        \n        int[] ages = {16, 19, 30, 60, 21, 25, 2, 13};\n        // Print all elements\n        for (int count = 0; count &lt; ages.length; count++) {\n            System.out.print(ages[count] + &quot; &quot;);\n        }\n\n        // Sum of all ages\n        System.out.println(&quot; &quot;);\n        int total = 0;\n        for (int count = 0; count &lt; ages.length; count++) {\n            total = total + ages[count];\n        }\n        System.out.print(&quot;Total :&quot; + total + &quot; &quot;);\n    }\n}\n</code></pre>\n<p>Here down is my expected output:</p>\n<pre><code>Input length of an array: 4\n\nage[0]: 65\n\nage[1]: 10\n\nage[2]: 60\n\nage[3]: 18\n\n\nDisplay all elements in an array: 65, 10, 60, 18\n\nTotal: 153\n</code></pre>\n<p>So far here's what I have, I don't know what's wrong with it. My professor said you just need to add 2 string of lines. I keep on adding more</p>\n<pre><code>public static void main(String[] args) {\n\n    Scanner inp = new Scanner(System.in);\n    int[] ages = {0};\n\n    System.out.println(&quot;Input length of an array:&quot;);\n    int number = inp.nextInt();\n    for (int count = 0; count &lt; number; count++) {\n        System.out.println(&quot;age[&quot; + count + &quot;]: &quot;);\n        ages[count] = inp.nextInt();\n    }\n\n    // Print all elements\n    for (int count = 0; count &lt; ages.length; count++) {\n        System.out.print(ages[count] + &quot; &quot;);\n    }\n\n    // Sum of all ages\n    System.out.println(&quot; &quot;);\n    int total = 0;\n    for (int count = 0; count &lt; ages.length; count++) {\n        total = total + ages[count];\n    }\n    System.out.print(&quot;Total :&quot; + total + &quot; &quot;);\n}\n</code></pre>\n"},{"tags":["java","spring","jenkins","tomcat","resourcebundle"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1646043584,"post_id":71292818,"comment_id":126018843,"body_markdown":"`ResourceBundleMessageSource` does not accept globs, that must be your extension. Can you add the code for `ClasspathResourceBundleMessageSource#setBasename` to your question?","body":"<code>ResourceBundleMessageSource</code> does not accept globs, that must be your extension. Can you add the code for <code>ClasspathResourceBundleMessageSource#setBasename</code> to your question?"},{"owner":{"account_id":3768820,"reputation":482,"user_id":3131546,"accept_rate":60,"display_name":"Rohit Batta"},"score":0,"creation_date":1646044271,"post_id":71292818,"comment_id":126019077,"body_markdown":"I have updated the question with `setBasenames(Object... names)` method.","body":"I have updated the question with <code>setBasenames(Object... names)</code> method."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1646053031,"post_id":71292818,"comment_id":126021920,"body_markdown":"Why do you use a custom extension? You are also not doing what you are saying you do (setting the basenames). What you should do is set the proper basenames, something like `/META-INF/resourcebundles/core` everything else will be handled by the `ResourceBundle` implementations. Not sure why you would need an additional `core_en` as a basename. Looks like you are doing to much instead of relying on regular support.","body":"Why do you use a custom extension? You are also not doing what you are saying you do (setting the basenames). What you should do is set the proper basenames, something like <code>&#47;META-INF&#47;resourcebundles&#47;core</code> everything else will be handled by the <code>ResourceBundle</code> implementations. Not sure why you would need an additional <code>core_en</code> as a basename. Looks like you are doing to much instead of relying on regular support."},{"owner":{"account_id":3768820,"reputation":482,"user_id":3131546,"accept_rate":60,"display_name":"Rohit Batta"},"score":0,"creation_date":1646056077,"post_id":71292818,"comment_id":126023025,"body_markdown":"I am adding components as web-fragments (JSF) in a web project. So, each module (web-fragment) is having its own translations resource bundles. Idea is to load main project resource bundles first and then from dependencies which has been added as web-fragments. So, i above example, I would need &quot;demo&quot; project resource bundles first and then from dependencies i.e. &quot;core&quot;.\n`core` and `core_en` are derived from localization available. In english, i would like to support english UK, english US and a default without any country preference. Due to that it derived in to `core` and `core_en`","body":"I am adding components as web-fragments (JSF) in a web project. So, each module (web-fragment) is having its own translations resource bundles. Idea is to load main project resource bundles first and then from dependencies which has been added as web-fragments. So, i above example, I would need &quot;demo&quot; project resource bundles first and then from dependencies i.e. &quot;core&quot;. <code>core</code> and <code>core_en</code> are derived from localization available. In english, i would like to support english UK, english US and a default without any country preference. Due to that it derived in to <code>core</code> and <code>core_en</code>"}],"answers":[{"tags":[],"owner":{"account_id":3768820,"reputation":482,"user_id":3131546,"accept_rate":60,"display_name":"Rohit Batta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646129316,"creation_date":1646056634,"answer_id":71296106,"question_id":71292818,"body_markdown":"I found that `JarFile.entries()` method from `java.util.jar.JarFile` is returning list of files in unsorted order. I tested it with a small program.\r\n```\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.Enumeration;\r\nimport java.util.jar.JarEntry;\r\nimport java.util.jar.JarFile;\r\n\r\npublic class JarFileTest {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        File correctJarFile = new File(&quot;D:\\\\target\\\\budget.jar&quot;);\r\n        File wrongJarFile = new File(&quot;D:\\\\target\\\\budget2.jar&quot;);\r\n     \r\n        try (JarFile jar = new JarFile(correctJarFile )) {\r\n            for (Enumeration&lt;JarEntry&gt; entries = jar.entries(); entries.hasMoreElements(); ) {\r\n                JarEntry entry = entries.nextElement();\r\n                String entryPath = entry.getName();\r\n                if (entryPath.endsWith(&quot;.properties&quot;)) {\r\n                    System.out.println(entryPath);\r\n                }\r\n            }\r\n        }catch (IOException e) {\r\n        }\r\n        System.out.println(&quot;\\n============ 2&quot;);\r\n        try (JarFile jar = new JarFile(wrongJarFile)) {\r\n            for (Enumeration&lt;JarEntry&gt; entries = jar.entries(); entries.hasMoreElements(); ) {\r\n                JarEntry entry = entries.nextElement();\r\n                String entryPath = entry.getName();\r\n                if (entryPath.endsWith(&quot;.properties&quot;)) {\r\n                    System.out.println(entryPath);\r\n                }\r\n            }\r\n        }catch (IOException e) {\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAbove program result in below output. \r\n```\r\nMETA-INF/resourcebundles/core_cs.properties\r\nMETA-INF/resourcebundles/core_de.properties\r\nMETA-INF/resourcebundles/core_en.properties\r\nMETA-INF/resourcebundles/core_en_GB.properties\r\nMETA-INF/resourcebundles/core_en_US.properties\r\nMETA-INF/resourcebundles/core_fr.properties\r\n\r\n============ 2\r\nMETA-INF/resourcebundles/core_en_GB.properties\r\nMETA-INF/resourcebundles/core_cs.properties\r\nMETA-INF/resourcebundles/core_de.properties\r\nMETA-INF/resourcebundles/core_fr.properties\r\nMETA-INF/resourcebundles/core_en_US.properties\r\nMETA-INF/resourcebundles/core_en.properties\r\n```\r\n\r\nThis is same with Java8 Stream API\r\n```\r\n        try (JarFile jar = new JarFile(jarFile)) {\r\n            jar.stream().filter(entry -&gt; entry.getName().endsWith(&quot;.properties&quot;)).forEach(System.out::println);\r\n        } catch (IOException e) {\r\n        }\r\n        System.out.println(&quot;\\n============ 0&quot;);\r\n        try (JarFile jar = new JarFile(jarFile2)) {\r\n            jar.stream().filter(entry -&gt; entry.getName().endsWith(&quot;.properties&quot;)).forEach(System.out::println);\r\n        } catch (IOException e) {\r\n        }\r\n```\r\n\r\nSo, I have applied custom sorting to fix ordering in ZipFile as mentioned in [this stackoverflow question][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/64697205/3131546","title":"Resourcebundles in tomcat deployment war not working as expected","body":"<p>I found that <code>JarFile.entries()</code> method from <code>java.util.jar.JarFile</code> is returning list of files in unsorted order. I tested it with a small program.</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.util.Enumeration;\nimport java.util.jar.JarEntry;\nimport java.util.jar.JarFile;\n\npublic class JarFileTest {\n\n    public static void main(String[] args) {\n\n        File correctJarFile = new File(&quot;D:\\\\target\\\\budget.jar&quot;);\n        File wrongJarFile = new File(&quot;D:\\\\target\\\\budget2.jar&quot;);\n     \n        try (JarFile jar = new JarFile(correctJarFile )) {\n            for (Enumeration&lt;JarEntry&gt; entries = jar.entries(); entries.hasMoreElements(); ) {\n                JarEntry entry = entries.nextElement();\n                String entryPath = entry.getName();\n                if (entryPath.endsWith(&quot;.properties&quot;)) {\n                    System.out.println(entryPath);\n                }\n            }\n        }catch (IOException e) {\n        }\n        System.out.println(&quot;\\n============ 2&quot;);\n        try (JarFile jar = new JarFile(wrongJarFile)) {\n            for (Enumeration&lt;JarEntry&gt; entries = jar.entries(); entries.hasMoreElements(); ) {\n                JarEntry entry = entries.nextElement();\n                String entryPath = entry.getName();\n                if (entryPath.endsWith(&quot;.properties&quot;)) {\n                    System.out.println(entryPath);\n                }\n            }\n        }catch (IOException e) {\n        }\n    }\n}\n</code></pre>\n<p>Above program result in below output.</p>\n<pre><code>META-INF/resourcebundles/core_cs.properties\nMETA-INF/resourcebundles/core_de.properties\nMETA-INF/resourcebundles/core_en.properties\nMETA-INF/resourcebundles/core_en_GB.properties\nMETA-INF/resourcebundles/core_en_US.properties\nMETA-INF/resourcebundles/core_fr.properties\n\n============ 2\nMETA-INF/resourcebundles/core_en_GB.properties\nMETA-INF/resourcebundles/core_cs.properties\nMETA-INF/resourcebundles/core_de.properties\nMETA-INF/resourcebundles/core_fr.properties\nMETA-INF/resourcebundles/core_en_US.properties\nMETA-INF/resourcebundles/core_en.properties\n</code></pre>\n<p>This is same with Java8 Stream API</p>\n<pre><code>        try (JarFile jar = new JarFile(jarFile)) {\n            jar.stream().filter(entry -&gt; entry.getName().endsWith(&quot;.properties&quot;)).forEach(System.out::println);\n        } catch (IOException e) {\n        }\n        System.out.println(&quot;\\n============ 0&quot;);\n        try (JarFile jar = new JarFile(jarFile2)) {\n            jar.stream().filter(entry -&gt; entry.getName().endsWith(&quot;.properties&quot;)).forEach(System.out::println);\n        } catch (IOException e) {\n        }\n</code></pre>\n<p>So, I have applied custom sorting to fix ordering in ZipFile as mentioned in <a href=\"https://stackoverflow.com/a/64697205/3131546\">this stackoverflow question</a></p>\n"}],"owner":{"account_id":3768820,"reputation":482,"user_id":3131546,"accept_rate":60,"display_name":"Rohit Batta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71296106,"answer_count":1,"score":0,"last_activity_date":1646129316,"creation_date":1646040276,"question_id":71292818,"body_markdown":"I am experiencing a strange issue related to loading of resource bundles. After some debugging, i am able to find out the cause of the issue as resource bundles are loading in expected order. But, I query is what is causing it. \r\nI have resource bundles named as below. \r\n```\r\ncore_cs.properties\r\ncore_de.properties\r\ncore_en_GB.properties\r\ncore_en_US.properties\r\ncore_en.properties\r\ncore_fr.properties\r\n```\r\n\r\nWhen resource bundles are loaded by spring configuration, then base name should be\r\n```\r\n../core\r\n../core_en\r\n```\r\n\r\nBut, it is resulting in \r\n```\r\n../core_en\r\n../core\r\n```\r\n\r\nDue to this, every locale is showing translated value from core_en resource bundle. \r\nIn project, i am adding core.jar as dependency in my web project. \r\n\r\nCurrent Behaviour.\r\n```\r\nfound == META-INF/resourcebundles/core_en for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_en_GB.properties\r\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_cs.properties\r\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_de.properties\r\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_es.properties\r\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_fr.properties\r\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_hu.properties\r\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_it.properties\r\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_nl.properties\r\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_pl.properties\r\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_sl.properties\r\nfound == META-INF/resourcebundles/core_en for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_en_US.properties\r\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_en.properties\r\n```\r\n\r\nExpected loading should be \r\n```\r\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_cs.properties\r\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_de.properties\r\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_en.properties\r\nfound == META-INF/resourcebundles/core_en for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_en_GB.properties\r\nfound == META-INF/resourcebundles/core_en for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_en_US.properties\r\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_es.properties\r\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_fr.properties\r\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_hu.properties\r\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_it.properties\r\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_nl.properties\r\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_pl.properties\r\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_sl.properties\r\n```\r\n\r\nI am using `PathMatchingResourcePatternResolver` from springframework to resolve the path from classpath configuration\r\n\r\n```\r\n\t&lt;bean id=&quot;messageSource&quot; class=&quot;com.company.core.spring.support.ClasspathResourceBundleMessageSource&quot;&gt;\r\n\t\t&lt;property name=&quot;basename&quot; value=&quot;classpath*:/META-INF/resourcebundles/**/*.properties&quot;/&gt;  \r\n\t&lt;/bean&gt;\r\n```\r\n\r\n`ClasspathResourceBundleMessageSource` is extending `ResourceBundleMessageSource` from springframework\r\n\r\n```\r\npublic void setBasenames(final String... basenames) {\r\n        List&lt;String&gt; basenamesList = new ArrayList&lt;&gt;();\r\n        try {\r\n\r\n            for (String basename : basenames) {\r\n                LOGGER.info(&quot;==\\t Base Name configured {}&quot;, basename);\r\n                Resource[] resources = (new PathMatchingResourcePatternResolver()).getResources(basename);\r\n                for (Resource resource : resources) {\r\n                    LOGGER.info(&quot;==\\t Name of resource found {}&quot;, resource.getURI());\r\n                    String filename = resource.getURI().toString();\r\n                    String newBasename = transformToBasename(filename);\r\n                    if (newBasename != null &amp;&amp; !basenamesList.contains(newBasename)) {\r\n                        LOGGER.info(&quot;Adding resource bundle basename {}&quot;, newBasename);\r\n                        basenamesList.add(newBasename);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Add the basenames found\r\n            LOGGER.info(&quot;Resource bundle path:{}&quot;, basenamesList);\r\n            String[] basenamesArray = basenamesList.toArray(new String[]{});\r\n            super.setBasenames(basenamesArray);\r\n        } catch (Exception ex) {\r\n            LOGGER.error(&quot;Error setting base names&quot;, ex);\r\n        }\r\n    }\r\n```\r\n\r\nAnother insight is that, if i build archive war locally it works. But, when archive is build by build server (jenkins), then it is not working as expected. \r\n\r\n\r\n","title":"Resourcebundles in tomcat deployment war not working as expected","body":"<p>I am experiencing a strange issue related to loading of resource bundles. After some debugging, i am able to find out the cause of the issue as resource bundles are loading in expected order. But, I query is what is causing it.\nI have resource bundles named as below.</p>\n<pre><code>core_cs.properties\ncore_de.properties\ncore_en_GB.properties\ncore_en_US.properties\ncore_en.properties\ncore_fr.properties\n</code></pre>\n<p>When resource bundles are loaded by spring configuration, then base name should be</p>\n<pre><code>../core\n../core_en\n</code></pre>\n<p>But, it is resulting in</p>\n<pre><code>../core_en\n../core\n</code></pre>\n<p>Due to this, every locale is showing translated value from core_en resource bundle.\nIn project, i am adding core.jar as dependency in my web project.</p>\n<p>Current Behaviour.</p>\n<pre><code>found == META-INF/resourcebundles/core_en for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_en_GB.properties\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_cs.properties\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_de.properties\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_es.properties\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_fr.properties\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_hu.properties\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_it.properties\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_nl.properties\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_pl.properties\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_sl.properties\nfound == META-INF/resourcebundles/core_en for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_en_US.properties\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_en.properties\n</code></pre>\n<p>Expected loading should be</p>\n<pre><code>found == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_cs.properties\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_de.properties\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_en.properties\nfound == META-INF/resourcebundles/core_en for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_en_GB.properties\nfound == META-INF/resourcebundles/core_en for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_en_US.properties\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_es.properties\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_fr.properties\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_hu.properties\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_it.properties\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_nl.properties\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_pl.properties\nfound == META-INF/resourcebundles/core for file jar:file:/D:/Tomcat/WebProject/webapps/demo/WEB-INF/lib/core-SNAPSHOT.jar!/META-INF/resourcebundles/core_sl.properties\n</code></pre>\n<p>I am using <code>PathMatchingResourcePatternResolver</code> from springframework to resolve the path from classpath configuration</p>\n<pre><code>    &lt;bean id=&quot;messageSource&quot; class=&quot;com.company.core.spring.support.ClasspathResourceBundleMessageSource&quot;&gt;\n        &lt;property name=&quot;basename&quot; value=&quot;classpath*:/META-INF/resourcebundles/**/*.properties&quot;/&gt;  \n    &lt;/bean&gt;\n</code></pre>\n<p><code>ClasspathResourceBundleMessageSource</code> is extending <code>ResourceBundleMessageSource</code> from springframework</p>\n<pre><code>public void setBasenames(final String... basenames) {\n        List&lt;String&gt; basenamesList = new ArrayList&lt;&gt;();\n        try {\n\n            for (String basename : basenames) {\n                LOGGER.info(&quot;==\\t Base Name configured {}&quot;, basename);\n                Resource[] resources = (new PathMatchingResourcePatternResolver()).getResources(basename);\n                for (Resource resource : resources) {\n                    LOGGER.info(&quot;==\\t Name of resource found {}&quot;, resource.getURI());\n                    String filename = resource.getURI().toString();\n                    String newBasename = transformToBasename(filename);\n                    if (newBasename != null &amp;&amp; !basenamesList.contains(newBasename)) {\n                        LOGGER.info(&quot;Adding resource bundle basename {}&quot;, newBasename);\n                        basenamesList.add(newBasename);\n                    }\n                }\n            }\n\n            // Add the basenames found\n            LOGGER.info(&quot;Resource bundle path:{}&quot;, basenamesList);\n            String[] basenamesArray = basenamesList.toArray(new String[]{});\n            super.setBasenames(basenamesArray);\n        } catch (Exception ex) {\n            LOGGER.error(&quot;Error setting base names&quot;, ex);\n        }\n    }\n</code></pre>\n<p>Another insight is that, if i build archive war locally it works. But, when archive is build by build server (jenkins), then it is not working as expected.</p>\n"},{"tags":["java","c++","generics","extends"],"comments":[{"owner":{"account_id":13703,"reputation":39963,"user_id":27678,"accept_rate":94,"display_name":"AndyG"},"score":0,"creation_date":1433622866,"post_id":30687305,"comment_id":49434111,"body_markdown":"This is the nature of templates.","body":"This is the nature of templates."},{"owner":{"account_id":1511352,"reputation":1,"user_id":1413395,"accept_rate":92,"display_name":"Ï€Î¬Î½Ï„Î± á¿¥Îµá¿–"},"score":2,"creation_date":1433622870,"post_id":30687305,"comment_id":49434116,"body_markdown":"Java and c++ generic seem to be a whole lot different.","body":"Java and c++ generic seem to be a whole lot different."},{"owner":{"account_id":4709473,"reputation":1710,"user_id":3810466,"accept_rate":67,"display_name":"ricky3350"},"score":0,"creation_date":1433623000,"post_id":30687305,"comment_id":49434144,"body_markdown":"@AndyG What exactly is a template, and how would I use it in this scenario?","body":"@AndyG What exactly is a template, and how would I use it in this scenario?"},{"owner":{"account_id":69458,"reputation":2654,"user_id":202037,"display_name":"Archie"},"score":0,"creation_date":1433623031,"post_id":30687305,"comment_id":49434155,"body_markdown":"Relevant: http://stackoverflow.com/questions/874298/c-templates-that-accept-only-certain-types","body":"Relevant: <a href=\"http://stackoverflow.com/questions/874298/c-templates-that-accept-only-certain-types\" title=\"c templates that accept only certain types\">stackoverflow.com/questions/874298/&hellip;</a>"},{"owner":{"account_id":953149,"reputation":177303,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":4,"creation_date":1433623082,"post_id":30687305,"comment_id":49434178,"body_markdown":"@ricky3350: Your responsibility for doing research doesn&#39;t end once you&#39;ve posted your question. When someone suggests templates, your reaction should be to Google them. (Googling `c++ templates` gives you all the information that you could ask for.)","body":"@ricky3350: Your responsibility for doing research doesn&#39;t end once you&#39;ve posted your question. When someone suggests templates, your reaction should be to Google them. (Googling <code>c++ templates</code> gives you all the information that you could ask for.)"},{"owner":{"account_id":1621973,"reputation":1192,"user_id":1498329,"accept_rate":100,"display_name":"Daniel Heilper"},"score":6,"creation_date":1498464844,"post_id":30687305,"comment_id":76491609,"body_markdown":"Possible duplicate of [C++ templates that accept only certain types](https://stackoverflow.com/questions/874298/c-templates-that-accept-only-certain-types)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/874298/c-templates-that-accept-only-certain-types\">C++ templates that accept only certain types</a>"}],"answers":[{"tags":[],"owner":{"account_id":13703,"reputation":39963,"user_id":27678,"accept_rate":94,"display_name":"AndyG"},"down_vote_count":1,"up_vote_count":26,"is_accepted":true,"score":25,"last_activity_date":1433643906,"creation_date":1433623419,"answer_id":30687399,"question_id":30687305,"body_markdown":"We can use `enable_if` here if you have C++11 or higher available to you\r\n\r\n    template&lt;typename T, typename std::enable_if&lt;std::is_base_of&lt;MyClass, T&gt;::value&gt;::type* = nullptr&gt;\r\n    T Foo(T bar)\r\n    {\r\n        return T();\r\n    }\r\n\r\nFor example:\r\n\r\n    class MyClass\r\n    {\r\n    public:\r\n        int a = 1;\r\n    };\r\n    \r\n    class Derived : public MyClass\r\n    {\r\n    public:\r\n        int b = 2;\r\n    };\r\n    \r\n    class NotDerived\r\n    {\r\n    public:\r\n        int b = 3;\r\n    };\r\n\r\n    template&lt;typename T, typename std::enable_if&lt;std::is_base_of&lt;MyClass, T&gt;::value&gt;::type* = nullptr&gt;\r\n    T Foo(T bar)\r\n    {\r\n        return T();\r\n    }\r\n\r\n    int main()\r\n    {\r\n        Derived d;\r\n        NotDerived nd;\r\n        std::cout &lt;&lt; Foo(d).b &lt;&lt; std::endl;; // works\r\n        //std::cout &lt;&lt; (Foo(nd)).b &lt;&lt; std::endl;; //compiler error\r\n    \t\r\n        return 0;\r\n    }\r\n\r\n[Live Demo](http://ideone.com/rkFVXa)","title":"C++ equivalent of using &lt;T extends Class&gt; for a java parameter/return type","body":"<p>We can use <code>enable_if</code> here if you have C++11 or higher available to you</p>\n\n<pre><code>template&lt;typename T, typename std::enable_if&lt;std::is_base_of&lt;MyClass, T&gt;::value&gt;::type* = nullptr&gt;\nT Foo(T bar)\n{\n    return T();\n}\n</code></pre>\n\n<p>For example:</p>\n\n<pre><code>class MyClass\n{\npublic:\n    int a = 1;\n};\n\nclass Derived : public MyClass\n{\npublic:\n    int b = 2;\n};\n\nclass NotDerived\n{\npublic:\n    int b = 3;\n};\n\ntemplate&lt;typename T, typename std::enable_if&lt;std::is_base_of&lt;MyClass, T&gt;::value&gt;::type* = nullptr&gt;\nT Foo(T bar)\n{\n    return T();\n}\n\nint main()\n{\n    Derived d;\n    NotDerived nd;\n    std::cout &lt;&lt; Foo(d).b &lt;&lt; std::endl;; // works\n    //std::cout &lt;&lt; (Foo(nd)).b &lt;&lt; std::endl;; //compiler error\n\n    return 0;\n}\n</code></pre>\n\n<p><a href=\"http://ideone.com/rkFVXa\" rel=\"noreferrer\">Live Demo</a></p>\n"},{"tags":[],"owner":{"account_id":4222013,"reputation":123,"user_id":3456568,"display_name":"Matthew Borger"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1454451283,"creation_date":1454451283,"answer_id":35164811,"question_id":30687305,"body_markdown":"Since I can&#39;t comment on the accepted answer, I&#39;m providing a new answer which builds on it.\r\n\r\nThe template parameters can be simplified by having the `enable_if` condition become the [default type template parameter][1] instead of `nullptr`.\r\n\r\n    template&lt;typename T, typename = std::enable_if&lt;std::is_base_of&lt;MyClass, T&gt;::value&gt;&gt;\r\n\r\n\r\n  [1]: http://en.cppreference.com/w/cpp/language/template_parameters#Type_template_parameter","title":"C++ equivalent of using &lt;T extends Class&gt; for a java parameter/return type","body":"<p>Since I can't comment on the accepted answer, I'm providing a new answer which builds on it.</p>\n\n<p>The template parameters can be simplified by having the <code>enable_if</code> condition become the <a href=\"http://en.cppreference.com/w/cpp/language/template_parameters#Type_template_parameter\" rel=\"noreferrer\">default type template parameter</a> instead of <code>nullptr</code>.</p>\n\n<pre><code>template&lt;typename T, typename = std::enable_if&lt;std::is_base_of&lt;MyClass, T&gt;::value&gt;&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1454492133,"creation_date":1454492133,"answer_id":35173219,"question_id":30687305,"body_markdown":"Technically, as the other answers show, there are ways to restrict it to subtypes of a certain type at compile time. However, most of the time, you would just do\r\n\r\n    template &lt;typename T&gt; T foo(T bar) {...}\r\n\r\nwithout needing to specify a bound.\r\n\r\nIn Java, bounds are needed for generics because the generic class or method is compiled separately from any uses of it. Generic classes or methods are compiled once, into a single version in the bytecode, a single version that is able to handle any arguments that callers throw at it that satisfy the bounds in its declaration.\r\n\r\nThe compiler must type-check uses of the type `T` in the body of the method, like method calls, field accesses, etc., without knowing what `T` is, so you must provide a bound so the compiler can be satisfied that for example a method call is valid because it is defined on all types that satisfy that bound. For example, if you had the expression `bar.baz()` in the body of the method, the compiler will only let you compile if the type `MyClass` (and hence all subtypes of it) provides the method `.baz()`; if you had provided no bounds, the compiler would complain that `Object` (the implicit upper bound) has no method `.baz()`.\r\n\r\nC++ templates are different. The templated class or function is &quot;instantiated&quot; (compiled again) for every different type argument it is used for. So at the time of compiling the body of the function for a particular `T`, the compiler knows what `T` is, and is able to type-check uses of that type directly.\r\n\r\nSo if you had the expression `bar.baz()` in the body of the function, that would be fine. If you used this function with `T` being a type that that extends `MyClass`, then it will compile fine, because such a type has a `.baz()`. If you use this function with a type that doesn&#39;t have a `.baz()`, then it will fail to compile at that usage of it. If you accidentally use the function with a type that doesn&#39;t extend `MyClass` but has a `.baz()` whose parameter types and return type match the way you are using it, it will compile too; but that&#39;s not necessarily a bad thing. C++ templates are not usually used with type hierarchies, but rather with requirements on what the type needs to provide. So for example, a sorting algorithm is not going to require that its container and/or element type extend a certain type, but rather that the container provide certain features (e.g. random access subscript operator), and the element type provide certain features (e.g. a less-than operator).","title":"C++ equivalent of using &lt;T extends Class&gt; for a java parameter/return type","body":"<p>Technically, as the other answers show, there are ways to restrict it to subtypes of a certain type at compile time. However, most of the time, you would just do</p>\n\n<pre><code>template &lt;typename T&gt; T foo(T bar) {...}\n</code></pre>\n\n<p>without needing to specify a bound.</p>\n\n<p>In Java, bounds are needed for generics because the generic class or method is compiled separately from any uses of it. Generic classes or methods are compiled once, into a single version in the bytecode, a single version that is able to handle any arguments that callers throw at it that satisfy the bounds in its declaration.</p>\n\n<p>The compiler must type-check uses of the type <code>T</code> in the body of the method, like method calls, field accesses, etc., without knowing what <code>T</code> is, so you must provide a bound so the compiler can be satisfied that for example a method call is valid because it is defined on all types that satisfy that bound. For example, if you had the expression <code>bar.baz()</code> in the body of the method, the compiler will only let you compile if the type <code>MyClass</code> (and hence all subtypes of it) provides the method <code>.baz()</code>; if you had provided no bounds, the compiler would complain that <code>Object</code> (the implicit upper bound) has no method <code>.baz()</code>.</p>\n\n<p>C++ templates are different. The templated class or function is \"instantiated\" (compiled again) for every different type argument it is used for. So at the time of compiling the body of the function for a particular <code>T</code>, the compiler knows what <code>T</code> is, and is able to type-check uses of that type directly.</p>\n\n<p>So if you had the expression <code>bar.baz()</code> in the body of the function, that would be fine. If you used this function with <code>T</code> being a type that that extends <code>MyClass</code>, then it will compile fine, because such a type has a <code>.baz()</code>. If you use this function with a type that doesn't have a <code>.baz()</code>, then it will fail to compile at that usage of it. If you accidentally use the function with a type that doesn't extend <code>MyClass</code> but has a <code>.baz()</code> whose parameter types and return type match the way you are using it, it will compile too; but that's not necessarily a bad thing. C++ templates are not usually used with type hierarchies, but rather with requirements on what the type needs to provide. So for example, a sorting algorithm is not going to require that its container and/or element type extend a certain type, but rather that the container provide certain features (e.g. random access subscript operator), and the element type provide certain features (e.g. a less-than operator).</p>\n"},{"tags":[],"owner":{"account_id":14370282,"reputation":303,"user_id":10380228,"display_name":"Alexander Argyriou"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1646128718,"creation_date":1594645548,"answer_id":62876487,"question_id":30687305,"body_markdown":"Also wondered the same question, that&#39;s a C++20 approach through concepts.\r\n\r\n    #include &lt;iostream&gt;\r\n    #include &lt;utility&gt;\r\n    #include &lt;concepts&gt;\r\n    using namespace std;\r\n    \r\n    class MyClass\r\n    {\r\n        public:\r\n            inline virtual void print() const noexcept { cout &lt;&lt; &quot;Myclass&quot; &lt;&lt; endl; }  \r\n    };  \r\n    \r\n    \r\n    class Derived : public MyClass\r\n    {\r\n        public:\r\n            inline virtual void print() const noexcept override { cout &lt;&lt; &quot;Derived&quot; &lt;&lt; endl; }  \r\n    };  \r\n    \r\n    \r\n    class NotDerived\r\n    {};\r\n\r\nCreate a concept with name CheckType which is satisfied \r\nwhen the concept&#39;s parameter Type is a BaseClass or a DerivedClass : BaseClass.\r\n\r\n    template &lt;class Type, class BaseClass&gt;\r\n    concept CheckType = std::is_base_of&lt;BaseClass, Type&gt;::value;\r\n\r\nCreate a generic class where the T type REQUIRES to be MyClass or Derived : MyClass type.\r\n\r\n    template &lt;class T&gt;\r\n    requires CheckType&lt;T, MyClass&gt;\r\n    class OnlyMyClass\r\n    {\r\n        private:\r\n            T instance;\r\n\r\n        public:\r\n            inline void print() const noexcept { instance.print(); }    // Print\r\n    };  \r\n    \r\n    \r\n    int main()\r\n    {\r\n        //OnlyMyClass&lt;NotDerived&gt; o1; // error, the associated constraints are not satisfied.\r\n        OnlyMyClass&lt;MyClass&gt;    o2; // nice!\r\n        OnlyMyClass&lt;Derived&gt;    o3; // nice!\r\n        o2.print();\r\n        o3.print();\r\n        \r\n        return 0;\r\n    }   // main\r\n\r\n\r\n","title":"C++ equivalent of using &lt;T extends Class&gt; for a java parameter/return type","body":"<p>Also wondered the same question, that's a C++20 approach through concepts.</p>\n<pre><code>#include &lt;iostream&gt;\n#include &lt;utility&gt;\n#include &lt;concepts&gt;\nusing namespace std;\n\nclass MyClass\n{\n    public:\n        inline virtual void print() const noexcept { cout &lt;&lt; &quot;Myclass&quot; &lt;&lt; endl; }  \n};  \n\n\nclass Derived : public MyClass\n{\n    public:\n        inline virtual void print() const noexcept override { cout &lt;&lt; &quot;Derived&quot; &lt;&lt; endl; }  \n};  \n\n\nclass NotDerived\n{};\n</code></pre>\n<p>Create a concept with name CheckType which is satisfied\nwhen the concept's parameter Type is a BaseClass or a DerivedClass : BaseClass.</p>\n<pre><code>template &lt;class Type, class BaseClass&gt;\nconcept CheckType = std::is_base_of&lt;BaseClass, Type&gt;::value;\n</code></pre>\n<p>Create a generic class where the T type REQUIRES to be MyClass or Derived : MyClass type.</p>\n<pre><code>template &lt;class T&gt;\nrequires CheckType&lt;T, MyClass&gt;\nclass OnlyMyClass\n{\n    private:\n        T instance;\n\n    public:\n        inline void print() const noexcept { instance.print(); }    // Print\n};  \n\n\nint main()\n{\n    //OnlyMyClass&lt;NotDerived&gt; o1; // error, the associated constraints are not satisfied.\n    OnlyMyClass&lt;MyClass&gt;    o2; // nice!\n    OnlyMyClass&lt;Derived&gt;    o3; // nice!\n    o2.print();\n    o3.print();\n    \n    return 0;\n}   // main\n</code></pre>\n"}],"owner":{"account_id":4709473,"reputation":1710,"user_id":3810466,"accept_rate":67,"display_name":"ricky3350"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26869,"favorite_count":0,"down_vote_count":2,"up_vote_count":33,"accepted_answer_id":30687399,"answer_count":4,"score":31,"last_activity_date":1646128718,"creation_date":1433622694,"question_id":30687305,"body_markdown":"In java, to make a function that returns an object that is the same type as a parameter and extends a certain class, I would type:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public &lt;T extends MyClass&gt; T foo(T bar) {...}\r\n\r\nIs there a C++ equivalent of this?\r\n\r\nIn other words, how do I make a function that takes any class that extends a certain class, and returns that same type? (This is for the purpose of abstract/pure virtual classes).","title":"C++ equivalent of using &lt;T extends Class&gt; for a java parameter/return type","body":"<p>In java, to make a function that returns an object that is the same type as a parameter and extends a certain class, I would type:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T extends MyClass&gt; T foo(T bar) {...}\n</code></pre>\n\n<p>Is there a C++ equivalent of this?</p>\n\n<p>In other words, how do I make a function that takes any class that extends a certain class, and returns that same type? (This is for the purpose of abstract/pure virtual classes).</p>\n"},{"tags":["java","android","cordova","android-mediaprojection","get-display-media"],"comments":[{"owner":{"account_id":389916,"reputation":9994,"user_id":749657,"accept_rate":83,"display_name":"Eric"},"score":0,"creation_date":1646177203,"post_id":71305353,"comment_id":126058096,"body_markdown":"Does this answer your question? [Is screen sharing possible in cordova?](https://stackoverflow.com/questions/30164337/is-screen-sharing-possible-in-cordova)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/30164337/is-screen-sharing-possible-in-cordova\">Is screen sharing possible in cordova?</a>"},{"owner":{"account_id":1468123,"reputation":698,"user_id":1380410,"display_name":"Ravi Rajendra"},"score":1,"creation_date":1646282336,"post_id":71305353,"comment_id":126086264,"body_markdown":"Hi @Eric , no that question doesn&#39;t have an answer either. The one marked was not the solution as it is different application. Looking for a cordova plugin in android for sharing the phone screen.","body":"Hi @Eric , no that question doesn&#39;t have an answer either. The one marked was not the solution as it is different application. Looking for a cordova plugin in android for sharing the phone screen."}],"owner":{"account_id":22731921,"reputation":21,"user_id":16894688,"display_name":"Ravi Rajendra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1646128667,"creation_date":1646121667,"question_id":71305353,"body_markdown":"Is there any plugin or code that support screen sharing on Android using cordova? Have been searching everywhere but in vain.\r\n\r\nKind of understood we need to use Media Projection but couldn&#39;t find a good way to get the video track from the Media Projection API as well as how to request the relevant permission. Looking to build a solution for webrtc.\r\n\r\nPlease do let me know if there is a solution out there.","title":"Any cordova plugin for screen sharing or support for getDisplayMedia?","body":"<p>Is there any plugin or code that support screen sharing on Android using cordova? Have been searching everywhere but in vain.</p>\n<p>Kind of understood we need to use Media Projection but couldn't find a good way to get the video track from the Media Projection API as well as how to request the relevant permission. Looking to build a solution for webrtc.</p>\n<p>Please do let me know if there is a solution out there.</p>\n"},{"tags":["java","android","android-studio","bluetooth","bluetooth-lowenergy"],"comments":[{"owner":{"account_id":10114718,"reputation":2216,"user_id":7473793,"display_name":"Michael Kotzjan"},"score":0,"creation_date":1646130013,"post_id":71306642,"comment_id":126042487,"body_markdown":"Do you have a log output? What is the reason for the disconnect?","body":"Do you have a log output? What is the reason for the disconnect?"},{"owner":{"account_id":19998874,"reputation":1,"user_id":14658279,"display_name":"Accolade"},"score":0,"creation_date":1646166186,"post_id":71306642,"comment_id":126055175,"body_markdown":"It was not giving any log error","body":"It was not giving any log error"},{"owner":{"account_id":10114718,"reputation":2216,"user_id":7473793,"display_name":"Michael Kotzjan"},"score":0,"creation_date":1646201643,"post_id":71306642,"comment_id":126062011,"body_markdown":"Hard to help you then. There are often questions about BLE devices disconnecting on their own here. This often happens if you do not have the right access rights to the device or the device is using some kind of custom security and you are missing some info you need to send as well.","body":"Hard to help you then. There are often questions about BLE devices disconnecting on their own here. This often happens if you do not have the right access rights to the device or the device is using some kind of custom security and you are missing some info you need to send as well."}],"owner":{"account_id":19998874,"reputation":1,"user_id":14658279,"display_name":"Accolade"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646128600,"creation_date":1646128600,"question_id":71306642,"body_markdown":"Pls, I&#39;m having problems having a steady connection between my android app and my smartwatch, anytime the app connect with the watch, it connect and disconnect immediately. I actually use a custom crrp sdk for the project\r\n\r\nThis is the scan activity\r\n\r\n```package com.crrepa.sdk.sample.scan;\r\n\r\nimport android.bluetooth.BluetoothAdapter;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.Environment;\r\nimport android.support.v4.app.ActivityCompat;\r\nimport android.support.v7.app.AppCompatActivity;\r\nimport android.support.v7.widget.LinearLayoutManager;\r\nimport android.support.v7.widget.RecyclerView;\r\nimport android.text.TextUtils;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport com.crrepa.ble.CRPBleClient;\r\nimport com.crrepa.ble.conn.CRPBleDevice;\r\nimport com.crrepa.ble.conn.listener.CRPBleFirmwareUpgradeListener;\r\nimport com.crrepa.ble.scan.bean.CRPScanDevice;\r\nimport com.crrepa.ble.scan.callback.CRPScanCallback;\r\nimport com.crrepa.ble.trans.upgrade.bean.HSFirmwareInfo;\r\nimport com.crrepa.sdk.sample.PermissionUtils;\r\nimport com.crrepa.sdk.sample.R;\r\nimport com.crrepa.sdk.sample.SampleApplication;\r\nimport com.crrepa.sdk.sample.device.DeviceActivity;\r\n\r\nimport java.io.File;\r\nimport java.util.List;\r\n\r\nimport butterknife.BindView;\r\nimport butterknife.ButterKnife;\r\nimport butterknife.OnClick;\r\n\r\npublic class ScanActivity extends AppCompatActivity {\r\n    private static final String TAG = &quot;ScanActivity&quot;;\r\n    private static final int SCAN_PERIOD = 10 * 1000;\r\n\r\n    private static final int REQUEST_UPDATEBANDCONFIG = 4;\r\n    private static final String[] PERMISSION_UPDATEBANDCONFIG = new String[] {\r\n            &quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;,\r\n            &quot;android.permission.READ_EXTERNAL_STORAGE&quot;,\r\n            &quot;android.permission.ACCESS_FINE_LOCATION&quot;,\r\n            &quot;android.permission.ACCESS_COARSE_LOCATION&quot;};\r\n\r\n    @BindView(R.id.btn_scan_toggle)\r\n    Button scanToggleBtn;\r\n    @BindView(R.id.scan_results)\r\n    RecyclerView scanResults;\r\n    @BindView(R.id.tv_firmware_fix_state)\r\n    TextView tvFirmwareFixState;\r\n\r\n\r\n    private CRPBleClient mBleClient;\r\n    private ScanResultsAdapter mResultsAdapter;\r\n    private boolean mScanState = false;\r\n\r\n\r\n    private static final String UPGRADE_APP_FILE_PATH = Environment.getExternalStorageDirectory().getPath()\r\n            + File.separator + &quot;crrepa&quot; + File.separator + &quot;app_band-hs.bin&quot;;\r\n    private static final String UPGRADE_USER_FILE_PATH = Environment.getExternalStorageDirectory().getPath()\r\n            + File.separator + &quot;crrepa&quot; + File.separator + &quot;usr.bin&quot;;\r\n    private static final String USER_START_ADDRESS = &quot;23000&quot;;\r\n//    private static final String BAND_ADDRESS = &quot;C1:C4:7C:DE:44:5B&quot;;\r\n//    private static final String BAND_ADDRESS = &quot;D9:4D:C2:BB:F3:F4&quot;;\r\n    private static final String BAND_ADDRESS = &quot;FB:09:C5:C7:1A:90&quot;;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_scan);\r\n        ButterKnife.bind(this);\r\n        mBleClient = SampleApplication.getBleClient(this);\r\n\r\n        configureResultList();\r\n\r\n        requestPermissions();\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        cancelScan();\r\n    }\r\n\r\n    @OnClick({R.id.btn_scan_toggle, R.id.btn_firmware_fix, R.id.btn_hs_upgrade})\r\n    public void onViewClicked(View view) {\r\n        if (!mBleClient.isBluetoothEnable()) {\r\n            Intent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\n            startActivity(enableBtIntent);\r\n            return;\r\n        }\r\n\r\n        switch (view.getId()) {\r\n            case R.id.btn_scan_toggle:\r\n                if (mScanState) {\r\n                    cancelScan();\r\n                } else {\r\n                    startScan();\r\n                }\r\n                break;\r\n            case R.id.btn_firmware_fix:\r\n\r\n                break;\r\n            case R.id.btn_hs_upgrade:\r\n                CRPBleClient bleClient = SampleApplication.getBleClient(this);\r\n                CRPBleDevice bleDevice = bleClient.getBleDevice(BAND_ADDRESS);\r\n                HSFirmwareInfo upgradeInfo = new HSFirmwareInfo();\r\n                upgradeInfo.setAppFilePath(UPGRADE_APP_FILE_PATH);\r\n                upgradeInfo.setUserFilePath(UPGRADE_USER_FILE_PATH);\r\n                upgradeInfo.setUserStartAddress(USER_START_ADDRESS);\r\n\r\n\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    private void startScan() {\r\n        boolean success = mBleClient.scanDevice(new CRPScanCallback() {\r\n            @Override\r\n            public void onScanning(final CRPScanDevice device) {\r\n                Log.d(TAG, &quot;address: &quot; + device.getDevice().getAddress());\r\n                if (TextUtils.isEmpty(device.getDevice().getName())) {\r\n                    return;\r\n                }\r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        mResultsAdapter.addScanResult(device);\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public void onScanComplete(List&lt;CRPScanDevice&gt; results) {\r\n                if (mScanState) {\r\n                    mScanState = false;\r\n                    updateButtonUIState();\r\n                }\r\n            }\r\n        }, SCAN_PERIOD);\r\n        if (success) {\r\n            mScanState = true;\r\n            updateButtonUIState();\r\n            mResultsAdapter.clearScanResults();\r\n        }\r\n    }\r\n\r\n    private void cancelScan() {\r\n        mBleClient.cancelScan();\r\n    }\r\n\r\n\r\n    private void configureResultList() {\r\n        scanResults.setHasFixedSize(true);\r\n        LinearLayoutManager recyclerLayoutManager = new LinearLayoutManager(this);\r\n        scanResults.setLayoutManager(recyclerLayoutManager);\r\n        mResultsAdapter = new ScanResultsAdapter();\r\n        scanResults.setAdapter(mResultsAdapter);\r\n        mResultsAdapter.setOnAdapterItemClickListener(new ScanResultsAdapter.OnAdapterItemClickListener() {\r\n            @Override\r\n            public void onAdapterViewClick(View view) {\r\n                final int childAdapterPosition = scanResults.getChildAdapterPosition(view);\r\n                final CRPScanDevice itemAtPosition = mResultsAdapter.getItemAtPosition(childAdapterPosition);\r\n                onAdapterItemClick(itemAtPosition);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    private void onAdapterItemClick(CRPScanDevice scanResults) {\r\n        final String macAddress = scanResults.getDevice().getAddress();\r\n        mBleClient.cancelScan();\r\n\r\n        final Intent intent = new Intent(this, DeviceActivity.class);\r\n        intent.putExtra(DeviceActivity.DEVICE_MACADDR, macAddress);\r\n        startActivity(intent);\r\n    }\r\n\r\n\r\n    private void updateButtonUIState() {\r\n        scanToggleBtn.setText(mScanState ? R.string.stop_scan : R.string.start_scan);\r\n    }\r\n\r\n    CRPBleFirmwareUpgradeListener mFirmwareUpgradeListener = new CRPBleFirmwareUpgradeListener() {\r\n        @Override\r\n        public void onFirmwareDownloadStarting() {\r\n            Log.d(TAG, &quot;onFirmwareDownloadStarting&quot;);\r\n            updateTextView(tvFirmwareFixState, getString(R.string.dfu_status_download_starting));\r\n        }\r\n\r\n        @Override\r\n        public void onFirmwareDownloadComplete() {\r\n            Log.d(TAG, &quot;onFirmwareDownloadComplete&quot;);\r\n            updateTextView(tvFirmwareFixState, getString(R.string.dfu_status_download_complete));\r\n        }\r\n\r\n        @Override\r\n        public void onUpgradeProgressStarting() {\r\n            Log.d(TAG, &quot;onUpgradeProgressStarting&quot;);\r\n            updateTextView(tvFirmwareFixState, getString(R.string.dfu_status_starting));\r\n        }\r\n\r\n        @Override\r\n        public void onUpgradeProgressChanged(int percent, float speed) {\r\n            Log.d(TAG, &quot;onUpgradeProgressChanged: &quot; + percent);\r\n            String status = String.format(getString(R.string.dfu_status_uploading_part), percent);\r\n            updateTextView(tvFirmwareFixState, status);\r\n        }\r\n\r\n        @Override\r\n        public void onUpgradeCompleted() {\r\n            Log.d(TAG, &quot;onUpgradeCompleted&quot;);\r\n            updateTextView(tvFirmwareFixState, getString(R.string.dfu_status_completed));\r\n        }\r\n\r\n        @Override\r\n        public void onUpgradeAborted() {\r\n            Log.d(TAG, &quot;onUpgradeAborted&quot;);\r\n            updateTextView(tvFirmwareFixState, getString(R.string.dfu_status_aborted));\r\n        }\r\n\r\n        @Override\r\n        public void onError(int errorType, String message) {\r\n            Log.d(TAG, &quot;onError: &quot; + errorType);\r\n            updateTextView(tvFirmwareFixState, message);\r\n        }\r\n    };\r\n\r\n    void updateTextView(final TextView view, final String con) {\r\n        runOnUiThread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                view.setText(con);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    void requestPermissions() {\r\n        if (!PermissionUtils.hasSelfPermissions(this, PERMISSION_UPDATEBANDCONFIG)) {\r\n            ActivityCompat.requestPermissions(\r\n                    this, PERMISSION_UPDATEBANDCONFIG, REQUEST_UPDATEBANDCONFIG);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand the device activity here where  data is transferred between the watch and the app\r\n\r\n\r\n\r\n```public class DeviceActivity extends AppCompatActivity {\r\n    private static final String TAG = &quot;DeviceActivity&quot;;\r\n    public static final String DEVICE_MACADDR = &quot;device_macaddr&quot;;\r\n\r\n    private static final String UI_FILE_PATH = Environment.getExternalStorageDirectory().getAbsolutePath()\r\n            + File.separator + &quot;crrepa&quot; + File.separator + &quot;ota&quot; + File.separator\r\n            + &quot;eaf49ccb4dbe5df51af35803662867d5.bin&quot;;\r\n\r\n    ProgressDialog mProgressDialog;\r\n    CRPBleClient mBleClient;\r\n    CRPBleDevice mBleDevice;\r\n    CRPBleConnection mBleConnection;\r\n    boolean isUpgrade = false;\r\n\r\n    @BindView(R.id.tv_connect_state)\r\n    TextView tvConnectState;\r\n    @BindView(R.id.tv_firmware_version)\r\n    TextView tvFirmwareVersion;\r\n    @BindView(R.id.tv_battery)\r\n    TextView tvBattery;\r\n    @BindView(R.id.tv_step)\r\n    TextView tvStep;\r\n    @BindView(R.id.tv_distance)\r\n    TextView tvDistance;\r\n    @BindView(R.id.tv_calorie)\r\n    TextView tvCalorie;\r\n    @BindView(R.id.tv_restful)\r\n    TextView tvRestful;\r\n    @BindView(R.id.tv_light)\r\n    TextView tvLight;\r\n    @BindView(R.id.tv_heart_rate)\r\n    TextView tvHeartRate;\r\n    @BindView(R.id.tv_blood_pressure)\r\n    TextView tvBloodPressure;\r\n    @BindView(R.id.tv_upgrade_state)\r\n    TextView tvUpgradeState;\r\n    @BindView(R.id.btn_ble_connect_state)\r\n    Button btnBleDisconnect;\r\n    @BindView(R.id.tv_blood_oxygen)\r\n    TextView tvBloodOxygen;\r\n    @BindView(R.id.tv_new_firmware_version)\r\n    TextView tvNewFirmwareVersion;\r\n\r\n    private String bandFirmwareVersion;\r\n\r\n    private List&lt;Integer&gt; supportWatchFaceList;\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_device);\r\n        ButterKnife.bind(this);\r\n        initView();\r\n        mProgressDialog = new ProgressDialog(this);\r\n        String macAddr = getIntent().getStringExtra(DEVICE_MACADDR);\r\n        //BluetoothDevice device = BluetoothAdapter.\r\n        if (TextUtils.isEmpty(macAddr)) {\r\n            finish();\r\n            return;\r\n        }\r\n\r\n        mBleClient = SampleApplication.getBleClient(this);\r\n        mBleDevice = mBleClient.getBleDevice(macAddr);\r\n        if (mBleDevice != null &amp;&amp; !mBleDevice.isConnected()) {\r\n            connect();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        if (mBleDevice != null) {\r\n            mBleDevice.disconnect();\r\n        }\r\n    }\r\n\r\n    void initView() {\r\n        updateStepInfo(0, 0, 0);\r\n        updateSleepInfo(0, 0);\r\n    }\r\n\r\n\r\n\r\n    void connect() {\r\n        mProgressDialog.show();\r\n        mBleDevice.connect();\r\n                mBleConnection = mBleDevice.connect();\r\n\r\n        mBleConnection.setConnectionStateListener(new CRPBleConnectionStateListener() {\r\n            @Override\r\n            public void onConnectionStateChange(int newState) {\r\n                Log.d(TAG, &quot;onConnectionStateChange: &quot; + newState);\r\n                int state = -1;\r\n                switch (newState) {\r\n                    case CRPBleConnectionStateListener.STATE_CONNECTED:\r\n        DeviceActivity.this.runOnUiThread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n//                state = R.string.state_connected;\r\n                mProgressDialog.dismiss();\r\n                updateTextView(btnBleDisconnect, getString(R.string.disconnect));\r\n                Toast.makeText(DeviceActivity.this, &quot;connected&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n                        testSet();\r\n                        break;\r\n                    case CRPBleConnectionStateListener.STATE_CONNECTING:\r\n                        state = R.string.state_connecting;\r\n                        break;\r\n                    case CRPBleConnectionStateListener.STATE_DISCONNECTED:\r\n                        //closeGatt();\r\n                        state = R.string.state_disconnected;\r\n                        mProgressDialog.dismiss();\r\n                        updateTextView(btnBleDisconnect, getString(R.string.connect));\r\n                        break;\r\n                }\r\n                updateConnectState(state);\r\n            }\r\n        });\r\n\r\n        mBleConnection.setStepChangeListener(mStepChangeListener);\r\n        mBleConnection.setSleepChangeListener(mSleepChangeListener);\r\n        mBleConnection.setHeartRateChangeListener(mHeartRateChangListener);\r\n        mBleConnection.setBloodPressureChangeListener(mBloodPressureChangeListener);\r\n        mBleConnection.setBloodOxygenChangeListener(mBloodOxygenChangeListener);\r\n        mBleConnection.setFindPhoneListener(mFindPhoneListener);\r\n        mBleConnection.setECGChangeListener(mECGChangeListener, CRPEcgMeasureType.TI);\r\n        mBleConnection.setStepsCategoryListener(mStepsCategoryChangeListener);\r\n        mBleConnection.setSleepActionChangeListener(mSleepActionChangeListener);\r\n        mBleConnection.setMovementStateListener(mMovementStateListener);\r\n        mBleConnection.setTempChangeListener(mTempChangeListener);\r\n        mBleConnection.setContactListener(mContactListener);\r\n        mBleConnection.setHrvChangeListener(mHrvChangeListener);\r\n    }\r\n\r\n    private void closeGatt() {\r\n        if (mBleConnection != null) {\r\n            mBleConnection.close();\r\n        }\r\n    }```","title":"Cannot have a steady connection with my Bluetooth smartwatch in android studio","body":"<p>Pls, I'm having problems having a steady connection between my android app and my smartwatch, anytime the app connect with the watch, it connect and disconnect immediately. I actually use a custom crrp sdk for the project</p>\n<p>This is the scan activity</p>\n<pre><code>\nimport android.bluetooth.BluetoothAdapter;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.support.v4.app.ActivityCompat;\nimport android.support.v7.app.AppCompatActivity;\nimport android.support.v7.widget.LinearLayoutManager;\nimport android.support.v7.widget.RecyclerView;\nimport android.text.TextUtils;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport com.crrepa.ble.CRPBleClient;\nimport com.crrepa.ble.conn.CRPBleDevice;\nimport com.crrepa.ble.conn.listener.CRPBleFirmwareUpgradeListener;\nimport com.crrepa.ble.scan.bean.CRPScanDevice;\nimport com.crrepa.ble.scan.callback.CRPScanCallback;\nimport com.crrepa.ble.trans.upgrade.bean.HSFirmwareInfo;\nimport com.crrepa.sdk.sample.PermissionUtils;\nimport com.crrepa.sdk.sample.R;\nimport com.crrepa.sdk.sample.SampleApplication;\nimport com.crrepa.sdk.sample.device.DeviceActivity;\n\nimport java.io.File;\nimport java.util.List;\n\nimport butterknife.BindView;\nimport butterknife.ButterKnife;\nimport butterknife.OnClick;\n\npublic class ScanActivity extends AppCompatActivity {\n    private static final String TAG = &quot;ScanActivity&quot;;\n    private static final int SCAN_PERIOD = 10 * 1000;\n\n    private static final int REQUEST_UPDATEBANDCONFIG = 4;\n    private static final String[] PERMISSION_UPDATEBANDCONFIG = new String[] {\n            &quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;,\n            &quot;android.permission.READ_EXTERNAL_STORAGE&quot;,\n            &quot;android.permission.ACCESS_FINE_LOCATION&quot;,\n            &quot;android.permission.ACCESS_COARSE_LOCATION&quot;};\n\n    @BindView(R.id.btn_scan_toggle)\n    Button scanToggleBtn;\n    @BindView(R.id.scan_results)\n    RecyclerView scanResults;\n    @BindView(R.id.tv_firmware_fix_state)\n    TextView tvFirmwareFixState;\n\n\n    private CRPBleClient mBleClient;\n    private ScanResultsAdapter mResultsAdapter;\n    private boolean mScanState = false;\n\n\n    private static final String UPGRADE_APP_FILE_PATH = Environment.getExternalStorageDirectory().getPath()\n            + File.separator + &quot;crrepa&quot; + File.separator + &quot;app_band-hs.bin&quot;;\n    private static final String UPGRADE_USER_FILE_PATH = Environment.getExternalStorageDirectory().getPath()\n            + File.separator + &quot;crrepa&quot; + File.separator + &quot;usr.bin&quot;;\n    private static final String USER_START_ADDRESS = &quot;23000&quot;;\n//    private static final String BAND_ADDRESS = &quot;C1:C4:7C:DE:44:5B&quot;;\n//    private static final String BAND_ADDRESS = &quot;D9:4D:C2:BB:F3:F4&quot;;\n    private static final String BAND_ADDRESS = &quot;FB:09:C5:C7:1A:90&quot;;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_scan);\n        ButterKnife.bind(this);\n        mBleClient = SampleApplication.getBleClient(this);\n\n        configureResultList();\n\n        requestPermissions();\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        cancelScan();\n    }\n\n    @OnClick({R.id.btn_scan_toggle, R.id.btn_firmware_fix, R.id.btn_hs_upgrade})\n    public void onViewClicked(View view) {\n        if (!mBleClient.isBluetoothEnable()) {\n            Intent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\n            startActivity(enableBtIntent);\n            return;\n        }\n\n        switch (view.getId()) {\n            case R.id.btn_scan_toggle:\n                if (mScanState) {\n                    cancelScan();\n                } else {\n                    startScan();\n                }\n                break;\n            case R.id.btn_firmware_fix:\n\n                break;\n            case R.id.btn_hs_upgrade:\n                CRPBleClient bleClient = SampleApplication.getBleClient(this);\n                CRPBleDevice bleDevice = bleClient.getBleDevice(BAND_ADDRESS);\n                HSFirmwareInfo upgradeInfo = new HSFirmwareInfo();\n                upgradeInfo.setAppFilePath(UPGRADE_APP_FILE_PATH);\n                upgradeInfo.setUserFilePath(UPGRADE_USER_FILE_PATH);\n                upgradeInfo.setUserStartAddress(USER_START_ADDRESS);\n\n\n                break;\n        }\n\n    }\n\n    private void startScan() {\n        boolean success = mBleClient.scanDevice(new CRPScanCallback() {\n            @Override\n            public void onScanning(final CRPScanDevice device) {\n                Log.d(TAG, &quot;address: &quot; + device.getDevice().getAddress());\n                if (TextUtils.isEmpty(device.getDevice().getName())) {\n                    return;\n                }\n                runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n                        mResultsAdapter.addScanResult(device);\n                    }\n                });\n            }\n\n            @Override\n            public void onScanComplete(List&lt;CRPScanDevice&gt; results) {\n                if (mScanState) {\n                    mScanState = false;\n                    updateButtonUIState();\n                }\n            }\n        }, SCAN_PERIOD);\n        if (success) {\n            mScanState = true;\n            updateButtonUIState();\n            mResultsAdapter.clearScanResults();\n        }\n    }\n\n    private void cancelScan() {\n        mBleClient.cancelScan();\n    }\n\n\n    private void configureResultList() {\n        scanResults.setHasFixedSize(true);\n        LinearLayoutManager recyclerLayoutManager = new LinearLayoutManager(this);\n        scanResults.setLayoutManager(recyclerLayoutManager);\n        mResultsAdapter = new ScanResultsAdapter();\n        scanResults.setAdapter(mResultsAdapter);\n        mResultsAdapter.setOnAdapterItemClickListener(new ScanResultsAdapter.OnAdapterItemClickListener() {\n            @Override\n            public void onAdapterViewClick(View view) {\n                final int childAdapterPosition = scanResults.getChildAdapterPosition(view);\n                final CRPScanDevice itemAtPosition = mResultsAdapter.getItemAtPosition(childAdapterPosition);\n                onAdapterItemClick(itemAtPosition);\n            }\n        });\n    }\n\n\n    private void onAdapterItemClick(CRPScanDevice scanResults) {\n        final String macAddress = scanResults.getDevice().getAddress();\n        mBleClient.cancelScan();\n\n        final Intent intent = new Intent(this, DeviceActivity.class);\n        intent.putExtra(DeviceActivity.DEVICE_MACADDR, macAddress);\n        startActivity(intent);\n    }\n\n\n    private void updateButtonUIState() {\n        scanToggleBtn.setText(mScanState ? R.string.stop_scan : R.string.start_scan);\n    }\n\n    CRPBleFirmwareUpgradeListener mFirmwareUpgradeListener = new CRPBleFirmwareUpgradeListener() {\n        @Override\n        public void onFirmwareDownloadStarting() {\n            Log.d(TAG, &quot;onFirmwareDownloadStarting&quot;);\n            updateTextView(tvFirmwareFixState, getString(R.string.dfu_status_download_starting));\n        }\n\n        @Override\n        public void onFirmwareDownloadComplete() {\n            Log.d(TAG, &quot;onFirmwareDownloadComplete&quot;);\n            updateTextView(tvFirmwareFixState, getString(R.string.dfu_status_download_complete));\n        }\n\n        @Override\n        public void onUpgradeProgressStarting() {\n            Log.d(TAG, &quot;onUpgradeProgressStarting&quot;);\n            updateTextView(tvFirmwareFixState, getString(R.string.dfu_status_starting));\n        }\n\n        @Override\n        public void onUpgradeProgressChanged(int percent, float speed) {\n            Log.d(TAG, &quot;onUpgradeProgressChanged: &quot; + percent);\n            String status = String.format(getString(R.string.dfu_status_uploading_part), percent);\n            updateTextView(tvFirmwareFixState, status);\n        }\n\n        @Override\n        public void onUpgradeCompleted() {\n            Log.d(TAG, &quot;onUpgradeCompleted&quot;);\n            updateTextView(tvFirmwareFixState, getString(R.string.dfu_status_completed));\n        }\n\n        @Override\n        public void onUpgradeAborted() {\n            Log.d(TAG, &quot;onUpgradeAborted&quot;);\n            updateTextView(tvFirmwareFixState, getString(R.string.dfu_status_aborted));\n        }\n\n        @Override\n        public void onError(int errorType, String message) {\n            Log.d(TAG, &quot;onError: &quot; + errorType);\n            updateTextView(tvFirmwareFixState, message);\n        }\n    };\n\n    void updateTextView(final TextView view, final String con) {\n        runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n                view.setText(con);\n            }\n        });\n    }\n\n\n    void requestPermissions() {\n        if (!PermissionUtils.hasSelfPermissions(this, PERMISSION_UPDATEBANDCONFIG)) {\n            ActivityCompat.requestPermissions(\n                    this, PERMISSION_UPDATEBANDCONFIG, REQUEST_UPDATEBANDCONFIG);\n        }\n    }\n}\n</code></pre>\n<p>and the device activity here where  data is transferred between the watch and the app</p>\n<pre><code>    private static final String TAG = &quot;DeviceActivity&quot;;\n    public static final String DEVICE_MACADDR = &quot;device_macaddr&quot;;\n\n    private static final String UI_FILE_PATH = Environment.getExternalStorageDirectory().getAbsolutePath()\n            + File.separator + &quot;crrepa&quot; + File.separator + &quot;ota&quot; + File.separator\n            + &quot;eaf49ccb4dbe5df51af35803662867d5.bin&quot;;\n\n    ProgressDialog mProgressDialog;\n    CRPBleClient mBleClient;\n    CRPBleDevice mBleDevice;\n    CRPBleConnection mBleConnection;\n    boolean isUpgrade = false;\n\n    @BindView(R.id.tv_connect_state)\n    TextView tvConnectState;\n    @BindView(R.id.tv_firmware_version)\n    TextView tvFirmwareVersion;\n    @BindView(R.id.tv_battery)\n    TextView tvBattery;\n    @BindView(R.id.tv_step)\n    TextView tvStep;\n    @BindView(R.id.tv_distance)\n    TextView tvDistance;\n    @BindView(R.id.tv_calorie)\n    TextView tvCalorie;\n    @BindView(R.id.tv_restful)\n    TextView tvRestful;\n    @BindView(R.id.tv_light)\n    TextView tvLight;\n    @BindView(R.id.tv_heart_rate)\n    TextView tvHeartRate;\n    @BindView(R.id.tv_blood_pressure)\n    TextView tvBloodPressure;\n    @BindView(R.id.tv_upgrade_state)\n    TextView tvUpgradeState;\n    @BindView(R.id.btn_ble_connect_state)\n    Button btnBleDisconnect;\n    @BindView(R.id.tv_blood_oxygen)\n    TextView tvBloodOxygen;\n    @BindView(R.id.tv_new_firmware_version)\n    TextView tvNewFirmwareVersion;\n\n    private String bandFirmwareVersion;\n\n    private List&lt;Integer&gt; supportWatchFaceList;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_device);\n        ButterKnife.bind(this);\n        initView();\n        mProgressDialog = new ProgressDialog(this);\n        String macAddr = getIntent().getStringExtra(DEVICE_MACADDR);\n        //BluetoothDevice device = BluetoothAdapter.\n        if (TextUtils.isEmpty(macAddr)) {\n            finish();\n            return;\n        }\n\n        mBleClient = SampleApplication.getBleClient(this);\n        mBleDevice = mBleClient.getBleDevice(macAddr);\n        if (mBleDevice != null &amp;&amp; !mBleDevice.isConnected()) {\n            connect();\n        }\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        if (mBleDevice != null) {\n            mBleDevice.disconnect();\n        }\n    }\n\n    void initView() {\n        updateStepInfo(0, 0, 0);\n        updateSleepInfo(0, 0);\n    }\n\n\n\n    void connect() {\n        mProgressDialog.show();\n        mBleDevice.connect();\n                mBleConnection = mBleDevice.connect();\n\n        mBleConnection.setConnectionStateListener(new CRPBleConnectionStateListener() {\n            @Override\n            public void onConnectionStateChange(int newState) {\n                Log.d(TAG, &quot;onConnectionStateChange: &quot; + newState);\n                int state = -1;\n                switch (newState) {\n                    case CRPBleConnectionStateListener.STATE_CONNECTED:\n        DeviceActivity.this.runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n//                state = R.string.state_connected;\n                mProgressDialog.dismiss();\n                updateTextView(btnBleDisconnect, getString(R.string.disconnect));\n                Toast.makeText(DeviceActivity.this, &quot;connected&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n                        testSet();\n                        break;\n                    case CRPBleConnectionStateListener.STATE_CONNECTING:\n                        state = R.string.state_connecting;\n                        break;\n                    case CRPBleConnectionStateListener.STATE_DISCONNECTED:\n                        //closeGatt();\n                        state = R.string.state_disconnected;\n                        mProgressDialog.dismiss();\n                        updateTextView(btnBleDisconnect, getString(R.string.connect));\n                        break;\n                }\n                updateConnectState(state);\n            }\n        });\n\n        mBleConnection.setStepChangeListener(mStepChangeListener);\n        mBleConnection.setSleepChangeListener(mSleepChangeListener);\n        mBleConnection.setHeartRateChangeListener(mHeartRateChangListener);\n        mBleConnection.setBloodPressureChangeListener(mBloodPressureChangeListener);\n        mBleConnection.setBloodOxygenChangeListener(mBloodOxygenChangeListener);\n        mBleConnection.setFindPhoneListener(mFindPhoneListener);\n        mBleConnection.setECGChangeListener(mECGChangeListener, CRPEcgMeasureType.TI);\n        mBleConnection.setStepsCategoryListener(mStepsCategoryChangeListener);\n        mBleConnection.setSleepActionChangeListener(mSleepActionChangeListener);\n        mBleConnection.setMovementStateListener(mMovementStateListener);\n        mBleConnection.setTempChangeListener(mTempChangeListener);\n        mBleConnection.setContactListener(mContactListener);\n        mBleConnection.setHrvChangeListener(mHrvChangeListener);\n    }\n\n    private void closeGatt() {\n        if (mBleConnection != null) {\n            mBleConnection.close();\n        }\n    }```\n</code></pre>\n"},{"tags":["java","android","sockets"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1645963114,"post_id":71284458,"comment_id":126002772,"body_markdown":"Your second example doesn&#39;t initialize `socket` which means it should throw a NullPointerException. Perhaps you are swallowing exceptions. You might want to change the no-args constructor for SocketAdapter to call the one-arg constructor with `new Socket()`.","body":"Your second example doesn&#39;t initialize <code>socket</code> which means it should throw a NullPointerException. Perhaps you are swallowing exceptions. You might want to change the no-args constructor for SocketAdapter to call the one-arg constructor with <code>new Socket()</code>."},{"owner":{"account_id":13861587,"reputation":57,"user_id":10007109,"display_name":"g_elef"},"score":0,"creation_date":1645963432,"post_id":71284458,"comment_id":126002829,"body_markdown":"@PresidentJamesK.Polk Well, creating `socket=new Socket()` inside the `SocketAdapter` constructor fixed it. Thank you, a new set of eyes is always helpful. Perhaps post your comment as an answer, so I can accept it.\nWhat&#39;s peculiar is that indeed, I am *not* swallowing any generic exceptions; however this IS running on a different thread than thread-0... Weird, considering I&#39;ve caught every other unintended exception correctly.","body":"@PresidentJamesK.Polk Well, creating <code>socket=new Socket()</code> inside the <code>SocketAdapter</code> constructor fixed it. Thank you, a new set of eyes is always helpful. Perhaps post your comment as an answer, so I can accept it. What&#39;s peculiar is that indeed, I am <i>not</i> swallowing any generic exceptions; however this IS running on a different thread than thread-0... Weird, considering I&#39;ve caught every other unintended exception correctly."}],"answers":[{"tags":[],"owner":{"account_id":24085224,"reputation":83,"user_id":18059330,"display_name":"Louis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646128340,"creation_date":1646128340,"answer_id":71306579,"question_id":71284458,"body_markdown":"I don&#39;t understand how you try to create socket but if you want use socket you have to do it this way :\r\n\r\n1. Defind a serversocket \r\n   \r\n      ServerSocket serverSocket = new ServerSocket(8080);\r\n\r\n2. Then you can wait for a client to connect \r\n\r\nSocket socket = serverSocket.accept();\r\n\r\n3. If your client send data then make a function that read http request with BufferedReader. If you want send data to the client I invite you to use HttpURLConnection (https://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html)\r\n\r\nI invite you to create a thread for each client that connect to your server. And don&#39;t forget to close your socket.","title":"Socket.connect(InetSocketAddress, timeout) doesn&#39;t work, while new Socket(InetAddress, port) does","body":"<p>I don't understand how you try to create socket but if you want use socket you have to do it this way :</p>\n<ol>\n<li><p>Defind a serversocket</p>\n<p>ServerSocket serverSocket = new ServerSocket(8080);</p>\n</li>\n<li><p>Then you can wait for a client to connect</p>\n</li>\n</ol>\n<p>Socket socket = serverSocket.accept();</p>\n<ol start=\"3\">\n<li>If your client send data then make a function that read http request with BufferedReader. If you want send data to the client I invite you to use HttpURLConnection (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html</a>)</li>\n</ol>\n<p>I invite you to create a thread for each client that connect to your server. And don't forget to close your socket.</p>\n"}],"owner":{"account_id":13861587,"reputation":57,"user_id":10007109,"display_name":"g_elef"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":560,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646128340,"creation_date":1645962150,"question_id":71284458,"body_markdown":"I&#39;ve stumbled upon something very peculiar. When I&#39;m trying to connect to a LAN server in my peer to peer application, it looks like `socket.connect` doesn&#39;t work, while the `new Socket` does.\r\nThe InetAddress provided are link-local IPV6s, however that should(?) not be a factor in this bug.\r\nHere&#39;s the code that works:\r\n```Java\r\n    @Override\r\n    public void createUserSocket() throws IOException, InvalidPortValueException {\r\n        if (!portIsValid()) throw new InvalidPortValueException();\r\n        shutdown();\r\n        Log.d(TAG + &quot;.createUserSocket&quot;, &quot;TRYING TO CONNECT TO &quot; + address.getHostAddress() + &quot; : &quot; + port);\r\n        currentUserSocket = new SocketAdapter(address, port);\r\n        currentUserSocket.setTimeout(SO_TIMEOUT);\r\n        Log.d(TAG + &quot;.createUserSocket&quot;, &quot;connected to &quot; + currentUserSocket.log());\r\n    }\r\n```\r\nHere&#39;s the code that doesn&#39;t:\r\n```Java\r\n    @Override\r\n    public void createUserSocket() throws IOException, InvalidPortValueException {\r\n        if (!portIsValid()) throw new InvalidPortValueException();\r\n        shutdown();\r\n        currentUserSocket = new SocketAdapter();\r\n        InetSocketAddress soAddr = new InetSocketAddress(address, port); \r\n        Log.e(TAG + &quot;.createUserSocket&quot;, &quot;TRYING TO CONNECT TO &quot; + soAddr.getAddress().getHostAddress() + &quot; &quot; + soAddr.getPort() + &quot; with timeout &quot; + SO_TIMEOUT);\r\n        currentUserSocket.connect(soAddr, SO_TIMEOUT);\r\n        Log.d(TAG + &quot;.createUserSocket&quot;, &quot;connected to &quot; + currentUserSocket.log());\r\n    }\r\n```\r\nIt&#39;s worthwhile to note SocketAdapter is just a wrapper class for the Socket class, and doesn&#39;t do any funny stuff. The relevant bits of code for SocketAdapter are below.\r\n\r\nSO_TIMEOUT is a variable specifying timeout in millisecond time, and address &amp; port remain the same from the two blocks:\r\n\r\n```Java\r\nprivate static final int SO_TIMEOUT = 2000;\r\nprivate final InetAddress address;\r\nprivate final int port;\r\n```\r\nThe first example works as expected, connects and everything&#39;s OK.\r\nThe second example doesn&#39;t work, and instead blocks forever.\r\n\r\nI get the address &amp; port to connect to externally; however, as I said before, the first example works, while the second example doesn&#39;t, blocking forever in the `.connect` method. \r\nI&#39;d appreciate any insight for this sort of behaviour, since this is a critical part for the efficiency of my application. Thank you in advance!\r\n\r\nNote, that the two devices I&#39;m testing with, are API 26 and 30 respectively. Both are A-Series SAMSUNG phones (from different generations).\r\n\r\nSocketAdapter\r\n```Java\r\n    private Socket socket;\r\n\r\n    public SocketAdapter() {}\r\n\r\n    public SocketAdapter(Socket s) {\r\n        socket = s;\r\n    }\r\n\r\n    public SocketAdapter(InetAddress address, int port) throws IOException {\r\n        socket = StaticSocketFactory.createSocket(address, port);\r\n    }\r\n\r\n    public InetAddress getInetAddress() {\r\n        return socket.getInetAddress();\r\n    }\r\n\r\n    public void connect(SocketAddress addr, int soTimeout) throws IOException {\r\n        socket.connect(addr, soTimeout);\r\n    }\r\n```\r\n\r\nStaticSocketFactory\r\n```Java\r\n    static Socket createSocket(InetAddress addr, int port) throws IOException {\r\n        return new Socket(addr, port);\r\n    }\r\n```\r\n","title":"Socket.connect(InetSocketAddress, timeout) doesn&#39;t work, while new Socket(InetAddress, port) does","body":"<p>I've stumbled upon something very peculiar. When I'm trying to connect to a LAN server in my peer to peer application, it looks like <code>socket.connect</code> doesn't work, while the <code>new Socket</code> does.\nThe InetAddress provided are link-local IPV6s, however that should(?) not be a factor in this bug.\nHere's the code that works:</p>\n<pre><code>    @Override\n    public void createUserSocket() throws IOException, InvalidPortValueException {\n        if (!portIsValid()) throw new InvalidPortValueException();\n        shutdown();\n        Log.d(TAG + &quot;.createUserSocket&quot;, &quot;TRYING TO CONNECT TO &quot; + address.getHostAddress() + &quot; : &quot; + port);\n        currentUserSocket = new SocketAdapter(address, port);\n        currentUserSocket.setTimeout(SO_TIMEOUT);\n        Log.d(TAG + &quot;.createUserSocket&quot;, &quot;connected to &quot; + currentUserSocket.log());\n    }\n</code></pre>\n<p>Here's the code that doesn't:</p>\n<pre><code>    @Override\n    public void createUserSocket() throws IOException, InvalidPortValueException {\n        if (!portIsValid()) throw new InvalidPortValueException();\n        shutdown();\n        currentUserSocket = new SocketAdapter();\n        InetSocketAddress soAddr = new InetSocketAddress(address, port); \n        Log.e(TAG + &quot;.createUserSocket&quot;, &quot;TRYING TO CONNECT TO &quot; + soAddr.getAddress().getHostAddress() + &quot; &quot; + soAddr.getPort() + &quot; with timeout &quot; + SO_TIMEOUT);\n        currentUserSocket.connect(soAddr, SO_TIMEOUT);\n        Log.d(TAG + &quot;.createUserSocket&quot;, &quot;connected to &quot; + currentUserSocket.log());\n    }\n</code></pre>\n<p>It's worthwhile to note SocketAdapter is just a wrapper class for the Socket class, and doesn't do any funny stuff. The relevant bits of code for SocketAdapter are below.</p>\n<p>SO_TIMEOUT is a variable specifying timeout in millisecond time, and address &amp; port remain the same from the two blocks:</p>\n<pre><code>private static final int SO_TIMEOUT = 2000;\nprivate final InetAddress address;\nprivate final int port;\n</code></pre>\n<p>The first example works as expected, connects and everything's OK.\nThe second example doesn't work, and instead blocks forever.</p>\n<p>I get the address &amp; port to connect to externally; however, as I said before, the first example works, while the second example doesn't, blocking forever in the <code>.connect</code> method.\nI'd appreciate any insight for this sort of behaviour, since this is a critical part for the efficiency of my application. Thank you in advance!</p>\n<p>Note, that the two devices I'm testing with, are API 26 and 30 respectively. Both are A-Series SAMSUNG phones (from different generations).</p>\n<p>SocketAdapter</p>\n<pre><code>    private Socket socket;\n\n    public SocketAdapter() {}\n\n    public SocketAdapter(Socket s) {\n        socket = s;\n    }\n\n    public SocketAdapter(InetAddress address, int port) throws IOException {\n        socket = StaticSocketFactory.createSocket(address, port);\n    }\n\n    public InetAddress getInetAddress() {\n        return socket.getInetAddress();\n    }\n\n    public void connect(SocketAddress addr, int soTimeout) throws IOException {\n        socket.connect(addr, soTimeout);\n    }\n</code></pre>\n<p>StaticSocketFactory</p>\n<pre><code>    static Socket createSocket(InetAddress addr, int port) throws IOException {\n        return new Socket(addr, port);\n    }\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","javafx","executable-jar"],"comments":[{"owner":{"account_id":22451370,"reputation":197,"user_id":17424390,"display_name":"Abdelrahman Nassar"},"score":1,"creation_date":1644992765,"post_id":71125172,"comment_id":125749199,"body_markdown":"The question which supposed to be similar did not help me, and the solution there did not work for me ( it is one of the solutions I already tried), how an I reopen my question","body":"The question which supposed to be similar did not help me, and the solution there did not work for me ( it is one of the solutions I already tried), how an I reopen my question"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1645006629,"post_id":71125172,"comment_id":125753711,"body_markdown":"When you initially ask a question, please also mention and link to the things you have already tried to provide context and assist others in assisting you.","body":"When you initially ask a question, please also mention and link to the things you have already tried to provide context and assist others in assisting you."}],"answers":[{"tags":[],"owner":{"account_id":24268826,"reputation":1,"user_id":18217277,"display_name":"guest325234"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1644956476,"creation_date":1644956476,"answer_id":71132882,"question_id":71125172,"body_markdown":"Try to create a new Class with a main method that calls the main Method of your Application class and use it as entry point. ","title":"Can not run JAVAFX .jar File (many errors occurred)","body":"<p>Try to create a new Class with a main method that calls the main Method of your Application class and use it as entry point.</p>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646128016,"creation_date":1645006620,"answer_id":71139922,"question_id":71125172,"body_markdown":"This answer provides two alternatives for packaging and distributing your application, one (creating a fat jar file) is not recommended, the other (using jlink or jpackage) is recommended.\r\n\r\n**Related Question**\r\n\r\nI believe the question is, at its core, a duplicate of:\r\n\r\n * https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing\r\n\r\nbecause, as in the duplicate, you are:\r\n\r\n 1. Using Maven.\r\n 2. Using JavaFX.\r\n 3. Hoping to create an executable jar.\r\n\r\nHowever, I have added an answer to outline specific things you must change in your project to get it to work.\r\n\r\n**Not Recommended Approach: Fat JAR**\r\n\r\nCreating a fat jar is **not** a currently supported way to package a JavaFX application. \r\n\r\nA template for a fat jar with JavaFX is provided by the [openjfx.io project][1]. \r\n\r\nThe [pom.xml project file][2] is here.\r\n\r\nIf unclear about the steps below, study the linked question on maven shading of JavaFX and the sample openjfx.io project.\r\n\r\nSteps to transform your project to one which can be packed as a fat jar:\r\n\r\n 1. Define all of the required JavaFX dependencies for your applicatoin in the pom.xml file.\r\n\r\n    * Maven will import transitively, so you don&#39;t need direct dependencies on low level artifacts such as javafx-base, just the higher-level ones like javafx-controls and javafx-fxml (if you use that).\r\n\r\n 1. It should be a non-modular project (delete your module-info.java)\r\n\r\n 2. It requires a separate [launcher class][3] (create one)\r\n\r\n 3. It requires merging of jars using the maven shade plugin (use that)\r\n\r\n 4. To make it cross platform you need to provide classified dependencies (add them)\r\n\r\n 5. To support M1 macs, you need \r\n    * An additional classifier dependency mac-aarch64 (add that)\r\n    * JavaFX 17.0.2+ (upgrade to that).\r\n\r\n 6. You need to use Maven dependencies not the JavaFX SDK (you can delete the SDK).\r\n\r\n     * The maven artifacts are different from the jars shipped in the SDK.\r\n     * The maven artifacts include native code, the jars in the SDK do not, native code is provided in separate native library files in the SDK distribution.\r\n     * Through a separate download, you can obtain jmod files that include java code and native code, but those aren&#39;t compatible with the Maven shade process, those can be used for the jlink process (as can the maven artifacts).\r\n\r\n 7. Specify the main class using a [transformer in the shade plugin][4], not using the maven-jar-plugin (you should remove the maven-jar-plugin section). \r\n\r\n 8. Use `mvn package` to package your application, do not use the built-in artifact generators in an IDE\r\n\r\n     * Do not use the Idea or Eclipse artifact generation systems.\r\n     * The IDE artifact generation systems do not currently support correctly generating executable jars which include JavaFX runtime components, they will generate artifacts, but they will exhibit errors if you try to execute them.\r\n\r\n     The `mvn package` step will generate a warning, though it will likely still work:\r\n\r\n         [WARNING] Discovered module-info.class. Shading will break its strong encapsulation.\r\n\r\n 9. To run just use the following command and nothing else:\r\n\r\n        java -jar &lt;yourjar&gt;.jar\r\n\r\n    This assumes the user has correctly:\r\n\r\n      * Installed a compatible JRE version.\r\n      * Configured the system path to include the directory containing the appropriate `java` binary file.\r\n      * The user&#39;s current directory is the directory containing the shaded jar.\r\n\r\n    The execution step will generate a warning, though it will likely still work:\r\n\r\n        WARNING: Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @14c24f4c&#39;\r\n\r\n 10. Don&#39;t specify paths to the JavaFX SDK for anything anymore, it is no longer needed to support this development pipeline.\r\n\r\n 11. Don&#39;t specify module-paths because you are just running your app and its dependencies off the classpath (which is your jar file).\r\n     * only the core JRE is on the modulepath and that is implicit as the core JRE classes are on the JRE module boot path.\r\n\r\n 12. You are compiling for Java 17 to Java 17 bytecode (your maven-compiler-plugin source and target are 17)\r\n     * so you *must* run it against a Java 17+ version or it won&#39;t work, you will get byte code errors.\r\n\r\nI may have missed a step, but, if I did not, and you do all that, it will work for JRE/JavaFX 17.0.2.  The resultant jar can be executed using a compatible pre-installed JRE on a compatible platform.\r\n\r\n**Recommended Approach: jlink or jpackage**\r\n\r\nIt is recommended instead to build a `jlink` image:\r\n\r\n 1. Use the javafx-maven-plugin `mvn javafx:jlink` command\r\n    * Assemble to a zip by setting the `jlinkZipName` parameter for the javafx-maven-plugin.\r\n    * Ensure you have a completely modular application:\r\n      * Define a `module-info.java` file in your app.\r\n      * Ensure that all of your dependencies also define a `module-info.java` file.\r\n 2. To run, extract the zip and use the jlink created launch script. \r\n\r\nOR, you can use `jpackage` to create a native installer, see for instance:\r\n\r\n * [JPackageScriptFX][5] for a non-modular app,\r\n\r\n   OR\r\n \r\n * the Akman [jpackage-maven-plugin][6] for a modular app.\r\n\r\nCreating distributions using jlink or jpackage are supported configurations. It is easier and more reliable for a developer to create a jlink image than to create a fat jar. \r\n\r\nIt is easier and more reliable for users of the application to use the application as they do not need to obtain and install a compatible Java runtime in addition to your application.\r\n\r\n**External Packaging Resources**\r\n\r\nFurther information on packaging is provided in:\r\n\r\n * [Stackoverflow JavaFX tag wiki][7]\r\n * [openjfx.io Runtime image documentation][8]\r\n * https://stackoverflow.com/questions/69811401/how-to-create-a-standalone-exe-in-java-that-runs-without-an-installer-and-a-jr\r\n\r\n**FAQ**\r\n\r\n&gt; deleted all javafx dependances from the POM file\r\n\r\nDon&#39;t do that, include the JavaFX dependencies used by your application in the pom.xml file (and any required 3rd party dependencies).  \r\n\r\nYou don&#39;t need to include JavaFX dependencies you don&#39;t use \r\n\r\nYou don&#39;t need to explicitly list dependencies which will be imported transitively, such as javafx-base.\r\n\r\n&gt; where is the `.jar` file created by the command `mvn package`\r\n\r\nThis is listed in your log file when you run the package step:\r\n\r\n    Replacing C:\\Users\\aenas\\IdeaProjects\\demo2\\DevicesHistoryCards_Maven2\\target\\DevicesHistoryCards_Maven-1.0-SNAPSHOT.jar with C:\\Users\\aenas\\IdeaProjects\\demo2\\DevicesHistoryCards_Maven2\\target\\DevicesHistoryCards_Maven-1.0-SNAPSHOT-shaded.jar\r\n\r\nIt created both shaded and unshaded jars, then replaced the unshaded jar with the shaded jar.\r\n\r\nTo see the contents of a jar file, you can run:\r\n\r\n    jar tvf &lt;your-jar-file&gt;.jar\r\n\r\nIn your example do:\r\n\r\n    cd C:\\Users\\aenas\\IdeaProjects\\demo2\\DevicesHistoryCards_Maven2\\target\r\n    jar tvf DevicesHistoryCards_Maven-1.0-SNAPSHOT.jar\r\n\r\nThere will be lot of stuff in there.  The jar will include your app code, all code from your dependent libraries, all the JavaFX java code and the JavaFX native code (e.g. Windows DLLs) for the classified JavaFX dependencies that you defined in your pom.xml to match your target distribution platforms.\r\n\r\nIf you use the shade definition from the [openjfx fat jar sample pom.xml](https://github.com/openjfx/samples/blob/master/CommandLine/Non-modular/Maven/hellofx/pom.xml#L79), it uses a classifier for the shaded jar and outputs it in a separate directory, so the shaded jar does not overwrite the target jar but instead creates a separate jar in a `&lt;project directory&gt;/shade` folder.  \r\n\r\nYou don&#39;t need to use the classifier for the shaded jar if you don&#39;t want to.\r\n\r\nFor more info see:\r\n\r\n * [attaching the shaded artifact](https://maven.apache.org/plugins/maven-shade-plugin/examples/attached-artifact.html)\r\n\r\n   &gt; By default, the plugin will replace the project&#39;s main artifact with the shaded artifact. If both the original and the shaded artifact should be installed/deployed to the repository, one can configure the plugin to attach the shaded artifact as a secondary artifact\r\n\r\n**Cloning the OpenJFX Sample Project to verify your environment**\r\n\r\nIf you are still having issues clone the [openjfx sample project](https://github.com/openjfx/samples/tree/master/CommandLine/Non-modular/Maven) from git and try building it to ensure that you can get the packaging to work correctly in your environment when using a known good project.\r\n\r\n  [1]: https://github.com/openjfx/samples/tree/master/CommandLine/Non-modular/Maven\r\n  [2]: https://github.com/openjfx/samples/blob/master/CommandLine/Non-modular/Maven/hellofx/pom.xml\r\n  [3]: https://github.com/openjfx/samples/blob/master/CommandLine/Non-modular/Maven/hellofx/src/main/java/hellofx/Launcher.java\r\n  [4]: https://github.com/openjfx/samples/blob/master/CommandLine/Non-modular/Maven/hellofx/pom.xml#L83\r\n  [5]: https://github.com/dlemmermann/JPackageScriptFX\r\n  [6]: https://github.com/akman/jpackage-maven-plugin\r\n  [7]: https://stackoverflow.com/tags/javafx/info\r\n  [8]: https://openjfx.io/openjfx-docs/#modular","title":"Can not run JAVAFX .jar File (many errors occurred)","body":"<p>This answer provides two alternatives for packaging and distributing your application, one (creating a fat jar file) is not recommended, the other (using jlink or jpackage) is recommended.</p>\n<p><strong>Related Question</strong></p>\n<p>I believe the question is, at its core, a duplicate of:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing\">Maven Shade JavaFX runtime components are missing</a></li>\n</ul>\n<p>because, as in the duplicate, you are:</p>\n<ol>\n<li>Using Maven.</li>\n<li>Using JavaFX.</li>\n<li>Hoping to create an executable jar.</li>\n</ol>\n<p>However, I have added an answer to outline specific things you must change in your project to get it to work.</p>\n<p><strong>Not Recommended Approach: Fat JAR</strong></p>\n<p>Creating a fat jar is <strong>not</strong> a currently supported way to package a JavaFX application.</p>\n<p>A template for a fat jar with JavaFX is provided by the <a href=\"https://github.com/openjfx/samples/tree/master/CommandLine/Non-modular/Maven\" rel=\"nofollow noreferrer\">openjfx.io project</a>.</p>\n<p>The <a href=\"https://github.com/openjfx/samples/blob/master/CommandLine/Non-modular/Maven/hellofx/pom.xml\" rel=\"nofollow noreferrer\">pom.xml project file</a> is here.</p>\n<p>If unclear about the steps below, study the linked question on maven shading of JavaFX and the sample openjfx.io project.</p>\n<p>Steps to transform your project to one which can be packed as a fat jar:</p>\n<ol>\n<li><p>Define all of the required JavaFX dependencies for your applicatoin in the pom.xml file.</p>\n<ul>\n<li>Maven will import transitively, so you don't need direct dependencies on low level artifacts such as javafx-base, just the higher-level ones like javafx-controls and javafx-fxml (if you use that).</li>\n</ul>\n</li>\n<li><p>It should be a non-modular project (delete your module-info.java)</p>\n</li>\n<li><p>It requires a separate <a href=\"https://github.com/openjfx/samples/blob/master/CommandLine/Non-modular/Maven/hellofx/src/main/java/hellofx/Launcher.java\" rel=\"nofollow noreferrer\">launcher class</a> (create one)</p>\n</li>\n<li><p>It requires merging of jars using the maven shade plugin (use that)</p>\n</li>\n<li><p>To make it cross platform you need to provide classified dependencies (add them)</p>\n</li>\n<li><p>To support M1 macs, you need</p>\n<ul>\n<li>An additional classifier dependency mac-aarch64 (add that)</li>\n<li>JavaFX 17.0.2+ (upgrade to that).</li>\n</ul>\n</li>\n<li><p>You need to use Maven dependencies not the JavaFX SDK (you can delete the SDK).</p>\n<ul>\n<li>The maven artifacts are different from the jars shipped in the SDK.</li>\n<li>The maven artifacts include native code, the jars in the SDK do not, native code is provided in separate native library files in the SDK distribution.</li>\n<li>Through a separate download, you can obtain jmod files that include java code and native code, but those aren't compatible with the Maven shade process, those can be used for the jlink process (as can the maven artifacts).</li>\n</ul>\n</li>\n<li><p>Specify the main class using a <a href=\"https://github.com/openjfx/samples/blob/master/CommandLine/Non-modular/Maven/hellofx/pom.xml#L83\" rel=\"nofollow noreferrer\">transformer in the shade plugin</a>, not using the maven-jar-plugin (you should remove the maven-jar-plugin section).</p>\n</li>\n<li><p>Use <code>mvn package</code> to package your application, do not use the built-in artifact generators in an IDE</p>\n<ul>\n<li>Do not use the Idea or Eclipse artifact generation systems.</li>\n<li>The IDE artifact generation systems do not currently support correctly generating executable jars which include JavaFX runtime components, they will generate artifacts, but they will exhibit errors if you try to execute them.</li>\n</ul>\n<p>The <code>mvn package</code> step will generate a warning, though it will likely still work:</p>\n<pre><code> [WARNING] Discovered module-info.class. Shading will break its strong encapsulation.\n</code></pre>\n</li>\n<li><p>To run just use the following command and nothing else:</p>\n<pre><code>java -jar &lt;yourjar&gt;.jar\n</code></pre>\n<p>This assumes the user has correctly:</p>\n<ul>\n<li>Installed a compatible JRE version.</li>\n<li>Configured the system path to include the directory containing the appropriate <code>java</code> binary file.</li>\n<li>The user's current directory is the directory containing the shaded jar.</li>\n</ul>\n<p>The execution step will generate a warning, though it will likely still work:</p>\n<pre><code>WARNING: Unsupported JavaFX configuration: classes were loaded from 'unnamed module @14c24f4c'\n</code></pre>\n</li>\n<li><p>Don't specify paths to the JavaFX SDK for anything anymore, it is no longer needed to support this development pipeline.</p>\n</li>\n<li><p>Don't specify module-paths because you are just running your app and its dependencies off the classpath (which is your jar file).</p>\n<ul>\n<li>only the core JRE is on the modulepath and that is implicit as the core JRE classes are on the JRE module boot path.</li>\n</ul>\n</li>\n<li><p>You are compiling for Java 17 to Java 17 bytecode (your maven-compiler-plugin source and target are 17)</p>\n<ul>\n<li>so you <em>must</em> run it against a Java 17+ version or it won't work, you will get byte code errors.</li>\n</ul>\n</li>\n</ol>\n<p>I may have missed a step, but, if I did not, and you do all that, it will work for JRE/JavaFX 17.0.2.  The resultant jar can be executed using a compatible pre-installed JRE on a compatible platform.</p>\n<p><strong>Recommended Approach: jlink or jpackage</strong></p>\n<p>It is recommended instead to build a <code>jlink</code> image:</p>\n<ol>\n<li>Use the javafx-maven-plugin <code>mvn javafx:jlink</code> command\n<ul>\n<li>Assemble to a zip by setting the <code>jlinkZipName</code> parameter for the javafx-maven-plugin.</li>\n<li>Ensure you have a completely modular application:\n<ul>\n<li>Define a <code>module-info.java</code> file in your app.</li>\n<li>Ensure that all of your dependencies also define a <code>module-info.java</code> file.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>To run, extract the zip and use the jlink created launch script.</li>\n</ol>\n<p>OR, you can use <code>jpackage</code> to create a native installer, see for instance:</p>\n<ul>\n<li><p><a href=\"https://github.com/dlemmermann/JPackageScriptFX\" rel=\"nofollow noreferrer\">JPackageScriptFX</a> for a non-modular app,</p>\n<p>OR</p>\n</li>\n<li><p>the Akman <a href=\"https://github.com/akman/jpackage-maven-plugin\" rel=\"nofollow noreferrer\">jpackage-maven-plugin</a> for a modular app.</p>\n</li>\n</ul>\n<p>Creating distributions using jlink or jpackage are supported configurations. It is easier and more reliable for a developer to create a jlink image than to create a fat jar.</p>\n<p>It is easier and more reliable for users of the application to use the application as they do not need to obtain and install a compatible Java runtime in addition to your application.</p>\n<p><strong>External Packaging Resources</strong></p>\n<p>Further information on packaging is provided in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/tags/javafx/info\">Stackoverflow JavaFX tag wiki</a></li>\n<li><a href=\"https://openjfx.io/openjfx-docs/#modular\" rel=\"nofollow noreferrer\">openjfx.io Runtime image documentation</a></li>\n<li><a href=\"https://stackoverflow.com/questions/69811401/how-to-create-a-standalone-exe-in-java-that-runs-without-an-installer-and-a-jr\">How to create a standalone .exe in Java (that runs without an installer and a JRE)</a></li>\n</ul>\n<p><strong>FAQ</strong></p>\n<blockquote>\n<p>deleted all javafx dependances from the POM file</p>\n</blockquote>\n<p>Don't do that, include the JavaFX dependencies used by your application in the pom.xml file (and any required 3rd party dependencies).</p>\n<p>You don't need to include JavaFX dependencies you don't use</p>\n<p>You don't need to explicitly list dependencies which will be imported transitively, such as javafx-base.</p>\n<blockquote>\n<p>where is the <code>.jar</code> file created by the command <code>mvn package</code></p>\n</blockquote>\n<p>This is listed in your log file when you run the package step:</p>\n<pre><code>Replacing C:\\Users\\aenas\\IdeaProjects\\demo2\\DevicesHistoryCards_Maven2\\target\\DevicesHistoryCards_Maven-1.0-SNAPSHOT.jar with C:\\Users\\aenas\\IdeaProjects\\demo2\\DevicesHistoryCards_Maven2\\target\\DevicesHistoryCards_Maven-1.0-SNAPSHOT-shaded.jar\n</code></pre>\n<p>It created both shaded and unshaded jars, then replaced the unshaded jar with the shaded jar.</p>\n<p>To see the contents of a jar file, you can run:</p>\n<pre><code>jar tvf &lt;your-jar-file&gt;.jar\n</code></pre>\n<p>In your example do:</p>\n<pre><code>cd C:\\Users\\aenas\\IdeaProjects\\demo2\\DevicesHistoryCards_Maven2\\target\njar tvf DevicesHistoryCards_Maven-1.0-SNAPSHOT.jar\n</code></pre>\n<p>There will be lot of stuff in there.  The jar will include your app code, all code from your dependent libraries, all the JavaFX java code and the JavaFX native code (e.g. Windows DLLs) for the classified JavaFX dependencies that you defined in your pom.xml to match your target distribution platforms.</p>\n<p>If you use the shade definition from the <a href=\"https://github.com/openjfx/samples/blob/master/CommandLine/Non-modular/Maven/hellofx/pom.xml#L79\" rel=\"nofollow noreferrer\">openjfx fat jar sample pom.xml</a>, it uses a classifier for the shaded jar and outputs it in a separate directory, so the shaded jar does not overwrite the target jar but instead creates a separate jar in a <code>&lt;project directory&gt;/shade</code> folder.</p>\n<p>You don't need to use the classifier for the shaded jar if you don't want to.</p>\n<p>For more info see:</p>\n<ul>\n<li><p><a href=\"https://maven.apache.org/plugins/maven-shade-plugin/examples/attached-artifact.html\" rel=\"nofollow noreferrer\">attaching the shaded artifact</a></p>\n<blockquote>\n<p>By default, the plugin will replace the project's main artifact with the shaded artifact. If both the original and the shaded artifact should be installed/deployed to the repository, one can configure the plugin to attach the shaded artifact as a secondary artifact</p>\n</blockquote>\n</li>\n</ul>\n<p><strong>Cloning the OpenJFX Sample Project to verify your environment</strong></p>\n<p>If you are still having issues clone the <a href=\"https://github.com/openjfx/samples/tree/master/CommandLine/Non-modular/Maven\" rel=\"nofollow noreferrer\">openjfx sample project</a> from git and try building it to ensure that you can get the packaging to work correctly in your environment when using a known good project.</p>\n"}],"owner":{"account_id":22451370,"reputation":197,"user_id":17424390,"display_name":"Abdelrahman Nassar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1548,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71139922,"answer_count":2,"score":0,"last_activity_date":1646128016,"creation_date":1644922435,"question_id":71125172,"body_markdown":"\r\n\r\nI am having a problem creating a .jar file for my JAVAFX Program.\r\n\r\nimportant info:\r\n\r\nJAVAFX Version: 17\r\n\r\nJAVA Version: 17\r\n\r\nIDE: Intellij \r\n\r\nProject Uses Maven\r\n\r\n\r\n..................................................................................................................................................................................................................................................\r\n\r\nfile structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nmodule File:\r\n```\r\nmodule A_DevicesInfoCardsManager {\r\n\trequires javafx.controls;\r\n\trequires javafx.fxml;\r\n\trequires javafx.graphics;\r\n\trequires java.sql;\r\n\t\r\n\topens application to javafx.graphics, javafx.fxml, javafx.base, javafx.controls,java.sql;\r\n}\r\n\r\n```\r\n\r\n\r\nPOM File:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;application&lt;/groupId&gt;\r\n    &lt;artifactId&gt;DevicesInfoCards&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;DevicesInfoCards&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;junit.version&gt;5.8.1&lt;/junit.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;17.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;17.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\r\n            &lt;version&gt;17.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.controlsfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;controlsfx&lt;/artifactId&gt;\r\n            &lt;version&gt;11.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.dlsc.formsfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;formsfx-core&lt;/artifactId&gt;\r\n            &lt;version&gt;11.3.2&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.synedra&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validatorfx&lt;/artifactId&gt;\r\n            &lt;version&gt;0.1.13&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.kordamp.ikonli&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ikonli-javafx&lt;/artifactId&gt;\r\n            &lt;version&gt;12.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.kordamp.bootstrapfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bootstrapfx-core&lt;/artifactId&gt;\r\n            &lt;version&gt;0.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;eu.hansolo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tilesfx&lt;/artifactId&gt;\r\n            &lt;version&gt;11.48&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;application/application.Main\r\n                            &lt;/mainClass&gt;\r\n                            &lt;launcher&gt;app&lt;/launcher&gt;\r\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nI created a jar Like this : \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nwhen I ran the jar like this:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nI got the following error:\r\n```\r\nError: JavaFX runtime components are missing, and are required to run this application\r\n```\r\nand when I ran it from the terminal using the command ```\r\n java --module-path C:\\Users\\aenas\\Desktop\\javafx-sdk-17.0.1 --add-modules javafx.fxml,javafx.graphics,java.sql -jar DevicesInfoCards.jar```\r\n\r\nI got the following error\r\n```\r\nError occurred during initialization of boot layer\r\njava.lang.module.FindException: Module javafx.graphics not found\r\n```\r\n\r\nand When I tried the following command:\r\n```\r\n java --module-path C:\\Users\\aenas\\Desktop\\javafx-sdk-17.0.1 -jar DevicesInfoCards.jar\r\n```\r\n\r\nI got the following Error\r\n```\r\nError: LinkageError occurred while loading main class application.Main\r\n        java.lang.UnsupportedClassVersionError: application/Main has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\r\n```\r\n\r\nI have seen many tutorials and read many answers here in SO, but I did not get anything new.\r\n\r\none of the sollutions was to add the following to he POM file:\r\n```\r\n&lt;packaging&gt;jar &lt;/packaging&gt;\r\n\r\n\r\n            &lt;plugin&gt;\r\n                &lt;!-- Build an executable JAR --&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                            &lt;mainClass&gt;application.Main&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```\r\nI could not solve the last error, although I did compile the program using java 11, but the same error occurred.\r\n\r\n\r\nI did that (adding the code to the POM file) but I also got the following error:\r\n```\r\nError: Could not find or load main class application.Main\r\nCaused by: java.lang.NoClassDefFoundError: javafx/application/Application\r\n```\r\n\r\n\r\n\r\nI also tried to create a new class with a main method, and let it call the `Main` cless, but this did not work, and I got the following error:\r\n```\r\nno main manifest attribute, in C:\\Users\\aenas\\IdeaProjects\\demo2\\DevicesHistoryCards_Maven\\out\\artifacts\\DevicesHistoryCards_Maven_jar\\DevicesHistoryCards_Maven.jar\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nalthough I have changed all ```&lt;mainclass&gt;&lt;/mainclass&gt;``` tegs in my POM file to the correct  new main class, I still getting the same error.\r\n\r\n\r\n\r\n\r\nThank you in advance for your help;\r\n\r\n\r\n&gt;&gt;***UPDATE***\r\n\r\nwhat I did is that I deleted the module info file, deleted all javafx dependances from the  POM file, so my POM looks like that now:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;application&lt;/groupId&gt;\r\n    &lt;artifactId&gt;DevicesHistoryCards_Maven&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;DevicesHistoryCards_Maven&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;junit.version&gt;5.8.1&lt;/junit.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n\r\n\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n\r\n\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                    &lt;mainClass&gt;application.MainLauncher&lt;/mainClass&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;\r\n                                application.MainLauncher\r\n                            &lt;/mainClass&gt;\r\n                            &lt;launcher&gt;app&lt;/launcher&gt;\r\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nand when I ran `mvn package` I got the following output:\r\n```\r\nPS C:\\Users\\aenas\\IdeaProjects\\demo2\\DevicesHistoryCards_Maven2&gt; mvn package\r\n[INFO] Scanning for projects...\r\n[INFO]\r\n[INFO] ---------------&lt; application:DevicesHistoryCards_Maven &gt;----------------\r\n[INFO] Building DevicesHistoryCards_Maven 1.0-SNAPSHOT\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO]\r\n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ DevicesHistoryCards_Maven ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] Copying 6 resources\r\n[INFO]\r\n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ DevicesHistoryCards_Maven ---\r\n[INFO] Nothing to compile - all classes are up to date\r\n[INFO]\r\n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ DevicesHistoryCards_Maven ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] skip non existing resourceDirectory C:\\Users\\aenas\\IdeaProjects\\demo2\\DevicesHistoryCards_Maven2\\src\\test\\resources\r\n[INFO]\r\n[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ DevicesHistoryCards_Maven ---\r\n[INFO] No sources to compile\r\n[INFO]\r\n[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ DevicesHistoryCards_Maven ---\r\n[INFO] No tests to run.\r\n[INFO]\r\n[INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ DevicesHistoryCards_Maven ---\r\n[INFO]\r\n[INFO] --- maven-shade-plugin:3.2.4:shade (default) @ DevicesHistoryCards_Maven ---\r\n[INFO] Replacing original artifact with shaded artifact.\r\n[INFO] Replacing C:\\Users\\aenas\\IdeaProjects\\demo2\\DevicesHistoryCards_Maven2\\target\\DevicesHistoryCards_Maven-1.0-SNAPSHOT.jar with C:\\Users\\aenas\\IdeaProjects\\demo2\\DevicesHistoryCards_Maven2\\target\\DevicesHistoryCards_Maven-1.0-SNAPSHOT-shaded.jar\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  4.692 s\r\n[INFO] Finished at: 2022-02-17T13:40:42+03:00\r\n[INFO] ------------------------------------------------------------------------\r\n```\r\nbut when I ran `java -jar DevicesHistoryCards_Maven2.jar` I got the following: \r\n`Error: Unable to access jarfile DevicesHistoryCards_Maven.jar`\r\n\r\nso why cant I access it, and where is it created ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uxpnY.png\r\n  [2]: https://i.stack.imgur.com/SJJTL.png\r\n  [3]: https://i.stack.imgur.com/VlikS.png","title":"Can not run JAVAFX .jar File (many errors occurred)","body":"<p>I am having a problem creating a .jar file for my JAVAFX Program.</p>\n<p>important info:</p>\n<p>JAVAFX Version: 17</p>\n<p>JAVA Version: 17</p>\n<p>IDE: Intellij</p>\n<p>Project Uses Maven</p>\n<p>..................................................................................................................................................................................................................................................</p>\n<p>file structure:</p>\n<p><a href=\"https://i.stack.imgur.com/uxpnY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uxpnY.png\" alt=\"enter image description here\" /></a></p>\n<p>module File:</p>\n<pre><code>module A_DevicesInfoCardsManager {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires javafx.graphics;\n    requires java.sql;\n    \n    opens application to javafx.graphics, javafx.fxml, javafx.base, javafx.controls,java.sql;\n}\n\n</code></pre>\n<p>POM File:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;application&lt;/groupId&gt;\n    &lt;artifactId&gt;DevicesInfoCards&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;DevicesInfoCards&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.8.1&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;17.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;17.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\n            &lt;version&gt;17.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.controlsfx&lt;/groupId&gt;\n            &lt;artifactId&gt;controlsfx&lt;/artifactId&gt;\n            &lt;version&gt;11.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.dlsc.formsfx&lt;/groupId&gt;\n            &lt;artifactId&gt;formsfx-core&lt;/artifactId&gt;\n            &lt;version&gt;11.3.2&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.synedra&lt;/groupId&gt;\n            &lt;artifactId&gt;validatorfx&lt;/artifactId&gt;\n            &lt;version&gt;0.1.13&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.kordamp.ikonli&lt;/groupId&gt;\n            &lt;artifactId&gt;ikonli-javafx&lt;/artifactId&gt;\n            &lt;version&gt;12.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.kordamp.bootstrapfx&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrapfx-core&lt;/artifactId&gt;\n            &lt;version&gt;0.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;eu.hansolo&lt;/groupId&gt;\n            &lt;artifactId&gt;tilesfx&lt;/artifactId&gt;\n            &lt;version&gt;11.48&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;application/application.Main\n                            &lt;/mainClass&gt;\n                            &lt;launcher&gt;app&lt;/launcher&gt;\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I created a jar Like this :</p>\n<p><a href=\"https://i.stack.imgur.com/SJJTL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SJJTL.png\" alt=\"enter image description here\" /></a></p>\n<p>when I ran the jar like this:</p>\n<p><a href=\"https://i.stack.imgur.com/VlikS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VlikS.png\" alt=\"enter image description here\" /></a></p>\n<p>I got the following error:</p>\n<pre><code>Error: JavaFX runtime components are missing, and are required to run this application\n</code></pre>\n<p>and when I ran it from the terminal using the command <code> java --module-path C:\\Users\\aenas\\Desktop\\javafx-sdk-17.0.1 --add-modules javafx.fxml,javafx.graphics,java.sql -jar DevicesInfoCards.jar</code></p>\n<p>I got the following error</p>\n<pre><code>Error occurred during initialization of boot layer\njava.lang.module.FindException: Module javafx.graphics not found\n</code></pre>\n<p>and When I tried the following command:</p>\n<pre><code> java --module-path C:\\Users\\aenas\\Desktop\\javafx-sdk-17.0.1 -jar DevicesInfoCards.jar\n</code></pre>\n<p>I got the following Error</p>\n<pre><code>Error: LinkageError occurred while loading main class application.Main\n        java.lang.UnsupportedClassVersionError: application/Main has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\n</code></pre>\n<p>I have seen many tutorials and read many answers here in SO, but I did not get anything new.</p>\n<p>one of the sollutions was to add the following to he POM file:</p>\n<pre><code>&lt;packaging&gt;jar &lt;/packaging&gt;\n\n\n            &lt;plugin&gt;\n                &lt;!-- Build an executable JAR --&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                            &lt;mainClass&gt;application.Main&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>I could not solve the last error, although I did compile the program using java 11, but the same error occurred.</p>\n<p>I did that (adding the code to the POM file) but I also got the following error:</p>\n<pre><code>Error: Could not find or load main class application.Main\nCaused by: java.lang.NoClassDefFoundError: javafx/application/Application\n</code></pre>\n<p>I also tried to create a new class with a main method, and let it call the <code>Main</code> cless, but this did not work, and I got the following error:</p>\n<pre><code>no main manifest attribute, in C:\\Users\\aenas\\IdeaProjects\\demo2\\DevicesHistoryCards_Maven\\out\\artifacts\\DevicesHistoryCards_Maven_jar\\DevicesHistoryCards_Maven.jar\n\nProcess finished with exit code 1\n</code></pre>\n<p>although I have changed all <code>&lt;mainclass&gt;&lt;/mainclass&gt;</code> tegs in my POM file to the correct  new main class, I still getting the same error.</p>\n<p>Thank you in advance for your help;</p>\n<blockquote>\n<blockquote>\n<p><em><strong>UPDATE</strong></em></p>\n</blockquote>\n</blockquote>\n<p>what I did is that I deleted the module info file, deleted all javafx dependances from the  POM file, so my POM looks like that now:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;application&lt;/groupId&gt;\n    &lt;artifactId&gt;DevicesHistoryCards_Maven&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;DevicesHistoryCards_Maven&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.8.1&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n\n\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;mainClass&gt;application.MainLauncher&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;\n                                application.MainLauncher\n                            &lt;/mainClass&gt;\n                            &lt;launcher&gt;app&lt;/launcher&gt;\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>and when I ran <code>mvn package</code> I got the following output:</p>\n<pre><code>PS C:\\Users\\aenas\\IdeaProjects\\demo2\\DevicesHistoryCards_Maven2&gt; mvn package\n[INFO] Scanning for projects...\n[INFO]\n[INFO] ---------------&lt; application:DevicesHistoryCards_Maven &gt;----------------\n[INFO] Building DevicesHistoryCards_Maven 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO]\n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ DevicesHistoryCards_Maven ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 6 resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ DevicesHistoryCards_Maven ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO]\n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ DevicesHistoryCards_Maven ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory C:\\Users\\aenas\\IdeaProjects\\demo2\\DevicesHistoryCards_Maven2\\src\\test\\resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ DevicesHistoryCards_Maven ---\n[INFO] No sources to compile\n[INFO]\n[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ DevicesHistoryCards_Maven ---\n[INFO] No tests to run.\n[INFO]\n[INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ DevicesHistoryCards_Maven ---\n[INFO]\n[INFO] --- maven-shade-plugin:3.2.4:shade (default) @ DevicesHistoryCards_Maven ---\n[INFO] Replacing original artifact with shaded artifact.\n[INFO] Replacing C:\\Users\\aenas\\IdeaProjects\\demo2\\DevicesHistoryCards_Maven2\\target\\DevicesHistoryCards_Maven-1.0-SNAPSHOT.jar with C:\\Users\\aenas\\IdeaProjects\\demo2\\DevicesHistoryCards_Maven2\\target\\DevicesHistoryCards_Maven-1.0-SNAPSHOT-shaded.jar\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  4.692 s\n[INFO] Finished at: 2022-02-17T13:40:42+03:00\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>but when I ran <code>java -jar DevicesHistoryCards_Maven2.jar</code> I got the following:\n<code>Error: Unable to access jarfile DevicesHistoryCards_Maven.jar</code></p>\n<p>so why cant I access it, and where is it created ?</p>\n"},{"tags":["java","javassist","bytecode-manipulation"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1646045329,"post_id":71283970,"comment_id":126019439,"body_markdown":"Iâ€™d not use Javassist for this task but rather the [ASM library](https://asm.ow2.io/). It offers automatic stack map table calculation, but also an API for manual calculation (which I prefer). The advantage is that you will find more than one developer here who can explain how to do it. In contrast, most people using Javassist seem to rely on the â€œinsert source code fragmentâ€ feature.","body":"Iâ€™d not use Javassist for this task but rather the <a href=\"https://asm.ow2.io/\" rel=\"nofollow noreferrer\">ASM library</a>. It offers automatic stack map table calculation, but also an API for manual calculation (which I prefer). The advantage is that you will find more than one developer here who can explain how to do it. In contrast, most people using Javassist seem to rely on the â€œinsert source code fragmentâ€ feature."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1646072875,"post_id":71283970,"comment_id":126029607,"body_markdown":"@Holger Thanks! Your comment was very helpful. I read through the user guide of ASM, and also the JVMS, and found a way to do it for this simple example. I will definitely be using ASM for my compiler :) Manually calculating offset deltas and frame types just looks painful.","body":"@Holger Thanks! Your comment was very helpful. I read through the user guide of ASM, and also the JVMS, and found a way to do it for this simple example. I will definitely be using ASM for my compiler :) Manually calculating offset deltas and frame types just looks painful."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646127792,"creation_date":1646072659,"answer_id":71299452,"question_id":71283970,"body_markdown":"Thanks to [Holger&#39;s comment][1], I was able to figure out that I actually needed a `StackMapTable`, not a `StackMap`. And I indeed need a stack map table entry at every branch destination.\r\n\r\n```\r\nvar stackMap = new StackMapTable.Writer(0);\r\nstackMap.sameFrame(0);\r\n// ...\r\nvar codeAttr = mainMethodCode.toCodeAttribute();\r\ncodeAttr.setAttribute(stackMap.toStackMapTable(constPool));\r\n```\r\n\r\nNote that there are different types of frames, and they all say different things about the operand stack, and what local variables are available. `sameFrame` is the type that indicates that the local variables are the same as the previous frame, and the operand stack is empty. Other types include `appendFrame`, `chopFrame`, `fullFrame`. For more info, see [JVMS 4.7.4][2].\r\n\r\nIn general, the argument `0` passed to `sameFrame` is not the bytecode offset at which I want the stack map table entry to apply to. Rather, it is the &quot;offset delta&quot;. The bytecode offset that the entry applies to is computed by adding (offset delta + 1) to the bytecode offset that the previous frame applies to. *Only for the first frame,* is the offset delta same as the bytecode offset to which it applies.\r\n\r\nIt seems like the [ASM][3] library is more suitable for bytecode generation like this. I don&#39;t need to calculate the PC offsets manually. It even has the option (`COMPUTE_FRAMES`) to work out which type of frame you should use, at the cost of performance.\r\n\r\n```\r\nvar cw = new ClassWriter(ClassWriter.COMPUTE_FRAMES);\r\n\r\ncw.visit(V1_6,\r\n    ACC_PUBLIC + ACC_SUPER,\r\n    &quot;Main&quot;,\r\n    null,\r\n    &quot;java/lang/Object&quot;,\r\n    null);\r\n\r\ncw.visitSource(&quot;Main.java&quot;, null);\r\nvar mv = cw.visitMethod(ACC_PUBLIC + ACC_STATIC,\r\n    &quot;main&quot;,\r\n    &quot;([Ljava/lang/String;)V&quot;,\r\n    null,\r\n    null);\r\nmv.visitCode();\r\nvar start = new Label();\r\nmv.visitLabel(start);\r\nmv.visitFieldInsn(GETSTATIC,\r\n    &quot;java/lang/System&quot;,\r\n    &quot;out&quot;,\r\n    &quot;Ljava/io/PrintStream;&quot;);\r\nmv.visitLdcInsn(&quot;Hello World!&quot;);\r\nmv.visitMethodInsn(INVOKEVIRTUAL,\r\n    &quot;java/io/PrintStream&quot;,\r\n    &quot;println&quot;,\r\n    &quot;(Ljava/lang/String;)V&quot;,\r\n    false);\r\nmv.visitJumpInsn(GOTO, start);\r\nmv.visitMaxs(0, 0);\r\nmv.visitEnd();\r\ncw.visitEnd();\r\nvar bytes = cw.toByteArray();\r\nvar stream = new FileOutputStream(&quot;...&quot;);\r\nstream.write(bytes);\r\nstream.close();\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71283970/how-to-generate-looping-bytecode-using-javassist#comment126019439_71283970\r\n  [2]: https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.7.4\r\n  [3]: https://asm.ow2.io","title":"How to generate looping bytecode using Javassist?","body":"<p>Thanks to <a href=\"https://stackoverflow.com/questions/71283970/how-to-generate-looping-bytecode-using-javassist#comment126019439_71283970\">Holger's comment</a>, I was able to figure out that I actually needed a <code>StackMapTable</code>, not a <code>StackMap</code>. And I indeed need a stack map table entry at every branch destination.</p>\n<pre><code>var stackMap = new StackMapTable.Writer(0);\nstackMap.sameFrame(0);\n// ...\nvar codeAttr = mainMethodCode.toCodeAttribute();\ncodeAttr.setAttribute(stackMap.toStackMapTable(constPool));\n</code></pre>\n<p>Note that there are different types of frames, and they all say different things about the operand stack, and what local variables are available. <code>sameFrame</code> is the type that indicates that the local variables are the same as the previous frame, and the operand stack is empty. Other types include <code>appendFrame</code>, <code>chopFrame</code>, <code>fullFrame</code>. For more info, see <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.7.4\" rel=\"nofollow noreferrer\">JVMS 4.7.4</a>.</p>\n<p>In general, the argument <code>0</code> passed to <code>sameFrame</code> is not the bytecode offset at which I want the stack map table entry to apply to. Rather, it is the &quot;offset delta&quot;. The bytecode offset that the entry applies to is computed by adding (offset delta + 1) to the bytecode offset that the previous frame applies to. <em>Only for the first frame,</em> is the offset delta same as the bytecode offset to which it applies.</p>\n<p>It seems like the <a href=\"https://asm.ow2.io\" rel=\"nofollow noreferrer\">ASM</a> library is more suitable for bytecode generation like this. I don't need to calculate the PC offsets manually. It even has the option (<code>COMPUTE_FRAMES</code>) to work out which type of frame you should use, at the cost of performance.</p>\n<pre><code>var cw = new ClassWriter(ClassWriter.COMPUTE_FRAMES);\n\ncw.visit(V1_6,\n    ACC_PUBLIC + ACC_SUPER,\n    &quot;Main&quot;,\n    null,\n    &quot;java/lang/Object&quot;,\n    null);\n\ncw.visitSource(&quot;Main.java&quot;, null);\nvar mv = cw.visitMethod(ACC_PUBLIC + ACC_STATIC,\n    &quot;main&quot;,\n    &quot;([Ljava/lang/String;)V&quot;,\n    null,\n    null);\nmv.visitCode();\nvar start = new Label();\nmv.visitLabel(start);\nmv.visitFieldInsn(GETSTATIC,\n    &quot;java/lang/System&quot;,\n    &quot;out&quot;,\n    &quot;Ljava/io/PrintStream;&quot;);\nmv.visitLdcInsn(&quot;Hello World!&quot;);\nmv.visitMethodInsn(INVOKEVIRTUAL,\n    &quot;java/io/PrintStream&quot;,\n    &quot;println&quot;,\n    &quot;(Ljava/lang/String;)V&quot;,\n    false);\nmv.visitJumpInsn(GOTO, start);\nmv.visitMaxs(0, 0);\nmv.visitEnd();\ncw.visitEnd();\nvar bytes = cw.toByteArray();\nvar stream = new FileOutputStream(&quot;...&quot;);\nstream.write(bytes);\nstream.close();\n</code></pre>\n"}],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71299452,"answer_count":1,"score":1,"last_activity_date":1646127792,"creation_date":1645957622,"question_id":71283970,"body_markdown":"I am trying to write a compiler for an esoteric programming language that compiles to Java Bytecode. I&#39;m trying to use Javassist to generate the bytecode.\r\n\r\nI got stuck when trying to generate branching/looping code. For example, let&#39;s say I&#39;m generating the code for:\r\n\r\n    while (true) System.out.println(&quot;Hello World!&quot;);\r\n\r\nHere is my attempt:\r\n\r\n```\r\nvar mainClass = new ClassFile(false, &quot;Main&quot;, null);\r\nvar constPool = mainClass.getConstPool();\r\nvar mainMethodCode = new Bytecode(constPool);\r\n\r\nint label = mainMethodCode.currentPc();\r\nmainMethodCode.addGetstatic(ClassPool.getDefault().get(&quot;java.lang.System&quot;), &quot;out&quot;, &quot;Ljava/io/PrintStream;&quot;);\r\nmainMethodCode.addLdc(&quot;Hello World!&quot;);\r\nmainMethodCode.addInvokevirtual(&quot;java.io.PrintStream&quot;, &quot;println&quot;, &quot;(Ljava/lang/String;)V&quot;);\r\nmainMethodCode.addOpcode(Opcode.GOTO);\r\n// I know that branch instructions take a PC-relative offset\r\n// and after some trial and error, this seems to be the correct formula\r\nvar offset = label - mainMethodCode.currentPc() + 1;\r\nmainMethodCode.addIndex(offset);\r\n\r\nmainMethodCode.setMaxLocals(1);\r\nvar mainMethodInfo = new MethodInfo(constPool, &quot;main&quot;, &quot;([Ljava/lang/String;)V&quot;);\r\nmainMethodInfo.setCodeAttribute(mainMethodCode.toCodeAttribute());\r\nmainClass.addMethod(mainMethodInfo);\r\nmainClass.setAccessFlags(AccessFlag.PUBLIC);\r\nmainMethodInfo.setAccessFlags(AccessFlag.PUBLIC | AccessFlag.STATIC);\r\nClassPool.getDefault().makeClass(mainClass).writeFile(...);\r\n```\r\n\r\nBy inspecting the class file, I can see that the expected bytecode is generated:\r\n\r\n    Code:\r\n      stack=2, locals=1, args_size=1\r\n         0: getstatic     #12                 // Field java/lang/System.out:Ljava/io/PrintStream;\r\n         3: ldc           #14                 // String Hello World!\r\n         5: invokevirtual #20                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\r\n         8: goto          0\r\n\r\nHowever, when running the class file using `java Main`, I get a `VerifyError`. I apparently need to add the `goto` target into a stack map (whatever that means).\r\n\r\n&gt; Expecting a stackmap frame at branch target 0\r\n\r\nI&#39;ve found a `StackMap.Writer` class in Javassist, so I tried\r\n\r\n```\r\nvar stackMap = new StackMap.Writer();\r\nstackMap.write16bit(label); // does this add 0 (the value of label) to the stack map? \r\n...\r\nvar codeAttr = mainMethodCode.toCodeAttribute();\r\ncodeAttr.setAttribute(stackMap.toStackMap(constPool));\r\nmainMethodInfo.setCodeAttribute(codeAttr);\r\n...\r\n```\r\n\r\nHowever, the same `VerifyError` occurs when I try to run the class.\r\n\r\nWhat is the intended way of generating branching code in Javassist?","title":"How to generate looping bytecode using Javassist?","body":"<p>I am trying to write a compiler for an esoteric programming language that compiles to Java Bytecode. I'm trying to use Javassist to generate the bytecode.</p>\n<p>I got stuck when trying to generate branching/looping code. For example, let's say I'm generating the code for:</p>\n<pre><code>while (true) System.out.println(&quot;Hello World!&quot;);\n</code></pre>\n<p>Here is my attempt:</p>\n<pre><code>var mainClass = new ClassFile(false, &quot;Main&quot;, null);\nvar constPool = mainClass.getConstPool();\nvar mainMethodCode = new Bytecode(constPool);\n\nint label = mainMethodCode.currentPc();\nmainMethodCode.addGetstatic(ClassPool.getDefault().get(&quot;java.lang.System&quot;), &quot;out&quot;, &quot;Ljava/io/PrintStream;&quot;);\nmainMethodCode.addLdc(&quot;Hello World!&quot;);\nmainMethodCode.addInvokevirtual(&quot;java.io.PrintStream&quot;, &quot;println&quot;, &quot;(Ljava/lang/String;)V&quot;);\nmainMethodCode.addOpcode(Opcode.GOTO);\n// I know that branch instructions take a PC-relative offset\n// and after some trial and error, this seems to be the correct formula\nvar offset = label - mainMethodCode.currentPc() + 1;\nmainMethodCode.addIndex(offset);\n\nmainMethodCode.setMaxLocals(1);\nvar mainMethodInfo = new MethodInfo(constPool, &quot;main&quot;, &quot;([Ljava/lang/String;)V&quot;);\nmainMethodInfo.setCodeAttribute(mainMethodCode.toCodeAttribute());\nmainClass.addMethod(mainMethodInfo);\nmainClass.setAccessFlags(AccessFlag.PUBLIC);\nmainMethodInfo.setAccessFlags(AccessFlag.PUBLIC | AccessFlag.STATIC);\nClassPool.getDefault().makeClass(mainClass).writeFile(...);\n</code></pre>\n<p>By inspecting the class file, I can see that the expected bytecode is generated:</p>\n<pre><code>Code:\n  stack=2, locals=1, args_size=1\n     0: getstatic     #12                 // Field java/lang/System.out:Ljava/io/PrintStream;\n     3: ldc           #14                 // String Hello World!\n     5: invokevirtual #20                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\n     8: goto          0\n</code></pre>\n<p>However, when running the class file using <code>java Main</code>, I get a <code>VerifyError</code>. I apparently need to add the <code>goto</code> target into a stack map (whatever that means).</p>\n<blockquote>\n<p>Expecting a stackmap frame at branch target 0</p>\n</blockquote>\n<p>I've found a <code>StackMap.Writer</code> class in Javassist, so I tried</p>\n<pre><code>var stackMap = new StackMap.Writer();\nstackMap.write16bit(label); // does this add 0 (the value of label) to the stack map? \n...\nvar codeAttr = mainMethodCode.toCodeAttribute();\ncodeAttr.setAttribute(stackMap.toStackMap(constPool));\nmainMethodInfo.setCodeAttribute(codeAttr);\n...\n</code></pre>\n<p>However, the same <code>VerifyError</code> occurs when I try to run the class.</p>\n<p>What is the intended way of generating branching code in Javassist?</p>\n"},{"tags":["javascript","java","node.js","mongodb","postman"],"comments":[{"owner":{"account_id":9132670,"reputation":18589,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"score":0,"creation_date":1616589040,"post_id":66780221,"comment_id":118048456,"body_markdown":"how do you expect someone here to what is that &quot;some error&quot; please add the relevant errors","body":"how do you expect someone here to what is that &quot;some error&quot; please add the relevant errors"}],"answers":[{"tags":[],"owner":{"account_id":2164893,"reputation":25,"user_id":1918204,"display_name":"Andres Ruiz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643668629,"creation_date":1643668629,"answer_id":70933664,"question_id":66780221,"body_markdown":"If you&#39;re using ExpressJS, you can use the Library multer\r\n\r\nhttps://github.com/expressjs/multer\r\n\r\n    const multer = require(&#39;multer&#39;);\r\n    const upload = multer();\r\n    router.put(&#39;/gpu/:pn&#39;, upload.none(), gpuController.updateGPU);\r\n\r\nThe above is an example where I was having issues with form-data. After adding the upload.none() I was able to receive the body in the request.","title":"Postman Form-Data not working Validation Failed node js","body":"<p>If you're using ExpressJS, you can use the Library multer</p>\n<p><a href=\"https://github.com/expressjs/multer\" rel=\"nofollow noreferrer\">https://github.com/expressjs/multer</a></p>\n<pre><code>const multer = require('multer');\nconst upload = multer();\nrouter.put('/gpu/:pn', upload.none(), gpuController.updateGPU);\n</code></pre>\n<p>The above is an example where I was having issues with form-data. After adding the upload.none() I was able to receive the body in the request.</p>\n"},{"tags":[],"owner":{"account_id":11441413,"reputation":322,"user_id":8386848,"display_name":"ahsan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646127487,"creation_date":1646127487,"answer_id":71306393,"question_id":66780221,"body_markdown":"Actually Postman is sending the data as the raw format is working fine. But I don&#39;t think you&#39;ll get form-data in req.body directly. You need to use request body parser for it!\r\n\r\nYou can use `body-parser` middleware.\r\n\r\nhttps://www.npmjs.com/package/body-parser\r\n\r\nWhich is very common. It parses incoming request bodies in a middleware before your handlers, available under the req.body property. It does not handle multipart bodies, due to their complex and typically large nature.\r\n\r\n\r\n  [1]: https://www.npmjs.com/package/body-parser","title":"Postman Form-Data not working Validation Failed node js","body":"<p>Actually Postman is sending the data as the raw format is working fine. But I don't think you'll get form-data in req.body directly. You need to use request body parser for it!</p>\n<p>You can use <code>body-parser</code> middleware.</p>\n<p><a href=\"https://www.npmjs.com/package/body-parser\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/body-parser</a></p>\n<p>Which is very common. It parses incoming request bodies in a middleware before your handlers, available under the req.body property. It does not handle multipart bodies, due to their complex and typically large nature.</p>\n"}],"owner":{"account_id":19290047,"reputation":1,"user_id":14100281,"display_name":"Muhammad Rabi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646127487,"creation_date":1616585798,"question_id":66780221,"body_markdown":"Iâ€™m facing some problems when using postman. When I try to send raw data in JSON(application/json) format, it gets success. But when I try to send form data, it returns some error.\r\n\r\n  [1]: https://i.stack.imgur.com/LFGp1.jpg","title":"Postman Form-Data not working Validation Failed node js","body":"<p>Iâ€™m facing some problems when using postman. When I try to send raw data in JSON(application/json) format, it gets success. But when I try to send form data, it returns some error.</p>\n"},{"tags":["java","pyspark","hive","aws-glue","aws-glue-connection"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1646127273,"post_id":71305984,"comment_id":126041535,"body_markdown":"Does this answer your question? [&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;](https://stackoverflow.com/questions/21076179/pkix-path-building-failed-and-unable-to-find-valid-certification-path-to-requ)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/21076179/pkix-path-building-failed-and-unable-to-find-valid-certification-path-to-requ\">&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;</a>"},{"owner":{"account_id":20628186,"reputation":147,"user_id":15143550,"display_name":"cloud_hari"},"score":0,"creation_date":1646127959,"post_id":71305984,"comment_id":126041772,"body_markdown":"I don&#39;t think so since the above solution related to jvm and not to spark running on AWS-glue where attaching certificate is parameterized from s3..","body":"I don&#39;t think so since the above solution related to jvm and not to spark running on AWS-glue where attaching certificate is parameterized from s3.."}],"owner":{"account_id":20628186,"reputation":147,"user_id":15143550,"display_name":"cloud_hari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":912,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646127292,"creation_date":1646125313,"question_id":71305984,"body_markdown":"i am trying to access hive which is running on on-prmisis  from a glue job\r\n\r\nAs hive use jdbc connection which requires authentication, i attached certificate(certificate.pem) in the job(using connection) and trying to load the table with below code:\r\n\r\nGlue version: 2\r\nspark:2.4\r\n~~~\r\njdbcDF = spark.read \\\r\n    .format(&quot;jdbc&quot;) \\\r\n    .option(&quot;url&quot;, &quot;jdbc:hive2://bigdatamr:10000/mydb;ssl=true;transportMode=http;httpPath=gateway/default/hive;trustStorePassword=selfSigned&quot;) \\\r\n    .option(&quot;dbtable&quot;, &quot;mydb&quot;) \\\r\n    .option(&quot;user&quot;, &quot;myusername&quot;) \\\r\n    .option(&quot;password&quot;, &quot;xxxxxxx&quot;) \\\r\n    .load()\r\n~~~\r\n\r\nbut job return below error:\r\n~~~\r\njavax.net.ssl.sslhandshakeexception pkix path building failed sun.security.provider.certpath\r\nunable to find valid certification path to requested target\r\n~~~\r\n\r\nhow to resolve this ?","title":"Getting &quot;javax.net.ssl.sslhandshakeexception pkix path building failed sun.security.provider.certpath&quot; error in glue while accessing hive using jdbc","body":"<p>i am trying to access hive which is running on on-prmisis  from a glue job</p>\n<p>As hive use jdbc connection which requires authentication, i attached certificate(certificate.pem) in the job(using connection) and trying to load the table with below code:</p>\n<p>Glue version: 2\nspark:2.4</p>\n<pre><code>jdbcDF = spark.read \\\n    .format(&quot;jdbc&quot;) \\\n    .option(&quot;url&quot;, &quot;jdbc:hive2://bigdatamr:10000/mydb;ssl=true;transportMode=http;httpPath=gateway/default/hive;trustStorePassword=selfSigned&quot;) \\\n    .option(&quot;dbtable&quot;, &quot;mydb&quot;) \\\n    .option(&quot;user&quot;, &quot;myusername&quot;) \\\n    .option(&quot;password&quot;, &quot;xxxxxxx&quot;) \\\n    .load()\n</code></pre>\n<p>but job return below error:</p>\n<pre><code>javax.net.ssl.sslhandshakeexception pkix path building failed sun.security.provider.certpath\nunable to find valid certification path to requested target\n</code></pre>\n<p>how to resolve this ?</p>\n"},{"tags":["java","opengl","glsl","lwjgl"],"comments":[{"owner":{"account_id":991544,"reputation":5710,"user_id":1008691,"display_name":"antonijn"},"score":3,"creation_date":1363120726,"post_id":15371618,"comment_id":21721752,"body_markdown":"This is a quite good OpenGL/GLSL tutorial: http://www.arcsynthesis.org/gltut/","body":"This is a quite good OpenGL/GLSL tutorial: <a href=\"http://www.arcsynthesis.org/gltut/\" rel=\"nofollow noreferrer\">arcsynthesis.org/gltut</a>"},{"owner":{"account_id":991544,"reputation":5710,"user_id":1008691,"display_name":"antonijn"},"score":2,"creation_date":1363120839,"post_id":15371618,"comment_id":21721808,"body_markdown":"Also, you try to mix up pre-3.0 OpenGL with 3.0 OpenGL quite horribly. You shouldn&#39;t use the global matrices provided by OpenGL functions (you should use uniform matrices), you shouldn&#39;t use client states, and shouldn&#39;t use standard materials.","body":"Also, you try to mix up pre-3.0 OpenGL with 3.0 OpenGL quite horribly. You shouldn&#39;t use the global matrices provided by OpenGL functions (you should use uniform matrices), you shouldn&#39;t use client states, and shouldn&#39;t use standard materials."},{"owner":{"account_id":1256725,"reputation":1254,"user_id":1216033,"accept_rate":67,"display_name":"Subtle Development Space"},"score":0,"creation_date":1363120840,"post_id":15371618,"comment_id":21721810,"body_markdown":"yes, many people recoment it! I tried using it, but i still could not find how to render... :/","body":"yes, many people recoment it! I tried using it, but i still could not find how to render... :/"},{"owner":{"account_id":1256725,"reputation":1254,"user_id":1216033,"accept_rate":67,"display_name":"Subtle Development Space"},"score":0,"creation_date":1363120975,"post_id":15371618,"comment_id":21721897,"body_markdown":"@Antonijn can you give me resources for that exactly, so i would not have to read other stuff?","body":"@Antonijn can you give me resources for that exactly, so i would not have to read other stuff?"},{"owner":{"account_id":1256725,"reputation":1254,"user_id":1216033,"accept_rate":67,"display_name":"Subtle Development Space"},"score":0,"creation_date":1363121337,"post_id":15371618,"comment_id":21722064,"body_markdown":"@Antonijn also not all terms are clear for me. I dont really know what are global or uniform matrices, client states and standart materials. I also need a link with explanation about which part of opengl is that","body":"@Antonijn also not all terms are clear for me. I dont really know what are global or uniform matrices, client states and standart materials. I also need a link with explanation about which part of opengl is that"},{"owner":{"account_id":991544,"reputation":5710,"user_id":1008691,"display_name":"antonijn"},"score":2,"creation_date":1363121474,"post_id":15371618,"comment_id":21722146,"body_markdown":"I would strongly recommend you go through the arcsynthesis tutorial anyway, even if you can&#39;t render the examples. Once you understand all the definitions and all the technical stuff, you can easily follow the tutorials at the LWJGL wiki.","body":"I would strongly recommend you go through the arcsynthesis tutorial anyway, even if you can&#39;t render the examples. Once you understand all the definitions and all the technical stuff, you can easily follow the tutorials at the LWJGL wiki."},{"owner":{"account_id":1257521,"reputation":742,"user_id":1216678,"display_name":"Joel Handwell"},"score":0,"creation_date":1461161220,"post_id":15371618,"comment_id":61073771,"body_markdown":"@antonijn the link &quot;arcsynthesis.org/gltut&quot; is broken.","body":"@antonijn the link &quot;arcsynthesis.org/gltut&quot; is broken."}],"answers":[{"tags":[],"owner":{"account_id":380209,"reputation":455523,"user_id":734069,"accept_rate":80,"display_name":"Nicol Bolas"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1363122819,"creation_date":1363122819,"answer_id":15372237,"question_id":15371618,"body_markdown":"What we have here is a failure to communicate.\r\n\r\nConsider this:\r\n\r\n    glVertexPointer(3, GL_FLOAT, 0, 0L);\r\n\r\nOK. You&#39;re telling OpenGL that the position data is provided by some buffer object and that it has 3 floats per vertex. OK, fine.\r\n\r\nHow does OpenGL know that this position data is supposed to go to `position` in the vertex shader?\r\n\r\nAnswer: it doesn&#39;t.\r\n\r\n`glVertexPointer` is a function that has been removed from GL 3.1+. It doesn&#39;t feed data to arbitrary vertex shader inputs; it feeds data to the removed vertex shader input `gl_Vertex`. This is hard-coded.\r\n\r\nYou should be [using generic vertex attributes][1], generally through [`glVertexAttribPointer`][2] and [`glEnableVertexAttribArray`][3]. You should also be [using VAOs][4].\r\n\r\nSimilarly, there is no way for OpenGL to know that you want it&#39;s removed matrix functions to feed data to the uniform `pvm`. Indeed, this is much worse, because you put that in [a uniform block][5]. The data for a uniform block is supposed to come from a [user-provided *buffer object*][6]. Which you did not provide, and which OpenGL won&#39;t magically provide for you.\r\n\r\nIn short, you can&#39;t mix old-style OpenGL code with modern-style GLSL. You can use old-style GLSL (using `gl_Vertex` and `gl_ModelViewProjectionMatrix`), but then you&#39;re not using modern-style GLSL.\r\n\r\n\r\n  [1]: http://www.opengl.org/wiki/Vertex_Specification\r\n  [2]: http://www.opengl.org/wiki/GLAPI/glVertexAttribPointer\r\n  [3]: http://www.opengl.org/wiki/GLAPI/glEnableVertexAttribArray\r\n  [4]: http://www.opengl.org/wiki/Vertex_Specification#Vertex_Array_Object\r\n  [5]: http://www.opengl.org/wiki/Interface_Block#Buffer_backed\r\n  [6]: http://www.opengl.org/wiki/Uniform_Buffer_Object","title":"Modern GLSL basics","body":"<p>What we have here is a failure to communicate.</p>\n\n<p>Consider this:</p>\n\n<pre><code>glVertexPointer(3, GL_FLOAT, 0, 0L);\n</code></pre>\n\n<p>OK. You're telling OpenGL that the position data is provided by some buffer object and that it has 3 floats per vertex. OK, fine.</p>\n\n<p>How does OpenGL know that this position data is supposed to go to <code>position</code> in the vertex shader?</p>\n\n<p>Answer: it doesn't.</p>\n\n<p><code>glVertexPointer</code> is a function that has been removed from GL 3.1+. It doesn't feed data to arbitrary vertex shader inputs; it feeds data to the removed vertex shader input <code>gl_Vertex</code>. This is hard-coded.</p>\n\n<p>You should be <a href=\"http://www.opengl.org/wiki/Vertex_Specification\" rel=\"noreferrer\">using generic vertex attributes</a>, generally through <a href=\"http://www.opengl.org/wiki/GLAPI/glVertexAttribPointer\" rel=\"noreferrer\"><code>glVertexAttribPointer</code></a> and <a href=\"http://www.opengl.org/wiki/GLAPI/glEnableVertexAttribArray\" rel=\"noreferrer\"><code>glEnableVertexAttribArray</code></a>. You should also be <a href=\"http://www.opengl.org/wiki/Vertex_Specification#Vertex_Array_Object\" rel=\"noreferrer\">using VAOs</a>.</p>\n\n<p>Similarly, there is no way for OpenGL to know that you want it's removed matrix functions to feed data to the uniform <code>pvm</code>. Indeed, this is much worse, because you put that in <a href=\"http://www.opengl.org/wiki/Interface_Block#Buffer_backed\" rel=\"noreferrer\">a uniform block</a>. The data for a uniform block is supposed to come from a <a href=\"http://www.opengl.org/wiki/Uniform_Buffer_Object\" rel=\"noreferrer\">user-provided <em>buffer object</em></a>. Which you did not provide, and which OpenGL won't magically provide for you.</p>\n\n<p>In short, you can't mix old-style OpenGL code with modern-style GLSL. You can use old-style GLSL (using <code>gl_Vertex</code> and <code>gl_ModelViewProjectionMatrix</code>), but then you're not using modern-style GLSL.</p>\n"}],"owner":{"account_id":1256725,"reputation":1254,"user_id":1216033,"accept_rate":67,"display_name":"Subtle Development Space"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":876,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":15372237,"answer_count":1,"score":1,"last_activity_date":1646126756,"creation_date":1363120621,"question_id":15371618,"body_markdown":"I&#39;m trying to learn the modern GLSL but i cant even display my a cube...\r\n\r\nThis is how i create VBO:\r\n\r\n        glBindBuffer(GL_ARRAY_BUFFER, vboVertexHandle);\r\n        glBufferData(GL_ARRAY_BUFFER, vertexData, GL_STATIC_DRAW);\r\n        glVertexPointer(3, GL_FLOAT, 0, 0L);\r\n        \r\n        glBindBuffer(GL_ARRAY_BUFFER, vboNormalHandle);\r\n        glBufferData(GL_ARRAY_BUFFER, normalData, GL_STATIC_DRAW);\r\n        glNormalPointer(GL_FLOAT, 0, 0L);        \r\n        \r\n        glBindBuffer(GL_ARRAY_BUFFER, vboTextureHandle);\r\n        glBufferData(GL_ARRAY_BUFFER, textureData, GL_STATIC_DRAW);\r\n        glTexCoordPointer(2, GL_FLOAT, 0, 0L);\r\n        \r\n        glBindBuffer(GL_ARRAY_BUFFER, 0);\r\n\r\nthis is how i render vbo:\r\n\r\n    \tglLoadIdentity();\r\n    \t\r\n        glPushAttrib(GL_TRANSFORM_BIT);\r\n        glMatrixMode(GL_MODELVIEW);\r\n        \r\n        glTranslatef(0f, 0f, camera.zoom);\r\n        \r\n        glRotatef(camera.rotation.x, 1, 0, 0);\r\n        glRotatef(camera.rotation.y, 0, 1, 0);\r\n        glRotatef(camera.rotation.z, 0, 0, 1);\r\n        \r\n        glTranslatef(camera.position.x, camera.position.y, camera.position.z);\r\n        \r\n        glPopAttrib();\r\n\r\n        texture.bind();\r\n        glBindBuffer(GL_ARRAY_BUFFER, vboVertexHandle);\r\n        glVertexPointer(3, GL_FLOAT, 0, 0L);\r\n        glBindBuffer(GL_ARRAY_BUFFER, vboNormalHandle);\r\n        glNormalPointer(GL_FLOAT, 0, 0L);\r\n        glBindBuffer(GL_ARRAY_BUFFER, vboTextureHandle);\r\n        glTexCoordPointer(2, GL_FLOAT, 0, 0L);\r\n        \r\n        glEnableClientState(GL_VERTEX_ARRAY);\r\n        glEnableClientState(GL_NORMAL_ARRAY);\r\n        glEnableClientState(GL_TEXTURE_COORD_ARRAY);\r\n        \r\n        glMaterialf(GL_FRONT, GL_SHININESS, 10f);\r\n        glDrawArrays(GL_TRIANGLES, 0, triangles.size() * 3);\r\n        \r\n        glDisableClientState(GL_VERTEX_ARRAY);\r\n        glDisableClientState(GL_NORMAL_ARRAY);\r\n        glDisableClientState(GL_TEXTURE_COORD_ARRAY);  \r\n        glBindBuffer(GL_ARRAY_BUFFER, 0);\r\n        TextureImpl.bindNone();\r\n\r\nif i dont use any shader programs or use something in the old glsl 120 everything renders fine, but when i use this program which should display my cube as i think, i get a black screen...\r\n\r\nVertex shader program:\r\n\r\n    #version 330\r\n     \r\n    layout (std140) uniform Matrices {\r\n        mat4 pvm;\r\n    } ;\r\n     \r\n    in vec4 position;\r\n     \r\n    out vec4 color;\r\n     \r\n    void main()\r\n    {\r\n        gl_Position = pvm * position ;\r\n    } \r\n\r\nFragment shader program:\r\n\r\n    #version 330\r\n     \r\n    out vec4 outputF;\r\n     \r\n    void main()\r\n    {\r\n        outputF = vec4(1.0, 0.0, 0.0, 1.0);\r\n    }\r\n\r\n\r\n**What do i do wrong? Where can i find out how to do this basic stuff with the modern glsl?**\r\n","title":"Modern GLSL basics","body":"<p>I'm trying to learn the modern GLSL but i cant even display my a cube...</p>\n\n<p>This is how i create VBO:</p>\n\n<pre><code>    glBindBuffer(GL_ARRAY_BUFFER, vboVertexHandle);\n    glBufferData(GL_ARRAY_BUFFER, vertexData, GL_STATIC_DRAW);\n    glVertexPointer(3, GL_FLOAT, 0, 0L);\n\n    glBindBuffer(GL_ARRAY_BUFFER, vboNormalHandle);\n    glBufferData(GL_ARRAY_BUFFER, normalData, GL_STATIC_DRAW);\n    glNormalPointer(GL_FLOAT, 0, 0L);        \n\n    glBindBuffer(GL_ARRAY_BUFFER, vboTextureHandle);\n    glBufferData(GL_ARRAY_BUFFER, textureData, GL_STATIC_DRAW);\n    glTexCoordPointer(2, GL_FLOAT, 0, 0L);\n\n    glBindBuffer(GL_ARRAY_BUFFER, 0);\n</code></pre>\n\n<p>this is how i render vbo:</p>\n\n<pre><code>    glLoadIdentity();\n\n    glPushAttrib(GL_TRANSFORM_BIT);\n    glMatrixMode(GL_MODELVIEW);\n\n    glTranslatef(0f, 0f, camera.zoom);\n\n    glRotatef(camera.rotation.x, 1, 0, 0);\n    glRotatef(camera.rotation.y, 0, 1, 0);\n    glRotatef(camera.rotation.z, 0, 0, 1);\n\n    glTranslatef(camera.position.x, camera.position.y, camera.position.z);\n\n    glPopAttrib();\n\n    texture.bind();\n    glBindBuffer(GL_ARRAY_BUFFER, vboVertexHandle);\n    glVertexPointer(3, GL_FLOAT, 0, 0L);\n    glBindBuffer(GL_ARRAY_BUFFER, vboNormalHandle);\n    glNormalPointer(GL_FLOAT, 0, 0L);\n    glBindBuffer(GL_ARRAY_BUFFER, vboTextureHandle);\n    glTexCoordPointer(2, GL_FLOAT, 0, 0L);\n\n    glEnableClientState(GL_VERTEX_ARRAY);\n    glEnableClientState(GL_NORMAL_ARRAY);\n    glEnableClientState(GL_TEXTURE_COORD_ARRAY);\n\n    glMaterialf(GL_FRONT, GL_SHININESS, 10f);\n    glDrawArrays(GL_TRIANGLES, 0, triangles.size() * 3);\n\n    glDisableClientState(GL_VERTEX_ARRAY);\n    glDisableClientState(GL_NORMAL_ARRAY);\n    glDisableClientState(GL_TEXTURE_COORD_ARRAY);  \n    glBindBuffer(GL_ARRAY_BUFFER, 0);\n    TextureImpl.bindNone();\n</code></pre>\n\n<p>if i dont use any shader programs or use something in the old glsl 120 everything renders fine, but when i use this program which should display my cube as i think, i get a black screen...</p>\n\n<p>Vertex shader program:</p>\n\n<pre><code>#version 330\n\nlayout (std140) uniform Matrices {\n    mat4 pvm;\n} ;\n\nin vec4 position;\n\nout vec4 color;\n\nvoid main()\n{\n    gl_Position = pvm * position ;\n} \n</code></pre>\n\n<p>Fragment shader program:</p>\n\n<pre><code>#version 330\n\nout vec4 outputF;\n\nvoid main()\n{\n    outputF = vec4(1.0, 0.0, 0.0, 1.0);\n}\n</code></pre>\n\n<p><strong>What do i do wrong? Where can i find out how to do this basic stuff with the modern glsl?</strong></p>\n"},{"tags":["java","junit","interface","mocking","mockito"],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646126658,"creation_date":1646081201,"answer_id":71300875,"question_id":71300668,"body_markdown":"Example of mock:\r\n\r\n```java\r\nimport org.junit.Assert;\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.mockito.Mock;\r\nimport org.mockito.runners.MockitoJUnitRunner;\r\n\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\nimport static org.mockito.Matchers.any;\r\nimport static org.mockito.Mockito.when;\r\n\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class TestMap {\r\n\r\n    @Mock\r\n    IMap&lt;String, String&gt; map;\r\n\r\n    @Test\r\n    public void testMapMock(){\r\n        List&lt;String&gt; source = Stream.of(&quot;A&quot;).collect(Collectors.toList());\r\n        List&lt;String&gt; target = Stream.of(&quot;B&quot;).collect(Collectors.toList());\r\n\r\n        when(map.fromSourceList(any())).thenReturn(target);\r\n\r\n        Assert.assertEquals(map.fromSourceList(source), target);\r\n    }\r\n}\r\n```\r\n\r\nYou need to inject mock into your class via constructor.&lt;br&gt;\r\nTest working for me in a next way:&lt;br&gt;\r\n\r\n```java\r\npublic class Mapping implements IMap&lt;String,String&gt; {\r\n\r\n    @Override\r\n    public String fromSource(String source) {\r\n        return source + &quot;.&quot;;\r\n    }\r\n\r\n}\r\n\r\npublic class Class {\r\n    private IMap&lt;String, String&gt; mapping;\r\n\r\n    public Class(IMap&lt;String, String&gt; mapping) {\r\n        this.mapping = mapping;\r\n    }\r\n\r\n    public String doSomething(String string) {\r\n        List&lt;String&gt; listStr = new ArrayList&lt;&gt;();\r\n        listStr.add(string);\r\n        listStr.add(&quot;This is a test&quot;);\r\n\r\n        List&lt;String&gt; manipulatedString = mapping.fromSourceList(listStr);\r\n        return manipulatedString.toString();\r\n    }\r\n\r\n}\r\n\r\nimport org.junit.Assert;\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.mockito.runners.MockitoJUnitRunner;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport static org.mockito.Matchers.any;\r\nimport static org.mockito.Mockito.when;\r\n\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class ClassTest {\r\n\r\n    @Mock\r\n    IMap&lt;String, String&gt; map;\r\n\r\n    @InjectMocks\r\n    Class ob;\r\n\r\n    @Test\r\n    public void testMapMock(){\r\n        List&lt;String&gt; target = new ArrayList&lt;&gt;();\r\n        target.add(&quot;test.&quot;);\r\n        target.add(&quot;This is a test.&quot;);\r\n\r\n        when(map.fromSourceList(any())).thenReturn(target);\r\n\r\n        String result = ob.doSomething(&quot;test&quot;);\r\n\r\n        Assert.assertEquals(&quot;[test., This is a test.]&quot;, result);\r\n    }\r\n}","title":"Junit Mock a default method in an interface","body":"<p>Example of mock:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.Assert;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.Mock;\nimport org.mockito.runners.MockitoJUnitRunner;\n\nimport java.util.List;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\nimport static org.mockito.Matchers.any;\nimport static org.mockito.Mockito.when;\n\n@RunWith(MockitoJUnitRunner.class)\npublic class TestMap {\n\n    @Mock\n    IMap&lt;String, String&gt; map;\n\n    @Test\n    public void testMapMock(){\n        List&lt;String&gt; source = Stream.of(&quot;A&quot;).collect(Collectors.toList());\n        List&lt;String&gt; target = Stream.of(&quot;B&quot;).collect(Collectors.toList());\n\n        when(map.fromSourceList(any())).thenReturn(target);\n\n        Assert.assertEquals(map.fromSourceList(source), target);\n    }\n}\n</code></pre>\n<p>You need to inject mock into your class via constructor.<br>\nTest working for me in a next way:<br></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Mapping implements IMap&lt;String,String&gt; {\n\n    @Override\n    public String fromSource(String source) {\n        return source + &quot;.&quot;;\n    }\n\n}\n\npublic class Class {\n    private IMap&lt;String, String&gt; mapping;\n\n    public Class(IMap&lt;String, String&gt; mapping) {\n        this.mapping = mapping;\n    }\n\n    public String doSomething(String string) {\n        List&lt;String&gt; listStr = new ArrayList&lt;&gt;();\n        listStr.add(string);\n        listStr.add(&quot;This is a test&quot;);\n\n        List&lt;String&gt; manipulatedString = mapping.fromSourceList(listStr);\n        return manipulatedString.toString();\n    }\n\n}\n\nimport org.junit.Assert;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.runners.MockitoJUnitRunner;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport static org.mockito.Matchers.any;\nimport static org.mockito.Mockito.when;\n\n@RunWith(MockitoJUnitRunner.class)\npublic class ClassTest {\n\n    @Mock\n    IMap&lt;String, String&gt; map;\n\n    @InjectMocks\n    Class ob;\n\n    @Test\n    public void testMapMock(){\n        List&lt;String&gt; target = new ArrayList&lt;&gt;();\n        target.add(&quot;test.&quot;);\n        target.add(&quot;This is a test.&quot;);\n\n        when(map.fromSourceList(any())).thenReturn(target);\n\n        String result = ob.doSomething(&quot;test&quot;);\n\n        Assert.assertEquals(&quot;[test., This is a test.]&quot;, result);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22291672,"reputation":3,"user_id":16518448,"display_name":"sra94"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71300875,"answer_count":1,"score":0,"last_activity_date":1646126658,"creation_date":1646079736,"question_id":71300668,"body_markdown":"I have a class called Class that it use another class Mapping, that implements an interface IMap with default class.\r\n\r\n```\r\npublic interface IMap&lt;K,V&gt; {\r\n  K fromSource(V source);\r\n\r\n  default List&lt;K&gt; fromSourceList(List&lt;V&gt; sourceList) {\r\n        List&lt;K&gt; result= new ArrayList&lt;&gt;();\r\n        for (V source: sourceList) {\r\n            result.add(this.fromSource(source));\r\n        }\r\n        return result;\r\n  }\r\n}\r\n```\r\n\r\nI try to unit test, with Mockito, my Class that call directly fromSourceList but, I can&#39;t stub default method.\r\n\r\nI try with Mapping.java as Spy or Mock\r\n- Mockito.doReturn(objStubbed).when(mapping).fromSourceList();\r\n- Mockito.when(mapping.fromSourceList(anyList())).thenReturn(objStubbed);\r\n\r\nCan you help me?\r\n\r\n--------------------\r\nAnother input:\r\nI need to test Class that use default interface like like this: \r\n\r\n```\r\npublic class Mapping implements IMap&lt;String,String&gt; {\r\n\t\r\n\t@Override\r\n\tpublic String fromSource(String source) {\r\n\t\treturn source.append(&quot;.&quot;);\r\n\t}\r\n\t\r\n}\r\n\r\npublic class Class {\r\n\t\r\n\tprivate final Mapping mapping = new Mapping();\r\n\t\r\n\tpublic String doSomething(String string) {\r\n\t\tList&lt;String&gt; listStr = new ArrayList&lt;&gt;();\r\n\t\tlistStr.add(string);\r\n\t\tlistStr.add(&quot;This is a test&quot;);\r\n\t\t\r\n\t\tList&lt;String&gt; manipulatedString = mapping.fromSourceList(listStr);\r\n\t\treturn manipulatedString.toString();\r\n\t}\r\n\r\n}\r\n\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class ClassTest {\r\n\r\n    @Mock\r\n    IMap&lt;String, String&gt; map;\r\n\t\r\n\t@InjectMock\r\n\tClassTest class;\r\n\r\n    @Test\r\n    public void testMapMock(){\r\n        List&lt;String&gt; target = new ArrayList&lt;&gt;();\r\n\t\ttarget.add(&quot;test.&quot;);\r\n\t\ttarget.add(&quot;This is a test.&quot;);\r\n\r\n        when(map.fromSourceList(any())).thenReturn(target);\r\n\t\t\r\n\t\tString result = class.doSomething(&quot;test&quot;);\r\n\r\n        Assert.assertEquals(&quot;test.This is a test.&quot;, result);\r\n    }\r\n}\r\n```","title":"Junit Mock a default method in an interface","body":"<p>I have a class called Class that it use another class Mapping, that implements an interface IMap with default class.</p>\n<pre><code>public interface IMap&lt;K,V&gt; {\n  K fromSource(V source);\n\n  default List&lt;K&gt; fromSourceList(List&lt;V&gt; sourceList) {\n        List&lt;K&gt; result= new ArrayList&lt;&gt;();\n        for (V source: sourceList) {\n            result.add(this.fromSource(source));\n        }\n        return result;\n  }\n}\n</code></pre>\n<p>I try to unit test, with Mockito, my Class that call directly fromSourceList but, I can't stub default method.</p>\n<p>I try with Mapping.java as Spy or Mock</p>\n<ul>\n<li>Mockito.doReturn(objStubbed).when(mapping).fromSourceList();</li>\n<li>Mockito.when(mapping.fromSourceList(anyList())).thenReturn(objStubbed);</li>\n</ul>\n<p>Can you help me?</p>\n<hr />\n<p>Another input:\nI need to test Class that use default interface like like this:</p>\n<pre><code>public class Mapping implements IMap&lt;String,String&gt; {\n    \n    @Override\n    public String fromSource(String source) {\n        return source.append(&quot;.&quot;);\n    }\n    \n}\n\npublic class Class {\n    \n    private final Mapping mapping = new Mapping();\n    \n    public String doSomething(String string) {\n        List&lt;String&gt; listStr = new ArrayList&lt;&gt;();\n        listStr.add(string);\n        listStr.add(&quot;This is a test&quot;);\n        \n        List&lt;String&gt; manipulatedString = mapping.fromSourceList(listStr);\n        return manipulatedString.toString();\n    }\n\n}\n\n@RunWith(MockitoJUnitRunner.class)\npublic class ClassTest {\n\n    @Mock\n    IMap&lt;String, String&gt; map;\n    \n    @InjectMock\n    ClassTest class;\n\n    @Test\n    public void testMapMock(){\n        List&lt;String&gt; target = new ArrayList&lt;&gt;();\n        target.add(&quot;test.&quot;);\n        target.add(&quot;This is a test.&quot;);\n\n        when(map.fromSourceList(any())).thenReturn(target);\n        \n        String result = class.doSomething(&quot;test&quot;);\n\n        Assert.assertEquals(&quot;test.This is a test.&quot;, result);\n    }\n}\n</code></pre>\n"},{"tags":["java","appium","appium-android"],"answers":[{"tags":[],"owner":{"account_id":10601091,"reputation":74,"user_id":7808009,"display_name":"Snehal Gajbhiye"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646126575,"creation_date":1646126575,"answer_id":71306200,"question_id":70595964,"body_markdown":"Here&#39;s your question is little confused to me , but if your requirement says that you need to redirect to home page of your app , no matter what activity its showing. One possible solution is you can try to use processbuilder \r\n\r\nwith adb command . \r\n\r\nFirst try with adb command , if its working you can use this processbuilder function to open activity\r\n\r\n\r\n&gt; adb shell am start -d &lt;&quot;Your activity name/splashActivity&quot;&gt;\r\n\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;adb&quot;, &quot;shell&quot;, &quot;am&quot;, &quot;start&quot;, &quot;-d&quot;, &quot;&lt;&quot;Your activity name/splashActivity&gt;&quot;);\r\n            try {\r\n                Process pc = pb.start();\r\n                pc.waitFor();\r\n            } catch (IOException | InterruptedException e) {\r\n                Log.info(&quot;Exception occured . Failed to open splash activity&quot;);\r\n            }","title":"How to redirect on activity just like app redirect internaly","body":"<p>Here's your question is little confused to me , but if your requirement says that you need to redirect to home page of your app , no matter what activity its showing. One possible solution is you can try to use processbuilder</p>\n<p>with adb command .</p>\n<p>First try with adb command , if its working you can use this processbuilder function to open activity</p>\n<blockquote>\n<p>adb shell am start -d &lt;&quot;Your activity name/splashActivity&quot;&gt;</p>\n</blockquote>\n<pre><code>ProcessBuilder pb = new ProcessBuilder(&quot;adb&quot;, &quot;shell&quot;, &quot;am&quot;, &quot;start&quot;, &quot;-d&quot;, &quot;&lt;&quot;Your activity name/splashActivity&gt;&quot;);\n        try {\n            Process pc = pb.start();\n            pc.waitFor();\n        } catch (IOException | InterruptedException e) {\n            Log.info(&quot;Exception occured . Failed to open splash activity&quot;);\n        }\n</code></pre>\n"}],"owner":{"account_id":4078823,"reputation":552,"user_id":3454581,"accept_rate":100,"display_name":"user3454581"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646126575,"creation_date":1641398657,"question_id":70595964,"body_markdown":"I am new to Appium. I&#39;m stuck at redirection between activities after the application is launched.\r\n\r\nI use below code to start the activity but an activity is opening just like new popup windows. Is there any way to redirect between activities just like application does, without opening in new windows.\r\n\r\nI learned little bit on internet that it could be possible with explicit intent, but I have no idea how to do that.\r\n\r\nBasically, I would like to redirect to homeActivity which I use to launch app. So I could redirect to home no matter at which activity I am currently standing.\r\n\r\n```\r\nActivity activity = new Activity(capabilityProperties.getAppPackage(), capabilityProperties.getAppActivity());\r\n\r\ndriver.startActivity(activity);\r\n```\r\n","title":"How to redirect on activity just like app redirect internaly","body":"<p>I am new to Appium. I'm stuck at redirection between activities after the application is launched.</p>\n<p>I use below code to start the activity but an activity is opening just like new popup windows. Is there any way to redirect between activities just like application does, without opening in new windows.</p>\n<p>I learned little bit on internet that it could be possible with explicit intent, but I have no idea how to do that.</p>\n<p>Basically, I would like to redirect to homeActivity which I use to launch app. So I could redirect to home no matter at which activity I am currently standing.</p>\n<pre><code>Activity activity = new Activity(capabilityProperties.getAppPackage(), capabilityProperties.getAppActivity());\n\ndriver.startActivity(activity);\n</code></pre>\n"},{"tags":["java","spring","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":5079871,"reputation":1055,"user_id":4076291,"accept_rate":57,"display_name":"Ahmet"},"score":0,"creation_date":1646117396,"post_id":71301901,"comment_id":126038531,"body_markdown":"How about your getters, setters and constructors in your Params class.","body":"How about your getters, setters and constructors in your Params class."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1646126281,"post_id":71301901,"comment_id":126041181,"body_markdown":"Store the object in the session using `@SessionAttributes` so it will be re-used again. Trying to shoehorn an objects toString back into an object (which is basically what you are trying to do) isn&#39;t going to work.","body":"Store the object in the session using <code>@SessionAttributes</code> so it will be re-used again. Trying to shoehorn an objects toString back into an object (which is basically what you are trying to do) isn&#39;t going to work."},{"owner":{"account_id":379932,"reputation":126,"user_id":733639,"accept_rate":100,"display_name":"juggernaut"},"score":0,"creation_date":1646142931,"post_id":71301901,"comment_id":126046691,"body_markdown":"@Ahmet the class is marked with data annotation which autogens getters setters and other boilerplate. They are there","body":"@Ahmet the class is marked with data annotation which autogens getters setters and other boilerplate. They are there"},{"owner":{"account_id":379932,"reputation":126,"user_id":733639,"accept_rate":100,"display_name":"juggernaut"},"score":0,"creation_date":1646143048,"post_id":71301901,"comment_id":126046739,"body_markdown":"@M.Deinum yeah I am aware I am trying to shoehorn the object and there is no easy way I can find to do it. Session attribute is a good option, will give it a shot","body":"@M.Deinum yeah I am aware I am trying to shoehorn the object and there is no easy way I can find to do it. Session attribute is a good option, will give it a shot"}],"answers":[{"tags":[],"owner":{"account_id":24294809,"reputation":1,"user_id":18239175,"display_name":"xy tang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646126499,"creation_date":1646126499,"answer_id":71306187,"question_id":71301901,"body_markdown":"I guess the problem is in the first method,your request is @GetMapping(&quot;/alert/{id}&quot;),but your thymeleaf is /alert,but the /alert request don&#39;t send messages.","title":"Thymeleaf form bind object","body":"<p>I guess the problem is in the first method,your request is @GetMapping(&quot;/alert/{id}&quot;),but your thymeleaf is /alert,but the /alert request don't send messages.</p>\n"}],"owner":{"account_id":379932,"reputation":126,"user_id":733639,"accept_rate":100,"display_name":"juggernaut"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":914,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646126499,"creation_date":1646088655,"question_id":71301901,"body_markdown":"I am trying to bind attributes that I get from calling controller in thymeleaf template to form and pass it as param in save method. here is my code:\r\n\r\n```\r\n@GetMapping(&quot;/alert/{id}&quot;)\r\npublic String getForm(Model model, @PathVariable(required = false, name = &quot;id&quot;) String id) throws IOException {\r\n    final Datum datum = alertService.findById(id);\r\n    final List&lt;ElasticAlert&gt; elasticAlerts = ApplicationUtil.datumToElasticAlertModel(Collections.singletonList(datum), objectMapper);\r\n    if (elasticAlerts.size() != 1)\r\n        throw new IllegalArgumentException(&quot;Wrong id for editing data&quot;);\r\n    final ElasticAlert elasticAlert = elasticAlerts.stream().findFirst().orElseThrow(IllegalArgumentException::new);\r\n    elasticAlert.setParams(datum.getParams());\r\n    model.addAttribute(&quot;elasticAlert&quot;, elasticAlert);\r\n    return &quot;update&quot;;\r\n}\r\n```\r\n```java\r\n@Data\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class Params {\r\n    private String aggType;\r\n    private String esQuery;\r\n    private Integer termSize;\r\n    private String thresholdComparator;\r\n    private Integer timeWindowSize;\r\n    private String timeWindowUnit;\r\n    private String groupBy;\r\n    private List&lt;Integer&gt; threshold;\r\n    private List&lt;String&gt; index;\r\n    private String timeField;\r\n    private String aggField;\r\n    private String termField;\r\n    private String level;\r\n    private String message;\r\n    private List&lt;String&gt; to;\r\n    private String subject;\r\n    private int size;\r\n}\r\n```\r\n```java\r\n@Data\r\npublic class ElasticAlert {\r\n\r\n    private String id;\r\n\r\n    @NotBlank (message = &quot;Event Name can not be blank&quot;)\r\n    @Size(max = 40, min = 5, message = &quot;event name should be between 5-20 characters&quot;)\r\n    private String eventName;\r\n\r\n    @NotBlank (message = &quot;Application Name can not be blank&quot;)\r\n    private String applicationName;\r\n\r\n    @NotBlank (message = &quot;Email Subject can not be blank&quot;)\r\n    private String emailSubject;\r\n\r\n    @NotBlank (message = &quot;Email to can not be blank&quot;)\r\n    @Pattern(regexp = &quot;[a-zA-Z0-9]+@[abc|xyz]+goninv\\\\.com$&quot;, message = &quot;incorrect email format&quot;)\r\n    private String emailTo;\r\n\r\n    @Valid\r\n    private List&lt;ElasticException&gt; elasticExceptionList = new ArrayList&lt;&gt;();\r\n\r\n    private String schedule;\r\n    private String notifyWhen;\r\n    private Params params;\r\n\r\n}\r\n```\r\nI want to pass params object as it is to my form controller\r\n```\r\n &lt;form method=&quot;post&quot; th:action=&quot;@{/alert}&quot; th:object=&quot;${elasticAlert}&quot;\r\n          name=&quot;createAlertForm&quot; id=&quot;createAlertForm&quot; class=&quot;mb-3&quot;&gt;\r\n        &lt;input type=&quot;hidden&quot; th:field=&quot;${elasticAlert.id}&quot;/&gt;\r\n        &lt;input type=&quot;hidden&quot; th:field=&quot;${elasticAlert.applicationName}&quot;/&gt;\r\n        &lt;input type=&quot;hidden&quot; th:valuetype=&quot;test.pojo.Params&quot; th:field=&quot;${elasticAlert.params}&quot; /&gt;\r\n...\r\n\r\n\r\n\r\n```\r\n```\r\n@PostMapping(&quot;/alert&quot;)\r\n    public String edit(@Valid ElasticAlert alert, BindingResult bindingResult, RedirectAttributes redirAttrs, Model model) throws IOException {\r\n        int i = 1;\r\n        final Params params = alert.getParams();\r\n...\r\n       \r\n    }\r\n```\r\nmy params object is always null, it&#39;s not binding object to the input, is there any way to make it bind or an alternate way to approach this.\r\nI am new to thymeleaf.\r\n","title":"Thymeleaf form bind object","body":"<p>I am trying to bind attributes that I get from calling controller in thymeleaf template to form and pass it as param in save method. here is my code:</p>\n<pre><code>@GetMapping(&quot;/alert/{id}&quot;)\npublic String getForm(Model model, @PathVariable(required = false, name = &quot;id&quot;) String id) throws IOException {\n    final Datum datum = alertService.findById(id);\n    final List&lt;ElasticAlert&gt; elasticAlerts = ApplicationUtil.datumToElasticAlertModel(Collections.singletonList(datum), objectMapper);\n    if (elasticAlerts.size() != 1)\n        throw new IllegalArgumentException(&quot;Wrong id for editing data&quot;);\n    final ElasticAlert elasticAlert = elasticAlerts.stream().findFirst().orElseThrow(IllegalArgumentException::new);\n    elasticAlert.setParams(datum.getParams());\n    model.addAttribute(&quot;elasticAlert&quot;, elasticAlert);\n    return &quot;update&quot;;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Params {\n    private String aggType;\n    private String esQuery;\n    private Integer termSize;\n    private String thresholdComparator;\n    private Integer timeWindowSize;\n    private String timeWindowUnit;\n    private String groupBy;\n    private List&lt;Integer&gt; threshold;\n    private List&lt;String&gt; index;\n    private String timeField;\n    private String aggField;\n    private String termField;\n    private String level;\n    private String message;\n    private List&lt;String&gt; to;\n    private String subject;\n    private int size;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class ElasticAlert {\n\n    private String id;\n\n    @NotBlank (message = &quot;Event Name can not be blank&quot;)\n    @Size(max = 40, min = 5, message = &quot;event name should be between 5-20 characters&quot;)\n    private String eventName;\n\n    @NotBlank (message = &quot;Application Name can not be blank&quot;)\n    private String applicationName;\n\n    @NotBlank (message = &quot;Email Subject can not be blank&quot;)\n    private String emailSubject;\n\n    @NotBlank (message = &quot;Email to can not be blank&quot;)\n    @Pattern(regexp = &quot;[a-zA-Z0-9]+@[abc|xyz]+goninv\\\\.com$&quot;, message = &quot;incorrect email format&quot;)\n    private String emailTo;\n\n    @Valid\n    private List&lt;ElasticException&gt; elasticExceptionList = new ArrayList&lt;&gt;();\n\n    private String schedule;\n    private String notifyWhen;\n    private Params params;\n\n}\n</code></pre>\n<p>I want to pass params object as it is to my form controller</p>\n<pre><code> &lt;form method=&quot;post&quot; th:action=&quot;@{/alert}&quot; th:object=&quot;${elasticAlert}&quot;\n          name=&quot;createAlertForm&quot; id=&quot;createAlertForm&quot; class=&quot;mb-3&quot;&gt;\n        &lt;input type=&quot;hidden&quot; th:field=&quot;${elasticAlert.id}&quot;/&gt;\n        &lt;input type=&quot;hidden&quot; th:field=&quot;${elasticAlert.applicationName}&quot;/&gt;\n        &lt;input type=&quot;hidden&quot; th:valuetype=&quot;test.pojo.Params&quot; th:field=&quot;${elasticAlert.params}&quot; /&gt;\n...\n\n\n\n</code></pre>\n<pre><code>@PostMapping(&quot;/alert&quot;)\n    public String edit(@Valid ElasticAlert alert, BindingResult bindingResult, RedirectAttributes redirAttrs, Model model) throws IOException {\n        int i = 1;\n        final Params params = alert.getParams();\n...\n       \n    }\n</code></pre>\n<p>my params object is always null, it's not binding object to the input, is there any way to make it bind or an alternate way to approach this.\nI am new to thymeleaf.</p>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646104752,"creation_date":1646104208,"answer_id":71303306,"question_id":71303161,"body_markdown":"There is no **good** solution to this.\r\n\r\nThe correct solution is to find and use a version of lwjgl that doesn&#39;t use `Unsafe`.  (There may be one, but I couldn&#39;t figure it out from the release notes.)\r\n\r\nThe hack solution (for Java 17) is to use an `--add-opens` option to smash through the access control barriers that they have added to stop people using `Unsafe`.\r\n\r\nHowever, as the comments on https://stackoverflow.com/questions/68867895 point out, this is at best a short term fix.  \r\n\r\nYou shouldn&#39;t use Java 14.  It is end-of-life.\r\n\r\nYou could roll back to an earlier LTS version of Java (Java 8 or 11) but that stops you from using newer Java features, and they will eventually go end-of-life anyway.  So this is not a good solution.","title":"Eclipse IDE ERROR (Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: sun/misc/Unsafe)","body":"<p>There is no <strong>good</strong> solution to this.</p>\n<p>The correct solution is to find and use a version of lwjgl that doesn't use <code>Unsafe</code>.  (There may be one, but I couldn't figure it out from the release notes.)</p>\n<p>The hack solution (for Java 17) is to use an <code>--add-opens</code> option to smash through the access control barriers that they have added to stop people using <code>Unsafe</code>.</p>\n<p>However, as the comments on <a href=\"https://stackoverflow.com/questions/68867895\">In Java 17 how do I avoid resorting to --add-opens?</a> point out, this is at best a short term fix.</p>\n<p>You shouldn't use Java 14.  It is end-of-life.</p>\n<p>You could roll back to an earlier LTS version of Java (Java 8 or 11) but that stops you from using newer Java features, and they will eventually go end-of-life anyway.  So this is not a good solution.</p>\n"}],"owner":{"display_name":"user18339230"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":332,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1646126351,"creation_date":1646102582,"question_id":71303161,"body_markdown":"I am currently following a game engine tutorial by ThinMatrix, this is the video https://www.youtube.com/watch?v=VS8wlS9hF8E&amp;t=97s, and I keep getting this error:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: sun/misc/Unsafe\r\n\tat lwjgl/org.lwjgl.MemoryUtilSun$AccessorUnsafe.getUnsafeInstance(MemoryUtilSun.java:74)\r\n\tat lwjgl/org.lwjgl.MemoryUtilSun$AccessorUnsafe.&lt;init&gt;(MemoryUtilSun.java:62)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\r\n\tat java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347)\r\n\tat java.base/java.lang.Class.newInstance(Class.java:645)\r\n\tat lwjgl/org.lwjgl.MemoryUtil.loadAccessor(MemoryUtil.java:375)\r\n\tat lwjgl/org.lwjgl.MemoryUtil.&lt;clinit&gt;(MemoryUtil.java:63)\r\n\tat lwjgl/org.lwjgl.opengl.WindowsDisplay.setTitle(WindowsDisplay.java:523)\r\n\tat lwjgl/org.lwjgl.opengl.Display.setTitle(Display.java:541)\r\n\tat lwjgl/org.lwjgl.opengl.Display.createWindow(Display.java:312)\r\n\tat lwjgl/org.lwjgl.opengl.Display.create(Display.java:848)\r\n\tat lwjgl/org.lwjgl.opengl.Display.create(Display.java:797)\r\n\tat GameEngine/renderEngine.DisplayManager.createDisplay(DisplayManager.java:20)\r\n\tat GameEngine/engineTester.MainGameLoop.main(MainGameLoop.java:10)\r\nCaused by: java.lang.ClassNotFoundException: sun.misc.Unsafe\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 18 more\r\n```\r\n\r\nI have tried using both Java JRE 14 and Java JRE 17, both of these give me the same error. I tried reinstalling both of the above motioned JREs.\r\n\r\nDoes anyone have a solution to this?","title":"Eclipse IDE ERROR (Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: sun/misc/Unsafe)","body":"<p>I am currently following a game engine tutorial by ThinMatrix, this is the video <a href=\"https://www.youtube.com/watch?v=VS8wlS9hF8E&amp;t=97s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=VS8wlS9hF8E&amp;t=97s</a>, and I keep getting this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: sun/misc/Unsafe\n    at lwjgl/org.lwjgl.MemoryUtilSun$AccessorUnsafe.getUnsafeInstance(MemoryUtilSun.java:74)\n    at lwjgl/org.lwjgl.MemoryUtilSun$AccessorUnsafe.&lt;init&gt;(MemoryUtilSun.java:62)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\n    at java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347)\n    at java.base/java.lang.Class.newInstance(Class.java:645)\n    at lwjgl/org.lwjgl.MemoryUtil.loadAccessor(MemoryUtil.java:375)\n    at lwjgl/org.lwjgl.MemoryUtil.&lt;clinit&gt;(MemoryUtil.java:63)\n    at lwjgl/org.lwjgl.opengl.WindowsDisplay.setTitle(WindowsDisplay.java:523)\n    at lwjgl/org.lwjgl.opengl.Display.setTitle(Display.java:541)\n    at lwjgl/org.lwjgl.opengl.Display.createWindow(Display.java:312)\n    at lwjgl/org.lwjgl.opengl.Display.create(Display.java:848)\n    at lwjgl/org.lwjgl.opengl.Display.create(Display.java:797)\n    at GameEngine/renderEngine.DisplayManager.createDisplay(DisplayManager.java:20)\n    at GameEngine/engineTester.MainGameLoop.main(MainGameLoop.java:10)\nCaused by: java.lang.ClassNotFoundException: sun.misc.Unsafe\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 18 more\n</code></pre>\n<p>I have tried using both Java JRE 14 and Java JRE 17, both of these give me the same error. I tried reinstalling both of the above motioned JREs.</p>\n<p>Does anyone have a solution to this?</p>\n"},{"tags":["java","background","processing","rect"],"answers":[{"tags":[],"owner":{"account_id":4435096,"reputation":379,"user_id":3611146,"display_name":"Philipp Lehmann"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646126288,"creation_date":1646126288,"answer_id":71306142,"question_id":71303347,"body_markdown":"    rectMode(CENTER);\r\n\r\n\r\nThis line modifies how your rectangles are drawn. On the first run its still set to default (CORNER), but afterwards the rect get drawn from the center and thus moves to the top left.\r\n\r\n\r\nReference:\r\nhttps://processing.org/reference/rectMode_.html\r\n\r\n\r\n**Solution 1:** \r\nAdd `rectMode(CORNER)` before drawing the background.\r\n\r\n\r\n\r\n**Solution 2:** \r\nMove `rectMode(CENTER)` to the setup and draw all shapes a bit different.\r\n\r\n\r\n\r\nIn general I suggest you put the background into a function for a better readability and flexibility.\r\n\r\n        \r\n    \r\n    void setup () {\r\n      noLoop();\r\n      frameRate(10);\r\n      size (600, 900);\r\n    \r\n      ellipseMode(CENTER); \r\n      rectMode(CENTER); // added rectMode here.\r\n    }\r\n    \r\n    void draw () {\r\n\r\n      drawStage();\r\n    \r\n      //BUBBLE\r\n      // ...\r\n    }\r\n\r\n    // Function to draw the background \r\n    void drawStage() {\r\n      //OCEAN\r\n      background (#29C4FF);\r\n      fill (#C4FFEC);\r\n      noStroke();\r\n      \r\n      rect(width/2, 125, width, 250); // rect drawn with &quot;width&quot; scales if you choose to adjust your sketch size.\r\n      fill(0);\r\n      text(&quot;Click on the dice to help free Aang from the iceberg.&quot;, 100, 50);\r\n    }\r\n\r\n\r\n\r\n","title":"When clearing background, rect moves","body":"<pre><code>rectMode(CENTER);\n</code></pre>\n<p>This line modifies how your rectangles are drawn. On the first run its still set to default (CORNER), but afterwards the rect get drawn from the center and thus moves to the top left.</p>\n<p>Reference:\n<a href=\"https://processing.org/reference/rectMode_.html\" rel=\"nofollow noreferrer\">https://processing.org/reference/rectMode_.html</a></p>\n<p><strong>Solution 1:</strong>\nAdd <code>rectMode(CORNER)</code> before drawing the background.</p>\n<p><strong>Solution 2:</strong>\nMove <code>rectMode(CENTER)</code> to the setup and draw all shapes a bit different.</p>\n<p>In general I suggest you put the background into a function for a better readability and flexibility.</p>\n<pre><code>void setup () {\n  noLoop();\n  frameRate(10);\n  size (600, 900);\n\n  ellipseMode(CENTER); \n  rectMode(CENTER); // added rectMode here.\n}\n\nvoid draw () {\n\n  drawStage();\n\n  //BUBBLE\n  // ...\n}\n\n// Function to draw the background \nvoid drawStage() {\n  //OCEAN\n  background (#29C4FF);\n  fill (#C4FFEC);\n  noStroke();\n  \n  rect(width/2, 125, width, 250); // rect drawn with &quot;width&quot; scales if you choose to adjust your sketch size.\n  fill(0);\n  text(&quot;Click on the dice to help free Aang from the iceberg.&quot;, 100, 50);\n}\n</code></pre>\n"}],"owner":{"account_id":24412219,"reputation":13,"user_id":18339520,"display_name":"Kronixzz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71306142,"answer_count":1,"score":1,"last_activity_date":1646126288,"creation_date":1646104534,"question_id":71303347,"body_markdown":"So i&#39;ve used a rect to divide the screen for two different background colours. The code im writing is for a minigame and its supposed to move a bubble up the screen, but when I click my mouse the rect I used to divide the screen moves as well. I probably did a very poor job at describing this so heres the code and you&#39;ll see what I mean.\r\n\r\n    PFont font1;\r\n    int dice = 100;\r\n    int num = 0;\r\n    float circlex = 300;\r\n    float circley = 830;\r\n    float xmove = 0;\r\n    float ymove = 0;\r\n    \r\n    \r\n    void setup ()\r\n    {\r\n      \r\n      noLoop();\r\n      frameRate(10);\r\n     \r\n      size (600, 900);\r\n      //background (#29C4FF);\r\n      //fill (#C4FFEC);\r\n      //strokeWeight(3);\r\n      //line(1, 225, 599, 225);\r\n      //noStroke ();\r\n      //rect (0, 0, 599, 225);\r\n    \r\n      font1 = loadFont (&quot;ArialMT-18.vlw&quot;);\r\n      ellipseMode(CENTER);\r\n    \r\n      \r\n    }\r\n    \r\n    void draw ()\r\n    {\r\n      //OCEAN\r\n      background (#29C4FF);\r\n      fill (#C4FFEC);\r\n      strokeWeight(3);\r\n      line(1, 225, 599, 225);\r\n      noStroke ();\r\n      rect (0, 0, 599, 225);\r\n      textFont(font1, 18);\r\n      fill(0);\r\n      text(&quot;Click on the dice to help free Aang from the iceberg.&quot;, 100, 50);\r\n    \r\n      //BUBBLE\r\n      fill(0, 0, 200);\r\n      ellipse(circlex, circley, 125, 125);\r\n    \r\n      noStroke();\r\n    \r\n      fill (210);\r\n      ellipse(circlex, circley, 118, 118);\r\n    \r\n      //AANG\r\n      //BODY\r\n      fill(#FF8E03);\r\n      noStroke ();\r\n      triangle(255, 830, 345, 830, 300, 890);\r\n    \r\n      //HEAD\r\n      fill(#027A9D);\r\n    \r\n      ellipse(275, 820, 10, 15);\r\n      ellipse(325, 820, 10, 15);\r\n      ellipse(300, 820, 50, 55);\r\n    \r\n      rectMode(CENTER);\r\n      fill(255);\r\n      rect(300, 800, 10, 15);\r\n      \r\n      triangle(290, 805, 310, 805, 300, 820);\r\n      \r\n      rect(288, 815, 8, 3);\r\n      rect(312, 815, 8, 3);\r\n      \r\n      //DICE\r\n      fill(#027A9D);\r\n      rect(80, 130, 100, 100, 12);\r\n      fill(#8EC1EA);\r\n      rect(80, 130, 90, 90, 8);\r\n    \r\n      \r\n      //NUMBERS(DOTS)\r\n      fill(150, 0, 0);\r\n      int num = int(random(1, 7));\r\n      if (num == 1 || num == 3 || num == 5)\r\n        ellipse(80, 130, dice/5, dice/5); \r\n      if (num == 2 || num == 3 || num == 4 || num == 5 || num == 6) { \r\n        ellipse(80 - dice/4, 130 - dice/4, dice/5, dice/5);\r\n        ellipse(80 + dice/4, 130 + dice/4, dice/5, dice/5);\r\n      }\r\n      if (num == 4 || num == 5 || num == 6) {\r\n        ellipse(80 - dice/4, 130 + dice/4, dice/5, dice/5);\r\n        ellipse(80  + dice/4, 130 - dice/4, dice/5, dice/5);\r\n      }\r\n      if (num == 6) {\r\n        ellipse(80, 130 - dice/4, dice/5, dice/5);\r\n        ellipse(80, 130 + dice/4, dice/5, dice/5);\r\n      }\r\n      \r\n      if (num == 1 || num == 2) {\r\n        circlex = circlex + xmove;  \r\n        xmove = +20;\r\n      }\r\n      if (num == 3 || num == 4) {\r\n        circlex = circlex + xmove;\r\n        xmove = -20;\r\n      }\r\n      if (num == 5) {\r\n        circley = circley + ymove;\r\n        ymove = -25;\r\n      }\r\n      if (num == 6) {\r\n        circley = circley + ymove;\r\n        ymove = -50;\r\n      }\r\n        \r\n      \r\n      \r\n      \r\n      \r\n      \r\n      \r\n      \r\n    \r\n      //ROLL\r\n      if (mousePressed &amp;&amp; mouseButton == LEFT)\r\n        noLoop();\r\n        \r\n        \r\n    \r\n    }\r\n    \r\n    void mousePressed() {\r\n      loop();\r\n     \r\n    \r\n    \r\n    }\r\n      ","title":"When clearing background, rect moves","body":"<p>So i've used a rect to divide the screen for two different background colours. The code im writing is for a minigame and its supposed to move a bubble up the screen, but when I click my mouse the rect I used to divide the screen moves as well. I probably did a very poor job at describing this so heres the code and you'll see what I mean.</p>\n<pre><code>PFont font1;\nint dice = 100;\nint num = 0;\nfloat circlex = 300;\nfloat circley = 830;\nfloat xmove = 0;\nfloat ymove = 0;\n\n\nvoid setup ()\n{\n  \n  noLoop();\n  frameRate(10);\n \n  size (600, 900);\n  //background (#29C4FF);\n  //fill (#C4FFEC);\n  //strokeWeight(3);\n  //line(1, 225, 599, 225);\n  //noStroke ();\n  //rect (0, 0, 599, 225);\n\n  font1 = loadFont (&quot;ArialMT-18.vlw&quot;);\n  ellipseMode(CENTER);\n\n  \n}\n\nvoid draw ()\n{\n  //OCEAN\n  background (#29C4FF);\n  fill (#C4FFEC);\n  strokeWeight(3);\n  line(1, 225, 599, 225);\n  noStroke ();\n  rect (0, 0, 599, 225);\n  textFont(font1, 18);\n  fill(0);\n  text(&quot;Click on the dice to help free Aang from the iceberg.&quot;, 100, 50);\n\n  //BUBBLE\n  fill(0, 0, 200);\n  ellipse(circlex, circley, 125, 125);\n\n  noStroke();\n\n  fill (210);\n  ellipse(circlex, circley, 118, 118);\n\n  //AANG\n  //BODY\n  fill(#FF8E03);\n  noStroke ();\n  triangle(255, 830, 345, 830, 300, 890);\n\n  //HEAD\n  fill(#027A9D);\n\n  ellipse(275, 820, 10, 15);\n  ellipse(325, 820, 10, 15);\n  ellipse(300, 820, 50, 55);\n\n  rectMode(CENTER);\n  fill(255);\n  rect(300, 800, 10, 15);\n  \n  triangle(290, 805, 310, 805, 300, 820);\n  \n  rect(288, 815, 8, 3);\n  rect(312, 815, 8, 3);\n  \n  //DICE\n  fill(#027A9D);\n  rect(80, 130, 100, 100, 12);\n  fill(#8EC1EA);\n  rect(80, 130, 90, 90, 8);\n\n  \n  //NUMBERS(DOTS)\n  fill(150, 0, 0);\n  int num = int(random(1, 7));\n  if (num == 1 || num == 3 || num == 5)\n    ellipse(80, 130, dice/5, dice/5); \n  if (num == 2 || num == 3 || num == 4 || num == 5 || num == 6) { \n    ellipse(80 - dice/4, 130 - dice/4, dice/5, dice/5);\n    ellipse(80 + dice/4, 130 + dice/4, dice/5, dice/5);\n  }\n  if (num == 4 || num == 5 || num == 6) {\n    ellipse(80 - dice/4, 130 + dice/4, dice/5, dice/5);\n    ellipse(80  + dice/4, 130 - dice/4, dice/5, dice/5);\n  }\n  if (num == 6) {\n    ellipse(80, 130 - dice/4, dice/5, dice/5);\n    ellipse(80, 130 + dice/4, dice/5, dice/5);\n  }\n  \n  if (num == 1 || num == 2) {\n    circlex = circlex + xmove;  \n    xmove = +20;\n  }\n  if (num == 3 || num == 4) {\n    circlex = circlex + xmove;\n    xmove = -20;\n  }\n  if (num == 5) {\n    circley = circley + ymove;\n    ymove = -25;\n  }\n  if (num == 6) {\n    circley = circley + ymove;\n    ymove = -50;\n  }\n    \n  \n  \n  \n  \n  \n  \n  \n\n  //ROLL\n  if (mousePressed &amp;&amp; mouseButton == LEFT)\n    noLoop();\n    \n    \n\n}\n\nvoid mousePressed() {\n  loop();\n \n\n\n}\n  \n</code></pre>\n"},{"tags":["java","maven","proguard"],"comments":[{"owner":{"account_id":1336108,"reputation":8046,"user_id":1278839,"accept_rate":69,"display_name":"CodeChimp"},"score":0,"creation_date":1384204991,"post_id":19916025,"comment_id":29634555,"body_markdown":"I don&#39;t know Proguard, but I would venture a guess that it is obfuscating `my.package.info.inventory.Inventory`, and `getHandlerList()` is somehow referencing it.  When the application runs, the required `Inventory` is missing because of the obfuscation.","body":"I don&#39;t know Proguard, but I would venture a guess that it is obfuscating <code>my.package.info.inventory.Inventory</code>, and <code>getHandlerList()</code> is somehow referencing it.  When the application runs, the required <code>Inventory</code> is missing because of the obfuscation."},{"owner":{"account_id":48251,"reputation":35403,"user_id":143269,"accept_rate":48,"display_name":"helion3"},"score":0,"creation_date":1384205343,"post_id":19916025,"comment_id":29634729,"body_markdown":"It seems to keep recommending that I mark those files to be left alone, but I can&#39;t possibly mark everything that is involved with events, otherwise half my app would be left as-is.","body":"It seems to keep recommending that I mark those files to be left alone, but I can&#39;t possibly mark everything that is involved with events, otherwise half my app would be left as-is."},{"owner":{"account_id":1336108,"reputation":8046,"user_id":1278839,"accept_rate":69,"display_name":"CodeChimp"},"score":0,"creation_date":1384205414,"post_id":19916025,"comment_id":29634765,"body_markdown":"Are this API libraries being called externally, I.E. from outside the JAR?  If so, then obfuscation may not be an option anyway.","body":"Are this API libraries being called externally, I.E. from outside the JAR?  If so, then obfuscation may not be an option anyway."},{"owner":{"account_id":48251,"reputation":35403,"user_id":143269,"accept_rate":48,"display_name":"helion3"},"score":0,"creation_date":1384205840,"post_id":19916025,"comment_id":29634974,"body_markdown":"No, they&#39;re classes that are used internally, but I supposed moving the event handler/manager libs to a separate lib is possible, while keeping the actual individual event classes... though I don&#39;t know if the existing classes will still break on or.","body":"No, they&#39;re classes that are used internally, but I supposed moving the event handler/manager libs to a separate lib is possible, while keeping the actual individual event classes... though I don&#39;t know if the existing classes will still break on or."}],"answers":[{"tags":[],"owner":{"account_id":229619,"reputation":45260,"user_id":492694,"display_name":"Eric Lafortune"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384994315,"creation_date":1384994315,"answer_id":20110187,"question_id":19916025,"body_markdown":"ProGuard notes that your code accesses a method dynamically, but it can&#39;t figure out which method it is precisely. If it renames or even removes the method, the reflection in your code will fail, so you need to keep the right method(s). Maybe you want to keep all of the listed candidates:\r\n\r\n    -keepclassmembers class * {\r\n        *** getHandlerList();\r\n    }\r\n\r\nSee the ProGuard documentation &gt; Troubleshooting &gt; [Note: ... accesses a field/method &#39;...&#39; dynamically][1]\r\n\r\nProGuard also notes that your configuration preserves the constructor of a class, but not all of its argument types. For some types of reflection, you also need to preserve these argument types. It&#39;s more likely that you&#39;re just accidentally keeping the constructor by using a wildcard. That would be a bit sloppy, but harmless.\r\n\r\nSee the ProGuard documentation &gt; Troubleshooting &gt; [Note: the configuration keeps the entry point &#39;...&#39;, but not the descriptor class &#39;...&#39;][2]\r\n\r\nFor solving the NullPointerException, you have to know what is happening in your code in HandlerList. You can let ProGuard preserve line numbers with\r\n\r\n    -renamesourcefileattribute SourceFile\r\n    -keepattributes SourceFile,LineNumberTable\r\n\r\nIf the code or the library performs reflection, and the original class names are important, you may need to preserve them. E.g. if the names of the event classes matter:\r\n\r\n    -keep class my.package.info.events.*\r\n\r\n\r\n  [1]: http://proguard.sourceforge.net/manual/troubleshooting.html#dynamicalclassmember\r\n  [2]: http://proguard.sourceforge.net/manual/troubleshooting.html#descriptorclass","title":"proguard causing EnumMap NPE on dynamically declared method","body":"<p>ProGuard notes that your code accesses a method dynamically, but it can't figure out which method it is precisely. If it renames or even removes the method, the reflection in your code will fail, so you need to keep the right method(s). Maybe you want to keep all of the listed candidates:</p>\n\n<pre><code>-keepclassmembers class * {\n    *** getHandlerList();\n}\n</code></pre>\n\n<p>See the ProGuard documentation > Troubleshooting > <a href=\"http://proguard.sourceforge.net/manual/troubleshooting.html#dynamicalclassmember\" rel=\"nofollow\">Note: ... accesses a field/method '...' dynamically</a></p>\n\n<p>ProGuard also notes that your configuration preserves the constructor of a class, but not all of its argument types. For some types of reflection, you also need to preserve these argument types. It's more likely that you're just accidentally keeping the constructor by using a wildcard. That would be a bit sloppy, but harmless.</p>\n\n<p>See the ProGuard documentation > Troubleshooting > <a href=\"http://proguard.sourceforge.net/manual/troubleshooting.html#descriptorclass\" rel=\"nofollow\">Note: the configuration keeps the entry point '...', but not the descriptor class '...'</a></p>\n\n<p>For solving the NullPointerException, you have to know what is happening in your code in HandlerList. You can let ProGuard preserve line numbers with</p>\n\n<pre><code>-renamesourcefileattribute SourceFile\n-keepattributes SourceFile,LineNumberTable\n</code></pre>\n\n<p>If the code or the library performs reflection, and the original class names are important, you may need to preserve them. E.g. if the names of the event classes matter:</p>\n\n<pre><code>-keep class my.package.info.events.*\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3921864,"reputation":748,"user_id":3243751,"display_name":"FLUXparticle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646126255,"creation_date":1646126255,"answer_id":71306139,"question_id":19916025,"body_markdown":"I just had the same `NullPointerException` in the `EnumMap` constructor and could fixed it with:\r\n\r\n``` lang-java\r\n-keepclassmembers enum * {\r\n   public static **[] values(); \r\n}\r\n```","title":"proguard causing EnumMap NPE on dynamically declared method","body":"<p>I just had the same <code>NullPointerException</code> in the <code>EnumMap</code> constructor and could fixed it with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>-keepclassmembers enum * {\n   public static **[] values(); \n}\n</code></pre>\n"}],"owner":{"account_id":48251,"reputation":35403,"user_id":143269,"accept_rate":48,"display_name":"helion3"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":745,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1646126255,"creation_date":1384204243,"question_id":19916025,"body_markdown":"I&#39;m adding obfuscation via proguard/maven to a java application as we prepare it for distribution. During the process, it errors out with:\r\n\r\n`Note: ...eventlib.EventManager accesses a declared method &#39;getHandlerList()&#39; dynamically`\r\n\r\nIt then lists a dozen classes with that method with `Maybe this is...` and it recommends using `-keep` to avoid the problem.\r\n\r\nWhen I do add `-keep public class my.package.info.eventlib.HandlerList { *; }` to the build process, the error goes away, but I see the following notices:\r\n\r\n`[proguard] Note: the configuration keeps the entry point &#39;events.TransactionEvent { TransactionEvent(my.package.info.inventory.Inventory,my.package.info.inventory.Inventory$TransactionType,my.package.info.inventory.ItemDefinition,short); }&#39;, but not the descriptor class &#39;my.package.info.inventory.Inventory&#39;`\r\n\r\nWhen I run the application, it errors out with an NPE (which it doesn&#39;t do when run without obfuscation):\r\n\r\n    Caused by: java.lang.NullPointerException\r\n\tat java.util.EnumMap.&lt;init&gt;(EnumMap.java:113)\r\n\tat my.package.info.eventlib.HandlerList.&lt;init&gt;(Unknown Source)\r\n\tat my.package.info.events.CollisionEvent.&lt;clinit&gt;(Unknown Source)\r\n\r\nIt&#39;s all tied to the events. How can I resolve this without telling proguard to keep everything tied to them?\r\n\r\nHere&#39;s a full example of the original error: http://pste.me/m9BsY/\r\n\r\nThe event system is based on [lahwran&#39;s fastevents][1]\r\n\r\n\r\n  [1]: https://github.com/lahwran/fastevents","title":"proguard causing EnumMap NPE on dynamically declared method","body":"<p>I'm adding obfuscation via proguard/maven to a java application as we prepare it for distribution. During the process, it errors out with:</p>\n\n<p><code>Note: ...eventlib.EventManager accesses a declared method 'getHandlerList()' dynamically</code></p>\n\n<p>It then lists a dozen classes with that method with <code>Maybe this is...</code> and it recommends using <code>-keep</code> to avoid the problem.</p>\n\n<p>When I do add <code>-keep public class my.package.info.eventlib.HandlerList { *; }</code> to the build process, the error goes away, but I see the following notices:</p>\n\n<p><code>[proguard] Note: the configuration keeps the entry point 'events.TransactionEvent { TransactionEvent(my.package.info.inventory.Inventory,my.package.info.inventory.Inventory$TransactionType,my.package.info.inventory.ItemDefinition,short); }', but not the descriptor class 'my.package.info.inventory.Inventory'</code></p>\n\n<p>When I run the application, it errors out with an NPE (which it doesn't do when run without obfuscation):</p>\n\n<pre><code>Caused by: java.lang.NullPointerException\nat java.util.EnumMap.&lt;init&gt;(EnumMap.java:113)\nat my.package.info.eventlib.HandlerList.&lt;init&gt;(Unknown Source)\nat my.package.info.events.CollisionEvent.&lt;clinit&gt;(Unknown Source)\n</code></pre>\n\n<p>It's all tied to the events. How can I resolve this without telling proguard to keep everything tied to them?</p>\n\n<p>Here's a full example of the original error: <a href=\"http://pste.me/m9BsY/\" rel=\"nofollow\">http://pste.me/m9BsY/</a></p>\n\n<p>The event system is based on <a href=\"https://github.com/lahwran/fastevents\" rel=\"nofollow\">lahwran's fastevents</a></p>\n"},{"tags":["java","gradle","junit"],"comments":[{"owner":{"account_id":469790,"reputation":1689,"user_id":876595,"display_name":"chehsunliu"},"score":0,"creation_date":1647151189,"post_id":71306134,"comment_id":126295817,"body_markdown":"Could you post your project structure and some testing code?","body":"Could you post your project structure and some testing code?"}],"owner":{"account_id":20893026,"reputation":39,"user_id":15347975,"display_name":"Calin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646126225,"creation_date":1646126225,"question_id":71306134,"body_markdown":"I&#39;m trying to run the JUnit tests for this Gradle project and I&#39;m getting the following error in IntelliJ:  \r\n\r\n```FAILURE: Build failed with an exception.\r\n* What went wrong:\r\nExecution failed for task &#39;:test&#39;.\r\n&gt; No tests found for given includes: [Service.AlbumArtistServiceTest](filter.includeTestsMatching)\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n* Get more help at https://help.gradle.org\r\nBUILD FAILED in 382ms\r\n```\r\n\r\nI&#39;ve tried everything I saw on the internet, this is my build.gradle file:\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\ngroup &#39;org.example&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.7.0&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.7.0&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\nThe test was generated with IntelliJ, so it should have seen it. Does anyone have any idea what to do now?","title":"Gradle Project does not recognise tests","body":"<p>I'm trying to run the JUnit tests for this Gradle project and I'm getting the following error in IntelliJ:</p>\n<pre><code>* What went wrong:\nExecution failed for task ':test'.\n&gt; No tests found for given includes: [Service.AlbumArtistServiceTest](filter.includeTestsMatching)\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n* Get more help at https://help.gradle.org\nBUILD FAILED in 382ms\n</code></pre>\n<p>I've tried everything I saw on the internet, this is my build.gradle file:</p>\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup 'org.example'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.0'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.0'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>The test was generated with IntelliJ, so it should have seen it. Does anyone have any idea what to do now?</p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1646121355,"post_id":71304719,"comment_id":126039469,"body_markdown":"`Item` isn&#39;t abstract, if it should be make it so and use `@MappedSuperclass` instead of `@Entity`.","body":"<code>Item</code> isn&#39;t abstract, if it should be make it so and use <code>@MappedSuperclass</code> instead of <code>@Entity</code>."}],"answers":[{"tags":[],"owner":{"account_id":6544683,"reputation":117,"user_id":5608755,"accept_rate":25,"display_name":"mstrahinic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646126206,"creation_date":1646126206,"answer_id":71306131,"question_id":71304719,"body_markdown":"It looks to me that you added the column into database but you havent specefied it in the Entity. Also if you change the column name like here for example:\r\n\r\n@Column(nullable = false, name = &quot;token_eth_id&quot;)\r\nprivate BigInteger tokenId;\r\n\r\nIt can cause problems sometimes. I remember that there was some bug in library. Please keep alias and column name same. \r\nYou can even try some older hibernate library maybe it will work.\r\n\r\nAlso, Item is not abstract as you said that it is.\r\n\r\nI can&#39;t tell you more because I would need whole picture of this problem and debugger.\r\n","title":"hibernate tries to insert column that is not defined","body":"<p>It looks to me that you added the column into database but you havent specefied it in the Entity. Also if you change the column name like here for example:</p>\n<p>@Column(nullable = false, name = &quot;token_eth_id&quot;)\nprivate BigInteger tokenId;</p>\n<p>It can cause problems sometimes. I remember that there was some bug in library. Please keep alias and column name same.\nYou can even try some older hibernate library maybe it will work.</p>\n<p>Also, Item is not abstract as you said that it is.</p>\n<p>I can't tell you more because I would need whole picture of this problem and debugger.</p>\n"}],"owner":{"account_id":21719315,"reputation":97,"user_id":16029826,"display_name":"Yuriy Kirel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646126206,"creation_date":1646117523,"question_id":71304719,"body_markdown":"In my case, I need to inherit token object from abstract item class. By hibernate conventions, it should be the holder of id field and every child class simply inherits it. So there should be no problem here. I tried to follow conventions and specifications as accurately as possible, and here&#39;s a slice of code with my entities: \r\n```java\r\n@Entity\r\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\npublic class Item {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    protected Long id;\r\n\r\n    @OneToMany(mappedBy = &quot;item&quot;, cascade = CascadeType.ALL)\r\n    protected Set&lt;HolderInfo&gt; holders = new HashSet&lt;&gt;();\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    protected ItemTypeEnum itemType;\r\n\r\n    @OneToOne(mappedBy = &quot;item&quot;, cascade = CascadeType.ALL)\r\n    private AuctionLot sellerLot;\r\n\r\n    public ItemTypeEnum getItemType() {\r\n        return itemType;\r\n    }\r\n\r\n    public boolean hasHolder(Long userId) {\r\n        return holders.stream().anyMatch(holderInfo -&gt; holderInfo.getHolder().getId() == userId);\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n}\r\n\r\n@Entity\r\npublic class Token extends Item {\r\n    @Value(&quot;${ethereum.minterAddress}&quot;)\r\n    private String DEFAULT_HOLDER;\r\n\r\n    @Column(nullable = false, name = &quot;token_eth_id&quot;)\r\n    private BigInteger tokenId;\r\n\r\n    @Embedded\r\n    private TokenInfo tokenInfo;\r\n\r\n    @OneToMany(mappedBy = &quot;token&quot;, cascade = CascadeType.ALL)\r\n    private Set&lt;Card&gt; cards = new HashSet&lt;&gt;();\r\n\r\n    public Token(BigInteger id, String uri, String addressFactory, String addressNFT, String name, String description,\r\n            BigInteger defaultPrice, User holder) {\r\n        this.tokenId = id;\r\n        this.tokenInfo = new TokenInfo(uri, addressFactory, addressNFT, name, description, defaultPrice);\r\n        this.holders = Sets.newHashSet(new HolderInfo(this, holder));\r\n        this.itemType = ItemTypeEnum.TOKEN;\r\n    }\r\n    ......\r\n}\r\n\r\n@Embeddable\r\npublic class TokenInfo {\r\n\r\n    @Column(length = 500, nullable = false)\r\n    private String uri;\r\n    @Column(nullable = false)\r\n    private String addressFactory;\r\n    @Column(nullable = false, unique = true)\r\n    private String addressNFT;\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @Column(nullable = false)\r\n    private Date dateCreated;\r\n    @Column(length = 200, nullable = false)\r\n    private String name;\r\n    @Column(length = 1000, nullable = false)\r\n    private String description;\r\n    @Column(nullable = false)\r\n    private BigInteger price;\r\n\r\n    public TokenInfo(String uri, String addressFactory, String addressNFT, Date dateCreated, String name,\r\n            String description, BigInteger defaultPrice) {\r\n        this.uri = uri;\r\n        this.addressFactory = addressFactory;\r\n        this.addressNFT = addressNFT;\r\n        this.dateCreated = dateCreated;\r\n        this.name = name;\r\n        this.description = description;\r\n        this.price = defaultPrice;\r\n    }\r\n    ...\r\n}\r\n```\r\n\r\nIt looks OK for me, but once I run integration test, it fails trying to insert not existing column, which I haven&#39;t specified anywhere. The error message: \r\n```\r\nERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Test worker] Column &quot;ITEM_ID&quot; not found; SQL statement:\r\ninsert into token (item_type, item_id, default_holder, token_eth_id, address_factory, addressnft, date_created, description, name, price, uri, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [42122-200]\r\n```\r\n\r\nI tried to specify column name with @Column annotation, but it didn&#39;t help at all.","title":"hibernate tries to insert column that is not defined","body":"<p>In my case, I need to inherit token object from abstract item class. By hibernate conventions, it should be the holder of id field and every child class simply inherits it. So there should be no problem here. I tried to follow conventions and specifications as accurately as possible, and here's a slice of code with my entities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\npublic class Item {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    protected Long id;\n\n    @OneToMany(mappedBy = &quot;item&quot;, cascade = CascadeType.ALL)\n    protected Set&lt;HolderInfo&gt; holders = new HashSet&lt;&gt;();\n\n    @Enumerated(EnumType.STRING)\n    protected ItemTypeEnum itemType;\n\n    @OneToOne(mappedBy = &quot;item&quot;, cascade = CascadeType.ALL)\n    private AuctionLot sellerLot;\n\n    public ItemTypeEnum getItemType() {\n        return itemType;\n    }\n\n    public boolean hasHolder(Long userId) {\n        return holders.stream().anyMatch(holderInfo -&gt; holderInfo.getHolder().getId() == userId);\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n}\n\n@Entity\npublic class Token extends Item {\n    @Value(&quot;${ethereum.minterAddress}&quot;)\n    private String DEFAULT_HOLDER;\n\n    @Column(nullable = false, name = &quot;token_eth_id&quot;)\n    private BigInteger tokenId;\n\n    @Embedded\n    private TokenInfo tokenInfo;\n\n    @OneToMany(mappedBy = &quot;token&quot;, cascade = CascadeType.ALL)\n    private Set&lt;Card&gt; cards = new HashSet&lt;&gt;();\n\n    public Token(BigInteger id, String uri, String addressFactory, String addressNFT, String name, String description,\n            BigInteger defaultPrice, User holder) {\n        this.tokenId = id;\n        this.tokenInfo = new TokenInfo(uri, addressFactory, addressNFT, name, description, defaultPrice);\n        this.holders = Sets.newHashSet(new HolderInfo(this, holder));\n        this.itemType = ItemTypeEnum.TOKEN;\n    }\n    ......\n}\n\n@Embeddable\npublic class TokenInfo {\n\n    @Column(length = 500, nullable = false)\n    private String uri;\n    @Column(nullable = false)\n    private String addressFactory;\n    @Column(nullable = false, unique = true)\n    private String addressNFT;\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(nullable = false)\n    private Date dateCreated;\n    @Column(length = 200, nullable = false)\n    private String name;\n    @Column(length = 1000, nullable = false)\n    private String description;\n    @Column(nullable = false)\n    private BigInteger price;\n\n    public TokenInfo(String uri, String addressFactory, String addressNFT, Date dateCreated, String name,\n            String description, BigInteger defaultPrice) {\n        this.uri = uri;\n        this.addressFactory = addressFactory;\n        this.addressNFT = addressNFT;\n        this.dateCreated = dateCreated;\n        this.name = name;\n        this.description = description;\n        this.price = defaultPrice;\n    }\n    ...\n}\n</code></pre>\n<p>It looks OK for me, but once I run integration test, it fails trying to insert not existing column, which I haven't specified anywhere. The error message:</p>\n<pre><code>ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Test worker] Column &quot;ITEM_ID&quot; not found; SQL statement:\ninsert into token (item_type, item_id, default_holder, token_eth_id, address_factory, addressnft, date_created, description, name, price, uri, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [42122-200]\n</code></pre>\n<p>I tried to specify column name with @Column annotation, but it didn't help at all.</p>\n"},{"tags":["java","unix","sorting","csv"],"comments":[{"owner":{"account_id":6358,"reputation":386072,"user_id":10661,"accept_rate":91,"display_name":"S.Lott"},"score":0,"creation_date":1309948510,"post_id":6590953,"comment_id":7780392,"body_markdown":"&quot;The files need to be sort is dispersed &quot;?  Does this mean 600 files must be merged together for the sort?  Or does this mean that the sorted file must be split into 600 files?","body":"&quot;The files need to be sort is dispersed &quot;?  Does this mean 600 files must be merged together for the sort?  Or does this mean that the sorted file must be split into 600 files?"},{"owner":{"account_id":303625,"reputation":3732,"user_id":612678,"accept_rate":59,"display_name":"lamwaiman1988"},"score":0,"creation_date":1309958297,"post_id":6590953,"comment_id":7783268,"body_markdown":"You was thinking too much...now it is okay. I got it done with unix sort.","body":"You was thinking too much...now it is okay. I got it done with unix sort."},{"owner":{"account_id":6358,"reputation":386072,"user_id":10661,"accept_rate":91,"display_name":"S.Lott"},"score":0,"creation_date":1309959351,"post_id":6590953,"comment_id":7783617,"body_markdown":"&quot;You was thinking too much&quot;?  What does &quot;The files need to be sort is dispersed into 600 files&quot; actually mean?  Either explain it or remove it from the question.","body":"&quot;You was thinking too much&quot;?  What does &quot;The files need to be sort is dispersed into 600 files&quot; actually mean?  Either explain it or remove it from the question."},{"owner":{"account_id":303625,"reputation":3732,"user_id":612678,"accept_rate":59,"display_name":"lamwaiman1988"},"score":0,"creation_date":1309970140,"post_id":6590953,"comment_id":7787294,"body_markdown":"I was just trying to explain the situation of the files for the good of the readers to this question. And well I think I should had write &quot;The lines need to be sort is dispersed into 600 files&quot; instead of &quot;The files need to be sort is dispersed into 600 files&quot; because that is confusing indeed. If I didn&#39;t state the situation, I think someone will stand out and ask how were the files organized in order to get an optimal approach.","body":"I was just trying to explain the situation of the files for the good of the readers to this question. And well I think I should had write &quot;The lines need to be sort is dispersed into 600 files&quot; instead of &quot;The files need to be sort is dispersed into 600 files&quot; because that is confusing indeed. If I didn&#39;t state the situation, I think someone will stand out and ask how were the files organized in order to get an optimal approach."},{"owner":{"account_id":1037822,"reputation":2531,"user_id":1044561,"accept_rate":100,"display_name":"gabe"},"score":0,"creation_date":1381367845,"post_id":6590953,"comment_id":28557034,"body_markdown":"Depending on the actual data, setting LC_ALL=C will speed up sort on unix. I&#39;ve noticed speed-ups of 30%.","body":"Depending on the actual data, setting LC_ALL=C will speed up sort on unix. I&#39;ve noticed speed-ups of 30%."}],"answers":[{"tags":[],"owner":{"display_name":"user456814"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1309920171,"creation_date":1309920171,"answer_id":6591008,"question_id":6590953,"body_markdown":"[Java Lists can be sorted][1], you can try starting there.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Collections.html#sort%28java.util.List%29","title":"any quick sorting for a huge csv file","body":"<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Collections.html#sort%28java.util.List%29\" rel=\"nofollow\">Java Lists can be sorted</a>, you can try starting there.</p>\n"},{"tags":[],"owner":{"account_id":439763,"reputation":2046,"user_id":828918,"display_name":"Moe Matar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1309920261,"creation_date":1309920261,"answer_id":6591017,"question_id":6590953,"body_markdown":"How does the data get in the CSV format? Does it come from a relational database? You can make it such that whatever process creates the file writes its entries in the right order so you don&#39;t have to solve this problem down the line.\r\n\r\nIf you are doing a simple lexicographic order you can try the unix `sort`, but I am not sure how that will perform on a file with that size.\r\n","title":"any quick sorting for a huge csv file","body":"<p>How does the data get in the CSV format? Does it come from a relational database? You can make it such that whatever process creates the file writes its entries in the right order so you don't have to solve this problem down the line.</p>\n\n<p>If you are doing a simple lexicographic order you can try the unix <code>sort</code>, but I am not sure how that will perform on a file with that size.</p>\n"},{"tags":[],"owner":{"account_id":6358,"reputation":386072,"user_id":10661,"accept_rate":91,"display_name":"S.Lott"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1309921378,"creation_date":1309920575,"answer_id":6591045,"question_id":6590953,"body_markdown":"Python on a big server.\r\n\r\n    import csv\r\n    def sort_key( aRow ):\r\n        return aRow[&#39;this&#39;], aRow[&#39;that&#39;], aRow[&#39;the other&#39;]\r\n    with open(&#39;some_file.csv&#39;,&#39;rb&#39;) as source:\r\n       rdr= csv.DictReader( source )\r\n       data = [ row for row in rdr ]\r\n       data.sort( key=sort_key )\r\n       fields= rdr.fieldnames\r\n    with open(&#39;some_file_sorted.csv&#39;, &#39;wb&#39;) as target:\r\n       wtr= csv.DictWriter( target, fields }\r\n       wtr.writerows( data )\r\n\r\nThis should be reasonably quick.  And it&#39;s very flexible.\r\n\r\nOn a small machine, break this into three passes: decorate, sort, undecorate\r\n\r\nDecorate:\r\n\r\n    import csv\r\n    def sort_key( aRow ):\r\n        return aRow[&#39;this&#39;], aRow[&#39;that&#39;], aRow[&#39;the other&#39;]\r\n    with open(&#39;some_file.csv&#39;,&#39;rb&#39;) as source:\r\n       rdr= csv.DictReader( source )\r\n       with open(&#39;temp.txt&#39;,&#39;w&#39;) as target:\r\n           for row in rdr:\r\n               target.write( &quot;|&quot;.join( map(str,sort_key(row)) ) + &quot;|&quot; + row )\r\n\r\nPart 2 is the operating system sort using &quot;|&quot; as the field separator\r\n\r\nUndecorate:\r\n\r\n    with open(&#39;sorted_temp.txt&#39;,&#39;r&#39;) as source:\r\n       with open(&#39;sorted.csv&#39;,&#39;w&#39;) as target:\r\n           for row in rdr:\r\n               keys, _, data = row.rpartition(&#39;|&#39;)\r\n               target.write( data )\r\n","title":"any quick sorting for a huge csv file","body":"<p>Python on a big server.</p>\n\n<pre><code>import csv\ndef sort_key( aRow ):\n    return aRow['this'], aRow['that'], aRow['the other']\nwith open('some_file.csv','rb') as source:\n   rdr= csv.DictReader( source )\n   data = [ row for row in rdr ]\n   data.sort( key=sort_key )\n   fields= rdr.fieldnames\nwith open('some_file_sorted.csv', 'wb') as target:\n   wtr= csv.DictWriter( target, fields }\n   wtr.writerows( data )\n</code></pre>\n\n<p>This should be reasonably quick.  And it's very flexible.</p>\n\n<p>On a small machine, break this into three passes: decorate, sort, undecorate</p>\n\n<p>Decorate:</p>\n\n<pre><code>import csv\ndef sort_key( aRow ):\n    return aRow['this'], aRow['that'], aRow['the other']\nwith open('some_file.csv','rb') as source:\n   rdr= csv.DictReader( source )\n   with open('temp.txt','w') as target:\n       for row in rdr:\n           target.write( \"|\".join( map(str,sort_key(row)) ) + \"|\" + row )\n</code></pre>\n\n<p>Part 2 is the operating system sort using \"|\" as the field separator</p>\n\n<p>Undecorate:</p>\n\n<pre><code>with open('sorted_temp.txt','r') as source:\n   with open('sorted.csv','w') as target:\n       for row in rdr:\n           keys, _, data = row.rpartition('|')\n           target.write( data )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1309920590,"creation_date":1309920590,"answer_id":6591049,"question_id":6590953,"body_markdown":"Well since you&#39;re talking about HUGE datasets this means you&#39;ll need some external sorting algorithm anyhow. There are some for java and pretty much any other language out there - since the result will have to be stored on the disk anyhow which language you&#39;re using is pretty uninteresting.","title":"any quick sorting for a huge csv file","body":"<p>Well since you're talking about HUGE datasets this means you'll need some external sorting algorithm anyhow. There are some for java and pretty much any other language out there - since the result will have to be stored on the disk anyhow which language you're using is pretty uninteresting.</p>\n"},{"tags":[],"owner":{"account_id":151886,"reputation":1694,"user_id":366020,"display_name":"Slartibartfast"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1309922019,"creation_date":1309922019,"answer_id":6591184,"question_id":6590953,"body_markdown":"You don&#39;t mention platform, so it is hard to come to terms with the time specified.  12x10^6 records isn&#39;t that many, but sorting is a pretty intensive task.  Let&#39;s say 37 fields, say 100bytes/field would be 45GB?  That&#39;s a bit much for most machines, but if the records average 10bytes/field your server should be able to fit the entire file in RAM, which would be ideal.\r\n\r\nMy suggestion: Break the file into chunks that are 1/2 the available RAM, sort each chunk, then merge-sort the resulting sorted chunks.  This lets you do all of your sorting in memory rather than hitting swap, which is what I suspect of causing any slow-down.\r\n\r\nSay (1G chunks, in a directory you can play around in):\r\n\r\n    split --line-bytes=1000000000 original_file chunk\r\n    for each in chunk* \r\n    do\r\n      sort $each &gt; $each.sorted\r\n    done\r\n    sort -m chunk*.sorted &gt; original_file.sorted\r\n\r\n","title":"any quick sorting for a huge csv file","body":"<p>You don't mention platform, so it is hard to come to terms with the time specified.  12x10^6 records isn't that many, but sorting is a pretty intensive task.  Let's say 37 fields, say 100bytes/field would be 45GB?  That's a bit much for most machines, but if the records average 10bytes/field your server should be able to fit the entire file in RAM, which would be ideal.</p>\n\n<p>My suggestion: Break the file into chunks that are 1/2 the available RAM, sort each chunk, then merge-sort the resulting sorted chunks.  This lets you do all of your sorting in memory rather than hitting swap, which is what I suspect of causing any slow-down.</p>\n\n<p>Say (1G chunks, in a directory you can play around in):</p>\n\n<pre><code>split --line-bytes=1000000000 original_file chunk\nfor each in chunk* \ndo\n  sort $each &gt; $each.sorted\ndone\nsort -m chunk*.sorted &gt; original_file.sorted\n</code></pre>\n"},{"tags":[],"owner":{"account_id":160245,"reputation":2421,"user_id":380161,"accept_rate":57,"display_name":"Anupam Saini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1309922053,"creation_date":1309922053,"answer_id":6591187,"question_id":6590953,"body_markdown":"As your data set is huge as you have mentioned. Sorting it all at one go will be time consuming depending on your machine (If you try QuickSort).\r\nBut since you would like it to be done within 30 mins. I would suggest that you have a look at Map Reduce  using \r\n[Apache Hadoop][1] as your application server.\r\n\r\n\r\nPlease keep in mind it&#39;s not an easy approach, but in the longer run you can easily scale up depending upon your data size.\r\nI am also pointing you to an excellent link on [Hadoop setup][2]\r\n\r\n\r\n  [1]: http://hadoop.apache.org/\r\n  [2]: http://www.michael-noll.com/tutorials/running-hadoop-on-ubuntu-linux-single-node-cluster/\r\nWork your way through single node setup and move to Hadoop cluster.\r\nI would be glad to help you if you get stuck anywhere.","title":"any quick sorting for a huge csv file","body":"<p>As your data set is huge as you have mentioned. Sorting it all at one go will be time consuming depending on your machine (If you try QuickSort).\nBut since you would like it to be done within 30 mins. I would suggest that you have a look at Map Reduce  using \n<a href=\"http://hadoop.apache.org/\" rel=\"nofollow\">Apache Hadoop</a> as your application server.</p>\n\n<p>Please keep in mind it's not an easy approach, but in the longer run you can easily scale up depending upon your data size.\nI am also pointing you to an excellent link on <a href=\"http://www.michael-noll.com/tutorials/running-hadoop-on-ubuntu-linux-single-node-cluster/\" rel=\"nofollow\">Hadoop setup</a></p>\n\n<p>Work your way through single node setup and move to Hadoop cluster.\nI would be glad to help you if you get stuck anywhere.</p>\n"},{"tags":[],"owner":{"account_id":331003,"reputation":3741,"user_id":655424,"display_name":"Atreys"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1309958326,"creation_date":1309924152,"answer_id":6591347,"question_id":6590953,"body_markdown":"Calling unix sort program should be [efficient][1].  It does multiple passes to ensure it is not a memory hog.  You can fork a process with java&#39;s Runtime, but the outputs of the process are redirected, so you have to some juggling to [get the redirect to work right][2]:\r\n\r\n    public static void sortInUnix(File fileIn, File sortedFile)\r\n            throws IOException, InterruptedException {\r\n        String[] cmd = {\r\n               &quot;cmd&quot;, &quot;/c&quot;, \r\n               // above should be changed to &quot;sh&quot;, &quot;-c&quot; if on Unix system\r\n               &quot;sort &quot; + fileIn.getAbsolutePath() + &quot; &gt; &quot;\r\n                   + sortedFile.getAbsolutePath() };\r\n\r\n        Process sortProcess = Runtime.getRuntime().exec(cmd);\r\n\r\n        // capture error messages (if any)\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(\r\n            sortProcess.getErrorStream()));\r\n        String outputS = reader.readLine();\r\n        while (outputS != null) {\r\n            System.err.println(outputS);\r\n            outputS = reader.readLine();\r\n        }\r\n\r\n        sortProcess.waitFor();\r\n    }\r\n\r\n\r\n  [1]: http://vkundeti.blogspot.com/2008/03/tech-algorithmic-details-of-unix-sort.html\r\n  [2]: http://ensta-paristech.fr/~diam/java/online/io/javazine.html","title":"any quick sorting for a huge csv file","body":"<p>Calling unix sort program should be <a href=\"http://vkundeti.blogspot.com/2008/03/tech-algorithmic-details-of-unix-sort.html\" rel=\"nofollow\">efficient</a>.  It does multiple passes to ensure it is not a memory hog.  You can fork a process with java's Runtime, but the outputs of the process are redirected, so you have to some juggling to <a href=\"http://ensta-paristech.fr/~diam/java/online/io/javazine.html\" rel=\"nofollow\">get the redirect to work right</a>:</p>\n\n<pre><code>public static void sortInUnix(File fileIn, File sortedFile)\n        throws IOException, InterruptedException {\n    String[] cmd = {\n           \"cmd\", \"/c\", \n           // above should be changed to \"sh\", \"-c\" if on Unix system\n           \"sort \" + fileIn.getAbsolutePath() + \" &gt; \"\n               + sortedFile.getAbsolutePath() };\n\n    Process sortProcess = Runtime.getRuntime().exec(cmd);\n\n    // capture error messages (if any)\n    BufferedReader reader = new BufferedReader(new InputStreamReader(\n        sortProcess.getErrorStream()));\n    String outputS = reader.readLine();\n    while (outputS != null) {\n        System.err.println(outputS);\n        outputS = reader.readLine();\n    }\n\n    sortProcess.waitFor();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1309929847,"creation_date":1309929847,"answer_id":6591887,"question_id":6590953,"body_markdown":"You really do need to make sure you have the right tools for the job. ( Today, I am hoping to get a 3.8 GHz PC with 24 GB memory for home use. It been a while since I bought myself a new toy. ;)\r\n\r\nHowever, if you want to sort these lines and you don&#39;t have enough hardware, you don&#39;t need to break up the data because its in 600 files already.  \r\n\r\nSort each file individually, then do a 600-way merge sort (you only need to keep 600 lines in memory at once)  Its not as simple as doing them all at once, but you could probably do it on a mobile phone. ;)\r\n\r\n","title":"any quick sorting for a huge csv file","body":"<p>You really do need to make sure you have the right tools for the job. ( Today, I am hoping to get a 3.8 GHz PC with 24 GB memory for home use. It been a while since I bought myself a new toy. ;)</p>\n\n<p>However, if you want to sort these lines and you don't have enough hardware, you don't need to break up the data because its in 600 files already.  </p>\n\n<p>Sort each file individually, then do a 600-way merge sort (you only need to keep 600 lines in memory at once)  Its not as simple as doing them all at once, but you could probably do it on a mobile phone. ;)</p>\n"},{"tags":[],"owner":{"account_id":6358,"reputation":386072,"user_id":10661,"accept_rate":91,"display_name":"S.Lott"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1310035821,"creation_date":1309973364,"answer_id":6600524,"question_id":6590953,"body_markdown":"Since you have 600 smaller files, it could be faster to sort all of them concurrently.  This will eat up 100% of the CPU.  That&#39;s the point, correct?\r\n\r\n    waitlist= \r\n    for f in ${SOURCE}/*\r\n    do \r\n        sort -t &#39;,&#39; -k 1,1 -k 4,7 -k 23,23 -k 2,2r -o ${f}.srt ${f} &amp;\r\n        waitlist=&quot;$waitlist $!&quot;\r\n    done\r\n    wait $waitlist\r\n    LIST=`echo $SOURCE/*.srt`\r\n    sort --merge -t &#39;,&#39; -k 1,1 -k 4,7 -k 23,23 -k 2,2r -o sorted.txt ${LIST}\r\n\r\nThis will sort 600 small files all at the same time and then merge the sorted files.  It may be faster than trying to sort a single large file.","title":"any quick sorting for a huge csv file","body":"<p>Since you have 600 smaller files, it could be faster to sort all of them concurrently.  This will eat up 100% of the CPU.  That's the point, correct?</p>\n\n<pre><code>waitlist= \nfor f in ${SOURCE}/*\ndo \n    sort -t ',' -k 1,1 -k 4,7 -k 23,23 -k 2,2r -o ${f}.srt ${f} &amp;\n    waitlist=\"$waitlist $!\"\ndone\nwait $waitlist\nLIST=`echo $SOURCE/*.srt`\nsort --merge -t ',' -k 1,1 -k 4,7 -k 23,23 -k 2,2r -o sorted.txt ${LIST}\n</code></pre>\n\n<p>This will sort 600 small files all at the same time and then merge the sorted files.  It may be faster than trying to sort a single large file.</p>\n"},{"tags":[],"owner":{"account_id":194080,"reputation":998,"user_id":436183,"accept_rate":75,"display_name":"Jeryl Cook"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391080410,"creation_date":1391080410,"answer_id":21454869,"question_id":6590953,"body_markdown":"Use Map/Reduce Hadoop to do the sorting..  i recommend Spring Data Hadoop. Java.","title":"any quick sorting for a huge csv file","body":"<p>Use Map/Reduce Hadoop to do the sorting..  i recommend Spring Data Hadoop. Java.</p>\n"},{"tags":[],"owner":{"account_id":216605,"reputation":11967,"user_id":471955,"accept_rate":0,"display_name":"Dave Moten"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646125789,"creation_date":1558646521,"answer_id":56283084,"question_id":6590953,"body_markdown":"Use the java library [big-sorter][1] which is published to Maven Central and has an optional dependency on [commons-csv][2] for CSV processing. It handles files of any size by splitting to intermediate files, sorting and merging the intermediate files repeatedly until there is only one left.  Note also that the max group size for a merge is configurable (useful for when there are a large number of input files).\r\n\r\nHere&#39;s an example:\r\n\r\nGiven the CSV file below, we will sort on the second column (the &quot;number&quot; column):\r\n```\r\nname,number,cost\r\nWIPER BLADE,35,12.55\r\nALLEN KEY 5MM,27,3.80\r\n```\r\n\r\n```java\r\nSerializer&lt;CSVRecord&gt; serializer = Serializer.csv(\r\n  CSVFormat.DEFAULT\r\n     .withFirstRecordAsHeader()\r\n     .withRecordSeparator(&quot;\\n&quot;),\r\n  StandardCharsets.UTF_8);\r\nComparator&lt;CSVRecord&gt; comparator = (x, y) -&gt; {\r\n    int a = Integer.parseInt(x.get(&quot;number&quot;));\r\n    int b = Integer.parseInt(y.get(&quot;number&quot;));\r\n    return Integer.compare(a, b);\r\n};\r\nSorter \r\n  .serializer(serializer) \r\n  .comparator(comparator) \r\n  .input(inputFile) \r\n  .output(outputFile)\r\n  .sort();\r\n```\r\nThe result is:\r\n```\r\nname,number,cost\r\nALLEN KEY 5MM,27,3.80\r\nWIPER BLADE,35,12.55\r\n```\r\n\r\nI created a CSV file with 12 million rows and 37 columns and filled the grid with random integers between 0 and 100,000. I then sorted the 2.7GB file on the 11th column using *big-sorter* and it took **8 mins** to do single-threaded on an i7 with SSD and max heap set at 512m (`-Xmx512m`). \r\n\r\nSee the project [README][1] for more details.\r\n\r\n  [1]: https://github.com/davidmoten/big-sorter\r\n  [2]: https://github.com/apache/commons-csv","title":"any quick sorting for a huge csv file","body":"<p>Use the java library <a href=\"https://github.com/davidmoten/big-sorter\" rel=\"nofollow noreferrer\">big-sorter</a> which is published to Maven Central and has an optional dependency on <a href=\"https://github.com/apache/commons-csv\" rel=\"nofollow noreferrer\">commons-csv</a> for CSV processing. It handles files of any size by splitting to intermediate files, sorting and merging the intermediate files repeatedly until there is only one left.  Note also that the max group size for a merge is configurable (useful for when there are a large number of input files).</p>\n<p>Here's an example:</p>\n<p>Given the CSV file below, we will sort on the second column (the &quot;number&quot; column):</p>\n<pre><code>name,number,cost\nWIPER BLADE,35,12.55\nALLEN KEY 5MM,27,3.80\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Serializer&lt;CSVRecord&gt; serializer = Serializer.csv(\n  CSVFormat.DEFAULT\n     .withFirstRecordAsHeader()\n     .withRecordSeparator(&quot;\\n&quot;),\n  StandardCharsets.UTF_8);\nComparator&lt;CSVRecord&gt; comparator = (x, y) -&gt; {\n    int a = Integer.parseInt(x.get(&quot;number&quot;));\n    int b = Integer.parseInt(y.get(&quot;number&quot;));\n    return Integer.compare(a, b);\n};\nSorter \n  .serializer(serializer) \n  .comparator(comparator) \n  .input(inputFile) \n  .output(outputFile)\n  .sort();\n</code></pre>\n<p>The result is:</p>\n<pre><code>name,number,cost\nALLEN KEY 5MM,27,3.80\nWIPER BLADE,35,12.55\n</code></pre>\n<p>I created a CSV file with 12 million rows and 37 columns and filled the grid with random integers between 0 and 100,000. I then sorted the 2.7GB file on the 11th column using <em>big-sorter</em> and it took <strong>8 mins</strong> to do single-threaded on an i7 with SSD and max heap set at 512m (<code>-Xmx512m</code>).</p>\n<p>See the project <a href=\"https://github.com/davidmoten/big-sorter\" rel=\"nofollow noreferrer\">README</a> for more details.</p>\n"}],"owner":{"account_id":303625,"reputation":3732,"user_id":612678,"accept_rate":59,"display_name":"lamwaiman1988"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8205,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":6591017,"answer_count":11,"score":2,"last_activity_date":1646125789,"creation_date":1309919535,"question_id":6590953,"body_markdown":"I am looking some java implementation of sorting algorithm. The file could be HUGE, say 20000*600=12,000,000 lines of records. The line is comma delimited with 37 fields and we use 5 fields as keys. Is it possible to sort it quickly, say 30 minutes?\r\n\r\nIf you got other approach other than java, it is welcome if it can be easily integrated into java system. For example, unix utility.\r\n\r\nThanks.\r\n\r\nEdit: The lines need to be sort is dispersed into 600 files, with 20000 lines each, 4mb for each file. Finally I would like them to be 1 big sorted file. \r\n\r\nI am trying to time a unix sort, would update that afterwards.\r\n\r\n\r\nEdit:\r\n\r\nI appended all the files into a big one, and tried the unix sort function, it is pretty good. The time to sort a 2gb file is 12-13 minutes. The append action require 4 minutes for 600 files.\r\n\r\n    sort -t &#39;,&#39; -k 1,1 -k 4,7 -k 23,23 -k 2,2r big.txt -o sorted.txt","title":"any quick sorting for a huge csv file","body":"<p>I am looking some java implementation of sorting algorithm. The file could be HUGE, say 20000*600=12,000,000 lines of records. The line is comma delimited with 37 fields and we use 5 fields as keys. Is it possible to sort it quickly, say 30 minutes?</p>\n\n<p>If you got other approach other than java, it is welcome if it can be easily integrated into java system. For example, unix utility.</p>\n\n<p>Thanks.</p>\n\n<p>Edit: The lines need to be sort is dispersed into 600 files, with 20000 lines each, 4mb for each file. Finally I would like them to be 1 big sorted file. </p>\n\n<p>I am trying to time a unix sort, would update that afterwards.</p>\n\n<p>Edit:</p>\n\n<p>I appended all the files into a big one, and tried the unix sort function, it is pretty good. The time to sort a 2gb file is 12-13 minutes. The append action require 4 minutes for 600 files.</p>\n\n<pre><code>sort -t ',' -k 1,1 -k 4,7 -k 23,23 -k 2,2r big.txt -o sorted.txt\n</code></pre>\n"},{"tags":["java","android","android-gradle-plugin","build.gradle"],"comments":[{"owner":{"account_id":3313612,"reputation":5090,"user_id":2786452,"accept_rate":47,"display_name":"SoulRayder"},"score":0,"creation_date":1479302503,"post_id":40633163,"comment_id":68498773,"body_markdown":"which is the line pointed to in the code?","body":"which is the line pointed to in the code?"},{"owner":{"account_id":7234521,"reputation":187,"user_id":5520251,"accept_rate":25,"display_name":"mrLovaLova"},"score":0,"creation_date":1479306180,"post_id":40633163,"comment_id":68501318,"body_markdown":"I&#39;ve edited the question, included screenshots","body":"I&#39;ve edited the question, included screenshots"}],"answers":[{"tags":[],"owner":{"account_id":3989381,"reputation":147,"user_id":3288859,"display_name":"Anjul khanal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521463263,"creation_date":1521463263,"answer_id":49363245,"question_id":40633163,"body_markdown":"You have implemented Butterknife in your library project. Butterknife doesnot work for library project.For more details you can follow this link\r\nhttps://github.com/JakeWharton/butterknife/issues/45","title":"Error: Element value must be a constant expression","body":"<p>You have implemented Butterknife in your library project. Butterknife doesnot work for library project.For more details you can follow this link\n<a href=\"https://github.com/JakeWharton/butterknife/issues/45\" rel=\"nofollow noreferrer\">https://github.com/JakeWharton/butterknife/issues/45</a></p>\n"},{"tags":[],"owner":{"account_id":5014308,"reputation":602,"user_id":4029542,"accept_rate":33,"display_name":"Ankur"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586498749,"creation_date":1586498749,"answer_id":61134867,"question_id":40633163,"body_markdown":"As pointed out on this [github issue][1], it can work by using R2.id instead of R.id when we are using Butterknife in library project.\r\n\r\n\r\n  [1]: https://github.com/JakeWharton/butterknife/issues/45#issuecomment-250088860","title":"Error: Element value must be a constant expression","body":"<p>As pointed out on this <a href=\"https://github.com/JakeWharton/butterknife/issues/45#issuecomment-250088860\" rel=\"nofollow noreferrer\">github issue</a>, it can work by using R2.id instead of R.id when we are using Butterknife in library project.</p>\n"}],"owner":{"account_id":7234521,"reputation":187,"user_id":5520251,"accept_rate":25,"display_name":"mrLovaLova"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9177,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1646125759,"creation_date":1479302245,"question_id":40633163,"body_markdown":"I am trying to merge 2 android studio projects into one.\r\nHere&#39;s my app level build.gradle:\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 23\r\n        buildToolsVersion &quot;23.0.3&quot;\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.cricketbuzz&quot;\r\n            minSdkVersion 19\r\n            targetSdkVersion 23\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            multiDexEnabled true\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n                debuggable true\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        compile fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n        compile &#39;com.android.support:appcompat-v7:23.4.0&#39;\r\n        compile &#39;com.android.support:design:23.4.0&#39;\r\n        compile &#39;com.android.support:cardview-v7:23.4.0&#39;\r\n        compile &#39;com.android.support:recyclerview-v7:23.4.0&#39;\r\n        compile &#39;com.github.bumptech.glide:glide:3.7.0&#39;\r\n        compile &#39;com.github.JakeWharton:ViewPagerIndicator:2.4.1@aar&#39;\r\n        compile &#39;com.android.support:multidex:1.0.0&#39;\r\n        compile &#39;com.cricketbuzzsdk:CricketBuzzSDK:1.0.0&#39;\r\n        compile &#39;com.wang.avi:library:2.1.3&#39;\r\n        compile project(&#39;:basketball&#39;)\r\n    \r\n    }\r\n    \r\n\r\n \r\nHere&#39;s my library build.gradle\r\n\r\n    apply plugin: &#39;com.android.library&#39;\r\n    \r\n    android {\r\n        signingConfigs {\r\n            config {\r\n            }\r\n        }\r\n        compileSdkVersion 23\r\n        buildToolsVersion &quot;23.0.3&quot;\r\n        defaultConfig {\r\n          //  applicationId &quot;com.gmail.jorgegilcavazos.ballislife&quot;\r\n            minSdkVersion 19\r\n            targetSdkVersion 23\r\n            versionCode 3\r\n            versionName &quot;0.1.0&quot;\r\n            signingConfig signingConfigs.config\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        packagingOptions {\r\n            exclude &#39;META-INF/LICENCE.txt&#39;\r\n            exclude &#39;META-INF/LICENSE&#39;\r\n            exclude &#39;META-INF/NOTICE.txt&#39;\r\n        }\r\n        productFlavors {\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        compile fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n        testCompile &#39;org.robolectric:robolectric:3.1.2&#39;\r\n        compile &#39;com.android.support:appcompat-v7:23.4.0&#39;\r\n        compile &#39;com.mcxiaoke.volley:library:1.0.19&#39;\r\n        compile &#39;com.squareup.picasso:picasso:2.5.2&#39;\r\n        compile &#39;com.google.android.gms:play-services-gcm:8.3.0&#39;\r\n        compile &#39;com.android.support:design:23.4.0&#39;\r\n        compile &#39;com.android.support:support-v4:23.4.0&#39;\r\n        compile &#39;com.android.support:recyclerview-v7:23.4.0&#39;\r\n        compile &#39;com.android.support:cardview-v7:23.4.0&#39;\r\n        compile &#39;com.android.support:customtabs:23.3.0&#39;\r\n        compile &#39;net.dean.jraw:JRAW:0.9.0&#39;\r\n        compile &#39;com.google.code.gson:gson:2.7&#39;\r\n        compile &#39;com.jakewharton:butterknife:8.4.0&#39;\r\n    }\r\n\r\n\r\nThe error I am getting is :\r\n\r\nC:\\Users\\karanc\\AndroidStudioProjects\\CricketBuzz\\basketball\\src\\main\\java\\com\\gmail\\jorgegilcavazos\\ballislife\\features\\games\\GameAdapter.java\r\nError:(112, 23) error: element value must be a constant expression\r\n\r\nC:\\Users\\karanc\\AndroidStudioProjects\\CricketBuzz\\basketball\\src\\main\\java\\com\\gmail\\jorgegilcavazos\\ballislife\\features\\gamethread\\CommentThreadFragment.java\r\nError:(127, 22) error: constant expression required\r\n\r\nHere are GameAdapter &amp; CommentThread files:\r\nGameAdapter.java\r\n\r\n        package com.gmail.jorgegilcavazos.ballislife.features.games;\r\n    \r\n    import android.content.Context;\r\n    import android.support.v7.widget.RecyclerView;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ImageView;\r\n    import android.widget.TextView;\r\n    \r\n    import com.gmail.jorgegilcavazos.ballislife.features.data.NbaGame;\r\n    import com.gmail.jorgegilcavazos.ballislife.R;\r\n    import com.gmail.jorgegilcavazos.ballislife.util.Utilities;\r\n    \r\n    import java.util.List;\r\n    \r\n    import butterknife.BindView;\r\n    import butterknife.ButterKnife;\r\n    \r\n    import static android.support.design.R.styleable.RecyclerView;\r\n    \r\n    /**\r\n     * RecyclerView Adapter used by the {@link GamesFragment} to display a list of games.\r\n     */\r\n    public class GameAdapter extends RecyclerView.Adapter&lt;GameAdapter.GameViewHolder&gt; {\r\n        private Context context;\r\n        private List&lt;NbaGame&gt; nbaGameList;\r\n        private GamesFragment.GameItemListener gameItemListener;\r\n    \r\n    \r\n    \r\n        public GameAdapter(List&lt;NbaGame&gt; nbaGames,\r\n                           GamesFragment.GameItemListener itemListener) {\r\n            nbaGameList = nbaGames;\r\n            gameItemListener = itemListener;\r\n        }\r\n    \r\n        @Override\r\n        public GameViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.row_game,\r\n                    parent, false);\r\n            context = parent.getContext();\r\n            return new GameViewHolder(view);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(final GameViewHolder holder, int position) {\r\n            NbaGame nbaGame = nbaGameList.get(position);\r\n    \r\n            int resKeyHome = context.getResources().getIdentifier(nbaGame.getHomeTeamAbbr()\r\n                    .toLowerCase(), &quot;drawable&quot;, context.getPackageName());\r\n            int resKeyAway = context.getResources().getIdentifier(nbaGame.getAwayTeamAbbr()\r\n                    .toLowerCase(), &quot;drawable&quot;, context.getPackageName());\r\n    \r\n            holder.tvHomeTeam.setText(nbaGame.getHomeTeamAbbr());\r\n            holder.tvAwayTeam.setText(nbaGame.getAwayTeamAbbr());\r\n            holder.ivHomeLogo.setImageResource(resKeyHome);\r\n            holder.ivAwayLogo.setImageResource(resKeyAway);\r\n            holder.tvHomeScore.setText(nbaGame.getHomeTeamScore());\r\n            holder.tvAwayScore.setText(nbaGame.getAwayTeamScore());\r\n            holder.tvClock.setText(nbaGame.getGameClock());\r\n            holder.tvPeriod.setText(Utilities.getPeriodString(nbaGame.getPeriodValue(),\r\n                    nbaGame.getPeriodName()));\r\n    \r\n            holder.tvHomeScore.setVisibility(View.GONE);\r\n            holder.tvAwayScore.setVisibility(View.GONE);\r\n            holder.tvClock.setVisibility(View.GONE);\r\n            holder.tvPeriod.setVisibility(View.GONE);\r\n            holder.tvFinal.setVisibility(View.GONE);\r\n            holder.tvTime.setVisibility(View.GONE);\r\n    \r\n            switch (nbaGame.getGameStatus()) {\r\n                case NbaGame.PRE_GAME:\r\n                    holder.tvTime.setVisibility(View.VISIBLE);\r\n                    holder.tvTime.setText(nbaGame.getPeriodStatus());\r\n                    break;\r\n                case NbaGame.IN_GAME:\r\n                    holder.tvHomeScore.setVisibility(View.VISIBLE);\r\n                    holder.tvAwayScore.setVisibility(View.VISIBLE);\r\n                    holder.tvClock.setVisibility(View.VISIBLE);\r\n                    holder.tvPeriod.setVisibility(View.VISIBLE);\r\n                    break;\r\n                case NbaGame.POST_GAME:\r\n                    holder.tvHomeScore.setVisibility(View.VISIBLE);\r\n                    holder.tvAwayScore.setVisibility(View.VISIBLE);\r\n                    holder.tvFinal.setVisibility(View.VISIBLE);\r\n                    holder.tvFinal.setText(&quot;FINAL&quot;);\r\n                    break;\r\n            }\r\n    \r\n            holder.container.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    gameItemListener.onGameClick(nbaGameList.get(holder.getAdapterPosition()));\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return null != nbaGameList ? nbaGameList.size() : 0;\r\n        }\r\n    \r\n        public void swap(List&lt;NbaGame&gt; data) {\r\n            nbaGameList.clear();\r\n            nbaGameList.addAll(data);\r\n            notifyDataSetChanged();\r\n        }\r\n    \r\n        public static class GameViewHolder extends RecyclerView.ViewHolder {\r\n            View container;\r\n            @BindView(R.id.homelabel) TextView tvHomeTeam;\r\n            @BindView(R.id.awaylabel) TextView tvAwayTeam;\r\n            @BindView(R.id.homescore) TextView tvHomeScore;\r\n            @BindView(R.id.awayscore) TextView tvAwayScore;\r\n            @BindView(R.id.clock) TextView tvClock;\r\n            @BindView(R.id.period) TextView tvPeriod;\r\n            @BindView(R.id.extraLabel) TextView tvTime;\r\n            @BindView(R.id.extraLabel2) TextView tvFinal;\r\n            @BindView(R.id.homeicon) ImageView ivHomeLogo;\r\n            @BindView(R.id.awayicon) ImageView ivAwayLogo;\r\n    \r\n            public GameViewHolder(View view) {\r\n                super(view);\r\n                ButterKnife.bind(this, view);\r\n                container = view;\r\n            }\r\n        }\r\n    }\r\n\r\nCommentThread.java\r\n\r\n    package com.gmail.jorgegilcavazos.ballislife.features.gamethread;\r\n    \r\n    import android.content.Context;\r\n    import android.os.AsyncTask;\r\n    import android.os.Build;\r\n    import android.os.Bundle;\r\n    import android.support.annotation.Nullable;\r\n    import android.support.design.widget.Snackbar;\r\n    import android.support.v4.app.Fragment;\r\n    import android.support.v4.view.ViewCompat;\r\n    import android.support.v7.widget.LinearLayoutManager;\r\n    import android.support.v7.widget.RecyclerView;\r\n    import android.util.Log;\r\n    import android.view.LayoutInflater;\r\n    import android.view.MenuItem;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ProgressBar;\r\n    \r\n    import com.gmail.jorgegilcavazos.ballislife.features.shared.CommentAdapter;\r\n    import com.gmail.jorgegilcavazos.ballislife.R;\r\n    import com.gmail.jorgegilcavazos.ballislife.util.AuthListener;\r\n    import com.gmail.jorgegilcavazos.ballislife.util.MyDebug;\r\n    import com.gmail.jorgegilcavazos.ballislife.network.RedditAuthentication;\r\n    import com.gmail.jorgegilcavazos.ballislife.util.RedditUtils;\r\n    \r\n    import net.dean.jraw.http.SubmissionRequest;\r\n    import net.dean.jraw.models.CommentNode;\r\n    import net.dean.jraw.models.CommentSort;\r\n    import net.dean.jraw.models.Listing;\r\n    import net.dean.jraw.models.Submission;\r\n    import net.dean.jraw.paginators.Sorting;\r\n    import net.dean.jraw.paginators.SubredditPaginator;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class CommentThreadFragment extends Fragment {\r\n        private static final String TAG = &quot;CommentThreadFragment&quot;;\r\n    \r\n        public interface SubmissionListingFetchListener {\r\n            void onSuccess(Listing&lt;Submission&gt; submissions);\r\n            void onFailure(String message);\r\n        }\r\n    \r\n        public interface FullSubmissionFetchListener {\r\n            void onSuccess(Submission submission);\r\n            void onFailure(String message);\r\n        }\r\n    \r\n        public static final String HOME_TEAM_KEY = &quot;HOME_TEAM&quot;;\r\n        public static final String AWAY_TEAM_KEY = &quot;AWAY_TEAM&quot;;\r\n        public static final String THREAD_TYPE_KEY = &quot;THREAD_TYPE&quot;;\r\n        private static final String NBA_SUBREDDIT = &quot;nba&quot;;\r\n        private static final int SEARCH_LIMIT = 100;\r\n    \r\n        private static final int RETRY_FIND_SUBMISSION = 0;\r\n        private static final int RETRY_FETCH_COMMENTS = 1;\r\n    \r\n        private String mHomeTeam;\r\n        private String mAwayTeam;\r\n        private String mThreadId;\r\n        private boolean mFoundThreadId;\r\n        private RedditUtils.GameThreadType mThreadType;\r\n    \r\n        Context mContext;\r\n    \r\n        View rootView;\r\n        RecyclerView mRecyclerView;\r\n        RecyclerView.LayoutManager mLayoutManager;\r\n        CommentAdapter mCommentAdapter;\r\n        ProgressBar mProgressBar;\r\n        Snackbar mSnackbar;\r\n    \r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            if (getArguments() != null) {\r\n                mHomeTeam = getArguments().getString(HOME_TEAM_KEY);\r\n                mAwayTeam = getArguments().getString(AWAY_TEAM_KEY);\r\n                mThreadType = (RedditUtils.GameThreadType) getArguments().get(THREAD_TYPE_KEY);\r\n            }\r\n            setHasOptionsMenu(true);\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            rootView = inflater.inflate(R.layout.fragment_comment_thread, container, false);\r\n    \r\n            mProgressBar = (ProgressBar) rootView.findViewById(R.id.progressBar);\r\n            mRecyclerView = (RecyclerView) rootView.findViewById(R.id.comment_thread_rv);\r\n            mLayoutManager = new LinearLayoutManager(mContext);\r\n            mRecyclerView.setLayoutManager(mLayoutManager);\r\n    \r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n                mRecyclerView.setNestedScrollingEnabled(false);\r\n            } else {\r\n                ViewCompat.setNestedScrollingEnabled(mRecyclerView, false);\r\n            }\r\n    \r\n            return rootView;\r\n        }\r\n    \r\n        @Override\r\n        public void onActivityCreated(@Nullable Bundle savedInstanceState) {\r\n            super.onActivityCreated(savedInstanceState);\r\n            mContext = getActivity();\r\n    \r\n            if (mFoundThreadId) {\r\n                fetchComments();\r\n            } else {\r\n                findGameSubmission();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onPause() {\r\n            dismissSnackbar();\r\n            super.onPause();\r\n        }\r\n    \r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n            switch (item.getItemId()) {\r\n                case R.id.action_refresh:\r\n                    dismissSnackbar();\r\n                    if (mFoundThreadId) {\r\n                        fetchComments();\r\n                    } else {\r\n                        findGameSubmission();\r\n                    }\r\n                    return true;\r\n            }\r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n    \r\n        /**\r\n         * Starts a {@link FetchSubmissionListing} task that retrieves a list of submissions in the\r\n         * /r/nba subreddit. If it is successfully retrieved, it tries to find the one that belongs\r\n         * to this game and shows its comment tree.\r\n         */\r\n        private void findGameSubmission() {\r\n            AuthListener authListener = new AuthListener() {\r\n                @Override\r\n                public void onSuccess() {\r\n                    findGameSubmission();\r\n                }\r\n    \r\n                @Override\r\n                public void onFailure() {\r\n                    showSnackBar(&quot;Failed to connect to Reddit&quot;, true, RETRY_FIND_SUBMISSION);\r\n                }\r\n            };\r\n            SubmissionListingFetchListener fetchListener =  new SubmissionListingFetchListener() {\r\n                @Override\r\n                public void onSuccess(Listing&lt;Submission&gt; submissions) {\r\n                    mThreadId = RedditUtils.findNbaGameThreadId(submissions, mThreadType,\r\n                            mHomeTeam, mAwayTeam);\r\n                    if (mThreadId != null) {\r\n                        mFoundThreadId = true;\r\n                        fetchComments();\r\n                    } else {\r\n                        mFoundThreadId = false;\r\n                        showSnackBar(&quot;No comment thread found&quot;, true, RETRY_FIND_SUBMISSION);\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onFailure(String message) {\r\n                    showSnackBar(message, true, RETRY_FIND_SUBMISSION);\r\n                }\r\n            };\r\n            new FetchSubmissionListing(mContext, NBA_SUBREDDIT, SEARCH_LIMIT, Sorting.NEW,\r\n                    fetchListener, authListener).execute();\r\n        }\r\n    \r\n        /**\r\n         * Starts a {@link FetchFullSubmission} task that retrieves the Submission of the given\r\n         * submissionId. A &quot;full&quot; submissions is one that also contains its comment tree.\r\n         */\r\n        private void fetchComments() {\r\n            AuthListener authListener = new AuthListener() {\r\n                @Override\r\n                public void onSuccess() {\r\n                    fetchComments();\r\n                }\r\n    \r\n                @Override\r\n                public void onFailure() {\r\n                    showSnackBar(&quot;Failed to connect to Reddit&quot;, true, RETRY_FETCH_COMMENTS);\r\n                }\r\n            };\r\n    \r\n            FullSubmissionFetchListener fetchListener = new FullSubmissionFetchListener() {\r\n                @Override\r\n                public void onSuccess(Submission submission) {\r\n                    loadComments(submission);\r\n                }\r\n    \r\n                @Override\r\n                public void onFailure(String message) {\r\n                    showSnackBar(message, true, RETRY_FIND_SUBMISSION);\r\n                }\r\n            };\r\n            new FetchFullSubmission(mContext, mThreadId, fetchListener, authListener).execute();\r\n        }\r\n    \r\n        /**\r\n         * Loads a tree of comments into the RecyclerView, given a Reddit Submission.\r\n         */\r\n        private void loadComments(Submission submission) {\r\n            Iterable&lt;CommentNode&gt; iterable = submission.getComments().walkTree();\r\n            List&lt;CommentNode&gt; commentNodes = new ArrayList&lt;&gt;();\r\n            for (CommentNode node : iterable) {\r\n                commentNodes.add(node);\r\n            }\r\n            mCommentAdapter = new CommentAdapter(mContext, commentNodes);\r\n            mRecyclerView.setAdapter(mCommentAdapter);\r\n        }\r\n    \r\n        private void showSnackBar(String message, boolean retry, final int retryCode) {\r\n            mSnackbar = Snackbar.make(rootView, message,\r\n                    Snackbar.LENGTH_INDEFINITE);\r\n            if (retry) {\r\n                mSnackbar.setAction(&quot;RETRY&quot;, new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        switch (retryCode) {\r\n                            case RETRY_FIND_SUBMISSION:\r\n                                findGameSubmission();\r\n                                break;\r\n                            case RETRY_FETCH_COMMENTS:\r\n                                fetchComments();\r\n                                break;\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            mSnackbar.show();\r\n            mProgressBar.setVisibility(View.GONE);\r\n        }\r\n    \r\n        private void dismissSnackbar() {\r\n            if (mSnackbar != null &amp;&amp; mSnackbar.isShown()) {\r\n                mSnackbar.dismiss();\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Retrieves a Listing of Reddit Submissions, given a subreddit, a limit of submissions and a\r\n         * sorting option.\r\n         */\r\n        private class FetchSubmissionListing extends AsyncTask&lt;Void, Void, Listing&lt;Submission&gt;&gt; {\r\n            private Context mContext;\r\n            private String mSubreddit;\r\n            private int mLimit;\r\n            private Sorting mSorting;\r\n            private SubmissionListingFetchListener mFetchListener;\r\n            private AuthListener mAuthListener;\r\n    \r\n            public FetchSubmissionListing(Context context, String subreddit, int limit, Sorting sorting,\r\n                                          SubmissionListingFetchListener fetchListener,\r\n                                          AuthListener authListener) {\r\n                mContext = context;\r\n                mSubreddit = subreddit;\r\n                mLimit = limit;\r\n                mSorting = sorting;\r\n                mFetchListener = fetchListener;\r\n                mAuthListener = authListener;\r\n            }\r\n    \r\n            @Override\r\n            protected void onPreExecute() {\r\n                mProgressBar.setVisibility(View.VISIBLE);\r\n                mRecyclerView.setVisibility(View.GONE);\r\n            }\r\n    \r\n            @Override\r\n            protected Listing&lt;Submission&gt; doInBackground(Void... params) {\r\n                RedditAuthentication redditAuthentication = RedditAuthentication.getInstance();\r\n                if (redditAuthentication.getRedditClient().isAuthenticated()) {\r\n                    SubredditPaginator paginator = new SubredditPaginator(\r\n                            redditAuthentication.getRedditClient(), mSubreddit);\r\n                    paginator.setLimit(mLimit);\r\n                    paginator.setSorting(mSorting);\r\n                    try {\r\n                        return paginator.next(false /* forceNetwork */);\r\n                    } catch (Exception e) {\r\n                        if (MyDebug.LOG) {\r\n                            Log.d(TAG, &quot;Reddit auth error on FetchSubmissionListing.&quot;);\r\n                        }\r\n                    }\r\n                } else {\r\n                    mFetchListener.onFailure(&quot;Failed to connect to Reddit&quot;);\r\n                }\r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            protected void onPostExecute(Listing&lt;Submission&gt; submissions) {\r\n                if (submissions != null) {\r\n                    mFetchListener.onSuccess(submissions);\r\n                } else {\r\n                    if (!RedditAuthentication.getInstance().getRedditClient().isAuthenticated()) {\r\n                        // Attempt to authenticate once.\r\n                        RedditAuthentication.getInstance().authenticate(mContext, mAuthListener);\r\n                    }\r\n                    mFetchListener.onFailure(&quot;Failed to connect to Reddit&quot;);\r\n                }\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Retrieves a &quot;full&quot; Reddit submission given a Reddit submisisonId. A &quot;full&quot; submission is one\r\n         * that also contains its comment tree.\r\n         * The sorting of the thread is determined by mThreadType (Live game or post game).\r\n         */\r\n        private class FetchFullSubmission extends AsyncTask&lt;Void, Void, Submission&gt; {\r\n            private Context mContext;\r\n            private String mThreadId;\r\n            private FullSubmissionFetchListener mFetchListener;\r\n            private AuthListener mAuthListener;\r\n    \r\n            public FetchFullSubmission(Context context, String threadId,\r\n                                       FullSubmissionFetchListener fetchListener,\r\n                                       AuthListener authListener) {\r\n                mContext = context;\r\n                mThreadId = threadId;\r\n                mFetchListener = fetchListener;\r\n                mAuthListener = authListener;\r\n            }\r\n    \r\n            @Override\r\n            protected void onPreExecute() {\r\n                mProgressBar.setVisibility(View.VISIBLE);\r\n                mRecyclerView.setVisibility(View.GONE);\r\n            }\r\n    \r\n            @Override\r\n            protected Submission doInBackground(Void... params) {\r\n                if (mThreadId == null) {\r\n                    return null;\r\n                }\r\n                SubmissionRequest.Builder builder = new SubmissionRequest.Builder(mThreadId);\r\n                switch (mThreadType) {\r\n                    case LIVE_GAME_THREAD:\r\n                        builder.sort(CommentSort.NEW);\r\n                        break;\r\n                    case POST_GAME_THREAD:\r\n                        builder.sort(CommentSort.TOP);\r\n                        break;\r\n                    default:\r\n                        builder.sort(CommentSort.TOP);\r\n                        break;\r\n                }\r\n                SubmissionRequest submissionRequest = builder.build();\r\n                try {\r\n                    return RedditAuthentication.getInstance()\r\n                            .getRedditClient().getSubmission(submissionRequest);\r\n                } catch (Exception e) {\r\n                    if (MyDebug.LOG) {\r\n                        Log.d(TAG, &quot;Could not load submission in FetchFullSubmission.&quot;);\r\n                    }\r\n                }\r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            protected void onPostExecute(Submission submission) {\r\n                mProgressBar.setVisibility(View.GONE);\r\n                if (submission != null) {\r\n                    mFetchListener.onSuccess(submission);\r\n                    mRecyclerView.setVisibility(View.VISIBLE);\r\n                } else {\r\n                    if (!RedditAuthentication.getInstance().getRedditClient().isAuthenticated()) {\r\n                        // Attempt to re-authenticate once.\r\n                        RedditAuthentication.getInstance().authenticate(mContext, mAuthListener);\r\n                    }\r\n                    mFetchListener.onFailure(&quot;Failed to connect to Reddit&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nHow to get rid of this??\r\n\r\nScreenshots of errors\r\n:\r\n[![Error1][1]][1]\r\n[![error2][2]][2]\r\n\r\n\r\n\r\n\r\n[![CommnetThread1][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mZF3H.png\r\n  [2]: https://i.stack.imgur.com/lFfSm.png\r\n  [3]: https://i.stack.imgur.com/NvJHx.png","title":"Error: Element value must be a constant expression","body":"<p>I am trying to merge 2 android studio projects into one.\nHere's my app level build.gradle:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 23\n    buildToolsVersion \"23.0.3\"\n\n    defaultConfig {\n        applicationId \"com.cricketbuzz\"\n        minSdkVersion 19\n        targetSdkVersion 23\n        versionCode 1\n        versionName \"1.0\"\n\n        multiDexEnabled true\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            debuggable true\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    testCompile 'junit:junit:4.12'\n    compile 'com.android.support:appcompat-v7:23.4.0'\n    compile 'com.android.support:design:23.4.0'\n    compile 'com.android.support:cardview-v7:23.4.0'\n    compile 'com.android.support:recyclerview-v7:23.4.0'\n    compile 'com.github.bumptech.glide:glide:3.7.0'\n    compile 'com.github.JakeWharton:ViewPagerIndicator:2.4.1@aar'\n    compile 'com.android.support:multidex:1.0.0'\n    compile 'com.cricketbuzzsdk:CricketBuzzSDK:1.0.0'\n    compile 'com.wang.avi:library:2.1.3'\n    compile project(':basketball')\n\n}\n</code></pre>\n\n<p>Here's my library build.gradle</p>\n\n<pre><code>apply plugin: 'com.android.library'\n\nandroid {\n    signingConfigs {\n        config {\n        }\n    }\n    compileSdkVersion 23\n    buildToolsVersion \"23.0.3\"\n    defaultConfig {\n      //  applicationId \"com.gmail.jorgegilcavazos.ballislife\"\n        minSdkVersion 19\n        targetSdkVersion 23\n        versionCode 3\n        versionName \"0.1.0\"\n        signingConfig signingConfigs.config\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    packagingOptions {\n        exclude 'META-INF/LICENCE.txt'\n        exclude 'META-INF/LICENSE'\n        exclude 'META-INF/NOTICE.txt'\n    }\n    productFlavors {\n    }\n}\n\ndependencies {\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    testCompile 'junit:junit:4.12'\n    testCompile 'org.robolectric:robolectric:3.1.2'\n    compile 'com.android.support:appcompat-v7:23.4.0'\n    compile 'com.mcxiaoke.volley:library:1.0.19'\n    compile 'com.squareup.picasso:picasso:2.5.2'\n    compile 'com.google.android.gms:play-services-gcm:8.3.0'\n    compile 'com.android.support:design:23.4.0'\n    compile 'com.android.support:support-v4:23.4.0'\n    compile 'com.android.support:recyclerview-v7:23.4.0'\n    compile 'com.android.support:cardview-v7:23.4.0'\n    compile 'com.android.support:customtabs:23.3.0'\n    compile 'net.dean.jraw:JRAW:0.9.0'\n    compile 'com.google.code.gson:gson:2.7'\n    compile 'com.jakewharton:butterknife:8.4.0'\n}\n</code></pre>\n\n<p>The error I am getting is :</p>\n\n<p>C:\\Users\\karanc\\AndroidStudioProjects\\CricketBuzz\\basketball\\src\\main\\java\\com\\gmail\\jorgegilcavazos\\ballislife\\features\\games\\GameAdapter.java\nError:(112, 23) error: element value must be a constant expression</p>\n\n<p>C:\\Users\\karanc\\AndroidStudioProjects\\CricketBuzz\\basketball\\src\\main\\java\\com\\gmail\\jorgegilcavazos\\ballislife\\features\\gamethread\\CommentThreadFragment.java\nError:(127, 22) error: constant expression required</p>\n\n<p>Here are GameAdapter &amp; CommentThread files:\nGameAdapter.java</p>\n\n<pre><code>    package com.gmail.jorgegilcavazos.ballislife.features.games;\n\nimport android.content.Context;\nimport android.support.v7.widget.RecyclerView;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport com.gmail.jorgegilcavazos.ballislife.features.data.NbaGame;\nimport com.gmail.jorgegilcavazos.ballislife.R;\nimport com.gmail.jorgegilcavazos.ballislife.util.Utilities;\n\nimport java.util.List;\n\nimport butterknife.BindView;\nimport butterknife.ButterKnife;\n\nimport static android.support.design.R.styleable.RecyclerView;\n\n/**\n * RecyclerView Adapter used by the {@link GamesFragment} to display a list of games.\n */\npublic class GameAdapter extends RecyclerView.Adapter&lt;GameAdapter.GameViewHolder&gt; {\n    private Context context;\n    private List&lt;NbaGame&gt; nbaGameList;\n    private GamesFragment.GameItemListener gameItemListener;\n\n\n\n    public GameAdapter(List&lt;NbaGame&gt; nbaGames,\n                       GamesFragment.GameItemListener itemListener) {\n        nbaGameList = nbaGames;\n        gameItemListener = itemListener;\n    }\n\n    @Override\n    public GameViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.row_game,\n                parent, false);\n        context = parent.getContext();\n        return new GameViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(final GameViewHolder holder, int position) {\n        NbaGame nbaGame = nbaGameList.get(position);\n\n        int resKeyHome = context.getResources().getIdentifier(nbaGame.getHomeTeamAbbr()\n                .toLowerCase(), \"drawable\", context.getPackageName());\n        int resKeyAway = context.getResources().getIdentifier(nbaGame.getAwayTeamAbbr()\n                .toLowerCase(), \"drawable\", context.getPackageName());\n\n        holder.tvHomeTeam.setText(nbaGame.getHomeTeamAbbr());\n        holder.tvAwayTeam.setText(nbaGame.getAwayTeamAbbr());\n        holder.ivHomeLogo.setImageResource(resKeyHome);\n        holder.ivAwayLogo.setImageResource(resKeyAway);\n        holder.tvHomeScore.setText(nbaGame.getHomeTeamScore());\n        holder.tvAwayScore.setText(nbaGame.getAwayTeamScore());\n        holder.tvClock.setText(nbaGame.getGameClock());\n        holder.tvPeriod.setText(Utilities.getPeriodString(nbaGame.getPeriodValue(),\n                nbaGame.getPeriodName()));\n\n        holder.tvHomeScore.setVisibility(View.GONE);\n        holder.tvAwayScore.setVisibility(View.GONE);\n        holder.tvClock.setVisibility(View.GONE);\n        holder.tvPeriod.setVisibility(View.GONE);\n        holder.tvFinal.setVisibility(View.GONE);\n        holder.tvTime.setVisibility(View.GONE);\n\n        switch (nbaGame.getGameStatus()) {\n            case NbaGame.PRE_GAME:\n                holder.tvTime.setVisibility(View.VISIBLE);\n                holder.tvTime.setText(nbaGame.getPeriodStatus());\n                break;\n            case NbaGame.IN_GAME:\n                holder.tvHomeScore.setVisibility(View.VISIBLE);\n                holder.tvAwayScore.setVisibility(View.VISIBLE);\n                holder.tvClock.setVisibility(View.VISIBLE);\n                holder.tvPeriod.setVisibility(View.VISIBLE);\n                break;\n            case NbaGame.POST_GAME:\n                holder.tvHomeScore.setVisibility(View.VISIBLE);\n                holder.tvAwayScore.setVisibility(View.VISIBLE);\n                holder.tvFinal.setVisibility(View.VISIBLE);\n                holder.tvFinal.setText(\"FINAL\");\n                break;\n        }\n\n        holder.container.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                gameItemListener.onGameClick(nbaGameList.get(holder.getAdapterPosition()));\n            }\n        });\n    }\n\n    @Override\n    public int getItemCount() {\n        return null != nbaGameList ? nbaGameList.size() : 0;\n    }\n\n    public void swap(List&lt;NbaGame&gt; data) {\n        nbaGameList.clear();\n        nbaGameList.addAll(data);\n        notifyDataSetChanged();\n    }\n\n    public static class GameViewHolder extends RecyclerView.ViewHolder {\n        View container;\n        @BindView(R.id.homelabel) TextView tvHomeTeam;\n        @BindView(R.id.awaylabel) TextView tvAwayTeam;\n        @BindView(R.id.homescore) TextView tvHomeScore;\n        @BindView(R.id.awayscore) TextView tvAwayScore;\n        @BindView(R.id.clock) TextView tvClock;\n        @BindView(R.id.period) TextView tvPeriod;\n        @BindView(R.id.extraLabel) TextView tvTime;\n        @BindView(R.id.extraLabel2) TextView tvFinal;\n        @BindView(R.id.homeicon) ImageView ivHomeLogo;\n        @BindView(R.id.awayicon) ImageView ivAwayLogo;\n\n        public GameViewHolder(View view) {\n            super(view);\n            ButterKnife.bind(this, view);\n            container = view;\n        }\n    }\n}\n</code></pre>\n\n<p>CommentThread.java</p>\n\n<pre><code>package com.gmail.jorgegilcavazos.ballislife.features.gamethread;\n\nimport android.content.Context;\nimport android.os.AsyncTask;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.support.annotation.Nullable;\nimport android.support.design.widget.Snackbar;\nimport android.support.v4.app.Fragment;\nimport android.support.v4.view.ViewCompat;\nimport android.support.v7.widget.LinearLayoutManager;\nimport android.support.v7.widget.RecyclerView;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ProgressBar;\n\nimport com.gmail.jorgegilcavazos.ballislife.features.shared.CommentAdapter;\nimport com.gmail.jorgegilcavazos.ballislife.R;\nimport com.gmail.jorgegilcavazos.ballislife.util.AuthListener;\nimport com.gmail.jorgegilcavazos.ballislife.util.MyDebug;\nimport com.gmail.jorgegilcavazos.ballislife.network.RedditAuthentication;\nimport com.gmail.jorgegilcavazos.ballislife.util.RedditUtils;\n\nimport net.dean.jraw.http.SubmissionRequest;\nimport net.dean.jraw.models.CommentNode;\nimport net.dean.jraw.models.CommentSort;\nimport net.dean.jraw.models.Listing;\nimport net.dean.jraw.models.Submission;\nimport net.dean.jraw.paginators.Sorting;\nimport net.dean.jraw.paginators.SubredditPaginator;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class CommentThreadFragment extends Fragment {\n    private static final String TAG = \"CommentThreadFragment\";\n\n    public interface SubmissionListingFetchListener {\n        void onSuccess(Listing&lt;Submission&gt; submissions);\n        void onFailure(String message);\n    }\n\n    public interface FullSubmissionFetchListener {\n        void onSuccess(Submission submission);\n        void onFailure(String message);\n    }\n\n    public static final String HOME_TEAM_KEY = \"HOME_TEAM\";\n    public static final String AWAY_TEAM_KEY = \"AWAY_TEAM\";\n    public static final String THREAD_TYPE_KEY = \"THREAD_TYPE\";\n    private static final String NBA_SUBREDDIT = \"nba\";\n    private static final int SEARCH_LIMIT = 100;\n\n    private static final int RETRY_FIND_SUBMISSION = 0;\n    private static final int RETRY_FETCH_COMMENTS = 1;\n\n    private String mHomeTeam;\n    private String mAwayTeam;\n    private String mThreadId;\n    private boolean mFoundThreadId;\n    private RedditUtils.GameThreadType mThreadType;\n\n    Context mContext;\n\n    View rootView;\n    RecyclerView mRecyclerView;\n    RecyclerView.LayoutManager mLayoutManager;\n    CommentAdapter mCommentAdapter;\n    ProgressBar mProgressBar;\n    Snackbar mSnackbar;\n\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            mHomeTeam = getArguments().getString(HOME_TEAM_KEY);\n            mAwayTeam = getArguments().getString(AWAY_TEAM_KEY);\n            mThreadType = (RedditUtils.GameThreadType) getArguments().get(THREAD_TYPE_KEY);\n        }\n        setHasOptionsMenu(true);\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        rootView = inflater.inflate(R.layout.fragment_comment_thread, container, false);\n\n        mProgressBar = (ProgressBar) rootView.findViewById(R.id.progressBar);\n        mRecyclerView = (RecyclerView) rootView.findViewById(R.id.comment_thread_rv);\n        mLayoutManager = new LinearLayoutManager(mContext);\n        mRecyclerView.setLayoutManager(mLayoutManager);\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n            mRecyclerView.setNestedScrollingEnabled(false);\n        } else {\n            ViewCompat.setNestedScrollingEnabled(mRecyclerView, false);\n        }\n\n        return rootView;\n    }\n\n    @Override\n    public void onActivityCreated(@Nullable Bundle savedInstanceState) {\n        super.onActivityCreated(savedInstanceState);\n        mContext = getActivity();\n\n        if (mFoundThreadId) {\n            fetchComments();\n        } else {\n            findGameSubmission();\n        }\n    }\n\n    @Override\n    public void onPause() {\n        dismissSnackbar();\n        super.onPause();\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        switch (item.getItemId()) {\n            case R.id.action_refresh:\n                dismissSnackbar();\n                if (mFoundThreadId) {\n                    fetchComments();\n                } else {\n                    findGameSubmission();\n                }\n                return true;\n        }\n        return super.onOptionsItemSelected(item);\n    }\n\n    /**\n     * Starts a {@link FetchSubmissionListing} task that retrieves a list of submissions in the\n     * /r/nba subreddit. If it is successfully retrieved, it tries to find the one that belongs\n     * to this game and shows its comment tree.\n     */\n    private void findGameSubmission() {\n        AuthListener authListener = new AuthListener() {\n            @Override\n            public void onSuccess() {\n                findGameSubmission();\n            }\n\n            @Override\n            public void onFailure() {\n                showSnackBar(\"Failed to connect to Reddit\", true, RETRY_FIND_SUBMISSION);\n            }\n        };\n        SubmissionListingFetchListener fetchListener =  new SubmissionListingFetchListener() {\n            @Override\n            public void onSuccess(Listing&lt;Submission&gt; submissions) {\n                mThreadId = RedditUtils.findNbaGameThreadId(submissions, mThreadType,\n                        mHomeTeam, mAwayTeam);\n                if (mThreadId != null) {\n                    mFoundThreadId = true;\n                    fetchComments();\n                } else {\n                    mFoundThreadId = false;\n                    showSnackBar(\"No comment thread found\", true, RETRY_FIND_SUBMISSION);\n                }\n            }\n\n            @Override\n            public void onFailure(String message) {\n                showSnackBar(message, true, RETRY_FIND_SUBMISSION);\n            }\n        };\n        new FetchSubmissionListing(mContext, NBA_SUBREDDIT, SEARCH_LIMIT, Sorting.NEW,\n                fetchListener, authListener).execute();\n    }\n\n    /**\n     * Starts a {@link FetchFullSubmission} task that retrieves the Submission of the given\n     * submissionId. A \"full\" submissions is one that also contains its comment tree.\n     */\n    private void fetchComments() {\n        AuthListener authListener = new AuthListener() {\n            @Override\n            public void onSuccess() {\n                fetchComments();\n            }\n\n            @Override\n            public void onFailure() {\n                showSnackBar(\"Failed to connect to Reddit\", true, RETRY_FETCH_COMMENTS);\n            }\n        };\n\n        FullSubmissionFetchListener fetchListener = new FullSubmissionFetchListener() {\n            @Override\n            public void onSuccess(Submission submission) {\n                loadComments(submission);\n            }\n\n            @Override\n            public void onFailure(String message) {\n                showSnackBar(message, true, RETRY_FIND_SUBMISSION);\n            }\n        };\n        new FetchFullSubmission(mContext, mThreadId, fetchListener, authListener).execute();\n    }\n\n    /**\n     * Loads a tree of comments into the RecyclerView, given a Reddit Submission.\n     */\n    private void loadComments(Submission submission) {\n        Iterable&lt;CommentNode&gt; iterable = submission.getComments().walkTree();\n        List&lt;CommentNode&gt; commentNodes = new ArrayList&lt;&gt;();\n        for (CommentNode node : iterable) {\n            commentNodes.add(node);\n        }\n        mCommentAdapter = new CommentAdapter(mContext, commentNodes);\n        mRecyclerView.setAdapter(mCommentAdapter);\n    }\n\n    private void showSnackBar(String message, boolean retry, final int retryCode) {\n        mSnackbar = Snackbar.make(rootView, message,\n                Snackbar.LENGTH_INDEFINITE);\n        if (retry) {\n            mSnackbar.setAction(\"RETRY\", new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    switch (retryCode) {\n                        case RETRY_FIND_SUBMISSION:\n                            findGameSubmission();\n                            break;\n                        case RETRY_FETCH_COMMENTS:\n                            fetchComments();\n                            break;\n                    }\n                }\n            });\n        }\n        mSnackbar.show();\n        mProgressBar.setVisibility(View.GONE);\n    }\n\n    private void dismissSnackbar() {\n        if (mSnackbar != null &amp;&amp; mSnackbar.isShown()) {\n            mSnackbar.dismiss();\n        }\n    }\n\n    /**\n     * Retrieves a Listing of Reddit Submissions, given a subreddit, a limit of submissions and a\n     * sorting option.\n     */\n    private class FetchSubmissionListing extends AsyncTask&lt;Void, Void, Listing&lt;Submission&gt;&gt; {\n        private Context mContext;\n        private String mSubreddit;\n        private int mLimit;\n        private Sorting mSorting;\n        private SubmissionListingFetchListener mFetchListener;\n        private AuthListener mAuthListener;\n\n        public FetchSubmissionListing(Context context, String subreddit, int limit, Sorting sorting,\n                                      SubmissionListingFetchListener fetchListener,\n                                      AuthListener authListener) {\n            mContext = context;\n            mSubreddit = subreddit;\n            mLimit = limit;\n            mSorting = sorting;\n            mFetchListener = fetchListener;\n            mAuthListener = authListener;\n        }\n\n        @Override\n        protected void onPreExecute() {\n            mProgressBar.setVisibility(View.VISIBLE);\n            mRecyclerView.setVisibility(View.GONE);\n        }\n\n        @Override\n        protected Listing&lt;Submission&gt; doInBackground(Void... params) {\n            RedditAuthentication redditAuthentication = RedditAuthentication.getInstance();\n            if (redditAuthentication.getRedditClient().isAuthenticated()) {\n                SubredditPaginator paginator = new SubredditPaginator(\n                        redditAuthentication.getRedditClient(), mSubreddit);\n                paginator.setLimit(mLimit);\n                paginator.setSorting(mSorting);\n                try {\n                    return paginator.next(false /* forceNetwork */);\n                } catch (Exception e) {\n                    if (MyDebug.LOG) {\n                        Log.d(TAG, \"Reddit auth error on FetchSubmissionListing.\");\n                    }\n                }\n            } else {\n                mFetchListener.onFailure(\"Failed to connect to Reddit\");\n            }\n            return null;\n        }\n\n        @Override\n        protected void onPostExecute(Listing&lt;Submission&gt; submissions) {\n            if (submissions != null) {\n                mFetchListener.onSuccess(submissions);\n            } else {\n                if (!RedditAuthentication.getInstance().getRedditClient().isAuthenticated()) {\n                    // Attempt to authenticate once.\n                    RedditAuthentication.getInstance().authenticate(mContext, mAuthListener);\n                }\n                mFetchListener.onFailure(\"Failed to connect to Reddit\");\n            }\n        }\n    }\n\n    /**\n     * Retrieves a \"full\" Reddit submission given a Reddit submisisonId. A \"full\" submission is one\n     * that also contains its comment tree.\n     * The sorting of the thread is determined by mThreadType (Live game or post game).\n     */\n    private class FetchFullSubmission extends AsyncTask&lt;Void, Void, Submission&gt; {\n        private Context mContext;\n        private String mThreadId;\n        private FullSubmissionFetchListener mFetchListener;\n        private AuthListener mAuthListener;\n\n        public FetchFullSubmission(Context context, String threadId,\n                                   FullSubmissionFetchListener fetchListener,\n                                   AuthListener authListener) {\n            mContext = context;\n            mThreadId = threadId;\n            mFetchListener = fetchListener;\n            mAuthListener = authListener;\n        }\n\n        @Override\n        protected void onPreExecute() {\n            mProgressBar.setVisibility(View.VISIBLE);\n            mRecyclerView.setVisibility(View.GONE);\n        }\n\n        @Override\n        protected Submission doInBackground(Void... params) {\n            if (mThreadId == null) {\n                return null;\n            }\n            SubmissionRequest.Builder builder = new SubmissionRequest.Builder(mThreadId);\n            switch (mThreadType) {\n                case LIVE_GAME_THREAD:\n                    builder.sort(CommentSort.NEW);\n                    break;\n                case POST_GAME_THREAD:\n                    builder.sort(CommentSort.TOP);\n                    break;\n                default:\n                    builder.sort(CommentSort.TOP);\n                    break;\n            }\n            SubmissionRequest submissionRequest = builder.build();\n            try {\n                return RedditAuthentication.getInstance()\n                        .getRedditClient().getSubmission(submissionRequest);\n            } catch (Exception e) {\n                if (MyDebug.LOG) {\n                    Log.d(TAG, \"Could not load submission in FetchFullSubmission.\");\n                }\n            }\n            return null;\n        }\n\n        @Override\n        protected void onPostExecute(Submission submission) {\n            mProgressBar.setVisibility(View.GONE);\n            if (submission != null) {\n                mFetchListener.onSuccess(submission);\n                mRecyclerView.setVisibility(View.VISIBLE);\n            } else {\n                if (!RedditAuthentication.getInstance().getRedditClient().isAuthenticated()) {\n                    // Attempt to re-authenticate once.\n                    RedditAuthentication.getInstance().authenticate(mContext, mAuthListener);\n                }\n                mFetchListener.onFailure(\"Failed to connect to Reddit\");\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>How to get rid of this??</p>\n\n<p>Screenshots of errors\n:\n<a href=\"https://i.stack.imgur.com/mZF3H.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/mZF3H.png\" alt=\"Error1\"></a>\n<a href=\"https://i.stack.imgur.com/lFfSm.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lFfSm.png\" alt=\"error2\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/NvJHx.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NvJHx.png\" alt=\"CommnetThread1\"></a></p>\n"},{"tags":["java","android","json","android-recyclerview","adapter"],"comments":[{"owner":{"account_id":17597721,"reputation":647,"user_id":12768337,"display_name":"Rudra Rokaya"},"score":0,"creation_date":1645885247,"post_id":71277197,"comment_id":125990597,"body_markdown":"organization_list.addAll() try with  this method.","body":"organization_list.addAll() try with  this method."},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1645897956,"post_id":71277197,"comment_id":125993233,"body_markdown":"Can you post your view holder code?","body":"Can you post your view holder code?"},{"owner":{"account_id":24385683,"reputation":13,"user_id":18316506,"display_name":"Clair Arci"},"score":1,"creation_date":1646034727,"post_id":71277197,"comment_id":126016112,"body_markdown":"@Cheticamp I&#39;ve posted the ViewHolder. Please help me fix this one. Thanks","body":"@Cheticamp I&#39;ve posted the ViewHolder. Please help me fix this one. Thanks"},{"owner":{"account_id":24385683,"reputation":13,"user_id":18316506,"display_name":"Clair Arci"},"score":0,"creation_date":1646034778,"post_id":71277197,"comment_id":126016121,"body_markdown":"@MohammedMujalli that&#39;s what I thought too. Kindly take a look at how I fetch my data.","body":"@MohammedMujalli that&#39;s what I thought too. Kindly take a look at how I fetch my data."},{"owner":{"account_id":24385683,"reputation":13,"user_id":18316506,"display_name":"Clair Arci"},"score":0,"creation_date":1646035381,"post_id":71277197,"comment_id":126016284,"body_markdown":"@RudraRokaya Thanks but it does not work.","body":"@RudraRokaya Thanks but it does not work."},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1646055018,"post_id":71277197,"comment_id":126022604,"body_markdown":"I meant the declaration of `organizationViewHolder` which I don&#39;t see. You are sure that your array has different values and not all the same? Oh, I see the problem. You have static fields Org_Name and Org_Logo in organization_detail. Remove the static keyword and it should work OK. For all your instantiations of that class, you will only have one each of these static fields. They will be overwritten until you reach the last and all of them will have the last value written.","body":"I meant the declaration of <code>organizationViewHolder</code> which I don&#39;t see. You are sure that your array has different values and not all the same? Oh, I see the problem. You have static fields Org_Name and Org_Logo in organization_detail. Remove the static keyword and it should work OK. For all your instantiations of that class, you will only have one each of these static fields. They will be overwritten until you reach the last and all of them will have the last value written."},{"owner":{"account_id":24385683,"reputation":13,"user_id":18316506,"display_name":"Clair Arci"},"score":0,"creation_date":1646108431,"post_id":71277197,"comment_id":126036952,"body_markdown":"@Cheticamp It&#39;s working now. Thanks buddy! I think I forgot to edit that.","body":"@Cheticamp It&#39;s working now. Thanks buddy! I think I forgot to edit that."},{"owner":{"account_id":15591274,"reputation":98,"user_id":11248243,"display_name":"Mohammed Mujalli"},"score":0,"creation_date":1646125157,"post_id":71277197,"comment_id":126040764,"body_markdown":"I found the problem&#128077;","body":"I found the problemðŸ‘"}],"answers":[{"tags":[],"owner":{"account_id":15591274,"reputation":98,"user_id":11248243,"display_name":"Mohammed Mujalli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646125677,"creation_date":1646125677,"answer_id":71306036,"question_id":71277197,"body_markdown":"I have created a copy similar to your project and then found Problem \r\n\r\n    in your model just remove &quot;static&quot; \r\n    from\r\n     private static String Org_Name;\r\n     private static String Org_Logo;\r\n    to \r\n     private String Org_Name;\r\n     private String Org_Logo;\r\n\r\n","title":"RecyclerView is populating with the last item on my list (I&#39;m getting the same item)","body":"<p>I have created a copy similar to your project and then found Problem</p>\n<pre><code>in your model just remove &quot;static&quot; \nfrom\n private static String Org_Name;\n private static String Org_Logo;\nto \n private String Org_Name;\n private String Org_Logo;\n</code></pre>\n"}],"owner":{"account_id":24385683,"reputation":13,"user_id":18316506,"display_name":"Clair Arci"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71306036,"answer_count":1,"score":1,"last_activity_date":1646125677,"creation_date":1645883599,"question_id":71277197,"body_markdown":"*The Recyclerview is populating with the last item in my list*\r\n\r\n\r\n    private void loadOrganization() {\r\n            StringRequest stringRequest = new StringRequest(Request.Method.GET, URL_ORG,\r\n                    new Response.Listener&lt;String&gt;() {\r\n                        @Override\r\n                        public void onResponse(String response) {\r\n                            try {\r\n                                //converting the string to json array object\r\n                                JSONArray array = new JSONArray(response);\r\n    \r\n                                //traversing through all the object\r\n    \r\n                                for (int i = 0; i &lt; array.length(); i++) {\r\n    \r\n                                    //getting orgs object from json array\r\n                                    JSONObject organization_detail = array.getJSONObject(i);\r\n    \r\n                                    //adding the org to org list\r\n                                    organization_list.add(new organization_detail(\r\n                                            organization_detail.getInt(&quot;Org_ID&quot;),\r\n                                            organization_detail.getString(&quot;Org_Name&quot;),\r\n                                            organization_detail.getString(&quot;Org_Description&quot;),\r\n                                            organization_detail.getString(&quot;Org_Moderator&quot;),\r\n                                            organization_detail.getString(&quot;Org_President&quot;),\r\n                                            organization_detail.getString(&quot;Org_VicePresident&quot;),\r\n                                            organization_detail.getString(&quot;Org_ActiveSocMedAcc&quot;),\r\n                                            organization_detail.getString(&quot;Org_Logo&quot;),\r\n                                            organization_detail.getInt(&quot;Cluster_ID&quot;)\r\n                                    ));\r\n                                }\r\n    \r\n                                //creating adapter object and setting it to recyclerview\r\n                                organization_adapter adapter = new organization_adapter(organization.this, organization_list);\r\n                                recyclerView.setAdapter(adapter);\r\n\r\n\r\n*Here&#39;s my adapter onBindViewHolder*\r\n\r\n\r\n     @Override\r\n        public organizationViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            LayoutInflater inflater = LayoutInflater.from(mCtx);\r\n            View view = inflater.inflate(R.layout.organization_list, null);\r\n            return new organizationViewHolder(view);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull organizationViewHolder holder, int position) {\r\n    \r\n            organization_detail organization_detail = organization_list.get(position);\r\n    \r\n    \r\n    \r\n            //loading the image\r\n            Glide.with(mCtx)\r\n                    .load(organization_detail.getOrg_Logo())\r\n                    .into(holder.imageViewOrg);\r\n    \r\n            holder.textViewOrgName.setText(organization_detail.getOrg_Name());\r\n    \r\n    \r\n    \r\n        }\r\n\r\n\r\n*And this is my model*\r\n\r\n   \r\n\r\n     public class organization_detail {\r\n        private int Org_ID;\r\n        private static String Org_Name;\r\n        private String Org_Description;\r\n        private String Org_Moderator;\r\n        private String Org_President;\r\n        private String Org_VicePresident;\r\n        private String Org_ActiveSocMedAcc;\r\n        private static String Org_Logo;\r\n        private int Cluster_ID;\r\n    \r\n            public organization_detail(int Org_ID, String Org_Name, String Org_Description,String Org_Moderator,String Org_President, String Org_VicePresident, String Org_ActiveSocMedAcc,\r\n                                       String Org_Logo, int Cluster_ID){\r\n    \r\n                this.Org_ID = Org_ID;\r\n                this.Org_Name = Org_Name;\r\n                this.Org_Description = Org_Description;\r\n                this.Org_Moderator = Org_Moderator;\r\n                this.Org_President= Org_President;\r\n                this.Org_VicePresident = Org_VicePresident;\r\n                this.Org_ActiveSocMedAcc = Org_ActiveSocMedAcc;\r\n                this.Org_Logo= Org_Logo;\r\n                this.Cluster_ID= Cluster_ID;\r\n    \r\n            }\r\n                    public int getOrg_ID() {\r\n                        return Org_ID;\r\n                    }\r\n    \r\n                    public String getOrg_Name() {\r\n                        return Org_Name;\r\n                    }\r\n    \r\n                    public String getOrg_Description() {\r\n                        return Org_Description;\r\n                    }\r\n    \r\n                    public String getOrg_Moderator() {\r\n                        return Org_Moderator;\r\n                    }\r\n    \r\n                    public String getOrg_President() {\r\n                        return Org_President;\r\n                    }\r\n    \r\n                    public String getOrg_VicePresident() {\r\n                        return Org_VicePresident;\r\n                    }\r\n    \r\n                    public String getOrg_ActiveSocMedAcc() {\r\n                        return Org_ActiveSocMedAcc;\r\n                    }\r\n    \r\n                    public String getOrg_Logo() {\r\n                        return Org_Logo;\r\n                    }\r\n    \r\n                    public int getCluster_ID() {\r\n                        return Cluster_ID;\r\n                    }\r\n    \r\n    \r\n    }\r\n*This is my ViewHolder*\r\n\r\n    @Override\r\n        public organizationViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            LayoutInflater inflater = LayoutInflater.from(mCtx);\r\n            View view = inflater.inflate(R.layout.organization_list, null);\r\n            return new organizationViewHolder(view);\r\n        }\r\n\r\n*And this is how I get my data from database*\r\n\r\n    &lt;?php \r\n     \r\n    \r\n     //database constants\r\n     define(&#39;DB_HOST&#39;, &#39;localhost&#39;);\r\n     define(&#39;DB_USER&#39;, &#39;root&#39;);\r\n     define(&#39;DB_PASS&#39;, &#39;&#39;);\r\n     define(&#39;DB_NAME&#39;, &#39;orgspace&#39;);\r\n     \r\n     //connecting to database and getting the connection object\r\n     $conn = new mysqli(DB_HOST, DB_USER, DB_PASS, DB_NAME);\r\n     \r\n     //Checking if any error occured while connecting\r\n     if (mysqli_connect_errno()) {\r\n     echo &quot;Failed to connect to MySQL: &quot; . mysqli_connect_error();\r\n     die();\r\n     }\r\n     \r\n     //creating a query\r\n     $stmt = $conn-&gt;prepare(&quot;SELECT * FROM organization ORDER BY Org_Name ASC&quot;);\r\n    \r\n    \r\n    \r\n     //imgPath\r\n    $imgPath = &#39;http://192.168.1.11:80/OrgSpace/OrgSpace-Admin/logo_uploads/&#39;;\r\n    \r\n     //executing the query \r\n     $stmt-&gt;execute();\r\n     \r\n     //binding results to the query \r\n     $stmt-&gt;bind_result($Org_ID, $Org_Name, $Org_Description, $Org_Moderator, $Org_President,$Org_VicePresident, $Org_ActiveSocMedAcc,$Org_Logo,$Cluster_ID);\r\n     \r\n     $organizations = array(); \r\n     \r\n                //traversing through all the result \r\n                while($stmt-&gt;fetch()){\r\n                        $temp = array();\r\n                        $temp[&#39;Org_ID&#39;] = $Org_ID; \r\n                        $temp[&#39;Org_Name&#39;] = $Org_Name; \r\n                        $temp[&#39;Org_Description&#39;] = $Org_Description; \r\n                        $temp[&#39;Org_Moderator&#39;] = $Org_Moderator; \r\n                        $temp[&#39;Org_President&#39;] = $Org_President; \r\n                        $temp[&#39;Org_VicePresident&#39;] = $Org_VicePresident;\r\n                        $temp[&#39;Org_ActiveSocMedAcc&#39;] = $Org_ActiveSocMedAcc;\r\n                        $temp[&#39;Org_Logo&#39;] = $imgPath.$Org_Logo; \r\n                        $temp[&#39;Cluster_ID&#39;] = $Cluster_ID;\r\n    \r\n                array_push($organizations, $temp);\r\n                }\r\n                \r\n     //displaying the result in json format \r\n     echo json_encode($organizations, JSON_PRETTY_PRINT);\r\n    \r\n    \r\n    \r\n    &lt;?\r\n\r\nThe thing is it is showing the same item instead of showing different ones.This is the output that I&#39;ve been receiving. \r\n\r\n[This should output a different orgs but I keep getting the same output. I think something is wrong in the for loop and that YAHRA is the last item on my list. ][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xXkJZ.png","title":"RecyclerView is populating with the last item on my list (I&#39;m getting the same item)","body":"<p><em>The Recyclerview is populating with the last item in my list</em></p>\n<pre><code>private void loadOrganization() {\n        StringRequest stringRequest = new StringRequest(Request.Method.GET, URL_ORG,\n                new Response.Listener&lt;String&gt;() {\n                    @Override\n                    public void onResponse(String response) {\n                        try {\n                            //converting the string to json array object\n                            JSONArray array = new JSONArray(response);\n\n                            //traversing through all the object\n\n                            for (int i = 0; i &lt; array.length(); i++) {\n\n                                //getting orgs object from json array\n                                JSONObject organization_detail = array.getJSONObject(i);\n\n                                //adding the org to org list\n                                organization_list.add(new organization_detail(\n                                        organization_detail.getInt(&quot;Org_ID&quot;),\n                                        organization_detail.getString(&quot;Org_Name&quot;),\n                                        organization_detail.getString(&quot;Org_Description&quot;),\n                                        organization_detail.getString(&quot;Org_Moderator&quot;),\n                                        organization_detail.getString(&quot;Org_President&quot;),\n                                        organization_detail.getString(&quot;Org_VicePresident&quot;),\n                                        organization_detail.getString(&quot;Org_ActiveSocMedAcc&quot;),\n                                        organization_detail.getString(&quot;Org_Logo&quot;),\n                                        organization_detail.getInt(&quot;Cluster_ID&quot;)\n                                ));\n                            }\n\n                            //creating adapter object and setting it to recyclerview\n                            organization_adapter adapter = new organization_adapter(organization.this, organization_list);\n                            recyclerView.setAdapter(adapter);\n</code></pre>\n<p><em>Here's my adapter onBindViewHolder</em></p>\n<pre><code> @Override\n    public organizationViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        LayoutInflater inflater = LayoutInflater.from(mCtx);\n        View view = inflater.inflate(R.layout.organization_list, null);\n        return new organizationViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull organizationViewHolder holder, int position) {\n\n        organization_detail organization_detail = organization_list.get(position);\n\n\n\n        //loading the image\n        Glide.with(mCtx)\n                .load(organization_detail.getOrg_Logo())\n                .into(holder.imageViewOrg);\n\n        holder.textViewOrgName.setText(organization_detail.getOrg_Name());\n\n\n\n    }\n</code></pre>\n<p><em>And this is my model</em></p>\n<pre><code> public class organization_detail {\n    private int Org_ID;\n    private static String Org_Name;\n    private String Org_Description;\n    private String Org_Moderator;\n    private String Org_President;\n    private String Org_VicePresident;\n    private String Org_ActiveSocMedAcc;\n    private static String Org_Logo;\n    private int Cluster_ID;\n\n        public organization_detail(int Org_ID, String Org_Name, String Org_Description,String Org_Moderator,String Org_President, String Org_VicePresident, String Org_ActiveSocMedAcc,\n                                   String Org_Logo, int Cluster_ID){\n\n            this.Org_ID = Org_ID;\n            this.Org_Name = Org_Name;\n            this.Org_Description = Org_Description;\n            this.Org_Moderator = Org_Moderator;\n            this.Org_President= Org_President;\n            this.Org_VicePresident = Org_VicePresident;\n            this.Org_ActiveSocMedAcc = Org_ActiveSocMedAcc;\n            this.Org_Logo= Org_Logo;\n            this.Cluster_ID= Cluster_ID;\n\n        }\n                public int getOrg_ID() {\n                    return Org_ID;\n                }\n\n                public String getOrg_Name() {\n                    return Org_Name;\n                }\n\n                public String getOrg_Description() {\n                    return Org_Description;\n                }\n\n                public String getOrg_Moderator() {\n                    return Org_Moderator;\n                }\n\n                public String getOrg_President() {\n                    return Org_President;\n                }\n\n                public String getOrg_VicePresident() {\n                    return Org_VicePresident;\n                }\n\n                public String getOrg_ActiveSocMedAcc() {\n                    return Org_ActiveSocMedAcc;\n                }\n\n                public String getOrg_Logo() {\n                    return Org_Logo;\n                }\n\n                public int getCluster_ID() {\n                    return Cluster_ID;\n                }\n\n\n}\n</code></pre>\n<p><em>This is my ViewHolder</em></p>\n<pre><code>@Override\n    public organizationViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        LayoutInflater inflater = LayoutInflater.from(mCtx);\n        View view = inflater.inflate(R.layout.organization_list, null);\n        return new organizationViewHolder(view);\n    }\n</code></pre>\n<p><em>And this is how I get my data from database</em></p>\n<pre><code>&lt;?php \n \n\n //database constants\n define('DB_HOST', 'localhost');\n define('DB_USER', 'root');\n define('DB_PASS', '');\n define('DB_NAME', 'orgspace');\n \n //connecting to database and getting the connection object\n $conn = new mysqli(DB_HOST, DB_USER, DB_PASS, DB_NAME);\n \n //Checking if any error occured while connecting\n if (mysqli_connect_errno()) {\n echo &quot;Failed to connect to MySQL: &quot; . mysqli_connect_error();\n die();\n }\n \n //creating a query\n $stmt = $conn-&gt;prepare(&quot;SELECT * FROM organization ORDER BY Org_Name ASC&quot;);\n\n\n\n //imgPath\n$imgPath = 'http://192.168.1.11:80/OrgSpace/OrgSpace-Admin/logo_uploads/';\n\n //executing the query \n $stmt-&gt;execute();\n \n //binding results to the query \n $stmt-&gt;bind_result($Org_ID, $Org_Name, $Org_Description, $Org_Moderator, $Org_President,$Org_VicePresident, $Org_ActiveSocMedAcc,$Org_Logo,$Cluster_ID);\n \n $organizations = array(); \n \n            //traversing through all the result \n            while($stmt-&gt;fetch()){\n                    $temp = array();\n                    $temp['Org_ID'] = $Org_ID; \n                    $temp['Org_Name'] = $Org_Name; \n                    $temp['Org_Description'] = $Org_Description; \n                    $temp['Org_Moderator'] = $Org_Moderator; \n                    $temp['Org_President'] = $Org_President; \n                    $temp['Org_VicePresident'] = $Org_VicePresident;\n                    $temp['Org_ActiveSocMedAcc'] = $Org_ActiveSocMedAcc;\n                    $temp['Org_Logo'] = $imgPath.$Org_Logo; \n                    $temp['Cluster_ID'] = $Cluster_ID;\n\n            array_push($organizations, $temp);\n            }\n            \n //displaying the result in json format \n echo json_encode($organizations, JSON_PRETTY_PRINT);\n\n\n\n&lt;?\n</code></pre>\n<p>The thing is it is showing the same item instead of showing different ones.This is the output that I've been receiving.</p>\n<p><a href=\"https://i.stack.imgur.com/xXkJZ.png\" rel=\"nofollow noreferrer\">This should output a different orgs but I keep getting the same output. I think something is wrong in the for loop and that YAHRA is the last item on my list. </a></p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":10081074,"reputation":1138,"user_id":9040373,"display_name":"whatamidoingwithmylife"},"score":3,"creation_date":1516212677,"post_id":48307391,"comment_id":83600181,"body_markdown":"You don&#39;t map values to print statements, you map values to some other values.","body":"You don&#39;t map values to print statements, you map values to some other values."},{"owner":{"account_id":3216685,"reputation":673,"user_id":2715182,"accept_rate":10,"display_name":"user2715182"},"score":0,"creation_date":1516358744,"post_id":48307391,"comment_id":83663697,"body_markdown":"why does the following in scala \n\n &quot; val l: List [Int] = List(1,2,3);\n  l.toStream.map(x =&gt; print(x))&quot;\n\nprints 1 ?","body":"why does the following in scala    &quot; val l: List [Int] = List(1,2,3);   l.toStream.map(x =&gt; print(x))&quot;  prints 1 ?"},{"owner":{"account_id":10081074,"reputation":1138,"user_id":9040373,"display_name":"whatamidoingwithmylife"},"score":0,"creation_date":1516361939,"post_id":48307391,"comment_id":83665633,"body_markdown":"I have no experience with Scala, you should consult with someone who does.","body":"I have no experience with Scala, you should consult with someone who does."}],"answers":[{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1516217105,"creation_date":1516212660,"answer_id":48307432,"question_id":48307391,"body_markdown":"    p.entrySet().forEach(e -&gt; System.out.println(e.getKey() + &quot; &quot; + e.getValue()));\r\n\r\nor\r\n\r\n    p.forEach((key, value) -&gt; System.out.println(key + &quot; &quot; + value));\r\n\r\n","title":"using system.out.print with java streams","body":"<pre><code>p.entrySet().forEach(e -&gt; System.out.println(e.getKey() + \" \" + e.getValue()));\n</code></pre>\n\n<p>or</p>\n\n<pre><code>p.forEach((key, value) -&gt; System.out.println(key + \" \" + value));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1623927,"reputation":1318,"user_id":1582573,"display_name":"Matteo T."},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1516213118,"creation_date":1516213118,"answer_id":48307552,"question_id":48307391,"body_markdown":"If you want to use `map`:\r\n\r\n    p.entrySet().stream()\r\n                .map(e -&gt; &quot; &quot;+e.getKey()+&quot; &quot;+e.getValue())\r\n                .forEach(System.out::println);","title":"using system.out.print with java streams","body":"<p>If you want to use <code>map</code>:</p>\n\n<pre><code>p.entrySet().stream()\n            .map(e -&gt; \" \"+e.getKey()+\" \"+e.getValue())\n            .forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1887647,"reputation":5261,"user_id":1706545,"accept_rate":89,"display_name":"Daniel Taub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516390499,"creation_date":1516390499,"answer_id":48348317,"question_id":48307391,"body_markdown":"    properties.entrySet().stream()\r\n                .map(entry -&gt; String.format(&quot;%s : %s&quot;, entry.getKey(), entry.getValue()))\r\n                .forEach(System.out::println);\r\n\r\n - **.map(...)** - convert you `key-value` to a string format\r\n - **.forEach(...)** - prints your string\r\n\r\n---\r\nYour output should look like that : \r\n\r\n    address : addr-street-city\r\n    email : xyx@mail.com\r\n    name : XYX\r\n\r\n","title":"using system.out.print with java streams","body":"<pre><code>properties.entrySet().stream()\n            .map(entry -&gt; String.format(\"%s : %s\", entry.getKey(), entry.getValue()))\n            .forEach(System.out::println);\n</code></pre>\n\n<ul>\n<li><strong>.map(...)</strong> - convert you <code>key-value</code> to a string format</li>\n<li><strong>.forEach(...)</strong> - prints your string</li>\n</ul>\n\n<hr>\n\n<p>Your output should look like that : </p>\n\n<pre><code>address : addr-street-city\nemail : xyx@mail.com\nname : XYX\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12109605,"reputation":19,"user_id":8847024,"display_name":"Venkatesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646125550,"creation_date":1646113981,"answer_id":71304266,"question_id":48307391,"body_markdown":"\r\n    p.entrySet().forEach(System.out::println)\r\n\r\n`map()` should be used only if you want to alter/modify stream otherwise\r\nfor printing to the console `forEach` would do the work as it accepts `BiConsumer` to print key and value ","title":"using system.out.print with java streams","body":"<pre><code>p.entrySet().forEach(System.out::println)\n</code></pre>\n<p><code>map()</code> should be used only if you want to alter/modify stream otherwise\nfor printing to the console <code>forEach</code> would do the work as it accepts <code>BiConsumer</code> to print key and value</p>\n"}],"owner":{"account_id":3216685,"reputation":673,"user_id":2715182,"accept_rate":10,"display_name":"user2715182"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28637,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":4,"score":2,"last_activity_date":1646125550,"creation_date":1516212501,"question_id":48307391,"body_markdown":"I have the below code to map each entry to a print statement, But it shows error. &lt;br&gt;\r\nIs something wrong in the way I understood [`Stream().map()`][1]? &lt;br&gt;&lt;br&gt;\r\nHow do I use `System.out.println()` within the streams API? how do I correct the following code?\r\n  \r\n\r\n    public static void main(String[] args) {\r\n\r\n        Properties p = new Properties();\r\n        p.setProperty(&quot;name&quot;, &quot;XYX&quot;);\r\n        p.setProperty(&quot;email&quot;, &quot;xyx@mail.com&quot;);\r\n        p.setProperty(&quot;address&quot;, &quot;addr-street-city&quot;);\r\n\r\n        p.entrySet().stream().map(e -&gt;\r\n                System.out.println(&quot; &quot; + e.getKey().toString() + &quot; &quot; + e.getValue().toString() + &quot;&quot;));\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html","title":"using system.out.print with java streams","body":"<p>I have the below code to map each entry to a print statement, But it shows error. <br>\nIs something wrong in the way I understood <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\"><code>Stream().map()</code></a>? <br><br>\nHow do I use <code>System.out.println()</code> within the streams API? how do I correct the following code?</p>\n\n<pre><code>public static void main(String[] args) {\n\n    Properties p = new Properties();\n    p.setProperty(\"name\", \"XYX\");\n    p.setProperty(\"email\", \"xyx@mail.com\");\n    p.setProperty(\"address\", \"addr-street-city\");\n\n    p.entrySet().stream().map(e -&gt;\n            System.out.println(\" \" + e.getKey().toString() + \" \" + e.getValue().toString() + \"\"));\n}\n</code></pre>\n"},{"tags":["java","ftp-client","ftps"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1481501518,"post_id":41090763,"comment_id":69390112,"body_markdown":"I think we need an MCVE for this.  The 234 response code is saying that the TLS negotiation has not taken place, and see need to see the code and be able to run it to understand why.","body":"I think we need an MCVE for this.  The 234 response code is saying that the TLS negotiation has not taken place, and see need to see the code and be able to run it to understand why."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1481527495,"post_id":41090763,"comment_id":69396339,"body_markdown":"This explains: http://stackoverflow.com/help/mcve","body":"This explains: <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}],"answers":[{"tags":[],"owner":{"account_id":1551684,"reputation":1024,"user_id":1443928,"accept_rate":93,"display_name":"Hard Worker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1481694304,"creation_date":1481694304,"answer_id":41135642,"question_id":41090763,"body_markdown":"I have tried almost any possible solution offered on different websites could not make it work with Apache FTPS CLIENT , \r\nhad to use a different class which worked like a charm here is a snippet:\r\n\r\n[com.jscape.inet.ftps Link][1]\r\n\r\n\r\n\r\n\tprivate Ftps sendWithFtpsJSCAPE(ConnDetails details, InputStream stream, String filename) throws FtpException, IOException {\r\n\t\tFtps ftp;\r\n\t\tFtpConnectionDetails ftpDetails = FtpConnectionDetails details;\r\n\r\n\t\tftp = new Ftps(ftpDetails.getHost(), ftpDetails.getUsername(), ftpDetails.getPassword());\r\n\t\t\r\n\r\n\r\n\t\tif (ftpDetails.getSecurityMode().equals(FtpConnectionDetails.SecurityMode.EXPLICIT)) {\r\n\t\t\tftp.setConnectionType(Ftps.AUTH_TLS);\r\n\t\t} else {\r\n\t\t\tftp.setConnectionType(Ftps.IMPLICIT_SSL);\r\n\t\t}\r\n\t\tftp.setPort(ftpDetails.getPort());\r\n\r\n\t\tif (!ftpDetails.getFtpMode().equals(FtpMode.ACTIVE)) {\r\n\t\t\tftp.setPassive(true);\r\n\t\t}\r\n\t\tftp.setTimeout(FTPS_JSCAPE_TIME_OUT);\r\n\t\tftp.connect();\r\n\t\tftp.setBinary();\r\n\t\tftp.setDir(ftpDetails.getPath());\r\n\t\tftp.upload(stream, filename);\r\n\r\n\t\treturn ftp;\r\n\t}\r\n\r\n  [1]: http://files.jscape.com/sftp/docs/javadoc/com/jscape/inet/ftps/Ftps.html","title":"FTPS storeFile return always false Java","body":"<p>I have tried almost any possible solution offered on different websites could not make it work with Apache FTPS CLIENT , \nhad to use a different class which worked like a charm here is a snippet:</p>\n\n<p><a href=\"http://files.jscape.com/sftp/docs/javadoc/com/jscape/inet/ftps/Ftps.html\" rel=\"nofollow noreferrer\">com.jscape.inet.ftps Link</a></p>\n\n<pre><code>private Ftps sendWithFtpsJSCAPE(ConnDetails details, InputStream stream, String filename) throws FtpException, IOException {\n    Ftps ftp;\n    FtpConnectionDetails ftpDetails = FtpConnectionDetails details;\n\n    ftp = new Ftps(ftpDetails.getHost(), ftpDetails.getUsername(), ftpDetails.getPassword());\n\n\n\n    if (ftpDetails.getSecurityMode().equals(FtpConnectionDetails.SecurityMode.EXPLICIT)) {\n        ftp.setConnectionType(Ftps.AUTH_TLS);\n    } else {\n        ftp.setConnectionType(Ftps.IMPLICIT_SSL);\n    }\n    ftp.setPort(ftpDetails.getPort());\n\n    if (!ftpDetails.getFtpMode().equals(FtpMode.ACTIVE)) {\n        ftp.setPassive(true);\n    }\n    ftp.setTimeout(FTPS_JSCAPE_TIME_OUT);\n    ftp.connect();\n    ftp.setBinary();\n    ftp.setDir(ftpDetails.getPath());\n    ftp.upload(stream, filename);\n\n    return ftp;\n}\n</code></pre>\n"}],"owner":{"account_id":1551684,"reputation":1024,"user_id":1443928,"accept_rate":93,"display_name":"Hard Worker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2408,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":41135642,"answer_count":1,"score":0,"last_activity_date":1646125255,"creation_date":1481487790,"question_id":41090763,"body_markdown":"im trying to send files to FTPS server\r\nconnection method: FTPS, ACTIVE, EXPLICIT \r\n\r\n\tsetFileType(FTP.BINARY_FILE_TYPE);\r\n\tsetFileTransferMode(FTP.BLOCK_TRANSFER_MODE);\r\n\r\n\r\nChecking the reply string right after connect i got:\r\n\r\n    234 AUTH command ok. Expecting TLS Negotiation.\r\n \r\n\r\n  \r\nfrom [here][1]\r\n\r\n     234\tSpecifies that the server accepts the authentication mechanism specified by the client, and the exchange of security data is complete. A higher level nonstandard code created by Microsoft.\r\n\r\nwhile trying to send file with storeFile  or storeUniqeFile i get false\r\n\r\nchecking the reply string right after store file i got: `501 Server cannot accept argument.`\r\n\r\nwhat is weird i was able creating a directory to this client without any issues\r\nwith `makeDirectory(&quot;test1&quot;);`\r\n\r\ni was trying both this links : [link1][2] , [link2][3]\r\n\r\n\r\nFOR EXAMPLE when i was trying `to use ftp.enterLocalPassiveMode(); before ftp.storeFile(destinationfile, in);`\r\ni got time out error .\r\n\r\n\r\nDoes anyone have any idea how to solve it ?\r\n\r\n\r\n    public static void main(String[] args) throws Exception {\r\n    \r\n    \tFTPSProvider ftps = new FTPSProvider();\r\n    \tString json =    &quot;connection details&quot;;\r\n    \tDeliveryDetailsFTPS details = gson.fromJson(json, DeliveryDetailsFTPS .class);\r\n    \tFile file = File.createTempFile(&quot;test&quot;, &quot;.txt&quot;);\r\n    \tFileUtils.write(file, &quot; some test&quot;, true);\r\n    \ttry (FileInputStream stream = new FileInputStream(file)) {\r\n    \t\tftps.sendInternal(ftps.getClient(details), details, stream, file.getName());\r\n    \t}\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    protected void sendInternal(FTPClient client, DeliveryDetailsFTPS  details, InputStream stream, String filename) throws Exception {\r\n    \r\n    \ttry {\r\n    \t\t// release the enc\r\n    \t\tDeliveryDetailsFTPS ftpDetails = (DeliveryDetailsFTPS) details;\r\n    \t\tsetClient(client, ftpDetails);\r\n    \t\tboolean isSaved = false;\r\n    \t\ttry (BufferedInputStream bis = new BufferedInputStream(stream)) {\r\n    \t\t\tisSaved = client.storeFile(filename, bis);\r\n    \t\t}\r\n    \t\tclient.makeDirectory(&quot;test1&quot;);\r\n    \t\tclient.logout();\r\n    \t\tif (!isSaved) {\r\n    \t\t\tthrow new IOException(&quot;Unable to upload file to FTP&quot;);\r\n    \t\t}\r\n    \t} catch (Exception ex) {\r\n    \t\tLOG.debug(&quot;Unable to send to FTP&quot;, ex);\r\n    \t\tthrow ex;\r\n    \t} finally {\r\n    \t\tclient.disconnect();\r\n    \t}\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    @Override\r\n    protected FTPClient getClient(DeliveryDetails details) {\r\n    \treturn new FTPSClient(isImplicitSSL((DeliveryDetailsFTPS ) details));\r\n    }\r\n    \r\n    \tprotected void setClient(FTPClient client, DeliveryDetailsFTPS details) throws Exception {\r\n    \t\tDeliveryDetailsFTPS ftpDetails = (DeliveryDetailsFTPS ) details;\r\n    \t\tclient.setConnectTimeout(100000);\r\n    \t\tclient.setDefaultTimeout(10000 * 60 * 2);\r\n    \t\t \r\n    \t\t\tclient.setControlKeepAliveReplyTimeout(300);\r\n    \t\t \r\n    \t\t\t  client.setControlKeepAliveTimeout(300);\r\n    \t \r\n    \t\tclient.setDataTimeout(15000);\r\n    \t\tclient.connect(ftpDetails.host, ftpDetails.port);\r\n    \t\tclient.setBufferSize(1024 * 1024);\r\n    \t\tclient.login(ftpDetails.username, ftpDetails.getSensitiveData());\r\n    \t\tclient.setControlEncoding(&quot;UTF-8&quot;);\r\n    \r\n    \t\tint code = client.getReplyCode();\r\n    \t\tif (code == 530) {\r\n    \t\t\tthrow new IOException(client.getReplyString());\r\n    \t\t}\r\n    \r\n    \t\t// Set binary file transfer\r\n    \t\tclient.setFileType(FTP.BINARY_FILE_TYPE);\r\n    \t\tclient.setFileTransferMode(FTP.BLOCK_TRANSFER_MODE);\r\n    \r\n    \t\tif (ftpDetails.ftpMode == FtpMode.PASSIVE) {\r\n    \t\t\tclient.enterLocalPassiveMode();\r\n    \t\t}\r\n    \r\n    \t\t client.changeWorkingDirectory(ftpDetails.path);\r\n    \t}\r\n\r\nI have tried [this][4] solution as well didn&#39;t solve the problem:\r\n\r\n\r\n\r\nthey only way i was able send file is with FileZilla and it is using FTPES .\r\nBut i need my Java code to do it . can anyone give me a clue\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/List_of_FTP_server_return_codes\r\n  [2]: https://stackoverflow.com/questions/8154115/ftpclient-storefile-always-return-false\r\n  [3]: https://social.msdn.microsoft.com/Forums/en-US/324f30a0-3740-4260-9eb5-349274c3351d/ftp-501-server-cannot-accept-argument?forum=iispublishing\r\n  [4]: https://stackoverflow.com/questions/21453716/android-ftp-file-tranfer-over-explicit-tls","title":"FTPS storeFile return always false Java","body":"<p>im trying to send files to FTPS server\nconnection method: FTPS, ACTIVE, EXPLICIT</p>\n<pre><code>setFileType(FTP.BINARY_FILE_TYPE);\nsetFileTransferMode(FTP.BLOCK_TRANSFER_MODE);\n</code></pre>\n<p>Checking the reply string right after connect i got:</p>\n<pre><code>234 AUTH command ok. Expecting TLS Negotiation.\n</code></pre>\n<p>from <a href=\"https://en.wikipedia.org/wiki/List_of_FTP_server_return_codes\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code> 234    Specifies that the server accepts the authentication mechanism specified by the client, and the exchange of security data is complete. A higher level nonstandard code created by Microsoft.\n</code></pre>\n<p>while trying to send file with storeFile  or storeUniqeFile i get false</p>\n<p>checking the reply string right after store file i got: <code>501 Server cannot accept argument.</code></p>\n<p>what is weird i was able creating a directory to this client without any issues\nwith <code>makeDirectory(&quot;test1&quot;);</code></p>\n<p>i was trying both this links : <a href=\"https://stackoverflow.com/questions/8154115/ftpclient-storefile-always-return-false\">link1</a> , <a href=\"https://social.msdn.microsoft.com/Forums/en-US/324f30a0-3740-4260-9eb5-349274c3351d/ftp-501-server-cannot-accept-argument?forum=iispublishing\" rel=\"nofollow noreferrer\">link2</a></p>\n<p>FOR EXAMPLE when i was trying <code>to use ftp.enterLocalPassiveMode(); before ftp.storeFile(destinationfile, in);</code>\ni got time out error .</p>\n<p>Does anyone have any idea how to solve it ?</p>\n<pre><code>public static void main(String[] args) throws Exception {\n\n    FTPSProvider ftps = new FTPSProvider();\n    String json =    &quot;connection details&quot;;\n    DeliveryDetailsFTPS details = gson.fromJson(json, DeliveryDetailsFTPS .class);\n    File file = File.createTempFile(&quot;test&quot;, &quot;.txt&quot;);\n    FileUtils.write(file, &quot; some test&quot;, true);\n    try (FileInputStream stream = new FileInputStream(file)) {\n        ftps.sendInternal(ftps.getClient(details), details, stream, file.getName());\n    }\n}\n\n\n\n\nprotected void sendInternal(FTPClient client, DeliveryDetailsFTPS  details, InputStream stream, String filename) throws Exception {\n\n    try {\n        // release the enc\n        DeliveryDetailsFTPS ftpDetails = (DeliveryDetailsFTPS) details;\n        setClient(client, ftpDetails);\n        boolean isSaved = false;\n        try (BufferedInputStream bis = new BufferedInputStream(stream)) {\n            isSaved = client.storeFile(filename, bis);\n        }\n        client.makeDirectory(&quot;test1&quot;);\n        client.logout();\n        if (!isSaved) {\n            throw new IOException(&quot;Unable to upload file to FTP&quot;);\n        }\n    } catch (Exception ex) {\n        LOG.debug(&quot;Unable to send to FTP&quot;, ex);\n        throw ex;\n    } finally {\n        client.disconnect();\n    }\n}\n\n\n\n\n@Override\nprotected FTPClient getClient(DeliveryDetails details) {\n    return new FTPSClient(isImplicitSSL((DeliveryDetailsFTPS ) details));\n}\n\n    protected void setClient(FTPClient client, DeliveryDetailsFTPS details) throws Exception {\n        DeliveryDetailsFTPS ftpDetails = (DeliveryDetailsFTPS ) details;\n        client.setConnectTimeout(100000);\n        client.setDefaultTimeout(10000 * 60 * 2);\n         \n            client.setControlKeepAliveReplyTimeout(300);\n         \n              client.setControlKeepAliveTimeout(300);\n     \n        client.setDataTimeout(15000);\n        client.connect(ftpDetails.host, ftpDetails.port);\n        client.setBufferSize(1024 * 1024);\n        client.login(ftpDetails.username, ftpDetails.getSensitiveData());\n        client.setControlEncoding(&quot;UTF-8&quot;);\n\n        int code = client.getReplyCode();\n        if (code == 530) {\n            throw new IOException(client.getReplyString());\n        }\n\n        // Set binary file transfer\n        client.setFileType(FTP.BINARY_FILE_TYPE);\n        client.setFileTransferMode(FTP.BLOCK_TRANSFER_MODE);\n\n        if (ftpDetails.ftpMode == FtpMode.PASSIVE) {\n            client.enterLocalPassiveMode();\n        }\n\n         client.changeWorkingDirectory(ftpDetails.path);\n    }\n</code></pre>\n<p>I have tried <a href=\"https://stackoverflow.com/questions/21453716/android-ftp-file-tranfer-over-explicit-tls\">this</a> solution as well didn't solve the problem:</p>\n<p>they only way i was able send file is with FileZilla and it is using FTPES .\nBut i need my Java code to do it . can anyone give me a clue</p>\n"},{"tags":["java","macos","installation","homebrew"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1645870412,"post_id":71275726,"comment_id":125987974,"body_markdown":"Youâ€™ll need to reload your shell after updating `.zshrc`","body":"Youâ€™ll need to reload your shell after updating <code>.zshrc</code>"},{"owner":{"account_id":16473864,"reputation":15,"user_id":11902322,"display_name":"Sheikku"},"score":0,"creation_date":1645871394,"post_id":71275726,"comment_id":125988131,"body_markdown":"Didnâ€™t work....","body":"Didnâ€™t work...."}],"answers":[{"tags":[],"owner":{"account_id":14906491,"reputation":759,"user_id":10763533,"display_name":"Haren S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645877840,"creation_date":1645877840,"answer_id":71276575,"question_id":71275726,"body_markdown":"&gt; ln: /Library/Java/JavaVirtualMachines/openjdk-11.jdk: No such file or directory\r\n\r\nThe purpose of the linking command is to create the file `openjdk-11.jdk` in the stated directory. The error suggests that this directory doesn&#39;t actually exist.\r\n\r\nTry creating the directory `/Library/Java/JavaVirtualMachines/` and rerunning the linking command.","title":"Why brew installion failed?","body":"<blockquote>\n<p>ln: /Library/Java/JavaVirtualMachines/openjdk-11.jdk: No such file or directory</p>\n</blockquote>\n<p>The purpose of the linking command is to create the file <code>openjdk-11.jdk</code> in the stated directory. The error suggests that this directory doesn't actually exist.</p>\n<p>Try creating the directory <code>/Library/Java/JavaVirtualMachines/</code> and rerunning the linking command.</p>\n"}],"owner":{"account_id":16473864,"reputation":15,"user_id":11902322,"display_name":"Sheikku"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3354,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1646125024,"creation_date":1645869964,"question_id":71275726,"body_markdown":"I installed java11 using Home Brew but that failed. So some help needed to get Java works!\r\n\r\nThanks for advance!\r\n\r\n    admin@mac ~ % brew install java11\r\n    Warning: openjdk@11 11.0.12 is already installed and up-to-date.\r\n    To reinstall 11.0.12, run:  \r\n    brew reinstall openjdk@11\r\n\r\nThen brew reinstall java11\r\n\r\n  \r\n\r\n     admin@mac  ~ % brew reinstall java11\r\n        ==&gt; Downloading https://ghcr.io/v2/homebrew/core/openjdk/11/manifests/11.0.12\r\n        Already downloaded: /Users/admin/Library/Caches/Homebrew/downloads/45acc78f00cc0cf39a75f562f544fd9b61dc415df386dd1cb9b886c1f553252d--openjdk@11-11.0.12.bottle_manifest.json\r\n        ==&gt; Downloading https://ghcr.io/v2/homebrew/core/openjdk/11/blobs/sha256:dbf0b347060474c1aa0fbe3e58e33f4d81337e6f49209761da130ee776d66355\r\n        Already downloaded: /Users/admin/Library/Caches/Homebrew/downloads/f08afa8f068cb282e649564e38b9fbe4aafc8e7f0d7b969fa17651c6df2f14e5--openjdk@11--11.0.12.arm64_big_sur.bottle.tar.gz\r\n        ==&gt; Reinstalling openjdk@11\r\n        ==&gt; Pouring openjdk@11--11.0.12.arm64_big_sur.bottle.tar.gz\r\n        ==&gt; Caveats\r\n        For the system Java wrappers to find this JDK, symlink it with\r\n          sudo ln -sfn /opt/homebrew/opt/openjdk@11/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-11.jdk\r\n        \r\n        openjdk@11 is keg-only, which means it was not symlinked into /opt/homebrew,\r\n        because this is an alternate version of another formula.\r\n        \r\n        If you need to have openjdk@11 first in your PATH, run:\r\n          echo &#39;export PATH=&quot;/opt/homebrew/opt/openjdk@11/bin:$PATH&quot;&#39; &gt;&gt; ~/.zshrc\r\n        \r\n        For compilers to find openjdk@11 you may need to set:\r\n          export CPPFLAGS=&quot;-I/opt/homebrew/opt/openjdk@11/include&quot;\r\n        \r\n        ==&gt; Summary\r\n        &#127866;  /opt/homebrew/Cellar/openjdk@11/11.0.12: 670 files, 273.0MB\r\n        ==&gt; Running `brew cleanup openjdk@11`...\r\n        Disable this behaviour by setting HOMEBREW_NO_INSTALL_CLEANUP.\r\n        Hide these hints with HOMEBREW_NO_ENV_HINTS (see `man brew`).\r\n\r\nAfter reinstall:\r\n\r\n       admin@mac ~ % echo &#39;export PATH=&quot;/opt/homebrew/opt/openjdk@11/bin:$PATH&quot;&#39; &gt;&gt; ~/.zshrc\r\n\r\nAnd test java -version\r\n\r\n    admin@mac ~ % java -version\r\n    The operation couldnâ€™t be completed. Unable to locate a Java Runtime.\r\n    Please visit http://www.java.com for information on installing Java.\r\n\r\nAlso:\r\n\r\n    admin@mac ~ %  sudo ln -sfn /opt/homebrew/opt/openjdk@11/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-11.jdk\r\n    Password:\r\n    ln: /Library/Java/JavaVirtualMachines/openjdk-11.jdk: No such file or directory\r\n\r\n","title":"Why brew installion failed?","body":"<p>I installed java11 using Home Brew but that failed. So some help needed to get Java works!</p>\n<p>Thanks for advance!</p>\n<pre><code>admin@mac ~ % brew install java11\nWarning: openjdk@11 11.0.12 is already installed and up-to-date.\nTo reinstall 11.0.12, run:  \nbrew reinstall openjdk@11\n</code></pre>\n<p>Then brew reinstall java11</p>\n<pre><code> admin@mac  ~ % brew reinstall java11\n    ==&gt; Downloading https://ghcr.io/v2/homebrew/core/openjdk/11/manifests/11.0.12\n    Already downloaded: /Users/admin/Library/Caches/Homebrew/downloads/45acc78f00cc0cf39a75f562f544fd9b61dc415df386dd1cb9b886c1f553252d--openjdk@11-11.0.12.bottle_manifest.json\n    ==&gt; Downloading https://ghcr.io/v2/homebrew/core/openjdk/11/blobs/sha256:dbf0b347060474c1aa0fbe3e58e33f4d81337e6f49209761da130ee776d66355\n    Already downloaded: /Users/admin/Library/Caches/Homebrew/downloads/f08afa8f068cb282e649564e38b9fbe4aafc8e7f0d7b969fa17651c6df2f14e5--openjdk@11--11.0.12.arm64_big_sur.bottle.tar.gz\n    ==&gt; Reinstalling openjdk@11\n    ==&gt; Pouring openjdk@11--11.0.12.arm64_big_sur.bottle.tar.gz\n    ==&gt; Caveats\n    For the system Java wrappers to find this JDK, symlink it with\n      sudo ln -sfn /opt/homebrew/opt/openjdk@11/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-11.jdk\n    \n    openjdk@11 is keg-only, which means it was not symlinked into /opt/homebrew,\n    because this is an alternate version of another formula.\n    \n    If you need to have openjdk@11 first in your PATH, run:\n      echo 'export PATH=&quot;/opt/homebrew/opt/openjdk@11/bin:$PATH&quot;' &gt;&gt; ~/.zshrc\n    \n    For compilers to find openjdk@11 you may need to set:\n      export CPPFLAGS=&quot;-I/opt/homebrew/opt/openjdk@11/include&quot;\n    \n    ==&gt; Summary\n    ðŸº  /opt/homebrew/Cellar/openjdk@11/11.0.12: 670 files, 273.0MB\n    ==&gt; Running `brew cleanup openjdk@11`...\n    Disable this behaviour by setting HOMEBREW_NO_INSTALL_CLEANUP.\n    Hide these hints with HOMEBREW_NO_ENV_HINTS (see `man brew`).\n</code></pre>\n<p>After reinstall:</p>\n<pre><code>   admin@mac ~ % echo 'export PATH=&quot;/opt/homebrew/opt/openjdk@11/bin:$PATH&quot;' &gt;&gt; ~/.zshrc\n</code></pre>\n<p>And test java -version</p>\n<pre><code>admin@mac ~ % java -version\nThe operation couldnâ€™t be completed. Unable to locate a Java Runtime.\nPlease visit http://www.java.com for information on installing Java.\n</code></pre>\n<p>Also:</p>\n<pre><code>admin@mac ~ %  sudo ln -sfn /opt/homebrew/opt/openjdk@11/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-11.jdk\nPassword:\nln: /Library/Java/JavaVirtualMachines/openjdk-11.jdk: No such file or directory\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1527823251,"post_id":50635621,"comment_id":88281184,"body_markdown":"Just inject ApplicationContextProvider into the code that needs the ApplicationContext (or make that code ApplicationContextAware itself)","body":"Just inject ApplicationContextProvider into the code that needs the ApplicationContext (or make that code ApplicationContextAware itself)"},{"owner":{"account_id":13691290,"reputation":121,"user_id":9878996,"display_name":"Allen"},"score":0,"creation_date":1528235658,"post_id":50635621,"comment_id":88428047,"body_markdown":"Tried injecting the ApplicationContextProvider into my  code but still I have the same nulllpointer","body":"Tried injecting the ApplicationContextProvider into my  code but still I have the same nulllpointer"}],"answers":[{"tags":[],"owner":{"account_id":1533902,"reputation":1584,"user_id":1430428,"accept_rate":40,"display_name":"piy26"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527826158,"creation_date":1527826158,"answer_id":50635976,"question_id":50635621,"body_markdown":"This worked for me with your code. I could get the application start time after fetching the provider from the context.\r\n\r\n\t@RestController\r\n\tpublic class SampleController {\r\n\r\n\t\t\r\n\t\t@Inject\r\n\t\tApplicationContextProvider provider;\r\n\t\t\r\n\t\t@RequestMapping(value = &quot;..&quot;, method = RequestMethod.GET)\r\n\t\tpublic ResponseEntity&lt;String&gt; someMethod() throws IOException {\r\n\t\t\tApplicationContext  c = provider.getApplicationContext();\r\n\t\t\tSystem.out.println(c.getApplicationName());\r\n\t\t\tc.getStartupDate()\r\n\t\t}\r\n\t}","title":"Not able to get application context object using ApplicationContextAware","body":"<p>This worked for me with your code. I could get the application start time after fetching the provider from the context.</p>\n\n<pre><code>@RestController\npublic class SampleController {\n\n\n    @Inject\n    ApplicationContextProvider provider;\n\n    @RequestMapping(value = \"..\", method = RequestMethod.GET)\n    public ResponseEntity&lt;String&gt; someMethod() throws IOException {\n        ApplicationContext  c = provider.getApplicationContext();\n        System.out.println(c.getApplicationName());\n        c.getStartupDate()\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13691290,"reputation":121,"user_id":9878996,"display_name":"Allen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":822,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646124925,"creation_date":1527822997,"question_id":50635621,"body_markdown":"i have a microservice application developed using spring boot. i also have a project under under the same application which contains some java classes (non spring classes). i am trying to use some of the beans which are available in the spring container in this non java class using the ApplicationContextAware approach. when i debug the code during the bootrun, i can see the setApplicationContext(ApplicationContext ctx) is getting call and the context is getting set.\r\n\r\nwhen from inside my non spring java class when i tried to get the instance of the context using the public static getApplicationContext(), i am getting null for context.\r\n\r\nbelow is the sample example i had used.\r\n\r\n\r\n\r\n\r\n    @Component\r\n    public class ApplicationContextProvider implements ApplicationContextAware {\r\n        private static ApplicationContext context;\r\n     \r\n        public ApplicationContext getApplicationContext() {\r\n            return context;\r\n        }\r\n     \r\n        @Override\r\n        public void setApplicationContext(ApplicationContext ctx) {\r\n            context = ctx;\r\n              \r\n        }\r\n    }\r\n\r\nthis is how i try to get the instance \r\n\r\n    ApplicationContext  c = ApplicationContextProvider.getApplicationContext();\r\n\r\n\r\ni am not able to figure it out what is missing here, as i am using spring boot, i dont think there is a need to configure any bean in xml.\r\n\r\n\r\n\r\n","title":"Not able to get application context object using ApplicationContextAware","body":"<p>i have a microservice application developed using spring boot. i also have a project under under the same application which contains some java classes (non spring classes). i am trying to use some of the beans which are available in the spring container in this non java class using the ApplicationContextAware approach. when i debug the code during the bootrun, i can see the setApplicationContext(ApplicationContext ctx) is getting call and the context is getting set.</p>\n\n<p>when from inside my non spring java class when i tried to get the instance of the context using the public static getApplicationContext(), i am getting null for context.</p>\n\n<p>below is the sample example i had used.</p>\n\n<pre><code>@Component\npublic class ApplicationContextProvider implements ApplicationContextAware {\n    private static ApplicationContext context;\n\n    public ApplicationContext getApplicationContext() {\n        return context;\n    }\n\n    @Override\n    public void setApplicationContext(ApplicationContext ctx) {\n        context = ctx;\n\n    }\n}\n</code></pre>\n\n<p>this is how i try to get the instance </p>\n\n<pre><code>ApplicationContext  c = ApplicationContextProvider.getApplicationContext();\n</code></pre>\n\n<p>i am not able to figure it out what is missing here, as i am using spring boot, i dont think there is a need to configure any bean in xml.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1646123990,"post_id":71305707,"comment_id":126040357,"body_markdown":"`itemlist_b.removeIf(b -&gt; itemlist_a.stream().anyMatch(a -&gt; a.name.equals(b.name)));`","body":"<code>itemlist_b.removeIf(b -&gt; itemlist_a.stream().anyMatch(a -&gt; a.name.equals(b.name)));</code>"}],"answers":[{"tags":[],"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646124031,"creation_date":1646124031,"answer_id":71305756,"question_id":71305707,"body_markdown":"I don&#39;t think this is a good application for streams, but you could do it like this:\r\n\r\n    itemlist_a.stream().filter(e -&gt; !itemlist_b.contains(e)).collect(Collectors.toList());\r\n\r\nThis will give you a list of all items which are in itemlist_a but not in itemlist_b.\r\nHowever streams are designed for functional programming which means that they should not rely on variables outside the stream. In this case itemlist_b is not in the stream but does influence the outcome of the function. It will work however.","title":"Java arraylist find missing fields using streams","body":"<p>I don't think this is a good application for streams, but you could do it like this:</p>\n<pre><code>itemlist_a.stream().filter(e -&gt; !itemlist_b.contains(e)).collect(Collectors.toList());\n</code></pre>\n<p>This will give you a list of all items which are in itemlist_a but not in itemlist_b.\nHowever streams are designed for functional programming which means that they should not rely on variables outside the stream. In this case itemlist_b is not in the stream but does influence the outcome of the function. It will work however.</p>\n"},{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646124330,"creation_date":1646124330,"answer_id":71305810,"question_id":71305707,"body_markdown":"The simplest approach is to override `equals` and `hashCode` in Item, then use `removeAll` on the superset to retain the difference:\r\n\r\n    //the Item class\r\n\t@Override\r\n\tpublic int hashCode() {\r\n\t\t// TODO\r\n\t\treturn Objects.hashCode(name);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean equals(Object obj) {\r\n\t\t// TODO: implement\r\n\t\treturn this.name.equals(((item) obj).name);\r\n\t}\r\n\r\nThen you can get the difference:\r\n\r\n    itemlist_b.removeAll(itemlist_a);\r\n\r\nWhat will be left in `itemlist_b` after that call will be the difference. If you want `itemlist_b` to be unchanged, you can do the same thing using a copy\r\n\r\n    List&lt;Item&gt; diff = new ArrayList&lt;&gt;(itemlist_b);\r\n    diff.removeAll(itemlist_a);\r\n\r\nAnd you have the difference in `diff`.\r\n\r\n---\r\n\r\nSince you&#39;re using lists, you just need to pay attention to your business logic with respect to duplicates. `removeAll` will remove all matching elements.","title":"Java arraylist find missing fields using streams","body":"<p>The simplest approach is to override <code>equals</code> and <code>hashCode</code> in Item, then use <code>removeAll</code> on the superset to retain the difference:</p>\n<pre><code>//the Item class\n@Override\npublic int hashCode() {\n    // TODO\n    return Objects.hashCode(name);\n}\n\n@Override\npublic boolean equals(Object obj) {\n    // TODO: implement\n    return this.name.equals(((item) obj).name);\n}\n</code></pre>\n<p>Then you can get the difference:</p>\n<pre><code>itemlist_b.removeAll(itemlist_a);\n</code></pre>\n<p>What will be left in <code>itemlist_b</code> after that call will be the difference. If you want <code>itemlist_b</code> to be unchanged, you can do the same thing using a copy</p>\n<pre><code>List&lt;Item&gt; diff = new ArrayList&lt;&gt;(itemlist_b);\ndiff.removeAll(itemlist_a);\n</code></pre>\n<p>And you have the difference in <code>diff</code>.</p>\n<hr />\n<p>Since you're using lists, you just need to pay attention to your business logic with respect to duplicates. <code>removeAll</code> will remove all matching elements.</p>\n"},{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646124703,"creation_date":1646124703,"answer_id":71305878,"question_id":71305707,"body_markdown":"**Java List API**&lt;br&gt;\r\ncopy of one list and then remove all the elements common with the other\r\n\r\n    List&lt;Item&gt; differences = new ArrayList&lt;&gt;(itemlist_b);\r\n    differences.removeAll(itemlist_a);\r\n\r\n**Streams API**&lt;BR&gt;\r\n\r\n    List&lt;Item&gt; differences = itemlist_b.stream()\r\n                .filter(element -&gt; !itemlist_a.contains(element))\r\n                .collect(Collectors.toList());\r\n\r\n**[Google Guava][1]**\r\n\r\n    List&lt;Item&gt; differences = new ArrayList&lt;&gt;(Sets.difference(Sets.newHashSet(itemlist_a), Sets.newHashSet(itemlist_b)));\r\n\r\n**[Apache Commons Collections][2]**\r\n\r\n    List&lt;Item&gt; differences = new ArrayList&lt;&gt;((CollectionUtils.removeAll(itemlist_b, itemlist_a)));\r\n\r\n\r\n  [1]: https://guava.dev/releases/22.0/api/docs/com/google/common/collect/Sets.html\r\n  [2]: https://commons.apache.org/proper/commons-collections/","title":"Java arraylist find missing fields using streams","body":"<p><strong>Java List API</strong><br>\ncopy of one list and then remove all the elements common with the other</p>\n<pre><code>List&lt;Item&gt; differences = new ArrayList&lt;&gt;(itemlist_b);\ndifferences.removeAll(itemlist_a);\n</code></pre>\n<p><strong>Streams API</strong><BR></p>\n<pre><code>List&lt;Item&gt; differences = itemlist_b.stream()\n            .filter(element -&gt; !itemlist_a.contains(element))\n            .collect(Collectors.toList());\n</code></pre>\n<p><strong><a href=\"https://guava.dev/releases/22.0/api/docs/com/google/common/collect/Sets.html\" rel=\"nofollow noreferrer\">Google Guava</a></strong></p>\n<pre><code>List&lt;Item&gt; differences = new ArrayList&lt;&gt;(Sets.difference(Sets.newHashSet(itemlist_a), Sets.newHashSet(itemlist_b)));\n</code></pre>\n<p><strong><a href=\"https://commons.apache.org/proper/commons-collections/\" rel=\"nofollow noreferrer\">Apache Commons Collections</a></strong></p>\n<pre><code>List&lt;Item&gt; differences = new ArrayList&lt;&gt;((CollectionUtils.removeAll(itemlist_b, itemlist_a)));\n</code></pre>\n"}],"owner":{"account_id":6090414,"reputation":348,"user_id":11758203,"display_name":"Rahul SK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":675,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71305878,"answer_count":3,"score":0,"last_activity_date":1646124703,"creation_date":1646123732,"question_id":71305707,"body_markdown":"I have this below code.\r\nTwo sets of arraylist.\r\nHow do I use streams to iterate and compare itemlist_a and itemlist_b to detect that c and d is missing in itemlist_b?\r\nOf course I can use the traditional for loop, but is there a different way to achieve using streams or something else?\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n        class item {\r\n\t        String name;\r\n\r\n\t    public item(String name) {\r\n\t\t    this.name = name;\r\n\t    }\r\n    }\r\n    \r\n    public class Test {\r\n\t    public static void main(String[] args) {\r\n\t\t    List&lt;item&gt; itemlist_a = new ArrayList&lt;item&gt;();\r\n\t\t    itemlist_a.add(new item(&quot;a&quot;));\r\n\t\t    itemlist_a.add(new item(&quot;b&quot;));\r\n\r\n\t\t    List&lt;item&gt; itemlist_b = new ArrayList&lt;item&gt;();\r\n\t\t    itemlist_b.add(new item(&quot;a&quot;));\r\n\t\t    itemlist_b.add(new item(&quot;b&quot;));\r\n\t\t    itemlist_b.add(new item(&quot;c&quot;));\r\n\t\t    itemlist_b.add(new item(&quot;d&quot;));\r\n\t    }\r\n    }\r\n","title":"Java arraylist find missing fields using streams","body":"<p>I have this below code.\nTwo sets of arraylist.\nHow do I use streams to iterate and compare itemlist_a and itemlist_b to detect that c and d is missing in itemlist_b?\nOf course I can use the traditional for loop, but is there a different way to achieve using streams or something else?</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\n    class item {\n        String name;\n\n    public item(String name) {\n        this.name = name;\n    }\n}\n\npublic class Test {\n    public static void main(String[] args) {\n        List&lt;item&gt; itemlist_a = new ArrayList&lt;item&gt;();\n        itemlist_a.add(new item(&quot;a&quot;));\n        itemlist_a.add(new item(&quot;b&quot;));\n\n        List&lt;item&gt; itemlist_b = new ArrayList&lt;item&gt;();\n        itemlist_b.add(new item(&quot;a&quot;));\n        itemlist_b.add(new item(&quot;b&quot;));\n        itemlist_b.add(new item(&quot;c&quot;));\n        itemlist_b.add(new item(&quot;d&quot;));\n    }\n}\n</code></pre>\n"},{"tags":["java","visual-c++","dll"],"comments":[{"owner":{"account_id":13047412,"reputation":2792,"user_id":9428851,"display_name":"Victor Gubin"},"score":0,"creation_date":1522757513,"post_id":49628163,"comment_id":86266283,"body_markdown":"Where have you find javafx-gradle-plugin version 8.8.2 the last one stabile is 8.8.0 according to the [releases](https://github.com/FibreFoX/javafx-gradle-plugin/releases). Please downgrade the plugin version.","body":"Where have you find javafx-gradle-plugin version 8.8.2 the last one stabile is 8.8.0 according to the <a href=\"https://github.com/FibreFoX/javafx-gradle-plugin/releases\" rel=\"nofollow noreferrer\">releases</a>. Please downgrade the plugin version."},{"owner":{"account_id":4105,"reputation":281424,"user_id":6068,"accept_rate":65,"display_name":"Pablo Fernandez"},"score":0,"creation_date":1522759002,"post_id":49628163,"comment_id":86267288,"body_markdown":"Generally I get my libraries from Maven central: https://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22de.dynamicfiles.projects.gradle.plugins%22%20AND%20a%3A%22javafx-gradle-plugin%22","body":"Generally I get my libraries from Maven central: <a href=\"https://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22de.dynamicfiles.projects.gradle.plugins%22%20AND%20a%3A%22javafx-gradle-plugin%22\" rel=\"nofollow noreferrer\">search.maven.org/&hellip;</a>"},{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":0,"creation_date":1522784674,"post_id":49628163,"comment_id":86283652,"body_markdown":"You probably already ensured that to requirements mentioned in the gradle pluginâ€˜s page are fulfilled?! As the javafx gradle plugin seems to be a wrapper for javapackager only you  should check this requirements as well.","body":"You probably already ensured that to requirements mentioned in the gradle pluginâ€˜s page are fulfilled?! As the javafx gradle plugin seems to be a wrapper for javapackager only you  should check this requirements as well."},{"owner":{"account_id":4105,"reputation":281424,"user_id":6068,"accept_rate":65,"display_name":"Pablo Fernandez"},"score":0,"creation_date":1522787898,"post_id":49628163,"comment_id":86285182,"body_markdown":"@dpr: I&#39;m sorry, what requirement?","body":"@dpr: I&#39;m sorry, what requirement?"},{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":0,"creation_date":1522788146,"post_id":49628163,"comment_id":86285279,"body_markdown":"The pluginâ€˜s [github page](https://github.com/FibreFoX/javafx-gradle-plugin/blob/newyear2018release/README.md) mentions some OS specific requirements. It also links the [official documentation of javapackager](https://docs.oracle.com/javase/8/docs/technotes/guides/deploy/self-contained-packaging.html#A1324980) where the requirements are explained in more detail. Eg inno setup needs to be installed and available on the path.","body":"The pluginâ€˜s <a href=\"https://github.com/FibreFoX/javafx-gradle-plugin/blob/newyear2018release/README.md\" rel=\"nofollow noreferrer\">github page</a> mentions some OS specific requirements. It also links the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/deploy/self-contained-packaging.html#A1324980\" rel=\"nofollow noreferrer\">official documentation of javapackager</a> where the requirements are explained in more detail. Eg inno setup needs to be installed and available on the path."},{"owner":{"account_id":4105,"reputation":281424,"user_id":6068,"accept_rate":65,"display_name":"Pablo Fernandez"},"score":0,"creation_date":1522788244,"post_id":49628163,"comment_id":86285315,"body_markdown":"@dpr: oh... yes. I have those. javafxpackager wouldn&#39;t do much without them and I&#39;m successfully packaging this app with other versions of the JVM.","body":"@dpr: oh... yes. I have those. javafxpackager wouldn&#39;t do much without them and I&#39;m successfully packaging this app with other versions of the JVM."}],"answers":[{"tags":[],"owner":{"account_id":2221916,"reputation":2848,"user_id":1961102,"display_name":"FibreFoX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646124663,"creation_date":1646124663,"answer_id":71305869,"question_id":49628163,"body_markdown":"Maintainer of the javafx-maven-plugin/Author of the javafx-gradle-plugin here!\r\n\r\nEven if this is a very old post, and I did not see this one before (sorry), I might have an answer to this issue. And it happens even today.\r\n\r\nWhile debugging an issue on the plugin (https://github.com/javafx-maven-plugin/javafx-maven-plugin/issues/395) I found that sometimes there are 2 files missing inside the JDK itself.\r\n\r\nIn case someone has installed any non-Oracle JDK, e.g. OpenLogic, the provided files are incomplete.\r\n\r\nThe JDK provided by OpenLogic (other others) provides a file called `ant-javafx.jar`, where all the system native files are contained (can be found inside the installed JDK in the lib-folder). That file is missing the required runtime files, that are required by the launcher.\r\n\r\nHere a screenshot of what it looks like with OracleJDK:  \r\n\r\n[![content of Oracle JDK file][1]][1]  \r\n\r\n\r\n\r\nHere a screenshot of what it looks with OpenLogic JDK:  \r\n\r\n[![content of OpenLogic JDK][2]][2]\r\n\r\n\r\nAs you can see, there are files missing in there, which makes that JDK not equivalent to the OracleJDK sadly.\r\n\r\nOn maven-plugin level I can not do anything here to fix this, but you might be able to fix that by modifying that JAR-file by adding the missing files. You should be able to find them on your local windows installation at `C:\\Windows\\System32\\vcruntime140.dll` or `C:\\Windows\\System32\\msvcp140.dll`. If these files are missing, you just can download a official runtime installer of these Visual C++ Redistributable files here:\r\n\r\n* for 32-bit: https://aka.ms/vs/16/release/vc_redist.x86.exe\r\n* for 64-bit: https://aka.ms/vs/16/release/vc_redist.x64.exe\r\n\r\nAnother alternative would be to install a different OpenJDK, for example ojdkbuild (https://github.com/ojdkbuild/ojdkbuild). Using chocolatey on Windows just makes this a one-liner `choco install ojdkbuild8` and does contain these required files.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XNt4o.png\r\n  [2]: https://i.stack.imgur.com/IvPSQ.png","title":"Where/how to get the MSVC dlls Java 1.8.0_144 wants?","body":"<p>Maintainer of the javafx-maven-plugin/Author of the javafx-gradle-plugin here!</p>\n<p>Even if this is a very old post, and I did not see this one before (sorry), I might have an answer to this issue. And it happens even today.</p>\n<p>While debugging an issue on the plugin (<a href=\"https://github.com/javafx-maven-plugin/javafx-maven-plugin/issues/395\" rel=\"nofollow noreferrer\">https://github.com/javafx-maven-plugin/javafx-maven-plugin/issues/395</a>) I found that sometimes there are 2 files missing inside the JDK itself.</p>\n<p>In case someone has installed any non-Oracle JDK, e.g. OpenLogic, the provided files are incomplete.</p>\n<p>The JDK provided by OpenLogic (other others) provides a file called <code>ant-javafx.jar</code>, where all the system native files are contained (can be found inside the installed JDK in the lib-folder). That file is missing the required runtime files, that are required by the launcher.</p>\n<p>Here a screenshot of what it looks like with OracleJDK:</p>\n<p><a href=\"https://i.stack.imgur.com/XNt4o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XNt4o.png\" alt=\"content of Oracle JDK file\" /></a></p>\n<p>Here a screenshot of what it looks with OpenLogic JDK:</p>\n<p><a href=\"https://i.stack.imgur.com/IvPSQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IvPSQ.png\" alt=\"content of OpenLogic JDK\" /></a></p>\n<p>As you can see, there are files missing in there, which makes that JDK not equivalent to the OracleJDK sadly.</p>\n<p>On maven-plugin level I can not do anything here to fix this, but you might be able to fix that by modifying that JAR-file by adding the missing files. You should be able to find them on your local windows installation at <code>C:\\Windows\\System32\\vcruntime140.dll</code> or <code>C:\\Windows\\System32\\msvcp140.dll</code>. If these files are missing, you just can download a official runtime installer of these Visual C++ Redistributable files here:</p>\n<ul>\n<li>for 32-bit: <a href=\"https://aka.ms/vs/16/release/vc_redist.x86.exe\" rel=\"nofollow noreferrer\">https://aka.ms/vs/16/release/vc_redist.x86.exe</a></li>\n<li>for 64-bit: <a href=\"https://aka.ms/vs/16/release/vc_redist.x64.exe\" rel=\"nofollow noreferrer\">https://aka.ms/vs/16/release/vc_redist.x64.exe</a></li>\n</ul>\n<p>Another alternative would be to install a different OpenJDK, for example ojdkbuild (<a href=\"https://github.com/ojdkbuild/ojdkbuild\" rel=\"nofollow noreferrer\">https://github.com/ojdkbuild/ojdkbuild</a>). Using chocolatey on Windows just makes this a one-liner <code>choco install ojdkbuild8</code> and does contain these required files.</p>\n"}],"owner":{"account_id":4105,"reputation":281424,"user_id":6068,"accept_rate":65,"display_name":"Pablo Fernandez"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646124663,"creation_date":1522752469,"question_id":49628163,"body_markdown":"I&#39;m experimenting with building my application with Java 1.8.0_144 to workaround [an issue that apparently started after that](https://stackoverflow.com/questions/49455712/failed-to-find-library-jvm-dll-whats-going-on-here). I run this command to build:\r\n\r\n    gradle jfxNative -Dorg.gradle.java.home=&quot;c:\\Program Files\\Java\\jdk1.8.0_144&quot;\r\n\r\nand it stops with this error:\r\n\r\n    Execution failed for task &#39;:jfxNative&#39;.\r\n    &gt; Not found MSVC dlls\r\n\r\nWhere and how do I get these MSVC dlls?\r\n\r\nThe full output looks like this:\r\n\r\n    c:\\...\\&gt;gradle jfxNative -Dorg.gradle.java.home=&quot;c:\\Program Files\\Java\\jdk1.8.0_144&quot;\r\n    \r\n    &gt; Task :jfxNative \r\n    The jar lib\\lombok-1.16.18.jar has a main class lombok.launch.Main that does not match the declared main tech.dashman.dashman.ConfiguratorApp\r\n    The jar lib\\jna-4.5.0.jar has a main class com.sun.jna.Native that does not match the declared main tech.dashman.dashman.ConfiguratorApp\r\n    The jar lib\\javassist-3.22.0-CR2.jar has a main class javassist.CtClass that does not match the declared main tech.dashman.dashman.ConfiguratorApp\r\n    \r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:jfxNative&#39;.\r\n    &gt; Not found MSVC dlls\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 8s\r\n    5 actionable tasks: 2 executed, 3 up-to-date\r\n\r\nMy current list of dependencies look like this:\r\n\r\n    dependencies {\r\n        compile &quot;tech.dashman:dashmancommon:1.0.0-SNAPSHOT&quot;\r\n        compile &quot;org.projectlombok:lombok:1.16.18&quot;\r\n        compile &quot;org.springframework:spring-web:5.0.2.RELEASE&quot;\r\n        compile &quot;org.springframework.retry:spring-retry:1.2.2.RELEASE&quot;\r\n        compile &quot;com.fasterxml.jackson.core:jackson-databind:2.9.3&quot;\r\n        compile &quot;org.kordamp.ikonli:ikonli-javafx:2.1.0&quot;\r\n        compile &quot;org.kordamp.ikonli:ikonli-fontawesome5-pack:2.1.1&quot;\r\n        compile &quot;net.harawata:appdirs:1.0.1&quot;\r\n        compile &quot;io.sentry:sentry:1.6.4&quot;\r\n        compile &quot;org.javassist:javassist:3.22.0-CR2&quot;\r\n        testCompile &quot;junit:junit:4.12&quot;\r\n    }\r\n\r\nI tried adding\r\n\r\n    compile &quot;net.java.dev.jna:jna-platform:4.5.1&quot;\r\n\r\nto that list but I&#39;m still getting the same error when trying to build the installer.\r\n\r\nAdding it to my `buildscript` `dependencies` did not change the error either:\r\n\r\n    buildscript {\r\n        repositories {\r\n            mavenCentral()\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n            classpath &quot;de.dynamicfiles.projects.gradle.plugins:javafx-gradle-plugin:8.8.2&quot;\r\n            classpath &quot;com.github.ben-manes:gradle-versions-plugin:0.17.0&quot;\r\n            classpath &quot;de.dynamicfiles.projects.javafx.bundler:custom-file-extension-windows-bundler:1.0.2-SNAPSHOT&quot;\r\n            classpath &quot;net.java.dev.jna:jna-platform:4.5.1&quot;\r\n        }\r\n    }","title":"Where/how to get the MSVC dlls Java 1.8.0_144 wants?","body":"<p>I'm experimenting with building my application with Java 1.8.0_144 to workaround <a href=\"https://stackoverflow.com/questions/49455712/failed-to-find-library-jvm-dll-whats-going-on-here\">an issue that apparently started after that</a>. I run this command to build:</p>\n\n<pre><code>gradle jfxNative -Dorg.gradle.java.home=\"c:\\Program Files\\Java\\jdk1.8.0_144\"\n</code></pre>\n\n<p>and it stops with this error:</p>\n\n<pre><code>Execution failed for task ':jfxNative'.\n&gt; Not found MSVC dlls\n</code></pre>\n\n<p>Where and how do I get these MSVC dlls?</p>\n\n<p>The full output looks like this:</p>\n\n<pre><code>c:\\...\\&gt;gradle jfxNative -Dorg.gradle.java.home=\"c:\\Program Files\\Java\\jdk1.8.0_144\"\n\n&gt; Task :jfxNative \nThe jar lib\\lombok-1.16.18.jar has a main class lombok.launch.Main that does not match the declared main tech.dashman.dashman.ConfiguratorApp\nThe jar lib\\jna-4.5.0.jar has a main class com.sun.jna.Native that does not match the declared main tech.dashman.dashman.ConfiguratorApp\nThe jar lib\\javassist-3.22.0-CR2.jar has a main class javassist.CtClass that does not match the declared main tech.dashman.dashman.ConfiguratorApp\n\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':jfxNative'.\n&gt; Not found MSVC dlls\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 8s\n5 actionable tasks: 2 executed, 3 up-to-date\n</code></pre>\n\n<p>My current list of dependencies look like this:</p>\n\n<pre><code>dependencies {\n    compile \"tech.dashman:dashmancommon:1.0.0-SNAPSHOT\"\n    compile \"org.projectlombok:lombok:1.16.18\"\n    compile \"org.springframework:spring-web:5.0.2.RELEASE\"\n    compile \"org.springframework.retry:spring-retry:1.2.2.RELEASE\"\n    compile \"com.fasterxml.jackson.core:jackson-databind:2.9.3\"\n    compile \"org.kordamp.ikonli:ikonli-javafx:2.1.0\"\n    compile \"org.kordamp.ikonli:ikonli-fontawesome5-pack:2.1.1\"\n    compile \"net.harawata:appdirs:1.0.1\"\n    compile \"io.sentry:sentry:1.6.4\"\n    compile \"org.javassist:javassist:3.22.0-CR2\"\n    testCompile \"junit:junit:4.12\"\n}\n</code></pre>\n\n<p>I tried adding</p>\n\n<pre><code>compile \"net.java.dev.jna:jna-platform:4.5.1\"\n</code></pre>\n\n<p>to that list but I'm still getting the same error when trying to build the installer.</p>\n\n<p>Adding it to my <code>buildscript</code> <code>dependencies</code> did not change the error either:</p>\n\n<pre><code>buildscript {\n    repositories {\n        mavenCentral()\n        jcenter()\n    }\n    dependencies {\n        classpath \"de.dynamicfiles.projects.gradle.plugins:javafx-gradle-plugin:8.8.2\"\n        classpath \"com.github.ben-manes:gradle-versions-plugin:0.17.0\"\n        classpath \"de.dynamicfiles.projects.javafx.bundler:custom-file-extension-windows-bundler:1.0.2-SNAPSHOT\"\n        classpath \"net.java.dev.jna:jna-platform:4.5.1\"\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1656805,"reputation":298,"user_id":1526137,"accept_rate":67,"display_name":"Juanjo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1411907030,"creation_date":1396512606,"answer_id":22831521,"question_id":22084307,"body_markdown":"I had the same problem, and well, the solution was simple, do not use any widget, simply use the [RemoteControlClientCompat](http://developer.android.com/reference/android/media/RemoteControlClient.html) class. Here is my lockScreenControls() method code , which I call whenever I want to show this type of control (when plays a song). This is which GooglePlayMusic does.\r\n\r\n    private void lockScreenControls() {\r\n\r\n        // Use the media button APIs (if available) to register ourselves for media button\r\n        // events\r\n\r\n        MediaButtonHelper.registerMediaButtonEventReceiverCompat(mAudioManager, mMediaButtonReceiverComponent);\r\n        // Use the remote control APIs (if available) to set the playback state\r\n        if (mRemoteControlClientCompat == null) {\r\n            Intent intent = new Intent(Intent.ACTION_MEDIA_BUTTON);\r\n            intent.setComponent(mMediaButtonReceiverComponent);\r\n            mRemoteControlClientCompat = new RemoteControlClientCompat(PendingIntent.getBroadcast(this /*context*/,0 /*requestCode, ignored*/, intent /*intent*/, 0 /*flags*/));\r\n            RemoteControlHelper.registerRemoteControlClient(mAudioManager,mRemoteControlClientCompat);\r\n        }\r\n        mRemoteControlClientCompat.setPlaybackState(RemoteControlClient.PLAYSTATE_PLAYING);\r\n        mRemoteControlClientCompat.setTransportControlFlags(\r\n                RemoteControlClient.FLAG_KEY_MEDIA_PAUSE |\r\n                RemoteControlClient.FLAG_KEY_MEDIA_PREVIOUS |\r\n                RemoteControlClient.FLAG_KEY_MEDIA_NEXT |\r\n                RemoteControlClient.FLAG_KEY_MEDIA_STOP);\r\n    \r\n      //update remote controls\r\n        mRemoteControlClientCompat.editMetadata(true)\r\n                .putString(MediaMetadataRetriever.METADATA_KEY_ARTIST, &quot;NombreArtista&quot;)\r\n                .putString(MediaMetadataRetriever.METADATA_KEY_ALBUM, &quot;Titulo Album&quot;)\r\n                .putString(MediaMetadataRetriever.METADATA_KEY_TITLE, nombreCancion)\r\n                //.putLong(MediaMetadataRetriever.METADATA_KEY_DURATION,playingItem.getDuration())\r\n                        // TODO: fetch real item artwork\r\n                .putBitmap(RemoteControlClientCompat.MetadataEditorCompat.METADATA_KEY_ARTWORK, getAlbumArt())\r\n                .apply();\r\n        }\r\n    }\r\n\r\n\r\n*************EDIT**************\r\n\r\nRemoteControlClientCompat class:\r\n\r\n    \r\n    @SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;})\r\n    public class RemoteControlClientCompat {\r\n\r\n    private static final String TAG = &quot;RemoteControlCompat&quot;;\r\n\r\n    private static Class sRemoteControlClientClass;\r\n\r\n    // RCC short for RemoteControlClient\r\n    private static Method sRCCEditMetadataMethod;\r\n    private static Method sRCCSetPlayStateMethod;\r\n    private static Method sRCCSetTransportControlFlags;\r\n\r\n    private static boolean sHasRemoteControlAPIs = false;\r\n\r\n    static {\r\n        try {\r\n            ClassLoader classLoader = RemoteControlClientCompat.class.getClassLoader();\r\n            sRemoteControlClientClass = getActualRemoteControlClientClass(classLoader);\r\n            // dynamically populate the playstate and flag values in case they change\r\n            // in future versions.\r\n            for (Field field : RemoteControlClientCompat.class.getFields()) {\r\n                try {\r\n                    Field realField = sRemoteControlClientClass.getField(field.getName());\r\n                    Object realValue = realField.get(null);\r\n                    field.set(null, realValue);\r\n                } catch (NoSuchFieldException e) {\r\n                    Log.w(TAG, &quot;Could not get real field: &quot; + field.getName());\r\n                } catch (IllegalArgumentException e) {\r\n                    Log.w(TAG, &quot;Error trying to pull field value for: &quot; + field.getName()\r\n                            + &quot; &quot; + e.getMessage());\r\n                } catch (IllegalAccessException e) {\r\n                    Log.w(TAG, &quot;Error trying to pull field value for: &quot; + field.getName()\r\n                            + &quot; &quot; + e.getMessage());\r\n                }\r\n            }\r\n\r\n            // get the required public methods on RemoteControlClient\r\n            sRCCEditMetadataMethod = sRemoteControlClientClass.getMethod(&quot;editMetadata&quot;,\r\n                    boolean.class);\r\n            sRCCSetPlayStateMethod = sRemoteControlClientClass.getMethod(&quot;setPlaybackState&quot;,\r\n                    int.class);\r\n            sRCCSetTransportControlFlags = sRemoteControlClientClass.getMethod(\r\n                    &quot;setTransportControlFlags&quot;, int.class);\r\n\r\n            sHasRemoteControlAPIs = true;\r\n        } catch (ClassNotFoundException e) {\r\n            // Silently fail when running on an OS before ICS.\r\n        } catch (NoSuchMethodException e) {\r\n            // Silently fail when running on an OS before ICS.\r\n        } catch (IllegalArgumentException e) {\r\n            // Silently fail when running on an OS before ICS.\r\n        } catch (SecurityException e) {\r\n            // Silently fail when running on an OS before ICS.\r\n        }\r\n    }\r\n\r\n    public static Class getActualRemoteControlClientClass(ClassLoader classLoader)\r\n            throws ClassNotFoundException {\r\n        return classLoader.loadClass(&quot;android.media.RemoteControlClient&quot;);\r\n    }\r\n\r\n    private Object mActualRemoteControlClient;\r\n\r\n    public RemoteControlClientCompat(PendingIntent pendingIntent) {\r\n        if (!sHasRemoteControlAPIs) {\r\n            return;\r\n        }\r\n        try {\r\n            mActualRemoteControlClient =\r\n                    sRemoteControlClientClass.getConstructor(PendingIntent.class)\r\n                            .newInstance(pendingIntent);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public RemoteControlClientCompat(PendingIntent pendingIntent, Looper looper) {\r\n        if (!sHasRemoteControlAPIs) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            mActualRemoteControlClient =\r\n                    sRemoteControlClientClass.getConstructor(PendingIntent.class, Looper.class)\r\n                            .newInstance(pendingIntent, looper);\r\n        } catch (Exception e) {\r\n            Log.e(TAG, &quot;Error creating new instance of &quot; + sRemoteControlClientClass.getName(), e);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Class used to modify metadata in a {@link android.media.RemoteControlClient} object. Use\r\n     * {@link android.media.RemoteControlClient#editMetadata(boolean)} to create an instance of an\r\n     * editor, on which you set the metadata for the RemoteControlClient instance. Once all the\r\n     * information has been set, use {@link #apply()} to make it the new metadata that should be\r\n     * displayed for the associated client. Once the metadata has been &quot;applied&quot;, you cannot reuse\r\n     * this instance of the MetadataEditor.\r\n     */\r\n    public class MetadataEditorCompat {\r\n\r\n        private Method mPutStringMethod;\r\n        private Method mPutBitmapMethod;\r\n        private Method mPutLongMethod;\r\n        private Method mClearMethod;\r\n        private Method mApplyMethod;\r\n\r\n        private Object mActualMetadataEditor;\r\n\r\n        /**\r\n         * The metadata key for the content artwork / album art.\r\n         */\r\n        public final static int METADATA_KEY_ARTWORK = 100;\r\n\r\n        private MetadataEditorCompat(Object actualMetadataEditor) {\r\n            if (sHasRemoteControlAPIs &amp;&amp; actualMetadataEditor == null) {\r\n                throw new IllegalArgumentException(&quot;Remote Control API&#39;s exist, &quot; +\r\n                        &quot;should not be given a null MetadataEditor&quot;);\r\n            }\r\n            if (sHasRemoteControlAPIs) {\r\n                Class metadataEditorClass = actualMetadataEditor.getClass();\r\n\r\n                try {\r\n                    mPutStringMethod = metadataEditorClass.getMethod(&quot;putString&quot;,\r\n                            int.class, String.class);\r\n                    mPutBitmapMethod = metadataEditorClass.getMethod(&quot;putBitmap&quot;,\r\n                            int.class, Bitmap.class);\r\n                    mPutLongMethod = metadataEditorClass.getMethod(&quot;putLong&quot;,\r\n                            int.class, long.class);\r\n                    mClearMethod = metadataEditorClass.getMethod(&quot;clear&quot;, new Class[]{});\r\n                    mApplyMethod = metadataEditorClass.getMethod(&quot;apply&quot;, new Class[]{});\r\n                } catch (Exception e) {\r\n                    throw new RuntimeException(e.getMessage(), e);\r\n                }\r\n            }\r\n            mActualMetadataEditor = actualMetadataEditor;\r\n        }\r\n\r\n        /**\r\n         * Adds textual information to be displayed.\r\n         * Note that none of the information added after {@link #apply()} has been called,\r\n         * will be displayed.\r\n         * @param key The identifier of a the metadata field to set. Valid values are\r\n         *      {@link android.media.MediaMetadataRetriever#METADATA_KEY_ALBUM},\r\n         *      {@link android.media.MediaMetadataRetriever#METADATA_KEY_ALBUMARTIST},\r\n         *      {@link android.media.MediaMetadataRetriever#METADATA_KEY_TITLE},\r\n         *      {@link android.media.MediaMetadataRetriever#METADATA_KEY_ARTIST},\r\n         *      {@link android.media.MediaMetadataRetriever#METADATA_KEY_AUTHOR},\r\n         *      {@link android.media.MediaMetadataRetriever#METADATA_KEY_COMPILATION},\r\n         *      {@link android.media.MediaMetadataRetriever#METADATA_KEY_COMPOSER},\r\n         *      {@link android.media.MediaMetadataRetriever#METADATA_KEY_DATE},\r\n         *      {@link android.media.MediaMetadataRetriever#METADATA_KEY_GENRE},\r\n         *      {@link android.media.MediaMetadataRetriever#METADATA_KEY_TITLE},\r\n         *      {@link android.media.MediaMetadataRetriever#METADATA_KEY_WRITER}.\r\n         * @param value The text for the given key, or {@code null} to signify there is no valid\r\n         *      information for the field.\r\n         * @return Returns a reference to the same MetadataEditor object, so you can chain put\r\n         *      calls together.\r\n         */\r\n        public MetadataEditorCompat putString(int key, String value) {\r\n            if (sHasRemoteControlAPIs) {\r\n                try {\r\n                    mPutStringMethod.invoke(mActualMetadataEditor, key, value);\r\n                } catch (Exception e) {\r\n                    throw new RuntimeException(e.getMessage(), e);\r\n                }\r\n            }\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * Sets the album / artwork picture to be displayed on the remote control.\r\n         * @param key the identifier of the bitmap to set. The only valid value is\r\n         *      {@link #METADATA_KEY_ARTWORK}\r\n         * @param bitmap The bitmap for the artwork, or null if there isn&#39;t any.\r\n         * @return Returns a reference to the same MetadataEditor object, so you can chain put\r\n         *      calls together.\r\n         * @throws IllegalArgumentException\r\n         * @see android.graphics.Bitmap\r\n         */\r\n        public MetadataEditorCompat putBitmap(int key, Bitmap bitmap) {\r\n            if (sHasRemoteControlAPIs) {\r\n                try {\r\n                    mPutBitmapMethod.invoke(mActualMetadataEditor, key, bitmap);\r\n                } catch (Exception e) {\r\n                    throw new RuntimeException(e.getMessage(), e);\r\n                }\r\n            }\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * Adds numerical information to be displayed.\r\n         * Note that none of the information added after {@link #apply()} has been called,\r\n         * will be displayed.\r\n         * @param key the identifier of a the metadata field to set. Valid values are\r\n         *      {@link android.media.MediaMetadataRetriever#METADATA_KEY_CD_TRACK_NUMBER},\r\n         *      {@link android.media.MediaMetadataRetriever#METADATA_KEY_DISC_NUMBER},\r\n         *      {@link android.media.MediaMetadataRetriever#METADATA_KEY_DURATION} (with a value\r\n         *      expressed in milliseconds),\r\n         *      {@link android.media.MediaMetadataRetriever#METADATA_KEY_YEAR}.\r\n         * @param value The long value for the given key\r\n         * @return Returns a reference to the same MetadataEditor object, so you can chain put\r\n         *      calls together.\r\n         * @throws IllegalArgumentException\r\n         */\r\n        public MetadataEditorCompat putLong(int key, long value) {\r\n            if (sHasRemoteControlAPIs) {\r\n                try {\r\n                    mPutLongMethod.invoke(mActualMetadataEditor, key, value);\r\n                } catch (Exception e) {\r\n                    throw new RuntimeException(e.getMessage(), e);\r\n                }\r\n            }\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * Clears all the metadata that has been set since the MetadataEditor instance was\r\n         * created with {@link android.media.RemoteControlClient#editMetadata(boolean)}.\r\n         */\r\n        public void clear() {\r\n            if (sHasRemoteControlAPIs) {\r\n                try {\r\n                    mClearMethod.invoke(mActualMetadataEditor, (Object[]) null);\r\n                } catch (Exception e) {\r\n                    throw new RuntimeException(e.getMessage(), e);\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Associates all the metadata that has been set since the MetadataEditor instance was\r\n         * created with {@link android.media.RemoteControlClient#editMetadata(boolean)}, or since\r\n         * {@link #clear()} was called, with the RemoteControlClient. Once &quot;applied&quot;, this\r\n         * MetadataEditor cannot be reused to edit the RemoteControlClient&#39;s metadata.\r\n         */\r\n        public void apply() {\r\n            if (sHasRemoteControlAPIs) {\r\n                try {\r\n                    mApplyMethod.invoke(mActualMetadataEditor, (Object[]) null);\r\n                } catch (Exception e) {\r\n                    throw new RuntimeException(e.getMessage(), e);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Creates a {@link android.media.RemoteControlClient.MetadataEditor}.\r\n     * @param startEmpty Set to false if you want the MetadataEditor to contain the metadata that\r\n     *     was previously applied to the RemoteControlClient, or true if it is to be created empty.\r\n     * @return a new MetadataEditor instance.\r\n     */\r\n    public MetadataEditorCompat editMetadata(boolean startEmpty) {\r\n        Object metadataEditor;\r\n        if (sHasRemoteControlAPIs) {\r\n            try {\r\n                metadataEditor = sRCCEditMetadataMethod.invoke(mActualRemoteControlClient,\r\n                        startEmpty);\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        } else {\r\n            metadataEditor = null;\r\n        }\r\n        return new MetadataEditorCompat(metadataEditor);\r\n    }\r\n\r\n    /**\r\n     * Sets the current playback state.\r\n     * @param state The current playback state, one of the following values:\r\n     *       {@link android.media.RemoteControlClient#PLAYSTATE_STOPPED},\r\n     *       {@link android.media.RemoteControlClient#PLAYSTATE_PAUSED},\r\n     *       {@link android.media.RemoteControlClient#PLAYSTATE_PLAYING},\r\n     *       {@link android.media.RemoteControlClient#PLAYSTATE_FAST_FORWARDING},\r\n     *       {@link android.media.RemoteControlClient#PLAYSTATE_REWINDING},\r\n     *       {@link android.media.RemoteControlClient#PLAYSTATE_SKIPPING_FORWARDS},\r\n     *       {@link android.media.RemoteControlClient#PLAYSTATE_SKIPPING_BACKWARDS},\r\n     *       {@link android.media.RemoteControlClient#PLAYSTATE_BUFFERING},\r\n     *       {@link android.media.RemoteControlClient#PLAYSTATE_ERROR}.\r\n     */\r\n    public void setPlaybackState(int state) {\r\n        if (sHasRemoteControlAPIs) {\r\n            try {\r\n                sRCCSetPlayStateMethod.invoke(mActualRemoteControlClient, state);\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets the flags for the media transport control buttons that this client supports.\r\n     * @param transportControlFlags A combination of the following flags:\r\n     *      {@link android.media.RemoteControlClient#FLAG_KEY_MEDIA_PREVIOUS},\r\n     *      {@link android.media.RemoteControlClient#FLAG_KEY_MEDIA_REWIND},\r\n     *      {@link android.media.RemoteControlClient#FLAG_KEY_MEDIA_PLAY},\r\n     *      {@link android.media.RemoteControlClient#FLAG_KEY_MEDIA_PLAY_PAUSE},\r\n     *      {@link android.media.RemoteControlClient#FLAG_KEY_MEDIA_PAUSE},\r\n     *      {@link android.media.RemoteControlClient#FLAG_KEY_MEDIA_STOP},\r\n     *      {@link android.media.RemoteControlClient#FLAG_KEY_MEDIA_FAST_FORWARD},\r\n     *      {@link android.media.RemoteControlClient#FLAG_KEY_MEDIA_NEXT}\r\n     */\r\n    public void setTransportControlFlags(int transportControlFlags) {\r\n        if (sHasRemoteControlAPIs) {\r\n            try {\r\n                sRCCSetTransportControlFlags.invoke(mActualRemoteControlClient,\r\n                        transportControlFlags);\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\n    public final Object getActualRemoteControlClientObject() {\r\n        return mActualRemoteControlClient;\r\n    }\r\n    }\r\n\r\n\r\n\r\nRemoteControlHelper class:\r\n\r\n    public class RemoteControlHelper {\r\n    private static final String TAG = &quot;RemoteControlHelper&quot;;\r\n\r\n    private static boolean sHasRemoteControlAPIs = false;\r\n\r\n    private static Method sRegisterRemoteControlClientMethod;\r\n    private static Method sUnregisterRemoteControlClientMethod;\r\n\r\n    static {\r\n        try {\r\n            ClassLoader classLoader = RemoteControlHelper.class.getClassLoader();\r\n            Class sRemoteControlClientClass =\r\n                    RemoteControlClientCompat.getActualRemoteControlClientClass(classLoader);\r\n            sRegisterRemoteControlClientMethod = AudioManager.class.getMethod(\r\n                    &quot;registerRemoteControlClient&quot;, new Class[]{sRemoteControlClientClass});\r\n            sUnregisterRemoteControlClientMethod = AudioManager.class.getMethod(\r\n                    &quot;unregisterRemoteControlClient&quot;, new Class[]{sRemoteControlClientClass});\r\n            sHasRemoteControlAPIs = true;\r\n        } catch (ClassNotFoundException e) {\r\n            // Silently fail when running on an OS before ICS.\r\n        } catch (NoSuchMethodException e) {\r\n            // Silently fail when running on an OS before ICS.\r\n        } catch (IllegalArgumentException e) {\r\n            // Silently fail when running on an OS before ICS.\r\n        } catch (SecurityException e) {\r\n            // Silently fail when running on an OS before ICS.\r\n        }\r\n    }\r\n\r\n    public static void registerRemoteControlClient(AudioManager audioManager,\r\n                                                   RemoteControlClientCompat remoteControlClient) {\r\n        if (!sHasRemoteControlAPIs) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            sRegisterRemoteControlClientMethod.invoke(audioManager,\r\n                    remoteControlClient.getActualRemoteControlClientObject());\r\n        } catch (Exception e) {\r\n            Log.e(TAG, e.getMessage(), e);\r\n        }\r\n    }\r\n\r\n\r\n    public static void unregisterRemoteControlClient(AudioManager audioManager,\r\n                                                     RemoteControlClientCompat remoteControlClient) {\r\n        if (!sHasRemoteControlAPIs) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            sUnregisterRemoteControlClientMethod.invoke(audioManager,\r\n                    remoteControlClient.getActualRemoteControlClientObject());\r\n        } catch (Exception e) {\r\n            Log.e(TAG, e.getMessage(), e);\r\n        }\r\n    }\r\n    }\r\n\r\n    \r\n\r\nTo Change lockPlayer State dinamicaly:\r\n\r\n\r\n     private void lockontrolsPlay() {\r\n            if (mRemoteControlClientCompat != null) {\r\n                mRemoteControlClientCompat\r\n                        .setPlaybackState(RemoteControlClient.PLAYSTATE_PLAYING);\r\n            }\r\n        }\r\n\r\n        private void lockontrolsPause() {\r\n            if (mRemoteControlClientCompat != null) {\r\n                mRemoteControlClientCompat\r\n                        .setPlaybackState(RemoteControlClient.PLAYSTATE_PAUSED);\r\n            }\r\n        }\r\n\r\n\r\nThe receiver:\r\n\r\n    public class MusicIntentReceiver extends WakefulBroadcastReceiver {\r\n    private int headsetSwitch = 1;\r\n\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n\r\n\r\n        if (intent.getAction().equals(android.media.AudioManager.ACTION_AUDIO_BECOMING_NOISY)) {\r\n\r\n\r\n            Toast.makeText(context, MyApplication.getContext().getResources().getString (R.string.aptxt15), Toast.LENGTH_SHORT).show();\r\n            intent = new Intent(context, ReproductorDialog.ServicioCanciones.class);\r\n            intent.putExtra(&quot;do_action&quot;, &quot;pause_cascos&quot;);\r\n            context.startService(intent);\r\n\r\n\r\n        } else if (intent.getAction().equals(Intent.ACTION_MEDIA_BUTTON)) {\r\n\r\n            KeyEvent keyEvent = (KeyEvent) intent.getExtras().get(Intent.EXTRA_KEY_EVENT);\r\n            if (keyEvent.getAction() != KeyEvent.ACTION_DOWN)\r\n                return;\r\n\r\n            switch (keyEvent.getKeyCode()) {\r\n                case KeyEvent.KEYCODE_HEADSETHOOK:\r\n\r\n\r\n                case KeyEvent.KEYCODE_MEDIA_PLAY_PAUSE:\r\n                    intent = new Intent(context, ReproductorDialog.ServicioCanciones.class);\r\n                    intent.putExtra(&quot;do_action&quot;, &quot;pause&quot;);\r\n                    context.startService(intent);\r\n                    //   context.startService(new Intent(MusicService.ACTION_TOGGLE_PLAYBACK));\r\n                    break;\r\n                case KeyEvent.KEYCODE_MEDIA_PLAY:\r\n                    //  context.startService(new Intent(MusicService.ACTION_PLAY));\r\n                    intent = new Intent(context, ReproductorDialog.ServicioCanciones.class);\r\n                    intent.putExtra(&quot;do_action&quot;, &quot;pause&quot;);\r\n                    context.startService(intent);\r\n                    break;\r\n                case KeyEvent.KEYCODE_MEDIA_PAUSE:\r\n                    //  context.startService(new Intent(MusicService.ACTION_PAUSE));\r\n                    intent = new Intent(context, ReproductorDialog.ServicioCanciones.class);\r\n                    intent.putExtra(&quot;do_action&quot;, &quot;pause&quot;);\r\n                    context.startService(intent);\r\n                    break;\r\n                case KeyEvent.KEYCODE_MEDIA_STOP:\r\n                    //  context.startService(new Intent(MusicService.ACTION_STOP));\r\n                    break;\r\n                case KeyEvent.KEYCODE_MEDIA_NEXT:\r\n                    intent = new Intent(context, ReproductorDialog.ServicioCanciones.class);\r\n                    intent.putExtra(&quot;do_action&quot;, &quot;next&quot;);\r\n                    context.startService(intent);\r\n                    break;\r\n                case KeyEvent.KEYCODE_MEDIA_PREVIOUS:\r\n                    // TODO: ensure that doing this in rapid succession actually plays the\r\n                    // previous song\r\n                    //   context.startService(new Intent(MusicService.ACTION_REWIND));\r\n                    intent = new Intent(context, ReproductorDialog.ServicioCanciones.class);\r\n                    intent.putExtra(&quot;do_action&quot;, &quot;previous&quot;);\r\n                    context.startService(intent);\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n    }\r\n\r\n\r\nmAUdioManager is an AudioManager objectand mMediaButtonReceiverComponent is a ComponentName, simply put \r\n\r\n    AudioManager mAudioManager; \r\n    ComponentName mMediaButtonReceiverComponent;\r\n\r\nbefore call method lockScreenControls(). These Classes are on API 18\r\n","title":"How to add MediaPlayer controls on lock screen?","body":"<p>I had the same problem, and well, the solution was simple, do not use any widget, simply use the <a href=\"http://developer.android.com/reference/android/media/RemoteControlClient.html\">RemoteControlClientCompat</a> class. Here is my lockScreenControls() method code , which I call whenever I want to show this type of control (when plays a song). This is which GooglePlayMusic does.</p>\n\n<pre><code>private void lockScreenControls() {\n\n    // Use the media button APIs (if available) to register ourselves for media button\n    // events\n\n    MediaButtonHelper.registerMediaButtonEventReceiverCompat(mAudioManager, mMediaButtonReceiverComponent);\n    // Use the remote control APIs (if available) to set the playback state\n    if (mRemoteControlClientCompat == null) {\n        Intent intent = new Intent(Intent.ACTION_MEDIA_BUTTON);\n        intent.setComponent(mMediaButtonReceiverComponent);\n        mRemoteControlClientCompat = new RemoteControlClientCompat(PendingIntent.getBroadcast(this /*context*/,0 /*requestCode, ignored*/, intent /*intent*/, 0 /*flags*/));\n        RemoteControlHelper.registerRemoteControlClient(mAudioManager,mRemoteControlClientCompat);\n    }\n    mRemoteControlClientCompat.setPlaybackState(RemoteControlClient.PLAYSTATE_PLAYING);\n    mRemoteControlClientCompat.setTransportControlFlags(\n            RemoteControlClient.FLAG_KEY_MEDIA_PAUSE |\n            RemoteControlClient.FLAG_KEY_MEDIA_PREVIOUS |\n            RemoteControlClient.FLAG_KEY_MEDIA_NEXT |\n            RemoteControlClient.FLAG_KEY_MEDIA_STOP);\n\n  //update remote controls\n    mRemoteControlClientCompat.editMetadata(true)\n            .putString(MediaMetadataRetriever.METADATA_KEY_ARTIST, \"NombreArtista\")\n            .putString(MediaMetadataRetriever.METADATA_KEY_ALBUM, \"Titulo Album\")\n            .putString(MediaMetadataRetriever.METADATA_KEY_TITLE, nombreCancion)\n            //.putLong(MediaMetadataRetriever.METADATA_KEY_DURATION,playingItem.getDuration())\n                    // TODO: fetch real item artwork\n            .putBitmap(RemoteControlClientCompat.MetadataEditorCompat.METADATA_KEY_ARTWORK, getAlbumArt())\n            .apply();\n    }\n}\n</code></pre>\n\n<p><strong>***********EDIT************</strong></p>\n\n<p>RemoteControlClientCompat class:</p>\n\n<pre><code>@SuppressWarnings({\"rawtypes\", \"unchecked\"})\npublic class RemoteControlClientCompat {\n\nprivate static final String TAG = \"RemoteControlCompat\";\n\nprivate static Class sRemoteControlClientClass;\n\n// RCC short for RemoteControlClient\nprivate static Method sRCCEditMetadataMethod;\nprivate static Method sRCCSetPlayStateMethod;\nprivate static Method sRCCSetTransportControlFlags;\n\nprivate static boolean sHasRemoteControlAPIs = false;\n\nstatic {\n    try {\n        ClassLoader classLoader = RemoteControlClientCompat.class.getClassLoader();\n        sRemoteControlClientClass = getActualRemoteControlClientClass(classLoader);\n        // dynamically populate the playstate and flag values in case they change\n        // in future versions.\n        for (Field field : RemoteControlClientCompat.class.getFields()) {\n            try {\n                Field realField = sRemoteControlClientClass.getField(field.getName());\n                Object realValue = realField.get(null);\n                field.set(null, realValue);\n            } catch (NoSuchFieldException e) {\n                Log.w(TAG, \"Could not get real field: \" + field.getName());\n            } catch (IllegalArgumentException e) {\n                Log.w(TAG, \"Error trying to pull field value for: \" + field.getName()\n                        + \" \" + e.getMessage());\n            } catch (IllegalAccessException e) {\n                Log.w(TAG, \"Error trying to pull field value for: \" + field.getName()\n                        + \" \" + e.getMessage());\n            }\n        }\n\n        // get the required public methods on RemoteControlClient\n        sRCCEditMetadataMethod = sRemoteControlClientClass.getMethod(\"editMetadata\",\n                boolean.class);\n        sRCCSetPlayStateMethod = sRemoteControlClientClass.getMethod(\"setPlaybackState\",\n                int.class);\n        sRCCSetTransportControlFlags = sRemoteControlClientClass.getMethod(\n                \"setTransportControlFlags\", int.class);\n\n        sHasRemoteControlAPIs = true;\n    } catch (ClassNotFoundException e) {\n        // Silently fail when running on an OS before ICS.\n    } catch (NoSuchMethodException e) {\n        // Silently fail when running on an OS before ICS.\n    } catch (IllegalArgumentException e) {\n        // Silently fail when running on an OS before ICS.\n    } catch (SecurityException e) {\n        // Silently fail when running on an OS before ICS.\n    }\n}\n\npublic static Class getActualRemoteControlClientClass(ClassLoader classLoader)\n        throws ClassNotFoundException {\n    return classLoader.loadClass(\"android.media.RemoteControlClient\");\n}\n\nprivate Object mActualRemoteControlClient;\n\npublic RemoteControlClientCompat(PendingIntent pendingIntent) {\n    if (!sHasRemoteControlAPIs) {\n        return;\n    }\n    try {\n        mActualRemoteControlClient =\n                sRemoteControlClientClass.getConstructor(PendingIntent.class)\n                        .newInstance(pendingIntent);\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n\npublic RemoteControlClientCompat(PendingIntent pendingIntent, Looper looper) {\n    if (!sHasRemoteControlAPIs) {\n        return;\n    }\n\n    try {\n        mActualRemoteControlClient =\n                sRemoteControlClientClass.getConstructor(PendingIntent.class, Looper.class)\n                        .newInstance(pendingIntent, looper);\n    } catch (Exception e) {\n        Log.e(TAG, \"Error creating new instance of \" + sRemoteControlClientClass.getName(), e);\n    }\n}\n\n/**\n * Class used to modify metadata in a {@link android.media.RemoteControlClient} object. Use\n * {@link android.media.RemoteControlClient#editMetadata(boolean)} to create an instance of an\n * editor, on which you set the metadata for the RemoteControlClient instance. Once all the\n * information has been set, use {@link #apply()} to make it the new metadata that should be\n * displayed for the associated client. Once the metadata has been \"applied\", you cannot reuse\n * this instance of the MetadataEditor.\n */\npublic class MetadataEditorCompat {\n\n    private Method mPutStringMethod;\n    private Method mPutBitmapMethod;\n    private Method mPutLongMethod;\n    private Method mClearMethod;\n    private Method mApplyMethod;\n\n    private Object mActualMetadataEditor;\n\n    /**\n     * The metadata key for the content artwork / album art.\n     */\n    public final static int METADATA_KEY_ARTWORK = 100;\n\n    private MetadataEditorCompat(Object actualMetadataEditor) {\n        if (sHasRemoteControlAPIs &amp;&amp; actualMetadataEditor == null) {\n            throw new IllegalArgumentException(\"Remote Control API's exist, \" +\n                    \"should not be given a null MetadataEditor\");\n        }\n        if (sHasRemoteControlAPIs) {\n            Class metadataEditorClass = actualMetadataEditor.getClass();\n\n            try {\n                mPutStringMethod = metadataEditorClass.getMethod(\"putString\",\n                        int.class, String.class);\n                mPutBitmapMethod = metadataEditorClass.getMethod(\"putBitmap\",\n                        int.class, Bitmap.class);\n                mPutLongMethod = metadataEditorClass.getMethod(\"putLong\",\n                        int.class, long.class);\n                mClearMethod = metadataEditorClass.getMethod(\"clear\", new Class[]{});\n                mApplyMethod = metadataEditorClass.getMethod(\"apply\", new Class[]{});\n            } catch (Exception e) {\n                throw new RuntimeException(e.getMessage(), e);\n            }\n        }\n        mActualMetadataEditor = actualMetadataEditor;\n    }\n\n    /**\n     * Adds textual information to be displayed.\n     * Note that none of the information added after {@link #apply()} has been called,\n     * will be displayed.\n     * @param key The identifier of a the metadata field to set. Valid values are\n     *      {@link android.media.MediaMetadataRetriever#METADATA_KEY_ALBUM},\n     *      {@link android.media.MediaMetadataRetriever#METADATA_KEY_ALBUMARTIST},\n     *      {@link android.media.MediaMetadataRetriever#METADATA_KEY_TITLE},\n     *      {@link android.media.MediaMetadataRetriever#METADATA_KEY_ARTIST},\n     *      {@link android.media.MediaMetadataRetriever#METADATA_KEY_AUTHOR},\n     *      {@link android.media.MediaMetadataRetriever#METADATA_KEY_COMPILATION},\n     *      {@link android.media.MediaMetadataRetriever#METADATA_KEY_COMPOSER},\n     *      {@link android.media.MediaMetadataRetriever#METADATA_KEY_DATE},\n     *      {@link android.media.MediaMetadataRetriever#METADATA_KEY_GENRE},\n     *      {@link android.media.MediaMetadataRetriever#METADATA_KEY_TITLE},\n     *      {@link android.media.MediaMetadataRetriever#METADATA_KEY_WRITER}.\n     * @param value The text for the given key, or {@code null} to signify there is no valid\n     *      information for the field.\n     * @return Returns a reference to the same MetadataEditor object, so you can chain put\n     *      calls together.\n     */\n    public MetadataEditorCompat putString(int key, String value) {\n        if (sHasRemoteControlAPIs) {\n            try {\n                mPutStringMethod.invoke(mActualMetadataEditor, key, value);\n            } catch (Exception e) {\n                throw new RuntimeException(e.getMessage(), e);\n            }\n        }\n        return this;\n    }\n\n    /**\n     * Sets the album / artwork picture to be displayed on the remote control.\n     * @param key the identifier of the bitmap to set. The only valid value is\n     *      {@link #METADATA_KEY_ARTWORK}\n     * @param bitmap The bitmap for the artwork, or null if there isn't any.\n     * @return Returns a reference to the same MetadataEditor object, so you can chain put\n     *      calls together.\n     * @throws IllegalArgumentException\n     * @see android.graphics.Bitmap\n     */\n    public MetadataEditorCompat putBitmap(int key, Bitmap bitmap) {\n        if (sHasRemoteControlAPIs) {\n            try {\n                mPutBitmapMethod.invoke(mActualMetadataEditor, key, bitmap);\n            } catch (Exception e) {\n                throw new RuntimeException(e.getMessage(), e);\n            }\n        }\n        return this;\n    }\n\n    /**\n     * Adds numerical information to be displayed.\n     * Note that none of the information added after {@link #apply()} has been called,\n     * will be displayed.\n     * @param key the identifier of a the metadata field to set. Valid values are\n     *      {@link android.media.MediaMetadataRetriever#METADATA_KEY_CD_TRACK_NUMBER},\n     *      {@link android.media.MediaMetadataRetriever#METADATA_KEY_DISC_NUMBER},\n     *      {@link android.media.MediaMetadataRetriever#METADATA_KEY_DURATION} (with a value\n     *      expressed in milliseconds),\n     *      {@link android.media.MediaMetadataRetriever#METADATA_KEY_YEAR}.\n     * @param value The long value for the given key\n     * @return Returns a reference to the same MetadataEditor object, so you can chain put\n     *      calls together.\n     * @throws IllegalArgumentException\n     */\n    public MetadataEditorCompat putLong(int key, long value) {\n        if (sHasRemoteControlAPIs) {\n            try {\n                mPutLongMethod.invoke(mActualMetadataEditor, key, value);\n            } catch (Exception e) {\n                throw new RuntimeException(e.getMessage(), e);\n            }\n        }\n        return this;\n    }\n\n    /**\n     * Clears all the metadata that has been set since the MetadataEditor instance was\n     * created with {@link android.media.RemoteControlClient#editMetadata(boolean)}.\n     */\n    public void clear() {\n        if (sHasRemoteControlAPIs) {\n            try {\n                mClearMethod.invoke(mActualMetadataEditor, (Object[]) null);\n            } catch (Exception e) {\n                throw new RuntimeException(e.getMessage(), e);\n            }\n        }\n    }\n\n    /**\n     * Associates all the metadata that has been set since the MetadataEditor instance was\n     * created with {@link android.media.RemoteControlClient#editMetadata(boolean)}, or since\n     * {@link #clear()} was called, with the RemoteControlClient. Once \"applied\", this\n     * MetadataEditor cannot be reused to edit the RemoteControlClient's metadata.\n     */\n    public void apply() {\n        if (sHasRemoteControlAPIs) {\n            try {\n                mApplyMethod.invoke(mActualMetadataEditor, (Object[]) null);\n            } catch (Exception e) {\n                throw new RuntimeException(e.getMessage(), e);\n            }\n        }\n    }\n}\n\n/**\n * Creates a {@link android.media.RemoteControlClient.MetadataEditor}.\n * @param startEmpty Set to false if you want the MetadataEditor to contain the metadata that\n *     was previously applied to the RemoteControlClient, or true if it is to be created empty.\n * @return a new MetadataEditor instance.\n */\npublic MetadataEditorCompat editMetadata(boolean startEmpty) {\n    Object metadataEditor;\n    if (sHasRemoteControlAPIs) {\n        try {\n            metadataEditor = sRCCEditMetadataMethod.invoke(mActualRemoteControlClient,\n                    startEmpty);\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    } else {\n        metadataEditor = null;\n    }\n    return new MetadataEditorCompat(metadataEditor);\n}\n\n/**\n * Sets the current playback state.\n * @param state The current playback state, one of the following values:\n *       {@link android.media.RemoteControlClient#PLAYSTATE_STOPPED},\n *       {@link android.media.RemoteControlClient#PLAYSTATE_PAUSED},\n *       {@link android.media.RemoteControlClient#PLAYSTATE_PLAYING},\n *       {@link android.media.RemoteControlClient#PLAYSTATE_FAST_FORWARDING},\n *       {@link android.media.RemoteControlClient#PLAYSTATE_REWINDING},\n *       {@link android.media.RemoteControlClient#PLAYSTATE_SKIPPING_FORWARDS},\n *       {@link android.media.RemoteControlClient#PLAYSTATE_SKIPPING_BACKWARDS},\n *       {@link android.media.RemoteControlClient#PLAYSTATE_BUFFERING},\n *       {@link android.media.RemoteControlClient#PLAYSTATE_ERROR}.\n */\npublic void setPlaybackState(int state) {\n    if (sHasRemoteControlAPIs) {\n        try {\n            sRCCSetPlayStateMethod.invoke(mActualRemoteControlClient, state);\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n\n/**\n * Sets the flags for the media transport control buttons that this client supports.\n * @param transportControlFlags A combination of the following flags:\n *      {@link android.media.RemoteControlClient#FLAG_KEY_MEDIA_PREVIOUS},\n *      {@link android.media.RemoteControlClient#FLAG_KEY_MEDIA_REWIND},\n *      {@link android.media.RemoteControlClient#FLAG_KEY_MEDIA_PLAY},\n *      {@link android.media.RemoteControlClient#FLAG_KEY_MEDIA_PLAY_PAUSE},\n *      {@link android.media.RemoteControlClient#FLAG_KEY_MEDIA_PAUSE},\n *      {@link android.media.RemoteControlClient#FLAG_KEY_MEDIA_STOP},\n *      {@link android.media.RemoteControlClient#FLAG_KEY_MEDIA_FAST_FORWARD},\n *      {@link android.media.RemoteControlClient#FLAG_KEY_MEDIA_NEXT}\n */\npublic void setTransportControlFlags(int transportControlFlags) {\n    if (sHasRemoteControlAPIs) {\n        try {\n            sRCCSetTransportControlFlags.invoke(mActualRemoteControlClient,\n                    transportControlFlags);\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n\npublic final Object getActualRemoteControlClientObject() {\n    return mActualRemoteControlClient;\n}\n}\n</code></pre>\n\n<p>RemoteControlHelper class:</p>\n\n<pre><code>public class RemoteControlHelper {\nprivate static final String TAG = \"RemoteControlHelper\";\n\nprivate static boolean sHasRemoteControlAPIs = false;\n\nprivate static Method sRegisterRemoteControlClientMethod;\nprivate static Method sUnregisterRemoteControlClientMethod;\n\nstatic {\n    try {\n        ClassLoader classLoader = RemoteControlHelper.class.getClassLoader();\n        Class sRemoteControlClientClass =\n                RemoteControlClientCompat.getActualRemoteControlClientClass(classLoader);\n        sRegisterRemoteControlClientMethod = AudioManager.class.getMethod(\n                \"registerRemoteControlClient\", new Class[]{sRemoteControlClientClass});\n        sUnregisterRemoteControlClientMethod = AudioManager.class.getMethod(\n                \"unregisterRemoteControlClient\", new Class[]{sRemoteControlClientClass});\n        sHasRemoteControlAPIs = true;\n    } catch (ClassNotFoundException e) {\n        // Silently fail when running on an OS before ICS.\n    } catch (NoSuchMethodException e) {\n        // Silently fail when running on an OS before ICS.\n    } catch (IllegalArgumentException e) {\n        // Silently fail when running on an OS before ICS.\n    } catch (SecurityException e) {\n        // Silently fail when running on an OS before ICS.\n    }\n}\n\npublic static void registerRemoteControlClient(AudioManager audioManager,\n                                               RemoteControlClientCompat remoteControlClient) {\n    if (!sHasRemoteControlAPIs) {\n        return;\n    }\n\n    try {\n        sRegisterRemoteControlClientMethod.invoke(audioManager,\n                remoteControlClient.getActualRemoteControlClientObject());\n    } catch (Exception e) {\n        Log.e(TAG, e.getMessage(), e);\n    }\n}\n\n\npublic static void unregisterRemoteControlClient(AudioManager audioManager,\n                                                 RemoteControlClientCompat remoteControlClient) {\n    if (!sHasRemoteControlAPIs) {\n        return;\n    }\n\n    try {\n        sUnregisterRemoteControlClientMethod.invoke(audioManager,\n                remoteControlClient.getActualRemoteControlClientObject());\n    } catch (Exception e) {\n        Log.e(TAG, e.getMessage(), e);\n    }\n}\n}\n</code></pre>\n\n<p>To Change lockPlayer State dinamicaly:</p>\n\n<pre><code> private void lockontrolsPlay() {\n        if (mRemoteControlClientCompat != null) {\n            mRemoteControlClientCompat\n                    .setPlaybackState(RemoteControlClient.PLAYSTATE_PLAYING);\n        }\n    }\n\n    private void lockontrolsPause() {\n        if (mRemoteControlClientCompat != null) {\n            mRemoteControlClientCompat\n                    .setPlaybackState(RemoteControlClient.PLAYSTATE_PAUSED);\n        }\n    }\n</code></pre>\n\n<p>The receiver:</p>\n\n<pre><code>public class MusicIntentReceiver extends WakefulBroadcastReceiver {\nprivate int headsetSwitch = 1;\n\n\n@Override\npublic void onReceive(Context context, Intent intent) {\n\n\n    if (intent.getAction().equals(android.media.AudioManager.ACTION_AUDIO_BECOMING_NOISY)) {\n\n\n        Toast.makeText(context, MyApplication.getContext().getResources().getString (R.string.aptxt15), Toast.LENGTH_SHORT).show();\n        intent = new Intent(context, ReproductorDialog.ServicioCanciones.class);\n        intent.putExtra(\"do_action\", \"pause_cascos\");\n        context.startService(intent);\n\n\n    } else if (intent.getAction().equals(Intent.ACTION_MEDIA_BUTTON)) {\n\n        KeyEvent keyEvent = (KeyEvent) intent.getExtras().get(Intent.EXTRA_KEY_EVENT);\n        if (keyEvent.getAction() != KeyEvent.ACTION_DOWN)\n            return;\n\n        switch (keyEvent.getKeyCode()) {\n            case KeyEvent.KEYCODE_HEADSETHOOK:\n\n\n            case KeyEvent.KEYCODE_MEDIA_PLAY_PAUSE:\n                intent = new Intent(context, ReproductorDialog.ServicioCanciones.class);\n                intent.putExtra(\"do_action\", \"pause\");\n                context.startService(intent);\n                //   context.startService(new Intent(MusicService.ACTION_TOGGLE_PLAYBACK));\n                break;\n            case KeyEvent.KEYCODE_MEDIA_PLAY:\n                //  context.startService(new Intent(MusicService.ACTION_PLAY));\n                intent = new Intent(context, ReproductorDialog.ServicioCanciones.class);\n                intent.putExtra(\"do_action\", \"pause\");\n                context.startService(intent);\n                break;\n            case KeyEvent.KEYCODE_MEDIA_PAUSE:\n                //  context.startService(new Intent(MusicService.ACTION_PAUSE));\n                intent = new Intent(context, ReproductorDialog.ServicioCanciones.class);\n                intent.putExtra(\"do_action\", \"pause\");\n                context.startService(intent);\n                break;\n            case KeyEvent.KEYCODE_MEDIA_STOP:\n                //  context.startService(new Intent(MusicService.ACTION_STOP));\n                break;\n            case KeyEvent.KEYCODE_MEDIA_NEXT:\n                intent = new Intent(context, ReproductorDialog.ServicioCanciones.class);\n                intent.putExtra(\"do_action\", \"next\");\n                context.startService(intent);\n                break;\n            case KeyEvent.KEYCODE_MEDIA_PREVIOUS:\n                // TODO: ensure that doing this in rapid succession actually plays the\n                // previous song\n                //   context.startService(new Intent(MusicService.ACTION_REWIND));\n                intent = new Intent(context, ReproductorDialog.ServicioCanciones.class);\n                intent.putExtra(\"do_action\", \"previous\");\n                context.startService(intent);\n                break;\n        }\n    }\n}\n}\n</code></pre>\n\n<p>mAUdioManager is an AudioManager objectand mMediaButtonReceiverComponent is a ComponentName, simply put </p>\n\n<pre><code>AudioManager mAudioManager; \nComponentName mMediaButtonReceiverComponent;\n</code></pre>\n\n<p>before call method lockScreenControls(). These Classes are on API 18</p>\n"},{"tags":[],"owner":{"account_id":1645526,"reputation":1951,"user_id":1517126,"accept_rate":83,"display_name":"R00We"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1454050240,"creation_date":1454050240,"answer_id":35078512,"question_id":22084307,"body_markdown":"Answer Juanjo outdated! Better to use [MediaSessionCompat][1] which include in support library. Thank [@ianhlake][2] for the good 2 video:\r\n\r\n 1. https://www.youtube.com/watch?v=FBC1FgWe5X4\r\n 2. https://www.youtube.com/watch?v=XQwe30cZffg\r\n\r\nAlso take a look at an example [Android Music Player Sample][3]\r\n\r\n\r\n  [1]: http://developer.android.com/intl/ru/reference/android/support/v4/media/session/MediaSessionCompat.html\r\n  [2]: https://stackoverflow.com/users/1676363/ianhanniballake\r\n  [3]: https://github.com/googlesamples/android-UniversalMusicPlayer","title":"How to add MediaPlayer controls on lock screen?","body":"<p>Answer Juanjo outdated! Better to use <a href=\"http://developer.android.com/intl/ru/reference/android/support/v4/media/session/MediaSessionCompat.html\" rel=\"noreferrer\">MediaSessionCompat</a> which include in support library. Thank <a href=\"https://stackoverflow.com/users/1676363/ianhanniballake\">@ianhlake</a> for the good 2 video:</p>\n\n<ol>\n<li><a href=\"https://www.youtube.com/watch?v=FBC1FgWe5X4\" rel=\"noreferrer\">https://www.youtube.com/watch?v=FBC1FgWe5X4</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=XQwe30cZffg\" rel=\"noreferrer\">https://www.youtube.com/watch?v=XQwe30cZffg</a></li>\n</ol>\n\n<p>Also take a look at an example <a href=\"https://github.com/googlesamples/android-UniversalMusicPlayer\" rel=\"noreferrer\">Android Music Player Sample</a></p>\n"}],"owner":{"account_id":453770,"reputation":1971,"user_id":850962,"accept_rate":44,"display_name":"jas7457"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12505,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":22831521,"answer_count":2,"score":6,"last_activity_date":1646124633,"creation_date":1393550435,"question_id":22084307,"body_markdown":"I want to achieve something like how SoundCloud and Google Play Music display a flippable widget on the lock screen when playing songs. I&#39;ve tried Google searching this, but can&#39;t seem to find anything on the subject matter. Below is a screenshot of what I want...\r\n\r\n![enter image description here][1]\r\n\r\nThis is of course the flipped view. It seems like this is pretty standard for a lot of apps, so there is probably some type of pre-build Android class to create something like this, but I have no idea where to start to look. Thanks!\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/acJTd.png","title":"How to add MediaPlayer controls on lock screen?","body":"<p>I want to achieve something like how SoundCloud and Google Play Music display a flippable widget on the lock screen when playing songs. I've tried Google searching this, but can't seem to find anything on the subject matter. Below is a screenshot of what I want...</p>\n\n<p><img src=\"https://i.stack.imgur.com/acJTd.png\" alt=\"enter image description here\"></p>\n\n<p>This is of course the flipped view. It seems like this is pretty standard for a lot of apps, so there is probably some type of pre-build Android class to create something like this, but I have no idea where to start to look. Thanks!</p>\n"},{"tags":["java","microservices","axon","saga"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1645792445,"post_id":71265893,"comment_id":125970291,"body_markdown":"Don&#39;t put your code as images.","body":"Don&#39;t put your code as images."},{"owner":{"account_id":18156397,"reputation":154,"user_id":13208353,"display_name":"Yvonne Ceelie"},"score":0,"creation_date":1645793743,"post_id":71265893,"comment_id":125970756,"body_markdown":"Does the fully qualified class name of the OrderCreatedEvent in the Order match with the one used in the Saga?","body":"Does the fully qualified class name of the OrderCreatedEvent in the Order match with the one used in the Saga?"},{"owner":{"account_id":21845332,"reputation":59,"user_id":16138258,"display_name":"Matin Parsapour"},"score":0,"creation_date":1645794060,"post_id":71265893,"comment_id":125970887,"body_markdown":"Yes it does, they totally match, I put it there you can see OrderCreatedEvent class is above, below the Saga class","body":"Yes it does, they totally match, I put it there you can see OrderCreatedEvent class is above, below the Saga class"},{"owner":{"account_id":18156397,"reputation":154,"user_id":13208353,"display_name":"Yvonne Ceelie"},"score":0,"creation_date":1645802700,"post_id":71265893,"comment_id":125974118,"body_markdown":"Is the `OrderSagaProcessor` token present in the token store and what is the content of it?","body":"Is the <code>OrderSagaProcessor</code> token present in the token store and what is the content of it?"},{"owner":{"account_id":21845332,"reputation":59,"user_id":16138258,"display_name":"Matin Parsapour"},"score":0,"creation_date":1645802895,"post_id":71265893,"comment_id":125974204,"body_markdown":"I&#39;m sorry, I&#39;m new with Saga, Actually I&#39;ve just learned about it, I don&#39;t know where to find it can you tell me where to find it","body":"I&#39;m sorry, I&#39;m new with Saga, Actually I&#39;ve just learned about it, I don&#39;t know where to find it can you tell me where to find it"}],"answers":[{"tags":[],"owner":{"account_id":2784418,"reputation":211,"user_id":2396194,"display_name":"Mitchell Herrijgers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646124537,"creation_date":1646124537,"answer_id":71305847,"question_id":71265893,"body_markdown":"I think the problem is that Axon requires a no-arg constructor on Saga&#39;s. You should use field injection for the resources. This passage in the reference guide explains it:\r\n\r\n&gt; The SpringResourceInjector uses Spring&#39;s dependency injection mechanism to inject resources into a Saga. This means you can use setter injection or direct field injection if you require. The method or field to be injected needs to be annotated in order for Spring to recognize it as a dependency, for example with @Autowired.\r\n\r\nThe passage can be found here: https://docs.axoniq.io/reference-guide/axon-framework/sagas/implementation. Changing the constructor injection to field injection, like the following sample, should work for you:\r\n\r\n```java\r\n@Saga\r\n\r\npublic class OrderSaga {\r\n\r\n    @Autowired\r\n    private final transient CommandGateway commandGateway;\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(OrderSaga.class);\r\n\r\n    // Abbreviated for clarity\r\n}\r\n\r\n\r\n\r\n```","title":"How to make saga starts","body":"<p>I think the problem is that Axon requires a no-arg constructor on Saga's. You should use field injection for the resources. This passage in the reference guide explains it:</p>\n<blockquote>\n<p>The SpringResourceInjector uses Spring's dependency injection mechanism to inject resources into a Saga. This means you can use setter injection or direct field injection if you require. The method or field to be injected needs to be annotated in order for Spring to recognize it as a dependency, for example with @Autowired.</p>\n</blockquote>\n<p>The passage can be found here: <a href=\"https://docs.axoniq.io/reference-guide/axon-framework/sagas/implementation\" rel=\"nofollow noreferrer\">https://docs.axoniq.io/reference-guide/axon-framework/sagas/implementation</a>. Changing the constructor injection to field injection, like the following sample, should work for you:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Saga\n\npublic class OrderSaga {\n\n    @Autowired\n    private final transient CommandGateway commandGateway;\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(OrderSaga.class);\n\n    // Abbreviated for clarity\n}\n\n\n\n</code></pre>\n"}],"owner":{"account_id":21845332,"reputation":59,"user_id":16138258,"display_name":"Matin Parsapour"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646124537,"creation_date":1645792186,"question_id":71265893,"body_markdown":"I&#39;m trying to use Axon and Saga design pattern to send data between Micorservices using Java\r\nI have two service one for Order and one for Product CQRS Design pattern works perfectly I mean I send data to axon and I see it in my dashboard and then by query data gets and save in read database (MySQL). \r\nToday I tried to use Saga design pattern and when create a new order send ReserveProductCommand to axon and gets by Product service but saga doesn&#39;t event start and I don&#39;t know why \r\n\r\nBelow Saga class in Order service that should gets OrderCreatedEvent and Log the message but it doesn&#39;t\r\n```\r\n@Saga\r\n\r\npublic class OrderSaga {\r\n\r\n    private final transient CommandGateway commandGateway;\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(OrderSaga.class);\r\n\r\n    @Autowired\r\n    public OrderSaga(CommandGateway commandGateway) {\r\n        this.commandGateway = commandGateway;\r\n    }\r\n\r\n    @StartSaga\r\n    @SagaEventHandler(associationProperty = &quot;orderId&quot;)\r\n    public void handle(OrderCreatedEvent orderCreatedEvent) {\r\n        ReserveProductCommand reserveProductCommand = ReserveProductCommand\r\n                .builder()\r\n                .orderId(orderCreatedEvent.getOrderId())\r\n                .productId(orderCreatedEvent.getProductId())\r\n                .quantity(orderCreatedEvent.getQuantity())\r\n                .userId(orderCreatedEvent.getUserId())\r\n                .build();\r\n\r\n        LOGGER.info(&quot;OrderCreatedEvent handled for orderId: &quot; + reserveProductCommand.getOrderId() + &quot; and productId: &quot; + reserveProductCommand.getProductId());\r\n\r\n        commandGateway.send(reserveProductCommand, new CommandCallback&lt;ReserveProductCommand, Object&gt;() {\r\n\r\n            @Override\r\n            public void onResult(CommandMessage&lt;? extends ReserveProductCommand&gt; commandMessage, CommandResultMessage&lt;?&gt; commandResultMessage) {\r\n                if (commandResultMessage.isExceptional()){\r\n\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    @SagaEventHandler(associationProperty = &quot;orderId&quot;)\r\n    public void handle(ProductReservedEvent productReservedEvent){\r\n        LOGGER.info(&quot;ProductReservedEvent is called for productId: &quot; + productReservedEvent.getProductId() + &quot; and orderId: &quot; + productReservedEvent.getOrderId());\r\n    }\r\n}\r\n```\r\n\r\nBelow OrderCreatedEvent\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class OrderCreatedEvent {\r\n\r\n    public String orderId;\r\n    private String userId;\r\n    private String productId;\r\n    private int quantity;\r\n    private String addressId;\r\n    private OrderStatus orderStatus;\r\n}\r\n```\r\nI&#39;ve seen axon dashboard OrderCreatedEvent has been published there ","title":"How to make saga starts","body":"<p>I'm trying to use Axon and Saga design pattern to send data between Micorservices using Java\nI have two service one for Order and one for Product CQRS Design pattern works perfectly I mean I send data to axon and I see it in my dashboard and then by query data gets and save in read database (MySQL).\nToday I tried to use Saga design pattern and when create a new order send ReserveProductCommand to axon and gets by Product service but saga doesn't event start and I don't know why</p>\n<p>Below Saga class in Order service that should gets OrderCreatedEvent and Log the message but it doesn't</p>\n<pre><code>@Saga\n\npublic class OrderSaga {\n\n    private final transient CommandGateway commandGateway;\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(OrderSaga.class);\n\n    @Autowired\n    public OrderSaga(CommandGateway commandGateway) {\n        this.commandGateway = commandGateway;\n    }\n\n    @StartSaga\n    @SagaEventHandler(associationProperty = &quot;orderId&quot;)\n    public void handle(OrderCreatedEvent orderCreatedEvent) {\n        ReserveProductCommand reserveProductCommand = ReserveProductCommand\n                .builder()\n                .orderId(orderCreatedEvent.getOrderId())\n                .productId(orderCreatedEvent.getProductId())\n                .quantity(orderCreatedEvent.getQuantity())\n                .userId(orderCreatedEvent.getUserId())\n                .build();\n\n        LOGGER.info(&quot;OrderCreatedEvent handled for orderId: &quot; + reserveProductCommand.getOrderId() + &quot; and productId: &quot; + reserveProductCommand.getProductId());\n\n        commandGateway.send(reserveProductCommand, new CommandCallback&lt;ReserveProductCommand, Object&gt;() {\n\n            @Override\n            public void onResult(CommandMessage&lt;? extends ReserveProductCommand&gt; commandMessage, CommandResultMessage&lt;?&gt; commandResultMessage) {\n                if (commandResultMessage.isExceptional()){\n\n                }\n            }\n        });\n    }\n\n    @SagaEventHandler(associationProperty = &quot;orderId&quot;)\n    public void handle(ProductReservedEvent productReservedEvent){\n        LOGGER.info(&quot;ProductReservedEvent is called for productId: &quot; + productReservedEvent.getProductId() + &quot; and orderId: &quot; + productReservedEvent.getOrderId());\n    }\n}\n</code></pre>\n<p>Below OrderCreatedEvent</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class OrderCreatedEvent {\n\n    public String orderId;\n    private String userId;\n    private String productId;\n    private int quantity;\n    private String addressId;\n    private OrderStatus orderStatus;\n}\n</code></pre>\n<p>I've seen axon dashboard OrderCreatedEvent has been published there</p>\n"},{"tags":["java","wiremock"],"answers":[{"tags":[],"owner":{"account_id":477949,"reputation":5596,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646124376,"creation_date":1646124376,"answer_id":71305817,"question_id":66581064,"body_markdown":"I think you might be missing a wireMock stub call that will use the extention. Something like\r\n\r\n\r\n\twireMockServer.stubFor(WireMock.get(WireMock.urlMatching(&quot;/[a-z]*&quot;)).withPostServeAction(EXTENSION_NAME, parameters)\r\n\t\t    .willReturn(responseObject));\r\n\t\r\n\r\n   \t\r\n","title":"Extending wiremock to store request response in DB","body":"<p>I think you might be missing a wireMock stub call that will use the extention. Something like</p>\n<pre><code>wireMockServer.stubFor(WireMock.get(WireMock.urlMatching(&quot;/[a-z]*&quot;)).withPostServeAction(EXTENSION_NAME, parameters)\n        .willReturn(responseObject));\n</code></pre>\n"}],"owner":{"account_id":5003516,"reputation":1207,"user_id":4021776,"accept_rate":31,"display_name":"Ambuj Jauhari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1739,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1646124376,"creation_date":1615459886,"question_id":66581064,"body_markdown":"I am trying to write an extension where in I can store the request and response in the database. I extended PostActionServe, now there are 2 problems\r\n\r\n1. After starting the mock server, I submitted the post request to http://localhost:8089/__admin/mappings but neither doAction or doGlobalAction get invoked.\r\n\r\n2. Now if i hit the end point /some/thing then only doGlobal Action gets invoked.\r\n\r\nI was hoping that the moment i submit the request to mappings API it should invoke this extension and i can store the request and response in DB.\r\n\r\nBelow is the code\r\n\r\n\r\nimport com.github.tomakehurst.wiremock.WireMockServer;\r\n\r\nimport static com.github.tomakehurst.wiremock.core.WireMockConfiguration.options;\r\nimport static com.github.tomakehurst.wiremock.core.WireMockConfiguration.wireMockConfig;\r\n\r\n    public class Main {\r\n    \r\n        public static void main(String... args) {\r\n            WireMockServer wireMockServer = new WireMockServer(wireMockConfig()\r\n                    .extensions(new RequestRecorder()).port(8089)); //No-args constructor will start on port 8080, no HTTPS\r\n            wireMockServer.start();\r\n        }\r\n    }\r\n\r\n\r\n    import com.github.tomakehurst.wiremock.core.Admin;\r\n    import com.github.tomakehurst.wiremock.extension.Parameters;\r\n    import com.github.tomakehurst.wiremock.extension.PostServeAction;\r\n    import com.github.tomakehurst.wiremock.stubbing.ServeEvent;\r\n    \r\n    public class RequestRecorder extends PostServeAction {\r\n        public static final String EXTENSION_NAME = &quot;db-request-recorder&quot;;\r\n    \r\n        @Override\r\n        public void doAction(final ServeEvent serveEvent, final Admin admin, final Parameters parameters) {\r\n    \r\n            System.out.println(serveEvent.getRequest());\r\n            System.out.println(serveEvent.getResponseDefinition());\r\n        }\r\n    \r\n        @Override\r\n        public void doGlobalAction(ServeEvent serveEvent, Admin admin) {\r\n            System.out.println(serveEvent.getRequest());\r\n            System.out.println(serveEvent.getResponseDefinition());\r\n        }\r\n        @Override\r\n        public String getName() {\r\n            return EXTENSION_NAME;\r\n        }\r\n    }\r\n\r\n    class MainTest {\r\n    \r\n        public static void main(String... aergs) {\r\n            CloseableHttpClient httpClient = HttpClientBuilder.create().build();\r\n            try {\r\n                HttpPost request = new HttpPost(&quot;http://localhost:8089/__admin/mappings&quot;);\r\n                StringEntity params = new StringEntity(&quot;{\\n&quot; +\r\n                        &quot;    \\&quot;request\\&quot;: {\\n&quot; +\r\n                        &quot;        \\&quot;method\\&quot;: \\&quot;GET\\&quot;,\\n&quot; +\r\n                        &quot;        \\&quot;url\\&quot;: \\&quot;/some/thing\\&quot;\\n&quot; +\r\n                        &quot;    },\\n&quot; +\r\n                        &quot;    \\&quot;response\\&quot;: {\\n&quot; +\r\n                        &quot;        \\&quot;status\\&quot;: 200,\\n&quot; +\r\n                        &quot;        \\&quot;body\\&quot;: \\&quot;Hello world!\\&quot;,\\n&quot; +\r\n                        &quot;        \\&quot;headers\\&quot;: {\\n&quot; +\r\n                        &quot;            \\&quot;Content-Type\\&quot;: \\&quot;text/plain\\&quot;\\n&quot; +\r\n                        &quot;        }\\n&quot; +\r\n                        &quot;    }\\n&quot; +\r\n                        &quot;}&quot;);\r\n                request.addHeader(&quot;content-type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n                request.setEntity(params);\r\n                HttpResponse response = httpClient.execute(request);\r\n            } catch (Exception ex) {\r\n            } finally {\r\n                // @Deprecated httpClient.getConnectionManager().shutdown();\r\n            }\r\n        }\r\n    }","title":"Extending wiremock to store request response in DB","body":"<p>I am trying to write an extension where in I can store the request and response in the database. I extended PostActionServe, now there are 2 problems</p>\n<ol>\n<li><p>After starting the mock server, I submitted the post request to http://localhost:8089/__admin/mappings but neither doAction or doGlobalAction get invoked.</p>\n</li>\n<li><p>Now if i hit the end point /some/thing then only doGlobal Action gets invoked.</p>\n</li>\n</ol>\n<p>I was hoping that the moment i submit the request to mappings API it should invoke this extension and i can store the request and response in DB.</p>\n<p>Below is the code</p>\n<p>import com.github.tomakehurst.wiremock.WireMockServer;</p>\n<p>import static com.github.tomakehurst.wiremock.core.WireMockConfiguration.options;\nimport static com.github.tomakehurst.wiremock.core.WireMockConfiguration.wireMockConfig;</p>\n<pre><code>public class Main {\n\n    public static void main(String... args) {\n        WireMockServer wireMockServer = new WireMockServer(wireMockConfig()\n                .extensions(new RequestRecorder()).port(8089)); //No-args constructor will start on port 8080, no HTTPS\n        wireMockServer.start();\n    }\n}\n\n\nimport com.github.tomakehurst.wiremock.core.Admin;\nimport com.github.tomakehurst.wiremock.extension.Parameters;\nimport com.github.tomakehurst.wiremock.extension.PostServeAction;\nimport com.github.tomakehurst.wiremock.stubbing.ServeEvent;\n\npublic class RequestRecorder extends PostServeAction {\n    public static final String EXTENSION_NAME = &quot;db-request-recorder&quot;;\n\n    @Override\n    public void doAction(final ServeEvent serveEvent, final Admin admin, final Parameters parameters) {\n\n        System.out.println(serveEvent.getRequest());\n        System.out.println(serveEvent.getResponseDefinition());\n    }\n\n    @Override\n    public void doGlobalAction(ServeEvent serveEvent, Admin admin) {\n        System.out.println(serveEvent.getRequest());\n        System.out.println(serveEvent.getResponseDefinition());\n    }\n    @Override\n    public String getName() {\n        return EXTENSION_NAME;\n    }\n}\n\nclass MainTest {\n\n    public static void main(String... aergs) {\n        CloseableHttpClient httpClient = HttpClientBuilder.create().build();\n        try {\n            HttpPost request = new HttpPost(&quot;http://localhost:8089/__admin/mappings&quot;);\n            StringEntity params = new StringEntity(&quot;{\\n&quot; +\n                    &quot;    \\&quot;request\\&quot;: {\\n&quot; +\n                    &quot;        \\&quot;method\\&quot;: \\&quot;GET\\&quot;,\\n&quot; +\n                    &quot;        \\&quot;url\\&quot;: \\&quot;/some/thing\\&quot;\\n&quot; +\n                    &quot;    },\\n&quot; +\n                    &quot;    \\&quot;response\\&quot;: {\\n&quot; +\n                    &quot;        \\&quot;status\\&quot;: 200,\\n&quot; +\n                    &quot;        \\&quot;body\\&quot;: \\&quot;Hello world!\\&quot;,\\n&quot; +\n                    &quot;        \\&quot;headers\\&quot;: {\\n&quot; +\n                    &quot;            \\&quot;Content-Type\\&quot;: \\&quot;text/plain\\&quot;\\n&quot; +\n                    &quot;        }\\n&quot; +\n                    &quot;    }\\n&quot; +\n                    &quot;}&quot;);\n            request.addHeader(&quot;content-type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n            request.setEntity(params);\n            HttpResponse response = httpClient.execute(request);\n        } catch (Exception ex) {\n        } finally {\n            // @Deprecated httpClient.getConnectionManager().shutdown();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","multidimensional-array","3d","javax.imageio"],"comments":[{"owner":{"account_id":9754126,"reputation":1805,"user_id":7231449,"display_name":"acarlstein"},"score":1,"creation_date":1645997270,"post_id":71288454,"comment_id":126010039,"body_markdown":"Did you verify that the format of the image is correct?","body":"Did you verify that the format of the image is correct?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1645997395,"post_id":71288454,"comment_id":126010062,"body_markdown":"1. Make sure the files actually exist, use `File#exists` as debug statement; 2. In this context, the file is expected to be in the root location of the execution context (ie working directory), you can use `System.out.println(System.getProperty(&quot;user.dir&quot;))` to display this; 3. Consider embedding the images within the application context, this removes all the nastiness of &quot;relative&quot; and &quot;absolute&quot; path issues","body":"1. Make sure the files actually exist, use <code>File#exists</code> as debug statement; 2. In this context, the file is expected to be in the root location of the execution context (ie working directory), you can use <code>System.out.println(System.getProperty(&quot;user.dir&quot;))</code> to display this; 3. Consider embedding the images within the application context, this removes all the nastiness of &quot;relative&quot; and &quot;absolute&quot; path issues"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1645997434,"post_id":71288454,"comment_id":126010070,"body_markdown":"Also do what acerlstein suggests","body":"Also do what acerlstein suggests"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1646004941,"post_id":71288454,"comment_id":126011457,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646050436,"creation_date":1645997447,"answer_id":71288611,"question_id":71288454,"body_markdown":"You have a problem loading your texture. Assess how to handle the root cause (why can the image not be loaded?) and the consequences (your world is black):\r\n\r\nRoot cause\r\n----------\r\n\r\nTo find out why the image cannot be loaded, one measure would be to know what image the application is trying to load. Modify the load() method like so:\r\n\r\n    private void load() {\r\n        File file = new File(loc);\r\n        try {\r\n            BufferedImage image = ImageIO.read(file);\r\n            int w = image.getWidth();\r\n            int h = image.getHeight();\r\n            image.getRGB(0, 0, w, h, pixels, 0, w);\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;ERROR: Could not load &quot;+file.getAbsolutePath());\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nYou may find that you are searching just in the wrong directory. Or the access privileges are not set correctly. Or the file content is corrupt. Or...\r\n\r\nImpact\r\n------\r\nWhen your load method fails, it does not stop the program. Instead, your game keeps running. However the pixels array does not contain good data.\r\n\r\nEnsure you have meaningful emergency defaults in case the method fails. You could load an &#39;error image&#39; into the pixels array. With that you should at least not end up with a black window.","title":"3D Pictures dont load Java","body":"<p>You have a problem loading your texture. Assess how to handle the root cause (why can the image not be loaded?) and the consequences (your world is black):</p>\n<h2>Root cause</h2>\n<p>To find out why the image cannot be loaded, one measure would be to know what image the application is trying to load. Modify the load() method like so:</p>\n<pre><code>private void load() {\n    File file = new File(loc);\n    try {\n        BufferedImage image = ImageIO.read(file);\n        int w = image.getWidth();\n        int h = image.getHeight();\n        image.getRGB(0, 0, w, h, pixels, 0, w);\n    } catch (IOException e) {\n        System.out.println(&quot;ERROR: Could not load &quot;+file.getAbsolutePath());\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>You may find that you are searching just in the wrong directory. Or the access privileges are not set correctly. Or the file content is corrupt. Or...</p>\n<h2>Impact</h2>\n<p>When your load method fails, it does not stop the program. Instead, your game keeps running. However the pixels array does not contain good data.</p>\n<p>Ensure you have meaningful emergency defaults in case the method fails. You could load an 'error image' into the pixels array. With that you should at least not end up with a black window.</p>\n"},{"tags":[],"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646124321,"creation_date":1646124321,"answer_id":71305807,"question_id":71288454,"body_markdown":"The exception stack trace is pretty straight-forward, and should tell you what you need to do. It points to a single exception in the code of `ImageIO.read(File)` which look like this:\r\n\r\n    public static BufferedImage read(File input) throws IOException {\r\n    // ... \r\n        if (!input.canRead()) {\r\n            throw new IIOException(&quot;Can&#39;t read input file!&quot;); // &lt;-- This is the one\r\n        }\r\n    // ... \r\n    }\r\n\r\nAs you can see, the problem is that `canRead()` returns `false`, and according to the method&#39;s [API documentation](https://docs.oracle.com/javase/7/docs/api/java/io/File.html#canRead()), this method returns *&quot;`true` if and only if the file specified by this abstract pathname exists and can be read by the application; `false` otherwise&quot;*. \r\n\r\nEither your file does not exist at the location you try to read from, or the file has access protection that prohibits your application to read it. It&#39;s that simple. \r\n\r\nI believe that printing `new File(loc).getAbsolutePath()` in the catch block will help you debug the actual location and why things don&#39;t work. Most likely, you should not use a `File` at all, but instead use an embedded resource in your application. ","title":"3D Pictures dont load Java","body":"<p>The exception stack trace is pretty straight-forward, and should tell you what you need to do. It points to a single exception in the code of <code>ImageIO.read(File)</code> which look like this:</p>\n<pre><code>public static BufferedImage read(File input) throws IOException {\n// ... \n    if (!input.canRead()) {\n        throw new IIOException(&quot;Can't read input file!&quot;); // &lt;-- This is the one\n    }\n// ... \n}\n</code></pre>\n<p>As you can see, the problem is that <code>canRead()</code> returns <code>false</code>, and according to the method's <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html#canRead()\" rel=\"nofollow noreferrer\">API documentation</a>, this method returns <em>&quot;<code>true</code> if and only if the file specified by this abstract pathname exists and can be read by the application; <code>false</code> otherwise&quot;</em>.</p>\n<p>Either your file does not exist at the location you try to read from, or the file has access protection that prohibits your application to read it. It's that simple.</p>\n<p>I believe that printing <code>new File(loc).getAbsolutePath()</code> in the catch block will help you debug the actual location and why things don't work. Most likely, you should not use a <code>File</code> at all, but instead use an embedded resource in your application.</p>\n"}],"owner":{"account_id":23881392,"reputation":70,"user_id":17882047,"display_name":"crvxãƒƒ"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1646124321,"creation_date":1645995982,"question_id":71288454,"body_markdown":"I tried to show some Blockarts in a 3D Generator. But i cant figure out this error:\r\n\r\n    javax.imageio.IIOException: Can&#39;t read input file!\r\n\tat java.desktop/javax.imageio.ImageIO.read(ImageIO.java:1310)\r\n\tat Texture.load(Texture.java:20)\r\n\tat Texture.&lt;init&gt;(Texture.java:15)\r\n\tat Texture.&lt;clinit&gt;(Texture.java:29)\r\n\tat Game.&lt;init&gt;(Game.java:45)\r\n\tat Game.main(Game.java:103)\r\n    javax.imageio.IIOException: Can&#39;t read input file!\r\n\r\nWhen i start the Programm, the whole World appears with Black Blocks:\r\n[Screen shot after Starting Programm][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/52RhV.png\r\n\r\nIm doing want to do a 3D engine, where you can just walk around in rooms. So this Blocks arent rendering for me.\r\n\r\nThis is my Code:\r\n\r\nClass:Texture\r\n\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import javax.imageio.ImageIO;\r\n\r\n    public class Texture {\r\n      public int[] pixels;\r\n      private String loc;\r\n      public final int SIZE;\r\n\r\n    public Texture(String location, int SIZE) {\r\n        loc = location;\r\n        this.SIZE = SIZE;\r\n        pixels = new int[SIZE * SIZE];\r\n        load();\r\n    }\r\n\r\n    private void load() {\r\n        try {\r\n            BufferedImage image = ImageIO.read(new File(loc));\r\n            int w = image.getWidth();\r\n            int h = image.getHeight();\r\n            image.getRGB(0, 0, w, h, pixels, 0, w);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static Texture wood = new Texture(&quot;block1.png&quot;, 64);\r\n    public static Texture brick = new Texture(&quot;block2.png&quot;, 64);\r\n    public static Texture bluestone = new Texture(&quot;block3.png&quot;, 64);\r\n    public static Texture stone = new Texture(&quot;block1.png&quot;, 64);\r\n}\r\n\r\nClass Game:\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Graphics;\r\n    import java.awt.image.BufferStrategy;\r\n    import java.awt.image.BufferedImage;\r\n    import java.awt.image.DataBufferInt;\r\n    import java.util.ArrayList;\r\n    import javax.swing.JFrame;\r\n\r\n    public class Game extends JFrame implements Runnable{\r\n\r\n     private static final long serialVersionUID = 1L;\r\n     public int mapWidth = 15;\r\n     public int mapHeight = 15;\r\n     private Thread thread;\r\n     private boolean running;\r\n     private BufferedImage image;\r\n     public int[] pixels;\r\n     public ArrayList&lt;Texture&gt; textures;\r\n     public Camera camera;\r\n     public Screen screen;\r\n     public static int[][] map =\r\n            {\r\n                   {1,1,1,1,1,1,1,1,2,2,2,2,2,2,2},\r\n                   {1,0,0,0,0,0,0,0,2,0,0,0,0,0,2},\r\n                   {1,0,3,3,3,3,3,0,0,0,0,0,0,0,2},\r\n                   {1,0,3,0,0,0,3,0,2,0,0,0,0,0,2},\r\n                   {1,0,3,0,0,0,3,0,2,2,2,0,2,2,2},\r\n                   {1,0,3,0,0,0,3,0,2,0,0,0,0,0,2},\r\n                   {1,0,3,3,0,3,3,0,2,0,0,0,0,0,2},\r\n                   {1,0,0,0,0,0,0,0,2,0,0,0,0,0,2},\r\n                   {1,1,1,1,1,1,1,1,4,4,4,0,4,4,4},\r\n                   {1,0,0,0,0,0,1,4,0,0,0,0,0,0,4},\r\n                   {1,0,0,0,0,0,1,4,0,0,0,0,0,0,4},\r\n                   {1,0,0,0,0,0,1,4,0,3,3,3,3,0,4},\r\n                   {1,0,0,0,0,0,1,4,0,3,3,3,3,0,4},\r\n                   {1,0,0,0,0,0,0,0,0,0,0,0,0,0,4},\r\n                   {1,1,1,1,1,1,1,4,4,4,4,4,4,4,4}\r\n\r\n            };\r\n    public Game() {\r\n        thread = new Thread(this);\r\n        image = new BufferedImage(640, 480, BufferedImage.TYPE_INT_RGB);\r\n        pixels = ((DataBufferInt)image.getRaster().getDataBuffer()).getData();\r\n        textures = new ArrayList&lt;Texture&gt;();\r\n        textures.add(Texture.wood);\r\n        textures.add(Texture.brick);\r\n        textures.add(Texture.bluestone);\r\n        textures.add(Texture.stone);\r\n        camera = new Camera(4.5, 4.5, 1, 0, 0, -.66);\r\n        screen = new Screen(map, mapWidth, mapHeight, textures, 640, 480);\r\n        addKeyListener(camera);\r\n        setSize(640, 480);\r\n        setResizable(false);\r\n        setTitle(&quot;3D Engine&quot;);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setBackground(Color.black);\r\n        setLocationRelativeTo(null);\r\n        setVisible(true);\r\n        start();\r\n    }\r\n    private synchronized void start() {\r\n        running = true;\r\n        thread.start();\r\n    }\r\n    public synchronized void stop() {\r\n        running = false;\r\n        try {\r\n            thread.join();\r\n        } catch(InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    public void render() {\r\n        BufferStrategy bs = getBufferStrategy();\r\n        if(bs == null) {\r\n            createBufferStrategy(3);\r\n            return;\r\n        }\r\n        Graphics g = bs.getDrawGraphics();\r\n        g.drawImage(image, 0, 0, image.getWidth(), image.getHeight(), null);\r\n        bs.show();\r\n    }\r\n    public void run() {\r\n        long lastTime = System.nanoTime();\r\n        final double ns = 1000000000.0 / 60.0;//60 times per second\r\n        double delta = 0;\r\n        requestFocus();\r\n        while(running) {\r\n            long now = System.nanoTime();\r\n            delta = delta + ((now-lastTime) / ns);\r\n            lastTime = now;\r\n            while (delta &gt;= 1)//Make sure update is only happening 60 times a second\r\n            {\r\n                //handles all of the logic restricted time\r\n                screen.update(camera, pixels);\r\n                camera.update(map);\r\n                delta--;\r\n            }\r\n            render();//displays to the screen unrestricted time\r\n        }\r\n    }\r\n    public static void main(String [] args) {\r\n        Game game = new Game();\r\n    }\r\n}","title":"3D Pictures dont load Java","body":"<p>I tried to show some Blockarts in a 3D Generator. But i cant figure out this error:</p>\n<pre><code>javax.imageio.IIOException: Can't read input file!\nat java.desktop/javax.imageio.ImageIO.read(ImageIO.java:1310)\nat Texture.load(Texture.java:20)\nat Texture.&lt;init&gt;(Texture.java:15)\nat Texture.&lt;clinit&gt;(Texture.java:29)\nat Game.&lt;init&gt;(Game.java:45)\nat Game.main(Game.java:103)\njavax.imageio.IIOException: Can't read input file!\n</code></pre>\n<p>When i start the Programm, the whole World appears with Black Blocks:\n<a href=\"https://i.stack.imgur.com/52RhV.png\" rel=\"nofollow noreferrer\">Screen shot after Starting Programm</a></p>\n<p>Im doing want to do a 3D engine, where you can just walk around in rooms. So this Blocks arent rendering for me.</p>\n<p>This is my Code:</p>\n<p>Class:Texture</p>\n<pre><code>import java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\n\npublic class Texture {\n  public int[] pixels;\n  private String loc;\n  public final int SIZE;\n\npublic Texture(String location, int SIZE) {\n    loc = location;\n    this.SIZE = SIZE;\n    pixels = new int[SIZE * SIZE];\n    load();\n}\n\nprivate void load() {\n    try {\n        BufferedImage image = ImageIO.read(new File(loc));\n        int w = image.getWidth();\n        int h = image.getHeight();\n        image.getRGB(0, 0, w, h, pixels, 0, w);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n\npublic static Texture wood = new Texture(&quot;block1.png&quot;, 64);\npublic static Texture brick = new Texture(&quot;block2.png&quot;, 64);\npublic static Texture bluestone = new Texture(&quot;block3.png&quot;, 64);\npublic static Texture stone = new Texture(&quot;block1.png&quot;, 64);\n</code></pre>\n<p>}</p>\n<p>Class Game:</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.image.BufferStrategy;\nimport java.awt.image.BufferedImage;\nimport java.awt.image.DataBufferInt;\nimport java.util.ArrayList;\nimport javax.swing.JFrame;\n\npublic class Game extends JFrame implements Runnable{\n\n private static final long serialVersionUID = 1L;\n public int mapWidth = 15;\n public int mapHeight = 15;\n private Thread thread;\n private boolean running;\n private BufferedImage image;\n public int[] pixels;\n public ArrayList&lt;Texture&gt; textures;\n public Camera camera;\n public Screen screen;\n public static int[][] map =\n        {\n               {1,1,1,1,1,1,1,1,2,2,2,2,2,2,2},\n               {1,0,0,0,0,0,0,0,2,0,0,0,0,0,2},\n               {1,0,3,3,3,3,3,0,0,0,0,0,0,0,2},\n               {1,0,3,0,0,0,3,0,2,0,0,0,0,0,2},\n               {1,0,3,0,0,0,3,0,2,2,2,0,2,2,2},\n               {1,0,3,0,0,0,3,0,2,0,0,0,0,0,2},\n               {1,0,3,3,0,3,3,0,2,0,0,0,0,0,2},\n               {1,0,0,0,0,0,0,0,2,0,0,0,0,0,2},\n               {1,1,1,1,1,1,1,1,4,4,4,0,4,4,4},\n               {1,0,0,0,0,0,1,4,0,0,0,0,0,0,4},\n               {1,0,0,0,0,0,1,4,0,0,0,0,0,0,4},\n               {1,0,0,0,0,0,1,4,0,3,3,3,3,0,4},\n               {1,0,0,0,0,0,1,4,0,3,3,3,3,0,4},\n               {1,0,0,0,0,0,0,0,0,0,0,0,0,0,4},\n               {1,1,1,1,1,1,1,4,4,4,4,4,4,4,4}\n\n        };\npublic Game() {\n    thread = new Thread(this);\n    image = new BufferedImage(640, 480, BufferedImage.TYPE_INT_RGB);\n    pixels = ((DataBufferInt)image.getRaster().getDataBuffer()).getData();\n    textures = new ArrayList&lt;Texture&gt;();\n    textures.add(Texture.wood);\n    textures.add(Texture.brick);\n    textures.add(Texture.bluestone);\n    textures.add(Texture.stone);\n    camera = new Camera(4.5, 4.5, 1, 0, 0, -.66);\n    screen = new Screen(map, mapWidth, mapHeight, textures, 640, 480);\n    addKeyListener(camera);\n    setSize(640, 480);\n    setResizable(false);\n    setTitle(&quot;3D Engine&quot;);\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setBackground(Color.black);\n    setLocationRelativeTo(null);\n    setVisible(true);\n    start();\n}\nprivate synchronized void start() {\n    running = true;\n    thread.start();\n}\npublic synchronized void stop() {\n    running = false;\n    try {\n        thread.join();\n    } catch(InterruptedException e) {\n        e.printStackTrace();\n    }\n}\npublic void render() {\n    BufferStrategy bs = getBufferStrategy();\n    if(bs == null) {\n        createBufferStrategy(3);\n        return;\n    }\n    Graphics g = bs.getDrawGraphics();\n    g.drawImage(image, 0, 0, image.getWidth(), image.getHeight(), null);\n    bs.show();\n}\npublic void run() {\n    long lastTime = System.nanoTime();\n    final double ns = 1000000000.0 / 60.0;//60 times per second\n    double delta = 0;\n    requestFocus();\n    while(running) {\n        long now = System.nanoTime();\n        delta = delta + ((now-lastTime) / ns);\n        lastTime = now;\n        while (delta &gt;= 1)//Make sure update is only happening 60 times a second\n        {\n            //handles all of the logic restricted time\n            screen.update(camera, pixels);\n            camera.update(map);\n            delta--;\n        }\n        render();//displays to the screen unrestricted time\n    }\n}\npublic static void main(String [] args) {\n    Game game = new Game();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring-boot","docker","kubernetes","kaniko"],"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1196,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646124183,"creation_date":1646124183,"question_id":71305778,"body_markdown":"New version of kubernetes is without docker so we can not use Jenkins docker in docker with docker plugin:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;com.spotify&lt;/groupId&gt;\r\n        &lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;imageName&gt;${docker.image.name}&lt;/imageName&gt;\r\n            &lt;imageTags&gt;\r\n                &lt;imageTag&gt;${project.version}&lt;/imageTag&gt;\r\n                &lt;imageTag&gt;latest&lt;/imageTag&gt;\r\n            &lt;/imageTags&gt;\r\n            &lt;dockerDirectory&gt;${basedir}/target/dockerfile&lt;/dockerDirectory&gt;\r\n            &lt;resources&gt;\r\n                &lt;resource&gt;\r\n                    &lt;targetPath&gt;/&lt;/targetPath&gt;\r\n                    &lt;directory&gt;${project.build.directory}&lt;/directory&gt;\r\n                    &lt;include&gt;${project.build.finalName}.jar&lt;/include&gt;\r\n                &lt;/resource&gt;\r\n            &lt;/resources&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nwith dockerfile:\r\n\r\n    FROM openjdk:8-jdk-alpine\r\n    ARG JAR_FILE=target/*.jar\r\n    COPY ${JAR_FILE} app.jar\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n\r\nWhat is the correct way to build image of spring boot application using kaniko ?\r\n\r\nI know that kaniko support couple of context but I am not sure what is the best with spring boot application. Using git you still need to build all dependencies and then main application, using local dir/tar you can use same dockerfile but still you need to somehow copy archive to mounted volume in kaniko\r\n\r\nI tried this kaniko pod which successfully push image to registry\r\n\r\n    apiVersion: v1\r\n    kind: Pod\r\n    metadata:\r\n      name: kaniko\r\n    spec:\r\n      containers:\r\n      - name: kaniko\r\n        image: gcr.io/kaniko-project/executor:latest\r\n        args: [&quot;--dockerfile=/Dockerfile&quot;,\r\n                &quot;--context=dir:///workspace&quot;,\r\n                &quot;--destination=registry/image:version&quot;,\r\n                &quot;--skip-tls-verify&quot;] \r\n        volumeMounts:\r\n          - name: data\r\n            mountPath: /workspace       \r\n      restartPolicy: Never\r\n      volumes:\r\n        - name: data\r\n          hostPath:\r\n            path: /workspace/\r\n            type: Directory\r\n\r\nbut before this I need to manually copy Dockerfile and jar to mounted volume. Is there some better way how I can use kaniko ?","title":"How to build java spring boot application with kaniko and push it to private registry","body":"<p>New version of kubernetes is without docker so we can not use Jenkins docker in docker with docker plugin:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.spotify&lt;/groupId&gt;\n    &lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.2.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;imageName&gt;${docker.image.name}&lt;/imageName&gt;\n        &lt;imageTags&gt;\n            &lt;imageTag&gt;${project.version}&lt;/imageTag&gt;\n            &lt;imageTag&gt;latest&lt;/imageTag&gt;\n        &lt;/imageTags&gt;\n        &lt;dockerDirectory&gt;${basedir}/target/dockerfile&lt;/dockerDirectory&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;targetPath&gt;/&lt;/targetPath&gt;\n                &lt;directory&gt;${project.build.directory}&lt;/directory&gt;\n                &lt;include&gt;${project.build.finalName}.jar&lt;/include&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>with dockerfile:</p>\n<pre><code>FROM openjdk:8-jdk-alpine\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n<p>What is the correct way to build image of spring boot application using kaniko ?</p>\n<p>I know that kaniko support couple of context but I am not sure what is the best with spring boot application. Using git you still need to build all dependencies and then main application, using local dir/tar you can use same dockerfile but still you need to somehow copy archive to mounted volume in kaniko</p>\n<p>I tried this kaniko pod which successfully push image to registry</p>\n<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: kaniko\nspec:\n  containers:\n  - name: kaniko\n    image: gcr.io/kaniko-project/executor:latest\n    args: [&quot;--dockerfile=/Dockerfile&quot;,\n            &quot;--context=dir:///workspace&quot;,\n            &quot;--destination=registry/image:version&quot;,\n            &quot;--skip-tls-verify&quot;] \n    volumeMounts:\n      - name: data\n        mountPath: /workspace       \n  restartPolicy: Never\n  volumes:\n    - name: data\n      hostPath:\n        path: /workspace/\n        type: Directory\n</code></pre>\n<p>but before this I need to manually copy Dockerfile and jar to mounted volume. Is there some better way how I can use kaniko ?</p>\n"},{"tags":["java","spring-boot","concurrency","thread-safety","java.util.concurrent"],"answers":[{"tags":[],"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646123374,"creation_date":1646122931,"answer_id":71305551,"question_id":71299959,"body_markdown":"If the key doesn&#39;t exist, you just need to create a new ```person``` object and return it.  ```ConcurrentMap#Compute``` will ensure that the entire invocation is atomic.\r\nIf you call ```putIfAbsent``` when key does not exist inside ```compute```, it will cause an infinite loop. (The infinite loop happens in ```ConcurrentHashMap#putVal``` method).\r\n\r\n```\r\n        myData.compute(&quot;A&quot;, (key, person) -&gt; {\r\n            if (person== null) {\r\n                person = new Person();\r\n            } else {\r\n                //Update data, this part its ok!\r\n\r\n            }\r\n            return person;\r\n        });\r\n```\r\n\r\nSee ```ConcurrentMap#compute``` JDK doc:\r\n\r\n&gt; Attempts to compute a mapping for the specified key and its current mapped value (or null if there is no current mapping). For example, to either create or append a String msg to a value mapping:\r\nmap.compute(key, (k, v) -&gt; (v == null) ? msg : v.concat(msg))\r\n\r\n\r\n","title":"How to add a new element in case it does not exist in a ConcurrentMap while are using","body":"<p>If the key doesn't exist, you just need to create a new <code>person</code> object and return it.  <code>ConcurrentMap#Compute</code> will ensure that the entire invocation is atomic.\nIf you call <code>putIfAbsent</code> when key does not exist inside <code>compute</code>, it will cause an infinite loop. (The infinite loop happens in <code>ConcurrentHashMap#putVal</code> method).</p>\n<pre><code>        myData.compute(&quot;A&quot;, (key, person) -&gt; {\n            if (person== null) {\n                person = new Person();\n            } else {\n                //Update data, this part its ok!\n\n            }\n            return person;\n        });\n</code></pre>\n<p>See <code>ConcurrentMap#compute</code> JDK doc:</p>\n<blockquote>\n<p>Attempts to compute a mapping for the specified key and its current mapped value (or null if there is no current mapping). For example, to either create or append a String msg to a value mapping:\nmap.compute(key, (k, v) -&gt; (v == null) ? msg : v.concat(msg))</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11906823,"reputation":405,"user_id":8713172,"display_name":"AntoCode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646124009,"creation_date":1646124009,"answer_id":71305753,"question_id":71299959,"body_markdown":"I found the solution last night but I forgot to answer this ticket.\r\n\r\nI realized doing some very simple tests in a new project that I could make a put when I applied a simple lambda ex: (k,val) -&gt; v == null ? &quot; new text&quot; : &quot;modify&quot;\r\n\r\nthen, I simply saw that I was not doing the return when I generated the new object so it was not instance. \r\n\r\nA beginner mistake hehe but I hope it can be of help to someone who has the same error as me :)\r\n\r\nRegards!\r\n\r\n\r\n        private final ConcurrentMap&lt;String, Person&gt; myData= new ConcurrentHashMap&lt;&gt;();\r\n        \r\n        private void processMyData(){\r\n        \r\n         myData.compute(String, (key, person) -&gt; {\r\n                if (person== null) {\r\n                    return new Person(&quot;Antonio&quot;, 0, false);\r\n                } else {\r\n                    //Update data, this part its ok!\r\n                    person.setConnectedHours(person.getConnectedHours() + 1000);\r\n                    return person;\r\n                }\r\n                \r\n            });\r\n        \r\n        }  ","title":"How to add a new element in case it does not exist in a ConcurrentMap while are using","body":"<p>I found the solution last night but I forgot to answer this ticket.</p>\n<p>I realized doing some very simple tests in a new project that I could make a put when I applied a simple lambda ex: (k,val) -&gt; v == null ? &quot; new text&quot; : &quot;modify&quot;</p>\n<p>then, I simply saw that I was not doing the return when I generated the new object so it was not instance.</p>\n<p>A beginner mistake hehe but I hope it can be of help to someone who has the same error as me :)</p>\n<p>Regards!</p>\n<pre><code>    private final ConcurrentMap&lt;String, Person&gt; myData= new ConcurrentHashMap&lt;&gt;();\n    \n    private void processMyData(){\n    \n     myData.compute(String, (key, person) -&gt; {\n            if (person== null) {\n                return new Person(&quot;Antonio&quot;, 0, false);\n            } else {\n                //Update data, this part its ok!\n                person.setConnectedHours(person.getConnectedHours() + 1000);\n                return person;\n            }\n            \n        });\n    \n    }  \n</code></pre>\n"}],"owner":{"account_id":11906823,"reputation":405,"user_id":8713172,"display_name":"AntoCode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":791,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71305551,"answer_count":2,"score":0,"last_activity_date":1646124009,"creation_date":1646075611,"question_id":71299959,"body_markdown":"I&#39;m working on a Java development with threads and the truth is that I don&#39;t have much of an idea. It is being more complicated than I thought.\r\n\r\nThe thing is that I must group several objects in a ConcurrentMap, if the object is not in the ConcurrentMap must add it and otherwise modify it.\r\n\r\nFor the part of modifying the data I have no problems, but when I want to update I get a &quot;Recursive update&quot; error, I don&#39;t know what else I can do to modify/add my ConcurrentMap and make it threadSafe.\r\n\r\n\r\n\r\n \r\n\r\n    private final ConcurrentMap&lt;String, Person&gt; myData= new ConcurrentHashMap&lt;&gt;();\r\n    \r\n    private void processMyData(){\r\n    \r\n     myData.compute(String, (key, person) -&gt; {\r\n            if (person== null) {\r\n                myData.putIfAbsent(key, new Person(&quot;Antonio&quot;, 0, false));\r\n            } else {\r\n                //Update data, this part its ok!\r\n                person.setConnectedHours(person.getConnectedHours() + 1000);\r\n            }\r\n            return person;\r\n        });\r\n    \r\n    }   ","title":"How to add a new element in case it does not exist in a ConcurrentMap while are using","body":"<p>I'm working on a Java development with threads and the truth is that I don't have much of an idea. It is being more complicated than I thought.</p>\n<p>The thing is that I must group several objects in a ConcurrentMap, if the object is not in the ConcurrentMap must add it and otherwise modify it.</p>\n<p>For the part of modifying the data I have no problems, but when I want to update I get a &quot;Recursive update&quot; error, I don't know what else I can do to modify/add my ConcurrentMap and make it threadSafe.</p>\n<pre><code>private final ConcurrentMap&lt;String, Person&gt; myData= new ConcurrentHashMap&lt;&gt;();\n\nprivate void processMyData(){\n\n myData.compute(String, (key, person) -&gt; {\n        if (person== null) {\n            myData.putIfAbsent(key, new Person(&quot;Antonio&quot;, 0, false));\n        } else {\n            //Update data, this part its ok!\n            person.setConnectedHours(person.getConnectedHours() + 1000);\n        }\n        return person;\n    });\n\n}   \n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":324076,"reputation":23456,"user_id":881635,"accept_rate":93,"display_name":"Shreyash Mahajan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646123926,"creation_date":1436357541,"answer_id":31292308,"question_id":28056645,"body_markdown":"Have you tried with adding dependency like below:\r\n\r\n    compile &#39;com.edmodo:cropper:1.0.1&#39;\r\n","title":"Android add Library error","body":"<p>Have you tried with adding dependency like below:</p>\n<pre><code>compile 'com.edmodo:cropper:1.0.1'\n</code></pre>\n"}],"owner":{"account_id":5529395,"reputation":563,"user_id":4389924,"accept_rate":48,"display_name":"pedroooo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1646123926,"creation_date":1421794341,"question_id":28056645,"body_markdown":"Hello i use a Cropper library i add a project with android wizards but in xml mark a error\r\n\r\n    import com.edmodo.cropper.CropImageView;\r\n    CropImageView crop_image_view;\r\n\r\nwork fine ok import\r\n**my xml:**\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:orientation=&quot;vertical&quot; android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n        &lt;com.edmodo.cropper.CropImageView\r\n            xmlns:custom=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            android:id=&quot;@+id/crop_image&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            custom:aspectRatioX=&quot;5&quot;\r\n            custom:showGuidelines=&quot;onTouch&quot;\r\n            /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nRendering Problems NOTE This project contains Java compilation errors which can cause rendering failures for custom views Fix compilation problems first  \r\n\r\n    The following classes could not be instantiated:\r\n    -&#160;com.edmodo.cropper.CropImageView (Open Class, Show Exception)\r\n     Tip: Use View.isInEditMode() in your custom views to skip code or show sample data when shown in the IDE  Exception Details org.xmlpull.v1.XmlPullParserException: name expected (position:START_TAG &lt;null&gt;@4:59 in java.io.StringReader@eb8d000)\r\n\r\n**my gradlie:**\r\n\r\n    android {\r\n        compileSdkVersion 19\r\n        buildToolsVersion &quot;19.1.0&quot;\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.android&quot;\r\n            minSdkVersion 16\r\n            targetSdkVersion 19\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        compile project(&#39;:cropper&#39;)\r\n    }\r\n\r\nwhere ir my error?\r\n\r\n\r\n","title":"Android add Library error","body":"<p>Hello i use a Cropper library i add a project with android wizards but in xml mark a error</p>\n\n<pre><code>import com.edmodo.cropper.CropImageView;\nCropImageView crop_image_view;\n</code></pre>\n\n<p>work fine ok import\n<strong>my xml:</strong></p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:orientation=\"vertical\" android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n    &lt;com.edmodo.cropper.CropImageView\n        xmlns:custom=\"http://schemas.android.com/apk/res-auto\"\n        android:id=\"@+id/crop_image\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        custom:aspectRatioX=\"5\"\n        custom:showGuidelines=\"onTouch\"\n        /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>Rendering Problems NOTE This project contains Java compilation errors which can cause rendering failures for custom views Fix compilation problems first  </p>\n\n<pre><code>The following classes could not be instantiated:\n-Â com.edmodo.cropper.CropImageView (Open Class, Show Exception)\n Tip: Use View.isInEditMode() in your custom views to skip code or show sample data when shown in the IDE  Exception Details org.xmlpull.v1.XmlPullParserException: name expected (position:START_TAG &lt;null&gt;@4:59 in java.io.StringReader@eb8d000)\n</code></pre>\n\n<p><strong>my gradlie:</strong></p>\n\n<pre><code>android {\n    compileSdkVersion 19\n    buildToolsVersion \"19.1.0\"\n\n    defaultConfig {\n        applicationId \"com.example.android\"\n        minSdkVersion 16\n        targetSdkVersion 19\n        versionCode 1\n        versionName \"1.0\"\n    }\n\n    buildTypes {\n        release {\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile project(':cropper')\n}\n</code></pre>\n\n<p>where ir my error?</p>\n"},{"tags":["java","memory-barriers","java-memory-model"],"comments":[{"owner":{"account_id":24281642,"reputation":1,"user_id":18228068,"display_name":"user18228068"},"score":0,"creation_date":1645051048,"post_id":71150024,"comment_id":125771215,"body_markdown":"It has already been answered here: https://stackoverflow.com/a/69527530","body":"It has already been answered here: <a href=\"https://stackoverflow.com/a/69527530\">stackoverflow.com/a/69527530</a>"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":1,"creation_date":1645056416,"post_id":71150024,"comment_id":125772367,"body_markdown":"How are x and y declared? And what is &quot;fullFence&quot;? The Java memory model is not defined in terms of fences. A single thread cannot observe out of order changes when these changes are made by the thread itself.","body":"How are x and y declared? And what is &quot;fullFence&quot;? The Java memory model is not defined in terms of fences. A single thread cannot observe out of order changes when these changes are made by the thread itself."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":2,"creation_date":1645056523,"post_id":71150024,"comment_id":125772389,"body_markdown":"Memory reordering is separate from execution reordering.  Other cores only see stores when they commit from the store buffer to coherent L1d cache, but the local core sees its own stores in program order via store-forwarding.  See https://preshing.com/20120515/memory-reordering-caught-in-the-act/ re: StoreLoad reordering when observed by another thread.  See also [Reason for the name of the &quot;store buffer&quot; litmus test on x86 TSO memory model](https://stackoverflow.com/q/69112020) for details for x86.","body":"Memory reordering is separate from execution reordering.  Other cores only see stores when they commit from the store buffer to coherent L1d cache, but the local core sees its own stores in program order via store-forwarding.  See <a href=\"https://preshing.com/20120515/memory-reordering-caught-in-the-act/\" rel=\"nofollow noreferrer\">preshing.com/20120515/memory-reordering-caught-in-the-act</a> re: StoreLoad reordering when observed by another thread.  See also <a href=\"https://stackoverflow.com/q/69112020\">Reason for the name of the &quot;store buffer&quot; litmus test on x86 TSO memory model</a> for details for x86."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":2,"creation_date":1645056861,"post_id":71150024,"comment_id":125772450,"body_markdown":"Possible duplicate of [Java instruction reordering and CPU memory reordering](https://stackoverflow.com/q/69568946)?  Not of the answer @user18228068 linked, though, I don&#39;t think: [Java Memory Model - Surprising Behaviors](https://stackoverflow.com/a/69527530) is about something like LoadStore reordering, except on the *same* variable, not between two separate memory locations.  That possibility is a lot harder to account for.","body":"Possible duplicate of <a href=\"https://stackoverflow.com/q/69568946\">Java instruction reordering and CPU memory reordering</a>?  Not of the answer @user18228068 linked, though, I don&#39;t think: <a href=\"https://stackoverflow.com/a/69527530\">Java Memory Model - Surprising Behaviors</a> is about something like LoadStore reordering, except on the <i>same</i> variable, not between two separate memory locations.  That possibility is a lot harder to account for."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1645056918,"post_id":71150024,"comment_id":125772455,"body_markdown":"Does this answer your question? [Java instruction reordering and CPU memory reordering](https://stackoverflow.com/questions/69568946/java-instruction-reordering-and-cpu-memory-reordering)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/69568946/java-instruction-reordering-and-cpu-memory-reordering\">Java instruction reordering and CPU memory reordering</a>"},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1645056928,"post_id":71150024,"comment_id":125772457,"body_markdown":"Also [How does memory reordering help processors and compilers?](https://stackoverflow.com/q/37725497)","body":"Also <a href=\"https://stackoverflow.com/q/37725497\">How does memory reordering help processors and compilers?</a>"},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":1,"creation_date":1645160184,"post_id":71150024,"comment_id":125802361,"body_markdown":"Before jumping into manual fences, I would make a JMH benchmark and check if a standard solution using Atomics and volatile doesn&#39;t suffice. Dealing with fences can be very tricky and it is very easy to end up with bugs that don&#39;t happen often or only on specific hardware. And even if you get it right, chances are that other engineers eventually break it.","body":"Before jumping into manual fences, I would make a JMH benchmark and check if a standard solution using Atomics and volatile doesn&#39;t suffice. Dealing with fences can be very tricky and it is very easy to end up with bugs that don&#39;t happen often or only on specific hardware. And even if you get it right, chances are that other engineers eventually break it."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1645797913,"post_id":71150024,"comment_id":125972242,"body_markdown":"As long as you are only looking at a single threaded execution, this is a pointless question. Of course, there is only one possible outcome when there is no concurrent access. You can even remove the fences then, the result is clear. If you want to discuss what may happen in concurrent scenarios, you have to include what the other thread(s) do.","body":"As long as you are only looking at a single threaded execution, this is a pointless question. Of course, there is only one possible outcome when there is no concurrent access. You can even remove the fences then, the result is clear. If you want to discuss what may happen in concurrent scenarios, you have to include what the other thread(s) do."},{"owner":{"account_id":1679688,"reputation":2208,"user_id":1544278,"accept_rate":61,"display_name":"Turin"},"score":0,"creation_date":1646069548,"post_id":71150024,"comment_id":126028548,"body_markdown":"@Holger, well you answered yourself. No, I am not looking at single-threaded execution. There is concurrent access. I clarified I am looking into what another thread can expect before introducing synchronisation itself.","body":"@Holger, well you answered yourself. No, I am not looking at single-threaded execution. There is concurrent access. I clarified I am looking into what another thread can expect before introducing synchronisation itself."},{"owner":{"account_id":1679688,"reputation":2208,"user_id":1544278,"accept_rate":61,"display_name":"Turin"},"score":0,"creation_date":1646069601,"post_id":71150024,"comment_id":126028565,"body_markdown":"@pveentjer. Your comment is as true as it is irrelevant to the question asked.","body":"@pveentjer. Your comment is as true as it is irrelevant to the question asked."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1646071139,"post_id":71150024,"comment_id":126029025,"body_markdown":"As long as no other thread is ever writing to `x` or `y`, the fact that the single writing thread never writes `1` to `y` will never change. You could remove all the fences and still get the same result, especially as the other threads have no fences, so the fences have no effect anyway. The other threads can see all combinations of `0`, `1`, or `42` for `x` and `0` or `42` for `y`, but no `1` for `y`  because there is no such write. The JMM forbids â€œout-of-thin-air valuesâ€.","body":"As long as no other thread is ever writing to <code>x</code> or <code>y</code>, the fact that the single writing thread never writes <code>1</code> to <code>y</code> will never change. You could remove all the fences and still get the same result, especially as the other threads have no fences, so the fences have no effect anyway. The other threads can see all combinations of <code>0</code>, <code>1</code>, or <code>42</code> for <code>x</code> and <code>0</code> or <code>42</code> for <code>y</code>, but no <code>1</code> for <code>y</code>  because there is no such write. The JMM forbids â€œout-of-thin-air valuesâ€."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1646071437,"post_id":71150024,"comment_id":126029122,"body_markdown":"@Turin your comment is as arrogant as it is naive.","body":"@Turin your comment is as arrogant as it is naive."},{"owner":{"account_id":317953,"reputation":50092,"user_id":634919,"display_name":"Nate Eldredge"},"score":0,"creation_date":1646120553,"post_id":71150024,"comment_id":126039243,"body_markdown":"You more or less said it yourself - a cardinal rule of concurrency is that every thread observes its own loads and stores as if in program order.  Thus the value stored to `y` will be `0`, no ifs ands or buts, and no fences needed.  (Unless of course some other thread is writing to `x` in between - but then you have a data race and all bets are off.)","body":"You more or less said it yourself - a cardinal rule of concurrency is that every thread observes its own loads and stores as if in program order.  Thus the value stored to <code>y</code> will be <code>0</code>, no ifs ands or buts, and no fences needed.  (Unless of course some other thread is writing to <code>x</code> in between - but then you have a data race and all bets are off.)"}],"answers":[{"tags":[],"owner":{"account_id":317953,"reputation":50092,"user_id":634919,"display_name":"Nate Eldredge"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646123772,"creation_date":1646123772,"answer_id":71305715,"question_id":71150024,"body_markdown":"As I see it, this question is not really about reordering.   As you said yourself, a cardinal rule of concurrency is that every thread observes its own loads and stores as if in program order.  Thread 1 absolutely sees the load of `x` happen after the store of `0` to `x`, and so the load will yield the value `0` (assuming no other thread is storing to `x` concurrently).  Thus the value stored to y will be 0, no ifs ands or buts, and no fences needed. The second thread cannot ever print `wtf?`.\r\n\r\nReordering would be the question of whether the load of `x` could become visible *to another thread* before the store of `0`.  This is entirely possible.  You could observe it by having Thread 2 do:\r\n```\r\nif (y == 0) {\r\n    x = 17;\r\n    System.out.println(x);\r\n}\r\n```\r\nYou might think that if we load 0 from `y`, then the store to `y` already happened, which means the load from `x` already happened, which means the store of `0` to `x` already happened.  And so you would think that Thread 2 must print 17, because all other stores to `x` happened earlier.  But in fact it could print 0.\r\n\r\nNote that to get this behavior, you must *not* synchronize Thread 2 to wait until after the second fence.  If you do, then it can only print 17, since after the fence, all of Thread 1&#39;s loads and stores have finished and become visible.  But if you don&#39;t, it&#39;s a data race, and that allows pretty free reordering, essentially C++&#39;s `memory_order_relaxed` if I am not mistaken.  \r\n\r\nA simple hardware mechanism that could cause this is a store buffer.  When Thread 1 stores 0 to `x`, perhaps the store does not go to the coherent cache right away, but is put in a store buffer while Core 1 waits to take ownership of that cache line.  When it then loads from `x` on the next line, it fulfills the load from its store buffer and sees the value 0.  Meanwhile, Thread 2 stores 17 to `x`, and its store hits the cache.  Later, Core 1 finally gets ownership of the cache line and empties the store buffer, storing 0 to `x` in cache.  After that, Core 2 loads `x` again, and now gets the new value of `0` from cache.\r\n\r\nThe compiler could also reorder the code to get the same effect.  It would be free to rewrite the code as:\r\n```\r\n   x = 1;\r\n   fullFence();\r\n   y = 0;\r\n   x = 0;\r\n   fullFence();\r\n```\r\nThis is okay, because the only way for this code to behave differently from the original would be if some other thread were concurrently writing to `x`.  And that would be a data race, so the compiler does not have to care what the other thread sees in such a case.","title":"How can a store to a variable be reordered after a load of that variable, given single-threaded serialization guarantee?","body":"<p>As I see it, this question is not really about reordering.   As you said yourself, a cardinal rule of concurrency is that every thread observes its own loads and stores as if in program order.  Thread 1 absolutely sees the load of <code>x</code> happen after the store of <code>0</code> to <code>x</code>, and so the load will yield the value <code>0</code> (assuming no other thread is storing to <code>x</code> concurrently).  Thus the value stored to y will be 0, no ifs ands or buts, and no fences needed. The second thread cannot ever print <code>wtf?</code>.</p>\n<p>Reordering would be the question of whether the load of <code>x</code> could become visible <em>to another thread</em> before the store of <code>0</code>.  This is entirely possible.  You could observe it by having Thread 2 do:</p>\n<pre><code>if (y == 0) {\n    x = 17;\n    System.out.println(x);\n}\n</code></pre>\n<p>You might think that if we load 0 from <code>y</code>, then the store to <code>y</code> already happened, which means the load from <code>x</code> already happened, which means the store of <code>0</code> to <code>x</code> already happened.  And so you would think that Thread 2 must print 17, because all other stores to <code>x</code> happened earlier.  But in fact it could print 0.</p>\n<p>Note that to get this behavior, you must <em>not</em> synchronize Thread 2 to wait until after the second fence.  If you do, then it can only print 17, since after the fence, all of Thread 1's loads and stores have finished and become visible.  But if you don't, it's a data race, and that allows pretty free reordering, essentially C++'s <code>memory_order_relaxed</code> if I am not mistaken.</p>\n<p>A simple hardware mechanism that could cause this is a store buffer.  When Thread 1 stores 0 to <code>x</code>, perhaps the store does not go to the coherent cache right away, but is put in a store buffer while Core 1 waits to take ownership of that cache line.  When it then loads from <code>x</code> on the next line, it fulfills the load from its store buffer and sees the value 0.  Meanwhile, Thread 2 stores 17 to <code>x</code>, and its store hits the cache.  Later, Core 1 finally gets ownership of the cache line and empties the store buffer, storing 0 to <code>x</code> in cache.  After that, Core 2 loads <code>x</code> again, and now gets the new value of <code>0</code> from cache.</p>\n<p>The compiler could also reorder the code to get the same effect.  It would be free to rewrite the code as:</p>\n<pre><code>   x = 1;\n   fullFence();\n   y = 0;\n   x = 0;\n   fullFence();\n</code></pre>\n<p>This is okay, because the only way for this code to behave differently from the original would be if some other thread were concurrently writing to <code>x</code>.  And that would be a data race, so the compiler does not have to care what the other thread sees in such a case.</p>\n"}],"owner":{"account_id":1679688,"reputation":2208,"user_id":1544278,"accept_rate":61,"display_name":"Turin"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71305715,"answer_count":1,"score":0,"last_activity_date":1646123772,"creation_date":1645050218,"question_id":71150024,"body_markdown":"Lets have a simple code snippet\r\n```java\r\n   import java.invoke.VarHandle.fullFence;\r\n   ...\r\n   int x = 42;\r\n   int y = 42;\r\n   ...\r\n   x = 1;\r\n   fullFence();\r\n   x = 0;\r\n   y = x;\r\n   fullFence();\r\n\r\n   //another thread\r\n   if (y == 1)\r\n      System.err.println(&quot;wtf?&quot;);\r\n```\r\nThere is another thread which reads `x` and `y` - I am trying to reason what kind of guarantees it gets from this code, before adding fences itself.\r\n\r\nConsidering that the thread executing that snippet must see `y==0` after the second fence, can `load(x)` and `store(x, 0)` from between the fences be actually reordered with each other? If so, then why?","title":"How can a store to a variable be reordered after a load of that variable, given single-threaded serialization guarantee?","body":"<p>Lets have a simple code snippet</p>\n<pre class=\"lang-java prettyprint-override\"><code>   import java.invoke.VarHandle.fullFence;\n   ...\n   int x = 42;\n   int y = 42;\n   ...\n   x = 1;\n   fullFence();\n   x = 0;\n   y = x;\n   fullFence();\n\n   //another thread\n   if (y == 1)\n      System.err.println(&quot;wtf?&quot;);\n</code></pre>\n<p>There is another thread which reads <code>x</code> and <code>y</code> - I am trying to reason what kind of guarantees it gets from this code, before adding fences itself.</p>\n<p>Considering that the thread executing that snippet must see <code>y==0</code> after the second fence, can <code>load(x)</code> and <code>store(x, 0)</code> from between the fences be actually reordered with each other? If so, then why?</p>\n"},{"tags":["java","spring","eclipse","spring-boot","maven"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1646121771,"post_id":71305210,"comment_id":126039592,"body_markdown":"It seems like you are simply not download the dependencies?  I would start with running `mvn clean install` from the command line (instead of Eclipse) and see if your pom.xml works .   Then it might be your Maven settings/configurations in Eclipse.","body":"It seems like you are simply not download the dependencies?  I would start with running <code>mvn clean install</code> from the command line (instead of Eclipse) and see if your pom.xml works .   Then it might be your Maven settings/configurations in Eclipse."},{"owner":{"account_id":20657583,"reputation":45,"user_id":15166256,"display_name":"Romli Eko"},"score":0,"creation_date":1646123264,"post_id":71305210,"comment_id":126040114,"body_markdown":"it&#39;s still error when i run mvn clean install failed to excecute","body":"it&#39;s still error when i run mvn clean install failed to excecute"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1646124110,"post_id":71305210,"comment_id":126040399,"body_markdown":"Then look at your ` C:/&lt;username&gt;/.m2/settings.xml`  you might need to configure your settings.xml so you can download the dependencies.  Those dependencies are not being downloaded.","body":"Then look at your ` C:/&lt;username&gt;/.m2/settings.xml`  you might need to configure your settings.xml so you can download the dependencies.  Those dependencies are not being downloaded."},{"owner":{"account_id":20657583,"reputation":45,"user_id":15166256,"display_name":"Romli Eko"},"score":0,"creation_date":1646124185,"post_id":71305210,"comment_id":126040428,"body_markdown":"there are no setting.xml in that folder only repository folder","body":"there are no setting.xml in that folder only repository folder"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1646124268,"post_id":71305210,"comment_id":126040465,"body_markdown":"Please try to resolve your maven first.  Create a simple project, with a simple pom.xml with only 1 dependency and make your maven work.  Internet connection?  Proxy? Are  you on your home computer, work computer?  Do `mvn clean install -U`","body":"Please try to resolve your maven first.  Create a simple project, with a simple pom.xml with only 1 dependency and make your maven work.  Internet connection?  Proxy? Are  you on your home computer, work computer?  Do <code>mvn clean install -U</code>"},{"owner":{"account_id":20657583,"reputation":45,"user_id":15166256,"display_name":"Romli Eko"},"score":0,"creation_date":1646125651,"post_id":71305210,"comment_id":126040949,"body_markdown":"i try create simple maven project add dependency and try maven install its still error","body":"i try create simple maven project add dependency and try maven install its still error"}],"answers":[{"tags":[],"owner":{"account_id":6544683,"reputation":117,"user_id":5608755,"accept_rate":25,"display_name":"mstrahinic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646123346,"creation_date":1646123346,"answer_id":71305649,"question_id":71305210,"body_markdown":"Sometimes eclipse can give you problems without obvious reason. Looks like the problem is somewhere in configuration. \r\nI would try this:\r\n\r\n&gt; 1. Delete existing run configurations. When you run the main class as &quot;Run as Java Program&quot;, it adds the default classpath of the project as\r\n&gt; User entries into Run Configurations&#39;s classpath as shown below.\r\n&gt; 2. Check for missing library.\r\n&gt; 3. Debug the Java program.\r\n\r\nHere is some useful link you can check: \r\nhttps://stackoverflow.com/questions/11235827/eclipse-error-could-not-find-or-load-main-class\r\n\r\nAlso please check this link:\r\nhttps://www.java67.com/2016/09/3-ways-to-solve-eclipse-main-class-not-found-error-java.html\r\n\r\nAnd one more: https://www.eclipse.org/forums/index.php/t/1093209/\r\n\r\nSome of these solutions should work for you.","title":"Missing Artifact in eclipse maven project","body":"<p>Sometimes eclipse can give you problems without obvious reason. Looks like the problem is somewhere in configuration.\nI would try this:</p>\n<blockquote>\n<ol>\n<li>Delete existing run configurations. When you run the main class as &quot;Run as Java Program&quot;, it adds the default classpath of the project as\nUser entries into Run Configurations's classpath as shown below.</li>\n<li>Check for missing library.</li>\n<li>Debug the Java program.</li>\n</ol>\n</blockquote>\n<p>Here is some useful link you can check:\n<a href=\"https://stackoverflow.com/questions/11235827/eclipse-error-could-not-find-or-load-main-class\">Eclipse &quot;Error: Could not find or load main class&quot;</a></p>\n<p>Also please check this link:\n<a href=\"https://www.java67.com/2016/09/3-ways-to-solve-eclipse-main-class-not-found-error-java.html\" rel=\"nofollow noreferrer\">https://www.java67.com/2016/09/3-ways-to-solve-eclipse-main-class-not-found-error-java.html</a></p>\n<p>And one more: <a href=\"https://www.eclipse.org/forums/index.php/t/1093209/\" rel=\"nofollow noreferrer\">https://www.eclipse.org/forums/index.php/t/1093209/</a></p>\n<p>Some of these solutions should work for you.</p>\n"}],"owner":{"account_id":20657583,"reputation":45,"user_id":15166256,"display_name":"Romli Eko"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646123346,"creation_date":1646120840,"question_id":71305210,"body_markdown":"When I try run the project I have this error\r\n\r\n```\r\nError: Could not find or load main class com.listactivitysyariah.ListActivitySyariahApplication\r\n```\r\n\r\n```\r\nDescription\tResource\tPath\tLocation\tType\r\nFailed to read artifact descriptor for org.olap4j:olap4j:jar:0.9.7.309-JS-3\r\n\r\norg.eclipse.aether.resolution.ArtifactDescriptorException: Failed to read artifact descriptor for org.olap4j:olap4j:jar:0.9.7.309-JS-3\t\r\nMissing artifact antlr:antlr:jar:2.7.7\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact ch.qos.logback:logback-classic:jar:1.2.3\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact ch.qos.logback:logback-core:jar:1.2.3\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact com.alibaba:fastjson:jar:1.2.57\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact com.fasterxml:classmate:jar:1.5.1\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact com.fasterxml.jackson.core:jackson-annotations:jar:2.10.3\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact com.fasterxml.jackson.core:jackson-core:jar:2.10.3\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact com.fasterxml.jackson.core:jackson-databind:jar:2.10.3\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.10.3\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.10.3\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.10.3\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact com.github.virtuald:curvesapi:jar:1.05\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact com.itextpdf:itext-pdfa:jar:5.5.0\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact com.itextpdf:itextpdf:jar:5.5.0\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact com.jayway.jsonpath:json-path:jar:2.4.0\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact com.sun.activation:jakarta.activation:jar:1.2.2\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact com.sun.istack:istack-commons-runtime:jar:3.0.8\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact com.sun.mail:jakarta.mail:jar:1.6.5\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact com.sun.xml.fastinfoset:FastInfoset:jar:1.2.16\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact com.zaxxer:HikariCP:jar:3.4.2\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact commons-beanutils:commons-beanutils:jar:1.9.0\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact commons-codec:commons-codec:jar:1.13\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact commons-collections:commons-collections:jar:3.2.1\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact commons-digester:commons-digester:jar:2.1\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact commons-logging:commons-logging:jar:1.1.1\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact eu.bitwalker:UserAgentUtils:jar:1.21\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact jakarta-regexp:jakarta-regexp:jar:1.4\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact jakarta.activation:jakarta.activation-api:jar:1.2.2\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact jakarta.annotation:jakarta.annotation-api:jar:1.3.5\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact jakarta.persistence:jakarta.persistence-api:jar:2.2.3\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact jakarta.transaction:jakarta.transaction-api:jar:1.3.3\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact jakarta.validation:jakarta.validation-api:jar:2.0.2\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact jfree:jcommon:jar:1.0.15\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact jfree:jfreechart:jar:1.0.12\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact junit:junit:jar:4.12\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact mysql:mysql-connector-java:jar:8.0.19\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact net.bytebuddy:byte-buddy-agent:jar:1.10.8\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact net.bytebuddy:byte-buddy:jar:1.10.8\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact net.minidev:accessors-smart:jar:1.2\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact net.minidev:json-smart:jar:2.3\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact net.sf.jasperreports:jasperreports:jar:6.0.0\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact net.sf.trove4j:core:jar:3.1.0\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact nz.net.ultraq.thymeleaf:thymeleaf-expression-processor:jar:1.1.3\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact nz.net.ultraq.thymeleaf:thymeleaf-layout-dialect:jar:2.4.1\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact ognl:ognl:jar:3.1.12\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact org.apache.commons:commons-collections4:jar:4.2\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact org.apache.commons:commons-compress:jar:1.18\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact org.apache.commons:commons-math3:jar:3.6.1\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact org.apache.logging.log4j:log4j-api:jar:2.12.1\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact org.apache.logging.log4j:log4j-to-slf4j:jar:2.12.1\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact org.apache.lucene:lucene-analyzers-common:jar:4.5.1\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact org.apache.lucene:lucene-core:jar:4.5.1\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact org.apache.lucene:lucene-queries:jar:4.5.1\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nMissing artifact org.apache.lucene:lucene-queryparser:jar:4.5.1\tpom.xml\t/ListActivitySPVSyariah\tline 1\tMaven Dependency Problem\r\nReferenced file contains errors (http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd).  For more information, right click on the message in the Problems View and select &quot;Show Details...&quot;\tweb.xml\t/ListActivitySPVSyariah/src/main/webapp/WEB-INF\tline 1\tXML Problem\r\nImplementation of project facet java could not be found. Functionality will be limited.\tListActivitySPVSyariah\t\tUnknown\tFaceted Project Problem\r\nImplementation of project facet jst.web could not be found. Functionality will be limited.\tListActivitySPVSyariah\t\tUnknown\tFaceted Project Problem\r\nImplementation of project facet wst.jsdt.web could not be found. Functionality will be limited.\tListActivitySPVSyariah\t\tUnknown\tFaceted Project Problem\r\n\r\n```\r\n\r\nI got this in the problem tab, I check the repository folder is there \r\n\r\nI already do update the project, deleting .m2 folder and updating the project, closing and reopening the project, still got the error, can anyone figuring what is the problem?","title":"Missing Artifact in eclipse maven project","body":"<p>When I try run the project I have this error</p>\n<pre><code>Error: Could not find or load main class com.listactivitysyariah.ListActivitySyariahApplication\n</code></pre>\n<pre><code>Description Resource    Path    Location    Type\nFailed to read artifact descriptor for org.olap4j:olap4j:jar:0.9.7.309-JS-3\n\norg.eclipse.aether.resolution.ArtifactDescriptorException: Failed to read artifact descriptor for org.olap4j:olap4j:jar:0.9.7.309-JS-3  \nMissing artifact antlr:antlr:jar:2.7.7  pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact ch.qos.logback:logback-classic:jar:1.2.3   pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact ch.qos.logback:logback-core:jar:1.2.3  pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact com.alibaba:fastjson:jar:1.2.57    pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact com.fasterxml:classmate:jar:1.5.1  pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact com.fasterxml.jackson.core:jackson-annotations:jar:2.10.3  pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact com.fasterxml.jackson.core:jackson-core:jar:2.10.3 pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact com.fasterxml.jackson.core:jackson-databind:jar:2.10.3 pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.10.3    pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.10.3  pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.10.3 pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact com.github.virtuald:curvesapi:jar:1.05 pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact com.itextpdf:itext-pdfa:jar:5.5.0  pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact com.itextpdf:itextpdf:jar:5.5.0    pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact com.jayway.jsonpath:json-path:jar:2.4.0    pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact com.sun.activation:jakarta.activation:jar:1.2.2    pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact com.sun.istack:istack-commons-runtime:jar:3.0.8    pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact com.sun.mail:jakarta.mail:jar:1.6.5    pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact com.sun.xml.fastinfoset:FastInfoset:jar:1.2.16 pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1   pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact com.zaxxer:HikariCP:jar:3.4.2  pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact commons-beanutils:commons-beanutils:jar:1.9.0  pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact commons-codec:commons-codec:jar:1.13   pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact commons-collections:commons-collections:jar:3.2.1  pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact commons-digester:commons-digester:jar:2.1  pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact commons-logging:commons-logging:jar:1.1.1  pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact eu.bitwalker:UserAgentUtils:jar:1.21   pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact jakarta-regexp:jakarta-regexp:jar:1.4  pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact jakarta.activation:jakarta.activation-api:jar:1.2.2    pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact jakarta.annotation:jakarta.annotation-api:jar:1.3.5    pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact jakarta.persistence:jakarta.persistence-api:jar:2.2.3  pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact jakarta.transaction:jakarta.transaction-api:jar:1.3.3  pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact jakarta.validation:jakarta.validation-api:jar:2.0.2    pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3    pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact jfree:jcommon:jar:1.0.15   pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact jfree:jfreechart:jar:1.0.12    pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact junit:junit:jar:4.12   pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact mysql:mysql-connector-java:jar:8.0.19  pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact net.bytebuddy:byte-buddy-agent:jar:1.10.8  pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact net.bytebuddy:byte-buddy:jar:1.10.8    pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact net.minidev:accessors-smart:jar:1.2    pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact net.minidev:json-smart:jar:2.3 pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact net.sf.jasperreports:jasperreports:jar:6.0.0   pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact net.sf.trove4j:core:jar:3.1.0  pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact nz.net.ultraq.thymeleaf:thymeleaf-expression-processor:jar:1.1.3   pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact nz.net.ultraq.thymeleaf:thymeleaf-layout-dialect:jar:2.4.1 pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact ognl:ognl:jar:3.1.12   pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact org.apache.commons:commons-collections4:jar:4.2    pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact org.apache.commons:commons-compress:jar:1.18   pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact org.apache.commons:commons-math3:jar:3.6.1 pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact org.apache.logging.log4j:log4j-api:jar:2.12.1  pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact org.apache.logging.log4j:log4j-to-slf4j:jar:2.12.1 pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact org.apache.lucene:lucene-analyzers-common:jar:4.5.1    pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact org.apache.lucene:lucene-core:jar:4.5.1    pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact org.apache.lucene:lucene-queries:jar:4.5.1 pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nMissing artifact org.apache.lucene:lucene-queryparser:jar:4.5.1 pom.xml /ListActivitySPVSyariah line 1  Maven Dependency Problem\nReferenced file contains errors (http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd).  For more information, right click on the message in the Problems View and select &quot;Show Details...&quot;   web.xml /ListActivitySPVSyariah/src/main/webapp/WEB-INF line 1  XML Problem\nImplementation of project facet java could not be found. Functionality will be limited. ListActivitySPVSyariah      Unknown Faceted Project Problem\nImplementation of project facet jst.web could not be found. Functionality will be limited.  ListActivitySPVSyariah      Unknown Faceted Project Problem\nImplementation of project facet wst.jsdt.web could not be found. Functionality will be limited. ListActivitySPVSyariah      Unknown Faceted Project Problem\n\n</code></pre>\n<p>I got this in the problem tab, I check the repository folder is there</p>\n<p>I already do update the project, deleting .m2 folder and updating the project, closing and reopening the project, still got the error, can anyone figuring what is the problem?</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1646121971,"post_id":71305311,"comment_id":126039663,"body_markdown":"You always loop over all of your passengers and overwrite those in your `addPassenger()`.","body":"You always loop over all of your passengers and overwrite those in your <code>addPassenger()</code>."}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646121997,"creation_date":1646121997,"answer_id":71305406,"question_id":71305311,"body_markdown":"The `addPassenger()` method is overwriting every element in the array:\r\n\r\n    public void addPassenger(Passenger a){\r\n        for (int i = 0; i &lt; passengers.length; i++){\r\n           passengers[i] = a;\r\n        }\r\n    }\r\n\r\nIt should just set the one at the next available index, which happens to be `count`:\r\n\r\n    public void addPassenger(Passenger a){\r\n        passengers[count++] = a;\r\n    }\r\n\r\nThis also gives you better encapsulation, as you don&#39;t have to expose and increment `count` externally.","title":"How to stop Java code from repeating last value of object array?","body":"<p>The <code>addPassenger()</code> method is overwriting every element in the array:</p>\n<pre><code>public void addPassenger(Passenger a){\n    for (int i = 0; i &lt; passengers.length; i++){\n       passengers[i] = a;\n    }\n}\n</code></pre>\n<p>It should just set the one at the next available index, which happens to be <code>count</code>:</p>\n<pre><code>public void addPassenger(Passenger a){\n    passengers[count++] = a;\n}\n</code></pre>\n<p>This also gives you better encapsulation, as you don't have to expose and increment <code>count</code> externally.</p>\n"},{"tags":[],"owner":{"account_id":2467818,"reputation":29,"user_id":2150485,"display_name":"Nikolao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646123145,"creation_date":1646123145,"answer_id":71305600,"question_id":71305311,"body_markdown":"this \r\n\r\n```//add a passenger\r\n    public void addPassenger(Passenger a){\r\n\r\n        for (int i = 0; i &lt; passengers.length; i++){\r\n\r\n\r\n           passengers[i] = a;\r\n\r\n\r\n\r\n        }\r\n    }\r\n```\r\n\r\nProduce every time a Passenger Array full with the same Passenger.\r\nPerhaps this might solve the problem.\r\n\r\n```\r\n\r\npublic void addPassenger(Passenger a){\r\n\r\n        for (int i = 0; i &lt; passengers.length; i++){\r\n\r\n          if((passengers[i-1] !=null)&amp;&amp;((passengers[i] ==null))\r\n          { passengers[i] = a; }\r\n\r\n\r\n\r\n\r\n        }\r\n    }\r\n\r\n```\r\n\r\nA better implementation could be with *ArrayList* \r\n\r\n**Airplane**\r\n\r\n```\r\n\r\npublic class Airplane {\r\n\r\n    private ArrayList&lt;Passenger&gt; passengers;\r\n    private String airplaneName;\r\n    private int numPassengers;\r\n    public int count = 0;\r\n\r\n    //default constructor\r\n    public Airplane(){\r\n\r\n        airplaneName = &quot;&quot;;\r\n        passengers = new ArrayList();\r\n        numPassengers = 0;\r\n    }\r\n\r\n    //default constructor with String input\r\n    public Airplane(String otherairplaneName){\r\n\r\n        airplaneName = otherairplaneName;\r\n        passengers = new ArrayList();\r\n        numPassengers = 0;\r\n\r\n    }\r\n\r\n    \r\n\r\n    //default constructor with String and int input\r\n    public Airplane(String otherAirplaneName){\r\n\r\n        airplaneName = otherAirplaneName;\r\n\r\n\r\n        passengers = new ArrayList();\r\n\r\n\r\n        numPassengers = 0;\r\n\r\n    }\r\n\r\n    //add a passenger\r\n    public void addPassenger(Passenger a){\r\n\t\t\r\n\t\tpassengers.add(a);\r\n      \r\n    }\r\n\r\n\r\n    //get a passenger\r\n    public Passenger getPassenger(int passengerIndex){\r\n\r\n        return passengers[passengerIndex];\r\n    }\r\n\r\n    //getNumPassengers\r\n    public int getNumPassengers() {\r\n\r\n       return count;\r\n    }\r\n\r\n    //getFirstPassenger\r\n    public Passenger getFirstPassenger(){\r\n\r\n        return passengers.get(0);\r\n    }\r\n\r\n    //getLastPassenger\r\n    public Passenger getLastPassenger(){\r\n\r\n        return passengers.get(passengers.size() - 1);\r\n    }\r\n\r\n    //getPassengers**\r\n    public ArrayList&lt;Passenger&gt; getPassengers(){\r\n\r\n        return passengers;\r\n    }\r\n\r\n    //setAirplaneName\r\n    public void setAirplaneName(String newAirplaneName){\r\n\r\n        airplaneName = newAirplaneName;\r\n    }\r\n\r\n    //printAllDetails\r\n    public void printAllDetails(){\r\n\r\n        System.out.printf(&quot;AirplaneName: %20s | Number of Passengers: %4d | Airplane Size: %4d\\n&quot;, airplaneName, count, passengers.size());\r\n\r\n        for (int i = 0; i &lt; count; i++){\r\n            System.out.printf(&quot;Name: %20s | Year of Birth: %4d | Weight: %10.2f | Gender: %c\\n&quot;, passengers.get(i).getName(), passengers[i].get(i).getBirthYear(), passengers[i].get(i).getWeight(), passengers[i].get(i).getGender());\r\n\r\n        }\r\n    }\r\n\r\n    //removePassenger\r\n    public Passenger removePassenger(int passengerIndex){\r\n\r\n\t\t\tpassengers.remove(passengerIndex);\r\n\r\n        return passengers.get(passengerIndex);\r\n    }\r\n\r\n    //remove all passengers\r\n    public void removeAllPassengers(){\r\n\r\n       passengers = new ArrayList();\r\n    }\r\n\r\n    //total weight passengers\r\n    public double getTotalWeightOfAllPassengers(){\r\n\r\n        double weight = 0.0;\r\n\r\n        for (int i = 0; i &lt; passengers.size(); i++){\r\n            weight += passengers.get(i).getWeight();\r\n        }\r\n\r\n        return weight;\r\n    }\r\n\r\n    //avg weight passengers\r\n    public double getAverageWeightOfAllPassengers(){\r\n\r\n        double avg = this.getTotalWeightOfAllPassengers() / numPassengers;\r\n\r\n        return avg;\r\n    }\r\n\r\n    //num elements above weight\r\n    public int getNumberOfPassengersAboveWeight(double weight){\r\n\r\n        int sum = 0;\r\n\r\n        for (int i = 0; i &lt; passengers.size(); i++){\r\n\r\n            if (passengers.get(i).getWeight() &gt; weight){\r\n                sum += 1;\r\n            }\r\n\r\n        }\r\n\r\n        return sum;\r\n    }\r\n\r\n    //num elements below weight\r\n    public int getNumberOfPassengersBelowWeight(double weight){\r\n\r\n        int sum = 0;\r\n\r\n        for (int i = 0; i &lt; passengers.size(); i++){\r\n\r\n            if (passengers.get(i).getWeight() &lt; weight){\r\n                sum += 1;\r\n            }\r\n\r\n        }\r\n\r\n        return sum;\r\n    }\r\n\r\n    //increase weight of passengers\r\n    public void increaseWeightOfAllPassengers(){\r\n\r\n        for (int i = 0; i &lt; passengers.size(); i++){\r\n            passengers.get(i).gainWeight();\r\n        }\r\n\r\n    }\r\n\r\n    //increase weight of passengers with weight input\r\n    public void increaseWeightOfAllPassengers(double increaseAmount){\r\n\r\n        for (int i = 0; i &lt; passengers.size(); i++){\r\n            passengers.get(i).gainWeight(increaseAmount);\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\n\r\n","title":"How to stop Java code from repeating last value of object array?","body":"<p>this</p>\n<pre><code>    public void addPassenger(Passenger a){\n\n        for (int i = 0; i &lt; passengers.length; i++){\n\n\n           passengers[i] = a;\n\n\n\n        }\n    }\n</code></pre>\n<p>Produce every time a Passenger Array full with the same Passenger.\nPerhaps this might solve the problem.</p>\n<pre><code>\npublic void addPassenger(Passenger a){\n\n        for (int i = 0; i &lt; passengers.length; i++){\n\n          if((passengers[i-1] !=null)&amp;&amp;((passengers[i] ==null))\n          { passengers[i] = a; }\n\n\n\n\n        }\n    }\n\n</code></pre>\n<p>A better implementation could be with <em>ArrayList</em></p>\n<p><strong>Airplane</strong></p>\n<pre><code>\npublic class Airplane {\n\n    private ArrayList&lt;Passenger&gt; passengers;\n    private String airplaneName;\n    private int numPassengers;\n    public int count = 0;\n\n    //default constructor\n    public Airplane(){\n\n        airplaneName = &quot;&quot;;\n        passengers = new ArrayList();\n        numPassengers = 0;\n    }\n\n    //default constructor with String input\n    public Airplane(String otherairplaneName){\n\n        airplaneName = otherairplaneName;\n        passengers = new ArrayList();\n        numPassengers = 0;\n\n    }\n\n    \n\n    //default constructor with String and int input\n    public Airplane(String otherAirplaneName){\n\n        airplaneName = otherAirplaneName;\n\n\n        passengers = new ArrayList();\n\n\n        numPassengers = 0;\n\n    }\n\n    //add a passenger\n    public void addPassenger(Passenger a){\n        \n        passengers.add(a);\n      \n    }\n\n\n    //get a passenger\n    public Passenger getPassenger(int passengerIndex){\n\n        return passengers[passengerIndex];\n    }\n\n    //getNumPassengers\n    public int getNumPassengers() {\n\n       return count;\n    }\n\n    //getFirstPassenger\n    public Passenger getFirstPassenger(){\n\n        return passengers.get(0);\n    }\n\n    //getLastPassenger\n    public Passenger getLastPassenger(){\n\n        return passengers.get(passengers.size() - 1);\n    }\n\n    //getPassengers**\n    public ArrayList&lt;Passenger&gt; getPassengers(){\n\n        return passengers;\n    }\n\n    //setAirplaneName\n    public void setAirplaneName(String newAirplaneName){\n\n        airplaneName = newAirplaneName;\n    }\n\n    //printAllDetails\n    public void printAllDetails(){\n\n        System.out.printf(&quot;AirplaneName: %20s | Number of Passengers: %4d | Airplane Size: %4d\\n&quot;, airplaneName, count, passengers.size());\n\n        for (int i = 0; i &lt; count; i++){\n            System.out.printf(&quot;Name: %20s | Year of Birth: %4d | Weight: %10.2f | Gender: %c\\n&quot;, passengers.get(i).getName(), passengers[i].get(i).getBirthYear(), passengers[i].get(i).getWeight(), passengers[i].get(i).getGender());\n\n        }\n    }\n\n    //removePassenger\n    public Passenger removePassenger(int passengerIndex){\n\n            passengers.remove(passengerIndex);\n\n        return passengers.get(passengerIndex);\n    }\n\n    //remove all passengers\n    public void removeAllPassengers(){\n\n       passengers = new ArrayList();\n    }\n\n    //total weight passengers\n    public double getTotalWeightOfAllPassengers(){\n\n        double weight = 0.0;\n\n        for (int i = 0; i &lt; passengers.size(); i++){\n            weight += passengers.get(i).getWeight();\n        }\n\n        return weight;\n    }\n\n    //avg weight passengers\n    public double getAverageWeightOfAllPassengers(){\n\n        double avg = this.getTotalWeightOfAllPassengers() / numPassengers;\n\n        return avg;\n    }\n\n    //num elements above weight\n    public int getNumberOfPassengersAboveWeight(double weight){\n\n        int sum = 0;\n\n        for (int i = 0; i &lt; passengers.size(); i++){\n\n            if (passengers.get(i).getWeight() &gt; weight){\n                sum += 1;\n            }\n\n        }\n\n        return sum;\n    }\n\n    //num elements below weight\n    public int getNumberOfPassengersBelowWeight(double weight){\n\n        int sum = 0;\n\n        for (int i = 0; i &lt; passengers.size(); i++){\n\n            if (passengers.get(i).getWeight() &lt; weight){\n                sum += 1;\n            }\n\n        }\n\n        return sum;\n    }\n\n    //increase weight of passengers\n    public void increaseWeightOfAllPassengers(){\n\n        for (int i = 0; i &lt; passengers.size(); i++){\n            passengers.get(i).gainWeight();\n        }\n\n    }\n\n    //increase weight of passengers with weight input\n    public void increaseWeightOfAllPassengers(double increaseAmount){\n\n        for (int i = 0; i &lt; passengers.size(); i++){\n            passengers.get(i).gainWeight(increaseAmount);\n        }\n\n    }\n\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646123186,"creation_date":1646123186,"answer_id":71305611,"question_id":71305311,"body_markdown":"The issue is in the method `addPassenger`. You are replacing always the first element. \r\n\r\nYou can fix in this way:\r\n```java\r\npublic void addPassenger(Passenger a){\r\n    passengers[count] = a;\r\n    count++\r\n}\r\n```\r\n\r\n**For better implementation**, you can remove `count` and use `numPassengers`.\r\n\r\nTherefore the method becomes:\r\n```java\r\npublic void addPassenger(Passenger a){\r\n    passengers[numPassengers] = a;\r\n    numPassengers++\r\n}\r\n```\r\nand the main class:\r\n```java\r\npublic class RunAirplane {\r\n    public static void main(String[] args) {\r\n        Airplane a1 = new Airplane(&quot;Flight 1&quot;, 100);\r\n        Passenger p1 = new Passenger(&quot;Albert&quot;, 1879, 198.5, &#39;m&#39;, 2);\r\n        Passenger p2 = new Passenger(&quot;Grace&quot;, 1906, 105, &#39;f&#39;, 1);\r\n        Passenger p3 = new Passenger(&quot;Tim&quot;, 1955, 216.3, &#39;m&#39;, 2);\r\n        Passenger p4 = new Passenger(&quot;Steve&quot;, 1955, 160, &#39;m&#39;, 2);\r\n        Passenger p5 = new Passenger(&quot;Sergey&quot;, 1973, 165.35, &#39;m&#39;, 1);\r\n\r\n        a1.addPassenger(p1);\r\n        a1.addPassenger(p2);\r\n        a1.addPassenger(p3);\r\n        a1.addPassenger(p4);\r\n        a1.addPassenger(p5);\r\n        a1.printAllDetails();\r\n\r\n        //How it should work starting with name\r\n        System.out.println(p1.getName());\r\n        System.out.println(p2.getName());\r\n\r\n    }\r\n}\r\n```\r\n\r\n**For the best implementation**, you can use `List` instead of an array for the field `passengers`:\r\n```java\r\nprivate List&lt;Passenger&gt; passengers;\r\n```\r\n```java\r\npublic Airplane(){\r\n    airplaneName = &quot;&quot;;\r\n    passengers = new ArrayList&lt;&gt;();\r\n}\r\n```\r\n\r\n```java\r\npublic void addPassenger(Passenger a){\r\n    passengers.add(a);\r\n}\r\n```\r\nYou can remove the `numPassengers` and use `size`:\r\n```java\r\npublic int getNumPassengers() {\r\n   return passengers.size();\r\n}\r\n```\r\n\r\n","title":"How to stop Java code from repeating last value of object array?","body":"<p>The issue is in the method <code>addPassenger</code>. You are replacing always the first element.</p>\n<p>You can fix in this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void addPassenger(Passenger a){\n    passengers[count] = a;\n    count++\n}\n</code></pre>\n<p><strong>For better implementation</strong>, you can remove <code>count</code> and use <code>numPassengers</code>.</p>\n<p>Therefore the method becomes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void addPassenger(Passenger a){\n    passengers[numPassengers] = a;\n    numPassengers++\n}\n</code></pre>\n<p>and the main class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RunAirplane {\n    public static void main(String[] args) {\n        Airplane a1 = new Airplane(&quot;Flight 1&quot;, 100);\n        Passenger p1 = new Passenger(&quot;Albert&quot;, 1879, 198.5, 'm', 2);\n        Passenger p2 = new Passenger(&quot;Grace&quot;, 1906, 105, 'f', 1);\n        Passenger p3 = new Passenger(&quot;Tim&quot;, 1955, 216.3, 'm', 2);\n        Passenger p4 = new Passenger(&quot;Steve&quot;, 1955, 160, 'm', 2);\n        Passenger p5 = new Passenger(&quot;Sergey&quot;, 1973, 165.35, 'm', 1);\n\n        a1.addPassenger(p1);\n        a1.addPassenger(p2);\n        a1.addPassenger(p3);\n        a1.addPassenger(p4);\n        a1.addPassenger(p5);\n        a1.printAllDetails();\n\n        //How it should work starting with name\n        System.out.println(p1.getName());\n        System.out.println(p2.getName());\n\n    }\n}\n</code></pre>\n<p><strong>For the best implementation</strong>, you can use <code>List</code> instead of an array for the field <code>passengers</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private List&lt;Passenger&gt; passengers;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public Airplane(){\n    airplaneName = &quot;&quot;;\n    passengers = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public void addPassenger(Passenger a){\n    passengers.add(a);\n}\n</code></pre>\n<p>You can remove the <code>numPassengers</code> and use <code>size</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int getNumPassengers() {\n   return passengers.size();\n}\n</code></pre>\n"}],"owner":{"account_id":24414218,"reputation":3,"user_id":18341279,"display_name":"bf119"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71305611,"answer_count":3,"score":0,"last_activity_date":1646123186,"creation_date":1646121402,"question_id":71305311,"body_markdown":"I&#39;m working on a project with a friend; we&#39;re trying to create an airplane project using a Passenger class for passengers, Airplane class to add in passengers and create the airplane, and a driver class. We&#39;ve run into an issue where when we add in all the passengers to the airplane and print all details of the airplane, printed values are capturing only the last passenger&#39;s information. We&#39;re trying to get this for every passenger. Here is the code: \r\n\r\n**Passenger**\r\n```\r\npublic class Passenger {\r\n\r\n    private String name;\r\n    private int  birthYear;\r\n    private double weight;\r\n    private char gender;\r\n    private int numCarryOn;\r\n\r\n    //Default constructor\r\n    public Passenger(){\r\n        name = &quot;&quot;;\r\n        birthYear = 1900;\r\n        weight = 0.0;\r\n        gender = &#39;u&#39;;\r\n        numCarryOn = 0;\r\n    }\r\n\r\n    //Alt default constructor\r\n    public Passenger(String newName, int newBirthYear, double newWeight, char newGend, int newNumCarryOn){\r\n\r\n        this.setName(newName);\r\n        this.setBirthYear(newBirthYear);\r\n        this.setWeight(newWeight);\r\n        this.setGender(newGend);\r\n        this.setNumCarryOn(newNumCarryOn);\r\n    }\r\n\r\n    //Calculate age\r\n    public int calculateAge(int currentYear){\r\n\r\n        int age = 0;\r\n\r\n        if (currentYear &lt; birthYear){\r\n            return -1;\r\n        }\r\n        else {\r\n            age = currentYear - birthYear;\r\n        }\r\n\r\n        return age;\r\n    }\r\n\r\n    //Gain weight\r\n    public void gainWeight(){\r\n        weight += 1;\r\n    }\r\n\r\n    //Gain weight based on input\r\n    public void gainWeight(double pounds){\r\n\r\n        if (weight &gt; 0){\r\n            weight = weight + pounds;\r\n        }\r\n\r\n    }\r\n\r\n    //Get birthYear\r\n    public int getBirthYear(){\r\n        return birthYear;\r\n    }\r\n\r\n    //Get gender\r\n    public char getGender(){\r\n        return gender;\r\n    }\r\n\r\n    //Get name\r\n    public String getName(){\r\n        return name;\r\n    }\r\n\r\n    //Get weight\r\n    public double getWeight(){\r\n        return weight;\r\n    }\r\n\r\n    //Get numCarryOn\r\n    public int getNumCarryOn(){\r\n        return numCarryOn;\r\n    }\r\n\r\n    //isFemale\r\n    public boolean isFemale(){\r\n\r\n        if (gender == &#39;f&#39;){\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    //isMale\r\n    public boolean isMale(){\r\n        if (gender == &#39;m&#39;){\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n\r\n        }\r\n    }\r\n\r\n    //loseWeight\r\n    public void loseWeight(){\r\n\r\n        if (weight &gt; 0){\r\n            weight -= 1;\r\n        }\r\n\r\n    }\r\n\r\n    //lose weight by value\r\n    public void loseWeight(double weight2lose){\r\n\r\n        if (weight - weight2lose &gt;= 0){\r\n            weight -= weight2lose;\r\n        }\r\n\r\n    }\r\n\r\n    //print\r\n    public void printDetails(){\r\n\r\n        System.out.printf(&quot;Name: %20s | Year of Birth: %4d | Weight: %10.2f | Gender: %c | NumCarryOn: %2d\\n&quot;, name, birthYear, weight, gender, numCarryOn);\r\n\r\n    }\r\n\r\n    //setGender\r\n    public void setGender(char newGender){\r\n\r\n        if (newGender == &#39;f&#39; || newGender == &#39;m&#39;) {\r\n            this.gender = newGender;\r\n        } else {\r\n            this.gender = &#39;u&#39;;\r\n        }\r\n    }\r\n\r\n    //setName\r\n    public void setName(String newName){\r\n        name = newName;\r\n    }\r\n\r\n    //setBirthYear\r\n    public void setBirthYear(int newBY){\r\n        birthYear = newBY;\r\n    }\r\n\r\n    //setWeight\r\n    public void setWeight(double newWeight){\r\n\r\n        if (newWeight &lt; 0){\r\n            weight = -1;\r\n\r\n        }\r\n        else {\r\n            weight = newWeight;\r\n        }\r\n\r\n    }\r\n\r\n    //setNumCarryOn\r\n    public void setNumCarryOn(int newNumCarryOn){\r\n\r\n        if (newNumCarryOn &lt; 0){\r\n            numCarryOn = 0;\r\n\r\n        }\r\n        else if (newNumCarryOn &gt; 2){\r\n            numCarryOn = 2;\r\n        }\r\n        else {\r\n            numCarryOn = newNumCarryOn;\r\n        }\r\n    }\r\n}\r\n```\r\n**Airplane**\r\n```import java.util.Arrays;\r\n\r\npublic class Airplane {\r\n\r\n    private Passenger[] passengers;\r\n    private String airplaneName;\r\n    private int numPassengers;\r\n    public int count = 0;\r\n\r\n    //default constructor\r\n    public Airplane(){\r\n\r\n        airplaneName = &quot;&quot;;\r\n        passengers = new Passenger[100];\r\n        numPassengers = 0;\r\n    }\r\n\r\n    //default constructor with String input\r\n    public Airplane(String otherairplaneName){\r\n\r\n        airplaneName = otherairplaneName;\r\n        passengers = new Passenger[100];\r\n        numPassengers = 0;\r\n\r\n    }\r\n\r\n    //default constructor with int input\r\n    public Airplane(int otherArraySize){\r\n\r\n        airplaneName = &quot;&quot;;\r\n\r\n        if (otherArraySize &lt; 0){\r\n            otherArraySize = 0;\r\n        }\r\n        passengers = new Passenger[otherArraySize];\r\n\r\n\r\n        numPassengers = 0;\r\n\r\n    }\r\n\r\n    //default constructor with String and int input\r\n    public Airplane(String otherAirplaneName, int otherArraySize){\r\n\r\n        airplaneName = otherAirplaneName;\r\n\r\n        if (otherArraySize &lt; 0){\r\n            otherArraySize = 0;\r\n        }\r\n\r\n        passengers = new Passenger[otherArraySize];\r\n\r\n\r\n        numPassengers = 0;\r\n\r\n    }\r\n\r\n    //add a passenger\r\n    public void addPassenger(Passenger a){\r\n\r\n        for (int i = 0; i &lt; passengers.length; i++){\r\n\r\n\r\n           passengers[i] = a;\r\n\r\n\r\n\r\n        }\r\n    }\r\n\r\n\r\n    //resize array for new passengers\r\n    private void resizePassengerArray(){\r\n\r\n        passengers = new Passenger[passengers.length * 2];\r\n\r\n    }\r\n\r\n    //get a passenger\r\n    public Passenger getPassenger(int passengerIndex){\r\n\r\n        return passengers[passengerIndex];\r\n    }\r\n\r\n    //getNumPassengers\r\n    public int getNumPassengers() {\r\n\r\n       return count;\r\n    }\r\n\r\n    //getFirstPassenger\r\n    public Passenger getFirstPassenger(){\r\n\r\n        return passengers[0];\r\n    }\r\n\r\n    //getLastPassenger\r\n    public Passenger getLastPassenger(){\r\n\r\n        return passengers[passengers.length - 1];\r\n    }\r\n\r\n    //getPassengers**\r\n    public Passenger[] getPassengers(){\r\n\r\n        return passengers;\r\n    }\r\n\r\n    //setAirplaneName\r\n    public void setAirplaneName(String newAirplaneName){\r\n\r\n        airplaneName = newAirplaneName;\r\n    }\r\n\r\n    //printAllDetails\r\n    public void printAllDetails(){\r\n\r\n        System.out.printf(&quot;AirplaneName: %20s | Number of Passengers: %4d | Airplane Size: %4d\\n&quot;, airplaneName, count, passengers.length);\r\n\r\n        for (int i = 0; i &lt; count; i++){\r\n            System.out.printf(&quot;Name: %20s | Year of Birth: %4d | Weight: %10.2f | Gender: %c\\n&quot;, passengers[i].getName(), passengers[i].getBirthYear(), passengers[i].getWeight(), passengers[i].getGender());\r\n\r\n        }\r\n    }\r\n\r\n    //removePassenger\r\n    public Passenger removePassenger(int passengerIndex){\r\n\r\n        if (passengerIndex != passengers.length - 1){\r\n\r\n            for (int i = passengerIndex; i &lt; passengers.length - 1; i++){\r\n\r\n                passengers[i] = passengers[i+1];\r\n\r\n            }\r\n        }\r\n\r\n        return passengers[passengerIndex];\r\n    }\r\n\r\n    //remove all passengers\r\n    public void removeAllPassengers(){\r\n\r\n       passengers = new Passenger[100];\r\n    }\r\n\r\n    //total weight passengers\r\n    public double getTotalWeightOfAllPassengers(){\r\n\r\n        double weight = 0.0;\r\n\r\n        for (int i = 0; i &lt; passengers.length; i++){\r\n            weight += passengers[i].getWeight();\r\n        }\r\n\r\n        return weight;\r\n    }\r\n\r\n    //avg weight passengers\r\n    public double getAverageWeightOfAllPassengers(){\r\n\r\n        double avg = this.getTotalWeightOfAllPassengers() / numPassengers;\r\n\r\n        return avg;\r\n    }\r\n\r\n    //num elements above weight\r\n    public int getNumberOfPassengersAboveWeight(double weight){\r\n\r\n        int sum = 0;\r\n\r\n        for (int i = 0; i &lt; passengers.length; i++){\r\n\r\n            if (passengers[i].getWeight() &gt; weight){\r\n                sum += 1;\r\n            }\r\n\r\n        }\r\n\r\n        return sum;\r\n    }\r\n\r\n    //num elements below weight\r\n    public int getNumberOfPassengersBelowWeight(double weight){\r\n\r\n        int sum = 0;\r\n\r\n        for (int i = 0; i &lt; passengers.length; i++){\r\n\r\n            if (passengers[i].getWeight() &lt; weight){\r\n                sum += 1;\r\n            }\r\n\r\n        }\r\n\r\n        return sum;\r\n    }\r\n\r\n    //increase weight of passengers\r\n    public void increaseWeightOfAllPassengers(){\r\n\r\n        for (int i = 0; i &lt; passengers.length; i++){\r\n            passengers[i].gainWeight();\r\n        }\r\n\r\n    }\r\n\r\n    //increase weight of passengers with weight input\r\n    public void increaseWeightOfAllPassengers(double increaseAmount){\r\n\r\n        for (int i = 0; i &lt; passengers.length; i++){\r\n            passengers[i].gainWeight(increaseAmount);\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\n**Driver**\r\n```\r\npublic class RunAirplane {\r\n    public static void main(String[] args) {\r\n        Airplane a1 = new Airplane(&quot;Flight 1&quot;, 100);\r\n        Passenger p1 = new Passenger(&quot;Albert&quot;, 1879, 198.5, &#39;m&#39;, 2);\r\n        Passenger p2 = new Passenger(&quot;Grace&quot;, 1906, 105, &#39;f&#39;, 1);\r\n        Passenger p3 = new Passenger(&quot;Tim&quot;, 1955, 216.3, &#39;m&#39;, 2);\r\n        Passenger p4 = new Passenger(&quot;Steve&quot;, 1955, 160, &#39;m&#39;, 2);\r\n        Passenger p5 = new Passenger(&quot;Sergey&quot;, 1973, 165.35, &#39;m&#39;, 1);\r\n\r\n        a1.addPassenger(p1);\r\n        a1.count += 1;\r\n        a1.addPassenger(p2);\r\n        a1.count += 1;\r\n        a1.addPassenger(p3);\r\n        a1.count += 1;\r\n        a1.addPassenger(p4);\r\n        a1.count += 1;\r\n        a1.addPassenger(p5);\r\n        a1.count += 1;\r\n        a1.printAllDetails();\r\n\r\n        //How it should work starting with name\r\n        System.out.println(p1.getName());\r\n        System.out.println(p2.getName());\r\n\r\n    }\r\n}\r\n```\r\nHere&#39;s a screenshot of the incorrect code:\r\n&lt;https://i.stack.imgur.com/ncHUN.jpg&gt;\r\n","title":"How to stop Java code from repeating last value of object array?","body":"<p>I'm working on a project with a friend; we're trying to create an airplane project using a Passenger class for passengers, Airplane class to add in passengers and create the airplane, and a driver class. We've run into an issue where when we add in all the passengers to the airplane and print all details of the airplane, printed values are capturing only the last passenger's information. We're trying to get this for every passenger. Here is the code:</p>\n<p><strong>Passenger</strong></p>\n<pre><code>public class Passenger {\n\n    private String name;\n    private int  birthYear;\n    private double weight;\n    private char gender;\n    private int numCarryOn;\n\n    //Default constructor\n    public Passenger(){\n        name = &quot;&quot;;\n        birthYear = 1900;\n        weight = 0.0;\n        gender = 'u';\n        numCarryOn = 0;\n    }\n\n    //Alt default constructor\n    public Passenger(String newName, int newBirthYear, double newWeight, char newGend, int newNumCarryOn){\n\n        this.setName(newName);\n        this.setBirthYear(newBirthYear);\n        this.setWeight(newWeight);\n        this.setGender(newGend);\n        this.setNumCarryOn(newNumCarryOn);\n    }\n\n    //Calculate age\n    public int calculateAge(int currentYear){\n\n        int age = 0;\n\n        if (currentYear &lt; birthYear){\n            return -1;\n        }\n        else {\n            age = currentYear - birthYear;\n        }\n\n        return age;\n    }\n\n    //Gain weight\n    public void gainWeight(){\n        weight += 1;\n    }\n\n    //Gain weight based on input\n    public void gainWeight(double pounds){\n\n        if (weight &gt; 0){\n            weight = weight + pounds;\n        }\n\n    }\n\n    //Get birthYear\n    public int getBirthYear(){\n        return birthYear;\n    }\n\n    //Get gender\n    public char getGender(){\n        return gender;\n    }\n\n    //Get name\n    public String getName(){\n        return name;\n    }\n\n    //Get weight\n    public double getWeight(){\n        return weight;\n    }\n\n    //Get numCarryOn\n    public int getNumCarryOn(){\n        return numCarryOn;\n    }\n\n    //isFemale\n    public boolean isFemale(){\n\n        if (gender == 'f'){\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n\n    //isMale\n    public boolean isMale(){\n        if (gender == 'm'){\n            return true;\n        }\n        else {\n            return false;\n\n        }\n    }\n\n    //loseWeight\n    public void loseWeight(){\n\n        if (weight &gt; 0){\n            weight -= 1;\n        }\n\n    }\n\n    //lose weight by value\n    public void loseWeight(double weight2lose){\n\n        if (weight - weight2lose &gt;= 0){\n            weight -= weight2lose;\n        }\n\n    }\n\n    //print\n    public void printDetails(){\n\n        System.out.printf(&quot;Name: %20s | Year of Birth: %4d | Weight: %10.2f | Gender: %c | NumCarryOn: %2d\\n&quot;, name, birthYear, weight, gender, numCarryOn);\n\n    }\n\n    //setGender\n    public void setGender(char newGender){\n\n        if (newGender == 'f' || newGender == 'm') {\n            this.gender = newGender;\n        } else {\n            this.gender = 'u';\n        }\n    }\n\n    //setName\n    public void setName(String newName){\n        name = newName;\n    }\n\n    //setBirthYear\n    public void setBirthYear(int newBY){\n        birthYear = newBY;\n    }\n\n    //setWeight\n    public void setWeight(double newWeight){\n\n        if (newWeight &lt; 0){\n            weight = -1;\n\n        }\n        else {\n            weight = newWeight;\n        }\n\n    }\n\n    //setNumCarryOn\n    public void setNumCarryOn(int newNumCarryOn){\n\n        if (newNumCarryOn &lt; 0){\n            numCarryOn = 0;\n\n        }\n        else if (newNumCarryOn &gt; 2){\n            numCarryOn = 2;\n        }\n        else {\n            numCarryOn = newNumCarryOn;\n        }\n    }\n}\n</code></pre>\n<p><strong>Airplane</strong></p>\n<pre><code>\npublic class Airplane {\n\n    private Passenger[] passengers;\n    private String airplaneName;\n    private int numPassengers;\n    public int count = 0;\n\n    //default constructor\n    public Airplane(){\n\n        airplaneName = &quot;&quot;;\n        passengers = new Passenger[100];\n        numPassengers = 0;\n    }\n\n    //default constructor with String input\n    public Airplane(String otherairplaneName){\n\n        airplaneName = otherairplaneName;\n        passengers = new Passenger[100];\n        numPassengers = 0;\n\n    }\n\n    //default constructor with int input\n    public Airplane(int otherArraySize){\n\n        airplaneName = &quot;&quot;;\n\n        if (otherArraySize &lt; 0){\n            otherArraySize = 0;\n        }\n        passengers = new Passenger[otherArraySize];\n\n\n        numPassengers = 0;\n\n    }\n\n    //default constructor with String and int input\n    public Airplane(String otherAirplaneName, int otherArraySize){\n\n        airplaneName = otherAirplaneName;\n\n        if (otherArraySize &lt; 0){\n            otherArraySize = 0;\n        }\n\n        passengers = new Passenger[otherArraySize];\n\n\n        numPassengers = 0;\n\n    }\n\n    //add a passenger\n    public void addPassenger(Passenger a){\n\n        for (int i = 0; i &lt; passengers.length; i++){\n\n\n           passengers[i] = a;\n\n\n\n        }\n    }\n\n\n    //resize array for new passengers\n    private void resizePassengerArray(){\n\n        passengers = new Passenger[passengers.length * 2];\n\n    }\n\n    //get a passenger\n    public Passenger getPassenger(int passengerIndex){\n\n        return passengers[passengerIndex];\n    }\n\n    //getNumPassengers\n    public int getNumPassengers() {\n\n       return count;\n    }\n\n    //getFirstPassenger\n    public Passenger getFirstPassenger(){\n\n        return passengers[0];\n    }\n\n    //getLastPassenger\n    public Passenger getLastPassenger(){\n\n        return passengers[passengers.length - 1];\n    }\n\n    //getPassengers**\n    public Passenger[] getPassengers(){\n\n        return passengers;\n    }\n\n    //setAirplaneName\n    public void setAirplaneName(String newAirplaneName){\n\n        airplaneName = newAirplaneName;\n    }\n\n    //printAllDetails\n    public void printAllDetails(){\n\n        System.out.printf(&quot;AirplaneName: %20s | Number of Passengers: %4d | Airplane Size: %4d\\n&quot;, airplaneName, count, passengers.length);\n\n        for (int i = 0; i &lt; count; i++){\n            System.out.printf(&quot;Name: %20s | Year of Birth: %4d | Weight: %10.2f | Gender: %c\\n&quot;, passengers[i].getName(), passengers[i].getBirthYear(), passengers[i].getWeight(), passengers[i].getGender());\n\n        }\n    }\n\n    //removePassenger\n    public Passenger removePassenger(int passengerIndex){\n\n        if (passengerIndex != passengers.length - 1){\n\n            for (int i = passengerIndex; i &lt; passengers.length - 1; i++){\n\n                passengers[i] = passengers[i+1];\n\n            }\n        }\n\n        return passengers[passengerIndex];\n    }\n\n    //remove all passengers\n    public void removeAllPassengers(){\n\n       passengers = new Passenger[100];\n    }\n\n    //total weight passengers\n    public double getTotalWeightOfAllPassengers(){\n\n        double weight = 0.0;\n\n        for (int i = 0; i &lt; passengers.length; i++){\n            weight += passengers[i].getWeight();\n        }\n\n        return weight;\n    }\n\n    //avg weight passengers\n    public double getAverageWeightOfAllPassengers(){\n\n        double avg = this.getTotalWeightOfAllPassengers() / numPassengers;\n\n        return avg;\n    }\n\n    //num elements above weight\n    public int getNumberOfPassengersAboveWeight(double weight){\n\n        int sum = 0;\n\n        for (int i = 0; i &lt; passengers.length; i++){\n\n            if (passengers[i].getWeight() &gt; weight){\n                sum += 1;\n            }\n\n        }\n\n        return sum;\n    }\n\n    //num elements below weight\n    public int getNumberOfPassengersBelowWeight(double weight){\n\n        int sum = 0;\n\n        for (int i = 0; i &lt; passengers.length; i++){\n\n            if (passengers[i].getWeight() &lt; weight){\n                sum += 1;\n            }\n\n        }\n\n        return sum;\n    }\n\n    //increase weight of passengers\n    public void increaseWeightOfAllPassengers(){\n\n        for (int i = 0; i &lt; passengers.length; i++){\n            passengers[i].gainWeight();\n        }\n\n    }\n\n    //increase weight of passengers with weight input\n    public void increaseWeightOfAllPassengers(double increaseAmount){\n\n        for (int i = 0; i &lt; passengers.length; i++){\n            passengers[i].gainWeight(increaseAmount);\n        }\n\n    }\n\n\n\n}\n</code></pre>\n<p><strong>Driver</strong></p>\n<pre><code>public class RunAirplane {\n    public static void main(String[] args) {\n        Airplane a1 = new Airplane(&quot;Flight 1&quot;, 100);\n        Passenger p1 = new Passenger(&quot;Albert&quot;, 1879, 198.5, 'm', 2);\n        Passenger p2 = new Passenger(&quot;Grace&quot;, 1906, 105, 'f', 1);\n        Passenger p3 = new Passenger(&quot;Tim&quot;, 1955, 216.3, 'm', 2);\n        Passenger p4 = new Passenger(&quot;Steve&quot;, 1955, 160, 'm', 2);\n        Passenger p5 = new Passenger(&quot;Sergey&quot;, 1973, 165.35, 'm', 1);\n\n        a1.addPassenger(p1);\n        a1.count += 1;\n        a1.addPassenger(p2);\n        a1.count += 1;\n        a1.addPassenger(p3);\n        a1.count += 1;\n        a1.addPassenger(p4);\n        a1.count += 1;\n        a1.addPassenger(p5);\n        a1.count += 1;\n        a1.printAllDetails();\n\n        //How it should work starting with name\n        System.out.println(p1.getName());\n        System.out.println(p2.getName());\n\n    }\n}\n</code></pre>\n<p>Here's a screenshot of the incorrect code:\n<a href=\"https://i.stack.imgur.com/ncHUN.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/ncHUN.jpg</a></p>\n"},{"tags":["java","android","crosswalk"],"answers":[{"tags":[],"owner":{"account_id":5876047,"reputation":27265,"user_id":4626831,"accept_rate":79,"display_name":"N J"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1474561477,"creation_date":1474561477,"answer_id":39644225,"question_id":39644173,"body_markdown":"**You forgot** \r\n\r\n    super.onBackPressed();\r\n\r\n**Just use below code**\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed();\r\n    }\r\n\r\n\r\n","title":"Activity doesn&#39;t close when back button is pressed","body":"<p><strong>You forgot</strong> </p>\n\n<pre><code>super.onBackPressed();\n</code></pre>\n\n<p><strong>Just use below code</strong></p>\n\n<pre><code>@Override\npublic void onBackPressed() {\n    super.onBackPressed();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9015784,"reputation":337,"user_id":6718698,"accept_rate":60,"display_name":"Mesabloo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474561908,"creation_date":1474561600,"answer_id":39644268,"question_id":39644173,"body_markdown":"Maybe you should try to call the `super method` in your `onBackPressed()`, or if you want to go back to the previous activity, to bring to front the other activity in your `onBackPressed()`, and then, finish your `Activity` like this :\r\n\r\n    public void onBackPressed() {\r\n        Intent main = new Intent(this, YourClass.class);\r\n        main.putFlags(Intent.ACTIVITY_BROUGHT_TO_FRONT); // Or something like this, I dont really remember the flag name\r\n        startActivity(main);\r\n        super.onBackPressed();\r\n    }","title":"Activity doesn&#39;t close when back button is pressed","body":"<p>Maybe you should try to call the <code>super method</code> in your <code>onBackPressed()</code>, or if you want to go back to the previous activity, to bring to front the other activity in your <code>onBackPressed()</code>, and then, finish your <code>Activity</code> like this :</p>\n\n<pre><code>public void onBackPressed() {\n    Intent main = new Intent(this, YourClass.class);\n    main.putFlags(Intent.ACTIVITY_BROUGHT_TO_FRONT); // Or something like this, I dont really remember the flag name\n    startActivity(main);\n    super.onBackPressed();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3695702,"reputation":12519,"user_id":5156075,"accept_rate":100,"display_name":"John Joe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474563773,"creation_date":1474563773,"answer_id":39644910,"question_id":39644173,"body_markdown":"Try this\r\n\r\n     public void onBackPressed(){\r\n            Intent a = new Intent(Intent.ACTION_MAIN);\r\n            a.addCategory(Intent.CATEGORY_HOME);\r\n            a.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            startActivity(a);\r\n    \r\n        }\r\n\r\n","title":"Activity doesn&#39;t close when back button is pressed","body":"<p>Try this</p>\n\n<pre><code> public void onBackPressed(){\n        Intent a = new Intent(Intent.ACTION_MAIN);\n        a.addCategory(Intent.CATEGORY_HOME);\n        a.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        startActivity(a);\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23224291,"reputation":1,"user_id":17316016,"display_name":"Harsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646123168,"creation_date":1646117719,"answer_id":71304745,"question_id":39644173,"body_markdown":"Just write this command when you want to exit :\r\n```\r\noverridePendingTransition ( 0 , 0 );\r\nsuper.finish ( );\r\nsuper.onStop ( );\r\nsuper.onDestroy ( );\r\noverridePendingTransition ( 0 , 0 );\r\n```","title":"Activity doesn&#39;t close when back button is pressed","body":"<p>Just write this command when you want to exit :</p>\n<pre><code>overridePendingTransition ( 0 , 0 );\nsuper.finish ( );\nsuper.onStop ( );\nsuper.onDestroy ( );\noverridePendingTransition ( 0 , 0 );\n</code></pre>\n"}],"owner":{"account_id":1575990,"reputation":34684,"user_id":1778465,"accept_rate":70,"display_name":"Get Off My Lawn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2447,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1646123168,"creation_date":1474561302,"question_id":39644173,"body_markdown":"I have an application that uses crosswalk. I use it in two activities.\r\n\r\n1. In this activity, I have a crosswalk view that shows a list of selectable items and when selected launch another activity.\r\n2. In this new activity I open another crosswalk view that runs the selected item from the previous activity.\r\n\r\nThe issue that I am having is when in the second activity when I press the back button it goes back to a black screen. If I press the back button again, it then closes the activity.\r\n\r\nWhat can I do to close the activity instead of going back to the black screen? This doesn&#39;t happen on all items just a few, and with those few I think that a page redirect is happening in crosswalk so when I press back it just goes to the previous screen.\r\n\r\nHere is the activity:\r\n\r\n    package com.gamesmart.gamesmart;\r\n    \r\n    import android.app.Activity;\r\n    import android.content.Intent;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    \r\n    import org.xwalk.core.XWalkPreferences;\r\n    import org.xwalk.core.XWalkView;\r\n    \r\n    public class Play extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_play);\r\n    \r\n            Intent intent = getIntent();\r\n            String url = intent.getStringExtra(&quot;url&quot;);\r\n    \r\n            XWalkView xWalkWebView = (XWalkView)findViewById(R.id.xwalkWebViewPlay);\r\n    \r\n            // Turn on debugging if we are in DEBUG mode\r\n            if (BuildConfig.DEBUG) {\r\n                XWalkPreferences.setValue(XWalkPreferences.REMOTE_DEBUGGING, true);\r\n            }\r\n    \r\n            // Load the url\r\n            xWalkWebView.load(url, null);\r\n        }\r\n    \r\n        @Override\r\n        public void onBackPressed(){\r\n            finish();\r\n        }\r\n    }\r\n\r\nI don&#39;t think that my `onBackPressed` is doing what it should be...","title":"Activity doesn&#39;t close when back button is pressed","body":"<p>I have an application that uses crosswalk. I use it in two activities.</p>\n\n<ol>\n<li>In this activity, I have a crosswalk view that shows a list of selectable items and when selected launch another activity.</li>\n<li>In this new activity I open another crosswalk view that runs the selected item from the previous activity.</li>\n</ol>\n\n<p>The issue that I am having is when in the second activity when I press the back button it goes back to a black screen. If I press the back button again, it then closes the activity.</p>\n\n<p>What can I do to close the activity instead of going back to the black screen? This doesn't happen on all items just a few, and with those few I think that a page redirect is happening in crosswalk so when I press back it just goes to the previous screen.</p>\n\n<p>Here is the activity:</p>\n\n<pre><code>package com.gamesmart.gamesmart;\n\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\n\nimport org.xwalk.core.XWalkPreferences;\nimport org.xwalk.core.XWalkView;\n\npublic class Play extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_play);\n\n        Intent intent = getIntent();\n        String url = intent.getStringExtra(\"url\");\n\n        XWalkView xWalkWebView = (XWalkView)findViewById(R.id.xwalkWebViewPlay);\n\n        // Turn on debugging if we are in DEBUG mode\n        if (BuildConfig.DEBUG) {\n            XWalkPreferences.setValue(XWalkPreferences.REMOTE_DEBUGGING, true);\n        }\n\n        // Load the url\n        xWalkWebView.load(url, null);\n    }\n\n    @Override\n    public void onBackPressed(){\n        finish();\n    }\n}\n</code></pre>\n\n<p>I don't think that my <code>onBackPressed</code> is doing what it should be...</p>\n"},{"tags":["java","postgresql","postgis","geotools"],"answers":[{"tags":[],"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646123155,"creation_date":1646123155,"answer_id":71305602,"question_id":71302405,"body_markdown":"You don&#39;t show the code setting your [`map` of parameters][1], but I suspect you didn&#39;t include a `schema` key so the database connection defaults to `public`. You need a line like:\r\n\r\n    map.put(PostgisNGDataStoreFactory.SCHEMA.key, &quot;cache&quot;);\r\n\r\n\r\n  [1]: https://docs.geotools.org/stable/userguide/library/jdbc/postgis.html","title":"GeoTools to read featureSource from a different postgresql schema than public","body":"<p>You don't show the code setting your <a href=\"https://docs.geotools.org/stable/userguide/library/jdbc/postgis.html\" rel=\"nofollow noreferrer\"><code>map</code> of parameters</a>, but I suspect you didn't include a <code>schema</code> key so the database connection defaults to <code>public</code>. You need a line like:</p>\n<pre><code>map.put(PostgisNGDataStoreFactory.SCHEMA.key, &quot;cache&quot;);\n</code></pre>\n"}],"owner":{"account_id":11876880,"reputation":135,"user_id":8691687,"display_name":"Eric Boisvert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71305602,"answer_count":1,"score":1,"last_activity_date":1646123155,"creation_date":1646093301,"question_id":71302405,"body_markdown":"Working my way through GeoTools. Just trying to read features from a view in postgresql that is not in `public` schema. I have a bunch of views in a schema called `cache`\r\n\r\n```lang-java\r\nstore = DataStoreFinder.getDataStore(map);\r\n// print a bunch of tables and views including the one I want\r\nfor(String s:store.getTypeNames()) \r\n   System.out.println(s);\r\n```\r\n\r\nI can see my view name in the list eg: `vw_well` without the prefix `cache`\r\n\r\nbut\r\n\r\n```lang-java\r\nfeatureSource = store.getFeatureSource(&quot;vw_well&quot;);\r\n```\r\nwill generate  \r\n\r\n```\r\nWARNING: Error occured determing srid for vw_well.geom\r\norg.postgresql.util.PSQLException: ERROR: relation &quot;public.vw_well&quot; does not exist\r\n```\r\n\r\n\r\nand \r\n\r\n```lang-java\r\nfeatureSource = store.getFeatureSource(&quot;cache.vw_well&quot;);\r\n```\r\n\r\ngenerates \r\n\r\n`Schema &#39;cache.vw_well&#39; does not exist.`\r\n\r\nAny way to tell GeoTools to read in a different schema than `public.  I googled around I could not find an answer.  \r\n\r\nThank you.\r\n\r\n\r\n\r\n\r\n","title":"GeoTools to read featureSource from a different postgresql schema than public","body":"<p>Working my way through GeoTools. Just trying to read features from a view in postgresql that is not in <code>public</code> schema. I have a bunch of views in a schema called <code>cache</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>store = DataStoreFinder.getDataStore(map);\n// print a bunch of tables and views including the one I want\nfor(String s:store.getTypeNames()) \n   System.out.println(s);\n</code></pre>\n<p>I can see my view name in the list eg: <code>vw_well</code> without the prefix <code>cache</code></p>\n<p>but</p>\n<pre class=\"lang-java prettyprint-override\"><code>featureSource = store.getFeatureSource(&quot;vw_well&quot;);\n</code></pre>\n<p>will generate</p>\n<pre><code>WARNING: Error occured determing srid for vw_well.geom\norg.postgresql.util.PSQLException: ERROR: relation &quot;public.vw_well&quot; does not exist\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>featureSource = store.getFeatureSource(&quot;cache.vw_well&quot;);\n</code></pre>\n<p>generates</p>\n<p><code>Schema 'cache.vw_well' does not exist.</code></p>\n<p>Any way to tell GeoTools to read in a different schema than `public.  I googled around I could not find an answer.</p>\n<p>Thank you.</p>\n"},{"tags":["java","node.js","docker"],"answers":[{"tags":[],"owner":{"account_id":11441413,"reputation":322,"user_id":8386848,"display_name":"ahsan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646123027,"creation_date":1646114386,"answer_id":71304314,"question_id":68739777,"body_markdown":"You can use single FROM per generated image. As you are trying to use node as a base image and install java to it, You can do the following: \r\n```dockerfile\r\nFROM node:latest\r\nRUN apt-get -y install default-jre\r\n```\r\nYou can choose the version you need:\r\n```\r\napt install openjdk-16-jre\r\n```","title":"How do I install openjdk-16-jdk for my nodejs app using my dockerfile?","body":"<p>You can use single FROM per generated image. As you are trying to use node as a base image and install java to it, You can do the following:</p>\n<pre><code>FROM node:latest\nRUN apt-get -y install default-jre\n</code></pre>\n<p>You can choose the version you need:</p>\n<pre><code>apt install openjdk-16-jre\n</code></pre>\n"}],"owner":{"account_id":3405426,"reputation":35,"user_id":2856599,"display_name":"CubeDomination"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1539,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71304314,"answer_count":1,"score":0,"last_activity_date":1646123027,"creation_date":1628675725,"question_id":68739777,"body_markdown":"I have a Dockerfile with the following configuration:\r\n\r\n```\r\nFROM node:16\r\nWORKDIR /usr/src/app\r\nCOPY package*.json ./\r\nRUN apt-get update &amp;&amp; apt search openjdk &amp;&amp; apt-get install -y default-jre  &amp;&amp; npm install\r\nCOPY . .\r\nEXPOSE 80\r\nEXPOSE 25565\r\nCMD [ &quot;node&quot;, &quot;app.js&quot; ]\r\n\r\n```\r\n\r\nthe only available packages for jdk are version 11.\r\nwhat do I need to add to get openjdk-16-jdk installed for this nodejs app.\r\n\r\nContext: This app spawns a 1.17 version minecraft server that requires openjdk version 16.","title":"How do I install openjdk-16-jdk for my nodejs app using my dockerfile?","body":"<p>I have a Dockerfile with the following configuration:</p>\n<pre><code>FROM node:16\nWORKDIR /usr/src/app\nCOPY package*.json ./\nRUN apt-get update &amp;&amp; apt search openjdk &amp;&amp; apt-get install -y default-jre  &amp;&amp; npm install\nCOPY . .\nEXPOSE 80\nEXPOSE 25565\nCMD [ &quot;node&quot;, &quot;app.js&quot; ]\n\n</code></pre>\n<p>the only available packages for jdk are version 11.\nwhat do I need to add to get openjdk-16-jdk installed for this nodejs app.</p>\n<p>Context: This app spawns a 1.17 version minecraft server that requires openjdk version 16.</p>\n"},{"tags":["java","docker","junit","google-cloud-storage","testcontainers"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1646127319,"post_id":70972595,"comment_id":126041549,"body_markdown":"Nothing was listening at the IP:port you tried to connect to.","body":"Nothing was listening at the IP:port you tried to connect to."}],"answers":[{"tags":[],"owner":{"account_id":7730771,"reputation":1,"user_id":5853996,"display_name":"Bogdan Gulowaty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646123008,"creation_date":1646123008,"answer_id":71305563,"question_id":70972595,"body_markdown":"This problem might be related to you omitting to set the fake-gcs-server&#39;s external URL property to the container&#39;s address. Make sure you follow guide in the official repo https://github.com/fsouza/fake-gcs-server/blob/cf3fcb083e19553636419818e29f84825bd1e13c/examples/java/README.md, particularly, that you execute the following code:\r\n\r\n    private static void updateExternalUrlWithContainerUrl(String fakeGcsExternalUrl) throws Exception {\r\n      String modifyExternalUrlRequestUri = fakeGcsExternalUrl + &quot;/_internal/config&quot;;\r\n      String updateExternalUrlJson = &quot;{&quot;\r\n          + &quot;\\&quot;externalUrl\\&quot;: \\&quot;&quot; + fakeGcsExternalUrl + &quot;\\&quot;&quot;\r\n          + &quot;}&quot;;\r\n    \r\n      HttpRequest req = HttpRequest.newBuilder()\r\n          .uri(URI.create(modifyExternalUrlRequestUri))\r\n          .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n          .PUT(BodyPublishers.ofString(updateExternalUrlJson))\r\n          .build();\r\n      HttpResponse&lt;Void&gt; response = HttpClient.newBuilder().build()\r\n          .send(req, BodyHandlers.discarding());\r\n    \r\n      if (response.statusCode() != 200) {\r\n          throw new RuntimeException(\r\n              &quot;error updating fake-gcs-server with external url, response status code &quot; + response.statusCode() + &quot; != 200&quot;);\r\n      }\r\n    }\r\n\r\nbefore using the container.","title":"Getting java.net.ConnectException: Connection refused (Connection refused) while creating object using fake-gcs-server image","body":"<p>This problem might be related to you omitting to set the fake-gcs-server's external URL property to the container's address. Make sure you follow guide in the official repo <a href=\"https://github.com/fsouza/fake-gcs-server/blob/cf3fcb083e19553636419818e29f84825bd1e13c/examples/java/README.md\" rel=\"nofollow noreferrer\">https://github.com/fsouza/fake-gcs-server/blob/cf3fcb083e19553636419818e29f84825bd1e13c/examples/java/README.md</a>, particularly, that you execute the following code:</p>\n<pre><code>private static void updateExternalUrlWithContainerUrl(String fakeGcsExternalUrl) throws Exception {\n  String modifyExternalUrlRequestUri = fakeGcsExternalUrl + &quot;/_internal/config&quot;;\n  String updateExternalUrlJson = &quot;{&quot;\n      + &quot;\\&quot;externalUrl\\&quot;: \\&quot;&quot; + fakeGcsExternalUrl + &quot;\\&quot;&quot;\n      + &quot;}&quot;;\n\n  HttpRequest req = HttpRequest.newBuilder()\n      .uri(URI.create(modifyExternalUrlRequestUri))\n      .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n      .PUT(BodyPublishers.ofString(updateExternalUrlJson))\n      .build();\n  HttpResponse&lt;Void&gt; response = HttpClient.newBuilder().build()\n      .send(req, BodyHandlers.discarding());\n\n  if (response.statusCode() != 200) {\n      throw new RuntimeException(\n          &quot;error updating fake-gcs-server with external url, response status code &quot; + response.statusCode() + &quot; != 200&quot;);\n  }\n}\n</code></pre>\n<p>before using the container.</p>\n"}],"owner":{"account_id":24144619,"reputation":1,"user_id":18110420,"display_name":"Manan Khandelwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646123008,"creation_date":1643896736,"question_id":70972595,"body_markdown":"I am getting `java.net.ConnectException:connection` refused error while trying to write junit for creating object in gcs using `fake-gcs-server` image. Please find the below code. Bucket name is test and consider, it is already created.\r\n\r\n    @TempDir\r\n    private static File         directory;\r\n\r\n    private static final GenericContainer&lt;?&gt; GCS_CONTAINER = new GenericContainer&lt;&gt;(DockerImageName.parse(&quot;fsouza/fake-gcs-server:1.33.1&quot;))\r\n            .withExposedPorts(4443).withCreateContainerCmdModifier(cmd -&gt; cmd.withEntrypoint(\r\n                    &quot;/bin/fake-gcs-server&quot;,\r\n                    &quot;-scheme&quot;, &quot;http&quot;\r\n            ));\r\n\r\n    String fakeGcsExternalUrl = &quot;http://&quot; + GCS_CONTAINER.getContainerIpAddress() + &quot;:&quot; + GCS_CONTAINER.getFirstMappedPort();\r\n\r\n    private static final Storage storage = new Storage.Builder(getTransport(), GsonFactory.getDefaultInstance(), null).setRootUrl(fakeGcsExternalUrl).setApplicationName(&quot;test&quot;).build();\r\n   \r\n    void test() {\r\n\r\n        final File localFile1 = new File(directory.getAbsolutePath() + File.separator + &quot;testFile.txt&quot;);\r\n        localFile1.createNewFile();\r\n\r\n        try (final FileWriter fileWriter = new FileWriter(localFile1.getPath())) {\r\n            fileWriter.write(&quot;Test gs file content&quot;);\r\n        }\r\n\r\n\r\n        final InputStream stream = FileUtils.openInputStream(localFile1);\r\n\r\n        Path path = localFile1.toPath();\r\n        String contentType = Files.probeContentType(path);\r\n      uploadFile(&quot;test&quot;, &quot;/sampleFiles/newFile.txt&quot;, contentType, stream, null);\r\n    }\r\n\r\n    public String uploadFile(final Storage storage, final String bucketName, final String filePath,\r\n                             final String contentType, final InputStream inputStream, final Map&lt;String, String&gt; metadata)\r\n            throws IOException {\r\n        final InputStreamContent contentStream = new InputStreamContent(contentType, inputStream);\r\n        final StorageObject objectMetadata = new StorageObject().setName(filePath);\r\n        objectMetadata.setMetadata(GoogleLabels.manageLabels(metadata));\r\n        final Storage.Objects.Insert insertRequest = storage.objects().insert(bucketName, objectMetadata,\r\n                contentStream);\r\n        return insertRequest.execute().getName();\r\n    }\r\n\r\n","title":"Getting java.net.ConnectException: Connection refused (Connection refused) while creating object using fake-gcs-server image","body":"<p>I am getting <code>java.net.ConnectException:connection</code> refused error while trying to write junit for creating object in gcs using <code>fake-gcs-server</code> image. Please find the below code. Bucket name is test and consider, it is already created.</p>\n<pre><code>@TempDir\nprivate static File         directory;\n\nprivate static final GenericContainer&lt;?&gt; GCS_CONTAINER = new GenericContainer&lt;&gt;(DockerImageName.parse(&quot;fsouza/fake-gcs-server:1.33.1&quot;))\n        .withExposedPorts(4443).withCreateContainerCmdModifier(cmd -&gt; cmd.withEntrypoint(\n                &quot;/bin/fake-gcs-server&quot;,\n                &quot;-scheme&quot;, &quot;http&quot;\n        ));\n\nString fakeGcsExternalUrl = &quot;http://&quot; + GCS_CONTAINER.getContainerIpAddress() + &quot;:&quot; + GCS_CONTAINER.getFirstMappedPort();\n\nprivate static final Storage storage = new Storage.Builder(getTransport(), GsonFactory.getDefaultInstance(), null).setRootUrl(fakeGcsExternalUrl).setApplicationName(&quot;test&quot;).build();\n\nvoid test() {\n\n    final File localFile1 = new File(directory.getAbsolutePath() + File.separator + &quot;testFile.txt&quot;);\n    localFile1.createNewFile();\n\n    try (final FileWriter fileWriter = new FileWriter(localFile1.getPath())) {\n        fileWriter.write(&quot;Test gs file content&quot;);\n    }\n\n\n    final InputStream stream = FileUtils.openInputStream(localFile1);\n\n    Path path = localFile1.toPath();\n    String contentType = Files.probeContentType(path);\n  uploadFile(&quot;test&quot;, &quot;/sampleFiles/newFile.txt&quot;, contentType, stream, null);\n}\n\npublic String uploadFile(final Storage storage, final String bucketName, final String filePath,\n                         final String contentType, final InputStream inputStream, final Map&lt;String, String&gt; metadata)\n        throws IOException {\n    final InputStreamContent contentStream = new InputStreamContent(contentType, inputStream);\n    final StorageObject objectMetadata = new StorageObject().setName(filePath);\n    objectMetadata.setMetadata(GoogleLabels.manageLabels(metadata));\n    final Storage.Objects.Insert insertRequest = storage.objects().insert(bucketName, objectMetadata,\n            contentStream);\n    return insertRequest.execute().getName();\n}\n</code></pre>\n"},{"tags":["java","mysql","node.js","csv","backend"],"answers":[{"tags":[],"owner":{"account_id":19885858,"reputation":11,"user_id":14568847,"display_name":"ahsan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646122965,"creation_date":1646072091,"answer_id":71299345,"question_id":70228880,"body_markdown":"You can use the `csv-parser` package to read the columns. This following example can help you more about it.\r\n```javascript\r\nfs.createReadStream(&#39;data.csv&#39;)\r\n    .pipe(csv())\r\n    .on(&#39;headers&#39;, (headers) =&gt; {\r\n        console.log(`Header: ${headers[0]}`)\r\n    })\r\n```\r\nThe first parameter of the event callback is an `Array[String]` containing the header names of the column.","title":"How can I read columns name of csv file in nodejs?","body":"<p>You can use the <code>csv-parser</code> package to read the columns. This following example can help you more about it.</p>\n<pre class=\"lang-js prettyprint-override\"><code>fs.createReadStream('data.csv')\n    .pipe(csv())\n    .on('headers', (headers) =&gt; {\n        console.log(`Header: ${headers[0]}`)\n    })\n</code></pre>\n<p>The first parameter of the event callback is an <code>Array[String]</code> containing the header names of the column.</p>\n"}],"owner":{"account_id":23203432,"reputation":29,"user_id":17297980,"display_name":"Sara BB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646122965,"creation_date":1638646760,"question_id":70228880,"body_markdown":"I have a CSV file and want to create a table with it in the MySQL database but my problem is when **I want to read the columns name in order to pass them in queries**, this is not working and had many issues.. anyone has an idea how can I do it? ","title":"How can I read columns name of csv file in nodejs?","body":"<p>I have a CSV file and want to create a table with it in the MySQL database but my problem is when <strong>I want to read the columns name in order to pass them in queries</strong>, this is not working and had many issues.. anyone has an idea how can I do it?</p>\n"},{"tags":["java","object"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1646121187,"post_id":71305226,"comment_id":126039424,"body_markdown":"Use an `else`? Create a duplicate variable? Why exactly don&#39;t you want to use `answer`? Please clarify your requirements.","body":"Use an <code>else</code>? Create a duplicate variable? Why exactly don&#39;t you want to use <code>answer</code>? Please clarify your requirements."},{"owner":{"account_id":18554808,"reputation":17,"user_id":13804436,"display_name":"harry"},"score":0,"creation_date":1646135417,"post_id":71305226,"comment_id":126044153,"body_markdown":"Î™f answer = false I want to  instantiate tour object at a different code section with a different constructor.","body":"Î™f answer = false I want to  instantiate tour object at a different code section with a different constructor."}],"answers":[{"tags":[],"owner":{"account_id":479759,"reputation":24867,"user_id":892629,"accept_rate":81,"display_name":"Liftoff"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646121614,"creation_date":1646121217,"answer_id":71305270,"question_id":71305226,"body_markdown":"Declare the variable outside of the if statement and then check if it is null.\r\n\r\n```java\r\nTourRequest tour = null;\r\nif(answer) {\r\n  tour = new TourRequest();\r\n}\r\n\r\nif(tour == null) {\r\n  tour = new TourRequest(/*params...*/);\r\n}\r\n```\r\n\r\nBetter yet, just use an else.\r\n\r\n```java\r\nTourRequest tour;\r\nif(answer) {\r\n  tour = new TourRequest();\r\n}\r\nelse {\r\n  tour = new TourRequest(/*params...*/);\r\n}","title":"Object declaration check in Java","body":"<p>Declare the variable outside of the if statement and then check if it is null.</p>\n<pre class=\"lang-java prettyprint-override\"><code>TourRequest tour = null;\nif(answer) {\n  tour = new TourRequest();\n}\n\nif(tour == null) {\n  tour = new TourRequest(/*params...*/);\n}\n</code></pre>\n<p>Better yet, just use an else.</p>\n<pre class=\"lang-java prettyprint-override\"><code>TourRequest tour;\nif(answer) {\n  tour = new TourRequest();\n}\nelse {\n  tour = new TourRequest(/*params...*/);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9604410,"reputation":37,"user_id":7130858,"display_name":"Thilakar Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646122949,"creation_date":1646121937,"answer_id":71305393,"question_id":71305226,"body_markdown":"the simplified solution is here  \r\n```java\r\nTourRequest tour = answer ? new TourRequest() : new TourRequest(parameter);\r\n```","title":"Object declaration check in Java","body":"<p>the simplified solution is here</p>\n<pre class=\"lang-java prettyprint-override\"><code>TourRequest tour = answer ? new TourRequest() : new TourRequest(parameter);\n</code></pre>\n"}],"owner":{"account_id":18554808,"reputation":17,"user_id":13804436,"display_name":"harry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646122949,"creation_date":1646120968,"question_id":71305226,"body_markdown":"My code snippet:\r\n\r\n```\r\nif (answer) {\r\n TourRequest tour = new TourRequest();\r\n}\r\n\r\n```\r\nAfter the above statement, I want to declare tour object, using a different constructor if it hasn&#39;t already been declared inside the curly brackets.\r\n\r\nHow can I check directly if tour exist, without using the content of the answer variable?\r\n","title":"Object declaration check in Java","body":"<p>My code snippet:</p>\n<pre><code>if (answer) {\n TourRequest tour = new TourRequest();\n}\n\n</code></pre>\n<p>After the above statement, I want to declare tour object, using a different constructor if it hasn't already been declared inside the curly brackets.</p>\n<p>How can I check directly if tour exist, without using the content of the answer variable?</p>\n"},{"tags":["java","spring","spring-boot","docker","heroku"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1645024007,"post_id":71144037,"comment_id":125760933,"body_markdown":"It&#39;s a strange message you are receiving because it states $PORT instead de port value. Do you have a .env that is configuring PORT variable or passing when you do a docker build?","body":"It&#39;s a strange message you are receiving because it states $PORT instead de port value. Do you have a .env that is configuring PORT variable or passing when you do a docker build?"},{"owner":{"account_id":5653578,"reputation":3281,"user_id":4473386,"accept_rate":80,"display_name":"Dmytro Chasovskyi"},"score":0,"creation_date":1645030055,"post_id":71144037,"comment_id":125763758,"body_markdown":"I do it via heroku CLI:\n`heroku container:login` | `heroku container:push -a app web` | `heroku container:release -a app web`\n\nPreviously, I didn&#39;t need to explicitly set $PORT in here.","body":"I do it via heroku CLI: <code>heroku container:login</code> | <code>heroku container:push -a app web</code> | <code>heroku container:release -a app web</code>  Previously, I didn&#39;t need to explicitly set $PORT in here."},{"owner":{"account_id":5653578,"reputation":3281,"user_id":4473386,"accept_rate":80,"display_name":"Dmytro Chasovskyi"},"score":0,"creation_date":1645125213,"post_id":71144037,"comment_id":125794410,"body_markdown":"@pringi Any idea on this? I still cannot find a solution to this, and it&#39;s pretty problematic to debug. To complement my previous point, I am 100% sure that the port is passed to app.jar.","body":"@pringi Any idea on this? I still cannot find a solution to this, and it&#39;s pretty problematic to debug. To complement my previous point, I am 100% sure that the port is passed to app.jar."}],"answers":[{"tags":[],"owner":{"account_id":5653578,"reputation":3281,"user_id":4473386,"accept_rate":80,"display_name":"Dmytro Chasovskyi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645647116,"creation_date":1645647116,"answer_id":71243462,"question_id":71144037,"body_markdown":"I found a solution that wasn&#39;t perfect but seemed to work for me.\r\n\r\n- Downgraded Spring Boot from `2.6.3` to `2.6.1`\r\n- Downgraded Tomcat from `10.X.X` to `9.X.X`\r\n- Removed dev tools dependencies\r\n\r\nI think the two latest did the magic. Dev tools stopped asking for an extra port in the test/prod environment. Tomcat bound the port in the version `9.X.X` but not in `10.X.X`.\r\n\r\nEven though I found the solution, I don&#39;t know why it behaved like this, and it isn&#39;t perfect security-wise.","title":"Spring Boot app in Docker receives: Error R10 (Boot timeout) -&gt; Web process failed to bind to $PORT within 60 seconds of launch","body":"<p>I found a solution that wasn't perfect but seemed to work for me.</p>\n<ul>\n<li>Downgraded Spring Boot from <code>2.6.3</code> to <code>2.6.1</code></li>\n<li>Downgraded Tomcat from <code>10.X.X</code> to <code>9.X.X</code></li>\n<li>Removed dev tools dependencies</li>\n</ul>\n<p>I think the two latest did the magic. Dev tools stopped asking for an extra port in the test/prod environment. Tomcat bound the port in the version <code>9.X.X</code> but not in <code>10.X.X</code>.</p>\n<p>Even though I found the solution, I don't know why it behaved like this, and it isn't perfect security-wise.</p>\n"},{"tags":[],"owner":{"account_id":3188714,"reputation":1014,"user_id":2693608,"display_name":"ezer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646122896,"creation_date":1646122896,"answer_id":71305542,"question_id":71144037,"body_markdown":"from the error message it seems that `$PORT` is not resolved to any environment variable.\r\n\r\ndeploying to heroku you must use `.env` file to define env vars (you can&#39;t use `docker run -e PORT=1234`) [see documentation](https://devcenter.heroku.com/articles/container-registry-and-runtime#get-the-port-from-the-environment-variable)\r\n\r\n&gt; When you use heroku locally, you can set config vars in a .env file. When heroku local is run .env is read and each name/value pair is set in the environment. You can use this same .env file when using Docker: `docker run -p 5000:5000 --env-file .env &lt;image-name&gt;`","title":"Spring Boot app in Docker receives: Error R10 (Boot timeout) -&gt; Web process failed to bind to $PORT within 60 seconds of launch","body":"<p>from the error message it seems that <code>$PORT</code> is not resolved to any environment variable.</p>\n<p>deploying to heroku you must use <code>.env</code> file to define env vars (you can't use <code>docker run -e PORT=1234</code>) <a href=\"https://devcenter.heroku.com/articles/container-registry-and-runtime#get-the-port-from-the-environment-variable\" rel=\"nofollow noreferrer\">see documentation</a></p>\n<blockquote>\n<p>When you use heroku locally, you can set config vars in a .env file. When heroku local is run .env is read and each name/value pair is set in the environment. You can use this same .env file when using Docker: <code>docker run -p 5000:5000 --env-file .env &lt;image-name&gt;</code></p>\n</blockquote>\n"}],"owner":{"account_id":5653578,"reputation":3281,"user_id":4473386,"accept_rate":80,"display_name":"Dmytro Chasovskyi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71243462,"answer_count":2,"score":3,"last_activity_date":1646122896,"creation_date":1645023030,"question_id":71144037,"body_markdown":"I have a Spring Boot app in Docker that runs on Heroku.\r\n\r\nRecently, after updating Tomcat to 10.1.0-M10, I started getting this error:\r\n\r\n&gt; Error R10 (Boot timeout) -&gt; Web process failed to bind to $PORT within\r\n&gt; 60 seconds of launch\r\n\r\nThe immediate thought of downgrading to lower versions doesn&#39;t work due to vulnerabilities in the earlier versions. I have checked possible causes and found Tomcat [binding port issue](https://stackoverflow.com/questions/56521792/spring-boot-doesnt-bind-to-tomcat-port).\r\n\r\nI cannot set up fixed config for different ports as I am deploying to Heroku and dependent on their random ports.\r\n\r\nMy Dockerfile:\r\n\r\n```\r\nFROM azul/zulu-openjdk-alpine:11\r\nENV PORT=$PORT\r\nCOPY /target/app.jar /app.jar\r\nCMD java -Xms256m -Xmx512m \\\r\n    -Dlog4j2.formatMsgNoLookups=true \\\r\n    -Djava.security.egd=file:/dev/./urandom \\\r\n    -Dserver.port=$PORT \\\r\n    -jar /app.jar\r\n```\r\n\r\nWhat is the way to solve it? Is there anything I am missing?\r\n\r\n**UPDATE:**\r\n\r\nThere are more logs from Heroku:\r\n\r\n    Feb 22 12:50:16 integration-test app/web.1 2022-02-22 20:50:16.057 [main] INFO  c.g.s.z.ApplicationKt - Started ApplicationKt in 8.09 seconds (JVM running for 9.062)\r\n    Feb 22 12:50:16 integration-test app/web.1 2022-02-22 20:50:16.060 [main] DEBUG o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT\r\n    Feb 22 12:50:16 integration-test app/web.1 2022-02-22 20:50:16.063 [main] DEBUG o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC\r\n    Feb 22 12:51:06 integration-test heroku/web.1 Error R10 (Boot timeout) -&gt; Web process failed to bind to $PORT within 60 seconds of launch","title":"Spring Boot app in Docker receives: Error R10 (Boot timeout) -&gt; Web process failed to bind to $PORT within 60 seconds of launch","body":"<p>I have a Spring Boot app in Docker that runs on Heroku.</p>\n<p>Recently, after updating Tomcat to 10.1.0-M10, I started getting this error:</p>\n<blockquote>\n<p>Error R10 (Boot timeout) -&gt; Web process failed to bind to $PORT within\n60 seconds of launch</p>\n</blockquote>\n<p>The immediate thought of downgrading to lower versions doesn't work due to vulnerabilities in the earlier versions. I have checked possible causes and found Tomcat <a href=\"https://stackoverflow.com/questions/56521792/spring-boot-doesnt-bind-to-tomcat-port\">binding port issue</a>.</p>\n<p>I cannot set up fixed config for different ports as I am deploying to Heroku and dependent on their random ports.</p>\n<p>My Dockerfile:</p>\n<pre><code>FROM azul/zulu-openjdk-alpine:11\nENV PORT=$PORT\nCOPY /target/app.jar /app.jar\nCMD java -Xms256m -Xmx512m \\\n    -Dlog4j2.formatMsgNoLookups=true \\\n    -Djava.security.egd=file:/dev/./urandom \\\n    -Dserver.port=$PORT \\\n    -jar /app.jar\n</code></pre>\n<p>What is the way to solve it? Is there anything I am missing?</p>\n<p><strong>UPDATE:</strong></p>\n<p>There are more logs from Heroku:</p>\n<pre><code>Feb 22 12:50:16 integration-test app/web.1 2022-02-22 20:50:16.057 [main] INFO  c.g.s.z.ApplicationKt - Started ApplicationKt in 8.09 seconds (JVM running for 9.062)\nFeb 22 12:50:16 integration-test app/web.1 2022-02-22 20:50:16.060 [main] DEBUG o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT\nFeb 22 12:50:16 integration-test app/web.1 2022-02-22 20:50:16.063 [main] DEBUG o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC\nFeb 22 12:51:06 integration-test heroku/web.1 Error R10 (Boot timeout) -&gt; Web process failed to bind to $PORT within 60 seconds of launch\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":416592,"reputation":4446,"user_id":792066,"accept_rate":73,"display_name":"Braiam"},"score":3,"creation_date":1646049621,"post_id":70781190,"comment_id":126020817,"body_markdown":"Did you read this question? https://stackoverflow.com/q/62782648/792066 and this page https://source.android.com/devices/storage/scoped","body":"Did you read this question? <a href=\"https://stackoverflow.com/q/62782648/792066\">stackoverflow.com/q/62782648/792066</a> and this page <a href=\"https://source.android.com/devices/storage/scoped\" rel=\"nofollow noreferrer\">source.android.com/devices/storage/scoped</a>"},{"owner":{"account_id":3191918,"reputation":653,"user_id":2695981,"display_name":"Anthony."},"score":0,"creation_date":1646050035,"post_id":70781190,"comment_id":126020935,"body_markdown":"Thanks, yes had a look at those but neither seemed to give a clear answer. Looks like a bit of a mess that Google have made. I have about 10 Android apps on Google Play and I changed them all recently to use scoped storage and have had a lot of complaints about users no longer being able to browse to the files on their phones.","body":"Thanks, yes had a look at those but neither seemed to give a clear answer. Looks like a bit of a mess that Google have made. I have about 10 Android apps on Google Play and I changed them all recently to use scoped storage and have had a lot of complaints about users no longer being able to browse to the files on their phones."},{"owner":{"account_id":11421497,"reputation":58712,"user_id":8372853,"display_name":"cigien"},"score":2,"creation_date":1646055887,"post_id":70781190,"comment_id":126022953,"body_markdown":"This question is being discussed on [meta](https://meta.stackoverflow.com/questions/416279).","body":"This question is being discussed on <a href=\"https://meta.stackoverflow.com/questions/416279\">meta</a>."}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1646052308,"creation_date":1646052308,"answer_id":71295237,"question_id":70781190,"body_markdown":"Normally the Files app on an Android 11 device (started by the user) will not show content of ../Android/data directory.\r\n\r\nBut if your app starts it with the following code:\r\n\r\n    StorageManager sm = (StorageManager) context.getSystemService(Context.STORAGE_SERVICE);\r\n\tList&lt;StorageVolume&gt; volumes = sm.getStorageVolumes();\r\n\tString uuid = volumes.get(0).getUuid();\r\n\r\n\tString scheme = &quot;content://com.android.externalstorage.documents/document/&quot; + uuid + &quot;%3AAndroid%2Fdata;\r\n\r\n\tUri uri = Uri.parse(scheme);\r\n\r\n\tIntent intent = new Intent(Intent.ACTION_VIEW);\r\n\t\t\t\t\t\t\t\t\r\n\tintent.setDataAndType(Uri.parse(scheme), &quot;vnd.android.document/root&quot;); \r\n\r\n\tstartActivity(intent );\r\n\r\nthen it will do.\r\n","title":"How do you allow file browser apps to access to your app&#39;s scoped storage on Android?","body":"<p>Normally the Files app on an Android 11 device (started by the user) will not show content of ../Android/data directory.</p>\n<p>But if your app starts it with the following code:</p>\n<pre><code>StorageManager sm = (StorageManager) context.getSystemService(Context.STORAGE_SERVICE);\nList&lt;StorageVolume&gt; volumes = sm.getStorageVolumes();\nString uuid = volumes.get(0).getUuid();\n\nString scheme = &quot;content://com.android.externalstorage.documents/document/&quot; + uuid + &quot;%3AAndroid%2Fdata;\n\nUri uri = Uri.parse(scheme);\n\nIntent intent = new Intent(Intent.ACTION_VIEW);\n                            \nintent.setDataAndType(Uri.parse(scheme), &quot;vnd.android.document/root&quot;); \n\nstartActivity(intent );\n</code></pre>\n<p>then it will do.</p>\n"},{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1646122852,"creation_date":1646122852,"answer_id":71305536,"question_id":70781190,"body_markdown":"&gt;&gt;can you do anything to allow file browser apps on the phone to view the files that your app exports\r\n\r\nNot if you use an app specific directory like `getExternalFilsDir()` as the hack that i posted earlier to open the Files app does not work anymore now. Google closed the leak. Google wants ../Android/data/... to be private.\r\n\r\nA further possibility is to let the user choose a directory for your files using `ACTION_OPEN_DOCUMENT_TREE`.\r\n\r\nFiles will be visible with all file managers.\r\n\r\nI know you wait for the best solution an you could find it to be this one..","title":"How do you allow file browser apps to access to your app&#39;s scoped storage on Android?","body":"<blockquote>\n<blockquote>\n<p>can you do anything to allow file browser apps on the phone to view the files that your app exports</p>\n</blockquote>\n</blockquote>\n<p>Not if you use an app specific directory like <code>getExternalFilsDir()</code> as the hack that i posted earlier to open the Files app does not work anymore now. Google closed the leak. Google wants ../Android/data/... to be private.</p>\n<p>A further possibility is to let the user choose a directory for your files using <code>ACTION_OPEN_DOCUMENT_TREE</code>.</p>\n<p>Files will be visible with all file managers.</p>\n<p>I know you wait for the best solution an you could find it to be this one..</p>\n"}],"owner":{"account_id":3191918,"reputation":653,"user_id":2695981,"display_name":"Anthony."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":704,"favorite_count":0,"down_vote_count":10,"up_vote_count":2,"answer_count":2,"score":-8,"last_activity_date":1646122852,"creation_date":1642656422,"question_id":70781190,"body_markdown":"As an Android developer targeting Android 12, can you do anything to allow file browser apps on the phone to view the files that your app exports? Google now requires that all apps use &quot;Scoped Storage&quot;, which seems to effectively hide the files from file browsers on the phone. So, you can only view them if you plug the phone into a Windows PC and use File Explorer now.","title":"How do you allow file browser apps to access to your app&#39;s scoped storage on Android?","body":"<p>As an Android developer targeting Android 12, can you do anything to allow file browser apps on the phone to view the files that your app exports? Google now requires that all apps use &quot;Scoped Storage&quot;, which seems to effectively hide the files from file browsers on the phone. So, you can only view them if you plug the phone into a Windows PC and use File Explorer now.</p>\n"},{"tags":["java","spring-boot","spring-restcontroller","modelandview"],"comments":[{"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"score":0,"creation_date":1646119451,"post_id":71304597,"comment_id":126038961,"body_markdown":"Please clarify your question, I have no idea what you are asking. There is nothing constructor-like or new-like in the code you showed. If the annotation is not what you are asking about, remove it.","body":"Please clarify your question, I have no idea what you are asking. There is nothing constructor-like or new-like in the code you showed. If the annotation is not what you are asking about, remove it."},{"owner":{"account_id":16126285,"reputation":159,"user_id":11640962,"display_name":"ë°”ë³´ë¦°"},"score":0,"creation_date":1646120110,"post_id":71304597,"comment_id":126039117,"body_markdown":"sorry. Edited the content.\n\nAlso, my comment said that my question was considered a duplicate and replaced with an answer to another post instead.\n\nI don&#39;t know what this means, but I wrote it down because I thought I couldn&#39;t get a reply to my post.","body":"sorry. Edited the content.  Also, my comment said that my question was considered a duplicate and replaced with an answer to another post instead.  I don&#39;t know what this means, but I wrote it down because I thought I couldn&#39;t get a reply to my post."},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1646120855,"post_id":71304597,"comment_id":126039319,"body_markdown":"I&#39;ve reopened the question, but I have no idea what you&#39;re asking... Your method is declared to accept an input parameter of type `ModelAndView` and to return a result of type `ModelAndView` (or null, which it does in this case).","body":"I&#39;ve reopened the question, but I have no idea what you&#39;re asking... Your method is declared to accept an input parameter of type <code>ModelAndView</code> and to return a result of type <code>ModelAndView</code> (or null, which it does in this case)."},{"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"score":1,"creation_date":1646120977,"post_id":71304597,"comment_id":126039353,"body_markdown":"Sorry, this makes no sense at all","body":"Sorry, this makes no sense at all"},{"owner":{"account_id":16126285,"reputation":159,"user_id":11640962,"display_name":"ë°”ë³´ë¦°"},"score":0,"creation_date":1646121350,"post_id":71304597,"comment_id":126039467,"body_markdown":"Oh, sorry. Let me explain the question again.\n\nFirst of all, ModelAndView is a simple example, and return null is a temporary part for convenience.\n\nAs you just commented, ModelAndView was used as a parameter.\n\nThat&#39;s the part I&#39;m curious about.","body":"Oh, sorry. Let me explain the question again.  First of all, ModelAndView is a simple example, and return null is a temporary part for convenience.  As you just commented, ModelAndView was used as a parameter.  That&#39;s the part I&#39;m curious about."},{"owner":{"account_id":16126285,"reputation":159,"user_id":11640962,"display_name":"ë°”ë³´ë¦°"},"score":0,"creation_date":1646121356,"post_id":71304597,"comment_id":126039470,"body_markdown":"To the best of my knowledge, to use this &quot;object variable&quot;\nmian() { ModelAndView model = new ModelAndView();\n\nmodel.addObject...\n}\nshould be implemented like\n\nHowever, this long part is omitted.\n\nmain(ModelAndView model) {\nmodel.addObject..\n}\nhas become\n\nI wonder how this omitted and the ModelAndView model written as a parameter can be used as an object variable.","body":"To the best of my knowledge, to use this &quot;object variable&quot; mian() { ModelAndView model = new ModelAndView();  model.addObject... } should be implemented like  However, this long part is omitted.  main(ModelAndView model) { model.addObject.. } has become  I wonder how this omitted and the ModelAndView model written as a parameter can be used as an object variable."},{"owner":{"account_id":16126285,"reputation":159,"user_id":11640962,"display_name":"ë°”ë³´ë¦°"},"score":0,"creation_date":1646121766,"post_id":71304597,"comment_id":126039591,"body_markdown":"I&#39;m really sorry to bother you.\n\nI&#39;ve attached a picture of the rewritten code for the exact question.","body":"I&#39;m really sorry to bother you.  I&#39;ve attached a picture of the rewritten code for the exact question."},{"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"score":0,"creation_date":1646125176,"post_id":71304597,"comment_id":126040775,"body_markdown":"Looks like you&#39;re missing so Java basics, e.g. parameter passing (https://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html)","body":"Looks like you&#39;re missing so Java basics, e.g. parameter passing (<a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/arguments.html</a>)"}],"owner":{"account_id":16126285,"reputation":159,"user_id":11640962,"display_name":"ë°”ë³´ë¦°"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646121734,"creation_date":1646116606,"question_id":71304597,"body_markdown":"Below is some simple code.\r\n\r\n    @RequestMapping(value=&quot;/main&quot;)\r\n    public ModelAndView main(ModelAndView model) {\r\n        \r\n        model.addObject(&quot;project&quot;,mainService.selectProject());\r\n        \r\n        return null;\r\n    }\r\n\r\nI thought until now that the role of parameter should be used only in the form of method name (x,y, etc..) elsewhere.\r\n\r\nHowever, when used like the code above, it is not a role that receives a certain value, but rather a &quot;one variable?&quot; or &quot;One constructor?&quot;\r\n\r\nIt seems to be used like\r\n\r\nIt can be used as if using new, but I would like to know the principle.\r\n\r\n\r\nCould you explain the principle or point me to a keyword that I can study?\r\n\r\n\r\n===\r\n\r\npublic ModelAndView main(ModelAndView model) {\r\n\r\nIn the ModelAndView model is this part.\r\n\r\nWhen this part calls the method (ex, method name (x, y))\r\n\r\nI was only thinking of it for the purpose of receiving the value of something.\r\n\r\nHowever, the ModelAndView model above can be used as a variable or constructor by itself.\r\n\r\nFrom the line of knowledge I know, ModelAndView model = new ModelAndView(); should be However, this part was omitted and it can be used by declaring it in the parameter.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oHWma.png","title":"How to use a variable via Java method parameter?","body":"<p>Below is some simple code.</p>\n<pre><code>@RequestMapping(value=&quot;/main&quot;)\npublic ModelAndView main(ModelAndView model) {\n    \n    model.addObject(&quot;project&quot;,mainService.selectProject());\n    \n    return null;\n}\n</code></pre>\n<p>I thought until now that the role of parameter should be used only in the form of method name (x,y, etc..) elsewhere.</p>\n<p>However, when used like the code above, it is not a role that receives a certain value, but rather a &quot;one variable?&quot; or &quot;One constructor?&quot;</p>\n<p>It seems to be used like</p>\n<p>It can be used as if using new, but I would like to know the principle.</p>\n<p>Could you explain the principle or point me to a keyword that I can study?</p>\n<p>===</p>\n<p>public ModelAndView main(ModelAndView model) {</p>\n<p>In the ModelAndView model is this part.</p>\n<p>When this part calls the method (ex, method name (x, y))</p>\n<p>I was only thinking of it for the purpose of receiving the value of something.</p>\n<p>However, the ModelAndView model above can be used as a variable or constructor by itself.</p>\n<p>From the line of knowledge I know, ModelAndView model = new ModelAndView(); should be However, this part was omitted and it can be used by declaring it in the parameter.</p>\n<p><a href=\"https://i.stack.imgur.com/oHWma.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oHWma.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","readfile"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646066141,"creation_date":1646064454,"answer_id":71297813,"question_id":71297695,"body_markdown":"It seems unlikely for me that one line would be read multiple times. Try to debug your code to see if that actually happens.\r\n\r\nOtherwise, you could really skip the first line before starting processing:\r\n\r\n    BufferedReader bR = new BufferedReader(new FileReader(myfile));\r\n    int i =0;\r\n\r\n    String line;\r\n        \r\n    try {\r\n        // alternative one\r\n        String firstline = bufferedReader.readLine();\r\n        String secondline = bufferedReader.readLine();\r\n        String mergedline = firstline + secondline; // the linefeed should have been removed but the data is retained\r\n\r\n        // alternative two\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(bufferedReader.readLine()); // first line\r\n        sb.append(bufferedReader.readLine()); // second line\r\n        ... = sb.toString(); // now do something with the merged lines\r\n\r\n        // the other stuff\r\n        while (line = bufferedReader.readLine()) != null) {\r\n            // process your data lines here\r\n        }\r\n    \r\n    }","title":"How to read data from txt and save into array every 2 lines and remove the header","body":"<p>It seems unlikely for me that one line would be read multiple times. Try to debug your code to see if that actually happens.</p>\n<p>Otherwise, you could really skip the first line before starting processing:</p>\n<pre><code>BufferedReader bR = new BufferedReader(new FileReader(myfile));\nint i =0;\n\nString line;\n    \ntry {\n    // alternative one\n    String firstline = bufferedReader.readLine();\n    String secondline = bufferedReader.readLine();\n    String mergedline = firstline + secondline; // the linefeed should have been removed but the data is retained\n\n    // alternative two\n    StringBuilder sb = new StringBuilder();\n    sb.append(bufferedReader.readLine()); // first line\n    sb.append(bufferedReader.readLine()); // second line\n    ... = sb.toString(); // now do something with the merged lines\n\n    // the other stuff\n    while (line = bufferedReader.readLine()) != null) {\n        // process your data lines here\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646121577,"creation_date":1646069425,"answer_id":71298832,"question_id":71297695,"body_markdown":"- The result has actually a dynamic number of records. Then a fixed size array\r\n  no longer is suitable. Use [`List&lt;String\\[\\]&gt;`][1] instead: `list.add(stringArray)`, `list.get(i)`, `list.size()`, `list.isEmpty()`.\r\n- The header seems to consist of 2 lines, but I may err.\r\n- I saw fields with a space, hence one cannot split on `\\s+` (one or more whitespace characters). I did split on `\\s\\s+`. Maybe you should better use the fixed length field boundaries with `line1.substring(i1, i2)`.\r\n- FileReader uses the encoding on your current computer (=unportable file). I have made it explicit. If it always an US-ASCII file, without special characters, you could use `StandardCharsets.US_ASCII`. Then you can run the software on a Linux server, that normally uses UTF-8.\r\n\r\nSo without check of data format (which however makes sense):\r\n\r\n    private void stackOverflow() throws IOException {\r\n        List&lt;String[]&gt; data = loadData(&quot;mydata.txt&quot;);\r\n        System.out.println(data.size() + &quot; records read&quot;);\r\n        for (String[] fields: data) {\r\n            System.out.println(Arrays.toString(fields));\r\n        }\r\n    }\r\n\r\n    private List&lt;String[]&gt; loadData(String myFile) throws IOException {\r\n        List&lt;String[]&gt; data = new ArrayList&lt;&gt;();\r\n        Path path = Paths.get(myFile);\r\n        try (BufferedReader bufferedReader =\r\n                Files.newBufferedReader(path, Charset.defaultCharset())) {\r\n            if (bufferedReader.readLine() != null\r\n                    &amp;&amp; bufferedReader.readLine() != null) { // Skip both header lines.\r\n                String line1, line2;\r\n                while ((line1 = bufferedReader.readLine()) != null\r\n                        &amp;&amp; (line2 = bufferedReader.readLine()) != null) {\r\n\r\n                    String[] fields1 = line1.split(&quot;\\\\s\\\\s+&quot;, 4); // Split on at least 2 spaces.\r\n                    if (fields1.length != 4) {\r\n                        throw new IOException(&quot;Wrong number of fields for first line: &quot; + line1);\r\n                    }\r\n                    String[] fields2 = line2.split(&quot;\\\\s\\\\s+&quot;, 3); // Split on at least 2 spaces.\r\n                    if (fields1.length != 3) {\r\n                        throw new IOException(&quot;Wrong number of fields for second line: &quot; + line2);\r\n                    }\r\n                    String[] total = Arrays.copyOf(fields1, 7);\r\n                    System.arraycopy(fields2, 0, total, 4, fields2.length);\r\n                    ;\r\n                    data.add(total);\r\n                }\r\n                if (line1 != null &amp;&amp; !line1.isBlank()) {\r\n                    throw new IOException(&quot;Trailing single line: &quot; + line1);\r\n                }\r\n            }\r\n        }\r\n        return data;\r\n    }\r\n\r\n- Substring is better, safer, than split.\r\n- Instead of `String[]` you might use `record` class (since java 14)\r\n\r\n      record Visitor(String no, String date, String name, String address,\r\n              String phone, String birthday, String need) { }\r\n      List&lt;Visitor&gt; data = new ArrayList&lt;&gt;();\r\n      data.add(new Visitor(fields1[0], fields1[1], fields1[2], fields1[3],\r\n          fields2[0], fields2[1], fields2[2]);\r\n\r\nA `record` need little code, however cannot be changed, only replaced in the list.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/util/List.html","title":"How to read data from txt and save into array every 2 lines and remove the header","body":"<ul>\n<li>The result has actually a dynamic number of records. Then a fixed size array\nno longer is suitable. Use <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/List.html\" rel=\"nofollow noreferrer\"><code>List&lt;String\\[\\]&gt;</code></a> instead: <code>list.add(stringArray)</code>, <code>list.get(i)</code>, <code>list.size()</code>, <code>list.isEmpty()</code>.</li>\n<li>The header seems to consist of 2 lines, but I may err.</li>\n<li>I saw fields with a space, hence one cannot split on <code>\\s+</code> (one or more whitespace characters). I did split on <code>\\s\\s+</code>. Maybe you should better use the fixed length field boundaries with <code>line1.substring(i1, i2)</code>.</li>\n<li>FileReader uses the encoding on your current computer (=unportable file). I have made it explicit. If it always an US-ASCII file, without special characters, you could use <code>StandardCharsets.US_ASCII</code>. Then you can run the software on a Linux server, that normally uses UTF-8.</li>\n</ul>\n<p>So without check of data format (which however makes sense):</p>\n<pre><code>private void stackOverflow() throws IOException {\n    List&lt;String[]&gt; data = loadData(&quot;mydata.txt&quot;);\n    System.out.println(data.size() + &quot; records read&quot;);\n    for (String[] fields: data) {\n        System.out.println(Arrays.toString(fields));\n    }\n}\n\nprivate List&lt;String[]&gt; loadData(String myFile) throws IOException {\n    List&lt;String[]&gt; data = new ArrayList&lt;&gt;();\n    Path path = Paths.get(myFile);\n    try (BufferedReader bufferedReader =\n            Files.newBufferedReader(path, Charset.defaultCharset())) {\n        if (bufferedReader.readLine() != null\n                &amp;&amp; bufferedReader.readLine() != null) { // Skip both header lines.\n            String line1, line2;\n            while ((line1 = bufferedReader.readLine()) != null\n                    &amp;&amp; (line2 = bufferedReader.readLine()) != null) {\n\n                String[] fields1 = line1.split(&quot;\\\\s\\\\s+&quot;, 4); // Split on at least 2 spaces.\n                if (fields1.length != 4) {\n                    throw new IOException(&quot;Wrong number of fields for first line: &quot; + line1);\n                }\n                String[] fields2 = line2.split(&quot;\\\\s\\\\s+&quot;, 3); // Split on at least 2 spaces.\n                if (fields1.length != 3) {\n                    throw new IOException(&quot;Wrong number of fields for second line: &quot; + line2);\n                }\n                String[] total = Arrays.copyOf(fields1, 7);\n                System.arraycopy(fields2, 0, total, 4, fields2.length);\n                ;\n                data.add(total);\n            }\n            if (line1 != null &amp;&amp; !line1.isBlank()) {\n                throw new IOException(&quot;Trailing single line: &quot; + line1);\n            }\n        }\n    }\n    return data;\n}\n</code></pre>\n<ul>\n<li><p>Substring is better, safer, than split.</p>\n</li>\n<li><p>Instead of <code>String[]</code> you might use <code>record</code> class (since java 14)</p>\n<pre><code>record Visitor(String no, String date, String name, String address,\n        String phone, String birthday, String need) { }\nList&lt;Visitor&gt; data = new ArrayList&lt;&gt;();\ndata.add(new Visitor(fields1[0], fields1[1], fields1[2], fields1[3],\n    fields2[0], fields2[1], fields2[2]);\n</code></pre>\n</li>\n</ul>\n<p>A <code>record</code> need little code, however cannot be changed, only replaced in the list.</p>\n"}],"owner":{"account_id":10082595,"reputation":49,"user_id":7452363,"display_name":"Shabrina Nurdiani S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71298832,"answer_count":2,"score":0,"last_activity_date":1646121577,"creation_date":1646063949,"question_id":71297695,"body_markdown":"I want to read the data from text, then I will remove the header of the text and save the data into and array every 2 line, cause it still continues data.\r\n\r\nvisitor.txt\r\n```\r\n    1                  \tDAILY REPORT VISITOR\r\n    \t\t\t\t\t\tDATE : 02-02-22\r\n    0+------------------------------------------------------------------+\r\n    \tNO.  \tDATE        \tNAME  \t\t\t\tADDRESS\r\n    \tPHONE\t\t\tBIRTHDAY\t\tNEED\t\t                      \r\n     +------------------------------------------------------------------+\r\n    \t  1\t\t02-02-22\t\tELIZABETH ZEE\t\tWASHINGTON DC\r\n    \t+32\t62\t\t\t18-10-1985\t\tBORROW BOOK\r\n    \t  2\t\t02-02-22\t\tVICTORIA GEA\t\tBRUSEELS\r\n    \t+32 64\t\t\t24-05-1986\t\tVISITOR\r\n    \t  3\t\t02-02-22\t\tGEORGE PHILIPS\t\tBRUSEELS\r\n    \t+32 76\t\t\t02-05-1990\t\tVISITOR \r\n```\r\n\r\nI want the data that save into an array like this.\r\n\r\n    1\t\t02-02-22\t\tELIZABETH ZEE\t\tWASHINGTON DC\t\t+32\t62\t\t\t18-10-1985\t\tBORROW BOOK\r\n\t2\t\t02-02-22\t\tVICTORIA GEA\t\tBRUSEELS\t\t\t+32 64\t\t\t24-05-1986\t\tVISITOR\r\n\t3\t\t02-02-22\t\tGEORGE PHILIPS\t\tBRUSEELS\t\t\t+32 76\t\t\t02-05-1990\t\tVISITOR\r\n\r\n\r\nThis is the code \r\n\r\n    BufferedReader bR = new BufferedReader(new FileReader(myfile));\r\n    int i =0;\r\n    \r\n    String line;\r\n            \r\n    try {\r\n        while (line = bufferedReader.readLine()) != null) {\r\n    \ti++;\r\n        String data = line.split(&quot;\\\\s&quot;, &quot;&quot;)\r\n    \r\n    \tif(data.matches(&quot;[0-9]{1,3}\\\\s.+&quot;)) {\r\n    \t\tString[] dataArray = data.split(&quot;\\\\s&quot;, -1);\r\n    \t\tString[] result = new String[30];\r\n    \r\n            System.arraycopy(fileArray, 0, result, 0, fileArray.length);\r\n    \r\n            String data1 = line.get(i).split(&quot;\\\\s&quot;, &quot;&quot;)\r\n            String[] fileArray1 = data.split(&quot;\\\\s&quot;, -1);\r\n            String[] result1 = new String[30];\r\n     \r\n    \t\tSystem.arraycopy(fileArray1, 0, result1,0,fileArray1.length);\t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\nThe problem here is, I think this code is not effective cause it will be read the second line twice from data and data1. I want every 2 lines will save into one row in the database like the result of text. Do you have any solution?","title":"How to read data from txt and save into array every 2 lines and remove the header","body":"<p>I want to read the data from text, then I will remove the header of the text and save the data into and array every 2 line, cause it still continues data.</p>\n<p>visitor.txt</p>\n<pre><code>    1                   DAILY REPORT VISITOR\n                            DATE : 02-02-22\n    0+------------------------------------------------------------------+\n        NO.     DATE            NAME                ADDRESS\n        PHONE           BIRTHDAY        NEED                              \n     +------------------------------------------------------------------+\n          1     02-02-22        ELIZABETH ZEE       WASHINGTON DC\n        +32 62          18-10-1985      BORROW BOOK\n          2     02-02-22        VICTORIA GEA        BRUSEELS\n        +32 64          24-05-1986      VISITOR\n          3     02-02-22        GEORGE PHILIPS      BRUSEELS\n        +32 76          02-05-1990      VISITOR \n</code></pre>\n<p>I want the data that save into an array like this.</p>\n<pre><code>1       02-02-22        ELIZABETH ZEE       WASHINGTON DC       +32 62          18-10-1985      BORROW BOOK\n2       02-02-22        VICTORIA GEA        BRUSEELS            +32 64          24-05-1986      VISITOR\n3       02-02-22        GEORGE PHILIPS      BRUSEELS            +32 76          02-05-1990      VISITOR\n</code></pre>\n<p>This is the code</p>\n<pre><code>BufferedReader bR = new BufferedReader(new FileReader(myfile));\nint i =0;\n\nString line;\n        \ntry {\n    while (line = bufferedReader.readLine()) != null) {\n    i++;\n    String data = line.split(&quot;\\\\s&quot;, &quot;&quot;)\n\n    if(data.matches(&quot;[0-9]{1,3}\\\\s.+&quot;)) {\n        String[] dataArray = data.split(&quot;\\\\s&quot;, -1);\n        String[] result = new String[30];\n\n        System.arraycopy(fileArray, 0, result, 0, fileArray.length);\n\n        String data1 = line.get(i).split(&quot;\\\\s&quot;, &quot;&quot;)\n        String[] fileArray1 = data.split(&quot;\\\\s&quot;, -1);\n        String[] result1 = new String[30];\n \n        System.arraycopy(fileArray1, 0, result1,0,fileArray1.length);       \n    }\n    \n}\n</code></pre>\n<p>The problem here is, I think this code is not effective cause it will be read the second line twice from data and data1. I want every 2 lines will save into one row in the database like the result of text. Do you have any solution?</p>\n"},{"tags":["java","android","android-studio","kotlin","android-exifinterface"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1646113527,"post_id":71303885,"comment_id":126037803,"body_markdown":"Using an Android 11 device?","body":"Using an Android 11 device?"},{"owner":{"account_id":15777120,"reputation":21,"user_id":11384655,"display_name":"roma972012"},"score":0,"creation_date":1646116306,"post_id":71303885,"comment_id":126038338,"body_markdown":"@blackapps Yes using android 11","body":"@blackapps Yes using android 11"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1646116612,"post_id":71303885,"comment_id":126038393,"body_markdown":"You need special permissions now adays to read location from exif. Google. Problem reported before. I think app needs  location permission and also &#39;all files access&#39;.","body":"You need special permissions now adays to read location from exif. Google. Problem reported before. I think app needs  location permission and also &#39;all files access&#39;."},{"owner":{"account_id":15777120,"reputation":21,"user_id":11384655,"display_name":"roma972012"},"score":0,"creation_date":1646121643,"post_id":71303885,"comment_id":126039566,"body_markdown":"@blackapps I will add the logcat lines. added the user-permissions","body":"@blackapps I will add the logcat lines. added the user-permissions"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1646123980,"post_id":71303885,"comment_id":126040355,"body_markdown":"well we wait and wait..","body":"well we wait and wait.."}],"owner":{"account_id":15777120,"reputation":21,"user_id":11384655,"display_name":"roma972012"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1646121559,"creation_date":1646110427,"question_id":71303885,"body_markdown":"    fun ExifInterface.getTags(): HashMap&lt;String, String&gt; {\r\n            val mAttributes = mAttributes()\r\n    \r\n            var map = HashMap&lt;String, String&gt;()\r\n            if (mAttributes is Array&lt;*&gt;) {\r\n                val arrayOfMapAux = mAttributes as Array&lt;HashMap&lt;String, *&gt;&gt;\r\n                arrayOfMapAux.indices\r\n                    .flatMap { mAttributes[it].entries }\r\n                    .forEach { map[it.key] = this.getAttribute(it.key)!! }\r\n            } else if (mAttributes is HashMap&lt;*, *&gt;) {\r\n                map = mAttributes as HashMap&lt;String, String&gt;\r\n            }\r\n    \r\n            val latLonArray = FloatArray(2)\r\n            if (this.getLatLong(latLonArray)) {\r\n                val lat = latLonArray[0].toString()\r\n                val lng = latLonArray[1].toString()\r\n                Log.d(&quot;imgGpsTracker&quot;, &quot;lat = $lat &amp; lng = $lng&quot;)\r\n            }\r\n            Log.d(&quot;imgGpsTracker&quot;, &quot;lat = ${latLonArray[0].toString()} &amp; lng = ${latLonArray[1].toString()}&quot;)\r\n            return map\r\n        }\r\n\r\n\r\nIm trying to get the gps location of the images, but all i got is 0/1 0/1 0/1. Images which doesn&#39;t have gps location returns null value.\r\n[checkout logcat lines from here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RSL69.jpg\r\n\r\nGot user permissions from following\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot;/&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_MEDIA_LOCATION&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;","title":"ExifInterface 1.3.3 returns &quot;0/1 0/1&quot; for longitude and latitude values","body":"<pre><code>fun ExifInterface.getTags(): HashMap&lt;String, String&gt; {\n        val mAttributes = mAttributes()\n\n        var map = HashMap&lt;String, String&gt;()\n        if (mAttributes is Array&lt;*&gt;) {\n            val arrayOfMapAux = mAttributes as Array&lt;HashMap&lt;String, *&gt;&gt;\n            arrayOfMapAux.indices\n                .flatMap { mAttributes[it].entries }\n                .forEach { map[it.key] = this.getAttribute(it.key)!! }\n        } else if (mAttributes is HashMap&lt;*, *&gt;) {\n            map = mAttributes as HashMap&lt;String, String&gt;\n        }\n\n        val latLonArray = FloatArray(2)\n        if (this.getLatLong(latLonArray)) {\n            val lat = latLonArray[0].toString()\n            val lng = latLonArray[1].toString()\n            Log.d(&quot;imgGpsTracker&quot;, &quot;lat = $lat &amp; lng = $lng&quot;)\n        }\n        Log.d(&quot;imgGpsTracker&quot;, &quot;lat = ${latLonArray[0].toString()} &amp; lng = ${latLonArray[1].toString()}&quot;)\n        return map\n    }\n</code></pre>\n<p>Im trying to get the gps location of the images, but all i got is 0/1 0/1 0/1. Images which doesn't have gps location returns null value.\n<a href=\"https://i.stack.imgur.com/RSL69.jpg\" rel=\"nofollow noreferrer\">checkout logcat lines from here</a></p>\n<p>Got user permissions from following</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_MEDIA_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":12454235,"reputation":95,"user_id":9067963,"display_name":"Mahmud Mridul"},"score":0,"creation_date":1646048317,"post_id":71294321,"comment_id":126020407,"body_markdown":"&quot;Use default compliance settings&quot; is checked. &quot;Generated .class files compatibility&quot; is 1.8. &quot;Source Compatibility&quot; is 1.8","body":"&quot;Use default compliance settings&quot; is checked. &quot;Generated .class files compatibility&quot; is 1.8. &quot;Source Compatibility&quot; is 1.8"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1646049784,"post_id":71294321,"comment_id":126020860,"body_markdown":"You have [already asked that question four days ago](https://stackoverflow.com/q/71253112/6505250) and accepted an answer. What&#39;s the purpose to ask it again?","body":"You have <a href=\"https://stackoverflow.com/q/71253112/6505250\">already asked that question four days ago</a> and accepted an answer. What&#39;s the purpose to ask it again?"},{"owner":{"account_id":12454235,"reputation":95,"user_id":9067963,"display_name":"Mahmud Mridul"},"score":0,"creation_date":1646049993,"post_id":71294321,"comment_id":126020917,"body_markdown":"Initially I was having problem with tomcat. I fixed that issue by copying correct version of .class files in the webapps directory. But it is not meant to be done manually. So I need to figure out why compiling with eclipse is not updating the .class files.","body":"Initially I was having problem with tomcat. I fixed that issue by copying correct version of .class files in the webapps directory. But it is not meant to be done manually. So I need to figure out why compiling with eclipse is not updating the .class files."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":2,"creation_date":1646058639,"post_id":71294321,"comment_id":126024097,"body_markdown":"Make sure in _Properties &gt; Project: Java Build Path_ tab _Source_ the correct output folder(s) are configured.","body":"Make sure in <i>Properties &gt; Project: Java Build Path</i> tab <i>Source</i> the correct output folder(s) are configured."},{"owner":{"account_id":12454235,"reputation":95,"user_id":9067963,"display_name":"Mahmud Mridul"},"score":1,"creation_date":1646112708,"post_id":71294321,"comment_id":126037641,"body_markdown":"That was the issue. The default output folder was set to some directory like **ProjectName/bin** and I was looking into some other directory like **ProjectName/classes/packages**. The class files at the output folder had the correct class version (52) as expected.","body":"That was the issue. The default output folder was set to some directory like <b>ProjectName/bin</b> and I was looking into some other directory like <b>ProjectName/classes/packages</b>. The class files at the output folder had the correct class version (52) as expected."}],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646121307,"creation_date":1646121307,"answer_id":71305292,"question_id":71294321,"body_markdown":"Make sure in ***Properties &gt; Project: Java Build Path*** tab ***Source*** the correct **output folder**(s) are configured.","title":"Eclipse not updating .class files","body":"<p>Make sure in <em><strong>Properties &gt; Project: Java Build Path</strong></em> tab <em><strong>Source</strong></em> the correct <strong>output folder</strong>(s) are configured.</p>\n"}],"owner":{"account_id":12454235,"reputation":95,"user_id":9067963,"display_name":"Mahmud Mridul"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":880,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71305292,"answer_count":1,"score":1,"last_activity_date":1646121307,"creation_date":1646047590,"question_id":71294321,"body_markdown":"I have a java web application. Previously I compiled all .java files with JDK 15. But because of some 3rd party apps I had to switch to JDK1.8. Now the problem is when I build the project .class files are not updated. I have checked the version with ```javap -verbose ClassName.class | findstr &quot;major&quot;``` command. Class version is still 59.0. I have already tried steps in this link &lt;https://stackoverflow.com/questions/9573416/why-isnt-eclipse-updating-the-classes&gt;. I have also checked **JAVA_HOME** and **Path** variable. These are set to JDK1.8 And here are other configurations in eclipse&lt;br&gt;\r\n1. **JRE System Library** is jre1.8\r\n2. Project -&gt; Properties -&gt; Builders, **Java Builder** is checked\r\n3. Project -&gt; Properties -&gt; Java Build Path -&gt; Order and Export **JRE System Library** is checked\r\n4. Checked **.project** file \r\n```\r\n&lt;buildSpec&gt;\r\n    &lt;buildCommand&gt;\r\n        &lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\r\n        &lt;arguments&gt;\r\n        &lt;/arguments&gt;\r\n    &lt;/buildCommand&gt;\r\n&lt;/buildSpec&gt;\r\n&lt;natures&gt;\r\n    &lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\r\n&lt;/natures&gt;\r\n```\r\nabove configurations are present. &lt;br&gt;\r\nIs there anything that I am missing?","title":"Eclipse not updating .class files","body":"<p>I have a java web application. Previously I compiled all .java files with JDK 15. But because of some 3rd party apps I had to switch to JDK1.8. Now the problem is when I build the project .class files are not updated. I have checked the version with <code>javap -verbose ClassName.class | findstr &quot;major&quot;</code> command. Class version is still 59.0. I have already tried steps in this link <a href=\"https://stackoverflow.com/questions/9573416/why-isnt-eclipse-updating-the-classes\">Why isn&#39;t Eclipse updating the classes?</a>. I have also checked <strong>JAVA_HOME</strong> and <strong>Path</strong> variable. These are set to JDK1.8 And here are other configurations in eclipse<br></p>\n<ol>\n<li><strong>JRE System Library</strong> is jre1.8</li>\n<li>Project -&gt; Properties -&gt; Builders, <strong>Java Builder</strong> is checked</li>\n<li>Project -&gt; Properties -&gt; Java Build Path -&gt; Order and Export <strong>JRE System Library</strong> is checked</li>\n<li>Checked <strong>.project</strong> file</li>\n</ol>\n<pre><code>&lt;buildSpec&gt;\n    &lt;buildCommand&gt;\n        &lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\n        &lt;arguments&gt;\n        &lt;/arguments&gt;\n    &lt;/buildCommand&gt;\n&lt;/buildSpec&gt;\n&lt;natures&gt;\n    &lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\n&lt;/natures&gt;\n</code></pre>\n<p>above configurations are present. <br>\nIs there anything that I am missing?</p>\n"},{"tags":["java","java-stream","java-17"],"comments":[{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":0,"creation_date":1646120946,"post_id":71304505,"comment_id":126039345,"body_markdown":"@Birsan: I updated your question title to be more descriptive. Try to come up with a more descriptive tile in the future! :)","body":"@Birsan: I updated your question title to be more descriptive. Try to come up with a more descriptive tile in the future! :)"},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":1,"creation_date":1646121149,"post_id":71304505,"comment_id":126039415,"body_markdown":"@user16320675: Yeah, maybe another title would be better. I think the new one is an improvement at least.","body":"@user16320675: Yeah, maybe another title would be better. I think the new one is an improvement at least."}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1646117955,"creation_date":1646116099,"answer_id":71304533,"question_id":71304505,"body_markdown":"Just cut out the `map()` and have your comparator do the age lookup on `Person`:\r\n\r\n    return personList.stream()\r\n            .min(Comparator.comparingInt(Person::getAge))\r\n            .orElse(null);\r\n\r\nIf you know the list is non-empty, better to make that explicit by calling `get()` or `orElseThrow()` instead of `orElse()`. Or you can use the `Collections` helper instead of streams:\r\n\r\n    return Collections.min(personList, Comparator.comparingInt(Person::getAge));\r\n\r\nBy the way, calling `.toList().stream()` when you already have a stream is completely pointless. There&#39;s also no point in calling `Integer::valueOf` on an `Integer`.","title":"How to get list element with minimal property?","body":"<p>Just cut out the <code>map()</code> and have your comparator do the age lookup on <code>Person</code>:</p>\n<pre><code>return personList.stream()\n        .min(Comparator.comparingInt(Person::getAge))\n        .orElse(null);\n</code></pre>\n<p>If you know the list is non-empty, better to make that explicit by calling <code>get()</code> or <code>orElseThrow()</code> instead of <code>orElse()</code>. Or you can use the <code>Collections</code> helper instead of streams:</p>\n<pre><code>return Collections.min(personList, Comparator.comparingInt(Person::getAge));\n</code></pre>\n<p>By the way, calling <code>.toList().stream()</code> when you already have a stream is completely pointless. There's also no point in calling <code>Integer::valueOf</code> on an <code>Integer</code>.</p>\n"},{"tags":[],"owner":{"account_id":12394921,"reputation":4981,"user_id":9035237,"display_name":"Geno Chen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646116448,"creation_date":1646116448,"answer_id":71304576,"question_id":71304505,"body_markdown":"Don&#39;t `map` out the ages. It is not necessary to destruct just for finding the minimun value of an integer inside the struct.\r\n```java\r\n    return personList.stream()\r\n            .min(Comparator.comparingInt(o -&gt; o.age))\r\n            .orElse(null);\r\n```","title":"How to get list element with minimal property?","body":"<p>Don't <code>map</code> out the ages. It is not necessary to destruct just for finding the minimun value of an integer inside the struct.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    return personList.stream()\n            .min(Comparator.comparingInt(o -&gt; o.age))\n            .orElse(null);\n</code></pre>\n"}],"owner":{"display_name":"user17695302"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":407,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71304533,"answer_count":2,"score":0,"last_activity_date":1646120881,"creation_date":1646115882,"question_id":71304505,"body_markdown":"I write this code to find the youngest person:\r\n\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    \r\n    public class PersonImpl implements PersonInterface {\r\n    \r\n        @Override\r\n        public Person youngest(List&lt;Person&gt; personList) {\r\n            Integer minAge = personList.stream()\r\n                    .map(Person::getAge)\r\n                    .min(Comparator.comparing(Integer::valueOf))\r\n                    .orElse(null);\r\n            return personList.stream()\r\n                    .filter(person -&gt; person.getAge() == minAge)\r\n                    .toList()\r\n                    .stream()\r\n                    .findFirst()\r\n                    .orElse(null);\r\n        }\r\n    }\r\n\r\nAs you can see I did it and is working correctly . Now I want to know if I can do this in a better way (maybe instead of having 2 &quot;statements&quot; to go done to only one?)\r\nPS: I provided only the code since I assume that there is no need to post all the other classes in here just to review this one only.\r\n\r\nCan someone explain me what can be done to have a better code(less lines)?\r\nThanks","title":"How to get list element with minimal property?","body":"<p>I write this code to find the youngest person:</p>\n<pre><code>import java.util.Comparator;\nimport java.util.List;\n\npublic class PersonImpl implements PersonInterface {\n\n    @Override\n    public Person youngest(List&lt;Person&gt; personList) {\n        Integer minAge = personList.stream()\n                .map(Person::getAge)\n                .min(Comparator.comparing(Integer::valueOf))\n                .orElse(null);\n        return personList.stream()\n                .filter(person -&gt; person.getAge() == minAge)\n                .toList()\n                .stream()\n                .findFirst()\n                .orElse(null);\n    }\n}\n</code></pre>\n<p>As you can see I did it and is working correctly . Now I want to know if I can do this in a better way (maybe instead of having 2 &quot;statements&quot; to go done to only one?)\nPS: I provided only the code since I assume that there is no need to post all the other classes in here just to review this one only.</p>\n<p>Can someone explain me what can be done to have a better code(less lines)?\nThanks</p>\n"},{"tags":["java","parallel-processing"],"comments":[{"owner":{"account_id":7139308,"reputation":2282,"user_id":5457643,"display_name":"Turamarth"},"score":0,"creation_date":1646121041,"post_id":71305213,"comment_id":126039379,"body_markdown":"Does this answer your question? [Java 8: Parallel FOR loop](https://stackoverflow.com/questions/27558605/java-8-parallel-for-loop)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/27558605/java-8-parallel-for-loop\">Java 8: Parallel FOR loop</a>"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1646121421,"post_id":71305213,"comment_id":126039492,"body_markdown":"`Arrays.parallelSetAll(area, i -&gt; triangle.computeArea(height[i], base[i]));`","body":"<code>Arrays.parallelSetAll(area, i -&gt; triangle.computeArea(height[i], base[i]));</code>"},{"owner":{"account_id":16208879,"reputation":11,"user_id":18341243,"display_name":"Niccolo Tubini"},"score":0,"creation_date":1646134040,"post_id":71305213,"comment_id":126043702,"body_markdown":"Thanks for your suggestions. I tried, but it seems to be slower compare to the for loop. I measured the time with System.currentTimeMillis(). Is there a better solution or what I am doing wrong?\n```\ndouble t = System.currentTimeMillis();\nfor(int k=0; k&lt;KMAX; k++) {\n  area[k] = tr.computeArea(height[k], base[k]);\n}\ndouble seq = System.currentTimeMillis() - t;\n\n t = System.currentTimeMillis();\nArrays.parallelSetAll(area, i -&gt; tr.computeArea(height[i], base[i]));\nseq = System.currentTimeMillis() - t;\n\nwith the for loop I get 170 while 230 with Arrays.parallelSetAll","body":"Thanks for your suggestions. I tried, but it seems to be slower compare to the for loop. I measured the time with System.currentTimeMillis(). Is there a better solution or what I am doing wrong? ``` double t = System.currentTimeMillis(); for(int k=0; k&lt;KMAX; k++) {   area[k] = tr.computeArea(height[k], base[k]); } double seq = System.currentTimeMillis() - t;   t = System.currentTimeMillis(); Arrays.parallelSetAll(area, i -&gt; tr.computeArea(height[i], base[i])); seq = System.currentTimeMillis() - t;  with the for loop I get 170 while 230 with Arrays.parallelSetAll"}],"owner":{"account_id":16208879,"reputation":11,"user_id":18341243,"display_name":"Niccolo Tubini"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1646120862,"creation_date":1646120862,"question_id":71305213,"body_markdown":"I would like to start to parallelize my Java code. This is my toy-problem. I have two vectors (double []) containing respectively the height and the base of several triangles. I have a class, Triangle, containing a method, computeArea, that computes the area of a triangle (height*base/2). For each triangle I have I want to store the area in a third vector (double []). Currently I have a for loop like this\r\n\r\n\r\n```\r\nfor(int i=0; i&lt;height.length; i++){\r\n    \r\n    area[i] = triangle.computeArea(height[i], base[i]);\r\n\r\n}\r\n```\r\nSome suggestion on how to parallelize the code? Could you kindly provide me a simple example? I am using jdk 1.8.\r\nPlease note that the values in the vector area must correspond to values in vectors height and base.\r\n\r\nThanks in advance","title":"Java parallelize computation of a vector","body":"<p>I would like to start to parallelize my Java code. This is my toy-problem. I have two vectors (double []) containing respectively the height and the base of several triangles. I have a class, Triangle, containing a method, computeArea, that computes the area of a triangle (height*base/2). For each triangle I have I want to store the area in a third vector (double []). Currently I have a for loop like this</p>\n<pre><code>for(int i=0; i&lt;height.length; i++){\n    \n    area[i] = triangle.computeArea(height[i], base[i]);\n\n}\n</code></pre>\n<p>Some suggestion on how to parallelize the code? Could you kindly provide me a simple example? I am using jdk 1.8.\nPlease note that the values in the vector area must correspond to values in vectors height and base.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","generics","inheritance","functional-interface"],"answers":[{"tags":[],"owner":{"account_id":1463408,"reputation":4327,"user_id":4660481,"accept_rate":50,"display_name":"GaspardP"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1646120565,"creation_date":1646119247,"answer_id":71304975,"question_id":71304890,"body_markdown":"In Java, you cannot do `C&lt;T&gt;`, however, you can require C to extend `ParentFunction&lt;T,C&gt;`\r\n\r\nSame applies to your `SonFunction` and `DaughterFunction`.\r\n\r\nTry this:\r\n\r\n```\r\npublic interface ParentFunction&lt;T, C extends ParentFunction&lt;T, C&gt;&gt; {\r\n\tvoid doSomething(T t);\r\n\tC compose(C other);\r\n}\r\n\r\n@FunctionalInterface\r\npublic interface SonFunction&lt;T&gt; extends ParentFunction&lt;T, SonFunction&lt;T&gt;&gt; {\r\n\r\n\t@Override\r\n\tdefault SonFunction&lt;T&gt; compose(SonFunction&lt;T&gt; other){\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\n@FunctionalInterface\r\npublic interface DaughterFunction&lt;T&gt; extends ParentFunction&lt;T, DaughterFunction&lt;T&gt;&gt; {\r\n\r\n\t@Override\r\n\tdefault DaughterFunction&lt;T&gt; compose(DaughterFunction&lt;T&gt; other){\r\n\t\treturn null;\r\n\t}\r\n}\r\n```","title":"Overriding method that returns and consumes a generic class with sub-interfaces","body":"<p>In Java, you cannot do <code>C&lt;T&gt;</code>, however, you can require C to extend <code>ParentFunction&lt;T,C&gt;</code></p>\n<p>Same applies to your <code>SonFunction</code> and <code>DaughterFunction</code>.</p>\n<p>Try this:</p>\n<pre><code>public interface ParentFunction&lt;T, C extends ParentFunction&lt;T, C&gt;&gt; {\n    void doSomething(T t);\n    C compose(C other);\n}\n\n@FunctionalInterface\npublic interface SonFunction&lt;T&gt; extends ParentFunction&lt;T, SonFunction&lt;T&gt;&gt; {\n\n    @Override\n    default SonFunction&lt;T&gt; compose(SonFunction&lt;T&gt; other){\n        return null;\n    }\n}\n\n@FunctionalInterface\npublic interface DaughterFunction&lt;T&gt; extends ParentFunction&lt;T, DaughterFunction&lt;T&gt;&gt; {\n\n    @Override\n    default DaughterFunction&lt;T&gt; compose(DaughterFunction&lt;T&gt; other){\n        return null;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15434644,"reputation":69,"user_id":11135070,"display_name":"Kiwon Seo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71304975,"answer_count":1,"score":0,"last_activity_date":1646120565,"creation_date":1646118717,"question_id":71304890,"body_markdown":"I want to make a generic interface that has two abstract methods, and one of them returns and consumes sub-type with same generic type of the interface.\r\n\r\nThe goal I want to achieve is that creating `@FunctionalInterfaces` having same parents, but different way of composing themselves. \r\n\r\nMy first approach is as below,\r\n\r\n```java\r\npublic interface ParentFunction&lt;T, C extends ParentFunction&gt; {\r\n\r\n  void doSomething(T t);\r\n\r\n  C&lt;T&gt; compose(C&lt;T&gt; other);\r\n}\r\n\r\n@FunctionalInterface\r\npublic interface SonFunction&lt;T&gt; extends ParentFunction&lt;T, SonFunction&gt; {\r\n\r\n  @Override\r\n  default SonFunction&lt;T&gt; compose(SonFunction&lt;T&gt; other){\r\n    return null;\r\n  }\r\n}\r\n\r\n@FunctionalInterface\r\npublic interface SonFunction&lt;T&gt; extends ParentFunction&lt;T, SonFunction&gt; {\r\n\r\n  @Override\r\n  default DaughterFunction&lt;T&gt; compose(SonFunction&lt;T&gt; other){\r\n    return null;\r\n  }\r\n}\r\n```\r\n\r\nBut an compile error occurs at `C&lt;T&gt;` of parent method saying, &#39;Type &quot;C&quot; does not have type parameters,&#39; and another at `@Override` of child default method.\r\n\r\nI can just separate my child interfaces without extending, but I hope them to have an super-type that the client code will only knows.\r\n\r\nIs there any cool technique that I may use to achieve it?","title":"Overriding method that returns and consumes a generic class with sub-interfaces","body":"<p>I want to make a generic interface that has two abstract methods, and one of them returns and consumes sub-type with same generic type of the interface.</p>\n<p>The goal I want to achieve is that creating <code>@FunctionalInterfaces</code> having same parents, but different way of composing themselves.</p>\n<p>My first approach is as below,</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ParentFunction&lt;T, C extends ParentFunction&gt; {\n\n  void doSomething(T t);\n\n  C&lt;T&gt; compose(C&lt;T&gt; other);\n}\n\n@FunctionalInterface\npublic interface SonFunction&lt;T&gt; extends ParentFunction&lt;T, SonFunction&gt; {\n\n  @Override\n  default SonFunction&lt;T&gt; compose(SonFunction&lt;T&gt; other){\n    return null;\n  }\n}\n\n@FunctionalInterface\npublic interface SonFunction&lt;T&gt; extends ParentFunction&lt;T, SonFunction&gt; {\n\n  @Override\n  default DaughterFunction&lt;T&gt; compose(SonFunction&lt;T&gt; other){\n    return null;\n  }\n}\n</code></pre>\n<p>But an compile error occurs at <code>C&lt;T&gt;</code> of parent method saying, 'Type &quot;C&quot; does not have type parameters,' and another at <code>@Override</code> of child default method.</p>\n<p>I can just separate my child interfaces without extending, but I hope them to have an super-type that the client code will only knows.</p>\n<p>Is there any cool technique that I may use to achieve it?</p>\n"},{"tags":["java","templates","build","ejs","global"],"answers":[{"tags":[],"owner":{"account_id":17807633,"reputation":41,"user_id":12932995,"display_name":"theDumbProgrammer"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1592233535,"creation_date":1592233535,"answer_id":62391190,"question_id":61100840,"body_markdown":"Update: You can create an EJS object by running \r\n\r\n    new EJS({url: some/url/to/file.ejs}).render({dataToPass: data, moreData: secondData});","title":"Using EJS without NodeJS","body":"<p>Update: You can create an EJS object by running </p>\n\n<pre><code>new EJS({url: some/url/to/file.ejs}).render({dataToPass: data, moreData: secondData});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4165053,"reputation":1499,"user_id":3414180,"display_name":"Mingfei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646120392,"creation_date":1646120392,"answer_id":71305140,"question_id":61100840,"body_markdown":"yet another way you can use `render` instead of `renderFile`, and your `ejs file` can be get as string:\r\n\r\n```javascript\r\n// here using jQuery\r\n$.get(you_ejs_file_path).then(function (str, status, xhr) {\r\n    const html = ejs.render(str, your_data)); // str is ejs file \r\n});\r\n```  ","title":"Using EJS without NodeJS","body":"<p>yet another way you can use <code>render</code> instead of <code>renderFile</code>, and your <code>ejs file</code> can be get as string:</p>\n<pre class=\"lang-js prettyprint-override\"><code>// here using jQuery\n$.get(you_ejs_file_path).then(function (str, status, xhr) {\n    const html = ejs.render(str, your_data)); // str is ejs file \n});\n</code></pre>\n"}],"owner":{"account_id":17807633,"reputation":41,"user_id":12932995,"display_name":"theDumbProgrammer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":863,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62391190,"answer_count":2,"score":1,"last_activity_date":1646120392,"creation_date":1586349430,"question_id":61100840,"body_markdown":"I figured that the latest build release would allow me to use ejs globally without using node so I tried doing so.\r\n\r\nThough, when I try to use ejs.renderFile(params...), i get the error:\r\n\r\n```\r\nTypeError: exports.fileLoader is not a function\r\n```\r\n\r\nWhich is just another node module. Is there a way to get around this?\r\n\r\nNote: This is the only time we use EJS at my company, so, if not, would you kindly point me in a good direction in how to render .ejs files.","title":"Using EJS without NodeJS","body":"<p>I figured that the latest build release would allow me to use ejs globally without using node so I tried doing so.</p>\n\n<p>Though, when I try to use ejs.renderFile(params...), i get the error:</p>\n\n<pre><code>TypeError: exports.fileLoader is not a function\n</code></pre>\n\n<p>Which is just another node module. Is there a way to get around this?</p>\n\n<p>Note: This is the only time we use EJS at my company, so, if not, would you kindly point me in a good direction in how to render .ejs files.</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507813703,"creation_date":1507813703,"answer_id":46710463,"question_id":46710409,"body_markdown":"You miss `jaxb-api-1.0.jar` in your classpath. \r\n\r\nif you are maven add the following dependency to your code:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Hibernate Session Factory javax/xml/bind/JAXBException error","body":"<p>You miss <code>jaxb-api-1.0.jar</code> in your classpath. </p>\n\n<p>if you are maven add the following dependency to your code:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11335070,"reputation":887,"user_id":8311212,"display_name":"Sounak Saha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507813972,"creation_date":1507813972,"answer_id":46710553,"question_id":46710409,"body_markdown":"Please add the below jar in your project classpath.\r\nhttp://central.maven.org/maven2/javax/xml/bind/jaxb-api/2.2.11/jaxb-api-2.2.11.jar","title":"Hibernate Session Factory javax/xml/bind/JAXBException error","body":"<p>Please add the below jar in your project classpath.\n<a href=\"http://central.maven.org/maven2/javax/xml/bind/jaxb-api/2.2.11/jaxb-api-2.2.11.jar\" rel=\"nofollow noreferrer\">http://central.maven.org/maven2/javax/xml/bind/jaxb-api/2.2.11/jaxb-api-2.2.11.jar</a></p>\n"},{"tags":[],"owner":{"account_id":8649723,"reputation":113,"user_id":6475844,"accept_rate":86,"display_name":"BaSic"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1507825495,"creation_date":1507825495,"answer_id":46714551,"question_id":46710409,"body_markdown":"Changed to java 8 instead of java 9 and working perfectly fine.","title":"Hibernate Session Factory javax/xml/bind/JAXBException error","body":"<p>Changed to java 8 instead of java 9 and working perfectly fine.</p>\n"},{"tags":[],"owner":{"account_id":11070313,"reputation":31,"user_id":8128657,"display_name":"Little Pie"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1615970808,"creation_date":1615970808,"answer_id":66669647,"question_id":46710409,"body_markdown":"**I think you&#39;re attending the same online course as me! In previous lessons the instructor posted a solution to this problem :**\r\n\r\nThis happens because of Java 9 and higher. \r\n\r\nJava 9 and higher has removed java.xml.bind from its default classpath. That&#39;s why we get the class not found exception.  We have to explicitly add JAR files to the build path.\r\n\r\n---\r\n\r\nSolution\r\n\r\nFor Java 9 and higher, you need to additional JAR files.\r\n\r\nYou need to download the following JAR files:\r\n\r\n- javax.activation-1.2.0.jar \r\n- jaxb-api-2.3.0.jar\r\n- jaxb-core-2.3.0.jar\r\n- jaxb-impl-2.3.0.jar\r\n\r\n---\r\n\r\n1. Download the files using links below:\r\n\r\nhttp://search.maven.org/remotecontent?filepath=com/sun/activation/javax.activation/1.2.0/javax.activation-1.2.0.jar\r\n\r\nhttp://search.maven.org/remotecontent?filepath=javax/xml/bind/jaxb-api/2.3.0/jaxb-api-2.3.0.jar\r\n\r\nhttp://search.maven.org/remotecontent?filepath=com/sun/xml/bind/jaxb-core/2.3.0/jaxb-core-2.3.0.jar\r\n\r\nhttp://search.maven.org/remotecontent?filepath=com/sun/xml/bind/jaxb-impl/2.3.0/jaxb-impl-2.3.0.jar\r\n\r\n---\r\n\r\n2. Copy the JAR files to the lib folder of your project\r\n\r\n- javax.activation-1.2.0.jar\r\n- jaxb-api-2.3.0.jar\r\n- jaxb-core-2.3.0.jar\r\n- jaxb-impl-2.3.0.jar\r\n\r\n---\r\n\r\nUse the following steps to add the JAR files to your Java Build Path.\r\n\r\n3. Right-click your project, select Properties\r\n\r\n4. On left-hand side, click Java Build Path\r\n\r\n5. In top-center of dialog, click Libraries\r\n\r\n6. Click Classpath and then Click Add JARs ...\r\n\r\n7. Navigate to the JAR files &lt;your-project&gt;/lib\r\n\r\nSelect the files:\r\njavax.activation-1.2.0.jar\r\njaxb-api-2.3.0.jar\r\njaxb-core-2.3.0.jar\r\njaxb-impl-2.3.0.jar\r\n\r\n8. Click OK then click Apply and Close\r\n\r\nEclipse will perform a rebuild of your project and it will resolve the related build/runtime errors.","title":"Hibernate Session Factory javax/xml/bind/JAXBException error","body":"<p><strong>I think you're attending the same online course as me! In previous lessons the instructor posted a solution to this problem :</strong></p>\n<p>This happens because of Java 9 and higher.</p>\n<p>Java 9 and higher has removed java.xml.bind from its default classpath. That's why we get the class not found exception.  We have to explicitly add JAR files to the build path.</p>\n<hr />\n<p>Solution</p>\n<p>For Java 9 and higher, you need to additional JAR files.</p>\n<p>You need to download the following JAR files:</p>\n<ul>\n<li>javax.activation-1.2.0.jar</li>\n<li>jaxb-api-2.3.0.jar</li>\n<li>jaxb-core-2.3.0.jar</li>\n<li>jaxb-impl-2.3.0.jar</li>\n</ul>\n<hr />\n<ol>\n<li>Download the files using links below:</li>\n</ol>\n<p><a href=\"http://search.maven.org/remotecontent?filepath=com/sun/activation/javax.activation/1.2.0/javax.activation-1.2.0.jar\" rel=\"nofollow noreferrer\">http://search.maven.org/remotecontent?filepath=com/sun/activation/javax.activation/1.2.0/javax.activation-1.2.0.jar</a></p>\n<p><a href=\"http://search.maven.org/remotecontent?filepath=javax/xml/bind/jaxb-api/2.3.0/jaxb-api-2.3.0.jar\" rel=\"nofollow noreferrer\">http://search.maven.org/remotecontent?filepath=javax/xml/bind/jaxb-api/2.3.0/jaxb-api-2.3.0.jar</a></p>\n<p><a href=\"http://search.maven.org/remotecontent?filepath=com/sun/xml/bind/jaxb-core/2.3.0/jaxb-core-2.3.0.jar\" rel=\"nofollow noreferrer\">http://search.maven.org/remotecontent?filepath=com/sun/xml/bind/jaxb-core/2.3.0/jaxb-core-2.3.0.jar</a></p>\n<p><a href=\"http://search.maven.org/remotecontent?filepath=com/sun/xml/bind/jaxb-impl/2.3.0/jaxb-impl-2.3.0.jar\" rel=\"nofollow noreferrer\">http://search.maven.org/remotecontent?filepath=com/sun/xml/bind/jaxb-impl/2.3.0/jaxb-impl-2.3.0.jar</a></p>\n<hr />\n<ol start=\"2\">\n<li>Copy the JAR files to the lib folder of your project</li>\n</ol>\n<ul>\n<li>javax.activation-1.2.0.jar</li>\n<li>jaxb-api-2.3.0.jar</li>\n<li>jaxb-core-2.3.0.jar</li>\n<li>jaxb-impl-2.3.0.jar</li>\n</ul>\n<hr />\n<p>Use the following steps to add the JAR files to your Java Build Path.</p>\n<ol start=\"3\">\n<li><p>Right-click your project, select Properties</p>\n</li>\n<li><p>On left-hand side, click Java Build Path</p>\n</li>\n<li><p>In top-center of dialog, click Libraries</p>\n</li>\n<li><p>Click Classpath and then Click Add JARs ...</p>\n</li>\n<li><p>Navigate to the JAR files /lib</p>\n</li>\n</ol>\n<p>Select the files:\njavax.activation-1.2.0.jar\njaxb-api-2.3.0.jar\njaxb-core-2.3.0.jar\njaxb-impl-2.3.0.jar</p>\n<ol start=\"8\">\n<li>Click OK then click Apply and Close</li>\n</ol>\n<p>Eclipse will perform a rebuild of your project and it will resolve the related build/runtime errors.</p>\n"},{"tags":[],"owner":{"account_id":24413965,"reputation":1,"user_id":18341053,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646119840,"creation_date":1646118605,"answer_id":71304873,"question_id":46710409,"body_markdown":"Please change the JRE from the STS/Eclipse to 8 version.  \r\nDon&#39;t use JRE 1.8 in JDK 16.","title":"Hibernate Session Factory javax/xml/bind/JAXBException error","body":"<p>Please change the JRE from the STS/Eclipse to 8 version.<br />\nDon't use JRE 1.8 in JDK 16.</p>\n"}],"owner":{"account_id":8649723,"reputation":113,"user_id":6475844,"accept_rate":86,"display_name":"BaSic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9409,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":5,"score":0,"last_activity_date":1646119840,"creation_date":1507813573,"question_id":46710409,"body_markdown":"I&#39;m trying to make some kind of simple java + hibernate app. Somehow when i run the app there is an error. \r\n\r\n\r\n&gt; CreateStudentDemo.java\r\n\r\n    package com.basicproject.hibernate.demo;\r\n    \r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.cfg.Configuration;\r\n    \r\n    import com.basicproject.hibernate.demo.entity.Student;\r\n    public class CreateStudentDemo {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \r\n    \t\t// create session factory\r\n    \t\tSessionFactory factory = new Configuration()\r\n    \t\t\t\t.configure(&quot;hibernate.cfg.xml&quot;)\r\n    \t\t\t\t.addAnnotatedClass(Student.class)\r\n    \t\t\t\t.buildSessionFactory();\r\n    \r\n    \r\n    \t\t// create session\r\n    \t\tSession session = factory.getCurrentSession();\r\n    \r\n    \t\ttry {\r\n    \t\t\t// create a student object\r\n    \t\t\tSystem.out.println(&quot;Creating new student object...&quot;);\r\n    \t\t\tStudent tempStudent = new Student(&quot;Luke&quot;, &quot;Samson&quot;, &quot;ls@bk.com&quot;);\r\n    \r\n    \t\t\t// start a transaction\r\n    \t\t\tsession.beginTransaction();\r\n    \r\n    \t\t\t// save the student object\r\n    \t\t\tSystem.out.println(&quot;Saving the student...&quot;);\r\n    \t\t\tsession.save(tempStudent);\r\n    \r\n    \t\t\t// commit transaction\r\n    \t\t\tsession.getTransaction().commit();\r\n    \r\n    \t\t\tSystem.out.println(&quot;Done!&quot;);\r\n    \t\t}\r\n    \t\tfinally {\r\n    \t\t\tfactory.close();\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n&gt; Student.java\r\n\r\n    package com.basicproject.hibernate.demo.entity;\r\n    \r\n    import javax.persistence.Column; import javax.persistence.Entity; import javax.persistence.GeneratedValue; import javax.persistence.GenerationType; import javax.persistence.Id; import javax.persistence.Table;\r\n    \r\n    @Entity @Table(name=&quot;student&quot;) public class Student {\r\n    \r\n    \t@Id \t@GeneratedValue(strategy=GenerationType.IDENTITY) \t@Column(name=&quot;id&quot;) \tprivate int id;\r\n    \r\n    \t@Column(name=&quot;first_name&quot;) \tprivate String firstName;\r\n    \r\n    \t@Column(name=&quot;last_name&quot;) \tprivate String lastName;\r\n    \r\n    \t@Column(name=&quot;email&quot;) \tprivate String email;\r\n    \r\n    \tpublic Student() {\r\n    \r\n    \t}\r\n    \r\n    \tpublic Student(String firstName, String lastName, String email) { \t\tthis.firstName = firstName; \t\tthis.lastName = lastName; \t\tthis.email\r\n    = email; \t}\r\n    \r\n    \tpublic int getId() { \t\treturn id; \t}\r\n    \r\n    \tpublic void setId(int id) { \t\tthis.id = id; \t}\r\n    \r\n    \tpublic String getFirstName() { \t\treturn firstName; \t}\r\n    \r\n    \tpublic void setFirstName(String firstName) { \t\tthis.firstName = firstName; \t}\r\n    \r\n    \tpublic String getLastName() { \t\treturn lastName; \t}\r\n    \r\n    \tpublic void setLastName(String lastName) { \t\tthis.lastName = lastName; \t}\r\n    \r\n    \tpublic String getEmail() { \t\treturn email; \t}\r\n    \r\n    \tpublic void setEmail(String email) { \t\tthis.email = email; \t}\r\n    \r\n    \t@Override \tpublic String toString() { \t\treturn &quot;Student [id=&quot; + id + &quot;, firstName=&quot; + firstName + &quot;, lastName=&quot; + lastName + &quot;, email=&quot; + email + &quot;]&quot;; \t}\r\n    \r\n    }\r\n\r\nAnd the error. It seems like i&#39;m missing something but i can&#39;t realise that is it yet.\r\n\r\n&gt; Error\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException \tat org.hibernate.boot.spi.XmlMappingBinderAccess.&lt;init&gt;(XmlMappingBinderAccess.java:43) \tat org.hibernate.boot.MetadataSources.&lt;init&gt;(MetadataSources.java:87) \tat org.hibernate.cfg.Configuration.&lt;init&gt;(Configuration.java:123) \tat org.hibernate.cfg.Configuration.&lt;init&gt;(Configuration.java:118) \tat com.basicproject.hibernate.demo.CreateStudentDemo.main(CreateStudentDemo.java:14) Caused by: java.lang.ClassNotFoundException: javax.xml.bind.JAXBException \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582) \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:185) \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:496)\r\n\r\n\r\nHopefully it can help resolve my problem. Thank You for help. There is also a lib folder in my project. Contains Hibernate&#39;s libs(required) and mysql connector.\r\n\r\n\r\n","title":"Hibernate Session Factory javax/xml/bind/JAXBException error","body":"<p>I'm trying to make some kind of simple java + hibernate app. Somehow when i run the app there is an error. </p>\n\n<blockquote>\n  <p>CreateStudentDemo.java</p>\n</blockquote>\n\n<pre><code>package com.basicproject.hibernate.demo;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.cfg.Configuration;\n\nimport com.basicproject.hibernate.demo.entity.Student;\npublic class CreateStudentDemo {\n\n    public static void main(String[] args) {\n\n\n        // create session factory\n        SessionFactory factory = new Configuration()\n                .configure(\"hibernate.cfg.xml\")\n                .addAnnotatedClass(Student.class)\n                .buildSessionFactory();\n\n\n        // create session\n        Session session = factory.getCurrentSession();\n\n        try {\n            // create a student object\n            System.out.println(\"Creating new student object...\");\n            Student tempStudent = new Student(\"Luke\", \"Samson\", \"ls@bk.com\");\n\n            // start a transaction\n            session.beginTransaction();\n\n            // save the student object\n            System.out.println(\"Saving the student...\");\n            session.save(tempStudent);\n\n            // commit transaction\n            session.getTransaction().commit();\n\n            System.out.println(\"Done!\");\n        }\n        finally {\n            factory.close();\n        }\n    }\n\n}\n</code></pre>\n\n<blockquote>\n  <p>Student.java</p>\n</blockquote>\n\n<pre><code>package com.basicproject.hibernate.demo.entity;\n\nimport javax.persistence.Column; import javax.persistence.Entity; import javax.persistence.GeneratedValue; import javax.persistence.GenerationType; import javax.persistence.Id; import javax.persistence.Table;\n\n@Entity @Table(name=\"student\") public class Student {\n\n    @Id     @GeneratedValue(strategy=GenerationType.IDENTITY)   @Column(name=\"id\")  private int id;\n\n    @Column(name=\"first_name\")  private String firstName;\n\n    @Column(name=\"last_name\")   private String lastName;\n\n    @Column(name=\"email\")   private String email;\n\n    public Student() {\n\n    }\n\n    public Student(String firstName, String lastName, String email) {       this.firstName = firstName;         this.lastName = lastName;       this.email\n= email;    }\n\n    public int getId() {        return id;  }\n\n    public void setId(int id) {         this.id = id;   }\n\n    public String getFirstName() {      return firstName;   }\n\n    public void setFirstName(String firstName) {        this.firstName = firstName;     }\n\n    public String getLastName() {       return lastName;    }\n\n    public void setLastName(String lastName) {      this.lastName = lastName;   }\n\n    public String getEmail() {      return email;   }\n\n    public void setEmail(String email) {        this.email = email;     }\n\n    @Override   public String toString() {      return \"Student [id=\" + id + \", firstName=\" + firstName + \", lastName=\" + lastName + \", email=\" + email + \"]\";  }\n\n}\n</code></pre>\n\n<p>And the error. It seems like i'm missing something but i can't realise that is it yet.</p>\n\n<blockquote>\n  <p>Error</p>\n</blockquote>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException     at org.hibernate.boot.spi.XmlMappingBinderAccess.&lt;init&gt;(XmlMappingBinderAccess.java:43)     at org.hibernate.boot.MetadataSources.&lt;init&gt;(MetadataSources.java:87)   at org.hibernate.cfg.Configuration.&lt;init&gt;(Configuration.java:123)   at org.hibernate.cfg.Configuration.&lt;init&gt;(Configuration.java:118)   at com.basicproject.hibernate.demo.CreateStudentDemo.main(CreateStudentDemo.java:14) Caused by: java.lang.ClassNotFoundException: javax.xml.bind.JAXBException  at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)  at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:185)   at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:496)\n</code></pre>\n\n<p>Hopefully it can help resolve my problem. Thank You for help. There is also a lib folder in my project. Contains Hibernate's libs(required) and mysql connector.</p>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1646173772,"post_id":71304950,"comment_id":126057310,"body_markdown":"You could declare a class `Score` with the fields `score`, `courseRating`, `slopeRating` and use an array of `Score`s with the properties assigned individually nstead of using a 3d array.","body":"You could declare a class <code>Score</code> with the fields <code>score</code>, <code>courseRating</code>, <code>slopeRating</code> and use an array of <code>Score</code>s with the properties assigned individually nstead of using a 3d array."},{"owner":{"display_name":"user17545832"},"score":0,"creation_date":1646182269,"post_id":71304950,"comment_id":126058926,"body_markdown":"@AliasCartellano sounds good thank you. Would it look like this?: `public class Score(int Score, int courseRating, int slopeRating){`","body":"@AliasCartellano sounds good thank you. Would it look like this?: <code>public class Score(int Score, int courseRating, int slopeRating){</code>"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1646186682,"post_id":71304950,"comment_id":126059656,"body_markdown":"Change `Score` to `score` since you should use camelCase for variables in Java. I&#39;m assuming you mean what the constructor should have in which case you don&#39;t put `class` in the constructor declaration.","body":"Change <code>Score</code> to <code>score</code> since you should use camelCase for variables in Java. I&#39;m assuming you mean what the constructor should have in which case you don&#39;t put <code>class</code> in the constructor declaration."}],"owner":{"display_name":"user17545832"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646119086,"creation_date":1646119086,"question_id":71304950,"body_markdown":"I would like to create a 3d array with the already existing arrays(Score, CourseRating, and SlopeRating). I would like to do so, so that I can match the Scores with their Ratings. If it is not possible, I was thinking I could maybe find the index of the score, and match it with the Course and Slope rating so that I can calculate the Handicap Index.\r\n\r\n\r\n    \r\n\r\n    import java.util.Arrays;\r\n    import java.util.Scanner;\r\n    \r\n    public class RoughDraft {\r\n        public static void main(String[] args) {\r\n        \r\n        Scanner scnr = new Scanner(System.in);\r\n        \r\n        int count;\r\n        int[] Scores;\r\n        double[] SlopeRating;\r\n        double[] CourseRating;\r\n\r\n        System.out.print(&quot;\\nHow many scores would you like to enter?: &quot;);\r\n        count = scnr.nextInt();\r\n\r\n    // ------ adds Scores, Course Rating and Slope Rating to Arrays ------ //\r\n\r\n        \r\n        Scores = new int[count];\r\n        CourseRating = new double[count];\r\n        SlopeRating = new double[count];\r\n\r\n        if(count &gt;= 5 &amp;&amp; count &lt;= 20) {\r\n            for(int i = 0; i &lt; count; i++) {\r\n                System.out.printf(&quot;\\nEnter Score #%d: &quot;, i + 1);\r\n                if(scnr.hasNextInt()) {\r\n                    Scores[i] = scnr.nextInt();\r\n                }\r\n                System.out.printf(&quot;Enter Course Rating #%d: &quot;, i + 1);\r\n                if(scnr.hasNextDouble()) {\r\n                    CourseRating[i] = scnr.nextDouble();\r\n                }\r\n                System.out.printf(&quot;Enter Slope Rating #%d: &quot;, i + 1);\r\n                if(scnr.hasNextDouble()) {\r\n                    SlopeRating[i] = scnr.nextDouble();\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            System.out.print(&quot;Enter a minimum of 5 scores and a maximum of 20 scores.&quot;);\r\n            main(args);\r\n        }\r\n\r\n        \r\n        System.out.print(&quot;\\nScores: &quot; + Arrays.toString(Scores));\r\n        System.out.print(&quot;\\nCourse Ratings: &quot; + Arrays.toString(CourseRating));\r\n        System.out.print(&quot;\\nSlope Rating: &quot; + Arrays.toString(SlopeRating));\r\n    }\r\n}\r\n","title":"How to insert existing arrays inside a 3D array","body":"<p>I would like to create a 3d array with the already existing arrays(Score, CourseRating, and SlopeRating). I would like to do so, so that I can match the Scores with their Ratings. If it is not possible, I was thinking I could maybe find the index of the score, and match it with the Course and Slope rating so that I can calculate the Handicap Index.</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class RoughDraft {\n    public static void main(String[] args) {\n    \n    Scanner scnr = new Scanner(System.in);\n    \n    int count;\n    int[] Scores;\n    double[] SlopeRating;\n    double[] CourseRating;\n\n    System.out.print(&quot;\\nHow many scores would you like to enter?: &quot;);\n    count = scnr.nextInt();\n\n// ------ adds Scores, Course Rating and Slope Rating to Arrays ------ //\n\n    \n    Scores = new int[count];\n    CourseRating = new double[count];\n    SlopeRating = new double[count];\n\n    if(count &gt;= 5 &amp;&amp; count &lt;= 20) {\n        for(int i = 0; i &lt; count; i++) {\n            System.out.printf(&quot;\\nEnter Score #%d: &quot;, i + 1);\n            if(scnr.hasNextInt()) {\n                Scores[i] = scnr.nextInt();\n            }\n            System.out.printf(&quot;Enter Course Rating #%d: &quot;, i + 1);\n            if(scnr.hasNextDouble()) {\n                CourseRating[i] = scnr.nextDouble();\n            }\n            System.out.printf(&quot;Enter Slope Rating #%d: &quot;, i + 1);\n            if(scnr.hasNextDouble()) {\n                SlopeRating[i] = scnr.nextDouble();\n            }\n        }\n    }\n    else {\n        System.out.print(&quot;Enter a minimum of 5 scores and a maximum of 20 scores.&quot;);\n        main(args);\n    }\n\n    \n    System.out.print(&quot;\\nScores: &quot; + Arrays.toString(Scores));\n    System.out.print(&quot;\\nCourse Ratings: &quot; + Arrays.toString(CourseRating));\n    System.out.print(&quot;\\nSlope Rating: &quot; + Arrays.toString(SlopeRating));\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","bitmap","unpack","iso8583","jpos"],"comments":[{"owner":{"account_id":6400312,"reputation":2159,"user_id":4963244,"display_name":"iso8583.info support"},"score":0,"creation_date":1646230525,"post_id":71304793,"comment_id":126071583,"body_markdown":"In the HEX dump. 1st two characters are the Length stated as 0x00DD. Your Example message actual length is 0x01DD.","body":"In the HEX dump. 1st two characters are the Length stated as 0x00DD. Your Example message actual length is 0x01DD."},{"owner":{"account_id":23787069,"reputation":5,"user_id":17798975,"display_name":"zubair mujeeb"},"score":0,"creation_date":1646287010,"post_id":71304793,"comment_id":126087032,"body_markdown":"Can you please explain?","body":"Can you please explain?"},{"owner":{"account_id":6400312,"reputation":2159,"user_id":4963244,"display_name":"iso8583.info support"},"score":0,"creation_date":1646382662,"post_id":71304793,"comment_id":126113891,"body_markdown":"The explanations made before was clear enough. You need to correct two bytes of hexadecimal message length prefix in the outgoing message packet. Please go on to your packer documentation to see how to deal the message length.","body":"The explanations made before was clear enough. You need to correct two bytes of hexadecimal message length prefix in the outgoing message packet. Please go on to your packer documentation to see how to deal the message length."}],"owner":{"account_id":23787069,"reputation":5,"user_id":17798975,"display_name":"zubair mujeeb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":548,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646117967,"creation_date":1646117967,"question_id":71304793,"body_markdown":"I have shared required details in the tail, I packed ISO message of title fetch (0210) which contains all the required feilds i.e 2,3,4,7,11,12,13,15,18,22,24,32,33,37,38,39,41,43,49,103,120. but we are getting error while we unpack the data it says to me that on 120 feild it requires 268 bytes although i am setting appropriate bytes but still i am getting this error, Can any one guide me on this? \r\n```\r\nError while parsing. Parsed Incoming Body Fields :\r\nEXT-ID[2]       FLD[Primary Account Number..]  FRMT[LL-VARCHAR]         LL[2]  LEN[19]   DATA[9999170003354140609]\r\nEXT-ID[3]       FLD[Processing Code]           FRMT[Fixed-Format-Gr..]  LL[0]  LEN[6]    DATA[620000]\r\n+EXT-ID[1]      FLD[Transaction type]          FRMT[Fixed Format]       LL[0]  LEN[2]    DATA[62]\r\n+EXT-ID[2]      FLD[From Account type]         FRMT[Fixed Format]       LL[0]  LEN[2]    DATA[00]\r\n+EXT-ID[3]      FLD[To Account type ]          FRMT[Fixed Format]       LL[0]  LEN[2]    DATA[00]\r\nEXT-ID[4]       FLD[Amount, Transaction ]      FRMT[Fixed Format]       LL[0]  LEN[12]   DATA[000000100000]\r\nEXT-ID[7]       FLD[Transmission Date and ..]  FRMT[Fixed Format]       LL[0]  LEN[10]   DATA[0301103145]\r\nEXT-ID[11]      FLD[System Trace Audit Num..]  FRMT[Fixed Format]       LL[0]  LEN[6]    DATA[017564]\r\nEXT-ID[12]      FLD[Time, Local Transactio..]  FRMT[Fixed Format]       LL[0]  LEN[6]    DATA[103145]\r\nEXT-ID[13]      FLD[Date, Local Transactio..]  FRMT[Fixed Format]       LL[0]  LEN[4]    DATA[0301]\r\nEXT-ID[15]      FLD[Date, Settlement]          FRMT[Fixed Format]       LL[0]  LEN[4]    DATA[0302]\r\nEXT-ID[18]      FLD[Merchant Type ]            FRMT[Fixed Format]       LL[0]  LEN[4]    DATA[0003]\r\nEXT-ID[22]      FLD[Point-of-Service Entry..]  FRMT[Fixed Format]       LL[0]  LEN[3]    DATA[901]\r\nEXT-ID[24]      FLD[Network Institution Id..]  FRMT[Fixed Format]       LL[0]  LEN[3]    DATA[001]\r\nEXT-ID[32]      FLD[Acquiring Institution ..]  FRMT[LL-VARCHAR]         LL[2]  LEN[11]   DATA[16049800000]\r\nEXT-ID[33]      FLD[Forwarding Institution..]  FRMT[LL-VARCHAR]         LL[2]  LEN[6]    DATA[000001]\r\nEXT-ID[37]      FLD[Retrieval Reference Nu..]  FRMT[Fixed Format]       LL[0]  LEN[12]   DATA[314500000018]\r\nEXT-ID[38]      FLD[Authorization Identifi..]  FRMT[Fixed Format]       LL[0]  LEN[6]    DATA[083364]\r\nEXT-ID[39]      FLD[Response Code]             FRMT[Fixed Format]       LL[0]  LEN[2]    DATA[00]\r\nEXT-ID[41]      FLD[Card Acceptor Terminal..]  FRMT[Fixed Format]       LL[0]  LEN[8]    DATA[12345678]\r\nEXT-ID[43]      FLD[Card Acceptor Name and..]  FRMT[Fixed Format]       LL[0]  LEN[40]   DATA[Suite 211 212 Park Towers      KARACHI00]\r\nEXT-ID[49]      FLD[Currency Code, Transac..]  FRMT[Fixed Format]       LL[0]  LEN[3]    DATA[586]\r\nEXT-ID[103]     FLD[Account Identification..]  FRMT[LL-VARCHAR]         LL[2]  LEN[11]   DATA[03330252674]\r\n\r\n10:28:00.304 ERROR [MsgParser:ListProc-Q0:I1]   PARSING FAIL FLD [BITMAP] MSG[Out of bytes. Available: 12 bytes, required: 268 bytes]\r\n10:28:00.304 ERROR [MapperMgr:ListProc-Q0:I1]   [UID:N/A, Message Timestamp:2022-03-01 10:31:45.663] Parsing exception on field [BITMAP]\r\nError mapping the fieldAdditional Information:\r\n```\r\nHex Dump which i sent to server:\r\n\r\n``` \r\n0000  00 DD 30 32 31 30 F2 3A  45 01 8E A0 80 00 00 00  ..0210.:E.......\r\n0010  00 00 02 00 01 00 31 39  39 39 39 39 31 37 30 30  ......1999991700\r\n0020  30 33 33 35 34 31 34 30  36 30 39 36 32 30 30 30  0335414060962000\r\n0030  30 30 30 30 30 30 30 31  30 30 30 30 30 30 33 30  0000000100000030\r\n0040  31 31 30 33 31 34 35 30  31 37 35 36 34 31 30 33  1103145017564103\r\n0050  31 34 35 30 33 30 31 30  33 30 32 30 30 30 33 39  1450301030200039\r\n0060  30 31 30 30 31 31 31 31  36 30 34 39 38 30 30 30  0100111160498000\r\n0070  30 30 30 36 30 30 30 30  30 31 33 31 34 35 30 30  0006000001314500\r\n0080  30 30 30 30 31 38 30 38  33 33 36 34 30 30 31 32  0000180833640012\r\n0090  33 34 35 36 37 38 53 75  69 74 65 20 32 31 31 20  345678Suite 211\r\n00a0  32 31 32 20 50 61 72 6B  20 54 6F 77 65 72 73 20  212 Park Towers\r\n00b0  20 20 20 20 20 4B 41 52  41 43 48 49 30 30 35 38       KARACHI0058\r\n00c0  36 31 31 30 33 33 33 30  32 35 32 36 37 34 32 36  6110333025267426\r\n00d0  38 30 33 33 33 30 32 35  32 36 37 34 30 30 30 30  8033302526740000\r\n00e0  30 30 30 30 30 48 41 52  49 53 20 4B 48 41 4C 45  00000HARIS KHALE\r\n00f0  45 51 30 30 30 30 30 30  30 30 30 30 30 30 30 30  EQ00000000000000\r\n0100  30 30 30 31 36 30 34 39  38 30 30 30 30 30 39 39  0001604980000099\r\n0110  39 39 34 36 30 30 30 30  30 43 30 30 30 30 30 30  994600000C000000\r\n0120  30 30 30 30 30 30 30 30  30 30 30 30 30 30 30 30  0000000000000000\r\n0130  30 30 30 30 30 30 30 30  30 30 30 30 30 30 30 30  0000000000000000\r\n0140  30 30 30 30 30 30 30 30  30 30 30 30 30 30 30 30  0000000000000000\r\n0150  30 30 30 30 30 30 30 30  30 30 30 30 30 30 30 30  0000000000000000\r\n0160  30 30 30 30 30 30 30 30  30 30 30 30 30 30 30 30  0000000000000000\r\n0170  30 30 30 30 30 30 30 30  30 30 30 30 30 30 50 4B  00000000000000PK\r\n0180  32 33 30 30 30 30 30 30  30 30 30 30 32 32 30 31  2300000000002201\r\n0190  32 35 30 34 34 38 30 30  30 30 30 30 30 30 30 30  2504480000000000\r\n01a0  30 30 30 30 30 30 30 30  30 30 30 30 30 30 30 30  0000000000000000\r\n01b0  30 30 30 30 30 30 30 30  30 30 30 30 30 30 30 30  0000000000000000\r\n01c0  30 30 30 30 30 30 30 30  30 30 30 30 30 30 30 30  0000000000000000\r\n01d0  30 30 30 30 30 30 30 30  30 30 30 30 30           0000000000000\r\n```\r\nXml file which i am using for unpacking and packing is mentioned below:\r\n``` \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;!--\r\n~  Copyright (c) 2017, WSO2 Inc. (http://wso2.com) All Rights Reserved.\r\n~\r\n~  WSO2 Inc. licenses this file to you under the Apache License,\r\n~  Version 2.0 (the &quot;License&quot;); you may not use this file except\r\n~  in compliance with the License.\r\n~  You may obtain a copy of the License at\r\n~\r\n~   http://www.apache.org/licenses/LICENSE-2.0\r\n~\r\n~  Unless required by applicable law or agreed to in writing,\r\n~  software distributed under the License is distributed on an\r\n~  &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n~  KIND, either express or implied.  See the License for the\r\n~  specific language governing permissions and limitations\r\n~  under the License.\r\n--&gt;\r\n\r\n&lt;!DOCTYPE isopackager SYSTEM &quot;genericpackager.dtd&quot;&gt;\r\n\r\n&lt;!-- ISO 8583:1987 (ASCII) field descriptions for GenericPackager --&gt;\r\n\r\n&lt;isopackager&gt;\r\n  &lt;isofield\r\n      id=&quot;0&quot;\r\n      length=&quot;4&quot;\r\n      name=&quot;MESSAGE TYPE INDICATOR&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;1&quot;\r\n      length=&quot;16&quot;\r\n      name=&quot;BIT MAP&quot;\r\n      class=&quot;org.jpos.iso.IFB_BITMAP&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;2&quot;\r\n      length=&quot;19&quot;\r\n      name=&quot;PAN - PRIMARY ACCOUNT NUMBER&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLNUM&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;3&quot;\r\n      length=&quot;6&quot;\r\n      name=&quot;PROCESSING CODE&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;4&quot;\r\n      length=&quot;12&quot;\r\n      name=&quot;AMOUNT, TRANSACTION&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;5&quot;\r\n      length=&quot;12&quot;\r\n      name=&quot;AMOUNT, SETTLEMENT&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;6&quot;\r\n      length=&quot;12&quot;\r\n      name=&quot;AMOUNT, CARDHOLDER BILLING&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;7&quot;\r\n      length=&quot;10&quot;\r\n      name=&quot;TRANSMISSION DATE AND TIME&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;8&quot;\r\n      length=&quot;8&quot;\r\n      name=&quot;AMOUNT, CARDHOLDER BILLING FEE&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;9&quot;\r\n      length=&quot;8&quot;\r\n      name=&quot;CONVERSION RATE, SETTLEMENT&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;10&quot;\r\n      length=&quot;8&quot;\r\n      name=&quot;CONVERSION RATE, CARDHOLDER BILLING&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;11&quot;\r\n      length=&quot;6&quot;\r\n      name=&quot;SYSTEM TRACE AUDIT NUMBER&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;12&quot;\r\n      length=&quot;6&quot;\r\n      name=&quot;TIME, LOCAL TRANSACTION&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;13&quot;\r\n      length=&quot;4&quot;\r\n      name=&quot;DATE, LOCAL TRANSACTION&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;14&quot;\r\n      length=&quot;4&quot;\r\n      name=&quot;DATE, EXPIRATION&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;15&quot;\r\n      length=&quot;4&quot;\r\n      name=&quot;DATE, SETTLEMENT&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;16&quot;\r\n      length=&quot;4&quot;\r\n      name=&quot;DATE, CONVERSION&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;17&quot;\r\n      length=&quot;4&quot;\r\n      name=&quot;DATE, CAPTURE&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;18&quot;\r\n      length=&quot;4&quot;\r\n      name=&quot;MERCHANTS TYPE&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;19&quot;\r\n      length=&quot;3&quot;\r\n      name=&quot;ACQUIRING INSTITUTION COUNTRY CODE&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;20&quot;\r\n      length=&quot;3&quot;\r\n      name=&quot;PAN EXTENDED COUNTRY CODE&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;21&quot;\r\n      length=&quot;3&quot;\r\n      name=&quot;FORWARDING INSTITUTION COUNTRY CODE&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;22&quot;\r\n      length=&quot;3&quot;\r\n      name=&quot;POINT OF SERVICE ENTRY MODE&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;23&quot;\r\n      length=&quot;3&quot;\r\n      name=&quot;CARD SEQUENCE NUMBER&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;24&quot;\r\n      length=&quot;3&quot;\r\n      name=&quot;NETWORK INTERNATIONAL IDENTIFIEER&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;25&quot;\r\n      length=&quot;2&quot;\r\n      name=&quot;POINT OF SERVICE CONDITION CODE&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;26&quot;\r\n      length=&quot;2&quot;\r\n      name=&quot;POINT OF SERVICE PIN CAPTURE CODE&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;27&quot;\r\n      length=&quot;1&quot;\r\n      name=&quot;AUTHORIZATION IDENTIFICATION RESP LEN&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;28&quot;\r\n      length=&quot;9&quot;\r\n      name=&quot;AMOUNT, TRANSACTION FEE&quot;\r\n      class=&quot;org.jpos.iso.IFA_AMOUNT&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;29&quot;\r\n      length=&quot;9&quot;\r\n      name=&quot;AMOUNT, SETTLEMENT FEE&quot;\r\n      class=&quot;org.jpos.iso.IFA_AMOUNT&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;30&quot;\r\n      length=&quot;9&quot;\r\n      name=&quot;AMOUNT, TRANSACTION PROCESSING FEE&quot;\r\n      class=&quot;org.jpos.iso.IFA_AMOUNT&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;31&quot;\r\n      length=&quot;9&quot;\r\n      name=&quot;AMOUNT, SETTLEMENT PROCESSING FEE&quot;\r\n      class=&quot;org.jpos.iso.IFA_AMOUNT&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;32&quot;\r\n      length=&quot;11&quot;\r\n      name=&quot;ACQUIRING INSTITUTION IDENT CODE&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLNUM&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;33&quot;\r\n      length=&quot;11&quot;\r\n      name=&quot;FORWARDING INSTITUTION IDENT CODE&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLNUM&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;34&quot;\r\n      length=&quot;28&quot;\r\n      name=&quot;PAN EXTENDED&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;35&quot;\r\n      length=&quot;37&quot;\r\n      name=&quot;TRACK 2 DATA&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLNUM&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;36&quot;\r\n      length=&quot;104&quot;\r\n      name=&quot;TRACK 3 DATA&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;37&quot;\r\n      length=&quot;12&quot;\r\n      name=&quot;RETRIEVAL REFERENCE NUMBER&quot;\r\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;38&quot;\r\n      length=&quot;6&quot;\r\n      name=&quot;AUTHORIZATION IDENTIFICATION RESPONSE&quot;\r\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;39&quot;\r\n      length=&quot;2&quot;\r\n      name=&quot;RESPONSE CODE&quot;\r\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;40&quot;\r\n      length=&quot;3&quot;\r\n      name=&quot;SERVICE RESTRICTION CODE&quot;\r\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;41&quot;\r\n      length=&quot;8&quot;\r\n      name=&quot;CARD ACCEPTOR TERMINAL IDENTIFICACION&quot;\r\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;42&quot;\r\n      length=&quot;15&quot;\r\n      name=&quot;CARD ACCEPTOR IDENTIFICATION CODE&quot;\r\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;43&quot;\r\n      length=&quot;40&quot;\r\n      name=&quot;CARD ACCEPTOR NAME/LOCATION&quot;\r\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;44&quot;\r\n      length=&quot;25&quot;\r\n      name=&quot;ADITIONAL RESPONSE DATA&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;45&quot;\r\n      length=&quot;76&quot;\r\n      name=&quot;TRACK 1 DATA&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;46&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;ADITIONAL DATA - ISO&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;47&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;ADITIONAL DATA - NATIONAL&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;48&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;ADITIONAL DATA - PRIVATE&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;49&quot;\r\n      length=&quot;3&quot;\r\n      name=&quot;CURRENCY CODE, TRANSACTION&quot;\r\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;50&quot;\r\n      length=&quot;3&quot;\r\n      name=&quot;CURRENCY CODE, SETTLEMENT&quot;\r\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;51&quot;\r\n      length=&quot;3&quot;\r\n      name=&quot;CURRENCY CODE, CARDHOLDER BILLING&quot;\r\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;52&quot;\r\n      length=&quot;16&quot;\r\n      name=&quot;PIN DATA&quot;\r\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;53&quot;\r\n      length=&quot;16&quot;\r\n      name=&quot;SECURITY RELATED CONTROL INFORMATION&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;54&quot;\r\n      length=&quot;120&quot;\r\n      name=&quot;ADDITIONAL AMOUNTS&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;55&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;RESERVED ISO&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;56&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;RESERVED ISO&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;57&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;RESERVED NATIONAL&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;58&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;RESERVED NATIONAL&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;59&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;RESERVED NATIONAL&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;60&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;RESERVED PRIVATE&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;61&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;RESERVED PRIVATE&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;62&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;RESERVED PRIVATE&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;63&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;RESERVED PRIVATE&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;64&quot;\r\n      length=&quot;8&quot;\r\n      name=&quot;MESSAGE AUTHENTICATION CODE FIELD&quot;\r\n      class=&quot;org.jpos.iso.IFA_BINARY&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;65&quot;\r\n      length=&quot;1&quot;\r\n      name=&quot;BITMAP, EXTENDED&quot;\r\n      class=&quot;org.jpos.iso.IFA_BINARY&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;66&quot;\r\n      length=&quot;1&quot;\r\n      name=&quot;SETTLEMENT CODE&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;67&quot;\r\n      length=&quot;2&quot;\r\n      name=&quot;EXTENDED PAYMENT CODE&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;68&quot;\r\n      length=&quot;3&quot;\r\n      name=&quot;RECEIVING INSTITUTION COUNTRY CODE&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;69&quot;\r\n      length=&quot;3&quot;\r\n      name=&quot;SETTLEMENT INSTITUTION COUNTRY CODE&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;70&quot;\r\n      length=&quot;3&quot;\r\n      name=&quot;NETWORK MANAGEMENT INFORMATION CODE&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;71&quot;\r\n      length=&quot;4&quot;\r\n      name=&quot;MESSAGE NUMBER&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;72&quot;\r\n      length=&quot;4&quot;\r\n      name=&quot;MESSAGE NUMBER LAST&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;73&quot;\r\n      length=&quot;6&quot;\r\n      name=&quot;DATE ACTION&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;74&quot;\r\n      length=&quot;10&quot;\r\n      name=&quot;CREDITS NUMBER&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;75&quot;\r\n      length=&quot;10&quot;\r\n      name=&quot;CREDITS REVERSAL NUMBER&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;76&quot;\r\n      length=&quot;10&quot;\r\n      name=&quot;DEBITS NUMBER&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;77&quot;\r\n      length=&quot;10&quot;\r\n      name=&quot;DEBITS REVERSAL NUMBER&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;78&quot;\r\n      length=&quot;10&quot;\r\n      name=&quot;TRANSFER NUMBER&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;79&quot;\r\n      length=&quot;10&quot;\r\n      name=&quot;TRANSFER REVERSAL NUMBER&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;80&quot;\r\n      length=&quot;10&quot;\r\n      name=&quot;INQUIRIES NUMBER&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;81&quot;\r\n      length=&quot;10&quot;\r\n      name=&quot;AUTHORIZATION NUMBER&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;82&quot;\r\n      length=&quot;12&quot;\r\n      name=&quot;CREDITS, PROCESSING FEE AMOUNT&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;83&quot;\r\n      length=&quot;12&quot;\r\n      name=&quot;CREDITS, TRANSACTION FEE AMOUNT&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;84&quot;\r\n      length=&quot;12&quot;\r\n      name=&quot;DEBITS, PROCESSING FEE AMOUNT&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;85&quot;\r\n      length=&quot;12&quot;\r\n      name=&quot;DEBITS, TRANSACTION FEE AMOUNT&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;86&quot;\r\n      length=&quot;16&quot;\r\n      name=&quot;CREDITS, AMOUNT&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;87&quot;\r\n      length=&quot;16&quot;\r\n      name=&quot;CREDITS, REVERSAL AMOUNT&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;88&quot;\r\n      length=&quot;16&quot;\r\n      name=&quot;DEBITS, AMOUNT&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;89&quot;\r\n      length=&quot;16&quot;\r\n      name=&quot;DEBITS, REVERSAL AMOUNT&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;90&quot;\r\n      length=&quot;42&quot;\r\n      name=&quot;ORIGINAL DATA ELEMENTS&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;91&quot;\r\n      length=&quot;1&quot;\r\n      name=&quot;FILE UPDATE CODE&quot;\r\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;92&quot;\r\n      length=&quot;2&quot;\r\n      name=&quot;FILE SECURITY CODE&quot;\r\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;93&quot;\r\n      length=&quot;6&quot;\r\n      name=&quot;RESPONSE INDICATOR&quot;\r\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;94&quot;\r\n      length=&quot;7&quot;\r\n      name=&quot;SERVICE INDICATOR&quot;\r\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;95&quot;\r\n      length=&quot;42&quot;\r\n      name=&quot;REPLACEMENT AMOUNTS&quot;\r\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;96&quot;\r\n      length=&quot;16&quot;\r\n      name=&quot;MESSAGE SECURITY CODE&quot;\r\n      class=&quot;org.jpos.iso.IFA_BINARY&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;97&quot;\r\n      length=&quot;17&quot;\r\n      name=&quot;AMOUNT, NET SETTLEMENT&quot;\r\n      class=&quot;org.jpos.iso.IFA_AMOUNT&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;98&quot;\r\n      length=&quot;25&quot;\r\n      name=&quot;PAYEE&quot;\r\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;99&quot;\r\n      length=&quot;11&quot;\r\n      name=&quot;SETTLEMENT INSTITUTION IDENT CODE&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLNUM&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;100&quot;\r\n      length=&quot;11&quot;\r\n      name=&quot;RECEIVING INSTITUTION IDENT CODE&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLNUM&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;101&quot;\r\n      length=&quot;17&quot;\r\n      name=&quot;FILE NAME&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;102&quot;\r\n      length=&quot;28&quot;\r\n      name=&quot;ACCOUNT IDENTIFICATION 1&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;103&quot;\r\n      length=&quot;28&quot;\r\n      name=&quot;ACCOUNT IDENTIFICATION 2&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;104&quot;\r\n      length=&quot;100&quot;\r\n      name=&quot;TRANSACTION DESCRIPTION&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;105&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;RESERVED ISO USE&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;106&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;RESERVED ISO USE&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;107&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;RESERVED ISO USE&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;108&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;RESERVED ISO USE&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;109&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;RESERVED ISO USE&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;110&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;RESERVED ISO USE&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;111&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;RESERVED ISO USE&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;112&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;RESERVED NATIONAL USE&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;113&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;RESERVED NATIONAL USE&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;114&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;RESERVED NATIONAL USE&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;115&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;RESERVED NATIONAL USE&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;116&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;RESERVED NATIONAL USE&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;117&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;RESERVED NATIONAL USE&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;118&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;RESERVED NATIONAL USE&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;119&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;RESERVED NATIONAL USE&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;120&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;RESERVED PRIVATE USE&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;121&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;RESERVED PRIVATE USE&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;122&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;RESERVED PRIVATE USE&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;123&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;RESERVED PRIVATE USE&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;124&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;RESERVED PRIVATE USE&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;125&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;RESERVED PRIVATE USE&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;126&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;RESERVED PRIVATE USE&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;127&quot;\r\n      length=&quot;999&quot;\r\n      name=&quot;RESERVED PRIVATE USE&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;128&quot;\r\n      length=&quot;8&quot;\r\n      name=&quot;MAC 2&quot;\r\n      class=&quot;org.jpos.iso.IFA_BINARY&quot;/&gt;\r\n&lt;/isopackager&gt;\r\n```\r\n","title":"Getting error while unpacking iso message","body":"<p>I have shared required details in the tail, I packed ISO message of title fetch (0210) which contains all the required feilds i.e 2,3,4,7,11,12,13,15,18,22,24,32,33,37,38,39,41,43,49,103,120. but we are getting error while we unpack the data it says to me that on 120 feild it requires 268 bytes although i am setting appropriate bytes but still i am getting this error, Can any one guide me on this?</p>\n<pre><code>Error while parsing. Parsed Incoming Body Fields :\nEXT-ID[2]       FLD[Primary Account Number..]  FRMT[LL-VARCHAR]         LL[2]  LEN[19]   DATA[9999170003354140609]\nEXT-ID[3]       FLD[Processing Code]           FRMT[Fixed-Format-Gr..]  LL[0]  LEN[6]    DATA[620000]\n+EXT-ID[1]      FLD[Transaction type]          FRMT[Fixed Format]       LL[0]  LEN[2]    DATA[62]\n+EXT-ID[2]      FLD[From Account type]         FRMT[Fixed Format]       LL[0]  LEN[2]    DATA[00]\n+EXT-ID[3]      FLD[To Account type ]          FRMT[Fixed Format]       LL[0]  LEN[2]    DATA[00]\nEXT-ID[4]       FLD[Amount, Transaction ]      FRMT[Fixed Format]       LL[0]  LEN[12]   DATA[000000100000]\nEXT-ID[7]       FLD[Transmission Date and ..]  FRMT[Fixed Format]       LL[0]  LEN[10]   DATA[0301103145]\nEXT-ID[11]      FLD[System Trace Audit Num..]  FRMT[Fixed Format]       LL[0]  LEN[6]    DATA[017564]\nEXT-ID[12]      FLD[Time, Local Transactio..]  FRMT[Fixed Format]       LL[0]  LEN[6]    DATA[103145]\nEXT-ID[13]      FLD[Date, Local Transactio..]  FRMT[Fixed Format]       LL[0]  LEN[4]    DATA[0301]\nEXT-ID[15]      FLD[Date, Settlement]          FRMT[Fixed Format]       LL[0]  LEN[4]    DATA[0302]\nEXT-ID[18]      FLD[Merchant Type ]            FRMT[Fixed Format]       LL[0]  LEN[4]    DATA[0003]\nEXT-ID[22]      FLD[Point-of-Service Entry..]  FRMT[Fixed Format]       LL[0]  LEN[3]    DATA[901]\nEXT-ID[24]      FLD[Network Institution Id..]  FRMT[Fixed Format]       LL[0]  LEN[3]    DATA[001]\nEXT-ID[32]      FLD[Acquiring Institution ..]  FRMT[LL-VARCHAR]         LL[2]  LEN[11]   DATA[16049800000]\nEXT-ID[33]      FLD[Forwarding Institution..]  FRMT[LL-VARCHAR]         LL[2]  LEN[6]    DATA[000001]\nEXT-ID[37]      FLD[Retrieval Reference Nu..]  FRMT[Fixed Format]       LL[0]  LEN[12]   DATA[314500000018]\nEXT-ID[38]      FLD[Authorization Identifi..]  FRMT[Fixed Format]       LL[0]  LEN[6]    DATA[083364]\nEXT-ID[39]      FLD[Response Code]             FRMT[Fixed Format]       LL[0]  LEN[2]    DATA[00]\nEXT-ID[41]      FLD[Card Acceptor Terminal..]  FRMT[Fixed Format]       LL[0]  LEN[8]    DATA[12345678]\nEXT-ID[43]      FLD[Card Acceptor Name and..]  FRMT[Fixed Format]       LL[0]  LEN[40]   DATA[Suite 211 212 Park Towers      KARACHI00]\nEXT-ID[49]      FLD[Currency Code, Transac..]  FRMT[Fixed Format]       LL[0]  LEN[3]    DATA[586]\nEXT-ID[103]     FLD[Account Identification..]  FRMT[LL-VARCHAR]         LL[2]  LEN[11]   DATA[03330252674]\n\n10:28:00.304 ERROR [MsgParser:ListProc-Q0:I1]   PARSING FAIL FLD [BITMAP] MSG[Out of bytes. Available: 12 bytes, required: 268 bytes]\n10:28:00.304 ERROR [MapperMgr:ListProc-Q0:I1]   [UID:N/A, Message Timestamp:2022-03-01 10:31:45.663] Parsing exception on field [BITMAP]\nError mapping the fieldAdditional Information:\n</code></pre>\n<p>Hex Dump which i sent to server:</p>\n<pre><code>0000  00 DD 30 32 31 30 F2 3A  45 01 8E A0 80 00 00 00  ..0210.:E.......\n0010  00 00 02 00 01 00 31 39  39 39 39 39 31 37 30 30  ......1999991700\n0020  30 33 33 35 34 31 34 30  36 30 39 36 32 30 30 30  0335414060962000\n0030  30 30 30 30 30 30 30 31  30 30 30 30 30 30 33 30  0000000100000030\n0040  31 31 30 33 31 34 35 30  31 37 35 36 34 31 30 33  1103145017564103\n0050  31 34 35 30 33 30 31 30  33 30 32 30 30 30 33 39  1450301030200039\n0060  30 31 30 30 31 31 31 31  36 30 34 39 38 30 30 30  0100111160498000\n0070  30 30 30 36 30 30 30 30  30 31 33 31 34 35 30 30  0006000001314500\n0080  30 30 30 30 31 38 30 38  33 33 36 34 30 30 31 32  0000180833640012\n0090  33 34 35 36 37 38 53 75  69 74 65 20 32 31 31 20  345678Suite 211\n00a0  32 31 32 20 50 61 72 6B  20 54 6F 77 65 72 73 20  212 Park Towers\n00b0  20 20 20 20 20 4B 41 52  41 43 48 49 30 30 35 38       KARACHI0058\n00c0  36 31 31 30 33 33 33 30  32 35 32 36 37 34 32 36  6110333025267426\n00d0  38 30 33 33 33 30 32 35  32 36 37 34 30 30 30 30  8033302526740000\n00e0  30 30 30 30 30 48 41 52  49 53 20 4B 48 41 4C 45  00000HARIS KHALE\n00f0  45 51 30 30 30 30 30 30  30 30 30 30 30 30 30 30  EQ00000000000000\n0100  30 30 30 31 36 30 34 39  38 30 30 30 30 30 39 39  0001604980000099\n0110  39 39 34 36 30 30 30 30  30 43 30 30 30 30 30 30  994600000C000000\n0120  30 30 30 30 30 30 30 30  30 30 30 30 30 30 30 30  0000000000000000\n0130  30 30 30 30 30 30 30 30  30 30 30 30 30 30 30 30  0000000000000000\n0140  30 30 30 30 30 30 30 30  30 30 30 30 30 30 30 30  0000000000000000\n0150  30 30 30 30 30 30 30 30  30 30 30 30 30 30 30 30  0000000000000000\n0160  30 30 30 30 30 30 30 30  30 30 30 30 30 30 30 30  0000000000000000\n0170  30 30 30 30 30 30 30 30  30 30 30 30 30 30 50 4B  00000000000000PK\n0180  32 33 30 30 30 30 30 30  30 30 30 30 32 32 30 31  2300000000002201\n0190  32 35 30 34 34 38 30 30  30 30 30 30 30 30 30 30  2504480000000000\n01a0  30 30 30 30 30 30 30 30  30 30 30 30 30 30 30 30  0000000000000000\n01b0  30 30 30 30 30 30 30 30  30 30 30 30 30 30 30 30  0000000000000000\n01c0  30 30 30 30 30 30 30 30  30 30 30 30 30 30 30 30  0000000000000000\n01d0  30 30 30 30 30 30 30 30  30 30 30 30 30           0000000000000\n</code></pre>\n<p>Xml file which i am using for unpacking and packing is mentioned below:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;!--\n~  Copyright (c) 2017, WSO2 Inc. (http://wso2.com) All Rights Reserved.\n~\n~  WSO2 Inc. licenses this file to you under the Apache License,\n~  Version 2.0 (the &quot;License&quot;); you may not use this file except\n~  in compliance with the License.\n~  You may obtain a copy of the License at\n~\n~   http://www.apache.org/licenses/LICENSE-2.0\n~\n~  Unless required by applicable law or agreed to in writing,\n~  software distributed under the License is distributed on an\n~  &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n~  KIND, either express or implied.  See the License for the\n~  specific language governing permissions and limitations\n~  under the License.\n--&gt;\n\n&lt;!DOCTYPE isopackager SYSTEM &quot;genericpackager.dtd&quot;&gt;\n\n&lt;!-- ISO 8583:1987 (ASCII) field descriptions for GenericPackager --&gt;\n\n&lt;isopackager&gt;\n  &lt;isofield\n      id=&quot;0&quot;\n      length=&quot;4&quot;\n      name=&quot;MESSAGE TYPE INDICATOR&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;1&quot;\n      length=&quot;16&quot;\n      name=&quot;BIT MAP&quot;\n      class=&quot;org.jpos.iso.IFB_BITMAP&quot;/&gt;\n  &lt;isofield\n      id=&quot;2&quot;\n      length=&quot;19&quot;\n      name=&quot;PAN - PRIMARY ACCOUNT NUMBER&quot;\n      class=&quot;org.jpos.iso.IFA_LLNUM&quot;/&gt;\n  &lt;isofield\n      id=&quot;3&quot;\n      length=&quot;6&quot;\n      name=&quot;PROCESSING CODE&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;4&quot;\n      length=&quot;12&quot;\n      name=&quot;AMOUNT, TRANSACTION&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;5&quot;\n      length=&quot;12&quot;\n      name=&quot;AMOUNT, SETTLEMENT&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;6&quot;\n      length=&quot;12&quot;\n      name=&quot;AMOUNT, CARDHOLDER BILLING&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;7&quot;\n      length=&quot;10&quot;\n      name=&quot;TRANSMISSION DATE AND TIME&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;8&quot;\n      length=&quot;8&quot;\n      name=&quot;AMOUNT, CARDHOLDER BILLING FEE&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;9&quot;\n      length=&quot;8&quot;\n      name=&quot;CONVERSION RATE, SETTLEMENT&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;10&quot;\n      length=&quot;8&quot;\n      name=&quot;CONVERSION RATE, CARDHOLDER BILLING&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;11&quot;\n      length=&quot;6&quot;\n      name=&quot;SYSTEM TRACE AUDIT NUMBER&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;12&quot;\n      length=&quot;6&quot;\n      name=&quot;TIME, LOCAL TRANSACTION&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;13&quot;\n      length=&quot;4&quot;\n      name=&quot;DATE, LOCAL TRANSACTION&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;14&quot;\n      length=&quot;4&quot;\n      name=&quot;DATE, EXPIRATION&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;15&quot;\n      length=&quot;4&quot;\n      name=&quot;DATE, SETTLEMENT&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;16&quot;\n      length=&quot;4&quot;\n      name=&quot;DATE, CONVERSION&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;17&quot;\n      length=&quot;4&quot;\n      name=&quot;DATE, CAPTURE&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;18&quot;\n      length=&quot;4&quot;\n      name=&quot;MERCHANTS TYPE&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;19&quot;\n      length=&quot;3&quot;\n      name=&quot;ACQUIRING INSTITUTION COUNTRY CODE&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;20&quot;\n      length=&quot;3&quot;\n      name=&quot;PAN EXTENDED COUNTRY CODE&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;21&quot;\n      length=&quot;3&quot;\n      name=&quot;FORWARDING INSTITUTION COUNTRY CODE&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;22&quot;\n      length=&quot;3&quot;\n      name=&quot;POINT OF SERVICE ENTRY MODE&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;23&quot;\n      length=&quot;3&quot;\n      name=&quot;CARD SEQUENCE NUMBER&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;24&quot;\n      length=&quot;3&quot;\n      name=&quot;NETWORK INTERNATIONAL IDENTIFIEER&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;25&quot;\n      length=&quot;2&quot;\n      name=&quot;POINT OF SERVICE CONDITION CODE&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;26&quot;\n      length=&quot;2&quot;\n      name=&quot;POINT OF SERVICE PIN CAPTURE CODE&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;27&quot;\n      length=&quot;1&quot;\n      name=&quot;AUTHORIZATION IDENTIFICATION RESP LEN&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;28&quot;\n      length=&quot;9&quot;\n      name=&quot;AMOUNT, TRANSACTION FEE&quot;\n      class=&quot;org.jpos.iso.IFA_AMOUNT&quot;/&gt;\n  &lt;isofield\n      id=&quot;29&quot;\n      length=&quot;9&quot;\n      name=&quot;AMOUNT, SETTLEMENT FEE&quot;\n      class=&quot;org.jpos.iso.IFA_AMOUNT&quot;/&gt;\n  &lt;isofield\n      id=&quot;30&quot;\n      length=&quot;9&quot;\n      name=&quot;AMOUNT, TRANSACTION PROCESSING FEE&quot;\n      class=&quot;org.jpos.iso.IFA_AMOUNT&quot;/&gt;\n  &lt;isofield\n      id=&quot;31&quot;\n      length=&quot;9&quot;\n      name=&quot;AMOUNT, SETTLEMENT PROCESSING FEE&quot;\n      class=&quot;org.jpos.iso.IFA_AMOUNT&quot;/&gt;\n  &lt;isofield\n      id=&quot;32&quot;\n      length=&quot;11&quot;\n      name=&quot;ACQUIRING INSTITUTION IDENT CODE&quot;\n      class=&quot;org.jpos.iso.IFA_LLNUM&quot;/&gt;\n  &lt;isofield\n      id=&quot;33&quot;\n      length=&quot;11&quot;\n      name=&quot;FORWARDING INSTITUTION IDENT CODE&quot;\n      class=&quot;org.jpos.iso.IFA_LLNUM&quot;/&gt;\n  &lt;isofield\n      id=&quot;34&quot;\n      length=&quot;28&quot;\n      name=&quot;PAN EXTENDED&quot;\n      class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;35&quot;\n      length=&quot;37&quot;\n      name=&quot;TRACK 2 DATA&quot;\n      class=&quot;org.jpos.iso.IFA_LLNUM&quot;/&gt;\n  &lt;isofield\n      id=&quot;36&quot;\n      length=&quot;104&quot;\n      name=&quot;TRACK 3 DATA&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;37&quot;\n      length=&quot;12&quot;\n      name=&quot;RETRIEVAL REFERENCE NUMBER&quot;\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;38&quot;\n      length=&quot;6&quot;\n      name=&quot;AUTHORIZATION IDENTIFICATION RESPONSE&quot;\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;39&quot;\n      length=&quot;2&quot;\n      name=&quot;RESPONSE CODE&quot;\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;40&quot;\n      length=&quot;3&quot;\n      name=&quot;SERVICE RESTRICTION CODE&quot;\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;41&quot;\n      length=&quot;8&quot;\n      name=&quot;CARD ACCEPTOR TERMINAL IDENTIFICACION&quot;\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;42&quot;\n      length=&quot;15&quot;\n      name=&quot;CARD ACCEPTOR IDENTIFICATION CODE&quot;\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;43&quot;\n      length=&quot;40&quot;\n      name=&quot;CARD ACCEPTOR NAME/LOCATION&quot;\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;44&quot;\n      length=&quot;25&quot;\n      name=&quot;ADITIONAL RESPONSE DATA&quot;\n      class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;45&quot;\n      length=&quot;76&quot;\n      name=&quot;TRACK 1 DATA&quot;\n      class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;46&quot;\n      length=&quot;999&quot;\n      name=&quot;ADITIONAL DATA - ISO&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;47&quot;\n      length=&quot;999&quot;\n      name=&quot;ADITIONAL DATA - NATIONAL&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;48&quot;\n      length=&quot;999&quot;\n      name=&quot;ADITIONAL DATA - PRIVATE&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;49&quot;\n      length=&quot;3&quot;\n      name=&quot;CURRENCY CODE, TRANSACTION&quot;\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;50&quot;\n      length=&quot;3&quot;\n      name=&quot;CURRENCY CODE, SETTLEMENT&quot;\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;51&quot;\n      length=&quot;3&quot;\n      name=&quot;CURRENCY CODE, CARDHOLDER BILLING&quot;\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;52&quot;\n      length=&quot;16&quot;\n      name=&quot;PIN DATA&quot;\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;53&quot;\n      length=&quot;16&quot;\n      name=&quot;SECURITY RELATED CONTROL INFORMATION&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;54&quot;\n      length=&quot;120&quot;\n      name=&quot;ADDITIONAL AMOUNTS&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;55&quot;\n      length=&quot;999&quot;\n      name=&quot;RESERVED ISO&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;56&quot;\n      length=&quot;999&quot;\n      name=&quot;RESERVED ISO&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;57&quot;\n      length=&quot;999&quot;\n      name=&quot;RESERVED NATIONAL&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;58&quot;\n      length=&quot;999&quot;\n      name=&quot;RESERVED NATIONAL&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;59&quot;\n      length=&quot;999&quot;\n      name=&quot;RESERVED NATIONAL&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;60&quot;\n      length=&quot;999&quot;\n      name=&quot;RESERVED PRIVATE&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;61&quot;\n      length=&quot;999&quot;\n      name=&quot;RESERVED PRIVATE&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;62&quot;\n      length=&quot;999&quot;\n      name=&quot;RESERVED PRIVATE&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;63&quot;\n      length=&quot;999&quot;\n      name=&quot;RESERVED PRIVATE&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;64&quot;\n      length=&quot;8&quot;\n      name=&quot;MESSAGE AUTHENTICATION CODE FIELD&quot;\n      class=&quot;org.jpos.iso.IFA_BINARY&quot;/&gt;\n  &lt;isofield\n      id=&quot;65&quot;\n      length=&quot;1&quot;\n      name=&quot;BITMAP, EXTENDED&quot;\n      class=&quot;org.jpos.iso.IFA_BINARY&quot;/&gt;\n  &lt;isofield\n      id=&quot;66&quot;\n      length=&quot;1&quot;\n      name=&quot;SETTLEMENT CODE&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;67&quot;\n      length=&quot;2&quot;\n      name=&quot;EXTENDED PAYMENT CODE&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;68&quot;\n      length=&quot;3&quot;\n      name=&quot;RECEIVING INSTITUTION COUNTRY CODE&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;69&quot;\n      length=&quot;3&quot;\n      name=&quot;SETTLEMENT INSTITUTION COUNTRY CODE&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;70&quot;\n      length=&quot;3&quot;\n      name=&quot;NETWORK MANAGEMENT INFORMATION CODE&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;71&quot;\n      length=&quot;4&quot;\n      name=&quot;MESSAGE NUMBER&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;72&quot;\n      length=&quot;4&quot;\n      name=&quot;MESSAGE NUMBER LAST&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;73&quot;\n      length=&quot;6&quot;\n      name=&quot;DATE ACTION&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;74&quot;\n      length=&quot;10&quot;\n      name=&quot;CREDITS NUMBER&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;75&quot;\n      length=&quot;10&quot;\n      name=&quot;CREDITS REVERSAL NUMBER&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;76&quot;\n      length=&quot;10&quot;\n      name=&quot;DEBITS NUMBER&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;77&quot;\n      length=&quot;10&quot;\n      name=&quot;DEBITS REVERSAL NUMBER&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;78&quot;\n      length=&quot;10&quot;\n      name=&quot;TRANSFER NUMBER&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;79&quot;\n      length=&quot;10&quot;\n      name=&quot;TRANSFER REVERSAL NUMBER&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;80&quot;\n      length=&quot;10&quot;\n      name=&quot;INQUIRIES NUMBER&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;81&quot;\n      length=&quot;10&quot;\n      name=&quot;AUTHORIZATION NUMBER&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;82&quot;\n      length=&quot;12&quot;\n      name=&quot;CREDITS, PROCESSING FEE AMOUNT&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;83&quot;\n      length=&quot;12&quot;\n      name=&quot;CREDITS, TRANSACTION FEE AMOUNT&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;84&quot;\n      length=&quot;12&quot;\n      name=&quot;DEBITS, PROCESSING FEE AMOUNT&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;85&quot;\n      length=&quot;12&quot;\n      name=&quot;DEBITS, TRANSACTION FEE AMOUNT&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;86&quot;\n      length=&quot;16&quot;\n      name=&quot;CREDITS, AMOUNT&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;87&quot;\n      length=&quot;16&quot;\n      name=&quot;CREDITS, REVERSAL AMOUNT&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;88&quot;\n      length=&quot;16&quot;\n      name=&quot;DEBITS, AMOUNT&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;89&quot;\n      length=&quot;16&quot;\n      name=&quot;DEBITS, REVERSAL AMOUNT&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;90&quot;\n      length=&quot;42&quot;\n      name=&quot;ORIGINAL DATA ELEMENTS&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;91&quot;\n      length=&quot;1&quot;\n      name=&quot;FILE UPDATE CODE&quot;\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;92&quot;\n      length=&quot;2&quot;\n      name=&quot;FILE SECURITY CODE&quot;\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;93&quot;\n      length=&quot;6&quot;\n      name=&quot;RESPONSE INDICATOR&quot;\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;94&quot;\n      length=&quot;7&quot;\n      name=&quot;SERVICE INDICATOR&quot;\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;95&quot;\n      length=&quot;42&quot;\n      name=&quot;REPLACEMENT AMOUNTS&quot;\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;96&quot;\n      length=&quot;16&quot;\n      name=&quot;MESSAGE SECURITY CODE&quot;\n      class=&quot;org.jpos.iso.IFA_BINARY&quot;/&gt;\n  &lt;isofield\n      id=&quot;97&quot;\n      length=&quot;17&quot;\n      name=&quot;AMOUNT, NET SETTLEMENT&quot;\n      class=&quot;org.jpos.iso.IFA_AMOUNT&quot;/&gt;\n  &lt;isofield\n      id=&quot;98&quot;\n      length=&quot;25&quot;\n      name=&quot;PAYEE&quot;\n      class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;99&quot;\n      length=&quot;11&quot;\n      name=&quot;SETTLEMENT INSTITUTION IDENT CODE&quot;\n      class=&quot;org.jpos.iso.IFA_LLNUM&quot;/&gt;\n  &lt;isofield\n      id=&quot;100&quot;\n      length=&quot;11&quot;\n      name=&quot;RECEIVING INSTITUTION IDENT CODE&quot;\n      class=&quot;org.jpos.iso.IFA_LLNUM&quot;/&gt;\n  &lt;isofield\n      id=&quot;101&quot;\n      length=&quot;17&quot;\n      name=&quot;FILE NAME&quot;\n      class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;102&quot;\n      length=&quot;28&quot;\n      name=&quot;ACCOUNT IDENTIFICATION 1&quot;\n      class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;103&quot;\n      length=&quot;28&quot;\n      name=&quot;ACCOUNT IDENTIFICATION 2&quot;\n      class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;104&quot;\n      length=&quot;100&quot;\n      name=&quot;TRANSACTION DESCRIPTION&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;105&quot;\n      length=&quot;999&quot;\n      name=&quot;RESERVED ISO USE&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;106&quot;\n      length=&quot;999&quot;\n      name=&quot;RESERVED ISO USE&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;107&quot;\n      length=&quot;999&quot;\n      name=&quot;RESERVED ISO USE&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;108&quot;\n      length=&quot;999&quot;\n      name=&quot;RESERVED ISO USE&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;109&quot;\n      length=&quot;999&quot;\n      name=&quot;RESERVED ISO USE&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;110&quot;\n      length=&quot;999&quot;\n      name=&quot;RESERVED ISO USE&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;111&quot;\n      length=&quot;999&quot;\n      name=&quot;RESERVED ISO USE&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;112&quot;\n      length=&quot;999&quot;\n      name=&quot;RESERVED NATIONAL USE&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;113&quot;\n      length=&quot;999&quot;\n      name=&quot;RESERVED NATIONAL USE&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;114&quot;\n      length=&quot;999&quot;\n      name=&quot;RESERVED NATIONAL USE&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;115&quot;\n      length=&quot;999&quot;\n      name=&quot;RESERVED NATIONAL USE&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;116&quot;\n      length=&quot;999&quot;\n      name=&quot;RESERVED NATIONAL USE&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;117&quot;\n      length=&quot;999&quot;\n      name=&quot;RESERVED NATIONAL USE&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;118&quot;\n      length=&quot;999&quot;\n      name=&quot;RESERVED NATIONAL USE&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;119&quot;\n      length=&quot;999&quot;\n      name=&quot;RESERVED NATIONAL USE&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;120&quot;\n      length=&quot;999&quot;\n      name=&quot;RESERVED PRIVATE USE&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;121&quot;\n      length=&quot;999&quot;\n      name=&quot;RESERVED PRIVATE USE&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;122&quot;\n      length=&quot;999&quot;\n      name=&quot;RESERVED PRIVATE USE&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;123&quot;\n      length=&quot;999&quot;\n      name=&quot;RESERVED PRIVATE USE&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;124&quot;\n      length=&quot;999&quot;\n      name=&quot;RESERVED PRIVATE USE&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;125&quot;\n      length=&quot;999&quot;\n      name=&quot;RESERVED PRIVATE USE&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;126&quot;\n      length=&quot;999&quot;\n      name=&quot;RESERVED PRIVATE USE&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;127&quot;\n      length=&quot;999&quot;\n      name=&quot;RESERVED PRIVATE USE&quot;\n      class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n      id=&quot;128&quot;\n      length=&quot;8&quot;\n      name=&quot;MAC 2&quot;\n      class=&quot;org.jpos.iso.IFA_BINARY&quot;/&gt;\n&lt;/isopackager&gt;\n</code></pre>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":23191137,"reputation":1266,"user_id":17287498,"display_name":"Ben Zegveld"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646117883,"creation_date":1646117883,"answer_id":71304776,"question_id":71304147,"body_markdown":"This is by design. [The reason for this is to let the user control the order for the mappings.][1] The same behavior is used for `@Mapping` annotations.\r\n\r\nYour first example should also get a compiler warning, although it might refer to the wrong type (target instead of source) at the moment. This should be fixed in the next release.\r\n\r\n  [1]: https://github.com/mapstruct/mapstruct/pull/2512#discussion_r703783542","title":"@SubclassMapping order","body":"<p>This is by design. <a href=\"https://github.com/mapstruct/mapstruct/pull/2512#discussion_r703783542\" rel=\"nofollow noreferrer\">The reason for this is to let the user control the order for the mappings.</a> The same behavior is used for <code>@Mapping</code> annotations.</p>\n<p>Your first example should also get a compiler warning, although it might refer to the wrong type (target instead of source) at the moment. This should be fixed in the next release.</p>\n"}],"owner":{"account_id":22023,"reputation":1621,"user_id":53978,"accept_rate":67,"display_name":"Corin Fletcher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1961,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71304776,"answer_count":1,"score":1,"last_activity_date":1646117883,"creation_date":1646112975,"question_id":71304147,"body_markdown":"First time using MapStruct (1.5.0.Beta2)\r\n\r\nSay I have the following class hierarchy: `C extends B extends A` and `Cdto extends Bdto extends Adto`.  And the following mapper:\r\n\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;, subclassExhaustiveStrategy = RUNTIME_EXCEPTION)\r\npublic interface MyMapper{\r\n    @SubclassMapping(source = B.class, target = Bdto.class)\r\n    @SubclassMapping(source = C.class, target = Cdto.class)\r\n    Adto map(A source);\r\n}\r\n```\r\n\r\nWhen I map a list of C objects I actually get a list of Bdtos.  If however I change the ordering to:\r\n\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;, subclassExhaustiveStrategy = RUNTIME_EXCEPTION)\r\npublic interface MyMapper{\r\n    @SubclassMapping(source = C.class, target = Cdto.class)\r\n    @SubclassMapping(source = B.class, target = Bdto.class)\r\n    Adto map(A source);\r\n}\r\n```\r\n\r\nI get a list of Cdtos as expected.  Is this by design?  Is there any way to make it less dependent on annotation order?\r\n","title":"@SubclassMapping order","body":"<p>First time using MapStruct (1.5.0.Beta2)</p>\n<p>Say I have the following class hierarchy: <code>C extends B extends A</code> and <code>Cdto extends Bdto extends Adto</code>.  And the following mapper:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;, subclassExhaustiveStrategy = RUNTIME_EXCEPTION)\npublic interface MyMapper{\n    @SubclassMapping(source = B.class, target = Bdto.class)\n    @SubclassMapping(source = C.class, target = Cdto.class)\n    Adto map(A source);\n}\n</code></pre>\n<p>When I map a list of C objects I actually get a list of Bdtos.  If however I change the ordering to:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;, subclassExhaustiveStrategy = RUNTIME_EXCEPTION)\npublic interface MyMapper{\n    @SubclassMapping(source = C.class, target = Cdto.class)\n    @SubclassMapping(source = B.class, target = Bdto.class)\n    Adto map(A source);\n}\n</code></pre>\n<p>I get a list of Cdtos as expected.  Is this by design?  Is there any way to make it less dependent on annotation order?</p>\n"},{"tags":["java","web-services","soap","wsdl"],"comments":[{"owner":{"account_id":8815738,"reputation":694,"user_id":6587216,"display_name":"Elias"},"score":0,"creation_date":1497433715,"post_id":44541006,"comment_id":76072964,"body_markdown":"I didn&#39;t get your question where you want pass the parameter in your input xml or in the above java code","body":"I didn&#39;t get your question where you want pass the parameter in your input xml or in the above java code"},{"owner":{"account_id":8929263,"reputation":4088,"user_id":6662421,"accept_rate":85,"display_name":"Sangram Badi"},"score":0,"creation_date":1497434028,"post_id":44541006,"comment_id":76073218,"body_markdown":"using java code i want to pass the parameter","body":"using java code i want to pass the parameter"},{"owner":{"account_id":8815738,"reputation":694,"user_id":6587216,"display_name":"Elias"},"score":1,"creation_date":1497435345,"post_id":44541006,"comment_id":76074181,"body_markdown":"https://www.mkyong.com/webservices/jax-ws/jax-ws-hello-world-example/","body":"<a href=\"https://www.mkyong.com/webservices/jax-ws/jax-ws-hello-world-example/\" rel=\"nofollow noreferrer\">mkyong.com/webservices/jax-ws/jax-ws-hello-world-example</a>"}],"owner":{"account_id":8929263,"reputation":4088,"user_id":6662421,"accept_rate":85,"display_name":"Sangram Badi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5054,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646117311,"creation_date":1497433225,"question_id":44541006,"body_markdown":"i have created soap webservice,in this web service i have `add(int a, int b)` which takes parameter integer type.\r\n\r\nNow my question is how to consume this method by passing these parameter using java? how to make soap client using java ?\r\n\r\n**WSDL**\r\n\r\n    &lt;wsdl:definitions xmlns:apachesoap=&quot;http://xml.apache.org/xml-soap&quot; xmlns:impl=&quot;http://service.ss.com&quot; xmlns:intf=&quot;http://service.ss.com&quot; xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot; xmlns:wsdlsoap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; targetNamespace=&quot;http://service.ss.com&quot;&gt;\r\n    &lt;!--\r\n    WSDL created by Apache Axis version: 1.4\r\n    Built on Apr 22, 2006 (06:55:48 PDT)\r\n    --&gt;\r\n    &lt;wsdl:types&gt;\r\n    &lt;schema xmlns=&quot;http://www.w3.org/2001/XMLSchema&quot; elementFormDefault=&quot;qualified&quot; targetNamespace=&quot;http://service.ss.com&quot;&gt;\r\n    &lt;element name=&quot;add&quot;&gt;\r\n    &lt;complexType&gt;\r\n    &lt;sequence&gt;\r\n    &lt;element name=&quot;a&quot; type=&quot;xsd:int&quot;/&gt;\r\n    &lt;element name=&quot;b&quot; type=&quot;xsd:int&quot;/&gt;\r\n    &lt;/sequence&gt;\r\n    &lt;/complexType&gt;\r\n    &lt;/element&gt;\r\n    &lt;element name=&quot;addResponse&quot;&gt;\r\n    &lt;complexType&gt;\r\n    &lt;sequence&gt;\r\n    &lt;element name=&quot;addReturn&quot; type=&quot;xsd:int&quot;/&gt;\r\n    &lt;/sequence&gt;\r\n    &lt;/complexType&gt;\r\n    &lt;/element&gt;\r\n    &lt;element name=&quot;insert&quot;&gt;\r\n    &lt;complexType/&gt;\r\n    &lt;/element&gt;\r\n    &lt;element name=&quot;insertResponse&quot;&gt;\r\n    &lt;complexType&gt;\r\n    &lt;sequence&gt;\r\n    &lt;element name=&quot;insertReturn&quot; type=&quot;xsd:string&quot;/&gt;\r\n    &lt;/sequence&gt;\r\n    &lt;/complexType&gt;\r\n    &lt;/element&gt;\r\n    &lt;element name=&quot;getDate&quot;&gt;\r\n    &lt;complexType/&gt;\r\n    &lt;/element&gt;\r\n    &lt;element name=&quot;getDateResponse&quot;&gt;\r\n    &lt;complexType&gt;\r\n    &lt;sequence&gt;\r\n    &lt;element name=&quot;getDateReturn&quot; type=&quot;xsd:dateTime&quot;/&gt;\r\n    &lt;/sequence&gt;\r\n    &lt;/complexType&gt;\r\n    &lt;/element&gt;\r\n    &lt;element name=&quot;findAll&quot;&gt;\r\n    &lt;complexType/&gt;\r\n    &lt;/element&gt;\r\n    &lt;element name=&quot;findAllResponse&quot;&gt;\r\n    &lt;complexType&gt;\r\n    &lt;sequence&gt;\r\n    &lt;element name=&quot;findAllReturn&quot; type=&quot;xsd:string&quot;/&gt;\r\n    &lt;/sequence&gt;\r\n    &lt;/complexType&gt;\r\n    &lt;/element&gt;\r\n    &lt;/schema&gt;\r\n    &lt;/wsdl:types&gt;\r\n    &lt;wsdl:message name=&quot;insertRequest&quot;&gt;\r\n    &lt;wsdl:part element=&quot;impl:insert&quot; name=&quot;parameters&quot;&gt;&lt;/wsdl:part&gt;\r\n    &lt;/wsdl:message&gt;\r\n    &lt;wsdl:message name=&quot;addResponse&quot;&gt;\r\n    &lt;wsdl:part element=&quot;impl:addResponse&quot; name=&quot;parameters&quot;&gt;&lt;/wsdl:part&gt;\r\n    &lt;/wsdl:message&gt;\r\n    &lt;wsdl:message name=&quot;findAllRequest&quot;&gt;\r\n    &lt;wsdl:part element=&quot;impl:findAll&quot; name=&quot;parameters&quot;&gt;&lt;/wsdl:part&gt;\r\n    &lt;/wsdl:message&gt;\r\n    &lt;wsdl:message name=&quot;addRequest&quot;&gt;\r\n    &lt;wsdl:part element=&quot;impl:add&quot; name=&quot;parameters&quot;&gt;&lt;/wsdl:part&gt;\r\n    &lt;/wsdl:message&gt;\r\n    &lt;wsdl:message name=&quot;getDateResponse&quot;&gt;\r\n    &lt;wsdl:part element=&quot;impl:getDateResponse&quot; name=&quot;parameters&quot;&gt;&lt;/wsdl:part&gt;\r\n    &lt;/wsdl:message&gt;\r\n    &lt;wsdl:message name=&quot;insertResponse&quot;&gt;\r\n    &lt;wsdl:part element=&quot;impl:insertResponse&quot; name=&quot;parameters&quot;&gt;&lt;/wsdl:part&gt;\r\n    &lt;/wsdl:message&gt;\r\n    &lt;wsdl:message name=&quot;getDateRequest&quot;&gt;\r\n    &lt;wsdl:part element=&quot;impl:getDate&quot; name=&quot;parameters&quot;&gt;&lt;/wsdl:part&gt;\r\n    &lt;/wsdl:message&gt;\r\n    &lt;wsdl:message name=&quot;findAllResponse&quot;&gt;\r\n    &lt;wsdl:part element=&quot;impl:findAllResponse&quot; name=&quot;parameters&quot;&gt;&lt;/wsdl:part&gt;\r\n    &lt;/wsdl:message&gt;\r\n    &lt;wsdl:portType name=&quot;TestService&quot;&gt;\r\n    &lt;wsdl:operation name=&quot;add&quot;&gt;\r\n    &lt;wsdl:input message=&quot;impl:addRequest&quot; name=&quot;addRequest&quot;&gt;&lt;/wsdl:input&gt;\r\n    &lt;wsdl:output message=&quot;impl:addResponse&quot; name=&quot;addResponse&quot;&gt;&lt;/wsdl:output&gt;\r\n    &lt;/wsdl:operation&gt;\r\n    &lt;wsdl:operation name=&quot;insert&quot;&gt;\r\n    &lt;wsdl:input message=&quot;impl:insertRequest&quot; name=&quot;insertRequest&quot;&gt;&lt;/wsdl:input&gt;\r\n    &lt;wsdl:output message=&quot;impl:insertResponse&quot; name=&quot;insertResponse&quot;&gt;&lt;/wsdl:output&gt;\r\n    &lt;/wsdl:operation&gt;\r\n    &lt;wsdl:operation name=&quot;getDate&quot;&gt;\r\n    &lt;wsdl:input message=&quot;impl:getDateRequest&quot; name=&quot;getDateRequest&quot;&gt;&lt;/wsdl:input&gt;\r\n    &lt;wsdl:output message=&quot;impl:getDateResponse&quot; name=&quot;getDateResponse&quot;&gt;&lt;/wsdl:output&gt;\r\n    &lt;/wsdl:operation&gt;\r\n    &lt;wsdl:operation name=&quot;findAll&quot;&gt;\r\n    &lt;wsdl:input message=&quot;impl:findAllRequest&quot; name=&quot;findAllRequest&quot;&gt;&lt;/wsdl:input&gt;\r\n    &lt;wsdl:output message=&quot;impl:findAllResponse&quot; name=&quot;findAllResponse&quot;&gt;&lt;/wsdl:output&gt;\r\n    &lt;/wsdl:operation&gt;\r\n    &lt;/wsdl:portType&gt;\r\n    &lt;wsdl:binding name=&quot;TestServiceSoapBinding&quot; type=&quot;impl:TestService&quot;&gt;\r\n    &lt;wsdlsoap:binding style=&quot;document&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;/&gt;\r\n    &lt;wsdl:operation name=&quot;add&quot;&gt;\r\n    &lt;wsdlsoap:operation soapAction=&quot;&quot;/&gt;\r\n    &lt;wsdl:input name=&quot;addRequest&quot;&gt;\r\n    &lt;wsdlsoap:body use=&quot;literal&quot;/&gt;\r\n    &lt;/wsdl:input&gt;\r\n    &lt;wsdl:output name=&quot;addResponse&quot;&gt;\r\n    &lt;wsdlsoap:body use=&quot;literal&quot;/&gt;\r\n    &lt;/wsdl:output&gt;\r\n    &lt;/wsdl:operation&gt;\r\n    &lt;wsdl:operation name=&quot;insert&quot;&gt;\r\n    &lt;wsdlsoap:operation soapAction=&quot;&quot;/&gt;\r\n    &lt;wsdl:input name=&quot;insertRequest&quot;&gt;\r\n    &lt;wsdlsoap:body use=&quot;literal&quot;/&gt;\r\n    &lt;/wsdl:input&gt;\r\n    &lt;wsdl:output name=&quot;insertResponse&quot;&gt;\r\n    &lt;wsdlsoap:body use=&quot;literal&quot;/&gt;\r\n    &lt;/wsdl:output&gt;\r\n    &lt;/wsdl:operation&gt;\r\n    &lt;wsdl:operation name=&quot;getDate&quot;&gt;\r\n    &lt;wsdlsoap:operation soapAction=&quot;&quot;/&gt;\r\n    &lt;wsdl:input name=&quot;getDateRequest&quot;&gt;\r\n    &lt;wsdlsoap:body use=&quot;literal&quot;/&gt;\r\n    &lt;/wsdl:input&gt;\r\n    &lt;wsdl:output name=&quot;getDateResponse&quot;&gt;\r\n    &lt;wsdlsoap:body use=&quot;literal&quot;/&gt;\r\n    &lt;/wsdl:output&gt;\r\n    &lt;/wsdl:operation&gt;\r\n    &lt;wsdl:operation name=&quot;findAll&quot;&gt;\r\n    &lt;wsdlsoap:operation soapAction=&quot;&quot;/&gt;\r\n    &lt;wsdl:input name=&quot;findAllRequest&quot;&gt;\r\n    &lt;wsdlsoap:body use=&quot;literal&quot;/&gt;\r\n    &lt;/wsdl:input&gt;\r\n    &lt;wsdl:output name=&quot;findAllResponse&quot;&gt;\r\n    &lt;wsdlsoap:body use=&quot;literal&quot;/&gt;\r\n    &lt;/wsdl:output&gt;\r\n    &lt;/wsdl:operation&gt;\r\n    &lt;/wsdl:binding&gt;\r\n    &lt;wsdl:service name=&quot;TestServiceService&quot;&gt;\r\n    &lt;wsdl:port binding=&quot;impl:TestServiceSoapBinding&quot; name=&quot;TestService&quot;&gt;\r\n    &lt;wsdlsoap:address location=&quot;http://localhost:8080/SoapService/services/TestService&quot;/&gt;\r\n    &lt;/wsdl:port&gt;\r\n    &lt;/wsdl:service&gt;\r\n    &lt;/wsdl:definitions&gt;\r\n\r\n**Code**\r\nThis code is working good, but i don&#39;t know how to pass the parameters.\r\n\r\n    String requestContent= &quot;&quot;;\r\n      WsdlProject project = new WsdlProject();\r\n            WsdlInterface[] wsdls = WsdlImporter.importWsdl(project, &quot;http://host.ubnsoft.com:8080/SoapService/services/TestService?wsdl&quot;);\r\n            WsdlInterface wsdl = wsdls[0];\r\n      List&lt;Operation&gt; operations = wsdl.getOperationList();\r\n      for (Operation operation : operations) {\r\n       WsdlOperation wsdlOperation = (WsdlOperation) operation;\r\n          // create a new empty request for that operation\r\n          WsdlRequest request = wsdlOperation.addNewRequest(&quot;My request&quot;);\r\n          request.setTimeout(&quot;2000&quot;);                  \r\n          requestContent = wsdlOperation.createRequest(true);\r\n          request.setRequestContent(requestContent);\r\n          System.out.println(&quot;REQUEST: &quot; + requestContent);\r\n          // submit the request\r\n          try {\r\n               WsdlSubmit submit = (WsdlSubmit) request.submit(new WsdlSubmitContext(request), false);\r\n               Status status = submit.getStatus(); //FINISHED OR ERROR\r\n               System.out.println(&quot;STATUS: &quot; + status); \r\n               Response response = submit.getResponse();\r\n               System.out.println(&quot;RESPONSE: &quot; + response.getContentAsString());\r\n            } catch (SubmitException e) {\r\n             e.printStackTrace();\r\n            }\r\n      }\r\n\r\nHow to send request with parameter and getting the response in soap using java?","title":"How to pass parameters in soap webservice using java?","body":"<p>i have created soap webservice,in this web service i have <code>add(int a, int b)</code> which takes parameter integer type.</p>\n\n<p>Now my question is how to consume this method by passing these parameter using java? how to make soap client using java ?</p>\n\n<p><strong>WSDL</strong></p>\n\n<pre><code>&lt;wsdl:definitions xmlns:apachesoap=\"http://xml.apache.org/xml-soap\" xmlns:impl=\"http://service.ss.com\" xmlns:intf=\"http://service.ss.com\" xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\" xmlns:wsdlsoap=\"http://schemas.xmlsoap.org/wsdl/soap/\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" targetNamespace=\"http://service.ss.com\"&gt;\n&lt;!--\nWSDL created by Apache Axis version: 1.4\nBuilt on Apr 22, 2006 (06:55:48 PDT)\n--&gt;\n&lt;wsdl:types&gt;\n&lt;schema xmlns=\"http://www.w3.org/2001/XMLSchema\" elementFormDefault=\"qualified\" targetNamespace=\"http://service.ss.com\"&gt;\n&lt;element name=\"add\"&gt;\n&lt;complexType&gt;\n&lt;sequence&gt;\n&lt;element name=\"a\" type=\"xsd:int\"/&gt;\n&lt;element name=\"b\" type=\"xsd:int\"/&gt;\n&lt;/sequence&gt;\n&lt;/complexType&gt;\n&lt;/element&gt;\n&lt;element name=\"addResponse\"&gt;\n&lt;complexType&gt;\n&lt;sequence&gt;\n&lt;element name=\"addReturn\" type=\"xsd:int\"/&gt;\n&lt;/sequence&gt;\n&lt;/complexType&gt;\n&lt;/element&gt;\n&lt;element name=\"insert\"&gt;\n&lt;complexType/&gt;\n&lt;/element&gt;\n&lt;element name=\"insertResponse\"&gt;\n&lt;complexType&gt;\n&lt;sequence&gt;\n&lt;element name=\"insertReturn\" type=\"xsd:string\"/&gt;\n&lt;/sequence&gt;\n&lt;/complexType&gt;\n&lt;/element&gt;\n&lt;element name=\"getDate\"&gt;\n&lt;complexType/&gt;\n&lt;/element&gt;\n&lt;element name=\"getDateResponse\"&gt;\n&lt;complexType&gt;\n&lt;sequence&gt;\n&lt;element name=\"getDateReturn\" type=\"xsd:dateTime\"/&gt;\n&lt;/sequence&gt;\n&lt;/complexType&gt;\n&lt;/element&gt;\n&lt;element name=\"findAll\"&gt;\n&lt;complexType/&gt;\n&lt;/element&gt;\n&lt;element name=\"findAllResponse\"&gt;\n&lt;complexType&gt;\n&lt;sequence&gt;\n&lt;element name=\"findAllReturn\" type=\"xsd:string\"/&gt;\n&lt;/sequence&gt;\n&lt;/complexType&gt;\n&lt;/element&gt;\n&lt;/schema&gt;\n&lt;/wsdl:types&gt;\n&lt;wsdl:message name=\"insertRequest\"&gt;\n&lt;wsdl:part element=\"impl:insert\" name=\"parameters\"&gt;&lt;/wsdl:part&gt;\n&lt;/wsdl:message&gt;\n&lt;wsdl:message name=\"addResponse\"&gt;\n&lt;wsdl:part element=\"impl:addResponse\" name=\"parameters\"&gt;&lt;/wsdl:part&gt;\n&lt;/wsdl:message&gt;\n&lt;wsdl:message name=\"findAllRequest\"&gt;\n&lt;wsdl:part element=\"impl:findAll\" name=\"parameters\"&gt;&lt;/wsdl:part&gt;\n&lt;/wsdl:message&gt;\n&lt;wsdl:message name=\"addRequest\"&gt;\n&lt;wsdl:part element=\"impl:add\" name=\"parameters\"&gt;&lt;/wsdl:part&gt;\n&lt;/wsdl:message&gt;\n&lt;wsdl:message name=\"getDateResponse\"&gt;\n&lt;wsdl:part element=\"impl:getDateResponse\" name=\"parameters\"&gt;&lt;/wsdl:part&gt;\n&lt;/wsdl:message&gt;\n&lt;wsdl:message name=\"insertResponse\"&gt;\n&lt;wsdl:part element=\"impl:insertResponse\" name=\"parameters\"&gt;&lt;/wsdl:part&gt;\n&lt;/wsdl:message&gt;\n&lt;wsdl:message name=\"getDateRequest\"&gt;\n&lt;wsdl:part element=\"impl:getDate\" name=\"parameters\"&gt;&lt;/wsdl:part&gt;\n&lt;/wsdl:message&gt;\n&lt;wsdl:message name=\"findAllResponse\"&gt;\n&lt;wsdl:part element=\"impl:findAllResponse\" name=\"parameters\"&gt;&lt;/wsdl:part&gt;\n&lt;/wsdl:message&gt;\n&lt;wsdl:portType name=\"TestService\"&gt;\n&lt;wsdl:operation name=\"add\"&gt;\n&lt;wsdl:input message=\"impl:addRequest\" name=\"addRequest\"&gt;&lt;/wsdl:input&gt;\n&lt;wsdl:output message=\"impl:addResponse\" name=\"addResponse\"&gt;&lt;/wsdl:output&gt;\n&lt;/wsdl:operation&gt;\n&lt;wsdl:operation name=\"insert\"&gt;\n&lt;wsdl:input message=\"impl:insertRequest\" name=\"insertRequest\"&gt;&lt;/wsdl:input&gt;\n&lt;wsdl:output message=\"impl:insertResponse\" name=\"insertResponse\"&gt;&lt;/wsdl:output&gt;\n&lt;/wsdl:operation&gt;\n&lt;wsdl:operation name=\"getDate\"&gt;\n&lt;wsdl:input message=\"impl:getDateRequest\" name=\"getDateRequest\"&gt;&lt;/wsdl:input&gt;\n&lt;wsdl:output message=\"impl:getDateResponse\" name=\"getDateResponse\"&gt;&lt;/wsdl:output&gt;\n&lt;/wsdl:operation&gt;\n&lt;wsdl:operation name=\"findAll\"&gt;\n&lt;wsdl:input message=\"impl:findAllRequest\" name=\"findAllRequest\"&gt;&lt;/wsdl:input&gt;\n&lt;wsdl:output message=\"impl:findAllResponse\" name=\"findAllResponse\"&gt;&lt;/wsdl:output&gt;\n&lt;/wsdl:operation&gt;\n&lt;/wsdl:portType&gt;\n&lt;wsdl:binding name=\"TestServiceSoapBinding\" type=\"impl:TestService\"&gt;\n&lt;wsdlsoap:binding style=\"document\" transport=\"http://schemas.xmlsoap.org/soap/http\"/&gt;\n&lt;wsdl:operation name=\"add\"&gt;\n&lt;wsdlsoap:operation soapAction=\"\"/&gt;\n&lt;wsdl:input name=\"addRequest\"&gt;\n&lt;wsdlsoap:body use=\"literal\"/&gt;\n&lt;/wsdl:input&gt;\n&lt;wsdl:output name=\"addResponse\"&gt;\n&lt;wsdlsoap:body use=\"literal\"/&gt;\n&lt;/wsdl:output&gt;\n&lt;/wsdl:operation&gt;\n&lt;wsdl:operation name=\"insert\"&gt;\n&lt;wsdlsoap:operation soapAction=\"\"/&gt;\n&lt;wsdl:input name=\"insertRequest\"&gt;\n&lt;wsdlsoap:body use=\"literal\"/&gt;\n&lt;/wsdl:input&gt;\n&lt;wsdl:output name=\"insertResponse\"&gt;\n&lt;wsdlsoap:body use=\"literal\"/&gt;\n&lt;/wsdl:output&gt;\n&lt;/wsdl:operation&gt;\n&lt;wsdl:operation name=\"getDate\"&gt;\n&lt;wsdlsoap:operation soapAction=\"\"/&gt;\n&lt;wsdl:input name=\"getDateRequest\"&gt;\n&lt;wsdlsoap:body use=\"literal\"/&gt;\n&lt;/wsdl:input&gt;\n&lt;wsdl:output name=\"getDateResponse\"&gt;\n&lt;wsdlsoap:body use=\"literal\"/&gt;\n&lt;/wsdl:output&gt;\n&lt;/wsdl:operation&gt;\n&lt;wsdl:operation name=\"findAll\"&gt;\n&lt;wsdlsoap:operation soapAction=\"\"/&gt;\n&lt;wsdl:input name=\"findAllRequest\"&gt;\n&lt;wsdlsoap:body use=\"literal\"/&gt;\n&lt;/wsdl:input&gt;\n&lt;wsdl:output name=\"findAllResponse\"&gt;\n&lt;wsdlsoap:body use=\"literal\"/&gt;\n&lt;/wsdl:output&gt;\n&lt;/wsdl:operation&gt;\n&lt;/wsdl:binding&gt;\n&lt;wsdl:service name=\"TestServiceService\"&gt;\n&lt;wsdl:port binding=\"impl:TestServiceSoapBinding\" name=\"TestService\"&gt;\n&lt;wsdlsoap:address location=\"http://localhost:8080/SoapService/services/TestService\"/&gt;\n&lt;/wsdl:port&gt;\n&lt;/wsdl:service&gt;\n&lt;/wsdl:definitions&gt;\n</code></pre>\n\n<p><strong>Code</strong>\nThis code is working good, but i don't know how to pass the parameters.</p>\n\n<pre><code>String requestContent= \"\";\n  WsdlProject project = new WsdlProject();\n        WsdlInterface[] wsdls = WsdlImporter.importWsdl(project, \"http://host.ubnsoft.com:8080/SoapService/services/TestService?wsdl\");\n        WsdlInterface wsdl = wsdls[0];\n  List&lt;Operation&gt; operations = wsdl.getOperationList();\n  for (Operation operation : operations) {\n   WsdlOperation wsdlOperation = (WsdlOperation) operation;\n      // create a new empty request for that operation\n      WsdlRequest request = wsdlOperation.addNewRequest(\"My request\");\n      request.setTimeout(\"2000\");                  \n      requestContent = wsdlOperation.createRequest(true);\n      request.setRequestContent(requestContent);\n      System.out.println(\"REQUEST: \" + requestContent);\n      // submit the request\n      try {\n           WsdlSubmit submit = (WsdlSubmit) request.submit(new WsdlSubmitContext(request), false);\n           Status status = submit.getStatus(); //FINISHED OR ERROR\n           System.out.println(\"STATUS: \" + status); \n           Response response = submit.getResponse();\n           System.out.println(\"RESPONSE: \" + response.getContentAsString());\n        } catch (SubmitException e) {\n         e.printStackTrace();\n        }\n  }\n</code></pre>\n\n<p>How to send request with parameter and getting the response in soap using java?</p>\n"},{"tags":["java","eclipse","maven","pom.xml","slf4j"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":2,"creation_date":1613483081,"post_id":66225296,"comment_id":117083897,"body_markdown":"Does this answer your question? [SLF4J: Class path contains multiple SLF4J bindings](https://stackoverflow.com/questions/14024756/slf4j-class-path-contains-multiple-slf4j-bindings)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/14024756/slf4j-class-path-contains-multiple-slf4j-bindings\">SLF4J: Class path contains multiple SLF4J bindings</a>"},{"owner":{"account_id":12333203,"reputation":316,"user_id":8998379,"display_name":"pzsette"},"score":0,"creation_date":1613486664,"post_id":66225296,"comment_id":117085696,"body_markdown":"Yes, but I do not understand what dependency causes the conflict.","body":"Yes, but I do not understand what dependency causes the conflict."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1613486897,"post_id":66225296,"comment_id":117085828,"body_markdown":"Given one of the paths mentioned is from Eclipse, I&#39;d guess the problem is with Eclipse adding something extra on the path.","body":"Given one of the paths mentioned is from Eclipse, I&#39;d guess the problem is with Eclipse adding something extra on the path."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1613490619,"post_id":66225296,"comment_id":117087594,"body_markdown":"@MarkRotteveel Can you give an example where Eclipse does this?","body":"@MarkRotteveel Can you give an example where Eclipse does this?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1613490756,"post_id":66225296,"comment_id":117087677,"body_markdown":"After changing the `pom.xml`, did you right-click the project and _Maven &gt; Update Project..._? Please show the command line executed by Eclipse (in the run configuration there is a _Show Command Line_ button for that).","body":"After changing the <code>pom.xml</code>, did you right-click the project and <i>Maven &gt; Update Project...</i>? Please show the command line executed by Eclipse (in the run configuration there is a <i>Show Command Line</i> button for that)."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1613494087,"post_id":66225296,"comment_id":117089358,"body_markdown":"@howlger I can&#39;t, I don&#39;t use Eclipse, I just notice that both paths in the message are inside the Eclipse application, one of them OSGi, and one of m2eclipse. I guess the m2eclipse one is from Maven, I don&#39;t know where the OSGi one is coming from.","body":"@howlger I can&#39;t, I don&#39;t use Eclipse, I just notice that both paths in the message are inside the Eclipse application, one of them OSGi, and one of m2eclipse. I guess the m2eclipse one is from Maven, I don&#39;t know where the OSGi one is coming from."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1613508208,"post_id":66225296,"comment_id":117095084,"body_markdown":"@MarkRotteveel I don&#39;t believe Eclipse adds something extra on the path. See my answer below.","body":"@MarkRotteveel I don&#39;t believe Eclipse adds something extra on the path. See my answer below."}],"answers":[{"tags":[],"owner":{"account_id":13946546,"reputation":272,"user_id":10071165,"display_name":"tapsshore"},"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1646117154,"creation_date":1613484939,"answer_id":66226077,"question_id":66225296,"body_markdown":"You can solve the issue by adding the following exclusion in the dependencies (of pom.xml) that caused conflict.\r\n\r\n     &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n     &lt;/exclusions&gt; \r\n\r\n","title":"SLF4J: Class path contains multiple SLF4J bindings warning","body":"<p>You can solve the issue by adding the following exclusion in the dependencies (of pom.xml) that caused conflict.</p>\n<pre><code> &lt;exclusions&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n &lt;/exclusions&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1613507859,"creation_date":1613507859,"answer_id":66231810,"question_id":66225296,"body_markdown":"The **SLF4J bindings warning** comes from the Eclipse IDE itself and is **not related to your application** you write in the Eclipse IDE. So it&#39;s just **noise that can be ignored** (see e.g. [here][1] and [here][2]).\r\n\r\nI guess you have the *Eclipse IDE for Enterprise Java Developers* with maybe some additional plugins installed. That&#39;s more than 900 JARs. SLF4J is used by the Maven support for Eclipse (in the SLF4J bindings warning as `m2e`) and also by at least one other plugin in an incompatible way causing this warnings. Eclipse is based on OSGi where there is not a flat classpath and where plugins/bundles can be installed, started, stopped and uninstalled at runtime. SLF4J seems not to build with OSGi in mind, hence the misleading warning `Class path contains multiple SLF4J bindings`, although there is no classpath in OSGi which uses its own class loader instead.\r\n\r\n\r\n  [1]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=473789#c1\r\n  [2]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=520754","title":"SLF4J: Class path contains multiple SLF4J bindings warning","body":"<p>The <strong>SLF4J bindings warning</strong> comes from the Eclipse IDE itself and is <strong>not related to your application</strong> you write in the Eclipse IDE. So it's just <strong>noise that can be ignored</strong> (see e.g. <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=473789#c1\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=520754\" rel=\"nofollow noreferrer\">here</a>).</p>\n<p>I guess you have the <em>Eclipse IDE for Enterprise Java Developers</em> with maybe some additional plugins installed. That's more than 900 JARs. SLF4J is used by the Maven support for Eclipse (in the SLF4J bindings warning as <code>m2e</code>) and also by at least one other plugin in an incompatible way causing this warnings. Eclipse is based on OSGi where there is not a flat classpath and where plugins/bundles can be installed, started, stopped and uninstalled at runtime. SLF4J seems not to build with OSGi in mind, hence the misleading warning <code>Class path contains multiple SLF4J bindings</code>, although there is no classpath in OSGi which uses its own class loader instead.</p>\n"}],"owner":{"account_id":12333203,"reputation":316,"user_id":8998379,"display_name":"pzsette"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8815,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":66226077,"answer_count":2,"score":4,"last_activity_date":1646117154,"creation_date":1613482193,"question_id":66225296,"body_markdown":"I&#39;ve seen in other questions that usually the solution to this warning is to exclude slf4j from the dependency that causes this conflict, but I can&#39;t spot the problem in my project.\r\n\r\n```\r\nSLF4J: Class path contains multiple SLF4J bindings.\r\nSLF4J: Found binding in [jar:file:/Applications/Eclipse.app/Contents/Eclipse/plugins/org.eclipse.m2e.maven.runtime.slf4j.simple_1.16.0.20200610-1735/jars/slf4j-simple-1.7.5.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [file:/Applications/Eclipse.app/Contents/Eclipse/configuration/org.eclipse.osgi/5/0/.cp/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\nSLF4J: Actual binding is of type [org.slf4j.impl.SimpleLoggerFactory]\r\nSLF4J: Class path contains multiple SLF4J bindings.\r\nSLF4J: Found binding in [jar:file:/Applications/Eclipse.app/Contents/Eclipse/plugins/org.eclipse.m2e.maven.runtime.slf4j.simple_1.16.0.20200610-1735/jars/slf4j-simple-1.7.5.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [file:/Applications/Eclipse.app/Contents/Eclipse/configuration/org.eclipse.osgi/5/0/.cp/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\nSLF4J: Actual binding is of type [org.slf4j.impl.SimpleLoggerFactory]\r\n\r\n```\r\n\r\n\r\nI run `mvn dependency:tree` command and this is the output:\r\n\r\n```\r\n[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ subscriptionsmanager ---\r\n[INFO] it.pietro:subscriptionsmanager:jar:0.0.1-SNAPSHOT\r\n[INFO] +- junit:junit:jar:4.13.1:test\r\n[INFO] |  \\- org.hamcrest:hamcrest-core:jar:1.3:test\r\n[INFO] +- org.mockito:mockito-core:jar:3.5.13:test\r\n[INFO] |  +- net.bytebuddy:byte-buddy:jar:1.10.15:test\r\n[INFO] |  +- net.bytebuddy:byte-buddy-agent:jar:1.10.15:test\r\n[INFO] |  \\- org.objenesis:objenesis:jar:3.1:test\r\n[INFO] +- org.mongodb:mongo-java-driver:jar:3.12.7:compile\r\n[INFO] +- ch.qos.logback:logback-classic:jar:1.2.3:compile\r\n[INFO] |  +- ch.qos.logback:logback-core:jar:1.2.3:compile\r\n[INFO] |  \\- org.slf4j:slf4j-api:jar:1.7.25:compile\r\n[INFO] +- de.bwaldvogel:mongo-java-server:jar:1.11.1:compile\r\n[INFO] |  +- de.bwaldvogel:mongo-java-server-core:jar:1.11.1:compile\r\n[INFO] |  |  +- io.netty:netty-transport:jar:4.1.31.Final:compile\r\n[INFO] |  |  |  +- io.netty:netty-buffer:jar:4.1.31.Final:compile\r\n[INFO] |  |  |  |  \\- io.netty:netty-common:jar:4.1.31.Final:compile\r\n[INFO] |  |  |  \\- io.netty:netty-resolver:jar:4.1.31.Final:compile\r\n[INFO] |  |  \\- io.netty:netty-codec:jar:4.1.31.Final:compile\r\n[INFO] |  \\- de.bwaldvogel:mongo-java-server-memory-backend:jar:1.11.1:compile\r\n[INFO] +- org.assertj:assertj-core:jar:3.15.0:test\r\n[INFO] +- org.testcontainers:mongodb:jar:1.15.1:compile\r\n[INFO] |  \\- org.testcontainers:testcontainers:jar:1.15.1:compile\r\n[INFO] |     +- org.apache.commons:commons-compress:jar:1.20:compile\r\n[INFO] |     +- org.rnorth.duct-tape:duct-tape:jar:1.0.8:compile\r\n[INFO] |     +- org.rnorth.visible-assertions:visible-assertions:jar:2.1.2:compile\r\n[INFO] |     |  \\- net.java.dev.jna:jna:jar:5.2.0:compile\r\n[INFO] |     +- com.github.docker-java:docker-java-api:jar:3.2.7:compile\r\n[INFO] |     |  \\- com.fasterxml.jackson.core:jackson-annotations:jar:2.10.3:compile\r\n[INFO] |     \\- com.github.docker-java:docker-java-transport-zerodep:jar:3.2.7:compile\r\n[INFO] |        \\- com.github.docker-java:docker-java-transport:jar:3.2.7:compile\r\n[INFO] +- org.assertj:assertj-swing-junit:jar:3.17.1:test\r\n[INFO] |  +- org.assertj:assertj-swing:jar:3.17.1:test\r\n[INFO] |  |  \\- org.easytesting:fest-util:jar:1.2.5:test\r\n[INFO] |  \\- org.easytesting:fest-reflect:jar:1.4.1:test\r\n[INFO] \\- info.picocli:picocli:jar:4.5.2:compile\r\n\r\n```","title":"SLF4J: Class path contains multiple SLF4J bindings warning","body":"<p>I've seen in other questions that usually the solution to this warning is to exclude slf4j from the dependency that causes this conflict, but I can't spot the problem in my project.</p>\n<pre><code>SLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/Applications/Eclipse.app/Contents/Eclipse/plugins/org.eclipse.m2e.maven.runtime.slf4j.simple_1.16.0.20200610-1735/jars/slf4j-simple-1.7.5.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [file:/Applications/Eclipse.app/Contents/Eclipse/configuration/org.eclipse.osgi/5/0/.cp/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.slf4j.impl.SimpleLoggerFactory]\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/Applications/Eclipse.app/Contents/Eclipse/plugins/org.eclipse.m2e.maven.runtime.slf4j.simple_1.16.0.20200610-1735/jars/slf4j-simple-1.7.5.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [file:/Applications/Eclipse.app/Contents/Eclipse/configuration/org.eclipse.osgi/5/0/.cp/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.slf4j.impl.SimpleLoggerFactory]\n\n</code></pre>\n<p>I run <code>mvn dependency:tree</code> command and this is the output:</p>\n<pre><code>[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ subscriptionsmanager ---\n[INFO] it.pietro:subscriptionsmanager:jar:0.0.1-SNAPSHOT\n[INFO] +- junit:junit:jar:4.13.1:test\n[INFO] |  \\- org.hamcrest:hamcrest-core:jar:1.3:test\n[INFO] +- org.mockito:mockito-core:jar:3.5.13:test\n[INFO] |  +- net.bytebuddy:byte-buddy:jar:1.10.15:test\n[INFO] |  +- net.bytebuddy:byte-buddy-agent:jar:1.10.15:test\n[INFO] |  \\- org.objenesis:objenesis:jar:3.1:test\n[INFO] +- org.mongodb:mongo-java-driver:jar:3.12.7:compile\n[INFO] +- ch.qos.logback:logback-classic:jar:1.2.3:compile\n[INFO] |  +- ch.qos.logback:logback-core:jar:1.2.3:compile\n[INFO] |  \\- org.slf4j:slf4j-api:jar:1.7.25:compile\n[INFO] +- de.bwaldvogel:mongo-java-server:jar:1.11.1:compile\n[INFO] |  +- de.bwaldvogel:mongo-java-server-core:jar:1.11.1:compile\n[INFO] |  |  +- io.netty:netty-transport:jar:4.1.31.Final:compile\n[INFO] |  |  |  +- io.netty:netty-buffer:jar:4.1.31.Final:compile\n[INFO] |  |  |  |  \\- io.netty:netty-common:jar:4.1.31.Final:compile\n[INFO] |  |  |  \\- io.netty:netty-resolver:jar:4.1.31.Final:compile\n[INFO] |  |  \\- io.netty:netty-codec:jar:4.1.31.Final:compile\n[INFO] |  \\- de.bwaldvogel:mongo-java-server-memory-backend:jar:1.11.1:compile\n[INFO] +- org.assertj:assertj-core:jar:3.15.0:test\n[INFO] +- org.testcontainers:mongodb:jar:1.15.1:compile\n[INFO] |  \\- org.testcontainers:testcontainers:jar:1.15.1:compile\n[INFO] |     +- org.apache.commons:commons-compress:jar:1.20:compile\n[INFO] |     +- org.rnorth.duct-tape:duct-tape:jar:1.0.8:compile\n[INFO] |     +- org.rnorth.visible-assertions:visible-assertions:jar:2.1.2:compile\n[INFO] |     |  \\- net.java.dev.jna:jna:jar:5.2.0:compile\n[INFO] |     +- com.github.docker-java:docker-java-api:jar:3.2.7:compile\n[INFO] |     |  \\- com.fasterxml.jackson.core:jackson-annotations:jar:2.10.3:compile\n[INFO] |     \\- com.github.docker-java:docker-java-transport-zerodep:jar:3.2.7:compile\n[INFO] |        \\- com.github.docker-java:docker-java-transport:jar:3.2.7:compile\n[INFO] +- org.assertj:assertj-swing-junit:jar:3.17.1:test\n[INFO] |  +- org.assertj:assertj-swing:jar:3.17.1:test\n[INFO] |  |  \\- org.easytesting:fest-util:jar:1.2.5:test\n[INFO] |  \\- org.easytesting:fest-reflect:jar:1.4.1:test\n[INFO] \\- info.picocli:picocli:jar:4.5.2:compile\n\n</code></pre>\n"},{"tags":["java","rx-java","httpurlconnection"],"comments":[{"owner":{"account_id":5100770,"reputation":1381,"user_id":4090458,"accept_rate":38,"display_name":"Varun Jain"},"score":0,"creation_date":1566276959,"post_id":57566856,"comment_id":101594848,"body_markdown":"Possible duplicate of https://stackoverflow.com/questions/45381841/how-to-make-a-http-request-to-check-a-content-type-with-rxjava-2","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/45381841/how-to-make-a-http-request-to-check-a-content-type-with-rxjava-2\" title=\"how to make a http request to check a content type with rxjava 2\">stackoverflow.com/questions/45381841/&hellip;</a>"},{"owner":{"account_id":15170670,"reputation":561,"user_id":10946826,"display_name":"James Larkin"},"score":0,"creation_date":1566277059,"post_id":57566856,"comment_id":101594880,"body_markdown":"@VarunJain I did see that question but I&#39;m not concerned about using main thread / I don&#39;t think using `.just()` is a good approach here.","body":"@VarunJain I did see that question but I&#39;m not concerned about using main thread / I don&#39;t think using <code>.just()</code> is a good approach here."},{"owner":{"account_id":5100770,"reputation":1381,"user_id":4090458,"accept_rate":38,"display_name":"Varun Jain"},"score":0,"creation_date":1566277523,"post_id":57566856,"comment_id":101594970,"body_markdown":"No, just() method can be used in the way mentioned in the link in 1st comment. But I want to know why just() is not a good approach and what is basis of your saying because I haven&#39;t found anywhere mentioned like that!","body":"No, just() method can be used in the way mentioned in the link in 1st comment. But I want to know why just() is not a good approach and what is basis of your saying because I haven&#39;t found anywhere mentioned like that!"},{"owner":{"account_id":15170670,"reputation":561,"user_id":10946826,"display_name":"James Larkin"},"score":0,"creation_date":1566277714,"post_id":57566856,"comment_id":101595004,"body_markdown":"https://stackoverflow.com/a/52671715/10946826","body":"<a href=\"https://stackoverflow.com/a/52671715/10946826\">stackoverflow.com/a/52671715/10946826</a>"},{"owner":{"account_id":5100770,"reputation":1381,"user_id":4090458,"accept_rate":38,"display_name":"Varun Jain"},"score":0,"creation_date":1566278602,"post_id":57566856,"comment_id":101595203,"body_markdown":"Yeah, as the statement mentioned in the link, you are still free to use just or from as per your needs. So if you needs can be sufficed by lazily then you can use from otherwise just is also fine!","body":"Yeah, as the statement mentioned in the link, you are still free to use just or from as per your needs. So if you needs can be sufficed by lazily then you can use from otherwise just is also fine!"}],"answers":[{"tags":[],"owner":{"account_id":10915331,"reputation":1673,"user_id":11146632,"display_name":"Sujit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646116675,"creation_date":1646116675,"answer_id":71304608,"question_id":57566856,"body_markdown":"You can use a `Callable`. I&#39;ve already written an answer on how to do this [here](https://stackoverflow.com/a/71304587/11146632).\r\n\r\n&gt; ```\r\n&gt; java Observable.fromCallable((Callable&lt;Object&gt;) () -&gt; {\r\n&gt;     // do stuff\r\n&gt;     return object;\r\n&gt; })\r\n&gt;         .subscribeOn(Schedulers.io())\r\n&gt;         .observeOn(AndroidSchedulers.mainThread())\r\n&gt;         .subscribe(new Observer&lt;Object&gt;() {\r\n&gt;             @Override\r\n&gt;             public void onSubscribe(@NonNull Disposable d) {\r\n&gt;                 // so that this can be properly disposed in onDestroy()\r\n&gt;                 compositeDisposable.add(d);\r\n&gt;             }\r\n&gt; \r\n&gt;             @Override\r\n&gt;             public void onNext(@NonNull Object object) {\r\n&gt;                 // do stuff with the result\r\n&gt;             }\r\n&gt; \r\n&gt;             @Override\r\n&gt;             public void onError(@NonNull Throwable e) {\r\n&gt;             }\r\n&gt; \r\n&gt;             @Override\r\n&gt;             public void onComplete() {\r\n&gt;             }\r\n&gt;         });\r\n&gt; ```\r\n","title":"How do I use HttpURLConnection with RxJava?","body":"<p>You can use a <code>Callable</code>. I've already written an answer on how to do this <a href=\"https://stackoverflow.com/a/71304587/11146632\">here</a>.</p>\n<blockquote>\n<pre><code>java Observable.fromCallable((Callable&lt;Object&gt;) () -&gt; {\n    // do stuff\n    return object;\n})\n        .subscribeOn(Schedulers.io())\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribe(new Observer&lt;Object&gt;() {\n            @Override\n            public void onSubscribe(@NonNull Disposable d) {\n                // so that this can be properly disposed in onDestroy()\n                compositeDisposable.add(d);\n            }\n\n            @Override\n            public void onNext(@NonNull Object object) {\n                // do stuff with the result\n            }\n\n            @Override\n            public void onError(@NonNull Throwable e) {\n            }\n\n            @Override\n            public void onComplete() {\n            }\n        });\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":15170670,"reputation":561,"user_id":10946826,"display_name":"James Larkin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":698,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646116675,"creation_date":1566276432,"question_id":57566856,"body_markdown":"Here&#39;s a sample code of http request in Java:\r\n```\r\nURL url = new URL(&quot;http://example.com&quot;);\r\nHttpURLConnection con = (HttpURLConnection) url.openConnection();\r\ncon.setRequestMethod(&quot;GET&quot;);\r\n```\r\n\r\nWhat&#39;s the best way to _combine_ `HttpURLConnection` and `RxJava`?\r\n\r\nMy current option is:\r\n\r\n```\r\nObservable.defer(() -&gt; {\r\n   return sendHttpRequest(); // uses HttpURLConnection and returns a response&#39;s content as a string\r\n});\r\n```","title":"How do I use HttpURLConnection with RxJava?","body":"<p>Here's a sample code of http request in Java:</p>\n\n<pre><code>URL url = new URL(\"http://example.com\");\nHttpURLConnection con = (HttpURLConnection) url.openConnection();\ncon.setRequestMethod(\"GET\");\n</code></pre>\n\n<p>What's the best way to <em>combine</em> <code>HttpURLConnection</code> and <code>RxJava</code>?</p>\n\n<p>My current option is:</p>\n\n<pre><code>Observable.defer(() -&gt; {\n   return sendHttpRequest(); // uses HttpURLConnection and returns a response's content as a string\n});\n</code></pre>\n"},{"tags":["java","hadoop"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1646146862,"post_id":71303289,"comment_id":126048271,"body_markdown":"Make sure you are using java 8 or 11","body":"Make sure you are using java 8 or 11"},{"owner":{"account_id":320466,"reputation":8954,"user_id":638764,"display_name":"mazaneicha"},"score":0,"creation_date":1646152731,"post_id":71303289,"comment_id":126050714,"body_markdown":"Also, make sure your `mapreduce.admin.user.env` is set properly. _&quot;When this value is empty, the command to set execution environment will be OS dependent: For linux, use LD_LIBRARY_PATH=$HADOOP_COMMON_HOME/lib/native. For windows, use PATH = %PATH%;%HADOOP_COMMON_HOME%\\\\bin. &quot;_","body":"Also, make sure your <code>mapreduce.admin.user.env</code> is set properly. <i>&quot;When this value is empty, the command to set execution environment will be OS dependent: For linux, use LD_LIBRARY_PATH=$HADOOP_COMMON_HOME/lib/native. For windows, use PATH = %PATH%;%HADOOP_COMMON_HOME%\\\\bin. &quot;</i>"}],"owner":{"account_id":11545420,"reputation":1,"user_id":18339461,"display_name":"Ice"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646116667,"creation_date":1646104012,"question_id":71303289,"body_markdown":"I compiled my program, did &quot;jar cf WordCount.jar WordCount*.class&quot; on the class file generated in the bin file, then &quot;hadoop jar ./WordCount.jar WordCount \\Users\\blast\\Desktop\\input \\Users\\blast\\Desktop\\output\\output1&quot;. But when I did that this is what was generated. Thanks.\r\n\r\n&gt; 2022-02-28 21:58:00,538 INFO\r\n&gt; client.DefaultNoHARMFailoverProxyProvider: Connecting to\r\n&gt; ResourceManager at /0.0.0.0:8032 Exception in thread &quot;main&quot;\r\n&gt; java.lang.UnsatisfiedLinkError:\r\n&gt; org.apache.hadoop.io.nativeio.NativeIO$POSIX.stat(Ljava/lang/String;)Lorg/apache/hadoop/io/nativeio/NativeIO$POSIX$Stat;\r\n&gt;         at org.apache.hadoop.io.nativeio.NativeIO$POSIX.stat(Native Method)\r\n&gt;         at org.apache.hadoop.io.nativeio.NativeIO$POSIX.getStat(NativeIO.java:608)\r\n&gt;         at org.apache.hadoop.fs.RawLocalFileSystem$DeprecatedRawLocalFileStatus.loadPermissionInfoByNativeIO(RawLocalFileSystem.java:934)\r\n&gt;         at org.apache.hadoop.fs.RawLocalFileSystem$DeprecatedRawLocalFileStatus.loadPermissionInfo(RawLocalFileSystem.java:848)\r\n&gt;         at org.apache.hadoop.fs.RawLocalFileSystem$DeprecatedRawLocalFileStatus.getOwner(RawLocalFileSystem.java:824)\r\n&gt;         at org.apache.hadoop.mapreduce.JobSubmissionFiles.getStagingDir(JobSubmissionFiles.java:137)\r\n&gt;         at org.apache.hadoop.mapreduce.JobSubmissionFiles.getStagingDir(JobSubmissionFiles.java:113)\r\n&gt;         at org.apache.hadoop.mapreduce.JobSubmitter.submitJobInternal(JobSubmitter.java:148)\r\n&gt;         at org.apache.hadoop.mapreduce.Job$11.run(Job.java:1571)\r\n&gt;         at org.apache.hadoop.mapreduce.Job$11.run(Job.java:1568)\r\n&gt;         at java.security.AccessController.doPrivileged(Native Method)\r\n&gt;         at javax.security.auth.Subject.doAs(Subject.java:422)\r\n&gt;         at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)\r\n&gt;         at org.apache.hadoop.mapreduce.Job.submit(Job.java:1568)\r\n&gt;         at org.apache.hadoop.mapreduce.Job.waitForCompletion(Job.java:1589)\r\n&gt;         at WordCount.main(WordCount.java:59)\r\n&gt;         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n&gt;         at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt;         at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt;         at java.lang.reflect.Method.invoke(Method.java:498)\r\n&gt;         at org.apache.hadoop.util.RunJar.run(RunJar.java:323)\r\n&gt;         at org.apache.hadoop.util.RunJar.main(RunJar.java:236)","title":"VS Java hadoop WordCount error: Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError","body":"<p>I compiled my program, did &quot;jar cf WordCount.jar WordCount*.class&quot; on the class file generated in the bin file, then &quot;hadoop jar ./WordCount.jar WordCount \\Users\\blast\\Desktop\\input \\Users\\blast\\Desktop\\output\\output1&quot;. But when I did that this is what was generated. Thanks.</p>\n<blockquote>\n<p>2022-02-28 21:58:00,538 INFO\nclient.DefaultNoHARMFailoverProxyProvider: Connecting to\nResourceManager at /0.0.0.0:8032 Exception in thread &quot;main&quot;\njava.lang.UnsatisfiedLinkError:\norg.apache.hadoop.io.nativeio.NativeIO$POSIX.stat(Ljava/lang/String;)Lorg/apache/hadoop/io/nativeio/NativeIO$POSIX$Stat;\nat org.apache.hadoop.io.nativeio.NativeIO$POSIX.stat(Native Method)\nat org.apache.hadoop.io.nativeio.NativeIO$POSIX.getStat(NativeIO.java:608)\nat org.apache.hadoop.fs.RawLocalFileSystem$DeprecatedRawLocalFileStatus.loadPermissionInfoByNativeIO(RawLocalFileSystem.java:934)\nat org.apache.hadoop.fs.RawLocalFileSystem$DeprecatedRawLocalFileStatus.loadPermissionInfo(RawLocalFileSystem.java:848)\nat org.apache.hadoop.fs.RawLocalFileSystem$DeprecatedRawLocalFileStatus.getOwner(RawLocalFileSystem.java:824)\nat org.apache.hadoop.mapreduce.JobSubmissionFiles.getStagingDir(JobSubmissionFiles.java:137)\nat org.apache.hadoop.mapreduce.JobSubmissionFiles.getStagingDir(JobSubmissionFiles.java:113)\nat org.apache.hadoop.mapreduce.JobSubmitter.submitJobInternal(JobSubmitter.java:148)\nat org.apache.hadoop.mapreduce.Job$11.run(Job.java:1571)\nat org.apache.hadoop.mapreduce.Job$11.run(Job.java:1568)\nat java.security.AccessController.doPrivileged(Native Method)\nat javax.security.auth.Subject.doAs(Subject.java:422)\nat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)\nat org.apache.hadoop.mapreduce.Job.submit(Job.java:1568)\nat org.apache.hadoop.mapreduce.Job.waitForCompletion(Job.java:1589)\nat WordCount.main(WordCount.java:59)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.apache.hadoop.util.RunJar.run(RunJar.java:323)\nat org.apache.hadoop.util.RunJar.main(RunJar.java:236)</p>\n</blockquote>\n"},{"tags":["java","api","rest","httpresponse","http-response-codes"],"comments":[{"owner":{"account_id":10058979,"reputation":1712,"user_id":7436321,"accept_rate":75,"display_name":"JustLudo"},"score":0,"creation_date":1646124325,"post_id":71304498,"comment_id":126040494,"body_markdown":"Imho, 1 request will lead to 1 response. This is REST default. So if anything fails, all should fail. This leads to 200, maybe 404 (some id&#39;s not found) and 500 if all breaks down.","body":"Imho, 1 request will lead to 1 response. This is REST default. So if anything fails, all should fail. This leads to 200, maybe 404 (some id&#39;s not found) and 500 if all breaks down."},{"owner":{"account_id":300083,"reputation":25180,"user_id":607033,"accept_rate":94,"display_name":"inf3rno"},"score":0,"creation_date":1646310192,"post_id":71304498,"comment_id":126094248,"body_markdown":"https://stackoverflow.com/questions/8472935/http-status-code-for-a-partial-successful-request","body":"<a href=\"https://stackoverflow.com/questions/8472935/http-status-code-for-a-partial-successful-request\" title=\"http status code for a partial successful request\">stackoverflow.com/questions/8472935/&hellip;</a>"},{"owner":{"account_id":300083,"reputation":25180,"user_id":607033,"accept_rate":94,"display_name":"inf3rno"},"score":0,"creation_date":1646310275,"post_id":71304498,"comment_id":126094284,"body_markdown":"Does this answer your question? [HTTP status code for a partial successful request](https://stackoverflow.com/questions/8472935/http-status-code-for-a-partial-successful-request)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8472935/http-status-code-for-a-partial-successful-request\">HTTP status code for a partial successful request</a>"}],"owner":{"account_id":16704955,"reputation":423,"user_id":15407955,"display_name":"user124"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1392,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646115842,"creation_date":1646115842,"question_id":71304498,"body_markdown":"I am writing api that expects a List of customer Id&#39;s and then proces that List by iterating each and every request, and then the response body will contains response of each and every ID as if it was an individual request.\r\n\r\n    Sample request = [1,2,3]\r\n    Sample response =\r\n    {\r\n    \r\n    &quot;1&quot; :{\r\n    &quot;responseCode&quot;:&quot;200&quot;\r\n    }\r\n    &quot;2&quot;:{\r\n    &quot;responseCode&quot;:&quot;404&quot;\r\n    &quot;errorMessage&quot;:&quot;Id not found&quot;\r\n    }\r\n    &quot;3&quot;:{\r\n    &quot;responseCode&quot;:&quot;200&quot;\r\n    }\r\n    }\r\n\r\nNow what can be response code of this API itself, what are different response code in following cases:\r\n\r\n1. Partial success as above example?\r\n2. What if some other error comes while executing this api?\r\n3. All request retuned error because of some problem, the response will have all id and corresponding error codes, but what can be response code of the api itself?will it be 200?\r\n\r\nI think there can be only 2 response status for this api(apart from auth/throttling etc.)?\r\n200,500","title":"Rest API response for batch request?","body":"<p>I am writing api that expects a List of customer Id's and then proces that List by iterating each and every request, and then the response body will contains response of each and every ID as if it was an individual request.</p>\n<pre><code>Sample request = [1,2,3]\nSample response =\n{\n\n&quot;1&quot; :{\n&quot;responseCode&quot;:&quot;200&quot;\n}\n&quot;2&quot;:{\n&quot;responseCode&quot;:&quot;404&quot;\n&quot;errorMessage&quot;:&quot;Id not found&quot;\n}\n&quot;3&quot;:{\n&quot;responseCode&quot;:&quot;200&quot;\n}\n}\n</code></pre>\n<p>Now what can be response code of this API itself, what are different response code in following cases:</p>\n<ol>\n<li>Partial success as above example?</li>\n<li>What if some other error comes while executing this api?</li>\n<li>All request retuned error because of some problem, the response will have all id and corresponding error codes, but what can be response code of the api itself?will it be 200?</li>\n</ol>\n<p>I think there can be only 2 response status for this api(apart from auth/throttling etc.)?\n200,500</p>\n"},{"tags":["java","arrays","performance","numbers"],"comments":[{"owner":{"account_id":1266491,"reputation":58067,"user_id":1223693,"accept_rate":96,"display_name":"tckmn"},"score":1,"creation_date":1389019088,"post_id":20952230,"comment_id":31469478,"body_markdown":"Related: http://stackoverflow.com/q/1930454/1223693","body":"Related: <a href=\"http://stackoverflow.com/q/1930454/1223693\">stackoverflow.com/q/1930454/1223693</a>"},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1389022131,"post_id":20952230,"comment_id":31471259,"body_markdown":"As you&#39;re asking about performance.... 1. don&#39;t optimize if you don&#39;t have to. 2. Using a hand-crafted mutable 128-bit integer would be at least twice as fast, but more work and error-prone.","body":"As you&#39;re asking about performance.... 1. don&#39;t optimize if you don&#39;t have to. 2. Using a hand-crafted mutable 128-bit integer would be at least twice as fast, but more work and error-prone."}],"answers":[{"tags":[],"owner":{"account_id":3225359,"reputation":6722,"user_id":2721865,"accept_rate":100,"display_name":"kai"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1391338734,"creation_date":1389019080,"answer_id":20952292,"question_id":20952230,"body_markdown":"Yes it will help you. An `BigInteger` can be as big as you want. Till there is not enough RAM. \r\n\r\nWith `BigInteger bigInt = BigInteger.valueOf(long);` you can convert the `Long` to an `BigInteger`.\r\n\r\nAnd an `BigInteger` is immutable. So if you divide it like this `bigInt = bigInt.divide(BigInteger.valueOf(200));` You have to reassign it.\r\n\r\nA more precise option would be the method `BigInteger.divideAndRemainder()`.","title":"Calculate average of a huge long array","body":"<p>Yes it will help you. An <code>BigInteger</code> can be as big as you want. Till there is not enough RAM. </p>\n\n<p>With <code>BigInteger bigInt = BigInteger.valueOf(long);</code> you can convert the <code>Long</code> to an <code>BigInteger</code>.</p>\n\n<p>And an <code>BigInteger</code> is immutable. So if you divide it like this <code>bigInt = bigInt.divide(BigInteger.valueOf(200));</code> You have to reassign it.</p>\n\n<p>A more precise option would be the method <code>BigInteger.divideAndRemainder()</code>.</p>\n"},{"tags":[],"owner":{"account_id":56124,"reputation":7256,"user_id":2506382,"accept_rate":67,"display_name":"dcsohl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1389026308,"creation_date":1389019663,"answer_id":20952487,"question_id":20952230,"body_markdown":"Kai has a very good answer, but I&#39;ll just throw out there that if you know the exact number of values you are trying to average (and you do, since you said it was an array), then you can divide each value by N *before* adding them all up. Then you would never exceed the limit of `long`.\r\n\r\nExample: the limit of `long` is roughly 9.22e18, so let&#39;s do an average near that limit:\r\n\r\n\t\tlong[] arr = {Math.round(5e18), Math.round(9e18)};\r\n\t\tdouble avg = 0.0d;\r\n\t\tint size = arr.length;\r\n\t\tfor (int i = 0; i &lt; size; i++) {\r\n\t\t\tlong l = arr[i];\r\n\t\t\tdouble tmp = l/(double)size;\r\n\t\t\tavg += tmp;\r\n\t\t}\r\n\r\n(The `Math.round()` calls are needed since exponential notation numbers are doubles in Java.)\r\n","title":"Calculate average of a huge long array","body":"<p>Kai has a very good answer, but I'll just throw out there that if you know the exact number of values you are trying to average (and you do, since you said it was an array), then you can divide each value by N <em>before</em> adding them all up. Then you would never exceed the limit of <code>long</code>.</p>\n\n<p>Example: the limit of <code>long</code> is roughly 9.22e18, so let's do an average near that limit:</p>\n\n<pre><code>    long[] arr = {Math.round(5e18), Math.round(9e18)};\n    double avg = 0.0d;\n    int size = arr.length;\n    for (int i = 0; i &lt; size; i++) {\n        long l = arr[i];\n        double tmp = l/(double)size;\n        avg += tmp;\n    }\n</code></pre>\n\n<p>(The <code>Math.round()</code> calls are needed since exponential notation numbers are doubles in Java.)</p>\n"},{"tags":[],"owner":{"account_id":3816309,"reputation":9934,"user_id":3165602,"accept_rate":62,"display_name":"Oleg Sklyar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1389021360,"creation_date":1389021360,"answer_id":20953044,"question_id":20952230,"body_markdown":"* An average of a `long` is unlikely to be a `long`, so you need to decide for a type to keep your result. `BigDecimal` (not a `BigInteger` though) could be a good choice. You will probably need to define the accuracy of your result as well.\r\n* Use a smarter algorithm to compute averages on massive collections. I do not have a definitive choice for you, but you could try something like this:\r\n\r\n  1. initialise the value for your result as `BigDecimal` zero;\r\n  1. compute a sum of next `M` elements and divide it by `N` where `N` is the total number of elements and `M&lt;N`. The choice of `M` depends on the scale of your values and the accuracy your want to achive -- the larger the better, but think of your original problem;\r\n  1. add this value to the result and go back to step 2 until all elements are used up\r\n\r\n","title":"Calculate average of a huge long array","body":"<ul>\n<li>An average of a <code>long</code> is unlikely to be a <code>long</code>, so you need to decide for a type to keep your result. <code>BigDecimal</code> (not a <code>BigInteger</code> though) could be a good choice. You will probably need to define the accuracy of your result as well.</li>\n<li><p>Use a smarter algorithm to compute averages on massive collections. I do not have a definitive choice for you, but you could try something like this:</p>\n\n<ol>\n<li>initialise the value for your result as <code>BigDecimal</code> zero;</li>\n<li>compute a sum of next <code>M</code> elements and divide it by <code>N</code> where <code>N</code> is the total number of elements and <code>M&lt;N</code>. The choice of <code>M</code> depends on the scale of your values and the accuracy your want to achive -- the larger the better, but think of your original problem;</li>\n<li>add this value to the result and go back to step 2 until all elements are used up</li>\n</ol></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3059307,"reputation":2983,"user_id":2592326,"display_name":"Aman Agnihotri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1396142187,"creation_date":1396142187,"answer_id":22739141,"question_id":20952230,"body_markdown":"If you know that the sum of all the long values in your `array`/`list` will never exceed the `Long.MAX_VALUE` value, you can use the following to calculate the average:  \r\n\r\n    // For long type array\r\n    long[] array = ...;\r\n    double average = LongStream.of(array).average().getAsDouble();\r\n\r\n    // For long type list\r\n    List&lt;Long&gt; list = ...;\r\n    double average = list.stream().mapToLong(n -&gt; n).average().getAsDouble();\r\n\r\n\r\nBut if you&#39;re unsure about the sum of your list, and that it can even exceed the maximum limit that long primitive provides, then use the following method to calculate the average:\r\n\r\n    // For long type array\r\n    long[] array = ...;\r\n    BigInteger sum = LongStream.of(array).mapToObj(BigInteger::valueOf).reduce((x, y) -&gt; x.add(y)).get();\r\n    BigDecimal average = new BigDecimal(sum).divide(BigDecimal.valueOf(array.length));\r\n\r\n    // For long type list\r\n    List&lt;Long&gt; list = ...;\r\n    BigInteger sum = list.stream().map(BigInteger::valueOf).reduce((x, y) -&gt; x.add(y)).get();\r\n    BigDecimal average = new BigDecimal(sum).divide(BigDecimal.valueOf(list.size()));\r\n\r\nThis technique works from Java 8 and following imports are required:\r\n\r\n    import java.math.BigDecimal;\r\n    import java.math.BigInteger;\r\n    import java.util.stream.LongStream;","title":"Calculate average of a huge long array","body":"<p>If you know that the sum of all the long values in your <code>array</code>/<code>list</code> will never exceed the <code>Long.MAX_VALUE</code> value, you can use the following to calculate the average:  </p>\n\n<pre><code>// For long type array\nlong[] array = ...;\ndouble average = LongStream.of(array).average().getAsDouble();\n\n// For long type list\nList&lt;Long&gt; list = ...;\ndouble average = list.stream().mapToLong(n -&gt; n).average().getAsDouble();\n</code></pre>\n\n<p>But if you're unsure about the sum of your list, and that it can even exceed the maximum limit that long primitive provides, then use the following method to calculate the average:</p>\n\n<pre><code>// For long type array\nlong[] array = ...;\nBigInteger sum = LongStream.of(array).mapToObj(BigInteger::valueOf).reduce((x, y) -&gt; x.add(y)).get();\nBigDecimal average = new BigDecimal(sum).divide(BigDecimal.valueOf(array.length));\n\n// For long type list\nList&lt;Long&gt; list = ...;\nBigInteger sum = list.stream().map(BigInteger::valueOf).reduce((x, y) -&gt; x.add(y)).get();\nBigDecimal average = new BigDecimal(sum).divide(BigDecimal.valueOf(list.size()));\n</code></pre>\n\n<p>This technique works from Java 8 and following imports are required:</p>\n\n<pre><code>import java.math.BigDecimal;\nimport java.math.BigInteger;\nimport java.util.stream.LongStream;\n</code></pre>\n"}],"owner":{"account_id":2542717,"reputation":383,"user_id":2210921,"accept_rate":100,"display_name":"felixd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7295,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":20952292,"answer_count":4,"score":2,"last_activity_date":1646115540,"creation_date":1389018923,"question_id":20952230,"body_markdown":"I&#39;m trying to calculate the average of many (more than 200) `long` (primitive type) values stored in an array. Usually you add all the numbers and divide it by the number of the values. But this is not possible in this case since there is no primitive datatype in Java capable of holding such a large number, isn&#39;t it? Will `java.math.BigInteger` help here?","title":"Calculate average of a huge long array","body":"<p>I'm trying to calculate the average of many (more than 200) <code>long</code> (primitive type) values stored in an array. Usually you add all the numbers and divide it by the number of the values. But this is not possible in this case since there is no primitive datatype in Java capable of holding such a large number, isn't it? Will <code>java.math.BigInteger</code> help here?</p>\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":8468404,"reputation":2305,"user_id":6351897,"accept_rate":77,"display_name":"HelloWorld"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646115482,"creation_date":1646115482,"answer_id":71304450,"question_id":71267693,"body_markdown":"Not sure this could help since it sounds more like wizardry! I updated to Tika 2.3 (moved *tika-parser* dependency to *tika-parsers-standard-package*) and as I got &quot;package org.apache.tika.config does not exist&quot; (although it does), **I finally restarted Netbeans**, built the jar, launched it via `java`command and it is now working as expected. ","title":"JAI I/O Tools missing when launched with java whereas present when run with Maven","body":"<p>Not sure this could help since it sounds more like wizardry! I updated to Tika 2.3 (moved <em>tika-parser</em> dependency to <em>tika-parsers-standard-package</em>) and as I got &quot;package org.apache.tika.config does not exist&quot; (although it does), <strong>I finally restarted Netbeans</strong>, built the jar, launched it via <code>java</code>command and it is now working as expected.</p>\n"}],"owner":{"account_id":8468404,"reputation":2305,"user_id":6351897,"accept_rate":77,"display_name":"HelloWorld"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646115482,"creation_date":1645800979,"question_id":71267693,"body_markdown":"My java program involves PDFs. Some of them have JPEG2000 images embedded. So I added the following lines to my pom.xml :\r\n\r\n```xml\r\n    &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\r\n    &lt;version&gt;1.26&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tika-parsers&lt;/artifactId&gt;\r\n    &lt;version&gt;1.26&lt;/version&gt;         \r\n&lt;/dependency&gt;\r\n\r\n&lt;!--Please note the absence of jai imageio core \r\nto make the program work. It will be provided by tika parser --&gt;        \r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.jai-imageio&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jai-imageio-jpeg2000&lt;/artifactId&gt;\r\n    &lt;version&gt;1.4.0&lt;/version&gt;\r\n&lt;/dependency&gt;  \r\n    \r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jbig2-imageio&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n...\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n    &lt;version&gt;11.0.2&lt;/version&gt;\r\n    &lt;type&gt;jar&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n    &lt;version&gt;11.0.2&lt;/version&gt;\r\n    &lt;type&gt;jar&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n\r\n...\r\n\r\n&lt;build&gt;\r\n   &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n         &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n         &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n         &lt;version&gt;0.0.8&lt;/version&gt;\r\n         &lt;configuration&gt;\r\n            &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\r\n         &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n         &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n         &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n         &lt;version&gt;3.0.0&lt;/version&gt;\r\n         &lt;executions&gt;\r\n            &lt;execution&gt;\r\n               &lt;id&gt;enforce-maven&lt;/id&gt;\r\n               &lt;goals&gt;\r\n                  &lt;goal&gt;enforce&lt;/goal&gt;\r\n               &lt;/goals&gt;\r\n               &lt;configuration&gt;\r\n                  &lt;rules&gt;\r\n                     &lt;requireMavenVersion&gt;\r\n                        &lt;version&gt;3.3.9&lt;/version&gt;\r\n                     &lt;/requireMavenVersion&gt;\r\n                  &lt;/rules&gt;\r\n               &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n         &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n         &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n         &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n         &lt;version&gt;3.3.0&lt;/version&gt;\r\n         &lt;executions&gt;\r\n            &lt;execution&gt;\r\n               &lt;phase&gt;package&lt;/phase&gt;\r\n               &lt;goals&gt;\r\n                  &lt;goal&gt;single&lt;/goal&gt;\r\n               &lt;/goals&gt;\r\n               &lt;configuration&gt;\r\n                  &lt;archive&gt;\r\n                     &lt;manifest&gt;\r\n                        &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\r\n                     &lt;/manifest&gt;\r\n                  &lt;/archive&gt;\r\n                  &lt;descriptorRefs&gt;\r\n                     &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                  &lt;/descriptorRefs&gt;\r\n               &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n         &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n         &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n         &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n         &lt;version&gt;3.0.0&lt;/version&gt;\r\n         &lt;configuration&gt;\r\n            &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\r\n         &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n         &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n         &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n         &lt;version&gt;3.10.0&lt;/version&gt;\r\n         &lt;configuration&gt;\r\n            &lt;release&gt;11&lt;/release&gt;\r\n            &lt;source&gt;${javaVersion}&lt;/source&gt;\r\n            &lt;target&gt;${javaVersion}&lt;/target&gt;\r\n         &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n   &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nNow if I run the program (from the project directory) with Maven : `/pathTo/netbeans/java/maven/bin/mvn &quot;-Dexec.args=-classpath %classpath&quot; -DOMP_THREAD_LIMIT=1 -DskipTests=true exec:java` the JPEG2000 dependency is loaded and the program works as expected.\r\n\r\nHowever if I run the program (from the project directory) with Java : `java -Dprism.order=sw --module-path /home/user/pathTo/lib/javafx-sdk-11.0.2/lib  --add-modules ALL-MODULE-PATH -verbose:class -jar target/myBig-jar-with-dependencies.jar` I get &quot;org.apache.pdfbox.filter.MissingImageReaderException: Cannot read JPEG2000 image: Java Advanced Imaging (JAI) Image I/O Tools are not installed&quot; although JAI and JPEG2000 do appear in loaded classes (see `-verbose:class`) :\r\n\r\n&gt; [7,434s][info][class,load] com.github.jaiimageio.jpeg2000.impl.J2KImageReader source: file://path/to/project/target/myJar_with_dependencies.jar [7,434s][info][class,load] javax.imageio.ImageReadParam source: jrt:/java.desktop [7,435s][info][class,load] com.github.jaiimageio.jpeg2000.J2KImageReadParam source: file://path/to/project/target/myJar_with_dependencies.jar [7,435s][info][class,load] com.github.jaiimageio.jpeg2000.impl.J2KImageReadParamJava source: file://path/to/project/target/myJar_with_dependencies.jar [7,435s][info][class,load] com.github.jaiimageio.jpeg2000.impl.J2KMetadata source: file://path/to/project/target/myJar_with_dependencies.jar\r\n\r\nTo make the program work as expected with `java` I have to put the JPEG2000 jar in the lib path provided to the `--module-path` argument. But I&#39;d rather only have clear dependencies in pom.xml to ease maintain the code in the future, instead of having also dependencies in the JavaFX lib folder in user directory.\r\n\r\nSo my question is what is the equivalent java command to the maven command shown above ?\r\n\r\nAny help appreciated","title":"JAI I/O Tools missing when launched with java whereas present when run with Maven","body":"<p>My java program involves PDFs. Some of them have JPEG2000 images embedded. So I added the following lines to my pom.xml :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n    &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\n    &lt;version&gt;1.26&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n    &lt;artifactId&gt;tika-parsers&lt;/artifactId&gt;\n    &lt;version&gt;1.26&lt;/version&gt;         \n&lt;/dependency&gt;\n\n&lt;!--Please note the absence of jai imageio core \nto make the program work. It will be provided by tika parser --&gt;        \n&lt;dependency&gt;\n    &lt;groupId&gt;com.github.jai-imageio&lt;/groupId&gt;\n    &lt;artifactId&gt;jai-imageio-jpeg2000&lt;/artifactId&gt;\n    &lt;version&gt;1.4.0&lt;/version&gt;\n&lt;/dependency&gt;  \n    \n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n    &lt;artifactId&gt;jbig2-imageio&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n...\n&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n    &lt;version&gt;11.0.2&lt;/version&gt;\n    &lt;type&gt;jar&lt;/type&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n    &lt;version&gt;11.0.2&lt;/version&gt;\n    &lt;type&gt;jar&lt;/type&gt;\n&lt;/dependency&gt;\n\n...\n\n&lt;build&gt;\n   &lt;plugins&gt;\n      &lt;plugin&gt;\n         &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n         &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n         &lt;version&gt;0.0.8&lt;/version&gt;\n         &lt;configuration&gt;\n            &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\n         &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n         &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n         &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n         &lt;version&gt;3.0.0&lt;/version&gt;\n         &lt;executions&gt;\n            &lt;execution&gt;\n               &lt;id&gt;enforce-maven&lt;/id&gt;\n               &lt;goals&gt;\n                  &lt;goal&gt;enforce&lt;/goal&gt;\n               &lt;/goals&gt;\n               &lt;configuration&gt;\n                  &lt;rules&gt;\n                     &lt;requireMavenVersion&gt;\n                        &lt;version&gt;3.3.9&lt;/version&gt;\n                     &lt;/requireMavenVersion&gt;\n                  &lt;/rules&gt;\n               &lt;/configuration&gt;\n            &lt;/execution&gt;\n         &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n         &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n         &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n         &lt;version&gt;3.3.0&lt;/version&gt;\n         &lt;executions&gt;\n            &lt;execution&gt;\n               &lt;phase&gt;package&lt;/phase&gt;\n               &lt;goals&gt;\n                  &lt;goal&gt;single&lt;/goal&gt;\n               &lt;/goals&gt;\n               &lt;configuration&gt;\n                  &lt;archive&gt;\n                     &lt;manifest&gt;\n                        &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\n                     &lt;/manifest&gt;\n                  &lt;/archive&gt;\n                  &lt;descriptorRefs&gt;\n                     &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                  &lt;/descriptorRefs&gt;\n               &lt;/configuration&gt;\n            &lt;/execution&gt;\n         &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n         &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n         &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n         &lt;version&gt;3.0.0&lt;/version&gt;\n         &lt;configuration&gt;\n            &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\n         &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n         &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n         &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n         &lt;version&gt;3.10.0&lt;/version&gt;\n         &lt;configuration&gt;\n            &lt;release&gt;11&lt;/release&gt;\n            &lt;source&gt;${javaVersion}&lt;/source&gt;\n            &lt;target&gt;${javaVersion}&lt;/target&gt;\n         &lt;/configuration&gt;\n      &lt;/plugin&gt;\n   &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Now if I run the program (from the project directory) with Maven : <code>/pathTo/netbeans/java/maven/bin/mvn &quot;-Dexec.args=-classpath %classpath&quot; -DOMP_THREAD_LIMIT=1 -DskipTests=true exec:java</code> the JPEG2000 dependency is loaded and the program works as expected.</p>\n<p>However if I run the program (from the project directory) with Java : <code>java -Dprism.order=sw --module-path /home/user/pathTo/lib/javafx-sdk-11.0.2/lib  --add-modules ALL-MODULE-PATH -verbose:class -jar target/myBig-jar-with-dependencies.jar</code> I get &quot;org.apache.pdfbox.filter.MissingImageReaderException: Cannot read JPEG2000 image: Java Advanced Imaging (JAI) Image I/O Tools are not installed&quot; although JAI and JPEG2000 do appear in loaded classes (see <code>-verbose:class</code>) :</p>\n<blockquote>\n<p>[7,434s][info][class,load] com.github.jaiimageio.jpeg2000.impl.J2KImageReader source: file://path/to/project/target/myJar_with_dependencies.jar [7,434s][info][class,load] javax.imageio.ImageReadParam source: jrt:/java.desktop [7,435s][info][class,load] com.github.jaiimageio.jpeg2000.J2KImageReadParam source: file://path/to/project/target/myJar_with_dependencies.jar [7,435s][info][class,load] com.github.jaiimageio.jpeg2000.impl.J2KImageReadParamJava source: file://path/to/project/target/myJar_with_dependencies.jar [7,435s][info][class,load] com.github.jaiimageio.jpeg2000.impl.J2KMetadata source: file://path/to/project/target/myJar_with_dependencies.jar</p>\n</blockquote>\n<p>To make the program work as expected with <code>java</code> I have to put the JPEG2000 jar in the lib path provided to the <code>--module-path</code> argument. But I'd rather only have clear dependencies in pom.xml to ease maintain the code in the future, instead of having also dependencies in the JavaFX lib folder in user directory.</p>\n<p>So my question is what is the equivalent java command to the maven command shown above ?</p>\n<p>Any help appreciated</p>\n"},{"tags":["java","xml","dbunit"],"answers":[{"tags":[],"owner":{"account_id":321113,"reputation":956,"user_id":2848514,"display_name":"Jeff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525870832,"creation_date":1525870832,"answer_id":50254065,"question_id":50247325,"body_markdown":"Configure the schema name so dbUnit knows which to use. See [Why am I getting an &quot;AmbiguousTableNameException&quot;?][1]\r\n\r\n  [1]: http://dbunit.sourceforge.net/faq.html#AmbiguousTableNameException","title":"org.dbunit.database.AmbiguousTableNameException","body":"<p>Configure the schema name so dbUnit knows which to use. See <a href=\"http://dbunit.sourceforge.net/faq.html#AmbiguousTableNameException\" rel=\"nofollow noreferrer\">Why am I getting an \"AmbiguousTableNameException\"?</a></p>\n"},{"tags":[],"owner":{"account_id":13423613,"reputation":31,"user_id":9685666,"display_name":"Teja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1526548976,"creation_date":1526548976,"answer_id":50387844,"question_id":50247325,"body_markdown":"I resolved this issue. I&#39;ll tell you how. In dataset for repeating tags I just added random numbers e.g. in my above XML employee is repeating tag hence I added employee_123 for the first instance in dataset for next instance I added employee_098 this is how I manage to get rid of AmbigiousTableNameException. Later I used RegEx to remove the &quot;_[randomNumber]&quot; appended to employee tag. The code is running successful.","title":"org.dbunit.database.AmbiguousTableNameException","body":"<p>I resolved this issue. I'll tell you how. In dataset for repeating tags I just added random numbers e.g. in my above XML employee is repeating tag hence I added employee_123 for the first instance in dataset for next instance I added employee_098 this is how I manage to get rid of AmbigiousTableNameException. Later I used RegEx to remove the \"_[randomNumber]\" appended to employee tag. The code is running successful.</p>\n"},{"tags":[],"owner":{"account_id":16320561,"reputation":91,"user_id":11786463,"display_name":"Volodymyr Taras"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646114673,"creation_date":1646114673,"answer_id":71304350,"question_id":50247325,"body_markdown":"@DBUnit(qualifiedTableNames = true)\r\n\r\nthis setting helped me","title":"org.dbunit.database.AmbiguousTableNameException","body":"<p>@DBUnit(qualifiedTableNames = true)</p>\n<p>this setting helped me</p>\n"}],"owner":{"account_id":13423613,"reputation":31,"user_id":9685666,"display_name":"Teja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1336,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":50387844,"answer_count":3,"score":1,"last_activity_date":1646114673,"creation_date":1525849313,"question_id":50247325,"body_markdown":"    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;\r\n        &lt;employee name = &quot;abc&quot; empId = &quot;100&quot; location = &quot;goa&quot; dept = &quot;IT&quot; /&gt;\r\n            &lt;facilities transport=&quot;Y&quot; mealcard = &quot;&quot; driver = &quot;Y&quot;/&gt;\r\n            &lt;reportees manager = &quot;XXX&quot; lead = &quot;XXX&quot; VP = &quot;XXX&quot;/&gt;\r\n        &lt;employee name = &quot;XYZ&quot; empId = &quot;101&quot; location = &quot;mombai&quot; dept = &quot;IT&quot; /&gt;\r\n            &lt;facilities transport=&quot;Y&quot; mealcard = &quot;&quot; driver = &quot;Y&quot;/&gt;\r\n            &lt;reportees manager = &quot;XXX&quot; lead = &quot;XXX&quot; VP = &quot;XXX&quot;/&gt;\r\n        &lt;employee name = &quot;PQA&quot; empId = &quot;102&quot; location = &quot;delhi&quot; dept = &quot;IT&quot; /&gt;\r\n            &lt;facilities transport=&quot;Y&quot; mealcard = &quot;&quot; driver = &quot;Y&quot;/&gt;\r\n            &lt;reportees manager = &quot;XXX&quot; lead = &quot;XXX&quot; VP = &quot;XXX&quot;/&gt;\r\n\r\nabove is my XML. I&#39;ve to validate the same. I&#39;m using DBUnit to compare the same XML with other XML (other XML has the same content but generated from different source). While creating dataset I&#39;m getting &quot;org.dbunit.database.AmbiguousTableNameException&quot;.\r\n\r\nI&#39;ve SQL query for every XML tag. E.g. For employee tag I&#39;m querying on empID. for facilities I&#39;m querying on mealCard etc etc. I&#39;m looping through the XML tags. first iteration goes fine without error. I&#39;m using QueryDataSet.addTable(table_name ,query) to add tables i.e xml tags. But when next iteration comes and I&#39;m trying to add employee tag again I&#39;m getting the above stated error.","title":"org.dbunit.database.AmbiguousTableNameException","body":"<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\" ?&gt;\n    &lt;employee name = \"abc\" empId = \"100\" location = \"goa\" dept = \"IT\" /&gt;\n        &lt;facilities transport=\"Y\" mealcard = \"\" driver = \"Y\"/&gt;\n        &lt;reportees manager = \"XXX\" lead = \"XXX\" VP = \"XXX\"/&gt;\n    &lt;employee name = \"XYZ\" empId = \"101\" location = \"mombai\" dept = \"IT\" /&gt;\n        &lt;facilities transport=\"Y\" mealcard = \"\" driver = \"Y\"/&gt;\n        &lt;reportees manager = \"XXX\" lead = \"XXX\" VP = \"XXX\"/&gt;\n    &lt;employee name = \"PQA\" empId = \"102\" location = \"delhi\" dept = \"IT\" /&gt;\n        &lt;facilities transport=\"Y\" mealcard = \"\" driver = \"Y\"/&gt;\n        &lt;reportees manager = \"XXX\" lead = \"XXX\" VP = \"XXX\"/&gt;\n</code></pre>\n\n<p>above is my XML. I've to validate the same. I'm using DBUnit to compare the same XML with other XML (other XML has the same content but generated from different source). While creating dataset I'm getting \"org.dbunit.database.AmbiguousTableNameException\".</p>\n\n<p>I've SQL query for every XML tag. E.g. For employee tag I'm querying on empID. for facilities I'm querying on mealCard etc etc. I'm looping through the XML tags. first iteration goes fine without error. I'm using QueryDataSet.addTable(table_name ,query) to add tables i.e xml tags. But when next iteration comes and I'm trying to add employee tag again I'm getting the above stated error.</p>\n"},{"tags":["java","google-chrome","jmeter"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646114148,"creation_date":1646114148,"answer_id":71304285,"question_id":71302700,"body_markdown":"Your &quot;plugin&quot; depends on [selenium-java 3.5.3][1], you need to make sure that exactly this library is present in the [Classpath][2] of the JMeter where you&#39;re running this plugin. \r\n\r\nIn case of inconsistencies between your plugin compiled code and the API available in JMeter Classpath you will get the errors like you&#39;ve reported. \r\n\r\nSo either build everything into an [&quot;uber jar&quot;][3] including your plugin code and dependencies or make sure to supply the exact dependencies to your JMeter installation. \r\n\r\nBy the way, are you aware of [JMeter WebDriver Sampler plugin][4]? \r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java/3.5.3\r\n  [2]: https://jmeter.apache.org/usermanual/get-started.html\r\n  [3]: https://jenkov.com/tutorials/maven/maven-build-fat-jar.html\r\n  [4]: https://www.blazemeter.com/blog/mixing-selenium-into-your-load-scenario","title":"My plugin in jmeter throws java.lang.NoSuchMethodError: org.openqa.selenium.chrome.ChromeOptions.setBinary","body":"<p>Your &quot;plugin&quot; depends on <a href=\"https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java/3.5.3\" rel=\"nofollow noreferrer\">selenium-java 3.5.3</a>, you need to make sure that exactly this library is present in the <a href=\"https://jmeter.apache.org/usermanual/get-started.html\" rel=\"nofollow noreferrer\">Classpath</a> of the JMeter where you're running this plugin.</p>\n<p>In case of inconsistencies between your plugin compiled code and the API available in JMeter Classpath you will get the errors like you've reported.</p>\n<p>So either build everything into an <a href=\"https://jenkov.com/tutorials/maven/maven-build-fat-jar.html\" rel=\"nofollow noreferrer\">&quot;uber jar&quot;</a> including your plugin code and dependencies or make sure to supply the exact dependencies to your JMeter installation.</p>\n<p>By the way, are you aware of <a href=\"https://www.blazemeter.com/blog/mixing-selenium-into-your-load-scenario\" rel=\"nofollow noreferrer\">JMeter WebDriver Sampler plugin</a>?</p>\n"}],"owner":{"account_id":174361,"reputation":496,"user_id":403675,"accept_rate":62,"display_name":"Petr Kostroun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71304285,"answer_count":1,"score":0,"last_activity_date":1646114148,"creation_date":1646096889,"question_id":71302700,"body_markdown":"I have plugin in JMeter, which throws java.lang.NoSuchMethodError: org.openqa.selenium.chrome.ChromeOptions.setBinary when I want to run plugin. Im pretty sure, that ChromeOptions.set binary method is on my classpath, maybe some library discrepancy.\r\nMy build.xml :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.dhl.dataplugin&lt;/groupId&gt;\r\n        &lt;artifactId&gt;dataplugin&lt;/artifactId&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n    \r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.jmeter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ApacheJMeter_core&lt;/artifactId&gt;\r\n                &lt;version&gt;5.0&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.7.26&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n                &lt;version&gt;3.5.3&lt;/version&gt;\r\n               &lt;!-- &lt;version&gt;4.1.2&lt;/version&gt; --&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.17&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n                &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\r\n                &lt;version&gt;1.28.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                &lt;version&gt;30.0-jre&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nMy code:\r\n\r\n      public boolean upload(String url, String username, String password, String templateVersion, String filePath, String pathToDriver, String pathToChromeBinaries, String pathToChromeDriverLog) {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, pathToDriver);\r\n            System.setProperty(&quot;webdriver.chrome.logfile&quot;, pathToChromeDriverLog);\r\n    \r\n            ChromeOptions chromeOptions = new ChromeOptions();\r\n            chromeOptions.setBinary(pathToChromeBinaries);\r\n            chromeOptions.addArguments( &quot;--headless&quot;);\r\n    \r\n            WebDriver driver = new ChromeDriver(chromeOptions);\r\n    \r\n            driver.navigate().to(url);\r\n    \r\n            System.out.println(driver.getCurrentUrl());\r\n    \r\n            WebElement userTextField = driver.findElement(By.id(&quot;username&quot;));\r\n            userTextField.sendKeys(username);\r\n    \r\n            WebElement passwordTextField = driver.findElement(By.id(&quot;password&quot;));\r\n            passwordTextField.sendKeys(password);\r\n    \r\n            WebElement okButton = driver.findElement(By.id(&quot;OKButton&quot;));\r\n            okButton.click();\r\n    \r\n            WebElement crdbTab = driver.findElement(By.linkText(&quot;CRDB&quot;));\r\n            crdbTab.click();\r\n    \r\n    \r\n            (new WebDriverWait(driver, 5)).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(&quot;iframe_app4&quot;));\r\n    \r\n            WebElement uploadTab = driver.findElement(By.linkText(&quot;Upload&quot;));\r\n            uploadTab.click();\r\n    \r\n            System.out.println(driver.getCurrentUrl());\r\n            WebElement fileUploadButton = driver.findElement(By.id(&quot;id5f&quot;));\r\n            fileUploadButton.sendKeys(filePath);\r\n    \r\n            driver.findElement(By.id(&quot;idb&quot;)).click();\r\n    \r\n            WebDriverWait wait = new WebDriverWait(driver, 30);\r\n    \r\n            Select headerDataSelect = new Select(wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;id104&quot;))));\r\n    \r\n            headerDataSelect.selectByIndex(1);\r\n    \r\n            Select fclHorizontal = new Select(wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;id110&quot;))));\r\n            fclHorizontal.selectByIndex(1);\r\n    \r\n            Select lcl = new Select(wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;id112&quot;))));\r\n            lcl.selectByIndex(1);\r\n    \r\n            Select templateVersionSelect = new Select(wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;id125&quot;))));\r\n            templateVersionSelect.selectByVisibleText(templateVersion);\r\n    \r\n            driver.findElement(By.id(&quot;idb&quot;)).click();\r\n    \r\n            WebElement statusMessage = new WebDriverWait(driver, 600).until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//*[contains(text(), &#39;File was successfully uploaded and parsed&#39;) or contains(text(), &#39;Please see \\&quot;Load Errors\\&quot; sheet for information&#39;)]&quot;)));\r\n    \r\n            String statusMessageText = statusMessage.getAttribute(&quot;innerText&quot;);\r\n            if (statusMessageText.contains(&quot;successfully&quot;)) {\r\n                driver.close();\r\n                return true;\r\n            } else {\r\n                driver.close();\r\n                return false;\r\n            }\r\n        }\r\n\r\nCan someone give me a point how to solve this issue? Thank you\r\n","title":"My plugin in jmeter throws java.lang.NoSuchMethodError: org.openqa.selenium.chrome.ChromeOptions.setBinary","body":"<p>I have plugin in JMeter, which throws java.lang.NoSuchMethodError: org.openqa.selenium.chrome.ChromeOptions.setBinary when I want to run plugin. Im pretty sure, that ChromeOptions.set binary method is on my classpath, maybe some library discrepancy.\nMy build.xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.dhl.dataplugin&lt;/groupId&gt;\n    &lt;artifactId&gt;dataplugin&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.jmeter&lt;/groupId&gt;\n            &lt;artifactId&gt;ApacheJMeter_core&lt;/artifactId&gt;\n            &lt;version&gt;5.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.26&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;3.5.3&lt;/version&gt;\n           &lt;!-- &lt;version&gt;4.1.2&lt;/version&gt; --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\n            &lt;version&gt;1.28.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;30.0-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>My code:</p>\n<pre><code>  public boolean upload(String url, String username, String password, String templateVersion, String filePath, String pathToDriver, String pathToChromeBinaries, String pathToChromeDriverLog) {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, pathToDriver);\n        System.setProperty(&quot;webdriver.chrome.logfile&quot;, pathToChromeDriverLog);\n\n        ChromeOptions chromeOptions = new ChromeOptions();\n        chromeOptions.setBinary(pathToChromeBinaries);\n        chromeOptions.addArguments( &quot;--headless&quot;);\n\n        WebDriver driver = new ChromeDriver(chromeOptions);\n\n        driver.navigate().to(url);\n\n        System.out.println(driver.getCurrentUrl());\n\n        WebElement userTextField = driver.findElement(By.id(&quot;username&quot;));\n        userTextField.sendKeys(username);\n\n        WebElement passwordTextField = driver.findElement(By.id(&quot;password&quot;));\n        passwordTextField.sendKeys(password);\n\n        WebElement okButton = driver.findElement(By.id(&quot;OKButton&quot;));\n        okButton.click();\n\n        WebElement crdbTab = driver.findElement(By.linkText(&quot;CRDB&quot;));\n        crdbTab.click();\n\n\n        (new WebDriverWait(driver, 5)).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(&quot;iframe_app4&quot;));\n\n        WebElement uploadTab = driver.findElement(By.linkText(&quot;Upload&quot;));\n        uploadTab.click();\n\n        System.out.println(driver.getCurrentUrl());\n        WebElement fileUploadButton = driver.findElement(By.id(&quot;id5f&quot;));\n        fileUploadButton.sendKeys(filePath);\n\n        driver.findElement(By.id(&quot;idb&quot;)).click();\n\n        WebDriverWait wait = new WebDriverWait(driver, 30);\n\n        Select headerDataSelect = new Select(wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;id104&quot;))));\n\n        headerDataSelect.selectByIndex(1);\n\n        Select fclHorizontal = new Select(wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;id110&quot;))));\n        fclHorizontal.selectByIndex(1);\n\n        Select lcl = new Select(wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;id112&quot;))));\n        lcl.selectByIndex(1);\n\n        Select templateVersionSelect = new Select(wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;id125&quot;))));\n        templateVersionSelect.selectByVisibleText(templateVersion);\n\n        driver.findElement(By.id(&quot;idb&quot;)).click();\n\n        WebElement statusMessage = new WebDriverWait(driver, 600).until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//*[contains(text(), 'File was successfully uploaded and parsed') or contains(text(), 'Please see \\&quot;Load Errors\\&quot; sheet for information')]&quot;)));\n\n        String statusMessageText = statusMessage.getAttribute(&quot;innerText&quot;);\n        if (statusMessageText.contains(&quot;successfully&quot;)) {\n            driver.close();\n            return true;\n        } else {\n            driver.close();\n            return false;\n        }\n    }\n</code></pre>\n<p>Can someone give me a point how to solve this issue? Thank you</p>\n"},{"tags":["java","ios","flutter","kotlin","native"],"answers":[{"tags":[],"owner":{"account_id":8048251,"reputation":2035,"user_id":6067774,"display_name":"Md. Kamrul Amin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646112667,"creation_date":1646112667,"answer_id":71304119,"question_id":71304085,"body_markdown":"Just use the following package [Flutter Incoming Call][1]. I&#39;ve used it and it works great.\r\n\r\n\r\n  [1]: https://pub.dev/packages/flutter_incoming_call","title":"How can we implement incoming UI call screen in java just like in flutter we do with flutter callkit incoming package?","body":"<p>Just use the following package <a href=\"https://pub.dev/packages/flutter_incoming_call\" rel=\"nofollow noreferrer\">Flutter Incoming Call</a>. I've used it and it works great.</p>\n"}],"owner":{"account_id":24319271,"reputation":21,"user_id":18259942,"display_name":"Shankar Upadhyay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1646113310,"answer_count":1,"score":0,"last_activity_date":1646114127,"creation_date":1646112389,"question_id":71304085,"body_markdown":"I want to show the incoming call UI screen like this https://cdn.dribbble.com/users/1191071/screenshots/9095799/01_incoming_call_whitebg.png?compress=1&amp;resize=400x300 . How can I achieve this in java? Please help.. Is there any prebuilt java or kotlin package to show like this. Because flutter already has one package to show like this.","title":"How can we implement incoming UI call screen in java just like in flutter we do with flutter callkit incoming package?","body":"<p>I want to show the incoming call UI screen like this <a href=\"https://cdn.dribbble.com/users/1191071/screenshots/9095799/01_incoming_call_whitebg.png?compress=1&amp;resize=400x300\" rel=\"nofollow noreferrer\">https://cdn.dribbble.com/users/1191071/screenshots/9095799/01_incoming_call_whitebg.png?compress=1&amp;resize=400x300</a> . How can I achieve this in java? Please help.. Is there any prebuilt java or kotlin package to show like this. Because flutter already has one package to show like this.</p>\n"},{"tags":["java","menu","invalidation"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1646109570,"post_id":71303696,"comment_id":126037107,"body_markdown":"Please provide a runnable program which shows what you want to do.","body":"Please provide a runnable program which shows what you want to do."},{"owner":{"account_id":23115210,"reputation":9,"user_id":17222586,"display_name":"Simon Suarez"},"score":0,"creation_date":1646110073,"post_id":71303696,"comment_id":126037197,"body_markdown":"@tgdavies Of course, sorry for the inconvenience. That&#39;s OK?","body":"@tgdavies Of course, sorry for the inconvenience. That&#39;s OK?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1646110090,"post_id":71303696,"comment_id":126037202,"body_markdown":"What does `if (option==char) {` mean?","body":"What does <code>if (option==char) {</code> mean?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1646110295,"post_id":71303696,"comment_id":126037239,"body_markdown":"Note your `case 3` and `default` cases are essentially the same (ignoring the `if (option==char)` bit, as I don&#39;t understand what you&#39;re trying to do there), so you can simply get rid of the `case 3` case. And if you want the menu to be shown again, then you should use a loop (e.g., `while` loop). Break out of the loop (either via its condition or via a `break` statement) when appropriate.","body":"Note your <code>case 3</code> and <code>default</code> cases are essentially the same (ignoring the <code>if (option==char)</code> bit, as I don&#39;t understand what you&#39;re trying to do there), so you can simply get rid of the <code>case 3</code> case. And if you want the menu to be shown again, then you should use a loop (e.g., <code>while</code> loop). Break out of the loop (either via its condition or via a <code>break</code> statement) when appropriate."},{"owner":{"account_id":23115210,"reputation":9,"user_id":17222586,"display_name":"Simon Suarez"},"score":0,"creation_date":1646110316,"post_id":71303696,"comment_id":126037246,"body_markdown":"@tgdavies Oops, I wanted to use &quot;op&quot;. Anyway, for atleast it was to declare that if &quot;op&quot; is a char input then print the warning.","body":"@tgdavies Oops, I wanted to use &quot;op&quot;. Anyway, for atleast it was to declare that if &quot;op&quot; is a char input then print the warning."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1646110406,"post_id":71303696,"comment_id":126037256,"body_markdown":"If the user enters a non-integer, then the call to `scanner.nextInt()` will throw an exception. You can either handle that exception or you could deal in strings directly.","body":"If the user enters a non-integer, then the call to <code>scanner.nextInt()</code> will throw an exception. You can either handle that exception or you could deal in strings directly."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1646110470,"post_id":71303696,"comment_id":126037266,"body_markdown":"Careful if you decide to handle the exception: https://stackoverflow.com/questions/24414299/java-scanner-exception-handling","body":"Careful if you decide to handle the exception: <a href=\"https://stackoverflow.com/questions/24414299/java-scanner-exception-handling\" title=\"java scanner exception handling\">stackoverflow.com/questions/24414299/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24284075,"reputation":140,"user_id":18230081,"display_name":"frielmv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646114100,"creation_date":1646111658,"answer_id":71304020,"question_id":71303696,"body_markdown":"You could try doing something like this:\r\n```\r\nimport java.util.Scanner;\r\npublic class selectMenu\r\n{\r\n\tpublic static void main(String[] args)\r\n\t{ \r\n\t\tScanner in = new Scanner(System.in);\r\n\r\n\t\tmenu: while(true)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;select your option:&quot;);\r\n   \t\t\tSystem.out.println(&quot;1) showing today menu&quot;);\r\n    \t\tSystem.out.println(&quot;2) showing tomorrow menu&quot;);\r\n\t\t\tString op = in.nextLine();\r\n\r\n\t    \tswitch(op)\r\n\t\t\t{\r\n\t      \t\tcase &quot;1&quot;:\r\n\t\t\t\t\t\tSystem.out.println(&quot;TODAY MENU&quot;);\r\n\t\t\t\t\t\tbreak menu;\r\n\t\r\n\t    \t\tcase &quot;2&quot;:\r\n\t\t\t\t\t\tSystem.out.println(&quot;TOMORROW MENU&quot;);\r\n\t\t\t\t\t\tbreak menu;\r\n\t\r\n\t      \t\tdefault:\r\n\t\t\t\t\t\ttry\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tInteger.parseInt(op);\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;You typed an int but it isn&#39;t 1 or 2&quot;);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcatch(NumberFormatException e)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif(op.length() &gt; 1) System.out.println(&quot;You typed a String&quot;);\r\n\t\t\t\t\t\t\telse System.out.println(&quot;You typed a char&quot;);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nIt takes the next line rather than nextInt() (which will throw an exception if it&#39;s not a number), checks if the answer is `&quot;1&quot;` or `&quot;2&quot;`, then checks if it&#39;s a valid `int` (&quot;3&quot;, &quot;4&quot;, etc). If not, it checks the length, and tells you it&#39;s a `char` if the length is 1, otherwise a `String`.\r\n\r\nIf you don&#39;t care about what the user actually entered (`char`, `String`, etc), just that they didn&#39;t type an int, you could move the `try`-`catch` around the scanner input:\r\n```\r\nimport java.util.Scanner;\r\npublic class selectMenu\r\n{\r\n\tpublic static void main(String[] args)\r\n\t{ \r\n\t\tScanner in = new Scanner(System.in);\r\n\r\n\t\tmenu: while(true)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;select your option:&quot;);\r\n   \t\tSystem.out.println(&quot;1) showing today menu&quot;);\r\n    \tSystem.out.println(&quot;2) showing tomorrow menu&quot;);\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tint op = in.nextInt();\r\n\t\r\n\t\t    switch(op)\r\n\t\t\t\t{\r\n\t\t      case 1:\r\n\t\t\t\t\t\tSystem.out.println(&quot;TODAY MENU&quot;);\r\n\t\t\t\t\t\tbreak menu;\r\n\t\t\r\n\t\t    \tcase 2:\r\n\t\t\t\t\t\tSystem.out.println(&quot;TOMORROW MENU&quot;);\r\n\t\t\t\t\t\tbreak menu;\r\n\t\t\r\n\t\t      default:\r\n\t\t\t\t\t\tSystem.out.println(&quot;int input, but not 1 or 2&quot;);\r\n\t\t  \t}\r\n\t\t\t}\r\n\t\t\tcatch(java.util.InputMismatchException e)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;non-int input&quot;);\r\n\t\t\t}\r\n\t\t\tin.nextLine();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nSorry if the indenting is a bit off, I don&#39;t know why that was happening.","title":"How do I invalidate a char input in Java?","body":"<p>You could try doing something like this:</p>\n<pre><code>import java.util.Scanner;\npublic class selectMenu\n{\n    public static void main(String[] args)\n    { \n        Scanner in = new Scanner(System.in);\n\n        menu: while(true)\n        {\n            System.out.println(&quot;select your option:&quot;);\n            System.out.println(&quot;1) showing today menu&quot;);\n            System.out.println(&quot;2) showing tomorrow menu&quot;);\n            String op = in.nextLine();\n\n            switch(op)\n            {\n                case &quot;1&quot;:\n                        System.out.println(&quot;TODAY MENU&quot;);\n                        break menu;\n    \n                case &quot;2&quot;:\n                        System.out.println(&quot;TOMORROW MENU&quot;);\n                        break menu;\n    \n                default:\n                        try\n                        {\n                            Integer.parseInt(op);\n                            System.out.println(&quot;You typed an int but it isn't 1 or 2&quot;);\n                        }\n                        catch(NumberFormatException e)\n                        {\n                            if(op.length() &gt; 1) System.out.println(&quot;You typed a String&quot;);\n                            else System.out.println(&quot;You typed a char&quot;);\n                        }\n                        break;\n            }\n        }\n    }\n}\n</code></pre>\n<p>It takes the next line rather than nextInt() (which will throw an exception if it's not a number), checks if the answer is <code>&quot;1&quot;</code> or <code>&quot;2&quot;</code>, then checks if it's a valid <code>int</code> (&quot;3&quot;, &quot;4&quot;, etc). If not, it checks the length, and tells you it's a <code>char</code> if the length is 1, otherwise a <code>String</code>.</p>\n<p>If you don't care about what the user actually entered (<code>char</code>, <code>String</code>, etc), just that they didn't type an int, you could move the <code>try</code>-<code>catch</code> around the scanner input:</p>\n<pre><code>import java.util.Scanner;\npublic class selectMenu\n{\n    public static void main(String[] args)\n    { \n        Scanner in = new Scanner(System.in);\n\n        menu: while(true)\n        {\n            System.out.println(&quot;select your option:&quot;);\n        System.out.println(&quot;1) showing today menu&quot;);\n        System.out.println(&quot;2) showing tomorrow menu&quot;);\n            try\n            {\n                int op = in.nextInt();\n    \n            switch(op)\n                {\n              case 1:\n                        System.out.println(&quot;TODAY MENU&quot;);\n                        break menu;\n        \n                case 2:\n                        System.out.println(&quot;TOMORROW MENU&quot;);\n                        break menu;\n        \n              default:\n                        System.out.println(&quot;int input, but not 1 or 2&quot;);\n            }\n            }\n            catch(java.util.InputMismatchException e)\n            {\n                System.out.println(&quot;non-int input&quot;);\n            }\n            in.nextLine();\n        }\n    }\n}\n</code></pre>\n<p>Sorry if the indenting is a bit off, I don't know why that was happening.</p>\n"}],"owner":{"account_id":23115210,"reputation":9,"user_id":17222586,"display_name":"Simon Suarez"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71304020,"answer_count":1,"score":0,"last_activity_date":1646114100,"creation_date":1646108543,"question_id":71303696,"body_markdown":"This is extremely simple, but I am new to the Java programming language and some guidance would be helpful. I am making a menu where the options are listed. However, I would love for the user to type a character as an option to get a text like the one here and return the user to the selection again.\r\n\r\nI present errors by confusing the case with the default. \r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class selectMenu {\r\n\r\n    public static void main(String[] args) { \r\n        System.out.println(&quot;select your option:&quot;);\r\n        System.out.println(&quot;1) showing today menu&quot;);\r\n        System.out.println(&quot;2) showing tomorrow menu&quot;);\r\n        \r\n        int op = scanner.nextInt();\r\n        \r\n        switch(op) {\r\n            \r\n            case 1 -&gt; System.out.println(&quot;TODAY MENU&quot;);\r\n            \r\n            case 2 -&gt; System.out.println(&quot;TOMORROW MENU&quot;);\r\n            \r\n            case 3 -&gt;\r\n                if (option==char) {\r\n                    System.out.println(&quot;This is an invalid option.&quot;);\r\n                }\r\n                \r\n            \r\n            default -&gt; System.out.println(&quot;Opcion invalida.&quot;);\r\n            \r\n        }\r\n}","title":"How do I invalidate a char input in Java?","body":"<p>This is extremely simple, but I am new to the Java programming language and some guidance would be helpful. I am making a menu where the options are listed. However, I would love for the user to type a character as an option to get a text like the one here and return the user to the selection again.</p>\n<p>I present errors by confusing the case with the default.</p>\n<pre><code>import java.util.Scanner;\n\npublic class selectMenu {\n\n    public static void main(String[] args) { \n        System.out.println(&quot;select your option:&quot;);\n        System.out.println(&quot;1) showing today menu&quot;);\n        System.out.println(&quot;2) showing tomorrow menu&quot;);\n        \n        int op = scanner.nextInt();\n        \n        switch(op) {\n            \n            case 1 -&gt; System.out.println(&quot;TODAY MENU&quot;);\n            \n            case 2 -&gt; System.out.println(&quot;TOMORROW MENU&quot;);\n            \n            case 3 -&gt;\n                if (option==char) {\n                    System.out.println(&quot;This is an invalid option.&quot;);\n                }\n                \n            \n            default -&gt; System.out.println(&quot;Opcion invalida.&quot;);\n            \n        }\n}\n</code></pre>\n"},{"tags":["java","math","graphics","raycasting","2d-3d-conversion"],"comments":[{"owner":{"account_id":1249294,"reputation":32209,"user_id":1210053,"accept_rate":93,"display_name":"Nico Schertler"},"score":1,"creation_date":1510470918,"post_id":47239797,"comment_id":81443110,"body_markdown":"Didn&#39;t you already answer the question yourself? You need different height values per patch instead of `WALL_HEIHGT`. What are you having trouble with?","body":"Didn&#39;t you already answer the question yourself? You need different height values per patch instead of <code>WALL_HEIHGT</code>. What are you having trouble with?"},{"owner":{"account_id":10008785,"reputation":405,"user_id":7402246,"accept_rate":67,"display_name":"Jack"},"score":0,"creation_date":1510502283,"post_id":47239797,"comment_id":81451798,"body_markdown":"It&#39;s easy by using a constant value, but I don&#39;t know how to get all my different heights. I have some strange things","body":"It&#39;s easy by using a constant value, but I don&#39;t know how to get all my different heights. I have some strange things"}],"answers":[{"tags":[],"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1622192935,"creation_date":1510503620,"answer_id":47251071,"question_id":47239797,"body_markdown":"so you obviously know the basics of [Wolfenstein raycasting](https://stackoverflow.com/a/32733650/2521214) techniques. To add variable height you need to do this:\r\n\r\n1. **add height info on per cell basis**\r\n\r\n so simply add another value to your cell info in your map table `map[][]`. You code the stuff as strings that is odd ...\r\n\r\n2. **update scan line render**\r\n\r\n Somewhere in the code (after hit was detected) you render vertical line per each ray. There you should compute the scan line size something like (assuming y=0 is top of the screen):\r\n\r\n        y0 = center_of_view_y + projected_half_size\r\n        y1 = center_of_view_y - projected_half_size\r\n\r\n And should change to:\r\n\r\n        y0 = center_of_view_y + projected_size\r\n        y1 = y0 - 2*projected_half_size*wall_size\r\n\r\n Where `projected_half_size` is the line size computed for constant cell height as you got now, `wall_size=&lt;0,1&gt;` is scale and `center_of_view_y` is the y coordinate of the horizon line in your view. This will put your wall on the ground.\r\n\r\n3. **update ray-casting**\r\n\r\n now when you hit the first wall you stop. With variable wall height you can stop only when you hit wall of full size (`wall_size=1`) or run out of map. You got 2 option to implement this.\r\n\r\n 1. remember all hits and render in reverse order\r\n 2. render immediately but only from last rendered height instead of from ground. \r\n\r\n The first option is easy to implement but requires more memory and it is slower. The second one is fast and does not need any lists or stacks. But it involves a little bit more math for the scan line render (`O(1)` if coded right)\r\n\r\n I played a bit with my demo from the link at the top. Now the result should look like this:\r\n\r\n [![variable height][1]][1]\r\n\r\n As you can see the highlighted cells on the map are pass through for rays above their height (so you can see bigger cells behind them). \r\n\r\n **Beware** once you add movement altitude direction (jumps, stairs etc) then the end condition must be different (the rendered scan line hit the top of the view). Also projection part of y coordinate will be different and need to include the actual player altitude.\r\n\r\n4. **add topside**\r\n\r\n You need to add the rendering of top side. It is similar to rendering ceiling and floor. **IIRC** original Wolfenstein did not have this capability but the latter **pseudo 3D** games like **DOOM** did.\r\n\r\n There are more possible approaches like [Perspective Vision on Canvas](https://stackoverflow.com/a/46219905/2521214) but I think the easiest to implement (as we already got enough info) is to compute the top side part of vertical **scanline** coordinates in texture and just copy pixels. As we already know where the ray hit the cell and angle of player/camera is also known. For more info see: [PCGPE 1.0 Doom techniques](http://qzx.com/pc-gpe/doom.txt)\r\n\r\n So as a first step add hits for back faces too. That should look like this:\r\n\r\n [![back faces][2]][2]\r\n\r\n That is done by checking hits of the last hit cell first. Now if you remember the last rendered `y` coordinate from previous hit (of the same scanline) then if back face is hit instead of rendering the face render top side color from last `y` to actual `y` (or copy pixels from floor/ceiling texture instead). Here the green color used for this:\r\n\r\n [![top side][3]][3]\r\n\r\nIf it helps here is mine C++ (GDI/VCL based) code for this:\r\n\r\n&lt;!-- language: cpp --&gt;\r\n\r\n    //---------------------------------------------------------------------------\r\n    //--- Doom 3D engine ver: 1.000 --------------------------------------\r\n    //---------------------------------------------------------------------------\r\n    #ifndef _Doom3D_h\r\n    #define _Doom3D_h\r\n    //---------------------------------------------------------------------------\r\n    #include &lt;math.h&gt;\r\n    #include &lt;jpeg.hpp&gt;\r\n    #include &quot;performance.h&quot;\r\n    #include &quot;OpenGLrep4d_double.h&quot;\r\n    //---------------------------------------------------------------------------\r\n    const DWORD _Doom3D_cell_size=10;\t// 2D map cell size\r\n    const DWORD _Doom3D_wall_size=100;\t// full height of wall in map\r\n    #define _Doom3D_filter_txr\r\n    //---------------------------------------------------------------------------\r\n    class Doom3D\r\n    \t{\r\n    public:\r\n    \tDWORD mxs,mys,**pmap;\t\t\t// 2D map\t// txr + height&lt;&lt;16\r\n    \tDWORD sxs,sys,**pscr;\t\t\t// pseudo 3D screen\r\n    \tGraphics::TBitmap *scr;\r\n    \tDWORD txs,tys,**ptxr,tn;\t\t// 2D textures\r\n    \tGraphics::TBitmap *txr,*txr2;\t// textures, texture mipmaps resolution: /2 and /4\r\n    \tdouble plrx,plry,plrz,plra;\t\t// player position [x,y,z,angle]\r\n    \tdouble view_ang;\t\t\t\t// [rad] view angle\r\n    \tdouble focus;\t\t\t\t\t// [cells] view focal length\r\n    \tstruct _ray\r\n    \t\t{\r\n    \t\tdouble x,y,l;\t\t\t\t// hit or end of map position\r\n    \t\tDWORD hit;\t\t\t\t\t// map cell of hit or 0xFFFFFFFF\r\n    \t\tchar typ;\t\t\t\t\t// H/V\r\n    \t\t_ray() {};\r\n    \t\t_ray(_ray&amp; a)\t{ *this=a; }\r\n    \t\t~_ray() {};\r\n    \t\t_ray* operator = (const _ray *a) { *this=*a; return this; }\r\n    \t\t//_ray* operator = (const _ray &amp;a) { ..copy... return this; }\r\n    \t\t};\r\n    \t_ray *ray;\t\t\t\t\t\t// ray[sxs]\r\n    \r\n    \tkeytab keys;\r\n    \tDWORD txr_sel;\r\n    \tDWORD cell_h;\r\n    \r\n    \tDoom3D();\r\n    \tDoom3D(Doom3D&amp; a)\t{ *this=a; }\r\n    \t~Doom3D();\r\n    \tDoom3D* operator = (const Doom3D *a) { *this=*a; return this; }\r\n    \t//Doom3D* operator = (const Doom3D &amp;a) { ..copy... return this; }\r\n    \r\n    \tvoid map_resize(DWORD xs,DWORD ys);\t// change map resolution\r\n    \tvoid map_height(DWORD height);\t\t// set height for whole map to convert maps from Wolfenstein3D demo\r\n    \tvoid map_clear();\t\t\t\t\t// clear whole map\r\n    \tvoid map_save(AnsiString name);\r\n    \tvoid map_load(AnsiString name);\r\n    \tvoid scr_resize(DWORD xs,DWORD ys);\r\n    \tvoid txr_load(AnsiString name);\r\n    \r\n    \tvoid draw();\r\n    \tvoid update(double dt);\r\n    \tvoid mouse(double x,double y,TShiftState sh)\r\n    \t\t{\r\n    \t\tx=floor(x/_Doom3D_cell_size); if (x&gt;=mxs) x=mxs-1; if (x&lt;0) x=0;\r\n    \t\ty=floor(y/_Doom3D_cell_size); if (y&gt;=mys) y=mys-1; if (y&lt;0) y=0;\r\n    \t\tDWORD xx=x,yy=y;\r\n    \t\tkeys.setm(x,y,sh);\r\n    \t\tif (keys.Shift.Contains(ssLeft )) pmap[yy][xx]=(txr_sel)|(cell_h&lt;&lt;16);\r\n    \t\tif (keys.Shift.Contains(ssRight)) pmap[yy][xx]=0xFFFFFFFF;\r\n    \t\tkeys.rfsmouse();\r\n    \t\t}\r\n    \tvoid wheel(int delta,TShiftState sh)\r\n    \t\t{\r\n    \t\tif (sh.Contains(ssShift))\r\n    \t\t\t{\r\n    \t\t\tif (delta&lt;0) { cell_h-=10; if (cell_h&lt;10) cell_h=10; }\r\n    \t\t\tif (delta&gt;0) { cell_h+=10; if (cell_h&gt;_Doom3D_wall_size) cell_h=_Doom3D_wall_size; }\r\n    \t\t\t}\r\n    \t\telse{\r\n    \t\t\tif (delta&lt;0) { txr_sel--; if (txr_sel==0xFFFFFFFF) txr_sel=tn-1; }\r\n    \t\t\tif (delta&gt;0) { txr_sel++; if (txr_sel==        tn) txr_sel=   0; }\r\n    \t\t\t}\r\n    \t\t}\r\n    \t};\r\n    //---------------------------------------------------------------------------\r\n    Doom3D::Doom3D()\r\n    \t{\r\n    \tmxs=0; mys=0;                            pmap=NULL;\r\n    \tsxs=0; sys=0; scr=new Graphics::TBitmap; pscr=NULL; ray=NULL;\r\n    \ttxs=0; tys=0; txr=new Graphics::TBitmap; ptxr=NULL; tn=0;\r\n    \t\t\t\t  txr2=new Graphics::TBitmap;\r\n    \tplrx=0.0; plry=0.0; plrz=0.0; plra=0.0;\r\n    \tview_ang=60.0*deg;\r\n    \tfocus=0.25;\r\n    \ttxr_sel=0;\r\n    \tcell_h=_Doom3D_wall_size;\r\n    \r\n    \ttxr_load(&quot;textures128x128.jpg&quot;);\r\n    \tmap_resize(16,16);\r\n    \tmap_load(&quot;Doom3D_map.dat&quot;);\r\n    \t}\r\n    //---------------------------------------------------------------------------\r\n    Doom3D::~Doom3D()\r\n    \t{\r\n    \tDWORD y;\r\n    \tmap_save(&quot;Doom3D_map.dat&quot;);\r\n    \tif (pmap) { for (y=0;y&lt;mys;y++) delete[] pmap[y]; delete[] pmap; pmap=NULL; } if (ray) delete[] ray; ray=NULL;\r\n    \tif (pscr) {                                       delete[] pscr; pscr=NULL; } if (scr) delete scr; scr=NULL;\r\n    \tif (ptxr) {                                       delete[] ptxr; ptxr=NULL; } if (txr) delete txr; txr=NULL;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  if (txr2) delete txr2; txr2=NULL;\r\n    \t}\r\n    //---------------------------------------------------------------------------\r\n    void Doom3D::map_resize(DWORD xs,DWORD ys)\r\n    \t{\r\n    \tDWORD y;\r\n    \tif (pmap) { for (y=0;y&lt;mys;y++) delete[] pmap[y]; delete[] pmap; pmap=NULL; }\r\n    \tmys=ys; mxs=xs; pmap=new DWORD*[mys]; for (y=0;y&lt;mys;y++) pmap[y]=new DWORD[mxs];\r\n    \tmap_clear();\r\n    \tplrx=(mxs-1)*0.5; plry=(mys-1)*0.5; plrz=0.0; plra=0.0*deg;\r\n    \t}\r\n    //---------------------------------------------------------------------------\r\n    void Doom3D::map_height(DWORD h)\r\n    \t{\r\n    \tDWORD x,y,c;\r\n    \tfor (y=0;y&lt;mys;y++)\r\n    \t for (x=0;x&lt;mxs;x++)\r\n    \t\t{\r\n    \t\tc=pmap[y][x];\r\n    \t\tc&amp;=0xFFFF;\r\n    \t\tc|=h&lt;&lt;16;\r\n    \t\tpmap[y][x]=c;\r\n    \t\t}\r\n    \t}\r\n    //---------------------------------------------------------------------------\r\n    void Doom3D::map_clear()\r\n    \t{\r\n    \tDWORD x,y,c;\r\n    \tfor (y=0;y&lt;mys;y++)\r\n    \t for (x=0;x&lt;mxs;x++)\r\n    \t\t{\r\n    \t\tc=0xFFFFFFFF;\r\n    \t\tif ((x==0)||(x==mxs-1)) c=0;\r\n    \t\tif ((y==0)||(y==mys-1)) c=0;\r\n    \t\tpmap[y][x]=c;\r\n    \t\t}\r\n    \t}\r\n    //---------------------------------------------------------------------------\r\n    void Doom3D::map_save(AnsiString name)\r\n    \t{\r\n    \tint hnd=FileCreate(name); if (hnd&lt;0) return;\r\n    \tDWORD y;\r\n    \ty=&#39; PAM&#39;;\r\n    \tFileWrite(hnd,&amp;y  ,4);\t// id\r\n    \tFileWrite(hnd,&amp;mxs,4);\t// x resolution\r\n    \tFileWrite(hnd,&amp;mys,4);\t// y resolution\r\n    \tfor (y=0;y&lt;mys;y++)\t\t// map\r\n    \t FileWrite(hnd,pmap[y],mxs&lt;&lt;2);\r\n    \ty=&#39; RLP&#39;;\r\n    \tFileWrite(hnd,&amp;y  ,4);\t// id\r\n    \tFileWrite(hnd,&amp;plrx,8);\r\n    \tFileWrite(hnd,&amp;plry,8);\r\n    \tFileWrite(hnd,&amp;plrz,8);\r\n    \tFileWrite(hnd,&amp;plra,8);\r\n    \tFileClose(hnd);\r\n    \t}\r\n    //---------------------------------------------------------------------------\r\n    void Doom3D::map_load(AnsiString name)\r\n    \t{\r\n    \tint hnd=FileOpen(name,fmOpenRead); if (hnd&lt;0) return;\r\n    \tDWORD x,y;\r\n    \ty=&#39; PAM&#39;; FileRead(hnd,&amp;x  ,4);\t// id\r\n    \tif (x==y)\r\n    \t\t{\r\n    \t\tFileRead(hnd,&amp;x,4);\t// x resolution\r\n    \t\tFileRead(hnd,&amp;y,4);\t// y resolution\r\n    \t\tmap_resize(x,y);\r\n    \t\tfor (y=0;y&lt;mys;y++)\t// map\r\n    \t\t FileRead(hnd,pmap[y],mxs&lt;&lt;2);\r\n    \t\t}\r\n    \ty=&#39; RLP&#39;; FileRead(hnd,&amp;x  ,4);\t// id\r\n    \tif (x==y)\r\n    \t\t{\r\n    \t\tFileRead(hnd,&amp;plrx,8);\r\n    \t\tFileRead(hnd,&amp;plry,8);\r\n    \t\tFileRead(hnd,&amp;plrz,8);\r\n    \t\tFileRead(hnd,&amp;plra,8);\r\n    \t\t}\r\n    \tFileClose(hnd);\r\n    \t}\r\n    //---------------------------------------------------------------------------\r\n    void Doom3D::scr_resize(DWORD xs,DWORD ys)\r\n    \t{\r\n    \tscr-&gt;HandleType=bmDIB;\r\n    \tscr-&gt;PixelFormat=pf32bit;\r\n    \tscr-&gt;SetSize(xs,ys);\r\n    \tsxs=scr-&gt;Width;\r\n    \tsys=scr-&gt;Height;\r\n    \tdelete[] pscr; pscr=new DWORD*[sys];\r\n    \tfor (DWORD y=0;y&lt;sys;y++) pscr[y]=(DWORD*)scr-&gt;ScanLine[y];\r\n    \tif (ray) delete[] ray; ray=new _ray[sxs];\r\n    \t}\r\n    //---------------------------------------------------------------------------\r\n    void Doom3D::txr_load(AnsiString name)\r\n    \t{\r\n    \tAnsiString ext=ExtractFileExt(name).LowerCase();\r\n    \tfor(;;)\r\n    \t\t{\r\n    \t\tif (ext==&quot;.bmp&quot;)\r\n    \t\t\t{\r\n    \t\t\ttxr-&gt;LoadFromFile(name);\r\n    \t\t\tbreak;\r\n    \t\t\t}\r\n    \t\tif (ext==&quot;.jpg&quot;)\r\n    \t\t\t{\r\n    \t\t\tTJPEGImage *jpg=new TJPEGImage;\r\n    \t\t\tif (jpg==NULL) return;\r\n    \t\t\tjpg-&gt;LoadFromFile(name);\r\n    \t\t\ttxr-&gt;Assign(jpg);\r\n    \t\t\tdelete jpg;\r\n    \t\t\tbreak;\r\n    \t\t\t}\r\n    \t\treturn;\r\n    \t\t}\r\n    \tDWORD y=tys;\r\n    \ttxr-&gt;HandleType=bmDIB;\r\n    \ttxr-&gt;PixelFormat=pf32bit;\r\n    \ttxs=txr-&gt;Width;\r\n    \ttys=txr-&gt;Height;\r\n    \t// mip map\r\n    \ttxr2-&gt;SetSize(txs&gt;&gt;1,(tys&gt;&gt;1)+(tys&gt;&gt;2));\r\n    \ttxr2-&gt;Canvas-&gt;StretchDraw(TRect(0,     0,txs&gt;&gt;1,tys&gt;&gt;1),txr);\r\n    \ttxr2-&gt;Canvas-&gt;StretchDraw(TRect(0,tys&gt;&gt;1,txs&gt;&gt;2,(tys&gt;&gt;1)+(tys&gt;&gt;2)),txr);\r\n    \ttn=txs/tys; txs=tys;\r\n    \tdelete[] ptxr; ptxr=new DWORD*[tys];\r\n    \tfor (y=0;y&lt;tys;y++) ptxr[y]=(DWORD*)txr-&gt;ScanLine[y];\r\n    \t}\r\n    //---------------------------------------------------------------------------\r\n    void Doom3D::draw()\r\n    \t{\r\n    \t// total time measurement\r\n    \ttbeg(); double tperf0=performance_tms;\r\n    \r\n    \tAnsiString tcls,tray,tmap,ttotal;\r\n    \tdouble a,a0,da,dx,dy,l,mx,my;\r\n    \tDWORD x,y,xs2,ys2,c,m;\r\n    \tdouble xx0,yy0,dx0,dy0,ll0; DWORD c0,d0;\r\n    \tdouble xx1,yy1,dx1,dy1,ll1; DWORD c1,d1;\r\n    \t_ray *p;\r\n    \txs2=sxs&gt;&gt;1;\r\n    \tys2=sys&gt;&gt;1;\r\n    \r\n    \t// aspect ratio,view angle corrections\r\n    \ta=90.0*deg-view_ang;\r\n    \tdouble wall=double(sxs)*(1.25+(0.288*a)+(2.04*a*a)); // [px]\r\n    \r\n    \t// floor,ceilling/sky\r\n    \ttbeg();\r\n    \tfor (y=0;y&lt;ys2;y++) for (x=0;x&lt;sxs;x++) pscr[y][x]=0x000080FF;\r\n    \tfor (   ;y&lt;sys;y++) for (x=0;x&lt;sxs;x++) pscr[y][x]=0x00404040;\r\n    \ttend(); tcls=tstr(1)+&quot; cls&quot;;\r\n    \r\n    \t// [cast rays]\r\n    \ttbeg();\r\n    \t// diffuse + ambient lighting\r\n    \tDWORD ch=155.0+fabs(100.0*sin(plra));\r\n    \tDWORD cv=155.0+fabs(100.0*cos(plra));\r\n    \ta0=plra-(0.5*view_ang);\r\n    \tda=divide(view_ang,sxs-1);\r\n    \tmx=mxs; my=mys;\r\n    \tfor (p=ray,a=a0,x=0;x&lt;sxs;x++,a+=da,p++)\r\n    \t\t{\r\n    \t\tp-&gt;x=plrx;\r\n    \t\tp-&gt;y=plry;\r\n    \t\tp-&gt;hit=0xFFFFFFFF;\r\n    \t\tp-&gt;typ=&#39; &#39;;\r\n    \t\tp-&gt;l=1.0e20;\r\n    \t\tll0=ll1=p-&gt;l;\r\n    \t\t// grid V-line hits\r\n    \t\tc0=0; dx0=cos(a);\r\n    \t\tif (dx0&lt;0.0) { c0=1; xx0=floor(plrx)-0.001; dx0=-1.0; }\r\n    \t\tif (dx0&gt;0.0) { c0=1; xx0=ceil (plrx)+0.001; dx0=+1.0; }\r\n    \t\tif (c0) { dy0=tan(a); yy0=plry+((xx0-plrx)*dy0);             dy0*=dx0; dx=xx0-plrx; dy=yy0-plry; ll0=(dx*dx)+(dy*dy); }\r\n    \t\t// grid H-line hits\r\n    \t\tc1=0; dy1=sin(a);\r\n    \t\tif (dy1&lt;0.0) { c1=1; yy1=floor(plry)-0.001; dy1=-1.0; }\r\n    \t\tif (dy1&gt;0.0) { c1=1; yy1=ceil (plry)+0.001; dy1=+1.0; }\r\n    \t\tif (c1) { dx1=divide(1.0,tan(a)); xx1=plrx+((yy1-plry)*dx1); dx1*=dy1; dx=xx1-plrx; dy=yy1-plry; ll1=(dx*dx)+(dy*dy); }\r\n    \t\tint height0=sys; // already rendered height [pixels]\r\n    \t\tbool _hit,_back=false,_bck=true;\r\n    \t\tif (!c0) ll0=1e20;\r\n    \t\tif (!c1) ll1=1e20;\r\n    \t\tfor (;c0||c1;)\r\n    \t\t\t{\r\n    \t\t\t_hit=false;\r\n    \t\t\t// grid V-line hits\r\n    \t\t\tif (c0)\r\n    \t\t\t\t{\r\n    \t\t\t\tif (xx0&lt;0.0) { c0=0; ll0=1e20; }\r\n    \t\t\t\tif (xx0&gt;=mx) { c0=0; ll0=1e20; }\r\n    \t\t\t\tif (yy0&lt;0.0) { c0=0; ll0=1e20; }\r\n    \t\t\t\tif (yy0&gt;=my) { c0=0; ll0=1e20; }\r\n    \t\t\t\t}\r\n    \t\t\tif ((c0)&amp;&amp;(ll0&lt;ll1))\r\n    \t\t\t\t{\r\n    \t\t\t\tm=DWORD(xx0-dx0);\r\n    \t\t\t\tif ((m&gt;=0.0)&amp;&amp;(m&lt;mxs)&amp;&amp;(!_bck)){ c=pmap[DWORD(yy0)][      m   ]; if ((c&amp;0xFFFF)!=0xFFFF) { p-&gt;hit=c; p-&gt;typ=&#39;V&#39;; p-&gt;l=ll0; p-&gt;x=xx0; p-&gt;y=yy0; _hit=true; _back=true;  _bck=true;  }}\r\n    \t\t\t\tif (!_hit)\t\t\t  \t\t   { c=pmap[DWORD(yy0)][DWORD(xx0)]; if ((c&amp;0xFFFF)!=0xFFFF) { p-&gt;hit=c; p-&gt;typ=&#39;V&#39;; p-&gt;l=ll0; p-&gt;x=xx0; p-&gt;y=yy0; _hit=true; _back=false; _bck=false; } xx0+=dx0; dx=xx0-plrx; yy0+=dy0; dy=yy0-plry; ll0=(dx*dx)+(dy*dy); }\r\n    \t\t\t\t}\r\n    \t\t\t// grid H-line hits\r\n    \t\t\tif (c1)\r\n    \t\t\t\t{\r\n    \t\t\t\tif (xx1&lt;0.0) { c1=0; ll1=1e20; }\r\n    \t\t\t\tif (xx1&gt;=mx) { c1=0; ll1=1e20; }\r\n    \t\t\t\tif (yy1&lt;0.0) { c1=0; ll1=1e20; }\r\n    \t\t\t\tif (yy1&gt;=my) { c1=0; ll1=1e20; }\r\n    \t\t\t\t}\r\n    \t\t\tif ((c1)&amp;&amp;(ll0&gt;ll1)&amp;&amp;(!_hit))\r\n    \t\t\t\t{\r\n    \t\t\t\tm=DWORD(yy1-dy1);\r\n    \t\t\t\tif ((m&gt;=0.0)&amp;&amp;(m&lt;mys)&amp;&amp;(!_bck)){ c=pmap[      m   ][DWORD(xx1)]; if ((c&amp;0xFFFF)!=0xFFFF) { p-&gt;hit=c; p-&gt;typ=&#39;H&#39;; p-&gt;l=ll1; p-&gt;x=xx1; p-&gt;y=yy1; _hit=true; _back=true;  _bck=true;  }}\r\n    \t\t\t\tif (!_hit)\t\t\t  \t\t   { c=pmap[DWORD(yy1)][DWORD(xx1)]; if ((c&amp;0xFFFF)!=0xFFFF) { p-&gt;hit=c; p-&gt;typ=&#39;H&#39;; p-&gt;l=ll1; p-&gt;x=xx1; p-&gt;y=yy1; _hit=true; _back=false; _bck=false; } xx1+=dx1; dx=xx1-plrx; yy1+=dy1; dy=yy1-plry; ll1=(dx*dx)+(dy*dy); }\r\n    \t\t\t\t}\r\n    \t\t\t// render scan line\r\n    \t\t\tif (_hit)\r\n    \t\t\t\t{\r\n    \t\t\t\tunion { DWORD dd; BYTE db[4]; } cc;\r\n    \t\t\t\tint tx,ty,sy,sy0,sy1,cnt,dsy,dty;\r\n    \t\t\t\tp-&gt;l=sqrt(p-&gt;l)*cos(a-plra);// anti fish eye\r\n    \t\t\t\tm=divide(wall*focus,p-&gt;l);\t// projected wall half size\r\n    \t\t\t\tc=0;\r\n    \t\t\t\tif (p-&gt;typ==&#39;H&#39;) { c=ch; tx=double(double(txs)*(p-&gt;x-floor(p-&gt;x))); }\r\n    \t\t\t\tif (p-&gt;typ==&#39;V&#39;) { c=cv; tx=double(double(txs)*(p-&gt;y-floor(p-&gt;y))); }\r\n    \t\t\t\ttx+=txs*(p-&gt;hit&amp;0xFFFF);\r\n    \r\n    \t\t\t\t// prepare interpolation\r\n    \t\t\t\tsy1=ys2+m;\r\n    //\t\t\t\tsy0=ys2-m;\t\t\t\t\t\t\t\t\t\t\t// constant wall height\r\n    \t\t\t\tsy0=sy1-(((m+m)*(p-&gt;hit&gt;&gt;16))/_Doom3D_wall_size);\t// variable wall height\r\n    \t\t\t\tdty=tys-1;\r\n    \t\t\t\tdsy=sy1-sy0+1;\r\n    \t\t\t\t// skip sy&gt;=sys\r\n    \t\t\t\tif (sy1&gt;=sys) sy1=sys-1;\r\n    \t\t\t\t// skip sy&lt;0\r\n    \t\t\t\tfor (cnt=dsy,sy=sy0,ty=0;sy&lt;0;sy++) { cnt-=dty; while (cnt&lt;=0) { cnt+=dsy; ty++; }}\r\n    \r\n    \t\t\t\t#ifdef _Doom3D_filter_txr\r\n    \t\t\t\tDWORD r=0,g=0,b=0,n=0;\r\n    \t\t\t\t#else\r\n    \t\t\t\tcc.dd=ptxr[ty][tx];\r\n    \t\t\t\tcc.db[0]=DWORD((DWORD(cc.db[0])*c)&gt;&gt;8);\r\n    \t\t\t\tcc.db[1]=DWORD((DWORD(cc.db[1])*c)&gt;&gt;8);\r\n    \t\t\t\tcc.db[2]=DWORD((DWORD(cc.db[2])*c)&gt;&gt;8);\r\n    \t\t\t\t#endif\r\n    \t\t\t\t// continue sy&gt;=0\r\n    \t\t\t\ty=height0;\r\n    \t\t\t\tif (sy1&gt;height0) sy1=height0;\r\n    \t\t\t\tif (sy0&lt;height0) height0=sy0;\r\n    \t\t\t\tif (_back){ for (sy=sy0;sy&lt;=y;sy++){ if ((sy&gt;0)&amp;&amp;(sy&lt;sys)) pscr[sy][x]=0x0000FF00; }}\r\n    \t\t\t\t else for (;sy&lt;=sy1;sy++)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t#ifdef _Doom3D_filter_txr\r\n    \t\t\t\t\tif (!n)\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\tcc.dd=ptxr[ty][tx];\r\n    \t\t\t\t\t\tb+=DWORD(cc.db[0]);\r\n    \t\t\t\t\t\tg+=DWORD(cc.db[1]);\r\n    \t\t\t\t\t\tr+=DWORD(cc.db[2]); n+=256;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\tif ((sy&gt;0)&amp;&amp;(sy&lt;sys))\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\tcc.db[0]=DWORD(c*b/n); b=0;\r\n    \t\t\t\t\t\tcc.db[1]=DWORD(c*g/n); g=0;\r\n    \t\t\t\t\t\tcc.db[2]=DWORD(c*r/n); r=0; n=0;\r\n    \t\t\t\t\t\tpscr[sy][x]=cc.dd;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\tcnt-=dty; while (cnt&lt;=0)\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\tcnt+=dsy; ty++;\r\n    \t\t\t\t\t\tcc.dd=ptxr[ty][tx];\r\n    \t\t\t\t\t\tb+=DWORD(cc.db[0]);\r\n    \t\t\t\t\t\tg+=DWORD(cc.db[1]);\r\n    \t\t\t\t\t\tr+=DWORD(cc.db[2]); n+=256;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t#else\r\n    \t\t\t\t\tif ((sy&gt;0)&amp;&amp;(sy&lt;sys)) pscr[sy][x]=cc.dd;\r\n    \t\t\t\t\tcnt-=dty; while (cnt&lt;=0)\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\tcnt+=dsy; ty++;\r\n    \t\t\t\t\t\tcc.dd=ptxr[ty][tx];\r\n    \t\t\t\t\t\tcc.db[0]=DWORD((DWORD(cc.db[0])*c)&gt;&gt;8);\r\n    \t\t\t\t\t\tcc.db[1]=DWORD((DWORD(cc.db[1])*c)&gt;&gt;8);\r\n    \t\t\t\t\t\tcc.db[2]=DWORD((DWORD(cc.db[2])*c)&gt;&gt;8);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t#endif\r\n    \t\t\t\t\t}\r\n    \t\t\t\tif (height0&lt;0) break;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \ttend(); tray=tstr(1)+&quot; ray&quot;;\r\n    \r\n    \t// [2D map]\r\n    \ttbeg();\r\n    \tm=_Doom3D_cell_size;\r\n    \tmx=_Doom3D_cell_size;\r\n    \tif ((sxs&gt;=mxs*m)&amp;&amp;(sys&gt;=mys*m))\r\n    \t\t{\r\n    \t\tfor (y=0;y&lt;mys*m;y++)\t\t// pmap[][]\r\n    \t\t for (x=0;x&lt;mxs*m;x++)\r\n    \t\t\t{\r\n    \t\t\tif ((pmap[y/m][x/m]&amp;0xFFFF)!=0xFFFF) c=0x00808080; else c=0x00000000;\r\n    \t\t\tpscr[y][x]=c;\r\n    \t\t\t}\r\n    \t\tx=double(plrx*mx);\t\t\t// view rays\r\n    \t\ty=double(plry*mx);\r\n    \t\tscr-&gt;Canvas-&gt;Pen-&gt;Color=0x00005050;\r\n    \t\tscr-&gt;Canvas-&gt;Pen-&gt;Mode=pmMerge;\r\n    \t\tfor (c=0;c&lt;sxs;c++)\r\n    \t\t\t{\r\n    \t\t\tscr-&gt;Canvas-&gt;MoveTo(x,y);\r\n    \t\t\tscr-&gt;Canvas-&gt;LineTo(DWORD(ray[c].x*mx),DWORD(ray[c].y*mx));\r\n    \t\t\t}\r\n    \t\tscr-&gt;Canvas-&gt;Pen-&gt;Mode=pmCopy;\r\n    \t\tc=focus*m;\t\t\t\t\t// player and view direction\r\n    \t\tscr-&gt;Canvas-&gt;Pen-&gt;Color=0x000000FF;\r\n    \t\tscr-&gt;Canvas-&gt;Brush-&gt;Color=0x000000FF;\r\n    \t\tscr-&gt;Canvas-&gt;MoveTo(x,y);\r\n    \t\tscr-&gt;Canvas-&gt;LineTo(DWORD(ray[xs2].x*mx),DWORD(ray[xs2].y*mx));\r\n    \t\tscr-&gt;Canvas-&gt;Ellipse(x-c,y-c,x+c,y+c);\r\n    \t\tscr-&gt;Canvas-&gt;Pen-&gt;Color=0x00202020;\r\n    \t\tfor (y=0;y&lt;=mys;y++)\t\t// map grid\r\n    \t\t for (x=0;x&lt;=mxs;x++)\r\n    \t\t\t{\r\n    \t\t\tscr-&gt;Canvas-&gt;MoveTo(0    ,y*m);\r\n    \t\t\tscr-&gt;Canvas-&gt;LineTo(mxs*m,y*m);\r\n    \t\t\tscr-&gt;Canvas-&gt;MoveTo(x*m,    0);\r\n    \t\t\tscr-&gt;Canvas-&gt;LineTo(x*m,mys*m);\r\n    \t\t\t}\r\n    \t\tx=keys.mx*m;\t\t\t\t// selected cell\r\n    \t\ty=keys.my*m;\r\n    \t\tscr-&gt;Canvas-&gt;Pen-&gt;Color=0x0020FFFF;\r\n    \t\tscr-&gt;Canvas-&gt;MoveTo(x  ,y  );\r\n    \t\tscr-&gt;Canvas-&gt;LineTo(x+m,y  );\r\n    \t\tscr-&gt;Canvas-&gt;LineTo(x+m,y+m);\r\n    \t\tscr-&gt;Canvas-&gt;LineTo(x  ,y+m);\r\n    \t\tscr-&gt;Canvas-&gt;LineTo(x  ,y  );\r\n    \t\t}\r\n    \ttend(); tmap=tstr(1)+&quot; map&quot;;\r\n    \r\n    \t// [editor]\r\n    \tif (txr_sel!=0xFFFFFFFF)\r\n    \t\t{\r\n    \t\tint x=sxs,y=5,s0,s1,s2,i,j;\r\n    \t\ts0=txs&gt;&gt;1;\r\n    \t\ts1=txs&gt;&gt;2;\r\n    \t\ts2=(s0*cell_h)/_Doom3D_wall_size;\r\n    \r\n    \t\tfor (i=-3;i&lt;=3;i++)\r\n    \t\t\t{\r\n    \t\t\tj=txr_sel+i;\r\n    \t\t\twhile (j&lt;  0) j+=tn;\r\n    \t\t\twhile (j&gt;=tn) j-=tn;\r\n    \t\t\tif (i) { scr-&gt;Canvas-&gt;CopyRect(TRect(x-s1,y+(s1&gt;&gt;1),x,s1+(s1&gt;&gt;1)),txr2-&gt;Canvas,TRect(s1*j,s0,s1*j+s1,s0+s1)); x-=s1+5; }\r\n    \t\t\telse   { scr-&gt;Canvas-&gt;CopyRect(TRect(x-s0,y+s0-s2  ,x,s0        ),txr2-&gt;Canvas,TRect(s0*j, 0,s0*j+s0,s2   )); x-=s0+5; }\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t// total time measurement\r\n    \tperformance_tms=tperf0;\r\n    \ttend(); ttotal=tstr(1)+&quot; total&quot;;\r\n    \r\n    \tx=m*mxs+m;\r\n    \tc=16; y=-c;\r\n    \tscr-&gt;Canvas-&gt;Font-&gt;Color=clYellow;\r\n    \tscr-&gt;Canvas-&gt;Brush-&gt;Style=bsClear;\r\n    \tscr-&gt;Canvas-&gt;TextOutA(x,y+=c,AnsiString().sprintf(&quot;player: %.2lf x %.2lf x %.2lf&quot;,plrx,plry,plrz));\r\n    \tscr-&gt;Canvas-&gt;TextOutA(x,y+=c,AnsiString().sprintf(&quot; mouse: %.2lf x %.2lf&quot;,keys.mx,keys.my));\r\n    \tscr-&gt;Canvas-&gt;TextOutA(x,y+=c,tray);\r\n    \tscr-&gt;Canvas-&gt;TextOutA(x,y+=c,tcls);\r\n    \tscr-&gt;Canvas-&gt;TextOutA(x,y+=c,tmap);\r\n    \tscr-&gt;Canvas-&gt;TextOutA(x,y+=c,ttotal);\r\n    \tscr-&gt;Canvas-&gt;TextOutA(x,y+=c,AnsiString().sprintf(&quot;   key: %d&quot;,keys.Key));\r\n    \r\n    \t// aspect ratio test\r\n    /*\r\n    \tc=ys2*7/10;\r\n    \tscr-&gt;Canvas-&gt;Rectangle(xs2-c,ys2-c,xs2+c,ys2+c);\r\n    */\r\n    \t// cross\r\n    \tc=4,m=32;\r\n    \tscr-&gt;Canvas-&gt;Pen-&gt;Color=clRed;\r\n    \tscr-&gt;Canvas-&gt;MoveTo(xs2-c,ys2-m);\r\n    \tscr-&gt;Canvas-&gt;LineTo(xs2-c,ys2-c);\r\n    \tscr-&gt;Canvas-&gt;LineTo(xs2-m,ys2-c);\r\n    \tscr-&gt;Canvas-&gt;MoveTo(xs2+c,ys2-m);\r\n    \tscr-&gt;Canvas-&gt;LineTo(xs2+c,ys2-c);\r\n    \tscr-&gt;Canvas-&gt;LineTo(xs2+m,ys2-c);\r\n    \tscr-&gt;Canvas-&gt;MoveTo(xs2-c,ys2+m);\r\n    \tscr-&gt;Canvas-&gt;LineTo(xs2-c,ys2+c);\r\n    \tscr-&gt;Canvas-&gt;LineTo(xs2-m,ys2+c);\r\n    \tscr-&gt;Canvas-&gt;MoveTo(xs2+c,ys2+m);\r\n    \tscr-&gt;Canvas-&gt;LineTo(xs2+c,ys2+c);\r\n    \tscr-&gt;Canvas-&gt;LineTo(xs2+m,ys2+c);\r\n    \r\n    \tscr-&gt;Canvas-&gt;Brush-&gt;Style=bsSolid;\r\n    \t}\r\n    //---------------------------------------------------------------------------\r\n    void Doom3D::update(double dt)\r\n    \t{\r\n    \tint move=0;\r\n    \tdouble da=120.0*deg*dt;\r\n    \tdouble dl=  5.0    *dt;\r\n    \tdouble dx=0.0,dy=0.0,dz=0.0;\r\n    \tif (keys.get(104)) { plra-=da; if (plra&lt; 0.0) plra+=pi2; }\t\t\t\t\t\t// turn l/r\r\n    \tif (keys.get(105)) { plra+=da; if (plra&gt;=pi2) plra-=pi2; }\r\n    \tif (keys.get(101)) { move=1; dx=+dl*cos(plra); dy=+dl*sin(plra); }\t\t\t\t// move f/b\r\n    \tif (keys.get( 98)) { move=1; dx=-dl*cos(plra); dy=-dl*sin(plra); }\r\n    \tif (keys.get(102)) { move=1; dx= dl*cos(plra-90*deg); dy=dl*sin(plra-90*deg); }\t// strafe l/r\r\n    \tif (keys.get( 99)) { move=1; dx= dl*cos(plra+90*deg); dy=dl*sin(plra+90*deg); }\r\n    \tif (keys.get(100)) { move=1; dz=+dl; }\t// strafe u/d\r\n    \tif (keys.get( 97)) { move=1; dz=-dl; }\r\n    \tif (move)\t// update/test plr position\r\n    \t\t{\r\n    \t\tdouble x,y,z,mx,my;\r\n    \t\tx=plrx+dx; mx=mxs-focus;\r\n    \t\ty=plry+dy; my=mys-focus;\r\n    \t\tz=plrz+dz; if ((z&gt;=0.0)&amp;&amp;(z&lt;=_Doom3D_wall_size)) plrz=z;;\r\n    \t\tif (x&lt;focus) x=focus; if (x&gt;mx) x=mx;\r\n    \t\tif (y&lt;focus) y=focus; if (y&gt;my) y=my;\r\n    \t\tdx*=divide(focus,dl);\r\n    \t\tdy*=divide(focus,dl);\r\n    \t\t\t if ((pmap[DWORD(y+dy)][DWORD(x+dx)]&amp;0xFFFF)==0xFFFF) { plrx=x; plry=y; }\r\n    \t\telse if ((pmap[DWORD(y+dy)][DWORD(x   )]&amp;0xFFFF)==0xFFFF)           plry=y;\r\n    \t\telse if ((pmap[DWORD(y   )][DWORD(x+dx)]&amp;0xFFFF)==0xFFFF)   plrx=x;\r\n    \t\t}\r\n    \tkeys.rfskey();\r\n    \t}\r\n    //---------------------------------------------------------------------------\r\n    //---------------------------------------------------------------------------\r\n    #endif\r\n    //---------------------------------------------------------------------------\r\n    //---------------------------------------------------------------------------\r\n\r\nJust ignore the `performance.h` time measurement `tbeg,tend,tstr`, `OpenGLrep4d_double.h` keyboard and mouse handler `keytab` and port VCL related stuff (`Canvas,AnsiString`,File access, JPEG...).\r\n\r\nIf you need help with understand the gfx stuff see\r\n\r\n- [Display an array of color in C](https://stackoverflow.com/a/21699076/2521214)\r\n\r\nThe usage of this class is simple declare an object of this class, and add the event to your window (mouse,keyboard,repaint ...). My VCL Window (single form with one timer on it) code looks like this:\r\n\r\n&lt;!-- language: cpp --&gt;\r\n\r\n    //$$---- Form CPP ----\r\n    //---------------------------------------------------------------------------\r\n    #include &lt;vcl.h&gt;\r\n    #pragma hdrstop\r\n    #include &quot;win_main.h&quot;\r\n    #include &quot;Doom3D.h&quot;\r\n    //---------------------------------------------------------------------------\r\n    #pragma package(smart_init)\r\n    #pragma resource &quot;*.dfm&quot;\r\n    TMain *Main;\r\n    Doom3D game;\r\n    //---------------------------------------------------------------------------\r\n    void TMain::draw()\r\n    \t{\r\n    \tgame.draw();\r\n    \tCanvas-&gt;Draw(0,0,game.scr);\r\n    \t}\r\n    //---------------------------------------------------------------------------\r\n    __fastcall TMain::TMain(TComponent* Owner) : TForm(Owner)\r\n    \t{\r\n    \t}\r\n    //---------------------------------------------------------------------------\r\n    void __fastcall TMain::FormResize(TObject *Sender)\r\n    \t{\r\n    \tgame.scr_resize(ClientWidth,ClientHeight);\r\n    \t}\r\n    //---------------------------------------------------------------------------\r\n    void __fastcall TMain::tim_redrawTimer(TObject *Sender)\r\n    \t{\r\n    \tgame.update(tim_redraw-&gt;Interval*0.001);\r\n    \tdraw();\r\n    \t}\r\n    //---------------------------------------------------------------------------\r\n    void __fastcall TMain::FormKeyDown(TObject *Sender, WORD &amp;Key,TShiftState Shift){ game.keys.set(Key,Shift); }\r\n    void __fastcall TMain::FormKeyUp(TObject *Sender, WORD &amp;Key, TShiftState Shift) { game.keys.rst(Key,Shift); }\r\n    void __fastcall TMain::FormActivate(TObject *Sender)\t\t\t\t\t\t\t{ game.keys.reset_keys(); }\r\n    //---------------------------------------------------------------------------\r\n    void __fastcall TMain::FormMouseMove(TObject *Sender,                      TShiftState Shift, int X, int Y) { game.mouse(X,Y,Shift); }\r\n    void __fastcall TMain::FormMouseDown(TObject *Sender, TMouseButton Button, TShiftState Shift, int X, int Y) { game.mouse(X,Y,Shift); }\r\n    void __fastcall TMain::FormMouseUp  (TObject *Sender, TMouseButton Button, TShiftState Shift, int X, int Y) { game.mouse(X,Y,Shift); }\r\n    void __fastcall TMain::FormMouseWheel(TObject *Sender, TShiftState Shift, int WheelDelta, TPoint &amp;MousePos, bool &amp;Handled) { game.wheel(WheelDelta,Shift); Handled=true; }\r\n    //---------------------------------------------------------------------------\r\n\r\nAnd here the main iteration variables explanation:\r\n\r\n [![variables][4]][4]\r\n\r\nAnd here the texture file:\r\n\r\n [![textures][5]][5]\r\n\r\nHere is how it looks like after some more code tweaking and [perspective correct texture mapping](https://en.wikipedia.org/wiki/Texture_mapping):\r\n\r\n [![jump][6]][6]\r\n\r\nHere related QA to this one:\r\n\r\n- [Efficient floor/ceiling rendering in Raycaster](https://stackoverflow.com/a/67685888/2521214)\r\n\r\nAnd more recent demo version (with map editor):\r\n\r\n- [win32 stand alone raycast demo](https://ulozto.net/file/ldRBVyQ0PdFI/doom3d-exe-zip#!ZGExAmR2ZGH5ATD1AmWxZ2H5AJH1BRyTMSOLL3csrH9bITAyZj==)\r\n\r\n  [1]: https://i.stack.imgur.com/QWJpF.png\r\n  [2]: https://i.stack.imgur.com/dk0fu.png\r\n  [3]: https://i.stack.imgur.com/kE4jR.png\r\n  [4]: https://i.stack.imgur.com/nJfQg.png\r\n  [5]: https://i.stack.imgur.com/WsWKW.jpg\r\n  [6]: https://i.stack.imgur.com/8ZZWg.gif","title":"Ray Casting with different height size","body":"<p>so you obviously know the basics of <a href=\"https://stackoverflow.com/a/32733650/2521214\">Wolfenstein raycasting</a> techniques. To add variable height you need to do this:</p>\n<ol>\n<li><strong>add height info on per cell basis</strong></li>\n</ol>\n<p>so simply add another value to your cell info in your map table <code>map[][]</code>. You code the stuff as strings that is odd ...</p>\n<ol start=\"2\">\n<li><strong>update scan line render</strong></li>\n</ol>\n<p>Somewhere in the code (after hit was detected) you render vertical line per each ray. There you should compute the scan line size something like (assuming y=0 is top of the screen):</p>\n<pre><code>    y0 = center_of_view_y + projected_half_size\n    y1 = center_of_view_y - projected_half_size\n</code></pre>\n<p>And should change to:</p>\n<pre><code>    y0 = center_of_view_y + projected_size\n    y1 = y0 - 2*projected_half_size*wall_size\n</code></pre>\n<p>Where <code>projected_half_size</code> is the line size computed for constant cell height as you got now, <code>wall_size=&lt;0,1&gt;</code> is scale and <code>center_of_view_y</code> is the y coordinate of the horizon line in your view. This will put your wall on the ground.</p>\n<ol start=\"3\">\n<li><strong>update ray-casting</strong></li>\n</ol>\n<p>now when you hit the first wall you stop. With variable wall height you can stop only when you hit wall of full size (<code>wall_size=1</code>) or run out of map. You got 2 option to implement this.</p>\n<ol>\n<li>remember all hits and render in reverse order</li>\n<li>render immediately but only from last rendered height instead of from ground.</li>\n</ol>\n<p>The first option is easy to implement but requires more memory and it is slower. The second one is fast and does not need any lists or stacks. But it involves a little bit more math for the scan line render (<code>O(1)</code> if coded right)</p>\n<p>I played a bit with my demo from the link at the top. Now the result should look like this:</p>\n<p><a href=\"https://i.stack.imgur.com/QWJpF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QWJpF.png\" alt=\"variable height\" /></a></p>\n<p>As you can see the highlighted cells on the map are pass through for rays above their height (so you can see bigger cells behind them).</p>\n<p><strong>Beware</strong> once you add movement altitude direction (jumps, stairs etc) then the end condition must be different (the rendered scan line hit the top of the view). Also projection part of y coordinate will be different and need to include the actual player altitude.</p>\n<ol start=\"4\">\n<li><strong>add topside</strong></li>\n</ol>\n<p>You need to add the rendering of top side. It is similar to rendering ceiling and floor. <strong>IIRC</strong> original Wolfenstein did not have this capability but the latter <strong>pseudo 3D</strong> games like <strong>DOOM</strong> did.</p>\n<p>There are more possible approaches like <a href=\"https://stackoverflow.com/a/46219905/2521214\">Perspective Vision on Canvas</a> but I think the easiest to implement (as we already got enough info) is to compute the top side part of vertical <strong>scanline</strong> coordinates in texture and just copy pixels. As we already know where the ray hit the cell and angle of player/camera is also known. For more info see: <a href=\"http://qzx.com/pc-gpe/doom.txt\" rel=\"nofollow noreferrer\">PCGPE 1.0 Doom techniques</a></p>\n<p>So as a first step add hits for back faces too. That should look like this:</p>\n<p><a href=\"https://i.stack.imgur.com/dk0fu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dk0fu.png\" alt=\"back faces\" /></a></p>\n<p>That is done by checking hits of the last hit cell first. Now if you remember the last rendered <code>y</code> coordinate from previous hit (of the same scanline) then if back face is hit instead of rendering the face render top side color from last <code>y</code> to actual <code>y</code> (or copy pixels from floor/ceiling texture instead). Here the green color used for this:</p>\n<p><a href=\"https://i.stack.imgur.com/kE4jR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kE4jR.png\" alt=\"top side\" /></a></p>\n<p>If it helps here is mine C++ (GDI/VCL based) code for this:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>//---------------------------------------------------------------------------\n//--- Doom 3D engine ver: 1.000 --------------------------------------\n//---------------------------------------------------------------------------\n#ifndef _Doom3D_h\n#define _Doom3D_h\n//---------------------------------------------------------------------------\n#include &lt;math.h&gt;\n#include &lt;jpeg.hpp&gt;\n#include &quot;performance.h&quot;\n#include &quot;OpenGLrep4d_double.h&quot;\n//---------------------------------------------------------------------------\nconst DWORD _Doom3D_cell_size=10;   // 2D map cell size\nconst DWORD _Doom3D_wall_size=100;  // full height of wall in map\n#define _Doom3D_filter_txr\n//---------------------------------------------------------------------------\nclass Doom3D\n    {\npublic:\n    DWORD mxs,mys,**pmap;           // 2D map   // txr + height&lt;&lt;16\n    DWORD sxs,sys,**pscr;           // pseudo 3D screen\n    Graphics::TBitmap *scr;\n    DWORD txs,tys,**ptxr,tn;        // 2D textures\n    Graphics::TBitmap *txr,*txr2;   // textures, texture mipmaps resolution: /2 and /4\n    double plrx,plry,plrz,plra;     // player position [x,y,z,angle]\n    double view_ang;                // [rad] view angle\n    double focus;                   // [cells] view focal length\n    struct _ray\n        {\n        double x,y,l;               // hit or end of map position\n        DWORD hit;                  // map cell of hit or 0xFFFFFFFF\n        char typ;                   // H/V\n        _ray() {};\n        _ray(_ray&amp; a)   { *this=a; }\n        ~_ray() {};\n        _ray* operator = (const _ray *a) { *this=*a; return this; }\n        //_ray* operator = (const _ray &amp;a) { ..copy... return this; }\n        };\n    _ray *ray;                      // ray[sxs]\n\n    keytab keys;\n    DWORD txr_sel;\n    DWORD cell_h;\n\n    Doom3D();\n    Doom3D(Doom3D&amp; a)   { *this=a; }\n    ~Doom3D();\n    Doom3D* operator = (const Doom3D *a) { *this=*a; return this; }\n    //Doom3D* operator = (const Doom3D &amp;a) { ..copy... return this; }\n\n    void map_resize(DWORD xs,DWORD ys); // change map resolution\n    void map_height(DWORD height);      // set height for whole map to convert maps from Wolfenstein3D demo\n    void map_clear();                   // clear whole map\n    void map_save(AnsiString name);\n    void map_load(AnsiString name);\n    void scr_resize(DWORD xs,DWORD ys);\n    void txr_load(AnsiString name);\n\n    void draw();\n    void update(double dt);\n    void mouse(double x,double y,TShiftState sh)\n        {\n        x=floor(x/_Doom3D_cell_size); if (x&gt;=mxs) x=mxs-1; if (x&lt;0) x=0;\n        y=floor(y/_Doom3D_cell_size); if (y&gt;=mys) y=mys-1; if (y&lt;0) y=0;\n        DWORD xx=x,yy=y;\n        keys.setm(x,y,sh);\n        if (keys.Shift.Contains(ssLeft )) pmap[yy][xx]=(txr_sel)|(cell_h&lt;&lt;16);\n        if (keys.Shift.Contains(ssRight)) pmap[yy][xx]=0xFFFFFFFF;\n        keys.rfsmouse();\n        }\n    void wheel(int delta,TShiftState sh)\n        {\n        if (sh.Contains(ssShift))\n            {\n            if (delta&lt;0) { cell_h-=10; if (cell_h&lt;10) cell_h=10; }\n            if (delta&gt;0) { cell_h+=10; if (cell_h&gt;_Doom3D_wall_size) cell_h=_Doom3D_wall_size; }\n            }\n        else{\n            if (delta&lt;0) { txr_sel--; if (txr_sel==0xFFFFFFFF) txr_sel=tn-1; }\n            if (delta&gt;0) { txr_sel++; if (txr_sel==        tn) txr_sel=   0; }\n            }\n        }\n    };\n//---------------------------------------------------------------------------\nDoom3D::Doom3D()\n    {\n    mxs=0; mys=0;                            pmap=NULL;\n    sxs=0; sys=0; scr=new Graphics::TBitmap; pscr=NULL; ray=NULL;\n    txs=0; tys=0; txr=new Graphics::TBitmap; ptxr=NULL; tn=0;\n                  txr2=new Graphics::TBitmap;\n    plrx=0.0; plry=0.0; plrz=0.0; plra=0.0;\n    view_ang=60.0*deg;\n    focus=0.25;\n    txr_sel=0;\n    cell_h=_Doom3D_wall_size;\n\n    txr_load(&quot;textures128x128.jpg&quot;);\n    map_resize(16,16);\n    map_load(&quot;Doom3D_map.dat&quot;);\n    }\n//---------------------------------------------------------------------------\nDoom3D::~Doom3D()\n    {\n    DWORD y;\n    map_save(&quot;Doom3D_map.dat&quot;);\n    if (pmap) { for (y=0;y&lt;mys;y++) delete[] pmap[y]; delete[] pmap; pmap=NULL; } if (ray) delete[] ray; ray=NULL;\n    if (pscr) {                                       delete[] pscr; pscr=NULL; } if (scr) delete scr; scr=NULL;\n    if (ptxr) {                                       delete[] ptxr; ptxr=NULL; } if (txr) delete txr; txr=NULL;\n                                                                                  if (txr2) delete txr2; txr2=NULL;\n    }\n//---------------------------------------------------------------------------\nvoid Doom3D::map_resize(DWORD xs,DWORD ys)\n    {\n    DWORD y;\n    if (pmap) { for (y=0;y&lt;mys;y++) delete[] pmap[y]; delete[] pmap; pmap=NULL; }\n    mys=ys; mxs=xs; pmap=new DWORD*[mys]; for (y=0;y&lt;mys;y++) pmap[y]=new DWORD[mxs];\n    map_clear();\n    plrx=(mxs-1)*0.5; plry=(mys-1)*0.5; plrz=0.0; plra=0.0*deg;\n    }\n//---------------------------------------------------------------------------\nvoid Doom3D::map_height(DWORD h)\n    {\n    DWORD x,y,c;\n    for (y=0;y&lt;mys;y++)\n     for (x=0;x&lt;mxs;x++)\n        {\n        c=pmap[y][x];\n        c&amp;=0xFFFF;\n        c|=h&lt;&lt;16;\n        pmap[y][x]=c;\n        }\n    }\n//---------------------------------------------------------------------------\nvoid Doom3D::map_clear()\n    {\n    DWORD x,y,c;\n    for (y=0;y&lt;mys;y++)\n     for (x=0;x&lt;mxs;x++)\n        {\n        c=0xFFFFFFFF;\n        if ((x==0)||(x==mxs-1)) c=0;\n        if ((y==0)||(y==mys-1)) c=0;\n        pmap[y][x]=c;\n        }\n    }\n//---------------------------------------------------------------------------\nvoid Doom3D::map_save(AnsiString name)\n    {\n    int hnd=FileCreate(name); if (hnd&lt;0) return;\n    DWORD y;\n    y=' PAM';\n    FileWrite(hnd,&amp;y  ,4);  // id\n    FileWrite(hnd,&amp;mxs,4);  // x resolution\n    FileWrite(hnd,&amp;mys,4);  // y resolution\n    for (y=0;y&lt;mys;y++)     // map\n     FileWrite(hnd,pmap[y],mxs&lt;&lt;2);\n    y=' RLP';\n    FileWrite(hnd,&amp;y  ,4);  // id\n    FileWrite(hnd,&amp;plrx,8);\n    FileWrite(hnd,&amp;plry,8);\n    FileWrite(hnd,&amp;plrz,8);\n    FileWrite(hnd,&amp;plra,8);\n    FileClose(hnd);\n    }\n//---------------------------------------------------------------------------\nvoid Doom3D::map_load(AnsiString name)\n    {\n    int hnd=FileOpen(name,fmOpenRead); if (hnd&lt;0) return;\n    DWORD x,y;\n    y=' PAM'; FileRead(hnd,&amp;x  ,4); // id\n    if (x==y)\n        {\n        FileRead(hnd,&amp;x,4); // x resolution\n        FileRead(hnd,&amp;y,4); // y resolution\n        map_resize(x,y);\n        for (y=0;y&lt;mys;y++) // map\n         FileRead(hnd,pmap[y],mxs&lt;&lt;2);\n        }\n    y=' RLP'; FileRead(hnd,&amp;x  ,4); // id\n    if (x==y)\n        {\n        FileRead(hnd,&amp;plrx,8);\n        FileRead(hnd,&amp;plry,8);\n        FileRead(hnd,&amp;plrz,8);\n        FileRead(hnd,&amp;plra,8);\n        }\n    FileClose(hnd);\n    }\n//---------------------------------------------------------------------------\nvoid Doom3D::scr_resize(DWORD xs,DWORD ys)\n    {\n    scr-&gt;HandleType=bmDIB;\n    scr-&gt;PixelFormat=pf32bit;\n    scr-&gt;SetSize(xs,ys);\n    sxs=scr-&gt;Width;\n    sys=scr-&gt;Height;\n    delete[] pscr; pscr=new DWORD*[sys];\n    for (DWORD y=0;y&lt;sys;y++) pscr[y]=(DWORD*)scr-&gt;ScanLine[y];\n    if (ray) delete[] ray; ray=new _ray[sxs];\n    }\n//---------------------------------------------------------------------------\nvoid Doom3D::txr_load(AnsiString name)\n    {\n    AnsiString ext=ExtractFileExt(name).LowerCase();\n    for(;;)\n        {\n        if (ext==&quot;.bmp&quot;)\n            {\n            txr-&gt;LoadFromFile(name);\n            break;\n            }\n        if (ext==&quot;.jpg&quot;)\n            {\n            TJPEGImage *jpg=new TJPEGImage;\n            if (jpg==NULL) return;\n            jpg-&gt;LoadFromFile(name);\n            txr-&gt;Assign(jpg);\n            delete jpg;\n            break;\n            }\n        return;\n        }\n    DWORD y=tys;\n    txr-&gt;HandleType=bmDIB;\n    txr-&gt;PixelFormat=pf32bit;\n    txs=txr-&gt;Width;\n    tys=txr-&gt;Height;\n    // mip map\n    txr2-&gt;SetSize(txs&gt;&gt;1,(tys&gt;&gt;1)+(tys&gt;&gt;2));\n    txr2-&gt;Canvas-&gt;StretchDraw(TRect(0,     0,txs&gt;&gt;1,tys&gt;&gt;1),txr);\n    txr2-&gt;Canvas-&gt;StretchDraw(TRect(0,tys&gt;&gt;1,txs&gt;&gt;2,(tys&gt;&gt;1)+(tys&gt;&gt;2)),txr);\n    tn=txs/tys; txs=tys;\n    delete[] ptxr; ptxr=new DWORD*[tys];\n    for (y=0;y&lt;tys;y++) ptxr[y]=(DWORD*)txr-&gt;ScanLine[y];\n    }\n//---------------------------------------------------------------------------\nvoid Doom3D::draw()\n    {\n    // total time measurement\n    tbeg(); double tperf0=performance_tms;\n\n    AnsiString tcls,tray,tmap,ttotal;\n    double a,a0,da,dx,dy,l,mx,my;\n    DWORD x,y,xs2,ys2,c,m;\n    double xx0,yy0,dx0,dy0,ll0; DWORD c0,d0;\n    double xx1,yy1,dx1,dy1,ll1; DWORD c1,d1;\n    _ray *p;\n    xs2=sxs&gt;&gt;1;\n    ys2=sys&gt;&gt;1;\n\n    // aspect ratio,view angle corrections\n    a=90.0*deg-view_ang;\n    double wall=double(sxs)*(1.25+(0.288*a)+(2.04*a*a)); // [px]\n\n    // floor,ceilling/sky\n    tbeg();\n    for (y=0;y&lt;ys2;y++) for (x=0;x&lt;sxs;x++) pscr[y][x]=0x000080FF;\n    for (   ;y&lt;sys;y++) for (x=0;x&lt;sxs;x++) pscr[y][x]=0x00404040;\n    tend(); tcls=tstr(1)+&quot; cls&quot;;\n\n    // [cast rays]\n    tbeg();\n    // diffuse + ambient lighting\n    DWORD ch=155.0+fabs(100.0*sin(plra));\n    DWORD cv=155.0+fabs(100.0*cos(plra));\n    a0=plra-(0.5*view_ang);\n    da=divide(view_ang,sxs-1);\n    mx=mxs; my=mys;\n    for (p=ray,a=a0,x=0;x&lt;sxs;x++,a+=da,p++)\n        {\n        p-&gt;x=plrx;\n        p-&gt;y=plry;\n        p-&gt;hit=0xFFFFFFFF;\n        p-&gt;typ=' ';\n        p-&gt;l=1.0e20;\n        ll0=ll1=p-&gt;l;\n        // grid V-line hits\n        c0=0; dx0=cos(a);\n        if (dx0&lt;0.0) { c0=1; xx0=floor(plrx)-0.001; dx0=-1.0; }\n        if (dx0&gt;0.0) { c0=1; xx0=ceil (plrx)+0.001; dx0=+1.0; }\n        if (c0) { dy0=tan(a); yy0=plry+((xx0-plrx)*dy0);             dy0*=dx0; dx=xx0-plrx; dy=yy0-plry; ll0=(dx*dx)+(dy*dy); }\n        // grid H-line hits\n        c1=0; dy1=sin(a);\n        if (dy1&lt;0.0) { c1=1; yy1=floor(plry)-0.001; dy1=-1.0; }\n        if (dy1&gt;0.0) { c1=1; yy1=ceil (plry)+0.001; dy1=+1.0; }\n        if (c1) { dx1=divide(1.0,tan(a)); xx1=plrx+((yy1-plry)*dx1); dx1*=dy1; dx=xx1-plrx; dy=yy1-plry; ll1=(dx*dx)+(dy*dy); }\n        int height0=sys; // already rendered height [pixels]\n        bool _hit,_back=false,_bck=true;\n        if (!c0) ll0=1e20;\n        if (!c1) ll1=1e20;\n        for (;c0||c1;)\n            {\n            _hit=false;\n            // grid V-line hits\n            if (c0)\n                {\n                if (xx0&lt;0.0) { c0=0; ll0=1e20; }\n                if (xx0&gt;=mx) { c0=0; ll0=1e20; }\n                if (yy0&lt;0.0) { c0=0; ll0=1e20; }\n                if (yy0&gt;=my) { c0=0; ll0=1e20; }\n                }\n            if ((c0)&amp;&amp;(ll0&lt;ll1))\n                {\n                m=DWORD(xx0-dx0);\n                if ((m&gt;=0.0)&amp;&amp;(m&lt;mxs)&amp;&amp;(!_bck)){ c=pmap[DWORD(yy0)][      m   ]; if ((c&amp;0xFFFF)!=0xFFFF) { p-&gt;hit=c; p-&gt;typ='V'; p-&gt;l=ll0; p-&gt;x=xx0; p-&gt;y=yy0; _hit=true; _back=true;  _bck=true;  }}\n                if (!_hit)                     { c=pmap[DWORD(yy0)][DWORD(xx0)]; if ((c&amp;0xFFFF)!=0xFFFF) { p-&gt;hit=c; p-&gt;typ='V'; p-&gt;l=ll0; p-&gt;x=xx0; p-&gt;y=yy0; _hit=true; _back=false; _bck=false; } xx0+=dx0; dx=xx0-plrx; yy0+=dy0; dy=yy0-plry; ll0=(dx*dx)+(dy*dy); }\n                }\n            // grid H-line hits\n            if (c1)\n                {\n                if (xx1&lt;0.0) { c1=0; ll1=1e20; }\n                if (xx1&gt;=mx) { c1=0; ll1=1e20; }\n                if (yy1&lt;0.0) { c1=0; ll1=1e20; }\n                if (yy1&gt;=my) { c1=0; ll1=1e20; }\n                }\n            if ((c1)&amp;&amp;(ll0&gt;ll1)&amp;&amp;(!_hit))\n                {\n                m=DWORD(yy1-dy1);\n                if ((m&gt;=0.0)&amp;&amp;(m&lt;mys)&amp;&amp;(!_bck)){ c=pmap[      m   ][DWORD(xx1)]; if ((c&amp;0xFFFF)!=0xFFFF) { p-&gt;hit=c; p-&gt;typ='H'; p-&gt;l=ll1; p-&gt;x=xx1; p-&gt;y=yy1; _hit=true; _back=true;  _bck=true;  }}\n                if (!_hit)                     { c=pmap[DWORD(yy1)][DWORD(xx1)]; if ((c&amp;0xFFFF)!=0xFFFF) { p-&gt;hit=c; p-&gt;typ='H'; p-&gt;l=ll1; p-&gt;x=xx1; p-&gt;y=yy1; _hit=true; _back=false; _bck=false; } xx1+=dx1; dx=xx1-plrx; yy1+=dy1; dy=yy1-plry; ll1=(dx*dx)+(dy*dy); }\n                }\n            // render scan line\n            if (_hit)\n                {\n                union { DWORD dd; BYTE db[4]; } cc;\n                int tx,ty,sy,sy0,sy1,cnt,dsy,dty;\n                p-&gt;l=sqrt(p-&gt;l)*cos(a-plra);// anti fish eye\n                m=divide(wall*focus,p-&gt;l);  // projected wall half size\n                c=0;\n                if (p-&gt;typ=='H') { c=ch; tx=double(double(txs)*(p-&gt;x-floor(p-&gt;x))); }\n                if (p-&gt;typ=='V') { c=cv; tx=double(double(txs)*(p-&gt;y-floor(p-&gt;y))); }\n                tx+=txs*(p-&gt;hit&amp;0xFFFF);\n\n                // prepare interpolation\n                sy1=ys2+m;\n//              sy0=ys2-m;                                          // constant wall height\n                sy0=sy1-(((m+m)*(p-&gt;hit&gt;&gt;16))/_Doom3D_wall_size);   // variable wall height\n                dty=tys-1;\n                dsy=sy1-sy0+1;\n                // skip sy&gt;=sys\n                if (sy1&gt;=sys) sy1=sys-1;\n                // skip sy&lt;0\n                for (cnt=dsy,sy=sy0,ty=0;sy&lt;0;sy++) { cnt-=dty; while (cnt&lt;=0) { cnt+=dsy; ty++; }}\n\n                #ifdef _Doom3D_filter_txr\n                DWORD r=0,g=0,b=0,n=0;\n                #else\n                cc.dd=ptxr[ty][tx];\n                cc.db[0]=DWORD((DWORD(cc.db[0])*c)&gt;&gt;8);\n                cc.db[1]=DWORD((DWORD(cc.db[1])*c)&gt;&gt;8);\n                cc.db[2]=DWORD((DWORD(cc.db[2])*c)&gt;&gt;8);\n                #endif\n                // continue sy&gt;=0\n                y=height0;\n                if (sy1&gt;height0) sy1=height0;\n                if (sy0&lt;height0) height0=sy0;\n                if (_back){ for (sy=sy0;sy&lt;=y;sy++){ if ((sy&gt;0)&amp;&amp;(sy&lt;sys)) pscr[sy][x]=0x0000FF00; }}\n                 else for (;sy&lt;=sy1;sy++)\n                    {\n                    #ifdef _Doom3D_filter_txr\n                    if (!n)\n                        {\n                        cc.dd=ptxr[ty][tx];\n                        b+=DWORD(cc.db[0]);\n                        g+=DWORD(cc.db[1]);\n                        r+=DWORD(cc.db[2]); n+=256;\n                        }\n                    if ((sy&gt;0)&amp;&amp;(sy&lt;sys))\n                        {\n                        cc.db[0]=DWORD(c*b/n); b=0;\n                        cc.db[1]=DWORD(c*g/n); g=0;\n                        cc.db[2]=DWORD(c*r/n); r=0; n=0;\n                        pscr[sy][x]=cc.dd;\n                        }\n                    cnt-=dty; while (cnt&lt;=0)\n                        {\n                        cnt+=dsy; ty++;\n                        cc.dd=ptxr[ty][tx];\n                        b+=DWORD(cc.db[0]);\n                        g+=DWORD(cc.db[1]);\n                        r+=DWORD(cc.db[2]); n+=256;\n                        }\n                    #else\n                    if ((sy&gt;0)&amp;&amp;(sy&lt;sys)) pscr[sy][x]=cc.dd;\n                    cnt-=dty; while (cnt&lt;=0)\n                        {\n                        cnt+=dsy; ty++;\n                        cc.dd=ptxr[ty][tx];\n                        cc.db[0]=DWORD((DWORD(cc.db[0])*c)&gt;&gt;8);\n                        cc.db[1]=DWORD((DWORD(cc.db[1])*c)&gt;&gt;8);\n                        cc.db[2]=DWORD((DWORD(cc.db[2])*c)&gt;&gt;8);\n                        }\n                    #endif\n                    }\n                if (height0&lt;0) break;\n                }\n            }\n        }\n    tend(); tray=tstr(1)+&quot; ray&quot;;\n\n    // [2D map]\n    tbeg();\n    m=_Doom3D_cell_size;\n    mx=_Doom3D_cell_size;\n    if ((sxs&gt;=mxs*m)&amp;&amp;(sys&gt;=mys*m))\n        {\n        for (y=0;y&lt;mys*m;y++)       // pmap[][]\n         for (x=0;x&lt;mxs*m;x++)\n            {\n            if ((pmap[y/m][x/m]&amp;0xFFFF)!=0xFFFF) c=0x00808080; else c=0x00000000;\n            pscr[y][x]=c;\n            }\n        x=double(plrx*mx);          // view rays\n        y=double(plry*mx);\n        scr-&gt;Canvas-&gt;Pen-&gt;Color=0x00005050;\n        scr-&gt;Canvas-&gt;Pen-&gt;Mode=pmMerge;\n        for (c=0;c&lt;sxs;c++)\n            {\n            scr-&gt;Canvas-&gt;MoveTo(x,y);\n            scr-&gt;Canvas-&gt;LineTo(DWORD(ray[c].x*mx),DWORD(ray[c].y*mx));\n            }\n        scr-&gt;Canvas-&gt;Pen-&gt;Mode=pmCopy;\n        c=focus*m;                  // player and view direction\n        scr-&gt;Canvas-&gt;Pen-&gt;Color=0x000000FF;\n        scr-&gt;Canvas-&gt;Brush-&gt;Color=0x000000FF;\n        scr-&gt;Canvas-&gt;MoveTo(x,y);\n        scr-&gt;Canvas-&gt;LineTo(DWORD(ray[xs2].x*mx),DWORD(ray[xs2].y*mx));\n        scr-&gt;Canvas-&gt;Ellipse(x-c,y-c,x+c,y+c);\n        scr-&gt;Canvas-&gt;Pen-&gt;Color=0x00202020;\n        for (y=0;y&lt;=mys;y++)        // map grid\n         for (x=0;x&lt;=mxs;x++)\n            {\n            scr-&gt;Canvas-&gt;MoveTo(0    ,y*m);\n            scr-&gt;Canvas-&gt;LineTo(mxs*m,y*m);\n            scr-&gt;Canvas-&gt;MoveTo(x*m,    0);\n            scr-&gt;Canvas-&gt;LineTo(x*m,mys*m);\n            }\n        x=keys.mx*m;                // selected cell\n        y=keys.my*m;\n        scr-&gt;Canvas-&gt;Pen-&gt;Color=0x0020FFFF;\n        scr-&gt;Canvas-&gt;MoveTo(x  ,y  );\n        scr-&gt;Canvas-&gt;LineTo(x+m,y  );\n        scr-&gt;Canvas-&gt;LineTo(x+m,y+m);\n        scr-&gt;Canvas-&gt;LineTo(x  ,y+m);\n        scr-&gt;Canvas-&gt;LineTo(x  ,y  );\n        }\n    tend(); tmap=tstr(1)+&quot; map&quot;;\n\n    // [editor]\n    if (txr_sel!=0xFFFFFFFF)\n        {\n        int x=sxs,y=5,s0,s1,s2,i,j;\n        s0=txs&gt;&gt;1;\n        s1=txs&gt;&gt;2;\n        s2=(s0*cell_h)/_Doom3D_wall_size;\n\n        for (i=-3;i&lt;=3;i++)\n            {\n            j=txr_sel+i;\n            while (j&lt;  0) j+=tn;\n            while (j&gt;=tn) j-=tn;\n            if (i) { scr-&gt;Canvas-&gt;CopyRect(TRect(x-s1,y+(s1&gt;&gt;1),x,s1+(s1&gt;&gt;1)),txr2-&gt;Canvas,TRect(s1*j,s0,s1*j+s1,s0+s1)); x-=s1+5; }\n            else   { scr-&gt;Canvas-&gt;CopyRect(TRect(x-s0,y+s0-s2  ,x,s0        ),txr2-&gt;Canvas,TRect(s0*j, 0,s0*j+s0,s2   )); x-=s0+5; }\n            }\n        }\n\n    // total time measurement\n    performance_tms=tperf0;\n    tend(); ttotal=tstr(1)+&quot; total&quot;;\n\n    x=m*mxs+m;\n    c=16; y=-c;\n    scr-&gt;Canvas-&gt;Font-&gt;Color=clYellow;\n    scr-&gt;Canvas-&gt;Brush-&gt;Style=bsClear;\n    scr-&gt;Canvas-&gt;TextOutA(x,y+=c,AnsiString().sprintf(&quot;player: %.2lf x %.2lf x %.2lf&quot;,plrx,plry,plrz));\n    scr-&gt;Canvas-&gt;TextOutA(x,y+=c,AnsiString().sprintf(&quot; mouse: %.2lf x %.2lf&quot;,keys.mx,keys.my));\n    scr-&gt;Canvas-&gt;TextOutA(x,y+=c,tray);\n    scr-&gt;Canvas-&gt;TextOutA(x,y+=c,tcls);\n    scr-&gt;Canvas-&gt;TextOutA(x,y+=c,tmap);\n    scr-&gt;Canvas-&gt;TextOutA(x,y+=c,ttotal);\n    scr-&gt;Canvas-&gt;TextOutA(x,y+=c,AnsiString().sprintf(&quot;   key: %d&quot;,keys.Key));\n\n    // aspect ratio test\n/*\n    c=ys2*7/10;\n    scr-&gt;Canvas-&gt;Rectangle(xs2-c,ys2-c,xs2+c,ys2+c);\n*/\n    // cross\n    c=4,m=32;\n    scr-&gt;Canvas-&gt;Pen-&gt;Color=clRed;\n    scr-&gt;Canvas-&gt;MoveTo(xs2-c,ys2-m);\n    scr-&gt;Canvas-&gt;LineTo(xs2-c,ys2-c);\n    scr-&gt;Canvas-&gt;LineTo(xs2-m,ys2-c);\n    scr-&gt;Canvas-&gt;MoveTo(xs2+c,ys2-m);\n    scr-&gt;Canvas-&gt;LineTo(xs2+c,ys2-c);\n    scr-&gt;Canvas-&gt;LineTo(xs2+m,ys2-c);\n    scr-&gt;Canvas-&gt;MoveTo(xs2-c,ys2+m);\n    scr-&gt;Canvas-&gt;LineTo(xs2-c,ys2+c);\n    scr-&gt;Canvas-&gt;LineTo(xs2-m,ys2+c);\n    scr-&gt;Canvas-&gt;MoveTo(xs2+c,ys2+m);\n    scr-&gt;Canvas-&gt;LineTo(xs2+c,ys2+c);\n    scr-&gt;Canvas-&gt;LineTo(xs2+m,ys2+c);\n\n    scr-&gt;Canvas-&gt;Brush-&gt;Style=bsSolid;\n    }\n//---------------------------------------------------------------------------\nvoid Doom3D::update(double dt)\n    {\n    int move=0;\n    double da=120.0*deg*dt;\n    double dl=  5.0    *dt;\n    double dx=0.0,dy=0.0,dz=0.0;\n    if (keys.get(104)) { plra-=da; if (plra&lt; 0.0) plra+=pi2; }                      // turn l/r\n    if (keys.get(105)) { plra+=da; if (plra&gt;=pi2) plra-=pi2; }\n    if (keys.get(101)) { move=1; dx=+dl*cos(plra); dy=+dl*sin(plra); }              // move f/b\n    if (keys.get( 98)) { move=1; dx=-dl*cos(plra); dy=-dl*sin(plra); }\n    if (keys.get(102)) { move=1; dx= dl*cos(plra-90*deg); dy=dl*sin(plra-90*deg); } // strafe l/r\n    if (keys.get( 99)) { move=1; dx= dl*cos(plra+90*deg); dy=dl*sin(plra+90*deg); }\n    if (keys.get(100)) { move=1; dz=+dl; }  // strafe u/d\n    if (keys.get( 97)) { move=1; dz=-dl; }\n    if (move)   // update/test plr position\n        {\n        double x,y,z,mx,my;\n        x=plrx+dx; mx=mxs-focus;\n        y=plry+dy; my=mys-focus;\n        z=plrz+dz; if ((z&gt;=0.0)&amp;&amp;(z&lt;=_Doom3D_wall_size)) plrz=z;;\n        if (x&lt;focus) x=focus; if (x&gt;mx) x=mx;\n        if (y&lt;focus) y=focus; if (y&gt;my) y=my;\n        dx*=divide(focus,dl);\n        dy*=divide(focus,dl);\n             if ((pmap[DWORD(y+dy)][DWORD(x+dx)]&amp;0xFFFF)==0xFFFF) { plrx=x; plry=y; }\n        else if ((pmap[DWORD(y+dy)][DWORD(x   )]&amp;0xFFFF)==0xFFFF)           plry=y;\n        else if ((pmap[DWORD(y   )][DWORD(x+dx)]&amp;0xFFFF)==0xFFFF)   plrx=x;\n        }\n    keys.rfskey();\n    }\n//---------------------------------------------------------------------------\n//---------------------------------------------------------------------------\n#endif\n//---------------------------------------------------------------------------\n//---------------------------------------------------------------------------\n</code></pre>\n<p>Just ignore the <code>performance.h</code> time measurement <code>tbeg,tend,tstr</code>, <code>OpenGLrep4d_double.h</code> keyboard and mouse handler <code>keytab</code> and port VCL related stuff (<code>Canvas,AnsiString</code>,File access, JPEG...).</p>\n<p>If you need help with understand the gfx stuff see</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/21699076/2521214\">Display an array of color in C</a></li>\n</ul>\n<p>The usage of this class is simple declare an object of this class, and add the event to your window (mouse,keyboard,repaint ...). My VCL Window (single form with one timer on it) code looks like this:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>//$$---- Form CPP ----\n//---------------------------------------------------------------------------\n#include &lt;vcl.h&gt;\n#pragma hdrstop\n#include &quot;win_main.h&quot;\n#include &quot;Doom3D.h&quot;\n//---------------------------------------------------------------------------\n#pragma package(smart_init)\n#pragma resource &quot;*.dfm&quot;\nTMain *Main;\nDoom3D game;\n//---------------------------------------------------------------------------\nvoid TMain::draw()\n    {\n    game.draw();\n    Canvas-&gt;Draw(0,0,game.scr);\n    }\n//---------------------------------------------------------------------------\n__fastcall TMain::TMain(TComponent* Owner) : TForm(Owner)\n    {\n    }\n//---------------------------------------------------------------------------\nvoid __fastcall TMain::FormResize(TObject *Sender)\n    {\n    game.scr_resize(ClientWidth,ClientHeight);\n    }\n//---------------------------------------------------------------------------\nvoid __fastcall TMain::tim_redrawTimer(TObject *Sender)\n    {\n    game.update(tim_redraw-&gt;Interval*0.001);\n    draw();\n    }\n//---------------------------------------------------------------------------\nvoid __fastcall TMain::FormKeyDown(TObject *Sender, WORD &amp;Key,TShiftState Shift){ game.keys.set(Key,Shift); }\nvoid __fastcall TMain::FormKeyUp(TObject *Sender, WORD &amp;Key, TShiftState Shift) { game.keys.rst(Key,Shift); }\nvoid __fastcall TMain::FormActivate(TObject *Sender)                            { game.keys.reset_keys(); }\n//---------------------------------------------------------------------------\nvoid __fastcall TMain::FormMouseMove(TObject *Sender,                      TShiftState Shift, int X, int Y) { game.mouse(X,Y,Shift); }\nvoid __fastcall TMain::FormMouseDown(TObject *Sender, TMouseButton Button, TShiftState Shift, int X, int Y) { game.mouse(X,Y,Shift); }\nvoid __fastcall TMain::FormMouseUp  (TObject *Sender, TMouseButton Button, TShiftState Shift, int X, int Y) { game.mouse(X,Y,Shift); }\nvoid __fastcall TMain::FormMouseWheel(TObject *Sender, TShiftState Shift, int WheelDelta, TPoint &amp;MousePos, bool &amp;Handled) { game.wheel(WheelDelta,Shift); Handled=true; }\n//---------------------------------------------------------------------------\n</code></pre>\n<p>And here the main iteration variables explanation:</p>\n<p><a href=\"https://i.stack.imgur.com/nJfQg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nJfQg.png\" alt=\"variables\" /></a></p>\n<p>And here the texture file:</p>\n<p><a href=\"https://i.stack.imgur.com/WsWKW.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WsWKW.jpg\" alt=\"textures\" /></a></p>\n<p>Here is how it looks like after some more code tweaking and <a href=\"https://en.wikipedia.org/wiki/Texture_mapping\" rel=\"nofollow noreferrer\">perspective correct texture mapping</a>:</p>\n<p><a href=\"https://i.stack.imgur.com/8ZZWg.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8ZZWg.gif\" alt=\"jump\" /></a></p>\n<p>Here related QA to this one:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/67685888/2521214\">Efficient floor/ceiling rendering in Raycaster</a></li>\n</ul>\n<p>And more recent demo version (with map editor):</p>\n<ul>\n<li><a href=\"https://ulozto.net/file/ldRBVyQ0PdFI/doom3d-exe-zip#!ZGExAmR2ZGH5ATD1AmWxZ2H5AJH1BRyTMSOLL3csrH9bITAyZj==\" rel=\"nofollow noreferrer\">win32 stand alone raycast demo</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":24413158,"reputation":1,"user_id":18340363,"display_name":"TIDMADT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646113269,"creation_date":1646113269,"answer_id":71304176,"question_id":47239797,"body_markdown":"I looked for a way to send a direct message to Spektre but didn&#39;t see one... is the full source for this available? I am working on something kinda like this, and would love to see how the &quot;steps&quot; were handled... I downloaded the win32 standalone demo (though I didn&#39;t see the map editor with it) and it looks like a better solution than the way I was working it","title":"Ray Casting with different height size","body":"<p>I looked for a way to send a direct message to Spektre but didn't see one... is the full source for this available? I am working on something kinda like this, and would love to see how the &quot;steps&quot; were handled... I downloaded the win32 standalone demo (though I didn't see the map editor with it) and it looks like a better solution than the way I was working it</p>\n"}],"owner":{"account_id":10008785,"reputation":405,"user_id":7402246,"accept_rate":67,"display_name":"Jack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10360,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":47251071,"answer_count":2,"score":10,"last_activity_date":1646113269,"creation_date":1510415426,"question_id":47239797,"body_markdown":"I have a java project who makes the &quot;windows&#39; maze&quot; and use the ray casting algorithm. Here&#39;s a screenshot :\r\n\r\n[![Maze made with ray casting][1]][1]\r\n\r\n\r\nLike you can see all the walls have the same height size. I would like to do the same but with different height size\r\n\r\n    private void castRay(int xOnScreen,double angle,double direction) {\r\n\t\tR rx = castRayInX(angle,direction);\r\n\t\tR ry = castRayInY(angle,direction);\r\n\t\t// In case of out-of-space rays\r\n\t\tif (rx.getDistance()==Double.MAX_VALUE &amp;&amp; ry.getDistance()==Double.MAX_VALUE) {\r\n\t\t\tgraphics.setColor(BACKGROUND);\r\n\t\t\tgraphics.drawLine(xOnScreen,0,xOnScreen,this.image.getHeight());\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdouble distance = rx.getDistance();\r\n\t\tdouble normal = rx.getNormal();\r\n\t\tColor c = rx.getColor();\r\n\t\tdouble coef = Math.cos((angle+direction+Math.PI)-normal);\r\n\t\tPlot collision = rx.getPlot();\r\n\r\n\t\tif (ry.getDistance()&lt;rx.getDistance()) {\r\n\t\t\tdistance = ry.getDistance();\r\n\t\t\tnormal = ry.getNormal();\r\n\t\t\tc = ry.getColor();\r\n\t\t\tcoef = Math.cos((angle+direction+Math.PI)-normal);\r\n\t\t\tcollision = ry.getPlot();\r\n\t\t}\r\n\t\t\r\n\t\tcoef = Math.abs(coef);\r\n\t\tint factor = map.length*SQUARE_SIZE;\r\n\t\tdouble d = (double)(distance+factor)/factor;\r\n\t\tcoef *= 1/(d*d);\r\n\t\tColor c2 = new Color((int)(c.getRed()*coef),(int)(c.getGreen()*coef),(int)(c.getBlue()*coef));\r\n\t\tgraphics.setColor(c2);\r\n    //\tgraphics.setColor(c);  // no illumination\r\n    \tdistance *= Math.cos(angle); // lens correction\r\n    \tint h = (int)(this.screenDistance/distance*WALL_HEIGHT); // perspective height\r\n    \tint vh = this.image.getHeight();\r\n    \tgraphics.drawLine(xOnScreen,(vh-h)/2,xOnScreen,(vh+h)/2);\r\n    \tdrawEye(direction,collision);\r\n    }\r\n\r\n    private R castRayInX(double angleRay,double direction) {\r\n\t\tdouble angle = angleRay+direction;\r\n\t\tdouble x1 = eye.getX()+SQUARE_SIZE*Math.cos(angle);\r\n\t\tdouble y1 = eye.getY()+SQUARE_SIZE*Math.sin(angle);\r\n\t\tdouble slope = (y1-eye.getY())/(x1-eye.getX());\r\n\t\tif (Math.cos(angle)==0) {\r\n\t\t\tif (Math.sin(angle)&gt;0)\r\n\t\t\t\treturn new R(Double.MAX_VALUE,3*Math.PI/2,BACKGROUND,null);\r\n\t\t\telse\r\n\t\t\t\treturn new R(Double.MAX_VALUE,Math.PI/2,BACKGROUND,null);\r\n\t\t}\r\n\t\tif (Math.cos(angle)&gt;0) {\r\n\t\t\tint firstX = ((eye.getX()/SQUARE_SIZE)+1)*SQUARE_SIZE;\r\n\t\t\tR r = new R(Double.MAX_VALUE,angle+Math.PI,BACKGROUND,null);\r\n\t\t\tfor (int x = firstX; x&lt;map[0].length*SQUARE_SIZE; x += SQUARE_SIZE) {\r\n\t\t\t\tint y = (int)(slope*(x-eye.getX())+eye.getY());\r\n\t\t\t\tif (isOutside(x,y,Color.MAGENTA,this.showRayCastingX)) break;\r\n\t\t\t\tColor c = colorAt(x,y);\r\n\t\t\t\tif (c==null) c = colorAt(x,y-1);\r\n\t\t\t\tif (c==null) c = colorAt(x-1,y);\r\n\t\t\t\tif (c==null) c = colorAt(x-1,y-1);\r\n\t\t\t\tif (c!=null) {\r\n\t\t\t\t\tint DX = x-eye.getX();\r\n\t\t\t\t\tdouble DY = y-eye.getY();\r\n\t\t\t\t\treturn new R(Math.sqrt(DX*DX+DY*DY),Math.PI,c,new Plot((int)x,(int)y, WALL_HEIGHT));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn r;\r\n\t\t} else {\r\n\t\t\tint firstX = ((eye.getX()/SQUARE_SIZE))*SQUARE_SIZE;\r\n\t\t\tR r = new R(Double.MAX_VALUE,angle+Math.PI,BACKGROUND,null);\r\n\t\t\tfor (int x = firstX; x&gt;=0; x -= SQUARE_SIZE) {\r\n\t\t\t\tint y = (int)(slope*(x-eye.getX())+eye.getY());\r\n\t\t\t\tif (isOutside(x,y,Color.MAGENTA,this.showRayCastingX)) break;\r\n\t\t\t\tColor c = colorAt(x,y);\r\n\t\t\t\tif (c==null) c = colorAt(x,y-1);\r\n\t\t\t\tif (c==null) c = colorAt(x-1,y);\r\n\t\t\t\tif (c==null) c = colorAt(x-1,y-1);\r\n\t\t\t\tif (c!=null) {\r\n\t\t\t\t\tint DX = x-eye.getX();\r\n\t\t\t\t\tdouble DY = y-eye.getY();\r\n\t\t\t\t\treturn new R(Math.sqrt(DX*DX+DY*DY),0,c,new Plot((int)x,(int)y, WALL_HEIGHT));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn r;\t\t\t\r\n\t\t}\r\n\t}\r\n\tprivate R castRayInY(double angleRay,double direction) {\r\n    //\tSystem.out.println(&quot;cast ray 2 Y &quot;+angleRay+&quot; &quot;+direction);\r\n    \tdouble angle = angleRay+direction;\r\n    \tdouble x1 = eye.getX()+SQUARE_SIZE*Math.cos(angle);\r\n    \tdouble y1 = eye.getY()+SQUARE_SIZE*Math.sin(angle);\r\n    //\tSystem.out.println(eye+&quot; &quot;+x1+&quot; &quot;+y1);\r\n    \tdouble slope = (y1-eye.getY())/(x1-eye.getX());\r\n    \tif (Math.sin(angle)==0) {\r\n    \t\tif (Math.cos(angle)&gt;0)\r\n    \t\t\treturn new R(Double.MAX_VALUE,Math.PI,BACKGROUND,null);\r\n    \t\telse\r\n    \t\t\treturn new R(Double.MAX_VALUE,0,BACKGROUND,null);\r\n    \t}\r\n    \tif (Math.sin(angle)&gt;0) {\r\n    \t\tint firstY = ((eye.getY()/SQUARE_SIZE)+1)*SQUARE_SIZE;\r\n    \t\tR r = new R(Double.MAX_VALUE,angle+Math.PI,BACKGROUND,null);\r\n    \t\tfor (int y = firstY; y&lt;map.length*SQUARE_SIZE; y += SQUARE_SIZE) {\r\n    \t\t\tint x = (int)((y-eye.getY())/slope)+eye.getX();\r\n    \t\t\tif (isOutside(x,y,Color.CYAN,this.showRayCastingY)) break;\r\n    \t\t\tColor c = colorAt(x,y);\r\n    \t\t\tif (c==null) c = colorAt(x,y-1);\r\n    \t\t\tif (c==null) c = colorAt(x-1,y);\r\n    \t\t\tif (c==null) c = colorAt(x-1,y-1);\r\n    \t\t\tif (c!=null) {\r\n    \t\t\t\tdouble DX = x-eye.getX();\r\n    \t\t\t\tint DY = y-eye.getY();\r\n    \t\t\t\treturn new R(Math.sqrt(DX*DX+DY*DY),3*Math.PI/2,c,new Plot((int)x,(int)y, WALL_HEIGHT));\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\treturn r;\r\n    \t\t} else {\r\n    \t\t\tint firstY = ((eye.getY()/SQUARE_SIZE))*SQUARE_SIZE;\r\n    \t\t\tR r = new R(Double.MAX_VALUE,angle+Math.PI,BACKGROUND,null);\r\n    \t\t\tfor (int y = firstY; y&gt;=0; y -= SQUARE_SIZE) {\r\n    \t\t\t\tint x = (int)((y-eye.getY())/slope)+eye.getX();\r\n    \t\t\t\tif (isOutside(x,y,Color.CYAN,this.showRayCastingY)) break;\r\n    \t\t\t\tColor c = colorAt(x,y);\r\n    \t\t\t\tif (c==null) c = colorAt(x,y-1);\r\n    \t\t\t\tif (c==null) c = colorAt(x-1,y);\r\n    \t\t\t\tif (c==null) c = colorAt(x-1,y-1);\r\n    \t\t\t\tif (c!=null) {\r\n    \t\t\t\t\tdouble DX = x-eye.getX();\r\n    \t\t\t\t\tint DY = y-eye.getY();\r\n    \t\t\t\t\treturn new R(Math.sqrt(DX*DX+DY*DY),Math.PI/2,c,new Plot((int)x,(int)y, WALL_HEIGHT));\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\treturn r;\t\t\t\r\n    \t\t}\r\n    \t}\r\n\r\nMy `R`class has a `Plot (x, y, z)` for now I use `WALL_HEIGHT` a color, a distance and a normal for the light. For now this works but I would like to add a new function like castRayInZ but I don&#39;t have all the mathematics theory behind. My maze is made from a map like that :\r\n\r\n    private String [][]map = {  // each: SQUARE_SIZE x SQUARE_SIZE\r\n\t\t\t{ &quot;Y300&quot;, &quot;Z500&quot;, &quot;X230&quot;, &quot;Y112&quot;, &quot;Z321&quot;, &quot;X120&quot;, &quot;X354&quot; },\r\n\t\t\t{ &quot;X89&quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot;Y120&quot;, &quot; &quot;, &quot;X232&quot; },\r\n\t\t\t{ &quot;Z124&quot;, &quot; &quot;, &quot;X276&quot;, &quot; &quot;, &quot;X123&quot;, &quot; &quot;, &quot;X&quot; },\r\n\t\t\t{ &quot;Y290&quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot;X100&quot; },\r\n\t\t\t{ &quot;X32&quot;, &quot;Z430&quot;, &quot; &quot;, &quot;Y500&quot;, &quot;X120&quot;, &quot; &quot;, &quot;X123&quot; },\r\n\t\t\t{ &quot;X222&quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot;X210&quot; },\r\n\t\t\t{ &quot;X12&quot;, &quot;Y98&quot;, &quot;Y763&quot;, &quot;X146&quot;, &quot;Y111&quot;, &quot;Y333&quot;, &quot;X321&quot; }\r\n\r\nwhere X Y Z is for the color (X for Red, Y for Green and Z for Blue just testing my light function) and I add a height for each square of my map. I set all of length to `SQUARE_LENGTH` for now maybe later I will reduce the size of each square to a pixel and enlarge my map by generating it. But I really want to know how can I change the height of each square. I&#39;m working on it since 4 days now and I don&#39;t have any clues...\r\n\r\n**EDIT**\r\n\r\nI have some news, I changed the size of my walls but I have some strange stuff, here&#39;s a screenshot :\r\n\r\n[![Strange stuff image][2]][2]\r\n\r\nLike you can see I there&#39;s some strange things appear here. Here&#39;s my code :\r\n\r\n    private void castRay(int xOnScreen,double angle,double direction) {\r\n\t\tR rx = castRayInX(angle,direction);\r\n\t\tR ry = castRayInY(angle,direction);\r\n\t\t// In case of out-of-space rays\r\n\t\tif (rx.getDistance()==Double.MAX_VALUE &amp;&amp; ry.getDistance()==Double.MAX_VALUE) {\r\n\t\t\tgraphics.setColor(BACKGROUND);\r\n\t\t\tgraphics.drawLine(xOnScreen,0,xOnScreen,this.image.getHeight());\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdouble distance = rx.getDistance();\r\n\t\tdouble normal = rx.getNormal();\r\n\t\tColor c = rx.getColor();\r\n\t\tdouble coef = Math.cos((angle+direction+Math.PI)-normal);\r\n\t\tPlot collision = rx.getPlot();\r\n\r\n\t\tif (ry.getDistance()&lt;rx.getDistance()) {\r\n\t\t\tdistance = ry.getDistance();\r\n\t\t\tnormal = ry.getNormal();\r\n\t\t\tc = ry.getColor();\r\n\t\t\tcoef = Math.cos((angle+direction+Math.PI)-normal);\r\n\t\t\tcollision = ry.getPlot();\r\n\t\t}\r\n\t\t\r\n\t\tcoef = Math.abs(coef);\r\n\t\tint factor = map.length*SQUARE_SIZE;\r\n\t\tdouble d = (double)(distance+factor)/factor;\r\n\t\tcoef *= 1/(d*d);\r\n\t\tColor c2 = new Color((int)(c.getRed()*coef),(int)(c.getGreen()*coef),(int)(c.getBlue()*coef));\r\n    graphics.setColor(c);\r\n\t\tdistance *= Math.cos(angle); // lens correction\r\n\t\tint h;\r\n\t\tint hw = (int)(this.screenDistance/distance*WALL_HEIGHT); //WALL_HEIGHT value is 300px at default\r\n\t\tif(rx.getPlot() != null)\r\n\t\t\th = (int)(this.screenDistance/distance*rx.getPlot().getZ()); // perspective height\r\n\t\telse\r\n\t\t\th = (int)(this.screenDistance/distance*WALL_HEIGHT);\r\n\t\tint vh = this.image.getHeight();\r\n\t\tint y0 = (hw+vh)/2;\r\n        int y1 = (vh-h)/2;\r\n        graphics.drawLine(xOnScreen,y0,xOnScreen,y1);\r\n\t\tdrawEye(direction,collision);\r\n\r\nMy problem should be from `castRayInX`function :\r\n\r\n    private R castRayInX(double angleRay,double direction) {\r\n\t\tdouble angle = angleRay+direction;\r\n\t\tdouble x1 = eye.getX()+SQUARE_SIZE*Math.cos(angle);\r\n\t\tdouble y1 = eye.getY()+SQUARE_SIZE*Math.sin(angle);\r\n\t\tdouble slope = (y1-eye.getY())/(x1-eye.getX());\r\n\t\tif (Math.cos(angle)==0) {\r\n\t\t\tif (Math.sin(angle)&gt;0)\r\n\t\t\t\treturn new R(Double.MAX_VALUE,3*Math.PI/2,BACKGROUND,null);\r\n\t\t\telse\r\n\t\t\t\treturn new R(Double.MAX_VALUE,Math.PI/2,BACKGROUND,null);\r\n\t\t}\r\n\t\tif (Math.cos(angle)&gt;0) {\r\n\t\t\tint firstX = ((eye.getX()/SQUARE_SIZE)+1)*SQUARE_SIZE;\r\n\t\t\tR r = new R(Double.MAX_VALUE,angle+Math.PI,BACKGROUND,null);\r\n\t\t\tfor (int x = firstX; x&lt;map[0].length*SQUARE_SIZE; x += SQUARE_SIZE) {\r\n\t\t\t\tint y = (int)(slope*(x-eye.getX())+eye.getY());\r\n\t\t\t\tif (isOutside(x,y,Color.MAGENTA,this.showRayCastingX)) break;\r\n\t\t\t\tColor c = colorAt(x,y);\r\n\t\t\t\tint z = heightAt(x,y);\r\n\t\t\t\tif (c==null) c = colorAt(x,y-1);\r\n\t\t\t\tif (c==null) c = colorAt(x-1,y);\r\n\t\t\t\tif (c==null) c = colorAt(x-1,y-1);\r\n\t\t\t\tif (z == 0) z = heightAt(x,y-1);\r\n\t\t\t\tif (z == 0) z = heightAt(x-1,y);\r\n\t\t\t\tif (z == 0) z = heightAt(x-1,y-1);\r\n\t\t\t\tif (c!=null) {\r\n\t\t\t\t\tint DX = x-eye.getX();\r\n\t\t\t\t\tdouble DY = y-eye.getY();\r\n\t\t\t\t\treturn new R(Math.sqrt(DX*DX+DY*DY),Math.PI,c,new Plot((int)x,(int)y,(int)z));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn r;\r\n\t\t} else {\r\n\t\t\tint firstX = ((eye.getX()/SQUARE_SIZE))*SQUARE_SIZE;\r\n\t\t\tR r = new R(Double.MAX_VALUE,angle+Math.PI,BACKGROUND,null);\r\n\t\t\tfor (int x = firstX; x&gt;=0; x -= SQUARE_SIZE) {\r\n\t\t\t\tint y = (int)(slope*(x-eye.getX())+eye.getY());\r\n\t\t\t\tif (isOutside(x,y,Color.MAGENTA,this.showRayCastingX)) break;\r\n\t\t\t\tColor c = colorAt(x,y);\r\n\t\t\t\tint z = heightAt(x,y);\r\n\t\t\t\tif (c==null) c = colorAt(x,y-1);\r\n\t\t\t\tif (c==null) c = colorAt(x-1,y);\r\n\t\t\t\tif (c==null) c = colorAt(x-1,y-1);\r\n\t\t\t\tif (z == 0) z = heightAt(x,y-1);\r\n\t\t\t\tif (z == 0) z = heightAt(x-1,y);\r\n\t\t\t\tif (z == 0) z = heightAt(x-1,y-1);\r\n\t\t\t\tif (c!=null) {\r\n\t\t\t\t\tint DX = x-eye.getX();\r\n\t\t\t\t\tdouble DY = y-eye.getY();\r\n\t\t\t\t\treturn new R(Math.sqrt(DX*DX+DY*DY),0,c,new Plot((int)x,(int)y,(int)z));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn r;\t\t\t\r\n\t\t}\r\n\t}\r\n\r\nShould I make a `castRayInZ`function ? Or should I get my `z` value somewhere else ?\r\n\r\n  [1]: https://i.stack.imgur.com/lLFb3.png\r\n  [2]: https://i.stack.imgur.com/vVfeA.png","title":"Ray Casting with different height size","body":"<p>I have a java project who makes the \"windows' maze\" and use the ray casting algorithm. Here's a screenshot :</p>\n\n<p><a href=\"https://i.stack.imgur.com/lLFb3.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lLFb3.png\" alt=\"Maze made with ray casting\"></a></p>\n\n<p>Like you can see all the walls have the same height size. I would like to do the same but with different height size</p>\n\n<pre><code>private void castRay(int xOnScreen,double angle,double direction) {\n    R rx = castRayInX(angle,direction);\n    R ry = castRayInY(angle,direction);\n    // In case of out-of-space rays\n    if (rx.getDistance()==Double.MAX_VALUE &amp;&amp; ry.getDistance()==Double.MAX_VALUE) {\n        graphics.setColor(BACKGROUND);\n        graphics.drawLine(xOnScreen,0,xOnScreen,this.image.getHeight());\n        return;\n    }\n    double distance = rx.getDistance();\n    double normal = rx.getNormal();\n    Color c = rx.getColor();\n    double coef = Math.cos((angle+direction+Math.PI)-normal);\n    Plot collision = rx.getPlot();\n\n    if (ry.getDistance()&lt;rx.getDistance()) {\n        distance = ry.getDistance();\n        normal = ry.getNormal();\n        c = ry.getColor();\n        coef = Math.cos((angle+direction+Math.PI)-normal);\n        collision = ry.getPlot();\n    }\n\n    coef = Math.abs(coef);\n    int factor = map.length*SQUARE_SIZE;\n    double d = (double)(distance+factor)/factor;\n    coef *= 1/(d*d);\n    Color c2 = new Color((int)(c.getRed()*coef),(int)(c.getGreen()*coef),(int)(c.getBlue()*coef));\n    graphics.setColor(c2);\n//  graphics.setColor(c);  // no illumination\n    distance *= Math.cos(angle); // lens correction\n    int h = (int)(this.screenDistance/distance*WALL_HEIGHT); // perspective height\n    int vh = this.image.getHeight();\n    graphics.drawLine(xOnScreen,(vh-h)/2,xOnScreen,(vh+h)/2);\n    drawEye(direction,collision);\n}\n\nprivate R castRayInX(double angleRay,double direction) {\n    double angle = angleRay+direction;\n    double x1 = eye.getX()+SQUARE_SIZE*Math.cos(angle);\n    double y1 = eye.getY()+SQUARE_SIZE*Math.sin(angle);\n    double slope = (y1-eye.getY())/(x1-eye.getX());\n    if (Math.cos(angle)==0) {\n        if (Math.sin(angle)&gt;0)\n            return new R(Double.MAX_VALUE,3*Math.PI/2,BACKGROUND,null);\n        else\n            return new R(Double.MAX_VALUE,Math.PI/2,BACKGROUND,null);\n    }\n    if (Math.cos(angle)&gt;0) {\n        int firstX = ((eye.getX()/SQUARE_SIZE)+1)*SQUARE_SIZE;\n        R r = new R(Double.MAX_VALUE,angle+Math.PI,BACKGROUND,null);\n        for (int x = firstX; x&lt;map[0].length*SQUARE_SIZE; x += SQUARE_SIZE) {\n            int y = (int)(slope*(x-eye.getX())+eye.getY());\n            if (isOutside(x,y,Color.MAGENTA,this.showRayCastingX)) break;\n            Color c = colorAt(x,y);\n            if (c==null) c = colorAt(x,y-1);\n            if (c==null) c = colorAt(x-1,y);\n            if (c==null) c = colorAt(x-1,y-1);\n            if (c!=null) {\n                int DX = x-eye.getX();\n                double DY = y-eye.getY();\n                return new R(Math.sqrt(DX*DX+DY*DY),Math.PI,c,new Plot((int)x,(int)y, WALL_HEIGHT));\n            }\n        }\n        return r;\n    } else {\n        int firstX = ((eye.getX()/SQUARE_SIZE))*SQUARE_SIZE;\n        R r = new R(Double.MAX_VALUE,angle+Math.PI,BACKGROUND,null);\n        for (int x = firstX; x&gt;=0; x -= SQUARE_SIZE) {\n            int y = (int)(slope*(x-eye.getX())+eye.getY());\n            if (isOutside(x,y,Color.MAGENTA,this.showRayCastingX)) break;\n            Color c = colorAt(x,y);\n            if (c==null) c = colorAt(x,y-1);\n            if (c==null) c = colorAt(x-1,y);\n            if (c==null) c = colorAt(x-1,y-1);\n            if (c!=null) {\n                int DX = x-eye.getX();\n                double DY = y-eye.getY();\n                return new R(Math.sqrt(DX*DX+DY*DY),0,c,new Plot((int)x,(int)y, WALL_HEIGHT));\n            }\n        }\n        return r;           \n    }\n}\nprivate R castRayInY(double angleRay,double direction) {\n//  System.out.println(\"cast ray 2 Y \"+angleRay+\" \"+direction);\n    double angle = angleRay+direction;\n    double x1 = eye.getX()+SQUARE_SIZE*Math.cos(angle);\n    double y1 = eye.getY()+SQUARE_SIZE*Math.sin(angle);\n//  System.out.println(eye+\" \"+x1+\" \"+y1);\n    double slope = (y1-eye.getY())/(x1-eye.getX());\n    if (Math.sin(angle)==0) {\n        if (Math.cos(angle)&gt;0)\n            return new R(Double.MAX_VALUE,Math.PI,BACKGROUND,null);\n        else\n            return new R(Double.MAX_VALUE,0,BACKGROUND,null);\n    }\n    if (Math.sin(angle)&gt;0) {\n        int firstY = ((eye.getY()/SQUARE_SIZE)+1)*SQUARE_SIZE;\n        R r = new R(Double.MAX_VALUE,angle+Math.PI,BACKGROUND,null);\n        for (int y = firstY; y&lt;map.length*SQUARE_SIZE; y += SQUARE_SIZE) {\n            int x = (int)((y-eye.getY())/slope)+eye.getX();\n            if (isOutside(x,y,Color.CYAN,this.showRayCastingY)) break;\n            Color c = colorAt(x,y);\n            if (c==null) c = colorAt(x,y-1);\n            if (c==null) c = colorAt(x-1,y);\n            if (c==null) c = colorAt(x-1,y-1);\n            if (c!=null) {\n                double DX = x-eye.getX();\n                int DY = y-eye.getY();\n                return new R(Math.sqrt(DX*DX+DY*DY),3*Math.PI/2,c,new Plot((int)x,(int)y, WALL_HEIGHT));\n                }\n            }\n            return r;\n        } else {\n            int firstY = ((eye.getY()/SQUARE_SIZE))*SQUARE_SIZE;\n            R r = new R(Double.MAX_VALUE,angle+Math.PI,BACKGROUND,null);\n            for (int y = firstY; y&gt;=0; y -= SQUARE_SIZE) {\n                int x = (int)((y-eye.getY())/slope)+eye.getX();\n                if (isOutside(x,y,Color.CYAN,this.showRayCastingY)) break;\n                Color c = colorAt(x,y);\n                if (c==null) c = colorAt(x,y-1);\n                if (c==null) c = colorAt(x-1,y);\n                if (c==null) c = colorAt(x-1,y-1);\n                if (c!=null) {\n                    double DX = x-eye.getX();\n                    int DY = y-eye.getY();\n                    return new R(Math.sqrt(DX*DX+DY*DY),Math.PI/2,c,new Plot((int)x,(int)y, WALL_HEIGHT));\n                }\n            }\n            return r;           \n        }\n    }\n</code></pre>\n\n<p>My <code>R</code>class has a <code>Plot (x, y, z)</code> for now I use <code>WALL_HEIGHT</code> a color, a distance and a normal for the light. For now this works but I would like to add a new function like castRayInZ but I don't have all the mathematics theory behind. My maze is made from a map like that :</p>\n\n<pre><code>private String [][]map = {  // each: SQUARE_SIZE x SQUARE_SIZE\n        { \"Y300\", \"Z500\", \"X230\", \"Y112\", \"Z321\", \"X120\", \"X354\" },\n        { \"X89\", \" \", \" \", \" \", \"Y120\", \" \", \"X232\" },\n        { \"Z124\", \" \", \"X276\", \" \", \"X123\", \" \", \"X\" },\n        { \"Y290\", \" \", \" \", \" \", \" \", \" \", \"X100\" },\n        { \"X32\", \"Z430\", \" \", \"Y500\", \"X120\", \" \", \"X123\" },\n        { \"X222\", \" \", \" \", \" \", \" \", \" \", \"X210\" },\n        { \"X12\", \"Y98\", \"Y763\", \"X146\", \"Y111\", \"Y333\", \"X321\" }\n</code></pre>\n\n<p>where X Y Z is for the color (X for Red, Y for Green and Z for Blue just testing my light function) and I add a height for each square of my map. I set all of length to <code>SQUARE_LENGTH</code> for now maybe later I will reduce the size of each square to a pixel and enlarge my map by generating it. But I really want to know how can I change the height of each square. I'm working on it since 4 days now and I don't have any clues...</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I have some news, I changed the size of my walls but I have some strange stuff, here's a screenshot :</p>\n\n<p><a href=\"https://i.stack.imgur.com/vVfeA.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vVfeA.png\" alt=\"Strange stuff image\"></a></p>\n\n<p>Like you can see I there's some strange things appear here. Here's my code :</p>\n\n<pre><code>private void castRay(int xOnScreen,double angle,double direction) {\n    R rx = castRayInX(angle,direction);\n    R ry = castRayInY(angle,direction);\n    // In case of out-of-space rays\n    if (rx.getDistance()==Double.MAX_VALUE &amp;&amp; ry.getDistance()==Double.MAX_VALUE) {\n        graphics.setColor(BACKGROUND);\n        graphics.drawLine(xOnScreen,0,xOnScreen,this.image.getHeight());\n        return;\n    }\n    double distance = rx.getDistance();\n    double normal = rx.getNormal();\n    Color c = rx.getColor();\n    double coef = Math.cos((angle+direction+Math.PI)-normal);\n    Plot collision = rx.getPlot();\n\n    if (ry.getDistance()&lt;rx.getDistance()) {\n        distance = ry.getDistance();\n        normal = ry.getNormal();\n        c = ry.getColor();\n        coef = Math.cos((angle+direction+Math.PI)-normal);\n        collision = ry.getPlot();\n    }\n\n    coef = Math.abs(coef);\n    int factor = map.length*SQUARE_SIZE;\n    double d = (double)(distance+factor)/factor;\n    coef *= 1/(d*d);\n    Color c2 = new Color((int)(c.getRed()*coef),(int)(c.getGreen()*coef),(int)(c.getBlue()*coef));\ngraphics.setColor(c);\n    distance *= Math.cos(angle); // lens correction\n    int h;\n    int hw = (int)(this.screenDistance/distance*WALL_HEIGHT); //WALL_HEIGHT value is 300px at default\n    if(rx.getPlot() != null)\n        h = (int)(this.screenDistance/distance*rx.getPlot().getZ()); // perspective height\n    else\n        h = (int)(this.screenDistance/distance*WALL_HEIGHT);\n    int vh = this.image.getHeight();\n    int y0 = (hw+vh)/2;\n    int y1 = (vh-h)/2;\n    graphics.drawLine(xOnScreen,y0,xOnScreen,y1);\n    drawEye(direction,collision);\n</code></pre>\n\n<p>My problem should be from <code>castRayInX</code>function :</p>\n\n<pre><code>private R castRayInX(double angleRay,double direction) {\n    double angle = angleRay+direction;\n    double x1 = eye.getX()+SQUARE_SIZE*Math.cos(angle);\n    double y1 = eye.getY()+SQUARE_SIZE*Math.sin(angle);\n    double slope = (y1-eye.getY())/(x1-eye.getX());\n    if (Math.cos(angle)==0) {\n        if (Math.sin(angle)&gt;0)\n            return new R(Double.MAX_VALUE,3*Math.PI/2,BACKGROUND,null);\n        else\n            return new R(Double.MAX_VALUE,Math.PI/2,BACKGROUND,null);\n    }\n    if (Math.cos(angle)&gt;0) {\n        int firstX = ((eye.getX()/SQUARE_SIZE)+1)*SQUARE_SIZE;\n        R r = new R(Double.MAX_VALUE,angle+Math.PI,BACKGROUND,null);\n        for (int x = firstX; x&lt;map[0].length*SQUARE_SIZE; x += SQUARE_SIZE) {\n            int y = (int)(slope*(x-eye.getX())+eye.getY());\n            if (isOutside(x,y,Color.MAGENTA,this.showRayCastingX)) break;\n            Color c = colorAt(x,y);\n            int z = heightAt(x,y);\n            if (c==null) c = colorAt(x,y-1);\n            if (c==null) c = colorAt(x-1,y);\n            if (c==null) c = colorAt(x-1,y-1);\n            if (z == 0) z = heightAt(x,y-1);\n            if (z == 0) z = heightAt(x-1,y);\n            if (z == 0) z = heightAt(x-1,y-1);\n            if (c!=null) {\n                int DX = x-eye.getX();\n                double DY = y-eye.getY();\n                return new R(Math.sqrt(DX*DX+DY*DY),Math.PI,c,new Plot((int)x,(int)y,(int)z));\n            }\n        }\n        return r;\n    } else {\n        int firstX = ((eye.getX()/SQUARE_SIZE))*SQUARE_SIZE;\n        R r = new R(Double.MAX_VALUE,angle+Math.PI,BACKGROUND,null);\n        for (int x = firstX; x&gt;=0; x -= SQUARE_SIZE) {\n            int y = (int)(slope*(x-eye.getX())+eye.getY());\n            if (isOutside(x,y,Color.MAGENTA,this.showRayCastingX)) break;\n            Color c = colorAt(x,y);\n            int z = heightAt(x,y);\n            if (c==null) c = colorAt(x,y-1);\n            if (c==null) c = colorAt(x-1,y);\n            if (c==null) c = colorAt(x-1,y-1);\n            if (z == 0) z = heightAt(x,y-1);\n            if (z == 0) z = heightAt(x-1,y);\n            if (z == 0) z = heightAt(x-1,y-1);\n            if (c!=null) {\n                int DX = x-eye.getX();\n                double DY = y-eye.getY();\n                return new R(Math.sqrt(DX*DX+DY*DY),0,c,new Plot((int)x,(int)y,(int)z));\n            }\n        }\n        return r;           \n    }\n}\n</code></pre>\n\n<p>Should I make a <code>castRayInZ</code>function ? Or should I get my <code>z</code> value somewhere else ?</p>\n"},{"tags":["java","graphics","combobox"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646112156,"post_id":71303609,"comment_id":126037539,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1646112455,"post_id":71303609,"comment_id":126037579,"body_markdown":"1. Avoid mixing console input with GUIs; 2. You&#39;re not adding the `GamePane` to you window; 3. Avoid `null` layouts","body":"1. Avoid mixing console input with GUIs; 2. You&#39;re not adding the <code>GamePane</code> to you window; 3. Avoid <code>null</code> layouts"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646112989,"creation_date":1646112989,"answer_id":71304149,"question_id":71303609,"body_markdown":"1. Avoid mixing console input with GUIs; \r\n2. You&#39;re not adding the `GamePane` to you window; \r\n3. Avoid `null` layouts\r\n\r\nSee [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) for some more ideas\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Font;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Graphics;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.Random;\r\n    import javax.swing.JComboBox;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextArea;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new GamePanel());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n\r\n                    JTextArea rules = new JTextArea(8, 40);\r\n                    rules.setWrapStyleWord(true);\r\n                    rules.setLineWrap(true);\r\n                    rules.append(&quot;Rules: Word MUST be less than or equal to 8 characters\\n * No SPACES in the word or subject\\n * Don&#39;t show anyone the word if its your turn for the word\\n&quot;);\r\n                    rules.append(&quot;You are about to start. \\nDon&#39;t show anyone the word and subject your word is based off.&quot;);\r\n                    rules.append(&quot;When writing the word only write ONE letter at a time!&quot;);\r\n                    rules.append(&quot;Write &#39;done&#39; when you are done writing your word.&quot;);\r\n\r\n                    JOptionPane.showMessageDialog(frame, rules, &quot;The Rules&quot;, JOptionPane.PLAIN_MESSAGE);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class GamePanel extends JPanel implements ActionListener {\r\n\r\n            private static final long serialVersionUID = -3919093956447306405L;\r\n            static final int SCREEN_WIDTH = 600;\r\n            static final int SCREEN_HEIGHT = 600;\r\n            static final int UNIT_SIZE = 100;\r\n            static final int UNIT_SIZE2 = 19;\r\n            static final int UNIT_SIZE3 = 40;\r\n            static final int UNIT_SIZE4 = 20;\r\n            static final int UNIT_SIZE5 = 60;\r\n            // underline ^\r\n            static final int UNIT_SIZE6 = (int) 7.5;\r\n            // break between ___ fix ^\r\n            static final int UNIT_SIZE7 = 0;\r\n            // remove the image\r\n            static final int GAME_UNITS = (SCREEN_WIDTH * SCREEN_HEIGHT) / UNIT_SIZE;\r\n            Random random;\r\n            int HeadX = 400;\r\n            int HeadY = 100;\r\n            int BodyX = 430;\r\n            int BodyY = 180;\r\n            int Arm1X = 400;\r\n            int Arm1Y = 240;\r\n            int Arm2X = 460;\r\n            int Arm2Y = 240;\r\n            int Leg1X = 430;\r\n            int Leg1Y = 300;\r\n            int Leg2X = 451;\r\n            int Leg2Y = 300;\r\n            int Letter1UnderlineX = 0 + UNIT_SIZE6;\r\n            int Letter1UnderlineY = 535;\r\n            int Letter2UnderlineX = 75 + UNIT_SIZE6;\r\n            int Letter2UnderlineY = 535;\r\n            int Letter3UnderlineX = 150 + UNIT_SIZE6;\r\n            int Letter3UnderlineY = 535;\r\n            int Letter4UnderlineX = 225 + UNIT_SIZE6;\r\n            int Letter4UnderlineY = 535;\r\n            int Letter5UnderlineX = 300 + UNIT_SIZE6;\r\n            int Letter5UnderlineY = 535;\r\n            int Letter6UnderlineX = 375 + UNIT_SIZE6;\r\n            int Letter6UnderlineY = 535;\r\n            int Letter7UnderlineX = 450 + UNIT_SIZE6;\r\n            int Letter7UnderlineY = 535;\r\n            int Letter8UnderlineX = 525 + UNIT_SIZE6;\r\n            int Letter8UnderlineY = 535;\r\n            String a = (&quot;a&quot;);\r\n            String b = (&quot;b&quot;);\r\n            String c = (&quot;c&quot;);\r\n            String d = (&quot;d&quot;);\r\n            String e = (&quot;e&quot;);\r\n            String f1 = (&quot;f&quot;);\r\n            String g1 = (&quot;g&quot;);\r\n            String h = (&quot;h&quot;);\r\n            String i = (&quot;i&quot;);\r\n            String j = (&quot;j&quot;);\r\n            String k = (&quot;k&quot;);\r\n            String l = (&quot;l&quot;);\r\n            String m = (&quot;m&quot;);\r\n            String n = (&quot;n&quot;);\r\n            String o = (&quot;o&quot;);\r\n            String p = (&quot;p&quot;);\r\n            String q = (&quot;q&quot;);\r\n            String r = (&quot;r&quot;);\r\n            String s = (&quot;s&quot;);\r\n            String t = (&quot;t&quot;);\r\n            String u = (&quot;u&quot;);\r\n            String v = (&quot;v&quot;);\r\n            String w = (&quot;w&quot;);\r\n            String x = (&quot;x&quot;);\r\n            String y = (&quot;y&quot;);\r\n            String z = (&quot;z&quot;);\r\n            //\r\n            //        JFrame f;\r\n            //\r\n            //        public static void main(String[] args) {\r\n            //\r\n            //            System.out.println(&quot;Welcome to Hang Man!&quot;);\r\n            //\r\n            //            Start();\r\n            //\r\n            //            System.out.println(&quot;Test&quot;);\r\n            //\r\n            //        }\r\n            //\r\n            //        public static void Start() {\r\n            //\r\n            //            Scanner YesNoScanner = new Scanner(System.in);\r\n            //            Scanner Letter = new Scanner(System.in);\r\n            //            String[] letters = new String[100];\r\n            //            String ans = &quot;&quot;;\r\n            //            int count = 0;\r\n            //\r\n            //            System.out.println(&quot;Would you like to play? (Yes - 1 | No - 2)&quot;);\r\n            //            int YesNo = YesNoScanner.nextInt();\r\n            //            if (YesNo == 1) {\r\n            //                System.out.println(&quot;Rules: Word MUST be less than or equal to 8 characters \\n \\t No SPACES in the word or subject \\n \\t Don&#39;t show anyone the word if its your turn for the word &quot;);\r\n            //                System.out.println(&quot;You are about to start. \\nDon&#39;t show anyone the word and subject your word is based off.&quot;);\r\n            //                System.out.println(&quot;When writing the word only write ONE letter at a time!&quot;);\r\n            //                System.out.println(&quot;Write &#39;done&#39; when you are done writing your word.&quot;);\r\n            //\r\n            //                System.out.println(&quot;\\n\\nChoose a word between 1-8 characters long\\n ( ONE LETTER AT A TIME [press enter after every letter])&quot;);\r\n            //\r\n            //                do {\r\n            //                    System.out.print(&quot;Letter &quot; + (count + 1) + &quot;: &quot;);\r\n            //                    ans = Letter.nextLine();\r\n            //                    if (!ans.equalsIgnoreCase(&quot;done&quot;)) {\r\n            //                        letters[count] = ans;\r\n            //                        count++;\r\n            //                        if (count == 8) {\r\n            //                            System.out.println(&quot;Maximium letters reached&quot;);\r\n            //                            ans = (&quot;done&quot;);\r\n            //\r\n            //                        }\r\n            //                    }\r\n            //                    String one = letters[0];\r\n            //                } while (!ans.equalsIgnoreCase(&quot;done&quot;));\r\n            //\r\n            //                System.out.println(&quot;\\nYour word is: &quot;);\r\n            //                for (int i = 0; i &lt; count; i++) {\r\n            //                    System.out.print(letters[i]);\r\n            //                }\r\n            //\r\n            //                System.out.println(&quot; \\nIs this the word you would like? (Yes - 1 | No - 2)&quot;);\r\n            //\r\n            //            } else {\r\n            //                System.out.println(&quot;You chose to not play. Maybe later :C&quot;);\r\n            //                System.exit(0);\r\n            //            }\r\n            //\r\n            //            Scanner YesNoScanner2 = new Scanner(System.in);\r\n            //            int YesNo2 = YesNoScanner2.nextInt();\r\n            //            if (YesNo2 == 1) {\r\n            //                SubjectWrite();\r\n            //            } else {\r\n            //                Start();\r\n            //            }\r\n            //\r\n            //            new GamePanel();\r\n            //\r\n            //        }\r\n            //\r\n            //        public static void SubjectWrite() {\r\n            //            Scanner Subject = new Scanner(System.in);\r\n            //            String ans = &quot;&quot;;\r\n            //\r\n            //            System.out.println(&quot;Please choose a subject! (1-10 characters long)&quot;);\r\n            //\r\n            //            ans = Subject.nextLine();\r\n            //\r\n            //            System.out.println(&quot; \\nIs this the Subject you would like? (Yes - 1 | No - 2)&quot;);\r\n            //            System.out.println(ans);\r\n            //\r\n            //            Scanner YesNoScanner3 = new Scanner(System.in);\r\n            //            int YesNo3 = YesNoScanner3.nextInt();\r\n            //            if (YesNo3 == 1) {\r\n            //                System.out.println(&quot;Are you ready to play? (Yes - 1 | No - 2)&quot;);\r\n            //                Scanner YesNoScanner4 = new Scanner(System.in);\r\n            //                int YesNo4 = YesNoScanner4.nextInt();\r\n            //                if (YesNo4 == 1) {\r\n            //                    for (int i = 0; i &lt; 200; i++) {\r\n            //                        System.out.println(&quot;\\n&quot;);\r\n            //                    }\r\n            //\r\n            //                } else {\r\n            //                    System.exit(0);\r\n            //                }\r\n            //\r\n            //            } else {\r\n            //                System.exit(0);\r\n            //            }\r\n            //\r\n            //        }\r\n\r\n            //        //new main method \r\n            //        public void gui() {\r\n            //            f = new JFrame(&quot;Title&quot;);\r\n            //            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            //            f.setResizable(false);\r\n            //            f.pack();\r\n            //            f.setLocationRelativeTo(null);\r\n            //            f.setSize(618, 640);\r\n            //            f.setVisible(true);\r\n            //            f.add(cb);\r\n            //            f.setLayout(null);\r\n            //            f.setVisible(true);\r\n            //        }\r\n            public GamePanel() {\r\n                String country[] = {&quot;India&quot;, &quot;Aus&quot;, &quot;U.S.A&quot;, &quot;England&quot;, &quot;Newzealand&quot;};\r\n                JComboBox cb = new JComboBox(country);\r\n                cb.setBounds(50, 50, 90, 20);\r\n                add(cb);\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(640, 640);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                draw(g);\r\n            }\r\n\r\n            private void draw(Graphics g) {\r\n                // TODO Auto-generated method stub\r\n                for (int i = 0; i &lt; SCREEN_HEIGHT / UNIT_SIZE; i++) {\r\n                    g.drawLine(i * UNIT_SIZE, 0, i * UNIT_SIZE, SCREEN_HEIGHT);\r\n                    g.drawLine(0, i * UNIT_SIZE, SCREEN_WIDTH, i * UNIT_SIZE);\r\n                }\r\n\r\n                int fix1 = 30;\r\n\r\n                g.setColor(Color.black);\r\n                g.setFont(new Font(&quot;BiauKai&quot;, Font.BOLD, 20));\r\n                FontMetrics metrics = getFontMetrics(g.getFont());\r\n                g.drawString(a, (SCREEN_WIDTH - metrics.stringWidth(a)) - 580 + fix1, g.getFont().getSize());\r\n                g.drawString(b, (SCREEN_WIDTH - metrics.stringWidth(b)) - 560 + fix1, g.getFont().getSize());\r\n                g.drawString(c, (SCREEN_WIDTH - metrics.stringWidth(c)) - 540 + fix1, g.getFont().getSize());\r\n                g.drawString(d, (SCREEN_WIDTH - metrics.stringWidth(d)) - 520 + fix1, g.getFont().getSize());\r\n                g.drawString(e, (SCREEN_WIDTH - metrics.stringWidth(e)) - 500 + fix1, g.getFont().getSize());\r\n                g.drawString(f1, (SCREEN_WIDTH - metrics.stringWidth(f1)) - 480 + fix1, g.getFont().getSize());\r\n                g.drawString(g1, (SCREEN_WIDTH - metrics.stringWidth(g1)) - 460 + fix1, g.getFont().getSize());\r\n                g.drawString(h, (SCREEN_WIDTH - metrics.stringWidth(h)) - 440 + fix1, g.getFont().getSize());\r\n                g.drawString(i, (SCREEN_WIDTH - metrics.stringWidth(i)) - 420 + fix1, g.getFont().getSize());\r\n                g.drawString(j, (SCREEN_WIDTH - metrics.stringWidth(j)) - 400 + fix1, g.getFont().getSize());\r\n                g.drawString(k, (SCREEN_WIDTH - metrics.stringWidth(k)) - 380 + fix1, g.getFont().getSize());\r\n                g.drawString(l, (SCREEN_WIDTH - metrics.stringWidth(l)) - 365 + fix1, g.getFont().getSize());\r\n                g.drawString(m, (SCREEN_WIDTH - metrics.stringWidth(m)) - 340 + fix1, g.getFont().getSize());\r\n                g.drawString(n, (SCREEN_WIDTH - metrics.stringWidth(n)) - 320 + fix1, g.getFont().getSize());\r\n                g.drawString(o, (SCREEN_WIDTH - metrics.stringWidth(o)) - 300 + fix1, g.getFont().getSize());\r\n                g.drawString(p, (SCREEN_WIDTH - metrics.stringWidth(p)) - 280 + fix1, g.getFont().getSize());\r\n                g.drawString(q, (SCREEN_WIDTH - metrics.stringWidth(q)) - 260 + fix1, g.getFont().getSize());\r\n                g.drawString(r, (SCREEN_WIDTH - metrics.stringWidth(r)) - 240 + fix1, g.getFont().getSize());\r\n                g.drawString(s, (SCREEN_WIDTH - metrics.stringWidth(s)) - 220 + fix1, g.getFont().getSize());\r\n                g.drawString(t, (SCREEN_WIDTH - metrics.stringWidth(t)) - 200 + fix1, g.getFont().getSize());\r\n                g.drawString(u, (SCREEN_WIDTH - metrics.stringWidth(u)) - 180 + fix1, g.getFont().getSize());\r\n                g.drawString(v, (SCREEN_WIDTH - metrics.stringWidth(v)) - 160 + fix1, g.getFont().getSize());\r\n                g.drawString(w, (SCREEN_WIDTH - metrics.stringWidth(w)) - 140 + fix1, g.getFont().getSize());\r\n                g.drawString(x, (SCREEN_WIDTH - metrics.stringWidth(x)) - 120 + fix1, g.getFont().getSize());\r\n                g.drawString(y, (SCREEN_WIDTH - metrics.stringWidth(y)) - 100 + fix1, g.getFont().getSize());\r\n                g.drawString(z, (SCREEN_WIDTH - metrics.stringWidth(z)) - 80 + fix1, g.getFont().getSize());\r\n\r\n                g.drawString(a, (SCREEN_WIDTH - metrics.stringWidth(a)) - 580 + fix1, SCREEN_HEIGHT - 560);\r\n\r\n                //g.drawString(a,40,40);  \r\n                g.setColor(Color.black);\r\n                g.fillOval(HeadX, HeadY, UNIT_SIZE, UNIT_SIZE);\r\n                g.setColor(Color.black);\r\n                g.fillRect(BodyX, BodyY, UNIT_SIZE3, UNIT_SIZE + UNIT_SIZE4);\r\n                g.setColor(Color.black);\r\n                g.fillRect(Arm1X, Arm1Y, UNIT_SIZE3, UNIT_SIZE2);\r\n                g.setColor(Color.black);\r\n                g.fillRect(Arm2X, Arm2Y, UNIT_SIZE3, UNIT_SIZE2);\r\n                g.setColor(Color.black);\r\n                g.fillRect(Leg1X, Leg1Y, UNIT_SIZE2, UNIT_SIZE);\r\n                g.setColor(Color.black);\r\n                g.fillRect(Leg2X, Leg2Y, UNIT_SIZE2, UNIT_SIZE);\r\n                g.setColor(Color.black);\r\n                g.fillRect(Letter1UnderlineX, Letter1UnderlineY, UNIT_SIZE5, UNIT_SIZE3);\r\n                g.setColor(Color.black);\r\n                g.fillRect(Letter2UnderlineX, Letter2UnderlineY, UNIT_SIZE5, UNIT_SIZE3);\r\n                g.setColor(Color.black);\r\n                g.fillRect(Letter3UnderlineX, Letter3UnderlineY, UNIT_SIZE5, UNIT_SIZE3);\r\n                g.setColor(Color.black);\r\n                g.fillRect(Letter4UnderlineX, Letter4UnderlineY, UNIT_SIZE5, UNIT_SIZE3);\r\n                g.setColor(Color.black);\r\n                g.fillRect(Letter5UnderlineX, Letter5UnderlineY, UNIT_SIZE5, UNIT_SIZE3);\r\n                g.setColor(Color.black);\r\n                g.fillRect(Letter6UnderlineX, Letter6UnderlineY, UNIT_SIZE5, UNIT_SIZE3);\r\n                g.setColor(Color.black);\r\n                g.fillRect(Letter7UnderlineX, Letter7UnderlineY, UNIT_SIZE5, UNIT_SIZE3);\r\n                g.setColor(Color.black);\r\n                g.fillRect(Letter8UnderlineX, Letter8UnderlineY, UNIT_SIZE5, UNIT_SIZE3);\r\n\r\n            }\r\n\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                // TODO Auto-generated method stub\r\n\r\n            }\r\n\r\n        }\r\n    }","title":"none of my images or letters except my ComboBox are showing","body":"<ol>\n<li>Avoid mixing console input with GUIs;</li>\n<li>You're not adding the <code>GamePane</code> to you window;</li>\n<li>Avoid <code>null</code> layouts</li>\n</ol>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> for some more ideas</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Font;\nimport java.awt.FontMetrics;\nimport java.awt.Graphics;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.Random;\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JTextArea;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new GamePanel());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n\n                JTextArea rules = new JTextArea(8, 40);\n                rules.setWrapStyleWord(true);\n                rules.setLineWrap(true);\n                rules.append(&quot;Rules: Word MUST be less than or equal to 8 characters\\n * No SPACES in the word or subject\\n * Don't show anyone the word if its your turn for the word\\n&quot;);\n                rules.append(&quot;You are about to start. \\nDon't show anyone the word and subject your word is based off.&quot;);\n                rules.append(&quot;When writing the word only write ONE letter at a time!&quot;);\n                rules.append(&quot;Write 'done' when you are done writing your word.&quot;);\n\n                JOptionPane.showMessageDialog(frame, rules, &quot;The Rules&quot;, JOptionPane.PLAIN_MESSAGE);\n            }\n        });\n    }\n\n    public class GamePanel extends JPanel implements ActionListener {\n\n        private static final long serialVersionUID = -3919093956447306405L;\n        static final int SCREEN_WIDTH = 600;\n        static final int SCREEN_HEIGHT = 600;\n        static final int UNIT_SIZE = 100;\n        static final int UNIT_SIZE2 = 19;\n        static final int UNIT_SIZE3 = 40;\n        static final int UNIT_SIZE4 = 20;\n        static final int UNIT_SIZE5 = 60;\n        // underline ^\n        static final int UNIT_SIZE6 = (int) 7.5;\n        // break between ___ fix ^\n        static final int UNIT_SIZE7 = 0;\n        // remove the image\n        static final int GAME_UNITS = (SCREEN_WIDTH * SCREEN_HEIGHT) / UNIT_SIZE;\n        Random random;\n        int HeadX = 400;\n        int HeadY = 100;\n        int BodyX = 430;\n        int BodyY = 180;\n        int Arm1X = 400;\n        int Arm1Y = 240;\n        int Arm2X = 460;\n        int Arm2Y = 240;\n        int Leg1X = 430;\n        int Leg1Y = 300;\n        int Leg2X = 451;\n        int Leg2Y = 300;\n        int Letter1UnderlineX = 0 + UNIT_SIZE6;\n        int Letter1UnderlineY = 535;\n        int Letter2UnderlineX = 75 + UNIT_SIZE6;\n        int Letter2UnderlineY = 535;\n        int Letter3UnderlineX = 150 + UNIT_SIZE6;\n        int Letter3UnderlineY = 535;\n        int Letter4UnderlineX = 225 + UNIT_SIZE6;\n        int Letter4UnderlineY = 535;\n        int Letter5UnderlineX = 300 + UNIT_SIZE6;\n        int Letter5UnderlineY = 535;\n        int Letter6UnderlineX = 375 + UNIT_SIZE6;\n        int Letter6UnderlineY = 535;\n        int Letter7UnderlineX = 450 + UNIT_SIZE6;\n        int Letter7UnderlineY = 535;\n        int Letter8UnderlineX = 525 + UNIT_SIZE6;\n        int Letter8UnderlineY = 535;\n        String a = (&quot;a&quot;);\n        String b = (&quot;b&quot;);\n        String c = (&quot;c&quot;);\n        String d = (&quot;d&quot;);\n        String e = (&quot;e&quot;);\n        String f1 = (&quot;f&quot;);\n        String g1 = (&quot;g&quot;);\n        String h = (&quot;h&quot;);\n        String i = (&quot;i&quot;);\n        String j = (&quot;j&quot;);\n        String k = (&quot;k&quot;);\n        String l = (&quot;l&quot;);\n        String m = (&quot;m&quot;);\n        String n = (&quot;n&quot;);\n        String o = (&quot;o&quot;);\n        String p = (&quot;p&quot;);\n        String q = (&quot;q&quot;);\n        String r = (&quot;r&quot;);\n        String s = (&quot;s&quot;);\n        String t = (&quot;t&quot;);\n        String u = (&quot;u&quot;);\n        String v = (&quot;v&quot;);\n        String w = (&quot;w&quot;);\n        String x = (&quot;x&quot;);\n        String y = (&quot;y&quot;);\n        String z = (&quot;z&quot;);\n        //\n        //        JFrame f;\n        //\n        //        public static void main(String[] args) {\n        //\n        //            System.out.println(&quot;Welcome to Hang Man!&quot;);\n        //\n        //            Start();\n        //\n        //            System.out.println(&quot;Test&quot;);\n        //\n        //        }\n        //\n        //        public static void Start() {\n        //\n        //            Scanner YesNoScanner = new Scanner(System.in);\n        //            Scanner Letter = new Scanner(System.in);\n        //            String[] letters = new String[100];\n        //            String ans = &quot;&quot;;\n        //            int count = 0;\n        //\n        //            System.out.println(&quot;Would you like to play? (Yes - 1 | No - 2)&quot;);\n        //            int YesNo = YesNoScanner.nextInt();\n        //            if (YesNo == 1) {\n        //                System.out.println(&quot;Rules: Word MUST be less than or equal to 8 characters \\n \\t No SPACES in the word or subject \\n \\t Don't show anyone the word if its your turn for the word &quot;);\n        //                System.out.println(&quot;You are about to start. \\nDon't show anyone the word and subject your word is based off.&quot;);\n        //                System.out.println(&quot;When writing the word only write ONE letter at a time!&quot;);\n        //                System.out.println(&quot;Write 'done' when you are done writing your word.&quot;);\n        //\n        //                System.out.println(&quot;\\n\\nChoose a word between 1-8 characters long\\n ( ONE LETTER AT A TIME [press enter after every letter])&quot;);\n        //\n        //                do {\n        //                    System.out.print(&quot;Letter &quot; + (count + 1) + &quot;: &quot;);\n        //                    ans = Letter.nextLine();\n        //                    if (!ans.equalsIgnoreCase(&quot;done&quot;)) {\n        //                        letters[count] = ans;\n        //                        count++;\n        //                        if (count == 8) {\n        //                            System.out.println(&quot;Maximium letters reached&quot;);\n        //                            ans = (&quot;done&quot;);\n        //\n        //                        }\n        //                    }\n        //                    String one = letters[0];\n        //                } while (!ans.equalsIgnoreCase(&quot;done&quot;));\n        //\n        //                System.out.println(&quot;\\nYour word is: &quot;);\n        //                for (int i = 0; i &lt; count; i++) {\n        //                    System.out.print(letters[i]);\n        //                }\n        //\n        //                System.out.println(&quot; \\nIs this the word you would like? (Yes - 1 | No - 2)&quot;);\n        //\n        //            } else {\n        //                System.out.println(&quot;You chose to not play. Maybe later :C&quot;);\n        //                System.exit(0);\n        //            }\n        //\n        //            Scanner YesNoScanner2 = new Scanner(System.in);\n        //            int YesNo2 = YesNoScanner2.nextInt();\n        //            if (YesNo2 == 1) {\n        //                SubjectWrite();\n        //            } else {\n        //                Start();\n        //            }\n        //\n        //            new GamePanel();\n        //\n        //        }\n        //\n        //        public static void SubjectWrite() {\n        //            Scanner Subject = new Scanner(System.in);\n        //            String ans = &quot;&quot;;\n        //\n        //            System.out.println(&quot;Please choose a subject! (1-10 characters long)&quot;);\n        //\n        //            ans = Subject.nextLine();\n        //\n        //            System.out.println(&quot; \\nIs this the Subject you would like? (Yes - 1 | No - 2)&quot;);\n        //            System.out.println(ans);\n        //\n        //            Scanner YesNoScanner3 = new Scanner(System.in);\n        //            int YesNo3 = YesNoScanner3.nextInt();\n        //            if (YesNo3 == 1) {\n        //                System.out.println(&quot;Are you ready to play? (Yes - 1 | No - 2)&quot;);\n        //                Scanner YesNoScanner4 = new Scanner(System.in);\n        //                int YesNo4 = YesNoScanner4.nextInt();\n        //                if (YesNo4 == 1) {\n        //                    for (int i = 0; i &lt; 200; i++) {\n        //                        System.out.println(&quot;\\n&quot;);\n        //                    }\n        //\n        //                } else {\n        //                    System.exit(0);\n        //                }\n        //\n        //            } else {\n        //                System.exit(0);\n        //            }\n        //\n        //        }\n\n        //        //new main method \n        //        public void gui() {\n        //            f = new JFrame(&quot;Title&quot;);\n        //            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        //            f.setResizable(false);\n        //            f.pack();\n        //            f.setLocationRelativeTo(null);\n        //            f.setSize(618, 640);\n        //            f.setVisible(true);\n        //            f.add(cb);\n        //            f.setLayout(null);\n        //            f.setVisible(true);\n        //        }\n        public GamePanel() {\n            String country[] = {&quot;India&quot;, &quot;Aus&quot;, &quot;U.S.A&quot;, &quot;England&quot;, &quot;Newzealand&quot;};\n            JComboBox cb = new JComboBox(country);\n            cb.setBounds(50, 50, 90, 20);\n            add(cb);\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(640, 640);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            draw(g);\n        }\n\n        private void draw(Graphics g) {\n            // TODO Auto-generated method stub\n            for (int i = 0; i &lt; SCREEN_HEIGHT / UNIT_SIZE; i++) {\n                g.drawLine(i * UNIT_SIZE, 0, i * UNIT_SIZE, SCREEN_HEIGHT);\n                g.drawLine(0, i * UNIT_SIZE, SCREEN_WIDTH, i * UNIT_SIZE);\n            }\n\n            int fix1 = 30;\n\n            g.setColor(Color.black);\n            g.setFont(new Font(&quot;BiauKai&quot;, Font.BOLD, 20));\n            FontMetrics metrics = getFontMetrics(g.getFont());\n            g.drawString(a, (SCREEN_WIDTH - metrics.stringWidth(a)) - 580 + fix1, g.getFont().getSize());\n            g.drawString(b, (SCREEN_WIDTH - metrics.stringWidth(b)) - 560 + fix1, g.getFont().getSize());\n            g.drawString(c, (SCREEN_WIDTH - metrics.stringWidth(c)) - 540 + fix1, g.getFont().getSize());\n            g.drawString(d, (SCREEN_WIDTH - metrics.stringWidth(d)) - 520 + fix1, g.getFont().getSize());\n            g.drawString(e, (SCREEN_WIDTH - metrics.stringWidth(e)) - 500 + fix1, g.getFont().getSize());\n            g.drawString(f1, (SCREEN_WIDTH - metrics.stringWidth(f1)) - 480 + fix1, g.getFont().getSize());\n            g.drawString(g1, (SCREEN_WIDTH - metrics.stringWidth(g1)) - 460 + fix1, g.getFont().getSize());\n            g.drawString(h, (SCREEN_WIDTH - metrics.stringWidth(h)) - 440 + fix1, g.getFont().getSize());\n            g.drawString(i, (SCREEN_WIDTH - metrics.stringWidth(i)) - 420 + fix1, g.getFont().getSize());\n            g.drawString(j, (SCREEN_WIDTH - metrics.stringWidth(j)) - 400 + fix1, g.getFont().getSize());\n            g.drawString(k, (SCREEN_WIDTH - metrics.stringWidth(k)) - 380 + fix1, g.getFont().getSize());\n            g.drawString(l, (SCREEN_WIDTH - metrics.stringWidth(l)) - 365 + fix1, g.getFont().getSize());\n            g.drawString(m, (SCREEN_WIDTH - metrics.stringWidth(m)) - 340 + fix1, g.getFont().getSize());\n            g.drawString(n, (SCREEN_WIDTH - metrics.stringWidth(n)) - 320 + fix1, g.getFont().getSize());\n            g.drawString(o, (SCREEN_WIDTH - metrics.stringWidth(o)) - 300 + fix1, g.getFont().getSize());\n            g.drawString(p, (SCREEN_WIDTH - metrics.stringWidth(p)) - 280 + fix1, g.getFont().getSize());\n            g.drawString(q, (SCREEN_WIDTH - metrics.stringWidth(q)) - 260 + fix1, g.getFont().getSize());\n            g.drawString(r, (SCREEN_WIDTH - metrics.stringWidth(r)) - 240 + fix1, g.getFont().getSize());\n            g.drawString(s, (SCREEN_WIDTH - metrics.stringWidth(s)) - 220 + fix1, g.getFont().getSize());\n            g.drawString(t, (SCREEN_WIDTH - metrics.stringWidth(t)) - 200 + fix1, g.getFont().getSize());\n            g.drawString(u, (SCREEN_WIDTH - metrics.stringWidth(u)) - 180 + fix1, g.getFont().getSize());\n            g.drawString(v, (SCREEN_WIDTH - metrics.stringWidth(v)) - 160 + fix1, g.getFont().getSize());\n            g.drawString(w, (SCREEN_WIDTH - metrics.stringWidth(w)) - 140 + fix1, g.getFont().getSize());\n            g.drawString(x, (SCREEN_WIDTH - metrics.stringWidth(x)) - 120 + fix1, g.getFont().getSize());\n            g.drawString(y, (SCREEN_WIDTH - metrics.stringWidth(y)) - 100 + fix1, g.getFont().getSize());\n            g.drawString(z, (SCREEN_WIDTH - metrics.stringWidth(z)) - 80 + fix1, g.getFont().getSize());\n\n            g.drawString(a, (SCREEN_WIDTH - metrics.stringWidth(a)) - 580 + fix1, SCREEN_HEIGHT - 560);\n\n            //g.drawString(a,40,40);  \n            g.setColor(Color.black);\n            g.fillOval(HeadX, HeadY, UNIT_SIZE, UNIT_SIZE);\n            g.setColor(Color.black);\n            g.fillRect(BodyX, BodyY, UNIT_SIZE3, UNIT_SIZE + UNIT_SIZE4);\n            g.setColor(Color.black);\n            g.fillRect(Arm1X, Arm1Y, UNIT_SIZE3, UNIT_SIZE2);\n            g.setColor(Color.black);\n            g.fillRect(Arm2X, Arm2Y, UNIT_SIZE3, UNIT_SIZE2);\n            g.setColor(Color.black);\n            g.fillRect(Leg1X, Leg1Y, UNIT_SIZE2, UNIT_SIZE);\n            g.setColor(Color.black);\n            g.fillRect(Leg2X, Leg2Y, UNIT_SIZE2, UNIT_SIZE);\n            g.setColor(Color.black);\n            g.fillRect(Letter1UnderlineX, Letter1UnderlineY, UNIT_SIZE5, UNIT_SIZE3);\n            g.setColor(Color.black);\n            g.fillRect(Letter2UnderlineX, Letter2UnderlineY, UNIT_SIZE5, UNIT_SIZE3);\n            g.setColor(Color.black);\n            g.fillRect(Letter3UnderlineX, Letter3UnderlineY, UNIT_SIZE5, UNIT_SIZE3);\n            g.setColor(Color.black);\n            g.fillRect(Letter4UnderlineX, Letter4UnderlineY, UNIT_SIZE5, UNIT_SIZE3);\n            g.setColor(Color.black);\n            g.fillRect(Letter5UnderlineX, Letter5UnderlineY, UNIT_SIZE5, UNIT_SIZE3);\n            g.setColor(Color.black);\n            g.fillRect(Letter6UnderlineX, Letter6UnderlineY, UNIT_SIZE5, UNIT_SIZE3);\n            g.setColor(Color.black);\n            g.fillRect(Letter7UnderlineX, Letter7UnderlineY, UNIT_SIZE5, UNIT_SIZE3);\n            g.setColor(Color.black);\n            g.fillRect(Letter8UnderlineX, Letter8UnderlineY, UNIT_SIZE5, UNIT_SIZE3);\n\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            // TODO Auto-generated method stub\n\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24412522,"reputation":31,"user_id":18339789,"display_name":"Parda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71304149,"answer_count":1,"score":0,"last_activity_date":1646112989,"creation_date":1646107349,"question_id":71303609,"body_markdown":"I&#39;m creating a hangman game and I have the body down but once I added the ComboBox none of that wants to show.\r\nI&#39;ve been looking over it for an hour and can&#39;t find out why! It should print out a full body and letters a-z. I&#39;ve looked everywhere and can&#39;t find a solution. The code is pretty lengthy because I don&#39;t really know what&#39;s important or not. (Ignore the comments in the code just helps me)\r\n\r\n\r\n\r\n       \r\n    \r\n    \r\n    \r\n    public  class GamePanel extends JPanel implements ActionListener  {\r\n    \t \r\n    \tprivate static final long serialVersionUID = -3919093956447306405L;\r\n    \tstatic final int SCREEN_WIDTH = 600;\r\n    \tstatic final int SCREEN_HEIGHT = 600;\r\n    \tstatic final int UNIT_SIZE = 100;\r\n    \tstatic final int UNIT_SIZE2 = 19;\r\n    \tstatic final int UNIT_SIZE3 = 40;\r\n    \tstatic final int UNIT_SIZE4 = 20;\r\n    \tstatic final int UNIT_SIZE5 = 60;\r\n    \t// underline ^\r\n    \tstatic final int UNIT_SIZE6 = (int) 7.5;\r\n    \t// break between ___ fix ^\r\n    \tstatic final int UNIT_SIZE7 = 0;\r\n    \t// remove the image\r\n    \tstatic final int GAME_UNITS = (SCREEN_WIDTH*SCREEN_HEIGHT)/UNIT_SIZE;\r\n    \tRandom random;\r\n    \tint HeadX = 400;\r\n    \tint HeadY = 100;  \r\n    \tint BodyX = 430;\r\n    \tint BodyY = 180;\r\n    \tint Arm1X = 400;\r\n    \tint Arm1Y = 240;\r\n    \tint Arm2X = 460;\r\n    \tint Arm2Y = 240;\r\n    \tint Leg1X = 430;\r\n    \tint Leg1Y = 300;\r\n    \tint Leg2X = 451;\r\n    \tint Leg2Y = 300;\r\n    \tint Letter1UnderlineX = 0+ UNIT_SIZE6;\r\n    \tint Letter1UnderlineY = 535;\r\n    \tint Letter2UnderlineX = 75+ UNIT_SIZE6;\r\n    \tint Letter2UnderlineY = 535;\r\n    \tint Letter3UnderlineX = 150+ UNIT_SIZE6;\r\n    \tint Letter3UnderlineY = 535;\r\n    \tint Letter4UnderlineX = 225+ UNIT_SIZE6;\r\n    \tint Letter4UnderlineY = 535;\r\n    \tint Letter5UnderlineX = 300+ UNIT_SIZE6;\r\n    \tint Letter5UnderlineY = 535;\r\n    \tint Letter6UnderlineX = 375+ UNIT_SIZE6;\r\n    \tint Letter6UnderlineY = 535;\r\n    \tint Letter7UnderlineX = 450+ UNIT_SIZE6;\r\n    \tint Letter7UnderlineY = 535;\r\n    \tint Letter8UnderlineX = 525+ UNIT_SIZE6;\r\n    \tint Letter8UnderlineY = 535;\r\n    \tString a = (&quot;a&quot;);\r\n    \tString b = (&quot;b&quot;);\r\n    \tString c = (&quot;c&quot;);\r\n    \tString d = (&quot;d&quot;);\r\n    \tString e = (&quot;e&quot;);\r\n    \tString f1 = (&quot;f&quot;);\r\n    \tString g1 = (&quot;g&quot;);\r\n    \tString h = (&quot;h&quot;);\r\n    \tString i = (&quot;i&quot;);\r\n    \tString j = (&quot;j&quot;);\r\n    \tString k = (&quot;k&quot;);\r\n    \tString l = (&quot;l&quot;);\r\n    \tString m = (&quot;m&quot;);\r\n    \tString n = (&quot;n&quot;);\r\n    \tString o = (&quot;o&quot;);\r\n    \tString p = (&quot;p&quot;);\r\n    \tString q = (&quot;q&quot;);\r\n    \tString r = (&quot;r&quot;);\r\n    \tString s = (&quot;s&quot;);\r\n    \tString t = (&quot;t&quot;);\r\n    \tString u = (&quot;u&quot;);\r\n    \tString v = (&quot;v&quot;);\r\n    \tString w = (&quot;w&quot;);\r\n    \tString x = (&quot;x&quot;);\r\n    \tString y = (&quot;y&quot;);\r\n    \tString z = (&quot;z&quot;);\r\n    \t \r\n    \tJFrame f;\r\n    \t \r\n    \tpublic static void main(String[] args) {\r\n     \r\n    \t\r\n    \t\tSystem.out.println(&quot;Welcome to Hang Man!&quot;);\r\n    \t\t\r\n    \t\t\tStart();\t\r\n    \t\t\r\n    \t\t\tSystem.out.println(&quot;Test&quot;);\r\n    \t \r\n    \t\t\r\n    \r\n    \t}\r\n    \t\r\n    \t \r\n    \t\r\n    \tpublic static void Start(){\r\n    \t\t\r\n    \t\tScanner YesNoScanner = new Scanner(System.in);\r\n    \t\tScanner Letter = new Scanner(System.in);\r\n    \t\tString[] letters = new String[100];\r\n    \t\tString ans = &quot;&quot;;\r\n    \t\tint count = 0;\r\n    \t\t \r\n    \t\tSystem.out.println(&quot;Would you like to play? (Yes - 1 | No - 2)&quot;);\r\n    \t\t  int YesNo = YesNoScanner.nextInt();\r\n    \tif (YesNo == 1) {\r\n    \t\tSystem.out.println(&quot;Rules: Word MUST be less than or equal to 8 characters \\n \\t No SPACES in the word or subject \\n \\t Don&#39;t show anyone the word if its your turn for the word &quot;);\r\n    \t\tSystem.out.println(&quot;You are about to start. \\nDon&#39;t show anyone the word and subject your word is based off.&quot;);\r\n    \t\tSystem.out.println(&quot;When writing the word only write ONE letter at a time!&quot;);\r\n    \t\tSystem.out.println(&quot;Write &#39;done&#39; when you are done writing your word.&quot;);\r\n    \r\n    \t\t\r\n    \t\t\r\n    \r\n    \tSystem.out.println(&quot;\\n\\nChoose a word between 1-8 characters long\\n ( ONE LETTER AT A TIME [press enter after every letter])&quot;);\r\n    \r\n    \r\n    \tdo {\r\n    \t\tSystem.out.print(&quot;Letter &quot; + (count + 1) + &quot;: &quot; ) ;\r\n    \t\tans = Letter.nextLine();\r\n    \t\tif(!ans.equalsIgnoreCase(&quot;done&quot;)) {\r\n    \t\t\tletters[count] = ans;\r\n    \t\t\tcount++;\r\n    \tif (count == 8) {\r\n    \t\tSystem.out.println(&quot;Maximium letters reached&quot;);\r\n    \t\tans = (&quot;done&quot;);\r\n    \t\t\r\n    \t}\r\n    \t\t}\r\n    \t\tString one = letters[0];\r\n    \t}while(!ans.equalsIgnoreCase (&quot;done&quot;));\r\n    \r\n    \tSystem.out.println(&quot;\\nYour word is: &quot;);\r\n    \tfor(int i = 0; i &lt; count; i++) {\r\n    \t\tSystem.out.print(letters[i]);\r\n    \t}\r\n    \r\n    \r\n    \tSystem.out.println(&quot; \\nIs this the word you would like? (Yes - 1 | No - 2)&quot;);\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \t}else {\r\n    \t\tSystem.out.println(&quot;You chose to not play. Maybe later :C&quot;);\r\n    \t\tSystem.exit(0);\r\n    \t}\r\n    \t\t\r\n    \r\n    \tScanner YesNoScanner2 = new Scanner(System.in);\r\n    \tint YesNo2 = YesNoScanner2.nextInt();\r\n    \tif (YesNo2 == 1) {\r\n    \t\tSubjectWrite();\r\n    \t}else {\r\n    \t\tStart();\r\n    \t}\r\n    \r\n    \r\n        new GamePanel();\r\n    \r\n    \t \r\n    \t \r\n    \r\n    \r\n    \r\n    \r\n    \t}\r\n    \r\n    \r\n    \r\n    \tpublic static void SubjectWrite() {\r\n    \t\tScanner Subject = new Scanner(System.in);\r\n    \t\tString ans = &quot;&quot;;\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Please choose a subject! (1-10 characters long)&quot;);\r\n    \r\n    \t\tans = Subject.nextLine();\r\n    \r\n    \r\n    \t\tSystem.out.println(&quot; \\nIs this the Subject you would like? (Yes - 1 | No - 2)&quot;);\r\n    \t\tSystem.out.println(ans);\r\n    \r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\tScanner YesNoScanner3 = new Scanner(System.in);\r\n    \t\tint YesNo3 = YesNoScanner3.nextInt();\r\n    \t\tif (YesNo3 == 1) {\r\n    \t\t\tSystem.out.println(&quot;Are you ready to play? (Yes - 1 | No - 2)&quot;);\r\n    \t\t\tScanner YesNoScanner4 = new Scanner(System.in);\r\n    \t\t\tint YesNo4 = YesNoScanner4.nextInt();\r\n    \t\t\tif(YesNo4 == 1) {\r\n    \t\t\t\tfor(int i = 0; i&lt;200;i++) {\r\n    \t\t\t\t\tSystem.out.println(&quot;\\n&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\t \r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t}else {\r\n    \t\t\t\tSystem.exit(0);\r\n    \t\t\t}\r\n    \r\n    \r\n    \t\t}else {\r\n    \t\t\tSystem.exit(0);\r\n    \t\t}\r\n    \r\n    \r\n    \t}\r\n    \r\n    \r\n    \t\t//new main method \r\n    \t\r\n    \tpublic void gui() {\r\n    \t\t f = new JFrame(&quot;Title&quot;);\r\n    \t\t\tf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\tf.setResizable(false);\r\n    \t\t\tf.pack();\r\n    \t\t\tf.setLocationRelativeTo(null);\r\n    \t\t\tf.setSize(618, 640);\r\n    \t\t\tf.setVisible(true);\r\n    \t\t\t String country[]={&quot;India&quot;,&quot;Aus&quot;,&quot;U.S.A&quot;,&quot;England&quot;,&quot;Newzealand&quot;};\r\n    \t\t\t    JComboBox cb=new JComboBox(country);\r\n    \t\t\t    cb.setBounds(50, 50,90,20);\r\n    \t\t\t    f.add(cb);\r\n    \t\t\t    f.setLayout(null);\r\n    \t\t\t    f.setVisible(true);\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic GamePanel(){\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\tgui();\r\n    \t\r\n    \t\t\r\n    \t\t \r\n    \t\t\r\n    \t\t   \r\n    \t\t \r\n    \t\t \r\n    \t\t   \r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n     \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    public void paintComponent(Graphics g) {\r\n    \t\t\r\n    \t\tsuper.paintComponent(g);\r\n    \t\tdraw(g);\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    private void draw(Graphics g) {\r\n    \t// TODO Auto-generated method stub\r\n    \tfor(int i=0;i &lt;SCREEN_HEIGHT/UNIT_SIZE;i++) {\r\n    \t\tg.drawLine(i*UNIT_SIZE,  0,  i*UNIT_SIZE,  SCREEN_HEIGHT);\r\n    \t    g.drawLine(0, i*UNIT_SIZE, SCREEN_WIDTH, i*UNIT_SIZE);\r\n    \t    }\r\n    \r\n    \r\n    int fix1 = 30;\r\n     \r\n    g.setColor(Color.black);\r\n    g.setFont(new Font(&quot;BiauKai&quot;, Font.BOLD, 20));\r\n    FontMetrics metrics = getFontMetrics(g.getFont());\r\n    g.drawString(a , (SCREEN_WIDTH - metrics.stringWidth(a))-580 + fix1 , g.getFont().getSize());\r\n    g.drawString(b , (SCREEN_WIDTH - metrics.stringWidth(b))-560 + fix1 , g.getFont().getSize());\r\n    g.drawString(c , (SCREEN_WIDTH - metrics.stringWidth(c))-540 + fix1 , g.getFont().getSize());\r\n    g.drawString(d , (SCREEN_WIDTH - metrics.stringWidth(d))-520 + fix1 , g.getFont().getSize());\r\n    g.drawString(e , (SCREEN_WIDTH - metrics.stringWidth(e))-500 + fix1 , g.getFont().getSize());\r\n    g.drawString(f1 , (SCREEN_WIDTH - metrics.stringWidth(f1))-480 + fix1 , g.getFont().getSize());\r\n    g.drawString(g1 , (SCREEN_WIDTH - metrics.stringWidth(g1))-460 + fix1 , g.getFont().getSize());\r\n    g.drawString(h , (SCREEN_WIDTH - metrics.stringWidth(h))-440 + fix1 , g.getFont().getSize());\r\n    g.drawString(i , (SCREEN_WIDTH - metrics.stringWidth(i))-420 + fix1 , g.getFont().getSize());\r\n    g.drawString(j , (SCREEN_WIDTH - metrics.stringWidth(j))-400 + fix1 , g.getFont().getSize());\r\n    g.drawString(k , (SCREEN_WIDTH - metrics.stringWidth(k))-380 + fix1 , g.getFont().getSize());\r\n    g.drawString(l , (SCREEN_WIDTH - metrics.stringWidth(l))-365 + fix1 , g.getFont().getSize());\r\n    g.drawString(m , (SCREEN_WIDTH - metrics.stringWidth(m))-340 + fix1 , g.getFont().getSize());\r\n    g.drawString(n , (SCREEN_WIDTH - metrics.stringWidth(n))-320 + fix1 , g.getFont().getSize());\r\n    g.drawString(o , (SCREEN_WIDTH - metrics.stringWidth(o))-300 + fix1 , g.getFont().getSize());\r\n    g.drawString(p , (SCREEN_WIDTH - metrics.stringWidth(p))-280 + fix1 , g.getFont().getSize());\r\n    g.drawString(q , (SCREEN_WIDTH - metrics.stringWidth(q))-260 + fix1 , g.getFont().getSize());\r\n    g.drawString(r , (SCREEN_WIDTH - metrics.stringWidth(r))-240 + fix1 , g.getFont().getSize());\r\n    g.drawString(s , (SCREEN_WIDTH - metrics.stringWidth(s))-220 + fix1 , g.getFont().getSize());\r\n    g.drawString(t , (SCREEN_WIDTH - metrics.stringWidth(t))-200 + fix1 , g.getFont().getSize());\r\n    g.drawString(u , (SCREEN_WIDTH - metrics.stringWidth(u))-180 + fix1 , g.getFont().getSize());\r\n    g.drawString(v , (SCREEN_WIDTH - metrics.stringWidth(v))-160 + fix1 , g.getFont().getSize());\r\n    g.drawString(w , (SCREEN_WIDTH - metrics.stringWidth(w))-140 + fix1 , g.getFont().getSize());\r\n    g.drawString(x , (SCREEN_WIDTH - metrics.stringWidth(x))-120 + fix1 , g.getFont().getSize());\r\n    g.drawString(y , (SCREEN_WIDTH - metrics.stringWidth(y))-100 + fix1 , g.getFont().getSize());\r\n    g.drawString(z , (SCREEN_WIDTH - metrics.stringWidth(z))-80 + fix1 , g.getFont().getSize());\r\n      \r\n    g.drawString(a, (SCREEN_WIDTH - metrics.stringWidth(a))-580 + fix1 , SCREEN_HEIGHT - 560);\r\n    \r\n    \r\n    //g.drawString(a,40,40);  \r\n    \tg.setColor(Color.black);\r\n    \tg.fillOval(HeadX, HeadY, UNIT_SIZE, UNIT_SIZE);\r\n    \tg.setColor(Color.black);\r\n    \tg.fillRect(BodyX, BodyY, UNIT_SIZE3, UNIT_SIZE + UNIT_SIZE4);\r\n    \tg.setColor(Color.black);\r\n    \tg.fillRect(Arm1X, Arm1Y, UNIT_SIZE3, UNIT_SIZE2);\r\n    \tg.setColor(Color.black);\r\n    \tg.fillRect(Arm2X, Arm2Y, UNIT_SIZE3, UNIT_SIZE2);\r\n    \tg.setColor(Color.black);\r\n    \tg.fillRect(Leg1X, Leg1Y, UNIT_SIZE2, UNIT_SIZE);\r\n    \tg.setColor(Color.black);\r\n    \tg.fillRect(Leg2X, Leg2Y, UNIT_SIZE2, UNIT_SIZE);\r\n    \tg.setColor(Color.black);\r\n    \tg.fillRect(Letter1UnderlineX, Letter1UnderlineY, UNIT_SIZE5, UNIT_SIZE3);\r\n    \tg.setColor(Color.black);\r\n    \tg.fillRect(Letter2UnderlineX, Letter2UnderlineY, UNIT_SIZE5, UNIT_SIZE3);\r\n    \tg.setColor(Color.black);\r\n    \tg.fillRect(Letter3UnderlineX, Letter3UnderlineY, UNIT_SIZE5, UNIT_SIZE3);\r\n    \tg.setColor(Color.black);\r\n    \tg.fillRect(Letter4UnderlineX, Letter4UnderlineY, UNIT_SIZE5, UNIT_SIZE3);\r\n    \tg.setColor(Color.black);\r\n    \tg.fillRect(Letter5UnderlineX, Letter5UnderlineY, UNIT_SIZE5, UNIT_SIZE3);\r\n    \tg.setColor(Color.black);\r\n    \tg.fillRect(Letter6UnderlineX, Letter6UnderlineY, UNIT_SIZE5, UNIT_SIZE3);\r\n    \tg.setColor(Color.black);\r\n    \tg.fillRect(Letter7UnderlineX, Letter7UnderlineY, UNIT_SIZE5, UNIT_SIZE3);\r\n    \tg.setColor(Color.black);\r\n    \tg.fillRect(Letter8UnderlineX, Letter8UnderlineY, UNIT_SIZE5, UNIT_SIZE3);\r\n    \r\n    \t\r\n    }\r\n    \r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n    \t// TODO Auto-generated method stub\r\n    \t\r\n    }\r\n    \r\n    \r\n    \r\n    }\r\n     \r\n\r\n \r\n\t\r\n\r\n\r\n\r\n\r\n \r\n","title":"none of my images or letters except my ComboBox are showing","body":"<p>I'm creating a hangman game and I have the body down but once I added the ComboBox none of that wants to show.\nI've been looking over it for an hour and can't find out why! It should print out a full body and letters a-z. I've looked everywhere and can't find a solution. The code is pretty lengthy because I don't really know what's important or not. (Ignore the comments in the code just helps me)</p>\n<pre><code>public  class GamePanel extends JPanel implements ActionListener  {\n     \n    private static final long serialVersionUID = -3919093956447306405L;\n    static final int SCREEN_WIDTH = 600;\n    static final int SCREEN_HEIGHT = 600;\n    static final int UNIT_SIZE = 100;\n    static final int UNIT_SIZE2 = 19;\n    static final int UNIT_SIZE3 = 40;\n    static final int UNIT_SIZE4 = 20;\n    static final int UNIT_SIZE5 = 60;\n    // underline ^\n    static final int UNIT_SIZE6 = (int) 7.5;\n    // break between ___ fix ^\n    static final int UNIT_SIZE7 = 0;\n    // remove the image\n    static final int GAME_UNITS = (SCREEN_WIDTH*SCREEN_HEIGHT)/UNIT_SIZE;\n    Random random;\n    int HeadX = 400;\n    int HeadY = 100;  \n    int BodyX = 430;\n    int BodyY = 180;\n    int Arm1X = 400;\n    int Arm1Y = 240;\n    int Arm2X = 460;\n    int Arm2Y = 240;\n    int Leg1X = 430;\n    int Leg1Y = 300;\n    int Leg2X = 451;\n    int Leg2Y = 300;\n    int Letter1UnderlineX = 0+ UNIT_SIZE6;\n    int Letter1UnderlineY = 535;\n    int Letter2UnderlineX = 75+ UNIT_SIZE6;\n    int Letter2UnderlineY = 535;\n    int Letter3UnderlineX = 150+ UNIT_SIZE6;\n    int Letter3UnderlineY = 535;\n    int Letter4UnderlineX = 225+ UNIT_SIZE6;\n    int Letter4UnderlineY = 535;\n    int Letter5UnderlineX = 300+ UNIT_SIZE6;\n    int Letter5UnderlineY = 535;\n    int Letter6UnderlineX = 375+ UNIT_SIZE6;\n    int Letter6UnderlineY = 535;\n    int Letter7UnderlineX = 450+ UNIT_SIZE6;\n    int Letter7UnderlineY = 535;\n    int Letter8UnderlineX = 525+ UNIT_SIZE6;\n    int Letter8UnderlineY = 535;\n    String a = (&quot;a&quot;);\n    String b = (&quot;b&quot;);\n    String c = (&quot;c&quot;);\n    String d = (&quot;d&quot;);\n    String e = (&quot;e&quot;);\n    String f1 = (&quot;f&quot;);\n    String g1 = (&quot;g&quot;);\n    String h = (&quot;h&quot;);\n    String i = (&quot;i&quot;);\n    String j = (&quot;j&quot;);\n    String k = (&quot;k&quot;);\n    String l = (&quot;l&quot;);\n    String m = (&quot;m&quot;);\n    String n = (&quot;n&quot;);\n    String o = (&quot;o&quot;);\n    String p = (&quot;p&quot;);\n    String q = (&quot;q&quot;);\n    String r = (&quot;r&quot;);\n    String s = (&quot;s&quot;);\n    String t = (&quot;t&quot;);\n    String u = (&quot;u&quot;);\n    String v = (&quot;v&quot;);\n    String w = (&quot;w&quot;);\n    String x = (&quot;x&quot;);\n    String y = (&quot;y&quot;);\n    String z = (&quot;z&quot;);\n     \n    JFrame f;\n     \n    public static void main(String[] args) {\n \n    \n        System.out.println(&quot;Welcome to Hang Man!&quot;);\n        \n            Start();    \n        \n            System.out.println(&quot;Test&quot;);\n     \n        \n\n    }\n    \n     \n    \n    public static void Start(){\n        \n        Scanner YesNoScanner = new Scanner(System.in);\n        Scanner Letter = new Scanner(System.in);\n        String[] letters = new String[100];\n        String ans = &quot;&quot;;\n        int count = 0;\n         \n        System.out.println(&quot;Would you like to play? (Yes - 1 | No - 2)&quot;);\n          int YesNo = YesNoScanner.nextInt();\n    if (YesNo == 1) {\n        System.out.println(&quot;Rules: Word MUST be less than or equal to 8 characters \\n \\t No SPACES in the word or subject \\n \\t Don't show anyone the word if its your turn for the word &quot;);\n        System.out.println(&quot;You are about to start. \\nDon't show anyone the word and subject your word is based off.&quot;);\n        System.out.println(&quot;When writing the word only write ONE letter at a time!&quot;);\n        System.out.println(&quot;Write 'done' when you are done writing your word.&quot;);\n\n        \n        \n\n    System.out.println(&quot;\\n\\nChoose a word between 1-8 characters long\\n ( ONE LETTER AT A TIME [press enter after every letter])&quot;);\n\n\n    do {\n        System.out.print(&quot;Letter &quot; + (count + 1) + &quot;: &quot; ) ;\n        ans = Letter.nextLine();\n        if(!ans.equalsIgnoreCase(&quot;done&quot;)) {\n            letters[count] = ans;\n            count++;\n    if (count == 8) {\n        System.out.println(&quot;Maximium letters reached&quot;);\n        ans = (&quot;done&quot;);\n        \n    }\n        }\n        String one = letters[0];\n    }while(!ans.equalsIgnoreCase (&quot;done&quot;));\n\n    System.out.println(&quot;\\nYour word is: &quot;);\n    for(int i = 0; i &lt; count; i++) {\n        System.out.print(letters[i]);\n    }\n\n\n    System.out.println(&quot; \\nIs this the word you would like? (Yes - 1 | No - 2)&quot;);\n\n\n\n\n\n    }else {\n        System.out.println(&quot;You chose to not play. Maybe later :C&quot;);\n        System.exit(0);\n    }\n        \n\n    Scanner YesNoScanner2 = new Scanner(System.in);\n    int YesNo2 = YesNoScanner2.nextInt();\n    if (YesNo2 == 1) {\n        SubjectWrite();\n    }else {\n        Start();\n    }\n\n\n    new GamePanel();\n\n     \n     \n\n\n\n\n    }\n\n\n\n    public static void SubjectWrite() {\n        Scanner Subject = new Scanner(System.in);\n        String ans = &quot;&quot;;\n        \n        \n        \n        \n        System.out.println(&quot;Please choose a subject! (1-10 characters long)&quot;);\n\n        ans = Subject.nextLine();\n\n\n        System.out.println(&quot; \\nIs this the Subject you would like? (Yes - 1 | No - 2)&quot;);\n        System.out.println(ans);\n\n        \n        \n        \n        Scanner YesNoScanner3 = new Scanner(System.in);\n        int YesNo3 = YesNoScanner3.nextInt();\n        if (YesNo3 == 1) {\n            System.out.println(&quot;Are you ready to play? (Yes - 1 | No - 2)&quot;);\n            Scanner YesNoScanner4 = new Scanner(System.in);\n            int YesNo4 = YesNoScanner4.nextInt();\n            if(YesNo4 == 1) {\n                for(int i = 0; i&lt;200;i++) {\n                    System.out.println(&quot;\\n&quot;);\n                }\n                \n                \n                \n                \n                \n                \n                 \n            \n            \n            \n            \n            \n            \n            }else {\n                System.exit(0);\n            }\n\n\n        }else {\n            System.exit(0);\n        }\n\n\n    }\n\n\n        //new main method \n    \n    public void gui() {\n         f = new JFrame(&quot;Title&quot;);\n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            f.setResizable(false);\n            f.pack();\n            f.setLocationRelativeTo(null);\n            f.setSize(618, 640);\n            f.setVisible(true);\n             String country[]={&quot;India&quot;,&quot;Aus&quot;,&quot;U.S.A&quot;,&quot;England&quot;,&quot;Newzealand&quot;};\n                JComboBox cb=new JComboBox(country);\n                cb.setBounds(50, 50,90,20);\n                f.add(cb);\n                f.setLayout(null);\n                f.setVisible(true);\n    }\n    \n    \n    public GamePanel(){\n        \n        \n        \n        gui();\n    \n        \n         \n        \n           \n         \n         \n           \n        \n        \n        \n    }\n \n\n\n\n\n\n\n\n\npublic void paintComponent(Graphics g) {\n        \n        super.paintComponent(g);\n        draw(g);\n        \n        \n    }\nprivate void draw(Graphics g) {\n    // TODO Auto-generated method stub\n    for(int i=0;i &lt;SCREEN_HEIGHT/UNIT_SIZE;i++) {\n        g.drawLine(i*UNIT_SIZE,  0,  i*UNIT_SIZE,  SCREEN_HEIGHT);\n        g.drawLine(0, i*UNIT_SIZE, SCREEN_WIDTH, i*UNIT_SIZE);\n        }\n\n\nint fix1 = 30;\n \ng.setColor(Color.black);\ng.setFont(new Font(&quot;BiauKai&quot;, Font.BOLD, 20));\nFontMetrics metrics = getFontMetrics(g.getFont());\ng.drawString(a , (SCREEN_WIDTH - metrics.stringWidth(a))-580 + fix1 , g.getFont().getSize());\ng.drawString(b , (SCREEN_WIDTH - metrics.stringWidth(b))-560 + fix1 , g.getFont().getSize());\ng.drawString(c , (SCREEN_WIDTH - metrics.stringWidth(c))-540 + fix1 , g.getFont().getSize());\ng.drawString(d , (SCREEN_WIDTH - metrics.stringWidth(d))-520 + fix1 , g.getFont().getSize());\ng.drawString(e , (SCREEN_WIDTH - metrics.stringWidth(e))-500 + fix1 , g.getFont().getSize());\ng.drawString(f1 , (SCREEN_WIDTH - metrics.stringWidth(f1))-480 + fix1 , g.getFont().getSize());\ng.drawString(g1 , (SCREEN_WIDTH - metrics.stringWidth(g1))-460 + fix1 , g.getFont().getSize());\ng.drawString(h , (SCREEN_WIDTH - metrics.stringWidth(h))-440 + fix1 , g.getFont().getSize());\ng.drawString(i , (SCREEN_WIDTH - metrics.stringWidth(i))-420 + fix1 , g.getFont().getSize());\ng.drawString(j , (SCREEN_WIDTH - metrics.stringWidth(j))-400 + fix1 , g.getFont().getSize());\ng.drawString(k , (SCREEN_WIDTH - metrics.stringWidth(k))-380 + fix1 , g.getFont().getSize());\ng.drawString(l , (SCREEN_WIDTH - metrics.stringWidth(l))-365 + fix1 , g.getFont().getSize());\ng.drawString(m , (SCREEN_WIDTH - metrics.stringWidth(m))-340 + fix1 , g.getFont().getSize());\ng.drawString(n , (SCREEN_WIDTH - metrics.stringWidth(n))-320 + fix1 , g.getFont().getSize());\ng.drawString(o , (SCREEN_WIDTH - metrics.stringWidth(o))-300 + fix1 , g.getFont().getSize());\ng.drawString(p , (SCREEN_WIDTH - metrics.stringWidth(p))-280 + fix1 , g.getFont().getSize());\ng.drawString(q , (SCREEN_WIDTH - metrics.stringWidth(q))-260 + fix1 , g.getFont().getSize());\ng.drawString(r , (SCREEN_WIDTH - metrics.stringWidth(r))-240 + fix1 , g.getFont().getSize());\ng.drawString(s , (SCREEN_WIDTH - metrics.stringWidth(s))-220 + fix1 , g.getFont().getSize());\ng.drawString(t , (SCREEN_WIDTH - metrics.stringWidth(t))-200 + fix1 , g.getFont().getSize());\ng.drawString(u , (SCREEN_WIDTH - metrics.stringWidth(u))-180 + fix1 , g.getFont().getSize());\ng.drawString(v , (SCREEN_WIDTH - metrics.stringWidth(v))-160 + fix1 , g.getFont().getSize());\ng.drawString(w , (SCREEN_WIDTH - metrics.stringWidth(w))-140 + fix1 , g.getFont().getSize());\ng.drawString(x , (SCREEN_WIDTH - metrics.stringWidth(x))-120 + fix1 , g.getFont().getSize());\ng.drawString(y , (SCREEN_WIDTH - metrics.stringWidth(y))-100 + fix1 , g.getFont().getSize());\ng.drawString(z , (SCREEN_WIDTH - metrics.stringWidth(z))-80 + fix1 , g.getFont().getSize());\n  \ng.drawString(a, (SCREEN_WIDTH - metrics.stringWidth(a))-580 + fix1 , SCREEN_HEIGHT - 560);\n\n\n//g.drawString(a,40,40);  \n    g.setColor(Color.black);\n    g.fillOval(HeadX, HeadY, UNIT_SIZE, UNIT_SIZE);\n    g.setColor(Color.black);\n    g.fillRect(BodyX, BodyY, UNIT_SIZE3, UNIT_SIZE + UNIT_SIZE4);\n    g.setColor(Color.black);\n    g.fillRect(Arm1X, Arm1Y, UNIT_SIZE3, UNIT_SIZE2);\n    g.setColor(Color.black);\n    g.fillRect(Arm2X, Arm2Y, UNIT_SIZE3, UNIT_SIZE2);\n    g.setColor(Color.black);\n    g.fillRect(Leg1X, Leg1Y, UNIT_SIZE2, UNIT_SIZE);\n    g.setColor(Color.black);\n    g.fillRect(Leg2X, Leg2Y, UNIT_SIZE2, UNIT_SIZE);\n    g.setColor(Color.black);\n    g.fillRect(Letter1UnderlineX, Letter1UnderlineY, UNIT_SIZE5, UNIT_SIZE3);\n    g.setColor(Color.black);\n    g.fillRect(Letter2UnderlineX, Letter2UnderlineY, UNIT_SIZE5, UNIT_SIZE3);\n    g.setColor(Color.black);\n    g.fillRect(Letter3UnderlineX, Letter3UnderlineY, UNIT_SIZE5, UNIT_SIZE3);\n    g.setColor(Color.black);\n    g.fillRect(Letter4UnderlineX, Letter4UnderlineY, UNIT_SIZE5, UNIT_SIZE3);\n    g.setColor(Color.black);\n    g.fillRect(Letter5UnderlineX, Letter5UnderlineY, UNIT_SIZE5, UNIT_SIZE3);\n    g.setColor(Color.black);\n    g.fillRect(Letter6UnderlineX, Letter6UnderlineY, UNIT_SIZE5, UNIT_SIZE3);\n    g.setColor(Color.black);\n    g.fillRect(Letter7UnderlineX, Letter7UnderlineY, UNIT_SIZE5, UNIT_SIZE3);\n    g.setColor(Color.black);\n    g.fillRect(Letter8UnderlineX, Letter8UnderlineY, UNIT_SIZE5, UNIT_SIZE3);\n\n    \n}\n\n@Override\npublic void actionPerformed(ActionEvent e) {\n    // TODO Auto-generated method stub\n    \n}\n\n\n\n}\n \n</code></pre>\n"},{"tags":["java","nullpointerexception"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1646112160,"post_id":71304036,"comment_id":126037541,"body_markdown":"Can you copy and paste the full text of the error in with your question?","body":"Can you copy and paste the full text of the error in with your question?"}],"answers":[{"tags":[],"owner":{"account_id":9907801,"reputation":186,"user_id":7335751,"display_name":"Syed A."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646112340,"creation_date":1646112340,"answer_id":71304080,"question_id":71304036,"body_markdown":"You are trying to access the global variable `passengers` which is getting initialized only when the parameter `otherArraySize` is smaller than 0 as specified in the constructor that you are using. Try reversing the condition for that parameter. This way your array would initialize.\r\n\r\n    public Airplane(String otherAirplaneName, int otherArraySize){\r\n    \r\n            airplaneName = otherAirplaneName;\r\n    \r\n            if (otherArraySize &gt; 0){\r\n                otherArraySize = 0;\r\n                passengers = new Passenger[otherArraySize];\r\n            }\r\n    \r\n            numPassengers = 0;\r\n    \r\n        }","title":"How to resolve null pointer exception in code?","body":"<p>You are trying to access the global variable <code>passengers</code> which is getting initialized only when the parameter <code>otherArraySize</code> is smaller than 0 as specified in the constructor that you are using. Try reversing the condition for that parameter. This way your array would initialize.</p>\n<pre><code>public Airplane(String otherAirplaneName, int otherArraySize){\n\n        airplaneName = otherAirplaneName;\n\n        if (otherArraySize &gt; 0){\n            otherArraySize = 0;\n            passengers = new Passenger[otherArraySize];\n        }\n\n        numPassengers = 0;\n\n    }\n</code></pre>\n"}],"owner":{"account_id":22320038,"reputation":21,"user_id":16542798,"display_name":"m119"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1646115706,"accepted_answer_id":71304080,"answer_count":1,"score":0,"last_activity_date":1646112377,"creation_date":1646111873,"question_id":71304036,"body_markdown":"I&#39;m working on a project that involves three code files: a class for passengers - Passenger.java, a class for the airplane itself - Airplane.java, and a driver class - RunAirplane.java. 5 passengers have been added using the Passenger instantiation in main along with a count of the passengers that I plan on updating later so it is not limited to 5. The issue is that I keep getting a NullPointerException error whenever I run the main file in IntelliJ and cant find out why. The error code says it&#39;s happening on line 58 of the Airplane.java file which leads me to assume that it&#39;s because of the addPassenger method. \r\n\r\n**Passenger Class (if needed)**\r\n\r\n```\r\npublic class Passenger {\r\n\r\n    private String name;\r\n    private int  birthYear;\r\n    private double weight;\r\n    private char gender;\r\n    private int numCarryOn;\r\n\r\n    //Default constructor\r\n    public Passenger(){\r\n        name = &quot;&quot;;\r\n        birthYear = 1900;\r\n        weight = 0.0;\r\n        gender = &#39;u&#39;;\r\n        numCarryOn = 0;\r\n    }\r\n\r\n    //Alt default constructor\r\n    public Passenger(String newName, int newBirthYear, double newWeight, char newGend, int newNumCarryOn){\r\n\r\n        this.setName(newName);\r\n        this.setBirthYear(newBirthYear);\r\n        this.setWeight(newWeight);\r\n        this.setGender(newGend);\r\n        this.setNumCarryOn(newNumCarryOn);\r\n    }\r\n\r\n    //Calculate age\r\n    public int calculateAge(int currentYear){\r\n\r\n        int age = 0;\r\n\r\n        if (currentYear &lt; birthYear){\r\n            return -1;\r\n        }\r\n        else {\r\n           age = currentYear - birthYear;\r\n        }\r\n\r\n        return age;\r\n    }\r\n\r\n    //Gain weight\r\n    public void gainWeight(){\r\n        weight += 1;\r\n    }\r\n\r\n    //Gain weight based on input\r\n    public void gainWeight(double pounds){\r\n\r\n        if (weight &gt; 0){\r\n            weight = weight + pounds;\r\n        }\r\n\r\n    }\r\n\r\n    //Get birthYear\r\n    public int getBirthYear(){\r\n        return birthYear;\r\n    }\r\n\r\n    //Get gender\r\n    public char getGender(){\r\n        return gender;\r\n    }\r\n\r\n    //Get name\r\n    public String getName(){\r\n        return name;\r\n    }\r\n\r\n    //Get weight\r\n    public double getWeight(){\r\n        return weight;\r\n    }\r\n\r\n    //Get numCarryOn\r\n    public int getNumCarryOn(){\r\n        return numCarryOn;\r\n    }\r\n\r\n    //isFemale\r\n    public boolean isFemale(){\r\n\r\n        if (gender == &#39;f&#39;){\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    //isMale\r\n    public boolean isMale(){\r\n        if (gender == &#39;m&#39;){\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n\r\n        }\r\n    }\r\n\r\n    //loseWeight\r\n    public void loseWeight(){\r\n\r\n        if (weight &gt; 0){\r\n            weight -= 1;\r\n        }\r\n\r\n    }\r\n\r\n    //lose weight by value\r\n    public void loseWeight(double weight2lose){\r\n\r\n        if (weight - weight2lose &gt;= 0){\r\n            weight -= weight2lose;\r\n        }\r\n\r\n    }\r\n\r\n    //print\r\n    public void printDetails(){\r\n\r\n        System.out.printf(&quot;Name: %20s | Year of Birth: %4d | Weight: %10.2f | Gender: %c | NumCarryOn: %2d\\n&quot;, name, birthYear, weight, gender, numCarryOn);\r\n\r\n    }\r\n\r\n    //setGender\r\n    public void setGender(char newGender){\r\n\r\n        if (newGender == &#39;f&#39; || newGender == &#39;m&#39;) {\r\n            this.gender = newGender;\r\n        } else {\r\n            this.gender = &#39;u&#39;;\r\n        }\r\n    }\r\n\r\n    //setName\r\n    public void setName(String newName){\r\n        name = newName;\r\n    }\r\n\r\n    //setBirthYear\r\n    public void setBirthYear(int newBY){\r\n        birthYear = newBY;\r\n    }\r\n\r\n    //setWeight\r\n    public void setWeight(double newWeight){\r\n\r\n        if (newWeight &lt; 0){\r\n            weight = -1;\r\n\r\n        }\r\n        else {\r\n            weight = newWeight;\r\n        }\r\n\r\n    }\r\n\r\n    //setNumCarryOn\r\n    public void setNumCarryOn(int newNumCarryOn){\r\n\r\n        if (newNumCarryOn &lt; 0){\r\n            numCarryOn = 0;\r\n\r\n        }\r\n        else if (newNumCarryOn &gt; 2){\r\n            numCarryOn = 2;\r\n        }\r\n        else {\r\n            numCarryOn = newNumCarryOn;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Airplane Class**\r\n```\r\nimport java.util.Arrays;\r\n\r\npublic class Airplane {\r\n\r\n    private Passenger[] passengers;\r\n    private String airplaneName;\r\n    private int numPassengers;\r\n    public int count = 0;\r\n\r\n    //default constructor\r\n    public Airplane(){\r\n\r\n        airplaneName = &quot;&quot;;\r\n        passengers = new Passenger[100];\r\n        numPassengers = 0;\r\n    }\r\n\r\n    //default constructor with String input\r\n    public Airplane(String otherairplaneName){\r\n\r\n        airplaneName = otherairplaneName;\r\n        passengers = new Passenger[100];\r\n        numPassengers = 0;\r\n\r\n    }\r\n\r\n    //default constructor with int input\r\n    public Airplane(int otherArraySize){\r\n\r\n        airplaneName = &quot;&quot;;\r\n\r\n        if (otherArraySize &lt; 0){\r\n            otherArraySize = 0;\r\n            passengers = new Passenger[otherArraySize];\r\n        }\r\n\r\n        numPassengers = 0;\r\n\r\n    }\r\n\r\n    //default constructor with String and int input\r\n    public Airplane(String otherAirplaneName, int otherArraySize){\r\n\r\n        airplaneName = otherAirplaneName;\r\n\r\n        if (otherArraySize &lt; 0){\r\n            otherArraySize = 0;\r\n            passengers = new Passenger[otherArraySize];\r\n        }\r\n\r\n        numPassengers = 0;\r\n\r\n    }\r\n\r\n    //add a passenger\r\n    public void addPassenger(Passenger a){\r\n\r\n        for (int i = 0; i &lt; passengers.length; i++){\r\n\r\n            if (passengers.length - count &gt;= 0){\r\n                passengers[i] = a;\r\n                break;\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n**Driver**\r\n```\r\npublic class RunAirplane {\r\n    public static void main(String[] args) {\r\n        Airplane a1 = new Airplane(&quot;Flight 1&quot;, 100);\r\n        Passenger p1 = new Passenger(&quot;Albert&quot;, 1879, 198.5, &#39;m&#39;, 2);\r\n        Passenger p2 = new Passenger(&quot;Grace&quot;, 1906, 105, &#39;f&#39;, 1);\r\n        Passenger p3 = new Passenger(&quot;Tim&quot;, 1955, 216.3, &#39;m&#39;, 2);\r\n        Passenger p4 = new Passenger(&quot;Steve&quot;, 1955, 160, &#39;m&#39;, 2);\r\n        Passenger p5 = new Passenger(&quot;Sergey&quot;, 1973, 165.35, &#39;m&#39;, 1);\r\n\r\n        a1.addPassenger(p1);\r\n        a1.count += 1;\r\n        a1.addPassenger(p2);\r\n        a1.count += 1;\r\n        a1.addPassenger(p3);\r\n        a1.count += 1;\r\n        a1.addPassenger(p4);\r\n        a1.count += 1;\r\n        a1.addPassenger(p5);\r\n        a1.count += 1;\r\n        a1.printAllDetails();\r\n\r\n    }\r\n}\r\n```","title":"How to resolve null pointer exception in code?","body":"<p>I'm working on a project that involves three code files: a class for passengers - Passenger.java, a class for the airplane itself - Airplane.java, and a driver class - RunAirplane.java. 5 passengers have been added using the Passenger instantiation in main along with a count of the passengers that I plan on updating later so it is not limited to 5. The issue is that I keep getting a NullPointerException error whenever I run the main file in IntelliJ and cant find out why. The error code says it's happening on line 58 of the Airplane.java file which leads me to assume that it's because of the addPassenger method.</p>\n<p><strong>Passenger Class (if needed)</strong></p>\n<pre><code>public class Passenger {\n\n    private String name;\n    private int  birthYear;\n    private double weight;\n    private char gender;\n    private int numCarryOn;\n\n    //Default constructor\n    public Passenger(){\n        name = &quot;&quot;;\n        birthYear = 1900;\n        weight = 0.0;\n        gender = 'u';\n        numCarryOn = 0;\n    }\n\n    //Alt default constructor\n    public Passenger(String newName, int newBirthYear, double newWeight, char newGend, int newNumCarryOn){\n\n        this.setName(newName);\n        this.setBirthYear(newBirthYear);\n        this.setWeight(newWeight);\n        this.setGender(newGend);\n        this.setNumCarryOn(newNumCarryOn);\n    }\n\n    //Calculate age\n    public int calculateAge(int currentYear){\n\n        int age = 0;\n\n        if (currentYear &lt; birthYear){\n            return -1;\n        }\n        else {\n           age = currentYear - birthYear;\n        }\n\n        return age;\n    }\n\n    //Gain weight\n    public void gainWeight(){\n        weight += 1;\n    }\n\n    //Gain weight based on input\n    public void gainWeight(double pounds){\n\n        if (weight &gt; 0){\n            weight = weight + pounds;\n        }\n\n    }\n\n    //Get birthYear\n    public int getBirthYear(){\n        return birthYear;\n    }\n\n    //Get gender\n    public char getGender(){\n        return gender;\n    }\n\n    //Get name\n    public String getName(){\n        return name;\n    }\n\n    //Get weight\n    public double getWeight(){\n        return weight;\n    }\n\n    //Get numCarryOn\n    public int getNumCarryOn(){\n        return numCarryOn;\n    }\n\n    //isFemale\n    public boolean isFemale(){\n\n        if (gender == 'f'){\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n\n    //isMale\n    public boolean isMale(){\n        if (gender == 'm'){\n            return true;\n        }\n        else {\n            return false;\n\n        }\n    }\n\n    //loseWeight\n    public void loseWeight(){\n\n        if (weight &gt; 0){\n            weight -= 1;\n        }\n\n    }\n\n    //lose weight by value\n    public void loseWeight(double weight2lose){\n\n        if (weight - weight2lose &gt;= 0){\n            weight -= weight2lose;\n        }\n\n    }\n\n    //print\n    public void printDetails(){\n\n        System.out.printf(&quot;Name: %20s | Year of Birth: %4d | Weight: %10.2f | Gender: %c | NumCarryOn: %2d\\n&quot;, name, birthYear, weight, gender, numCarryOn);\n\n    }\n\n    //setGender\n    public void setGender(char newGender){\n\n        if (newGender == 'f' || newGender == 'm') {\n            this.gender = newGender;\n        } else {\n            this.gender = 'u';\n        }\n    }\n\n    //setName\n    public void setName(String newName){\n        name = newName;\n    }\n\n    //setBirthYear\n    public void setBirthYear(int newBY){\n        birthYear = newBY;\n    }\n\n    //setWeight\n    public void setWeight(double newWeight){\n\n        if (newWeight &lt; 0){\n            weight = -1;\n\n        }\n        else {\n            weight = newWeight;\n        }\n\n    }\n\n    //setNumCarryOn\n    public void setNumCarryOn(int newNumCarryOn){\n\n        if (newNumCarryOn &lt; 0){\n            numCarryOn = 0;\n\n        }\n        else if (newNumCarryOn &gt; 2){\n            numCarryOn = 2;\n        }\n        else {\n            numCarryOn = newNumCarryOn;\n        }\n    }\n}\n</code></pre>\n<p><strong>Airplane Class</strong></p>\n<pre><code>import java.util.Arrays;\n\npublic class Airplane {\n\n    private Passenger[] passengers;\n    private String airplaneName;\n    private int numPassengers;\n    public int count = 0;\n\n    //default constructor\n    public Airplane(){\n\n        airplaneName = &quot;&quot;;\n        passengers = new Passenger[100];\n        numPassengers = 0;\n    }\n\n    //default constructor with String input\n    public Airplane(String otherairplaneName){\n\n        airplaneName = otherairplaneName;\n        passengers = new Passenger[100];\n        numPassengers = 0;\n\n    }\n\n    //default constructor with int input\n    public Airplane(int otherArraySize){\n\n        airplaneName = &quot;&quot;;\n\n        if (otherArraySize &lt; 0){\n            otherArraySize = 0;\n            passengers = new Passenger[otherArraySize];\n        }\n\n        numPassengers = 0;\n\n    }\n\n    //default constructor with String and int input\n    public Airplane(String otherAirplaneName, int otherArraySize){\n\n        airplaneName = otherAirplaneName;\n\n        if (otherArraySize &lt; 0){\n            otherArraySize = 0;\n            passengers = new Passenger[otherArraySize];\n        }\n\n        numPassengers = 0;\n\n    }\n\n    //add a passenger\n    public void addPassenger(Passenger a){\n\n        for (int i = 0; i &lt; passengers.length; i++){\n\n            if (passengers.length - count &gt;= 0){\n                passengers[i] = a;\n                break;\n            }\n\n        }\n    }\n}\n</code></pre>\n<p><strong>Driver</strong></p>\n<pre><code>public class RunAirplane {\n    public static void main(String[] args) {\n        Airplane a1 = new Airplane(&quot;Flight 1&quot;, 100);\n        Passenger p1 = new Passenger(&quot;Albert&quot;, 1879, 198.5, 'm', 2);\n        Passenger p2 = new Passenger(&quot;Grace&quot;, 1906, 105, 'f', 1);\n        Passenger p3 = new Passenger(&quot;Tim&quot;, 1955, 216.3, 'm', 2);\n        Passenger p4 = new Passenger(&quot;Steve&quot;, 1955, 160, 'm', 2);\n        Passenger p5 = new Passenger(&quot;Sergey&quot;, 1973, 165.35, 'm', 1);\n\n        a1.addPassenger(p1);\n        a1.count += 1;\n        a1.addPassenger(p2);\n        a1.count += 1;\n        a1.addPassenger(p3);\n        a1.count += 1;\n        a1.addPassenger(p4);\n        a1.count += 1;\n        a1.addPassenger(p5);\n        a1.count += 1;\n        a1.printAllDetails();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","netflix-eureka"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1646110769,"post_id":71303909,"comment_id":126037308,"body_markdown":"Get a thread dump from the JVM.","body":"Get a thread dump from the JVM."},{"owner":{"account_id":12305345,"reputation":450,"user_id":8978587,"display_name":"ShaharT"},"score":0,"creation_date":1669376728,"post_id":71303909,"comment_id":131633298,"body_markdown":"Got the same, any clue?","body":"Got the same, any clue?"},{"owner":{"account_id":12305345,"reputation":450,"user_id":8978587,"display_name":"ShaharT"},"score":0,"creation_date":1669377734,"post_id":71303909,"comment_id":131633577,"body_markdown":"Maybe it&#39;s a glitch in the network, hence Eureka UI has this: &quot;The self preservation mode is turned off. This may not protect instance expiry in case of network/other problems.&quot;","body":"Maybe it&#39;s a glitch in the network, hence Eureka UI has this: &quot;The self preservation mode is turned off. This may not protect instance expiry in case of network/other problems.&quot;"}],"owner":{"account_id":6887930,"reputation":181,"user_id":10311582,"display_name":"TheAkashKamble"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":482,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646110644,"creation_date":1646110644,"question_id":71303909,"body_markdown":"I have spring boot service which act as a controller to redirect incoming requests to specific service. So whenever a request comes in via gateway to controller , controller then looks up in eureka registry to check if service is up or down and accordingly it redirects to respective service. \r\n\r\nNow the problem statement for me is, this controller is freezing after some time ( not sure exactly ) and does not respond to any requests from gateway or direct call to controller.I checked the logs and I could see few instances of following error \r\n\r\n    [DiscoveryClient-HeartbeatExecutor-1] (ERROR] c.netflix.discovery.DiscoveryClient-DiscoveryClient_SOME_SERVICE:\r\n    D/SOME_SERVICE:3848a8f8bff15dfeb5485d15ba8c264\r\n    was unable to send heartbeat - SOME_SERVICE\r\n\r\n Also when requests stops responding ( controller freezes ) following log lines are there,\r\n\r\n    [AsyncResolver-bootstrap-executor-0] [INFO] c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration&quot; service=app-controller\r\n\r\nHere is my pom.xml for app-controller ,\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.5.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;app-controller&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;app-controller&lt;/name&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;Hoxton.SR9&lt;/spring-cloud.version&gt;\r\n    \t\t&lt;log4j2.version&gt;2.17.1&lt;/log4j2.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.2.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.2.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.8.5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- &lt;dependency&gt; &lt;groupId&gt;com.netflix.ribbon&lt;/groupId&gt; &lt;artifactId&gt;ribbon-core&lt;/artifactId&gt; \r\n    \t\t\t&lt;version&gt;2.2.0&lt;/version&gt; &lt;/dependency&gt; --&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/com.sun.jersey/jersey-client --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.9.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- START - Spring cloud config server dependencies --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- END - Spring cloud config server dependencies --&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nHere is my eureka server pom.xml ,\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.1.4.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;eureka-server&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;Eureka server&lt;/name&gt;\r\n    \t&lt;description&gt;Spring Boot eureka Server&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;Hoxton.SR9&lt;/spring-cloud.version&gt;\r\n    \t\t&lt;log4j2.version&gt;2.17.1&lt;/log4j2.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nI am not able to figure out root cause for controller freezing. Please help me out here. ","title":"Spring Boot service freezing after some time","body":"<p>I have spring boot service which act as a controller to redirect incoming requests to specific service. So whenever a request comes in via gateway to controller , controller then looks up in eureka registry to check if service is up or down and accordingly it redirects to respective service.</p>\n<p>Now the problem statement for me is, this controller is freezing after some time ( not sure exactly ) and does not respond to any requests from gateway or direct call to controller.I checked the logs and I could see few instances of following error</p>\n<pre><code>[DiscoveryClient-HeartbeatExecutor-1] (ERROR] c.netflix.discovery.DiscoveryClient-DiscoveryClient_SOME_SERVICE:\nD/SOME_SERVICE:3848a8f8bff15dfeb5485d15ba8c264\nwas unable to send heartbeat - SOME_SERVICE\n</code></pre>\n<p>Also when requests stops responding ( controller freezes ) following log lines are there,</p>\n<pre><code>[AsyncResolver-bootstrap-executor-0] [INFO] c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration&quot; service=app-controller\n</code></pre>\n<p>Here is my pom.xml for app-controller ,</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.5.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n    &lt;artifactId&gt;app-controller&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;app-controller&lt;/name&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;Hoxton.SR9&lt;/spring-cloud.version&gt;\n        &lt;log4j2.version&gt;2.17.1&lt;/log4j2.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- &lt;dependency&gt; &lt;groupId&gt;com.netflix.ribbon&lt;/groupId&gt; &lt;artifactId&gt;ribbon-core&lt;/artifactId&gt; \n            &lt;version&gt;2.2.0&lt;/version&gt; &lt;/dependency&gt; --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.sun.jersey/jersey-client --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n            &lt;version&gt;1.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- START - Spring cloud config server dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- END - Spring cloud config server dependencies --&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Here is my eureka server pom.xml ,</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.4.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n    &lt;artifactId&gt;eureka-server&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Eureka server&lt;/name&gt;\n    &lt;description&gt;Spring Boot eureka Server&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;Hoxton.SR9&lt;/spring-cloud.version&gt;\n        &lt;log4j2.version&gt;2.17.1&lt;/log4j2.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I am not able to figure out root cause for controller freezing. Please help me out here.</p>\n"},{"tags":["java","android","android-fragments","android-videoview"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1646113823,"post_id":71303892,"comment_id":126037856,"body_markdown":"try to minimize the problem . add a small video file in assets/raw and play it in `VideoView` if that works then there might be some path of permission related issue with your code .","body":"try to minimize the problem . add a small video file in assets/raw and play it in <code>VideoView</code> if that works then there might be some path of permission related issue with your code ."}],"owner":{"account_id":103637,"reputation":10150,"user_id":277480,"accept_rate":68,"display_name":"StealthRT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1646110485,"creation_date":1646110485,"question_id":71303892,"body_markdown":"Hey all I am having a little bit of an issue with trying to call a fragment that has the videoview within it into my current fragment page.\r\n\r\nWhen I click on the test button I set up it goes through the code without error but never shows the video fragment - I even gave it a background color of red so I could see it load into my current view.\r\n\r\nMy goal here is just to send a parameter of the video path to the video fragment videoview player and start playing it.\r\n\r\n**videoPlay.java**\r\n\r\n    public class videoPlay extends Fragment {\r\n        public videoPlay(){\r\n        //constructor\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n        }\r\n    \r\n        @Nullable\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n            View rootView = inflater.inflate(R.layout._fragvideoplay, container, false);\r\n    \r\n            MediaController mc= new MediaController(getActivity());\r\n            VideoView view = (VideoView)rootView.findViewById(R.id.videoView);\r\n            String path = Environment.getExternalStorageDirectory().getAbsolutePath().toString() + &quot;/sddir/Bubble Guppies.mp4&quot;;\r\n            view.setVideoURI(Uri.parse(path));\r\n            view.setMediaController(mc);\r\n            view.start();\r\n    \r\n            return rootView;\r\n        }\r\n    \r\n        @Override\r\n        public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {\r\n    \r\n        }\r\n    }\r\n\r\n**_fragvideoplayer.xml:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@color/colorPrimary&quot;&gt;\r\n    \r\n        &lt;VideoView\r\n            android:id=&quot;@+id/videoView&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;1&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n**FragMovies.java:**\r\n\r\n    public class FragMovies extends Fragment {\r\n    \r\n        public FragMovies(){\r\n        //constructor\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n        }\r\n    \r\n        @Nullable\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n            View rootView = inflater.inflate(R.layout._fragmovies, container, false);\r\n            WebView view = (WebView) rootView.findViewById(R.id.webView);\r\n    \r\n            view.setWebViewClient(new WebViewClient() {\r\n                @Override\r\n                public void onPageStarted(WebView view, String url, Bitmap favicon) {\r\n                    super.onPageStarted(view, url, favicon);\r\n    \r\n                    container.findViewById(R.id.webView).setVisibility(View.GONE);\r\n                    container.findViewById(R.id.pBar1).setVisibility(View.VISIBLE);\r\n                }\r\n    \r\n                @Override\r\n                public void onPageFinished(WebView view, String url) {\r\n                    super.onPageFinished(view, url);\r\n                    container.findViewById(R.id.pBar1).setVisibility(View.GONE);\r\n                    container.findViewById(R.id.webView).setVisibility(View.VISIBLE);\r\n                }\r\n            });\r\n    \r\n            view.getSettings().setCacheMode(WebSettings.LOAD_CACHE_ELSE_NETWORK);\r\n            view.getSettings().setJavaScriptEnabled(true);\r\n            view.getSettings().setAllowContentAccess(true);\r\n            view.getSettings().setAllowFileAccess(true);\r\n            view.getSettings().setLoadsImagesAutomatically(true);\r\n            view.getSettings().setAllowFileAccess(true);\r\n            view.getSettings().setBuiltInZoomControls(false);\r\n            view.getSettings().setDomStorageEnabled(true);\r\n            view.getSettings().setAppCacheEnabled(true);\r\n            view.getSettings().setDisplayZoomControls(false);\r\n            view.getSettings().setJavaScriptCanOpenWindowsAutomatically(true);\r\n            view.getSettings().setSupportZoom(false);\r\n    \r\n            view.setHorizontalScrollBarEnabled(false);\r\n            view.setVerticalScrollBarEnabled(false);\r\n            view.setScrollBarStyle(View.SCROLLBARS_INSIDE_OVERLAY);\r\n    \r\n            view.loadUrl(&quot;https://www.bing.com/&quot;);\r\n    \r\n            return rootView ;\r\n        }\r\n    }\r\n\r\n**_fragmovies.xml:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/mainLayout&quot;&gt;\r\n    \r\n        &lt;ProgressBar\r\n            android:id=&quot;@+id/pBar1&quot;\r\n            android:layout_width=&quot;93dp&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_alignParentTop=&quot;false&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_marginStart=&quot;950px&quot;\r\n            android:layout_marginLeft=&quot;950px&quot; /&gt;\r\n    \r\n        &lt;WebView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/webView&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_alignParentLeft=&quot;true&quot;\r\n            android:layout_alignParentRight=&quot;true&quot; /&gt;    \r\n    &lt;/LinearLayout&gt;\r\n\r\n**Main_activity.java:**\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        TabLayout tabLayout;\r\n        ViewPager viewPager;\r\n        PagerAdapter pagerAdapter;\r\n        Button button;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            getViews();\r\n    \r\n            //adapter setup\r\n            pagerAdapter = new com.example.telluridetainment.PagerAdapter(getSupportFragmentManager());\r\n    \r\n            //attaching fragments to adapter\r\n            pagerAdapter.addFragment(new FragMovies(),&quot;Movies&quot;);\r\n    \r\n            viewPager.setOffscreenPageLimit(1);\r\n            viewPager.setAdapter(pagerAdapter);\r\n            tabLayout.setupWithViewPager(viewPager);\r\n    \r\n            //setting icons\r\n            tabLayout.getTabAt(0).setIcon(R.drawable.ic_movie_white_24dp);\r\n    \r\n            button = (Button) findViewById(R.id.button0);\r\n            button.setOnClickListener(new MyClass());\r\n        }\r\n    \r\n        public class MyClass implements View.OnClickListener {\r\n    \r\n            @Override\r\n            public void onClick(View v) {\r\n                videoPlay myfragment = new videoPlay();\r\n                //pass data\r\n                Bundle bundle = new Bundle();\r\n                bundle.putString(&quot;KEY&quot;,&quot;DATA&quot;);\r\n                myfragment.setArguments(bundle);\r\n    \r\n                FragmentTransaction fragmentManager = getSupportFragmentManager().beginTransaction();\r\n                fragmentManager.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_FADE);\r\n    \r\n                fragmentManager.addToBackStack(null);\r\n                fragmentManager.replace(R.id.viewPager, myfragment).commit();\r\n            }\r\n    \r\n        }\r\n    \r\n        private void getViews() {\r\n            tabLayout = findViewById(R.id.mTabLayout);\r\n            viewPager = findViewById(R.id.viewPager);\r\n        }\r\n    }\r\n\r\n**activity_main.xml:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;2000px&quot;\r\n        android:layout_height=&quot;1200px&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/button0&quot;\r\n            android:layout_width=&quot;200dp&quot;\r\n            android:layout_height=&quot;152dp&quot;\r\n            android:text=&quot;Button&quot;\r\n            android:textColor=&quot;#B71C1C&quot; /&gt;\r\n    \r\n        &lt;android.support.v4.view.ViewPager\r\n            android:id=&quot;@+id/viewPager&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_below=&quot;@id/appbarLayout&quot;\r\n            tools:ignore=&quot;SpeakableTextPresentCheck&quot;&gt;\r\n        &lt;/android.support.v4.view.ViewPager&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\nThe path to the movie is correct. And the movie is there in the &quot;external&quot; SD card path. Clicking around on the new fragment (videoPlay) yields no video menu (play, remind, pause...) so its not there.\r\n\r\nAny help would be great!","title":"Android videoView not showing inside fragment","body":"<p>Hey all I am having a little bit of an issue with trying to call a fragment that has the videoview within it into my current fragment page.</p>\n<p>When I click on the test button I set up it goes through the code without error but never shows the video fragment - I even gave it a background color of red so I could see it load into my current view.</p>\n<p>My goal here is just to send a parameter of the video path to the video fragment videoview player and start playing it.</p>\n<p><strong>videoPlay.java</strong></p>\n<pre><code>public class videoPlay extends Fragment {\n    public videoPlay(){\n    //constructor\n    }\n\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n    @Nullable\n    @Override\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View rootView = inflater.inflate(R.layout._fragvideoplay, container, false);\n\n        MediaController mc= new MediaController(getActivity());\n        VideoView view = (VideoView)rootView.findViewById(R.id.videoView);\n        String path = Environment.getExternalStorageDirectory().getAbsolutePath().toString() + &quot;/sddir/Bubble Guppies.mp4&quot;;\n        view.setVideoURI(Uri.parse(path));\n        view.setMediaController(mc);\n        view.start();\n\n        return rootView;\n    }\n\n    @Override\n    public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {\n\n    }\n}\n</code></pre>\n<p><strong>_fragvideoplayer.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@color/colorPrimary&quot;&gt;\n\n    &lt;VideoView\n        android:id=&quot;@+id/videoView&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_weight=&quot;1&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><strong>FragMovies.java:</strong></p>\n<pre><code>public class FragMovies extends Fragment {\n\n    public FragMovies(){\n    //constructor\n    }\n\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n    @Nullable\n    @Override\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View rootView = inflater.inflate(R.layout._fragmovies, container, false);\n        WebView view = (WebView) rootView.findViewById(R.id.webView);\n\n        view.setWebViewClient(new WebViewClient() {\n            @Override\n            public void onPageStarted(WebView view, String url, Bitmap favicon) {\n                super.onPageStarted(view, url, favicon);\n\n                container.findViewById(R.id.webView).setVisibility(View.GONE);\n                container.findViewById(R.id.pBar1).setVisibility(View.VISIBLE);\n            }\n\n            @Override\n            public void onPageFinished(WebView view, String url) {\n                super.onPageFinished(view, url);\n                container.findViewById(R.id.pBar1).setVisibility(View.GONE);\n                container.findViewById(R.id.webView).setVisibility(View.VISIBLE);\n            }\n        });\n\n        view.getSettings().setCacheMode(WebSettings.LOAD_CACHE_ELSE_NETWORK);\n        view.getSettings().setJavaScriptEnabled(true);\n        view.getSettings().setAllowContentAccess(true);\n        view.getSettings().setAllowFileAccess(true);\n        view.getSettings().setLoadsImagesAutomatically(true);\n        view.getSettings().setAllowFileAccess(true);\n        view.getSettings().setBuiltInZoomControls(false);\n        view.getSettings().setDomStorageEnabled(true);\n        view.getSettings().setAppCacheEnabled(true);\n        view.getSettings().setDisplayZoomControls(false);\n        view.getSettings().setJavaScriptCanOpenWindowsAutomatically(true);\n        view.getSettings().setSupportZoom(false);\n\n        view.setHorizontalScrollBarEnabled(false);\n        view.setVerticalScrollBarEnabled(false);\n        view.setScrollBarStyle(View.SCROLLBARS_INSIDE_OVERLAY);\n\n        view.loadUrl(&quot;https://www.bing.com/&quot;);\n\n        return rootView ;\n    }\n}\n</code></pre>\n<p><strong>_fragmovies.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id=&quot;@+id/mainLayout&quot;&gt;\n\n    &lt;ProgressBar\n        android:id=&quot;@+id/pBar1&quot;\n        android:layout_width=&quot;93dp&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_alignParentTop=&quot;false&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginStart=&quot;950px&quot;\n        android:layout_marginLeft=&quot;950px&quot; /&gt;\n\n    &lt;WebView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/webView&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_alignParentLeft=&quot;true&quot;\n        android:layout_alignParentRight=&quot;true&quot; /&gt;    \n&lt;/LinearLayout&gt;\n</code></pre>\n<p><strong>Main_activity.java:</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    TabLayout tabLayout;\n    ViewPager viewPager;\n    PagerAdapter pagerAdapter;\n    Button button;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        getViews();\n\n        //adapter setup\n        pagerAdapter = new com.example.telluridetainment.PagerAdapter(getSupportFragmentManager());\n\n        //attaching fragments to adapter\n        pagerAdapter.addFragment(new FragMovies(),&quot;Movies&quot;);\n\n        viewPager.setOffscreenPageLimit(1);\n        viewPager.setAdapter(pagerAdapter);\n        tabLayout.setupWithViewPager(viewPager);\n\n        //setting icons\n        tabLayout.getTabAt(0).setIcon(R.drawable.ic_movie_white_24dp);\n\n        button = (Button) findViewById(R.id.button0);\n        button.setOnClickListener(new MyClass());\n    }\n\n    public class MyClass implements View.OnClickListener {\n\n        @Override\n        public void onClick(View v) {\n            videoPlay myfragment = new videoPlay();\n            //pass data\n            Bundle bundle = new Bundle();\n            bundle.putString(&quot;KEY&quot;,&quot;DATA&quot;);\n            myfragment.setArguments(bundle);\n\n            FragmentTransaction fragmentManager = getSupportFragmentManager().beginTransaction();\n            fragmentManager.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_FADE);\n\n            fragmentManager.addToBackStack(null);\n            fragmentManager.replace(R.id.viewPager, myfragment).commit();\n        }\n\n    }\n\n    private void getViews() {\n        tabLayout = findViewById(R.id.mTabLayout);\n        viewPager = findViewById(R.id.viewPager);\n    }\n}\n</code></pre>\n<p><strong>activity_main.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;2000px&quot;\n    android:layout_height=&quot;1200px&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button0&quot;\n        android:layout_width=&quot;200dp&quot;\n        android:layout_height=&quot;152dp&quot;\n        android:text=&quot;Button&quot;\n        android:textColor=&quot;#B71C1C&quot; /&gt;\n\n    &lt;android.support.v4.view.ViewPager\n        android:id=&quot;@+id/viewPager&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_below=&quot;@id/appbarLayout&quot;\n        tools:ignore=&quot;SpeakableTextPresentCheck&quot;&gt;\n    &lt;/android.support.v4.view.ViewPager&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>The path to the movie is correct. And the movie is there in the &quot;external&quot; SD card path. Clicking around on the new fragment (videoPlay) yields no video menu (play, remind, pause...) so its not there.</p>\n<p>Any help would be great!</p>\n"},{"tags":["java","hashmap","nested-loops","scalability"],"comments":[{"owner":{"account_id":23774814,"reputation":19,"user_id":17788427,"display_name":"Musaddiq M"},"score":0,"creation_date":1645960915,"post_id":71284319,"comment_id":126002380,"body_markdown":"https://stackoverflow.com/questions/31198241/what-is-the-alternative-of-using-several-elseif-nested-loops-in-php","body":"<a href=\"https://stackoverflow.com/questions/31198241/what-is-the-alternative-of-using-several-elseif-nested-loops-in-php\" title=\"what is the alternative of using several elseif nested loops in php\">stackoverflow.com/questions/31198241/&hellip;</a>"},{"owner":{"account_id":23774814,"reputation":19,"user_id":17788427,"display_name":"Musaddiq M"},"score":0,"creation_date":1645960969,"post_id":71284319,"comment_id":126002388,"body_markdown":"The above link discusses the related question to some extent, but I only see using SWITCH statements as an answer.","body":"The above link discusses the related question to some extent, but I only see using SWITCH statements as an answer."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1646015795,"post_id":71284319,"comment_id":126012952,"body_markdown":"Due to *what* nested loops? There is only one loop in your code. And where did you get the idea that nested loops are considered inefficient?","body":"Due to <i>what</i> nested loops? There is only one loop in your code. And where did you get the idea that nested loops are considered inefficient?"},{"owner":{"account_id":23774814,"reputation":19,"user_id":17788427,"display_name":"Musaddiq M"},"score":0,"creation_date":1646024518,"post_id":71284319,"comment_id":126014063,"body_markdown":"@user207421 For your first question, I&#39;m well aware that there is just ONE loop, I&#39;ve used several in my actual code but I skipped them in my question for the sake of simplicity. If you read the entire question that might help you understand my point.\n\nSecondly, when you&#39;re given with such a problem by your employer/recruiter, they do not want Just solution, but how efficient your code is and how many possible ways you come up with for solving the problem. (FYI, my fellow-coders got better solution than my code and I&#39;ll get to know HOW sooner or later.)\nThank you for your downvote :-)","body":"@user207421 For your first question, I&#39;m well aware that there is just ONE loop, I&#39;ve used several in my actual code but I skipped them in my question for the sake of simplicity. If you read the entire question that might help you understand my point.  Secondly, when you&#39;re given with such a problem by your employer/recruiter, they do not want Just solution, but how efficient your code is and how many possible ways you come up with for solving the problem. (FYI, my fellow-coders got better solution than my code and I&#39;ll get to know HOW sooner or later.) Thank you for your downvote :-)"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1646030182,"post_id":71284319,"comment_id":126015113,"body_markdown":"When you post a question about loops it is rather pointless not to include code that exhibits them. You haven&#39;t answered my second question in any way.","body":"When you post a question about loops it is rather pointless not to include code that exhibits them. You haven&#39;t answered my second question in any way."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1646032180,"post_id":71284319,"comment_id":126015538,"body_markdown":"NB You have no information about downvoting, and no business guessing about it.","body":"NB You have no information about downvoting, and no business guessing about it."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646110390,"creation_date":1645973119,"answer_id":71285707,"question_id":71284319,"body_markdown":"&gt; Why is this considered a bad design, due to these nested loops (especially for production code)? \r\n\r\nNested loops are NOT &quot;bad design&quot; *per se*.  \r\n\r\nNested loops *may be* an inefficient solution, and there *may be* a better solution.  On the other hand, they *may not be* a better solution.  (Aside: inefficient solution is not necessarily a bad design.  It depends on the impact of the inefficiency on other things, and on your priorities.)\r\n\r\nConsider the following:\r\n\r\n    String[][] lotsOfStrings = new String[N][N];\r\n\r\n    // Populate the above from a file\r\n\r\n    // Find &quot;fred&quot;\r\n    boolean found = false;\r\n    for (int i = 0; i &lt; N &amp;&amp; !found; i++) {\r\n        for (int j = 0; j &lt; N &amp;&amp; !found; j++) {\r\n            found = &quot;fred&quot;.equals(lotsOfStrings[i][j]);\r\n        }\r\n    }\r\n\r\nThis is a nested loop.  But it is not inefficient.  Indeed trying to avoid a nested loop here will result in non-idiomatic code that is most likely less efficient than the above, especially after it has been optimized by the Java JIT compiler.\r\n\r\n&gt; What is the better alternative to nested loops?\r\n\r\nThere is not general answer to that.  It depends on the problem you are trying to solve.\r\n\r\nThe previous example doesn&#39;t have a &quot;better&quot; solution, IMO.  No matter how you do it, you must test `N^2` strings before you can decide that `&quot;fred&quot;` is missing.  (It makes no different if you use a nested loop or some other way to iterate them all.)\r\n\r\nYou might be able to tweak it to make it *slightly* faster.  But spending a lot of effort writing a proper performance test, tweaking, testing, tweaking, testing ... is probable not worth the effort.\r\n\r\nBut in other cases ...\r\n\r\nSuppose that we need to find if a **huge** array of strings contains any duplicates.  The simple solution is:\r\n\r\n    String[] lotsOfStrings = new String[N];\r\n\r\n    // Populate the above from a file\r\n\r\n    // Test for duplicates\r\n    boolean duplicates = false;\r\n    for (int i = 0; i &lt; N &amp;&amp; !duplicates; i++) {\r\n        for (int j = i + 1; j &lt; N &amp;&amp; !duplicates; j++) {\r\n            duplicates = lotsOfStrings[i].equals(lotsOfStrings[j]);\r\n        }\r\n    }\r\n\r\nThat is going to perform `N * (N + 1) / 2` comparisons, where `N` is the number of strings.  (It has complexity `O(N^2)`)\r\n\r\nA more sophisticated solution is this:\r\n\r\n    String[] lotsOfStrings = new String[N];\r\n    // Populate the above from a file\r\n\r\n    // Test for duplicates\r\n    Set&lt;String&gt; seen = new HashSet&lt;&gt;();\r\n    boolean duplicates = false;\r\n    for (int i = 0; i &lt; N &amp;&amp; !duplicates; i++) {\r\n        duplicates = !seen.add(lotsOfStrings[i]);\r\n    }\r\n\r\nThat is is only going to perform `N` add operations, and `add` on a `HashSet` is `O(1)` (amortized).  So the above is going to be a lot faster ... when `N` is large.  (But it will be slower for really small values of `N` because of the overheads in creating a `HashSet` and adding objects to it.)\r\n\r\n&gt; How do we make this code scalable; e.g. to support &quot;triple&quot;, &quot;quadruple&quot;, &quot;quintuple&quot; etcetera.\r\n\r\nWell that is actually an example where nested loops provide a simple AND efficient solution.  Something like this:\r\n\r\n    public static Map&lt;Integer, String&gt; map2;\r\n\r\n    static {\r\n        Map&lt;Integer, String&gt; result = new HashMap&lt;&gt;();\r\n        result.put(2, &quot;double&quot;);\r\n        result.put(3, &quot;triple&quot;);\r\n        result.put(4, &quot;quadruple&quot;);\r\n        // ...\r\n        map = result;\r\n    }\r\n\r\n\r\n    public static String convertNumberToWords(String n) {\r\n        String result = &quot;&quot;;\r\n        for(int i=0; i&lt;n.length(); i++) {\r\n            String w = Character.toString(n.charAt(i));\r\n            String d = map.get(w) + &quot; &quot;;\r\n            int count = 1;\r\n            while (count + i &lt; n.length) {\r\n                if (n.charAt(i) == n.charAt(i + count)) {\r\n                    count++;\r\n                } else {\r\n                    break;\r\n                }\r\n            }\r\n            if (count &gt; 1) {\r\n                result = result + &quot; &quot; + map2.get(count) + &quot; &quot; + d;\r\n                i = i + count - 1;\r\n            } else {\r\n                result = result + &quot; &quot; + d;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n                \r\nNote, that there are a few problems (and bugs, I think) in your original version, but in the interests of (my!) time, I won&#39;t point them out.\r\n\r\n------------------------\r\n\r\nFinally, I should point out that unless you are translating phone numbers with hundreds of digits, or millions of phone numbers, the efficiency of this code is most likely NOT RELEVANT.\r\n\r\nAnd the performance difference between using `switch` versus using a `Map` is going to be too small to be relevant, unless you are processing vast numbers of phone number translations.\r\n\r\nAn inefficient solution is not necessarily a bad solution.\r\n\r\n------------------------\r\n\r\n&gt; Secondly, when you&#39;re given with such a problem by your employer/recruiter, they do not want Just solution, but how efficient your code is and how many possible ways you come up with for solving the problem.\r\n\r\nWell yes.  But what they really want to know is if you are capable of **recognizing** when a problem **could** be solved more efficiently.  (Assuming that they are not clueless.  Clueless recruiters are a problem.)  And for that, you need to do better than &quot;nested loops are bad&quot;.  This is why a good CS degree has a 1 or 2 units on Data Structures and Algorithms ... which teach the student (among other things) how to do complexity analysis, and how to optimize code *scientifically*.\r\n","title":"Why are nested loops considered as inefficient and bad design in code? What is the better alternative of nested loops?","body":"<blockquote>\n<p>Why is this considered a bad design, due to these nested loops (especially for production code)?</p>\n</blockquote>\n<p>Nested loops are NOT &quot;bad design&quot; <em>per se</em>.</p>\n<p>Nested loops <em>may be</em> an inefficient solution, and there <em>may be</em> a better solution.  On the other hand, they <em>may not be</em> a better solution.  (Aside: inefficient solution is not necessarily a bad design.  It depends on the impact of the inefficiency on other things, and on your priorities.)</p>\n<p>Consider the following:</p>\n<pre><code>String[][] lotsOfStrings = new String[N][N];\n\n// Populate the above from a file\n\n// Find &quot;fred&quot;\nboolean found = false;\nfor (int i = 0; i &lt; N &amp;&amp; !found; i++) {\n    for (int j = 0; j &lt; N &amp;&amp; !found; j++) {\n        found = &quot;fred&quot;.equals(lotsOfStrings[i][j]);\n    }\n}\n</code></pre>\n<p>This is a nested loop.  But it is not inefficient.  Indeed trying to avoid a nested loop here will result in non-idiomatic code that is most likely less efficient than the above, especially after it has been optimized by the Java JIT compiler.</p>\n<blockquote>\n<p>What is the better alternative to nested loops?</p>\n</blockquote>\n<p>There is not general answer to that.  It depends on the problem you are trying to solve.</p>\n<p>The previous example doesn't have a &quot;better&quot; solution, IMO.  No matter how you do it, you must test <code>N^2</code> strings before you can decide that <code>&quot;fred&quot;</code> is missing.  (It makes no different if you use a nested loop or some other way to iterate them all.)</p>\n<p>You might be able to tweak it to make it <em>slightly</em> faster.  But spending a lot of effort writing a proper performance test, tweaking, testing, tweaking, testing ... is probable not worth the effort.</p>\n<p>But in other cases ...</p>\n<p>Suppose that we need to find if a <strong>huge</strong> array of strings contains any duplicates.  The simple solution is:</p>\n<pre><code>String[] lotsOfStrings = new String[N];\n\n// Populate the above from a file\n\n// Test for duplicates\nboolean duplicates = false;\nfor (int i = 0; i &lt; N &amp;&amp; !duplicates; i++) {\n    for (int j = i + 1; j &lt; N &amp;&amp; !duplicates; j++) {\n        duplicates = lotsOfStrings[i].equals(lotsOfStrings[j]);\n    }\n}\n</code></pre>\n<p>That is going to perform <code>N * (N + 1) / 2</code> comparisons, where <code>N</code> is the number of strings.  (It has complexity <code>O(N^2)</code>)</p>\n<p>A more sophisticated solution is this:</p>\n<pre><code>String[] lotsOfStrings = new String[N];\n// Populate the above from a file\n\n// Test for duplicates\nSet&lt;String&gt; seen = new HashSet&lt;&gt;();\nboolean duplicates = false;\nfor (int i = 0; i &lt; N &amp;&amp; !duplicates; i++) {\n    duplicates = !seen.add(lotsOfStrings[i]);\n}\n</code></pre>\n<p>That is is only going to perform <code>N</code> add operations, and <code>add</code> on a <code>HashSet</code> is <code>O(1)</code> (amortized).  So the above is going to be a lot faster ... when <code>N</code> is large.  (But it will be slower for really small values of <code>N</code> because of the overheads in creating a <code>HashSet</code> and adding objects to it.)</p>\n<blockquote>\n<p>How do we make this code scalable; e.g. to support &quot;triple&quot;, &quot;quadruple&quot;, &quot;quintuple&quot; etcetera.</p>\n</blockquote>\n<p>Well that is actually an example where nested loops provide a simple AND efficient solution.  Something like this:</p>\n<pre><code>public static Map&lt;Integer, String&gt; map2;\n\nstatic {\n    Map&lt;Integer, String&gt; result = new HashMap&lt;&gt;();\n    result.put(2, &quot;double&quot;);\n    result.put(3, &quot;triple&quot;);\n    result.put(4, &quot;quadruple&quot;);\n    // ...\n    map = result;\n}\n\n\npublic static String convertNumberToWords(String n) {\n    String result = &quot;&quot;;\n    for(int i=0; i&lt;n.length(); i++) {\n        String w = Character.toString(n.charAt(i));\n        String d = map.get(w) + &quot; &quot;;\n        int count = 1;\n        while (count + i &lt; n.length) {\n            if (n.charAt(i) == n.charAt(i + count)) {\n                count++;\n            } else {\n                break;\n            }\n        }\n        if (count &gt; 1) {\n            result = result + &quot; &quot; + map2.get(count) + &quot; &quot; + d;\n            i = i + count - 1;\n        } else {\n            result = result + &quot; &quot; + d;\n        }\n    }\n    return result;\n}\n            \n</code></pre>\n<p>Note, that there are a few problems (and bugs, I think) in your original version, but in the interests of (my!) time, I won't point them out.</p>\n<hr />\n<p>Finally, I should point out that unless you are translating phone numbers with hundreds of digits, or millions of phone numbers, the efficiency of this code is most likely NOT RELEVANT.</p>\n<p>And the performance difference between using <code>switch</code> versus using a <code>Map</code> is going to be too small to be relevant, unless you are processing vast numbers of phone number translations.</p>\n<p>An inefficient solution is not necessarily a bad solution.</p>\n<hr />\n<blockquote>\n<p>Secondly, when you're given with such a problem by your employer/recruiter, they do not want Just solution, but how efficient your code is and how many possible ways you come up with for solving the problem.</p>\n</blockquote>\n<p>Well yes.  But what they really want to know is if you are capable of <strong>recognizing</strong> when a problem <strong>could</strong> be solved more efficiently.  (Assuming that they are not clueless.  Clueless recruiters are a problem.)  And for that, you need to do better than &quot;nested loops are bad&quot;.  This is why a good CS degree has a 1 or 2 units on Data Structures and Algorithms ... which teach the student (among other things) how to do complexity analysis, and how to optimize code <em>scientifically</em>.</p>\n"}],"owner":{"account_id":23774814,"reputation":19,"user_id":17788427,"display_name":"Musaddiq M"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":477,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1645983634,"accepted_answer_id":71285707,"answer_count":1,"score":-2,"last_activity_date":1646110390,"creation_date":1645960803,"question_id":71284319,"body_markdown":"The question relates to another question (link given in comment), which suggests using switch statements, but in my case, I believe using the switch statement is not applicable.\r\n\r\nI&#39;ve written some Java code which converts a phone number (123456789) to corresponding English words (one two three four five six seven eight nine).\r\n\r\nThis Java program also identifies the double and triple consecutive occurrences of the numbers. In such a case, the first occurrence will be read as an individual number, followed by a _&quot;double&quot;_ or _&quot;triple&quot;_ occurrence of a number. For example, the number `&quot;1 2 222&quot;` will be read as `&quot;one two triple two&quot;`.\r\n\r\n    public class DigitToWord {\r\n\r\n        public static Map&lt;String, String&gt; map;\r\n\r\n        static {\r\n            Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\r\n            result.put(&quot;0&quot;, &quot;zero&quot;);\r\n            result.put(&quot;1&quot;, &quot;one&quot;);\r\n            result.put(&quot;2&quot;, &quot;two&quot;);\r\n            result.put(&quot;3&quot;, &quot;three&quot;);\r\n            result.put(&quot;4&quot;, &quot;four&quot;);\r\n            result.put(&quot;5&quot;, &quot;five&quot;);\r\n            result.put(&quot;6&quot;, &quot;six&quot;);\r\n            result.put(&quot;7&quot;, &quot;seven&quot;);\r\n            result.put(&quot;8&quot;, &quot;eight&quot;);\r\n            result.put(&quot;9&quot;, &quot;nine&quot;);\r\n            map = result;\r\n        }\r\n\r\n        public static String convertNumberToWords(String n) {\r\n            String result = &quot;&quot;;\r\n            for(int i=0; i&lt;n.length(); i++) {\r\n                String w = Character.toString(n.charAt(i));\r\n                String d = map.get(w) + &quot; &quot;;\r\n                if( (i &lt; n.length()-2)  &amp;&amp;  ((Character.toString(n.charAt(i+1)).equals(w))  &amp;&amp;  (Character.toString(n.charAt(i+2)).equals(w))) ) {\r\n                    result = result + d + &quot;double &quot; + d;\r\n                    i += 2;\r\n                } else if( (i &lt; n.length()-1)  &amp;&amp;  (Character.toString(n.charAt(i+1)).equals(w)) ) {\r\n                    result = result + &quot; double &quot; + d;\r\n                    i += 1;\r\n                } else {\r\n                    result = result + d;\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n    }\r\n\r\nHere are the problems I believe are worth discussing:\r\n\r\n**Question 1**. Why is this considered a bad design, due to these nested loops (especially for production code)? What is the better alternative to nested loops?\r\n\r\n**Question 2**. How do we make this code scalable, If we add more functionality to this program?\r\n\r\nThe explanation for Q2: For instance, if there are four consecutive numbers, print &#39;quadruple&#39;. If five consecutive numbers, print &#39;quintuple&#39;. If six consecutive numbers, print &#39;sextuplet&#39;.\r\n\r\nMy naive approach, to solve Q2 is to write another function to print &#39;quadruple&#39;, a separate function to print &#39;quintuple&#39;, another function to print &#39;sextuplet&#39;, and so on.\r\n\r\nThis approach sounds pretty old-fashioned and ineffective though I&#39;m open to your feedback and suggestions which I believe might help me improve.\r\n\r\n\r\n\r\n\r\n","title":"Why are nested loops considered as inefficient and bad design in code? What is the better alternative of nested loops?","body":"<p>The question relates to another question (link given in comment), which suggests using switch statements, but in my case, I believe using the switch statement is not applicable.</p>\n<p>I've written some Java code which converts a phone number (123456789) to corresponding English words (one two three four five six seven eight nine).</p>\n<p>This Java program also identifies the double and triple consecutive occurrences of the numbers. In such a case, the first occurrence will be read as an individual number, followed by a <em>&quot;double&quot;</em> or <em>&quot;triple&quot;</em> occurrence of a number. For example, the number <code>&quot;1 2 222&quot;</code> will be read as <code>&quot;one two triple two&quot;</code>.</p>\n<pre><code>public class DigitToWord {\n\n    public static Map&lt;String, String&gt; map;\n\n    static {\n        Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\n        result.put(&quot;0&quot;, &quot;zero&quot;);\n        result.put(&quot;1&quot;, &quot;one&quot;);\n        result.put(&quot;2&quot;, &quot;two&quot;);\n        result.put(&quot;3&quot;, &quot;three&quot;);\n        result.put(&quot;4&quot;, &quot;four&quot;);\n        result.put(&quot;5&quot;, &quot;five&quot;);\n        result.put(&quot;6&quot;, &quot;six&quot;);\n        result.put(&quot;7&quot;, &quot;seven&quot;);\n        result.put(&quot;8&quot;, &quot;eight&quot;);\n        result.put(&quot;9&quot;, &quot;nine&quot;);\n        map = result;\n    }\n\n    public static String convertNumberToWords(String n) {\n        String result = &quot;&quot;;\n        for(int i=0; i&lt;n.length(); i++) {\n            String w = Character.toString(n.charAt(i));\n            String d = map.get(w) + &quot; &quot;;\n            if( (i &lt; n.length()-2)  &amp;&amp;  ((Character.toString(n.charAt(i+1)).equals(w))  &amp;&amp;  (Character.toString(n.charAt(i+2)).equals(w))) ) {\n                result = result + d + &quot;double &quot; + d;\n                i += 2;\n            } else if( (i &lt; n.length()-1)  &amp;&amp;  (Character.toString(n.charAt(i+1)).equals(w)) ) {\n                result = result + &quot; double &quot; + d;\n                i += 1;\n            } else {\n                result = result + d;\n            }\n        }\n        return result;\n    }\n}\n</code></pre>\n<p>Here are the problems I believe are worth discussing:</p>\n<p><strong>Question 1</strong>. Why is this considered a bad design, due to these nested loops (especially for production code)? What is the better alternative to nested loops?</p>\n<p><strong>Question 2</strong>. How do we make this code scalable, If we add more functionality to this program?</p>\n<p>The explanation for Q2: For instance, if there are four consecutive numbers, print 'quadruple'. If five consecutive numbers, print 'quintuple'. If six consecutive numbers, print 'sextuplet'.</p>\n<p>My naive approach, to solve Q2 is to write another function to print 'quadruple', a separate function to print 'quintuple', another function to print 'sextuplet', and so on.</p>\n<p>This approach sounds pretty old-fashioned and ineffective though I'm open to your feedback and suggestions which I believe might help me improve.</p>\n"},{"tags":["java","loops","switch-statement"],"comments":[{"owner":{"account_id":8616011,"reputation":2950,"user_id":6452829,"display_name":"Mario Santini"},"score":1,"creation_date":1645607720,"post_id":71234094,"comment_id":125914303,"body_markdown":"You can pass a label to break so the program will go to a different point, instead of proceeding, have a look here: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html.","body":"You can pass a label to break so the program will go to a different point, instead of proceeding, have a look here: <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.htm&zwnj;&#8203;l</a>."},{"owner":{"account_id":15152392,"reputation":147,"user_id":10934377,"display_name":"Heiko Ribberink"},"score":0,"creation_date":1645607900,"post_id":71234094,"comment_id":125914381,"body_markdown":"To prevent the looping with choice 3, you should put `int choice = input.nextInt();` at the beginning of the while-loop, and remove the other instances of `int choice = input.nextInt();`.","body":"To prevent the looping with choice 3, you should put <code>int choice = input.nextInt();</code> at the beginning of the while-loop, and remove the other instances of <code>int choice = input.nextInt();</code>."},{"owner":{"account_id":21521055,"reputation":409,"user_id":15862198,"display_name":"Utkarsh Sahu"},"score":0,"creation_date":1645608705,"post_id":71234094,"comment_id":125914734,"body_markdown":"@MarioSantini Using label for loops and switch statements is not considered a good programming practice so you must avoid using and recommending that...","body":"@MarioSantini Using label for loops and switch statements is not considered a good programming practice so you must avoid using and recommending that..."},{"owner":{"account_id":8616011,"reputation":2950,"user_id":6452829,"display_name":"Mario Santini"},"score":0,"creation_date":1645609332,"post_id":71234094,"comment_id":125915020,"body_markdown":"@UtkarshSahu I&#39;m not advising it as a best practice, I just want to help providing an answer on the OP.","body":"@UtkarshSahu I&#39;m not advising it as a best practice, I just want to help providing an answer on the OP."}],"answers":[{"tags":[],"owner":{"account_id":24368826,"reputation":31,"user_id":18302119,"display_name":"VijayA76R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646109766,"creation_date":1646109766,"answer_id":71303819,"question_id":71234094,"body_markdown":"by adding label you can try like this\r\n\r\n            OUTER:\r\n            switch(condition1) {\r\n                case x:\r\n                \tswitch(condition2) {\r\n\t                    case y:\r\n\t                        System.out.println(&quot;hello&quot;);\r\n\t                        break OUTER;\r\n                \t}\r\n            }","title":"how do I get back to an outer switch if I am inside an inner switch?","body":"<p>by adding label you can try like this</p>\n<pre><code>        OUTER:\n        switch(condition1) {\n            case x:\n                switch(condition2) {\n                    case y:\n                        System.out.println(&quot;hello&quot;);\n                        break OUTER;\n                }\n        }\n</code></pre>\n"}],"owner":{"account_id":24351116,"reputation":1,"user_id":18286930,"display_name":"yami matoy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1646109766,"creation_date":1645607359,"question_id":71234094,"body_markdown":"I am trying to program a menu for my calculator. I do not know how to get out of my inner loop and get back to my outer loop once I have executed the inner loop. I have to finish the whole case of the inner loop before I can get back to the outer loop. Is there a way that I can go back and forth of the nested switch whenever I want to? and when I execute my outer switch case 3, it executes infinitely. Maybe because it&#39;s inside a loop.\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class MainInterface {\r\n\tstatic Scanner input = new Scanner(System.in);\r\n\t\r\n\tstatic boolean hasRun = false;\r\n\t public static void main(String args[])\r\n\t {\r\n\t\t \r\n\t\t Calculator Mycal = new SimpleCalculator();\r\n\t\t ScientificCalculator Mycal2 = new ScientificCalculator();\r\n\t\t \r\n\t\t mainMenu();\r\n\t\t int choice = input.nextInt();\r\n\t\t \r\n\t\t do {\r\n\t\t \r\n\t\t System.out.println(&quot;\\n&quot;);\r\n\t\t\r\n\t\t switch(choice) // outer switch\r\n\t\t {\r\n\t\t case 1: simpleCalculatorMenu();\r\n\t\t \t\t\r\n\t\t \t\tint choice2 = input.nextInt();\r\n\t\t \t\t\r\n\t\t \t\t\tswitch(choice2)  // inner switch\r\n\t\t \t\t\t\t{\r\n\t\t\t\t \t\tcase 1: //ADDITION\r\n\t\t\t\t \t\t\t\r\n\t\t\t\t \t\tSystem.out.println(&quot;ADDITION&quot;);\r\n\t\t\t\t\t\tSystem.out.println(&quot;\\n&quot;);\r\n\t\t\t\t\t\tSystem.out.println(&quot;Enter first number: &quot;);\r\n\t\t\t\t\t\tfloat x = input.nextFloat();\r\n\t\t\t\t\t\tSystem.out.println(&quot;Enter second number: &quot;);\r\n\t\t\t\t\t\tfloat y = input.nextFloat();\r\n\t\t\t\t\t\tSystem.out.println(&quot;\\n&quot;);\r\n\t\t\t\t\t\tSystem.out.println(&quot;The sum of &quot; + x + &quot; &quot; + y + &quot; is &quot; + Mycal.add(x, y));\r\n\t\t\t\t\t\tSystem.out.println(&quot;\\n&quot;);\r\n\t\t\t\t\t\tSystem.out.println(&quot;Would you like to return to the main menu?&quot;);\r\n\t\t\t\t\t\tSystem.out.println(&quot;\\n&quot;);\r\n\t\t\t\t\t\tSystem.out.println(&quot;Enter 1. to return 2. to exit&quot;);\r\n\t\t\t\t \t\tchoice = input.nextInt();\r\n\t\t\t\t \t\tbreak;\r\n\t\t \t\t\t\t}\r\n\t\t \t\t\r\n\t\t \t\tbreak; \r\n\t\t \r\n\t\t case 2: System.out.println(&quot;SCIENTIFIC CALCULATOR&quot;);\r\n\t\t \t\t System.out.println(&quot;\\n&quot;);\r\n\t\t \t\t System.out.println(&quot;1. power(x, pow) 2. sin(xDeg) 3. cos(xDeg) 4. tan(xDeg)&quot;);\r\n\t\t \t\t System.out.println(&quot;\\n&quot;);\r\n\t\t \t\t System.out.println(&quot;5. pi() 6. fact(x) &quot;);\r\n\t\t \t\tint choice3 = input.nextInt();\r\n\t\t \t\t\r\n\t\t\t\t \t\t switch(choice3) {\r\n\t\t\t\t \t\t \r\n\t\t\t\t \t\t case 1:\r\n\t\t\t\t \t\t\tSystem.out.println(&quot;POWER&quot;);\r\n\t\t\t \t\t\t\tSystem.out.println(&quot;\\n&quot;);\r\n\t\t\t \t\t\t\tSystem.out.println(&quot;Enter first number: &quot;);\r\n\t\t\t \t\t\t\tdouble x = input.nextDouble();\r\n\t\t\t \t\t\t\tSystem.out.println(&quot;Enter second number: &quot;);\r\n\t\t\t \t\t\t\tdouble y = input.nextDouble();\r\n\t\t\t \t\t\t\tSystem.out.println(&quot;\\n&quot;);\r\n\t\t\t \t\t\t\tSystem.out.println(&quot;The power of &quot; + x + &quot; to the power of &quot; + y + &quot; is &quot; + Mycal2.power(x, y));\r\n\t\t\t \t\t\t\tSystem.out.println(&quot;\\n&quot;);\r\n\t\t\t \t\t\t\tSystem.out.println(&quot;Would you like to return to the main menu?&quot;);\r\n\t\t\t \t\t\t\tSystem.out.println(&quot;\\n&quot;);\r\n\t\t\t \t\t\t\tSystem.out.println(&quot;Enter 1. to return 2. to exit&quot;);\r\n\t\t\t \t\t\t\tchoice = input.nextInt();\r\n\t\t\t \t\t\t\tbreak;\r\n\t\t\t \t\t\t\t\r\n\t\t\t\t \t\t case 2: \r\n\t\t\t\t \t\t }\r\n\t\t \tbreak;\r\n\t\t \t\r\n\t\t case 3: mainMenu();\t \t\t\r\n\t\t \r\n\t\t break;\r\n\t\t \r\n\t\t \t\t\r\n\t\t case 4: System.exit(choice);\r\n\t\t \t\tbreak;\r\n\t\t }\r\n\t\t } while(choice != 0);\r\n\t\t\r\n\t\t }\r\n\t\r\n\t \r\n\t \r\n\t \r\n\t \r\n\t public static void simpleCalculatorMenu () {\r\n\t\t \r\n\t\t System.out.println(&quot;SIMPLE CALCULATOR&quot;);\r\n\t \t\tSystem.out.println(&quot;\\n&quot;);\r\n\t \t\tSystem.out.println(&quot;1. Addition 2. Subtraction 3. Multiplication 4. Division&quot;);\r\n\t \t\tSystem.out.println(&quot;\\n&quot;);\r\n\t \t\tSystem.out.println(&quot;5. Squared Root 6. Squared 7. Cube 8. Discount &quot;);\r\n\t }\r\n\t \r\n\t public static void mainMenu () {\r\n\t\t \r\n\t\t System.out.println(&quot;What calculator do you want to use?&quot;);\r\n\t\t System.out.println(&quot;\\n&quot;);\r\n\t\t System.out.println(&quot;1. Simple Calculator \\t 2. Scientific Calculator&quot;);\r\n    }\r\n}\r\n```","title":"how do I get back to an outer switch if I am inside an inner switch?","body":"<p>I am trying to program a menu for my calculator. I do not know how to get out of my inner loop and get back to my outer loop once I have executed the inner loop. I have to finish the whole case of the inner loop before I can get back to the outer loop. Is there a way that I can go back and forth of the nested switch whenever I want to? and when I execute my outer switch case 3, it executes infinitely. Maybe because it's inside a loop.</p>\n<pre><code>import java.util.Scanner;\n\npublic class MainInterface {\n    static Scanner input = new Scanner(System.in);\n    \n    static boolean hasRun = false;\n     public static void main(String args[])\n     {\n         \n         Calculator Mycal = new SimpleCalculator();\n         ScientificCalculator Mycal2 = new ScientificCalculator();\n         \n         mainMenu();\n         int choice = input.nextInt();\n         \n         do {\n         \n         System.out.println(&quot;\\n&quot;);\n        \n         switch(choice) // outer switch\n         {\n         case 1: simpleCalculatorMenu();\n                \n                int choice2 = input.nextInt();\n                \n                    switch(choice2)  // inner switch\n                        {\n                        case 1: //ADDITION\n                            \n                        System.out.println(&quot;ADDITION&quot;);\n                        System.out.println(&quot;\\n&quot;);\n                        System.out.println(&quot;Enter first number: &quot;);\n                        float x = input.nextFloat();\n                        System.out.println(&quot;Enter second number: &quot;);\n                        float y = input.nextFloat();\n                        System.out.println(&quot;\\n&quot;);\n                        System.out.println(&quot;The sum of &quot; + x + &quot; &quot; + y + &quot; is &quot; + Mycal.add(x, y));\n                        System.out.println(&quot;\\n&quot;);\n                        System.out.println(&quot;Would you like to return to the main menu?&quot;);\n                        System.out.println(&quot;\\n&quot;);\n                        System.out.println(&quot;Enter 1. to return 2. to exit&quot;);\n                        choice = input.nextInt();\n                        break;\n                        }\n                \n                break; \n         \n         case 2: System.out.println(&quot;SCIENTIFIC CALCULATOR&quot;);\n                 System.out.println(&quot;\\n&quot;);\n                 System.out.println(&quot;1. power(x, pow) 2. sin(xDeg) 3. cos(xDeg) 4. tan(xDeg)&quot;);\n                 System.out.println(&quot;\\n&quot;);\n                 System.out.println(&quot;5. pi() 6. fact(x) &quot;);\n                int choice3 = input.nextInt();\n                \n                         switch(choice3) {\n                         \n                         case 1:\n                            System.out.println(&quot;POWER&quot;);\n                            System.out.println(&quot;\\n&quot;);\n                            System.out.println(&quot;Enter first number: &quot;);\n                            double x = input.nextDouble();\n                            System.out.println(&quot;Enter second number: &quot;);\n                            double y = input.nextDouble();\n                            System.out.println(&quot;\\n&quot;);\n                            System.out.println(&quot;The power of &quot; + x + &quot; to the power of &quot; + y + &quot; is &quot; + Mycal2.power(x, y));\n                            System.out.println(&quot;\\n&quot;);\n                            System.out.println(&quot;Would you like to return to the main menu?&quot;);\n                            System.out.println(&quot;\\n&quot;);\n                            System.out.println(&quot;Enter 1. to return 2. to exit&quot;);\n                            choice = input.nextInt();\n                            break;\n                            \n                         case 2: \n                         }\n            break;\n            \n         case 3: mainMenu();            \n         \n         break;\n         \n                \n         case 4: System.exit(choice);\n                break;\n         }\n         } while(choice != 0);\n        \n         }\n    \n     \n     \n     \n     \n     public static void simpleCalculatorMenu () {\n         \n         System.out.println(&quot;SIMPLE CALCULATOR&quot;);\n            System.out.println(&quot;\\n&quot;);\n            System.out.println(&quot;1. Addition 2. Subtraction 3. Multiplication 4. Division&quot;);\n            System.out.println(&quot;\\n&quot;);\n            System.out.println(&quot;5. Squared Root 6. Squared 7. Cube 8. Discount &quot;);\n     }\n     \n     public static void mainMenu () {\n         \n         System.out.println(&quot;What calculator do you want to use?&quot;);\n         System.out.println(&quot;\\n&quot;);\n         System.out.println(&quot;1. Simple Calculator \\t 2. Scientific Calculator&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","openjdk-11"],"comments":[{"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":2,"creation_date":1646104742,"post_id":71303317,"comment_id":126036398,"body_markdown":"Very interesting. Can you create a [mre] that reproduces the problem?","body":"Very interesting. Can you create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that reproduces the problem?"},{"owner":{"account_id":24412132,"reputation":11,"user_id":18339447,"display_name":"leitao"},"score":0,"creation_date":1646105012,"post_id":71303317,"comment_id":126036432,"body_markdown":"Sorry, The problem is a random occurrence and I can&#39;t create a reproducible example. It just happened suddenly on my server.","body":"Sorry, The problem is a random occurrence and I can&#39;t create a reproducible example. It just happened suddenly on my server."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1646105111,"post_id":71303317,"comment_id":126036442,"body_markdown":"Yea ... it may well be that something else has corrupted the heap ... and the `sqrt` call just happens to trip over the corruption.  It is even conceivable that this was caused by a hardware error.","body":"Yea ... it may well be that something else has corrupted the heap ... and the <code>sqrt</code> call just happens to trip over the corruption.  It is even conceivable that this was caused by a hardware error."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1646105196,"post_id":71303317,"comment_id":126036456,"body_markdown":"But the bottom line is that the crash report in your question doesn&#39;t provide enough information for us to help you.","body":"But the bottom line is that the crash report in your question doesn&#39;t provide enough information for us to help you."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1646105722,"post_id":71303317,"comment_id":126036552,"body_markdown":"You should file a bug report.","body":"You should file a bug report."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1646107237,"post_id":71303317,"comment_id":126036779,"body_markdown":"Does your application use any JNI?","body":"Does your application use any JNI?"},{"owner":{"account_id":24412132,"reputation":11,"user_id":18339447,"display_name":"leitao"},"score":0,"creation_date":1646109217,"post_id":71303317,"comment_id":126037059,"body_markdown":"I added the full log file in dropbox, and no any JNI\nhttps://www.dropbox.com/s/xyqoit0vm1tcxpr/hs_err_pid32037.log?dl=0","body":"I added the full log file in dropbox, and no any JNI <a href=\"https://www.dropbox.com/s/xyqoit0vm1tcxpr/hs_err_pid32037.log?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/xyqoit0vm1tcxpr/hs_err_pid32037.log?dl=0</a>"},{"owner":{"account_id":24412132,"reputation":11,"user_id":18339447,"display_name":"leitao"},"score":0,"creation_date":1646109546,"post_id":71303317,"comment_id":126037102,"body_markdown":"How can I report this bug to Jdk Bug System? I am not allowed to create an account for reporting bugs.","body":"How can I report this bug to Jdk Bug System? I am not allowed to create an account for reporting bugs."},{"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":0,"creation_date":1646141904,"post_id":71303317,"comment_id":126046336,"body_markdown":"Whether you file a bug report or a Stack Overflow question, it&#39;s good etiquette to create an MRE either way. If you can&#39;t reproduce the problem there&#39;s little hope for anyone else to, right?","body":"Whether you file a bug report or a Stack Overflow question, it&#39;s good etiquette to create an MRE either way. If you can&#39;t reproduce the problem there&#39;s little hope for anyone else to, right?"}],"owner":{"account_id":24412132,"reputation":11,"user_id":18339447,"display_name":"leitao"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646109144,"creation_date":1646104322,"question_id":71303317,"body_markdown":"I&#39;m using openjdk-11 running my application, bu the jvm frequent unexplained crash. The log mentioned that the method of BigDecimal.sqrt was called and crashed, but this method was not called in my code.\r\n\r\nThis is my code for getBetweenSeconds method in DateUtilï¼š\r\n```\r\n    public static long getBetweenSeconds(Date from, Date to) {\r\n\t\treturn Math.abs((to.getTime() - from.getTime()) / 1000);\r\n\t}\r\n```\r\n\r\nFollowing is the full log file:\r\n[full log file][1]\r\n\r\nFollowing is the crash log:\r\n\r\n```\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00007eff70883f62, pid=32037, tid=32143\r\n#\r\n# JRE version: OpenJDK Runtime Environment 18.9 (11.0.12+7) (build 11.0.12+7-LTS)\r\n# Java VM: OpenJDK 64-Bit Server VM 18.9 (11.0.12+7-LTS, mixed mode, sharing, tiered, compressed oops, g1 gc, linux-amd64)\r\n# Problematic frame:\r\n# j  java.math.BigDecimal.sqrt(Ljava/math/MathContext;)Ljava/math/BigDecimal;+1 java.base@11.0.12\r\n#\r\n# Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/lib/systemd/systemd-coredump %P %u %g %s %t %c %h %e&quot; (or dumping to /home/crown/service/core.32037)\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   https://bugzilla.redhat.com/enter_bug.cgi?product=Red%20Hat%20Enterprise%20Linux%208&amp;component=java-11-openjdk\r\n#\r\n\r\n---------------  S U M M A R Y ------------\r\n\r\nCommand Line: -Xmx5120m -XX:MaxMetaspaceSize=200m -Dserver.port=9090 -Dwebsocket.port=9100 -Dserver.number=S001 -Dspring.profiles.active=prod -Dapplication.exchange=OKEX -Dapplication.get-ticker-info=false -Dlog4j2.formatMsgNoLookups=true /home/crown/service/crown-service-9090.jar\r\n\r\nHost: Intel(R) Xeon(R) Platinum 8269CY CPU @ 2.50GHz, 2 cores, 7G, Alibaba Cloud Linux release 3 (Soaring Falcon) \r\nTime: Mon Feb 28 22:44:01 2022 CST elapsed time: 115.158780 seconds (0d 0h 1m 55s)\r\n\r\n---------------  T H R E A D  ---------------\r\n\r\nCurrent thread (0x00007eff896e6800):  JavaThread &quot;RBT-SWAP-OKE-s3RXY&quot; [_thread_in_Java, id=32143, stack(0x00007eff0edc9000,0x00007eff0eeca000)]\r\n\r\nStack: [0x00007eff0edc9000,0x00007eff0eeca000],  sp=0x00007eff0eec8520,  free space=1021k\r\nNative frames: (J=compiled Java code, A=aot compiled Java code, j=interpreted, Vv=VM code, C=native code)\r\nj  java.math.BigDecimal.sqrt(Ljava/math/MathContext;)Ljava/math/BigDecimal;+1 java.base@11.0.12\r\nj  com.liuqi.utils.DateUtil.getBetweenSeconds(Ljava/util/Date;Ljava/util/Date;)J+5\r\nj  com.liuqi.robotruntime.robots.AbstractSWAPRobot.handleNewPrice(Lcom/liuqi/robotruntime/ContractOrder;Ljava/math/BigDecimal;Ljava/math/BigDecimal;Ljava/lang/String;Ljava/lang/String;)V+33\r\nJ 13459% c2 com.liuqi.robotruntime.robots.AbstractSWAPRobot.lambda$startExecute$2()V (524 bytes) @ 0x00007eff78aebae8 [0x00007eff78ae8240+0x00000000000038a8]\r\nj  com.liuqi.robotruntime.robots.AbstractSWAPRobot$$Lambda$882.run()V+4\r\nj  java.lang.Thread.run()V+11 java.base@11.0.12\r\nv  ~StubRoutines::call_stub\r\nV  [libjvm.so+0x8c42a9]  JavaCalls::call_helper(JavaValue*, methodHandle const&amp;, JavaCallArguments*, Thread*)+0x3b9\r\nV  [libjvm.so+0x8c268e]  JavaCalls::call_virtual(JavaValue*, Handle, Klass*, Symbol*, Symbol*, Thread*)+0x1ae\r\nV  [libjvm.so+0x97ce90]  thread_entry(JavaThread*, Thread*)+0x80\r\nV  [libjvm.so+0xe8f428]  JavaThread::thread_main_inner()+0x268\r\nV  [libjvm.so+0xe8a6df]  Thread::call_run()+0x14f\r\nV  [libjvm.so+0xc68886]  thread_native_entry(Thread*)+0xf6\r\n\r\n\r\nsiginfo: si_signo: 11 (SIGSEGV), si_code: 1 (SEGV_MAPERR), si_addr: 0x0000017f40c9cbbe\r\n\r\nRegister to memory mapping:\r\n\r\nRAX=0x0 is NULL\r\nRBX=0x0000000000000014 is an unknown value\r\nRCX=0x0000017f40c9cbb6 is an unknown value\r\nRDX=0x0000000040000001 is an unknown value\r\nRSP=0x00007eff0eec8520 is pointing into the stack for thread: 0x00007eff896e6800\r\nRBP=0x00007eff0eec8578 is pointing into the stack for thread: 0x00007eff896e6800\r\nRSI=0x00007eff896e73e0 points into unknown readable memory: 0x0000001e00000003 | 03 00 00 00 1e 00 00 00\r\nRDI={method} {0x00000008000a5390} &#39;sqrt&#39; &#39;(Ljava/math/MathContext;)Ljava/math/BigDecimal;&#39; in &#39;java/math/BigDecimal&#39;\r\nR8 =0x00007eff89bc34f0 points into unknown readable memory: 0x0000000800104280 | 80 42 10 00 08 00 00 00\r\nR9 =0x0000000000000004 is an unknown value\r\nR10=0x00007eff8fe9cfa0: &lt;offset 0x0000000001317fa0&gt; in /usr/lib/jvm/java-11-openjdk-11.0.12.0.7-0.1.al8.x86_64/lib/server/libjvm.so at 0x00007eff8eb85000\r\nR11=0x00007eff70889780 is at code_begin+0 in an Interpreter codelet\r\ndeoptimization entry points  [0x00007eff70889780, 0x00007eff7088b980]  8704 bytes\r\nR12=0x0 is NULL\r\nR13=0x00000008005fd029 is pointing into metadata\r\nR14=0x00007eff0eec8620 is pointing into the stack for thread: 0x00007eff896e6800\r\nR15=0x00007eff896e6800 is a thread\r\n```\r\n\r\n\r\n  [1]: https://www.dropbox.com/s/xyqoit0vm1tcxpr/hs_err_pid32037.log?dl=0","title":"OpenJDK11 crash when call BigDecimal.sqrt","body":"<p>I'm using openjdk-11 running my application, bu the jvm frequent unexplained crash. The log mentioned that the method of BigDecimal.sqrt was called and crashed, but this method was not called in my code.</p>\n<p>This is my code for getBetweenSeconds method in DateUtilï¼š</p>\n<pre><code>    public static long getBetweenSeconds(Date from, Date to) {\n        return Math.abs((to.getTime() - from.getTime()) / 1000);\n    }\n</code></pre>\n<p>Following is the full log file:\n<a href=\"https://www.dropbox.com/s/xyqoit0vm1tcxpr/hs_err_pid32037.log?dl=0\" rel=\"nofollow noreferrer\">full log file</a></p>\n<p>Following is the crash log:</p>\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007eff70883f62, pid=32037, tid=32143\n#\n# JRE version: OpenJDK Runtime Environment 18.9 (11.0.12+7) (build 11.0.12+7-LTS)\n# Java VM: OpenJDK 64-Bit Server VM 18.9 (11.0.12+7-LTS, mixed mode, sharing, tiered, compressed oops, g1 gc, linux-amd64)\n# Problematic frame:\n# j  java.math.BigDecimal.sqrt(Ljava/math/MathContext;)Ljava/math/BigDecimal;+1 java.base@11.0.12\n#\n# Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/lib/systemd/systemd-coredump %P %u %g %s %t %c %h %e&quot; (or dumping to /home/crown/service/core.32037)\n#\n# If you would like to submit a bug report, please visit:\n#   https://bugzilla.redhat.com/enter_bug.cgi?product=Red%20Hat%20Enterprise%20Linux%208&amp;component=java-11-openjdk\n#\n\n---------------  S U M M A R Y ------------\n\nCommand Line: -Xmx5120m -XX:MaxMetaspaceSize=200m -Dserver.port=9090 -Dwebsocket.port=9100 -Dserver.number=S001 -Dspring.profiles.active=prod -Dapplication.exchange=OKEX -Dapplication.get-ticker-info=false -Dlog4j2.formatMsgNoLookups=true /home/crown/service/crown-service-9090.jar\n\nHost: Intel(R) Xeon(R) Platinum 8269CY CPU @ 2.50GHz, 2 cores, 7G, Alibaba Cloud Linux release 3 (Soaring Falcon) \nTime: Mon Feb 28 22:44:01 2022 CST elapsed time: 115.158780 seconds (0d 0h 1m 55s)\n\n---------------  T H R E A D  ---------------\n\nCurrent thread (0x00007eff896e6800):  JavaThread &quot;RBT-SWAP-OKE-s3RXY&quot; [_thread_in_Java, id=32143, stack(0x00007eff0edc9000,0x00007eff0eeca000)]\n\nStack: [0x00007eff0edc9000,0x00007eff0eeca000],  sp=0x00007eff0eec8520,  free space=1021k\nNative frames: (J=compiled Java code, A=aot compiled Java code, j=interpreted, Vv=VM code, C=native code)\nj  java.math.BigDecimal.sqrt(Ljava/math/MathContext;)Ljava/math/BigDecimal;+1 java.base@11.0.12\nj  com.liuqi.utils.DateUtil.getBetweenSeconds(Ljava/util/Date;Ljava/util/Date;)J+5\nj  com.liuqi.robotruntime.robots.AbstractSWAPRobot.handleNewPrice(Lcom/liuqi/robotruntime/ContractOrder;Ljava/math/BigDecimal;Ljava/math/BigDecimal;Ljava/lang/String;Ljava/lang/String;)V+33\nJ 13459% c2 com.liuqi.robotruntime.robots.AbstractSWAPRobot.lambda$startExecute$2()V (524 bytes) @ 0x00007eff78aebae8 [0x00007eff78ae8240+0x00000000000038a8]\nj  com.liuqi.robotruntime.robots.AbstractSWAPRobot$$Lambda$882.run()V+4\nj  java.lang.Thread.run()V+11 java.base@11.0.12\nv  ~StubRoutines::call_stub\nV  [libjvm.so+0x8c42a9]  JavaCalls::call_helper(JavaValue*, methodHandle const&amp;, JavaCallArguments*, Thread*)+0x3b9\nV  [libjvm.so+0x8c268e]  JavaCalls::call_virtual(JavaValue*, Handle, Klass*, Symbol*, Symbol*, Thread*)+0x1ae\nV  [libjvm.so+0x97ce90]  thread_entry(JavaThread*, Thread*)+0x80\nV  [libjvm.so+0xe8f428]  JavaThread::thread_main_inner()+0x268\nV  [libjvm.so+0xe8a6df]  Thread::call_run()+0x14f\nV  [libjvm.so+0xc68886]  thread_native_entry(Thread*)+0xf6\n\n\nsiginfo: si_signo: 11 (SIGSEGV), si_code: 1 (SEGV_MAPERR), si_addr: 0x0000017f40c9cbbe\n\nRegister to memory mapping:\n\nRAX=0x0 is NULL\nRBX=0x0000000000000014 is an unknown value\nRCX=0x0000017f40c9cbb6 is an unknown value\nRDX=0x0000000040000001 is an unknown value\nRSP=0x00007eff0eec8520 is pointing into the stack for thread: 0x00007eff896e6800\nRBP=0x00007eff0eec8578 is pointing into the stack for thread: 0x00007eff896e6800\nRSI=0x00007eff896e73e0 points into unknown readable memory: 0x0000001e00000003 | 03 00 00 00 1e 00 00 00\nRDI={method} {0x00000008000a5390} 'sqrt' '(Ljava/math/MathContext;)Ljava/math/BigDecimal;' in 'java/math/BigDecimal'\nR8 =0x00007eff89bc34f0 points into unknown readable memory: 0x0000000800104280 | 80 42 10 00 08 00 00 00\nR9 =0x0000000000000004 is an unknown value\nR10=0x00007eff8fe9cfa0: &lt;offset 0x0000000001317fa0&gt; in /usr/lib/jvm/java-11-openjdk-11.0.12.0.7-0.1.al8.x86_64/lib/server/libjvm.so at 0x00007eff8eb85000\nR11=0x00007eff70889780 is at code_begin+0 in an Interpreter codelet\ndeoptimization entry points  [0x00007eff70889780, 0x00007eff7088b980]  8704 bytes\nR12=0x0 is NULL\nR13=0x00000008005fd029 is pointing into metadata\nR14=0x00007eff0eec8620 is pointing into the stack for thread: 0x00007eff896e6800\nR15=0x00007eff896e6800 is a thread\n</code></pre>\n"},{"tags":["java","android","broadcastreceiver","android-broadcast","incoming-call"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":1,"creation_date":1646024551,"post_id":71290185,"comment_id":126014070,"body_markdown":"Did u asked for runtime Permission?","body":"Did u asked for runtime Permission?"},{"owner":{"account_id":18081713,"reputation":343,"user_id":16269076,"display_name":"Orlando Lucero"},"score":0,"creation_date":1646026874,"post_id":71290185,"comment_id":126014470,"body_markdown":"@ADM No, I didn&#39;t, I searched right now and I found why my code doesn&#39;t work, anyway, the examples I found doesn&#39;t show the requestCode for each permission, just shows &quot;STORAGE_PERMISSION_CODE&quot; for example instead the int value for that permission, if I put the string like that Android Studio marks it as an error, I only foun the int value for READ_PHONE_STATE, it&#39;s 369, do you know where I can find the others? I&#39;m using READ_CALL_LOG, READ_CONTACTS, CALL_PHONE and INTERNET","body":"@ADM No, I didn&#39;t, I searched right now and I found why my code doesn&#39;t work, anyway, the examples I found doesn&#39;t show the requestCode for each permission, just shows &quot;STORAGE_PERMISSION_CODE&quot; for example instead the int value for that permission, if I put the string like that Android Studio marks it as an error, I only foun the int value for READ_PHONE_STATE, it&#39;s 369, do you know where I can find the others? I&#39;m using READ_CALL_LOG, READ_CONTACTS, CALL_PHONE and INTERNET"}],"answers":[{"tags":[],"owner":{"account_id":18081713,"reputation":343,"user_id":16269076,"display_name":"Orlando Lucero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646109112,"creation_date":1646109112,"answer_id":71303753,"question_id":71290185,"body_markdown":"I just forgot to asked for permissions in runtime, I added this in my onCreate and works perfectly:\r\n\r\n   \r\n        if (ContextCompat.checkSelfPermission(\r\n                this, Manifest.permission.READ_PHONE_STATE\r\n        )!= PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(this,\r\n                    new String[]{(Manifest.permission.READ_PHONE_STATE)},\r\n                    REQUEST_PERMISSION_PHONE_STATE);\r\n        }\r\n        if (ContextCompat.checkSelfPermission(\r\n                this, Manifest.permission.READ_CONTACTS\r\n        )!= PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(this,\r\n                    new String[]{(Manifest.permission.READ_CONTACTS)},\r\n                    REQUEST_PERMISSION_READ_CONTACTS);\r\n        }\r\n        if (ContextCompat.checkSelfPermission(\r\n                this, Manifest.permission.READ_CALL_LOG\r\n        )!= PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(this,\r\n                    new String[]{(Manifest.permission.READ_CALL_LOG)},\r\n                    REQUEST_PERMISSION_READ_CALL_LOG);\r\n        }\r\n\r\nI also modified my PhoneStateReceiver class, I had a lot of problems trying to get the contact name when the incoming number is already registered, I found some questions here on StackOverflow but unfortunately none of them helped me (they were deprecated solutions), finally I managed to make it work with the following code, I hope it will be helpful to someone else \r\n\r\n    public class PhoneStateReceiver extends BroadcastReceiver {\r\n\r\n    public String phoneNumber = &quot;&quot;;\r\n    public String contactName = &quot;&quot;;\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        try {\r\n            String state = intent.getStringExtra(TelephonyManager.EXTRA_STATE);\r\n            phoneNumber = intent.getStringExtra(TelephonyManager.EXTRA_INCOMING_NUMBER);\r\n\r\n            if(state.equals(TelephonyManager.EXTRA_STATE_RINGING) &amp;&amp; phoneNumber!=null){\r\n                Toast.makeText(context,&quot;Ringing State Number is - &quot; + phoneNumber, Toast.LENGTH_SHORT).show();\r\n                contactName = getContactName(context, phoneNumber);\r\n               \r\n            }\r\n        }\r\n        catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public String getContactName(Context context, String phoneNumber) {\r\n        if(phoneNumber == null){\r\n            return null;\r\n        }\r\n\r\n        ContentResolver cr = context.getContentResolver();\r\n        Uri uri = Uri.withAppendedPath(ContactsContract.PhoneLookup.CONTENT_FILTER_URI, Uri.encode(phoneNumber));\r\n        Cursor cursor = cr.query(uri, new String[] {ContactsContract.PhoneLookup.DISPLAY_NAME}, null, null, null);\r\n        if(cursor == null) {\r\n            return null;\r\n        }\r\n        String contactName = &quot;Contacto no registrado&quot;;\r\n        if(cursor.moveToFirst()) {\r\n            contactName = cursor.getString(0);\r\n        }\r\n        if(!cursor.isClosed()) {\r\n            cursor.close();\r\n        }\r\n        return contactName;\r\n    }\r\n}","title":"How do I know if BroadcastReceiver is working?","body":"<p>I just forgot to asked for permissions in runtime, I added this in my onCreate and works perfectly:</p>\n<pre><code>    if (ContextCompat.checkSelfPermission(\n            this, Manifest.permission.READ_PHONE_STATE\n    )!= PackageManager.PERMISSION_GRANTED) {\n        ActivityCompat.requestPermissions(this,\n                new String[]{(Manifest.permission.READ_PHONE_STATE)},\n                REQUEST_PERMISSION_PHONE_STATE);\n    }\n    if (ContextCompat.checkSelfPermission(\n            this, Manifest.permission.READ_CONTACTS\n    )!= PackageManager.PERMISSION_GRANTED) {\n        ActivityCompat.requestPermissions(this,\n                new String[]{(Manifest.permission.READ_CONTACTS)},\n                REQUEST_PERMISSION_READ_CONTACTS);\n    }\n    if (ContextCompat.checkSelfPermission(\n            this, Manifest.permission.READ_CALL_LOG\n    )!= PackageManager.PERMISSION_GRANTED) {\n        ActivityCompat.requestPermissions(this,\n                new String[]{(Manifest.permission.READ_CALL_LOG)},\n                REQUEST_PERMISSION_READ_CALL_LOG);\n    }\n</code></pre>\n<p>I also modified my PhoneStateReceiver class, I had a lot of problems trying to get the contact name when the incoming number is already registered, I found some questions here on StackOverflow but unfortunately none of them helped me (they were deprecated solutions), finally I managed to make it work with the following code, I hope it will be helpful to someone else</p>\n<pre><code>public class PhoneStateReceiver extends BroadcastReceiver {\n\npublic String phoneNumber = &quot;&quot;;\npublic String contactName = &quot;&quot;;\n\n@Override\npublic void onReceive(Context context, Intent intent) {\n    try {\n        String state = intent.getStringExtra(TelephonyManager.EXTRA_STATE);\n        phoneNumber = intent.getStringExtra(TelephonyManager.EXTRA_INCOMING_NUMBER);\n\n        if(state.equals(TelephonyManager.EXTRA_STATE_RINGING) &amp;&amp; phoneNumber!=null){\n            Toast.makeText(context,&quot;Ringing State Number is - &quot; + phoneNumber, Toast.LENGTH_SHORT).show();\n            contactName = getContactName(context, phoneNumber);\n           \n        }\n    }\n    catch (Exception e){\n        e.printStackTrace();\n    }\n}\n\npublic String getContactName(Context context, String phoneNumber) {\n    if(phoneNumber == null){\n        return null;\n    }\n\n    ContentResolver cr = context.getContentResolver();\n    Uri uri = Uri.withAppendedPath(ContactsContract.PhoneLookup.CONTENT_FILTER_URI, Uri.encode(phoneNumber));\n    Cursor cursor = cr.query(uri, new String[] {ContactsContract.PhoneLookup.DISPLAY_NAME}, null, null, null);\n    if(cursor == null) {\n        return null;\n    }\n    String contactName = &quot;Contacto no registrado&quot;;\n    if(cursor.moveToFirst()) {\n        contactName = cursor.getString(0);\n    }\n    if(!cursor.isClosed()) {\n        cursor.close();\n    }\n    return contactName;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":18081713,"reputation":343,"user_id":16269076,"display_name":"Orlando Lucero"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71303753,"answer_count":1,"score":0,"last_activity_date":1646109112,"creation_date":1646016972,"question_id":71290185,"body_markdown":"I&#39;m trying to do an app that can send to a web service the phone numbers (and the contact name only if it is already registered) from incoming calls, so I found this [question][1] here, and I implemented the answer as the follow way:  \r\n\r\n    public class PhoneStateReceiver extends BroadcastReceiver {\r\n\r\n    public String phoneNumber;\r\n    public String contactName;\r\n    ShareUuid su = new ShareUuid();\r\n    String uuid;\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        // TODO: This method is called when the BroadcastReceiver is receiving an Intent broadcast.\r\n        //throw new UnsupportedOperationException(&quot;Not yet implemented&quot;);\r\n        Bundle extras = intent.getExtras();\r\n        if (extras != null) {\r\n            if (extras.getString(&quot;state&quot;).equals(TelephonyManager.EXTRA_STATE_RINGING)) {\r\n                phoneNumber = extras.getString(&quot;incoming_number&quot;);\r\n                Log.e(&quot;PhoneNumber&quot;, &quot;onReceive: &quot;+phoneNumber);\r\n\r\n                String nombre_prueba = contactExists(context, phoneNumber);\r\n                Log.e(&quot;nombre_prueba&quot;, nombre_prueba);\r\n\r\n                uuid = su.getUuid();\r\n                Log.e(&quot;UUID - PhoneStateReceiver&quot;, uuid);\r\n\r\n                Uri uri = Uri.withAppendedPath(android.provider.ContactsContract.CommonDataKinds.Phone.CONTENT_FILTER_URI,Uri.encode(phoneNumber));\r\n                Cursor rCursor = context.getContentResolver().query(uri,\r\n                        new String[] {\r\n                                ContactsContract.CommonDataKinds.Phone.CONTACT_ID},\r\n                        null,null,null);\r\n\r\n                String nombre = rCursor.getString(0);\r\n                //new SendData(uuid, phoneNumber, nombre).execute();\r\n                Log.e(&quot;rCursor&quot;, nombre);\r\n            }\r\n        }\r\n    }\r\n\r\n    public String contactExists(Context context, String number) {\r\n        /// number is the phone number\r\n        Uri lookupUri = Uri.withAppendedPath(\r\n                ContactsContract.CommonDataKinds.Phone.CONTENT_FILTER_URI,\r\n                Uri.encode(number));\r\n        String[] mPhoneNumberProjection = {\r\n                ContactsContract.CommonDataKinds.Phone._ID,\r\n                ContactsContract.CommonDataKinds.Phone.NUMBER,\r\n                ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME\r\n        };\r\n        Cursor cur = context.getContentResolver().query(lookupUri,mPhoneNumberProjection, null, null, null);\r\n        try {\r\n            if (cur.moveToFirst()) {\r\n                Log.d(&quot;Phone number ID&quot;, ContactsContract.CommonDataKinds.Phone._ID);\r\n                Log.d(&quot;Phone number DISPLAY_NAME&quot;, ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME);\r\n                contactName = ContactsContract.CommonDataKinds.Phone._ID;\r\n                return contactName;\r\n            }\r\n        } finally {\r\n            if (cur != null) cur.close();\r\n            contactName = &quot;N&#250;mero no registrado&quot;;\r\n        }\r\n\r\n        return contactName;\r\n    }\r\n    }\r\n}\r\n\r\n \r\nAnd there are no errors compiling, but when I receive a call this is not showing anything in the logcat or the &quot;run&quot; section, so, I don&#39;t know if it is already working, here is my intent-filter from Android Manifest:\r\n\r\n    &lt;receiver\r\n            android:name=&quot;.PhoneStateReceiver&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.PHONE_STATE&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n\r\nI think it was probably my error, so I followed this [tutotial][2] for an SMS receiver, but it also doesn&#39;t show anything when I receive a SMS.\r\n\r\nWhat am I missing?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/62653720/detecting-incoming-and-outgoing-calls-in-android-api29\r\n  [2]: https://programandoointentandolo.com/2014/08/broadcast-receiver-android.html","title":"How do I know if BroadcastReceiver is working?","body":"<p>I'm trying to do an app that can send to a web service the phone numbers (and the contact name only if it is already registered) from incoming calls, so I found this <a href=\"https://stackoverflow.com/questions/62653720/detecting-incoming-and-outgoing-calls-in-android-api29\">question</a> here, and I implemented the answer as the follow way:</p>\n<pre><code>public class PhoneStateReceiver extends BroadcastReceiver {\n\npublic String phoneNumber;\npublic String contactName;\nShareUuid su = new ShareUuid();\nString uuid;\n\n@Override\npublic void onReceive(Context context, Intent intent) {\n    // TODO: This method is called when the BroadcastReceiver is receiving an Intent broadcast.\n    //throw new UnsupportedOperationException(&quot;Not yet implemented&quot;);\n    Bundle extras = intent.getExtras();\n    if (extras != null) {\n        if (extras.getString(&quot;state&quot;).equals(TelephonyManager.EXTRA_STATE_RINGING)) {\n            phoneNumber = extras.getString(&quot;incoming_number&quot;);\n            Log.e(&quot;PhoneNumber&quot;, &quot;onReceive: &quot;+phoneNumber);\n\n            String nombre_prueba = contactExists(context, phoneNumber);\n            Log.e(&quot;nombre_prueba&quot;, nombre_prueba);\n\n            uuid = su.getUuid();\n            Log.e(&quot;UUID - PhoneStateReceiver&quot;, uuid);\n\n            Uri uri = Uri.withAppendedPath(android.provider.ContactsContract.CommonDataKinds.Phone.CONTENT_FILTER_URI,Uri.encode(phoneNumber));\n            Cursor rCursor = context.getContentResolver().query(uri,\n                    new String[] {\n                            ContactsContract.CommonDataKinds.Phone.CONTACT_ID},\n                    null,null,null);\n\n            String nombre = rCursor.getString(0);\n            //new SendData(uuid, phoneNumber, nombre).execute();\n            Log.e(&quot;rCursor&quot;, nombre);\n        }\n    }\n}\n\npublic String contactExists(Context context, String number) {\n    /// number is the phone number\n    Uri lookupUri = Uri.withAppendedPath(\n            ContactsContract.CommonDataKinds.Phone.CONTENT_FILTER_URI,\n            Uri.encode(number));\n    String[] mPhoneNumberProjection = {\n            ContactsContract.CommonDataKinds.Phone._ID,\n            ContactsContract.CommonDataKinds.Phone.NUMBER,\n            ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME\n    };\n    Cursor cur = context.getContentResolver().query(lookupUri,mPhoneNumberProjection, null, null, null);\n    try {\n        if (cur.moveToFirst()) {\n            Log.d(&quot;Phone number ID&quot;, ContactsContract.CommonDataKinds.Phone._ID);\n            Log.d(&quot;Phone number DISPLAY_NAME&quot;, ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME);\n            contactName = ContactsContract.CommonDataKinds.Phone._ID;\n            return contactName;\n        }\n    } finally {\n        if (cur != null) cur.close();\n        contactName = &quot;NÃºmero no registrado&quot;;\n    }\n\n    return contactName;\n}\n}\n</code></pre>\n<p>}</p>\n<p>And there are no errors compiling, but when I receive a call this is not showing anything in the logcat or the &quot;run&quot; section, so, I don't know if it is already working, here is my intent-filter from Android Manifest:</p>\n<pre><code>&lt;receiver\n        android:name=&quot;.PhoneStateReceiver&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.PHONE_STATE&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n</code></pre>\n<p>I think it was probably my error, so I followed this <a href=\"https://programandoointentandolo.com/2014/08/broadcast-receiver-android.html\" rel=\"nofollow noreferrer\">tutotial</a> for an SMS receiver, but it also doesn't show anything when I receive a SMS.</p>\n<p>What am I missing?</p>\n"},{"tags":["java","user-interface","javafx"],"comments":[{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":0,"creation_date":1521069767,"post_id":49287392,"comment_id":85581484,"body_markdown":"Get the scene from the other class in the `onAction` event handler of the button and replace the scene.","body":"Get the scene from the other class in the <code>onAction</code> event handler of the button and replace the scene."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1646108138,"creation_date":1521071423,"answer_id":49289401,"question_id":49287392,"body_markdown":"The preferred mechanism would probably be to get the stage dynamically from a trigger event, for example:\r\n\r\n    button.setOnAction(event -&gt; {\r\n        Scene newScene = // ... commands which define the new scene.\r\n        Stage stage = ((Node) event.getTarget()).getScene().getStage();\r\n        // or alternatively, just:\r\n        // Stage stage = button.getScene().getStage();\r\n        stage.setScene(newScene);\r\n    });\r\n\r\n----\r\n\r\nAn alternative is to provide a static accessor to the main stage in the Application.  \r\n\r\nChange your GUI class to add an accessor for the stage:\r\n\r\n    public class GUI extends Application {\r\n        private static Stage guiStage;\r\n    \r\n        public static Stage getStage() {\r\n            return guiStage;\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            guiStage = primaryStage;\r\n            // other app initialization logic . . .\r\n        }\r\n    }\r\n\r\nIn your class which needs to change the scene for the GUI stage to a new scene, invoke:\r\n\r\n    Scene newScene = // ... commands which define the new scene.\r\n    GUI.getStage().setScene(newScene);\r\n\r\nUsing a static accessor in this specific instance is generally OK, because you can only have a single Application instance launched for a given JVM execution.  The only real drawback is that you have a coded dependency between the class creating your new scene and your Application class.  But, for some application types, this won&#39;t matter.\r\n","title":"JavaFX - How to change scene using a scene from another class?","body":"<p>The preferred mechanism would probably be to get the stage dynamically from a trigger event, for example:</p>\n<pre><code>button.setOnAction(event -&gt; {\n    Scene newScene = // ... commands which define the new scene.\n    Stage stage = ((Node) event.getTarget()).getScene().getStage();\n    // or alternatively, just:\n    // Stage stage = button.getScene().getStage();\n    stage.setScene(newScene);\n});\n</code></pre>\n<hr />\n<p>An alternative is to provide a static accessor to the main stage in the Application.</p>\n<p>Change your GUI class to add an accessor for the stage:</p>\n<pre><code>public class GUI extends Application {\n    private static Stage guiStage;\n\n    public static Stage getStage() {\n        return guiStage;\n    }\n\n    @Override\n    public void start(Stage primaryStage) {\n        guiStage = primaryStage;\n        // other app initialization logic . . .\n    }\n}\n</code></pre>\n<p>In your class which needs to change the scene for the GUI stage to a new scene, invoke:</p>\n<pre><code>Scene newScene = // ... commands which define the new scene.\nGUI.getStage().setScene(newScene);\n</code></pre>\n<p>Using a static accessor in this specific instance is generally OK, because you can only have a single Application instance launched for a given JVM execution.  The only real drawback is that you have a coded dependency between the class creating your new scene and your Application class.  But, for some application types, this won't matter.</p>\n"}],"owner":{"account_id":9585714,"reputation":87,"user_id":7118564,"display_name":"fwackk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11625,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":49289401,"answer_count":1,"score":3,"last_activity_date":1646108138,"creation_date":1521060618,"question_id":49287392,"body_markdown":"I have the following class which has a button.\r\n\r\n    public class GUI extends Application {\r\n        private BorderPane mainLayout = new BorderPane();\r\n\r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            primaryStage.setTitle(&quot;Main Menu&quot;);\r\n\r\n            FlowPane layout = new FlowPane();\r\n            Button button = new Button(&quot;Click&quot;);\r\n            layout.getChildren().addAll(button);\r\n\r\n            mainLayout.setTop(layout);\r\n\r\n            Scene scene = new Scene(mainLayout, 600, 600);\r\n\r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n        }\r\n    }\r\n\r\nIf I have another class with a scene, how can I update the GUI class to show the scene by pressing the button?","title":"JavaFX - How to change scene using a scene from another class?","body":"<p>I have the following class which has a button.</p>\n\n<pre><code>public class GUI extends Application {\n    private BorderPane mainLayout = new BorderPane();\n\n    @Override\n    public void start(Stage primaryStage) {\n        primaryStage.setTitle(\"Main Menu\");\n\n        FlowPane layout = new FlowPane();\n        Button button = new Button(\"Click\");\n        layout.getChildren().addAll(button);\n\n        mainLayout.setTop(layout);\n\n        Scene scene = new Scene(mainLayout, 600, 600);\n\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n}\n</code></pre>\n\n<p>If I have another class with a scene, how can I update the GUI class to show the scene by pressing the button?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8439,"page":1553,"page_size":100}
