{"items":[{"tags":["java","elasticsearch"],"owner":{"account_id":27658281,"reputation":1,"user_id":21111692,"display_name":"Diana Grecu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675113904,"creation_date":1675091854,"question_id":75286404,"body_markdown":"I have a CountResponse object and I am trying to retrieve only the *count* field value (without the *shards* field).\r\n\r\n\r\nIf I am printing the CountResponse object I get something like this:\r\n```\r\nCountResponse: {\r\n  &quot;count&quot;: 17026,\r\n  &quot;_shards&quot;: {\r\n    &quot;failed&quot;: 0.0,\r\n    &quot;successful&quot;: 40.0,\r\n    &quot;total&quot;: 40.0,\r\n    &quot;skipped&quot;: 0.0\r\n  }\r\n};\r\n```\r\nif I am using the count method (CountResponse.count()) I was expecting to get the same number of matching documents (17026) but I get something different.\r\n\r\nI read the [documentation](https://www.elastic.co/guide/en/elasticsearch/reference/current/search-count.html) but I couldn&#39;t find an answer for this behaviour.","title":"CountResponse.count() value different than actual value in CountResponse object","body":"<p>I have a CountResponse object and I am trying to retrieve only the <em>count</em> field value (without the <em>shards</em> field).</p>\n<p>If I am printing the CountResponse object I get something like this:</p>\n<pre><code>CountResponse: {\n  &quot;count&quot;: 17026,\n  &quot;_shards&quot;: {\n    &quot;failed&quot;: 0.0,\n    &quot;successful&quot;: 40.0,\n    &quot;total&quot;: 40.0,\n    &quot;skipped&quot;: 0.0\n  }\n};\n</code></pre>\n<p>if I am using the count method (CountResponse.count()) I was expecting to get the same number of matching documents (17026) but I get something different.</p>\n<p>I read the <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-count.html\" rel=\"nofollow noreferrer\">documentation</a> but I couldn't find an answer for this behaviour.</p>\n"},{"tags":["java","json","regex","string"],"answers":[{"comments":[{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":1,"creation_date":1675112344,"post_id":75289981,"comment_id":132854993,"body_markdown":"@ArvindKumarAvinash Yeah I missed the first character, but I think that you might also exclude the double quote right?","body":"@ArvindKumarAvinash Yeah I missed the first character, but I think that you might also exclude the double quote right?"},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1675112479,"post_id":75289981,"comment_id":132855030,"body_markdown":"Excellent! Now, it meets the requirement precisely.","body":"Excellent! Now, it meets the requirement precisely."},{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":1,"creation_date":1675113346,"post_id":75289981,"comment_id":132855248,"body_markdown":"@ArvindKumarAvinash I think you had a good point writing it like this `(?&lt;=email\\&quot;:\\&quot;[^\\s\\&quot;]{1,100})[a-zA-Z0-9](?=[^\\s\\&quot;@]*@)` as the first assertion already makes sure that there is no `&quot;` to the left. I have updated it.","body":"@ArvindKumarAvinash I think you had a good point writing it like this <code>(?&lt;=email\\&quot;:\\&quot;[^\\s\\&quot;]{1,100})[a-zA-Z0-9](?=[^\\s\\&quot;@]*@)</code> as the first assertion already makes sure that there is no <code>&quot;</code> to the left. I have updated it."}],"tags":[],"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675113345,"creation_date":1675111839,"answer_id":75289981,"question_id":75289908,"body_markdown":"You might update the pattern to making use of a finite lookbehind assertion:\r\n\r\n    (?&lt;=email&quot;:&quot;[^\\s&quot;]{1,100})[a-zA-Z0-9](?=[^\\s&quot;@]*@)\r\n\r\nThe pattern in parts:\r\n\r\n- `(?&lt;=email&quot;:&quot;` Positive lookbehind, assert `email&quot;:&quot;` to the left\r\n    - `[^\\s&quot;]{1,100}` Match 1-100 times a non whitespace char other than `&quot;` to the left (adjust the quantifier as needed)\r\n- `)` Close the lookbehind\r\n- `[a-zA-Z0-9]` Match a single char a-zA-Z0-9\r\n- `(?=[^\\s&quot;@]*@)` Positive lookahead, assert a `@` to the right without crossing double quotes\r\n\r\nSee a [regex101 demo](https://regex101.com/r/80B1rp/1) and a [Java demo](https://ideone.com/7I2RTr).\r\n\r\nExample in Java with the doubled backslashes and escaped double quotes:\r\n\r\n    String jsonString = &quot;{ \\&quot;name\\&quot;:\\&quot;jhon\\&quot;, \\&quot;email\\&quot;:\\&quot;test.ing%02@gmail.com\\&quot; }&quot;;\r\n    String result = jsonString.replaceAll(&quot;(?&lt;=email\\&quot;:\\&quot;[^\\\\s\\&quot;]{1,100})[a-zA-Z0-9](?=[^\\\\s\\&quot;@]*@)&quot;, &quot;*&quot;);\r\n    System.out.println(result);\r\n\r\nOutput\r\n\r\n    { &quot;name&quot;:&quot;jhon&quot;, &quot;email&quot;:&quot;t***.***%**@gmail.com&quot; }\r\n\r\n\r\n\r\n","title":"Mask Email in JSON String Using regex","body":"<p>You might update the pattern to making use of a finite lookbehind assertion:</p>\n<pre><code>(?&lt;=email&quot;:&quot;[^\\s&quot;]{1,100})[a-zA-Z0-9](?=[^\\s&quot;@]*@)\n</code></pre>\n<p>The pattern in parts:</p>\n<ul>\n<li><code>(?&lt;=email&quot;:&quot;</code> Positive lookbehind, assert <code>email&quot;:&quot;</code> to the left\n<ul>\n<li><code>[^\\s&quot;]{1,100}</code> Match 1-100 times a non whitespace char other than <code>&quot;</code> to the left (adjust the quantifier as needed)</li>\n</ul>\n</li>\n<li><code>)</code> Close the lookbehind</li>\n<li><code>[a-zA-Z0-9]</code> Match a single char a-zA-Z0-9</li>\n<li><code>(?=[^\\s&quot;@]*@)</code> Positive lookahead, assert a <code>@</code> to the right without crossing double quotes</li>\n</ul>\n<p>See a <a href=\"https://regex101.com/r/80B1rp/1\" rel=\"nofollow noreferrer\">regex101 demo</a> and a <a href=\"https://ideone.com/7I2RTr\" rel=\"nofollow noreferrer\">Java demo</a>.</p>\n<p>Example in Java with the doubled backslashes and escaped double quotes:</p>\n<pre><code>String jsonString = &quot;{ \\&quot;name\\&quot;:\\&quot;jhon\\&quot;, \\&quot;email\\&quot;:\\&quot;test.ing%02@gmail.com\\&quot; }&quot;;\nString result = jsonString.replaceAll(&quot;(?&lt;=email\\&quot;:\\&quot;[^\\\\s\\&quot;]{1,100})[a-zA-Z0-9](?=[^\\\\s\\&quot;@]*@)&quot;, &quot;*&quot;);\nSystem.out.println(result);\n</code></pre>\n<p>Output</p>\n<pre><code>{ &quot;name&quot;:&quot;jhon&quot;, &quot;email&quot;:&quot;t***.***%**@gmail.com&quot; }\n</code></pre>\n"}],"owner":{"account_id":12634959,"reputation":222,"user_id":9184784,"display_name":"tyb9900"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675113345,"creation_date":1675111363,"question_id":75289908,"body_markdown":"I have an email masking regex and now I am trying to apply it on JSON Strings for masking email.\r\n\r\n    Regex: (?&lt;=.{1})(?=[a-zA-Z0-9]).(?=.*@)\r\n\r\nIt works fine if we apply it on email in String variable.\r\n\r\n    String s = &quot;test.ing%02@gmail.com&quot;;                        \r\n    s= s.replaceAll(&quot;(?&lt;=.{1})(?=[a-zA-Z0-9]).(?=.*@)&quot;, &quot;*&quot;);  \r\n\r\n**Output:** `t***.***%**@gmail.com`\r\n\r\nNow I am trying to apply it on JSON String which contains the email field. I selected the email field but regex is not identifying its value\r\n\r\n    String jsonString = &quot;{ \\&quot;name\\&quot;:\\&quot;jhon\\&quot;, \\&quot;email\\&quot;:\\&quot;test.ing%02@gmail.com\\&quot; }&quot;;                                        \r\n    String result = jsonString.replaceAll(&quot;(?&lt;=email\\&quot;:\\&quot;)((?&lt;=.{1})(?=[a-zA-Z0-9]).(?=.*@))(?=\\&quot;)&quot;, &quot;*&quot;);                    \r\n    System.out.println(result);  \r\n\r\n                \r\n**Actual Output:** `{ &quot;name&quot;:&quot;jhon&quot;, &quot;email&quot;:&quot;test.ing%02@gmail.com&quot; }` \r\n\r\n**Expected Output:** `{ &quot;name&quot;:&quot;jhon&quot;, &quot;email&quot;:&quot;t***.***%**@gmail.com&quot; }`                                                                            ","title":"Mask Email in JSON String Using regex","body":"<p>I have an email masking regex and now I am trying to apply it on JSON Strings for masking email.</p>\n<pre><code>Regex: (?&lt;=.{1})(?=[a-zA-Z0-9]).(?=.*@)\n</code></pre>\n<p>It works fine if we apply it on email in String variable.</p>\n<pre><code>String s = &quot;test.ing%02@gmail.com&quot;;                        \ns= s.replaceAll(&quot;(?&lt;=.{1})(?=[a-zA-Z0-9]).(?=.*@)&quot;, &quot;*&quot;);  \n</code></pre>\n<p><strong>Output:</strong> <code>t***.***%**@gmail.com</code></p>\n<p>Now I am trying to apply it on JSON String which contains the email field. I selected the email field but regex is not identifying its value</p>\n<pre><code>String jsonString = &quot;{ \\&quot;name\\&quot;:\\&quot;jhon\\&quot;, \\&quot;email\\&quot;:\\&quot;test.ing%02@gmail.com\\&quot; }&quot;;                                        \nString result = jsonString.replaceAll(&quot;(?&lt;=email\\&quot;:\\&quot;)((?&lt;=.{1})(?=[a-zA-Z0-9]).(?=.*@))(?=\\&quot;)&quot;, &quot;*&quot;);                    \nSystem.out.println(result);  \n\n            \n</code></pre>\n<p><strong>Actual Output:</strong> <code>{ &quot;name&quot;:&quot;jhon&quot;, &quot;email&quot;:&quot;test.ing%02@gmail.com&quot; }</code></p>\n<p><strong>Expected Output:</strong> <code>{ &quot;name&quot;:&quot;jhon&quot;, &quot;email&quot;:&quot;t***.***%**@gmail.com&quot; }</code></p>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1675114398,"post_id":75290208,"comment_id":132855527,"body_markdown":"Try adding `@SuppressWarnings(&quot;squid:S1149&quot;)` on the icky method call!  S1149 appears to be the related rule, but that specific rule ID should be listed somewhere...","body":"Try adding <code>@SuppressWarnings(&quot;squid:S1149&quot;)</code> on the icky method call!  S1149 appears to be the related rule, but that specific rule ID should be listed somewhere..."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1675120835,"post_id":75290208,"comment_id":132856936,"body_markdown":"An alternative to suppressing the warnings in Sonar could be to use interface types when assigning the return values: `java.util.List`, `java.util.Map`, etc. This might not be as easy to do with `StringBuffer` (you would need to choose between `Appendable` or `CharSequence`, depending on the usage) and `Stack` (which doesn&#39;t actually implement its equivalent interface `Dequeue`) but those are less common as return types. If possible, the benefit is that your code would be less coupled to the specific return types of that library, and easier to change to another implementation in the future.","body":"An alternative to suppressing the warnings in Sonar could be to use interface types when assigning the return values: <code>java.util.List</code>, <code>java.util.Map</code>, etc. This might not be as easy to do with <code>StringBuffer</code> (you would need to choose between <code>Appendable</code> or <code>CharSequence</code>, depending on the usage) and <code>Stack</code> (which doesn&#39;t actually implement its equivalent interface <code>Dequeue</code>) but those are less common as return types. If possible, the benefit is that your code would be less coupled to the specific return types of that library, and easier to change to another implementation in the future."}],"owner":{"account_id":980057,"reputation":7528,"user_id":1000011,"accept_rate":52,"display_name":"opticyclic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675113185,"creation_date":1675113185,"question_id":75290208,"body_markdown":"One of the [Sonar rules][1] states:\r\n\r\n    Synchronized classes Vector, Hashtable, Stack and StringBuffer should not be used\r\n\r\nand it marks all usages as a Major Code Smell.\r\n\r\nIn my project these are return types from a third party library I am using so I can&#39;t avoid using them when calling the API.\r\n\r\nHow can I make Sonar ignore the calls made to third party libraries and only report my own usages of creating these types?\r\n\r\n  [1]: https://rules.sonarsource.com/java/RSPEC-1149","title":"How Can I Make Sonar Ignore Errors In Return Types From Libraries?","body":"<p>One of the <a href=\"https://rules.sonarsource.com/java/RSPEC-1149\" rel=\"nofollow noreferrer\">Sonar rules</a> states:</p>\n<pre><code>Synchronized classes Vector, Hashtable, Stack and StringBuffer should not be used\n</code></pre>\n<p>and it marks all usages as a Major Code Smell.</p>\n<p>In my project these are return types from a third party library I am using so I can't avoid using them when calling the API.</p>\n<p>How can I make Sonar ignore the calls made to third party libraries and only report my own usages of creating these types?</p>\n"},{"tags":["java","arraylist","hashmap"],"comments":[{"owner":{"account_id":3526421,"reputation":20884,"user_id":2947378,"display_name":"rdas"},"score":0,"creation_date":1614073461,"post_id":66330610,"comment_id":117266630,"body_markdown":"First of all you&#39;ll need to use something other than `HashMap` that preserves the order of insertion so that you can figure out the ties.","body":"First of all you&#39;ll need to use something other than <code>HashMap</code> that preserves the order of insertion so that you can figure out the ties."},{"owner":{"account_id":17701095,"reputation":51,"user_id":12850705,"display_name":"AlexBlack"},"score":1,"creation_date":1614073655,"post_id":66330610,"comment_id":117266734,"body_markdown":"@rdas I thought that Hashmap is good for having separately the teams and teir score","body":"@rdas I thought that Hashmap is good for having separately the teams and teir score"},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1614073723,"post_id":66330610,"comment_id":117266762,"body_markdown":"the order of insertion comes naturally from the list. The hashmap is just a store where he adds the goals","body":"the order of insertion comes naturally from the list. The hashmap is just a store where he adds the goals"},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1614081639,"post_id":66330610,"comment_id":117270239,"body_markdown":"@AlexBlack and you thought well : )","body":"@AlexBlack and you thought well : )"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1614091614,"post_id":66330610,"comment_id":117275005,"body_markdown":"You covered this issue in your comments and it was addressed in the answer(s).","body":"You covered this issue in your comments and it was addressed in the answer(s)."}],"answers":[{"comments":[{"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"score":0,"creation_date":1614073970,"post_id":66330741,"comment_id":117266871,"body_markdown":"`HashMap` does not preserve insertion order. So on duplicate score you might not have right answer.","body":"<code>HashMap</code> does not preserve insertion order. So on duplicate score you might not have right answer."},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":1,"creation_date":1614074062,"post_id":66330741,"comment_id":117266915,"body_markdown":"The hashmap is not used at all  to get the order. The iteration already retrieves the teams ordered. The hashmap is used for just one reason: store the goals. The order in `String s : teams` is guaranteed. Test it.","body":"The hashmap is not used at all  to get the order. The iteration already retrieves the teams ordered. The hashmap is used for just one reason: store the goals. The order in <code>String s : teams</code> is guaranteed. Test it."},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1614074555,"post_id":66330741,"comment_id":117267140,"body_markdown":"You don&#39;t have to care wether the goals are stored here or there in the hashmap: the key is that the team retrieved from `String s : teams` yes is ordered. So the first one that gets the max, regardless the duplicates and regardless where the map stored each entry,is the winner","body":"You don&#39;t have to care wether the goals are stored here or there in the hashmap: the key is that the team retrieved from <code>String s : teams</code> yes is ordered. So the first one that gets the max, regardless the duplicates and regardless where the map stored each entry,is the winner"},{"owner":{"account_id":1449510,"reputation":48192,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"score":0,"creation_date":1614192667,"post_id":66330741,"comment_id":117313540,"body_markdown":"@aran I think you can simply this two lines     int sum = map.get(rec[0])==null ? val : map.get(rec[0]) + val;\n    map.put(rec[0], sum); into             int sum = map.compute(rec[0], (k, v) -&gt; v == null ? val : v + val);","body":"@aran I think you can simply this two lines     int sum = map.get(rec[0])==null ? val : map.get(rec[0]) + val;     map.put(rec[0], sum); into             int sum = map.compute(rec[0], (k, v) -&gt; v == null ? val : v + val);"},{"owner":{"account_id":1449510,"reputation":48192,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"score":1,"creation_date":1614192747,"post_id":66330741,"comment_id":117313570,"body_markdown":"@aran IMO this version is more readable than the version with streams","body":"@aran IMO this version is more readable than the version with streams"},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1616432712,"post_id":66330741,"comment_id":117995245,"body_markdown":"I found today that stream solution does not guarantee the order, e.g. if replace `Dortmund` with `AEK`, `AEK` will be selected first.","body":"I found today that stream solution does not guarantee the order, e.g. if replace <code>Dortmund</code> with <code>AEK</code>, <code>AEK</code> will be selected first."}],"tags":[],"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"comment_count":6,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1614119416,"creation_date":1614073683,"answer_id":66330741,"question_id":66330610,"body_markdown":"    int max = 0;\r\n    String bestTeam=&quot;&quot;;\r\n \r\n    Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n    for (String s : teams) \r\n    {\r\n        String[] rec = s.split(&quot; &quot;);\r\n        int val = Integer.parseInt(rec[1]);\r\n\t    int sum = map.get(rec[0])==null ? val : map.get(rec[0]) + val;\r\n        map.put(rec[0], sum);\r\n        if (sum&gt;max) {\r\n            max = sum;\r\n            bestTeam = rec[0];\r\n        }  \r\n    }\r\n    \r\n    System.out.println(&quot;Max score winner team :&quot; + bestTeam + &quot;-[&quot;+max+&quot;] goals&quot;);\r\n    \r\n\r\n - Other approaches just selected the max entry. The streams approaches written here  by **[Alex Rudenko][1]** and [**Nikolas Charalambidis**][2] are the perfect example of how streams should handle this scenarios. Related to this, the use of a map, which solely is used to save the total scored goals for each team. The sorting is implicit in an arraylist iteration. The hashmap wasn&#39;t never involved in any type of sorting.\r\n\r\n    *`Dortmund 11&quot;, &quot;Bayern 10&quot;, &quot;Madrid 9&quot;, &quot;Bayern 2&quot;, &quot;Bayern 4&quot;`*\r\n       \r\n    The winner of this list **is not Dortmund, but Bayern**. \r\n\r\n - The best team is the one which scores the most goals, after adding all the entries. If two teams share the same max score, the winner is the team that first reach to that max.\r\n \r\n   *`Dortmund 15&quot;, &quot;Bayern 2&quot;, &quot;Dortmund 4&quot;, &quot;Bayern 20&quot;, &quot;Dortmund 3&quot;`*\r\n\r\n    Both teams share the same max score: 22. The winner is **Bayern**, as it reached the max score first.\r\n\r\n - The logic is as simple as comparing the current maximum score with the current sum. The condition is **`sum&gt;max`** and not **`sum&gt;=max`** to guarantee that the first team who reached to that max is the winner.\r\n\r\n------\r\n\r\n***Tested, working:***\r\n\r\n**`Max score winner team :Bayern-[12]`**\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/66332573/2148953\r\n  [2]: https://stackoverflow.com/a/66331389/2148953\r\n  [3]: https://i.stack.imgur.com/WjDFE.png","title":"Output the maximum score","body":"<pre><code>int max = 0;\nString bestTeam=&quot;&quot;;\n\nMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\nfor (String s : teams) \n{\n    String[] rec = s.split(&quot; &quot;);\n    int val = Integer.parseInt(rec[1]);\n    int sum = map.get(rec[0])==null ? val : map.get(rec[0]) + val;\n    map.put(rec[0], sum);\n    if (sum&gt;max) {\n        max = sum;\n        bestTeam = rec[0];\n    }  \n}\n\nSystem.out.println(&quot;Max score winner team :&quot; + bestTeam + &quot;-[&quot;+max+&quot;] goals&quot;);\n</code></pre>\n<ul>\n<li><p>Other approaches just selected the max entry. The streams approaches written here  by <strong><a href=\"https://stackoverflow.com/a/66332573/2148953\">Alex Rudenko</a></strong> and <a href=\"https://stackoverflow.com/a/66331389/2148953\"><strong>Nikolas Charalambidis</strong></a> are the perfect example of how streams should handle this scenarios. Related to this, the use of a map, which solely is used to save the total scored goals for each team. The sorting is implicit in an arraylist iteration. The hashmap wasn't never involved in any type of sorting.</p>\n<p><em><code>Dortmund 11&quot;, &quot;Bayern 10&quot;, &quot;Madrid 9&quot;, &quot;Bayern 2&quot;, &quot;Bayern 4&quot;</code></em></p>\n<p>The winner of this list <strong>is not Dortmund, but Bayern</strong>.</p>\n</li>\n<li><p>The best team is the one which scores the most goals, after adding all the entries. If two teams share the same max score, the winner is the team that first reach to that max.</p>\n<p><em><code>Dortmund 15&quot;, &quot;Bayern 2&quot;, &quot;Dortmund 4&quot;, &quot;Bayern 20&quot;, &quot;Dortmund 3&quot;</code></em></p>\n<p>Both teams share the same max score: 22. The winner is <strong>Bayern</strong>, as it reached the max score first.</p>\n</li>\n<li><p>The logic is as simple as comparing the current maximum score with the current sum. The condition is <strong><code>sum&gt;max</code></strong> and not <strong><code>sum&gt;=max</code></strong> to guarantee that the first team who reached to that max is the winner.</p>\n</li>\n</ul>\n<hr />\n<p><em><strong>Tested, working:</strong></em></p>\n<p><strong><code>Max score winner team :Bayern-[12]</code></strong></p>\n<p><a href=\"https://i.stack.imgur.com/WjDFE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WjDFE.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":1,"creation_date":1614118886,"post_id":66331389,"comment_id":117287029,"body_markdown":"I appreciate a lot this, really. You noticed a mistake and you invested some of your time for this. Respect to you @Nikolas","body":"I appreciate a lot this, really. You noticed a mistake and you invested some of your time for this. Respect to you @Nikolas"}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1614131708,"creation_date":1614076219,"answer_id":66331389,"question_id":66330610,"body_markdown":"There is a simple way using Stream API, Regex (see demo at [Regex101][1]) and the classes `Pattern` and `Matcher`.\r\n\r\n&gt; ```\r\n&gt; ([A-Za-z ]+) (\\d+)\r\n&gt; ```\r\n\r\nRemember in Java the Regex must be double-escaped (`\\d` -&gt; `\\\\d`):\r\n\r\n```\r\nPattern pattern = Pattern.compile(&quot;([A-Za-z ]+)(\\\\d+)&quot;);\r\n\r\nOptional&lt;String&gt; result = teams.stream()\r\n\t.map(pattern::matcher)\r\n\t.filter(Matcher::find)\r\n\t.collect(Collectors.collectingAndThen(\r\n\t\t\tCollectors.groupingBy(\r\n\t\t\t\tmatcher -&gt; matcher.group(1),\r\n\t\t\t\tLinkedHashMap::new,\r\n\t\t\t\tCollectors.summingInt(m -&gt; Integer.parseInt(m.group(2)))),\r\n\t\t\tm -&gt; m.entrySet().stream()\r\n\t\t\t\t\t.max(Comparator.comparingInt(Entry::getValue))\r\n\t\t\t\t\t.map(e -&gt; e.getKey() + &quot; &quot; + e.getValue())));\r\n```\r\n\r\n\r\nThe `Matcher` has the advantage it holds the original String (`group()`) and the captured groups (`group(int)`). After calling `Matcher#find` you are able to work with the captured groups. Get a group the number is in and use it for the summing into downstream of `groupingBy` collector to get a `Map&lt;String, Integer&gt;` with the name of the team as a key and their total sum of the score as a value. The map supplier `LinkedHashMap::new` assures an ordered map.\r\n\r\nThe subsequent `Collectors.collectingAndThen` takes the entries and finds the one having the highest score. The whole Stream results in `Optional&lt;String&gt;` as long as the processing is ready to return an empty `Optional` in case of the input list is empty. \r\n\r\n\r\n**An important note:** Consider using rather a class for such construct (with `String name` and `int score`). The further operations would be the way easier.\r\n\r\n  [1]: https://regex101.com/r/1G4FoN/2\r\n\r\n","title":"Output the maximum score","body":"<p>There is a simple way using Stream API, Regex (see demo at <a href=\"https://regex101.com/r/1G4FoN/2\" rel=\"nofollow noreferrer\">Regex101</a>) and the classes <code>Pattern</code> and <code>Matcher</code>.</p>\n<blockquote>\n<pre><code>([A-Za-z ]+) (\\d+)\n</code></pre>\n</blockquote>\n<p>Remember in Java the Regex must be double-escaped (<code>\\d</code> -&gt; <code>\\\\d</code>):</p>\n<pre><code>Pattern pattern = Pattern.compile(&quot;([A-Za-z ]+)(\\\\d+)&quot;);\n\nOptional&lt;String&gt; result = teams.stream()\n    .map(pattern::matcher)\n    .filter(Matcher::find)\n    .collect(Collectors.collectingAndThen(\n            Collectors.groupingBy(\n                matcher -&gt; matcher.group(1),\n                LinkedHashMap::new,\n                Collectors.summingInt(m -&gt; Integer.parseInt(m.group(2)))),\n            m -&gt; m.entrySet().stream()\n                    .max(Comparator.comparingInt(Entry::getValue))\n                    .map(e -&gt; e.getKey() + &quot; &quot; + e.getValue())));\n</code></pre>\n<p>The <code>Matcher</code> has the advantage it holds the original String (<code>group()</code>) and the captured groups (<code>group(int)</code>). After calling <code>Matcher#find</code> you are able to work with the captured groups. Get a group the number is in and use it for the summing into downstream of <code>groupingBy</code> collector to get a <code>Map&lt;String, Integer&gt;</code> with the name of the team as a key and their total sum of the score as a value. The map supplier <code>LinkedHashMap::new</code> assures an ordered map.</p>\n<p>The subsequent <code>Collectors.collectingAndThen</code> takes the entries and finds the one having the highest score. The whole Stream results in <code>Optional&lt;String&gt;</code> as long as the processing is ready to return an empty <code>Optional</code> in case of the input list is empty.</p>\n<p><strong>An important note:</strong> Consider using rather a class for such construct (with <code>String name</code> and <code>int score</code>). The further operations would be the way easier.</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616432872,"creation_date":1614080995,"answer_id":66332573,"question_id":66330610,"body_markdown":"A stream-based solution should use `Collectors.groupingBy` and `Collectors.summingInt` to calculate the total goals/points into a map and then get maximum value out of its entries:\r\n```java\r\nteams.stream()\r\n     .map(s -&gt; s.split(&quot; &quot;)) // Stream&lt;String[]&gt;\r\n     .collect(Collectors.groupingBy(arr -&gt; arr[0], \r\n              Collectors.summingInt(arr -&gt; Integer.parseInt(arr[1])))) // Map&lt;String, Integer&gt;\r\n     .entrySet().stream()\r\n     .max(Map.Entry.comparingByValue())\r\n     .ifPresentOrElse(e -&gt; System.out.printf(&quot;Stream: %s - %d goals%n&quot;, e.getKey(), e.getValue()),\r\n                      () -&gt; System.out.println(&quot;No team found&quot;));\r\n```\r\nOutput:\r\n```\r\nStream: Bayern - 12 goals\r\n```\r\n**Update**&lt;br/&gt;\r\nHowever, this solution does not guarantee that the team which scored the maximum goals the earliest will be selected as a winner.\r\n\r\nFor `List&lt;String&gt; teams = Arrays.asList(&quot;AEK 8&quot;, &quot;Bayern 10&quot;, &quot;Madrid 9&quot;, &quot;Bayern 2&quot;, &quot;AEK 4&quot;);` the result is `AEK`.\r\n\r\n----\r\n\r\nSimilar loop-based version could be using `Map::merge` to calculate the total value of goals/points:\r\n```java\r\nMap&lt;String, Integer&gt; totals = new HashMap&lt;&gt;();\r\nString maxTeam = null;\r\nint max = 0;\r\nfor (String record : teams) {\r\n    String[] r = record.split(&quot; &quot;);\r\n    if (max &lt; totals.merge(r[0], Integer.parseInt(r[1]), Integer::sum)) {\r\n        maxTeam = r[0];\r\n        max = totals.get(maxTeam);\r\n    }\r\n}\r\nSystem.out.printf(&quot;Loop: %s - %d goals%n&quot;, maxTeam, max);\r\n```\r\nOutput:\r\n```\r\nLoop: Bayern - 12 goals\r\n```","title":"Output the maximum score","body":"<p>A stream-based solution should use <code>Collectors.groupingBy</code> and <code>Collectors.summingInt</code> to calculate the total goals/points into a map and then get maximum value out of its entries:</p>\n<pre class=\"lang-java prettyprint-override\"><code>teams.stream()\n     .map(s -&gt; s.split(&quot; &quot;)) // Stream&lt;String[]&gt;\n     .collect(Collectors.groupingBy(arr -&gt; arr[0], \n              Collectors.summingInt(arr -&gt; Integer.parseInt(arr[1])))) // Map&lt;String, Integer&gt;\n     .entrySet().stream()\n     .max(Map.Entry.comparingByValue())\n     .ifPresentOrElse(e -&gt; System.out.printf(&quot;Stream: %s - %d goals%n&quot;, e.getKey(), e.getValue()),\n                      () -&gt; System.out.println(&quot;No team found&quot;));\n</code></pre>\n<p>Output:</p>\n<pre><code>Stream: Bayern - 12 goals\n</code></pre>\n<p><strong>Update</strong><br/>\nHowever, this solution does not guarantee that the team which scored the maximum goals the earliest will be selected as a winner.</p>\n<p>For <code>List&lt;String&gt; teams = Arrays.asList(&quot;AEK 8&quot;, &quot;Bayern 10&quot;, &quot;Madrid 9&quot;, &quot;Bayern 2&quot;, &quot;AEK 4&quot;);</code> the result is <code>AEK</code>.</p>\n<hr />\n<p>Similar loop-based version could be using <code>Map::merge</code> to calculate the total value of goals/points:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Integer&gt; totals = new HashMap&lt;&gt;();\nString maxTeam = null;\nint max = 0;\nfor (String record : teams) {\n    String[] r = record.split(&quot; &quot;);\n    if (max &lt; totals.merge(r[0], Integer.parseInt(r[1]), Integer::sum)) {\n        maxTeam = r[0];\n        max = totals.get(maxTeam);\n    }\n}\nSystem.out.printf(&quot;Loop: %s - %d goals%n&quot;, maxTeam, max);\n</code></pre>\n<p>Output:</p>\n<pre><code>Loop: Bayern - 12 goals\n</code></pre>\n"}],"owner":{"account_id":17701095,"reputation":51,"user_id":12850705,"display_name":"AlexBlack"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":454,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1614091583,"accepted_answer_id":66330741,"answer_count":3,"score":2,"last_activity_date":1675112961,"creation_date":1614073242,"question_id":66330610,"body_markdown":"I have a following list of teams with their score:\r\n\r\n    List&lt;String&gt; teams = Arrays.asList(&quot;Dortmund 8&quot;, &quot;Bayern 10&quot;, &quot;Madrid 9&quot;, &quot;Bayern 2&quot;, &quot;Dortmund 4&quot;);\r\n\r\nI need to output the team who got maximum score. If the scores are equal, output the team who got it first. In my example Dortmund and Bayern has equal score, but Bayern got it first. So the output is Bayern. Here is what I have for now:\r\n\r\n        Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n        for (String s : teams) {\r\n            String[] rec = s.split(&quot; &quot;);\r\n            int val = Integer.parseInt(rec[1]);\r\n            map.put(rec[0], map.get(rec[0])==null ? val : map.get(rec[0]) + val);\r\n        }\r\n        System.out.println(map);\r\n\r\nThe code just sum the scores of each team and save it on map. I could not change the way I need. ","title":"Output the maximum score","body":"<p>I have a following list of teams with their score:</p>\n<pre><code>List&lt;String&gt; teams = Arrays.asList(&quot;Dortmund 8&quot;, &quot;Bayern 10&quot;, &quot;Madrid 9&quot;, &quot;Bayern 2&quot;, &quot;Dortmund 4&quot;);\n</code></pre>\n<p>I need to output the team who got maximum score. If the scores are equal, output the team who got it first. In my example Dortmund and Bayern has equal score, but Bayern got it first. So the output is Bayern. Here is what I have for now:</p>\n<pre><code>    Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n    for (String s : teams) {\n        String[] rec = s.split(&quot; &quot;);\n        int val = Integer.parseInt(rec[1]);\n        map.put(rec[0], map.get(rec[0])==null ? val : map.get(rec[0]) + val);\n    }\n    System.out.println(map);\n</code></pre>\n<p>The code just sum the scores of each team and save it on map. I could not change the way I need.</p>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":3365752,"reputation":2491,"user_id":2826417,"accept_rate":50,"display_name":"Sanjay"},"score":1,"creation_date":1486359346,"post_id":42060823,"comment_id":71294035,"body_markdown":"Refer This : http://stackoverflow.com/questions/6946390/installing-a-remote-tomcat-server-in-eclipse","body":"Refer This : <a href=\"http://stackoverflow.com/questions/6946390/installing-a-remote-tomcat-server-in-eclipse\" title=\"installing a remote tomcat server in eclipse\">stackoverflow.com/questions/6946390/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":9518811,"reputation":9,"user_id":7074321,"accept_rate":25,"display_name":"janu"},"score":0,"creation_date":1486364094,"post_id":42061716,"comment_id":71295729,"body_markdown":"Hey whats the use of maven. I didn&#39;t get you @Navneet  :-( could u plz tell me?","body":"Hey whats the use of maven. I didn&#39;t get you @Navneet  :-( could u plz tell me?"},{"owner":{"account_id":9518811,"reputation":9,"user_id":7074321,"accept_rate":25,"display_name":"janu"},"score":0,"creation_date":1486364263,"post_id":42061716,"comment_id":71295787,"body_markdown":"k will try (y) to do","body":"k will try (y) to do"}],"tags":[],"owner":{"account_id":7966736,"reputation":25,"user_id":6012759,"display_name":"Navneet Chandra Tiwari"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675112804,"creation_date":1486363132,"answer_id":42061716,"question_id":42060823,"body_markdown":"Convert your web project to Maven Project and copy and paste the below code to your pom file.\r\n\r\n````\r\n&lt;project ...&gt;\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;url&gt;http://yourhost:8080/manager/text&lt;/url&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n````","title":"Adding Tomcat server remotely to Eclipse IDE","body":"<p>Convert your web project to Maven Project and copy and paste the below code to your pom file.</p>\n<pre><code>&lt;project ...&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;url&gt;http://yourhost:8080/manager/text&lt;/url&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7966736,"reputation":25,"user_id":6012759,"display_name":"Navneet Chandra Tiwari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486364634,"creation_date":1486364634,"answer_id":42062045,"question_id":42060823,"body_markdown":"Convert your web project to Maven Project and copy and paste the below code to your pom file.\r\n\r\n&lt;html&gt;\r\n  &lt;build&gt;&lt;plugins&gt;&lt;plugin&gt; &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;&lt;version&gt;2.1&lt;/version&gt;&lt;configuration&lt;url&gt;http://yourhost:8080/manager/text&lt;/url&gt; &lt;/configuration&gt;&lt;/plugin&gt;&lt;/plugins&gt;&lt;/build&gt;&lt;/project&gt;&lt;/html&gt;\r\n\r\n\r\nYes the above code is working you need to configure remote ip to url section. \r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Adding Tomcat server remotely to Eclipse IDE","body":"<p>Convert your web project to Maven Project and copy and paste the below code to your pom file.</p>\n\n<p>\n   org.apache.tomcat.maventomcat7-maven-plugin2.1<a href=\"http://yourhost:8080/manager/text\" rel=\"nofollow noreferrer\">http://yourhost:8080/manager/text</a> </p>\n\n<p>Yes the above code is working you need to configure remote ip to url section. </p>\n"}],"owner":{"account_id":9518811,"reputation":9,"user_id":7074321,"accept_rate":25,"display_name":"janu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":924,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1675112804,"creation_date":1486358642,"question_id":42060823,"body_markdown":"Normally in Eclipse we run, Tomcat v7.0 Server at localhost\r\n \r\nCan we add a tomcat which is located remotely on another IP address?\r\n\r\nCurrently, I&#39;m running programs in Windows. I need it to be run with tomcat server which is located on another IP address on Linux.\r\n","title":"Adding Tomcat server remotely to Eclipse IDE","body":"<p>Normally in Eclipse we run, Tomcat v7.0 Server at localhost</p>\n\n<p>Can we add a tomcat which is located remotely on another IP address?</p>\n\n<p>Currently, I'm running programs in Windows. I need it to be run with tomcat server which is located on another IP address on Linux.</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1472657540,"post_id":39253547,"comment_id":65843133,"body_markdown":"This sounds like an awfully complicated stored procedure to begin with. Why don&#39;t you use Java code to convert strings to SQL compatible time points to begin with, instead of letting Oracle do this? Also, you only ever open cursors in the stored procedure but never exploit them??","body":"This sounds like an awfully complicated stored procedure to begin with. Why don&#39;t you use Java code to convert strings to SQL compatible time points to begin with, instead of letting Oracle do this? Also, you only ever open cursors in the stored procedure but never exploit them??"}],"answers":[{"tags":[],"owner":{"account_id":94864,"reputation":6426,"user_id":258741,"accept_rate":57,"display_name":"Zeus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675112742,"creation_date":1472660664,"answer_id":39254609,"question_id":39253547,"body_markdown":"Change your namednative query to have `{}` on it\r\n\r\n    @NamedNativeQueries({`@NamedNativeQuery(\r\n        name = &quot;callBusinessUnitProcedure&quot;,`enter code here`\r\n        query = &quot;{CALL CSR_GET_BUSINS_UNIT_EXP(:v_start_year,:v_end_year)}&quot;,\r\n        resultClass = Company.class`)\r\n    })\r\n\r\nCheck this https://stackoverflow.com/a/26381638/258741\r\n","title":"Hibernate invoking Stored Procedure returns not a valid function or procedure name error","body":"<p>Change your namednative query to have <code>{}</code> on it</p>\n<pre><code>@NamedNativeQueries({`@NamedNativeQuery(\n    name = &quot;callBusinessUnitProcedure&quot;,`enter code here`\n    query = &quot;{CALL CSR_GET_BUSINS_UNIT_EXP(:v_start_year,:v_end_year)}&quot;,\n    resultClass = Company.class`)\n})\n</code></pre>\n<p>Check this <a href=\"https://stackoverflow.com/a/26381638/258741\">https://stackoverflow.com/a/26381638/258741</a></p>\n"}],"owner":{"account_id":9106765,"reputation":21,"user_id":6776873,"display_name":"RKN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1299,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675112742,"creation_date":1472657190,"question_id":39253547,"body_markdown":"This is my procedure I am trying to invoke in Hibernate.\r\n\r\n    PROCEDURE CSR_GET_BUSINS_UNIT_EXP(\r\n                          v_start_year VARCHAR2,\r\n                          v_end_year VARCHAR2,\r\n                          c_bus_total OUT cursor_output,\r\n                          c_bus_month_total OUT cursor_output,\r\n                          c_bus_unit_info OUT cursor_output,\r\n                          c_bus_exp_info OUT cursor_output\r\n                          ) AS\r\n      BEGIN\r\n            OPEN c_bus_total FOR\r\n                SELECT NVL(SUM(amount),0)\r\n                FROM TIPS_BUS_UNIT\r\n                WHERE ACCT_PER &lt;= TO_DATE(v_start_year,&#39;dd-mon-yyyy&#39;)\r\n                AND ACCT_PER &gt;= TO_DATE(v_end_year,&#39;dd-mon-yyyy&#39;);\r\n            OPEN c_bus_month_total FOR\r\n               SELECT TO_CHAR(acct_per,&#39;MON-YYYY&#39;), NVL(SUM(amount),0)\r\n                  FROM TIPS_BUS_UNIT\r\n                  WHERE ACCT_PER &lt;= TO_DATE(v_start_year,&#39;dd-mon-yyyy&#39;)\r\n                  AND ACCT_PER &gt;= TO_DATE(v_end_year,&#39;dd-mon-yyyy&#39;)\r\n                  GROUP BY acct_per\r\n                  ORDER BY acct_per DESC;\r\n           OPEN c_bus_unit_info FOR\r\n               SELECT TIPS_BUNIT, NVL(SUM(amount),0)\r\n                  FROM TIPS_BUS_UNIT\r\n                  WHERE ACCT_PER &lt;= TO_DATE(v_start_year,&#39;dd-mon-yyyy&#39;)\r\n                  AND ACCT_PER &gt;= TO_DATE(v_end_year,&#39;dd-mon-yyyy&#39;)\r\n                  GROUP BY TIPS_BUNIT\r\n                  ORDER BY TIPS_BUNIT DESC;\r\n           OPEN c_bus_exp_info FOR\r\n                  SELECT TIPS_BUNIT, TO_CHAR(acct_per,&#39;MON-YYYY&#39;), amount\r\n               FROM TIPS_BUS_UNIT\r\n               WHERE ACCT_PER &lt;= TO_DATE(v_start_year,&#39;dd-mon-yyyy&#39;)\r\n               AND ACCT_PER &gt;= TO_DATE(v_end_year,&#39;dd-mon-yyyy&#39;)\r\n               ORDER BY TIPS_BUNIT DESC, ACCT_PER DESC;\r\n       END;\r\n\r\nAnd below is my POJO where i have defined my procedure in.setters and getters added.\r\n\r\n\r\n\r\n \r\n\r\n    @NamedNativeQueries({`@NamedNativeQuery(\r\n            name = &quot;callBusinessUnitProcedure&quot;,`enter code here`\r\n            query = &quot;CALL CSR_GET_BUSINS_UNIT_EXP(:v_start_year,:v_end_year)&quot;,\r\n            resultClass = Company.class`)\r\n        })\r\n        @Entity\r\n        @Table(name=&quot;TIPS_BUS_UNIT&quot;,schema =&quot;CSR&quot;)\r\n        public class Company implements Serializable{\r\n        @Column(name = &quot;TIPS_BUNIT&quot;)\r\n        \t@Id\r\n        \t@JsonProperty(value=&quot;businessUnit&quot;)\r\n        \tprivate String businessUnit;\r\n        \t\r\n        \t@Column(name = &quot;BUS_UNIT_DESC&quot;)\r\n        \t@JsonProperty(value=&quot;description&quot;)\r\n        \tprivate String description;\r\n        \t\r\n        \t@Column(name = &quot;ACCT_PER&quot;)\r\n        \t@JsonProperty(value=&quot;date&quot;)\r\n        \tprivate String date;\r\n        \t\r\n        \t@Column(name = &quot;AMOUNT&quot;)\r\n        \t@JsonProperty(value=&quot;amount&quot;)\r\n        \tprivate String amount;\r\n\r\n\r\n    \r\n\r\nThe below is my IMPL class where I am invoking the stored procedure to hit the data base.\r\n\r\n   \r\n\r\n     @SuppressWarnings(&quot;unchecked&quot;)\r\n        \t@Override\r\n        \tpublic  List&lt;Company&gt; getWebReports()\r\n        \t{\r\n        \t\t\r\n        \t\tList&lt;Company&gt; webReport = new ArrayList&lt;Company&gt;();\r\n        \t\t\r\n        \t\t\r\n        \t\twebReport =  entityManager\r\n        \t\t\t\t.createNamedQuery(&quot;callBusinessUnitProcedure&quot;).setParameter(&quot;v_start_year&quot;,&quot;07-OCT-2007&quot;)\r\n        \t\t\t\t.setParameter(&quot;v_end_year&quot;, &quot;06-JAN-2006&quot;).getResultList();\r\n                 return webReport;\r\n\r\nAnd when I run this I am getting the error below in my console.\r\nPlease help if anyone else is facing this kind of problem...\r\n\r\n    2016-08-30 21:59:13.516  INFO 11884 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization completed in 56 ms\r\n    Hibernate: CALL CSR_GET_BUSINS_UNIT_EXP(?,?)\r\n    2016-08-30 21:59:15.199  WARN 11884 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 6576, SQLState: 65000\r\n    2016-08-30 21:59:15.199 ERROR 11884 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : ORA-06576: not a valid function or procedure name\r\n    \r\n    2016-08-30 21:59:15.269 ERROR 11884 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[`dispatcherServlet`]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract Result Set; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract Result Set] with root cause\r\n    \r\n    java.sql.SQLException: ORA-06576: not a valid function or procedure name\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Hibernate invoking Stored Procedure returns not a valid function or procedure name error","body":"<p>This is my procedure I am trying to invoke in Hibernate.</p>\n\n<pre><code>PROCEDURE CSR_GET_BUSINS_UNIT_EXP(\n                      v_start_year VARCHAR2,\n                      v_end_year VARCHAR2,\n                      c_bus_total OUT cursor_output,\n                      c_bus_month_total OUT cursor_output,\n                      c_bus_unit_info OUT cursor_output,\n                      c_bus_exp_info OUT cursor_output\n                      ) AS\n  BEGIN\n        OPEN c_bus_total FOR\n            SELECT NVL(SUM(amount),0)\n            FROM TIPS_BUS_UNIT\n            WHERE ACCT_PER &lt;= TO_DATE(v_start_year,'dd-mon-yyyy')\n            AND ACCT_PER &gt;= TO_DATE(v_end_year,'dd-mon-yyyy');\n        OPEN c_bus_month_total FOR\n           SELECT TO_CHAR(acct_per,'MON-YYYY'), NVL(SUM(amount),0)\n              FROM TIPS_BUS_UNIT\n              WHERE ACCT_PER &lt;= TO_DATE(v_start_year,'dd-mon-yyyy')\n              AND ACCT_PER &gt;= TO_DATE(v_end_year,'dd-mon-yyyy')\n              GROUP BY acct_per\n              ORDER BY acct_per DESC;\n       OPEN c_bus_unit_info FOR\n           SELECT TIPS_BUNIT, NVL(SUM(amount),0)\n              FROM TIPS_BUS_UNIT\n              WHERE ACCT_PER &lt;= TO_DATE(v_start_year,'dd-mon-yyyy')\n              AND ACCT_PER &gt;= TO_DATE(v_end_year,'dd-mon-yyyy')\n              GROUP BY TIPS_BUNIT\n              ORDER BY TIPS_BUNIT DESC;\n       OPEN c_bus_exp_info FOR\n              SELECT TIPS_BUNIT, TO_CHAR(acct_per,'MON-YYYY'), amount\n           FROM TIPS_BUS_UNIT\n           WHERE ACCT_PER &lt;= TO_DATE(v_start_year,'dd-mon-yyyy')\n           AND ACCT_PER &gt;= TO_DATE(v_end_year,'dd-mon-yyyy')\n           ORDER BY TIPS_BUNIT DESC, ACCT_PER DESC;\n   END;\n</code></pre>\n\n<p>And below is my POJO where i have defined my procedure in.setters and getters added.</p>\n\n<pre><code>@NamedNativeQueries({`@NamedNativeQuery(\n        name = \"callBusinessUnitProcedure\",`enter code here`\n        query = \"CALL CSR_GET_BUSINS_UNIT_EXP(:v_start_year,:v_end_year)\",\n        resultClass = Company.class`)\n    })\n    @Entity\n    @Table(name=\"TIPS_BUS_UNIT\",schema =\"CSR\")\n    public class Company implements Serializable{\n    @Column(name = \"TIPS_BUNIT\")\n        @Id\n        @JsonProperty(value=\"businessUnit\")\n        private String businessUnit;\n\n        @Column(name = \"BUS_UNIT_DESC\")\n        @JsonProperty(value=\"description\")\n        private String description;\n\n        @Column(name = \"ACCT_PER\")\n        @JsonProperty(value=\"date\")\n        private String date;\n\n        @Column(name = \"AMOUNT\")\n        @JsonProperty(value=\"amount\")\n        private String amount;\n</code></pre>\n\n<p>The below is my IMPL class where I am invoking the stored procedure to hit the data base.</p>\n\n<pre><code> @SuppressWarnings(\"unchecked\")\n        @Override\n        public  List&lt;Company&gt; getWebReports()\n        {\n\n            List&lt;Company&gt; webReport = new ArrayList&lt;Company&gt;();\n\n\n            webReport =  entityManager\n                    .createNamedQuery(\"callBusinessUnitProcedure\").setParameter(\"v_start_year\",\"07-OCT-2007\")\n                    .setParameter(\"v_end_year\", \"06-JAN-2006\").getResultList();\n             return webReport;\n</code></pre>\n\n<p>And when I run this I am getting the error below in my console.\nPlease help if anyone else is facing this kind of problem...</p>\n\n<pre><code>2016-08-30 21:59:13.516  INFO 11884 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 56 ms\nHibernate: CALL CSR_GET_BUSINS_UNIT_EXP(?,?)\n2016-08-30 21:59:15.199  WARN 11884 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 6576, SQLState: 65000\n2016-08-30 21:59:15.199 ERROR 11884 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : ORA-06576: not a valid function or procedure name\n\n2016-08-30 21:59:15.269 ERROR 11884 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[`dispatcherServlet`]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract Result Set; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract Result Set] with root cause\n\njava.sql.SQLException: ORA-06576: not a valid function or procedure name\n</code></pre>\n"},{"tags":["java","spring-boot","jenkins"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1674955591,"post_id":75272029,"comment_id":132824497,"body_markdown":"you need to either change working directory after project been checked out: `cd springbootmicroservicedailybuffer` or tell `maven` where project files are located: `mvn -f springbootmicroservicedailybuffer clean install -DskipTests`","body":"you need to either change working directory after project been checked out: <code>cd springbootmicroservicedailybuffer</code> or tell <code>maven</code> where project files are located: <code>mvn -f springbootmicroservicedailybuffer clean install -DskipTests</code>"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1674956297,"post_id":75272029,"comment_id":132824562,"body_markdown":"@AndreyB.Panfilov I&#39;ll try it. Instead of `this command `mvn clean install -D skipTests` at the end of Jenkinsfile, I should this command `mvn -f springbootmicroservicedailybuffer clean install -DskipTests` . Is it right? Where do I use `cd springbootmicroservicedailybuffer` Is it defined after `git` command.","body":"@AndreyB.Panfilov I&#39;ll try it. Instead of <code>this command </code>mvn clean install -D skipTests` at the end of Jenkinsfile, I should this command <code>mvn -f springbootmicroservicedailybuffer clean install -DskipTests</code> . Is it right? Where do I use <code>cd springbootmicroservicedailybuffer</code> Is it defined after <code>git</code> command."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1675017964,"post_id":75272029,"comment_id":132833287,"body_markdown":"@AndreyB.Panfilov I tried to use your approach but I get these issues. Can you help me?","body":"@AndreyB.Panfilov I tried to use your approach but I get these issues. Can you help me?"}],"answers":[{"tags":[],"owner":{"account_id":19166589,"reputation":486,"user_id":14001175,"display_name":"Atxulo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675079388,"creation_date":1675029256,"answer_id":75278665,"question_id":75272029,"body_markdown":"In your repo (https://github.com/Rapter1990/springbootmicroservicedailybuffer) you have several pom.xml, but they are in subfolders, so you should enter them before running maven.\r\n\r\n```\r\ndir(&quot;apigateway&quot;) {\r\n  sh &quot;mvn clean install -DskipTests&quot;\r\n}\r\ndir(&quot;auth-service&quot;) {\r\n  sh &quot;mvn clean install -DskipTests&quot;\r\n}\r\n...\r\n```\r\n\r\nI also guess you could delete the &quot;git&quot; line in your Jenkinsfile, as Jenkins is already downloading the project to run it (you have your jenkinsfile and your source code in the same git repo)","title":"Spring Boot Microservices - Jenkinsfile &quot;The goal you specified requires a project to execute but there is no POM in this directory&quot;","body":"<p>In your repo (<a href=\"https://github.com/Rapter1990/springbootmicroservicedailybuffer\" rel=\"nofollow noreferrer\">https://github.com/Rapter1990/springbootmicroservicedailybuffer</a>) you have several pom.xml, but they are in subfolders, so you should enter them before running maven.</p>\n<pre><code>dir(&quot;apigateway&quot;) {\n  sh &quot;mvn clean install -DskipTests&quot;\n}\ndir(&quot;auth-service&quot;) {\n  sh &quot;mvn clean install -DskipTests&quot;\n}\n...\n</code></pre>\n<p>I also guess you could delete the &quot;git&quot; line in your Jenkinsfile, as Jenkins is already downloading the project to run it (you have your jenkinsfile and your source code in the same git repo)</p>\n"},{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675112648,"creation_date":1675112648,"answer_id":75290124,"question_id":75272029,"body_markdown":"Here is the answer shown below.\r\n\r\n    pipeline {\r\n        agent any\r\n        tools {\r\n            maven &quot;Maven 3.6.3&quot;\r\n        }\r\n        stages {\r\n            stage(&quot;build project&quot;) {\r\n                steps {\r\n                    // git &#39;https://github.com/Rapter1990/springbootmicroservicedailybuffer&#39;\r\n                    echo &quot;Java VERSION&quot;\r\n                    sh &#39;java --version&#39;\r\n                    echo &quot;Maven VERSION&quot;\r\n                    sh &#39;mvn --version&#39;\r\n                    echo &#39;building project...&#39;\r\n    \r\n                    dir(&quot;service-registry&quot;) {\r\n                      sh &quot;mvn clean install&quot;\r\n                    }\r\n    \r\n                    dir(&quot;configserver&quot;) {\r\n                      sh &quot;mvn clean install&quot;\r\n                    }\r\n    \r\n                    dir(&quot;apigateway&quot;) {\r\n                      sh &quot;mvn clean install -DskipTests&quot;\r\n                    }\r\n    \r\n                    dir(&quot;auth-service&quot;) {\r\n                      sh &quot;mvn clean install -DskipTests&quot;\r\n                    }\r\n    \r\n                    dir(&quot;productservice&quot;) {\r\n                      sh &quot;mvn clean install -DskipTests&quot;\r\n                    }\r\n    \r\n                    dir(&quot;orderservice&quot;) {\r\n                      sh &quot;mvn clean install -DskipTests&quot;\r\n                    }\r\n    \r\n                    dir(&quot;paymentservice&quot;) {\r\n                      sh &quot;mvn clean install -DskipTests&quot;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Spring Boot Microservices - Jenkinsfile &quot;The goal you specified requires a project to execute but there is no POM in this directory&quot;","body":"<p>Here is the answer shown below.</p>\n<pre><code>pipeline {\n    agent any\n    tools {\n        maven &quot;Maven 3.6.3&quot;\n    }\n    stages {\n        stage(&quot;build project&quot;) {\n            steps {\n                // git 'https://github.com/Rapter1990/springbootmicroservicedailybuffer'\n                echo &quot;Java VERSION&quot;\n                sh 'java --version'\n                echo &quot;Maven VERSION&quot;\n                sh 'mvn --version'\n                echo 'building project...'\n\n                dir(&quot;service-registry&quot;) {\n                  sh &quot;mvn clean install&quot;\n                }\n\n                dir(&quot;configserver&quot;) {\n                  sh &quot;mvn clean install&quot;\n                }\n\n                dir(&quot;apigateway&quot;) {\n                  sh &quot;mvn clean install -DskipTests&quot;\n                }\n\n                dir(&quot;auth-service&quot;) {\n                  sh &quot;mvn clean install -DskipTests&quot;\n                }\n\n                dir(&quot;productservice&quot;) {\n                  sh &quot;mvn clean install -DskipTests&quot;\n                }\n\n                dir(&quot;orderservice&quot;) {\n                  sh &quot;mvn clean install -DskipTests&quot;\n                }\n\n                dir(&quot;paymentservice&quot;) {\n                  sh &quot;mvn clean install -DskipTests&quot;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75278665,"answer_count":2,"score":0,"last_activity_date":1675112648,"creation_date":1674954943,"question_id":75272029,"body_markdown":"I have a problem about running Jenkinsfile in Jenkins for my Spring Boot Microservices example.\r\n\r\nI run Jenkins on Docker.\r\n\r\nAfter implementing a required settings for Jenkins and creating Jenkinsfile in my Spring Boot Microservices example, I run the pipeline in Jenkins but I got an error.\r\n\r\n[![Image][1]][1]\r\n\r\n\r\nHere is the error message shown below.\r\n\r\n    + mvn clean install -D skipTests\r\n    [INFO] Scanning for projects...\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  0.053 s\r\n    [INFO] Finished at: 2023-01-29T01:07:58Z\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] The goal you specified requires a project to execute but there is no POM in this directory (/var/jenkins_home/workspace/Spring Boot Microservices Pipeline). Please verify you invoked Maven from the correct directory. -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MissingProjectException\r\n\r\nHow can I fix the issue?\r\n\r\nHere is my repo : [Link][2]\r\n\r\nHere is git backend system : [Link][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2zKxq.png\r\n  [2]: https://github.com/Rapter1990/springbootmicroservicedailybuffer\r\n  [3]: https://github.com/Rapter1990/springappconfig","title":"Spring Boot Microservices - Jenkinsfile &quot;The goal you specified requires a project to execute but there is no POM in this directory&quot;","body":"<p>I have a problem about running Jenkinsfile in Jenkins for my Spring Boot Microservices example.</p>\n<p>I run Jenkins on Docker.</p>\n<p>After implementing a required settings for Jenkins and creating Jenkinsfile in my Spring Boot Microservices example, I run the pipeline in Jenkins but I got an error.</p>\n<p><a href=\"https://i.stack.imgur.com/2zKxq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2zKxq.png\" alt=\"Image\" /></a></p>\n<p>Here is the error message shown below.</p>\n<pre><code>+ mvn clean install -D skipTests\n[INFO] Scanning for projects...\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.053 s\n[INFO] Finished at: 2023-01-29T01:07:58Z\n[INFO] ------------------------------------------------------------------------\n[ERROR] The goal you specified requires a project to execute but there is no POM in this directory (/var/jenkins_home/workspace/Spring Boot Microservices Pipeline). Please verify you invoked Maven from the correct directory. -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MissingProjectException\n</code></pre>\n<p>How can I fix the issue?</p>\n<p>Here is my repo : <a href=\"https://github.com/Rapter1990/springbootmicroservicedailybuffer\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Here is git backend system : <a href=\"https://github.com/Rapter1990/springappconfig\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","spring","mongodb","spring-boot"],"comments":[{"owner":{"account_id":1450087,"reputation":11188,"user_id":1409374,"display_name":"rickhg12hs"},"score":0,"creation_date":1675120368,"post_id":75290104,"comment_id":132856864,"body_markdown":"_&quot;I created cluster ...&quot;_ On MongoDB Atlas?","body":"<i>&quot;I created cluster ...&quot;</i> On MongoDB Atlas?"}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675112517,"creation_date":1675112517,"question_id":75290104,"body_markdown":"I try to use the MongoDB in the spring-boot project.\r\n\r\nI tried a different of non-usable tutorial and stopped on the official [documentation][1]\r\n\r\nI created cluster and now I ready to use MongoDB in my project.\r\nDocumentation says:\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAs I understand the `pwd` - this is the password, so my `application.properties` looks like:\r\n\r\n```\r\nspring.data.mongodb.uri=mongodb+srv://root:pass@88.155.XX.XXX.mongodb.net/mygrocerylist\r\nspring.data.mongodb.database=mygrocerylist\r\n```\r\n\r\nthis is all what I added to the `application.properties` - there are no other information in the tutorial.\r\n\r\nAfter I started project, I receive error, that repeats every several seconds (however project still launched - I receive error even during system logging):\r\n\r\n&gt; com.mongodb.MongoConfigurationException: No SRV records available for\r\n&gt; host 88.155.21.126 \tat\r\n&gt; com.mongodb.internal.dns.DefaultDnsResolver.resolveHostFromSrvRecords(DefaultDnsResolver.java:64)\r\n&gt; ~[mongodb-driver-core-4.4.2.jar:na] \tat\r\n&gt; com.mongodb.internal.connection.DefaultDnsSrvRecordMonitor$DnsSrvRecordMonitorRunnable.run(DefaultDnsSrvRecordMonitor.java:78)\r\n&gt; ~[mongodb-driver-core-4.4.2.jar:na] \tat\r\n&gt; java.base/java.lang.Thread.run(Thread.java:829) ~[na:an]\r\n\r\n\r\n- please, can anyone to explain how to exactly add MongoDB to the spring project?\r\nI prefer to use such solution, since I need to complete the task and launch my project in the another PC. In any case - I tried to use mongoDb in the docker and this way also not work for me, and I not sure the other side use MongoDB locally.\r\n\r\n\r\n  [1]: https://www.mongodb.com/compatibility/spring-boot\r\n  [2]: https://i.stack.imgur.com/54wm4.png","title":"How to use mongoDb in spring boot? No SRV records available for host error","body":"<p>I try to use the MongoDB in the spring-boot project.</p>\n<p>I tried a different of non-usable tutorial and stopped on the official <a href=\"https://www.mongodb.com/compatibility/spring-boot\" rel=\"nofollow noreferrer\">documentation</a></p>\n<p>I created cluster and now I ready to use MongoDB in my project.\nDocumentation says:</p>\n<p><a href=\"https://i.stack.imgur.com/54wm4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/54wm4.png\" alt=\"enter image description here\" /></a></p>\n<p>As I understand the <code>pwd</code> - this is the password, so my <code>application.properties</code> looks like:</p>\n<pre><code>spring.data.mongodb.uri=mongodb+srv://root:pass@88.155.XX.XXX.mongodb.net/mygrocerylist\nspring.data.mongodb.database=mygrocerylist\n</code></pre>\n<p>this is all what I added to the <code>application.properties</code> - there are no other information in the tutorial.</p>\n<p>After I started project, I receive error, that repeats every several seconds (however project still launched - I receive error even during system logging):</p>\n<blockquote>\n<p>com.mongodb.MongoConfigurationException: No SRV records available for\nhost 88.155.21.126    at\ncom.mongodb.internal.dns.DefaultDnsResolver.resolveHostFromSrvRecords(DefaultDnsResolver.java:64)\n~[mongodb-driver-core-4.4.2.jar:na]   at\ncom.mongodb.internal.connection.DefaultDnsSrvRecordMonitor$DnsSrvRecordMonitorRunnable.run(DefaultDnsSrvRecordMonitor.java:78)\n~[mongodb-driver-core-4.4.2.jar:na]   at\njava.base/java.lang.Thread.run(Thread.java:829) ~[na:an]</p>\n</blockquote>\n<ul>\n<li>please, can anyone to explain how to exactly add MongoDB to the spring project?\nI prefer to use such solution, since I need to complete the task and launch my project in the another PC. In any case - I tried to use mongoDb in the docker and this way also not work for me, and I not sure the other side use MongoDB locally.</li>\n</ul>\n"},{"tags":["java"],"owner":{"account_id":1156784,"reputation":50192,"user_id":1137174,"accept_rate":78,"display_name":"Mike Lischke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675112339,"answer_count":0,"score":0,"last_activity_date":1675112409,"creation_date":1675111987,"question_id":75290011,"body_markdown":"I got following code and that gives me some grief:\r\n\r\n```java\r\npublic class CodePointBuffer {\r\n\tpublic enum Type {\r\n\t\t\tBYTE,\r\n\t\t\tCHAR,\r\n\t\t\tINT\r\n\t}\r\n\tprivate final Type type;\r\n\r\n\tprivate CodePointBuffer(Type type) {\r\n\t\tthis.type = type;\r\n\t}\r\n\r\n\tpublic static CodePointBuffer withBytes() {\r\n\t\treturn new CodePointBuffer(Type.BYTE);\r\n\t}\r\n}\r\n```\r\n\r\nI wonder how Java can allow access to a non-static nested type (aka. inner type) from a static method. The inner type (here the enum `Type`) requires an instance of the outer class, which is not the case in this context. So, how is this acceptable?","title":"Why can a static method access a non-static inner type?","body":"<p>I got following code and that gives me some grief:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CodePointBuffer {\n    public enum Type {\n            BYTE,\n            CHAR,\n            INT\n    }\n    private final Type type;\n\n    private CodePointBuffer(Type type) {\n        this.type = type;\n    }\n\n    public static CodePointBuffer withBytes() {\n        return new CodePointBuffer(Type.BYTE);\n    }\n}\n</code></pre>\n<p>I wonder how Java can allow access to a non-static nested type (aka. inner type) from a static method. The inner type (here the enum <code>Type</code>) requires an instance of the outer class, which is not the case in this context. So, how is this acceptable?</p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1675112920,"post_id":75290082,"comment_id":132855137,"body_markdown":"That query returns everything in both `NAMES` and `ADDRESS`. Which one do you actually need? Also, please share your `@Entities`, as those determine whether or not JPA performs a `JOIN`. As a final note, I **believe** that `IN` is not supported by JPA, but it is in JPQL. Let me check on that","body":"That query returns everything in both <code>NAMES</code> and <code>ADDRESS</code>. Which one do you actually need? Also, please share your <code>@Entities</code>, as those determine whether or not JPA performs a <code>JOIN</code>. As a final note, I <b>believe</b> that <code>IN</code> is not supported by JPA, but it is in JPQL. Let me check on that"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1675113263,"post_id":75290082,"comment_id":132855231,"body_markdown":"Double-checked, `IN` is supported in JPA as well.","body":"Double-checked, <code>IN</code> is supported in JPA as well."}],"owner":{"account_id":27660885,"reputation":7,"user_id":21113755,"display_name":"cs55"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675112391,"creation_date":1675112391,"question_id":75290082,"body_markdown":"So I have a SQL query like this,\r\n\r\n```sql\r\nSELECT *\r\n  FROM USERS.NAMES UN\r\n  JOIN USERS.ADDRESS UA\r\n    ON ADDRESS_TYPE IN (&#39;{user_supplied_value_1}&#39;, &#39;{user_supplied_value_2}&#39;)\r\n   AND UN.USERS_ID = UA.USERS_ID\r\n WHERE UN.NAMES_ID = &#39;{user_supplied_value}&#39;\r\n```\r\n\r\nHow can I write a derived JPA query for this without having to use a native query?\r\n\r\n\r\nI was thinking of something along the lines of this,\r\n\r\n`List&lt;Names&gt; findAllByNamesIdAndAddressTypeIn`","title":"How can I write a JPA query without native query that includes join operation?","body":"<p>So I have a SQL query like this,</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT *\n  FROM USERS.NAMES UN\n  JOIN USERS.ADDRESS UA\n    ON ADDRESS_TYPE IN ('{user_supplied_value_1}', '{user_supplied_value_2}')\n   AND UN.USERS_ID = UA.USERS_ID\n WHERE UN.NAMES_ID = '{user_supplied_value}'\n</code></pre>\n<p>How can I write a derived JPA query for this without having to use a native query?</p>\n<p>I was thinking of something along the lines of this,</p>\n<p><code>List&lt;Names&gt; findAllByNamesIdAndAddressTypeIn</code></p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1675110289,"post_id":75289666,"comment_id":132854415,"body_markdown":"You need to explain how you are getting `ruleType`.","body":"You need to explain how you are getting <code>ruleType</code>."},{"owner":{"account_id":457386,"reputation":1883,"user_id":856672,"accept_rate":72,"display_name":"rico"},"score":0,"creation_date":1675110649,"post_id":75289666,"comment_id":132854539,"body_markdown":"@tgdavies that&#39;s part of the question, I want to get `ruleType` but I do not know how.","body":"@tgdavies that&#39;s part of the question, I want to get <code>ruleType</code> but I do not know how."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675112316,"creation_date":1675112316,"answer_id":75290070,"question_id":75289666,"body_markdown":"Because of type erasure you&#39;ll need to take Rule and DataSource together (not logical) or:\r\n\r\n    class Rule&lt;T&gt; {\r\n        public final Class&lt;T&gt; type;\r\n        protected Rule(Class&lt;T&gt; type) {\r\n            this.type = type;\r\n        }\r\n    }\r\n\r\n    private Map&lt;Class&lt;?&gt;, DataSource&lt;?&gt;&gt; dataSourcesByType = New HashMap&lt;&gt;();\r\n\r\nNow you can register DataSources by type \r\n\r\n    Class&lt;?&gt; ruleType = rule.type;\r\n    DataSource&lt;?&gt; ds = dataSourcesByType.get(ruleType);\r\n\r\nYou&#39;ll notice `&lt;?&gt;`, especially that `ds` cannot be more specific.\r\n\r\nThat could hint at alternative method overrides for cases A, B, C. A more type safe Map getter\r\n\r\n    public &lt;X&gt; DataSource&lt;X&gt; get(Class&lt;X&gt; type)\r\n\r\n","title":"Finding generic type in parallel hierarchies of generic types","body":"<p>Because of type erasure you'll need to take Rule and DataSource together (not logical) or:</p>\n<pre><code>class Rule&lt;T&gt; {\n    public final Class&lt;T&gt; type;\n    protected Rule(Class&lt;T&gt; type) {\n        this.type = type;\n    }\n}\n\nprivate Map&lt;Class&lt;?&gt;, DataSource&lt;?&gt;&gt; dataSourcesByType = New HashMap&lt;&gt;();\n</code></pre>\n<p>Now you can register DataSources by type</p>\n<pre><code>Class&lt;?&gt; ruleType = rule.type;\nDataSource&lt;?&gt; ds = dataSourcesByType.get(ruleType);\n</code></pre>\n<p>You'll notice <code>&lt;?&gt;</code>, especially that <code>ds</code> cannot be more specific.</p>\n<p>That could hint at alternative method overrides for cases A, B, C. A more type safe Map getter</p>\n<pre><code>public &lt;X&gt; DataSource&lt;X&gt; get(Class&lt;X&gt; type)\n</code></pre>\n"}],"owner":{"account_id":457386,"reputation":1883,"user_id":856672,"accept_rate":72,"display_name":"rico"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75290070,"answer_count":1,"score":0,"last_activity_date":1675112316,"creation_date":1675109765,"question_id":75289666,"body_markdown":"Imagine I have 3 rules : `Rule&lt;A&gt;`, `Rule&lt;B&gt;`, `Rule&lt;C&gt;`\r\nSame I have 3 datasources : `Datasource&lt;A&gt;`, `Datasource&lt;B&gt;`, `Datasource&lt;C&gt;`\r\n\r\nIf I have a list of rules : `List&lt;Rule&lt;?&gt;&gt;`\r\nand I do a stream : `ruleList.stream().map(rule -&gt; ...)`\r\n\r\nIn the lambda function, I would like to call the datasource with same generic type than rule. For example :\r\n\r\n    ruleList.stream().map(rule -&gt; {\r\n       Class&lt;T&gt; ruleType = ... // Class&lt;A&gt;, Class&lt;B&gt; or Class&lt;C&gt;\r\n       Datasource&lt;T&gt; datasource = datasourceResolver.resolve(ruleType); // Datasource&lt;A&gt;, Datasource&lt;B&gt; or Datasource&lt;C&gt;\r\n       return datasource.doSomething();\r\n    })\r\n\r\nWhat would be the code to retrieve the `ruleType` and the code of `datasourceResolver` ?","title":"Finding generic type in parallel hierarchies of generic types","body":"<p>Imagine I have 3 rules : <code>Rule&lt;A&gt;</code>, <code>Rule&lt;B&gt;</code>, <code>Rule&lt;C&gt;</code>\nSame I have 3 datasources : <code>Datasource&lt;A&gt;</code>, <code>Datasource&lt;B&gt;</code>, <code>Datasource&lt;C&gt;</code></p>\n<p>If I have a list of rules : <code>List&lt;Rule&lt;?&gt;&gt;</code>\nand I do a stream : <code>ruleList.stream().map(rule -&gt; ...)</code></p>\n<p>In the lambda function, I would like to call the datasource with same generic type than rule. For example :</p>\n<pre><code>ruleList.stream().map(rule -&gt; {\n   Class&lt;T&gt; ruleType = ... // Class&lt;A&gt;, Class&lt;B&gt; or Class&lt;C&gt;\n   Datasource&lt;T&gt; datasource = datasourceResolver.resolve(ruleType); // Datasource&lt;A&gt;, Datasource&lt;B&gt; or Datasource&lt;C&gt;\n   return datasource.doSomething();\n})\n</code></pre>\n<p>What would be the code to retrieve the <code>ruleType</code> and the code of <code>datasourceResolver</code> ?</p>\n"},{"tags":["java","java-stream","composite","flatmap"],"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1675104588,"post_id":75288216,"comment_id":132852844,"body_markdown":"What enables you to assign a `BoxContainer` instance to a `List&lt;Box&gt;`?  And an expected output would also help a well as your class and interface definitions.","body":"What enables you to assign a <code>BoxContainer</code> instance to a <code>List&lt;Box&gt;</code>?  And an expected output would also help a well as your class and interface definitions."},{"owner":{"account_id":27004584,"reputation":7,"user_id":20565300,"display_name":"Bajter"},"score":0,"creation_date":1675105185,"post_id":75288216,"comment_id":132853006,"body_markdown":"@WJS I found something like this for composite pattern, dude which i snatched this from also used some streams to manipulate the data inside but he was mapping integers to calculate price, and my method does something else so i coulnd&#39;t borrow ready solution :(\n```public CompositeBlock(Box... boxes) {\n        allBoxes.addAll(Arrays.asList(boxes));\n    }\n```\nas for class/interface definitions :\n\n```\ninterface Box {\n    String getColor();\n    String getState();\n\n}\n```","body":"@WJS I found something like this for composite pattern, dude which i snatched this from also used some streams to manipulate the data inside but he was mapping integers to calculate price, and my method does something else so i coulnd&#39;t borrow ready solution :( <code>public CompositeBlock(Box... boxes) {         allBoxes.addAll(Arrays.asList(boxes));     } </code> as for class/interface definitions :  ``` interface Box {     String getColor();     String getState();  } ```"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1675105554,"post_id":75288216,"comment_id":132853102,"body_markdown":"Put the suggested edits and details in the question.","body":"Put the suggested edits and details in the question."},{"owner":{"account_id":27004584,"reputation":7,"user_id":20565300,"display_name":"Bajter"},"score":0,"creation_date":1675107770,"post_id":75288216,"comment_id":132853699,"body_markdown":"@WJS I did just that","body":"@WJS I did just that"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1675109878,"post_id":75288216,"comment_id":132854299,"body_markdown":"So you want a stream of all the `Leaf`s, ignoring the `BoxContainer`s?","body":"So you want a stream of all the <code>Leaf</code>s, ignoring the <code>BoxContainer</code>s?"}],"answers":[{"comments":[{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1675111094,"post_id":75289682,"comment_id":132854669,"body_markdown":"This doesn&#39;t seem to solve the problem that the Composite Pattern is intended to solve; i.e. a client calling the `leaves()` method is stuck figuring out whether each element in the Stream is a `Leaf` or `Container`. Worse, implementing the `leaves()` method of a `Leaf` to return itself leads to infinite recursion.","body":"This doesn&#39;t seem to solve the problem that the Composite Pattern is intended to solve; i.e. a client calling the <code>leaves()</code> method is stuck figuring out whether each element in the Stream is a <code>Leaf</code> or <code>Container</code>. Worse, implementing the <code>leaves()</code> method of a <code>Leaf</code> to return itself leads to infinite recursion."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1675111331,"post_id":75289682,"comment_id":132854728,"body_markdown":"How is that? All you have to do is call `leaves().toList()` on your BoxContainer and you got a list of Leaf. You can even make it more explicit and return `Stream&lt;Leaf&gt;`.","body":"How is that? All you have to do is call <code>leaves().toList()</code> on your BoxContainer and you got a list of Leaf. You can even make it more explicit and return <code>Stream&lt;Leaf&gt;</code>."},{"owner":{"account_id":27004584,"reputation":7,"user_id":20565300,"display_name":"Bajter"},"score":0,"creation_date":1675111523,"post_id":75289682,"comment_id":132854773,"body_markdown":"@shmosel - this is what i&#39;ve been looking for, thank You kind Sir","body":"@shmosel - this is what i&#39;ve been looking for, thank You kind Sir"},{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1675112933,"post_id":75289682,"comment_id":132855142,"body_markdown":"I guess the assumption is that a client can never invoke a method on a nested `Container`, which is probably fair. But a `Box` cannot return a `Leaf` because that forces the client to deal with two different abstractions, and the purpose of the Composite Pattern is to avoid that: &quot;_Composite lets clients treat individual objects and compositions of objects uniformly._&quot; Typically, the composition is treated as an individual object. This does the inverse, which is less helpful since the iteration logic remains the client&#39;s responsibility rather than abstracting that away.","body":"I guess the assumption is that a client can never invoke a method on a nested <code>Container</code>, which is probably fair. But a <code>Box</code> cannot return a <code>Leaf</code> because that forces the client to deal with two different abstractions, and the purpose of the Composite Pattern is to avoid that: &quot;<i>Composite lets clients treat individual objects and compositions of objects uniformly.</i>&quot; Typically, the composition is treated as an individual object. This does the inverse, which is less helpful since the iteration logic remains the client&#39;s responsibility rather than abstracting that away."},{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1675113630,"post_id":75289682,"comment_id":132855334,"body_markdown":"Additionally, if the &quot;uniform abstraction&quot; of a composite was to return some collection of itself (as in the original implementation of this answer) then the client needs to know not to recurse into that resulting collection; i.e. the client needs to treat some instances of the abstraction differently from others, which is another form of the original problem the Composite Pattern tries to solve.","body":"Additionally, if the &quot;uniform abstraction&quot; of a composite was to return some collection of itself (as in the original implementation of this answer) then the client needs to know not to recurse into that resulting collection; i.e. the client needs to treat some instances of the abstraction differently from others, which is another form of the original problem the Composite Pattern tries to solve."}],"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675111815,"creation_date":1675109827,"answer_id":75289682,"question_id":75288216,"body_markdown":"You need to have nested flatMaps if you want it to be recursive. The simplest way is to provide a method on the `Box` interface that streams all its nested boxes:\r\n\r\n    Stream&lt;Leaf&gt; leaves();\r\n\r\nOn the `BoxContainer` class, it would iterate over its children:\r\n\r\n    @Override\r\n    Stream&lt;Leaf&gt; leaves() {\r\n        return allBoxes.stream().flatMap(Box::leaves);\r\n    }\r\n\r\nAnd the `Leaf` class just returns itself:\r\n\r\n    @Override\r\n    Stream&lt;Leaf&gt; leaves() {\r\n        return Stream.of(this);\r\n    }\r\n\r\n[**Ideone Demo**][1]\r\n\r\n\r\n  [1]: https://ideone.com/KzFMon","title":"flatmap in a composite pattern","body":"<p>You need to have nested flatMaps if you want it to be recursive. The simplest way is to provide a method on the <code>Box</code> interface that streams all its nested boxes:</p>\n<pre><code>Stream&lt;Leaf&gt; leaves();\n</code></pre>\n<p>On the <code>BoxContainer</code> class, it would iterate over its children:</p>\n<pre><code>@Override\nStream&lt;Leaf&gt; leaves() {\n    return allBoxes.stream().flatMap(Box::leaves);\n}\n</code></pre>\n<p>And the <code>Leaf</code> class just returns itself:</p>\n<pre><code>@Override\nStream&lt;Leaf&gt; leaves() {\n    return Stream.of(this);\n}\n</code></pre>\n<p><a href=\"https://ideone.com/KzFMon\" rel=\"nofollow noreferrer\"><strong>Ideone Demo</strong></a></p>\n"}],"owner":{"account_id":27004584,"reputation":7,"user_id":20565300,"display_name":"Bajter"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675111815,"creation_date":1675100788,"question_id":75288216,"body_markdown":"I am learning design patterns and I stumbled upon a task that interested me, but I failed completing it. I have an interface Box, that has two extending class, let&#39;s call it Leaf and BoxContainer. I tried doing something like this: \r\n\r\n```\r\nList&lt;Box&gt; boxContainer = new BoxContainer(new Leaf(&quot;red&quot;,&quot;fresh&quot;),\r\n                                                new Leaf(&quot;white&quot;,&quot;dry&quot;),\r\n                                                new Leaf(&quot;black&quot;,&quot;dry&quot;),\r\n                                                new Leaf(&quot;green&quot;, &quot;fresh&quot;),\r\n                                                new BoxContainer((&quot;red&quot;,&quot;fresh&quot;),\r\n                                                new Leaf(&quot;white&quot;,&quot;dry&quot;),\r\n                                                new Leaf(&quot;black&quot;,&quot;dry&quot;),\r\n                                                new Leaf(&quot;green&quot;, &quot;fresh&quot;),)));\r\n\r\n```\r\n\r\n and one of the method i implemented needs to flatten the list into one long list, because when i try to sum up the size of the list it gives me 5, not 8 that i expect to get, since there are 8 leafs inside a box - 4 on the outside and another 4 inside the BoxContainer in the BoxContainer.\r\nI&#39;m trying to use flatmap because I wanted the method to be able to flatten more than 1 BoxContainer in a BoxContainer, I mean I would like to be able to pass a box in a box in a box in a box and so on, and the flatmap should help me do this as far as i understand. \r\nThe problem is that when I tried this :\r\n```\r\nList&lt;Box&gt; getBoxes() {\r\n        List&lt;Box&gt;flat= allBoxes.stream().flatMap(List::stream).collect(Collectors.toList());\r\n```\r\nthe List::stream gives me error &quot;Non-static method cannot be referenced from a static context&quot;\r\n\r\nis there any way around it, or is my implementation and simply thinking bad and I should go about it in some other way?\r\n\r\nI tried some lambda solutions and I browsed other examples of the problem but didn&#39;t find anything i could implement in my own code\r\n\r\n@Edit\r\n```\r\nclass BoxContainer implements Box{\r\n     List&lt;Box&gt; allBoxes= new ArrayList&lt;&gt;();\r\n    String color;\r\n    String state;\r\n\r\n    public BoxContainer(Box... boxes) {\r\n        allBoxes.addAll(Arrays.asList(boxes));\r\n    }\r\n\r\n```\r\n\r\nas for class/interface definitions :\r\n``` \r\ninterface Box { String getColor(); String getState(); } \r\n```\r\n\r\n","title":"flatmap in a composite pattern","body":"<p>I am learning design patterns and I stumbled upon a task that interested me, but I failed completing it. I have an interface Box, that has two extending class, let's call it Leaf and BoxContainer. I tried doing something like this:</p>\n<pre><code>List&lt;Box&gt; boxContainer = new BoxContainer(new Leaf(&quot;red&quot;,&quot;fresh&quot;),\n                                                new Leaf(&quot;white&quot;,&quot;dry&quot;),\n                                                new Leaf(&quot;black&quot;,&quot;dry&quot;),\n                                                new Leaf(&quot;green&quot;, &quot;fresh&quot;),\n                                                new BoxContainer((&quot;red&quot;,&quot;fresh&quot;),\n                                                new Leaf(&quot;white&quot;,&quot;dry&quot;),\n                                                new Leaf(&quot;black&quot;,&quot;dry&quot;),\n                                                new Leaf(&quot;green&quot;, &quot;fresh&quot;),)));\n\n</code></pre>\n<p>and one of the method i implemented needs to flatten the list into one long list, because when i try to sum up the size of the list it gives me 5, not 8 that i expect to get, since there are 8 leafs inside a box - 4 on the outside and another 4 inside the BoxContainer in the BoxContainer.\nI'm trying to use flatmap because I wanted the method to be able to flatten more than 1 BoxContainer in a BoxContainer, I mean I would like to be able to pass a box in a box in a box in a box and so on, and the flatmap should help me do this as far as i understand.\nThe problem is that when I tried this :</p>\n<pre><code>List&lt;Box&gt; getBoxes() {\n        List&lt;Box&gt;flat= allBoxes.stream().flatMap(List::stream).collect(Collectors.toList());\n</code></pre>\n<p>the List::stream gives me error &quot;Non-static method cannot be referenced from a static context&quot;</p>\n<p>is there any way around it, or is my implementation and simply thinking bad and I should go about it in some other way?</p>\n<p>I tried some lambda solutions and I browsed other examples of the problem but didn't find anything i could implement in my own code</p>\n<p>@Edit</p>\n<pre><code>class BoxContainer implements Box{\n     List&lt;Box&gt; allBoxes= new ArrayList&lt;&gt;();\n    String color;\n    String state;\n\n    public BoxContainer(Box... boxes) {\n        allBoxes.addAll(Arrays.asList(boxes));\n    }\n\n</code></pre>\n<p>as for class/interface definitions :</p>\n<pre><code>interface Box { String getColor(); String getState(); } \n</code></pre>\n"},{"tags":["java","antlr4"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1675110290,"post_id":75289012,"comment_id":132854417,"body_markdown":"Please post all code as *text* rather than images. (I note this isn&#39;t the first time you&#39;ve received this feedback, by the way...)","body":"Please post all code as <i>text</i> rather than images. (I note this isn&#39;t the first time you&#39;ve received this feedback, by the way...)"}],"answers":[{"comments":[{"owner":{"account_id":27229009,"reputation":13,"user_id":20757034,"display_name":"ananas1kk"},"score":0,"creation_date":1675111654,"post_id":75289736,"comment_id":132854817,"body_markdown":"And it&#39;s too, thank you!)","body":"And it&#39;s too, thank you!)"}],"tags":[],"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675110491,"creation_date":1675110178,"answer_id":75289736,"question_id":75289012,"body_markdown":"The `ANTLRInputStream` class is an ANTLR v3 class. You need the v4 variant(s). Do something like this instead:\r\n\r\n```java\r\nCharStream charStream = args.length &gt; 0\r\n    ? CharStreams.fromFileName(args[0])\r\n    : CharStreams.fromStream(System.in);\r\n\r\nLabLexer lexer = new LabLexer(charStream);\r\nLabParser parser = new LabParser(new CommonTokenStream(lexer));\r\n```","title":"Class B constructor argument is an interface.I need to pass as an argument to the 4th generation successor constructor of this interface","body":"<p>The <code>ANTLRInputStream</code> class is an ANTLR v3 class. You need the v4 variant(s). Do something like this instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CharStream charStream = args.length &gt; 0\n    ? CharStreams.fromFileName(args[0])\n    : CharStreams.fromStream(System.in);\n\nLabLexer lexer = new LabLexer(charStream);\nLabParser parser = new LabParser(new CommonTokenStream(lexer));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":0,"creation_date":1675113044,"post_id":75289943,"comment_id":132855176,"body_markdown":"The v4 version of `ANTLRInputStream` is deprecated: do not use it, go for my suggestion instead.","body":"The v4 version of <code>ANTLRInputStream</code> is deprecated: do not use it, go for my suggestion instead."}],"tags":[],"owner":{"account_id":27229009,"reputation":13,"user_id":20757034,"display_name":"ananas1kk"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675111608,"creation_date":1675111608,"answer_id":75289943,"question_id":75289012,"body_markdown":"It&#39;s funny, but I quickly found a solution\r\nThe type of the variable must be the name of the interface.\r\nChar input = new ANTLRInputStream(arg); instead of ANTLRInputStream input = new ANTLRInputStream(arg);\r\nSorry for the stupid question, but I&#39;m new to Java))","title":"Class B constructor argument is an interface.I need to pass as an argument to the 4th generation successor constructor of this interface","body":"<p>It's funny, but I quickly found a solution\nThe type of the variable must be the name of the interface.\nChar input = new ANTLRInputStream(arg); instead of ANTLRInputStream input = new ANTLRInputStream(arg);\nSorry for the stupid question, but I'm new to Java))</p>\n"}],"owner":{"account_id":27229009,"reputation":13,"user_id":20757034,"display_name":"ananas1kk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1675111608,"creation_date":1675105590,"question_id":75289012,"body_markdown":"There are two lines:\r\n1. An instance of the class &#39;ANTLRInputStream&#39; is created as &#39;input&#39;;\r\n2. An instance of another LabLexer class is created as &#39;lexer&#39;, where the &#39;input&#39; object from the previous line is passed in the constructor;\r\n   The &#39;lexer&#39; constructor specifies that the input argument type is CharStream, but CharStream is an interface. This interface implements the &#39;ANTLRStringStream&#39; class. The latter has a successor - &#39;ANTLReaderStream&#39;, and it has &#39;ANTLRInputStream&#39; from the first line.\r\n   Problem Description: &quot;LabLexer(org.antlr.v4.runtime.CharStream)&quot; in &quot;LabLexer&quot; cannot be applied to &quot;(org.antlr.runtime.ANTLRInputStream)&quot;\r\n   Unfortunately, I can&#39;t change the code, since it&#39;s a rather complicated tool for me - the code is written &quot;according to the instructions.&quot;\r\n   Help please!\r\n\r\nI tried to change the type of variable - not successful.\r\nAnd add new constructor or change existing - not successful too (variable of CharStream type is initialized in begin of code).\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n[![enter image description here][6]][6]\r\n\r\n\r\n[![enter image description here][7]][7]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4ksMa.jpg\r\n  [2]: https://i.stack.imgur.com/nwlAt.png\r\n  [3]: https://i.stack.imgur.com/JmNDj.png\r\n  [4]: https://i.stack.imgur.com/5QRnY.png\r\n  [5]: https://i.stack.imgur.com/kEu7X.png\r\n  [6]: https://i.stack.imgur.com/FOPHb.png\r\n  [7]: https://i.stack.imgur.com/hbO4u.png","title":"Class B constructor argument is an interface.I need to pass as an argument to the 4th generation successor constructor of this interface","body":"<p>There are two lines:</p>\n<ol>\n<li>An instance of the class 'ANTLRInputStream' is created as 'input';</li>\n<li>An instance of another LabLexer class is created as 'lexer', where the 'input' object from the previous line is passed in the constructor;\nThe 'lexer' constructor specifies that the input argument type is CharStream, but CharStream is an interface. This interface implements the 'ANTLRStringStream' class. The latter has a successor - 'ANTLReaderStream', and it has 'ANTLRInputStream' from the first line.\nProblem Description: &quot;LabLexer(org.antlr.v4.runtime.CharStream)&quot; in &quot;LabLexer&quot; cannot be applied to &quot;(org.antlr.runtime.ANTLRInputStream)&quot;\nUnfortunately, I can't change the code, since it's a rather complicated tool for me - the code is written &quot;according to the instructions.&quot;\nHelp please!</li>\n</ol>\n<p>I tried to change the type of variable - not successful.\nAnd add new constructor or change existing - not successful too (variable of CharStream type is initialized in begin of code).\n<a href=\"https://i.stack.imgur.com/4ksMa.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4ksMa.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/nwlAt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nwlAt.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/JmNDj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JmNDj.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/5QRnY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5QRnY.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/kEu7X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kEu7X.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/FOPHb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FOPHb.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/hbO4u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hbO4u.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","google-chrome","selenium","selenium-webdriver","click"],"comments":[{"owner":{"account_id":63129,"reputation":22345,"user_id":187061,"accept_rate":88,"display_name":"jim tollan"},"score":1,"creation_date":1438275826,"post_id":31725033,"comment_id":51395396,"body_markdown":"jeremy -chrom v44 has known issues with click events and various sendkey combinations (in other words, it;s fairly useless). there has been lots of chatter about this, as this is the 1st time that chrome has majorly slipped in this respect. many of my tests are faling now too and I didn&#39;t realise the issue and was adding a whole new bundle of Waits until I discovered that there was a problem with v44 -hope this helps","body":"jeremy -chrom v44 has known issues with click events and various sendkey combinations (in other words, it;s fairly useless). there has been lots of chatter about this, as this is the 1st time that chrome has majorly slipped in this respect. many of my tests are faling now too and I didn&#39;t realise the issue and was adding a whole new bundle of Waits until I discovered that there was a problem with v44 -hope this helps"},{"owner":{"account_id":2190742,"reputation":413,"user_id":1937865,"accept_rate":50,"display_name":"Jeremy Borg"},"score":1,"creation_date":1438784131,"post_id":31725033,"comment_id":51591932,"body_markdown":"Thank you for your reply. I guess we&#39;ll have to wait for a new version of chrome then.","body":"Thank you for your reply. I guess we&#39;ll have to wait for a new version of chrome then."}],"answers":[{"comments":[{"owner":{"account_id":63129,"reputation":22345,"user_id":187061,"accept_rate":88,"display_name":"jim tollan"},"score":2,"creation_date":1438275898,"post_id":31725102,"comment_id":51395427,"body_markdown":"alec, really nioce summary of the various approaches - plus one!","body":"alec, really nioce summary of the various approaches - plus one!"},{"owner":{"account_id":8906759,"reputation":2159,"user_id":6648326,"accept_rate":71,"display_name":"MasterJoe"},"score":2,"creation_date":1490405625,"post_id":31725102,"comment_id":73112725,"body_markdown":"None of these approaches work for me. Except js method, the click is registered on the element and the element is highlighted by a dotted border after being clicked. But, nothing happens. When i click the same button manually, then the click works.","body":"None of these approaches work for me. Except js method, the click is registered on the element and the element is highlighted by a dotted border after being clicked. But, nothing happens. When i click the same button manually, then the click works."},{"owner":{"account_id":1578628,"reputation":1857,"user_id":1464495,"accept_rate":91,"display_name":"brandones"},"score":2,"creation_date":1588722050,"post_id":31725102,"comment_id":109007315,"body_markdown":"The suggestions from @sumitkumarpradhan are `driver.findElement(button).sendKeys(Keys.RETURN);` and `driver.findElement(button).sendKeys(Keys.ENTER);`, if you don&#39;t feel like clicking links.","body":"The suggestions from @sumitkumarpradhan are <code>driver.findElement(button).sendKeys(Keys.RETURN);</code> and <code>driver.findElement(button).sendKeys(Keys.ENTER);</code>, if you don&#39;t feel like clicking links."},{"owner":{"account_id":1149936,"reputation":14493,"user_id":1131857,"accept_rate":76,"display_name":"wutzebaer"},"score":0,"creation_date":1608245709,"post_id":31725102,"comment_id":115532405,"body_markdown":"any ideas why the first and the second solutions does not work always (i created a while loop and it only works in 95%) but the last always works? In my case it is the first click right after the page is loaded, might it be a chrome bug?","body":"any ideas why the first and the second solutions does not work always (i created a while loop and it only works in 95%) but the last always works? In my case it is the first click right after the page is loaded, might it be a chrome bug?"},{"owner":{"account_id":403854,"reputation":465667,"user_id":771848,"accept_rate":100,"display_name":"alecxe"},"score":0,"creation_date":1608245840,"post_id":31725102,"comment_id":115532444,"body_markdown":"@wutzebaer the reason why the last one always works is that it is a programmatic way of achieving the same thing..I do prefer using this approach if I am using selenium for data gathering and not testing..","body":"@wutzebaer the reason why the last one always works is that it is a programmatic way of achieving the same thing..I do prefer using this approach if I am using selenium for data gathering and not testing.."}],"tags":[],"owner":{"account_id":403854,"reputation":465667,"user_id":771848,"accept_rate":100,"display_name":"alecxe"},"comment_count":5,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1438262751,"creation_date":1438262751,"answer_id":31725102,"question_id":31725033,"body_markdown":"There are several things you can try:\r\n\r\n * an Explicit `elementToBeClickable` Wait:\r\n\r\n        WebDriverWait wait = new WebDriverWait(webDriver, 10);\r\n\r\n        WebElement button = wait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;myid&quot;)));\r\n        button.click()\r\n\r\n * move to element before making a click:\r\n\r\n        Actions actions = new Actions(driver);\r\n        actions.moveToElement(button).click().build().perform();\r\n\r\n * make the click via javascript:\r\n\r\n        JavascriptExecutor js = (JavascriptExecutor)driver;\r\n        js.executeScript(&quot;arguments[0].click();&quot;, button);\r\n","title":"Selenium click not always working","body":"<p>There are several things you can try:</p>\n\n<ul>\n<li><p>an Explicit <code>elementToBeClickable</code> Wait:</p>\n\n<pre><code>WebDriverWait wait = new WebDriverWait(webDriver, 10);\n\nWebElement button = wait.until(ExpectedConditions.elementToBeClickable(By.id(\"myid\")));\nbutton.click()\n</code></pre></li>\n<li><p>move to element before making a click:</p>\n\n<pre><code>Actions actions = new Actions(driver);\nactions.moveToElement(button).click().build().perform();\n</code></pre></li>\n<li><p>make the click via javascript:</p>\n\n<pre><code>JavascriptExecutor js = (JavascriptExecutor)driver;\njs.executeScript(\"arguments[0].click();\", button);\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5868053,"reputation":101,"user_id":4621308,"accept_rate":25,"display_name":"Aditya Byreddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438262943,"creation_date":1438262943,"answer_id":31725174,"question_id":31725033,"body_markdown":"you can go with `linkText` if the tab name contains any unique string. And make sure your tab is not dynamic. It should be visible in source code(manual source code(`ctrl+u`)).","title":"Selenium click not always working","body":"<p>you can go with <code>linkText</code> if the tab name contains any unique string. And make sure your tab is not dynamic. It should be visible in source code(manual source code(<code>ctrl+u</code>)).</p>\n"},{"tags":[],"owner":{"account_id":15264422,"reputation":11,"user_id":11013506,"display_name":"Vilo C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549300548,"creation_date":1549297600,"answer_id":54520346,"question_id":31725033,"body_markdown":"The following method work for me \r\n\r\n    WebElement button = SeleniumTools.findVisibleElement(By.cssSelector(&quot;#cssid&quot;));\r\n\r\n    Actions actions = new Actions(driver);\r\n\r\n    actions.moveToElement(button).click().build().perform();\r\n\r\n","title":"Selenium click not always working","body":"<p>The following method work for me </p>\n\n<pre><code>WebElement button = SeleniumTools.findVisibleElement(By.cssSelector(\"#cssid\"));\n\nActions actions = new Actions(driver);\n\nactions.moveToElement(button).click().build().perform();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2985164,"reputation":5188,"user_id":2534191,"accept_rate":25,"display_name":"Yuriy N."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644446265,"creation_date":1644446265,"answer_id":71057688,"question_id":31725033,"body_markdown":"I have a similar problem. Tried all solutions from the top answer. Sometimes they work, sometimes don&#39;t. \r\n\r\nBut running code in an infinite loop works always.\r\n\r\nFor example, we need to click on `element-two` which is not visible until `element-one` is clicked. \r\n    \r\n    WebDriverWait wait = new WebDriverWait(webDriver, 10);\r\n    while (true){\r\n        try {\r\n            WebElement elementOne = \r\n                  wait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;element-one&quot;)));\r\n            elementOne.click();\r\n            WebElement elementTwo = \r\n                  wait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;element-two&quot;)));\r\n            elementTwo.click();\r\n            break;\r\n        } catch (Exception e){\r\n            //log\r\n        }\r\n\r\n    }","title":"Selenium click not always working","body":"<p>I have a similar problem. Tried all solutions from the top answer. Sometimes they work, sometimes don't.</p>\n<p>But running code in an infinite loop works always.</p>\n<p>For example, we need to click on <code>element-two</code> which is not visible until <code>element-one</code> is clicked.</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(webDriver, 10);\nwhile (true){\n    try {\n        WebElement elementOne = \n              wait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;element-one&quot;)));\n        elementOne.click();\n        WebElement elementTwo = \n              wait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;element-two&quot;)));\n        elementTwo.click();\n        break;\n    } catch (Exception e){\n        //log\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19153806,"reputation":11,"user_id":13991103,"display_name":"Hope"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675111412,"creation_date":1675111412,"answer_id":75289914,"question_id":31725033,"body_markdown":"I have a similar problem. Here is my solution: \r\n```\r\ntable_button = driver.find_element(By.XPATH, insert your xpath)\r\ntry:\r\n    WebDriverWait(driver, 15).until(EC.element_to_be_clickable(table_button)).click()\r\nexcept WebDriverException as e:\r\n    print(&#39;failed&#39;)\r\n    print(e)\r\n```\r\nThrough code above, you can find the error message if your button is not clickable. \r\n\r\nFor example, my error message is &#39;nosuchelement&#39; and &#39;clcik is not clickable&#39;, then I got back to check the table_button.accessible_name, found it print a &#39;null&#39; value, so that means my XPATH is incorrect. \r\n\r\n","title":"Selenium click not always working","body":"<p>I have a similar problem. Here is my solution:</p>\n<pre><code>table_button = driver.find_element(By.XPATH, insert your xpath)\ntry:\n    WebDriverWait(driver, 15).until(EC.element_to_be_clickable(table_button)).click()\nexcept WebDriverException as e:\n    print('failed')\n    print(e)\n</code></pre>\n<p>Through code above, you can find the error message if your button is not clickable.</p>\n<p>For example, my error message is 'nosuchelement' and 'clcik is not clickable', then I got back to check the table_button.accessible_name, found it print a 'null' value, so that means my XPATH is incorrect.</p>\n"}],"owner":{"account_id":2190742,"reputation":413,"user_id":1937865,"accept_rate":50,"display_name":"Jeremy Borg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17104,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":5,"score":16,"last_activity_date":1675111412,"creation_date":1438262569,"question_id":31725033,"body_markdown":"I have some tests which click on a tab, however the click is not always performed. \r\n\r\n- The xpath is correct as most of the times the test works\r\n\r\n- It is not a timing issue as I ve used thread.sleep() and other methods to ensure that the element is visible before clicking\r\n\r\n- The test believes that it is performing the click as it is not throwing an ElementNotFoundException or any other exceptions when &#39;performing&#39; the click. The test fails later on after the click since the tab content would not have changed. \r\n\r\n\r\nFurther Info\r\nI am using Selenium 2.44.0 to implement tests in Java which run on Chrome 44.0.2403.107 m.\r\n\r\nIs there something else that I can do or could this be an issue with selenium?","title":"Selenium click not always working","body":"<p>I have some tests which click on a tab, however the click is not always performed. </p>\n\n<ul>\n<li><p>The xpath is correct as most of the times the test works</p></li>\n<li><p>It is not a timing issue as I ve used thread.sleep() and other methods to ensure that the element is visible before clicking</p></li>\n<li><p>The test believes that it is performing the click as it is not throwing an ElementNotFoundException or any other exceptions when 'performing' the click. The test fails later on after the click since the tab content would not have changed. </p></li>\n</ul>\n\n<p>Further Info\nI am using Selenium 2.44.0 to implement tests in Java which run on Chrome 44.0.2403.107 m.</p>\n\n<p>Is there something else that I can do or could this be an issue with selenium?</p>\n"},{"tags":["java","spring","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675110954,"creation_date":1675106757,"answer_id":75289195,"question_id":75288366,"body_markdown":"What you are looking for is a composite key, which you can create with either `@IdClass` or with `@Embeddable` and `@EmbeddedId`.  The catch is, however, that neither of these approaches will work with a @GeneratedId.\r\n\r\nIf you think about it, there&#39;s no need to have a composite key where one of the parts is autogenerated.  Just have one Id on your entity that&#39;s auto generated, and if you want, create an index across `(group_id, id)`.","title":"Spring Data JPA - @GeneratedValue annotation shows no affect","body":"<p>What you are looking for is a composite key, which you can create with either <code>@IdClass</code> or with <code>@Embeddable</code> and <code>@EmbeddedId</code>.  The catch is, however, that neither of these approaches will work with a @GeneratedId.</p>\n<p>If you think about it, there's no need to have a composite key where one of the parts is autogenerated.  Just have one Id on your entity that's auto generated, and if you want, create an index across <code>(group_id, id)</code>.</p>\n"}],"owner":{"account_id":17695614,"reputation":11,"user_id":12846434,"display_name":"WaveZee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675110954,"creation_date":1675101621,"question_id":75288366,"body_markdown":"I have a problem regarding my implementation of a weak entity type. (Note, if that&#39;s important: I&#39;m using H2 as my database)\r\n\r\nHere is my datamodel:\r\n[![Datamodel][1]][1]\r\n\r\nI&#39;m trying to implement Activity&#39;s concatenated primary key using two @ID annotated columns. Here is my activity class as well as its &quot;owner&quot;-class:\r\n\r\n```\r\n@Entity\r\npublic class Activity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Id\r\n    @ManyToOne\r\n    @JoinColumn\r\n    private UserGroup group;\r\n\r\n    ...\r\n}\r\n\r\n@Entity\r\npublic class UserGroup {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    ...\r\n}\r\n```\r\n\r\nMy expected outcome would be, that inside my activity table id is generated by default as identity and group_id is set depending on the corresponding group-join. Basically something like this:\r\n\r\n```\r\ncreate table activity\r\n(\r\n    id              bigint generated by default as identity,\r\n    begin_date_time timestamp(6),\r\n    end_date_time   timestamp(6),\r\n    name            varchar(255) not null,\r\n    note            varchar(255),\r\n    group_id        bigint not null,\r\n    room_id         bigint,\r\n    primary key (group_id, id)\r\n);\r\n```\r\n\r\nInstead, spring disregards my @GeneratedValue annotation and sets it to group_id, ignoring my actual activity.id column:\r\n```\r\ncreate table activity\r\n(\r\n    id              bigint       not null,\r\n    begin_date_time timestamp(6),\r\n    end_date_time   timestamp(6),\r\n    name            varchar(255) not null,\r\n    note            varchar(255),\r\n    group_id        bigint generated by default as identity,\r\n    room_id         bigint,\r\n    primary key (group_id, id)\r\n);\r\n```\r\n\r\nThis is a problem, as I plan on using Rest-Endpoints and Repositories to run CRUD operations using HTTP-requests. Having an ID-counter that increments and gets new IDs for one table only seems unnecessary and dirty.\r\n\r\nCan somebody explain to me why this is happening? Can I manually annotate group_id as a manually assigned field as a quick workaround?\r\n\r\nCheers!\r\n\r\n[1]: https://i.stack.imgur.com/kFkwG.png","title":"Spring Data JPA - @GeneratedValue annotation shows no affect","body":"<p>I have a problem regarding my implementation of a weak entity type. (Note, if that's important: I'm using H2 as my database)</p>\n<p>Here is my datamodel:\n<a href=\"https://i.stack.imgur.com/kFkwG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kFkwG.png\" alt=\"Datamodel\" /></a></p>\n<p>I'm trying to implement Activity's concatenated primary key using two @ID annotated columns. Here is my activity class as well as its &quot;owner&quot;-class:</p>\n<pre><code>@Entity\npublic class Activity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Id\n    @ManyToOne\n    @JoinColumn\n    private UserGroup group;\n\n    ...\n}\n\n@Entity\npublic class UserGroup {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    ...\n}\n</code></pre>\n<p>My expected outcome would be, that inside my activity table id is generated by default as identity and group_id is set depending on the corresponding group-join. Basically something like this:</p>\n<pre><code>create table activity\n(\n    id              bigint generated by default as identity,\n    begin_date_time timestamp(6),\n    end_date_time   timestamp(6),\n    name            varchar(255) not null,\n    note            varchar(255),\n    group_id        bigint not null,\n    room_id         bigint,\n    primary key (group_id, id)\n);\n</code></pre>\n<p>Instead, spring disregards my @GeneratedValue annotation and sets it to group_id, ignoring my actual activity.id column:</p>\n<pre><code>create table activity\n(\n    id              bigint       not null,\n    begin_date_time timestamp(6),\n    end_date_time   timestamp(6),\n    name            varchar(255) not null,\n    note            varchar(255),\n    group_id        bigint generated by default as identity,\n    room_id         bigint,\n    primary key (group_id, id)\n);\n</code></pre>\n<p>This is a problem, as I plan on using Rest-Endpoints and Repositories to run CRUD operations using HTTP-requests. Having an ID-counter that increments and gets new IDs for one table only seems unnecessary and dirty.</p>\n<p>Can somebody explain to me why this is happening? Can I manually annotate group_id as a manually assigned field as a quick workaround?</p>\n<p>Cheers!</p>\n"},{"tags":["java","spring","grpc","interceptor","grpc-java"],"answers":[{"tags":[],"owner":{"account_id":14947494,"reputation":521,"user_id":10792320,"display_name":"San P"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675110915,"creation_date":1675110915,"answer_id":75289852,"question_id":75273891,"body_markdown":"Take a look at https://github.com/grpc/grpc-java/blob/master/api/src/test/java/io/grpc/ServerInterceptorsTest.java or https://github.com/grpc/grpc-java/blob/master/core/src/test/java/io/grpc/util/UtilServerInterceptorsTest.java to see how server interceptors are tested.\r\n\r\nRegarding `null`, the grpc framework will not pass null in `call` or `next` so I don&#39;t see any reason to check. In any case consider using `com.google.common.base.Preconditions.checkNotNull` from Guava. ","title":"Issues in Testing gRPC ServerInterceptor In Java","body":"<p>Take a look at <a href=\"https://github.com/grpc/grpc-java/blob/master/api/src/test/java/io/grpc/ServerInterceptorsTest.java\" rel=\"nofollow noreferrer\">https://github.com/grpc/grpc-java/blob/master/api/src/test/java/io/grpc/ServerInterceptorsTest.java</a> or <a href=\"https://github.com/grpc/grpc-java/blob/master/core/src/test/java/io/grpc/util/UtilServerInterceptorsTest.java\" rel=\"nofollow noreferrer\">https://github.com/grpc/grpc-java/blob/master/core/src/test/java/io/grpc/util/UtilServerInterceptorsTest.java</a> to see how server interceptors are tested.</p>\n<p>Regarding <code>null</code>, the grpc framework will not pass null in <code>call</code> or <code>next</code> so I don't see any reason to check. In any case consider using <code>com.google.common.base.Preconditions.checkNotNull</code> from Guava.</p>\n"}],"owner":{"account_id":10907310,"reputation":2214,"user_id":8017666,"display_name":"SRJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":761,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675110915,"creation_date":1674984808,"question_id":75273891,"body_markdown":"I have an gRPC interceptor written in java\r\n\r\nmy gRPC interceptor looks like this\r\n\r\n```\r\npublic class GrpcServerInterceptor implements ServerInterceptor {\r\n    @Override\r\n    public &lt;R, T&gt; ServerCall.Listener&lt;R&gt; interceptCall(ServerCall&lt;R, T&gt; call,\r\n                                                                 Metadata requestHeaders, ServerCallHandler&lt;R, T&gt; next) {\r\n\r\n        if(call == null || next == null)\r\n            return null;\r\n\r\n        if(call != null) {\r\n            String actionName = call.getMethodDescriptor().getBareMethodName();\r\n            String serviceName = call.getMethodDescriptor().getServiceName();\r\n            State.Holder.set(State.newBuilder().withControllerName(serviceName).withActionName(actionName).withFramework(&quot;grpc&quot;).build());\r\n        }\r\n\r\n        ServerCall.Listener&lt;R&gt; delegate = next.startCall(call, requestHeaders);\r\n\r\n        return new ForwardingServerCallListener.SimpleForwardingServerCallListener&lt;R&gt;(delegate) {\r\n            @Override\r\n            public void onHalfClose() {\r\n                try {\r\n                    super.onHalfClose();\r\n                } catch (Exception e) {\r\n                    call.close(Status.INTERNAL\r\n                            .withCause (e)\r\n                            .withDescription(&quot;error message&quot;), new Metadata());\r\n                }\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nI just want to unit test for above interceptor in junit.\r\n\r\nI am facing issues around building ServerCall, Metaddata and ServerCallHandler Objects and passing them around.\r\n\r\nI tried to create Server Call object like below in my unit test.\r\n```\r\n      ServerCall serverCall = new ForwardingServerCall() {\r\n        @Override\r\n        protected ServerCall delegate() {\r\n          return null;\r\n        }\r\n\r\n        @Override\r\n        public MethodDescriptor getMethodDescriptor() {\r\n          return MethodDescriptor.newBuilder().\r\n              setType(MethodType.UNKNOWN).\r\n              setRequestMarshaller(ProtoUtils.marshaller((StudentRequest.getDefaultInstance()))).\r\n              setResponseMarshaller(ProtoUtils.marshaller(StudentResponse.getDefaultInstance())).\r\n              setFullMethodName(generateFullMethodName(&quot;com.test.cloud.sc.grpc.backend.service.StudentServiceImpl&quot;, &quot;getStudentInfo&quot;)).\r\n              build();\r\n        }\r\n      };\r\n```\r\n\r\nBut above codeblock has issues around setting Request and Response Marshaller.\r\n\r\nHow can i unit test all the scenarios for my interceptor with minimal code setup and I don&#39;t want to start grpc server at all ?\r\n\r\n### EDIT 1\r\n\r\nHow can i improve null check handling in gRPC interceptor ?\r\n\r\nMany Thanks\r\n\r\n\r\n\r\n","title":"Issues in Testing gRPC ServerInterceptor In Java","body":"<p>I have an gRPC interceptor written in java</p>\n<p>my gRPC interceptor looks like this</p>\n<pre><code>public class GrpcServerInterceptor implements ServerInterceptor {\n    @Override\n    public &lt;R, T&gt; ServerCall.Listener&lt;R&gt; interceptCall(ServerCall&lt;R, T&gt; call,\n                                                                 Metadata requestHeaders, ServerCallHandler&lt;R, T&gt; next) {\n\n        if(call == null || next == null)\n            return null;\n\n        if(call != null) {\n            String actionName = call.getMethodDescriptor().getBareMethodName();\n            String serviceName = call.getMethodDescriptor().getServiceName();\n            State.Holder.set(State.newBuilder().withControllerName(serviceName).withActionName(actionName).withFramework(&quot;grpc&quot;).build());\n        }\n\n        ServerCall.Listener&lt;R&gt; delegate = next.startCall(call, requestHeaders);\n\n        return new ForwardingServerCallListener.SimpleForwardingServerCallListener&lt;R&gt;(delegate) {\n            @Override\n            public void onHalfClose() {\n                try {\n                    super.onHalfClose();\n                } catch (Exception e) {\n                    call.close(Status.INTERNAL\n                            .withCause (e)\n                            .withDescription(&quot;error message&quot;), new Metadata());\n                }\n            }\n        };\n    }\n}\n</code></pre>\n<p>I just want to unit test for above interceptor in junit.</p>\n<p>I am facing issues around building ServerCall, Metaddata and ServerCallHandler Objects and passing them around.</p>\n<p>I tried to create Server Call object like below in my unit test.</p>\n<pre><code>      ServerCall serverCall = new ForwardingServerCall() {\n        @Override\n        protected ServerCall delegate() {\n          return null;\n        }\n\n        @Override\n        public MethodDescriptor getMethodDescriptor() {\n          return MethodDescriptor.newBuilder().\n              setType(MethodType.UNKNOWN).\n              setRequestMarshaller(ProtoUtils.marshaller((StudentRequest.getDefaultInstance()))).\n              setResponseMarshaller(ProtoUtils.marshaller(StudentResponse.getDefaultInstance())).\n              setFullMethodName(generateFullMethodName(&quot;com.test.cloud.sc.grpc.backend.service.StudentServiceImpl&quot;, &quot;getStudentInfo&quot;)).\n              build();\n        }\n      };\n</code></pre>\n<p>But above codeblock has issues around setting Request and Response Marshaller.</p>\n<p>How can i unit test all the scenarios for my interceptor with minimal code setup and I don't want to start grpc server at all ?</p>\n<h3>EDIT 1</h3>\n<p>How can i improve null check handling in gRPC interceptor ?</p>\n<p>Many Thanks</p>\n"},{"tags":["java","spring","swagger","springfox"],"owner":{"account_id":5863731,"reputation":807,"user_id":4618492,"accept_rate":56,"display_name":"littleAlien"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675110910,"creation_date":1675081206,"question_id":75284295,"body_markdown":"I&#39;m using Swagger via Springfox in my Spring Boot application:\r\n\r\n    plugins {\r\n\t    id &#39;java&#39;\r\n\t    id &#39;org.springframework.boot&#39; version &#39;2.7.7&#39;\r\n\t    id &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n    }\r\n    ...\r\n    ...\r\n\timplementation &#39;io.springfox:springfox-swagger2:3.0.0&#39;\r\n\timplementation &#39;io.springfox:springfox-swagger-ui:3.0.0&#39;\r\n\timplementation &#39;io.springfox:springfox-boot-starter:3.0.0&#39;\r\n\timplementation &#39;io.springfox:springfox-schema:3.0.0&#39;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Bean\r\n    public Docket api() {\r\n        return new Docket(DocumentationType.SWAGGER_2).select()\r\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.x&quot;))\r\n                .paths(any())\r\n                .build()\r\n                .apiInfo(\r\n                        new ApiInfoBuilder().title(&quot;Title&quot;).build()\r\n                );\r\n    }\r\n\r\n\r\nAnnotation over main class:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @SpringBootApplication\r\n    @EnableSwagger2\r\n    public class Main {\r\n\r\n\r\nAnd, the DTO:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Data\r\n    @Accessors(chain = true)\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Valid\r\n    @Schema(description = &quot;User profile&quot;)\r\n    public class ProfileDto {\r\n        @ApiModelProperty(position = 1, value = &quot;User name&quot;)\r\n        @Schema(description = &quot;User name&quot;, required = true) //just another approach\r\n        @NotEmpty\r\n        @JsonProperty\r\n        private String name;\r\n\r\nBut as a result there are no field description in Swagger UI, only the name of the DTO:\r\n\r\n     ProfileDto{\r\n     }\r\n\r\nWhat could be wrong?\r\n\r\n**UPDATE**: I found that the description is **generated** when I&#39;m running the application in the DEBUG mode in IntelliJ IDEA.","title":"Springfox doesn&#39;t generate model description","body":"<p>I'm using Swagger via Springfox in my Spring Boot application:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.7.7'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n}\n...\n...\nimplementation 'io.springfox:springfox-swagger2:3.0.0'\nimplementation 'io.springfox:springfox-swagger-ui:3.0.0'\nimplementation 'io.springfox:springfox-boot-starter:3.0.0'\nimplementation 'io.springfox:springfox-schema:3.0.0'\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic Docket api() {\n    return new Docket(DocumentationType.SWAGGER_2).select()\n            .apis(RequestHandlerSelectors.basePackage(&quot;com.x&quot;))\n            .paths(any())\n            .build()\n            .apiInfo(\n                    new ApiInfoBuilder().title(&quot;Title&quot;).build()\n            );\n}\n</code></pre>\n<p>Annotation over main class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableSwagger2\npublic class Main {\n</code></pre>\n<p>And, the DTO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Accessors(chain = true)\n@AllArgsConstructor\n@NoArgsConstructor\n@Valid\n@Schema(description = &quot;User profile&quot;)\npublic class ProfileDto {\n    @ApiModelProperty(position = 1, value = &quot;User name&quot;)\n    @Schema(description = &quot;User name&quot;, required = true) //just another approach\n    @NotEmpty\n    @JsonProperty\n    private String name;\n</code></pre>\n<p>But as a result there are no field description in Swagger UI, only the name of the DTO:</p>\n<pre><code> ProfileDto{\n }\n</code></pre>\n<p>What could be wrong?</p>\n<p><strong>UPDATE</strong>: I found that the description is <strong>generated</strong> when I'm running the application in the DEBUG mode in IntelliJ IDEA.</p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1675150323,"post_id":75289828,"comment_id":132861126,"body_markdown":"declare `A#name` as a FQN (`private avro.Name name`)","body":"declare <code>A#name</code> as a FQN (<code>private avro.Name name</code>)"},{"owner":{"account_id":9901189,"reputation":20,"user_id":7331157,"display_name":"Tarun"},"score":0,"creation_date":1675175225,"post_id":75289828,"comment_id":132868953,"body_markdown":"Could you please provide me an example, I could understand what you mean by your comment?","body":"Could you please provide me an example, I could understand what you mean by your comment?"}],"owner":{"account_id":9901189,"reputation":20,"user_id":7331157,"display_name":"Tarun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675110762,"creation_date":1675110762,"question_id":75289828,"body_markdown":"I am trying to map object A to object B where object B sits in generated sources of the avro package. However, I do have a similar object name in src/main/java as well. \r\n\r\nHow should I tell Mapstruct to use the subs-classes of Object B to be picked up from same package where object B is?\r\n\r\nFor example \r\n\r\n```\r\ntype here\r\n//This class is source object sits in src/main/java/model\r\nclass A {\r\nprivate String id;\r\nprivate Name name; //this class firstName and lastName fields.\r\n}\r\n\r\n//this class is target object that sits in target/generated-sources/avro/*\r\nclass B {\r\nprivate String id;\r\nprivate Name name;\r\n}\r\n\r\n//this sits in target/generated-sources/avro/*\r\nclass Name {\r\nprivate string firstName;\r\nprivate String lastName;\r\n}\r\n//but I do have Class Name in src/main/java/dto as well.\r\n```\r\n\r\nHow do I tell map struct to not use the Name package from src/main/java/dto but use it from target/generated-sources/avro/* ?\r\n\r\nMy Mapper abstract class looks like this:\r\n\r\nObject B mapFromObjectA(ObjectA a); //here Object B comes from target/avro but the inner class is being picked up from dto package which is incorrect.\r\n\r\n\r\n \r\n\r\nIs there a way, we can tell the target package directory to Map Struct?","title":"Mapstruct is unable to resolve correct package for the Target class while mapping","body":"<p>I am trying to map object A to object B where object B sits in generated sources of the avro package. However, I do have a similar object name in src/main/java as well.</p>\n<p>How should I tell Mapstruct to use the subs-classes of Object B to be picked up from same package where object B is?</p>\n<p>For example</p>\n<pre><code>type here\n//This class is source object sits in src/main/java/model\nclass A {\nprivate String id;\nprivate Name name; //this class firstName and lastName fields.\n}\n\n//this class is target object that sits in target/generated-sources/avro/*\nclass B {\nprivate String id;\nprivate Name name;\n}\n\n//this sits in target/generated-sources/avro/*\nclass Name {\nprivate string firstName;\nprivate String lastName;\n}\n//but I do have Class Name in src/main/java/dto as well.\n</code></pre>\n<p>How do I tell map struct to not use the Name package from src/main/java/dto but use it from target/generated-sources/avro/* ?</p>\n<p>My Mapper abstract class looks like this:</p>\n<p>Object B mapFromObjectA(ObjectA a); //here Object B comes from target/avro but the inner class is being picked up from dto package which is incorrect.</p>\n<p>Is there a way, we can tell the target package directory to Map Struct?</p>\n"},{"tags":["java","spring","spring-boot","thymeleaf","spring-thymeleaf"],"owner":{"account_id":27660510,"reputation":9,"user_id":21113446,"display_name":"sven"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1675110106,"creation_date":1675109477,"question_id":75289626,"body_markdown":"I have a Thymeleaf HTML file, which gets correctly rendered by the Thymeleaf engine:\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n\r\n&lt;html&gt;\r\n\r\n  &lt;head&gt;\r\n    &lt;title&gt;Good Thymes Virtual Grocery&lt;/title&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n  &lt;/head&gt;\r\n\r\n  &lt;body&gt;\r\n  \r\n    &lt;p data-th-text=&quot;#{home.welcome}&quot;&gt;Welcome to our grocery store!&lt;/p&gt;\r\n  \r\n  &lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\nBut if I send this HTML string via JSON to the API, which sends the email with the HTML content, there is an error, because the API cannot understand the many linebreaks (\\n) in the HTML string.\r\n\r\n\r\nIs there any way I can configure Thymeleaf so that the output template string comes from the Thymeleaf engine without line breaks? So in one single line.\r\n\r\n","title":"Thymeleaf HTML output without linebreaks","body":"<p>I have a Thymeleaf HTML file, which gets correctly rendered by the Thymeleaf engine:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n\n  &lt;head&gt;\n    &lt;title&gt;Good Thymes Virtual Grocery&lt;/title&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n  &lt;/head&gt;\n\n  &lt;body&gt;\n  \n    &lt;p data-th-text=&quot;#{home.welcome}&quot;&gt;Welcome to our grocery store!&lt;/p&gt;\n  \n  &lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p>But if I send this HTML string via JSON to the API, which sends the email with the HTML content, there is an error, because the API cannot understand the many linebreaks (\\n) in the HTML string.</p>\n<p>Is there any way I can configure Thymeleaf so that the output template string comes from the Thymeleaf engine without line breaks? So in one single line.</p>\n"},{"tags":["java","output"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1675110318,"post_id":75289693,"comment_id":132854432,"body_markdown":"When use a calculator, I get 35.194444. So, what is wrong with 35.19? That appears to be the correct answer.","body":"When use a calculator, I get 35.194444. So, what is wrong with 35.19? That appears to be the correct answer."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1675110705,"post_id":75289693,"comment_id":132854561,"body_markdown":"What&#39;s with all the `/ 100` and `* 100`?","body":"What&#39;s with all the <code>&#47; 100</code> and <code>* 100</code>?"}],"owner":{"account_id":24485115,"reputation":1,"user_id":18402919,"display_name":"lildroptop"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675109920,"creation_date":1675109920,"question_id":75289693,"body_markdown":"I am trying to write a java program that allows the user to convert the given temp in fahrenheit then converts the given temp to celsius, however I am having a problem when I input the temp 95.35 fahrenheit it converts it to 35.19 ,when the expected output should be 35.20.\r\n\r\n```\r\n        System.out.println(&quot;Enter Body Temperature (In F):\\n&quot;);\r\n        double tempF = scan.nextDouble();\r\n        double tempFRound = tempF / 100.00;\r\n        DecimalFormat decimalFormat = new DecimalFormat(&quot;0.00&quot;);\r\n        String tempFahrenheit = decimalFormat.format(tempFRound * 100) + &#39;F&#39;;\r\n        double tempC = ((tempF - 32) * (5 / 9.0)) / 100.0;\r\n        double tempCRound = tempC * 100.00;\r\n        String tempCelsius = decimalFormat.format(tempCRound) + &#39;C&#39;;\r\n        scan.nextLine();\r\n        System.out.printf(&quot;Vitals: %s|%s|&quot; , tempFahrenheit , tempCelsius );\r\n```\r\n","title":"receceive unexpected output in calculation","body":"<p>I am trying to write a java program that allows the user to convert the given temp in fahrenheit then converts the given temp to celsius, however I am having a problem when I input the temp 95.35 fahrenheit it converts it to 35.19 ,when the expected output should be 35.20.</p>\n<pre><code>        System.out.println(&quot;Enter Body Temperature (In F):\\n&quot;);\n        double tempF = scan.nextDouble();\n        double tempFRound = tempF / 100.00;\n        DecimalFormat decimalFormat = new DecimalFormat(&quot;0.00&quot;);\n        String tempFahrenheit = decimalFormat.format(tempFRound * 100) + 'F';\n        double tempC = ((tempF - 32) * (5 / 9.0)) / 100.0;\n        double tempCRound = tempC * 100.00;\n        String tempCelsius = decimalFormat.format(tempCRound) + 'C';\n        scan.nextLine();\n        System.out.printf(&quot;Vitals: %s|%s|&quot; , tempFahrenheit , tempCelsius );\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1675110497,"post_id":75289237,"comment_id":132854494,"body_markdown":"You have references - what do you want to do with those referenced entities? Ie shallow or full cloning? There is no best approach as most require customizations based on the specific business requirements. Some providers (EclipseLink) have copy methods you can use, but it is usually more straightforward to do it yourself in the object itself, or a helper method tied to the model.","body":"You have references - what do you want to do with those referenced entities? Ie shallow or full cloning? There is no best approach as most require customizations based on the specific business requirements. Some providers (EclipseLink) have copy methods you can use, but it is usually more straightforward to do it yourself in the object itself, or a helper method tied to the model."},{"owner":{"account_id":27638783,"reputation":1,"user_id":21096168,"display_name":"kale19"},"score":0,"creation_date":1675110746,"post_id":75289237,"comment_id":132854575,"body_markdown":"I want to copy those referenced entities. Though PostDetails will also get cloned first so I want to save a new id in there while cloning.","body":"I want to copy those referenced entities. Though PostDetails will also get cloned first so I want to save a new id in there while cloning."}],"answers":[{"tags":[],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675109267,"creation_date":1675109267,"answer_id":75289599,"question_id":75289237,"body_markdown":"You can use a copy using constructor or the builder pattern, or to set the properties using simple setters. Then, persist the new entity instance using the EntityManager&#39;s `persist()` method. To avoid issues with duplicated `id` values, you must not copy the `id` field and instead let the `JPA` generate a new `id` when the entity is persisted.\r\n\r\nCode example\r\n```java\r\npublic class Post {\r\n\r\n    // constructor, getters and setters are omitted\r\n\r\n    public Post(Post post) {\r\n        //Dont copy id!\r\n        this.title = post.getTitle();\r\n        this.comments = new ArrayList&lt;&gt;(post.getComments());\r\n        this.details = new PostDetails(post.getDetails());\r\n    }\r\n}\r\n\r\npublic class PostDetails {\r\n\r\n    // constructor, getters and setters are omitted\r\n\r\n    public PostDetails(PostDetails details) {\r\n        // Dont copy id!\r\n        this.description = details.getDescription();\r\n        // copy other fields as needed\r\n    }\r\n}\r\n\r\n// Usage\r\npublic class PostsRepository{\r\n    @Autowired\r\n    EntityManager em;\r\n\r\n    public void saveCopy(Post originalPost){\r\n\t  Post clonedPost = new Post(originalPost);\r\n\t  em.persist(clonedPost);\r\n    } \r\n}\r\n```\r\n\r\nAlso I would highly recommend you to write [tests](https://docs.spring.io/spring-boot/docs/1.5.2.RELEASE/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-testing-autoconfigured-jpa-test) in order to check that you are doing everything fine. Moreover you will more space for experiments.","title":"How to properly clone an entity with some modified fields and persist into database?","body":"<p>You can use a copy using constructor or the builder pattern, or to set the properties using simple setters. Then, persist the new entity instance using the EntityManager's <code>persist()</code> method. To avoid issues with duplicated <code>id</code> values, you must not copy the <code>id</code> field and instead let the <code>JPA</code> generate a new <code>id</code> when the entity is persisted.</p>\n<p>Code example</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Post {\n\n    // constructor, getters and setters are omitted\n\n    public Post(Post post) {\n        //Dont copy id!\n        this.title = post.getTitle();\n        this.comments = new ArrayList&lt;&gt;(post.getComments());\n        this.details = new PostDetails(post.getDetails());\n    }\n}\n\npublic class PostDetails {\n\n    // constructor, getters and setters are omitted\n\n    public PostDetails(PostDetails details) {\n        // Dont copy id!\n        this.description = details.getDescription();\n        // copy other fields as needed\n    }\n}\n\n// Usage\npublic class PostsRepository{\n    @Autowired\n    EntityManager em;\n\n    public void saveCopy(Post originalPost){\n      Post clonedPost = new Post(originalPost);\n      em.persist(clonedPost);\n    } \n}\n</code></pre>\n<p>Also I would highly recommend you to write <a href=\"https://docs.spring.io/spring-boot/docs/1.5.2.RELEASE/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-testing-autoconfigured-jpa-test\" rel=\"nofollow noreferrer\">tests</a> in order to check that you are doing everything fine. Moreover you will more space for experiments.</p>\n"}],"owner":{"account_id":27638783,"reputation":1,"user_id":21096168,"display_name":"kale19"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675109267,"creation_date":1675106988,"question_id":75289237,"body_markdown":"Lets say I have an entity like this,\r\n\r\n\r\n    @Entity(name = &quot;Post&quot;)\r\n    @Table(name = &quot;post&quot;)\r\n\r\n    public class Post {\r\n\r\n \r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n \r\n    private String title;\r\n \r\n    @OneToMany(\r\n        mappedBy = &quot;post&quot;,\r\n        cascade = CascadeType.ALL, \r\n        orphanRemoval = true,\r\n        FetchType.LAZY\r\n    )\r\n    @JsonManagedReference\r\n    private List&lt;PostComment&gt; comments = new ArrayList&lt;&gt;();\r\n \r\n    @OneToOne(\r\n        mappedBy = &quot;post&quot;,\r\n        cascade = CascadeType.ALL, \r\n        orphanRemoval = true, \r\n        fetch = FetchType.LAZY\r\n    )\r\n    private PostDetails details;\r\n \r\n    }\r\n\r\n\r\nI want clone this entity, modified a few fields and then persist the new cloned entity in the database. What&#39;s the best approach to achieve this?","title":"How to properly clone an entity with some modified fields and persist into database?","body":"<p>Lets say I have an entity like this,</p>\n<pre><code>@Entity(name = &quot;Post&quot;)\n@Table(name = &quot;post&quot;)\n\npublic class Post {\n\n\n@Id\n@GeneratedValue\nprivate Long id;\n\nprivate String title;\n\n@OneToMany(\n    mappedBy = &quot;post&quot;,\n    cascade = CascadeType.ALL, \n    orphanRemoval = true,\n    FetchType.LAZY\n)\n@JsonManagedReference\nprivate List&lt;PostComment&gt; comments = new ArrayList&lt;&gt;();\n\n@OneToOne(\n    mappedBy = &quot;post&quot;,\n    cascade = CascadeType.ALL, \n    orphanRemoval = true, \n    fetch = FetchType.LAZY\n)\nprivate PostDetails details;\n\n}\n</code></pre>\n<p>I want clone this entity, modified a few fields and then persist the new cloned entity in the database. What's the best approach to achieve this?</p>\n"},{"tags":["java","android","arraylist"],"comments":[{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":0,"creation_date":1675133413,"post_id":75289596,"comment_id":132858833,"body_markdown":"Perhaps try a Clean and Rebuild?","body":"Perhaps try a Clean and Rebuild?"},{"owner":{"account_id":25543805,"reputation":3,"user_id":19329465,"display_name":"Alexander Schell"},"score":0,"creation_date":1675146205,"post_id":75289596,"comment_id":132860367,"body_markdown":"Hmm, tried to clean and rebuild the project, but the result is still the same. Uninstalling and reinstalling the app on the device works - probably because arrayList is null again? However, it seems a little unpracticle to expect the user to uninstall and reinstall the app every time I add or delete some random images in the app...","body":"Hmm, tried to clean and rebuild the project, but the result is still the same. Uninstalling and reinstalling the app on the device works - probably because arrayList is null again? However, it seems a little unpracticle to expect the user to uninstall and reinstall the app every time I add or delete some random images in the app..."}],"owner":{"account_id":25543805,"reputation":3,"user_id":19329465,"display_name":"Alexander Schell"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675109251,"creation_date":1675109251,"question_id":75289596,"body_markdown":"I use a listview that shows an imageview, textview1, textview2, and a checkbox. The data comes from an arraylist:\r\n\r\n\r\n```\r\nif(arrayList==null) {\r\n            arrayList = new ArrayList&lt;&gt;();\r\n\r\n            arrayList.add(new Country(R.drawable.picaed, Txtshort1, txtlong1, false));\r\n            arrayList.add(new Country(R.drawable.picafn, Txtshort2, txtlong2, false));\r\n            arrayList.add(new Country(R.drawable.picall, Txtshort3, txtlong3, false));\r\netc.\r\n}\r\n```\r\nIn my adapter, I use this code to set the images, texts and checked status:\r\n\r\n\r\n```\r\nimage.setImageResource(getItem(position).getImage());\r\n\r\ncurrency.setText(getItem(position).getCurrency());\r\n\r\ncountry.setText(getItem(position).getCountry());\r\n\r\nfavourites.setChecked(getItem(position).getFavourites());\r\n```\r\n\r\nEverything works just fine, but now I deleted some unused images from the drawable folder in my project (images were completely unrelated to the images used in the arraylist) and suddenly the position of the Images shown in the listview are messed up.\r\n\r\n[Thats how it should be](https://i.stack.imgur.com/wISo0.png)\r\n\r\n[Thats how it looks like after deleting the unrelated drawables](https://i.stack.imgur.com/2lNpC.png)\r\n\r\nAs you can see, the texts are still in order, but the images are totaly screwed up. Has anyone experienced a similar problem before and can guide me in the right direction?\r\n\r\n\r\nI tried to find an answer here, but I don&#39;t even know where to start / where the problem could be...","title":"Deleting unused images in drawable folder messes up position of images in arraylist","body":"<p>I use a listview that shows an imageview, textview1, textview2, and a checkbox. The data comes from an arraylist:</p>\n<pre><code>if(arrayList==null) {\n            arrayList = new ArrayList&lt;&gt;();\n\n            arrayList.add(new Country(R.drawable.picaed, Txtshort1, txtlong1, false));\n            arrayList.add(new Country(R.drawable.picafn, Txtshort2, txtlong2, false));\n            arrayList.add(new Country(R.drawable.picall, Txtshort3, txtlong3, false));\netc.\n}\n</code></pre>\n<p>In my adapter, I use this code to set the images, texts and checked status:</p>\n<pre><code>image.setImageResource(getItem(position).getImage());\n\ncurrency.setText(getItem(position).getCurrency());\n\ncountry.setText(getItem(position).getCountry());\n\nfavourites.setChecked(getItem(position).getFavourites());\n</code></pre>\n<p>Everything works just fine, but now I deleted some unused images from the drawable folder in my project (images were completely unrelated to the images used in the arraylist) and suddenly the position of the Images shown in the listview are messed up.</p>\n<p><a href=\"https://i.stack.imgur.com/wISo0.png\" rel=\"nofollow noreferrer\">Thats how it should be</a></p>\n<p><a href=\"https://i.stack.imgur.com/2lNpC.png\" rel=\"nofollow noreferrer\">Thats how it looks like after deleting the unrelated drawables</a></p>\n<p>As you can see, the texts are still in order, but the images are totaly screwed up. Has anyone experienced a similar problem before and can guide me in the right direction?</p>\n<p>I tried to find an answer here, but I don't even know where to start / where the problem could be...</p>\n"},{"tags":["java","gradle","build.gradle","artifactory","nexus"],"comments":[{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1675111522,"post_id":75289569,"comment_id":132854772,"body_markdown":"Plugin repositories and dependency repositories are configured differently https://docs.gradle.org/7.6/userguide/plugins.html#sec:custom_plugin_repositories","body":"Plugin repositories and dependency repositories are configured differently <a href=\"https://docs.gradle.org/7.6/userguide/plugins.html#sec:custom_plugin_repositories\" rel=\"nofollow noreferrer\">docs.gradle.org/7.6/userguide/&hellip;</a>"}],"owner":{"account_id":6695972,"reputation":1584,"user_id":5163984,"accept_rate":93,"display_name":"Nikolay Baranenko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675109042,"creation_date":1675109042,"question_id":75289569,"body_markdown":"I have legacy project\r\n\r\nJava 1.8.0\r\nGradle 6.1.1\r\n\r\nbuild.gradle\r\n\r\n\r\n    plugins {\r\n        id &quot;java&quot;\r\n        id &quot;com.jfrog.artifactory&quot; version &quot;4.15.1&quot;\r\n        id &quot;maven-publish&quot;\r\n        id &#39;distribution&#39;\r\n    }\r\n    \r\n    repositories {\r\n        maven { url = &quot;http://local.artifactory/artifactory/libs-release&quot;}\r\n        maven { url = &quot;http://local.artifactory/artifactory/jcenter&quot;}\r\n        maven { url = &quot;http://local.artifactory/artifactory/gradle-plugins&quot;}\r\n    }\r\n\r\nfor publish jar in artifactory I added plugin com.jfrog.artifactory\r\n\r\nBut I when to try ./gradlew build in safety environment: access to internet resources only via artifactory, process stop and return error on step downloading plugin com.jfrog.artifactory\r\n\r\n./gradlew build\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * Where:\r\n    Build file &#39;/home/user123/musor/common-thrifts/build.gradle&#39; line: 3\r\n    \r\n    * What went wrong:\r\n    Plugin [id: &#39;com.jfrog.artifactory&#39;, version: &#39;4.15.1&#39;] was not found in any of the following sources:\r\n    \r\n    - Gradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\n    - Plugin Repositories (could not resolve plugin artifact &#39;com.jfrog.artifactory:com.jfrog.artifactory.gradle.plugin:4.15.1&#39;)\r\n      Searched in the following repositories:\r\n        Gradle Central Plugin Repository\r\n\r\nWhy gradle build not use local Artifactory? ","title":"Why gradle build not use local Artifactory?","body":"<p>I have legacy project</p>\n<p>Java 1.8.0\nGradle 6.1.1</p>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id &quot;java&quot;\n    id &quot;com.jfrog.artifactory&quot; version &quot;4.15.1&quot;\n    id &quot;maven-publish&quot;\n    id 'distribution'\n}\n\nrepositories {\n    maven { url = &quot;http://local.artifactory/artifactory/libs-release&quot;}\n    maven { url = &quot;http://local.artifactory/artifactory/jcenter&quot;}\n    maven { url = &quot;http://local.artifactory/artifactory/gradle-plugins&quot;}\n}\n</code></pre>\n<p>for publish jar in artifactory I added plugin com.jfrog.artifactory</p>\n<p>But I when to try ./gradlew build in safety environment: access to internet resources only via artifactory, process stop and return error on step downloading plugin com.jfrog.artifactory</p>\n<p>./gradlew build</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* Where:\nBuild file '/home/user123/musor/common-thrifts/build.gradle' line: 3\n\n* What went wrong:\nPlugin [id: 'com.jfrog.artifactory', version: '4.15.1'] was not found in any of the following sources:\n\n- Gradle Core Plugins (plugin is not in 'org.gradle' namespace)\n- Plugin Repositories (could not resolve plugin artifact 'com.jfrog.artifactory:com.jfrog.artifactory.gradle.plugin:4.15.1')\n  Searched in the following repositories:\n    Gradle Central Plugin Repository\n</code></pre>\n<p>Why gradle build not use local Artifactory?</p>\n"},{"tags":["java","swing","graph","awt","jung"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1675156292,"post_id":75289565,"comment_id":132862729,"body_markdown":"Someone already had a great idea.  Edit your question to include a [mre] as text that we can copy into our IDE, compile, run, and test.  I can&#39;t just look at code and spot problems.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.","body":"Someone already had a great idea.  Edit your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> as text that we can copy into our IDE, compile, run, and test.  I can&#39;t just look at code and spot problems.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section."}],"owner":{"account_id":22445743,"reputation":13,"user_id":16649693,"display_name":"Doktor_DOOM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675109029,"creation_date":1675109029,"question_id":75289565,"body_markdown":"At the moment, I have a problem to update the VisualizationViewer. \r\nI have two classes, the first on is the class DBPlot and the second one is the class GuiInterface. You can find the source code below. The DBPlot is listening with different event listener of an event change inside the class GuiInterface. If some press the button clearbutton than should be the graph inside the VisualizationViewer substituted with an empty graph or removed. At the moment is it no possible to update VisualizationViewer. I hope some one has an idea. \r\n\r\n\r\n    public DBPlot() {\r\n                    \r\n            user = System.getProperty(&quot;user.name&quot;); // user von system bekommen\r\n                \r\n            try {\r\n                SearchList  = this.getUserSearchlist(user);\r\n            } catch (FileNotFoundException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n            \r\n        \r\n            Container content = frame.getContentPane();\r\n            \r\n            frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n    \r\n            content.add(new GuiInterface());\r\n            GraphLayoutSelector.InputtextF.addActionListener(this); //   addDocumentListener(new DocumentListener() {})       addActionListener(this) == &quot;A0&quot;)\r\n            GraphLayoutSelector.clearbutton.addActionListener(this);\r\n            GraphLayoutSelector.GraphSlider.addChangeListener(this);\r\n            frame.addWindowListener(new WindowHandler());\r\n            \r\n            //actionPerformed(null);\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n    \r\n        }\r\n        \r\n        /**\r\n         * Class WindowHandler:  Is an internal class of an Window GUI Listner. Which listen if the gui closed. If the gui closed than store the search behaivior.\r\n         *\r\n         *\r\n         */\r\n        class WindowHandler extends WindowAdapter{\r\n            public void windowClosing(WindowEvent e) {\r\n                  System.out.println(&quot;windowClosing&quot;);\r\n                  try {\r\n                    setUserSearchlist(user);\r\n                } catch (FileNotFoundException e1) {\r\n                    // TODO Auto-generated catch block\r\n                    e1.printStackTrace();\r\n                }\r\n                  System.exit(0); // End the application\r\n                }\r\n              \r\n        }\r\n    \r\n        /**\r\n         * Funciton actionPerformed:  Is an Listner of the Clear Button and Input Textfield.\r\n         *\r\n         * Parameter ce: Is the Changed Slider value.\r\n         */\r\n        \r\n        @Override\r\n        public void actionPerformed(ActionEvent e) { // after an Enter, should be searched in Graph DB\r\n            if(e.getSource() == GraphLayoutSelector.InputtextF)\r\n            {\r\n                if((!SearchList.contains(GraphLayoutSelector.InputtextF.getText()))&amp;&amp; !GraphLayoutSelector.InputtextF.getText().isEmpty())\r\n                    SearchList.add(GraphLayoutSelector.InputtextF.getText());\r\n                    GraphLayoutSelector.InputtextF.setText(&quot;&quot;);\r\n                    GraphLayoutSelector.treeButton.setEnabled(true);\r\n                    GraphLayoutSelector.radialButton.setEnabled(true);\r\n                    plotgraph(SearchList.get(SearchList.size() - 1));\r\n                }else if(e.getSource()== GraphLayoutSelector.clearbutton)// starts an new search\r\n                {\r\n                    GuiInterface.graph = GraphHandler.createForestTestempty();\r\n                    GuiInterface.vv.getComponent().removeAll();\r\n                    GuiInterface.panel.revalidate();\r\n                    GuiInterface.panel.repaint();\r\n                    GuiInterface.redrawing();\r\n                    frame.revalidate();\r\n                    frame.repaint();\r\n                    \r\n                }\r\n                System.out.println(&quot;Im here &quot;);\r\n            }\r\n            \r\n            public static void main(String[] args) throws Exception{\r\n            \r\n            DBPlot PlotGui = new DBPlot();\r\n                \r\n        }   \r\n    }\r\n\r\n\r\n    public class GuiInterface extends JPanel {\r\n    \r\n        SplitterContext&lt;Object&gt; splitterContext =\r\n                SplitterContext.of(new RStarLeafSplitter&lt;&gt;(), new RStarSplitter&lt;&gt;());\r\n    \r\n        final DefaultGraphMouse&lt;String, Integer&gt; graphMouse = new DefaultGraphMouse&lt;&gt;();\r\n    \r\n    \r\n        public static Graph&lt;String, Integer&gt; graph;\r\n    \r\n        public static     VisualizationScrollPane panel;\r\n    \r\n        static Predicate&lt;Integer&gt; edgePredicate = e -&gt; e &lt; 100;\r\n    \r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(GuiInterface.class);\r\n    \r\n        public static VisualizationViewer&lt;String, Integer&gt; vv;\r\n    \r\n    \r\n    \r\n        /** the visual component and renderer for the graph */\r\n    \r\n        Dimension layoutSize = new Dimension(700, 700);\r\n        Dimension viewSize = new Dimension(700, 700);\r\n        \r\n    \r\n        public static void redrawing()\r\n        {\r\n            \r\n            vv.repaint();\r\n            //panel.removeC\r\n            panel.validate();\r\n            panel.repaint();\r\n        }\r\n        \r\n    \r\n        public GuiInterface() { setLayout(new BorderLayout());\r\n    \r\n    \r\n          graph = GraphHandler.createForestTest();\r\n    \r\n          GraphBuilder&lt;String, Integer, Graph&lt;String, Integer&gt;&gt; tree =\r\n                    GraphTypeBuilder.&lt;String, Integer&gt;forGraphType(DefaultGraphType.dag())\r\n                            .edgeSupplier(SupplierUtil.createIntegerSupplier())\r\n                            .buildGraphBuilder();\r\n    \r\n    \r\n          \r\n            vv =\r\n                    VisualizationViewer.builder(graph)\r\n                            .layoutAlgorithm(new StaticLayoutAlgorithm&lt;&gt;())\r\n                            .layoutSize(layoutSize)\r\n                            .viewSize(viewSize)\r\n                            .graphMouse(graphMouse)\r\n                            .build();\r\n    \r\n            vv.addPreRenderPaintable(\r\n                    new LayoutPaintable.LayoutBounds(\r\n                            vv.getVisualizationModel(), vv.getRenderContext().getMultiLayerTransformer()));\r\n    \r\n          \r\n            \r\n            Box controls = Box.createHorizontalBox();\r\n            controls.add(\r\n                    GraphControlHelpers.getCenteredContainer(\r\n                            &quot;Layout Controls&quot;, GraphLayoutSelector.builder(vv).initialSelection(1).build()));\r\n            controls.add(GraphControlHelpers.getCenteredContainer(&quot;Zoom&quot;,GraphControlHelpers.getZoom(vv)));\r\n            add(controls, BorderLayout.SOUTH);\r\n    \r\n    \r\n    \r\n            panel = new VisualizationScrollPane(vv);\r\n            redrawing();\r\n            repaint();\r\n            add(panel);\r\n    \r\n    }","title":"Redrawd or Repaint JUNG Graph","body":"<p>At the moment, I have a problem to update the VisualizationViewer.\nI have two classes, the first on is the class DBPlot and the second one is the class GuiInterface. You can find the source code below. The DBPlot is listening with different event listener of an event change inside the class GuiInterface. If some press the button clearbutton than should be the graph inside the VisualizationViewer substituted with an empty graph or removed. At the moment is it no possible to update VisualizationViewer. I hope some one has an idea.</p>\n<pre><code>public DBPlot() {\n                \n        user = System.getProperty(&quot;user.name&quot;); // user von system bekommen\n            \n        try {\n            SearchList  = this.getUserSearchlist(user);\n        } catch (FileNotFoundException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        \n    \n        Container content = frame.getContentPane();\n        \n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n\n        content.add(new GuiInterface());\n        GraphLayoutSelector.InputtextF.addActionListener(this); //   addDocumentListener(new DocumentListener() {})       addActionListener(this) == &quot;A0&quot;)\n        GraphLayoutSelector.clearbutton.addActionListener(this);\n        GraphLayoutSelector.GraphSlider.addChangeListener(this);\n        frame.addWindowListener(new WindowHandler());\n        \n        //actionPerformed(null);\n        frame.pack();\n        frame.setVisible(true);\n\n    }\n    \n    /**\n     * Class WindowHandler:  Is an internal class of an Window GUI Listner. Which listen if the gui closed. If the gui closed than store the search behaivior.\n     *\n     *\n     */\n    class WindowHandler extends WindowAdapter{\n        public void windowClosing(WindowEvent e) {\n              System.out.println(&quot;windowClosing&quot;);\n              try {\n                setUserSearchlist(user);\n            } catch (FileNotFoundException e1) {\n                // TODO Auto-generated catch block\n                e1.printStackTrace();\n            }\n              System.exit(0); // End the application\n            }\n          \n    }\n\n    /**\n     * Funciton actionPerformed:  Is an Listner of the Clear Button and Input Textfield.\n     *\n     * Parameter ce: Is the Changed Slider value.\n     */\n    \n    @Override\n    public void actionPerformed(ActionEvent e) { // after an Enter, should be searched in Graph DB\n        if(e.getSource() == GraphLayoutSelector.InputtextF)\n        {\n            if((!SearchList.contains(GraphLayoutSelector.InputtextF.getText()))&amp;&amp; !GraphLayoutSelector.InputtextF.getText().isEmpty())\n                SearchList.add(GraphLayoutSelector.InputtextF.getText());\n                GraphLayoutSelector.InputtextF.setText(&quot;&quot;);\n                GraphLayoutSelector.treeButton.setEnabled(true);\n                GraphLayoutSelector.radialButton.setEnabled(true);\n                plotgraph(SearchList.get(SearchList.size() - 1));\n            }else if(e.getSource()== GraphLayoutSelector.clearbutton)// starts an new search\n            {\n                GuiInterface.graph = GraphHandler.createForestTestempty();\n                GuiInterface.vv.getComponent().removeAll();\n                GuiInterface.panel.revalidate();\n                GuiInterface.panel.repaint();\n                GuiInterface.redrawing();\n                frame.revalidate();\n                frame.repaint();\n                \n            }\n            System.out.println(&quot;Im here &quot;);\n        }\n        \n        public static void main(String[] args) throws Exception{\n        \n        DBPlot PlotGui = new DBPlot();\n            \n    }   \n}\n\n\npublic class GuiInterface extends JPanel {\n\n    SplitterContext&lt;Object&gt; splitterContext =\n            SplitterContext.of(new RStarLeafSplitter&lt;&gt;(), new RStarSplitter&lt;&gt;());\n\n    final DefaultGraphMouse&lt;String, Integer&gt; graphMouse = new DefaultGraphMouse&lt;&gt;();\n\n\n    public static Graph&lt;String, Integer&gt; graph;\n\n    public static     VisualizationScrollPane panel;\n\n    static Predicate&lt;Integer&gt; edgePredicate = e -&gt; e &lt; 100;\n\n\n    private static final Logger log = LoggerFactory.getLogger(GuiInterface.class);\n\n    public static VisualizationViewer&lt;String, Integer&gt; vv;\n\n\n\n    /** the visual component and renderer for the graph */\n\n    Dimension layoutSize = new Dimension(700, 700);\n    Dimension viewSize = new Dimension(700, 700);\n    \n\n    public static void redrawing()\n    {\n        \n        vv.repaint();\n        //panel.removeC\n        panel.validate();\n        panel.repaint();\n    }\n    \n\n    public GuiInterface() { setLayout(new BorderLayout());\n\n\n      graph = GraphHandler.createForestTest();\n\n      GraphBuilder&lt;String, Integer, Graph&lt;String, Integer&gt;&gt; tree =\n                GraphTypeBuilder.&lt;String, Integer&gt;forGraphType(DefaultGraphType.dag())\n                        .edgeSupplier(SupplierUtil.createIntegerSupplier())\n                        .buildGraphBuilder();\n\n\n      \n        vv =\n                VisualizationViewer.builder(graph)\n                        .layoutAlgorithm(new StaticLayoutAlgorithm&lt;&gt;())\n                        .layoutSize(layoutSize)\n                        .viewSize(viewSize)\n                        .graphMouse(graphMouse)\n                        .build();\n\n        vv.addPreRenderPaintable(\n                new LayoutPaintable.LayoutBounds(\n                        vv.getVisualizationModel(), vv.getRenderContext().getMultiLayerTransformer()));\n\n      \n        \n        Box controls = Box.createHorizontalBox();\n        controls.add(\n                GraphControlHelpers.getCenteredContainer(\n                        &quot;Layout Controls&quot;, GraphLayoutSelector.builder(vv).initialSelection(1).build()));\n        controls.add(GraphControlHelpers.getCenteredContainer(&quot;Zoom&quot;,GraphControlHelpers.getZoom(vv)));\n        add(controls, BorderLayout.SOUTH);\n\n\n\n        panel = new VisualizationScrollPane(vv);\n        redrawing();\n        repaint();\n        add(panel);\n\n}\n</code></pre>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1674847584,"post_id":75262375,"comment_id":132808212,"body_markdown":"You should be using `connection.setAutoCommit(false)`, depending on whether your RDBMS supports multiple transactions and one of that size. Using the batch statement inside the forEach loop not outside could be very inefficient too.","body":"You should be using <code>connection.setAutoCommit(false)</code>, depending on whether your RDBMS supports multiple transactions and one of that size. Using the batch statement inside the forEach loop not outside could be very inefficient too."},{"owner":{"account_id":4308682,"reputation":12633,"user_id":3520404,"display_name":"saran3h"},"score":0,"creation_date":1674933441,"post_id":75262375,"comment_id":132821227,"body_markdown":"Its technically not inside a loop. A fixed bunch of rows being executed in batch to get the best performance. Also, does setting autocommit to false revert the whole transaction in case something goes wrong?","body":"Its technically not inside a loop. A fixed bunch of rows being executed in batch to get the best performance. Also, does setting autocommit to false revert the whole transaction in case something goes wrong?"},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1674983727,"post_id":75262375,"comment_id":132827100,"body_markdown":"My point is that you can create one prepared statement for all `recordIds`, not one per iteration of `recordIds`.","body":"My point is that you can create one prepared statement for all <code>recordIds</code>, not one per iteration of <code>recordIds</code>."},{"owner":{"account_id":4308682,"reputation":12633,"user_id":3520404,"display_name":"saran3h"},"score":0,"creation_date":1674989502,"post_id":75262375,"comment_id":132827985,"body_markdown":"understood. I&#39;ve taken inputs from the accepted answer and moved the prepared statement call outside the partitioning loop. Tested few scenarios and it works fine. Thanks","body":"understood. I&#39;ve taken inputs from the accepted answer and moved the prepared statement call outside the partitioning loop. Tested few scenarios and it works fine. Thanks"}],"answers":[{"comments":[{"owner":{"account_id":4308682,"reputation":12633,"user_id":3520404,"display_name":"saran3h"},"score":0,"creation_date":1674989597,"post_id":75272081,"comment_id":132827999,"body_markdown":"Thanks for the detailed explanation. I implemented your suggestions along with additional point from @DuncG to move prepared statement call outside the loop.","body":"Thanks for the detailed explanation. I implemented your suggestions along with additional point from @DuncG to move prepared statement call outside the loop."}],"tags":[],"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674957500,"creation_date":1674956045,"answer_id":75272081,"question_id":75262375,"body_markdown":"According to the [JDBC specification](https://download.oracle.com/otndocs/jcp/jdbc-4_3-mrel3-spec/index.html):\r\n\r\n&gt;  In the example, auto-commit mode is disabled to prevent the driver from\r\ncommitting the transaction when Statement.executeBatch is called. Disabling\r\nauto-commit allows an application to decide whether or not to commit the\r\ntransaction in the event that an error occurs and some of the commands in a batch\r\ncannot be processed successfully. For this reason, auto-commit should always be\r\nturned off when batch updates are done. The commit behavior of executeBatch is\r\nalways implementation-defined when an error occurs and auto-commit is true.\r\n\r\n&lt;sub&gt;(section 14.1.1)&lt;/sub&gt;\r\n\r\n&gt; When auto-commit is disabled, each transaction must be explicitly committed by\r\ncalling the Connection method commit or explicitly rolled back by calling the\r\nConnection method rollback, respectively.\r\n\r\n&lt;sub&gt;(section 10.1.1)&lt;/sub&gt;\r\n\r\nAlthough section 14.1.1 specifically is about `Statement`s, it mentions that the same behavior should be assumed for `PreparedStatement`s (which are described in section 14.1.4): If auto-commit is set to true, then `executeBatch` commits the transaction but the error behavior depends on the driver implementation and should not be relied upon. Therefore, the proper way (as suggested by the spec) is to set auto-commit to false.\r\n\r\n&gt; I wish to rollback all changes in proper ACID way.\r\n\r\nWhat do you mean by &quot;all&quot;? If you are referring to an individual partition, then you can call `connection.rollback()` within the `catch` block. If you are referring to all partitions then you could set some flag within the catch block (perhaps via some `AtomicBoolean`) and then commit or rollback depending on the value of the flag. In my opinion, in this case it would be better to not use `forEach` but a for-loop and break out early once an error occurs:\r\n\r\n```java\r\nconnection.setAutoCommit(false);\r\nfor (String[] recordIds : partitions) {\r\n    try (PreparedStatement pstmt = ...) {\r\n        for (String recordId : recordIds) {\r\n            pstmt.setString(1, recordId);\r\n            pstmt.addBatch();\r\n        }\r\n        pstmt.executeBatch();\r\n    } catch (SQLException ex) {\r\n        connection.rollback();\r\n        throw new GenericRuntimeException(ex);\r\n    }\r\n}\r\nconnection.commit();\r\n```","title":"JDBC: Implement exception handling and transaction rollback on error","body":"<p>According to the <a href=\"https://download.oracle.com/otndocs/jcp/jdbc-4_3-mrel3-spec/index.html\" rel=\"nofollow noreferrer\">JDBC specification</a>:</p>\n<blockquote>\n<p>In the example, auto-commit mode is disabled to prevent the driver from\ncommitting the transaction when Statement.executeBatch is called. Disabling\nauto-commit allows an application to decide whether or not to commit the\ntransaction in the event that an error occurs and some of the commands in a batch\ncannot be processed successfully. For this reason, auto-commit should always be\nturned off when batch updates are done. The commit behavior of executeBatch is\nalways implementation-defined when an error occurs and auto-commit is true.</p>\n</blockquote>\n<p><sub>(section 14.1.1)</sub></p>\n<blockquote>\n<p>When auto-commit is disabled, each transaction must be explicitly committed by\ncalling the Connection method commit or explicitly rolled back by calling the\nConnection method rollback, respectively.</p>\n</blockquote>\n<p><sub>(section 10.1.1)</sub></p>\n<p>Although section 14.1.1 specifically is about <code>Statement</code>s, it mentions that the same behavior should be assumed for <code>PreparedStatement</code>s (which are described in section 14.1.4): If auto-commit is set to true, then <code>executeBatch</code> commits the transaction but the error behavior depends on the driver implementation and should not be relied upon. Therefore, the proper way (as suggested by the spec) is to set auto-commit to false.</p>\n<blockquote>\n<p>I wish to rollback all changes in proper ACID way.</p>\n</blockquote>\n<p>What do you mean by &quot;all&quot;? If you are referring to an individual partition, then you can call <code>connection.rollback()</code> within the <code>catch</code> block. If you are referring to all partitions then you could set some flag within the catch block (perhaps via some <code>AtomicBoolean</code>) and then commit or rollback depending on the value of the flag. In my opinion, in this case it would be better to not use <code>forEach</code> but a for-loop and break out early once an error occurs:</p>\n<pre class=\"lang-java prettyprint-override\"><code>connection.setAutoCommit(false);\nfor (String[] recordIds : partitions) {\n    try (PreparedStatement pstmt = ...) {\n        for (String recordId : recordIds) {\n            pstmt.setString(1, recordId);\n            pstmt.addBatch();\n        }\n        pstmt.executeBatch();\n    } catch (SQLException ex) {\n        connection.rollback();\n        throw new GenericRuntimeException(ex);\n    }\n}\nconnection.commit();\n</code></pre>\n"}],"owner":{"account_id":4308682,"reputation":12633,"user_id":3520404,"display_name":"saran3h"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":461,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75272081,"answer_count":1,"score":0,"last_activity_date":1675108767,"creation_date":1674846472,"question_id":75262375,"body_markdown":"I have the below code which I wanted to review and understand how I can add a rollback step when something fails.\r\n\r\n\r\n    /**\r\n\t * Insert some data into some table in bulk\r\n\t *\r\n\t * @param requestData requested data\r\n\t */\r\n\tprivate void insertingRowsByBatches(RequestData requestData) {\r\n\t\ttry (\r\n\t\t\t\tConnection connection = myDataSource.getConnection();\r\n\t\t\t\tStatement deleteStatement = connection.createStatement()\r\n\t\t) {\r\n\t\t\tconnection.setAutoCommit(TRUE);\r\n\t\t\tString stagingDeleteSql = buildMessage(&quot;DELETE FROM my_table&quot;);\r\n\t\t\tint rowsAffected = deleteStatement.executeUpdate(stagingDeleteSql);\r\n\t\t\tlog.info(&quot;[{}] records deleted&quot;, rowsAffected);\r\n\r\n\t\t\tString stagingInsertSql = &quot;INSERT INTO my_table(SOME_DATA) values(?)&quot;;\r\n\t\t\tLists.partition(Optional.ofNullable(requestData.getData()).orElse(emptyList()), MAX_ROWS_PER_INSERT)\r\n\t\t\t\t\t.forEach(recordIds -&gt; {\r\n\t\t\t\t\t\ttry (PreparedStatement pstmt = connection.prepareStatement(stagingInsertSql, RETURN_GENERATED_KEYS)) {\r\n\t\t\t\t\t\t\tfor (String recordId: recordIds ) {\r\n\t\t\t\t\t\t\t\tpstmt.setString(1, recordId);\r\n\t\t\t\t\t\t\t\tpstmt.addBatch();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlong start = currentTimeMillis();\r\n\t\t\t\t\t\t\tpstmt.executeBatch();\r\n\t\t\t\t\t\t\tlong end = currentTimeMillis();\r\n\t\t\t\t\t\t\tlog.info(&quot;Total time taken to insert [{}] rows: {}ms&quot;, recordIds.size(), (end - start));\r\n\t\t\t\t\t\t} catch (SQLException ex) {\r\n\t\t\t\t\t\t\tlog.error(&quot;Staging job failed due to an exception: {}&quot;, ex.getMessage());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\tconnection.commit();\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new GenericRuntimeException(e);\r\n\t\t}\r\n\t}\r\n\r\nI&#39;m a bit concerned on how this code will work if I get a `SQLException` in the loop for some reason. I wish to rollback all changes in proper ACID way.\r\n\r\n**UPDATE**\r\n\r\nAfter looking at the suggestions, this is what I came up with:\r\n\r\n    /**\r\n\t * Insert some data into some table in bulk\r\n\t *\r\n\t * @param requestData requested data\r\n\t */\r\n\tpublic void insertingRowsByBatches(RequestData requestData) {\r\n        try (Connection connection = myDataSource.getConnection()) {\r\n\t\t\t    loadInStagingTable(requestData, connection);\r\n\t\t} catch (SQLException e) {\r\n\t\t\tthrow new GenericRuntimeException(e);\r\n\t\t}\r\n    }\r\n\r\n\t/**\r\n\t * Insert given data to staging table\r\n\t *\r\n\t * @param requestData requested data\r\n\t * @param connection instance of {@link Connection}\r\n\t * @throws SQLException exception\r\n\t */\r\n\tprivate void loadInStagingTable(RequestData requestData, Connection connection) throws SQLException {\r\n\t\ttry (\r\n\t\t\t\tPreparedStatement deleteStatement = connection.prepareStatement(&quot;DELETE FROM my_table&quot;);\r\n\t\t\t\tPreparedStatement insertStatement = connection.prepareStatement(&quot;INSERT INTO my_table(SOME_DATA) values(?)&quot;, RETURN_GENERATED_KEYS)\r\n\t\t) {\r\n\t\t\tconnection.setAutoCommit(false);\r\n\t\t\tlog.info(&quot;Deleting any existing records from staging table...&quot;);\r\n\t\t\tdeleteStatement.executeUpdate();\r\n\r\n\t\t\tlog.info(&quot;Inserting given records in staging table...&quot;);\r\n\t\t\tlong start = currentTimeMillis();\r\n\t\t\tList&lt;String&gt; records = requestData.getData();\r\n\t\t\tList&lt;List&lt;String&gt;&gt; partitions = partition(records , MAX_ROWS_PER_INSERT);\r\n\t\t\tint partitionCount = 0;\r\n\t\t\tfor (List&lt;String&gt; recordIds: partitions) {\r\n\t\t\t\tlog.info(&quot;Partition [{}/{}] - Inserting [{}] records in staging table&quot;, ++partitionCount, partitions.size(), recordIds.size());\r\n\t\t\t\tfor (String recordId: recordIds) {\r\n\t\t\t\t\tinsertStatement.setString(1, recordId);\r\n\t\t\t\t\tinsertStatement.addBatch();\r\n\t\t\t\t}\r\n\t\t\t\tinsertStatement.executeBatch();\r\n\t\t\t}\r\n\t\t\tconnection.commit();\r\n\t\t\tlog.debug(&quot;Total time taken to insert [{}] rows: {}ms&quot;, records.size(), (currentTimeMillis() - start));\r\n\t\t} catch (SQLException e) {\r\n\t\t\tconnection.rollback();\r\n\t\t\tthrow new GenericRuntimeException(e);\r\n\t\t}\r\n\t}\r\n","title":"JDBC: Implement exception handling and transaction rollback on error","body":"<p>I have the below code which I wanted to review and understand how I can add a rollback step when something fails.</p>\n<pre><code>/**\n * Insert some data into some table in bulk\n *\n * @param requestData requested data\n */\nprivate void insertingRowsByBatches(RequestData requestData) {\n    try (\n            Connection connection = myDataSource.getConnection();\n            Statement deleteStatement = connection.createStatement()\n    ) {\n        connection.setAutoCommit(TRUE);\n        String stagingDeleteSql = buildMessage(&quot;DELETE FROM my_table&quot;);\n        int rowsAffected = deleteStatement.executeUpdate(stagingDeleteSql);\n        log.info(&quot;[{}] records deleted&quot;, rowsAffected);\n\n        String stagingInsertSql = &quot;INSERT INTO my_table(SOME_DATA) values(?)&quot;;\n        Lists.partition(Optional.ofNullable(requestData.getData()).orElse(emptyList()), MAX_ROWS_PER_INSERT)\n                .forEach(recordIds -&gt; {\n                    try (PreparedStatement pstmt = connection.prepareStatement(stagingInsertSql, RETURN_GENERATED_KEYS)) {\n                        for (String recordId: recordIds ) {\n                            pstmt.setString(1, recordId);\n                            pstmt.addBatch();\n                        }\n                        long start = currentTimeMillis();\n                        pstmt.executeBatch();\n                        long end = currentTimeMillis();\n                        log.info(&quot;Total time taken to insert [{}] rows: {}ms&quot;, recordIds.size(), (end - start));\n                    } catch (SQLException ex) {\n                        log.error(&quot;Staging job failed due to an exception: {}&quot;, ex.getMessage());\n                    }\n                });\n        connection.commit();\n    } catch (Exception e) {\n        throw new GenericRuntimeException(e);\n    }\n}\n</code></pre>\n<p>I'm a bit concerned on how this code will work if I get a <code>SQLException</code> in the loop for some reason. I wish to rollback all changes in proper ACID way.</p>\n<p><strong>UPDATE</strong></p>\n<p>After looking at the suggestions, this is what I came up with:</p>\n<pre><code>/**\n * Insert some data into some table in bulk\n *\n * @param requestData requested data\n */\npublic void insertingRowsByBatches(RequestData requestData) {\n    try (Connection connection = myDataSource.getConnection()) {\n            loadInStagingTable(requestData, connection);\n    } catch (SQLException e) {\n        throw new GenericRuntimeException(e);\n    }\n}\n\n/**\n * Insert given data to staging table\n *\n * @param requestData requested data\n * @param connection instance of {@link Connection}\n * @throws SQLException exception\n */\nprivate void loadInStagingTable(RequestData requestData, Connection connection) throws SQLException {\n    try (\n            PreparedStatement deleteStatement = connection.prepareStatement(&quot;DELETE FROM my_table&quot;);\n            PreparedStatement insertStatement = connection.prepareStatement(&quot;INSERT INTO my_table(SOME_DATA) values(?)&quot;, RETURN_GENERATED_KEYS)\n    ) {\n        connection.setAutoCommit(false);\n        log.info(&quot;Deleting any existing records from staging table...&quot;);\n        deleteStatement.executeUpdate();\n\n        log.info(&quot;Inserting given records in staging table...&quot;);\n        long start = currentTimeMillis();\n        List&lt;String&gt; records = requestData.getData();\n        List&lt;List&lt;String&gt;&gt; partitions = partition(records , MAX_ROWS_PER_INSERT);\n        int partitionCount = 0;\n        for (List&lt;String&gt; recordIds: partitions) {\n            log.info(&quot;Partition [{}/{}] - Inserting [{}] records in staging table&quot;, ++partitionCount, partitions.size(), recordIds.size());\n            for (String recordId: recordIds) {\n                insertStatement.setString(1, recordId);\n                insertStatement.addBatch();\n            }\n            insertStatement.executeBatch();\n        }\n        connection.commit();\n        log.debug(&quot;Total time taken to insert [{}] rows: {}ms&quot;, records.size(), (currentTimeMillis() - start));\n    } catch (SQLException e) {\n        connection.rollback();\n        throw new GenericRuntimeException(e);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675103965,"post_id":75288365,"comment_id":132852664,"body_markdown":"Is the EventPublisher service in the same package as the class annotated with @SpringBootApplication, eg com.reflectoring.eventdemo","body":"Is the EventPublisher service in the same package as the class annotated with @SpringBootApplication, eg com.reflectoring.eventdemo"},{"owner":{"account_id":11342805,"reputation":929,"user_id":8316275,"accept_rate":52,"display_name":"user565"},"score":0,"creation_date":1675106641,"post_id":75288365,"comment_id":132853406,"body_markdown":"No, both Service and Component are in different packages.","body":"No, both Service and Component are in different packages."},{"owner":{"account_id":22506547,"reputation":980,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1675119440,"post_id":75288365,"comment_id":132856707,"body_markdown":"Does this answer your question? [What is a NoSuchBeanDefinitionException and how do I fix it?](https://stackoverflow.com/questions/39173982/what-is-a-nosuchbeandefinitionexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/39173982/what-is-a-nosuchbeandefinitionexception-and-how-do-i-fix-it\">What is a NoSuchBeanDefinitionException and how do I fix it?</a>"},{"owner":{"account_id":11342805,"reputation":929,"user_id":8316275,"accept_rate":52,"display_name":"user565"},"score":0,"creation_date":1675156079,"post_id":75288365,"comment_id":132862662,"body_markdown":"@Hicomputer I already fix it by a using ComponentScan annotation.","body":"@Hicomputer I already fix it by a using ComponentScan annotation."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675108427,"creation_date":1675108427,"answer_id":75289480,"question_id":75288365,"body_markdown":"If @Components (incl @Services) are in are not in the same package (or a sub-package) as the class annotated with @SpringBootApplication then the @SpringBootApplication needs a scanBasePackages, eg\r\n\r\n    @SpringBootApplication(scanBasePackages = {&quot;basepackage1&quot;, &quot;basepackage2&quot;}","title":"Unable to autowire Component into Service in springboot","body":"<p>If @Components (incl @Services) are in are not in the same package (or a sub-package) as the class annotated with @SpringBootApplication then the @SpringBootApplication needs a scanBasePackages, eg</p>\n<pre><code>@SpringBootApplication(scanBasePackages = {&quot;basepackage1&quot;, &quot;basepackage2&quot;}\n</code></pre>\n"}],"owner":{"account_id":11342805,"reputation":929,"user_id":8316275,"accept_rate":52,"display_name":"user565"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75289480,"answer_count":1,"score":-1,"last_activity_date":1675108427,"creation_date":1675101616,"question_id":75288365,"body_markdown":"I am trying to do the event handling in my springboot(4.2) application and following this [example][1]. When I try to Autowired EventPublisher component into my Service, it creates a problem and throws the following exception:\r\n\r\n\r\n    2023-01-30 18:54:15 DEBUG Processing injected element of bean &#39;positionService&#39;: AutowiredFieldElement for com.mycompany.myproject.event.EventPublisher com.mycompany.myproject.service.PositionService.eventPublisher\r\n    2023-01-30 18:54:15 WARN Exception encountered during context initialization - cancelling refresh attempt\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;positionService&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: com.mycompany.myproject.event.EventPublisher com.mycompany.myproject.service.PositionService.eventPublisher; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [com.mycompany.myproject.event.EventPublisher] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:334)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:305)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:301)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:834)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537)\r\n    \tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:403)\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4762)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5222)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\r\n    \tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:689)\r\n    \tat org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1888)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    \tat java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [com.mycompany.myproject.event.EventPublisher] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoSuchBeanDefinitionException(DefaultListableBeanFactory.java:1326)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1072)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:967)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:543)\r\n    \t... 58 more\r\n\r\n\r\n Here is my EventPublisher\r\n\r\n\r\n    @Component\r\n    public class EventPublisher {\r\n        @Autowired \r\n        private ApplicationEventPublisher applicationEventPublisher;\r\n     \r\n    \r\n        public void publishEvent(String message, Integer eventId) {\r\n            applicationEventPublisher.publishEvent(\r\n                    new UserEvent(this, message, eventId)\r\n            );\r\n        }\r\n    }\r\n\r\n\r\nService:\r\n\r\n    @Service\r\n    public class PositionService extends BaseService implements IPositionService {\r\n        private final Logger LOGGER = LoggerFactory.getLogger(this.getClass());\r\n    \r\n        \r\n    \r\n        @Autowired\r\n        EventPublisher eventPublisher;\r\n\r\n\r\n\r\n  [1]: https://reflectoring.io/spring-boot-application-events-explained/","title":"Unable to autowire Component into Service in springboot","body":"<p>I am trying to do the event handling in my springboot(4.2) application and following this <a href=\"https://reflectoring.io/spring-boot-application-events-explained/\" rel=\"nofollow noreferrer\">example</a>. When I try to Autowired EventPublisher component into my Service, it creates a problem and throws the following exception:</p>\n<pre><code>2023-01-30 18:54:15 DEBUG Processing injected element of bean 'positionService': AutowiredFieldElement for com.mycompany.myproject.event.EventPublisher com.mycompany.myproject.service.PositionService.eventPublisher\n2023-01-30 18:54:15 WARN Exception encountered during context initialization - cancelling refresh attempt\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'positionService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: com.mycompany.myproject.event.EventPublisher com.mycompany.myproject.service.PositionService.eventPublisher; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [com.mycompany.myproject.event.EventPublisher] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:334)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:305)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:301)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:834)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:403)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4762)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5222)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\n    at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:689)\n    at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1888)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)\n    at java.util.concurrent.FutureTask.run(FutureTask.java)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [com.mycompany.myproject.event.EventPublisher] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoSuchBeanDefinitionException(DefaultListableBeanFactory.java:1326)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1072)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:967)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:543)\n    ... 58 more\n</code></pre>\n<p>Here is my EventPublisher</p>\n<pre><code>@Component\npublic class EventPublisher {\n    @Autowired \n    private ApplicationEventPublisher applicationEventPublisher;\n \n\n    public void publishEvent(String message, Integer eventId) {\n        applicationEventPublisher.publishEvent(\n                new UserEvent(this, message, eventId)\n        );\n    }\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>@Service\npublic class PositionService extends BaseService implements IPositionService {\n    private final Logger LOGGER = LoggerFactory.getLogger(this.getClass());\n\n    \n\n    @Autowired\n    EventPublisher eventPublisher;\n</code></pre>\n"},{"tags":["java","apache-poi","xwpf"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1675173849,"post_id":75289475,"comment_id":132868416,"body_markdown":"The code of [XWPFDocument.setParagraph(XWPFParagraph paragraph, int pos)](https://svn.apache.org/viewvc/poi/tags/REL_5_2_3/poi-ooxml/src/main/java/org/apache/poi/xwpf/usermodel/XWPFDocument.java?view=markup#l1001) shows why this will not work properly. See TODO-comment.","body":"The code of <a href=\"https://svn.apache.org/viewvc/poi/tags/REL_5_2_3/poi-ooxml/src/main/java/org/apache/poi/xwpf/usermodel/XWPFDocument.java?view=markup#l1001\" rel=\"nofollow noreferrer\">XWPFDocument.setParagraph(XWPFParagraph paragraph, int pos)</a> shows why this will not work properly. See TODO-comment."},{"owner":{"account_id":2726971,"reputation":151,"user_id":2351753,"accept_rate":100,"display_name":"nigelg"},"score":0,"creation_date":1675189980,"post_id":75289475,"comment_id":132874024,"body_markdown":"It turns out my point (2) above about a particular Word doc I was running my real app against having Word saying the generated doc is corrupt on opening is because the parargraphs I was cloning like with example code above contained an image, and since the XML is being cloned as-is, this gave duplicate IDs in wp:docPr tags similar to described here https://bz.apache.org/bugzilla/show_bug.cgi?id=49765#c43 so not really relevant to the question of generally the best way to clone and insert paragraphs and tables","body":"It turns out my point (2) above about a particular Word doc I was running my real app against having Word saying the generated doc is corrupt on opening is because the parargraphs I was cloning like with example code above contained an image, and since the XML is being cloned as-is, this gave duplicate IDs in wp:docPr tags similar to described here <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=49765#c43\" rel=\"nofollow noreferrer\">bz.apache.org/bugzilla/show_bug.cgi?id=49765#c43</a> so not really relevant to the question of generally the best way to clone and insert paragraphs and tables"}],"owner":{"account_id":2726971,"reputation":151,"user_id":2351753,"accept_rate":100,"display_name":"nigelg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675108397,"creation_date":1675108397,"question_id":75289475,"body_markdown":"I am trying to copy paragraphs of a XWPFDocument using Apache POI.  Since POI has no method to insert a pre-made paragraph at an arbitrary point, I&#39;ve read plenty of answers suggesting to first insert a throwaway paragraph using insertNewParagraph(), then replace the temporary paragraph by the one I actually want with setParagraph().  This is further complicated by that insertNewParagraph can&#39;t just take an input which is the desired index into the body&#39;s list of elements (like how XWPFTable.addRow(row,pos) works), and must pass it an XmlCursor.\r\n\r\nTestIn.docx I created as a a test with 6 paragraphs A, B, C, D, E, F.\r\n\r\n```\r\nimport java.io.FileInputStream;\r\nimport java.io.FileOutputStream;\r\n\r\nimport org.apache.poi.xwpf.usermodel.IBodyElement;\r\nimport org.apache.poi.xwpf.usermodel.XWPFDocument;\r\nimport org.apache.poi.xwpf.usermodel.XWPFParagraph;\r\nimport org.apache.xmlbeans.XmlCursor;\r\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTP;\r\n\r\npublic class ParagraphIssue\r\n{\r\n\tpublic void debugElement (IBodyElement elem, StringBuilder s, XWPFParagraph a, XWPFParagraph b, XWPFParagraph c, XWPFParagraph d, XWPFParagraph e, XWPFParagraph f,\r\n\t\tXWPFParagraph t1, XWPFParagraph r1, XWPFParagraph t2, XWPFParagraph r2)\r\n\t{\r\n\t\tif (s.length () &gt; 0) s.append (&quot; &quot;);\r\n\t\tif (elem == a) s.append (&quot;A&quot;);\r\n\t\telse if (elem == b) s.append (&quot;B&quot;);\r\n\t\telse if (elem == c) s.append (&quot;C&quot;);\r\n\t\telse if (elem == d) s.append (&quot;D&quot;);\r\n\t\telse if (elem == e) s.append (&quot;E&quot;);\r\n\t\telse if (elem == f) s.append (&quot;F&quot;);\r\n\t\telse if (elem == t1) s.append (&quot;T1&quot;);\r\n\t\telse if (elem == r1) s.append (&quot;R1&quot;);\r\n\t\telse if (elem == t2) s.append (&quot;T2&quot;);\r\n\t\telse if (elem == r2) s.append (&quot;R2&quot;);\r\n\t\telse s.append (&quot;U&quot;);\r\n\t}\r\n\t\r\n\tpublic void debug (XWPFDocument doc, XWPFParagraph a, XWPFParagraph b, XWPFParagraph c, XWPFParagraph d, XWPFParagraph e, XWPFParagraph f,\r\n\t\tXWPFParagraph t1, XWPFParagraph r1, XWPFParagraph t2, XWPFParagraph r2)\r\n\t{\r\n\t\tStringBuilder s = new StringBuilder ();\r\n\t\tfor (IBodyElement elem : doc.getBodyElements ())\r\n\t\t\tdebugElement (elem, s, a, b, c, d, e, f, t1, r1, t2, r2);\r\n\t\tSystem.out.println(&quot;Elements: &quot; + s);\r\n\t\t\r\n\t\ts = new StringBuilder ();\r\n\t\tfor (XWPFParagraph para : doc.getParagraphs ())\r\n\t\t\tdebugElement (para, s, a, b, c, d, e, f, t1, r1, t2, r2);\r\n\t\tSystem.out.println(&quot;Paragraphs: &quot; + s);\r\n\t}\r\n\t\r\n\tpublic void run (XWPFDocument doc, int insertionPoint)\r\n\t{\r\n\t\tXWPFParagraph paraA = doc.getParagraphs().get(0);\r\n\t\tXWPFParagraph paraB = doc.getParagraphs().get(1);\r\n\t\tXWPFParagraph paraC = doc.getParagraphs().get(2);\r\n\t\tXWPFParagraph paraD = doc.getParagraphs().get(3);\r\n\t\tXWPFParagraph paraE = doc.getParagraphs().get(4);\r\n\t\tXWPFParagraph paraF = doc.getParagraphs().get(5);\r\n\t\t\r\n\t\tSystem.out.println (&quot;--- Document initial state ---&quot;);\r\n\t\tdebug (doc, paraA, paraB, paraC, paraD, paraE, paraF, null, null, null, null);\r\n\r\n\t\t// Clone the first paragraph\r\n\t\tXWPFParagraph cloneThis = (XWPFParagraph) doc.getBodyElements ().get (0);\r\n\t\tXWPFParagraph clonedPara = new XWPFParagraph ((CTP) cloneThis.getCTP ().copy (), doc);\r\n\t\t\r\n\t\t// Add new paragraph before the final paragraph\r\n\t\tXWPFParagraph insertBeforePara = (XWPFParagraph) doc.getBodyElements ().get (insertionPoint);\r\n\t\tXmlCursor cursor = insertBeforePara.getCTP ().newCursor ();\r\n\t\t\r\n\t\tXWPFParagraph newPara = doc.insertNewParagraph (cursor);\r\n\t\tnewPara.insertNewRun (0).setText (&quot;this should get replaced&quot;);\r\n\t\t\r\n\t\tSystem.out.println (&quot;--- Insert 1st temporary para before F ---&quot;);\r\n\t\tdebug (doc, paraA, paraB, paraC, paraD, paraE, paraF, newPara, clonedPara, null, null);\r\n\t\t\r\n\t\tint newParaIndex = 0;\r\n\t\tfor (IBodyElement elem : doc.getBodyElements ())\r\n\t\t{\r\n\t\t\tif (elem == newPara)\r\n\t\t\t\tbreak;\r\n\t\t\telse if (elem.getElementType () == newPara.getElementType ())\r\n\t\t\t\tnewParaIndex++;\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println (&quot;1st temporary para is at index &quot; + newParaIndex);\t\t// 5, as expected\r\n\t\t\r\n\t\t// Now replace the added paragraph with the cloned one\r\n\t\tdoc.setParagraph (clonedPara, newParaIndex);\r\n\t\tSystem.out.println (&quot;--- Replace 1st temporary para ---&quot;);\r\n\t\tdebug (doc, paraA, paraB, paraC, paraD, paraE, paraF, newPara, clonedPara, null, null);\r\n\t\t\r\n\t\t// Do exactly the same thing again to clone the second paragraph\r\n\t\tXWPFParagraph cloneThis2 = (XWPFParagraph) doc.getBodyElements ().get (1);\r\n\t\tXWPFParagraph clonedPara2 = new XWPFParagraph ((CTP) cloneThis2.getCTP ().copy (), doc);\r\n\t\t\r\n\t\tXWPFParagraph insertBeforePara2 = (XWPFParagraph) doc.getBodyElements ().get (insertionPoint + 1);\r\n\t\tXmlCursor cursor2 = insertBeforePara2.getCTP ().newCursor ();\r\n\t\t\r\n\t\tXWPFParagraph newPara2 = doc.insertNewParagraph (cursor2);\r\n\t\tnewPara2.insertNewRun (0).setText (&quot;this should get replaced too&quot;);\r\n\r\n\t\tSystem.out.println (&quot;--- Insert 2nd temporary para before F ---&quot;);\r\n\t\tdebug (doc, paraA, paraB, paraC, paraD, paraE, paraF, newPara, clonedPara, newPara2, clonedPara2);\r\n\t\t\r\n\t\tint newParaIndex2 = 0;\r\n\t\tfor (IBodyElement elem : doc.getBodyElements ())\r\n\t\t{\r\n\t\t\tif (elem == newPara2)\r\n\t\t\t\tbreak;\r\n\t\t\telse if (elem.getElementType () == newPara2.getElementType ())\r\n\t\t\t\tnewParaIndex2++;\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println (&quot;2nd temporary para is at index &quot; + newParaIndex2);\r\n\t\t\r\n\t\tdoc.setParagraph (clonedPara2, newParaIndex2);\t\t// So then this replaces the wrong paragraph\r\n\t\tSystem.out.println (&quot;--- Replace 2nd temporary para ---&quot;);\r\n\t\tdebug (doc, paraA, paraB, paraC, paraD, paraE, paraF, newPara, clonedPara, newPara2, clonedPara2);\r\n\t}\r\n\t\r\n\tpublic final static void main (final String [] args)\r\n\t{\r\n\t\ttry (FileInputStream in = new FileInputStream (&quot;W:\\\\TestIn.docx&quot;))\r\n\t\t{\r\n\t\t\tXWPFDocument doc = new XWPFDocument (in);\r\n\t\t\tnew ParagraphIssue ().run (doc, 5);\r\n\t\t\t\r\n\t\t\ttry (FileOutputStream out = new FileOutputStream (&quot;W:\\\\TestOut.docx&quot;))\r\n\t\t\t{\r\n\t\t\t\tdoc.write (out);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (Exception e)\r\n\t\t{\r\n\t\t\te.printStackTrace ();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nA lot is debug code so I can get output that shows exactly what&#39;s happening:\r\n\r\n--- Document initial state ---  \r\nElements: A B C D E F  \r\nParagraphs: A B C D E F  \r\n--- Insert 1st temporary para before F ---  \r\nElements: A B C D E T1 F  \r\nParagraphs: A B C D E T1 F  \r\n1st temporary para is at index 5 **- perfect so far**  \r\n--- Replace 1st temporary para ---  \r\nElements: A B C D E T1 F  \r\nParagraphs: A B C D E R1 F **- The list of paragraphs has the replacement paragraph, but the list of elements still has the temporary paragraph**  \r\n--- Insert 2nd temporary para before F ---  \r\nElements: A B C D E T1 T2 F  \r\nParagraphs: T2 A B C D E R1 F **- now the 2nd temporary paragraph has gone at the front of the list; its in the correct place in the list of elements**  \r\n2nd temporary para is at index 6  \r\n--- Replace 2nd temporary para ---  \r\nElements: A B C D E T1 T2 F  \r\nParagraphs: T2 A B C D E R2 F **- List of elements still contains temporary paragraphs; List of paragraphs has 2nd paragraph in wrong place**\r\n\r\nAmazingly, the saved Word doc actually looks correct, but I don&#39;t understand how when neither list looks correct.\r\n\r\nAs far as finding where to do the insert goes, so far I could&#39;ve used ```int newParaIndex = doc.getPosOfParagraph (newPara);```.  Problem with this comes when you add tables into the mix.  Now I edited the source doc and inserted a table so the list of elements now looks like A, B, (table), C, D, E, F and change insertionPoint to 6 accordingly.\r\n\r\nNow you can no longer use doc.getPosOfParagraph () as this returns the index of the paragraph in the list of elements (including tables) but setParagraph needs the index of the paragraph in the list of paragraph (excluding tables).  Using doc.getParagraphPos() to compenstate for this returns 0 for the 2nd inserted temporary paragraph because as you can see in the output above, that&#39;s literally where it is.  So I worked around this by searching only the paragraphs of the elements list, as you can see in the code.\r\n\r\nRunning again with the table added (this is the &#39;U&#39; in the debug output):\r\n\r\n--- Document initial state ---  \r\nElements: A B U C D E F  \r\nParagraphs: A B C D E F  \r\n--- Insert 1st temporary para before F ---  \r\nElements: A B U C D E T1 F  \r\nParagraphs: A B C D E T1 F  \r\n--- Replace 1st temporary para ---  \r\nElements: A B U C D E T1 F  \r\nParagraphs: A B C D E R1 F  \r\n--- Insert 2nd temporary para before F ---  \r\nElements: A B U C D E T1 T2 F  \r\nParagraphs: T2 A B C D E R1 F  \r\n2nd temporary para is at index 6  \r\n--- Replace 2nd temporary para ---  \r\nElements: A B U C D E T1 T2 F  \r\nParagraphs: T2 A B C D E R2 F\r\n\r\nAgain this does actually generate the correct output in the saved doc.  My questions are:\r\n1) Is there a better way to do this that fixes the screwyness of temporary paragraphs being replaced in one list but not the other, and of the 2nd temporary paragraph showing up at the front of the list?  For example should I re-use the same XmlCursor to insert the 2nd temporary paragraph?  Should I make all the temporary paragraphs in one go and then replace them all in one hit afterwards rather than doing one at a time?  Would anything like this help?\r\n2) When I try this approach in our real app, Word complains the document is corrupted.  It offers to attempt to recover it, and if I click Yes then it opens and the content and all the copied paragraphs all look correct, but the odd behaviour here is causing the corrupt doc warning.\r\n\r\n\r\n","title":"Insert multiple copied paragraphs in XWPFDocument","body":"<p>I am trying to copy paragraphs of a XWPFDocument using Apache POI.  Since POI has no method to insert a pre-made paragraph at an arbitrary point, I've read plenty of answers suggesting to first insert a throwaway paragraph using insertNewParagraph(), then replace the temporary paragraph by the one I actually want with setParagraph().  This is further complicated by that insertNewParagraph can't just take an input which is the desired index into the body's list of elements (like how XWPFTable.addRow(row,pos) works), and must pass it an XmlCursor.</p>\n<p>TestIn.docx I created as a a test with 6 paragraphs A, B, C, D, E, F.</p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.FileOutputStream;\n\nimport org.apache.poi.xwpf.usermodel.IBodyElement;\nimport org.apache.poi.xwpf.usermodel.XWPFDocument;\nimport org.apache.poi.xwpf.usermodel.XWPFParagraph;\nimport org.apache.xmlbeans.XmlCursor;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTP;\n\npublic class ParagraphIssue\n{\n    public void debugElement (IBodyElement elem, StringBuilder s, XWPFParagraph a, XWPFParagraph b, XWPFParagraph c, XWPFParagraph d, XWPFParagraph e, XWPFParagraph f,\n        XWPFParagraph t1, XWPFParagraph r1, XWPFParagraph t2, XWPFParagraph r2)\n    {\n        if (s.length () &gt; 0) s.append (&quot; &quot;);\n        if (elem == a) s.append (&quot;A&quot;);\n        else if (elem == b) s.append (&quot;B&quot;);\n        else if (elem == c) s.append (&quot;C&quot;);\n        else if (elem == d) s.append (&quot;D&quot;);\n        else if (elem == e) s.append (&quot;E&quot;);\n        else if (elem == f) s.append (&quot;F&quot;);\n        else if (elem == t1) s.append (&quot;T1&quot;);\n        else if (elem == r1) s.append (&quot;R1&quot;);\n        else if (elem == t2) s.append (&quot;T2&quot;);\n        else if (elem == r2) s.append (&quot;R2&quot;);\n        else s.append (&quot;U&quot;);\n    }\n    \n    public void debug (XWPFDocument doc, XWPFParagraph a, XWPFParagraph b, XWPFParagraph c, XWPFParagraph d, XWPFParagraph e, XWPFParagraph f,\n        XWPFParagraph t1, XWPFParagraph r1, XWPFParagraph t2, XWPFParagraph r2)\n    {\n        StringBuilder s = new StringBuilder ();\n        for (IBodyElement elem : doc.getBodyElements ())\n            debugElement (elem, s, a, b, c, d, e, f, t1, r1, t2, r2);\n        System.out.println(&quot;Elements: &quot; + s);\n        \n        s = new StringBuilder ();\n        for (XWPFParagraph para : doc.getParagraphs ())\n            debugElement (para, s, a, b, c, d, e, f, t1, r1, t2, r2);\n        System.out.println(&quot;Paragraphs: &quot; + s);\n    }\n    \n    public void run (XWPFDocument doc, int insertionPoint)\n    {\n        XWPFParagraph paraA = doc.getParagraphs().get(0);\n        XWPFParagraph paraB = doc.getParagraphs().get(1);\n        XWPFParagraph paraC = doc.getParagraphs().get(2);\n        XWPFParagraph paraD = doc.getParagraphs().get(3);\n        XWPFParagraph paraE = doc.getParagraphs().get(4);\n        XWPFParagraph paraF = doc.getParagraphs().get(5);\n        \n        System.out.println (&quot;--- Document initial state ---&quot;);\n        debug (doc, paraA, paraB, paraC, paraD, paraE, paraF, null, null, null, null);\n\n        // Clone the first paragraph\n        XWPFParagraph cloneThis = (XWPFParagraph) doc.getBodyElements ().get (0);\n        XWPFParagraph clonedPara = new XWPFParagraph ((CTP) cloneThis.getCTP ().copy (), doc);\n        \n        // Add new paragraph before the final paragraph\n        XWPFParagraph insertBeforePara = (XWPFParagraph) doc.getBodyElements ().get (insertionPoint);\n        XmlCursor cursor = insertBeforePara.getCTP ().newCursor ();\n        \n        XWPFParagraph newPara = doc.insertNewParagraph (cursor);\n        newPara.insertNewRun (0).setText (&quot;this should get replaced&quot;);\n        \n        System.out.println (&quot;--- Insert 1st temporary para before F ---&quot;);\n        debug (doc, paraA, paraB, paraC, paraD, paraE, paraF, newPara, clonedPara, null, null);\n        \n        int newParaIndex = 0;\n        for (IBodyElement elem : doc.getBodyElements ())\n        {\n            if (elem == newPara)\n                break;\n            else if (elem.getElementType () == newPara.getElementType ())\n                newParaIndex++;\n        }\n        \n        System.out.println (&quot;1st temporary para is at index &quot; + newParaIndex);      // 5, as expected\n        \n        // Now replace the added paragraph with the cloned one\n        doc.setParagraph (clonedPara, newParaIndex);\n        System.out.println (&quot;--- Replace 1st temporary para ---&quot;);\n        debug (doc, paraA, paraB, paraC, paraD, paraE, paraF, newPara, clonedPara, null, null);\n        \n        // Do exactly the same thing again to clone the second paragraph\n        XWPFParagraph cloneThis2 = (XWPFParagraph) doc.getBodyElements ().get (1);\n        XWPFParagraph clonedPara2 = new XWPFParagraph ((CTP) cloneThis2.getCTP ().copy (), doc);\n        \n        XWPFParagraph insertBeforePara2 = (XWPFParagraph) doc.getBodyElements ().get (insertionPoint + 1);\n        XmlCursor cursor2 = insertBeforePara2.getCTP ().newCursor ();\n        \n        XWPFParagraph newPara2 = doc.insertNewParagraph (cursor2);\n        newPara2.insertNewRun (0).setText (&quot;this should get replaced too&quot;);\n\n        System.out.println (&quot;--- Insert 2nd temporary para before F ---&quot;);\n        debug (doc, paraA, paraB, paraC, paraD, paraE, paraF, newPara, clonedPara, newPara2, clonedPara2);\n        \n        int newParaIndex2 = 0;\n        for (IBodyElement elem : doc.getBodyElements ())\n        {\n            if (elem == newPara2)\n                break;\n            else if (elem.getElementType () == newPara2.getElementType ())\n                newParaIndex2++;\n        }\n        \n        System.out.println (&quot;2nd temporary para is at index &quot; + newParaIndex2);\n        \n        doc.setParagraph (clonedPara2, newParaIndex2);      // So then this replaces the wrong paragraph\n        System.out.println (&quot;--- Replace 2nd temporary para ---&quot;);\n        debug (doc, paraA, paraB, paraC, paraD, paraE, paraF, newPara, clonedPara, newPara2, clonedPara2);\n    }\n    \n    public final static void main (final String [] args)\n    {\n        try (FileInputStream in = new FileInputStream (&quot;W:\\\\TestIn.docx&quot;))\n        {\n            XWPFDocument doc = new XWPFDocument (in);\n            new ParagraphIssue ().run (doc, 5);\n            \n            try (FileOutputStream out = new FileOutputStream (&quot;W:\\\\TestOut.docx&quot;))\n            {\n                doc.write (out);\n            }\n        }\n        catch (Exception e)\n        {\n            e.printStackTrace ();\n        }\n    }\n}\n</code></pre>\n<p>A lot is debug code so I can get output that shows exactly what's happening:</p>\n<p>--- Document initial state ---<br />\nElements: A B C D E F<br />\nParagraphs: A B C D E F<br />\n--- Insert 1st temporary para before F ---<br />\nElements: A B C D E T1 F<br />\nParagraphs: A B C D E T1 F<br />\n1st temporary para is at index 5 <strong>- perfect so far</strong><br />\n--- Replace 1st temporary para ---<br />\nElements: A B C D E T1 F<br />\nParagraphs: A B C D E R1 F <strong>- The list of paragraphs has the replacement paragraph, but the list of elements still has the temporary paragraph</strong><br />\n--- Insert 2nd temporary para before F ---<br />\nElements: A B C D E T1 T2 F<br />\nParagraphs: T2 A B C D E R1 F <strong>- now the 2nd temporary paragraph has gone at the front of the list; its in the correct place in the list of elements</strong><br />\n2nd temporary para is at index 6<br />\n--- Replace 2nd temporary para ---<br />\nElements: A B C D E T1 T2 F<br />\nParagraphs: T2 A B C D E R2 F <strong>- List of elements still contains temporary paragraphs; List of paragraphs has 2nd paragraph in wrong place</strong></p>\n<p>Amazingly, the saved Word doc actually looks correct, but I don't understand how when neither list looks correct.</p>\n<p>As far as finding where to do the insert goes, so far I could've used <code>int newParaIndex = doc.getPosOfParagraph (newPara);</code>.  Problem with this comes when you add tables into the mix.  Now I edited the source doc and inserted a table so the list of elements now looks like A, B, (table), C, D, E, F and change insertionPoint to 6 accordingly.</p>\n<p>Now you can no longer use doc.getPosOfParagraph () as this returns the index of the paragraph in the list of elements (including tables) but setParagraph needs the index of the paragraph in the list of paragraph (excluding tables).  Using doc.getParagraphPos() to compenstate for this returns 0 for the 2nd inserted temporary paragraph because as you can see in the output above, that's literally where it is.  So I worked around this by searching only the paragraphs of the elements list, as you can see in the code.</p>\n<p>Running again with the table added (this is the 'U' in the debug output):</p>\n<p>--- Document initial state ---<br />\nElements: A B U C D E F<br />\nParagraphs: A B C D E F<br />\n--- Insert 1st temporary para before F ---<br />\nElements: A B U C D E T1 F<br />\nParagraphs: A B C D E T1 F<br />\n--- Replace 1st temporary para ---<br />\nElements: A B U C D E T1 F<br />\nParagraphs: A B C D E R1 F<br />\n--- Insert 2nd temporary para before F ---<br />\nElements: A B U C D E T1 T2 F<br />\nParagraphs: T2 A B C D E R1 F<br />\n2nd temporary para is at index 6<br />\n--- Replace 2nd temporary para ---<br />\nElements: A B U C D E T1 T2 F<br />\nParagraphs: T2 A B C D E R2 F</p>\n<p>Again this does actually generate the correct output in the saved doc.  My questions are:</p>\n<ol>\n<li>Is there a better way to do this that fixes the screwyness of temporary paragraphs being replaced in one list but not the other, and of the 2nd temporary paragraph showing up at the front of the list?  For example should I re-use the same XmlCursor to insert the 2nd temporary paragraph?  Should I make all the temporary paragraphs in one go and then replace them all in one hit afterwards rather than doing one at a time?  Would anything like this help?</li>\n<li>When I try this approach in our real app, Word complains the document is corrupted.  It offers to attempt to recover it, and if I click Yes then it opens and the content and all the copied paragraphs all look correct, but the odd behaviour here is causing the corrupt doc warning.</li>\n</ol>\n"},{"tags":["java","spring","spring-boot","stream","hashmap"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1675107431,"post_id":75289260,"comment_id":132853600,"body_markdown":"A `List&lt;Map&lt;String, String&gt;&gt;` is a waste over a `Map&lt;String, String&gt;` if your entry keys are unique. From what I&#39;m seeing here, I would assume that `CollectiveInterestsRes` is a `Map` itself, which you could `map.get(&quot;targetInfo&quot;)` to start things off. Keep in mind a hashmap is inherently unordered, you need _keys_ to retrieve information.","body":"A <code>List&lt;Map&lt;String, String&gt;&gt;</code> is a waste over a <code>Map&lt;String, String&gt;</code> if your entry keys are unique. From what I&#39;m seeing here, I would assume that <code>CollectiveInterestsRes</code> is a <code>Map</code> itself, which you could <code>map.get(&quot;targetInfo&quot;)</code> to start things off. Keep in mind a hashmap is inherently unordered, you need <i>keys</i> to retrieve information."},{"owner":{"account_id":26332949,"reputation":3,"user_id":19993205,"display_name":"sticky fingers"},"score":0,"creation_date":1675107594,"post_id":75289260,"comment_id":132853645,"body_markdown":"So how can i do this can you show one example? I&#39;ve never worked with hashmap before so I&#39;m very unfamiliar..","body":"So how can i do this can you show one example? I&#39;ve never worked with hashmap before so I&#39;m very unfamiliar.."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1675107678,"post_id":75289260,"comment_id":132853669,"body_markdown":"You should refer to the [documentation for Map](https://docs.oracle.com/javase/8/docs/api/java/util/Map.html). Oracle&#39;s [tutorial](https://docs.oracle.com/javase/tutorial/collections/interfaces/map.html) also covers them extensively.","body":"You should refer to the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">documentation for Map</a>. Oracle&#39;s <a href=\"https://docs.oracle.com/javase/tutorial/collections/interfaces/map.html\" rel=\"nofollow noreferrer\">tutorial</a> also covers them extensively."},{"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"score":0,"creation_date":1675107956,"post_id":75289260,"comment_id":132853745,"body_markdown":"@Rogue how do you understand that the provided object is a map? And how is this connected to the given question?","body":"@Rogue how do you understand that the provided object is a map? And how is this connected to the given question?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1675112977,"post_id":75289260,"comment_id":132855155,"body_markdown":"@m.antkowicz in the same manner that the state of any object has a 1:1 correspondence to a `Map` (field names =&gt; object values). The manner of using `.get(0)` on `collectiveInterestsRes` made me assume they had an unserialized object. There is a direct approach to just grabbing the info outright, but my concern was that it was potentially furthering a poor design.","body":"@m.antkowicz in the same manner that the state of any object has a 1:1 correspondence to a <code>Map</code> (field names =&gt; object values). The manner of using <code>.get(0)</code> on <code>collectiveInterestsRes</code> made me assume they had an unserialized object. There is a direct approach to just grabbing the info outright, but my concern was that it was potentially furthering a poor design."}],"answers":[{"comments":[{"owner":{"account_id":26332949,"reputation":3,"user_id":19993205,"display_name":"sticky fingers"},"score":1,"creation_date":1675243208,"post_id":75289469,"comment_id":132884473,"body_markdown":"This was the answer I was looking for. Actually if I knew the hashmap structure maybe I could do it too, thank you very much!","body":"This was the answer I was looking for. Actually if I knew the hashmap structure maybe I could do it too, thank you very much!"}],"tags":[],"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675108378,"creation_date":1675108378,"answer_id":75289469,"question_id":75289260,"body_markdown":"Apart of refactoring this little bit crazy structure you have, the thing you can do is to iterate over the list and put all elements in one common map. Then access elements by key\r\n\r\n    final List&lt;Map&lt;String, String&gt;&gt; targetInfo = collectiveInterestsRes.get(0).getTargetInfo();\r\n    final Map&lt;String, String&gt; accumulatedMap = new HashMap&lt;&gt;();\r\n\r\n    targetInfo.forEach(accumulatedMap::putAll);\r\n\r\n    System.out.println(accumulatedMap.get(&quot;tv_interest_f&quot;));\r\n    System.out.println(accumulatedMap.get(&quot;entertainment_interest_f&quot;));","title":"How can I split the hashmap I have and get the information?","body":"<p>Apart of refactoring this little bit crazy structure you have, the thing you can do is to iterate over the list and put all elements in one common map. Then access elements by key</p>\n<pre><code>final List&lt;Map&lt;String, String&gt;&gt; targetInfo = collectiveInterestsRes.get(0).getTargetInfo();\nfinal Map&lt;String, String&gt; accumulatedMap = new HashMap&lt;&gt;();\n\ntargetInfo.forEach(accumulatedMap::putAll);\n\nSystem.out.println(accumulatedMap.get(&quot;tv_interest_f&quot;));\nSystem.out.println(accumulatedMap.get(&quot;entertainment_interest_f&quot;));\n</code></pre>\n"}],"owner":{"account_id":26332949,"reputation":3,"user_id":19993205,"display_name":"sticky fingers"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75289469,"answer_count":1,"score":0,"last_activity_date":1675108378,"creation_date":1675107155,"question_id":75289260,"body_markdown":"I have an input output like this. A maximum of three elements can come in the targetInfo in this output. I want to get the first three elements in it. So I want to print the **entertainment_interest_f, citizenship_s, tv_interest_f** variables and values to the screen. How can I do it?\r\n\r\n    \r\n\r\n    CollectiveInterestsRes(\r\n        \t\t\t\t\t\ttargetInfo=[{entertainment_interest_f=3.0}, {citizenship_s-&gt;America=3.0}, {tv_interest_f=3.0}],\r\n        \t\t\t\t\t\tmsisdnCount=3,\r\n        \t\t\t\t\t\tmsisdnList=[495012072622, 495012103468, 495012115405],\r\n        \t\t\t\t\t\tisSuccess=true,\r\n        \t\t\t\t\t\truleRequests=[RuleRequest(ruleId=tv, subruleId=null, locationRequest=null, operator=EQ, values=[1], msisdnRequest=null)]\r\n        \t\t\t\t\t)\r\n    \r\nClass content like this : \r\n    \r\n    public class CollectiveInterestsRes {\r\n            private List&lt;Map&lt;String,String&gt;&gt; targetInfo;\r\n        \r\n            private Integer gsmNoCount;\r\n            private List&lt;String&gt; gsmNoList;\r\n            private boolean isSuccess;\r\n            private List&lt;RuleRequest&gt; ruleRequests;\r\n        }\r\n\r\nI was able to break the method down so much, can you help me for more?\r\n\r\n    List&lt;Map&lt;String, String&gt;&gt; targetInfo = collectiveInterestsRes.get(0).getTargetInfo();\r\n","title":"How can I split the hashmap I have and get the information?","body":"<p>I have an input output like this. A maximum of three elements can come in the targetInfo in this output. I want to get the first three elements in it. So I want to print the <strong>entertainment_interest_f, citizenship_s, tv_interest_f</strong> variables and values to the screen. How can I do it?</p>\n<pre><code>CollectiveInterestsRes(\n                            targetInfo=[{entertainment_interest_f=3.0}, {citizenship_s-&gt;America=3.0}, {tv_interest_f=3.0}],\n                            msisdnCount=3,\n                            msisdnList=[495012072622, 495012103468, 495012115405],\n                            isSuccess=true,\n                            ruleRequests=[RuleRequest(ruleId=tv, subruleId=null, locationRequest=null, operator=EQ, values=[1], msisdnRequest=null)]\n                        )\n</code></pre>\n<p>Class content like this :</p>\n<pre><code>public class CollectiveInterestsRes {\n        private List&lt;Map&lt;String,String&gt;&gt; targetInfo;\n    \n        private Integer gsmNoCount;\n        private List&lt;String&gt; gsmNoList;\n        private boolean isSuccess;\n        private List&lt;RuleRequest&gt; ruleRequests;\n    }\n</code></pre>\n<p>I was able to break the method down so much, can you help me for more?</p>\n<pre><code>List&lt;Map&lt;String, String&gt;&gt; targetInfo = collectiveInterestsRes.get(0).getTargetInfo();\n</code></pre>\n"},{"tags":["java","spring-mvc","design-patterns"],"comments":[{"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"score":0,"creation_date":1675109213,"post_id":75289391,"comment_id":132854103,"body_markdown":"But how are you going to process this address - let say that you will keep somehow list of addresses in one string (&quot;address1,address2,address3&quot;) then what should e.g. printAddress() method do? Technically what you are trying to do is quite easy (just create some kind of facade that will keep this string/list sorted out) but business logic anyway will change a lot!","body":"But how are you going to process this address - let say that you will keep somehow list of addresses in one string (&quot;address1,address2,address3&quot;) then what should e.g. printAddress() method do? Technically what you are trying to do is quite easy (just create some kind of facade that will keep this string/list sorted out) but business logic anyway will change a lot!"},{"owner":{"account_id":25290010,"reputation":37,"user_id":19116298,"display_name":"Sachi97"},"score":0,"creation_date":1675189825,"post_id":75289391,"comment_id":132873978,"body_markdown":"I would capture the address list and store into DB. I know technically its too easy but  wanted it to happen without much change in business logic. I was hoping to have kind of bridge design pattern where in two classes compliment each other","body":"I would capture the address list and store into DB. I know technically its too easy but  wanted it to happen without much change in business logic. I was hoping to have kind of bridge design pattern where in two classes compliment each other"}],"owner":{"account_id":25290010,"reputation":37,"user_id":19116298,"display_name":"Sachi97"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675108341,"creation_date":1675107938,"question_id":75289391,"body_markdown":"I have request class implemented with more than 20 variables like below\r\n```\r\nClass A {\r\n    private String name;\r\n    private String address;\r\n    ....\r\n}\r\n```\r\nNow I want to make address field as List&lt;String&gt; address in the request How can I achieve this without affecting any other objects/methods/classes which are almost tightly coupled to this.\r\n\r\nI tried to replicate same thing in different new class by adding List of String for address. Which includes lot of changes too, I am afraid code is already in production and I don&#39;t want other things get affected.","title":"Conversion of Object to List of Object in a Request POJO Class(JAVA)","body":"<p>I have request class implemented with more than 20 variables like below</p>\n<pre><code>Class A {\n    private String name;\n    private String address;\n    ....\n}\n</code></pre>\n<p>Now I want to make address field as List address in the request How can I achieve this without affecting any other objects/methods/classes which are almost tightly coupled to this.</p>\n<p>I tried to replicate same thing in different new class by adding List of String for address. Which includes lot of changes too, I am afraid code is already in production and I don't want other things get affected.</p>\n"},{"tags":["java","swing","user-interface","jframe"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1675106195,"post_id":75289047,"comment_id":132853284,"body_markdown":"You will probably want to distribute or simply run your application from JAR file, in which case it is better if you learn how to load *resources*. Related: [Loading resources like images while running project distributed as JAR archive](https://stackoverflow.com/q/9864267) (accepted answer there seems to also have info about IntelliJ settings for this)","body":"You will probably want to distribute or simply run your application from JAR file, in which case it is better if you learn how to load <i>resources</i>. Related: <a href=\"https://stackoverflow.com/q/9864267\">Loading resources like images while running project distributed as JAR archive</a> (accepted answer there seems to also have info about IntelliJ settings for this)"},{"owner":{"account_id":27621807,"reputation":1,"user_id":21082683,"display_name":"N Ib"},"score":0,"creation_date":1675106803,"post_id":75289047,"comment_id":132853447,"body_markdown":"thanks, i checked the link you provided and fixed it.","body":"thanks, i checked the link you provided and fixed it."}],"answers":[{"tags":[],"owner":{"account_id":27621807,"reputation":1,"user_id":21082683,"display_name":"N Ib"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675108196,"creation_date":1675106683,"answer_id":75289187,"question_id":75289047,"body_markdown":" \r\n\r\n    BufferedImage image = null;\r\n    try {\r\n            image = ImageIO.read(Objects.requireNonNull(Main.class.getResource(&quot;CurrencyExchange.png&quot;)));\r\n        }\r\n        catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        Frame1.setIconImage(image);\r\n\r\n","title":"I&#39;m attempting to change the image Icon in my JFrame but it&#39;s not working, how can I fix it?","body":"<pre><code>BufferedImage image = null;\ntry {\n        image = ImageIO.read(Objects.requireNonNull(Main.class.getResource(&quot;CurrencyExchange.png&quot;)));\n    }\n    catch (IOException e) {\n        e.printStackTrace();\n    }\n    Frame1.setIconImage(image);\n</code></pre>\n"}],"owner":{"account_id":27621807,"reputation":1,"user_id":21082683,"display_name":"N Ib"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675108196,"creation_date":1675105796,"question_id":75289047,"body_markdown":"I&#39;m new to using GUI in java;\r\nI&#39;m trying to change the Image Icon for my Project but I don&#39;t know why it&#39;s not working.\r\nI&#39;m using IntelliJ for this, I moved the image(CurrencyExchange.png) for the Icon to the &quot;src&quot; Folder in my Project.\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\n\r\npublic class main {\r\n\r\n    public static void main(String[] args){\r\n\r\n        JFrame Frame1 = new JFrame();\r\n\r\n        Frame1.getContentPane().setBackground(new Color(0x123456));\r\n        Frame1.setTitle(&quot;Currency Changer&quot;);\r\n        Frame1.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        Frame1.setSize(500,500);\r\n        Frame1.setResizable(false);\r\n        Frame1.setLocation(430,100);\r\n        Frame1.setVisible(true);\r\n\r\n        ImageIcon image = new ImageIcon(&quot;CurrencyExchange.png&quot;);\r\n        Frame1.setIconImage(image.getImage());\r\n\r\n    }\r\n}\r\n```","title":"I&#39;m attempting to change the image Icon in my JFrame but it&#39;s not working, how can I fix it?","body":"<p>I'm new to using GUI in java;\nI'm trying to change the Image Icon for my Project but I don't know why it's not working.\nI'm using IntelliJ for this, I moved the image(CurrencyExchange.png) for the Icon to the &quot;src&quot; Folder in my Project.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\n\npublic class main {\n\n    public static void main(String[] args){\n\n        JFrame Frame1 = new JFrame();\n\n        Frame1.getContentPane().setBackground(new Color(0x123456));\n        Frame1.setTitle(&quot;Currency Changer&quot;);\n        Frame1.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        Frame1.setSize(500,500);\n        Frame1.setResizable(false);\n        Frame1.setLocation(430,100);\n        Frame1.setVisible(true);\n\n        ImageIcon image = new ImageIcon(&quot;CurrencyExchange.png&quot;);\n        Frame1.setIconImage(image.getImage());\n\n    }\n}\n</code></pre>\n"},{"tags":["java","jquery","ajax","spring-boot","forms"],"owner":{"account_id":25941237,"reputation":11,"user_id":19660722,"display_name":"Stundent12aw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675107828,"creation_date":1675107746,"question_id":75289362,"body_markdown":"I am trying to link my registration form to my backend but i get this error when trying.\r\nI am using java spring boot and jquery ajax.\r\n\r\n\r\nFailed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Long&#39;; For input string: &quot;users&quot;]\r\n\r\nmy users class\r\n```\r\n@Data\r\n@Entity\r\n//this will create Construct we don&#39;t need it but for learning\r\n\r\n\r\n\r\npublic class Users {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;user_id&quot;)\r\n    private long id;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String email;\r\n    private String password;\r\n    private String role;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;ShoppingBasket&gt; shoppingBasket;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;Orders&gt; orders;\r\n}\r\n\r\n```\r\n\r\nmy users service\r\n```\r\n@Service\r\npublic class UsersService {\r\n\r\n    private final UsersRepository userRepo;\r\n    public UsersService(UsersRepository userRepo) {\r\n        this.userRepo = userRepo;\r\n    }\r\n    public Users createUser(Users user) {\r\n        return userRepo.save(user);\r\n    }\r\n    public List&lt;Users&gt; getAllUsers() {\r\n        return userRepo.findAll();\r\n    }\r\n    public Users getUserById(Long id) {\r\n        return userRepo.findById(id).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;User&quot;, &quot;id&quot;, id));\r\n    }\r\n    public Users updateUser(Long id, Users userDetails) {\r\n        Users user = userRepo.findById(id).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;User&quot;, &quot;id&quot;, id));\r\n        user.setFirstName(userDetails.getFirstName());\r\n        user.setLastName(userDetails.getLastName());\r\n        user.setRole(userDetails.getRole());\r\n        return userRepo.save(user);\r\n    }\r\n    public void deleteUser(Long id) {\r\n        Users user = userRepo.findById(id).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;User&quot;, &quot;id&quot;, id));\r\n        userRepo.delete(user);\r\n    }\r\n}\r\n```\r\n\r\n\r\nmy users controller \r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/users&quot;)\r\npublic class UsersController {\r\n\r\n    @Autowired\r\n    private UsersService usersService;\r\n\r\n    @GetMapping\r\n    public List&lt;Users&gt; getAllUsers() {\r\n        return usersService.getAllUsers();\r\n    }\r\n\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public Users getUserById(@PathVariable Long id) {\r\n        return usersService.getUserById(id);\r\n    }\r\n\r\n\r\n    @PostMapping\r\n    public Users createUser(@RequestBody Users user) {\r\n\r\n        return usersService.createUser(user);\r\n    }\r\n\r\n\r\n\r\n    @PutMapping(&quot;/{id}&quot;)\r\n    public Users updateUser(@PathVariable Long id, @RequestBody Users user) {\r\n        return usersService.updateUser(id, user);\r\n    }\r\n\r\n    @DeleteMapping(&quot;/{id}&quot;)\r\n    public void deleteUser(@PathVariable Long id) {\r\n        usersService.deleteUser(id);\r\n    }\r\n}\r\n```\r\nand my Frontend \r\n\r\njs \r\n\r\n```\r\n$(&quot;#signup-form&quot;).submit(function (event) {\r\n    event.preventDefault();\r\n\r\n    var user = {\r\n        name: $(&quot;#name&quot;).val(),\r\n        email: $(&quot;#email&quot;).val(),\r\n        password: $(&quot;#password&quot;).val()\r\n    };\r\n\r\n    $.ajax({\r\n        type: &quot;POST&quot;,\r\n        url: &quot;http://localhost:8080/users&quot;,\r\n        contentType: &quot;application/json&quot;,\r\n        data: JSON.stringify(user),\r\n        success: function (data) {\r\n            console.log(&quot;User created successfully&quot;, data);\r\n        },\r\n        error: function (error) {\r\n            console.error(&quot;Error creating user&quot;, error);\r\n        }\r\n    });\r\n});\r\n\r\n\r\n```\r\n\r\nHtml\r\n\r\n\r\n```\r\n&lt;div class=&quot;container mt-5&quot;&gt;\r\n  &lt;h2&gt;Registration Form&lt;/h2&gt;\r\n  &lt;form action=&quot;http://localhost:8080/users/users&quot;&gt;\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n      &lt;label for=&quot;email&quot;&gt;Email address:&lt;/label&gt;\r\n      &lt;input type=&quot;email&quot; class=&quot;form-control&quot; id=&quot;email&quot;&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n      &lt;label for=&quot;firstName&quot;&gt;Firstname:&lt;/label&gt;\r\n      &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;firstName&quot;&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n      &lt;label for=&quot;lastName&quot;&gt;Lastname:&lt;/label&gt;\r\n      &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;lastName&quot;&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n      &lt;label for=&quot;password&quot;&gt;Password:&lt;/label&gt;\r\n      &lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;password&quot;&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n      &lt;label for=&quot;confirmPassword&quot;&gt;Confirm Password:&lt;/label&gt;\r\n      &lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;confirmPassword&quot;&gt;\r\n    &lt;/div&gt;\r\n    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Submit&lt;/button&gt;\r\n  &lt;/form&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\n\r\n\r\n\r\nI expect when I click on the submit button that the user is saved in my backend. the database is connected and is working.","title":"Adding the connections between frontend jquery ajax and backend spring boot user does not work","body":"<p>I am trying to link my registration form to my backend but i get this error when trying.\nI am using java spring boot and jquery ajax.</p>\n<p>Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: &quot;users&quot;]</p>\n<p>my users class</p>\n<pre><code>@Data\n@Entity\n//this will create Construct we don't need it but for learning\n\n\n\npublic class Users {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;user_id&quot;)\n    private long id;\n    private String firstName;\n    private String lastName;\n    private String email;\n    private String password;\n    private String role;\n\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\n    private List&lt;ShoppingBasket&gt; shoppingBasket;\n\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\n    private List&lt;Orders&gt; orders;\n}\n\n</code></pre>\n<p>my users service</p>\n<pre><code>@Service\npublic class UsersService {\n\n    private final UsersRepository userRepo;\n    public UsersService(UsersRepository userRepo) {\n        this.userRepo = userRepo;\n    }\n    public Users createUser(Users user) {\n        return userRepo.save(user);\n    }\n    public List&lt;Users&gt; getAllUsers() {\n        return userRepo.findAll();\n    }\n    public Users getUserById(Long id) {\n        return userRepo.findById(id).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;User&quot;, &quot;id&quot;, id));\n    }\n    public Users updateUser(Long id, Users userDetails) {\n        Users user = userRepo.findById(id).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;User&quot;, &quot;id&quot;, id));\n        user.setFirstName(userDetails.getFirstName());\n        user.setLastName(userDetails.getLastName());\n        user.setRole(userDetails.getRole());\n        return userRepo.save(user);\n    }\n    public void deleteUser(Long id) {\n        Users user = userRepo.findById(id).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;User&quot;, &quot;id&quot;, id));\n        userRepo.delete(user);\n    }\n}\n</code></pre>\n<p>my users controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/users&quot;)\npublic class UsersController {\n\n    @Autowired\n    private UsersService usersService;\n\n    @GetMapping\n    public List&lt;Users&gt; getAllUsers() {\n        return usersService.getAllUsers();\n    }\n\n\n    @GetMapping(&quot;/{id}&quot;)\n    public Users getUserById(@PathVariable Long id) {\n        return usersService.getUserById(id);\n    }\n\n\n    @PostMapping\n    public Users createUser(@RequestBody Users user) {\n\n        return usersService.createUser(user);\n    }\n\n\n\n    @PutMapping(&quot;/{id}&quot;)\n    public Users updateUser(@PathVariable Long id, @RequestBody Users user) {\n        return usersService.updateUser(id, user);\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public void deleteUser(@PathVariable Long id) {\n        usersService.deleteUser(id);\n    }\n}\n</code></pre>\n<p>and my Frontend</p>\n<p>js</p>\n<pre><code>$(&quot;#signup-form&quot;).submit(function (event) {\n    event.preventDefault();\n\n    var user = {\n        name: $(&quot;#name&quot;).val(),\n        email: $(&quot;#email&quot;).val(),\n        password: $(&quot;#password&quot;).val()\n    };\n\n    $.ajax({\n        type: &quot;POST&quot;,\n        url: &quot;http://localhost:8080/users&quot;,\n        contentType: &quot;application/json&quot;,\n        data: JSON.stringify(user),\n        success: function (data) {\n            console.log(&quot;User created successfully&quot;, data);\n        },\n        error: function (error) {\n            console.error(&quot;Error creating user&quot;, error);\n        }\n    });\n});\n\n\n</code></pre>\n<p>Html</p>\n<pre><code>&lt;div class=&quot;container mt-5&quot;&gt;\n  &lt;h2&gt;Registration Form&lt;/h2&gt;\n  &lt;form action=&quot;http://localhost:8080/users/users&quot;&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n      &lt;label for=&quot;email&quot;&gt;Email address:&lt;/label&gt;\n      &lt;input type=&quot;email&quot; class=&quot;form-control&quot; id=&quot;email&quot;&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n      &lt;label for=&quot;firstName&quot;&gt;Firstname:&lt;/label&gt;\n      &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;firstName&quot;&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n      &lt;label for=&quot;lastName&quot;&gt;Lastname:&lt;/label&gt;\n      &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;lastName&quot;&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n      &lt;label for=&quot;password&quot;&gt;Password:&lt;/label&gt;\n      &lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;password&quot;&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n      &lt;label for=&quot;confirmPassword&quot;&gt;Confirm Password:&lt;/label&gt;\n      &lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;confirmPassword&quot;&gt;\n    &lt;/div&gt;\n    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Submit&lt;/button&gt;\n  &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n<p>I expect when I click on the submit button that the user is saved in my backend. the database is connected and is working.</p>\n"},{"tags":["java","multithreading","printwriter"],"answers":[{"comments":[{"owner":{"account_id":18694319,"reputation":45,"user_id":13627988,"display_name":"Atrocitas"},"score":0,"creation_date":1675109090,"post_id":75289366,"comment_id":132854065,"body_markdown":"You&#39;re completely right about the useless thread creation and the &#39;out&#39; being public. I originally made it for something else and never realized i forgot to remove it. I just have a small question, you say that you should have one object handling coms, but my teachers have told me to make a clienthandler thread and a serverhandler thread for each connection, which is technically what i have (although i didnt post all of the code here). would this &quot;fix&quot; still be fine in that case?","body":"You&#39;re completely right about the useless thread creation and the &#39;out&#39; being public. I originally made it for something else and never realized i forgot to remove it. I just have a small question, you say that you should have one object handling coms, but my teachers have told me to make a clienthandler thread and a serverhandler thread for each connection, which is technically what i have (although i didnt post all of the code here). would this &quot;fix&quot; still be fine in that case?"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1675120293,"post_id":75289366,"comment_id":132856853,"body_markdown":"No. There should be 1 thread handling incoming server connections, then per active connection 2 threads (one for the outgoing traffic on that connection, and one for the incoming). You can use just 1 thread for connections in practice (it means you are forced to wait for the answer to any sent message before you can send another message, which adds some latency, but it simplifies things _a lot_ and often doesn&#39;t make much of an actual difference in performance).","body":"No. There should be 1 thread handling incoming server connections, then per active connection 2 threads (one for the outgoing traffic on that connection, and one for the incoming). You can use just 1 thread for connections in practice (it means you are forced to wait for the answer to any sent message before you can send another message, which adds some latency, but it simplifies things <i>a lot</i> and often doesn&#39;t make much of an actual difference in performance)."}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675107762,"creation_date":1675107762,"answer_id":75289366,"question_id":75289041,"body_markdown":"Starting a thread does not mean it is guaranteed to actually finish executing the first statement in its `run()` method before `start()` returns. In fact,\r\n\r\n* Usually it won&#39;t - starting a thread takes some time, and `start()` returns as soon as it can.\r\n* A JVM that runs a few statements in the thread you just started before `start()` returns is &#39;correct&#39; - that is fine. A JVM that doesn&#39;t is _also_ fine. Generally you don&#39;t want threads, because nothing is predictable anymore. At the very least you want to keep &#39;inter-thread comms&#39; down to a minimum. Anytime a single field is used from more than one thread, things get very tricky.\r\n\r\nWhat you need is `synchronized` or other tools to insert predictability in this code.\r\n\r\n## First, fix a bug\r\n\r\nYour ClientHandler&#39;s `run()` code starts _another_ thread for no reason. Take all that out, your `run()` method in ClientHandler should set up `out` and `in` and then immediately do `while (socket.isConnected())`\r\n\r\n## Synchronizing\r\n\r\nAt the very basic level, make a locker object and use notify/wait:\r\n\r\n```\r\nprivate final Object lock = new Object();\r\n@Override public void run() {\r\n  try {\r\n    synchronized (lock) {\r\n      out = ...;\r\n      in = ...;\r\n      lock.notifyAll();\r\n    }\r\n\r\n    while (socket.isConnected()) { ... }\r\n\r\n```\r\n\r\n`out` __definitely__ cannot be `public` here, you can&#39;t refer to a stream from multiple threads and expect things to work out!\r\n\r\nJust &#39;fixing&#39; your code involves then using something like:\r\n\r\n```\r\npublic OutputStream getOutputStream() {\r\n  synchronized (lock) {\r\n    while (out == null) {\r\n      lock.wait();\r\n    }\r\n  }\r\n  return out;\r\n}\r\n```\r\n\r\nWhich will ensure that any thread that wants the `out` will wait for the other thread to get far enough, but, really, this is just setting you up for another 20 threading problems down the line. Instead, you want one object responsibile for all communication (both outgoing and incoming), and a concurrency-capable queue (there are various collections in the `java.util.concurrent` package good for this). Then:\r\n\r\n* Any other threads that want to just send data dump their message in the queue.\r\n* You have either 1 thread doing all comms, or 2 (one doing incoming, and one doing outgoing), both dedicated. The outgoing one just loops forever, grabbing objects from the queue and sending them.\r\n* If a thread wants to send a message and wait for the response, you need to use `.wait()` or nicer API from e.g. java.util.concurrent, _or_, use callback hell - you pass a closure with the code to run once the result is received.\r\n","title":"NullPointerException for PrintWriter thats initialized in the run method of a thread","body":"<p>Starting a thread does not mean it is guaranteed to actually finish executing the first statement in its <code>run()</code> method before <code>start()</code> returns. In fact,</p>\n<ul>\n<li>Usually it won't - starting a thread takes some time, and <code>start()</code> returns as soon as it can.</li>\n<li>A JVM that runs a few statements in the thread you just started before <code>start()</code> returns is 'correct' - that is fine. A JVM that doesn't is <em>also</em> fine. Generally you don't want threads, because nothing is predictable anymore. At the very least you want to keep 'inter-thread comms' down to a minimum. Anytime a single field is used from more than one thread, things get very tricky.</li>\n</ul>\n<p>What you need is <code>synchronized</code> or other tools to insert predictability in this code.</p>\n<h2>First, fix a bug</h2>\n<p>Your ClientHandler's <code>run()</code> code starts <em>another</em> thread for no reason. Take all that out, your <code>run()</code> method in ClientHandler should set up <code>out</code> and <code>in</code> and then immediately do <code>while (socket.isConnected())</code></p>\n<h2>Synchronizing</h2>\n<p>At the very basic level, make a locker object and use notify/wait:</p>\n<pre><code>private final Object lock = new Object();\n@Override public void run() {\n  try {\n    synchronized (lock) {\n      out = ...;\n      in = ...;\n      lock.notifyAll();\n    }\n\n    while (socket.isConnected()) { ... }\n\n</code></pre>\n<p><code>out</code> <strong>definitely</strong> cannot be <code>public</code> here, you can't refer to a stream from multiple threads and expect things to work out!</p>\n<p>Just 'fixing' your code involves then using something like:</p>\n<pre><code>public OutputStream getOutputStream() {\n  synchronized (lock) {\n    while (out == null) {\n      lock.wait();\n    }\n  }\n  return out;\n}\n</code></pre>\n<p>Which will ensure that any thread that wants the <code>out</code> will wait for the other thread to get far enough, but, really, this is just setting you up for another 20 threading problems down the line. Instead, you want one object responsibile for all communication (both outgoing and incoming), and a concurrency-capable queue (there are various collections in the <code>java.util.concurrent</code> package good for this). Then:</p>\n<ul>\n<li>Any other threads that want to just send data dump their message in the queue.</li>\n<li>You have either 1 thread doing all comms, or 2 (one doing incoming, and one doing outgoing), both dedicated. The outgoing one just loops forever, grabbing objects from the queue and sending them.</li>\n<li>If a thread wants to send a message and wait for the response, you need to use <code>.wait()</code> or nicer API from e.g. java.util.concurrent, <em>or</em>, use callback hell - you pass a closure with the code to run once the result is received.</li>\n</ul>\n"}],"owner":{"account_id":18694319,"reputation":45,"user_id":13627988,"display_name":"Atrocitas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75289366,"answer_count":1,"score":1,"last_activity_date":1675107762,"creation_date":1675105749,"question_id":75289041,"body_markdown":"im making a networked game that has a server which creates a clientHandler thread every time a client joins. I want to ask the first client that joined if it wants to start the game every time a new client joins, giving it the current number of players connected. Writting through the clientHandlers printwritter gives a nullPointerException, even though ive started the thread before doing this. what could be the problem?\r\n\r\nHere is the server code: \r\n\r\n`public class Server implements Runnable{\r\n\r\n\r\n    private ArrayList&lt;ClientHandler&gt; handlers = new ArrayList&lt;&gt;();\r\n    private ArrayList&lt;Player&gt; players = new ArrayList&lt;&gt;();\r\n\r\n    private Game game;\r\n\r\n    private boolean start;\r\n\r\n\r\n    public static void main(String[] args) {\r\n        Server server = new Server();\r\n        Thread s = new Thread(server);\r\n        s.start();\r\n    }\r\n\r\n\r\n\r\n    public void login(String name){\r\n        //todo\r\n\r\n        for (ClientHandler c : handlers){\r\n            if (c.getName().equals(name)){\r\n                alreadyTaken(name);//todo\r\n            }\r\n            else{\r\n\r\n                players.add(new HumanPlayer(name,c));//todo\r\n            }\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    public void setStart(){\r\n        start = true;\r\n    }\r\n\r\n    private void alreadyTaken(String name) {\r\n\r\n\r\n\r\n    }\r\n\r\n    public void setTurn(ServerHandler sh){\r\n        //todo\r\n    }\r\n\r\n    public void updateView(){\r\n\r\n\r\n    }\r\n\r\n    public String hello() {\r\n        return &quot;Hello&quot;; //?\r\n    }\r\n\r\n    public void place(String s){\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void run() {\r\n\r\n        ServerSocket serverSocket;\r\n        try {\r\n            serverSocket = new ServerSocket(1800);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        System.out.println(&quot;----Server----&quot;);\r\n\r\n            while (!serverSocket.isClosed()) {\r\n\r\n                try {\r\n                    Socket socket = serverSocket.accept();\r\n                    ClientHandler handler = new ClientHandler(socket,handlers,this);\r\n                    handlers.add(handler);\r\n                    Thread h = new Thread(handler);\r\n                    h.start();\r\n\r\n                    System.out.println(&quot;A new client has connected&quot;);\r\n                    System.out.println(handlers.get(0));\r\n                    handlers.get(0).out.println(&quot;START? &quot;+ handlers.size());\r\n\r\n                    if (start){\r\n                        System.out.println(&quot;start request works&quot;);\r\n                    }\r\n\r\n\r\n\r\n                } catch (IOException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n\r\n\r\n\r\n\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n`\r\n\r\n\r\n\r\nAnd here&#39;s the client handler code:\r\n\r\n`public class ClientHandler implements Runnable{\r\n\r\n\r\n    private Socket socket;\r\n\r\n    private ArrayList&lt;ClientHandler&gt; handlers;\r\n    private Server server;\r\n\r\n    public PrintWriter out;\r\n\r\n    private BufferedReader in;\r\n\r\n    private String name;\r\n\r\n\r\n\r\n\r\n    public ClientHandler(Socket socket, ArrayList&lt;ClientHandler&gt; handlers, Server server){\r\n\r\n        this.socket = socket;\r\n        this.handlers = handlers;\r\n        this.server = server;\r\n\r\n\r\n    }\r\n\r\n    public void broadcastMessage(String msg){\r\n\r\n        System.out.println(&quot;Broadcasting&quot;);\r\n\r\n        for (ClientHandler s : this.handlers){\r\n            s.out.println(&quot;Player: &quot; + msg);\r\n\r\n        }\r\n\r\n    }\r\n\r\n    public static String removePrefix(String s, String prefix)\r\n    {\r\n        if (s != null &amp;&amp; s.startsWith(prefix)) {\r\n            return s.split(prefix, 2)[1];\r\n        }\r\n        return s;\r\n    }\r\n\r\n\r\n\r\n\r\n    public String getName(){\r\n        return name;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    @Override\r\n    public void run() {\r\n\r\n        try {\r\n\r\n            out = new PrintWriter(new OutputStreamWriter(socket.getOutputStream()),true);\r\n            in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n\r\n\r\n            new Thread(() -&gt; {\r\n                while(socket.isConnected()){\r\n                    String msg;\r\n                    try {\r\n                        msg = in.readLine();\r\n\r\n                        while(msg!=null){\r\n\r\n                            switch (msg.split(&quot; &quot;)[0]){\r\n                                case &quot;LOGIN&quot;:\r\n                                    name = removePrefix(msg,&quot;LOGIN &quot;);\r\n                                    server.login(name);//todo\r\n                                    break;\r\n                                case &quot;HELLO&quot;:\r\n                                    server.hello();//todo\r\n                                    break;\r\n                                case &quot;PLACE&quot;:\r\n                                    server.place(removePrefix(msg,&quot;PLACE &quot;));\r\n                                    break;\r\n                                case &quot;QUIT&quot;:\r\n                                    //todo\r\n                                    break;\r\n                                case &quot;STOP&quot;:\r\n                                    //todo\r\n                                    break;\r\n                                case &quot;START&quot;:\r\n                                    server.setStart();\r\n                                default:\r\n                                    broadcastMessage(msg);\r\n                                    break;\r\n                            }\r\n\r\n\r\n\r\n                            msg = in.readLine();\r\n                        }\r\n                    } catch (IOException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            }).start();\r\n\r\n\r\n\r\n\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n\r\n    }\r\n\r\n}`\r\n\r\nI tried making a method in the client handler class which does the same thing. The server would just call that instead of writting directing through the PrintWriter, but i got the same error.","title":"NullPointerException for PrintWriter thats initialized in the run method of a thread","body":"<p>im making a networked game that has a server which creates a clientHandler thread every time a client joins. I want to ask the first client that joined if it wants to start the game every time a new client joins, giving it the current number of players connected. Writting through the clientHandlers printwritter gives a nullPointerException, even though ive started the thread before doing this. what could be the problem?</p>\n<p>Here is the server code:</p>\n<p>`public class Server implements Runnable{</p>\n<pre><code>private ArrayList&lt;ClientHandler&gt; handlers = new ArrayList&lt;&gt;();\nprivate ArrayList&lt;Player&gt; players = new ArrayList&lt;&gt;();\n\nprivate Game game;\n\nprivate boolean start;\n\n\npublic static void main(String[] args) {\n    Server server = new Server();\n    Thread s = new Thread(server);\n    s.start();\n}\n\n\n\npublic void login(String name){\n    //todo\n\n    for (ClientHandler c : handlers){\n        if (c.getName().equals(name)){\n            alreadyTaken(name);//todo\n        }\n        else{\n\n            players.add(new HumanPlayer(name,c));//todo\n        }\n    }\n\n\n\n}\n\npublic void setStart(){\n    start = true;\n}\n\nprivate void alreadyTaken(String name) {\n\n\n\n}\n\npublic void setTurn(ServerHandler sh){\n    //todo\n}\n\npublic void updateView(){\n\n\n}\n\npublic String hello() {\n    return &quot;Hello&quot;; //?\n}\n\npublic void place(String s){\n\n}\n\n\n@Override\npublic void run() {\n\n    ServerSocket serverSocket;\n    try {\n        serverSocket = new ServerSocket(1800);\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n    System.out.println(&quot;----Server----&quot;);\n\n        while (!serverSocket.isClosed()) {\n\n            try {\n                Socket socket = serverSocket.accept();\n                ClientHandler handler = new ClientHandler(socket,handlers,this);\n                handlers.add(handler);\n                Thread h = new Thread(handler);\n                h.start();\n\n                System.out.println(&quot;A new client has connected&quot;);\n                System.out.println(handlers.get(0));\n                handlers.get(0).out.println(&quot;START? &quot;+ handlers.size());\n\n                if (start){\n                    System.out.println(&quot;start request works&quot;);\n                }\n\n\n\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n\n\n\n\n        }\n\n\n\n\n\n\n}\n</code></pre>\n<p>}</p>\n<p>`</p>\n<p>And here's the client handler code:</p>\n<p>`public class ClientHandler implements Runnable{</p>\n<pre><code>private Socket socket;\n\nprivate ArrayList&lt;ClientHandler&gt; handlers;\nprivate Server server;\n\npublic PrintWriter out;\n\nprivate BufferedReader in;\n\nprivate String name;\n\n\n\n\npublic ClientHandler(Socket socket, ArrayList&lt;ClientHandler&gt; handlers, Server server){\n\n    this.socket = socket;\n    this.handlers = handlers;\n    this.server = server;\n\n\n}\n\npublic void broadcastMessage(String msg){\n\n    System.out.println(&quot;Broadcasting&quot;);\n\n    for (ClientHandler s : this.handlers){\n        s.out.println(&quot;Player: &quot; + msg);\n\n    }\n\n}\n\npublic static String removePrefix(String s, String prefix)\n{\n    if (s != null &amp;&amp; s.startsWith(prefix)) {\n        return s.split(prefix, 2)[1];\n    }\n    return s;\n}\n\n\n\n\npublic String getName(){\n    return name;\n}\n\n\n\n\n\n@Override\npublic void run() {\n\n    try {\n\n        out = new PrintWriter(new OutputStreamWriter(socket.getOutputStream()),true);\n        in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n\n\n        new Thread(() -&gt; {\n            while(socket.isConnected()){\n                String msg;\n                try {\n                    msg = in.readLine();\n\n                    while(msg!=null){\n\n                        switch (msg.split(&quot; &quot;)[0]){\n                            case &quot;LOGIN&quot;:\n                                name = removePrefix(msg,&quot;LOGIN &quot;);\n                                server.login(name);//todo\n                                break;\n                            case &quot;HELLO&quot;:\n                                server.hello();//todo\n                                break;\n                            case &quot;PLACE&quot;:\n                                server.place(removePrefix(msg,&quot;PLACE &quot;));\n                                break;\n                            case &quot;QUIT&quot;:\n                                //todo\n                                break;\n                            case &quot;STOP&quot;:\n                                //todo\n                                break;\n                            case &quot;START&quot;:\n                                server.setStart();\n                            default:\n                                broadcastMessage(msg);\n                                break;\n                        }\n\n\n\n                        msg = in.readLine();\n                    }\n                } catch (IOException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        }).start();\n\n\n\n\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n\n\n}\n</code></pre>\n<p>}`</p>\n<p>I tried making a method in the client handler class which does the same thing. The server would just call that instead of writting directing through the PrintWriter, but i got the same error.</p>\n"},{"tags":["java","spring","multithreading","spring-boot","tomcat"],"owner":{"account_id":23275440,"reputation":1,"user_id":17359669,"display_name":"pbale"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675107699,"creation_date":1675107699,"question_id":75289348,"body_markdown":"I have a Springboot application with JSP as views, that needs to be deployed on AWS ECS Fargate. Since I have jsp&#39;s, I am building a war to be deployed. once the application is deployed on ECS Fargate, it throws WARNING of memory leak and shutdowns and restarts by itself. This has been happening a lot. I am not able to understand is it due to the infrastructure setup on AWS or the applications itself is having issues. \r\n\r\n(versions: springboot3, springboot oauth2, tomcat 10)\r\n\r\nHere are the logs. \r\n\r\n```\r\nWARNING [Thread-4] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [ROOT] appears to have started a thread named [BufferPoolPruner-1-thread-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\njava.base@17.0.6/jdk.internal.misc.Unsafe.park(Native Method)\r\njava.base@17.0.6/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252) java.base@17.0.6/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)  java.base@17.0.6/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)  java.base@17.0.6/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)  java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062) java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122) java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\njava.base@17.0.6/java.lang.Thread.run(Thread.java:833)\r\nSEVERE [Thread-4] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [ROOT] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@633cc9aa]) and a value of type [io.netty.util.internal.InternalThreadLocalMap] (value [io.netty.util.internal.InternalThreadLocalMap@2231edd9]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\nSEVERE [Thread-4] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [ROOT] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@633cc9aa]) and a value of type [io.netty.util.internal.InternalThreadLocalMap] (value [io.netty.util.internal.InternalThreadLocalMap@19e597e1]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n\r\nSEVERE [Thread-4] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [ROOT] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@633cc9aa]) and a value of type [io.netty.util.internal.InternalThreadLocalMap] (value [io.netty.util.internal.InternalThreadLocalMap@69213e86]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\nSEVERE [Thread-4] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [ROOT] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@633cc9aa]) and a value of type [io.netty.util.internal.InternalThreadLocalMap] (value [io.netty.util.internal.InternalThreadLocalMap@5ccee6dc]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n\r\nSEVERE [Thread-4] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [ROOT] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@633cc9aa]) and a value of type [io.netty.util.internal.InternalThreadLocalMap] (value [io.netty.util.internal.InternalThreadLocalMap@4b2f07b7]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n\r\nINFO [Thread-4] org.apache.coyote.AbstractProtocol.stop Stopping ProtocolHandler [&quot;http-nio-8081&quot;]\r\nINFO [Thread-4] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler [&quot;http-nio-8081&quot;]\r\n\r\n```\r\n\r\nDockerfile\r\n\r\n```\r\nFROM tomcat:latest\r\n#COPY src/main/resources/server.xml ${CATALINA_HOME}/conf/server.xml\r\n#permanently change tomcat port from 8080 to 8081\r\nRUN sed -i &#39;s/port=&quot;8080&quot;/port=&quot;8081&quot;/&#39; ${CATALINA_HOME}/conf/server.xml\r\nRUN rm -rf /usr/local/tomcat/webapps/*\r\nCOPY target/xxx-webapp-0.0.1-SNAPSHOT.war /usr/local/tomcat/webapps/ROOT.war\r\n\r\nENTRYPOINT [&quot;catalina.sh&quot;, &quot;run&quot;]\r\n\r\n```\r\n\r\nThanks,\r\npbale","title":"springboot application shuts down and restarts automatically on ECS Fargate","body":"<p>I have a Springboot application with JSP as views, that needs to be deployed on AWS ECS Fargate. Since I have jsp's, I am building a war to be deployed. once the application is deployed on ECS Fargate, it throws WARNING of memory leak and shutdowns and restarts by itself. This has been happening a lot. I am not able to understand is it due to the infrastructure setup on AWS or the applications itself is having issues.</p>\n<p>(versions: springboot3, springboot oauth2, tomcat 10)</p>\n<p>Here are the logs.</p>\n<pre><code>WARNING [Thread-4] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [ROOT] appears to have started a thread named [BufferPoolPruner-1-thread-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\njava.base@17.0.6/jdk.internal.misc.Unsafe.park(Native Method)\njava.base@17.0.6/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252) java.base@17.0.6/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)  java.base@17.0.6/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)  java.base@17.0.6/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)  java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062) java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122) java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\njava.base@17.0.6/java.lang.Thread.run(Thread.java:833)\nSEVERE [Thread-4] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [ROOT] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@633cc9aa]) and a value of type [io.netty.util.internal.InternalThreadLocalMap] (value [io.netty.util.internal.InternalThreadLocalMap@2231edd9]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\nSEVERE [Thread-4] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [ROOT] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@633cc9aa]) and a value of type [io.netty.util.internal.InternalThreadLocalMap] (value [io.netty.util.internal.InternalThreadLocalMap@19e597e1]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n\nSEVERE [Thread-4] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [ROOT] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@633cc9aa]) and a value of type [io.netty.util.internal.InternalThreadLocalMap] (value [io.netty.util.internal.InternalThreadLocalMap@69213e86]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\nSEVERE [Thread-4] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [ROOT] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@633cc9aa]) and a value of type [io.netty.util.internal.InternalThreadLocalMap] (value [io.netty.util.internal.InternalThreadLocalMap@5ccee6dc]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n\nSEVERE [Thread-4] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [ROOT] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@633cc9aa]) and a value of type [io.netty.util.internal.InternalThreadLocalMap] (value [io.netty.util.internal.InternalThreadLocalMap@4b2f07b7]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n\nINFO [Thread-4] org.apache.coyote.AbstractProtocol.stop Stopping ProtocolHandler [&quot;http-nio-8081&quot;]\nINFO [Thread-4] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler [&quot;http-nio-8081&quot;]\n\n</code></pre>\n<p>Dockerfile</p>\n<pre><code>FROM tomcat:latest\n#COPY src/main/resources/server.xml ${CATALINA_HOME}/conf/server.xml\n#permanently change tomcat port from 8080 to 8081\nRUN sed -i 's/port=&quot;8080&quot;/port=&quot;8081&quot;/' ${CATALINA_HOME}/conf/server.xml\nRUN rm -rf /usr/local/tomcat/webapps/*\nCOPY target/xxx-webapp-0.0.1-SNAPSHOT.war /usr/local/tomcat/webapps/ROOT.war\n\nENTRYPOINT [&quot;catalina.sh&quot;, &quot;run&quot;]\n\n</code></pre>\n<p>Thanks,\npbale</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1675110628,"post_id":75289339,"comment_id":132854528,"body_markdown":"Key events are delivered to the `Node` that has focus. Most likely your `mainPane` is not focusednor are any of its (non-existent) descendantsthus no key events reach it. You could add a `mainPane.requestFocus()` call in the `onMouseClicked` method. After clicking on the pane once, it should start to get key-pressed events. I would say put it in the `initialize` method, but I believe `requestFocus` only works once a `Node` is part of a `Scene`, and the `initialize` method will be called before that&#39;s true.","body":"Key events are delivered to the <code>Node</code> that has focus. Most likely your <code>mainPane</code> is not focusednor are any of its (non-existent) descendantsthus no key events reach it. You could add a <code>mainPane.requestFocus()</code> call in the <code>onMouseClicked</code> method. After clicking on the pane once, it should start to get key-pressed events. I would say put it in the <code>initialize</code> method, but I believe <code>requestFocus</code> only works once a <code>Node</code> is part of a <code>Scene</code>, and the <code>initialize</code> method will be called before that&#39;s true."},{"owner":{"account_id":12602332,"reputation":478,"user_id":10146626,"display_name":"Mostafa Ayaz"},"score":0,"creation_date":1675112180,"post_id":75289339,"comment_id":132854949,"body_markdown":"Thank you. It worked. So, I guess I need to add the requestFocus() method to any other Node&#39;s MouseEventHandler to capture the focus first and then handle the KeyEvent (e.g. when there is another Pane I wish to capture a KeyEvent).","body":"Thank you. It worked. So, I guess I need to add the requestFocus() method to any other Node&#39;s MouseEventHandler to capture the focus first and then handle the KeyEvent (e.g. when there is another Pane I wish to capture a KeyEvent)."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1675112426,"post_id":75289339,"comment_id":132855016,"body_markdown":"Yes. Or add some other way to request the focus (e.g., react to `mainPane` becoming part of a `Scene` by then calling `requestFocus()`). It depends on how you want the flow of your application to work. But you can see in the implementations of e.g., `TextField` that it requests the focus when it is clicked (among other mechanisms, e.g., &quot;tabbing&quot; though the focus-traversable nodes). Note you might want to style your nodes differently when they have the focus, so that your users have some kind of indication.","body":"Yes. Or add some other way to request the focus (e.g., react to <code>mainPane</code> becoming part of a <code>Scene</code> by then calling <code>requestFocus()</code>). It depends on how you want the flow of your application to work. But you can see in the implementations of e.g., <code>TextField</code> that it requests the focus when it is clicked (among other mechanisms, e.g., &quot;tabbing&quot; though the focus-traversable nodes). Note you might want to style your nodes differently when they have the focus, so that your users have some kind of indication."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1675112582,"post_id":75289339,"comment_id":132855055,"body_markdown":"As noted in the second example you cited, adding a button produced the effect described by @Slaw.","body":"As noted in the second example you cited, adding a button produced the effect described by @Slaw."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1675113545,"post_id":75289339,"comment_id":132855307,"body_markdown":"If you always want to be notified when a key a pressed, you can do that by an event *filter* on the scene.  Then you will receive the event, whenever the window is focused and a key is pressed, regardless of what is focused or not in the scene.  That is a different approach than you are using, just providing extra info for context, ignore if irrelevant.","body":"If you always want to be notified when a key a pressed, you can do that by an event <i>filter</i> on the scene.  Then you will receive the event, whenever the window is focused and a key is pressed, regardless of what is focused or not in the scene.  That is a different approach than you are using, just providing extra info for context, ignore if irrelevant."}],"owner":{"account_id":12602332,"reputation":478,"user_id":10146626,"display_name":"Mostafa Ayaz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1675107618,"creation_date":1675107618,"question_id":75289339,"body_markdown":"I have problems catching the KeyEvent when pressing down a key on the application pane. The files structures are as follows:\r\n\r\n**ApplicationStarter.java**\r\n\r\n    package appdemo;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class ApplicationStarter extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            FXMLLoader fxmlLoader = new FXMLLoader(ApplicationStarter.class.getResource(&quot;GUI.fxml&quot;));\r\n            Scene scene = new Scene(fxmlLoader.load(), 320, 240);\r\n            stage.setTitle(&quot;Rock N&#39; Roll&quot;);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n**ApplicationControllerClass.java**\r\n\r\n    package appdemo;\r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.input.*;\r\n    import javafx.scene.layout.Pane;\r\n    \r\n    public class ApplicationControllerClass {\r\n    \r\n        @FXML\r\n        private Pane mainPane;\r\n    \r\n        @FXML\r\n        void initialize(){\r\n        }\r\n    \r\n        @FXML\r\n        void onKeyPressed(KeyEvent event) {\r\n            System.out.println(&quot;Key pressed on pane!&quot;);\r\n        }\r\n    \r\n        @FXML\r\n        void onMouseClicked(MouseEvent event) {\r\n            System.out.println(&quot;Mouse clicked on pane!&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n**GUI.fxml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.layout.Pane?&gt;\r\n    \r\n    \r\n    &lt;Pane fx:id=&quot;mainPane&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; onKeyPressed=&quot;#onKeyPressed&quot; onMouseClicked=&quot;#onMouseClicked&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;appdemo.ApplicationControllerClass&quot; /&gt;.\r\n\r\nIn ApplicationControllerClass.java, there two methods for printing the events of mouse clicking and key pressing on the console. When I run the application, the mouse clicking event prints without problem when I click on the mainPane, whereas the key pressing event does not when I press a key on mainPane.\r\n\r\nAm I missing something? Does the method OnKeyPressed in ApplicationControllerClass.java actually catch the event?\r\n\r\n**Addendum**\r\n\r\nI also checked [here][1] and [here][2], but could not find any upvoted, accepted or relevant answer. The problem with the current answers is that they bind an event handler method to an element in the controller class, while I wish to do this binding in GUI.fxml, as is the current case.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/52423652/how-to-use-onkeypressed-in-javafx-scene-builder\r\n  [2]: https://stackoverflow.com/questions/58936275/javafx-scene-builder-arrow-keys-onkeypressed","title":"onKeyPressed not working for pane at javafx (Scene Builder used for creating the GUI)","body":"<p>I have problems catching the KeyEvent when pressing down a key on the application pane. The files structures are as follows:</p>\n<p><strong>ApplicationStarter.java</strong></p>\n<pre><code>package appdemo;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class ApplicationStarter extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(ApplicationStarter.class.getResource(&quot;GUI.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), 320, 240);\n        stage.setTitle(&quot;Rock N' Roll&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p><strong>ApplicationControllerClass.java</strong></p>\n<pre><code>package appdemo;\nimport javafx.fxml.FXML;\nimport javafx.scene.input.*;\nimport javafx.scene.layout.Pane;\n\npublic class ApplicationControllerClass {\n\n    @FXML\n    private Pane mainPane;\n\n    @FXML\n    void initialize(){\n    }\n\n    @FXML\n    void onKeyPressed(KeyEvent event) {\n        System.out.println(&quot;Key pressed on pane!&quot;);\n    }\n\n    @FXML\n    void onMouseClicked(MouseEvent event) {\n        System.out.println(&quot;Mouse clicked on pane!&quot;);\n    }\n\n}\n</code></pre>\n<p><strong>GUI.fxml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.layout.Pane?&gt;\n\n\n&lt;Pane fx:id=&quot;mainPane&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; onKeyPressed=&quot;#onKeyPressed&quot; onMouseClicked=&quot;#onMouseClicked&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;appdemo.ApplicationControllerClass&quot; /&gt;.\n</code></pre>\n<p>In ApplicationControllerClass.java, there two methods for printing the events of mouse clicking and key pressing on the console. When I run the application, the mouse clicking event prints without problem when I click on the mainPane, whereas the key pressing event does not when I press a key on mainPane.</p>\n<p>Am I missing something? Does the method OnKeyPressed in ApplicationControllerClass.java actually catch the event?</p>\n<p><strong>Addendum</strong></p>\n<p>I also checked <a href=\"https://stackoverflow.com/questions/52423652/how-to-use-onkeypressed-in-javafx-scene-builder\">here</a> and <a href=\"https://stackoverflow.com/questions/58936275/javafx-scene-builder-arrow-keys-onkeypressed\">here</a>, but could not find any upvoted, accepted or relevant answer. The problem with the current answers is that they bind an event handler method to an element in the controller class, while I wish to do this binding in GUI.fxml, as is the current case.</p>\n"},{"tags":["java","oracle","spring-boot","rest","spring-aspects"],"owner":{"account_id":11976502,"reputation":420,"user_id":14686302,"display_name":"kernel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675107502,"creation_date":1675107502,"question_id":75289319,"body_markdown":"Some of my Response are kept as ResponseEntity and some as String. How should I write to the database and how should I read it? What is the best solution?\r\n\r\n**Example response**\r\n1. `ResponseEntity&lt;User&gt;`\r\n2. `String`\r\n\r\n**Entity response field**\r\n\r\n    @Column(name = &quot;RESPONSE&quot;)\r\n    @Lob\r\n    @Type(type = &quot;org.hibernate.type.TextType&quot;)\r\n    private String response;\r\n\r\n\r\n**Oracle db response column**\r\n\r\n    field name: response  datatype: CLOB\r\n\r\nI will intervene with aspects and return the response in the database when necessary.\r\n\r\n \r\n\r\n       @Around(&quot;isHas()&quot;)\r\n        public Object aroundExecution(final ProceedingJoinPoint pjp) throws Throwable {\r\n            Object proceed = pjp.proceed();\r\n            UserLog userLog =userUtil.getUserLogByUsername(&quot;tommy&quot;);\r\n            if (userLog != null) {\r\n                return userLog.getResponse();\r\n            } else {\r\n                return proceed;\r\n            }\r\n        }\r\n\r\nHow can I solve?\r\n","title":"Save Response(Json or String) to Database and Read it again","body":"<p>Some of my Response are kept as ResponseEntity and some as String. How should I write to the database and how should I read it? What is the best solution?</p>\n<p><strong>Example response</strong></p>\n<ol>\n<li><code>ResponseEntity&lt;User&gt;</code></li>\n<li><code>String</code></li>\n</ol>\n<p><strong>Entity response field</strong></p>\n<pre><code>@Column(name = &quot;RESPONSE&quot;)\n@Lob\n@Type(type = &quot;org.hibernate.type.TextType&quot;)\nprivate String response;\n</code></pre>\n<p><strong>Oracle db response column</strong></p>\n<pre><code>field name: response  datatype: CLOB\n</code></pre>\n<p>I will intervene with aspects and return the response in the database when necessary.</p>\n<pre><code>   @Around(&quot;isHas()&quot;)\n    public Object aroundExecution(final ProceedingJoinPoint pjp) throws Throwable {\n        Object proceed = pjp.proceed();\n        UserLog userLog =userUtil.getUserLogByUsername(&quot;tommy&quot;);\n        if (userLog != null) {\n            return userLog.getResponse();\n        } else {\n            return proceed;\n        }\n    }\n</code></pre>\n<p>How can I solve?</p>\n"},{"tags":["java","swing","javabeans"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1675107331,"post_id":75289241,"comment_id":132853574,"body_markdown":"You&#39;re adding the BlueRectangleBean to a JPanel which by default uses a FlowLayout. FlowLayouts, and in fact *most* layouts don&#39;t respect a component&#39;s size but rather its preferred size. So one solution is to call `setPreferredSize(...)` on the BlueRectangleBean. Better would be to set the JPanel container&#39;s layout to BorderLayout, getting rid of `setSize(...)` and let the BlueRectangleBean fill up the JPanel. Either that or add the BlueRectangleBean directly to the JFrame&#39;s contentPane which also uses BorderLayout.","body":"You&#39;re adding the BlueRectangleBean to a JPanel which by default uses a FlowLayout. FlowLayouts, and in fact <i>most</i> layouts don&#39;t respect a component&#39;s size but rather its preferred size. So one solution is to call <code>setPreferredSize(...)</code> on the BlueRectangleBean. Better would be to set the JPanel container&#39;s layout to BorderLayout, getting rid of <code>setSize(...)</code> and let the BlueRectangleBean fill up the JPanel. Either that or add the BlueRectangleBean directly to the JFrame&#39;s contentPane which also uses BorderLayout."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1675107712,"post_id":75289241,"comment_id":132853683,"body_markdown":"Also, to Wamika, you can also override the BlueRectangleBean&#39;s `public Dimension getPreferredSize()` method which is cleaner than calling `setPreferredSize(...)` on it. If I were to go this route, I&#39;d get the `super.getPreferredSize()` in the same method and make sure that my width and height returned is the max of the super&#39;s and the image-drawing region.","body":"Also, to Wamika, you can also override the BlueRectangleBean&#39;s <code>public Dimension getPreferredSize()</code> method which is cleaner than calling <code>setPreferredSize(...)</code> on it. If I were to go this route, I&#39;d get the <code>super.getPreferredSize()</code> in the same method and make sure that my width and height returned is the max of the super&#39;s and the image-drawing region."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1675109416,"post_id":75289241,"comment_id":132854165,"body_markdown":"Why does your bean extend `JPanel`?  Isn&#39;t a bean a plain Java getter/setter class?  You can use the `java.awt.Color` and `java.awt.Rectangle` classes to define a logical colored rectangle.","body":"Why does your bean extend <code>JPanel</code>?  Isn&#39;t a bean a plain Java getter/setter class?  You can use the <code>java.awt.Color</code> and <code>java.awt.Rectangle</code> classes to define a logical colored rectangle."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1675110849,"post_id":75289241,"comment_id":132854607,"body_markdown":"If you&#39;re using a `JPanel`, you don&#39;t need to override `paintComponent`, you could just use `setBackground` in the constructor","body":"If you&#39;re using a <code>JPanel</code>, you don&#39;t need to override <code>paintComponent</code>, you could just use <code>setBackground</code> in the constructor"}],"owner":{"account_id":27660267,"reputation":1,"user_id":21113248,"display_name":"Wamika Jha 1516403219"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675107219,"answer_count":0,"score":0,"last_activity_date":1675107351,"creation_date":1675106995,"question_id":75289241,"body_markdown":"I am trying to write a code in Java to make a blue/green colored rectangular java bean. \r\n\r\nBelow is my code but it is not working :\r\n\r\nFile 1 : \r\n```\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\n\r\npublic class JavaBean extends JFrame {\r\n\r\n  private BlueRectangleBean blueRectangleBean;\r\n  private JPanel container;\r\n\r\n  public JavaBean() {\r\n    setSize(400, 400);\r\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    setTitle(&quot;Java Bean Example&quot;);\r\n\r\n    container = new JPanel();\r\n    add(container);\r\n\r\n    blueRectangleBean = new BlueRectangleBean();\r\n    blueRectangleBean.setSize(100, 100);\r\n    container.add(blueRectangleBean);\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    JavaBean jb = new JavaBean();\r\n    jb.setVisible(true);\r\n  }\r\n}\r\n```\r\n\r\nand\r\n\r\nFile 2\r\n\r\n```\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\n\r\npublic class BlueRectangleBean extends JPanel {\r\n\r\n  private static final long serialVersionUID = 1L;\r\n\r\n  private int width;\r\n  private int height;\r\n\r\n  public BlueRectangleBean() {\r\n    width = 50;\r\n    height = 50;\r\n  }\r\n\r\n  public void setWidth(int width) {\r\n    this.width = width;\r\n  }\r\n\r\n  public int getWidth() {\r\n    return width;\r\n  }\r\n\r\n  public void setHeight(int height) {\r\n    this.height = height;\r\n  }\r\n\r\n  public int getHeight() {\r\n    return height;\r\n  }\r\n@Override\r\n  protected void paintComponent(Graphics g) {\r\n    super.paintComponent(g);\r\n    g.setColor(Color.BLUE);\r\n    g.fillRect(0, 0, width, height);\r\n  }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nThere is not error, but I am not getting the required output. Any help with the same will be highly appreciated!","title":"Create a blue colored rectangular java bean","body":"<p>I am trying to write a code in Java to make a blue/green colored rectangular java bean.</p>\n<p>Below is my code but it is not working :</p>\n<p>File 1 :</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class JavaBean extends JFrame {\n\n  private BlueRectangleBean blueRectangleBean;\n  private JPanel container;\n\n  public JavaBean() {\n    setSize(400, 400);\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setTitle(&quot;Java Bean Example&quot;);\n\n    container = new JPanel();\n    add(container);\n\n    blueRectangleBean = new BlueRectangleBean();\n    blueRectangleBean.setSize(100, 100);\n    container.add(blueRectangleBean);\n  }\n\n  public static void main(String[] args) {\n    JavaBean jb = new JavaBean();\n    jb.setVisible(true);\n  }\n}\n</code></pre>\n<p>and</p>\n<p>File 2</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class BlueRectangleBean extends JPanel {\n\n  private static final long serialVersionUID = 1L;\n\n  private int width;\n  private int height;\n\n  public BlueRectangleBean() {\n    width = 50;\n    height = 50;\n  }\n\n  public void setWidth(int width) {\n    this.width = width;\n  }\n\n  public int getWidth() {\n    return width;\n  }\n\n  public void setHeight(int height) {\n    this.height = height;\n  }\n\n  public int getHeight() {\n    return height;\n  }\n@Override\n  protected void paintComponent(Graphics g) {\n    super.paintComponent(g);\n    g.setColor(Color.BLUE);\n    g.fillRect(0, 0, width, height);\n  }\n}\n\n</code></pre>\n<p>There is not error, but I am not getting the required output. Any help with the same will be highly appreciated!</p>\n"},{"tags":["java","android","android-layout"],"answers":[{"comments":[{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1675034366,"post_id":55145953,"comment_id":132836053,"body_markdown":"Thanks! For Kotlin solution see https://stackoverflow.com/a/75279091/2914140.","body":"Thanks! For Kotlin solution see <a href=\"https://stackoverflow.com/a/75279091/2914140\">stackoverflow.com/a/75279091/2914140</a>."}],"tags":[],"owner":{"account_id":3991579,"reputation":19586,"user_id":3290339,"display_name":"Onik"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1552554055,"creation_date":1552491952,"answer_id":55145953,"question_id":55142197,"body_markdown":"&gt; What causes that to happen?\r\n\r\nYou never removed the listener. This results in `onLayoutChange()` being invoked multiple times. Call `removeOnLayoutChangeListener()` on the view as follows:\r\n\r\n    mPhotoView.addOnLayoutChangeListener((v, left, top, right, bottom, oldLeft, oldTop, oldRight, oldBottom) -&gt; {\r\n        v.removeOnLayoutChangeListener(this);  // this prevents the callback to be invoked multiple times\r\n        Log.d(TAG,&quot;Reference Pager PhotoView Layout Change.&quot;+&quot; left: &quot;+left+&quot; top: &quot;+top+&quot; right: &quot;+right+ &quot; bottom: &quot;+bottom);\r\n        updatePhotoView();\r\n    });","title":"onLayoutChange() called too many times","body":"<blockquote>\n  <p>What causes that to happen?</p>\n</blockquote>\n\n<p>You never removed the listener. This results in <code>onLayoutChange()</code> being invoked multiple times. Call <code>removeOnLayoutChangeListener()</code> on the view as follows:</p>\n\n<pre><code>mPhotoView.addOnLayoutChangeListener((v, left, top, right, bottom, oldLeft, oldTop, oldRight, oldBottom) -&gt; {\n    v.removeOnLayoutChangeListener(this);  // this prevents the callback to be invoked multiple times\n    Log.d(TAG,\"Reference Pager PhotoView Layout Change.\"+\" left: \"+left+\" top: \"+top+\" right: \"+right+ \" bottom: \"+bottom);\n    updatePhotoView();\n});\n</code></pre>\n"}],"owner":{"account_id":10068871,"reputation":376,"user_id":7567145,"display_name":"shadow_wxh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2049,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":55145953,"answer_count":1,"score":4,"last_activity_date":1675106959,"creation_date":1552480950,"question_id":55142197,"body_markdown":"I am trying to update a thumbnail image once the view is initialized and knows its sizes\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n           View pagerView = inflater.inflate(R.layout.fragment_reference, container, false);\r\n           ......\r\n            mPhotoView = pagerView.findViewById(R.id.reference_photo);\r\n            mPhotoView.addOnLayoutChangeListener((v, left, top, right, bottom, oldLeft, oldTop, oldRight, oldBottom) -&gt; {\r\n            Log.d(TAG,&quot;Reference Pager PhotoView Layout Change.&quot;+&quot; left: &quot;+left+&quot; top: &quot;+top+&quot; right: &quot;+right+ &quot; bottom: &quot;+bottom);\r\n            updatePhotoView();\r\n        });\r\n           ......\r\n    }\r\n\r\nbut _Logcat_ shows it has been called four times in a row:\r\n\r\n    Reference Pager PhotoView Layout Change. left: 0 top: 0 right: 720 bottom: 436\r\n    Reference Pager PhotoView Layout Change. left: 0 top: 0 right: 720 bottom: 436\r\n    Skipped 59 frames!  The application may be doing too much work on its main thread.\r\n    Reference Pager PhotoView Layout Change. left: 0 top: 0 right: 720 bottom: 436\r\n    Reference Pager PhotoView Layout Change. left: 0 top: 0 right: 720 bottom: 436\r\n\r\nWhat causes that to happen? How do I avoid that?","title":"onLayoutChange() called too many times","body":"<p>I am trying to update a thumbnail image once the view is initialized and knows its sizes</p>\n\n<pre><code>@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n       View pagerView = inflater.inflate(R.layout.fragment_reference, container, false);\n       ......\n        mPhotoView = pagerView.findViewById(R.id.reference_photo);\n        mPhotoView.addOnLayoutChangeListener((v, left, top, right, bottom, oldLeft, oldTop, oldRight, oldBottom) -&gt; {\n        Log.d(TAG,\"Reference Pager PhotoView Layout Change.\"+\" left: \"+left+\" top: \"+top+\" right: \"+right+ \" bottom: \"+bottom);\n        updatePhotoView();\n    });\n       ......\n}\n</code></pre>\n\n<p>but <em>Logcat</em> shows it has been called four times in a row:</p>\n\n<pre><code>Reference Pager PhotoView Layout Change. left: 0 top: 0 right: 720 bottom: 436\nReference Pager PhotoView Layout Change. left: 0 top: 0 right: 720 bottom: 436\nSkipped 59 frames!  The application may be doing too much work on its main thread.\nReference Pager PhotoView Layout Change. left: 0 top: 0 right: 720 bottom: 436\nReference Pager PhotoView Layout Change. left: 0 top: 0 right: 720 bottom: 436\n</code></pre>\n\n<p>What causes that to happen? How do I avoid that?</p>\n"},{"tags":["java","list","arraylist","collections","linked-list"],"comments":[{"owner":{"account_id":5546231,"reputation":4303,"user_id":4400820,"accept_rate":89,"display_name":"D. Ben Knoble"},"score":0,"creation_date":1433379858,"post_id":30633268,"comment_id":49332146,"body_markdown":"a) Define performance. There are many variables to measure for, such as time, efficiency, memory usage, etc. b) Write some testing code, using stopwatches (class, not physicals) and things of that nature to benchmark it and find out.","body":"a) Define performance. There are many variables to measure for, such as time, efficiency, memory usage, etc. b) Write some testing code, using stopwatches (class, not physicals) and things of that nature to benchmark it and find out."},{"owner":{"account_id":1318923,"reputation":9011,"user_id":1265182,"accept_rate":100,"display_name":"Shar1er80"},"score":1,"creation_date":1433380162,"post_id":30633268,"comment_id":49332206,"body_markdown":"&quot;What is the most efficient way to do this?&quot; Depends on your scenario.  See http://stackoverflow.com/questions/322715/when-to-use-linkedlist-over-arraylist","body":"&quot;What is the most efficient way to do this?&quot; Depends on your scenario.  See <a href=\"http://stackoverflow.com/questions/322715/when-to-use-linkedlist-over-arraylist\" title=\"when to use linkedlist over arraylist\">stackoverflow.com/questions/322715/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4826528,"reputation":783,"user_id":3895862,"accept_rate":92,"display_name":"J Blaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1433380498,"creation_date":1433379634,"answer_id":30633294,"question_id":30633268,"body_markdown":"Using a linked list is by far faster.\r\n\r\n**LinkedList**\r\n\r\nIt will just reference the nodes so the first one disappears.\r\n![enter image description here][1]\r\n\r\n**ArrayList**\r\n\r\nWith an Array List it has to move all elements back one spot to keep the underlying array proper.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/CrIoM.gif","title":"Efficient way to get/remove first element from the list?","body":"<p>Using a linked list is by far faster.</p>\n\n<p><strong>LinkedList</strong></p>\n\n<p>It will just reference the nodes so the first one disappears.\n<img src=\"https://i.stack.imgur.com/CrIoM.gif\" alt=\"enter image description here\"></p>\n\n<p><strong>ArrayList</strong></p>\n\n<p>With an Array List it has to move all elements back one spot to keep the underlying array proper.</p>\n"},{"comments":[{"owner":{"account_id":2481825,"reputation":1381,"user_id":2231632,"display_name":"Praba"},"score":0,"creation_date":1433380006,"post_id":30633325,"comment_id":49332170,"body_markdown":"O(n)? Either it&#39;s a typo or my understanding of list.remove(0) is not correct. Can you please explain how it&#39;s O(n)?","body":"O(n)? Either it&#39;s a typo or my understanding of list.remove(0) is not correct. Can you please explain how it&#39;s O(n)?"},{"owner":{"account_id":158037,"reputation":6836,"user_id":376382,"accept_rate":90,"display_name":"Cacho Santa"},"score":0,"creation_date":1433380266,"post_id":30633325,"comment_id":49332231,"body_markdown":"@prabugp it&#39;s not a typo","body":"@prabugp it&#39;s not a typo"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1433381061,"post_id":30633325,"comment_id":49332424,"body_markdown":"@prabugp Elements after it have to be shifted.","body":"@prabugp Elements after it have to be shifted."},{"owner":{"account_id":2481825,"reputation":1381,"user_id":2231632,"display_name":"Praba"},"score":0,"creation_date":1433393577,"post_id":30633325,"comment_id":49335450,"body_markdown":"Ah.. dang! Thank you.","body":"Ah.. dang! Thank you."}],"tags":[],"owner":{"account_id":158037,"reputation":6836,"user_id":376382,"accept_rate":90,"display_name":"Cacho Santa"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1433380386,"creation_date":1433379901,"answer_id":30633325,"question_id":30633268,"body_markdown":"Removing the first element of an ArrayList is O(n). For the linked list is O(1), so I&#39;ll go with that.\r\n\r\nCheck the ArrayList [documentation](http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html)\r\n\r\n&gt; The size, isEmpty, get, set, iterator, and listIterator operations run\r\n&gt; in constant time. The add operation runs in amortized constant time,\r\n&gt; that is, adding n elements requires O(n) time. **All of the other\r\n&gt; operations run in linear time (roughly speaking)**. The constant factor\r\n&gt; is low compared to that for the LinkedList implementation.\r\n\r\nThis guys actually got the OpenJDK source [link](https://stackoverflow.com/a/24462605/376382)","title":"Efficient way to get/remove first element from the list?","body":"<p>Removing the first element of an ArrayList is O(n). For the linked list is O(1), so I'll go with that.</p>\n\n<p>Check the ArrayList <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">documentation</a></p>\n\n<blockquote>\n  <p>The size, isEmpty, get, set, iterator, and listIterator operations run\n  in constant time. The add operation runs in amortized constant time,\n  that is, adding n elements requires O(n) time. <strong>All of the other\n  operations run in linear time (roughly speaking)</strong>. The constant factor\n  is low compared to that for the LinkedList implementation.</p>\n</blockquote>\n\n<p>This guys actually got the OpenJDK source <a href=\"https://stackoverflow.com/a/24462605/376382\">link</a></p>\n"},{"tags":[],"owner":{"account_id":378959,"reputation":19465,"user_id":834316,"accept_rate":82,"display_name":"PNS"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1433380136,"creation_date":1433380136,"answer_id":30633356,"question_id":30633268,"body_markdown":"If the comparison for &quot;remove first&quot; is between the `ArrayList` and the `LinkedList` classes, the `LinkedList` wins clearly.\r\n\r\nRemoving an element from a linked list costs `O(1)`, while doing so for an array (array list) costs `O(n)`.","title":"Efficient way to get/remove first element from the list?","body":"<p>If the comparison for \"remove first\" is between the <code>ArrayList</code> and the <code>LinkedList</code> classes, the <code>LinkedList</code> wins clearly.</p>\n\n<p>Removing an element from a linked list costs <code>O(1)</code>, while doing so for an array (array list) costs <code>O(n)</code>.</p>\n"},{"comments":[{"owner":{"account_id":3838375,"reputation":10942,"user_id":3182188,"accept_rate":75,"display_name":"Raniz"},"score":2,"creation_date":1433380493,"post_id":30633360,"comment_id":49332296,"body_markdown":"`ArrayList` in Java is not double-ended so it needs to shift everything when you remove the first item. `ArrayList` is more space efficient than `LinkedList` for large lists though since a LinkedList uses 3 references for each item (value, next and previous) whereas an `ArrayList` only needs one reference per item plus unused space.","body":"<code>ArrayList</code> in Java is not double-ended so it needs to shift everything when you remove the first item. <code>ArrayList</code> is more space efficient than <code>LinkedList</code> for large lists though since a LinkedList uses 3 references for each item (value, next and previous) whereas an <code>ArrayList</code> only needs one reference per item plus unused space."},{"owner":{"display_name":"user2982130"},"score":0,"creation_date":1433380780,"post_id":30633360,"comment_id":49332359,"body_markdown":"Don&#39;t forget the wrapper object takes up memory as well","body":"Don&#39;t forget the wrapper object takes up memory as well"},{"owner":{"account_id":4638330,"reputation":94,"user_id":4013650,"display_name":"Zlol"},"score":0,"creation_date":1433380892,"post_id":30633360,"comment_id":49332390,"body_markdown":"@Raniz Thanks for adding the detail. Just to clarify, what I mean by &quot;more efficient in terms of space&quot; is that when an element is removed from linked-list, the list shrinks; in the case of ArrayList the ArrayList does not get resized after the deletion. Although trimToSize() helps.","body":"@Raniz Thanks for adding the detail. Just to clarify, what I mean by &quot;more efficient in terms of space&quot; is that when an element is removed from linked-list, the list shrinks; in the case of ArrayList the ArrayList does not get resized after the deletion. Although trimToSize() helps."}],"tags":[],"owner":{"account_id":4638330,"reputation":94,"user_id":4013650,"display_name":"Zlol"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1433380168,"creation_date":1433380168,"answer_id":30633360,"question_id":30633268,"body_markdown":"Make sure you understand the difference between LinkedList and ArrayList. ArrayList is implemented using Array. \r\n\r\nLinkedList takes constant time to remove an element.\r\nArrayList might take linear time to remove the first element (to confirm I need to check the implementation, not java expert here).\r\n\r\nAlso I think LinkedList is more efficient in terms of space. Because ArrayList would not (and should not) re-size the array every time an element is removed, it takes up more space than needed.\r\n\r\n\r\n","title":"Efficient way to get/remove first element from the list?","body":"<p>Make sure you understand the difference between LinkedList and ArrayList. ArrayList is implemented using Array. </p>\n\n<p>LinkedList takes constant time to remove an element.\nArrayList might take linear time to remove the first element (to confirm I need to check the implementation, not java expert here).</p>\n\n<p>Also I think LinkedList is more efficient in terms of space. Because ArrayList would not (and should not) re-size the array every time an element is removed, it takes up more space than needed.</p>\n"},{"tags":[],"owner":{"account_id":2009857,"reputation":25959,"user_id":1798593,"display_name":"Patricia Shanahan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1433381486,"creation_date":1433381486,"answer_id":30633519,"question_id":30633268,"body_markdown":"As others have rightly pointed out, LinkedList is faster than ArrayList for removal of the first element from anything other than a very short list.\r\n\r\nHowever, to make your choice between them you need to consider the complete mix of operations. For example, if your workload does millions of indexed accesses to a hundred element list for each first element removal, ArrayList will be better overall.","title":"Efficient way to get/remove first element from the list?","body":"<p>As others have rightly pointed out, LinkedList is faster than ArrayList for removal of the first element from anything other than a very short list.</p>\n\n<p>However, to make your choice between them you need to consider the complete mix of operations. For example, if your workload does millions of indexed accesses to a hundred element list for each first element removal, ArrayList will be better overall.</p>\n"},{"tags":[],"owner":{"account_id":1502053,"reputation":2125,"user_id":1420681,"display_name":"Ben-Hur Langoni Junior"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1675106908,"creation_date":1468785623,"answer_id":38425422,"question_id":30633268,"body_markdown":"You should use `LinkedList`.&lt;br&gt;\r\n\r\n***Background:***&lt;br&gt;\r\n\r\nIn practical terms, `LinkedList#removeFirst` is more efficient since it&#39;s operating over a doubly-linked list and the removal of first element basically consist in only unlinking it from the head of the list and update the next element to be the first one (complexity `O(1)`):\r\n\r\n    private E unlinkFirst(Node&lt;E&gt; f) {\r\n        // assert f == first &amp;&amp; f != null;\r\n        final E element = f.item;\r\n        final Node&lt;E&gt; next = f.next;\r\n        f.item = null;\r\n        f.next = null; // help GC\r\n        first = next;\r\n        if (next == null)\r\n            last = null;\r\n        else\r\n            next.prev = null;\r\n        size--;\r\n        modCount++;\r\n        return element;\r\n    }\r\n\r\n`ArrayList#remove` is operating over an internal array structure which requires moving all subsequent elements one position to the left by copying over the subarray (complexity `O(n)`):   \r\n\r\n    public E remove(int index) {\r\n        rangeCheck(index);\r\n\r\n        modCount++;\r\n        E oldValue = elementData(index);\r\n\r\n        int numMoved = size - index - 1;\r\n        if (numMoved &gt; 0)\r\n            System.arraycopy(elementData, index+1, elementData, index,\r\n                             numMoved);\r\n        elementData[--size] = null; // clear to let GC do its work\r\n\r\n        return oldValue;\r\n    }\r\n\r\n***Additional answer:***&lt;br&gt;\r\n\r\nOn the other hand, `LinkedList#get` operation requires traversing half of the entire list for retrieving an element at a specified index - in worst case scenario. `ArrayList#get` would directly access the element at the specified index since it&#39;s operating over an array.\r\n\r\nMy rule of thumbs for efficiency here would be:\r\n\r\n - Use `LinkedList` if you do a lot of `add`/`remove` in comparison with\r\n   access operations (e.g.: `get`); \r\n - Use `ArrayList` if you do a lot\r\n   of access operations in comparison with `add`/`remove`.\r\n\r\n   \r\n","title":"Efficient way to get/remove first element from the list?","body":"<p>You should use <code>LinkedList</code>.<br></p>\n<p><em><strong>Background:</strong></em><br></p>\n<p>In practical terms, <code>LinkedList#removeFirst</code> is more efficient since it's operating over a doubly-linked list and the removal of first element basically consist in only unlinking it from the head of the list and update the next element to be the first one (complexity <code>O(1)</code>):</p>\n<pre><code>private E unlinkFirst(Node&lt;E&gt; f) {\n    // assert f == first &amp;&amp; f != null;\n    final E element = f.item;\n    final Node&lt;E&gt; next = f.next;\n    f.item = null;\n    f.next = null; // help GC\n    first = next;\n    if (next == null)\n        last = null;\n    else\n        next.prev = null;\n    size--;\n    modCount++;\n    return element;\n}\n</code></pre>\n<p><code>ArrayList#remove</code> is operating over an internal array structure which requires moving all subsequent elements one position to the left by copying over the subarray (complexity <code>O(n)</code>):</p>\n<pre><code>public E remove(int index) {\n    rangeCheck(index);\n\n    modCount++;\n    E oldValue = elementData(index);\n\n    int numMoved = size - index - 1;\n    if (numMoved &gt; 0)\n        System.arraycopy(elementData, index+1, elementData, index,\n                         numMoved);\n    elementData[--size] = null; // clear to let GC do its work\n\n    return oldValue;\n}\n</code></pre>\n<p><em><strong>Additional answer:</strong></em><br></p>\n<p>On the other hand, <code>LinkedList#get</code> operation requires traversing half of the entire list for retrieving an element at a specified index - in worst case scenario. <code>ArrayList#get</code> would directly access the element at the specified index since it's operating over an array.</p>\n<p>My rule of thumbs for efficiency here would be:</p>\n<ul>\n<li>Use <code>LinkedList</code> if you do a lot of <code>add</code>/<code>remove</code> in comparison with\naccess operations (e.g.: <code>get</code>);</li>\n<li>Use <code>ArrayList</code> if you do a lot\nof access operations in comparison with <code>add</code>/<code>remove</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1468787288,"creation_date":1468787288,"answer_id":38425640,"question_id":30633268,"body_markdown":"**Third Aproach.** \r\n\r\nIt is exposed by the java.util.Queue interface. LinkedList is an implementation of this interface.\r\n\r\nThe Queue interface is exposing  the  E poll() method which effectively removes the head of the List (Queue).\r\n\r\nIn terms of performance the poll() method is comparable to removeFirst(). Actually it is using under the hood the removeFirst() method. ","title":"Efficient way to get/remove first element from the list?","body":"<p><strong>Third Aproach.</strong> </p>\n\n<p>It is exposed by the java.util.Queue interface. LinkedList is an implementation of this interface.</p>\n\n<p>The Queue interface is exposing  the  E poll() method which effectively removes the head of the List (Queue).</p>\n\n<p>In terms of performance the poll() method is comparable to removeFirst(). Actually it is using under the hood the removeFirst() method. </p>\n"},{"comments":[{"owner":{"account_id":222360,"reputation":7615,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"score":0,"creation_date":1505368932,"post_id":43710551,"comment_id":79386098,"body_markdown":"You can also use `List.subList(...)`, see my answer https://stackoverflow.com/a/46211629/480894","body":"You can also use <code>List.subList(...)</code>, see my answer <a href=\"https://stackoverflow.com/a/46211629/480894\">stackoverflow.com/a/46211629/480894</a>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1505371255,"post_id":43710551,"comment_id":79387258,"body_markdown":"You can, @Roland. If both additions and removals go on, I cannot see how it will be practical, though. If the list is filled only once and after that only removed from, `subList()` should be fine.","body":"You can, @Roland. If both additions and removals go on, I cannot see how it will be practical, though. If the list is filled only once and after that only removed from, <code>subList()</code> should be fine."}],"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1493581050,"creation_date":1493581050,"answer_id":43710551,"question_id":30633268,"body_markdown":"I think that what you need is an `ArrayDeque` (an unfairly overlooked class in `java.util`). Its `removeFirst` method performs in O(1) as for `LinkedList`, while it generally shows the better space and time characteristics of `ArrayList`. Its implemented as a circular queue in an array.\r\n\r\nYou should very rarely use `LinkedList`. I did once in my 17 years as Java programmer and regretted in retrospect.","title":"Efficient way to get/remove first element from the list?","body":"<p>I think that what you need is an <code>ArrayDeque</code> (an unfairly overlooked class in <code>java.util</code>). Its <code>removeFirst</code> method performs in O(1) as for <code>LinkedList</code>, while it generally shows the better space and time characteristics of <code>ArrayList</code>. Its implemented as a circular queue in an array.</p>\n\n<p>You should very rarely use <code>LinkedList</code>. I did once in my 17 years as Java programmer and regretted in retrospect.</p>\n"},{"tags":[],"owner":{"account_id":222360,"reputation":7615,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1617866657,"creation_date":1505368894,"answer_id":46211629,"question_id":30633268,"body_markdown":"[List.subList(int fromIndex, int toIndex)](https://docs.oracle.com/javase/9/docs/api/java/util/List.html#subList-int-int-)\r\n\r\n&gt; Returns a view of the portion of this list between the specified fromIndex, inclusive, and toIndex, exclusive. \r\n\r\nGood to use for [ArrayList](https://docs.oracle.com/javase/9/docs/api/java/util/ArrayList.html) where removing the first element has complexity O(n).\r\n\r\n    final String firstServerName = servers.get(0);\r\n    servers = servers.subList(1, servers.size());","title":"Efficient way to get/remove first element from the list?","body":"<p><a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/List.html#subList-int-int-\" rel=\"nofollow noreferrer\">List.subList(int fromIndex, int toIndex)</a></p>\n<blockquote>\n<p>Returns a view of the portion of this list between the specified fromIndex, inclusive, and toIndex, exclusive.</p>\n</blockquote>\n<p>Good to use for <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">ArrayList</a> where removing the first element has complexity O(n).</p>\n<pre><code>final String firstServerName = servers.get(0);\nservers = servers.subList(1, servers.size());\n</code></pre>\n"}],"owner":{"account_id":2207538,"reputation":4868,"user_id":1950349,"accept_rate":82,"display_name":"user1950349"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38909,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":9,"score":11,"last_activity_date":1675106908,"creation_date":1433379444,"question_id":30633268,"body_markdown":"I want to take out and remove first element from the List. I can see, I have two options:\r\n\r\n**First Approach:**\r\n\r\n    LinkedList&lt;String&gt; servers = new LinkedList&lt;String&gt;();\r\n    ....\r\n    String firstServerName = servers.removeFirst();\r\n\r\n**Second Approach**\r\n\r\n    ArrayList&lt;String&gt; servers = new ArrayList&lt;String&gt;();\r\n    ....\r\n    String firstServerName = servers.remove(0);\r\n\r\nI have lot of elements in my list.\r\n\t\r\n- Is there any preference which one we should use? \r\n- And what is the difference between the above two? Are they technically same thing in terms of performance? What is the complexity involve here if we have lot of elements?\r\n\r\nWhat is the most efficient way to do this.","title":"Efficient way to get/remove first element from the list?","body":"<p>I want to take out and remove first element from the List. I can see, I have two options:</p>\n\n<p><strong>First Approach:</strong></p>\n\n<pre><code>LinkedList&lt;String&gt; servers = new LinkedList&lt;String&gt;();\n....\nString firstServerName = servers.removeFirst();\n</code></pre>\n\n<p><strong>Second Approach</strong></p>\n\n<pre><code>ArrayList&lt;String&gt; servers = new ArrayList&lt;String&gt;();\n....\nString firstServerName = servers.remove(0);\n</code></pre>\n\n<p>I have lot of elements in my list.</p>\n\n<ul>\n<li>Is there any preference which one we should use? </li>\n<li>And what is the difference between the above two? Are they technically same thing in terms of performance? What is the complexity involve here if we have lot of elements?</li>\n</ul>\n\n<p>What is the most efficient way to do this.</p>\n"},{"tags":["java","cdi","quarkus-rest-client","exceptionmapper"],"owner":{"account_id":27659594,"reputation":1,"user_id":21112724,"display_name":"athosga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675106837,"creation_date":1675106837,"question_id":75289214,"body_markdown":"I&#39;m trying to create an ExceptionMapper with an abstract parent class and some injected fields. Here is the part of code, simplified:\r\n\r\n```\r\n@Provider\r\n@Produces(MediaType.APPLICATION_JSON)\r\npublic class MyExceptionMapper extends GenericExceptionMapper&lt;MyException&gt; {\r\n    @Override\r\n    public Response toResponse(MyException exception) {\r\n        ...\r\n    }\r\n}\r\n\r\npublic abstract class GenericExceptionMapper&lt;T extends WebApplicationException&gt; implements ExceptionMapper&lt;T&gt; {\r\n    @Inject\r\n    private ClassA fieldInParentA; // will be null.\r\n\r\n    @Inject\r\n    private ClassB fieldInParentB; // will be null.\r\n\r\n    // all kind of other stuff, including getters\r\n    ... \r\n}\r\n```\r\nClassA and ClassB are simple classes with @Dependent, @ApplicationScoped or @Singleton scopes (tried all these).\r\n\r\nThe problem is, that the fields of the parent don&#39;t get injected (nor do I see any error report in logs) and the result of getFieldInParentA() or of getFieldInParentB() return null in toResponse(), although the problem is not with the injected objects (they gets injected properly in other places). \r\n\r\nFurther, to my biggest surprise, all of fieldInParentA, fieldInParentB and fieldInChild **will be** injected when also the child class contains injected field. This is so with any dependent, singleton or application scoped fields:\r\n\r\n\r\n```\r\n@Provider\r\n@Produces(MediaType.APPLICATION_JSON)\r\npublic class MyExceptionMapper extends GenericExceptionMapper&lt;MyException&gt; {\r\n    @Inject\r\n    private ClassC fieldInChild; // **will be initialized!**\r\n    \r\n    @Override\r\n    public Response toResponse(MyException exception) {\r\n      ...\r\n    }\r\n}\r\n\r\npublic abstract class GenericExceptionMapper&lt;T extends WebApplicationException&gt; implements ExceptionMapper&lt;T&gt; {\r\n    @Inject\r\n    private ClassA fieldInParentA; // **will be initialized!**\r\n\r\n    @Inject\r\n    private ClassB fieldInParentB; // **will be initialized!**\r\n\r\n    ... \r\n}\r\n```\r\n\r\nI might not understand properly the scopes (might it be the @Provider for blame?) or the inheritance of injected fields in Jakarta Dependency Injection, but besides not being able to initialize my classes (you might have guessed, that I don&#39;t want fields in the child class :) ) it is also bothering, that I do not understand this (apparently strange) behavior: *how can the injection of a field in a parent depend on whether we there are fields in the child or not*?!\r\n1. \r\nI did a lot of search, but I unfortunately couldn&#39;t find anything useful.\r\n","title":"Injection issue for exception mapper with abstract parent (Quarkus REST client)","body":"<p>I'm trying to create an ExceptionMapper with an abstract parent class and some injected fields. Here is the part of code, simplified:</p>\n<pre><code>@Provider\n@Produces(MediaType.APPLICATION_JSON)\npublic class MyExceptionMapper extends GenericExceptionMapper&lt;MyException&gt; {\n    @Override\n    public Response toResponse(MyException exception) {\n        ...\n    }\n}\n\npublic abstract class GenericExceptionMapper&lt;T extends WebApplicationException&gt; implements ExceptionMapper&lt;T&gt; {\n    @Inject\n    private ClassA fieldInParentA; // will be null.\n\n    @Inject\n    private ClassB fieldInParentB; // will be null.\n\n    // all kind of other stuff, including getters\n    ... \n}\n</code></pre>\n<p>ClassA and ClassB are simple classes with @Dependent, @ApplicationScoped or @Singleton scopes (tried all these).</p>\n<p>The problem is, that the fields of the parent don't get injected (nor do I see any error report in logs) and the result of getFieldInParentA() or of getFieldInParentB() return null in toResponse(), although the problem is not with the injected objects (they gets injected properly in other places).</p>\n<p>Further, to my biggest surprise, all of fieldInParentA, fieldInParentB and fieldInChild <strong>will be</strong> injected when also the child class contains injected field. This is so with any dependent, singleton or application scoped fields:</p>\n<pre><code>@Provider\n@Produces(MediaType.APPLICATION_JSON)\npublic class MyExceptionMapper extends GenericExceptionMapper&lt;MyException&gt; {\n    @Inject\n    private ClassC fieldInChild; // **will be initialized!**\n    \n    @Override\n    public Response toResponse(MyException exception) {\n      ...\n    }\n}\n\npublic abstract class GenericExceptionMapper&lt;T extends WebApplicationException&gt; implements ExceptionMapper&lt;T&gt; {\n    @Inject\n    private ClassA fieldInParentA; // **will be initialized!**\n\n    @Inject\n    private ClassB fieldInParentB; // **will be initialized!**\n\n    ... \n}\n</code></pre>\n<p>I might not understand properly the scopes (might it be the @Provider for blame?) or the inheritance of injected fields in Jakarta Dependency Injection, but besides not being able to initialize my classes (you might have guessed, that I don't want fields in the child class :) ) it is also bothering, that I do not understand this (apparently strange) behavior: <em>how can the injection of a field in a parent depend on whether we there are fields in the child or not</em>?!\n1.\nI did a lot of search, but I unfortunately couldn't find anything useful.</p>\n"},{"tags":["java","apache-spark"],"owner":{"account_id":16118964,"reputation":47,"user_id":11635355,"display_name":"Luffy123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675106652,"creation_date":1675084291,"question_id":75284895,"body_markdown":"I have a json which include multiple array.\r\nI have json as:\r\n\r\n```json\r\n&quot;eList&quot;: [\r\n    {\r\n        &quot;eList&quot;: [\r\n            {\r\n                &quot;eOne&quot;: &quot;86&quot;\r\n            }\r\n        ],\r\n        &quot;idList&quot;: [\r\n            &quot;67890&quot;,\r\n            &quot;24328&quot;\r\n        ]\r\n    }\r\n]\r\n```\r\n\r\n\r\n\r\nI have exploded the id list as:\r\n```\r\ndf=df.withColumn(&quot;idList&quot;,explode(col(&quot;eList.idList&quot;)))\r\n```\r\n\r\nIt works fine till here.\r\nI want  the value of eOne from elist. I want the output as follows:\r\n\r\n```\r\n| idList   | eList |\r\n| -------- | ----- |\r\n|  67890   | 86    | \r\n|  24328   | null  |\r\n```\r\n\r\nexplode function is not going to work. I dont have anything unique rows to partition by window? How am i supposed to proceed?","title":"Get value of inside of another array after exploding an array","body":"<p>I have a json which include multiple array.\nI have json as:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;eList&quot;: [\n    {\n        &quot;eList&quot;: [\n            {\n                &quot;eOne&quot;: &quot;86&quot;\n            }\n        ],\n        &quot;idList&quot;: [\n            &quot;67890&quot;,\n            &quot;24328&quot;\n        ]\n    }\n]\n</code></pre>\n<p>I have exploded the id list as:</p>\n<pre><code>df=df.withColumn(&quot;idList&quot;,explode(col(&quot;eList.idList&quot;)))\n</code></pre>\n<p>It works fine till here.\nI want  the value of eOne from elist. I want the output as follows:</p>\n<pre><code>| idList   | eList |\n| -------- | ----- |\n|  67890   | 86    | \n|  24328   | null  |\n</code></pre>\n<p>explode function is not going to work. I dont have anything unique rows to partition by window? How am i supposed to proceed?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675105831,"creation_date":1675105831,"answer_id":75289054,"question_id":75289004,"body_markdown":"You need to declare your iterator as `Iterator&lt;String&gt;` to tell the compiler `it.next()` will return a `String`, which has the `endsWith`, otherwise it will think `it.next()` will return an `Object`, which does not have `endsWith`.","title":"Java Beginner; Compilation Error with &quot;endsWith&quot; method","body":"<p>You need to declare your iterator as <code>Iterator&lt;String&gt;</code> to tell the compiler <code>it.next()</code> will return a <code>String</code>, which has the <code>endsWith</code>, otherwise it will think <code>it.next()</code> will return an <code>Object</code>, which does not have <code>endsWith</code>.</p>\n"},{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675106234,"creation_date":1675106234,"answer_id":75289117,"question_id":75289004,"body_markdown":"You should learn what **generics** are. You got error because you use raw type with iterator. Raw type means `Object` type, but method you want to call `endsWith()` is the method of `String` type. So you should declare your iterator like `Iterator&lt;String&gt;` to specify the type of generic. So that compiler knows the actual type of objects.\r\nMore about generics you can read here \r\nhttps://docs.oracle.com/javase/tutorial/java/generics/index.html","title":"Java Beginner; Compilation Error with &quot;endsWith&quot; method","body":"<p>You should learn what <strong>generics</strong> are. You got error because you use raw type with iterator. Raw type means <code>Object</code> type, but method you want to call <code>endsWith()</code> is the method of <code>String</code> type. So you should declare your iterator like <code>Iterator&lt;String&gt;</code> to specify the type of generic. So that compiler knows the actual type of objects.\nMore about generics you can read here\n<a href=\"https://docs.oracle.com/javase/tutorial/java/generics/index.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/generics/index.html</a></p>\n"}],"owner":{"account_id":16654776,"reputation":70,"user_id":12036497,"display_name":"Morgan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1675147743,"accepted_answer_id":75289054,"answer_count":2,"score":-2,"last_activity_date":1675106234,"creation_date":1675105553,"question_id":75289004,"body_markdown":"I&#39;m a beginner in Java and am kinda confused why the below code outputs a compilation error.\r\n\r\nBelow is the code.\r\n\r\nWhat did I do wrong?\r\n\r\n```\r\nimport java.util.Iterator;\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; words = List.of(&quot;Apple&quot;, &quot;Bat&quot;, &quot;Cat&quot;);\r\n\r\n//        System.out.println(&quot;Apple&quot;.endsWith(&quot;le&quot;));\r\n\r\n        Iterator it = words.iterator();\r\n\r\n        while (it.hasNext()) {\r\n            if (it.next().endsWith(&quot;at&quot;)) {\r\n                it.remove();\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n```","title":"Java Beginner; Compilation Error with &quot;endsWith&quot; method","body":"<p>I'm a beginner in Java and am kinda confused why the below code outputs a compilation error.</p>\n<p>Below is the code.</p>\n<p>What did I do wrong?</p>\n<pre><code>import java.util.Iterator;\nimport java.util.List;\n\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;String&gt; words = List.of(&quot;Apple&quot;, &quot;Bat&quot;, &quot;Cat&quot;);\n\n//        System.out.println(&quot;Apple&quot;.endsWith(&quot;le&quot;));\n\n        Iterator it = words.iterator();\n\n        while (it.hasNext()) {\n            if (it.next().endsWith(&quot;at&quot;)) {\n                it.remove();\n            }\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1582812770,"post_id":60435130,"comment_id":106912345,"body_markdown":"You can just define this method in the class, Lombok will use that then.","body":"You can just define this method in the class, Lombok will use that then."},{"owner":{"account_id":383886,"reputation":17470,"user_id":740018,"accept_rate":57,"display_name":"Leem"},"score":0,"creation_date":1582812887,"post_id":60435130,"comment_id":106912413,"body_markdown":"No need to have `@override` annotation? Could you please post an example?","body":"No need to have <code>@override</code> annotation? Could you please post an example?"},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1582843343,"post_id":60435130,"comment_id":106926728,"body_markdown":"You&#39;ve got a good answer, the linked question has some additional related info. Concerning customization: You can&#39;t modify what Lombok setter does (e.g., notify observers or alike). All you can do is to stop Lombok from generating the setter and write your own.","body":"You&#39;ve got a good answer, the linked question has some additional related info. Concerning customization: You can&#39;t modify what Lombok setter does (e.g., notify observers or alike). All you can do is to stop Lombok from generating the setter and write your own."},{"owner":{"account_id":1735668,"reputation":1932,"user_id":1588303,"display_name":"Rodney P. Barbati"},"score":0,"creation_date":1675105488,"post_id":60435130,"comment_id":132853082,"body_markdown":"I would suggest you go with the lombok provided setter and getter, and add a new method: getAdjustedScore() that returns the score + 1.  It is a bad idea to override the basic concepts of a setter and getter - it is expected that the value passed to a setter is what gets set and returned for that specific value.  Adding getAdjustedScore() makes it very easy to identify what value you are referring to.","body":"I would suggest you go with the lombok provided setter and getter, and add a new method: getAdjustedScore() that returns the score + 1.  It is a bad idea to override the basic concepts of a setter and getter - it is expected that the value passed to a setter is what gets set and returned for that specific value.  Adding getAdjustedScore() makes it very easy to identify what value you are referring to."}],"answers":[{"comments":[{"owner":{"account_id":383886,"reputation":17470,"user_id":740018,"accept_rate":57,"display_name":"Leem"},"score":0,"creation_date":1582813208,"post_id":60435217,"comment_id":106912623,"body_markdown":"What if I want to pass additional external parameter to the method, is that fine?","body":"What if I want to pass additional external parameter to the method, is that fine?"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1582813667,"post_id":60435217,"comment_id":106912898,"body_markdown":"@Leem that will result in the automatically generated setter with only one argument along the one with the one you declared.","body":"@Leem that will result in the automatically generated setter with only one argument along the one with the one you declared."}],"tags":[],"owner":{"account_id":2169245,"reputation":1238,"user_id":1921678,"accept_rate":100,"display_name":"marandus"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1582812937,"creation_date":1582812937,"answer_id":60435217,"question_id":60435130,"body_markdown":"You can just write the getter method in the class. Lombok will not override methods. If a method that it should generate is already present, it will skip that one.\r\n\r\nSo you could do this:\r\n\r\n```java\r\n@Data\r\npublic class Score {\r\n  private long grade;\r\n\r\n  public void setGrade(long grade) {\r\n    this.grade = grade + 1;\r\n  }\r\n}\r\n```\r\n\r\nOr instead just override the getter:\r\n\r\n```java\r\n@Data\r\npublic class Score {\r\n  private long grade;\r\n\r\n  public long getGrade() {\r\n    return this.grade + 1;\r\n  }\r\n}\r\n```\r\n\r\nEdit:\r\nTo add on your comment: `@Override` is only required if you override methods from superclasses or interfaces. Lombok injects the method directly into your class, thus no `@Override` is required (and it will cause an compiler error, because there is nothing that could be overridden).","title":"Using Lombok library, but how to customize/override the setter method","body":"<p>You can just write the getter method in the class. Lombok will not override methods. If a method that it should generate is already present, it will skip that one.</p>\n\n<p>So you could do this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class Score {\n  private long grade;\n\n  public void setGrade(long grade) {\n    this.grade = grade + 1;\n  }\n}\n</code></pre>\n\n<p>Or instead just override the getter:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class Score {\n  private long grade;\n\n  public long getGrade() {\n    return this.grade + 1;\n  }\n}\n</code></pre>\n\n<p>Edit:\nTo add on your comment: <code>@Override</code> is only required if you override methods from superclasses or interfaces. Lombok injects the method directly into your class, thus no <code>@Override</code> is required (and it will cause an compiler error, because there is nothing that could be overridden).</p>\n"},{"comments":[{"owner":{"account_id":1735668,"reputation":1932,"user_id":1588303,"display_name":"Rodney P. Barbati"},"score":0,"creation_date":1675105215,"post_id":60435296,"comment_id":132853013,"body_markdown":"This is a very confusing answer - what is generated for?  Why does  setOverridenSet() not actually set the passed value?  @marandus answer is the correct answer.","body":"This is a very confusing answer - what is generated for?  Why does  setOverridenSet() not actually set the passed value?  @marandus answer is the correct answer."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1675106096,"post_id":60435296,"comment_id":132853261,"body_markdown":"@RodneyP.Barbati I removed generated, no idea why that was in. setOverriddenSet() doesn&#39;t set the passed value because that&#39;s what op asked for.","body":"@RodneyP.Barbati I removed generated, no idea why that was in. setOverriddenSet() doesn&#39;t set the passed value because that&#39;s what op asked for."}],"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675106021,"creation_date":1582813173,"answer_id":60435296,"question_id":60435130,"body_markdown":"This works fine for me\r\n\r\n    class Scratch {\r\n        public static void main(String[] args) {\r\n            MyDataClass object = new MyDataClass();\r\n            object.setOverriddenSet(&quot;some value&quot;);\r\n            if (!&quot;fixed value&quot;.equals(object.getOverriddenSet())) {\r\n                throw new RuntimeException();\r\n            }\r\n            System.out.println(&quot;all went well.&quot;);\r\n        }\r\n    }\r\n    \r\n    @Data\r\n    class MyDataClass {\r\n        String overriddenSet = &quot;fixed initial value&quot;;\r\n    \r\n        void setOverriddenSet(String setTo) {\r\n            overriddenSet = &quot;fixed value&quot;;\r\n        }\r\n    }","title":"Using Lombok library, but how to customize/override the setter method","body":"<p>This works fine for me</p>\n<pre><code>class Scratch {\n    public static void main(String[] args) {\n        MyDataClass object = new MyDataClass();\n        object.setOverriddenSet(&quot;some value&quot;);\n        if (!&quot;fixed value&quot;.equals(object.getOverriddenSet())) {\n            throw new RuntimeException();\n        }\n        System.out.println(&quot;all went well.&quot;);\n    }\n}\n\n@Data\nclass MyDataClass {\n    String overriddenSet = &quot;fixed initial value&quot;;\n\n    void setOverriddenSet(String setTo) {\n        overriddenSet = &quot;fixed value&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":383886,"reputation":17470,"user_id":740018,"accept_rate":57,"display_name":"Leem"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10316,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1582843135,"accepted_answer_id":60435217,"answer_count":2,"score":4,"last_activity_date":1675106021,"creation_date":1582812587,"question_id":60435130,"body_markdown":"I use lombok library in my java project.\r\n\r\n    @Data\r\n    public class Score {\r\n       private long grade;\r\n    }\r\n\r\nWith this code, I have getter and setter automatically. e.g.\r\n\r\n    Score score = new Score();\r\n    score.setGrade(10);\r\n    // when I call score.getGrade(), I get 10.\r\n\r\nBut now I want to customize the setter method to introduce additional logics for the grade value. e.g.\r\n   \r\n\r\n    public void setGrade(long grade) {\r\n           // so the returned value from getter is always 1 bigger than what has been set.\r\n           this.grade += 1; \r\n       }\r\n\r\nBasically, I want to have `score.setGrade(10)` but `score.getGrade()` returns 11. That&#39;s override the setter. \r\nHow to achieve it with lombok in use?\r\n","title":"Using Lombok library, but how to customize/override the setter method","body":"<p>I use lombok library in my java project.</p>\n\n<pre><code>@Data\npublic class Score {\n   private long grade;\n}\n</code></pre>\n\n<p>With this code, I have getter and setter automatically. e.g.</p>\n\n<pre><code>Score score = new Score();\nscore.setGrade(10);\n// when I call score.getGrade(), I get 10.\n</code></pre>\n\n<p>But now I want to customize the setter method to introduce additional logics for the grade value. e.g.</p>\n\n<pre><code>public void setGrade(long grade) {\n       // so the returned value from getter is always 1 bigger than what has been set.\n       this.grade += 1; \n   }\n</code></pre>\n\n<p>Basically, I want to have <code>score.setGrade(10)</code> but <code>score.getGrade()</code> returns 11. That's override the setter. \nHow to achieve it with lombok in use?</p>\n"},{"tags":["java","server","client","multicast"],"owner":{"account_id":24083813,"reputation":1,"user_id":18058121,"display_name":"DreckigerDan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675105729,"creation_date":1675105729,"question_id":75289038,"body_markdown":"my programm is establishing a connection via multicastsocket between server and client. I want to send some informations to the client and then receive an answer from the client and print it out.\r\nThis works, but it always printing out the String infromation. Like it is still saved in the DatagramPacket and fill the String received with data from String information. So when i run the programm its always printing out &quot;Server: received Message: Welcome to the Event Server&quot;\r\n\r\n    \t\r\n```\r\n    \tSystem.out.println(&quot;Server is running...&quot;);\r\n    \t\r\n    \tInetAddress infoChannel = InetAddress.getByName(&quot;225.5.6.6&quot;);\r\n    \tMulticastSocket info_socket = new MulticastSocket(3456);\r\n    \t\r\n    \tinfo_socket.joinGroup(infoChannel);\r\n    \t\r\n    \t\r\n    \tString information = &quot;Welcome to the Event Server &quot;;\r\n    \tbyte [] buffer = information.getBytes();\r\n    \tDatagramPacket info_packet = new DatagramPacket(buffer, buffer.length, infoChannel, 3456);\r\n        \r\n    \t\r\n    \tinfo_socket.send(info_packet);\r\n    \tSystem.out.println(&quot;Message send&quot;);\r\n    \t\r\n    \t\r\n    \twhile(true) {\r\n    \t\tinfo_packet.setData(new byte[256]);\r\n    \t    \r\n    \t    info_socket.receive(info_packet);\r\n    \t    String received = new String(info_packet.getData(), info_packet.getOffset(), info_packet.getLength());\r\n    \t    \r\n    \t    info_packet.setLength(info_packet.getLength());\r\n\r\n    \t    System.out.println(&quot;Server: received Message: &quot; + received);\r\n    \t\r\n    \t\r\n    \t}\r\n    \t\r\n```\r\n\r\nCLient :\r\n\r\n\r\n```\r\n\t\tSystem.out.println(&quot;Client is waiting for Connection to Server...&quot;);\r\n    \tInetAddress infoChannel = InetAddress.getByName(&quot;225.5.6.6&quot;);\r\n    \tMulticastSocket info = new MulticastSocket(3456);\r\n\t\tinfo.joinGroup(infoChannel);\t\r\n\t\t\t\t\r\n\t\r\n\t\t\t\t\r\n\t\tbyte[] buffer = new byte[350];\r\n\r\n\t\tDatagramPacket packet = new DatagramPacket(buffer, buffer.length);\r\n\t\t\r\n\t\tinfo.receive(packet);\r\n\t\t\r\n     \tString recString = new String(buffer);\r\n\t\tString[] lines = recString.split(&quot;#&quot;);\r\n\t\t\r\n\t\tArrays.stream(lines).forEach(System.out::println);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter message to send: &quot;);\r\n\t\tString answer = readIn.nextLine();\r\n\t\t\r\n\t\tpacket = new DatagramPacket(answer.getBytes(), answer.length(), infoChannel, 3456);\r\n\t\t\r\n\t\tinfo.send(packet);\r\n\t\tSystem.out.println(&quot;client: Inormation sended to Server&quot;);\r\n\t\tinfo.close();\r\n```\r\n\r\n\r\nThanks in advance!\r\n\r\n\r\n\r\n\r\ni tried to somehow clear the buffer and then store the received message in the String received","title":"Java Multicast Connection Server Client I dont understand why it is printing out the string i sended","body":"<p>my programm is establishing a connection via multicastsocket between server and client. I want to send some informations to the client and then receive an answer from the client and print it out.\nThis works, but it always printing out the String infromation. Like it is still saved in the DatagramPacket and fill the String received with data from String information. So when i run the programm its always printing out &quot;Server: received Message: Welcome to the Event Server&quot;</p>\n<pre><code>        System.out.println(&quot;Server is running...&quot;);\n        \n        InetAddress infoChannel = InetAddress.getByName(&quot;225.5.6.6&quot;);\n        MulticastSocket info_socket = new MulticastSocket(3456);\n        \n        info_socket.joinGroup(infoChannel);\n        \n        \n        String information = &quot;Welcome to the Event Server &quot;;\n        byte [] buffer = information.getBytes();\n        DatagramPacket info_packet = new DatagramPacket(buffer, buffer.length, infoChannel, 3456);\n        \n        \n        info_socket.send(info_packet);\n        System.out.println(&quot;Message send&quot;);\n        \n        \n        while(true) {\n            info_packet.setData(new byte[256]);\n            \n            info_socket.receive(info_packet);\n            String received = new String(info_packet.getData(), info_packet.getOffset(), info_packet.getLength());\n            \n            info_packet.setLength(info_packet.getLength());\n\n            System.out.println(&quot;Server: received Message: &quot; + received);\n        \n        \n        }\n        \n</code></pre>\n<p>CLient :</p>\n<pre><code>        System.out.println(&quot;Client is waiting for Connection to Server...&quot;);\n        InetAddress infoChannel = InetAddress.getByName(&quot;225.5.6.6&quot;);\n        MulticastSocket info = new MulticastSocket(3456);\n        info.joinGroup(infoChannel);    \n                \n    \n                \n        byte[] buffer = new byte[350];\n\n        DatagramPacket packet = new DatagramPacket(buffer, buffer.length);\n        \n        info.receive(packet);\n        \n        String recString = new String(buffer);\n        String[] lines = recString.split(&quot;#&quot;);\n        \n        Arrays.stream(lines).forEach(System.out::println);\n        \n        System.out.println(&quot;Enter message to send: &quot;);\n        String answer = readIn.nextLine();\n        \n        packet = new DatagramPacket(answer.getBytes(), answer.length(), infoChannel, 3456);\n        \n        info.send(packet);\n        System.out.println(&quot;client: Inormation sended to Server&quot;);\n        info.close();\n</code></pre>\n<p>Thanks in advance!</p>\n<p>i tried to somehow clear the buffer and then store the received message in the String received</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":11128032,"reputation":801,"user_id":8168882,"display_name":"&#199;aatay Sel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675105471,"creation_date":1675105471,"answer_id":75288991,"question_id":74822010,"body_markdown":"uses clause in @Mapper annotation allow your mapper to use the mappers you defined if they are required. If you want to just get a reference to mapper you can use.\r\n\r\n    MyMapper INSTANCE = Mappers.getMapper( MyMapper.class );","title":"Mapstruct: how to autowire abstract class mapper","body":"<p>uses clause in @Mapper annotation allow your mapper to use the mappers you defined if they are required. If you want to just get a reference to mapper you can use.</p>\n<pre><code>MyMapper INSTANCE = Mappers.getMapper( MyMapper.class );\n</code></pre>\n"}],"owner":{"account_id":16796337,"reputation":71,"user_id":12142726,"display_name":"ovod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675105471,"creation_date":1671180168,"question_id":74822010,"body_markdown":"my problem seems easy, but may be I&#39;m doing something wrong. this is mapper class with `@Named(&quot;toLocationListCommon&quot;)` bean which suppose to be used in other mappers\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public abstract class CommonLocationMapper {\r\n        @Setter(onMethod_ = @Autowired)\r\n        protected TestService testService;\r\n    \r\n        @Named(&quot;toLocationListCommon&quot;)\r\n        List&lt;Location&gt; toLocationListCommon(List&lt;? extends ILocation&gt; loc) {\r\n    \t\t//do mapping logic\r\n        }\r\n    \r\n    }\r\nhere I&#39;m trying to use it:\r\n\r\n    @Mapper(implementationName = &quot;V1Impl&quot;, config = CommonMapper.CommonMapperConfig.class, uses = CommonLocationMapper.class)\r\n    interface TestMapper {\r\n    \t//other mapping methods\r\n    }\r\nI expect to have autowired bean `CommonLocationMapper` in implementation for `TestMapper`, but I haven&#39;t. \r\nWhat I&#39;m doing wrong? thanks in advance!  ","title":"Mapstruct: how to autowire abstract class mapper","body":"<p>my problem seems easy, but may be I'm doing something wrong. this is mapper class with <code>@Named(&quot;toLocationListCommon&quot;)</code> bean which suppose to be used in other mappers</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic abstract class CommonLocationMapper {\n    @Setter(onMethod_ = @Autowired)\n    protected TestService testService;\n\n    @Named(&quot;toLocationListCommon&quot;)\n    List&lt;Location&gt; toLocationListCommon(List&lt;? extends ILocation&gt; loc) {\n        //do mapping logic\n    }\n\n}\n</code></pre>\n<p>here I'm trying to use it:</p>\n<pre><code>@Mapper(implementationName = &quot;V1Impl&quot;, config = CommonMapper.CommonMapperConfig.class, uses = CommonLocationMapper.class)\ninterface TestMapper {\n    //other mapping methods\n}\n</code></pre>\n<p>I expect to have autowired bean <code>CommonLocationMapper</code> in implementation for <code>TestMapper</code>, but I haven't.\nWhat I'm doing wrong? thanks in advance!</p>\n"},{"tags":["java","lstm","recurrent-neural-network","deeplearning4j","dl4j"],"answers":[{"comments":[{"owner":{"account_id":26385561,"reputation":109,"user_id":20038123,"display_name":"Twisted Tea"},"score":0,"creation_date":1675105719,"post_id":75281130,"comment_id":132853154,"body_markdown":"thanks so much, that solved the error. I&#39;m running into some trouble fitting my test data however; every number in the output array is the same when calling `network.output(getTest())`. Would you happen to know if it&#39;s because of my hyperparameters or data format? I attached my actual inputs and outputs above for the getTest() and getTrain() method","body":"thanks so much, that solved the error. I&#39;m running into some trouble fitting my test data however; every number in the output array is the same when calling <code>network.output(getTest())</code>. Would you happen to know if it&#39;s because of my hyperparameters or data format? I attached my actual inputs and outputs above for the getTest() and getTrain() method"},{"owner":{"account_id":3013065,"reputation":797,"user_id":2556041,"display_name":"Paul Dubs"},"score":0,"creation_date":1675148987,"post_id":75281130,"comment_id":132860844,"body_markdown":"@TwistedTea I suggest you ask in the dl4j community forums (https://community.konduit.ai/) for that, as Stackoverflow isn&#39;t well suited to this back-and-forth kind of question asking when the topic changes.","body":"@TwistedTea I suggest you ask in the dl4j community forums (<a href=\"https://community.konduit.ai/\" rel=\"nofollow noreferrer\">community.konduit.ai</a>) for that, as Stackoverflow isn&#39;t well suited to this back-and-forth kind of question asking when the topic changes."}],"tags":[],"owner":{"account_id":3013065,"reputation":797,"user_id":2556041,"display_name":"Paul Dubs"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675062716,"creation_date":1675062341,"answer_id":75281130,"question_id":75280102,"body_markdown":"There are several problems you&#39;ve got here. If you read the documentation for `predict` it tells you:\r\n\r\n&gt; Usable only for classification networks in conjunction with OutputLayer. Cannot be used with RnnOutputLayer, CnnLossLayer, or networks used for regression.\r\n\r\nThe error message therefore tells you that it only works with `rank 2 output`. \r\n\r\nIn your attempted solution, you try then to reshape the input, and the network complains that it isn&#39;t getting the input it is expecting. \r\n\r\nYou want to either use `rnnTimeStep` (for single stepping) or `output` (for the entire sequence) to get the unprocessed output, and then apply the `argMax` accordingly. \r\n\r\nThe output of `rnnTimeStep()` is just a slice of output, so in order to get the same output as `predict`, you should be able to use `output.argMax(1).toIntVector()` on it. \r\n\r\nThe output of `output()` will be a 2-D matrix, so you&#39;ll need to specify the correct axes.","title":"DL4J LSTM - Contradictory Errors","body":"<p>There are several problems you've got here. If you read the documentation for <code>predict</code> it tells you:</p>\n<blockquote>\n<p>Usable only for classification networks in conjunction with OutputLayer. Cannot be used with RnnOutputLayer, CnnLossLayer, or networks used for regression.</p>\n</blockquote>\n<p>The error message therefore tells you that it only works with <code>rank 2 output</code>.</p>\n<p>In your attempted solution, you try then to reshape the input, and the network complains that it isn't getting the input it is expecting.</p>\n<p>You want to either use <code>rnnTimeStep</code> (for single stepping) or <code>output</code> (for the entire sequence) to get the unprocessed output, and then apply the <code>argMax</code> accordingly.</p>\n<p>The output of <code>rnnTimeStep()</code> is just a slice of output, so in order to get the same output as <code>predict</code>, you should be able to use <code>output.argMax(1).toIntVector()</code> on it.</p>\n<p>The output of <code>output()</code> will be a 2-D matrix, so you'll need to specify the correct axes.</p>\n"}],"owner":{"account_id":26385561,"reputation":109,"user_id":20038123,"display_name":"Twisted Tea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75281130,"answer_count":1,"score":0,"last_activity_date":1675105394,"creation_date":1675050677,"question_id":75280102,"body_markdown":"I&#39;m trying to create a simple LSTM using Deeplearning4J in Java, with 2 input features and a timeseries length of 1. However, I&#39;m running into an error concerning the number of input dimensions when calling predict(). \r\n\r\n```\r\nimport org.deeplearning4j.nn.api.OptimizationAlgorithm;\r\nimport org.deeplearning4j.nn.conf.BackpropType;\r\nimport org.deeplearning4j.nn.conf.MultiLayerConfiguration;\r\nimport org.deeplearning4j.nn.conf.NeuralNetConfiguration;\r\nimport org.deeplearning4j.nn.conf.layers.LSTM;\r\nimport org.deeplearning4j.nn.conf.layers.RnnOutputLayer;\r\nimport org.deeplearning4j.nn.multilayer.MultiLayerNetwork;\r\nimport org.deeplearning4j.nn.weights.WeightInit;\r\nimport org.nd4j.linalg.activations.Activation;\r\nimport org.nd4j.linalg.api.ndarray.INDArray;\r\nimport org.nd4j.linalg.dataset.DataSet;\r\nimport org.nd4j.linalg.factory.Nd4j;\r\nimport org.nd4j.linalg.learning.config.Adam;\r\nimport org.nd4j.linalg.lossfunctions.LossFunctions;\r\n\r\npublic class LSTMRegression {\r\n\tpublic static final int inputSize = 2,\r\n\t\t\t\t\t\t\tlstmLayerSize = 4,\r\n\t\t\t\t\t\t\toutputSize = 1;\r\n\t\r\n\tpublic static final double learningRate = 0.0001;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint miniBatchSize = 29;\r\n\t\t\r\n\t\tMultiLayerConfiguration conf = new NeuralNetConfiguration.Builder()\r\n                .optimizationAlgo(OptimizationAlgorithm.STOCHASTIC_GRADIENT_DESCENT)\r\n                .updater(new Adam(learningRate))\r\n                .list()\r\n                .layer(0, new LSTM.Builder().nIn(inputSize).nOut(lstmLayerSize)\r\n                        .weightInit(WeightInit.XAVIER)\r\n                        .activation(Activation.IDENTITY).build())\r\n                .layer(1, new LSTM.Builder().nIn(lstmLayerSize).nOut(lstmLayerSize)\r\n                        .weightInit(WeightInit.XAVIER)\r\n                        .activation(Activation.SIGMOID).build())\r\n                .layer(2, new LSTM.Builder().nIn(lstmLayerSize).nOut(lstmLayerSize)\r\n                        .weightInit(WeightInit.XAVIER)\r\n                        .activation(Activation.SIGMOID).build())\r\n                .layer(3, new RnnOutputLayer.Builder(LossFunctions.LossFunction.MSE)\r\n                        .weightInit(WeightInit.XAVIER)\r\n                        .activation(Activation.IDENTITY)\r\n                        .nIn(lstmLayerSize).nOut(outputSize).build())\r\n                \r\n                .backpropType(BackpropType.TruncatedBPTT)\r\n                .tBPTTForwardLength(miniBatchSize)\r\n                .tBPTTBackwardLength(miniBatchSize)\r\n                .build();\r\n\t\t\r\n\t\tvar network = new MultiLayerNetwork(conf);\r\n\t\t\r\n\t\tnetwork.init();\r\n\t\tnetwork.fit(getTrain());\r\n\t\t\r\n\t\tSystem.out.println(network.predict(getTest()));\r\n\t}\r\n\t\r\n\tpublic static DataSet getTest() {\r\n\t\tINDArray input = Nd4j.zeros(29, 2, 1);\r\n\r\n\t\tINDArray labels = Nd4j.zeros(29, 1);\r\n\t\t\r\n\t\treturn new DataSet(input, labels);\r\n\t}\r\n\t\r\n\tpublic static DataSet getTrain() {\r\n\t\tINDArray input = Nd4j.zeros(29, 2, 1);\r\n\t\tINDArray labels = Nd4j.zeros(29, 1);\r\n\t\t\r\n\t\treturn new DataSet(input, labels);\r\n\t}\r\n}\r\n```\r\n\r\nThe following error occurs when run:\r\n\r\n```\r\n22:38:28.803 [main] INFO  o.d.nn.multilayer.MultiLayerNetwork - Starting MultiLayerNetwork with WorkspaceModes set to [training: ENABLED; inference: ENABLED], cacheMode set to [NONE]\r\n22:38:29.755 [main] WARN  o.d.nn.multilayer.MultiLayerNetwork - Cannot do truncated BPTT with non-3d inputs or labels. Expect input with shape [miniBatchSize,nIn,timeSeriesLength], got [29, 2, 1]\tand labels with shape [29, 1]\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: predict(INDArray) method can only be used on rank 2 output - got array with rank 3\r\n\tat org.nd4j.common.base.Preconditions.throwStateEx(Preconditions.java:639)\r\n\tat org.nd4j.common.base.Preconditions.checkState(Preconditions.java:274)\r\n\tat org.deeplearning4j.nn.multilayer.MultiLayerNetwork.predict(MultiLayerNetwork.java:2275)\r\n\tat org.deeplearning4j.nn.multilayer.MultiLayerNetwork.predict(MultiLayerNetwork.java:2286)\r\n\tat LSTMRegression.main(LSTMRegression.java:78)\r\n```\r\n\r\nThat&#39;s weird I figured, but I tried reshaping it anyway:\r\n\r\n```\r\n    public static DataSet getTest() {\r\n\t\tINDArray input = Nd4j.zeros(29, 2, 1).reshape(29, 2);\r\n\r\n\t\tINDArray labels = Nd4j.zeros(29, 1);\r\n\t\t\r\n\t\treturn new DataSet(input, labels);\r\n\t}\r\n```\r\n\r\n...Leading to the opposite problem:\r\n\r\n```\r\n22:45:28.232 [main] WARN  o.d.nn.multilayer.MultiLayerNetwork - Cannot do truncated BPTT with non-3d inputs or labels. Expect input with shape [miniBatchSize,nIn,timeSeriesLength], got [29, 2, 1]\tand labels with shape [29, 1]\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: 3D input expected to RNN layer expected, got 2\r\n\tat org.nd4j.common.base.Preconditions.throwStateEx(Preconditions.java:639)\r\n\tat org.nd4j.common.base.Preconditions.checkState(Preconditions.java:265)\r\n\tat org.deeplearning4j.nn.layers.recurrent.LSTM.activateHelper(LSTM.java:121)\r\n\tat org.deeplearning4j.nn.layers.recurrent.LSTM.activate(LSTM.java:110)\r\n\tat org.deeplearning4j.nn.multilayer.MultiLayerNetwork.outputOfLayerDetached(MultiLayerNetwork.java:1349)\r\n\tat org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2467)\r\n\tat org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2430)\r\n\tat org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2421)\r\n\tat org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2408)\r\n\tat org.deeplearning4j.nn.multilayer.MultiLayerNetwork.predict(MultiLayerNetwork.java:2270)\r\n\tat org.deeplearning4j.nn.multilayer.MultiLayerNetwork.predict(MultiLayerNetwork.java:2286)\r\n\tat LSTMRegression.main(LSTMRegression.java:78)\r\n```\r\n\r\nWhat exactly am I doing wrong here?\r\n\r\nEDIT: I used zeros obviously to make the code a bit easier to read. Here&#39;s what my training and test data actually looks like in the form of a multidimensional double array:\r\n\r\n```\r\npublic static DataSet getData() {\r\n\t\tdouble[][][] inputArray = {\r\n\t\t\t{{18.7}, {181}},\r\n\t\t\t{{17.4}, {186}},\r\n\t\t\t{{18}, {195}},\r\n\t\t\t{{19.3}, {193}},\r\n\t\t\t{{20.6}, {190}},\r\n\t\t\t{{17.8}, {181}},\r\n\t\t\t{{19.6}, {195}},\r\n\t\t\t{{18.1}, {193}},\r\n\t\t\t{{20.2}, {190}},\r\n\t\t\t{{17.1}, {186}},\r\n\t\t\t{{17.3}, {180}},\r\n            ...\r\n        }\r\n       double[][] outputArray = {\r\n\t\t\t\t{3750},\r\n\t\t\t\t{3800},\r\n\t\t\t\t{3250},\r\n\t\t\t\t{3450},\r\n\t\t\t\t{3650},\r\n\t\t\t\t{3625},\r\n\t\t\t\t{4675},\r\n\t\t\t\t{3475},\r\n\t\t\t\t{4250},\r\n\t\t\t\t{3300},\r\n\t\t\t\t{3700},\r\n\t\t\t\t{3200},\r\n\t\t\t\t{3800},\r\n\t\t\t\t{4400},\r\n\t\t\t\t{3700},\r\n\t\t\t\t{3450},\r\n\t\t\t\t{4500},\r\n                ...\r\n        };\r\n        INDArray input = Nd4j.create(inputArray);\r\n\t\tINDArray labels = Nd4j.create(outputArray);\r\n\t\t\r\n\t\treturn new DataSet(input, labels);\r\n}\r\n```\r\n\r\n... As well as my test data (updated to only include inputs):\r\n```\r\npublic static INDArray getTest() {\r\n\t\tdouble[][][] test = new double[][][]{\r\n            {{20}, {203}},\r\n            {{16}, {183}},\r\n            {{20}, {190}},\r\n            {{18.6}, {193}},\r\n            {{18.9}, {184}},\r\n            {{17.2}, {199}},\r\n            {{20}, {190}},\r\n            {{17}, {181}},\r\n            {{19}, {197}},\r\n            {{16.5}, {198}},\r\n            {{20.3}, {191}},\r\n            {{17.7}, {193}},\r\n            {{19.5}, {197}},\r\n            {{20.7}, {191}},\r\n            {{18.3}, {196}},\r\n            {{17}, {188}},\r\n            {{20.5}, {199}},\r\n            {{17}, {189}},\r\n            {{18.6}, {189}},\r\n            {{17.2}, {187}},\r\n            {{19.8}, {198}},\r\n            {{17}, {176}},\r\n            {{18.5}, {202}},\r\n            {{15.9}, {186}},\r\n            {{19}, {199}},\r\n            {{17.6}, {191}},\r\n            {{18.3}, {195}},\r\n            {{17.1}, {191}},\r\n            {{18}, {210}}\r\n\t\t};\r\n\t\t\r\n\t\tINDArray input = Nd4j.create(test);\r\n\t\t\r\n\t\treturn input;\r\n\t}\r\n```","title":"DL4J LSTM - Contradictory Errors","body":"<p>I'm trying to create a simple LSTM using Deeplearning4J in Java, with 2 input features and a timeseries length of 1. However, I'm running into an error concerning the number of input dimensions when calling predict().</p>\n<pre><code>import org.deeplearning4j.nn.api.OptimizationAlgorithm;\nimport org.deeplearning4j.nn.conf.BackpropType;\nimport org.deeplearning4j.nn.conf.MultiLayerConfiguration;\nimport org.deeplearning4j.nn.conf.NeuralNetConfiguration;\nimport org.deeplearning4j.nn.conf.layers.LSTM;\nimport org.deeplearning4j.nn.conf.layers.RnnOutputLayer;\nimport org.deeplearning4j.nn.multilayer.MultiLayerNetwork;\nimport org.deeplearning4j.nn.weights.WeightInit;\nimport org.nd4j.linalg.activations.Activation;\nimport org.nd4j.linalg.api.ndarray.INDArray;\nimport org.nd4j.linalg.dataset.DataSet;\nimport org.nd4j.linalg.factory.Nd4j;\nimport org.nd4j.linalg.learning.config.Adam;\nimport org.nd4j.linalg.lossfunctions.LossFunctions;\n\npublic class LSTMRegression {\n    public static final int inputSize = 2,\n                            lstmLayerSize = 4,\n                            outputSize = 1;\n    \n    public static final double learningRate = 0.0001;\n\n    public static void main(String[] args) {\n        int miniBatchSize = 29;\n        \n        MultiLayerConfiguration conf = new NeuralNetConfiguration.Builder()\n                .optimizationAlgo(OptimizationAlgorithm.STOCHASTIC_GRADIENT_DESCENT)\n                .updater(new Adam(learningRate))\n                .list()\n                .layer(0, new LSTM.Builder().nIn(inputSize).nOut(lstmLayerSize)\n                        .weightInit(WeightInit.XAVIER)\n                        .activation(Activation.IDENTITY).build())\n                .layer(1, new LSTM.Builder().nIn(lstmLayerSize).nOut(lstmLayerSize)\n                        .weightInit(WeightInit.XAVIER)\n                        .activation(Activation.SIGMOID).build())\n                .layer(2, new LSTM.Builder().nIn(lstmLayerSize).nOut(lstmLayerSize)\n                        .weightInit(WeightInit.XAVIER)\n                        .activation(Activation.SIGMOID).build())\n                .layer(3, new RnnOutputLayer.Builder(LossFunctions.LossFunction.MSE)\n                        .weightInit(WeightInit.XAVIER)\n                        .activation(Activation.IDENTITY)\n                        .nIn(lstmLayerSize).nOut(outputSize).build())\n                \n                .backpropType(BackpropType.TruncatedBPTT)\n                .tBPTTForwardLength(miniBatchSize)\n                .tBPTTBackwardLength(miniBatchSize)\n                .build();\n        \n        var network = new MultiLayerNetwork(conf);\n        \n        network.init();\n        network.fit(getTrain());\n        \n        System.out.println(network.predict(getTest()));\n    }\n    \n    public static DataSet getTest() {\n        INDArray input = Nd4j.zeros(29, 2, 1);\n\n        INDArray labels = Nd4j.zeros(29, 1);\n        \n        return new DataSet(input, labels);\n    }\n    \n    public static DataSet getTrain() {\n        INDArray input = Nd4j.zeros(29, 2, 1);\n        INDArray labels = Nd4j.zeros(29, 1);\n        \n        return new DataSet(input, labels);\n    }\n}\n</code></pre>\n<p>The following error occurs when run:</p>\n<pre><code>22:38:28.803 [main] INFO  o.d.nn.multilayer.MultiLayerNetwork - Starting MultiLayerNetwork with WorkspaceModes set to [training: ENABLED; inference: ENABLED], cacheMode set to [NONE]\n22:38:29.755 [main] WARN  o.d.nn.multilayer.MultiLayerNetwork - Cannot do truncated BPTT with non-3d inputs or labels. Expect input with shape [miniBatchSize,nIn,timeSeriesLength], got [29, 2, 1] and labels with shape [29, 1]\nException in thread &quot;main&quot; java.lang.IllegalStateException: predict(INDArray) method can only be used on rank 2 output - got array with rank 3\n    at org.nd4j.common.base.Preconditions.throwStateEx(Preconditions.java:639)\n    at org.nd4j.common.base.Preconditions.checkState(Preconditions.java:274)\n    at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.predict(MultiLayerNetwork.java:2275)\n    at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.predict(MultiLayerNetwork.java:2286)\n    at LSTMRegression.main(LSTMRegression.java:78)\n</code></pre>\n<p>That's weird I figured, but I tried reshaping it anyway:</p>\n<pre><code>    public static DataSet getTest() {\n        INDArray input = Nd4j.zeros(29, 2, 1).reshape(29, 2);\n\n        INDArray labels = Nd4j.zeros(29, 1);\n        \n        return new DataSet(input, labels);\n    }\n</code></pre>\n<p>...Leading to the opposite problem:</p>\n<pre><code>22:45:28.232 [main] WARN  o.d.nn.multilayer.MultiLayerNetwork - Cannot do truncated BPTT with non-3d inputs or labels. Expect input with shape [miniBatchSize,nIn,timeSeriesLength], got [29, 2, 1] and labels with shape [29, 1]\nException in thread &quot;main&quot; java.lang.IllegalStateException: 3D input expected to RNN layer expected, got 2\n    at org.nd4j.common.base.Preconditions.throwStateEx(Preconditions.java:639)\n    at org.nd4j.common.base.Preconditions.checkState(Preconditions.java:265)\n    at org.deeplearning4j.nn.layers.recurrent.LSTM.activateHelper(LSTM.java:121)\n    at org.deeplearning4j.nn.layers.recurrent.LSTM.activate(LSTM.java:110)\n    at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.outputOfLayerDetached(MultiLayerNetwork.java:1349)\n    at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2467)\n    at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2430)\n    at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2421)\n    at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2408)\n    at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.predict(MultiLayerNetwork.java:2270)\n    at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.predict(MultiLayerNetwork.java:2286)\n    at LSTMRegression.main(LSTMRegression.java:78)\n</code></pre>\n<p>What exactly am I doing wrong here?</p>\n<p>EDIT: I used zeros obviously to make the code a bit easier to read. Here's what my training and test data actually looks like in the form of a multidimensional double array:</p>\n<pre><code>public static DataSet getData() {\n        double[][][] inputArray = {\n            {{18.7}, {181}},\n            {{17.4}, {186}},\n            {{18}, {195}},\n            {{19.3}, {193}},\n            {{20.6}, {190}},\n            {{17.8}, {181}},\n            {{19.6}, {195}},\n            {{18.1}, {193}},\n            {{20.2}, {190}},\n            {{17.1}, {186}},\n            {{17.3}, {180}},\n            ...\n        }\n       double[][] outputArray = {\n                {3750},\n                {3800},\n                {3250},\n                {3450},\n                {3650},\n                {3625},\n                {4675},\n                {3475},\n                {4250},\n                {3300},\n                {3700},\n                {3200},\n                {3800},\n                {4400},\n                {3700},\n                {3450},\n                {4500},\n                ...\n        };\n        INDArray input = Nd4j.create(inputArray);\n        INDArray labels = Nd4j.create(outputArray);\n        \n        return new DataSet(input, labels);\n}\n</code></pre>\n<p>... As well as my test data (updated to only include inputs):</p>\n<pre><code>public static INDArray getTest() {\n        double[][][] test = new double[][][]{\n            {{20}, {203}},\n            {{16}, {183}},\n            {{20}, {190}},\n            {{18.6}, {193}},\n            {{18.9}, {184}},\n            {{17.2}, {199}},\n            {{20}, {190}},\n            {{17}, {181}},\n            {{19}, {197}},\n            {{16.5}, {198}},\n            {{20.3}, {191}},\n            {{17.7}, {193}},\n            {{19.5}, {197}},\n            {{20.7}, {191}},\n            {{18.3}, {196}},\n            {{17}, {188}},\n            {{20.5}, {199}},\n            {{17}, {189}},\n            {{18.6}, {189}},\n            {{17.2}, {187}},\n            {{19.8}, {198}},\n            {{17}, {176}},\n            {{18.5}, {202}},\n            {{15.9}, {186}},\n            {{19}, {199}},\n            {{17.6}, {191}},\n            {{18.3}, {195}},\n            {{17.1}, {191}},\n            {{18}, {210}}\n        };\n        \n        INDArray input = Nd4j.create(test);\n        \n        return input;\n    }\n</code></pre>\n"},{"tags":["java","json","jsonschema","json-schema-validator"],"answers":[{"comments":[{"owner":{"account_id":3415784,"reputation":60457,"user_id":2864740,"accept_rate":78,"display_name":"user2864740"},"score":0,"creation_date":1509084645,"post_id":46968506,"comment_id":80884395,"body_markdown":"OP will need to recurse/seek into the structure to otherwise find &quot;field1&quot; and &quot;field2&quot;","body":"OP will need to recurse/seek into the structure to otherwise find &quot;field1&quot; and &quot;field2&quot;"},{"owner":{"account_id":1885070,"reputation":3672,"user_id":1704453,"accept_rate":88,"display_name":"Vipin CP"},"score":2,"creation_date":1509084990,"post_id":46968506,"comment_id":80884547,"body_markdown":"I think he only needs keys of objects inside `properties` .","body":"I think he only needs keys of objects inside <code>properties</code> ."},{"owner":{"account_id":188555,"reputation":6379,"user_id":427321,"accept_rate":71,"display_name":"Bal&#225;zs N&#233;meth"},"score":0,"creation_date":1509085935,"post_id":46968506,"comment_id":80884926,"body_markdown":"what&#39;s var? that code will list all keys. is jObj already an instance of the schema? the OP has only the schema.","body":"what&#39;s var? that code will list all keys. is jObj already an instance of the schema? the OP has only the schema."},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":1,"creation_date":1509085975,"post_id":46968506,"comment_id":80884954,"body_markdown":"This is not exactly what OP wanted","body":"This is not exactly what OP wanted"}],"tags":[],"owner":{"account_id":1885070,"reputation":3672,"user_id":1704453,"accept_rate":88,"display_name":"Vipin CP"},"comment_count":4,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1509085210,"creation_date":1509084528,"answer_id":46968506,"question_id":46968457,"body_markdown":"I assume your `json` is in a String variable named `var`.\r\nuse `org.json` for the below code.\r\n\r\n    JSONObject jObj=new JSONObject(var);\r\n    ArrayList arr=new ArrayList();\r\n    \r\n    for (Object keyObj: jObj.keySet())\r\n    {\r\n        String key = (String)keyObject;\r\n        arr.add(key);        \r\n    }\r\n\r\nThat&#39;s it. \r\n\r\nI have added maven dependency for `org.json` package for those who are working with maven!\r\n\r\n    &lt;dependency&gt;  \r\n    \t&lt;groupId&gt;org.json&lt;/groupId&gt;  \r\n    \t&lt;artifactId&gt;json&lt;/artifactId&gt;  \r\n    \t&lt;version&gt;20160810&lt;/version&gt; \r\n    &lt;/dependency&gt; ","title":"Java - How to get all the field names from JSON Schema","body":"<p>I assume your <code>json</code> is in a String variable named <code>var</code>.\nuse <code>org.json</code> for the below code.</p>\n\n<pre><code>JSONObject jObj=new JSONObject(var);\nArrayList arr=new ArrayList();\n\nfor (Object keyObj: jObj.keySet())\n{\n    String key = (String)keyObject;\n    arr.add(key);        \n}\n</code></pre>\n\n<p>That's it. </p>\n\n<p>I have added maven dependency for <code>org.json</code> package for those who are working with maven!</p>\n\n<pre><code>&lt;dependency&gt;  \n    &lt;groupId&gt;org.json&lt;/groupId&gt;  \n    &lt;artifactId&gt;json&lt;/artifactId&gt;  \n    &lt;version&gt;20160810&lt;/version&gt; \n&lt;/dependency&gt; \n</code></pre>\n"},{"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1509085495,"post_id":46968613,"comment_id":80884741,"body_markdown":"just a small thing, but you don&#39;t need to cast, because of the array (`new String[keyList.size()]`) you&#39;re providing","body":"just a small thing, but you don&#39;t need to cast, because of the array (<code>new String[keyList.size()]</code>) you&#39;re providing"},{"owner":{"account_id":9224505,"reputation":8167,"user_id":6852729,"display_name":"KeLiuyue"},"score":0,"creation_date":1509085846,"post_id":46968613,"comment_id":80884893,"body_markdown":"Thank for you suggestion.","body":"Thank for you suggestion."},{"owner":{"account_id":9224505,"reputation":8167,"user_id":6852729,"display_name":"KeLiuyue"},"score":0,"creation_date":1509093524,"post_id":46968613,"comment_id":80888906,"body_markdown":"Good luck to you.@Tony","body":"Good luck to you.@Tony"}],"tags":[],"owner":{"account_id":9224505,"reputation":8167,"user_id":6852729,"display_name":"KeLiuyue"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1509085034,"creation_date":1509085034,"answer_id":46968613,"question_id":46968457,"body_markdown":"1.convert to `JSONObject`\r\n\r\n2.save in `List`\r\n\r\n3.convert `List` to `Array`\r\n\r\ntry this .\r\n\r\n    public void getKey(String response) {\r\n        List&lt;String&gt; keyList = new ArrayList&lt;String&gt;();\r\n        try {\r\n            JSONObject jsonObject = new JSONObject(response);\r\n            JSONObject schema = jsonObject.getJSONObject(&quot;schema&quot;);\r\n            JSONObject properties = schema.getJSONObject(&quot;properties&quot;);\r\n            Iterator iterator = properties.keys();\r\n            while (iterator.hasNext()) {\r\n                String key = iterator.next().toString();\r\n                keyList.add(key);\r\n            }\r\n            String[] arr = (String[]) keyList.toArray(new String[keyList.size()]);\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"Java - How to get all the field names from JSON Schema","body":"<p>1.convert to <code>JSONObject</code></p>\n\n<p>2.save in <code>List</code></p>\n\n<p>3.convert <code>List</code> to <code>Array</code></p>\n\n<p>try this .</p>\n\n<pre><code>public void getKey(String response) {\n    List&lt;String&gt; keyList = new ArrayList&lt;String&gt;();\n    try {\n        JSONObject jsonObject = new JSONObject(response);\n        JSONObject schema = jsonObject.getJSONObject(\"schema\");\n        JSONObject properties = schema.getJSONObject(\"properties\");\n        Iterator iterator = properties.keys();\n        while (iterator.hasNext()) {\n            String key = iterator.next().toString();\n            keyList.add(key);\n        }\n        String[] arr = (String[]) keyList.toArray(new String[keyList.size()]);\n    } catch (JSONException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21089810,"reputation":61,"user_id":15501992,"display_name":"RulleR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675105322,"creation_date":1675105322,"answer_id":75288966,"question_id":46968457,"body_markdown":"Recursive solution that will work with nested objects\r\n\r\n    public Set&lt;String&gt; getMetadataSchemaFields(JsonNode metadataSchema) {\r\n        if (metadataSchema.has(&quot;properties&quot;)) {\r\n            val fields = new HashSet&lt;String&gt;();\r\n            metadataSchema.get(&quot;properties&quot;).fields().forEachRemaining(entry -&gt; {\r\n                val nodeFields = getMetadataSchemaFields(entry.getValue());\r\n                if (nodeFields.isEmpty()) {\r\n                    fields.add(entry.getKey());\r\n                } else {\r\n                    nodeFields.forEach(nodeField -&gt; fields.add(entry.getKey() + &quot;/&quot; + nodeField));\r\n                }\r\n            });\r\n            return fields;\r\n        } else {\r\n            return Set.of();\r\n        }\r\n    }","title":"Java - How to get all the field names from JSON Schema","body":"<p>Recursive solution that will work with nested objects</p>\n<pre><code>public Set&lt;String&gt; getMetadataSchemaFields(JsonNode metadataSchema) {\n    if (metadataSchema.has(&quot;properties&quot;)) {\n        val fields = new HashSet&lt;String&gt;();\n        metadataSchema.get(&quot;properties&quot;).fields().forEachRemaining(entry -&gt; {\n            val nodeFields = getMetadataSchemaFields(entry.getValue());\n            if (nodeFields.isEmpty()) {\n                fields.add(entry.getKey());\n            } else {\n                nodeFields.forEach(nodeField -&gt; fields.add(entry.getKey() + &quot;/&quot; + nodeField));\n            }\n        });\n        return fields;\n    } else {\n        return Set.of();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2476517,"reputation":117,"user_id":2157055,"accept_rate":44,"display_name":"Tony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8730,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":46968613,"answer_count":3,"score":0,"last_activity_date":1675105322,"creation_date":1509084291,"question_id":46968457,"body_markdown":"    {\r\n        &quot;type&quot;: &quot;TestType&quot;,\r\n        &quot;schema&quot;: {\r\n            &quot;type&quot;: &quot;object&quot;,\r\n            &quot;properties&quot;: {\r\n                &quot;field1&quot;: {\r\n                    &quot;format&quot;: &quot;date&quot;,\r\n                    &quot;label&quot;: &quot;field 1&quot;,\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;field2&quot;: {\r\n                    &quot;format&quot;: &quot;date&quot;,\r\n                    &quot;label&quot;: &quot;field 2&quot;,\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                }\r\n            },\r\n            &quot;required&quot;: [],\r\n            &quot;additionalProperties&quot;: false\r\n        }\r\n    }\r\n\r\nHi Guys, I am new to JSON Schema, I just want to know how to define the Java model to mapping above JSON Schema, I want to get all the field name from the definition.\r\n\r\nSo it means that I want to parse the JSON Schema and return like this:\r\n\r\n    [field1, field2]\r\nNote that the field list is automatic, may add more fields into the JSON Schema, field3, field4 ...","title":"Java - How to get all the field names from JSON Schema","body":"<pre><code>{\n    \"type\": \"TestType\",\n    \"schema\": {\n        \"type\": \"object\",\n        \"properties\": {\n            \"field1\": {\n                \"format\": \"date\",\n                \"label\": \"field 1\",\n                \"type\": \"string\"\n            },\n            \"field2\": {\n                \"format\": \"date\",\n                \"label\": \"field 2\",\n                \"type\": \"string\"\n            }\n        },\n        \"required\": [],\n        \"additionalProperties\": false\n    }\n}\n</code></pre>\n\n<p>Hi Guys, I am new to JSON Schema, I just want to know how to define the Java model to mapping above JSON Schema, I want to get all the field name from the definition.</p>\n\n<p>So it means that I want to parse the JSON Schema and return like this:</p>\n\n<pre><code>[field1, field2]\n</code></pre>\n\n<p>Note that the field list is automatic, may add more fields into the JSON Schema, field3, field4 ...</p>\n"},{"tags":["java","spring","webclient","spring-webflux","project-reactor"],"answers":[{"comments":[{"owner":{"account_id":15845759,"reputation":568,"user_id":11433112,"display_name":"Bernado"},"score":0,"creation_date":1556711266,"post_id":55931789,"comment_id":98524046,"body_markdown":"Well, i tried it and until one thing it works fine. It seems that delaySubscription is executed again in the repeat. So i am waiting 20secs until the backoff comes into game. Could that be? Will be pasting my code a little later....","body":"Well, i tried it and until one thing it works fine. It seems that delaySubscription is executed again in the repeat. So i am waiting 20secs until the backoff comes into game. Could that be? Will be pasting my code a little later...."},{"owner":{"account_id":15591978,"reputation":4166,"user_id":11248746,"display_name":"Phil Clay"},"score":0,"creation_date":1556716017,"post_id":55931789,"comment_id":98526118,"body_markdown":"Edited to move delaySubscription to after the retry/repeat so that the delay is not executed on each retry/repeat","body":"Edited to move delaySubscription to after the retry/repeat so that the delay is not executed on each retry/repeat"},{"owner":{"account_id":15845759,"reputation":568,"user_id":11433112,"display_name":"Bernado"},"score":0,"creation_date":1556716297,"post_id":55931789,"comment_id":98526216,"body_markdown":"Ok will try it again tomorrow and will give feedback. Thank you.","body":"Ok will try it again tomorrow and will give feedback. Thank you."},{"owner":{"account_id":15845759,"reputation":568,"user_id":11433112,"display_name":"Bernado"},"score":0,"creation_date":1556878339,"post_id":55931789,"comment_id":98586150,"body_markdown":"It works fine, thank you. One thing seems to be strange. If I would have configured the repeat handling the way that the time is shorter than there is a result from the Service (e.g. repeat.4times.a.4.secs.thenend and the service takes 20secs) the whole result will be a null value although theres a block() at the end....can someone explain that?","body":"It works fine, thank you. One thing seems to be strange. If I would have configured the repeat handling the way that the time is shorter than there is a result from the Service (e.g. repeat.4times.a.4.secs.thenend and the service takes 20secs) the whole result will be a null value although theres a block() at the end....can someone explain that?"},{"owner":{"account_id":15591978,"reputation":4166,"user_id":11248746,"display_name":"Phil Clay"},"score":1,"creation_date":1556985987,"post_id":55931789,"comment_id":98617985,"body_markdown":"`.block()` will return null if the Mono completes empty, which is what happens if you&#39;re doing something similar to my second example.  The `Mono` will complete empty because the `.filter` filters out the value, and the `repeatWhenEmpty` condition no longer applies (i.e. it has timed out).","body":"<code>.block()</code> will return null if the Mono completes empty, which is what happens if you&#39;re doing something similar to my second example.  The <code>Mono</code> will complete empty because the <code>.filter</code> filters out the value, and the <code>repeatWhenEmpty</code> condition no longer applies (i.e. it has timed out)."},{"owner":{"account_id":1329278,"reputation":2885,"user_id":1273497,"accept_rate":91,"display_name":"wild_nothing"},"score":0,"creation_date":1562069337,"post_id":55931789,"comment_id":100254240,"body_markdown":"Is there a way to log that the retry is occurring?","body":"Is there a way to log that the retry is occurring?"},{"owner":{"account_id":10324159,"reputation":193,"user_id":8493278,"display_name":"Mister_Jesus"},"score":1,"creation_date":1566909297,"post_id":55931789,"comment_id":101796627,"body_markdown":"@wild_nothing use `onErrorMap`","body":"@wild_nothing use <code>onErrorMap</code>"},{"owner":{"account_id":2215099,"reputation":3255,"user_id":1955934,"accept_rate":17,"display_name":"user1955934"},"score":0,"creation_date":1570438605,"post_id":55931789,"comment_id":102900047,"body_markdown":"how to execute something when max retry has been reached?","body":"how to execute something when max retry has been reached?"},{"owner":{"account_id":8608727,"reputation":615,"user_id":6495981,"display_name":"jeevjyot singh chhabda"},"score":0,"creation_date":1587011239,"post_id":55931789,"comment_id":108342537,"body_markdown":"Is it possible to throw an exception or log when `retryMax` or `timeout` met? How can we do that. thanks","body":"Is it possible to throw an exception or log when <code>retryMax</code> or <code>timeout</code> met? How can we do that. thanks"},{"owner":{"account_id":7980951,"reputation":2013,"user_id":6022333,"accept_rate":100,"display_name":"Matley"},"score":0,"creation_date":1593435795,"post_id":55931789,"comment_id":110772150,"body_markdown":"Can I use retryWhen when invoking some endpoint returns nothing/empty list? I want to use retryWhen in case invoking my endpoint doesn&#39;t return anything (Mono.empty). My question is if in such a case retryWhen will be invoked too","body":"Can I use retryWhen when invoking some endpoint returns nothing/empty list? I want to use retryWhen in case invoking my endpoint doesn&#39;t return anything (Mono.empty). My question is if in such a case retryWhen will be invoked too"},{"owner":{"account_id":15591978,"reputation":4166,"user_id":11248746,"display_name":"Phil Clay"},"score":0,"creation_date":1593447169,"post_id":55931789,"comment_id":110778484,"body_markdown":"@jeevjyotsinghchhabda Yes. See RetrySpec.onRetryExhaustedThrow","body":"@jeevjyotsinghchhabda Yes. See RetrySpec.onRetryExhaustedThrow"},{"owner":{"account_id":15591978,"reputation":4166,"user_id":11248746,"display_name":"Phil Clay"},"score":1,"creation_date":1593447298,"post_id":55931789,"comment_id":110778547,"body_markdown":"@Matley retry* only applies when an exception occurs.  To resubscribe when a Mono completes empty, use Mono.repeatWhenEmpty","body":"@Matley retry* only applies when an exception occurs.  To resubscribe when a Mono completes empty, use Mono.repeatWhenEmpty"},{"owner":{"account_id":7980951,"reputation":2013,"user_id":6022333,"accept_rate":100,"display_name":"Matley"},"score":0,"creation_date":1593447775,"post_id":55931789,"comment_id":110778781,"body_markdown":"@Phil Clay thank you for your response:) Can I have another question? I have a long chain of flatMap() etc.. Can I tell Webflux to repeat only some particular flatMap with calling my endpoint? My topic: https://stackoverflow.com/questions/62641880/webflux-repeatwhenempty-or-retrywhen","body":"@Phil Clay thank you for your response:) Can I have another question? I have a long chain of flatMap() etc.. Can I tell Webflux to repeat only some particular flatMap with calling my endpoint? My topic: <a href=\"https://stackoverflow.com/questions/62641880/webflux-repeatwhenempty-or-retrywhen\" title=\"webflux repeatwhenempty or retrywhen\">stackoverflow.com/questions/62641880/&hellip;</a>"},{"owner":{"account_id":14937684,"reputation":541,"user_id":10785239,"display_name":"I&#39;m_Pratik"},"score":0,"creation_date":1639396848,"post_id":55931789,"comment_id":124329968,"body_markdown":"Is there any way to `log` when `retryWhen` is called &amp; for how many times?","body":"Is there any way to <code>log</code> when <code>retryWhen</code> is called &amp; for how many times?"},{"owner":{"account_id":3171486,"reputation":728,"user_id":2680339,"accept_rate":94,"display_name":"Georgian Benetatos"},"score":0,"creation_date":1651152231,"post_id":55931789,"comment_id":127299266,"body_markdown":"@Phil Clay Is there a way to long poll using block as well? I am trying to avoid making a for loop with web calls until I get the desired response","body":"@Phil Clay Is there a way to long poll using block as well? I am trying to avoid making a for loop with web calls until I get the desired response"},{"owner":{"account_id":15591978,"reputation":4166,"user_id":11248746,"display_name":"Phil Clay"},"score":0,"creation_date":1651163071,"post_id":55931789,"comment_id":127303916,"body_markdown":"@GeorgianBenetatos Yes, use the retry or repeat operators as described in the answer and then block at the end.","body":"@GeorgianBenetatos Yes, use the retry or repeat operators as described in the answer and then block at the end."}],"tags":[],"owner":{"account_id":15591978,"reputation":4166,"user_id":11248746,"display_name":"Phil Clay"},"comment_count":16,"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1590444489,"creation_date":1556686595,"answer_id":55931789,"question_id":55923326,"body_markdown":"Yes, it is possible.\r\n\r\n`Mono` has two concepts for re-subscribing (and thus, re-triggering the request)\r\n\r\n* _retry_ = re-subscribe if the upstream completed with an exception\r\n* _repeat_ = re-subscribe if the upstream completed successfully\r\n\r\nEach concept has multiple overloaded methods on `Mono` for different use cases.  Look for the `retry*` and `repeat*` methods.\r\nFor example, to retry a maximum number of times with no delay, use `retry(int numRetries)`.\r\n\r\nMore complex use cases are supported via the `retryWhen` and `repeatWhen` methods, as shown in the following examples.\r\n\r\n### retryWhen\r\n\r\nTo retry if the mono completed with an exception a maximum of 5 times with 5 seconds between each attempt:\r\n\r\n```java\r\n// From reactor-core &gt;= v3.3.4.RELEASE\r\nimport reactor.util.retry.Retry;\r\n\r\nthis.webClient\r\n        .post()\r\n        .uri(SERVICE_URL)\r\n        .body(BodyInserters.fromValue(docRequest))\r\n        .retrieve()\r\n        .bodyToMono(Document.class)\r\n        .retryWhen(Retry.fixedDelay(5, Duration.ofSeconds(5)))\r\n        .delaySubscription(Duration.ofSeconds(10))\r\n\r\n```\r\n\r\nThe retry builder supports other backoff strategies (e.g. exponential) and other options to fully customize retries.\r\n\r\nNote the `retryWhen(Retry)` method used above was added in reactor-core v3.3.4.RELEASE, and the `retryWhen(Function)` method was deprecated.\r\nPrior to reactor-core v3.3.4.RELEASE, you could use the retry function builder from [reactor-extras][1] project to create a `Function` to pass to `retryWhen(Function)`.\r\n\r\n\r\n### repeatWhen\r\n\r\nIf you need to repeat on success, then use `.repeatWhen` or `.repeatWhenEmpty` instead of `.retryWhen` above.\r\n\r\nUse the repeat function builder from [reactor-extras][1] project to create the repeat `Function` as follows:\r\n\r\n```\r\n// From reactor-extras\r\nimport reactor.retry.Repeat;\r\n\r\nthis.webClient\r\n        .post()\r\n        .uri(SERVICE_URL)\r\n        .body(BodyInserters.fromValue(docRequest))\r\n        .retrieve()\r\n        .bodyToMono(Document.class)\r\n        .filter(document -&gt; !document.isEmpty())\r\n        .repeatWhenEmpty(Repeat.onlyIf(repeatContext -&gt; true)\r\n                .exponentialBackoff(Duration.ofSeconds(5), Duration.ofSeconds(10))\r\n                .timeout(Duration.ofSeconds(30)))\r\n        .delaySubscription(Duration.ofSeconds(10))\r\n```\r\n\r\nYou can also chain a `.retry*` with a `.repeat*` if you want to re-subscribe on both success or failure.\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/reference/#extra-repeat-retry","title":"Conditional repeat or retry on Mono with webclient from Spring WebFlux","body":"<p>Yes, it is possible.</p>\n\n<p><code>Mono</code> has two concepts for re-subscribing (and thus, re-triggering the request)</p>\n\n<ul>\n<li><em>retry</em> = re-subscribe if the upstream completed with an exception</li>\n<li><em>repeat</em> = re-subscribe if the upstream completed successfully</li>\n</ul>\n\n<p>Each concept has multiple overloaded methods on <code>Mono</code> for different use cases.  Look for the <code>retry*</code> and <code>repeat*</code> methods.\nFor example, to retry a maximum number of times with no delay, use <code>retry(int numRetries)</code>.</p>\n\n<p>More complex use cases are supported via the <code>retryWhen</code> and <code>repeatWhen</code> methods, as shown in the following examples.</p>\n\n<h3>retryWhen</h3>\n\n<p>To retry if the mono completed with an exception a maximum of 5 times with 5 seconds between each attempt:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// From reactor-core &gt;= v3.3.4.RELEASE\nimport reactor.util.retry.Retry;\n\nthis.webClient\n        .post()\n        .uri(SERVICE_URL)\n        .body(BodyInserters.fromValue(docRequest))\n        .retrieve()\n        .bodyToMono(Document.class)\n        .retryWhen(Retry.fixedDelay(5, Duration.ofSeconds(5)))\n        .delaySubscription(Duration.ofSeconds(10))\n\n</code></pre>\n\n<p>The retry builder supports other backoff strategies (e.g. exponential) and other options to fully customize retries.</p>\n\n<p>Note the <code>retryWhen(Retry)</code> method used above was added in reactor-core v3.3.4.RELEASE, and the <code>retryWhen(Function)</code> method was deprecated.\nPrior to reactor-core v3.3.4.RELEASE, you could use the retry function builder from <a href=\"https://projectreactor.io/docs/core/release/reference/#extra-repeat-retry\" rel=\"noreferrer\">reactor-extras</a> project to create a <code>Function</code> to pass to <code>retryWhen(Function)</code>.</p>\n\n<h3>repeatWhen</h3>\n\n<p>If you need to repeat on success, then use <code>.repeatWhen</code> or <code>.repeatWhenEmpty</code> instead of <code>.retryWhen</code> above.</p>\n\n<p>Use the repeat function builder from <a href=\"https://projectreactor.io/docs/core/release/reference/#extra-repeat-retry\" rel=\"noreferrer\">reactor-extras</a> project to create the repeat <code>Function</code> as follows:</p>\n\n<pre><code>// From reactor-extras\nimport reactor.retry.Repeat;\n\nthis.webClient\n        .post()\n        .uri(SERVICE_URL)\n        .body(BodyInserters.fromValue(docRequest))\n        .retrieve()\n        .bodyToMono(Document.class)\n        .filter(document -&gt; !document.isEmpty())\n        .repeatWhenEmpty(Repeat.onlyIf(repeatContext -&gt; true)\n                .exponentialBackoff(Duration.ofSeconds(5), Duration.ofSeconds(10))\n                .timeout(Duration.ofSeconds(30)))\n        .delaySubscription(Duration.ofSeconds(10))\n</code></pre>\n\n<p>You can also chain a <code>.retry*</code> with a <code>.repeat*</code> if you want to re-subscribe on both success or failure.</p>\n"}],"owner":{"account_id":15845759,"reputation":568,"user_id":11433112,"display_name":"Bernado"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34176,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":55931789,"answer_count":1,"score":22,"last_activity_date":1675104849,"creation_date":1556635147,"question_id":55923326,"body_markdown":"I want implement a **conditional repeat** on a `Mono` in WebFlux with `WebClient`. The situation is the following:\r\n\r\nWe have a rest service service that returns a generated document. The generation of this document is triggered from another service that gets called before this one. The document generation service needs between 10-30 seconds. \r\n\r\nWe want to check after 10 seconds if document (`Mono&lt;Document&gt;`) is generated. If so, all is fine. If not, repeat (or retry) after another 5 seconds and check if document is generated. And so on until (worst case) a timeout after 30 seconds.\r\n\r\nIs this possible? Some (pseudo) code:\r\n\r\n``` lang-java\r\nreturn this.webClient\r\n    .post()\r\n    .uri(SERVICE_URL))\r\n    .body(BodyInserters.fromObject(docRequest))\r\n    .retrieve()\r\n    .bodyToMono(Document.class)\r\n    .delaySubscription(Duration.ofSeconds(10))\r\n    .repeat5TimesWithDynamicTimeDelayUntil(!document.isEmpty())\r\n    .subscribe();\r\n```\r\n","title":"Conditional repeat or retry on Mono with webclient from Spring WebFlux","body":"<p>I want implement a <strong>conditional repeat</strong> on a <code>Mono</code> in WebFlux with <code>WebClient</code>. The situation is the following:</p>\n<p>We have a rest service service that returns a generated document. The generation of this document is triggered from another service that gets called before this one. The document generation service needs between 10-30 seconds.</p>\n<p>We want to check after 10 seconds if document (<code>Mono&lt;Document&gt;</code>) is generated. If so, all is fine. If not, repeat (or retry) after another 5 seconds and check if document is generated. And so on until (worst case) a timeout after 30 seconds.</p>\n<p>Is this possible? Some (pseudo) code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return this.webClient\n    .post()\n    .uri(SERVICE_URL))\n    .body(BodyInserters.fromObject(docRequest))\n    .retrieve()\n    .bodyToMono(Document.class)\n    .delaySubscription(Duration.ofSeconds(10))\n    .repeat5TimesWithDynamicTimeDelayUntil(!document.isEmpty())\n    .subscribe();\n</code></pre>\n"},{"tags":["java","discord","discord-jda"],"comments":[{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":2,"creation_date":1675113119,"post_id":75288868,"comment_id":132855197,"body_markdown":"Check this https://jda.wiki/using-jda/interactions/#handling-autocomplete You&#39;ll have to implement the actual completion logic yourself.","body":"Check this <a href=\"https://jda.wiki/using-jda/interactions/#handling-autocomplete\" rel=\"nofollow noreferrer\">jda.wiki/using-jda/interactions/#handling-autocomplete</a> You&#39;ll have to implement the actual completion logic yourself."},{"owner":{"account_id":26720981,"reputation":74,"user_id":20324831,"display_name":"Loso"},"score":0,"creation_date":1675118835,"post_id":75288868,"comment_id":132856601,"body_markdown":"Super helpful, thanks! Also the website is amazing &lt;3","body":"Super helpful, thanks! Also the website is amazing &lt;3"}],"owner":{"account_id":26720981,"reputation":74,"user_id":20324831,"display_name":"Loso"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675104699,"creation_date":1675104699,"question_id":75288868,"body_markdown":"I want the user to be able to auto complete the **finishDate** value with *&quot;MM/dd/yyyy HH&quot;*\r\nBut i cannot find it anywhere on how to set it up.\r\n\r\nThis is what the command looks like rn:\r\n\r\n    jda.getGuildById(guild.getId()).upsertCommand(&quot;lottery&quot;, &quot;Creates a lottery in the current or selected channel.&quot;)\r\n         .addOption(OptionType.STRING, &quot;reward&quot;, &quot;The reward for the lottey winners&quot;, true)\r\n         .addOption(OptionType.STRING, &quot;finishDate&quot;, &quot;Use format MM/dd/yyyy HH&quot;, true, true);\r\n\r\n\r\n\r\n","title":"How does autoComplete work with Options for commands?","body":"<p>I want the user to be able to auto complete the <strong>finishDate</strong> value with <em>&quot;MM/dd/yyyy HH&quot;</em>\nBut i cannot find it anywhere on how to set it up.</p>\n<p>This is what the command looks like rn:</p>\n<pre><code>jda.getGuildById(guild.getId()).upsertCommand(&quot;lottery&quot;, &quot;Creates a lottery in the current or selected channel.&quot;)\n     .addOption(OptionType.STRING, &quot;reward&quot;, &quot;The reward for the lottey winners&quot;, true)\n     .addOption(OptionType.STRING, &quot;finishDate&quot;, &quot;Use format MM/dd/yyyy HH&quot;, true, true);\n</code></pre>\n"},{"tags":["java","websocket"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1675094008,"post_id":75285498,"comment_id":132849265,"body_markdown":"What do you mean by &quot;go to the IP address in Chrome or Edge&quot;? Do you use the JavaScript websocket API?","body":"What do you mean by &quot;go to the IP address in Chrome or Edge&quot;? Do you use the JavaScript websocket API?"},{"owner":{"account_id":23669257,"reputation":62,"user_id":17696276,"display_name":"2Amateurs"},"score":0,"creation_date":1675094112,"post_id":75285498,"comment_id":132849312,"body_markdown":"@vanje No, I&#39;m just typing in the IP address from a new tab.  My goal is to be able to send over a js file initially that uses the API to handle the connection from the client side.","body":"@vanje No, I&#39;m just typing in the IP address from a new tab.  My goal is to be able to send over a js file initially that uses the API to handle the connection from the client side."}],"answers":[{"tags":[],"owner":{"account_id":15452760,"reputation":387,"user_id":11147707,"display_name":"Iziminza"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675104652,"creation_date":1675103827,"answer_id":75288723,"question_id":75285498,"body_markdown":"In addition to your Java WebSocket server, you need an HTML page that connects to your server via the [JavaScript WebSocket API][1], like this:\r\n\r\n    &lt;!-- ... --&gt;\r\n    &lt;script&gt;\r\n    try {\r\n        socket = new WebSocket(host);\r\n        socket.onopen = function(openEvent) {\r\n            // ...\r\n        };\r\n\r\n        socket.onmessage = function (messageEvent) {\r\n            if (messageEvent.data instanceof Blob) {\r\n                // ...\r\n            } else {\r\n                alert(messageEvent.data);\r\n            }\r\n        };\r\n\r\n        socket.onerror = function (errorEvent) {\r\n            // ...\r\n        };\r\n\r\n        socket.onclose = function (errorEvent) {\r\n            // ...\r\n        };\r\n    } catch (exception) {\r\n        if (window.console) console.log(exception);\r\n    }\r\n    &lt;/script&gt;\r\n    &lt;!-- ... --&gt;\r\n\r\nThen, you open that HTML page in your browser and it connects to your WebSocket server.\r\n\r\nSources: [here][2] or further down in [this answer to another question][3].\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/API/WebSocket\r\n  [2]: https://iditect.com/article/websocket-for-java.html\r\n  [3]: https://stackoverflow.com/a/57924245/11147707","title":"Java Websocket Client Not Including Key in Response","body":"<p>In addition to your Java WebSocket server, you need an HTML page that connects to your server via the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebSocket\" rel=\"nofollow noreferrer\">JavaScript WebSocket API</a>, like this:</p>\n<pre><code>&lt;!-- ... --&gt;\n&lt;script&gt;\ntry {\n    socket = new WebSocket(host);\n    socket.onopen = function(openEvent) {\n        // ...\n    };\n\n    socket.onmessage = function (messageEvent) {\n        if (messageEvent.data instanceof Blob) {\n            // ...\n        } else {\n            alert(messageEvent.data);\n        }\n    };\n\n    socket.onerror = function (errorEvent) {\n        // ...\n    };\n\n    socket.onclose = function (errorEvent) {\n        // ...\n    };\n} catch (exception) {\n    if (window.console) console.log(exception);\n}\n&lt;/script&gt;\n&lt;!-- ... --&gt;\n</code></pre>\n<p>Then, you open that HTML page in your browser and it connects to your WebSocket server.</p>\n<p>Sources: <a href=\"https://iditect.com/article/websocket-for-java.html\" rel=\"nofollow noreferrer\">here</a> or further down in <a href=\"https://stackoverflow.com/a/57924245/11147707\">this answer to another question</a>.</p>\n"}],"owner":{"account_id":23669257,"reputation":62,"user_id":17696276,"display_name":"2Amateurs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75288723,"answer_count":1,"score":0,"last_activity_date":1675104652,"creation_date":1675087339,"question_id":75285498,"body_markdown":"I am trying to make a websocket server in Java.  When I start the server and go to the IP address in Chrome or Edge, the browser sends this to the server: \r\n\r\n~~~\r\nGET / HTTP/1.1\r\nHost: 127.0.0.1:5801\r\nConnection: keep-alive\r\nsec-ch-ua: &quot;Not_A Brand&quot;;v=&quot;99&quot;, &quot;Microsoft Edge&quot;;v=&quot;109&quot;, &quot;Chromium&quot;;v=&quot;109&quot;\r\nsec-ch-ua-mobile: ?0\r\nsec-ch-ua-platform: &quot;Windows&quot;\r\nDNT: 1\r\nUpgrade-Insecure-Requests: 1\r\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.70\r\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9\r\nSec-Fetch-Site: none\r\nSec-Fetch-Mode: navigate\r\nSec-Fetch-User: ?1\r\nSec-Fetch-Dest: document\r\nAccept-Encoding: gzip, deflate, br\r\nAccept-Language: en-US,en;q=0.9\r\n~~~\r\n\r\nIt&#39;s not including ```Sec-Websocket-Key```, which I need to upgrade the connection.  Is there a way to request a websocket connection from the server?","title":"Java Websocket Client Not Including Key in Response","body":"<p>I am trying to make a websocket server in Java.  When I start the server and go to the IP address in Chrome or Edge, the browser sends this to the server:</p>\n<pre><code>GET / HTTP/1.1\nHost: 127.0.0.1:5801\nConnection: keep-alive\nsec-ch-ua: &quot;Not_A Brand&quot;;v=&quot;99&quot;, &quot;Microsoft Edge&quot;;v=&quot;109&quot;, &quot;Chromium&quot;;v=&quot;109&quot;\nsec-ch-ua-mobile: ?0\nsec-ch-ua-platform: &quot;Windows&quot;\nDNT: 1\nUpgrade-Insecure-Requests: 1\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.70\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9\nSec-Fetch-Site: none\nSec-Fetch-Mode: navigate\nSec-Fetch-User: ?1\nSec-Fetch-Dest: document\nAccept-Encoding: gzip, deflate, br\nAccept-Language: en-US,en;q=0.9\n</code></pre>\n<p>It's not including <code>Sec-Websocket-Key</code>, which I need to upgrade the connection.  Is there a way to request a websocket connection from the server?</p>\n"},{"tags":["java","android","date","formatting"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1675100163,"post_id":75288076,"comment_id":132851467,"body_markdown":"Did you try `DateFormat.FULL`?  The `LONG` format doesn&#39;t generally include the day of the week.","body":"Did you try <code>DateFormat.FULL</code>?  The <code>LONG</code> format doesn&#39;t generally include the day of the week."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675100584,"post_id":75288076,"comment_id":132851593,"body_markdown":"Consider not using `DateFormat` and other date and time classes from the mid-1990s. `DateFormat` is notoriously troublesome, and all those classes are long outdated. See if you can use [desugaring](https://developer.android.com/studio/write/java8-support) to use [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html). You wan classes `LocalDate`, `DateTimeFormatter` and `FormatStyle`.","body":"Consider not using <code>DateFormat</code> and other date and time classes from the mid-1990s. <code>DateFormat</code> is notoriously troublesome, and all those classes are long outdated. See if you can use <a href=\"https://developer.android.com/studio/write/java8-support\" rel=\"nofollow noreferrer\">desugaring</a> to use <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. You wan classes <code>LocalDate</code>, <code>DateTimeFormatter</code> and <code>FormatStyle</code>."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":3,"creation_date":1675100632,"post_id":75288076,"comment_id":132851608,"body_markdown":"Your problem is in architecture.  Nothing should be sending the date as a text string like that.  It should be sending it as an integer (from a predefined time, generally the epoch) or it should be sending it in a predefined format without words, and formatting it on the client side when displayed.","body":"Your problem is in architecture.  Nothing should be sending the date as a text string like that.  It should be sending it as an integer (from a predefined time, generally the epoch) or it should be sending it in a predefined format without words, and formatting it on the client side when displayed."},{"owner":{"account_id":23005379,"reputation":71,"user_id":17128751,"display_name":"mbob98"},"score":0,"creation_date":1675100641,"post_id":75288076,"comment_id":132851612,"body_markdown":"@DawoodibnKareem I just tried using FULL instead of LONG, and it appears to work for English and Spanish so far - I&#39;m going to try implementing it at this point, but it seems like changing it to DateFormat.FULL worked.","body":"@DawoodibnKareem I just tried using FULL instead of LONG, and it appears to work for English and Spanish so far - I&#39;m going to try implementing it at this point, but it seems like changing it to DateFormat.FULL worked."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1675100710,"post_id":75288076,"comment_id":132851631,"body_markdown":"@OleV.V. Are you sure the java.time classes include something equivalent to `DateFormat.FULL` or `DateFormat.LONG`?  I&#39;ve certainly never seen anything that would work for this.","body":"@OleV.V. Are you sure the java.time classes include something equivalent to <code>DateFormat.FULL</code> or <code>DateFormat.LONG</code>?  I&#39;ve certainly never seen anything that would work for this."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675100719,"post_id":75288076,"comment_id":132851633,"body_markdown":"@GabeSechan is very, very correct. Have the sender send the date in ISO 8601 standard[](https://en.wikipedia.org/wiki/ISO_8601) format. It goes like `2023-01-30`.","body":"@GabeSechan is very, very correct. Have the sender send the date in ISO 8601 standard[](<a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/ISO_8601</a>) format. It goes like <code>2023-01-30</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675100788,"post_id":75288076,"comment_id":132851658,"body_markdown":"Yes, @DawoodibnKareem, [I am in no doubt whatsoever](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/format/FormatStyle.html).","body":"Yes, @DawoodibnKareem, <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/format/FormatStyle.html\" rel=\"nofollow noreferrer\">I am in no doubt whatsoever</a>."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1675100830,"post_id":75288076,"comment_id":132851677,"body_markdown":"Thank you, @OleV.V., I had never seen that Enum before.","body":"Thank you, @OleV.V., I had never seen that Enum before."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675100915,"post_id":75288076,"comment_id":132851705,"body_markdown":"For example `LocalDate.parse(&quot;lundi 30 janvier 2023&quot;, DateTimeFormatter.ofLocalizedDate(FormatStyle.FULL).withLocale(Locale.FRENCH))` yields `2023-01-30`. Also @DawoodibnKareem","body":"For example <code>LocalDate.parse(&quot;lundi 30 janvier 2023&quot;, DateTimeFormatter.ofLocalizedDate(FormatStyle.FULL).withLoca&zwnj;&#8203;le(Locale.FRENCH))</code> yields <code>2023-01-30</code>. Also @DawoodibnKareem"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675101628,"post_id":75288076,"comment_id":132851920,"body_markdown":"A further reason for wanting the `LocalDate` class that you also mention in the question is that counting days is so straightforward: `ChronoUnit.DAYS.between(today, dateFromUser)`.","body":"A further reason for wanting the <code>LocalDate</code> class that you also mention in the question is that counting days is so straightforward: <code>ChronoUnit.DAYS.between(today, dateFromUser)</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675109519,"post_id":75288076,"comment_id":132854205,"body_markdown":"Usage: I think you mean *parse*, that is, convert from string to a date-time object, not *format*, which would be the opposite conversion. I might even suspect that Wijdane KHATTAT misunderstood when answering because you said the opposite of what you meant.","body":"Usage: I think you mean <i>parse</i>, that is, convert from string to a date-time object, not <i>format</i>, which would be the opposite conversion. I might even suspect that Wijdane KHATTAT misunderstood when answering because you said the opposite of what you meant."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1675115733,"post_id":75288076,"comment_id":132855885,"body_markdown":"FYI, you should not be exchanging date-time values as localized text. Use the standard [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) formats for textual data exchange and data storage.","body":"FYI, you should not be exchanging date-time values as localized text. Use the standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formats for textual data exchange and data storage."}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675105300,"post_id":75288822,"comment_id":132853039,"body_markdown":"Thanks for showing the modern way. *You must to configure your dates patterns for each language* No, this is not necessary. Just use `DateTimeFormatter.ofLocalizedDate(FormatStyle.FULL).withLocale(desiredLocale)`. May for example specify `Locale.getDefault()`.","body":"Thanks for showing the modern way. <i>You must to configure your dates patterns for each language</i> No, this is not necessary. Just use <code>DateTimeFormatter.ofLocalizedDate(FormatStyle.FULL).withLoca&zwnj;&#8203;le(desiredLocale)</code>. May for example specify <code>Locale.getDefault()</code>."},{"owner":{"account_id":10073203,"reputation":55,"user_id":7446167,"display_name":"Wijdane KHATTAT"},"score":1,"creation_date":1675108519,"post_id":75288822,"comment_id":132853918,"body_markdown":"Yes, just check  FormatStyle.FULL if it&#39;s compatible with your exactly pattern need.  (FormatStyle.LONG is not compatible cause not containing the day of week)","body":"Yes, just check  FormatStyle.FULL if it&#39;s compatible with your exactly pattern need.  (FormatStyle.LONG is not compatible cause not containing the day of week)"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675109179,"post_id":75288822,"comment_id":132854095,"body_markdown":"You may edit your answer to use this, and your answer will be more useful, I think.","body":"You may edit your answer to use this, and your answer will be more useful, I think."}],"tags":[],"owner":{"account_id":10073203,"reputation":55,"user_id":7446167,"display_name":"Wijdane KHATTAT"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675104414,"creation_date":1675104414,"answer_id":75288822,"question_id":75288076,"body_markdown":"You must to configure your dates patterns for each language (Locale) =&gt; This output is exactly what you want, try to adapt it with your function need :\r\n\r\n    public static void main(String[] args) {\r\n            Locale enLocale = Locale.UK;\r\n            String datePatternForEn = &quot;EEEE&#39;, &#39;MMMM&#39;, &#39;dd yyyy&quot;;\r\n            Locale frLocale = Locale.FRANCE;\r\n            String datePatternForFr = &quot;EEEE dd MMMM yyyy&quot;;\r\n            Locale spLocale = new Locale(&quot;es&quot;, &quot;ES&quot;);\r\n            String datePatternForSp = &quot;EEEE&#39;,&#39; dd&#39; de &#39;MMMM&#39; de &#39;yyyy&quot;;\r\n            DateTimeFormatter englishDateFormat = DateTimeFormatter.ofPattern(datePatternForEn, enLocale);\r\n            DateTimeFormatter frenchDateFormat = DateTimeFormatter.ofPattern(datePatternForFr, frLocale);\r\n            DateTimeFormatter spanishDateFormat = DateTimeFormatter.ofPattern(datePatternForSp, spLocale);\r\n            System.out.println(LocalDate.now().format(englishDateFormat));\r\n            System.out.println(LocalDate.now().format(frenchDateFormat));\r\n            System.out.println(LocalDate.now().format(spanishDateFormat));\r\n        }","title":"How would I format dates of different languages to get the difference between the current day and a day in the future?","body":"<p>You must to configure your dates patterns for each language (Locale) =&gt; This output is exactly what you want, try to adapt it with your function need :</p>\n<pre><code>public static void main(String[] args) {\n        Locale enLocale = Locale.UK;\n        String datePatternForEn = &quot;EEEE', 'MMMM', 'dd yyyy&quot;;\n        Locale frLocale = Locale.FRANCE;\n        String datePatternForFr = &quot;EEEE dd MMMM yyyy&quot;;\n        Locale spLocale = new Locale(&quot;es&quot;, &quot;ES&quot;);\n        String datePatternForSp = &quot;EEEE',' dd' de 'MMMM' de 'yyyy&quot;;\n        DateTimeFormatter englishDateFormat = DateTimeFormatter.ofPattern(datePatternForEn, enLocale);\n        DateTimeFormatter frenchDateFormat = DateTimeFormatter.ofPattern(datePatternForFr, frLocale);\n        DateTimeFormatter spanishDateFormat = DateTimeFormatter.ofPattern(datePatternForSp, spLocale);\n        System.out.println(LocalDate.now().format(englishDateFormat));\n        System.out.println(LocalDate.now().format(frenchDateFormat));\n        System.out.println(LocalDate.now().format(spanishDateFormat));\n    }\n</code></pre>\n"}],"owner":{"account_id":23005379,"reputation":71,"user_id":17128751,"display_name":"mbob98"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675104414,"creation_date":1675099955,"question_id":75288076,"body_markdown":"So the goal is to be able to get the current date (no problem there) and compare it to a date coming in, which can be either the current date or a date in the future. Not only that, but because of how other languages write out or structure dates, the date string that comes in can change format-wise depending on the language.\r\n\r\nIf the device is set to English, the string comes in like so:\r\n\r\n**&quot;Monday, January 30, 2023&quot;**\r\n\r\nBut if the device is set to French, the string looks like this instead:\r\n\r\n**&quot;lundi 30 janvier 2023&quot;**\r\n\r\n... and Spanish like this:\r\n\r\n**&quot;lunes, 30 de enero de 2023&quot;**\r\n\r\n... and so on. Italian is slightly different, and I&#39;ve also tried German, which is also slightly different.\r\n\r\nI did try DateFormat with DateFormat.LONG and Locale.getDefault() as the parameters (so that it would always use the Locale the device is set to and will always get the full date) but it throws an &quot;unparsable date&quot; error for every language, even the English string.\r\n\r\nHow would I take any of the given strings above and format them in a way that I can compare the date to the current date (a value like LocalDate.now())? Is there an overarching way to do so across languages, or do I need to create formats for all of these? The purpose is to see how far out the date asked for is from the current date to adjust what is visible in my app (done based on days - is the asked for date 3 days out from the current date? 4 days? 5?). \r\n\r\nThanks in advance for any and all help and insight!","title":"How would I format dates of different languages to get the difference between the current day and a day in the future?","body":"<p>So the goal is to be able to get the current date (no problem there) and compare it to a date coming in, which can be either the current date or a date in the future. Not only that, but because of how other languages write out or structure dates, the date string that comes in can change format-wise depending on the language.</p>\n<p>If the device is set to English, the string comes in like so:</p>\n<p><strong>&quot;Monday, January 30, 2023&quot;</strong></p>\n<p>But if the device is set to French, the string looks like this instead:</p>\n<p><strong>&quot;lundi 30 janvier 2023&quot;</strong></p>\n<p>... and Spanish like this:</p>\n<p><strong>&quot;lunes, 30 de enero de 2023&quot;</strong></p>\n<p>... and so on. Italian is slightly different, and I've also tried German, which is also slightly different.</p>\n<p>I did try DateFormat with DateFormat.LONG and Locale.getDefault() as the parameters (so that it would always use the Locale the device is set to and will always get the full date) but it throws an &quot;unparsable date&quot; error for every language, even the English string.</p>\n<p>How would I take any of the given strings above and format them in a way that I can compare the date to the current date (a value like LocalDate.now())? Is there an overarching way to do so across languages, or do I need to create formats for all of these? The purpose is to see how far out the date asked for is from the current date to adjust what is visible in my app (done based on days - is the asked for date 3 days out from the current date? 4 days? 5?).</p>\n<p>Thanks in advance for any and all help and insight!</p>\n"},{"tags":["java","discord","illegalstateexception","discord-jda"],"answers":[{"comments":[{"owner":{"account_id":22562352,"reputation":35,"user_id":16749841,"display_name":"Alex Cai"},"score":1,"creation_date":1675170598,"post_id":75288749,"comment_id":132867290,"body_markdown":"The channel variable belongs to PrivateMessage class, it is avaliable for both onReady() and onMessageReceived(), its scope is the entire class. And just as I said, if the message contains only raw content, it was working properly. There was an answer that actually solved my question, too bad that it was deleted. It suggested me that all I need is to use `String attachments = message.getAttachments().stream().map(Message.Attachment::getUrl).collect(Collectors.joining(&quot;\\n&quot;));` to add images, it is working well now.","body":"The channel variable belongs to PrivateMessage class, it is avaliable for both onReady() and onMessageReceived(), its scope is the entire class. And just as I said, if the message contains only raw content, it was working properly. There was an answer that actually solved my question, too bad that it was deleted. It suggested me that all I need is to use <code>String attachments = message.getAttachments().stream().map(Message.Attachment::ge&zwnj;&#8203;tUrl).collect(Collec&zwnj;&#8203;tors.joining(&quot;\\n&quot;));</code> to add images, it is working well now."}],"tags":[],"owner":{"account_id":26720981,"reputation":74,"user_id":20324831,"display_name":"Loso"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675103981,"creation_date":1675103981,"answer_id":75288749,"question_id":75172314,"body_markdown":" 1. The **channel** is not declared properly. It does not have a type... In this case you should use either `TextChannel channel = (whatever)` or `Channel channel = (whatever)`\r\n 2. You get the error message because **channel** is not within the scope of\r\n `onMessageReceived()` You need to learn about scopes.\r\n 3. The `onReady()` will have no use in this case. Just as i mentioned before... Because of scopes.\r\n\r\nHere is what your code should look like:\r\n\r\n        @Override\r\n    public void onMessageReceived(@NotNull MessageReceivedEvent event) {\r\n        if(event.isFromType(ChannelType.PRIVATE)){\r\n            TextChannel textChannel = event.getJDA().getGuildById(&quot;1046510699809079448&quot;).getTextChannelById(&quot;1046510701184831540&quot;);\r\n            textChannel.sendMessage(event.getMessage().getContentRaw()).queue();\r\n        }\r\n\r\nYou need to get the **TextChannel** from a **Guild** by using their ID&#39;s.\r\nThen you can get the message that was sent to the bot, by using **event.getMessage()** and getting its content via **.getContentRaw()**\r\nand send it using **textChannel.sendMessage().queue()**","title":"Transfer messages from direct message to specific channel using Java Discord API","body":"<ol>\n<li>The <strong>channel</strong> is not declared properly. It does not have a type... In this case you should use either <code>TextChannel channel = (whatever)</code> or <code>Channel channel = (whatever)</code></li>\n<li>You get the error message because <strong>channel</strong> is not within the scope of\n<code>onMessageReceived()</code> You need to learn about scopes.</li>\n<li>The <code>onReady()</code> will have no use in this case. Just as i mentioned before... Because of scopes.</li>\n</ol>\n<p>Here is what your code should look like:</p>\n<pre><code>    @Override\npublic void onMessageReceived(@NotNull MessageReceivedEvent event) {\n    if(event.isFromType(ChannelType.PRIVATE)){\n        TextChannel textChannel = event.getJDA().getGuildById(&quot;1046510699809079448&quot;).getTextChannelById(&quot;1046510701184831540&quot;);\n        textChannel.sendMessage(event.getMessage().getContentRaw()).queue();\n    }\n</code></pre>\n<p>You need to get the <strong>TextChannel</strong> from a <strong>Guild</strong> by using their ID's.\nThen you can get the message that was sent to the bot, by using <strong>event.getMessage()</strong> and getting its content via <strong>.getContentRaw()</strong>\nand send it using <strong>textChannel.sendMessage().queue()</strong></p>\n"}],"owner":{"account_id":22562352,"reputation":35,"user_id":16749841,"display_name":"Alex Cai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675103981,"creation_date":1674131676,"question_id":75172314,"body_markdown":"I want to make my bot in a server channel to say whatever an user dm it.\r\n```java\r\npublic class PrivateMessage extends ListenerAdapter\r\n{\r\n    private TextChannel channel;\r\n\r\n    @Override\r\n    public void onReady(@NotNull ReadyEvent event)\r\n    {\r\n        channel = event.getJDA().getChannelById(TextChannel.class, 962688156942073887L);\r\n    }\r\n\r\n    @Override\r\n    public void onMessageReceived(@NotNull MessageReceivedEvent event)\r\n    {\r\n        if (event.isFromType(ChannelType.PRIVATE))\r\n            channel.sendMessage(MessageCreateData.fromMessage(event.getMessage())).queue();\r\n    }\r\n}\r\n```\r\nAt first it was working properly, until I dm it an image.\r\n```\r\njava.lang.IllegalStateException: Cannot build an empty message. You need at least one of content, embeds, components, or files\r\n```\r\nHow can I fix this?","title":"Transfer messages from direct message to specific channel using Java Discord API","body":"<p>I want to make my bot in a server channel to say whatever an user dm it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PrivateMessage extends ListenerAdapter\n{\n    private TextChannel channel;\n\n    @Override\n    public void onReady(@NotNull ReadyEvent event)\n    {\n        channel = event.getJDA().getChannelById(TextChannel.class, 962688156942073887L);\n    }\n\n    @Override\n    public void onMessageReceived(@NotNull MessageReceivedEvent event)\n    {\n        if (event.isFromType(ChannelType.PRIVATE))\n            channel.sendMessage(MessageCreateData.fromMessage(event.getMessage())).queue();\n    }\n}\n</code></pre>\n<p>At first it was working properly, until I dm it an image.</p>\n<pre><code>java.lang.IllegalStateException: Cannot build an empty message. You need at least one of content, embeds, components, or files\n</code></pre>\n<p>How can I fix this?</p>\n"},{"tags":["java","android","seekbar"],"comments":[{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1558626230,"post_id":45329174,"comment_id":99171730,"body_markdown":"To change in layout see https://stackoverflow.com/questions/16163215/android-styling-seek-bar.","body":"To change in layout see <a href=\"https://stackoverflow.com/questions/16163215/android-styling-seek-bar\" title=\"android styling seek bar\">stackoverflow.com/questions/16163215/android-styling-seek-ba&zwnj;&#8203;r</a>."}],"answers":[{"tags":[],"owner":{"account_id":8700106,"reputation":1366,"user_id":6510301,"accept_rate":78,"display_name":"Anmol317"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501077923,"creation_date":1501077861,"answer_id":45329270,"question_id":45329174,"body_markdown":"You need to call you seekbar like this\r\n\r\n    SeekBar newSeek = new SeekBar(this, null, R.style.YOUR_NEW_STYLE);\r\n\r\nwhere `YOUR_NEW_STYLE` will define the colors of the `Seekbar` that you want.","title":"how to change SeekBar color in android? (Programmatically)","body":"<p>You need to call you seekbar like this</p>\n\n<pre><code>SeekBar newSeek = new SeekBar(this, null, R.style.YOUR_NEW_STYLE);\n</code></pre>\n\n<p>where <code>YOUR_NEW_STYLE</code> will define the colors of the <code>Seekbar</code> that you want.</p>\n"},{"comments":[{"owner":{"account_id":2068268,"reputation":42279,"user_id":1843331,"accept_rate":100,"display_name":"Tim"},"score":0,"creation_date":1501078103,"post_id":45329332,"comment_id":77620400,"body_markdown":"this does not change the thumb","body":"this does not change the thumb"}],"tags":[],"owner":{"account_id":5062380,"reputation":5275,"user_id":4063532,"accept_rate":75,"display_name":"Oussema Aroua"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501077982,"creation_date":1501077982,"answer_id":45329332,"question_id":45329174,"body_markdown":"try this :\r\n\r\n    seekBar.getProgressDrawable().setColorFilter(getResources().getColor(R.color.mcolor), PorterDuff.Mode.MULTIPLY);\r\n\r\n","title":"how to change SeekBar color in android? (Programmatically)","body":"<p>try this :</p>\n\n<pre><code>seekBar.getProgressDrawable().setColorFilter(getResources().getColor(R.color.mcolor), PorterDuff.Mode.MULTIPLY);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9354171,"reputation":683,"user_id":6942800,"display_name":"Przemyslaw Jablonski"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1501078123,"creation_date":1501078123,"answer_id":45329393,"question_id":45329174,"body_markdown":"        //seekBar.setBackgroundColor(Color.DKGRAY);\r\n        //seekBar.setDrawingCacheBackgroundColor(Color.DKGRAY);\r\nThere are few Views in Android SDK (ProgressBar is another example) in which you have to change colour using graphical color filters, instead of changing Background / Foreground source colour.\r\n\r\nFind `.setColorFilter()` method, supply your source colour into it with some PorterDuff filter, like `.Mode.MULTIPLY` (depending on what filter mode you like best) and there you go.\r\n\r\nExample:\r\n\r\n    seekBar.setColorFilter(new PorterDuffColorFilter(srcColor,PorterDuff.Mode.MULTIPLY));","title":"how to change SeekBar color in android? (Programmatically)","body":"<pre><code>    //seekBar.setBackgroundColor(Color.DKGRAY);\n    //seekBar.setDrawingCacheBackgroundColor(Color.DKGRAY);\n</code></pre>\n\n<p>There are few Views in Android SDK (ProgressBar is another example) in which you have to change colour using graphical color filters, instead of changing Background / Foreground source colour.</p>\n\n<p>Find <code>.setColorFilter()</code> method, supply your source colour into it with some PorterDuff filter, like <code>.Mode.MULTIPLY</code> (depending on what filter mode you like best) and there you go.</p>\n\n<p>Example:</p>\n\n<pre><code>seekBar.setColorFilter(new PorterDuffColorFilter(srcColor,PorterDuff.Mode.MULTIPLY));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4017930,"reputation":277,"user_id":3309334,"accept_rate":62,"display_name":"Alpoe"},"score":0,"creation_date":1501081001,"post_id":45329427,"comment_id":77622827,"body_markdown":"Thank you. I used the latter since i made the seekbars for the equalizer programmatically.  The progress color changes but i am unable to change the thumb. Anything i can do about that?","body":"Thank you. I used the latter since i made the seekbars for the equalizer programmatically.  The progress color changes but i am unable to change the thumb. Anything i can do about that?"},{"owner":{"account_id":10095682,"reputation":3461,"user_id":7461132,"accept_rate":83,"display_name":"Abhi"},"score":0,"creation_date":1501081370,"post_id":45329427,"comment_id":77623173,"body_markdown":"The first part of the answers states how to change color of seekbar thumb. I have added this code since it runs over a wider API range.","body":"The first part of the answers states how to change color of seekbar thumb. I have added this code since it runs over a wider API range."},{"owner":{"account_id":10095682,"reputation":3461,"user_id":7461132,"accept_rate":83,"display_name":"Abhi"},"score":0,"creation_date":1501081476,"post_id":45329427,"comment_id":77623267,"body_markdown":"Check the edited answer for Java code to change seekbar thumb color(works only for android 5 and above).","body":"Check the edited answer for Java code to change seekbar thumb color(works only for android 5 and above)."},{"owner":{"account_id":11471440,"reputation":112,"user_id":8408140,"display_name":"porya74"},"score":0,"creation_date":1598550172,"post_id":45329427,"comment_id":112503123,"body_markdown":"deprecated in high api levels","body":"deprecated in high api levels"}],"tags":[],"owner":{"account_id":10095682,"reputation":3461,"user_id":7461132,"accept_rate":83,"display_name":"Abhi"},"comment_count":4,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1501081821,"creation_date":1501078208,"answer_id":45329427,"question_id":45329174,"body_markdown":"To change the color of the `Seekbar` thumb, create a new style in `style.xml`\r\n\r\n    &lt;style name=&quot;SeekBarColor&quot;\r\n      parent=&quot;Widget.AppCompat.SeekBar&quot;&gt; \r\n      &lt;item name=&quot;colorAccent&quot;&gt;@color/your_color&lt;/item&gt; \r\n    &lt;/style&gt;\r\n\r\nFinally in the layout:\r\n\r\n    &lt;SeekBar\r\n      android:layout_width=&quot;match_parent&quot;\r\n      android:layout_height=&quot;wrap_content&quot;\r\n      android:theme=&quot;@style/SeekBarColor&quot; /&gt;\r\n\r\nTo change the `Seekbar` progress color, use this in Java Class.\r\n\r\n    seekBar.getProgressDrawable().setColorFilter(&quot;yourcolor&quot;, PorterDuff.Mode.MULTIPLY);\r\n\r\nBoth these will work for API&gt;16.\r\n\r\n**Edit**\r\n\r\nTo change SeekBar thumb color by Java code.\r\n  \r\n     seekBar.getProgressDrawable().setColorFilter(getResources().getColor(R.color.your_color), PorterDuff.Mode.SRC_ATOP);\r\n ","title":"how to change SeekBar color in android? (Programmatically)","body":"<p>To change the color of the <code>Seekbar</code> thumb, create a new style in <code>style.xml</code></p>\n\n<pre><code>&lt;style name=\"SeekBarColor\"\n  parent=\"Widget.AppCompat.SeekBar\"&gt; \n  &lt;item name=\"colorAccent\"&gt;@color/your_color&lt;/item&gt; \n&lt;/style&gt;\n</code></pre>\n\n<p>Finally in the layout:</p>\n\n<pre><code>&lt;SeekBar\n  android:layout_width=\"match_parent\"\n  android:layout_height=\"wrap_content\"\n  android:theme=\"@style/SeekBarColor\" /&gt;\n</code></pre>\n\n<p>To change the <code>Seekbar</code> progress color, use this in Java Class.</p>\n\n<pre><code>seekBar.getProgressDrawable().setColorFilter(\"yourcolor\", PorterDuff.Mode.MULTIPLY);\n</code></pre>\n\n<p>Both these will work for API>16.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>To change SeekBar thumb color by Java code.</p>\n\n<pre><code> seekBar.getProgressDrawable().setColorFilter(getResources().getColor(R.color.your_color), PorterDuff.Mode.SRC_ATOP);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13321778,"reputation":71,"user_id":9616158,"display_name":"Georges daou"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1523212394,"creation_date":1523212394,"answer_id":49721343,"question_id":45329174,"body_markdown":"While using a style is a good idea, it does not provide much flexibility specially if you want to assign the colors programmatically I suggest:\r\n\r\n \r\n   `//for the progress \r\nseekBar.getProgressDrawable().setColorFilter(mThemeColor,PorterDuff.Mode.SRC_ATOP);\r\n//for the thumb handle\r\nseekBar.getThumb().setColorFilter(mThemeColor, PorterDuff.Mode.SRC_ATOP);`","title":"how to change SeekBar color in android? (Programmatically)","body":"<p>While using a style is a good idea, it does not provide much flexibility specially if you want to assign the colors programmatically I suggest:</p>\n\n<p><code>//for the progress \nseekBar.getProgressDrawable().setColorFilter(mThemeColor,PorterDuff.Mode.SRC_ATOP);\n//for the thumb handle\nseekBar.getThumb().setColorFilter(mThemeColor, PorterDuff.Mode.SRC_ATOP);</code></p>\n"},{"tags":[],"owner":{"account_id":2757379,"reputation":557,"user_id":4569915,"display_name":"twenk11k"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533367365,"creation_date":1533367365,"answer_id":51683448,"question_id":45329174,"body_markdown":"You can change seekbar thumb and progress colors for programmatically like this:\r\n\r\n       seekBar.getProgressDrawable().setColorFilter(Utils.getAccentColor(this), PorterDuff.Mode.SRC_IN);\r\n       seekBar.getThumb().setColorFilter(Utils.getAccentColor(this), PorterDuff.Mode.SRC_IN);\r\n      ","title":"how to change SeekBar color in android? (Programmatically)","body":"<p>You can change seekbar thumb and progress colors for programmatically like this:</p>\n\n<pre><code>   seekBar.getProgressDrawable().setColorFilter(Utils.getAccentColor(this), PorterDuff.Mode.SRC_IN);\n   seekBar.getThumb().setColorFilter(Utils.getAccentColor(this), PorterDuff.Mode.SRC_IN);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10449334,"reputation":52,"user_id":7703465,"display_name":"Ashwin"},"score":1,"creation_date":1585653709,"post_id":53968509,"comment_id":107830856,"body_markdown":"It has been helpful.","body":"It has been helpful."}],"tags":[],"owner":{"account_id":8684774,"reputation":2195,"user_id":6499555,"accept_rate":50,"display_name":"Sachin Varma"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1546077618,"creation_date":1546077618,"answer_id":53968509,"question_id":45329174,"body_markdown":"You can easily change it via code,\r\n\r\nFor example:\r\n\r\n    seekbar.setProgressTintList(ColorStateList.valueOf(Color.parseColor(#000000)));\r\n\r\nor\r\n\r\n    seekbar.setProgressTintList(ColorStateList.valueOf(Color.RED));\r\n\r\nHoping that it will be helpfull for someone in future.","title":"how to change SeekBar color in android? (Programmatically)","body":"<p>You can easily change it via code,</p>\n\n<p>For example:</p>\n\n<pre><code>seekbar.setProgressTintList(ColorStateList.valueOf(Color.parseColor(#000000)));\n</code></pre>\n\n<p>or</p>\n\n<pre><code>seekbar.setProgressTintList(ColorStateList.valueOf(Color.RED));\n</code></pre>\n\n<p>Hoping that it will be helpfull for someone in future.</p>\n"},{"tags":[],"owner":{"account_id":6651349,"reputation":4535,"user_id":7756492,"display_name":"ucMedia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573732940,"creation_date":1573732940,"answer_id":58856347,"question_id":45329174,"body_markdown":"Just a little more peachy answer\r\n\r\n    public static void setSeekBarColor(SeekBar seekBar, int color) {\r\n        seekBar.getProgressDrawable().setColorFilter(color, PorterDuff.Mode.MULTIPLY);\r\n        seekBar.getThumb().setColorFilter(color, PorterDuff.Mode.SRC_ATOP);\r\n    }\r\n","title":"how to change SeekBar color in android? (Programmatically)","body":"<p>Just a little more peachy answer</p>\n\n<pre><code>public static void setSeekBarColor(SeekBar seekBar, int color) {\n    seekBar.getProgressDrawable().setColorFilter(color, PorterDuff.Mode.MULTIPLY);\n    seekBar.getThumb().setColorFilter(color, PorterDuff.Mode.SRC_ATOP);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2559530,"reputation":1322,"user_id":2220839,"accept_rate":33,"display_name":"moyo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675103417,"creation_date":1675103417,"answer_id":75288654,"question_id":45329174,"body_markdown":"Kotlin version, and without using deprecated methods:\r\n````\r\nval colorFilter = BlendModeColorFilterCompat.createBlendModeColorFilterCompat(\r\n    Resources.getSystem().getColor(R.color.your_color, null),\r\n    BlendModeCompat.SRC_ATOP\r\n)\r\n\r\n// SeekBar progress color\r\nseekBar.progressDrawable.colorFilter = colorFilter\r\n// SeekBar thumb handle color\r\nseekBar.thumb.colorFilter = colorFilter\r\n````","title":"how to change SeekBar color in android? (Programmatically)","body":"<p>Kotlin version, and without using deprecated methods:</p>\n<pre><code>val colorFilter = BlendModeColorFilterCompat.createBlendModeColorFilterCompat(\n    Resources.getSystem().getColor(R.color.your_color, null),\n    BlendModeCompat.SRC_ATOP\n)\n\n// SeekBar progress color\nseekBar.progressDrawable.colorFilter = colorFilter\n// SeekBar thumb handle color\nseekBar.thumb.colorFilter = colorFilter\n</code></pre>\n"}],"owner":{"account_id":4017930,"reputation":277,"user_id":3309334,"accept_rate":62,"display_name":"Alpoe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22941,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":45329427,"answer_count":9,"score":12,"last_activity_date":1675103417,"creation_date":1501077651,"question_id":45329174,"body_markdown":"I made an equalizer to go with my app but I am not sure how I can change the seekbar&#39;s thumb and progress color. It seems to be pink by default and that doesn&#39;t fit my app&#39;s aesthetics.\r\n\r\n\r\n     SeekBar seekBar = new SeekBar(this);\r\n\r\n            seekBar.setId(i);\r\n\r\n            seekBar.setLayoutParams(layoutParams);\r\n            seekBar.setMax(upperEqualizerBandLevel - lowerEqualizerBandLevel);\r\n\r\n            seekBar.setProgress(mEqualizer.getBandLevel(equalizerBandIndex));\r\n            //seekBar.setBackgroundColor(Color.DKGRAY);\r\n            //seekBar.setDrawingCacheBackgroundColor(Color.DKGRAY);","title":"how to change SeekBar color in android? (Programmatically)","body":"<p>I made an equalizer to go with my app but I am not sure how I can change the seekbar's thumb and progress color. It seems to be pink by default and that doesn't fit my app's aesthetics.</p>\n\n<pre><code> SeekBar seekBar = new SeekBar(this);\n\n        seekBar.setId(i);\n\n        seekBar.setLayoutParams(layoutParams);\n        seekBar.setMax(upperEqualizerBandLevel - lowerEqualizerBandLevel);\n\n        seekBar.setProgress(mEqualizer.getBandLevel(equalizerBandIndex));\n        //seekBar.setBackgroundColor(Color.DKGRAY);\n        //seekBar.setDrawingCacheBackgroundColor(Color.DKGRAY);\n</code></pre>\n"},{"tags":["java","spring-boot","logging","logback"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675103068,"creation_date":1675103068,"answer_id":75288604,"question_id":75286211,"body_markdown":"Add the following to `application.properties`:\r\n\r\n    logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} %-5level ${PID} --- [${spring.application.name}]  [%thread] %logger{36} : %msg%n\r\n    spring.application.name=@project.name@\r\n\r\nSample output:\r\n\r\n    2023-01-30 18:21:22 INFO  5340 --- [qualifier]  [main] c.example.demo.QualifierApplication : Starting QualifierApplication using Java 11.0.15 on NB-3HP3HG3 with PID 5340 (C:\\workspaces\\stackoverflow_workspace\\qualifier\\target\\classes started by WilliamsJ in C:\\workspaces\\stackoverflow_workspace\\qualifier)\r\n    2023-01-30 18:21:22 INFO  5340 --- [qualifier]  [main] c.example.demo.QualifierApplication : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-01-30 18:21:22 INFO  5340 --- [qualifier]  [main] o.s.b.w.e.tomcat.TomcatWebServer : Tomcat initialized with port(s): 8080 (http)\r\n\r\n","title":"Issue arranging SpringBoot console output log","body":"<p>Add the following to <code>application.properties</code>:</p>\n<pre><code>logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} %-5level ${PID} --- [${spring.application.name}]  [%thread] %logger{36} : %msg%n\nspring.application.name=@project.name@\n</code></pre>\n<p>Sample output:</p>\n<pre><code>2023-01-30 18:21:22 INFO  5340 --- [qualifier]  [main] c.example.demo.QualifierApplication : Starting QualifierApplication using Java 11.0.15 on NB-3HP3HG3 with PID 5340 (C:\\workspaces\\stackoverflow_workspace\\qualifier\\target\\classes started by WilliamsJ in C:\\workspaces\\stackoverflow_workspace\\qualifier)\n2023-01-30 18:21:22 INFO  5340 --- [qualifier]  [main] c.example.demo.QualifierApplication : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-01-30 18:21:22 INFO  5340 --- [qualifier]  [main] o.s.b.w.e.tomcat.TomcatWebServer : Tomcat initialized with port(s): 8080 (http)\n</code></pre>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75288604,"answer_count":1,"score":0,"last_activity_date":1675103068,"creation_date":1675090912,"question_id":75286211,"body_markdown":"Small question on how to re arrange a SpringBoot application output log please.\r\n\r\nIt is well known, if no configuration change, the logs seen in **console** for a SpringBoot app looks like this:\r\n\r\n```\r\n2023-01-30T21:21:06.076+08:00  INFO 5216 --- [           main] org.example.Main                         : Started Main in 3.544 seconds (process running for 4.151)\r\n2023-01-30T21:21:06.078+08:00 DEBUG 5216 --- [           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state LivenessState changed to CORRECT\r\n\r\n```\r\n\r\nIt is a timestamp -&gt; log level -&gt; PID -&gt; --- -&gt; thread -&gt; the class\r\n\r\nI just want to rearrange the order to something like:\r\n\r\ntimestamp -&gt; PID -&gt; log level -&gt; --- -&gt; applicationName -&gt; thread -&gt; the class\r\n\r\nSomething like:\r\n\r\n```\r\n2023-01-30T21:21:06.076+08:00 5216  INFO --- [myappName][           main] org.example.Main                         : Started Main in 3.544 seconds (process running for 4.151)\r\n2023-01-30T21:21:06.078+08:00 5216 DEBUG --- [myappName][           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state LivenessState changed to CORRECT\r\n\r\n```\r\n\r\nWhat I tried:\r\n\r\nI saw there is a property for that, and I tried:\r\n\r\n```logging.pattern.level=%5p [${spring.application.name:},%X{traceId:-},%X{spanId:-}]```\r\n\r\nHowever, this is not giving the correct output.\r\n\r\nMay I ask what is the pattern in order to have this please?\r\n\r\n```\r\n2023-01-30T21:21:06.076+08:00 5216  INFO --- [myappName][           main] org.example.Main                         : Started Main in 3.544 seconds (process running for 4.151)\r\n2023-01-30T21:21:06.078+08:00 5216 DEBUG --- [myappName][           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state LivenessState changed to CORRECT\r\n```\r\n\r\nThank you","title":"Issue arranging SpringBoot console output log","body":"<p>Small question on how to re arrange a SpringBoot application output log please.</p>\n<p>It is well known, if no configuration change, the logs seen in <strong>console</strong> for a SpringBoot app looks like this:</p>\n<pre><code>2023-01-30T21:21:06.076+08:00  INFO 5216 --- [           main] org.example.Main                         : Started Main in 3.544 seconds (process running for 4.151)\n2023-01-30T21:21:06.078+08:00 DEBUG 5216 --- [           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state LivenessState changed to CORRECT\n\n</code></pre>\n<p>It is a timestamp -&gt; log level -&gt; PID -&gt; --- -&gt; thread -&gt; the class</p>\n<p>I just want to rearrange the order to something like:</p>\n<p>timestamp -&gt; PID -&gt; log level -&gt; --- -&gt; applicationName -&gt; thread -&gt; the class</p>\n<p>Something like:</p>\n<pre><code>2023-01-30T21:21:06.076+08:00 5216  INFO --- [myappName][           main] org.example.Main                         : Started Main in 3.544 seconds (process running for 4.151)\n2023-01-30T21:21:06.078+08:00 5216 DEBUG --- [myappName][           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state LivenessState changed to CORRECT\n\n</code></pre>\n<p>What I tried:</p>\n<p>I saw there is a property for that, and I tried:</p>\n<p><code>logging.pattern.level=%5p [${spring.application.name:},%X{traceId:-},%X{spanId:-}]</code></p>\n<p>However, this is not giving the correct output.</p>\n<p>May I ask what is the pattern in order to have this please?</p>\n<pre><code>2023-01-30T21:21:06.076+08:00 5216  INFO --- [myappName][           main] org.example.Main                         : Started Main in 3.544 seconds (process running for 4.151)\n2023-01-30T21:21:06.078+08:00 5216 DEBUG --- [myappName][           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state LivenessState changed to CORRECT\n</code></pre>\n<p>Thank you</p>\n"},{"tags":["java","multidimensional-array","combinatorics"],"comments":[{"owner":{"account_id":2979716,"reputation":12923,"user_id":2529954,"display_name":"EricLavault"},"score":1,"creation_date":1674925834,"post_id":75263504,"comment_id":132819804,"body_markdown":"You forgot to mention the constraint of having only disjoint subsets made of consecutive elements from the input set. Or, you are missing partitions like `[[1, 3], [2, 4], [5, 6]]`.","body":"You forgot to mention the constraint of having only disjoint subsets made of consecutive elements from the input set. Or, you are missing partitions like <code>[[1, 3], [2, 4], [5, 6]]</code>."},{"owner":{"account_id":14859215,"reputation":39,"user_id":10730661,"display_name":"bha_1999"},"score":0,"creation_date":1675102884,"post_id":75263504,"comment_id":132852300,"body_markdown":"Yea, I mentioned subArrays, not subsets. I thought it would be obvious, but I&#39;ll update the question just to be clear, thanks","body":"Yea, I mentioned subArrays, not subsets. I thought it would be obvious, but I&#39;ll update the question just to be clear, thanks"}],"owner":{"account_id":14859215,"reputation":39,"user_id":10730661,"display_name":"bha_1999"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675103036,"creation_date":1674854718,"question_id":75263504,"body_markdown":"It&#39;s a combinatorics problem. We can partition the array at max n-1 times and out of it, we have to choose k-1 partitions.\r\n\r\nEx: arr[] = {1, 2, 3, 4, 5, 6}\r\nk = 3, n = 6.\r\n\r\nTotal possibilities = ``` (n-1)C(k-1)``` 5C2 = 10.\r\n\r\nExpected Output : (3-dimensional array)\r\n---------------------------------------\r\n```\r\n[\r\n[[1], [2], [3, 4, 5, 6]], \r\n[[1], [2, 3], [4, 5, 6]], \r\n[[1], [2, 3, 4], [5, 6]], \r\n[[1], [2, 3, 4, 5], [6]],\r\n[[1, 2], [3], [4, 5, 6]], \r\n[[1, 2], [3, 4], [5, 6]], \r\n[[1, 2], [3, 4, 5], [6]], \r\n[[1, 2, 3], [4, 5], [6]],\r\n[[1, 2, 3, 4], [5], [6]],\r\n]\r\n```\r\nConstraints: \r\n1) Subarrays should have at least 1 element. \r\n2) SubArrays should only consist of consecutive elements. \r\nFor ex: [[1, 3], [2, 4], [5, 6]] This is not valid.\r\n\r\nSo far, I have tried a recursive method but it yields wrong results. I can&#39;t wrap my head around how to correct it. I need an answer explaining how to approach this problem properly and the intuition behind it first and then correct my code and point out where I went wrong.\r\n\r\nMy code:\r\n\r\n```\r\n public static void main(String[] args) {\r\n        int n = 6;\r\n        int k = 3;\r\n        int[] arr = new int[]{1,2,3,4,5,6};\r\n        ArrayList&lt;ArrayList&lt;ArrayList&lt;Integer&gt;&gt;&gt; result = new ArrayList&lt;ArrayList&lt;ArrayList&lt;Integer&gt;&gt;&gt;();\r\n        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; eachComb = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\r\n        ArrayList&lt;Integer&gt; eachSubArray = new ArrayList&lt;Integer&gt;();\r\n        int index = 0;\r\n        \r\n        generateCombinations(arr, k, index, eachSubArray, eachComb, result);\r\n        \r\n        for (ArrayList&lt;ArrayList&lt;Integer&gt;&gt; each : result) {\r\n        \tfor(ArrayList&lt;Integer&gt; eachh: each) {\r\n        \t\tSystem.out.println(eachh);\r\n        \t}\r\n        \tSystem.out.println(&quot;-------------------------------&quot;);\r\n        }\r\n    }\r\n\r\n\tprivate static void generateCombinations(int[] arr, int k, int index, ArrayList&lt;Integer&gt; eachSubArray,\r\n\t\t\tArrayList&lt;ArrayList&lt;Integer&gt;&gt; eachComb, ArrayList&lt;ArrayList&lt;ArrayList&lt;Integer&gt;&gt;&gt; result) {\r\n\t\t\r\n\r\n\t\tif(k==0 || index==arr.length) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\r\n\t\tif(!eachSubArray.isEmpty()) {\r\n\t\t\teachComb.add(new ArrayList&lt;&gt;(eachSubArray));\r\n\t\t}\r\n\t\t\r\n\t\tif(k==1) {\r\n\t\t\tArrayList&lt;Integer&gt; last = new ArrayList&lt;Integer&gt;();\r\n\t\t\tfor(int i=index; i&lt;arr.length; i++) {\r\n\t\t\t\tlast.add(arr[i]);\r\n\t\t\t}\r\n\t\t\tif(!last.isEmpty()) {\r\n\t\t\t\teachComb.add((last));\r\n\t\t\t\tresult.add(new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;(eachComb));\r\n\t\t\t\teachComb.remove(eachComb.size()-1);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\teachSubArray.clear();\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tfor(int i=index; i&lt;arr.length; i++) {\r\n\t\t\teachSubArray.add((arr[i]));\r\n\t\t\tgenerateCombinations(arr, k-1, i+1, eachSubArray, eachComb, result);\r\n\t\t\tif(!eachComb.isEmpty()) {\r\n\t\t\t\teachComb.remove(eachComb.size()-1);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n```","title":"Generate all possible combinations of an array of size n having exactly k subarrays","body":"<p>It's a combinatorics problem. We can partition the array at max n-1 times and out of it, we have to choose k-1 partitions.</p>\n<p>Ex: arr[] = {1, 2, 3, 4, 5, 6}\nk = 3, n = 6.</p>\n<p>Total possibilities = <code> (n-1)C(k-1)</code> 5C2 = 10.</p>\n<h2>Expected Output : (3-dimensional array)</h2>\n<pre><code>[\n[[1], [2], [3, 4, 5, 6]], \n[[1], [2, 3], [4, 5, 6]], \n[[1], [2, 3, 4], [5, 6]], \n[[1], [2, 3, 4, 5], [6]],\n[[1, 2], [3], [4, 5, 6]], \n[[1, 2], [3, 4], [5, 6]], \n[[1, 2], [3, 4, 5], [6]], \n[[1, 2, 3], [4, 5], [6]],\n[[1, 2, 3, 4], [5], [6]],\n]\n</code></pre>\n<p>Constraints:</p>\n<ol>\n<li>Subarrays should have at least 1 element.</li>\n<li>SubArrays should only consist of consecutive elements.\nFor ex: [[1, 3], [2, 4], [5, 6]] This is not valid.</li>\n</ol>\n<p>So far, I have tried a recursive method but it yields wrong results. I can't wrap my head around how to correct it. I need an answer explaining how to approach this problem properly and the intuition behind it first and then correct my code and point out where I went wrong.</p>\n<p>My code:</p>\n<pre><code> public static void main(String[] args) {\n        int n = 6;\n        int k = 3;\n        int[] arr = new int[]{1,2,3,4,5,6};\n        ArrayList&lt;ArrayList&lt;ArrayList&lt;Integer&gt;&gt;&gt; result = new ArrayList&lt;ArrayList&lt;ArrayList&lt;Integer&gt;&gt;&gt;();\n        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; eachComb = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\n        ArrayList&lt;Integer&gt; eachSubArray = new ArrayList&lt;Integer&gt;();\n        int index = 0;\n        \n        generateCombinations(arr, k, index, eachSubArray, eachComb, result);\n        \n        for (ArrayList&lt;ArrayList&lt;Integer&gt;&gt; each : result) {\n            for(ArrayList&lt;Integer&gt; eachh: each) {\n                System.out.println(eachh);\n            }\n            System.out.println(&quot;-------------------------------&quot;);\n        }\n    }\n\n    private static void generateCombinations(int[] arr, int k, int index, ArrayList&lt;Integer&gt; eachSubArray,\n            ArrayList&lt;ArrayList&lt;Integer&gt;&gt; eachComb, ArrayList&lt;ArrayList&lt;ArrayList&lt;Integer&gt;&gt;&gt; result) {\n        \n\n        if(k==0 || index==arr.length) {\n            return;\n        }\n        \n\n        if(!eachSubArray.isEmpty()) {\n            eachComb.add(new ArrayList&lt;&gt;(eachSubArray));\n        }\n        \n        if(k==1) {\n            ArrayList&lt;Integer&gt; last = new ArrayList&lt;Integer&gt;();\n            for(int i=index; i&lt;arr.length; i++) {\n                last.add(arr[i]);\n            }\n            if(!last.isEmpty()) {\n                eachComb.add((last));\n                result.add(new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;(eachComb));\n                eachComb.remove(eachComb.size()-1);\n            }\n            return;\n        }\n        \n        eachSubArray.clear();\n        \n        \n        \n        for(int i=index; i&lt;arr.length; i++) {\n            eachSubArray.add((arr[i]));\n            generateCombinations(arr, k-1, i+1, eachSubArray, eachComb, result);\n            if(!eachComb.isEmpty()) {\n                eachComb.remove(eachComb.size()-1);\n            }\n        }\n        \n    }\n</code></pre>\n"},{"tags":["java","security","ssl","mockserver"],"owner":{"account_id":3298176,"reputation":7146,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675102679,"creation_date":1675102679,"question_id":75288539,"body_markdown":"There is a Java unit test using MockServer.\r\n\r\nFor failed SSL handshake emulation I intend to use a certain certificate:\r\nan instance of a class extending `java.security.cert.Certificate`.\r\n\r\nI tried to find something in the [docs][1], but it only describes how to use the SSL context defined by MockServer, without mentioning options of custom SSL contexts. \r\n\r\nHow to make MockServer apply a user-defined certificate for SSL handshakes?\r\n\r\n\r\n  [1]: https://www.mock-server.com/mock_server/HTTPS_TLS.html","title":"How to use custom certificates in MockServer SSL context?","body":"<p>There is a Java unit test using MockServer.</p>\n<p>For failed SSL handshake emulation I intend to use a certain certificate:\nan instance of a class extending <code>java.security.cert.Certificate</code>.</p>\n<p>I tried to find something in the <a href=\"https://www.mock-server.com/mock_server/HTTPS_TLS.html\" rel=\"nofollow noreferrer\">docs</a>, but it only describes how to use the SSL context defined by MockServer, without mentioning options of custom SSL contexts.</p>\n<p>How to make MockServer apply a user-defined certificate for SSL handshakes?</p>\n"},{"tags":["java","android","bundle","parcelable"],"comments":[{"owner":{"account_id":4079753,"reputation":2891,"user_id":3350516,"accept_rate":50,"display_name":"rorschach"},"score":0,"creation_date":1472904622,"post_id":39306586,"comment_id":65946276,"body_markdown":"Does it actually give you the line number where that Exception is thrown?","body":"Does it actually give you the line number where that Exception is thrown?"},{"owner":{"account_id":7113086,"reputation":211,"user_id":5440307,"display_name":"Prashant"},"score":0,"creation_date":1472904734,"post_id":39306586,"comment_id":65946310,"body_markdown":"Ya it says 197 it&#39;s the first line of handle bundle method where I m checking bundle null,  \n\nCaused by java.lang.IllegalArgumentException: Duplicate key in ArrayMap: null\n       at android.util.ArrayMap.validate(ArrayMap.java:550)\n       at android.os.Parcel.readArrayMapInternal(Parcel.java:2486)\n       at android.os.BaseBundle.unparcel(BaseBundle.java:221)\n       at android.os.BaseBundle.containsKey(BaseBundle.java:269)\n       at com.example.fragments.QuestionSwipeFragment.handleBundle(SourceFile:197)","body":"Ya it says 197 it&#39;s the first line of handle bundle method where I m checking bundle null,    Caused by java.lang.IllegalArgumentException: Duplicate key in ArrayMap: null        at android.util.ArrayMap.validate(ArrayMap.java:550)        at android.os.Parcel.readArrayMapInternal(Parcel.java:2486)        at android.os.BaseBundle.unparcel(BaseBundle.java:221)        at android.os.BaseBundle.containsKey(BaseBundle.java:269)        at com.example.fragments.QuestionSwipeFragment.handleBundle(Sou&zwnj;&#8203;rceFile:197)"},{"owner":{"account_id":6537320,"reputation":374,"user_id":5056336,"display_name":"Harshikesh Kumar"},"score":0,"creation_date":1477314932,"post_id":39306586,"comment_id":67702020,"body_markdown":"can you paste your ResourceModel class code here.","body":"can you paste your ResourceModel class code here."},{"owner":{"account_id":5234507,"reputation":2709,"user_id":4183558,"accept_rate":75,"display_name":"mattfred"},"score":1,"creation_date":1547566050,"post_id":39306586,"comment_id":95230725,"body_markdown":"Was this ever solved? I&#39;m getting this same error.","body":"Was this ever solved? I&#39;m getting this same error."},{"owner":{"account_id":1324396,"reputation":122,"user_id":4065151,"display_name":"Vijay Sonawane"},"score":1,"creation_date":1580273559,"post_id":39306586,"comment_id":106039192,"body_markdown":"Is this issue resolved, facing same in crashlytics?","body":"Is this issue resolved, facing same in crashlytics?"},{"owner":{"account_id":2343554,"reputation":4272,"user_id":2054348,"accept_rate":50,"display_name":"Sagar Shah"},"score":0,"creation_date":1643658689,"post_id":39306586,"comment_id":125394488,"body_markdown":"Still have any solutions ?","body":"Still have any solutions ?"},{"owner":{"account_id":1501298,"reputation":313,"user_id":1405843,"accept_rate":100,"display_name":"jonathan3087"},"score":0,"creation_date":1674497654,"post_id":39306586,"comment_id":132722114,"body_markdown":"I added a bounty, here is my crashlytics log:  (wouldn&#39;t let me add my log, was too long.  Do I need to add it as an answer, that doesn&#39;t seem to be the right place.","body":"I added a bounty, here is my crashlytics log:  (wouldn&#39;t let me add my log, was too long.  Do I need to add it as an answer, that doesn&#39;t seem to be the right place."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1674557647,"post_id":39306586,"comment_id":132734536,"body_markdown":"@jonathan3087 the right place would have been a new question. Its rather unlikely that your problem is related to this question from 2016 when you say that you *didnt* have this problem *from* 2017 to ??? (some rather recent date?).","body":"@jonathan3087 the right place would have been a new question. Its rather unlikely that your problem is related to this question from 2016 when you say that you <i>didnt</i> have this problem <i>from</i> 2017 to ??? (some rather recent date?)."}],"answers":[{"tags":[],"owner":{"account_id":13268646,"reputation":26,"user_id":9580471,"display_name":"sansecy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629106587,"creation_date":1629106587,"answer_id":68800466,"question_id":39306586,"body_markdown":"When I have this problem it&#39;s actually caused by other exceptions\r\n\r\nMy problem is caused by starting an Activity that is not exported\r\n\r\nSolution:\r\n1. Check that your passed argument does have multiple **null** keys\r\n2. Check whether an Activity that is not set to export has been started (for starting other apps)\r\n3. You can set references directly to fragments without passing them through **bundle**","title":"Android java.lang.IllegalArgumentException: Duplicate key in ArrayMap: null","body":"<p>When I have this problem it's actually caused by other exceptions</p>\n<p>My problem is caused by starting an Activity that is not exported</p>\n<p>Solution:</p>\n<ol>\n<li>Check that your passed argument does have multiple <strong>null</strong> keys</li>\n<li>Check whether an Activity that is not set to export has been started (for starting other apps)</li>\n<li>You can set references directly to fragments without passing them through <strong>bundle</strong></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1501298,"reputation":313,"user_id":1405843,"accept_rate":100,"display_name":"jonathan3087"},"score":1,"creation_date":1675177323,"post_id":75283105,"comment_id":132869729,"body_markdown":"I have checked these things previously, but still haven&#39;t found the problem.  So, I will go through and check these again.  Thank you for the reply.  It will be a few days before I get back to it, but I will.","body":"I have checked these things previously, but still haven&#39;t found the problem.  So, I will go through and check these again.  Thank you for the reply.  It will be a few days before I get back to it, but I will."}],"tags":[],"owner":{"account_id":3488220,"reputation":574,"user_id":2918533,"accept_rate":52,"display_name":"AndyBoy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675097298,"creation_date":1675074552,"answer_id":75283105,"question_id":39306586,"body_markdown":"@jonathan3087\r\nPlease check below things in your Parcelable class:\r\n - Order of your Parcelable class&#39;s field in `writeToParcel()`\r\n - Key name or reusing key or not\r\n - check proguard keep\r\n\r\n","title":"Android java.lang.IllegalArgumentException: Duplicate key in ArrayMap: null","body":"<p>@jonathan3087\nPlease check below things in your Parcelable class:</p>\n<ul>\n<li>Order of your Parcelable class's field in <code>writeToParcel()</code></li>\n<li>Key name or reusing key or not</li>\n<li>check proguard keep</li>\n</ul>\n"}],"owner":{"account_id":7113086,"reputation":211,"user_id":5440307,"display_name":"Prashant"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2576,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1675101868,"creation_date":1472903542,"question_id":39306586,"body_markdown":"I&#39;m getting this error \r\n\r\n&gt; Caused by java.lang.IllegalArgumentException: Duplicate key in ArrayMap: null at android.util.ArrayMap.validate(ArrayMap.java:550) at android.os.Parcel.readArrayMapInternal(Parcel.java:2486) at android.os.BaseBundle.unparcel(BaseBundle.java:221) at android.os.BaseBundle.containsKey(BaseBundle.java:269) at com.example.fragments.QuestionSwipeFragment.handleBundle(SourceFile:197) \r\n\r\nnot in my current device but it is coming from crashlytics, but I can&#39;t regenerate this issue in my own device tried all possible ways but can&#39;t get this same error in my device, below is my code, answers would be really appreciated.\r\n\r\n    public class QuestionSwipeFragment extends DialogFragment {\r\n    \r\n        private View mRootView;\r\n        private int mPosition;\r\n        private List&lt;ResourceModel&gt; mResourceList;\r\n        private QuestionSwipePagerAdapter mQuestionSwipePagerAdapter;\r\n        private ViewPager mPager;\r\n    \r\n        private int mSelectedChapterId;\r\n        private int mSelectedSectionId;\r\n        private int mSelectedSubSectionId;\r\n        private boolean mSelectedFavourite;\r\n    \r\n        private boolean mIsFavourite;\r\n        private boolean mIsPagination;\r\n    \r\n        private int mCurrentPage;\r\n        private int mTotalPage;\r\n    \r\n        int mResourcePageNo;\r\n        int mMarkId;\r\n        int mDifficulties;\r\n    \r\n        private int mFragmentType;\r\n    \r\n        private int mFragType;\r\n        private PaginationParams mPaginationParams = new PaginationParams();\r\n    \r\n        private static final int RESOURCE_ALL = -1;\r\n    \r\n        private boolean onDestroy = false;\r\n    \r\n        private static final String API_TYPE_PAGINATION = &quot;pagination&quot;;\r\n    \r\n        public QuestionSwipeFragment() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n        public static DialogFragment newInstance(List&lt;ResourceModel&gt; mResourceList, int id, int fragType, boolean isFavourited, boolean isPaginationRequest,\r\n                                                 int chapterId, int sectionId,\r\n                                                 int resourcePageNo, int markId,\r\n                                                 int difficulties, int currentPage,\r\n                                                 int totalPage) {\r\n            Bundle bundle = new Bundle();\r\n            QuestionSwipeFragment fragment = new QuestionSwipeFragment();\r\n    \r\n            bundle.putParcelableArrayList(Constants.QUESTION_SWIPE_RESOURCE_LIST, (ArrayList&lt;? extends Parcelable&gt;) mResourceList);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_RESOURCE_LIST_POSTION, id);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_TYPE_FRAGMENT, fragType);\r\n    \r\n            bundle.putBoolean(Constants.QUESTION_SWIPE_ISFAVOURITED, isFavourited);\r\n            bundle.putBoolean(Constants.QUESTION_SWIPE_ISPAGINATIONREQUEST, isPaginationRequest);\r\n    \r\n            bundle.putInt(Constants.QUESTION_SWIPE_SELECTED_CHAPTER_ID, chapterId);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_SELECTED_SECTION_ID, sectionId);\r\n    \r\n            bundle.putInt(Constants.QUESTION_SWIPE_RESOURCEPAGE_NO, resourcePageNo);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_MARKID, markId);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_DIFFICULTIES, difficulties);\r\n    \r\n    \r\n            bundle.putInt(Constants.QUESTION_SWIPE_CURRENTPAGE, currentPage);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_TOTALPAGE, totalPage);\r\n    \r\n            fragment.setArguments(bundle);\r\n            return fragment;\r\n        }\r\n    \r\n        public static DialogFragment newInstance(List&lt;ResourceModel&gt; mResourceList, int position, int fragType,\r\n                                                 int selectedChapterId, int selectedSectionId, int selectedSubSectionId, int currentPage, int totalPage) {\r\n            Bundle bundle = new Bundle();\r\n            QuestionSwipeFragment fragment = new QuestionSwipeFragment();\r\n            bundle.putParcelableArrayList(Constants.QUESTION_SWIPE_RESOURCE_LIST, (ArrayList&lt;? extends Parcelable&gt;) mResourceList);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_RESOURCE_LIST_POSTION, position);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_TYPE_FRAGMENT, fragType);\r\n    \r\n            bundle.putInt(Constants.QUESTION_SWIPE_SELECTED_CHAPTER_ID, selectedChapterId);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_SELECTED_SECTION_ID, selectedSectionId);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_SELECTED_SUBSECTION_ID, selectedSubSectionId);\r\n    \r\n            bundle.putInt(Constants.QUESTION_SWIPE_CURRENTPAGE, currentPage);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_TOTALPAGE, totalPage);\r\n    \r\n            bundle.putInt(Constants.QUESTION_SWIPE_CURRENTFRAGMENT, fragType);\r\n    \r\n            fragment.setArguments(bundle);\r\n            return fragment;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            handleBundle(getArguments());\r\n            setStyle(DialogFragment.STYLE_NORMAL, R.style.MyMaterialTheme);\r\n        }\r\n\r\n    //the below method is causing IllegalArgumentException\r\n     private void handleBundle(Bundle bundle) {\r\n              if (bundle != null) {\r\n                    if (bundle.containsKey(Constants.QUESTION_SWIPE_RESOURCE_LIST)) {\r\n                        mResourceList = bundle.getParcelableArrayList(Constants.QUESTION_SWIPE_RESOURCE_LIST);\r\n                        mPosition = bundle.getInt(Constants.QUESTION_SWIPE_RESOURCE_LIST_POSTION);\r\n                        mFragType = bundle.getInt(Constants.QUESTION_SWIPE_TYPE_FRAGMENT);\r\n        \r\n                        mSelectedChapterId = bundle.getInt(Constants.QUESTION_SWIPE_SELECTED_CHAPTER_ID);\r\n                        mSelectedSectionId = bundle.getInt(Constants.QUESTION_SWIPE_SELECTED_SECTION_ID);\r\n        \r\n                        mSelectedSubSectionId = bundle.getInt(Constants.QUESTION_SWIPE_SELECTED_SUBSECTION_ID);\r\n        \r\n                        mIsFavourite = bundle.getBoolean(Constants.QUESTION_SWIPE_ISFAVOURITED);\r\n                        mIsPagination = bundle.getBoolean(Constants.QUESTION_SWIPE_ISPAGINATIONREQUEST);\r\n        \r\n                        mCurrentPage = bundle.getInt(Constants.QUESTION_SWIPE_CURRENTPAGE);\r\n                        mTotalPage = bundle.getInt(Constants.QUESTION_SWIPE_TOTALPAGE);\r\n        \r\n                        mResourcePageNo = bundle.getInt(Constants.QUESTION_SWIPE_RESOURCEPAGE_NO);\r\n                        mMarkId = bundle.getInt(Constants.QUESTION_SWIPE_MARKID);\r\n                        mDifficulties = bundle.getInt(Constants.QUESTION_SWIPE_DIFFICULTIES);\r\n        \r\n                        mFragmentType = bundle.getInt(Constants.QUESTION_SWIPE_CURRENTFRAGMENT);\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\nAnd below is the code where i am starting this fragment from adapter\r\n\r\n    private void setonClickListeners(ResourceQuestionsViewHolder viewHolder, final int position) {\r\n            viewHolder.mContainerView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n   \r\n                    DialogFragment questionSwipeFragment = QuestionSwipeFragment.newInstance(getExtractResourceInfo(position).getExtractedList(), getExtractResourceInfo(position).getPosition(), Constants.QB_DETAILS_FRAGMENT, isFavourited, isPaginationRequest, chapterId, sectionId, resourcePageNo, markId, difficulties, mCurrentPage, mTotalPage);\r\n                    questionSwipeFragment.show(((QuestionBankActivity) mContext).getSupportFragmentManager(), &quot;dialog&quot;);\r\n    \r\n                }\r\n            });\r\n    }\r\n\r\n    private void setonLongClickListener(SubSectionResourceQuestionsViewHolder viewHolder, final int position) {\r\n            viewHolder.mContainerView.setOnLongClickListener(new View.OnLongClickListener() {\r\n                @Override\r\n                public boolean onLongClick(View v) {\r\n\r\n                    DialogFragment questionBankFragment = QBSubSectionDetailFragment.newInstance(mResourceList, false, position);\r\n                    questionBankFragment.show(((SynopsisActivity) mContext).getSupportFragmentManager(), &quot;dialog&quot;);\r\n    \r\n                    return true;\r\n                }\r\n            });\r\n        }\r\n     ","title":"Android java.lang.IllegalArgumentException: Duplicate key in ArrayMap: null","body":"<p>I'm getting this error</p>\n<blockquote>\n<p>Caused by java.lang.IllegalArgumentException: Duplicate key in ArrayMap: null at android.util.ArrayMap.validate(ArrayMap.java:550) at android.os.Parcel.readArrayMapInternal(Parcel.java:2486) at android.os.BaseBundle.unparcel(BaseBundle.java:221) at android.os.BaseBundle.containsKey(BaseBundle.java:269) at com.example.fragments.QuestionSwipeFragment.handleBundle(SourceFile:197)</p>\n</blockquote>\n<p>not in my current device but it is coming from crashlytics, but I can't regenerate this issue in my own device tried all possible ways but can't get this same error in my device, below is my code, answers would be really appreciated.</p>\n<pre><code>public class QuestionSwipeFragment extends DialogFragment {\n\n    private View mRootView;\n    private int mPosition;\n    private List&lt;ResourceModel&gt; mResourceList;\n    private QuestionSwipePagerAdapter mQuestionSwipePagerAdapter;\n    private ViewPager mPager;\n\n    private int mSelectedChapterId;\n    private int mSelectedSectionId;\n    private int mSelectedSubSectionId;\n    private boolean mSelectedFavourite;\n\n    private boolean mIsFavourite;\n    private boolean mIsPagination;\n\n    private int mCurrentPage;\n    private int mTotalPage;\n\n    int mResourcePageNo;\n    int mMarkId;\n    int mDifficulties;\n\n    private int mFragmentType;\n\n    private int mFragType;\n    private PaginationParams mPaginationParams = new PaginationParams();\n\n    private static final int RESOURCE_ALL = -1;\n\n    private boolean onDestroy = false;\n\n    private static final String API_TYPE_PAGINATION = &quot;pagination&quot;;\n\n    public QuestionSwipeFragment() {\n        // Required empty public constructor\n    }\n\n    public static DialogFragment newInstance(List&lt;ResourceModel&gt; mResourceList, int id, int fragType, boolean isFavourited, boolean isPaginationRequest,\n                                             int chapterId, int sectionId,\n                                             int resourcePageNo, int markId,\n                                             int difficulties, int currentPage,\n                                             int totalPage) {\n        Bundle bundle = new Bundle();\n        QuestionSwipeFragment fragment = new QuestionSwipeFragment();\n\n        bundle.putParcelableArrayList(Constants.QUESTION_SWIPE_RESOURCE_LIST, (ArrayList&lt;? extends Parcelable&gt;) mResourceList);\n        bundle.putInt(Constants.QUESTION_SWIPE_RESOURCE_LIST_POSTION, id);\n        bundle.putInt(Constants.QUESTION_SWIPE_TYPE_FRAGMENT, fragType);\n\n        bundle.putBoolean(Constants.QUESTION_SWIPE_ISFAVOURITED, isFavourited);\n        bundle.putBoolean(Constants.QUESTION_SWIPE_ISPAGINATIONREQUEST, isPaginationRequest);\n\n        bundle.putInt(Constants.QUESTION_SWIPE_SELECTED_CHAPTER_ID, chapterId);\n        bundle.putInt(Constants.QUESTION_SWIPE_SELECTED_SECTION_ID, sectionId);\n\n        bundle.putInt(Constants.QUESTION_SWIPE_RESOURCEPAGE_NO, resourcePageNo);\n        bundle.putInt(Constants.QUESTION_SWIPE_MARKID, markId);\n        bundle.putInt(Constants.QUESTION_SWIPE_DIFFICULTIES, difficulties);\n\n\n        bundle.putInt(Constants.QUESTION_SWIPE_CURRENTPAGE, currentPage);\n        bundle.putInt(Constants.QUESTION_SWIPE_TOTALPAGE, totalPage);\n\n        fragment.setArguments(bundle);\n        return fragment;\n    }\n\n    public static DialogFragment newInstance(List&lt;ResourceModel&gt; mResourceList, int position, int fragType,\n                                             int selectedChapterId, int selectedSectionId, int selectedSubSectionId, int currentPage, int totalPage) {\n        Bundle bundle = new Bundle();\n        QuestionSwipeFragment fragment = new QuestionSwipeFragment();\n        bundle.putParcelableArrayList(Constants.QUESTION_SWIPE_RESOURCE_LIST, (ArrayList&lt;? extends Parcelable&gt;) mResourceList);\n        bundle.putInt(Constants.QUESTION_SWIPE_RESOURCE_LIST_POSTION, position);\n        bundle.putInt(Constants.QUESTION_SWIPE_TYPE_FRAGMENT, fragType);\n\n        bundle.putInt(Constants.QUESTION_SWIPE_SELECTED_CHAPTER_ID, selectedChapterId);\n        bundle.putInt(Constants.QUESTION_SWIPE_SELECTED_SECTION_ID, selectedSectionId);\n        bundle.putInt(Constants.QUESTION_SWIPE_SELECTED_SUBSECTION_ID, selectedSubSectionId);\n\n        bundle.putInt(Constants.QUESTION_SWIPE_CURRENTPAGE, currentPage);\n        bundle.putInt(Constants.QUESTION_SWIPE_TOTALPAGE, totalPage);\n\n        bundle.putInt(Constants.QUESTION_SWIPE_CURRENTFRAGMENT, fragType);\n\n        fragment.setArguments(bundle);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        handleBundle(getArguments());\n        setStyle(DialogFragment.STYLE_NORMAL, R.style.MyMaterialTheme);\n    }\n\n//the below method is causing IllegalArgumentException\n private void handleBundle(Bundle bundle) {\n          if (bundle != null) {\n                if (bundle.containsKey(Constants.QUESTION_SWIPE_RESOURCE_LIST)) {\n                    mResourceList = bundle.getParcelableArrayList(Constants.QUESTION_SWIPE_RESOURCE_LIST);\n                    mPosition = bundle.getInt(Constants.QUESTION_SWIPE_RESOURCE_LIST_POSTION);\n                    mFragType = bundle.getInt(Constants.QUESTION_SWIPE_TYPE_FRAGMENT);\n    \n                    mSelectedChapterId = bundle.getInt(Constants.QUESTION_SWIPE_SELECTED_CHAPTER_ID);\n                    mSelectedSectionId = bundle.getInt(Constants.QUESTION_SWIPE_SELECTED_SECTION_ID);\n    \n                    mSelectedSubSectionId = bundle.getInt(Constants.QUESTION_SWIPE_SELECTED_SUBSECTION_ID);\n    \n                    mIsFavourite = bundle.getBoolean(Constants.QUESTION_SWIPE_ISFAVOURITED);\n                    mIsPagination = bundle.getBoolean(Constants.QUESTION_SWIPE_ISPAGINATIONREQUEST);\n    \n                    mCurrentPage = bundle.getInt(Constants.QUESTION_SWIPE_CURRENTPAGE);\n                    mTotalPage = bundle.getInt(Constants.QUESTION_SWIPE_TOTALPAGE);\n    \n                    mResourcePageNo = bundle.getInt(Constants.QUESTION_SWIPE_RESOURCEPAGE_NO);\n                    mMarkId = bundle.getInt(Constants.QUESTION_SWIPE_MARKID);\n                    mDifficulties = bundle.getInt(Constants.QUESTION_SWIPE_DIFFICULTIES);\n    \n                    mFragmentType = bundle.getInt(Constants.QUESTION_SWIPE_CURRENTFRAGMENT);\n                }\n            }\n        }\n</code></pre>\n<p>And below is the code where i am starting this fragment from adapter</p>\n<pre><code>private void setonClickListeners(ResourceQuestionsViewHolder viewHolder, final int position) {\n        viewHolder.mContainerView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                DialogFragment questionSwipeFragment = QuestionSwipeFragment.newInstance(getExtractResourceInfo(position).getExtractedList(), getExtractResourceInfo(position).getPosition(), Constants.QB_DETAILS_FRAGMENT, isFavourited, isPaginationRequest, chapterId, sectionId, resourcePageNo, markId, difficulties, mCurrentPage, mTotalPage);\n                questionSwipeFragment.show(((QuestionBankActivity) mContext).getSupportFragmentManager(), &quot;dialog&quot;);\n\n            }\n        });\n}\n\nprivate void setonLongClickListener(SubSectionResourceQuestionsViewHolder viewHolder, final int position) {\n        viewHolder.mContainerView.setOnLongClickListener(new View.OnLongClickListener() {\n            @Override\n            public boolean onLongClick(View v) {\n\n                DialogFragment questionBankFragment = QBSubSectionDetailFragment.newInstance(mResourceList, false, position);\n                questionBankFragment.show(((SynopsisActivity) mContext).getSupportFragmentManager(), &quot;dialog&quot;);\n\n                return true;\n            }\n        });\n    }\n \n</code></pre>\n"},{"tags":["java","spring","spring-boot","kotlin","exception"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":3,"creation_date":1674507682,"post_id":75214653,"comment_id":132725061,"body_markdown":"Why have you set your ApiError fields private ? Have you tried making them public instead ?","body":"Why have you set your ApiError fields private ? Have you tried making them public instead ?"}],"answers":[{"comments":[{"owner":{"account_id":11299355,"reputation":726,"user_id":9377977,"display_name":"Mike"},"score":0,"creation_date":1690359955,"post_id":75288372,"comment_id":135340954,"body_markdown":"That was it! You&#39;re a genius!","body":"That was it! You&#39;re a genius!"}],"tags":[],"owner":{"account_id":13068865,"reputation":357,"user_id":9443176,"display_name":"Max Aminov"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675101678,"creation_date":1675101678,"answer_id":75288372,"question_id":75214653,"body_markdown":"As you defined all properties in your `ApiError` data class as private they are not visible to Jackson ObjectMapper serializer which is included in spring-web. \r\n\r\nSo to solve your issue you just need *to remove **private** modifier* like this:\r\n\r\n```\r\ndata class ApiError(\r\n    val requestUri: String? = null,\r\n    val status: Int = 0,\r\n    val statusText: String? = null,\r\n    val createdAt: ZonedDateTime = ZonedDateTime.now(ZoneId.of(&quot;Europe/Warsaw&quot;)),\r\n    val errorMessage: String? = null,\r\n)\r\n```","title":"@RestControllerAdvice paired with @ExceptionHandler is not returning a JSON from a data class","body":"<p>As you defined all properties in your <code>ApiError</code> data class as private they are not visible to Jackson ObjectMapper serializer which is included in spring-web.</p>\n<p>So to solve your issue you just need <em>to remove <strong>private</strong> modifier</em> like this:</p>\n<pre><code>data class ApiError(\n    val requestUri: String? = null,\n    val status: Int = 0,\n    val statusText: String? = null,\n    val createdAt: ZonedDateTime = ZonedDateTime.now(ZoneId.of(&quot;Europe/Warsaw&quot;)),\n    val errorMessage: String? = null,\n)\n</code></pre>\n"}],"owner":{"account_id":3931383,"reputation":1862,"user_id":4012392,"accept_rate":58,"display_name":"hc0re"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75288372,"answer_count":1,"score":2,"last_activity_date":1675101678,"creation_date":1674505257,"question_id":75214653,"body_markdown":"I&#39;m writing a small app using Kotlin with Spring Boot 3. I wanted to have a nice exception handling, so I have created a class annotated with `@RestControllerAdvice`, having a couple of methods annotated with `@ExceptionHandler`. I have created a `data class` to store the returned body data:\r\n\r\n    data class ApiError(\r\n        private val requestUri: String? = null,\r\n        private val status: Int = 0,\r\n        private val statusText: String? = null,\r\n        private val createdAt: ZonedDateTime = ZonedDateTime.now(ZoneId.of(&quot;Europe/Warsaw&quot;)),\r\n        private val errorMessage: String? = null,\r\n    )\r\n\r\nThe rest is quite simple:\r\n\r\n    @RestControllerAdvice\r\n    class ControllerExceptionHandler {\r\n    \r\n        @ExceptionHandler(HttpRequestMethodNotSupportedException::class)\r\n        fun methodNotSupportedException(\r\n            exception: HttpRequestMethodNotSupportedException,\r\n            request: HttpServletRequest,\r\n        ): ResponseEntity&lt;ApiError&gt; {\r\n            println(buildApiError(request, HttpStatus.METHOD_NOT_ALLOWED, exception))\r\n            return ResponseEntity(\r\n                buildApiError(request, HttpStatus.METHOD_NOT_ALLOWED, exception),\r\n                HttpStatus.METHOD_NOT_ALLOWED,\r\n            )\r\n        }\r\n    \r\n        @ExceptionHandler(NotFoundException::class)\r\n        fun notFoundExceptionHandler(\r\n            exception: NotFoundException,\r\n            request: HttpServletRequest,\r\n        ): ResponseEntity&lt;ApiError&gt; {\r\n            println(buildApiError(request, HttpStatus.NOT_FOUND, exception))\r\n            return ResponseEntity(\r\n                buildApiError(request, HttpStatus.NOT_FOUND, exception),\r\n                HttpStatus.NOT_FOUND,\r\n            )\r\n        }\r\n\r\n        private fun buildApiError(\r\n            request: HttpServletRequest,\r\n            httpStatus: HttpStatus,\r\n            throwable: Throwable,\r\n        ): ApiError {\r\n            return ApiError(\r\n                requestUri = request.requestURI,\r\n                status = httpStatus.value(),\r\n                statusText = httpStatus.reasonPhrase,\r\n                errorMessage = throwable.message,\r\n            )\r\n        }\r\n    }\r\n\r\nAnd there is this (do not worry about the quality of this code, it is just for testing purposes.\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(\r\n        path = [&quot;/hello&quot;],\r\n    )\r\n    class HelloController {\r\n    \r\n        @GetMapping(&quot;/{name}&quot;, produces = [MediaType.APPLICATION_JSON_VALUE])\r\n        private fun hello(@PathVariable name: String): ResponseEntity&lt;Map&lt;String, String&gt;&gt; {\r\n    \r\n            // this is a forced exception so the @ExceptionHandlers could handle them.\r\n            if (name.lowercase() == &quot;stefan&quot;) throw NotFoundException(&quot;Name not found!&quot;)\r\n            return ResponseEntity.ok(mapOf(&quot;Hello&quot; to &quot;$name!&quot;))\r\n        }\r\n    }\r\n\r\nThe problem is that when I run the app and send a `GET` request to `http://localhost:8080/hello/myrealname I just receive a tiny object:\r\n\r\n    {\r\n    \t&quot;Hello&quot;: &quot;myrealname&quot;\r\n    }\r\n\r\nBut when I either POST to this endpoint or GET with name &quot;stefan&quot; to trigger the exception, I have received a proper status code, either 500 or 404, but the body of my response was empty!\r\n\r\nLater on I tried to return a string or a map instead of my `ApiError` class, everything was fine, the body was there, either a map or a string. But when I want to return an instance of `ApiError`, the body is empty. Bare `&#39;{}&#39;`. Is there something wrong with my object? This is not the first time I have worked with exception handling in a controller advice class, and I have never had a situation like this.\r\n\r\nWhat could be the possible cause of this problem? Is there a better, more Kotlin-ish approach to this? Any extension methods I have no idea about maybe?\r\n\r\nHonest thank You for any clues :)\r\n","title":"@RestControllerAdvice paired with @ExceptionHandler is not returning a JSON from a data class","body":"<p>I'm writing a small app using Kotlin with Spring Boot 3. I wanted to have a nice exception handling, so I have created a class annotated with <code>@RestControllerAdvice</code>, having a couple of methods annotated with <code>@ExceptionHandler</code>. I have created a <code>data class</code> to store the returned body data:</p>\n<pre><code>data class ApiError(\n    private val requestUri: String? = null,\n    private val status: Int = 0,\n    private val statusText: String? = null,\n    private val createdAt: ZonedDateTime = ZonedDateTime.now(ZoneId.of(&quot;Europe/Warsaw&quot;)),\n    private val errorMessage: String? = null,\n)\n</code></pre>\n<p>The rest is quite simple:</p>\n<pre><code>@RestControllerAdvice\nclass ControllerExceptionHandler {\n\n    @ExceptionHandler(HttpRequestMethodNotSupportedException::class)\n    fun methodNotSupportedException(\n        exception: HttpRequestMethodNotSupportedException,\n        request: HttpServletRequest,\n    ): ResponseEntity&lt;ApiError&gt; {\n        println(buildApiError(request, HttpStatus.METHOD_NOT_ALLOWED, exception))\n        return ResponseEntity(\n            buildApiError(request, HttpStatus.METHOD_NOT_ALLOWED, exception),\n            HttpStatus.METHOD_NOT_ALLOWED,\n        )\n    }\n\n    @ExceptionHandler(NotFoundException::class)\n    fun notFoundExceptionHandler(\n        exception: NotFoundException,\n        request: HttpServletRequest,\n    ): ResponseEntity&lt;ApiError&gt; {\n        println(buildApiError(request, HttpStatus.NOT_FOUND, exception))\n        return ResponseEntity(\n            buildApiError(request, HttpStatus.NOT_FOUND, exception),\n            HttpStatus.NOT_FOUND,\n        )\n    }\n\n    private fun buildApiError(\n        request: HttpServletRequest,\n        httpStatus: HttpStatus,\n        throwable: Throwable,\n    ): ApiError {\n        return ApiError(\n            requestUri = request.requestURI,\n            status = httpStatus.value(),\n            statusText = httpStatus.reasonPhrase,\n            errorMessage = throwable.message,\n        )\n    }\n}\n</code></pre>\n<p>And there is this (do not worry about the quality of this code, it is just for testing purposes.</p>\n<pre><code>@RestController\n@RequestMapping(\n    path = [&quot;/hello&quot;],\n)\nclass HelloController {\n\n    @GetMapping(&quot;/{name}&quot;, produces = [MediaType.APPLICATION_JSON_VALUE])\n    private fun hello(@PathVariable name: String): ResponseEntity&lt;Map&lt;String, String&gt;&gt; {\n\n        // this is a forced exception so the @ExceptionHandlers could handle them.\n        if (name.lowercase() == &quot;stefan&quot;) throw NotFoundException(&quot;Name not found!&quot;)\n        return ResponseEntity.ok(mapOf(&quot;Hello&quot; to &quot;$name!&quot;))\n    }\n}\n</code></pre>\n<p>The problem is that when I run the app and send a <code>GET</code> request to `http://localhost:8080/hello/myrealname I just receive a tiny object:</p>\n<pre><code>{\n    &quot;Hello&quot;: &quot;myrealname&quot;\n}\n</code></pre>\n<p>But when I either POST to this endpoint or GET with name &quot;stefan&quot; to trigger the exception, I have received a proper status code, either 500 or 404, but the body of my response was empty!</p>\n<p>Later on I tried to return a string or a map instead of my <code>ApiError</code> class, everything was fine, the body was there, either a map or a string. But when I want to return an instance of <code>ApiError</code>, the body is empty. Bare <code>'{}'</code>. Is there something wrong with my object? This is not the first time I have worked with exception handling in a controller advice class, and I have never had a situation like this.</p>\n<p>What could be the possible cause of this problem? Is there a better, more Kotlin-ish approach to this? Any extension methods I have no idea about maybe?</p>\n<p>Honest thank You for any clues :)</p>\n"},{"tags":["javascript","java","mysql","spring-boot","spring-thymeleaf"],"comments":[{"owner":{"account_id":10570375,"reputation":768,"user_id":7787367,"display_name":"stan chacon"},"score":0,"creation_date":1675108515,"post_id":75288322,"comment_id":132853917,"body_markdown":"The best way you can do this in my personal opinion is with a database scheduled job.","body":"The best way you can do this in my personal opinion is with a database scheduled job."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675117732,"post_id":75288322,"comment_id":132856355,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":25751493,"reputation":1,"user_id":19503964,"display_name":"faysalsanf"},"score":0,"creation_date":1675345052,"post_id":75288322,"comment_id":132911833,"body_markdown":"Thank you for your various interventions.\nHow could I create a scheduled task in the database that will automatically change the status to expired if the end date is equal to the machine&#39;s local date.","body":"Thank you for your various interventions. How could I create a scheduled task in the database that will automatically change the status to expired if the end date is equal to the machine&#39;s local date."},{"owner":{"account_id":25751493,"reputation":1,"user_id":19503964,"display_name":"faysalsanf"},"score":0,"creation_date":1675855379,"post_id":75288322,"comment_id":133016476,"body_markdown":"Ok my code is in french","body":"Ok my code is in french"}],"owner":{"account_id":25751493,"reputation":1,"user_id":19503964,"display_name":"faysalsanf"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675101364,"creation_date":1675101364,"question_id":75288322,"body_markdown":"My company just started using contracts. I created a value in the Status picklist called Expired for expired contracts. My goal is to automate the setting of the value to Expired without asking the sales people to do it. My company just started using contracts. I created a value in the Status picklist called Expired for expired contracts. My goal is to automate the setting of the value to Expired without asking the sales people to do it.\r\n\r\nI use Spring boot and Thymeleaf.\r\n\r\nI have done several searches on the internet but I can&#39;t find a solution. Could someone help me find a suitable solution.\r\n\r\nI use Spring boot, Thymeleaf and MySql as my Database Management System.","title":"How to automatically update the expired status on contracts when they expire? Spring boot","body":"<p>My company just started using contracts. I created a value in the Status picklist called Expired for expired contracts. My goal is to automate the setting of the value to Expired without asking the sales people to do it. My company just started using contracts. I created a value in the Status picklist called Expired for expired contracts. My goal is to automate the setting of the value to Expired without asking the sales people to do it.</p>\n<p>I use Spring boot and Thymeleaf.</p>\n<p>I have done several searches on the internet but I can't find a solution. Could someone help me find a suitable solution.</p>\n<p>I use Spring boot, Thymeleaf and MySql as my Database Management System.</p>\n"},{"tags":["java","kotlin","mockk"],"owner":{"account_id":7662345,"reputation":113,"user_id":5807216,"display_name":"Albert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675101353,"creation_date":1675101010,"question_id":75288256,"body_markdown":"I have tried using [mockk.io][1] constructor&#39;s mocking with `java.io.FileReader`\r\n\r\n```kotlin\r\nimport java.io.FileReader\r\nimport io.mockk.mockkConstructor\r\n\r\nmockkConstructor(FileReader::class)\r\n\r\nevery {  constructedWith&lt;FileReader&gt;(EqMatcher(&quot;/etc/resolv.conf&quot;)).readLines()} returns listOf(&quot;127.0.0.1&quot;)\r\n// code dies here\r\n\r\n\r\nval f = FileReader(&quot;/etc/resolv.conf&quot;).readLines()\r\nf.forEach { println(it) }\r\n```\r\n\r\nWhen I run it in my tests, it runs for 10 seconds without effects and dies without any error.&lt;br&gt;\r\nIn debug mode, when stopping randomly, I can see, that it visits following classes:\r\nCollections.java, Throwable.java, Arrays.java, Object.java, HashMap.java.\r\n\r\nI&#39;ve checked and it works for my own simple classes.\r\n\r\nWhat may be wrong with my code?\r\n\r\n  [1]: https://mockk.io/#constructor-mocks","title":"Mockk mockkConstructor doesn&#39;t work for FileReader","body":"<p>I have tried using <a href=\"https://mockk.io/#constructor-mocks\" rel=\"nofollow noreferrer\">mockk.io</a> constructor's mocking with <code>java.io.FileReader</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import java.io.FileReader\nimport io.mockk.mockkConstructor\n\nmockkConstructor(FileReader::class)\n\nevery {  constructedWith&lt;FileReader&gt;(EqMatcher(&quot;/etc/resolv.conf&quot;)).readLines()} returns listOf(&quot;127.0.0.1&quot;)\n// code dies here\n\n\nval f = FileReader(&quot;/etc/resolv.conf&quot;).readLines()\nf.forEach { println(it) }\n</code></pre>\n<p>When I run it in my tests, it runs for 10 seconds without effects and dies without any error.<br>\nIn debug mode, when stopping randomly, I can see, that it visits following classes:\nCollections.java, Throwable.java, Arrays.java, Object.java, HashMap.java.</p>\n<p>I've checked and it works for my own simple classes.</p>\n<p>What may be wrong with my code?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":13141463,"reputation":116,"user_id":9492915,"display_name":"SputNick"},"score":0,"creation_date":1674823055,"post_id":75256306,"comment_id":132800230,"body_markdown":"For spring to make use of the Value and Autowired annotation, the class should be annotated with Component so that it can be picked up during context initialization. Have you tried creating a spring Bean from the SchemaPhysicalNamingStrategy ?","body":"For spring to make use of the Value and Autowired annotation, the class should be annotated with Component so that it can be picked up during context initialization. Have you tried creating a spring Bean from the SchemaPhysicalNamingStrategy ?"},{"owner":{"account_id":2735749,"reputation":1211,"user_id":2358472,"accept_rate":21,"display_name":"Sammy Pawar"},"score":0,"creation_date":1674837027,"post_id":75256306,"comment_id":132805078,"body_markdown":"@NikhilJoseph, yes. My SchemaPhysicalNamingStrategy has Compoent annotation, but it doesn&#39;t help. Its instance is created by Spring using reflection. HibernateJpaConfiguration.java \n\n\n\t\tthis.hibernatePropertiesCustomizers = determineHibernatePropertiesCustomizers(\n\t\t\t\tphysicalNamingStrategy.getIfAvailable(), implicitNamingStrategy.getIfAvailable(), beanFactory,\n\t\t\t\thibernatePropertiesCustomizers.orderedStream().collect(Collectors.toList()));","body":"@NikhilJoseph, yes. My SchemaPhysicalNamingStrategy has Compoent annotation, but it doesn&#39;t help. Its instance is created by Spring using reflection. HibernateJpaConfiguration.java    \t\tthis.hibernatePropertiesCustomizers = determineHibernatePropertiesCustomizers( \t\t\t\tphysicalNamingStrategy.getIfAvailable(), implicitNamingStrategy.getIfAvailable(), beanFactory, \t\t\t\thibernatePropertiesCustomizers.orderedStream().collect(C&zwnj;&#8203;ollectors.toList()))&zwnj;&#8203;;"},{"owner":{"account_id":519535,"reputation":2273,"user_id":1303158,"display_name":"Bernie"},"score":0,"creation_date":1675061958,"post_id":75256306,"comment_id":132839479,"body_markdown":"What are you trying to accomplish? Why are you trying to inject `schema` and `catalogName` into a naming strategy? Can you add the values to the Map in `jpaProperties()`?","body":"What are you trying to accomplish? Why are you trying to inject <code>schema</code> and <code>catalogName</code> into a naming strategy? Can you add the values to the Map in <code>jpaProperties()</code>?"},{"owner":{"account_id":519535,"reputation":2273,"user_id":1303158,"display_name":"Bernie"},"score":1,"creation_date":1675063277,"post_id":75256306,"comment_id":132839745,"body_markdown":"I don&#39;t think that Spring is the issue here. `hibernate.physical_naming_strategy` is vendor-specific (Hibernate), and it&#39;s unlikely that Spring is involved in the construction of the object.","body":"I don&#39;t think that Spring is the issue here. <code>hibernate.physical_naming_strategy</code> is vendor-specific (Hibernate), and it&#39;s unlikely that Spring is involved in the construction of the object."},{"owner":{"account_id":2735749,"reputation":1211,"user_id":2358472,"accept_rate":21,"display_name":"Sammy Pawar"},"score":0,"creation_date":1675098742,"post_id":75256306,"comment_id":132850959,"body_markdown":"@Bernie. Thanks. I just want to dynamically set schema, catalog names in physical naming strategy instance instead of hard coding in java code. I am not sure how I can set schema and catalog names in jpaProperties -     protected Map&lt;String, Object&gt; jpaProperties() {\n        return of(\n                &quot;hibernate.physical_naming_strategy&quot;, SchemaPhysicalNamingStrategy.class.getName());\n    }","body":"@Bernie. Thanks. I just want to dynamically set schema, catalog names in physical naming strategy instance instead of hard coding in java code. I am not sure how I can set schema and catalog names in jpaProperties -     protected Map&lt;String, Object&gt; jpaProperties() {         return of(                 &quot;hibernate.physical_naming_strategy&quot;, SchemaPhysicalNamingStrategy.class.getName());     }"},{"owner":{"account_id":2735749,"reputation":1211,"user_id":2358472,"accept_rate":21,"display_name":"Sammy Pawar"},"score":0,"creation_date":1675099096,"post_id":75256306,"comment_id":132851104,"body_markdown":"@Bernie, Thanks. see HibernateJpaConfiguration.java, if LocalContainerEntityManagerFactoryBean bean is present then spring won&#39;t touch vendor properties. Because of &quot;ConditionalOnMissingBean&quot;. \n\n\tBean\n\tPrimary\n\tConditionalOnMissingBean({ LocalContainerEntityManagerFactoryBean.class, EntityManagerFactory.class })\n\tpublic LocalContainerEntityManagerFactoryBean entityManagerFactory(EntityManagerFactoryBuilder factoryBuilder) {\n\t\tMap&lt;String, Object&gt; vendorProperties = getVendorProperties();\n\t\tcustomizeVendorProperties(vendorProperties);","body":"@Bernie, Thanks. see HibernateJpaConfiguration.java, if LocalContainerEntityManagerFactoryBean bean is present then spring won&#39;t touch vendor properties. Because of &quot;ConditionalOnMissingBean&quot;.   \tBean \tPrimary \tConditionalOnMissingBean({ LocalContainerEntityManagerFactoryBean.class, EntityManagerFactory.class }) \tpublic LocalContainerEntityManagerFactoryBean entityManagerFactory(EntityManagerFactoryBuilder factoryBuilder) { \t\tMap&lt;String, Object&gt; vendorProperties = getVendorProperties(); \t\tcustomizeVendorProperties(vendorProperties);"}],"answers":[{"comments":[{"owner":{"account_id":2735749,"reputation":1211,"user_id":2358472,"accept_rate":21,"display_name":"Sammy Pawar"},"score":0,"creation_date":1675111597,"post_id":75288308,"comment_id":132854795,"body_markdown":"Nice..works like a charm. I didn&#39;t know you can pass instance of PhysicalNamingStrategy instead of name. Thanks a lot. I will share bounty when it allows me tomorrow morning.","body":"Nice..works like a charm. I didn&#39;t know you can pass instance of PhysicalNamingStrategy instead of name. Thanks a lot. I will share bounty when it allows me tomorrow morning."},{"owner":{"account_id":3593742,"reputation":207,"user_id":2999097,"accept_rate":45,"display_name":"Noshaf"},"score":0,"creation_date":1678781520,"post_id":75288308,"comment_id":133595373,"body_markdown":"it save my day . thanks alot  @Andrey B. Pandilov for this amzing and nice solution","body":"it save my day . thanks alot  @Andrey B. Pandilov for this amzing and nice solution"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1678785830,"post_id":75288308,"comment_id":133596484,"body_markdown":"@Noshaf the A was given for particular Q (why specifying class name does not work), in your case I do believe that is enough to define `@Component` implementing `PhysicalNamingStrategy` and `spring-boot` will do it&#39;s magic in [`HibernateJpaConfiguration`](https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.java#L216)","body":"@Noshaf the A was given for particular Q (why specifying class name does not work), in your case I do believe that is enough to define <code>@Component</code> implementing <code>PhysicalNamingStrategy</code> and <code>spring-boot</code> will do it&#39;s magic in <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.java#L216\" rel=\"nofollow noreferrer\"><code>HibernateJpaConfiguration</code></a>"}],"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675101302,"creation_date":1675101302,"answer_id":75288308,"question_id":75256306,"body_markdown":"Documentation [says](https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#beans-manageable) following:\r\n\r\nHibernate supports using the following integrations as managed beans:\r\n- jakarta.persistence.AttributeConverter\r\n- Jakarta Persistence &quot;entity listener&quot; classes\r\n- org.hibernate.type.descriptor.jdbc.JdbcType\r\n- org.hibernate.type.descriptor.java.BasicJavaType\r\n- org.hibernate.type.descriptor.java.MutabilityPlan\r\n- org.hibernate.usertype.UserType\r\n- org.hibernate.usertype.UserCollectionType\r\n- org.hibernate.metamodel.EmbeddableInstantiator\r\n- org.hibernate.envers.RevisionListener\r\n- org.hibernate.id.IdentifierGenerator\r\n\r\nSince Hibernate do not recognise naming strategies as managed beans you need to pass them as instances to property map, for example:\r\n\r\n```java\r\n@Bean(name = &quot;integrationEntityManagerFactory&quot;)\r\npublic LocalContainerEntityManagerFactoryBean integrationEntityManagerFactory(\r\n        EntityManagerFactoryBuilder builder\r\n        SchemaPhysicalNamingStrategy namingStrategy) {\r\n    return builder.dataSource(integrationDataSource())\r\n            .packages(&quot;xx.xx.xx.xxxx.entity&quot;)\r\n            .properties(jpaProperties(namingStrategy))\r\n            .build();\r\n}\r\n\r\n\r\nprotected Map&lt;String, Object&gt; jpaProperties(PhysicalNamingStrategy namingStrategy) {\r\n    return of(&quot;hibernate.physical_naming_strategy&quot;, namingStrategy);\r\n}\r\n```","title":"@Value or @Autowired annotations not working with custom Physical Naming Strategy","body":"<p>Documentation <a href=\"https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#beans-manageable\" rel=\"nofollow noreferrer\">says</a> following:</p>\n<p>Hibernate supports using the following integrations as managed beans:</p>\n<ul>\n<li>jakarta.persistence.AttributeConverter</li>\n<li>Jakarta Persistence &quot;entity listener&quot; classes</li>\n<li>org.hibernate.type.descriptor.jdbc.JdbcType</li>\n<li>org.hibernate.type.descriptor.java.BasicJavaType</li>\n<li>org.hibernate.type.descriptor.java.MutabilityPlan</li>\n<li>org.hibernate.usertype.UserType</li>\n<li>org.hibernate.usertype.UserCollectionType</li>\n<li>org.hibernate.metamodel.EmbeddableInstantiator</li>\n<li>org.hibernate.envers.RevisionListener</li>\n<li>org.hibernate.id.IdentifierGenerator</li>\n</ul>\n<p>Since Hibernate do not recognise naming strategies as managed beans you need to pass them as instances to property map, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(name = &quot;integrationEntityManagerFactory&quot;)\npublic LocalContainerEntityManagerFactoryBean integrationEntityManagerFactory(\n        EntityManagerFactoryBuilder builder\n        SchemaPhysicalNamingStrategy namingStrategy) {\n    return builder.dataSource(integrationDataSource())\n            .packages(&quot;xx.xx.xx.xxxx.entity&quot;)\n            .properties(jpaProperties(namingStrategy))\n            .build();\n}\n\n\nprotected Map&lt;String, Object&gt; jpaProperties(PhysicalNamingStrategy namingStrategy) {\n    return of(&quot;hibernate.physical_naming_strategy&quot;, namingStrategy);\n}\n</code></pre>\n"}],"owner":{"account_id":2735749,"reputation":1211,"user_id":2358472,"accept_rate":21,"display_name":"Sammy Pawar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75288308,"answer_count":1,"score":2,"last_activity_date":1675101302,"creation_date":1674812450,"question_id":75256306,"body_markdown":"Something similar to this question but OP there not mentioned that whether they creating LocalContainerEntityManagerFactoryBean .  \r\nhttps://stackoverflow.com/questions/64141279/spring-not-injecting-value-or-autowired-annotated-variables-in-physicalnamings\r\n\r\n\r\n\r\n\r\n    @Configuration\r\n    public class SchemaPhysicalNamingStrategy extends CamelCaseToUnderscoresNamingStrategy {\r\n    \r\n        @Value(value = &quot;${spring.jpa.hibernate.default_schema}&quot;)\r\n        private String schemaName;\r\n    \r\n        @Value(value = &quot;${spring.jpa.hibernate.default_catalog}&quot;)\r\n        private String catalogName;\r\n    \r\n        /**\r\n         * @param identifier\r\n         * @param jdbcEnvironment\r\n         * @return\r\n         */\r\n        @Override\r\n        public Identifier toPhysicalSchemaName(Identifier identifier, JdbcEnvironment jdbcEnvironment) {\r\n            if (isNull(identifier)) {\r\n                identifier = toIdentifier(this.schemaName);\r\n            }\r\n            return super.toPhysicalSchemaName(identifier, jdbcEnvironment);\r\n        }\r\n    \r\n        @Override\r\n        public Identifier toPhysicalCatalogName(\r\n                Identifier identifier, JdbcEnvironment jdbcEnvironment) {\r\n            if (isNull(identifier)) {\r\n                identifier = toIdentifier(this.catalogName);\r\n            }\r\n            return super.toPhysicalCatalogName(identifier, jdbcEnvironment);\r\n        }\r\n    }\r\n\r\nBelow is one of the two LocalContainerEntityManagerFactoryBean objects which needs customised physical naming strategy. \r\n\r\n    @Bean(name = &quot;integrationEntityManagerFactory&quot;)\r\n    public LocalContainerEntityManagerFactoryBean integrationEntityManagerFactory(\r\n            EntityManagerFactoryBuilder builder) {\r\n        return builder.dataSource(integrationDataSource())\r\n                .packages(&quot;xx.xx.xx.xxxx.entity&quot;)\r\n                .properties(jpaProperties())\r\n                .build();\r\n    }\r\n    \r\n    \r\n        protected Map&lt;String, Object&gt; jpaProperties() {\r\n            return of(\r\n                    &quot;hibernate.physical_naming_strategy&quot;, SchemaPhysicalNamingStrategy.class.getName());\r\n        }\r\n\r\n\r\nIssue is - @Value and @Autowired are not working on SchemaPhysicalNamingStrategy as spring creates instance using reflection. Can&#39;t add it to constructor as spring calls constructor without params using reflection. One option is to create SessionFactory bean and set on it but that will be overkill. Please help. \r\n\r\n\r\n\r\n","title":"@Value or @Autowired annotations not working with custom Physical Naming Strategy","body":"<p>Something similar to this question but OP there not mentioned that whether they creating LocalContainerEntityManagerFactoryBean .<br />\n<a href=\"https://stackoverflow.com/questions/64141279/spring-not-injecting-value-or-autowired-annotated-variables-in-physicalnamings\">Spring not injecting @Value or @Autowired annotated variables in PhysicalNamingStrategy Implementations:</a></p>\n<pre><code>@Configuration\npublic class SchemaPhysicalNamingStrategy extends CamelCaseToUnderscoresNamingStrategy {\n\n    @Value(value = &quot;${spring.jpa.hibernate.default_schema}&quot;)\n    private String schemaName;\n\n    @Value(value = &quot;${spring.jpa.hibernate.default_catalog}&quot;)\n    private String catalogName;\n\n    /**\n     * @param identifier\n     * @param jdbcEnvironment\n     * @return\n     */\n    @Override\n    public Identifier toPhysicalSchemaName(Identifier identifier, JdbcEnvironment jdbcEnvironment) {\n        if (isNull(identifier)) {\n            identifier = toIdentifier(this.schemaName);\n        }\n        return super.toPhysicalSchemaName(identifier, jdbcEnvironment);\n    }\n\n    @Override\n    public Identifier toPhysicalCatalogName(\n            Identifier identifier, JdbcEnvironment jdbcEnvironment) {\n        if (isNull(identifier)) {\n            identifier = toIdentifier(this.catalogName);\n        }\n        return super.toPhysicalCatalogName(identifier, jdbcEnvironment);\n    }\n}\n</code></pre>\n<p>Below is one of the two LocalContainerEntityManagerFactoryBean objects which needs customised physical naming strategy.</p>\n<pre><code>@Bean(name = &quot;integrationEntityManagerFactory&quot;)\npublic LocalContainerEntityManagerFactoryBean integrationEntityManagerFactory(\n        EntityManagerFactoryBuilder builder) {\n    return builder.dataSource(integrationDataSource())\n            .packages(&quot;xx.xx.xx.xxxx.entity&quot;)\n            .properties(jpaProperties())\n            .build();\n}\n\n\n    protected Map&lt;String, Object&gt; jpaProperties() {\n        return of(\n                &quot;hibernate.physical_naming_strategy&quot;, SchemaPhysicalNamingStrategy.class.getName());\n    }\n</code></pre>\n<p>Issue is - @Value and @Autowired are not working on SchemaPhysicalNamingStrategy as spring creates instance using reflection. Can't add it to constructor as spring calls constructor without params using reflection. One option is to create SessionFactory bean and set on it but that will be overkill. Please help.</p>\n"},{"tags":["javascript","java","openssl","cryptography"],"answers":[{"comments":[{"owner":{"account_id":17208279,"reputation":89,"user_id":12458326,"display_name":"Ilja Veselov"},"score":0,"creation_date":1675113046,"post_id":75287989,"comment_id":132855178,"body_markdown":"Thanks a lot! The trick with openssl pkeyutl worked out. Interesting, that looking at Java code, when I create instance of PublicKey - PublicKey rsaPublicKey = keyFactory.generatePublic(new X509EncodedKeySpec(publicKeyBytes)) - here it looks like nothing mentioned about content digest and MGF1.  Only at this method call - cipher.init(Cipher.ENCRYPT_MODE, rsaPublicKey,oaepParams) I use OAEP Parameters Sepc and to me it looked like they are needed for encryption operation, but not for Public Key generation. Sorry, may be I am mixing up something here, not an export in crypto.","body":"Thanks a lot! The trick with openssl pkeyutl worked out. Interesting, that looking at Java code, when I create instance of PublicKey - PublicKey rsaPublicKey = keyFactory.generatePublic(new X509EncodedKeySpec(publicKeyBytes)) - here it looks like nothing mentioned about content digest and MGF1.  Only at this method call - cipher.init(Cipher.ENCRYPT_MODE, rsaPublicKey,oaepParams) I use OAEP Parameters Sepc and to me it looked like they are needed for encryption operation, but not for Public Key generation. Sorry, may be I am mixing up something here, not an export in crypto."},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1675118743,"post_id":75287989,"comment_id":132856574,"body_markdown":"*...I use OAEP Parameters Sepc and to me it looked like they are needed for encryption operation, but not for Public Key generation...* That&#39;s exactly how it is. More precisely, OAEP is a padding variant for RSA used in encryption/decryption, see [RFC8017, 7.1. RSAES-OAEP](https://www.rfc-editor.org/rfc/rfc8017#section-7.1). Another one is PKCS#1 v1.5 padding, s. [7.2. RSAES-PKCS1-v1_5](https://www.rfc-editor.org/rfc/rfc8017#section-7.2). For the key generation itself the padding does not play any role.","body":"<i>...I use OAEP Parameters Sepc and to me it looked like they are needed for encryption operation, but not for Public Key generation...</i> That&#39;s exactly how it is. More precisely, OAEP is a padding variant for RSA used in encryption/decryption, see <a href=\"https://www.rfc-editor.org/rfc/rfc8017#section-7.1\" rel=\"nofollow noreferrer\">RFC8017, 7.1. RSAES-OAEP</a>. Another one is PKCS#1 v1.5 padding, s. <a href=\"https://www.rfc-editor.org/rfc/rfc8017#section-7.2\" rel=\"nofollow noreferrer\">7.2. RSAES-PKCS1-v1_5</a>. For the key generation itself the padding does not play any role."},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1675118903,"post_id":75287989,"comment_id":132856617,"body_markdown":"The reason why WebCrypto API specifies algorithm (RSA), padding (OAEP) and padding parameters (SHA-256) in `generateKey()` when creating the key pair is that WebCrypto API binds the intended purpose of a key to this key. I.e. the RSA key generated in this way can later be used only for encryption (public key) or decryption (private key) with RSA and OAEP with SHA-256. The idea behind: [never use the same key for more than one thing](https://crypto.stackexchange.com/a/12138).","body":"The reason why WebCrypto API specifies algorithm (RSA), padding (OAEP) and padding parameters (SHA-256) in <code>generateKey()</code> when creating the key pair is that WebCrypto API binds the intended purpose of a key to this key. I.e. the RSA key generated in this way can later be used only for encryption (public key) or decryption (private key) with RSA and OAEP with SHA-256. The idea behind: <a href=\"https://crypto.stackexchange.com/a/12138\">never use the same key for more than one thing</a>."},{"owner":{"account_id":17208279,"reputation":89,"user_id":12458326,"display_name":"Ilja Veselov"},"score":0,"creation_date":1675119220,"post_id":75287989,"comment_id":132856679,"body_markdown":"Thanks for clarification. I was mislead by Crypto subtle generateKey() method, thinking that Oaep and SHA-256 are the parameters for keys.","body":"Thanks for clarification. I was mislead by Crypto subtle generateKey() method, thinking that Oaep and SHA-256 are the parameters for keys."}],"tags":[],"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675101248,"creation_date":1675099468,"answer_id":75287989,"question_id":75287129,"body_markdown":"*rsautl* unchangeably uses SHA1 for the OAEP digests, see [here][1]. Since you apply SHA256 in the WebCrypto code, you must use [*pkeyutl*][2] instead, which allows the specification of the digests:\r\n\r\n```none\r\nopenssl pkeyutl -in plaintext.txt -out ciphertext.bin -encrypt -keyform DER -pubin -inkey spki.der -pkeyopt rsa_padding_mode:oaep -pkeyopt rsa_oaep_md:sha256 -pkeyopt rsa_mgf1_md:sha256 \r\n```\r\n\r\nA ciphertext generated in this way can be decrypted using the WebCrypto code: \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    (async () =&gt; {\r\n\r\n    // your private key\r\n    var privateKeyInPem = &quot;MIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDwmGY7vUdnW9vy7EqHDowz5m+1OZz1PDoAWklWBcqJON5uPVI92fGF2EnkGPXlE3SsY0AJeEDJR2fvOynrr+2aM24L3Uv70+9AGMNtcuzHtdRX2cgYndpg7n+qu5U1fDJ6Z/vCXBlUMXuh5nwlR+MAFODtrvG6LZZ1cMeC+FNB29D1NLQ2Rf3FYCINKf8dZ+gQELtMt4p5WMexPuDUmeyQbF9WEWst/FALFhmV7h5tc/t0I+x9/hY00LHMFC0ce3yIShnRJUoHNLnOF0sch0AhbgQt2diwzuJOVZk76R9aeVXaLXeUAmhuHE4CrCyDg6qROyvHQq1Z9kfjRs20XPHzAgMBAAECggEAPtCjPGyeFFu00LclfB5tt20t9CQ/GP3o7MelxvpLF0mMNT74VmKs/rNqE037ARxzxUBCa1aEn6hvd9O8DadIgw5zaFCWMoDyQYtVlqE/NaMA9hDLf7XS2qTaGyLPgX/UFAZLAkMWb9ddfncVKYybtR0+Xn/i56dYVYAk7spTvmkai5Q4Li5eEJqrRNse5fg/wiwDda/cWlEvlvfziAjU51gS/Y9ItUT8Z1g8A2NYfqgFVgBVb0qrtbP76TWPbeLZr1FXTMDB0MO+zuC+1lq48+CYqSJqi9a4GlW2gi0wkaQe3VIOsHipv82kSh20LczXiSKqF58F8m4whWqpa02rrQKBgQD6tbuFiY8fVXi44m1mFO7KDIVXFjuMca0+qXisVaUhG4q42fnlHN0kyuH2IFXNxHD+gE4MnvAUkXDkG1znaz8vM2tfQn6vSpU7OytwOt6UEMWm+112083nGMUy1Me/6rAJbBWfTAl0KXY9/Y/SuEL8u+W6Eas+eASUIe1DooI4xwKBgQD1rAfUXjuRH6WFnbITdG8B3WVZhRCx3YuQVE1UnHR8N6qfx6qKIricvKMSvtWAj0UiIbSA8DENyfMiyAbGpZ0cILxtdXZOtZFW9hfiOeLptnYKTJXOiGoju1prxpUNUKu/1kd7e0clxN75mooge8yFFA6il43wYhhwO2si+FYJdQKBgQDL+1TpX3StX9NrSf8MkXd/uRQ8OQCWUl9MnoJqZPyHpWsG34Ms4IElUFTs9n4Zfv0YdLgMGLzpXzRkw8ahG2c7NjDkPqvoX1xv5sJ++8bg3YyTQe1XoxjiMAsyQmGLSp2T7PbitvDyLFHiOg3surL2AsL00y9rEidXhwsOfohJPQKBgQCqhw4sQHjShIgNlmfMj06amcZG/FGZVPISbiH7cFp++tjp7duX5QAGc/4x/dsPUOOpDIJR2egC7UJiyzvA2aaTprmEtTs46VmIZmwvsQSsO+X1wjFeWlxqjxr1orNFudBt6dxWfzzkn6Iy2i203Jobac+61r5EtKLIDMaSUJTQHQKBgQDaNTfgakpyZBSp/Ydzu76qDKpzGuDqrLBnR/lui4DrSyUoOjNwaGlkU/B6USdaC/BGO7lI08HZU7FzutvXb1mKS+nUI7rKvSTN9NKUJF4MaBv9q40RViKkF9vbq2f1wMs2KUNc0ex2ZL+5BOBICJNHyVulKSxY54Z55L/H4FZmWw==&quot;;\r\n\r\n    var privateKey = await window.crypto.subtle.importKey(&quot;pkcs8&quot;, base64StringToArrayBuffer(privateKeyInPem), {name: &quot;RSA-OAEP&quot;, hash: &quot;SHA-256&quot;}, true, [&quot;decrypt&quot;]);   \r\n    console.log(privateKey);\r\n\r\n    // Base64 encoded ciphertext from openssl pkeyutl\r\n    var cipher = &quot;V2QWzwoOHPAlKhGqv0fDSv+lSPytBW4tTxVVJgneyvfIqTDvllhbZJzUAszdAC0IEow+YgbIWHyIBCw9YVS+EDZ3jbuIU97nx5NxAimiUFKvUmHE8p3oP6AP/etJhGQGC+fMiTbhmGn5FQhMnH/2lVei3yJypXWbgI6ONRmncYalq73q7VGelFUSubuPWQA3bKzuIOSorpQFy9sGIMDvW+YOMLrClVmUujVrEXrdsIbvzSb6hooKHbwjOaAmN4XRw0sr+YaF3n2PwazpLSvJmuugF26GxhmJAMmNViUvvsN+ycpJZdyRKNehQGqmahpC0XXihZ9dsHEH7vIDDmPAZQ==&quot;;\r\n    console.log(&#39;cipher: &#39;+cipher)\r\n\r\n    // successfull decryption\r\n    var decrypted = await window.crypto.subtle.decrypt({name: &quot;RSA-OAEP&quot;}, privateKey, str2ab(window.atob(cipher)));\r\n    const dec = new TextDecoder();\r\n    console.log(&#39;DECRYPTED MSG:&#39; + dec.decode(decrypted));\r\n\r\n    })();\r\n\r\n\r\n    function base64StringToArrayBuffer(base64String){\r\n        return Uint8Array.from(window.atob(base64String), c =&gt; c.charCodeAt(0));\r\n    }\r\n\r\n    function str2ab(str) {\r\n        const buf = new ArrayBuffer(str.length);\r\n        const bufView = new Uint8Array(buf);\r\n        for (let i = 0, strLen = str.length; i &lt; strLen; i++) {\r\n            bufView[i] = str.charCodeAt(i);\r\n        }\r\n        return buf;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n-------\r\n\r\nFor completeness: In the context of OAEP there are two digests to specify, the content digest and the MGF1 digest. *pkeyutl* allows to set both independently. If both digests are identical (which is usually the case), it is sufficient to set only the content digest via `rsa_oaep_md`, i.e. the MGF1 digest implicitly has the same value as long as no other digest is explicitly set via `rsa_mgf1_md`.\r\n\r\n\r\n\r\n[1]: https://superuser.com/q/1016696\r\n[2]: https://www.openssl.org/docs/man1.1.1/man1/openssl-pkeyutl.html","title":"Getting different encryption results - RSA - Java and Openssl","body":"<p><em>rsautl</em> unchangeably uses SHA1 for the OAEP digests, see <a href=\"https://superuser.com/q/1016696\">here</a>. Since you apply SHA256 in the WebCrypto code, you must use <a href=\"https://www.openssl.org/docs/man1.1.1/man1/openssl-pkeyutl.html\" rel=\"nofollow noreferrer\"><em>pkeyutl</em></a> instead, which allows the specification of the digests:</p>\n<pre class=\"lang-none prettyprint-override\"><code>openssl pkeyutl -in plaintext.txt -out ciphertext.bin -encrypt -keyform DER -pubin -inkey spki.der -pkeyopt rsa_padding_mode:oaep -pkeyopt rsa_oaep_md:sha256 -pkeyopt rsa_mgf1_md:sha256 \n</code></pre>\n<p>A ciphertext generated in this way can be decrypted using the WebCrypto code:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>(async () =&gt; {\n\n// your private key\nvar privateKeyInPem = \"MIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDwmGY7vUdnW9vy7EqHDowz5m+1OZz1PDoAWklWBcqJON5uPVI92fGF2EnkGPXlE3SsY0AJeEDJR2fvOynrr+2aM24L3Uv70+9AGMNtcuzHtdRX2cgYndpg7n+qu5U1fDJ6Z/vCXBlUMXuh5nwlR+MAFODtrvG6LZZ1cMeC+FNB29D1NLQ2Rf3FYCINKf8dZ+gQELtMt4p5WMexPuDUmeyQbF9WEWst/FALFhmV7h5tc/t0I+x9/hY00LHMFC0ce3yIShnRJUoHNLnOF0sch0AhbgQt2diwzuJOVZk76R9aeVXaLXeUAmhuHE4CrCyDg6qROyvHQq1Z9kfjRs20XPHzAgMBAAECggEAPtCjPGyeFFu00LclfB5tt20t9CQ/GP3o7MelxvpLF0mMNT74VmKs/rNqE037ARxzxUBCa1aEn6hvd9O8DadIgw5zaFCWMoDyQYtVlqE/NaMA9hDLf7XS2qTaGyLPgX/UFAZLAkMWb9ddfncVKYybtR0+Xn/i56dYVYAk7spTvmkai5Q4Li5eEJqrRNse5fg/wiwDda/cWlEvlvfziAjU51gS/Y9ItUT8Z1g8A2NYfqgFVgBVb0qrtbP76TWPbeLZr1FXTMDB0MO+zuC+1lq48+CYqSJqi9a4GlW2gi0wkaQe3VIOsHipv82kSh20LczXiSKqF58F8m4whWqpa02rrQKBgQD6tbuFiY8fVXi44m1mFO7KDIVXFjuMca0+qXisVaUhG4q42fnlHN0kyuH2IFXNxHD+gE4MnvAUkXDkG1znaz8vM2tfQn6vSpU7OytwOt6UEMWm+112083nGMUy1Me/6rAJbBWfTAl0KXY9/Y/SuEL8u+W6Eas+eASUIe1DooI4xwKBgQD1rAfUXjuRH6WFnbITdG8B3WVZhRCx3YuQVE1UnHR8N6qfx6qKIricvKMSvtWAj0UiIbSA8DENyfMiyAbGpZ0cILxtdXZOtZFW9hfiOeLptnYKTJXOiGoju1prxpUNUKu/1kd7e0clxN75mooge8yFFA6il43wYhhwO2si+FYJdQKBgQDL+1TpX3StX9NrSf8MkXd/uRQ8OQCWUl9MnoJqZPyHpWsG34Ms4IElUFTs9n4Zfv0YdLgMGLzpXzRkw8ahG2c7NjDkPqvoX1xv5sJ++8bg3YyTQe1XoxjiMAsyQmGLSp2T7PbitvDyLFHiOg3surL2AsL00y9rEidXhwsOfohJPQKBgQCqhw4sQHjShIgNlmfMj06amcZG/FGZVPISbiH7cFp++tjp7duX5QAGc/4x/dsPUOOpDIJR2egC7UJiyzvA2aaTprmEtTs46VmIZmwvsQSsO+X1wjFeWlxqjxr1orNFudBt6dxWfzzkn6Iy2i203Jobac+61r5EtKLIDMaSUJTQHQKBgQDaNTfgakpyZBSp/Ydzu76qDKpzGuDqrLBnR/lui4DrSyUoOjNwaGlkU/B6USdaC/BGO7lI08HZU7FzutvXb1mKS+nUI7rKvSTN9NKUJF4MaBv9q40RViKkF9vbq2f1wMs2KUNc0ex2ZL+5BOBICJNHyVulKSxY54Z55L/H4FZmWw==\";\n\nvar privateKey = await window.crypto.subtle.importKey(\"pkcs8\", base64StringToArrayBuffer(privateKeyInPem), {name: \"RSA-OAEP\", hash: \"SHA-256\"}, true, [\"decrypt\"]);   \nconsole.log(privateKey);\n\n// Base64 encoded ciphertext from openssl pkeyutl\nvar cipher = \"V2QWzwoOHPAlKhGqv0fDSv+lSPytBW4tTxVVJgneyvfIqTDvllhbZJzUAszdAC0IEow+YgbIWHyIBCw9YVS+EDZ3jbuIU97nx5NxAimiUFKvUmHE8p3oP6AP/etJhGQGC+fMiTbhmGn5FQhMnH/2lVei3yJypXWbgI6ONRmncYalq73q7VGelFUSubuPWQA3bKzuIOSorpQFy9sGIMDvW+YOMLrClVmUujVrEXrdsIbvzSb6hooKHbwjOaAmN4XRw0sr+YaF3n2PwazpLSvJmuugF26GxhmJAMmNViUvvsN+ycpJZdyRKNehQGqmahpC0XXihZ9dsHEH7vIDDmPAZQ==\";\nconsole.log('cipher: '+cipher)\n\n// successfull decryption\nvar decrypted = await window.crypto.subtle.decrypt({name: \"RSA-OAEP\"}, privateKey, str2ab(window.atob(cipher)));\nconst dec = new TextDecoder();\nconsole.log('DECRYPTED MSG:' + dec.decode(decrypted));\n\n})();\n\n\nfunction base64StringToArrayBuffer(base64String){\n    return Uint8Array.from(window.atob(base64String), c =&gt; c.charCodeAt(0));\n}\n\nfunction str2ab(str) {\n    const buf = new ArrayBuffer(str.length);\n    const bufView = new Uint8Array(buf);\n    for (let i = 0, strLen = str.length; i &lt; strLen; i++) {\n        bufView[i] = str.charCodeAt(i);\n    }\n    return buf;\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<hr />\n<p>For completeness: In the context of OAEP there are two digests to specify, the content digest and the MGF1 digest. <em>pkeyutl</em> allows to set both independently. If both digests are identical (which is usually the case), it is sufficient to set only the content digest via <code>rsa_oaep_md</code>, i.e. the MGF1 digest implicitly has the same value as long as no other digest is explicitly set via <code>rsa_mgf1_md</code>.</p>\n"}],"owner":{"account_id":17208279,"reputation":89,"user_id":12458326,"display_name":"Ilja Veselov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75287989,"answer_count":1,"score":0,"last_activity_date":1675101248,"creation_date":1675095193,"question_id":75287129,"body_markdown":"When I encrypt a string of text with Java and Openssl - I am unable to decrypt the cipher (using Javascript Crypto Subtle) got from Openssl, however Java cipher is decrypted (with Crypto Subtle Web API JS) succesfully. Could you please look into and advise where is the mistake?\r\n\r\n1. Here are RSA Public and Private key examples in Base64 generated by JS Crypto Sublte API:\r\n\r\nPublic key (RSA-OAEP, monulus 2048, hash SHA-256):\r\n\r\n   ```\r\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA8JhmO71HZ1vb8uxKhw6MM+ZvtTmc9Tw6AFpJVgXKiTjebj1SPdnxhdhJ5Bj15RN0rGNACXhAyUdn7zsp66/tmjNuC91L+9PvQBjDbXLsx7XUV9nIGJ3aYO5/qruVNXwyemf7wlwZVDF7oeZ8JUfjABTg7a7xui2WdXDHgvhTQdvQ9TS0NkX9xWAiDSn/HWfoEBC7TLeKeVjHsT7g1JnskGxfVhFrLfxQCxYZle4ebXP7dCPsff4WNNCxzBQtHHt8iEoZ0SVKBzS5zhdLHIdAIW4ELdnYsM7iTlWZO+kfWnlV2i13lAJobhxOAqwsg4OqkTsrx0KtWfZH40bNtFzx8wIDAQAB\r\n\r\n```\r\n\r\nPrivate Key (the same parameteres):\r\n\r\n```\r\n   MIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDwmGY7vUdnW9vy7EqHDowz5m+1OZz1PDoAWklWBcqJON5uPVI92fGF2EnkGPXlE3SsY0AJeEDJR2fvOynrr+2aM24L3Uv70+9AGMNtcuzHtdRX2cgYndpg7n+qu5U1fDJ6Z/vCXBlUMXuh5nwlR+MAFODtrvG6LZZ1cMeC+FNB29D1NLQ2Rf3FYCINKf8dZ+gQELtMt4p5WMexPuDUmeyQbF9WEWst/FALFhmV7h5tc/t0I+x9/hY00LHMFC0ce3yIShnRJUoHNLnOF0sch0AhbgQt2diwzuJOVZk76R9aeVXaLXeUAmhuHE4CrCyDg6qROyvHQq1Z9kfjRs20XPHzAgMBAAECggEAPtCjPGyeFFu00LclfB5tt20t9CQ/GP3o7MelxvpLF0mMNT74VmKs/rNqE037ARxzxUBCa1aEn6hvd9O8DadIgw5zaFCWMoDyQYtVlqE/NaMA9hDLf7XS2qTaGyLPgX/UFAZLAkMWb9ddfncVKYybtR0+Xn/i56dYVYAk7spTvmkai5Q4Li5eEJqrRNse5fg/wiwDda/cWlEvlvfziAjU51gS/Y9ItUT8Z1g8A2NYfqgFVgBVb0qrtbP76TWPbeLZr1FXTMDB0MO+zuC+1lq48+CYqSJqi9a4GlW2gi0wkaQe3VIOsHipv82kSh20LczXiSKqF58F8m4whWqpa02rrQKBgQD6tbuFiY8fVXi44m1mFO7KDIVXFjuMca0+qXisVaUhG4q42fnlHN0kyuH2IFXNxHD+gE4MnvAUkXDkG1znaz8vM2tfQn6vSpU7OytwOt6UEMWm+112083nGMUy1Me/6rAJbBWfTAl0KXY9/Y/SuEL8u+W6Eas+eASUIe1DooI4xwKBgQD1rAfUXjuRH6WFnbITdG8B3WVZhRCx3YuQVE1UnHR8N6qfx6qKIricvKMSvtWAj0UiIbSA8DENyfMiyAbGpZ0cILxtdXZOtZFW9hfiOeLptnYKTJXOiGoju1prxpUNUKu/1kd7e0clxN75mooge8yFFA6il43wYhhwO2si+FYJdQKBgQDL+1TpX3StX9NrSf8MkXd/uRQ8OQCWUl9MnoJqZPyHpWsG34Ms4IElUFTs9n4Zfv0YdLgMGLzpXzRkw8ahG2c7NjDkPqvoX1xv5sJ++8bg3YyTQe1XoxjiMAsyQmGLSp2T7PbitvDyLFHiOg3surL2AsL00y9rEidXhwsOfohJPQKBgQCqhw4sQHjShIgNlmfMj06amcZG/FGZVPISbiH7cFp++tjp7duX5QAGc/4x/dsPUOOpDIJR2egC7UJiyzvA2aaTprmEtTs46VmIZmwvsQSsO+X1wjFeWlxqjxr1orNFudBt6dxWfzzkn6Iy2i203Jobac+61r5EtKLIDMaSUJTQHQKBgQDaNTfgakpyZBSp/Ydzu76qDKpzGuDqrLBnR/lui4DrSyUoOjNwaGlkU/B6USdaC/BGO7lI08HZU7FzutvXb1mKS+nUI7rKvSTN9NKUJF4MaBv9q40RViKkF9vbq2f1wMs2KUNc0ex2ZL+5BOBICJNHyVulKSxY54Z55L/H4FZmWw==\r\n\r\n\r\n```\r\n\r\n2. Here is Java Code which receives Public key as Base64 string and create PublicKey instance from ite. Then I am encrypting a string of text with this key and encode the cipher to Base64 string.\r\n\r\n \r\n\r\n     ```\r\n     String stringToEncrypt = &quot;This is encrypted message!!!&quot;;\r\n\r\n    byte[] publicKeyBytes = Base64.getDecoder().decode(&quot;MIIBIjANBgkqhki....&quot;);\r\n\r\n    Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPPadding&quot;);\r\n\r\n    OAEPParameterSpec oaepParams = new OAEPParameterSpec(&quot;SHA-256&quot;, &quot;MGF1&quot;, new \r\n     MGF1ParameterSpec(&quot;SHA-256&quot;),PSource.PSpecified.DEFAULT);\r\n\r\n     KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n\r\n     PublicKey rsaPublicKey = keyFactory.generatePublic(new X509EncodedKeySpec(publicKeyBytes));\r\n\r\n     cipher.init(Cipher.ENCRYPT_MODE, rsaPublicKey,oaepParams);\r\n\r\n     String cipherBytes = \r\n     Base64.getEncoder().encodeToString(cipher.doFinal(stringToEncrypt.getBytes()));\r\n\r\n    ```\r\n\r\n     The cipherBytes Base64 string then succsefully decrypted by JS Crypto Subtle code below:\r\n\r\n3. First keypair generation code:\r\n\r\n```\r\nconst keyPair = await window.crypto.subtle.generateKey(\r\n            {\r\n                name: &quot;RSA-OAEP&quot;,\r\n                modulusLength: 2048,\r\n                publicExponent: new Uint8Array([1, 0, 1]),\r\n                hash: &quot;SHA-256&quot;\r\n            },\r\n            true,\r\n            [&quot;encrypt&quot;, &quot;decrypt&quot;]\r\n        )\r\n\r\n```\r\n\r\n\r\n\r\nImport Private key = \r\n\r\n```\r\n    return window.crypto.subtle\r\n          .importKey(&quot;pkcs8&quot;, base64StringToArrayBuffer(privateKeyInPem), {\r\n              name: &quot;RSA-OAEP&quot;,\r\n              hash: &quot;SHA-256&quot;,\r\n          }, true, [&quot;decrypt&quot;]).then(key=&gt;{\r\n              return key;\r\n          })\r\n\r\n```\r\n\r\nAnd then decrypt cipher \r\n\r\n```\r\n        const dec = new TextDecoder();\r\n\r\n        function str2ab(str: any) {\r\n            const buf = new ArrayBuffer(str.length);\r\n            const bufView = new Uint8Array(buf);\r\n            for (let i = 0, strLen = str.length; i &lt; strLen; i++) {\r\n                bufView[i] = str.charCodeAt(i);\r\n            }\r\n\r\n            return buf;\r\n        }\r\n\r\n        console.log(&#39;cipher: &#39;+cipher)\r\n        return window.crypto.subtle.decrypt({\r\n                name: &quot;RSA-OAEP&quot;,\r\n            },\r\n            privateKey,\r\n            str2ab(window.atob(cipher))\r\n        ).then(result=&gt;{\r\n            console.log(&#39;DECRYPTED MSG:&#39;+dec.decode(result));\r\n        })\r\n\r\n\r\n```\r\n\r\nBut the problem is when I try to decrypt the cipher from openssl - it doesn&#39;t work.\r\nHere is the Openssl command which I use:\r\n\r\n```\r\nOpenSSL&gt; rsautl -encrypt -pubin -keyform DER -inkey publicKey.der -oaep -in input.txt -out out.bin\r\n\r\n```\r\nI am using the same Public key, just converted from Base64 string to DER format (converted Base64 string key to DER with Java - 1. Decode base64 string -&gt; byte[]-&gt;write to file each byte)\r\n\r\nAnd finally last Openssl operation to convert binary data from out.bin to Base64 string\r\n\r\n```\r\nOpenSSL&gt; enc -A -base64 -in out.bin -out base64.txt\r\n\r\n``` \r\n\r\n\r\n\r\n\r\n\r\n","title":"Getting different encryption results - RSA - Java and Openssl","body":"<p>When I encrypt a string of text with Java and Openssl - I am unable to decrypt the cipher (using Javascript Crypto Subtle) got from Openssl, however Java cipher is decrypted (with Crypto Subtle Web API JS) succesfully. Could you please look into and advise where is the mistake?</p>\n<ol>\n<li>Here are RSA Public and Private key examples in Base64 generated by JS Crypto Sublte API:</li>\n</ol>\n<p>Public key (RSA-OAEP, monulus 2048, hash SHA-256):</p>\n<pre><code>MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA8JhmO71HZ1vb8uxKhw6MM+ZvtTmc9Tw6AFpJVgXKiTjebj1SPdnxhdhJ5Bj15RN0rGNACXhAyUdn7zsp66/tmjNuC91L+9PvQBjDbXLsx7XUV9nIGJ3aYO5/qruVNXwyemf7wlwZVDF7oeZ8JUfjABTg7a7xui2WdXDHgvhTQdvQ9TS0NkX9xWAiDSn/HWfoEBC7TLeKeVjHsT7g1JnskGxfVhFrLfxQCxYZle4ebXP7dCPsff4WNNCxzBQtHHt8iEoZ0SVKBzS5zhdLHIdAIW4ELdnYsM7iTlWZO+kfWnlV2i13lAJobhxOAqwsg4OqkTsrx0KtWfZH40bNtFzx8wIDAQAB\n\n</code></pre>\n<p>Private Key (the same parameteres):</p>\n<pre><code>   MIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDwmGY7vUdnW9vy7EqHDowz5m+1OZz1PDoAWklWBcqJON5uPVI92fGF2EnkGPXlE3SsY0AJeEDJR2fvOynrr+2aM24L3Uv70+9AGMNtcuzHtdRX2cgYndpg7n+qu5U1fDJ6Z/vCXBlUMXuh5nwlR+MAFODtrvG6LZZ1cMeC+FNB29D1NLQ2Rf3FYCINKf8dZ+gQELtMt4p5WMexPuDUmeyQbF9WEWst/FALFhmV7h5tc/t0I+x9/hY00LHMFC0ce3yIShnRJUoHNLnOF0sch0AhbgQt2diwzuJOVZk76R9aeVXaLXeUAmhuHE4CrCyDg6qROyvHQq1Z9kfjRs20XPHzAgMBAAECggEAPtCjPGyeFFu00LclfB5tt20t9CQ/GP3o7MelxvpLF0mMNT74VmKs/rNqE037ARxzxUBCa1aEn6hvd9O8DadIgw5zaFCWMoDyQYtVlqE/NaMA9hDLf7XS2qTaGyLPgX/UFAZLAkMWb9ddfncVKYybtR0+Xn/i56dYVYAk7spTvmkai5Q4Li5eEJqrRNse5fg/wiwDda/cWlEvlvfziAjU51gS/Y9ItUT8Z1g8A2NYfqgFVgBVb0qrtbP76TWPbeLZr1FXTMDB0MO+zuC+1lq48+CYqSJqi9a4GlW2gi0wkaQe3VIOsHipv82kSh20LczXiSKqF58F8m4whWqpa02rrQKBgQD6tbuFiY8fVXi44m1mFO7KDIVXFjuMca0+qXisVaUhG4q42fnlHN0kyuH2IFXNxHD+gE4MnvAUkXDkG1znaz8vM2tfQn6vSpU7OytwOt6UEMWm+112083nGMUy1Me/6rAJbBWfTAl0KXY9/Y/SuEL8u+W6Eas+eASUIe1DooI4xwKBgQD1rAfUXjuRH6WFnbITdG8B3WVZhRCx3YuQVE1UnHR8N6qfx6qKIricvKMSvtWAj0UiIbSA8DENyfMiyAbGpZ0cILxtdXZOtZFW9hfiOeLptnYKTJXOiGoju1prxpUNUKu/1kd7e0clxN75mooge8yFFA6il43wYhhwO2si+FYJdQKBgQDL+1TpX3StX9NrSf8MkXd/uRQ8OQCWUl9MnoJqZPyHpWsG34Ms4IElUFTs9n4Zfv0YdLgMGLzpXzRkw8ahG2c7NjDkPqvoX1xv5sJ++8bg3YyTQe1XoxjiMAsyQmGLSp2T7PbitvDyLFHiOg3surL2AsL00y9rEidXhwsOfohJPQKBgQCqhw4sQHjShIgNlmfMj06amcZG/FGZVPISbiH7cFp++tjp7duX5QAGc/4x/dsPUOOpDIJR2egC7UJiyzvA2aaTprmEtTs46VmIZmwvsQSsO+X1wjFeWlxqjxr1orNFudBt6dxWfzzkn6Iy2i203Jobac+61r5EtKLIDMaSUJTQHQKBgQDaNTfgakpyZBSp/Ydzu76qDKpzGuDqrLBnR/lui4DrSyUoOjNwaGlkU/B6USdaC/BGO7lI08HZU7FzutvXb1mKS+nUI7rKvSTN9NKUJF4MaBv9q40RViKkF9vbq2f1wMs2KUNc0ex2ZL+5BOBICJNHyVulKSxY54Z55L/H4FZmWw==\n\n\n</code></pre>\n<ol start=\"2\">\n<li><p>Here is Java Code which receives Public key as Base64 string and create PublicKey instance from ite. Then I am encrypting a string of text with this key and encode the cipher to Base64 string.</p>\n<pre><code>String stringToEncrypt = &quot;This is encrypted message!!!&quot;;\n\nbyte[] publicKeyBytes = Base64.getDecoder().decode(&quot;MIIBIjANBgkqhki....&quot;);\n\nCipher cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPPadding&quot;);\n\nOAEPParameterSpec oaepParams = new OAEPParameterSpec(&quot;SHA-256&quot;, &quot;MGF1&quot;, new \nMGF1ParameterSpec(&quot;SHA-256&quot;),PSource.PSpecified.DEFAULT);\n\nKeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n\nPublicKey rsaPublicKey = keyFactory.generatePublic(new X509EncodedKeySpec(publicKeyBytes));\n\ncipher.init(Cipher.ENCRYPT_MODE, rsaPublicKey,oaepParams);\n\nString cipherBytes = \nBase64.getEncoder().encodeToString(cipher.doFinal(stringToEncrypt.getBytes()));\n\n</code></pre>\n<p>The cipherBytes Base64 string then succsefully decrypted by JS Crypto Subtle code below:</p>\n</li>\n<li><p>First keypair generation code:</p>\n</li>\n</ol>\n<pre><code>const keyPair = await window.crypto.subtle.generateKey(\n            {\n                name: &quot;RSA-OAEP&quot;,\n                modulusLength: 2048,\n                publicExponent: new Uint8Array([1, 0, 1]),\n                hash: &quot;SHA-256&quot;\n            },\n            true,\n            [&quot;encrypt&quot;, &quot;decrypt&quot;]\n        )\n\n</code></pre>\n<p>Import Private key =</p>\n<pre><code>    return window.crypto.subtle\n          .importKey(&quot;pkcs8&quot;, base64StringToArrayBuffer(privateKeyInPem), {\n              name: &quot;RSA-OAEP&quot;,\n              hash: &quot;SHA-256&quot;,\n          }, true, [&quot;decrypt&quot;]).then(key=&gt;{\n              return key;\n          })\n\n</code></pre>\n<p>And then decrypt cipher</p>\n<pre><code>        const dec = new TextDecoder();\n\n        function str2ab(str: any) {\n            const buf = new ArrayBuffer(str.length);\n            const bufView = new Uint8Array(buf);\n            for (let i = 0, strLen = str.length; i &lt; strLen; i++) {\n                bufView[i] = str.charCodeAt(i);\n            }\n\n            return buf;\n        }\n\n        console.log('cipher: '+cipher)\n        return window.crypto.subtle.decrypt({\n                name: &quot;RSA-OAEP&quot;,\n            },\n            privateKey,\n            str2ab(window.atob(cipher))\n        ).then(result=&gt;{\n            console.log('DECRYPTED MSG:'+dec.decode(result));\n        })\n\n\n</code></pre>\n<p>But the problem is when I try to decrypt the cipher from openssl - it doesn't work.\nHere is the Openssl command which I use:</p>\n<pre><code>OpenSSL&gt; rsautl -encrypt -pubin -keyform DER -inkey publicKey.der -oaep -in input.txt -out out.bin\n\n</code></pre>\n<p>I am using the same Public key, just converted from Base64 string to DER format (converted Base64 string key to DER with Java - 1. Decode base64 string -&gt; byte[]-&gt;write to file each byte)</p>\n<p>And finally last Openssl operation to convert binary data from out.bin to Base64 string</p>\n<pre><code>OpenSSL&gt; enc -A -base64 -in out.bin -out base64.txt\n\n</code></pre>\n"},{"tags":["java","firebase-cloud-messaging"],"answers":[{"tags":[],"owner":{"account_id":26864616,"reputation":304,"user_id":20447561,"display_name":"Yuji Bry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675101049,"creation_date":1675101049,"answer_id":75288266,"question_id":75282937,"body_markdown":"I would recommend reaching out to [Firebase support][1] since this is about ownership issue. Itll be challenging to help you on a public forum without going into project-specific details. The support channel can offer personalized help. \r\n\r\n  [1]: https://firebase.google.com/support\r\n","title":"FCM-I have the server key but I am not remembering the login details to FCM. How will i get details from serverkey?","body":"<p>I would recommend reaching out to <a href=\"https://firebase.google.com/support\" rel=\"nofollow noreferrer\">Firebase support</a> since this is about ownership issue. Itll be challenging to help you on a public forum without going into project-specific details. The support channel can offer personalized help.</p>\n"}],"owner":{"account_id":18449467,"reputation":80,"user_id":13439943,"display_name":"syam kumar c"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675101049,"creation_date":1675073752,"question_id":75282937,"body_markdown":"I have done a project with FCM Push Notification feature. In my java I put the server key from FCM for easily pushing the notification. This was 2 years before and now I am not remembering the Gmail I used to create the FCM account.\r\nIs there any way I can get any information from my server key?","title":"FCM-I have the server key but I am not remembering the login details to FCM. How will i get details from serverkey?","body":"<p>I have done a project with FCM Push Notification feature. In my java I put the server key from FCM for easily pushing the notification. This was 2 years before and now I am not remembering the Gmail I used to create the FCM account.\nIs there any way I can get any information from my server key?</p>\n"},{"tags":["java","spring-boot","validation","thymeleaf"],"comments":[{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1675295472,"post_id":75288193,"comment_id":132900782,"body_markdown":"https://stackoverflow.com/questions/64266061/using-an-enum-within-a-nested-class-with-thymeleaf-and-spring-boot","body":"<a href=\"https://stackoverflow.com/questions/64266061/using-an-enum-within-a-nested-class-with-thymeleaf-and-spring-boot\" title=\"using an enum within a nested class with thymeleaf and spring boot\">stackoverflow.com/questions/64266061/&hellip;</a>"},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1675295524,"post_id":75288193,"comment_id":132900788,"body_markdown":"Could try that since your stacktrace shows the value is null","body":"Could try that since your stacktrace shows the value is null"},{"owner":{"account_id":23317836,"reputation":88,"user_id":17396222,"display_name":"Ignat"},"score":0,"creation_date":1675344543,"post_id":75288193,"comment_id":132911635,"body_markdown":"the issue is not in enum itself, cuz even the ```String lengthOfOutput``` attribute annotated with\n```@Pattern(regexp = &quot;[0-9]+&quot;, message = &quot;input the whole number&quot;)```\ndoes not affect the ```bindingResult.hasErrors()```","body":"the issue is not in enum itself, cuz even the <code>String lengthOfOutput</code> attribute annotated with <code>@Pattern(regexp = &quot;[0-9]+&quot;, message = &quot;input the whole number&quot;)</code> does not affect the <code>bindingResult.hasErrors()</code>"}],"owner":{"account_id":23317836,"reputation":88,"user_id":17396222,"display_name":"Ignat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675100657,"creation_date":1675100657,"question_id":75288193,"body_markdown":"I&#39;m struggling to get the validation work on simple web form in spring boot + thymeleaf project.\r\n\r\nI&#39;ve got these dependencies in my pom:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;6.1.5.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThat&#39;s my DTO with @NotEmpty and @Pattern annotated fields:\r\n\r\n    package com.example.randomtext.web;\r\n    import lombok.Getter;\r\n    import lombok.RequiredArgsConstructor;\r\n    import lombok.Setter;\r\n    import lombok.ToString;\r\n    import javax.validation.constraints.NotEmpty;\r\n    import javax.validation.constraints.Pattern;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    public class MainPageForm {\r\n        @NotEmpty(message = &quot;choose the source file&quot;)\r\n        private SourceFile sourceFile;\r\n        private String sourceText;\r\n        private boolean sourceTextSet;\r\n        private String generatedText;\r\n        @Pattern(regexp = &quot;[0-9]+&quot;, message = &quot;input the whole number&quot;)\r\n        private String lengthOfOutput;\r\n    \r\n        @RequiredArgsConstructor\r\n        @Getter\r\n        public enum SourceFile {\r\n            ALICE(&quot;alice.txt&quot;),\r\n            CONFUCIUS(&quot;confucius.txt&quot;),\r\n            private static final SourceFile[] ALL_VALUES = SourceFile.values();\r\n            private final String fileName;\r\n        }\r\n    }\r\n\r\nthat&#39;s my main.html form\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;&lt;title&gt;RandomText&lt;/title&gt;&lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;h3&gt;Random text generator&lt;/h3&gt;\r\n    &lt;pre th:if=&quot;${!mainPageForm.sourceTextSet}&quot; th:style=&quot;&#39;color:red;&#39;&quot;&gt;\r\n        source text not set. Have you chosen the source file?&lt;/pre&gt;\r\n    &lt;form action=&quot;#&quot; th:action=&quot;@{/random_text}&quot; th:object=&quot;${mainPageForm}&quot;\r\n          method=&quot;post&quot;&gt;\r\n        &lt;label&gt;source file&lt;/label&gt;&lt;br&gt;\r\n        &lt;div th:each=&quot;sourceFile : ${T(com.example.randomtext.web.MainPageForm.SourceFile).values()}&quot;&gt;\r\n            &lt;input type=&quot;radio&quot; th:field=&quot;*{sourceFile}&quot; th:value=&quot;${sourceFile}&quot;&gt;\r\n            &lt;label th:text=&quot;${sourceFile.getFileName()}&quot;&gt;source file&lt;/label&gt;\r\n            &lt;pre th:style=&quot;&#39;color:red;&#39;&quot;\r\n                th:if=&quot;${#fields.hasErrors(&#39;sourceFile&#39;)}&quot;\r\n            th:errors=&quot;*{sourceFile}&quot;&gt;&lt;/pre&gt;\r\n            &lt;br&gt;\r\n        &lt;/div&gt;\r\n        &lt;label&gt;length of string to be generated&lt;br&gt;\r\n            &lt;input type=&quot;text&quot; width=&quot;200&quot; th:field=&quot;*{lengthOfOutput}&quot;&gt;\r\n            &lt;pre th:style=&quot;&#39;color:red;&#39;&quot;\r\n               th:if=&quot;${#fields.hasErrors(&#39;lengthOfOutput&#39;)}&quot;\r\n               th:errors=&quot;*{lengthOfOutput}&quot;&gt;&lt;/pre&gt;\r\n        &lt;/label&gt;&lt;br&gt;&lt;br&gt;\r\n        &lt;br&gt;&lt;input type=&quot;submit&quot; value=&quot;Submit&quot;/&gt;&lt;input type=&quot;reset&quot; value=&quot;Reset&quot;/&gt;\r\n    &lt;/form&gt;\r\n    &lt;pre th:text=&quot;${mainPageForm.sourceText}&quot; th:style=&quot;&#39;color:black;&#39;&quot;&gt;\r\n        source text&lt;/pre&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nmy controller looks like\r\n\r\n    package com.example.randomtext.web;\r\n    \r\n    import com.example.randomtext.RandomTextService;\r\n    import lombok.RequiredArgsConstructor;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.validation.BindingResult;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    \r\n    import javax.validation.Valid;\r\n    import java.net.URISyntaxException;\r\n    \r\n    import static com.example.randomtext.Constants.BASE_PATH;\r\n    import static com.example.randomtext.Constants.MAIN_TEMPLATE;\r\n    \r\n    @Controller\r\n    @RequiredArgsConstructor\r\n    @Slf4j\r\n    public class MainPageController {\r\n        private final RandomTextService service;\r\n    \r\n        @GetMapping(BASE_PATH)\r\n        public String doGet(MainPageForm form) {\r\n            return MAIN_TEMPLATE;\r\n        }\r\n    \r\n        @PostMapping(BASE_PATH)\r\n        public String doPost(@Valid MainPageForm mainPageForm, BindingResult bindingResult) throws URISyntaxException {\r\n            log.info(&quot;got form data {}&quot;, mainPageForm.toString());\r\n            if (!bindingResult.hasErrors()) {\r\n                log.info(&quot;see no errors :E&quot;);\r\n                log.info(bindingResult.toString());\r\n                log.info(&quot;sourceFile {}&quot;, mainPageForm.getSourceFile().getFileName());\r\n                mainPageForm.setSourceText(service.readSourceString(mainPageForm.getSourceFile().getFileName()));\r\n            } else {\r\n                log.info(&quot;got errors&quot;);\r\n                bindingResult.getFieldErrors()\r\n                             .forEach(e -&gt; log.error(&quot;got validation error {} for field {}&quot;,\r\n                                                     e.getDefaultMessage(),\r\n                                                     e.getField()));\r\n            }\r\n            return MAIN_TEMPLATE;\r\n        }\r\n    }\r\n\r\nand when I submitting the empty form the log output is:\r\n\r\n    2023-01-30T20:22:49.481+03:00  INFO 5464 --- [p-nio-80-exec-6] c.e.randomtext.web.MainPageController    : got form data MainPageForm(sourceFile=null, sourceText=null, sourceTextSet=false, generatedText=null, lengthOfOutput=)\r\n    2023-01-30T20:22:49.481+03:00  INFO 5464 --- [p-nio-80-exec-6] c.e.randomtext.web.MainPageController    : see no errors :E\r\n    2023-01-30T20:22:49.481+03:00  INFO 5464 --- [p-nio-80-exec-6] c.e.randomtext.web.MainPageController    : org.springframework.validation.BeanPropertyBindingResult: 0 errors\r\n    2023-01-30T20:22:49.483+03:00 ERROR 5464 --- [p-nio-80-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;com.example.randomtext.web.MainPageForm$SourceFile.getFileName()&quot; because the return value of &quot;com.example.randomtext.web.MainPageForm.getSourceFile()&quot; is null] with root cause\r\n\r\nI&#39;ve looked trough similar questions:\r\nhttps://stackoverflow.com/questions/49492803/spring-boot-validation-doesnt-work\r\nhttps://stackoverflow.com/questions/48614773/spring-boot-validation-annotations-valid-and-notblank-not-working\r\nhttps://stackoverflow.com/questions/27111806/validation-form-in-spring-using-valid-not-work\r\nhttps://stackoverflow.com/questions/71330986/dto-validation-in-spring-boot-not-working\r\n\r\nplayed with javax and hibernate validation dependencies versions,\r\ntried maven-clean but nothing of these helped\r\n\r\nI&#39;d appreciate any hint\r\n","title":"themyleaf validation does not work at spring boot + themyleaf project","body":"<p>I'm struggling to get the validation work on simple web form in spring boot + thymeleaf project.</p>\n<p>I've got these dependencies in my pom:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;version&gt;6.1.5.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>That's my DTO with @NotEmpty and @Pattern annotated fields:</p>\n<pre><code>package com.example.randomtext.web;\nimport lombok.Getter;\nimport lombok.RequiredArgsConstructor;\nimport lombok.Setter;\nimport lombok.ToString;\nimport javax.validation.constraints.NotEmpty;\nimport javax.validation.constraints.Pattern;\n\n@Getter\n@Setter\n@ToString\npublic class MainPageForm {\n    @NotEmpty(message = &quot;choose the source file&quot;)\n    private SourceFile sourceFile;\n    private String sourceText;\n    private boolean sourceTextSet;\n    private String generatedText;\n    @Pattern(regexp = &quot;[0-9]+&quot;, message = &quot;input the whole number&quot;)\n    private String lengthOfOutput;\n\n    @RequiredArgsConstructor\n    @Getter\n    public enum SourceFile {\n        ALICE(&quot;alice.txt&quot;),\n        CONFUCIUS(&quot;confucius.txt&quot;),\n        private static final SourceFile[] ALL_VALUES = SourceFile.values();\n        private final String fileName;\n    }\n}\n</code></pre>\n<p>that's my main.html form</p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;&lt;title&gt;RandomText&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;\n&lt;h3&gt;Random text generator&lt;/h3&gt;\n&lt;pre th:if=&quot;${!mainPageForm.sourceTextSet}&quot; th:style=&quot;'color:red;'&quot;&gt;\n    source text not set. Have you chosen the source file?&lt;/pre&gt;\n&lt;form action=&quot;#&quot; th:action=&quot;@{/random_text}&quot; th:object=&quot;${mainPageForm}&quot;\n      method=&quot;post&quot;&gt;\n    &lt;label&gt;source file&lt;/label&gt;&lt;br&gt;\n    &lt;div th:each=&quot;sourceFile : ${T(com.example.randomtext.web.MainPageForm.SourceFile).values()}&quot;&gt;\n        &lt;input type=&quot;radio&quot; th:field=&quot;*{sourceFile}&quot; th:value=&quot;${sourceFile}&quot;&gt;\n        &lt;label th:text=&quot;${sourceFile.getFileName()}&quot;&gt;source file&lt;/label&gt;\n        &lt;pre th:style=&quot;'color:red;'&quot;\n            th:if=&quot;${#fields.hasErrors('sourceFile')}&quot;\n        th:errors=&quot;*{sourceFile}&quot;&gt;&lt;/pre&gt;\n        &lt;br&gt;\n    &lt;/div&gt;\n    &lt;label&gt;length of string to be generated&lt;br&gt;\n        &lt;input type=&quot;text&quot; width=&quot;200&quot; th:field=&quot;*{lengthOfOutput}&quot;&gt;\n        &lt;pre th:style=&quot;'color:red;'&quot;\n           th:if=&quot;${#fields.hasErrors('lengthOfOutput')}&quot;\n           th:errors=&quot;*{lengthOfOutput}&quot;&gt;&lt;/pre&gt;\n    &lt;/label&gt;&lt;br&gt;&lt;br&gt;\n    &lt;br&gt;&lt;input type=&quot;submit&quot; value=&quot;Submit&quot;/&gt;&lt;input type=&quot;reset&quot; value=&quot;Reset&quot;/&gt;\n&lt;/form&gt;\n&lt;pre th:text=&quot;${mainPageForm.sourceText}&quot; th:style=&quot;'color:black;'&quot;&gt;\n    source text&lt;/pre&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>my controller looks like</p>\n<pre><code>package com.example.randomtext.web;\n\nimport com.example.randomtext.RandomTextService;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\n\nimport javax.validation.Valid;\nimport java.net.URISyntaxException;\n\nimport static com.example.randomtext.Constants.BASE_PATH;\nimport static com.example.randomtext.Constants.MAIN_TEMPLATE;\n\n@Controller\n@RequiredArgsConstructor\n@Slf4j\npublic class MainPageController {\n    private final RandomTextService service;\n\n    @GetMapping(BASE_PATH)\n    public String doGet(MainPageForm form) {\n        return MAIN_TEMPLATE;\n    }\n\n    @PostMapping(BASE_PATH)\n    public String doPost(@Valid MainPageForm mainPageForm, BindingResult bindingResult) throws URISyntaxException {\n        log.info(&quot;got form data {}&quot;, mainPageForm.toString());\n        if (!bindingResult.hasErrors()) {\n            log.info(&quot;see no errors :E&quot;);\n            log.info(bindingResult.toString());\n            log.info(&quot;sourceFile {}&quot;, mainPageForm.getSourceFile().getFileName());\n            mainPageForm.setSourceText(service.readSourceString(mainPageForm.getSourceFile().getFileName()));\n        } else {\n            log.info(&quot;got errors&quot;);\n            bindingResult.getFieldErrors()\n                         .forEach(e -&gt; log.error(&quot;got validation error {} for field {}&quot;,\n                                                 e.getDefaultMessage(),\n                                                 e.getField()));\n        }\n        return MAIN_TEMPLATE;\n    }\n}\n</code></pre>\n<p>and when I submitting the empty form the log output is:</p>\n<pre><code>2023-01-30T20:22:49.481+03:00  INFO 5464 --- [p-nio-80-exec-6] c.e.randomtext.web.MainPageController    : got form data MainPageForm(sourceFile=null, sourceText=null, sourceTextSet=false, generatedText=null, lengthOfOutput=)\n2023-01-30T20:22:49.481+03:00  INFO 5464 --- [p-nio-80-exec-6] c.e.randomtext.web.MainPageController    : see no errors :E\n2023-01-30T20:22:49.481+03:00  INFO 5464 --- [p-nio-80-exec-6] c.e.randomtext.web.MainPageController    : org.springframework.validation.BeanPropertyBindingResult: 0 errors\n2023-01-30T20:22:49.483+03:00 ERROR 5464 --- [p-nio-80-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;com.example.randomtext.web.MainPageForm$SourceFile.getFileName()&quot; because the return value of &quot;com.example.randomtext.web.MainPageForm.getSourceFile()&quot; is null] with root cause\n</code></pre>\n<p>I've looked trough similar questions:\n<a href=\"https://stackoverflow.com/questions/49492803/spring-boot-validation-doesnt-work\">Spring boot validation doesn&#39;t work</a>\n<a href=\"https://stackoverflow.com/questions/48614773/spring-boot-validation-annotations-valid-and-notblank-not-working\">Spring boot validation annotations @Valid and @NotBlank not working</a>\n<a href=\"https://stackoverflow.com/questions/27111806/validation-form-in-spring-using-valid-not-work\">Validation form in Spring using @Valid not work</a>\n<a href=\"https://stackoverflow.com/questions/71330986/dto-validation-in-spring-boot-not-working\">DTO validation in Spring Boot not working</a></p>\n<p>played with javax and hibernate validation dependencies versions,\ntried maven-clean but nothing of these helped</p>\n<p>I'd appreciate any hint</p>\n"},{"tags":["java","jackson","reactive-streams","mutiny","smallrye"],"comments":[{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1666459804,"post_id":74156376,"comment_id":130944344,"body_markdown":"I had created a `jsongenerator` that creates the wrapper for your first json (not using mutiny) , this could help you ?","body":"I had created a <code>jsongenerator</code> that creates the wrapper for your first json (not using mutiny) , this could help you ?"},{"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1666470614,"post_id":74156376,"comment_id":130946446,"body_markdown":"@dariosicily Thanks a lot for your response but I did not understand your response completely. Do you mean you have created JSON using the `JsonGenerator` which you would like to provide? I am already creating the wrapper using the `JsonGenerator` and provided the same using the question. All I need to do is append that JSON to the mutiny which is returning the response asynchronously. I am unable to do it.","body":"@dariosicily Thanks a lot for your response but I did not understand your response completely. Do you mean you have created JSON using the <code>JsonGenerator</code> which you would like to provide? I am already creating the wrapper using the <code>JsonGenerator</code> and provided the same using the question. All I need to do is append that JSON to the mutiny which is returning the response asynchronously. I am unable to do it."}],"answers":[{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675100416,"creation_date":1675100416,"answer_id":75288153,"question_id":74156376,"body_markdown":"Your approach wouldn&#39;t make as you are wrapping random input that goes out of the `CustomGenerator` control.\r\n\r\nSince you are able to generate the final output only when all emitted `Customer` object are emitted, and supposing you would like to retain a object oriented approach (i.e. not shifting to emitting JSON tokens), you should collect the emitted customers then wrap the collected items into your final JSON output:\r\n\r\n    Uni&lt;byte[]&gt; result = Multi.createFrom().publisher(new CustomerPublisher(input))\r\n        .collect()\r\n        .asList()\r\n        .map(customers -&gt; {\r\n            ByteArrayOutputStream jsonOutput = new ByteArrayOutputStream();\r\n            JsonGenerator jsonGenerator = new JsonFactory().createGenerator(jsonOutput).useDefaultPrettyPrinter();\r\n            jsonGenerator.writeStartObject();\r\n            jsonGenerator.writeStringField(&quot;type&quot;, &quot;customerDocument&quot;);\r\n            jsonGenerator.writeStringField(&quot;creationDate&quot;, Instant.now().toString());\r\n            jsonGenerator.writeFieldName(&quot;customerBody&quot;);\r\n            jsonGenerator.writeStartObject();\r\n            jsonGenerator.writeArrayFieldStart(&quot;customerList&quot;);\r\n            customers.forEach(customer -&gt; jsonGenerator.writeObject(customer));\r\n            jsonGenerator.writeEndArray();\r\n            jsonGenerator.writeEndObject();\r\n            jsonGenerator.writeEndObject();\r\n            jsonGnenerator.close();\r\n            return jsonOutput.toByteArray();\r\n        });","title":"How to add wrapper JSON to Mutiny Multi?","body":"<p>Your approach wouldn't make as you are wrapping random input that goes out of the <code>CustomGenerator</code> control.</p>\n<p>Since you are able to generate the final output only when all emitted <code>Customer</code> object are emitted, and supposing you would like to retain a object oriented approach (i.e. not shifting to emitting JSON tokens), you should collect the emitted customers then wrap the collected items into your final JSON output:</p>\n<pre><code>Uni&lt;byte[]&gt; result = Multi.createFrom().publisher(new CustomerPublisher(input))\n    .collect()\n    .asList()\n    .map(customers -&gt; {\n        ByteArrayOutputStream jsonOutput = new ByteArrayOutputStream();\n        JsonGenerator jsonGenerator = new JsonFactory().createGenerator(jsonOutput).useDefaultPrettyPrinter();\n        jsonGenerator.writeStartObject();\n        jsonGenerator.writeStringField(&quot;type&quot;, &quot;customerDocument&quot;);\n        jsonGenerator.writeStringField(&quot;creationDate&quot;, Instant.now().toString());\n        jsonGenerator.writeFieldName(&quot;customerBody&quot;);\n        jsonGenerator.writeStartObject();\n        jsonGenerator.writeArrayFieldStart(&quot;customerList&quot;);\n        customers.forEach(customer -&gt; jsonGenerator.writeObject(customer));\n        jsonGenerator.writeEndArray();\n        jsonGenerator.writeEndObject();\n        jsonGenerator.writeEndObject();\n        jsonGnenerator.close();\n        return jsonOutput.toByteArray();\n    });\n</code></pre>\n"}],"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675100416,"creation_date":1666368424,"question_id":74156376,"body_markdown":"I have a Java method which creates the customer information in JSON format using the streams approach and returns as and when it is created in an asynchronous approach using the `Multi` from `SmallRye Mutiny`. \r\n\r\nI would like to add the wrapper to this JSON which is being created using the `Jackson JsonGenerator`. I don&#39;t understand how to add the same. I believe I need to make use of the `Multi.createBy().concatenating()` to achieve [this][1].\r\n\r\nThe following is the method that I have:\r\n```\r\npublic static Multi&lt;Customer&gt; generateCustomer(final Input input) {\r\n    try {\r\n        return Multi.createFrom().publisher(new CustomerPublisher(input));\r\n    } catch (Exception e) {\r\n        throw new NewException(&quot;Exception occurred during the generation of Customer : &quot; + e);\r\n    }\r\n}\r\n```\r\n\r\nThe above method currently returns something like this asynchronously:\r\n```\r\n[\r\n  {\r\n    &quot;name&quot;:&quot;Batman&quot;,\r\n    &quot;age&quot;:45,\r\n    &quot;city&quot;:&quot;gotham&quot;\r\n  },\r\n  {\r\n    &quot;name&quot;:&quot;superman&quot;,\r\n    &quot;age&quot;:50,\r\n    &quot;city&quot;:&quot;moon&quot;\r\n  }\r\n]\r\n```\r\n\r\nI would like to add a wrapper to this JSON and create something like this:\r\n```\r\n{\r\n  &quot;isA&quot;: &quot;customerDocument&quot;,\r\n  &quot;createdOn&quot;: &quot;2022-10-10T12:29:43&quot;,\r\n  &quot;customerBody&quot;: {\r\n    &quot;customerList&quot;: [\r\n      {\r\n        &quot;name&quot;: &quot;Batman&quot;,\r\n        &quot;age&quot;: 45,\r\n        &quot;city&quot;: &quot;gotham&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;superman&quot;,\r\n        &quot;age&quot;: 50,\r\n        &quot;city&quot;: &quot;moon&quot;\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nSo I have added a method which does this and I would like to call the same, but I am unable to append the same to my ` return Multi.createFrom().publisher`\r\n\r\n```\r\npublic class CustomerGenerator {\r\n\r\n    private ByteArrayOutputStream jsonOutput;\r\n    private JsonGenerator jsonGenerator;\r\n\r\n    private CustomerGenerator() {\r\n        try {\r\n            jsonOutput = new ByteArrayOutputStream();\r\n            jsonGenerator = new JsonFactory().createGenerator(jsonOutput).useDefaultPrettyPrinter();\r\n        } catch (IOException ex) {\r\n            throw new TestDataGeneratorException(&quot;Exception occurred during the generation of customer document : &quot; + ex);\r\n        }\r\n    }\r\n\r\n    public static Multi &lt; Customer &gt; generateCustomer(final Input input) {\r\n        CustomerGenerator customerGenerator = new CustomerGenerator();\r\n        customerGenerator.wrapperStart();\r\n        try {\r\n            return Multi.createFrom().publisher(new CustomerPublisher(input));\r\n        } catch (Exception e) {\r\n            throw new NewException(&quot;Exception occurred during the generation of Customer : &quot; + e);\r\n        } finally {\r\n            System.out.println(&quot;ALL DONE&quot;);\r\n            customerGenerator.wrapperEnd();\r\n        }\r\n    }\r\n\r\n    public void wrapperStart() {\r\n        try {\r\n            jsonGenerator.writeStartObject();\r\n            jsonGenerator.writeStringField(&quot;type&quot;, &quot;customerDocument&quot;);\r\n            jsonGenerator.writeStringField(&quot;creationDate&quot;, Instant.now().toString());\r\n            jsonGenerator.writeFieldName(&quot;customerBody&quot;);\r\n            jsonGenerator.writeStartObject();\r\n            jsonGenerator.writeFieldName(&quot;customerList&quot;);\r\n        } catch (IOException ex) {\r\n            throw new TestDataGeneratorException(&quot;Exception occurred during customer document wrapper creation : &quot; + ex);\r\n        }\r\n    }\r\n\r\n    public void wrapperEnd() {\r\n        try {\r\n            jsonGenerator.writeEndObject(); // End body\r\n            jsonGenerator.writeEndObject(); // End whole json file\r\n        } catch (IOException ex) {\r\n            throw new TestDataGeneratorException(&quot;Exception occurred during customer document wrapper creation : &quot; + ex);\r\n        } finally {\r\n            try {\r\n                jsonGenerator.close();\r\n                System.out.println(&quot;JSON DOCUMENT STRING : &quot; + jsonOutput.toString());\r\n            } catch (Exception e) {\r\n                // do nothing\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://smallrye.io/smallrye-mutiny/1.7.0/guides/merging-and-concatenating-streams/#merging-multis","title":"How to add wrapper JSON to Mutiny Multi?","body":"<p>I have a Java method which creates the customer information in JSON format using the streams approach and returns as and when it is created in an asynchronous approach using the <code>Multi</code> from <code>SmallRye Mutiny</code>.</p>\n<p>I would like to add the wrapper to this JSON which is being created using the <code>Jackson JsonGenerator</code>. I don't understand how to add the same. I believe I need to make use of the <code>Multi.createBy().concatenating()</code> to achieve <a href=\"https://smallrye.io/smallrye-mutiny/1.7.0/guides/merging-and-concatenating-streams/#merging-multis\" rel=\"nofollow noreferrer\">this</a>.</p>\n<p>The following is the method that I have:</p>\n<pre><code>public static Multi&lt;Customer&gt; generateCustomer(final Input input) {\n    try {\n        return Multi.createFrom().publisher(new CustomerPublisher(input));\n    } catch (Exception e) {\n        throw new NewException(&quot;Exception occurred during the generation of Customer : &quot; + e);\n    }\n}\n</code></pre>\n<p>The above method currently returns something like this asynchronously:</p>\n<pre><code>[\n  {\n    &quot;name&quot;:&quot;Batman&quot;,\n    &quot;age&quot;:45,\n    &quot;city&quot;:&quot;gotham&quot;\n  },\n  {\n    &quot;name&quot;:&quot;superman&quot;,\n    &quot;age&quot;:50,\n    &quot;city&quot;:&quot;moon&quot;\n  }\n]\n</code></pre>\n<p>I would like to add a wrapper to this JSON and create something like this:</p>\n<pre><code>{\n  &quot;isA&quot;: &quot;customerDocument&quot;,\n  &quot;createdOn&quot;: &quot;2022-10-10T12:29:43&quot;,\n  &quot;customerBody&quot;: {\n    &quot;customerList&quot;: [\n      {\n        &quot;name&quot;: &quot;Batman&quot;,\n        &quot;age&quot;: 45,\n        &quot;city&quot;: &quot;gotham&quot;\n      },\n      {\n        &quot;name&quot;: &quot;superman&quot;,\n        &quot;age&quot;: 50,\n        &quot;city&quot;: &quot;moon&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n<p>So I have added a method which does this and I would like to call the same, but I am unable to append the same to my <code> return Multi.createFrom().publisher</code></p>\n<pre><code>public class CustomerGenerator {\n\n    private ByteArrayOutputStream jsonOutput;\n    private JsonGenerator jsonGenerator;\n\n    private CustomerGenerator() {\n        try {\n            jsonOutput = new ByteArrayOutputStream();\n            jsonGenerator = new JsonFactory().createGenerator(jsonOutput).useDefaultPrettyPrinter();\n        } catch (IOException ex) {\n            throw new TestDataGeneratorException(&quot;Exception occurred during the generation of customer document : &quot; + ex);\n        }\n    }\n\n    public static Multi &lt; Customer &gt; generateCustomer(final Input input) {\n        CustomerGenerator customerGenerator = new CustomerGenerator();\n        customerGenerator.wrapperStart();\n        try {\n            return Multi.createFrom().publisher(new CustomerPublisher(input));\n        } catch (Exception e) {\n            throw new NewException(&quot;Exception occurred during the generation of Customer : &quot; + e);\n        } finally {\n            System.out.println(&quot;ALL DONE&quot;);\n            customerGenerator.wrapperEnd();\n        }\n    }\n\n    public void wrapperStart() {\n        try {\n            jsonGenerator.writeStartObject();\n            jsonGenerator.writeStringField(&quot;type&quot;, &quot;customerDocument&quot;);\n            jsonGenerator.writeStringField(&quot;creationDate&quot;, Instant.now().toString());\n            jsonGenerator.writeFieldName(&quot;customerBody&quot;);\n            jsonGenerator.writeStartObject();\n            jsonGenerator.writeFieldName(&quot;customerList&quot;);\n        } catch (IOException ex) {\n            throw new TestDataGeneratorException(&quot;Exception occurred during customer document wrapper creation : &quot; + ex);\n        }\n    }\n\n    public void wrapperEnd() {\n        try {\n            jsonGenerator.writeEndObject(); // End body\n            jsonGenerator.writeEndObject(); // End whole json file\n        } catch (IOException ex) {\n            throw new TestDataGeneratorException(&quot;Exception occurred during customer document wrapper creation : &quot; + ex);\n        } finally {\n            try {\n                jsonGenerator.close();\n                System.out.println(&quot;JSON DOCUMENT STRING : &quot; + jsonOutput.toString());\n            } catch (Exception e) {\n                // do nothing\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","annotation-processing"],"owner":{"account_id":24287116,"reputation":408,"user_id":18232723,"display_name":"kylie.zoltan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675100407,"creation_date":1675100407,"question_id":75288150,"body_markdown":"I have the following annotations:\r\n\r\n```\r\npublic @interface A { B[] value(); }\r\npublic @interface B { C[] value(); }\r\npublic @interface C { Class&lt;?&gt; value(); }\r\n```\r\n\r\nOn the method that I use to process, I receive the annotation itself not the annotation mirror and that behaviour cannot be changed.\r\n\r\n```\r\npublic void process(B annotation)\r\n```\r\n\r\nTo get the class from C I do the following:\r\n\r\n```\r\n    private TypeMirror getClassFromAnnotation( C annotation )\r\n    {\r\n        try\r\n        {\r\n            return getTypeMirror( annotation.value() );\r\n        }\r\n        catch ( MirroredTypeException ex )\r\n        {\r\n            return ex.getTypeMirror();\r\n        }\r\n    }\r\n```\r\n\r\nThe code works fine but the issue comes down when I do the tests.\r\n\r\nI can&#39;t achieve 100% coverage because `return getTypeMirror( annotation.value() )` never gets executed.\r\n\r\nHow can I fix this?\r\n\r\nThanks","title":"Get Class&lt;?&gt; from annotation on annotation processor","body":"<p>I have the following annotations:</p>\n<pre><code>public @interface A { B[] value(); }\npublic @interface B { C[] value(); }\npublic @interface C { Class&lt;?&gt; value(); }\n</code></pre>\n<p>On the method that I use to process, I receive the annotation itself not the annotation mirror and that behaviour cannot be changed.</p>\n<pre><code>public void process(B annotation)\n</code></pre>\n<p>To get the class from C I do the following:</p>\n<pre><code>    private TypeMirror getClassFromAnnotation( C annotation )\n    {\n        try\n        {\n            return getTypeMirror( annotation.value() );\n        }\n        catch ( MirroredTypeException ex )\n        {\n            return ex.getTypeMirror();\n        }\n    }\n</code></pre>\n<p>The code works fine but the issue comes down when I do the tests.</p>\n<p>I can't achieve 100% coverage because <code>return getTypeMirror( annotation.value() )</code> never gets executed.</p>\n<p>How can I fix this?</p>\n<p>Thanks</p>\n"},{"tags":["java","class","java.util.scanner","printwriter"],"comments":[{"owner":{"account_id":9789138,"reputation":171,"user_id":7254424,"display_name":"thorin9000"},"score":0,"creation_date":1675104466,"post_id":75288139,"comment_id":132852801,"body_markdown":"This thread might help: https://stackoverflow.com/questions/3776940/why-is-the-java-util-scanner-class-declared-final","body":"This thread might help: <a href=\"https://stackoverflow.com/questions/3776940/why-is-the-java-util-scanner-class-declared-final\" title=\"why is the java util scanner class declared final\">stackoverflow.com/questions/3776940/&hellip;</a>"}],"owner":{"account_id":26365556,"reputation":1,"user_id":20021091,"display_name":"Mohammed Alsafari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675100330,"creation_date":1675100330,"question_id":75288139,"body_markdown":"As a new OOP programmer, our instructor has faced us with an interesting question. \\*Why we can&#39;t inherent a Scanner class?&quot; He said.\r\n\r\nAt first it was kinda obvious, &quot;Because it is declared as final!&quot; We said.\r\n\r\nHe said: &quot;Ok.. Why is the Scanner class defined as final, while PrintWriter is not? and by the way it is not because of security reasons. look it up!&quot;?\r\n\r\nWhat a great question in my sight! they are very similar, we use the first one to scan &amp; input and the second one to write &amp; output.\r\n\r\nI&#39;ve already seen some other similar question in stack overflow, [here](https://stackoverflow.com/questions/3776940/why-is-the-java-util-scanner-class-declared-final). But I wasn&#39;t satisfied with the answers.\r\n\r\n----------\r\n\r\nSo my question is &quot;Why is the Scanner class is defined as final, while PrintWriter is not?&quot;.\r\n\r\nI tried to search it in google, found no answer. Matter of fact, found no body asking the same question.\r\n\r\nI also looked the Scanner &amp; PrintWriter java documentation. found nothing that justifies it.","title":"Why is the Scanner class in java is defined as final while PrintWriter is not?","body":"<p>As a new OOP programmer, our instructor has faced us with an interesting question. *Why we can't inherent a Scanner class?&quot; He said.</p>\n<p>At first it was kinda obvious, &quot;Because it is declared as final!&quot; We said.</p>\n<p>He said: &quot;Ok.. Why is the Scanner class defined as final, while PrintWriter is not? and by the way it is not because of security reasons. look it up!&quot;?</p>\n<p>What a great question in my sight! they are very similar, we use the first one to scan &amp; input and the second one to write &amp; output.</p>\n<p>I've already seen some other similar question in stack overflow, <a href=\"https://stackoverflow.com/questions/3776940/why-is-the-java-util-scanner-class-declared-final\">here</a>. But I wasn't satisfied with the answers.</p>\n<hr />\n<p>So my question is &quot;Why is the Scanner class is defined as final, while PrintWriter is not?&quot;.</p>\n<p>I tried to search it in google, found no answer. Matter of fact, found no body asking the same question.</p>\n<p>I also looked the Scanner &amp; PrintWriter java documentation. found nothing that justifies it.</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":3,"creation_date":1675091689,"post_id":75286300,"comment_id":132848487,"body_markdown":"Don&#39;t create multiple scanners. Just create one, and call nextLine twice.","body":"Don&#39;t create multiple scanners. Just create one, and call nextLine twice."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":2,"creation_date":1675091954,"post_id":75286300,"comment_id":132848580,"body_markdown":"Actually, does JUnit4 let you access System.in? I don&#39;t know what you mean by &quot;When I uploaded it to the JUnit4&quot;. This error seems to be caused when System.in gets closed. When using JUnit4 you might not get a System.in at all. Which line throws the exception?","body":"Actually, does JUnit4 let you access System.in? I don&#39;t know what you mean by &quot;When I uploaded it to the JUnit4&quot;. This error seems to be caused when System.in gets closed. When using JUnit4 you might not get a System.in at all. Which line throws the exception?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1675092123,"post_id":75286300,"comment_id":132848639,"body_markdown":"For completeness&#39; sake: exception are thrown at _runtime_, which happens after compilations. Code might compile fine, but still have all sorts of problems and bugs. (How great would it be if code that compiled meant that it works and doesn&#39;t have bugs? One can dream )","body":"For completeness&#39; sake: exception are thrown at <i>runtime</i>, which happens after compilations. Code might compile fine, but still have all sorts of problems and bugs. (How great would it be if code that compiled meant that it works and doesn&#39;t have bugs? One can dream )"},{"owner":{"account_id":25712903,"reputation":41,"user_id":19471125,"display_name":"Salome"},"score":0,"creation_date":1675098577,"post_id":75286300,"comment_id":132850885,"body_markdown":"I updated the post with a few more details. When I refer to uploading, I mean that students are to upload their draft/finished code to a cloud application-&gt; automated &quot;assignment tester &amp; grading&quot; software that uses JUnit4. So the cloud application I&#39;m uploading to is what checks my code. But since it has this error, it won&#39;t even run the test. It won&#39;t show a line number for the error, and my IDE isn&#39;t showing it at all either.\n\nI&#39;m not sure how to &quot;Don&#39;t create multiple scanners&quot; but I will look that up.","body":"I updated the post with a few more details. When I refer to uploading, I mean that students are to upload their draft/finished code to a cloud application-&gt; automated &quot;assignment tester &amp; grading&quot; software that uses JUnit4. So the cloud application I&#39;m uploading to is what checks my code. But since it has this error, it won&#39;t even run the test. It won&#39;t show a line number for the error, and my IDE isn&#39;t showing it at all either.  I&#39;m not sure how to &quot;Don&#39;t create multiple scanners&quot; but I will look that up."},{"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"score":2,"creation_date":1675098719,"post_id":75286300,"comment_id":132850952,"body_markdown":"&quot;I&#39;m not sure how to &quot;Don&#39;t create multiple scanners&quot;: you&#39;re creating a scanner twice, instead of creating one and call nextLine two times on the *same* Scanner. This is  what @matt meant.","body":"&quot;I&#39;m not sure how to &quot;Don&#39;t create multiple scanners&quot;: you&#39;re creating a scanner twice, instead of creating one and call nextLine two times on the <i>same</i> Scanner. This is  what @matt meant."},{"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"score":2,"creation_date":1675098881,"post_id":75286300,"comment_id":132851013,"body_markdown":"Since you cannot see the correct stacktrace, it&#39;s impossible for you to tell which class is missing in the &quot;cloud&#39;s java&quot;. I suggest you try -if possible- to upload a simple hello world first, and then start adding line by line (where it makes sense) to see which one is causing the issue.","body":"Since you cannot see the correct stacktrace, it&#39;s impossible for you to tell which class is missing in the &quot;cloud&#39;s java&quot;. I suggest you try -if possible- to upload a simple hello world first, and then start adding line by line (where it makes sense) to see which one is causing the issue."}],"answers":[{"comments":[{"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"score":1,"creation_date":1675100420,"post_id":75288115,"comment_id":132851551,"body_markdown":"&quot;isContains&quot; gives me Enterprise vibes ;) I&#39;d have called the variable &#39;contains&#39; or &#39;isContained&#39; ;)","body":"&quot;isContains&quot; gives me Enterprise vibes ;) I&#39;d have called the variable &#39;contains&#39; or &#39;isContained&#39; ;)"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":1,"creation_date":1675100765,"post_id":75288115,"comment_id":132851648,"body_markdown":"@MartinMarconcini Haha!...I just copied their variable name. I would have called it `containsWord` myself.  =)","body":"@MartinMarconcini Haha!...I just copied their variable name. I would have called it <code>containsWord</code> myself.  =)"},{"owner":{"account_id":25712903,"reputation":41,"user_id":19471125,"display_name":"Salome"},"score":0,"creation_date":1675110154,"post_id":75288115,"comment_id":132854374,"body_markdown":"Sorry for &quot;Enterprise Vibes&quot; haha. Is that bad? I&#39;m still learning. =) Thanks for the help! I will give it a try now.","body":"Sorry for &quot;Enterprise Vibes&quot; haha. Is that bad? I&#39;m still learning. =) Thanks for the help! I will give it a try now."},{"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"score":1,"creation_date":1675163433,"post_id":75288115,"comment_id":132864955,"body_markdown":"Enterprise Vibes normally refers to the over-complication of what would otherwise be a &quot;relatively straightforward&quot; approach. The &quot;joke&quot; is better represented by the famous [Fizz Buzz Enterprise Edition](https://github.com/EnterpriseQualityCoding/FizzBuzzEnterpriseEdition) where a simple &quot;fizz buzz&quot; exercise is designed as an &quot;enterprise&quot; piece of software, with an insane amount of patterns and abstractions that make it a huge project, to the point of ridiculousness ;) Anyway, keep learning and good luck! Idle_mind example is good, hopefully you can understand the difference with yours.","body":"Enterprise Vibes normally refers to the over-complication of what would otherwise be a &quot;relatively straightforward&quot; approach. The &quot;joke&quot; is better represented by the famous <a href=\"https://github.com/EnterpriseQualityCoding/FizzBuzzEnterpriseEdition\" rel=\"nofollow noreferrer\">Fizz Buzz Enterprise Edition</a> where a simple &quot;fizz buzz&quot; exercise is designed as an &quot;enterprise&quot; piece of software, with an insane amount of patterns and abstractions that make it a huge project, to the point of ridiculousness ;) Anyway, keep learning and good luck! Idle_mind example is good, hopefully you can understand the difference with yours."},{"owner":{"account_id":25712903,"reputation":41,"user_id":19471125,"display_name":"Salome"},"score":0,"creation_date":1675225451,"post_id":75288115,"comment_id":132880823,"body_markdown":"Thanks for the clarity. And yes, it worked. I figured it out and all 7 of my files (including this one posted) that had the error is fixed now and passing the tests. It all seemed related to either using more than one new scanner, or not closing. Sometimes it was better to close before making a new one. Sometimes it was better to only use one more than once. Thanks everyone for the help.","body":"Thanks for the clarity. And yes, it worked. I figured it out and all 7 of my files (including this one posted) that had the error is fixed now and passing the tests. It all seemed related to either using more than one new scanner, or not closing. Sometimes it was better to close before making a new one. Sometimes it was better to only use one more than once. Thanks everyone for the help."}],"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675100194,"creation_date":1675100194,"answer_id":75288115,"question_id":75286300,"body_markdown":"Here&#39;s an example of using just ONE SCANNER as suggested in the comments.\r\n\r\nI&#39;ve also eliminated the second set of variables for lower case; just convert the input directly to lower case and store it in the original variable:\r\n\r\n      public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        \r\n        System.out.println(&quot;Type a word:\\n&quot;);    \r\n        String word = sc.nextLine().toLowerCase();\r\n    \r\n        System.out.println(&quot;Type a sentence:\\n&quot;);\r\n        String sentence = sc.nextLine().toLowerCase();\r\n    \r\n        boolean isContains = sentence.contains(word);\r\n        System.out.println(isContains);\r\n      }\r\n\r\nIf you need to preserve the exact user input for later, then you can convert to lower case only when you call contains() like this:\r\n\r\n      public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        \r\n        System.out.println(&quot;Type a word:\\n&quot;);    \r\n        String word = sc.nextLine();\r\n    \r\n        System.out.println(&quot;Type a sentence:\\n&quot;);\r\n        String sentence = sc.nextLine();\r\n    \r\n        boolean isContains = sentence.toLowerCase().contains(word.toLowerCase());\r\n        System.out.println(isContains);\r\n      }\r\n\r\n","title":"Java Homework Assignment  java.util.NoSuchElementException: No line found","body":"<p>Here's an example of using just ONE SCANNER as suggested in the comments.</p>\n<p>I've also eliminated the second set of variables for lower case; just convert the input directly to lower case and store it in the original variable:</p>\n<pre><code>  public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    \n    System.out.println(&quot;Type a word:\\n&quot;);    \n    String word = sc.nextLine().toLowerCase();\n\n    System.out.println(&quot;Type a sentence:\\n&quot;);\n    String sentence = sc.nextLine().toLowerCase();\n\n    boolean isContains = sentence.contains(word);\n    System.out.println(isContains);\n  }\n</code></pre>\n<p>If you need to preserve the exact user input for later, then you can convert to lower case only when you call contains() like this:</p>\n<pre><code>  public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    \n    System.out.println(&quot;Type a word:\\n&quot;);    \n    String word = sc.nextLine();\n\n    System.out.println(&quot;Type a sentence:\\n&quot;);\n    String sentence = sc.nextLine();\n\n    boolean isContains = sentence.toLowerCase().contains(word.toLowerCase());\n    System.out.println(isContains);\n  }\n</code></pre>\n"}],"owner":{"account_id":25712903,"reputation":41,"user_id":19471125,"display_name":"Salome"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1675100194,"creation_date":1675091356,"question_id":75286300,"body_markdown":"I get an error from automated JUnit 4 unit testing software that my course instructor uses to automatically check assignments.\r\n\r\nWe upload our draft code to a cloud program tester which automatically checks and grades the assignments.\r\n\r\nThis is week 1 of first semester. I&#39;ve never coded in Java before. And the lessons haven&#39;t taught if/else, while, loops, switch etc. so I don&#39;t think it&#39;s okay to use those (they appear next module.)\r\n\r\nI followed a class video tutorial, which doesn&#39;t throw any exceptions in the tutorial  so I don&#39;t know what&#39;s going on.\r\n\r\nThe unit was on variables, input, printing out, Booleans, operators, and a few things like contains, replace, equals etc.\r\n\r\nNote: I am allowed to ask questions on StackOverflow per instructor.\r\n\r\n**The error is: java.util.NoSuchElementException: No line found**\r\n\r\nNo line number is specified in the testing software where the exception occurs. And since it&#39;s not happening in my IDE, I don&#39;t know where it is.\r\n\r\nOther solutions I&#39;ve found require while and other methods I&#39;m not supposed to use.\r\n\r\nMy code (below) runs okay in the VSCODE IDE cloud the school provided.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class ContainsAnyCase {\r\n\r\n  public static void main(String[] args) {\r\n    System.out.println(&quot;Type a word:\\n&quot;);\r\n\r\n    Scanner userInputWord = new Scanner(System.in);\r\n\r\n    String word = userInputWord.nextLine();\r\n\r\n    String wordlc = word.toLowerCase();\r\n\r\n    System.out.println(&quot;Type a sentence:\\n&quot;);\r\n\r\n    Scanner userInputSentence = new Scanner(System.in);\r\n\r\n    String sentence = userInputSentence.nextLine();\r\n\r\n    String sentencelc = sentence.toLowerCase();\r\n\r\n    boolean isContains = sentencelc.contains(wordlc);\r\n\r\n    System.out.println(isContains);\r\n\r\n  }\r\n}\r\n```\r\nI&#39;m wondering if anyone can explain why there is an error and if there are ways to fix it or avoid the error without going into the territory of future modules? Also, I&#39;m still learning how to use Stack Overflow appropriately. If I asked my question wrong, please advise how I can improve my question or post. Thank you.\r\n\r\n\r\nI expected for the program to tell me true/false if the word was in the sentence. In my IDE, it worked. When I uploaded it to the JUnit4, it said java.util.NoSuchElementException: No line found","title":"Java Homework Assignment  java.util.NoSuchElementException: No line found","body":"<p>I get an error from automated JUnit 4 unit testing software that my course instructor uses to automatically check assignments.</p>\n<p>We upload our draft code to a cloud program tester which automatically checks and grades the assignments.</p>\n<p>This is week 1 of first semester. I've never coded in Java before. And the lessons haven't taught if/else, while, loops, switch etc. so I don't think it's okay to use those (they appear next module.)</p>\n<p>I followed a class video tutorial, which doesn't throw any exceptions in the tutorial  so I don't know what's going on.</p>\n<p>The unit was on variables, input, printing out, Booleans, operators, and a few things like contains, replace, equals etc.</p>\n<p>Note: I am allowed to ask questions on StackOverflow per instructor.</p>\n<p><strong>The error is: java.util.NoSuchElementException: No line found</strong></p>\n<p>No line number is specified in the testing software where the exception occurs. And since it's not happening in my IDE, I don't know where it is.</p>\n<p>Other solutions I've found require while and other methods I'm not supposed to use.</p>\n<p>My code (below) runs okay in the VSCODE IDE cloud the school provided.</p>\n<pre><code>import java.util.Scanner;\n\npublic class ContainsAnyCase {\n\n  public static void main(String[] args) {\n    System.out.println(&quot;Type a word:\\n&quot;);\n\n    Scanner userInputWord = new Scanner(System.in);\n\n    String word = userInputWord.nextLine();\n\n    String wordlc = word.toLowerCase();\n\n    System.out.println(&quot;Type a sentence:\\n&quot;);\n\n    Scanner userInputSentence = new Scanner(System.in);\n\n    String sentence = userInputSentence.nextLine();\n\n    String sentencelc = sentence.toLowerCase();\n\n    boolean isContains = sentencelc.contains(wordlc);\n\n    System.out.println(isContains);\n\n  }\n}\n</code></pre>\n<p>I'm wondering if anyone can explain why there is an error and if there are ways to fix it or avoid the error without going into the territory of future modules? Also, I'm still learning how to use Stack Overflow appropriately. If I asked my question wrong, please advise how I can improve my question or post. Thank you.</p>\n<p>I expected for the program to tell me true/false if the word was in the sentence. In my IDE, it worked. When I uploaded it to the JUnit4, it said java.util.NoSuchElementException: No line found</p>\n"},{"tags":["java","selenium","selenium-webdriver","jenkins","ie-compatibility-mode"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1674686528,"post_id":75240620,"comment_id":132770483,"body_markdown":"IE, or Edge? Because those are completely different browsers. (And if you _really_ mean IE: that browser was officially discontinued by Microsoft in June of 2022. All in-support versions of Windows come with Edge)","body":"IE, or Edge? Because those are completely different browsers. (And if you <i>really</i> mean IE: that browser was officially discontinued by Microsoft in June of 2022. All in-support versions of Windows come with Edge)"},{"owner":{"account_id":2778886,"reputation":31,"user_id":2391844,"display_name":"DeZaelez"},"score":0,"creation_date":1674686681,"post_id":75240620,"comment_id":132770507,"body_markdown":"Edge allows you to run IE under compatibility mode (https://learn.microsoft.com/en-us/microsoft-edge/webdriver-chromium/ie-mode?tabs=java).  This is Microsoft&#39;s way of providing backward compatibility for applications that can only run under IE.","body":"Edge allows you to run IE under compatibility mode (<a href=\"https://learn.microsoft.com/en-us/microsoft-edge/webdriver-chromium/ie-mode?tabs=java\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/microsoft-edge/webdriver-chromium&zwnj;&#8203;/&hellip;</a>).  This is Microsoft&#39;s way of providing backward compatibility for applications that can only run under IE."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1674686801,"post_id":75240620,"comment_id":132770536,"body_markdown":"Then please edit your post and title to reflect the fact that you&#39;re using Edge, set to IE compatibility more. Right now your title and post sound like you&#39;re straight up using IE.","body":"Then please edit your post and title to reflect the fact that you&#39;re using Edge, set to IE compatibility more. Right now your title and post sound like you&#39;re straight up using IE."},{"owner":{"account_id":2778886,"reputation":31,"user_id":2391844,"display_name":"DeZaelez"},"score":0,"creation_date":1674687248,"post_id":75240620,"comment_id":132770640,"body_markdown":"Yes, good catch.  Title updated.","body":"Yes, good catch.  Title updated."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1674687358,"post_id":75240620,"comment_id":132770672,"body_markdown":"You&#39;re still saying you&#39;re running IE, though. I&#39;ve edited your title and post to say you&#39;re running Edge, in IE compatibility mode, instead.","body":"You&#39;re still saying you&#39;re running IE, though. I&#39;ve edited your title and post to say you&#39;re running Edge, in IE compatibility mode, instead."},{"owner":{"account_id":10259402,"reputation":25938,"user_id":7571258,"accept_rate":62,"display_name":"zett42"},"score":0,"creation_date":1674727877,"post_id":75240620,"comment_id":132777251,"body_markdown":"In which user context is that PowerShell code running? Jenkins runs as LocalSystem by default, which behaves differently than a regular user account, where a browser is supposed to run. Furthermore, Jenkins as a service runs in session 0 isolation, so it can&#39;t launch interactive programs such as a browser. There are ways around that, e. g. create an additional Jenkins node that is launched as a regular user by a scheduled task. Run that PowerShell script on this node by specifying it via `agent` or `node` directives.","body":"In which user context is that PowerShell code running? Jenkins runs as LocalSystem by default, which behaves differently than a regular user account, where a browser is supposed to run. Furthermore, Jenkins as a service runs in session 0 isolation, so it can&#39;t launch interactive programs such as a browser. There are ways around that, e. g. create an additional Jenkins node that is launched as a regular user by a scheduled task. Run that PowerShell script on this node by specifying it via <code>agent</code> or <code>node</code> directives."},{"owner":{"account_id":2778886,"reputation":31,"user_id":2391844,"display_name":"DeZaelez"},"score":0,"creation_date":1674757628,"post_id":75240620,"comment_id":132787044,"body_markdown":"The Jenkins job was not setup as a service since you&#39;re right, it did not allow for user interaction.  We have a service account login that launched that job and it remains logged on in perpetuity.  I don&#39;t think it was setup as a PowerShell, but I could be wrong.  I didn&#39;t set it up.","body":"The Jenkins job was not setup as a service since you&#39;re right, it did not allow for user interaction.  We have a service account login that launched that job and it remains logged on in perpetuity.  I don&#39;t think it was setup as a PowerShell, but I could be wrong.  I didn&#39;t set it up."}],"owner":{"account_id":2778886,"reputation":31,"user_id":2391844,"display_name":"DeZaelez"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675100150,"creation_date":1674686353,"question_id":75240620,"body_markdown":"I have the following code that launches Edge in IE Compatibility mode:\r\n```\r\n\t\t\tcase EDGE_COMPATIBILITY: {\r\n\t\t\t\tlogMessage(MessType.INFO, &quot;Running Edge under compatibility mode.&quot;);\r\n\t\t\t\t\r\n\t\t\t\tInternetExplorerOptions ieOptions = new InternetExplorerOptions();\r\n\t\t\t\t\r\n\t\t\t\tieOptions.introduceFlakinessByIgnoringSecurityDomains();\r\n\t\t\t\tieOptions.withEdgeExecutablePath(&quot;C:\\\\Program Files (x86)\\\\Microsoft\\\\Edge\\\\Application\\\\msedge.exe&quot;);\r\n\t\t\t\tieOptions.attachToEdgeChrome();\r\n\t\t\t\tieOptions.destructivelyEnsureCleanSession();\r\n\t\t\t\t\r\n\t\t\t\tSystem.setProperty(&quot;webdriver.ie.driver&quot;, projectLoc + &quot;\\\\src\\\\externaljars\\\\selenium\\\\edgedriver\\\\iedriverserver.exe&quot;);\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlogMessage(MessType.INFO, &quot;About to create &#39;webdr&#39;&quot;);\r\n\t\t\t\t\twebdr = new InternetExplorerDriver(ieOptions);\r\n\t\t\t\t\t\r\n\t\t\t\t\tlogMessage(MessType.INFO, &quot;Sleeping for 10 seconds.&quot;);\r\n\t\t\t\t\tThread.sleep(10000);\r\n\t\t\t\t\tlogMessage(MessType.INFO, &quot;Done sleeping ...&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\twebdr.manage().window().maximize();\r\n\r\n\t\t\t\t\tThread.sleep(1000);\t\t\r\n\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n```\r\n\r\nThis works great when running the automated scripts locally, here is what it looks like:\r\n```\r\nTITLE Executing Method launchBrowser  Time: [1:38:34PM]\r\nINFO TEMP LOG MESSAGE : Data Source: DATABASE  Browser: EDGE_COMPATIBILITY URL: null\r\nINFO TEMP LOG MESSAGE :  Browser: EDGE_COMPATIBILITY\r\nINFO Running Edge under compatibility mode.\r\nINFO About to create &#39;webdr&#39;\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nStarted InternetExplorerDriver server (32-bit)\r\n4.7.0.0\r\nListening on port 23537\r\nOnly local connections are allowed\r\nINFO Sleeping for 10 seconds.\r\nINFO Done sleeping ...\r\n```\r\n\r\n\r\nbut when I try to run the same code from a Jenkins server, I get the following exception error:\r\n```\r\n14:02:26    [testng] TITLE Executing Method launchBrowser  Time: [4:2:26PM]\r\n14:02:26    [testng] INFO TEMP LOG MESSAGE : Data Source: DATABASE  Browser: EDGE_COMPATIBILITY URL: null\r\n14:02:26    [testng] INFO TEMP LOG MESSAGE :  Browser: EDGE_COMPATIBILITY\r\n14:02:26    [testng] INFO Running Edge under compatibility mode.\r\n14:02:26    [testng] INFO About to create &#39;webdr&#39;\r\n14:02:27    [testng] Started InternetExplorerDriver server (32-bit)\r\n14:02:27    [testng] 4.7.0.0\r\n14:02:27    [testng] Listening on port xxxxxx\r\n14:02:27    [testng] Only local connections are allowed\r\n14:05:28    [testng] org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\n14:05:28    [testng] Host info: host: &#39;xxxxxxxxxx&#39;, ip: &#39;xx.xx.xx.xx&#39;\r\n14:05:28    [testng] Build info: version: &#39;4.6.0&#39;, revision: &#39;79f1c02ae20&#39;\r\n14:05:28    [testng] System info: os.name: &#39;Windows Server 2016&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;11.0.11&#39;\r\n14:05:28    [testng] Driver info: org.openqa.selenium.ie.InternetExplorerDriver\r\n14:05:28    [testng] Command: [null, newSession {capabilities=[Capabilities {browserName: internet explorer, se:ieOptions: {ie.edgepath: C:\\Program Files (x86)\\Micr..., ignoreProtectedModeSettings: true}}], desiredCapabilities=Capabilities {browserName: internet explorer, se:ieOptions: {ie.edgepath: C:\\Program Files (x86)\\Micr..., ignoreProtectedModeSettings: true}}}]\r\n14:05:28    [testng] Capabilities {}\r\n14:05:28    [testng] \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:559)\r\n\r\n```\r\nWhat is even more interesting is that if I log onto the Jenkins server to see what&#39;s going on, then I don&#39;t get the exception error.  It is as though attaching a screen output ***completes*** the instantiation process.\r\n\r\nDoes anyone know whether this is a Jenkins limitation?  Or are there any other InternetOptions that I should be using.","title":"Unable to run Edge in IE Compatibility mode on the Jenkins server","body":"<p>I have the following code that launches Edge in IE Compatibility mode:</p>\n<pre><code>            case EDGE_COMPATIBILITY: {\n                logMessage(MessType.INFO, &quot;Running Edge under compatibility mode.&quot;);\n                \n                InternetExplorerOptions ieOptions = new InternetExplorerOptions();\n                \n                ieOptions.introduceFlakinessByIgnoringSecurityDomains();\n                ieOptions.withEdgeExecutablePath(&quot;C:\\\\Program Files (x86)\\\\Microsoft\\\\Edge\\\\Application\\\\msedge.exe&quot;);\n                ieOptions.attachToEdgeChrome();\n                ieOptions.destructivelyEnsureCleanSession();\n                \n                System.setProperty(&quot;webdriver.ie.driver&quot;, projectLoc + &quot;\\\\src\\\\externaljars\\\\selenium\\\\edgedriver\\\\iedriverserver.exe&quot;);\n                \n                try {\n                    logMessage(MessType.INFO, &quot;About to create 'webdr'&quot;);\n                    webdr = new InternetExplorerDriver(ieOptions);\n                    \n                    logMessage(MessType.INFO, &quot;Sleeping for 10 seconds.&quot;);\n                    Thread.sleep(10000);\n                    logMessage(MessType.INFO, &quot;Done sleeping ...&quot;);\n                    \n                    webdr.manage().window().maximize();\n\n                    Thread.sleep(1000);     \n\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n                \n                break;\n            }\n\n</code></pre>\n<p>This works great when running the automated scripts locally, here is what it looks like:</p>\n<pre><code>TITLE Executing Method launchBrowser  Time: [1:38:34PM]\nINFO TEMP LOG MESSAGE : Data Source: DATABASE  Browser: EDGE_COMPATIBILITY URL: null\nINFO TEMP LOG MESSAGE :  Browser: EDGE_COMPATIBILITY\nINFO Running Edge under compatibility mode.\nINFO About to create 'webdr'\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nStarted InternetExplorerDriver server (32-bit)\n4.7.0.0\nListening on port 23537\nOnly local connections are allowed\nINFO Sleeping for 10 seconds.\nINFO Done sleeping ...\n</code></pre>\n<p>but when I try to run the same code from a Jenkins server, I get the following exception error:</p>\n<pre><code>14:02:26    [testng] TITLE Executing Method launchBrowser  Time: [4:2:26PM]\n14:02:26    [testng] INFO TEMP LOG MESSAGE : Data Source: DATABASE  Browser: EDGE_COMPATIBILITY URL: null\n14:02:26    [testng] INFO TEMP LOG MESSAGE :  Browser: EDGE_COMPATIBILITY\n14:02:26    [testng] INFO Running Edge under compatibility mode.\n14:02:26    [testng] INFO About to create 'webdr'\n14:02:27    [testng] Started InternetExplorerDriver server (32-bit)\n14:02:27    [testng] 4.7.0.0\n14:02:27    [testng] Listening on port xxxxxx\n14:02:27    [testng] Only local connections are allowed\n14:05:28    [testng] org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \n14:05:28    [testng] Host info: host: 'xxxxxxxxxx', ip: 'xx.xx.xx.xx'\n14:05:28    [testng] Build info: version: '4.6.0', revision: '79f1c02ae20'\n14:05:28    [testng] System info: os.name: 'Windows Server 2016', os.arch: 'amd64', os.version: '10.0', java.version: '11.0.11'\n14:05:28    [testng] Driver info: org.openqa.selenium.ie.InternetExplorerDriver\n14:05:28    [testng] Command: [null, newSession {capabilities=[Capabilities {browserName: internet explorer, se:ieOptions: {ie.edgepath: C:\\Program Files (x86)\\Micr..., ignoreProtectedModeSettings: true}}], desiredCapabilities=Capabilities {browserName: internet explorer, se:ieOptions: {ie.edgepath: C:\\Program Files (x86)\\Micr..., ignoreProtectedModeSettings: true}}}]\n14:05:28    [testng] Capabilities {}\n14:05:28    [testng]    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:559)\n\n</code></pre>\n<p>What is even more interesting is that if I log onto the Jenkins server to see what's going on, then I don't get the exception error.  It is as though attaching a screen output <em><strong>completes</strong></em> the instantiation process.</p>\n<p>Does anyone know whether this is a Jenkins limitation?  Or are there any other InternetOptions that I should be using.</p>\n"},{"tags":["java","io","zip"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1671099680,"post_id":74809821,"comment_id":132026708,"body_markdown":"Which version of Java are you using? https://github.com/openjdk/jdk/blob/master/src/jdk.zipfs/share/classes/jdk/nio/zipfs/ZipFileSystem.java#L1871 shows that the temp file should replace the original. That method should be called from `close()`: https://github.com/openjdk/jdk/blob/master/src/jdk.zipfs/share/classes/jdk/nio/zipfs/ZipFileSystem.java#L484. You&#39;re calling that (through try-with-resources), so the file replacement should occur.","body":"Which version of Java are you using? <a href=\"https://github.com/openjdk/jdk/blob/master/src/jdk.zipfs/share/classes/jdk/nio/zipfs/ZipFileSystem.java#L1871\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/master/src/jdk.zipfs/share/class&zwnj;&#8203;es/&hellip;</a> shows that the temp file should replace the original. That method should be called from <code>close()</code>: <a href=\"https://github.com/openjdk/jdk/blob/master/src/jdk.zipfs/share/classes/jdk/nio/zipfs/ZipFileSystem.java#L484\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/master/src/jdk.zipfs/share/class&zwnj;&#8203;es/&hellip;</a>. You&#39;re calling that (through try-with-resources), so the file replacement should occur."},{"owner":{"account_id":27260181,"reputation":15,"user_id":20783127,"display_name":"shrikant02"},"score":0,"creation_date":1671100104,"post_id":74809821,"comment_id":132026853,"body_markdown":"@RobSpoor    I am using Java 8. I don&#39;t understand &#39;method should be called from close()&#39;","body":"@RobSpoor    I am using Java 8. I don&#39;t understand &#39;method should be called from close()&#39;"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1671100655,"post_id":74809821,"comment_id":132027039,"body_markdown":"what I meant is that when you call `close()` (through the try-with-resources), the `sync()` call I linked to should be called automatically. That should take care of the file replacement. Can you perhaps try with Java 11 or Java 17?","body":"what I meant is that when you call <code>close()</code> (through the try-with-resources), the <code>sync()</code> call I linked to should be called automatically. That should take care of the file replacement. Can you perhaps try with Java 11 or Java 17?"},{"owner":{"account_id":27260181,"reputation":15,"user_id":20783127,"display_name":"shrikant02"},"score":0,"creation_date":1671101095,"post_id":74809821,"comment_id":132027179,"body_markdown":"@RobSpoor Actaully I am trying this in my work system, we don&#39;t have java 11 or java 17","body":"@RobSpoor Actaully I am trying this in my work system, we don&#39;t have java 11 or java 17"},{"owner":{"account_id":27260181,"reputation":15,"user_id":20783127,"display_name":"shrikant02"},"score":0,"creation_date":1671107780,"post_id":74809821,"comment_id":132029488,"body_markdown":"@RobSpoor I tried to open .tmp file in 7Zip I can see my temp file there with new changes, do you know why this is happening and how we can avoid and make changes in the existing file.","body":"@RobSpoor I tried to open .tmp file in 7Zip I can see my temp file there with new changes, do you know why this is happening and how we can avoid and make changes in the existing file."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1671112166,"post_id":74809821,"comment_id":132031204,"body_markdown":"I&#39;ve created a little test program to reproduce it. I actually could, by not closing the file. Can you use try-with-resources for `outputFile`? Even though you&#39;re closing the `CSVWriter`, the file itself appears to not be closed. Either the `CSVWriter` doesn&#39;t call `close()` of its underlying stream, or perhaps the code doesn&#39;t even get there. Is an exception printed?","body":"I&#39;ve created a little test program to reproduce it. I actually could, by not closing the file. Can you use try-with-resources for <code>outputFile</code>? Even though you&#39;re closing the <code>CSVWriter</code>, the file itself appears to not be closed. Either the <code>CSVWriter</code> doesn&#39;t call <code>close()</code> of its underlying stream, or perhaps the code doesn&#39;t even get there. Is an exception printed?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1671112541,"post_id":74809821,"comment_id":132031360,"body_markdown":"I also noticed you don&#39;t close the `CSVReader`. That didn&#39;t prevent my test program from adding the file though.","body":"I also noticed you don&#39;t close the <code>CSVReader</code>. That didn&#39;t prevent my test program from adding the file though."},{"owner":{"account_id":27260181,"reputation":15,"user_id":20783127,"display_name":"shrikant02"},"score":0,"creation_date":1671113398,"post_id":74809821,"comment_id":132031694,"body_markdown":"@RobSpoor I am not getting exception in the console, CSVWriter with try-with-resources is also not working.","body":"@RobSpoor I am not getting exception in the console, CSVWriter with try-with-resources is also not working."},{"owner":{"account_id":27260181,"reputation":15,"user_id":20783127,"display_name":"shrikant02"},"score":0,"creation_date":1671114798,"post_id":74809821,"comment_id":132032232,"body_markdown":"@RobSpoor I am getting FileSystemException, when I close the reader before writing the file , I added the log in the question!","body":"@RobSpoor I am getting FileSystemException, when I close the reader before writing the file , I added the log in the question!"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1671115054,"post_id":74809821,"comment_id":132032330,"body_markdown":"Are you doing other things with the ZIP file? Because somewhere there&#39;s still a file handle to it open. That could be from reading or writing it; Windows is always very picky about that.","body":"Are you doing other things with the ZIP file? Because somewhere there&#39;s still a file handle to it open. That could be from reading or writing it; Windows is always very picky about that."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1671115080,"post_id":74809821,"comment_id":132032339,"body_markdown":"Note that an external program like 7-zip can also be the reason the file is still open.","body":"Note that an external program like 7-zip can also be the reason the file is still open."},{"owner":{"account_id":27260181,"reputation":15,"user_id":20783127,"display_name":"shrikant02"},"score":0,"creation_date":1671115182,"post_id":74809821,"comment_id":132032383,"body_markdown":"@RobSpoor I am not doing anythin with the file.","body":"@RobSpoor I am not doing anythin with the file."}],"answers":[{"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1671115287,"post_id":74813245,"comment_id":132032433,"body_markdown":"Oh wow, I missed that. That&#39;s probably the file handle that&#39;s still open, that prevents the replacing of the file.","body":"Oh wow, I missed that. That&#39;s probably the file handle that&#39;s still open, that prevents the replacing of the file."}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671115378,"creation_date":1671115223,"answer_id":74813245,"question_id":74809821,"body_markdown":"You did not `zip.close()`. Better use the _try-with-resources_ syntax, which closes also when an exception is thrown or one returns inside the `{ }`. \r\n\r\n    try (ZipFile zip = new ZipFile(zipFile)) {\r\n        ...\r\n\r\n","title":"Write CSV file inside zip file using FileSystem","body":"<p>You did not <code>zip.close()</code>. Better use the <em>try-with-resources</em> syntax, which closes also when an exception is thrown or one returns inside the <code>{ }</code>.</p>\n<pre><code>try (ZipFile zip = new ZipFile(zipFile)) {\n    ...\n</code></pre>\n"}],"owner":{"account_id":27260181,"reputation":15,"user_id":20783127,"display_name":"shrikant02"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74813245,"answer_count":1,"score":0,"last_activity_date":1675099952,"creation_date":1671098713,"question_id":74809821,"body_markdown":"I want read the CSV files inside the zip file and edit the record based on some condition. I am using FileSystem class to create zip file system and then edit csv files. I used the below code read csv files\r\n\r\n\r\n```\r\npublic static List&lt;String&gt; getFileList() {\r\n\t\tList&lt;String&gt; fileList = new ArrayList&lt;&gt;();\r\n\t\tZipFile zip = null;\r\n\t\ttry {\r\n\t\t\tzip = new ZipFile(zipFile);\r\n\t\t\tEnumeration&lt;? extends ZipEntry&gt; entries = zip.entries();\r\n\t\t\twhile (entries.hasMoreElements()) {\r\n\t\t\t\tZipEntry entry = entries.nextElement();\r\n\t\t\t\tif (entry.getName().contains(&quot;**&quot;) &amp;&amp; !entry.getName().contains(&quot;***&quot;)) {\r\n\t\t\t\t\tfileList.add(entry.getName());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn fileList;\r\n\t}\r\n\r\n\tpublic static void modifyTextFileInZip() throws IOException {\r\n\t\tPath zipfilePath = Paths.get(zipFile);\r\n\r\n\t\ttry (FileSystem fs = FileSystems.newFileSystem(zipfilePath, null)) {\r\n\t\t\tfor (String file : getFileList()) {\r\n\t\t\t\tPath source = fs.getPath(file);\r\n\t\t\t\tString tempFileDest = source.getParent().toString() + &quot;/&quot; + &quot;temp_&quot; + source.getFileName();\r\n\t\t\t\ttempFileDest = tempFileDest.replace(&quot;.red&quot;, &quot;&quot;);\r\n\t\t\t\tPath temp = fs.getPath(tempFileDest);\r\n\t\t\t\teditFiles(source, temp);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void editFiles(Path source, Path dest) {\r\n\t\tCSVReader reader;\r\n\t\ttry {\r\n\t\t\treader = new CSVReader(new InputStreamReader(Files.newInputStream(source)));\r\n\t\t\tList&lt;String[]&gt; records = reader.readAll();\r\n\t\t\tIterator&lt;String[]&gt; iterator = records.iterator();\r\n\t\t\t\r\n\t        Optional&lt;String&gt; fileName =\r\n\t        Files.list(source.getParent())\r\n\t                .filter(file -&gt; file.getFileName().toString().endsWith(&quot;***&quot;) &amp;&amp;\r\n\t                        !file.getFileName().toString().endsWith(&quot;****&quot;))\r\n\t                .map(file -&gt; file.toString())\r\n\t                .findFirst();\r\n\t        //System.out.println(fileName);\r\n\t        \r\n\t\t\twhile (iterator.hasNext()) {\r\n\t\t\t\tString[] record = iterator.next();\r\n\t\t        String val = null;\r\n\t\t        if(&quot;****&quot;.equals(record[5])){\r\n\t\t\t        try {\r\n\t\t\t            val = fileName.orElseThrow(() -&gt; new RuntimeException(&quot;File Not found&quot;));\r\n\t\t\t            val = &quot;**&quot; + val;\r\n\t\t\t            //System.out.println(val);\r\n\t\t\t        } catch(Exception e){\r\n\t\t\t            System.out.println(&quot;File not Found&quot;);\r\n\t\t\t        }\r\n\t\t        \trecord[5] = val;\r\n\t\t        }\r\n\t\t        \r\n\t\t        for(String cell: record) {\r\n\t\t        \tSystem.out.print(cell);\r\n\t\t        }\r\n\t\t      \tSystem.out.println();\t       \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tFiles.createFile(dest);\r\n\t\t\tPrintWriter outputFile = new PrintWriter(Files.newOutputStream(dest));\r\n\t        CSVWriter writer = new CSVWriter(outputFile);\r\n\t\t\twriter.writeAll(records);\r\n\r\n\t\t\twriter.close();\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n```\r\n\r\n\r\nerro log =&gt; \r\n\r\n    java.nio.file.FileSystemException: C:\\zipfile\\P003.zip: The process cannot access the file because it is being used by another process.\r\n    \r\n    \tat sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:86)\r\n    \tat sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:97)\r\n    \tat sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:102)\r\n    \tat sun.nio.fs.WindowsFileSystemProvider.implDelete(WindowsFileSystemProvider.java:269)\r\n    \tat sun.nio.fs.AbstractFileSystemProvider.delete(AbstractFileSystemProvider.java:103)\r\n    \tat java.nio.file.Files.delete(Files.java:1126)\r\n    \tat com.sun.nio.zipfs.ZipFileSystem.sync(ZipFileSystem.java:1294)\r\n    \tat com.sun.nio.zipfs.ZipFileSystem.close(ZipFileSystem.java:277)\r\n    \tat com.shrikant.Main.Main2.modifyTextFileInZip(Main2.java:60)\r\n    \tat com.shrikant.EditCsvFilesApplication.main(EditCsvFilesApplication.java:21)\r\n\r\nI wans able to read the and edit the files using inputStream from Path object and then pass it to CSVReader object. But when I pass outputStream to CSVWriter and try to write data to temp file and can&#39;t see any changes inside zip file. And also I am getting a .tmp (zipfstmp3381860066025396844.tmp) file generated every I run my program.\r\n\r\nI followed this =&gt; https://stackoverflow.com/a/43836969/20783127   to write this program\r\n\r\nDon&#39;t know what&#39;s going wrong, I can anyone explain ?\r\n\r\n\r\nI am trying read and edit the csv files in zip file using FileSystem class in java, but its not working\r\n","title":"Write CSV file inside zip file using FileSystem","body":"<p>I want read the CSV files inside the zip file and edit the record based on some condition. I am using FileSystem class to create zip file system and then edit csv files. I used the below code read csv files</p>\n<pre><code>public static List&lt;String&gt; getFileList() {\n        List&lt;String&gt; fileList = new ArrayList&lt;&gt;();\n        ZipFile zip = null;\n        try {\n            zip = new ZipFile(zipFile);\n            Enumeration&lt;? extends ZipEntry&gt; entries = zip.entries();\n            while (entries.hasMoreElements()) {\n                ZipEntry entry = entries.nextElement();\n                if (entry.getName().contains(&quot;**&quot;) &amp;&amp; !entry.getName().contains(&quot;***&quot;)) {\n                    fileList.add(entry.getName());\n                }\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return fileList;\n    }\n\n    public static void modifyTextFileInZip() throws IOException {\n        Path zipfilePath = Paths.get(zipFile);\n\n        try (FileSystem fs = FileSystems.newFileSystem(zipfilePath, null)) {\n            for (String file : getFileList()) {\n                Path source = fs.getPath(file);\n                String tempFileDest = source.getParent().toString() + &quot;/&quot; + &quot;temp_&quot; + source.getFileName();\n                tempFileDest = tempFileDest.replace(&quot;.red&quot;, &quot;&quot;);\n                Path temp = fs.getPath(tempFileDest);\n                editFiles(source, temp);\n            }\n        }\n    }\n\n    public static void editFiles(Path source, Path dest) {\n        CSVReader reader;\n        try {\n            reader = new CSVReader(new InputStreamReader(Files.newInputStream(source)));\n            List&lt;String[]&gt; records = reader.readAll();\n            Iterator&lt;String[]&gt; iterator = records.iterator();\n            \n            Optional&lt;String&gt; fileName =\n            Files.list(source.getParent())\n                    .filter(file -&gt; file.getFileName().toString().endsWith(&quot;***&quot;) &amp;&amp;\n                            !file.getFileName().toString().endsWith(&quot;****&quot;))\n                    .map(file -&gt; file.toString())\n                    .findFirst();\n            //System.out.println(fileName);\n            \n            while (iterator.hasNext()) {\n                String[] record = iterator.next();\n                String val = null;\n                if(&quot;****&quot;.equals(record[5])){\n                    try {\n                        val = fileName.orElseThrow(() -&gt; new RuntimeException(&quot;File Not found&quot;));\n                        val = &quot;**&quot; + val;\n                        //System.out.println(val);\n                    } catch(Exception e){\n                        System.out.println(&quot;File not Found&quot;);\n                    }\n                    record[5] = val;\n                }\n                \n                for(String cell: record) {\n                    System.out.print(cell);\n                }\n                System.out.println();          \n            }\n            \n            Files.createFile(dest);\n            PrintWriter outputFile = new PrintWriter(Files.newOutputStream(dest));\n            CSVWriter writer = new CSVWriter(outputFile);\n            writer.writeAll(records);\n\n            writer.close();\n            \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>erro log =&gt;</p>\n<pre><code>java.nio.file.FileSystemException: C:\\zipfile\\P003.zip: The process cannot access the file because it is being used by another process.\n\n    at sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:86)\n    at sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:97)\n    at sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:102)\n    at sun.nio.fs.WindowsFileSystemProvider.implDelete(WindowsFileSystemProvider.java:269)\n    at sun.nio.fs.AbstractFileSystemProvider.delete(AbstractFileSystemProvider.java:103)\n    at java.nio.file.Files.delete(Files.java:1126)\n    at com.sun.nio.zipfs.ZipFileSystem.sync(ZipFileSystem.java:1294)\n    at com.sun.nio.zipfs.ZipFileSystem.close(ZipFileSystem.java:277)\n    at com.shrikant.Main.Main2.modifyTextFileInZip(Main2.java:60)\n    at com.shrikant.EditCsvFilesApplication.main(EditCsvFilesApplication.java:21)\n</code></pre>\n<p>I wans able to read the and edit the files using inputStream from Path object and then pass it to CSVReader object. But when I pass outputStream to CSVWriter and try to write data to temp file and can't see any changes inside zip file. And also I am getting a .tmp (zipfstmp3381860066025396844.tmp) file generated every I run my program.</p>\n<p>I followed this =&gt; <a href=\"https://stackoverflow.com/a/43836969/20783127\">https://stackoverflow.com/a/43836969/20783127</a>   to write this program</p>\n<p>Don't know what's going wrong, I can anyone explain ?</p>\n<p>I am trying read and edit the csv files in zip file using FileSystem class in java, but its not working</p>\n"},{"tags":["java","eclipse","refactoring","rename"],"comments":[{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":1,"creation_date":1341708807,"post_id":11379808,"comment_id":14997517,"body_markdown":"What view are you in?  What are you renaming, and to what?  You only have to give more information if you actually expect some help...","body":"What view are you in?  What are you renaming, and to what?  You only have to give more information if you actually expect some help..."},{"owner":{"account_id":151360,"reputation":1533,"user_id":365172,"accept_rate":62,"display_name":"vikas"},"score":1,"creation_date":1341750005,"post_id":11379808,"comment_id":15002709,"body_markdown":"Also verify if the project has any compile error. Sometime with compile errors it does not let you refactor things.","body":"Also verify if the project has any compile error. Sometime with compile errors it does not let you refactor things."},{"owner":{"account_id":238444,"reputation":18241,"user_id":507339,"accept_rate":78,"display_name":"Nilzor"},"score":1,"creation_date":1386882576,"post_id":11379808,"comment_id":30738960,"body_markdown":"This happened to me when attempting rename on a Javascript method. JSDT is installed. Removing and adding project did not help.","body":"This happened to me when attempting rename on a Javascript method. JSDT is installed. Removing and adding project did not help."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1637577815,"post_id":11379808,"comment_id":123854743,"body_markdown":"Update: beware that there is a bug triggering this for newer versions of Eclipse up to 2020-09, please update your Eclipse and see [this Q/A](https://stackoverflow.com/q/63534117/589259) for details. And don&#39;t forget to vote those up. Of course, regardless of the crash, it should not open &quot;Run...&quot;.","body":"Update: beware that there is a bug triggering this for newer versions of Eclipse up to 2020-09, please update your Eclipse and see <a href=\"https://stackoverflow.com/q/63534117/589259\">this Q/A</a> for details. And don&#39;t forget to vote those up. Of course, regardless of the crash, it should not open &quot;Run...&quot;."}],"answers":[{"comments":[{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":3,"creation_date":1603369027,"post_id":12867927,"comment_id":114019010,"body_markdown":"8 years later, still the same nonsense.","body":"8 years later, still the same nonsense."}],"tags":[],"owner":{"account_id":1933624,"reputation":164,"user_id":1742486,"display_name":"Kevin"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1350080652,"creation_date":1350080652,"answer_id":12867927,"question_id":11379808,"body_markdown":"Try to delete the project from Eclipse (don&#39;t delete project contents on disk) and then reload it.\r\n","title":"Can&#39;t refactor rename in Eclipse","body":"<p>Try to delete the project from Eclipse (don't delete project contents on disk) and then reload it.</p>\n"},{"tags":[],"owner":{"account_id":2382985,"reputation":1,"user_id":2084606,"display_name":"jakethasnake919"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361221950,"creation_date":1361221950,"answer_id":14945377,"question_id":11379808,"body_markdown":"I was seeing the exact same issue as the OP when I was trying to rename both variables, and method names. After I restarted Eclipse, the Refactor-&gt;Rename functionality worked correctly.","title":"Can&#39;t refactor rename in Eclipse","body":"<p>I was seeing the exact same issue as the OP when I was trying to rename both variables, and method names. After I restarted Eclipse, the Refactor->Rename functionality worked correctly.</p>\n"},{"comments":[{"owner":{"account_id":103559,"reputation":73828,"user_id":277304,"accept_rate":66,"display_name":"leonbloy"},"score":0,"creation_date":1379966964,"post_id":16874437,"comment_id":28015553,"body_markdown":"Same here with Kepler","body":"Same here with Kepler"}],"tags":[],"owner":{"display_name":"user656698"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1370101546,"creation_date":1370101546,"answer_id":16874437,"question_id":11379808,"body_markdown":"I had this problem with Eclipse Helios.  I looked in the .metadata directory of the workspace and opened the .log file.  It had a pretty long chain of references relating to the error, but the pertinent parts of that were:\r\n\r\n&gt; java.lang.NoClassDefFoundError: org/eclipse/jdt/core/IMethod\r\n\r\nand\r\n\r\n&gt; java.lang.reflect.InvocationTargetException \tat\r\n&gt; org.eclipse.jface.operation.ModalContext.run(ModalContext.java:421)\r\n&gt; \tat\r\n&gt; org.eclipse.jface.window.ApplicationWindow$1.run(ApplicationWindow.java:759)\r\n&gt; \tat\r\n&gt; org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70)\r\n&gt; \tat\r\n&gt; org.eclipse.jface.window.ApplicationWindow.run(ApplicationWindow.java:756)\r\n&gt; \tat\r\n&gt; org.eclipse.ui.internal.WorkbenchWindow.run(WorkbenchWindow.java:2606)\r\n&gt; \tat\r\n&gt; org.eclipse.jdt.internal.ui.refactoring.RefactoringExecutionHelper.perform(RefactoringExecutionHelper.java:191)\r\n&gt; \tat\r\n&gt; org.eclipse.jdt.internal.ui.refactoring.RefactoringExecutionHelper.perform(RefactoringExecutionHelper.java:151)\r\n&gt; \tat\r\n&gt; org.eclipse.jdt.ui.refactoring.RenameSupport.perform(RenameSupport.java:197)\r\n&gt; \tat\r\n&gt; org.eclipse.jdt.internal.ui.refactoring.reorg.RenameLinkedMode.doRename(RenameLinkedMode.java:361)\r\n&gt; \tat\r\n&gt; org.eclipse.jdt.internal.ui.refactoring.reorg.RenameLinkedMode$EditorSynchronizer.left(RenameLinkedMode.java:119)\r\n&gt; \tat\r\n&gt; org.eclipse.jface.text.link.LinkedModeModel.exit(LinkedModeModel.java:341)\r\n&gt; \tat\r\n&gt; org.eclipse.jface.text.link.LinkedModeUI$4.run(LinkedModeUI.java:1194)\r\n&gt; \tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) \tat\r\n&gt; org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:134)\r\n&gt; \tat\r\n&gt; org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4041)\r\n&gt; \tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3660)\r\n\r\nI went to **Help** &gt; **Install New Software** &gt; **What is already installed**, and then selected everything relating to org.eclipse.swt and clicked on **Uninstall**.  After restarting Eclipse, the problem went away and I was able to refactor / rename normally again.\r\n","title":"Can&#39;t refactor rename in Eclipse","body":"<p>I had this problem with Eclipse Helios.  I looked in the .metadata directory of the workspace and opened the .log file.  It had a pretty long chain of references relating to the error, but the pertinent parts of that were:</p>\n\n<blockquote>\n  <p>java.lang.NoClassDefFoundError: org/eclipse/jdt/core/IMethod</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>java.lang.reflect.InvocationTargetException   at\n  org.eclipse.jface.operation.ModalContext.run(ModalContext.java:421)\n    at\n  org.eclipse.jface.window.ApplicationWindow$1.run(ApplicationWindow.java:759)\n    at\n  org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70)\n    at\n  org.eclipse.jface.window.ApplicationWindow.run(ApplicationWindow.java:756)\n    at\n  org.eclipse.ui.internal.WorkbenchWindow.run(WorkbenchWindow.java:2606)\n    at\n  org.eclipse.jdt.internal.ui.refactoring.RefactoringExecutionHelper.perform(RefactoringExecutionHelper.java:191)\n    at\n  org.eclipse.jdt.internal.ui.refactoring.RefactoringExecutionHelper.perform(RefactoringExecutionHelper.java:151)\n    at\n  org.eclipse.jdt.ui.refactoring.RenameSupport.perform(RenameSupport.java:197)\n    at\n  org.eclipse.jdt.internal.ui.refactoring.reorg.RenameLinkedMode.doRename(RenameLinkedMode.java:361)\n    at\n  org.eclipse.jdt.internal.ui.refactoring.reorg.RenameLinkedMode$EditorSynchronizer.left(RenameLinkedMode.java:119)\n    at\n  org.eclipse.jface.text.link.LinkedModeModel.exit(LinkedModeModel.java:341)\n    at\n  org.eclipse.jface.text.link.LinkedModeUI$4.run(LinkedModeUI.java:1194)\n    at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)   at\n  org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:134)\n    at\n  org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4041)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3660)</p>\n</blockquote>\n\n<p>I went to <strong>Help</strong> > <strong>Install New Software</strong> > <strong>What is already installed</strong>, and then selected everything relating to org.eclipse.swt and clicked on <strong>Uninstall</strong>.  After restarting Eclipse, the problem went away and I was able to refactor / rename normally again.</p>\n"},{"tags":[],"owner":{"account_id":2611807,"reputation":976,"user_id":2261788,"accept_rate":80,"display_name":"Dicky Moore"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1381785762,"creation_date":1381785762,"answer_id":19369536,"question_id":11379808,"body_markdown":"The refactor will not work if there are any errors in your project. \r\n\r\nFix the errors, or just comment out the section being detected as an error in order to run the refactor. \r\n\r\nThis worked for me.","title":"Can&#39;t refactor rename in Eclipse","body":"<p>The refactor will not work if there are any errors in your project. </p>\n\n<p>Fix the errors, or just comment out the section being detected as an error in order to run the refactor. </p>\n\n<p>This worked for me.</p>\n"},{"tags":[],"owner":{"account_id":1707616,"reputation":354,"user_id":1566371,"display_name":"Archenoth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417020385,"creation_date":1402943070,"answer_id":24249846,"question_id":11379808,"body_markdown":"If something not overly obvious makes a refactor fail, you can look for problems by attempting to preview the refactor rather than trying to execute it.\r\n\r\nAs Dicky Moore mentioned, you cannot refactor with errors in your project... But these aren&#39;t always code errors or build path issues that Eclipse marks. So sometimes it doesn&#39;t appear as though you have any errors and it will still fail. &quot;Preview&quot;, as mentioned above will show these problems in an error dialog, even if they never show up elsewhere.\r\n\r\nFrom there, you can configure your project to fix the errors (A common one is that the refactor tries to account for an output folder that it shouldn&#39;t, which can be fixed by excluding the folder in your `Build Path &gt; Source` settings.) or uninstall problematic plugins.","title":"Can&#39;t refactor rename in Eclipse","body":"<p>If something not overly obvious makes a refactor fail, you can look for problems by attempting to preview the refactor rather than trying to execute it.</p>\n\n<p>As Dicky Moore mentioned, you cannot refactor with errors in your project... But these aren't always code errors or build path issues that Eclipse marks. So sometimes it doesn't appear as though you have any errors and it will still fail. \"Preview\", as mentioned above will show these problems in an error dialog, even if they never show up elsewhere.</p>\n\n<p>From there, you can configure your project to fix the errors (A common one is that the refactor tries to account for an output folder that it shouldn't, which can be fixed by excluding the folder in your <code>Build Path &gt; Source</code> settings.) or uninstall problematic plugins.</p>\n"},{"tags":[],"owner":{"account_id":5125271,"reputation":71,"user_id":4107564,"display_name":"nickle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412892013,"creation_date":1412384866,"answer_id":26188649,"question_id":11379808,"body_markdown":"With 4.4 (Luna), I had cross-project refactoring problems after large refactorings - deleting the &lt;workspace&gt;/.metadata/.plugins/org.eclipse.jdt.core \r\nfolder  fixed that for me","title":"Can&#39;t refactor rename in Eclipse","body":"<p>With 4.4 (Luna), I had cross-project refactoring problems after large refactorings - deleting the /.metadata/.plugins/org.eclipse.jdt.core \nfolder  fixed that for me</p>\n"},{"tags":[],"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1418848189,"creation_date":1418835800,"answer_id":27530885,"question_id":11379808,"body_markdown":"I wanted to add some information to some other answers here.\r\n\r\n[Archenoth&#39;s answer][1] points out you can get more information from running Preview on the rename operation.  It took me a while to figure out how to get to preview: type the rename keystroke a second time to get the dialog.  Sometimes Preview didn&#39;t give the error information (and neither did the quick rename without the ppoup) but clicking OK in the dialog did say more.\r\n\r\n[MutantXenu][2] found information in the logs by going into files in the workspace, but you can also get to these within Eclipse by going to the Error Log view (from Cmd-3)\r\n\r\nWhen I had this problem, the error log pointed me to this failed assertion: &quot;Search for method declaration did not find original element&quot; which led to some unresolved bugs.  (I&#39;m running Kepler, but the problem is apparently hard to replicate and I don&#39;t see evidence it&#39;s resolved. See [here][3] and [here][4].)\r\n\r\nYou can see if you&#39;re experiencing this specific bug by selecting the method and using Cmd-G (or Ctrl-G: Search &gt; Declarations &gt; Workspace).  Eclipse is unable to find the method you&#39;re trying to rename and the search comes up empty.\r\n\r\nMy case suggests it&#39;s possible the error might have to do with identically-named methods in different classes.  When the problem is occuring with one method, it doesn&#39;t affect most others.\r\n\r\nRefresh, Project-&gt;Clean, and restarting Eclipse were not helpful to me.\r\n[Kevin&#39;s answer][5] worked for me: &quot;Try to delete the project from Eclipse (don&#39;t delete project contents on disk) and then reload it.&quot;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/24249846/411282\r\n  [2]: https://stackoverflow.com/a/16874437/411282\r\n  [3]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=338871\r\n  [4]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=148014\r\n  [5]: https://stackoverflow.com/a/12867927/411282","title":"Can&#39;t refactor rename in Eclipse","body":"<p>I wanted to add some information to some other answers here.</p>\n\n<p><a href=\"https://stackoverflow.com/a/24249846/411282\">Archenoth's answer</a> points out you can get more information from running Preview on the rename operation.  It took me a while to figure out how to get to preview: type the rename keystroke a second time to get the dialog.  Sometimes Preview didn't give the error information (and neither did the quick rename without the ppoup) but clicking OK in the dialog did say more.</p>\n\n<p><a href=\"https://stackoverflow.com/a/16874437/411282\">MutantXenu</a> found information in the logs by going into files in the workspace, but you can also get to these within Eclipse by going to the Error Log view (from Cmd-3)</p>\n\n<p>When I had this problem, the error log pointed me to this failed assertion: \"Search for method declaration did not find original element\" which led to some unresolved bugs.  (I'm running Kepler, but the problem is apparently hard to replicate and I don't see evidence it's resolved. See <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=338871\" rel=\"noreferrer\">here</a> and <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=148014\" rel=\"noreferrer\">here</a>.)</p>\n\n<p>You can see if you're experiencing this specific bug by selecting the method and using Cmd-G (or Ctrl-G: Search > Declarations > Workspace).  Eclipse is unable to find the method you're trying to rename and the search comes up empty.</p>\n\n<p>My case suggests it's possible the error might have to do with identically-named methods in different classes.  When the problem is occuring with one method, it doesn't affect most others.</p>\n\n<p>Refresh, Project->Clean, and restarting Eclipse were not helpful to me.\n<a href=\"https://stackoverflow.com/a/12867927/411282\">Kevin's answer</a> worked for me: \"Try to delete the project from Eclipse (don't delete project contents on disk) and then reload it.\"</p>\n"},{"tags":[],"owner":{"account_id":75221,"reputation":5709,"user_id":215838,"accept_rate":67,"display_name":"Hartmut Pfarr"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1425310873,"creation_date":1425298215,"answer_id":28809469,"question_id":11379808,"body_markdown":"While renaming methods directly in the editor does not work in very rare cases and then the IDE restores the orignal method name after pressing return key - kind of &quot;agnostic mode&quot; :-), when I do the same via Refactoring -&gt; **Change Methode Signature**, in the upper right corner I change the method name, then I receive a fully detailed error message: &quot;An unexpected exception occured while performing the refactoring... Reason: anonymous #1 in .... in lambda #1 ... in ... Working Copy ... does not exist.&quot;\r\n\r\nThis indicates, that renaming methods triggers this failure, **when the method to be renamed is used in the context of an lambda or anonymous class**. \r\n\r\nTo check, comment out the occurence in the lambda or anonymous class, the refactoring/renaming could then work as expected as it did in my case.","title":"Can&#39;t refactor rename in Eclipse","body":"<p>While renaming methods directly in the editor does not work in very rare cases and then the IDE restores the orignal method name after pressing return key - kind of \"agnostic mode\" :-), when I do the same via Refactoring -> <strong>Change Methode Signature</strong>, in the upper right corner I change the method name, then I receive a fully detailed error message: \"An unexpected exception occured while performing the refactoring... Reason: anonymous #1 in .... in lambda #1 ... in ... Working Copy ... does not exist.\"</p>\n\n<p>This indicates, that renaming methods triggers this failure, <strong>when the method to be renamed is used in the context of an lambda or anonymous class</strong>. </p>\n\n<p>To check, comment out the occurence in the lambda or anonymous class, the refactoring/renaming could then work as expected as it did in my case.</p>\n"},{"tags":[],"owner":{"account_id":875266,"reputation":697,"user_id":925035,"display_name":"Moika Turns"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495800307,"creation_date":1495800307,"answer_id":44201176,"question_id":11379808,"body_markdown":"Had same issue:\r\n\r\n- left click on property name in java class\r\n- right click\r\n- refactor\r\n- rename\r\n- do the rename\r\n- press enter\r\n- green progress bar appears on footer menu but never finishes\r\n- to recover i have to kill eclipse (you can try exiting but it will hang when saving workbench state)\r\n\r\nI&#39;m running this on windows: \r\n\r\n- Version: Kepler Service Release 2\r\n- Build id: 20140224-0627\r\n\r\nI &#39;fixed&#39; the behaviour by:\r\n\r\n - making a small change to the file\r\n - saving the file\r\n - retried the refactor and it worked fine (although there is an uncomfortable delay waiting for the refactor to complete circa five seconds)\r\n\r\nThere were no errors in the project, nothing obvious in the logs when it hangs and deleting/reimporting the project from the workspace did not work either (and deleting .classpath .project and .settings before re-importing).","title":"Can&#39;t refactor rename in Eclipse","body":"<p>Had same issue:</p>\n\n<ul>\n<li>left click on property name in java class</li>\n<li>right click</li>\n<li>refactor</li>\n<li>rename</li>\n<li>do the rename</li>\n<li>press enter</li>\n<li>green progress bar appears on footer menu but never finishes</li>\n<li>to recover i have to kill eclipse (you can try exiting but it will hang when saving workbench state)</li>\n</ul>\n\n<p>I'm running this on windows: </p>\n\n<ul>\n<li>Version: Kepler Service Release 2</li>\n<li>Build id: 20140224-0627</li>\n</ul>\n\n<p>I 'fixed' the behaviour by:</p>\n\n<ul>\n<li>making a small change to the file</li>\n<li>saving the file</li>\n<li>retried the refactor and it worked fine (although there is an uncomfortable delay waiting for the refactor to complete circa five seconds)</li>\n</ul>\n\n<p>There were no errors in the project, nothing obvious in the logs when it hangs and deleting/reimporting the project from the workspace did not work either (and deleting .classpath .project and .settings before re-importing).</p>\n"},{"tags":[],"owner":{"account_id":12946539,"reputation":11,"user_id":9360737,"display_name":"Yoav Schneider"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518621296,"creation_date":1518621296,"answer_id":48790456,"question_id":11379808,"body_markdown":"Try the following (just worked for me):\r\n\r\n1. Delete the project\r\n2. Create a new java project with the same name","title":"Can&#39;t refactor rename in Eclipse","body":"<p>Try the following (just worked for me):</p>\n\n<ol>\n<li>Delete the project</li>\n<li>Create a new java project with the same name</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"score":0,"creation_date":1522615479,"post_id":49602027,"comment_id":86212071,"body_markdown":"Welcome to StackOverflow! It&#39;s not clear to me that your answer matches the question that was asked. If it does, could you please make the connection more explicit? Thank you.","body":"Welcome to StackOverflow! It&#39;s not clear to me that your answer matches the question that was asked. If it does, could you please make the connection more explicit? Thank you."},{"owner":{"account_id":455892,"reputation":6866,"user_id":854342,"accept_rate":17,"display_name":"Curtis Yallop"},"score":0,"creation_date":1551466471,"post_id":49602027,"comment_id":96664114,"body_markdown":"You can get the site-url to use in Help &gt; Install_New_Software from here: https://www.eclipse.org/swt/updatesite.php - I used the milestone-update-site: http://download.eclipse.org/eclipse/updates/milestones","body":"You can get the site-url to use in Help &gt; Install_New_Software from here: <a href=\"https://www.eclipse.org/swt/updatesite.php\" rel=\"nofollow noreferrer\">eclipse.org/swt/updatesite.php</a> - I used the milestone-update-site: <a href=\"http://download.eclipse.org/eclipse/updates/milestones\" rel=\"nofollow noreferrer\">download.eclipse.org/eclipse/updates/milestones</a>"},{"owner":{"account_id":455892,"reputation":6866,"user_id":854342,"accept_rate":17,"display_name":"Curtis Yallop"},"score":0,"creation_date":1551466938,"post_id":49602027,"comment_id":96664300,"body_markdown":"@EllenSpertus It does match the question and solved the problem for me. This stack trace comes from the error-log window in eclipse. When using change-signature or the Refactor&gt;Rename,click-Options, it reports the error and tells you to look at the Error-Log (plain rename without a dialog just executes for a bit then reverts my change and reports nothing). This stack trace shows a particular rename-operation exception. You can tell the stack trace matches because it has RefactoringExecutionHelper and RenameLinkedMode.doRename in it.","body":"@EllenSpertus It does match the question and solved the problem for me. This stack trace comes from the error-log window in eclipse. When using change-signature or the Refactor&gt;Rename,click-Options, it reports the error and tells you to look at the Error-Log (plain rename without a dialog just executes for a bit then reverts my change and reports nothing). This stack trace shows a particular rename-operation exception. You can tell the stack trace matches because it has RefactoringExecutionHelper and RenameLinkedMode.doRename in it."},{"owner":{"account_id":455892,"reputation":6866,"user_id":854342,"accept_rate":17,"display_name":"Curtis Yallop"},"score":0,"creation_date":1551467243,"post_id":49602027,"comment_id":96664399,"body_markdown":"Ok, after this fixed my problem, I renamed a couple more methods and got the same error again. Restarting Eclipse fixed it. Note that I also had to restart Eclipse the first time after installing SWT.","body":"Ok, after this fixed my problem, I renamed a couple more methods and got the same error again. Restarting Eclipse fixed it. Note that I also had to restart Eclipse the first time after installing SWT."}],"tags":[],"owner":{"account_id":9260911,"reputation":21,"user_id":6878032,"display_name":"Piotr awniczak"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522840921,"creation_date":1522612135,"answer_id":49602027,"question_id":11379808,"body_markdown":"I&#39;ve been struggling this issue too. When I looked on Error Log View of Eclipse, I noticed that each time I tried to rename a variable or method, I was getting this kind of exception:\r\n\r\n\r\n    java.lang.reflect.InvocationTargetException at \r\n    org.eclipse.jface.operation.ModalContext.run(ModalContext.java:421) at \r\n    org.eclipse.jface.window.ApplicationWindow$1.run(ApplicationWindow.java:759) at\r\n    org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at \r\n    org.eclipse.jface.window.ApplicationWindow.run(ApplicationWindow.java:756) at\r\n    org.eclipse.ui.internal.WorkbenchWindow.run(WorkbenchWindow.java:2606) at \r\n    org.eclipse.jdt.internal.ui.refactoring.RefactoringExecutionHelper.perform(RefactoringExecutionHelper.java:191) at\r\n    org.eclipse.jdt.internal.ui.refactoring.RefactoringExecutionHelper.perform(RefactoringExecutionHelper.java:151) at\r\n    org.eclipse.jdt.ui.refactoring.RenameSupport.perform(RenameSupport.java:197) at\r\n    org.eclipse.jdt.internal.ui.refactoring.reorg.RenameLinkedMode.doRename(RenameLinkedMode.java:361) at\r\n    org.eclipse.jdt.internal.ui.refactoring.reorg.RenameLinkedMode$EditorSynchronizer.left(RenameLinkedMode.java:119) at \r\n    org.eclipse.jface.text.link.LinkedModeModel.exit(LinkedModeModel.java:341) at \r\n    org.eclipse.jface.text.link.LinkedModeUI$4.run(LinkedModeUI.java:1194) at\r\n    org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at\r\n    org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:134) at \r\n    org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4041) at \r\n    org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3660)\r\n\r\nI noticed it all starts from SWT libraries. Tried to update SWT, but for some reasons I wasn&#39;t able even to find SWT installed.\r\nSo I simply installed **SWT Tools**\t3.106.0.v20170503-0851 via Help -&gt; Install new Software, what happily solved the issue.","title":"Can&#39;t refactor rename in Eclipse","body":"<p>I've been struggling this issue too. When I looked on Error Log View of Eclipse, I noticed that each time I tried to rename a variable or method, I was getting this kind of exception:</p>\n\n<pre><code>java.lang.reflect.InvocationTargetException at \norg.eclipse.jface.operation.ModalContext.run(ModalContext.java:421) at \norg.eclipse.jface.window.ApplicationWindow$1.run(ApplicationWindow.java:759) at\norg.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at \norg.eclipse.jface.window.ApplicationWindow.run(ApplicationWindow.java:756) at\norg.eclipse.ui.internal.WorkbenchWindow.run(WorkbenchWindow.java:2606) at \norg.eclipse.jdt.internal.ui.refactoring.RefactoringExecutionHelper.perform(RefactoringExecutionHelper.java:191) at\norg.eclipse.jdt.internal.ui.refactoring.RefactoringExecutionHelper.perform(RefactoringExecutionHelper.java:151) at\norg.eclipse.jdt.ui.refactoring.RenameSupport.perform(RenameSupport.java:197) at\norg.eclipse.jdt.internal.ui.refactoring.reorg.RenameLinkedMode.doRename(RenameLinkedMode.java:361) at\norg.eclipse.jdt.internal.ui.refactoring.reorg.RenameLinkedMode$EditorSynchronizer.left(RenameLinkedMode.java:119) at \norg.eclipse.jface.text.link.LinkedModeModel.exit(LinkedModeModel.java:341) at \norg.eclipse.jface.text.link.LinkedModeUI$4.run(LinkedModeUI.java:1194) at\norg.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at\norg.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:134) at \norg.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4041) at \norg.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3660)\n</code></pre>\n\n<p>I noticed it all starts from SWT libraries. Tried to update SWT, but for some reasons I wasn't able even to find SWT installed.\nSo I simply installed <strong>SWT Tools</strong> 3.106.0.v20170503-0851 via Help -> Install new Software, what happily solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":13482013,"reputation":1,"user_id":9727012,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542261613,"creation_date":1542261613,"answer_id":53313311,"question_id":11379808,"body_markdown":"A quick workaround which worked for me:\r\n\r\n - Add the static modifier to your method signature (&quot;forces&quot; compilation error through just in time compilation on all references)\r\n - Refactor the method name (the errors remain)\r\n - Remove the static modifier (recompiles with changed method signature, errors gone...)\r\n","title":"Can&#39;t refactor rename in Eclipse","body":"<p>A quick workaround which worked for me:</p>\n\n<ul>\n<li>Add the static modifier to your method signature (\"forces\" compilation error through just in time compilation on all references)</li>\n<li>Refactor the method name (the errors remain)</li>\n<li>Remove the static modifier (recompiles with changed method signature, errors gone...)</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":11885668,"reputation":729,"user_id":8698137,"display_name":"Shadyar"},"score":2,"creation_date":1650361449,"post_id":71558901,"comment_id":127090996,"body_markdown":"I had the same problem with later version of Lombok. I updated it to v1.18.24. I suggest this post is revised to update the mentioned version of Lombok.","body":"I had the same problem with later version of Lombok. I updated it to v1.18.24. I suggest this post is revised to update the mentioned version of Lombok."},{"owner":{"account_id":299846,"reputation":6993,"user_id":606662,"accept_rate":72,"display_name":"Markus Pscheidt"},"score":2,"creation_date":1650379852,"post_id":71558901,"comment_id":127098225,"body_markdown":"@Shadyar At the time of posting the answer v1.18.22 was the latest. Only a snapshot build with the bug fix was available. I&#39;ve edited the answer and specified the update version","body":"@Shadyar At the time of posting the answer v1.18.22 was the latest. Only a snapshot build with the bug fix was available. I&#39;ve edited the answer and specified the update version"},{"owner":{"account_id":12026001,"reputation":487,"user_id":8797928,"display_name":"Gmugra"},"score":3,"creation_date":1651650057,"post_id":71558901,"comment_id":127410779,"body_markdown":"I also had same probem was with Lombok 1.18.6 &amp; Eclipse 2022-03. Update Lombok to the latest version helps.","body":"I also had same probem was with Lombok 1.18.6 &amp; Eclipse 2022-03. Update Lombok to the latest version helps."},{"owner":{"account_id":13977421,"reputation":89,"user_id":10094486,"display_name":"Renan Ribeiro"},"score":2,"creation_date":1653410550,"post_id":71558901,"comment_id":127844098,"body_markdown":"Same thing here, Lombok was 1.18.14 after update to 1.18.24 solved, thanks!","body":"Same thing here, Lombok was 1.18.14 after update to 1.18.24 solved, thanks!"},{"owner":{"account_id":12006643,"reputation":562,"user_id":8784793,"display_name":"Balint G."},"score":1,"creation_date":1684933315,"post_id":71558901,"comment_id":134589741,"body_markdown":"Same error with Lombok `1.18.20`. Resolved by updating to `1.18.26`.","body":"Same error with Lombok <code>1.18.20</code>. Resolved by updating to <code>1.18.26</code>."}],"tags":[],"owner":{"account_id":299846,"reputation":6993,"user_id":606662,"accept_rate":72,"display_name":"Markus Pscheidt"},"comment_count":5,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1650379798,"creation_date":1647871280,"answer_id":71558901,"question_id":11379808,"body_markdown":"If you use Lombok (`1.18.22` in my case) and the error message in Eclipse Error Logs says `Unhandled event loop exception`, then it might be a [Lombok issue][1] - which in the mean time has been resolved. Upgrade Lombok to `1.18.24` or above.\r\n\r\n\r\n  [1]: https://github.com/projectlombok/lombok/issues/3134","title":"Can&#39;t refactor rename in Eclipse","body":"<p>If you use Lombok (<code>1.18.22</code> in my case) and the error message in Eclipse Error Logs says <code>Unhandled event loop exception</code>, then it might be a <a href=\"https://github.com/projectlombok/lombok/issues/3134\" rel=\"noreferrer\">Lombok issue</a> - which in the mean time has been resolved. Upgrade Lombok to <code>1.18.24</code> or above.</p>\n"},{"tags":[],"owner":{"account_id":27519607,"reputation":1,"user_id":21000009,"display_name":"duag"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673612424,"creation_date":1673612424,"answer_id":75109136,"question_id":11379808,"body_markdown":"I solved by doing below steps\r\nWindow --&gt; preferences --&gt; java --&gt; uncheck &quot;rename in editor without dialog&quot;\r\n","title":"Can&#39;t refactor rename in Eclipse","body":"<p>I solved by doing below steps\nWindow --&gt; preferences --&gt; java --&gt; uncheck &quot;rename in editor without dialog&quot;</p>\n"},{"tags":[],"owner":{"account_id":24762965,"reputation":21,"user_id":18737647,"display_name":"RustinH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675099810,"creation_date":1675099810,"answer_id":75288040,"question_id":11379808,"body_markdown":"I experienced this same issue when trying to refactor a function name, the following steps worked for me but I cannot verify the cause is the same as the original question.\r\n\r\n### Steps:\r\n 1. Close Project\r\n 2. Open Project\r\n 3. Right Click the Project and select Index&gt;&gt;Freshen All Files\r\n 4. Now select Index&gt;&gt;Rebuild\r\n---\r\nRestarting Eclipse had no impact on me, I suspect Freshen All Files did most of the work. Hopefully this works for someone!","title":"Can&#39;t refactor rename in Eclipse","body":"<p>I experienced this same issue when trying to refactor a function name, the following steps worked for me but I cannot verify the cause is the same as the original question.</p>\n<h3>Steps:</h3>\n<ol>\n<li>Close Project</li>\n<li>Open Project</li>\n<li>Right Click the Project and select Index&gt;&gt;Freshen All Files</li>\n<li>Now select Index&gt;&gt;Rebuild</li>\n</ol>\n<hr />\n<p>Restarting Eclipse had no impact on me, I suspect Freshen All Files did most of the work. Hopefully this works for someone!</p>\n"}],"owner":{"account_id":1635921,"reputation":473,"user_id":1509419,"accept_rate":57,"display_name":"Mike Dannyboy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32195,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"answer_count":15,"score":30,"last_activity_date":1675099810,"creation_date":1341707827,"question_id":11379808,"body_markdown":"If I do a refactor rename on something, it tries to do it for a moment but then just reverts it right back to what it was named before.  No errors or any indication that something is wrong is shown.\r\n\r\n---\r\n\r\nI just restarted Eclipse and now it&#39;s even worse.  Before, at least selecting *Refactor &gt; Rename* would &quot;box&quot; the name and pretend it&#39;s letting you do a refactor.  Now, after restart, selecting *Refactor &gt; Rename* does nothing.\r\n\r\nWin7 64 bit   \r\nEclipse Indigo build 20110615-0604\r\n","title":"Can&#39;t refactor rename in Eclipse","body":"<p>If I do a refactor rename on something, it tries to do it for a moment but then just reverts it right back to what it was named before.  No errors or any indication that something is wrong is shown.</p>\n\n<hr>\n\n<p>I just restarted Eclipse and now it's even worse.  Before, at least selecting <em>Refactor > Rename</em> would \"box\" the name and pretend it's letting you do a refactor.  Now, after restart, selecting <em>Refactor > Rename</em> does nothing.</p>\n\n<p>Win7 64 bit<br>\nEclipse Indigo build 20110615-0604</p>\n"},{"tags":["java","arrays","generics"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1675098714,"post_id":75287802,"comment_id":132850950,"body_markdown":"The short answer is that arrays and generics just never mix well.","body":"The short answer is that arrays and generics just never mix well."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675098672,"creation_date":1675098672,"answer_id":75287835,"question_id":75287802,"body_markdown":"&gt; But as I understand it the array isn&#39;t generic, as its generic type is defined to be String.\r\n\r\nDifferent meanings of the same word. What the compiler means is: There are `&lt;&gt;` and/or type vars involved anywhere in the array type. Which you can&#39;t do.\r\n\r\nArrays are low-level constructs that you don&#39;t use except for classes that define new collection concepts. You aren&#39;t doing that here. Ditch the array, make a `List&lt;Queue&lt;String&gt;&gt;` instead.\r\n\r\nIf you insist on using arrays, you&#39;re doing it: `arr = new Queue[10]`. Yes, this gets a warning. The only thing you can do is live with it, or use `@SuppressWarnings`. Arrays and generics don&#39;t mix very well. Hence, don&#39;t - use `List&lt;Queue&lt;String&gt;&gt;` instead.","title":"Compiler says &quot;Cannot create a generic array&quot; although array isn&#39;t generic","body":"<blockquote>\n<p>But as I understand it the array isn't generic, as its generic type is defined to be String.</p>\n</blockquote>\n<p>Different meanings of the same word. What the compiler means is: There are <code>&lt;&gt;</code> and/or type vars involved anywhere in the array type. Which you can't do.</p>\n<p>Arrays are low-level constructs that you don't use except for classes that define new collection concepts. You aren't doing that here. Ditch the array, make a <code>List&lt;Queue&lt;String&gt;&gt;</code> instead.</p>\n<p>If you insist on using arrays, you're doing it: <code>arr = new Queue[10]</code>. Yes, this gets a warning. The only thing you can do is live with it, or use <code>@SuppressWarnings</code>. Arrays and generics don't mix very well. Hence, don't - use <code>List&lt;Queue&lt;String&gt;&gt;</code> instead.</p>\n"}],"owner":{"account_id":21106875,"reputation":3,"user_id":17450919,"display_name":"BroPro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675098705,"accepted_answer_id":75287835,"answer_count":1,"score":0,"last_activity_date":1675098672,"creation_date":1675098536,"question_id":75287802,"body_markdown":"I created the class `Queue` with\r\n\r\n```\r\nimport java.util.LinkedList;\r\npublic class Queue &lt;T&gt;{\r\n        private LinkedList&lt;T&gt; list;\r\n\r\n        public Queue() {\r\n            list = new LinkedList&lt;&gt;();\r\n        }\r\n\r\n        ...\r\n}\r\n```\r\n\r\nI also created the class `Cinema`, which has a private field of an array of `Queue&lt;String&gt;`.\r\n\r\n```\r\npublic class Cinema {\r\n\tprivate Queue&lt;String&gt;[] arr;\r\n\t\r\n\tpublic Cinema() {\r\n\t\tarr = new Queue&lt;String&gt;[10];\r\n\t\tfor (int i = 0; i &lt; 10; i++)\r\n\t\t\tarr[i] = new Queue&lt;String&gt;();\r\n\t}\r\n\r\n        ...\r\n}\r\n```\r\n\r\nHowever, the line `arr = new Queue&lt;String&gt;[10];` throws a compilation error, saying `Cannot create a generic array of Queue&lt;String&gt;`. But as I understand it the array isn&#39;t generic, as its generic type is defined to be `String`.\r\n\r\nWhen I change the line to\r\n\r\n```\r\narr = new Queue[10];\r\n```\r\n\r\nthe code works again, although it still gives me a warning saying `Type safety: The expression of type Queue[] needs unchecked conversion to conform to Queue&lt;String&gt;[]`. So I don&#39;t understand why the original doesn&#39;t work.","title":"Compiler says &quot;Cannot create a generic array&quot; although array isn&#39;t generic","body":"<p>I created the class <code>Queue</code> with</p>\n<pre><code>import java.util.LinkedList;\npublic class Queue &lt;T&gt;{\n        private LinkedList&lt;T&gt; list;\n\n        public Queue() {\n            list = new LinkedList&lt;&gt;();\n        }\n\n        ...\n}\n</code></pre>\n<p>I also created the class <code>Cinema</code>, which has a private field of an array of <code>Queue&lt;String&gt;</code>.</p>\n<pre><code>public class Cinema {\n    private Queue&lt;String&gt;[] arr;\n    \n    public Cinema() {\n        arr = new Queue&lt;String&gt;[10];\n        for (int i = 0; i &lt; 10; i++)\n            arr[i] = new Queue&lt;String&gt;();\n    }\n\n        ...\n}\n</code></pre>\n<p>However, the line <code>arr = new Queue&lt;String&gt;[10];</code> throws a compilation error, saying <code>Cannot create a generic array of Queue&lt;String&gt;</code>. But as I understand it the array isn't generic, as its generic type is defined to be <code>String</code>.</p>\n<p>When I change the line to</p>\n<pre><code>arr = new Queue[10];\n</code></pre>\n<p>the code works again, although it still gives me a warning saying <code>Type safety: The expression of type Queue[] needs unchecked conversion to conform to Queue&lt;String&gt;[]</code>. So I don't understand why the original doesn't work.</p>\n"},{"tags":["java","package"],"comments":[{"owner":{"account_id":3050692,"reputation":1007,"user_id":2585333,"accept_rate":45,"display_name":"Sameer Puri"},"score":0,"creation_date":1415680263,"post_id":26857487,"comment_id":42276615,"body_markdown":"What IDE are you utilizing?","body":"What IDE are you utilizing?"},{"owner":{"account_id":4628482,"reputation":1329,"user_id":3751615,"accept_rate":94,"display_name":"Rohith R"},"score":0,"creation_date":1415680339,"post_id":26857487,"comment_id":42276636,"body_markdown":"i am using terminal in ubuntu","body":"i am using terminal in ubuntu"},{"owner":{"account_id":108185,"reputation":1246,"user_id":287281,"accept_rate":70,"display_name":"beyonddc"},"score":1,"creation_date":1415680348,"post_id":26857487,"comment_id":42276641,"body_markdown":"How do you compile this?  Looking at your error message, I think it is a simple classpath issue.  You need to specify your classpath in your javac command when you try to compile it.","body":"How do you compile this?  Looking at your error message, I think it is a simple classpath issue.  You need to specify your classpath in your javac command when you try to compile it."},{"owner":{"account_id":1874766,"reputation":1089,"user_id":1696191,"accept_rate":65,"display_name":"the.wizard"},"score":0,"creation_date":1415680535,"post_id":26857487,"comment_id":42276683,"body_markdown":"post your code to here.. so we can help you better..","body":"post your code to here.. so we can help you better.."},{"owner":{"account_id":1046862,"reputation":1573,"user_id":1051671,"accept_rate":50,"display_name":"RSCode"},"score":0,"creation_date":1415680670,"post_id":26857487,"comment_id":42276721,"body_markdown":"did you first compile the Student.java class before compiling MessConvener.java class?","body":"did you first compile the Student.java class before compiling MessConvener.java class?"},{"owner":{"account_id":4628482,"reputation":1329,"user_id":3751615,"accept_rate":94,"display_name":"Rohith R"},"score":0,"creation_date":1415680938,"post_id":26857487,"comment_id":42276819,"body_markdown":"@beyonddc i compile it using javac.","body":"@beyonddc i compile it using javac."},{"owner":{"account_id":4628482,"reputation":1329,"user_id":3751615,"accept_rate":94,"display_name":"Rohith R"},"score":0,"creation_date":1415680972,"post_id":26857487,"comment_id":42276828,"body_markdown":"@RobinSaxena i have already compiled Student.java","body":"@RobinSaxena i have already compiled Student.java"},{"owner":{"account_id":12264582,"reputation":301,"user_id":8951449,"display_name":"kaiya"},"score":0,"creation_date":1555032035,"post_id":26857487,"comment_id":97976390,"body_markdown":"this seems to be a problem with Intellij IDEA (rsp. the usage). had this problem twice today, could fix it in the maven project with smac89 help, and now i got it in the other (gradle) project, too. Happened when I copied some classes from one project to the other. very odd behaviour.","body":"this seems to be a problem with Intellij IDEA (rsp. the usage). had this problem twice today, could fix it in the maven project with smac89 help, and now i got it in the other (gradle) project, too. Happened when I copied some classes from one project to the other. very odd behaviour."},{"owner":{"account_id":5448686,"reputation":6798,"user_id":4573839,"accept_rate":89,"display_name":"yu yang Jian"},"score":0,"creation_date":1667553246,"post_id":26857487,"comment_id":131197954,"body_markdown":"In Intellij, try [Go to File &gt; Invalidate Caches/Restart &gt; You can choose only Invalidate and restart.](https://stackoverflow.com/questions/38549649/java-cannot-access-class-class-file-not-found)","body":"In Intellij, try <a href=\"https://stackoverflow.com/questions/38549649/java-cannot-access-class-class-file-not-found\">Go to File &gt; Invalidate Caches/Restart &gt; You can choose only Invalidate and restart.</a>"}],"answers":[{"comments":[{"owner":{"account_id":4628482,"reputation":1329,"user_id":3751615,"accept_rate":94,"display_name":"Rohith R"},"score":2,"creation_date":1415681248,"post_id":26857540,"comment_id":42276895,"body_markdown":"how do i include the classpath..?","body":"how do i include the classpath..?"},{"owner":{"account_id":907774,"reputation":9217,"user_id":942317,"accept_rate":87,"display_name":"STEEL"},"score":0,"creation_date":1647440962,"post_id":26857540,"comment_id":126372168,"body_markdown":"in my case since Im on windows the file which was accessing this class was LF and the class which was imported was in CRLF format.","body":"in my case since Im on windows the file which was accessing this class was LF and the class which was imported was in CRLF format."}],"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1415684675,"creation_date":1415680504,"answer_id":26857540,"question_id":26857487,"body_markdown":"There are two possible reasons why this happens\r\n\r\n1. Is the root of your directories included in the classpath? You need to specify when starting a java program. [See the documentation on how to do that][1] or [this variant for unix][2].\r\n\r\n2. Are your classes public? If you forget the public modifier, classes will have package visibility and cannot be accessed from other packages.\r\n\r\n3. Oh well, nobody expects the spanish inquisition ... check your spelling carefully, including capitals.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/technotes/tools/solaris/classpath.html","title":"cannot access the classes in the package","body":"<p>There are two possible reasons why this happens</p>\n\n<ol>\n<li><p>Is the root of your directories included in the classpath? You need to specify when starting a java program. <a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html\" rel=\"nofollow\">See the documentation on how to do that</a> or <a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/solaris/classpath.html\" rel=\"nofollow\">this variant for unix</a>.</p></li>\n<li><p>Are your classes public? If you forget the public modifier, classes will have package visibility and cannot be accessed from other packages.</p></li>\n<li><p>Oh well, nobody expects the spanish inquisition ... check your spelling carefully, including capitals.</p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":4814456,"reputation":3960,"user_id":3886961,"accept_rate":79,"display_name":"kiedysktos"},"score":0,"creation_date":1543236368,"post_id":45988523,"comment_id":93832366,"body_markdown":"thanks for the Maved hint! I also copied some classes. It was sufficient to click blue Maven refresh button in IntelliJ (&quot;Reimport All Maven Projects&quot;)","body":"thanks for the Maved hint! I also copied some classes. It was sufficient to click blue Maven refresh button in IntelliJ (&quot;Reimport All Maven Projects&quot;)"},{"owner":{"account_id":1988476,"reputation":293,"user_id":1783113,"display_name":"ylka"},"score":0,"creation_date":1571744360,"post_id":45988523,"comment_id":103335267,"body_markdown":"ok mvn clean was a super tip, as soon as I opened the terminal inside IntelliJ to type mvn clean, IntelliJ suddenly recovered itself and started recognizing my classes...","body":"ok mvn clean was a super tip, as soon as I opened the terminal inside IntelliJ to type mvn clean, IntelliJ suddenly recovered itself and started recognizing my classes..."}],"tags":[],"owner":{"account_id":2389551,"reputation":40481,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1571755577,"creation_date":1504206552,"answer_id":45988523,"question_id":26857487,"body_markdown":"The error you&#39;re getting makes sense. The `Student` class is located in `MessManagement` package not `MessManagement.student` package.\n\nSo either remove your import of `Student` in `MessManagement` or change the package name in `Student` to `MessManagement.student`.\r\n\r\n---\r\n\r\nFor me, I got this error for a different reason and this was in a maven project. It began to occur after I made major changes to the classes and copied in a lot of new classes. There were no conflicting package names as in your case.\r\n\r\nThe solution was to do `mvn clean`.\r\n\r\nAfter this, I didn&#39;t get that error anymore.","title":"cannot access the classes in the package","body":"<p>The error you're getting makes sense. The <code>Student</code> class is located in <code>MessManagement</code> package not <code>MessManagement.student</code> package.</p>\n\n<p>So either remove your import of <code>Student</code> in <code>MessManagement</code> or change the package name in <code>Student</code> to <code>MessManagement.student</code>.</p>\n\n<hr>\n\n<p>For me, I got this error for a different reason and this was in a maven project. It began to occur after I made major changes to the classes and copied in a lot of new classes. There were no conflicting package names as in your case.</p>\n\n<p>The solution was to do <code>mvn clean</code>.</p>\n\n<p>After this, I didn't get that error anymore.</p>\n"},{"tags":[],"owner":{"account_id":7029306,"reputation":1258,"user_id":5385625,"accept_rate":75,"display_name":"Sam Orozco"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510726103,"creation_date":1510726103,"answer_id":47300482,"question_id":26857487,"body_markdown":"I recently had this issue and it was because I had a class file in the same directory as the java file that I was compiling. You need to delete all .class files in that directory. ","title":"cannot access the classes in the package","body":"<p>I recently had this issue and it was because I had a class file in the same directory as the java file that I was compiling. You need to delete all .class files in that directory. </p>\n"},{"tags":[],"owner":{"account_id":14235299,"reputation":629,"user_id":10387434,"display_name":"Leonid Ivankin"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1539766542,"creation_date":1539766542,"answer_id":52850937,"question_id":26857487,"body_markdown":"I deleted the [out][1] folder and the problem was solved\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9hm8Z.png","title":"cannot access the classes in the package","body":"<p>I deleted the <a href=\"https://i.stack.imgur.com/9hm8Z.png\" rel=\"nofollow noreferrer\">out</a> folder and the problem was solved</p>\n"},{"tags":[],"owner":{"account_id":18600726,"reputation":1,"user_id":15614100,"display_name":"Ron Levi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618252056,"creation_date":1618252056,"answer_id":67063785,"question_id":26857487,"body_markdown":"For me it happened after updating java to jdk_16.\r\n\r\nit was solved after I changed the &quot;misc.xml&quot; file inside &quot;.idea&quot; folder.\r\nchanged languageLevel=&quot;JDK_15&quot; to languageLevel=&quot;JDK_16&quot;.","title":"cannot access the classes in the package","body":"<p>For me it happened after updating java to jdk_16.</p>\n<p>it was solved after I changed the &quot;misc.xml&quot; file inside &quot;.idea&quot; folder.\nchanged languageLevel=&quot;JDK_15&quot; to languageLevel=&quot;JDK_16&quot;.</p>\n"},{"tags":[],"owner":{"account_id":5448686,"reputation":6798,"user_id":4573839,"accept_rate":89,"display_name":"yu yang Jian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667553357,"creation_date":1667553357,"answer_id":74314621,"question_id":26857487,"body_markdown":"In `Intellij`, try \r\n\r\n1. Go to File \r\n2. Invalidate Caches/Restart \r\n3. You can choose only Invalidate and restart\r\n\r\n[See this answer](https://stackoverflow.com/questions/38549649/java-cannot-access-class-class-file-not-found)","title":"cannot access the classes in the package","body":"<p>In <code>Intellij</code>, try</p>\n<ol>\n<li>Go to File</li>\n<li>Invalidate Caches/Restart</li>\n<li>You can choose only Invalidate and restart</li>\n</ol>\n<p><a href=\"https://stackoverflow.com/questions/38549649/java-cannot-access-class-class-file-not-found\">See this answer</a></p>\n"},{"tags":[],"owner":{"account_id":27659265,"reputation":11,"user_id":21112463,"display_name":"erWin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675098485,"creation_date":1675098485,"answer_id":75287789,"question_id":26857487,"body_markdown":"Well I guess I am literally 8 years late, but today I had this problem and I managed to solve it just re-writing the state of the class. Seems that if you comitted your project, pulling it back could make you have that problem, but writing again the &quot;public&quot; state of your class worked for me. I Hope it works for you guys. chrss.","title":"cannot access the classes in the package","body":"<p>Well I guess I am literally 8 years late, but today I had this problem and I managed to solve it just re-writing the state of the class. Seems that if you comitted your project, pulling it back could make you have that problem, but writing again the &quot;public&quot; state of your class worked for me. I Hope it works for you guys. chrss.</p>\n"}],"owner":{"account_id":4628482,"reputation":1329,"user_id":3751615,"accept_rate":94,"display_name":"Rohith R"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81627,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":26857540,"answer_count":7,"score":10,"last_activity_date":1675098485,"creation_date":1415680136,"question_id":26857487,"body_markdown":"I have the following directory structure :\r\n\r\n`MessManagement` is the parent directory.\r\n\r\nUnder that i have 3 directories :\r\n`student` , `messconvener`,`messmanager`\r\n\r\nThe student directory contains the `Student.java` and `Student.class` files. The `messconvener` contains the `MessConvener.java` this requires the `Student class` as `MessConvener` **is extended** from `Student` itself.\r\n\r\nHow should i do the packaging of the classes....??\r\n\r\nWhat i have tried so far.\r\n\r\nCode :\r\n\r\nThis is `Student.java`\r\n\r\n    package MessManagement;\r\n\timport java.sql.*;\r\n\r\n\tpublic class Student\r\n\t{\r\n\t\t\r\n\t}\r\n\r\nThis is `MessConvener.java`\r\n\r\n    package MessManagement;\r\n\timport MessManagement.student.Student;\r\n\tpublic class MessConvener extends Student\r\n\t{\r\n\t\t\t\r\n\t}\r\n\r\n\r\n\r\nBut this does not seem to work.Error Meesage :\r\n\r\n`MessConvener.java:2: error: package MessManagement.student does not exist\r\nimport MessManagement.student.Student;\r\n                             ^\r\nMessConvener.java:3: error: cannot find symbol\r\npublic class MessConvener extends Student\r\n                                  ^\r\n  symbol: class Student\r\n2 errors`","title":"cannot access the classes in the package","body":"<p>I have the following directory structure :</p>\n\n<p><code>MessManagement</code> is the parent directory.</p>\n\n<p>Under that i have 3 directories :\n<code>student</code> , <code>messconvener</code>,<code>messmanager</code></p>\n\n<p>The student directory contains the <code>Student.java</code> and <code>Student.class</code> files. The <code>messconvener</code> contains the <code>MessConvener.java</code> this requires the <code>Student class</code> as <code>MessConvener</code> <strong>is extended</strong> from <code>Student</code> itself.</p>\n\n<p>How should i do the packaging of the classes....??</p>\n\n<p>What i have tried so far.</p>\n\n<p>Code :</p>\n\n<p>This is <code>Student.java</code></p>\n\n<pre><code>package MessManagement;\nimport java.sql.*;\n\npublic class Student\n{\n\n}\n</code></pre>\n\n<p>This is <code>MessConvener.java</code></p>\n\n<pre><code>package MessManagement;\nimport MessManagement.student.Student;\npublic class MessConvener extends Student\n{\n\n}\n</code></pre>\n\n<p>But this does not seem to work.Error Meesage :</p>\n\n<p><code>MessConvener.java:2: error: package MessManagement.student does not exist\nimport MessManagement.student.Student;\n                             ^\nMessConvener.java:3: error: cannot find symbol\npublic class MessConvener extends Student\n                                  ^\n  symbol: class Student\n2 errors</code></p>\n"},{"tags":["java","java-stream","java-9"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":11,"creation_date":1508507969,"post_id":46850689,"comment_id":80648850,"body_markdown":"A quick google search came up with [this](https://blog.codefx.org/java/java-9-stream/): &quot;Called on an ordered stream it will return a new one that consists of those element that passed the predicate until the first one failed. Its a little like filter but it cuts the stream off as soon as the first element fails the predicate. _In its parlance, it takes elements from the stream while the predicate holds and stops as soon as it no longer does._&quot; - If you&#39;d change your predicate to get odd elements only `filter()` would result in `1,3,5,7,9` while `takeWhile()` would result in just `1`.","body":"A quick google search came up with <a href=\"https://blog.codefx.org/java/java-9-stream/\" rel=\"nofollow noreferrer\">this</a>: &quot;Called on an ordered stream it will return a new one that consists of those element that passed the predicate until the first one failed. Its a little like filter but it cuts the stream off as soon as the first element fails the predicate. <i>In its parlance, it takes elements from the stream while the predicate holds and stops as soon as it no longer does.</i>&quot; - If you&#39;d change your predicate to get odd elements only <code>filter()</code> would result in <code>1,3,5,7,9</code> while <code>takeWhile()</code> would result in just <code>1</code>."},{"owner":{"account_id":7664445,"reputation":3648,"user_id":5808553,"accept_rate":64,"display_name":"Rajeev Ranjan"},"score":0,"creation_date":1508508141,"post_id":46850689,"comment_id":80648965,"body_markdown":"Okay. So perhaps it is a more narrowed down form of `filter`.","body":"Okay. So perhaps it is a more narrowed down form of <code>filter</code>."},{"owner":{"account_id":7664445,"reputation":3648,"user_id":5808553,"accept_rate":64,"display_name":"Rajeev Ranjan"},"score":2,"creation_date":1508508426,"post_id":46850689,"comment_id":80649162,"body_markdown":"In fact this is why there is a `while` in the function name indicating `break` if predicate does not hold.","body":"In fact this is why there is a <code>while</code> in the function name indicating <code>break</code> if predicate does not hold."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1508508705,"post_id":46850689,"comment_id":80649351,"body_markdown":"You got it :) ..","body":"You got it :) .."}],"answers":[{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"comment_count":0,"down_vote_count":0,"up_vote_count":94,"is_accepted":true,"score":94,"last_activity_date":1508511492,"creation_date":1508508161,"answer_id":46850795,"question_id":46850689,"body_markdown":"`filter` will remove all items from the stream that do not satisfy the condition.\r\n\r\n`takeWhile` will abort the stream on the first occurrence of an item which does not satisfy the condition.\r\n\r\ne.g.\r\n\r\n    Stream.of(1,2,3,4,5,6,7,8,9,10,9,8,7,6,5,4,3,2,1)\r\n        .filter(i -&gt; i &lt; 4 )\r\n        .forEach(System.out::print);\r\n\r\nwill print\r\n\r\n&gt; 123321\r\n\r\nbut\r\n\r\n    Stream.of(1,2,3,4,5,6,7,8,9,10,9,8,7,6,5,4,3,2,1)\r\n        .takeWhile(i -&gt; i &lt; 4 )\r\n        .forEach(System.out::print);\r\n\r\nwill print\r\n\r\n&gt; 123\r\n\r\n","title":"How is takeWhile different from filter?","body":"<p><code>filter</code> will remove all items from the stream that do not satisfy the condition.</p>\n\n<p><code>takeWhile</code> will abort the stream on the first occurrence of an item which does not satisfy the condition.</p>\n\n<p>e.g.</p>\n\n<pre><code>Stream.of(1,2,3,4,5,6,7,8,9,10,9,8,7,6,5,4,3,2,1)\n    .filter(i -&gt; i &lt; 4 )\n    .forEach(System.out::print);\n</code></pre>\n\n<p>will print</p>\n\n<blockquote>\n  <p>123321</p>\n</blockquote>\n\n<p>but</p>\n\n<pre><code>Stream.of(1,2,3,4,5,6,7,8,9,10,9,8,7,6,5,4,3,2,1)\n    .takeWhile(i -&gt; i &lt; 4 )\n    .forEach(System.out::print);\n</code></pre>\n\n<p>will print</p>\n\n<blockquote>\n  <p>123</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1508508171,"creation_date":1508508171,"answer_id":46850800,"question_id":46850689,"body_markdown":"According to this blogpost: https://blog.codefx.org/java/java-9-stream/\r\n\r\n&gt; Called on an **ordered stream** it will return a new one that consists of those element that passed the predicate **until the first one failed**. Its a little like filter but it **cuts the stream off as soon as the first element fails** the predicate. In its parlance, it takes elements from the stream while the predicate holds and stops as soon as it no longer does.\r\n\r\ni marked the important stuff in bold.\r\n\r\nThe example from the post:\r\n\r\n    Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;&quot;, &quot;e&quot;)\r\n\t    .takeWhile(s -&gt; !String.isEmpty(s));\r\n\t    .forEach(System.out::print);\r\n \r\nOutputs `abc`. Because it filters until the first one doesn&#39;t match the predicate (in the example the 4th element). So you could say it&#39;s shortcircuiting the stream.\r\n\r\n","title":"How is takeWhile different from filter?","body":"<p>According to this blogpost: <a href=\"https://blog.codefx.org/java/java-9-stream/\" rel=\"nofollow noreferrer\">https://blog.codefx.org/java/java-9-stream/</a></p>\n\n<blockquote>\n  <p>Called on an <strong>ordered stream</strong> it will return a new one that consists of those element that passed the predicate <strong>until the first one failed</strong>. Its a little like filter but it <strong>cuts the stream off as soon as the first element fails</strong> the predicate. In its parlance, it takes elements from the stream while the predicate holds and stops as soon as it no longer does.</p>\n</blockquote>\n\n<p>i marked the important stuff in bold.</p>\n\n<p>The example from the post:</p>\n\n<pre><code>Stream.of(\"a\", \"b\", \"c\", \"\", \"e\")\n    .takeWhile(s -&gt; !String.isEmpty(s));\n    .forEach(System.out::print);\n</code></pre>\n\n<p>Outputs <code>abc</code>. Because it filters until the first one doesn't match the predicate (in the example the 4th element). So you could say it's shortcircuiting the stream.</p>\n"},{"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1508587289,"post_id":46850802,"comment_id":80673457,"body_markdown":"this doesn&#39;t necessarily hold true.","body":"this doesn&#39;t necessarily hold true."}],"tags":[],"owner":{"account_id":5644665,"reputation":35951,"user_id":4467208,"accept_rate":51,"display_name":"Murat Karag&#246;z"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1508508173,"creation_date":1508508173,"answer_id":46850802,"question_id":46850689,"body_markdown":"It could be used to get the index of the first `null` value e.g.\r\n\r\n    Stream.of(&quot;Test&quot;, &quot;Test2&quot;, null, &quot;Test2&quot;, null).takeWhile(Objects:isNull).count();\r\n\r\nYou could do the same with `filter` but in that case you would need to have a condition to break the filter as soon as you get the first null value. So in practice `filter` is not suited for that kind of work while `takeWhile` is exactly for that case.\r\n\r\n\r\n\r\n","title":"How is takeWhile different from filter?","body":"<p>It could be used to get the index of the first <code>null</code> value e.g.</p>\n\n<pre><code>Stream.of(\"Test\", \"Test2\", null, \"Test2\", null).takeWhile(Objects:isNull).count();\n</code></pre>\n\n<p>You could do the same with <code>filter</code> but in that case you would need to have a condition to break the filter as soon as you get the first null value. So in practice <code>filter</code> is not suited for that kind of work while <code>takeWhile</code> is exactly for that case.</p>\n"},{"comments":[{"owner":{"account_id":2064196,"reputation":1249,"user_id":1840078,"display_name":"Mark A. Fitzgerald"},"score":1,"creation_date":1508509764,"post_id":46850816,"comment_id":80650035,"body_markdown":"Love the [TIO](https://tio.run/#) links! Very handy for future reference and possible use here.","body":"Love the <a href=\"https://tio.run/#\" rel=\"nofollow noreferrer\">TIO</a> links! Very handy for future reference and possible use here."},{"owner":{"account_id":76976,"reputation":18271,"user_id":220005,"accept_rate":78,"display_name":"jenson-button-event"},"score":0,"creation_date":1536226055,"post_id":46850816,"comment_id":91350730,"body_markdown":"does these operators `take*, skip*` end the observable and unsubscribe subscribers? like `take(1)` does?","body":"does these operators <code>take*, skip*</code> end the observable and unsubscribe subscribers? like <code>take(1)</code> does?"}],"tags":[],"owner":{"account_id":10941923,"reputation":6757,"user_id":8041461,"accept_rate":60,"display_name":"jrtapsell"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1508508887,"creation_date":1508508212,"answer_id":46850816,"question_id":46850689,"body_markdown":"# The difference\r\n## takeWhile\r\n\r\nTakes values while the filter is true, then stops\r\n\r\n## filter\r\n\r\nTakes all the values that match the filter\r\n\r\n# Example\r\n\r\n    Stream.of(1,2,3,4,5,6,7,8,9,10).filter(i -&gt; i % 2 == 0 )\r\n        .forEach(System.out::println);\r\n\r\n[TIO](https://tio.run/##LU1LDoIwEN33FLMxgWSc@FckuHPpihNUBBwslLSDiTGcHRv1bV7yvo1@6rnty665PZJp4ra3TqAJKg3Chry4UreUfylVhdHew0Vz91b9cDVcgBctgZ6Wb9AGIwpZ7moiAu1qH8Nb/dpkq2iJK1zjBre4wz0eMMHlIqaKjZQuYpifgGEGK8gyWECs4A@qrDvr4h7lLy9lWBrkeOzDjZguTtWoxmn6AA)\r\n\r\nThis outputs all of the even numbers from 2 to 10 inclusive.\r\n\r\n    Stream.of(1,2,3,4,5,6,7,8,9,10).takeWhile(i -&gt; i % 2 == 0 )\r\n        .forEach(System.out::println);\r\n\r\n[TIO](https://tio.run/##LU27CsJAEOzvK7YRElgX35qIdpZWFtZrPHXjJRdyG0HEb4@HOs3APEt@8NA3ti7P96zvpWp8q1BGlToVR0FbyxUdvrQ2heMQYM9Sv0zTnZwUEJQ10sPLGapoJDEr9ZWIgNtrSOFlfm3yl2SME5ziDOe4wCWuMMPxKCXluz3exNlEYLgFgQFMYLOBEaQG/qCLb3dc3JLDM6iNY53meROf1NXp2rzNu@8/)\r\n\r\nThis outputs nothing, as 1 is not even, so it stops before outputing anything.","title":"How is takeWhile different from filter?","body":"<h1>The difference</h1>\n\n<h2>takeWhile</h2>\n\n<p>Takes values while the filter is true, then stops</p>\n\n<h2>filter</h2>\n\n<p>Takes all the values that match the filter</p>\n\n<h1>Example</h1>\n\n<pre><code>Stream.of(1,2,3,4,5,6,7,8,9,10).filter(i -&gt; i % 2 == 0 )\n    .forEach(System.out::println);\n</code></pre>\n\n<p><a href=\"https://tio.run/##LU1LDoIwEN33FLMxgWSc@FckuHPpihNUBBwslLSDiTGcHRv1bV7yvo1@6rnty665PZJp4ra3TqAJKg3Chry4UreUfylVhdHew0Vz91b9cDVcgBctgZ6Wb9AGIwpZ7moiAu1qH8Nb/dpkq2iJK1zjBre4wz0eMMHlIqaKjZQuYpifgGEGK8gyWECs4A@qrDvr4h7lLy9lWBrkeOzDjZguTtWoxmn6AA\" rel=\"noreferrer\">TIO</a></p>\n\n<p>This outputs all of the even numbers from 2 to 10 inclusive.</p>\n\n<pre><code>Stream.of(1,2,3,4,5,6,7,8,9,10).takeWhile(i -&gt; i % 2 == 0 )\n    .forEach(System.out::println);\n</code></pre>\n\n<p><a href=\"https://tio.run/##LU27CsJAEOzvK7YRElgX35qIdpZWFtZrPHXjJRdyG0HEb4@HOs3APEt@8NA3ti7P96zvpWp8q1BGlToVR0FbyxUdvrQ2heMQYM9Sv0zTnZwUEJQ10sPLGapoJDEr9ZWIgNtrSOFlfm3yl2SME5ziDOe4wCWuMMPxKCXluz3exNlEYLgFgQFMYLOBEaQG/qCLb3dc3JLDM6iNY53meROf1NXp2rzNu@8/\" rel=\"noreferrer\">TIO</a></p>\n\n<p>This outputs nothing, as 1 is not even, so it stops before outputing anything.</p>\n"},{"tags":[],"owner":{"account_id":15338670,"reputation":11,"user_id":11066286,"display_name":"Robertas Tutlys"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1589540681,"creation_date":1589540229,"answer_id":61817586,"question_id":46850689,"body_markdown":"The operations **takeWhile** and **dropWhile** are more efficient than a filter if you know that the source is **sorted**. These operations make use of short-circuiting and that means: a computation stops as a result is found, there is no need to process the whole stream with filter operation  ","title":"How is takeWhile different from filter?","body":"<p>The operations <strong>takeWhile</strong> and <strong>dropWhile</strong> are more efficient than a filter if you know that the source is <strong>sorted</strong>. These operations make use of short-circuiting and that means: a computation stops as a result is found, there is no need to process the whole stream with filter operation  </p>\n"}],"owner":{"account_id":7664445,"reputation":3648,"user_id":5808553,"accept_rate":64,"display_name":"Rajeev Ranjan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17188,"favorite_count":0,"down_vote_count":1,"up_vote_count":49,"accepted_answer_id":46850795,"answer_count":5,"score":48,"last_activity_date":1675098392,"creation_date":1508507828,"question_id":46850689,"body_markdown":"How is takeWhile() different from filter() in Java 9. What extra utility does it have?\r\n\r\n    Stream.of(1,2,3,4,5,6,7,8,9,10).filter(i -&gt; i &lt; 4 )\r\n            .forEach(System.out::println);\r\n\r\nThis is perhaps what following would do\r\n\r\n    Stream.of(1,2,3,4,5,6,7,8,9,10).takeWhile(i -&gt; i &lt; 4 )\r\n            .forEach(System.out::println);\r\n\r\nWhat was the need of this new function then?\r\n\r\n\r\n","title":"How is takeWhile different from filter?","body":"<p>How is takeWhile() different from filter() in Java 9. What extra utility does it have?</p>\n\n<pre><code>Stream.of(1,2,3,4,5,6,7,8,9,10).filter(i -&gt; i &lt; 4 )\n        .forEach(System.out::println);\n</code></pre>\n\n<p>This is perhaps what following would do</p>\n\n<pre><code>Stream.of(1,2,3,4,5,6,7,8,9,10).takeWhile(i -&gt; i &lt; 4 )\n        .forEach(System.out::println);\n</code></pre>\n\n<p>What was the need of this new function then?</p>\n"},{"tags":["java","multithreading","jsr352"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":1,"creation_date":1646072809,"post_id":71299439,"comment_id":126029583,"body_markdown":"See https://docs.spring.io/spring-batch/docs/current/reference/html/jsr-352.html, section Partitioning.","body":"See <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/jsr-352.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-batch/docs/current/reference/html/&hellip;</a>, section Partitioning."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1646117420,"post_id":71299439,"comment_id":126038536,"body_markdown":"Thank you, Partitioning seems the answer. And I do not understand why this question would get downvoted without even a comment.","body":"Thank you, Partitioning seems the answer. And I do not understand why this question would get downvoted without even a comment."}],"answers":[{"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1646767382,"post_id":71398536,"comment_id":126204127,"body_markdown":"In my case, the batch needs to read records, do some processing and write them back plus maybe create additional information. So far I thought the reader/writer pattern does not apply. Hence I have a batchlet. But there is no reason not to parallelize. Thank you for the example, I will take a look.","body":"In my case, the batch needs to read records, do some processing and write them back plus maybe create additional information. So far I thought the reader/writer pattern does not apply. Hence I have a batchlet. But there is no reason not to parallelize. Thank you for the example, I will take a look."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1646812121,"post_id":71398536,"comment_id":126213578,"body_markdown":"The link you posted does not work for me","body":"The link you posted does not work for me"},{"owner":{"account_id":898267,"reputation":1088,"user_id":935066,"display_name":"cheng"},"score":0,"creation_date":1674744265,"post_id":71398536,"comment_id":132782451,"body_markdown":"Sorry for the bad link. Now fixed.","body":"Sorry for the bad link. Now fixed."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1674768862,"post_id":71398536,"comment_id":132789874,"body_markdown":"Thank you for the fixed link. Now I am wondering where in that example parallel threads play a role, something I hoped to achieve with partitioning.","body":"Thank you for the fixed link. Now I am wondering where in that example parallel threads play a role, something I hoped to achieve with partitioning."},{"owner":{"account_id":898267,"reputation":1088,"user_id":935066,"display_name":"cheng"},"score":0,"creation_date":1675035828,"post_id":71398536,"comment_id":132836229,"body_markdown":"I edited my answer above to include some examples of partitioned chunk and partitioned batchlet.","body":"I edited my answer above to include some examples of partitioned chunk and partitioned batchlet."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1675064880,"post_id":71398536,"comment_id":132840070,"body_markdown":"The newly referenced examples use partition, thank you. Do you also happen to have one with a dynamically calculated partition?","body":"The newly referenced examples use partition, thank you. Do you also happen to have one with a dynamically calculated partition?"},{"owner":{"account_id":898267,"reputation":1088,"user_id":935066,"display_name":"cheng"},"score":0,"creation_date":1675098115,"post_id":71398536,"comment_id":132850701,"body_markdown":"I just added to the above answer a link to a job xml that uses dynamic partition.","body":"I just added to the above answer a link to a job xml that uses dynamic partition."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1675109559,"post_id":71398536,"comment_id":132854218,"body_markdown":"How does JBeret handle the ref attributes? I do not see a mapping to class names within the batch xml file.","body":"How does JBeret handle the ref attributes? I do not see a mapping to class names within the batch xml file."},{"owner":{"account_id":898267,"reputation":1088,"user_id":935066,"display_name":"cheng"},"score":0,"creation_date":1675118436,"post_id":71398536,"comment_id":132856490,"body_markdown":"Please see [Jakarta Batch Spec](https://github.com/eclipse-ee4j/batch-api/blob/master/spec/src/main/asciidoc/batch_runtime_spec.adoc#batch-artifact-loading) for details of loading batch classes.","body":"Please see <a href=\"https://github.com/eclipse-ee4j/batch-api/blob/master/spec/src/main/asciidoc/batch_runtime_spec.adoc#batch-artifact-loading\" rel=\"nofollow noreferrer\">Jakarta Batch Spec</a> for details of loading batch classes."}],"tags":[],"owner":{"account_id":898267,"reputation":1088,"user_id":935066,"display_name":"cheng"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675098053,"creation_date":1646757739,"answer_id":71398536,"question_id":71299439,"body_markdown":"Here is another [example of using partitioned][1] chunk processing in JBeret. Partitioned batchlet should be similar in terms of job configuration. But partitioned batchlet is not common compared to partitioned chunk steps, because batchlet is mainly a task-oriented step, which is not easy to split into multiple partitions. So you may want to check if batchlet step is really suitable.\r\n\r\nJBeret project [test-apps][2] module contains some examples with partition configuration. For example, [cdiScopes][3] tests use batchlet with partitions. [Throttle][4] tests use chunk with partitions.\r\n\r\nJBeret test-apps/chunkPartition test module contains a [job xml that uses mapper for dynamic partition][5].\r\n\r\n\r\n  [1]: https://github.com/wildfly/quickstart/blob/main/batch-processing/src/main/resources/META-INF/batch-jobs/import-file.xml\r\n  [2]: https://github.com/jberet/jsr352/tree/master/test-apps\r\n  [3]: https://github.com/jberet/jsr352/blob/master/test-apps/cdiScopes/stepScoped/src/main/resources/META-INF/batch-jobs/stepScopedPartitioned.xml\r\n  [4]: https://github.com/jberet/jsr352/blob/master/test-apps/throttle/src/main/resources/META-INF/batch-jobs/throttle.xml\r\n  [5]: https://github.com/jberet/jsr352/blob/master/test-apps/chunkPartition/src/main/resources/META-INF/batch-jobs/org.jberet.test.chunkPartitionRestart2StepsMapper.xml","title":"Java Batch Multithreading","body":"<p>Here is another <a href=\"https://github.com/wildfly/quickstart/blob/main/batch-processing/src/main/resources/META-INF/batch-jobs/import-file.xml\" rel=\"nofollow noreferrer\">example of using partitioned</a> chunk processing in JBeret. Partitioned batchlet should be similar in terms of job configuration. But partitioned batchlet is not common compared to partitioned chunk steps, because batchlet is mainly a task-oriented step, which is not easy to split into multiple partitions. So you may want to check if batchlet step is really suitable.</p>\n<p>JBeret project <a href=\"https://github.com/jberet/jsr352/tree/master/test-apps\" rel=\"nofollow noreferrer\">test-apps</a> module contains some examples with partition configuration. For example, <a href=\"https://github.com/jberet/jsr352/blob/master/test-apps/cdiScopes/stepScoped/src/main/resources/META-INF/batch-jobs/stepScopedPartitioned.xml\" rel=\"nofollow noreferrer\">cdiScopes</a> tests use batchlet with partitions. <a href=\"https://github.com/jberet/jsr352/blob/master/test-apps/throttle/src/main/resources/META-INF/batch-jobs/throttle.xml\" rel=\"nofollow noreferrer\">Throttle</a> tests use chunk with partitions.</p>\n<p>JBeret test-apps/chunkPartition test module contains a <a href=\"https://github.com/jberet/jsr352/blob/master/test-apps/chunkPartition/src/main/resources/META-INF/batch-jobs/org.jberet.test.chunkPartitionRestart2StepsMapper.xml\" rel=\"nofollow noreferrer\">job xml that uses mapper for dynamic partition</a>.</p>\n"}],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":592,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71398536,"answer_count":1,"score":0,"last_activity_date":1675098053,"creation_date":1646072588,"question_id":71299439,"body_markdown":"I have some JSR-352 batch jobs that run quite well - despite their runtime.\r\nNow I am thinking of distributing the work across several threads.\r\n\r\nHow is this pattern supported by JSR-352?\r\n\r\nEdit: Now that I know the keywords to search for I can make out more resources on this problem:\r\n\r\n- https://stackoverflow.com/questions/58427625/batch-job-definition-how-to-run-a-dynamically-calculated-number-of-partitions\r\n- https://stackoverflow.com/questions/20741433/jsr-352-batch-application-example\r\n- https://github.com/javaee-samples/jakartaee-samples/tree/main/ee7/batch\r\n- https://www.baeldung.com/java-ee-7-batch-processing#partitionof-job\r\n- https://www.ibm.com/support/pages/system/files/inline-files/WP102706_WLB_JSR352.002.pdf page 24+\r\n\r\nI want to create a partitioned batchlet, and the partitions must be calculated at runtime. The idea is to split the processing of all records into a predefined maximum number of partitions, or a number of partitions with maximum size.","title":"Java Batch Multithreading","body":"<p>I have some JSR-352 batch jobs that run quite well - despite their runtime.\nNow I am thinking of distributing the work across several threads.</p>\n<p>How is this pattern supported by JSR-352?</p>\n<p>Edit: Now that I know the keywords to search for I can make out more resources on this problem:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/58427625/batch-job-definition-how-to-run-a-dynamically-calculated-number-of-partitions\">Batch job definition: How to run a dynamically-calculated number of partitions?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/20741433/jsr-352-batch-application-example\">JSR 352 batch application example</a></li>\n<li><a href=\"https://github.com/javaee-samples/jakartaee-samples/tree/main/ee7/batch\" rel=\"nofollow noreferrer\">https://github.com/javaee-samples/jakartaee-samples/tree/main/ee7/batch</a></li>\n<li><a href=\"https://www.baeldung.com/java-ee-7-batch-processing#partitionof-job\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-ee-7-batch-processing#partitionof-job</a></li>\n<li><a href=\"https://www.ibm.com/support/pages/system/files/inline-files/WP102706_WLB_JSR352.002.pdf\" rel=\"nofollow noreferrer\">https://www.ibm.com/support/pages/system/files/inline-files/WP102706_WLB_JSR352.002.pdf</a> page 24+</li>\n</ul>\n<p>I want to create a partitioned batchlet, and the partitions must be calculated at runtime. The idea is to split the processing of all records into a predefined maximum number of partitions, or a number of partitions with maximum size.</p>\n"},{"tags":["java","selenium","flexbox","calendar","click"],"comments":[{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1675095058,"post_id":75286296,"comment_id":132849652,"body_markdown":"(https://stackoverflow.com/a/30206106/7598774) - Refer this if it helps","body":"(<a href=\"https://stackoverflow.com/a/30206106/7598774\">stackoverflow.com/a/30206106/7598774</a>) - Refer this if it helps"},{"owner":{"account_id":26926509,"reputation":11,"user_id":20499692,"display_name":"shady"},"score":0,"creation_date":1675097168,"post_id":75286296,"comment_id":132850360,"body_markdown":"Hey. I found a fix. Thanks anyways!","body":"Hey. I found a fix. Thanks anyways!"},{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":1,"creation_date":1675097237,"post_id":75286296,"comment_id":132850391,"body_markdown":"Do you mind sharing your fix in the form of an answer so that it will be useful for everyone.","body":"Do you mind sharing your fix in the form of an answer so that it will be useful for everyone."}],"answers":[{"tags":[],"owner":{"account_id":26926509,"reputation":11,"user_id":20499692,"display_name":"shady"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675097805,"creation_date":1675097805,"answer_id":75287656,"question_id":75286296,"body_markdown":"Actually this has nothing to do with flex. I had to scroll a bit lower for the calender to pop up. The below code sorted things.\r\n\r\n    driver.get(&quot;https://www.path2usa.com/travel-companion/&quot;);   \r\n    JavascriptExecutor js = (JavascriptExecutor)driver;\r\n    js.executeScript(&quot;window.scrollBy(0,800)&quot;);\r\n    Thread.sleep(3000);\r\n    driver.findElement(By.id(&quot;form-field-travel_comp_date&quot;)).click();\r\n\r\n    ","title":"I&#39;m unable to click on a element with it&#39;s ID using Selenium. There&#39;s &quot;flex&quot; written inside a rounded rectangle when I inspect element. Any solutions?","body":"<p>Actually this has nothing to do with flex. I had to scroll a bit lower for the calender to pop up. The below code sorted things.</p>\n<pre><code>driver.get(&quot;https://www.path2usa.com/travel-companion/&quot;);   \nJavascriptExecutor js = (JavascriptExecutor)driver;\njs.executeScript(&quot;window.scrollBy(0,800)&quot;);\nThread.sleep(3000);\ndriver.findElement(By.id(&quot;form-field-travel_comp_date&quot;)).click();\n</code></pre>\n"}],"owner":{"account_id":26926509,"reputation":11,"user_id":20499692,"display_name":"shady"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675097832,"creation_date":1675091348,"question_id":75286296,"body_markdown":"I&#39;m trying to click on an element using selenium and make a calender pop up.\r\nI think that the &quot;flex thingy&quot; has something to do with this.\r\n\r\n\r\nI&#39;m trying to click on the &quot;Date of Travel&quot; button to make the calender pop up on this website: https://www.path2usa.com/travel-companion/\r\n\r\nHere&#39;s my code\r\n\r\n`driver.get(&quot;https://www.path2usa.com/travel-companion/&quot;);`\t\t\r\n`driver.findElement(By.id(&quot;form-field-travel_comp_date&quot;)).click();`\r\n\r\nFor some reason, the calendar does not pop up.\r\n\r\nI&#39;m very new to this and I apologize if this sounds stupid. I&#39;d really appreciate any help!\r\n\r\n","title":"I&#39;m unable to click on a element with it&#39;s ID using Selenium. There&#39;s &quot;flex&quot; written inside a rounded rectangle when I inspect element. Any solutions?","body":"<p>I'm trying to click on an element using selenium and make a calender pop up.\nI think that the &quot;flex thingy&quot; has something to do with this.</p>\n<p>I'm trying to click on the &quot;Date of Travel&quot; button to make the calender pop up on this website: <a href=\"https://www.path2usa.com/travel-companion/\" rel=\"nofollow noreferrer\">https://www.path2usa.com/travel-companion/</a></p>\n<p>Here's my code</p>\n<p><code>driver.get(&quot;https://www.path2usa.com/travel-companion/&quot;);</code><br />\n<code>driver.findElement(By.id(&quot;form-field-travel_comp_date&quot;)).click();</code></p>\n<p>For some reason, the calendar does not pop up.</p>\n<p>I'm very new to this and I apologize if this sounds stupid. I'd really appreciate any help!</p>\n"},{"tags":["java","android","textview"],"owner":{"account_id":25207917,"reputation":3,"user_id":20633669,"display_name":"Levon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675097495,"creation_date":1675096763,"question_id":75287444,"body_markdown":"Whenever I click the textview background gets bigger and don&#39;t even fit in textviews borders\r\n\r\nbefore:\r\n\r\n[before click](https://i.stack.imgur.com/ktaVF.png)\r\n\r\nafter:\r\n\r\n[after click](https://i.stack.imgur.com/lOaiN.png)\r\n\r\nthe textview I use:\r\n\r\n```xml\r\n&lt;TextView\r\n            android:id=&quot;@+id/Card1&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:background=&quot;@drawable/placeholder&quot;\r\n            android:gravity=&quot;bottom&quot;\r\n            android:text=&quot;@string/placeholder&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textSize=&quot;12sp&quot;\r\n            android:textStyle=&quot;italic&quot;\r\n            app:layout_constraintDimensionRatio=&quot;0.678&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toStartOf=&quot;@id/Card2&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/guideline3&quot;&gt;&lt;/TextView&gt;\r\n```\r\n\r\nand heres the code on click\r\n\r\n```java\r\ncard1.setOnClickListener(view -&gt; {if (!card1Poped[0]){\r\n\r\n            ValueAnimator animation = ValueAnimator.ofFloat(0f, 100f);\r\n        animation.setDuration(500);\r\n        animation.setInterpolator(new OvershootInterpolator());\r\n        animation.start();\r\n        animation.addUpdateListener(updatedAnimation -&gt; {\r\n            float animatedValue = (float) updatedAnimation.getAnimatedValue();\r\n            card1.setTranslationY(-animatedValue);\r\n            card2.setTranslationY(0);\r\n            card3.setTranslationY(0);\r\n            card4.setTranslationY(0);\r\n            card5.setTranslationY(0);\r\n            card1Poped[0] = true;\r\n            card2Poped[0] = false;\r\n            card3Poped[0] = false;\r\n            card4Poped[0] = false;\r\n            card5Poped[0] = false;\r\n\r\n        });\r\n    }else if (!CardViewerPoped[0]) {\r\n            CardViewer.setVisibility(View.VISIBLE);\r\n            CardViewer.setAlpha(0F);\r\n            CardViewer.setImageDrawable(card1.getBackground());\r\n            ValueAnimator alphaAnim = ValueAnimator.ofFloat(0F, 1F);\r\n            alphaAnim.setDuration(250);\r\n            alphaAnim.setInterpolator(new LinearInterpolator());\r\n            alphaAnim.start();\r\n            alphaAnim.addUpdateListener(valueAnimator -&gt; {\r\n                float alphaValue = (float) valueAnimator.getAnimatedValue();\r\n                CardViewer.setAlpha(alphaValue);\r\n            });\r\n            CardViewerPoped[0] = true;\r\n        }\r\n    });\r\n```\r\n\r\nthe problem is with &quot;else if&quot; part, there it basically gives its background to an ImageView, and that image view starts to fade in, I DO NOTHING with that textview but it changes and idk why\r\n\r\nI tried like .invalidate cuz its only thing I can think of that can help but it doesn&#39;t.","title":"textviews background change its size when i click it","body":"<p>Whenever I click the textview background gets bigger and don't even fit in textviews borders</p>\n<p>before:</p>\n<p><a href=\"https://i.stack.imgur.com/ktaVF.png\" rel=\"nofollow noreferrer\">before click</a></p>\n<p>after:</p>\n<p><a href=\"https://i.stack.imgur.com/lOaiN.png\" rel=\"nofollow noreferrer\">after click</a></p>\n<p>the textview I use:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;TextView\n            android:id=&quot;@+id/Card1&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:background=&quot;@drawable/placeholder&quot;\n            android:gravity=&quot;bottom&quot;\n            android:text=&quot;@string/placeholder&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;12sp&quot;\n            android:textStyle=&quot;italic&quot;\n            app:layout_constraintDimensionRatio=&quot;0.678&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toStartOf=&quot;@id/Card2&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;@+id/guideline3&quot;&gt;&lt;/TextView&gt;\n</code></pre>\n<p>and heres the code on click</p>\n<pre class=\"lang-java prettyprint-override\"><code>card1.setOnClickListener(view -&gt; {if (!card1Poped[0]){\n\n            ValueAnimator animation = ValueAnimator.ofFloat(0f, 100f);\n        animation.setDuration(500);\n        animation.setInterpolator(new OvershootInterpolator());\n        animation.start();\n        animation.addUpdateListener(updatedAnimation -&gt; {\n            float animatedValue = (float) updatedAnimation.getAnimatedValue();\n            card1.setTranslationY(-animatedValue);\n            card2.setTranslationY(0);\n            card3.setTranslationY(0);\n            card4.setTranslationY(0);\n            card5.setTranslationY(0);\n            card1Poped[0] = true;\n            card2Poped[0] = false;\n            card3Poped[0] = false;\n            card4Poped[0] = false;\n            card5Poped[0] = false;\n\n        });\n    }else if (!CardViewerPoped[0]) {\n            CardViewer.setVisibility(View.VISIBLE);\n            CardViewer.setAlpha(0F);\n            CardViewer.setImageDrawable(card1.getBackground());\n            ValueAnimator alphaAnim = ValueAnimator.ofFloat(0F, 1F);\n            alphaAnim.setDuration(250);\n            alphaAnim.setInterpolator(new LinearInterpolator());\n            alphaAnim.start();\n            alphaAnim.addUpdateListener(valueAnimator -&gt; {\n                float alphaValue = (float) valueAnimator.getAnimatedValue();\n                CardViewer.setAlpha(alphaValue);\n            });\n            CardViewerPoped[0] = true;\n        }\n    });\n</code></pre>\n<p>the problem is with &quot;else if&quot; part, there it basically gives its background to an ImageView, and that image view starts to fade in, I DO NOTHING with that textview but it changes and idk why</p>\n<p>I tried like .invalidate cuz its only thing I can think of that can help but it doesn't.</p>\n"},{"tags":["java","spring-boot","jwt"],"comments":[{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1675007882,"post_id":75272106,"comment_id":132831229,"body_markdown":"Does your stack trace indicate that the error is occurring on the assignment to `jwtToken`?  I&#39;m wondering if there might be some external method encountering that error.","body":"Does your stack trace indicate that the error is occurring on the assignment to <code>jwtToken</code>?  I&#39;m wondering if there might be some external method encountering that error."},{"owner":{"account_id":13960589,"reputation":25,"user_id":17882204,"display_name":"Arialita"},"score":0,"creation_date":1675084939,"post_id":75272106,"comment_id":132846037,"body_markdown":"I updated my question, the error occurs in the generation of token.","body":"I updated my question, the error occurs in the generation of token."}],"answers":[{"tags":[],"owner":{"account_id":13960589,"reputation":25,"user_id":17882204,"display_name":"Arialita"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675097478,"creation_date":1675097478,"answer_id":75287596,"question_id":75272106,"body_markdown":"I found the solution, I had to add to my pom the following dependencies: jjwt-impl and jjwt-jackson. Also I had to create my secret key as follows:\r\n\r\n    private String secret = &quot;2D4A614E645267556B58703273357638792F423F4428472B4B6250655368566D&quot;;\r\n    \r\n    \r\n    \r\n    @Value(&quot;${app.jwttoken.message}&quot;)\r\n    private String message;\r\n    \r\n    @Override\r\n    public Map&lt;String, String&gt; generateToken(User user) {\r\n        String jwtToken=&quot;&quot;;\r\n        jwtToken = Jwts.builder().setSubject(user.getUserName()).setIssuedAt(new Date()).signWith(getSignInKey(),SignatureAlgorithm.HS256).compact();\r\n        Map&lt;String, String&gt; jwtTokenGen = new HashMap&lt;&gt;();\r\n        jwtTokenGen.put(&quot;token&quot;, jwtToken);\r\n        jwtTokenGen.put(&quot;message&quot;, message);\r\n        return jwtTokenGen;\r\n    }\r\n    \r\n    private Key getSignInKey() {\r\n        byte[] keyBytes = Decoders.BASE64.decode(secret);\r\n        return Keys.hmacShaKeyFor(keyBytes);\r\n    }\r\n\r\nTurns out I was using &quot;secretkey&quot; as my jwt.secret in application properties. And I was passing that variable alone. What I did now was use an online keygenerator and then created a function to convert it to a Key and then passed it to signWith() method.","title":"The signing key&#39;s size is 48 bits which is not secure enough for the HS256 algorithm","body":"<p>I found the solution, I had to add to my pom the following dependencies: jjwt-impl and jjwt-jackson. Also I had to create my secret key as follows:</p>\n<pre><code>private String secret = &quot;2D4A614E645267556B58703273357638792F423F4428472B4B6250655368566D&quot;;\n\n\n\n@Value(&quot;${app.jwttoken.message}&quot;)\nprivate String message;\n\n@Override\npublic Map&lt;String, String&gt; generateToken(User user) {\n    String jwtToken=&quot;&quot;;\n    jwtToken = Jwts.builder().setSubject(user.getUserName()).setIssuedAt(new Date()).signWith(getSignInKey(),SignatureAlgorithm.HS256).compact();\n    Map&lt;String, String&gt; jwtTokenGen = new HashMap&lt;&gt;();\n    jwtTokenGen.put(&quot;token&quot;, jwtToken);\n    jwtTokenGen.put(&quot;message&quot;, message);\n    return jwtTokenGen;\n}\n\nprivate Key getSignInKey() {\n    byte[] keyBytes = Decoders.BASE64.decode(secret);\n    return Keys.hmacShaKeyFor(keyBytes);\n}\n</code></pre>\n<p>Turns out I was using &quot;secretkey&quot; as my jwt.secret in application properties. And I was passing that variable alone. What I did now was use an online keygenerator and then created a function to convert it to a Key and then passed it to signWith() method.</p>\n"}],"owner":{"account_id":13960589,"reputation":25,"user_id":17882204,"display_name":"Arialita"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1622,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75287596,"answer_count":1,"score":0,"last_activity_date":1675097478,"creation_date":1674956481,"question_id":75272106,"body_markdown":"I&#39;m this is my first time making a project that needs JWT authentication, I&#39;m following [this](https://springframework.guru/jwt-authentication-in-spring-microservices-jwt-token/) tutorial, but I get the problem that my key must be higher than 256bits, I searched here and found [this](https://stackoverflow.com/questions/55545957/io-jsonwebtoken-security-weakkeyexception-the-verification-keys-size-is-48-bit) post, however I&#39;m new in this topic so I don&#39;t really know how to make it 256bits. Below is my code:\r\n\r\n```\r\n@Service\r\npublic class JwtGeneration implements IJwtGeneration {\r\n    \r\n    @Value(&quot;${jwt.secret}&quot;)\r\n    private String secret;\r\n    \r\n    @Value(&quot;${app.jwttoken.message}&quot;)\r\n    private String message;\r\n    \r\n    @Override\r\n    public Map&lt;String, String&gt; generateToken(User user) {\r\n        String jwtToken=&quot;&quot;;\r\n        jwtToken = Jwts.builder().setSubject(user.getUserName()).setIssuedAt(new Date()).signWith(SignatureAlgorithm.HS256, &quot;secret&quot;).compact();\r\n        Map&lt;String, String&gt; jwtTokenGen = new HashMap&lt;&gt;();\r\n        jwtTokenGen.put(&quot;token&quot;, jwtToken);\r\n        jwtTokenGen.put(&quot;message&quot;, message);\r\n        return jwtTokenGen;\r\n    }\r\n    \r\n}\r\n``` \r\nHow can I make it 256 bits?\r\n\r\n\r\nSearching more, I found that I could try this:\r\n\r\n```\r\n@Service\r\npublic class JwtGeneration implements IJwtGeneration {\r\n    \r\n    @Value(&quot;${jwt.secret}&quot;)\r\n    private String secret;\r\n    \r\n    byte[] decodedKey = secret.getBytes(StandardCharsets.UTF_8);\r\n    SecretKey key = new SecretKeySpec(decodedKey, 0, decodedKey.length, &quot;HMACSHA256&quot;);\r\n    \r\n    @Value(&quot;${app.jwttoken.message}&quot;)\r\n    private String message;\r\n    \r\n    @Override\r\n    public Map&lt;String, String&gt; generateToken(User user) {\r\n        String jwtToken=&quot;&quot;;\r\n        jwtToken = Jwts.builder().setSubject(user.getUserName()).setIssuedAt(new Date()).signWith(key, SignatureAlgorithm.HS256).compact();\r\n        Map&lt;String, String&gt; jwtTokenGen = new HashMap&lt;&gt;();\r\n        jwtTokenGen.put(&quot;token&quot;, jwtToken);\r\n        jwtTokenGen.put(&quot;message&quot;, message);\r\n        return jwtTokenGen;\r\n    }\r\n    \r\n}\r\n``` \r\nBut I still get error, how can I fix it? \r\n\r\n**UPDATE**\r\nThis is the error message I get: &quot;io.jsonwebtoken.security.WeakKeyException: The signing key&#39;s size is 48 bits which is not secure enough for the HS256 algorithm.  The JWT JWA Specification (RFC 7518, Section 3.2) states that keys used with HS256 MUST have a size &gt;= 256 bits (the key size must be greater than or equal to the hash output size).  Consider using the io.jsonwebtoken.security.Keys class&#39;s &#39;secretKeyFor(SignatureAlgorithm.HS256)&#39; method to create a key guaranteed to be secure enough for HS256.  See https://tools.ietf.org/html/rfc7518#section-3.2 for more information.\r\nat com.authdemo.AuthDemo.config.JwtGeneration.generateToken(JwtGeneration.java:26) ~[classes/:na]\r\n\tat com.authdemo.AuthDemo.controller.UserController.loginUser(UserController.java:44) ~[classes/:na]&quot;\r\n\r\nI tried `SecretKey key = secretKeyFor(SignatureAlgorithm.HS256)` but it didn&#39;t work.","title":"The signing key&#39;s size is 48 bits which is not secure enough for the HS256 algorithm","body":"<p>I'm this is my first time making a project that needs JWT authentication, I'm following <a href=\"https://springframework.guru/jwt-authentication-in-spring-microservices-jwt-token/\" rel=\"nofollow noreferrer\">this</a> tutorial, but I get the problem that my key must be higher than 256bits, I searched here and found <a href=\"https://stackoverflow.com/questions/55545957/io-jsonwebtoken-security-weakkeyexception-the-verification-keys-size-is-48-bit\">this</a> post, however I'm new in this topic so I don't really know how to make it 256bits. Below is my code:</p>\n<pre><code>@Service\npublic class JwtGeneration implements IJwtGeneration {\n    \n    @Value(&quot;${jwt.secret}&quot;)\n    private String secret;\n    \n    @Value(&quot;${app.jwttoken.message}&quot;)\n    private String message;\n    \n    @Override\n    public Map&lt;String, String&gt; generateToken(User user) {\n        String jwtToken=&quot;&quot;;\n        jwtToken = Jwts.builder().setSubject(user.getUserName()).setIssuedAt(new Date()).signWith(SignatureAlgorithm.HS256, &quot;secret&quot;).compact();\n        Map&lt;String, String&gt; jwtTokenGen = new HashMap&lt;&gt;();\n        jwtTokenGen.put(&quot;token&quot;, jwtToken);\n        jwtTokenGen.put(&quot;message&quot;, message);\n        return jwtTokenGen;\n    }\n    \n}\n</code></pre>\n<p>How can I make it 256 bits?</p>\n<p>Searching more, I found that I could try this:</p>\n<pre><code>@Service\npublic class JwtGeneration implements IJwtGeneration {\n    \n    @Value(&quot;${jwt.secret}&quot;)\n    private String secret;\n    \n    byte[] decodedKey = secret.getBytes(StandardCharsets.UTF_8);\n    SecretKey key = new SecretKeySpec(decodedKey, 0, decodedKey.length, &quot;HMACSHA256&quot;);\n    \n    @Value(&quot;${app.jwttoken.message}&quot;)\n    private String message;\n    \n    @Override\n    public Map&lt;String, String&gt; generateToken(User user) {\n        String jwtToken=&quot;&quot;;\n        jwtToken = Jwts.builder().setSubject(user.getUserName()).setIssuedAt(new Date()).signWith(key, SignatureAlgorithm.HS256).compact();\n        Map&lt;String, String&gt; jwtTokenGen = new HashMap&lt;&gt;();\n        jwtTokenGen.put(&quot;token&quot;, jwtToken);\n        jwtTokenGen.put(&quot;message&quot;, message);\n        return jwtTokenGen;\n    }\n    \n}\n</code></pre>\n<p>But I still get error, how can I fix it?</p>\n<p><strong>UPDATE</strong>\nThis is the error message I get: &quot;io.jsonwebtoken.security.WeakKeyException: The signing key's size is 48 bits which is not secure enough for the HS256 algorithm.  The JWT JWA Specification (RFC 7518, Section 3.2) states that keys used with HS256 MUST have a size &gt;= 256 bits (the key size must be greater than or equal to the hash output size).  Consider using the io.jsonwebtoken.security.Keys class's 'secretKeyFor(SignatureAlgorithm.HS256)' method to create a key guaranteed to be secure enough for HS256.  See <a href=\"https://tools.ietf.org/html/rfc7518#section-3.2\" rel=\"nofollow noreferrer\">https://tools.ietf.org/html/rfc7518#section-3.2</a> for more information.\nat com.authdemo.AuthDemo.config.JwtGeneration.generateToken(JwtGeneration.java:26) ~[classes/:na]\nat com.authdemo.AuthDemo.controller.UserController.loginUser(UserController.java:44) ~[classes/:na]&quot;</p>\n<p>I tried <code>SecretKey key = secretKeyFor(SignatureAlgorithm.HS256)</code> but it didn't work.</p>\n"},{"tags":["java","android","maven","gradle"],"answers":[{"tags":[],"owner":{"account_id":1528808,"reputation":6784,"user_id":1426565,"accept_rate":29,"display_name":"Cruceo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617579601,"creation_date":1617157248,"answer_id":66880791,"question_id":66848572,"body_markdown":"Going to &quot;answer&quot; my own questions and hope someone corrects me if anything is wrong.\r\n\r\n&gt; Was the previously-generated POM wrong in that it should have included kotlin as a compilation dependency, even though it&#39;s only used for testing?\r\n\r\nNo, the `kotlin-stdlib` should not be included in the POM of a release publication for a java/android library that has no kotlin code or kotlin-based dependencies.\r\n\r\nI&#39;m making that assertion as I have compiled a java-only app against a version of this library where the `kotlin-stdlib` compilation condition was removed from the POM, and everything behaved as expected (in that it worked).\r\n\r\n&gt;  If so, how could I exclude it if generating the POM when defining the publication\r\n\r\n&lt;strike&gt;After defining your POM, you can use [pom.withXml][1] from the MavenPom plugin to remove the dependency nodes you want to exclude from the generated POM. e.g.\r\n\r\n```groovy/gradle-6.8.3\r\npom {\r\n    licenses { ... }\r\n    developers { ... }\r\n    scm { ... }\r\n}\r\n\r\npom.withXml {\r\n    asNode()\r\n        .dependencies\r\n        .dependency\r\n        .findAll { it.artifactId.text() == &quot;kotlin-stdlib&quot; }\r\n        .collect { it.parent().remove(it) }\r\n}\r\n```\r\n&lt;/strike&gt;\r\n\r\n**Edit:** This does not remove the dependencies from the generated `module.json`, so this now seems even more wrong than it felt before.\r\n\r\nInstead, you can check the Gradle Start Parameters to determine which variant is being targeted by the current Task Requests, and only apply the plugin if the variant should actually include it:\r\n\r\n```\r\ndef kolinEnabledVariant = getGradle()\r\n        .getStartParameter()\r\n        .getTaskRequests()\r\n        .toString()\r\n        .contains(&quot;Debug&quot;)\r\n\r\nif (kolinEnabledVariant) {\r\n    apply plugin: &#39;kotlin-android&#39;\r\n}\r\n``` \r\n\r\nCommenters on a [related answer][2] note that the variant name should start with a capital letter.\r\n\r\n&gt; Or, is that not really a good option and I should just rewrite the tests in Java?\r\n\r\nThat&#39;s giving up.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/dsl/org.gradle.api.publish.maven.MavenPom.html#org.gradle.api.publish.maven.MavenPom:withXml(org.gradle.api.Action)\r\n  [2]: https://stackoverflow.com/a/43336869/1426565","title":"Excluding testImplementation dependency for Kotlin stdlib in generated POM for Android artifact","body":"<p>Going to &quot;answer&quot; my own questions and hope someone corrects me if anything is wrong.</p>\n<blockquote>\n<p>Was the previously-generated POM wrong in that it should have included kotlin as a compilation dependency, even though it's only used for testing?</p>\n</blockquote>\n<p>No, the <code>kotlin-stdlib</code> should not be included in the POM of a release publication for a java/android library that has no kotlin code or kotlin-based dependencies.</p>\n<p>I'm making that assertion as I have compiled a java-only app against a version of this library where the <code>kotlin-stdlib</code> compilation condition was removed from the POM, and everything behaved as expected (in that it worked).</p>\n<blockquote>\n<p>If so, how could I exclude it if generating the POM when defining the publication</p>\n</blockquote>\n<p><strike>After defining your POM, you can use <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.publish.maven.MavenPom.html#org.gradle.api.publish.maven.MavenPom:withXml(org.gradle.api.Action)\" rel=\"nofollow noreferrer\">pom.withXml</a> from the MavenPom plugin to remove the dependency nodes you want to exclude from the generated POM. e.g.</p>\n<pre><code>pom {\n    licenses { ... }\n    developers { ... }\n    scm { ... }\n}\n\npom.withXml {\n    asNode()\n        .dependencies\n        .dependency\n        .findAll { it.artifactId.text() == &quot;kotlin-stdlib&quot; }\n        .collect { it.parent().remove(it) }\n}\n</code></pre>\n</strike>\n<p><strong>Edit:</strong> This does not remove the dependencies from the generated <code>module.json</code>, so this now seems even more wrong than it felt before.</p>\n<p>Instead, you can check the Gradle Start Parameters to determine which variant is being targeted by the current Task Requests, and only apply the plugin if the variant should actually include it:</p>\n<pre><code>def kolinEnabledVariant = getGradle()\n        .getStartParameter()\n        .getTaskRequests()\n        .toString()\n        .contains(&quot;Debug&quot;)\n\nif (kolinEnabledVariant) {\n    apply plugin: 'kotlin-android'\n}\n</code></pre>\n<p>Commenters on a <a href=\"https://stackoverflow.com/a/43336869/1426565\">related answer</a> note that the variant name should start with a capital letter.</p>\n<blockquote>\n<p>Or, is that not really a good option and I should just rewrite the tests in Java?</p>\n</blockquote>\n<p>That's giving up.</p>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1675097473,"creation_date":1617702676,"answer_id":66966374,"question_id":66848572,"body_markdown":"Since Kotlin 1.4, the various Kotlin Gradle plugins automatically add a dependency on kotlin-std. See [Dependency on the standard library][1].\r\n\r\nYou can disable it by adding to `gradle.properties`:\r\n\r\n```properties\r\nkotlin.stdlib.default.dependency=false\r\n```\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/gradle-configure-project.html#dependency-on-the-standard-library","title":"Excluding testImplementation dependency for Kotlin stdlib in generated POM for Android artifact","body":"<p>Since Kotlin 1.4, the various Kotlin Gradle plugins automatically add a dependency on kotlin-std. See <a href=\"https://kotlinlang.org/docs/gradle-configure-project.html#dependency-on-the-standard-library\" rel=\"nofollow noreferrer\">Dependency on the standard library</a>.</p>\n<p>You can disable it by adding to <code>gradle.properties</code>:</p>\n<pre><code>kotlin.stdlib.default.dependency=false\n</code></pre>\n"}],"owner":{"account_id":1528808,"reputation":6784,"user_id":1426565,"accept_rate":29,"display_name":"Cruceo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1655,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66966374,"answer_count":2,"score":2,"last_activity_date":1675097473,"creation_date":1616990189,"question_id":66848572,"body_markdown":"I&#39;m migrating an older Android library from jcenter to mavenCentral in light of their deprecation. All of the actual library modules are written in Java, but several of them have tests written in Kotlin.\r\n\r\nUntil upgrading (to AS 4.1.3, Gradle 6.8.3), the generated POM(s) never included a compilation dependency on the `kotlin-stdlib`. Now it appears that applying the `kotlin-android` plugin causes the generated POM to add it, even though the dependency is included as `testImplementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.4.31&quot;`.\r\n\r\n```\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n      &lt;artifactId&gt;kotlin-stdlib&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4.31&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n```\r\n\r\n**The question:** Was the previously-generated POM wrong in that it should have included kotlin as a compilation dependency, even though it&#39;s only used for testing?\r\n\r\nOr, do I have to do something special to exclude that &quot;dependency&quot; in this specific case? If so, how could I exclude it if generating the POM when defining the publication like:\r\n\r\n```\r\nafterEvaluate {\r\n    publishing {\r\n        publications {\r\n            release(MavenPublication) {\r\n                from components.release\r\n                ....\r\n\r\n                pom {\r\n                    name = ...\r\n                    licenses { }\r\n                    developers { }\r\n                    scm { }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nOr, is that not really a good option and I should just rewrite the tests in Java?\r\n\r\nIt&#39;s worth noting that removing the `kotlin-android` plugin also removes it as a compilation dependency from the POM(s). It seems to have no effect on generating the AAR; it just prevents the tests from running.\r\n","title":"Excluding testImplementation dependency for Kotlin stdlib in generated POM for Android artifact","body":"<p>I'm migrating an older Android library from jcenter to mavenCentral in light of their deprecation. All of the actual library modules are written in Java, but several of them have tests written in Kotlin.</p>\n<p>Until upgrading (to AS 4.1.3, Gradle 6.8.3), the generated POM(s) never included a compilation dependency on the <code>kotlin-stdlib</code>. Now it appears that applying the <code>kotlin-android</code> plugin causes the generated POM to add it, even though the dependency is included as <code>testImplementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.4.31&quot;</code>.</p>\n<pre><code>  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n      &lt;artifactId&gt;kotlin-stdlib&lt;/artifactId&gt;\n      &lt;version&gt;1.4.31&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n<p><strong>The question:</strong> Was the previously-generated POM wrong in that it should have included kotlin as a compilation dependency, even though it's only used for testing?</p>\n<p>Or, do I have to do something special to exclude that &quot;dependency&quot; in this specific case? If so, how could I exclude it if generating the POM when defining the publication like:</p>\n<pre><code>afterEvaluate {\n    publishing {\n        publications {\n            release(MavenPublication) {\n                from components.release\n                ....\n\n                pom {\n                    name = ...\n                    licenses { }\n                    developers { }\n                    scm { }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Or, is that not really a good option and I should just rewrite the tests in Java?</p>\n<p>It's worth noting that removing the <code>kotlin-android</code> plugin also removes it as a compilation dependency from the POM(s). It seems to have no effect on generating the AAR; it just prevents the tests from running.</p>\n"},{"tags":["java","android","permissions"],"owner":{"account_id":18852982,"reputation":45,"user_id":13751667,"display_name":"DJAMEL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675097390,"creation_date":1675097390,"question_id":75287581,"body_markdown":"I am traying to use  mMap.setMyLocationEnabled(true); to get my position using GPS but I found this error : \r\n\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\nProcess: com.example.test_app, PID: 19982 java.lang.SecurityException: my location requires permission ACCESS_FINE_LOCATION or ACCESS_COARSE_LOCATION\r\nHow to fix it ?\r\n\r\n\r\n     public void onMapReady (GoogleMap googleMap){\r\n            mMap = googleMap; \r\n            mMap.setMyLocationEnabled(true);  // error --------------------------\r\n            mMap.getUiSettings().setMyLocationButtonEnabled(true);   -\r\n            mMap.getUiSettings().setZoomControlsEnabled(true);\r\n    \r\n    }\r\n    \r\n    //in  my manifest \r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;com.google.android.things.permission.MANAGE_GNSS_DRIVERS&quot; /&gt;\r\n\r\n","title":"How to get My Location in google Map using GPS?","body":"<p>I am traying to use  mMap.setMyLocationEnabled(true); to get my position using GPS but I found this error :</p>\n<p>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.test_app, PID: 19982 java.lang.SecurityException: my location requires permission ACCESS_FINE_LOCATION or ACCESS_COARSE_LOCATION\nHow to fix it ?</p>\n<pre><code> public void onMapReady (GoogleMap googleMap){\n        mMap = googleMap; \n        mMap.setMyLocationEnabled(true);  // error --------------------------\n        mMap.getUiSettings().setMyLocationButtonEnabled(true);   -\n        mMap.getUiSettings().setZoomControlsEnabled(true);\n\n}\n\n//in  my manifest \n\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;com.google.android.things.permission.MANAGE_GNSS_DRIVERS&quot; /&gt;\n</code></pre>\n"},{"tags":["java","kotlin","gradle","kotlin-gradle-plugin"],"owner":{"account_id":10591996,"reputation":333,"user_id":7802223,"display_name":"gorodkovskaya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1675099397,"answer_count":0,"score":1,"last_activity_date":1675097166,"creation_date":1675093710,"question_id":75286833,"body_markdown":"I have a project and libraries with source code written in Java and tests written in Kotlin.\r\n\r\nAll projects are built by Gradle using Kotlin plugin.\r\n\r\nBut I noticed Kotlin is being added as transitive dependency to my libraries under the hood, even though I use Kotlin in tests only.\r\n\r\n**How could I avoid adding Kotlin as a transitive dependency?**\r\n\r\n`settings.gradle`:\r\n```\r\npluginManagement {\r\n    plugins {\r\n        id &#39;org.jetbrains.kotlin.jvm&#39; version &#39;1.6.10&#39;\r\n    }\r\n}\r\n```\r\nA common `build.gradle`:\r\n```\r\nplugins {\r\n    id &#39;org.jetbrains.kotlin.jvm&#39;\r\n}\r\n\r\ndependencies {\r\n    testImplementation &#39;org.jetbrains.kotlin:kotlin-stdlib-jdk8&#39;\r\n    testImplementation &#39;org.jetbrains.kotlin:kotlin-reflect&#39;\r\n    testImplementation &#39;org.jetbrains.kotlin:kotlin-test&#39;\r\n    testImplementation &#39;org.jetbrains.kotlin:kotlin-test-junit5&#39;\r\n}\r\n```\r\nAnd when I build the dependency tree:\r\n```\r\n------------------------------------------------------------\r\nProject &#39;:commons-logging&#39;\r\n------------------------------------------------------------\r\n\r\ntestCompileClasspath - Compile classpath for compilation &#39;test&#39; (target  (jvm)).\r\n+--- org.mycompany:lib-logging:1.0.0\r\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0 -&gt; 1.3.72\r\n|         +--- org.jetbrains.kotlin:kotlin-stdlib:1.3.72\r\n|         |    +--- org.jetbrains.kotlin:kotlin-stdlib-common:1.3.72\r\n|         |    \\--- org.jetbrains:annotations:13.0\r\n|         \\--- org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.3.72\r\n|              \\--- org.jetbrains.kotlin:kotlin-stdlib:1.3.72 (*)\r\n+--- org.mycompany:lib-core:3.0.0\r\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.5.30 -&gt; 1.3.72 (*)\r\n+--- org.mycompany:lib-spring:3.0.0\r\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.5.30 -&gt; 1.3.72 (*)\r\n```\r\nSo all these Kotlin dependencies shall not be present in artifacts by `org.mycompany`","title":"Use Kotlin Gradle plugin for tests only","body":"<p>I have a project and libraries with source code written in Java and tests written in Kotlin.</p>\n<p>All projects are built by Gradle using Kotlin plugin.</p>\n<p>But I noticed Kotlin is being added as transitive dependency to my libraries under the hood, even though I use Kotlin in tests only.</p>\n<p><strong>How could I avoid adding Kotlin as a transitive dependency?</strong></p>\n<p><code>settings.gradle</code>:</p>\n<pre><code>pluginManagement {\n    plugins {\n        id 'org.jetbrains.kotlin.jvm' version '1.6.10'\n    }\n}\n</code></pre>\n<p>A common <code>build.gradle</code>:</p>\n<pre><code>plugins {\n    id 'org.jetbrains.kotlin.jvm'\n}\n\ndependencies {\n    testImplementation 'org.jetbrains.kotlin:kotlin-stdlib-jdk8'\n    testImplementation 'org.jetbrains.kotlin:kotlin-reflect'\n    testImplementation 'org.jetbrains.kotlin:kotlin-test'\n    testImplementation 'org.jetbrains.kotlin:kotlin-test-junit5'\n}\n</code></pre>\n<p>And when I build the dependency tree:</p>\n<pre><code>------------------------------------------------------------\nProject ':commons-logging'\n------------------------------------------------------------\n\ntestCompileClasspath - Compile classpath for compilation 'test' (target  (jvm)).\n+--- org.mycompany:lib-logging:1.0.0\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0 -&gt; 1.3.72\n|         +--- org.jetbrains.kotlin:kotlin-stdlib:1.3.72\n|         |    +--- org.jetbrains.kotlin:kotlin-stdlib-common:1.3.72\n|         |    \\--- org.jetbrains:annotations:13.0\n|         \\--- org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.3.72\n|              \\--- org.jetbrains.kotlin:kotlin-stdlib:1.3.72 (*)\n+--- org.mycompany:lib-core:3.0.0\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.5.30 -&gt; 1.3.72 (*)\n+--- org.mycompany:lib-spring:3.0.0\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.5.30 -&gt; 1.3.72 (*)\n</code></pre>\n<p>So all these Kotlin dependencies shall not be present in artifacts by <code>org.mycompany</code></p>\n"},{"tags":["java","java-native-interface","applet"],"comments":[{"owner":{"account_id":10247968,"reputation":759,"user_id":11504689,"display_name":"mwarren"},"score":1,"creation_date":1559827903,"post_id":56478292,"comment_id":99547734,"body_markdown":"I think this may be a duplicate of https://stackoverflow.com/questions/3719065/java-calling-dll-from-a-local-applet-im-doing-something-wrong","body":"I think this may be a duplicate of <a href=\"https://stackoverflow.com/questions/3719065/java-calling-dll-from-a-local-applet-im-doing-something-wrong\" title=\"java calling dll from a local applet im doing something wrong\">stackoverflow.com/questions/3719065/&hellip;</a>"},{"owner":{"account_id":406514,"reputation":145,"user_id":776080,"accept_rate":64,"display_name":"Khan Aamir"},"score":0,"creation_date":1559830674,"post_id":56478292,"comment_id":99549528,"body_markdown":"no its not , i have jar files which is complied by third party .. though i have given all permission its not working hence posted.","body":"no its not , i have jar files which is complied by third party .. though i have given all permission its not working hence posted."}],"owner":{"account_id":406514,"reputation":145,"user_id":776080,"accept_rate":64,"display_name":"Khan Aamir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":780,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675097102,"creation_date":1559826539,"question_id":56478292,"body_markdown":"I need to implement smart card authentication for NHS as described here.\r\nhttps://developer.nhs.uk/apis/spine-core/smartcards.html \r\n\r\ni am getting following error.\r\n\r\naccess denied (&quot;java.lang.RuntimePermission&quot; &quot;loadLibrary.TicketApiDll&quot;)\r\njava.security.AccessControlException: access denied (&quot;java.lang.RuntimePermission&quot; &quot;loadLibrary.TicketApiDll&quot;)\r\n\r\n\r\n\r\n\r\nI created sample applet and tried to execute. Applet is executing with class path of jar file as mentioned by NHS UK. \r\n\r\n  \r\n\r\n      import java.applet.*;\r\n        import java.awt.*;\r\n        import com.gemplus.gemauth.api.GATicket;\r\n        public class AuthenticateExample extends Applet {\r\n        \t  \r\n        \t  public void paint(Graphics g)\r\n        \t  {\r\n        \t\t  try{\r\n        \t\t  String str = this.getParameter(&quot;msg&quot;);\r\n        \t\t  g.drawString(&quot;asdasdasdasdsad&quot;,200,80);\t\r\n        \t\t  //g.drawString(str,100,80);\t\r\n        \t\t  g.drawString(authenticate(),100,80);\t\r\n        \t\t  }\r\n        \t\t catch(Exception e)  \r\n                {  \r\n        \t\t    System.out.println(&quot;Exception Aamir&quot;);  \r\n                    System.out.println(e);  \r\n                }  \r\n        \t  }\r\n        \t  public String authenticate() throws Exception {\r\n        \t\tGATicket gat = new GATicket();\r\n        \t\tString ticket = gat.getTicket();\r\n        \t\treturn ticket;\r\n        \r\n        \t}\r\n    \t\r\n    }\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;HTML&gt;\r\n    &lt;HEAD&gt;\r\n    &lt;TITLE&gt; A Simple Program &lt;/TITLE&gt;\r\n    &lt;/HEAD&gt;\r\n    &lt;BODY&gt;\r\n\r\n    Here is the output of my program:\r\n\r\n    &lt;applet code=&quot;AuthenticateExample&quot; ARCHIVE=&quot;GATicket.jar&quot;  WIDTH=&quot;300&quot; HEIGHT=&quot;200&quot;&gt;\r\n    &lt;PARAM name=&quot;msg&quot; value=&quot;hi aamir love&quot;&gt;\r\n    &lt;/applet&gt; \r\n    &lt;/APPLET&gt;\r\n    &lt;/BODY&gt;\r\n    &lt;/HTML&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\ni need token in result as mentioned in NHS web site.\r\n\r\n\r\nEDIT\r\n\r\n    grant codeBase &quot;file:///F:/Projects/Java/GATicket.JAR&quot; {\r\n          permission java.security.AllPermission;\r\n    };\r\n\r\nit has been added as describe by other post.","title":"access denied loadLibrary java.lang.RuntimePermission java.security.AccessControlException","body":"<p>I need to implement smart card authentication for NHS as described here.\n<a href=\"https://developer.nhs.uk/apis/spine-core/smartcards.html\" rel=\"nofollow noreferrer\">https://developer.nhs.uk/apis/spine-core/smartcards.html</a> </p>\n\n<p>i am getting following error.</p>\n\n<p>access denied (\"java.lang.RuntimePermission\" \"loadLibrary.TicketApiDll\")\njava.security.AccessControlException: access denied (\"java.lang.RuntimePermission\" \"loadLibrary.TicketApiDll\")</p>\n\n<p>I created sample applet and tried to execute. Applet is executing with class path of jar file as mentioned by NHS UK. </p>\n\n<pre><code>  import java.applet.*;\n    import java.awt.*;\n    import com.gemplus.gemauth.api.GATicket;\n    public class AuthenticateExample extends Applet {\n\n          public void paint(Graphics g)\n          {\n              try{\n              String str = this.getParameter(\"msg\");\n              g.drawString(\"asdasdasdasdsad\",200,80);   \n              //g.drawString(str,100,80);   \n              g.drawString(authenticate(),100,80);  \n              }\n             catch(Exception e)  \n            {  \n                System.out.println(\"Exception Aamir\");  \n                System.out.println(e);  \n            }  \n          }\n          public String authenticate() throws Exception {\n            GATicket gat = new GATicket();\n            String ticket = gat.getTicket();\n            return ticket;\n\n        }\n\n}\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;HTML&gt;\r\n&lt;HEAD&gt;\r\n&lt;TITLE&gt; A Simple Program &lt;/TITLE&gt;\r\n&lt;/HEAD&gt;\r\n&lt;BODY&gt;\r\n\r\nHere is the output of my program:\r\n\r\n&lt;applet code=\"AuthenticateExample\" ARCHIVE=\"GATicket.jar\"  WIDTH=\"300\" HEIGHT=\"200\"&gt;\r\n&lt;PARAM name=\"msg\" value=\"hi aamir love\"&gt;\r\n&lt;/applet&gt; \r\n&lt;/APPLET&gt;\r\n&lt;/BODY&gt;\r\n&lt;/HTML&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>i need token in result as mentioned in NHS web site.</p>\n\n<p>EDIT</p>\n\n<pre><code>grant codeBase \"file:///F:/Projects/Java/GATicket.JAR\" {\n      permission java.security.AllPermission;\n};\n</code></pre>\n\n<p>it has been added as describe by other post.</p>\n"},{"tags":["java","arrays","for-loop"],"owner":{"account_id":27658972,"reputation":1,"user_id":21112236,"display_name":"dlearyous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675097854,"answer_count":0,"score":0,"last_activity_date":1675096972,"creation_date":1675096972,"question_id":75287494,"body_markdown":"I&#39;m making a program where I am using a for loop to prompt the user to input a value that will be inserted into an array, where the array is initialized to a number that the user has input and thus the loop runs through that many times as well.\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class Borda {\r\n   public static void main(String[] args)\r\n   {\r\n      Scanner keyboard = new Scanner(System.in);\r\n      \r\n      System.out.print(&quot;Please enter the number of candidates: &quot;);\r\n      int candidateCount = keyboard.nextInt();\r\n\r\n      String[] nameStrings;\r\n      nameStrings = new String[candidateCount];\r\n\r\n      for (int i = 0; i &lt; candidateCount; i++)\r\n      {\r\n         System.out.print(&quot;Please enter the name of candidate &quot; + (i + 1) + &quot;:&quot; );\r\n         nameStrings[i] = keyboard.nextLine();\r\n      }\r\n\r\n      System.out.println(nameStrings[0]);\r\n   }\r\n}\r\n\r\n```\r\n\r\n\r\nWhen I compile and run this code, **the loop seems to just ignore the keyboard.nextLine(); operation and skip to the second pass of the loop.** Can anyone tell me how I can fix this so that it just displays &quot;Please enter the name of candidate 1:&quot; on the first pass and lets the user input a String? The 0 position in the array is just being left empty, the System.out.println(nameStrings[0]); is just a test to see if it&#39;s working.\r\n\r\nI&#39;ve tried running this program with a debug and stepping through the whole program, but I can&#39;t find the reason.","title":"Java for loop is spontaneously looping on the first pass and then behaving as expected","body":"<p>I'm making a program where I am using a for loop to prompt the user to input a value that will be inserted into an array, where the array is initialized to a number that the user has input and thus the loop runs through that many times as well.</p>\n<pre><code>import java.util.Scanner;\npublic class Borda {\n   public static void main(String[] args)\n   {\n      Scanner keyboard = new Scanner(System.in);\n      \n      System.out.print(&quot;Please enter the number of candidates: &quot;);\n      int candidateCount = keyboard.nextInt();\n\n      String[] nameStrings;\n      nameStrings = new String[candidateCount];\n\n      for (int i = 0; i &lt; candidateCount; i++)\n      {\n         System.out.print(&quot;Please enter the name of candidate &quot; + (i + 1) + &quot;:&quot; );\n         nameStrings[i] = keyboard.nextLine();\n      }\n\n      System.out.println(nameStrings[0]);\n   }\n}\n\n</code></pre>\n<p>When I compile and run this code, <strong>the loop seems to just ignore the keyboard.nextLine(); operation and skip to the second pass of the loop.</strong> Can anyone tell me how I can fix this so that it just displays &quot;Please enter the name of candidate 1:&quot; on the first pass and lets the user input a String? The 0 position in the array is just being left empty, the System.out.println(nameStrings[0]); is just a test to see if it's working.</p>\n<p>I've tried running this program with a debug and stepping through the whole program, but I can't find the reason.</p>\n"},{"tags":["java","apache-poi","apache-commons","xssf"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1675096324,"post_id":75287277,"comment_id":132850067,"body_markdown":"Please do not re-format stack traces (e.g. remove line-breaks) when inserting into a question. Just format it as `code`.","body":"Please do not re-format stack traces (e.g. remove line-breaks) when inserting into a question. Just format it as <code>code</code>."},{"owner":{"account_id":16042081,"reputation":21,"user_id":11578271,"display_name":"rishabh"},"score":0,"creation_date":1675096620,"post_id":75287277,"comment_id":132850152,"body_markdown":"@Robert thanks, will take care going forward.","body":"@Robert thanks, will take care going forward."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1675109104,"post_id":75287277,"comment_id":132854070,"body_markdown":"Check your classpath at runtime - it looks like you aren&#39;t using the jars you think you are","body":"Check your classpath at runtime - it looks like you aren&#39;t using the jars you think you are"}],"owner":{"account_id":16042081,"reputation":21,"user_id":11578271,"display_name":"rishabh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675096834,"creation_date":1675096081,"question_id":75287277,"body_markdown":"I was trying to load an excel into POI workbook with the below constructor\r\n\r\n    Workbook workbook = new XSSFWorkbook(file.getAbsolutePath());\r\n\r\nbut got \r\n\r\n```\r\n[main] WARN org.apache.poi.openxml4j.opc.OPCPackage - Unable to call close() on a package that hasn&#39;t been fully opened yet\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: InputStream of class class java.util.zip.InflaterInputStream is not implementing InputStreamStatistics.\r\n at org.apache.poi.openxml4j.util.ZipArchiveThresholdInputStream.&lt;init&gt;(ZipArchiveThresholdInputStream.java:65)\r\n at org.apache.poi.openxml4j.util.ZipSecureFile.getInputStream(ZipSecureFile.java:157)\r\n at org.apache.poi.openxml4j.util.ZipSecureFile.getInputStream(ZipSecureFile.java:36)\r\n at org.apache.poi.openxml4j.util.ZipFileZipEntrySource.getInputStream(ZipFileZipEntrySource.java:63)\r\n at org.apache.poi.openxml4j.opc.ZipPackage.getPartsImpl(ZipPackage.java:282)\r\n at org.apache.poi.openxml4j.opc.OPCPackage.getParts(OPCPackage.java:743)\r\n at org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:248)\r\n at org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:177)\r\n at org.apache.poi.openxml4j.opc.OPCPackage.open(POIXMLDocument.java:88)\r\n at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:332).\r\n```\r\n\r\nI have searched for many solutions over Internet regarding this and most of them are highlighting to change the poi and common-compress version to the latest one.\r\n\r\nI am already using the latest versions only:\r\ni.e. poi-ooxml-5.2.2.jar and commons-compress-1.21.jar  but still getting this error. Can someone please suggest more. Is there any version incompatibility or anything?\r\n","title":"InputStream of class class java.util.zip.InflaterInputStream is not implementing InputStreamStatistics","body":"<p>I was trying to load an excel into POI workbook with the below constructor</p>\n<pre><code>Workbook workbook = new XSSFWorkbook(file.getAbsolutePath());\n</code></pre>\n<p>but got</p>\n<pre><code>[main] WARN org.apache.poi.openxml4j.opc.OPCPackage - Unable to call close() on a package that hasn't been fully opened yet\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: InputStream of class class java.util.zip.InflaterInputStream is not implementing InputStreamStatistics.\n at org.apache.poi.openxml4j.util.ZipArchiveThresholdInputStream.&lt;init&gt;(ZipArchiveThresholdInputStream.java:65)\n at org.apache.poi.openxml4j.util.ZipSecureFile.getInputStream(ZipSecureFile.java:157)\n at org.apache.poi.openxml4j.util.ZipSecureFile.getInputStream(ZipSecureFile.java:36)\n at org.apache.poi.openxml4j.util.ZipFileZipEntrySource.getInputStream(ZipFileZipEntrySource.java:63)\n at org.apache.poi.openxml4j.opc.ZipPackage.getPartsImpl(ZipPackage.java:282)\n at org.apache.poi.openxml4j.opc.OPCPackage.getParts(OPCPackage.java:743)\n at org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:248)\n at org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:177)\n at org.apache.poi.openxml4j.opc.OPCPackage.open(POIXMLDocument.java:88)\n at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:332).\n</code></pre>\n<p>I have searched for many solutions over Internet regarding this and most of them are highlighting to change the poi and common-compress version to the latest one.</p>\n<p>I am already using the latest versions only:\ni.e. poi-ooxml-5.2.2.jar and commons-compress-1.21.jar  but still getting this error. Can someone please suggest more. Is there any version incompatibility or anything?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":2,"creation_date":1583916781,"post_id":60632260,"comment_id":107269232,"body_markdown":"Note that &quot;connected&quot; is not &quot;can access the internet&quot;","body":"Note that &quot;connected&quot; is not &quot;can access the internet&quot;"},{"owner":{"account_id":16918829,"reputation":21,"user_id":12236110,"display_name":"Pachiko"},"score":0,"creation_date":1583916957,"post_id":60632260,"comment_id":107269310,"body_markdown":"@RyanM So what is the alternative to isConnected() if i want to use Network object?","body":"@RyanM So what is the alternative to isConnected() if i want to use Network object?"}],"answers":[{"comments":[{"owner":{"account_id":1215982,"reputation":4655,"user_id":1183577,"accept_rate":40,"display_name":"fluidsonic"},"score":1,"creation_date":1603284776,"post_id":60634285,"comment_id":113987890,"body_markdown":"According to the docs `getActiveNetwork()` was added in API level 23.","body":"According to the docs <code>getActiveNetwork()</code> was added in API level 23."}],"tags":[],"owner":{"account_id":17389628,"reputation":1,"user_id":12600380,"display_name":"Harris"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583923780,"creation_date":1583923780,"answer_id":60634285,"question_id":60632260,"body_markdown":"   You can use this method to check the connectivity. **connectivityManager.getActiveNetwork()** is added in SDK 29.\r\n\r\n\r\n    public static boolean isNetworkAvailable(Context context) {\r\n        if (context == null) return false;\r\n\r\n        ConnectivityManager connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n\r\n        if (connectivityManager != null) {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n                NetworkCapabilities capabilities = connectivityManager.getNetworkCapabilities(connectivityManager.getActiveNetwork());\r\n                if (capabilities != null) {\r\n                    if (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR)) {\r\n                        return true;\r\n                    }\r\n                    if (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI)) {\r\n                        return true;\r\n                    }\r\n                    return capabilities.hasTransport(NetworkCapabilities.TRANSPORT_ETHERNET);\r\n                } else {\r\n                    return false;\r\n                }\r\n            } else {\r\n                NetworkInfo info = connectivityManager.getActiveNetworkInfo();\r\n                return info != null &amp;&amp; info.isConnected();\r\n            }\r\n        }\r\n        return false;\r\n    }","title":"Alternative to NetworkInfo.isConnected() (Deprecated in API 23) for Network objects","body":"<p>You can use this method to check the connectivity. <strong>connectivityManager.getActiveNetwork()</strong> is added in SDK 29.</p>\n\n<pre><code>public static boolean isNetworkAvailable(Context context) {\n    if (context == null) return false;\n\n    ConnectivityManager connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n\n    if (connectivityManager != null) {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n            NetworkCapabilities capabilities = connectivityManager.getNetworkCapabilities(connectivityManager.getActiveNetwork());\n            if (capabilities != null) {\n                if (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR)) {\n                    return true;\n                }\n                if (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI)) {\n                    return true;\n                }\n                return capabilities.hasTransport(NetworkCapabilities.TRANSPORT_ETHERNET);\n            } else {\n                return false;\n            }\n        } else {\n            NetworkInfo info = connectivityManager.getActiveNetworkInfo();\n            return info != null &amp;&amp; info.isConnected();\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":875385,"reputation":6025,"user_id":925135,"accept_rate":82,"display_name":"Renetik"},"score":0,"creation_date":1675093355,"post_id":73608271,"comment_id":132849036,"body_markdown":"You use new implementation for SDK_INT &gt;= Q and for older versions you use old api and suppress deprecation ... tell me what is not ok here ?","body":"You use new implementation for SDK_INT &gt;= Q and for older versions you use old api and suppress deprecation ... tell me what is not ok here ?"},{"owner":{"account_id":15389740,"reputation":668,"user_id":11102816,"display_name":"Shreyas Shetty"},"score":1,"creation_date":1676048052,"post_id":73608271,"comment_id":133065567,"body_markdown":"my bad. I overlooked it.","body":"my bad. I overlooked it."}],"tags":[],"owner":{"account_id":875385,"reputation":6025,"user_id":925135,"accept_rate":82,"display_name":"Renetik"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1675093407,"creation_date":1662375396,"answer_id":73608271,"question_id":60632260,"body_markdown":"You shall use new implementation for SDK_INT &gt;= Q and for older versions you use old api and suppress deprecation like this:\r\n\r\nIn kotlin:\r\n\r\n    val Context.isNetworkConnected: Boolean\r\n        get() {\r\n            val manager = getSystemService(CONNECTIVITY_SERVICE) as ConnectivityManager\r\n            return if (SDK_INT &gt;= Q)\r\n                manager.getNetworkCapabilities(manager.activeNetwork)?.let {\r\n                    it.hasTransport(TRANSPORT_WIFI) || it.hasTransport(TRANSPORT_CELLULAR) ||\r\n                            it.hasTransport(TRANSPORT_BLUETOOTH) ||\r\n                            it.hasTransport(TRANSPORT_ETHERNET) ||\r\n                            it.hasTransport(TRANSPORT_VPN)\r\n                } ?: false\r\n            else\r\n                @Suppress(&quot;DEPRECATION&quot;)\r\n                manager.activeNetworkInfo?.isConnected == true\r\n        }","title":"Alternative to NetworkInfo.isConnected() (Deprecated in API 23) for Network objects","body":"<p>You shall use new implementation for SDK_INT &gt;= Q and for older versions you use old api and suppress deprecation like this:</p>\n<p>In kotlin:</p>\n<pre><code>val Context.isNetworkConnected: Boolean\n    get() {\n        val manager = getSystemService(CONNECTIVITY_SERVICE) as ConnectivityManager\n        return if (SDK_INT &gt;= Q)\n            manager.getNetworkCapabilities(manager.activeNetwork)?.let {\n                it.hasTransport(TRANSPORT_WIFI) || it.hasTransport(TRANSPORT_CELLULAR) ||\n                        it.hasTransport(TRANSPORT_BLUETOOTH) ||\n                        it.hasTransport(TRANSPORT_ETHERNET) ||\n                        it.hasTransport(TRANSPORT_VPN)\n            } ?: false\n        else\n            @Suppress(&quot;DEPRECATION&quot;)\n            manager.activeNetworkInfo?.isConnected == true\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675096691,"creation_date":1675096691,"answer_id":75287425,"question_id":60632260,"body_markdown":"`NetworkInfo` deprecated: https://developer.android.com/reference/android/net/NetworkInfo\r\n\r\n- `getActiveNetworkInfo` deprecated on API 29.\r\n- `getAllNetworkInfo` deprecated on API 23.\r\n\r\nYou should use this code.\r\n\r\n```kotlin\r\n\r\n   private fun isAvailableNetwork(context: Context): Boolean {\r\n        val connectivityManager =\r\n            context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\r\n        val network = connectivityManager.activeNetwork ?: return false\r\n        val networkCapabilities =\r\n            connectivityManager.getNetworkCapabilities(network) ?: return false\r\n        return when {\r\n            networkCapabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI) -&gt; true\r\n            networkCapabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR) -&gt; true\r\n            networkCapabilities.hasTransport(NetworkCapabilities.TRANSPORT_ETHERNET) -&gt; true\r\n            networkCapabilities.hasTransport(NetworkCapabilities.TRANSPORT_BLUETOOTH) -&gt; true\r\n            else -&gt; false\r\n        }\r\n    }\r\n```","title":"Alternative to NetworkInfo.isConnected() (Deprecated in API 23) for Network objects","body":"<p><code>NetworkInfo</code> deprecated: <a href=\"https://developer.android.com/reference/android/net/NetworkInfo\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/net/NetworkInfo</a></p>\n<ul>\n<li><code>getActiveNetworkInfo</code> deprecated on API 29.</li>\n<li><code>getAllNetworkInfo</code> deprecated on API 23.</li>\n</ul>\n<p>You should use this code.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>\n   private fun isAvailableNetwork(context: Context): Boolean {\n        val connectivityManager =\n            context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n        val network = connectivityManager.activeNetwork ?: return false\n        val networkCapabilities =\n            connectivityManager.getNetworkCapabilities(network) ?: return false\n        return when {\n            networkCapabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI) -&gt; true\n            networkCapabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR) -&gt; true\n            networkCapabilities.hasTransport(NetworkCapabilities.TRANSPORT_ETHERNET) -&gt; true\n            networkCapabilities.hasTransport(NetworkCapabilities.TRANSPORT_BLUETOOTH) -&gt; true\n            else -&gt; false\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":16918829,"reputation":21,"user_id":12236110,"display_name":"Pachiko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2424,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1675096691,"creation_date":1583916740,"question_id":60632260,"body_markdown":"I want to use `ConnectivityManager` to check if an active network can access the internet or not ie. `getActiveNetworkInfo().isConnected()`.\r\n\r\nI read that we can still use `getActiveNetwork()` to get an active network, but there doesn&#39;t seem to be a similar method like `isConnected` for `Network` objects. How to workaround?\r\n\r\nThe deprecated code is found here: https://codelabs.developers.google.com/codelabs/android-training-asynctask-asynctaskloader/index.html?index=..%2F..%2Fandroid-training#4","title":"Alternative to NetworkInfo.isConnected() (Deprecated in API 23) for Network objects","body":"<p>I want to use <code>ConnectivityManager</code> to check if an active network can access the internet or not ie. <code>getActiveNetworkInfo().isConnected()</code>.</p>\n\n<p>I read that we can still use <code>getActiveNetwork()</code> to get an active network, but there doesn't seem to be a similar method like <code>isConnected</code> for <code>Network</code> objects. How to workaround?</p>\n\n<p>The deprecated code is found here: <a href=\"https://codelabs.developers.google.com/codelabs/android-training-asynctask-asynctaskloader/index.html?index=..%2F..%2Fandroid-training#4\" rel=\"nofollow noreferrer\">https://codelabs.developers.google.com/codelabs/android-training-asynctask-asynctaskloader/index.html?index=..%2F..%2Fandroid-training#4</a></p>\n"},{"tags":["java","xml","groovy","xsd","jaxb"],"answers":[{"comments":[{"owner":{"account_id":13672099,"reputation":601,"user_id":9864539,"display_name":"Ricky Sixx"},"score":0,"creation_date":1675192688,"post_id":75287325,"comment_id":132874716,"body_markdown":"Thank you for your answer, but your solution does not work. I still get the same error.","body":"Thank you for your answer, but your solution does not work. I still get the same error."}],"tags":[],"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675096289,"creation_date":1675096289,"answer_id":75287325,"question_id":75286824,"body_markdown":"Try this (assuming the package name is &quot;test&quot;):\r\n\r\n    JAXBContext jc = JAXBContext.newInstance(&quot;test&quot;, test.ObjectFactory.class.getClassLoader());","title":"java.lang.Instantiation exception when unmarshalling XML file with Groovy, but in Java works","body":"<p>Try this (assuming the package name is &quot;test&quot;):</p>\n<pre><code>JAXBContext jc = JAXBContext.newInstance(&quot;test&quot;, test.ObjectFactory.class.getClassLoader());\n</code></pre>\n"}],"owner":{"account_id":13672099,"reputation":601,"user_id":9864539,"display_name":"Ricky Sixx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675096289,"creation_date":1675093684,"question_id":75286824,"body_markdown":"I have an XSD schema which defines a complex type hierarchy:\r\n\r\n``` xml\r\n&lt;xsd:complexType abstract=&quot;true&quot; name=&quot;Node&quot;&gt;\r\n\t&lt;xsd:complexContent&gt;\r\n\t\t&lt;xsd:extension base=&quot;core:DescribableElement&quot;&gt;\r\n\t\t\t...\r\n\t\t&lt;/xsd:extension&gt;\r\n\t&lt;/xsd:complexContent&gt;\r\n&lt;/xsd:complexType&gt;\r\n&lt;xsd:complexType abstract=&quot;true&quot; name=&quot;SuccessorNode&quot;&gt;\r\n\t&lt;xsd:complexContent&gt;\r\n\t\t&lt;xsd:extension base=&quot;test:Node&quot;&gt;\r\n\t\t\t...\r\n\t\t&lt;/xsd:extension&gt;\r\n\t&lt;/xsd:complexContent&gt;\r\n&lt;/xsd:complexType&gt;\r\n&lt;xsd:complexType name=&quot;StartNode&quot;&gt;\r\n\t&lt;xsd:complexContent&gt;\r\n\t\t&lt;xsd:extension base=&quot;test:SuccessorNode&quot;&gt;\r\n\t\t\t...\r\n\t\t&lt;/xsd:extension&gt;\r\n\t&lt;/xsd:complexContent&gt;\r\n&lt;/xsd:complexType&gt;\r\n&lt;!-- other types omitted for brevity... --&gt;\r\n```\r\n\r\nFrom this XSD schema, I have generated the corrisponding Java classes using Gradle jaxb plugin.\r\n\r\nMy problem is that when I try to unmarshal an XML file written according to this schema, in Groovy I get an error, but in Java it works correctly.\r\n\r\nJava code:\r\n``` java\r\nFile xmlFile = new File(&quot;test.xml&quot;);\r\nJAXBContext context = JAXBContext.newInstance(ObjectFactory.class);\r\nUnmarshaller unmarshaller = context.createUnmarshaller();\r\nJAXBElement&lt;Pipeline&gt; element = (JAXBElement&lt;Pipeline&gt;) unmarshaller.unmarshal(xmlFile);\r\n```\r\n\r\nGroovy code:\r\n``` groovy\r\ndef xmlFile = new File(&quot;test.xml&quot;)\r\ndef context = JAXBContext.newInstance(ObjectFactory.class)\r\ndef unmarshaller = context.createUnmarshaller()\r\ndef element = unmarshaller.unmarshal(xmlFile) as JAXBElement&lt;Pipeline&gt;\r\n```\r\n\r\nWith the Groovy code, I get a `java.lang.InstantiationException`:\r\n```\r\nCaught: jakarta.xml.bind.UnmarshalException: Unable to create an instance of test.Node\r\n - with linked exception:\r\n[java.lang.InstantiationException]\r\njakarta.xml.bind.UnmarshalException: Unable to create an instance of test.Node\r\n - with linked exception:\r\n[java.lang.InstantiationException]\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext.handleEvent(UnmarshallingContext.java:701)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.Loader.reportError(Loader.java:230)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext.createInstance(UnmarshallingContext.java:665)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.StructureLoader.startElement(StructureLoader.java:156)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.XsiTypeLoader.startElement(XsiTypeLoader.java:49)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext._startElement(UnmarshallingContext.java:534)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext.startElement(UnmarshallingContext.java:513)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.SAXConnector.startElement(SAXConnector.java:137)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:218)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:189)\r\n\tat jakarta.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:140)\r\n\tat jakarta.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:179)\r\n\tat jakarta.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:164)\r\n\tat Test.main(Test.groovy:13)\r\n\tat Test.run(Test.groovy:18)\r\nCaused by: java.lang.InstantiationException\r\n\tat org.glassfish.jaxb.core.v2.ClassFactory.create0(ClassFactory.java:102)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.ClassBeanInfoImpl.createInstance(ClassBeanInfoImpl.java:252)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext.createInstance(UnmarshallingContext.java:659)\r\n\t... 12 more\r\n```\r\n\r\nIt seems that the Groovy code is unable to handle namespaces inside the `xsi:type` attribute, while the Java code handles them nicely:\r\n- the Java code correctly instantiates the concrete classes;\r\n- on the other hand, the Groovy code tries to instantiates the abstract one (and this it throws an exception since an abstract class cannot be instantiated)\r\n\r\nWhy does this happen? Is there a way to fix this behaviour?\r\n","title":"java.lang.Instantiation exception when unmarshalling XML file with Groovy, but in Java works","body":"<p>I have an XSD schema which defines a complex type hierarchy:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;xsd:complexType abstract=&quot;true&quot; name=&quot;Node&quot;&gt;\n    &lt;xsd:complexContent&gt;\n        &lt;xsd:extension base=&quot;core:DescribableElement&quot;&gt;\n            ...\n        &lt;/xsd:extension&gt;\n    &lt;/xsd:complexContent&gt;\n&lt;/xsd:complexType&gt;\n&lt;xsd:complexType abstract=&quot;true&quot; name=&quot;SuccessorNode&quot;&gt;\n    &lt;xsd:complexContent&gt;\n        &lt;xsd:extension base=&quot;test:Node&quot;&gt;\n            ...\n        &lt;/xsd:extension&gt;\n    &lt;/xsd:complexContent&gt;\n&lt;/xsd:complexType&gt;\n&lt;xsd:complexType name=&quot;StartNode&quot;&gt;\n    &lt;xsd:complexContent&gt;\n        &lt;xsd:extension base=&quot;test:SuccessorNode&quot;&gt;\n            ...\n        &lt;/xsd:extension&gt;\n    &lt;/xsd:complexContent&gt;\n&lt;/xsd:complexType&gt;\n&lt;!-- other types omitted for brevity... --&gt;\n</code></pre>\n<p>From this XSD schema, I have generated the corrisponding Java classes using Gradle jaxb plugin.</p>\n<p>My problem is that when I try to unmarshal an XML file written according to this schema, in Groovy I get an error, but in Java it works correctly.</p>\n<p>Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>File xmlFile = new File(&quot;test.xml&quot;);\nJAXBContext context = JAXBContext.newInstance(ObjectFactory.class);\nUnmarshaller unmarshaller = context.createUnmarshaller();\nJAXBElement&lt;Pipeline&gt; element = (JAXBElement&lt;Pipeline&gt;) unmarshaller.unmarshal(xmlFile);\n</code></pre>\n<p>Groovy code:</p>\n<pre><code>def xmlFile = new File(&quot;test.xml&quot;)\ndef context = JAXBContext.newInstance(ObjectFactory.class)\ndef unmarshaller = context.createUnmarshaller()\ndef element = unmarshaller.unmarshal(xmlFile) as JAXBElement&lt;Pipeline&gt;\n</code></pre>\n<p>With the Groovy code, I get a <code>java.lang.InstantiationException</code>:</p>\n<pre><code>Caught: jakarta.xml.bind.UnmarshalException: Unable to create an instance of test.Node\n - with linked exception:\n[java.lang.InstantiationException]\njakarta.xml.bind.UnmarshalException: Unable to create an instance of test.Node\n - with linked exception:\n[java.lang.InstantiationException]\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext.handleEvent(UnmarshallingContext.java:701)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.Loader.reportError(Loader.java:230)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext.createInstance(UnmarshallingContext.java:665)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.StructureLoader.startElement(StructureLoader.java:156)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.XsiTypeLoader.startElement(XsiTypeLoader.java:49)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext._startElement(UnmarshallingContext.java:534)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext.startElement(UnmarshallingContext.java:513)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.SAXConnector.startElement(SAXConnector.java:137)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:218)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:189)\n    at jakarta.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:140)\n    at jakarta.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:179)\n    at jakarta.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:164)\n    at Test.main(Test.groovy:13)\n    at Test.run(Test.groovy:18)\nCaused by: java.lang.InstantiationException\n    at org.glassfish.jaxb.core.v2.ClassFactory.create0(ClassFactory.java:102)\n    at org.glassfish.jaxb.runtime.v2.runtime.ClassBeanInfoImpl.createInstance(ClassBeanInfoImpl.java:252)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext.createInstance(UnmarshallingContext.java:659)\n    ... 12 more\n</code></pre>\n<p>It seems that the Groovy code is unable to handle namespaces inside the <code>xsi:type</code> attribute, while the Java code handles them nicely:</p>\n<ul>\n<li>the Java code correctly instantiates the concrete classes;</li>\n<li>on the other hand, the Groovy code tries to instantiates the abstract one (and this it throws an exception since an abstract class cannot be instantiated)</li>\n</ul>\n<p>Why does this happen? Is there a way to fix this behaviour?</p>\n"},{"tags":["java","jboss","wildfly"],"answers":[{"tags":[],"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675095949,"creation_date":1675095949,"answer_id":75287261,"question_id":75276196,"body_markdown":"It cannot be done with the `ModelControllerClient`. The `module` command is a high level CLI command and not what is referred to as an operation.\r\n\r\nYou could launch a CLI process and send the command. The other option would be to copy the JAR and create the `module.xml` programmatically.","title":"How to add a module programmatically in Wildfly?","body":"<p>It cannot be done with the <code>ModelControllerClient</code>. The <code>module</code> command is a high level CLI command and not what is referred to as an operation.</p>\n<p>You could launch a CLI process and send the command. The other option would be to copy the JAR and create the <code>module.xml</code> programmatically.</p>\n"}],"owner":{"account_id":392230,"reputation":6617,"user_id":753377,"accept_rate":68,"display_name":"Thor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675095949,"creation_date":1675007069,"question_id":75276196,"body_markdown":"In Wildfly-CLI `jboss-cli.sh`it is possible to add a module like this\r\n\r\n```\r\nmodule add --name=org.postgres\r\n           --resources=postgresql-42.2.5.jar\r\n           --dependencies=javax.api,javax.transaction.api\r\n```\r\n\r\nThis adds the file `postgresql-42.2.5.jar` and creates `module.xml` with the following structure in `/modules/org/postgres/main`:\r\n\r\n\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n&lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;org.postgres&quot;&gt;\r\n    &lt;resources&gt;\r\n        &lt;resource-root path=&quot;postgresql-42.5.1.jar&quot;/&gt;\r\n    &lt;/resources&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;module name=&quot;javax.api&quot;/&gt;\r\n        &lt;module name=&quot;javax.transaction.api&quot;/&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/module&gt;\r\n```\r\n\r\nHow can this be done programmatically with `ModelControllerClient` (available in `org.wildfly.core:wildfly-controller-client:19.0.1.Final`)?\r\n\r\n```\r\nModelControllerClient client = ModelControllerClient.Factory.create(InetAddress.getByName(&quot;localhost&quot;), 9990);\r\n```","title":"How to add a module programmatically in Wildfly?","body":"<p>In Wildfly-CLI <code>jboss-cli.sh</code>it is possible to add a module like this</p>\n<pre><code>module add --name=org.postgres\n           --resources=postgresql-42.2.5.jar\n           --dependencies=javax.api,javax.transaction.api\n</code></pre>\n<p>This adds the file <code>postgresql-42.2.5.jar</code> and creates <code>module.xml</code> with the following structure in <code>/modules/org/postgres/main</code>:</p>\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;org.postgres&quot;&gt;\n    &lt;resources&gt;\n        &lt;resource-root path=&quot;postgresql-42.5.1.jar&quot;/&gt;\n    &lt;/resources&gt;\n    &lt;dependencies&gt;\n        &lt;module name=&quot;javax.api&quot;/&gt;\n        &lt;module name=&quot;javax.transaction.api&quot;/&gt;\n    &lt;/dependencies&gt;\n&lt;/module&gt;\n</code></pre>\n<p>How can this be done programmatically with <code>ModelControllerClient</code> (available in <code>org.wildfly.core:wildfly-controller-client:19.0.1.Final</code>)?</p>\n<pre><code>ModelControllerClient client = ModelControllerClient.Factory.create(InetAddress.getByName(&quot;localhost&quot;), 9990);\n</code></pre>\n"},{"tags":["java","arrays","collections","hashmap"],"comments":[{"owner":{"account_id":31485,"reputation":89963,"user_id":86463,"accept_rate":86,"display_name":"harto"},"score":4,"creation_date":1246945633,"post_id":1090556,"comment_id":904522,"body_markdown":"you want the keys, the values, or both?","body":"you want the keys, the values, or both?"}],"answers":[{"comments":[{"owner":{"account_id":466223,"reputation":3651,"user_id":870840,"accept_rate":88,"display_name":"CrackerJack9"},"score":10,"creation_date":1312741221,"post_id":1090564,"comment_id":8320023,"body_markdown":"Actually, this code offers no guarantee that hashMap.keySet().toArray()[0] will be the original key for hashMap.values().toArray()[0] from the original Map. So this is extremely *dangerous*","body":"Actually, this code offers no guarantee that hashMap.keySet().toArray()[0] will be the original key for hashMap.values().toArray()[0] from the original Map. So this is extremely <i>dangerous</i>"},{"owner":{"account_id":57536,"reputation":89154,"user_id":172350,"accept_rate":69,"display_name":"Jake Wilson"},"score":2,"creation_date":1320247650,"post_id":1090564,"comment_id":9763199,"body_markdown":"@CrackerJack9 can you explain?","body":"@CrackerJack9 can you explain?"},{"owner":{"account_id":1336,"reputation":76899,"user_id":1785,"accept_rate":51,"display_name":"Landon Kuhn"},"score":13,"creation_date":1320259826,"post_id":1090564,"comment_id":9767186,"body_markdown":"The keys wont correspond to their values across the two arrays.","body":"The keys wont correspond to their values across the two arrays."},{"owner":{"account_id":466223,"reputation":3651,"user_id":870840,"accept_rate":88,"display_name":"CrackerJack9"},"score":5,"creation_date":1320302629,"post_id":1090564,"comment_id":9775155,"body_markdown":"@Jakobud landon9720 is correct...the order is psuedo-random, and it cannot be guaranteed that key[0] will correspond to value[0] after you convert the keys to a `Set` and the values to a `Collection`. While they are technically converted to arrays (and answers your question), the concept of the key-value pair has been lost - which is why this is a very misleading (and dangerous) answer....","body":"@Jakobud landon9720 is correct...the order is psuedo-random, and it cannot be guaranteed that key[0] will correspond to value[0] after you convert the keys to a <code>Set</code> and the values to a <code>Collection</code>. While they are technically converted to arrays (and answers your question), the concept of the key-value pair has been lost - which is why this is a very misleading (and dangerous) answer...."},{"owner":{"account_id":440760,"reputation":1850,"user_id":830495,"accept_rate":75,"display_name":"artxur"},"score":2,"creation_date":1588512538,"post_id":1090564,"comment_id":108919585,"body_markdown":"I can attest to the danger of this code snippet. When I wrote it, my terminal reached out and slapped me. Extremely dangerous! Beware!","body":"I can attest to the danger of this code snippet. When I wrote it, my terminal reached out and slapped me. Extremely dangerous! Beware!"}],"tags":[],"owner":{"account_id":1336,"reputation":76899,"user_id":1785,"accept_rate":51,"display_name":"Landon Kuhn"},"comment_count":5,"down_vote_count":7,"up_vote_count":228,"is_accepted":true,"score":221,"last_activity_date":1588964136,"creation_date":1246945634,"answer_id":1090564,"question_id":1090556,"body_markdown":"```java\r\nhashMap.keySet().toArray(); // returns an array of keys\r\nhashMap.values().toArray(); // returns an array of values\r\n```\r\n\r\n----\r\n\r\n# Edit\r\n\r\nIt should be noted that the ordering of both arrays may not be the same,\r\nSee oxbow_lakes answer for a better approach for iteration when the pair key/values are needed.","title":"Java: how to convert HashMap&lt;String, Object&gt; to array","body":"<pre class=\"lang-java prettyprint-override\"><code>hashMap.keySet().toArray(); // returns an array of keys\nhashMap.values().toArray(); // returns an array of values\n</code></pre>\n\n<hr>\n\n<h1>Edit</h1>\n\n<p>It should be noted that the ordering of both arrays may not be the same,\nSee oxbow_lakes answer for a better approach for iteration when the pair key/values are needed.</p>\n"},{"comments":[{"owner":{"account_id":5814053,"reputation":2527,"user_id":7759514,"accept_rate":61,"display_name":"Tobiq"},"score":0,"creation_date":1566818900,"post_id":1090619,"comment_id":101763622,"body_markdown":"@CrackerJack9 No, it works. Unlike the accepted solution, this one maintains the key-value pairs. You get `{key, value}[]` as opposed to `key[], value[]`","body":"@CrackerJack9 No, it works. Unlike the accepted solution, this one maintains the key-value pairs. You get <code>{key, value}[]</code> as opposed to <code>key[], value[]</code>"},{"owner":{"account_id":11658866,"reputation":85,"user_id":8537792,"display_name":"Damola Obaleke"},"score":0,"creation_date":1641629239,"post_id":1090619,"comment_id":124858447,"body_markdown":"This seems a better solution","body":"This seems a better solution"}],"tags":[],"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"comment_count":2,"down_vote_count":2,"up_vote_count":78,"is_accepted":false,"score":76,"last_activity_date":1246946756,"creation_date":1246946756,"answer_id":1090619,"question_id":1090556,"body_markdown":"If you want the keys and values, you can always do this via the `entrySet`:\r\n\r\n    hashMap.entrySet().toArray(); // returns a Map.Entry&lt;K,V&gt;[]\r\n\r\nFrom each entry you can (of course) get both the key *and* value via the `getKey` and `getValue` methods","title":"Java: how to convert HashMap&lt;String, Object&gt; to array","body":"<p>If you want the keys and values, you can always do this via the <code>entrySet</code>:</p>\n\n<pre><code>hashMap.entrySet().toArray(); // returns a Map.Entry&lt;K,V&gt;[]\n</code></pre>\n\n<p>From each entry you can (of course) get both the key <em>and</em> value via the <code>getKey</code> and <code>getValue</code> methods</p>\n"},{"tags":[],"owner":{"account_id":197433,"reputation":79,"user_id":441510,"display_name":"valerian"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1559007765,"creation_date":1284641745,"answer_id":3726858,"question_id":1090556,"body_markdown":"    Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n    map.put(&quot;key1&quot;, &quot;value1&quot;);\r\n    map.put(&quot;key2&quot;, &quot;value2&quot;);\r\n\t\r\n    Object[][] twoDarray = new Object[map.size()][2];\r\n\r\n    Object[] keys = map.keySet().toArray();\r\n    Object[] values = map.values().toArray();\r\n\r\n    for (int row = 0; row &lt; twoDarray.length; row++) {\r\n        twoDarray[row][0] = keys[row];\r\n        twoDarray[row][1] = values[row];\r\n    }\r\n\t\r\n    // Print out the new 2D array\r\n    for (int i = 0; i &lt; twoDarray.length; i++) {\r\n\t\tfor (int j = 0; j &lt; twoDarray[i].length; j++) {\r\n\t\t\tSystem.out.println(twoDarray[i][j]);\r\n\t\t}\r\n    }","title":"Java: how to convert HashMap&lt;String, Object&gt; to array","body":"<pre><code>Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\nmap.put(\"key1\", \"value1\");\nmap.put(\"key2\", \"value2\");\n\nObject[][] twoDarray = new Object[map.size()][2];\n\nObject[] keys = map.keySet().toArray();\nObject[] values = map.values().toArray();\n\nfor (int row = 0; row &lt; twoDarray.length; row++) {\n    twoDarray[row][0] = keys[row];\n    twoDarray[row][1] = values[row];\n}\n\n// Print out the new 2D array\nfor (int i = 0; i &lt; twoDarray.length; i++) {\n    for (int j = 0; j &lt; twoDarray[i].length; j++) {\n        System.out.println(twoDarray[i][j]);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":3,"creation_date":1328675618,"post_id":5682375,"comment_id":11561266,"body_markdown":"I think you mean `values()` instead of `keySet()` for an array of `SomeObject`.","body":"I think you mean <code>values()</code> instead of <code>keySet()</code> for an array of <code>SomeObject</code>."},{"owner":{"account_id":10894354,"reputation":367,"user_id":8008892,"display_name":"Hamburg is nice"},"score":1,"creation_date":1568501192,"post_id":5682375,"comment_id":102294859,"body_markdown":"@Alex &quot;In older Java versions using pre-sized array was recommended (...) However since late updates of OpenJDK 6 this call was intrinsified, making the performance of the empty array version the same and sometimes even better, compared to the pre-sized version. Also passing pre-sized array is dangerous for a concurrent or synchronized collection as a data race is possible between the size and toArray call which may result in extra nulls at the end of the array, if the collection was concurrently shrunk during the operation.&quot;\n\n- intellij","body":"@Alex &quot;In older Java versions using pre-sized array was recommended (...) However since late updates of OpenJDK 6 this call was intrinsified, making the performance of the empty array version the same and sometimes even better, compared to the pre-sized version. Also passing pre-sized array is dangerous for a concurrent or synchronized collection as a data race is possible between the size and toArray call which may result in extra nulls at the end of the array, if the collection was concurrently shrunk during the operation.&quot;  - intellij"}],"tags":[],"owner":{"account_id":237114,"reputation":2821,"user_id":505069,"accept_rate":58,"display_name":"kmccoy"},"comment_count":2,"down_vote_count":1,"up_vote_count":64,"is_accepted":false,"score":63,"last_activity_date":1588918465,"creation_date":1302901549,"answer_id":5682375,"question_id":1090556,"body_markdown":"If you have `HashMap&lt;String, SomeObject&gt; hashMap` then:\r\n\r\n```java\r\nhashMap.values().toArray();\r\n```\r\n\r\nWill return an `Object[]`. If instead you want an array of the type `SomeObject`, you could use:\r\n\r\n```java\r\nhashMap.values().toArray(new SomeObject[0]);\r\n```","title":"Java: how to convert HashMap&lt;String, Object&gt; to array","body":"<p>If you have <code>HashMap&lt;String, SomeObject&gt; hashMap</code> then:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>hashMap.values().toArray();\n</code></pre>\n\n<p>Will return an <code>Object[]</code>. If instead you want an array of the type <code>SomeObject</code>, you could use:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>hashMap.values().toArray(new SomeObject[0]);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1249289,"reputation":3789,"user_id":1422630,"accept_rate":55,"display_name":"Aquarius Power"},"score":0,"creation_date":1451326994,"post_id":6974800,"comment_id":56738911,"body_markdown":"perfect! we get both key and value, with auto types fill in eclipse, long time looking for this, thx!","body":"perfect! we get both key and value, with auto types fill in eclipse, long time looking for this, thx!"}],"tags":[],"owner":{"account_id":466223,"reputation":3651,"user_id":870840,"accept_rate":88,"display_name":"CrackerJack9"},"comment_count":1,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1328851439,"creation_date":1312741593,"answer_id":6974800,"question_id":1090556,"body_markdown":"To guarantee the correct order for each array of Keys and Values, use this (the other answers use individual `Set`s which offer no guarantee as to order.\r\n\r\n    Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\r\n    String[] keys = new String[map.size()];\r\n    Object[] values = new Object[map.size()];\r\n    int index = 0;\r\n    for (Map.Entry&lt;String, Object&gt; mapEntry : map.entrySet()) {\r\n        keys[index] = mapEntry.getKey();\r\n        values[index] = mapEntry.getValue();\r\n        index++;\r\n    }","title":"Java: how to convert HashMap&lt;String, Object&gt; to array","body":"<p>To guarantee the correct order for each array of Keys and Values, use this (the other answers use individual <code>Set</code>s which offer no guarantee as to order.</p>\n\n<pre><code>Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\nString[] keys = new String[map.size()];\nObject[] values = new Object[map.size()];\nint index = 0;\nfor (Map.Entry&lt;String, Object&gt; mapEntry : map.entrySet()) {\n    keys[index] = mapEntry.getKey();\n    values[index] = mapEntry.getValue();\n    index++;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1044630,"reputation":5926,"user_id":1049903,"accept_rate":47,"display_name":"Dean Wild"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1321455158,"creation_date":1321455158,"answer_id":8153613,"question_id":1090556,"body_markdown":"An alternative to CrackerJacks suggestion, if you want the HashMap to maintain order you could consider using a LinkedHashMap instead. As far as im aware it&#39;s functionality is identical to a HashMap but it is FIFO so it maintains the order in which items were added.","title":"Java: how to convert HashMap&lt;String, Object&gt; to array","body":"<p>An alternative to CrackerJacks suggestion, if you want the HashMap to maintain order you could consider using a LinkedHashMap instead. As far as im aware it's functionality is identical to a HashMap but it is FIFO so it maintains the order in which items were added.</p>\n"},{"comments":[{"owner":{"account_id":4412923,"reputation":7184,"user_id":3595288,"accept_rate":60,"display_name":"Choletski"},"score":1,"creation_date":1440417335,"post_id":9796117,"comment_id":52248722,"body_markdown":"the question is about `HashMap()` but your solution is about `Hashtable()`... There are some [differences](http://stackoverflow.com/a/40878/3595288) between them","body":"the question is about <code>HashMap()</code> but your solution is about <code>Hashtable()</code>... There are some <a href=\"http://stackoverflow.com/a/40878/3595288\">differences</a> between them"}],"tags":[],"owner":{"account_id":1206654,"reputation":676,"user_id":1176124,"accept_rate":0,"display_name":"Mayur"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1332283284,"creation_date":1332283284,"answer_id":9796117,"question_id":1090556,"body_markdown":"You may try this too.\r\n\r\n    public static String[][] getArrayFromHash(Hashtable&lt;String,String&gt; data){\r\n    \t\tString[][] str = null;\r\n    \t\t{\r\n    \t\t\tObject[] keys = data.keySet().toArray();\r\n    \t\t\tObject[] values = data.values().toArray();\r\n    \t\t\tstr = new String[keys.length][values.length];\r\n    \t\t\tfor(int i=0;i&lt;keys.length;i++) {\r\n    \t\t\t\tstr[0][i] = (String)keys[i];\r\n    \t\t\t\tstr[1][i] = (String)values[i];\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn str;\r\n    \t}\r\n\r\nHere I am using String as return type. You may change it to required return type by you.","title":"Java: how to convert HashMap&lt;String, Object&gt; to array","body":"<p>You may try this too.</p>\n\n<pre><code>public static String[][] getArrayFromHash(Hashtable&lt;String,String&gt; data){\n        String[][] str = null;\n        {\n            Object[] keys = data.keySet().toArray();\n            Object[] values = data.values().toArray();\n            str = new String[keys.length][values.length];\n            for(int i=0;i&lt;keys.length;i++) {\n                str[0][i] = (String)keys[i];\n                str[1][i] = (String)values[i];\n            }\n        }\n        return str;\n    }\n</code></pre>\n\n<p>Here I am using String as return type. You may change it to required return type by you.</p>\n"},{"tags":[],"owner":{"account_id":3841915,"reputation":2647,"user_id":3184740,"accept_rate":38,"display_name":"Mitul Maheshwari"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1397727551,"creation_date":1397727551,"answer_id":23129617,"question_id":1090556,"body_markdown":" To Get in One Dimension Array. \r\n       \r\n        String[] arr1 = new String[hashmap.size()];\r\n        String[] arr2 = new String[hashmap.size()];\r\n        Set entries = hashmap.entrySet();\r\n        Iterator entriesIterator = entries.iterator();\r\n\r\n        int i = 0;\r\n        while(entriesIterator.hasNext()){\r\n\r\n            Map.Entry mapping = (Map.Entry) entriesIterator.next();\r\n\r\n            arr1[i] = mapping.getKey().toString();\r\n            arr2[i] = mapping.getValue().toString();\r\n\r\n            i++;\r\n        }\r\n&lt;br&gt;\r\nTo Get in two Dimension Array.   &lt;br&gt;\r\n \r\n\r\n       String[][] arr = new String[hashmap.size()][2];\r\n       Set entries = hashmap.entrySet();\r\n       Iterator entriesIterator = entries.iterator();\r\n\r\n       int i = 0;\r\n       while(entriesIterator.hasNext()){\r\n\r\n        Map.Entry mapping = (Map.Entry) entriesIterator.next();\r\n\r\n        arr[i][0] = mapping.getKey().toString();\r\n        arr[i][1] = mapping.getValue().toString();\r\n\r\n        i++;\r\n    }","title":"Java: how to convert HashMap&lt;String, Object&gt; to array","body":"<p>To Get in One Dimension Array. </p>\n\n<pre><code>    String[] arr1 = new String[hashmap.size()];\n    String[] arr2 = new String[hashmap.size()];\n    Set entries = hashmap.entrySet();\n    Iterator entriesIterator = entries.iterator();\n\n    int i = 0;\n    while(entriesIterator.hasNext()){\n\n        Map.Entry mapping = (Map.Entry) entriesIterator.next();\n\n        arr1[i] = mapping.getKey().toString();\n        arr2[i] = mapping.getValue().toString();\n\n        i++;\n    }\n</code></pre>\n\n<p><br>\nTo Get in two Dimension Array.   <br></p>\n\n<pre><code>   String[][] arr = new String[hashmap.size()][2];\n   Set entries = hashmap.entrySet();\n   Iterator entriesIterator = entries.iterator();\n\n   int i = 0;\n   while(entriesIterator.hasNext()){\n\n    Map.Entry mapping = (Map.Entry) entriesIterator.next();\n\n    arr[i][0] = mapping.getKey().toString();\n    arr[i][1] = mapping.getValue().toString();\n\n    i++;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3894735,"reputation":314,"user_id":3224087,"display_name":"Hugo Tavares"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1405606477,"creation_date":1405606477,"answer_id":24806015,"question_id":1090556,"body_markdown":"I used almost the same as @kmccoy, but instead of a `keySet()` I did this\r\n\r\n    hashMap.values().toArray(new MyObject[0]);\r\n","title":"Java: how to convert HashMap&lt;String, Object&gt; to array","body":"<p>I used almost the same as @kmccoy, but instead of a <code>keySet()</code> I did this</p>\n\n<pre><code>hashMap.values().toArray(new MyObject[0]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9283001,"reputation":3219,"user_id":6893709,"accept_rate":0,"display_name":"Ali Bagheri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489676470,"creation_date":1489676470,"answer_id":42837697,"question_id":1090556,"body_markdown":"    @SuppressWarnings(&quot;unchecked&quot;)\r\n    \tpublic static &lt;E,T&gt; E[] hashMapKeysToArray(HashMap&lt;E,T&gt; map)\r\n    \t{\r\n    \t\tint s;\r\n    \t\tif(map == null || (s = map.size())&lt;1)\r\n    \t\t\treturn null;\r\n    \r\n    \t\tE[] temp;\r\n    \t\tE typeHelper;\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tIterator&lt;Entry&lt;E, T&gt;&gt; iterator = map.entrySet().iterator();\r\n    \t\t\tEntry&lt;E, T&gt; iK = iterator.next();\r\n    \t\t\ttypeHelper = iK.getKey();\r\n    \r\n    \t\t\tObject o = Array.newInstance(typeHelper.getClass(), s);\r\n    \t\t\ttemp = (E[]) o;\r\n    \r\n    \t\t\tint index = 0;\r\n    \t\t\tfor (Map.Entry&lt;E,T&gt; mapEntry : map.entrySet())\r\n    \t\t\t{\r\n    \t\t\t\ttemp[index++] = mapEntry.getKey();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tcatch (Exception e)\r\n    \t\t{\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\treturn temp;\r\n    \t}\r\n    //--------------------------------------------------------\r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \tpublic static &lt;E,T&gt; T[] hashMapValuesToArray(HashMap&lt;E,T&gt; map)\r\n    \t{\r\n    \t\tint s;\r\n    \t\tif(map == null || (s = map.size())&lt;1)\r\n    \t\t\treturn null;\r\n    \r\n    \t\tT[] temp;\r\n    \t\tT typeHelper;\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tIterator&lt;Entry&lt;E, T&gt;&gt; iterator = map.entrySet().iterator();\r\n    \t\t\tEntry&lt;E, T&gt; iK = iterator.next();\r\n    \t\t\ttypeHelper = iK.getValue();\r\n    \r\n    \t\t\tObject o = Array.newInstance(typeHelper.getClass(), s);\r\n    \t\t\ttemp = (T[]) o;\r\n    \r\n    \t\t\tint index = 0;\r\n    \t\t\tfor (Map.Entry&lt;E,T&gt; mapEntry : map.entrySet())\r\n    \t\t\t{\r\n    \t\t\t\ttemp[index++] = mapEntry.getValue();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tcatch (Exception e)\r\n    \t\t{return null;}\r\n\r\n    \t\treturn temp;\r\n    \t}","title":"Java: how to convert HashMap&lt;String, Object&gt; to array","body":"<pre><code>@SuppressWarnings(\"unchecked\")\n    public static &lt;E,T&gt; E[] hashMapKeysToArray(HashMap&lt;E,T&gt; map)\n    {\n        int s;\n        if(map == null || (s = map.size())&lt;1)\n            return null;\n\n        E[] temp;\n        E typeHelper;\n        try\n        {\n            Iterator&lt;Entry&lt;E, T&gt;&gt; iterator = map.entrySet().iterator();\n            Entry&lt;E, T&gt; iK = iterator.next();\n            typeHelper = iK.getKey();\n\n            Object o = Array.newInstance(typeHelper.getClass(), s);\n            temp = (E[]) o;\n\n            int index = 0;\n            for (Map.Entry&lt;E,T&gt; mapEntry : map.entrySet())\n            {\n                temp[index++] = mapEntry.getKey();\n            }\n        }\n        catch (Exception e)\n        {\n            return null;\n        }\n        return temp;\n    }\n//--------------------------------------------------------\n    @SuppressWarnings(\"unchecked\")\n    public static &lt;E,T&gt; T[] hashMapValuesToArray(HashMap&lt;E,T&gt; map)\n    {\n        int s;\n        if(map == null || (s = map.size())&lt;1)\n            return null;\n\n        T[] temp;\n        T typeHelper;\n        try\n        {\n            Iterator&lt;Entry&lt;E, T&gt;&gt; iterator = map.entrySet().iterator();\n            Entry&lt;E, T&gt; iK = iterator.next();\n            typeHelper = iK.getValue();\n\n            Object o = Array.newInstance(typeHelper.getClass(), s);\n            temp = (T[]) o;\n\n            int index = 0;\n            for (Map.Entry&lt;E,T&gt; mapEntry : map.entrySet())\n            {\n                temp[index++] = mapEntry.getValue();\n            }\n        }\n        catch (Exception e)\n        {return null;}\n\n        return temp;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5539205,"reputation":363,"user_id":4396444,"display_name":"Roman Irtov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523554232,"creation_date":1523554232,"answer_id":49802708,"question_id":1090556,"body_markdown":"\r\n    HashMap&lt;String, String&gt; hashMap = new HashMap&lt;&gt;();\r\n    String[] stringValues= new String[hashMap.values().size()];\r\n    hashMap.values().toArray(stringValues);\r\n      ","title":"Java: how to convert HashMap&lt;String, Object&gt; to array","body":"<pre><code>HashMap&lt;String, String&gt; hashMap = new HashMap&lt;&gt;();\nString[] stringValues= new String[hashMap.values().size()];\nhashMap.values().toArray(stringValues);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4676843,"reputation":1007,"user_id":3786869,"display_name":"Graham Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1558996202,"creation_date":1558996202,"answer_id":56333062,"question_id":1090556,"body_markdown":"If you are using Java 8+ and need a 2 dimensional `Array`, perhaps for TestNG data providers, you can try:\r\n\r\n&lt;!-- lang:java --&gt;\r\n\r\n    map.entrySet()\r\n        .stream()\r\n        .map(e -&gt; new Object[]{e.getKey(), e.getValue()})\r\n        .toArray(Object[][]::new);\r\n\r\nIf your `Object`s are `String`s and you need a `String[][]`, try:\r\n\r\n    map.entrySet()\r\n        .stream()\r\n        .map(e -&gt; new String[]{e.getKey(), e.getValue().toString()})\r\n        .toArray(String[][]::new);","title":"Java: how to convert HashMap&lt;String, Object&gt; to array","body":"<p>If you are using Java 8+ and need a 2 dimensional <code>Array</code>, perhaps for TestNG data providers, you can try:</p>\n\n\n\n<pre><code>map.entrySet()\n    .stream()\n    .map(e -&gt; new Object[]{e.getKey(), e.getValue()})\n    .toArray(Object[][]::new);\n</code></pre>\n\n<p>If your <code>Object</code>s are <code>String</code>s and you need a <code>String[][]</code>, try:</p>\n\n<pre><code>map.entrySet()\n    .stream()\n    .map(e -&gt; new String[]{e.getKey(), e.getValue().toString()})\n    .toArray(String[][]::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17647174,"reputation":1,"user_id":12808361,"display_name":" "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617978220,"creation_date":1617975921,"answer_id":67022285,"question_id":1090556,"body_markdown":"if you need to pass values to an array of objects try:\r\n                \r\n    Array:\r\n    Object[] object= hashMap.values().toArray(new Object[0]);\r\n\r\n    Arraylist:\r\n    ArrayList&lt;Object&gt; object=new ArrayList&lt;&gt;(hashMap.values());\r\n","title":"Java: how to convert HashMap&lt;String, Object&gt; to array","body":"<p>if you need to pass values to an array of objects try:</p>\n<pre><code>Array:\nObject[] object= hashMap.values().toArray(new Object[0]);\n\nArraylist:\nArrayList&lt;Object&gt; object=new ArrayList&lt;&gt;(hashMap.values());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9061941,"reputation":156,"user_id":6748219,"display_name":"Thierry Marchand"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1619013066,"creation_date":1619013066,"answer_id":67197257,"question_id":1090556,"body_markdown":"In the case keys and values are strings and you want to alternate key and value in the same array:\r\n\r\n&lt;!-- lang:java --&gt;\r\n\r\n    String[] result = myMap.entrySet()\r\n                           .stream()\r\n                           .flatMap(entry -&gt; Stream.of(entry.getKey(),entry.getValue()))\r\n                           .toArray(String[]::new);\r\n    // result = {key_1, value_1, key_2, value_2 ...}\r\n    \r\n","title":"Java: how to convert HashMap&lt;String, Object&gt; to array","body":"<p>In the case keys and values are strings and you want to alternate key and value in the same array:</p>\n\n<pre><code>String[] result = myMap.entrySet()\n                       .stream()\n                       .flatMap(entry -&gt; Stream.of(entry.getKey(),entry.getValue()))\n                       .toArray(String[]::new);\n// result = {key_1, value_1, key_2, value_2 ...}\n</code></pre>\n"}],"owner":{"account_id":31021,"reputation":57580,"user_id":84916,"accept_rate":83,"display_name":"burntsugar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":358458,"favorite_count":0,"down_vote_count":3,"up_vote_count":140,"accepted_answer_id":1090564,"answer_count":14,"score":137,"last_activity_date":1675095929,"creation_date":1246945412,"question_id":1090556,"body_markdown":"I need to convert a `HashMap&lt;String, Object&gt;` to an array; could anyone show me how it&#39;s done?","title":"Java: how to convert HashMap&lt;String, Object&gt; to array","body":"<p>I need to convert a <code>HashMap&lt;String, Object&gt;</code> to an array; could anyone show me how it's done?</p>\n"},{"tags":["java","tomcat","memory-leaks"],"comments":[{"owner":{"account_id":8552992,"reputation":37,"user_id":6409401,"display_name":"Sharan"},"score":0,"creation_date":1477485565,"post_id":40257193,"comment_id":67785408,"body_markdown":"The classloader/component &quot;org.apache.catalina.loader.WebappClassLoader @ 0xc3daba00&quot; occupies 14,467,560 (15.32%) bytes. The memory is accumulated in one instance of &quot;java.util.HashMap$Entry[]&quot; loaded by &quot;&lt;system class loader&gt;&quot;.\n\nKeywords\njava.util.HashMap$Entry[]\norg.apache.catalina.loader.WebappClassLoader @ 0xc3daba00","body":"The classloader/component &quot;org.apache.catalina.loader.WebappClassLoader @ 0xc3daba00&quot; occupies 14,467,560 (15.32%) bytes. The memory is accumulated in one instance of &quot;java.util.HashMap$Entry[]&quot; loaded by &quot;&lt;system class loader&gt;&quot;.  Keywords java.util.HashMap$Entry[] org.apache.catalina.loader.WebappClassLoader @ 0xc3daba00"},{"owner":{"account_id":8552992,"reputation":37,"user_id":6409401,"display_name":"Sharan"},"score":0,"creation_date":1477485803,"post_id":40257193,"comment_id":67785565,"body_markdown":"I found above things in MAT Analyzer. Most of the leaks are due to hashmap entry and org.springframework.beans.CachedIntrospectionResults. Can any one help me to solve this memory leak. Unnecessary memory leaks are causing rather than my application classes and objects.I am trying to resolve this since 2 weeks but unable to find any solution.","body":"I found above things in MAT Analyzer. Most of the leaks are due to hashmap entry and org.springframework.beans.CachedIntrospectionResults. Can any one help me to solve this memory leak. Unnecessary memory leaks are causing rather than my application classes and objects.I am trying to resolve this since 2 weeks but unable to find any solution."},{"owner":{"account_id":3241537,"reputation":1471,"user_id":2734445,"accept_rate":75,"display_name":"Senthil Arumugam SP"},"score":0,"creation_date":1592578202,"post_id":40257193,"comment_id":110484245,"body_markdown":"I m facing the same issue. Did anyone find the cause?","body":"I m facing the same issue. Did anyone find the cause?"}],"answers":[{"tags":[],"owner":{"account_id":2714498,"reputation":1,"user_id":2342166,"display_name":"waveopera"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498661957,"creation_date":1498661957,"answer_id":44806132,"question_id":40257193,"body_markdown":"Have you resolve this problem now? \r\nI think you can try to find usage of &quot;org.springframework.beans.CachedIntrospectionResults&quot;, maybe you will find some causes.","title":"memory leaks caused by assertionLock org.apache.catalina.loader.WebappClassLoader","body":"<p>Have you resolve this problem now? \nI think you can try to find usage of \"org.springframework.beans.CachedIntrospectionResults\", maybe you will find some causes.</p>\n"},{"tags":[],"owner":{"account_id":157470,"reputation":1518,"user_id":375449,"display_name":"dmatej"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675095861,"creation_date":1675095861,"answer_id":75287251,"question_id":40257193,"body_markdown":"It is not always a leak. The *reserved memory* shows a memory size which could be garbage collected if the `WebAppClassLoader` would not reference them. The `WebAppClassLoader` has a lifecycle bound to the webapp, and will be stopped/closed when the application stops. Until that it remembers all classes it loaded. The reserved memory then shows how much memory is allocated by objects which are linked to it somehow.\r\n\r\nIt can be used to access these classes ie. in VisualVM to look which really takes some significiant amount of memory. In my case it was a huge static ConcurrentHashMap used as a cache.","title":"memory leaks caused by assertionLock org.apache.catalina.loader.WebappClassLoader","body":"<p>It is not always a leak. The <em>reserved memory</em> shows a memory size which could be garbage collected if the <code>WebAppClassLoader</code> would not reference them. The <code>WebAppClassLoader</code> has a lifecycle bound to the webapp, and will be stopped/closed when the application stops. Until that it remembers all classes it loaded. The reserved memory then shows how much memory is allocated by objects which are linked to it somehow.</p>\n<p>It can be used to access these classes ie. in VisualVM to look which really takes some significiant amount of memory. In my case it was a huge static ConcurrentHashMap used as a cache.</p>\n"}],"owner":{"account_id":8552992,"reputation":37,"user_id":6409401,"display_name":"Sharan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1761,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1675095861,"creation_date":1477470250,"question_id":40257193,"body_markdown":"In MAT analyzer tool I am finding memory leaks caused by assertionLock `org.apache.catalina.loader.WebappClassLoader`. Can anyone help me regarding avoiding memory leak by that class?","title":"memory leaks caused by assertionLock org.apache.catalina.loader.WebappClassLoader","body":"<p>In MAT analyzer tool I am finding memory leaks caused by assertionLock <code>org.apache.catalina.loader.WebappClassLoader</code>. Can anyone help me regarding avoiding memory leak by that class?</p>\n"},{"tags":["java","maven","java-17"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675089868,"post_id":75285758,"comment_id":132847821,"body_markdown":"If you look at [Start.java:781](https://github.com/openjdk/jdk/blob/jdk-17+35/src/jdk.javadoc/share/classes/jdk/javadoc/internal/tool/Start.java#L781), you can see it&#39;s trying to load a class by name. So for some reason, the `doclet` config param looks like it&#39;s not being applied. I tried to trace it back, but it was a little complicated. I would run in debug and step through. Ultimately, all the config looks like it comes from here [Main.java:52](https://github.com/openjdk/jdk/blob/jdk-17%2B35/src/jdk.javadoc/share/classes/jdk/javadoc/internal/tool/Main.java#L51), which is just a String[]","body":"If you look at <a href=\"https://github.com/openjdk/jdk/blob/jdk-17+35/src/jdk.javadoc/share/classes/jdk/javadoc/internal/tool/Start.java#L781\" rel=\"nofollow noreferrer\">Start.java:781</a>, you can see it&#39;s trying to load a class by name. So for some reason, the <code>doclet</code> config param looks like it&#39;s not being applied. I tried to trace it back, but it was a little complicated. I would run in debug and step through. Ultimately, all the config looks like it comes from here <a href=\"https://github.com/openjdk/jdk/blob/jdk-17%2B35/src/jdk.javadoc/share/classes/jdk/javadoc/internal/tool/Main.java#L51\" rel=\"nofollow noreferrer\">Main.java:52</a>, which is just a String[]"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675090546,"post_id":75285758,"comment_id":132848097,"body_markdown":"Never seen this notation: &quot;*@options @packages*&quot;. Does it mean those are *literally* the arguments? If so, all your config is being lost. Or maybe those are some kind of shorthand in place of the actual arguments. Not sure","body":"Never seen this notation: &quot;<i>@options @packages</i>&quot;. Does it mean those are <i>literally</i> the arguments? If so, all your config is being lost. Or maybe those are some kind of shorthand in place of the actual arguments. Not sure"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1675091509,"post_id":75285758,"comment_id":132848425,"body_markdown":"Do you use the latest version of the javadoc plug-in?","body":"Do you use the latest version of the javadoc plug-in?"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675091832,"post_id":75285758,"comment_id":132848535,"body_markdown":"@Thorbj&#248;rnRavnAndersen It&#39;s in the question. &lt;version&gt;3.4.0&lt;/version&gt;","body":"@Thorbj&#248;rnRavnAndersen It&#39;s in the question. &lt;version&gt;3.4.0&lt;/version&gt;"},{"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"score":0,"creation_date":1675093996,"post_id":75285758,"comment_id":132849264,"body_markdown":"I would expect the following file: `target/apidocs/@options` which should tell which jars are used for doclets. It seems like one of those jars needs this class.","body":"I would expect the following file: <code>target&#47;apidocs&#47;@options</code> which should tell which jars are used for doclets. It seems like one of those jars needs this class."},{"owner":{"account_id":7750108,"reputation":1287,"user_id":5866297,"accept_rate":25,"display_name":"Coding_Rabbit"},"score":0,"creation_date":1675095557,"post_id":75285758,"comment_id":132849808,"body_markdown":"For Java 9+ support, use `spring-auto-restdocs-json-doclet-jdk9` as doclet dependency.","body":"For Java 9+ support, use <code>spring-auto-restdocs-json-doclet-jdk9</code> as doclet dependency."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1675121936,"post_id":75285758,"comment_id":132857134,"body_markdown":"@Michael Latest version is 3.4.1 according to https://maven.apache.org/plugins/maven-javadoc-plugin/usage.html","body":"@Michael Latest version is 3.4.1 according to <a href=\"https://maven.apache.org/plugins/maven-javadoc-plugin/usage.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-javadoc-plugin/usage.html</a>"},{"owner":{"account_id":7750108,"reputation":1287,"user_id":5866297,"accept_rate":25,"display_name":"Coding_Rabbit"},"score":0,"creation_date":1675162239,"post_id":75285758,"comment_id":132864622,"body_markdown":"@Thorbj&#248;rnRavnAndersen. The root cause of the issue is the doclet dependency, both 3.4.0 and 3.4.1 can work without any issues after I switched to the `spring-auto-restdocs-json-doclet-jdk9`.","body":"@Thorbj&#248;rnRavnAndersen. The root cause of the issue is the doclet dependency, both 3.4.0 and 3.4.1 can work without any issues after I switched to the <code>spring-auto-restdocs-json-doclet-jdk9</code>."}],"answers":[{"tags":[],"owner":{"account_id":7750108,"reputation":1287,"user_id":5866297,"accept_rate":25,"display_name":"Coding_Rabbit"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675095517,"creation_date":1675095517,"answer_id":75287189,"question_id":75285758,"body_markdown":"For Java 9+ support, use `spring-auto-restdocs-json-doclet-jdk9` as doclet dependency.\r\n\r\nThe implementation of `ExtractDocumentationAsJsonDoclet` extends from the deprecated class `Standard `, which was removed in JDK 17. ","title":"JDK 17 maven clean install failed due to Java doclet","body":"<p>For Java 9+ support, use <code>spring-auto-restdocs-json-doclet-jdk9</code> as doclet dependency.</p>\n<p>The implementation of <code>ExtractDocumentationAsJsonDoclet</code> extends from the deprecated class <code>Standard </code>, which was removed in JDK 17.</p>\n"}],"owner":{"account_id":7750108,"reputation":1287,"user_id":5866297,"accept_rate":25,"display_name":"Coding_Rabbit"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675095517,"creation_date":1675088574,"question_id":75285758,"body_markdown":"I just updated my laptop&#39;s Java version to 17 and updated the maven POM file accordingly. However, I keep getting the following error when I ran `mvn clean install`: \r\n\r\n    Exit code: 1 - Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/sun/tools/doclets/standard/Standard\r\n    \tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\r\n    \tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n    \tat java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:524)\r\n    \tat java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:427)\r\n    \tat java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:421)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\r\n    \tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:420)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \tat jdk.javadoc/jdk.javadoc.internal.tool.Start.loadDocletClass(Start.java:781)\r\n    \tat jdk.javadoc/jdk.javadoc.internal.tool.Start.preprocess(Start.java:752)\r\n    \tat jdk.javadoc/jdk.javadoc.internal.tool.Start.begin(Start.java:371)\r\n    \tat jdk.javadoc/jdk.javadoc.internal.tool.Start.begin(Start.java:342)\r\n    \tat jdk.javadoc/jdk.javadoc.internal.tool.Main.execute(Main.java:63)\r\n    \tat jdk.javadoc/jdk.javadoc.internal.tool.Main.main(Main.java:52)\r\n    Caused by: java.lang.ClassNotFoundException: com.sun.tools.doclets.standard.Standard\r\n    \tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t... 16 more\r\n    \r\n    Command line was: /Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home/bin/javadoc @options @packages\r\n\r\nThis is the configuration I used for the `maven-javadoc-plugin`:\r\n\r\n                 &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.4.0&lt;/version&gt;\r\n                    &lt;extensions&gt;true&lt;/extensions&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;generate-javadoc-json&lt;/id&gt;\r\n                            &lt;phase&gt;compile&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;javadoc-no-fork&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;doclet&gt;capital.scalable.restdocs.jsondoclet.ExtractDocumentationAsJsonDoclet&lt;/doclet&gt;\r\n                        &lt;docletArtifact&gt;\r\n                            &lt;groupId&gt;capital.scalable&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;spring-auto-restdocs-json-doclet-jdk9&lt;/artifactId&gt;\r\n                            &lt;version&gt;2.0.11&lt;/version&gt;\r\n                        &lt;/docletArtifact&gt;\r\n                        &lt;destDir&gt;generated-javadoc-json&lt;/destDir&gt;\r\n                        &lt;reportOutputDirectory&gt;${basedir}${docDirectory}/report&lt;/reportOutputDirectory&gt;\r\n                        &lt;useStandardDocletOptions&gt;false&lt;/useStandardDocletOptions&gt;\r\n                        &lt;show&gt;package&lt;/show&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n\r\nDoes anyone know why it keeps trying to find the `com.sun.tools.doclets.standard.Standard` even though I&#39;ve specified another doclet to be used?","title":"JDK 17 maven clean install failed due to Java doclet","body":"<p>I just updated my laptop's Java version to 17 and updated the maven POM file accordingly. However, I keep getting the following error when I ran <code>mvn clean install</code>:</p>\n<pre><code>Exit code: 1 - Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/sun/tools/doclets/standard/Standard\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\n    at java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:524)\n    at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:427)\n    at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:421)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:420)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at jdk.javadoc/jdk.javadoc.internal.tool.Start.loadDocletClass(Start.java:781)\n    at jdk.javadoc/jdk.javadoc.internal.tool.Start.preprocess(Start.java:752)\n    at jdk.javadoc/jdk.javadoc.internal.tool.Start.begin(Start.java:371)\n    at jdk.javadoc/jdk.javadoc.internal.tool.Start.begin(Start.java:342)\n    at jdk.javadoc/jdk.javadoc.internal.tool.Main.execute(Main.java:63)\n    at jdk.javadoc/jdk.javadoc.internal.tool.Main.main(Main.java:52)\nCaused by: java.lang.ClassNotFoundException: com.sun.tools.doclets.standard.Standard\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 16 more\n\nCommand line was: /Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home/bin/javadoc @options @packages\n</code></pre>\n<p>This is the configuration I used for the <code>maven-javadoc-plugin</code>:</p>\n<pre><code>             &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.4.0&lt;/version&gt;\n                &lt;extensions&gt;true&lt;/extensions&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generate-javadoc-json&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;javadoc-no-fork&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;doclet&gt;capital.scalable.restdocs.jsondoclet.ExtractDocumentationAsJsonDoclet&lt;/doclet&gt;\n                    &lt;docletArtifact&gt;\n                        &lt;groupId&gt;capital.scalable&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-auto-restdocs-json-doclet-jdk9&lt;/artifactId&gt;\n                        &lt;version&gt;2.0.11&lt;/version&gt;\n                    &lt;/docletArtifact&gt;\n                    &lt;destDir&gt;generated-javadoc-json&lt;/destDir&gt;\n                    &lt;reportOutputDirectory&gt;${basedir}${docDirectory}/report&lt;/reportOutputDirectory&gt;\n                    &lt;useStandardDocletOptions&gt;false&lt;/useStandardDocletOptions&gt;\n                    &lt;show&gt;package&lt;/show&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>Does anyone know why it keeps trying to find the <code>com.sun.tools.doclets.standard.Standard</code> even though I've specified another doclet to be used?</p>\n"},{"tags":["java","null"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1582117833,"post_id":60301088,"comment_id":106665825,"body_markdown":"Eclipse is having an internal error, so maybe try reinstalling it.","body":"Eclipse is having an internal error, so maybe try reinstalling it."},{"owner":{"account_id":17417598,"reputation":31,"user_id":12623710,"display_name":"Clarissa Thomas"},"score":0,"creation_date":1582118109,"post_id":60301088,"comment_id":106665976,"body_markdown":"Thank you @ak47 for editing my post, i really dont know how to reply or edit to my own post. :P","body":"Thank you @ak47 for editing my post, i really dont know how to reply or edit to my own post. :P"},{"owner":{"account_id":6291890,"reputation":9545,"user_id":4889267,"accept_rate":100,"display_name":"Alan Kavanagh"},"score":0,"creation_date":1582119057,"post_id":60301088,"comment_id":106666515,"body_markdown":"Just as an FYI -- You shouldn&#39;t really include screenshots in your question -- atleast not for the code snippets -- the ones displaying the eclipse exceptions are fine","body":"Just as an FYI -- You shouldn&#39;t really include screenshots in your question -- atleast not for the code snippets -- the ones displaying the eclipse exceptions are fine"}],"answers":[{"tags":[],"owner":{"account_id":12239080,"reputation":189,"user_id":8932643,"display_name":"Quadrivics"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582118622,"creation_date":1582118622,"answer_id":60301398,"question_id":60301088,"body_markdown":"Try to reinstall Eclipse. If that does not help try to see if your java is installed correctly. Go to command prompt and navigate to the project rootfolder.\r\nThen do the following (trying to compile the program):\r\n\r\n`javac Palindrome.java` or `javac Palindrome2.java`\r\n\r\nWhen this does work try to run the programs with either:\r\n\r\n`java MyFirstJavaProgram`\r\nor\r\n`java MyFirstJavaProgram2`\r\nto try and run the program you just compiled. Then you can check if the fault is in your java installation or if it is in Eclipse.","title":"Getting null argument when I run any program in eclipse","body":"<p>Try to reinstall Eclipse. If that does not help try to see if your java is installed correctly. Go to command prompt and navigate to the project rootfolder.\nThen do the following (trying to compile the program):</p>\n\n<p><code>javac Palindrome.java</code> or <code>javac Palindrome2.java</code></p>\n\n<p>When this does work try to run the programs with either:</p>\n\n<p><code>java MyFirstJavaProgram</code>\nor\n<code>java MyFirstJavaProgram2</code>\nto try and run the program you just compiled. Then you can check if the fault is in your java installation or if it is in Eclipse.</p>\n"},{"tags":[],"owner":{"account_id":3371479,"reputation":53,"user_id":2830588,"accept_rate":86,"display_name":"Raziel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675095392,"creation_date":1675095392,"answer_id":75287158,"question_id":60301088,"body_markdown":"I had the same error and after many checks i found the root cause: it was the JDK that i had imported/selected into Eclipse that was corrupted. Replaced the JDK with a fresh copy downloaded from Oracle and installed, the issue has been resolved.","title":"Getting null argument when I run any program in eclipse","body":"<p>I had the same error and after many checks i found the root cause: it was the JDK that i had imported/selected into Eclipse that was corrupted. Replaced the JDK with a fresh copy downloaded from Oracle and installed, the issue has been resolved.</p>\n"}],"owner":{"account_id":17417598,"reputation":31,"user_id":12623710,"display_name":"Clarissa Thomas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":900,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":2,"score":1,"last_activity_date":1675095392,"creation_date":1582117647,"question_id":60301088,"body_markdown":"I tried execution in eclipse with two different palindrome programs in java. But when i click Run As Java Application all i get is the below error.\r\nI am getting a different error when i run the same program in command prompt as well\r\n\r\n![enter image description here][1]\r\n![enter image description here][2]\r\n![enter image description here][3]\r\n![enter image description here][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RMOfr.png\r\n  [2]: https://i.stack.imgur.com/fG5ck.png\r\n  [3]: https://i.stack.imgur.com/JHvXo.png\r\n  [4]: https://i.stack.imgur.com/Vdpsu.png","title":"Getting null argument when I run any program in eclipse","body":"<p>I tried execution in eclipse with two different palindrome programs in java. But when i click Run As Java Application all i get is the below error.\nI am getting a different error when i run the same program in command prompt as well</p>\n\n<p><img src=\"https://i.stack.imgur.com/RMOfr.png\" alt=\"enter image description here\">\n<img src=\"https://i.stack.imgur.com/fG5ck.png\" alt=\"enter image description here\">\n<img src=\"https://i.stack.imgur.com/JHvXo.png\" alt=\"enter image description here\">\n<img src=\"https://i.stack.imgur.com/Vdpsu.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","telosys"],"answers":[{"comments":[{"owner":{"account_id":901873,"reputation":851,"user_id":937808,"accept_rate":33,"display_name":"Michael Ressler"},"score":0,"creation_date":1675346531,"post_id":75287111,"comment_id":132912413,"body_markdown":"Thanks for the pointer! Is there a repo for the documentation? This information really needs to live with the annotation.","body":"Thanks for the pointer! Is there a repo for the documentation? This information really needs to live with the annotation."}],"tags":[],"owner":{"account_id":2360942,"reputation":2352,"user_id":2067631,"display_name":"lgu"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675095067,"creation_date":1675095067,"answer_id":75287111,"question_id":75262713,"body_markdown":"The &quot;@Package&quot; annotation is provided for certain special cases, for example for languages or modeling tools in which the name of the &quot;package&quot; does not necessarily depend on the directory in which the source files are located.  \r\n\r\nThis annotation is useless if you are in a context of Java code generation (nothing to do with &quot;Java packages&quot;)","title":"Telosys - Intended Usage of @Package Annotation","body":"<p>The &quot;@Package&quot; annotation is provided for certain special cases, for example for languages or modeling tools in which the name of the &quot;package&quot; does not necessarily depend on the directory in which the source files are located.</p>\n<p>This annotation is useless if you are in a context of Java code generation (nothing to do with &quot;Java packages&quot;)</p>\n"}],"owner":{"account_id":901873,"reputation":851,"user_id":937808,"accept_rate":33,"display_name":"Michael Ressler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75287111,"answer_count":1,"score":0,"last_activity_date":1675095067,"creation_date":1674848813,"question_id":75262713,"body_markdown":"[The documentation][1] for @Package simply states that a user can specify the package the entity belongs to. I do not see any usage of this annotation in the examples provided for Java classes. I have taken to using the following syntax for package declarations:\r\n\r\n`package ${target.javaPackageFromFolder(${SRC})}.$entity.package;`\r\n\r\nHowever, that doesn&#39;t place the object in the right directory as my `templates.cfg` doesn&#39;t know about this `$entity.package` attribute.\r\n\r\nWhen I specify:\r\n\r\n`${SRC}/${ROOT_PKG}/model/${entity.package}` for the project folder in the `templates.cfg`, my output directory resolves to:\r\n\r\n`[INFO] OK :  src/main/java/com/mycompany/model/${entity.package}/EntityName.java`\r\n\r\nWhat is the intended use of this annotation? Can someone point me in the right direction?\r\n\r\n\r\n  [1]: https://doc.telosys.org/dsl-model/annotations#package-string","title":"Telosys - Intended Usage of @Package Annotation","body":"<p><a href=\"https://doc.telosys.org/dsl-model/annotations#package-string\" rel=\"nofollow noreferrer\">The documentation</a> for @Package simply states that a user can specify the package the entity belongs to. I do not see any usage of this annotation in the examples provided for Java classes. I have taken to using the following syntax for package declarations:</p>\n<p><code>package ${target.javaPackageFromFolder(${SRC})}.$entity.package;</code></p>\n<p>However, that doesn't place the object in the right directory as my <code>templates.cfg</code> doesn't know about this <code>$entity.package</code> attribute.</p>\n<p>When I specify:</p>\n<p><code>${SRC}/${ROOT_PKG}/model/${entity.package}</code> for the project folder in the <code>templates.cfg</code>, my output directory resolves to:</p>\n<p><code>[INFO] OK :  src/main/java/com/mycompany/model/${entity.package}/EntityName.java</code></p>\n<p>What is the intended use of this annotation? Can someone point me in the right direction?</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud-gateway"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1670226191,"post_id":74684786,"comment_id":131818009,"body_markdown":"by making sure that that class can be autowired (is it component/service/...) and that it&#39;s on the path at compile- and runtime","body":"by making sure that that class can be autowired (is it component/service/...) and that it&#39;s on the path at compile- and runtime"},{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1670226223,"post_id":74684786,"comment_id":131818020,"body_markdown":"My full source code https://github.com/donhuvy/micro-service-usecase/blob/777d068ae198b9f4507cc4d2b1594622829d4b92/gateway/src/main/java/org/sid/gateway/GatewayApplication.java#L27 @Stultuske please specific and more detail.","body":"My full source code <a href=\"https://github.com/donhuvy/micro-service-usecase/blob/777d068ae198b9f4507cc4d2b1594622829d4b92/gateway/src/main/java/org/sid/gateway/GatewayApplication.java#L27\" rel=\"nofollow noreferrer\">github.com/donhuvy/micro-service-usecase/blob/&hellip;</a> @Stultuske please specific and more detail."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1670226677,"post_id":74684786,"comment_id":131818140,"body_markdown":"the implementations (I know of) of that interface are in spring-cloud-commons. Try adding a dependency tot that: https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-commons/3.1.5","body":"the implementations (I know of) of that interface are in spring-cloud-commons. Try adding a dependency tot that: <a href=\"https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-commons/3.1.5\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.springframework.cloud/&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1670233588,"post_id":74684786,"comment_id":131820374,"body_markdown":"You are using Spring Cloud, Spring Cloud is tied to certain versions of Spring Boot. You are using incmopatible versions. For Spring Boot you need 2022.0.x (release train) anything else is for Spring Boot 2.x releases.","body":"You are using Spring Cloud, Spring Cloud is tied to certain versions of Spring Boot. You are using incmopatible versions. For Spring Boot you need 2022.0.x (release train) anything else is for Spring Boot 2.x releases."},{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1670233718,"post_id":74684786,"comment_id":131820425,"body_markdown":"Are you sure `2022.x` , I think latest version of Spring Cloud is still `2021.x` ?","body":"Are you sure <code>2022.x</code> , I think latest version of Spring Cloud is still <code>2021.x</code> ?"},{"owner":{"account_id":2981539,"reputation":3702,"user_id":2531402,"accept_rate":25,"display_name":"OlgaMaciaszek"},"score":1,"creation_date":1670350794,"post_id":74684786,"comment_id":131854902,"body_markdown":"`2022.x` is the one compatible with Boot 3.0.0. However, it&#39;s not GA yet. The release is planned for mid-December; if you&#39;re using Spring Cloud in your apps, we suggest you wait till then with doing the switch to Boot 3.","body":"<code>2022.x</code> is the one compatible with Boot 3.0.0. However, it&#39;s not GA yet. The release is planned for mid-December; if you&#39;re using Spring Cloud in your apps, we suggest you wait till then with doing the switch to Boot 3."}],"answers":[{"tags":[],"owner":{"account_id":27658777,"reputation":1,"user_id":21112082,"display_name":"user21112082"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675095028,"creation_date":1675094939,"answer_id":75287093,"question_id":74684786,"body_markdown":"add this to your application properties\r\n\r\n    spring.cloud.discovery.enabled=true\r\n","title":"required a bean of type &#39;org.springframework.cloud.client.discovery.ReactiveDiscoveryClient&#39; that could not be found","body":"<p>add this to your application properties</p>\n<pre><code>spring.cloud.discovery.enabled=true\n</code></pre>\n"}],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675095028,"creation_date":1670226119,"question_id":74684786,"body_markdown":"I am upgrading to Spring Boot 3.0.0 . I catch error.\r\n\r\nFile `GatewayApplication.java`\r\n\r\n```java\r\npackage org.sid.gateway;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.cloud.client.discovery.ReactiveDiscoveryClient;\r\nimport org.springframework.cloud.gateway.discovery.DiscoveryClientRouteDefinitionLocator;\r\nimport org.springframework.cloud.gateway.discovery.DiscoveryLocatorProperties;\r\nimport org.springframework.cloud.gateway.route.RouteLocator;\r\nimport org.springframework.cloud.gateway.route.builder.RouteLocatorBuilder;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\n@SpringBootApplication\r\npublic class GatewayApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(GatewayApplication.class, args);\r\n    }\r\n\r\n    public RouteLocator routes(RouteLocatorBuilder builder) {\r\n        return builder.routes()\r\n                .route(r -&gt; r.path(&quot;/customers/**&quot;).uri(&quot;lb://CUSTOMER-SERVICE&quot;))\r\n                .route(r -&gt; r.path(&quot;/products/**&quot;).uri(&quot;lb://INVENTORY-SERVICE&quot;))\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public DiscoveryClientRouteDefinitionLocator dynamicRoutes(ReactiveDiscoveryClient rdc, DiscoveryLocatorProperties dlp) {\r\n        return new DiscoveryClientRouteDefinitionLocator(rdc, dlp);\r\n    }\r\n\r\n}\r\n```\r\n\r\n```java\r\nParameter 0 of method dynamicRoutes in org.sid.gateway.GatewayApplication required a bean of type &#39;org.springframework.cloud.client.discovery.ReactiveDiscoveryClient&#39; that could not be found.\r\n```\r\n\r\nHow to fix it?","title":"required a bean of type &#39;org.springframework.cloud.client.discovery.ReactiveDiscoveryClient&#39; that could not be found","body":"<p>I am upgrading to Spring Boot 3.0.0 . I catch error.</p>\n<p>File <code>GatewayApplication.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.sid.gateway;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.client.discovery.ReactiveDiscoveryClient;\nimport org.springframework.cloud.gateway.discovery.DiscoveryClientRouteDefinitionLocator;\nimport org.springframework.cloud.gateway.discovery.DiscoveryLocatorProperties;\nimport org.springframework.cloud.gateway.route.RouteLocator;\nimport org.springframework.cloud.gateway.route.builder.RouteLocatorBuilder;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication\npublic class GatewayApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(GatewayApplication.class, args);\n    }\n\n    public RouteLocator routes(RouteLocatorBuilder builder) {\n        return builder.routes()\n                .route(r -&gt; r.path(&quot;/customers/**&quot;).uri(&quot;lb://CUSTOMER-SERVICE&quot;))\n                .route(r -&gt; r.path(&quot;/products/**&quot;).uri(&quot;lb://INVENTORY-SERVICE&quot;))\n                .build();\n    }\n\n    @Bean\n    public DiscoveryClientRouteDefinitionLocator dynamicRoutes(ReactiveDiscoveryClient rdc, DiscoveryLocatorProperties dlp) {\n        return new DiscoveryClientRouteDefinitionLocator(rdc, dlp);\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Parameter 0 of method dynamicRoutes in org.sid.gateway.GatewayApplication required a bean of type 'org.springframework.cloud.client.discovery.ReactiveDiscoveryClient' that could not be found.\n</code></pre>\n<p>How to fix it?</p>\n"},{"tags":["java","android","android-safe-args"],"owner":{"account_id":1615163,"reputation":29,"user_id":1493083,"display_name":"HalSoul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675094394,"creation_date":1675094394,"question_id":75286964,"body_markdown":"When syncing (&quot;Synk now&quot;) in my android JAVA project this error appers.\r\nI have the plugins and class paths that the documentation specifies. \r\nHave I missed something maybe?\r\nDoc ref: https://developer.android.com/guide/navigation/navigation-pass-data#Safe-args\r\n\r\n\r\nI cant really find anything regarding this on in a java project, only kotlin, so can&#39;t really apply those.\r\n\r\nThis is my buid.gradle\r\n\r\n```\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n    }\r\n    dependencies {\r\n        def nav_version = &quot;2.5.3&quot;\r\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\r\n    }\r\n}\r\n\r\nplugins {\r\n    id &#39;androidx.navigation.safeargs&#39;\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.fishiz&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.fishiz&quot;\r\n        minSdk 29\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n\r\n    repositories {\r\n        gradlePluginPortal()\r\n        google()\r\n    }\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n    implementation &#39;androidx.navigation:navigation-fragment:2.4.1&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui:2.4.1&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:2.5.3&quot;\r\n}\r\n```\r\n\r\nThis is the entire exception (long):\r\n\r\n```\r\nPlugin [id: &#39;androidx.navigation.safeargs&#39;] was not found in any of the following sources:\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.plugins.UnknownPluginException: Plugin [id: &#39;androidx.navigation.safeargs&#39;] was not found in any of the following sources:\r\n\r\n- Gradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\n- Plugin Repositories (plugin dependency must include a version number for this source)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.resolveToFoundResult(DefaultPluginRequestApplicator.java:238)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.lambda$resolvePluginRequests$3(DefaultPluginRequestApplicator.java:168)\r\n\tat org.gradle.util.internal.CollectionUtils.collect(CollectionUtils.java:207)\r\n\tat org.gradle.util.internal.CollectionUtils.collect(CollectionUtils.java:201)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.resolvePluginRequests(DefaultPluginRequestApplicator.java:166)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugins(DefaultPluginRequestApplicator.java:101)\r\n\tat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:117)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\r\n\tat org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:351)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:369)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:350)\r\n\tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\r\n\tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\r\n\tat org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:109)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:351)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$fromMutableState$1(DefaultProjectStateRegistry.java:374)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withReplacedLocks(DefaultWorkerLeaseService.java:345)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:374)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:350)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:100)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:72)\r\n\tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:761)\r\n\tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:152)\r\n\tat org.gradle.api.internal.project.ProjectLifecycleController.lambda$ensureSelfConfigured$1(ProjectLifecycleController.java:63)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:236)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:247)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:235)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$maybeTransitionIfNotCurrentlyTransitioning$9(StateTransitionController.java:196)\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\r\n\tat org.gradle.internal.model.StateTransitionController.maybeTransitionIfNotCurrentlyTransitioning(StateTransitionController.java:192)\r\n\tat org.gradle.api.internal.project.ProjectLifecycleController.ensureSelfConfigured(ProjectLifecycleController.java:63)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:325)\r\n\tat org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:33)\r\n\tat org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:49)\r\n\tat org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:50)\r\n\tat org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\r\n\tat org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\r\n\tat org.gradle.initialization.VintageBuildModelController.lambda$prepareProjects$3(VintageBuildModelController.java:89)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:236)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:247)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:235)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$transitionIfNotPreviously$10(StateTransitionController.java:210)\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\r\n\tat org.gradle.internal.model.StateTransitionController.transitionIfNotPreviously(StateTransitionController.java:206)\r\n\tat org.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:89)\r\n\tat org.gradle.initialization.VintageBuildModelController.getConfiguredModel(VintageBuildModelController.java:64)\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.lambda$withProjectsConfigured$1(DefaultBuildLifecycleController.java:114)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$notInState$3(StateTransitionController.java:143)\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n\tat org.gradle.internal.model.StateTransitionController.notInState(StateTransitionController.java:139)\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.withProjectsConfigured(DefaultBuildLifecycleController.java:114)\r\n\tat org.gradle.internal.build.DefaultBuildToolingModelController.locateBuilderForTarget(DefaultBuildToolingModelController.java:57)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.lambda$locateBuilderForTarget$0(DefaultBuildTreeModelCreator.java:73)\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.withToolingModels(DefaultBuildLifecycleController.java:174)\r\n\tat org.gradle.internal.build.AbstractBuildState.withToolingModels(AbstractBuildState.java:118)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForTarget(DefaultBuildTreeModelCreator.java:73)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForDefaultTarget(DefaultBuildTreeModelCreator.java:68)\r\n\tat org.gradle.tooling.internal.provider.runner.DefaultBuildController.getTarget(DefaultBuildController.java:157)\r\n\tat org.gradle.tooling.internal.provider.runner.DefaultBuildController.getModel(DefaultBuildController.java:101)\r\n\tat org.gradle.tooling.internal.consumer.connection.ParameterAwareBuildControllerAdapter.getModel(ParameterAwareBuildControllerAdapter.java:39)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.getModel(UnparameterizedBuildController.java:113)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.getModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:97)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:81)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:66)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:121)\r\n\tat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)\r\n\tat org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.runAction(AbstractClientProvidedBuildActionRunner.java:131)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.beforeTasks(AbstractClientProvidedBuildActionRunner.java:99)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator.beforeTasks(DefaultBuildTreeModelCreator.java:52)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$1(DefaultBuildTreeLifecycleController.java:75)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:106)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$transition$5(StateTransitionController.java:166)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:247)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$transition$6(StateTransitionController.java:166)\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n\tat org.gradle.internal.model.StateTransitionController.transition(StateTransitionController.java:166)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:103)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:74)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:43)\r\n\tat org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\r\n\tat org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:65)\r\n\tat org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:136)\r\n\tat org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\r\n\tat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\r\n\tat org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:122)\r\n\tat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\r\n\tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n\tat org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\r\n\tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\r\n\tat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:36)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\r\n\tat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:36)\r\n\tat org.gradle.tooling.internal.provider.continuous.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:110)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\r\n\tat org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\r\n\tat org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:52)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:40)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\r\n\tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n\tat org.gradle.util.internal.Swapper.swap(Swapper.java:38)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n\tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\r\n```\r\n\r\n","title":"Plugin [id: &#39;androidx.navigation.safeargs&#39;] was not found in any of the following sources","body":"<p>When syncing (&quot;Synk now&quot;) in my android JAVA project this error appers.\nI have the plugins and class paths that the documentation specifies.\nHave I missed something maybe?\nDoc ref: <a href=\"https://developer.android.com/guide/navigation/navigation-pass-data#Safe-args\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/navigation/navigation-pass-data#Safe-args</a></p>\n<p>I cant really find anything regarding this on in a java project, only kotlin, so can't really apply those.</p>\n<p>This is my buid.gradle</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n    }\n    dependencies {\n        def nav_version = &quot;2.5.3&quot;\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\n    }\n}\n\nplugins {\n    id 'androidx.navigation.safeargs'\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.example.fishiz'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.fishiz&quot;\n        minSdk 29\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    repositories {\n        gradlePluginPortal()\n        google()\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    buildFeatures {\n        viewBinding true\n    }\n}\n\ndependencies {\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    implementation 'androidx.navigation:navigation-fragment:2.4.1'\n    implementation 'androidx.navigation:navigation-ui:2.4.1'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:2.5.3&quot;\n}\n</code></pre>\n<p>This is the entire exception (long):</p>\n<pre><code>Plugin [id: 'androidx.navigation.safeargs'] was not found in any of the following sources:\n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.plugins.UnknownPluginException: Plugin [id: 'androidx.navigation.safeargs'] was not found in any of the following sources:\n\n- Gradle Core Plugins (plugin is not in 'org.gradle' namespace)\n- Plugin Repositories (plugin dependency must include a version number for this source)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.resolveToFoundResult(DefaultPluginRequestApplicator.java:238)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.lambda$resolvePluginRequests$3(DefaultPluginRequestApplicator.java:168)\n    at org.gradle.util.internal.CollectionUtils.collect(CollectionUtils.java:207)\n    at org.gradle.util.internal.CollectionUtils.collect(CollectionUtils.java:201)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.resolvePluginRequests(DefaultPluginRequestApplicator.java:166)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugins(DefaultPluginRequestApplicator.java:101)\n    at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:117)\n    at org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\n    at org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\n    at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:351)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:369)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:350)\n    at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\n    at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\n    at org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:109)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:351)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$fromMutableState$1(DefaultProjectStateRegistry.java:374)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withReplacedLocks(DefaultWorkerLeaseService.java:345)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:374)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:350)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:100)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:72)\n    at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:761)\n    at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:152)\n    at org.gradle.api.internal.project.ProjectLifecycleController.lambda$ensureSelfConfigured$1(ProjectLifecycleController.java:63)\n    at org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:236)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:247)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:235)\n    at org.gradle.internal.model.StateTransitionController.lambda$maybeTransitionIfNotCurrentlyTransitioning$9(StateTransitionController.java:196)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\n    at org.gradle.internal.model.StateTransitionController.maybeTransitionIfNotCurrentlyTransitioning(StateTransitionController.java:192)\n    at org.gradle.api.internal.project.ProjectLifecycleController.ensureSelfConfigured(ProjectLifecycleController.java:63)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:325)\n    at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:33)\n    at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:49)\n    at org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:50)\n    at org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\n    at org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\n    at org.gradle.initialization.VintageBuildModelController.lambda$prepareProjects$3(VintageBuildModelController.java:89)\n    at org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:236)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:247)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:235)\n    at org.gradle.internal.model.StateTransitionController.lambda$transitionIfNotPreviously$10(StateTransitionController.java:210)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\n    at org.gradle.internal.model.StateTransitionController.transitionIfNotPreviously(StateTransitionController.java:206)\n    at org.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:89)\n    at org.gradle.initialization.VintageBuildModelController.getConfiguredModel(VintageBuildModelController.java:64)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.lambda$withProjectsConfigured$1(DefaultBuildLifecycleController.java:114)\n    at org.gradle.internal.model.StateTransitionController.lambda$notInState$3(StateTransitionController.java:143)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\n    at org.gradle.internal.model.StateTransitionController.notInState(StateTransitionController.java:139)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.withProjectsConfigured(DefaultBuildLifecycleController.java:114)\n    at org.gradle.internal.build.DefaultBuildToolingModelController.locateBuilderForTarget(DefaultBuildToolingModelController.java:57)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.lambda$locateBuilderForTarget$0(DefaultBuildTreeModelCreator.java:73)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.withToolingModels(DefaultBuildLifecycleController.java:174)\n    at org.gradle.internal.build.AbstractBuildState.withToolingModels(AbstractBuildState.java:118)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForTarget(DefaultBuildTreeModelCreator.java:73)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForDefaultTarget(DefaultBuildTreeModelCreator.java:68)\n    at org.gradle.tooling.internal.provider.runner.DefaultBuildController.getTarget(DefaultBuildController.java:157)\n    at org.gradle.tooling.internal.provider.runner.DefaultBuildController.getModel(DefaultBuildController.java:101)\n    at org.gradle.tooling.internal.consumer.connection.ParameterAwareBuildControllerAdapter.getModel(ParameterAwareBuildControllerAdapter.java:39)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.getModel(UnparameterizedBuildController.java:113)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.getModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:97)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:81)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:66)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:121)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)\n    at org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.runAction(AbstractClientProvidedBuildActionRunner.java:131)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.beforeTasks(AbstractClientProvidedBuildActionRunner.java:99)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator.beforeTasks(DefaultBuildTreeModelCreator.java:52)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$1(DefaultBuildTreeLifecycleController.java:75)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:106)\n    at org.gradle.internal.model.StateTransitionController.lambda$transition$5(StateTransitionController.java:166)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:247)\n    at org.gradle.internal.model.StateTransitionController.lambda$transition$6(StateTransitionController.java:166)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\n    at org.gradle.internal.model.StateTransitionController.transition(StateTransitionController.java:166)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:103)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:74)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:43)\n    at org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\n    at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:65)\n    at org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:136)\n    at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\n    at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\n    at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:122)\n    at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\n    at org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\n    at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\n    at org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\n    at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\n    at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:36)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\n    at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:36)\n    at org.gradle.tooling.internal.provider.continuous.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:110)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\n    at org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\n    at org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:52)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:40)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\n    at org.gradle.util.internal.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-cloud-stream","spring-cloud-stream-binder-kafka"],"answers":[{"comments":[{"owner":{"account_id":3371794,"reputation":143488,"user_id":2830850,"display_name":"Tarun Lalwani"},"score":0,"creation_date":1675450608,"post_id":75286932,"comment_id":132939249,"body_markdown":"Thanks. I used the `ApplicationReadyEvent` instead","body":"Thanks. I used the <code>ApplicationReadyEvent</code> instead"}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675094248,"creation_date":1675094248,"answer_id":75286932,"question_id":75281293,"body_markdown":"    @PostConstruct\r\n    public void init() {\r\n        BaseEvent event = TaskCreatedEvent.builder().tenant(&quot;tenant&quot;).build();\r\n        eventPublisher.publishEvent(event);\r\n    }\r\n\r\nThat&#39;s too early to interact with low-level resource. You really cannot send message to the broker while your application is still in a configuration phase.\r\n\r\nSee into an `ApplicationRunner` instead: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.spring-application.command-line-runner","title":"Dispatcher has no subscribers for channel","body":"<pre><code>@PostConstruct\npublic void init() {\n    BaseEvent event = TaskCreatedEvent.builder().tenant(&quot;tenant&quot;).build();\n    eventPublisher.publishEvent(event);\n}\n</code></pre>\n<p>That's too early to interact with low-level resource. You really cannot send message to the broker while your application is still in a configuration phase.</p>\n<p>See into an <code>ApplicationRunner</code> instead: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.spring-application.command-line-runner\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.spring-application.command-line-runner</a></p>\n"}],"owner":{"account_id":3371794,"reputation":143488,"user_id":2830850,"display_name":"Tarun Lalwani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75286932,"answer_count":1,"score":0,"last_activity_date":1675094248,"creation_date":1675063720,"question_id":75281293,"body_markdown":"I am trying to create a Generic eventPublisher for my microservices.\r\n\r\n```java\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.cloud.stream.annotation.EnableBinding;\r\nimport org.springframework.cloud.stream.messaging.Source;\r\nimport org.springframework.messaging.support.MessageBuilder;\r\n\r\n@EnableBinding(TaskEventStreams.class)\r\npublic class EventPublisher {\r\n\r\n    private final TaskEventStreams source;\r\n\r\n    @Autowired\r\n    public EventPublisher(TaskEventStreams source) {\r\n        this.source = source;\r\n    }\r\n\r\n    public void publishEvent(BaseEvent event) {\r\n        publishEvent(event, event.getTenant());\r\n    }\r\n\r\n    public void publishEvent(BaseEvent event, String key) {\r\n\r\n        source.taskEventOutput().send(\r\n                MessageBuilder\r\n                        .withPayload(event)\r\n                        .copyHeaders(event.getHeaders())\r\n                        .setHeader(&quot;partitionKey&quot;, key)\r\n                        .build());\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nimport org.springframework.cloud.stream.annotation.Input;\r\nimport org.springframework.cloud.stream.annotation.Output;\r\nimport org.springframework.messaging.MessageChannel;\r\nimport org.springframework.messaging.SubscribableChannel;\r\n\r\npublic interface TaskEventStreams {\r\n    String TASK_EVENT_OUTPUT = &quot;task-event-output&quot;;\r\n\r\n    @Output(TASK_EVENT_OUTPUT)\r\n    MessageChannel taskEventOutput();\r\n}\r\n```\r\n\r\nApplication properties\r\n```yaml\r\nspring:\r\n  cloud:\r\n    stream:\r\n      default-binder: kafka\r\n      kafka:\r\n        binder:\r\n          brokers: localhost:9092\r\n          auto-create-topics: true\r\n      bindings:\r\n        task-event-output:\r\n          destination: tasks\r\n          group: tasks\r\n          binder: kafka\r\n          contentType: application/json\r\n```\r\n\r\nThis service will only publish the events. These events then later can be consumed by other services. But when I am trying to publish the event I am getting below exception\r\n```java\r\n@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})\r\npublic class Main {\r\n\r\n    @Autowired\r\n    EventPublisher eventPublisher;\r\n    public static void main(String[] args) {\r\n\r\n        SpringApplication.run(Main.class, args);\r\n        System.out.println(&quot;Hello world!&quot;);\r\n    }\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        BaseEvent event = TaskCreatedEvent.builder().tenant(&quot;tenant&quot;).build();\r\n        eventPublisher.publishEvent(event);\r\n    }\r\n}\r\n```\r\n\r\nException:\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;main&#39;: Invocation of init method failed; nested exception is org.springframework.messaging.MessageDeliveryException: Dispatcher has no subscribers for channel &#39;task-event-output&#39;.; nested exception is org.springframework.integration.MessageDispatchingException: Dispatcher has no subscribers, failedMessage=GenericMessage [payload=byte[255], headers={id=06b61f95-24d8-7f35-3e57-9ae262c2ca47, partitionKey=tenant, contentType=application/json, tenant=tenant, timestamp=1675063077441}], failedMessage=GenericMessage [payload=byte[255], headers={id=06b61f95-24d8-7f35-3e57-9ae262c2ca47, partitionKey=tenant, contentType=application/json, tenant=tenant, timestamp=1675063077441}]\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor\r\n```\r\n\r\nIs there a limitation that without consumer we cannot have producer? or am I missing something with this","title":"Dispatcher has no subscribers for channel","body":"<p>I am trying to create a Generic eventPublisher for my microservices.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.cloud.stream.annotation.EnableBinding;\nimport org.springframework.cloud.stream.messaging.Source;\nimport org.springframework.messaging.support.MessageBuilder;\n\n@EnableBinding(TaskEventStreams.class)\npublic class EventPublisher {\n\n    private final TaskEventStreams source;\n\n    @Autowired\n    public EventPublisher(TaskEventStreams source) {\n        this.source = source;\n    }\n\n    public void publishEvent(BaseEvent event) {\n        publishEvent(event, event.getTenant());\n    }\n\n    public void publishEvent(BaseEvent event, String key) {\n\n        source.taskEventOutput().send(\n                MessageBuilder\n                        .withPayload(event)\n                        .copyHeaders(event.getHeaders())\n                        .setHeader(&quot;partitionKey&quot;, key)\n                        .build());\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.cloud.stream.annotation.Input;\nimport org.springframework.cloud.stream.annotation.Output;\nimport org.springframework.messaging.MessageChannel;\nimport org.springframework.messaging.SubscribableChannel;\n\npublic interface TaskEventStreams {\n    String TASK_EVENT_OUTPUT = &quot;task-event-output&quot;;\n\n    @Output(TASK_EVENT_OUTPUT)\n    MessageChannel taskEventOutput();\n}\n</code></pre>\n<p>Application properties</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  cloud:\n    stream:\n      default-binder: kafka\n      kafka:\n        binder:\n          brokers: localhost:9092\n          auto-create-topics: true\n      bindings:\n        task-event-output:\n          destination: tasks\n          group: tasks\n          binder: kafka\n          contentType: application/json\n</code></pre>\n<p>This service will only publish the events. These events then later can be consumed by other services. But when I am trying to publish the event I am getting below exception</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})\npublic class Main {\n\n    @Autowired\n    EventPublisher eventPublisher;\n    public static void main(String[] args) {\n\n        SpringApplication.run(Main.class, args);\n        System.out.println(&quot;Hello world!&quot;);\n    }\n\n    @PostConstruct\n    public void init() {\n        BaseEvent event = TaskCreatedEvent.builder().tenant(&quot;tenant&quot;).build();\n        eventPublisher.publishEvent(event);\n    }\n}\n</code></pre>\n<p>Exception:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'main': Invocation of init method failed; nested exception is org.springframework.messaging.MessageDeliveryException: Dispatcher has no subscribers for channel 'task-event-output'.; nested exception is org.springframework.integration.MessageDispatchingException: Dispatcher has no subscribers, failedMessage=GenericMessage [payload=byte[255], headers={id=06b61f95-24d8-7f35-3e57-9ae262c2ca47, partitionKey=tenant, contentType=application/json, tenant=tenant, timestamp=1675063077441}], failedMessage=GenericMessage [payload=byte[255], headers={id=06b61f95-24d8-7f35-3e57-9ae262c2ca47, partitionKey=tenant, contentType=application/json, tenant=tenant, timestamp=1675063077441}]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor\n</code></pre>\n<p>Is there a limitation that without consumer we cannot have producer? or am I missing something with this</p>\n"},{"tags":["java","spring-boot","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675093946,"creation_date":1675093946,"answer_id":75286876,"question_id":75274879,"body_markdown":"Use an `ErrorHandlingDeserializer`; deserialization errors will be sent to the `CommonErrorHandler`. With the `DefaultErrorHandler` and `Ackmode.MANUAL_IMMEDIATE`, the error handler can be configured to ack recovered records.\r\n\r\nhttps://docs.spring.io/spring-kafka/docs/current/reference/html/#error-handling-deserializer\r\n\r\n```java\r\n/**\r\n * {@inheritDoc}\r\n * The container must be configured with\r\n * {@link org.springframework.kafka.listener.ContainerProperties.AckMode#MANUAL_IMMEDIATE}.\r\n * Whether or not the commit is sync or async depends on the container&#39;s syncCommits\r\n * property.\r\n * @param commitRecovered true to commit.\r\n */\r\n@Override\r\npublic void setCommitRecovered(boolean commitRecovered) { // NOSONAR enhanced javadoc\r\n\tsuper.setCommitRecovered(commitRecovered);\r\n}\r\n```\r\n\r\nThe `KafkaListenerErrorHandler` will never receive these errors.","title":"How to acknowledge poison pill in error handler","body":"<p>Use an <code>ErrorHandlingDeserializer</code>; deserialization errors will be sent to the <code>CommonErrorHandler</code>. With the <code>DefaultErrorHandler</code> and <code>Ackmode.MANUAL_IMMEDIATE</code>, the error handler can be configured to ack recovered records.</p>\n<p><a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#error-handling-deserializer\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#error-handling-deserializer</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * {@inheritDoc}\n * The container must be configured with\n * {@link org.springframework.kafka.listener.ContainerProperties.AckMode#MANUAL_IMMEDIATE}.\n * Whether or not the commit is sync or async depends on the container's syncCommits\n * property.\n * @param commitRecovered true to commit.\n */\n@Override\npublic void setCommitRecovered(boolean commitRecovered) { // NOSONAR enhanced javadoc\n    super.setCommitRecovered(commitRecovered);\n}\n</code></pre>\n<p>The <code>KafkaListenerErrorHandler</code> will never receive these errors.</p>\n"}],"owner":{"account_id":3774672,"reputation":97,"user_id":3135811,"display_name":"subham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675093946,"creation_date":1674995227,"question_id":75274879,"body_markdown":"I have a requirement to process kafka messages in at-least-once fashion. Spring kafka supports async ack starting from 2.8 version. I am storing received offsets from kafka in a map and after message processing is done committing kafka offsets. This all working fine until i send any error event(poison pill). I am not able to commit bad record inside error handler and due to this kafka is not consuming any new records after encountering any bad/malformed record.\r\n\r\ncode for kafka listener factory:\r\n```\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, JsonNode&gt; kafkaListenerContainerFactory(ConsumerFactory&lt;String, JsonNode&gt; kafkaConsumerFactory) {\r\n            ConcurrentKafkaListenerContainerFactory&lt;String, JsonNode&gt; factory =\r\n                    new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n            factory.setConsumerFactory(kafkaConsumerFactory);\r\n            factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL);\r\n            factory.setErrorHandler(errorHandler());\r\n            factory.getContainerProperties().setAsyncAcks(true);\r\n            return factory;\r\n        }\r\n```\r\n\r\nError Handler Code:\r\n```\r\n  @Bean(&quot;errorHandler&quot;)\r\n    public ErrorHandler errorHandler() {\r\n        log.info(&quot;Creating error handler&quot;);\r\n        return (thrownException, records) -&gt; {\r\n            log.error(&quot;Inside error handler&quot;);\r\n        };\r\n    }\r\n```\r\n\r\nThis error handler does not have access to Acknowledgement object.\r\nI created `KafkaListenerErrorHandler` which has access to Acknowledgement object. but on error KafkaListenerErrorHandler is not getting called.\r\n\r\ncode:\r\n\r\n```\r\n  @Bean(&quot;kafkaListenErrorHandler&quot;)\r\n    public ManualAckListenerErrorHandler kafkaListenerErrorHandler() {\r\n        return (message, exception, consumer, ack) -&gt; {\r\n            log.info(&quot;Inside manual ack error handler &quot; + exception.getMessage());\r\n            exception.printStackTrace();\r\n            ack.acknowledge();\r\n            return null;\r\n        };\r\n    }\r\n```\r\n\r\nin kafka consumer\r\n\r\n```\r\n  @KafkaListener(\r\n            id=&quot;default_kafka_listener&quot;,\r\n            topics = &quot;topic&quot;,\r\n            groupId = &quot;groupId&quot;,\r\n            containerFactory = &quot;kafkaListener&quot;,\r\n            errorHandler = &quot;kafkaListenErrorHandler&quot;,\r\n            autoStartup = &quot;false&quot;)\r\n   public void consume(@Payload JsonNode message)\r\n```\r\n\r\nCurrent spring boot version 2.7.8\r\nspring-kafka version 2.9.5\r\n\r\nHow to acknowledge error messages in kafkaListenErrorHandler?\r\n","title":"How to acknowledge poison pill in error handler","body":"<p>I have a requirement to process kafka messages in at-least-once fashion. Spring kafka supports async ack starting from 2.8 version. I am storing received offsets from kafka in a map and after message processing is done committing kafka offsets. This all working fine until i send any error event(poison pill). I am not able to commit bad record inside error handler and due to this kafka is not consuming any new records after encountering any bad/malformed record.</p>\n<p>code for kafka listener factory:</p>\n<pre><code>    public ConcurrentKafkaListenerContainerFactory&lt;String, JsonNode&gt; kafkaListenerContainerFactory(ConsumerFactory&lt;String, JsonNode&gt; kafkaConsumerFactory) {\n            ConcurrentKafkaListenerContainerFactory&lt;String, JsonNode&gt; factory =\n                    new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n            factory.setConsumerFactory(kafkaConsumerFactory);\n            factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL);\n            factory.setErrorHandler(errorHandler());\n            factory.getContainerProperties().setAsyncAcks(true);\n            return factory;\n        }\n</code></pre>\n<p>Error Handler Code:</p>\n<pre><code>  @Bean(&quot;errorHandler&quot;)\n    public ErrorHandler errorHandler() {\n        log.info(&quot;Creating error handler&quot;);\n        return (thrownException, records) -&gt; {\n            log.error(&quot;Inside error handler&quot;);\n        };\n    }\n</code></pre>\n<p>This error handler does not have access to Acknowledgement object.\nI created <code>KafkaListenerErrorHandler</code> which has access to Acknowledgement object. but on error KafkaListenerErrorHandler is not getting called.</p>\n<p>code:</p>\n<pre><code>  @Bean(&quot;kafkaListenErrorHandler&quot;)\n    public ManualAckListenerErrorHandler kafkaListenerErrorHandler() {\n        return (message, exception, consumer, ack) -&gt; {\n            log.info(&quot;Inside manual ack error handler &quot; + exception.getMessage());\n            exception.printStackTrace();\n            ack.acknowledge();\n            return null;\n        };\n    }\n</code></pre>\n<p>in kafka consumer</p>\n<pre><code>  @KafkaListener(\n            id=&quot;default_kafka_listener&quot;,\n            topics = &quot;topic&quot;,\n            groupId = &quot;groupId&quot;,\n            containerFactory = &quot;kafkaListener&quot;,\n            errorHandler = &quot;kafkaListenErrorHandler&quot;,\n            autoStartup = &quot;false&quot;)\n   public void consume(@Payload JsonNode message)\n</code></pre>\n<p>Current spring boot version 2.7.8\nspring-kafka version 2.9.5</p>\n<p>How to acknowledge error messages in kafkaListenErrorHandler?</p>\n"},{"tags":["java","while-loop"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1675099416,"post_id":75286825,"comment_id":132851221,"body_markdown":"**1)** There is nothing in the loop that changes the value of `userInput`. So, `while (userInput &gt; 0)` will either loop forever (when `userInput &gt; 0`) or never (when `userInput &lt;= 0`.  **2)** You might want `int userInput = scan.nextInt();` inside the loop.","body":"<b>1)</b> There is nothing in the loop that changes the value of <code>userInput</code>. So, <code>while (userInput &gt; 0)</code> will either loop forever (when <code>userInput &gt; 0</code>) or never (when <code>userInput &lt;= 0</code>.  <b>2)</b> You might want <code>int userInput = scan.nextInt();</code> inside the loop."}],"answers":[{"tags":[],"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675093891,"creation_date":1675093891,"answer_id":75286868,"question_id":75286825,"body_markdown":"Your loop condition is based on `userInput`, which doesn&#39;t change inside the loop.","title":"How do you use a while loop with user input?","body":"<p>Your loop condition is based on <code>userInput</code>, which doesn't change inside the loop.</p>\n"}],"owner":{"account_id":26476011,"reputation":1,"user_id":20115883,"display_name":"Beef"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675093891,"creation_date":1675093686,"question_id":75286825,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\npublic class Max {\r\n   \r\n   public int findMax() {\r\n      /* Type your code here. */\r\n      Scanner scan = new Scanner(System.in);\r\n      int userInput = scan.nextInt();\r\n      int largestInt = 0;\r\n      \r\n      while (userInput &gt; 0) {\r\n         if (userInput &gt; largestInt) {\r\n            largestInt = userInput;\r\n         }\r\n      }\r\n      return largestInt;\r\n   }\r\n   \r\n   public static void main(String[] args) {\r\n      Max test = new Max();\r\n      System.out.println(test.findMax());\r\n   }\r\n}\r\n```\r\n\r\nThis is being tested on Zybooks, and everything I have tried has resulted in the program timing out. I can&#39;t figure out why! I think my while loop is very logical, what am I missing?\r\n\r\n```\r\n1:Compare output\r\n0 / 1\r\nProgram timed out\r\nOutput differs. See highlights below.\r\nInput\r\n2 77 17 4 -1\r\nYour output\r\n\r\nExpected output\r\n77\r\n```\r\n\r\nIf userInput is greater than largestInt, assign userInt value to largestValue until userInt is negative, and return largestInt.","title":"How do you use a while loop with user input?","body":"<pre><code>import java.util.Scanner;\n\npublic class Max {\n   \n   public int findMax() {\n      /* Type your code here. */\n      Scanner scan = new Scanner(System.in);\n      int userInput = scan.nextInt();\n      int largestInt = 0;\n      \n      while (userInput &gt; 0) {\n         if (userInput &gt; largestInt) {\n            largestInt = userInput;\n         }\n      }\n      return largestInt;\n   }\n   \n   public static void main(String[] args) {\n      Max test = new Max();\n      System.out.println(test.findMax());\n   }\n}\n</code></pre>\n<p>This is being tested on Zybooks, and everything I have tried has resulted in the program timing out. I can't figure out why! I think my while loop is very logical, what am I missing?</p>\n<pre><code>1:Compare output\n0 / 1\nProgram timed out\nOutput differs. See highlights below.\nInput\n2 77 17 4 -1\nYour output\n\nExpected output\n77\n</code></pre>\n<p>If userInput is greater than largestInt, assign userInt value to largestValue until userInt is negative, and return largestInt.</p>\n"},{"tags":["java","windows","java-home"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1675071272,"post_id":75282294,"comment_id":132841772,"body_markdown":"The short answer is &quot;use a symbolic link&quot;.  See https://www.howtogeek.com/16226/complete-guide-to-symbolic-links-symlinks-on-windows-or-linux/.","body":"The short answer is &quot;use a symbolic link&quot;.  See <a href=\"https://www.howtogeek.com/16226/complete-guide-to-symbolic-links-symlinks-on-windows-or-linux/\" rel=\"nofollow noreferrer\">howtogeek.com/16226/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675093652,"creation_date":1675093652,"answer_id":75286817,"question_id":75282294,"body_markdown":"By default, (Oracle) Java installers for Windows put the installation in directory whose name matches the Java version and patch number; e.g.\r\n\r\n    C:\\Program Files\\Java\\jdk1.6.0_30\r\n\r\nThis allows you to have multiple different versions of Java installed.  That&#39;s a good thing because a lot of applications require a particular Java version.  And to that end, you probably want to use different Java versions for different applications.  \r\n\r\nHowever, if you want a default version that you can easily change without changing lots of classpath settings in lots of places, the obvious way to do it is to use a [symbolic link or symlink][1].  For example:\r\n\r\n  C: Program Files:\r\n      Java:\r\n          jdk1.6.0_30:\r\n              ...\r\n          jdk1.8.0_77:\r\n              ...\r\n          default -&gt; jdk1.8.0_77\r\n\r\nThen your use `C:\\Program Files\\Java\\default\\bin` in `%PATH%` and `C:\\Program Files\\Java\\default` in `%JAVA_HOME%`, and similarly change any `-cp` options in batch files, etc. \r\n\r\nOnce you have done all of that, you can switch to a different default Java version, by simply updating the target for the `default` symlink to a different installation directory. \r\n\r\nNote that Linux has a more sophisticated way of doing this using the `alternative` utilities.  But under the hood that is all done with symlinks.\r\n\r\n\r\n          \r\n\r\n\r\n  [1]: https://www.howtogeek.com/16226/complete-guide-to-symbolic-links-symlinks-on-windows-or-linux/","title":"JAVA_HOME path required to be updated after each update of JDK/JRE","body":"<p>By default, (Oracle) Java installers for Windows put the installation in directory whose name matches the Java version and patch number; e.g.</p>\n<pre><code>C:\\Program Files\\Java\\jdk1.6.0_30\n</code></pre>\n<p>This allows you to have multiple different versions of Java installed.  That's a good thing because a lot of applications require a particular Java version.  And to that end, you probably want to use different Java versions for different applications.</p>\n<p>However, if you want a default version that you can easily change without changing lots of classpath settings in lots of places, the obvious way to do it is to use a <a href=\"https://www.howtogeek.com/16226/complete-guide-to-symbolic-links-symlinks-on-windows-or-linux/\" rel=\"nofollow noreferrer\">symbolic link or symlink</a>.  For example:</p>\n<p>C: Program Files:\nJava:\njdk1.6.0_30:\n...\njdk1.8.0_77:\n...\ndefault -&gt; jdk1.8.0_77</p>\n<p>Then your use <code>C:\\Program Files\\Java\\default\\bin</code> in <code>%PATH%</code> and <code>C:\\Program Files\\Java\\default</code> in <code>%JAVA_HOME%</code>, and similarly change any <code>-cp</code> options in batch files, etc.</p>\n<p>Once you have done all of that, you can switch to a different default Java version, by simply updating the target for the <code>default</code> symlink to a different installation directory.</p>\n<p>Note that Linux has a more sophisticated way of doing this using the <code>alternative</code> utilities.  But under the hood that is all done with symlinks.</p>\n"}],"owner":{"account_id":14899337,"reputation":11,"user_id":10758608,"display_name":"Darshan L S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675093652,"creation_date":1675070243,"question_id":75282294,"body_markdown":"In the windows environment variable the JAVA_HOME path needs to be updated after each time upgrading the JDK/JRE. Is there any solution for this to maintain the default path for JAVA_HOME irrespective of the version it gets upgraded?\r\nLet me know if anyone has any solution for this.\r\n\r\nwe tried of setting the new path while installing the JRE, even this path changes after upgrading the JRE.","title":"JAVA_HOME path required to be updated after each update of JDK/JRE","body":"<p>In the windows environment variable the JAVA_HOME path needs to be updated after each time upgrading the JDK/JRE. Is there any solution for this to maintain the default path for JAVA_HOME irrespective of the version it gets upgraded?\nLet me know if anyone has any solution for this.</p>\n<p>we tried of setting the new path while installing the JRE, even this path changes after upgrading the JRE.</p>\n"},{"tags":["java","amazon-web-services","hibernate","kotlin","elasticsearch"],"owner":{"account_id":5233824,"reputation":217,"user_id":4183141,"accept_rate":70,"display_name":"Sjenkie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675093651,"creation_date":1675092068,"question_id":75286443,"body_markdown":"The past few weeks I&#39;ve been trying to solve this issue. The indexing works &quot;perfectly&quot; until it doesn&#39;t. It is often with large amounts of entities (10k+) that at around 70% of all entities it starts throwing `403` responses. \r\n\r\nThe Setup\r\n----------\r\n**The packages (gradle):** \r\n```gradle\r\nimplementation group: &#39;org.hibernate.search&#39;, name: &#39;hibernate-search-engine&#39;, version: &#39;6.1.7.Final&#39;\r\nimplementation group: &quot;org.hibernate.search&quot;, name: &quot;hibernate-search-mapper-orm&quot;, version: &quot;6.1.7.Final&quot;\r\nimplementation group: &quot;org.hibernate.search&quot;, name: &quot;hibernate-search-backend-lucene&quot;, version: &quot;6.1.7.Final&quot;\r\nimplementation group: &quot;org.hibernate.search&quot;, name: &quot;hibernate-search-backend-elasticsearch&quot;, version: &quot;6.1.7.Final&quot;\r\nimplementation group: &quot;org.hibernate.search&quot;, name: &quot;hibernate-search-backend-elasticsearch-aws&quot;, version: &quot;6.1.7.Final&quot;\r\n```\r\n\r\n**The hibernate config:** \r\n```kotlin\r\ncfg.setProperty(&quot;hibernate.search.backend.type&quot;, &quot;elasticsearch&quot;)\r\ncfg.setProperty(&quot;hibernate.search.backend.aws.signing.enabled&quot;, &quot;true&quot;)\r\ncfg.setProperty(&quot;hibernate.search.backend.aws.region&quot;,config.getProperty(&quot;AWS_REGION&quot;))\r\ncfg.setProperty(&quot;hibernate.search.backend.aws.credentials.type&quot;, &quot;static&quot;)\r\ncfg.setProperty(\r\n    &quot;hibernate.search.backend.aws.credentials.access_key_id&quot;,\r\n    config.getProperty(&quot;AWS_ACCESS_KEY_ID&quot;)\r\n)\r\ncfg.setProperty(\r\n    &quot;hibernate.search.backend.aws.credentials.secret_access_key&quot;,\r\n    config.getProperty(&quot;AWS_SECRET_ACCESS_KEY&quot;)\r\n)\r\ncfg.setProperty(&quot;hibernate.search.backend.uris&quot;, config.getProperty(&quot;AWS_ES_HOSTS&quot;))\r\ncfg.setProperty(&quot;hibernate.search.backend.version_check.enabled&quot;, &quot;false&quot;)\r\ncfg.setProperty(&quot;hibernate.search.backend.version&quot;,config.getProperty(&quot;AWS_ES_VERSION&quot;))\r\ncfg.setProperty(&quot;hibernate.search.schema_management.strategy&quot;, &quot;create&quot;)\r\ncfg.setProperty(&quot;hibernate.search.backend.indexing.max_bulk_size&quot;, &quot;20&quot;)\r\ncfg.setProperty(&quot;hibernate.search.backend.indexing.queue_size&quot;, &quot;20&quot;)\r\n```\r\n\r\n***the code***: \r\n```kotlin\r\nCompletableFuture.runAsync {\r\n    Search.session(database.factory.openSession())\r\n        .massIndexer()\r\n        .idFetchSize(20)\r\n        .batchSizeToLoadObjects(10)\r\n        .dropAndCreateSchemaOnStart(false)\r\n        .purgeAllOnStart(false)\r\n        .startAndWait()\r\n}\r\n```\r\n\r\nThe output: \r\n-----------------\r\n\r\n**At first... it works fine:** \r\n```\r\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 75.74% [128.930679documents/second].\r\nPojoMassIndexingLoggingMonitor:97 - HSEARCH000030: Mass indexing progress: indexed 33458 entities in 259447 ms.\r\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 75.85% [128.958908 documents/second].\r\nPojoMassIndexingLoggingMonitor:97 - HSEARCH000030: Mass indexing progress: indexed 33508 entities in 259708 ms.\r\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 75.97% [129.021820 documents/second].\r\nPojoMassIndexingLoggingMonitor:97 - HSEARCH000030: Mass indexing progress: indexed 33558 entities in 260016 ms.\r\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 76.08% [129.061295 documents/second].\r\nPojoMassIndexingLoggingMonitor:97 - HSEARCH000030: Mass indexing progress: indexed 33608 entities in 260383 ms.\r\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 76.19% [129.071411 documents/second].\r\nPojoMassIndexingLoggingMonitor:97 - HSEARCH000030: Mass indexing progress: indexed 33658 entities in 260650 ms.\r\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 76.31% [129.131012 documents/second].\r\nPojoMassIndexingLoggingMonitor:97 - HSEARCH000030: Mass indexing progress: indexed 33708 entities in 260961 ms.\r\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 76.42% [129.168732 documents/second].\r\nPojoMassIndexingLoggingMonitor:97 - HSEARCH000030: Mass indexing progress: indexed 33758 entities in 261316 ms.\r\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 76.53% [129.184586 documents/second].\r\nPojoMassIndexingLoggingMonitor:97 - HSEARCH000030: Mass indexing progress: indexed 33808 entities in 261771 ms.\r\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 76.65% [129.151047 documents/second].\r\n```\r\n\r\n**And then... it does not:** \r\n\r\n```\r\nERROR LogFailureHandler:36 - HSEARCH000058: Exception occurred org.hibernate.search.util.common.SearchException: HSEARCH400588: Call to the bulk REST API failed: HSEARCH400007: Elasticsearch request failed: HSEARCH400090: Elasticsearch response indicates a failure.\r\nRequest: POST /_bulk with parameters {}\r\nResponse: 403 &#39;Forbidden&#39; from &#39;https://redacted.es.amazonaws.com&#39; with body\r\n&quot;message&quot;: &quot;The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.\\n\\nThe Canonical String for this request should have been&quot;\r\n}\r\nFailing operation:\r\n  Indexing instance of entity &#39;Entity&#39; during mass indexing\r\nEntities that could not be indexed correctly:\r\nEntity#ac4650e6-2008-4fd5-949f-8541569d6ba9\r\norg.hibernate.search.util.common.SearchException: HSEARCH400588: Call to the bulk REST API failed: HSEARCH400007: Elasticsearch request failed: HSEARCH400090: Elasticsearch response indicates a failure.\r\nRequest: POST /_bulk with parameters {}\r\nResponse: 403 &#39;Forbidden&#39; from &#39;https://redacted.es.amazonaws.com&#39; with body\r\n{\r\n&quot;message&quot;: &quot;The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.\\n\\nThe Canonical String for this request should have been&quot;\r\n}\r\nat org.hibernate.search.backend.elasticsearch.orchestration.impl.ElasticsearchDefaultWorkSequenceBuilder$BulkedWorkExecutionState.onBulkWorkComplete(ElasticsearchDefaultWorkSequenceBuilder.java:239) ~[hibernate-search-backend-elasticsearch-6.1.7.Final.jar:6.1.7.Final]\r\nat org.hibernate.search.util.common.impl.Futures.lambda$handler$3(Futures.java:100) ~[hibernate-search-util-common-6.1.7.Final.jar:6.1.7.Final]\r\nat java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859) ~[?:?]\r\nat java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837) ~[?:?]\r\nat java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506) ~[?:?]\r\nat java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2144) ~[?:?]\r\nat org.hibernate.search.backend.elasticsearch.client.impl.ElasticsearchClientImpl$1.onFailure(ElasticsearchClientImpl.java:127) ~[hibernate-search-backend-elasticsearch-6.1.7.Final.jar:6.1.7.Final]\r\nat org.elasticsearch.client.RestClient$FailureTrackingResponseListener.onDefinitiveFailure(RestClient.java:672) ~[elasticsearch-rest-client-7.17.4.jar:7.17.4]\r\nat org.elasticsearch.client.RestClient$1.completed(RestClient.java:408) ~[elasticsearch-rest-client-7.17.4.jar:7.17.4]\r\nat org.elasticsearch.client.RestClient$1.completed(RestClient.java:392) ~[elasticsearch-rest-client-7.17.4.jar:7.17.4]\r\nat org.apache.http.concurrent.BasicFuture.completed(BasicFuture.java:122) ~[httpcore-4.4.15.jar:4.4.15]\r\nat org.apache.http.impl.nio.client.DefaultClientExchangeHandlerImpl.responseCompleted(DefaultClientExchangeHandlerImpl.java:182) ~[httpasyncclient-4.1.5.jar:4.1.5]\r\nat org.apache.http.nio.protocol.HttpAsyncRequestExecutor.processResponse(HttpAsyncRequestExecutor.java:448) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\nat org.apache.http.nio.protocol.HttpAsyncRequestExecutor.inputReady(HttpAsyncRequestExecutor.java:338) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\nat org.apache.http.impl.nio.DefaultNHttpClientConnection.consumeInput(DefaultNHttpClientConnection.java:265) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\nat org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:87) ~[httpasyncclient-4.1.5.jar:4.1.5]\r\nat org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:40) ~[httpasyncclient-4.1.5.jar:4.1.5]\r\nat org.apache.http.impl.nio.reactor.AbstractIODispatch.inputReady(AbstractIODispatch.java:121) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\nat org.apache.http.impl.nio.reactor.BaseIOReactor.readable(BaseIOReactor.java:162) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\nat org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:337) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\nat org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java:315) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\nat org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:276) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\nat org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\nat org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:591) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\nat java.lang.Thread.run(Thread.java:830) ~[?:?]\r\nCaused by: org.hibernate.search.util.common.SearchException: HSEARCH400007: Elasticsearch request failed: HSEARCH400090: Elasticsearch response indicates a failure.\r\nRequest: POST /_bulk with parameters {}\r\nResponse: 403 &#39;Forbidden&#39; from &#39;https://redacted.es.amazonaws.com&#39; with body\r\n{\r\n&quot;message&quot;: &quot;The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.\\n\\nThe Canonical String for this request should have been&quot;\r\n}\r\nat org.hibernate.search.backend.elasticsearch.work.impl.AbstractNonBulkableWork.handleResult(AbstractNonBulkableWork.java:84) ~[hibernate-search-backend-elasticsearch-6.1.7.Final.jar:6.1.7.Final]\r\nat org.hibernate.search.backend.elasticsearch.work.impl.AbstractNonBulkableWork.lambda$execute$3(AbstractNonBulkableWork.java:66) ~[hibernate-search-backend-elasticsearch-6.1.7.Final.jar:6.1.7.Final]\r\nat java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:642\r\n```\r\n\r\nI&#39;ve spit through all the documentation I could find, tried different parameters, offsets, fetchId sizes, etc. To no avail. The true differentiating factor I seem to not be able to dig through is that is first works (the entities are actually indexed and show up), but that it doesn&#39;t work after a while... (4-5minutes). Nothing is to be found about that. \r\n\r\nAny feedback, answers or questions are welcome. ","title":"Hibernate Search with AWS OpenSearch: 403 Forbidden after 10 minutes","body":"<p>The past few weeks I've been trying to solve this issue. The indexing works &quot;perfectly&quot; until it doesn't. It is often with large amounts of entities (10k+) that at around 70% of all entities it starts throwing <code>403</code> responses.</p>\n<h2>The Setup</h2>\n<p><strong>The packages (gradle):</strong></p>\n<pre><code>implementation group: 'org.hibernate.search', name: 'hibernate-search-engine', version: '6.1.7.Final'\nimplementation group: &quot;org.hibernate.search&quot;, name: &quot;hibernate-search-mapper-orm&quot;, version: &quot;6.1.7.Final&quot;\nimplementation group: &quot;org.hibernate.search&quot;, name: &quot;hibernate-search-backend-lucene&quot;, version: &quot;6.1.7.Final&quot;\nimplementation group: &quot;org.hibernate.search&quot;, name: &quot;hibernate-search-backend-elasticsearch&quot;, version: &quot;6.1.7.Final&quot;\nimplementation group: &quot;org.hibernate.search&quot;, name: &quot;hibernate-search-backend-elasticsearch-aws&quot;, version: &quot;6.1.7.Final&quot;\n</code></pre>\n<p><strong>The hibernate config:</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>cfg.setProperty(&quot;hibernate.search.backend.type&quot;, &quot;elasticsearch&quot;)\ncfg.setProperty(&quot;hibernate.search.backend.aws.signing.enabled&quot;, &quot;true&quot;)\ncfg.setProperty(&quot;hibernate.search.backend.aws.region&quot;,config.getProperty(&quot;AWS_REGION&quot;))\ncfg.setProperty(&quot;hibernate.search.backend.aws.credentials.type&quot;, &quot;static&quot;)\ncfg.setProperty(\n    &quot;hibernate.search.backend.aws.credentials.access_key_id&quot;,\n    config.getProperty(&quot;AWS_ACCESS_KEY_ID&quot;)\n)\ncfg.setProperty(\n    &quot;hibernate.search.backend.aws.credentials.secret_access_key&quot;,\n    config.getProperty(&quot;AWS_SECRET_ACCESS_KEY&quot;)\n)\ncfg.setProperty(&quot;hibernate.search.backend.uris&quot;, config.getProperty(&quot;AWS_ES_HOSTS&quot;))\ncfg.setProperty(&quot;hibernate.search.backend.version_check.enabled&quot;, &quot;false&quot;)\ncfg.setProperty(&quot;hibernate.search.backend.version&quot;,config.getProperty(&quot;AWS_ES_VERSION&quot;))\ncfg.setProperty(&quot;hibernate.search.schema_management.strategy&quot;, &quot;create&quot;)\ncfg.setProperty(&quot;hibernate.search.backend.indexing.max_bulk_size&quot;, &quot;20&quot;)\ncfg.setProperty(&quot;hibernate.search.backend.indexing.queue_size&quot;, &quot;20&quot;)\n</code></pre>\n<p><em><strong>the code</strong></em>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>CompletableFuture.runAsync {\n    Search.session(database.factory.openSession())\n        .massIndexer()\n        .idFetchSize(20)\n        .batchSizeToLoadObjects(10)\n        .dropAndCreateSchemaOnStart(false)\n        .purgeAllOnStart(false)\n        .startAndWait()\n}\n</code></pre>\n<h2>The output:</h2>\n<p><strong>At first... it works fine:</strong></p>\n<pre><code>PojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 75.74% [128.930679documents/second].\nPojoMassIndexingLoggingMonitor:97 - HSEARCH000030: Mass indexing progress: indexed 33458 entities in 259447 ms.\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 75.85% [128.958908 documents/second].\nPojoMassIndexingLoggingMonitor:97 - HSEARCH000030: Mass indexing progress: indexed 33508 entities in 259708 ms.\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 75.97% [129.021820 documents/second].\nPojoMassIndexingLoggingMonitor:97 - HSEARCH000030: Mass indexing progress: indexed 33558 entities in 260016 ms.\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 76.08% [129.061295 documents/second].\nPojoMassIndexingLoggingMonitor:97 - HSEARCH000030: Mass indexing progress: indexed 33608 entities in 260383 ms.\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 76.19% [129.071411 documents/second].\nPojoMassIndexingLoggingMonitor:97 - HSEARCH000030: Mass indexing progress: indexed 33658 entities in 260650 ms.\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 76.31% [129.131012 documents/second].\nPojoMassIndexingLoggingMonitor:97 - HSEARCH000030: Mass indexing progress: indexed 33708 entities in 260961 ms.\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 76.42% [129.168732 documents/second].\nPojoMassIndexingLoggingMonitor:97 - HSEARCH000030: Mass indexing progress: indexed 33758 entities in 261316 ms.\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 76.53% [129.184586 documents/second].\nPojoMassIndexingLoggingMonitor:97 - HSEARCH000030: Mass indexing progress: indexed 33808 entities in 261771 ms.\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 76.65% [129.151047 documents/second].\n</code></pre>\n<p><strong>And then... it does not:</strong></p>\n<pre><code>ERROR LogFailureHandler:36 - HSEARCH000058: Exception occurred org.hibernate.search.util.common.SearchException: HSEARCH400588: Call to the bulk REST API failed: HSEARCH400007: Elasticsearch request failed: HSEARCH400090: Elasticsearch response indicates a failure.\nRequest: POST /_bulk with parameters {}\nResponse: 403 'Forbidden' from 'https://redacted.es.amazonaws.com' with body\n&quot;message&quot;: &quot;The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.\\n\\nThe Canonical String for this request should have been&quot;\n}\nFailing operation:\n  Indexing instance of entity 'Entity' during mass indexing\nEntities that could not be indexed correctly:\nEntity#ac4650e6-2008-4fd5-949f-8541569d6ba9\norg.hibernate.search.util.common.SearchException: HSEARCH400588: Call to the bulk REST API failed: HSEARCH400007: Elasticsearch request failed: HSEARCH400090: Elasticsearch response indicates a failure.\nRequest: POST /_bulk with parameters {}\nResponse: 403 'Forbidden' from 'https://redacted.es.amazonaws.com' with body\n{\n&quot;message&quot;: &quot;The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.\\n\\nThe Canonical String for this request should have been&quot;\n}\nat org.hibernate.search.backend.elasticsearch.orchestration.impl.ElasticsearchDefaultWorkSequenceBuilder$BulkedWorkExecutionState.onBulkWorkComplete(ElasticsearchDefaultWorkSequenceBuilder.java:239) ~[hibernate-search-backend-elasticsearch-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.search.util.common.impl.Futures.lambda$handler$3(Futures.java:100) ~[hibernate-search-util-common-6.1.7.Final.jar:6.1.7.Final]\nat java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859) ~[?:?]\nat java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837) ~[?:?]\nat java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506) ~[?:?]\nat java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2144) ~[?:?]\nat org.hibernate.search.backend.elasticsearch.client.impl.ElasticsearchClientImpl$1.onFailure(ElasticsearchClientImpl.java:127) ~[hibernate-search-backend-elasticsearch-6.1.7.Final.jar:6.1.7.Final]\nat org.elasticsearch.client.RestClient$FailureTrackingResponseListener.onDefinitiveFailure(RestClient.java:672) ~[elasticsearch-rest-client-7.17.4.jar:7.17.4]\nat org.elasticsearch.client.RestClient$1.completed(RestClient.java:408) ~[elasticsearch-rest-client-7.17.4.jar:7.17.4]\nat org.elasticsearch.client.RestClient$1.completed(RestClient.java:392) ~[elasticsearch-rest-client-7.17.4.jar:7.17.4]\nat org.apache.http.concurrent.BasicFuture.completed(BasicFuture.java:122) ~[httpcore-4.4.15.jar:4.4.15]\nat org.apache.http.impl.nio.client.DefaultClientExchangeHandlerImpl.responseCompleted(DefaultClientExchangeHandlerImpl.java:182) ~[httpasyncclient-4.1.5.jar:4.1.5]\nat org.apache.http.nio.protocol.HttpAsyncRequestExecutor.processResponse(HttpAsyncRequestExecutor.java:448) ~[httpcore-nio-4.4.15.jar:4.4.15]\nat org.apache.http.nio.protocol.HttpAsyncRequestExecutor.inputReady(HttpAsyncRequestExecutor.java:338) ~[httpcore-nio-4.4.15.jar:4.4.15]\nat org.apache.http.impl.nio.DefaultNHttpClientConnection.consumeInput(DefaultNHttpClientConnection.java:265) ~[httpcore-nio-4.4.15.jar:4.4.15]\nat org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:87) ~[httpasyncclient-4.1.5.jar:4.1.5]\nat org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:40) ~[httpasyncclient-4.1.5.jar:4.1.5]\nat org.apache.http.impl.nio.reactor.AbstractIODispatch.inputReady(AbstractIODispatch.java:121) ~[httpcore-nio-4.4.15.jar:4.4.15]\nat org.apache.http.impl.nio.reactor.BaseIOReactor.readable(BaseIOReactor.java:162) ~[httpcore-nio-4.4.15.jar:4.4.15]\nat org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:337) ~[httpcore-nio-4.4.15.jar:4.4.15]\nat org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java:315) ~[httpcore-nio-4.4.15.jar:4.4.15]\nat org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:276) ~[httpcore-nio-4.4.15.jar:4.4.15]\nat org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104) ~[httpcore-nio-4.4.15.jar:4.4.15]\nat org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:591) ~[httpcore-nio-4.4.15.jar:4.4.15]\nat java.lang.Thread.run(Thread.java:830) ~[?:?]\nCaused by: org.hibernate.search.util.common.SearchException: HSEARCH400007: Elasticsearch request failed: HSEARCH400090: Elasticsearch response indicates a failure.\nRequest: POST /_bulk with parameters {}\nResponse: 403 'Forbidden' from 'https://redacted.es.amazonaws.com' with body\n{\n&quot;message&quot;: &quot;The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.\\n\\nThe Canonical String for this request should have been&quot;\n}\nat org.hibernate.search.backend.elasticsearch.work.impl.AbstractNonBulkableWork.handleResult(AbstractNonBulkableWork.java:84) ~[hibernate-search-backend-elasticsearch-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.search.backend.elasticsearch.work.impl.AbstractNonBulkableWork.lambda$execute$3(AbstractNonBulkableWork.java:66) ~[hibernate-search-backend-elasticsearch-6.1.7.Final.jar:6.1.7.Final]\nat java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:642\n</code></pre>\n<p>I've spit through all the documentation I could find, tried different parameters, offsets, fetchId sizes, etc. To no avail. The true differentiating factor I seem to not be able to dig through is that is first works (the entities are actually indexed and show up), but that it doesn't work after a while... (4-5minutes). Nothing is to be found about that.</p>\n<p>Any feedback, answers or questions are welcome.</p>\n"},{"tags":["java","android","kotlin","permissions","android-external-storage"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1675107358,"post_id":75286768,"comment_id":132853576,"body_markdown":"Please post your code in a code block so the lines persist. All is unreadable now.","body":"Please post your code in a code block so the lines persist. All is unreadable now."}],"owner":{"account_id":27601819,"reputation":47,"user_id":21066904,"display_name":"Chibako"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675093431,"creation_date":1675093431,"question_id":75286768,"body_markdown":"i want to create a Directory called &quot;test&quot; in Downlaods folder.\r\ni granted all permissions (Manage External Storage, Read/Write Permissions) and i am using this codes\r\n\r\n\r\n\r\n`if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n                    val baseDirectory = context.getExternalFilesDir(Constants.baseDirectory)\r\n                    if (!baseDirectory?.exists()!!) {\r\n                        baseDirectory.mkdir()\r\n                    }\r\n                } `\r\nbut my folder is not created (folder created in android/data )\r\ni also used this codes\r\n\r\nval downloadsDirectory =\r\n                        `Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS)\r\n                    val appDirectory = File(downloadsDirectory, Constants.baseDirectory)\r\n                    if (!appDirectory.exists()) {\r\n                        appDirectory.mkdir()\r\n                    }`\r\n\r\nand again my folder is not created, i dont care permissions i just need to create folder in Downloads","title":"How to Create a Directory in Downloads folder in Android API 30+?","body":"<p>i want to create a Directory called &quot;test&quot; in Downlaods folder.\ni granted all permissions (Manage External Storage, Read/Write Permissions) and i am using this codes</p>\n<p><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) { val baseDirectory = context.getExternalFilesDir(Constants.baseDirectory) if (!baseDirectory?.exists()!!) { baseDirectory.mkdir() } } </code>\nbut my folder is not created (folder created in android/data )\ni also used this codes</p>\n<p>val downloadsDirectory =\n<code>Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS) val appDirectory = File(downloadsDirectory, Constants.baseDirectory) if (!appDirectory.exists()) { appDirectory.mkdir() }</code></p>\n<p>and again my folder is not created, i dont care permissions i just need to create folder in Downloads</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":18882550,"reputation":146,"user_id":13774637,"display_name":"Ethan Yin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674118687,"creation_date":1674118687,"answer_id":75169770,"question_id":75167299,"body_markdown":"If you use the terminal for running command lines in the IDE, you can specify the JAVA_HOME variable from Settings | Tools | Terminal | Environment variables configuration.\r\n\r\nIf you run Maven goals/Gradle tasks from the build tool window, you can specify which JRE to use from Settings | Build, Execution, Deployment | Build Tools | Maven | Runner for Maven, and Settings | Build, Execution, Deployment | Build Tools | Gradle | Gradle JVM for Gradle.","title":"Intellij IDEA terminal shows wrong jVM version with ./gradlew -version or mvn -version","body":"<p>If you use the terminal for running command lines in the IDE, you can specify the JAVA_HOME variable from Settings | Tools | Terminal | Environment variables configuration.</p>\n<p>If you run Maven goals/Gradle tasks from the build tool window, you can specify which JRE to use from Settings | Build, Execution, Deployment | Build Tools | Maven | Runner for Maven, and Settings | Build, Execution, Deployment | Build Tools | Gradle | Gradle JVM for Gradle.</p>\n"},{"tags":[],"owner":{"account_id":14244060,"reputation":75,"user_id":10289664,"display_name":"Lahiru Liyanage"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675092980,"creation_date":1675092980,"answer_id":75286660,"question_id":75167299,"body_markdown":"Found another solution after a few days, this question was raised.\r\n\r\nIf you are working with IntelliJ IDEA. There is a solution, If you are working in multiple projects and the java versions of those projects are different, you can easily switch the java version of the intellij idea terminal without changing the windows system variable paths.\r\n\r\nI am using IntelliJ IDEA 2022.3.1 (Community Edition)\r\n\r\n 1. Go to File -&gt; Settings\r\n 2. In the pop-up window&#39;s left side panel, Got to Tools -&gt; Terminal\r\n \r\n[![enter image description here][1]][1]\r\n\r\n\r\n 3. Click on the right-side icon of the Environment variables field. \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DNkM3.jpg\r\n  [2]: https://i.stack.imgur.com/s6ZtF.jpg\r\n\r\n 4. Set Java_Home as &lt;Your Java folder path - without bin&gt;\r\n\r\nNote: In the attached screenshots rather than java it is mentioned as corretto for the Environment variables and the JAVA_HOME path. Folks who have no idea about corretto and java, please consider they are same.","title":"Intellij IDEA terminal shows wrong jVM version with ./gradlew -version or mvn -version","body":"<p>Found another solution after a few days, this question was raised.</p>\n<p>If you are working with IntelliJ IDEA. There is a solution, If you are working in multiple projects and the java versions of those projects are different, you can easily switch the java version of the intellij idea terminal without changing the windows system variable paths.</p>\n<p>I am using IntelliJ IDEA 2022.3.1 (Community Edition)</p>\n<ol>\n<li>Go to File -&gt; Settings</li>\n<li>In the pop-up window's left side panel, Got to Tools -&gt; Terminal</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/DNkM3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DNkM3.jpg\" alt=\"enter image description here\" /></a></p>\n<ol start=\"3\">\n<li>Click on the right-side icon of the Environment variables field.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/s6ZtF.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s6ZtF.jpg\" alt=\"enter image description here\" /></a></p>\n<ol start=\"4\">\n<li>Set Java_Home as &lt;Your Java folder path - without bin&gt;</li>\n</ol>\n<p>Note: In the attached screenshots rather than java it is mentioned as corretto for the Environment variables and the JAVA_HOME path. Folks who have no idea about corretto and java, please consider they are same.</p>\n"}],"owner":{"account_id":14244060,"reputation":75,"user_id":10289664,"display_name":"Lahiru Liyanage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1675092980,"creation_date":1674096481,"question_id":75167299,"body_markdown":"Normally I have to work with multiple java versions for multiple projects. Therefore what I normally do is change the java path for the particular version from the environment variables.\r\n\r\nWhile I am using the IntelliJ idea, sometimes even though I changed the java path in environment variables IntelliJ idea terminal is showing the wrong jvm version when **./gradlew -version** or **mvn -version** commands are executed.\r\nBut real PowerShell, command prompt or git bash is showing the correct jvm version when executing the above commands.\r\n\r\nI double checked in the IntelliJ idea \r\n\r\n1. Flie -&gt; Project Structure\r\n2. File -&gt; Settings\r\n&lt;sub&gt;Buidl, Execution, Deployment -&gt; Gradle -&gt; all the options and &lt;/sub&gt;\r\n&lt;sub&gt;Tools -&gt; Terminal -&gt; in Environment Variables, correct java path is set&lt;/sub&gt;\r\n3. Project Configurations\r\n\r\nAll above are set as they should be with the correct java version and path.","title":"Intellij IDEA terminal shows wrong jVM version with ./gradlew -version or mvn -version","body":"<p>Normally I have to work with multiple java versions for multiple projects. Therefore what I normally do is change the java path for the particular version from the environment variables.</p>\n<p>While I am using the IntelliJ idea, sometimes even though I changed the java path in environment variables IntelliJ idea terminal is showing the wrong jvm version when <strong>./gradlew -version</strong> or <strong>mvn -version</strong> commands are executed.\nBut real PowerShell, command prompt or git bash is showing the correct jvm version when executing the above commands.</p>\n<p>I double checked in the IntelliJ idea</p>\n<ol>\n<li>Flie -&gt; Project Structure</li>\n<li>File -&gt; Settings\n<sub>Buidl, Execution, Deployment -&gt; Gradle -&gt; all the options and </sub>\n<sub>Tools -&gt; Terminal -&gt; in Environment Variables, correct java path is set</sub></li>\n<li>Project Configurations</li>\n</ol>\n<p>All above are set as they should be with the correct java version and path.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9533,"page":690,"page_size":100}
