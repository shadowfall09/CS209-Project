{"items":[{"tags":["java","if-statement","operators"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":2,"creation_date":1668507171,"post_id":74443863,"comment_id":131416272,"body_markdown":"Use `==` instead of `=` inside the `if` comparisons.","body":"Use <code>==</code> instead of <code>=</code> inside the <code>if</code> comparisons."}],"answers":[{"tags":[],"owner":{"account_id":17738284,"reputation":11,"user_id":12879242,"display_name":"Ahmet Emin Saglik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668507546,"creation_date":1668507449,"answer_id":74443935,"question_id":74443863,"body_markdown":"You wrote `requestCode = 1`   in if statement. You should write it `requestCode == 1`. Also you should write `resultCode == RESULT_OK`.\r\n\r\n`=` and `==` are different.","title":"operator &#39;&amp;&amp;&#39;cannot be applied to &#39;int&#39;, &#39;int&#39;","body":"<p>You wrote <code>requestCode = 1</code>   in if statement. You should write it <code>requestCode == 1</code>. Also you should write <code>resultCode == RESULT_OK</code>.</p>\n<p><code>=</code> and <code>==</code> are different.</p>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668507839,"creation_date":1668507839,"answer_id":74444024,"question_id":74443863,"body_markdown":"Your code is a good example why it is &quot;dangerous&quot; to do equality comparisons:\r\n\r\n`requestCode = 1 &amp;&amp; resultCode = RESULT_OK &amp;&amp; data!=null`\r\n\r\nThis could be split up in \r\n\r\n * `requestCode = 1`\r\n * and\r\n * `resultCode = RESULT_OK`\r\n * and\r\n * `data != null`\r\n\r\nOf the three comparisons probably only the last gets evaluated as you intended.\r\nThe first two are actually _assignements_ that assign a value on the right side of the `=` to the variable on the left side. But even an assignement is evaluated to something and that something is the value that&#39;s assigned to the left side, so `requestCode = 1` not only assigns the `int` value `1` to `requestCode` but also evaluates to `1` in total.\r\n\r\nThen the `int` results of the comparisons are combined via the `&amp;&amp;` operator, but that does only work on `boolean` values, and that is where the error comes from.\r\n\r\nYou probably wanted to write `requestCode == 1 &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null`.\r\n\r\n(N.B.: in C it&#39;s even worse, because there you _can_ combine ints with the &amp;&amp; operator, and the whole statement would not be thrown back by the compiler. There you should always write the constant first, like `1 == requestCode` because even if you forget on of the `=`, the compiler cannot assign a value to the constant on the left side, while the comparison doesn&#39;t care about the order of the operands.)","title":"operator &#39;&amp;&amp;&#39;cannot be applied to &#39;int&#39;, &#39;int&#39;","body":"<p>Your code is a good example why it is &quot;dangerous&quot; to do equality comparisons:</p>\n<p><code>requestCode = 1 &amp;&amp; resultCode = RESULT_OK &amp;&amp; data!=null</code></p>\n<p>This could be split up in</p>\n<ul>\n<li><code>requestCode = 1</code></li>\n<li>and</li>\n<li><code>resultCode = RESULT_OK</code></li>\n<li>and</li>\n<li><code>data != null</code></li>\n</ul>\n<p>Of the three comparisons probably only the last gets evaluated as you intended.\nThe first two are actually <em>assignements</em> that assign a value on the right side of the <code>=</code> to the variable on the left side. But even an assignement is evaluated to something and that something is the value that's assigned to the left side, so <code>requestCode = 1</code> not only assigns the <code>int</code> value <code>1</code> to <code>requestCode</code> but also evaluates to <code>1</code> in total.</p>\n<p>Then the <code>int</code> results of the comparisons are combined via the <code>&amp;&amp;</code> operator, but that does only work on <code>boolean</code> values, and that is where the error comes from.</p>\n<p>You probably wanted to write <code>requestCode == 1 &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null</code>.</p>\n<p>(N.B.: in C it's even worse, because there you <em>can</em> combine ints with the &amp;&amp; operator, and the whole statement would not be thrown back by the compiler. There you should always write the constant first, like <code>1 == requestCode</code> because even if you forget on of the <code>=</code>, the compiler cannot assign a value to the constant on the left side, while the comparison doesn't care about the order of the operands.)</p>\n"}],"owner":{"account_id":21225511,"reputation":3,"user_id":19601109,"display_name":"n00b"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668507925,"accepted_answer_id":74444024,"answer_count":2,"score":0,"last_activity_date":1668507839,"creation_date":1668507089,"question_id":74443863,"body_markdown":"\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode = 1 &amp;&amp; resultCode = RESULT_OK &amp;&amp; data!=null){\r\n            imagePath = data.getData();\r\n            getImageinImageView();\r\n        }\r\n    }`\r\n\r\n\r\n\r\nI don&#39;t understand why it gives me this error.\r\n\r\n\r\nI&#39;m trying to make a profile picture changer and when the picture is selected, it shows the new profile picture.","title":"operator &#39;&amp;&amp;&#39;cannot be applied to &#39;int&#39;, &#39;int&#39;","body":"<pre><code>@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if (requestCode = 1 &amp;&amp; resultCode = RESULT_OK &amp;&amp; data!=null){\n        imagePath = data.getData();\n        getImageinImageView();\n    }\n}`\n</code></pre>\n<p>I don't understand why it gives me this error.</p>\n<p>I'm trying to make a profile picture changer and when the picture is selected, it shows the new profile picture.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1668497460,"post_id":74441921,"comment_id":131412871,"body_markdown":"Please specify, which json library you are using. Also what exactly is not working with your code? Aside from non-matching case of `person` property, which is easily fixed, it looks fine at first glance.","body":"Please specify, which json library you are using. Also what exactly is not working with your code? Aside from non-matching case of <code>person</code> property, which is easily fixed, it looks fine at first glance."},{"owner":{"account_id":19534415,"reputation":539,"user_id":14293486,"display_name":"Marcin_S"},"score":0,"creation_date":1668498359,"post_id":74441921,"comment_id":131413120,"body_markdown":"`Person` object is coming null for me","body":"<code>Person</code> object is coming null for me"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1668498931,"post_id":74441921,"comment_id":131413297,"body_markdown":"Ok, and the json library - gson, jackson, something else? If we can&#39;t reproduce the issue, we can&#39;t help.","body":"Ok, and the json library - gson, jackson, something else? If we can&#39;t reproduce the issue, we can&#39;t help."}],"answers":[{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668507831,"creation_date":1668507831,"answer_id":74444023,"question_id":74441921,"body_markdown":"Do not use ApiRequest, use JsonNode.\r\n\r\n\tpackage com.example.demo.controller;import org.springframework.web.bind.annotation.RequestBody;\r\n\timport org.springframework.web.bind.annotation.RequestMapping;\r\n\timport org.springframework.web.bind.annotation.RequestMethod;\r\n\timport org.springframework.web.bind.annotation.RestController;import com.fasterxml.jackson.databind.JsonNode;@RestController\r\n\tpublic class DemoController {\r\n\t \r\n\t @RequestMapping(value=&quot;/ping&quot;,method = RequestMethod.POST)\r\n\t public JsonNode index(@RequestBody JsonNode jsonNode) {\r\n\t\tSystem.out.println(&quot;Received JSON:&quot;+jsonNode.toString());\r\n\t\treturn jsonNode;\r\n\t    }\r\n\t}","title":"How to Store JSON Object in Spring","body":"<p>Do not use ApiRequest, use JsonNode.</p>\n<pre><code>package com.example.demo.controller;import org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;import com.fasterxml.jackson.databind.JsonNode;@RestController\npublic class DemoController {\n \n @RequestMapping(value=&quot;/ping&quot;,method = RequestMethod.POST)\n public JsonNode index(@RequestBody JsonNode jsonNode) {\n    System.out.println(&quot;Received JSON:&quot;+jsonNode.toString());\n    return jsonNode;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19534415,"reputation":539,"user_id":14293486,"display_name":"Marcin_S"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1668518253,"answer_count":1,"score":1,"last_activity_date":1668507831,"creation_date":1668497031,"question_id":74441921,"body_markdown":"I am taking below request via my API :\r\n\r\n    {\r\n    \r\n       &quot;Person&quot; : {\r\n            &quot;name&quot; : &quot;abc&quot;,\r\n            &quot;age&quot;  : &quot;12&quot;,\r\n            &quot;hobby&quot; : {\r\n                 &quot;x&quot; : &quot;y&quot;\r\n                 &quot;z&quot; : &quot;d&quot;,\r\n             }, \r\n            &quot;other&quot; : &quot;abc&quot;  \r\n          }, \r\n        &quot;attribute&quot;: &quot;1&quot;,\r\n        &quot;attribute2&quot;: &quot;2&quot;\r\n    \r\n    \r\n    }\r\nHow i to store the Person object in code , since person object can contains any number of fields so the schema is not fixed, how i can store this as HashMap so i can do some processing.\r\nMy Code :\r\n\r\n    public class ApiRequest {\r\n    \r\n \r\n        private Map&lt;String, Object&gt; Person;\r\n        private int attribute;\r\n        private int attribute2;\r\n  \r\n    }\r\n\r\nWhat the correct to process person ?","title":"How to Store JSON Object in Spring","body":"<p>I am taking below request via my API :</p>\n<pre><code>{\n\n   &quot;Person&quot; : {\n        &quot;name&quot; : &quot;abc&quot;,\n        &quot;age&quot;  : &quot;12&quot;,\n        &quot;hobby&quot; : {\n             &quot;x&quot; : &quot;y&quot;\n             &quot;z&quot; : &quot;d&quot;,\n         }, \n        &quot;other&quot; : &quot;abc&quot;  \n      }, \n    &quot;attribute&quot;: &quot;1&quot;,\n    &quot;attribute2&quot;: &quot;2&quot;\n\n\n}\n</code></pre>\n<p>How i to store the Person object in code , since person object can contains any number of fields so the schema is not fixed, how i can store this as HashMap so i can do some processing.\nMy Code :</p>\n<pre><code>public class ApiRequest {\n\n\n    private Map&lt;String, Object&gt; Person;\n    private int attribute;\n    private int attribute2;\n\n}\n</code></pre>\n<p>What the correct to process person ?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668067094,"creation_date":1668067094,"answer_id":74385763,"question_id":74385708,"body_markdown":"You can create a custom response class that looks like this:\r\n\r\n    class CustomResponse {\r\n       private String status;\r\n       private String message;\r\n       // Constructor/Getters/Setters\r\n    }\r\n\r\nThen in your controller return `ResponseEntity` for example:\r\n\r\n    CustomResponse response = new CustomResponse(&quot;OK&quot;, &quot;Data Added&quot;);\r\n    return ResponseEntity.ok(response); // the ok will return HTTP Status 200\r\n\r\nOr if you want another HttpStatus, then you can use for example:\r\n\r\n    return new ResponseEntity&lt;&gt;(response, HttpStatus.CREATED);\r\n                                          ^^^^^^^^^^^^^^^^^^\r\n\r\n","title":"How to return message in Resposne Body?","body":"<p>You can create a custom response class that looks like this:</p>\n<pre><code>class CustomResponse {\n   private String status;\n   private String message;\n   // Constructor/Getters/Setters\n}\n</code></pre>\n<p>Then in your controller return <code>ResponseEntity</code> for example:</p>\n<pre><code>CustomResponse response = new CustomResponse(&quot;OK&quot;, &quot;Data Added&quot;);\nreturn ResponseEntity.ok(response); // the ok will return HTTP Status 200\n</code></pre>\n<p>Or if you want another HttpStatus, then you can use for example:</p>\n<pre><code>return new ResponseEntity&lt;&gt;(response, HttpStatus.CREATED);\n                                      ^^^^^^^^^^^^^^^^^^\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14004637,"reputation":1036,"user_id":10115166,"display_name":"Ali Raza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668067211,"creation_date":1668067211,"answer_id":74385791,"question_id":74385708,"body_markdown":"This is how to return custom object in response.\r\n\r\n    router.post(&quot;/newStudent&quot;, async (req, res) =&gt; {\r\n      const { name, rollNo, studentId } = req.data;\r\n    \r\n      // POST data to DB\r\n      const result = await AddStudentDataToDB({ name, rollNo, studentId });\r\n    \r\n      res.status(200).json({\r\n        status: &#39;ok&#39;,\r\n        message: &#39;Data Added&#39;\r\n      });\r\n    });","title":"How to return message in Resposne Body?","body":"<p>This is how to return custom object in response.</p>\n<pre><code>router.post(&quot;/newStudent&quot;, async (req, res) =&gt; {\n  const { name, rollNo, studentId } = req.data;\n\n  // POST data to DB\n  const result = await AddStudentDataToDB({ name, rollNo, studentId });\n\n  res.status(200).json({\n    status: 'ok',\n    message: 'Data Added'\n  });\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15486586,"reputation":106,"user_id":11185081,"display_name":"Manir Mahamat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668068669,"creation_date":1668068505,"answer_id":74386002,"question_id":74385708,"body_markdown":"First of all you should create a Response class which will hold status code and your custom message like the following class :\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Response {\r\n      private String statusCode;\r\n      private String statusMsg;\r\n    }\r\nSo in your controller where you post the object use ResponseEntity which can allow you to customize HTTP response methods. For example:\r\n\r\n     @Autowired\r\n     private StudentRepository studentRepository;\r\n\r\n     @PostMapping(&quot;/newStudent&quot;)\r\n     public ResponseEntity&lt;Response&gt; saveEmployee(@RequestBody Student \r\n      student){\r\n        studentRepository.save(student);\r\n        Response response = new Response();\r\n        response.setStatusCode(&quot;200&quot;);\r\n        response.setStatusMsg(&quot;Your message&quot;);\r\n        return ResponseEntity.status(HttpStatus.CREATED).body(response);\r\n    }","title":"How to return message in Resposne Body?","body":"<p>First of all you should create a Response class which will hold status code and your custom message like the following class :</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Response {\n  private String statusCode;\n  private String statusMsg;\n}\n</code></pre>\n<p>So in your controller where you post the object use ResponseEntity which can allow you to customize HTTP response methods. For example:</p>\n<pre><code> @Autowired\n private StudentRepository studentRepository;\n\n @PostMapping(&quot;/newStudent&quot;)\n public ResponseEntity&lt;Response&gt; saveEmployee(@RequestBody Student \n  student){\n    studentRepository.save(student);\n    Response response = new Response();\n    response.setStatusCode(&quot;200&quot;);\n    response.setStatusMsg(&quot;Your message&quot;);\n    return ResponseEntity.status(HttpStatus.CREATED).body(response);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14349001,"reputation":1,"user_id":10365095,"display_name":"Banky Alani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668098290,"creation_date":1668098290,"answer_id":74392430,"question_id":74385708,"body_markdown":"\r\n    import org.json.simple.JSONObject;\r\n\r\n    @ResponseBody\r\n    @RequestMapping(value = &quot;/studentdata&quot;, method = RequestMethod.POST, produces = MediaType.APPLICATION_JSON_VALUE, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n    public String message(@RequestBody String transaction) {\r\n      String response = &quot;&quot;;\r\n\r\n      JSONObject obj = new JSONObject();\r\n      obj.put(&quot;status&quot;, &quot;OK&quot;);\r\n      obj.put(&quot;message&quot;, &quot;Data Added&quot;);\r\n      response = obj.toJSONString();\r\n      \r\n      return response;\r\n    }","title":"How to return message in Resposne Body?","body":"<pre><code>import org.json.simple.JSONObject;\n\n@ResponseBody\n@RequestMapping(value = &quot;/studentdata&quot;, method = RequestMethod.POST, produces = MediaType.APPLICATION_JSON_VALUE, consumes = MediaType.APPLICATION_JSON_VALUE)\npublic String message(@RequestBody String transaction) {\n  String response = &quot;&quot;;\n\n  JSONObject obj = new JSONObject();\n  obj.put(&quot;status&quot;, &quot;OK&quot;);\n  obj.put(&quot;message&quot;, &quot;Data Added&quot;);\n  response = obj.toJSONString();\n  \n  return response;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26224393,"reputation":1,"user_id":19901286,"display_name":"SHUBHAM SHARMA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668507781,"creation_date":1668243799,"answer_id":74411638,"question_id":74385708,"body_markdown":"It worked for me like this in Response class:\r\n```java\r\npublic class Response {\r\n\tprivate String statusCode;\r\n\tprivate String statusMsg;\r\n\r\n\tpublic String getStatusCode() {\r\n\t\treturn statusCode;\r\n\t}\r\n\r\n\tpublic void setStatusCode(String statusCode) {\r\n\t\tthis.statusCode = statusCode;\r\n\t}\r\n\r\n\tpublic String getStatusMsg() {\r\n\t\treturn statusMsg;\r\n\t}\r\n\r\n\tpublic void setStatusMsg(String statusMsg) {\r\n\t\tthis.statusMsg = statusMsg;\r\n\t}\r\n}\r\n```\r\n\r\nIn controller:\r\n```java\r\n@PostMapping(&quot;/newStudent&quot;)\r\n\tpublic ResponseEntity&lt;Response&gt; saveStudent(@RequestBody Student student) {\r\n\t\tStudent save = service.save(student);\r\n\t\tResponse response = new Response();\r\n\t\tresponse.setStatusCode(&quot;200&quot;);\r\n\t\tresponse.setStatusMsg(&quot;Data Added&quot;);\r\n\t\treturn ResponseEntity.status(HttpStatus.CREATED).body(response);\r\n\t}\r\n```","title":"How to return message in Resposne Body?","body":"<p>It worked for me like this in Response class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Response {\n    private String statusCode;\n    private String statusMsg;\n\n    public String getStatusCode() {\n        return statusCode;\n    }\n\n    public void setStatusCode(String statusCode) {\n        this.statusCode = statusCode;\n    }\n\n    public String getStatusMsg() {\n        return statusMsg;\n    }\n\n    public void setStatusMsg(String statusMsg) {\n        this.statusMsg = statusMsg;\n    }\n}\n</code></pre>\n<p>In controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/newStudent&quot;)\n    public ResponseEntity&lt;Response&gt; saveStudent(@RequestBody Student student) {\n        Student save = service.save(student);\n        Response response = new Response();\n        response.setStatusCode(&quot;200&quot;);\n        response.setStatusMsg(&quot;Data Added&quot;);\n        return ResponseEntity.status(HttpStatus.CREATED).body(response);\n    }\n</code></pre>\n"}],"owner":{"account_id":26224393,"reputation":1,"user_id":19901286,"display_name":"SHUBHAM SHARMA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1668507781,"creation_date":1668066752,"question_id":74385708,"body_markdown":"I have to retuen the message &quot;Data Added&quot; in the api in ResponseBody\r\n Create a api while enters student data\r\n/newStudent\r\n\r\nRequest Body:\r\n\r\n    {\r\n    &quot;name&quot;:&quot;Shubham&quot;,\r\n    &quot;rollno&quot;:22,\r\n    &quot;studentid&quot;:1\r\n    }\r\n\r\nResponse: \r\n\r\n    {\r\n    &quot;status&quot;:&quot;OK&quot;,\r\n    &quot;message&quot;:&quot;Data Added&quot;\r\n    }\r\n\r\n---\r\n\r\n    @RequestMapping(&quot;/studentdata&quot;)\r\n    @ResponseBody\r\n    @ResponseStatus(HttpStatus.OK )\r\n\r\n","title":"How to return message in Resposne Body?","body":"<p>I have to retuen the message &quot;Data Added&quot; in the api in ResponseBody\nCreate a api while enters student data\n/newStudent</p>\n<p>Request Body:</p>\n<pre><code>{\n&quot;name&quot;:&quot;Shubham&quot;,\n&quot;rollno&quot;:22,\n&quot;studentid&quot;:1\n}\n</code></pre>\n<p>Response:</p>\n<pre><code>{\n&quot;status&quot;:&quot;OK&quot;,\n&quot;message&quot;:&quot;Data Added&quot;\n}\n</code></pre>\n<hr />\n<pre><code>@RequestMapping(&quot;/studentdata&quot;)\n@ResponseBody\n@ResponseStatus(HttpStatus.OK )\n</code></pre>\n"},{"tags":["java","docker","java-17","eclipse-temurin"],"answers":[{"tags":[],"owner":{"account_id":255268,"reputation":22641,"user_id":535203,"accept_rate":73,"display_name":"Anthony O."},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1668507543,"creation_date":1668507543,"answer_id":74443958,"question_id":74443957,"body_markdown":"Adding `--security-opt seccomp=unconfined` argument to the `docker run` command fixed my issue.\r\n\r\nThanks to this [SO answer][1] that pointed out `seccomp` Docker security profile &amp; [official documentation][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73970043/535203\r\n  [2]: https://docs.docker.com/engine/security/seccomp/","title":"&quot;insufficient memory&quot; while running eclipse-temurin:17-jdk Docker image","body":"<p>Adding <code>--security-opt seccomp=unconfined</code> argument to the <code>docker run</code> command fixed my issue.</p>\n<p>Thanks to this <a href=\"https://stackoverflow.com/a/73970043/535203\">SO answer</a> that pointed out <code>seccomp</code> Docker security profile &amp; <a href=\"https://docs.docker.com/engine/security/seccomp/\" rel=\"noreferrer\">official documentation</a>.</p>\n"}],"owner":{"account_id":255268,"reputation":22641,"user_id":535203,"accept_rate":73,"display_name":"Anthony O."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5787,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"answer_count":1,"score":2,"last_activity_date":1668507543,"creation_date":1668507543,"question_id":74443957,"body_markdown":"While running a `./mvnw clean package` command inside Docker container running `eclipse-temurin:17-jdk` image, I got the following error (Maven doesn&#39;t even execute):\r\n\r\n    [0.002s][warning][os,thread] Failed to start thread &quot;GC Thread#0&quot; - pthread_create failed (EPERM) for attributes: stacksize: 1024k, guardsize: 4k, detached.\r\n    #\r\n    # There is insufficient memory for the Java Runtime Environment to continue.\r\n    # Cannot create worker GC thread. Out of system resources.\r\n    # An error report file with more information is saved as:\r\n    # /home/myuser/hs_err_pid8.log\r\n\r\nThere were more information in `hs_err_pid8.log` file:\r\n\r\n    # There is insufficient memory for the Java Runtime Environment to continue.\r\n    # Cannot create worker GC thread. Out of system resources.\r\n    # Possible reasons:\r\n    #   The system is out of physical RAM or swap space\r\n    #   The process is running with CompressedOops enabled, and the Java Heap may be blocking the growth of the native heap\r\n    # Possible solutions:\r\n    #   Reduce memory load on the system\r\n    #   Increase physical memory or swap space\r\n    #   Check if swap backing store is full\r\n    #   Decrease Java heap size (-Xmx/-Xms)\r\n    #   Decrease number of Java threads\r\n    #   Decrease Java thread stack sizes (-Xss)\r\n    #   Set larger code cache with -XX:ReservedCodeCacheSize=\r\n    #   JVM is running with Zero Based Compressed Oops mode in which the Java heap is\r\n    #     placed in the first 32GB address space. The Java Heap base address is the\r\n    #     maximum limit for the native heap growth. Please use -XX:HeapBaseMinAddress\r\n    #     to set the Java Heap base and to place the Java Heap above 32GB virtual address.\r\n    # This output file may be truncated or incomplete.\r\n    #\r\n    #  Out of Memory Error (workerManager.hpp:87), pid=8, tid=8\r\n    #\r\n    # JRE version:  (17.0.5+8) (build )\r\n    # Java VM: OpenJDK 64-Bit Server VM (17.0.5+8, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, linux-amd64)\r\n\r\nHow can I fix this?","title":"&quot;insufficient memory&quot; while running eclipse-temurin:17-jdk Docker image","body":"<p>While running a <code>./mvnw clean package</code> command inside Docker container running <code>eclipse-temurin:17-jdk</code> image, I got the following error (Maven doesn't even execute):</p>\n<pre><code>[0.002s][warning][os,thread] Failed to start thread &quot;GC Thread#0&quot; - pthread_create failed (EPERM) for attributes: stacksize: 1024k, guardsize: 4k, detached.\n#\n# There is insufficient memory for the Java Runtime Environment to continue.\n# Cannot create worker GC thread. Out of system resources.\n# An error report file with more information is saved as:\n# /home/myuser/hs_err_pid8.log\n</code></pre>\n<p>There were more information in <code>hs_err_pid8.log</code> file:</p>\n<pre><code># There is insufficient memory for the Java Runtime Environment to continue.\n# Cannot create worker GC thread. Out of system resources.\n# Possible reasons:\n#   The system is out of physical RAM or swap space\n#   The process is running with CompressedOops enabled, and the Java Heap may be blocking the growth of the native heap\n# Possible solutions:\n#   Reduce memory load on the system\n#   Increase physical memory or swap space\n#   Check if swap backing store is full\n#   Decrease Java heap size (-Xmx/-Xms)\n#   Decrease number of Java threads\n#   Decrease Java thread stack sizes (-Xss)\n#   Set larger code cache with -XX:ReservedCodeCacheSize=\n#   JVM is running with Zero Based Compressed Oops mode in which the Java heap is\n#     placed in the first 32GB address space. The Java Heap base address is the\n#     maximum limit for the native heap growth. Please use -XX:HeapBaseMinAddress\n#     to set the Java Heap base and to place the Java Heap above 32GB virtual address.\n# This output file may be truncated or incomplete.\n#\n#  Out of Memory Error (workerManager.hpp:87), pid=8, tid=8\n#\n# JRE version:  (17.0.5+8) (build )\n# Java VM: OpenJDK 64-Bit Server VM (17.0.5+8, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, linux-amd64)\n</code></pre>\n<p>How can I fix this?</p>\n"},{"tags":["java","amazon-dynamodb"],"comments":[{"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1668465240,"post_id":74436729,"comment_id":131407286,"body_markdown":"Do you have a composite primary key (i.e. composed of the partition key and the sort key)?","body":"Do you have a composite primary key (i.e. composed of the partition key and the sort key)?"},{"owner":{"account_id":1212720,"reputation":87,"user_id":1180969,"accept_rate":20,"display_name":"user1180969"},"score":0,"creation_date":1668467227,"post_id":74436729,"comment_id":131407788,"body_markdown":"Yes, I have a composite key i.e, combination of partition key and sort key is unique","body":"Yes, I have a composite key i.e, combination of partition key and sort key is unique"}],"answers":[{"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668507506,"creation_date":1668507506,"answer_id":74443948,"question_id":74436729,"body_markdown":"If your table has only a partition key defined then you should be able to get the single item with only the PK\r\n\r\n    Domain item = mapper.load(Domain.class, id)\r\n\r\n\r\nIf you have both keys defined you should use a &quot;begins with&quot; query\r\n\r\n    DynamoDBQueryExpression&lt;Domain&gt; queryExpression = new DynamoDBQueryExpression&lt;Domain&gt;()\r\n        .withKeyConditionExpression(&quot;pk = :v1 and begins_with(sk, :v2)&quot;)\r\n        .withExpressionAttributeValues(eav);\r\n\r\nMore examples [here][1]\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.Methods.html#DynamoDBMapper.Methods.load","title":"DynamoDB: Retrieve item with partition key","body":"<p>If your table has only a partition key defined then you should be able to get the single item with only the PK</p>\n<pre><code>Domain item = mapper.load(Domain.class, id)\n</code></pre>\n<p>If you have both keys defined you should use a &quot;begins with&quot; query</p>\n<pre><code>DynamoDBQueryExpression&lt;Domain&gt; queryExpression = new DynamoDBQueryExpression&lt;Domain&gt;()\n    .withKeyConditionExpression(&quot;pk = :v1 and begins_with(sk, :v2)&quot;)\n    .withExpressionAttributeValues(eav);\n</code></pre>\n<p>More examples <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.Methods.html#DynamoDBMapper.Methods.load\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":1212720,"reputation":87,"user_id":1180969,"accept_rate":20,"display_name":"user1180969"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668507506,"creation_date":1668453310,"question_id":74436729,"body_markdown":"DynamoDB in my service has partition key that can have duplicate entries. \r\nMy understanding is `load` function in dynamodb mapper requires both hashkey and rangekey. \r\n\r\nIf I want to retrieve just by hash key, is below code the best solution? \r\n\r\n```\r\nDynamoDBQueryExpression&lt;Domain&gt; queryExpression = new DynamoDBQueryExpression&lt;Domain&gt;()\r\n                .withHashKeyValues(domain);\r\n        return dynamoDBMapper.query(Domain.class, queryExpression);\r\n```","title":"DynamoDB: Retrieve item with partition key","body":"<p>DynamoDB in my service has partition key that can have duplicate entries.\nMy understanding is <code>load</code> function in dynamodb mapper requires both hashkey and rangekey.</p>\n<p>If I want to retrieve just by hash key, is below code the best solution?</p>\n<pre><code>DynamoDBQueryExpression&lt;Domain&gt; queryExpression = new DynamoDBQueryExpression&lt;Domain&gt;()\n                .withHashKeyValues(domain);\n        return dynamoDBMapper.query(Domain.class, queryExpression);\n</code></pre>\n"},{"tags":["java","arrays","random","max","min"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1668507592,"post_id":74443927,"comment_id":131416446,"body_markdown":"What does &quot;Set a minimum and maximum int in a random number array&quot; even mean in your case? Set where? Do you mean you want to sort the array? Does that mean you want your random generated numbers to be in the range of min-max?","body":"What does &quot;Set a minimum and maximum int in a random number array&quot; even mean in your case? Set where? Do you mean you want to sort the array? Does that mean you want your random generated numbers to be in the range of min-max?"},{"owner":{"account_id":26937585,"reputation":1,"user_id":20508979,"display_name":"meltdown543"},"score":0,"creation_date":1668507843,"post_id":74443927,"comment_id":131416548,"body_markdown":"@OHGODSPIDERS it means that the array prints random numbers which have to be bigger than lets say 5 and smaller than 100.","body":"@OHGODSPIDERS it means that the array prints random numbers which have to be bigger than lets say 5 and smaller than 100."}],"owner":{"account_id":26937585,"reputation":1,"user_id":20508979,"display_name":"meltdown543"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668508523,"answer_count":0,"score":0,"last_activity_date":1668507406,"creation_date":1668507406,"question_id":74443927,"body_markdown":"So I got an assignment, where the first problem is to set a minimum and maximum in an array which contains random numbers. I can figure out how to print the array with random numbers but I fail at setting said min/max. \r\nClasses im using: Random, Arrays, Scanner (which I need for the other problems of the assignment). \r\nI already tried searching for the same question but I only find the ones where they need help finding a min and max of an array.\r\n\r\nthank you in advice. \r\n\r\n\r\n\r\nmy code: \r\n\r\n```\r\npublic class Ex6 {\r\n    public static void main(String[] args) {\r\n        randomArray();\r\n        System.out.println(Arrays.toString(randomArray()));\r\n    }\r\n    public static int[] randomArray() {\r\n        int[] size = new int[10];\r\n        Random r = new Random();\r\n        /*I know this can be used to find the min and the max but not to set the min and max.\r\n        I just wrote it down to remind myself again*/\r\n        int min = Arrays.stream(size).min().getAsInt(); \r\n        int max = Arrays.stream(size).min().getAsInt();\r\n\r\n        for (int i = 0; i &lt; size.length; i++) {\r\n            size[i] = r.nextInt(100);\r\n        /*I also figured there may be a way working with r.nextInt(100) but I also can&#39;t really             see the solution in front of me :/ */\r\n        }\r\n        return size;\r\n    }\r\n}\r\n```\r\n","title":"Set a minimum and maximum int in a random number array (Java)","body":"<p>So I got an assignment, where the first problem is to set a minimum and maximum in an array which contains random numbers. I can figure out how to print the array with random numbers but I fail at setting said min/max.\nClasses im using: Random, Arrays, Scanner (which I need for the other problems of the assignment).\nI already tried searching for the same question but I only find the ones where they need help finding a min and max of an array.</p>\n<p>thank you in advice.</p>\n<p>my code:</p>\n<pre><code>public class Ex6 {\n    public static void main(String[] args) {\n        randomArray();\n        System.out.println(Arrays.toString(randomArray()));\n    }\n    public static int[] randomArray() {\n        int[] size = new int[10];\n        Random r = new Random();\n        /*I know this can be used to find the min and the max but not to set the min and max.\n        I just wrote it down to remind myself again*/\n        int min = Arrays.stream(size).min().getAsInt(); \n        int max = Arrays.stream(size).min().getAsInt();\n\n        for (int i = 0; i &lt; size.length; i++) {\n            size[i] = r.nextInt(100);\n        /*I also figured there may be a way working with r.nextInt(100) but I also can't really             see the solution in front of me :/ */\n        }\n        return size;\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","loops","pseudocode"],"comments":[{"owner":{"account_id":26914061,"reputation":114,"user_id":20489149,"display_name":"synapticloop"},"score":0,"creation_date":1668481183,"post_id":74440117,"comment_id":131410088,"body_markdown":"Try reading the input as a String, then use a loop `for (char c : temp.toCharArray())`","body":"Try reading the input as a String, then use a loop <code>for (char c : temp.toCharArray())</code>"},{"owner":{"account_id":26934162,"reputation":1,"user_id":20506051,"display_name":"Deathmagi"},"score":0,"creation_date":1668481822,"post_id":74440117,"comment_id":131410202,"body_markdown":"it says Cannot invoke toCharArray() on the primitive type int","body":"it says Cannot invoke toCharArray() on the primitive type int"},{"owner":{"account_id":26914061,"reputation":114,"user_id":20489149,"display_name":"synapticloop"},"score":1,"creation_date":1668481966,"post_id":74440117,"comment_id":131410219,"body_markdown":"perhaps you should change it to a `String`","body":"perhaps you should change it to a <code>String</code>"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1668488958,"post_id":74440117,"comment_id":131411149,"body_markdown":"`String str = &quot;1234&quot;.replaceAll(&quot;(\\\\d)&quot;, &quot;$1 &quot;).trim();`","body":"<code>String str = &quot;1234&quot;.replaceAll(&quot;(\\\\d)&quot;, &quot;$1 &quot;).trim();</code>"}],"answers":[{"tags":[],"owner":{"account_id":26914061,"reputation":114,"user_id":20489149,"display_name":"synapticloop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668484602,"creation_date":1668481766,"answer_id":74440215,"question_id":74440117,"body_markdown":"Most of your code is correct, and what you are trying to do is divide by 10 and then print out the value - this probably should have been a modulus operation `%` to get the remainder of the operation and print that out - but a nice way of thinking about it.\r\n\r\nNevertheless.\r\n\r\nYou can just use a string and then split the string on each character\r\n\r\n```\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\tSystem.out.print(&quot;Enter an integer: &quot;);\r\n\r\n\t\t// we know that we are going to get some input - so we will just grab it as a String\r\n\t\t// whilst we are expecting an int - we will test this later.\r\n\t\t// we are doing this as it makes it easier to split the contents of a string\r\n\t\tString temp = input.next();\r\n\r\n\t\t// is this an int? - we will test this first\r\n\t\ttry {\r\n\t\t\t// if this parsing fails - then it will throw a java.lang.NumberFormat exception \r\n\t\t\t// see the catch block below\r\n\t\t\tint test = Integer.parseInt(temp);\r\n\t\t\t\r\n\t\t\t\r\n\r\n\t\t\t// at this point it is an int no exception was thrown- so let&#39;s go \r\n\t\t\t// through and start printing out each character with a space after it\r\n\r\n\t\t\t// the temp(which is a string).toCharArray returns a char[] which we\r\n\t\t\t// can just iterate through and set the variable of each iteration to &#39;c&#39;\r\n\t\t\tfor (char c : temp.toCharArray()) {\r\n\t\t\t\t\r\n\t\t\t\t// now we are going to print out the character with a space after it\r\n\t\t\t\tSystem.out.print(c + &quot; &quot;);\r\n\t\t\t}\r\n\r\n\t\t} catch (NumberFormatException ex){\r\n\t\t\t// this is not an int as we got a number format exception...\r\n\r\n\t\t\tSystem.out.println(&quot;You did not enter an integer. :(&quot;);\r\n\t\t}\r\n\r\n\t\t// be nice and close the resource\r\n\t\tinput.close();\r\n\t}\r\n```","title":"How do you make it so that when you enter a number it puts a space between each integer","body":"<p>Most of your code is correct, and what you are trying to do is divide by 10 and then print out the value - this probably should have been a modulus operation <code>%</code> to get the remainder of the operation and print that out - but a nice way of thinking about it.</p>\n<p>Nevertheless.</p>\n<p>You can just use a string and then split the string on each character</p>\n<pre><code>    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        System.out.print(&quot;Enter an integer: &quot;);\n\n        // we know that we are going to get some input - so we will just grab it as a String\n        // whilst we are expecting an int - we will test this later.\n        // we are doing this as it makes it easier to split the contents of a string\n        String temp = input.next();\n\n        // is this an int? - we will test this first\n        try {\n            // if this parsing fails - then it will throw a java.lang.NumberFormat exception \n            // see the catch block below\n            int test = Integer.parseInt(temp);\n            \n            \n\n            // at this point it is an int no exception was thrown- so let's go \n            // through and start printing out each character with a space after it\n\n            // the temp(which is a string).toCharArray returns a char[] which we\n            // can just iterate through and set the variable of each iteration to 'c'\n            for (char c : temp.toCharArray()) {\n                \n                // now we are going to print out the character with a space after it\n                System.out.print(c + &quot; &quot;);\n            }\n\n        } catch (NumberFormatException ex){\n            // this is not an int as we got a number format exception...\n\n            System.out.println(&quot;You did not enter an integer. :(&quot;);\n        }\n\n        // be nice and close the resource\n        input.close();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668482167,"creation_date":1668481793,"answer_id":74440216,"question_id":74440117,"body_markdown":"Your code is dividing by ten each time, that could be used to print the value in reverse. To print it forward you need a bit [more math](https://math.stackexchange.com/a/231745/135560) involving logarithms. Sometime like,\r\n\r\n\tScanner input = new Scanner(System.in);\r\n\tSystem.out.print(&quot;Enter an integer: &quot;);\r\n\tint temp = input.nextInt();\r\n\twhile (temp &gt; 0) {\r\n\t\tint p = (int) (Math.log(temp) / Math.log(10));\r\n\t\tint v = (int) (temp / Math.pow(10, p));\r\n\t\tSystem.out.print(v + &quot; &quot;);\r\n\t\ttemp -= v * Math.pow(10, p);\r\n\t}\r\n\r\nAlternatively, read a line of input. Strip out all non digits and then print every character separated by a space. Like,\r\n\r\n\tString temp = input.nextLine().replaceAll(&quot;\\\\D&quot;, &quot;&quot;);\r\n\tSystem.out.println(temp.replaceAll(&quot;(.)&quot;, &quot;$1 &quot;));\r\n\r\n","title":"How do you make it so that when you enter a number it puts a space between each integer","body":"<p>Your code is dividing by ten each time, that could be used to print the value in reverse. To print it forward you need a bit <a href=\"https://math.stackexchange.com/a/231745/135560\">more math</a> involving logarithms. Sometime like,</p>\n<pre><code>Scanner input = new Scanner(System.in);\nSystem.out.print(&quot;Enter an integer: &quot;);\nint temp = input.nextInt();\nwhile (temp &gt; 0) {\n    int p = (int) (Math.log(temp) / Math.log(10));\n    int v = (int) (temp / Math.pow(10, p));\n    System.out.print(v + &quot; &quot;);\n    temp -= v * Math.pow(10, p);\n}\n</code></pre>\n<p>Alternatively, read a line of input. Strip out all non digits and then print every character separated by a space. Like,</p>\n<pre><code>String temp = input.nextLine().replaceAll(&quot;\\\\D&quot;, &quot;&quot;);\nSystem.out.println(temp.replaceAll(&quot;(.)&quot;, &quot;$1 &quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26896439,"reputation":151,"user_id":20474278,"display_name":"m3ow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668506212,"creation_date":1668506212,"answer_id":74443667,"question_id":74440117,"body_markdown":"Answering solely your question, you can use this one-line code.  \r\n\r\n    int test = 123;\r\n    System.out.println(String.join(&quot; &quot;, Integer.toString(test).split(&quot;&quot;)));\r\nOutput is: 1 2 3","title":"How do you make it so that when you enter a number it puts a space between each integer","body":"<p>Answering solely your question, you can use this one-line code.</p>\n<pre><code>int test = 123;\nSystem.out.println(String.join(&quot; &quot;, Integer.toString(test).split(&quot;&quot;)));\n</code></pre>\n<p>Output is: 1 2 3</p>\n"}],"owner":{"account_id":26934162,"reputation":1,"user_id":20506051,"display_name":"Deathmagi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1668506212,"creation_date":1668480609,"question_id":74440117,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\npublic class Digits {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t/*\r\n\t\t * \r\n\tcount = 1 \r\n\ttemp = n \r\n\twhile (temp &gt; 10) \r\n   \t\tIncrement count. \r\n   \t\tDivide temp by 10.0. \r\n   */\r\n\t\t\r\n\t\t//Assignment: fix this code to print: 1 2 3 (for 123)\r\n\t\t//temp = 3426 -&gt; 3 4 2 6\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\tSystem.out.print(&quot;Enter an integer: &quot;);\r\n\t\tint count = 1;\r\n\t\tint temp = input.nextInt();\r\n\t\twhile(temp &gt;= 10){\r\n\t\t\tcount++;\r\n\t\t\ttemp = temp / 10;\r\n\t\t\tSystem.out.print(temp + &quot; &quot;);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\nNeed help fixing code.\r\nExample: when you type 123 it becomes 1 2 3.\r\n","title":"How do you make it so that when you enter a number it puts a space between each integer","body":"<pre><code>import java.util.Scanner;\n\npublic class Digits {\n\n    public static void main(String[] args) {\n        /*\n         * \n    count = 1 \n    temp = n \n    while (temp &gt; 10) \n        Increment count. \n        Divide temp by 10.0. \n   */\n        \n        //Assignment: fix this code to print: 1 2 3 (for 123)\n        //temp = 3426 -&gt; 3 4 2 6\n        Scanner input = new Scanner(System.in);\n        System.out.print(&quot;Enter an integer: &quot;);\n        int count = 1;\n        int temp = input.nextInt();\n        while(temp &gt;= 10){\n            count++;\n            temp = temp / 10;\n            System.out.print(temp + &quot; &quot;);\n        }\n    }\n\n}\n</code></pre>\n<p>Need help fixing code.\nExample: when you type 123 it becomes 1 2 3.</p>\n"},{"tags":["java","spring","junit"],"comments":[{"owner":{"account_id":15102634,"reputation":338,"user_id":10899197,"display_name":"Tr1monster"},"score":0,"creation_date":1668505559,"post_id":74443202,"comment_id":131415684,"body_markdown":"I had a quit similar Problem. My solution is a ConditionalOnProperty Annotation at the config class. `@ConditionalOnProperty(value = &quot;your.property&quot;, havingValue = &quot;true&quot;, matchIfMissing = true)` Under test/ressources I set the property to false so that the Config class is not enabled in test scope.","body":"I had a quit similar Problem. My solution is a ConditionalOnProperty Annotation at the config class. <code>@ConditionalOnProperty(value = &quot;your.property&quot;, havingValue = &quot;true&quot;, matchIfMissing = true)</code> Under test/ressources I set the property to false so that the Config class is not enabled in test scope."},{"owner":{"account_id":1284847,"reputation":3263,"user_id":1238143,"accept_rate":75,"display_name":"Lesha Pipiev"},"score":0,"creation_date":1668505691,"post_id":74443202,"comment_id":131415730,"body_markdown":"@Tr1monster hey, thank you for you prompt reply. Could you please make an answer, in order I can &quot;like&quot; it?","body":"@Tr1monster hey, thank you for you prompt reply. Could you please make an answer, in order I can &quot;like&quot; it?"}],"answers":[{"tags":[],"owner":{"account_id":15102634,"reputation":338,"user_id":10899197,"display_name":"Tr1monster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668505990,"creation_date":1668505990,"answer_id":74443613,"question_id":74443202,"body_markdown":"I had a quite similar problem. My solution is a ConditionalOnProperty Annotation at the config class.\r\n```java\r\n@Configuration\r\n@EnableSqs\r\n@ConditionalOnProperty(value = &quot;my.property&quot;, havingValue = &quot;true&quot;, matchIfMissing = true)\r\npublic class MyConfig {\r\n}\r\n```\r\n\r\nWith this Annotation you dont have to change any PROD config. For the use in test scope you can place the config value under `src/test/resources/config/application.yml`.It disable the Config for all Tests.\r\n","title":"Disable SQS listener in test case run","body":"<p>I had a quite similar problem. My solution is a ConditionalOnProperty Annotation at the config class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableSqs\n@ConditionalOnProperty(value = &quot;my.property&quot;, havingValue = &quot;true&quot;, matchIfMissing = true)\npublic class MyConfig {\n}\n</code></pre>\n<p>With this Annotation you dont have to change any PROD config. For the use in test scope you can place the config value under <code>src/test/resources/config/application.yml</code>.It disable the Config for all Tests.</p>\n"}],"owner":{"account_id":1284847,"reputation":3263,"user_id":1238143,"accept_rate":75,"display_name":"Lesha Pipiev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":903,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74443613,"answer_count":1,"score":3,"last_activity_date":1668505990,"creation_date":1668504062,"question_id":74443202,"body_markdown":"Spring Boot 2.7.5   \r\nJUnit 4.13.2 \r\n\r\nI have SQS listener in app:  \r\n\r\n    @Component\r\n    @EnableSqs\r\n    @Slf4j\r\n    public class SdkUploadListener {\r\n    \r\n        private final S3Service s3Service;\r\n    \r\n        @Autowired\r\n        public SdkUploadListener(final S3Service s3Service) {\r\n            this.s3Service = s3Service;\r\n        }\r\n    \r\n        @SqsListener(value = &quot;${amazon.sqs.sdk-upload-queue-url}&quot;, deletionPolicy = SqsMessageDeletionPolicy.ON_SUCCESS)\r\n        public void processMessage(final S3EventNotification message) throws JsonProcessingException {\r\n          ...\r\n        }\r\n    }\r\n\r\nThere is simple test case (just want to test Airflow run Dag):  \r\n\r\n    @SpringBootTest\r\n    @Slf4j\r\n    class AirflowClientTest {\r\n    \r\n        @Autowired\r\n        private AirflowClient airflowClient;\r\n    \r\n        @Test\r\n        public void testDagRun() {\r\n            final String dagName = &quot;test-dag&quot;;\r\n            final OffsetDateTime logicalDate = OffsetDateTime.parse(&quot;2022-08-01T00:00:00.000Z&quot;);\r\n            final AirflowRunDugRequest request = new AirflowRunDugRequest(logicalDate, Map.of());\r\n            airflowClient.triggerIngestionDag(dagName, request).subscribe(res -&gt; log.info(&quot;Response received: {}&quot;, res));\r\n        }\r\n    }\r\n\r\nThe problem is that SQS listener starts listening the queue upon test case run.  \r\nIs it possible to disable SQS listener for tests?  \r\nSo I need to use mock for this?  \r\n","title":"Disable SQS listener in test case run","body":"<p>Spring Boot 2.7.5<br />\nJUnit 4.13.2</p>\n<p>I have SQS listener in app:</p>\n<pre><code>@Component\n@EnableSqs\n@Slf4j\npublic class SdkUploadListener {\n\n    private final S3Service s3Service;\n\n    @Autowired\n    public SdkUploadListener(final S3Service s3Service) {\n        this.s3Service = s3Service;\n    }\n\n    @SqsListener(value = &quot;${amazon.sqs.sdk-upload-queue-url}&quot;, deletionPolicy = SqsMessageDeletionPolicy.ON_SUCCESS)\n    public void processMessage(final S3EventNotification message) throws JsonProcessingException {\n      ...\n    }\n}\n</code></pre>\n<p>There is simple test case (just want to test Airflow run Dag):</p>\n<pre><code>@SpringBootTest\n@Slf4j\nclass AirflowClientTest {\n\n    @Autowired\n    private AirflowClient airflowClient;\n\n    @Test\n    public void testDagRun() {\n        final String dagName = &quot;test-dag&quot;;\n        final OffsetDateTime logicalDate = OffsetDateTime.parse(&quot;2022-08-01T00:00:00.000Z&quot;);\n        final AirflowRunDugRequest request = new AirflowRunDugRequest(logicalDate, Map.of());\n        airflowClient.triggerIngestionDag(dagName, request).subscribe(res -&gt; log.info(&quot;Response received: {}&quot;, res));\n    }\n}\n</code></pre>\n<p>The problem is that SQS listener starts listening the queue upon test case run.<br />\nIs it possible to disable SQS listener for tests?<br />\nSo I need to use mock for this?</p>\n"},{"tags":["java","list"],"comments":[{"owner":{"account_id":5624342,"reputation":162,"user_id":4453230,"display_name":"Andi"},"score":1,"creation_date":1644932611,"post_id":71127388,"comment_id":125731877,"body_markdown":"i would sort the list using `list.sort(...)`, then use `list.iterator()` and it&#39;s `hasNext()`, `next()` and `remove()` methods. I am not going to do your homework for you though.","body":"i would sort the list using <code>list.sort(...)</code>, then use <code>list.iterator()</code> and it&#39;s <code>hasNext()</code>, <code>next()</code> and <code>remove()</code> methods. I am not going to do your homework for you though."},{"owner":{"account_id":1232799,"reputation":1734,"user_id":1197030,"display_name":"Joeblade"},"score":3,"creation_date":1644933713,"post_id":71127388,"comment_id":125732374,"body_markdown":"What have you tried and what exactly is your question? A lot of learning is trying to find a solution to a problem. I would recommend updating the question to contain how you are currently approaching the problem and what isn&#39;t working","body":"What have you tried and what exactly is your question? A lot of learning is trying to find a solution to a problem. I would recommend updating the question to contain how you are currently approaching the problem and what isn&#39;t working"},{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1644935589,"post_id":71127388,"comment_id":125733228,"body_markdown":"https://idownvotedbecau.se/noattempt/","body":"<a href=\"https://idownvotedbecau.se/noattempt/\" rel=\"nofollow noreferrer\">idownvotedbecau.se/noattempt</a>"}],"answers":[{"tags":[],"owner":{"account_id":19309260,"reputation":218,"user_id":14115415,"display_name":"AkSh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644942918,"creation_date":1644942918,"answer_id":71130105,"question_id":71127388,"body_markdown":"    static class Message {\r\n        String message;\r\n        long time;\r\n        \r\n        public Message(String message, long time) {\r\n            this.message = message;\r\n            this.time = time;\r\n        }\r\n    }\r\n\r\n    public static void putLatestMessage(Map&lt;String, Message&gt; messageMap, Message message) {\r\n        if (messageMap.containsKey(message.message) &amp;&amp; messageMap.get(message.message).time &gt;= message.time) {\r\n            return;\r\n        } else {\r\n            messageMap.put(message.message, message);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String, Message&gt; messageMap = new HashMap&lt;&gt;();\r\n        putLatestMessage(messageMap, new Message(&quot;A&quot;, 1));\r\n        putLatestMessage(messageMap, new Message(&quot;B&quot;, 2));\r\n        putLatestMessage(messageMap, new Message(&quot;A&quot;, 2));\r\n        putLatestMessage(messageMap, new Message(&quot;C&quot;, 2));\r\n        putLatestMessage(messageMap, new Message(&quot;D&quot;, 1));\r\n    }\r\n\r\nThis will solve your issue.\r\n\r\nP.S - plz go through basic data structures available in Java and their use cases.","title":"Java remove duplicate attribute in List&lt;Message&gt;","body":"<pre><code>static class Message {\n    String message;\n    long time;\n    \n    public Message(String message, long time) {\n        this.message = message;\n        this.time = time;\n    }\n}\n\npublic static void putLatestMessage(Map&lt;String, Message&gt; messageMap, Message message) {\n    if (messageMap.containsKey(message.message) &amp;&amp; messageMap.get(message.message).time &gt;= message.time) {\n        return;\n    } else {\n        messageMap.put(message.message, message);\n    }\n}\n\npublic static void main(String[] args) {\n    Map&lt;String, Message&gt; messageMap = new HashMap&lt;&gt;();\n    putLatestMessage(messageMap, new Message(&quot;A&quot;, 1));\n    putLatestMessage(messageMap, new Message(&quot;B&quot;, 2));\n    putLatestMessage(messageMap, new Message(&quot;A&quot;, 2));\n    putLatestMessage(messageMap, new Message(&quot;C&quot;, 2));\n    putLatestMessage(messageMap, new Message(&quot;D&quot;, 1));\n}\n</code></pre>\n<p>This will solve your issue.</p>\n<p>P.S - plz go through basic data structures available in Java and their use cases.</p>\n"}],"owner":{"account_id":19018524,"reputation":127,"user_id":13883033,"display_name":"Đức Long"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"accepted_answer_id":71130105,"answer_count":1,"score":-5,"last_activity_date":1668505303,"creation_date":1644932074,"question_id":71127388,"body_markdown":"I have list of messages, class `Message` has 2 attributes as shown here:\r\n\r\n```\r\nclass Message {\r\n    String message;\r\n    long time;\r\n}\r\n```\r\n\r\n```\r\nList&lt;Message&gt; listMessage = new ArrayList&lt;&gt;();\r\nlist.add(&quot;A&quot;, 1);\r\nlist.add(&quot;A&quot;, 2);\r\nlist.add(&quot;B&quot;, 1);\r\nlist.add(&quot;C&quot;, 1);\r\nlist.add(&quot;C&quot;, 2);\r\n```\r\nI want to remove duplicate message from list but must keep the message with the longest time in List\r\n\r\nInput \r\n```\r\n(&quot;A&quot;, 1), (&quot;A&quot;, 2), (&quot;B&quot;, 1), (&quot;C&quot;, 1), (&quot;C&quot;, 2)\r\n```\r\n\r\nExpect result\r\n```\r\n(&quot;A&quot;, 2), (&quot;B&quot;, 1), (&quot;C&quot;, 2)\r\n```","title":"Java remove duplicate attribute in List&lt;Message&gt;","body":"<p>I have list of messages, class <code>Message</code> has 2 attributes as shown here:</p>\n<pre><code>class Message {\n    String message;\n    long time;\n}\n</code></pre>\n<pre><code>List&lt;Message&gt; listMessage = new ArrayList&lt;&gt;();\nlist.add(&quot;A&quot;, 1);\nlist.add(&quot;A&quot;, 2);\nlist.add(&quot;B&quot;, 1);\nlist.add(&quot;C&quot;, 1);\nlist.add(&quot;C&quot;, 2);\n</code></pre>\n<p>I want to remove duplicate message from list but must keep the message with the longest time in List</p>\n<p>Input</p>\n<pre><code>(&quot;A&quot;, 1), (&quot;A&quot;, 2), (&quot;B&quot;, 1), (&quot;C&quot;, 1), (&quot;C&quot;, 2)\n</code></pre>\n<p>Expect result</p>\n<pre><code>(&quot;A&quot;, 2), (&quot;B&quot;, 1), (&quot;C&quot;, 2)\n</code></pre>\n"},{"tags":["java","android","android-studio","gradle"],"answers":[{"tags":[],"owner":{"account_id":6305767,"reputation":2763,"user_id":4898880,"display_name":"headuck"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1442138528,"creation_date":1442138528,"answer_id":32548481,"question_id":32548312,"body_markdown":"The problem may be your proxy settings. You may need to set the following in `gradle.properties` (please modify according to your proxy settings):\r\n\r\n    systemProp.http.proxyHost=127.0.0.1\r\n    systemProp.http.proxyPort=8123\r\n    systemProp.https.proxyHost=127.0.0.1\r\n    systemProp.https.proxyPort=8123","title":"Fail to resolve third-party libraries","body":"<p>The problem may be your proxy settings. You may need to set the following in <code>gradle.properties</code> (please modify according to your proxy settings):</p>\n\n<pre><code>systemProp.http.proxyHost=127.0.0.1\nsystemProp.http.proxyPort=8123\nsystemProp.https.proxyHost=127.0.0.1\nsystemProp.https.proxyPort=8123\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5717700,"reputation":535,"user_id":4517298,"accept_rate":71,"display_name":"MummyDing"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1442279626,"creation_date":1442279626,"answer_id":32576143,"question_id":32548312,"body_markdown":"I fixed it!!!!\r\nIt&#39;s not caused by GFW .It works well when I replaced OpenJDK with Oracle-JDK on my ubuntu! ","title":"Fail to resolve third-party libraries","body":"<p>I fixed it!!!!\nIt's not caused by GFW .It works well when I replaced OpenJDK with Oracle-JDK on my ubuntu! </p>\n"},{"tags":[],"owner":{"account_id":14966293,"reputation":39,"user_id":10804418,"display_name":"Amrit Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668504858,"creation_date":1668504858,"answer_id":74443360,"question_id":32548312,"body_markdown":"Please try this with sudo\r\n    \r\n    dnf install python3-m2crypto\r\n\r\nhttps://fedora.pkgs.org/35/fedora-x86_64/python3-m2crypto-0.38.0-2.fc35.x86_64.rpm.html","title":"Fail to resolve third-party libraries","body":"<p>Please try this with sudo</p>\n<pre><code>dnf install python3-m2crypto\n</code></pre>\n<p><a href=\"https://fedora.pkgs.org/35/fedora-x86_64/python3-m2crypto-0.38.0-2.fc35.x86_64.rpm.html\" rel=\"nofollow noreferrer\">https://fedora.pkgs.org/35/fedora-x86_64/python3-m2crypto-0.38.0-2.fc35.x86_64.rpm.html</a></p>\n"}],"owner":{"account_id":5717700,"reputation":535,"user_id":4517298,"accept_rate":71,"display_name":"MummyDing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2052,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":32576143,"answer_count":3,"score":1,"last_activity_date":1668504858,"creation_date":1442137226,"question_id":32548312,"body_markdown":"I download a Android Studio project from https://github.com/chenyangcun/MaterialDesignExample . I add it to my Android Studio and run it,but there occurs some errors:&lt;br&gt;&lt;br&gt;\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe blew is the build.gradle file:\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 21\r\n        buildToolsVersion &quot;21.1.2&quot;\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.aswifter.materialexample&quot;\r\n            minSdkVersion 15\r\n            targetSdkVersion 21\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        compile &#39;com.android.support:design:22.2.1&#39;\r\n        compile &#39;com.android.support:appcompat-v7:22.2.1&#39;\r\n        compile &#39;com.android.support:cardview-v7:22.2.1&#39;\r\n        compile &#39;com.android.support:recyclerview-v7:22.2.1&#39;\r\n    \r\n        compile &#39;com.github.bumptech.glide:glide:3.6.0&#39;\r\n        compile &#39;de.hdodenhof:circleimageview:1.3.0&#39;\r\n    \r\n        compile &#39;com.loopj.android:android-async-http:1.4.7&#39;\r\n        compile &#39;com.google.code.gson:gson:2.3&#39;\r\n        compile &#39;com.afollestad:material-dialogs:0.7.6.0&#39;\r\n    }\r\n\r\n\r\nAnd then I build a whole new Android project with the same &quot;third-party libraries&quot;&lt;br&gt;\r\nThe blew is my bulid.gradle file:&lt;br&gt;&lt;br&gt;\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 23\r\n        buildToolsVersion &quot;23.0.0&quot;\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.mummyding.app.test&quot;\r\n            minSdkVersion 15\r\n            targetSdkVersion 23\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n         compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        compile &#39;com.android.support:appcompat-v7:23.0.0&#39;\r\n        compile &#39;com.android.support:design:22.2.1&#39;\r\n    \r\n        compile &#39;com.android.support:cardview-v7:22.2.1&#39;\r\n        compile &#39;com.android.support:recyclerview-v7:22.2.1&#39;\r\n        compile &#39;com.github.bumptech.glide:glide:3.6.0&#39;\r\n        compile &#39;de.hdodenhof:circleimageview:1.3.0&#39;\r\n    \r\n        compile &#39;com.loopj.android:android-async-http:1.4.7&#39;\r\n        compile &#39;com.google.code.gson:gson:2.3&#39;\r\n        compile &#39;com.afollestad:material-dialogs:0.7.6.0&#39;\r\n    }\r\n\r\nWhat confuses me is the &quot;error info&quot;:&lt;br&gt;\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\ncompile &#39;de.hdodenhof:circleimageview:1.3.0&#39; is okay in this project!!!&lt;br&gt;\r\nso my questions:\r\n\r\n   \r\n\r\n 1. Can you run [this][3] project in your Andorid Studio?\r\n\r\n  \r\n\r\n 2. Why the &quot;error info&quot;  different?\r\n\r\n    \r\n\r\n 3. How to fix it?\r\n\r\n\r\nPS:&lt;br&gt;\r\nGradle Version : 2.2.1&lt;br&gt;\r\nIDE: Android Studio 1.2.1.1&lt;br&gt;\r\nOS: Ubuntu 15.04&lt;br&gt;\r\nI am in China but I have got a router with shadowsocks (which means I can visit any website I want)&lt;br&gt;\r\nIt really confuse me for a long time,so any suggestion will be highly appreciated,thank you advance.&lt;br&gt;\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/ep5KI.png\r\n  [2]: http://i.stack.imgur.com/thUYw.png\r\n  [3]: https://github.com/chenyangcun/MaterialDesignExample","title":"Fail to resolve third-party libraries","body":"<p>I download a Android Studio project from <a href=\"https://github.com/chenyangcun/MaterialDesignExample\" rel=\"nofollow noreferrer\">https://github.com/chenyangcun/MaterialDesignExample</a> . I add it to my Android Studio and run it,but there occurs some errors:<br><br>\n<a href=\"https://i.stack.imgur.com/ep5KI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ep5KI.png\" alt=\"enter image description here\"></a></p>\n\n<p>The blew is the build.gradle file:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 21\n    buildToolsVersion \"21.1.2\"\n\n    defaultConfig {\n        applicationId \"com.aswifter.materialexample\"\n        minSdkVersion 15\n        targetSdkVersion 21\n        versionCode 1\n        versionName \"1.0\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile 'com.android.support:design:22.2.1'\n    compile 'com.android.support:appcompat-v7:22.2.1'\n    compile 'com.android.support:cardview-v7:22.2.1'\n    compile 'com.android.support:recyclerview-v7:22.2.1'\n\n    compile 'com.github.bumptech.glide:glide:3.6.0'\n    compile 'de.hdodenhof:circleimageview:1.3.0'\n\n    compile 'com.loopj.android:android-async-http:1.4.7'\n    compile 'com.google.code.gson:gson:2.3'\n    compile 'com.afollestad:material-dialogs:0.7.6.0'\n}\n</code></pre>\n\n<p>And then I build a whole new Android project with the same \"third-party libraries\"<br>\nThe blew is my bulid.gradle file:<br><br></p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 23\n    buildToolsVersion \"23.0.0\"\n\n    defaultConfig {\n        applicationId \"com.mummyding.app.test\"\n        minSdkVersion 15\n        targetSdkVersion 23\n        versionCode 1\n        versionName \"1.0\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n\n     compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile 'com.android.support:appcompat-v7:23.0.0'\n    compile 'com.android.support:design:22.2.1'\n\n    compile 'com.android.support:cardview-v7:22.2.1'\n    compile 'com.android.support:recyclerview-v7:22.2.1'\n    compile 'com.github.bumptech.glide:glide:3.6.0'\n    compile 'de.hdodenhof:circleimageview:1.3.0'\n\n    compile 'com.loopj.android:android-async-http:1.4.7'\n    compile 'com.google.code.gson:gson:2.3'\n    compile 'com.afollestad:material-dialogs:0.7.6.0'\n}\n</code></pre>\n\n<p>What confuses me is the \"error info\":<br></p>\n\n<p><a href=\"https://i.stack.imgur.com/thUYw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/thUYw.png\" alt=\"enter image description here\"></a></p>\n\n<p>compile 'de.hdodenhof:circleimageview:1.3.0' is okay in this project!!!<br>\nso my questions:</p>\n\n<ol>\n<li><p>Can you run <a href=\"https://github.com/chenyangcun/MaterialDesignExample\" rel=\"nofollow noreferrer\">this</a> project in your Andorid Studio?</p></li>\n<li><p>Why the \"error info\"  different?</p></li>\n<li><p>How to fix it?</p></li>\n</ol>\n\n<p>PS:<br>\nGradle Version : 2.2.1<br>\nIDE: Android Studio 1.2.1.1<br>\nOS: Ubuntu 15.04<br>\nI am in China but I have got a router with shadowsocks (which means I can visit any website I want)<br>\nIt really confuse me for a long time,so any suggestion will be highly appreciated,thank you advance.<br></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1668500389,"post_id":74442160,"comment_id":131413784,"body_markdown":"for sure `a.getClass()` is the same instance as `A.class`,  but `A` does not extend `B` - `bClass` is declared as being `Class&lt;? extends B&gt;`  but `A.class` returns a `Class&lt;A&gt;` - `Class&lt;A&gt;` can never be assigned to a `Class&lt;? extends B&gt;` variable, so this comparison does not make sense - it will always be `false`","body":"for sure <code>a.getClass()</code> is the same instance as <code>A.class</code>,  but <code>A</code> does not extend <code>B</code> - <code>bClass</code> is declared as being <code>Class&lt;? extends B&gt;</code>  but <code>A.class</code> returns a <code>Class&lt;A&gt;</code> - <code>Class&lt;A&gt;</code> can never be assigned to a <code>Class&lt;? extends B&gt;</code> variable, so this comparison does not make sense - it will always be <code>false</code>"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":1,"creation_date":1668500438,"post_id":74442160,"comment_id":131413797,"body_markdown":"#3 and #4 are not equivalent.  For #3, it is entirely possible that, at runtime, `a` could reference an instance of `B`, so it is perfectly possible for #3 to be `true`.  The same is NOT true for #4 since it is not possible for variable `b` to reference an instance of A itself.  MAYBE it is this impossibility that the compiler is alerting you to, but will have to check.","body":"#3 and #4 are not equivalent.  For #3, it is entirely possible that, at runtime, <code>a</code> could reference an instance of <code>B</code>, so it is perfectly possible for #3 to be <code>true</code>.  The same is NOT true for #4 since it is not possible for variable <code>b</code> to reference an instance of A itself.  MAYBE it is this impossibility that the compiler is alerting you to, but will have to check."}],"answers":[{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668504806,"creation_date":1668504358,"answer_id":74443254,"question_id":74442160,"body_markdown":"This is a bit like wondering why you can write\r\n\r\n```\r\nString s = &quot;hi&quot;;\r\nInteger i = 42;\r\nObject so = s;\r\nObject io = i;\r\n\r\nSystem.out.println(so == io); // compiles, prints false\r\nSystem.out.println(s == i); // compilation error: String and Integer are incomparable types\r\n```\r\n\r\nin spite of `so` and `s` referring to the same object. Well, it&#39;s because the compiler is checking types, not objects. It&#39;s obvious nonsense to compare a `String` and `Integer` with `==`. It&#39;s less obvious nonsense to compare two `Object` with `==`.\r\n\r\nSo let&#39;s look at the types:\r\n\r\n```\r\naClass == B.class\r\n```\r\n\r\nasks whether some subclass of `A` is in fact `B`. Since `B` is a subclass of `A`, that&#39;s quite possible. For instance, the following program will print true:\r\n\r\n```\r\nA a = new B();\r\nClass&lt;? extends A&gt; aClass = a.getClass();\r\nSystem.out.println(aClass == B.class);\r\n```\r\n\r\n(the ability to put a `B` into a variable declared with type `A` is precisely why `getClass()` returns `Class&lt;? extends A&gt;` rather than `Class&lt;A&gt;`)\r\n\r\nOn the other hand\r\n\r\n```\r\nbClass == A.class\r\n```\r\n\r\ndoesn&#39;t make sense. It asks whether `bClass`, which is some subclass of `B`, is `A`. It that were true, `A` would be subclass of `B`, which is declared to be a subclass of `A`, so `A` and `B` would be subclasses of each other! That&#39;s impossible!","title":"Compile error when comparing class types: non comparable type","body":"<p>This is a bit like wondering why you can write</p>\n<pre><code>String s = &quot;hi&quot;;\nInteger i = 42;\nObject so = s;\nObject io = i;\n\nSystem.out.println(so == io); // compiles, prints false\nSystem.out.println(s == i); // compilation error: String and Integer are incomparable types\n</code></pre>\n<p>in spite of <code>so</code> and <code>s</code> referring to the same object. Well, it's because the compiler is checking types, not objects. It's obvious nonsense to compare a <code>String</code> and <code>Integer</code> with <code>==</code>. It's less obvious nonsense to compare two <code>Object</code> with <code>==</code>.</p>\n<p>So let's look at the types:</p>\n<pre><code>aClass == B.class\n</code></pre>\n<p>asks whether some subclass of <code>A</code> is in fact <code>B</code>. Since <code>B</code> is a subclass of <code>A</code>, that's quite possible. For instance, the following program will print true:</p>\n<pre><code>A a = new B();\nClass&lt;? extends A&gt; aClass = a.getClass();\nSystem.out.println(aClass == B.class);\n</code></pre>\n<p>(the ability to put a <code>B</code> into a variable declared with type <code>A</code> is precisely why <code>getClass()</code> returns <code>Class&lt;? extends A&gt;</code> rather than <code>Class&lt;A&gt;</code>)</p>\n<p>On the other hand</p>\n<pre><code>bClass == A.class\n</code></pre>\n<p>doesn't make sense. It asks whether <code>bClass</code>, which is some subclass of <code>B</code>, is <code>A</code>. It that were true, <code>A</code> would be subclass of <code>B</code>, which is declared to be a subclass of <code>A</code>, so <code>A</code> and <code>B</code> would be subclasses of each other! That's impossible!</p>\n"}],"owner":{"account_id":23065836,"reputation":27,"user_id":17180282,"display_name":"cli ash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74443254,"answer_count":1,"score":1,"last_activity_date":1668504806,"creation_date":1668498600,"question_id":74442160,"body_markdown":"There is the following code: \r\n```java\r\n\r\n    class A {}\r\n\r\n    class B extends A {}\r\n\r\n    @Test\r\n    public void test4() {\r\n        A a = new A();\r\n        B b = new B();\r\n        Class&lt;? extends A&gt; aClass = a.getClass();\r\n        Class&lt;? extends B&gt; bClass = b.getClass();\r\n\r\n        System.out.println(aClass == bClass);// #1 false\r\n\r\n        System.out.println(aClass == A.class);// #2 true\r\n        System.out.println(aClass == B.class);// #3 false\r\n\r\n        System.out.println(bClass == A.class);// #4 error:java: non comparable type: java.lang.Class&lt;capture#1, ? extends Test.B&gt; and java.lang.Class&lt;Test.A&gt;\r\n        System.out.println(bClass == B.class);// #5 true\r\n    }\r\n```\r\nAs shown above, I am very confused about this error. Because in my opinion, a.getClass() and A.class are the same object, and the values of these two variables are indeed the same when I debug. Then I think #3 and #4 are equivalent, there should be no error. I feel like it might be some cause of type erasure, but I don&#39;t know much about it.\r\n\r\nDoes anyone know what could be the reason for this?","title":"Compile error when comparing class types: non comparable type","body":"<p>There is the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    class A {}\n\n    class B extends A {}\n\n    @Test\n    public void test4() {\n        A a = new A();\n        B b = new B();\n        Class&lt;? extends A&gt; aClass = a.getClass();\n        Class&lt;? extends B&gt; bClass = b.getClass();\n\n        System.out.println(aClass == bClass);// #1 false\n\n        System.out.println(aClass == A.class);// #2 true\n        System.out.println(aClass == B.class);// #3 false\n\n        System.out.println(bClass == A.class);// #4 error:java: non comparable type: java.lang.Class&lt;capture#1, ? extends Test.B&gt; and java.lang.Class&lt;Test.A&gt;\n        System.out.println(bClass == B.class);// #5 true\n    }\n</code></pre>\n<p>As shown above, I am very confused about this error. Because in my opinion, a.getClass() and A.class are the same object, and the values of these two variables are indeed the same when I debug. Then I think #3 and #4 are equivalent, there should be no error. I feel like it might be some cause of type erasure, but I don't know much about it.</p>\n<p>Does anyone know what could be the reason for this?</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1486981507,"post_id":42201616,"comment_id":71564818,"body_markdown":"I would add a timestamp to the message when it is written and compare this to the time it was read to get the end to end timing.","body":"I would add a timestamp to the message when it is written and compare this to the time it was read to get the end to end timing."},{"owner":{"account_id":1163679,"reputation":553,"user_id":1142701,"accept_rate":67,"display_name":"jamee"},"score":0,"creation_date":1486986679,"post_id":42201616,"comment_id":71567923,"body_markdown":"Actually, I want to get the lag count","body":"Actually, I want to get the lag count"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1486986749,"post_id":42201616,"comment_id":71567953,"body_markdown":"what would you use the lag count for?","body":"what would you use the lag count for?"},{"owner":{"account_id":1163679,"reputation":553,"user_id":1142701,"accept_rate":67,"display_name":"jamee"},"score":0,"creation_date":1486990778,"post_id":42201616,"comment_id":71570484,"body_markdown":"I want to check if my consumer is delayed","body":"I want to check if my consumer is delayed"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1487005737,"post_id":42201616,"comment_id":71580397,"body_markdown":"in which case I suggest you measure it in milliseconds. A queue which has one message could be ms or mins.","body":"in which case I suggest you measure it in milliseconds. A queue which has one message could be ms or mins."},{"owner":{"account_id":322007,"reputation":7050,"user_id":641170,"accept_rate":88,"display_name":"Rudy"},"score":0,"creation_date":1556160514,"post_id":42201616,"comment_id":98345386,"body_markdown":"lag count is measured in number of messages, not milliseconds","body":"lag count is measured in number of messages, not milliseconds"}],"answers":[{"tags":[],"owner":{"account_id":9452345,"reputation":6871,"user_id":7028697,"display_name":"amethystic"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1497490285,"creation_date":1486987971,"answer_id":42203765,"question_id":42201616,"body_markdown":"Try to use AdminClient#listGroupOffsets(groupID) to retrieve offsets of all topic partitions associated with the consumer&#39;s group. For example:\r\n\r\n    AdminClient client = AdminClient.createSimplePlaintext(&quot;localhost:9092&quot;);\r\n    Map&lt;TopicPartition, Object&gt; offsets = JavaConversions.asJavaMap(\r\n        client.listGroupOffsets(&quot;groupID&quot;));\r\n    Long offset = (Long) offsets.get(new TopicPartition(&quot;topic&quot;, 0));\r\n    ...\r\n\r\n**EDIT**:  \r\nSnippets above show how to get the committed offset for a given partition. Code below shows how to retrieve LEO for a partition.  \r\n\r\n    public long getLogEndOffset(TopicPartition tp) {\r\n        KafkaConsumer consumer = createNewConsumer();\r\n        Collections.singletonList(tp);\r\n        consumer.assign(Collections.singletonList(tp));\r\n        consumer.seekToEnd(Collections.singletonList(tp));\r\n        return consumer.position(tp);\r\n    }\r\n\r\n    private KafkaConsumer&lt;String, String&gt; createNewConsumer() {\r\n        Properties properties = new Properties();\r\n        properties.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n        properties.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;g1&quot;);\r\n        properties.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, &quot;false&quot;);\r\n        properties.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG, &quot;30000&quot;);\r\n        properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n        properties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n        return new KafkaConsumer(properties);\r\n    }\r\n\r\nInvoking `getLogEndOffset` returns the LEO for the given partition, then subtract the committed offset from it and the result is the lag.","title":"How to get kafka consume lag in java program","body":"<p>Try to use AdminClient#listGroupOffsets(groupID) to retrieve offsets of all topic partitions associated with the consumer's group. For example:</p>\n\n<pre><code>AdminClient client = AdminClient.createSimplePlaintext(\"localhost:9092\");\nMap&lt;TopicPartition, Object&gt; offsets = JavaConversions.asJavaMap(\n    client.listGroupOffsets(\"groupID\"));\nLong offset = (Long) offsets.get(new TopicPartition(\"topic\", 0));\n...\n</code></pre>\n\n<p><strong>EDIT</strong>:<br>\nSnippets above show how to get the committed offset for a given partition. Code below shows how to retrieve LEO for a partition.  </p>\n\n<pre><code>public long getLogEndOffset(TopicPartition tp) {\n    KafkaConsumer consumer = createNewConsumer();\n    Collections.singletonList(tp);\n    consumer.assign(Collections.singletonList(tp));\n    consumer.seekToEnd(Collections.singletonList(tp));\n    return consumer.position(tp);\n}\n\nprivate KafkaConsumer&lt;String, String&gt; createNewConsumer() {\n    Properties properties = new Properties();\n    properties.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, \"localhost:9092\");\n    properties.put(ConsumerConfig.GROUP_ID_CONFIG, \"g1\");\n    properties.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, \"false\");\n    properties.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG, \"30000\");\n    properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, \"org.apache.kafka.common.serialization.StringDeserializer\");\n    properties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, \"org.apache.kafka.common.serialization.StringDeserializer\");\n    return new KafkaConsumer(properties);\n}\n</code></pre>\n\n<p>Invoking <code>getLogEndOffset</code> returns the LEO for the given partition, then subtract the committed offset from it and the result is the lag.</p>\n"},{"tags":[],"owner":{"account_id":4986184,"reputation":119,"user_id":5054497,"display_name":"Florian Garcia"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1486991550,"creation_date":1486991550,"answer_id":42204925,"question_id":42201616,"body_markdown":"I personnaly query directly jmx informations from my consumers. I only consume in java so the JMX beans : `kafka.consumer:type=consumer-fetch-manager-metrics,client-id=*/records-lag-max` are available.\r\n\r\nIf jolokia is in your classpath you can retrieve the value with a GET on `/jolokia/read/kafka.consumer:type=consumer-fetch-manager-metrics,client-id=*/records-lag-max` and gather all the results in one place.\r\n\r\nThere is also [Burrow](https://github.com/linkedin/Burrow) which is very easy to configure, but it&#39;s a bit outdated (doesn&#39;t work for 0.10 if I remember well).","title":"How to get kafka consume lag in java program","body":"<p>I personnaly query directly jmx informations from my consumers. I only consume in java so the JMX beans : <code>kafka.consumer:type=consumer-fetch-manager-metrics,client-id=*/records-lag-max</code> are available.</p>\n\n<p>If jolokia is in your classpath you can retrieve the value with a GET on <code>/jolokia/read/kafka.consumer:type=consumer-fetch-manager-metrics,client-id=*/records-lag-max</code> and gather all the results in one place.</p>\n\n<p>There is also <a href=\"https://github.com/linkedin/Burrow\" rel=\"nofollow noreferrer\">Burrow</a> which is very easy to configure, but it's a bit outdated (doesn't work for 0.10 if I remember well).</p>\n"},{"tags":[],"owner":{"account_id":1808694,"reputation":355,"user_id":1645192,"display_name":"Alexey Vlasov"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1506564395,"creation_date":1506552642,"answer_id":46458377,"question_id":42201616,"body_markdown":"In case if you don&#39;t want to include kafka (and scala) dependencies to your project you can use class below. It uses only kafka-clients dependencies.\r\n\r\n    import org.apache.kafka.clients.consumer.ConsumerConfig;\r\n    import org.apache.kafka.clients.consumer.KafkaConsumer;\r\n    import org.apache.kafka.clients.consumer.OffsetAndMetadata;\r\n    import org.apache.kafka.common.PartitionInfo;\r\n    import org.apache.kafka.common.TopicPartition;\r\n    import org.apache.kafka.common.serialization.StringDeserializer;\r\n    \r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Properties;\r\n    import java.util.UUID;\r\n    import java.util.concurrent.ConcurrentHashMap;\r\n    import java.util.function.BinaryOperator;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class KafkaConsumerMonitor {\r\n    \r\n        public static class PartionOffsets {\r\n            private long endOffset;\r\n            private long currentOffset;\r\n            private int partion;\r\n            private String topic;\r\n    \r\n            public PartionOffsets(long endOffset, long currentOffset, int partion, String topic) {\r\n                this.endOffset = endOffset;\r\n                this.currentOffset = currentOffset;\r\n                this.partion = partion;\r\n                this.topic = topic;\r\n            }\r\n    \r\n            public long getEndOffset() {\r\n                return endOffset;\r\n            }\r\n    \r\n            public long getCurrentOffset() {\r\n                return currentOffset;\r\n            }\r\n    \r\n            public int getPartion() {\r\n                return partion;\r\n            }\r\n    \r\n            public String getTopic() {\r\n                return topic;\r\n            }\r\n        }\r\n    \r\n        private final String monitoringConsumerGroupID = &quot;monitoring_consumer_&quot; + UUID.randomUUID().toString();\r\n    \r\n        public Map&lt;TopicPartition, PartionOffsets&gt; getConsumerGroupOffsets(String host, String topic, String groupId) {\r\n            Map&lt;TopicPartition, Long&gt; logEndOffset = getLogEndOffset(topic, host);\r\n    \r\n    \r\n            KafkaConsumer consumer = createNewConsumer(groupId, host);\r\n    \r\n            BinaryOperator&lt;PartionOffsets&gt; mergeFunction = (a, b) -&gt; {\r\n                throw new IllegalStateException();\r\n            };\r\n    \r\n            Map&lt;TopicPartition, PartionOffsets&gt; result = logEndOffset.entrySet()\r\n                    .stream()\r\n                    .collect(Collectors.toMap(\r\n                            entry -&gt; (entry.getKey()),\r\n                            entry -&gt; {\r\n                                OffsetAndMetadata committed = consumer.committed(entry.getKey());\r\n                                return new PartionOffsets(entry.getValue(), committed.offset(), entry.getKey().partition(), topic);\r\n                            }, mergeFunction));\r\n    \r\n    \r\n            return result;\r\n        }\r\n    \r\n        public Map&lt;TopicPartition, Long&gt; getLogEndOffset(String topic, String host) {\r\n            Map&lt;TopicPartition, Long&gt; endOffsets = new ConcurrentHashMap&lt;&gt;();\r\n            KafkaConsumer&lt;?, ?&gt; consumer = createNewConsumer(monitoringConsumerGroupID, host);\r\n            List&lt;PartitionInfo&gt; partitionInfoList = consumer.partitionsFor(topic);\r\n            List&lt;TopicPartition&gt; topicPartitions = partitionInfoList.stream().map(pi -&gt; new TopicPartition(topic, pi.partition())).collect(Collectors.toList());\r\n            consumer.assign(topicPartitions);\r\n            consumer.seekToEnd(topicPartitions);\r\n            topicPartitions.forEach(topicPartition -&gt; endOffsets.put(topicPartition, consumer.position(topicPartition)));\r\n            consumer.close();\r\n            return endOffsets;\r\n        }\r\n    \r\n        private static KafkaConsumer&lt;?, ?&gt; createNewConsumer(String groupId, String host) {\r\n            Properties properties = new Properties();\r\n            properties.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, host);\r\n            properties.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n            properties.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, &quot;false&quot;);\r\n            properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n            properties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n            return new KafkaConsumer&lt;&gt;(properties);\r\n        }\r\n    }","title":"How to get kafka consume lag in java program","body":"<p>In case if you don't want to include kafka (and scala) dependencies to your project you can use class below. It uses only kafka-clients dependencies.</p>\n\n<pre><code>import org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.clients.consumer.KafkaConsumer;\nimport org.apache.kafka.clients.consumer.OffsetAndMetadata;\nimport org.apache.kafka.common.PartitionInfo;\nimport org.apache.kafka.common.TopicPartition;\nimport org.apache.kafka.common.serialization.StringDeserializer;\n\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Properties;\nimport java.util.UUID;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.function.BinaryOperator;\nimport java.util.stream.Collectors;\n\npublic class KafkaConsumerMonitor {\n\n    public static class PartionOffsets {\n        private long endOffset;\n        private long currentOffset;\n        private int partion;\n        private String topic;\n\n        public PartionOffsets(long endOffset, long currentOffset, int partion, String topic) {\n            this.endOffset = endOffset;\n            this.currentOffset = currentOffset;\n            this.partion = partion;\n            this.topic = topic;\n        }\n\n        public long getEndOffset() {\n            return endOffset;\n        }\n\n        public long getCurrentOffset() {\n            return currentOffset;\n        }\n\n        public int getPartion() {\n            return partion;\n        }\n\n        public String getTopic() {\n            return topic;\n        }\n    }\n\n    private final String monitoringConsumerGroupID = \"monitoring_consumer_\" + UUID.randomUUID().toString();\n\n    public Map&lt;TopicPartition, PartionOffsets&gt; getConsumerGroupOffsets(String host, String topic, String groupId) {\n        Map&lt;TopicPartition, Long&gt; logEndOffset = getLogEndOffset(topic, host);\n\n\n        KafkaConsumer consumer = createNewConsumer(groupId, host);\n\n        BinaryOperator&lt;PartionOffsets&gt; mergeFunction = (a, b) -&gt; {\n            throw new IllegalStateException();\n        };\n\n        Map&lt;TopicPartition, PartionOffsets&gt; result = logEndOffset.entrySet()\n                .stream()\n                .collect(Collectors.toMap(\n                        entry -&gt; (entry.getKey()),\n                        entry -&gt; {\n                            OffsetAndMetadata committed = consumer.committed(entry.getKey());\n                            return new PartionOffsets(entry.getValue(), committed.offset(), entry.getKey().partition(), topic);\n                        }, mergeFunction));\n\n\n        return result;\n    }\n\n    public Map&lt;TopicPartition, Long&gt; getLogEndOffset(String topic, String host) {\n        Map&lt;TopicPartition, Long&gt; endOffsets = new ConcurrentHashMap&lt;&gt;();\n        KafkaConsumer&lt;?, ?&gt; consumer = createNewConsumer(monitoringConsumerGroupID, host);\n        List&lt;PartitionInfo&gt; partitionInfoList = consumer.partitionsFor(topic);\n        List&lt;TopicPartition&gt; topicPartitions = partitionInfoList.stream().map(pi -&gt; new TopicPartition(topic, pi.partition())).collect(Collectors.toList());\n        consumer.assign(topicPartitions);\n        consumer.seekToEnd(topicPartitions);\n        topicPartitions.forEach(topicPartition -&gt; endOffsets.put(topicPartition, consumer.position(topicPartition)));\n        consumer.close();\n        return endOffsets;\n    }\n\n    private static KafkaConsumer&lt;?, ?&gt; createNewConsumer(String groupId, String host) {\n        Properties properties = new Properties();\n        properties.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, host);\n        properties.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n        properties.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, \"false\");\n        properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        properties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        return new KafkaConsumer&lt;&gt;(properties);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9104891,"reputation":934,"user_id":6775742,"accept_rate":60,"display_name":"T Anna"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1529322338,"creation_date":1529322338,"answer_id":50908806,"question_id":42201616,"body_markdown":"I am using Spring for my api. Using the below code, you can get the metrics via java.The code works.\r\n\r\n    @Component\r\n    public class Receiver {\r\n\r\n    private static final Logger LOGGER =\r\n          LoggerFactory.getLogger(Receiver.class);\r\n\r\n\r\n    @Autowired\r\n    private KafkaListenerEndpointRegistry kafkaListenerEndpointRegistry;\r\n\r\n      public void testlag() {\r\n          for (MessageListenerContainer messageListenerContainer : kafkaListenerEndpointRegistry\r\n                    .getListenerContainers()) {\r\n              Map&lt;String, Map&lt;MetricName, ? extends Metric&gt;&gt; metrics = messageListenerContainer.metrics();\r\n              metrics.forEach( (clientid, metricMap) -&gt;{\r\n                  System.out.println(&quot;------------------------For client id : &quot;+clientid);\r\n                  metricMap.forEach((metricName,metricValue)-&gt;{\r\n                      //if(metricName.name().contains(&quot;lag&quot;))\r\n                      System.out.println(&quot;------------Metric name: &quot;+metricName.name()+&quot;-----------Metric value: &quot;+metricValue.metricValue());\r\n                  });\r\n              });\r\n                }\r\n      }","title":"How to get kafka consume lag in java program","body":"<p>I am using Spring for my api. Using the below code, you can get the metrics via java.The code works.</p>\n\n<pre><code>@Component\npublic class Receiver {\n\nprivate static final Logger LOGGER =\n      LoggerFactory.getLogger(Receiver.class);\n\n\n@Autowired\nprivate KafkaListenerEndpointRegistry kafkaListenerEndpointRegistry;\n\n  public void testlag() {\n      for (MessageListenerContainer messageListenerContainer : kafkaListenerEndpointRegistry\n                .getListenerContainers()) {\n          Map&lt;String, Map&lt;MetricName, ? extends Metric&gt;&gt; metrics = messageListenerContainer.metrics();\n          metrics.forEach( (clientid, metricMap) -&gt;{\n              System.out.println(\"------------------------For client id : \"+clientid);\n              metricMap.forEach((metricName,metricValue)-&gt;{\n                  //if(metricName.name().contains(\"lag\"))\n                  System.out.println(\"------------Metric name: \"+metricName.name()+\"-----------Metric value: \"+metricValue.metricValue());\n              });\n          });\n            }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1093223,"reputation":1998,"user_id":1087373,"accept_rate":0,"display_name":"snowfox"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1576578163,"creation_date":1576577630,"answer_id":59371948,"question_id":42201616,"body_markdown":"For you reference, I got this done with the code below. Basically, you have to calculate the lag of each topic-partition manually by calculating the delta between current committed offset and the end offset. \r\n\r\n    private static Map&lt;TopicPartition, Long&gt; lagOf(String brokers, String groupId) {\r\n\t\tProperties props = new Properties();\r\n\t\tprops.put(CommonClientConfigs.BOOTSTRAP_SERVERS_CONFIG, brokers);\r\n\t\ttry (AdminClient client = AdminClient.create(props)) {\r\n\t\t\tListConsumerGroupOffsetsResult currentOffsets = client.listConsumerGroupOffsets(groupId);\r\n\r\n\t\t\ttry {\r\n                // get current offsets of consuming topic-partitions\r\n\t\t\t\tMap&lt;TopicPartition, OffsetAndMetadata&gt; consumedOffsets = currentOffsets.partitionsToOffsetAndMetadata()\r\n\t\t\t\t\t\t.get(3, TimeUnit.SECONDS);\r\n\t\t\t\tfinal Map&lt;TopicPartition, Long&gt; result = new HashMap&lt;&gt;();\r\n\t\t\t\tdoWithKafkaConsumer(groupId, brokers, (c) -&gt; {\r\n                    // get latest offsets of consuming topic-partitions\r\n                    // lag = latest_offset - current_offset\r\n\t\t\t\t\tMap&lt;TopicPartition, Long&gt; endOffsets = c.endOffsets(consumedOffsets.keySet());\r\n\t\t\t\t\tresult.putAll(endOffsets.entrySet().stream().collect(Collectors.toMap(entry -&gt; entry.getKey(),\r\n\t\t\t\t\t\t\tentry -&gt; entry.getValue() - consumedOffsets.get(entry.getKey()).offset())));\r\n\t\t\t\t});\r\n\t\t\t\treturn result;\r\n\t\t\t} catch (InterruptedException | ExecutionException | TimeoutException e) {\r\n\t\t\t\tlog.error(&quot;&quot;, e);\r\n\t\t\t\treturn Collections.emptyMap();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n    public static void doWithKafkaConsumer(String groupId, String brokers,\r\n\t\t\tConsumer&lt;KafkaConsumer&lt;String, String&gt;&gt; consumerRunner) {\r\n\t\tProperties props = new Properties();\r\n\t\tprops.put(CommonClientConfigs.BOOTSTRAP_SERVERS_CONFIG, brokers);\r\n\t\tprops.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\r\n\t\tprops.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n\t\tprops.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n\t\tprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n\r\n\t\ttry (final KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(props)) {\r\n\t\t\tconsumerRunner.accept(consumer);\r\n\t\t}\r\n\t}\r\n    \r\nNote that one consumer group could be consuming multiple topics simultaneously, so if you need to get the lag for each topic, you&#39;ll have to group and aggregate the result by topic then.\r\n\r\n        Map&lt;TopicPartition, Long&gt; lags = lagOf(brokers, group);\r\n\t\tMap&lt;String, Long&gt; topicLag = new HashMap&lt;&gt;();\r\n\t\tlags.forEach((tp, lag) -&gt; {\r\n\t\t\ttopicLag.compute(tp.topic(), (k, v) -&gt; v == null ? lag : v + lag);\r\n\t\t});","title":"How to get kafka consume lag in java program","body":"<p>For you reference, I got this done with the code below. Basically, you have to calculate the lag of each topic-partition manually by calculating the delta between current committed offset and the end offset. </p>\n\n<pre><code>private static Map&lt;TopicPartition, Long&gt; lagOf(String brokers, String groupId) {\n    Properties props = new Properties();\n    props.put(CommonClientConfigs.BOOTSTRAP_SERVERS_CONFIG, brokers);\n    try (AdminClient client = AdminClient.create(props)) {\n        ListConsumerGroupOffsetsResult currentOffsets = client.listConsumerGroupOffsets(groupId);\n\n        try {\n            // get current offsets of consuming topic-partitions\n            Map&lt;TopicPartition, OffsetAndMetadata&gt; consumedOffsets = currentOffsets.partitionsToOffsetAndMetadata()\n                    .get(3, TimeUnit.SECONDS);\n            final Map&lt;TopicPartition, Long&gt; result = new HashMap&lt;&gt;();\n            doWithKafkaConsumer(groupId, brokers, (c) -&gt; {\n                // get latest offsets of consuming topic-partitions\n                // lag = latest_offset - current_offset\n                Map&lt;TopicPartition, Long&gt; endOffsets = c.endOffsets(consumedOffsets.keySet());\n                result.putAll(endOffsets.entrySet().stream().collect(Collectors.toMap(entry -&gt; entry.getKey(),\n                        entry -&gt; entry.getValue() - consumedOffsets.get(entry.getKey()).offset())));\n            });\n            return result;\n        } catch (InterruptedException | ExecutionException | TimeoutException e) {\n            log.error(\"\", e);\n            return Collections.emptyMap();\n        }\n    }\n}\n\npublic static void doWithKafkaConsumer(String groupId, String brokers,\n        Consumer&lt;KafkaConsumer&lt;String, String&gt;&gt; consumerRunner) {\n    Properties props = new Properties();\n    props.put(CommonClientConfigs.BOOTSTRAP_SERVERS_CONFIG, brokers);\n    props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\n    props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n    props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n    props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n\n    try (final KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(props)) {\n        consumerRunner.accept(consumer);\n    }\n}\n</code></pre>\n\n<p>Note that one consumer group could be consuming multiple topics simultaneously, so if you need to get the lag for each topic, you'll have to group and aggregate the result by topic then.</p>\n\n<pre><code>    Map&lt;TopicPartition, Long&gt; lags = lagOf(brokers, group);\n    Map&lt;String, Long&gt; topicLag = new HashMap&lt;&gt;();\n    lags.forEach((tp, lag) -&gt; {\n        topicLag.compute(tp.topic(), (k, v) -&gt; v == null ? lag : v + lag);\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2151858,"reputation":11,"user_id":1908016,"display_name":"Vijay Pratap Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607022650,"creation_date":1607022650,"answer_id":65132552,"question_id":42201616,"body_markdown":"Run this standalone code. (Dependency on kafka-clients-2.6.0.jar)\r\n\r\n    import java.util.HashSet;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Map.Entry;\r\n    import java.util.Properties;\r\n    import java.util.Set;\r\n    import java.util.UUID;\r\n    import java.util.concurrent.ConcurrentHashMap;\r\n    import java.util.function.BinaryOperator;\r\n    import java.util.stream.Collectors;\r\n\r\n    import org.apache.kafka.clients.consumer.ConsumerConfig;\r\n    import org.apache.kafka.clients.consumer.KafkaConsumer;\r\n    import org.apache.kafka.clients.consumer.OffsetAndMetadata;\r\n    import org.apache.kafka.common.PartitionInfo;\r\n    import org.apache.kafka.common.TopicPartition;\r\n    import org.apache.kafka.common.serialization.StringDeserializer;\r\n\r\n    public class CosumerGroupLag {\r\n\r\n\tstatic String host = &quot;localhost:9092&quot;;\r\n\tstatic String topic = &quot;topic02&quot;;\r\n\tstatic String groupId = &quot;test-group&quot;;\r\n\r\n\tpublic static void main(String... vj) {\r\n\t\tCosumerGroupLag cgl = new CosumerGroupLag();\r\n\r\n\t\twhile (true) {\r\n\t\t\tMap&lt;TopicPartition, PartionOffsets&gt; lag = cgl.getConsumerGroupOffsets(host, topic, groupId);\r\n\t\t\tSystem.out.println(&quot;$$LAG = &quot; + lag);\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(10000);\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate final String monitoringConsumerGroupID = &quot;monitoring_consumer_&quot; + UUID.randomUUID().toString();\r\n\r\n\tpublic Map&lt;TopicPartition, PartionOffsets&gt; getConsumerGroupOffsets(String host, String topic, String groupId) {\r\n\t\tMap&lt;TopicPartition, Long&gt; logEndOffset = getLogEndOffset(topic, host);\r\n\r\n\t\tSet&lt;TopicPartition&gt; topicPartitions = new HashSet&lt;&gt;();\r\n\t\tfor (Entry&lt;TopicPartition, Long&gt; s : logEndOffset.entrySet()) {\r\n\t\t\ttopicPartitions.add(s.getKey());\r\n\t\t}\r\n\t\t\r\n\t\tKafkaConsumer&lt;String, Object&gt; consumer = createNewConsumer(groupId, host);\r\n\t\tMap&lt;TopicPartition, OffsetAndMetadata&gt; comittedOffsetMeta = consumer.committed(topicPartitions);\r\n\r\n\t\tBinaryOperator&lt;PartionOffsets&gt; mergeFunction = (a, b) -&gt; {\r\n\t\t\tthrow new IllegalStateException();\r\n\t\t};\r\n\t\tMap&lt;TopicPartition, PartionOffsets&gt; result = logEndOffset.entrySet().stream()\r\n\t\t\t\t.collect(Collectors.toMap(entry -&gt; (entry.getKey()), entry -&gt; {\r\n\t\t\t\t\tOffsetAndMetadata committed = comittedOffsetMeta.get(entry.getKey());\r\n\t\t\t\t\tlong currentOffset = 0;\r\n\t\t\t\t\tif(committed != null) { //committed offset will be null for unknown consumer groups\r\n\t\t\t\t\t\tcurrentOffset = committed.offset();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn new PartionOffsets(entry.getValue(), currentOffset, entry.getKey().partition(), topic);\r\n\t\t\t\t}, mergeFunction));\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic Map&lt;TopicPartition, Long&gt; getLogEndOffset(String topic, String host) {\r\n\t\tMap&lt;TopicPartition, Long&gt; endOffsets = new ConcurrentHashMap&lt;&gt;();\r\n\t\tKafkaConsumer&lt;?, ?&gt; consumer = createNewConsumer(monitoringConsumerGroupID, host);\r\n\t\tList&lt;PartitionInfo&gt; partitionInfoList = consumer.partitionsFor(topic);\r\n\t\tList&lt;TopicPartition&gt; topicPartitions = partitionInfoList.stream()\r\n\t\t\t\t.map(pi -&gt; new TopicPartition(topic, pi.partition())).collect(Collectors.toList());\r\n\t\tconsumer.assign(topicPartitions);\r\n\t\tconsumer.seekToEnd(topicPartitions);\r\n\t\ttopicPartitions.forEach(topicPartition -&gt; endOffsets.put(topicPartition, consumer.position(topicPartition)));\r\n\t\tconsumer.close();\r\n\t\treturn endOffsets;\r\n\t}\r\n\r\n\tprivate static KafkaConsumer&lt;String, Object&gt; createNewConsumer(String groupId, String host) {\r\n\t\tProperties properties = new Properties();\r\n\t\tproperties.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, host);\r\n\t\tproperties.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n\t\tproperties.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, &quot;false&quot;);\r\n\t\tproperties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n\t\tproperties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n\t\treturn new KafkaConsumer&lt;&gt;(properties);\r\n\t}\r\n\r\n\tprivate static class PartionOffsets {\r\n\t\tprivate long lag;\r\n\t\tprivate long timestamp = System.currentTimeMillis();\r\n\t\tprivate long endOffset;\r\n\t\tprivate long currentOffset;\r\n\t\tprivate int partion;\r\n\t\tprivate String topic;\r\n\r\n\t\tpublic PartionOffsets(long endOffset, long currentOffset, int partion, String topic) {\r\n\t\t\tthis.endOffset = endOffset;\r\n\t\t\tthis.currentOffset = currentOffset;\r\n\t\t\tthis.partion = partion;\r\n\t\t\tthis.topic = topic;\r\n\t\t\tthis.lag = endOffset - currentOffset;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;PartionOffsets [lag=&quot; + lag + &quot;, timestamp=&quot; + timestamp + &quot;, endOffset=&quot; + endOffset\r\n\t\t\t\t\t+ &quot;, currentOffset=&quot; + currentOffset + &quot;, partion=&quot; + partion + &quot;, topic=&quot; + topic + &quot;]&quot;;\r\n\t\t}\r\n\r\n\t}\r\n    }","title":"How to get kafka consume lag in java program","body":"<p>Run this standalone code. (Dependency on kafka-clients-2.6.0.jar)</p>\n<pre><code>import java.util.HashSet;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Map.Entry;\nimport java.util.Properties;\nimport java.util.Set;\nimport java.util.UUID;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.function.BinaryOperator;\nimport java.util.stream.Collectors;\n\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.clients.consumer.KafkaConsumer;\nimport org.apache.kafka.clients.consumer.OffsetAndMetadata;\nimport org.apache.kafka.common.PartitionInfo;\nimport org.apache.kafka.common.TopicPartition;\nimport org.apache.kafka.common.serialization.StringDeserializer;\n\npublic class CosumerGroupLag {\n\nstatic String host = &quot;localhost:9092&quot;;\nstatic String topic = &quot;topic02&quot;;\nstatic String groupId = &quot;test-group&quot;;\n\npublic static void main(String... vj) {\n    CosumerGroupLag cgl = new CosumerGroupLag();\n\n    while (true) {\n        Map&lt;TopicPartition, PartionOffsets&gt; lag = cgl.getConsumerGroupOffsets(host, topic, groupId);\n        System.out.println(&quot;$$LAG = &quot; + lag);\n        try {\n            Thread.sleep(10000);\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n}\n\nprivate final String monitoringConsumerGroupID = &quot;monitoring_consumer_&quot; + UUID.randomUUID().toString();\n\npublic Map&lt;TopicPartition, PartionOffsets&gt; getConsumerGroupOffsets(String host, String topic, String groupId) {\n    Map&lt;TopicPartition, Long&gt; logEndOffset = getLogEndOffset(topic, host);\n\n    Set&lt;TopicPartition&gt; topicPartitions = new HashSet&lt;&gt;();\n    for (Entry&lt;TopicPartition, Long&gt; s : logEndOffset.entrySet()) {\n        topicPartitions.add(s.getKey());\n    }\n    \n    KafkaConsumer&lt;String, Object&gt; consumer = createNewConsumer(groupId, host);\n    Map&lt;TopicPartition, OffsetAndMetadata&gt; comittedOffsetMeta = consumer.committed(topicPartitions);\n\n    BinaryOperator&lt;PartionOffsets&gt; mergeFunction = (a, b) -&gt; {\n        throw new IllegalStateException();\n    };\n    Map&lt;TopicPartition, PartionOffsets&gt; result = logEndOffset.entrySet().stream()\n            .collect(Collectors.toMap(entry -&gt; (entry.getKey()), entry -&gt; {\n                OffsetAndMetadata committed = comittedOffsetMeta.get(entry.getKey());\n                long currentOffset = 0;\n                if(committed != null) { //committed offset will be null for unknown consumer groups\n                    currentOffset = committed.offset();\n                }\n                return new PartionOffsets(entry.getValue(), currentOffset, entry.getKey().partition(), topic);\n            }, mergeFunction));\n\n    return result;\n}\n\npublic Map&lt;TopicPartition, Long&gt; getLogEndOffset(String topic, String host) {\n    Map&lt;TopicPartition, Long&gt; endOffsets = new ConcurrentHashMap&lt;&gt;();\n    KafkaConsumer&lt;?, ?&gt; consumer = createNewConsumer(monitoringConsumerGroupID, host);\n    List&lt;PartitionInfo&gt; partitionInfoList = consumer.partitionsFor(topic);\n    List&lt;TopicPartition&gt; topicPartitions = partitionInfoList.stream()\n            .map(pi -&gt; new TopicPartition(topic, pi.partition())).collect(Collectors.toList());\n    consumer.assign(topicPartitions);\n    consumer.seekToEnd(topicPartitions);\n    topicPartitions.forEach(topicPartition -&gt; endOffsets.put(topicPartition, consumer.position(topicPartition)));\n    consumer.close();\n    return endOffsets;\n}\n\nprivate static KafkaConsumer&lt;String, Object&gt; createNewConsumer(String groupId, String host) {\n    Properties properties = new Properties();\n    properties.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, host);\n    properties.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n    properties.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, &quot;false&quot;);\n    properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n    properties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n    return new KafkaConsumer&lt;&gt;(properties);\n}\n\nprivate static class PartionOffsets {\n    private long lag;\n    private long timestamp = System.currentTimeMillis();\n    private long endOffset;\n    private long currentOffset;\n    private int partion;\n    private String topic;\n\n    public PartionOffsets(long endOffset, long currentOffset, int partion, String topic) {\n        this.endOffset = endOffset;\n        this.currentOffset = currentOffset;\n        this.partion = partion;\n        this.topic = topic;\n        this.lag = endOffset - currentOffset;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;PartionOffsets [lag=&quot; + lag + &quot;, timestamp=&quot; + timestamp + &quot;, endOffset=&quot; + endOffset\n                + &quot;, currentOffset=&quot; + currentOffset + &quot;, partion=&quot; + partion + &quot;, topic=&quot; + topic + &quot;]&quot;;\n    }\n\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8631732,"reputation":11,"user_id":6463127,"display_name":"level"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614067440,"creation_date":1614067440,"answer_id":66329233,"question_id":42201616,"body_markdown":"You can set the SetStatisticsHandler callback function when creating the consumer. \r\nFor example, the c# code is as follows\r\n\r\n    var config = new ConsumerConfig()\r\n        {\r\n          BootstrapServers = entrypoints,\r\n          GroupId = groupid,\r\n          EnableAutoCommit = false,\r\n          StatisticsIntervalMs=1000 // statistics interval time\r\n        };\r\n\r\n        var consumer = new ConsumerBuilder&lt;Ignore, byte[]&gt;( config )\r\n        .SetStatisticsHandler((consumer,json)=&gt; {\r\n          logger.LogInformation( json ); // statistics metrics, include consumer lag\r\n        } )\r\n        .Build();\r\n\r\n\r\nFor details, please refer to statistics metrics in [STATISTICS.md](https://github.com/edenhill/librdkafka/blob/master/STATISTICS.md).","title":"How to get kafka consume lag in java program","body":"<p>You can set the SetStatisticsHandler callback function when creating the consumer.\nFor example, the c# code is as follows</p>\n<pre><code>var config = new ConsumerConfig()\n    {\n      BootstrapServers = entrypoints,\n      GroupId = groupid,\n      EnableAutoCommit = false,\n      StatisticsIntervalMs=1000 // statistics interval time\n    };\n\n    var consumer = new ConsumerBuilder&lt;Ignore, byte[]&gt;( config )\n    .SetStatisticsHandler((consumer,json)=&gt; {\n      logger.LogInformation( json ); // statistics metrics, include consumer lag\n    } )\n    .Build();\n</code></pre>\n<p>For details, please refer to statistics metrics in <a href=\"https://github.com/edenhill/librdkafka/blob/master/STATISTICS.md\" rel=\"nofollow noreferrer\">STATISTICS.md</a>.</p>\n"},{"tags":[],"owner":{"account_id":2296191,"reputation":2082,"user_id":2017567,"display_name":"Christophe Quintard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668504687,"creation_date":1668504687,"answer_id":74443330,"question_id":42201616,"body_markdown":"Since version 3.3.x, KafkaConsumer has a method that returns the lag :\r\n\r\n    public OptionalLong currentLag(TopicPartition topicPartition)\r\n\r\nSee https://javadoc.io/doc/org.apache.kafka/kafka-clients/latest/org/apache/kafka/clients/consumer/KafkaConsumer.html#currentLag-org.apache.kafka.common.TopicPartition-","title":"How to get kafka consume lag in java program","body":"<p>Since version 3.3.x, KafkaConsumer has a method that returns the lag :</p>\n<pre><code>public OptionalLong currentLag(TopicPartition topicPartition)\n</code></pre>\n<p>See <a href=\"https://javadoc.io/doc/org.apache.kafka/kafka-clients/latest/org/apache/kafka/clients/consumer/KafkaConsumer.html#currentLag-org.apache.kafka.common.TopicPartition-\" rel=\"nofollow noreferrer\">https://javadoc.io/doc/org.apache.kafka/kafka-clients/latest/org/apache/kafka/clients/consumer/KafkaConsumer.html#currentLag-org.apache.kafka.common.TopicPartition-</a></p>\n"}],"owner":{"account_id":1163679,"reputation":553,"user_id":1142701,"accept_rate":67,"display_name":"jamee"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23331,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":42204925,"answer_count":8,"score":11,"last_activity_date":1668504687,"creation_date":1486981072,"question_id":42201616,"body_markdown":"I wrote a java program to consume messsage from kafka. I want to monitor the consume lag, how to get it by java?\r\n\r\nBTW, I use:\r\n\r\n    &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n    &lt;artifactId&gt;kafka_2.11&lt;/artifactId&gt;\r\n    &lt;version&gt;0.10.1.1&lt;/version&gt;\r\n\r\nThanks in advance. ","title":"How to get kafka consume lag in java program","body":"<p>I wrote a java program to consume messsage from kafka. I want to monitor the consume lag, how to get it by java?</p>\n\n<p>BTW, I use:</p>\n\n<pre><code>&lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n&lt;artifactId&gt;kafka_2.11&lt;/artifactId&gt;\n&lt;version&gt;0.10.1.1&lt;/version&gt;\n</code></pre>\n\n<p>Thanks in advance. </p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"score":0,"creation_date":1668501029,"post_id":74442014,"comment_id":131413990,"body_markdown":"Hi! `@ConditionalOnMissingBean` is used for conditional bean initialization, you can have a look at [this](https://stackoverflow.com/a/56903971/14394219) thread. While `@Autowired` is used for bean injection, a nice answer can be found [here](https://stackoverflow.com/a/19419296/14394219)","body":"Hi! <code>@ConditionalOnMissingBean</code> is used for conditional bean initialization, you can have a look at <a href=\"https://stackoverflow.com/a/56903971/14394219\">this</a> thread. While <code>@Autowired</code> is used for bean injection, a nice answer can be found <a href=\"https://stackoverflow.com/a/19419296/14394219\">here</a>"},{"owner":{"account_id":25493614,"reputation":23,"user_id":19287970,"display_name":"Lynx"},"score":0,"creation_date":1668504581,"post_id":74442014,"comment_id":131415348,"body_markdown":"@artiomi Yes I know that. My point is can I use `@ConditionalOnMissingBean` to  provide fallback bean?","body":"@artiomi Yes I know that. My point is can I use <code>@ConditionalOnMissingBean</code> to  provide fallback bean?"},{"owner":{"account_id":25493614,"reputation":23,"user_id":19287970,"display_name":"Lynx"},"score":0,"creation_date":1668504702,"post_id":74442014,"comment_id":131415395,"body_markdown":"@artiomi I have edited title to make question easier to understand","body":"@artiomi I have edited title to make question easier to understand"}],"owner":{"account_id":25493614,"reputation":23,"user_id":19287970,"display_name":"Lynx"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668504655,"creation_date":1668497614,"question_id":74442014,"body_markdown":"Now I&#39;m developing spring starter libraries, and suddenly I feel like `@ConditionalOnMissingBean` is misused in my code. Assumes that there are two auto-configuration classes.\r\n\r\n```\r\n@Configuration\r\npublic class ProviderAutoConfiguration {\r\n    @Bean\r\n    @Primary\r\n    public Component component() {\r\n        return new Component();\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Configuration\r\n@AutoConfigureAfter(ProviderAutoConfiguration.class)\r\npublic class ConsumerAutoConfiguration {\r\n\r\n    @Bean\r\n    @ConditionalOnMissingBean\r\n    public Component fallback() {\r\n        return Component.NOOP;\r\n    }\r\n\r\n    @Bean\r\n    public Consumer consumer(Component component) {\r\n        return new Consumer(component);\r\n    }\r\n}\r\n```\r\n\r\nThe scenario is these two auto-configuration classes are in different libraries, users may only import the consumer library. So if I use `@ConditionalOnMissingBean`, the `ConsumerAutoConfiguration` will register a fallback bean to `ApplicationContext`. This behavior may cause other problems.\r\n\r\n```\r\n@Configuration\r\npublic class OtherProviderAutoConfiguration {\r\n    @Bean\r\n    @ConditionalOnMissingBean\r\n    public Component thirdParty() {\r\n        return new Component();\r\n    }\r\n}\r\n```\r\n\r\nAssumes that users import another library which is developed by others. Now nobody knows the behavior of `Component` bean initialization.\r\n\r\n```\r\n@Configuration\r\npublic class ConsumerAutoConfiguration {\r\n\r\n    @Autowired(required = false)\r\n    private Component component = Component.NOOP;\r\n\r\n    @Bean\r\n    public Consumer consumer() {\r\n        return new Consumer(component);\r\n    }\r\n}\r\n```\r\n\r\nSo my question is should I use `@Autowired` instead of `@ConditionalOnMissingBean` in this kind of scenario? Or is there a better way than both of them?\r\n","title":"Can @ConditionalOnMissingBean be used for providing fallback bean?","body":"<p>Now I'm developing spring starter libraries, and suddenly I feel like <code>@ConditionalOnMissingBean</code> is misused in my code. Assumes that there are two auto-configuration classes.</p>\n<pre><code>@Configuration\npublic class ProviderAutoConfiguration {\n    @Bean\n    @Primary\n    public Component component() {\n        return new Component();\n    }\n}\n</code></pre>\n<pre><code>@Configuration\n@AutoConfigureAfter(ProviderAutoConfiguration.class)\npublic class ConsumerAutoConfiguration {\n\n    @Bean\n    @ConditionalOnMissingBean\n    public Component fallback() {\n        return Component.NOOP;\n    }\n\n    @Bean\n    public Consumer consumer(Component component) {\n        return new Consumer(component);\n    }\n}\n</code></pre>\n<p>The scenario is these two auto-configuration classes are in different libraries, users may only import the consumer library. So if I use <code>@ConditionalOnMissingBean</code>, the <code>ConsumerAutoConfiguration</code> will register a fallback bean to <code>ApplicationContext</code>. This behavior may cause other problems.</p>\n<pre><code>@Configuration\npublic class OtherProviderAutoConfiguration {\n    @Bean\n    @ConditionalOnMissingBean\n    public Component thirdParty() {\n        return new Component();\n    }\n}\n</code></pre>\n<p>Assumes that users import another library which is developed by others. Now nobody knows the behavior of <code>Component</code> bean initialization.</p>\n<pre><code>@Configuration\npublic class ConsumerAutoConfiguration {\n\n    @Autowired(required = false)\n    private Component component = Component.NOOP;\n\n    @Bean\n    public Consumer consumer() {\n        return new Consumer(component);\n    }\n}\n</code></pre>\n<p>So my question is should I use <code>@Autowired</code> instead of <code>@ConditionalOnMissingBean</code> in this kind of scenario? Or is there a better way than both of them?</p>\n"},{"tags":["java","hibernate","orm","joined-subclass"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1668433714,"post_id":74431929,"comment_id":131396801,"body_markdown":"Perhaps the objects in the list are not fully loaded and you are dealing with lazy-load proxies? Otherwise I would suggest showing more code and/or adding additional logging to find the difference.","body":"Perhaps the objects in the list are not fully loaded and you are dealing with lazy-load proxies? Otherwise I would suggest showing more code and/or adding additional logging to find the difference."},{"owner":{"account_id":431396,"reputation":5083,"user_id":815409,"accept_rate":76,"display_name":"Giorgio"},"score":0,"creation_date":1668434550,"post_id":74431929,"comment_id":131397114,"body_markdown":"@ewramner: Thanks for the feedback. I have tried running `Hibernate.unproxy()` on the objects but it has no effect: The class of the resulting object is still the superclass. I will review my code once more and then provide more information.","body":"@ewramner: Thanks for the feedback. I have tried running <code>Hibernate.unproxy()</code> on the objects but it has no effect: The class of the resulting object is still the superclass. I will review my code once more and then provide more information."},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1668435794,"post_id":74431929,"comment_id":131397585,"body_markdown":"Can you add some more details, perhaps on the exact implementation of the entities and also on how exactly you are using them? Can you check the imports, is everything JPA? Can you enable query logging to see what is the SQL that Hibernate runs? Also double-check your data! I have a minimal JPA project for experimenting and could not reproduce this behavior.","body":"Can you add some more details, perhaps on the exact implementation of the entities and also on how exactly you are using them? Can you check the imports, is everything JPA? Can you enable query logging to see what is the SQL that Hibernate runs? Also double-check your data! I have a minimal JPA project for experimenting and could not reproduce this behavior."}],"owner":{"account_id":431396,"reputation":5083,"user_id":815409,"accept_rate":76,"display_name":"Giorgio"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1668504548,"creation_date":1668430256,"question_id":74431929,"body_markdown":"I have a class `Project`, a superclass `Resource` with two subclasses `StorageResource` and `ComputeResource`. I have defined a Hibernate mapping (I am using Hibernate version `5.3.7.Final`) as follows:\r\n\r\n```\r\n    @Entity\r\n    @Table(name = &quot;PROJECTS&quot;, ...})\r\n    public class Project implements Serializable {\r\n        ...\r\n        @OneToMany(\r\n            mappedBy = &quot;project&quot;,\r\n            cascade = CascadeType.ALL,\r\n            orphanRemoval = true\r\n        )\r\n        private List&lt;Resource&gt; resources;\r\n        ...\r\n    }\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;resources&quot;)\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    public class Resource implements Serializable {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private long id;\r\n\r\n        @ManyToOne\r\n        private Project project;\r\n        ...\r\n    }\r\n\r\n    @Entity\r\n    @Table(name = &quot;storage_resources&quot;)\r\n    @PrimaryKeyJoinColumn(name = &quot;id&quot;)\r\n    public class StorageResource extends Resource implements Serializable {\r\n        ...\r\n    }\r\n\r\n    @Entity\r\n    @Table(name = &quot;compute_resources&quot;)\r\n    @PrimaryKeyJoinColumn(name = &quot;id&quot;)\r\n    public class ComputeResource extends Resource implements Serializable {\r\n        ...\r\n    }\r\n```\r\n\r\nMy Java code can save instances of both subclasses (`StorageResource` and `ComputeResource`) correctly to the database. However, when I load these records by loading a project and its resources, I have the following:\r\n\r\n - Storage resource records are loaded as Java objects that are instances of `StorageResource`,\r\n - Compute resource records are loaded as Java objects that are instances of `Resource`, not of `ComputeResource` as I would expect.\r\n\r\nI have spent the last two days trying to figure out why this is happening: the mappings of both sub-classes are the same. Am I missing something?\r\n\r\n\r\n**EDIT**\r\n\r\nI found the problem. It was quite misleading, because there was no error message. The environment in which the bug occurred had an outdated configuration file. The Hibernate mapping for `ComputeResource`\r\n\r\n    &lt;mapping class=&quot;....ComputeResource&quot;/&gt;\r\n\r\nwas missing. After adding this line the mapping is working as expected.\r\n","title":"Mapped subclass is retrieved as superclass by Hibernate","body":"<p>I have a class <code>Project</code>, a superclass <code>Resource</code> with two subclasses <code>StorageResource</code> and <code>ComputeResource</code>. I have defined a Hibernate mapping (I am using Hibernate version <code>5.3.7.Final</code>) as follows:</p>\n<pre><code>    @Entity\n    @Table(name = &quot;PROJECTS&quot;, ...})\n    public class Project implements Serializable {\n        ...\n        @OneToMany(\n            mappedBy = &quot;project&quot;,\n            cascade = CascadeType.ALL,\n            orphanRemoval = true\n        )\n        private List&lt;Resource&gt; resources;\n        ...\n    }\n\n\n    @Entity\n    @Table(name = &quot;resources&quot;)\n    @Inheritance(strategy = InheritanceType.JOINED)\n    public class Resource implements Serializable {\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        @Column(name = &quot;id&quot;)\n        private long id;\n\n        @ManyToOne\n        private Project project;\n        ...\n    }\n\n    @Entity\n    @Table(name = &quot;storage_resources&quot;)\n    @PrimaryKeyJoinColumn(name = &quot;id&quot;)\n    public class StorageResource extends Resource implements Serializable {\n        ...\n    }\n\n    @Entity\n    @Table(name = &quot;compute_resources&quot;)\n    @PrimaryKeyJoinColumn(name = &quot;id&quot;)\n    public class ComputeResource extends Resource implements Serializable {\n        ...\n    }\n</code></pre>\n<p>My Java code can save instances of both subclasses (<code>StorageResource</code> and <code>ComputeResource</code>) correctly to the database. However, when I load these records by loading a project and its resources, I have the following:</p>\n<ul>\n<li>Storage resource records are loaded as Java objects that are instances of <code>StorageResource</code>,</li>\n<li>Compute resource records are loaded as Java objects that are instances of <code>Resource</code>, not of <code>ComputeResource</code> as I would expect.</li>\n</ul>\n<p>I have spent the last two days trying to figure out why this is happening: the mappings of both sub-classes are the same. Am I missing something?</p>\n<p><strong>EDIT</strong></p>\n<p>I found the problem. It was quite misleading, because there was no error message. The environment in which the bug occurred had an outdated configuration file. The Hibernate mapping for <code>ComputeResource</code></p>\n<pre><code>&lt;mapping class=&quot;....ComputeResource&quot;/&gt;\n</code></pre>\n<p>was missing. After adding this line the mapping is working as expected.</p>\n"},{"tags":["java","lotus-notes"],"comments":[{"owner":{"account_id":309890,"reputation":14473,"user_id":622571,"display_name":"Richard Schwartz"},"score":0,"creation_date":1504636590,"post_id":46050067,"comment_id":79083038,"body_markdown":"How is this code running? As an agent? A standalone Java program? Are you using Notes.jar or NCSO.jar? Have you verified that you have access to the server? (I.e., what happens if you try session.getDatabase(&quot;NALLN304/40/LLN/IBM&quot;,&quot;Names.nsf&quot;?)","body":"How is this code running? As an agent? A standalone Java program? Are you using Notes.jar or NCSO.jar? Have you verified that you have access to the server? (I.e., what happens if you try session.getDatabase(&quot;NALLN304/40/LLN/IBM&quot;,&quot;Names.nsf&quot;?)"},{"owner":{"account_id":7934600,"reputation":1450,"user_id":5991121,"accept_rate":55,"display_name":"Francisunoxx"},"score":0,"creation_date":1504662579,"post_id":46050067,"comment_id":79091915,"body_markdown":"Hi! @RichardSchwartz I&#39;m running this in a standalone Java program and using Notes.jar. I tried to verify the access using `database.isOpen()` method but it won&#39;t authenticate me. But if I used the server and file address of my Workspace it really works well.","body":"Hi! @RichardSchwartz I&#39;m running this in a standalone Java program and using Notes.jar. I tried to verify the access using <code>database.isOpen()</code> method but it won&#39;t authenticate me. But if I used the server and file address of my Workspace it really works well."},{"owner":{"account_id":309890,"reputation":14473,"user_id":622571,"display_name":"Richard Schwartz"},"score":0,"creation_date":1504721813,"post_id":46050067,"comment_id":79125524,"body_markdown":"I&#39;m unclear on something: did you try database.isOpen() on the DB object that you are retrieving via dir.getFirstDatabase()? Or did you try my recommendation of checking what happens if you do session.getDatabase(&quot;NALLN304/40/LLN/IBM&quot;,&quot;Names.nsf&quot; in order to see if you have access to the server?","body":"I&#39;m unclear on something: did you try database.isOpen() on the DB object that you are retrieving via dir.getFirstDatabase()? Or did you try my recommendation of checking what happens if you do session.getDatabase(&quot;NALLN304/40/LLN/IBM&quot;,&quot;Names.nsf&quot; in order to see if you have access to the server?"},{"owner":{"account_id":309890,"reputation":14473,"user_id":622571,"display_name":"Richard Schwartz"},"score":0,"creation_date":1504721821,"post_id":46050067,"comment_id":79125528,"body_markdown":"Also, using Using the same ID and password that you are providing when createSession() prompts you, are you able to access the server NALLN304/40/LLN/IBM in the Notes client?","body":"Also, using Using the same ID and password that you are providing when createSession() prompts you, are you able to access the server NALLN304/40/LLN/IBM in the Notes client?"},{"owner":{"account_id":7934600,"reputation":1450,"user_id":5991121,"accept_rate":55,"display_name":"Francisunoxx"},"score":0,"creation_date":1504747896,"post_id":46050067,"comment_id":79135046,"body_markdown":"@RichardSchwartz Yes I also tried `session.getDatabase(&quot;NALLN304/40/LLN/IBM&quot;,&quot;Names.nsf&quot;)` and used `isOpen()` method but it this won&#39;t authenticate me.","body":"@RichardSchwartz Yes I also tried <code>session.getDatabase(&quot;NALLN304&#47;40&#47;LLN&#47;IBM&quot;,&quot;Names.nsf&quot;)</code> and used <code>isOpen()</code> method but it this won&#39;t authenticate me."},{"owner":{"account_id":7934600,"reputation":1450,"user_id":5991121,"accept_rate":55,"display_name":"Francisunoxx"},"score":0,"creation_date":1504748174,"post_id":46050067,"comment_id":79135131,"body_markdown":"@RichardSchwartz I tried server and file when providing for my `createSession()` but I cannot access the server. My file location system is on the Server.","body":"@RichardSchwartz I tried server and file when providing for my <code>createSession()</code> but I cannot access the server. My file location system is on the Server."}],"answers":[{"tags":[],"owner":{"account_id":309890,"reputation":14473,"user_id":622571,"display_name":"Richard Schwartz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504749757,"creation_date":1504749757,"answer_id":46086767,"question_id":46050067,"body_markdown":"Your problem is that your ID is not authenticating with the server. You need to take the output from this line:\r\n\r\n    System.out.println(&quot;User = &quot; + session.getUserName());\r\n\r\nAnd take it to your server administrators, ask why it is not being allowed to access the server, and ask them to assist you either by granting the necessary permissions or by giving you another ID that you can use.\r\n\r\n","title":"Directory does not exists (Lotus Notes)","body":"<p>Your problem is that your ID is not authenticating with the server. You need to take the output from this line:</p>\n\n<pre><code>System.out.println(\"User = \" + session.getUserName());\n</code></pre>\n\n<p>And take it to your server administrators, ask why it is not being allowed to access the server, and ask them to assist you either by granting the necessary permissions or by giving you another ID that you can use.</p>\n"},{"tags":[],"owner":{"account_id":26937196,"reputation":1,"user_id":20508653,"display_name":"berlipups"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668504225,"creation_date":1668504225,"answer_id":74443226,"question_id":46050067,"body_markdown":"Check the logs for server connection errors. Even if the server has to connect to itself. Faced the same problem. The server gave an error because it did not find a route for the connection. Added a new connection for the server to itself and everything was fixed","title":"Directory does not exists (Lotus Notes)","body":"<p>Check the logs for server connection errors. Even if the server has to connect to itself. Faced the same problem. The server gave an error because it did not find a route for the connection. Added a new connection for the server to itself and everything was fixed</p>\n"}],"owner":{"account_id":7934600,"reputation":1450,"user_id":5991121,"accept_rate":55,"display_name":"Francisunoxx"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668504225,"creation_date":1504599234,"question_id":46050067,"body_markdown":"I&#39;m trying to get all the database on my server. But specifying my server name in `getDbDirectory()` parameter as **NALLN304/40/LLN/IBM** gives me a error.\r\n\r\n&gt; Directory NALLN304/40/LLN/IBM!! does not exist\r\n\r\nit always add two exclamation mark at the end. I tried also as server name and mail file adding **.nsf** format at the end of mail file. `NALLN304/40/LLN/IBM!!data0\\126\\1000031540.nsf` also gives me the same error.\r\n\r\nSnipper code below:\r\n\r\n    Session session = null;\r\n    Database db = null;\r\n    DbDirectory dir = null;\r\n\r\n    try\r\n    {\r\n    \tNotesThread.sinitThread();\r\n        session = NotesFactory.createSession();\r\n        System.out.println(&quot;User = &quot; + session.getUserName());\r\n        dir = session.getDbDirectory(&quot;NALLN304/40/LLN/IBM&quot;);\r\n                \r\n        System.out.println(dir.getName());\r\n                \r\n    \tdb = dir.getFirstDatabase(DbDirectory.DATABASE);\r\n    \t\t\t\r\n    \tdo\r\n    \t{\r\n    \t\tSystem.out.println(&quot;Title: &quot; +db.getTitle());\r\n    \t}\r\n    \twhile(dir.getNextDatabase() != null);\r\n    \t\t\t\r\n    }\r\n    catch(NotesException ex)\r\n    {\r\n    \tex.printStackTrace();\r\n    }\r\n\r\nThe error always points out to the `db = dir.getFirstDatabase(DbDirectory.DATABASE);` because `dir.getFirstDatabase(DbDirectory.DATABASE)` expects .nsf file even I specify the file format. Any reasons why I got this error?","title":"Directory does not exists (Lotus Notes)","body":"<p>I'm trying to get all the database on my server. But specifying my server name in <code>getDbDirectory()</code> parameter as <strong>NALLN304/40/LLN/IBM</strong> gives me a error.</p>\n\n<blockquote>\n  <p>Directory NALLN304/40/LLN/IBM!! does not exist</p>\n</blockquote>\n\n<p>it always add two exclamation mark at the end. I tried also as server name and mail file adding <strong>.nsf</strong> format at the end of mail file. <code>NALLN304/40/LLN/IBM!!data0\\126\\1000031540.nsf</code> also gives me the same error.</p>\n\n<p>Snipper code below:</p>\n\n<pre><code>Session session = null;\nDatabase db = null;\nDbDirectory dir = null;\n\ntry\n{\n    NotesThread.sinitThread();\n    session = NotesFactory.createSession();\n    System.out.println(\"User = \" + session.getUserName());\n    dir = session.getDbDirectory(\"NALLN304/40/LLN/IBM\");\n\n    System.out.println(dir.getName());\n\n    db = dir.getFirstDatabase(DbDirectory.DATABASE);\n\n    do\n    {\n        System.out.println(\"Title: \" +db.getTitle());\n    }\n    while(dir.getNextDatabase() != null);\n\n}\ncatch(NotesException ex)\n{\n    ex.printStackTrace();\n}\n</code></pre>\n\n<p>The error always points out to the <code>db = dir.getFirstDatabase(DbDirectory.DATABASE);</code> because <code>dir.getFirstDatabase(DbDirectory.DATABASE)</code> expects .nsf file even I specify the file format. Any reasons why I got this error?</p>\n"},{"tags":["java","spring-boot","kotlin","quarkus","testcontainers"],"answers":[{"tags":[],"owner":{"account_id":26112219,"reputation":154,"user_id":19805946,"display_name":"James"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663548259,"creation_date":1663548259,"answer_id":73767302,"question_id":70096801,"body_markdown":"\r\n\r\nYou could try using the following configuration:\r\n \r\n   \r\n    quarkus.datasource.url=jdbc:tc:postgresql:9.6.8:///databasename?TC_TMPFS=/testtmpfs:rw\r\n\r\n","title":"How to run Testcontainers with in-memory filesystem TMPFS set in Quarkus","body":"<p>You could try using the following configuration:</p>\n<pre><code>quarkus.datasource.url=jdbc:tc:postgresql:9.6.8:///databasename?TC_TMPFS=/testtmpfs:rw\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7589259,"reputation":309,"user_id":5757380,"display_name":"Andreas Adelino"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1663873219,"creation_date":1663859430,"answer_id":73816987,"question_id":70096801,"body_markdown":"You can try to set the TMPFS using a `QuarkusTestResourceLifecycleManager` [guide](https://quarkus.io/guides/getting-started-testing#quarkus-test-resource).\r\n\r\nQuarkus Kotlin example:\r\n\r\n```kotlin\r\n\r\nclass DatabaseTestLifeCycleManager : QuarkusTestResourceLifecycleManager {\r\n    private val postgresDockerImage = DockerImageName.parse(&quot;postgres:latest&quot;)\r\n\r\n    override fun start(): MutableMap&lt;String, String&gt;? {\r\n        val container = startPostgresContainer()\r\n\r\n        return mutableMapOf(\r\n            &quot;quarkus.datasource.username&quot; to container.username,\r\n            &quot;quarkus.datasource.password&quot; to container.password,\r\n            &quot;quarkus.datasource.jdbc.url&quot; to container.jdbcUrl\r\n        )\r\n    }\r\n\r\n    private fun startPostgresContainer(): PostgreSQLContainer&lt;out PostgreSQLContainer&lt;*&gt;&gt; {\r\n        val container = PostgreSQLContainer(postgresDockerImage)\r\n            .withDatabaseName(&quot;dataBaseName&quot;)\r\n            .withUsername(&quot;username&quot;)\r\n            .withPassword(&quot;password&quot;)\r\n            .withEnv(mapOf(&quot;PGDATA&quot; to &quot;/var/lib/postgresql/data&quot;))\r\n            .withTmpFs(mapOf(&quot;/var/lib/postgresql/data&quot; to &quot;rw&quot;))\r\n        container.start()\r\n        return container\r\n    }\r\n\r\n    override fun stop() {\r\n        // close container\r\n    }\r\n}\r\n```","title":"How to run Testcontainers with in-memory filesystem TMPFS set in Quarkus","body":"<p>You can try to set the TMPFS using a <code>QuarkusTestResourceLifecycleManager</code> <a href=\"https://quarkus.io/guides/getting-started-testing#quarkus-test-resource\" rel=\"nofollow noreferrer\">guide</a>.</p>\n<p>Quarkus Kotlin example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>\nclass DatabaseTestLifeCycleManager : QuarkusTestResourceLifecycleManager {\n    private val postgresDockerImage = DockerImageName.parse(&quot;postgres:latest&quot;)\n\n    override fun start(): MutableMap&lt;String, String&gt;? {\n        val container = startPostgresContainer()\n\n        return mutableMapOf(\n            &quot;quarkus.datasource.username&quot; to container.username,\n            &quot;quarkus.datasource.password&quot; to container.password,\n            &quot;quarkus.datasource.jdbc.url&quot; to container.jdbcUrl\n        )\n    }\n\n    private fun startPostgresContainer(): PostgreSQLContainer&lt;out PostgreSQLContainer&lt;*&gt;&gt; {\n        val container = PostgreSQLContainer(postgresDockerImage)\n            .withDatabaseName(&quot;dataBaseName&quot;)\n            .withUsername(&quot;username&quot;)\n            .withPassword(&quot;password&quot;)\n            .withEnv(mapOf(&quot;PGDATA&quot; to &quot;/var/lib/postgresql/data&quot;))\n            .withTmpFs(mapOf(&quot;/var/lib/postgresql/data&quot; to &quot;rw&quot;))\n        container.start()\n        return container\n    }\n\n    override fun stop() {\n        // close container\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1527,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":73816987,"answer_count":2,"score":8,"last_activity_date":1668503735,"creation_date":1637759881,"question_id":70096801,"body_markdown":"I have the following issue.\r\n\r\nIn order to speed up the integration test pipeline I want to run `testcontainers` with `Quarkus` with `TMPFS` option set. This will force testcontainers to run the DB with a in-memory file system.\r\n\r\nThis can be easily done according to `testcontainers` website like this ...\r\n\r\n&gt; To pass this option to the container, add TC_TMPFS parameter to the URL as follows:\r\njdbc:tc:postgresql:9.6.8:///databasename?TC_TMPFS=/testtmpfs:rw\r\n\r\nSeems like problem solved. This is how it should work with `Spring Boot` \r\n\r\nHowever, with `Quarkus` in their [docs][1] it says the following ...\r\n\r\n&gt; All services based on containers are ran using testcontainers. Even though extra URL properties can be set in your application.properties file, specific testcontainers properties such as TC_INITSCRIPT, TC_INITFUNCTION, TC_DAEMON, TC_TMPFS are not supported.\r\n\r\n**And my question is:**\r\n\r\nHow can you work around this ? How can I run my testcontainer which will be mounted on TMPFS ?\r\n\r\n  [1]: https://quarkus.io/guides/databases-dev-services","title":"How to run Testcontainers with in-memory filesystem TMPFS set in Quarkus","body":"<p>I have the following issue.</p>\n<p>In order to speed up the integration test pipeline I want to run <code>testcontainers</code> with <code>Quarkus</code> with <code>TMPFS</code> option set. This will force testcontainers to run the DB with a in-memory file system.</p>\n<p>This can be easily done according to <code>testcontainers</code> website like this ...</p>\n<blockquote>\n<p>To pass this option to the container, add TC_TMPFS parameter to the URL as follows:\njdbc:tc:postgresql:9.6.8:///databasename?TC_TMPFS=/testtmpfs:rw</p>\n</blockquote>\n<p>Seems like problem solved. This is how it should work with <code>Spring Boot</code></p>\n<p>However, with <code>Quarkus</code> in their <a href=\"https://quarkus.io/guides/databases-dev-services\" rel=\"nofollow noreferrer\">docs</a> it says the following ...</p>\n<blockquote>\n<p>All services based on containers are ran using testcontainers. Even though extra URL properties can be set in your application.properties file, specific testcontainers properties such as TC_INITSCRIPT, TC_INITFUNCTION, TC_DAEMON, TC_TMPFS are not supported.</p>\n</blockquote>\n<p><strong>And my question is:</strong></p>\n<p>How can you work around this ? How can I run my testcontainer which will be mounted on TMPFS ?</p>\n"},{"tags":["java","deserialization","xstream"],"comments":[{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1668503453,"post_id":74442984,"comment_id":131414902,"body_markdown":"I don&#39;t know org.reflections, but you don&#39;t need external libraries: java.lang.Class have accessors on fields and methods, maybe it is enough for your needs.","body":"I don&#39;t know org.reflections, but you don&#39;t need external libraries: java.lang.Class have accessors on fields and methods, maybe it is enough for your needs."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1668517030,"post_id":74442984,"comment_id":131419793,"body_markdown":"There is a difference between classes used by another class (i.e. referenced by its code) and classes you might need to restore the state of an instance of that class. E.g. a class A may invoke a static method on another class B but there are never instances of B in a serialized instance of A. On the contrary, I can easily construct an object with dependencies not statically visible in the code. `java.util.ArrayList` has no dependencies to `javax.swing.JButton`, but I can easily create (and serialize) an `ArrayList` object containing a `JButton` object.","body":"There is a difference between classes used by another class (i.e. referenced by its code) and classes you might need to restore the state of an instance of that class. E.g. a class A may invoke a static method on another class B but there are never instances of B in a serialized instance of A. On the contrary, I can easily construct an object with dependencies not statically visible in the code. <code>java.util.ArrayList</code> has no dependencies to <code>javax.swing.JButton</code>, but I can easily create (and serialize) an <code>ArrayList</code> object containing a <code>JButton</code> object."}],"owner":{"account_id":16397721,"reputation":11,"user_id":11844699,"display_name":"nikowla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668502981,"creation_date":1668502981,"question_id":74442984,"body_markdown":"I am using an xStream whitelist to restrict the packages that can be de-serialized by my application.\r\nTo keep this whitelist restrictive enough in this huge project,\r\n\r\nI need to find all the classes used by specific classes that are to be de-serialized.\r\n\r\nI have tried using the org.reflections, but the scanners don&#39;t return all the used classes.\r\n\r\nAny help would be appreciated, Thanks!","title":"Find list of Classes used by a Class in java","body":"<p>I am using an xStream whitelist to restrict the packages that can be de-serialized by my application.\nTo keep this whitelist restrictive enough in this huge project,</p>\n<p>I need to find all the classes used by specific classes that are to be de-serialized.</p>\n<p>I have tried using the org.reflections, but the scanners don't return all the used classes.</p>\n<p>Any help would be appreciated, Thanks!</p>\n"},{"tags":["java","selenium","jar","server"],"comments":[{"owner":{"account_id":214984,"reputation":4589,"user_id":469294,"accept_rate":54,"display_name":"yucer"},"score":0,"creation_date":1501836037,"post_id":28853634,"comment_id":77964748,"body_markdown":"one question: why do you need to specify the chrome driver here ?","body":"one question: why do you need to specify the chrome driver here ?"}],"answers":[{"tags":[],"owner":{"account_id":4725054,"reputation":16161,"user_id":3821981,"accept_rate":62,"display_name":"Saifur"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1517420403,"creation_date":1425471285,"answer_id":28854250,"question_id":28853634,"body_markdown":"    java -jar seleniumjar.jar -Dwebdriver.chrome.driver=./chromedriver \r\n\r\nIf you want to specifiy the port do\r\n\r\n    java -jar seleniumjar.version.jar -Dwebdriver.chrome.driver=./chromedriver -port 4545\r\n\r\nAs of 3.8.1, specifying the driver is no longer necessary:\r\n\r\n    java -jar seleniumjar.jar","title":"how to run a selenium-server-standalone?","body":"<pre><code>java -jar seleniumjar.jar -Dwebdriver.chrome.driver=./chromedriver \n</code></pre>\n\n<p>If you want to specifiy the port do</p>\n\n<pre><code>java -jar seleniumjar.version.jar -Dwebdriver.chrome.driver=./chromedriver -port 4545\n</code></pre>\n\n<p>As of 3.8.1, specifying the driver is no longer necessary:</p>\n\n<pre><code>java -jar seleniumjar.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4290060,"reputation":411,"user_id":3506679,"accept_rate":30,"display_name":"Giri"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1425475767,"creation_date":1425472780,"answer_id":28854758,"question_id":28853634,"body_markdown":"    java -jar selenium-server-standalone-2.44.0.jar -port port_no","title":"how to run a selenium-server-standalone?","body":"<pre><code>java -jar selenium-server-standalone-2.44.0.jar -port port_no\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1517468752,"creation_date":1474550458,"answer_id":39640250,"question_id":28853634,"body_markdown":"**Running Standalone [Selenium Server][1]:**\r\n\r\n*Form [Jar Source][2] **Main-Class** is* `org.openqa.grid.selenium.GridLauncher`\r\n\r\nAs per **`GridRole`** class - Selenium server can run in one of the following roles:\r\n\r\n \r\n\r\n&gt; 1. **`NOT_GRID`** *[If -role option is omitted the server runs standalone not being a part of a grid]*&gt; \r\n&gt; 2. **`HUB`** *[as a hub of a Selenium grid]* \r\n&gt; 3. **`NODE`** *[as a node of a Selenium grid]*\r\n\r\n    D:\\&gt; java -jar selenium-server-standalone-*.jar -host 127.0.0.1 -port 4444\r\n\r\n\r\n--------------------------------------------------------------------------------\r\n**NOT GRID**\r\n\r\n - **`RC `**[`(Selenium interface)`][3]**`- IP:Port/selenium-server`**:\r\n\r\n***[Selenium][4] Remote Control ([RC][5]) requires server to be started before executing the test scripts.** RC server injects **Selenium core (JavaScript)** into the browser. The core (daemon process) receives commands from the server by your test scripts and executes them in a browser then results to your program. But cannot handle moving mouse cursors  &amp; mobile execution.*\r\n\r\nJava Client Driver:\t\r\n*Client-Configures your browser to use the Selenium Server as an HTTP proxy and passes browser commands to server through `&quot;/selenium-server/RemoteRunner.html?sessionId=1234&quot;`, clients may send Driver **Command requests** to selenium server over HTTP as follows:* \r\n\r\n*Code &amp; Requests: RC Server continuously runs. we create a daemon and from that communicate with the browser.*\r\n\r\n    Selenium daemon = new DefaultSelenium(&quot;172.16.20.156&quot;, 4464, &quot;*firefox&quot;, &quot;https://www.google.co.in/&quot;);\r\n    daemon.start(); -- daemon.stop(); (OR)\r\n    setUp(&quot;http://www.google.com/&quot;, &quot;*firefox&quot;, 4454); selenium.windowMaximize();\r\n    \r\n    GET:http://localhost:4454/selenium-server/driver/?cmd=open&amp;1=https://www.google.co.in/&amp;sessionId=9b1a232d9478497892e09cfc93cf665a\r\n\r\n - **`RC `**([`WebDriver`][6]` interface)`**`- IP:Port/wd/hub/static/resource/hub.html`**:\r\n\r\n*[RWD][7] Code &amp; [Requests][8]*:\r\n\r\n    WebDriver nativeDriver = new RemoteWebDriver(new URL(&quot;http://127.0.0.1:4454/wd/hub&quot;), DesiredCapabilities.firefox());\r\n    \r\n    Requests:\r\n    http://127.0.0.1:4454/wd/hub/session\r\n    \t/123...[SESSIONID]\r\n    \t\t/url\r\n    \t\t{ &quot;url&quot; : &quot;http://demo.opencart.com/index.php?route=account/login&quot; }\r\n    \r\n    \t\r\n    \t\t/execute\r\n    \t\t{ &quot;script&quot; : &quot;document.querySelectorAll( arguments[0] )[0].click();&quot;, &quot;args&quot; : [&#39;input.btn&#39;] }\r\n\r\n--------------------------------------------------------------------------------\r\n\r\n**[Grid][9]**: [ `- IP:Port/grid/console`]\r\n\r\n**HUB** *`Grid HUB Running as a standalone server:` Hub is a central point which distributing tests on several node-machines, which are registered to it for parallel execution.*\r\n\r\n    java -jar selenium-server-standalone-2.53.0.jar -host 127.0.0.1 -port 4454 -role hub -log &quot;D:\\\\HUB_Log.txt&quot;\r\n\r\n**NODE** *[RC] has to post a request to HUB in order to register with it, by this URL - `IP:Port//grid/register`.* \r\n\r\n    java -jar selenium-server-standalone-2.53.0.jar -host 127.0.0.1 -port 4458 -role node \r\n    -hub http://127.0.0.1:4454/grid/register -hubHost 127.0.0.1 -hubPort 4454 \r\n    -browser browserName=firefox,version=24.0, maxinstance=1,platform=WINDOWS7 \r\n    -browser  browserName=chrome,version=53.0,platform=WINDOWS \r\n    -Dwebdriver.chrome.driver=D:\\\\Drivers\\\\chromedrivers\\\\2.24\\\\chromedriver.exe\r\n\r\n*`Running as a grid node:` browser Instance INFO: browserName=chrome, version=53.0, maxinstance=1, platform=WINDOWS Command Line parameters with [System Property][10] values -Dproperty=value -D[chrome][11]=[driverAddress][12] (If value is a string that contains spaces, you must enclose the string in double quotes)*\r\n\r\nNode registration with a **JSON configuration file [`registerNode.json`](https://stackoverflow.com/a/46320490/5081877)**.\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n\tD:\\SeleniumJar_Source&gt;java -jar selenium-server-standalone-2.53.0.jar -role node \r\n\t-hub http://127.0.0.1:4454/grid/register \r\n\t-nodeConfig registerNode.json \r\n\t-Dwebdriver.chrome.driver=&quot;D:\\\\Drivers\\\\chromedrivers\\\\2.24\\\\chromedriver.exe&quot; \r\n\t-Dwebdriver.ie.driver=&quot;D:\\\\Drivers\\\\IEDrivers\\\\iedriver64\\\\IEDriverServer.exe&quot; \r\n\t-Dwebdriver.firefox.logfile=&quot;D:\\\\FirefoxInstance.txt&quot; \r\n\t-Dwebdriver.chrome.logfile=&quot;D:\\\\ChromeInstance.txt&quot; \r\n\t-Dwebdriver.ie.logfile=&quot;D:\\\\IEInstance.txt&quot;\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n--------------------------------------------------------------------------------\r\n**WebDriver** doesn&#39;t require any server start before start execution. You can see that [WebDriver][13] acts just as a normal Java library does: it&#39;s entirely self-contained, and you don&#39;t need to remember to start any additional processes or run any installers before using it.\r\n\r\n    WebDriver driver = new FirefoxDriver();\r\n\r\n--------------------------------------------------------------------------------\r\n\r\n[![Selenium Server][14]][14]\r\n\r\n@see\r\n\r\n * [Selenium using Java: Start Hub Server and register Nodes with Hub](https://stackoverflow.com/a/46320490/5081877)\r\n * [GitHub Wiki](https://github.com/Yash-777/SeleniumDriverAutomation/wiki/Selenium)\r\n\r\n  [1]: http://selenium-release.storage.googleapis.com/index.html\r\n  [2]: https://github.com/Yash-777/SeleniumSource\r\n  [3]: https://github.com/Yash-777/SeleniumSource/blob/master/java/client/src/com/thoughtworks/selenium/Selenium.java\r\n  [4]: https://en.wikipedia.org/wiki/Selenium_(software)\r\n  [5]: http://www.seleniumhq.org/docs/05_selenium_rc.jsp#using-the-java-client-driver\r\n  [6]: http://www.seleniumhq.org/docs/03_webdriver.jsp#backing-webdriver-with-selenium\r\n  [7]: https://github.com/Yash-777/SeleniumSource/wiki/RemoteWebDriver\r\n  [8]: https://advancedrestclient.com/\r\n  [9]: https://github.com/Yash-777/SeleniumSource/wiki/Grid2\r\n  [10]: http://docs.oracle.com/javase/6/docs/technotes/tools/windows/java.html\r\n  [11]: http://chromedriver.storage.googleapis.com/index.html\r\n  [12]: http://chromedriver.storage.googleapis.com/\r\n  [13]: https://github.com/Yash-777/SeleniumSource/wiki/Getting-Started\r\n  [14]: http://i.stack.imgur.com/pzMqc.png","title":"how to run a selenium-server-standalone?","body":"<p><strong>Running Standalone <a href=\"http://selenium-release.storage.googleapis.com/index.html\" rel=\"noreferrer\">Selenium Server</a>:</strong></p>\n\n<p><em>Form <a href=\"https://github.com/Yash-777/SeleniumSource\" rel=\"noreferrer\">Jar Source</a> <strong>Main-Class</strong> is</em> <code>org.openqa.grid.selenium.GridLauncher</code></p>\n\n<p>As per <strong><code>GridRole</code></strong> class - Selenium server can run in one of the following roles:</p>\n\n<blockquote>\n  <ol>\n  <li><strong><code>NOT_GRID</code></strong> <em>[If -role option is omitted the server runs standalone not being a part of a grid]</em>> </li>\n  <li><strong><code>HUB</code></strong> <em>[as a hub of a Selenium grid]</em> </li>\n  <li><strong><code>NODE</code></strong> <em>[as a node of a Selenium grid]</em></li>\n  </ol>\n</blockquote>\n\n<pre><code>D:\\&gt; java -jar selenium-server-standalone-*.jar -host 127.0.0.1 -port 4444\n</code></pre>\n\n<hr>\n\n<p><strong>NOT GRID</strong></p>\n\n<ul>\n<li><strong><code>RC</code></strong><a href=\"https://github.com/Yash-777/SeleniumSource/blob/master/java/client/src/com/thoughtworks/selenium/Selenium.java\" rel=\"noreferrer\"><code>(Selenium interface)</code></a><strong><code>- IP:Port/selenium-server</code></strong>:</li>\n</ul>\n\n<p><strong><em><a href=\"https://en.wikipedia.org/wiki/Selenium_(software)\" rel=\"noreferrer\">Selenium</a> Remote Control (<a href=\"http://www.seleniumhq.org/docs/05_selenium_rc.jsp#using-the-java-client-driver\" rel=\"noreferrer\">RC</a>) requires server to be started before executing the test scripts.</strong> RC server injects <strong>Selenium core (JavaScript)</strong> into the browser. The core (daemon process) receives commands from the server by your test scripts and executes them in a browser then results to your program. But cannot handle moving mouse cursors  &amp; mobile execution.</em></p>\n\n<p>Java Client Driver: \n<em>Client-Configures your browser to use the Selenium Server as an HTTP proxy and passes browser commands to server through <code>\"/selenium-server/RemoteRunner.html?sessionId=1234\"</code>, clients may send Driver <strong>Command requests</strong> to selenium server over HTTP as follows:</em> </p>\n\n<p><em>Code &amp; Requests: RC Server continuously runs. we create a daemon and from that communicate with the browser.</em></p>\n\n<pre><code>Selenium daemon = new DefaultSelenium(\"172.16.20.156\", 4464, \"*firefox\", \"https://www.google.co.in/\");\ndaemon.start(); -- daemon.stop(); (OR)\nsetUp(\"http://www.google.com/\", \"*firefox\", 4454); selenium.windowMaximize();\n\nGET:http://localhost:4454/selenium-server/driver/?cmd=open&amp;1=https://www.google.co.in/&amp;sessionId=9b1a232d9478497892e09cfc93cf665a\n</code></pre>\n\n<ul>\n<li><strong><code>RC</code></strong>(<a href=\"http://www.seleniumhq.org/docs/03_webdriver.jsp#backing-webdriver-with-selenium\" rel=\"noreferrer\"><code>WebDriver</code></a><code>interface)</code><strong><code>- IP:Port/wd/hub/static/resource/hub.html</code></strong>:</li>\n</ul>\n\n<p><em><a href=\"https://github.com/Yash-777/SeleniumSource/wiki/RemoteWebDriver\" rel=\"noreferrer\">RWD</a> Code &amp; <a href=\"https://advancedrestclient.com/\" rel=\"noreferrer\">Requests</a></em>:</p>\n\n<pre><code>WebDriver nativeDriver = new RemoteWebDriver(new URL(\"http://127.0.0.1:4454/wd/hub\"), DesiredCapabilities.firefox());\n\nRequests:\nhttp://127.0.0.1:4454/wd/hub/session\n    /123...[SESSIONID]\n        /url\n        { \"url\" : \"http://demo.opencart.com/index.php?route=account/login\" }\n\n\n        /execute\n        { \"script\" : \"document.querySelectorAll( arguments[0] )[0].click();\", \"args\" : ['input.btn'] }\n</code></pre>\n\n<hr>\n\n<p><strong><a href=\"https://github.com/Yash-777/SeleniumSource/wiki/Grid2\" rel=\"noreferrer\">Grid</a></strong>: [ <code>- IP:Port/grid/console</code>]</p>\n\n<p><strong>HUB</strong> <em><code>Grid HUB Running as a standalone server:</code> Hub is a central point which distributing tests on several node-machines, which are registered to it for parallel execution.</em></p>\n\n<pre><code>java -jar selenium-server-standalone-2.53.0.jar -host 127.0.0.1 -port 4454 -role hub -log \"D:\\\\HUB_Log.txt\"\n</code></pre>\n\n<p><strong>NODE</strong> <em>[RC] has to post a request to HUB in order to register with it, by this URL - <code>IP:Port//grid/register</code>.</em> </p>\n\n<pre><code>java -jar selenium-server-standalone-2.53.0.jar -host 127.0.0.1 -port 4458 -role node \n-hub http://127.0.0.1:4454/grid/register -hubHost 127.0.0.1 -hubPort 4454 \n-browser browserName=firefox,version=24.0, maxinstance=1,platform=WINDOWS7 \n-browser  browserName=chrome,version=53.0,platform=WINDOWS \n-Dwebdriver.chrome.driver=D:\\\\Drivers\\\\chromedrivers\\\\2.24\\\\chromedriver.exe\n</code></pre>\n\n<p><em><code>Running as a grid node:</code> browser Instance INFO: browserName=chrome, version=53.0, maxinstance=1, platform=WINDOWS Command Line parameters with <a href=\"http://docs.oracle.com/javase/6/docs/technotes/tools/windows/java.html\" rel=\"noreferrer\">System Property</a> values -Dproperty=value -D<a href=\"http://chromedriver.storage.googleapis.com/index.html\" rel=\"noreferrer\">chrome</a>=<a href=\"http://chromedriver.storage.googleapis.com/\" rel=\"noreferrer\">driverAddress</a> (If value is a string that contains spaces, you must enclose the string in double quotes)</em></p>\n\n<p>Node registration with a <strong>JSON configuration file <a href=\"https://stackoverflow.com/a/46320490/5081877\"><code>registerNode.json</code></a></strong>.</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>D:\\SeleniumJar_Source&gt;java -jar selenium-server-standalone-2.53.0.jar -role node \n-hub http://127.0.0.1:4454/grid/register \n-nodeConfig registerNode.json \n-Dwebdriver.chrome.driver=\"D:\\\\Drivers\\\\chromedrivers\\\\2.24\\\\chromedriver.exe\" \n-Dwebdriver.ie.driver=\"D:\\\\Drivers\\\\IEDrivers\\\\iedriver64\\\\IEDriverServer.exe\" \n-Dwebdriver.firefox.logfile=\"D:\\\\FirefoxInstance.txt\" \n-Dwebdriver.chrome.logfile=\"D:\\\\ChromeInstance.txt\" \n-Dwebdriver.ie.logfile=\"D:\\\\IEInstance.txt\"\n</code></pre>\n\n\n\n<hr>\n\n<p><strong>WebDriver</strong> doesn't require any server start before start execution. You can see that <a href=\"https://github.com/Yash-777/SeleniumSource/wiki/Getting-Started\" rel=\"noreferrer\">WebDriver</a> acts just as a normal Java library does: it's entirely self-contained, and you don't need to remember to start any additional processes or run any installers before using it.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>WebDriver driver = new FirefoxDriver();\n</code></pre>\n\n<hr>\n\n<p><a href=\"https://i.stack.imgur.com/pzMqc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pzMqc.png\" alt=\"Selenium Server\"></a></p>\n\n<p>@see</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/46320490/5081877\">Selenium using Java: Start Hub Server and register Nodes with Hub</a></li>\n<li><a href=\"https://github.com/Yash-777/SeleniumDriverAutomation/wiki/Selenium\" rel=\"noreferrer\">GitHub Wiki</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2063259,"reputation":12403,"user_id":1839360,"display_name":"Yan Khonski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1497451763,"creation_date":1497451763,"answer_id":44548096,"question_id":28853634,"body_markdown":"I would like to add more webdrivers to @Saifur answer.\r\nhttps://stackoverflow.com/a/28854250/4587961\r\n\r\n    java   -Dwebdriver.ie.driver=./IEDriverServer32.exe -Dwebdriver.chrome.driver=./chromedriver.exe -jar selenium.jar -port 4545\r\n\r\nNote, for IE you run 32 bit version of the driver. And it works. I created a bat file and put it inside of the selenium folder where I also put drivers.","title":"how to run a selenium-server-standalone?","body":"<p>I would like to add more webdrivers to @Saifur answer.\n<a href=\"https://stackoverflow.com/a/28854250/4587961\">https://stackoverflow.com/a/28854250/4587961</a></p>\n\n<pre><code>java   -Dwebdriver.ie.driver=./IEDriverServer32.exe -Dwebdriver.chrome.driver=./chromedriver.exe -jar selenium.jar -port 4545\n</code></pre>\n\n<p>Note, for IE you run 32 bit version of the driver. And it works. I created a bat file and put it inside of the selenium folder where I also put drivers.</p>\n"},{"tags":[],"owner":{"account_id":18763754,"reputation":1,"user_id":13682114,"display_name":"prabhatshukla108"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592845205,"creation_date":1592237965,"answer_id":62392541,"question_id":28853634,"body_markdown":"One should first specify the driver part then the selenium jar :\r\n\r\njava -Dwebdriver.chrome.driver=./chromedriver -jar selenium-server-standalone-3.141.59.jar\r\n\r\nThis worked for Ubuntu 18.04","title":"how to run a selenium-server-standalone?","body":"<p>One should first specify the driver part then the selenium jar :</p>\n<p>java -Dwebdriver.chrome.driver=./chromedriver -jar selenium-server-standalone-3.141.59.jar</p>\n<p>This worked for Ubuntu 18.04</p>\n"},{"tags":[],"owner":{"account_id":2583080,"reputation":956,"user_id":2239334,"display_name":"Wolfgang Blessen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668502263,"creation_date":1668502263,"answer_id":74442837,"question_id":28853634,"body_markdown":"If you are using Selenium &gt;= 4.6 use\r\n\r\n    java -jar selenium-server-&lt;version&gt;.jar standalone\r\n\r\nSee this page for further instructions\r\n\r\nhttps://www.selenium.dev/documentation/grid/getting_started/","title":"how to run a selenium-server-standalone?","body":"<p>If you are using Selenium &gt;= 4.6 use</p>\n<pre><code>java -jar selenium-server-&lt;version&gt;.jar standalone\n</code></pre>\n<p>See this page for further instructions</p>\n<p><a href=\"https://www.selenium.dev/documentation/grid/getting_started/\" rel=\"nofollow noreferrer\">https://www.selenium.dev/documentation/grid/getting_started/</a></p>\n"}],"owner":{"account_id":119440,"reputation":35402,"user_id":311130,"accept_rate":75,"display_name":"Elad Benda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117455,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":28854250,"answer_count":6,"score":27,"last_activity_date":1668502263,"creation_date":1425469552,"question_id":28853634,"body_markdown":"I&#39;m trying to run selenium server, and get errors:\r\n\r\n    rond-macpro:selenium eladb$  java -Dwebdriver.chrome.driver=./chromedriver -r selenium-server-standalone-2.44.0.jar\r\n    Unrecognized option: -r\r\n    Error: Could not create the Java Virtual Machine.\r\n    Error: A fatal exception has occurred. Program will exit.\r\n\r\nand  without -r (what is it anyway?)\r\n\r\n    rond-macpro:selenium eladb$  java -Dwebdriver.chrome.driver=./chromedriver  selenium-server-standalone-2.44.0.jar\r\n    Error: Could not find or load main class selenium-server-standalone-2.44.0.jar\r\n\r\n\r\nhow should I start the server?\r\n\r\nhow do I set a non-default port to listen to? \r\n\r\nThese two posts: [1][1] [2][2] - contradicts regarding the syntax. I think.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5883450/selenium-invalid-already-running-error-when-starting-server\r\n  [2]: https://deors.wordpress.com/2012/02/02/selenium-webdriver-grid-1/","title":"how to run a selenium-server-standalone?","body":"<p>I'm trying to run selenium server, and get errors:</p>\n\n<pre><code>rond-macpro:selenium eladb$  java -Dwebdriver.chrome.driver=./chromedriver -r selenium-server-standalone-2.44.0.jar\nUnrecognized option: -r\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n\n<p>and  without -r (what is it anyway?)</p>\n\n<pre><code>rond-macpro:selenium eladb$  java -Dwebdriver.chrome.driver=./chromedriver  selenium-server-standalone-2.44.0.jar\nError: Could not find or load main class selenium-server-standalone-2.44.0.jar\n</code></pre>\n\n<p>how should I start the server?</p>\n\n<p>how do I set a non-default port to listen to? </p>\n\n<p>These two posts: <a href=\"https://stackoverflow.com/questions/5883450/selenium-invalid-already-running-error-when-starting-server\">1</a> <a href=\"https://deors.wordpress.com/2012/02/02/selenium-webdriver-grid-1/\" rel=\"noreferrer\">2</a> - contradicts regarding the syntax. I think.</p>\n"},{"tags":["java","spring","spring-boot","rest","jpa"],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668447541,"creation_date":1668446889,"answer_id":74435619,"question_id":74435563,"body_markdown":"You need to define association mapping for the `Aircraft` attribute of the `Flight` entity. Probably `ManyToOne` as you did for the `Operator` attribute of the `Aircraft` entity.","title":"Springboot JPA query builder Cannot join to attribute of basic type","body":"<p>You need to define association mapping for the <code>Aircraft</code> attribute of the <code>Flight</code> entity. Probably <code>ManyToOne</code> as you did for the <code>Operator</code> attribute of the <code>Aircraft</code> entity.</p>\n"}],"owner":{"account_id":23923493,"reputation":77,"user_id":17918927,"display_name":"GoingAround"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668501595,"creation_date":1668446586,"question_id":74435563,"body_markdown":"I am trying to get the latest `Flight` on a specific airport of an `Aircraft` with Spring JPA query builder. The `Aircraft` data is managed in a different application.\r\n```java\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(schema = &quot;schema1&quot;)\r\npublic class Flight implements Serializable {\r\n    @Id\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;flight_sequence&quot;\r\n    )\r\n    @SequenceGenerator(\r\n            name = &quot;flight_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @Column(nullable = false, updatable = false)\r\n    private Long id;\r\n\r\n    private Aircraft aircraft;\r\n    private Date date;\r\n    private String origin;\r\n    private String destination;\r\n}\r\n```\r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(schema = &quot;schema2&quot;)\r\npublic class Aircraft implements Serializable {\r\n    @Id\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;aircraft_sequence&quot;\r\n    )\r\n    @SequenceGenerator(\r\n            name = &quot;aircraft_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @Column(nullable = false, updatable = false)\r\n    private Long id;\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name=&quot;operator_id&quot;, nullable=false)\r\n    private Operator operator;\r\n    private String registration;\r\n    private String acType;\r\n    private Date createdAt;\r\n    private Date updatedAt;\r\n}\r\n```\r\n\r\n```java\r\npublic interface FlightRepository extends JpaRepository&lt;Flight, Long&gt; {\r\n    Flight findFirstByDestinationAndAircraftRegistrationOrderByDateDesc(String destination, String registration);\r\n}\r\n```\r\n\r\nBut it throws this exception:\r\n`org.hibernate.query.criteria.internal.BasicPathUsageException: Cannot join to attribute of basic type`","title":"Springboot JPA query builder Cannot join to attribute of basic type","body":"<p>I am trying to get the latest <code>Flight</code> on a specific airport of an <code>Aircraft</code> with Spring JPA query builder. The <code>Aircraft</code> data is managed in a different application.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(schema = &quot;schema1&quot;)\npublic class Flight implements Serializable {\n    @Id\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;flight_sequence&quot;\n    )\n    @SequenceGenerator(\n            name = &quot;flight_sequence&quot;,\n            allocationSize = 1\n    )\n    @Column(nullable = false, updatable = false)\n    private Long id;\n\n    private Aircraft aircraft;\n    private Date date;\n    private String origin;\n    private String destination;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(schema = &quot;schema2&quot;)\npublic class Aircraft implements Serializable {\n    @Id\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;aircraft_sequence&quot;\n    )\n    @SequenceGenerator(\n            name = &quot;aircraft_sequence&quot;,\n            allocationSize = 1\n    )\n    @Column(nullable = false, updatable = false)\n    private Long id;\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name=&quot;operator_id&quot;, nullable=false)\n    private Operator operator;\n    private String registration;\n    private String acType;\n    private Date createdAt;\n    private Date updatedAt;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public interface FlightRepository extends JpaRepository&lt;Flight, Long&gt; {\n    Flight findFirstByDestinationAndAircraftRegistrationOrderByDateDesc(String destination, String registration);\n}\n</code></pre>\n<p>But it throws this exception:\n<code>org.hibernate.query.criteria.internal.BasicPathUsageException: Cannot join to attribute of basic type</code></p>\n"},{"tags":["java","plugins","rundeck"],"comments":[{"owner":{"account_id":14433269,"reputation":3831,"user_id":10426011,"display_name":"MegaDrive68k"},"score":0,"creation_date":1668173267,"post_id":74402946,"comment_id":131347639,"body_markdown":"Hi, could you elaborate? What are you trying to do? Could you post your code or example to understand the problem and your goal?","body":"Hi, could you elaborate? What are you trying to do? Could you post your code or example to understand the problem and your goal?"},{"owner":{"account_id":199946,"reputation":2432,"user_id":445548,"accept_rate":64,"display_name":"Shatazone"},"score":0,"creation_date":1668178219,"post_id":74402946,"comment_id":131349617,"body_markdown":"sure, my bad, please check my updated description","body":"sure, my bad, please check my updated description"},{"owner":{"account_id":14433269,"reputation":3831,"user_id":10426011,"display_name":"MegaDrive68k"},"score":0,"creation_date":1668181017,"post_id":74402946,"comment_id":131350580,"body_markdown":"Not sure about your goal, but that&#39;s already possible using data passing, take a look at this: https://docs.rundeck.com/docs/learning/howto/passing-variables.html#passing-data-between-steps (even between jobs). Hope it helps!","body":"Not sure about your goal, but that&#39;s already possible using data passing, take a look at this: <a href=\"https://docs.rundeck.com/docs/learning/howto/passing-variables.html#passing-data-between-steps\" rel=\"nofollow noreferrer\">docs.rundeck.com/docs/learning/howto/&hellip;</a> (even between jobs). Hope it helps!"},{"owner":{"account_id":199946,"reputation":2432,"user_id":445548,"accept_rate":64,"display_name":"Shatazone"},"score":0,"creation_date":1668187959,"post_id":74402946,"comment_id":131352983,"body_markdown":"It might work, but it is far from ideal to the problem Im trying to solve.","body":"It might work, but it is far from ideal to the problem Im trying to solve."}],"answers":[{"tags":[],"owner":{"account_id":199946,"reputation":2432,"user_id":445548,"accept_rate":64,"display_name":"Shatazone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668500967,"creation_date":1668500967,"answer_id":74442580,"question_id":74402946,"body_markdown":"This turned out to be possible by placing the values in:\r\n\r\n    context.getExecutionContext().getPrivateDataContext()","title":"How to pass data from a step to another programmatically in Rundeck?","body":"<p>This turned out to be possible by placing the values in:</p>\n<pre><code>context.getExecutionContext().getPrivateDataContext()\n</code></pre>\n"}],"owner":{"account_id":199946,"reputation":2432,"user_id":445548,"accept_rate":64,"display_name":"Shatazone"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74442580,"answer_count":1,"score":0,"last_activity_date":1668500967,"creation_date":1668171972,"question_id":74402946,"body_markdown":"Is it possible to pass data in Java Rundeck plugin, from a custom step to another?\r\n\r\nTo simplify my case, I have two NodeStepPlugins.\r\n\r\n&gt; 1. class GeneratorPlugin implements NodeStepPlugin{...}\r\n&gt; 2. class ConsumerPlugin implements NodeStepPlugin{...}\r\n\r\nGeneratorPlugin generates a certain amount of variables.\r\nConsumerPlugin needs to access those variables to do further actions.\r\n\r\nI was thinking of a way of passing those variables though datacontext, shared context, etc but it seems that any value I add, is not propagated to the ConsumerPlugin.\r\n\r\n    context.getExecutionContext().getSharedDataContext()\r\n\r\nI appreciate any ideas that can solve my problem.","title":"How to pass data from a step to another programmatically in Rundeck?","body":"<p>Is it possible to pass data in Java Rundeck plugin, from a custom step to another?</p>\n<p>To simplify my case, I have two NodeStepPlugins.</p>\n<blockquote>\n<ol>\n<li>class GeneratorPlugin implements NodeStepPlugin{...}</li>\n<li>class ConsumerPlugin implements NodeStepPlugin{...}</li>\n</ol>\n</blockquote>\n<p>GeneratorPlugin generates a certain amount of variables.\nConsumerPlugin needs to access those variables to do further actions.</p>\n<p>I was thinking of a way of passing those variables though datacontext, shared context, etc but it seems that any value I add, is not propagated to the ConsumerPlugin.</p>\n<pre><code>context.getExecutionContext().getSharedDataContext()\n</code></pre>\n<p>I appreciate any ideas that can solve my problem.</p>\n"},{"tags":["java","spring","spring-data","ldap","spring-data-ldap"],"comments":[{"owner":{"account_id":2979716,"reputation":12923,"user_id":2529954,"display_name":"EricLavault"},"score":0,"creation_date":1668453184,"post_id":74430919,"comment_id":131403833,"body_markdown":"From what I see on spring-ldap repository, yes it implements the ldap ConverterManager interface only to _not_ take account of the syntax and use the GenericConversionService... Unless we both missed something, it is worth opening an issue.","body":"From what I see on spring-ldap repository, yes it implements the ldap ConverterManager interface only to <i>not</i> take account of the syntax and use the GenericConversionService... Unless we both missed something, it is worth opening an issue."}],"answers":[{"tags":[],"owner":{"account_id":3578561,"reputation":2945,"user_id":2987273,"display_name":"Alexander"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668500930,"creation_date":1668500930,"answer_id":74442573,"question_id":74430919,"body_markdown":"I managed to get this thing going by wiring my own `ConversionService` / `ConversionServiceConverterManager` into the LdapTemplate like this:\r\n\r\n```\r\n  @Bean\r\n  public DefaultConversionService myObjectDirectoryMapper(LdapTemplate ldapTemplate) {\r\n    DefaultObjectDirectoryMapper objectDirectoryMapper = (DefaultObjectDirectoryMapper) ldapTemplate.getObjectDirectoryMapper();\r\n    DefaultConversionService conversionService = new DefaultConversionService();\r\n\r\n// own implementations\r\n    conversionService.addConverter(new BooleanToStringConverter());\r\n    conversionService.addConverter(new StringToBooleanConverter());\r\n\r\n// implementations from https://mvnrepository.com/artifact/org.ldaptive/ldaptive-beans/2.1.1\r\n    conversionService.addConverter(new StringToZonedDateTimeConverter());\r\n    conversionService.addConverter(new ZonedDateTimeToStringConverter());\r\n\r\n    ConversionServiceConverterManager converterManager = new ConversionServiceConverterManager(conversionService);\r\n    objectDirectoryMapper.setConverterManager(converterManager);\r\n\r\n    return conversionService;\r\n  }\r\n```\r\n\r\nwith my converter classes\r\n```\r\nclass BooleanToStringConverter\r\n  implements org.springframework.core.convert.converter.Converter&lt;Boolean, String&gt; {\r\n\r\n  @Override\r\n  public String convert(Boolean source) {\r\n    return source.toString().toUpperCase();\r\n  }\r\n\r\n}\r\n```\r\nand\r\n```\r\nclass StringToBooleanConverter\r\n  implements org.springframework.core.convert.converter.Converter&lt;String, Boolean&gt; {\r\n\r\n  @Override\r\n  public Boolean convert(String source) {\r\n    return Boolean.parseBoolean(source.toLowerCase());\r\n  }\r\n\r\n}\r\n```","title":"LDAP: error code 21 - XXXActive: value #0 invalid per syntax - spring-data-ldap","body":"<p>I managed to get this thing going by wiring my own <code>ConversionService</code> / <code>ConversionServiceConverterManager</code> into the LdapTemplate like this:</p>\n<pre><code>  @Bean\n  public DefaultConversionService myObjectDirectoryMapper(LdapTemplate ldapTemplate) {\n    DefaultObjectDirectoryMapper objectDirectoryMapper = (DefaultObjectDirectoryMapper) ldapTemplate.getObjectDirectoryMapper();\n    DefaultConversionService conversionService = new DefaultConversionService();\n\n// own implementations\n    conversionService.addConverter(new BooleanToStringConverter());\n    conversionService.addConverter(new StringToBooleanConverter());\n\n// implementations from https://mvnrepository.com/artifact/org.ldaptive/ldaptive-beans/2.1.1\n    conversionService.addConverter(new StringToZonedDateTimeConverter());\n    conversionService.addConverter(new ZonedDateTimeToStringConverter());\n\n    ConversionServiceConverterManager converterManager = new ConversionServiceConverterManager(conversionService);\n    objectDirectoryMapper.setConverterManager(converterManager);\n\n    return conversionService;\n  }\n</code></pre>\n<p>with my converter classes</p>\n<pre><code>class BooleanToStringConverter\n  implements org.springframework.core.convert.converter.Converter&lt;Boolean, String&gt; {\n\n  @Override\n  public String convert(Boolean source) {\n    return source.toString().toUpperCase();\n  }\n\n}\n</code></pre>\n<p>and</p>\n<pre><code>class StringToBooleanConverter\n  implements org.springframework.core.convert.converter.Converter&lt;String, Boolean&gt; {\n\n  @Override\n  public Boolean convert(String source) {\n    return Boolean.parseBoolean(source.toLowerCase());\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3578561,"reputation":2945,"user_id":2987273,"display_name":"Alexander"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74442573,"answer_count":1,"score":1,"last_activity_date":1668500930,"creation_date":1668425313,"question_id":74430919,"body_markdown":"I&#39;m using spring-data-ldap with OOM and my own schema containing a boolean property.  When I try to store a value in or read a value from openLDAP, I get the exception\r\n\r\n&gt; javax.naming.directory.InvalidAttributeValueException: [LDAP: error code 21 - XXXActive: value #0 invalid per syntax]\r\n\r\nhere&#39;s my schema (the actual customer prefix has been replaced with &quot;XXX&quot;):\r\n\r\n```\r\ndn: cn=XXX,cn=schema,cn=config\r\nobjectClass: olcSchemaConfig\r\ncn: XXX\r\nolcAttributeTypes: ( 1.3.6.1.4.1.42691910.1.1.1.1 NAME &#39;XXXActive&#39;\r\n                    DESC &#39;whether the subscriber has been activated (default false, after self-registration)&#39;\r\n                    EQUALITY booleanMatch\r\n                    SYNTAX 1.3.6.1.4.1.1466.115.121.1.7\r\n                    SINGLE-VALUE )\r\nolcAttributeTypes: ( 1.3.6.1.4.1.42691910.1.1.1.2 NAME &#39;XXXLocale&#39;\r\n                   \tDESC &#39;the locale in which he wants to receive emails&#39;\r\n                   \tEQUALITY caseExactMatch\r\n                   \tSYNTAX 1.3.6.1.4.1.1466.115.121.1.15 )\r\nolcAttributeTypes: ( 1.3.6.1.4.1.42691910.1.1.1.7 NAME &#39;XXXQueryFreshnessDate&#39;\r\n                   \tDESC &#39;freshness date ...&#39;\r\n                   \tEQUALITY generalizedTimeMatch\r\n                   \tSYNTAX 1.3.6.1.4.1.1466.115.121.1.24\r\n                   \tSINGLE-VALUE )\r\nolcObjectClasses: ( 1.3.6.1.4.1.42691910.1.1.2.1 NAME &#39;XXXSubscriber&#39;\r\n                  \tDESC &#39;a subscriber for ...&#39;\r\n                  \tSUP top\r\n                  \tSTRUCTURAL\r\n                  \tMUST ( uid $ userPassword )\r\n                  \tMAY ( XXXActive $ XXXLocale $ XXXQueryFreshnessDate $ telephoneNumber ) )\r\n```\r\n\r\nhere&#39;s my entity class:\r\n\r\n```\r\nimport lombok.*;\r\nimport org.springframework.ldap.odm.annotations.*;\r\n\r\nimport javax.naming.Name;\r\nimport java.io.Serializable;\r\nimport java.util.Date;\r\n\r\n\r\n@Getter\r\n@Setter\r\n@Entry(objectClasses = {&quot;XXXSubscriber&quot;, &quot;top&quot;})\r\n@EqualsAndHashCode\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic final class XXXSubscriber implements Serializable {\r\n\r\n  @Id\r\n  private Name dn;\r\n\r\n  @Attribute(name = &quot;uid&quot;)\r\n  @DnAttribute(value = &quot;uid&quot;, index = 3)\r\n  private String email;\r\n\r\n  @Transient\r\n  @DnAttribute(value = &quot;dc&quot;, index = 0)\r\n  private String env;\r\n\r\n  @Transient\r\n  @DnAttribute(value = &quot;dc&quot;, index = 1)\r\n  private String application;\r\n\r\n  @Transient\r\n  @DnAttribute(value = &quot;ou&quot;, index = 2)\r\n  private String orga;\r\n\r\n  @Attribute(name = &quot;telephoneNumber&quot;)\r\n  private String phone;\r\n\r\n  @Attribute(name = &quot;XXXActive&quot;, syntax=&quot;1.3.6.1.4.1.1466.115.121.1.7&quot;) //TODO throws an error due to invalid syntax false/FALSE\r\n  private boolean active;\r\n\r\n  @Attribute(name = &quot;XXXQueryFreshnessDate&quot;, syntax = &quot;1.3.6.1.4.1.1466.115.121.1.24&quot;) //TODO doesn&#39;t work either\r\n  private Date queryFreshnessDate;\r\n\r\n  @Attribute(name = &quot;XXXLocale&quot;)\r\n  private String locale;\r\n\r\n  @Attribute(name = &quot;userPassword&quot;, type = Attribute.Type.BINARY)\r\n  private byte[] password;\r\n}\r\n```\r\n\r\nAnd the according Repo class (which is registered via `@org.springframework.data.ldap.repository.config.EnableLdapRepositories()`):\r\n\r\n```\r\nimport org.springframework.data.ldap.repository.LdapRepository;\r\n\r\npublic interface XXXSubscriberRepo extends LdapRepository&lt;XXXSubscriber&gt; {\r\n\r\n  XXXSubscriber findOneByEmail(String email);\r\n\r\n  XXXSubscriber findOneByEmailAndActive(String email, boolean active);\r\n\r\n}\r\n``` \r\n\r\nAnd here&#39;s an example entry from an ldif:\r\n```\r\ndn: uid=somebody@example.org,ou=subscribers,dc=applications,dc=test,dc=example,dc=org\r\nobjectclass: top\r\nobjectclass: XXXSubscriber\r\nuid: somebody@example.org\r\ntelephoneNumber: 004940123456789\r\nXXXActive: TRUE\r\nXXXLocale: en\r\nuserPassword: {SCRYPT}$e0801$9KXJwk7Q0kFzj07LWKef4TgGmPll0sr1hWxL6kMAQzuluW/87EyaQ4lLkWHNdUInF1GMkm7DAefsa+wUOlMGJg==$3aCwqyWYcS70p6Ib1k/Wh7gKsyZwYq/D3ynZpUUvIfM=\r\nXXXQueryFreshnessDate: 20221108164632.123Z\r\n```\r\n\r\nIs there a possibility, to use the `org.springframework.data.ldap.repository.LdapRepository`, but register the correct converter for this class, so it can handle the boolean values properly?  Per default the boolean values are converted to &quot;true&quot; / &quot;false&quot;, but LDAP seems to expect &quot;TRUE&quot;/&quot;FALSE&quot; (`MATCH booleanMatch SYNTAX 1.3.6.1.4.1.1466.115.121.1.7`).\r\n\r\n_btw_ I&#39;m pretty sure that the Date `XXXQueryFreshnessDate` (`MATCH generalizedTimeMatch SYNTAX 1.3.6.1.4.1.1466.115.121.1.24`) will need to be converted accordingly.\r\n\r\nThe only examples I found in the internet were either with custom Repositories (not an `LdapRepository` interface with `@EnableLdapRepositories`) and Converters.\r\n\r\nIs it possible? How?\r\n\r\nBest regards,  \r\nAlexander.\r\n\r\n**Update**\r\nI&#39;ve debugged into it - when debugging I stepped across `org.springframework.ldap.odm.core.impl.DefaultObjectDirectoryMapper#populateSingleValueAttribute` - which calls `org.springframework.ldap.odm.typeconversion.impl.ConversionServiceConverterManager#convert(Object source, String syntax, Class&lt;T&gt; toClass)` with \r\n* `source`: _false_\r\n* `syntax`: &quot;1.3.6.1.4.1.1466.115.121.1.7&quot;\r\n* `toClass`: `java.lang.String`\r\n\r\n(!) it&#39;s trying to convert the given Boolean to a String. \r\n\r\n(!) It&#39;s completely ignoring the syntax:\r\n\r\n```\r\n    @Override\r\n    public &lt;T&gt; T convert(Object source, String syntax, Class&lt;T&gt; toClass) {\r\n        return conversionService.convert(source, toClass);\r\n    }\r\n```\r\n\r\n(i) `conversionService` is of type `org.springframework.core.convert.support.DefaultConversionService`.","title":"LDAP: error code 21 - XXXActive: value #0 invalid per syntax - spring-data-ldap","body":"<p>I'm using spring-data-ldap with OOM and my own schema containing a boolean property.  When I try to store a value in or read a value from openLDAP, I get the exception</p>\n<blockquote>\n<p>javax.naming.directory.InvalidAttributeValueException: [LDAP: error code 21 - XXXActive: value #0 invalid per syntax]</p>\n</blockquote>\n<p>here's my schema (the actual customer prefix has been replaced with &quot;XXX&quot;):</p>\n<pre><code>dn: cn=XXX,cn=schema,cn=config\nobjectClass: olcSchemaConfig\ncn: XXX\nolcAttributeTypes: ( 1.3.6.1.4.1.42691910.1.1.1.1 NAME 'XXXActive'\n                    DESC 'whether the subscriber has been activated (default false, after self-registration)'\n                    EQUALITY booleanMatch\n                    SYNTAX 1.3.6.1.4.1.1466.115.121.1.7\n                    SINGLE-VALUE )\nolcAttributeTypes: ( 1.3.6.1.4.1.42691910.1.1.1.2 NAME 'XXXLocale'\n                    DESC 'the locale in which he wants to receive emails'\n                    EQUALITY caseExactMatch\n                    SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 )\nolcAttributeTypes: ( 1.3.6.1.4.1.42691910.1.1.1.7 NAME 'XXXQueryFreshnessDate'\n                    DESC 'freshness date ...'\n                    EQUALITY generalizedTimeMatch\n                    SYNTAX 1.3.6.1.4.1.1466.115.121.1.24\n                    SINGLE-VALUE )\nolcObjectClasses: ( 1.3.6.1.4.1.42691910.1.1.2.1 NAME 'XXXSubscriber'\n                    DESC 'a subscriber for ...'\n                    SUP top\n                    STRUCTURAL\n                    MUST ( uid $ userPassword )\n                    MAY ( XXXActive $ XXXLocale $ XXXQueryFreshnessDate $ telephoneNumber ) )\n</code></pre>\n<p>here's my entity class:</p>\n<pre><code>import lombok.*;\nimport org.springframework.ldap.odm.annotations.*;\n\nimport javax.naming.Name;\nimport java.io.Serializable;\nimport java.util.Date;\n\n\n@Getter\n@Setter\n@Entry(objectClasses = {&quot;XXXSubscriber&quot;, &quot;top&quot;})\n@EqualsAndHashCode\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic final class XXXSubscriber implements Serializable {\n\n  @Id\n  private Name dn;\n\n  @Attribute(name = &quot;uid&quot;)\n  @DnAttribute(value = &quot;uid&quot;, index = 3)\n  private String email;\n\n  @Transient\n  @DnAttribute(value = &quot;dc&quot;, index = 0)\n  private String env;\n\n  @Transient\n  @DnAttribute(value = &quot;dc&quot;, index = 1)\n  private String application;\n\n  @Transient\n  @DnAttribute(value = &quot;ou&quot;, index = 2)\n  private String orga;\n\n  @Attribute(name = &quot;telephoneNumber&quot;)\n  private String phone;\n\n  @Attribute(name = &quot;XXXActive&quot;, syntax=&quot;1.3.6.1.4.1.1466.115.121.1.7&quot;) //TODO throws an error due to invalid syntax false/FALSE\n  private boolean active;\n\n  @Attribute(name = &quot;XXXQueryFreshnessDate&quot;, syntax = &quot;1.3.6.1.4.1.1466.115.121.1.24&quot;) //TODO doesn't work either\n  private Date queryFreshnessDate;\n\n  @Attribute(name = &quot;XXXLocale&quot;)\n  private String locale;\n\n  @Attribute(name = &quot;userPassword&quot;, type = Attribute.Type.BINARY)\n  private byte[] password;\n}\n</code></pre>\n<p>And the according Repo class (which is registered via <code>@org.springframework.data.ldap.repository.config.EnableLdapRepositories()</code>):</p>\n<pre><code>import org.springframework.data.ldap.repository.LdapRepository;\n\npublic interface XXXSubscriberRepo extends LdapRepository&lt;XXXSubscriber&gt; {\n\n  XXXSubscriber findOneByEmail(String email);\n\n  XXXSubscriber findOneByEmailAndActive(String email, boolean active);\n\n}\n</code></pre>\n<p>And here's an example entry from an ldif:</p>\n<pre><code>dn: uid=somebody@example.org,ou=subscribers,dc=applications,dc=test,dc=example,dc=org\nobjectclass: top\nobjectclass: XXXSubscriber\nuid: somebody@example.org\ntelephoneNumber: 004940123456789\nXXXActive: TRUE\nXXXLocale: en\nuserPassword: {SCRYPT}$e0801$9KXJwk7Q0kFzj07LWKef4TgGmPll0sr1hWxL6kMAQzuluW/87EyaQ4lLkWHNdUInF1GMkm7DAefsa+wUOlMGJg==$3aCwqyWYcS70p6Ib1k/Wh7gKsyZwYq/D3ynZpUUvIfM=\nXXXQueryFreshnessDate: 20221108164632.123Z\n</code></pre>\n<p>Is there a possibility, to use the <code>org.springframework.data.ldap.repository.LdapRepository</code>, but register the correct converter for this class, so it can handle the boolean values properly?  Per default the boolean values are converted to &quot;true&quot; / &quot;false&quot;, but LDAP seems to expect &quot;TRUE&quot;/&quot;FALSE&quot; (<code>MATCH booleanMatch SYNTAX 1.3.6.1.4.1.1466.115.121.1.7</code>).</p>\n<p><em>btw</em> I'm pretty sure that the Date <code>XXXQueryFreshnessDate</code> (<code>MATCH generalizedTimeMatch SYNTAX 1.3.6.1.4.1.1466.115.121.1.24</code>) will need to be converted accordingly.</p>\n<p>The only examples I found in the internet were either with custom Repositories (not an <code>LdapRepository</code> interface with <code>@EnableLdapRepositories</code>) and Converters.</p>\n<p>Is it possible? How?</p>\n<p>Best regards,<br />\nAlexander.</p>\n<p><strong>Update</strong>\nI've debugged into it - when debugging I stepped across <code>org.springframework.ldap.odm.core.impl.DefaultObjectDirectoryMapper#populateSingleValueAttribute</code> - which calls <code>org.springframework.ldap.odm.typeconversion.impl.ConversionServiceConverterManager#convert(Object source, String syntax, Class&lt;T&gt; toClass)</code> with</p>\n<ul>\n<li><code>source</code>: <em>false</em></li>\n<li><code>syntax</code>: &quot;1.3.6.1.4.1.1466.115.121.1.7&quot;</li>\n<li><code>toClass</code>: <code>java.lang.String</code></li>\n</ul>\n<p>(!) it's trying to convert the given Boolean to a String.</p>\n<p>(!) It's completely ignoring the syntax:</p>\n<pre><code>    @Override\n    public &lt;T&gt; T convert(Object source, String syntax, Class&lt;T&gt; toClass) {\n        return conversionService.convert(source, toClass);\n    }\n</code></pre>\n<p>(i) <code>conversionService</code> is of type <code>org.springframework.core.convert.support.DefaultConversionService</code>.</p>\n"},{"tags":["java","junit","gwt","gwttestcase"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1668501592,"post_id":74442530,"comment_id":131414168,"body_markdown":"It doen&#39;t look as though you call `gwtSetUp()`","body":"It doen&#39;t look as though you call <code>gwtSetUp()</code>"},{"owner":{"account_id":9986107,"reputation":27,"user_id":7387235,"display_name":"Mr Alsi"},"score":0,"creation_date":1668524044,"post_id":74442530,"comment_id":131422873,"body_markdown":"where should call?","body":"where should call?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1668549130,"post_id":74442530,"comment_id":131431727,"body_markdown":"You could make `service` a local variable in `getNumeroStudenti` and call `gwtSetUp()` in `getNumeroStudenti`. Or if you have other tests which require the same service, you could annotate `gwtSetUp()` with `@BeforeEach`.","body":"You could make <code>service</code> a local variable in <code>getNumeroStudenti</code> and call <code>gwtSetUp()</code> in <code>getNumeroStudenti</code>. Or if you have other tests which require the same service, you could annotate <code>gwtSetUp()</code> with <code>@BeforeEach</code>."},{"owner":{"account_id":9986107,"reputation":27,"user_id":7387235,"display_name":"Mr Alsi"},"score":0,"creation_date":1669024966,"post_id":74442530,"comment_id":131540590,"body_markdown":"@tgdavies if I do it, give me an error: `java.lang.UnsupportedOperationException: ERROR: GWT.create() is only usable in client code!  It cannot be called, for example, from server code.  If you are running a unit test, check that your test case extends GWTTestCase and that GWT.create() is not called from within an initializer or constructor.`","body":"@tgdavies if I do it, give me an error: <code>java.lang.UnsupportedOperationException: ERROR: GWT.create() is only usable in client code!  It cannot be called, for example, from server code.  If you are running a unit test, check that your test case extends GWTTestCase and that GWT.create() is not called from within an initializer or constructor.</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1669028399,"post_id":74442530,"comment_id":131541720,"body_markdown":"That error message explains the solution.","body":"That error message explains the solution."}],"owner":{"account_id":9986107,"reputation":27,"user_id":7387235,"display_name":"Mr Alsi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":588,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668500717,"creation_date":1668500717,"question_id":74442530,"body_markdown":"I&#39;ve a problem with GWT unit test, this is the code\r\n``` class StudenteServiceTest extends GWTTestCase{\r\n    StudenteServiceAsync service;\r\n\r\n    public void gwtSetUp(){\r\n        // Create the service that we will test.\r\n        service = GWT.create(StudenteService.class);\r\n        ServiceDefTarget target = (ServiceDefTarget) service;\r\n        target.setServiceEntryPoint(GWT.getModuleBaseURL() + &quot;progettosweng/studenti&quot;);\r\n    }\r\n\r\n    @Override\r\n    public String getModuleName() {\r\n        return &quot;com.university&quot;;\r\n    }\r\n\r\n    @Test\r\n    public synchronized void getNumeroStudenti() throws Exception {\r\n        delayTestFinish(10000);\r\n        service.getNumeroStudenti(new AsyncCallback&lt;Integer&gt;() {\r\n            @Override\r\n            public void onFailure(Throwable caught) {\r\n                fail(&quot;FAIL: getNumeroStudenti&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onSuccess(Integer result) {\r\n                assertTrue(true);\r\n            }\r\n        });\r\n    }\r\n} \r\n```\r\nwhen start test, it gives me an error:\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;com.university.client.services.StudenteServiceAsync.getNumeroStudenti(com.google.gwt.user.client.rpc.AsyncCallback)&quot; because &quot;this.service&quot; is null\r\n```\r\nFor me the error is never go in gwtSetUp() and the service is ever null.\r\nwhat should I do? thanks\r\n","title":"GWTTest java.lang.NullPointerException cannot invoke because &quot;this.service&quot; is null","body":"<p>I've a problem with GWT unit test, this is the code</p>\n<pre><code>    StudenteServiceAsync service;\n\n    public void gwtSetUp(){\n        // Create the service that we will test.\n        service = GWT.create(StudenteService.class);\n        ServiceDefTarget target = (ServiceDefTarget) service;\n        target.setServiceEntryPoint(GWT.getModuleBaseURL() + &quot;progettosweng/studenti&quot;);\n    }\n\n    @Override\n    public String getModuleName() {\n        return &quot;com.university&quot;;\n    }\n\n    @Test\n    public synchronized void getNumeroStudenti() throws Exception {\n        delayTestFinish(10000);\n        service.getNumeroStudenti(new AsyncCallback&lt;Integer&gt;() {\n            @Override\n            public void onFailure(Throwable caught) {\n                fail(&quot;FAIL: getNumeroStudenti&quot;);\n            }\n\n            @Override\n            public void onSuccess(Integer result) {\n                assertTrue(true);\n            }\n        });\n    }\n} \n</code></pre>\n<p>when start test, it gives me an error:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;com.university.client.services.StudenteServiceAsync.getNumeroStudenti(com.google.gwt.user.client.rpc.AsyncCallback)&quot; because &quot;this.service&quot; is null\n</code></pre>\n<p>For me the error is never go in gwtSetUp() and the service is ever null.\nwhat should I do? thanks</p>\n"},{"tags":["java","spring","spring-boot","spring-security","hsts"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1668495030,"post_id":74441368,"comment_id":131412226,"body_markdown":"Can you show the details of the vulnerability? Is your SSL/TLS certificate valid?","body":"Can you show the details of the vulnerability? Is your SSL/TLS certificate valid?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1668496682,"post_id":74441368,"comment_id":131412671,"body_markdown":"RFC6797/HSTS is a feature for improving security, not a vulnerability.","body":"RFC6797/HSTS is a feature for improving security, not a vulnerability."},{"owner":{"account_id":26036440,"reputation":1,"user_id":19741814,"display_name":"Saradhi"},"score":0,"creation_date":1668498582,"post_id":74441368,"comment_id":131413189,"body_markdown":"HSTS missing from HTTPS sever(rfc6797).","body":"HSTS missing from HTTPS sever(rfc6797)."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1668498647,"post_id":74441368,"comment_id":131413209,"body_markdown":"Are you using any reverse proxy? What tool is showing you that vulnerability? Can you show an example HTTPs request to the application which includes the sent response headers (e.g. using `curl -i`)?","body":"Are you using any reverse proxy? What tool is showing you that vulnerability? Can you show an example HTTPs request to the application which includes the sent response headers (e.g. using <code>curl -i</code>)?"},{"owner":{"account_id":26036440,"reputation":1,"user_id":19741814,"display_name":"Saradhi"},"score":0,"creation_date":1668499056,"post_id":74441368,"comment_id":131413333,"body_markdown":"HTTP/1.1 200\n&lt; Access-Control-Allow-Origin: *\n&lt; Set-Cookie: JSESSIONID=CEB0836807AF05CA294D55B093F42931; Path=/npbc; Secure; HttpOnly\n&lt; Vary: Origin\n&lt; Vary: Access-Control-Request-Method\n&lt; Vary: Access-Control-Request-Headers\n&lt; X-Content-Type-Options: nosniff\n&lt; X-XSS-Protection: 1; mode=block\n&lt; Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n&lt; Pragma: no-cache\n&lt; Expires: 0\n&lt; Strict-Transport-Security: max-age=31536000 ; includeSubDomains ; preload\n&lt; X-Frame-Options: DENY\n&lt; Content-Type: application/json\n&lt; Content-Length: 111\n&lt; Date: Tue, 15 Nov 2022 07:55:52 GMT","body":"HTTP/1.1 200 &lt; Access-Control-Allow-Origin: * &lt; Set-Cookie: JSESSIONID=CEB0836807AF05CA294D55B093F42931; Path=/npbc; Secure; HttpOnly &lt; Vary: Origin &lt; Vary: Access-Control-Request-Method &lt; Vary: Access-Control-Request-Headers &lt; X-Content-Type-Options: nosniff &lt; X-XSS-Protection: 1; mode=block &lt; Cache-Control: no-cache, no-store, max-age=0, must-revalidate &lt; Pragma: no-cache &lt; Expires: 0 &lt; Strict-Transport-Security: max-age=31536000 ; includeSubDomains ; preload &lt; X-Frame-Options: DENY &lt; Content-Type: application/json &lt; Content-Length: 111 &lt; Date: Tue, 15 Nov 2022 07:55:52 GMT"},{"owner":{"account_id":26036440,"reputation":1,"user_id":19741814,"display_name":"Saradhi"},"score":0,"creation_date":1668499403,"post_id":74441368,"comment_id":131413437,"body_markdown":"these are the response headers for curl req to https","body":"these are the response headers for curl req to https"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1668503467,"post_id":74441368,"comment_id":131414905,"body_markdown":"HSTS seems working - what makes you think you have a &quot;vulnerability&quot;? Aside from that, you might not want to use HSTS preloading until you are absolutely sure everything works...","body":"HSTS seems working - what makes you think you have a &quot;vulnerability&quot;? Aside from that, you might not want to use HSTS preloading until you are absolutely sure everything works..."},{"owner":{"account_id":26036440,"reputation":1,"user_id":19741814,"display_name":"Saradhi"},"score":0,"creation_date":1668513923,"post_id":74441368,"comment_id":131418628,"body_markdown":"Ok , did we need to set the response header for http as well? Or https is enough?","body":"Ok , did we need to set the response header for http as well? Or https is enough?"},{"owner":{"account_id":26036440,"reputation":1,"user_id":19741814,"display_name":"Saradhi"},"score":0,"creation_date":1668514254,"post_id":74441368,"comment_id":131418750,"body_markdown":"Did we need to redirect the http requests to https?","body":"Did we need to redirect the http requests to https?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1668532507,"post_id":74441368,"comment_id":131426476,"body_markdown":"HSTS is only valid for HTTP. A redirect from HTTP to HTTPs is typically recommended.","body":"HSTS is only valid for HTTP. A redirect from HTTP to HTTPs is typically recommended."}],"owner":{"account_id":26036440,"reputation":1,"user_id":19741814,"display_name":"Saradhi"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668500376,"creation_date":1668493652,"question_id":74441368,"body_markdown":"**Hi i am working on spring boot application currently RFC6797 (HSTS) security vulnerability reported in my microservice application.\r\nI have added below header in response in filter class**\r\n\r\n\r\n`response.setHeader(&quot;Strict-Transport-Security: max-age=31536000 ; includeSubDomains&quot;);\r\n`\r\nBut still the security scan reported HSTS vulnerability.\r\nNote I also tried configure hsts in spring security config as well but no luck\r\n\r\n\r\n\thttpSecurity.headers()\r\n         .httpStrictTransportSecurity()\r\n         .includeSubDomains(true)\r\n         .preload(true)\r\n         .requestMatcher(AnyRequestMatcher.INSTANCE);\r\n","title":"How to resolve RFC6797 vulnerability issue in spring boot application","body":"<p><strong>Hi i am working on spring boot application currently RFC6797 (HSTS) security vulnerability reported in my microservice application.\nI have added below header in response in filter class</strong></p>\n<p><code>response.setHeader(&quot;Strict-Transport-Security: max-age=31536000 ; includeSubDomains&quot;); </code>\nBut still the security scan reported HSTS vulnerability.\nNote I also tried configure hsts in spring security config as well but no luck</p>\n<pre><code>httpSecurity.headers()\n     .httpStrictTransportSecurity()\n     .includeSubDomains(true)\n     .preload(true)\n     .requestMatcher(AnyRequestMatcher.INSTANCE);\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1668495028,"post_id":74441487,"comment_id":131412224,"body_markdown":"In Java Swing/AWT you can set the icon at any point in time on the root level component using https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Window.html#setIconImage(java.awt.Image). I&#39;m pretty sure a similar call exists for JavaFX.","body":"In Java Swing/AWT you can set the icon at any point in time on the root level component using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Window.html#setIconImage(java.awt.Image)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java&zwnj;&#8203;/&hellip;</a>. I&#39;m pretty sure a similar call exists for JavaFX."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1668498260,"post_id":74441487,"comment_id":131413087,"body_markdown":"Instead of `stage.getIcons().add` use `stage.getIcons().setAll`.   I didn’t try it, but should work.","body":"Instead of <code>stage.getIcons().add</code> use <code>stage.getIcons().setAll</code>.   I didn’t try it, but should work."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1668499550,"post_id":74441487,"comment_id":131413495,"body_markdown":"That what `setAll` does, it replaces what was there with something new, that is, it changes it.  Try it.  See the [documentation](https://openjfx.io/javadoc/17/javafx.base/javafx/collections/ObservableList.html#setAll(E...)).","body":"That what <code>setAll</code> does, it replaces what was there with something new, that is, it changes it.  Try it.  See the <a href=\"https://openjfx.io/javadoc/17/javafx.base/javafx/collections/ObservableList.html#setAll(E...)\" rel=\"nofollow noreferrer\">documentation</a>."},{"owner":{"display_name":"user20384189"},"score":0,"creation_date":1668499914,"post_id":74441487,"comment_id":131413602,"body_markdown":"@jewelsea sorry I commented before trying I figured it out, thank you for the help, I answered the question below, and I really do appreciate it.","body":"@jewelsea sorry I commented before trying I figured it out, thank you for the help, I answered the question below, and I really do appreciate it."}],"answers":[{"tags":[],"owner":{"display_name":"user20384189"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668499876,"creation_date":1668499876,"answer_id":74442382,"question_id":74441487,"body_markdown":"So what I did was I made a collection of Images called iconsList in main adding the images with \r\n\r\n    iconsList.add(new Image(TBA.class.getResourceAsStream(&quot;Logo.png&quot;)));\r\n    iconsList.add(new Image(TBA.class.getResourceAsStream(&quot;AMFLogo.png&quot;)));\r\n\r\n then in start I did setAll and it takes index 0 as the initial\r\n\r\n    stage.getIcons().setAll(iconsList);\r\n\r\nThen on a button call, I changed it with \r\n\r\n    primStage.getIcons().set(0, App.iconsList.get(1));\r\n\r\nHope this can help someone else","title":"is it possible to change the icon after start in JavaFx","body":"<p>So what I did was I made a collection of Images called iconsList in main adding the images with</p>\n<pre><code>iconsList.add(new Image(TBA.class.getResourceAsStream(&quot;Logo.png&quot;)));\niconsList.add(new Image(TBA.class.getResourceAsStream(&quot;AMFLogo.png&quot;)));\n</code></pre>\n<p>then in start I did setAll and it takes index 0 as the initial</p>\n<pre><code>stage.getIcons().setAll(iconsList);\n</code></pre>\n<p>Then on a button call, I changed it with</p>\n<pre><code>primStage.getIcons().set(0, App.iconsList.get(1));\n</code></pre>\n<p>Hope this can help someone else</p>\n"}],"owner":{"display_name":"user20384189"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668499876,"creation_date":1668494455,"question_id":74441487,"body_markdown":"I have a program that I want the icon to change depending on which area of the app you open.\r\nSo the default icon would be a rainbow.\r\nif you click the green button the icon changes to green.\r\nif you click blue it changes blue.\r\nSimple if possible but I can&#39;t find any solution out there, I only find answers to how to change the default icon.\r\n\r\n```\r\npublic static Scene scene;\r\npublic static Stage stage1;\r\npublic void start(Stage stage) throws IOException {\r\n    scene = new Scene(loadFXML(&quot;ChooseYourColor&quot;));\r\n    stage.setTitle(&quot;Rainbow-window&quot;);\r\n    stage.setScene(scene);\r\n    stage1 = stage;\r\n    stage.getIcons().add(new Image(TBA.class.getResourceAsStream(&quot;RainbowIcon.png&quot;)));\r\n    stage.show();\r\n}\r\nstatic void setRoot(String fxml) throws IOException {\r\n    scene.setRoot(loadFXML(fxml));\r\n}\r\nprivate static Parent loadFXML(String fxml) throws IOException {\r\n    FXMLLoader fxmlLoader = new FXMLLoader(App.class.getResource(fxml + &quot;.fxml&quot;));\r\n    return fxmlLoader.load();\r\n}\r\n```\r\n\r\n\r\n```\r\n@FXML\r\nprotected void ChangeBlue() throws IOException {\r\n        App.setRoot(&quot;Blue-Window&quot;);\r\n        Stage primStage = App.stage1;\r\n        primStage.setTitle(&quot;Blue&quot;);\r\n        primStage.getIcons().add(new Image(App.class.getResourceAsStream(&quot;BlueIcon.png&quot;)));\r\n    }\r\n}\r\n```\r\n","title":"is it possible to change the icon after start in JavaFx","body":"<p>I have a program that I want the icon to change depending on which area of the app you open.\nSo the default icon would be a rainbow.\nif you click the green button the icon changes to green.\nif you click blue it changes blue.\nSimple if possible but I can't find any solution out there, I only find answers to how to change the default icon.</p>\n<pre><code>public static Scene scene;\npublic static Stage stage1;\npublic void start(Stage stage) throws IOException {\n    scene = new Scene(loadFXML(&quot;ChooseYourColor&quot;));\n    stage.setTitle(&quot;Rainbow-window&quot;);\n    stage.setScene(scene);\n    stage1 = stage;\n    stage.getIcons().add(new Image(TBA.class.getResourceAsStream(&quot;RainbowIcon.png&quot;)));\n    stage.show();\n}\nstatic void setRoot(String fxml) throws IOException {\n    scene.setRoot(loadFXML(fxml));\n}\nprivate static Parent loadFXML(String fxml) throws IOException {\n    FXMLLoader fxmlLoader = new FXMLLoader(App.class.getResource(fxml + &quot;.fxml&quot;));\n    return fxmlLoader.load();\n}\n</code></pre>\n<pre><code>@FXML\nprotected void ChangeBlue() throws IOException {\n        App.setRoot(&quot;Blue-Window&quot;);\n        Stage primStage = App.stage1;\n        primStage.setTitle(&quot;Blue&quot;);\n        primStage.getIcons().add(new Image(App.class.getResourceAsStream(&quot;BlueIcon.png&quot;)));\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-mvc","spring-boot","nosuchmethoderror","lifecycleexception"],"comments":[{"owner":{"account_id":2651999,"reputation":7958,"user_id":3145373,"accept_rate":77,"display_name":"user3145373 ツ"},"score":0,"creation_date":1402053463,"post_id":24080541,"comment_id":37136085,"body_markdown":"Can You post code snippet please ?","body":"Can You post code snippet please ?"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1402053672,"post_id":24080541,"comment_id":37136196,"body_markdown":"What dependencies are you using?","body":"What dependencies are you using?"},{"owner":{"account_id":3669475,"reputation":3487,"user_id":3057004,"accept_rate":46,"display_name":"Wundwin Born"},"score":4,"creation_date":1402055845,"post_id":24080541,"comment_id":37137489,"body_markdown":"Check your servlet version that web server support, and servlet version that you implement in your application(it can be found in web.xml). The method `addServlet()` is supported only in servlet 3.0.","body":"Check your servlet version that web server support, and servlet version that you implement in your application(it can be found in web.xml). The method <code>addServlet()</code> is supported only in servlet 3.0."},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":2,"creation_date":1402080216,"post_id":24080541,"comment_id":37152058,"body_markdown":"Looks like you have an older version of tomcat or of the servlet API on the classpath. Use one of the available tools to look at your classpath (mvn dependency:tree, gradle dependencies, etc.).","body":"Looks like you have an older version of tomcat or of the servlet API on the classpath. Use one of the available tools to look at your classpath (mvn dependency:tree, gradle dependencies, etc.)."},{"owner":{"account_id":2063414,"reputation":41809,"user_id":1839482,"accept_rate":19,"display_name":"Arghya Sadhu"},"score":0,"creation_date":1402215594,"post_id":24080541,"comment_id":37182342,"body_markdown":"Yeah I can see servlet Api 2.5 in my classpath but I did not mention any such dependency in my pom..So how come this is coming in my classpath any what to do to make sure that servlet api 3.0 is used in my project","body":"Yeah I can see servlet Api 2.5 in my classpath but I did not mention any such dependency in my pom..So how come this is coming in my classpath any what to do to make sure that servlet api 3.0 is used in my project"},{"owner":{"account_id":2063414,"reputation":41809,"user_id":1839482,"accept_rate":19,"display_name":"Arghya Sadhu"},"score":0,"creation_date":1402228688,"post_id":24080541,"comment_id":37185353,"body_markdown":"@Dave Syer.....I have now javax.servlet-api-3.1.0.jar in my classpath..but still I get the above exception","body":"@Dave Syer.....I have now javax.servlet-api-3.1.0.jar in my classpath..but still I get the above exception"}],"answers":[{"tags":[],"owner":{"account_id":1113987,"reputation":3302,"user_id":1103811,"display_name":"amuniz"},"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1412673133,"creation_date":1412673133,"answer_id":26232535,"question_id":24080541,"body_markdown":"I solved it excluding a transitive servlet-api dependency.\r\n\r\nIn my case, it was com.github.isrsal:spring-mvc-logger\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.isrsal&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-mvc-logger&lt;/artifactId&gt;\r\n        &lt;version&gt;0.2&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;","title":"Getting NoSuchMethodError: javax.servlet.ServletContext.addServlet in Spring Boot while running a Spring MVC application","body":"<p>I solved it excluding a transitive servlet-api dependency.</p>\n\n<p>In my case, it was com.github.isrsal:spring-mvc-logger</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.isrsal&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-mvc-logger&lt;/artifactId&gt;\n    &lt;version&gt;0.2&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":304772,"reputation":11223,"user_id":614482,"accept_rate":80,"display_name":"Emerson Farrugia"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1424430122,"creation_date":1424371281,"answer_id":28614375,"question_id":24080541,"body_markdown":"If you want to find out where the class is being loaded from, try \r\n\r\n    java -verbose:class -jar foo.jar | grep javax.servlet.ServletContext\r\n\r\nwhere `foo.jar` is the fat JAR produced by Gradle or Maven. For example, the `ServletContext` class could be getting read from an older `servlet-api` JAR in a JDK extensions directory instead of your Maven or Gradle dependencies.\r\n\r\nThe output of the command looks something like this...\r\n\r\n    $ java -verbose:class -jar build/libs/foo-0.2.3.jar | grep javax.servlet.ServletContext\r\n    [Loaded javax.servlet.ServletContext from jar:file:.../build/libs/foo-0.2.3.jar!/lib/javax.servlet-api-3.1.0.jar!/]\r\n    [Loaded javax.servlet.ServletContextListener from jar:file:.../build/libs/foo-0.2.3.jar!/lib/javax.servlet-api-3.1.0.jar!/]\r\n    [Loaded javax.servlet.ServletContextAttributeListener from jar:file:.../build/libs/foo-0.2.3.jar!/lib/javax.servlet-api-3.1.0.jar!/]","title":"Getting NoSuchMethodError: javax.servlet.ServletContext.addServlet in Spring Boot while running a Spring MVC application","body":"<p>If you want to find out where the class is being loaded from, try </p>\n\n<pre><code>java -verbose:class -jar foo.jar | grep javax.servlet.ServletContext\n</code></pre>\n\n<p>where <code>foo.jar</code> is the fat JAR produced by Gradle or Maven. For example, the <code>ServletContext</code> class could be getting read from an older <code>servlet-api</code> JAR in a JDK extensions directory instead of your Maven or Gradle dependencies.</p>\n\n<p>The output of the command looks something like this...</p>\n\n<pre><code>$ java -verbose:class -jar build/libs/foo-0.2.3.jar | grep javax.servlet.ServletContext\n[Loaded javax.servlet.ServletContext from jar:file:.../build/libs/foo-0.2.3.jar!/lib/javax.servlet-api-3.1.0.jar!/]\n[Loaded javax.servlet.ServletContextListener from jar:file:.../build/libs/foo-0.2.3.jar!/lib/javax.servlet-api-3.1.0.jar!/]\n[Loaded javax.servlet.ServletContextAttributeListener from jar:file:.../build/libs/foo-0.2.3.jar!/lib/javax.servlet-api-3.1.0.jar!/]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1350007,"reputation":1032,"user_id":1289953,"accept_rate":25,"display_name":"kumetix"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1428841341,"creation_date":1428841341,"answer_id":29589409,"question_id":24080541,"body_markdown":"gradle solution.\r\n\r\nI had a similar problem in my lib jar which for some reason brought with it an old version of javax.servlet.ServletContext which was later loaded by my spring-boot module instead of its own supplied class, by that causing a NoSuchMethodError\r\n\r\nI fixed it by editing the build.gradle of my lib module :\r\n\r\n    configurations {\r\n        provided.all*.exclude group: &#39;javax.servlet&#39;\r\n    }","title":"Getting NoSuchMethodError: javax.servlet.ServletContext.addServlet in Spring Boot while running a Spring MVC application","body":"<p>gradle solution.</p>\n\n<p>I had a similar problem in my lib jar which for some reason brought with it an old version of javax.servlet.ServletContext which was later loaded by my spring-boot module instead of its own supplied class, by that causing a NoSuchMethodError</p>\n\n<p>I fixed it by editing the build.gradle of my lib module :</p>\n\n<pre><code>configurations {\n    provided.all*.exclude group: 'javax.servlet'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1731578,"reputation":1262,"user_id":1585082,"accept_rate":36,"display_name":"kkonrad"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1429189912,"creation_date":1429189912,"answer_id":29675782,"question_id":24080541,"body_markdown":"I was using Gradle and what worked for me:\r\n\r\n    configurations {\r\n        all*.exclude group: &#39;&#39;, module: &#39;servlet-api&#39;\r\n    }\r\n\r\nIt trimmed dependency tree in desired way.","title":"Getting NoSuchMethodError: javax.servlet.ServletContext.addServlet in Spring Boot while running a Spring MVC application","body":"<p>I was using Gradle and what worked for me:</p>\n\n<pre><code>configurations {\n    all*.exclude group: '', module: 'servlet-api'\n}\n</code></pre>\n\n<p>It trimmed dependency tree in desired way.</p>\n"},{"tags":[],"owner":{"account_id":1360035,"reputation":7094,"user_id":1297578,"accept_rate":82,"display_name":"Shoham"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1432804626,"creation_date":1432804626,"answer_id":30502241,"question_id":24080541,"body_markdown":"I had this in a spring-boot webapp, only in the deployment server (was running fine on my local machine). I solve it by adding:\r\n\r\n    &lt;dependencies&gt;\r\n    &lt;!-- … --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- … --&gt;\r\n&lt;/dependencies&gt;\r\n\r\nhttp://docs.spring.io/spring-boot/docs/current/reference/html/howto-traditional-deployment.html","title":"Getting NoSuchMethodError: javax.servlet.ServletContext.addServlet in Spring Boot while running a Spring MVC application","body":"<p>I had this in a spring-boot webapp, only in the deployment server (was running fine on my local machine). I solve it by adding:</p>\n\n<pre><code>&lt;dependencies&gt;\n&lt;!-- … --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;!-- … --&gt;\n</code></pre>\n\n<p></p>\n\n<p><a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/howto-traditional-deployment.html\">http://docs.spring.io/spring-boot/docs/current/reference/html/howto-traditional-deployment.html</a></p>\n"},{"tags":[],"owner":{"account_id":2393785,"reputation":2213,"user_id":2093075,"accept_rate":60,"display_name":"Pedro Hoehl Carvalho"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1440005609,"creation_date":1440005609,"answer_id":32102055,"question_id":24080541,"body_markdown":"For anyone else who couldn&#39;t solve it by excluding `servlet-api` , here is an alternative:\r\n\r\nIt turns out Spring Boot defaults to Tomcat 8. If you&#39;re running a different version of Tomcat and would like to fix this error, just add your tomcat version to the pom properties:\r\n\r\n    &lt;properties&gt;\r\n        &lt;tomcat.version&gt;7.0.63&lt;/tomcat.version&gt;\r\n    &lt;/properties&gt; \r\n","title":"Getting NoSuchMethodError: javax.servlet.ServletContext.addServlet in Spring Boot while running a Spring MVC application","body":"<p>For anyone else who couldn't solve it by excluding <code>servlet-api</code> , here is an alternative:</p>\n\n<p>It turns out Spring Boot defaults to Tomcat 8. If you're running a different version of Tomcat and would like to fix this error, just add your tomcat version to the pom properties:</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;tomcat.version&gt;7.0.63&lt;/tomcat.version&gt;\n&lt;/properties&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2715678,"reputation":486,"user_id":2343112,"display_name":"road2victory"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440066867,"creation_date":1440066867,"answer_id":32115911,"question_id":24080541,"body_markdown":"For quick solution, I have removed the servlet-api.jar manually from the lib and than build the application and it works.Though, ideally as suggested by Kumetix, one should needs to scrutinize till the dependency which causing it to load in classpath. ","title":"Getting NoSuchMethodError: javax.servlet.ServletContext.addServlet in Spring Boot while running a Spring MVC application","body":"<p>For quick solution, I have removed the servlet-api.jar manually from the lib and than build the application and it works.Though, ideally as suggested by Kumetix, one should needs to scrutinize till the dependency which causing it to load in classpath. </p>\n"},{"tags":[],"owner":{"account_id":5444810,"reputation":3671,"user_id":4331750,"accept_rate":83,"display_name":"whistling_marmot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661155363,"creation_date":1451837206,"answer_id":34578568,"question_id":24080541,"body_markdown":"`mvn dependency:tree` did not reveal the `servlet-api.jar` on my classpath, but right-clicking the project (in Eclipse) and going to _Build Path_ / _Configure Build Path_ showed that my default workspace JRE, JDK 1.7.0_51, had that jar in its `jre/lib/ext` directory (at least in my installation). I tried and failed to remove it from my classpath. @Pedro&#39;s [solution][2] of forcing the tomcat version to 7 worked. So did installing the latest version of Java 7: JDK 1.7.0_79.\r\n\r\n\r\n  [1]: #answer-32102055\n [2]: https://stackoverflow.com/questions/24080541/getting-nosuchmethoderror-javax-servlet-servletcontext-addservlet-in-spring-boo/#answer-32102055","title":"Getting NoSuchMethodError: javax.servlet.ServletContext.addServlet in Spring Boot while running a Spring MVC application","body":"<p><code>mvn dependency:tree</code> did not reveal the <code>servlet-api.jar</code> on my classpath, but right-clicking the project (in Eclipse) and going to <em>Build Path</em> / <em>Configure Build Path</em> showed that my default workspace JRE, JDK 1.7.0_51, had that jar in its <code>jre/lib/ext</code> directory (at least in my installation). I tried and failed to remove it from my classpath. @Pedro's <a href=\"https://stackoverflow.com/questions/24080541/getting-nosuchmethoderror-javax-servlet-servletcontext-addservlet-in-spring-boo/#answer-32102055\">solution</a> of forcing the tomcat version to 7 worked. So did installing the latest version of Java 7: JDK 1.7.0_79.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1456196446,"creation_date":1456189276,"answer_id":35566901,"question_id":24080541,"body_markdown":"I had this problem when trying to start my spring boot server during *tests* (using gradle + spock). I traced the problem to the wiremock library.\r\n\r\nThis fixed it:\r\n\r\n    testCompile(&#39;com.github.tomakehurst:wiremock:1.58&#39;) {\r\n        exclude module: &#39;servlet-api&#39; // this exclude fixed it\r\n    }\r\n\r\n---\r\n\r\nFYI \r\n\r\n    gradle dependencies\r\n\r\nshows (abridged):\r\n\r\n    \\--- com.github.tomakehurst:wiremock:1.58\r\n         +--- org.mortbay.jetty:jetty:6.1.26\r\n              +--- org.mortbay.jetty:jetty-util:6.1.26\r\n              \\--- org.mortbay.jetty:servlet-api:2.5-20081211\r\n\r\nThe ancient (2008) `org.mortbay.jetty:servlet-api` jar contains a version of `ServletContext` that is incompatible with version 1.3.2 of spring boot (worked OK at least up to 1.2.6).\r\n\r\n","title":"Getting NoSuchMethodError: javax.servlet.ServletContext.addServlet in Spring Boot while running a Spring MVC application","body":"<p>I had this problem when trying to start my spring boot server during <em>tests</em> (using gradle + spock). I traced the problem to the wiremock library.</p>\n\n<p>This fixed it:</p>\n\n<pre><code>testCompile('com.github.tomakehurst:wiremock:1.58') {\n    exclude module: 'servlet-api' // this exclude fixed it\n}\n</code></pre>\n\n<hr>\n\n<p>FYI </p>\n\n<pre><code>gradle dependencies\n</code></pre>\n\n<p>shows (abridged):</p>\n\n<pre><code>\\--- com.github.tomakehurst:wiremock:1.58\n     +--- org.mortbay.jetty:jetty:6.1.26\n          +--- org.mortbay.jetty:jetty-util:6.1.26\n          \\--- org.mortbay.jetty:servlet-api:2.5-20081211\n</code></pre>\n\n<p>The ancient (2008) <code>org.mortbay.jetty:servlet-api</code> jar contains a version of <code>ServletContext</code> that is incompatible with version 1.3.2 of spring boot (worked OK at least up to 1.2.6).</p>\n"},{"tags":[],"owner":{"account_id":8106977,"reputation":51,"user_id":6108186,"display_name":"ghostcoder007"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1458804728,"creation_date":1458804728,"answer_id":36195136,"question_id":24080541,"body_markdown":"If you are using STS and you have added the Groovy library to your project (Project Properties -&gt; Java Build Path -&gt; Libraries), then make sure that you select the &quot;No, only include groovy-all&quot; option. The other option of &quot;Yes, include groovy-all and bsf.jar ..., servlet-2.4.jar&quot; adds servlet-2.4.jar which conflicts with the embedded tomcat8 classes resulting in this problem.","title":"Getting NoSuchMethodError: javax.servlet.ServletContext.addServlet in Spring Boot while running a Spring MVC application","body":"<p>If you are using STS and you have added the Groovy library to your project (Project Properties -> Java Build Path -> Libraries), then make sure that you select the \"No, only include groovy-all\" option. The other option of \"Yes, include groovy-all and bsf.jar ..., servlet-2.4.jar\" adds servlet-2.4.jar which conflicts with the embedded tomcat8 classes resulting in this problem.</p>\n"},{"tags":[],"owner":{"account_id":2044839,"reputation":165,"user_id":1825172,"display_name":"Bipin Butala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1460999777,"creation_date":1460999777,"answer_id":36700344,"question_id":24080541,"body_markdown":"I also faced this error.  I have a Maven/Spring MVC/Spring Boot project.  I&#39;m using IntelliJ as the IDE and whenever i add new dependancies to the POM.xml the IDE alters the .iml file (as expected) but what&#39;s weird is that it moves the following line to the top of the file:\r\n\r\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Java EE 6-Java EE 6&quot; level=&quot;project&quot; /&gt;\r\n\r\nonce that happens my project will not compile and I get the same error:\r\n        \r\n**java.lang.NoSuchMethodError: javax.servlet.ServletContext.getVirtualServerName()Ljava/lang/String;**\r\n\r\nby simply moving the orderEntry for Java EE back to the bottom the error goes away and I can compile once more. \r\n\r\n","title":"Getting NoSuchMethodError: javax.servlet.ServletContext.addServlet in Spring Boot while running a Spring MVC application","body":"<p>I also faced this error.  I have a Maven/Spring MVC/Spring Boot project.  I'm using IntelliJ as the IDE and whenever i add new dependancies to the POM.xml the IDE alters the .iml file (as expected) but what's weird is that it moves the following line to the top of the file:</p>\n\n<pre><code>&lt;orderEntry type=\"library\" name=\"Java EE 6-Java EE 6\" level=\"project\" /&gt;\n</code></pre>\n\n<p>once that happens my project will not compile and I get the same error:</p>\n\n<p><strong>java.lang.NoSuchMethodError: javax.servlet.ServletContext.getVirtualServerName()Ljava/lang/String;</strong></p>\n\n<p>by simply moving the orderEntry for Java EE back to the bottom the error goes away and I can compile once more. </p>\n"},{"tags":[],"owner":{"account_id":2679953,"reputation":101,"user_id":2315526,"display_name":"Olga"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1461167165,"creation_date":1461164049,"answer_id":36747647,"question_id":24080541,"body_markdown":"I am using Jetty in my project and got the same error. My quick solution was to exclude embedded Tomcat from the Maven dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-ws&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.0.RELEASE&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;","title":"Getting NoSuchMethodError: javax.servlet.ServletContext.addServlet in Spring Boot while running a Spring MVC application","body":"<p>I am using Jetty in my project and got the same error. My quick solution was to exclude embedded Tomcat from the Maven dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-ws&lt;/artifactId&gt;\n    &lt;version&gt;1.2.0.RELEASE&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2666878,"reputation":693,"user_id":2305119,"display_name":"thyzz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1462702647,"creation_date":1462702647,"answer_id":37098682,"question_id":24080541,"body_markdown":"According to this solution:\r\nhttps://stevewall123.wordpress.com/2015/04/17/spring-boot-application-and-tomcat-error-a-child-container-failed-during-start/\r\n\r\nYou can change the Tomcat version by setting the &quot;tomcat.version&quot; property:\r\n\r\n    ext[&#39;tomcat.version&#39;] = &#39;7.0.63&#39; //my version of Tomcat\r\n\r\n    dependencies {\r\n        compile &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    }\r\n\r\nit works for me, thanks to the author of that article.\r\n\r\nCheers :)","title":"Getting NoSuchMethodError: javax.servlet.ServletContext.addServlet in Spring Boot while running a Spring MVC application","body":"<p>According to this solution:\n<a href=\"https://stevewall123.wordpress.com/2015/04/17/spring-boot-application-and-tomcat-error-a-child-container-failed-during-start/\" rel=\"nofollow\">https://stevewall123.wordpress.com/2015/04/17/spring-boot-application-and-tomcat-error-a-child-container-failed-during-start/</a></p>\n\n<p>You can change the Tomcat version by setting the \"tomcat.version\" property:</p>\n\n<pre><code>ext['tomcat.version'] = '7.0.63' //my version of Tomcat\n\ndependencies {\n    compile 'org.springframework.boot:spring-boot-starter-web'\n}\n</code></pre>\n\n<p>it works for me, thanks to the author of that article.</p>\n\n<p>Cheers :)</p>\n"},{"tags":[],"owner":{"account_id":7247808,"reputation":3044,"user_id":5819877,"accept_rate":100,"display_name":"Praveen Kumar K S"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1468052314,"creation_date":1468052314,"answer_id":38279853,"question_id":24080541,"body_markdown":"I was running with Hadoop 2.7.2 using Spring-boot, the following Hadoop dependencies uses **javax.servlet** which prevented the embedded tomcat version to start. Below exclusions in my POM **fixed the issue**.\r\n\t\t     \t\t\t\t\t\r\n                                        &lt;dependency&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;version&gt;2.7.2&lt;/version&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/exclusions&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;artifactId&gt;spring-data-hadoop-boot&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;version&gt;2.3.0.RELEASE-hadoop26&lt;/version&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/exclusions&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;version&gt;2.7.2&lt;/version&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/exclusions&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/dependency&gt;\r\n\r\n","title":"Getting NoSuchMethodError: javax.servlet.ServletContext.addServlet in Spring Boot while running a Spring MVC application","body":"<p>I was running with Hadoop 2.7.2 using Spring-boot, the following Hadoop dependencies uses <strong>javax.servlet</strong> which prevented the embedded tomcat version to start. Below exclusions in my POM <strong>fixed the issue</strong>.</p>\n\n<pre><code>                                    &lt;dependency&gt;\n                                    &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n                                    &lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt;\n                                    &lt;version&gt;2.7.2&lt;/version&gt;\n                                    &lt;exclusions&gt;\n                                        &lt;exclusion&gt;\n                                            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n                                            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n                                        &lt;/exclusion&gt;\n                                    &lt;/exclusions&gt;\n                                &lt;/dependency&gt;\n                                &lt;dependency&gt;\n                                    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n                                    &lt;artifactId&gt;spring-data-hadoop-boot&lt;/artifactId&gt;\n                                    &lt;version&gt;2.3.0.RELEASE-hadoop26&lt;/version&gt;\n                                    &lt;exclusions&gt;\n                                        &lt;exclusion&gt;\n                                            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n                                            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n                                        &lt;/exclusion&gt;\n                                    &lt;/exclusions&gt;\n                                &lt;/dependency&gt;\n\n                                &lt;dependency&gt;\n                                    &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n                                    &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\n                                    &lt;version&gt;2.7.2&lt;/version&gt;\n                                    &lt;exclusions&gt;\n                                        &lt;exclusion&gt;\n                                            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n                                            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                                        &lt;/exclusion&gt;\n                                        &lt;exclusion&gt;\n                                            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n                                            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n                                        &lt;/exclusion&gt;\n                                    &lt;/exclusions&gt;\n                                &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3398776,"reputation":807,"user_id":2851619,"accept_rate":25,"display_name":"baraka"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1478763429,"creation_date":1478763429,"answer_id":40522222,"question_id":24080541,"body_markdown":"I couldn&#39;t track down the problematic reference except for knowing it is somehow getting into my class-path so here is my 2 cents for lazy developers using eclipse:\r\n\r\nScroll down the list of maven dependencies under your project tree (usually under Java Resources -&gt; Libraries -&gt; Maven Dependencies), track the problematic added jar you wish to exclude from your packaged JAR, right click on it -&gt; select Maven -&gt; Exclude Maven Artifact !\r\nVoila - automatically an exclusion will be added to your pom right under the dependency that refers it.\r\n\r\nMine BTW was jcifs...\r\n\r\n    \t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codelibs&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jcifs&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3.18.2&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\nGood luck!","title":"Getting NoSuchMethodError: javax.servlet.ServletContext.addServlet in Spring Boot while running a Spring MVC application","body":"<p>I couldn't track down the problematic reference except for knowing it is somehow getting into my class-path so here is my 2 cents for lazy developers using eclipse:</p>\n\n<p>Scroll down the list of maven dependencies under your project tree (usually under Java Resources -> Libraries -> Maven Dependencies), track the problematic added jar you wish to exclude from your packaged JAR, right click on it -> select Maven -> Exclude Maven Artifact !\nVoila - automatically an exclusion will be added to your pom right under the dependency that refers it.</p>\n\n<p>Mine BTW was jcifs...</p>\n\n<pre><code>        &lt;dependency&gt;\n        &lt;groupId&gt;org.codelibs&lt;/groupId&gt;\n        &lt;artifactId&gt;jcifs&lt;/artifactId&gt;\n        &lt;version&gt;1.3.18.2&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":17587271,"reputation":1,"user_id":12759803,"display_name":"Hayrullah Yasar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668499778,"creation_date":1668499778,"answer_id":74442369,"question_id":24080541,"body_markdown":"For me this was solution;\r\n\r\nhttps://mkyong.com/java/servlet-api-2-5-jar-jar-not-loaded/\r\n\r\nadding the dependency of the servlet-api to pom.xml\r\n\r\n\r\n","title":"Getting NoSuchMethodError: javax.servlet.ServletContext.addServlet in Spring Boot while running a Spring MVC application","body":"<p>For me this was solution;</p>\n<p><a href=\"https://mkyong.com/java/servlet-api-2-5-jar-jar-not-loaded/\" rel=\"nofollow noreferrer\">https://mkyong.com/java/servlet-api-2-5-jar-jar-not-loaded/</a></p>\n<p>adding the dependency of the servlet-api to pom.xml</p>\n"}],"owner":{"account_id":2063414,"reputation":41809,"user_id":1839482,"accept_rate":19,"display_name":"Arghya Sadhu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68062,"favorite_count":0,"down_vote_count":1,"up_vote_count":41,"accepted_answer_id":28614375,"answer_count":16,"score":40,"last_activity_date":1668499778,"creation_date":1402053393,"question_id":24080541,"body_markdown":"I am getting below exception when I am trying to run a Spring MVC application using Spring boot...\r\n\r\n    ContainerBase: A child container failed during start\r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].StandardContext[]]\r\n    \tat java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n    \tat java.util.concurrent.FutureTask.get(FutureTask.java:188)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1123)\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:799)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:262)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].StandardContext[]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n    \t... 6 more\r\n    Caused by: java.lang.NoSuchMethodError: javax.servlet.ServletContext.addServlet(Ljava/lang/String;Ljavax/servlet/Servlet;)Ljavax/servlet/ServletRegistration$Dynamic;\r\n    \tat org.springframework.boot.context.embedded.ServletRegistrationBean.onStartup(ServletRegistrationBean.java:166)\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext$1.onStartup(EmbeddedWebApplicationContext.java:214)\r\n    \tat org.springframework.boot.context.embedded.tomcat.ServletContextInitializerLifecycleListener.lifecycleEvent(ServletContextInitializerLifecycleListener.java:54)\r\n    \tat org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:117)\r\n    \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5355)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 6 more","title":"Getting NoSuchMethodError: javax.servlet.ServletContext.addServlet in Spring Boot while running a Spring MVC application","body":"<p>I am getting below exception when I am trying to run a Spring MVC application using Spring boot...</p>\n\n<pre><code>ContainerBase: A child container failed during start\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].StandardContext[]]\n    at java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.util.concurrent.FutureTask.get(FutureTask.java:188)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1123)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:799)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:262)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].StandardContext[]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    ... 6 more\nCaused by: java.lang.NoSuchMethodError: javax.servlet.ServletContext.addServlet(Ljava/lang/String;Ljavax/servlet/Servlet;)Ljavax/servlet/ServletRegistration$Dynamic;\n    at org.springframework.boot.context.embedded.ServletRegistrationBean.onStartup(ServletRegistrationBean.java:166)\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext$1.onStartup(EmbeddedWebApplicationContext.java:214)\n    at org.springframework.boot.context.embedded.tomcat.ServletContextInitializerLifecycleListener.lifecycleEvent(ServletContextInitializerLifecycleListener.java:54)\n    at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:117)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5355)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 6 more\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-authentication"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":2,"creation_date":1668480315,"post_id":74440063,"comment_id":131409954,"body_markdown":"Can you clarify what you mean by &quot;f skip login is enabled&quot;? The relevant code, or a screenshot of the relevant UI, would probably help for that.","body":"Can you clarify what you mean by &quot;f skip login is enabled&quot;? The relevant code, or a screenshot of the relevant UI, would probably help for that."},{"owner":{"account_id":20908872,"reputation":366,"user_id":15360188,"display_name":"Syed Ibrahim"},"score":0,"creation_date":1668485202,"post_id":74440063,"comment_id":131410616,"body_markdown":"On first launch you will locally save login credentials of user, And at second time you will have that data and able to fetch user information. Check SharedPrefrences https://developer.android.com/reference/android/content/SharedPreferences  for saving data locally. Hope it helps","body":"On first launch you will locally save login credentials of user, And at second time you will have that data and able to fetch user information. Check SharedPrefrences <a href=\"https://developer.android.com/reference/android/content/SharedPreferences\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/content/&hellip;</a>  for saving data locally. Hope it helps"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668487406,"post_id":74440063,"comment_id":131410915,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":26934134,"reputation":37,"user_id":20506025,"display_name":"Jason Junio"},"score":0,"creation_date":1668516349,"post_id":74440063,"comment_id":131419550,"body_markdown":"thank you for responding, I have solved the problem by adding sharedpreferences","body":"thank you for responding, I have solved the problem by adding sharedpreferences"}],"answers":[{"tags":[],"owner":{"account_id":11561335,"reputation":243,"user_id":9148371,"accept_rate":50,"display_name":"Priyanka Singhal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668491842,"creation_date":1668491842,"answer_id":74441156,"question_id":74440063,"body_markdown":"While launching the app first time, after login you can save the username and email in Shared Preference and on second time launch you can fetch it. First initialize App Preference using method\r\n\r\n    AppPreferences.INSTANCE.initAppPreferences(ActivityName.this);\r\n    \r\nThen set userName and use it.\r\n\r\nCode is shared below\r\n\r\n    public enum AppPreferences {\r\n    INSTANCE;\r\n    private static final String SHARED_PREFERENCE_NAME = &quot;AppName&quot;;\r\n    private SharedPreferences mPreferences;\r\n    private Editor mEditor;\r\n\r\n\r\n    public void initAppPreferences(Context context) {\r\n        mPreferences = context.getSharedPreferences(SHARED_PREFERENCE_NAME, Context.MODE_PRIVATE);\r\n        mEditor = mPreferences.edit();\r\n    }\r\n\r\n    public String getUserName() {\r\n        return mPreferences.getString(SharedPreferencesKeys.user_name.toString(), &quot;&quot;);\r\n    }\r\n\r\n    public void setUserName(String value) {\r\n        mEditor.putString(SharedPreferencesKeys.user_name.toString(), value);\r\n        mEditor.commit();\r\n    }\r\n    }","title":"How can I still get the email address when I enabled skip login on the second launch of the app in android?","body":"<p>While launching the app first time, after login you can save the username and email in Shared Preference and on second time launch you can fetch it. First initialize App Preference using method</p>\n<pre><code>AppPreferences.INSTANCE.initAppPreferences(ActivityName.this);\n</code></pre>\n<p>Then set userName and use it.</p>\n<p>Code is shared below</p>\n<pre><code>public enum AppPreferences {\nINSTANCE;\nprivate static final String SHARED_PREFERENCE_NAME = &quot;AppName&quot;;\nprivate SharedPreferences mPreferences;\nprivate Editor mEditor;\n\n\npublic void initAppPreferences(Context context) {\n    mPreferences = context.getSharedPreferences(SHARED_PREFERENCE_NAME, Context.MODE_PRIVATE);\n    mEditor = mPreferences.edit();\n}\n\npublic String getUserName() {\n    return mPreferences.getString(SharedPreferencesKeys.user_name.toString(), &quot;&quot;);\n}\n\npublic void setUserName(String value) {\n    mEditor.putString(SharedPreferencesKeys.user_name.toString(), value);\n    mEditor.commit();\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668499230,"creation_date":1668499230,"answer_id":74442257,"question_id":74440063,"body_markdown":"The Firebase authentication state persists across application restarts. So there is no need to save the email address locally in order to use it again when you restart the application. As soon as you create an instance of the [FirebaseAuth][1] class, you can call [getCurrentUser()][2] which:\r\n\r\n&gt; Returns the currently signed-in FirebaseUser or null if there is none.\r\n\r\nAs you can see, the type object that is returned is [FirebaseUser][3]. If this object is null it means that your user is not logged in, otherwise, you can call [FirebaseUser#getEmail()][4]. In this way, you can always get the email address from this object, without the need to perform any other operations.\r\n\r\nIf you want to track the auth state, then I recommend you check my answer from the following post:\r\n\r\n* https://stackoverflow.com/questions/50885891/one-time-login-in-app-firebaseauth\r\n\r\nIf you want to see a real example, please check this [resource][5], with the corresponding [repo][6].\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuth\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuth#getCurrentUser()\r\n  [3]: https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseUser\r\n  [4]: https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseUser#getEmail()\r\n  [5]: https://stackoverflow.com/questions/50885891/one-time-login-in-app-firebaseauth\r\n  [6]: https://github.com/alexmamo/FirebaseAuthentication","title":"How can I still get the email address when I enabled skip login on the second launch of the app in android?","body":"<p>The Firebase authentication state persists across application restarts. So there is no need to save the email address locally in order to use it again when you restart the application. As soon as you create an instance of the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuth\" rel=\"nofollow noreferrer\">FirebaseAuth</a> class, you can call <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuth#getCurrentUser()\" rel=\"nofollow noreferrer\">getCurrentUser()</a> which:</p>\n<blockquote>\n<p>Returns the currently signed-in FirebaseUser or null if there is none.</p>\n</blockquote>\n<p>As you can see, the type object that is returned is <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseUser\" rel=\"nofollow noreferrer\">FirebaseUser</a>. If this object is null it means that your user is not logged in, otherwise, you can call <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseUser#getEmail()\" rel=\"nofollow noreferrer\">FirebaseUser#getEmail()</a>. In this way, you can always get the email address from this object, without the need to perform any other operations.</p>\n<p>If you want to track the auth state, then I recommend you check my answer from the following post:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/50885891/one-time-login-in-app-firebaseauth\">One time login in app - FirebaseAuth</a></li>\n</ul>\n<p>If you want to see a real example, please check this <a href=\"https://stackoverflow.com/questions/50885891/one-time-login-in-app-firebaseauth\">resource</a>, with the corresponding <a href=\"https://github.com/alexmamo/FirebaseAuthentication\" rel=\"nofollow noreferrer\">repo</a>.</p>\n"}],"owner":{"account_id":26934134,"reputation":37,"user_id":20506025,"display_name":"Jason Junio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1668499256,"creation_date":1668480087,"question_id":74440063,"body_markdown":"I enabled the skip login, wherein I am not able to get the email of the account I was logged in to.\r\n\r\nHow can I still get the email if skip login is enabled in the second launch of the app?","title":"How can I still get the email address when I enabled skip login on the second launch of the app in android?","body":"<p>I enabled the skip login, wherein I am not able to get the email of the account I was logged in to.</p>\n<p>How can I still get the email if skip login is enabled in the second launch of the app?</p>\n"},{"tags":["java","postgresql","eclipselink"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1668499584,"post_id":74442136,"comment_id":131413505,"body_markdown":"Hmm, this is a class/method from the JDK not in the JDBC driver.","body":"Hmm, this is a class/method from the JDK not in the JDBC driver."},{"owner":{"account_id":2474795,"reputation":734,"user_id":2155645,"accept_rate":20,"display_name":"FourtyTwo"},"score":0,"creation_date":1668500390,"post_id":74442136,"comment_id":131413785,"body_markdown":"Yes, and the weird part is that the error is intermittent and the application is running in openshift containers","body":"Yes, and the weird part is that the error is intermittent and the application is running in openshift containers"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1668715679,"post_id":74442136,"comment_id":131480155,"body_markdown":"You might try using the latest driver version (42.5.0?) for java 8. You mentioned calling an endpoint, but not the container running this. If all sources suggest a versioning issue, check that your container doesn&#39;t have multiple jars on the class path. Remove duplicates where ever possible so that class loaders can&#39;t take different paths and cause this.  When this occurs, do the other processes continue to work, or does this require intervention (like a restart) to fix?","body":"You might try using the latest driver version (42.5.0?) for java 8. You mentioned calling an endpoint, but not the container running this. If all sources suggest a versioning issue, check that your container doesn&#39;t have multiple jars on the class path. Remove duplicates where ever possible so that class loaders can&#39;t take different paths and cause this.  When this occurs, do the other processes continue to work, or does this require intervention (like a restart) to fix?"}],"answers":[{"tags":[],"owner":{"account_id":20151010,"reputation":1,"user_id":14778316,"display_name":"sjb"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1668498782,"creation_date":1668498782,"answer_id":74442189,"question_id":74442136,"body_markdown":"You are in the wrong thinking. The database does not support storing this kind of array object. You can store multiple records and use a column to associate them, or store them as sentences separated by special symbols, and then use the String.split function to split them after taking them out.","title":"How to retrieve entity with column of database type text[] and not get NoSuchMethodError","body":"<p>You are in the wrong thinking. The database does not support storing this kind of array object. You can store multiple records and use a column to associate them, or store them as sentences separated by special symbols, and then use the String.split function to split them after taking them out.</p>\n"}],"owner":{"account_id":2474795,"reputation":734,"user_id":2155645,"accept_rate":20,"display_name":"FourtyTwo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668498782,"creation_date":1668498420,"question_id":74442136,"body_markdown":"I have an entity that is defined as per below, when I try to retrieve it from the database it throw and intermitent `java.lang.NoSuchMethodError`. The Error normally occurs when that endpoint is called multiple times before the other finishes. From my experience and internet search, this error usually occurs when the compiled java version does not match the runtime java version.\r\n\r\nI am using Java 8 for compiling and running the application. I am also using Eclipselink 2.6.2 and the Postgres driver version is 42.3.3.\r\n\r\n**Entity:**\r\n\r\n    @Struct(name = &quot;myArrayColumn&quot;)\r\n    @Entity\r\n    @Table(name = &quot;myTable&quot;)\r\n    public class MyTableEntity {\r\n        ...\r\n        @Column(name = &quot;myArrayColumn&quot;, columnDefinition = &quot;text[]&quot;)\r\n        @Array(databaseType = &quot;varchar&quot;)\r\n        private List&lt;String&gt; myArrayColumn;\r\n        ...\r\n    }\r\n\r\n**Table:**\r\n\r\n    CREATE TABLE myTable\r\n    (\r\n    ...\r\n      myArrayColumn    text[],\r\n    ...\r\n    )\r\n\r\n**Stacktrace:**\r\n\r\n    Caused by: java.lang.NoSuchMethodError: java.nio.ByteBuffer.position(I)Ljava\\/nio\\/ByteBuffer;\r\n        at org.postgresql.jdbc.ArrayDecoding.readBinaryArray(ArrayDecoding.java:529)\r\n        at org.postgresql.jdbc.PgArray.readBinaryArray(PgArray.java:175)\r\n        at org.postgresql.jdbc.PgArray.getArrayImpl(PgArray.java:150)\r\n        at org.postgresql.jdbc.PgArray.getArray(PgArray.java:111)","title":"How to retrieve entity with column of database type text[] and not get NoSuchMethodError","body":"<p>I have an entity that is defined as per below, when I try to retrieve it from the database it throw and intermitent <code>java.lang.NoSuchMethodError</code>. The Error normally occurs when that endpoint is called multiple times before the other finishes. From my experience and internet search, this error usually occurs when the compiled java version does not match the runtime java version.</p>\n<p>I am using Java 8 for compiling and running the application. I am also using Eclipselink 2.6.2 and the Postgres driver version is 42.3.3.</p>\n<p><strong>Entity:</strong></p>\n<pre><code>@Struct(name = &quot;myArrayColumn&quot;)\n@Entity\n@Table(name = &quot;myTable&quot;)\npublic class MyTableEntity {\n    ...\n    @Column(name = &quot;myArrayColumn&quot;, columnDefinition = &quot;text[]&quot;)\n    @Array(databaseType = &quot;varchar&quot;)\n    private List&lt;String&gt; myArrayColumn;\n    ...\n}\n</code></pre>\n<p><strong>Table:</strong></p>\n<pre><code>CREATE TABLE myTable\n(\n...\n  myArrayColumn    text[],\n...\n)\n</code></pre>\n<p><strong>Stacktrace:</strong></p>\n<pre><code>Caused by: java.lang.NoSuchMethodError: java.nio.ByteBuffer.position(I)Ljava\\/nio\\/ByteBuffer;\n    at org.postgresql.jdbc.ArrayDecoding.readBinaryArray(ArrayDecoding.java:529)\n    at org.postgresql.jdbc.PgArray.readBinaryArray(PgArray.java:175)\n    at org.postgresql.jdbc.PgArray.getArrayImpl(PgArray.java:150)\n    at org.postgresql.jdbc.PgArray.getArray(PgArray.java:111)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1668510587,"post_id":74442176,"comment_id":131417491,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/74442176/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1668510900,"post_id":74442176,"comment_id":131417572,"body_markdown":"You might want to look at other questions like https://crypto.stackexchange.com/questions/3505/what-is-the-length-of-an-rsa-signature and https://stackoverflow.com/questions/6658728/rsa-signature-size","body":"You might want to look at other questions like <a href=\"https://crypto.stackexchange.com/questions/3505/what-is-the-length-of-an-rsa-signature\" title=\"what is the length of an rsa signature\">crypto.stackexchange.com/questions/3505/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/6658728/rsa-signature-size\">stackoverflow.com/questions/6658728/rsa-signature-size</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668516482,"post_id":74442176,"comment_id":131419598,"body_markdown":"*I wrote my own implementation of the RSA digital signature.* Why?","body":"<i>I wrote my own implementation of the RSA digital signature.</i> Why?"},{"owner":{"account_id":26803210,"reputation":3,"user_id":20394857,"display_name":"Rume Diablo"},"score":0,"creation_date":1668526298,"post_id":74442176,"comment_id":131423910,"body_markdown":"Homework at the university. Have I implemented the RSA digital signature correctly?","body":"Homework at the university. Have I implemented the RSA digital signature correctly?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668542281,"post_id":74442176,"comment_id":131429661,"body_markdown":"I can&#39;t tell you but there&#39;s one easy way to find out: just run a sha512 utility and compare your results ;)","body":"I can&#39;t tell you but there&#39;s one easy way to find out: just run a sha512 utility and compare your results ;)"}],"owner":{"account_id":26803210,"reputation":3,"user_id":20394857,"display_name":"Rume Diablo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668498732,"creation_date":1668498732,"question_id":74442176,"body_markdown":"I wrote my own implementation of the RSA digital signature. I use SHA-512 hashing. I sign the picture in png format. At the output, I get a signature of 512 bytes, is this normal or a bug? \r\n\r\nIt turns out that it is due to the fact that our hash has a length of 64 bytes, the maximum number generated by me can have a weight of 8 bytes, it turns out 1 byte of the file = 8 bytes of digital signature. The hashToInt function represents an array of bytes as an array of ints (add 256 to negative bytes). Made to adequately perform the ModPow operation\r\n\r\n\r\n```\r\nRandom random = new Random();\r\n\r\n    byte[] byteArray = new byte[8];\r\n\r\n    MessageDigest sha512 = MessageDigest.getInstance(&quot;SHA-512&quot;);\r\n    byte[] array = Files.readAllBytes(Path.of(&quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\CryptoLab1\\\\src\\\\crypto\\\\dino.png&quot;));\r\n    byte[] hash = sha512.digest(array);\r\n    var hashInt = hashToIntArray(hash);\r\n\r\n    FileOutputStream out = new FileOutputStream(&quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\CryptoLab1\\\\src\\\\crypto\\\\DigitalSignatureRSA.png&quot;);\r\n\r\n    BigInteger P = BigInteger.probablePrime(32, random);\r\n    BigInteger Q = BigInteger.probablePrime(32, random);\r\n\r\n    BigInteger N = P.multiply(Q);\r\n    BigInteger f = (P.subtract(BigInteger.ONE)).multiply(Q.subtract(BigInteger.ONE));\r\n\r\n    BigInteger d;\r\n    BigInteger c;\r\n    BigInteger signature;\r\n    BigInteger checkSignature;\r\n\r\n    do {\r\n        d = new BigInteger(32, random);\r\n    } while (!(d.gcd(f).equals(BigInteger.ONE)) &amp;&amp; d.compareTo(f) &lt; 0);\r\n\r\n\r\n    c = d.modInverse(f);\r\n\r\n    List&lt;BigInteger&gt; digitalSignature = new ArrayList&lt;&gt;();\r\n    List&lt;BigInteger&gt; deDigitalSignature = new ArrayList&lt;&gt;();\r\n    List&lt;byte[]&gt; byteList = new ArrayList&lt;&gt;();\r\n\r\n    //create a digital signature\r\n    for (int i = 0; i &lt; hash.length; i++) {\r\n        BigInteger y = BigInteger.valueOf(hashInt[i]);\r\n\r\n        signature = cryptoLab1.ModPow(y, c, N);\r\n        digitalSignature.add(signature);\r\n        byteArray = toHH(signature); //toHH - representation of a number in 8 byte format\r\n        byteList.add(byteArray);\r\n\r\n        out.write(byteList.get(i));\r\n    }\r\n\r\n    // numeric signature verification\r\n\r\n    var fileData = Files.readAllBytes(Path.of(&quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\CryptoLab1\\\\src\\\\crypto\\\\dino.png&quot;));\r\n    var hashFileData = hashToIntArray(sha512.digest(fileData));\r\n\r\n    for (int i = 0; i &lt; hash.length; i++) {\r\n\r\n        checkSignature = cryptoLab1.ModPow(digitalSignature.get(i), d, N);\r\n        deDigitalSignature.add(checkSignature);\r\n    }\r\n\r\n    for(int i = 0; i &lt; hash.length; i++) {\r\n        if(BigInteger.valueOf(hashFileData[i]).equals(deDigitalSignature.get(i))) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n```\r\n","title":"Is it normal for an RSA digital signature to be 512 bytes?","body":"<p>I wrote my own implementation of the RSA digital signature. I use SHA-512 hashing. I sign the picture in png format. At the output, I get a signature of 512 bytes, is this normal or a bug?</p>\n<p>It turns out that it is due to the fact that our hash has a length of 64 bytes, the maximum number generated by me can have a weight of 8 bytes, it turns out 1 byte of the file = 8 bytes of digital signature. The hashToInt function represents an array of bytes as an array of ints (add 256 to negative bytes). Made to adequately perform the ModPow operation</p>\n<pre><code>Random random = new Random();\n\n    byte[] byteArray = new byte[8];\n\n    MessageDigest sha512 = MessageDigest.getInstance(&quot;SHA-512&quot;);\n    byte[] array = Files.readAllBytes(Path.of(&quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\CryptoLab1\\\\src\\\\crypto\\\\dino.png&quot;));\n    byte[] hash = sha512.digest(array);\n    var hashInt = hashToIntArray(hash);\n\n    FileOutputStream out = new FileOutputStream(&quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\CryptoLab1\\\\src\\\\crypto\\\\DigitalSignatureRSA.png&quot;);\n\n    BigInteger P = BigInteger.probablePrime(32, random);\n    BigInteger Q = BigInteger.probablePrime(32, random);\n\n    BigInteger N = P.multiply(Q);\n    BigInteger f = (P.subtract(BigInteger.ONE)).multiply(Q.subtract(BigInteger.ONE));\n\n    BigInteger d;\n    BigInteger c;\n    BigInteger signature;\n    BigInteger checkSignature;\n\n    do {\n        d = new BigInteger(32, random);\n    } while (!(d.gcd(f).equals(BigInteger.ONE)) &amp;&amp; d.compareTo(f) &lt; 0);\n\n\n    c = d.modInverse(f);\n\n    List&lt;BigInteger&gt; digitalSignature = new ArrayList&lt;&gt;();\n    List&lt;BigInteger&gt; deDigitalSignature = new ArrayList&lt;&gt;();\n    List&lt;byte[]&gt; byteList = new ArrayList&lt;&gt;();\n\n    //create a digital signature\n    for (int i = 0; i &lt; hash.length; i++) {\n        BigInteger y = BigInteger.valueOf(hashInt[i]);\n\n        signature = cryptoLab1.ModPow(y, c, N);\n        digitalSignature.add(signature);\n        byteArray = toHH(signature); //toHH - representation of a number in 8 byte format\n        byteList.add(byteArray);\n\n        out.write(byteList.get(i));\n    }\n\n    // numeric signature verification\n\n    var fileData = Files.readAllBytes(Path.of(&quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\CryptoLab1\\\\src\\\\crypto\\\\dino.png&quot;));\n    var hashFileData = hashToIntArray(sha512.digest(fileData));\n\n    for (int i = 0; i &lt; hash.length; i++) {\n\n        checkSignature = cryptoLab1.ModPow(digitalSignature.get(i), d, N);\n        deDigitalSignature.add(checkSignature);\n    }\n\n    for(int i = 0; i &lt; hash.length; i++) {\n        if(BigInteger.valueOf(hashFileData[i]).equals(deDigitalSignature.get(i))) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":["java","inheritance","static","subclass","final"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668498002,"creation_date":1668492916,"answer_id":74441278,"question_id":74441174,"body_markdown":"# `CharSequence`\r\n\r\nTo directly answer your question, I suggest writing a class that implements the [`CharSequence`][1] interface. `String`, `StringBuilder`, and some other classes implement that interface. \r\n\r\nIf you want to be able to add more text to an existing object of your class, your class should also implement [`Appendable`][2].\r\n\r\nI imagine your class would contain a `String`. If appendable, perhaps a `StringBuilder`. \r\n\r\nI don’t see the need for your `descriptor` field. \r\n\r\nRather than carry a `nullable` field, consider writing two classes. One is a subclass of the other, one tolerating a null, the other not. \r\n\r\n# *Jakarta Bean Validation*\r\n\r\nA better solution to needs like null-checks, and like limiting the size of a field, is [*Jakarta Bean Validation*][3]. See [specification page][4]; [Version 3][5] is current. See [project page][6] (a bit outdated).  \r\n\r\nSome validators are [provided][7]. And you can write your own validators. \r\n\r\nYou can invoke validators in your code. And the validators can be invoked by a user-interface built in [*JavaFX*][8] or built in [*Vaadin Flow*][9]. \r\n\r\nI believe that the provided validators `NotNull` and `Size` would accomplish your goals. But `NotBlank` is better than `NotNull` as it also checks that the non-null text contains at least one non-whitespace character. \r\n\r\n    @NotBlank \r\n    @Size( min=1 , max=10 )  \r\n    private String firstName ;\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/CharSequence.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Appendable.html\r\n  [3]: https://en.m.wikipedia.org/wiki/Bean_Validation\r\n  [4]: https://jakarta.ee/specifications/bean-validation/\r\n  [5]: https://jakarta.ee/specifications/bean-validation/3.0/\r\n  [6]: https://beanvalidation.org/\r\n  [7]: https://jakarta.ee/specifications/bean-validation/3.0/jakarta-bean-validation-spec-3.0.html#builtinconstraints\r\n  [8]: https://en.m.wikipedia.org/wiki/JavaFX\r\n  [9]: https://en.m.wikipedia.org/wiki/Vaadin#Vaadin_Flow_(Java_API)","title":"In Java, how would I make a class that is essentially a subclass of string, but sets an allowable length range?","body":"<h1><code>CharSequence</code></h1>\n<p>To directly answer your question, I suggest writing a class that implements the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/CharSequence.html\" rel=\"nofollow noreferrer\"><code>CharSequence</code></a> interface. <code>String</code>, <code>StringBuilder</code>, and some other classes implement that interface.</p>\n<p>If you want to be able to add more text to an existing object of your class, your class should also implement <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Appendable.html\" rel=\"nofollow noreferrer\"><code>Appendable</code></a>.</p>\n<p>I imagine your class would contain a <code>String</code>. If appendable, perhaps a <code>StringBuilder</code>.</p>\n<p>I don’t see the need for your <code>descriptor</code> field.</p>\n<p>Rather than carry a <code>nullable</code> field, consider writing two classes. One is a subclass of the other, one tolerating a null, the other not.</p>\n<h1><em>Jakarta Bean Validation</em></h1>\n<p>A better solution to needs like null-checks, and like limiting the size of a field, is <a href=\"https://en.m.wikipedia.org/wiki/Bean_Validation\" rel=\"nofollow noreferrer\"><em>Jakarta Bean Validation</em></a>. See <a href=\"https://jakarta.ee/specifications/bean-validation/\" rel=\"nofollow noreferrer\">specification page</a>; <a href=\"https://jakarta.ee/specifications/bean-validation/3.0/\" rel=\"nofollow noreferrer\">Version 3</a> is current. See <a href=\"https://beanvalidation.org/\" rel=\"nofollow noreferrer\">project page</a> (a bit outdated).</p>\n<p>Some validators are <a href=\"https://jakarta.ee/specifications/bean-validation/3.0/jakarta-bean-validation-spec-3.0.html#builtinconstraints\" rel=\"nofollow noreferrer\">provided</a>. And you can write your own validators.</p>\n<p>You can invoke validators in your code. And the validators can be invoked by a user-interface built in <a href=\"https://en.m.wikipedia.org/wiki/JavaFX\" rel=\"nofollow noreferrer\"><em>JavaFX</em></a> or built in <a href=\"https://en.m.wikipedia.org/wiki/Vaadin#Vaadin_Flow_(Java_API)\" rel=\"nofollow noreferrer\"><em>Vaadin Flow</em></a>.</p>\n<p>I believe that the provided validators <code>NotNull</code> and <code>Size</code> would accomplish your goals. But <code>NotBlank</code> is better than <code>NotNull</code> as it also checks that the non-null text contains at least one non-whitespace character.</p>\n<pre><code>@NotBlank \n@Size( min=1 , max=10 )  \nprivate String firstName ;\n</code></pre>\n"}],"owner":{"account_id":26934947,"reputation":31,"user_id":20506708,"display_name":"Charles Hilton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1668498002,"creation_date":1668492005,"question_id":74441174,"body_markdown":"I&#39;m trying to make a new object type which is intended to act like a subclass of String. I&#39;m aware a class cannot extend String. I&#39;m making application that has requirements such as a Contact&#39;s first name cannot be longer than 10 characters, and cannot be null, the last name cannot be more than 15 characters.\r\n\r\nI started off making the class like so:\r\n\r\n```\r\npackage Models;\r\n\r\n/**\r\n * @author Charles Hilton\r\n *\r\n */\r\npublic class LimitedString {\r\n\tprivate String value;\r\n\tprivate static final String descriptor;\r\n\tprivate static final Integer minimumLength;\r\n\tprivate static final Integer maximumLength;\r\n\tprivate static final boolean nullable;\r\n\t\r\n\tpublic LimitedString(String value, String descriptor, Integer maximumLength, Integer minimumLength, boolean isNullable) throws Exception {\r\n\t\tif (minimumLength &lt; 0) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Minimum length cannot be less than 0&quot;);\r\n\t\t}\r\n\t\tif (minimumLength &gt; maximumLength) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Minimum length cannot be greater than maximum length&quot;);\r\n\t\t}\r\n\t\tthis.minimumLength = minimumLength;\r\n\t\tthis.maximumLength = maximumLength;\r\n\t\tthis.nullable = isNullable;\r\n\t\tthis.descriptor = descriptor;\t// i.e. descriptor = &quot;Contact First Name&quot;\r\n\t\tthis.setValue(value);\r\n\t}\r\n\t\r\n\tLimitedString(String descriptor, Integer maximumLength, Integer minimumLength, boolean isNullable) {\r\n\t\tif (minimumLength &lt; 0) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Minimum length cannot be less than 0&quot;);\r\n\t\t}\r\n\t\tif (minimumLength &gt; maximumLength) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Minimum length cannot be greater than maximum length&quot;);\r\n\t\t}\r\n\t\tthis.minimumLength = minimumLength;\r\n\t\tthis.maximumLength = maximumLength;\r\n\t\tthis.nullable = isNullable;\r\n\t\tthis.descriptor = descriptor;\t// i.e. descriptor = &quot;Contact First Name&quot;\r\n\t\tthis.setValue(value);\r\n\t}\r\n\r\n\tpublic String ToString() {\r\n\t\treturn this.value;\r\n\t}\r\n\tpublic String getValue() {\r\n\t\treturn value;\r\n\t}\r\n\r\n\tpublic void setValue(String value) {\r\n\t\tif (value == null &amp;&amp; !nullable) throw new IllegalArgumentException(&quot;The value cannot be null.&quot;);\r\n\t\tif (value.length() &lt; minimumLength || value.length() &gt; maximumLength) {\r\n\t\t\tthrow new IllegalArgumentException(String.format(&quot;@s must be between %s character(s) and %s characters long.&quot;, descriptor, minimumLength, maximumLength));\r\n\t\t}\r\n\t\tthis.value = value;\r\n\t}\r\n\r\n\tpublic static String getDescriptor() {\r\n\t\treturn descriptor;\r\n\t}\r\n\r\n\tpublic static Integer getMinimumlength() {\r\n\t\treturn minimumLength;\r\n\t}\r\n\r\n\tpublic static Integer getMaximumlength() {\r\n\t\treturn maximumLength;\r\n\t}\r\n\r\n\tpublic static boolean isNullable() {\r\n\t\treturn nullable;\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\nthen using it in a Contact class like so:\r\n\r\n```\r\n/**\r\n * \r\n */\r\npackage Models;\r\n\r\n/**\r\n * @author Charles Hilton\r\n *\r\n */\r\npublic class Contact {\r\n\tprivate LimitedString firstName = new LimitedString(&quot;First Name&quot;, 10, 1, false);\r\n\tprivate LimitedString lastName = new LimitedString(&quot;Last Name&quot;, 15, 1, false);\r\n\t\r\n\tprivate Contact() {};\r\n\t\r\n\tpublic Contact(String lastName, String firstName) {\r\n\t\tthis.setLastName(lastName);\r\n\t\tthis.setFirstName(firstName);\r\n\t}\r\n\t\r\n\tpublic String getFirstName() {\r\n\t\treturn firstName.getValue();\r\n\t}\r\n\tpublic void setFirstName(String firstName) {\r\n\t\tthis.firstName.setValue(firstName);\r\n\t}\r\n\tpublic String getLastName() {\r\n\t\treturn lastName.getValue();\r\n\t}\r\n\tpublic void setLastName(String lastName) {\r\n\t\tthis.lastName.setValue(lastName);\r\n\t}\r\n}\r\n\r\n```\r\nI&#39;m worried that it could be optimized better. For starters, in LimitedString. I made several fields static and final with the intention of trying to minimize memory usage as more contacts are added to a collection, which I apparently can&#39;t do the way I have it setup right now.\r\n","title":"In Java, how would I make a class that is essentially a subclass of string, but sets an allowable length range?","body":"<p>I'm trying to make a new object type which is intended to act like a subclass of String. I'm aware a class cannot extend String. I'm making application that has requirements such as a Contact's first name cannot be longer than 10 characters, and cannot be null, the last name cannot be more than 15 characters.</p>\n<p>I started off making the class like so:</p>\n<pre><code>package Models;\n\n/**\n * @author Charles Hilton\n *\n */\npublic class LimitedString {\n    private String value;\n    private static final String descriptor;\n    private static final Integer minimumLength;\n    private static final Integer maximumLength;\n    private static final boolean nullable;\n    \n    public LimitedString(String value, String descriptor, Integer maximumLength, Integer minimumLength, boolean isNullable) throws Exception {\n        if (minimumLength &lt; 0) {\n            throw new IllegalArgumentException(&quot;Minimum length cannot be less than 0&quot;);\n        }\n        if (minimumLength &gt; maximumLength) {\n            throw new IllegalArgumentException(&quot;Minimum length cannot be greater than maximum length&quot;);\n        }\n        this.minimumLength = minimumLength;\n        this.maximumLength = maximumLength;\n        this.nullable = isNullable;\n        this.descriptor = descriptor;   // i.e. descriptor = &quot;Contact First Name&quot;\n        this.setValue(value);\n    }\n    \n    LimitedString(String descriptor, Integer maximumLength, Integer minimumLength, boolean isNullable) {\n        if (minimumLength &lt; 0) {\n            throw new IllegalArgumentException(&quot;Minimum length cannot be less than 0&quot;);\n        }\n        if (minimumLength &gt; maximumLength) {\n            throw new IllegalArgumentException(&quot;Minimum length cannot be greater than maximum length&quot;);\n        }\n        this.minimumLength = minimumLength;\n        this.maximumLength = maximumLength;\n        this.nullable = isNullable;\n        this.descriptor = descriptor;   // i.e. descriptor = &quot;Contact First Name&quot;\n        this.setValue(value);\n    }\n\n    public String ToString() {\n        return this.value;\n    }\n    public String getValue() {\n        return value;\n    }\n\n    public void setValue(String value) {\n        if (value == null &amp;&amp; !nullable) throw new IllegalArgumentException(&quot;The value cannot be null.&quot;);\n        if (value.length() &lt; minimumLength || value.length() &gt; maximumLength) {\n            throw new IllegalArgumentException(String.format(&quot;@s must be between %s character(s) and %s characters long.&quot;, descriptor, minimumLength, maximumLength));\n        }\n        this.value = value;\n    }\n\n    public static String getDescriptor() {\n        return descriptor;\n    }\n\n    public static Integer getMinimumlength() {\n        return minimumLength;\n    }\n\n    public static Integer getMaximumlength() {\n        return maximumLength;\n    }\n\n    public static boolean isNullable() {\n        return nullable;\n    }\n    \n}\n\n</code></pre>\n<p>then using it in a Contact class like so:</p>\n<pre><code>/**\n * \n */\npackage Models;\n\n/**\n * @author Charles Hilton\n *\n */\npublic class Contact {\n    private LimitedString firstName = new LimitedString(&quot;First Name&quot;, 10, 1, false);\n    private LimitedString lastName = new LimitedString(&quot;Last Name&quot;, 15, 1, false);\n    \n    private Contact() {};\n    \n    public Contact(String lastName, String firstName) {\n        this.setLastName(lastName);\n        this.setFirstName(firstName);\n    }\n    \n    public String getFirstName() {\n        return firstName.getValue();\n    }\n    public void setFirstName(String firstName) {\n        this.firstName.setValue(firstName);\n    }\n    public String getLastName() {\n        return lastName.getValue();\n    }\n    public void setLastName(String lastName) {\n        this.lastName.setValue(lastName);\n    }\n}\n\n</code></pre>\n<p>I'm worried that it could be optimized better. For starters, in LimitedString. I made several fields static and final with the intention of trying to minimize memory usage as more contacts are added to a collection, which I apparently can't do the way I have it setup right now.</p>\n"},{"tags":["java","git","intellij-idea","gradle"],"comments":[{"owner":{"account_id":329799,"reputation":3901,"user_id":653519,"display_name":"Trisha"},"score":2,"creation_date":1426675700,"post_id":26745541,"comment_id":46466763,"body_markdown":"To answer the question of your source directory - you need to override the default source directory with [sourceSets](https://gradle.org/docs/current/dsl/org.gradle.api.tasks.SourceSet.html).  See how we did this in the MongoDB Java driver: https://github.com/mongodb/mongo-java-driver/blob/782a8c58cf13b0026ed4d58bfd6b74f1248c4b08/build.gradle#L110","body":"To answer the question of your source directory - you need to override the default source directory with <a href=\"https://gradle.org/docs/current/dsl/org.gradle.api.tasks.SourceSet.html\" rel=\"nofollow noreferrer\">sourceSets</a>.  See how we did this in the MongoDB Java driver: <a href=\"https://github.com/mongodb/mongo-java-driver/blob/782a8c58cf13b0026ed4d58bfd6b74f1248c4b08/build.gradle#L110\" rel=\"nofollow noreferrer\">github.com/mongodb/mongo-java-driver/blob/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4405425,"reputation":304,"user_id":3589991,"display_name":"hippoLogic"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1503545776,"creation_date":1415314019,"answer_id":26790884,"question_id":26745541,"body_markdown":"I&#39;m using Version 12 of IntelliJ.\r\n\r\nI solved a similar problem by creating an entirely new project and &quot;Checking out from Version Control&quot;\r\nMerging the two projects later was fairly easy.","title":"Best way to add Gradle support to IntelliJ Project","body":"<p>I'm using Version 12 of IntelliJ.</p>\n\n<p>I solved a similar problem by creating an entirely new project and \"Checking out from Version Control\"\nMerging the two projects later was fairly easy.</p>\n"},{"tags":[],"owner":{"account_id":1337090,"reputation":3013,"user_id":1279573,"display_name":"SuperAndrew"},"down_vote_count":2,"up_vote_count":225,"is_accepted":true,"score":223,"last_activity_date":1592610543,"creation_date":1415351533,"answer_id":26797735,"question_id":26745541,"body_markdown":"Add:\r\n\r\n    build.gradle \r\n\r\nin your root project folder, and use plugin for example:\r\n\r\n    apply plugin: &#39;idea&#39;\r\n    //and standard one\r\n    apply plugin: &#39;java&#39;\r\n\r\nand with this fire from command line:\r\n\r\n    gradle cleanIdea \r\n\r\nand after that:\r\n\r\n    gradle idea\r\n\r\nAfter that everything should work ","title":"Best way to add Gradle support to IntelliJ Project","body":"<p>Add:</p>\n\n<pre><code>build.gradle \n</code></pre>\n\n<p>in your root project folder, and use plugin for example:</p>\n\n<pre><code>apply plugin: 'idea'\n//and standard one\napply plugin: 'java'\n</code></pre>\n\n<p>and with this fire from command line:</p>\n\n<pre><code>gradle cleanIdea \n</code></pre>\n\n<p>and after that:</p>\n\n<pre><code>gradle idea\n</code></pre>\n\n<p>After that everything should work </p>\n"},{"tags":[],"owner":{"account_id":392860,"reputation":1763,"user_id":754388,"display_name":"Guildenstern70"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1616077337,"creation_date":1458220401,"answer_id":36061609,"question_id":26745541,"body_markdown":"Another way, simpler.\r\n\r\nAdd your \r\n\r\n    build.gradle\r\n\r\nfile to the root of your project. Close the project. Manually remove &quot;*.iml&quot; file and/or &quot;.idea&quot; directory. Then choose &quot;Import Project...&quot;, navigate to your project directory, select the *build.gradle* file and click OK.\r\n","title":"Best way to add Gradle support to IntelliJ Project","body":"<p>Another way, simpler.</p>\n<p>Add your</p>\n<pre><code>build.gradle\n</code></pre>\n<p>file to the root of your project. Close the project. Manually remove &quot;*.iml&quot; file and/or &quot;.idea&quot; directory. Then choose &quot;Import Project...&quot;, navigate to your project directory, select the <em>build.gradle</em> file and click OK.</p>\n"},{"tags":[],"owner":{"account_id":2939509,"reputation":7108,"user_id":2517730,"accept_rate":85,"display_name":"Yar"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1476319631,"creation_date":1466176726,"answer_id":37885112,"question_id":26745541,"body_markdown":"Just as a future reference, if you already have a `Maven` project all you need to do is doing a `gradle init` in your project directory which will generates `build.gradle` and other dependencies, then do a `gradle build` in the same directory. ","title":"Best way to add Gradle support to IntelliJ Project","body":"<p>Just as a future reference, if you already have a <code>Maven</code> project all you need to do is doing a <code>gradle init</code> in your project directory which will generates <code>build.gradle</code> and other dependencies, then do a <code>gradle build</code> in the same directory. </p>\n"},{"tags":[],"owner":{"account_id":5906169,"reputation":10565,"user_id":4647853,"accept_rate":74,"display_name":"Michal Kordas"},"down_vote_count":2,"up_vote_count":78,"is_accepted":false,"score":76,"last_activity_date":1480408370,"creation_date":1480408370,"answer_id":40861094,"question_id":26745541,"body_markdown":"There is no need to remove any `.iml` files. Follow this:\r\n\r\n* close the project\r\n* `File` `-&gt;` `Open...` and choose your newly created `build.gradle`\r\n* IntelliJ will ask you whether you want:\r\n  * `Open Existing Project`\r\n  * **`Delete Existing Project and Import`**\r\n* Choose the second option and you are done","title":"Best way to add Gradle support to IntelliJ Project","body":"<p>There is no need to remove any <code>.iml</code> files. Follow this:</p>\n\n<ul>\n<li>close the project</li>\n<li><code>File</code> <code>-&gt;</code> <code>Open...</code> and choose your newly created <code>build.gradle</code></li>\n<li>IntelliJ will ask you whether you want:\n\n<ul>\n<li><code>Open Existing Project</code></li>\n<li><strong><code>Delete Existing Project and Import</code></strong></li>\n</ul></li>\n<li>Choose the second option and you are done</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3838375,"reputation":10942,"user_id":3182188,"accept_rate":75,"display_name":"Raniz"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1505458038,"creation_date":1505458038,"answer_id":46233362,"question_id":26745541,"body_markdown":"In IntelliJ 2017.2.4 I just closed the project and reopened it and I got a dialog asking me if I wanted to link with _build.gradle_ which opened up the import dialog for Gradle projects.\r\n\r\nNo need to delete any files or add the _idea_ plugin to _build.gradle_.","title":"Best way to add Gradle support to IntelliJ Project","body":"<p>In IntelliJ 2017.2.4 I just closed the project and reopened it and I got a dialog asking me if I wanted to link with <em>build.gradle</em> which opened up the import dialog for Gradle projects.</p>\n\n<p>No need to delete any files or add the <em>idea</em> plugin to <em>build.gradle</em>.</p>\n"},{"tags":[],"owner":{"account_id":4483663,"reputation":12326,"user_id":3647002,"accept_rate":47,"display_name":"Gayan Weerakutti"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1567935763,"creation_date":1567935763,"answer_id":57840809,"question_id":26745541,"body_markdown":" 1. Add `build.gradle` in your project&#39;s root directory.\r\n    \r\n 2. Then just `File` -&gt; `Invalidate Caches / Restart`\r\n\r\nHere is a basic build.gradle for Java projects:\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\nsourceCompatibility = &#39;1.8&#39;\r\ntargetCompatibility = &#39;1.8&#39;\r\nversion = &#39;1.2.1&#39;\r\n```","title":"Best way to add Gradle support to IntelliJ Project","body":"<ol>\n<li><p>Add <code>build.gradle</code> in your project's root directory.</p></li>\n<li><p>Then just <code>File</code> -> <code>Invalidate Caches / Restart</code></p></li>\n</ol>\n\n<p>Here is a basic build.gradle for Java projects:</p>\n\n<pre><code>plugins {\n    id 'java'\n}\n\nsourceCompatibility = '1.8'\ntargetCompatibility = '1.8'\nversion = '1.2.1'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7009562,"reputation":529,"user_id":5376073,"accept_rate":80,"display_name":"Tomislav Brabec"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608223979,"creation_date":1608223979,"answer_id":65344994,"question_id":26745541,"body_markdown":"To add to other answers. For me it was helpful to delete `.mvn` directory and then add `build.gradle`. New versions of IntelliJ will then automatically notice that you use Gradle.","title":"Best way to add Gradle support to IntelliJ Project","body":"<p>To add to other answers. For me it was helpful to delete <code>.mvn</code> directory and then add <code>build.gradle</code>. New versions of IntelliJ will then automatically notice that you use Gradle.</p>\n"},{"tags":[],"owner":{"account_id":1220192,"reputation":267,"user_id":1186971,"display_name":"Petr Kiritsev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668497182,"creation_date":1668497182,"answer_id":74441944,"question_id":26745541,"body_markdown":"Open the context menu by clicking on **gradle.build** file and then press &quot;**Link Gradle project**&quot; (or something like that - I have just done it and the menu is not available anymore in my project, because my project is now linked as a Gradle project). Then you will have Gradle tab at the right window of your Intellij Idea.","title":"Best way to add Gradle support to IntelliJ Project","body":"<p>Open the context menu by clicking on <strong>gradle.build</strong> file and then press &quot;<strong>Link Gradle project</strong>&quot; (or something like that - I have just done it and the menu is not available anymore in my project, because my project is now linked as a Gradle project). Then you will have Gradle tab at the right window of your Intellij Idea.</p>\n"}],"owner":{"account_id":3711378,"reputation":8168,"user_id":3088642,"accept_rate":91,"display_name":"Gremash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127667,"favorite_count":0,"down_vote_count":0,"up_vote_count":176,"accepted_answer_id":26797735,"answer_count":9,"score":176,"last_activity_date":1668497182,"creation_date":1415137204,"question_id":26745541,"body_markdown":"I have looked around quite a bit and haven&#39;t found the best solution to convert an existing IntelliJ project to Gradle. I work in a team environment and we currently share the .ipr file as we have a few build configurations that we track. We will be getting rid of those in favor of Gradle eventually but I can&#39;t screw things up too much until the Gradle conversion is done.\r\n\r\nAlso, our Java source files are located in the root of the src directory instead of src/main/java as is standard.\r\n\r\nIs there a way I can add Gradle to my project that won&#39;t make me delete and recreate my IntelliJ project and won&#39;t screw everyone else up when they do a Git pull?","title":"Best way to add Gradle support to IntelliJ Project","body":"<p>I have looked around quite a bit and haven't found the best solution to convert an existing IntelliJ project to Gradle. I work in a team environment and we currently share the .ipr file as we have a few build configurations that we track. We will be getting rid of those in favor of Gradle eventually but I can't screw things up too much until the Gradle conversion is done.</p>\n\n<p>Also, our Java source files are located in the root of the src directory instead of src/main/java as is standard.</p>\n\n<p>Is there a way I can add Gradle to my project that won't make me delete and recreate my IntelliJ project and won't screw everyone else up when they do a Git pull?</p>\n"},{"tags":["java","json","spring-boot","resteasy","jackson-databind"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1668445646,"post_id":74419561,"comment_id":131401381,"body_markdown":"It looks like you need to add the `--add-opens=java.base/java.time=ALL-UNNAMED` to your JVM parameters.","body":"It looks like you need to add the <code>--add-opens=java.base&#47;java.time=ALL-UNNAMED</code> to your JVM parameters."},{"owner":{"account_id":1308827,"reputation":1559,"user_id":1257265,"accept_rate":38,"display_name":"kappa"},"score":0,"creation_date":1668497078,"post_id":74419561,"comment_id":131412770,"body_markdown":"the registered object mapper is configured with JavaTimeModule, and the same data deserialisation done by manually passing the json to the mapper actually works. The problem was that during rest easy call, such objectmapper is not being used","body":"the registered object mapper is configured with JavaTimeModule, and the same data deserialisation done by manually passing the json to the mapper actually works. The problem was that during rest easy call, such objectmapper is not being used"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1668530984,"post_id":74419561,"comment_id":131425825,"body_markdown":"What version of RESTEasy are you using?","body":"What version of RESTEasy are you using?"}],"answers":[{"tags":[],"owner":{"account_id":1308827,"reputation":1559,"user_id":1257265,"accept_rate":38,"display_name":"kappa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668497086,"creation_date":1668497086,"answer_id":74441927,"question_id":74419561,"body_markdown":"After other tests I did today, the problem is not the objectmapper itself, but is related to the resteasyJacksonProvider and its registration into the client builder. \r\n\r\nSince, still don&#39;t know why, there&#39;s already a module registered of same class in the ResteasyClientBuilder, that second registration is being ignored. \r\n\r\nSo the instance used for data reading is an empty default mapper.\r\n\r\n","title":"ObjectMapper different behaviour in Resteasy Client with proxy","body":"<p>After other tests I did today, the problem is not the objectmapper itself, but is related to the resteasyJacksonProvider and its registration into the client builder.</p>\n<p>Since, still don't know why, there's already a module registered of same class in the ResteasyClientBuilder, that second registration is being ignored.</p>\n<p>So the instance used for data reading is an empty default mapper.</p>\n"}],"owner":{"account_id":1308827,"reputation":1559,"user_id":1257265,"accept_rate":38,"display_name":"kappa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74441927,"answer_count":1,"score":0,"last_activity_date":1668497086,"creation_date":1668328728,"question_id":74419561,"body_markdown":"I&#39;m doing a quite usual task to integrate a remote JSON service in a spring application, \r\nwhat it seems to happen is that the ObjectMapper set into a ResteasyJackson2Provider behave differently from the same ObjectMapper used &quot;manually&quot;:\r\n\r\n```\r\n@Service\r\npublic class MyService {\r\n\r\n    @Autowired\r\n    ObjectMapper objectMapper;\r\n\r\n    public MyItem getItemById(Long itemId) {\r\n        MyServiceClient client = getMyServiceClient(&quot;http://localhost:8888/myservice&quot;);\r\n\r\n        //Not Working\r\n        MyItem item = client.getItem(itemId);\r\n            \r\n        //Working \r\n        String itemJson = client.getItemJson(itemId);\r\n        MyItem itemFromJson = objectMapper.readValue(itemJson, MyItem.class);\r\n        \r\n        return item;\r\n    }\r\n\r\n    private MyServiceClient getMyServiceClient(String serviceUrl) {\r\n        ResteasyJackson2Provider resteasyJacksonProvider = new ResteasyJackson2Provider();\r\n        resteasyJacksonProvider.setMapper(objectMapper);\r\n        ResteasyClient client = new ResteasyClientBuilder().register(resteasyJacksonProvider).build();\r\n        ResteasyWebTarget target = client\r\n                .target(UriBuilder.fromPath(serviceUrl));\r\n        MyServiceClient proxy = target.proxy(MyServiceClient.class);\r\n        return proxy;\r\n    }\r\n\r\n}\r\n``` \r\n\r\nWhen delegating the deserialisation to the proxy i get this error:\r\n\r\n&gt; java.lang.reflect.InaccessibleObjectException: Unable to make field private final int java.time.LocalDate.year accessible: module java.base does not &quot;opens java.time&quot; to unnamed module @13e39c73\r\n\r\nAnd from unit tests I made, this error happens when not including &quot;  .registerModule(new JavaTimeModule());&quot;  in object mapper.\r\n\r\nBut when I manually call the  objectMapper.readValue()  this does not happens, and the object is correctly deserialised.\r\n\r\n\r\nhere the code of the proxy interface methods:\r\n\r\n\r\n```\r\n@Path(&quot;/api&quot;)\r\npublic interface MyServiceClient {\r\n\r\n    @GET\r\n    @Path(&quot;/items/{id}&quot;)\r\n    MyItem getItem(@PathParam(&quot;id&quot;) Long id);\r\n\r\n    @GET\r\n    @Path(&quot;/items/{id}&quot;)\r\n    String getItemJson(@PathParam(&quot;id&quot;) Long id);\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"ObjectMapper different behaviour in Resteasy Client with proxy","body":"<p>I'm doing a quite usual task to integrate a remote JSON service in a spring application,\nwhat it seems to happen is that the ObjectMapper set into a ResteasyJackson2Provider behave differently from the same ObjectMapper used &quot;manually&quot;:</p>\n<pre><code>@Service\npublic class MyService {\n\n    @Autowired\n    ObjectMapper objectMapper;\n\n    public MyItem getItemById(Long itemId) {\n        MyServiceClient client = getMyServiceClient(&quot;http://localhost:8888/myservice&quot;);\n\n        //Not Working\n        MyItem item = client.getItem(itemId);\n            \n        //Working \n        String itemJson = client.getItemJson(itemId);\n        MyItem itemFromJson = objectMapper.readValue(itemJson, MyItem.class);\n        \n        return item;\n    }\n\n    private MyServiceClient getMyServiceClient(String serviceUrl) {\n        ResteasyJackson2Provider resteasyJacksonProvider = new ResteasyJackson2Provider();\n        resteasyJacksonProvider.setMapper(objectMapper);\n        ResteasyClient client = new ResteasyClientBuilder().register(resteasyJacksonProvider).build();\n        ResteasyWebTarget target = client\n                .target(UriBuilder.fromPath(serviceUrl));\n        MyServiceClient proxy = target.proxy(MyServiceClient.class);\n        return proxy;\n    }\n\n}\n</code></pre>\n<p>When delegating the deserialisation to the proxy i get this error:</p>\n<blockquote>\n<p>java.lang.reflect.InaccessibleObjectException: Unable to make field private final int java.time.LocalDate.year accessible: module java.base does not &quot;opens java.time&quot; to unnamed module @13e39c73</p>\n</blockquote>\n<p>And from unit tests I made, this error happens when not including &quot;  .registerModule(new JavaTimeModule());&quot;  in object mapper.</p>\n<p>But when I manually call the  objectMapper.readValue()  this does not happens, and the object is correctly deserialised.</p>\n<p>here the code of the proxy interface methods:</p>\n<pre><code>@Path(&quot;/api&quot;)\npublic interface MyServiceClient {\n\n    @GET\n    @Path(&quot;/items/{id}&quot;)\n    MyItem getItem(@PathParam(&quot;id&quot;) Long id);\n\n    @GET\n    @Path(&quot;/items/{id}&quot;)\n    String getItemJson(@PathParam(&quot;id&quot;) Long id);\n}\n</code></pre>\n"},{"tags":["java","android","flutter","android-studio","dart"],"comments":[{"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"score":0,"creation_date":1655111832,"post_id":72599530,"comment_id":128244580,"body_markdown":"Does this answer your question? [Flutter app drops java.lang.UnsatisfiedLinkError (couldn&#39;t find &quot;libflutter.so&quot;)](https://stackoverflow.com/questions/52795414/flutter-app-drops-java-lang-unsatisfiedlinkerror-couldnt-find-libflutter-so)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/52795414/flutter-app-drops-java-lang-unsatisfiedlinkerror-couldnt-find-libflutter-so\">Flutter app drops java.lang.UnsatisfiedLinkError (couldn&#39;t find &quot;libflutter.so&quot;)</a>"},{"owner":{"account_id":17840034,"reputation":63,"user_id":12958101,"display_name":"Ahmet Aydemir"},"score":1,"creation_date":1655319555,"post_id":72599530,"comment_id":128307310,"body_markdown":"same problem did you find a solution?","body":"same problem did you find a solution?"}],"owner":{"account_id":25542483,"reputation":51,"user_id":19328323,"display_name":"Luka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1202,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1668497048,"creation_date":1655107593,"question_id":72599530,"body_markdown":"I created a release on Google Play Console, and when Google checks my code it finds this error. However when I compile the application myself, there is no error. \r\nI code in Flutter, so all android files are automatically generated by flutter\r\nWould you have an idea? \r\nThanks in advance\r\n\r\n```\r\nFATAL EXCEPTION: main\r\nProcess: com.yoorgreat.yoorquizz, PID: 7595\r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.yoorgreat.yoorquizz/com.example.app_yoorgreat.MainActivity}: java.lang.RuntimeException: java.util.concurrent.ExecutionException: java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/org.apache.http.legacy.boot.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/data/app/androidx.test.tools.crawler-wn4M9L26y34CKgj1FdF3Ag==/base.apk&quot;, zip file &quot;/data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/base.apk&quot;, zip file &quot;/data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/split_config.x86.apk&quot;, zip file &quot;/data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/split_config.xxhdpi.apk&quot;],nativeLibraryDirectories=[/data/app/androidx.test.tools.crawler-wn4M9L26y34CKgj1FdF3Ag==/lib/x86, /data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/lib/x86, /data/app/androidx.test.tools.crawler-wn4M9L26y34CKgj1FdF3Ag==/base.apk!/lib/x86, /data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/base.apk!/lib/x86, /data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/split_config.x86.apk!/lib/x86, /data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/split_config.xxhdpi.apk!/lib/x86, /system/lib, /system/vendor/lib]]] couldn&#39;t find &quot;libflutter.so&quot;\r\n\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2913)\r\n\tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\r\n\tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\r\n\tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\r\n\tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\r\n\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n\tat android.os.Looper.loop(Looper.java:193)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:6669)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\nCaused by: java.lang.RuntimeException: java.util.concurrent.ExecutionException: java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/org.apache.http.legacy.boot.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/data/app/androidx.test.tools.crawler-wn4M9L26y34CKgj1FdF3Ag==/base.apk&quot;, zip file &quot;/data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/base.apk&quot;, zip file &quot;/data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/split_config.x86.apk&quot;, zip file &quot;/data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/split_config.xxhdpi.apk&quot;],nativeLibraryDirectories=[/data/app/androidx.test.tools.crawler-wn4M9L26y34CKgj1FdF3Ag==/lib/x86, /data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/lib/x86, /data/app/androidx.test.tools.crawler-wn4M9L26y34CKgj1FdF3Ag==/base.apk!/lib/x86, /data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/base.apk!/lib/x86, /data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/split_config.x86.apk!/lib/x86, /data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/split_config.xxhdpi.apk!/lib/x86, /system/lib, /system/vendor/lib]]] couldn&#39;t find &quot;libflutter.so&quot;\r\n\tat o0.d.e(Unknown Source:441)\r\n\tat io.flutter.embedding.engine.a.&lt;init&gt;(Unknown Source:184)\r\n\tat io.flutter.embedding.engine.a.&lt;init&gt;(Unknown Source:12)\r\n\tat io.flutter.embedding.android.e.G(Unknown Source:106)\r\n\tat io.flutter.embedding.android.e.p(Unknown Source:7)\r\n\tat io.flutter.embedding.android.d.onCreate(Unknown Source:13)\r\n\tat android.app.Activity.performCreate(Activity.java:7136)\r\n\tat android.app.Activity.performCreate(Activity.java:7127)\r\n\tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1271)\r\n\tat androidx.test.runner.MonitoringInstrumentation.callActivityOnCreate(MonitoringInstrumentation.java:2)\r\n\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2893)\r\n\t... 11 more\r\nCaused by: java.util.concurrent.ExecutionException: java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/org.apache.http.legacy.boot.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/data/app/androidx.test.tools.crawler-wn4M9L26y34CKgj1FdF3Ag==/base.apk&quot;, zip file &quot;/data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/base.apk&quot;, zip file &quot;/data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/split_config.x86.apk&quot;, zip file &quot;/data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/split_config.xxhdpi.apk&quot;],nativeLibraryDirectories=[/data/app/androidx.test.tools.crawler-wn4M9L26y34CKgj1FdF3Ag==/lib/x86, /data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/lib/x86, /data/app/androidx.test.tools.crawler-wn4M9L26y34CKgj1FdF3Ag==/base.apk!/lib/x86, /data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/base.apk!/lib/x86, /data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/split_config.x86.apk!/lib/x86, /data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/split_config.xxhdpi.apk!/lib/x86, /system/lib, /system/vendor/lib]]] couldn&#39;t find &quot;libflutter.so&quot;\r\n\tat java.util.concurrent.FutureTask.report(FutureTask.java:123)\r\n\tat java.util.concurrent.FutureTask.get(FutureTask.java:193)\r\n\tat o0.d.e(Unknown Source:28)\r\n\t... 21 more\r\nCaused by: java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/org.apache.http.legacy.boot.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/data/app/androidx.test.tools.crawler-wn4M9L26y34CKgj1FdF3Ag==/base.apk&quot;, zip file &quot;/data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/base.apk&quot;, zip file &quot;/data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/split_config.x86.apk&quot;, zip file &quot;/data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/split_config.xxhdpi.apk&quot;],nativeLibraryDirectories=[/data/app/androidx.test.tools.crawler-wn4M9L26y34CKgj1FdF3Ag==/lib/x86, /data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/lib/x86, /data/app/androidx.test.tools.crawler-wn4M9L26y34CKgj1FdF3Ag==/base.apk!/lib/x86, /data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/base.apk!/lib/x86, /data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/split_config.x86.apk!/lib/x86, /data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/split_config.xxhdpi.apk!/lib/x86, /system/lib, /system/vendor/lib]]] couldn&#39;t find &quot;libflutter.so&quot;\r\n\tat java.lang.Runtime.loadLibrary0(Runtime.java:1012)\r\n\tat java.lang.System.loadLibrary(System.java:1669)\r\n\tat io.flutter.embedding.engine.FlutterJNI.loadLibrary(Unknown Source:13)\r\n\tat o0.d$a.b(Unknown Source:18)\r\n\tat o0.d$a.call(Unknown Source:0)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n\tat java.lang.Thread.run(Thread.java:764)[enter image description here][1]\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7KZcb.png","title":"Error on Google Play Console -- java.lang.RuntimeException: Unable to start activity ComponentInfo","body":"<p>I created a release on Google Play Console, and when Google checks my code it finds this error. However when I compile the application myself, there is no error.\nI code in Flutter, so all android files are automatically generated by flutter\nWould you have an idea?\nThanks in advance</p>\n<pre><code>FATAL EXCEPTION: main\nProcess: com.yoorgreat.yoorquizz, PID: 7595\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.yoorgreat.yoorquizz/com.example.app_yoorgreat.MainActivity}: java.lang.RuntimeException: java.util.concurrent.ExecutionException: java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/org.apache.http.legacy.boot.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/data/app/androidx.test.tools.crawler-wn4M9L26y34CKgj1FdF3Ag==/base.apk&quot;, zip file &quot;/data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/base.apk&quot;, zip file &quot;/data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/split_config.x86.apk&quot;, zip file &quot;/data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/split_config.xxhdpi.apk&quot;],nativeLibraryDirectories=[/data/app/androidx.test.tools.crawler-wn4M9L26y34CKgj1FdF3Ag==/lib/x86, /data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/lib/x86, /data/app/androidx.test.tools.crawler-wn4M9L26y34CKgj1FdF3Ag==/base.apk!/lib/x86, /data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/base.apk!/lib/x86, /data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/split_config.x86.apk!/lib/x86, /data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/split_config.xxhdpi.apk!/lib/x86, /system/lib, /system/vendor/lib]]] couldn't find &quot;libflutter.so&quot;\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2913)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:193)\n    at android.app.ActivityThread.main(ActivityThread.java:6669)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\nCaused by: java.lang.RuntimeException: java.util.concurrent.ExecutionException: java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/org.apache.http.legacy.boot.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/data/app/androidx.test.tools.crawler-wn4M9L26y34CKgj1FdF3Ag==/base.apk&quot;, zip file &quot;/data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/base.apk&quot;, zip file &quot;/data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/split_config.x86.apk&quot;, zip file &quot;/data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/split_config.xxhdpi.apk&quot;],nativeLibraryDirectories=[/data/app/androidx.test.tools.crawler-wn4M9L26y34CKgj1FdF3Ag==/lib/x86, /data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/lib/x86, /data/app/androidx.test.tools.crawler-wn4M9L26y34CKgj1FdF3Ag==/base.apk!/lib/x86, /data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/base.apk!/lib/x86, /data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/split_config.x86.apk!/lib/x86, /data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/split_config.xxhdpi.apk!/lib/x86, /system/lib, /system/vendor/lib]]] couldn't find &quot;libflutter.so&quot;\n    at o0.d.e(Unknown Source:441)\n    at io.flutter.embedding.engine.a.&lt;init&gt;(Unknown Source:184)\n    at io.flutter.embedding.engine.a.&lt;init&gt;(Unknown Source:12)\n    at io.flutter.embedding.android.e.G(Unknown Source:106)\n    at io.flutter.embedding.android.e.p(Unknown Source:7)\n    at io.flutter.embedding.android.d.onCreate(Unknown Source:13)\n    at android.app.Activity.performCreate(Activity.java:7136)\n    at android.app.Activity.performCreate(Activity.java:7127)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1271)\n    at androidx.test.runner.MonitoringInstrumentation.callActivityOnCreate(MonitoringInstrumentation.java:2)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2893)\n    ... 11 more\nCaused by: java.util.concurrent.ExecutionException: java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/org.apache.http.legacy.boot.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/data/app/androidx.test.tools.crawler-wn4M9L26y34CKgj1FdF3Ag==/base.apk&quot;, zip file &quot;/data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/base.apk&quot;, zip file &quot;/data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/split_config.x86.apk&quot;, zip file &quot;/data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/split_config.xxhdpi.apk&quot;],nativeLibraryDirectories=[/data/app/androidx.test.tools.crawler-wn4M9L26y34CKgj1FdF3Ag==/lib/x86, /data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/lib/x86, /data/app/androidx.test.tools.crawler-wn4M9L26y34CKgj1FdF3Ag==/base.apk!/lib/x86, /data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/base.apk!/lib/x86, /data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/split_config.x86.apk!/lib/x86, /data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/split_config.xxhdpi.apk!/lib/x86, /system/lib, /system/vendor/lib]]] couldn't find &quot;libflutter.so&quot;\n    at java.util.concurrent.FutureTask.report(FutureTask.java:123)\n    at java.util.concurrent.FutureTask.get(FutureTask.java:193)\n    at o0.d.e(Unknown Source:28)\n    ... 21 more\nCaused by: java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/org.apache.http.legacy.boot.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/data/app/androidx.test.tools.crawler-wn4M9L26y34CKgj1FdF3Ag==/base.apk&quot;, zip file &quot;/data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/base.apk&quot;, zip file &quot;/data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/split_config.x86.apk&quot;, zip file &quot;/data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/split_config.xxhdpi.apk&quot;],nativeLibraryDirectories=[/data/app/androidx.test.tools.crawler-wn4M9L26y34CKgj1FdF3Ag==/lib/x86, /data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/lib/x86, /data/app/androidx.test.tools.crawler-wn4M9L26y34CKgj1FdF3Ag==/base.apk!/lib/x86, /data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/base.apk!/lib/x86, /data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/split_config.x86.apk!/lib/x86, /data/app/com.yoorgreat.yoorquizz-IjonJonnrboy1C5YqCK7nQ==/split_config.xxhdpi.apk!/lib/x86, /system/lib, /system/vendor/lib]]] couldn't find &quot;libflutter.so&quot;\n    at java.lang.Runtime.loadLibrary0(Runtime.java:1012)\n    at java.lang.System.loadLibrary(System.java:1669)\n    at io.flutter.embedding.engine.FlutterJNI.loadLibrary(Unknown Source:13)\n    at o0.d$a.b(Unknown Source:18)\n    at o0.d$a.call(Unknown Source:0)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n    at java.lang.Thread.run(Thread.java:764)[enter image description here][1]\n</code></pre>\n"},{"tags":["java","android","android-studio","android-edittext","settext"],"answers":[{"tags":[],"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668495949,"creation_date":1668495949,"answer_id":74441740,"question_id":74441553,"body_markdown":"Simply use methods of `String` class to compare strings. Now first of all you need to read text from `EditText` control then you check if the string you want presents. For your case the sample code would be:\r\n```lang-java\r\nString DepartStation_txt;  // I don&#39;t know where do you get it from\r\nString currentString = DS.getText().toString; // Read the current string first, if any \r\n\r\nif(currentString != null) {\r\n    if(!currentString.isEqual(DepartStation_txt)) {\r\n        DS.setText(DepartStation_txt);\r\n        DS.setEnebled(false);\r\n    }\r\n    else {\r\n        DS.setHint(&quot;Enter the value&quot;);\r\n        DS.setEnabled(true);\r\n    }\r\n}\r\nelse {\r\n// EditText has no string at all, user has to enter the value??\r\n    DS.setHint(&quot;Enter the value&quot;);\r\n    DS.setEnabled(true);\r\n}\r\n```\r\nNote that I used the `setHint` method instead of the `setText` method since it is more suitable to instruct the users.","title":"How to use same Edittext as two different in Android?","body":"<p>Simply use methods of <code>String</code> class to compare strings. Now first of all you need to read text from <code>EditText</code> control then you check if the string you want presents. For your case the sample code would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String DepartStation_txt;  // I don't know where do you get it from\nString currentString = DS.getText().toString; // Read the current string first, if any \n\nif(currentString != null) {\n    if(!currentString.isEqual(DepartStation_txt)) {\n        DS.setText(DepartStation_txt);\n        DS.setEnebled(false);\n    }\n    else {\n        DS.setHint(&quot;Enter the value&quot;);\n        DS.setEnabled(true);\n    }\n}\nelse {\n// EditText has no string at all, user has to enter the value??\n    DS.setHint(&quot;Enter the value&quot;);\n    DS.setEnabled(true);\n}\n</code></pre>\n<p>Note that I used the <code>setHint</code> method instead of the <code>setText</code> method since it is more suitable to instruct the users.</p>\n"}],"owner":{"account_id":24516117,"reputation":11,"user_id":18429849,"display_name":"Vignesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1668495949,"creation_date":1668494848,"question_id":74441553,"body_markdown":"Hi I am a Beginner in Android Development. I want to display data from xampp (phpmyadmin) in EditText if EditText value\r\n is not equal to &quot;&quot;(data from xampp!=&quot;&quot;)  and if equal to &quot;&quot;(data from xampp==&quot;&quot;), I want the user to type the value .{if the value is displayed it should not editable for user} I tried if..else \r\n\r\n\r\n`\r\n```\r\nif(DepartStation_txt!=&quot;&quot;){\r\n   DS.setText(DepartStation_txt);\r\n   DS.setEnabled(false);\r\n}else {\r\n    DS.setText(&quot;Enter the Value&quot;);\r\n    DS.setEnabled(true);\r\n}\r\n```\r\n`\r\nwhere DS is EditText DS=\r\n```\r\n(EditText) findViewById(R.id.DS);\r\n```\r\nin onCreate\r\n\r\n\r\nAny functions that does this job and reason for this not working","title":"How to use same Edittext as two different in Android?","body":"<p>Hi I am a Beginner in Android Development. I want to display data from xampp (phpmyadmin) in EditText if EditText value\nis not equal to &quot;&quot;(data from xampp!=&quot;&quot;)  and if equal to &quot;&quot;(data from xampp==&quot;&quot;), I want the user to type the value .{if the value is displayed it should not editable for user} I tried if..else</p>\n<p>`</p>\n<pre><code>if(DepartStation_txt!=&quot;&quot;){\n   DS.setText(DepartStation_txt);\n   DS.setEnabled(false);\n}else {\n    DS.setText(&quot;Enter the Value&quot;);\n    DS.setEnabled(true);\n}\n</code></pre>\n<p>`\nwhere DS is EditText DS=</p>\n<pre><code>(EditText) findViewById(R.id.DS);\n</code></pre>\n<p>in onCreate</p>\n<p>Any functions that does this job and reason for this not working</p>\n"},{"tags":["java","json","spring","rabbitmq","amqp"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668495444,"post_id":74439281,"comment_id":131412315,"body_markdown":"If it works from the console and not from code you are obviously **not** sending the same message. I don&#39;t get why you are sending a `Message` and still do a convert. It will now try to convert `Message` to JSON, whereas you probably expect it to only send the body and the rest as headers. You must call `send` instead of `convertAndSend`.","body":"If it works from the console and not from code you are obviously <b>not</b> sending the same message. I don&#39;t get why you are sending a <code>Message</code> and still do a convert. It will now try to convert <code>Message</code> to JSON, whereas you probably expect it to only send the body and the rest as headers. You must call <code>send</code> instead of <code>convertAndSend</code>."},{"owner":{"account_id":18430230,"reputation":1,"user_id":13425578,"display_name":"Даниил Смирнов"},"score":0,"creation_date":1668502140,"post_id":74439281,"comment_id":131414398,"body_markdown":"Thank you, it helped. I just started to understand the functionality of amqp and watched tutorials. There, when working with a message, the author also uses convertAndSend instead of send","body":"Thank you, it helped. I just started to understand the functionality of amqp and watched tutorials. There, when working with a message, the author also uses convertAndSend instead of send"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668502760,"post_id":74439281,"comment_id":131414646,"body_markdown":"I doubt he did. I suspect he received a message and send an object.","body":"I doubt he did. I suspect he received a message and send an object."},{"owner":{"account_id":18430230,"reputation":1,"user_id":13425578,"display_name":"Даниил Смирнов"},"score":0,"creation_date":1668503300,"post_id":74439281,"comment_id":131414840,"body_markdown":"4 code block from the end of the [article](https://www.javacodegeeks.com/2018/02/springboot-messaging-rabbitmq.html)","body":"4 code block from the end of the <a href=\"https://www.javacodegeeks.com/2018/02/springboot-messaging-rabbitmq.html\" rel=\"nofollow noreferrer\">article</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668503767,"post_id":74439281,"comment_id":131415015,"body_markdown":"That tutorial is just wrong. Probably a sloppy/paste error.","body":"That tutorial is just wrong. Probably a sloppy/paste error."}],"owner":{"account_id":18430230,"reputation":1,"user_id":13425578,"display_name":"Даниил Смирнов"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":844,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668495315,"creation_date":1668470817,"question_id":74439281,"body_markdown":"Execution of Rabbit message listener failed, and the error handler threw an exception\r\n\r\nThe message is converted correctly but still gives an error\r\n\r\nThe RabbitMQ configuration look like this:\r\n\r\n```\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class RabbitConfig implements RabbitListenerConfigurer {\r\n    private final RabbitConfigProperties properties;\r\n    private final ObjectMapper mapper;\r\n    public static final String ASSISTANT_STATEMENT_EXCHANGE = &quot;assistant.statement&quot;;\r\n    public static final String STATEMENTS_LOAD_REQUEST_QUEUE = &quot;statements.load.request&quot;;\r\n    public static final String LOAD_REQUEST_KEY = &quot;load.request&quot;;\r\n\r\n\r\n    @Bean\r\n    public ConnectionFactory connectionFactory() {\r\n        CachingConnectionFactory connectionFactory =\r\n                new CachingConnectionFactory(properties.getHostname());\r\n\r\n        connectionFactory.setUsername(properties.getUsername());\r\n        connectionFactory.setPassword(properties.getPassword());\r\n\r\n        return connectionFactory;\r\n    }\r\n\r\n    @Bean\r\n    public AmqpAdmin amqpAdmin() {\r\n        return new RabbitAdmin(connectionFactory());\r\n    }\r\n\r\n    @Bean\r\n    public Jackson2JsonMessageConverter producerJackson2MessageConverter() {\r\n        return new Jackson2JsonMessageConverter(mapper);\r\n    }\r\n\r\n    @Bean\r\n    public RabbitTemplate rabbitTemplate() {\r\n        RabbitTemplate rabbitTemplate = new RabbitTemplate(connectionFactory());\r\n        rabbitTemplate.setMessageConverter(producerJackson2MessageConverter());\r\n        return rabbitTemplate;\r\n    }\r\n\r\n    @Bean\r\n    public MappingJackson2MessageConverter consumerJackson2MessageConverter() {\r\n        return new MappingJackson2MessageConverter();\r\n    }\r\n\r\n    @Bean\r\n    public MessageHandlerMethodFactory messageHandlerMethodFactory() {\r\n        DefaultMessageHandlerMethodFactory messageHandlerMethodFactory = new DefaultMessageHandlerMethodFactory();\r\n        messageHandlerMethodFactory.setMessageConverter(consumerJackson2MessageConverter());\r\n        return messageHandlerMethodFactory;\r\n    }\r\n\r\n    @Override\r\n    public void configureRabbitListeners(RabbitListenerEndpointRegistrar registrar) {\r\n        registrar.setMessageHandlerMethodFactory(messageHandlerMethodFactory());\r\n    }\r\n\r\n    @Bean\r\n    public DirectExchange statementExchange() {\r\n        return ExchangeBuilder.directExchange(ASSISTANT_STATEMENT_EXCHANGE).build();\r\n    }\r\n\r\n    @Bean\r\n    public Queue statementLoadRequestQueue() {\r\n        return QueueBuilder.durable(STATEMENTS_LOAD_RESPONSE_QUEUE).build();\r\n    }\r\n\r\n\r\n    @Bean\r\n    public Binding statementLoadRequestBinding() {\r\n        return BindingBuilder.bind(statementLoadRequestQueue())\r\n                .to(statementExchange())\r\n                .with(LOAD_REQUEST_KEY);\r\n    }\r\n```\r\n\r\nI also have a message sender:\r\n\r\n```\r\n@Log4j2\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class StatementEmitter {\r\n    private final AmqpTemplate template;\r\n    private final DirectExchange statementExchange;\r\n    private final ObjectMapper mapper;\r\n\r\n    public void requestStatement(TeacherIdDto dto) {\r\n        try {\r\n            final String json = mapper.writeValueAsString(dto);\r\n            Message message = MessageBuilder\r\n                    .withBody(json.getBytes())\r\n                    .setContentType(MessageProperties.CONTENT_TYPE_JSON)\r\n                    .setContentEncoding(&quot;UTF-8&quot;)\r\n                    .setDeliveryModeIfAbsentOrDefault(MessageDeliveryMode.PERSISTENT)\r\n                    .build();\r\n            template.convertAndSend(statementExchange.getName(), &quot;load.request&quot;, message);\r\n        } catch (JsonProcessingException e) {\r\n            log.error(&quot;Object mapper error: &quot; + e);\r\n        }\r\n    }\r\n\r\n```\r\n\r\nAnd consumer:\r\n\r\n```\r\n@Log4j2\r\n@Component\r\n@EnableRabbit\r\n@RequiredArgsConstructor\r\npublic class StatementListener {\r\n\r\n    @RabbitListener(queues = RabbitConfig.STATEMENTS_LOAD_REQUEST_QUEUE)\r\n    public void processLoadRequest(@NotNull Message&lt;TeacherIdDto&gt; dto) {\r\n        log.info(String.format(&quot;Message: %s&quot;, dto));\r\n    }\r\n}\r\n\r\n```\r\n\r\nDto:\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class TeacherIdDto implements Serializable {\r\n    private String teacherId;\r\n}\r\n```\r\n\r\n\r\nIf I am sending json through the sender, and my consumer processes it,  I will get this error:\r\n\r\n```\r\n2022-11-15 02:37:00.581  INFO 12500 --- [ntContainer#1-1] r.c.t.rabbit.listener.StatementListener  : Message: GenericMessage [payload={teacherId=vbbvnbvnbnvbvn}, headers={amqp_receivedDeliveryMode=PERSISTENT, amqp_receivedRoutingKey=load.request, amqp_contentEncoding=UTF-8, amqp_receivedExchange=assistant.statement, amqp_deliveryTag=2, amqp_consumerQueue=statements.load.request, amqp_redelivered=false, id=93b00729-f3e6-92fe-c221-d686d00f8982, amqp_consumerTag=amq.ctag-HAq0NGeKCWigy9HyuNKkAA, amqp_lastInBatch=false, contentType=application/json, timestamp=1668469020581}]\r\n2022-11-15 02:37:00.581  WARN 12500 --- [ntContainer#0-1] s.a.r.l.ConditionalRejectingErrorHandler : Execution of Rabbit message listener failed.\r\n\r\norg.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to convert message\r\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:156) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1670) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1589) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1577) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1568) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1512) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:993) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:940) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:84) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1317) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1223) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\tat java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\r\nCaused by: org.springframework.amqp.support.converter.MessageConversionException: Failed to convert Message content\r\n\tat org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.doFromMessage(AbstractJackson2MessageConverter.java:350) ~[spring-amqp-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.fromMessage(AbstractJackson2MessageConverter.java:309) ~[spring-amqp-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.fromMessage(AbstractJackson2MessageConverter.java:292) ~[spring-amqp-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.rabbit.listener.adapter.AbstractAdaptableMessageListener.extractMessage(AbstractAdaptableMessageListener.java:342) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter$MessagingMessageConverterAdapter.extractPayload(MessagingMessageListenerAdapter.java:366) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.support.converter.MessagingMessageConverter.fromMessage(MessagingMessageConverter.java:132) ~[spring-amqp-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.toMessagingMessage(MessagingMessageListenerAdapter.java:243) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:146) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\t... 11 common frames omitted\r\nCaused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.lang.String` from Object value (token `JsonToken.START_OBJECT`)\r\n at [Source: (String)&quot;{&quot;teacherId&quot;:&quot;vbbvnbvnbnvbvn&quot;}&quot;; line: 1, column: 1]\r\n\tat com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59) ~[jackson-databind-2.13.3.jar:2.13.3]\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1741) ~[jackson-databind-2.13.3.jar:2.13.3]\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1515) ~[jackson-databind-2.13.3.jar:2.13.3]\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1420) ~[jackson-databind-2.13.3.jar:2.13.3]\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.extractScalarFromObject(DeserializationContext.java:932) ~[jackson-databind-2.13.3.jar:2.13.3]\r\n\tat com.fasterxml.jackson.databind.deser.std.StringDeserializer.deserialize(StringDeserializer.java:62) ~[jackson-databind-2.13.3.jar:2.13.3]\r\n\tat com.fasterxml.jackson.databind.deser.std.StringDeserializer.deserialize(StringDeserializer.java:11) ~[jackson-databind-2.13.3.jar:2.13.3]\r\n\tat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323) ~[jackson-databind-2.13.3.jar:2.13.3]\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674) ~[jackson-databind-2.13.3.jar:2.13.3]\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629) ~[jackson-databind-2.13.3.jar:2.13.3]\r\n\tat org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.convertBytesToObject(AbstractJackson2MessageConverter.java:411) ~[spring-amqp-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.convertContent(AbstractJackson2MessageConverter.java:378) ~[spring-amqp-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.doFromMessage(AbstractJackson2MessageConverter.java:347) ~[spring-amqp-2.4.6.jar:2.4.6]\r\n\t... 18 common frames omitted\r\n\r\n2022-11-15 02:37:00.582  WARN 12500 --- [ntContainer#0-1] ingErrorHandler$DefaultExceptionStrategy : Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:&#39;{&quot;teacherId&quot;:&quot;vbbvnbvnbnvbvn&quot;}&#39; MessageProperties [headers={}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=assistant.statement, receivedRoutingKey=load.request, deliveryTag=2, consumerTag=amq.ctag-EoV7E816ZRxiKD0a-L-iYg, consumerQueue=statements.load.response])\r\n2022-11-15 02:37:00.582 ERROR 12500 --- [ntContainer#0-1] o.s.a.r.l.SimpleMessageListenerContainer : Execution of Rabbit message listener failed, and the error handler threw an exception\r\n\r\norg.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal\r\n\tat org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:146) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1474) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1758) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1533) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:993) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:940) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:84) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1317) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1223) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\tat java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\r\nCaused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to convert message\r\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:156) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1670) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1589) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1577) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1568) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1512) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\t... 6 common frames omitted\r\nCaused by: org.springframework.amqp.support.converter.MessageConversionException: Failed to convert Message content\r\n\tat org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.doFromMessage(AbstractJackson2MessageConverter.java:350) ~[spring-amqp-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.fromMessage(AbstractJackson2MessageConverter.java:309) ~[spring-amqp-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.fromMessage(AbstractJackson2MessageConverter.java:292) ~[spring-amqp-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.rabbit.listener.adapter.AbstractAdaptableMessageListener.extractMessage(AbstractAdaptableMessageListener.java:342) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter$MessagingMessageConverterAdapter.extractPayload(MessagingMessageListenerAdapter.java:366) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.support.converter.MessagingMessageConverter.fromMessage(MessagingMessageConverter.java:132) ~[spring-amqp-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.toMessagingMessage(MessagingMessageListenerAdapter.java:243) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:146) ~[spring-rabbit-2.4.6.jar:2.4.6]\r\n\t... 11 common frames omitted\r\nCaused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.lang.String` from Object value (token `JsonToken.START_OBJECT`)\r\n at [Source: (String)&quot;{&quot;teacherId&quot;:&quot;vbbvnbvnbnvbvn&quot;}&quot;; line: 1, column: 1]\r\n\tat com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59) ~[jackson-databind-2.13.3.jar:2.13.3]\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1741) ~[jackson-databind-2.13.3.jar:2.13.3]\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1515) ~[jackson-databind-2.13.3.jar:2.13.3]\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1420) ~[jackson-databind-2.13.3.jar:2.13.3]\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.extractScalarFromObject(DeserializationContext.java:932) ~[jackson-databind-2.13.3.jar:2.13.3]\r\n\tat com.fasterxml.jackson.databind.deser.std.StringDeserializer.deserialize(StringDeserializer.java:62) ~[jackson-databind-2.13.3.jar:2.13.3]\r\n\tat com.fasterxml.jackson.databind.deser.std.StringDeserializer.deserialize(StringDeserializer.java:11) ~[jackson-databind-2.13.3.jar:2.13.3]\r\n\tat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323) ~[jackson-databind-2.13.3.jar:2.13.3]\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674) ~[jackson-databind-2.13.3.jar:2.13.3]\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629) ~[jackson-databind-2.13.3.jar:2.13.3]\r\n\tat org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.convertBytesToObject(AbstractJackson2MessageConverter.java:411) ~[spring-amqp-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.convertContent(AbstractJackson2MessageConverter.java:378) ~[spring-amqp-2.4.6.jar:2.4.6]\r\n\tat org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.doFromMessage(AbstractJackson2MessageConverter.java:347) ~[spring-amqp-2.4.6.jar:2.4.6]\r\n\t... 18 common frames omitted\r\n```\r\n\r\nBut if I send the same message via the RabbitMQ interface, the error does not occur\r\n\r\n```\r\n2022-11-15 02:41:08.265  INFO 12500 --- [ntContainer#1-1] r.c.t.rabbit.listener.StatementListener  : Message: GenericMessage [payload={teacherId=vbbvnbvnbnvbvn}, headers={amqp_receivedDeliveryMode=PERSISTENT, amqp_receivedRoutingKey=load.request, amqp_contentEncoding=UTF-8, amqp_receivedExchange=assistant.statement, amqp_deliveryTag=4, amqp_consumerQueue=statements.load.request, amqp_redelivered=false, id=bd0ca679-bb20-4344-94e8-c3ac2dcd2712, amqp_consumerTag=amq.ctag-HAq0NGeKCWigy9HyuNKkAA, amqp_lastInBatch=false, contentType=application/json, timestamp=1668469268265}]\r\n```\r\n\r\nThe body and header of the message are the same, but why does the error occur and in what place? Because the program first outputs data, and then gives an error.\r\n\r\nAlso, I had the following situation. \r\nI force an exception during message processing. The message is returned to the queue after which it is processed without errors","title":"Error Handler converted exception to fatal","body":"<p>Execution of Rabbit message listener failed, and the error handler threw an exception</p>\n<p>The message is converted correctly but still gives an error</p>\n<p>The RabbitMQ configuration look like this:</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic class RabbitConfig implements RabbitListenerConfigurer {\n    private final RabbitConfigProperties properties;\n    private final ObjectMapper mapper;\n    public static final String ASSISTANT_STATEMENT_EXCHANGE = &quot;assistant.statement&quot;;\n    public static final String STATEMENTS_LOAD_REQUEST_QUEUE = &quot;statements.load.request&quot;;\n    public static final String LOAD_REQUEST_KEY = &quot;load.request&quot;;\n\n\n    @Bean\n    public ConnectionFactory connectionFactory() {\n        CachingConnectionFactory connectionFactory =\n                new CachingConnectionFactory(properties.getHostname());\n\n        connectionFactory.setUsername(properties.getUsername());\n        connectionFactory.setPassword(properties.getPassword());\n\n        return connectionFactory;\n    }\n\n    @Bean\n    public AmqpAdmin amqpAdmin() {\n        return new RabbitAdmin(connectionFactory());\n    }\n\n    @Bean\n    public Jackson2JsonMessageConverter producerJackson2MessageConverter() {\n        return new Jackson2JsonMessageConverter(mapper);\n    }\n\n    @Bean\n    public RabbitTemplate rabbitTemplate() {\n        RabbitTemplate rabbitTemplate = new RabbitTemplate(connectionFactory());\n        rabbitTemplate.setMessageConverter(producerJackson2MessageConverter());\n        return rabbitTemplate;\n    }\n\n    @Bean\n    public MappingJackson2MessageConverter consumerJackson2MessageConverter() {\n        return new MappingJackson2MessageConverter();\n    }\n\n    @Bean\n    public MessageHandlerMethodFactory messageHandlerMethodFactory() {\n        DefaultMessageHandlerMethodFactory messageHandlerMethodFactory = new DefaultMessageHandlerMethodFactory();\n        messageHandlerMethodFactory.setMessageConverter(consumerJackson2MessageConverter());\n        return messageHandlerMethodFactory;\n    }\n\n    @Override\n    public void configureRabbitListeners(RabbitListenerEndpointRegistrar registrar) {\n        registrar.setMessageHandlerMethodFactory(messageHandlerMethodFactory());\n    }\n\n    @Bean\n    public DirectExchange statementExchange() {\n        return ExchangeBuilder.directExchange(ASSISTANT_STATEMENT_EXCHANGE).build();\n    }\n\n    @Bean\n    public Queue statementLoadRequestQueue() {\n        return QueueBuilder.durable(STATEMENTS_LOAD_RESPONSE_QUEUE).build();\n    }\n\n\n    @Bean\n    public Binding statementLoadRequestBinding() {\n        return BindingBuilder.bind(statementLoadRequestQueue())\n                .to(statementExchange())\n                .with(LOAD_REQUEST_KEY);\n    }\n</code></pre>\n<p>I also have a message sender:</p>\n<pre><code>@Log4j2\n@Component\n@RequiredArgsConstructor\npublic class StatementEmitter {\n    private final AmqpTemplate template;\n    private final DirectExchange statementExchange;\n    private final ObjectMapper mapper;\n\n    public void requestStatement(TeacherIdDto dto) {\n        try {\n            final String json = mapper.writeValueAsString(dto);\n            Message message = MessageBuilder\n                    .withBody(json.getBytes())\n                    .setContentType(MessageProperties.CONTENT_TYPE_JSON)\n                    .setContentEncoding(&quot;UTF-8&quot;)\n                    .setDeliveryModeIfAbsentOrDefault(MessageDeliveryMode.PERSISTENT)\n                    .build();\n            template.convertAndSend(statementExchange.getName(), &quot;load.request&quot;, message);\n        } catch (JsonProcessingException e) {\n            log.error(&quot;Object mapper error: &quot; + e);\n        }\n    }\n\n</code></pre>\n<p>And consumer:</p>\n<pre><code>@Log4j2\n@Component\n@EnableRabbit\n@RequiredArgsConstructor\npublic class StatementListener {\n\n    @RabbitListener(queues = RabbitConfig.STATEMENTS_LOAD_REQUEST_QUEUE)\n    public void processLoadRequest(@NotNull Message&lt;TeacherIdDto&gt; dto) {\n        log.info(String.format(&quot;Message: %s&quot;, dto));\n    }\n}\n\n</code></pre>\n<p>Dto:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class TeacherIdDto implements Serializable {\n    private String teacherId;\n}\n</code></pre>\n<p>If I am sending json through the sender, and my consumer processes it,  I will get this error:</p>\n<pre><code>2022-11-15 02:37:00.581  INFO 12500 --- [ntContainer#1-1] r.c.t.rabbit.listener.StatementListener  : Message: GenericMessage [payload={teacherId=vbbvnbvnbnvbvn}, headers={amqp_receivedDeliveryMode=PERSISTENT, amqp_receivedRoutingKey=load.request, amqp_contentEncoding=UTF-8, amqp_receivedExchange=assistant.statement, amqp_deliveryTag=2, amqp_consumerQueue=statements.load.request, amqp_redelivered=false, id=93b00729-f3e6-92fe-c221-d686d00f8982, amqp_consumerTag=amq.ctag-HAq0NGeKCWigy9HyuNKkAA, amqp_lastInBatch=false, contentType=application/json, timestamp=1668469020581}]\n2022-11-15 02:37:00.581  WARN 12500 --- [ntContainer#0-1] s.a.r.l.ConditionalRejectingErrorHandler : Execution of Rabbit message listener failed.\n\norg.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to convert message\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:156) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1670) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1589) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1577) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1568) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1512) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:993) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:940) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:84) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1317) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1223) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\nCaused by: org.springframework.amqp.support.converter.MessageConversionException: Failed to convert Message content\n    at org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.doFromMessage(AbstractJackson2MessageConverter.java:350) ~[spring-amqp-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.fromMessage(AbstractJackson2MessageConverter.java:309) ~[spring-amqp-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.fromMessage(AbstractJackson2MessageConverter.java:292) ~[spring-amqp-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.adapter.AbstractAdaptableMessageListener.extractMessage(AbstractAdaptableMessageListener.java:342) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter$MessagingMessageConverterAdapter.extractPayload(MessagingMessageListenerAdapter.java:366) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.support.converter.MessagingMessageConverter.fromMessage(MessagingMessageConverter.java:132) ~[spring-amqp-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.toMessagingMessage(MessagingMessageListenerAdapter.java:243) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:146) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    ... 11 common frames omitted\nCaused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.lang.String` from Object value (token `JsonToken.START_OBJECT`)\n at [Source: (String)&quot;{&quot;teacherId&quot;:&quot;vbbvnbvnbnvbvn&quot;}&quot;; line: 1, column: 1]\n    at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59) ~[jackson-databind-2.13.3.jar:2.13.3]\n    at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1741) ~[jackson-databind-2.13.3.jar:2.13.3]\n    at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1515) ~[jackson-databind-2.13.3.jar:2.13.3]\n    at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1420) ~[jackson-databind-2.13.3.jar:2.13.3]\n    at com.fasterxml.jackson.databind.DeserializationContext.extractScalarFromObject(DeserializationContext.java:932) ~[jackson-databind-2.13.3.jar:2.13.3]\n    at com.fasterxml.jackson.databind.deser.std.StringDeserializer.deserialize(StringDeserializer.java:62) ~[jackson-databind-2.13.3.jar:2.13.3]\n    at com.fasterxml.jackson.databind.deser.std.StringDeserializer.deserialize(StringDeserializer.java:11) ~[jackson-databind-2.13.3.jar:2.13.3]\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323) ~[jackson-databind-2.13.3.jar:2.13.3]\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674) ~[jackson-databind-2.13.3.jar:2.13.3]\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629) ~[jackson-databind-2.13.3.jar:2.13.3]\n    at org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.convertBytesToObject(AbstractJackson2MessageConverter.java:411) ~[spring-amqp-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.convertContent(AbstractJackson2MessageConverter.java:378) ~[spring-amqp-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.doFromMessage(AbstractJackson2MessageConverter.java:347) ~[spring-amqp-2.4.6.jar:2.4.6]\n    ... 18 common frames omitted\n\n2022-11-15 02:37:00.582  WARN 12500 --- [ntContainer#0-1] ingErrorHandler$DefaultExceptionStrategy : Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'{&quot;teacherId&quot;:&quot;vbbvnbvnbnvbvn&quot;}' MessageProperties [headers={}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=assistant.statement, receivedRoutingKey=load.request, deliveryTag=2, consumerTag=amq.ctag-EoV7E816ZRxiKD0a-L-iYg, consumerQueue=statements.load.response])\n2022-11-15 02:37:00.582 ERROR 12500 --- [ntContainer#0-1] o.s.a.r.l.SimpleMessageListenerContainer : Execution of Rabbit message listener failed, and the error handler threw an exception\n\norg.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal\n    at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:146) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1474) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1758) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1533) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:993) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:940) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:84) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1317) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1223) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\nCaused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to convert message\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:156) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1670) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1589) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1577) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1568) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1512) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    ... 6 common frames omitted\nCaused by: org.springframework.amqp.support.converter.MessageConversionException: Failed to convert Message content\n    at org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.doFromMessage(AbstractJackson2MessageConverter.java:350) ~[spring-amqp-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.fromMessage(AbstractJackson2MessageConverter.java:309) ~[spring-amqp-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.fromMessage(AbstractJackson2MessageConverter.java:292) ~[spring-amqp-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.adapter.AbstractAdaptableMessageListener.extractMessage(AbstractAdaptableMessageListener.java:342) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter$MessagingMessageConverterAdapter.extractPayload(MessagingMessageListenerAdapter.java:366) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.support.converter.MessagingMessageConverter.fromMessage(MessagingMessageConverter.java:132) ~[spring-amqp-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.toMessagingMessage(MessagingMessageListenerAdapter.java:243) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:146) ~[spring-rabbit-2.4.6.jar:2.4.6]\n    ... 11 common frames omitted\nCaused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.lang.String` from Object value (token `JsonToken.START_OBJECT`)\n at [Source: (String)&quot;{&quot;teacherId&quot;:&quot;vbbvnbvnbnvbvn&quot;}&quot;; line: 1, column: 1]\n    at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59) ~[jackson-databind-2.13.3.jar:2.13.3]\n    at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1741) ~[jackson-databind-2.13.3.jar:2.13.3]\n    at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1515) ~[jackson-databind-2.13.3.jar:2.13.3]\n    at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1420) ~[jackson-databind-2.13.3.jar:2.13.3]\n    at com.fasterxml.jackson.databind.DeserializationContext.extractScalarFromObject(DeserializationContext.java:932) ~[jackson-databind-2.13.3.jar:2.13.3]\n    at com.fasterxml.jackson.databind.deser.std.StringDeserializer.deserialize(StringDeserializer.java:62) ~[jackson-databind-2.13.3.jar:2.13.3]\n    at com.fasterxml.jackson.databind.deser.std.StringDeserializer.deserialize(StringDeserializer.java:11) ~[jackson-databind-2.13.3.jar:2.13.3]\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323) ~[jackson-databind-2.13.3.jar:2.13.3]\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674) ~[jackson-databind-2.13.3.jar:2.13.3]\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629) ~[jackson-databind-2.13.3.jar:2.13.3]\n    at org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.convertBytesToObject(AbstractJackson2MessageConverter.java:411) ~[spring-amqp-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.convertContent(AbstractJackson2MessageConverter.java:378) ~[spring-amqp-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.doFromMessage(AbstractJackson2MessageConverter.java:347) ~[spring-amqp-2.4.6.jar:2.4.6]\n    ... 18 common frames omitted\n</code></pre>\n<p>But if I send the same message via the RabbitMQ interface, the error does not occur</p>\n<pre><code>2022-11-15 02:41:08.265  INFO 12500 --- [ntContainer#1-1] r.c.t.rabbit.listener.StatementListener  : Message: GenericMessage [payload={teacherId=vbbvnbvnbnvbvn}, headers={amqp_receivedDeliveryMode=PERSISTENT, amqp_receivedRoutingKey=load.request, amqp_contentEncoding=UTF-8, amqp_receivedExchange=assistant.statement, amqp_deliveryTag=4, amqp_consumerQueue=statements.load.request, amqp_redelivered=false, id=bd0ca679-bb20-4344-94e8-c3ac2dcd2712, amqp_consumerTag=amq.ctag-HAq0NGeKCWigy9HyuNKkAA, amqp_lastInBatch=false, contentType=application/json, timestamp=1668469268265}]\n</code></pre>\n<p>The body and header of the message are the same, but why does the error occur and in what place? Because the program first outputs data, and then gives an error.</p>\n<p>Also, I had the following situation.\nI force an exception during message processing. The message is returned to the queue after which it is processed without errors</p>\n"},{"tags":["java","node.js","encryption","jwt","code-conversion"],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668495184,"creation_date":1668495184,"answer_id":74441628,"question_id":74435595,"body_markdown":"First you don&#39;t need to implement the whole module, just particular algorithms from it.\r\n\r\nSecond whoever wrote that code didn&#39;t know what they were doing. SHA-256 already produces a 32-byte value (always) so `.slice(0,32)` accomplishes nothing. And `createCipher[iv]` and `createDecipher[iv]` for a block mode already add and remove &#39;PKCS5&#39; padding automatically unless explicitly disabled. (Prior to PKCS5v2.1 it was technically more correct to say PKCS7 or PKCS5/7, but in practice people often don&#39;t bother, and Java calls it PKCS5. OpenSSL, which nodejs crypto uses internally, punts and calls it PKCS padding -- although there are _several_ PKCS1 paddings which are quite different, and which OpenSSL also implements.) \r\n\r\n```Java\r\nbyte[] keyIn = &quot;0Z8ZUcy1Qh8lnt199MTwTPEe2g1E2tE3&quot; .getBytes(&quot;ASCII&quot;); \r\n    // if any non-ASCII char(s) must select same encoding nodejs does, I believe utf8\r\n    // instead of string form can use e.g. StandardCharsets.US_ASCII\r\nbyte[] keyHash = MessageDigest.getInstance(&quot;SHA-256&quot;) .doFinal(keyIn);\r\n    // or &quot;sha-256&quot; Java crypto names are case-insensitive\r\n    // can separate steps with hasher = .getInstance(); hasher.update(keyIn); result = hasher.doFinal()\r\n    // but cannot do fluent-style result = .getInstance() .update(keyIn) .doFinal()\r\nbyte[] iv = new byte[16]; // Java automatically fills numeric array with (binary) zeros\r\nCipher dec = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\ndec.init (Cipher.DECRYPT_MODE, new SecretKeySpec(keyHash,&quot;AES&quot;), new IvParameterSpec(iv));\r\nString clear = new String( dec.doFinal (Base64.getDecoder().decode( someAuthString )), &quot;UTF-8&quot;);\r\n    // or StandardCharsets.UTF_8\r\n","title":"Convert NodeJS code snippet into Java code for encryption/decryption","body":"<p>First you don't need to implement the whole module, just particular algorithms from it.</p>\n<p>Second whoever wrote that code didn't know what they were doing. SHA-256 already produces a 32-byte value (always) so <code>.slice(0,32)</code> accomplishes nothing. And <code>createCipher[iv]</code> and <code>createDecipher[iv]</code> for a block mode already add and remove 'PKCS5' padding automatically unless explicitly disabled. (Prior to PKCS5v2.1 it was technically more correct to say PKCS7 or PKCS5/7, but in practice people often don't bother, and Java calls it PKCS5. OpenSSL, which nodejs crypto uses internally, punts and calls it PKCS padding -- although there are <em>several</em> PKCS1 paddings which are quite different, and which OpenSSL also implements.)</p>\n<pre><code>byte[] keyIn = &quot;0Z8ZUcy1Qh8lnt199MTwTPEe2g1E2tE3&quot; .getBytes(&quot;ASCII&quot;); \n    // if any non-ASCII char(s) must select same encoding nodejs does, I believe utf8\n    // instead of string form can use e.g. StandardCharsets.US_ASCII\nbyte[] keyHash = MessageDigest.getInstance(&quot;SHA-256&quot;) .doFinal(keyIn);\n    // or &quot;sha-256&quot; Java crypto names are case-insensitive\n    // can separate steps with hasher = .getInstance(); hasher.update(keyIn); result = hasher.doFinal()\n    // but cannot do fluent-style result = .getInstance() .update(keyIn) .doFinal()\nbyte[] iv = new byte[16]; // Java automatically fills numeric array with (binary) zeros\nCipher dec = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\ndec.init (Cipher.DECRYPT_MODE, new SecretKeySpec(keyHash,&quot;AES&quot;), new IvParameterSpec(iv));\nString clear = new String( dec.doFinal (Base64.getDecoder().decode( someAuthString )), &quot;UTF-8&quot;);\n    // or StandardCharsets.UTF_8\n</code></pre>\n"}],"owner":{"account_id":26216671,"reputation":21,"user_id":19894717,"display_name":"alice menon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":420,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74441628,"answer_count":1,"score":0,"last_activity_date":1668495184,"creation_date":1668446760,"question_id":74435595,"body_markdown":"I want to convert this below piece of code into java but I am unable to do, Basically I have to implement &#39;crypto&#39; module in Java. Thanks in advance!\r\n\r\n```\r\n        let encKey = &quot;0Z8ZUcy1Qh8lnt199MTwTPEe2g1E2tE3&quot;;\r\n        encKey = crypto.createHash(&#39;sha256&#39;).update(encKey).digest(&#39;bin&#39;).slice(0, 32);\r\n        let char = String.fromCharCode(0x0);\r\n        let iv = char + char + char + char + char + char + char + char + char + char + char + char + char + char + char + char;\r\n        let decryptor = crypto.createDecipheriv(&quot;aes-256-cbc&quot;, encKey, iv);\r\n        let dec = decryptor.update(someAuthString, &#39;base64&#39;, &#39;utf8&#39;) + decryptor.final(&#39;utf8&#39;);\r\n        dec = removePKCS5Padding(dec);\r\n```\r\n\r\n**removePKCS5Padding**\r\n\r\n\r\n```\r\nfunction removePKCS5Padding(text) {\r\n    let pad = ord(text[text.length - 1]);\r\n    pad = text.substr(0, -1 * pad)\r\n    if (_.isEmpty(pad)) {\r\n        return text;\r\n    } else {\r\n        return pad;\r\n    }\r\n}\r\n\r\n```\r\n","title":"Convert NodeJS code snippet into Java code for encryption/decryption","body":"<p>I want to convert this below piece of code into java but I am unable to do, Basically I have to implement 'crypto' module in Java. Thanks in advance!</p>\n<pre><code>        let encKey = &quot;0Z8ZUcy1Qh8lnt199MTwTPEe2g1E2tE3&quot;;\n        encKey = crypto.createHash('sha256').update(encKey).digest('bin').slice(0, 32);\n        let char = String.fromCharCode(0x0);\n        let iv = char + char + char + char + char + char + char + char + char + char + char + char + char + char + char + char;\n        let decryptor = crypto.createDecipheriv(&quot;aes-256-cbc&quot;, encKey, iv);\n        let dec = decryptor.update(someAuthString, 'base64', 'utf8') + decryptor.final('utf8');\n        dec = removePKCS5Padding(dec);\n</code></pre>\n<p><strong>removePKCS5Padding</strong></p>\n<pre><code>function removePKCS5Padding(text) {\n    let pad = ord(text[text.length - 1]);\n    pad = text.substr(0, -1 * pad)\n    if (_.isEmpty(pad)) {\n        return text;\n    } else {\n        return pad;\n    }\n}\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1668496682,"post_id":74441618,"comment_id":131412673,"body_markdown":"So you have to send two emails to every user, what is the problem you&#39;re facing?","body":"So you have to send two emails to every user, what is the problem you&#39;re facing?"},{"owner":{"account_id":14561222,"reputation":93,"user_id":10517244,"display_name":"uma"},"score":0,"creation_date":1668497288,"post_id":74441618,"comment_id":131412820,"body_markdown":"one email for all. The problem that I face now that I can not get or retrieve these 2 emails in second class from the first methods or from the searchResultSet to put them in toEmiail variable and send an email, also I do not have any error.","body":"one email for all. The problem that I face now that I can not get or retrieve these 2 emails in second class from the first methods or from the searchResultSet to put them in toEmiail variable and send an email, also I do not have any error."}],"owner":{"account_id":14561222,"reputation":93,"user_id":10517244,"display_name":"uma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668495145,"creation_date":1668495145,"question_id":74441618,"body_markdown":"I have these 2 methods in different 2 java classes.\r\nThe target of this is to retrieve the searchResultSet and take first email and send an email then the second email and send same email.\r\n\r\nNow the resultSet gives me the emails that I want them to receive this email but it did not send any email like it did not retrieve the first email and second because I have to save these emails as string then pass them in the toEmail variable.\r\n\r\n\r\nfirst class:\r\n```\r\npublic List&lt;UserDto&gt; getEmail() {\r\n    \r\n    Connection connection = null;\r\n    \r\n    PreparedStatement preparedStatement = null;\r\n    \r\n    ResultSet searchResultSet = null;\r\n    \r\n    try {\r\n    \r\n        connection = getConnection();\r\n    \r\n        preparedStatement = connection.prepareStatement(\r\n                        &quot;SELECT EMAIL FROM USER WHERE USER.U_SEQ IN (&#39;1&#39;,&#39;650&#39;)&quot;);\r\n                \r\n        searchResultSet = preparedStatement.executeQuery();\r\n    \r\n        return getEmail(searchResultSet);\r\n    \r\n    } catch (Exception e) {\r\n        throw new RuntimeException(e);\r\n    } finally {\r\n        try {\r\n            preparedStatement.close();\r\n        } catch (SQLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n\r\n\r\nprivate List&lt;UserDto&gt; getEmail(ResultSet searchResultSet) throws SQLException {\r\n    List&lt;UserDto&gt; result = new ArrayList&lt;UserDto &gt;();\r\n\r\n    UserDto userDto = null;\r\n  \r\n    while (searchResultSet.next()) {\r\n        userDto = new UserDto();\r\n\r\n        userDto .setEmailAddress(searchResultSet.getString(1));\r\n        result.add(userDto);\r\n       \r\n     }\r\n     return result;\r\n}\r\n\r\n```\r\nafter this I have 2 emails.\r\nnow I have to take first one and send email using this in second class then the second email:\r\n\r\n```\r\nDelegate delegate = new Delegate();\r\n\r\nList&lt;UserDto&gt; users = delegate.getEmail();\r\nString toEmail = users.toString();\r\n\r\ndelegate.sendNotification(&quot;****&quot;, &quot;****&quot;, toEmail , &quot;&quot;, &quot;&quot;,\r\n                   &quot;&quot;, body);\r\n\r\n\r\n```\r\n\r\nAny ideas!!!!!","title":"retrieve emails addresses from the searchResultSet and send an email","body":"<p>I have these 2 methods in different 2 java classes.\nThe target of this is to retrieve the searchResultSet and take first email and send an email then the second email and send same email.</p>\n<p>Now the resultSet gives me the emails that I want them to receive this email but it did not send any email like it did not retrieve the first email and second because I have to save these emails as string then pass them in the toEmail variable.</p>\n<p>first class:</p>\n<pre><code>public List&lt;UserDto&gt; getEmail() {\n    \n    Connection connection = null;\n    \n    PreparedStatement preparedStatement = null;\n    \n    ResultSet searchResultSet = null;\n    \n    try {\n    \n        connection = getConnection();\n    \n        preparedStatement = connection.prepareStatement(\n                        &quot;SELECT EMAIL FROM USER WHERE USER.U_SEQ IN ('1','650')&quot;);\n                \n        searchResultSet = preparedStatement.executeQuery();\n    \n        return getEmail(searchResultSet);\n    \n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    } finally {\n        try {\n            preparedStatement.close();\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n\n\nprivate List&lt;UserDto&gt; getEmail(ResultSet searchResultSet) throws SQLException {\n    List&lt;UserDto&gt; result = new ArrayList&lt;UserDto &gt;();\n\n    UserDto userDto = null;\n  \n    while (searchResultSet.next()) {\n        userDto = new UserDto();\n\n        userDto .setEmailAddress(searchResultSet.getString(1));\n        result.add(userDto);\n       \n     }\n     return result;\n}\n\n</code></pre>\n<p>after this I have 2 emails.\nnow I have to take first one and send email using this in second class then the second email:</p>\n<pre><code>Delegate delegate = new Delegate();\n\nList&lt;UserDto&gt; users = delegate.getEmail();\nString toEmail = users.toString();\n\ndelegate.sendNotification(&quot;****&quot;, &quot;****&quot;, toEmail , &quot;&quot;, &quot;&quot;,\n                   &quot;&quot;, body);\n\n\n</code></pre>\n<p>Any ideas!!!!!</p>\n"},{"tags":["java","android","flutter","gradle","android-gradle-plugin"],"answers":[{"tags":[],"owner":{"account_id":21224802,"reputation":1804,"user_id":15610685,"display_name":"Deepak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668495035,"creation_date":1668495035,"answer_id":74441595,"question_id":74408160,"body_markdown":"```\r\nActually I have just upgraded my Flutter yesterday.\r\n\r\nFlutter (Channel stable, 3.3.0, on macOS 12.4 21F79 darwin-arm, locale en-IN)\r\n\r\nI am using the latest version video_player: ^2.4.7\r\n\r\nBut, finally I have resolved this issue by\r\n\r\nreplace build.gradle\r\n\r\nfrom\r\n\r\nclasspath &#39;com.android.tools.build:gradle:4.1.0&#39;\r\n\r\nTo\r\n\r\nclasspath &#39;com.android.tools.build:gradle:7.1.2&#39;\r\n\r\nAnd\r\n\r\nAlso replaced gradle-wrapper.properties\r\n\r\nFrom\r\n\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-6.7-all.zip\r\n\r\nTo\r\n\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.4-all.zip\r\n\r\nAnd it start working...\r\n```","title":"Flutter error : Lint infrastructure error","body":"<pre><code>Actually I have just upgraded my Flutter yesterday.\n\nFlutter (Channel stable, 3.3.0, on macOS 12.4 21F79 darwin-arm, locale en-IN)\n\nI am using the latest version video_player: ^2.4.7\n\nBut, finally I have resolved this issue by\n\nreplace build.gradle\n\nfrom\n\nclasspath 'com.android.tools.build:gradle:4.1.0'\n\nTo\n\nclasspath 'com.android.tools.build:gradle:7.1.2'\n\nAnd\n\nAlso replaced gradle-wrapper.properties\n\nFrom\n\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-6.7-all.zip\n\nTo\n\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.4-all.zip\n\nAnd it start working...\n</code></pre>\n"}],"owner":{"account_id":21224802,"reputation":1804,"user_id":15610685,"display_name":"Deepak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668495035,"creation_date":1668200983,"question_id":74408160,"body_markdown":"In bellow gradle file when I am adding lint that type then I got Error number one type error. \r\n\r\n```\r\nandroid {\r\n    compileSdkVersion 33\r\n\r\n    compileOptions {\r\n        coreLibraryDesugaringEnabled true\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n\r\n    sourceSets {\r\n        main.java.srcDirs += &#39;src/main/kotlin&#39;\r\n    }\r\n\r\n    defaultConfig {\r\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\r\n        applicationId &quot;com.wealth.bonanza&quot;\r\n        minSdkVersion 30\r\n        targetSdkVersion 33\r\n        versionCode flutterVersionCode.toInteger()\r\n        versionName flutterVersionName\r\n        multiDexEnabled true\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            // TODO: Add your own signing config for the release build.\r\n            // Signing with the debug keys for now, so `flutter run --release` works.\r\n            signingConfig signingConfigs.debug\r\n        }\r\n    }\r\n\r\n// Here This line\r\n    lintOptions {\r\n        disable &#39;InvalidPackage&#39;\r\n        disable &quot;Instantiatable&quot;\r\n        checkReleaseBuilds false\r\n        abortOnError false\r\n    }\r\n}\r\n```\r\nError number one\r\n--\r\n```\r\nC:\\src\\flutter\\bin\\flutter.bat --no-color build apk\r\n\r\n Building with sound null safety \r\n\r\nRunning Gradle task &#39;assembleRelease&#39;...                        \r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:permission_handler_android:extractReleaseAnnotations&#39;.\r\n&gt; Lint infrastructure error\r\n  Caused by: java.lang.reflect.InvocationTargetException\r\n  \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n  \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n  \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n  \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n  \tat com.android.tools.lint.gradle.api.ReflectiveLintRunner.extractAnnotations(ReflectiveLintRunner.kt:63)\r\n  \tat com.android.build.gradle.tasks.ExtractAnnotations.doTaskAction(ExtractAnnotations.java:227)\r\n  \tat com.android.build.gradle.internal.tasks.NonIncrementalTask$taskAction$$inlined$recordTaskAction$1.invoke(BaseTask.kt:63)\r\n  \tat com.android.build.gradle.internal.tasks.Blocks.recordSpan(Blocks.java:51)\r\n  \tat com.android.build.gradle.internal.tasks.NonIncrementalTask.taskAction(NonIncrementalTask.kt:90)\r\n  \tat jdk.internal.reflect.GeneratedMethodAccessor230.invoke(Unknown Source)\r\n  \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n  \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n  \tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\r\n  \tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:58)\r\n  \tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\r\n  \tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\r\n  \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$3.run(ExecuteActionsTaskExecuter.java:555)\r\n  \tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n  \tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n  \tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n  \tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n  \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n  \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n  \tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n  \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\r\n  \tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n  \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\r\n  \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:540)\r\n  \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:523)\r\n  \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.access$300(ExecuteActionsTaskExecuter.java:108)\r\n  \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.executeWithPreviousOutputFiles(ExecuteActionsTaskExecuter.java:271)\r\n  \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:260)\r\n  \tat org.gradle.internal.execution.steps.ExecuteStep.lambda$execute$1(ExecuteStep.java:34)\r\n  \tat java.base/java.util.Optional.orElseGet(Optional.java:369)\r\n  \tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:34)\r\n  \tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:26)\r\n  \tat org.gradle.internal.execution.steps.CleanupOutputsStep.execute(CleanupOutputsStep.java:67)\r\n  \tat org.gradle.internal.execution.steps.CleanupOutputsStep.execute(CleanupOutputsStep.java:36)\r\n  \tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:49)\r\n  \tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:34)\r\n  \tat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:43)\r\n  \tat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:73)\r\n  \tat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:54)\r\n  \tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:44)\r\n  \tat org.gradle.internal.execution.steps.SnapshotOutputsStep.execute(SnapshotOutputsStep.java:54)\r\n  \tat org.gradle.internal.execution.steps.SnapshotOutputsStep.execute(SnapshotOutputsStep.java:38)\r\n  \tat org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:42)\r\n  \tat org.gradle.internal.execution.steps.CacheStep.executeWithoutCache(CacheStep.java:159)\r\n  \tat org.gradle.internal.execution.steps.CacheStep.execute(CacheStep.java:72)\r\n  \tat org.gradle.internal.execution.steps.CacheStep.execute(CacheStep.java:43)\r\n  \tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:44)\r\n  \tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:33)\r\n  \tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:38)\r\n  \tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:24)\r\n  \tat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:92)\r\n  \tat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$0(SkipUpToDateStep.java:85)\r\n  \tat java.base/java.util.Optional.map(Optional.java:265)\r\n  \tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:55)\r\n  \tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:39)\r\n  \tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:76)\r\n  \tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:37)\r\n  \tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:36)\r\n  \tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:26)\r\n  \tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:94)\r\n  \tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:49)\r\n  \tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:79)\r\n  \tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:53)\r\n  \tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:74)\r\n  \tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.lambda$execute$2(SkipEmptyWorkStep.java:78)\r\n  \tat java.base/java.util.Optional.orElseGet(Optional.java:369)\r\n  \tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:78)\r\n  \tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:34)\r\n  \tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:39)\r\n  \tat org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:40)\r\n  \tat org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:28)\r\n  \tat org.gradle.internal.execution.impl.DefaultWorkExecutor.execute(DefaultWorkExecutor.java:33)\r\n  \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:187)\r\n  \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:179)\r\n  \tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:109)\r\n  \tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n  \tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\r\n  \tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n  \tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n  \tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n  \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n  \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n  \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n  \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n  \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n  \tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n  \tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n  \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n  \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n  \tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n  \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\r\n  \tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n  \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\r\n  \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n  \tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\r\n  \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:372)\r\n  \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:359)\r\n  \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:352)\r\n  \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:338)\r\n  \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\r\n  \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\r\n  \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\r\n  \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\r\n  \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n  \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n  \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n  \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n  \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n  \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n  Caused by: java.lang.NullPointerException\r\n  \tat java.base/java.io.Reader.&lt;init&gt;(Reader.java:167)\r\n  \tat java.base/java.io.InputStreamReader.&lt;init&gt;(InputStreamReader.java:109)\r\n  \tat com.intellij.ide.plugins.PluginManagerCore.getBrokenPluginVersions(PluginManagerCore.java:207)\r\n  \tat com.intellij.ide.plugins.PluginManagerCore.createLoadingResult(PluginManagerCore.java:825)\r\n  \tat com.intellij.ide.plugins.DescriptorListLoadingContext.createSingleDescriptorContext(DescriptorListLoadingContext.java:61)\r\n  \tat com.intellij.ide.plugins.PluginManagerCore.registerExtensionPointAndExtensions(PluginManagerCore.java:1397)\r\n  \tat com.intellij.core.CoreApplicationEnvironment.registerExtensionPointAndExtensions(CoreApplicationEnvironment.java:266)\r\n  \tat org.jetbrains.kotlin.cli.jvm.compiler.CoreApplicationEnvironmentCompatKt.registerExtensionPointAndExtensionsEx(coreApplicationEnvironmentCompat.kt:17)\r\n  \tat org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreEnvironment$Companion.registerApplicationExtensionPointsAndExtensionsFrom(KotlinCoreEnvironment.kt:536)\r\n  \tat org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreEnvironment$Companion.createApplicationEnvironment(KotlinCoreEnvironment.kt:507)\r\n  \tat org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreEnvironment$Companion.getOrCreateApplicationEnvironmentForProduction(KotlinCoreEnvironment.kt:467)\r\n  \tat org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreEnvironment$Companion.createForProduction(KotlinCoreEnvironment.kt:421)\r\n  \tat com.android.tools.lint.UastEnvironmentKt.createKotlinCompilerEnv(UastEnvironment.kt:340)\r\n  \tat com.android.tools.lint.UastEnvironmentKt.access$createKotlinCompilerEnv(UastEnvironment.kt:1)\r\n  \tat com.android.tools.lint.UastEnvironment$Companion.create(UastEnvironment.kt:176)\r\n  \tat com.android.tools.lint.gradle.LintExtractAnnotations.extractAnnotations(LintExtractAnnotations.kt:44)\r\n  \t... 113 more\r\n\r\n\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 2m 56s\r\nRunning Gradle task &#39;assembleRelease&#39;...                          177.7s\r\nGradle task assembleRelease failed with exit code 1\r\nProcess finished with exit code 1\r\n```\r\n\r\nwhen I am not using lint then i got this error\r\n--\r\n\r\nthen i am getting this error\r\n--\r\n```\r\nC:\\src\\flutter\\bin\\flutter.bat --no-color build apk\r\n\r\n Building with sound null safety \r\n\r\nRunning Gradle task &#39;assembleRelease&#39;...                        \r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:lintVitalRelease&#39;.\r\n&gt; Could not resolve all artifacts for configuration &#39;:flutter_local_notifications:debugUnitTestRuntimeClasspath&#39;.\r\n   &gt; Failed to transform bcprov-jdk15on-1.68.jar (org.bouncycastle:bcprov-jdk15on:1.68) to match attributes {artifactType=processed-jar, org.gradle.category=library, org.gradle.libraryelements=jar, org.gradle.status=release, org.gradle.usage=java-runtime}.\r\n      &gt; Execution failed for JetifyTransform: C:\\Users\\dell\\.gradle\\caches\\modules-2\\files-2.1\\org.bouncycastle\\bcprov-jdk15on\\1.68\\46a080368d38b428d237a59458f9bc915222894d\\bcprov-jdk15on-1.68.jar.\r\n         &gt; Failed to transform &#39;C:\\Users\\dell\\.gradle\\caches\\modules-2\\files-2.1\\org.bouncycastle\\bcprov-jdk15on\\1.68\\46a080368d38b428d237a59458f9bc915222894d\\bcprov-jdk15on-1.68.jar&#39; using Jetifier. Reason: IllegalArgumentException, message: Unsupported class file major version 59. (Run with --stacktrace for more details.)\r\n           Suggestions:\r\n            - Check out existing issues at https://issuetracker.google.com/issues?q=componentid:460323&amp;s=modified_time:desc, it&#39;s possible that this issue has already been filed there.\r\n            - If this issue has not been filed, please report it at https://issuetracker.google.com/issues/new?component=460323 (run with --stacktrace and provide a stack trace if possible).\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 3m 4s\r\nRunning Gradle task &#39;assembleRelease&#39;...                          185.4s\r\nGradle task assembleRelease failed with exit code 1\r\nProcess finished with exit code 1\r\n```","title":"Flutter error : Lint infrastructure error","body":"<p>In bellow gradle file when I am adding lint that type then I got Error number one type error.</p>\n<pre><code>android {\n    compileSdkVersion 33\n\n    compileOptions {\n        coreLibraryDesugaringEnabled true\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n\n    defaultConfig {\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\n        applicationId &quot;com.wealth.bonanza&quot;\n        minSdkVersion 30\n        targetSdkVersion 33\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n        multiDexEnabled true\n    }\n\n    buildTypes {\n        release {\n            // TODO: Add your own signing config for the release build.\n            // Signing with the debug keys for now, so `flutter run --release` works.\n            signingConfig signingConfigs.debug\n        }\n    }\n\n// Here This line\n    lintOptions {\n        disable 'InvalidPackage'\n        disable &quot;Instantiatable&quot;\n        checkReleaseBuilds false\n        abortOnError false\n    }\n}\n</code></pre>\n<h2>Error number one</h2>\n<pre><code>C:\\src\\flutter\\bin\\flutter.bat --no-color build apk\n\n Building with sound null safety \n\nRunning Gradle task 'assembleRelease'...                        \nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':permission_handler_android:extractReleaseAnnotations'.\n&gt; Lint infrastructure error\n  Caused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at com.android.tools.lint.gradle.api.ReflectiveLintRunner.extractAnnotations(ReflectiveLintRunner.kt:63)\n    at com.android.build.gradle.tasks.ExtractAnnotations.doTaskAction(ExtractAnnotations.java:227)\n    at com.android.build.gradle.internal.tasks.NonIncrementalTask$taskAction$$inlined$recordTaskAction$1.invoke(BaseTask.kt:63)\n    at com.android.build.gradle.internal.tasks.Blocks.recordSpan(Blocks.java:51)\n    at com.android.build.gradle.internal.tasks.NonIncrementalTask.taskAction(NonIncrementalTask.kt:90)\n    at jdk.internal.reflect.GeneratedMethodAccessor230.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:58)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$3.run(ExecuteActionsTaskExecuter.java:555)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:540)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:523)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.access$300(ExecuteActionsTaskExecuter.java:108)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.executeWithPreviousOutputFiles(ExecuteActionsTaskExecuter.java:271)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:260)\n    at org.gradle.internal.execution.steps.ExecuteStep.lambda$execute$1(ExecuteStep.java:34)\n    at java.base/java.util.Optional.orElseGet(Optional.java:369)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:34)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:26)\n    at org.gradle.internal.execution.steps.CleanupOutputsStep.execute(CleanupOutputsStep.java:67)\n    at org.gradle.internal.execution.steps.CleanupOutputsStep.execute(CleanupOutputsStep.java:36)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:49)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:34)\n    at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:43)\n    at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:73)\n    at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:54)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:44)\n    at org.gradle.internal.execution.steps.SnapshotOutputsStep.execute(SnapshotOutputsStep.java:54)\n    at org.gradle.internal.execution.steps.SnapshotOutputsStep.execute(SnapshotOutputsStep.java:38)\n    at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:42)\n    at org.gradle.internal.execution.steps.CacheStep.executeWithoutCache(CacheStep.java:159)\n    at org.gradle.internal.execution.steps.CacheStep.execute(CacheStep.java:72)\n    at org.gradle.internal.execution.steps.CacheStep.execute(CacheStep.java:43)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:44)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:33)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:38)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:24)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:92)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$0(SkipUpToDateStep.java:85)\n    at java.base/java.util.Optional.map(Optional.java:265)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:55)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:39)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:76)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:37)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:36)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:26)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:94)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:49)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:79)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:53)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:74)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.lambda$execute$2(SkipEmptyWorkStep.java:78)\n    at java.base/java.util.Optional.orElseGet(Optional.java:369)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:78)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:34)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:39)\n    at org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:40)\n    at org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:28)\n    at org.gradle.internal.execution.impl.DefaultWorkExecutor.execute(DefaultWorkExecutor.java:33)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:187)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:179)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:109)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:372)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:359)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:352)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:338)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n  Caused by: java.lang.NullPointerException\n    at java.base/java.io.Reader.&lt;init&gt;(Reader.java:167)\n    at java.base/java.io.InputStreamReader.&lt;init&gt;(InputStreamReader.java:109)\n    at com.intellij.ide.plugins.PluginManagerCore.getBrokenPluginVersions(PluginManagerCore.java:207)\n    at com.intellij.ide.plugins.PluginManagerCore.createLoadingResult(PluginManagerCore.java:825)\n    at com.intellij.ide.plugins.DescriptorListLoadingContext.createSingleDescriptorContext(DescriptorListLoadingContext.java:61)\n    at com.intellij.ide.plugins.PluginManagerCore.registerExtensionPointAndExtensions(PluginManagerCore.java:1397)\n    at com.intellij.core.CoreApplicationEnvironment.registerExtensionPointAndExtensions(CoreApplicationEnvironment.java:266)\n    at org.jetbrains.kotlin.cli.jvm.compiler.CoreApplicationEnvironmentCompatKt.registerExtensionPointAndExtensionsEx(coreApplicationEnvironmentCompat.kt:17)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreEnvironment$Companion.registerApplicationExtensionPointsAndExtensionsFrom(KotlinCoreEnvironment.kt:536)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreEnvironment$Companion.createApplicationEnvironment(KotlinCoreEnvironment.kt:507)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreEnvironment$Companion.getOrCreateApplicationEnvironmentForProduction(KotlinCoreEnvironment.kt:467)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreEnvironment$Companion.createForProduction(KotlinCoreEnvironment.kt:421)\n    at com.android.tools.lint.UastEnvironmentKt.createKotlinCompilerEnv(UastEnvironment.kt:340)\n    at com.android.tools.lint.UastEnvironmentKt.access$createKotlinCompilerEnv(UastEnvironment.kt:1)\n    at com.android.tools.lint.UastEnvironment$Companion.create(UastEnvironment.kt:176)\n    at com.android.tools.lint.gradle.LintExtractAnnotations.extractAnnotations(LintExtractAnnotations.kt:44)\n    ... 113 more\n\n\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 2m 56s\nRunning Gradle task 'assembleRelease'...                          177.7s\nGradle task assembleRelease failed with exit code 1\nProcess finished with exit code 1\n</code></pre>\n<h2>when I am not using lint then i got this error</h2>\n<h2>then i am getting this error</h2>\n<pre><code>C:\\src\\flutter\\bin\\flutter.bat --no-color build apk\n\n Building with sound null safety \n\nRunning Gradle task 'assembleRelease'...                        \n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:lintVitalRelease'.\n&gt; Could not resolve all artifacts for configuration ':flutter_local_notifications:debugUnitTestRuntimeClasspath'.\n   &gt; Failed to transform bcprov-jdk15on-1.68.jar (org.bouncycastle:bcprov-jdk15on:1.68) to match attributes {artifactType=processed-jar, org.gradle.category=library, org.gradle.libraryelements=jar, org.gradle.status=release, org.gradle.usage=java-runtime}.\n      &gt; Execution failed for JetifyTransform: C:\\Users\\dell\\.gradle\\caches\\modules-2\\files-2.1\\org.bouncycastle\\bcprov-jdk15on\\1.68\\46a080368d38b428d237a59458f9bc915222894d\\bcprov-jdk15on-1.68.jar.\n         &gt; Failed to transform 'C:\\Users\\dell\\.gradle\\caches\\modules-2\\files-2.1\\org.bouncycastle\\bcprov-jdk15on\\1.68\\46a080368d38b428d237a59458f9bc915222894d\\bcprov-jdk15on-1.68.jar' using Jetifier. Reason: IllegalArgumentException, message: Unsupported class file major version 59. (Run with --stacktrace for more details.)\n           Suggestions:\n            - Check out existing issues at https://issuetracker.google.com/issues?q=componentid:460323&amp;s=modified_time:desc, it's possible that this issue has already been filed there.\n            - If this issue has not been filed, please report it at https://issuetracker.google.com/issues/new?component=460323 (run with --stacktrace and provide a stack trace if possible).\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 3m 4s\nRunning Gradle task 'assembleRelease'...                          185.4s\nGradle task assembleRelease failed with exit code 1\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["java","oop","design-patterns","adapter"],"answers":[{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668494931,"creation_date":1668423007,"answer_id":74430460,"question_id":74430191,"body_markdown":"As [wiki][1] says:\r\n\r\n&gt; the adapter pattern is a software design pattern (also known as\r\n&gt; wrapper, an alternative naming shared with the decorator pattern) that\r\n&gt; allows the interface of an existing class to be used as another\r\n&gt; interface.[1] It is often used to make existing classes work with\r\n&gt; others without modifying their source code.\r\n\r\nyeah, this is Adapter pattern in action. Why? As you adapted your method `getCreateDate` to return `LocalDate` type.\r\n\r\n\r\nOne thing should be considered that both classes should share some abstraction like Abstract class or interface. It is necessary to be interchangeable. Let me show an example.\r\n\r\nWe need some abstraction like interface:\r\n\r\n\tpublic interface IProduct\r\n\t{\r\n\t\tpublic LocalDate getCreateDate();\r\n\r\n\t\tpublic int getId();\r\n\t}\r\n\r\nAnd `Product` class:\r\n\r\n\tpublic class Product : IProduct\r\n\t{\r\n\t\tpublic LocalDate getCreateDate()\r\n\t\t{\r\n\t\t\tthrow new NotImplementedException();\r\n\t\t}\r\n\r\n\t\tpublic int getId()\r\n\t\t{\r\n\t\t\tthrow new NotImplementedException();\r\n\t\t}\r\n\t}\r\n\t\r\nAnd:\r\n\r\n\t\r\n\tpublic class ProductExampleAdapter : IProduct // &quot;implements&quot; in Java\r\n\t{\r\n\r\n\t\tprivate final ProductExample productExample;\r\n\r\n\t\tpublic ProductExampleAdapter(ProductExample productExample)\t{\r\n\t\t\tthis.productExample = productExample;\r\n\t\t}\r\n\r\n\t\tpublic LocalDate getCreateDate() {\r\n\t\t\treturn productExample.getCreateDate().toInstant()\r\n\t\t\t\t\t.atZone(ZoneId.systemDefault())\r\n\t\t\t\t\t.toLocalDate();\r\n\t\t}\r\n\r\n\t\tpublic Integer getId() {\r\n\t\t\treturn productExample.getId();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic class ProductExample\t{\r\n\r\n\t}\r\n\t\r\nAnd then it can be used like this:\r\n\r\n\r\n\tList&lt;IProduct&gt; products = new List&lt;IProduct&gt;();\r\n\tproducts.Add(new Product());\r\n\tproducts.Add(new ProductExampleAdapter(new ProductExample()));\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Adapter_pattern","title":"Hide third party class&#39;s java.util.date behind adapter pattern? (wrapper)","body":"<p>As <a href=\"https://en.wikipedia.org/wiki/Adapter_pattern\" rel=\"nofollow noreferrer\">wiki</a> says:</p>\n<blockquote>\n<p>the adapter pattern is a software design pattern (also known as\nwrapper, an alternative naming shared with the decorator pattern) that\nallows the interface of an existing class to be used as another\ninterface.<a href=\"https://en.wikipedia.org/wiki/Adapter_pattern\" rel=\"nofollow noreferrer\">1</a> It is often used to make existing classes work with\nothers without modifying their source code.</p>\n</blockquote>\n<p>yeah, this is Adapter pattern in action. Why? As you adapted your method <code>getCreateDate</code> to return <code>LocalDate</code> type.</p>\n<p>One thing should be considered that both classes should share some abstraction like Abstract class or interface. It is necessary to be interchangeable. Let me show an example.</p>\n<p>We need some abstraction like interface:</p>\n<pre><code>public interface IProduct\n{\n    public LocalDate getCreateDate();\n\n    public int getId();\n}\n</code></pre>\n<p>And <code>Product</code> class:</p>\n<pre><code>public class Product : IProduct\n{\n    public LocalDate getCreateDate()\n    {\n        throw new NotImplementedException();\n    }\n\n    public int getId()\n    {\n        throw new NotImplementedException();\n    }\n}\n</code></pre>\n<p>And:</p>\n<pre><code>public class ProductExampleAdapter : IProduct // &quot;implements&quot; in Java\n{\n\n    private final ProductExample productExample;\n\n    public ProductExampleAdapter(ProductExample productExample) {\n        this.productExample = productExample;\n    }\n\n    public LocalDate getCreateDate() {\n        return productExample.getCreateDate().toInstant()\n                .atZone(ZoneId.systemDefault())\n                .toLocalDate();\n    }\n\n    public Integer getId() {\n        return productExample.getId();\n    }\n}\n\npublic class ProductExample {\n\n}\n</code></pre>\n<p>And then it can be used like this:</p>\n<pre><code>List&lt;IProduct&gt; products = new List&lt;IProduct&gt;();\nproducts.Add(new Product());\nproducts.Add(new ProductExampleAdapter(new ProductExample()));\n</code></pre>\n"}],"owner":{"account_id":11407057,"reputation":387,"user_id":8362224,"display_name":"LagSurfer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74430460,"answer_count":1,"score":2,"last_activity_date":1668494931,"creation_date":1668421780,"question_id":74430191,"body_markdown":"Is this considered adapter pattern? Is this a valid use case? Is it a good implementation?     \r\n\r\n    // cannot change this class\r\n    public class ProductExample {\r\n      private Date createDate;\r\n\r\n      private Integer id;\r\n\r\n      public Date getCreateDate() {\r\n        return createDate;\r\n      }\r\n\r\n      public Integer getId() {\r\n        return id;\r\n      }\r\n  } \r\n  \r\n    public class ProductExampleAdapter {\r\n\r\n      private final ProductExample productExample;\r\n\r\n      public ProductExampleAdapter(ProductExample productExample) {\r\n        this.productExample = productExample;\r\n      }\r\n\r\n      public LocalDate getCreateDate() {\r\n        return productExample.getCreateDate().toInstant()\r\n                .atZone(ZoneId.systemDefault())\r\n                .toLocalDate();\r\n      }\r\n\r\n      public Integer getId() {\r\n        return productExample.getId();\r\n      }\r\n  }\r\n\r\nI&#39;m just trying to hide the old java.util.Date API and use the new LocalDate instead in my code. ","title":"Hide third party class&#39;s java.util.date behind adapter pattern? (wrapper)","body":"<p>Is this considered adapter pattern? Is this a valid use case? Is it a good implementation?</p>\n<pre><code>// cannot change this class\npublic class ProductExample {\n  private Date createDate;\n\n  private Integer id;\n\n  public Date getCreateDate() {\n    return createDate;\n  }\n\n  public Integer getId() {\n    return id;\n  }\n</code></pre>\n<p>}</p>\n<pre><code>public class ProductExampleAdapter {\n\n  private final ProductExample productExample;\n\n  public ProductExampleAdapter(ProductExample productExample) {\n    this.productExample = productExample;\n  }\n\n  public LocalDate getCreateDate() {\n    return productExample.getCreateDate().toInstant()\n            .atZone(ZoneId.systemDefault())\n            .toLocalDate();\n  }\n\n  public Integer getId() {\n    return productExample.getId();\n  }\n</code></pre>\n<p>}</p>\n<p>I'm just trying to hide the old java.util.Date API and use the new LocalDate instead in my code.</p>\n"},{"tags":["java","sikuli"],"owner":{"account_id":16946133,"reputation":21,"user_id":12256866,"display_name":"Rakesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":744,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668494676,"creation_date":1668494676,"question_id":74441518,"body_markdown":"we have two servers, say server A and server B (Windows). I am executing a skuli script present in server B from server A using power shell script:\r\n\r\n\r\n```\r\n```\r\n $scriptblock = {\r\n    D:\r\n    cd ssedesktopautomation\r\n    mvn test -Dtest=&quot;AexeoTest#aexeoreporter_test&quot;\r\n}\r\n\r\n\r\nPS C:\\WINDOWS\\system32&gt; Invoke-Command -ComputerName ServerB -ScriptBlock $scriptblock\r\n```\r\n```\r\nbut i am  getting error:\r\n\r\n [error] Mouse: not useable (blocked)\r\n\r\nNote: Both server A and server B is in running state (with screen open) \r\n\r\nwhen executed from a sikuli script remotely, it should be identifying images and perform the actions on target server since as I have that remote server opened using Remote Desktop Connection","title":"Error mouse: not useable (blocked) on executing sikuli automation script remotely","body":"<p>we have two servers, say server A and server B (Windows). I am executing a skuli script present in server B from server A using power shell script:</p>\n<pre><code></code></pre>\n<p>$scriptblock = {\nD:\ncd ssedesktopautomation\nmvn test -Dtest=&quot;AexeoTest#aexeoreporter_test&quot;\n}</p>\n<p>PS C:\\WINDOWS\\system32&gt; Invoke-Command -ComputerName ServerB -ScriptBlock $scriptblock</p>\n<pre><code></code></pre>\n<p>but i am  getting error:</p>\n<p>[error] Mouse: not useable (blocked)</p>\n<p>Note: Both server A and server B is in running state (with screen open)</p>\n<p>when executed from a sikuli script remotely, it should be identifying images and perform the actions on target server since as I have that remote server opened using Remote Desktop Connection</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"display_name":"user8304564"},"score":0,"creation_date":1500632896,"post_id":45235198,"comment_id":77436245,"body_markdown":"I will immediately accept the working answer!","body":"I will immediately accept the working answer!"}],"answers":[{"tags":[],"owner":{"account_id":304968,"reputation":56727,"user_id":614807,"accept_rate":73,"display_name":"Chirag"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1500632891,"creation_date":1500632891,"answer_id":45235297,"question_id":45235198,"body_markdown":"The main functionality of the InputText Layout is floating edittext, password toggling and error visible.\r\n\r\nSo if you want hint above edittext then please take one textview and set edittext below it.\r\n\r\n**Don&#39;t use TextInput layout if you don&#39;t want the exact behaviour provided by it.**","title":"Set hint of textinputlayout ALWAYS above edittext?","body":"<p>The main functionality of the InputText Layout is floating edittext, password toggling and error visible.</p>\n\n<p>So if you want hint above edittext then please take one textview and set edittext below it.</p>\n\n<p><strong>Don't use TextInput layout if you don't want the exact behaviour provided by it.</strong></p>\n"},{"tags":[],"owner":{"account_id":6546418,"reputation":491,"user_id":7670871,"display_name":"Deep Naik"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1500640937,"creation_date":1500637467,"answer_id":45236828,"question_id":45235198,"body_markdown":"  this will solve your problem\r\n     \r\n\r\n    &lt;RelativeLayout \r\n     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n     xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n     xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n     android:id=&quot;@+id/relativeID&quot;\r\n     android:layout_width=&quot;match_parent&quot;\r\n     android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n    &lt;android.support.v7.widget.RecyclerView\r\n        android:id=&quot;@+id/messageRecyclerView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/linearLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:padding=&quot;12dp&quot;&gt;\r\n        &lt;android.support.design.widget.TextInputLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:hint=&quot;My Hint Text&quot;\r\n                    android:layout_marginTop=&quot;@dimen/activity_vertical_margin&quot;\r\n                    app:hintTextAppearance=&quot;@android:style/TextAppearance.Small&quot;&gt;\r\n\r\n                    &lt;EditText\r\n                        android:id=&quot;@+id/ed&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:enabled=&quot;false&quot;\r\n                        android:hint=&quot;Type here&quot;\r\n                        android:paddingTop=&quot;0dp&quot;\r\n                        android:textColor=&quot;@color/white&quot;\r\n                        android:textSize=&quot;20sp&quot;\r\n                       /&gt;\r\n\r\n                &lt;/android.support.design.widget.TextInputLayout&gt;","title":"Set hint of textinputlayout ALWAYS above edittext?","body":"<p>this will solve your problem</p>\n\n<pre><code>&lt;RelativeLayout \n xmlns:android=\"http://schemas.android.com/apk/res/android\"\n xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n xmlns:tools=\"http://schemas.android.com/tools\"\n android:id=\"@+id/relativeID\"\n android:layout_width=\"match_parent\"\n android:layout_height=\"wrap_content\"&gt;\n\n&lt;android.support.v7.widget.RecyclerView\n    android:id=\"@+id/messageRecyclerView\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\" /&gt;\n\n&lt;LinearLayout\n    android:id=\"@+id/linearLayout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"vertical\"\n    android:padding=\"12dp\"&gt;\n    &lt;android.support.design.widget.TextInputLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:hint=\"My Hint Text\"\n                android:layout_marginTop=\"@dimen/activity_vertical_margin\"\n                app:hintTextAppearance=\"@android:style/TextAppearance.Small\"&gt;\n\n                &lt;EditText\n                    android:id=\"@+id/ed\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:enabled=\"false\"\n                    android:hint=\"Type here\"\n                    android:paddingTop=\"0dp\"\n                    android:textColor=\"@color/white\"\n                    android:textSize=\"20sp\"\n                   /&gt;\n\n            &lt;/android.support.design.widget.TextInputLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4824539,"reputation":969,"user_id":3894304,"display_name":"Marcel Hofgesang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644877561,"creation_date":1641312691,"answer_id":70581775,"question_id":45235198,"body_markdown":"I just wanted to have the hint always on top too. Must say @Chirag has an important point, but I wanted an easy way for the `endIcon` functionality.\r\n\r\nSo very simple workaround: **set a blank into the `TextInputEditText` e.g.**\r\n\r\n\r\n```\r\n&lt;com.google.android.material.textfield.TextInputLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:hint=&quot;@string/hint_text&quot; &gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputEditText\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot; &quot; /&gt;\r\n\r\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n```\r\n\r\nWhen processing the input I make sure if the blank was deleted.","title":"Set hint of textinputlayout ALWAYS above edittext?","body":"<p>I just wanted to have the hint always on top too. Must say @Chirag has an important point, but I wanted an easy way for the <code>endIcon</code> functionality.</p>\n<p>So very simple workaround: <strong>set a blank into the <code>TextInputEditText</code> e.g.</strong></p>\n<pre><code>&lt;com.google.android.material.textfield.TextInputLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:hint=&quot;@string/hint_text&quot; &gt;\n\n    &lt;com.google.android.material.textfield.TextInputEditText\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot; &quot; /&gt;\n\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n<p>When processing the input I make sure if the blank was deleted.</p>\n"},{"tags":[],"owner":{"account_id":9207715,"reputation":2799,"user_id":6842292,"display_name":"Vin Norman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668494654,"creation_date":1668494654,"answer_id":74441514,"question_id":45235198,"body_markdown":"things have moved on since these answers, there&#39;s a simple property that will do exactly this.\r\n\r\n     &lt;com.google.android.material.textfield.TextInputLayout\r\n           // your other properties\r\n           app:expandedHintEnabled=&quot;false&quot;\r\n           // etc.\r\n\r\n ","title":"Set hint of textinputlayout ALWAYS above edittext?","body":"<p>things have moved on since these answers, there's a simple property that will do exactly this.</p>\n<pre><code> &lt;com.google.android.material.textfield.TextInputLayout\n       // your other properties\n       app:expandedHintEnabled=&quot;false&quot;\n       // etc.\n</code></pre>\n"}],"owner":{"display_name":"user8304564"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3082,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":45235297,"answer_count":4,"score":4,"last_activity_date":1668494654,"creation_date":1500632594,"question_id":45235198,"body_markdown":"How do I set the `hint` of `TextInputlayout` to be ALWAYS above `EditText`? That means I don&#39;t have to click the `EditText` to make it slide up. Right now, the hint of `EditText` and the hint of `TextInputLayout` are overlapping, I want them to be separated!\r\n\r\nMy current XML:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/relativeID&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;android.support.v7.widget.RecyclerView\r\n            android:id=&quot;@+id/messageRecyclerView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot; /&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/linearLayout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n            &lt;android.support.design.widget.TextInputLayout\r\n                android:id=&quot;@+id/inputLayout&quot;\r\n                android:layout_width=&quot;fill_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;        \r\n                android:hint=&quot;My Hint Text&quot;\r\n                app:hintEnabled=&quot;true&quot;\r\n                app:hintAnimationEnabled=&quot;false&quot;&gt;\r\n    \r\n                &lt;EditText\r\n                    android:hint=&quot;Type here&quot;\r\n                    android:id=&quot;@+id/messageEditText&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    /&gt;\r\n    \r\n            &lt;/android.support.design.widget.TextInputLayout&gt;\r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n","title":"Set hint of textinputlayout ALWAYS above edittext?","body":"<p>How do I set the <code>hint</code> of <code>TextInputlayout</code> to be ALWAYS above <code>EditText</code>? That means I don't have to click the <code>EditText</code> to make it slide up. Right now, the hint of <code>EditText</code> and the hint of <code>TextInputLayout</code> are overlapping, I want them to be separated!</p>\n\n<p>My current XML:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/relativeID\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/messageRecyclerView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n\n    &lt;LinearLayout\n        android:id=\"@+id/linearLayout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"horizontal\"&gt;\n\n        &lt;android.support.design.widget.TextInputLayout\n            android:id=\"@+id/inputLayout\"\n            android:layout_width=\"fill_parent\"\n            android:layout_height=\"wrap_content\"        \n            android:hint=\"My Hint Text\"\n            app:hintEnabled=\"true\"\n            app:hintAnimationEnabled=\"false\"&gt;\n\n            &lt;EditText\n                android:hint=\"Type here\"\n                android:id=\"@+id/messageEditText\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                /&gt;\n\n        &lt;/android.support.design.widget.TextInputLayout&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","hashmap","type-conversion"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1668493032,"post_id":74441257,"comment_id":131411826,"body_markdown":"`Integer.parseInt`","body":"<code>Integer.parseInt</code>"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":1,"creation_date":1668493645,"post_id":74441257,"comment_id":131411951,"body_markdown":"It‘s Integer.parseInt(entry.getKey()), because you cannot use a String (entry.getKey()) as key for a Map&lt;Integer,String&gt;.","body":"It‘s Integer.parseInt(entry.getKey()), because you cannot use a String (entry.getKey()) as key for a Map&lt;Integer,String&gt;."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668493731,"post_id":74441257,"comment_id":131411974,"body_markdown":"Overall,  your data looks like a List&lt;String&gt; oder String[] array with x[0] being the index and x[1] being the value.","body":"Overall,  your data looks like a List&lt;String&gt; oder String[] array with x[0] being the index and x[1] being the value."}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668494119,"creation_date":1668494119,"answer_id":74441439,"question_id":74441257,"body_markdown":"To solve your issue of conversion to an Integer you can simply use :\r\n\r\n    map2.put(Integer.parseInt(entry.getKey()), entry.getValue());\r\n\r\n&gt; If anyone has a better solution to sort the hashmap, please let me\r\n&gt; know as well.\r\n\r\nI would simply use:\r\n\r\n    public static void countSort(List&lt;List&lt;String&gt;&gt; arr) {\r\n        arr.sort(Comparator.comparingInt(v -&gt; Integer.parseInt(v.get(0))));\r\n    }\r\n\r\nOutputs\r\n\r\n    [[0, a], [1, a], [2, c], [3, d]]","title":"How to convert key values of Hashmap from String to int","body":"<p>To solve your issue of conversion to an Integer you can simply use :</p>\n<pre><code>map2.put(Integer.parseInt(entry.getKey()), entry.getValue());\n</code></pre>\n<blockquote>\n<p>If anyone has a better solution to sort the hashmap, please let me\nknow as well.</p>\n</blockquote>\n<p>I would simply use:</p>\n<pre><code>public static void countSort(List&lt;List&lt;String&gt;&gt; arr) {\n    arr.sort(Comparator.comparingInt(v -&gt; Integer.parseInt(v.get(0))));\n}\n</code></pre>\n<p>Outputs</p>\n<pre><code>[[0, a], [1, a], [2, c], [3, d]]\n</code></pre>\n"}],"owner":{"display_name":"user18984687"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":773,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74441439,"answer_count":1,"score":2,"last_activity_date":1668494119,"creation_date":1668492776,"question_id":74441257,"body_markdown":"I have this code snippet down below\r\n\r\n    public class hackkerankstuff {\r\n        public static void countSort(List&lt;List&lt;String&gt;&gt; arr) {\r\n            //taking the input List&lt;List&lt;String&gt;&gt; and storing it as a Hashmap\r\n            HashMap&lt;String, String&gt; p = new HashMap&lt;&gt;();\r\n            for (List&lt;String&gt; mapping : arr) {\r\n                p.put(mapping.get(0), mapping.get(1));\r\n            }\r\n            //Converting data type of key to int\r\n            Map&lt;Integer, String&gt; map2= new HashMap&lt;&gt;();\r\n            for(Map.Entry&lt;String, String&gt; entry : p.entrySet())\r\n                map2.put(entry.getKey().// No clue what to write here()//, entry.getValue());\r\n\r\nthat takes in a `List&lt;List&lt;String&gt;&gt;` which looks something like `[[&#39;0&#39;,&#39;a&#39;][&#39;3&#39;,&#39;d&#39;][&#39;2&#39;,&#39;c&#39;][&#39;1&#39;,&#39;a&#39;]]` and I am storing them as a Hashmap, with x[0] as the key and x[1] as the values. \r\n\r\nThe second piece of code where I said `//Converting data type of key to int`, I am trying to sort the Hashmap by the key values, which range from 0 to any number given in the input. From my perspective, I would want to change the data type of the keys to an int first and then sort it by keys later on.\r\n\r\nHowever, this code wouldn&#39;t even compile and I couldn&#39;t figure out how to turn the key data values into an int. Any help on this would be greatly appreciated. \r\n\r\nP.S. If anyone has a better solution to sort the hashmap, please let me know as well.\r\n","title":"How to convert key values of Hashmap from String to int","body":"<p>I have this code snippet down below</p>\n<pre><code>public class hackkerankstuff {\n    public static void countSort(List&lt;List&lt;String&gt;&gt; arr) {\n        //taking the input List&lt;List&lt;String&gt;&gt; and storing it as a Hashmap\n        HashMap&lt;String, String&gt; p = new HashMap&lt;&gt;();\n        for (List&lt;String&gt; mapping : arr) {\n            p.put(mapping.get(0), mapping.get(1));\n        }\n        //Converting data type of key to int\n        Map&lt;Integer, String&gt; map2= new HashMap&lt;&gt;();\n        for(Map.Entry&lt;String, String&gt; entry : p.entrySet())\n            map2.put(entry.getKey().// No clue what to write here()//, entry.getValue());\n</code></pre>\n<p>that takes in a <code>List&lt;List&lt;String&gt;&gt;</code> which looks something like <code>[['0','a']['3','d']['2','c']['1','a']]</code> and I am storing them as a Hashmap, with x[0] as the key and x[1] as the values.</p>\n<p>The second piece of code where I said <code>//Converting data type of key to int</code>, I am trying to sort the Hashmap by the key values, which range from 0 to any number given in the input. From my perspective, I would want to change the data type of the keys to an int first and then sort it by keys later on.</p>\n<p>However, this code wouldn't even compile and I couldn't figure out how to turn the key data values into an int. Any help on this would be greatly appreciated.</p>\n<p>P.S. If anyone has a better solution to sort the hashmap, please let me know as well.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1668434599,"post_id":74432799,"comment_id":131397137,"body_markdown":"Please provide a [mcve].","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":1472305,"reputation":7002,"user_id":1383538,"accept_rate":67,"display_name":"Hayi"},"score":0,"creation_date":1668436569,"post_id":74432799,"comment_id":131397862,"body_markdown":"@SotiriosDelimanolis I don&#39;t know what to provide exactly, because i have some sensitive information","body":"@SotiriosDelimanolis I don&#39;t know what to provide exactly, because i have some sensitive information"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1668436869,"post_id":74432799,"comment_id":131397981,"body_markdown":"We&#39;ll have to see something representative of your actual code. Spring has some quirks that could explain this.","body":"We&#39;ll have to see something representative of your actual code. Spring has some quirks that could explain this."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1668437131,"post_id":74432799,"comment_id":131398097,"body_markdown":"Can you try to setup a minimal project with Spring Boot that just contains the stuff that doesn&#39;t work for you? (could be an &quot;empty&quot; bean without any logic and something else that checks that annotation) If you cannot reproduce the situation, try to add more configs until you can reproduce - and at that time you probably will not need our help anymore ;-)","body":"Can you try to setup a minimal project with Spring Boot that just contains the stuff that doesn&#39;t work for you? (could be an &quot;empty&quot; bean without any logic and something else that checks that annotation) If you cannot reproduce the situation, try to add more configs until you can reproduce - and at that time you probably will not need our help anymore ;-)"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668437482,"post_id":74432799,"comment_id":131398243,"body_markdown":"Don&#39;t do the check as you most likely will have a proxy which doesn&#39;t have the annotation. Instead use the `AnnotationUtils` to get the annotations from the class, which will properly unwrap the proxy for you.","body":"Don&#39;t do the check as you most likely will have a proxy which doesn&#39;t have the annotation. Instead use the <code>AnnotationUtils</code> to get the annotations from the class, which will properly unwrap the proxy for you."},{"owner":{"account_id":1472305,"reputation":7002,"user_id":1383538,"accept_rate":67,"display_name":"Hayi"},"score":0,"creation_date":1668439405,"post_id":74432799,"comment_id":131399009,"body_markdown":"@M.Deinum I made some updates with `AnnotationUtils` and `AopProxyUtils.ultimateTargetClass` but still the same issue","body":"@M.Deinum I made some updates with <code>AnnotationUtils</code> and <code>AopProxyUtils.ultimateTargetClass</code> but still the same issue"},{"owner":{"account_id":1472305,"reputation":7002,"user_id":1383538,"accept_rate":67,"display_name":"Hayi"},"score":0,"creation_date":1668439417,"post_id":74432799,"comment_id":131399015,"body_markdown":"@SotiriosDelimanolis I made some updates","body":"@SotiriosDelimanolis I made some updates"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668439642,"post_id":74432799,"comment_id":131399093,"body_markdown":"You don&#39;t need `AopProxyUtils` the annotaiton utils will do the unrwapping/scanning for you.","body":"You don&#39;t need <code>AopProxyUtils</code> the annotaiton utils will do the unrwapping/scanning for you."},{"owner":{"account_id":1472305,"reputation":7002,"user_id":1383538,"accept_rate":67,"display_name":"Hayi"},"score":0,"creation_date":1668439817,"post_id":74432799,"comment_id":131399159,"body_markdown":"@M.Deinum yeah but it didn&#39;t work","body":"@M.Deinum yeah but it didn&#39;t work"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1668440220,"post_id":74432799,"comment_id":131399313,"body_markdown":"You should also be using `findAnnotation` and not `getAnnotation` afaik. Another otion is to in the class that is processing this, implement the `ImportAware` interface and get the metadata handled. You can checkout the various implementation in Spring itself how they obtain the annotation metadata.","body":"You should also be using <code>findAnnotation</code> and not <code>getAnnotation</code> afaik. Another otion is to in the class that is processing this, implement the <code>ImportAware</code> interface and get the metadata handled. You can checkout the various implementation in Spring itself how they obtain the annotation metadata."},{"owner":{"account_id":1472305,"reputation":7002,"user_id":1383538,"accept_rate":67,"display_name":"Hayi"},"score":0,"creation_date":1668440495,"post_id":74432799,"comment_id":131399428,"body_markdown":"thanks @M.Deinum it work now, the trick was to use `findAnnotation` and not `getAnnotation`","body":"thanks @M.Deinum it work now, the trick was to use <code>findAnnotation</code> and not <code>getAnnotation</code>"},{"owner":{"account_id":4487116,"reputation":429,"user_id":3649352,"accept_rate":67,"display_name":"Kunal Varpe"},"score":0,"creation_date":1668443120,"post_id":74432799,"comment_id":131400420,"body_markdown":"@M.Deinum  Can you put the solution in answer section and accept the solution. So others would be able to find the question solution easily.","body":"@M.Deinum  Can you put the solution in answer section and accept the solution. So others would be able to find the question solution easily."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668494029,"creation_date":1668494029,"answer_id":74441427,"question_id":74432799,"body_markdown":"```java\r\nprivate List&lt;String&gt; initFoo() {\r\n\r\n    var beans = ctx.getBeansWithAnnotation(EnableFoo.class);\r\n\r\n    if (beans.size() != 1) {\r\n      throw new IllegalStateException(\r\n          &quot;Multiple &#39;@&quot; + EnableFoo.class.getName() + &quot;&#39; declarations !&quot;);\r\n    }\r\n\r\n    Object bean = beans.values().iterator().next();\r\n\r\n    Class&lt;?&gt; clazz = bean.getClass();\r\n    if (clazz.isAnnotationPresent(EnableFoo.class)) { // &lt;--- return false !!\r\n         String[] annotationUrls = clazz.getAnnotation(EnableFoo.class).urls();\r\n         ....\r\n    }\r\n  }\r\n```\r\n\r\nThe problem with this is that `bean.getClass` will return not the actual class but a proxy. Depending on the type of proxy and type of annotation it might or might not be detected. \r\n\r\nSpring itself ships with some nice utility classes which know about proxies and which can help to obtain annotations (or the metadata). One of those is [`AnnotationUtils`][1]. Use this to obtain the annotation from the class. To do this you will need the `findAnnotation` as that will traverse the hierarchy of the class to find the annotation. \r\n\r\n```java\r\nprivate List&lt;String&gt; initFoo() {\r\n\r\n    var beans = ctx.getBeansWithAnnotation(EnableFoo.class);\r\n\r\n    if (beans.size() != 1) {\r\n      throw new IllegalStateException(\r\n          &quot;Multiple &#39;@&quot; + EnableFoo.class.getName() + &quot;&#39; declarations !&quot;);\r\n    }\r\n\r\n    Object bean = beans.values().iterator().next();\r\n    Class&lt;?&gt; clazz = bean.getClass();\r\n    String[] annotationUrls = AnnotationUtils.findAnnotation(clazz, EnableFoo.class).urls();\r\n    ....\r\n}\r\n```\r\n\r\nThis should find the annotation and return the values you want. \r\n\r\n[1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/AnnotationUtils.html","title":"isAnnotationPresent returning false after getBeansWithAnnotation","body":"<pre class=\"lang-java prettyprint-override\"><code>private List&lt;String&gt; initFoo() {\n\n    var beans = ctx.getBeansWithAnnotation(EnableFoo.class);\n\n    if (beans.size() != 1) {\n      throw new IllegalStateException(\n          &quot;Multiple '@&quot; + EnableFoo.class.getName() + &quot;' declarations !&quot;);\n    }\n\n    Object bean = beans.values().iterator().next();\n\n    Class&lt;?&gt; clazz = bean.getClass();\n    if (clazz.isAnnotationPresent(EnableFoo.class)) { // &lt;--- return false !!\n         String[] annotationUrls = clazz.getAnnotation(EnableFoo.class).urls();\n         ....\n    }\n  }\n</code></pre>\n<p>The problem with this is that <code>bean.getClass</code> will return not the actual class but a proxy. Depending on the type of proxy and type of annotation it might or might not be detected.</p>\n<p>Spring itself ships with some nice utility classes which know about proxies and which can help to obtain annotations (or the metadata). One of those is <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/AnnotationUtils.html\" rel=\"nofollow noreferrer\"><code>AnnotationUtils</code></a>. Use this to obtain the annotation from the class. To do this you will need the <code>findAnnotation</code> as that will traverse the hierarchy of the class to find the annotation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private List&lt;String&gt; initFoo() {\n\n    var beans = ctx.getBeansWithAnnotation(EnableFoo.class);\n\n    if (beans.size() != 1) {\n      throw new IllegalStateException(\n          &quot;Multiple '@&quot; + EnableFoo.class.getName() + &quot;' declarations !&quot;);\n    }\n\n    Object bean = beans.values().iterator().next();\n    Class&lt;?&gt; clazz = bean.getClass();\n    String[] annotationUrls = AnnotationUtils.findAnnotation(clazz, EnableFoo.class).urls();\n    ....\n}\n</code></pre>\n<p>This should find the annotation and return the values you want.</p>\n"}],"owner":{"account_id":1472305,"reputation":7002,"user_id":1383538,"accept_rate":67,"display_name":"Hayi"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74441427,"answer_count":1,"score":0,"last_activity_date":1668494029,"creation_date":1668434230,"question_id":74432799,"body_markdown":"I am defining a custom annotation in a custom library \r\n\r\n    @Target(ElementType.TYPE)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Configuration\r\n    @ComponentScan(\r\n        basePackages = {\r\n          &quot;com.***&quot;,\r\n          ....\r\n        })\r\n    public @interface EnableFoo {\r\n      String[] urls();\r\n    }\r\n\r\nthe client (which has the library as dependency) would call it like this\r\n\r\n    @EnableFoo(\r\n        urls = { &quot;some-url&quot;, ... })\r\n\r\nI want to get the parameter `urls` of my annotation so I use this code\r\n\r\n      private List&lt;String&gt; initFoo() {\r\n    \r\n        var beans = ctx.getBeansWithAnnotation(EnableFoo.class);\r\n    \r\n        if (beans.size() != 1) {\r\n          throw new IllegalStateException(\r\n              &quot;Multiple &#39;@&quot; + EnableFoo.class.getName() + &quot;&#39; declarations !&quot;);\r\n        }\r\n    \r\n        Object bean = beans.values().iterator().next();\r\n    \r\n        Class&lt;?&gt; clazz = bean.getClass();\r\n        if (clazz.isAnnotationPresent(EnableFoo.class)) { // &lt;--- return false !!\r\n             String[] annotationUrls = clazz.getAnnotation(EnableFoo.class).urls();\r\n             ....\r\n        }\r\n      }\r\n\r\nthe problem is that `isAnnotationPresent` return false even though just before there `ctx.getBeansWithAnnotation(EnableFoo.class)`\r\n\r\nCan somebody explain me this weird behavior and if it is the right approach\r\n\r\n**Edit 1**\r\nI update my code to use `AnnotationUtils` but the annotation is always null\r\n\r\n    var annotation =\r\n        AnnotationUtils.getAnnotation(\r\n            AopProxyUtils.ultimateTargetClass(bean),\r\n            EnableFoo.class);\r\n\r\nand here is my object `bean` at debug\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Answer**\r\n\r\nthanks to @M. Deinum comment the solution was to use `findAnnotation` instead of `getAnnotation`\r\n\r\n    var annotation =\r\n        AnnotationUtils.findAnnotation(\r\n            bean.getClass(), EnableFoo.class)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qQjvU.png","title":"isAnnotationPresent returning false after getBeansWithAnnotation","body":"<p>I am defining a custom annotation in a custom library</p>\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Configuration\n@ComponentScan(\n    basePackages = {\n      &quot;com.***&quot;,\n      ....\n    })\npublic @interface EnableFoo {\n  String[] urls();\n}\n</code></pre>\n<p>the client (which has the library as dependency) would call it like this</p>\n<pre><code>@EnableFoo(\n    urls = { &quot;some-url&quot;, ... })\n</code></pre>\n<p>I want to get the parameter <code>urls</code> of my annotation so I use this code</p>\n<pre><code>  private List&lt;String&gt; initFoo() {\n\n    var beans = ctx.getBeansWithAnnotation(EnableFoo.class);\n\n    if (beans.size() != 1) {\n      throw new IllegalStateException(\n          &quot;Multiple '@&quot; + EnableFoo.class.getName() + &quot;' declarations !&quot;);\n    }\n\n    Object bean = beans.values().iterator().next();\n\n    Class&lt;?&gt; clazz = bean.getClass();\n    if (clazz.isAnnotationPresent(EnableFoo.class)) { // &lt;--- return false !!\n         String[] annotationUrls = clazz.getAnnotation(EnableFoo.class).urls();\n         ....\n    }\n  }\n</code></pre>\n<p>the problem is that <code>isAnnotationPresent</code> return false even though just before there <code>ctx.getBeansWithAnnotation(EnableFoo.class)</code></p>\n<p>Can somebody explain me this weird behavior and if it is the right approach</p>\n<p><strong>Edit 1</strong>\nI update my code to use <code>AnnotationUtils</code> but the annotation is always null</p>\n<pre><code>var annotation =\n    AnnotationUtils.getAnnotation(\n        AopProxyUtils.ultimateTargetClass(bean),\n        EnableFoo.class);\n</code></pre>\n<p>and here is my object <code>bean</code> at debug</p>\n<p><a href=\"https://i.stack.imgur.com/qQjvU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qQjvU.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Answer</strong></p>\n<p>thanks to @M. Deinum comment the solution was to use <code>findAnnotation</code> instead of <code>getAnnotation</code></p>\n<pre><code>var annotation =\n    AnnotationUtils.findAnnotation(\n        bean.getClass(), EnableFoo.class)\n</code></pre>\n"},{"tags":["java","bigdata","apache-flink"],"comments":[{"owner":{"account_id":2099100,"reputation":346,"user_id":1867205,"accept_rate":38,"display_name":"Kenank"},"score":0,"creation_date":1668493079,"post_id":74441231,"comment_id":131411834,"body_markdown":"I couldn&#39;t understand the question. What happens if CardId matches. What does &quot;store it&quot; means?  What does &quot;or&quot; mean ? Do you store data if the cardId doesn`t match or check the userId?","body":"I couldn&#39;t understand the question. What happens if CardId matches. What does &quot;store it&quot; means?  What does &quot;or&quot; mean ? Do you store data if the cardId doesn`t match or check the userId?"},{"owner":{"account_id":25614618,"reputation":7,"user_id":19387421,"display_name":"chaos_world"},"score":0,"creation_date":1668493448,"post_id":74441231,"comment_id":131411906,"body_markdown":"when two users are bound to the same cardID,print a warning.So I store userid and cardid,I dont know how to match them","body":"when two users are bound to the same cardID,print a warning.So I store userid and cardid,I dont know how to match them"}],"answers":[{"tags":[],"owner":{"account_id":2099100,"reputation":346,"user_id":1867205,"accept_rate":38,"display_name":"Kenank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668493977,"creation_date":1668493977,"answer_id":74441416,"question_id":74441231,"body_markdown":"You don`t need to store k-v.\r\nKey your stream by cardId and in keyedProcessFunction keep a state for UserId.\r\nIf incoming userId is not same with the userId in the value state, create warning message.\r\n","title":"in flink,how to store mutiple k-v and match them while mapping","body":"<p>You don`t need to store k-v.\nKey your stream by cardId and in keyedProcessFunction keep a state for UserId.\nIf incoming userId is not same with the userId in the value state, create warning message.</p>\n"}],"owner":{"account_id":25614618,"reputation":7,"user_id":19387421,"display_name":"chaos_world"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74441416,"answer_count":1,"score":0,"last_activity_date":1668493977,"creation_date":1668492560,"question_id":74441231,"body_markdown":"there are userID and cardID.When data comes,store it if it cant match cardID, or check its userID.when the user is not match,print a warn including userIDs and cardID.\r\n\r\nI try to store them in \r\n\r\n```\r\nclass Bean{\r\n  String userID;\r\n  String cardID;\r\n}\r\n```\r\n\r\n\r\n```\r\nListstate&lt;Bean&gt; liststate;\r\n```\r\nI can store them,just dont know how to match.","title":"in flink,how to store mutiple k-v and match them while mapping","body":"<p>there are userID and cardID.When data comes,store it if it cant match cardID, or check its userID.when the user is not match,print a warn including userIDs and cardID.</p>\n<p>I try to store them in</p>\n<pre><code>class Bean{\n  String userID;\n  String cardID;\n}\n</code></pre>\n<pre><code>Liststate&lt;Bean&gt; liststate;\n</code></pre>\n<p>I can store them,just dont know how to match.</p>\n"},{"tags":["java","api","rest","jmeter"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668493683,"creation_date":1668493683,"answer_id":74441374,"question_id":74441026,"body_markdown":"There is a special box in the [Test Plan][1] which allows JMeter to run Thread Groups at the same time:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nif you **untick** it - JMeter will run all the Thread Groups in parallel. \r\n\r\nApart from this your &quot;way to achieve the above&quot; is correct. \r\n\r\nAlternative solution would be switching to JMeter Properties from the Inter-Thread Communication plugin, i.e. :\r\n\r\n - use [__setProperty() function][3] to convert the token into JMeter Property in &quot;Authentication&quot; thread group\r\n - use [__P() function][4] to read the token in the API thread group\r\n\r\ncheck out [Using JMeter Variables With Multiple Thread Groups][5] guide for more details. \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/component_reference.html#Test_Plan\r\n  [2]: https://i.stack.imgur.com/MqB03.png\r\n  [3]: https://jmeter.apache.org/usermanual/functions.html#__setProperty\r\n  [4]: https://jmeter.apache.org/usermanual/functions.html#__P\r\n  [5]: https://www.blazemeter.com/blog/jmeter-variables","title":"JMeter - How to run two thread group concurrently?","body":"<p>There is a special box in the <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#Test_Plan\" rel=\"nofollow noreferrer\">Test Plan</a> which allows JMeter to run Thread Groups at the same time:</p>\n<p><a href=\"https://i.stack.imgur.com/MqB03.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MqB03.png\" alt=\"enter image description here\" /></a></p>\n<p>if you <strong>untick</strong> it - JMeter will run all the Thread Groups in parallel.</p>\n<p>Apart from this your &quot;way to achieve the above&quot; is correct.</p>\n<p>Alternative solution would be switching to JMeter Properties from the Inter-Thread Communication plugin, i.e. :</p>\n<ul>\n<li>use <a href=\"https://jmeter.apache.org/usermanual/functions.html#__setProperty\" rel=\"nofollow noreferrer\">__setProperty() function</a> to convert the token into JMeter Property in &quot;Authentication&quot; thread group</li>\n<li>use <a href=\"https://jmeter.apache.org/usermanual/functions.html#__P\" rel=\"nofollow noreferrer\">__P() function</a> to read the token in the API thread group</li>\n</ul>\n<p>check out <a href=\"https://www.blazemeter.com/blog/jmeter-variables\" rel=\"nofollow noreferrer\">Using JMeter Variables With Multiple Thread Groups</a> guide for more details.</p>\n"}],"owner":{"account_id":13500655,"reputation":9,"user_id":9740154,"display_name":"Akhil Vasudevan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74441374,"answer_count":1,"score":0,"last_activity_date":1668493683,"creation_date":1668490612,"question_id":74441026,"body_markdown":"I have two thread group:\r\n1. Authentication Thread Group\r\n2. REST API Thread Group.\r\n\r\nIn the first thread group(Authentication Thread Group) I will be generating &quot;access token&quot; using &quot;refresh token&quot; using HTTP request and using JSON parser &quot;access token&quot; is taken. The access token is passed to second thread group(REST API Thread Group) using Inter thread communicator.\r\n\r\nThe passed access token is used for authenticating the REST APIs in REST API Thread Group.\r\n\r\nUsing Flow Control Action I had set the Authentication Thread Group to run on interval, so that I can get the new &quot;access token&quot; before it gets expired. Now I am trying to run REST APIs with the current &quot;access token&quot;. \r\n \r\nSo basically I want to run RESP APIs with its respective Thread Group logic, meanwhile the authentication Thread Group has to be executed for given delay time.\r\n\r\nSuggest a way to achieve the above?\r\nAlternate solution for authenticated REST API is also appreciated.","title":"JMeter - How to run two thread group concurrently?","body":"<p>I have two thread group:</p>\n<ol>\n<li>Authentication Thread Group</li>\n<li>REST API Thread Group.</li>\n</ol>\n<p>In the first thread group(Authentication Thread Group) I will be generating &quot;access token&quot; using &quot;refresh token&quot; using HTTP request and using JSON parser &quot;access token&quot; is taken. The access token is passed to second thread group(REST API Thread Group) using Inter thread communicator.</p>\n<p>The passed access token is used for authenticating the REST APIs in REST API Thread Group.</p>\n<p>Using Flow Control Action I had set the Authentication Thread Group to run on interval, so that I can get the new &quot;access token&quot; before it gets expired. Now I am trying to run REST APIs with the current &quot;access token&quot;.</p>\n<p>So basically I want to run RESP APIs with its respective Thread Group logic, meanwhile the authentication Thread Group has to be executed for given delay time.</p>\n<p>Suggest a way to achieve the above?\nAlternate solution for authenticated REST API is also appreciated.</p>\n"},{"tags":["java","testing","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":5049794,"reputation":631,"user_id":4054720,"display_name":"Ben Borchard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668472087,"creation_date":1668464195,"answer_id":74438488,"question_id":74438448,"body_markdown":"Your services in the tests:\r\n\r\n```\r\n    @Mock\r\n    private UserRepository userRepository;\r\n\r\n    @Mock\r\n    public PasswordEncoder passwordEncoder;\r\n```\r\n\r\nAre mocks, which means they won&#39;t actually do anything unless you explicitly tell them what to do by stubbing methods, as you do here:\r\n\r\n```\r\n       when(userRepository.save(any())).thenReturn(user);\r\n```\r\n\r\nThe issue is that you haven&#39;t stubbed any methods in the `passwordEncoder` so it&#39;s methods will do nothing and return `null`.\r\n\r\nAlso, it appears you are encoding your password twice (once in the test and once in the `register` method), which could lead to errors down the line even with proper stubbing","title":"Using BCryptPasswordEncoder in Unit Test returns a null value","body":"<p>Your services in the tests:</p>\n<pre><code>    @Mock\n    private UserRepository userRepository;\n\n    @Mock\n    public PasswordEncoder passwordEncoder;\n</code></pre>\n<p>Are mocks, which means they won't actually do anything unless you explicitly tell them what to do by stubbing methods, as you do here:</p>\n<pre><code>       when(userRepository.save(any())).thenReturn(user);\n</code></pre>\n<p>The issue is that you haven't stubbed any methods in the <code>passwordEncoder</code> so it's methods will do nothing and return <code>null</code>.</p>\n<p>Also, it appears you are encoding your password twice (once in the test and once in the <code>register</code> method), which could lead to errors down the line even with proper stubbing</p>\n"}],"owner":{"account_id":22250524,"reputation":181,"user_id":16483521,"display_name":"ServletException"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668493529,"creation_date":1668463893,"question_id":74438448,"body_markdown":"I&#39;m learning Unit Testing with JUnit and Mockito on a Spring boot application, I have a registration method I want to test, in my test method I create a User but I see that the value of the password is always null when using .encode(mypassword), resulting in an Assertion Error.\r\n\r\n\r\n---\r\n**UserServiceImpl.java**\r\n```java\r\n@Service\r\npublic class UserServiceImpl implements UserService {\r\n    private final UserRepository userRepository;\r\n    private final PasswordEncoder passwordEncoder;\r\n\r\n    public UserServiceImpl(UserRepository userRepository, PasswordEncoder passwordEncoder) {\r\n        this.userRepository = userRepository;\r\n        this.passwordEncoder = passwordEncoder;\r\n    }\r\n\r\n\r\n    @Override\r\n    public User register(User user) {\r\n\r\n\r\n         Role role = roleService.findByName(ERole.ROLE_USER);\r\n\r\n         Set&lt;Role&gt; roleSet = new HashSet&lt;&gt;();\r\n         user.setFullName(user.getFullName());\r\n         user.setEmailAddress(user.getEmailAddress());\r\n         user.setPassword(passwordEncoder.encode(user.getPassword()));\r\n         user.setConfirmPassword(&quot;&quot;);\r\n         user.setEmailVerified(true);\r\n         roleSet.add(role);\r\n         user.setRoles(roleSet);\r\n\r\n         if(userRepository.existsByEmailAddress(user.getEmailAddress())) {\r\n             throw new EmailAlreadyExistsException(&quot;Account already exists with this email&quot;);\r\n         }\r\n        return userRepository.save(user);\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n```\r\n-----\r\n\r\n**UserServiceImplTest.java**\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\nclass UserServiceImplTest {\r\n\r\n    @InjectMocks\r\n    private UserServiceImpl userService;\r\n\r\n    @Mock\r\n    private UserRepository userRepository;\r\n\r\n    @Mock\r\n    public PasswordEncoder passwordEncoder;\r\n\r\n  \r\n\r\n   @BeforeEach\r\n    void setUp() {\r\n        userService = new UserServiceImpl(userRepository, passwordEncoder);\r\n    }\r\n\r\n  @Test\r\n    void testIfUserCanRegisterSuccessfully() {\r\n\r\n        User user = new User(1, &quot;admin&quot;, &quot;admin@gmail.com&quot;, passwordEncoder.encode(&quot;password&quot;));\r\n\r\n        when(userRepository.save(any())).thenReturn(user);\r\n        User theUser = userService.register(user);\r\n\r\n\r\n        System.out.println(&quot;theUser: &quot; + theUser);\r\n\r\n        assertNotNull(theUser);\r\n        assertEquals(1, theUser.getId());\r\n        assertEquals(&quot;admin@gmail.com&quot;, theUser.getEmailAddress());\r\n        assertTrue(passwordEncoder.matches(&quot;password&quot;, theUser.getPassword()));\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n----\r\n\r\n**SecurityConfig.java**\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, jsr250Enabled = true)\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\r\n    @Value(&quot;${spring.security.ant.matchers}&quot;)\r\n    private String[] securityAntMatchers;\r\n    \r\n\r\n    @Autowired\r\n    private UserDetailsServiceImpl userDetailsService;\r\n\r\n    @Autowired\r\n    private JwtAuthenticationEntryPoint authenticationEntryPoint;\r\n\r\n    @Bean\r\n    public JwtAuthenticationTokenFilter jwtAuthenticationTokenFilter() {\r\n        return new JwtAuthenticationTokenFilter();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public AuthenticationManager authenticationManager() throws Exception {\r\n        return super.authenticationManager();\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n            .csrf().disable().formLogin().disable().httpBasic().disable();\r\n\r\n        http\r\n            .sessionManagement()\r\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n            .and()\r\n            .exceptionHandling().authenticationEntryPoint(authenticationEntryPoint)\r\n            .and()\r\n            .addFilterBefore(jwtAuthenticationTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n        http\r\n            .authorizeRequests()\r\n            .antMatchers(securityAntMatchers)\r\n            .permitAll()\r\n            .anyRequest()\r\n            .authenticated();\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n----\r\n\r\nThe output of theUser is this, I&#39;m not sure how to handle the password encryption when testing the method.\r\n\r\ntheUser: User{id=1, fullName=&#39;admin&#39;, emailAddress=&#39;admin@gmail.com&#39;, dateJoined=Tue Nov 15 00:06:01 CAT 2022, emailVerified=true, password=&#39;null&#39;}\r\n\r\n\r\n--- \r\n\r\n**EDITED**\r\n\r\n```java\r\n\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        // Instantiating password encoder before every test, now I get the output\r\n        this.passwordEncoder = new BCryptPasswordEncoder();\r\n        userService = new UserServiceImpl(userRepository, passwordEncoder);\r\n\r\n\r\n    }\r\n\r\n  @Test\r\n    void testIfUserCanRegisterSuccessfully() {\r\n        User user = new User(1, &quot;admin&quot;, &quot;admin@gmail.com&quot;,&quot;password&quot;);\r\n\r\n        when(userRepository.save(any())).thenReturn(user);\r\n        User created = userService.register(user);\r\n\r\n        assertEquals(created.getPassword(), user.getPassword());\r\n        assertEquals(created.getEmailAddress(), user.getEmailAddress());\r\n        verify(userRepository).save(any());\r\n    }\r\n\r\n```\r\n\r\n\r\n\r\n","title":"Using BCryptPasswordEncoder in Unit Test returns a null value","body":"<p>I'm learning Unit Testing with JUnit and Mockito on a Spring boot application, I have a registration method I want to test, in my test method I create a User but I see that the value of the password is always null when using .encode(mypassword), resulting in an Assertion Error.</p>\n<hr />\n<p><strong>UserServiceImpl.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class UserServiceImpl implements UserService {\n    private final UserRepository userRepository;\n    private final PasswordEncoder passwordEncoder;\n\n    public UserServiceImpl(UserRepository userRepository, PasswordEncoder passwordEncoder) {\n        this.userRepository = userRepository;\n        this.passwordEncoder = passwordEncoder;\n    }\n\n\n    @Override\n    public User register(User user) {\n\n\n         Role role = roleService.findByName(ERole.ROLE_USER);\n\n         Set&lt;Role&gt; roleSet = new HashSet&lt;&gt;();\n         user.setFullName(user.getFullName());\n         user.setEmailAddress(user.getEmailAddress());\n         user.setPassword(passwordEncoder.encode(user.getPassword()));\n         user.setConfirmPassword(&quot;&quot;);\n         user.setEmailVerified(true);\n         roleSet.add(role);\n         user.setRoles(roleSet);\n\n         if(userRepository.existsByEmailAddress(user.getEmailAddress())) {\n             throw new EmailAlreadyExistsException(&quot;Account already exists with this email&quot;);\n         }\n        return userRepository.save(user);\n    }\n\n\n\n}\n\n</code></pre>\n<hr />\n<p><strong>UserServiceImplTest.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\nclass UserServiceImplTest {\n\n    @InjectMocks\n    private UserServiceImpl userService;\n\n    @Mock\n    private UserRepository userRepository;\n\n    @Mock\n    public PasswordEncoder passwordEncoder;\n\n  \n\n   @BeforeEach\n    void setUp() {\n        userService = new UserServiceImpl(userRepository, passwordEncoder);\n    }\n\n  @Test\n    void testIfUserCanRegisterSuccessfully() {\n\n        User user = new User(1, &quot;admin&quot;, &quot;admin@gmail.com&quot;, passwordEncoder.encode(&quot;password&quot;));\n\n        when(userRepository.save(any())).thenReturn(user);\n        User theUser = userService.register(user);\n\n\n        System.out.println(&quot;theUser: &quot; + theUser);\n\n        assertNotNull(theUser);\n        assertEquals(1, theUser.getId());\n        assertEquals(&quot;admin@gmail.com&quot;, theUser.getEmailAddress());\n        assertTrue(passwordEncoder.matches(&quot;password&quot;, theUser.getPassword()));\n    }\n\n}\n\n</code></pre>\n<hr />\n<p><strong>SecurityConfig.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, jsr250Enabled = true)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n\n    @Value(&quot;${spring.security.ant.matchers}&quot;)\n    private String[] securityAntMatchers;\n    \n\n    @Autowired\n    private UserDetailsServiceImpl userDetailsService;\n\n    @Autowired\n    private JwtAuthenticationEntryPoint authenticationEntryPoint;\n\n    @Bean\n    public JwtAuthenticationTokenFilter jwtAuthenticationTokenFilter() {\n        return new JwtAuthenticationTokenFilter();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManager() throws Exception {\n        return super.authenticationManager();\n    }\n\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\n    }\n\n\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .csrf().disable().formLogin().disable().httpBasic().disable();\n\n        http\n            .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n            .exceptionHandling().authenticationEntryPoint(authenticationEntryPoint)\n            .and()\n            .addFilterBefore(jwtAuthenticationTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n\n        http\n            .authorizeRequests()\n            .antMatchers(securityAntMatchers)\n            .permitAll()\n            .anyRequest()\n            .authenticated();\n    }\n\n}\n\n</code></pre>\n<hr />\n<p>The output of theUser is this, I'm not sure how to handle the password encryption when testing the method.</p>\n<p>theUser: User{id=1, fullName='admin', emailAddress='admin@gmail.com', dateJoined=Tue Nov 15 00:06:01 CAT 2022, emailVerified=true, password='null'}</p>\n<hr />\n<p><strong>EDITED</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>\n\n    @BeforeEach\n    void setUp() {\n        // Instantiating password encoder before every test, now I get the output\n        this.passwordEncoder = new BCryptPasswordEncoder();\n        userService = new UserServiceImpl(userRepository, passwordEncoder);\n\n\n    }\n\n  @Test\n    void testIfUserCanRegisterSuccessfully() {\n        User user = new User(1, &quot;admin&quot;, &quot;admin@gmail.com&quot;,&quot;password&quot;);\n\n        when(userRepository.save(any())).thenReturn(user);\n        User created = userService.register(user);\n\n        assertEquals(created.getPassword(), user.getPassword());\n        assertEquals(created.getEmailAddress(), user.getEmailAddress());\n        verify(userRepository).save(any());\n    }\n\n</code></pre>\n"},{"tags":["java","arraylist"],"answers":[{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"down_vote_count":0,"up_vote_count":316,"is_accepted":true,"score":316,"last_activity_date":1401633869,"creation_date":1401633869,"answer_id":23981027,"question_id":23981008,"body_markdown":"Use the [`set`][1] method to replace the old value with a new one.\r\n\r\n    list.set( 2, &quot;New&quot; );\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#set%28int,%20E%29","title":"How to replace existing value of ArrayList element in Java","body":"<p>Use the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#set%28int,%20E%29\"><code>set</code></a> method to replace the old value with a new one.</p>\n\n<pre><code>list.set( 2, \"New\" );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3944328,"reputation":1921,"user_id":3257586,"display_name":"wonce"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1536533250,"creation_date":1401633894,"answer_id":23981032,"question_id":23981008,"body_markdown":"Use [`ArrayList.set`](http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#set%28int,%20E%29)\r\n\r\n    list.set(2, &quot;New&quot;);","title":"How to replace existing value of ArrayList element in Java","body":"<p>Use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#set%28int,%20E%29\" rel=\"noreferrer\"><code>ArrayList.set</code></a></p>\n\n<pre><code>list.set(2, \"New\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5899819,"reputation":69,"user_id":5550708,"display_name":"Thwin Htoo Aung"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1536533333,"creation_date":1450021782,"answer_id":34252944,"question_id":23981008,"body_markdown":"You must use \r\n\r\n    list.remove(indexYouWantToReplace);\r\n\r\nfirst.\r\n\r\nYour elements will become like this. `[zero, one, three]`\r\n\r\nthen add this \r\n\r\n    list.add(indexYouWantedToReplace, newElement)\r\n\r\nYour elements will become like this. `[zero, one, new, three]`\r\n","title":"How to replace existing value of ArrayList element in Java","body":"<p>You must use </p>\n\n<pre><code>list.remove(indexYouWantToReplace);\n</code></pre>\n\n<p>first.</p>\n\n<p>Your elements will become like this. <code>[zero, one, three]</code></p>\n\n<p>then add this </p>\n\n<pre><code>list.add(indexYouWantedToReplace, newElement)\n</code></pre>\n\n<p>Your elements will become like this. <code>[zero, one, new, three]</code></p>\n"},{"tags":[],"owner":{"account_id":527903,"reputation":2938,"user_id":1605852,"display_name":"Sivabalan"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1503497364,"creation_date":1500031582,"answer_id":45101834,"question_id":23981008,"body_markdown":"If you are unaware of the position to replace, use list iterator to find and replace element\r\n[ListIterator.set(E e)][1]\r\n\r\n    ListIterator&lt;String&gt; iterator = list.listIterator();\r\n    while (iterator.hasNext()) {\r\n         String next = iterator.next();\r\n         if (next.equals(&quot;Two&quot;)) {\r\n             //Replace element\r\n             iterator.set(&quot;New&quot;);\r\n         }\r\n     }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/ListIterator.html#set-E-","title":"How to replace existing value of ArrayList element in Java","body":"<p>If you are unaware of the position to replace, use list iterator to find and replace element\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ListIterator.html#set-E-\" rel=\"noreferrer\">ListIterator.set(E e)</a></p>\n\n<pre><code>ListIterator&lt;String&gt; iterator = list.listIterator();\nwhile (iterator.hasNext()) {\n     String next = iterator.next();\n     if (next.equals(\"Two\")) {\n         //Replace element\n         iterator.set(\"New\");\n     }\n }\n</code></pre>\n"}],"owner":{"account_id":4552004,"reputation":1755,"user_id":3696884,"accept_rate":43,"display_name":"Kani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386735,"favorite_count":0,"down_vote_count":3,"up_vote_count":166,"closed_date":1513679413,"accepted_answer_id":23981027,"answer_count":4,"score":163,"last_activity_date":1668493407,"creation_date":1401633735,"question_id":23981008,"body_markdown":"I am trying to update an existing value of an `ArrayList` by using this code:\r\n\r\n    public static void main(String[] args) {\r\n\r\n\t\tList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\t\t\r\n\t\tlist.add( &quot;Zero&quot; );\r\n\t\tlist.add( &quot;One&quot; );\r\n\t\tlist.add( &quot;Two&quot; );\r\n\t\tlist.add( &quot;Three&quot; );\r\n\t\t\r\n\t\tlist.add( 2, &quot;New&quot; ); // add at 2nd index\r\n\t\t\r\n\t\tSystem.out.println(list);\r\n    }\r\n\r\n\r\nI want to print `New` instead of `Two` but I got `[Zero, One, New, Two, Three]` as the result, and I still have `Two`. I want to print `[Zero, One, New, Three]`. How can I do this?","title":"How to replace existing value of ArrayList element in Java","body":"<p>I am trying to update an existing value of an <code>ArrayList</code> by using this code:</p>\n<pre><code>public static void main(String[] args) {\n\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n    \n    list.add( &quot;Zero&quot; );\n    list.add( &quot;One&quot; );\n    list.add( &quot;Two&quot; );\n    list.add( &quot;Three&quot; );\n    \n    list.add( 2, &quot;New&quot; ); // add at 2nd index\n    \n    System.out.println(list);\n}\n</code></pre>\n<p>I want to print <code>New</code> instead of <code>Two</code> but I got <code>[Zero, One, New, Two, Three]</code> as the result, and I still have <code>Two</code>. I want to print <code>[Zero, One, New, Three]</code>. How can I do this?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","error-logging"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668494289,"post_id":74441309,"comment_id":131412074,"body_markdown":"Spring Batch will log through the infrastructure presented with Spring Boot. So if it is logging somewhere else, that is how you configured things. Or you are totally bypassing logging for some reason, like not doig proper logging but writing to `System.err` yourself instead of using a logger.","body":"Spring Batch will log through the infrastructure presented with Spring Boot. So if it is logging somewhere else, that is how you configured things. Or you are totally bypassing logging for some reason, like not doig proper logging but writing to <code>System.err</code> yourself instead of using a logger."}],"owner":{"account_id":26935425,"reputation":11,"user_id":20507132,"display_name":"prachi gawande"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668493140,"creation_date":1668493140,"question_id":74441309,"body_markdown":"There are errors on start-up of spring batch which are getting logged into default error logging file (filename : project_name.err.log)but does not have timestamp to understand when the errors occurred .\r\n\r\nWe have the logging implementation in our project in the file specified in logback-spring.xml has the timestamp .\r\n\r\nBut this file (filename : project_name.err.log) is getting auto generated by spring batch . Can any one please help / suggest  to append the timestamp in this auto generated log file .\r\n\r\nI am expecting this auto generated error log file to have a timestamp . But its not having the timestamp .\r\nTried to find out the logging configuration which will generate this file but did not found any .\r\n\r\nAny help will be appreciated. Thank you !","title":"Spring Batch auto generated error Logging File not having timestamp","body":"<p>There are errors on start-up of spring batch which are getting logged into default error logging file (filename : project_name.err.log)but does not have timestamp to understand when the errors occurred .</p>\n<p>We have the logging implementation in our project in the file specified in logback-spring.xml has the timestamp .</p>\n<p>But this file (filename : project_name.err.log) is getting auto generated by spring batch . Can any one please help / suggest  to append the timestamp in this auto generated log file .</p>\n<p>I am expecting this auto generated error log file to have a timestamp . But its not having the timestamp .\nTried to find out the logging configuration which will generate this file but did not found any .</p>\n<p>Any help will be appreciated. Thank you !</p>\n"},{"tags":["java","performance","performance-testing","outputstream"],"comments":[{"owner":{"account_id":76005,"reputation":38195,"user_id":217862,"accept_rate":64,"display_name":"ewernli"},"score":1,"creation_date":1378186817,"post_id":18584809,"comment_id":27348360,"body_markdown":"System.out is slow, but whether it impacts the overal perf of your application depends entirely on what it does. This question can&#39;t be answered as is.","body":"System.out is slow, but whether it impacts the overal perf of your application depends entirely on what it does. This question can&#39;t be answered as is."},{"owner":{"account_id":259109,"reputation":2800,"user_id":541755,"accept_rate":71,"display_name":"jontejj"},"score":0,"creation_date":1378187055,"post_id":18584809,"comment_id":27348445,"body_markdown":"You could fire off the printing in another thread. Of course, then you wouldn&#39;t be up to date on exactly where your code is, at least it wouldn&#39;t slow you down. Beware of how big buffer you have though.","body":"You could fire off the printing in another thread. Of course, then you wouldn&#39;t be up to date on exactly where your code is, at least it wouldn&#39;t slow you down. Beware of how big buffer you have though."},{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":0,"creation_date":1378187233,"post_id":18584809,"comment_id":27348508,"body_markdown":"@ Michael Ardan : if the server process thousands of record and print it on the console, do you really see them? It it for debugging?","body":"@ Michael Ardan : if the server process thousands of record and print it on the console, do you really see them? It it for debugging?"},{"owner":{"account_id":2069486,"reputation":4223,"user_id":1844263,"accept_rate":89,"display_name":"Michael &#39;Maik&#39; Ardan"},"score":0,"creation_date":1378187269,"post_id":18584809,"comment_id":27348525,"body_markdown":"@Jayan : Yes, it can be seen from the console.","body":"@Jayan : Yes, it can be seen from the console."},{"owner":{"account_id":20342398,"reputation":155,"user_id":14921272,"display_name":"Cole Henrich"},"score":0,"creation_date":1621647458,"post_id":18584809,"comment_id":119566475,"body_markdown":"It also depends on the ratio of println calls to other functions your code is executing.  Objectively, it doesn&#39;t, but if your program takes 60 secods to run and excess printlns account for 2 seconds, it seems less relevant.","body":"It also depends on the ratio of println calls to other functions your code is executing.  Objectively, it doesn&#39;t, but if your program takes 60 secods to run and excess printlns account for 2 seconds, it seems less relevant."}],"answers":[{"tags":[],"owner":{"account_id":2163634,"reputation":1349,"user_id":1917215,"accept_rate":75,"display_name":"user1231232141214124"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1378186797,"creation_date":1378186797,"answer_id":18584848,"question_id":18584809,"body_markdown":"Yes, it will have a HUGE impact on performance. If you want a quantifiable number, well then there&#39;s plenty of software and/or ways of measuring your own code&#39;s performance.","title":"Java - System.out effect on performance","body":"<p>Yes, it will have a HUGE impact on performance. If you want a quantifiable number, well then there's plenty of software and/or ways of measuring your own code's performance.</p>\n"},{"tags":[],"owner":{"account_id":1138392,"reputation":9603,"user_id":1122959,"accept_rate":100,"display_name":"rocketboy"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1378187511,"creation_date":1378187511,"answer_id":18585025,"question_id":18584809,"body_markdown":"    System.out.println()\r\n\r\nis synchronized. \r\n\r\n     public void println(String x) {\r\n    \tsynchronized (this) {\r\n    \t    print(x);\r\n    \t    newLine();\r\n    \t}\r\n\r\nIf multiple threads write to it, its performance will suffer.","title":"Java - System.out effect on performance","body":"<pre><code>System.out.println()\n</code></pre>\n\n<p>is synchronized. </p>\n\n<pre><code> public void println(String x) {\n    synchronized (this) {\n        print(x);\n        newLine();\n    }\n</code></pre>\n\n<p>If multiple threads write to it, its performance will suffer.</p>\n"},{"tags":[],"owner":{"account_id":3232994,"reputation":621,"user_id":2727801,"display_name":"bubooal"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1378188870,"creation_date":1378188870,"answer_id":18585337,"question_id":18584809,"body_markdown":"It can have an impact on your application performance. The magnitude will vary depending on the kind of hardware you are running on and the load on the host.\r\n\r\nSome points on which this can translate to performance wise:\r\n\r\n-&gt; Like Rocket boy stated, println is synchronized, which means you will be incurring in locking overhead on the object header and may cause thread bottlenecks depending on your design.\r\n\r\n-&gt; Printing on the console requires kernel time, kernel time means the cpu will not be running on user mode which basically means your cpu will be busy executing on kernel code instead of your application code.\r\n\r\n-&gt; If you are already logging this, that means extra kernel time for I/O, and if your platform does not support asynchronous I/O this means your cpu might become stalled on busy waits.\r\n\r\nYou can actually try and benchmark this and verify this yourself. \r\n\r\nThere are ways to getaway with this like for example having a really fast I/O, a huge machine for dedicated use maybe and biased locking on your JVM options if your application design will not be multithreaded on that console printing.\r\n\r\nLike everything on performance, it all depends on your hardware and priorities.\r\n","title":"Java - System.out effect on performance","body":"<p>It can have an impact on your application performance. The magnitude will vary depending on the kind of hardware you are running on and the load on the host.</p>\n\n<p>Some points on which this can translate to performance wise:</p>\n\n<p>-> Like Rocket boy stated, println is synchronized, which means you will be incurring in locking overhead on the object header and may cause thread bottlenecks depending on your design.</p>\n\n<p>-> Printing on the console requires kernel time, kernel time means the cpu will not be running on user mode which basically means your cpu will be busy executing on kernel code instead of your application code.</p>\n\n<p>-> If you are already logging this, that means extra kernel time for I/O, and if your platform does not support asynchronous I/O this means your cpu might become stalled on busy waits.</p>\n\n<p>You can actually try and benchmark this and verify this yourself. </p>\n\n<p>There are ways to getaway with this like for example having a really fast I/O, a huge machine for dedicated use maybe and biased locking on your JVM options if your application design will not be multithreaded on that console printing.</p>\n\n<p>Like everything on performance, it all depends on your hardware and priorities.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1378191507,"creation_date":1378191507,"answer_id":18585992,"question_id":18584809,"body_markdown":"System.out.println is very slow compared to most slow operations.  This is because it places more work on the machine than other IO operations (and it is single threaded)  \r\n\r\nI suggest you write the output to a file and `tail` the output of this file.  This way, the output will still be slow, but it won&#39;t slow down your web service so much.","title":"Java - System.out effect on performance","body":"<p>System.out.println is very slow compared to most slow operations.  This is because it places more work on the machine than other IO operations (and it is single threaded)  </p>\n\n<p>I suggest you write the output to a file and <code>tail</code> the output of this file.  This way, the output will still be slow, but it won't slow down your web service so much.</p>\n"},{"tags":[],"owner":{"account_id":5083181,"reputation":2269,"user_id":4078670,"display_name":"Render"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1435589100,"creation_date":1435588784,"answer_id":31118560,"question_id":18584809,"body_markdown":"I was recently testing with (reading and) writing large (1-1.5gb) text-files, and I found out that:\r\n\r\n\r\n    PrintWriter out = new PrintWriter(new BufferedWriter(new OutputStreamWriter(new FileOutputStream(java.io.FileDescriptor.out), &quot;UTF-8&quot;), 512));\r\n    out.println(yourString);\r\n    //...\r\n    out.flush();\r\n\r\nis in fact almost **250%** faster than\r\n\r\n    System.out.println(yourString);\r\n\r\nMy test-program first read about 1gb of data, processed it a bit and outputted it in slightly different format.\r\n\r\nTest results (on Macbook Pro, with SSD reading&amp;writing using same disk):\r\n\r\n- data-output-to-system-out &gt; output.txt =&gt; **1min32sec**\r\n- data-written-to-file-in-java =&gt; **37sec**\r\n- data-written-to-buffered-writer-stdout &gt; output.txt =&gt; **36sec**\r\n\r\nI did try with multiple buffer sized between 256-10k but that didn&#39;t seem to matter.\r\n\r\nSo keep in mind if you&#39;re creating unix command-line tools with Java where output is meant to be directed or piped to somewhere else, don&#39;t use System.out directly!","title":"Java - System.out effect on performance","body":"<p>I was recently testing with (reading and) writing large (1-1.5gb) text-files, and I found out that:</p>\n\n<pre><code>PrintWriter out = new PrintWriter(new BufferedWriter(new OutputStreamWriter(new FileOutputStream(java.io.FileDescriptor.out), \"UTF-8\"), 512));\nout.println(yourString);\n//...\nout.flush();\n</code></pre>\n\n<p>is in fact almost <strong>250%</strong> faster than</p>\n\n<pre><code>System.out.println(yourString);\n</code></pre>\n\n<p>My test-program first read about 1gb of data, processed it a bit and outputted it in slightly different format.</p>\n\n<p>Test results (on Macbook Pro, with SSD reading&amp;writing using same disk):</p>\n\n<ul>\n<li>data-output-to-system-out > output.txt => <strong>1min32sec</strong></li>\n<li>data-written-to-file-in-java => <strong>37sec</strong></li>\n<li>data-written-to-buffered-writer-stdout > output.txt => <strong>36sec</strong></li>\n</ul>\n\n<p>I did try with multiple buffer sized between 256-10k but that didn't seem to matter.</p>\n\n<p>So keep in mind if you're creating unix command-line tools with Java where output is meant to be directed or piped to somewhere else, don't use System.out directly!</p>\n"},{"tags":[],"owner":{"account_id":1797857,"reputation":1240,"user_id":1636874,"display_name":"Harshil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668492904,"creation_date":1611297162,"answer_id":65840348,"question_id":18584809,"body_markdown":"Here&#39;s a very simple program to check performance of System.out.println and compare it with multiplication operation (You can use other operations or function specific to your requirements). \r\n\r\n    public class Main{\r\n\r\n     public static void main(String []args) throws InterruptedException{\r\n                 \r\n        \r\n        long tTime = System.nanoTime();\r\n        long a = 123L;\r\n        long b = 234L;\r\n        \r\n        long c  = a*b;\r\n        long uTime = System.nanoTime();\r\n        \r\n        System.out.println(&quot;a * b = &quot;+ c +&quot;. Time taken for multiplication =  &quot;+ (uTime - tTime) + &quot; nano Seconds&quot;);\r\n        \r\n        long vTime = System.nanoTime();\r\n        System.out.println(&quot;Time taken to execute Print statement : &quot;+ (vTime - uTime) + &quot; nano Seconds&quot;);\r\n        \r\n     }\r\n    }\r\n\r\nOutput depends on your machine and it&#39;s current state.\r\n\r\nHere&#39;s what I got on : https://www.onlinegdb.com/online_java_compiler \r\n\r\n    a * b = 28782. Time taken for multiplication =  330 nano Seconds                                                                                                                     \r\n    Time taken to execute Print statement : 338650 nano Seconds \r\n\r\n**EDIT :** \r\n\r\nI have logger set up on my local machine so wanted to give you idea of performance difference between system.out.println and logger.info - i.e., performance comparison between console print vs logging\r\n\r\n    public static void main(String []args) throws InterruptedException{\r\n\r\n\r\n            long tTime = System.nanoTime();\r\n            long a = 123L;\r\n            long b = 234L;\r\n\r\n            long c  = a*b;\r\n            long uTime = System.nanoTime();\r\n\r\n            System.out.println(&quot;a * b = &quot;+ c +&quot;. Time taken for multiplication =  &quot;+ (uTime - tTime) + &quot; nano Seconds&quot;);\r\n\r\n            long vTime = System.nanoTime();\r\n            System.out.println(&quot;Time taken to execute Print statement : &quot;+ (vTime - uTime) + &quot; nano Seconds&quot;);\r\n\r\n            long wTime = System.nanoTime();\r\n            logger.info(&quot;a * b = &quot;+ c +&quot;. Time taken for multiplication =  &quot;+ (uTime - tTime) + &quot; nano Seconds&quot;);\r\n            long xTime = System.nanoTime();\r\n            System.out.println(&quot;Time taken to execute log statement : &quot;+ (xTime - wTime) + &quot; nano Seconds&quot;);\r\n\r\n        }\r\n\r\nHere&#39;s what I got on my local machine :\r\n\r\n    a * b = 28782. Time taken for multiplication =  1667 nano Seconds\r\n    Time taken to execute Print statement : 34080917 nano Seconds\r\n    2022-11-15 11:36:32.734 [] INFO  CreditAcSvcImpl uuid:  - a * b = 28782. Time taken for multiplication =  1667 nano Seconds \r\n    Time taken to execute log statement : 9645083 nano Seconds\r\n\r\nNotice that system.out.println is taking almost 24 ms higher then the logger.info.","title":"Java - System.out effect on performance","body":"<p>Here's a very simple program to check performance of System.out.println and compare it with multiplication operation (You can use other operations or function specific to your requirements).</p>\n<pre><code>public class Main{\n\n public static void main(String []args) throws InterruptedException{\n             \n    \n    long tTime = System.nanoTime();\n    long a = 123L;\n    long b = 234L;\n    \n    long c  = a*b;\n    long uTime = System.nanoTime();\n    \n    System.out.println(&quot;a * b = &quot;+ c +&quot;. Time taken for multiplication =  &quot;+ (uTime - tTime) + &quot; nano Seconds&quot;);\n    \n    long vTime = System.nanoTime();\n    System.out.println(&quot;Time taken to execute Print statement : &quot;+ (vTime - uTime) + &quot; nano Seconds&quot;);\n    \n }\n}\n</code></pre>\n<p>Output depends on your machine and it's current state.</p>\n<p>Here's what I got on : <a href=\"https://www.onlinegdb.com/online_java_compiler\" rel=\"nofollow noreferrer\">https://www.onlinegdb.com/online_java_compiler</a></p>\n<pre><code>a * b = 28782. Time taken for multiplication =  330 nano Seconds                                                                                                                     \nTime taken to execute Print statement : 338650 nano Seconds \n</code></pre>\n<p><strong>EDIT :</strong></p>\n<p>I have logger set up on my local machine so wanted to give you idea of performance difference between system.out.println and logger.info - i.e., performance comparison between console print vs logging</p>\n<pre><code>public static void main(String []args) throws InterruptedException{\n\n\n        long tTime = System.nanoTime();\n        long a = 123L;\n        long b = 234L;\n\n        long c  = a*b;\n        long uTime = System.nanoTime();\n\n        System.out.println(&quot;a * b = &quot;+ c +&quot;. Time taken for multiplication =  &quot;+ (uTime - tTime) + &quot; nano Seconds&quot;);\n\n        long vTime = System.nanoTime();\n        System.out.println(&quot;Time taken to execute Print statement : &quot;+ (vTime - uTime) + &quot; nano Seconds&quot;);\n\n        long wTime = System.nanoTime();\n        logger.info(&quot;a * b = &quot;+ c +&quot;. Time taken for multiplication =  &quot;+ (uTime - tTime) + &quot; nano Seconds&quot;);\n        long xTime = System.nanoTime();\n        System.out.println(&quot;Time taken to execute log statement : &quot;+ (xTime - wTime) + &quot; nano Seconds&quot;);\n\n    }\n</code></pre>\n<p>Here's what I got on my local machine :</p>\n<pre><code>a * b = 28782. Time taken for multiplication =  1667 nano Seconds\nTime taken to execute Print statement : 34080917 nano Seconds\n2022-11-15 11:36:32.734 [] INFO  CreditAcSvcImpl uuid:  - a * b = 28782. Time taken for multiplication =  1667 nano Seconds \nTime taken to execute log statement : 9645083 nano Seconds\n</code></pre>\n<p>Notice that system.out.println is taking almost 24 ms higher then the logger.info.</p>\n"}],"owner":{"account_id":2069486,"reputation":4223,"user_id":1844263,"accept_rate":89,"display_name":"Michael &#39;Maik&#39; Ardan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15902,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":18585337,"answer_count":6,"score":11,"last_activity_date":1668492904,"creation_date":1378186595,"question_id":18584809,"body_markdown":"I&#39;ve seen [this question](https://stackoverflow.com/questions/10966984/what-is-effect-of-syso-system-out-println) and it&#39;s somewhat similar. I would like to know if it really is a big factor that would affect the performance of my application. Here&#39;s my scenario.&lt;br&gt;\r\n&lt;br&gt;\r\nI have this Java webapp that can upload thousands of data from a Spreadsheet which is being read per row from top to bottom. I&#39;m using `System.out.println()` to show on the server&#39;s side on what line the application is currently reading.\r\n&lt;br&gt;&lt;br&gt;\r\n- I&#39;m aware of creating a log file. In fact, I&#39;m creating a log file and at the same time, displaying the logs on the server&#39;s prompt.&lt;br&gt;\r\nIs there any other way of printing the current data on the prompt?","title":"Java - System.out effect on performance","body":"<p>I've seen <a href=\"https://stackoverflow.com/questions/10966984/what-is-effect-of-syso-system-out-println\">this question</a> and it's somewhat similar. I would like to know if it really is a big factor that would affect the performance of my application. Here's my scenario.<br>\n<br>\nI have this Java webapp that can upload thousands of data from a Spreadsheet which is being read per row from top to bottom. I'm using <code>System.out.println()</code> to show on the server's side on what line the application is currently reading.\n<br><br>\n- I'm aware of creating a log file. In fact, I'm creating a log file and at the same time, displaying the logs on the server's prompt.<br>\nIs there any other way of printing the current data on the prompt?</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud","netflix-eureka"],"answers":[{"tags":[],"owner":{"account_id":138557,"reputation":42623,"user_id":343568,"accept_rate":100,"display_name":"nicholas.hauschild"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1457324659,"creation_date":1457324659,"answer_id":35836151,"question_id":35835348,"body_markdown":"If your Eureka client is setup via Spring&#39;s `@EnableEurekaClient`, then the client will default the health check and status check to `/health` and `/info` respectively.  (These paths may be the default values beyond the Spring `@EnableEurekaClient` setup, but I am unfamiliar with those at this point in time).\n\nYou can override these defaults by setting the following properties:\n&gt; eureka.instance.statusPageUrlPath\n&gt;\n&gt; eureka.instance.healthCheckUrlPath\n\nThe [Spring Cloud Documentation][1] contains this information, plus much more.\n\n\n  [1]: http://cloud.spring.io/spring-cloud-static/docs/1.0.x/spring-cloud.html#_status_page_and_health_indicator","title":"Spring Eureka server does not find context-path in client url","body":"<p>If your Eureka client is setup via Spring's <code>@EnableEurekaClient</code>, then the client will default the health check and status check to <code>/health</code> and <code>/info</code> respectively.  (These paths may be the default values beyond the Spring <code>@EnableEurekaClient</code> setup, but I am unfamiliar with those at this point in time).</p>\n<p>You can override these defaults by setting the following properties:</p>\n<blockquote>\n<p>eureka.instance.statusPageUrlPath</p>\n<p>eureka.instance.healthCheckUrlPath</p>\n</blockquote>\n<p>The <a href=\"http://cloud.spring.io/spring-cloud-static/docs/1.0.x/spring-cloud.html#_status_page_and_health_indicator\" rel=\"noreferrer\">Spring Cloud Documentation</a> contains this information, plus much more.</p>\n"},{"tags":[],"owner":{"account_id":15830303,"reputation":17,"user_id":11421836,"display_name":"Minh Trần"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668492541,"creation_date":1668492514,"answer_id":74441226,"question_id":35835348,"body_markdown":"&gt; application.yml\r\n\r\n    server:\r\n      servlet:\r\n        context-path: /your-path","title":"Spring Eureka server does not find context-path in client url","body":"<blockquote>\n<p>application.yml</p>\n</blockquote>\n<pre><code>server:\n  servlet:\n    context-path: /your-path\n</code></pre>\n"}],"owner":{"account_id":1920479,"reputation":7969,"user_id":1732123,"accept_rate":89,"display_name":"Carlos Alberto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7352,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":35836151,"answer_count":2,"score":3,"last_activity_date":1668492541,"creation_date":1457318570,"question_id":35835348,"body_markdown":"When a client application is registered into Spring Eureka server the client id appears at dashboard, but the link url only contains the hostname and port without the context-path of client.\n\nIf I create the Spring Boot client application without setting a context-path, I mean default root context, Eureka server can access all actuators available in there.\n\nIs there any way to inform Eureka server about it? I tried to set health and info properties,  but it did not work. ","title":"Spring Eureka server does not find context-path in client url","body":"<p>When a client application is registered into Spring Eureka server the client id appears at dashboard, but the link url only contains the hostname and port without the context-path of client.</p>\n\n<p>If I create the Spring Boot client application without setting a context-path, I mean default root context, Eureka server can access all actuators available in there.</p>\n\n<p>Is there any way to inform Eureka server about it? I tried to set health and info properties,  but it did not work. </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2924832,"reputation":480,"user_id":2506385,"display_name":"leogtzr"},"score":0,"creation_date":1668491932,"post_id":74441106,"comment_id":131411649,"body_markdown":"You are creating a local variable inside the constructor (int[] val = new int[i]) instead of using the instance variable (private int[] val). Try changing it to:\n\n    val = new int[i];\n\nThis way you are referring to the instance variable instead of the local variable created after the if clause.","body":"You are creating a local variable inside the constructor (int[] val = new int[i]) instead of using the instance variable (private int[] val). Try changing it to:      val = new int[i];  This way you are referring to the instance variable instead of the local variable created after the if clause."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1668491935,"post_id":74441106,"comment_id":131411650,"body_markdown":"I feel that the duplicate is way above the level required to explained the basics to this OP and should be re-opened. @pradeep-simha","body":"I feel that the duplicate is way above the level required to explained the basics to this OP and should be re-opened. @pradeep-simha"},{"owner":{"account_id":25620410,"reputation":7,"user_id":19392391,"display_name":"cbjdfall"},"score":0,"creation_date":1668492064,"post_id":74441106,"comment_id":131411684,"body_markdown":"@leogtzr making this change still produces the same error...","body":"@leogtzr making this change still produces the same error..."},{"owner":{"account_id":2924832,"reputation":480,"user_id":2506385,"display_name":"leogtzr"},"score":0,"creation_date":1668492246,"post_id":74441106,"comment_id":131411711,"body_markdown":"@cbjdfall, you cannot use the .length property yet in the for loop, because the array hasn&#39;t been initialized, you need to initialize it first and then use it.\n\n\n```\npublic Array() {\n    this.val = new int[5];\n    for (int i = 0; i &lt; val.length; i++){\n       if (i &lt; 4) {\n           System.out.print(&quot;,&quot;);\n       }\n       // ...\n    }\n}\n```","body":"@cbjdfall, you cannot use the .length property yet in the for loop, because the array hasn&#39;t been initialized, you need to initialize it first and then use it.   ``` public Array() {     this.val = new int[5];     for (int i = 0; i &lt; val.length; i++){        if (i &lt; 4) {            System.out.print(&quot;,&quot;);        }        // ...     } } ```"}],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668492042,"creation_date":1668492042,"answer_id":74441178,"question_id":74441106,"body_markdown":"A proper way to do this is\r\n\r\n    public class MyArray\r\n    {\r\n        \r\n        private int[] val;\r\n    \r\n        public MyArray()\r\n        {\r\n            val = new int [5];  // create an array of 5, all zero values at this stage\r\n            for (int i = 0; i &lt; val.length; i++){\r\n                   val [i] = i + 1;\r\n            }\r\n        }","title":"How do I construct an array and initialize it to the values 1 through 5 using a loop?","body":"<p>A proper way to do this is</p>\n<pre><code>public class MyArray\n{\n    \n    private int[] val;\n\n    public MyArray()\n    {\n        val = new int [5];  // create an array of 5, all zero values at this stage\n        for (int i = 0; i &lt; val.length; i++){\n               val [i] = i + 1;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":25620410,"reputation":7,"user_id":19392391,"display_name":"cbjdfall"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1668492042,"creation_date":1668491328,"question_id":74441106,"body_markdown":"This is what I have so far, but I keep getting a NullPointException error.\r\n\r\n```\r\npublic class Array\r\n{\r\n    \r\n    private int[] val;\r\n\r\n    public Array()\r\n    {\r\n        for (int i = 0; i &lt; val.length; i++){\r\n           if (i &lt; 4) {\r\n               System.out.print(&quot;,&quot;);\r\n           }\r\n           int[] val = new int[i];\r\n        }\r\n    }\r\n```","title":"How do I construct an array and initialize it to the values 1 through 5 using a loop?","body":"<p>This is what I have so far, but I keep getting a NullPointException error.</p>\n<pre><code>public class Array\n{\n    \n    private int[] val;\n\n    public Array()\n    {\n        for (int i = 0; i &lt; val.length; i++){\n           if (i &lt; 4) {\n               System.out.print(&quot;,&quot;);\n           }\n           int[] val = new int[i];\n        }\n    }\n</code></pre>\n"},{"tags":["javascript","java","spring-boot"],"comments":[{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1668362744,"post_id":74416287,"comment_id":131381473,"body_markdown":"You don&#39;t seem to have a dependency for jquery in your pom. Anyway,  the jquery library should be placed under webjars (e.g `&lt;script type=&quot;text/javascript&quot; src=&quot;/webjars/jquery/2.2.4/jquery.min.js&quot;&gt;&lt;/script&gt;`. I&#39;m personally not using jsp, but rather Thymeleaf but I still think this should work for you as well.","body":"You don&#39;t seem to have a dependency for jquery in your pom. Anyway,  the jquery library should be placed under webjars (e.g <code>&lt;script type=&quot;text&#47;javascript&quot; src=&quot;&#47;webjars&#47;jquery&#47;2.2.4&#47;jquery.min.js&quot;&gt;&lt;&#47;script&gt;</code>. I&#39;m personally not using jsp, but rather Thymeleaf but I still think this should work for you as well."},{"owner":{"account_id":9672,"reputation":4912,"user_id":17967,"accept_rate":66,"display_name":"Gary Kephart"},"score":0,"creation_date":1668364032,"post_id":74416287,"comment_id":131381771,"body_markdown":"I&#39;ve never had jquery in any pom, since it&#39;s a javascript-only solution. I&#39;m not using webjars. Just downloading the compressed js files.","body":"I&#39;ve never had jquery in any pom, since it&#39;s a javascript-only solution. I&#39;m not using webjars. Just downloading the compressed js files."},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1668365310,"post_id":74416287,"comment_id":131382045,"body_markdown":"have you checked the network tab in your browser (in development tools)? What does it say?","body":"have you checked the network tab in your browser (in development tools)? What does it say?"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1668365921,"post_id":74416287,"comment_id":131382173,"body_markdown":"are all the other resources found under /static loaded properly (besides jquery and datatables)?","body":"are all the other resources found under /static loaded properly (besides jquery and datatables)?"},{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1668367186,"post_id":74416287,"comment_id":131382477,"body_markdown":"maybe you are missing some points or typo. so check that basic example please -&gt; https://www.springboottutorial.com/spring-boot-with-static-content-css-and-javascript-js","body":"maybe you are missing some points or typo. so check that basic example please -&gt; <a href=\"https://www.springboottutorial.com/spring-boot-with-static-content-css-and-javascript-js\" rel=\"nofollow noreferrer\">springboottutorial.com/&hellip;</a>"},{"owner":{"account_id":9672,"reputation":4912,"user_id":17967,"accept_rate":66,"display_name":"Gary Kephart"},"score":0,"creation_date":1668367379,"post_id":74416287,"comment_id":131382512,"body_markdown":"The network tab has a bunch of these type of messages: &quot;Loading failed for the &lt;script&gt; with source “http://localhost:8088/myapp/jquery-ui-1.13.2.custom/jquery-ui.min.js”.&quot; It looks like no js file loads.","body":"The network tab has a bunch of these type of messages: &quot;Loading failed for the &lt;script&gt; with source “<a href=\"http://localhost:8088/myapp/jquery-ui-1.13.2.custom/jquery-ui.min.js\" rel=\"nofollow noreferrer\">localhost:8088/myapp/jquery-ui-1.13.2.custom/jquery-ui.min.&zwnj;&#8203;js</a>”.&quot; It looks like no js file loads."},{"owner":{"account_id":9672,"reputation":4912,"user_id":17967,"accept_rate":66,"display_name":"Gary Kephart"},"score":0,"creation_date":1668368004,"post_id":74416287,"comment_id":131382670,"body_markdown":"@muhammed ozbilici, yes I looked at that page and several others. Oddly that page doesn&#39;t mention anything about an ApplicationConfiguration class or an ApplicationInitializer class, whereas most others do. I think I&#39;m too close to the problem now and can&#39;t step back and see the one stupid thing I need to change.","body":"@muhammed ozbilici, yes I looked at that page and several others. Oddly that page doesn&#39;t mention anything about an ApplicationConfiguration class or an ApplicationInitializer class, whereas most others do. I think I&#39;m too close to the problem now and can&#39;t step back and see the one stupid thing I need to change."},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1668368338,"post_id":74416287,"comment_id":131382753,"body_markdown":"@Gary Kephart, it&#39;s possibly a security issue then. Check you web security (WebSecurityConfigurerAdapter implementation) and make sure that everything under /static is accessible (resources found under /static should normally be made accessible even when a user in not authenticated). Or you can make only certain folders under static accessible for unauthenticated users)","body":"@Gary Kephart, it&#39;s possibly a security issue then. Check you web security (WebSecurityConfigurerAdapter implementation) and make sure that everything under /static is accessible (resources found under /static should normally be made accessible even when a user in not authenticated). Or you can make only certain folders under static accessible for unauthenticated users)"},{"owner":{"account_id":9672,"reputation":4912,"user_id":17967,"accept_rate":66,"display_name":"Gary Kephart"},"score":0,"creation_date":1668411974,"post_id":74416287,"comment_id":131389781,"body_markdown":"I don&#39;t have any security configured. This is eventually going to be microservices and using OAuth2 to connect to each other, but for now it&#39;s just one war file. It&#39;s a fairly simple system with only about 15 business objects so far. So I&#39;m just going to use basic web security for now.","body":"I don&#39;t have any security configured. This is eventually going to be microservices and using OAuth2 to connect to each other, but for now it&#39;s just one war file. It&#39;s a fairly simple system with only about 15 business objects so far. So I&#39;m just going to use basic web security for now."},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1668440665,"post_id":74416287,"comment_id":131399495,"body_markdown":"@Gary Kephart, place javascript files under /static/js folder, rather than just /static  (and css files under /static/css). I think this (sub)folder structure is actually a convention in Spring Boot. Btw, all the paths can be explicitly permitted in web security but since you&#39;re not using it, let&#39;s just try this.","body":"@Gary Kephart, place javascript files under /static/js folder, rather than just /static  (and css files under /static/css). I think this (sub)folder structure is actually a convention in Spring Boot. Btw, all the paths can be explicitly permitted in web security but since you&#39;re not using it, let&#39;s just try this."},{"owner":{"account_id":9672,"reputation":4912,"user_id":17967,"accept_rate":66,"display_name":"Gary Kephart"},"score":0,"creation_date":1668441601,"post_id":74416287,"comment_id":131399831,"body_markdown":"I tried it with one JS file and it still failed with &quot;Loading failed for the &lt;script&gt; with source “http://localhost:8088/myapp/js/myapp.js”. &quot; It would have been difficult to split jquery-ui and DataTables into separate css and js folders anyways, as they come all bundled in one parent folder. I&#39;ve never had to split it before pre-spring boot and I&#39;d be disappointed if this was now a requirement.","body":"I tried it with one JS file and it still failed with &quot;Loading failed for the &lt;script&gt; with source “<a href=\"http://localhost:8088/myapp/js/myapp.js\" rel=\"nofollow noreferrer\">localhost:8088/myapp/js/myapp.js</a>”. &quot; It would have been difficult to split jquery-ui and DataTables into separate css and js folders anyways, as they come all bundled in one parent folder. I&#39;ve never had to split it before pre-spring boot and I&#39;d be disappointed if this was now a requirement."},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1668442327,"post_id":74416287,"comment_id":131400105,"body_markdown":"@Gary Kephart, can you try to load your js file from localhost:8088/js/myapp.js and see if that works?","body":"@Gary Kephart, can you try to load your js file from localhost:8088/js/myapp.js and see if that works?"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":1,"creation_date":1668454075,"post_id":74416287,"comment_id":131404093,"body_markdown":"@Gary Kephart, you may also try and replace .addResourceLocations(&quot;/static/&quot;) with .addResourceLocations(&quot;classpath:/static/&quot;). We (my company) use this kind of syntax but I&#39;m not sure if it&#39;s going to make any difference.","body":"@Gary Kephart, you may also try and replace .addResourceLocations(&quot;/static/&quot;) with .addResourceLocations(&quot;classpath:/static/&quot;). We (my company) use this kind of syntax but I&#39;m not sure if it&#39;s going to make any difference."},{"owner":{"account_id":9672,"reputation":4912,"user_id":17967,"accept_rate":66,"display_name":"Gary Kephart"},"score":1,"creation_date":1668491772,"post_id":74416287,"comment_id":131411614,"body_markdown":"I did try and load it that way, but with no success. I did find a way, though. See my answer.","body":"I did try and load it that way, but with no success. I did find a way, though. See my answer."},{"owner":{"account_id":9672,"reputation":4912,"user_id":17967,"accept_rate":66,"display_name":"Gary Kephart"},"score":0,"creation_date":1668527361,"post_id":74416287,"comment_id":131424382,"body_markdown":"I will try the &quot;classpath:/static/&quot;","body":"I will try the &quot;classpath:/static/&quot;"},{"owner":{"account_id":9672,"reputation":4912,"user_id":17967,"accept_rate":66,"display_name":"Gary Kephart"},"score":1,"creation_date":1668527859,"post_id":74416287,"comment_id":131424604,"body_markdown":"It looks like this works as well! I think I&#39;m keeping it this way.","body":"It looks like this works as well! I think I&#39;m keeping it this way."}],"answers":[{"tags":[],"owner":{"account_id":9672,"reputation":4912,"user_id":17967,"accept_rate":66,"display_name":"Gary Kephart"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668492034,"creation_date":1668492034,"answer_id":74441176,"question_id":74416287,"body_markdown":"Found a way to make it work. Not the best answer, but it is *an* answer (cue Wheel of Time quote):\r\n\r\nI moved the static folder directly under the webapp folder. I then changed the script and link tags to have the src/href start with &quot;static/&quot;.\r\n\r\nI have no idea why this works but am still open to finding the right way to do it.","title":"Static files not loading with spring boot web, JSPs, context-path","body":"<p>Found a way to make it work. Not the best answer, but it is <em>an</em> answer (cue Wheel of Time quote):</p>\n<p>I moved the static folder directly under the webapp folder. I then changed the script and link tags to have the src/href start with &quot;static/&quot;.</p>\n<p>I have no idea why this works but am still open to finding the right way to do it.</p>\n"}],"owner":{"account_id":9672,"reputation":4912,"user_id":17967,"accept_rate":66,"display_name":"Gary Kephart"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":441,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1668492034,"creation_date":1668284488,"question_id":74416287,"body_markdown":"I&#39;m using Spring Boot 2.7.5, Java 8 and Maven and have the following jars included in pom.xml:\r\n\r\n - spring-boot-devtools\r\n - spring-boot-starter-data-jpa\r\n - spring-boot-starter-test \r\n - spring-boot-starter-tomcat\r\n - spring-boot-starter-web \r\n - tiles-core \r\n - tiles-jsp \r\n - tomcat-embed-jasper\r\n\r\nI want to use JQuery and DataTables. My static content is in src/main/resource/static:\r\n\r\n    src/main/resources\r\n      bootstrap-5.2.2-dist/\r\n      DataTables/\r\n      jquery-ui-1.13.2.custom/\r\n      jquery-3.6.1.min.js\r\n      myapp.css\r\n      myapp.js\r\n\r\nI have a configuration class that has this\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    @ComponentScan(basePackages = { ... })\r\n    public class ApplicationConfiguration implements WebMvcConfigurer\r\n    {\r\n    @Override\r\n      public void addResourceHandlers(\r\n        ResourceHandlerRegistry registry)\r\n      {\r\n        registry//\r\n          .addResourceHandler(&quot;/static/**&quot;)//\r\n          .addResourceLocations(&quot;/static/&quot;);\r\n      }\r\n    }\r\n\r\nIn my JSP, I have tried the following, none of which work\r\n -  `&lt;script type=&quot;text/javascript&quot; src=&quot;jquery-ui-1.13.2.custom/jquery-ui.min.js&quot;&gt;&lt;/script&gt;`\r\n - \t`&lt;script type=&quot;text/javascript&quot; src=&quot;static/jquery-ui-1.13.2.custom/jquery-ui.min.js&quot;&gt;&lt;/script&gt;`\r\n - \t`&lt;script type=&quot;text/javascript&quot; src=&quot;/static/jquery-ui-1.13.2.custom/jquery-ui.min.js&quot;&gt;&lt;/script&gt;`\r\n\r\nIn my application.properties, I have this:\r\n\r\n    spring.mvc.view.prefix=/WEB-INF/content/\r\n    spring.mvc.view.suffix=.jsp\r\n    server.servlet.context-path=/myapp\r\n\r\nWhat am I missing or doing wrong?","title":"Static files not loading with spring boot web, JSPs, context-path","body":"<p>I'm using Spring Boot 2.7.5, Java 8 and Maven and have the following jars included in pom.xml:</p>\n<ul>\n<li>spring-boot-devtools</li>\n<li>spring-boot-starter-data-jpa</li>\n<li>spring-boot-starter-test</li>\n<li>spring-boot-starter-tomcat</li>\n<li>spring-boot-starter-web</li>\n<li>tiles-core</li>\n<li>tiles-jsp</li>\n<li>tomcat-embed-jasper</li>\n</ul>\n<p>I want to use JQuery and DataTables. My static content is in src/main/resource/static:</p>\n<pre><code>src/main/resources\n  bootstrap-5.2.2-dist/\n  DataTables/\n  jquery-ui-1.13.2.custom/\n  jquery-3.6.1.min.js\n  myapp.css\n  myapp.js\n</code></pre>\n<p>I have a configuration class that has this</p>\n<pre><code>@Configuration\n@EnableWebMvc\n@ComponentScan(basePackages = { ... })\npublic class ApplicationConfiguration implements WebMvcConfigurer\n{\n@Override\n  public void addResourceHandlers(\n    ResourceHandlerRegistry registry)\n  {\n    registry//\n      .addResourceHandler(&quot;/static/**&quot;)//\n      .addResourceLocations(&quot;/static/&quot;);\n  }\n}\n</code></pre>\n<p>In my JSP, I have tried the following, none of which work</p>\n<ul>\n<li><code>&lt;script type=&quot;text/javascript&quot; src=&quot;jquery-ui-1.13.2.custom/jquery-ui.min.js&quot;&gt;&lt;/script&gt;</code></li>\n<li><code>&lt;script type=&quot;text/javascript&quot; src=&quot;static/jquery-ui-1.13.2.custom/jquery-ui.min.js&quot;&gt;&lt;/script&gt;</code></li>\n<li><code>&lt;script type=&quot;text/javascript&quot; src=&quot;/static/jquery-ui-1.13.2.custom/jquery-ui.min.js&quot;&gt;&lt;/script&gt;</code></li>\n</ul>\n<p>In my application.properties, I have this:</p>\n<pre><code>spring.mvc.view.prefix=/WEB-INF/content/\nspring.mvc.view.suffix=.jsp\nserver.servlet.context-path=/myapp\n</code></pre>\n<p>What am I missing or doing wrong?</p>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1668451932,"post_id":74436332,"comment_id":131403427,"body_markdown":"I would like you to (1) post a [mre] so that I can see in my debugger what happens (2) indent your code properly so I can read it..","body":"I would like you to (1) post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so that I can see in my debugger what happens (2) indent your code properly so I can read it.."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668456639,"creation_date":1668456639,"answer_id":74437293,"question_id":74436332,"body_markdown":"When the list is reversed, the previous head of the list has become the tail. Concretely, after that reversal, `head` references the tail of the now reversed list. A tail has (by definition) a `next` member that is `null`, and so your `while` loop will only iterate once.\r\n\r\nRealise that when you reverse the list, you don&#39;t have the original order anymore: all `next` members have lost their original value and now (only) have a reference that reflects the reversed order.\r\n\r\nYou have a few options to do it right:\r\n\r\n1. Have your `reverse` method create a **new** list, so that caller will then have both the original and the reversed list. This will allow you to iterate both lists in tandem and compare the node values as intended\r\n\r\n2. Create an array from the list. Now check whether the array is a palindrome. \r\n\r\n3. The above options need O(n) extra space. You can solve this without O(n) \r\n auxiliary space: only reverse **half** of the list. Here you don&#39;t need to create new nodes, but by only reversing half of the list, you can traverse the reversed part and the non-reversed part in tandem and make value comparisons\r\n\r\n","title":"Reversed Linked List only prints as one node","body":"<p>When the list is reversed, the previous head of the list has become the tail. Concretely, after that reversal, <code>head</code> references the tail of the now reversed list. A tail has (by definition) a <code>next</code> member that is <code>null</code>, and so your <code>while</code> loop will only iterate once.</p>\n<p>Realise that when you reverse the list, you don't have the original order anymore: all <code>next</code> members have lost their original value and now (only) have a reference that reflects the reversed order.</p>\n<p>You have a few options to do it right:</p>\n<ol>\n<li><p>Have your <code>reverse</code> method create a <strong>new</strong> list, so that caller will then have both the original and the reversed list. This will allow you to iterate both lists in tandem and compare the node values as intended</p>\n</li>\n<li><p>Create an array from the list. Now check whether the array is a palindrome.</p>\n</li>\n<li><p>The above options need O(n) extra space. You can solve this without O(n)\nauxiliary space: only reverse <strong>half</strong> of the list. Here you don't need to create new nodes, but by only reversing half of the list, you can traverse the reversed part and the non-reversed part in tandem and make value comparisons</p>\n</li>\n</ol>\n"}],"owner":{"account_id":22352467,"reputation":57,"user_id":16570303,"display_name":"Chrizlove"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74437293,"answer_count":1,"score":0,"last_activity_date":1668491894,"creation_date":1668450978,"question_id":74436332,"body_markdown":"I was coding on gfg practice to test whether a linked list is a palindrome, and after I reversed the linked list, it showed only one node.\r\n   \r\nThis is the code below (the linked list passed is 1-&gt;2-&gt;1) :-\r\n\r\n```\r\nclass Solution\r\n{\r\n    //Function to check whether the list is palindrome.\r\n    boolean isPalindrome(Node head) \r\n    {\r\n        Node temp=head;\r\n        Node reversed= reverseList(temp);\r\n        Node cur = head;\r\n        \r\n        while(cur!=null)\r\n        {\r\n            System.out.println(cur.data+&quot;    inloop&quot;);\r\n            cur=cur.next;\r\n        }\r\n         \r\n        return true;\r\n    } \r\n\r\n    Node reverseList(Node node)\r\n    {        \r\n        Node prev = null;\r\n        Node current = node;\r\n        Node next = null;\r\n        while (current != null) {\r\n            next = current.next;\r\n            current.next = prev;\r\n            prev = current;\r\n            current = next;\r\n        }\r\n        node = prev;\r\n        return node; \r\n    }\r\n}\r\n```\r\n\r\nThe output of this code is ( the linked list passed is 1-&gt;2-&gt;1) : -\r\n\r\n    1    inloop\r\n\r\nBut if I comment out the `Node reversed = reverseList(temp);` line, the output is as expected: -\r\n\r\n    1    inloop\r\n    2    inloop\r\n    1    inloop\r\n\r\nWhere is my mistake?","title":"Reversed Linked List only prints as one node","body":"<p>I was coding on gfg practice to test whether a linked list is a palindrome, and after I reversed the linked list, it showed only one node.</p>\n<p>This is the code below (the linked list passed is 1-&gt;2-&gt;1) :-</p>\n<pre><code>class Solution\n{\n    //Function to check whether the list is palindrome.\n    boolean isPalindrome(Node head) \n    {\n        Node temp=head;\n        Node reversed= reverseList(temp);\n        Node cur = head;\n        \n        while(cur!=null)\n        {\n            System.out.println(cur.data+&quot;    inloop&quot;);\n            cur=cur.next;\n        }\n         \n        return true;\n    } \n\n    Node reverseList(Node node)\n    {        \n        Node prev = null;\n        Node current = node;\n        Node next = null;\n        while (current != null) {\n            next = current.next;\n            current.next = prev;\n            prev = current;\n            current = next;\n        }\n        node = prev;\n        return node; \n    }\n}\n</code></pre>\n<p>The output of this code is ( the linked list passed is 1-&gt;2-&gt;1) : -</p>\n<pre><code>1    inloop\n</code></pre>\n<p>But if I comment out the <code>Node reversed = reverseList(temp);</code> line, the output is as expected: -</p>\n<pre><code>1    inloop\n2    inloop\n1    inloop\n</code></pre>\n<p>Where is my mistake?</p>\n"},{"tags":["java","retrofit","retrofit2","spotify"],"answers":[{"tags":[],"owner":{"account_id":25754190,"reputation":1,"user_id":19506183,"display_name":"SethC601"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668491743,"creation_date":1668491743,"answer_id":74441146,"question_id":74438919,"body_markdown":"I found the answer! The &quot;/v1&quot; part of the URL needed to be on the endpoint rather than in the base URL, despite the documentation seemingly stating otherwise. Confusing and frustrating!","title":"Retrofit call to Spotify API returns a 404 error","body":"<p>I found the answer! The &quot;/v1&quot; part of the URL needed to be on the endpoint rather than in the base URL, despite the documentation seemingly stating otherwise. Confusing and frustrating!</p>\n"}],"owner":{"account_id":25754190,"reputation":1,"user_id":19506183,"display_name":"SethC601"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668491743,"creation_date":1668467453,"question_id":74438919,"body_markdown":"Am using retrofit2 to try to connect to Spotify. For now I am just logging the result code to see if it works. When I remove the &quot;Authorization&quot; Header/Parameter from my api call, it gives me a 401 error, indicating that I was not authorized. When I add the Authorization parameter and pass the access token, it gives me 404 error, indicating &quot;not found&quot;. I am inexperienced with this stuff, but nonetheless this confuses me, please send thoughts/suggestions.\r\n\r\n```\r\nimport static com.example.spotifyapp1.spotifyconstants.Constants.CLIENT_ID;\r\nimport static com.example.spotifyapp1.spotifyconstants.Constants.REDIRECT_URI;\r\nimport static com.example.spotifyapp1.spotifyconstants.Constants.REQUEST_CODE;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.example.spotifyapp1.data.RetrofitInstance;\r\nimport com.example.spotifyapp1.data.SpotifyApi;\r\nimport com.example.spotifyapp1.databinding.ActivityMainBinding;\r\nimport com.spotify.sdk.android.auth.AuthorizationClient;\r\nimport com.spotify.sdk.android.auth.AuthorizationRequest;\r\nimport com.spotify.sdk.android.auth.AuthorizationResponse;\r\n\r\nimport retrofit2.Call;\r\nimport retrofit2.Callback;\r\nimport retrofit2.Response;\r\nimport retrofit2.Retrofit;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private ActivityMainBinding binding;\r\n\r\n\r\n    Retrofit retrofit = RetrofitInstance.getRetrofitInstance();\r\n    SpotifyApi spotifyApi = retrofit.create(SpotifyApi.class);\r\n\r\n    Call&lt;Response&lt;String&gt;&gt; mainCall;\r\n\r\n    String accessToken;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        View view = binding.getRoot();\r\n        setContentView(view);\r\n\r\n\r\n        AuthorizationRequest.Builder builder = new AuthorizationRequest.Builder(CLIENT_ID, AuthorizationResponse.Type.TOKEN, REDIRECT_URI);\r\n\r\n        AuthorizationRequest request = builder.setScopes(new String[]{&quot;app-remote-control&quot;,&quot;streaming&quot;}).build();\r\n        AuthorizationClient.openLoginActivity(this,REQUEST_CODE,request);\r\n\r\n\r\n        binding.setVolumeButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                mainCall.enqueue(\r\n                        new Callback&lt;Response&lt;String&gt;&gt;() {\r\n                            @Override\r\n                            public void onResponse(Call&lt;Response&lt;String&gt;&gt; call, Response&lt;Response&lt;String&gt;&gt; response) {\r\n                                //Log.d(&quot;MainActivity&quot;,String.format(&quot;tokenAtCall:%s&quot;,accessToken));\r\n                                Log.d(&quot;MainActivity&quot;, String.format(&quot;onResponse: code..%d&quot;,response.code()));\r\n                            }\r\n\r\n                            @Override\r\n                            public void onFailure(Call&lt;Response&lt;String&gt;&gt; call, Throwable t) {\r\n                                Log.d(&quot;MainActivity&quot;, &quot;onFailure&quot;);\r\n                            }\r\n                        }\r\n                );\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent intent) {\r\n        super.onActivityResult(requestCode,resultCode,intent);\r\n\r\n        if (requestCode == REQUEST_CODE) {\r\n            AuthorizationResponse response = AuthorizationClient.getResponse(resultCode,intent);\r\n\r\n            switch (response.getType()) {\r\n                case TOKEN:\r\n                    //Log.d(&quot;MainActivity&quot;, &quot;token&quot;);\r\n                    accessToken = response.getAccessToken();\r\n                    //Log.d(&quot;MainActivity&quot;,String.format(&quot;token:%s&quot;,accessToken));\r\n                    mainCall = spotifyApi.setVolume(&quot;Bearer &quot; + accessToken,50,null);\r\n\r\n                case ERROR:\r\n                    //Log.d(&quot;MainActivity&quot;, &quot;error&quot;);\r\n\r\n                default:\r\n                    //Log.d(&quot;MainActivity&quot;, &quot;default&quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nHere I use the spotify.android:auth library to authenticate with spotify. The authentication appears to work as it provides me with an access token, which I then attempt to pass into the call, unsuccessfully.\r\n\r\n\r\n```\r\nimport retrofit2.Call;\r\nimport retrofit2.Response;\r\nimport retrofit2.http.Header;\r\nimport retrofit2.http.PUT;\r\nimport retrofit2.http.Query;\r\n\r\npublic interface SpotifyApi {\r\n\r\n    @PUT(&quot;/me/player/volume&quot;)\r\n    Call&lt;Response&lt;String&gt;&gt; setVolume(\r\n        @Header(&quot;Authorization&quot;) String authorization,\r\n        @Query(&quot;volume_percent&quot;) int volumePercent,\r\n        @Query(&quot;device_id&quot;) String deviceId\r\n    );\r\n\r\n}\r\n```\r\nHere&#39;s my api\r\n\r\n\r\n```\r\nimport static com.example.spotifyapp1.spotifyconstants.Constants.BASE_URL;\r\n\r\nimport retrofit2.Retrofit;\r\nimport retrofit2.converter.gson.GsonConverterFactory;\r\n\r\npublic class RetrofitInstance {\r\n\r\n    public static Retrofit getRetrofitInstance() {\r\n\r\n        Retrofit retrofit = new Retrofit.Builder()\r\n                .baseUrl(BASE_URL)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .build();\r\n\r\n        return retrofit;\r\n\r\n    }\r\n\r\n}\r\n```\r\nand my retrofit","title":"Retrofit call to Spotify API returns a 404 error","body":"<p>Am using retrofit2 to try to connect to Spotify. For now I am just logging the result code to see if it works. When I remove the &quot;Authorization&quot; Header/Parameter from my api call, it gives me a 401 error, indicating that I was not authorized. When I add the Authorization parameter and pass the access token, it gives me 404 error, indicating &quot;not found&quot;. I am inexperienced with this stuff, but nonetheless this confuses me, please send thoughts/suggestions.</p>\n<pre><code>import static com.example.spotifyapp1.spotifyconstants.Constants.CLIENT_ID;\nimport static com.example.spotifyapp1.spotifyconstants.Constants.REDIRECT_URI;\nimport static com.example.spotifyapp1.spotifyconstants.Constants.REQUEST_CODE;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.example.spotifyapp1.data.RetrofitInstance;\nimport com.example.spotifyapp1.data.SpotifyApi;\nimport com.example.spotifyapp1.databinding.ActivityMainBinding;\nimport com.spotify.sdk.android.auth.AuthorizationClient;\nimport com.spotify.sdk.android.auth.AuthorizationRequest;\nimport com.spotify.sdk.android.auth.AuthorizationResponse;\n\nimport retrofit2.Call;\nimport retrofit2.Callback;\nimport retrofit2.Response;\nimport retrofit2.Retrofit;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private ActivityMainBinding binding;\n\n\n    Retrofit retrofit = RetrofitInstance.getRetrofitInstance();\n    SpotifyApi spotifyApi = retrofit.create(SpotifyApi.class);\n\n    Call&lt;Response&lt;String&gt;&gt; mainCall;\n\n    String accessToken;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        View view = binding.getRoot();\n        setContentView(view);\n\n\n        AuthorizationRequest.Builder builder = new AuthorizationRequest.Builder(CLIENT_ID, AuthorizationResponse.Type.TOKEN, REDIRECT_URI);\n\n        AuthorizationRequest request = builder.setScopes(new String[]{&quot;app-remote-control&quot;,&quot;streaming&quot;}).build();\n        AuthorizationClient.openLoginActivity(this,REQUEST_CODE,request);\n\n\n        binding.setVolumeButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                mainCall.enqueue(\n                        new Callback&lt;Response&lt;String&gt;&gt;() {\n                            @Override\n                            public void onResponse(Call&lt;Response&lt;String&gt;&gt; call, Response&lt;Response&lt;String&gt;&gt; response) {\n                                //Log.d(&quot;MainActivity&quot;,String.format(&quot;tokenAtCall:%s&quot;,accessToken));\n                                Log.d(&quot;MainActivity&quot;, String.format(&quot;onResponse: code..%d&quot;,response.code()));\n                            }\n\n                            @Override\n                            public void onFailure(Call&lt;Response&lt;String&gt;&gt; call, Throwable t) {\n                                Log.d(&quot;MainActivity&quot;, &quot;onFailure&quot;);\n                            }\n                        }\n                );\n            }\n        });\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent intent) {\n        super.onActivityResult(requestCode,resultCode,intent);\n\n        if (requestCode == REQUEST_CODE) {\n            AuthorizationResponse response = AuthorizationClient.getResponse(resultCode,intent);\n\n            switch (response.getType()) {\n                case TOKEN:\n                    //Log.d(&quot;MainActivity&quot;, &quot;token&quot;);\n                    accessToken = response.getAccessToken();\n                    //Log.d(&quot;MainActivity&quot;,String.format(&quot;token:%s&quot;,accessToken));\n                    mainCall = spotifyApi.setVolume(&quot;Bearer &quot; + accessToken,50,null);\n\n                case ERROR:\n                    //Log.d(&quot;MainActivity&quot;, &quot;error&quot;);\n\n                default:\n                    //Log.d(&quot;MainActivity&quot;, &quot;default&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Here I use the spotify.android:auth library to authenticate with spotify. The authentication appears to work as it provides me with an access token, which I then attempt to pass into the call, unsuccessfully.</p>\n<pre><code>import retrofit2.Call;\nimport retrofit2.Response;\nimport retrofit2.http.Header;\nimport retrofit2.http.PUT;\nimport retrofit2.http.Query;\n\npublic interface SpotifyApi {\n\n    @PUT(&quot;/me/player/volume&quot;)\n    Call&lt;Response&lt;String&gt;&gt; setVolume(\n        @Header(&quot;Authorization&quot;) String authorization,\n        @Query(&quot;volume_percent&quot;) int volumePercent,\n        @Query(&quot;device_id&quot;) String deviceId\n    );\n\n}\n</code></pre>\n<p>Here's my api</p>\n<pre><code>import static com.example.spotifyapp1.spotifyconstants.Constants.BASE_URL;\n\nimport retrofit2.Retrofit;\nimport retrofit2.converter.gson.GsonConverterFactory;\n\npublic class RetrofitInstance {\n\n    public static Retrofit getRetrofitInstance() {\n\n        Retrofit retrofit = new Retrofit.Builder()\n                .baseUrl(BASE_URL)\n                .addConverterFactory(GsonConverterFactory.create())\n                .build();\n\n        return retrofit;\n\n    }\n\n}\n</code></pre>\n<p>and my retrofit</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":4927857,"reputation":5042,"user_id":3968623,"accept_rate":95,"display_name":"MD. Khairul Basar"},"score":0,"creation_date":1472193740,"post_id":39159770,"comment_id":65663082,"body_markdown":"Parse users as a JSONArray and iterate ! Parsing props in the same way should work too.","body":"Parse users as a JSONArray and iterate ! Parsing props in the same way should work too."}],"answers":[{"tags":[],"owner":{"account_id":2975595,"reputation":502,"user_id":2526688,"display_name":"Nirav Chhatrola"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1472194903,"creation_date":1472194903,"answer_id":39160226,"question_id":39159770,"body_markdown":"You have to create calss structure like bellow to map your string to java object.\r\n\r\nCreate one class for Details\r\n\r\n    public class Details {\r\n    \tprivate String message;\r\n    \tprivate String status;\r\n    \tprivate Map&lt;String, List&lt;UserDetails&gt;&gt; users = new HashMap&lt;String, List&lt;UserDetails&gt;&gt;();\r\n    \tpublic String getMessage() {\r\n    \t\treturn message;\r\n    \t}\r\n    \tpublic void setMessage(String message) {\r\n    \t\tthis.message = message;\r\n    \t}\r\n    \tpublic String getStatus() {\r\n    \t\treturn status;\r\n    \t}\r\n    \tpublic void setStatus(String status) {\r\n    \t\tthis.status = status;\r\n    \t}\r\n    \tpublic Map&lt;String, List&lt;UserDetails&gt;&gt; getUsers() {\r\n    \t\treturn users;\r\n    \t}\r\n    \tpublic void setUsers(Map&lt;String, List&lt;UserDetails&gt;&gt; users) {\r\n    \t\tthis.users = users;\r\n    \t}\r\n    }\r\n\r\nCreate UserDetails class like bellow.\r\n\r\n    public class UserDetails {\r\n    \tprivate String time;\r\n    \tprivate String age;\r\n    \tprivate Map&lt;String, String&gt; prop = new HashMap&lt;String, String&gt;();\r\n    \tpublic String getTime() {\r\n    \t\treturn time;\r\n    \t}\r\n    \tpublic void setTime(String time) {\r\n    \t\tthis.time = time;\r\n    \t}\r\n    \tpublic String getAge() {\r\n    \t\treturn age;\r\n    \t}\r\n    \tpublic void setAge(String age) {\r\n    \t\tthis.age = age;\r\n    \t}\r\n    \tpublic Map&lt;String, String&gt; getProp() {\r\n    \t\treturn prop;\r\n    \t}\r\n    \tpublic void setProp(Map&lt;String, String&gt; prop) {\r\n    \t\tthis.prop = prop;\r\n    \t}\t\r\n    }\r\n\r\nNow you can map your string with Details class.&lt;Br&gt;\r\n\r\nHope this will help.. ","title":"Json String to Java Object with dynamic key name","body":"<p>You have to create calss structure like bellow to map your string to java object.</p>\n\n<p>Create one class for Details</p>\n\n<pre><code>public class Details {\n    private String message;\n    private String status;\n    private Map&lt;String, List&lt;UserDetails&gt;&gt; users = new HashMap&lt;String, List&lt;UserDetails&gt;&gt;();\n    public String getMessage() {\n        return message;\n    }\n    public void setMessage(String message) {\n        this.message = message;\n    }\n    public String getStatus() {\n        return status;\n    }\n    public void setStatus(String status) {\n        this.status = status;\n    }\n    public Map&lt;String, List&lt;UserDetails&gt;&gt; getUsers() {\n        return users;\n    }\n    public void setUsers(Map&lt;String, List&lt;UserDetails&gt;&gt; users) {\n        this.users = users;\n    }\n}\n</code></pre>\n\n<p>Create UserDetails class like bellow.</p>\n\n<pre><code>public class UserDetails {\n    private String time;\n    private String age;\n    private Map&lt;String, String&gt; prop = new HashMap&lt;String, String&gt;();\n    public String getTime() {\n        return time;\n    }\n    public void setTime(String time) {\n        this.time = time;\n    }\n    public String getAge() {\n        return age;\n    }\n    public void setAge(String age) {\n        this.age = age;\n    }\n    public Map&lt;String, String&gt; getProp() {\n        return prop;\n    }\n    public void setProp(Map&lt;String, String&gt; prop) {\n        this.prop = prop;\n    }   \n}\n</code></pre>\n\n<p>Now you can map your string with Details class.<Br></p>\n\n<p>Hope this will help.. </p>\n"},{"tags":[],"owner":{"account_id":12086498,"reputation":58,"user_id":11673880,"display_name":"Ankit Dabhi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668491053,"creation_date":1668491053,"answer_id":74441074,"question_id":39159770,"body_markdown":"    \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n     public class Details  {\r\n     private String message;\r\n     private boolean status;\r\n     Users UsersObject;\r\n\r\n\r\n     // Getter Methods \r\n\r\n     public String getMessage() {\r\n      return message;\r\n     }\r\n\r\n     public boolean getStatus() {\r\n      return status;\r\n     }\r\n\r\n     public Users getUsers() {\r\n      return UsersObject;\r\n     }\r\n\r\n     // Setter Methods \r\n\r\n     public void setMessage(String message) {\r\n      this.message = message;\r\n     }\r\n\r\n     public void setStatus(boolean status) {\r\n      this.status = status;\r\n     }\r\n\r\n     public void setUsers(Users usersObject) {\r\n      this.UsersObject = usersObject;\r\n     }\r\n    }\r\n    public class Users {\r\n     ArrayList &lt; Object &gt; user_xy = new ArrayList &lt; Object &gt; ();\r\n     ArrayList &lt; Object &gt; user_zt = new ArrayList &lt; Object &gt; ();\r\n\r\n\r\n     // Getter Methods \r\n\r\n\r\n\r\n     // Setter Methods \r\n\r\n\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nYou can also use online JSON to JAVA Object Converter : https://codebeautify.org/json-to-java-converter","title":"Json String to Java Object with dynamic key name","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> public class Details  {\n private String message;\n private boolean status;\n Users UsersObject;\n\n\n // Getter Methods \n\n public String getMessage() {\n  return message;\n }\n\n public boolean getStatus() {\n  return status;\n }\n\n public Users getUsers() {\n  return UsersObject;\n }\n\n // Setter Methods \n\n public void setMessage(String message) {\n  this.message = message;\n }\n\n public void setStatus(boolean status) {\n  this.status = status;\n }\n\n public void setUsers(Users usersObject) {\n  this.UsersObject = usersObject;\n }\n}\npublic class Users {\n ArrayList &lt; Object &gt; user_xy = new ArrayList &lt; Object &gt; ();\n ArrayList &lt; Object &gt; user_zt = new ArrayList &lt; Object &gt; ();\n\n\n // Getter Methods \n\n\n\n // Setter Methods \n\n\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>You can also use online JSON to JAVA Object Converter : <a href=\"https://codebeautify.org/json-to-java-converter\" rel=\"nofollow noreferrer\">https://codebeautify.org/json-to-java-converter</a></p>\n"}],"owner":{"account_id":7026583,"reputation":689,"user_id":5383760,"accept_rate":58,"display_name":"Black Glix"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11890,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":39160226,"answer_count":2,"score":5,"last_activity_date":1668491053,"creation_date":1472193376,"question_id":39159770,"body_markdown":"I&#39;m trying to parse this structured of json string to Java Object but I failed every attempt. \r\n\r\n    {\r\n      &quot;message&quot;: &quot;Test Message&quot;,\r\n      &quot;status&quot;: true,\r\n      &quot;users&quot;: {\r\n        &quot;user_xy&quot;: [\r\n          {\r\n            &quot;time&quot;: &quot;2016-08-25 19:01:20.944614158 +0300 EEST&quot;,\r\n            &quot;age&quot;: 24,\r\n            &quot;props&quot;: {\r\n              &quot;pr1&quot;: 197,\r\n              &quot;pr2&quot;: 0.75,\r\n              &quot;pr3&quot;: 0.14,\r\n              &quot;pr4&quot;: -0.97\r\n            }\r\n          }\r\n        ],\r\n        &quot;user_zt&quot;: [\r\n          {\r\n            &quot;time&quot;: &quot;2016-08-25 17:08:36.920891187 +0300 EEST&quot;,\r\n            &quot;age&quot;: 29,\r\n            &quot;props&quot;: {\r\n              &quot;pr1&quot;: 1.2332131860505051,\r\n              &quot;pr2&quot;: -0.6628148829634317,\r\n              &quot;pr3&quot;: -0.11622442112006928\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    }\r\n\r\nprops field can contain 1 properties or 6 properties, it depends on db record. Also Username part dynamically changing. \r\n\r\nCan I parse successfully this structured string with Jackson Lib?","title":"Json String to Java Object with dynamic key name","body":"<p>I'm trying to parse this structured of json string to Java Object but I failed every attempt. </p>\n\n<pre><code>{\n  \"message\": \"Test Message\",\n  \"status\": true,\n  \"users\": {\n    \"user_xy\": [\n      {\n        \"time\": \"2016-08-25 19:01:20.944614158 +0300 EEST\",\n        \"age\": 24,\n        \"props\": {\n          \"pr1\": 197,\n          \"pr2\": 0.75,\n          \"pr3\": 0.14,\n          \"pr4\": -0.97\n        }\n      }\n    ],\n    \"user_zt\": [\n      {\n        \"time\": \"2016-08-25 17:08:36.920891187 +0300 EEST\",\n        \"age\": 29,\n        \"props\": {\n          \"pr1\": 1.2332131860505051,\n          \"pr2\": -0.6628148829634317,\n          \"pr3\": -0.11622442112006928\n        }\n      }\n    ]\n  }\n}\n</code></pre>\n\n<p>props field can contain 1 properties or 6 properties, it depends on db record. Also Username part dynamically changing. </p>\n\n<p>Can I parse successfully this structured string with Jackson Lib?</p>\n"},{"tags":["java","android","kotlin","realm","realm-java"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1668490563,"post_id":74440960,"comment_id":131411414,"body_markdown":"It sounds like there&#39;s only one default instance and that maybe you shouldn&#39;t be closing it?","body":"It sounds like there&#39;s only one default instance and that maybe you shouldn&#39;t be closing it?"},{"owner":{"account_id":3399229,"reputation":34668,"user_id":2851937,"accept_rate":67,"display_name":"Jay"},"score":0,"creation_date":1668540216,"post_id":74440960,"comment_id":131429065,"body_markdown":"Are you instantiating the RealmDatabase object each time you want to use it or... how is it being used? How are you *making sure it was closed* e.g. the code in the question is a little vague/incomplete. It sounds like it&#39;s a reference counting issue where it&#39;s closes ≠ opens.","body":"Are you instantiating the RealmDatabase object each time you want to use it or... how is it being used? How are you <i>making sure it was closed</i> e.g. the code in the question is a little vague/incomplete. It sounds like it&#39;s a reference counting issue where it&#39;s closes ≠ opens."}],"owner":{"account_id":16341962,"reputation":863,"user_id":11802671,"display_name":"Hhry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668489953,"creation_date":1668489953,"question_id":74440960,"body_markdown":"I&#39;m packing all realm operation inside one object:\r\n```Kotlin\r\nobject RealmDatabase {\r\n\r\n    private val config = RealmConfiguration.Builder().name(&quot;XXX&quot;).build()\r\n\r\n    init {\r\n        Realm.setDefaultConfiguration(config)\r\n    }\r\n\r\n    fun getClassTimetables() : RealmResults&lt;TimetableData&gt; {\r\n        val realm = Realm.getDefaultInstance()\r\n        realm.use {\r\n            return realm.where&lt;TimetableData&gt;().findAll()\r\n        }\r\n    }\r\n\r\n    fun addClassTimetables(data: List&lt;TimetableData&gt;) {\r\n        val realm = Realm.getDefaultInstance()\r\n        realm.use {\r\n            realm.executeTransaction { transactionRealm -&gt;\r\n                transactionRealm.copyToRealm(data)\r\n            }\r\n        }\r\n    }\r\n\r\n    fun emptyClassTimetable() {\r\n        Realm.getDefaultInstance().executeTransaction { transactionRealm -&gt;\r\n            transactionRealm.where&lt;TimetableData&gt;().findAll().deleteAllFromRealm()\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen I call RealmDatabase.getClassTimetables(), the exception was thrown:  \r\n``This Realm instance has already been closed, making it unusable.``  \r\nBut I have already obtain one default instance and always make sure it was closed when operation was finished.  \r\nWhat&#39;s wrong with my code?","title":"Realm with kotlin use syntax: This Realm instance has already been closed, making it unusable","body":"<p>I'm packing all realm operation inside one object:</p>\n<pre><code>object RealmDatabase {\n\n    private val config = RealmConfiguration.Builder().name(&quot;XXX&quot;).build()\n\n    init {\n        Realm.setDefaultConfiguration(config)\n    }\n\n    fun getClassTimetables() : RealmResults&lt;TimetableData&gt; {\n        val realm = Realm.getDefaultInstance()\n        realm.use {\n            return realm.where&lt;TimetableData&gt;().findAll()\n        }\n    }\n\n    fun addClassTimetables(data: List&lt;TimetableData&gt;) {\n        val realm = Realm.getDefaultInstance()\n        realm.use {\n            realm.executeTransaction { transactionRealm -&gt;\n                transactionRealm.copyToRealm(data)\n            }\n        }\n    }\n\n    fun emptyClassTimetable() {\n        Realm.getDefaultInstance().executeTransaction { transactionRealm -&gt;\n            transactionRealm.where&lt;TimetableData&gt;().findAll().deleteAllFromRealm()\n        }\n    }\n}\n</code></pre>\n<p>When I call RealmDatabase.getClassTimetables(), the exception was thrown:<br />\n<code>This Realm instance has already been closed, making it unusable.</code><br />\nBut I have already obtain one default instance and always make sure it was closed when operation was finished.<br />\nWhat's wrong with my code?</p>\n"},{"tags":["java","node.js","jhipster"],"comments":[{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1668550917,"post_id":74440956,"comment_id":131432166,"body_markdown":"Which version if JHipster? Have you tried removing .npmrc file?","body":"Which version if JHipster? Have you tried removing .npmrc file?"},{"owner":{"account_id":24502054,"reputation":21,"user_id":18417541,"display_name":"Sardor Shorahimov"},"score":0,"creation_date":1668665819,"post_id":74440956,"comment_id":131462118,"body_markdown":"Version was 7.9.3. I didn&#39;t remove file. I&#39;ve found solution(maybe). I remove node js and JHipster after that i install again. Installed Node JS 14, npm, nvm and JHipster after that I use Vue and it&#39;s worked. I&#39;ve question. Can Jhipster work with Angular?","body":"Version was 7.9.3. I didn&#39;t remove file. I&#39;ve found solution(maybe). I remove node js and JHipster after that i install again. Installed Node JS 14, npm, nvm and JHipster after that I use Vue and it&#39;s worked. I&#39;ve question. Can Jhipster work with Angular?"},{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1668673632,"post_id":74440956,"comment_id":131464306,"body_markdown":"JHipster can generate frontend code in Angular and is compatible with Angular CLI. Please read the doc https://www.jhipster.tech/using-angular/","body":"JHipster can generate frontend code in Angular and is compatible with Angular CLI. Please read the doc <a href=\"https://www.jhipster.tech/using-angular/\" rel=\"nofollow noreferrer\">jhipster.tech/using-angular</a>"}],"owner":{"account_id":24502054,"reputation":21,"user_id":18417541,"display_name":"Sardor Shorahimov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668489877,"creation_date":1668489877,"question_id":74440956,"body_markdown":"I used JHipster. Program throw error when generating code. In the beginning Jhipster didn&#39;t see JAVA_HOME, I&#39;ve fixed that. After that **npmw install** didn&#39;t work. I thought JHipster couldn&#39;t find **node.exe** thats why i&#39;ve checked that with node -v shown v16.17.0. [enter image description here](https://i.stack.imgur.com/v2L6o.jpg) \r\n\r\nI changed NodeJs version, but didn&#39;t worked.\r\nI followed to many guides but any one hasn&#39;t work.\r\n","title":"How can I fixed npmw install command while generating project with JHipster?","body":"<p>I used JHipster. Program throw error when generating code. In the beginning Jhipster didn't see JAVA_HOME, I've fixed that. After that <strong>npmw install</strong> didn't work. I thought JHipster couldn't find <strong>node.exe</strong> thats why i've checked that with node -v shown v16.17.0. <a href=\"https://i.stack.imgur.com/v2L6o.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I changed NodeJs version, but didn't worked.\nI followed to many guides but any one hasn't work.</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1668411724,"post_id":74428295,"comment_id":131389729,"body_markdown":"Now if only you could `map` something... `orderService.getById(id).map(order -&gt; vehicleService.getByTruckId(order.getTruckId()));`...","body":"Now if only you could <code>map</code> something... <code>orderService.getById(id).map(order -&gt; vehicleService.getByTruckId(order.getTruckId()));</code>..."},{"owner":{"account_id":4487116,"reputation":429,"user_id":3649352,"accept_rate":67,"display_name":"Kunal Varpe"},"score":0,"creation_date":1668411757,"post_id":74428295,"comment_id":131389738,"body_markdown":"@Alex If I am not wrong you want to chain the `Mono&lt;Order&gt;`  to  call `vehicleService.getByTruckId()` by extracting the trucId from  order class. Please confirm","body":"@Alex If I am not wrong you want to chain the <code>Mono&lt;Order&gt;</code>  to  call <code>vehicleService.getByTruckId()</code> by extracting the trucId from  order class. Please confirm"},{"owner":{"account_id":9120249,"reputation":15521,"user_id":6785908,"accept_rate":70,"display_name":"so-random-dude"},"score":0,"creation_date":1668411987,"post_id":74428295,"comment_id":131389783,"body_markdown":"Mono is a promise, it&#39;s not materialized yet. You can either wait for it to materialize (block) or you can register a method to get executed when the Mono is getting materialized (chaining by adding map or  doOnNext etc)","body":"Mono is a promise, it&#39;s not materialized yet. You can either wait for it to materialize (block) or you can register a method to get executed when the Mono is getting materialized (chaining by adding map or  doOnNext etc)"},{"owner":{"account_id":26346751,"reputation":27,"user_id":20004990,"display_name":"Alex Grimaldo"},"score":0,"creation_date":1668412913,"post_id":74428295,"comment_id":131390053,"body_markdown":"@KunalVarpe yes. I need truckId FROM Order for call vehicleService.getByTruckId","body":"@KunalVarpe yes. I need truckId FROM Order for call vehicleService.getByTruckId"},{"owner":{"account_id":26346751,"reputation":27,"user_id":20004990,"display_name":"Alex Grimaldo"},"score":0,"creation_date":1668412996,"post_id":74428295,"comment_id":131390069,"body_markdown":"@so-random-dude \nPlease show the second option using my code as an example. I will be very grateful to you","body":"@so-random-dude  Please show the second option using my code as an example. I will be very grateful to you"}],"answers":[{"tags":[],"owner":{"account_id":9120249,"reputation":15521,"user_id":6785908,"accept_rate":70,"display_name":"so-random-dude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668489846,"creation_date":1668489430,"answer_id":74440906,"question_id":74428295,"body_markdown":"If you only care about the Truck\r\n\r\n        Mono&lt;Truck&gt; truckMono = order.flatMap(o -&gt; getByTruckId(o.truckId));\r\n\r\n\r\nIf you care about the aggregation of order and it&#39;s truck\r\n\r\n        Mono&lt;Order&gt; orderMono = getById(UUID.randomUUID());\r\n        Mono&lt;Truck&gt; truckMono = orderMono.flatMap(o -&gt; getByTruckId(o.truckId));\r\n        Mono&lt;Result&gt; resultMono = Mono.zip(orderMono, truckMono)\r\n                .flatMap(m -&gt; Mono.just(new Result(m.getT1(), m.getT2())));\r\n\r\n\r\nResult Class\r\n\r\n    class Result {\r\n        public Result(Order order, Truck truck) {\r\n            this.order = order;\r\n            this.truck = truck;\r\n        }\r\n    \r\n        Order order;\r\n        Truck truck;\r\n    }","title":"How to get field value from Mono&lt;Class&gt;?","body":"<p>If you only care about the Truck</p>\n<pre><code>    Mono&lt;Truck&gt; truckMono = order.flatMap(o -&gt; getByTruckId(o.truckId));\n</code></pre>\n<p>If you care about the aggregation of order and it's truck</p>\n<pre><code>    Mono&lt;Order&gt; orderMono = getById(UUID.randomUUID());\n    Mono&lt;Truck&gt; truckMono = orderMono.flatMap(o -&gt; getByTruckId(o.truckId));\n    Mono&lt;Result&gt; resultMono = Mono.zip(orderMono, truckMono)\n            .flatMap(m -&gt; Mono.just(new Result(m.getT1(), m.getT2())));\n</code></pre>\n<p>Result Class</p>\n<pre><code>class Result {\n    public Result(Order order, Truck truck) {\n        this.order = order;\n        this.truck = truck;\n    }\n\n    Order order;\n    Truck truck;\n}\n</code></pre>\n"}],"owner":{"account_id":26346751,"reputation":27,"user_id":20004990,"display_name":"Alex Grimaldo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":585,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74440906,"answer_count":1,"score":0,"last_activity_date":1668489846,"creation_date":1668411475,"question_id":74428295,"body_markdown":"I have 2 methods. \r\n\r\n    `Mono&lt;Order&gt; order = orderService.getById(UUID id);`\r\n\r\nAND\r\n\r\n    Mono&lt;Truck&gt; truck = vehicleService.getByTruckId(UUID truckId);\r\n\r\n\r\nI get the TruckId value from the first request. Look at Order class\r\n\r\n    Order {\r\n    \r\n    private UUID id;\r\n    private String name;\r\n    private UUID truckId;\r\n    \r\n    }\r\n\r\n\r\nHow can I pass this `truckId` value to `vehicleService.getByTruckId(UUID truckId);` without blocking?\r\n\r\n\r\n\r\n","title":"How to get field value from Mono&lt;Class&gt;?","body":"<p>I have 2 methods.</p>\n<pre><code>`Mono&lt;Order&gt; order = orderService.getById(UUID id);`\n</code></pre>\n<p>AND</p>\n<pre><code>Mono&lt;Truck&gt; truck = vehicleService.getByTruckId(UUID truckId);\n</code></pre>\n<p>I get the TruckId value from the first request. Look at Order class</p>\n<pre><code>Order {\n\nprivate UUID id;\nprivate String name;\nprivate UUID truckId;\n\n}\n</code></pre>\n<p>How can I pass this <code>truckId</code> value to <code>vehicleService.getByTruckId(UUID truckId);</code> without blocking?</p>\n"},{"tags":["java","spring","aws-api-gateway","spring-webflux","spring-cloud"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1668305044,"post_id":74417890,"comment_id":131372590,"body_markdown":"Look at the strip prefix or setpath filters in the documentation","body":"Look at the strip prefix or setpath filters in the documentation"},{"owner":{"account_id":26346751,"reputation":27,"user_id":20004990,"display_name":"Alex Grimaldo"},"score":0,"creation_date":1668344868,"post_id":74417890,"comment_id":131377531,"body_markdown":"I tried but I didn&#39;t succeed(((","body":"I tried but I didn&#39;t succeed((("},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1668467932,"post_id":74417890,"comment_id":131407955,"body_markdown":"What does &quot;didn&#39;t succeed&quot; mean? Errors? Http status code?","body":"What does &quot;didn&#39;t succeed&quot; mean? Errors? Http status code?"}],"owner":{"account_id":26346751,"reputation":27,"user_id":20004990,"display_name":"Alex Grimaldo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668489645,"creation_date":1668304069,"question_id":74417890,"body_markdown":"I have an Order microservice on url `localhost:8080/service-order/` with an endpoint:\r\n    \r\n      @RequestMapping(path = &quot;/v1/order&quot;)\r\n      @RequiredArgsConstructor\r\n      public class OrderController {\r\n        \r\n        \r\n            @GetMapping(&quot;/{orderId}&quot;)\r\n            public ResponseEntity&lt;OrderDto&gt; getByOrderId(@PathVariable UUID orderId) {\r\n        }\r\n    \r\nI also have an API gateway  (service with spring react)\r\n    \r\n        server:\r\n          port: 8081\r\n        \r\n        spring:\r\n          webflux:\r\n            base-path: /api-gateway\r\n    \r\n    \r\nI need the request `/v1/order-card/{id}` to my API gateway to be redirected to the /{orderId} endpoint of the Order microservice. \r\n\r\nI have  RouteLocator bean. This:\r\n    \r\n        @Bean\r\n        RouteLocator customRouteLocator(RouteLocatorBuilder routeBuilder) {\r\n            return routeBuilder.routes()\r\n                    .route(&quot;route_id&quot;,\r\n                            route -&gt; route\r\n                                    .path(&quot;/v1/order-card/**&quot;)\r\n                                    .filters(f -&gt; f\r\n                                            .rewritePath(&quot;/v1/order-card/(?&lt;RID&gt;.*)&quot;,\r\n                                                    &quot;/service-order/v1/order/${RID}&quot;))\r\n                                    .uri(&quot;http://localhost:8080&quot;))\r\n                    .build();\r\n        }\r\n    \r\nI am making a request\r\n\r\n    localhost:8081/api-gateway/v1/order-card/93c0ea08-617e-11ed-b819-00155d0f6513\r\n\r\n    \r\nBut it only works when I remove `base-path: /api-gateway`  from my yml \r\n\r\n    \r\n    server:\r\n      port: 8081\r\n    \r\n    spring:\r\n      webflux:\r\n        base-path: /api-gateway\r\n    \r\n    \r\nHow can I make it work with path /api-gateway?\r\n\r\n\r\n\r\n","title":"Redirecting Request with base-path from API Gateway to microservice","body":"<p>I have an Order microservice on url <code>localhost:8080/service-order/</code> with an endpoint:</p>\n<pre><code>  @RequestMapping(path = &quot;/v1/order&quot;)\n  @RequiredArgsConstructor\n  public class OrderController {\n    \n    \n        @GetMapping(&quot;/{orderId}&quot;)\n        public ResponseEntity&lt;OrderDto&gt; getByOrderId(@PathVariable UUID orderId) {\n    }\n</code></pre>\n<p>I also have an API gateway  (service with spring react)</p>\n<pre><code>    server:\n      port: 8081\n    \n    spring:\n      webflux:\n        base-path: /api-gateway\n</code></pre>\n<p>I need the request <code>/v1/order-card/{id}</code> to my API gateway to be redirected to the /{orderId} endpoint of the Order microservice.</p>\n<p>I have  RouteLocator bean. This:</p>\n<pre><code>    @Bean\n    RouteLocator customRouteLocator(RouteLocatorBuilder routeBuilder) {\n        return routeBuilder.routes()\n                .route(&quot;route_id&quot;,\n                        route -&gt; route\n                                .path(&quot;/v1/order-card/**&quot;)\n                                .filters(f -&gt; f\n                                        .rewritePath(&quot;/v1/order-card/(?&lt;RID&gt;.*)&quot;,\n                                                &quot;/service-order/v1/order/${RID}&quot;))\n                                .uri(&quot;http://localhost:8080&quot;))\n                .build();\n    }\n</code></pre>\n<p>I am making a request</p>\n<pre><code>localhost:8081/api-gateway/v1/order-card/93c0ea08-617e-11ed-b819-00155d0f6513\n</code></pre>\n<p>But it only works when I remove <code>base-path: /api-gateway</code>  from my yml</p>\n<pre><code>server:\n  port: 8081\n\nspring:\n  webflux:\n    base-path: /api-gateway\n</code></pre>\n<p>How can I make it work with path /api-gateway?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":2802087,"reputation":4058,"user_id":2410148,"accept_rate":60,"display_name":"Bhuvan"},"score":2,"creation_date":1668488532,"post_id":74440708,"comment_id":131411076,"body_markdown":"The duplicate anwers talk about the genrics in the method input params. This question is about variable declaration of handling of the output","body":"The duplicate anwers talk about the genrics in the method input params. This question is about variable declaration of handling of the output"},{"owner":{"account_id":1845047,"reputation":108,"user_id":1673567,"display_name":"user1673567"},"score":1,"creation_date":1668581452,"post_id":74440708,"comment_id":131437403,"body_markdown":"Since Generics are class invariant, the difference will occur in a method like this:\n```public List&lt;? super E&gt; union(List&lt;? extends E&gt; l1, List&lt;? extends E&gt; l2) { \nIterator&lt;? extends E&gt; iterator = l1.iterator(); //will compile fine\nIterator&lt;E&gt; iterator = l2.iterator();// wont compile because list l2 is collection of subtypes of E and iterator should also be like that.. ````\nFor eg if you create two lists with List&lt;Rectangle&gt; and List&lt;Circle&gt; and you want to make union of those two and store in List&lt;Shapes&gt; it should be possible with the function specified above. Hope this helps","body":"Since Generics are class invariant, the difference will occur in a method like this: ```public List&lt;? super E&gt; union(List&lt;? extends E&gt; l1, List&lt;? extends E&gt; l2) {  Iterator&lt;? extends E&gt; iterator = l1.iterator(); //will compile fine Iterator&lt;E&gt; iterator = l2.iterator();// wont compile because list l2 is collection of subtypes of E and iterator should also be like that.. ```` For eg if you create two lists with List&lt;Rectangle&gt; and List&lt;Circle&gt; and you want to make union of those two and store in List&lt;Shapes&gt; it should be possible with the function specified above. Hope this helps"},{"owner":{"account_id":1845047,"reputation":108,"user_id":1673567,"display_name":"user1673567"},"score":1,"creation_date":1668581629,"post_id":74440708,"comment_id":131437436,"body_markdown":"Gist is if you are expecting subtype of Elements we should use - &lt;? extends E&gt;","body":"Gist is if you are expecting subtype of Elements we should use - &lt;? extends E&gt;"},{"owner":{"account_id":2802087,"reputation":4058,"user_id":2410148,"accept_rate":60,"display_name":"Bhuvan"},"score":0,"creation_date":1668667157,"post_id":74440708,"comment_id":131462413,"body_markdown":"@user1673567 that make sense for input variable of a method. My question is about output variable declaration","body":"@user1673567 that make sense for input variable of a method. My question is about output variable declaration"},{"owner":{"account_id":1845047,"reputation":108,"user_id":1673567,"display_name":"user1673567"},"score":0,"creation_date":1668672691,"post_id":74440708,"comment_id":131463974,"body_markdown":"If you see the output variable here which I used to depict the difference is - Iterator&lt;? extends E&gt; iterator  and Iterator&lt;E&gt;.. let me know if I am still not clear","body":"If you see the output variable here which I used to depict the difference is - Iterator&lt;? extends E&gt; iterator  and Iterator&lt;E&gt;.. let me know if I am still not clear"}],"owner":{"account_id":2802087,"reputation":4058,"user_id":2410148,"accept_rate":60,"display_name":"Bhuvan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"closed_date":1668487723,"answer_count":0,"score":6,"last_activity_date":1668488581,"creation_date":1668487592,"question_id":74440708,"body_markdown":"```\r\ninterface Shape { }\r\nclass Circle implements Shape { }\r\n\r\nclass ShapeContainer&lt;T extends Shape&gt; {\r\n    T sh;\r\n    public ShapeContainer(T newInstance) {\r\n        sh = newInstance;\r\n    }\r\n    ...\r\n}\r\nclass Main {\r\n    public static void main(String[] a) {\r\n        ShapeContainer&lt;Shape&gt; A = new ShapeContainer(new Circle());\r\n        ShapeContainer&lt;? extends Shape&gt; B = new ShapeContainer(new Circle());\r\n    }\r\n}\r\n```\r\n\r\nWhat are the pros and cons of declaring the variable as  `ShapeContainer&lt;Shape&gt; A` vs `ShapeContainer&lt;? extends Shape&gt; B`\r\n\r\nWhat condition should each one be preferred?","title":"Generic variable declaration with wildChar vs without wildChar","body":"<pre><code>interface Shape { }\nclass Circle implements Shape { }\n\nclass ShapeContainer&lt;T extends Shape&gt; {\n    T sh;\n    public ShapeContainer(T newInstance) {\n        sh = newInstance;\n    }\n    ...\n}\nclass Main {\n    public static void main(String[] a) {\n        ShapeContainer&lt;Shape&gt; A = new ShapeContainer(new Circle());\n        ShapeContainer&lt;? extends Shape&gt; B = new ShapeContainer(new Circle());\n    }\n}\n</code></pre>\n<p>What are the pros and cons of declaring the variable as  <code>ShapeContainer&lt;Shape&gt; A</code> vs <code>ShapeContainer&lt;? extends Shape&gt; B</code></p>\n<p>What condition should each one be preferred?</p>\n"},{"tags":["java","java-stream","collectors","method-reference"],"comments":[{"owner":{"account_id":6795544,"reputation":1900,"user_id":5231001,"accept_rate":75,"display_name":"n247s"},"score":0,"creation_date":1668442589,"post_id":74434596,"comment_id":131400195,"body_markdown":"I think you would be able to achieve this without the shorthad notation. Like: `.groupingBy((T) -&gt; T.getProject().getId())`","body":"I think you would be able to achieve this without the shorthad notation. Like: <code>.groupingBy((T) -&gt; T.getProject().getId())</code>"},{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":0,"creation_date":1668444803,"post_id":74434596,"comment_id":131401080,"body_markdown":"Use a simple lambda expression","body":"Use a simple lambda expression"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668445245,"creation_date":1668444293,"answer_id":74435049,"question_id":74434596,"body_markdown":"As *@n247s* has pointed out in the comments, the syntax of the Method reference you&#39;re using is **incorrect** - you can&#39;t chain method reference ([*for more details, refer to the official tutorial*][methodRef]).\r\n\r\nThe *keyExtractor* `Function` you need can be expressed only using a Lambda expression because in order to create a Method reference to an [instance method of a **Particular Object**][instanceMeth] you need to have a **reference** to it, you don&#39;t have it (it&#39;s not possible in this case).\r\n\r\nHere&#39;s the only option:\r\n\r\n```\r\ntask -&gt; task.getProject().getId()\r\n```\r\n\r\nIt would be possible to create a Method reference of this type using a method of the nested object if you had a reference to the enclosing object stored somewhere. For instance, like that:\r\n\r\n```\r\nTask foo = new Task();\r\nFunction&lt;Task, Integer&gt; taskToId = foo.getProject()::getId;\r\n```\r\n\r\nBut since you&#39;re dialing with a stream element, it not feasible.\r\n\r\n\r\n   [methodRef]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\r\n\r\n   [instanceMeth]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html#object","title":"Group elements by nested field","body":"<p>As <em>@n247s</em> has pointed out in the comments, the syntax of the Method reference you're using is <strong>incorrect</strong> - you can't chain method reference (<a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\"><em>for more details, refer to the official tutorial</em></a>).</p>\n<p>The <em>keyExtractor</em> <code>Function</code> you need can be expressed only using a Lambda expression because in order to create a Method reference to an <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html#object\" rel=\"nofollow noreferrer\">instance method of a <strong>Particular Object</strong></a> you need to have a <strong>reference</strong> to it, you don't have it (it's not possible in this case).</p>\n<p>Here's the only option:</p>\n<pre><code>task -&gt; task.getProject().getId()\n</code></pre>\n<p>It would be possible to create a Method reference of this type using a method of the nested object if you had a reference to the enclosing object stored somewhere. For instance, like that:</p>\n<pre><code>Task foo = new Task();\nFunction&lt;Task, Integer&gt; taskToId = foo.getProject()::getId;\n</code></pre>\n<p>But since you're dialing with a stream element, it not feasible.</p>\n"}],"owner":{"account_id":26929638,"reputation":3,"user_id":20502333,"display_name":"Samet DAĞ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74435049,"answer_count":1,"score":0,"last_activity_date":1668488569,"creation_date":1668442083,"question_id":74434596,"body_markdown":"I have the following domain classes:\r\n\r\n```\r\npublic class Task {\r\n    private Project project;\r\n}\r\n```\r\n\r\n```\r\npublic class Project{\r\n    private int id;\r\n}\r\n```\r\n\r\nAnd I have a list of tasks called `tasks`.\r\n\r\nI would like to group `Task` objects by project&#39;s ids. The resulting type of the \r\n\r\nI tried the code shown below. But it doesn&#39;t group objects by ids, but rather groups based on whether the key is the same object or not. I found duplicates, I tried to get rid of them, but I couldn&#39;t make it work.\r\n```\r\ntasks.stream().collect(Collectors.groupingBy(task::getProject));\r\n```\r\nI want something like that\r\n```\r\ntasks.stream().collect(Collectors.groupingBy(task::getProject::getId));\r\n```\r\nBut unfortunately, I couldn&#39;t do that.","title":"Group elements by nested field","body":"<p>I have the following domain classes:</p>\n<pre><code>public class Task {\n    private Project project;\n}\n</code></pre>\n<pre><code>public class Project{\n    private int id;\n}\n</code></pre>\n<p>And I have a list of tasks called <code>tasks</code>.</p>\n<p>I would like to group <code>Task</code> objects by project's ids. The resulting type of the</p>\n<p>I tried the code shown below. But it doesn't group objects by ids, but rather groups based on whether the key is the same object or not. I found duplicates, I tried to get rid of them, but I couldn't make it work.</p>\n<pre><code>tasks.stream().collect(Collectors.groupingBy(task::getProject));\n</code></pre>\n<p>I want something like that</p>\n<pre><code>tasks.stream().collect(Collectors.groupingBy(task::getProject::getId));\n</code></pre>\n<p>But unfortunately, I couldn't do that.</p>\n"},{"tags":["java","amazon-web-services","api","rest","gateway"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1668490148,"post_id":74440733,"comment_id":131411342,"body_markdown":"Is that 1 megabit or 1 megabyte?  What happens if the data exceeds the limit?  How are you serving the data?  Any API will return a collection of bytes, which you can count.","body":"Is that 1 megabit or 1 megabyte?  What happens if the data exceeds the limit?  How are you serving the data?  Any API will return a collection of bytes, which you can count."},{"owner":{"account_id":8176872,"reputation":47,"user_id":6155341,"display_name":"itisha"},"score":0,"creation_date":1668505539,"post_id":74440733,"comment_id":131415676,"body_markdown":"It&#39;s 1 mebiByte ~ 1megabyte.  If data exceed the limit, we want to throw an exception","body":"It&#39;s 1 mebiByte ~ 1megabyte.  If data exceed the limit, we want to throw an exception"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1668505780,"post_id":74440733,"comment_id":131415764,"body_markdown":"Fine.  Count the bytes and prepare an alternate message to return to the front end when the API would return a message &gt; 1 megabyte.  Your front end will have to translate this message into something the user can take action with.","body":"Fine.  Count the bytes and prepare an alternate message to return to the front end when the API would return a message &gt; 1 megabyte.  Your front end will have to translate this message into something the user can take action with."}],"owner":{"account_id":8176872,"reputation":47,"user_id":6155341,"display_name":"itisha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668487824,"creation_date":1668487824,"question_id":74440733,"body_markdown":"We are building Rest bulk Api fronted by API Gateway to which can serve data upto 1MiB.  what are some best practices to keep this limit. Should we calculate the size of java object on the fly and throw exception if it exceeds?","title":"How to calculate size of java object when designing API","body":"<p>We are building Rest bulk Api fronted by API Gateway to which can serve data upto 1MiB.  what are some best practices to keep this limit. Should we calculate the size of java object on the fly and throw exception if it exceeds?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1668487169,"post_id":74440651,"comment_id":131410890,"body_markdown":"I think that you are looking for a lazy implementation of the singleton design pattern.   There are a few correct ways to implement that ... and some incorrect ways.","body":"I think that you are looking for a lazy implementation of the singleton design pattern.   There are a few correct ways to implement that ... and some incorrect ways."},{"owner":{"account_id":18197705,"reputation":1,"user_id":13242466,"display_name":"Stephen"},"score":0,"creation_date":1668487862,"post_id":74440651,"comment_id":131410971,"body_markdown":"I agree, but I don&#39;t really want to force upon users of my API to follow this design. I would love for them to be able to initialise their own classes if they need to (i.e. provide data to the class through a constructor), and if not then I&#39;ll initialise.","body":"I agree, but I don&#39;t really want to force upon users of my API to follow this design. I would love for them to be able to initialise their own classes if they need to (i.e. provide data to the class through a constructor), and if not then I&#39;ll initialise."},{"owner":{"account_id":2924832,"reputation":480,"user_id":2506385,"display_name":"leogtzr"},"score":0,"creation_date":1668488471,"post_id":74440651,"comment_id":131411065,"body_markdown":"Just an idea, check if the following class and method can help: https://docs.oracle.com/javase/8/docs/jdk/api/jpda/jdi/com/sun/jdi/VirtualMachine.html#classesByName-java.lang.String-","body":"Just an idea, check if the following class and method can help: <a href=\"https://docs.oracle.com/javase/8/docs/jdk/api/jpda/jdi/com/sun/jdi/VirtualMachine.html#classesByName-java.lang.String-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/jdk/api/jpda/jdi/com/sun/jdi/&hellip;</a>"},{"owner":{"account_id":18197705,"reputation":1,"user_id":13242466,"display_name":"Stephen"},"score":0,"creation_date":1668549537,"post_id":74440651,"comment_id":131431828,"body_markdown":"@leogtzr - thanks for the suggestion. I don&#39;t seem to have the com.sun.jdi package. I am using JDK 8. I have done lots of research but nothing has been fruitful. The most promising thread I looked at was https://stackoverflow.com/questions/43024326/java-debugging-interface-com-sun-jdi-package-missing-in-intellij-2017-1-c/43026109#43026109 but I do not have the tools.jar in my JDk 8 (note: I know the screenshot shows 7, but I must compile in 8 - it should contain it still, no?).","body":"@leogtzr - thanks for the suggestion. I don&#39;t seem to have the com.sun.jdi package. I am using JDK 8. I have done lots of research but nothing has been fruitful. The most promising thread I looked at was <a href=\"https://stackoverflow.com/questions/43024326/java-debugging-interface-com-sun-jdi-package-missing-in-intellij-2017-1-c/43026109#43026109\" title=\"java debugging interface com sun jdi package missing in intellij 2017 1 c\">stackoverflow.com/questions/43024326/&hellip;</a> but I do not have the tools.jar in my JDk 8 (note: I know the screenshot shows 7, but I must compile in 8 - it should contain it still, no?)."}],"owner":{"account_id":18197705,"reputation":1,"user_id":13242466,"display_name":"Stephen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668487038,"creation_date":1668487038,"question_id":74440651,"body_markdown":"I am writing a command framework and people can register commands from any class with their own method. I am trying to invoke these methods when a user enters a command.\r\n\r\nI want to make it possible for the developer to use their own constructor and create an instance of the command classes if they wish, but if not I will load it myself.\r\n\r\nThis is the code I have so far:\r\n\r\n    mapping.getMethod().invoke(mapping.getMethod().getDeclaringClass().newInstance(), paramValues);\r\n\r\nThe flaw with this method is it generates a new instance each time which is also going to error for classes that do not have a default blank constructor.\r\n\r\nHow am I able to grab an instance of a class which could be in runtime, and if not create one?","title":"How do I get an instance of a class if one exists, else create it?","body":"<p>I am writing a command framework and people can register commands from any class with their own method. I am trying to invoke these methods when a user enters a command.</p>\n<p>I want to make it possible for the developer to use their own constructor and create an instance of the command classes if they wish, but if not I will load it myself.</p>\n<p>This is the code I have so far:</p>\n<pre><code>mapping.getMethod().invoke(mapping.getMethod().getDeclaringClass().newInstance(), paramValues);\n</code></pre>\n<p>The flaw with this method is it generates a new instance each time which is also going to error for classes that do not have a default blank constructor.</p>\n<p>How am I able to grab an instance of a class which could be in runtime, and if not create one?</p>\n"},{"tags":["java","list","java-stream","comparator"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1668415661,"post_id":74428879,"comment_id":131390802,"body_markdown":"&quot;I just want the implementation of compare method&quot; - okay, so what are the actual requirements? How far have you got in implementing them? We really don&#39;t have nearly enough information to help you at the moment.","body":"&quot;I just want the implementation of compare method&quot; - okay, so what are the actual requirements? How far have you got in implementing them? We really don&#39;t have nearly enough information to help you at the moment."},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1668416269,"post_id":74428879,"comment_id":131391033,"body_markdown":"*given alphabetical order using stream and comparator* -&gt; `&quot;Zax&quot;,&quot;John&quot;,&quot;Robin&quot;` or `&quot;Zax&quot;,&quot;Robin&quot;,&quot;John&quot;` !! for a solution maybe -&gt; `return o2.compareTo(o1);`","body":"<i>given alphabetical order using stream and comparator</i> -&gt; <code>&quot;Zax&quot;,&quot;John&quot;,&quot;Robin&quot;</code> or <code>&quot;Zax&quot;,&quot;Robin&quot;,&quot;John&quot;</code> !! for a solution maybe -&gt; <code>return o2.compareTo(o1);</code>"},{"owner":{"account_id":875002,"reputation":6703,"user_id":924820,"display_name":"BigMike"},"score":0,"creation_date":1668416473,"post_id":74428879,"comment_id":131391112,"body_markdown":"just take the 1st char of each name, get their positions in the order string, and compare the 2 positions themselves","body":"just take the 1st char of each name, get their positions in the order string, and compare the 2 positions themselves"},{"owner":{"account_id":26885891,"reputation":26,"user_id":20465465,"display_name":"ITGeek"},"score":0,"creation_date":1668416865,"post_id":74428879,"comment_id":131391252,"body_markdown":"@JonSkeet  I just want to make use of order given for sorting the string names in compare method, If i do  return o2.compareTo(o1); it will not sort it in given order it will sort it in default alphabetical order.","body":"@JonSkeet  I just want to make use of order given for sorting the string names in compare method, If i do  return o2.compareTo(o1); it will not sort it in given order it will sort it in default alphabetical order."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1668418166,"post_id":74428879,"comment_id":131391727,"body_markdown":"That&#39;s not a complete set of requirements though. How would you compare &quot;Robin&quot; and &quot;Roger&quot; for example? And have you *tried* implementing the requirements? This feels like a homework question without any indication of you trying it first - please see https://softwareengineering.meta.stackexchange.com/questions/6166/open-letter-to-students-with-homework-problems","body":"That&#39;s not a complete set of requirements though. How would you compare &quot;Robin&quot; and &quot;Roger&quot; for example? And have you <i>tried</i> implementing the requirements? This feels like a homework question without any indication of you trying it first - please see <a href=\"https://softwareengineering.meta.stackexchange.com/questions/6166/open-letter-to-students-with-homework-problems\" title=\"open letter to students with homework problems\">softwareengineering.meta.stackexchange.com/questions/6166/&hellip;</a>"},{"owner":{"account_id":26885891,"reputation":26,"user_id":20465465,"display_name":"ITGeek"},"score":0,"creation_date":1668427510,"post_id":74428879,"comment_id":131394619,"body_markdown":"I appreciate your suggestion, But I have added the snippet of what I have tried @JonSkeet","body":"I appreciate your suggestion, But I have added the snippet of what I have tried @JonSkeet"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1668428559,"post_id":74428879,"comment_id":131394963,"body_markdown":"That clearly doesn&#39;t use `order` *at all*. It just compares the strings in the default way. Have you tried anything goes anywhere towards actually implementing the requirements?","body":"That clearly doesn&#39;t use <code>order</code> <i>at all</i>. It just compares the strings in the default way. Have you tried anything goes anywhere towards actually implementing the requirements?"},{"owner":{"account_id":26885891,"reputation":26,"user_id":20465465,"display_name":"ITGeek"},"score":0,"creation_date":1668430230,"post_id":74428879,"comment_id":131395548,"body_markdown":"```@Override\n    public int compare(String s1, String s2) {\n        char[] charsOfS1 = s1.toCharArray();\n        char[] charsOfS2 = s2.toCharArray();\n        int proximity = 0;\n        for(int i=0; i&lt;Math.min(charsOfS1.length,charsOfS2.length);i++){\n            int check = order.indexOf(s1.charAt(i)) - order.indexOf((s2.charAt(i)));\n            if(check&lt;0)\n                proximity--;\n            else if(check&gt;0)\n                proximity++;\n        }\n        return proximity;\n    }```","body":"<code>@Override     public int compare(String s1, String s2) {         char[] charsOfS1 = s1.toCharArray();         char[] charsOfS2 = s2.toCharArray();         int proximity = 0;         for(int i=0; i&lt;Math.min(charsOfS1.length,charsOfS2.length);i++){             int check = order.indexOf(s1.charAt(i)) - order.indexOf((s2.charAt(i)));             if(check&lt;0)                 proximity--;             else if(check&gt;0)                 proximity++;         }         return proximity;     }</code>"},{"owner":{"account_id":26885891,"reputation":26,"user_id":20465465,"display_name":"ITGeek"},"score":0,"creation_date":1668430353,"post_id":74428879,"comment_id":131395582,"body_markdown":"@JonSkeet you can refer above solution I have tried and tested.","body":"@JonSkeet you can refer above solution I have tried and tested."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1668441051,"post_id":74428879,"comment_id":131399630,"body_markdown":"Don’t post you code as comment. [Edit] your question.","body":"Don’t post you code as comment. <a href=\"https://stackoverflow.com/posts/74428879/edit\">Edit</a> your question."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668416939,"creation_date":1668416939,"answer_id":74429204,"question_id":74428879,"body_markdown":"You can simply compare the index position of the first character of strings:\r\n\r\n    public int compare(String s1, String s2) {\r\n        return order.indexOf(s1.charAt(0)) - order.indexOf((s2.charAt(0)));\r\n    }\r\n\r\n\r\n**Full Demo**:\r\n\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    import java.util.Arrays;\r\n    import java.util.stream.Collectors;\r\n    \r\n    class MyComparator implements Comparator&lt;String&gt; {\r\n        private String order;\r\n    \r\n        MyComparator(String order) {\r\n            this.order = order;\r\n        }\r\n    \r\n        @Override\r\n        public int compare(String s1, String s2) {\r\n            return order.indexOf(s1.charAt(0)) - order.indexOf((s2.charAt(0)));\r\n        }\r\n    }\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            // Test\r\n            List&lt;String&gt; names = Arrays.asList(&quot;Robin&quot;, &quot;Zax&quot;, &quot;John&quot;);\r\n            String order = &quot;ZJR&quot;;\r\n            System.out.println(names.stream().sorted(new MyComparator(order)).toList());\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    [Zax, John, Robin]","title":"Given the List&lt;String&gt; need to sort it in given alphabetical order using stream and comparator","body":"<p>You can simply compare the index position of the first character of strings:</p>\n<pre><code>public int compare(String s1, String s2) {\n    return order.indexOf(s1.charAt(0)) - order.indexOf((s2.charAt(0)));\n}\n</code></pre>\n<p><strong>Full Demo</strong>:</p>\n<pre><code>import java.util.Comparator;\nimport java.util.List;\nimport java.util.Arrays;\nimport java.util.stream.Collectors;\n\nclass MyComparator implements Comparator&lt;String&gt; {\n    private String order;\n\n    MyComparator(String order) {\n        this.order = order;\n    }\n\n    @Override\n    public int compare(String s1, String s2) {\n        return order.indexOf(s1.charAt(0)) - order.indexOf((s2.charAt(0)));\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        // Test\n        List&lt;String&gt; names = Arrays.asList(&quot;Robin&quot;, &quot;Zax&quot;, &quot;John&quot;);\n        String order = &quot;ZJR&quot;;\n        System.out.println(names.stream().sorted(new MyComparator(order)).toList());\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>[Zax, John, Robin]\n</code></pre>\n"}],"owner":{"account_id":26885891,"reputation":26,"user_id":20465465,"display_name":"ITGeek"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668486841,"creation_date":1668415281,"question_id":74428879,"body_markdown":"given list and set of letters to sort the list using java stream\r\n```\r\nList&lt;String&gt; names= Arrays.asList(&quot;Robin&quot;,&quot;Zax&quot;,&quot;John&quot;);\r\nString order = &quot;ZALBKNDWMTFCGOIUHEPQXSYVRJ&quot;; \r\n```\r\n\r\nEXAMPLE: \r\nInput:\r\nList&lt;String&gt; names= Arrays.asList(&quot;Robin&quot;,&quot;Zax&quot;,&quot;John&quot;);\r\nString order = &quot;ZJR&quot;\r\n\r\nOutput: [&quot;Zax&quot;,&quot;John&quot;,&quot;Robin&quot;]\r\n      \r\nInput 2: \r\n`` \r\nList&lt;String&gt; names= Arrays.asList(&quot;Robin&quot;,&quot;Zax&quot;,&quot;John&quot;,&quot;Rohan&quot;); String order = &quot;OZJRHBAS&quot;; \r\n``\r\n\r\nOUTPUT: [&quot;Zax&quot;,&quot;John&quot;,&quot;Rohan&quot;,&quot;Robin&quot;]\r\n\r\n\r\n```\r\n names.stream().sorted(new MyComparator(order)).collect(Collectors.toList()).forEach(System.out::println); \r\n```\r\n\r\nI just want the implementation of compare method below is what i have tried but its sorting on the basis of only first letter. Is there any way it can be done in such a way the all the letters of string are taken care for sorting.\r\n\r\n```\r\nclass MyComparator implements Comparator&lt;String&gt; {\r\n    private String order;\r\n\r\n    MyComparator(String order) {\r\n        this.order = order;\r\n    }\r\n\r\n    @Override\r\n    public int compare(String s1, String s2) {\r\n        char[] charsOfS1 = s1.toCharArray();\r\n        char[] charsOfS2 = s2.toCharArray();\r\n        int proximity = 0;\r\n        for(int i=0; i&lt;Math.min(charsOfS1.length,charsOfS2.length);i++){\r\n            int check = order.indexOf(s1.charAt(i)) - order.indexOf((s2.charAt(i)));\r\n            if(check&lt;0)\r\n                proximity--;\r\n            else if(check&gt;0)\r\n                proximity++;\r\n        }\r\n        return proximity;\r\n    }\r\n}\r\n```","title":"Given the List&lt;String&gt; need to sort it in given alphabetical order using stream and comparator","body":"<p>given list and set of letters to sort the list using java stream</p>\n<pre><code>List&lt;String&gt; names= Arrays.asList(&quot;Robin&quot;,&quot;Zax&quot;,&quot;John&quot;);\nString order = &quot;ZALBKNDWMTFCGOIUHEPQXSYVRJ&quot;; \n</code></pre>\n<p>EXAMPLE:\nInput:\nList names= Arrays.asList(&quot;Robin&quot;,&quot;Zax&quot;,&quot;John&quot;);\nString order = &quot;ZJR&quot;</p>\n<p>Output: [&quot;Zax&quot;,&quot;John&quot;,&quot;Robin&quot;]</p>\n<p>Input 2:\n<code> List&lt;String&gt; names= Arrays.asList(&quot;Robin&quot;,&quot;Zax&quot;,&quot;John&quot;,&quot;Rohan&quot;); String order = &quot;OZJRHBAS&quot;; </code></p>\n<p>OUTPUT: [&quot;Zax&quot;,&quot;John&quot;,&quot;Rohan&quot;,&quot;Robin&quot;]</p>\n<pre><code> names.stream().sorted(new MyComparator(order)).collect(Collectors.toList()).forEach(System.out::println); \n</code></pre>\n<p>I just want the implementation of compare method below is what i have tried but its sorting on the basis of only first letter. Is there any way it can be done in such a way the all the letters of string are taken care for sorting.</p>\n<pre><code>class MyComparator implements Comparator&lt;String&gt; {\n    private String order;\n\n    MyComparator(String order) {\n        this.order = order;\n    }\n\n    @Override\n    public int compare(String s1, String s2) {\n        char[] charsOfS1 = s1.toCharArray();\n        char[] charsOfS2 = s2.toCharArray();\n        int proximity = 0;\n        for(int i=0; i&lt;Math.min(charsOfS1.length,charsOfS2.length);i++){\n            int check = order.indexOf(s1.charAt(i)) - order.indexOf((s2.charAt(i)));\n            if(check&lt;0)\n                proximity--;\n            else if(check&gt;0)\n                proximity++;\n        }\n        return proximity;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hystrix"],"answers":[{"tags":[],"owner":{"account_id":11337137,"reputation":838,"user_id":8312604,"display_name":"Alexandr Arhipov"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1630862020,"creation_date":1630862020,"answer_id":69065600,"question_id":69061913,"body_markdown":"Just add spring-cloud-dependencies to dependencyManagement block:\r\n\r\n    &lt;properties&gt;\r\n        &lt;spring.cloud-version&gt;2020.0.3&lt;/spring.cloud-version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.cloud-version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\nCorresponding version of spring-cloud can be find [here][1]\r\n\r\n\r\n  [1]: https://spring.io/projects/spring-cloud","title":"BeanCreationException: Error creating bean with name &#39;configurationPropertiesBeans&#39; defined in class path resource","body":"<p>Just add spring-cloud-dependencies to dependencyManagement block:</p>\n<pre><code>&lt;properties&gt;\n    &lt;spring.cloud-version&gt;2020.0.3&lt;/spring.cloud-version&gt;\n&lt;/properties&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring.cloud-version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>Corresponding version of spring-cloud can be find <a href=\"https://spring.io/projects/spring-cloud\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":8855557,"reputation":745,"user_id":6613447,"accept_rate":78,"display_name":"袁文涛"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1646013981,"creation_date":1636624471,"answer_id":69926271,"question_id":69061913,"body_markdown":"The spring boot version and spring cloud version should be matched in strict accordance with the official version. Link to the official website:[spring-cloud][1] \r\n[![Release train Spring Boot compatibility][2]][2]\r\n\r\n\r\n  [1]: https://spring.io/projects/spring-cloud\r\n  [2]: https://i.stack.imgur.com/SmrtU.png","title":"BeanCreationException: Error creating bean with name &#39;configurationPropertiesBeans&#39; defined in class path resource","body":"<p>The spring boot version and spring cloud version should be matched in strict accordance with the official version. Link to the official website:<a href=\"https://spring.io/projects/spring-cloud\" rel=\"noreferrer\">spring-cloud</a>\n<a href=\"https://i.stack.imgur.com/SmrtU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SmrtU.png\" alt=\"Release train Spring Boot compatibility\" /></a></p>\n"}],"owner":{"account_id":5871401,"reputation":2092,"user_id":4935554,"accept_rate":40,"display_name":"Ng Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27520,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1668486215,"creation_date":1630831942,"question_id":69061913,"body_markdown":"\r\nI&#39;m writing a small program for circuit breaker, When running the application it throws exceptions.&lt;br&gt; springboot versin 2.5.4, Hystrix Version using **2.2.6**&lt;br&gt;\r\n**BeanCreationException: Error creating bean with name &#39;configurationPropertiesBeans&#39; defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@659e0bfd]** \r\n\r\n**Pom.xml**\r\n--------------\r\n\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.4&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.ramgovindhare&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;cricuitbreakerhystrix&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;CricuitBreakerHystrix&lt;/name&gt;\r\n\t&lt;description&gt;firstMicroserviceProject&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-netflix-hystrix --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.8.RELEASE&lt;/version&gt; &lt;--- **See this**\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\r\n**CricuitBreakerHystrixApplication.java**\r\n------------------------------------------\r\n\r\n\r\n    @SpringBootApplication\r\n    @EnableCircuitBreaker\r\n    public class CricuitBreakerHystrixApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(CricuitBreakerHystrixApplication.class, args);\r\n    \t}\r\n    }\r\n\r\n**Controller class**\r\n----------------------\r\n\r\n    @RestController\r\n    public class CricutiBreakerHystrixController {\r\n    \t\r\n    \t@GetMapping(&quot;/process&quot;)\r\n    \t@HystrixCommand(fallbackMethod = &quot;doWork&quot;)\r\n    \tpublic String doProcess() {\r\n    \t\tString response = &quot;This msg come for processes&quot;;\r\n    \t\tint i = 10 / 0;\r\n    \t\treturn response;\r\n    \t}\r\n    \t\r\n    \tpublic String doWork() {\r\n    \t\treturn &quot;This msg coming from doWork()...!!&quot;;\r\n    \t}\r\n    }","title":"BeanCreationException: Error creating bean with name &#39;configurationPropertiesBeans&#39; defined in class path resource","body":"<p>I'm writing a small program for circuit breaker, When running the application it throws exceptions.<br> springboot versin 2.5.4, Hystrix Version using <strong>2.2.6</strong><br>\n<strong>BeanCreationException: Error creating bean with name 'configurationPropertiesBeans' defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@659e0bfd]</strong></p>\n<h2><strong>Pom.xml</strong></h2>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.5.4&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.ramgovindhare&lt;/groupId&gt;\n&lt;artifactId&gt;cricuitbreakerhystrix&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;CricuitBreakerHystrix&lt;/name&gt;\n&lt;description&gt;firstMicroserviceProject&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-netflix-hystrix --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;\n        &lt;version&gt;2.2.8.RELEASE&lt;/version&gt; &lt;--- **See this**\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<h2><strong>CricuitBreakerHystrixApplication.java</strong></h2>\n<pre><code>@SpringBootApplication\n@EnableCircuitBreaker\npublic class CricuitBreakerHystrixApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(CricuitBreakerHystrixApplication.class, args);\n    }\n}\n</code></pre>\n<h2><strong>Controller class</strong></h2>\n<pre><code>@RestController\npublic class CricutiBreakerHystrixController {\n    \n    @GetMapping(&quot;/process&quot;)\n    @HystrixCommand(fallbackMethod = &quot;doWork&quot;)\n    public String doProcess() {\n        String response = &quot;This msg come for processes&quot;;\n        int i = 10 / 0;\n        return response;\n    }\n    \n    public String doWork() {\n        return &quot;This msg coming from doWork()...!!&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","multidimensional-array"],"comments":[{"owner":{"account_id":26914061,"reputation":114,"user_id":20489149,"display_name":"synapticloop"},"score":0,"creation_date":1668479877,"post_id":74439994,"comment_id":131409904,"body_markdown":"Start with getting your code to compile...  have a look at https://www.educba.com/2d-arrays-in-java/ and do something like this: `public static void main(String[] args) {\n\t\tint[][] newArray = {{ 1, 2, 3}, {101, 102, 103}};\n\t\tArrayMain.countSort(newArray);\n\t}\n`  with your method signature of `public static void countSort(int[][] array)`","body":"Start with getting your code to compile...  have a look at <a href=\"https://www.educba.com/2d-arrays-in-java/\" rel=\"nofollow noreferrer\">educba.com/2d-arrays-in-java</a> and do something like this: <code>public static void main(String[] args) { \t\tint[][] newArray = {{ 1, 2, 3}, {101, 102, 103}}; \t\tArrayMain.countSort(newArray); \t} </code>  with your method signature of <code>public static void countSort(int[][] array)</code>"},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1668482421,"post_id":74439994,"comment_id":131410286,"body_markdown":"I realized that my function is a void, which is why I couldn&#39;t simply just call it as I did. I&#39;ve tried to look over it and implemented some changes as u said. I have edited my response accordingly as well.  However, there still seems to be a compilation error, in particular the Arrays.countSort(newArray) part. Sorry to disturb you but can you please let me know what changes should I make, if u can?","body":"I realized that my function is a void, which is why I couldn&#39;t simply just call it as I did. I&#39;ve tried to look over it and implemented some changes as u said. I have edited my response accordingly as well.  However, there still seems to be a compilation error, in particular the Arrays.countSort(newArray) part. Sorry to disturb you but can you please let me know what changes should I make, if u can?"},{"owner":{"account_id":26914061,"reputation":114,"user_id":20489149,"display_name":"synapticloop"},"score":0,"creation_date":1668483218,"post_id":74439994,"comment_id":131410402,"body_markdown":"Could you please clarify exactly what you are trying to do.  As I understand it you are trying to change a 2d array of integers into a Hashmap keyed on an int with the value being a list of ints???","body":"Could you please clarify exactly what you are trying to do.  As I understand it you are trying to change a 2d array of integers into a Hashmap keyed on an int with the value being a list of ints???"},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1668483383,"post_id":74439994,"comment_id":131410421,"body_markdown":"I&#39;m trying to take in a List&lt;List&lt;Integer&gt;&gt; as an input in my countSort method and return it as a Hashmap (which should be done). My issue is in the main function. I&#39;m trying to input a List&lt;List&lt;Integer&gt;&gt; but I do not know what to do for it to at least compile","body":"I&#39;m trying to take in a List&lt;List&lt;Integer&gt;&gt; as an input in my countSort method and return it as a Hashmap (which should be done). My issue is in the main function. I&#39;m trying to input a List&lt;List&lt;Integer&gt;&gt; but I do not know what to do for it to at least compile"}],"answers":[{"tags":[],"owner":{"account_id":12886881,"reputation":247,"user_id":9320040,"display_name":"Dui Samarasinghe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668484796,"creation_date":1668484796,"answer_id":74440448,"question_id":74439994,"body_markdown":"If you need to create a multi dimensional array list then try with below code,\r\n\r\n    public static void main(String[] args) {\r\n            List&lt;Integer&gt; list1 = new ArrayList&lt;&gt;();\r\n            list1.add(1); list1.add(2); list1.add(3);\r\n            \r\n            List&lt;Integer&gt; list2 = new ArrayList&lt;&gt;();\r\n            list2.add(101); list2.add(102); list2.add(103);\r\n            \r\n            List&lt;List&lt;Integer&gt;&gt;  main = new ArrayList&lt;&gt;();\r\n            main.add(list1);\r\n            main.add(list2);\r\n            \r\n            Sorted.countSort(main);\r\n    }\r\n\r\nIn your main method final line,\r\n\r\n    Arrays.countSort(newArray);\r\n\r\nI don&#39;t think this is correct. It should your class name.","title":"How can I correctly input a List&lt;List&lt;Integer&gt;&gt; in my main method?","body":"<p>If you need to create a multi dimensional array list then try with below code,</p>\n<pre><code>public static void main(String[] args) {\n        List&lt;Integer&gt; list1 = new ArrayList&lt;&gt;();\n        list1.add(1); list1.add(2); list1.add(3);\n        \n        List&lt;Integer&gt; list2 = new ArrayList&lt;&gt;();\n        list2.add(101); list2.add(102); list2.add(103);\n        \n        List&lt;List&lt;Integer&gt;&gt;  main = new ArrayList&lt;&gt;();\n        main.add(list1);\n        main.add(list2);\n        \n        Sorted.countSort(main);\n}\n</code></pre>\n<p>In your main method final line,</p>\n<pre><code>Arrays.countSort(newArray);\n</code></pre>\n<p>I don't think this is correct. It should your class name.</p>\n"},{"tags":[],"owner":{"account_id":26914061,"reputation":114,"user_id":20489149,"display_name":"synapticloop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668485365,"creation_date":1668485365,"answer_id":74440507,"question_id":74439994,"body_markdown":"```\r\n\t\tList&lt;List&lt;Integer&gt;&gt; list = new ArrayList&lt;List&lt;Integer&gt;&gt;();\r\n\r\n\t\tint addable = 1;\r\n\t\tfor(int i = 1; i &lt;= 3; i++) {\r\n\t\t\tList&lt;Integer&gt; innerList = new ArrayList&lt;Integer&gt;();\r\n\t\t\tfor(int j = addable; j &lt;= addable + 3; j++) {\r\n\t\t\t\tinnerList.add(j);\r\n\t\t\t}\r\n\t\t\taddable += 100;\r\n\t\t\tlist.add(innerList);\r\n\t\t}\r\n\r\n\t\tSystem.out.println(list);\r\n```\r\n\r\nwhich will output \r\n\r\n`[[1, 2, 3, 4], [101, 102, 103, 104], [201, 202, 203, 204]]`","title":"How can I correctly input a List&lt;List&lt;Integer&gt;&gt; in my main method?","body":"<pre><code>        List&lt;List&lt;Integer&gt;&gt; list = new ArrayList&lt;List&lt;Integer&gt;&gt;();\n\n        int addable = 1;\n        for(int i = 1; i &lt;= 3; i++) {\n            List&lt;Integer&gt; innerList = new ArrayList&lt;Integer&gt;();\n            for(int j = addable; j &lt;= addable + 3; j++) {\n                innerList.add(j);\n            }\n            addable += 100;\n            list.add(innerList);\n        }\n\n        System.out.println(list);\n</code></pre>\n<p>which will output</p>\n<p><code>[[1, 2, 3, 4], [101, 102, 103, 104], [201, 202, 203, 204]]</code></p>\n"}],"owner":{"display_name":"user18984687"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668485365,"creation_date":1668479308,"question_id":74439994,"body_markdown":"I have a function that takes data from a 2D array and stores it in a Hashmap. I just want to know that how can I input a 2D int array correctly in my main function. Here is what I have so far:\r\n\r\n```\r\npublic class Sorted {\r\n\r\n    public static void countSort(List&lt;List&lt;Integer&gt;&gt; inputData) {\r\n        Map&lt;Integer, List&lt;Integer&gt;&gt; dataAsMap = new HashMap&lt;&gt;();\r\n        for(List&lt;Integer&gt; row : inputData) {\r\n            Integer id = row.get(0); \r\n            Integer item = row.get(1);\r\n            List&lt;Integer&gt; rowInMap = dataAsMap.get(item);\r\n            if (rowInMap == null) {\r\n                rowInMap = new ArrayList&lt;&gt;();\r\n                dataAsMap.put(item, rowInMap);\r\n            }\r\n       \r\n            rowInMap.add(id);\r\n        }\r\n    }\r\n \r\n        \r\n    public static void main(String[] args) {\r\n        int[][] newArray = {{ 1, 2, 3}, {101, 102, 103}};\r\n        Arrays.countSort(newArray);\r\n    }    \r\n} \r\n```\r\n\r\nUnless you haven&#39;t noticed already, this code wouldn&#39;t even compile. I believe that `[[1, 2, 3], [100, 101, 102]]` is indeed a 2D integer array but my issue is that I have no idea how to implement it in the `countsort()` function. Can anyone please help?\r\n","title":"How can I correctly input a List&lt;List&lt;Integer&gt;&gt; in my main method?","body":"<p>I have a function that takes data from a 2D array and stores it in a Hashmap. I just want to know that how can I input a 2D int array correctly in my main function. Here is what I have so far:</p>\n<pre><code>public class Sorted {\n\n    public static void countSort(List&lt;List&lt;Integer&gt;&gt; inputData) {\n        Map&lt;Integer, List&lt;Integer&gt;&gt; dataAsMap = new HashMap&lt;&gt;();\n        for(List&lt;Integer&gt; row : inputData) {\n            Integer id = row.get(0); \n            Integer item = row.get(1);\n            List&lt;Integer&gt; rowInMap = dataAsMap.get(item);\n            if (rowInMap == null) {\n                rowInMap = new ArrayList&lt;&gt;();\n                dataAsMap.put(item, rowInMap);\n            }\n       \n            rowInMap.add(id);\n        }\n    }\n \n        \n    public static void main(String[] args) {\n        int[][] newArray = {{ 1, 2, 3}, {101, 102, 103}};\n        Arrays.countSort(newArray);\n    }    \n} \n</code></pre>\n<p>Unless you haven't noticed already, this code wouldn't even compile. I believe that <code>[[1, 2, 3], [100, 101, 102]]</code> is indeed a 2D integer array but my issue is that I have no idea how to implement it in the <code>countsort()</code> function. Can anyone please help?</p>\n"},{"tags":["java","spring-boot","h2","spring-webflux","r2dbc"],"answers":[{"tags":[],"owner":{"account_id":2360824,"reputation":17691,"user_id":2067527,"display_name":"mp911de"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1577192213,"creation_date":1577192213,"answer_id":59469179,"question_id":59468908,"body_markdown":"**TL;DR:** How should Spring Data know if your object is new or whether it should exist?\r\n\r\nRelational Spring Data Repositories (both, JDBC and R2DBC) must differentiate on `[Reactive]CrudRepository.save(…)` whether the given object is new or whether it exists in your database. Performing a `save(…)` operation results either in an `INSERT` or `UPDATE` statement. Issuing the wrong statement either causes a primary key violation or a no-op as standard SQL does not have a way to express an upsert.\r\n\r\nSpring Data JDBC|R2DBC use by default the presence/absence of the `@Id` value. Generated primary keys are a widely used mechanism. If the primary key is provided, the entity is considered existing. If the id value is `null`, the entity is considered new.\r\n\r\nRead more in the reference documentation about [Entity State Detection Strategies](https://docs.spring.io/spring-data/jdbc/docs/current/reference/html/#jdbc.entity-persistence.state-detection-strategies).","title":"reactive repository throws exception when saving a new object","body":"<p><strong>TL;DR:</strong> How should Spring Data know if your object is new or whether it should exist?</p>\n\n<p>Relational Spring Data Repositories (both, JDBC and R2DBC) must differentiate on <code>[Reactive]CrudRepository.save(…)</code> whether the given object is new or whether it exists in your database. Performing a <code>save(…)</code> operation results either in an <code>INSERT</code> or <code>UPDATE</code> statement. Issuing the wrong statement either causes a primary key violation or a no-op as standard SQL does not have a way to express an upsert.</p>\n\n<p>Spring Data JDBC|R2DBC use by default the presence/absence of the <code>@Id</code> value. Generated primary keys are a widely used mechanism. If the primary key is provided, the entity is considered existing. If the id value is <code>null</code>, the entity is considered new.</p>\n\n<p>Read more in the reference documentation about <a href=\"https://docs.spring.io/spring-data/jdbc/docs/current/reference/html/#jdbc.entity-persistence.state-detection-strategies\" rel=\"noreferrer\">Entity State Detection Strategies</a>.</p>\n"},{"tags":[],"owner":{"account_id":2411246,"reputation":4423,"user_id":2106260,"accept_rate":25,"display_name":"Rajesh"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1592392173,"creation_date":1592392173,"answer_id":62427578,"question_id":59468908,"body_markdown":"You have to implement Persistable&lt;T&gt; because you’ve provided the @Id. The library needs to figure out, whether the row is new or whether it should exist. If your entity implements Persistable, then save(…) will use the outcome of isNew() to determine whether to issue an INSERT or UPDATE.\r\n\r\nFor example:\r\n\r\n    public class Product implements Persistable&lt;Integer&gt; {\r\n    \r\n        @Id\r\n        private Integer id;\r\n        private String description;\r\n        private Double price;\r\n    \r\n        @Transient\r\n        private boolean newProduct;\r\n    \r\n        @Override\r\n        @Transient\r\n        public boolean isNew() {\r\n            return this.newProduct || id == null;\r\n        }\r\n    \r\n        public Product setAsNew() {\r\n            this.newProduct = true;\r\n            return this;\r\n        }\r\n    }","title":"reactive repository throws exception when saving a new object","body":"<p>You have to implement Persistable because you’ve provided the @Id. The library needs to figure out, whether the row is new or whether it should exist. If your entity implements Persistable, then save(…) will use the outcome of isNew() to determine whether to issue an INSERT or UPDATE.</p>\n\n<p>For example:</p>\n\n<pre><code>public class Product implements Persistable&lt;Integer&gt; {\n\n    @Id\n    private Integer id;\n    private String description;\n    private Double price;\n\n    @Transient\n    private boolean newProduct;\n\n    @Override\n    @Transient\n    public boolean isNew() {\n        return this.newProduct || id == null;\n    }\n\n    public Product setAsNew() {\n        this.newProduct = true;\n        return this;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2720576,"reputation":333,"user_id":2346964,"accept_rate":100,"display_name":"Chandan Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626948520,"creation_date":1626948520,"answer_id":68482990,"question_id":59468908,"body_markdown":"May be you should consider this:\r\nChoose data type of your id/Primary Key as INT/LONG and set it to AUTO_INCREMENT (something like below):\r\n\r\nCREATE TABLE PRODUCT(id INT PRIMARY KEY AUTO_INCREMENT NOT NULL, modelname VARCHAR(30) , year VARCHAR(4), owner VARCHAR(50));\r\nIn your post request body, do not include id field.","title":"reactive repository throws exception when saving a new object","body":"<p>May be you should consider this:\nChoose data type of your id/Primary Key as INT/LONG and set it to AUTO_INCREMENT (something like below):</p>\n<p>CREATE TABLE PRODUCT(id INT PRIMARY KEY AUTO_INCREMENT NOT NULL, modelname VARCHAR(30) , year VARCHAR(4), owner VARCHAR(50));\nIn your post request body, do not include id field.</p>\n"},{"tags":[],"owner":{"account_id":9346387,"reputation":21,"user_id":6937555,"display_name":"Murugadasan Dhandapani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668484737,"creation_date":1668484737,"answer_id":74440442,"question_id":59468908,"body_markdown":"Removing @ID issued insert statement","title":"reactive repository throws exception when saving a new object","body":"<p>Removing @ID issued insert statement</p>\n"}],"owner":{"account_id":1537344,"reputation":12765,"user_id":1432980,"accept_rate":73,"display_name":"lapots"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16544,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":4,"score":15,"last_activity_date":1668484737,"creation_date":1577190720,"question_id":59468908,"body_markdown":"I am using `r2dbc`, `r2dbc-h2` and experimental `spring-boot-starter-data-r2dbc`\r\n\r\n    implementation &#39;org.springframework.boot.experimental:spring-boot-starter-data-r2dbc:0.1.0.M1&#39;\r\n    implementation &#39;org.springframework.data:spring-data-r2dbc:1.0.0.RELEASE&#39; // starter-data provides old version\r\n    implementation &#39;io.r2dbc:r2dbc-h2:0.8.0.RELEASE&#39;\r\n    implementation &#39;io.r2dbc:r2dbc-pool:0.8.0.RELEASE&#39;\r\n\r\nI have created reactive repositories\r\n\r\n    public interface IJsonComparisonRepository extends ReactiveCrudRepository&lt;JsonComparisonResult, String&gt; {}\r\n\r\nAlso added a custom script that creates a table in H2 on startup\r\n\r\n    @SpringBootApplication\r\n    public class JsonComparisonApplication {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(JsonComparisonApplication.class, args);\r\n        }\r\n    \r\n        @Bean\r\n        public CommandLineRunner startup(DatabaseClient client) {\r\n            return (args) -&gt; client\r\n                .execute(() -&gt; {\r\n                    var resource = new ClassPathResource(&quot;ddl/script.sql&quot;);\r\n                    try (var is = new InputStreamReader(resource.getInputStream())) {\r\n                        return FileCopyUtils.copyToString(is);\r\n                    } catch (IOException e) {\r\n                        throw new RuntimeException(e);\r\n                    } })\r\n                .then()\r\n                .block();\r\n        }\r\n    }\r\n\r\nMy `r2dbc` configuration looks like this\r\n\r\n    @Configuration\r\n    @EnableR2dbcRepositories\r\n    public class R2dbcConfiguration extends AbstractR2dbcConfiguration {\r\n        @Override\r\n        public ConnectionFactory connectionFactory() {\r\n            return new H2ConnectionFactory(\r\n                H2ConnectionConfiguration.builder()\r\n                    .url(&quot;mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE&quot;)\r\n                    .username(&quot;sa&quot;)\r\n                    .build());\r\n        }\r\n    }\r\n\r\nMy service where I perform the logic looks like this\r\n\r\n\r\n    @Override\r\n    public Mono&lt;JsonComparisonResult&gt; updateOrCreateRightSide(String comparisonId, String json) {\r\n        return updateComparisonSide(comparisonId, storedComparisonResult -&gt; {\r\n            storedComparisonResult.setRightSide(json);\r\n            return storedComparisonResult;\r\n        });\r\n    }\r\n\r\n    private Mono&lt;JsonComparisonResult&gt; updateComparisonSide(String comparisonId,\r\n                                                            Function&lt;JsonComparisonResult, JsonComparisonResult&gt; updateSide) {\r\n        return repository.findById(comparisonId)\r\n            .defaultIfEmpty(createResult(comparisonId))\r\n            .filter(result -&gt; ComparisonDecision.NONE == result.getDecision()) // if not NONE - it means it was found and completed\r\n            .switchIfEmpty(Mono.error(new NotUpdatableCompleteComparisonException(comparisonId)))\r\n            .map(updateSide)\r\n            .flatMap(repository::save);\r\n\r\n    }\r\n\r\n    private JsonComparisonResult createResult(String comparisonId) {\r\n        LOGGER.info(&quot;Creating new comparison result: {}.&quot;, comparisonId);\r\n        var newResult = new JsonComparisonResult();\r\n        newResult.setDecision(ComparisonDecision.NONE);\r\n        newResult.setComparisonId(comparisonId);\r\n        return newResult;\r\n    }\r\n\r\nThe domain looks like this\r\n\r\n    @Table(&quot;json_comparison&quot;)\r\n    public class JsonComparisonResult {\r\n        @Column(&quot;comparison_id&quot;)\r\n        @Id\r\n        private String comparisonId;\r\n        @Column(&quot;left&quot;)\r\n        private String leftSide;\r\n        @Column(&quot;right&quot;)\r\n        private String rightSide;\r\n        // @Enumerated(EnumType.STRING) - no support for now\r\n        @Column(&quot;decision&quot;)\r\n        private ComparisonDecision decision;\r\n        private String differences;\r\n\r\nThe problem is that when I try to add any object to the database it fails with the exception\r\n\r\n\torg.springframework.dao.TransientDataAccessResourceException: Failed to update table [json_comparison]. Row with Id [4] does not exist.\r\n\t\tat org.springframework.data.r2dbc.repository.support.SimpleR2dbcRepository.lambda$save$0(SimpleR2dbcRepository.java:91) ~[spring-data-r2dbc-1.0.0.RELEASE.jar:1.0.0.RELEASE]\r\n\t\tat reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:96) ~[reactor-core-3.3.1.RELEASE.jar:3.3.1.RELEASE]\r\n\t\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:73) ~[reactor-core-3.3.1.RELEASE.jar:3.3.1.RELEASE]\r\n\t\tat reactor.core.publisher.MonoUsingWhen$MonoUsingWhenSubscriber.deferredComplete(MonoUsingWhen.java:276) ~[reactor-core-3.3.1.RELEASE.jar:3.3.1.RELEASE]\r\n\t\tat reactor.core.publisher.FluxUsingWhen$CommitInner.onComplete(FluxUsingWhen.java:536) ~[reactor-core-3.3.1.RELEASE.jar:3.3.1.RELEASE]\r\n\t\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:1858) ~[reactor-core-3.3.1.RELEASE.jar:3.3.1.RELEASE]\r\n\t\tat reactor.core.publisher.Operators.complete(Operators.java:132) ~[reactor-core-3.3.1.RELEASE.jar:3.3.1.RELEASE]\r\n\t\tat reactor.core.publisher.MonoEmpty.subscribe(MonoEmpty.java:45) ~[reactor-core-3.3.1.RELEASE.jar:3.3.1.RELEASE]\r\n\t\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.3.1.RELEASE.jar:3.3.1.RELEASE]\r\n\r\nFor some reason during `save` in `SimpleR2dbcRepository` library class it doesn&#39;t consider the `objectToSave` as new, but then it fails to update as it is in reality doesn&#39;t exist.\r\n\r\n\t// SimpleR2dbcRepository#save\r\n\t@Override\r\n\t@Transactional\r\n\tpublic &lt;S extends T&gt; Mono&lt;S&gt; save(S objectToSave) {\r\n\r\n\t\tAssert.notNull(objectToSave, &quot;Object to save must not be null!&quot;);\r\n\r\n\t\tif (this.entity.isNew(objectToSave)) { // not new\r\n\t\t\t....\r\n\t\t}\r\n\t}\r\n\r\nWhy it is happening and what is the problem?","title":"reactive repository throws exception when saving a new object","body":"<p>I am using <code>r2dbc</code>, <code>r2dbc-h2</code> and experimental <code>spring-boot-starter-data-r2dbc</code></p>\n\n<pre><code>implementation 'org.springframework.boot.experimental:spring-boot-starter-data-r2dbc:0.1.0.M1'\nimplementation 'org.springframework.data:spring-data-r2dbc:1.0.0.RELEASE' // starter-data provides old version\nimplementation 'io.r2dbc:r2dbc-h2:0.8.0.RELEASE'\nimplementation 'io.r2dbc:r2dbc-pool:0.8.0.RELEASE'\n</code></pre>\n\n<p>I have created reactive repositories</p>\n\n<pre><code>public interface IJsonComparisonRepository extends ReactiveCrudRepository&lt;JsonComparisonResult, String&gt; {}\n</code></pre>\n\n<p>Also added a custom script that creates a table in H2 on startup</p>\n\n<pre><code>@SpringBootApplication\npublic class JsonComparisonApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(JsonComparisonApplication.class, args);\n    }\n\n    @Bean\n    public CommandLineRunner startup(DatabaseClient client) {\n        return (args) -&gt; client\n            .execute(() -&gt; {\n                var resource = new ClassPathResource(\"ddl/script.sql\");\n                try (var is = new InputStreamReader(resource.getInputStream())) {\n                    return FileCopyUtils.copyToString(is);\n                } catch (IOException e) {\n                    throw new RuntimeException(e);\n                } })\n            .then()\n            .block();\n    }\n}\n</code></pre>\n\n<p>My <code>r2dbc</code> configuration looks like this</p>\n\n<pre><code>@Configuration\n@EnableR2dbcRepositories\npublic class R2dbcConfiguration extends AbstractR2dbcConfiguration {\n    @Override\n    public ConnectionFactory connectionFactory() {\n        return new H2ConnectionFactory(\n            H2ConnectionConfiguration.builder()\n                .url(\"mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE\")\n                .username(\"sa\")\n                .build());\n    }\n}\n</code></pre>\n\n<p>My service where I perform the logic looks like this</p>\n\n<pre><code>@Override\npublic Mono&lt;JsonComparisonResult&gt; updateOrCreateRightSide(String comparisonId, String json) {\n    return updateComparisonSide(comparisonId, storedComparisonResult -&gt; {\n        storedComparisonResult.setRightSide(json);\n        return storedComparisonResult;\n    });\n}\n\nprivate Mono&lt;JsonComparisonResult&gt; updateComparisonSide(String comparisonId,\n                                                        Function&lt;JsonComparisonResult, JsonComparisonResult&gt; updateSide) {\n    return repository.findById(comparisonId)\n        .defaultIfEmpty(createResult(comparisonId))\n        .filter(result -&gt; ComparisonDecision.NONE == result.getDecision()) // if not NONE - it means it was found and completed\n        .switchIfEmpty(Mono.error(new NotUpdatableCompleteComparisonException(comparisonId)))\n        .map(updateSide)\n        .flatMap(repository::save);\n\n}\n\nprivate JsonComparisonResult createResult(String comparisonId) {\n    LOGGER.info(\"Creating new comparison result: {}.\", comparisonId);\n    var newResult = new JsonComparisonResult();\n    newResult.setDecision(ComparisonDecision.NONE);\n    newResult.setComparisonId(comparisonId);\n    return newResult;\n}\n</code></pre>\n\n<p>The domain looks like this</p>\n\n<pre><code>@Table(\"json_comparison\")\npublic class JsonComparisonResult {\n    @Column(\"comparison_id\")\n    @Id\n    private String comparisonId;\n    @Column(\"left\")\n    private String leftSide;\n    @Column(\"right\")\n    private String rightSide;\n    // @Enumerated(EnumType.STRING) - no support for now\n    @Column(\"decision\")\n    private ComparisonDecision decision;\n    private String differences;\n</code></pre>\n\n<p>The problem is that when I try to add any object to the database it fails with the exception</p>\n\n<pre><code>org.springframework.dao.TransientDataAccessResourceException: Failed to update table [json_comparison]. Row with Id [4] does not exist.\n    at org.springframework.data.r2dbc.repository.support.SimpleR2dbcRepository.lambda$save$0(SimpleR2dbcRepository.java:91) ~[spring-data-r2dbc-1.0.0.RELEASE.jar:1.0.0.RELEASE]\n    at reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:96) ~[reactor-core-3.3.1.RELEASE.jar:3.3.1.RELEASE]\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:73) ~[reactor-core-3.3.1.RELEASE.jar:3.3.1.RELEASE]\n    at reactor.core.publisher.MonoUsingWhen$MonoUsingWhenSubscriber.deferredComplete(MonoUsingWhen.java:276) ~[reactor-core-3.3.1.RELEASE.jar:3.3.1.RELEASE]\n    at reactor.core.publisher.FluxUsingWhen$CommitInner.onComplete(FluxUsingWhen.java:536) ~[reactor-core-3.3.1.RELEASE.jar:3.3.1.RELEASE]\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:1858) ~[reactor-core-3.3.1.RELEASE.jar:3.3.1.RELEASE]\n    at reactor.core.publisher.Operators.complete(Operators.java:132) ~[reactor-core-3.3.1.RELEASE.jar:3.3.1.RELEASE]\n    at reactor.core.publisher.MonoEmpty.subscribe(MonoEmpty.java:45) ~[reactor-core-3.3.1.RELEASE.jar:3.3.1.RELEASE]\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.3.1.RELEASE.jar:3.3.1.RELEASE]\n</code></pre>\n\n<p>For some reason during <code>save</code> in <code>SimpleR2dbcRepository</code> library class it doesn't consider the <code>objectToSave</code> as new, but then it fails to update as it is in reality doesn't exist.</p>\n\n<pre><code>// SimpleR2dbcRepository#save\n@Override\n@Transactional\npublic &lt;S extends T&gt; Mono&lt;S&gt; save(S objectToSave) {\n\n    Assert.notNull(objectToSave, \"Object to save must not be null!\");\n\n    if (this.entity.isNew(objectToSave)) { // not new\n        ....\n    }\n}\n</code></pre>\n\n<p>Why it is happening and what is the problem?</p>\n"},{"tags":["java","spring","spring-boot","openshift"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1550557124,"post_id":54759652,"comment_id":96300687,"body_markdown":"This sounds more like an OpenShift configuration problem.","body":"This sounds more like an OpenShift configuration problem."},{"owner":{"account_id":475032,"reputation":3363,"user_id":885119,"accept_rate":44,"display_name":"Vikk"},"score":0,"creation_date":1550557647,"post_id":54759652,"comment_id":96300863,"body_markdown":"@chrylis Could you please elaborate?","body":"@chrylis Could you please elaborate?"},{"owner":{"account_id":1235468,"reputation":31121,"user_id":1199132,"accept_rate":83,"display_name":"Aritz"},"score":0,"creation_date":1550737979,"post_id":54759652,"comment_id":96381664,"body_markdown":"@Vikk, you should elaborate the question itself too. What does your application do? I would personally try to deploy a sample spring boot app and perform a test with it. If the same issue happens, then it&#39;s openshift related.","body":"@Vikk, you should elaborate the question itself too. What does your application do? I would personally try to deploy a sample spring boot app and perform a test with it. If the same issue happens, then it&#39;s openshift related."},{"owner":{"account_id":14609750,"reputation":828,"user_id":10551549,"display_name":"qutax"},"score":2,"creation_date":1550740076,"post_id":54759652,"comment_id":96382931,"body_markdown":"It could be JVM/JIT warm-up time. I would guess lazy class loading - for which making a bunch of curl calls is a good start - or JIT optimations for which calling the critical code about 100 times isn&#39;t enough (default: `-xx:CompileThreshold=10000` afaik). _Or_, depending on what your application is actually doing, it could be necessary to warm up cache","body":"It could be JVM/JIT warm-up time. I would guess lazy class loading - for which making a bunch of curl calls is a good start - or JIT optimations for which calling the critical code about 100 times isn&#39;t enough (default: <code>-xx:CompileThreshold=10000</code> afaik). <i>Or</i>, depending on what your application is actually doing, it could be necessary to warm up cache"},{"owner":{"account_id":989600,"reputation":30745,"user_id":1007273,"display_name":"hovanessyan"},"score":0,"creation_date":1550858973,"post_id":54759652,"comment_id":96440550,"body_markdown":"Are you using pre-deployed images? What&#39;s the memory consumption per instance? Can you increase the overall allocated memory per node and test?","body":"Are you using pre-deployed images? What&#39;s the memory consumption per instance? Can you increase the overall allocated memory per node and test?"},{"owner":{"account_id":9720713,"reputation":906,"user_id":7209547,"display_name":"Mukul Bansal"},"score":0,"creation_date":1550989163,"post_id":54759652,"comment_id":96470911,"body_markdown":"@Vikk All of your spring boot assets must be getting lazily loaded. Finding out the request that is taking the most time using a reverse proxy like Nginx and then maybe try to fire those particular curls. Also, if you have a distributed tracing mechanism like jaeger/zipkin in place, that will also help a lot.","body":"@Vikk All of your spring boot assets must be getting lazily loaded. Finding out the request that is taking the most time using a reverse proxy like Nginx and then maybe try to fire those particular curls. Also, if you have a distributed tracing mechanism like jaeger/zipkin in place, that will also help a lot."},{"owner":{"account_id":9720713,"reputation":906,"user_id":7209547,"display_name":"Mukul Bansal"},"score":0,"creation_date":1550989308,"post_id":54759652,"comment_id":96470937,"body_markdown":"@qutax -xx:CompileThreshold defaults to 1500 I think.","body":"@qutax -xx:CompileThreshold defaults to 1500 I think."},{"owner":{"account_id":10786834,"reputation":946,"user_id":7935592,"display_name":"fatcook"},"score":0,"creation_date":1551158522,"post_id":54759652,"comment_id":96527115,"body_markdown":"What kind of calls are you making , have you checked your Keep-Alive configuration of your client calls or any other caching that is present in between that might cause the responses to be returned faster.","body":"What kind of calls are you making , have you checked your Keep-Alive configuration of your client calls or any other caching that is present in between that might cause the responses to be returned faster."}],"answers":[{"tags":[],"owner":{"account_id":14077727,"reputation":2867,"user_id":10169530,"display_name":"Fabio Manzano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550858290,"creation_date":1550858290,"answer_id":54832676,"question_id":54759652,"body_markdown":"First of all, I&#39;d try to enable [JIT compilation](https://en.wikipedia.org/wiki/Just-in-time_compilation) and compare results. There&#39;s a [good article in Baeldung](https://www.baeldung.com/graal-java-jit-compiler) comparing Graal performance with the default C1 and C2 JIT compilers -- you may want to run some tests against your workload. Basically, you need to set the following options when running your Java application:\r\n\r\n&gt; -XX:+UnlockExperimentalVMOptions -XX:+EnableJVMCI -XX:+UseJVMCICompiler\r\n\r\nAlso, make sure you&#39;ve [configured readiness probe in OpenShift](https://docs.openshift.com/enterprise/3.1/dev_guide/application_health.html) using Spring Boot&#39;s actuator health check URL (**/actuator/health**). Otherwise your container may receive traffic before being ready to serve.\r\n\r\n&gt; A readiness probe determines if a container is ready to service\r\n&gt; requests. If the readiness probe fails a container, the endpoints\r\n&gt; controller ensures the container has its IP address removed from the\r\n&gt; endpoints of all services. A readiness probe can be used to signal to\r\n&gt; the endpoints controller that even though a container is running, it\r\n&gt; should not receive any traffic from a proxy. Set a readiness check by\r\n&gt; configuring the **template.spec.containers.readinessprobe** stanza of a\r\n&gt; pod configuration.\r\n\r\nFinally, having your responses being cached by NGINX or some other reverse proxy also helps.","title":"Spring boot cold start","body":"<p>First of all, I'd try to enable <a href=\"https://en.wikipedia.org/wiki/Just-in-time_compilation\" rel=\"nofollow noreferrer\">JIT compilation</a> and compare results. There's a <a href=\"https://www.baeldung.com/graal-java-jit-compiler\" rel=\"nofollow noreferrer\">good article in Baeldung</a> comparing Graal performance with the default C1 and C2 JIT compilers -- you may want to run some tests against your workload. Basically, you need to set the following options when running your Java application:</p>\n\n<blockquote>\n  <p>-XX:+UnlockExperimentalVMOptions -XX:+EnableJVMCI -XX:+UseJVMCICompiler</p>\n</blockquote>\n\n<p>Also, make sure you've <a href=\"https://docs.openshift.com/enterprise/3.1/dev_guide/application_health.html\" rel=\"nofollow noreferrer\">configured readiness probe in OpenShift</a> using Spring Boot's actuator health check URL (<strong>/actuator/health</strong>). Otherwise your container may receive traffic before being ready to serve.</p>\n\n<blockquote>\n  <p>A readiness probe determines if a container is ready to service\n  requests. If the readiness probe fails a container, the endpoints\n  controller ensures the container has its IP address removed from the\n  endpoints of all services. A readiness probe can be used to signal to\n  the endpoints controller that even though a container is running, it\n  should not receive any traffic from a proxy. Set a readiness check by\n  configuring the <strong>template.spec.containers.readinessprobe</strong> stanza of a\n  pod configuration.</p>\n</blockquote>\n\n<p>Finally, having your responses being cached by NGINX or some other reverse proxy also helps.</p>\n"},{"tags":[],"owner":{"account_id":2485884,"reputation":2634,"user_id":2164318,"display_name":"Serge"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551273683,"creation_date":1551273683,"answer_id":54906497,"question_id":54759652,"body_markdown":"If your application is healthy when you serve a request to it, but you still have a problem with slow response, you should try to enable **Tiered Compilation**\r\n\r\n    -XX:CompileThreshold -XX:TieredCompilation\r\n\r\nNormally, the VM uses the interpreter to collect profiling information on methods that are fed into the compiler. In the tiered scheme, in addition to the interpreter, the client compiler is used to generate compiled versions of methods that collect profiling information about themselves. \r\n\r\nSince compiled code is substantially faster than interpreted code, the program executes with better performance during the profiling phase.","title":"Spring boot cold start","body":"<p>If your application is healthy when you serve a request to it, but you still have a problem with slow response, you should try to enable <strong>Tiered Compilation</strong></p>\n\n<pre><code>-XX:CompileThreshold -XX:TieredCompilation\n</code></pre>\n\n<p>Normally, the VM uses the interpreter to collect profiling information on methods that are fed into the compiler. In the tiered scheme, in addition to the interpreter, the client compiler is used to generate compiled versions of methods that collect profiling information about themselves. </p>\n\n<p>Since compiled code is substantially faster than interpreted code, the program executes with better performance during the profiling phase.</p>\n"},{"tags":[],"owner":{"account_id":13874157,"reputation":584,"user_id":10016327,"display_name":"satyesht"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1551336312,"creation_date":1551336312,"answer_id":54919871,"question_id":54759652,"body_markdown":"we faced a similar issue with our microservices , in order to warmup we added a Component \r\n\r\n    ApplicationStartup implements ApplicationListener&lt;ApplicationReadyEvent&gt; \r\n\r\nwithin the application to make a call to the services just after application startup,this worked for us.\r\nwith this solution it is guarentted that all class that will be used in your payload will be loaded just after the startup of the instance in every instance you start and you dont need external script to make calls .\r\nAlso problem with external script we can not say for sure that calls where handled by the new instance .\r\n\r\n\r\n    @Component\r\n    public class ApplicationStartup implements ApplicationListener&lt;ApplicationReadyEvent&gt; {\r\n    \r\n    \t@Autowired\r\n    \tYourService yourService;\r\n    \t\r\n    \t@Override\r\n    \tpublic void onApplicationEvent(final ApplicationReadyEvent event) {\r\n    \r\n    \t\tSystem.out.println(&quot;ApplicationReadyEvent: application is up&quot;);\r\n    \t\ttry {\r\n    \t\t\t// some code to call yourservice with property driven or constant inputs \r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t\r\n    } \r\n\r\n","title":"Spring boot cold start","body":"<p>we faced a similar issue with our microservices , in order to warmup we added a Component </p>\n\n<pre><code>ApplicationStartup implements ApplicationListener&lt;ApplicationReadyEvent&gt; \n</code></pre>\n\n<p>within the application to make a call to the services just after application startup,this worked for us.\nwith this solution it is guarentted that all class that will be used in your payload will be loaded just after the startup of the instance in every instance you start and you dont need external script to make calls .\nAlso problem with external script we can not say for sure that calls where handled by the new instance .</p>\n\n<pre><code>@Component\npublic class ApplicationStartup implements ApplicationListener&lt;ApplicationReadyEvent&gt; {\n\n    @Autowired\n    YourService yourService;\n\n    @Override\n    public void onApplicationEvent(final ApplicationReadyEvent event) {\n\n        System.out.println(\"ApplicationReadyEvent: application is up\");\n        try {\n            // some code to call yourservice with property driven or constant inputs \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2016079,"reputation":1865,"user_id":1803356,"accept_rate":71,"display_name":"suiwenfeng"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604301593,"creation_date":1604301029,"answer_id":64641184,"question_id":54759652,"body_markdown":"In my scenario, I mock 100+ curl requests to initialize those client pools, preloading caches, or other lazy loading guys. \r\n\r\nI do this work at `WarmupHealthIndicator implements HealthIndicator` which implement a spring actuator health check endpoint.\r\n\r\nfinally it works, before the warmup finshed, any healch check from Nginx(or other Load Balancer) will get 5xx status code, and below body message. And after status up, no traffic will cost time on app initialization.\r\n```\r\n{\r\n  &quot;status&quot;: &quot;DOWN&quot;,\r\n  &quot;details&quot;: {\r\n    &quot;warmup&quot;: {\r\n      &quot;status&quot;: &quot;DOWN&quot;\r\n    },\r\n    &quot;diskSpace&quot;: {\r\n      &quot;status&quot;: &quot;UP&quot;,\r\n      &quot;details&quot;: {\r\n        &quot;total&quot;: 536608768000,\r\n        &quot;free&quot;: 395195826176,\r\n        &quot;threshold&quot;: 10485760\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nIn addition, `NGINX Plus` have a paid feature [slow_start](https://docs.nginx.com/nginx/admin-guide/load-balancer/http-health-check/#slow_start) which can do the samething for your interest.","title":"Spring boot cold start","body":"<p>In my scenario, I mock 100+ curl requests to initialize those client pools, preloading caches, or other lazy loading guys.</p>\n<p>I do this work at <code>WarmupHealthIndicator implements HealthIndicator</code> which implement a spring actuator health check endpoint.</p>\n<p>finally it works, before the warmup finshed, any healch check from Nginx(or other Load Balancer) will get 5xx status code, and below body message. And after status up, no traffic will cost time on app initialization.</p>\n<pre><code>{\n  &quot;status&quot;: &quot;DOWN&quot;,\n  &quot;details&quot;: {\n    &quot;warmup&quot;: {\n      &quot;status&quot;: &quot;DOWN&quot;\n    },\n    &quot;diskSpace&quot;: {\n      &quot;status&quot;: &quot;UP&quot;,\n      &quot;details&quot;: {\n        &quot;total&quot;: 536608768000,\n        &quot;free&quot;: 395195826176,\n        &quot;threshold&quot;: 10485760\n      }\n    }\n  }\n}\n</code></pre>\n<p>In addition, <code>NGINX Plus</code> have a paid feature <a href=\"https://docs.nginx.com/nginx/admin-guide/load-balancer/http-health-check/#slow_start\" rel=\"nofollow noreferrer\">slow_start</a> which can do the samething for your interest.</p>\n"},{"tags":[],"owner":{"account_id":3638205,"reputation":149,"user_id":3033075,"display_name":"firfor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642165984,"creation_date":1642165984,"answer_id":70711103,"question_id":54759652,"body_markdown":"This problem can be solved from two aspects.\r\nThe first method is to warm up yourself before serving.\r\nThe second method is to give fewer requests from the outside at the beginning, so that more computing resources can be reserved to complete some initialization of the JVM (such as class loading).\r\nEither way, it is because the JVM needs to be warmed up for startup. This is determined by the operating principle of the JVM. Especially the HotSpot virtual machine, its execution engine consists of two parts: the interpretation execution engine and the real-time compilation execution (JIT). For JIT, which requires CPU resources to compile the bytecode in real time. In addition, lazy loading of classes will also require more time on the first run.\r\n\r\n1. JVM warm-up\r\n\r\nJVM warm-up is mainly to solve the two problems of class loading and real-time compilation.\r\n- For class loading, just run the override code path ahead of time.\r\n- For JIT, layered compilation such as C1/C2 is generally enabled on the server side (JVM server mode). If you are using JDK7 or above, layered compilation is enabled by default (lower versions of JDK require JVM parameters: -XX:+TieredCompilation), the compilation computing resources of C1 and C2 are different, and C2 will have more. The purpose of preheating may be to trigger C1/C2 compilation, so that when the official request comes in, the code has been preheated and compiled pass.\r\n\r\nFor the above two directions, class loading itself will consume more time. Warming up this part will get a greater input-output ratio.\r\n\r\n2. Network layer warm-up.\r\n\r\nFrom the network level, a certain amount of warm-up traffic is given, which can be a specific warm-up traffic or a normal user request.\r\n\r\nThis can generally be done at the nginx layer for flow control. When a newly started node joins the upstream, a very low weight can be given to the new node. In this way, only a small amount of traffic is entered in the initial stage. Thus, enough computing resources are reserved. To do code warm-up, that is, class loading and just-in-time compilation.\r\nIf the service only provides RPC services, but not HTTP services, the RPC framework layer can do traffic preheating. For example, RPC frameworks such as Dubbo already have the service preheating function. Similarly, preheating means that the nodes in the initial stage of startup only give a small amount of traffic .\r\n\r\nThe computing resources required for preheating are mentioned in the above methods. That is, CPU. If your service host has enough computing resources, you can allocate more CPU resources to each node to speed up the preheating process. Reduce Preheat treatment time.\r\n\r\nIf the above network layer and hardware resources and RPC framework cannot be changed. We can warm up ourselves inside the SpringBoot microservice. The above answers have already mentioned `ApplicationReadyEvent`, the actual better implementation is to listen to the `ContextRefreshedEvent` event. Because the HTTP port will be initialized and exposed when the ApplicationReadyEvent occurs. There may be unexpected requests coming in before the warm-up is completed.\r\n\r\n\r\n```java\r\n@Component\r\npublic class StartWarmUpListener implements ApplicationListener&lt;ContextRefreshedEvent&gt; {\r\n    /**\r\n     * Handle an application event.\r\n     *\r\n     * @param event the event to respond to\r\n     */\r\n    @Override\r\n    public void onApplicationEvent(ContextRefreshedEvent event) {\r\n        // do something about warm-up here.....\r\n    }\r\n}\r\n```\r\n\r\nNote: The above warm-up code does not warm up all the code. Because the request from the Controller layer has some code paths that cannot actually be executed until the HTTP server is not ready. We can only perform code coverage at the service layer. In short, this may be a compromise.","title":"Spring boot cold start","body":"<p>This problem can be solved from two aspects.\nThe first method is to warm up yourself before serving.\nThe second method is to give fewer requests from the outside at the beginning, so that more computing resources can be reserved to complete some initialization of the JVM (such as class loading).\nEither way, it is because the JVM needs to be warmed up for startup. This is determined by the operating principle of the JVM. Especially the HotSpot virtual machine, its execution engine consists of two parts: the interpretation execution engine and the real-time compilation execution (JIT). For JIT, which requires CPU resources to compile the bytecode in real time. In addition, lazy loading of classes will also require more time on the first run.</p>\n<ol>\n<li>JVM warm-up</li>\n</ol>\n<p>JVM warm-up is mainly to solve the two problems of class loading and real-time compilation.</p>\n<ul>\n<li>For class loading, just run the override code path ahead of time.</li>\n<li>For JIT, layered compilation such as C1/C2 is generally enabled on the server side (JVM server mode). If you are using JDK7 or above, layered compilation is enabled by default (lower versions of JDK require JVM parameters: -XX:+TieredCompilation), the compilation computing resources of C1 and C2 are different, and C2 will have more. The purpose of preheating may be to trigger C1/C2 compilation, so that when the official request comes in, the code has been preheated and compiled pass.</li>\n</ul>\n<p>For the above two directions, class loading itself will consume more time. Warming up this part will get a greater input-output ratio.</p>\n<ol start=\"2\">\n<li>Network layer warm-up.</li>\n</ol>\n<p>From the network level, a certain amount of warm-up traffic is given, which can be a specific warm-up traffic or a normal user request.</p>\n<p>This can generally be done at the nginx layer for flow control. When a newly started node joins the upstream, a very low weight can be given to the new node. In this way, only a small amount of traffic is entered in the initial stage. Thus, enough computing resources are reserved. To do code warm-up, that is, class loading and just-in-time compilation.\nIf the service only provides RPC services, but not HTTP services, the RPC framework layer can do traffic preheating. For example, RPC frameworks such as Dubbo already have the service preheating function. Similarly, preheating means that the nodes in the initial stage of startup only give a small amount of traffic .</p>\n<p>The computing resources required for preheating are mentioned in the above methods. That is, CPU. If your service host has enough computing resources, you can allocate more CPU resources to each node to speed up the preheating process. Reduce Preheat treatment time.</p>\n<p>If the above network layer and hardware resources and RPC framework cannot be changed. We can warm up ourselves inside the SpringBoot microservice. The above answers have already mentioned <code>ApplicationReadyEvent</code>, the actual better implementation is to listen to the <code>ContextRefreshedEvent</code> event. Because the HTTP port will be initialized and exposed when the ApplicationReadyEvent occurs. There may be unexpected requests coming in before the warm-up is completed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class StartWarmUpListener implements ApplicationListener&lt;ContextRefreshedEvent&gt; {\n    /**\n     * Handle an application event.\n     *\n     * @param event the event to respond to\n     */\n    @Override\n    public void onApplicationEvent(ContextRefreshedEvent event) {\n        // do something about warm-up here.....\n    }\n}\n</code></pre>\n<p>Note: The above warm-up code does not warm up all the code. Because the request from the Controller layer has some code paths that cannot actually be executed until the HTTP server is not ready. We can only perform code coverage at the service layer. In short, this may be a compromise.</p>\n"},{"tags":[],"owner":{"account_id":2490426,"reputation":9,"user_id":2168000,"display_name":"shelltea"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668483319,"creation_date":1668077188,"answer_id":74387717,"question_id":54759652,"body_markdown":"When a Spring Boot application starting, the JVM needs to load various classes for initialization, resulting in a long response time for HTTP requests. \r\n\r\nIf you want to warm up http components, you can refer to:\r\n```\r\n@Component\r\npublic class WarmUpListener implements ApplicationListener&lt;ApplicationReadyEvent&gt; {\r\n    @Override\r\n    public void onApplicationEvent(ApplicationReadyEvent event) {\r\n        // Warm up\r\n    }\r\n}\r\n```\r\n\r\nOr try this spring boot starter: [warmup-spring-boot-starter][1], HTTP-related components can be preheated before the application provides external services, thereby reducing the HTTP request response time.\r\n\r\n\r\n  [1]: https://github.com/shelltea/warmup-spring-boot-starter","title":"Spring boot cold start","body":"<p>When a Spring Boot application starting, the JVM needs to load various classes for initialization, resulting in a long response time for HTTP requests.</p>\n<p>If you want to warm up http components, you can refer to:</p>\n<pre><code>@Component\npublic class WarmUpListener implements ApplicationListener&lt;ApplicationReadyEvent&gt; {\n    @Override\n    public void onApplicationEvent(ApplicationReadyEvent event) {\n        // Warm up\n    }\n}\n</code></pre>\n<p>Or try this spring boot starter: <a href=\"https://github.com/shelltea/warmup-spring-boot-starter\" rel=\"nofollow noreferrer\">warmup-spring-boot-starter</a>, HTTP-related components can be preheated before the application provides external services, thereby reducing the HTTP request response time.</p>\n"}],"owner":{"account_id":475032,"reputation":3363,"user_id":885119,"accept_rate":44,"display_name":"Vikk"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12302,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":6,"score":16,"last_activity_date":1668483319,"creation_date":1550555495,"question_id":54759652,"body_markdown":"I have a spring boot application which I&#39;m running inside docker containers in an openshift cluster. In steady state, there are N instances of the application (say N=5) and requests are load balanced to these N instances. Everything runs fine and response time is low (~5ms with total throughput of ~60k).\r\n\r\nWhenever I add a new instance, response time goes up briefly (upto ~70ms) and then comes back to normal.\r\n\r\nIs there anything I can do to avoid this type of cold start? I tried pre-warming the app by making ~100 curl calls sequentially before sending traffic, but that did not help?\r\n\r\nDo I need better warmup script with high concurrency? Is there a better way to handle this?\r\n\r\nThanks\r\n\r\n\r\n\r\n\r\n","title":"Spring boot cold start","body":"<p>I have a spring boot application which I'm running inside docker containers in an openshift cluster. In steady state, there are N instances of the application (say N=5) and requests are load balanced to these N instances. Everything runs fine and response time is low (~5ms with total throughput of ~60k).</p>\n\n<p>Whenever I add a new instance, response time goes up briefly (upto ~70ms) and then comes back to normal.</p>\n\n<p>Is there anything I can do to avoid this type of cold start? I tried pre-warming the app by making ~100 curl calls sequentially before sending traffic, but that did not help?</p>\n\n<p>Do I need better warmup script with high concurrency? Is there a better way to handle this?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668465059,"post_id":74438489,"comment_id":131407244,"body_markdown":"Please try: Add `@Qualifier(&quot;tableMap&quot;)` to constructor argument.","body":"Please try: Add <code>@Qualifier(&quot;tableMap&quot;)</code> to constructor argument."},{"owner":{"account_id":12985038,"reputation":309,"user_id":9386181,"display_name":"Bleach"},"score":0,"creation_date":1668465809,"post_id":74438489,"comment_id":131407442,"body_markdown":"@xerx593 that doesnt help. However if i name the bean then use that as a qualifier it works. But I don&#39;t want to use qualifiers for something simple like this. I want to learn the reasoning behind.","body":"@xerx593 that doesnt help. However if i name the bean then use that as a qualifier it works. But I don&#39;t want to use qualifiers for something simple like this. I want to learn the reasoning behind."}],"answers":[{"tags":[],"owner":{"account_id":6460997,"reputation":7359,"user_id":5004822,"accept_rate":41,"display_name":"SledgeHammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668482360,"creation_date":1668482360,"answer_id":74440269,"question_id":74438489,"body_markdown":"That is expected behavior. Spring supports taking collection types to pass in multiple beans. So `List&lt;MyPojo&gt;` will inject a list of all the MyPojo beans. What is happening in your case, is Spring is injecting the bean name / string value since that is a `Map&lt;String, String&gt;`.\r\n\r\nYou shouldn&#39;t have to name beans though, the default bean name is the method name. The qualifier is a valid workaround in this case.","title":"Spring String &amp; Map Injection","body":"<p>That is expected behavior. Spring supports taking collection types to pass in multiple beans. So <code>List&lt;MyPojo&gt;</code> will inject a list of all the MyPojo beans. What is happening in your case, is Spring is injecting the bean name / string value since that is a <code>Map&lt;String, String&gt;</code>.</p>\n<p>You shouldn't have to name beans though, the default bean name is the method name. The qualifier is a valid workaround in this case.</p>\n"}],"owner":{"account_id":12985038,"reputation":309,"user_id":9386181,"display_name":"Bleach"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74440269,"answer_count":1,"score":0,"last_activity_date":1668482360,"creation_date":1668464197,"question_id":74438489,"body_markdown":"I&#39;ve a simple question.(odd scenario for me)\r\n\r\nI&#39;ve this bean below. \r\n\r\n    @Configuration\r\n    public class ConfigurationBean {\r\n\r\n    @Bean\r\n    public Config getConfig() {\r\n        return ConfigFactory.load();\r\n    }\r\n\r\n    @Bean\r\n    public Map&lt;String, String&gt; tableMap(Config config) {\r\n        return config.getObject(&quot;tables&quot;).unwrapped().entrySet().stream().collect(Collectors.toMap(Map.Entry::getKey, e -&gt; e.getValue().toString()));\r\n    }\r\n\r\n    @Bean\r\n    public String url(Config config) {\r\n        return config.getString(&quot;url&quot;);\r\n    }\r\n    }\r\n\r\nAnd my service class;\r\n\r\n    @Component\r\n    public class TableService  {\r\n    private final Map&lt;String, String&gt; tableMap;\r\n    private final String url;\r\n    private Connection connection;\r\n    private final TableToJsonConverter tableToJsonConverter;\r\n\r\n    @Autowired\r\n    public TableService(TableToJsonConverter tableToJsonConverter,\r\n                        String url,\r\n                        Map&lt;String, String&gt; tableMap) {\r\n        this.url = url;\r\n        this.tableMap = tableMap;\r\n        this.tableToJsonConverter = tableToJsonConverter;\r\n    }\r\n\r\n\r\nSo the scenario is, \r\n`url` bean returns value `www.google.com`. \r\n`tableMap` bean returns `newGame:new_game_table,oldGame:old_game_table`\r\n\r\nNow what I am expecting to inject map to map, string to string in the constructor of `TableService`. But what really happens is, `url` is inserted correctly however the map is injected as `url:www.google.com` \r\n\r\n[![TableMapContent][1]][1]\r\n\r\n[![See here][2]][2]\r\n\r\n\r\nI am a bit puzzled, could you please let me know what&#39;s happening here?\r\n\r\nThanks in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8icvd.png\r\n  [2]: https://i.stack.imgur.com/y9c6h.png","title":"Spring String &amp; Map Injection","body":"<p>I've a simple question.(odd scenario for me)</p>\n<p>I've this bean below.</p>\n<pre><code>@Configuration\npublic class ConfigurationBean {\n\n@Bean\npublic Config getConfig() {\n    return ConfigFactory.load();\n}\n\n@Bean\npublic Map&lt;String, String&gt; tableMap(Config config) {\n    return config.getObject(&quot;tables&quot;).unwrapped().entrySet().stream().collect(Collectors.toMap(Map.Entry::getKey, e -&gt; e.getValue().toString()));\n}\n\n@Bean\npublic String url(Config config) {\n    return config.getString(&quot;url&quot;);\n}\n}\n</code></pre>\n<p>And my service class;</p>\n<pre><code>@Component\npublic class TableService  {\nprivate final Map&lt;String, String&gt; tableMap;\nprivate final String url;\nprivate Connection connection;\nprivate final TableToJsonConverter tableToJsonConverter;\n\n@Autowired\npublic TableService(TableToJsonConverter tableToJsonConverter,\n                    String url,\n                    Map&lt;String, String&gt; tableMap) {\n    this.url = url;\n    this.tableMap = tableMap;\n    this.tableToJsonConverter = tableToJsonConverter;\n}\n</code></pre>\n<p>So the scenario is,\n<code>url</code> bean returns value <code>www.google.com</code>.\n<code>tableMap</code> bean returns <code>newGame:new_game_table,oldGame:old_game_table</code></p>\n<p>Now what I am expecting to inject map to map, string to string in the constructor of <code>TableService</code>. But what really happens is, <code>url</code> is inserted correctly however the map is injected as <code>url:www.google.com</code></p>\n<p><a href=\"https://i.stack.imgur.com/8icvd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8icvd.png\" alt=\"TableMapContent\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/y9c6h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y9c6h.png\" alt=\"See here\" /></a></p>\n<p>I am a bit puzzled, could you please let me know what's happening here?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","gson"],"comments":[{"owner":{"account_id":337356,"reputation":19003,"user_id":665575,"display_name":"tom"},"score":0,"creation_date":1364126096,"post_id":15598080,"comment_id":22118502,"body_markdown":"Do you want to distinguish between the two list types?","body":"Do you want to distinguish between the two list types?"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1364126479,"post_id":15598080,"comment_id":22118605,"body_markdown":"IMHO, this indicates a design problem. You shouldn&#39;t have a method returning sometimes something, and some other times something else.","body":"IMHO, this indicates a design problem. You shouldn&#39;t have a method returning sometimes something, and some other times something else."},{"owner":{"account_id":2098089,"reputation":5795,"user_id":1866427,"accept_rate":67,"display_name":"lokoko"},"score":0,"creation_date":1364126667,"post_id":15598080,"comment_id":22118657,"body_markdown":"Agree with JB Nizet. But if you want to compare each element for some reason then you could check my ans.","body":"Agree with JB Nizet. But if you want to compare each element for some reason then you could check my ans."},{"owner":{"account_id":1155227,"reputation":22275,"user_id":1136023,"accept_rate":59,"display_name":"Bhavesh Hirpara"},"score":0,"creation_date":1364126985,"post_id":15598080,"comment_id":22118745,"body_markdown":"Type is not list type.. see my updated question....","body":"Type is not list type.. see my updated question...."},{"owner":{"account_id":1969545,"reputation":4162,"user_id":1768894,"accept_rate":100,"display_name":"Oren"},"score":0,"creation_date":1364127100,"post_id":15598080,"comment_id":22118777,"body_markdown":"[the first answer to this question](http://stackoverflow.com/questions/1942644/get-generic-type-of-java-util-list) may be usefull in your case. tl;dr: use reflection.","body":"<a href=\"http://stackoverflow.com/questions/1942644/get-generic-type-of-java-util-list\">the first answer to this question</a> may be usefull in your case. tl;dr: use reflection."}],"answers":[{"tags":[],"owner":{"account_id":221289,"reputation":33511,"user_id":479180,"accept_rate":81,"display_name":"LuxuryMode"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1668481949,"creation_date":1364126255,"answer_id":15598158,"question_id":15598080,"body_markdown":"Yeah, the problem is that in Java an instance test against a type that is not reifiable is always an error.\r\n\r\nFor example:\r\n\r\n    if(o instance of List&lt;E&gt;)\r\n\r\nwhere E is any type, will not compile.\r\n\r\nYou simply have to check that what&#39;s contained in the Lists are the same type, e.g.\r\n\r\n    if(list1.get(0) instance of String &amp;&amp; list2.get(0) instance of String)\r\n\r\n\r\n**EDIT:**\r\n\r\nNot sure if there&#39;s a language barrier issue here (your question is hard to fully understand), but you should not need to make your method take an argument of type Type. As someone else mentioned, you have a bad design here. What you should be doing is simply defining how to deserialize each of your classes (if custom deserialization needs to be defined *at all*; that is, if the defaults won&#39;t work) and then get a list of those in the regular way with Gson. \r\n\r\nI&#39;m not super familiar with Gson, but it should be something like:\r\n\r\n\r\n    List&lt;Class1&gt; stuff = gson.fromJson(json, new TypeToken&lt;List&lt;Class1&gt;&gt;(){}.getType());\r\n\r\nSo, in other words, if each class has peculiarities that will make default deserialization not work, then there&#39;s no way (without a lot of gymnastics) to make a `deserialize` method work for every single type. \r\n\r\nAlso, don&#39;t combine all functionality into one. Getting an `ArrayList&lt;LayoutMap&gt;` should be separated from the functionality of deserializing each class.\r\n\r\n\r\n\r\n \r\n","title":"How to check Type in android","body":"<p>Yeah, the problem is that in Java an instance test against a type that is not reifiable is always an error.</p>\n<p>For example:</p>\n<pre><code>if(o instance of List&lt;E&gt;)\n</code></pre>\n<p>where E is any type, will not compile.</p>\n<p>You simply have to check that what's contained in the Lists are the same type, e.g.</p>\n<pre><code>if(list1.get(0) instance of String &amp;&amp; list2.get(0) instance of String)\n</code></pre>\n<p><strong>EDIT:</strong></p>\n<p>Not sure if there's a language barrier issue here (your question is hard to fully understand), but you should not need to make your method take an argument of type Type. As someone else mentioned, you have a bad design here. What you should be doing is simply defining how to deserialize each of your classes (if custom deserialization needs to be defined <em>at all</em>; that is, if the defaults won't work) and then get a list of those in the regular way with Gson.</p>\n<p>I'm not super familiar with Gson, but it should be something like:</p>\n<pre><code>List&lt;Class1&gt; stuff = gson.fromJson(json, new TypeToken&lt;List&lt;Class1&gt;&gt;(){}.getType());\n</code></pre>\n<p>So, in other words, if each class has peculiarities that will make default deserialization not work, then there's no way (without a lot of gymnastics) to make a <code>deserialize</code> method work for every single type.</p>\n<p>Also, don't combine all functionality into one. Getting an <code>ArrayList&lt;LayoutMap&gt;</code> should be separated from the functionality of deserializing each class.</p>\n"},{"tags":[],"owner":{"account_id":2098089,"reputation":5795,"user_id":1866427,"accept_rate":67,"display_name":"lokoko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1364126451,"creation_date":1364126451,"answer_id":15598188,"question_id":15598080,"body_markdown":"You can just try something like :\r\n\r\n    for (int i=0; i&lt;type.size(); ++i) {\r\n        if (type.get(i) instanceof String) {\r\n            // Do something here\r\n        }\r\n    }\r\n\r\nThis would check each element of the list and if its a string you could work on it.","title":"How to check Type in android","body":"<p>You can just try something like :</p>\n\n<pre><code>for (int i=0; i&lt;type.size(); ++i) {\n    if (type.get(i) instanceof String) {\n        // Do something here\n    }\n}\n</code></pre>\n\n<p>This would check each element of the list and if its a string you could work on it.</p>\n"},{"tags":[],"owner":{"account_id":1556130,"reputation":59,"user_id":1447169,"display_name":"Prince "},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1364126680,"creation_date":1364126680,"answer_id":15598225,"question_id":15598080,"body_markdown":"try to use getClass() function on your type to find the class of an object on runtime.\r\nfor eg..\r\n type.getClass().equals(java.lang.string)","title":"How to check Type in android","body":"<p>try to use getClass() function on your type to find the class of an object on runtime.\nfor eg..\n type.getClass().equals(java.lang.string)</p>\n"},{"tags":[],"owner":{"account_id":2099531,"reputation":6497,"user_id":1867549,"accept_rate":80,"display_name":"&#201;tienne Miret"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364127274,"creation_date":1364127274,"answer_id":15598325,"question_id":15598080,"body_markdown":"Hopefully, `type` will be an instance of `ParameterizedType`. So you can use the method &lt;a Href=&quot;http://developer.android.com/reference/java/lang/reflect/ParameterizedType.html#getActualTypeArguments()&quot;&gt;getActualTypeArguments()&lt;/a&gt;.","title":"How to check Type in android","body":"<p>Hopefully, <code>type</code> will be an instance of <code>ParameterizedType</code>. So you can use the method <a Href=\"http://developer.android.com/reference/java/lang/reflect/ParameterizedType.html#getActualTypeArguments()\" rel=\"nofollow\">getActualTypeArguments()</a>.</p>\n"},{"tags":[],"owner":{"account_id":1155227,"reputation":22275,"user_id":1136023,"accept_rate":59,"display_name":"Bhavesh Hirpara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1364127670,"creation_date":1364127670,"answer_id":15598377,"question_id":15598080,"body_markdown":"I just find my solution .. I don&#39;t know it is better or not \r\n\r\nI am comparing two `Type` variable like this...\r\n\r\n    if (type.toString().equalsIgnoreCase(\r\n\t\t\t\t\tnew TypeToken&lt;List&lt;Test.MyClass&gt;&gt;() {\r\n\t\t\t\t\t}.getType().toString())) {\r\n\r\n    }else\r\n    {\r\n\r\n    }","title":"How to check Type in android","body":"<p>I just find my solution .. I don't know it is better or not </p>\n\n<p>I am comparing two <code>Type</code> variable like this...</p>\n\n<pre><code>if (type.toString().equalsIgnoreCase(\n                new TypeToken&lt;List&lt;Test.MyClass&gt;&gt;() {\n                }.getType().toString())) {\n\n}else\n{\n\n}\n</code></pre>\n"}],"owner":{"account_id":1155227,"reputation":22275,"user_id":1136023,"accept_rate":59,"display_name":"Bhavesh Hirpara"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12918,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":15598377,"answer_count":5,"score":4,"last_activity_date":1668481949,"creation_date":1364125825,"question_id":15598080,"body_markdown":"One of my function getting **[Type][1]** variable. sometimes it can be `java.util.List&lt;Test$MyClass&gt;` or `java.util.List&lt;java.lang.String&gt;` so how can I identify them?\r\n\r\n    if (type instanceof List) {\r\n\r\n    }\r\n\r\nBoth are List type but different type. So that above code does not work.\r\nI want to distinguish between the two list types.\r\n\r\nmy main issue is https://stackoverflow.com/questions/15596112/implement-jsondeserializer-more-than-one-in-gson-in-android\r\n\r\nI am using `deserializer` for that..\r\n\r\n    public class Data implements JsonDeserializer&lt;ArrayList&lt;MyClass1&gt;&gt; {\r\n    public ArrayList&lt;MyClass1&gt; myList1 = new ArrayList&lt;MyClass1&gt;();\r\n    public ArrayList&lt;MyClass2&gt; myList2 = new ArrayList&lt;MyClass2&gt;();\r\n\r\n    @Override\r\n    public ArrayList&lt;MyClass1&gt; deserialize(JsonElement json, Type type,\r\n            JsonDeserializationContext context) throws JsonParseException {\r\n\r\n        Debug.e(&quot;&quot;, type.toString());\r\n\r\n        ArrayList&lt;Layoutmap&gt; data = new ArrayList&lt;Layoutmap&gt;();\r\n\r\n        try {\r\n            if (json.isJsonObject()) {\r\n\r\n                // my stuff\r\n\r\n                return data;\r\n            } else {\r\n                return new Gson().fromJson(json, type);\r\n            }\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return data;\r\n    }\r\n}\r\n\r\nabove code works for ` public ArrayList&lt;MyClass2&gt; myList2 = new ArrayList&lt;MyClass2&gt;();` and `myList2` is also i want to deserialize..\r\nIt&#39;s part of google [Gson][2].\r\n\r\n\r\n  [1]: http://developer.android.com/reference/java/lang/reflect/Type.html\r\n  [2]: https://code.google.com/p/google-gson/","title":"How to check Type in android","body":"<p>One of my function getting <strong><a href=\"http://developer.android.com/reference/java/lang/reflect/Type.html\" rel=\"nofollow noreferrer\">Type</a></strong> variable. sometimes it can be <code>java.util.List&lt;Test$MyClass&gt;</code> or <code>java.util.List&lt;java.lang.String&gt;</code> so how can I identify them?</p>\n\n<pre><code>if (type instanceof List) {\n\n}\n</code></pre>\n\n<p>Both are List type but different type. So that above code does not work.\nI want to distinguish between the two list types.</p>\n\n<p>my main issue is <a href=\"https://stackoverflow.com/questions/15596112/implement-jsondeserializer-more-than-one-in-gson-in-android\">https://stackoverflow.com/questions/15596112/implement-jsondeserializer-more-than-one-in-gson-in-android</a></p>\n\n<p>I am using <code>deserializer</code> for that..</p>\n\n<pre><code>public class Data implements JsonDeserializer&lt;ArrayList&lt;MyClass1&gt;&gt; {\npublic ArrayList&lt;MyClass1&gt; myList1 = new ArrayList&lt;MyClass1&gt;();\npublic ArrayList&lt;MyClass2&gt; myList2 = new ArrayList&lt;MyClass2&gt;();\n\n@Override\npublic ArrayList&lt;MyClass1&gt; deserialize(JsonElement json, Type type,\n        JsonDeserializationContext context) throws JsonParseException {\n\n    Debug.e(\"\", type.toString());\n\n    ArrayList&lt;Layoutmap&gt; data = new ArrayList&lt;Layoutmap&gt;();\n\n    try {\n        if (json.isJsonObject()) {\n\n            // my stuff\n\n            return data;\n        } else {\n            return new Gson().fromJson(json, type);\n        }\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    return data;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>above code works for <code>public ArrayList&lt;MyClass2&gt; myList2 = new ArrayList&lt;MyClass2&gt;();</code> and <code>myList2</code> is also i want to deserialize..\nIt's part of google <a href=\"https://code.google.com/p/google-gson/\" rel=\"nofollow noreferrer\">Gson</a>.</p>\n"},{"tags":["java","gis","google-earth","google-earth-engine","geography"],"owner":{"account_id":25744287,"reputation":21,"user_id":19497772,"display_name":"Shadi Dorosti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1668481242,"creation_date":1668481242,"question_id":74440170,"body_markdown":"I&#39;m trying to export the images in [TFRecords format](https://code.earthengine.google.com/7cced1b1ad573a3b1d43002a57e05649) in Google Earth Engine and I got the &quot;**tile_dimensions must be specified for TfRecord export**&quot; error:\r\n\r\nHere is the code:\r\n\r\n```\r\nvar Regoin= imageCollection.filterBounds(geometry);\r\nvar image= Regoin.filter(ee.Filter.date(&#39;2015-01-01&#39;,&#39;2021-01-01&#39;))\r\nprint(image.size())\r\n\r\n\r\nExport.image.toDrive({\r\n  image: image,\r\n  description: &quot;Chicago_Images&quot;,\r\n  folder: &#39;GEE&#39;,\r\n  fileNamePrefix:&#39;Chicago_Images_2&#39;,\r\n  region: geometry,\r\n  scale:30,\r\n  maxPixels: 50000000,\r\n  shardSize: 100,\r\n  fileDimensions:5000,\r\n  fileFormat: &#39;TFRecord&#39;,\r\n\r\n});\r\n```\r\n\r\nHow can I identify tiles?  \r\nI would appreciate your helping me solve the error.","title":"&quot;tile_dimensions&quot; error in Google Earth Engine","body":"<p>I'm trying to export the images in <a href=\"https://code.earthengine.google.com/7cced1b1ad573a3b1d43002a57e05649\" rel=\"nofollow noreferrer\">TFRecords format</a> in Google Earth Engine and I got the &quot;<strong>tile_dimensions must be specified for TfRecord export</strong>&quot; error:</p>\n<p>Here is the code:</p>\n<pre><code>var Regoin= imageCollection.filterBounds(geometry);\nvar image= Regoin.filter(ee.Filter.date('2015-01-01','2021-01-01'))\nprint(image.size())\n\n\nExport.image.toDrive({\n  image: image,\n  description: &quot;Chicago_Images&quot;,\n  folder: 'GEE',\n  fileNamePrefix:'Chicago_Images_2',\n  region: geometry,\n  scale:30,\n  maxPixels: 50000000,\n  shardSize: 100,\n  fileDimensions:5000,\n  fileFormat: 'TFRecord',\n\n});\n</code></pre>\n<p>How can I identify tiles?<br />\nI would appreciate your helping me solve the error.</p>\n"},{"tags":["java","json","deserialization","avro"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668481059,"creation_date":1668481059,"answer_id":74440147,"question_id":74438571,"body_markdown":"Create an Avro schema with only the subset fields you want. You don&#39;t need to  generate a class for that. \r\n\r\nThen you can use `JSONDecoder` class to read existing binary Avro data to JSON, and it&#39;ll only have those fields in the provided &quot;reader schema&quot;. ","title":"Filter out some fields when converting Avro specificrecord to json string","body":"<p>Create an Avro schema with only the subset fields you want. You don't need to  generate a class for that.</p>\n<p>Then you can use <code>JSONDecoder</code> class to read existing binary Avro data to JSON, and it'll only have those fields in the provided &quot;reader schema&quot;.</p>\n"}],"owner":{"account_id":26875409,"reputation":1,"user_id":20456740,"display_name":"Katrina Wan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668481059,"creation_date":1668464813,"question_id":74438571,"body_markdown":"I have some Avro SpecificRecord that I want to convert to Json string, with several fields to be filtered out. For example, I want to only include the field A and C from the following Event when generating the Json string: is there any existing libraries to do that? Or any suggestions? \r\n`\r\n```\r\npublic class Event extends org.apache.avro.specific.SpecificRecordBase implements org.apache.avro.specific.SpecificRecord {\r\n...\r\n  public String A;\r\n  public String B;\r\n  public long C;\r\n}\r\n```\r\n`\r\n\r\nDirectly calling toString does not work.","title":"Filter out some fields when converting Avro specificrecord to json string","body":"<p>I have some Avro SpecificRecord that I want to convert to Json string, with several fields to be filtered out. For example, I want to only include the field A and C from the following Event when generating the Json string: is there any existing libraries to do that? Or any suggestions?\n`</p>\n<pre><code>public class Event extends org.apache.avro.specific.SpecificRecordBase implements org.apache.avro.specific.SpecificRecord {\n...\n  public String A;\n  public String B;\n  public long C;\n}\n</code></pre>\n<p>`</p>\n<p>Directly calling toString does not work.</p>\n"},{"tags":["java","list","rest","sharepoint-2010","sharepoint-2013"],"answers":[{"tags":[],"owner":{"account_id":22330835,"reputation":702,"user_id":16552137,"display_name":"RaytheonXie-MSFT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668479453,"creation_date":1668479453,"answer_id":74440013,"question_id":74427896,"body_markdown":"You will need to use `%20` to replace space. In your case it will be like following url\r\n\r\n    http:(site URL)/_api/web/lists/getbytitle(&#39;TWO%20WORDS&#39;)/items","title":"SharePoint REST API: Not able to get list by getByTitle when list name contains spaces","body":"<p>You will need to use <code>%20</code> to replace space. In your case it will be like following url</p>\n<pre><code>http:(site URL)/_api/web/lists/getbytitle('TWO%20WORDS')/items\n</code></pre>\n"}],"owner":{"account_id":6797714,"reputation":79,"user_id":5539389,"display_name":"Jeries Haddad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":543,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74440013,"answer_count":1,"score":0,"last_activity_date":1668479453,"creation_date":1668409155,"question_id":74427896,"body_markdown":"I am trying to fetch SharePoint list using the SharePoint REST API from my Java application.\r\n\r\nWhen the list&#39;s name does not contain a space, it works. If it contains a space it does NOT work. For example when I do the following:\r\n**http:(site URL)/_api/web/lists/getbytitle(&#39;ONEWORD&#39;)/items --&gt; it works**\r\n\r\nBut when I try on another list like this:\r\n**http:(site URL)/_api/web/lists/getbytitle(&#39;TWO WORDS&#39;)/items --&gt; it DOESN&#39;T work**\r\n\r\n\r\nI tried encoding the list name with the following in Java:\r\n**String encoded= URLEncoder.encode(&quot;TWO WORDS&quot;, &quot;UTF-8&quot;);**\r\nBut it didn&#39;t work.\r\n\r\n\r\nI know there are many questions about this same issue, however everyone is suggesting to get list items by **List GUID** but I can&#39;t use this solution as I&#39;m developing a dynamic tool for several lists with the same name. (Not the same GUID).\r\n\r\nAny suggestions?\r\nThank you\r\n","title":"SharePoint REST API: Not able to get list by getByTitle when list name contains spaces","body":"<p>I am trying to fetch SharePoint list using the SharePoint REST API from my Java application.</p>\n<p>When the list's name does not contain a space, it works. If it contains a space it does NOT work. For example when I do the following:\n<strong>http:(site URL)/_api/web/lists/getbytitle('ONEWORD')/items --&gt; it works</strong></p>\n<p>But when I try on another list like this:\n<strong>http:(site URL)/_api/web/lists/getbytitle('TWO WORDS')/items --&gt; it DOESN'T work</strong></p>\n<p>I tried encoding the list name with the following in Java:\n<strong>String encoded= URLEncoder.encode(&quot;TWO WORDS&quot;, &quot;UTF-8&quot;);</strong>\nBut it didn't work.</p>\n<p>I know there are many questions about this same issue, however everyone is suggesting to get list items by <strong>List GUID</strong> but I can't use this solution as I'm developing a dynamic tool for several lists with the same name. (Not the same GUID).</p>\n<p>Any suggestions?\nThank you</p>\n"},{"tags":["java","spring-boot","testing","junit","mockmvc"],"answers":[{"tags":[],"owner":{"account_id":9706811,"reputation":2870,"user_id":7200018,"display_name":"GnanaJeyam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668404412,"creation_date":1668404412,"answer_id":74427339,"question_id":74426882,"body_markdown":"I believe the `@BeforeAll` should not be private but you have added that.\r\nThat is the reason it is not invoking your method.\r\n\r\nRefer:\r\nhttps://junit.org/junit5/docs/5.0.0/api/org/junit/jupiter/api/BeforeAll.html","title":"Using MockMvc inside of @BeforeAll static method","body":"<p>I believe the <code>@BeforeAll</code> should not be private but you have added that.\nThat is the reason it is not invoking your method.</p>\n<p>Refer:\n<a href=\"https://junit.org/junit5/docs/5.0.0/api/org/junit/jupiter/api/BeforeAll.html\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/5.0.0/api/org/junit/jupiter/api/BeforeAll.html</a></p>\n"},{"tags":[],"owner":{"account_id":21743569,"reputation":25,"user_id":16050570,"display_name":"Mansehaj Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668479369,"creation_date":1668479369,"answer_id":74440003,"question_id":74426882,"body_markdown":"It turns out I was on junit 4 and needed to use @BeforeClass to be able to call it. I ended up instead using an @Before method and just using a boolean value to check if the call had already been made.","title":"Using MockMvc inside of @BeforeAll static method","body":"<p>It turns out I was on junit 4 and needed to use @BeforeClass to be able to call it. I ended up instead using an @Before method and just using a boolean value to check if the call had already been made.</p>\n"}],"owner":{"account_id":21743569,"reputation":25,"user_id":16050570,"display_name":"Mansehaj Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74440003,"answer_count":2,"score":0,"last_activity_date":1668479369,"creation_date":1668399356,"question_id":74426882,"body_markdown":"I am writing some integration tests in which I need to send in an api call to create a resource and then perform subsequent api calls based on that resource. I wanted to send the first call inside my @BeforeAll method.\r\n\r\nIn my test class:\r\n\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\n@ActiveProfiles(&quot;test&quot;)\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\npublic class ExampleResourceTest {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n\r\n    @BeforeAll\r\n    private void createExampleResource() throws Exception {\r\n        Map&lt;String, Object&gt; requestBody = new HashMap&lt;&gt;();\r\n\r\n        requestBody.put(&quot;email&quot;, &quot;example@email.com&quot;);\r\n        requestBody.put(&quot;username&quot;, &quot;example&quot;);\r\n        requestBody.put(&quot;firstName&quot;, &quot;Example&quot;);\r\n        requestBody.put(&quot;lastName&quot;, &quot;Name&quot;);\r\n        requestBody.put(&quot;password&quot;, &quot;@password123&quot;);\r\n\r\n        Gson gson = new Gson();\r\n\r\n        String json = gson.toJson(requestBody);\r\n\r\n        mockMvc.perform(\r\n                    post(&quot;/api/v1/resourcename&quot;)\r\n                            .contentType(MediaType.APPLICATION_JSON)\r\n                            .content(json));\r\n    }\r\n\r\n    // More stuff...\r\n}\r\n```\r\n\r\nHowever, the method annotated @BeforeAll method is not being called before I run the tests in the class.\r\n\r\nAs I understand from trying to find a solution, @BeforeAll methods need to be static. However, then I wouldn&#39;t be able to use my injected MockMvc. I&#39;ve also tried annotating my test class with\r\n`@TestInstance(TestInstance.Lifecycle.PER_CLASS)`, but I&#39;ve faced no luck with that either.\r\n","title":"Using MockMvc inside of @BeforeAll static method","body":"<p>I am writing some integration tests in which I need to send in an api call to create a resource and then perform subsequent api calls based on that resource. I wanted to send the first call inside my @BeforeAll method.</p>\n<p>In my test class:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@AutoConfigureMockMvc\n@ActiveProfiles(&quot;test&quot;)\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\npublic class ExampleResourceTest {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n\n    @BeforeAll\n    private void createExampleResource() throws Exception {\n        Map&lt;String, Object&gt; requestBody = new HashMap&lt;&gt;();\n\n        requestBody.put(&quot;email&quot;, &quot;example@email.com&quot;);\n        requestBody.put(&quot;username&quot;, &quot;example&quot;);\n        requestBody.put(&quot;firstName&quot;, &quot;Example&quot;);\n        requestBody.put(&quot;lastName&quot;, &quot;Name&quot;);\n        requestBody.put(&quot;password&quot;, &quot;@password123&quot;);\n\n        Gson gson = new Gson();\n\n        String json = gson.toJson(requestBody);\n\n        mockMvc.perform(\n                    post(&quot;/api/v1/resourcename&quot;)\n                            .contentType(MediaType.APPLICATION_JSON)\n                            .content(json));\n    }\n\n    // More stuff...\n}\n</code></pre>\n<p>However, the method annotated @BeforeAll method is not being called before I run the tests in the class.</p>\n<p>As I understand from trying to find a solution, @BeforeAll methods need to be static. However, then I wouldn't be able to use my injected MockMvc. I've also tried annotating my test class with\n<code>@TestInstance(TestInstance.Lifecycle.PER_CLASS)</code>, but I've faced no luck with that either.</p>\n"},{"tags":["java","apache-kafka","apache-kafka-connect","amazon-kinesis"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668479044,"creation_date":1668479044,"answer_id":74439972,"question_id":74152317,"body_markdown":"No, Kafka Connect can only store offsets on the cluster configured as `boostrap.servers` in its worker properties file. \r\n\r\nYou could use MirrorMaker to replicate connect-offsets / consumer offsets topic to a separate cluster, but Connect wouldn&#39;t know about the other cluster on its own. ","title":"Configuring Separate Broker for Storing Offsets on Kafka Topic in a Kafka Connector","body":"<p>No, Kafka Connect can only store offsets on the cluster configured as <code>boostrap.servers</code> in its worker properties file.</p>\n<p>You could use MirrorMaker to replicate connect-offsets / consumer offsets topic to a separate cluster, but Connect wouldn't know about the other cluster on its own.</p>\n"}],"owner":{"account_id":9338146,"reputation":133,"user_id":6931769,"display_name":"Yogesh Katkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74439972,"answer_count":1,"score":0,"last_activity_date":1668479044,"creation_date":1666348301,"question_id":74152317,"body_markdown":"As I am newbie to Kafka and Kafka Connector, I have a use case where we are pushing data from Kinesis Stream to Kafka Topic, as this will be a plug and play feature we are using Kafka Connect to serve the use case. In this use case we are storing the offsets on Kafka Topic which will be usually created on broker which we configured but the case here is we have the brokers which are on clients environment and we don&#39;t want to give the offset data to the client as in case of any failures if they loose the data then we will not be able to restore the data from last checkpoint.\r\nDo we have any provision or any way in Kafka Connect where we can store offset on a separate topic on its own broker and customer&#39;s data topic on customers broker","title":"Configuring Separate Broker for Storing Offsets on Kafka Topic in a Kafka Connector","body":"<p>As I am newbie to Kafka and Kafka Connector, I have a use case where we are pushing data from Kinesis Stream to Kafka Topic, as this will be a plug and play feature we are using Kafka Connect to serve the use case. In this use case we are storing the offsets on Kafka Topic which will be usually created on broker which we configured but the case here is we have the brokers which are on clients environment and we don't want to give the offset data to the client as in case of any failures if they loose the data then we will not be able to restore the data from last checkpoint.\nDo we have any provision or any way in Kafka Connect where we can store offset on a separate topic on its own broker and customer's data topic on customers broker</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668477512,"creation_date":1668435656,"answer_id":74433126,"question_id":74428898,"body_markdown":"Capture the system time at the start and end of the &quot;processing&quot;, then update the registry, accordingly. Kafka doesn&#39;t provide that out of the box. \r\n\r\nYou could try playing around with `@Timed` annotation, but adding your own numbers will probably be more consistent. \r\n\r\n[Spring-Kafka](https://docs.spring.io/spring-kafka/reference/html/#monitoring-listener-performance) will add listener success/error metrics if you have Micrometer on the classpath (e.g. [enable Actuator][1] + wire in a MeterRegistry bean to the app context)\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.monitoring","title":"how to monitor listener performance in Kafka","body":"<p>Capture the system time at the start and end of the &quot;processing&quot;, then update the registry, accordingly. Kafka doesn't provide that out of the box.</p>\n<p>You could try playing around with <code>@Timed</code> annotation, but adding your own numbers will probably be more consistent.</p>\n<p><a href=\"https://docs.spring.io/spring-kafka/reference/html/#monitoring-listener-performance\" rel=\"nofollow noreferrer\">Spring-Kafka</a> will add listener success/error metrics if you have Micrometer on the classpath (e.g. <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.monitoring\" rel=\"nofollow noreferrer\">enable Actuator</a> + wire in a MeterRegistry bean to the app context)</p>\n"}],"owner":{"account_id":9212208,"reputation":1425,"user_id":6844910,"display_name":"Dushan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668477512,"creation_date":1668415395,"question_id":74428898,"body_markdown":"hi I&#39;m using spring kafka and i have a kafka consumer like below.\r\n\r\n      @KafkaListener(topics = &quot;myTopic&quot;, groupId = &quot;myGroup&quot;, autoStartup = &quot;true&quot;, concurrency = &quot;3&quot;)\r\n      public void consumeAssignment(@Header(KafkaHeaders.RECEIVED_TOPIC) String topic,\r\n                                    @Header(required = false, name = KafkaHeaders.BATCH_CONVERTED_HEADERS)\r\n                                            List&lt;HashMap&lt;String, byte[]&gt;&gt; headers,\r\n                                    @Header(required = false, name = KafkaHeaders.RECEIVED_PARTITION_ID) List&lt;Integer&gt; partitions,\r\n                                    @Payload(required = false) List&lt;String&gt; messages)\r\n\r\n\r\nI have provided MeterRegistry for my kafka consumer constructor like below.\r\n\r\n      public KafkaConsumer(MeterRegistry registry) {\r\n        \r\n      }\r\n\r\nI need to get the time Kafka took to process my messages. I know that there are two timers maintained; one for successful calls to the listener and one for failures. What are the changes that i need to do in order to have those metrics ? is there any example ?","title":"how to monitor listener performance in Kafka","body":"<p>hi I'm using spring kafka and i have a kafka consumer like below.</p>\n<pre><code>  @KafkaListener(topics = &quot;myTopic&quot;, groupId = &quot;myGroup&quot;, autoStartup = &quot;true&quot;, concurrency = &quot;3&quot;)\n  public void consumeAssignment(@Header(KafkaHeaders.RECEIVED_TOPIC) String topic,\n                                @Header(required = false, name = KafkaHeaders.BATCH_CONVERTED_HEADERS)\n                                        List&lt;HashMap&lt;String, byte[]&gt;&gt; headers,\n                                @Header(required = false, name = KafkaHeaders.RECEIVED_PARTITION_ID) List&lt;Integer&gt; partitions,\n                                @Payload(required = false) List&lt;String&gt; messages)\n</code></pre>\n<p>I have provided MeterRegistry for my kafka consumer constructor like below.</p>\n<pre><code>  public KafkaConsumer(MeterRegistry registry) {\n    \n  }\n</code></pre>\n<p>I need to get the time Kafka took to process my messages. I know that there are two timers maintained; one for successful calls to the listener and one for failures. What are the changes that i need to do in order to have those metrics ? is there any example ?</p>\n"},{"tags":["java","multithreading","java-8","java-stream","parallelstream"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1668186344,"post_id":74397901,"comment_id":131352450,"body_markdown":"Please read [Why is &quot;Can someone help me?&quot; not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question)","body":"Please read <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is &quot;Can someone help me?&quot; not an actual question?</a>"}],"answers":[{"tags":[],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668477247,"creation_date":1668476834,"answer_id":74439777,"question_id":74397901,"body_markdown":"I don&#39;t think you can do that inside a stream, but you can wrap the execution in a Callable like so to achieve the same result:\r\n\r\n```\r\n  public static void main(String[] args) {\r\n        ExecutorService executor = Executors.newSingleThreadExecutor();\r\n        Future&lt;String&gt; future = executor.submit(new Task());\r\n        try {\r\n            System.out.println(future.get(1, TimeUnit.SECONDS));\r\n        }catch (Exception e) {\r\n            future.cancel(true);\r\n            e.printStackTrace();\r\n        } finally { \r\n            executor.shutdownNow();\r\n        }\r\n    }\r\n\r\n    private static class Task implements Callable&lt;String&gt; {\r\n        @Override\r\n        public String call(){\r\n            IntStream.of(1,2,3,4,5,6,7,8,9).parallel().forEach(t -&gt; {\r\n                try {\r\n                    Thread.sleep(1000);\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            });\r\n            return &quot;ok&quot;;\r\n        }\r\n    }\r\n```","title":"How to throw Timeout exception for the task inside parallel stream","body":"<p>I don't think you can do that inside a stream, but you can wrap the execution in a Callable like so to achieve the same result:</p>\n<pre><code>  public static void main(String[] args) {\n        ExecutorService executor = Executors.newSingleThreadExecutor();\n        Future&lt;String&gt; future = executor.submit(new Task());\n        try {\n            System.out.println(future.get(1, TimeUnit.SECONDS));\n        }catch (Exception e) {\n            future.cancel(true);\n            e.printStackTrace();\n        } finally { \n            executor.shutdownNow();\n        }\n    }\n\n    private static class Task implements Callable&lt;String&gt; {\n        @Override\n        public String call(){\n            IntStream.of(1,2,3,4,5,6,7,8,9).parallel().forEach(t -&gt; {\n                try {\n                    Thread.sleep(1000);\n                } catch (InterruptedException e) {\n                    throw new RuntimeException(e);\n                }\n            });\n            return &quot;ok&quot;;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":14090110,"reputation":109,"user_id":10178725,"display_name":"Usman Mohammed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668477247,"creation_date":1668139375,"question_id":74397901,"body_markdown":"The code I want to achieve is as below:\r\n\r\n    StreamSupport.stream(jsonArray.spliterator(), true).forEach(s -&gt;{\r\n       try {\r\n           //invoke other api and set timeout for its execution\r\n       }\r\n       catch(TimeoutException e) {\r\n           s.getAsJsonObject().addProperty(&quot;processStatus&quot;, &quot;Failure&quot;);\r\n       }\r\n    });\r\n\r\nCan anyone help me in achieving &quot;invoke other api and set timeout for it&#39;s execution&quot; case in the above snippet?","title":"How to throw Timeout exception for the task inside parallel stream","body":"<p>The code I want to achieve is as below:</p>\n<pre><code>StreamSupport.stream(jsonArray.spliterator(), true).forEach(s -&gt;{\n   try {\n       //invoke other api and set timeout for its execution\n   }\n   catch(TimeoutException e) {\n       s.getAsJsonObject().addProperty(&quot;processStatus&quot;, &quot;Failure&quot;);\n   }\n});\n</code></pre>\n<p>Can anyone help me in achieving &quot;invoke other api and set timeout for it's execution&quot; case in the above snippet?</p>\n"},{"tags":["java","maven","intellij-idea","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1667990950,"post_id":74373492,"comment_id":131297963,"body_markdown":"also: missing fx:id for all your fields, meaning that nothing is injected (as fields, at least)","body":"also: missing fx:id for all your fields, meaning that nothing is injected (as fields, at least)"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1667994159,"post_id":74373492,"comment_id":131299055,"body_markdown":"You’re suppressing the debugging information required to diagnose the problem. Print the complete stack trace from the exception you catch. The `toString()` method only gives you the message, which is not going to tell you anything other than “something went wrong”. The stack trace will tell you exactly what went wrong, and where.","body":"You’re suppressing the debugging information required to diagnose the problem. Print the complete stack trace from the exception you catch. The <code>toString()</code> method only gives you the message, which is not going to tell you anything other than “something went wrong”. The stack trace will tell you exactly what went wrong, and where."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1667997273,"post_id":74373492,"comment_id":131300165,"body_markdown":"See https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors","body":"See <a href=\"https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\" title=\"what is a stack trace and how can i use it to debug my application errors\">stackoverflow.com/questions/3988788/&hellip;</a>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1668007678,"post_id":74373492,"comment_id":131304259,"body_markdown":"`fx:id` != `id` (though the former will set the latter if only the former is present). Side note: In Java, the standard naming conventions have fields and method names using `camelCase`, not `PascalCase`.","body":"<code>fx:id</code> != <code>id</code> (though the former will set the latter if only the former is present). Side note: In Java, the standard naming conventions have fields and method names using <code>camelCase</code>, not <code>PascalCase</code>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1668017105,"post_id":74373492,"comment_id":131307842,"body_markdown":"There is no file `/views/login.fxml`, this could never have worked as posted.","body":"There is no file <code>&#47;views&#47;login.fxml</code>, this could never have worked as posted."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1668031750,"post_id":74373492,"comment_id":131312270,"body_markdown":"The [URI not registered](https://stackoverflow.com/questions/42569634/uri-is-not-registered-settings-languages-frameworks-schemas-and-dtds-in) message shown by Idea in this instance is irrelevant.  It is not a real error, it has nothing to do with the runtime of the code. There is no official schema for JavaFX FXML as FXML works on the reflection of code, so the types in it are dynamic rather than static and a full schema for FXML could never be created.","body":"The <a href=\"https://stackoverflow.com/questions/42569634/uri-is-not-registered-settings-languages-frameworks-schemas-and-dtds-in\">URI not registered</a> message shown by Idea in this instance is irrelevant.  It is not a real error, it has nothing to do with the runtime of the code. There is no official schema for JavaFX FXML as FXML works on the reflection of code, so the types in it are dynamic rather than static and a full schema for FXML could never be created."},{"owner":{"account_id":14812899,"reputation":1,"user_id":10697925,"display_name":"Brenden Delong"},"score":0,"creation_date":1668060906,"post_id":74373492,"comment_id":131316726,"body_markdown":"That&#39;s interesting that the fx:id is missing in those fields, this was generated by Scene Builder.","body":"That&#39;s interesting that the fx:id is missing in those fields, this was generated by Scene Builder."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1668061380,"post_id":74373492,"comment_id":131316808,"body_markdown":"The section in the [makery tutorial](https://code.makery.ch/library/javafx-tutorial/part2/) titled “Hook the View to the Controller” demonstrates correctly assigning `fx:id` values in SceneBuilder.","body":"The section in the <a href=\"https://code.makery.ch/library/javafx-tutorial/part2/\" rel=\"nofollow noreferrer\">makery tutorial</a> titled “Hook the View to the Controller” demonstrates correctly assigning <code>fx:id</code> values in SceneBuilder."},{"owner":{"account_id":14812899,"reputation":1,"user_id":10697925,"display_name":"Brenden Delong"},"score":0,"creation_date":1668061639,"post_id":74373492,"comment_id":131316854,"body_markdown":"My use of PascalCase was to distinguish between the JFX fields, and local/class variables. Also I must have changed /views/login.fxml to /controllers/login.fxml before I posted, so you are correct.","body":"My use of PascalCase was to distinguish between the JFX fields, and local/class variables. Also I must have changed /views/login.fxml to /controllers/login.fxml before I posted, so you are correct."},{"owner":{"account_id":14812899,"reputation":1,"user_id":10697925,"display_name":"Brenden Delong"},"score":0,"creation_date":1668062755,"post_id":74373492,"comment_id":131317089,"body_markdown":"You&#39;re right, I added the id in the wrong field. If I had looked under the &quot;code&quot; section I would have seen fx:id field. Thanks!","body":"You&#39;re right, I added the id in the wrong field. If I had looked under the &quot;code&quot; section I would have seen fx:id field. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":14812899,"reputation":1,"user_id":10697925,"display_name":"Brenden Delong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668476253,"creation_date":1668060954,"answer_id":74384849,"question_id":74373492,"body_markdown":"Ok, so the issue was with the `fx:controller` reference. My controller class was not within `src/main/java/com.example.scheduler`. \r\n\r\nAfter moving it there the error ceased.","title":"Why am I getting the javafx.fxml.LoadException when in previous versions I&#39;ve had no problem?","body":"<p>Ok, so the issue was with the <code>fx:controller</code> reference. My controller class was not within <code>src/main/java/com.example.scheduler</code>.</p>\n<p>After moving it there the error ceased.</p>\n"}],"owner":{"account_id":14812899,"reputation":1,"user_id":10697925,"display_name":"Brenden Delong"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668476253,"creation_date":1667990332,"question_id":74373492,"body_markdown":"[![files][1]][1]\r\n\r\nI&#39;m running an FXML project and I can&#39;t load my fxml files, IntelliJ keeps indicating there is something wrong with my AnchorPane tag, however this was all generated by scene builder. This error even shows up for fxml files created by IntelliJ. The issue seems to be xmlns=&quot;http://javafx.com/javafx/19&quot; within the AnchorPane tag at least that&#39;s where the compiler is pointing to.\r\n\r\nI&#39;m running IntelliJ 2022 with JDK 17.0.4.1 with JavaFX 19 using Maven, and I&#39;m using scene builder 19.\r\n\r\nhere is my fxml code\r\n\r\n`\r\n```\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n&lt;AnchorPane prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;controllers.LoginController&quot;&gt;\r\n    &lt;children&gt;\r\n        &lt;VBox prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; /&gt;\r\n        &lt;TextField id=&quot;Username&quot; layoutX=&quot;115.0&quot; layoutY=&quot;60.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;126.0&quot; promptText=&quot;user@account.com&quot; /&gt;\r\n        &lt;Label layoutX=&quot;39.0&quot; layoutY=&quot;64.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;63.0&quot; text=&quot;Username&quot; /&gt;\r\n        &lt;Label layoutX=&quot;39.0&quot; layoutY=&quot;116.0&quot; text=&quot;Password&quot; /&gt;\r\n        &lt;TextField id=&quot;password&quot; layoutX=&quot;115.0&quot; layoutY=&quot;112.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;126.0&quot; /&gt;\r\n        &lt;Button id=&quot;login&quot; layoutX=&quot;132.0&quot; layoutY=&quot;210.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;85.0&quot; text=&quot;Login&quot; /&gt;\r\n        &lt;Label layoutX=&quot;39.0&quot; layoutY=&quot;153.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;63.0&quot; text=&quot;Location&quot; /&gt;\r\n        &lt;TextField id=&quot;Location&quot; disable=&quot;true&quot; layoutX=&quot;115.0&quot; layoutY=&quot;149.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;126.0&quot; promptText=&quot;Your location here&quot; /&gt;\r\n        &lt;Label id=&quot;ErrorMessage&quot; alignment=&quot;CENTER&quot; disable=&quot;true&quot; layoutX=&quot;91.0&quot; layoutY=&quot;183.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;187.0&quot; text=&quot;Error Label&quot; textAlignment=&quot;CENTER&quot; textFill=&quot;#e10724&quot;&gt;\r\n            &lt;font&gt;\r\n                &lt;Font name=&quot;System Italic&quot; size=&quot;12.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n        &lt;/Label&gt;\r\n    &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n\r\n```\r\n`\r\n\r\n\r\nand here is my java code\r\n\r\n\r\n`\r\n```\r\npackage controllers;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.*;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.net.URL;\r\n\r\npublic class LoginController {\r\n\r\n    @FXML\r\n    private TextField Username;\r\n    //Buttons\r\n    @FXML\r\n    private TextField Password;\r\n    @FXML\r\n    private TextField Location;\r\n    @FXML\r\n    private Label ErrorMessage;\r\n    @FXML\r\n    private Button Login;\r\n\r\n    public void BeginStart(){\r\n        //Loader\r\n        try {\r\n            //debugging fxml path\r\n            URL uri = getClass().getResource(&quot;/views/login.fxml&quot;);\r\n            System.out.println(uri);\r\n            \r\n            FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;/views/login.fxml&quot;));\r\n            Scene scene = new Scene(fxmlLoader.load());\r\n            Stage stage = new Stage();\r\n            stage.setTitle(&quot;Hello!&quot;);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n\r\n            /*Parent root = loader.load();\r\n            Stage stage = new Stage();\r\n            stage.setTitle(&quot;Scheduler Login&quot;);\r\n            stage.setScene(new Scene(root));\r\n            stage.show();*/\r\n        }catch(Exception e){\r\n            System.out.println(&quot;Failed to load login.fxml&quot;);\r\n            System.out.println(&quot;Exception: &quot; + e.toString());\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n`\r\n\r\nuri is non-null so there appears to be no problem with the file path.\r\n\r\n\r\nPreviously I&#39;ve had the &quot;uri not registered&quot; error before I deleted the javaFX files included with Maven, and used a local copy of the JavaFX19 library, along with the proper JVM arguments. \r\n\r\nNote: the image I included is from a previous version of my project. Under resources &quot;controllers&quot; is actually supposed to be &quot;views&quot;.\r\n\r\n  [1]: https://i.stack.imgur.com/ftssA.png","title":"Why am I getting the javafx.fxml.LoadException when in previous versions I&#39;ve had no problem?","body":"<p><a href=\"https://i.stack.imgur.com/ftssA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ftssA.png\" alt=\"files\" /></a></p>\n<p>I'm running an FXML project and I can't load my fxml files, IntelliJ keeps indicating there is something wrong with my AnchorPane tag, however this was all generated by scene builder. This error even shows up for fxml files created by IntelliJ. The issue seems to be xmlns=&quot;http://javafx.com/javafx/19&quot; within the AnchorPane tag at least that's where the compiler is pointing to.</p>\n<p>I'm running IntelliJ 2022 with JDK 17.0.4.1 with JavaFX 19 using Maven, and I'm using scene builder 19.</p>\n<p>here is my fxml code</p>\n<p>`</p>\n<pre><code>&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n&lt;AnchorPane prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;controllers.LoginController&quot;&gt;\n    &lt;children&gt;\n        &lt;VBox prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; /&gt;\n        &lt;TextField id=&quot;Username&quot; layoutX=&quot;115.0&quot; layoutY=&quot;60.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;126.0&quot; promptText=&quot;user@account.com&quot; /&gt;\n        &lt;Label layoutX=&quot;39.0&quot; layoutY=&quot;64.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;63.0&quot; text=&quot;Username&quot; /&gt;\n        &lt;Label layoutX=&quot;39.0&quot; layoutY=&quot;116.0&quot; text=&quot;Password&quot; /&gt;\n        &lt;TextField id=&quot;password&quot; layoutX=&quot;115.0&quot; layoutY=&quot;112.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;126.0&quot; /&gt;\n        &lt;Button id=&quot;login&quot; layoutX=&quot;132.0&quot; layoutY=&quot;210.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;85.0&quot; text=&quot;Login&quot; /&gt;\n        &lt;Label layoutX=&quot;39.0&quot; layoutY=&quot;153.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;63.0&quot; text=&quot;Location&quot; /&gt;\n        &lt;TextField id=&quot;Location&quot; disable=&quot;true&quot; layoutX=&quot;115.0&quot; layoutY=&quot;149.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;126.0&quot; promptText=&quot;Your location here&quot; /&gt;\n        &lt;Label id=&quot;ErrorMessage&quot; alignment=&quot;CENTER&quot; disable=&quot;true&quot; layoutX=&quot;91.0&quot; layoutY=&quot;183.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;187.0&quot; text=&quot;Error Label&quot; textAlignment=&quot;CENTER&quot; textFill=&quot;#e10724&quot;&gt;\n            &lt;font&gt;\n                &lt;Font name=&quot;System Italic&quot; size=&quot;12.0&quot; /&gt;\n            &lt;/font&gt;\n        &lt;/Label&gt;\n    &lt;/children&gt;\n&lt;/AnchorPane&gt;\n\n</code></pre>\n<p>`</p>\n<p>and here is my java code</p>\n<p>`</p>\n<pre><code>package controllers;\n\nimport javafx.fxml.FXML;\nimport javafx.scene.control.*;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.net.URL;\n\npublic class LoginController {\n\n    @FXML\n    private TextField Username;\n    //Buttons\n    @FXML\n    private TextField Password;\n    @FXML\n    private TextField Location;\n    @FXML\n    private Label ErrorMessage;\n    @FXML\n    private Button Login;\n\n    public void BeginStart(){\n        //Loader\n        try {\n            //debugging fxml path\n            URL uri = getClass().getResource(&quot;/views/login.fxml&quot;);\n            System.out.println(uri);\n            \n            FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;/views/login.fxml&quot;));\n            Scene scene = new Scene(fxmlLoader.load());\n            Stage stage = new Stage();\n            stage.setTitle(&quot;Hello!&quot;);\n            stage.setScene(scene);\n            stage.show();\n\n            /*Parent root = loader.load();\n            Stage stage = new Stage();\n            stage.setTitle(&quot;Scheduler Login&quot;);\n            stage.setScene(new Scene(root));\n            stage.show();*/\n        }catch(Exception e){\n            System.out.println(&quot;Failed to load login.fxml&quot;);\n            System.out.println(&quot;Exception: &quot; + e.toString());\n        }\n    }\n}\n\n</code></pre>\n<p>`</p>\n<p>uri is non-null so there appears to be no problem with the file path.</p>\n<p>Previously I've had the &quot;uri not registered&quot; error before I deleted the javaFX files included with Maven, and used a local copy of the JavaFX19 library, along with the proper JVM arguments.</p>\n<p>Note: the image I included is from a previous version of my project. Under resources &quot;controllers&quot; is actually supposed to be &quot;views&quot;.</p>\n"},{"tags":["java","reactive-programming","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668475828,"creation_date":1665677843,"answer_id":74058918,"question_id":74053957,"body_markdown":"The naive approach is to evaluate conditions sequentially using `flatMap` and complete sequence (return `Mono.empty`) in case some condition is `false`.\r\n\r\n```\r\ncondition1()\r\n\t.flatMap(res -&gt; {\r\n\t\tif (!res) {\r\n\t\t\treturn Mono.empty();\r\n\t\t}\r\n\t\treturn condition2();\r\n\t})\r\n\t.flatMap(res -&gt; {\r\n\t\tif (!res) {\r\n\t\t\treturn Mono.empty();\r\n\t\t}\r\n\t\treturn condition3();\r\n\t})\r\n\t.flatMap(res -&gt; {\r\n\t\tif (!res) {\r\n\t\t\treturn Mono.empty();\r\n\t\t}\r\n\t\treturn action(); // if all conditions true\r\n\t})\r\n\t.switchIfEmpty(otherAction()); // else\r\n```\r\n\r\nYou can also use `Mono.zip` that supports up to 8 publishers or you can pass `Iterable` if you need more. `zip` subscribes eagerly (to all publishers) and wait until all conditions are evaluated. We can overcome the second restriction by using the fact that empty completion of any source will cause other sources to be cancelled and the resulting `Mono` to immediately complete.\r\n\r\n```\r\nMono.zip(emptyIfFalse(condition1()), emptyIfFalse(condition2()), emptyIfFalse(condition3()))\r\n\t.flatMap(__ -&gt; action()) // all conditions TRUE\r\n\t.switchIfEmpty(otherAction()); // some condition FALSE\r\n\r\nprivate Mono&lt;Boolean&gt; emptyIfFalse(Mono&lt;Boolean&gt; condition) {\r\n\treturn condition\r\n\t\t\t.filter(res -&gt; res);\r\n}\r\n```\r\n\r\nIn this case all conditions are still evaluated in parallel (that could be an advantage in some cases) but sequence will complete on the first `false`.\r\n\r\n\r\nAnother approach is to use `Flux.concat` that sequentially subscribes to the first source then waiting for it to complete before subscribing to the next.\r\n\r\n```\r\nFlux.concat(condition1(), condition2(), condition3())\r\n\t.filter(res -&gt; !res)\r\n\t.next() // emit first FALSE and stop\r\n\t.flatMap(__ -&gt; otherAction()) // some condition FALSE\r\n\t.switchIfEmpty(action()); // all conditions TRUE\r\n```\r\n\r\n**UPDATE**\r\n\r\nTo achieve logical &quot;or&quot; condition with the above example (return `true` if any of the condition is `true`, and return `false` when all conditions are `false`)\r\n\r\n```\r\nFlux.concat(condition1(), condition2(), condition3())\r\n\t.filter(res -&gt; res)\r\n\t.next() // emit first TRUE and stop\r\n\t.flatMap(__ -&gt; action()) // some condition TRUE\r\n\t.switchIfEmpty(otherAction()); // all conditions FALSE\r\n```","title":"Handle nested conditions in Spring Reactor","body":"<p>The naive approach is to evaluate conditions sequentially using <code>flatMap</code> and complete sequence (return <code>Mono.empty</code>) in case some condition is <code>false</code>.</p>\n<pre><code>condition1()\n    .flatMap(res -&gt; {\n        if (!res) {\n            return Mono.empty();\n        }\n        return condition2();\n    })\n    .flatMap(res -&gt; {\n        if (!res) {\n            return Mono.empty();\n        }\n        return condition3();\n    })\n    .flatMap(res -&gt; {\n        if (!res) {\n            return Mono.empty();\n        }\n        return action(); // if all conditions true\n    })\n    .switchIfEmpty(otherAction()); // else\n</code></pre>\n<p>You can also use <code>Mono.zip</code> that supports up to 8 publishers or you can pass <code>Iterable</code> if you need more. <code>zip</code> subscribes eagerly (to all publishers) and wait until all conditions are evaluated. We can overcome the second restriction by using the fact that empty completion of any source will cause other sources to be cancelled and the resulting <code>Mono</code> to immediately complete.</p>\n<pre><code>Mono.zip(emptyIfFalse(condition1()), emptyIfFalse(condition2()), emptyIfFalse(condition3()))\n    .flatMap(__ -&gt; action()) // all conditions TRUE\n    .switchIfEmpty(otherAction()); // some condition FALSE\n\nprivate Mono&lt;Boolean&gt; emptyIfFalse(Mono&lt;Boolean&gt; condition) {\n    return condition\n            .filter(res -&gt; res);\n}\n</code></pre>\n<p>In this case all conditions are still evaluated in parallel (that could be an advantage in some cases) but sequence will complete on the first <code>false</code>.</p>\n<p>Another approach is to use <code>Flux.concat</code> that sequentially subscribes to the first source then waiting for it to complete before subscribing to the next.</p>\n<pre><code>Flux.concat(condition1(), condition2(), condition3())\n    .filter(res -&gt; !res)\n    .next() // emit first FALSE and stop\n    .flatMap(__ -&gt; otherAction()) // some condition FALSE\n    .switchIfEmpty(action()); // all conditions TRUE\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>To achieve logical &quot;or&quot; condition with the above example (return <code>true</code> if any of the condition is <code>true</code>, and return <code>false</code> when all conditions are <code>false</code>)</p>\n<pre><code>Flux.concat(condition1(), condition2(), condition3())\n    .filter(res -&gt; res)\n    .next() // emit first TRUE and stop\n    .flatMap(__ -&gt; action()) // some condition TRUE\n    .switchIfEmpty(otherAction()); // all conditions FALSE\n</code></pre>\n"}],"owner":{"account_id":26467716,"reputation":27,"user_id":20108700,"display_name":"Mohammed Idris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1040,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74058918,"answer_count":1,"score":1,"last_activity_date":1668475828,"creation_date":1665655644,"question_id":74053957,"body_markdown":"I have 3 checks which I need to make in an incremental way. \r\n```\r\nMono&lt;Boolean&gt; isRegistered(Student std);\r\nMono&lt;Boolean&gt; isEligible(Student std);\r\nMono&lt;Boolean&gt; isAvailable(Student std); \r\n```\r\nEach method performs a check inside and returns `true / false`\r\n\r\nI want a logic that will stop the flow and throw error if any of the checks return `false`\r\nsomething like this: \r\n```\r\nMono&lt;Boolean&gt; checkAll(Student std) {\r\nreturn isRegistered(std) &amp;&amp; isEligible(std) &amp;&amp; isAvailable(std);\r\n}\r\n```\r\nI tried with `Mono.zip()` but it allows only 2 params, also it does not allow to run 2nd condition only after 1st condition is true. \r\n\r\nI also tried with `Mono.defer().then()` like this\r\n\r\n```\r\nreturn Mono.defer(() -&gt; \r\n\r\n         isRegistered(std))\r\n        .then(Mono.defer(() -&gt; isEligible(std))\r\n        .then(Mono.defer(() -&gt;isAvailable(std));\r\n```\r\nbut the problem is it returns `true` if any one of the condition is `true`\r\n\r\nI want to call the 2nd method only if first method is `true`.","title":"Handle nested conditions in Spring Reactor","body":"<p>I have 3 checks which I need to make in an incremental way.</p>\n<pre><code>Mono&lt;Boolean&gt; isRegistered(Student std);\nMono&lt;Boolean&gt; isEligible(Student std);\nMono&lt;Boolean&gt; isAvailable(Student std); \n</code></pre>\n<p>Each method performs a check inside and returns <code>true / false</code></p>\n<p>I want a logic that will stop the flow and throw error if any of the checks return <code>false</code>\nsomething like this:</p>\n<pre><code>Mono&lt;Boolean&gt; checkAll(Student std) {\nreturn isRegistered(std) &amp;&amp; isEligible(std) &amp;&amp; isAvailable(std);\n}\n</code></pre>\n<p>I tried with <code>Mono.zip()</code> but it allows only 2 params, also it does not allow to run 2nd condition only after 1st condition is true.</p>\n<p>I also tried with <code>Mono.defer().then()</code> like this</p>\n<pre><code>return Mono.defer(() -&gt; \n\n         isRegistered(std))\n        .then(Mono.defer(() -&gt; isEligible(std))\n        .then(Mono.defer(() -&gt;isAvailable(std));\n</code></pre>\n<p>but the problem is it returns <code>true</code> if any one of the condition is <code>true</code></p>\n<p>I want to call the 2nd method only if first method is <code>true</code>.</p>\n"},{"tags":["java","selenium","exception","xpath","webdriver"],"comments":[{"owner":{"account_id":8679771,"reputation":714,"user_id":6496071,"display_name":"Monika"},"score":0,"creation_date":1499169713,"post_id":44905306,"comment_id":76787843,"body_markdown":"Thanks, fo providing this info. It will be great if you can share the HTML for the left panel elements.","body":"Thanks, fo providing this info. It will be great if you can share the HTML for the left panel elements."},{"owner":{"account_id":3339537,"reputation":359,"user_id":2806097,"accept_rate":36,"display_name":"Biljana M."},"score":0,"creation_date":1499170434,"post_id":44905306,"comment_id":76788353,"body_markdown":"I pasted part of html. Hope it helps.","body":"I pasted part of html. Hope it helps."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1499175408,"post_id":44905306,"comment_id":76791802,"body_markdown":"Are you sure it exists when the page first loads? It&#39;s possible if it&#39;s part of a panel that something must be clicked/expanded to create that element.","body":"Are you sure it exists when the page first loads? It&#39;s possible if it&#39;s part of a panel that something must be clicked/expanded to create that element."},{"owner":{"account_id":3339537,"reputation":359,"user_id":2806097,"accept_rate":36,"display_name":"Biljana M."},"score":0,"creation_date":1499175910,"post_id":44905306,"comment_id":76792102,"body_markdown":"It&#39;s possible. Panel has a &quot;undock&quot; option (pin) but the pin is currently put so it opens immediately. Could it be the cause, even if the panel is pinned up so that it&#39;s opened?","body":"It&#39;s possible. Panel has a &quot;undock&quot; option (pin) but the pin is currently put so it opens immediately. Could it be the cause, even if the panel is pinned up so that it&#39;s opened?"},{"owner":{"account_id":3339537,"reputation":359,"user_id":2806097,"accept_rate":36,"display_name":"Biljana M."},"score":0,"creation_date":1499237341,"post_id":44905306,"comment_id":76813555,"body_markdown":"Could it be to the fact that the whole panel is pinned and when unpinned it needs to be expanded by clicking on it?","body":"Could it be to the fact that the whole panel is pinned and when unpinned it needs to be expanded by clicking on it?"}],"answers":[{"tags":[],"owner":{"account_id":11205646,"reputation":448,"user_id":8221348,"display_name":"Ashish Deshmukh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668471371,"creation_date":1499173577,"answer_id":44906904,"question_id":44905306,"body_markdown":"Use:\r\n\r\n    driver.switchTo().activeElement();\r\n\r\nThis way, the driver will switch to the panel you have clicked. Then you can perform the rest of the operations you want in the panel.\r\n","title":"Selenium (Java) message &quot;Unable to locate element&quot; but element and XPath exist","body":"<p>Use:</p>\n<pre><code>driver.switchTo().activeElement();\n</code></pre>\n<p>This way, the driver will switch to the panel you have clicked. Then you can perform the rest of the operations you want in the panel.</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668472052,"creation_date":1499179442,"answer_id":44908871,"question_id":44905306,"body_markdown":"Here is the answer to your question:\r\n\r\nThe error says it all, *Unable to locate element*, because the XPath expression seems incorrect to me.\r\n\r\nIf you want to click on the element with *title* set to *Technical Attributes* you can consider to try with the following XPath expressions:\r\n\r\n```lang-none\r\n//div[@id=&#39;NavigationRadPanelBar_i2_i0_trvStandardView&#39;]/ul/li/li/li/div/span[@class=&#39;rtIn&#39;]\r\n```\r\n\r\nor\r\n\r\n```lang-none\r\n//div[@id=&#39;NavigationRadPanelBar_i2_i0_trvStandardView&#39;]/ul/li/li/li/div/span[@title=&#39;Technical Attributes&#39;]\r\n```\r\n\r\n\r\n\r\n","title":"Selenium (Java) message &quot;Unable to locate element&quot; but element and XPath exist","body":"<p>Here is the answer to your question:</p>\n<p>The error says it all, <em>Unable to locate element</em>, because the XPath expression seems incorrect to me.</p>\n<p>If you want to click on the element with <em>title</em> set to <em>Technical Attributes</em> you can consider to try with the following XPath expressions:</p>\n<pre class=\"lang-none prettyprint-override\"><code>//div[@id='NavigationRadPanelBar_i2_i0_trvStandardView']/ul/li/li/li/div/span[@class='rtIn']\n</code></pre>\n<p>or</p>\n<pre class=\"lang-none prettyprint-override\"><code>//div[@id='NavigationRadPanelBar_i2_i0_trvStandardView']/ul/li/li/li/div/span[@title='Technical Attributes']\n</code></pre>\n"}],"owner":{"account_id":3339537,"reputation":359,"user_id":2806097,"accept_rate":36,"display_name":"Biljana M."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2282,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668472272,"creation_date":1499169215,"question_id":44905306,"body_markdown":"I am new to Selenium WebDriver, using NetBeans Java and Firebug for Firefox to get XPath.\r\n\r\nThe problem is even though some elements are visible and clickable in the browser, and [Firebug][1] finds the XPath expression, I still get an error &quot;Unable to locate element&quot;. The problem is, the element is not in a frame (there aren’t any frames), not in another window, it&#39;s visible and clickable and it has a clear XPath expression.\r\n\r\nI used Wait and Thread.sleep, but it didn&#39;t help.\r\nAlso, I tried all solutions I could find on Stack&amp;nbsp;Overflow similar to this matter.\r\n\r\nThe element is inside of the table which has some &quot;div&quot; elements inside. This is the XPath expression:\r\n\r\n    .//*[@id=&#39;NavigationRadPanelBar_i2_i0_trvStandardView&#39;]/ul/li[3]/div/span[3]\r\n\r\nIt seems that the panel is a problem, because it can not locate the panel too. I tried another element inside the same panel which has a title and text with this:\r\n\r\n    driver.findElement(By.xpath(&quot;//*[contains(text(),&#39;Technical Attributes&#39;)]&quot;)).click();\r\n\r\nBut still I got same message. Similar for all elements inside this panel and panel itself. It seems whatever I tried, it&#39;s unable to locate. Everything outside of this panel is working fine with drivers.\r\n\r\nThe page has a left panel where these elements are located. Some of them are nodes that can be expanded, and some are just links, but nothing can be located.\r\n\r\nWhat can be the cause of element that is obviously existing and visible, but still cannot be located by WebDriver?\r\n\r\nI tried to locate the main panel:\r\n\r\n        driver.findElement(By.xpath(&quot;.//*[@id=&#39;NavigationRadPane&#39;]&quot;)).click();\r\n\r\nbut still the same exception.\r\n\r\nThis is part of the HTML content (it&#39;s very long):\r\n\r\n    &lt;div id=&quot;RAD_SLIDING_PANE_CONTENT_navigatiionRadSlidingPane&quot; class=&quot;rspSlideContent&quot; style=&quot;overflow: hidden; width: 200px; height: 579px;&quot;&gt;\r\n      &lt;div id=&quot;NavigationRadPanelBarPanel&quot; style=&quot;display: block;&quot;&gt;\r\n        &lt;div id=&quot;NavigationRadPanelBar&quot; class=&quot;RadPanelBar RadPanelBar_Office2007&quot; postback=&quot;false&quot; style=&quot;background-color:GhostWhite;height:100%;width:100%;&quot;&gt;\r\n          &lt;ul class=&quot;rpRootGroup&quot;&gt;\r\n            &lt;li class=&quot;rpItem rpFirst&quot;&gt;\r\n              &lt;li class=&quot;rpItem&quot;&gt;\r\n                &lt;li class=&quot;rpItem rpLast&quot;&gt;\r\n                  &lt;a class=&quot;rpLink rpExpandable rpExpanded&quot; href=&quot;#&quot;&gt;\r\n                    &lt;div class=&quot;rpSlide&quot; style=&quot;display:block;&quot;&gt;\r\n                      &lt;ul class=&quot;rpGroup rpLevel1 111460&quot; style=&quot;display: block; height: 274.731px; width: 100%;&quot;&gt;\r\n                        &lt;li class=&quot;rpItem rpFirst rpLast&quot;&gt;\r\n                          &lt;div class=&quot;rpTemplate&quot;&gt;\r\n                            &lt;div id=&quot;NavigationRadPanelBar_i2_i0_trvStandardView&quot; class=&quot;RadTreeView RadTreeView_Office2007&quot;&gt;\r\n                              &lt;ul class=&quot;rtUL rtLines&quot;&gt;\r\n                                &lt;li class=&quot;rtLI rtFirst&quot;&gt;\r\n                                  &lt;li class=&quot;rtLI&quot;&gt;\r\n                                    &lt;li class=&quot;rtLI&quot;&gt;\r\n                                      &lt;div class=&quot;rtMid&quot;&gt;\r\n                                        &lt;span class=&quot;rtSp&quot; /&gt;\r\n                                        &lt;span class=&quot;rtPlus rtPlusHover&quot; /&gt;\r\n                                        &lt;img class=&quot;rtImg&quot; src=&quot;...&quot; alt=&quot;Technical Attributes&quot; /&gt;\r\n                                        &lt;span class=&quot;rtIn&quot; title=&quot;Technical Attributes&quot;&gt;Technical Attributes&lt;/span&gt;\r\n                                      &lt;/div&gt;\r\n                                      &lt;ul class=&quot;rtUL&quot; style=&quot;display:none;&quot;&gt;\r\n                                    &lt;/li&gt;\r\n                                    &lt;li class=&quot;rtLI rtLast&quot;&gt;\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Firebug_%28software%29\r\n","title":"Selenium (Java) message &quot;Unable to locate element&quot; but element and XPath exist","body":"<p>I am new to Selenium WebDriver, using NetBeans Java and Firebug for Firefox to get XPath.</p>\n<p>The problem is even though some elements are visible and clickable in the browser, and <a href=\"https://en.wikipedia.org/wiki/Firebug_%28software%29\" rel=\"nofollow noreferrer\">Firebug</a> finds the XPath expression, I still get an error &quot;Unable to locate element&quot;. The problem is, the element is not in a frame (there aren’t any frames), not in another window, it's visible and clickable and it has a clear XPath expression.</p>\n<p>I used Wait and Thread.sleep, but it didn't help.\nAlso, I tried all solutions I could find on Stack Overflow similar to this matter.</p>\n<p>The element is inside of the table which has some &quot;div&quot; elements inside. This is the XPath expression:</p>\n<pre><code>.//*[@id='NavigationRadPanelBar_i2_i0_trvStandardView']/ul/li[3]/div/span[3]\n</code></pre>\n<p>It seems that the panel is a problem, because it can not locate the panel too. I tried another element inside the same panel which has a title and text with this:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//*[contains(text(),'Technical Attributes')]&quot;)).click();\n</code></pre>\n<p>But still I got same message. Similar for all elements inside this panel and panel itself. It seems whatever I tried, it's unable to locate. Everything outside of this panel is working fine with drivers.</p>\n<p>The page has a left panel where these elements are located. Some of them are nodes that can be expanded, and some are just links, but nothing can be located.</p>\n<p>What can be the cause of element that is obviously existing and visible, but still cannot be located by WebDriver?</p>\n<p>I tried to locate the main panel:</p>\n<pre><code>    driver.findElement(By.xpath(&quot;.//*[@id='NavigationRadPane']&quot;)).click();\n</code></pre>\n<p>but still the same exception.</p>\n<p>This is part of the HTML content (it's very long):</p>\n<pre><code>&lt;div id=&quot;RAD_SLIDING_PANE_CONTENT_navigatiionRadSlidingPane&quot; class=&quot;rspSlideContent&quot; style=&quot;overflow: hidden; width: 200px; height: 579px;&quot;&gt;\n  &lt;div id=&quot;NavigationRadPanelBarPanel&quot; style=&quot;display: block;&quot;&gt;\n    &lt;div id=&quot;NavigationRadPanelBar&quot; class=&quot;RadPanelBar RadPanelBar_Office2007&quot; postback=&quot;false&quot; style=&quot;background-color:GhostWhite;height:100%;width:100%;&quot;&gt;\n      &lt;ul class=&quot;rpRootGroup&quot;&gt;\n        &lt;li class=&quot;rpItem rpFirst&quot;&gt;\n          &lt;li class=&quot;rpItem&quot;&gt;\n            &lt;li class=&quot;rpItem rpLast&quot;&gt;\n              &lt;a class=&quot;rpLink rpExpandable rpExpanded&quot; href=&quot;#&quot;&gt;\n                &lt;div class=&quot;rpSlide&quot; style=&quot;display:block;&quot;&gt;\n                  &lt;ul class=&quot;rpGroup rpLevel1 111460&quot; style=&quot;display: block; height: 274.731px; width: 100%;&quot;&gt;\n                    &lt;li class=&quot;rpItem rpFirst rpLast&quot;&gt;\n                      &lt;div class=&quot;rpTemplate&quot;&gt;\n                        &lt;div id=&quot;NavigationRadPanelBar_i2_i0_trvStandardView&quot; class=&quot;RadTreeView RadTreeView_Office2007&quot;&gt;\n                          &lt;ul class=&quot;rtUL rtLines&quot;&gt;\n                            &lt;li class=&quot;rtLI rtFirst&quot;&gt;\n                              &lt;li class=&quot;rtLI&quot;&gt;\n                                &lt;li class=&quot;rtLI&quot;&gt;\n                                  &lt;div class=&quot;rtMid&quot;&gt;\n                                    &lt;span class=&quot;rtSp&quot; /&gt;\n                                    &lt;span class=&quot;rtPlus rtPlusHover&quot; /&gt;\n                                    &lt;img class=&quot;rtImg&quot; src=&quot;...&quot; alt=&quot;Technical Attributes&quot; /&gt;\n                                    &lt;span class=&quot;rtIn&quot; title=&quot;Technical Attributes&quot;&gt;Technical Attributes&lt;/span&gt;\n                                  &lt;/div&gt;\n                                  &lt;ul class=&quot;rtUL&quot; style=&quot;display:none;&quot;&gt;\n                                &lt;/li&gt;\n                                &lt;li class=&quot;rtLI rtLast&quot;&gt;\n</code></pre>\n"},{"tags":["java","for-loop","substring"],"comments":[{"owner":{"account_id":788777,"reputation":28977,"user_id":857132,"accept_rate":69,"display_name":"John3136"},"score":0,"creation_date":1668470653,"post_id":74439235,"comment_id":131408505,"body_markdown":"Not your issue, but you code will be much more readable if you do all the substring stuff once = e.g. `prevChar = substring(...); nextChar = substring(...);`","body":"Not your issue, but you code will be much more readable if you do all the substring stuff once = e.g. <code>prevChar = substring(...); nextChar = substring(...);</code>"},{"owner":{"account_id":26933200,"reputation":5,"user_id":20505242,"display_name":"Ethan Coleman"},"score":0,"creation_date":1668471882,"post_id":74439235,"comment_id":131408747,"body_markdown":"Not sure why I didn&#39;t do that... that would get rid of that massive if chunk...","body":"Not sure why I didn&#39;t do that... that would get rid of that massive if chunk..."}],"answers":[{"tags":[],"owner":{"account_id":14856125,"reputation":417,"user_id":10728583,"display_name":"Noscere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668470894,"creation_date":1668470894,"answer_id":74439290,"question_id":74439235,"body_markdown":"What is the program trying to achieve?\r\n\r\nYour for loop is correct, you should have `i = 0; i &lt; length; i++`\r\n\r\nSaying length-1 will stop one character short, as you noticed. For the substring calls, when you are using `i-1` and `&#236;+1` to refer to parts of the string, you should use if statements to check for the edge cases, when i=0 and when i=length, because both of those will result in out of range (e.g. results in attempts at accessing string[-1] and string[length], either of which don&#39;t exist).\r\n\r\nOr put the substring logic inside a try...catch and carry on through the out of range exception when `err instanceOf OutOfRangeException`","title":"This program gives either an error, or does not give the last letter, how should I fix it?","body":"<p>What is the program trying to achieve?</p>\n<p>Your for loop is correct, you should have <code>i = 0; i &lt; length; i++</code></p>\n<p>Saying length-1 will stop one character short, as you noticed. For the substring calls, when you are using <code>i-1</code> and <code>ì+1</code> to refer to parts of the string, you should use if statements to check for the edge cases, when i=0 and when i=length, because both of those will result in out of range (e.g. results in attempts at accessing string[-1] and string[length], either of which don't exist).</p>\n<p>Or put the substring logic inside a try...catch and carry on through the out of range exception when <code>err instanceOf OutOfRangeException</code></p>\n"},{"tags":[],"owner":{"account_id":26914061,"reputation":114,"user_id":20489149,"display_name":"synapticloop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668471242,"creation_date":1668470909,"answer_id":74439291,"question_id":74439235,"body_markdown":"Hard to decipher what the output should be, try iterating through each of the characters...:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class LastMain {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Type the message to be shortened&quot;);\r\n\t\tString msg = scan.nextLine();\r\n\t\tmsg = msg.toLowerCase();\r\n\t\tString alg1 = &quot;&quot;;\r\n\t\tint vowelC = 0;\r\n\t\tint repeatC = 0;\r\n\r\n\t\tSystem.out.println(&quot;Algorithm 1&quot;);\r\n\r\n\t\tchar lastChar = &#39;\\n&#39;;\r\n\r\n\t\tfor (int i = 0; i&lt;msg.length();i++){\r\n\t\t\tchar thisChar = msg.charAt(i);\r\n\r\n\t\t\tswitch (thisChar) {\r\n\t\t\tcase &#39;a&#39;:\r\n\t\t\tcase &#39;e&#39;:\r\n\t\t\tcase &#39;i&#39;:\r\n\t\t\tcase &#39;o&#39;:\r\n\t\t\tcase &#39;u&#39;:\r\n\t\t\t\tvowelC++;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tif(thisChar != lastChar) {\r\n\t\t\t\t\talg1 += thisChar;\r\n\t\t\t\t} else {\r\n\t\t\t\t\trepeatC++;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tlastChar = thisChar;\r\n\t\t}\r\n\r\n\t\tSystem.out.println(alg1);\r\n\r\n\t\tSystem.out.println(&quot;Number of vowels: &quot; + vowelC);\r\n\t\tSystem.out.println(&quot;Number of repeats: &quot; + repeatC);\r\n\t}\r\n}\r\n\r\n```\r\n\r\nGiving the output of\r\n\r\n```\r\nType the message to be shortened\r\nThis is the message to be shortened\r\nAlgorithm 1\r\nths s th msg t b shrtnd\r\nNumber of vowels: 11\r\nNumber of repeats: 1\r\n\r\n```","title":"This program gives either an error, or does not give the last letter, how should I fix it?","body":"<p>Hard to decipher what the output should be, try iterating through each of the characters...:</p>\n<pre><code>import java.util.Scanner;\n\npublic class LastMain {\n\n    public static void main(String[] args) {\n\n        Scanner scan = new Scanner(System.in);\n        System.out.println(&quot;Type the message to be shortened&quot;);\n        String msg = scan.nextLine();\n        msg = msg.toLowerCase();\n        String alg1 = &quot;&quot;;\n        int vowelC = 0;\n        int repeatC = 0;\n\n        System.out.println(&quot;Algorithm 1&quot;);\n\n        char lastChar = '\\n';\n\n        for (int i = 0; i&lt;msg.length();i++){\n            char thisChar = msg.charAt(i);\n\n            switch (thisChar) {\n            case 'a':\n            case 'e':\n            case 'i':\n            case 'o':\n            case 'u':\n                vowelC++;\n                break;\n            default:\n                if(thisChar != lastChar) {\n                    alg1 += thisChar;\n                } else {\n                    repeatC++;\n                }\n                break;\n            }\n\n            lastChar = thisChar;\n        }\n\n        System.out.println(alg1);\n\n        System.out.println(&quot;Number of vowels: &quot; + vowelC);\n        System.out.println(&quot;Number of repeats: &quot; + repeatC);\n    }\n}\n\n</code></pre>\n<p>Giving the output of</p>\n<pre><code>Type the message to be shortened\nThis is the message to be shortened\nAlgorithm 1\nths s th msg t b shrtnd\nNumber of vowels: 11\nNumber of repeats: 1\n\n</code></pre>\n"}],"owner":{"account_id":26933200,"reputation":5,"user_id":20505242,"display_name":"Ethan Coleman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74439290,"answer_count":2,"score":-1,"last_activity_date":1668471431,"creation_date":1668470276,"question_id":74439235,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\nclass Assignment4 \r\n{\r\n  public static void main(String[] args) \r\n  {\r\n        \r\n    Scanner scan = new Scanner(System.in);\r\n    System.out.println(&quot;Type the message to be shortened&quot;);\r\n    String msg = scan.nextLine();\r\n    msg = msg.toLowerCase();\r\n    String alg1 = &quot;&quot;;\r\n    int vowelC = 0;\r\n    int repeatC = 0;\r\n    System.out.println(&quot;Algorithm 1&quot;);\r\n    for (int i = 0; i&lt;msg.length();i++){\r\n      if(msg.substring(i-1,i).equals(&quot; &quot;)){\r\n        alg1+=msg.substring(i,i+1);\r\n      }\r\n      else{\r\n        if (msg.substring(i,i+1).equals(&quot;a&quot;) || msg.substring(i,i+1).equals(&quot;e&quot;) || msg.substring(i,i+1).equals(&quot;i&quot;) || msg.substring(i,i+1).equals(&quot;o&quot;) || msg.substring(i,i+1).equals(&quot;i&quot;)){\r\n            vowelC++;\r\n        }\r\n        else if (msg.substring(i,i+1).equals(msg.substring(i-1,i))){\r\n          repeatC++;\r\n      }\r\n        else{\r\n        alg1+=msg.substring(i,i+1);\r\n        }\r\n      }\r\n    }\r\n    System.out.print(alg1);\r\n    \r\n  }\r\n}\r\n\r\n```\r\n\r\n\r\nThis results in a index out of range, -1. I understand why this is,that is not the issue, but when I tweak it by having the control of the for loop be i&lt;msg.length()-1, it works but does not print the last letter. I also tried changing i to start at 1, but that cut off the first letter. Just not sure how to get the whole message with no error. Thanks!","title":"This program gives either an error, or does not give the last letter, how should I fix it?","body":"<pre><code>import java.util.Scanner;\n\nclass Assignment4 \n{\n  public static void main(String[] args) \n  {\n        \n    Scanner scan = new Scanner(System.in);\n    System.out.println(&quot;Type the message to be shortened&quot;);\n    String msg = scan.nextLine();\n    msg = msg.toLowerCase();\n    String alg1 = &quot;&quot;;\n    int vowelC = 0;\n    int repeatC = 0;\n    System.out.println(&quot;Algorithm 1&quot;);\n    for (int i = 0; i&lt;msg.length();i++){\n      if(msg.substring(i-1,i).equals(&quot; &quot;)){\n        alg1+=msg.substring(i,i+1);\n      }\n      else{\n        if (msg.substring(i,i+1).equals(&quot;a&quot;) || msg.substring(i,i+1).equals(&quot;e&quot;) || msg.substring(i,i+1).equals(&quot;i&quot;) || msg.substring(i,i+1).equals(&quot;o&quot;) || msg.substring(i,i+1).equals(&quot;i&quot;)){\n            vowelC++;\n        }\n        else if (msg.substring(i,i+1).equals(msg.substring(i-1,i))){\n          repeatC++;\n      }\n        else{\n        alg1+=msg.substring(i,i+1);\n        }\n      }\n    }\n    System.out.print(alg1);\n    \n  }\n}\n\n</code></pre>\n<p>This results in a index out of range, -1. I understand why this is,that is not the issue, but when I tweak it by having the control of the for loop be i&lt;msg.length()-1, it works but does not print the last letter. I also tried changing i to start at 1, but that cut off the first letter. Just not sure how to get the whole message with no error. Thanks!</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":2294849,"reputation":331956,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668469589,"creation_date":1668469589,"answer_id":74439156,"question_id":74429301,"body_markdown":"You can add a `TextWatcher` removing the error message.\r\n\r\nSomething like:\r\n\r\n        textField.editText?.addTextChangedListener(object : TextWatcher {\r\n            override fun beforeTextChanged(s: CharSequence, start: Int, count: Int, after: Int) {}\r\n            override fun onTextChanged(s: CharSequence, start: Int, before: Int, count: Int) {}\r\n            override fun afterTextChanged(s: Editable) {\r\n                validateEditText(textField,s)\r\n            }\r\n        })\r\n\r\n        textField.onFocusChangeListener = View.OnFocusChangeListener { v, hasFocus -&gt;\r\n            if (!hasFocus) {\r\n                validateEditText(v as TextInputLayout,(v as EditText).text)\r\n            }\r\n        }\r\n\r\nwith:\r\n\r\n    private fun validateEditText(textField: TextInputLayout,s: Editable) {\r\n        if (!TextUtils.isEmpty(s)) {\r\n            textField.error = null\r\n        } else {\r\n            textField.error = &quot;Error&quot;\r\n        }\r\n    }","title":"How to remove error icon and error text when Textinputlayout is on focus","body":"<p>You can add a <code>TextWatcher</code> removing the error message.</p>\n<p>Something like:</p>\n<pre><code>    textField.editText?.addTextChangedListener(object : TextWatcher {\n        override fun beforeTextChanged(s: CharSequence, start: Int, count: Int, after: Int) {}\n        override fun onTextChanged(s: CharSequence, start: Int, before: Int, count: Int) {}\n        override fun afterTextChanged(s: Editable) {\n            validateEditText(textField,s)\n        }\n    })\n\n    textField.onFocusChangeListener = View.OnFocusChangeListener { v, hasFocus -&gt;\n        if (!hasFocus) {\n            validateEditText(v as TextInputLayout,(v as EditText).text)\n        }\n    }\n</code></pre>\n<p>with:</p>\n<pre><code>private fun validateEditText(textField: TextInputLayout,s: Editable) {\n    if (!TextUtils.isEmpty(s)) {\n        textField.error = null\n    } else {\n        textField.error = &quot;Error&quot;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25673529,"reputation":1,"user_id":19437370,"display_name":"CanhMai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668469589,"creation_date":1668417367,"question_id":74429301,"body_markdown":"I want to hide or remove end error icon and replace it by an end icon password toggle when typing on Textinputedittext.\r\nI used setOnfocusChangeListener and addTextChangeListener but it not work\r\nthis is my xml and java code\r\n\r\n\r\n\r\n`\r\n```\r\n     mBinding.textFieldPassword.setOnFocusChangeListener(new View.OnFocusChangeListener() {\r\n        @Override\r\n        public void onFocusChange(View v, boolean hasFocus) {\r\n        if (!hasFocus) {\r\n            mBinding.textFieldPassword.setEndIconMode(TextInputLayout.END_ICON_NONE);\r\n\r\n        } else {\r\n\r\n\r\n            mBinding.edtPassword.addTextChangedListener(new TextChangeListener() {\r\n\r\n               @Override\r\n                public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n\r\n\r\n                    if (mBinding.textFieldPassword.isErrorEnabled()){\r\n                        mBinding.textFieldPassword.setErrorEnabled(false);\r\n                    }\r\n\r\n                    if (Objects.requireNonNull(mBinding.edtPassword.getText()).toString().length() &gt; 0) {\r\n\r\n                        mBinding.textFieldPassword.setEndIconMode(TextInputLayout.END_ICON_PASSWORD_TOGGLE);\r\n                    } else {\r\n                        mBinding.textFieldPassword.setEndIconMode(TextInputLayout.END_ICON_NONE);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n});\r\n```\r\n`\r\n\r\nthis below is xml \r\n\r\n\r\n      &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/text_field_password&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;30dp&quot;\r\n        android:hint=&quot;@string/txt_password&quot;\r\n        app:boxCornerRadiusBottomEnd=&quot;10dp&quot;\r\n        app:boxCornerRadiusBottomStart=&quot;10dp&quot;\r\n        app:boxCornerRadiusTopEnd=&quot;10dp&quot;\r\n        app:boxCornerRadiusTopStart=&quot;10dp&quot;\r\n        app:boxStrokeColor=&quot;@color/black&quot;\r\n        app:boxStrokeErrorColor=&quot;@color/red&quot;\r\n        app:boxStrokeWidth=&quot;2dp&quot;\r\n        app:endIconMode=&quot;password_toggle&quot;\r\n        app:errorTextColor=&quot;@color/red&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:id=&quot;@+id/edt_password&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;56dp&quot;\r\n\r\n            android:imeOptions=&quot;actionGo&quot;\r\n            android:inputType=&quot;textPassword&quot; /&gt;\r\n\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n\r\n\r\n\r\n [after the error is showed, when I type on edittext, error icon is \r\n still display  ][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CdIUZ.png","title":"How to remove error icon and error text when Textinputlayout is on focus","body":"<p>I want to hide or remove end error icon and replace it by an end icon password toggle when typing on Textinputedittext.\nI used setOnfocusChangeListener and addTextChangeListener but it not work\nthis is my xml and java code</p>\n<p>`</p>\n<pre><code>     mBinding.textFieldPassword.setOnFocusChangeListener(new View.OnFocusChangeListener() {\n        @Override\n        public void onFocusChange(View v, boolean hasFocus) {\n        if (!hasFocus) {\n            mBinding.textFieldPassword.setEndIconMode(TextInputLayout.END_ICON_NONE);\n\n        } else {\n\n\n            mBinding.edtPassword.addTextChangedListener(new TextChangeListener() {\n\n               @Override\n                public void onTextChanged(CharSequence s, int start, int before, int count) {\n\n\n                    if (mBinding.textFieldPassword.isErrorEnabled()){\n                        mBinding.textFieldPassword.setErrorEnabled(false);\n                    }\n\n                    if (Objects.requireNonNull(mBinding.edtPassword.getText()).toString().length() &gt; 0) {\n\n                        mBinding.textFieldPassword.setEndIconMode(TextInputLayout.END_ICON_PASSWORD_TOGGLE);\n                    } else {\n                        mBinding.textFieldPassword.setEndIconMode(TextInputLayout.END_ICON_NONE);\n                    }\n                }\n            });\n        }\n    }\n});\n</code></pre>\n<p>`</p>\n<p>this below is xml</p>\n<pre><code>  &lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/text_field_password&quot;\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;30dp&quot;\n    android:hint=&quot;@string/txt_password&quot;\n    app:boxCornerRadiusBottomEnd=&quot;10dp&quot;\n    app:boxCornerRadiusBottomStart=&quot;10dp&quot;\n    app:boxCornerRadiusTopEnd=&quot;10dp&quot;\n    app:boxCornerRadiusTopStart=&quot;10dp&quot;\n    app:boxStrokeColor=&quot;@color/black&quot;\n    app:boxStrokeErrorColor=&quot;@color/red&quot;\n    app:boxStrokeWidth=&quot;2dp&quot;\n    app:endIconMode=&quot;password_toggle&quot;\n    app:errorTextColor=&quot;@color/red&quot;&gt;\n\n    &lt;com.google.android.material.textfield.TextInputEditText\n        android:id=&quot;@+id/edt_password&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;56dp&quot;\n\n        android:imeOptions=&quot;actionGo&quot;\n        android:inputType=&quot;textPassword&quot; /&gt;\n\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/CdIUZ.png\" rel=\"nofollow noreferrer\">after the error is showed, when I type on edittext, error icon is\nstill display  </a></p>\n"},{"tags":["java","mysql","sql","jdbc"],"comments":[{"owner":{"account_id":9417,"reputation":96439,"user_id":17389,"accept_rate":38,"display_name":"ysth"},"score":1,"creation_date":1668467765,"post_id":74438903,"comment_id":131407914,"body_markdown":"why are you selecting all employees to see if one with the idexists, instead of just selecting the one you want?","body":"why are you selecting all employees to see if one with the idexists, instead of just selecting the one you want?"},{"owner":{"account_id":26932888,"reputation":3,"user_id":20504992,"display_name":"user20504992"},"score":1,"creation_date":1668467994,"post_id":74438903,"comment_id":131407965,"body_markdown":"@ysth You mean  ResultSet res = st.executeQuery(&quot;select id_emp from employees where id_emp=?&quot;);\nAnd then check is result empty?","body":"@ysth You mean  ResultSet res = st.executeQuery(&quot;select id_emp from employees where id_emp=?&quot;); And then check is result empty?"}],"answers":[{"tags":[],"owner":{"account_id":26914061,"reputation":114,"user_id":20489149,"display_name":"synapticloop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668468623,"creation_date":1668468623,"answer_id":74439056,"question_id":74438903,"body_markdown":"Use a prepared statement\r\n\r\nHere is some sample code:\r\n\r\n```\r\npublic class SQLMain {\r\n\tpublic static void main(String[] args) throws SQLException {\r\n\t\tSystem.out.println(&quot;ID to check:&quot;);\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\tint id = scanner.nextInt();\r\n\t\t\r\n\t\tConnection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/test&quot;);\r\n\t\tPreparedStatement preparedStatement = connection.prepareStatement(&quot;select id_emp from employees where id_emp = ?&quot;);\r\n\t\tpreparedStatement.setInt(1, id);\r\n\t\t\r\n\t\tResultSet resultSet = preparedStatement.executeQuery();\r\n\t\tif(resultSet.next()) {\r\n\t\t\t// we have a row\r\n\t\t\tSystem.out.println(&quot;Found employee with id of: &quot; + resultSet.getInt(1));\r\n\t\t} else {\r\n\t\t\t// no row found - therefore unique \r\n\t\t\tSystem.out.println(&quot;not found&quot;);\r\n\t\t}\r\n\t\tresultSet.close();\r\n\t\tpreparedStatement.close();\r\n\t\tconnection.close();\r\n\t\tscanner.close();\r\n\t}\r\n}\r\n```","title":"Why does my query works only for number&lt;10?","body":"<p>Use a prepared statement</p>\n<p>Here is some sample code:</p>\n<pre><code>public class SQLMain {\n    public static void main(String[] args) throws SQLException {\n        System.out.println(&quot;ID to check:&quot;);\n        Scanner scanner = new Scanner(System.in);\n        int id = scanner.nextInt();\n        \n        Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/test&quot;);\n        PreparedStatement preparedStatement = connection.prepareStatement(&quot;select id_emp from employees where id_emp = ?&quot;);\n        preparedStatement.setInt(1, id);\n        \n        ResultSet resultSet = preparedStatement.executeQuery();\n        if(resultSet.next()) {\n            // we have a row\n            System.out.println(&quot;Found employee with id of: &quot; + resultSet.getInt(1));\n        } else {\n            // no row found - therefore unique \n            System.out.println(&quot;not found&quot;);\n        }\n        resultSet.close();\n        preparedStatement.close();\n        connection.close();\n        scanner.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26932888,"reputation":3,"user_id":20504992,"display_name":"user20504992"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74439056,"answer_count":1,"score":0,"last_activity_date":1668468623,"creation_date":1668467356,"question_id":74438903,"body_markdown":"I use this func when entering data. So I need to check is there an employee with this id in db. The same function I use for registration and this method works. But when it comes to integer numbers it checks only when it&#39;s under 10 (or maybe it&#39;s the first inserted value)\r\nThis is my code to check unique of id:\r\n\r\n```\r\nprivate int checkUnique() {\r\n    try {\r\n        Scanner scan = new Scanner(System.in);\r\n        id = scan.nextInt();\r\n        Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:...&quot;, &quot;...&quot;, &quot;...&quot;);\r\n        Statement st = connection.createStatement();\r\n        ResultSet res = st.executeQuery(&quot;select id_emp from employees&quot;);\r\n        while (res.next()) {\r\n            if (res.getInt(&quot;id_emp&quot;)==getId()) {\r\n                res.close();\r\n                st.close();\r\n                connection.close();\r\n                System.out.println(&quot;There is employee with this id&quot;);\r\n                System.out.println(&quot;Enter id&quot;);\r\n                checkUnique();\r\n            } else {\r\n                res.close();\r\n                st.close();\r\n                connection.close();\r\n                return id;\r\n            }\r\n        }\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n    return 0;\r\n}\r\n```\r\nAnd that how I use it in my code:\r\n\r\n\r\n```\r\nStatement st = connection.createStatement();\r\nString sql = &quot;INSERT INTO employees (id_emp, first_name, last_name, cnt_kids, cnt_dkids,is_single,added_by) &quot; +\r\n        &quot;VALUES (?, ?, ?, ?, ?,?,?)&quot;;\r\nPreparedStatement ps = connection.prepareStatement(sql);\r\nSystem.out.println(&quot;Enter id&quot;);\r\nid = checkUnique();\r\n```\r\n\r\nWhat&#39;s wrong with this?\r\n\r\n\r\nFor example this code ask to enter other id when id=2(it&#39;s realy on the table), but when I insert id=12(also in the table) it just skips.\r\nMy table:\r\n\r\n```\r\nCREATE TABLE `employees` (\r\n  `id_emp` int NOT NULL,\r\n  `first_name` varchar(30) DEFAULT NULL,\r\n  `last_name` varchar(30) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `cnt_kids` int DEFAULT NULL,\r\n  `cnt_dkids` int DEFAULT NULL,\r\n  `is_single` bit(1) DEFAULT NULL,\r\n  `added_by` varchar(20) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  PRIMARY KEY (`id_emp`),\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;\r\n\r\n```\r\n","title":"Why does my query works only for number&lt;10?","body":"<p>I use this func when entering data. So I need to check is there an employee with this id in db. The same function I use for registration and this method works. But when it comes to integer numbers it checks only when it's under 10 (or maybe it's the first inserted value)\nThis is my code to check unique of id:</p>\n<pre><code>private int checkUnique() {\n    try {\n        Scanner scan = new Scanner(System.in);\n        id = scan.nextInt();\n        Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:...&quot;, &quot;...&quot;, &quot;...&quot;);\n        Statement st = connection.createStatement();\n        ResultSet res = st.executeQuery(&quot;select id_emp from employees&quot;);\n        while (res.next()) {\n            if (res.getInt(&quot;id_emp&quot;)==getId()) {\n                res.close();\n                st.close();\n                connection.close();\n                System.out.println(&quot;There is employee with this id&quot;);\n                System.out.println(&quot;Enter id&quot;);\n                checkUnique();\n            } else {\n                res.close();\n                st.close();\n                connection.close();\n                return id;\n            }\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return 0;\n}\n</code></pre>\n<p>And that how I use it in my code:</p>\n<pre><code>Statement st = connection.createStatement();\nString sql = &quot;INSERT INTO employees (id_emp, first_name, last_name, cnt_kids, cnt_dkids,is_single,added_by) &quot; +\n        &quot;VALUES (?, ?, ?, ?, ?,?,?)&quot;;\nPreparedStatement ps = connection.prepareStatement(sql);\nSystem.out.println(&quot;Enter id&quot;);\nid = checkUnique();\n</code></pre>\n<p>What's wrong with this?</p>\n<p>For example this code ask to enter other id when id=2(it's realy on the table), but when I insert id=12(also in the table) it just skips.\nMy table:</p>\n<pre><code>CREATE TABLE `employees` (\n  `id_emp` int NOT NULL,\n  `first_name` varchar(30) DEFAULT NULL,\n  `last_name` varchar(30) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `cnt_kids` int DEFAULT NULL,\n  `cnt_dkids` int DEFAULT NULL,\n  `is_single` bit(1) DEFAULT NULL,\n  `added_by` varchar(20) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  PRIMARY KEY (`id_emp`),\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;\n\n</code></pre>\n"},{"tags":["python","java","utf-8","base64"],"comments":[{"owner":{"account_id":3277167,"reputation":8773,"user_id":2758823,"display_name":"Giacomo Catenazzi"},"score":0,"creation_date":1668425754,"post_id":74430743,"comment_id":131394147,"body_markdown":"Did you encoded Python string in UTF-8? You didn&#39;t insert Python code, so it is difficult to check.","body":"Did you encoded Python string in UTF-8? You didn&#39;t insert Python code, so it is difficult to check."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1668432279,"post_id":74430743,"comment_id":131396258,"body_markdown":"`-17, -65, -67` is the Unicode *character* for &quot;I can&#39;t decode this into a character&quot; (\\uFFFD) �","body":"<code>-17, -65, -67</code> is the Unicode <i>character</i> for &quot;I can&#39;t decode this into a character&quot; (\\uFFFD) �"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1668433732,"post_id":74430743,"comment_id":131396813,"body_markdown":"base64 consists of ASCII characters only.  If you call getBytes(&quot;UTF-8&quot;) on a base64-encoded string, all byte values should be positive.  The fact that you got some negative values means your payload is not a base64-encoded string.","body":"base64 consists of ASCII characters only.  If you call getBytes(&quot;UTF-8&quot;) on a base64-encoded string, all byte values should be positive.  The fact that you got some negative values means your payload is not a base64-encoded string."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668434390,"post_id":74430743,"comment_id":131397047,"body_markdown":"Actually, looking more carefully at the sequence of steps described, they don&#39;t make sense. *byte[] decodedPayload = inlineAttachment.getPayload().getBytes(&quot;UTF-8&quot;);* THEN *This goes on into my code and is successfully decompressed by...GZIPInputStream inputStream = new GZIPInputStream(new ByteArrayInputStream(decodedPayload));* The first code line would only make sense if the attachment were purely UTF-8 text. BUT, the bit about then treating that as zipped data makes no sense at all. Then you say: *if (!inlineAttachment.isBase64())* (*not* Base64) but then proceed to decode it as Base64!","body":"Actually, looking more carefully at the sequence of steps described, they don&#39;t make sense. <i>byte[] decodedPayload = inlineAttachment.getPayload().getBytes(&quot;UTF-8&quot;);</i> THEN <i>This goes on into my code and is successfully decompressed by...GZIPInputStream inputStream = new GZIPInputStream(new ByteArrayInputStream(decodedPayload));</i> The first code line would only make sense if the attachment were purely UTF-8 text. BUT, the bit about then treating that as zipped data makes no sense at all. Then you say: <i>if (!inlineAttachment.isBase64())</i> (<i>not</i> Base64) but then proceed to decode it as Base64!"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668446375,"post_id":74430743,"comment_id":131401626,"body_markdown":"*The base64 string...* No, that&#39;s not base64. It contains several double quote marks","body":"<i>The base64 string...</i> No, that&#39;s not base64. It contains several double quote marks"},{"owner":{"account_id":84277,"reputation":168384,"user_id":235698,"display_name":"Mark Tolonen"},"score":0,"creation_date":1668446655,"post_id":74430743,"comment_id":131401742,"body_markdown":"@g00se Oddly, Python&#39;s `b64decode` method works even with the quotes in the string.  Reversing the final result back to a b64 string does not generate the string with the quotes, but is otherwise the same.  I experimented and injected other non-base64 characters and it still decoded.  The algorithm must ignore non-base64 characters.","body":"@g00se Oddly, Python&#39;s <code>b64decode</code> method works even with the quotes in the string.  Reversing the final result back to a b64 string does not generate the string with the quotes, but is otherwise the same.  I experimented and injected other non-base64 characters and it still decoded.  The algorithm must ignore non-base64 characters."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668447044,"post_id":74430743,"comment_id":131401890,"body_markdown":"Yes, it copes with it somehow. The string falls over with GNU base64","body":"Yes, it copes with it somehow. The string falls over with GNU base64"},{"owner":{"account_id":1953240,"reputation":455,"user_id":1756883,"accept_rate":83,"display_name":"Scott Alexander"},"score":0,"creation_date":1668468566,"post_id":74430743,"comment_id":131408088,"body_markdown":"I&#39;ve updated the original question with a breakdown of the two scenarios more. \n\nThere does seem to be a \\uFFFD reference after the python base64 decode, it seems odd that the string versions match though.","body":"I&#39;ve updated the original question with a breakdown of the two scenarios more.   There does seem to be a \\uFFFD reference after the python base64 decode, it seems odd that the string versions match though."},{"owner":{"account_id":84277,"reputation":168384,"user_id":235698,"display_name":"Mark Tolonen"},"score":0,"creation_date":1668470156,"post_id":74430743,"comment_id":131408389,"body_markdown":"Why are you encoding with UTF-8 before decoding?  That&#39;s not correct.  If you need to convert from `str` to `bytes` use `.encode(&#39;latin1&#39;)`.  Look at my answer for the sequence to decode, and `.b64decode` can start with a `bytes` or `str` object.","body":"Why are you encoding with UTF-8 before decoding?  That&#39;s not correct.  If you need to convert from <code>str</code> to <code>bytes</code> use <code>.encode(&#39;latin1&#39;)</code>.  Look at my answer for the sequence to decode, and <code>.b64decode</code> can start with a <code>bytes</code> or <code>str</code> object."},{"owner":{"account_id":84277,"reputation":168384,"user_id":235698,"display_name":"Mark Tolonen"},"score":0,"creation_date":1668471401,"post_id":74430743,"comment_id":131408647,"body_markdown":"&quot;Then it gets placed in the message queue&quot; and becomes a mess of `\\ufffd`.  Show a [mcve] on *how* it is placed in the message queue.  It looks like some kind of `.decode(&#39;utf8&#39;,errors=&#39;replace&#39;)` is going on to get the U+FFFD REPLACEMENT CHARACTER code points.  That&#39;s corrupting the data.  You want the *raw* bytes.","body":"&quot;Then it gets placed in the message queue&quot; and becomes a mess of <code>\\ufffd</code>.  Show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> on <i>how</i> it is placed in the message queue.  It looks like some kind of <code>.decode(&#39;utf8&#39;,errors=&#39;replace&#39;)</code> is going on to get the U+FFFD REPLACEMENT CHARACTER code points.  That&#39;s corrupting the data.  You want the <i>raw</i> bytes."}],"answers":[{"tags":[],"owner":{"account_id":84277,"reputation":168384,"user_id":235698,"display_name":"Mark Tolonen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668445989,"creation_date":1668445509,"answer_id":74435329,"question_id":74430743,"body_markdown":"You didn&#39;t show Python code so I don&#39;t know where you went wrong, but you definitely shouldn&#39;t get negative numbers.  I suspect the decoding steps are applied in the wrong order.\r\n\r\nThis decodes your BASE64 string:\r\n```py\r\nimport base64\r\nimport gzip\r\n\r\ns = b&#39;H4sIAAAAAAAA/3WSzW7sIAyF9zyFd7PJS0xX7aaq1JG6ZsAJdAiOwBlu3v4eyGwrRVGCfzjfsW+B&quot;C9O6V6U7U5WV6RGzJ5mp2YNkV7XUc8y3jZ40MP3KgwupjB8NkWdz6xmXikNBLxfISZ73GiWbD3I2&quot;X5QWVspChVMvMG+IZq6VVs5T73SQLzE/aD2oIWK+kjTEyMeln7EtGsynZEY4JUr85ESSh4jUCz7l&quot;Lh6K5xlaPIVYqUnx5p2PCQSHQQaut7UXydDD/1xU9l3+CdITB386qG7gPMnIdo9sPuj8WyUvtFfz&quot;E4Rmhg4NVqFiZsKt913JDpdAqRPtYRpnh+xkYe3HRI0vT4bh3PUX2ZcwWphr7hajB54sCvsLzVZh&quot;voBYcSdVlY3UJqi8IJYqQ2uWNiACCjAGsGmExITSF/t7f11hnE1dfHetWXVBpXExX7DecaUHbzpi&quot;z8gNeDGBNqUzXfo4nMWGdIrGWc0bjJkFQiuXp81ap74C5odTOrmxPzV62HIOyknymGhVi+vMtY/S&quot;O1jnsVpLkZbMrWFIqCiY3vB624pYF4DzcqcvAD7uvNgxyICyF+SffH9G/gMaqXG6/wIAAA==&#39;\r\n\r\nstep1 = base64.b64decode(s)\r\nstep2 = gzip.decompress(step1)\r\nstep3 = step2.decode(&#39;utf8&#39;)\r\nprint(step3)\r\n```\r\nOutput:\r\n```none\r\nThere must be some kind of way outta here\r\nSaid the joker to the thief\r\nThere&#39;s too much confusion\r\nI can&#39;t get no relief\r\n\r\nBusiness men, they drink my wine\r\nPlowmen dig my earth\r\nNone will level on the line\r\nNobody offered his word\r\nHey, hey\r\n\r\nNo reason to get excited\r\nThe thief, he kindly spoke\r\nThere are many here among us\r\nWho feel that life is but a joke\r\nBut, uh, but you and I, we&#39;ve been through that\r\nAnd this is not our fate\r\nSo let us stop talkin&#39; falsely now\r\nThe hour&#39;s getting late, hey\r\n\r\nHey\r\n\r\nAll along the watchtower\r\nPrinces kept the view\r\nWhile all the women came and went\r\nBarefoot servants, too\r\nWell, uh, outside in the cold distance\r\nA wildcat did growl\r\nTwo riders were approaching\r\nAnd the wind began to howl, hey\r\n\r\nAll along the watchtower\r\n\r\nAll along the watchtower\r\n```","title":"Base64 Conversion issue between Python and JAVA","body":"<p>You didn't show Python code so I don't know where you went wrong, but you definitely shouldn't get negative numbers.  I suspect the decoding steps are applied in the wrong order.</p>\n<p>This decodes your BASE64 string:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import base64\nimport gzip\n\ns = b'H4sIAAAAAAAA/3WSzW7sIAyF9zyFd7PJS0xX7aaq1JG6ZsAJdAiOwBlu3v4eyGwrRVGCfzjfsW+B&quot;C9O6V6U7U5WV6RGzJ5mp2YNkV7XUc8y3jZ40MP3KgwupjB8NkWdz6xmXikNBLxfISZ73GiWbD3I2&quot;X5QWVspChVMvMG+IZq6VVs5T73SQLzE/aD2oIWK+kjTEyMeln7EtGsynZEY4JUr85ESSh4jUCz7l&quot;Lh6K5xlaPIVYqUnx5p2PCQSHQQaut7UXydDD/1xU9l3+CdITB386qG7gPMnIdo9sPuj8WyUvtFfz&quot;E4Rmhg4NVqFiZsKt913JDpdAqRPtYRpnh+xkYe3HRI0vT4bh3PUX2ZcwWphr7hajB54sCvsLzVZh&quot;voBYcSdVlY3UJqi8IJYqQ2uWNiACCjAGsGmExITSF/t7f11hnE1dfHetWXVBpXExX7DecaUHbzpi&quot;z8gNeDGBNqUzXfo4nMWGdIrGWc0bjJkFQiuXp81ap74C5odTOrmxPzV62HIOyknymGhVi+vMtY/S&quot;O1jnsVpLkZbMrWFIqCiY3vB624pYF4DzcqcvAD7uvNgxyICyF+SffH9G/gMaqXG6/wIAAA=='\n\nstep1 = base64.b64decode(s)\nstep2 = gzip.decompress(step1)\nstep3 = step2.decode('utf8')\nprint(step3)\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>There must be some kind of way outta here\nSaid the joker to the thief\nThere's too much confusion\nI can't get no relief\n\nBusiness men, they drink my wine\nPlowmen dig my earth\nNone will level on the line\nNobody offered his word\nHey, hey\n\nNo reason to get excited\nThe thief, he kindly spoke\nThere are many here among us\nWho feel that life is but a joke\nBut, uh, but you and I, we've been through that\nAnd this is not our fate\nSo let us stop talkin' falsely now\nThe hour's getting late, hey\n\nHey\n\nAll along the watchtower\nPrinces kept the view\nWhile all the women came and went\nBarefoot servants, too\nWell, uh, outside in the cold distance\nA wildcat did growl\nTwo riders were approaching\nAnd the wind began to howl, hey\n\nAll along the watchtower\n\nAll along the watchtower\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668449242,"creation_date":1668449242,"answer_id":74436038,"question_id":74430743,"body_markdown":"Java too requires no quotation marks in Base64. The commented line below will cause the code to fail:\r\n\r\n    import java.util.Base64;\r\n    import java.util.zip.GZIPInputStream;\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.io.Reader;\r\n    \r\n    public class Zimmerman {\r\n        public static void main(String[] args) {\r\n            String s = &quot;&quot;&quot;\r\n                    H4sIAAAAAAAA/3WSzW7sIAyF9zyFd7PJS0xX7aaq1JG6ZsAJdAiOwBlu3v4eyGwrRVGCfzjfsW+B\\&quot;C9O6V6U7U5WV6RGzJ5mp2YNkV7XUc8y3jZ40MP3KgwupjB8NkWdz6xmXikNBLxfISZ73GiWbD3I2\\&quot;X5QWVspChVMvMG+IZq6VVs5T73SQLzE/aD2oIWK+kjTEyMeln7EtGsynZEY4JUr85ESSh4jUCz7l\\&quot;Lh6K5xlaPIVYqUnx5p2PCQSHQQaut7UXydDD/1xU9l3+CdITB386qG7gPMnIdo9sPuj8WyUvtFfz\\&quot;E4Rmhg4NVqFiZsKt913JDpdAqRPtYRpnh+xkYe3HRI0vT4bh3PUX2ZcwWphr7hajB54sCvsLzVZh\\&quot;voBYcSdVlY3UJqi8IJYqQ2uWNiACCjAGsGmExITSF/t7f11hnE1dfHetWXVBpXExX7DecaUHbzpi\\&quot;z8gNeDGBNqUzXfo4nMWGdIrGWc0bjJkFQiuXp81ap74C5odTOrmxPzV62HIOyknymGhVi+vMtY/S\\&quot;O1jnsVpLkZbMrWFIqCiY3vB624pYF4DzcqcvAD7uvNgxyICyF+SffH9G/gMaqXG6/wIAAA==&quot;&quot;&quot;;\r\n            //s = s.replaceAll(&quot;\\&quot;&quot;, &quot;&quot;);\r\n            try (Reader in = new InputStreamReader(\r\n                    new GZIPInputStream(new ByteArrayInputStream(Base64.getDecoder().decode(s.getBytes(&quot;UTF-8&quot;)))),\r\n                    &quot;UTF-8&quot;)) {\r\n                int buf = -1;\r\n                while ((buf = in.read()) &gt; -1) {\r\n                    System.out.print((char) buf);\r\n                }\r\n            } catch (Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n","title":"Base64 Conversion issue between Python and JAVA","body":"<p>Java too requires no quotation marks in Base64. The commented line below will cause the code to fail:</p>\n<pre><code>import java.util.Base64;\nimport java.util.zip.GZIPInputStream;\nimport java.io.ByteArrayInputStream;\nimport java.io.InputStreamReader;\nimport java.io.Reader;\n\npublic class Zimmerman {\n    public static void main(String[] args) {\n        String s = &quot;&quot;&quot;\n                H4sIAAAAAAAA/3WSzW7sIAyF9zyFd7PJS0xX7aaq1JG6ZsAJdAiOwBlu3v4eyGwrRVGCfzjfsW+B\\&quot;C9O6V6U7U5WV6RGzJ5mp2YNkV7XUc8y3jZ40MP3KgwupjB8NkWdz6xmXikNBLxfISZ73GiWbD3I2\\&quot;X5QWVspChVMvMG+IZq6VVs5T73SQLzE/aD2oIWK+kjTEyMeln7EtGsynZEY4JUr85ESSh4jUCz7l\\&quot;Lh6K5xlaPIVYqUnx5p2PCQSHQQaut7UXydDD/1xU9l3+CdITB386qG7gPMnIdo9sPuj8WyUvtFfz\\&quot;E4Rmhg4NVqFiZsKt913JDpdAqRPtYRpnh+xkYe3HRI0vT4bh3PUX2ZcwWphr7hajB54sCvsLzVZh\\&quot;voBYcSdVlY3UJqi8IJYqQ2uWNiACCjAGsGmExITSF/t7f11hnE1dfHetWXVBpXExX7DecaUHbzpi\\&quot;z8gNeDGBNqUzXfo4nMWGdIrGWc0bjJkFQiuXp81ap74C5odTOrmxPzV62HIOyknymGhVi+vMtY/S\\&quot;O1jnsVpLkZbMrWFIqCiY3vB624pYF4DzcqcvAD7uvNgxyICyF+SffH9G/gMaqXG6/wIAAA==&quot;&quot;&quot;;\n        //s = s.replaceAll(&quot;\\&quot;&quot;, &quot;&quot;);\n        try (Reader in = new InputStreamReader(\n                new GZIPInputStream(new ByteArrayInputStream(Base64.getDecoder().decode(s.getBytes(&quot;UTF-8&quot;)))),\n                &quot;UTF-8&quot;)) {\n            int buf = -1;\n            while ((buf = in.read()) &gt; -1) {\n                System.out.print((char) buf);\n            }\n        } catch (Throwable t) {\n            t.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1953240,"reputation":455,"user_id":1756883,"accept_rate":83,"display_name":"Scott Alexander"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1668468407,"creation_date":1668424385,"question_id":74430743,"body_markdown":"Good Morning \r\n\r\nI&#39;m having an issue converting a Base64 string back to a byte stream when using a compressed file. There appears to be a difference in the byte arrays between a pre converted string from python vs a byte conversion in Java. \r\n\r\n**UPDATED:**\r\n\r\nApologies, I think my explanation left something to desire. I&#39;ve attempted to simplify the issue into two scenarios. \r\n\r\n**Scenario 1: Java Only (Successful scenario)**\r\n\r\nA compressed file encoded as base64 is received into my Java application from a message queue...\r\n\r\nH4sIAAAAAAAA/3WSzW7sIAyF9zyFd7PJS0xX7aaq1JG6ZsAJdAiOwBlu3v4eyGwrRVGCfzjfsW+B&quot;C9O6V6U7U5WV6RGzJ5mp2YNkV7XUc8y3jZ40MP3KgwupjB8NkWdz6xmXikNBLxfISZ73GiWbD3I2&quot;X5QWVspChVMvMG+IZq6VVs5T73SQLzE/aD2oIWK+kjTEyMeln7EtGsynZEY4JUr85ESSh4jUCz7l&quot;Lh6K5xlaPIVYqUnx5p2PCQSHQQaut7UXydDD/1xU9l3+CdITB386qG7gPMnIdo9sPuj8WyUvtFfz&quot;E4Rmhg4NVqFiZsKt913JDpdAqRPtYRpnh+xkYe3HRI0vT4bh3PUX2ZcwWphr7hajB54sCvsLzVZh&quot;voBYcSdVlY3UJqi8IJYqQ2uWNiACCjAGsGmExITSF/t7f11hnE1dfHetWXVBpXExX7DecaUHbzpi&quot;z8gNeDGBNqUzXfo4nMWGdIrGWc0bjJkFQiuXp81ap74C5odTOrmxPzV62HIOyknymGhVi+vMtY/S&quot;O1jnsVpLkZbMrWFIqCiY3vB624pYF4DzcqcvAD7uvNgxyICyF+SffH9G/gMaqXG6/wIAAA==\r\n\r\nIt is passed through the following code...\r\n\r\n    byte[] decodedPayload = inlineAttachment.getPayload().getBytes(&quot;UTF-8&quot;);\r\n    decodedPayload = Base64.getMimeDecoder().decode(inlineAttachment.getPayload());\r\n\r\n    if (inlineAttachment.isCompressed()) {\r\n        GZIPInputStream inputStream = new GZIPInputStream(new ByteArrayInputStream(decodedPayload));\r\n        payload = inputStream.readAllBytes();\r\n    }\r\n\r\nThere are no issues with this the file is decompressed. \r\nIt should be noted that the decodedPayload before the decompression looks like this as a string…\r\n\r\n��������u��n� ��&lt;�w��KLW�ԑ�f�    t��n���l+EQ�8߱o�ӺW�;S����&#39;��كdW��s̷��40�ʃ��\r\n�gs���CA/�I��%�r6_�V�B�S/0o�f��V�S�t�/1?h=�!b��4��ǥ��-̧dF8%J��D����&gt;�.��Z&lt;�X�I�杏   �A�������\\T�]�   �:�n�&lt;��v�l&gt;��[%/�W��f�\r\nV�bf&#173;�]��@��ag��da��D�/O����ٗ0Z�k���,\r\n��Va��Xq&#39;U���&amp;�� �*Ck�6 \r\n0�i�Ą��{]a�M]|w�YuA�q1_��q�o:b��\r\nx1�6�3]�8�ņt��Y���B+���Z���S:��?5z�r�I�hU��̵��;X�ZK��̭aH�(���zۊX��r�/�&gt;��1Ȁ��|F��q����\r\n\r\nand this as a byte string... \r\n\r\n[31, -117, 8, 0, 0, 0, 0, 0, 0, -1, 117, -110, -51, 110, -20, 32, 12, -123, -9, 60, -123, 119, -77, -55, 75, 76, 87, -19, -90, -86, -44, -111, -70, 102, -64, 9, 116, 8, -114, -64,…\r\n\r\n\r\n\r\n**Scenario 2: Python Base64 decode before Java decompression** \r\n\r\nThis time around we start off in the Python application, the Python application receives the base64 string and decodes it via the following...\r\n\r\n    bpayload = payload.encode(&#39;utf-8&#39;)\r\n    splitLines = bpayload.splitlines()\r\n    splitlinesb = b&#39;&#39;.join(splitLines)\r\n    value, defects = decode_b(splitlinesb)\r\n\r\nIn python the base64 byte array is as follows...\r\n\r\nb&quot;\\x1f\\x8b\\x08\\x00\\x00\\x00\\x00\\x00\\x00\\xffu\\x92\\xcdn\\xec \\x0c\\x85\\xf7&lt;\\x85w\\xb3\\xc9KLW\\xed\\xa6\\xaa\\xd4\\x91\\xbaf\\xc0\\tt\\x08\\x8e\\xc0\\x19n\\xde\\xfe\\x1e\\xc8l+EQ\\x82\\x7f8\\xdf\\xb1o\\x81\\x0b\\xd3\\xbaW\\xa5;S\\x95\\x95\\xe9\\x11\\xb3&#39;\\x99\\xa9\\xd9\\x83dW\\xb5\\xd4s\\xcc\\xb7\\x8d\\x9e40\\xfd\\xca\\x83\\x0b\\xa9\\x8c\\x1f\\r\\x91gs\\xeb\\x19\\x97\\x8aCA/\\x17\\xc8I\\x9e\\xf7\\x1a%\\x9b\\x0fr6_\\x94\\x16V\\xcaB\\x85S/0o\\x88f\\xae\\x95V\\xceS\\xeft\\x90/1?h=\\xa8!b\\xbe\\x924\\xc4\\xc8\\xc7\\xa5\\x9f\\xb1-\\x1a\\xcc\\xa7dF8%J\\xfc\\xe4D\\x92\\x87\\x88\\xd4\\x0b&gt;\\xe5.\\x1e\\x8a\\xe7\\x19Z&lt;\\x85X\\xa9I\\xf1\\xe6\\x9d\\x8f\\t\\x04\\x87A\\x06\\xae\\xb7\\xb5\\x17\\xc9\\xd0\\xc3\\xff\\\\T\\xf6]\\xfe\\t\\xd2\\x13\\x07\\x7f:\\xa8n\\xe0&lt;\\xc9\\xc8v\\x8fl&gt;\\xe8\\xfc[%/\\xb4W\\xf3\\x13\\x84f\\x86\\x0e\\rV\\xa1bf\\xc2\\xad\\xf7]\\xc9\\x0e\\x97@\\xa9\\x13\\xeda\\x1ag\\x87\\xecda\\xed\\xc7D\\x8d/O\\x86\\xe1\\xdc\\xf5\\x17\\xd9\\x970Z\\x98k\\xee\\x16\\xa3\\x07\\x9e,\\n\\xfb\\x0b\\xcdVa\\xbe\\x80Xq&#39;U\\x95\\x8d\\xd4&amp;\\xa8\\xbc \\x96*Ck\\x966 \\x02\\n0\\x06\\xb0i\\x84\\xc4\\x84\\xd2\\x17\\xfb{\\x7f]a\\x9cM]|w\\xadYuA\\xa5q1_\\xb0\\xdeq\\xa5\\x07o:b\\xcf\\xc8\\rx1\\x816\\xa53]\\xfa8\\x9c\\xc5\\x86t\\x8a\\xc6Y\\xcd\\x1b\\x8c\\x99\\x05B+\\x97\\xa7\\xcdZ\\xa7\\xbe\\x02\\xe6\\x87S:\\xb9\\xb1?5z\\xd8r\\x0e\\xcaI\\xf2\\x98hU\\x8b\\xeb\\xcc\\xb5\\x8f\\xd2;X\\xe7\\xb1ZK\\x91\\x96\\xcc\\xadaH\\xa8(\\x98\\xde\\xf0z\\xdb\\x8aX\\x17\\x80\\xf3r\\xa7/\\x00&gt;\\xee\\xbc\\xd81\\xc8\\x80\\xb2\\x17\\xe4\\x9f|\\x7fF\\xfe\\x03\\x1a\\xa9q\\xba\\xff\\x02\\x00\\x00”\r\n\r\nThis is then placed into a message queue, the data looks like (covering all views of the data)... \r\n\r\n\\u001f\\ufffd\\b\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\ufffdu\\ufffd\\ufffdn\\ufffd \\f\\ufffd\\ufffd&lt;\\ufffdw\\ufffd\\ufffdKLW\\ufffd\\ufffd\\ufffd\\u0511\\ufffdf\\ufffd\\tt\\b\\ufffd\\ufffd\\u0019n\\ufffd\\ufffd\\u001e\\ufffdl+EQ\\ufffd\\u007f8\\u07f1o\\ufffd\\u000b\\u04faW\\ufffd;S\\ufffd\\ufffd\\ufffd\\u0011\\ufffd&#39;\\ufffd\\ufffd\\u0643dW\\ufffd\\ufffds\\u0337\\ufffd\\ufffd40\\ufffd\\u0283\\u000b\\ufffd\\ufffd\\u001f\\r\\ufffdgs\\ufffd\\u0019\\ufffd\\ufffdCA/\\u0017\\ufffdI\\ufffd\\ufffd\\u001a%\\ufffd\\u000fr6_\\ufffd\\u0016V\\ufffdB\\ufffdS/0o\\ufffdf\\ufffd\\ufffdV\\ufffdS\\ufffdt\\ufffd/1?h=\\ufffd!b\\ufffd\\ufffd4\\ufffd\\ufffd\\u01e5\\ufffd\\ufffd-\\u001a\\u0327dF8%J\\ufffd\\ufffdD\\ufffd\\ufffd\\ufffd\\ufffd\\u000b&gt;\\ufffd.\\u001e\\ufffd\\ufffd\\u0019Z&lt;\\ufffdX\\ufffdI\\ufffd\\u674f\\t\\u0004\\ufffdA\\u0006\\ufffd\\ufffd\\ufffd\\u0017\\ufffd\\ufffd\\ufffd\\ufffd\\\\T\\ufffd]\\ufffd\\t\\ufffd\\u0013\\u0007\\u007f:\\ufffdn\\ufffd&lt;\\ufffd\\ufffdv\\ufffdl&gt;\\ufffd\\ufffd[%/\\ufffdW\\ufffd\\u0013\\ufffdf\\ufffd\\u000e\\rV\\ufffdbf\\u00ad\\ufffd]\\ufffd\\u000e\\ufffd@\\ufffd\\u0013\\ufffda\\u001ag\\ufffd\\ufffdda\\ufffd\\ufffdD\\ufffd/O\\ufffd\\ufffd\\ufffd\\ufffd\\u0017\\u06570Z\\ufffdk\\ufffd\\u0016\\ufffd\\u0007\\ufffd,\\n\\ufffd\\u000b\\ufffdVa\\ufffd\\ufffdXq&#39;U\\ufffd\\ufffd\\ufffd&amp;\\ufffd\\ufffd \\ufffd*Ck\\ufffd6 \\u0002\\n0\\u0006\\ufffdi\\ufffd\\u0104\\ufffd\\u0017\\ufffd{\\u007f]a\\ufffdM]|w\\ufffdYuA\\ufffdq1_\\ufffd\\ufffdq\\ufffd\\u0007o:b\\ufffd\\ufffd\\rx1\\ufffd6\\ufffd3]\\ufffd8\\ufffd\\u0146t\\ufffd\\ufffdY\\ufffd\\u001b\\ufffd\\ufffd\\u0005B+\\ufffd\\ufffd\\ufffdZ\\ufffd\\ufffd\\u0002\\ufffdS:\\ufffd\\ufffd?5z\\ufffdr\\u000e\\ufffdI\\ufffdhU\\ufffd\\ufffd\\u0335\\ufffd\\ufffd;X\\ufffdZK\\ufffd\\ufffd\\u032daH\\ufffd(\\ufffd\\ufffd\\ufffdz\\u06caX\\u0017\\ufffd\\ufffdr\\ufffd/\\u0000&gt;\\ufffd\\ufffd1\\u0200\\ufffd\\u0017\\ufffd|\\u007fF\\ufffd\\u0003\\u001a\\ufffdq\\ufffd\\ufffd\\u0002\\u0000\\u0000\r\n\r\n\r\n\r\nWe now get to the **Java side**, the message is pulled off the queue and we attempt to decompress the given message only as the Base64 decode has already occurred...\r\n\r\n    byte[] decodedPayload = inlineAttachment.getPayload().getBytes(&quot;UTF-8&quot;);\r\n \r\n    if (inlineAttachment.isCompressed()) {\r\n        GZIPInputStream inputStream = new GZIPInputStream(new ByteArrayInputStream(decodedPayload));\r\n        payload = inputStream.readAllBytes();\r\n    }\r\n\r\nThe decoded payload looks like this as a string... \r\n\r\n��������u��n� ��&lt;�w��KLW���ԑ�f�  t��n���l+EQ�8߱o�ӺW�;S����&#39;��كdW��s̷��40�ʃ��\r\n�gs���CA/�I��%�r6_�V�B�S/0o�f��V�S�t�/1?h=�!b��4��ǥ��-̧dF8%J��D����&gt;�.��Z&lt;�X�I�杏   �A�������\\T�]�   �:�n�&lt;��v�l&gt;��[%/�W��f�\r\nV�bf&#173;�]��@��ag��da��D�/O����ٗ0Z�k���,\r\n��Va��Xq&#39;U���&amp;�� �*Ck�6 \r\n0�i�Ą��{]a�M]|w�YuA�q1_��q�o:b��\r\nx1�6�3]�8�ņt��Y���B+���Z���S:��?5z�r�I�hU��̵��;X�ZK��̭aH�(���zۊX��r�/�&gt;��1Ȁ��|F��q����\r\n\r\nand this is the byte array... \r\n\r\n[31, -17, -65, -67, 8, 0, 0, 0, 0, 0, 0, -17, -65, -67, 117, -17, -65, -67, -17, -65, -67, 110, -17, -65, -67, 32, 12, -17, -65, -67, -17, -65, -67, 60, -17, -65, -67, 119...\r\n\r\nThere is a difference at this point between the Java version which is KLW���ԑ�f� vs KLW�ԑ�f� in the first line.\r\n\r\nIt is this scenario which will not decompress, although the string versions of the file are almost identical, the byte arrays are significantly different. \r\n \r\nMany Thanks in Advance\r\n","title":"Base64 Conversion issue between Python and JAVA","body":"<p>Good Morning</p>\n<p>I'm having an issue converting a Base64 string back to a byte stream when using a compressed file. There appears to be a difference in the byte arrays between a pre converted string from python vs a byte conversion in Java.</p>\n<p><strong>UPDATED:</strong></p>\n<p>Apologies, I think my explanation left something to desire. I've attempted to simplify the issue into two scenarios.</p>\n<p><strong>Scenario 1: Java Only (Successful scenario)</strong></p>\n<p>A compressed file encoded as base64 is received into my Java application from a message queue...</p>\n<p>H4sIAAAAAAAA/3WSzW7sIAyF9zyFd7PJS0xX7aaq1JG6ZsAJdAiOwBlu3v4eyGwrRVGCfzjfsW+B&quot;C9O6V6U7U5WV6RGzJ5mp2YNkV7XUc8y3jZ40MP3KgwupjB8NkWdz6xmXikNBLxfISZ73GiWbD3I2&quot;X5QWVspChVMvMG+IZq6VVs5T73SQLzE/aD2oIWK+kjTEyMeln7EtGsynZEY4JUr85ESSh4jUCz7l&quot;Lh6K5xlaPIVYqUnx5p2PCQSHQQaut7UXydDD/1xU9l3+CdITB386qG7gPMnIdo9sPuj8WyUvtFfz&quot;E4Rmhg4NVqFiZsKt913JDpdAqRPtYRpnh+xkYe3HRI0vT4bh3PUX2ZcwWphr7hajB54sCvsLzVZh&quot;voBYcSdVlY3UJqi8IJYqQ2uWNiACCjAGsGmExITSF/t7f11hnE1dfHetWXVBpXExX7DecaUHbzpi&quot;z8gNeDGBNqUzXfo4nMWGdIrGWc0bjJkFQiuXp81ap74C5odTOrmxPzV62HIOyknymGhVi+vMtY/S&quot;O1jnsVpLkZbMrWFIqCiY3vB624pYF4DzcqcvAD7uvNgxyICyF+SffH9G/gMaqXG6/wIAAA==</p>\n<p>It is passed through the following code...</p>\n<pre><code>byte[] decodedPayload = inlineAttachment.getPayload().getBytes(&quot;UTF-8&quot;);\ndecodedPayload = Base64.getMimeDecoder().decode(inlineAttachment.getPayload());\n\nif (inlineAttachment.isCompressed()) {\n    GZIPInputStream inputStream = new GZIPInputStream(new ByteArrayInputStream(decodedPayload));\n    payload = inputStream.readAllBytes();\n}\n</code></pre>\n<p>There are no issues with this the file is decompressed.\nIt should be noted that the decodedPayload before the decompression looks like this as a string…</p>\n<p>��������u��n� ��&lt;�w��KLW�ԑ�f�    t��n���l+EQ�8߱o�ӺW�;S����'��كdW��s̷��40�ʃ��\n�gs���CA/�I��%�r6_�V�B�S/0o�f��V�S�t�/1?h=�!b��4��ǥ��-̧dF8%J��D����&gt;�.��Z&lt;�X�I�杏   �A�������\\T�]�   �:�n�&lt;��v�l&gt;��[%/�W��f�\nV�bf­�]��@��ag��da��D�/O����ٗ0Z�k���,\n��Va��Xq'U���&amp;�� �*Ck�6\n0�i�Ą��{]a�M]|w�YuA�q1_��q�o:b��\nx1�6�3]�8�ņt��Y���B+���Z���S:��?5z�r�I�hU��̵��;X�ZK��̭aH�(���zۊX��r�/�&gt;��1Ȁ��|F��q����</p>\n<p>and this as a byte string...</p>\n<p>[31, -117, 8, 0, 0, 0, 0, 0, 0, -1, 117, -110, -51, 110, -20, 32, 12, -123, -9, 60, -123, 119, -77, -55, 75, 76, 87, -19, -90, -86, -44, -111, -70, 102, -64, 9, 116, 8, -114, -64,…</p>\n<p><strong>Scenario 2: Python Base64 decode before Java decompression</strong></p>\n<p>This time around we start off in the Python application, the Python application receives the base64 string and decodes it via the following...</p>\n<pre><code>bpayload = payload.encode('utf-8')\nsplitLines = bpayload.splitlines()\nsplitlinesb = b''.join(splitLines)\nvalue, defects = decode_b(splitlinesb)\n</code></pre>\n<p>In python the base64 byte array is as follows...</p>\n<p>b&quot;\\x1f\\x8b\\x08\\x00\\x00\\x00\\x00\\x00\\x00\\xffu\\x92\\xcdn\\xec \\x0c\\x85\\xf7&lt;\\x85w\\xb3\\xc9KLW\\xed\\xa6\\xaa\\xd4\\x91\\xbaf\\xc0\\tt\\x08\\x8e\\xc0\\x19n\\xde\\xfe\\x1e\\xc8l+EQ\\x82\\x7f8\\xdf\\xb1o\\x81\\x0b\\xd3\\xbaW\\xa5;S\\x95\\x95\\xe9\\x11\\xb3'\\x99\\xa9\\xd9\\x83dW\\xb5\\xd4s\\xcc\\xb7\\x8d\\x9e40\\xfd\\xca\\x83\\x0b\\xa9\\x8c\\x1f\\r\\x91gs\\xeb\\x19\\x97\\x8aCA/\\x17\\xc8I\\x9e\\xf7\\x1a%\\x9b\\x0fr6_\\x94\\x16V\\xcaB\\x85S/0o\\x88f\\xae\\x95V\\xceS\\xeft\\x90/1?h=\\xa8!b\\xbe\\x924\\xc4\\xc8\\xc7\\xa5\\x9f\\xb1-\\x1a\\xcc\\xa7dF8%J\\xfc\\xe4D\\x92\\x87\\x88\\xd4\\x0b&gt;\\xe5.\\x1e\\x8a\\xe7\\x19Z&lt;\\x85X\\xa9I\\xf1\\xe6\\x9d\\x8f\\t\\x04\\x87A\\x06\\xae\\xb7\\xb5\\x17\\xc9\\xd0\\xc3\\xff\\T\\xf6]\\xfe\\t\\xd2\\x13\\x07\\x7f:\\xa8n\\xe0&lt;\\xc9\\xc8v\\x8fl&gt;\\xe8\\xfc[%/\\xb4W\\xf3\\x13\\x84f\\x86\\x0e\\rV\\xa1bf\\xc2\\xad\\xf7]\\xc9\\x0e\\x97@\\xa9\\x13\\xeda\\x1ag\\x87\\xecda\\xed\\xc7D\\x8d/O\\x86\\xe1\\xdc\\xf5\\x17\\xd9\\x970Z\\x98k\\xee\\x16\\xa3\\x07\\x9e,\\n\\xfb\\x0b\\xcdVa\\xbe\\x80Xq'U\\x95\\x8d\\xd4&amp;\\xa8\\xbc \\x96*Ck\\x966 \\x02\\n0\\x06\\xb0i\\x84\\xc4\\x84\\xd2\\x17\\xfb{\\x7f]a\\x9cM]|w\\xadYuA\\xa5q1_\\xb0\\xdeq\\xa5\\x07o:b\\xcf\\xc8\\rx1\\x816\\xa53]\\xfa8\\x9c\\xc5\\x86t\\x8a\\xc6Y\\xcd\\x1b\\x8c\\x99\\x05B+\\x97\\xa7\\xcdZ\\xa7\\xbe\\x02\\xe6\\x87S:\\xb9\\xb1?5z\\xd8r\\x0e\\xcaI\\xf2\\x98hU\\x8b\\xeb\\xcc\\xb5\\x8f\\xd2;X\\xe7\\xb1ZK\\x91\\x96\\xcc\\xadaH\\xa8(\\x98\\xde\\xf0z\\xdb\\x8aX\\x17\\x80\\xf3r\\xa7/\\x00&gt;\\xee\\xbc\\xd81\\xc8\\x80\\xb2\\x17\\xe4\\x9f|\\x7fF\\xfe\\x03\\x1a\\xa9q\\xba\\xff\\x02\\x00\\x00”</p>\n<p>This is then placed into a message queue, the data looks like (covering all views of the data)...</p>\n<p>\\u001f\\ufffd\\b\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\ufffdu\\ufffd\\ufffdn\\ufffd \\f\\ufffd\\ufffd&lt;\\ufffdw\\ufffd\\ufffdKLW\\ufffd\\ufffd\\ufffd\\u0511\\ufffdf\\ufffd\\tt\\b\\ufffd\\ufffd\\u0019n\\ufffd\\ufffd\\u001e\\ufffdl+EQ\\ufffd\\u007f8\\u07f1o\\ufffd\\u000b\\u04faW\\ufffd;S\\ufffd\\ufffd\\ufffd\\u0011\\ufffd'\\ufffd\\ufffd\\u0643dW\\ufffd\\ufffds\\u0337\\ufffd\\ufffd40\\ufffd\\u0283\\u000b\\ufffd\\ufffd\\u001f\\r\\ufffdgs\\ufffd\\u0019\\ufffd\\ufffdCA/\\u0017\\ufffdI\\ufffd\\ufffd\\u001a%\\ufffd\\u000fr6_\\ufffd\\u0016V\\ufffdB\\ufffdS/0o\\ufffdf\\ufffd\\ufffdV\\ufffdS\\ufffdt\\ufffd/1?h=\\ufffd!b\\ufffd\\ufffd4\\ufffd\\ufffd\\u01e5\\ufffd\\ufffd-\\u001a\\u0327dF8%J\\ufffd\\ufffdD\\ufffd\\ufffd\\ufffd\\ufffd\\u000b&gt;\\ufffd.\\u001e\\ufffd\\ufffd\\u0019Z&lt;\\ufffdX\\ufffdI\\ufffd\\u674f\\t\\u0004\\ufffdA\\u0006\\ufffd\\ufffd\\ufffd\\u0017\\ufffd\\ufffd\\ufffd\\ufffd\\T\\ufffd]\\ufffd\\t\\ufffd\\u0013\\u0007\\u007f:\\ufffdn\\ufffd&lt;\\ufffd\\ufffdv\\ufffdl&gt;\\ufffd\\ufffd[%/\\ufffdW\\ufffd\\u0013\\ufffdf\\ufffd\\u000e\\rV\\ufffdbf\\u00ad\\ufffd]\\ufffd\\u000e\\ufffd@\\ufffd\\u0013\\ufffda\\u001ag\\ufffd\\ufffdda\\ufffd\\ufffdD\\ufffd/O\\ufffd\\ufffd\\ufffd\\ufffd\\u0017\\u06570Z\\ufffdk\\ufffd\\u0016\\ufffd\\u0007\\ufffd,\\n\\ufffd\\u000b\\ufffdVa\\ufffd\\ufffdXq'U\\ufffd\\ufffd\\ufffd&amp;\\ufffd\\ufffd \\ufffd*Ck\\ufffd6 \\u0002\\n0\\u0006\\ufffdi\\ufffd\\u0104\\ufffd\\u0017\\ufffd{\\u007f]a\\ufffdM]|w\\ufffdYuA\\ufffdq1_\\ufffd\\ufffdq\\ufffd\\u0007o:b\\ufffd\\ufffd\\rx1\\ufffd6\\ufffd3]\\ufffd8\\ufffd\\u0146t\\ufffd\\ufffdY\\ufffd\\u001b\\ufffd\\ufffd\\u0005B+\\ufffd\\ufffd\\ufffdZ\\ufffd\\ufffd\\u0002\\ufffdS:\\ufffd\\ufffd?5z\\ufffdr\\u000e\\ufffdI\\ufffdhU\\ufffd\\ufffd\\u0335\\ufffd\\ufffd;X\\ufffdZK\\ufffd\\ufffd\\u032daH\\ufffd(\\ufffd\\ufffd\\ufffdz\\u06caX\\u0017\\ufffd\\ufffdr\\ufffd/\\u0000&gt;\\ufffd\\ufffd1\\u0200\\ufffd\\u0017\\ufffd|\\u007fF\\ufffd\\u0003\\u001a\\ufffdq\\ufffd\\ufffd\\u0002\\u0000\\u0000</p>\n<p>We now get to the <strong>Java side</strong>, the message is pulled off the queue and we attempt to decompress the given message only as the Base64 decode has already occurred...</p>\n<pre><code>byte[] decodedPayload = inlineAttachment.getPayload().getBytes(&quot;UTF-8&quot;);\n\nif (inlineAttachment.isCompressed()) {\n    GZIPInputStream inputStream = new GZIPInputStream(new ByteArrayInputStream(decodedPayload));\n    payload = inputStream.readAllBytes();\n}\n</code></pre>\n<p>The decoded payload looks like this as a string...</p>\n<p>��������u��n� ��&lt;�w��KLW���ԑ�f�  t��n���l+EQ�8߱o�ӺW�;S����'��كdW��s̷��40�ʃ��\n�gs���CA/�I��%�r6_�V�B�S/0o�f��V�S�t�/1?h=�!b��4��ǥ��-̧dF8%J��D����&gt;�.��Z&lt;�X�I�杏   �A�������\\T�]�   �:�n�&lt;��v�l&gt;��[%/�W��f�\nV�bf­�]��@��ag��da��D�/O����ٗ0Z�k���,\n��Va��Xq'U���&amp;�� �*Ck�6\n0�i�Ą��{]a�M]|w�YuA�q1_��q�o:b��\nx1�6�3]�8�ņt��Y���B+���Z���S:��?5z�r�I�hU��̵��;X�ZK��̭aH�(���zۊX��r�/�&gt;��1Ȁ��|F��q����</p>\n<p>and this is the byte array...</p>\n<p>[31, -17, -65, -67, 8, 0, 0, 0, 0, 0, 0, -17, -65, -67, 117, -17, -65, -67, -17, -65, -67, 110, -17, -65, -67, 32, 12, -17, -65, -67, -17, -65, -67, 60, -17, -65, -67, 119...</p>\n<p>There is a difference at this point between the Java version which is KLW���ԑ�f� vs KLW�ԑ�f� in the first line.</p>\n<p>It is this scenario which will not decompress, although the string versions of the file are almost identical, the byte arrays are significantly different.</p>\n<p>Many Thanks in Advance</p>\n"},{"tags":["java","sockets","http","tcp","keep-alive"],"comments":[{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":2,"creation_date":1420500017,"post_id":1480236,"comment_id":43989173,"body_markdown":"Just to make sure &quot;http keepalive&quot; is typically not related to socket keepalive, it talks about the HTTP/1.1 feature of keeping connections open for further requests. It is only related to TCP keepalive as it needs to detect broken TCP connections (or normally only keeps the sockets open for limited time).","body":"Just to make sure &quot;http keepalive&quot; is typically not related to socket keepalive, it talks about the HTTP/1.1 feature of keeping connections open for further requests. It is only related to TCP keepalive as it needs to detect broken TCP connections (or normally only keeps the sockets open for limited time)."}],"answers":[{"tags":[],"owner":{"account_id":8586,"reputation":128629,"user_id":15537,"accept_rate":96,"display_name":"Matthew Scharley"},"down_vote_count":6,"up_vote_count":85,"is_accepted":true,"score":79,"last_activity_date":1253931274,"creation_date":1253931274,"answer_id":1480246,"question_id":1480236,"body_markdown":"TCP sockets remain open till they are closed.\r\n\r\nThat said, it&#39;s very difficult to detect a broken connection (broken, as in a router died, etc, as opposed to closed) without actually sending data, so most applications do some sort of ping/pong reaction every so often just to make sure the connection is still actually alive.","title":"Does a TCP socket connection have a &quot;keep alive&quot;?","body":"<p>TCP sockets remain open till they are closed.</p>\n\n<p>That said, it's very difficult to detect a broken connection (broken, as in a router died, etc, as opposed to closed) without actually sending data, so most applications do some sort of ping/pong reaction every so often just to make sure the connection is still actually alive.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":58,"is_accepted":false,"score":57,"last_activity_date":1253933121,"creation_date":1253931867,"answer_id":1480259,"question_id":1480236,"body_markdown":"You are looking for the SO_KEEPALIVE socket option.\r\n\r\nThe [Java Socket API](http://java.sun.com/javase/6/docs/api/java/net/Socket.html) exposes &quot;keep-alive&quot; to applications via the `setKeepAlive` and `getKeepAlive` methods. \r\n\r\nEDIT: SO_KEEPALIVE is implemented in the OS network protocol stacks without sending any &quot;real&quot; data.  The keep-alive interval is operating system dependent, and may be tuneable via a kernel parameter.\r\n\r\nSince no data is sent, SO_KEEPALIVE can only test the liveness of the network connection, not the liveness of the service that the socket is connected to.  To test the latter, you need to implement something that involves sending messages to the server and getting a response.\r\n\r\n","title":"Does a TCP socket connection have a &quot;keep alive&quot;?","body":"<p>You are looking for the SO_KEEPALIVE socket option.</p>\n\n<p>The <a href=\"http://java.sun.com/javase/6/docs/api/java/net/Socket.html\" rel=\"noreferrer\">Java Socket API</a> exposes \"keep-alive\" to applications via the <code>setKeepAlive</code> and <code>getKeepAlive</code> methods. </p>\n\n<p>EDIT: SO_KEEPALIVE is implemented in the OS network protocol stacks without sending any \"real\" data.  The keep-alive interval is operating system dependent, and may be tuneable via a kernel parameter.</p>\n\n<p>Since no data is sent, SO_KEEPALIVE can only test the liveness of the network connection, not the liveness of the service that the socket is connected to.  To test the latter, you need to implement something that involves sending messages to the server and getting a response.</p>\n"},{"tags":[],"owner":{"account_id":15220,"reputation":48515,"user_id":31945,"display_name":"Artelius"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1253932369,"creation_date":1253932369,"answer_id":1480267,"question_id":1480236,"body_markdown":"If you&#39;re behind a masquerading NAT (as most home users are these days), there is a limited pool of external ports, and these must be shared among the TCP connections. Therefore masquerading NATs tend to assume a connection has been terminated if no data has been sent for a certain time period.\r\n\r\nThis and other such issues (anywhere in between the two endpoints) can mean the connection will no longer &quot;work&quot; if you try to send data after a reasonble idle period. However, you may not discover this until you *try* to send data.\r\n\r\nUsing keepalives both *reduces* the chance of the connection being interrupted somewhere down the line, and also lets you find out about a broken connection sooner.","title":"Does a TCP socket connection have a &quot;keep alive&quot;?","body":"<p>If you're behind a masquerading NAT (as most home users are these days), there is a limited pool of external ports, and these must be shared among the TCP connections. Therefore masquerading NATs tend to assume a connection has been terminated if no data has been sent for a certain time period.</p>\n\n<p>This and other such issues (anywhere in between the two endpoints) can mean the connection will no longer \"work\" if you try to send data after a reasonble idle period. However, you may not discover this until you <em>try</em> to send data.</p>\n\n<p>Using keepalives both <em>reduces</em> the chance of the connection being interrupted somewhere down the line, and also lets you find out about a broken connection sooner.</p>\n"},{"tags":[],"owner":{"account_id":50238,"reputation":74702,"user_id":149808,"accept_rate":81,"display_name":"ZZ Coder"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1253933571,"creation_date":1253933571,"answer_id":1480303,"question_id":1480236,"body_markdown":"TCP keepalive and HTTP keepalive are very different concepts. In TCP, the keepalive is the administrative packet sent to detect stale connection. In HTTP, keepalive means the persistent connection state.\r\n\r\nThis is from TCP specification,\r\n\r\n*Keep-alive packets MUST only be sent when no data or acknowledgement packets have been received for the connection within an interval. This interval MUST be configurable and MUST default to no less than two hours.*\r\n\r\nAs you can see, the default TCP keepalive interval is too long for most applications. You might have to add keepalive in your application protocol.","title":"Does a TCP socket connection have a &quot;keep alive&quot;?","body":"<p>TCP keepalive and HTTP keepalive are very different concepts. In TCP, the keepalive is the administrative packet sent to detect stale connection. In HTTP, keepalive means the persistent connection state.</p>\n\n<p>This is from TCP specification,</p>\n\n<p><em>Keep-alive packets MUST only be sent when no data or acknowledgement packets have been received for the connection within an interval. This interval MUST be configurable and MUST default to no less than two hours.</em></p>\n\n<p>As you can see, the default TCP keepalive interval is too long for most applications. You might have to add keepalive in your application protocol.</p>\n"},{"tags":[],"owner":{"account_id":31998,"reputation":8736,"user_id":88252,"accept_rate":47,"display_name":"Jeach"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1478105202,"creation_date":1334697969,"answer_id":10199413,"question_id":1480236,"body_markdown":"Here is some supplemental literature on keepalive which explains it in much finer detail.\r\n\r\n[http://www.tldp.org/HOWTO/html_single/TCP-Keepalive-HOWTO][1]\r\n\r\nSince Java does not allow you to control the actual keepalive times, you can use the examples to change them if you&#39;re using a Linux kernel (or proc based OS).\r\n\r\n  [1]: http://www.tldp.org/HOWTO/html_single/TCP-Keepalive-HOWTO\r\n","title":"Does a TCP socket connection have a &quot;keep alive&quot;?","body":"<p>Here is some supplemental literature on keepalive which explains it in much finer detail.</p>\n\n<p><a href=\"http://www.tldp.org/HOWTO/html_single/TCP-Keepalive-HOWTO\" rel=\"nofollow noreferrer\">http://www.tldp.org/HOWTO/html_single/TCP-Keepalive-HOWTO</a></p>\n\n<p>Since Java does not allow you to control the actual keepalive times, you can use the examples to change them if you're using a Linux kernel (or proc based OS).</p>\n"},{"tags":[],"owner":{"account_id":200610,"reputation":52306,"user_id":446554,"accept_rate":73,"display_name":"Cory Klein"},"down_vote_count":1,"up_vote_count":181,"is_accepted":false,"score":180,"last_activity_date":1668468108,"creation_date":1448490088,"answer_id":33927447,"question_id":1480236,"body_markdown":"&gt; Does a TCP socket connection have a &quot;keep alive&quot;?\r\n\r\nThe short answer is **yes** there is a timeout enforced via _TCP Keep-Alive_, so no the socket won&#39;t remain open forever but will probably time out after a few *hours*.\r\n\r\nIf you would like to configure the Keep-Alive timeout on your machine, see the &quot;Changing TCP Timeouts&quot; section below. Otherwise read through the rest of the answer to learn how TCP Keep-Alive works.\r\n\r\n# Introduction\r\n\r\nTCP connections consist of two sockets, one on each end of the connection. When one side wants to terminate the connection, it sends an `FIN` packet which the other side acknowledges and both close their sockets.\r\n\r\nUntil that happens, however, both sides will keep their socket open indefinitely. This leaves open the possibility that one side may close their socket, either intentionally or due to some error, without informing the other end via `FIN`. In order to detect this scenario and close stale connections the TCP Keep Alive process is used.\r\n\r\n# Keep-Alive Process\r\n\r\nThere are three configurable properties that determine how Keep-Alives work. On Linux they are&lt;sup&gt;1&lt;/sup&gt;:\r\n\r\n* `tcp_keepalive_time`\r\n    * default 7200 seconds\r\n* `tcp_keepalive_probes`\r\n    * default 9\r\n* `tcp_keepalive_intvl`\r\n    * default 75 seconds\r\n\r\nThe process works like this:\r\n\r\n1. Client opens TCP connection\r\n2. If the connection is silent for `tcp_keepalive_time` seconds, send a single empty `ACK` packet.&lt;sup&gt;1&lt;/sup&gt;\r\n3. Did the server respond with a corresponding `ACK` of its own?\r\n    * **No**\r\n        1. Wait `tcp_keepalive_intvl` seconds, then send another `ACK`\r\n        2. Repeat until the number of `ACK` probes that have been sent equals `tcp_keepalive_probes`.\r\n        3. If no response has been received at this point, send a `RST` and terminate the connection.\r\n    * **Yes**: Return to step 2\r\n\r\nThis process is enabled by default on most operating systems, and thus dead TCP connections are regularly pruned once the other end has been unresponsive for 2 hours 11 minutes (7200 seconds + 75 * 9 seconds).\r\n\r\n# Gotchas\r\n\r\n## 2 Hour Default\r\n\r\nSince the process doesn&#39;t start until a connection has been idle for two hours by default, stale TCP connections can linger for a very long time before being pruned. This can be especially harmful for expensive connections such as database connections.\r\n\r\n## Keep-Alive is Optional\r\n\r\nAccording to [RFC 1122 4.2.3.6](http://www.freesoft.org/CIE/RFC/1122/114.htm), responding to and/or relaying TCP Keep-Alive packets *is optional*:\r\n\r\n&gt; Implementors MAY include &quot;keep-alives&quot; in their TCP implementations,\r\n&gt; although this practice is not universally accepted. If keep-alives are\r\n&gt; included, the application MUST be able to turn them on or off for each\r\n&gt; TCP connection, and they MUST default to off.\r\n\r\n&gt; ...\r\n\r\n&gt; It is extremely\r\n&gt; important to remember that ACK segments that contain no data are not\r\n&gt; reliably transmitted by TCP.\r\n\r\nThe reasoning being that Keep-Alive packets contain no data and are not strictly necessary and risk clogging up the tubes of the interwebs if overused.\r\n\r\n*In practice however*, my experience has been that this concern has dwindled over time as bandwidth has become cheaper; and thus Keep-Alive packets are not usually dropped. [Amazon EC2 documentation](http://docs.aws.amazon.com/redshift/latest/mgmt/configure-jdbc-options.html) for instance gives an indirect endorsement of Keep-Alive, so if you&#39;re hosting with AWS you are likely safe relying on Keep-Alive, but your mileage may vary.\r\n\r\n# Changing TCP Timeouts\r\n\r\n## Per Socket\r\n\r\n**2022 Update:** *Apparently, [as of Java 11, you may be able to set these on the Java TCP Socket itself.][1]*\r\n\r\nUnfortunately since TCP connections are managed on the OS level, older versions of Java do not support configuring timeouts on a per-socket level such as in `java.net.Socket`. I have found some attempts&lt;sup&gt;3&lt;/sup&gt; to use Java Native Interface (JNI) to create Java sockets that call native code to configure these options, but none appear to have widespread community adoption or support.\r\n\r\nInstead, you may be forced to apply your configuration to the operating system as a whole. Be aware that this configuration will affect all TCP connections running on the entire system.\r\n\r\n## Linux\r\n\r\nThe currently configured TCP Keep-Alive settings can be found in\r\n\r\n* `/proc/sys/net/ipv4/tcp_keepalive_time`\r\n* `/proc/sys/net/ipv4/tcp_keepalive_probes`\r\n* `/proc/sys/net/ipv4/tcp_keepalive_intvl`\r\n\r\nYou can update any of these like so:\r\n\r\n    # Send first Keep-Alive packet when a TCP socket has been idle for 3 minutes\r\n    $ echo 180 &gt; /proc/sys/net/ipv4/tcp_keepalive_time\r\n    # Send three Keep-Alive probes...\r\n    $ echo 3 &gt; /proc/sys/net/ipv4/tcp_keepalive_probes\r\n    # ... spaced 10 seconds apart.\r\n    $ echo 10 &gt; /proc/sys/net/ipv4/tcp_keepalive_intvl\r\n\r\nSuch changes will not persist through a restart. To make persistent changes, use `sysctl`:\r\n\r\n    sysctl -w net.ipv4.tcp_keepalive_time=180 net.ipv4.tcp_keepalive_probes=3 net.ipv4.tcp_keepalive_intvl=10\r\n\r\n## Mac OS X\r\n\r\nThe currently configured settings can be viewed with `sysctl`:\r\n\r\n    $ sysctl net.inet.tcp | grep -E &quot;keepidle|keepintvl|keepcnt&quot;\r\n    net.inet.tcp.keepidle: 7200000\r\n    net.inet.tcp.keepintvl: 75000\r\n    net.inet.tcp.keepcnt: 8\r\n\r\nOf note, Mac OS X defines `keepidle` and `keepintvl` in units of milliseconds as opposed to Linux which uses seconds.\r\n\r\nThe properties can be set with `sysctl` which will persist these settings across reboots:\r\n\r\n    sysctl -w net.inet.tcp.keepidle=180000 net.inet.tcp.keepcnt=3 net.inet.tcp.keepintvl=10000\r\n\r\nAlternatively, you can add them to `/etc/sysctl.conf` (creating the file if it doesn&#39;t exist).\r\n\r\n    $ cat /etc/sysctl.conf\r\n    net.inet.tcp.keepidle=180000\r\n    net.inet.tcp.keepintvl=10000\r\n    net.inet.tcp.keepcnt=3\r\n\r\n## Windows\r\n\r\nI don&#39;t have a Windows machine to confirm, but you should find the respective TCP Keep-Alive settings in the registry at\r\n\r\n`\\HKEY_LOCAL_MACHINE\\System\\CurrentControlSet\\Services\\TCPIP\\Parameters`\r\n\r\n&lt;sub&gt;*Footnotes*&lt;/sub&gt;\r\n\r\n&lt;sub&gt;1. See `man tcp` for more information.&lt;/sub&gt;\r\n\r\n&lt;sub&gt;2.  This packet is often referred to as a &quot;Keep-Alive&quot; packet, but within the TCP specification it is just a regular `ACK` packet. Applications like Wireshark are able to label it as a &quot;Keep-Alive&quot; packet by meta-analysis of the sequence and acknowledgement numbers it contains in reference to the preceding communications on the socket.&lt;/sub&gt;\r\n\r\n&lt;sub&gt;3. Some examples I found from a basic Google search are [lucwilliams/JavaLinuxNet](https://github.com/lucwillems/JavaLinuxNet) and [flonatel/libdontdie](https://github.com/flonatel/libdontdie).&lt;/sub&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/54067335/446554","title":"Does a TCP socket connection have a &quot;keep alive&quot;?","body":"<blockquote>\n<p>Does a TCP socket connection have a &quot;keep alive&quot;?</p>\n</blockquote>\n<p>The short answer is <strong>yes</strong> there is a timeout enforced via <em>TCP Keep-Alive</em>, so no the socket won't remain open forever but will probably time out after a few <em>hours</em>.</p>\n<p>If you would like to configure the Keep-Alive timeout on your machine, see the &quot;Changing TCP Timeouts&quot; section below. Otherwise read through the rest of the answer to learn how TCP Keep-Alive works.</p>\n<h1>Introduction</h1>\n<p>TCP connections consist of two sockets, one on each end of the connection. When one side wants to terminate the connection, it sends an <code>FIN</code> packet which the other side acknowledges and both close their sockets.</p>\n<p>Until that happens, however, both sides will keep their socket open indefinitely. This leaves open the possibility that one side may close their socket, either intentionally or due to some error, without informing the other end via <code>FIN</code>. In order to detect this scenario and close stale connections the TCP Keep Alive process is used.</p>\n<h1>Keep-Alive Process</h1>\n<p>There are three configurable properties that determine how Keep-Alives work. On Linux they are<sup>1</sup>:</p>\n<ul>\n<li><code>tcp_keepalive_time</code>\n<ul>\n<li>default 7200 seconds</li>\n</ul>\n</li>\n<li><code>tcp_keepalive_probes</code>\n<ul>\n<li>default 9</li>\n</ul>\n</li>\n<li><code>tcp_keepalive_intvl</code>\n<ul>\n<li>default 75 seconds</li>\n</ul>\n</li>\n</ul>\n<p>The process works like this:</p>\n<ol>\n<li>Client opens TCP connection</li>\n<li>If the connection is silent for <code>tcp_keepalive_time</code> seconds, send a single empty <code>ACK</code> packet.<sup>1</sup></li>\n<li>Did the server respond with a corresponding <code>ACK</code> of its own?\n<ul>\n<li><strong>No</strong>\n<ol>\n<li>Wait <code>tcp_keepalive_intvl</code> seconds, then send another <code>ACK</code></li>\n<li>Repeat until the number of <code>ACK</code> probes that have been sent equals <code>tcp_keepalive_probes</code>.</li>\n<li>If no response has been received at this point, send a <code>RST</code> and terminate the connection.</li>\n</ol>\n</li>\n<li><strong>Yes</strong>: Return to step 2</li>\n</ul>\n</li>\n</ol>\n<p>This process is enabled by default on most operating systems, and thus dead TCP connections are regularly pruned once the other end has been unresponsive for 2 hours 11 minutes (7200 seconds + 75 * 9 seconds).</p>\n<h1>Gotchas</h1>\n<h2>2 Hour Default</h2>\n<p>Since the process doesn't start until a connection has been idle for two hours by default, stale TCP connections can linger for a very long time before being pruned. This can be especially harmful for expensive connections such as database connections.</p>\n<h2>Keep-Alive is Optional</h2>\n<p>According to <a href=\"http://www.freesoft.org/CIE/RFC/1122/114.htm\" rel=\"noreferrer\">RFC 1122 4.2.3.6</a>, responding to and/or relaying TCP Keep-Alive packets <em>is optional</em>:</p>\n<blockquote>\n<p>Implementors MAY include &quot;keep-alives&quot; in their TCP implementations,\nalthough this practice is not universally accepted. If keep-alives are\nincluded, the application MUST be able to turn them on or off for each\nTCP connection, and they MUST default to off.</p>\n</blockquote>\n<blockquote>\n<p>...</p>\n</blockquote>\n<blockquote>\n<p>It is extremely\nimportant to remember that ACK segments that contain no data are not\nreliably transmitted by TCP.</p>\n</blockquote>\n<p>The reasoning being that Keep-Alive packets contain no data and are not strictly necessary and risk clogging up the tubes of the interwebs if overused.</p>\n<p><em>In practice however</em>, my experience has been that this concern has dwindled over time as bandwidth has become cheaper; and thus Keep-Alive packets are not usually dropped. <a href=\"http://docs.aws.amazon.com/redshift/latest/mgmt/configure-jdbc-options.html\" rel=\"noreferrer\">Amazon EC2 documentation</a> for instance gives an indirect endorsement of Keep-Alive, so if you're hosting with AWS you are likely safe relying on Keep-Alive, but your mileage may vary.</p>\n<h1>Changing TCP Timeouts</h1>\n<h2>Per Socket</h2>\n<p><strong>2022 Update:</strong> <em>Apparently, <a href=\"https://stackoverflow.com/a/54067335/446554\">as of Java 11, you may be able to set these on the Java TCP Socket itself.</a></em></p>\n<p>Unfortunately since TCP connections are managed on the OS level, older versions of Java do not support configuring timeouts on a per-socket level such as in <code>java.net.Socket</code>. I have found some attempts<sup>3</sup> to use Java Native Interface (JNI) to create Java sockets that call native code to configure these options, but none appear to have widespread community adoption or support.</p>\n<p>Instead, you may be forced to apply your configuration to the operating system as a whole. Be aware that this configuration will affect all TCP connections running on the entire system.</p>\n<h2>Linux</h2>\n<p>The currently configured TCP Keep-Alive settings can be found in</p>\n<ul>\n<li><code>/proc/sys/net/ipv4/tcp_keepalive_time</code></li>\n<li><code>/proc/sys/net/ipv4/tcp_keepalive_probes</code></li>\n<li><code>/proc/sys/net/ipv4/tcp_keepalive_intvl</code></li>\n</ul>\n<p>You can update any of these like so:</p>\n<pre><code># Send first Keep-Alive packet when a TCP socket has been idle for 3 minutes\n$ echo 180 &gt; /proc/sys/net/ipv4/tcp_keepalive_time\n# Send three Keep-Alive probes...\n$ echo 3 &gt; /proc/sys/net/ipv4/tcp_keepalive_probes\n# ... spaced 10 seconds apart.\n$ echo 10 &gt; /proc/sys/net/ipv4/tcp_keepalive_intvl\n</code></pre>\n<p>Such changes will not persist through a restart. To make persistent changes, use <code>sysctl</code>:</p>\n<pre><code>sysctl -w net.ipv4.tcp_keepalive_time=180 net.ipv4.tcp_keepalive_probes=3 net.ipv4.tcp_keepalive_intvl=10\n</code></pre>\n<h2>Mac OS X</h2>\n<p>The currently configured settings can be viewed with <code>sysctl</code>:</p>\n<pre><code>$ sysctl net.inet.tcp | grep -E &quot;keepidle|keepintvl|keepcnt&quot;\nnet.inet.tcp.keepidle: 7200000\nnet.inet.tcp.keepintvl: 75000\nnet.inet.tcp.keepcnt: 8\n</code></pre>\n<p>Of note, Mac OS X defines <code>keepidle</code> and <code>keepintvl</code> in units of milliseconds as opposed to Linux which uses seconds.</p>\n<p>The properties can be set with <code>sysctl</code> which will persist these settings across reboots:</p>\n<pre><code>sysctl -w net.inet.tcp.keepidle=180000 net.inet.tcp.keepcnt=3 net.inet.tcp.keepintvl=10000\n</code></pre>\n<p>Alternatively, you can add them to <code>/etc/sysctl.conf</code> (creating the file if it doesn't exist).</p>\n<pre><code>$ cat /etc/sysctl.conf\nnet.inet.tcp.keepidle=180000\nnet.inet.tcp.keepintvl=10000\nnet.inet.tcp.keepcnt=3\n</code></pre>\n<h2>Windows</h2>\n<p>I don't have a Windows machine to confirm, but you should find the respective TCP Keep-Alive settings in the registry at</p>\n<p><code>\\HKEY_LOCAL_MACHINE\\System\\CurrentControlSet\\Services\\TCPIP\\Parameters</code></p>\n<p><sub><em>Footnotes</em></sub></p>\n<p><sub>1. See <code>man tcp</code> for more information.</sub></p>\n<p><sub>2.  This packet is often referred to as a &quot;Keep-Alive&quot; packet, but within the TCP specification it is just a regular <code>ACK</code> packet. Applications like Wireshark are able to label it as a &quot;Keep-Alive&quot; packet by meta-analysis of the sequence and acknowledgement numbers it contains in reference to the preceding communications on the socket.</sub></p>\n<p><sub>3. Some examples I found from a basic Google search are <a href=\"https://github.com/lucwillems/JavaLinuxNet\" rel=\"noreferrer\">lucwilliams/JavaLinuxNet</a> and <a href=\"https://github.com/flonatel/libdontdie\" rel=\"noreferrer\">flonatel/libdontdie</a>.</sub></p>\n"},{"tags":[],"owner":{"account_id":2662958,"reputation":39,"user_id":2302200,"display_name":"Suganya Vinayakam"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1651816695,"creation_date":1543209929,"answer_id":53475160,"question_id":1480236,"body_markdown":"In JAVA Socket – TCP connections are managed on the OS level, java.net.Socket does not provide any in-built function to set timeouts for keepalive packet on a per-socket level. But we can enable keepalive option for java socket but it takes 2 hours 11 minutes (7200 sec) by default to process after a stale tcp connections. This cause connection will be availabe for very long time before purge. So we found some solution to use Java Native Interface (JNI) that call native code(c++) to configure these options.\r\n\r\n****Windows OS****\r\n\r\nIn windows operating system keepalive_time &amp; keepalive_intvl can be configurable but tcp_keepalive_probes cannot be change.By default, when a TCP socket is initialized sets the keep-alive timeout to 2 hours and the keep-alive interval to 1 second. The default system-wide value of the keep-alive timeout is controllable through the KeepAliveTime registry setting which takes a value in milliseconds.\r\n\r\nOn Windows Vista and later, the number of keep-alive probes (data retransmissions) is set to 10 and cannot be changed.\r\n\r\nOn Windows Server 2003, Windows XP, and Windows 2000, the default setting for number of keep-alive probes is 5. The number of keep-alive probes is controllable. For windows Winsock IOCTLs library is used to configure the tcp-keepalive parameters.\r\n\r\n    int WSAIoctl(\r\n        SocketFD, // descriptor identifying a socket\r\n        SIO_KEEPALIVE_VALS, // dwIoControlCode\r\n        (LPVOID) lpvInBuffer, // pointer to tcp_keepalive struct (DWORD)\r\n        cbInBuffer, // length of input buffer\r\n        NULL, // output buffer\r\n        0, // size of output buffer\r\n        (LPDWORD) lpcbBytesReturned, // number of bytes returned\r\n        NULL, // OVERLAPPED structure\r\n        NULL // completion routine\r\n    );\r\n\r\n**Linux OS**\r\n\r\nLinux has built-in support for keepalive which is need to be enabling TCP/IP networking in order to use it. Programs must request keepalive control for their sockets using the setsockopt interface.\r\n\r\n   int setsockopt(int socket, int level, int optname, const void *optval, socklen_t optlen)\r\n\r\nEach client socket will be created using java.net.Socket. File descriptor ID for each socket will retrieve using java reflection.","title":"Does a TCP socket connection have a &quot;keep alive&quot;?","body":"<p>In JAVA Socket – TCP connections are managed on the OS level, java.net.Socket does not provide any in-built function to set timeouts for keepalive packet on a per-socket level. But we can enable keepalive option for java socket but it takes 2 hours 11 minutes (7200 sec) by default to process after a stale tcp connections. This cause connection will be availabe for very long time before purge. So we found some solution to use Java Native Interface (JNI) that call native code(c++) to configure these options.</p>\n<p><strong><strong>Windows OS</strong></strong></p>\n<p>In windows operating system keepalive_time &amp; keepalive_intvl can be configurable but tcp_keepalive_probes cannot be change.By default, when a TCP socket is initialized sets the keep-alive timeout to 2 hours and the keep-alive interval to 1 second. The default system-wide value of the keep-alive timeout is controllable through the KeepAliveTime registry setting which takes a value in milliseconds.</p>\n<p>On Windows Vista and later, the number of keep-alive probes (data retransmissions) is set to 10 and cannot be changed.</p>\n<p>On Windows Server 2003, Windows XP, and Windows 2000, the default setting for number of keep-alive probes is 5. The number of keep-alive probes is controllable. For windows Winsock IOCTLs library is used to configure the tcp-keepalive parameters.</p>\n<pre><code>int WSAIoctl(\n    SocketFD, // descriptor identifying a socket\n    SIO_KEEPALIVE_VALS, // dwIoControlCode\n    (LPVOID) lpvInBuffer, // pointer to tcp_keepalive struct (DWORD)\n    cbInBuffer, // length of input buffer\n    NULL, // output buffer\n    0, // size of output buffer\n    (LPDWORD) lpcbBytesReturned, // number of bytes returned\n    NULL, // OVERLAPPED structure\n    NULL // completion routine\n);\n</code></pre>\n<p><strong>Linux OS</strong></p>\n<p>Linux has built-in support for keepalive which is need to be enabling TCP/IP networking in order to use it. Programs must request keepalive control for their sockets using the setsockopt interface.</p>\n<p>int setsockopt(int socket, int level, int optname, const void *optval, socklen_t optlen)</p>\n<p>Each client socket will be created using java.net.Socket. File descriptor ID for each socket will retrieve using java reflection.</p>\n"},{"tags":[],"owner":{"account_id":138846,"reputation":161,"user_id":344053,"accept_rate":10,"display_name":"semen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544175186,"creation_date":1544175186,"answer_id":53666719,"question_id":1480236,"body_markdown":"For Windows according to [Microsoft docs][1]\r\n\r\n - KeepAliveTime (REG_DWORD, milliseconds, by default is not set which means 7,200,000,000 \r\n= 2 hours) - analogue to tcp_keepalive_time\r\n - KeepAliveInterval (REG_DWORD, milliseconds, by default is not set which means 1,000 = 1 second) - analogue to tcp_keepalive_intvl\r\n - Since Windows Vista there is no analogue to tcp_keepalive_probes, value is fixed to 10 and cannot be changed\r\n\r\n  [1]: https://learn.microsoft.com/en-us/windows/desktop/winsock/so-keepalive","title":"Does a TCP socket connection have a &quot;keep alive&quot;?","body":"<p>For Windows according to <a href=\"https://learn.microsoft.com/en-us/windows/desktop/winsock/so-keepalive\" rel=\"nofollow noreferrer\">Microsoft docs</a></p>\n\n<ul>\n<li>KeepAliveTime (REG_DWORD, milliseconds, by default is not set which means 7,200,000,000 \n= 2 hours) - analogue to tcp_keepalive_time</li>\n<li>KeepAliveInterval (REG_DWORD, milliseconds, by default is not set which means 1,000 = 1 second) - analogue to tcp_keepalive_intvl</li>\n<li>Since Windows Vista there is no analogue to tcp_keepalive_probes, value is fixed to 10 and cannot be changed</li>\n</ul>\n"}],"owner":{"account_id":47968,"reputation":12181,"user_id":142299,"accept_rate":85,"display_name":"Kevin Boyd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214342,"favorite_count":0,"down_vote_count":0,"up_vote_count":116,"accepted_answer_id":1480246,"answer_count":8,"score":116,"last_activity_date":1668468108,"creation_date":1253930960,"question_id":1480236,"body_markdown":"I have heard of HTTP keep-alive but for now I want to open a socket connection with a remote server.  \r\nNow will this socket connection remain open forever or is there a timeout limit associated with it similar to HTTP keep-alive?\r\n \r\n\r\n\r\n","title":"Does a TCP socket connection have a &quot;keep alive&quot;?","body":"<p>I have heard of HTTP keep-alive but for now I want to open a socket connection with a remote server.<br>\nNow will this socket connection remain open forever or is there a timeout limit associated with it similar to HTTP keep-alive?</p>\n"},{"tags":["java","ssh","server","terminal","jsch"],"answers":[{"tags":[],"owner":{"account_id":20889441,"reputation":131,"user_id":15345198,"display_name":"Olivia22"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668468078,"creation_date":1668465353,"answer_id":74438636,"question_id":74438038,"body_markdown":"I found the solution: add the option -q to nc cat: \r\n\r\n`channel.setCommand(&quot;nc -q 1 127.0.0.1 8008 &lt;&lt;&lt; &quot; + request);`. \r\n\r\nIt will end the connection after 1 seconds once it reaches EOF. So my request  takes 4 seconds it will properly close after 4 + 1 second after. if its 10 seconds, its going to be 10 + 1. and so on.","title":"JSCH Channel doesnt disconnect after command execution","body":"<p>I found the solution: add the option -q to nc cat:</p>\n<p><code>channel.setCommand(&quot;nc -q 1 127.0.0.1 8008 &lt;&lt;&lt; &quot; + request);</code>.</p>\n<p>It will end the connection after 1 seconds once it reaches EOF. So my request  takes 4 seconds it will properly close after 4 + 1 second after. if its 10 seconds, its going to be 10 + 1. and so on.</p>\n"}],"owner":{"account_id":20889441,"reputation":131,"user_id":15345198,"display_name":"Olivia22"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668468078,"creation_date":1668461301,"question_id":74438038,"body_markdown":"I have to put a timeout 6 before my request to the server otherwise it gets stuck in the while loop. I lose valuable seconds there because 6 is an arbitrary number of seconds and Im doing around 200 request to the server through JSCH.\r\n\r\nI executed the request `nc 127.0.0.1 8008 &lt;&lt;&lt; &#39;(47.6861,-70.3343) (48.2191,-68.9323) 100000&#39;` in the terminal (connected through ssh) and it seemed to stand by after I got the return value so I have to CTRL-C to return to cancel that command. \r\n\r\nOne option that comes to my mind is to do the request with another command other than `nc` but I cant find another. thanks\r\n\r\n```\r\npublic String doRequest(String request) throws JSchException, InterruptedException {\r\n        channel = (ChannelExec) session.openChannel(&quot;exec&quot;);\r\n        String responseString;\r\n        channel.setCommand(&quot;nc 127.0.0.1 8008 &lt;&lt;&lt; &quot; + &quot;&#39;&quot; + request + &quot;&#39;&quot;);\r\n        //channel.setCommand(&quot;timeout 6 nc 127.0.0.1 8008 &lt;&lt;&lt; &quot; + &quot;&#39;&quot; + request + &quot;&#39;&quot;);\r\n        ByteArrayOutputStream responseStream = new ByteArrayOutputStream();\r\n        channel.setOutputStream(responseStream);\r\n        channel.connect();\r\n  \r\n        while (channel.isConnected()) {\r\n            Thread.sleep(100);\r\n        }\r\n        responseString = responseStream.toString();\r\n        return responseString;\r\n    }\r\n```","title":"JSCH Channel doesnt disconnect after command execution","body":"<p>I have to put a timeout 6 before my request to the server otherwise it gets stuck in the while loop. I lose valuable seconds there because 6 is an arbitrary number of seconds and Im doing around 200 request to the server through JSCH.</p>\n<p>I executed the request <code>nc 127.0.0.1 8008 &lt;&lt;&lt; '(47.6861,-70.3343) (48.2191,-68.9323) 100000'</code> in the terminal (connected through ssh) and it seemed to stand by after I got the return value so I have to CTRL-C to return to cancel that command.</p>\n<p>One option that comes to my mind is to do the request with another command other than <code>nc</code> but I cant find another. thanks</p>\n<pre><code>public String doRequest(String request) throws JSchException, InterruptedException {\n        channel = (ChannelExec) session.openChannel(&quot;exec&quot;);\n        String responseString;\n        channel.setCommand(&quot;nc 127.0.0.1 8008 &lt;&lt;&lt; &quot; + &quot;'&quot; + request + &quot;'&quot;);\n        //channel.setCommand(&quot;timeout 6 nc 127.0.0.1 8008 &lt;&lt;&lt; &quot; + &quot;'&quot; + request + &quot;'&quot;);\n        ByteArrayOutputStream responseStream = new ByteArrayOutputStream();\n        channel.setOutputStream(responseStream);\n        channel.connect();\n  \n        while (channel.isConnected()) {\n            Thread.sleep(100);\n        }\n        responseString = responseStream.toString();\n        return responseString;\n    }\n</code></pre>\n"},{"tags":["java","azure","jsp","spring-security"],"answers":[{"tags":[],"owner":{"account_id":12488260,"reputation":9978,"user_id":9090751,"display_name":"Mafor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668467239,"creation_date":1668467239,"answer_id":74438890,"question_id":74436334,"body_markdown":"Spring diferentiates between roles and permissions by prefix, which is `ROLE_` by default. Everything not starting with the prefix is not considered to be, well, a role. For that reason the `isUserInRole` method adds the prefix to its argument if it&#39;s not present there yet: [SecurityContextHolderAwareRequestWrapper.java#L136]( https://github.com/spring-projects/spring-security/blob/ce065a87da971b9ab0d0a8734b1591d6a9584f0b/web/src/main/java/org/springframework/security/web/servletapi/SecurityContextHolderAwareRequestWrapper.java#L136). On the other hand, `hasAuthority` does not do it.\r\n\r\nDepending on your actual usecase, you have several options:\r\n   \r\n1. Reconfiguring or removing the prefix used by Spring Security. See https://stackoverflow.com/questions/38134121/how-do-i-remove-the-role-prefix-from-spring-security-with-javaconfig\r\n2. Using `hasAuthority` instead of `isUserInRole` in your JSP:\r\n```\r\n&lt;sec:authorize access=&quot;hasAuthority(&#39;APPROLE_Admin&#39;)&quot;&gt;\r\n ...\r\n&lt;/sec:authorize&gt;\r\n```\r\n3. Writing your own method to manually check authorities retrieved from [SecurityContextHolder.getContext()](https://docs.spring.io/spring-security/site/docs/3.0.x/apidocs/org/springframework/security/core/context/SecurityContextHolder.html#getContext())","title":"request.isUserInRole for Azure-defined app roles","body":"<p>Spring diferentiates between roles and permissions by prefix, which is <code>ROLE_</code> by default. Everything not starting with the prefix is not considered to be, well, a role. For that reason the <code>isUserInRole</code> method adds the prefix to its argument if it's not present there yet: <a href=\"https://github.com/spring-projects/spring-security/blob/ce065a87da971b9ab0d0a8734b1591d6a9584f0b/web/src/main/java/org/springframework/security/web/servletapi/SecurityContextHolderAwareRequestWrapper.java#L136\" rel=\"nofollow noreferrer\">SecurityContextHolderAwareRequestWrapper.java#L136</a>. On the other hand, <code>hasAuthority</code> does not do it.</p>\n<p>Depending on your actual usecase, you have several options:</p>\n<ol>\n<li>Reconfiguring or removing the prefix used by Spring Security. See <a href=\"https://stackoverflow.com/questions/38134121/how-do-i-remove-the-role-prefix-from-spring-security-with-javaconfig\">How do I remove the ROLE_ prefix from Spring Security with JavaConfig?</a></li>\n<li>Using <code>hasAuthority</code> instead of <code>isUserInRole</code> in your JSP:</li>\n</ol>\n<pre><code>&lt;sec:authorize access=&quot;hasAuthority('APPROLE_Admin')&quot;&gt;\n ...\n&lt;/sec:authorize&gt;\n</code></pre>\n<ol start=\"3\">\n<li>Writing your own method to manually check authorities retrieved from <a href=\"https://docs.spring.io/spring-security/site/docs/3.0.x/apidocs/org/springframework/security/core/context/SecurityContextHolder.html#getContext()\" rel=\"nofollow noreferrer\">SecurityContextHolder.getContext()</a></li>\n</ol>\n"}],"owner":{"account_id":16208446,"reputation":63,"user_id":11864638,"display_name":"Bruno Genovese"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74438890,"answer_count":1,"score":0,"last_activity_date":1668467239,"creation_date":1668450983,"question_id":74436334,"body_markdown":"If I login through Azure 2-step authentication I can protect a Java/Spring method using an &quot;Admin&quot; role defined in the Azure Application configuration with:\r\n\r\n    @PreAuthorize(&quot;hasAuthority(&#39;APPROLE_Admin&#39;)&quot;)\r\n\r\nIf I use Spring Security and traditional Active Directory authentication and a group that maps to ROLE_Admin I can use the following to get a true/false to determine if the logged in user is in the role:\r\n\r\n    request.isUserInRole(&quot;ROLE_Admin&quot;)\r\n\r\nBut the same for Azure application roles always returns false, even when it should be true:\r\n\r\n    request.isUserInRole(&quot;APPROLE_Admin&quot;)\r\n\r\n\r\nQUESTION:\r\n\r\nIs there a way to call isUserInRole() for Azure application roles?  Or perhaps an alternative approach that can be used in JSPs to determine if the logged in user is in a particular Azure application role?\r\n\r\n\r\nREASON\r\n\r\nI would like to use it in combination with JSP/JSTL to hide elements of the page that are only relevant if you are an Admin.  This used to work great with traditional AD authentication but it is driving me insane now that I use Azure two-step authentication.","title":"request.isUserInRole for Azure-defined app roles","body":"<p>If I login through Azure 2-step authentication I can protect a Java/Spring method using an &quot;Admin&quot; role defined in the Azure Application configuration with:</p>\n<pre><code>@PreAuthorize(&quot;hasAuthority('APPROLE_Admin')&quot;)\n</code></pre>\n<p>If I use Spring Security and traditional Active Directory authentication and a group that maps to ROLE_Admin I can use the following to get a true/false to determine if the logged in user is in the role:</p>\n<pre><code>request.isUserInRole(&quot;ROLE_Admin&quot;)\n</code></pre>\n<p>But the same for Azure application roles always returns false, even when it should be true:</p>\n<pre><code>request.isUserInRole(&quot;APPROLE_Admin&quot;)\n</code></pre>\n<p>QUESTION:</p>\n<p>Is there a way to call isUserInRole() for Azure application roles?  Or perhaps an alternative approach that can be used in JSPs to determine if the logged in user is in a particular Azure application role?</p>\n<p>REASON</p>\n<p>I would like to use it in combination with JSP/JSTL to hide elements of the page that are only relevant if you are an Admin.  This used to work great with traditional AD authentication but it is driving me insane now that I use Azure two-step authentication.</p>\n"},{"tags":["java","drools","mvel"],"answers":[{"tags":[],"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668467209,"creation_date":1668467209,"answer_id":74438885,"question_id":74427764,"body_markdown":"`contains` and `memberOf` are for a single value and a list. Which you use depends on which you have in the object in working memory, and which you&#39;re defining in the rule.\r\n\r\nExamples:\r\n\r\n&quot;contains&quot;:\r\n```\r\nClassMates( names contains &quot;Jim&quot; )\r\n```\r\n\r\n&quot;memberOf&quot;:\r\n```\r\nPerson( $name: name )\r\nClassmates( $name memberOf names )\r\n```\r\n\r\n---\r\n\r\nSo for your example, you&#39;d likely do:\r\n\r\n```\r\nTest(contactNumbers contains &quot;12345&quot;,\r\n     contactNumbers contains &quot;67890&quot; )\r\n```\r\n\r\nThis would trigger if the Test instance has a contactNumbers field that includes &quot;12345&quot; _and_ &quot;67890&quot;. contactNumbers could contain other values as well. If there are two Test instances, and one contains &quot;12345&quot; and the other contains &quot;67890&quot;, this rule will not fire.\r\n\r\nYou can test that contactNumbers contains _only_ the values you&#39;re testing for using an `accumulate` and a length check:\r\n\r\n```\r\n$t: Test( $numbers: contactNumbers )\r\nSet( size == $numbers.size() ) from accumulate(\r\n  $n: String(this in (&quot;12345&quot;, &quot;67890&quot;)) from $numbers,\r\n  collectSet($n)\r\n)\r\n```\r\n\r\nI used a `Set` to exclude duplicates. Older Drools you can do a similar with &#39;collect&#39;.\r\n\r\n----\r\n\r\nI&#39;ve matched your syntax here using `Test(...)`. Note that the current docs recommend the &quot;oopath&quot; style of `/tests [contactNumbers contains &quot;12345&quot;, contactNumbers contains &quot;6789&quot;]` ... other than the harder-to-read syntax it should be functionally the same.","title":"how to do custom comparison operations in drools rule file?","body":"<p><code>contains</code> and <code>memberOf</code> are for a single value and a list. Which you use depends on which you have in the object in working memory, and which you're defining in the rule.</p>\n<p>Examples:</p>\n<p>&quot;contains&quot;:</p>\n<pre><code>ClassMates( names contains &quot;Jim&quot; )\n</code></pre>\n<p>&quot;memberOf&quot;:</p>\n<pre><code>Person( $name: name )\nClassmates( $name memberOf names )\n</code></pre>\n<hr />\n<p>So for your example, you'd likely do:</p>\n<pre><code>Test(contactNumbers contains &quot;12345&quot;,\n     contactNumbers contains &quot;67890&quot; )\n</code></pre>\n<p>This would trigger if the Test instance has a contactNumbers field that includes &quot;12345&quot; <em>and</em> &quot;67890&quot;. contactNumbers could contain other values as well. If there are two Test instances, and one contains &quot;12345&quot; and the other contains &quot;67890&quot;, this rule will not fire.</p>\n<p>You can test that contactNumbers contains <em>only</em> the values you're testing for using an <code>accumulate</code> and a length check:</p>\n<pre><code>$t: Test( $numbers: contactNumbers )\nSet( size == $numbers.size() ) from accumulate(\n  $n: String(this in (&quot;12345&quot;, &quot;67890&quot;)) from $numbers,\n  collectSet($n)\n)\n</code></pre>\n<p>I used a <code>Set</code> to exclude duplicates. Older Drools you can do a similar with 'collect'.</p>\n<hr />\n<p>I've matched your syntax here using <code>Test(...)</code>. Note that the current docs recommend the &quot;oopath&quot; style of <code>/tests [contactNumbers contains &quot;12345&quot;, contactNumbers contains &quot;6789&quot;]</code> ... other than the harder-to-read syntax it should be functionally the same.</p>\n"}],"owner":{"account_id":4397192,"reputation":5374,"user_id":3583824,"accept_rate":75,"display_name":"axnet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74438885,"answer_count":1,"score":0,"last_activity_date":1668467209,"creation_date":1668408177,"question_id":74427764,"body_markdown":"Note: drools version used is 8.29.0\r\n\r\nI want to perform a set based operations in drl file using mvel.\r\n\r\nfor e.g. drl file for simple rule match\r\n\r\n---------------------------------------\r\n    // Test Fact Class\r\n    package com.abc;\r\n    @Data\r\n    @AllArgsConstructor\r\n    public class Test {\r\n        private String name;\r\n        private List&lt;String&gt; contactNumbers;\r\n    }\r\n\r\n---------------------------------------    \r\n    // drl rules file\r\n    import com.abc.Test;\r\n    \r\n    rule &quot;name-rule&quot;\r\n      when\r\n        t : Test( name == &quot;abc&quot; );\r\n      then\r\n        System.out.print(&quot;abc found&quot;);\r\n    end;\r\n    \r\n    \r\n    \r\n    // not working\r\n    rule &quot;M1 rule-data matches fact&quot;\r\n      when\r\n        p : Test( [&quot;1234&quot;, &quot;5678&quot;] contains contactNumbers );\r\n      then\r\n        System.out.print(&quot;M1 rule-data matches fact FOUND&quot;);\r\n    end;\r\n    \r\n    // not working\r\n    rule &quot;M2 fact matches rule-data&quot;\r\n      when\r\n        p : Test( contactNumbers contains  [&quot;1234&quot;, &quot;5678&quot;] );\r\n      then\r\n        System.out.print(&quot;M2 fact matches rule-data FOUND&quot;);\r\n    end;\r\n\r\n---------------------------------------\r\n    // main method snippet\r\n    // creating Fact objects\r\n    String[] s1 = {&quot;1234&quot;, &quot;5678&quot;, &quot;2222&quot;};\r\n    Test t1 = new Test(&quot;abc&quot;, Arrays.asList(&quot;1111&quot;));\r\n    Test t2 = new Test(&quot;xyz&quot;, Arrays.asList(s1));\r\n\r\n    \r\n    // inserting facts to check against rules\r\n    // kieContainer is created using above mentioned drl file\r\n    KieSession kieSession = kieContainer.newKieSession();\r\n    kieSession.insert(t1);\r\n    kieSession.insert(t2);\r\n    kieSession.fireAllRules();\r\n    kieSession.dispose();\r\n\r\n\r\n\r\nWhen I execute above, I only get to match rule 1, which outputs &quot;abc found&quot;.\r\n\r\nQuestion:\r\n1. How can I achieve many to many match in drl file.\r\n   &lt;br&gt;Ans : one way i figured is below.   \r\n\r\n    Test( contactNumbers contains &quot;1234&quot; &amp;&amp; contactNumbers contains &quot;5678&quot; );\r\n\r\n   &lt;br&gt;if any other better way than above, please let me know.\r\n\r\n2. How can I achieve or implement the custom comparisons in MVEL?\r\n&lt;br&gt;i.e. If any 2 items of the facts matches the list present in rule etc., or any custom filtering on collections.\r\n&lt;br&gt; any example of such implementation would be really useful.\r\n","title":"how to do custom comparison operations in drools rule file?","body":"<p>Note: drools version used is 8.29.0</p>\n<p>I want to perform a set based operations in drl file using mvel.</p>\n<p>for e.g. drl file for simple rule match</p>\n<hr />\n<pre><code>// Test Fact Class\npackage com.abc;\n@Data\n@AllArgsConstructor\npublic class Test {\n    private String name;\n    private List&lt;String&gt; contactNumbers;\n}\n</code></pre>\n<hr />\n<pre><code>// drl rules file\nimport com.abc.Test;\n\nrule &quot;name-rule&quot;\n  when\n    t : Test( name == &quot;abc&quot; );\n  then\n    System.out.print(&quot;abc found&quot;);\nend;\n\n\n\n// not working\nrule &quot;M1 rule-data matches fact&quot;\n  when\n    p : Test( [&quot;1234&quot;, &quot;5678&quot;] contains contactNumbers );\n  then\n    System.out.print(&quot;M1 rule-data matches fact FOUND&quot;);\nend;\n\n// not working\nrule &quot;M2 fact matches rule-data&quot;\n  when\n    p : Test( contactNumbers contains  [&quot;1234&quot;, &quot;5678&quot;] );\n  then\n    System.out.print(&quot;M2 fact matches rule-data FOUND&quot;);\nend;\n</code></pre>\n<hr />\n<pre><code>// main method snippet\n// creating Fact objects\nString[] s1 = {&quot;1234&quot;, &quot;5678&quot;, &quot;2222&quot;};\nTest t1 = new Test(&quot;abc&quot;, Arrays.asList(&quot;1111&quot;));\nTest t2 = new Test(&quot;xyz&quot;, Arrays.asList(s1));\n\n\n// inserting facts to check against rules\n// kieContainer is created using above mentioned drl file\nKieSession kieSession = kieContainer.newKieSession();\nkieSession.insert(t1);\nkieSession.insert(t2);\nkieSession.fireAllRules();\nkieSession.dispose();\n</code></pre>\n<p>When I execute above, I only get to match rule 1, which outputs &quot;abc found&quot;.</p>\n<p>Question:</p>\n<ol>\n<li><p>How can I achieve many to many match in drl file.\n<br>Ans : one way i figured is below.</p>\n<p>Test( contactNumbers contains &quot;1234&quot; &amp;&amp; contactNumbers contains &quot;5678&quot; );</p>\n<p><br>if any other better way than above, please let me know.</p>\n</li>\n<li><p>How can I achieve or implement the custom comparisons in MVEL?\n<br>i.e. If any 2 items of the facts matches the list present in rule etc., or any custom filtering on collections.\n<br> any example of such implementation would be really useful.</p>\n</li>\n</ol>\n"},{"tags":["java","gradle","junit5","gradlew"],"answers":[{"tags":[],"owner":{"account_id":2700750,"reputation":688,"user_id":2331527,"display_name":"floating cat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618918680,"creation_date":1618918680,"answer_id":67178159,"question_id":66586272,"body_markdown":"That `STANDARD_ERROR` is current JUnit 5 behavior: https://github.com/junit-team/junit5/issues/1774\r\n\r\nYou could try the workaround here with below `*.properties` example: https://github.com/junit-team/junit5/issues/1774#issuecomment-463662553\r\n\r\n```\r\nhandlers=java.util.logging.ConsoleHandler\r\n.level=INFO\r\n\r\norg.junit.platform.launcher.core.EngineDiscoveryOrchestrator.level=WARNING\r\n```\r\n","title":"Running a single JUnit5 test on gradle exits with STANDARD_ERROR","body":"<p>That <code>STANDARD_ERROR</code> is current JUnit 5 behavior: <a href=\"https://github.com/junit-team/junit5/issues/1774\" rel=\"nofollow noreferrer\">https://github.com/junit-team/junit5/issues/1774</a></p>\n<p>You could try the workaround here with below <code>*.properties</code> example: <a href=\"https://github.com/junit-team/junit5/issues/1774#issuecomment-463662553\" rel=\"nofollow noreferrer\">https://github.com/junit-team/junit5/issues/1774#issuecomment-463662553</a></p>\n<pre><code>handlers=java.util.logging.ConsoleHandler\n.level=INFO\n\norg.junit.platform.launcher.core.EngineDiscoveryOrchestrator.level=WARNING\n</code></pre>\n"}],"owner":{"account_id":7597837,"reputation":63,"user_id":6341337,"display_name":"YashSeeta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9071,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1668467080,"creation_date":1615479104,"question_id":66586272,"body_markdown":"The test being run shows passed, but the Gradle Test Executor shows a STANDARD_ERROR.\r\n\r\n    &gt;&gt;./gradlew --stop                                                                                                     \r\n    Stopping Daemon(s)\r\n    1 Daemon stopped\r\n    &gt;&gt;./gradlew test --tests com.tudu.task.TaskListTests.tasksAddedSequentiallyWithDescendingDueDateAreSortedByAscendingDueDate\r\n    Starting a Gradle Daemon, 8 stopped Daemons could not be reused, use --status for details\r\n\r\n    &gt; Task :test\r\n\r\n    Gradle Test Executor 1 STANDARD_ERROR\r\n    Mar 11, 2021 4:53:00 PM org.junit.platform.launcher.core.EngineDiscoveryOrchestrator lambda$logTestDescriptorExclusionReasons$7\r\n    INFO: 0 containers and 1 tests were Method or class mismatch\r\n\r\n    TaskListTests &gt; tasks added sequentially with descending due date are sorted by ascending due date PASSED\r\n\r\nThis error does not occur when I run the complete test file.\r\n\r\n    &gt;&gt;./gradlew test --tests com.tudu.task.TaskListTests                                                                       \r\n\r\n    &gt; Task :test\r\n\r\n    TaskListTests &gt; tasks added sequentially with descending due date are sorted by ascending due date PASSED\r\n\r\n    TaskListTests &gt; tasks added sequentially with random due date are sorted by ascending due date PASSED\r\n\r\nWhat does &quot;Method or class mismatch&quot; mean? What is causing the STANDARD_ERROR? ","title":"Running a single JUnit5 test on gradle exits with STANDARD_ERROR","body":"<p>The test being run shows passed, but the Gradle Test Executor shows a STANDARD_ERROR.</p>\n<pre><code>&gt;&gt;./gradlew --stop                                                                                                     \nStopping Daemon(s)\n1 Daemon stopped\n&gt;&gt;./gradlew test --tests com.tudu.task.TaskListTests.tasksAddedSequentiallyWithDescendingDueDateAreSortedByAscendingDueDate\nStarting a Gradle Daemon, 8 stopped Daemons could not be reused, use --status for details\n\n&gt; Task :test\n\nGradle Test Executor 1 STANDARD_ERROR\nMar 11, 2021 4:53:00 PM org.junit.platform.launcher.core.EngineDiscoveryOrchestrator lambda$logTestDescriptorExclusionReasons$7\nINFO: 0 containers and 1 tests were Method or class mismatch\n\nTaskListTests &gt; tasks added sequentially with descending due date are sorted by ascending due date PASSED\n</code></pre>\n<p>This error does not occur when I run the complete test file.</p>\n<pre><code>&gt;&gt;./gradlew test --tests com.tudu.task.TaskListTests                                                                       \n\n&gt; Task :test\n\nTaskListTests &gt; tasks added sequentially with descending due date are sorted by ascending due date PASSED\n\nTaskListTests &gt; tasks added sequentially with random due date are sorted by ascending due date PASSED\n</code></pre>\n<p>What does &quot;Method or class mismatch&quot; mean? What is causing the STANDARD_ERROR?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":0,"creation_date":1668465779,"post_id":74438416,"comment_id":131407437,"body_markdown":"First off, don&#39;t use double for currency. You could multiply by 100 and use cents instead","body":"First off, don&#39;t use double for currency. You could multiply by 100 and use cents instead"}],"answers":[{"tags":[],"owner":{"account_id":26914061,"reputation":114,"user_id":20489149,"display_name":"synapticloop"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668465928,"creation_date":1668465928,"answer_id":74438720,"question_id":74438416,"body_markdown":"When you are subtracting from a double - the internal representation is not exact - running your code and printing out the amount every time you subtract yields the following:\r\n\r\n```\r\n0.41\r\n0.15999999999999998\r\n0.05999999999999997\r\n0.009999999999999967\r\n```\r\n\r\nAs you can see the binary representation of the double is not exact...\r\n\r\ntry convert to an int (i.e. multiply by 100) then do the calculations\r\n\r\n```\r\npublic class CashMain {\r\n\r\n\tpublic static void main(String[] args){\r\n\t\tScanner scanner_obj = new Scanner(System.in);\r\n\r\n\t\tSystem.out.print(&quot;Enter Amount: $&quot;);\r\n\t\tdouble amount = Double.parseDouble(scanner_obj.nextLine());\r\n\t\tSystem.out.println(amount);\r\n\t\tint numCents = (int) (amount*100);\r\n\t\tSystem.out.println(numCents);\r\n\t\t\r\n\t\tint[] change = calc_Change(numCents);\r\n\r\n\t\tSystem.out.println(change[0] + &quot; Quarters&quot;);\r\n\t\tSystem.out.println(change[1] + &quot; Dimes&quot;);\r\n\t\tSystem.out.println(change[2] + &quot; Nickels&quot;);\r\n\t\tSystem.out.println(change[3] + &quot; Pennies&quot;);\r\n\r\n\t\tSystem.out.println(check_Change(numCents, change));\r\n\t}\r\n\r\n\tpublic static int[] calc_Change(int amount){\r\n\t\tint[] change = {0, 0, 0, 0};\r\n\r\n\t\twhile (amount &gt;= 25){\r\n\t\t\tamount -= 25; \r\n\t\t\tchange[0] += 1;\r\n\t\t}\r\n\t\twhile (amount &gt;= 10){\r\n\t\t\tamount -= 10; \r\n\t\t\tchange[1] += 1;\r\n\t\t}\r\n\t\twhile (amount &gt;= 5){\r\n\t\t\tamount -= 5; \r\n\t\t\tchange[2] += 1;\r\n\t\t}\r\n\t\twhile (amount &gt;= 1){\r\n\t\t\tamount -= 1; \r\n\t\t\tchange[3] += 1;\r\n\t\t}\r\n\r\n\t\treturn change;\r\n\t}\r\n\r\n\tpublic static boolean check_Change(int amount, int[] change){\r\n\t\tint total = change[0]*25 + change[1]*10 + change[2]*5 + change[3]*1;\r\n\t\tSystem.out.println(amount + &quot; vs &quot; + total);\r\n\r\n\t\treturn (amount == total);\r\n\t}\r\n}\r\n```\r\n\r\noutput\r\n\r\n```\r\nEnter Amount: $0.41\r\n0.41\r\n41\r\n1 Quarters\r\n1 Dimes\r\n1 Nickels\r\n1 Pennies\r\n41 vs 41\r\ntrue\r\n```","title":"Cash to Change in Java","body":"<p>When you are subtracting from a double - the internal representation is not exact - running your code and printing out the amount every time you subtract yields the following:</p>\n<pre><code>0.41\n0.15999999999999998\n0.05999999999999997\n0.009999999999999967\n</code></pre>\n<p>As you can see the binary representation of the double is not exact...</p>\n<p>try convert to an int (i.e. multiply by 100) then do the calculations</p>\n<pre><code>public class CashMain {\n\n    public static void main(String[] args){\n        Scanner scanner_obj = new Scanner(System.in);\n\n        System.out.print(&quot;Enter Amount: $&quot;);\n        double amount = Double.parseDouble(scanner_obj.nextLine());\n        System.out.println(amount);\n        int numCents = (int) (amount*100);\n        System.out.println(numCents);\n        \n        int[] change = calc_Change(numCents);\n\n        System.out.println(change[0] + &quot; Quarters&quot;);\n        System.out.println(change[1] + &quot; Dimes&quot;);\n        System.out.println(change[2] + &quot; Nickels&quot;);\n        System.out.println(change[3] + &quot; Pennies&quot;);\n\n        System.out.println(check_Change(numCents, change));\n    }\n\n    public static int[] calc_Change(int amount){\n        int[] change = {0, 0, 0, 0};\n\n        while (amount &gt;= 25){\n            amount -= 25; \n            change[0] += 1;\n        }\n        while (amount &gt;= 10){\n            amount -= 10; \n            change[1] += 1;\n        }\n        while (amount &gt;= 5){\n            amount -= 5; \n            change[2] += 1;\n        }\n        while (amount &gt;= 1){\n            amount -= 1; \n            change[3] += 1;\n        }\n\n        return change;\n    }\n\n    public static boolean check_Change(int amount, int[] change){\n        int total = change[0]*25 + change[1]*10 + change[2]*5 + change[3]*1;\n        System.out.println(amount + &quot; vs &quot; + total);\n\n        return (amount == total);\n    }\n}\n</code></pre>\n<p>output</p>\n<pre><code>Enter Amount: $0.41\n0.41\n41\n1 Quarters\n1 Dimes\n1 Nickels\n1 Pennies\n41 vs 41\ntrue\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6928708,"reputation":182,"user_id":5318914,"display_name":"sic-sic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668466885,"creation_date":1668466885,"answer_id":74438844,"question_id":74438416,"body_markdown":"You can use BigDecimal for precision in your arithmetic operations.\r\n\r\n        \r\n    public class Cash {\r\n        public static void main(String[] args){\r\n            Scanner scanner_obj = new Scanner(System.in);\r\n    \r\n            System.out.print(&quot;Enter Amount: $&quot;);\r\n            BigDecimal amount = new BigDecimal(scanner_obj.nextLine());\r\n            double[] change = calc_Change(amount);\r\n    \r\n            System.out.println(change[0] + &quot; Quarters&quot;);\r\n            System.out.println(change[1] + &quot; Dimes&quot;);\r\n            System.out.println(change[2] + &quot; Nickels&quot;);\r\n            System.out.println(change[3] + &quot; Pennies&quot;);\r\n    \r\n            System.out.println(check_Change(amount, change));\r\n        }\r\n    \r\n        public static double[] calc_Change(BigDecimal amount){\r\n            double[] change = {0, 0, 0, 0};\r\n    \r\n            while (amount.doubleValue() &gt;= 0.25){\r\n                amount = amount.subtract(new BigDecimal(&quot;0.25&quot;)); change[0]+=1;\r\n            }\r\n            while (amount.doubleValue() &gt;= 0.10){\r\n                amount = amount.subtract(new BigDecimal(&quot;0.10&quot;)); change[1] += 1;\r\n            }\r\n            while (amount.doubleValue() &gt;= 0.05){\r\n                amount = amount.subtract(new BigDecimal(&quot;0.05&quot;)); change[2] += 1;\r\n            }\r\n            while (amount.doubleValue() &gt;= 0.01){\r\n                amount = amount.subtract(new BigDecimal(&quot;0.01&quot;)); change[3] += 1;\r\n            }\r\n    \r\n            return change;\r\n        }\r\n    \r\n        public static boolean check_Change(BigDecimal amount, double[] change){\r\n            double v1 = change[0] * 0.25;\r\n            double v2 = change[1] * 0.10;\r\n            double v3 = change[2] * 0.05;\r\n            double v4 = change[3] * 0.01;\r\n            double total = v1 + v2 + v3 + v4;\r\n            System.out.println(amount + &quot; vs &quot; + total);\r\n    \r\n            return (amount.doubleValue() == total);\r\n        }\r\n    }\r\n\r\n\r\n","title":"Cash to Change in Java","body":"<p>You can use BigDecimal for precision in your arithmetic operations.</p>\n<pre><code>public class Cash {\n    public static void main(String[] args){\n        Scanner scanner_obj = new Scanner(System.in);\n\n        System.out.print(&quot;Enter Amount: $&quot;);\n        BigDecimal amount = new BigDecimal(scanner_obj.nextLine());\n        double[] change = calc_Change(amount);\n\n        System.out.println(change[0] + &quot; Quarters&quot;);\n        System.out.println(change[1] + &quot; Dimes&quot;);\n        System.out.println(change[2] + &quot; Nickels&quot;);\n        System.out.println(change[3] + &quot; Pennies&quot;);\n\n        System.out.println(check_Change(amount, change));\n    }\n\n    public static double[] calc_Change(BigDecimal amount){\n        double[] change = {0, 0, 0, 0};\n\n        while (amount.doubleValue() &gt;= 0.25){\n            amount = amount.subtract(new BigDecimal(&quot;0.25&quot;)); change[0]+=1;\n        }\n        while (amount.doubleValue() &gt;= 0.10){\n            amount = amount.subtract(new BigDecimal(&quot;0.10&quot;)); change[1] += 1;\n        }\n        while (amount.doubleValue() &gt;= 0.05){\n            amount = amount.subtract(new BigDecimal(&quot;0.05&quot;)); change[2] += 1;\n        }\n        while (amount.doubleValue() &gt;= 0.01){\n            amount = amount.subtract(new BigDecimal(&quot;0.01&quot;)); change[3] += 1;\n        }\n\n        return change;\n    }\n\n    public static boolean check_Change(BigDecimal amount, double[] change){\n        double v1 = change[0] * 0.25;\n        double v2 = change[1] * 0.10;\n        double v3 = change[2] * 0.05;\n        double v4 = change[3] * 0.01;\n        double total = v1 + v2 + v3 + v4;\n        System.out.println(amount + &quot; vs &quot; + total);\n\n        return (amount.doubleValue() == total);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26932496,"reputation":5,"user_id":20504678,"display_name":"Artyom Yesayan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74438720,"answer_count":2,"score":0,"last_activity_date":1668466885,"creation_date":1668463673,"question_id":74438416,"body_markdown":"I am new to Java and was trying to write code that would tell you how much change you would receive for a given amount of money (in minimum number of coins). For example **$0.31** would give **1 quarters, 0 dimes, 1 nickels, 1 pennies**.\r\n\r\nI got to a point where my code seemed to work. However, while most values work, specifically any multiple of 0.41 doesn&#39;t work (ex. 0.41, 0.82 ...). For example **$0.41** results in **1 quarters,\r\n1 dimes, 1 nickels, 0 pennies**, which only adds up to $0.40.\r\n\r\nHere is my code:\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Cash {\r\n    public static void main(String[] args){\r\n        Scanner scanner_obj = new Scanner(System.in);\r\n\r\n        System.out.print(&quot;Enter Amount: $&quot;);\r\n        double amount = Double.parseDouble(scanner_obj.nextLine());\r\n        double[] change = calc_Change(amount);\r\n\r\n        System.out.println(change[0] + &quot; Quarters&quot;);\r\n        System.out.println(change[1] + &quot; Dimes&quot;);\r\n        System.out.println(change[2] + &quot; Nickels&quot;);\r\n        System.out.println(change[3] + &quot; Pennies&quot;);\r\n\r\n        System.out.println(check_Change(amount, change));\r\n    }\r\n\r\n    public static double[] calc_Change(double amount){\r\n        double[] change = {0, 0, 0, 0};\r\n\r\n        while (amount &gt;= 0.25){amount -= 0.25; change[0] += 1;}\r\n        while (amount &gt;= 0.10){amount -= 0.10; change[1] += 1;}\r\n        while (amount &gt;= 0.05){amount -= 0.05; change[2] += 1;}\r\n        while (amount &gt;= 0.01){amount -= 0.01; change[3] += 1;}\r\n\r\n        return change;\r\n    }\r\n\r\n    public static boolean check_Change(double amount, double[] change){\r\n        double total = change[0]*0.25 + change[1]*0.10 + change[2]*0.05 + change[3]*0.01;\r\n        System.out.println(amount + &quot; vs &quot; + total);\r\n\r\n        return (amount == total);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI was using the check_Change function to check my results.\r\n\r\n\r\nI don&#39;t know why this doesn&#39;t work and why it is only certain numbers.","title":"Cash to Change in Java","body":"<p>I am new to Java and was trying to write code that would tell you how much change you would receive for a given amount of money (in minimum number of coins). For example <strong>$0.31</strong> would give <strong>1 quarters, 0 dimes, 1 nickels, 1 pennies</strong>.</p>\n<p>I got to a point where my code seemed to work. However, while most values work, specifically any multiple of 0.41 doesn't work (ex. 0.41, 0.82 ...). For example <strong>$0.41</strong> results in <strong>1 quarters,\n1 dimes, 1 nickels, 0 pennies</strong>, which only adds up to $0.40.</p>\n<p>Here is my code:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Cash {\n    public static void main(String[] args){\n        Scanner scanner_obj = new Scanner(System.in);\n\n        System.out.print(&quot;Enter Amount: $&quot;);\n        double amount = Double.parseDouble(scanner_obj.nextLine());\n        double[] change = calc_Change(amount);\n\n        System.out.println(change[0] + &quot; Quarters&quot;);\n        System.out.println(change[1] + &quot; Dimes&quot;);\n        System.out.println(change[2] + &quot; Nickels&quot;);\n        System.out.println(change[3] + &quot; Pennies&quot;);\n\n        System.out.println(check_Change(amount, change));\n    }\n\n    public static double[] calc_Change(double amount){\n        double[] change = {0, 0, 0, 0};\n\n        while (amount &gt;= 0.25){amount -= 0.25; change[0] += 1;}\n        while (amount &gt;= 0.10){amount -= 0.10; change[1] += 1;}\n        while (amount &gt;= 0.05){amount -= 0.05; change[2] += 1;}\n        while (amount &gt;= 0.01){amount -= 0.01; change[3] += 1;}\n\n        return change;\n    }\n\n    public static boolean check_Change(double amount, double[] change){\n        double total = change[0]*0.25 + change[1]*0.10 + change[2]*0.05 + change[3]*0.01;\n        System.out.println(amount + &quot; vs &quot; + total);\n\n        return (amount == total);\n    }\n}\n\n</code></pre>\n<p>I was using the check_Change function to check my results.</p>\n<p>I don't know why this doesn't work and why it is only certain numbers.</p>\n"},{"tags":["java","ssl","x509certificate","digital-signature"],"comments":[{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":0,"creation_date":1363090189,"post_id":15355031,"comment_id":21701932,"body_markdown":"Have you checked all the certificates in the chain (in particular, the CA certs)?","body":"Have you checked all the certificates in the chain (in particular, the CA certs)?"},{"owner":{"account_id":1677260,"reputation":197,"user_id":2159502,"accept_rate":25,"display_name":"chaplean"},"score":0,"creation_date":1363091982,"post_id":15355031,"comment_id":21703042,"body_markdown":"Yes, in fact I use keystore and truststore from my old server which runs JRE6 and there is no problem on it, but the new one with JRE7 throws above exception.","body":"Yes, in fact I use keystore and truststore from my old server which runs JRE6 and there is no problem on it, but the new one with JRE7 throws above exception."},{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":0,"creation_date":1363092072,"post_id":15355031,"comment_id":21703105,"body_markdown":"Do you get anything more precise when using `-Djavax.net.debug=all`?","body":"Do you get anything more precise when using <code>-Djavax.net.debug=all</code>?"},{"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"score":0,"creation_date":1363094803,"post_id":15355031,"comment_id":21705035,"body_markdown":"What version of Java 7 did you use exactly?","body":"What version of Java 7 did you use exactly?"},{"owner":{"account_id":1677260,"reputation":197,"user_id":2159502,"accept_rate":25,"display_name":"chaplean"},"score":0,"creation_date":1363097345,"post_id":15355031,"comment_id":21706789,"body_markdown":"Sorry, the question was a bit wrong, edited the footer.","body":"Sorry, the question was a bit wrong, edited the footer."},{"owner":{"account_id":1677260,"reputation":197,"user_id":2159502,"accept_rate":25,"display_name":"chaplean"},"score":0,"creation_date":1363097592,"post_id":15355031,"comment_id":21706959,"body_markdown":"java version &quot;1.7.0&quot;\nJava(TM) SE Runtime Environment (build 1.7.0-b147)\nJava HotSpot(TM) 64-Bit Server VM (build 21.0-b17, mixed mode)","body":"java version &quot;1.7.0&quot; Java(TM) SE Runtime Environment (build 1.7.0-b147) Java HotSpot(TM) 64-Bit Server VM (build 21.0-b17, mixed mode)"},{"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"score":0,"creation_date":1363099297,"post_id":15355031,"comment_id":21708217,"body_markdown":"I would suggest trying with a more recent version of Java 7 to rule out the possibility of a bug in an earlier version.","body":"I would suggest trying with a more recent version of Java 7 to rule out the possibility of a bug in an earlier version."},{"owner":{"account_id":1677260,"reputation":197,"user_id":2159502,"accept_rate":25,"display_name":"chaplean"},"score":0,"creation_date":1363103569,"post_id":15355031,"comment_id":21711148,"body_markdown":"Just tried to run it with java 6 and it works fine on the new server. What can be the reason for this? Maybe because of the keystore/truststore generated with previous keytool version?","body":"Just tried to run it with java 6 and it works fine on the new server. What can be the reason for this? Maybe because of the keystore/truststore generated with previous keytool version?"},{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":0,"creation_date":1363104903,"post_id":15355031,"comment_id":21712095,"body_markdown":"Are you running it all with the same client certificate and keystore? Can you see any more details with `-Djavax.net.debug=all`? Is it possible that the key usage refers to something to do with your CA certificate and your CRL distribution point `http://test.az:7447/Test%20CA.crl`?","body":"Are you running it all with the same client certificate and keystore? Can you see any more details with <code>-Djavax.net.debug=all</code>? Is it possible that the key usage refers to something to do with your CA certificate and your CRL distribution point <code>http:&#47;&#47;test.az:7447&#47;Test%20CA.crl</code>?"},{"owner":{"account_id":2983071,"reputation":5017,"user_id":2532621,"display_name":"ash"},"score":0,"creation_date":1386623682,"post_id":15355031,"comment_id":30608702,"body_markdown":"Could the issue be with the server certificate instead of the client certificate?","body":"Could the issue be with the server certificate instead of the client certificate?"}],"answers":[{"tags":[],"owner":{"account_id":1413371,"reputation":485,"user_id":1339541,"display_name":"Chris D"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1387404252,"creation_date":1387404252,"answer_id":20669385,"question_id":15355031,"body_markdown":"The error actually comes from verifying the server&#39;s certificate.  That certificate has a key usage section that doesn&#39;t include a digitalSignature bit.\r\n\r\nSome cipher suites require the digital signature bit, specifically Diffie-Hellman key exchange (DHE_RSA and ECDHE_RSA).  You may be able to avoid this error by avoiding those cipher types.  Otherwise the server certificate needs to support it.","title":"KeyUsage does not allow digital signatures","body":"<p>The error actually comes from verifying the server's certificate.  That certificate has a key usage section that doesn't include a digitalSignature bit.</p>\n\n<p>Some cipher suites require the digital signature bit, specifically Diffie-Hellman key exchange (DHE_RSA and ECDHE_RSA).  You may be able to avoid this error by avoiding those cipher types.  Otherwise the server certificate needs to support it.</p>\n"},{"tags":[],"owner":{"account_id":4112705,"reputation":8237,"user_id":3482533,"accept_rate":84,"display_name":"Naramsim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612186612,"creation_date":1612178948,"answer_id":65991928,"question_id":15355031,"body_markdown":"this error happened also to me and while the answer of @Chris D is correct I thought about giving you a way to overcome this issue.\r\n\r\nWe are in a situation where our Java application has to talk with a server through HTTPS. If we are able to tune this server&#39;s TLS we can solve the issue.\r\n\r\nBasically we need to disable all the ciphers based on Diffie Hellman on the HTTPS server. You need to exclude all ciphers which contain `DH`. \r\n\r\nIn case of Haproxy I used these directives:\r\n\r\n```haproxy\r\nglobal\r\n    ssl-default-bind-ciphers AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:DES-CBC3-SHA\r\n    ssl-default-bind-ciphersuites TLS_AES_128_GCM_SHA256:TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256\r\n```\r\n\r\nIn case of a Java HTTPS server I&#39;ve set this env var:\r\n\r\n```env\r\nSERVER_SSL_CIPHERS=TLS_RSA_WITH_AES_128_GCM_SHA256:TLS_RSA_WITH_AES_256_GCM_SHA384:TLS_RSA_WITH_AES_128_CBC_SHA256:TLS_RSA_WITH_AES_256_CBC_SHA256:TLS_RSA_WITH_AES_128_CBC_SHA:TLS_RSA_WITH_AES_256_CBC_SHA:TLS_RSA_WITH_3DES_EDE_CBC_SHA\r\n```\r\n\r\nwhich will then be translated to the Java property [server.ssl.ciphers](https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html#server.ssl.ciphers)\r\n\r\n---\r\n\r\nIf you want to force some ciphers on the client-side, this SO question might be what you&#39;re looking for https://stackoverflow.com/questions/52779312/java-how-can-i-disable-a-tls-cipher-for-only-some-protocols-using-jvm-config/52814980","title":"KeyUsage does not allow digital signatures","body":"<p>this error happened also to me and while the answer of @Chris D is correct I thought about giving you a way to overcome this issue.</p>\n<p>We are in a situation where our Java application has to talk with a server through HTTPS. If we are able to tune this server's TLS we can solve the issue.</p>\n<p>Basically we need to disable all the ciphers based on Diffie Hellman on the HTTPS server. You need to exclude all ciphers which contain <code>DH</code>.</p>\n<p>In case of Haproxy I used these directives:</p>\n<pre><code>global\n    ssl-default-bind-ciphers AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:DES-CBC3-SHA\n    ssl-default-bind-ciphersuites TLS_AES_128_GCM_SHA256:TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256\n</code></pre>\n<p>In case of a Java HTTPS server I've set this env var:</p>\n<pre><code>SERVER_SSL_CIPHERS=TLS_RSA_WITH_AES_128_GCM_SHA256:TLS_RSA_WITH_AES_256_GCM_SHA384:TLS_RSA_WITH_AES_128_CBC_SHA256:TLS_RSA_WITH_AES_256_CBC_SHA256:TLS_RSA_WITH_AES_128_CBC_SHA:TLS_RSA_WITH_AES_256_CBC_SHA:TLS_RSA_WITH_3DES_EDE_CBC_SHA\n</code></pre>\n<p>which will then be translated to the Java property <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html#server.ssl.ciphers\" rel=\"nofollow noreferrer\">server.ssl.ciphers</a></p>\n<hr />\n<p>If you want to force some ciphers on the client-side, this SO question might be what you're looking for <a href=\"https://stackoverflow.com/questions/52779312/java-how-can-i-disable-a-tls-cipher-for-only-some-protocols-using-jvm-config/52814980\">Java - How can I disable a TLS cipher for only some protocols using JVM Config?</a></p>\n"},{"tags":[],"owner":{"account_id":1601824,"reputation":383,"user_id":1482710,"accept_rate":60,"display_name":"martinnemec3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668466066,"creation_date":1668466066,"answer_id":74438743,"question_id":15355031,"body_markdown":"Confirming that this behavior is still the same for the latest JRE version (19).\r\n\r\nThere seems to be another way how to avoid the problem (beside the one mentioned by Chris D). It looks like when a [trust anchor][1] is present inside the truststore java does not trigger the checks responsible for throwing the described exception and blindly trust to the server&#39;s certificate.\r\n\r\nThe related code can be saw here:\r\nhttps://github.com/openjdk/jdk/blob/4cec141a90bc5d3b8ec17c024291d9c74a112cd4/src/java.base/share/classes/sun/security/validator/Validator.java#L259\r\n\r\nThis means importing the server&#39;s certificate directly into the java&#39;s truststore resolves the issue.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Trust_anchor","title":"KeyUsage does not allow digital signatures","body":"<p>Confirming that this behavior is still the same for the latest JRE version (19).</p>\n<p>There seems to be another way how to avoid the problem (beside the one mentioned by Chris D). It looks like when a <a href=\"https://en.wikipedia.org/wiki/Trust_anchor\" rel=\"nofollow noreferrer\">trust anchor</a> is present inside the truststore java does not trigger the checks responsible for throwing the described exception and blindly trust to the server's certificate.</p>\n<p>The related code can be saw here:\n<a href=\"https://github.com/openjdk/jdk/blob/4cec141a90bc5d3b8ec17c024291d9c74a112cd4/src/java.base/share/classes/sun/security/validator/Validator.java#L259\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/4cec141a90bc5d3b8ec17c024291d9c74a112cd4/src/java.base/share/classes/sun/security/validator/Validator.java#L259</a></p>\n<p>This means importing the server's certificate directly into the java's truststore resolves the issue.</p>\n"}],"owner":{"account_id":1677260,"reputation":197,"user_id":2159502,"accept_rate":25,"display_name":"chaplean"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17773,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":20669385,"answer_count":3,"score":8,"last_activity_date":1668466066,"creation_date":1363070928,"question_id":15355031,"body_markdown":"I&#39;m trying to send HTTPS request from my Java EE program to the host that requires certificate authentication. I have a proper keystore file, truststore with imported CA, the listing of both shows that certificates are inside.\r\n\r\nBut I receive the following error:\r\n\r\n    javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: KeyUsage does not allow digital signatures\r\n    \tat ...\r\n    \r\n    ...\r\n\r\n    Caused by: sun.security.validator.ValidatorException: KeyUsage does not allow digital signatures\r\n    \tat sun.security.validator.EndEntityChecker.checkTLSServer(EndEntityChecker.java:270)\r\n    \tat sun.security.validator.EndEntityChecker.check(EndEntityChecker.java:141)\r\n    \tat sun.security.validator.Validator.validate(Validator.java:264)\r\n    \tat sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:326)\r\n    \tat sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:231)\r\n    \tat     sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:126)\r\n\tat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1319)\r\n\t... 29 more\r\n\r\nViewing the certificate contents in the part of Extensions I see the following:\r\n\r\n\r\n    Extensions:\r\n    \r\n    #1: ObjectId: 2.5.29.14 Criticality=false\r\n    SubjectKeyIdentifier [\r\n    KeyIdentifier [\r\n    0000: 33 87 72 1D 09 2F DF FF   1A A7 D1 C0 E1 CF C5 FA  3.r../..........\r\n    0010: A4 19 54 2E                                        ..T.\r\n    ]\r\n    ]\r\n    \r\n    #2: ObjectId: 2.16.840.1.113730.1.1 Criticality=false\r\n    NetscapeCertType [\r\n       SSL client\r\n    ]\r\n\r\n    #3: ObjectId: 2.5.29.35 Criticality=false\r\n    AuthorityKeyIdentifier [\r\n    KeyIdentifier [\r\n    0000: 74 9F 43 07 CC 75 FA D3   D0 13 0F 65 36 CC 4A 9A  t.C..u.....e6.J.\r\n    0010: E0 8E 9C 52                                        ...R\r\n    ]\r\n    ]\r\n\r\n    #4: ObjectId: 2.5.29.31 Criticality=false\r\n    CRLDistributionPoints [\r\n      [DistributionPoint:\r\n         [URIName: http://test.az:7447/Test%20CA.crl]\r\n    ]]\r\n\r\n    #5: ObjectId: 2.5.29.15 Criticality=true\r\n    KeyUsage [\r\n      DigitalSignature\r\n    ]\r\n\r\nSo my certificate does contain **KeyUsage [ DigitalSignature ]**\r\n\r\nThe code snippet of the place throwing the exception looks like the following:\r\n\r\n    private final static int KU_SIGNATURE = 0;\r\n    \r\n    ...\r\n    \r\n    private void checkTLSServer(X509Certificate cert, String parameter)\r\n            throws CertificateException {\r\n        Set&lt;String&gt; exts = getCriticalExtensions(cert);\r\n\r\n        ...\r\n\r\n        } else if (KU_SERVER_SIGNATURE.contains(parameter)) {\r\n            if (checkKeyUsage(cert, KU_SIGNATURE) == false) {\r\n                throw new ValidatorException\r\n                        (&quot;KeyUsage does not allow digital signatures&quot;,\r\n                        ValidatorException.T_EE_EXTENSIONS, cert);\r\n            }\r\n        }\r\n\r\n        ...\r\n    }\r\n\r\n\r\nand **checkKeyUsage** function:\r\n\r\n\r\n    private boolean checkKeyUsage(X509Certificate cert, int bit)\r\n            throws CertificateException {\r\n        boolean[] keyUsage = cert.getKeyUsage();\r\n        if (keyUsage == null) {\r\n            return true;\r\n        }\r\n        return (keyUsage.length &gt; bit) &amp;&amp; keyUsage[bit];\r\n    }\r\n\r\nit fails in **return (keyUsage.length &gt; bit) &amp;&amp; keyUsage[bit];**\r\n\r\nThe question is why the result of above expression = false? When bit = 0 and cert.getKeyUsage() must return an array of boolean [true, false, false, false, false, false, false, false, false]","title":"KeyUsage does not allow digital signatures","body":"<p>I'm trying to send HTTPS request from my Java EE program to the host that requires certificate authentication. I have a proper keystore file, truststore with imported CA, the listing of both shows that certificates are inside.</p>\n\n<p>But I receive the following error:</p>\n\n<pre><code>javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: KeyUsage does not allow digital signatures\n    at ...\n\n...\n\nCaused by: sun.security.validator.ValidatorException: KeyUsage does not allow digital signatures\n    at sun.security.validator.EndEntityChecker.checkTLSServer(EndEntityChecker.java:270)\n    at sun.security.validator.EndEntityChecker.check(EndEntityChecker.java:141)\n    at sun.security.validator.Validator.validate(Validator.java:264)\n    at sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:326)\n    at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:231)\n    at     sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:126)\nat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1319)\n... 29 more\n</code></pre>\n\n<p>Viewing the certificate contents in the part of Extensions I see the following:</p>\n\n<pre><code>Extensions:\n\n#1: ObjectId: 2.5.29.14 Criticality=false\nSubjectKeyIdentifier [\nKeyIdentifier [\n0000: 33 87 72 1D 09 2F DF FF   1A A7 D1 C0 E1 CF C5 FA  3.r../..........\n0010: A4 19 54 2E                                        ..T.\n]\n]\n\n#2: ObjectId: 2.16.840.1.113730.1.1 Criticality=false\nNetscapeCertType [\n   SSL client\n]\n\n#3: ObjectId: 2.5.29.35 Criticality=false\nAuthorityKeyIdentifier [\nKeyIdentifier [\n0000: 74 9F 43 07 CC 75 FA D3   D0 13 0F 65 36 CC 4A 9A  t.C..u.....e6.J.\n0010: E0 8E 9C 52                                        ...R\n]\n]\n\n#4: ObjectId: 2.5.29.31 Criticality=false\nCRLDistributionPoints [\n  [DistributionPoint:\n     [URIName: http://test.az:7447/Test%20CA.crl]\n]]\n\n#5: ObjectId: 2.5.29.15 Criticality=true\nKeyUsage [\n  DigitalSignature\n]\n</code></pre>\n\n<p>So my certificate does contain <strong>KeyUsage [ DigitalSignature ]</strong></p>\n\n<p>The code snippet of the place throwing the exception looks like the following:</p>\n\n<pre><code>private final static int KU_SIGNATURE = 0;\n\n...\n\nprivate void checkTLSServer(X509Certificate cert, String parameter)\n        throws CertificateException {\n    Set&lt;String&gt; exts = getCriticalExtensions(cert);\n\n    ...\n\n    } else if (KU_SERVER_SIGNATURE.contains(parameter)) {\n        if (checkKeyUsage(cert, KU_SIGNATURE) == false) {\n            throw new ValidatorException\n                    (\"KeyUsage does not allow digital signatures\",\n                    ValidatorException.T_EE_EXTENSIONS, cert);\n        }\n    }\n\n    ...\n}\n</code></pre>\n\n<p>and <strong>checkKeyUsage</strong> function:</p>\n\n<pre><code>private boolean checkKeyUsage(X509Certificate cert, int bit)\n        throws CertificateException {\n    boolean[] keyUsage = cert.getKeyUsage();\n    if (keyUsage == null) {\n        return true;\n    }\n    return (keyUsage.length &gt; bit) &amp;&amp; keyUsage[bit];\n}\n</code></pre>\n\n<p>it fails in <strong>return (keyUsage.length > bit) &amp;&amp; keyUsage[bit];</strong></p>\n\n<p>The question is why the result of above expression = false? When bit = 0 and cert.getKeyUsage() must return an array of boolean [true, false, false, false, false, false, false, false, false]</p>\n"},{"tags":["java","spring-boot","hikaricp","testcontainers"],"comments":[{"owner":{"account_id":1967946,"reputation":121,"user_id":1767676,"display_name":"Karmakulov Kirill"},"score":0,"creation_date":1608523954,"post_id":59372048,"comment_id":115601225,"body_markdown":"did you find an answer eventually?","body":"did you find an answer eventually?"},{"owner":{"account_id":3994817,"reputation":262,"user_id":3292651,"accept_rate":75,"display_name":"davide"},"score":0,"creation_date":1608541497,"post_id":59372048,"comment_id":115605712,"body_markdown":"No I didn&#39;t? ☹️","body":"No I didn&#39;t? ☹️"}],"answers":[{"tags":[],"owner":{"account_id":9533663,"reputation":131,"user_id":7084481,"display_name":"Marcin Zięba"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1611914752,"creation_date":1611914752,"answer_id":65952397,"question_id":59372048,"body_markdown":"I had the exact same problem: test passed if I run it individually, but failed when I run it together with other tests. \r\n\r\nI found that SpringBootTest is reusing Spring context between tests so there is a common Hikari Pool between tests. But in the background testcontainers killed (after the previous test) a container and created a new one (before the next test).  SpringBootTest is not aware of that change resulting in a new Postgres container so Hikari Pool is the same as in the previous test (pointing to already used and currently unavailable port)\r\n\r\nIn my case adding `@DirtiesContext` annotation to test helped.","title":"testcontainers, hikari and Failed to validate connection org.postgresql.jdbc.PgConnection","body":"<p>I had the exact same problem: test passed if I run it individually, but failed when I run it together with other tests.</p>\n<p>I found that SpringBootTest is reusing Spring context between tests so there is a common Hikari Pool between tests. But in the background testcontainers killed (after the previous test) a container and created a new one (before the next test).  SpringBootTest is not aware of that change resulting in a new Postgres container so Hikari Pool is the same as in the previous test (pointing to already used and currently unavailable port)</p>\n<p>In my case adding <code>@DirtiesContext</code> annotation to test helped.</p>\n"},{"tags":[],"owner":{"account_id":346385,"reputation":5794,"user_id":679879,"accept_rate":90,"display_name":"Mustafa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633521287,"creation_date":1633521287,"answer_id":69465246,"question_id":59372048,"body_markdown":"I had the same issue in the question and found that setting the hikari connection timeout of the integration tests helps avoid the delay.\r\n\r\n```yaml\r\nspring:\r\n  datasource:\r\n    hikari:\r\n      connection-timeout: 250\r\n```","title":"testcontainers, hikari and Failed to validate connection org.postgresql.jdbc.PgConnection","body":"<p>I had the same issue in the question and found that setting the hikari connection timeout of the integration tests helps avoid the delay.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  datasource:\n    hikari:\n      connection-timeout: 250\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23408289,"reputation":1,"user_id":17470354,"display_name":"Bob_Tang"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637494692,"creation_date":1637494692,"answer_id":70054166,"question_id":59372048,"body_markdown":"Try other pool\r\n\r\n1: Tomcat-jdbc(https://github.com/apache/tomcat/tree/main/modules/jdbc-pool)\r\n\r\n2:  Druid(https://github.com/alibaba/druid)\r\n\r\n3:  BeeCP(https://github.com/Chris2018998/BeeCP), which faster than HikariCP","title":"testcontainers, hikari and Failed to validate connection org.postgresql.jdbc.PgConnection","body":"<p>Try other pool</p>\n<p>1: Tomcat-jdbc(<a href=\"https://github.com/apache/tomcat/tree/main/modules/jdbc-pool\" rel=\"nofollow noreferrer\">https://github.com/apache/tomcat/tree/main/modules/jdbc-pool</a>)</p>\n<p>2:  Druid(<a href=\"https://github.com/alibaba/druid\" rel=\"nofollow noreferrer\">https://github.com/alibaba/druid</a>)</p>\n<p>3:  BeeCP(<a href=\"https://github.com/Chris2018998/BeeCP\" rel=\"nofollow noreferrer\">https://github.com/Chris2018998/BeeCP</a>), which faster than HikariCP</p>\n"}],"owner":{"account_id":3994817,"reputation":262,"user_id":3292651,"accept_rate":75,"display_name":"davide"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4109,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":3,"score":17,"last_activity_date":1668465515,"creation_date":1576577933,"question_id":59372048,"body_markdown":"I have a spring boot app. I&#39;m testing it with testcontainers to ensure that the DB (postgres) and the Repository implementation do what they are supposed to do.\r\n\r\nI initialise the container with the following and works pretty well.\r\n\r\n```java\r\n    @Container\r\n    @SuppressWarnings(&quot;rawtypes&quot;)\r\n    private static final PostgreSQLContainer POSTGRE_SQL = new PostgreSQLContainer(&quot;postgres:9.6&quot;)\r\n        .withDatabaseName(&quot;xxx&quot;)\r\n        .withUsername(&quot;xxx&quot;)\r\n        .withPassword(&quot;xxx&quot;);\r\n\r\n    static class Initialiser implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n        @Override\r\n        public void initialize(ConfigurableApplicationContext applicationContext) {\r\n            TestPropertyValues.of(\r\n                &quot;spring.datasource.url=&quot; + POSTGRE_SQL.getJdbcUrl(),\r\n                &quot;spring.datasource.username=&quot; + POSTGRE_SQL.getUsername(),\r\n                &quot;spring.jpa.hibernate.ddl-auto=create-drop&quot;\r\n            ).applyTo(applicationContext.getEnvironment());\r\n        }\r\n    }\r\n```\r\n\r\nThe problem is that while the tests are successful, at the end of the class, when the container gets shutdown I get the following error messages from hikari\r\n\r\n```\r\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@4d728138 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\r\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@43070a2e (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\r\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@1aa53837 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\r\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@3d7cffa2 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\r\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@634e7d8e (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\r\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@18634db3 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\r\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@2bb4ba08 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\r\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@71efd133 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\r\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@61dd608d (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\r\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@6351b7d0 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\r\n```\r\n\r\nThey are not making my test failing and i suspect it happens because the container, and therefore the db, is no longer there and hikari still tries to keep the connection pool alive. so the test to complete takes several seconds while hikari officially complain of failing connection.\r\n\r\nI tried playing with, settings hikari properties in the `Initialiser` like `&quot;spring.datasource.hikari.maxLifetime=1&quot;` and `&quot;spring.datasource.hikari.idleTimeout=1&quot;` without any luck.\r\n\r\nAny suggestions?\r\n\r\nThank you","title":"testcontainers, hikari and Failed to validate connection org.postgresql.jdbc.PgConnection","body":"<p>I have a spring boot app. I'm testing it with testcontainers to ensure that the DB (postgres) and the Repository implementation do what they are supposed to do.</p>\n\n<p>I initialise the container with the following and works pretty well.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @Container\n    @SuppressWarnings(\"rawtypes\")\n    private static final PostgreSQLContainer POSTGRE_SQL = new PostgreSQLContainer(\"postgres:9.6\")\n        .withDatabaseName(\"xxx\")\n        .withUsername(\"xxx\")\n        .withPassword(\"xxx\");\n\n    static class Initialiser implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n        @Override\n        public void initialize(ConfigurableApplicationContext applicationContext) {\n            TestPropertyValues.of(\n                \"spring.datasource.url=\" + POSTGRE_SQL.getJdbcUrl(),\n                \"spring.datasource.username=\" + POSTGRE_SQL.getUsername(),\n                \"spring.jpa.hibernate.ddl-auto=create-drop\"\n            ).applyTo(applicationContext.getEnvironment());\n        }\n    }\n</code></pre>\n\n<p>The problem is that while the tests are successful, at the end of the class, when the container gets shutdown I get the following error messages from hikari</p>\n\n<pre><code>[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@4d728138 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@43070a2e (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@1aa53837 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@3d7cffa2 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@634e7d8e (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@18634db3 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@2bb4ba08 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@71efd133 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@61dd608d (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\n[31mWARN [0;39m [36mcom.zaxxer.hikari.pool.PoolBase.isConnectionAlive[0;39m - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@6351b7d0 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\n</code></pre>\n\n<p>They are not making my test failing and i suspect it happens because the container, and therefore the db, is no longer there and hikari still tries to keep the connection pool alive. so the test to complete takes several seconds while hikari officially complain of failing connection.</p>\n\n<p>I tried playing with, settings hikari properties in the <code>Initialiser</code> like <code>\"spring.datasource.hikari.maxLifetime=1\"</code> and <code>\"spring.datasource.hikari.idleTimeout=1\"</code> without any luck.</p>\n\n<p>Any suggestions?</p>\n\n<p>Thank you</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1668464939,"post_id":74438524,"comment_id":131407206,"body_markdown":"`A` is reused for each iteration, so each iteration overwrites the previous values in `A`. `setM` does not copy `A`.","body":"<code>A</code> is reused for each iteration, so each iteration overwrites the previous values in <code>A</code>. <code>setM</code> does not copy <code>A</code>."}],"answers":[{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668465347,"creation_date":1668465347,"answer_id":74438635,"question_id":74438524,"body_markdown":"Here:\r\n\r\n    int[][] A=panel.CreaMatriz();\r\n\r\n\r\n`A` is a reference to an array of array (a matrix). \r\n\r\nEvery time you add it to `setM()` you add the **same** reference. So,  you might be thinking you&#39;re adding different arrays, but you&#39;re actually adding the same array and modifying the same array.\r\n\r\nYou need to create a new array each time, probably something like this:\r\n\r\n    A = new int[x][y]; // or get it from panel.CreaMatriz();\r\n    Matrices m=new Matrices();\r\n    m.setM(A);\r\n    matrices.add(m);\r\n\r\nNote: By the way, the code convention is to name your variables and method in lowercase, so the following is preferred. \r\n\r\n    private int m[][];\r\n\r\n    ....\r\n\r\n    int[][] a = panel.creaMatriz();","title":"Java add objects to ArrayList of objects in a for loop","body":"<p>Here:</p>\n<pre><code>int[][] A=panel.CreaMatriz();\n</code></pre>\n<p><code>A</code> is a reference to an array of array (a matrix).</p>\n<p>Every time you add it to <code>setM()</code> you add the <strong>same</strong> reference. So,  you might be thinking you're adding different arrays, but you're actually adding the same array and modifying the same array.</p>\n<p>You need to create a new array each time, probably something like this:</p>\n<pre><code>A = new int[x][y]; // or get it from panel.CreaMatriz();\nMatrices m=new Matrices();\nm.setM(A);\nmatrices.add(m);\n</code></pre>\n<p>Note: By the way, the code convention is to name your variables and method in lowercase, so the following is preferred.</p>\n<pre><code>private int m[][];\n\n....\n\nint[][] a = panel.creaMatriz();\n</code></pre>\n"}],"owner":{"account_id":26895594,"reputation":1,"user_id":20473569,"display_name":"FenixDynamoYT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668465347,"creation_date":1668464487,"question_id":74438524,"body_markdown":"What I want to do is store arrays in an ArrayList of Objects of type Array int A\\[\\]\\[\\]\r\n\r\nMy class Matrices:\r\n\r\n```\r\npublic class Matrices {\r\n    private int M[][];\r\n    \r\n    public int[][] getM() {\r\n        return M;\r\n    }\r\n\r\n    public void setM(int[][] M) {\r\n        this.M = M;\r\n    }\r\n}\r\n```\r\n\r\nMy main code where I create an ArrayList of the Matrices class, I load an array that was already loaded in int\\[\\]\\[\\]A, in each iteration k I create an object m of type Matrices and save the changes in each iteration k in an ArrayList of Matrices in Matrices.add(m), later I show what I want to obtain and what the code returns.\r\n\r\n```\r\nArrayList&lt;Matrices&gt; matrices=new ArrayList&lt;&gt;();\r\n//Crea matriz\r\nint[][] A=panel.CreaMatriz();\r\n//Fin Crea matriz\r\n//Inicio Floyd \r\nfor (int k = 0; k &lt; nodos.size(); k++) {\r\n    //agrega la matriz al ArrayList\r\n    Matrices m=new Matrices();\r\n    m.setM(A);\r\n    matrices.add(m);//ERROR ONLY THE LAST OF ITERATION K IS SAVED\r\n    //area.setText(panel.EscribeMatrices(matrices.get(k).getM()));\r\n    //Fin agrega la matriz al ArrayList\r\n    for (int i = 0; i &lt; nodos.size(); i++) {\r\n        for (int j = 0; j &lt; nodos.size(); j++) {\r\n            if (A[i][k]+A[k][j]&lt;A[i][j]){\r\n                A[i][j]=A[i][k]+A[k][j];   \r\n            }\r\n        }\r\n     }\r\n}\r\n```\r\n\r\nI what I expect is.\r\n\r\n```\r\n 0    3    1     ∞  \r\n  ∞   0     ∞    ∞  \r\n  ∞   4    0    1   \r\n 3     ∞    ∞   0   \r\n\r\n 0    3    1     ∞  \r\n  ∞   0     ∞    ∞  \r\n  ∞   4    0    1   \r\n 3    6    4    0   \r\n\r\n 0    3    1     ∞  \r\n  ∞   0     ∞    ∞  \r\n  ∞   4    0    1   \r\n 3    6    4    0   \r\n\r\n 0    3    1    2   \r\n  ∞   0     ∞    ∞  \r\n  ∞   4    0    1   \r\n 3    6    4    0   \r\n```\r\n\r\nThe code only prints 4 times the last matrix created at the end of iteration k.\r\n\r\n```\r\n 0    3    1    2   \r\n  ∞   0     ∞    ∞  \r\n  ∞   4    0    1   \r\n 3    6    4    0   \r\n\r\n 0    3    1    2   \r\n  ∞   0     ∞    ∞  \r\n  ∞   4    0    1   \r\n 3    6    4    0   \r\n\r\n 0    3    1    2   \r\n  ∞   0     ∞    ∞  \r\n  ∞   4    0    1   \r\n 3    6    4    0   \r\n\r\n 0    3    1    2   \r\n  ∞   0     ∞    ∞  \r\n  ∞   4    0    1   \r\n 3    6    4    0   \r\n```","title":"Java add objects to ArrayList of objects in a for loop","body":"<p>What I want to do is store arrays in an ArrayList of Objects of type Array int A[][]</p>\n<p>My class Matrices:</p>\n<pre><code>public class Matrices {\n    private int M[][];\n    \n    public int[][] getM() {\n        return M;\n    }\n\n    public void setM(int[][] M) {\n        this.M = M;\n    }\n}\n</code></pre>\n<p>My main code where I create an ArrayList of the Matrices class, I load an array that was already loaded in int[][]A, in each iteration k I create an object m of type Matrices and save the changes in each iteration k in an ArrayList of Matrices in Matrices.add(m), later I show what I want to obtain and what the code returns.</p>\n<pre><code>ArrayList&lt;Matrices&gt; matrices=new ArrayList&lt;&gt;();\n//Crea matriz\nint[][] A=panel.CreaMatriz();\n//Fin Crea matriz\n//Inicio Floyd \nfor (int k = 0; k &lt; nodos.size(); k++) {\n    //agrega la matriz al ArrayList\n    Matrices m=new Matrices();\n    m.setM(A);\n    matrices.add(m);//ERROR ONLY THE LAST OF ITERATION K IS SAVED\n    //area.setText(panel.EscribeMatrices(matrices.get(k).getM()));\n    //Fin agrega la matriz al ArrayList\n    for (int i = 0; i &lt; nodos.size(); i++) {\n        for (int j = 0; j &lt; nodos.size(); j++) {\n            if (A[i][k]+A[k][j]&lt;A[i][j]){\n                A[i][j]=A[i][k]+A[k][j];   \n            }\n        }\n     }\n}\n</code></pre>\n<p>I what I expect is.</p>\n<pre><code> 0    3    1     ∞  \n  ∞   0     ∞    ∞  \n  ∞   4    0    1   \n 3     ∞    ∞   0   \n\n 0    3    1     ∞  \n  ∞   0     ∞    ∞  \n  ∞   4    0    1   \n 3    6    4    0   \n\n 0    3    1     ∞  \n  ∞   0     ∞    ∞  \n  ∞   4    0    1   \n 3    6    4    0   \n\n 0    3    1    2   \n  ∞   0     ∞    ∞  \n  ∞   4    0    1   \n 3    6    4    0   \n</code></pre>\n<p>The code only prints 4 times the last matrix created at the end of iteration k.</p>\n<pre><code> 0    3    1    2   \n  ∞   0     ∞    ∞  \n  ∞   4    0    1   \n 3    6    4    0   \n\n 0    3    1    2   \n  ∞   0     ∞    ∞  \n  ∞   4    0    1   \n 3    6    4    0   \n\n 0    3    1    2   \n  ∞   0     ∞    ∞  \n  ∞   4    0    1   \n 3    6    4    0   \n\n 0    3    1    2   \n  ∞   0     ∞    ∞  \n  ∞   4    0    1   \n 3    6    4    0   \n</code></pre>\n"},{"tags":["java","gradle","testing","dependencies"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1668529591,"post_id":74438576,"comment_id":131425304,"body_markdown":"Why do you want to do this? To me this sounds like an [XY Problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem)","body":"Why do you want to do this? To me this sounds like an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY Problem</a>"},{"owner":{"account_id":2067951,"reputation":223,"user_id":1843097,"display_name":"Stephan Markwalder"},"score":2,"creation_date":1670853491,"post_id":74438576,"comment_id":131962503,"body_markdown":"A possible scenario: I would like to use `slf4j-simple` at runtime in my command line application, but a custom implementation of an SFL4J service provider (or logger binder in SLF4J 1.7.x) at test runtime. Since SLF4J does not like more than one service provider (or logger binder) to be present in the classpath, `slf4j-simple` must be excluded from the test runtime classpath.\n\nI achieved this with an explicit exclude in my `build.gradle.kts` file:\n\n`configurations.testRuntimeClasspath { exclude(&quot;org.slf4j&quot;, &quot;slf4j-simple&quot;) }`","body":"A possible scenario: I would like to use <code>slf4j-simple</code> at runtime in my command line application, but a custom implementation of an SFL4J service provider (or logger binder in SLF4J 1.7.x) at test runtime. Since SLF4J does not like more than one service provider (or logger binder) to be present in the classpath, <code>slf4j-simple</code> must be excluded from the test runtime classpath.  I achieved this with an explicit exclude in my <code>build.gradle.kts</code> file:  <code>configurations.testRuntimeClasspath { exclude(&quot;org.slf4j&quot;, &quot;slf4j-simple&quot;) }</code>"}],"owner":{"account_id":7903574,"reputation":117,"user_id":5969852,"display_name":"Nikola"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1668464856,"creation_date":1668464856,"question_id":74438576,"body_markdown":"Is there a way to specify `runtimeOnly` dependency which is not available during the test runtime?","title":"Gradle dependency runtimeOnly but not in test","body":"<p>Is there a way to specify <code>runtimeOnly</code> dependency which is not available during the test runtime?</p>\n"},{"tags":["java","selenium","maven","intellij-idea","testng"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1668464667,"post_id":74438515,"comment_id":131407145,"body_markdown":"I suggest running your selenium code non-headless so that you can see what is happening in the browser.","body":"I suggest running your selenium code non-headless so that you can see what is happening in the browser."},{"owner":{"account_id":26895007,"reputation":1,"user_id":20473085,"display_name":"edward azocar"},"score":0,"creation_date":1668522756,"post_id":74438515,"comment_id":131422309,"body_markdown":"I already run the case and it&#39;s work fine","body":"I already run the case and it&#39;s work fine"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1668524783,"post_id":74438515,"comment_id":131423205,"body_markdown":"If the button is clickable immediately remove the second wait.","body":"If the button is clickable immediately remove the second wait."}],"owner":{"account_id":26895007,"reputation":1,"user_id":20473085,"display_name":"edward azocar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668464630,"creation_date":1668464442,"question_id":74438515,"body_markdown":"method to click on reCaptcha:\r\n```\r\nWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(25));\r\nwait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.xpath(&quot;//iframe[starts-with(@name, &#39;a-&#39;) and starts-with(@src, &#39;https://www.google.com/recaptcha&#39;)]&quot;)));\r\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@class=&#39;recaptcha-checkbox-border&#39;]&quot;))).click();\r\n```\r\n\r\nthis is de error in the console:\r\n```\r\nExpected condition failed: waiting for all conditions to be valid: presence of element located by: By.id: //*[@id=&quot;b-login-submit&quot;] &amp;&amp; visibility of element located by By.id: //*[@id=&quot;b-login-submit&quot;] (tried for 30 second(s) with 500 milliseconds interval)\r\n```\r\n\r\nto click on the login button","title":"I have this method to click on the recaptcha but then I can&#39;t click the login button","body":"<p>method to click on reCaptcha:</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(25));\nwait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.xpath(&quot;//iframe[starts-with(@name, 'a-') and starts-with(@src, 'https://www.google.com/recaptcha')]&quot;)));\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@class='recaptcha-checkbox-border']&quot;))).click();\n</code></pre>\n<p>this is de error in the console:</p>\n<pre><code>Expected condition failed: waiting for all conditions to be valid: presence of element located by: By.id: //*[@id=&quot;b-login-submit&quot;] &amp;&amp; visibility of element located by By.id: //*[@id=&quot;b-login-submit&quot;] (tried for 30 second(s) with 500 milliseconds interval)\n</code></pre>\n<p>to click on the login button</p>\n"},{"tags":["java","kotlin","enums","sealed-class"],"comments":[{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":2,"creation_date":1603548696,"post_id":64513791,"comment_id":114075326,"body_markdown":"From doc _Sealed classes are, in a sense, an extension of enum classes: the set of values for an enum type is also restricted, but **each enum constant exists only as a single instance, whereas a subclass of a sealed class can have multiple instances which can contain state**_ that make sense to you?","body":"From doc <i>Sealed classes are, in a sense, an extension of enum classes: the set of values for an enum type is also restricted, but <b>each enum constant exists only as a single instance, whereas a subclass of a sealed class can have multiple instances which can contain state</b></i> that make sense to you?"},{"owner":{"account_id":7581977,"reputation":1361,"user_id":5752410,"display_name":"Eitanos30"},"score":0,"creation_date":1603550344,"post_id":64513791,"comment_id":114075810,"body_markdown":"@Eklavya, I read the link you have attached. I can&#39;t see the similarity. Can you please help me to understand ?","body":"@Eklavya, I read the link you have attached. I can&#39;t see the similarity. Can you please help me to understand ?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1603563405,"post_id":64513791,"comment_id":114079545,"body_markdown":"A sealed class in which every subtype is an `object` -- a singleton -- is exactly equivalent to an enum.","body":"A sealed class in which every subtype is an <code>object</code> -- a singleton -- is exactly equivalent to an enum."},{"owner":{"account_id":7581977,"reputation":1361,"user_id":5752410,"display_name":"Eitanos30"},"score":0,"creation_date":1603563953,"post_id":64513791,"comment_id":114079700,"body_markdown":"@LouisWasserman, but we can create as many instance as we wish of the subtype. This is a quote from a book I&#39;m reading: *And unlike an enum class, you can create multiple instances of each\ntype.*","body":"@LouisWasserman, but we can create as many instance as we wish of the subtype. This is a quote from a book I&#39;m reading: <i>And unlike an enum class, you can create multiple instances of each type.</i>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1603568058,"post_id":64513791,"comment_id":114080836,"body_markdown":"@Eitanos30: that&#39;s why I explicitly said an `object`, which is a class that can only have exactly one instance.","body":"@Eitanos30: that&#39;s why I explicitly said an <code>object</code>, which is a class that can only have exactly one instance."},{"owner":{"account_id":7581977,"reputation":1361,"user_id":5752410,"display_name":"Eitanos30"},"score":0,"creation_date":1603568768,"post_id":64513791,"comment_id":114081019,"body_markdown":"@LouisWasserman, 1. Is it possible to make subtype to be an object?\n2.Subtype doesn&#39;t have values but Enum does have\n3. Subtype can add properties and methods","body":"@LouisWasserman, 1. Is it possible to make subtype to be an object? 2.Subtype doesn&#39;t have values but Enum does have 3. Subtype can add properties and methods"},{"owner":{"account_id":16257521,"reputation":1281,"user_id":11739833,"display_name":"Mohsen"},"score":0,"creation_date":1603570332,"post_id":64513791,"comment_id":114081408,"body_markdown":"@Eitanos30 yes, subtypes can be objects.","body":"@Eitanos30 yes, subtypes can be objects."},{"owner":{"account_id":7581977,"reputation":1361,"user_id":5752410,"display_name":"Eitanos30"},"score":1,"creation_date":1603570592,"post_id":64513791,"comment_id":114081457,"body_markdown":"@mohsen, it is so hard language. I want to cry sometimes.. I&#39;m missing Java","body":"@mohsen, it is so hard language. I want to cry sometimes.. I&#39;m missing Java"},{"owner":{"account_id":16257521,"reputation":1281,"user_id":11739833,"display_name":"Mohsen"},"score":0,"creation_date":1603571068,"post_id":64513791,"comment_id":114081562,"body_markdown":"@Eitanos30 no its really not, it has lots of features that makes it a little hard sometimes :D","body":"@Eitanos30 no its really not, it has lots of features that makes it a little hard sometimes :D"}],"answers":[{"tags":[],"owner":{"account_id":16257521,"reputation":1281,"user_id":11739833,"display_name":"Mohsen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1603574176,"creation_date":1603566347,"answer_id":64517039,"question_id":64513791,"body_markdown":"I think what the documentation means by extension, is not actually extending enums, but a tool like enums with more power as it can hold state. lets take a look at your example with enums.\r\n\r\n```\r\nsealed class SealedMessageType\r\nclass MessageSuccess (val msg: String) : SealedMessageType()\r\nclass MessageFailure (val e: Exeception) : SealedMessageType()\r\n\r\nenum class EnumMessageType {\r\n    Success,\r\n    Failure\r\n}\r\n```\r\n\r\nand now if you use enums you have: \r\n```\r\nval enumMessageType: EnumMessageType = callNetwork()\r\n\r\n    when(enumMessageType) {\r\n        EnumMessageType.Success -&gt; { TODO() }\r\n        EnumMessageType.Failure -&gt; { TODO() }\r\n    }\r\n```\r\nhere when you use enums you can&#39;t retrieve the data of your result from enums, and you need to get the message or error with some other variable. the only thing you can get is the type of the result without its state. but with sealed classes:\r\n```\r\nval sealedMessageType: SealedMessageType = callNetwork()\r\n\r\n    when(sealedMessageType) {\r\n        is MessageSuccess -&gt; { println(sealedMessageType.msg) }\r\n        is MessageFailure -&gt; { throw sealedMessageType.e }\r\n    }\r\n```\r\nthe IDE can smart cast your result and you can get the state of your result(if success the message, if failure the exception). this is what the doc means by extension.     \r\n\r\nbut overall you are right, sealed class is about inheritance. in fact, a sealed class is nothing but an abstract class that has a private constructor and can not be instantiated. let&#39;s look at the decopiled java code: \r\n```\r\n@Metadata(\r\n   mv = {1, 4, 0},\r\n   bv = {1, 0, 3},\r\n   k = 1,\r\n   d1 = {&quot;\\u0000\\u0014\\n\\u0002\\u0018\\u0002\\n\\u0002\\u0010\\u0000\\n\\u0000\\n\\u0002\\u0018\\u0002\\n\\u0002\\u0018\\u0002\\n\\u0000\\b6\\u0018\\u00002\\u00020\\u0001B\\u0007\\b\\u0002&#162;\\u0006\\u0002\\u0010\\u0002\\u0082\\u0001\\u0002\\u0003\\u0004&#168;\\u0006\\u0005&quot;},\r\n   d2 = {&quot;Lcom/example/customview/SealedMessageType;&quot;, &quot;&quot;, &quot;()V&quot;, &quot;Lcom/example/customview/MessageSuccess;&quot;, &quot;Lcom/example/customview/MessageFailure;&quot;, &quot;app&quot;}\r\n)\r\npublic abstract class SealedMessageType {\r\n   private SealedMessageType() {\r\n   }\r\n\r\n   // $FF: synthetic method\r\n   public SealedMessageType(DefaultConstructorMarker $constructor_marker) {\r\n      this();\r\n   }\r\n}\r\n```\r\n```\r\n@Metadata(\r\n   mv = {1, 4, 0},\r\n   bv = {1, 0, 3},\r\n   k = 1,\r\n   d1 = {&quot;\\u0000\\u0012\\n\\u0002\\u0018\\u0002\\n\\u0002\\u0018\\u0002\\n\\u0000\\n\\u0002\\u0010\\u000e\\n\\u0002\\b\\u0004\\u0018\\u00002\\u00020\\u0001B\\r\\u0012\\u0006\\u0010\\u0002\\u001a\\u00020\\u0003&#162;\\u0006\\u0002\\u0010\\u0004R\\u0011\\u0010\\u0002\\u001a\\u00020\\u0003&#162;\\u0006\\b\\n\\u0000\\u001a\\u0004\\b\\u0005\\u0010\\u0006&#168;\\u0006\\u0007&quot;},\r\n   d2 = {&quot;Lcom/example/customview/MessageSuccess;&quot;, &quot;Lcom/example/customview/SealedMessageType;&quot;, &quot;msg&quot;, &quot;&quot;, &quot;(Ljava/lang/String;)V&quot;, &quot;getMsg&quot;, &quot;()Ljava/lang/String;&quot;, &quot;app&quot;}\r\n)\r\npublic final class MessageSuccess extends SealedMessageType {\r\n   @NotNull\r\n   private final String msg;\r\n\r\n   @NotNull\r\n   public final String getMsg() {\r\n      return this.msg;\r\n   }\r\n\r\n   public MessageSuccess(@NotNull String msg) {\r\n      Intrinsics.checkNotNullParameter(msg, &quot;msg&quot;);\r\n      super((DefaultConstructorMarker)null);\r\n      this.msg = msg;\r\n   }\r\n}\r\n```\r\n\r\nhere you can see that the `SealedMessageType` is in fact an abstract class. the only difference between an abstract class and a sealed class is that the compiler generates some metadata for sealed classes and can warn you about the missing branches when you use the `when` keyword which can&#39;t be done using abstract classes. you can see in the above code that the `SealedMessageType` class metadata contains both `MessageSuccess` and `MessageFailure` as child classes, and `MessageSuccess` metadata also contains `SealedMessageType` as a parent. there is no such metadata if you use abstract classes. \r\n\r\nif you use this simple trick, the compiler gives you an error if you miss any branches and IDE can help you implement missing branches using `Alt+Enter`. the trick is to define an exhaustive extension function:\r\n```\r\n\r\nfun main() {\r\n    when(callNetwork()) { // error: when&#39; expression must be exhaustive, add necessary &#39;is MessageSuccess&#39;, &#39;is MessageFailure&#39; branches or &#39;else&#39; branch instead\r\n\r\n    }.exhaustive()\r\n}\r\n\r\nfun Any?.exhaustive() = this\r\n\r\n\r\n\r\nfun callNetwork(): SealedMessageType {\r\n    TODO()\r\n}\r\n```\r\n","title":"What is the difference between Sealed class and inheritance principle in Kotlin?","body":"<p>I think what the documentation means by extension, is not actually extending enums, but a tool like enums with more power as it can hold state. lets take a look at your example with enums.</p>\n<pre><code>sealed class SealedMessageType\nclass MessageSuccess (val msg: String) : SealedMessageType()\nclass MessageFailure (val e: Exeception) : SealedMessageType()\n\nenum class EnumMessageType {\n    Success,\n    Failure\n}\n</code></pre>\n<p>and now if you use enums you have:</p>\n<pre><code>val enumMessageType: EnumMessageType = callNetwork()\n\n    when(enumMessageType) {\n        EnumMessageType.Success -&gt; { TODO() }\n        EnumMessageType.Failure -&gt; { TODO() }\n    }\n</code></pre>\n<p>here when you use enums you can't retrieve the data of your result from enums, and you need to get the message or error with some other variable. the only thing you can get is the type of the result without its state. but with sealed classes:</p>\n<pre><code>val sealedMessageType: SealedMessageType = callNetwork()\n\n    when(sealedMessageType) {\n        is MessageSuccess -&gt; { println(sealedMessageType.msg) }\n        is MessageFailure -&gt; { throw sealedMessageType.e }\n    }\n</code></pre>\n<p>the IDE can smart cast your result and you can get the state of your result(if success the message, if failure the exception). this is what the doc means by extension.</p>\n<p>but overall you are right, sealed class is about inheritance. in fact, a sealed class is nothing but an abstract class that has a private constructor and can not be instantiated. let's look at the decopiled java code:</p>\n<pre><code>@Metadata(\n   mv = {1, 4, 0},\n   bv = {1, 0, 3},\n   k = 1,\n   d1 = {&quot;\\u0000\\u0014\\n\\u0002\\u0018\\u0002\\n\\u0002\\u0010\\u0000\\n\\u0000\\n\\u0002\\u0018\\u0002\\n\\u0002\\u0018\\u0002\\n\\u0000\\b6\\u0018\\u00002\\u00020\\u0001B\\u0007\\b\\u0002¢\\u0006\\u0002\\u0010\\u0002\\u0082\\u0001\\u0002\\u0003\\u0004¨\\u0006\\u0005&quot;},\n   d2 = {&quot;Lcom/example/customview/SealedMessageType;&quot;, &quot;&quot;, &quot;()V&quot;, &quot;Lcom/example/customview/MessageSuccess;&quot;, &quot;Lcom/example/customview/MessageFailure;&quot;, &quot;app&quot;}\n)\npublic abstract class SealedMessageType {\n   private SealedMessageType() {\n   }\n\n   // $FF: synthetic method\n   public SealedMessageType(DefaultConstructorMarker $constructor_marker) {\n      this();\n   }\n}\n</code></pre>\n<pre><code>@Metadata(\n   mv = {1, 4, 0},\n   bv = {1, 0, 3},\n   k = 1,\n   d1 = {&quot;\\u0000\\u0012\\n\\u0002\\u0018\\u0002\\n\\u0002\\u0018\\u0002\\n\\u0000\\n\\u0002\\u0010\\u000e\\n\\u0002\\b\\u0004\\u0018\\u00002\\u00020\\u0001B\\r\\u0012\\u0006\\u0010\\u0002\\u001a\\u00020\\u0003¢\\u0006\\u0002\\u0010\\u0004R\\u0011\\u0010\\u0002\\u001a\\u00020\\u0003¢\\u0006\\b\\n\\u0000\\u001a\\u0004\\b\\u0005\\u0010\\u0006¨\\u0006\\u0007&quot;},\n   d2 = {&quot;Lcom/example/customview/MessageSuccess;&quot;, &quot;Lcom/example/customview/SealedMessageType;&quot;, &quot;msg&quot;, &quot;&quot;, &quot;(Ljava/lang/String;)V&quot;, &quot;getMsg&quot;, &quot;()Ljava/lang/String;&quot;, &quot;app&quot;}\n)\npublic final class MessageSuccess extends SealedMessageType {\n   @NotNull\n   private final String msg;\n\n   @NotNull\n   public final String getMsg() {\n      return this.msg;\n   }\n\n   public MessageSuccess(@NotNull String msg) {\n      Intrinsics.checkNotNullParameter(msg, &quot;msg&quot;);\n      super((DefaultConstructorMarker)null);\n      this.msg = msg;\n   }\n}\n</code></pre>\n<p>here you can see that the <code>SealedMessageType</code> is in fact an abstract class. the only difference between an abstract class and a sealed class is that the compiler generates some metadata for sealed classes and can warn you about the missing branches when you use the <code>when</code> keyword which can't be done using abstract classes. you can see in the above code that the <code>SealedMessageType</code> class metadata contains both <code>MessageSuccess</code> and <code>MessageFailure</code> as child classes, and <code>MessageSuccess</code> metadata also contains <code>SealedMessageType</code> as a parent. there is no such metadata if you use abstract classes.</p>\n<p>if you use this simple trick, the compiler gives you an error if you miss any branches and IDE can help you implement missing branches using <code>Alt+Enter</code>. the trick is to define an exhaustive extension function:</p>\n<pre><code>\nfun main() {\n    when(callNetwork()) { // error: when' expression must be exhaustive, add necessary 'is MessageSuccess', 'is MessageFailure' branches or 'else' branch instead\n\n    }.exhaustive()\n}\n\nfun Any?.exhaustive() = this\n\n\n\nfun callNetwork(): SealedMessageType {\n    TODO()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1112201,"reputation":1406,"user_id":1102468,"accept_rate":35,"display_name":"Tai Tran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668464368,"creation_date":1668464368,"answer_id":74438506,"question_id":64513791,"body_markdown":"In term of functional programming, **sealed class** is used to make a Category, ","title":"What is the difference between Sealed class and inheritance principle in Kotlin?","body":"<p>In term of functional programming, <strong>sealed class</strong> is used to make a Category,</p>\n"}],"owner":{"account_id":7581977,"reputation":1361,"user_id":5752410,"display_name":"Eitanos30"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7981,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":64517039,"answer_count":2,"score":4,"last_activity_date":1668464368,"creation_date":1603545965,"question_id":64513791,"body_markdown":"I&#39;m new with Kotlin. I&#39;m reading a book and a sealed class is displayed there as an &quot;extension&quot; of Enum. I can&#39;t see the similarity between them. The way I see the things, Sealed class is more related to inheritance, because each class can inherit from it and to add function and properties to it\r\nFor example:\r\n\r\n    sealed class messageType\r\n    class MessageSuccess (var msg: String) : MwssageType()\r\n    class MessageFailure (var msg: String, var e: Exeception) : MwssageType()\r\n\r\nI **don&#39;t see** here *values* like we have in *Enum*, only kink of inheritance.\r\nCan someone explain me what is the imagine between Enum and Sealed that i can&#39;t find?\r\nMaybe the power of it is when using it with **when** expression?","title":"What is the difference between Sealed class and inheritance principle in Kotlin?","body":"<p>I'm new with Kotlin. I'm reading a book and a sealed class is displayed there as an &quot;extension&quot; of Enum. I can't see the similarity between them. The way I see the things, Sealed class is more related to inheritance, because each class can inherit from it and to add function and properties to it\nFor example:</p>\n<pre><code>sealed class messageType\nclass MessageSuccess (var msg: String) : MwssageType()\nclass MessageFailure (var msg: String, var e: Exeception) : MwssageType()\n</code></pre>\n<p>I <strong>don't see</strong> here <em>values</em> like we have in <em>Enum</em>, only kink of inheritance.\nCan someone explain me what is the imagine between Enum and Sealed that i can't find?\nMaybe the power of it is when using it with <strong>when</strong> expression?</p>\n"},{"tags":["java","xml","jdom-2"],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668415265,"creation_date":1668415265,"answer_id":74428874,"question_id":74424827,"body_markdown":"Your `setElementValue()` method calls `xmlOutput.output(settingsDoc, settingsWriter);` to output the entire document every time there is a change, and that&#39;s exactly what is happening. You need to change it so it only outputs the document once, at the end.","title":"Java: JDOM.XMLOutputter don&#39;t overwrite XML File when looking to make multiple changes in a row","body":"<p>Your <code>setElementValue()</code> method calls <code>xmlOutput.output(settingsDoc, settingsWriter);</code> to output the entire document every time there is a change, and that's exactly what is happening. You need to change it so it only outputs the document once, at the end.</p>\n"},{"tags":[],"owner":{"account_id":24762464,"reputation":93,"user_id":18646685,"display_name":"Cromega08"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668463190,"creation_date":1668463190,"answer_id":74438345,"question_id":74424827,"body_markdown":"# Alredy Solved\r\n\r\nSo, for anyone that find this question, the solution I use was:\r\n\r\n```java\r\npublic class FileHandler {\r\n\r\n\tprivate final Writer settingsWriter;\r\n\tprivate final XMLOutputter xmlOutput;\r\n\tprivate final Document settingsDoc;\r\n\tprivate final Element settingsElement;\r\n\tprivate final FileChannel settingsChannel;\r\n\tprivate final Path settingsPath;\r\n\r\n\r\n\tFileHandler() throws IOException, JDOMException {\r\n\r\n\t\tsettingsPath = Paths.get(&quot;res/settings/settings.xml&quot;);\r\n\t\tFile settingsFile = settingsPath.toFile();\r\n\t\tboolean settingsExist = settingsFile.createNewFile();\r\n\t\tsettingsChannel = FileChannel.open(settingsPath, StandardOpenOption.WRITE);\r\n\t\tsettingsWriter = Channels.newWriter(\r\n\t\t\t\tsettingsChannel,\r\n\t\t\t\tStandardCharsets.UTF_8);\r\n\t\txmlOutput = new XMLOutputter();\r\n\t\txmlOutput.setFormat(Format.getPrettyFormat());\r\n\r\n\t\tif (settingsExist) createSettings();\r\n\r\n\t\tSAXBuilder saxBuilder = new SAXBuilder();\r\n\t\tsettingsDoc = saxBuilder.build(settingsFile);\r\n\t\tsettingsElement = settingsDoc.getRootElement();\r\n\t}\r\n\r\n    /*Irrelevant code for the answer*/\r\n\r\n    public void setElementValues(boolean[] newStart, String[] newTexts) throws IOException, JDOMException {\r\n\r\n\t\tElement timeElement = settingsElement.getChild(&quot;time&quot;),\r\n\t\t\t\tautoStartElement = settingsElement.getChild(&quot;auto-start&quot;);\r\n\t\tList&lt;Element&gt; timeElements = timeElement.getChildren(),\r\n\t\t\t\t\t\tautoStartElements = autoStartElement.getChildren();\r\n\r\n\t\tfor (int index = 0; index &lt; autoStartElements.size(); ++index) {\r\n\t\t\tautoStartElements.get(index).setText(String.valueOf(newStart[index]));\r\n\t\t}\r\n\r\n\t\tfor (int index = 0; index &lt; timeElements.size(); ++index) {\r\n\t\t\ttimeElements.get(index).setText(newTexts[index]);\r\n\t\t}\r\n\r\n\t\tsettingsChannel.truncate(0);\r\n\t\tsettingsWriter.flush();\r\n\t\tsettingsChannel.force(true);\r\n\t\txmlOutput.output(settingsDoc, settingsWriter);\r\n\t\tsettingsWriter.flush();\r\n\t\tsettingsChannel.force(true);\r\n\t}\r\n```\r\n\r\n## Explanation\r\n\r\nBased in the comment of [@Michal Kay](https://stackoverflow.com/users/415448/michael-kay), I made various changes in the structure:\r\n\r\n1. **Change** the method **to require all the values to change** and update all the _XML_.\r\n\r\n2. **Change the global variables** of the class to **make global _FileChannel settingsChannel_** (before was an inline object).\r\n\r\n3. **Every operation**, the entire **content of the file it&#39;s replaced**, with this steps:\r\n\r\n    1. Remove all the content with _.truncate(0)_ (**this set the length of the file to 0**)\r\n\r\n    2. Update the writer instance with _.flush()_ (**If don&#39;t, the data don&#39;t reach the channel**)\r\n\r\n    3. Force the data to reach the disk with _.force(true)_ (**If don&#39;t, the Writer class save the data in the cache**)\r\n\r\n    4. Write the new data in the _XML_ file with the _XMLOutputter_ (**This doesn&#39;t change**)\r\n\r\n    5. **Update all again using the 2 and 3 step**.\r\n\r\nThat it&#39;s how i solved it. ","title":"Java: JDOM.XMLOutputter don&#39;t overwrite XML File when looking to make multiple changes in a row","body":"<h1>Alredy Solved</h1>\n<p>So, for anyone that find this question, the solution I use was:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FileHandler {\n\n    private final Writer settingsWriter;\n    private final XMLOutputter xmlOutput;\n    private final Document settingsDoc;\n    private final Element settingsElement;\n    private final FileChannel settingsChannel;\n    private final Path settingsPath;\n\n\n    FileHandler() throws IOException, JDOMException {\n\n        settingsPath = Paths.get(&quot;res/settings/settings.xml&quot;);\n        File settingsFile = settingsPath.toFile();\n        boolean settingsExist = settingsFile.createNewFile();\n        settingsChannel = FileChannel.open(settingsPath, StandardOpenOption.WRITE);\n        settingsWriter = Channels.newWriter(\n                settingsChannel,\n                StandardCharsets.UTF_8);\n        xmlOutput = new XMLOutputter();\n        xmlOutput.setFormat(Format.getPrettyFormat());\n\n        if (settingsExist) createSettings();\n\n        SAXBuilder saxBuilder = new SAXBuilder();\n        settingsDoc = saxBuilder.build(settingsFile);\n        settingsElement = settingsDoc.getRootElement();\n    }\n\n    /*Irrelevant code for the answer*/\n\n    public void setElementValues(boolean[] newStart, String[] newTexts) throws IOException, JDOMException {\n\n        Element timeElement = settingsElement.getChild(&quot;time&quot;),\n                autoStartElement = settingsElement.getChild(&quot;auto-start&quot;);\n        List&lt;Element&gt; timeElements = timeElement.getChildren(),\n                        autoStartElements = autoStartElement.getChildren();\n\n        for (int index = 0; index &lt; autoStartElements.size(); ++index) {\n            autoStartElements.get(index).setText(String.valueOf(newStart[index]));\n        }\n\n        for (int index = 0; index &lt; timeElements.size(); ++index) {\n            timeElements.get(index).setText(newTexts[index]);\n        }\n\n        settingsChannel.truncate(0);\n        settingsWriter.flush();\n        settingsChannel.force(true);\n        xmlOutput.output(settingsDoc, settingsWriter);\n        settingsWriter.flush();\n        settingsChannel.force(true);\n    }\n</code></pre>\n<h2>Explanation</h2>\n<p>Based in the comment of <a href=\"https://stackoverflow.com/users/415448/michael-kay\">@Michal Kay</a>, I made various changes in the structure:</p>\n<ol>\n<li><p><strong>Change</strong> the method <strong>to require all the values to change</strong> and update all the <em>XML</em>.</p>\n</li>\n<li><p><strong>Change the global variables</strong> of the class to <strong>make global <em>FileChannel settingsChannel</em></strong> (before was an inline object).</p>\n</li>\n<li><p><strong>Every operation</strong>, the entire <strong>content of the file it's replaced</strong>, with this steps:</p>\n<ol>\n<li><p>Remove all the content with <em>.truncate(0)</em> (<strong>this set the length of the file to 0</strong>)</p>\n</li>\n<li><p>Update the writer instance with <em>.flush()</em> (<strong>If don't, the data don't reach the channel</strong>)</p>\n</li>\n<li><p>Force the data to reach the disk with <em>.force(true)</em> (<strong>If don't, the Writer class save the data in the cache</strong>)</p>\n</li>\n<li><p>Write the new data in the <em>XML</em> file with the <em>XMLOutputter</em> (<strong>This doesn't change</strong>)</p>\n</li>\n<li><p><strong>Update all again using the 2 and 3 step</strong>.</p>\n</li>\n</ol>\n</li>\n</ol>\n<p>That it's how i solved it.</p>\n"}],"owner":{"account_id":24762464,"reputation":93,"user_id":18646685,"display_name":"Cromega08"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74438345,"answer_count":2,"score":0,"last_activity_date":1668463190,"creation_date":1668374077,"question_id":74424827,"body_markdown":"## Explanation\r\n\r\nI&#39;m making **program that use a _XML_ file to save some values to use as settings**, and **only need to read and modify the element values** in the _XML_. The **code is written in _Java_** and I&#39;m **using _[JDOM 2.0.6.1](http://www.jdom.org/downloads/)_** to manage the _XML_ file, followed [this tutorial](https://www.tutorialspoint.com/java_xml/java_jdom_parser.htm).\r\n\r\n**The code works when overwrite any element in the XML, but just 1 time**. If make **multiple operations** to modify any value, the program **start appending a new tree with the changes**, which should not happen and would be the problem.\r\n\r\nThe default XML:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;settings&gt;\r\n  &lt;time&gt;\r\n    &lt;time-work&gt;25&lt;/time-work&gt;\r\n    &lt;time-break&gt;5&lt;/time-break&gt;\r\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\r\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\r\n  &lt;/time&gt;\r\n  &lt;auto-start&gt;\r\n    &lt;start-work&gt;true&lt;/start-work&gt;\r\n    &lt;start-break&gt;true&lt;/start-break&gt;\r\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\r\n  &lt;/auto-start&gt;\r\n&lt;/settings&gt;\r\n```\r\n\r\nThe Java code:\r\n\r\n```java\r\npublic class FileHandler {\r\n\r\n    private final Writer settingsWriter;\r\n    private final XMLOutputter xmlOutput;\r\n    private final Document settingsDoc;\r\n    private final Element settingsElement;\r\n\r\n\r\n    FileHandler() throws IOException, JDOMException {\r\n\r\n        Path settingsPath = Paths.get(&quot;res/settings/settings.xml&quot;);\r\n        File settingsFile = settingsPath.toFile();\r\n        boolean settingsExist = settingsFile.createNewFile();\r\n        settingsWriter = Channels.newWriter(\r\n              FileChannel.open(settingsPath, StandardOpenOption.WRITE),\r\n              StandardCharsets.UTF_8);\r\n        xmlOutput = new XMLOutputter();\r\n        xmlOutput.setFormat(Format.getPrettyFormat());\r\n\r\n        if (settingsExist) createSettings();\r\n\r\n        SAXBuilder saxBuilder = new SAXBuilder();\r\n        settingsDoc = saxBuilder.build(settingsFile);\r\n        settingsElement = settingsDoc.getRootElement();\r\n\r\n        setElementValue(&quot;time-work&quot;, &quot;5&quot;);\r\n        setElementValue(&quot;time-work&quot;, &quot;10&quot;);\r\n        setElementValue(&quot;time-work&quot;, &quot;30&quot;);\r\n    }\r\n\r\n    public void setElementValue(String element, String newValue) throws IOException, JDOMException {\r\n\r\n        Element groupElement = settingsElement.getChild(element.startsWith(&quot;time&quot;)? &quot;time&quot;:&quot;auto-start&quot;),\r\n                toChangeElement = groupElement.getChild(element);\r\n\r\n        toChangeElement.setText(newValue);\r\n        xmlOutput.output(settingsDoc, settingsWriter);\r\n    }\r\n\r\n    /*More code, irrelevant for the post*/\r\n}\r\n```\r\n\r\n## Examples\r\n\r\n### Example 1 (Works)\r\n\r\n```java\r\n    FileHandler() throws IOException, JDOMException {\r\n\r\n        Path settingsPath = Paths.get(&quot;res/settings/settings.xml&quot;);\r\n        File settingsFile = settingsPath.toFile();\r\n        boolean settingsExist = settingsFile.createNewFile();\r\n        settingsWriter = Channels.newWriter(\r\n              FileChannel.open(settingsPath, StandardOpenOption.WRITE),\r\n              StandardCharsets.UTF_8);\r\n        xmlOutput = new XMLOutputter();\r\n        xmlOutput.setFormat(Format.getPrettyFormat());\r\n\r\n        if (settingsExist) createSettings();\r\n\r\n        SAXBuilder saxBuilder = new SAXBuilder();\r\n        settingsDoc = saxBuilder.build(settingsFile);\r\n        settingsElement = settingsDoc.getRootElement();\r\n\r\n        setElementValue(&quot;time-work&quot;, &quot;5&quot;);\r\n    }\r\n```\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;settings&gt;\r\n  &lt;time&gt;\r\n    &lt;time-work&gt;5&lt;/time-work&gt;\r\n    &lt;time-break&gt;5&lt;/time-break&gt;\r\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\r\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\r\n  &lt;/time&gt;\r\n  &lt;auto-start&gt;\r\n    &lt;start-work&gt;true&lt;/start-work&gt;\r\n    &lt;start-break&gt;true&lt;/start-break&gt;\r\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\r\n  &lt;/auto-start&gt;\r\n&lt;/settings&gt;\r\n```\r\n\r\n### Example 2 (Works)\r\n\r\n```java\r\n    FileHandler() throws IOException, JDOMException {\r\n\r\n        Path settingsPath = Paths.get(&quot;res/settings/settings.xml&quot;);\r\n        File settingsFile = settingsPath.toFile();\r\n        boolean settingsExist = settingsFile.createNewFile();\r\n        settingsWriter = Channels.newWriter(\r\n              FileChannel.open(settingsPath, StandardOpenOption.WRITE),\r\n              StandardCharsets.UTF_8);\r\n        xmlOutput = new XMLOutputter();\r\n        xmlOutput.setFormat(Format.getPrettyFormat());\r\n\r\n        if (settingsExist) createSettings();\r\n\r\n        SAXBuilder saxBuilder = new SAXBuilder();\r\n        settingsDoc = saxBuilder.build(settingsFile);\r\n        settingsElement = settingsDoc.getRootElement();\r\n\r\n        setElementValue(&quot;start-rest&quot;, &quot;2&quot;);\r\n    }\r\n```\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;settings&gt;\r\n  &lt;time&gt;\r\n    &lt;time-work&gt;25&lt;/time-work&gt;\r\n    &lt;time-break&gt;5&lt;/time-break&gt;\r\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\r\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\r\n  &lt;/time&gt;\r\n  &lt;auto-start&gt;\r\n    &lt;start-work&gt;true&lt;/start-work&gt;\r\n    &lt;start-break&gt;true&lt;/start-break&gt;\r\n    &lt;start-rest&gt;2&lt;/start-rest&gt;\r\n  &lt;/auto-start&gt;\r\n&lt;/settings&gt;\r\n```\r\n\r\n### Example 3 (Fail)\r\n\r\n```java\r\n    FileHandler() throws IOException, JDOMException {\r\n\r\n        Path settingsPath = Paths.get(&quot;res/settings/settings.xml&quot;);\r\n        File settingsFile = settingsPath.toFile();\r\n        boolean settingsExist = settingsFile.createNewFile();\r\n        settingsWriter = Channels.newWriter(\r\n              FileChannel.open(settingsPath, StandardOpenOption.WRITE),\r\n              StandardCharsets.UTF_8);\r\n        xmlOutput = new XMLOutputter();\r\n        xmlOutput.setFormat(Format.getPrettyFormat());\r\n\r\n        if (settingsExist) createSettings();\r\n\r\n        SAXBuilder saxBuilder = new SAXBuilder();\r\n        settingsDoc = saxBuilder.build(settingsFile);\r\n        settingsElement = settingsDoc.getRootElement();\r\n\r\n        setElementValue(&quot;time-work&quot;, &quot;5&quot;);\r\n        setElementValue(&quot;time-work&quot;, &quot;10&quot;);\r\n        setElementValue(&quot;time-work&quot;, &quot;30&quot;);\r\n    }\r\n```\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;settings&gt;\r\n  &lt;time&gt;\r\n    &lt;time-work&gt;5&lt;/time-work&gt;\r\n    &lt;time-break&gt;5&lt;/time-break&gt;\r\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\r\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\r\n  &lt;/time&gt;\r\n  &lt;auto-start&gt;\r\n    &lt;start-work&gt;true&lt;/start-work&gt;\r\n    &lt;start-break&gt;true&lt;/start-break&gt;\r\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\r\n  &lt;/auto-start&gt;\r\n&lt;/settings&gt;\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;settings&gt;\r\n  &lt;time&gt;\r\n    &lt;time-work&gt;10&lt;/time-work&gt;\r\n    &lt;time-break&gt;5&lt;/time-break&gt;\r\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\r\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\r\n  &lt;/time&gt;\r\n  &lt;auto-start&gt;\r\n    &lt;start-work&gt;true&lt;/start-work&gt;\r\n    &lt;start-break&gt;true&lt;/start-break&gt;\r\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\r\n  &lt;/auto-start&gt;\r\n&lt;/settings&gt;\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;settings&gt;\r\n  &lt;time&gt;\r\n    &lt;time-work&gt;30&lt;/time-work&gt;\r\n    &lt;time-break&gt;5&lt;/time-break&gt;\r\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\r\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\r\n  &lt;/time&gt;\r\n  &lt;auto-start&gt;\r\n    &lt;start-work&gt;true&lt;/start-work&gt;\r\n    &lt;start-break&gt;true&lt;/start-break&gt;\r\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\r\n  &lt;/auto-start&gt;\r\n&lt;/settings&gt;\r\n```\r\n\r\n### Example 4 (Fail)\r\n\r\n```java\r\n    FileHandler() throws IOException, JDOMException {\r\n\r\n        Path settingsPath = Paths.get(&quot;res/settings/settings.xml&quot;);\r\n        File settingsFile = settingsPath.toFile();\r\n        boolean settingsExist = settingsFile.createNewFile();\r\n        settingsWriter = Channels.newWriter(\r\n              FileChannel.open(settingsPath, StandardOpenOption.WRITE),\r\n              StandardCharsets.UTF_8);\r\n        xmlOutput = new XMLOutputter();\r\n        xmlOutput.setFormat(Format.getPrettyFormat());\r\n\r\n        if (settingsExist) createSettings();\r\n\r\n        SAXBuilder saxBuilder = new SAXBuilder();\r\n        settingsDoc = saxBuilder.build(settingsFile);\r\n        settingsElement = settingsDoc.getRootElement();\r\n\r\n        setElementValue(&quot;time-work&quot;, &quot;5&quot;);\r\n        setElementValue(&quot;time-break&quot;, &quot;10&quot;);\r\n        setElementValue(&quot;time-rest&quot;, &quot;30&quot;);\r\n    }\r\n```\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;settings&gt;\r\n  &lt;time&gt;\r\n    &lt;time-work&gt;5&lt;/time-work&gt;\r\n    &lt;time-break&gt;5&lt;/time-break&gt;\r\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\r\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\r\n  &lt;/time&gt;\r\n  &lt;auto-start&gt;\r\n    &lt;start-work&gt;true&lt;/start-work&gt;\r\n    &lt;start-break&gt;true&lt;/start-break&gt;\r\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\r\n  &lt;/auto-start&gt;\r\n&lt;/settings&gt;\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;settings&gt;\r\n  &lt;time&gt;\r\n    &lt;time-work&gt;5&lt;/time-work&gt;\r\n    &lt;time-break&gt;10&lt;/time-break&gt;\r\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\r\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\r\n  &lt;/time&gt;\r\n  &lt;auto-start&gt;\r\n    &lt;start-work&gt;true&lt;/start-work&gt;\r\n    &lt;start-break&gt;true&lt;/start-break&gt;\r\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\r\n  &lt;/auto-start&gt;\r\n&lt;/settings&gt;\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;settings&gt;\r\n  &lt;time&gt;\r\n    &lt;time-work&gt;5&lt;/time-work&gt;\r\n    &lt;time-break&gt;10&lt;/time-break&gt;\r\n    &lt;time-rest&gt;30&lt;/time-rest&gt;\r\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\r\n  &lt;/time&gt;\r\n  &lt;auto-start&gt;\r\n    &lt;start-work&gt;true&lt;/start-work&gt;\r\n    &lt;start-break&gt;true&lt;/start-break&gt;\r\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\r\n  &lt;/auto-start&gt;\r\n&lt;/settings&gt;\r\n```\r\n\r\n### Example 5 (Fail)\r\n\r\n```java\r\n    FileHandler() throws IOException, JDOMException {\r\n\r\n        Path settingsPath = Paths.get(&quot;res/settings/settings.xml&quot;);\r\n        File settingsFile = settingsPath.toFile();\r\n        boolean settingsExist = settingsFile.createNewFile();\r\n        settingsWriter = Channels.newWriter(\r\n              FileChannel.open(settingsPath, StandardOpenOption.WRITE),\r\n              StandardCharsets.UTF_8);\r\n        xmlOutput = new XMLOutputter();\r\n        xmlOutput.setFormat(Format.getPrettyFormat());\r\n\r\n        if (settingsExist) createSettings();\r\n\r\n        SAXBuilder saxBuilder = new SAXBuilder();\r\n        settingsDoc = saxBuilder.build(settingsFile);\r\n        settingsElement = settingsDoc.getRootElement();\r\n\r\n        setElementValue(&quot;time-work&quot;, &quot;5&quot;);\r\n        setElementValue(&quot;start-break&quot;, &quot;false&quot;);\r\n        setElementValue(&quot;time-interval&quot;, &quot;2&quot;);\r\n    }\r\n```\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;settings&gt;\r\n  &lt;time&gt;\r\n    &lt;time-work&gt;5&lt;/time-work&gt;\r\n    &lt;time-break&gt;5&lt;/time-break&gt;\r\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\r\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\r\n  &lt;/time&gt;\r\n  &lt;auto-start&gt;\r\n    &lt;start-work&gt;true&lt;/start-work&gt;\r\n    &lt;start-break&gt;true&lt;/start-break&gt;\r\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\r\n  &lt;/auto-start&gt;\r\n&lt;/settings&gt;\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;settings&gt;\r\n  &lt;time&gt;\r\n    &lt;time-work&gt;5&lt;/time-work&gt;\r\n    &lt;time-break&gt;5&lt;/time-break&gt;\r\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\r\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\r\n  &lt;/time&gt;\r\n  &lt;auto-start&gt;\r\n    &lt;start-work&gt;true&lt;/start-work&gt;\r\n    &lt;start-break&gt;false&lt;/start-break&gt;\r\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\r\n  &lt;/auto-start&gt;\r\n&lt;/settings&gt;\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;settings&gt;\r\n  &lt;time&gt;\r\n    &lt;time-work&gt;5&lt;/time-work&gt;\r\n    &lt;time-break&gt;5&lt;/time-break&gt;\r\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\r\n    &lt;time-interval&gt;2&lt;/time-interval&gt;\r\n  &lt;/time&gt;\r\n  &lt;auto-start&gt;\r\n    &lt;start-work&gt;true&lt;/start-work&gt;\r\n    &lt;start-break&gt;false&lt;/start-break&gt;\r\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\r\n  &lt;/auto-start&gt;\r\n&lt;/settings&gt;\r\n```\r\n## What I tried\r\n\r\nTried to close the writer and use re-building the &quot;_Document **settingsDoc**_&quot; inside the function.\r\n\r\nEverything I tried ended in the same result, appending a new _XML_ tree **after overwriting just 1**.","title":"Java: JDOM.XMLOutputter don&#39;t overwrite XML File when looking to make multiple changes in a row","body":"<h2>Explanation</h2>\n<p>I'm making <strong>program that use a <em>XML</em> file to save some values to use as settings</strong>, and <strong>only need to read and modify the element values</strong> in the <em>XML</em>. The <strong>code is written in <em>Java</em></strong> and I'm <strong>using <em><a href=\"http://www.jdom.org/downloads/\" rel=\"nofollow noreferrer\">JDOM 2.0.6.1</a></em></strong> to manage the <em>XML</em> file, followed <a href=\"https://www.tutorialspoint.com/java_xml/java_jdom_parser.htm\" rel=\"nofollow noreferrer\">this tutorial</a>.</p>\n<p><strong>The code works when overwrite any element in the XML, but just 1 time</strong>. If make <strong>multiple operations</strong> to modify any value, the program <strong>start appending a new tree with the changes</strong>, which should not happen and would be the problem.</p>\n<p>The default XML:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;settings&gt;\n  &lt;time&gt;\n    &lt;time-work&gt;25&lt;/time-work&gt;\n    &lt;time-break&gt;5&lt;/time-break&gt;\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\n  &lt;/time&gt;\n  &lt;auto-start&gt;\n    &lt;start-work&gt;true&lt;/start-work&gt;\n    &lt;start-break&gt;true&lt;/start-break&gt;\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\n  &lt;/auto-start&gt;\n&lt;/settings&gt;\n</code></pre>\n<p>The Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FileHandler {\n\n    private final Writer settingsWriter;\n    private final XMLOutputter xmlOutput;\n    private final Document settingsDoc;\n    private final Element settingsElement;\n\n\n    FileHandler() throws IOException, JDOMException {\n\n        Path settingsPath = Paths.get(&quot;res/settings/settings.xml&quot;);\n        File settingsFile = settingsPath.toFile();\n        boolean settingsExist = settingsFile.createNewFile();\n        settingsWriter = Channels.newWriter(\n              FileChannel.open(settingsPath, StandardOpenOption.WRITE),\n              StandardCharsets.UTF_8);\n        xmlOutput = new XMLOutputter();\n        xmlOutput.setFormat(Format.getPrettyFormat());\n\n        if (settingsExist) createSettings();\n\n        SAXBuilder saxBuilder = new SAXBuilder();\n        settingsDoc = saxBuilder.build(settingsFile);\n        settingsElement = settingsDoc.getRootElement();\n\n        setElementValue(&quot;time-work&quot;, &quot;5&quot;);\n        setElementValue(&quot;time-work&quot;, &quot;10&quot;);\n        setElementValue(&quot;time-work&quot;, &quot;30&quot;);\n    }\n\n    public void setElementValue(String element, String newValue) throws IOException, JDOMException {\n\n        Element groupElement = settingsElement.getChild(element.startsWith(&quot;time&quot;)? &quot;time&quot;:&quot;auto-start&quot;),\n                toChangeElement = groupElement.getChild(element);\n\n        toChangeElement.setText(newValue);\n        xmlOutput.output(settingsDoc, settingsWriter);\n    }\n\n    /*More code, irrelevant for the post*/\n}\n</code></pre>\n<h2>Examples</h2>\n<h3>Example 1 (Works)</h3>\n<pre class=\"lang-java prettyprint-override\"><code>    FileHandler() throws IOException, JDOMException {\n\n        Path settingsPath = Paths.get(&quot;res/settings/settings.xml&quot;);\n        File settingsFile = settingsPath.toFile();\n        boolean settingsExist = settingsFile.createNewFile();\n        settingsWriter = Channels.newWriter(\n              FileChannel.open(settingsPath, StandardOpenOption.WRITE),\n              StandardCharsets.UTF_8);\n        xmlOutput = new XMLOutputter();\n        xmlOutput.setFormat(Format.getPrettyFormat());\n\n        if (settingsExist) createSettings();\n\n        SAXBuilder saxBuilder = new SAXBuilder();\n        settingsDoc = saxBuilder.build(settingsFile);\n        settingsElement = settingsDoc.getRootElement();\n\n        setElementValue(&quot;time-work&quot;, &quot;5&quot;);\n    }\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;settings&gt;\n  &lt;time&gt;\n    &lt;time-work&gt;5&lt;/time-work&gt;\n    &lt;time-break&gt;5&lt;/time-break&gt;\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\n  &lt;/time&gt;\n  &lt;auto-start&gt;\n    &lt;start-work&gt;true&lt;/start-work&gt;\n    &lt;start-break&gt;true&lt;/start-break&gt;\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\n  &lt;/auto-start&gt;\n&lt;/settings&gt;\n</code></pre>\n<h3>Example 2 (Works)</h3>\n<pre class=\"lang-java prettyprint-override\"><code>    FileHandler() throws IOException, JDOMException {\n\n        Path settingsPath = Paths.get(&quot;res/settings/settings.xml&quot;);\n        File settingsFile = settingsPath.toFile();\n        boolean settingsExist = settingsFile.createNewFile();\n        settingsWriter = Channels.newWriter(\n              FileChannel.open(settingsPath, StandardOpenOption.WRITE),\n              StandardCharsets.UTF_8);\n        xmlOutput = new XMLOutputter();\n        xmlOutput.setFormat(Format.getPrettyFormat());\n\n        if (settingsExist) createSettings();\n\n        SAXBuilder saxBuilder = new SAXBuilder();\n        settingsDoc = saxBuilder.build(settingsFile);\n        settingsElement = settingsDoc.getRootElement();\n\n        setElementValue(&quot;start-rest&quot;, &quot;2&quot;);\n    }\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;settings&gt;\n  &lt;time&gt;\n    &lt;time-work&gt;25&lt;/time-work&gt;\n    &lt;time-break&gt;5&lt;/time-break&gt;\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\n  &lt;/time&gt;\n  &lt;auto-start&gt;\n    &lt;start-work&gt;true&lt;/start-work&gt;\n    &lt;start-break&gt;true&lt;/start-break&gt;\n    &lt;start-rest&gt;2&lt;/start-rest&gt;\n  &lt;/auto-start&gt;\n&lt;/settings&gt;\n</code></pre>\n<h3>Example 3 (Fail)</h3>\n<pre class=\"lang-java prettyprint-override\"><code>    FileHandler() throws IOException, JDOMException {\n\n        Path settingsPath = Paths.get(&quot;res/settings/settings.xml&quot;);\n        File settingsFile = settingsPath.toFile();\n        boolean settingsExist = settingsFile.createNewFile();\n        settingsWriter = Channels.newWriter(\n              FileChannel.open(settingsPath, StandardOpenOption.WRITE),\n              StandardCharsets.UTF_8);\n        xmlOutput = new XMLOutputter();\n        xmlOutput.setFormat(Format.getPrettyFormat());\n\n        if (settingsExist) createSettings();\n\n        SAXBuilder saxBuilder = new SAXBuilder();\n        settingsDoc = saxBuilder.build(settingsFile);\n        settingsElement = settingsDoc.getRootElement();\n\n        setElementValue(&quot;time-work&quot;, &quot;5&quot;);\n        setElementValue(&quot;time-work&quot;, &quot;10&quot;);\n        setElementValue(&quot;time-work&quot;, &quot;30&quot;);\n    }\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;settings&gt;\n  &lt;time&gt;\n    &lt;time-work&gt;5&lt;/time-work&gt;\n    &lt;time-break&gt;5&lt;/time-break&gt;\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\n  &lt;/time&gt;\n  &lt;auto-start&gt;\n    &lt;start-work&gt;true&lt;/start-work&gt;\n    &lt;start-break&gt;true&lt;/start-break&gt;\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\n  &lt;/auto-start&gt;\n&lt;/settings&gt;\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;settings&gt;\n  &lt;time&gt;\n    &lt;time-work&gt;10&lt;/time-work&gt;\n    &lt;time-break&gt;5&lt;/time-break&gt;\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\n  &lt;/time&gt;\n  &lt;auto-start&gt;\n    &lt;start-work&gt;true&lt;/start-work&gt;\n    &lt;start-break&gt;true&lt;/start-break&gt;\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\n  &lt;/auto-start&gt;\n&lt;/settings&gt;\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;settings&gt;\n  &lt;time&gt;\n    &lt;time-work&gt;30&lt;/time-work&gt;\n    &lt;time-break&gt;5&lt;/time-break&gt;\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\n  &lt;/time&gt;\n  &lt;auto-start&gt;\n    &lt;start-work&gt;true&lt;/start-work&gt;\n    &lt;start-break&gt;true&lt;/start-break&gt;\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\n  &lt;/auto-start&gt;\n&lt;/settings&gt;\n</code></pre>\n<h3>Example 4 (Fail)</h3>\n<pre class=\"lang-java prettyprint-override\"><code>    FileHandler() throws IOException, JDOMException {\n\n        Path settingsPath = Paths.get(&quot;res/settings/settings.xml&quot;);\n        File settingsFile = settingsPath.toFile();\n        boolean settingsExist = settingsFile.createNewFile();\n        settingsWriter = Channels.newWriter(\n              FileChannel.open(settingsPath, StandardOpenOption.WRITE),\n              StandardCharsets.UTF_8);\n        xmlOutput = new XMLOutputter();\n        xmlOutput.setFormat(Format.getPrettyFormat());\n\n        if (settingsExist) createSettings();\n\n        SAXBuilder saxBuilder = new SAXBuilder();\n        settingsDoc = saxBuilder.build(settingsFile);\n        settingsElement = settingsDoc.getRootElement();\n\n        setElementValue(&quot;time-work&quot;, &quot;5&quot;);\n        setElementValue(&quot;time-break&quot;, &quot;10&quot;);\n        setElementValue(&quot;time-rest&quot;, &quot;30&quot;);\n    }\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;settings&gt;\n  &lt;time&gt;\n    &lt;time-work&gt;5&lt;/time-work&gt;\n    &lt;time-break&gt;5&lt;/time-break&gt;\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\n  &lt;/time&gt;\n  &lt;auto-start&gt;\n    &lt;start-work&gt;true&lt;/start-work&gt;\n    &lt;start-break&gt;true&lt;/start-break&gt;\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\n  &lt;/auto-start&gt;\n&lt;/settings&gt;\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;settings&gt;\n  &lt;time&gt;\n    &lt;time-work&gt;5&lt;/time-work&gt;\n    &lt;time-break&gt;10&lt;/time-break&gt;\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\n  &lt;/time&gt;\n  &lt;auto-start&gt;\n    &lt;start-work&gt;true&lt;/start-work&gt;\n    &lt;start-break&gt;true&lt;/start-break&gt;\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\n  &lt;/auto-start&gt;\n&lt;/settings&gt;\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;settings&gt;\n  &lt;time&gt;\n    &lt;time-work&gt;5&lt;/time-work&gt;\n    &lt;time-break&gt;10&lt;/time-break&gt;\n    &lt;time-rest&gt;30&lt;/time-rest&gt;\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\n  &lt;/time&gt;\n  &lt;auto-start&gt;\n    &lt;start-work&gt;true&lt;/start-work&gt;\n    &lt;start-break&gt;true&lt;/start-break&gt;\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\n  &lt;/auto-start&gt;\n&lt;/settings&gt;\n</code></pre>\n<h3>Example 5 (Fail)</h3>\n<pre class=\"lang-java prettyprint-override\"><code>    FileHandler() throws IOException, JDOMException {\n\n        Path settingsPath = Paths.get(&quot;res/settings/settings.xml&quot;);\n        File settingsFile = settingsPath.toFile();\n        boolean settingsExist = settingsFile.createNewFile();\n        settingsWriter = Channels.newWriter(\n              FileChannel.open(settingsPath, StandardOpenOption.WRITE),\n              StandardCharsets.UTF_8);\n        xmlOutput = new XMLOutputter();\n        xmlOutput.setFormat(Format.getPrettyFormat());\n\n        if (settingsExist) createSettings();\n\n        SAXBuilder saxBuilder = new SAXBuilder();\n        settingsDoc = saxBuilder.build(settingsFile);\n        settingsElement = settingsDoc.getRootElement();\n\n        setElementValue(&quot;time-work&quot;, &quot;5&quot;);\n        setElementValue(&quot;start-break&quot;, &quot;false&quot;);\n        setElementValue(&quot;time-interval&quot;, &quot;2&quot;);\n    }\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;settings&gt;\n  &lt;time&gt;\n    &lt;time-work&gt;5&lt;/time-work&gt;\n    &lt;time-break&gt;5&lt;/time-break&gt;\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\n  &lt;/time&gt;\n  &lt;auto-start&gt;\n    &lt;start-work&gt;true&lt;/start-work&gt;\n    &lt;start-break&gt;true&lt;/start-break&gt;\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\n  &lt;/auto-start&gt;\n&lt;/settings&gt;\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;settings&gt;\n  &lt;time&gt;\n    &lt;time-work&gt;5&lt;/time-work&gt;\n    &lt;time-break&gt;5&lt;/time-break&gt;\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\n    &lt;time-interval&gt;3&lt;/time-interval&gt;\n  &lt;/time&gt;\n  &lt;auto-start&gt;\n    &lt;start-work&gt;true&lt;/start-work&gt;\n    &lt;start-break&gt;false&lt;/start-break&gt;\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\n  &lt;/auto-start&gt;\n&lt;/settings&gt;\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;settings&gt;\n  &lt;time&gt;\n    &lt;time-work&gt;5&lt;/time-work&gt;\n    &lt;time-break&gt;5&lt;/time-break&gt;\n    &lt;time-rest&gt;15&lt;/time-rest&gt;\n    &lt;time-interval&gt;2&lt;/time-interval&gt;\n  &lt;/time&gt;\n  &lt;auto-start&gt;\n    &lt;start-work&gt;true&lt;/start-work&gt;\n    &lt;start-break&gt;false&lt;/start-break&gt;\n    &lt;start-rest&gt;true&lt;/start-rest&gt;\n  &lt;/auto-start&gt;\n&lt;/settings&gt;\n</code></pre>\n<h2>What I tried</h2>\n<p>Tried to close the writer and use re-building the &quot;<em>Document <strong>settingsDoc</strong></em>&quot; inside the function.</p>\n<p>Everything I tried ended in the same result, appending a new <em>XML</em> tree <strong>after overwriting just 1</strong>.</p>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":1,"creation_date":1668463154,"post_id":74438325,"comment_id":131406710,"body_markdown":"in each check the 3 others ?","body":"in each check the 3 others ?"},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1668463340,"post_id":74438325,"comment_id":131406764,"body_markdown":"A static field that is incremented every time one of the appropriate setters is called, but only if the value passed to the setter is 0 and the value of the static field is less than 3?","body":"A static field that is incremented every time one of the appropriate setters is called, but only if the value passed to the setter is 0 and the value of the static field is less than 3?"},{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":1,"creation_date":1668463920,"post_id":74438325,"comment_id":131406940,"body_markdown":"So your `Marks` instance is in an invalid state after creation? Don&#39;t do this.","body":"So your <code>Marks</code> instance is in an invalid state after creation? Don&#39;t do this."},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":1,"creation_date":1668464095,"post_id":74438325,"comment_id":131406991,"body_markdown":"Also the design here seems weird to me, but I don&#39;t know if you did what you did due to further restrictions in the problem statement. It makes much more sense for the marks to be an attribute of the person. Because the way you&#39;re doing it now you can set marks for James, Peter, Rayn and Layla, but you&#39;ll need to modify your code if you later on want to be able to set marks for, say, Albert or Joanna.","body":"Also the design here seems weird to me, but I don&#39;t know if you did what you did due to further restrictions in the problem statement. It makes much more sense for the marks to be an attribute of the person. Because the way you&#39;re doing it now you can set marks for James, Peter, Rayn and Layla, but you&#39;ll need to modify your code if you later on want to be able to set marks for, say, Albert or Joanna."}],"owner":{"account_id":26809541,"reputation":25,"user_id":20400359,"display_name":"anyonymousgamer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668463123,"creation_date":1668463094,"question_id":74438325,"body_markdown":"I&#39;m using 4 setter to allow user to set marks for 4 people as follows - \r\n\r\n```\r\nMarks marks = new Marks();\r\nmarks.setJames(1);\r\nmarks.setPeter(2);\r\nmarks.setRayn(3);\r\nmarks.setLayla(0);\r\n```\r\n\r\n\r\n**Problem Statement -**\r\n\r\n1. I want a scenario where the user can only provide 0 marks only upto 3 people but not 4.\r\n \r\n2. If user is trying to set 4th person with 0 marks after setting up 3 people&#39;s marks = 0 , then we need to throw an error of something like (Can&#39;t set 4 people to have 0 marks). \r\n\r\n3. How can I achieve this? I know this maybe a silly question but I&#39;m noob at java. Thanks in advance!\r\n","title":"How to allow only few setters to set value to zero in java using conditional statements?","body":"<p>I'm using 4 setter to allow user to set marks for 4 people as follows -</p>\n<pre><code>Marks marks = new Marks();\nmarks.setJames(1);\nmarks.setPeter(2);\nmarks.setRayn(3);\nmarks.setLayla(0);\n</code></pre>\n<p><strong>Problem Statement -</strong></p>\n<ol>\n<li><p>I want a scenario where the user can only provide 0 marks only upto 3 people but not 4.</p>\n</li>\n<li><p>If user is trying to set 4th person with 0 marks after setting up 3 people's marks = 0 , then we need to throw an error of something like (Can't set 4 people to have 0 marks).</p>\n</li>\n<li><p>How can I achieve this? I know this maybe a silly question but I'm noob at java. Thanks in advance!</p>\n</li>\n</ol>\n"},{"tags":["java","xml","spring","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":179840,"reputation":22133,"user_id":412763,"accept_rate":91,"display_name":"Petter Nordlander"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1369888853,"creation_date":1369888853,"answer_id":16828062,"question_id":16823594,"body_markdown":"You need to preconfigure a set of SSLContextParameters and then you can add whichever certificate you want to the http endpoint. You can have a choice to route to different endpoints with different certificates.\r\n\r\nIt&#39;s described in the Camel docs [here][1]:\r\n\r\n\r\n  [1]: http://camel.apache.org/http4.html#HTTP4-SettingupSSLforHTTPClient","title":"Apache Camel, Client Certificates","body":"<p>You need to preconfigure a set of SSLContextParameters and then you can add whichever certificate you want to the http endpoint. You can have a choice to route to different endpoints with different certificates.</p>\n\n<p>It's described in the Camel docs <a href=\"http://camel.apache.org/http4.html#HTTP4-SettingupSSLforHTTPClient\" rel=\"nofollow\">here</a>:</p>\n"}],"owner":{"account_id":127394,"reputation":8714,"user_id":324516,"accept_rate":86,"display_name":"Ryan Ternier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3824,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1668462264,"creation_date":1369860818,"question_id":16823594,"body_markdown":"I&#39;m trying to find an elegant way to attach client certificates through Apache Camel. It can either be in Java or Spring XML.\r\n\r\nThe servers I&#39;m sending to all have server cert&#39;s which would encrypt the traffic, but I need to attach the client public certificate to the message before sending. The server contains 15 or so certificates with their corresponding private keys.\r\n\r\nMy main configuration is written in Spring XML, so I&#39;m not sure how to get that working with adding client certificates.\r\n\r\n(I&#39;m a .NET guy with minimal java and 0 Linux experience)\r\n\r\nSample Spring:\r\n\r\n    &lt;camel:route&gt;          \r\n    \t&lt;camel:from uri=&quot;direct:GetEligibility&quot;/&gt;\r\n    \t&lt;camel:doTry&gt;                   \r\n    \t\t&lt;camel:choice&gt;\r\n    \t\t\t&lt;camel:when&gt;\r\n    \t\t\t\t&lt;camel:xpath&gt;count(//soapenv:Envelope) = &#39;0&#39;&lt;/camel:xpath&gt;\r\n    \t\t\t\t&lt;camel:to uri=&quot;xslt:xslt/WrapSoap.xsl&quot;/&gt;\r\n    \t\t\t&lt;/camel:when&gt;\r\n    \t\t&lt;/camel:choice&gt;   \r\n    \t\t&lt;camel:setHeader headerName=&quot;CamelHttpMethod&quot;&gt;\r\n    \t\t\t&lt;camel:constant&gt;POST&lt;/camel:constant&gt;\r\n    \t\t&lt;/camel:setHeader&gt;\r\n    \t\t\t\t\t\t\r\n    \t\t&lt;camel:setHeader headerName=&quot;Content-Type&quot;&gt;\r\n    \t\t\t&lt;camel:constant&gt;text/xml; charset=utf-8&lt;/camel:constant&gt;\r\n    \t\t&lt;/camel:setHeader&gt;     \r\n    \t\t\t   \r\n    \t\t&lt;camel:to uri=&quot;https://testsite.gov.ca/Services.Secured/FICR_AR022001.asmx&quot;/&gt;        \r\n    \t\t\t\t\t  \r\n    \t\t&lt;camel:doCatch&gt;\r\n    \t\t\t&lt;camel:exception&gt;java.lang.Exception&lt;/camel:exception&gt;\r\n    \t\t\t&lt;camel:bean ref=&quot;log&quot; method=&quot;error&quot;/&gt;\r\n    \t\t&lt;/camel:doCatch&gt;\r\n    \t&lt;/camel:doTry&gt;                \r\n    &lt;/camel:route&gt;    ","title":"Apache Camel, Client Certificates","body":"<p>I'm trying to find an elegant way to attach client certificates through Apache Camel. It can either be in Java or Spring XML.</p>\n\n<p>The servers I'm sending to all have server cert's which would encrypt the traffic, but I need to attach the client public certificate to the message before sending. The server contains 15 or so certificates with their corresponding private keys.</p>\n\n<p>My main configuration is written in Spring XML, so I'm not sure how to get that working with adding client certificates.</p>\n\n<p>(I'm a .NET guy with minimal java and 0 Linux experience)</p>\n\n<p>Sample Spring:</p>\n\n<pre><code>&lt;camel:route&gt;          \n    &lt;camel:from uri=\"direct:GetEligibility\"/&gt;\n    &lt;camel:doTry&gt;                   \n        &lt;camel:choice&gt;\n            &lt;camel:when&gt;\n                &lt;camel:xpath&gt;count(//soapenv:Envelope) = '0'&lt;/camel:xpath&gt;\n                &lt;camel:to uri=\"xslt:xslt/WrapSoap.xsl\"/&gt;\n            &lt;/camel:when&gt;\n        &lt;/camel:choice&gt;   \n        &lt;camel:setHeader headerName=\"CamelHttpMethod\"&gt;\n            &lt;camel:constant&gt;POST&lt;/camel:constant&gt;\n        &lt;/camel:setHeader&gt;\n\n        &lt;camel:setHeader headerName=\"Content-Type\"&gt;\n            &lt;camel:constant&gt;text/xml; charset=utf-8&lt;/camel:constant&gt;\n        &lt;/camel:setHeader&gt;     \n\n        &lt;camel:to uri=\"https://testsite.gov.ca/Services.Secured/FICR_AR022001.asmx\"/&gt;        \n\n        &lt;camel:doCatch&gt;\n            &lt;camel:exception&gt;java.lang.Exception&lt;/camel:exception&gt;\n            &lt;camel:bean ref=\"log\" method=\"error\"/&gt;\n        &lt;/camel:doCatch&gt;\n    &lt;/camel:doTry&gt;                \n&lt;/camel:route&gt;    \n</code></pre>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1668443485,"post_id":74434841,"comment_id":131400574,"body_markdown":"I think the question should explain a little more what &quot;filter&quot; means, exactly. You should also include the code for the `Provinces` class.","body":"I think the question should explain a little more what &quot;filter&quot; means, exactly. You should also include the code for the <code>Provinces</code> class."},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1668443490,"post_id":74434841,"comment_id":131400576,"body_markdown":"I don&#39;t understand why you need a list of string to filter it. You can just filter on a list of Provinces as easily...","body":"I don&#39;t understand why you need a list of string to filter it. You can just filter on a list of Provinces as easily..."},{"owner":{"account_id":15650594,"reputation":43,"user_id":11292065,"display_name":"Bernardo Alves"},"score":0,"creation_date":1668443745,"post_id":74434841,"comment_id":131400680,"body_markdown":"@grekier I tried to but can&#39;t make it work and we have a code already working for string list.","body":"@grekier I tried to but can&#39;t make it work and we have a code already working for string list."},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1668444077,"post_id":74434841,"comment_id":131400816,"body_markdown":"Please reformat and add `ProvincesData` as well. Also specify how you want the filter to work and we&#39;ll be able to provide it.","body":"Please reformat and add <code>ProvincesData</code> as well. Also specify how you want the filter to work and we&#39;ll be able to provide it."},{"owner":{"account_id":15650594,"reputation":43,"user_id":11292065,"display_name":"Bernardo Alves"},"score":0,"creation_date":1668445041,"post_id":74434841,"comment_id":131401158,"body_markdown":"@grekier I tried to be more specific. My filter will serve to print the List without dupes and to change the names that the original API has.","body":"@grekier I tried to be more specific. My filter will serve to print the List without dupes and to change the names that the original API has."}],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668462244,"creation_date":1668462244,"answer_id":74438205,"question_id":74434841,"body_markdown":"Update your service to something like:\r\n```\r\npublic static Provinces restTemplateProvince(RestTemplate restTemplate) {\r\n  String ProvinceCommunityURL = &quot;https://www.el-tiempo.net/api/json/v2/provincias&quot;;\r\n  Provinces province = restTemplate.getForObject(ProvinceCommunityURL, Provinces.class);\r\n  List&lt;String&gt; included = new ArrayList&lt;&gt;();\r\n  List&lt;ProvincesData&gt; filtered = province.getprovinces()\r\n    .stream().filter(p -&gt; {\r\n      if (included.contains(p.getCodAuton())) {\r\n        return false;\r\n      } else {\r\n        included.add(p.getCodAuton());\r\n        return true;\r\n      }\r\n    })\r\n    .collect(Collectors.toList());\r\n  province.setprovinces(filtered);\r\n  return province;\r\n}\r\n```\r\nCould be done more efficiently but it is probably more readable like this.","title":"Creating a string list from RestTemplate","body":"<p>Update your service to something like:</p>\n<pre><code>public static Provinces restTemplateProvince(RestTemplate restTemplate) {\n  String ProvinceCommunityURL = &quot;https://www.el-tiempo.net/api/json/v2/provincias&quot;;\n  Provinces province = restTemplate.getForObject(ProvinceCommunityURL, Provinces.class);\n  List&lt;String&gt; included = new ArrayList&lt;&gt;();\n  List&lt;ProvincesData&gt; filtered = province.getprovinces()\n    .stream().filter(p -&gt; {\n      if (included.contains(p.getCodAuton())) {\n        return false;\n      } else {\n        included.add(p.getCodAuton());\n        return true;\n      }\n    })\n    .collect(Collectors.toList());\n  province.setprovinces(filtered);\n  return province;\n}\n</code></pre>\n<p>Could be done more efficiently but it is probably more readable like this.</p>\n"}],"owner":{"account_id":15650594,"reputation":43,"user_id":11292065,"display_name":"Bernardo Alves"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74438205,"answer_count":1,"score":0,"last_activity_date":1668462244,"creation_date":1668443264,"question_id":74434841,"body_markdown":"I am using `restTemplate` to retrieve data from a url, and I get it as a List of Objects but I need a List of Strings to be able to filter it (I want to remove duplicates and change some attribute names).\r\n\r\nThis is my Template:\r\n```java\r\npublic static Provinces restTemplateProvince(RestTemplate restTemplate) {\r\n\t\tString ProvinceCommunityURL = &quot;https://www.el-tiempo.net/api/json/v2/provincias&quot;;\r\n\r\n\t\tProvinces province = restTemplate.getForObject(ProvinceCommunityURL, Provinces.class);\r\n\r\n\t\treturn province;\r\n\t}\r\n```\r\nNow I want to filter this data and show it in my own API. I&#39;m able to show it with the following:\r\n\r\n```java\r\nRestController\r\npublic class ShowcaseController {\r\n\r\n\t@Autowired\r\n\tProvinceService provinceService;\r\n\r\n\t@GetMapping(&quot;/provinces&quot;)\r\n    public Provinces getAllProvinces(){\r\n\r\n\t  return provinceService.getAllProvinces(); \r\n\r\n\t}\r\n}\r\n```\r\n\r\n```java\r\n@Service\r\npublic class ProvinceService {\r\n\r\n\t@Autowired\r\n\tRestTemplate restTemplate;\r\n\r\n    public Provinces getAllProvinces(){\r\n        \r\n\t    Provinces listOfProvinces = Templates.restTemplateProvince(searchList);\r\n        return listOfProvinces;\r\n    }\r\n}\r\n```\r\nBut I can&#39;t filter it in this list type. \r\nHow could I do it?\r\n\r\nMy Province class:\r\n\r\n```java\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class Provinces {\r\n    \r\n    @JsonProperty(&quot;provincial&quot;)\r\n    private List&lt;ProvincesData&gt; provinces;\r\n\r\n    public Provinces(){}\r\n\r\n    public Provinces(List&lt;ProvincesData&gt; provinces) {\r\n\t    this.provinces = provinces;\r\n    }\r\n\r\n    @JsonProperty(&quot;provincial&quot;)\r\n    public List&lt;ProvincesData&gt; getprovinces() {\r\n\t    return provinces;\r\n    }\r\n\r\n    @JsonProperty(&quot;Test&quot;)\r\n    public void setprovinces(List&lt;ProvincesData&gt; provinces) {\r\n\t    this.provinces = provinces;\r\n    }\r\n\r\n}\r\n```\r\nAnd ProvinceData class:\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class ProvincesData {\r\n\r\n    @JsonProperty(&quot;CODPROV&quot;)\r\n    private String codProv;\r\n\r\n    @JsonProperty(&quot;NOMBRE_PROVINCIA&quot;)\r\n\tprivate String nomeProvincia;\r\n\r\n    @JsonProperty(&quot;CODAUTON&quot;)\r\n    private String codAuton;\r\n\r\n    @JsonProperty(&quot;COMUNIDAD_CIUDAD_AUTONOMA&quot;)\r\n\tprivate String comunidadeCidadeAutonoma;\r\n\r\n\tpublic ProvincesData(){\r\n\t}\r\n\r\n\tpublic ProvincesData(String codProv, String nomeProvincia, String codAuton, String comunidadeCidadeAutonoma){\r\n\t\t\r\n        this.codProv = codProv;\r\n\t\tthis.nomeProvincia = nomeProvincia;\r\n        this.codAuton = codAuton;\r\n        this.comunidadeCidadeAutonoma = comunidadeCidadeAutonoma; \r\n\t}\r\n \r\n    @JsonProperty(&quot;CODPROV&quot;)\r\n    public String getCodProv() {\r\n        return codProv;\r\n    }\r\n\r\n    @JsonProperty(&quot;Test&quot;)\r\n    public void setCodProv(String codProv) {\r\n        this.codProv = codProv;\r\n    }\r\n\r\n    public String getNomeProvincia() {\r\n        return nomeProvincia;\r\n    }\r\n\r\n    public void setNomeProvincia(String nomeProvincia) {\r\n        this.nomeProvincia = nomeProvincia;\r\n    }\r\n\r\n    public String getCodAuton() {\r\n        return codAuton;\r\n    }\r\n\r\n    public void setCodAuton(String codAuton) {\r\n        this.codAuton = codAuton;\r\n    }\r\n\r\n    public String getComunidadeCidadeAutonoma() {\r\n        return comunidadeCidadeAutonoma;\r\n    }\r\n\r\n    public void setComunidadeCidadeAutonoma(String comunidadeCidadeAutonoma) {\r\n        this.comunidadeCidadeAutonoma = comunidadeCidadeAutonoma;\r\n    }\r\n}\r\n\r\nThe filter to isolate the `codAuton` and `comunidadeCidadeAutonoma` columns without repeating. If possible, build a new list with only the data I want and change de variable name so that I can then show them in my API with different titles and such. \r\n\r\nRegards.\r\n\r\n\r\n\r\n","title":"Creating a string list from RestTemplate","body":"<p>I am using <code>restTemplate</code> to retrieve data from a url, and I get it as a List of Objects but I need a List of Strings to be able to filter it (I want to remove duplicates and change some attribute names).</p>\n<p>This is my Template:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Provinces restTemplateProvince(RestTemplate restTemplate) {\n        String ProvinceCommunityURL = &quot;https://www.el-tiempo.net/api/json/v2/provincias&quot;;\n\n        Provinces province = restTemplate.getForObject(ProvinceCommunityURL, Provinces.class);\n\n        return province;\n    }\n</code></pre>\n<p>Now I want to filter this data and show it in my own API. I'm able to show it with the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>RestController\npublic class ShowcaseController {\n\n    @Autowired\n    ProvinceService provinceService;\n\n    @GetMapping(&quot;/provinces&quot;)\n    public Provinces getAllProvinces(){\n\n      return provinceService.getAllProvinces(); \n\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class ProvinceService {\n\n    @Autowired\n    RestTemplate restTemplate;\n\n    public Provinces getAllProvinces(){\n        \n        Provinces listOfProvinces = Templates.restTemplateProvince(searchList);\n        return listOfProvinces;\n    }\n}\n</code></pre>\n<p>But I can't filter it in this list type.\nHow could I do it?</p>\n<p>My Province class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Provinces {\n    \n    @JsonProperty(&quot;provincial&quot;)\n    private List&lt;ProvincesData&gt; provinces;\n\n    public Provinces(){}\n\n    public Provinces(List&lt;ProvincesData&gt; provinces) {\n        this.provinces = provinces;\n    }\n\n    @JsonProperty(&quot;provincial&quot;)\n    public List&lt;ProvincesData&gt; getprovinces() {\n        return provinces;\n    }\n\n    @JsonProperty(&quot;Test&quot;)\n    public void setprovinces(List&lt;ProvincesData&gt; provinces) {\n        this.provinces = provinces;\n    }\n\n}\n</code></pre>\n<p>And ProvinceData class:</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n</code></pre>\n<p>public class ProvincesData {</p>\n<pre><code>@JsonProperty(&quot;CODPROV&quot;)\nprivate String codProv;\n\n@JsonProperty(&quot;NOMBRE_PROVINCIA&quot;)\nprivate String nomeProvincia;\n\n@JsonProperty(&quot;CODAUTON&quot;)\nprivate String codAuton;\n\n@JsonProperty(&quot;COMUNIDAD_CIUDAD_AUTONOMA&quot;)\nprivate String comunidadeCidadeAutonoma;\n\npublic ProvincesData(){\n}\n\npublic ProvincesData(String codProv, String nomeProvincia, String codAuton, String comunidadeCidadeAutonoma){\n    \n    this.codProv = codProv;\n    this.nomeProvincia = nomeProvincia;\n    this.codAuton = codAuton;\n    this.comunidadeCidadeAutonoma = comunidadeCidadeAutonoma; \n}\n\n@JsonProperty(&quot;CODPROV&quot;)\npublic String getCodProv() {\n    return codProv;\n}\n\n@JsonProperty(&quot;Test&quot;)\npublic void setCodProv(String codProv) {\n    this.codProv = codProv;\n}\n\npublic String getNomeProvincia() {\n    return nomeProvincia;\n}\n\npublic void setNomeProvincia(String nomeProvincia) {\n    this.nomeProvincia = nomeProvincia;\n}\n\npublic String getCodAuton() {\n    return codAuton;\n}\n\npublic void setCodAuton(String codAuton) {\n    this.codAuton = codAuton;\n}\n\npublic String getComunidadeCidadeAutonoma() {\n    return comunidadeCidadeAutonoma;\n}\n\npublic void setComunidadeCidadeAutonoma(String comunidadeCidadeAutonoma) {\n    this.comunidadeCidadeAutonoma = comunidadeCidadeAutonoma;\n}\n</code></pre>\n<p>}</p>\n<p>The filter to isolate the <code>codAuton</code> and <code>comunidadeCidadeAutonoma</code> columns without repeating. If possible, build a new list with only the data I want and change de variable name so that I can then show them in my API with different titles and such.</p>\n<p>Regards.</p>\n"},{"tags":["java","android","surfaceview"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1668462880,"post_id":74438184,"comment_id":131406634,"body_markdown":"I suggest that you edit your question and provide the *entire* stack trace, not just the first line.","body":"I suggest that you edit your question and provide the <i>entire</i> stack trace, not just the first line."},{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":0,"creation_date":1668476883,"post_id":74438184,"comment_id":131409503,"body_markdown":"I guess life cycle issue. You can&#39;t use the activity context until your activity created. (i.e., There is an instance variable which will use the activity context, which is not yet defined, &quot;MediaController mediaController = new MediaController(this){}&quot;) Also, there are lots of warning in the code so you shall probably take care of it.","body":"I guess life cycle issue. You can&#39;t use the activity context until your activity created. (i.e., There is an instance variable which will use the activity context, which is not yet defined, &quot;MediaController mediaController = new MediaController(this){}&quot;) Also, there are lots of warning in the code so you shall probably take care of it."},{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":0,"creation_date":1668477174,"post_id":74438184,"comment_id":131409528,"body_markdown":"But for dedicated issue you ask, it shall due to the mediaController there. Either init it in onCreate() method if you need to use in future or remove it if it is not used at all.","body":"But for dedicated issue you ask, it shall due to the mediaController there. Either init it in onCreate() method if you need to use in future or remove it if it is not used at all."},{"owner":{"account_id":18607870,"reputation":1,"user_id":13561069,"display_name":"applicationStarter"},"score":0,"creation_date":1668513169,"post_id":74438184,"comment_id":131418388,"body_markdown":"@CommonsWare Thanks for your comment. I&#39;ll refer your advise and will post with providing entire stack trace :)","body":"@CommonsWare Thanks for your comment. I&#39;ll refer your advise and will post with providing entire stack trace :)"},{"owner":{"account_id":18607870,"reputation":1,"user_id":13561069,"display_name":"applicationStarter"},"score":0,"creation_date":1668513236,"post_id":74438184,"comment_id":131418409,"body_markdown":"@AndroidNewbieA Yes! your mentions make it work!! So much thanks for your kind advise!","body":"@AndroidNewbieA Yes! your mentions make it work!! So much thanks for your kind advise!"}],"owner":{"account_id":18607870,"reputation":1,"user_id":13561069,"display_name":"applicationStarter"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668462153,"creation_date":1668462153,"question_id":74438184,"body_markdown":"I&#39;m trying to make a video player by using surfaceView and mediaplayer, mediacontroller.\r\nI understand the error is in instance in my code, however, don&#39;t know what point to make it fixed.\r\nRelated posts in Stackoverflow were seen though I cannot get the point because of my lack of understanding..\r\n\r\nPlease let me know which point I have to fix.\r\n\r\n\r\n```\r\njava.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.project.textureviewvideotest/com.project.textureviewvideotest.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.res.Resources android.content.Context.getResources()&#39; on a null object reference\r\n```\r\n\r\n\r\nactivity_main.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:padding=&quot;8dp&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;SurfaceView\r\n        android:id=&quot;@+id/surfaceView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:layout_alignParentTop=&quot;true&quot; /&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/position_anchor&quot;\r\n        android:layout_width=&quot;2dp&quot;\r\n        android:layout_height=&quot;40dp&quot;\r\n        android:layout_below=&quot;@id/surfaceView&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;&gt;\r\n    &lt;/FrameLayout&gt;\r\n\r\n    &lt;Button\r\n        android:layout_width=&quot;100dp&quot;\r\n        android:layout_height=&quot;40dp&quot;\r\n        android:text=&quot;Play&quot;\r\n        android:id=&quot;@+id/play_btn&quot;\r\n        android:layout_alignBottom=&quot;@+id/position_anchor&quot;\r\n        android:layout_toStartOf=&quot;@+id/position_anchor&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:layout_width=&quot;100dp&quot;\r\n        android:layout_height=&quot;40dp&quot;\r\n        android:text=&quot;Stop&quot;\r\n        android:id=&quot;@+id/stop_btn&quot;\r\n        android:layout_alignBottom=&quot;@+id/position_anchor&quot;\r\n        android:layout_toEndOf=&quot;@+id/position_anchor&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\n\r\nMainActivity.java\r\n\r\n```\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.content.FileProvider;\r\n\r\nimport android.content.Context;\r\nimport android.content.res.AssetFileDescriptor;\r\nimport android.graphics.SurfaceTexture;\r\nimport android.media.AudioManager;\r\nimport android.media.MediaPlayer;\r\nimport android.net.Uri;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.util.Log;\r\nimport android.view.MotionEvent;\r\nimport android.view.Surface;\r\nimport android.view.SurfaceHolder;\r\nimport android.view.SurfaceView;\r\nimport android.view.TextureView;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.MediaController;\r\nimport android.widget.Toast;\r\n\r\npublic class MainActivity extends AppCompatActivity implements SurfaceHolder.Callback, MediaPlayer.OnPreparedListener, MediaController.MediaPlayerControl  {\r\n    public final static String TAG = &quot;MainActivity&quot;;\r\n\r\n    LinearLayout container;\r\n\r\n    SurfaceView surfaceView;\r\n    SurfaceHolder surfaceHolder;\r\n    MediaPlayer mediaPlayer;\r\n    Uri video_uri;\r\n    Button playButton;\r\n\r\n    MediaController mcontroller;\r\n    AssetFileDescriptor fileDescriptor;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Context context;\r\n\r\n        video_uri = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + &quot;/raw/testvideo&quot;);\r\n\r\n\r\n        container = findViewById(R.id.container);\r\n\r\n        try{\r\n            mediaPlayer = new MediaPlayer();\r\n            mediaPlayer.setDataSource(this, video_uri);\r\n            surfaceView = findViewById(R.id.surfaceView);\r\n\r\n            surfaceHolder = surfaceView.getHolder();\r\n            surfaceHolder.addCallback(this);\r\n\r\n            playButton = findViewById(R.id.play_btn);\r\n            playButton.setOnClickListener(clickListener);\r\n\r\n            Button stopButton = findViewById(R.id.stop_btn);\r\n            stopButton.setOnClickListener(clickListener);\r\n        } catch(Exception e) {\r\n            Log.e(TAG, &quot;ERROR&quot;, e);\r\n        }\r\n    }\r\n\r\n    Button.OnClickListener clickListener = new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n            if (v.getId() == R.id.play_btn) {\r\n                Log.i(&quot;main&quot;, &quot;play&quot;);\r\n                startOrPause();\r\n            } else if (v.getId() == R.id.stop_btn) {\r\n                stopNprepare();\r\n            }\r\n        }\r\n    };\r\n\r\n    @Override\r\n    public boolean onTouchEvent(MotionEvent event) {\r\n        mcontroller.show();\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public void surfaceCreated(SurfaceHolder holder) {\r\n        Toast.makeText(getApplicationContext(),&quot;surfaceCreated&quot;,Toast.LENGTH_LONG).show();\r\n        mediaPlayer.setDisplay(holder);\r\n        try {\r\n\r\n\r\n            mediaPlayer.prepare();\r\n            mediaPlayer.setOnCompletionListener(completionListener);\r\n\r\n            mcontroller = new MediaController(this);\r\n            mediaPlayer.setOnPreparedListener(this);\r\n            mediaPlayer.setScreenOnWhilePlaying(true);\r\n            mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        mediaPlayer.start();\r\n    }\r\n\r\n    MediaPlayer.OnCompletionListener completionListener = new MediaPlayer.OnCompletionListener() {\r\n        \r\n        @Override\r\n        public void onCompletion(MediaPlayer mp) {\r\n            playButton.setText(&quot;Play&quot;);\r\n        }\r\n    };\r\n\r\n    @Override\r\n    public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void surfaceDestroyed(SurfaceHolder holder) {\r\n        Toast.makeText(getApplicationContext(),&quot;surfaceDestroyed&quot;,Toast.LENGTH_LONG).show();\r\n\r\n    }\r\n\r\n\r\n    private void startOrPause() {\r\n        if (mediaPlayer.isPlaying()) {\r\n            mediaPlayer.pause();\r\n            playButton.setText(&quot;Play&quot;);\r\n        } else {\r\n            mediaPlayer.start();\r\n            playButton.setText(&quot;Pause&quot;);\r\n        }\r\n    }\r\n\r\n    private void stopNprepare() {\r\n        mediaPlayer.stop();\r\n        playButton.setText(&quot;Play&quot;);\r\n\r\n\r\n        try {\r\n            // mediaplayer 재생 준비\r\n            mediaPlayer.prepare();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        if (mediaPlayer != null) {\r\n            mediaPlayer.release();\r\n        }\r\n    }\r\n\r\n    // Add implement methods to Override\r\n    MediaController mediaController = new MediaController(this){\r\n\r\n    };\r\n\r\n    @Override\r\n    public void start() {\r\n        mediaPlayer.start();\r\n    }\r\n\r\n    @Override\r\n    public void pause() {\r\n        mediaPlayer.pause();\r\n    }\r\n\r\n    @Override\r\n    public int getDuration() {\r\n        return mediaPlayer.getDuration();\r\n    }\r\n\r\n    @Override\r\n    public int getCurrentPosition() {\r\n        return mediaPlayer.getCurrentPosition();\r\n    }\r\n\r\n    @Override\r\n    public void seekTo(int i) {\r\n        mediaPlayer.seekTo(i);\r\n    }\r\n\r\n    @Override\r\n    public boolean isPlaying() {\r\n        return mediaPlayer.isPlaying();\r\n    }\r\n\r\n    @Override\r\n    public int getBufferPercentage() {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public boolean canPause() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean canSeekBackward() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean canSeekForward() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public int getAudioSessionId() {\r\n        return 0;\r\n    }\r\n\r\n    Handler handler;    // android.os.Handler\r\n    @Override\r\n    public void onPrepared(MediaPlayer mp) {\r\n        mcontroller.setMediaPlayer(this);\r\n        mcontroller.setAnchorView(findViewById(R.id.surfaceView));\r\n        mcontroller.setEnabled(true);\r\n\r\n        handler = new Handler();\r\n        handler.post(new Runnable() {\r\n            public void run() {\r\n                mcontroller.show();\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n","title":"&#39;android.content.res.Resources android.content.Context.getResources()&#39; on a null object reference","body":"<p>I'm trying to make a video player by using surfaceView and mediaplayer, mediacontroller.\nI understand the error is in instance in my code, however, don't know what point to make it fixed.\nRelated posts in Stackoverflow were seen though I cannot get the point because of my lack of understanding..</p>\n<p>Please let me know which point I have to fix.</p>\n<pre><code>java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.project.textureviewvideotest/com.project.textureviewvideotest.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.res.Resources android.content.Context.getResources()' on a null object reference\n</code></pre>\n<p>activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:padding=&quot;8dp&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;SurfaceView\n        android:id=&quot;@+id/surfaceView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:layout_alignParentTop=&quot;true&quot; /&gt;\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/position_anchor&quot;\n        android:layout_width=&quot;2dp&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:layout_below=&quot;@id/surfaceView&quot;\n        android:layout_centerHorizontal=&quot;true&quot;&gt;\n    &lt;/FrameLayout&gt;\n\n    &lt;Button\n        android:layout_width=&quot;100dp&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:text=&quot;Play&quot;\n        android:id=&quot;@+id/play_btn&quot;\n        android:layout_alignBottom=&quot;@+id/position_anchor&quot;\n        android:layout_toStartOf=&quot;@+id/position_anchor&quot; /&gt;\n\n    &lt;Button\n        android:layout_width=&quot;100dp&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:text=&quot;Stop&quot;\n        android:id=&quot;@+id/stop_btn&quot;\n        android:layout_alignBottom=&quot;@+id/position_anchor&quot;\n        android:layout_toEndOf=&quot;@+id/position_anchor&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.content.FileProvider;\n\nimport android.content.Context;\nimport android.content.res.AssetFileDescriptor;\nimport android.graphics.SurfaceTexture;\nimport android.media.AudioManager;\nimport android.media.MediaPlayer;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.util.Log;\nimport android.view.MotionEvent;\nimport android.view.Surface;\nimport android.view.SurfaceHolder;\nimport android.view.SurfaceView;\nimport android.view.TextureView;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.LinearLayout;\nimport android.widget.MediaController;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity implements SurfaceHolder.Callback, MediaPlayer.OnPreparedListener, MediaController.MediaPlayerControl  {\n    public final static String TAG = &quot;MainActivity&quot;;\n\n    LinearLayout container;\n\n    SurfaceView surfaceView;\n    SurfaceHolder surfaceHolder;\n    MediaPlayer mediaPlayer;\n    Uri video_uri;\n    Button playButton;\n\n    MediaController mcontroller;\n    AssetFileDescriptor fileDescriptor;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Context context;\n\n        video_uri = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + &quot;/raw/testvideo&quot;);\n\n\n        container = findViewById(R.id.container);\n\n        try{\n            mediaPlayer = new MediaPlayer();\n            mediaPlayer.setDataSource(this, video_uri);\n            surfaceView = findViewById(R.id.surfaceView);\n\n            surfaceHolder = surfaceView.getHolder();\n            surfaceHolder.addCallback(this);\n\n            playButton = findViewById(R.id.play_btn);\n            playButton.setOnClickListener(clickListener);\n\n            Button stopButton = findViewById(R.id.stop_btn);\n            stopButton.setOnClickListener(clickListener);\n        } catch(Exception e) {\n            Log.e(TAG, &quot;ERROR&quot;, e);\n        }\n    }\n\n    Button.OnClickListener clickListener = new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            if (v.getId() == R.id.play_btn) {\n                Log.i(&quot;main&quot;, &quot;play&quot;);\n                startOrPause();\n            } else if (v.getId() == R.id.stop_btn) {\n                stopNprepare();\n            }\n        }\n    };\n\n    @Override\n    public boolean onTouchEvent(MotionEvent event) {\n        mcontroller.show();\n        return false;\n    }\n\n    @Override\n    public void surfaceCreated(SurfaceHolder holder) {\n        Toast.makeText(getApplicationContext(),&quot;surfaceCreated&quot;,Toast.LENGTH_LONG).show();\n        mediaPlayer.setDisplay(holder);\n        try {\n\n\n            mediaPlayer.prepare();\n            mediaPlayer.setOnCompletionListener(completionListener);\n\n            mcontroller = new MediaController(this);\n            mediaPlayer.setOnPreparedListener(this);\n            mediaPlayer.setScreenOnWhilePlaying(true);\n            mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        mediaPlayer.start();\n    }\n\n    MediaPlayer.OnCompletionListener completionListener = new MediaPlayer.OnCompletionListener() {\n        \n        @Override\n        public void onCompletion(MediaPlayer mp) {\n            playButton.setText(&quot;Play&quot;);\n        }\n    };\n\n    @Override\n    public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {\n\n    }\n\n    @Override\n    public void surfaceDestroyed(SurfaceHolder holder) {\n        Toast.makeText(getApplicationContext(),&quot;surfaceDestroyed&quot;,Toast.LENGTH_LONG).show();\n\n    }\n\n\n    private void startOrPause() {\n        if (mediaPlayer.isPlaying()) {\n            mediaPlayer.pause();\n            playButton.setText(&quot;Play&quot;);\n        } else {\n            mediaPlayer.start();\n            playButton.setText(&quot;Pause&quot;);\n        }\n    }\n\n    private void stopNprepare() {\n        mediaPlayer.stop();\n        playButton.setText(&quot;Play&quot;);\n\n\n        try {\n            // mediaplayer 재생 준비\n            mediaPlayer.prepare();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        if (mediaPlayer != null) {\n            mediaPlayer.release();\n        }\n    }\n\n    // Add implement methods to Override\n    MediaController mediaController = new MediaController(this){\n\n    };\n\n    @Override\n    public void start() {\n        mediaPlayer.start();\n    }\n\n    @Override\n    public void pause() {\n        mediaPlayer.pause();\n    }\n\n    @Override\n    public int getDuration() {\n        return mediaPlayer.getDuration();\n    }\n\n    @Override\n    public int getCurrentPosition() {\n        return mediaPlayer.getCurrentPosition();\n    }\n\n    @Override\n    public void seekTo(int i) {\n        mediaPlayer.seekTo(i);\n    }\n\n    @Override\n    public boolean isPlaying() {\n        return mediaPlayer.isPlaying();\n    }\n\n    @Override\n    public int getBufferPercentage() {\n        return 0;\n    }\n\n    @Override\n    public boolean canPause() {\n        return true;\n    }\n\n    @Override\n    public boolean canSeekBackward() {\n        return true;\n    }\n\n    @Override\n    public boolean canSeekForward() {\n        return true;\n    }\n\n    @Override\n    public int getAudioSessionId() {\n        return 0;\n    }\n\n    Handler handler;    // android.os.Handler\n    @Override\n    public void onPrepared(MediaPlayer mp) {\n        mcontroller.setMediaPlayer(this);\n        mcontroller.setAnchorView(findViewById(R.id.surfaceView));\n        mcontroller.setEnabled(true);\n\n        handler = new Handler();\n        handler.post(new Runnable() {\n            public void run() {\n                mcontroller.show();\n            }\n        });\n    }\n\n}\n\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9109,"page":883,"page_size":100}
