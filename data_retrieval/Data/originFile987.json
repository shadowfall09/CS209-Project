{"items":[{"tags":["java","hibernate"],"answers":[{"comments":[{"owner":{"account_id":10592234,"reputation":776,"user_id":7802372,"accept_rate":50,"display_name":"f.trajkovski"},"score":0,"creation_date":1665042490,"post_id":73963901,"comment_id":130607533,"body_markdown":"I tried getting the information using the `SessionStatistics` but I wasn&#39;t able to get the number of inserts, deletes or creates. There are some methods like: `getEntityCount`, `getCollectionCount` and `getEntityKeys` which aren&#39;t giving the needed information. Or am I missing something?","body":"I tried getting the information using the <code>SessionStatistics</code> but I wasn&#39;t able to get the number of inserts, deletes or creates. There are some methods like: <code>getEntityCount</code>, <code>getCollectionCount</code> and <code>getEntityKeys</code> which aren&#39;t giving the needed information. Or am I missing something?"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1665049348,"post_id":73963901,"comment_id":130609961,"body_markdown":"These are the statistics that are collected on a per-session basis. You can collect custom metrics if you want by implementing a custom `Interceptor`: https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#events","body":"These are the statistics that are collected on a per-session basis. You can collect custom metrics if you want by implementing a custom <code>Interceptor</code>: <a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#events\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/5.6/userguide/html_single/&hellip;</a>"},{"owner":{"account_id":10592234,"reputation":776,"user_id":7802372,"accept_rate":50,"display_name":"f.trajkovski"},"score":0,"creation_date":1665050398,"post_id":73963901,"comment_id":130610379,"body_markdown":"I did that already, created a custom `Interceptor` but wasn&#39;t able to add a spring managed bean so I can save the statistics and that&#39;s why I went with this approach.","body":"I did that already, created a custom <code>Interceptor</code> but wasn&#39;t able to add a spring managed bean so I can save the statistics and that&#39;s why I went with this approach."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1665050646,"post_id":73963901,"comment_id":130610485,"body_markdown":"You could propagate the context through a `ThreadLocal`. I think that if you want to use a Spring bean as interceptor, you&#39;ll have create a custom bean factory for the `EntityManagerFactory`","body":"You could propagate the context through a <code>ThreadLocal</code>. I think that if you want to use a Spring bean as interceptor, you&#39;ll have create a custom bean factory for the <code>EntityManagerFactory</code>"},{"owner":{"account_id":10592234,"reputation":776,"user_id":7802372,"accept_rate":50,"display_name":"f.trajkovski"},"score":0,"creation_date":1665131893,"post_id":73963901,"comment_id":130632459,"body_markdown":"What I did and it&#39;s working in the implementation that is above is that in the Component that is deciding which importer to be called based on the PATH variable, made that method synchronised. So now there won&#39;t be a possibility for two threads to execute two importers in parallel so the SessionFactory will give me clear results. But will check the `EntitymanagerFactory` to see how it&#39;s working.","body":"What I did and it&#39;s working in the implementation that is above is that in the Component that is deciding which importer to be called based on the PATH variable, made that method synchronised. So now there won&#39;t be a possibility for two threads to execute two importers in parallel so the SessionFactory will give me clear results. But will check the <code>EntitymanagerFactory</code> to see how it&#39;s working."}],"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664989376,"creation_date":1664989376,"answer_id":73963901,"question_id":73959574,"body_markdown":"If you want the statistics of a session, then call the `getStatistics()` method on `session`, which will give you the `SessionStatistics`. A `SessionFactory` should only exist once and statistics there are across all sessions.","title":"Get number of inserts, updates, deletes for entity using org.hibernate.SessionFactory per Session per thread","body":"<p>If you want the statistics of a session, then call the <code>getStatistics()</code> method on <code>session</code>, which will give you the <code>SessionStatistics</code>. A <code>SessionFactory</code> should only exist once and statistics there are across all sessions.</p>\n"}],"owner":{"account_id":10592234,"reputation":776,"user_id":7802372,"accept_rate":50,"display_name":"f.trajkovski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664989376,"creation_date":1664968432,"question_id":73959574,"body_markdown":"I have the following scenario:\r\n\r\nI have one controller which based on a path variable calls a different service.\r\n\r\nIn every service there is a transactional method where some import logic is happening(call one external api, get a csv file, parse it, convert it to entity and save it in database).\r\n\r\nAdditionally in every service I want to keep statistics of how many entities will be updated, inserted and deleted. For that reason I am using the `org.hibernate.SessionFactory `. One example of how I am using that is:\r\n\r\n    @Service\r\n    @Slf4j\r\n    public class MarketReportImporterImpl extends Support implements MarketReportImporter {\r\n\r\n    @Override\r\n    @Transactional\r\n    public void importMarketReports(ImporterLog importerLog) {\r\n        try {\r\n            String export = getCsvFile();\r\n            Session session = getCurrentSessionAndClearSessionFactoryStatistics();\r\n            // parse the csv and save the entities\r\n            flushSession(session);\r\n            setSuccessfulImport(session, importerLog);\r\n        } catch (Exception e) {\r\n            log.error(&quot;Failed to import market reports. Unable to parse export&quot;, e);\r\n            getTelemetryClient().trackException(e);\r\n            importerLogService.setFailedImport(importerLog, e.getMessage());\r\n        }\r\n    }\r\n\r\nand the methods `getCurrentSessionAndClearSessionFactoryStatistics()` and `setSuccessfulImport(session, importerLog);` are in the `Support` class:\r\n\r\n    @Component\r\n    public abstract class Support {\r\n\r\n    private final ImporterLogService importerLogService;\r\n\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n\r\n    public Support(ImporterLogService importerLogService) {\r\n        this.importerLogService = importerLogService;\r\n    }\r\n\r\n    public void flushSession(Session session) {\r\n        session.flush();\r\n    }\r\n\r\n    public void setSuccessfulImport(Session session, ImporterLog importerLog) {\r\n\r\n        Statistics statistics = session.getSessionFactory().getStatistics();\r\n        int entityInsertCount = (int) statistics.getEntityInsertCount();\r\n        int entityDeleteCount = (int) statistics.getEntityDeleteCount();\r\n        int entityUpdateCount = (int) statistics.getEntityUpdateCount();\r\n        importerLogService.setSuccessfulImport(importerLog, entityUpdateCount, entityDeleteCount, entityInsertCount);\r\n    }\r\n\r\n    public Session getCurrentSessionAndClearSessionFactoryStatistics() {\r\n        Session session = entityManager.unwrap(Session.class);\r\n        SessionFactory sessionFactory = session.getSessionFactory();\r\n        sessionFactory.getStatistics().clear();\r\n        return session;\r\n    }\r\n\r\nThis works perfectly fine when calling it for one importer. But If from the frontend I am calling quickly two importers (meaning two threads run in parallel) there will be mix in the results. The `session.getSessionFactory().getStatistics();` will have mix results from the first importer and from the second importer and I want to have a clear result only for the current session. For example service A and service B are running in parallel and in service A I am saving entities of type `aa` and in service B of type `bb`. In each service I want to know how many entities are saved, updated or deleted meaning in service A -&gt; how many of type `aa` and in service B -&gt; how many of type `bb` . As I understand every thread should open a session on it&#39;s own and then for every session I should get the correct sessionFactory and the correct results. But as it turns out this sessionFactory I guess (not sure in this statement) it belongs to every session and that is why I have mix results. \r\n\r\nMy question is if there is a way to separate somehow the sessionFactory and have clear vision of which entity how many times is saved,deleted,updated even in multithreaded environment.","title":"Get number of inserts, updates, deletes for entity using org.hibernate.SessionFactory per Session per thread","body":"<p>I have the following scenario:</p>\n<p>I have one controller which based on a path variable calls a different service.</p>\n<p>In every service there is a transactional method where some import logic is happening(call one external api, get a csv file, parse it, convert it to entity and save it in database).</p>\n<p>Additionally in every service I want to keep statistics of how many entities will be updated, inserted and deleted. For that reason I am using the <code>org.hibernate.SessionFactory </code>. One example of how I am using that is:</p>\n<pre><code>@Service\n@Slf4j\npublic class MarketReportImporterImpl extends Support implements MarketReportImporter {\n\n@Override\n@Transactional\npublic void importMarketReports(ImporterLog importerLog) {\n    try {\n        String export = getCsvFile();\n        Session session = getCurrentSessionAndClearSessionFactoryStatistics();\n        // parse the csv and save the entities\n        flushSession(session);\n        setSuccessfulImport(session, importerLog);\n    } catch (Exception e) {\n        log.error(&quot;Failed to import market reports. Unable to parse export&quot;, e);\n        getTelemetryClient().trackException(e);\n        importerLogService.setFailedImport(importerLog, e.getMessage());\n    }\n}\n</code></pre>\n<p>and the methods <code>getCurrentSessionAndClearSessionFactoryStatistics()</code> and <code>setSuccessfulImport(session, importerLog);</code> are in the <code>Support</code> class:</p>\n<pre><code>@Component\npublic abstract class Support {\n\nprivate final ImporterLogService importerLogService;\n\n@PersistenceContext\nprivate EntityManager entityManager;\n\npublic Support(ImporterLogService importerLogService) {\n    this.importerLogService = importerLogService;\n}\n\npublic void flushSession(Session session) {\n    session.flush();\n}\n\npublic void setSuccessfulImport(Session session, ImporterLog importerLog) {\n\n    Statistics statistics = session.getSessionFactory().getStatistics();\n    int entityInsertCount = (int) statistics.getEntityInsertCount();\n    int entityDeleteCount = (int) statistics.getEntityDeleteCount();\n    int entityUpdateCount = (int) statistics.getEntityUpdateCount();\n    importerLogService.setSuccessfulImport(importerLog, entityUpdateCount, entityDeleteCount, entityInsertCount);\n}\n\npublic Session getCurrentSessionAndClearSessionFactoryStatistics() {\n    Session session = entityManager.unwrap(Session.class);\n    SessionFactory sessionFactory = session.getSessionFactory();\n    sessionFactory.getStatistics().clear();\n    return session;\n}\n</code></pre>\n<p>This works perfectly fine when calling it for one importer. But If from the frontend I am calling quickly two importers (meaning two threads run in parallel) there will be mix in the results. The <code>session.getSessionFactory().getStatistics();</code> will have mix results from the first importer and from the second importer and I want to have a clear result only for the current session. For example service A and service B are running in parallel and in service A I am saving entities of type <code>aa</code> and in service B of type <code>bb</code>. In each service I want to know how many entities are saved, updated or deleted meaning in service A -&gt; how many of type <code>aa</code> and in service B -&gt; how many of type <code>bb</code> . As I understand every thread should open a session on it's own and then for every session I should get the correct sessionFactory and the correct results. But as it turns out this sessionFactory I guess (not sure in this statement) it belongs to every session and that is why I have mix results.</p>\n<p>My question is if there is a way to separate somehow the sessionFactory and have clear vision of which entity how many times is saved,deleted,updated even in multithreaded environment.</p>\n"},{"tags":["java","android","google-play","in-app-purchase"],"answers":[{"comments":[{"owner":{"account_id":1819192,"reputation":818,"user_id":1653609,"accept_rate":62,"display_name":"rootmeanclaire"},"score":0,"creation_date":1524694748,"post_id":50016520,"comment_id":87080327,"body_markdown":"Which arguments would I need to consider? Just `getSkuDetails()` (the function throwing the error) or other functions too?","body":"Which arguments would I need to consider? Just <code>getSkuDetails()</code> (the function throwing the error) or other functions too?"},{"owner":{"account_id":2136564,"reputation":13618,"user_id":7635471,"display_name":"Nick Fortescue"},"score":0,"creation_date":1524726997,"post_id":50016520,"comment_id":87090008,"body_markdown":"The error just says that the function which sends the RPC to Play has incorrect arguments, so yes, getSkuDetails() if that is the result with an error.","body":"The error just says that the function which sends the RPC to Play has incorrect arguments, so yes, getSkuDetails() if that is the result with an error."}],"tags":[],"owner":{"account_id":2136564,"reputation":13618,"user_id":7635471,"display_name":"Nick Fortescue"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1524641646,"creation_date":1524641646,"answer_id":50016520,"question_id":49993253,"body_markdown":"All the response codes [are listed here](https://developer.android.com/google/play/billing/billing_reference.html).\r\n\r\n5 means you are calling the API with invalid arguments. You have broken your API call somehow. Maybe compare the contents of your API call under the old and new version of your code (you are using source control right?).\r\n\r\n  - **0.** BILLING_RESPONSE_RESULT_OK:\tSuccess\r\n  - **1.** BILLING_RESPONSE_RESULT_USER_CANCELED: User pressed back or canceled a dialog\r\n  - **2.** BILLING_RESPONSE_RESULT_SERVICE_UNAVAILABLE: Network connection is down\r\n  - **3.** BILLING_RESPONSE_RESULT_BILLING_UNAVAILABLE: Billing API version is not supported for the type requested\r\n  - **4.** BILLING_RESPONSE_RESULT_ITEM_UNAVAILABLE: Requested product is not available for purchase\r\n  - **5.** BILLING_RESPONSE_RESULT_DEVELOPER_ERROR: Invalid arguments provided to the API. This error can also indicate that the application was not correctly signed or properly set up for In-app Billing in Google Play, or does not have the necessary permissions in its manifest\r\n  - **6.** BILLING_RESPONSE_RESULT_ERROR: Fatal error during the API action\r\n  - **7.** BILLING_RESPONSE_RESULT_ITEM_ALREADY_OWNED: Failure to purchase since item is already owned\r\n  - **8.** BILLING_RESPONSE_RESULT_ITEM_NOT_OWNED: Failure to consume since item is not owned\r\n","title":"Android Billing - I receive response code 5","body":"<p>All the response codes <a href=\"https://developer.android.com/google/play/billing/billing_reference.html\" rel=\"nofollow noreferrer\">are listed here</a>.</p>\n\n<p>5 means you are calling the API with invalid arguments. You have broken your API call somehow. Maybe compare the contents of your API call under the old and new version of your code (you are using source control right?).</p>\n\n<ul>\n<li><strong>0.</strong> BILLING_RESPONSE_RESULT_OK:  Success</li>\n<li><strong>1.</strong> BILLING_RESPONSE_RESULT_USER_CANCELED: User pressed back or canceled a dialog</li>\n<li><strong>2.</strong> BILLING_RESPONSE_RESULT_SERVICE_UNAVAILABLE: Network connection is down</li>\n<li><strong>3.</strong> BILLING_RESPONSE_RESULT_BILLING_UNAVAILABLE: Billing API version is not supported for the type requested</li>\n<li><strong>4.</strong> BILLING_RESPONSE_RESULT_ITEM_UNAVAILABLE: Requested product is not available for purchase</li>\n<li><strong>5.</strong> BILLING_RESPONSE_RESULT_DEVELOPER_ERROR: Invalid arguments provided to the API. This error can also indicate that the application was not correctly signed or properly set up for In-app Billing in Google Play, or does not have the necessary permissions in its manifest</li>\n<li><strong>6.</strong> BILLING_RESPONSE_RESULT_ERROR: Fatal error during the API action</li>\n<li><strong>7.</strong> BILLING_RESPONSE_RESULT_ITEM_ALREADY_OWNED: Failure to purchase since item is already owned</li>\n<li><strong>8.</strong> BILLING_RESPONSE_RESULT_ITEM_NOT_OWNED: Failure to consume since item is not owned</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":250167,"reputation":982,"user_id":526715,"accept_rate":71,"display_name":"Kleber"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627647539,"creation_date":1620042965,"answer_id":67368517,"question_id":49993253,"body_markdown":"This error can be a bunch of things according to the documentation. For me it was the Licensed users. When I was adding them, there wasn&#39;t an indication that the emails were being added to the list of licence testers. I kept adding them, chaging the &quot;License response&quot; and saving but nothing changed at all.\r\n\r\nIt was after a while that I realize that I had to press &quot;Enter&quot; in the email list to actually add the users. I know it sounds silly but that was my only issue (at least I think it was since I spend a day searching for the cause).\r\n\r\nSo, if you getting this error and don&#39;t see any emails inside `Settings -&gt; License Testing -&gt; License testers` you might be a single key of distance of getting your debug working properly.","title":"Android Billing - I receive response code 5","body":"<p>This error can be a bunch of things according to the documentation. For me it was the Licensed users. When I was adding them, there wasn't an indication that the emails were being added to the list of licence testers. I kept adding them, chaging the &quot;License response&quot; and saving but nothing changed at all.</p>\n<p>It was after a while that I realize that I had to press &quot;Enter&quot; in the email list to actually add the users. I know it sounds silly but that was my only issue (at least I think it was since I spend a day searching for the cause).</p>\n<p>So, if you getting this error and don't see any emails inside <code>Settings -&gt; License Testing -&gt; License testers</code> you might be a single key of distance of getting your debug working properly.</p>\n"},{"tags":[],"owner":{"account_id":2880172,"reputation":1430,"user_id":2471275,"display_name":"Djek-Grif"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664988917,"creation_date":1664988917,"answer_id":73963809,"question_id":49993253,"body_markdown":"&quot;response code 5  Obfuscated profile id cannot be set without obfuscated account id.&quot; It was my error. And after checking I&#39;ve found my `setObfuscatedAccountId` is empty. Also Or it could be any other param that you provided to billing client. ","title":"Android Billing - I receive response code 5","body":"<p>&quot;response code 5  Obfuscated profile id cannot be set without obfuscated account id.&quot; It was my error. And after checking I've found my <code>setObfuscatedAccountId</code> is empty. Also Or it could be any other param that you provided to billing client.</p>\n"}],"owner":{"account_id":1819192,"reputation":818,"user_id":1653609,"accept_rate":62,"display_name":"rootmeanclaire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6685,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1664988917,"creation_date":1524542733,"question_id":49993253,"body_markdown":"I had my in-app billing working, but then I moved some code around for greater extensibility and it broke. Essentially what I was trying to do was make an Adapter for my addons so that it would be easier to add them in with less programming effort later. My project has billing permissions in the manifest and is configured for billing on the Google Play Store so that&#39;s not the issue.\r\n\r\nAdOnsActivity\r\n\r\n    public class AdOnsActivity extends AppCompatActivity {\r\n    \tprivate IInAppBillingService mService;\r\n    \tprivate ServiceConnection mServiceConn = new ServiceConnection() {\r\n    \t\t@Override\r\n    \t\tpublic void onServiceDisconnected(ComponentName name) {\r\n    \t\t\tmService = null;\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic void onServiceConnected(ComponentName name, IBinder service) {\r\n    \t\t\tmService = IInAppBillingService.Stub.asInterface(service);\r\n    \t\t}\r\n    \t};\r\n    \t\r\n    \t@Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tsetContentView(R.layout.activity_ad_ons);\r\n    \t\t\r\n    \t\tIntent serviceIntent = new Intent(&quot;com.android.vending.billing.InAppBillingService.BIND&quot;);\r\n    \t\tserviceIntent.setPackage(&quot;com.android.vending&quot;);\r\n    \t\tbindService(serviceIntent, mServiceConn, Context.BIND_AUTO_CREATE);\r\n    \t\t\r\n    \t\tlistAdOns = findViewById(R.id.listAdOns);\r\n    \t\t\r\n    \t\tHandler handler = new Handler();\r\n    \t\thandler.post(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\ttry {\r\n                        ...\r\n    \t\t\t\t\tlistAdOns.setAdapter(new AdOnAdapter(AdOnsActivity.this, json.getJSONArray(&quot;adOns&quot;), mService));\r\n    \t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\tToast.makeText(AdOnsActivity.this, getResources().getString(R.string.error_load_ad_ons), Toast.LENGTH_SHORT).show();\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\tfinish();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n\r\n\r\nAdOnAdapter\r\n\r\n    public class AdOnAdapter extends BaseAdapter {\r\n    \tpublic AdOnAdapter(Activity activity, JSONArray adOns, IInAppBillingService mService) throws RemoteException {\r\n    \t\tBundle querySkus = new Bundle();\r\n    \t\t\r\n    \t\tthis.activity = activity;\r\n    \t\tthis.adOns = adOns;\r\n    \t\tthis.mService = mService;\r\n    \t\t\r\n    \t\tskuDetails = mService.getSkuDetails(3, activity.getPackageName(), &quot;inapp&quot;, querySkus);\r\n    \t\tresponseDetails = skuDetails.getInt(&quot;RESPONSE_CODE&quot;);\r\n    \t\townedItems = mService.getPurchases(3, activity.getPackageName(), &quot;inapp&quot;, null);\r\n    \t\tresponseOwned = ownedItems.getInt(&quot;RESPONSE_CODE&quot;);\r\n    \t}","title":"Android Billing - I receive response code 5","body":"<p>I had my in-app billing working, but then I moved some code around for greater extensibility and it broke. Essentially what I was trying to do was make an Adapter for my addons so that it would be easier to add them in with less programming effort later. My project has billing permissions in the manifest and is configured for billing on the Google Play Store so that's not the issue.</p>\n\n<p>AdOnsActivity</p>\n\n<pre><code>public class AdOnsActivity extends AppCompatActivity {\n    private IInAppBillingService mService;\n    private ServiceConnection mServiceConn = new ServiceConnection() {\n        @Override\n        public void onServiceDisconnected(ComponentName name) {\n            mService = null;\n        }\n\n        @Override\n        public void onServiceConnected(ComponentName name, IBinder service) {\n            mService = IInAppBillingService.Stub.asInterface(service);\n        }\n    };\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_ad_ons);\n\n        Intent serviceIntent = new Intent(\"com.android.vending.billing.InAppBillingService.BIND\");\n        serviceIntent.setPackage(\"com.android.vending\");\n        bindService(serviceIntent, mServiceConn, Context.BIND_AUTO_CREATE);\n\n        listAdOns = findViewById(R.id.listAdOns);\n\n        Handler handler = new Handler();\n        handler.post(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    ...\n                    listAdOns.setAdapter(new AdOnAdapter(AdOnsActivity.this, json.getJSONArray(\"adOns\"), mService));\n                } catch (Exception e) {\n                    Toast.makeText(AdOnsActivity.this, getResources().getString(R.string.error_load_ad_ons), Toast.LENGTH_SHORT).show();\n                    e.printStackTrace();\n                    finish();\n                }\n            }\n        });\n    }\n</code></pre>\n\n<p>AdOnAdapter</p>\n\n<pre><code>public class AdOnAdapter extends BaseAdapter {\n    public AdOnAdapter(Activity activity, JSONArray adOns, IInAppBillingService mService) throws RemoteException {\n        Bundle querySkus = new Bundle();\n\n        this.activity = activity;\n        this.adOns = adOns;\n        this.mService = mService;\n\n        skuDetails = mService.getSkuDetails(3, activity.getPackageName(), \"inapp\", querySkus);\n        responseDetails = skuDetails.getInt(\"RESPONSE_CODE\");\n        ownedItems = mService.getPurchases(3, activity.getPackageName(), \"inapp\", null);\n        responseOwned = ownedItems.getInt(\"RESPONSE_CODE\");\n    }\n</code></pre>\n"},{"tags":["java","selenium","maven","jvm","cucumber-jvm"],"answers":[{"tags":[],"owner":{"account_id":10521390,"reputation":121,"user_id":7753798,"display_name":"bobbybobbobbed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664988880,"creation_date":1664988880,"answer_id":73963802,"question_id":71283773,"body_markdown":"I have done this (a long time ago now)\r\nYou can just get the response from a text file and strip it out in bash:\r\n\r\n    cmd=&quot;mvn test --log-file log.txt -Dtest=x -Dcucumber.filter.tags=&#39;&quot;$TAGS&quot;&#39;\r\n    reportsUrl=$(grep -hr &quot;reports.cucumber&quot; log.txt | grep -v &quot;profile&quot; | grep -Eo &#39;http[^ \\[U&gt;]+&#39;| sed &#39;s/[^a-z0-9\\.\\/\\-\\:-]//g&#39;)\r\n    testLine=$(grep -hr &quot;Tests run&quot; log.txt | grep -v &quot;FAILURE&quot; | grep -v &quot;Time elapsed&quot;)","title":"selenium cucumber.io get the reports link in Java or Bash (if Bash, still console ouput), so it can be used else where (like slack)","body":"<p>I have done this (a long time ago now)\nYou can just get the response from a text file and strip it out in bash:</p>\n<pre><code>cmd=&quot;mvn test --log-file log.txt -Dtest=x -Dcucumber.filter.tags='&quot;$TAGS&quot;'\nreportsUrl=$(grep -hr &quot;reports.cucumber&quot; log.txt | grep -v &quot;profile&quot; | grep -Eo 'http[^ \\[U&gt;]+'| sed 's/[^a-z0-9\\.\\/\\-\\:-]//g')\ntestLine=$(grep -hr &quot;Tests run&quot; log.txt | grep -v &quot;FAILURE&quot; | grep -v &quot;Time elapsed&quot;)\n</code></pre>\n"}],"owner":{"account_id":10521390,"reputation":121,"user_id":7753798,"display_name":"bobbybobbobbed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":559,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73963802,"answer_count":1,"score":0,"last_activity_date":1664988880,"creation_date":1645956064,"question_id":71283773,"body_markdown":"When we run tests using Cucumber, we have the option to use an ENV variable and publish the results to cucumber.io, or even without an ENV variable eg:\r\n   \r\n    View your Cucumber Report at:                                            \r\n    https://reports.cucumber.io/reports/some-uuid \r\n    This report will self-destruct in 24h.                                   \r\n    Keep reports forever: https://reports.cucumber.io/profile               \r\n\r\nThis works great!!!! But I would like to grab that &quot;some-uuid&quot; and send it to slack (and other places) so others can use it\r\n\r\nI can not see a way of getting this with Java using a Hook or Listeners (I think it gets sent back to maven)\r\n\r\nI trigger the tests with a bash script, and I was hoping the uuid could be grabbed using something like:\r\n\r\n    mvn test -Dtest=jRunnerMyTest -Dcucumber.filter.tags=&quot;$TAGS&quot; ...| tee log.txt\r\n\r\nHowever, in this case, within the log.txt, the above does not capture that bit of text containing the reports url (I dont really know why), if it did, I could regex the output and grab that url\r\n\r\nI have also tried using --log-file, eg:\r\n\r\n    mvn test --log-file log.txt -Dtest=jRunnerMyTest -Dcucumber.filter.tags=&quot;$TAGS&quot; ...\r\n\r\nIn this case, within the log.txt, it DOES capture the uuid, However when the tests run, there is no command output. I really need that command output, since testers use it while running the tests.  \r\n\r\nHow can I get the reports url (https://reports.cucumber.io/reports/some-uuid ) and keep the console output?\r\n","title":"selenium cucumber.io get the reports link in Java or Bash (if Bash, still console ouput), so it can be used else where (like slack)","body":"<p>When we run tests using Cucumber, we have the option to use an ENV variable and publish the results to cucumber.io, or even without an ENV variable eg:</p>\n<pre><code>View your Cucumber Report at:                                            \nhttps://reports.cucumber.io/reports/some-uuid \nThis report will self-destruct in 24h.                                   \nKeep reports forever: https://reports.cucumber.io/profile               \n</code></pre>\n<p>This works great!!!! But I would like to grab that &quot;some-uuid&quot; and send it to slack (and other places) so others can use it</p>\n<p>I can not see a way of getting this with Java using a Hook or Listeners (I think it gets sent back to maven)</p>\n<p>I trigger the tests with a bash script, and I was hoping the uuid could be grabbed using something like:</p>\n<pre><code>mvn test -Dtest=jRunnerMyTest -Dcucumber.filter.tags=&quot;$TAGS&quot; ...| tee log.txt\n</code></pre>\n<p>However, in this case, within the log.txt, the above does not capture that bit of text containing the reports url (I dont really know why), if it did, I could regex the output and grab that url</p>\n<p>I have also tried using --log-file, eg:</p>\n<pre><code>mvn test --log-file log.txt -Dtest=jRunnerMyTest -Dcucumber.filter.tags=&quot;$TAGS&quot; ...\n</code></pre>\n<p>In this case, within the log.txt, it DOES capture the uuid, However when the tests run, there is no command output. I really need that command output, since testers use it while running the tests.</p>\n<p>How can I get the reports url (<a href=\"https://reports.cucumber.io/reports/some-uuid\" rel=\"nofollow noreferrer\">https://reports.cucumber.io/reports/some-uuid</a> ) and keep the console output?</p>\n"},{"tags":["java","android","xml","android-studio","android-11"],"answers":[{"tags":[],"owner":{"account_id":26528903,"reputation":11,"user_id":20161430,"display_name":"ximp_"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664988878,"creation_date":1664988878,"answer_id":73963801,"question_id":73962300,"body_markdown":"First of all, **never** use `RecyclerView` inside `Scrollview`. Instead, use `NestedScrollView`.\r\n&gt; NestedScrollView is just like ScrollView, but it supports acting as both a nested scrolling parent and child on both new and old versions of Android. Nested scrolling is enabled by default.\r\n\r\nIf you don&#39;t want your `RecyclerViews` too be scrollable in the first place, add your content as child views to a layout view.\r\n\r\nSecond, for your `ScrollView` to take up all the remaining space given by the `AdView`, craft a constraint chain and give the `ScrollView` a height of `0dp`. This means, you need to constrain the bottom of the `ScrollView` to the top of the `AdView` and vice versa. \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n ...&gt;\r\n    &lt;android.support.v4.widget.NestedScrollView \r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:id=&quot;@+id/ScrollView&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@id/LinearAdLayout&quot;&gt;\r\n\r\n        &lt;!--Your content here--&gt;\r\n\r\n    &lt;/android.support.v4.widget.NestedScrollView&gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/LinearAdLayout&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/ScrollView&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;&gt;\r\n        \r\n        &lt;!--Your AdView here--&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n","title":"ScrollView doesn&#39;t stay to a certain part of the screen and takes whole screen","body":"<p>First of all, <strong>never</strong> use <code>RecyclerView</code> inside <code>Scrollview</code>. Instead, use <code>NestedScrollView</code>.</p>\n<blockquote>\n<p>NestedScrollView is just like ScrollView, but it supports acting as both a nested scrolling parent and child on both new and old versions of Android. Nested scrolling is enabled by default.</p>\n</blockquote>\n<p>If you don't want your <code>RecyclerViews</code> too be scrollable in the first place, add your content as child views to a layout view.</p>\n<p>Second, for your <code>ScrollView</code> to take up all the remaining space given by the <code>AdView</code>, craft a constraint chain and give the <code>ScrollView</code> a height of <code>0dp</code>. This means, you need to constrain the bottom of the <code>ScrollView</code> to the top of the <code>AdView</code> and vice versa.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n ...&gt;\n    &lt;android.support.v4.widget.NestedScrollView \n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:id=&quot;@+id/ScrollView&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@id/LinearAdLayout&quot;&gt;\n\n        &lt;!--Your content here--&gt;\n\n    &lt;/android.support.v4.widget.NestedScrollView&gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/LinearAdLayout&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/ScrollView&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;&gt;\n        \n        &lt;!--Your AdView here--&gt;\n\n    &lt;/LinearLayout&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":26402143,"reputation":1,"user_id":20052443,"display_name":"Gavin123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664988878,"creation_date":1664981600,"question_id":73962300,"body_markdown":"I am trying to limit my ScrollView to only a certain section of my screen as I am trying to attach a banner ad to the bottom of my screen and I want the banner ad to be static while the rest of the contents to be scroll-able therefore I don&#39;t want the banner ad to be affected by the ScrollView. For some reason though only the scroll-able section is visible on my device screen when I run my app, my banner ad does not show up at all. I have tried multiple methods to fix this problem to make it work and yet I still can&#39;t figure it out.\r\nThis is my current activity_main.xml code\r\n\r\n   \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:background=&quot;@color/grey&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n\r\n    &lt;ScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:orientation=&quot;vertical&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n            &lt;androidx.cardview.widget.CardView\r\n                android:layout_margin=&quot;16dp&quot;\r\n                app:cardCornerRadius=&quot;8dp&quot;\r\n                app:cardElevation=&quot;8dp&quot;\r\n                app:cardBackgroundColor=&quot;@color/blue&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n                &lt;androidx.appcompat.widget.SearchView\r\n                    android:id=&quot;@+id/search_view&quot;\r\n                    app:defaultQueryHint=&quot;Search...&quot;\r\n                    app:iconifiedByDefault=&quot;false&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;?attr/actionBarSize&quot;/&gt;\r\n            &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_margin=&quot;16dp&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textView_a&quot;\r\n                    android:textSize=&quot;24sp&quot;\r\n                    android:text=&quot;A&quot;\r\n                    android:textColor=&quot;@color/blue&quot;\r\n                    android:textAlignment=&quot;center&quot;\r\n                    android:padding=&quot;8dp&quot;\r\n                    android:textStyle=&quot;italic&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\r\n                &lt;androidx.recyclerview.widget.RecyclerView\r\n                    android:id=&quot;@+id/recycler_phonetics&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\r\n                &lt;TextView\r\n                    android:textSize=&quot;24sp&quot;\r\n                    android:text=&quot;B&quot;\r\n                    android:textColor=&quot;@color/blue&quot;\r\n                    android:textAlignment=&quot;center&quot;\r\n                    android:padding=&quot;8dp&quot;\r\n                    android:textStyle=&quot;italic&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\r\n                &lt;androidx.recyclerview.widget.RecyclerView\r\n                    android:id=&quot;@+id/recycler_meanings&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot; /&gt;\r\n            &lt;/LinearLayout&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/ScrollView&gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;&gt;\r\n        &lt;com.google.android.gms.ads.AdView xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            android:id=&quot;@+id/adView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            ads:adSize=&quot;BANNER&quot;\r\n            ads:adUnitId=&quot;ca-app-pub-3940256099942544/6300978111&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n        &lt;/com.google.android.gms.ads.AdView&gt;\r\n    &lt;/LinearLayout&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;","title":"ScrollView doesn&#39;t stay to a certain part of the screen and takes whole screen","body":"<p>I am trying to limit my ScrollView to only a certain section of my screen as I am trying to attach a banner ad to the bottom of my screen and I want the banner ad to be static while the rest of the contents to be scroll-able therefore I don't want the banner ad to be affected by the ScrollView. For some reason though only the scroll-able section is visible on my device screen when I run my app, my banner ad does not show up at all. I have tried multiple methods to fix this problem to make it work and yet I still can't figure it out.\nThis is my current activity_main.xml code</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:orientation=&quot;vertical&quot;\nandroid:background=&quot;@color/grey&quot;\ntools:context=&quot;.MainActivity&quot;&gt;\n\n\n&lt;ScrollView\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n    app:layout_constraintRight_toRightOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n    &lt;LinearLayout\n        android:orientation=&quot;vertical&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;androidx.cardview.widget.CardView\n            android:layout_margin=&quot;16dp&quot;\n            app:cardCornerRadius=&quot;8dp&quot;\n            app:cardElevation=&quot;8dp&quot;\n            app:cardBackgroundColor=&quot;@color/blue&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;&gt;\n            &lt;androidx.appcompat.widget.SearchView\n                android:id=&quot;@+id/search_view&quot;\n                app:defaultQueryHint=&quot;Search...&quot;\n                app:iconifiedByDefault=&quot;false&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;?attr/actionBarSize&quot;/&gt;\n        &lt;/androidx.cardview.widget.CardView&gt;\n\n        &lt;LinearLayout\n            android:layout_margin=&quot;16dp&quot;\n            android:orientation=&quot;vertical&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n            &lt;TextView\n                android:id=&quot;@+id/textView_a&quot;\n                android:textSize=&quot;24sp&quot;\n                android:text=&quot;A&quot;\n                android:textColor=&quot;@color/blue&quot;\n                android:textAlignment=&quot;center&quot;\n                android:padding=&quot;8dp&quot;\n                android:textStyle=&quot;italic&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;androidx.recyclerview.widget.RecyclerView\n                android:id=&quot;@+id/recycler_phonetics&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n                android:textSize=&quot;24sp&quot;\n                android:text=&quot;B&quot;\n                android:textColor=&quot;@color/blue&quot;\n                android:textAlignment=&quot;center&quot;\n                android:padding=&quot;8dp&quot;\n                android:textStyle=&quot;italic&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;androidx.recyclerview.widget.RecyclerView\n                android:id=&quot;@+id/recycler_meanings&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot; /&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/LinearLayout&gt;\n&lt;/ScrollView&gt;\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;&gt;\n    &lt;com.google.android.gms.ads.AdView xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\n        android:id=&quot;@+id/adView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        ads:adSize=&quot;BANNER&quot;\n        ads:adUnitId=&quot;ca-app-pub-3940256099942544/6300978111&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n    &lt;/com.google.android.gms.ads.AdView&gt;\n&lt;/LinearLayout&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","web","primefaces"],"owner":{"account_id":19334443,"reputation":11,"user_id":14135283,"display_name":"SeOs_7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664988692,"creation_date":1663796232,"question_id":73807182,"body_markdown":"I&#39;m working on a project with PrimeFaces 3.2.2 and I want to use a `p:fieldset` in a form. I saw in the documentation that the legend is aligned to the left by default, the problem I have is that the legend is aligned to the center, I tried using the style attribute, and I looked for solutions but I did not find any helpful.\r\n\r\nThe fieldset is inside a `p:dialog`, I thought it was the problem but no.\r\n\r\nThis is the definition of the fieldset:\r\n\r\n```\r\n&lt;p:fieldset legend=&quot;Simple Fieldset&quot;&gt;\r\n  &lt;h:panelGrid &gt;\r\n    &lt;h:outputText value=&quot;The story begins as Don Vito Corleone ...&quot; /&gt;\r\n   &lt;/h:panelGrid&gt;\r\n&lt;/p:fieldset&gt;\r\n```\r\n\r\nBut always the legend is shown like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nand for better UI visibility I want the legend like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI tried searching for attributes in the `style` tag but I have no success. I want to know if I have a problem with the order of tags, or maybe is the version I&#39;m using. Thanks in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/p7Gci.png\r\n  [2]: https://i.stack.imgur.com/HRUMM.png","title":"Legend of fieldset is align in the center by default","body":"<p>I'm working on a project with PrimeFaces 3.2.2 and I want to use a <code>p:fieldset</code> in a form. I saw in the documentation that the legend is aligned to the left by default, the problem I have is that the legend is aligned to the center, I tried using the style attribute, and I looked for solutions but I did not find any helpful.</p>\n<p>The fieldset is inside a <code>p:dialog</code>, I thought it was the problem but no.</p>\n<p>This is the definition of the fieldset:</p>\n<pre><code>&lt;p:fieldset legend=&quot;Simple Fieldset&quot;&gt;\n  &lt;h:panelGrid &gt;\n    &lt;h:outputText value=&quot;The story begins as Don Vito Corleone ...&quot; /&gt;\n   &lt;/h:panelGrid&gt;\n&lt;/p:fieldset&gt;\n</code></pre>\n<p>But always the legend is shown like this:</p>\n<p><a href=\"https://i.stack.imgur.com/p7Gci.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p7Gci.png\" alt=\"enter image description here\" /></a></p>\n<p>and for better UI visibility I want the legend like this:</p>\n<p><a href=\"https://i.stack.imgur.com/HRUMM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HRUMM.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried searching for attributes in the <code>style</code> tag but I have no success. I want to know if I have a problem with the order of tags, or maybe is the version I'm using. Thanks in advance.</p>\n"},{"tags":["java","oop","null","overloading"],"comments":[{"owner":{"account_id":219702,"reputation":13061,"user_id":476747,"accept_rate":97,"display_name":"Mudassir"},"score":3,"creation_date":1299571170,"post_id":5229809,"comment_id":5885196,"body_markdown":"Just change the `Integer` to `int`.","body":"Just change the <code>Integer</code> to <code>int</code>."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1299571369,"post_id":5229809,"comment_id":5885231,"body_markdown":"@Mudassir: and what exactly would that solve?","body":"@Mudassir: and what exactly would that solve?"},{"owner":{"account_id":67511,"reputation":5359,"user_id":197532,"accept_rate":56,"display_name":"Phani"},"score":2,"creation_date":1299571531,"post_id":5229809,"comment_id":5885257,"body_markdown":"@Joachim Sauer: If changed from Integer to int, then null isn&#39;t referred to primitive types in Java, so the compiler will not throw error.","body":"@Joachim Sauer: If changed from Integer to int, then null isn&#39;t referred to primitive types in Java, so the compiler will not throw error."},{"owner":{"account_id":219702,"reputation":13061,"user_id":476747,"accept_rate":97,"display_name":"Mudassir"},"score":0,"creation_date":1299571757,"post_id":5229809,"comment_id":5885295,"body_markdown":"@Joachim Sauer: It&#39;ll not throw the `reference to doSomething is ambiguous` error.","body":"@Joachim Sauer: It&#39;ll not throw the <code>reference to doSomething is ambiguous</code> error."}],"answers":[{"comments":[{"owner":{"account_id":67511,"reputation":5359,"user_id":197532,"accept_rate":56,"display_name":"Phani"},"score":0,"creation_date":1299571263,"post_id":5229823,"comment_id":5885213,"body_markdown":"I removed the method with Integer parameter, it&#39;s invoking the function and returning output as **&quot;Array Called&quot;**, so what&#39;s the contract between **Array and Object**?","body":"I removed the method with Integer parameter, it&#39;s invoking the function and returning output as <b>&quot;Array Called&quot;</b>, so what&#39;s the contract between <b>Array and Object</b>?"},{"owner":{"account_id":320703,"reputation":4309,"user_id":639119,"display_name":"Zds"},"score":3,"creation_date":1299574436,"post_id":5229823,"comment_id":5885763,"body_markdown":"Java arrays are also Objects.","body":"Java arrays are also Objects."}],"tags":[],"owner":{"account_id":326293,"reputation":3667,"user_id":647987,"display_name":"Lars Noschinski"},"comment_count":2,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1299571080,"creation_date":1299571080,"answer_id":5229823,"question_id":5229809,"body_markdown":"`null` is a valid value for any of the three types; so the compiler cannot decide which function to use. Use something like `doSomething((Object)null)` or `doSomething((Integer)null)` instead.","title":"How to do method overloading for null argument?","body":"<p><code>null</code> is a valid value for any of the three types; so the compiler cannot decide which function to use. Use something like <code>doSomething((Object)null)</code> or <code>doSomething((Integer)null)</code> instead.</p>\n"},{"comments":[{"owner":{"account_id":985197,"reputation":12521,"user_id":1003886,"accept_rate":66,"display_name":"kajacx"},"score":1,"creation_date":1439276046,"post_id":5229828,"comment_id":51781111,"body_markdown":"Only `Integer`-`char[]` pair is ambiguous, because in other two cases, Java compiler can choose most specific choice, like @JoachimSauer described.","body":"Only <code>Integer</code>-<code>char[]</code> pair is ambiguous, because in other two cases, Java compiler can choose most specific choice, like @JoachimSauer described."},{"owner":{"account_id":263812,"reputation":7348,"user_id":549641,"display_name":"jmg"},"score":2,"creation_date":1442296304,"post_id":5229828,"comment_id":53011601,"body_markdown":"@kajacx: OPs original question was about calling these methods with `null` as parameter. Under that precondition, all three pairs are ambiguous. For the general case, I agree that only `Integer - char[]` pair is ambiguous.","body":"@kajacx: OPs original question was about calling these methods with <code>null</code> as parameter. Under that precondition, all three pairs are ambiguous. For the general case, I agree that only <code>Integer - char[]</code> pair is ambiguous."},{"owner":{"account_id":1912109,"reputation":757,"user_id":1725647,"accept_rate":73,"display_name":"Sameer"},"score":0,"creation_date":1478531594,"post_id":5229828,"comment_id":68181168,"body_markdown":"what about `doSomething(null)` for \n`public static  void doSomething(String str) {\n   System.out.println(&quot;String called&quot;);\n}`\n\nThis will return string called.","body":"what about <code>doSomething(null)</code> for  <code>public static  void doSomething(String str) {    System.out.println(&quot;String called&quot;); }</code>  This will return string called."},{"owner":{"account_id":280629,"reputation":5238,"user_id":576448,"accept_rate":40,"display_name":"peterk"},"score":0,"creation_date":1500414197,"post_id":5229828,"comment_id":77323770,"body_markdown":"Is it possible to use an anotation like &quot;nullable&quot; or &quot;not nullable&quot; and set up the declarations so only the one method you want to get a null with so that an explicit &quot;null&quot; (yet implicit null type) argument always unambiguously selects a specific overload ??","body":"Is it possible to use an anotation like &quot;nullable&quot; or &quot;not nullable&quot; and set up the declarations so only the one method you want to get a null with so that an explicit &quot;null&quot; (yet implicit null type) argument always unambiguously selects a specific overload ??"}],"tags":[],"owner":{"account_id":263812,"reputation":7348,"user_id":549641,"display_name":"jmg"},"comment_count":4,"down_vote_count":1,"up_vote_count":56,"is_accepted":false,"score":55,"last_activity_date":1299572616,"creation_date":1299571115,"answer_id":5229828,"question_id":5229809,"body_markdown":"Each pair of these three methods is ambiguous by itself when called with a `null` argument. Because each parameter type is a reference type. \r\n\r\nThe following are the three ways to call one specific method of yours with null.\r\n\r\n    doSomething( (Object) null);\r\n    doSomething( (Integer) null);\r\n    doSomething( (char[]) null);\r\n\r\nMay I suggest to remove this ambiguity if you actually plan to call these methods with `null` arguments. Such a design invites errors in the future.\r\n","title":"How to do method overloading for null argument?","body":"<p>Each pair of these three methods is ambiguous by itself when called with a <code>null</code> argument. Because each parameter type is a reference type. </p>\n\n<p>The following are the three ways to call one specific method of yours with null.</p>\n\n<pre><code>doSomething( (Object) null);\ndoSomething( (Integer) null);\ndoSomething( (char[]) null);\n</code></pre>\n\n<p>May I suggest to remove this ambiguity if you actually plan to call these methods with <code>null</code> arguments. Such a design invites errors in the future.</p>\n"},{"tags":[],"owner":{"account_id":272537,"reputation":2753,"user_id":563673,"accept_rate":43,"display_name":"Ankit"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1299571520,"creation_date":1299571520,"answer_id":5229884,"question_id":5229809,"body_markdown":"Every class in Java extends Object class.Even Integer class also extends Object. Hence both Object and Integer are considered as Object instance. So when you pass null as a parameter than compiler gets confused that which object method to call i.e. With parameter Object or parameter Integer since they both are object and their reference can be null. But the primitives in java does not extends Object.","title":"How to do method overloading for null argument?","body":"<p>Every class in Java extends Object class.Even Integer class also extends Object. Hence both Object and Integer are considered as Object instance. So when you pass null as a parameter than compiler gets confused that which object method to call i.e. With parameter Object or parameter Integer since they both are object and their reference can be null. But the primitives in java does not extends Object.</p>\n"},{"comments":[{"owner":{"account_id":2400921,"reputation":75,"user_id":2098591,"accept_rate":67,"display_name":"Christian Gosch"},"score":1,"creation_date":1423830590,"post_id":5229890,"comment_id":45318522,"body_markdown":"This is stated for Java 7. Does that also apply to previous Java versions? I mean: If you have several method signatures with parameters only along a type hierarchy, than you are on the save side with null as actual value? And if you have built a &quot;hierarchy for&quot; like in the example here, then you are not?","body":"This is stated for Java 7. Does that also apply to previous Java versions? I mean: If you have several method signatures with parameters only along a type hierarchy, than you are on the save side with null as actual value? And if you have built a &quot;hierarchy for&quot; like in the example here, then you are not?"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":4,"creation_date":1423839860,"post_id":5229890,"comment_id":45324054,"body_markdown":"I&#39;m pretty sure those rules are the same for at least everything since Java 1.1 (except for the addition of generics, obviously).","body":"I&#39;m pretty sure those rules are the same for at least everything since Java 1.1 (except for the addition of generics, obviously)."},{"owner":{"account_id":1912109,"reputation":757,"user_id":1725647,"accept_rate":73,"display_name":"Sameer"},"score":1,"creation_date":1478769721,"post_id":5229890,"comment_id":68288210,"body_markdown":"Does this mean that if compiler were to choose in between doSomething(String str) and doSomething(Object obj) during runtime with doSomething(null), doSomething(String str) will be called.","body":"Does this mean that if compiler were to choose in between doSomething(String str) and doSomething(Object obj) during runtime with doSomething(null), doSomething(String str) will be called."}],"tags":[],"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":3,"down_vote_count":0,"up_vote_count":254,"is_accepted":true,"score":254,"last_activity_date":1496288443,"creation_date":1299571588,"answer_id":5229890,"question_id":5229809,"body_markdown":"Java will always try to use the most specific applicable version of a method that&#39;s available (see [JLS &#167;15.12.2][1]).\r\n\r\n`Object`, `char[]` and `Integer` can all take `null` as a valid value. Therefore all 3 version are applicable, so Java will have to find the most specific one.\r\n\r\nSince `Object` is the super-type of `char[]`, the array version is more specific than the `Object`-version. So if only those two methods exist, the `char[]` version will be chosen.\r\n\r\nWhen both the `char[]` and `Integer` versions are available, then **both** of them are more specific than `Object` but none is more specific than the other, so Java can&#39;t decide which one to call. In this case you&#39;ll have to explicitly mention which one you want to call by casting the argument to the appropriate type.\r\n\r\nNote that in practice this problem occurs far more seldom than one might think. The reason for this is that it only happens when you&#39;re explicitly calling a method with `null` or with a variable of a rather un-specific type (such as `Object`).\r\n\r\nOn the contrary, the following invocation would be perfectly unambiguous:\r\n\r\n    char[] x = null;\r\n    doSomething(x);\r\n\r\nAlthough you&#39;re still passing the value `null`, Java knows exactly which method to call, since it will take the type of the variable into account.\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.12.2.5","title":"How to do method overloading for null argument?","body":"<p>Java will always try to use the most specific applicable version of a method that's available (see <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.12.2.5\" rel=\"noreferrer\">JLS §15.12.2</a>).</p>\n\n<p><code>Object</code>, <code>char[]</code> and <code>Integer</code> can all take <code>null</code> as a valid value. Therefore all 3 version are applicable, so Java will have to find the most specific one.</p>\n\n<p>Since <code>Object</code> is the super-type of <code>char[]</code>, the array version is more specific than the <code>Object</code>-version. So if only those two methods exist, the <code>char[]</code> version will be chosen.</p>\n\n<p>When both the <code>char[]</code> and <code>Integer</code> versions are available, then <strong>both</strong> of them are more specific than <code>Object</code> but none is more specific than the other, so Java can't decide which one to call. In this case you'll have to explicitly mention which one you want to call by casting the argument to the appropriate type.</p>\n\n<p>Note that in practice this problem occurs far more seldom than one might think. The reason for this is that it only happens when you're explicitly calling a method with <code>null</code> or with a variable of a rather un-specific type (such as <code>Object</code>).</p>\n\n<p>On the contrary, the following invocation would be perfectly unambiguous:</p>\n\n<pre><code>char[] x = null;\ndoSomething(x);\n</code></pre>\n\n<p>Although you're still passing the value <code>null</code>, Java knows exactly which method to call, since it will take the type of the variable into account.</p>\n"},{"tags":[],"owner":{"account_id":143959,"reputation":1094,"user_id":352673,"accept_rate":45,"display_name":"Jafar Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498804245,"creation_date":1406735840,"answer_id":25041486,"question_id":5229809,"body_markdown":"  I Have tried this and when there is exactly one pair of overloaded method and one of them has a parameter type Object then the compiler will always select the method with more specific type.  But when there is more than one specific type, then the compiler throws an ambiguous method error. \r\n\r\n  Since this is a compile time event, this can only happen when one intentionally passes null to this method.  If this is done intentionally then it is better to overload this method again with no parameter or create another method altogether.  ","title":"How to do method overloading for null argument?","body":"<p>I Have tried this and when there is exactly one pair of overloaded method and one of them has a parameter type Object then the compiler will always select the method with more specific type.  But when there is more than one specific type, then the compiler throws an ambiguous method error. </p>\n\n<p>Since this is a compile time event, this can only happen when one intentionally passes null to this method.  If this is done intentionally then it is better to overload this method again with no parameter or create another method altogether.  </p>\n"},{"tags":[],"owner":{"account_id":7311271,"reputation":1,"user_id":5570364,"display_name":"chitrendra chaudhary"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664988492,"creation_date":1509756083,"answer_id":47106196,"question_id":5229809,"body_markdown":"there is an ambiguity because of `doSomething(char[] obj)` and `doSomething(Integer obj)`.\r\n\r\nchar[] and Integer both are the same superior for null that&#39;s why they are ambiguous.\r\n  ","title":"How to do method overloading for null argument?","body":"<p>there is an ambiguity because of <code>doSomething(char[] obj)</code> and <code>doSomething(Integer obj)</code>.</p>\n<p>char[] and Integer both are the same superior for null that's why they are ambiguous.</p>\n"},{"comments":[{"owner":{"account_id":10686405,"reputation":170,"user_id":7866838,"display_name":"Rajesh Patel"},"score":0,"creation_date":1632299920,"post_id":51685978,"comment_id":122451978,"body_markdown":"Do you have idea why this method will called ```public static void printVal(Object i){\n        System.out.println(&quot;obj called &quot;+i);\n    } ```","body":"Do you have idea why this method will called <code>public static void printVal(Object i){         System.out.println(&quot;obj called &quot;+i);     } </code>"}],"tags":[],"owner":{"account_id":14092190,"reputation":1,"user_id":10180157,"display_name":"nagarjuna chimakurthi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533388482,"creation_date":1533388482,"answer_id":51685978,"question_id":5229809,"body_markdown":"    class Sample{\r\n      public static void main (String[] args) {\r\n           Sample s = new Sample();\r\n           s.printVal(null);\r\n           \r\n        } \r\n        public static void printVal(Object i){\r\n            System.out.println(&quot;obj called &quot;+i);\r\n        }\r\n        \r\n        public static void printVal(Integer i){\r\n            System.out.println(&quot;Int called &quot;+i);\r\n        }\r\n    }\r\n\r\nThe output is Int called null and so ambiguity is with char[] and Integer ","title":"How to do method overloading for null argument?","body":"<pre><code>class Sample{\n  public static void main (String[] args) {\n       Sample s = new Sample();\n       s.printVal(null);\n\n    } \n    public static void printVal(Object i){\n        System.out.println(\"obj called \"+i);\n    }\n\n    public static void printVal(Integer i){\n        System.out.println(\"Int called \"+i);\n    }\n}\n</code></pre>\n\n<p>The output is Int called null and so ambiguity is with char[] and Integer </p>\n"}],"owner":{"account_id":67511,"reputation":5359,"user_id":197532,"accept_rate":56,"display_name":"Phani"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99800,"favorite_count":0,"down_vote_count":1,"up_vote_count":162,"accepted_answer_id":5229890,"answer_count":7,"score":161,"last_activity_date":1664988492,"creation_date":1299570921,"question_id":5229809,"body_markdown":"I have added three methods with parameters:\r\n\r\n    public static  void doSomething(Object obj) {\r\n\t\tSystem.out.println(&quot;Object called&quot;);\r\n\t}\r\n\t\r\n\tpublic static  void doSomething(char[] obj) {\r\n\t\tSystem.out.println(&quot;Array called&quot;);\r\n\t}\r\n\r\n\tpublic static  void doSomething(Integer obj) {\r\n\t\tSystem.out.println(&quot;Integer called&quot;);\r\n\t}\r\n\r\nWhen I am calling `doSomething(null)` , then compiler throws error as **ambiguous methods**. So is the issue because `Integer` and `char[]` methods or `Integer` and `Object` methods?","title":"How to do method overloading for null argument?","body":"<p>I have added three methods with parameters:</p>\n\n<pre><code>public static  void doSomething(Object obj) {\n    System.out.println(\"Object called\");\n}\n\npublic static  void doSomething(char[] obj) {\n    System.out.println(\"Array called\");\n}\n\npublic static  void doSomething(Integer obj) {\n    System.out.println(\"Integer called\");\n}\n</code></pre>\n\n<p>When I am calling <code>doSomething(null)</code> , then compiler throws error as <strong>ambiguous methods</strong>. So is the issue because <code>Integer</code> and <code>char[]</code> methods or <code>Integer</code> and <code>Object</code> methods?</p>\n"},{"tags":["java","spring","mockito"],"answers":[{"tags":[],"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664988446,"creation_date":1664988446,"answer_id":73963728,"question_id":73937973,"body_markdown":"That&#39;s a pretty curious case. Let&#39;s understand the cause of such behavior first and then we&#39;ll try to figure out a solution.\r\n\r\nWhen we dive into Mockito code, we&#39;ll find out that in this case the exception is thrown here (`CallsRealMethods` class):\r\n```java\r\npublic void validateFor(InvocationOnMock invocation) {\r\n    if (new InvocationInfo(invocation).isAbstract()) {\r\n        throw cannotCallAbstractRealMethod();\r\n    }\r\n}\r\n```\r\nVerification if the method is abstract is based on this code (`InvocationInfo` class):\r\n```java\r\npublic boolean isAbstract() {\r\n    return (method.getModifiers() &amp; Modifier.ABSTRACT) != 0;\r\n}\r\n```\r\nwhich simply verifies if the method has an abstract flag (bit) set and in case of the `CrudRepository` interface (where `deleteAll` and `findById` are sourced) it is obviously true.\r\n\r\nAs the method calls from Spring-managed repositories are proxied (in this case - to the `SimpleJpaRepository` instance, [read more here][1]), Mockito has no way of knowing that the real method called here would not cause problems - it is abstract, but it is intercepted by Spring. So basically - Mockito is right to throw such an exception in this case without any additional context.\r\n\r\nWhat can we do about it? There may be various ways of working around that after you know the cause of the problem - I will show you the first one that came to my mind, but I suppose there may be other (and better). I simply covered the abstract method from the interface with a fake class that delegates the tested method calls to the real repository. Such fake class instance can be easily spied on using Mockito - thanks to that the code you&#39;ve provided works just fine (I&#39;ve missed the fact that you were stubbing `deleteAll` method, so in my case it&#39;s `findById`). Please, see the code below as well as the inline comments.\r\n\r\n```java\r\n// should not be treated as a Spring bean\r\n// and should not be loaded into the Spring Context\r\n@ConditionalOnExpression(&quot;false&quot;)\r\nclass MyRepositoryFake implements MyRepository {\r\n\r\n    private MyRepository delegate;\r\n\r\n    MyRepositoryFake(MyRepository delegate) {\r\n        this.delegate = delegate;\r\n    }\r\n\r\n    @Override\r\n    public Optional&lt;MyEntity&gt; findById(Long id) {\r\n        // all methods spied on in the tests should be delegated like this\r\n        // if you&#39;re using Lombok, consider:\r\n        // https://projectlombok.org/features/experimental/Delegate\r\n        return delegate.findById(id);\r\n    }\r\n\r\n    // rest of the methods...\r\n}\r\n```\r\n\r\n```java\r\n@Autowired\r\nMyRepository repository;\r\n\r\n@Test\r\nvoid test() {\r\n    // we&#39;re wrapping the repository to avoid\r\n    // Mockito interpreting the mocked method as abstract\r\n    // and then we&#39;re spying on it to make it easy to modify its behaviour\r\n    var repositorySpy = spy(new MyRepositoryFake(repository));\r\n    var id = 1L;\r\n    doThrow(new RuntimeException(&quot;first&quot;))\r\n            .doCallRealMethod()\r\n            .doThrow(new RuntimeException(&quot;second&quot;))\r\n            .when(repositorySpy)\r\n            .findById(id);\r\n\r\n    assertThatThrownBy(() -&gt; repositorySpy.findById(id))\r\n            .hasMessage(&quot;first&quot;);\r\n    assertThat(repositorySpy.findById(id))\r\n            .isEmpty();\r\n    assertThatThrownBy(() -&gt; repositorySpy.findById(id))\r\n            .hasMessage(&quot;second&quot;);\r\n}\r\n```\r\n\r\nI&#39;ve reproduced it in [a GitHub repository, where you can find all the code][2]. The test shown above (and in the repo) passes.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/38509882/how-are-spring-data-repositories-actually-implemented\r\n  [2]: https://github.com/Jonarzz/stack-overflow/blob/73937973/spring-boot-module/src/test/java/io/github/jonarzz/WorkingTest.java#L17","title":"Execute method from JpaRepository in SpyBean","body":"<p>That's a pretty curious case. Let's understand the cause of such behavior first and then we'll try to figure out a solution.</p>\n<p>When we dive into Mockito code, we'll find out that in this case the exception is thrown here (<code>CallsRealMethods</code> class):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void validateFor(InvocationOnMock invocation) {\n    if (new InvocationInfo(invocation).isAbstract()) {\n        throw cannotCallAbstractRealMethod();\n    }\n}\n</code></pre>\n<p>Verification if the method is abstract is based on this code (<code>InvocationInfo</code> class):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean isAbstract() {\n    return (method.getModifiers() &amp; Modifier.ABSTRACT) != 0;\n}\n</code></pre>\n<p>which simply verifies if the method has an abstract flag (bit) set and in case of the <code>CrudRepository</code> interface (where <code>deleteAll</code> and <code>findById</code> are sourced) it is obviously true.</p>\n<p>As the method calls from Spring-managed repositories are proxied (in this case - to the <code>SimpleJpaRepository</code> instance, <a href=\"https://stackoverflow.com/questions/38509882/how-are-spring-data-repositories-actually-implemented\">read more here</a>), Mockito has no way of knowing that the real method called here would not cause problems - it is abstract, but it is intercepted by Spring. So basically - Mockito is right to throw such an exception in this case without any additional context.</p>\n<p>What can we do about it? There may be various ways of working around that after you know the cause of the problem - I will show you the first one that came to my mind, but I suppose there may be other (and better). I simply covered the abstract method from the interface with a fake class that delegates the tested method calls to the real repository. Such fake class instance can be easily spied on using Mockito - thanks to that the code you've provided works just fine (I've missed the fact that you were stubbing <code>deleteAll</code> method, so in my case it's <code>findById</code>). Please, see the code below as well as the inline comments.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// should not be treated as a Spring bean\n// and should not be loaded into the Spring Context\n@ConditionalOnExpression(&quot;false&quot;)\nclass MyRepositoryFake implements MyRepository {\n\n    private MyRepository delegate;\n\n    MyRepositoryFake(MyRepository delegate) {\n        this.delegate = delegate;\n    }\n\n    @Override\n    public Optional&lt;MyEntity&gt; findById(Long id) {\n        // all methods spied on in the tests should be delegated like this\n        // if you're using Lombok, consider:\n        // https://projectlombok.org/features/experimental/Delegate\n        return delegate.findById(id);\n    }\n\n    // rest of the methods...\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nMyRepository repository;\n\n@Test\nvoid test() {\n    // we're wrapping the repository to avoid\n    // Mockito interpreting the mocked method as abstract\n    // and then we're spying on it to make it easy to modify its behaviour\n    var repositorySpy = spy(new MyRepositoryFake(repository));\n    var id = 1L;\n    doThrow(new RuntimeException(&quot;first&quot;))\n            .doCallRealMethod()\n            .doThrow(new RuntimeException(&quot;second&quot;))\n            .when(repositorySpy)\n            .findById(id);\n\n    assertThatThrownBy(() -&gt; repositorySpy.findById(id))\n            .hasMessage(&quot;first&quot;);\n    assertThat(repositorySpy.findById(id))\n            .isEmpty();\n    assertThatThrownBy(() -&gt; repositorySpy.findById(id))\n            .hasMessage(&quot;second&quot;);\n}\n</code></pre>\n<p>I've reproduced it in <a href=\"https://github.com/Jonarzz/stack-overflow/blob/73937973/spring-boot-module/src/test/java/io/github/jonarzz/WorkingTest.java#L17\" rel=\"nofollow noreferrer\">a GitHub repository, where you can find all the code</a>. The test shown above (and in the repo) passes.</p>\n"}],"owner":{"account_id":23847029,"reputation":23,"user_id":17851416,"display_name":"rabbitvirus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":548,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664988446,"creation_date":1664812918,"question_id":73937973,"body_markdown":"I am writing a service test with `JpaRepository`. It works fine, but I want to check a case with a sequence of failures from a database.\r\n\r\nI created a test and injected a `@SpyBean` as a bean of my `Repository` type. In general, I want to use a real repository bean in happy path scenarios, I just want to break it in a few cases when I want to simulate a failure.\r\n\r\nIt works fine, but I wanted to check a sequence of calls to a single method like this: `exception -&gt; ok -&gt; exception` - I work with batches, so that&#39;s why I would love to test it that way.\r\n\r\nI tried to mock the behavior like this:\r\n```\r\ndoThrow(...).doCallRealMethod().doThrow(...)\r\n    .when(mySpyBean).deleteAll(any());\r\n```\r\nto simulate that sequence.\r\n\r\nUnfortunately, it fails with an exception and a message like this:\r\n```\r\nCannot call abstract real method on java object!\r\nCalling real methods is only possible when mocking non abstract method.\r\n```\r\nOk, I get that message, however I just want to call what would be called if I do not set up any methods Mockito methods (like default behavior). I just want to delegate a call to a real bean registered in Spring in the second call.\r\n\r\nI also tried with `doAnswer(...)`, but did not manage to find a correct solution for that.\r\n\r\nAny ideas?","title":"Execute method from JpaRepository in SpyBean","body":"<p>I am writing a service test with <code>JpaRepository</code>. It works fine, but I want to check a case with a sequence of failures from a database.</p>\n<p>I created a test and injected a <code>@SpyBean</code> as a bean of my <code>Repository</code> type. In general, I want to use a real repository bean in happy path scenarios, I just want to break it in a few cases when I want to simulate a failure.</p>\n<p>It works fine, but I wanted to check a sequence of calls to a single method like this: <code>exception -&gt; ok -&gt; exception</code> - I work with batches, so that's why I would love to test it that way.</p>\n<p>I tried to mock the behavior like this:</p>\n<pre><code>doThrow(...).doCallRealMethod().doThrow(...)\n    .when(mySpyBean).deleteAll(any());\n</code></pre>\n<p>to simulate that sequence.</p>\n<p>Unfortunately, it fails with an exception and a message like this:</p>\n<pre><code>Cannot call abstract real method on java object!\nCalling real methods is only possible when mocking non abstract method.\n</code></pre>\n<p>Ok, I get that message, however I just want to call what would be called if I do not set up any methods Mockito methods (like default behavior). I just want to delegate a call to a real bean registered in Spring in the second call.</p>\n<p>I also tried with <code>doAnswer(...)</code>, but did not manage to find a correct solution for that.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","jsp","servlets"],"owner":{"account_id":22873416,"reputation":23,"user_id":17016103,"display_name":"utente1234567890"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664988366,"creation_date":1664286485,"question_id":73868749,"body_markdown":"I cannot print the list of elements of my for in jsp.If I put the quotes instead of the single quote, it gives me other errors, if I put the variable without $, the blank page appears. It would take a link to the correct syntax of variables nested in methods called by variables with the $.\r\n\r\nThis code gives me these errors:\r\n\r\n     &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n     pageEncoding=&quot;UTF-8&quot; isELIgnored=&quot;false&quot;%&gt;\r\n\r\n     &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n     &lt;%@ page import=&quot;com.giuggiola.entity.Parlamentare&quot; %&gt;\r\n\r\n     &lt;!DOCTYPE html&gt;\r\n\r\n     &lt;html&gt;\r\n     &lt;head&gt;\r\n     &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n     &lt;title&gt;Lista parlamentari&lt;/title&gt;\r\n     &lt;script src=&quot;&lt;c:url value=&quot;/resources/js/jquery-1.11.1.min.js&quot; /&gt;&quot;&gt;&lt;/script&gt;\r\n     &lt;script src=&quot;&lt;c:url value=&quot;/resources/js/bootstrap.min.js&quot; /&gt;&quot;&gt;&lt;/script&gt;\r\n     &lt;/head&gt;\r\n     &lt;body&gt;    \r\n     \r\n     &lt;h2&gt;Lista dei parlamentari:&lt;/h2&gt;\r\n     &lt;form method=&quot;POST&quot; action=&quot;lista_parlamentari.jsp&quot;&gt;\r\n     &lt;c:forEach items=&quot;${parlamentari}&quot; var=&quot;parlamentare&quot;&gt;\r\n     &lt;table&gt;\r\n     &lt;tr&gt;\r\n     &lt;td&gt;Nome:&lt;/td&gt;\r\n     &lt;td&gt;&lt;c:out value=&quot;${parlamentare.getPk().getNome()}&quot;/&gt;&lt;/td&gt; &lt;!-- se non funziona \r\n     prova con getPk().getNome() --&gt;\r\n     &lt;/tr&gt;\r\n     &lt;tr&gt;\r\n     &lt;td&gt;Partito:&lt;/td&gt;\r\n     &lt;td&gt;&lt;c:out value=&quot;${parlamentare.getPk().getPartito()}&quot;/&gt;&lt;/td&gt; \r\n     &lt;/tr&gt;\r\n     &lt;tr&gt;\r\n     &lt;td&gt;Circoscrizione:&lt;/td&gt;\r\n    \r\n \r\n  \r\n    \r\n        &lt;c:forEach items=&quot;${parlamentare.getPk().getCircoscrizione()}&quot; \r\n    var=&quot;CIRCOSCRIZIONE&quot; varStatus=&quot;myIndex&quot;&gt; \r\n     \r\n    &lt;td&gt;&lt;c:out value=&quot;${CIRCOSCRIZIONE.getElement( &#39;&lt;c:out value=&#39;${circoscrizione}&#39;/&gt;&#39;, \r\n    &#39;&lt;c:out value=&#39;${loop.index}&#39;/&gt;&#39;)}&quot;/&gt;&lt;br&gt;&lt;/td&gt; \r\n            &lt;/c:forEach&gt;\r\n       &lt;/tr&gt;\r\n        &lt;tr&gt;   \r\n       &lt;td&gt;Data di nascita:&lt;/td&gt;\r\n       &lt;td&gt;&lt;c:out value=&quot;${parlamentare.getData_nascita()}&quot;/&gt;&lt;br&gt;&lt;/td&gt;\r\n      &lt;/tr&gt;\r\n      &lt;tr&gt;\r\n         &lt;td&gt;Luogo:&lt;/td&gt;\r\n       &lt;td&gt;&lt;c:out value=&quot;${parlamentare.getLuogo()}&quot;/&gt;&lt;br&gt;&lt;/td&gt;\r\n       &lt;/tr&gt;\r\n       &lt;tr&gt;\r\n         &lt;td&gt;Titolo di studi:&lt;/td&gt;\r\n       &lt;td&gt;&lt;c:out value=&quot;${parlamentare.getTitolo_studi()}&quot;/&gt;&lt;br&gt;&lt;/td&gt;\r\n       &lt;/tr&gt;\r\n       &lt;tr&gt;\r\n       &lt;td&gt;Mandati:&lt;/td&gt;\r\n       &lt;c:forEach items=&quot;${parlamentare.getMandati()}&quot; var=&quot;mandato&quot; varStatus=&quot;myIndex&quot;&gt;\r\n           &lt;table&gt;\r\n            &lt;tr&gt;\r\n           &lt;td&gt;Mandato:&lt;/td&gt; \r\n           &lt;td&gt;&lt;c:out value=&quot;${mandato.getElement(&#39;&lt;c:out value=&#39;${mandato}&#39;/&gt;&#39;,&#39;&lt;c:out \r\n      value=&#39;${myIndex.index}&#39;/&gt;&#39;)}&quot; /&gt; &lt;/td&gt;\r\n           &lt;/tr&gt;\r\n           &lt;/table&gt;\r\n           &lt;/c:forEach&gt;\r\n     &lt;/tr&gt;\r\n     \r\n     &lt;tr&gt;\r\n         &lt;td&gt;Commissioni:&lt;/td&gt;\r\n          &lt;c:forEach items=&quot;${parlamentare.getCommissioni()}&quot; var=&quot;commissione&quot; \r\n     varStatus=&quot;myIndex&quot;&gt;\r\n           &lt;table&gt;\r\n            &lt;tr&gt;\r\n           &lt;td&gt;Commissione:&lt;/td&gt; \r\n           &lt;td&gt;&lt;c:out value=&quot;${commissione.getElement(&#39;&lt;c:out \r\n     value=&#39;${commissione}&#39;/&gt;&#39;,&#39;&lt;c:out value=&#39;${myIndex.index}&#39;/&gt;&#39;)}&quot;/&gt;&lt;/td&gt;\r\n           &lt;/tr&gt;\r\n           &lt;/table&gt;\r\n           &lt;/c:forEach&gt;\r\n       &lt;/tr&gt;\r\n      \r\n       &lt;/table&gt;\r\n       &lt;/c:forEach&gt;\r\n     \r\n         &lt;/form&gt;\r\n         \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nstacktrace:\r\n\r\n        SEVERE: Servlet.service() for servlet [jsp] in context with path [/Parlamento] \r\n        threw exception [/lista_parlamentari.jsp (line: [38], column: [4]) \r\n        [${CIRCOSCRIZIONE.getElement( &#39;&lt;c:out value=&#39;${circoscrizione}&#39;/&gt;&#39;, &#39;&lt;c:out \r\n        value=&#39;${loop.index}&#39;/&gt;&#39;)}] contains invalid expression(s): \r\n        [jakarta.el.ELException: Failed to parse the expression \r\n        [${CIRCOSCRIZIONE.getElement( &#39;&lt;c:out value=&#39;${circoscrizione}&#39;/&gt;&#39;, &#39;&lt;c:out \r\n        value=&#39;${loop.index}&#39;/&gt;&#39;)}]]] with root cause\r\n        org.apache.jasper.JasperException: /lista_parlamentari.jsp (line: [38], column: \r\n        [4]) [${CIRCOSCRIZIONE.getElement( &#39;&lt;c:out value=&#39;${circoscrizione}&#39;/&gt;&#39;, &#39;&lt;c:out \r\n        value=&#39;${loop.index}&#39;/&gt;&#39;)}] contains invalid expression(s): \r\n        [jakarta.el.ELException: Failed to parse the expression \r\n        [${CIRCOSCRIZIONE.getElement( &#39;&lt;c:out value=&#39;${circoscrizione}&#39;/&gt;&#39;, &#39;&lt;c:out \r\n        value=&#39;${loop.index}&#39;/&gt;&#39;)}]]\r\n\r\nLista_parlamentari.java\r\n\r\n     public ModelAndView doPost()//(Parlamentare parlamentare) \r\n\t {\t\r\n\t\tModelAndView mv= new ModelAndView();\r\n\t\r\n\t\tList&lt;Parlamentare&gt; parlamentari =parlamRepo.findAll();\r\n\t\tmv.addObject(&quot;parlamentari&quot;,parlamentari);\r\n\t\tmv.setViewName(&quot;lista_parlamentari.jsp&quot;);\r\n\t\treturn mv;\r\n\t }\r\n\r\nUpdate: I modified the code with the solutions I found at these links, but the page remains blank and I have no stacktrace from the server.Can anyone help me please? Thank you\r\n\r\nhttps://stackoverflow.com/questions/7563267/doubly-nested-el-variables\r\n\r\nhttps://docs.oracle.com/javaee/5/tutorial/doc/bnahq.html#bnaij\r\n\r\n    ${requestScope[&#39;javax.servlet.forward.servlet_path&#39;]}\r\n\r\nlista_parlamentari.jsp\r\n\r\n    &lt;c:forEach items=&quot;${parlamentare.getPk().getCircoscrizione()}&quot; \r\n     var=&quot;CIRCOSCRIZIONE&quot; varStatus=&quot;myIndex&quot;&gt; \r\n    \r\n    &lt;td&gt;&lt;c:out \r\n    value= \r\n    &quot;${CIRCOSCRIZIONE}.getElement(${requestScope[&#39;CIRCOSCRIZIONE&#39;]}, \r\n    ${requestScope[&#39;myIndex.index&#39;]})&quot;/&gt;&lt;br&gt;&lt;/td&gt; \r\n        &lt;/c:forEach&gt;\r\n   &lt;/tr&gt;\r\n    &lt;tr&gt;   \r\n\r\nupdate: I changed the code like this, but it just prints the title, the page remains blank.  I followed the directions at this link:\r\n\r\nhttps://stackoverflow.com/questions/15592614/how-to-nest-an-el-expression-in-another-el-expression\r\n\r\n    &lt;c:forEach items=&quot;${parlamentare.getPk().getCircoscrizione()}&quot; \r\n    var=&quot;CIRCOSCRIZIONE2&quot; varStatus=&quot;myIndex&quot;&gt; \r\n         &lt;c:set var=&quot;circoscrizione&quot; \r\n    value= \r\n    &quot;circoscrizione.getElement(${CIRCOSCRIZIONE2},${myIndex.index})&quot; \r\n     /&gt;\r\n        ${requestScope[circoscrizione] }\r\n          &lt;c:out value=&quot;${circoscrizione}&quot; /&gt;\r\n          &lt;/c:forEach&gt;\r\n   \r\n\r\n\r\n   \r\nSOLUZIONE: &lt;c:set var=&quot;circoscrizione&quot; value=&quot;${CIRCOSCRIZIONE2.getElement(CIRCOSCRIZIONE2,myIndex.index)}&quot;/&gt; \r\n","title":"[jakarta.el.ELException: Failed to parse the expression [${CIRCOSCRIZIONE.getElement( &#39;&lt;c:out value=&#39;${circoscrizione}&#39;/&gt;&#39;","body":"<p>I cannot print the list of elements of my for in jsp.If I put the quotes instead of the single quote, it gives me other errors, if I put the variable without $, the blank page appears. It would take a link to the correct syntax of variables nested in methods called by variables with the $.</p>\n<p>This code gives me these errors:</p>\n<pre><code> &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\n pageEncoding=&quot;UTF-8&quot; isELIgnored=&quot;false&quot;%&gt;\n\n &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\n &lt;%@ page import=&quot;com.giuggiola.entity.Parlamentare&quot; %&gt;\n\n &lt;!DOCTYPE html&gt;\n\n &lt;html&gt;\n &lt;head&gt;\n &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n &lt;title&gt;Lista parlamentari&lt;/title&gt;\n &lt;script src=&quot;&lt;c:url value=&quot;/resources/js/jquery-1.11.1.min.js&quot; /&gt;&quot;&gt;&lt;/script&gt;\n &lt;script src=&quot;&lt;c:url value=&quot;/resources/js/bootstrap.min.js&quot; /&gt;&quot;&gt;&lt;/script&gt;\n &lt;/head&gt;\n &lt;body&gt;    \n \n &lt;h2&gt;Lista dei parlamentari:&lt;/h2&gt;\n &lt;form method=&quot;POST&quot; action=&quot;lista_parlamentari.jsp&quot;&gt;\n &lt;c:forEach items=&quot;${parlamentari}&quot; var=&quot;parlamentare&quot;&gt;\n &lt;table&gt;\n &lt;tr&gt;\n &lt;td&gt;Nome:&lt;/td&gt;\n &lt;td&gt;&lt;c:out value=&quot;${parlamentare.getPk().getNome()}&quot;/&gt;&lt;/td&gt; &lt;!-- se non funziona \n prova con getPk().getNome() --&gt;\n &lt;/tr&gt;\n &lt;tr&gt;\n &lt;td&gt;Partito:&lt;/td&gt;\n &lt;td&gt;&lt;c:out value=&quot;${parlamentare.getPk().getPartito()}&quot;/&gt;&lt;/td&gt; \n &lt;/tr&gt;\n &lt;tr&gt;\n &lt;td&gt;Circoscrizione:&lt;/td&gt;\n\n\n\n\n    &lt;c:forEach items=&quot;${parlamentare.getPk().getCircoscrizione()}&quot; \nvar=&quot;CIRCOSCRIZIONE&quot; varStatus=&quot;myIndex&quot;&gt; \n \n&lt;td&gt;&lt;c:out value=&quot;${CIRCOSCRIZIONE.getElement( '&lt;c:out value='${circoscrizione}'/&gt;', \n'&lt;c:out value='${loop.index}'/&gt;')}&quot;/&gt;&lt;br&gt;&lt;/td&gt; \n        &lt;/c:forEach&gt;\n   &lt;/tr&gt;\n    &lt;tr&gt;   \n   &lt;td&gt;Data di nascita:&lt;/td&gt;\n   &lt;td&gt;&lt;c:out value=&quot;${parlamentare.getData_nascita()}&quot;/&gt;&lt;br&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n     &lt;td&gt;Luogo:&lt;/td&gt;\n   &lt;td&gt;&lt;c:out value=&quot;${parlamentare.getLuogo()}&quot;/&gt;&lt;br&gt;&lt;/td&gt;\n   &lt;/tr&gt;\n   &lt;tr&gt;\n     &lt;td&gt;Titolo di studi:&lt;/td&gt;\n   &lt;td&gt;&lt;c:out value=&quot;${parlamentare.getTitolo_studi()}&quot;/&gt;&lt;br&gt;&lt;/td&gt;\n   &lt;/tr&gt;\n   &lt;tr&gt;\n   &lt;td&gt;Mandati:&lt;/td&gt;\n   &lt;c:forEach items=&quot;${parlamentare.getMandati()}&quot; var=&quot;mandato&quot; varStatus=&quot;myIndex&quot;&gt;\n       &lt;table&gt;\n        &lt;tr&gt;\n       &lt;td&gt;Mandato:&lt;/td&gt; \n       &lt;td&gt;&lt;c:out value=&quot;${mandato.getElement('&lt;c:out value='${mandato}'/&gt;','&lt;c:out \n  value='${myIndex.index}'/&gt;')}&quot; /&gt; &lt;/td&gt;\n       &lt;/tr&gt;\n       &lt;/table&gt;\n       &lt;/c:forEach&gt;\n &lt;/tr&gt;\n \n &lt;tr&gt;\n     &lt;td&gt;Commissioni:&lt;/td&gt;\n      &lt;c:forEach items=&quot;${parlamentare.getCommissioni()}&quot; var=&quot;commissione&quot; \n varStatus=&quot;myIndex&quot;&gt;\n       &lt;table&gt;\n        &lt;tr&gt;\n       &lt;td&gt;Commissione:&lt;/td&gt; \n       &lt;td&gt;&lt;c:out value=&quot;${commissione.getElement('&lt;c:out \n value='${commissione}'/&gt;','&lt;c:out value='${myIndex.index}'/&gt;')}&quot;/&gt;&lt;/td&gt;\n       &lt;/tr&gt;\n       &lt;/table&gt;\n       &lt;/c:forEach&gt;\n   &lt;/tr&gt;\n  \n   &lt;/table&gt;\n   &lt;/c:forEach&gt;\n \n     &lt;/form&gt;\n     \n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>stacktrace:</p>\n<pre><code>    SEVERE: Servlet.service() for servlet [jsp] in context with path [/Parlamento] \n    threw exception [/lista_parlamentari.jsp (line: [38], column: [4]) \n    [${CIRCOSCRIZIONE.getElement( '&lt;c:out value='${circoscrizione}'/&gt;', '&lt;c:out \n    value='${loop.index}'/&gt;')}] contains invalid expression(s): \n    [jakarta.el.ELException: Failed to parse the expression \n    [${CIRCOSCRIZIONE.getElement( '&lt;c:out value='${circoscrizione}'/&gt;', '&lt;c:out \n    value='${loop.index}'/&gt;')}]]] with root cause\n    org.apache.jasper.JasperException: /lista_parlamentari.jsp (line: [38], column: \n    [4]) [${CIRCOSCRIZIONE.getElement( '&lt;c:out value='${circoscrizione}'/&gt;', '&lt;c:out \n    value='${loop.index}'/&gt;')}] contains invalid expression(s): \n    [jakarta.el.ELException: Failed to parse the expression \n    [${CIRCOSCRIZIONE.getElement( '&lt;c:out value='${circoscrizione}'/&gt;', '&lt;c:out \n    value='${loop.index}'/&gt;')}]]\n</code></pre>\n<p>Lista_parlamentari.java</p>\n<pre><code> public ModelAndView doPost()//(Parlamentare parlamentare) \n {  \n    ModelAndView mv= new ModelAndView();\n\n    List&lt;Parlamentare&gt; parlamentari =parlamRepo.findAll();\n    mv.addObject(&quot;parlamentari&quot;,parlamentari);\n    mv.setViewName(&quot;lista_parlamentari.jsp&quot;);\n    return mv;\n }\n</code></pre>\n<p>Update: I modified the code with the solutions I found at these links, but the page remains blank and I have no stacktrace from the server.Can anyone help me please? Thank you</p>\n<p><a href=\"https://stackoverflow.com/questions/7563267/doubly-nested-el-variables\">Doubly nested EL variables?</a></p>\n<p><a href=\"https://docs.oracle.com/javaee/5/tutorial/doc/bnahq.html#bnaij\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee/5/tutorial/doc/bnahq.html#bnaij</a></p>\n<pre><code>${requestScope['javax.servlet.forward.servlet_path']}\n</code></pre>\n<p>lista_parlamentari.jsp</p>\n<pre><code>&lt;c:forEach items=&quot;${parlamentare.getPk().getCircoscrizione()}&quot; \n var=&quot;CIRCOSCRIZIONE&quot; varStatus=&quot;myIndex&quot;&gt; \n\n&lt;td&gt;&lt;c:out \nvalue= \n&quot;${CIRCOSCRIZIONE}.getElement(${requestScope['CIRCOSCRIZIONE']}, \n${requestScope['myIndex.index']})&quot;/&gt;&lt;br&gt;&lt;/td&gt; \n    &lt;/c:forEach&gt;\n</code></pre>\n   \n       \n<p>update: I changed the code like this, but it just prints the title, the page remains blank.  I followed the directions at this link:</p>\n<p><a href=\"https://stackoverflow.com/questions/15592614/how-to-nest-an-el-expression-in-another-el-expression\">How to nest an EL expression in another EL expression</a></p>\n<pre><code>&lt;c:forEach items=&quot;${parlamentare.getPk().getCircoscrizione()}&quot; \nvar=&quot;CIRCOSCRIZIONE2&quot; varStatus=&quot;myIndex&quot;&gt; \n     &lt;c:set var=&quot;circoscrizione&quot; \nvalue= \n&quot;circoscrizione.getElement(${CIRCOSCRIZIONE2},${myIndex.index})&quot; \n /&gt;\n    ${requestScope[circoscrizione] }\n      &lt;c:out value=&quot;${circoscrizione}&quot; /&gt;\n      &lt;/c:forEach&gt;\n</code></pre>\n<p>SOLUZIONE: &lt;c:set var=&quot;circoscrizione&quot; value=&quot;${CIRCOSCRIZIONE2.getElement(CIRCOSCRIZIONE2,myIndex.index)}&quot;/&gt;</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1664892311,"post_id":73949105,"comment_id":130570654,"body_markdown":"You can have as many methods in your java programs as you want. You just need to call them for them to be executed. The `public static void main` method is just the entry point of your program, but there is nothing stopping you from calling as many other methods from that entry point as you want. I recommend reading a beginners tutorial that deals with how you define and call methods in java.","body":"You can have as many methods in your java programs as you want. You just need to call them for them to be executed. The <code>public static void main</code> method is just the entry point of your program, but there is nothing stopping you from calling as many other methods from that entry point as you want. I recommend reading a beginners tutorial that deals with how you define and call methods in java."},{"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"score":2,"creation_date":1664892502,"post_id":73949105,"comment_id":130570736,"body_markdown":"If you were asked to write &quot;orderedArray&quot; and &quot;reverseArray&quot; methods, why did you name them instead &quot;main&quot; and &quot;main1&quot; ?","body":"If you were asked to write &quot;orderedArray&quot; and &quot;reverseArray&quot; methods, why did you name them instead &quot;main&quot; and &quot;main1&quot; ?"}],"answers":[{"tags":[],"owner":{"account_id":20353400,"reputation":124,"user_id":14929537,"display_name":"fabio19933"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664892704,"creation_date":1664892704,"answer_id":73949254,"question_id":73949105,"body_markdown":"the ordering method works because it is inside main method.\r\nIn java the first method run is the main method, instead the reverse method is inside another method and you never call it, that is the reason why only ordering method works.\r\n\r\nYou could create:\r\na main method, two different method and call them inside your main.\r\nLike this:\r\n\r\n    public static void main(String[] args) {\r\n        Integer[] array = {1,4,3,2,5};\r\n        orderedArray(array);\r\n        System.out.println(&quot;&quot;);\r\n        reverseArray(array);\r\n    }\r\n\r\n    public static void reverseArray(Integer[] args) {\r\n        Arrays.sort(args,Collections.reverseOrder());\r\n        System.out.print(&quot;reverse array &quot;);\r\n        for(int i:args)\r\n        {\r\n            System.out.print(i + &quot; &quot;);\r\n        }\r\n    }\r\n    public static void orderedArray(Integer[] args) {\r\n        Arrays.sort(args);\r\n        System.out.print(&quot;ordered array &quot;);\r\n        for(int num : args) {\r\n            System.out.print(num + &quot; &quot;);\r\n        }\r\n    }\r\n\r\nThe result will be \r\n\r\nordered array 1 2 3 4 5 \r\n\r\nreverse array 5 4 3 2 1 ","title":"How can I add a method for ordering an array plus a method to reverse the order of the array?","body":"<p>the ordering method works because it is inside main method.\nIn java the first method run is the main method, instead the reverse method is inside another method and you never call it, that is the reason why only ordering method works.</p>\n<p>You could create:\na main method, two different method and call them inside your main.\nLike this:</p>\n<pre><code>public static void main(String[] args) {\n    Integer[] array = {1,4,3,2,5};\n    orderedArray(array);\n    System.out.println(&quot;&quot;);\n    reverseArray(array);\n}\n\npublic static void reverseArray(Integer[] args) {\n    Arrays.sort(args,Collections.reverseOrder());\n    System.out.print(&quot;reverse array &quot;);\n    for(int i:args)\n    {\n        System.out.print(i + &quot; &quot;);\n    }\n}\npublic static void orderedArray(Integer[] args) {\n    Arrays.sort(args);\n    System.out.print(&quot;ordered array &quot;);\n    for(int num : args) {\n        System.out.print(num + &quot; &quot;);\n    }\n}\n</code></pre>\n<p>The result will be</p>\n<p>ordered array 1 2 3 4 5</p>\n<p>reverse array 5 4 3 2 1</p>\n"}],"owner":{"account_id":23369153,"reputation":11,"user_id":17440308,"display_name":"kirito"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1664988329,"creation_date":1664892027,"question_id":73949105,"body_markdown":"The question I was given is asking me to write a `orderedArray` method as well as a `reverseArray` method.\r\n\r\nI have done this but I used a static void which makes only the first written method to work and the following method to not work. The ordering method works but not the reverse order method. \r\n\r\nIf I delete one of the methods it works, no matter which I delete the other work, if that makes sense.\r\n\r\nThis is the code:\r\n```java\r\npublic static void main(String[] args)\r\n    {    \t\r\n    \tint[] orderedArray = {1,4,3,2,5};\r\n    \tArrays.sort(orderedArray);\r\n    \tfor(int num : orderedArray) {\r\n    \t\tSystem.out.print(num + &quot; &quot;);\r\n    \t}\r\n    }\r\n    \r\n    public static void main1(String[] args) {\r\n    \t\r\n    \tint[] reverseArray = {1,2,3,4,5};\r\n    \tfor(int i=reverseArray.length-1;i&gt;=0;i--)\r\n    \t\tSystem.out.print(reverseArray[i] + &quot;  &quot;);\r\n    }\r\n```\r\n  \t\r\nI am just wondering if there is a better way to write this or how I can make it two separate methods so they work at the same time rather than the scenario I currently have. \r\n\r\nIf anyone has any suggestions I would greatly appreciate it","title":"How can I add a method for ordering an array plus a method to reverse the order of the array?","body":"<p>The question I was given is asking me to write a <code>orderedArray</code> method as well as a <code>reverseArray</code> method.</p>\n<p>I have done this but I used a static void which makes only the first written method to work and the following method to not work. The ordering method works but not the reverse order method.</p>\n<p>If I delete one of the methods it works, no matter which I delete the other work, if that makes sense.</p>\n<p>This is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args)\n    {       \n        int[] orderedArray = {1,4,3,2,5};\n        Arrays.sort(orderedArray);\n        for(int num : orderedArray) {\n            System.out.print(num + &quot; &quot;);\n        }\n    }\n    \n    public static void main1(String[] args) {\n        \n        int[] reverseArray = {1,2,3,4,5};\n        for(int i=reverseArray.length-1;i&gt;=0;i--)\n            System.out.print(reverseArray[i] + &quot;  &quot;);\n    }\n</code></pre>\n<p>I am just wondering if there is a better way to write this or how I can make it two separate methods so they work at the same time rather than the scenario I currently have.</p>\n<p>If anyone has any suggestions I would greatly appreciate it</p>\n"},{"tags":["java","sorting","generics"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1664986390,"post_id":73963223,"comment_id":130595265,"body_markdown":"Your List is of type `...Class&lt;? extends FooBar&gt;...` but the comparator is simply `...Class&lt;?&gt;...`, as you saw. The casting further on in your question essentially confirms that is the issue. Why not define your `Comparator` as `&lt;? extends FooBar&gt;` to begin with?","body":"Your List is of type <code>...Class&lt;? extends FooBar&gt;...</code> but the comparator is simply <code>...Class&lt;?&gt;...</code>, as you saw. The casting further on in your question essentially confirms that is the issue. Why not define your <code>Comparator</code> as <code>&lt;? extends FooBar&gt;</code> to begin with?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1664986537,"post_id":73963223,"comment_id":130595308,"body_markdown":"@Rogue Probably because the comparator isn&#39;t specific to comparing map entries that have `Class&lt;? extends FooBar&gt;` as keys.","body":"@Rogue Probably because the comparator isn&#39;t specific to comparing map entries that have <code>Class&lt;? extends FooBar&gt;</code> as keys."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1664986633,"post_id":73963223,"comment_id":130595349,"body_markdown":"I suppose that&#39;s fair, but I&#39;m pretty sure the language semantics for generics will bite you in that case (nested generics don&#39;t play very well here). From my understanding, a `Foo&lt;A&lt;? extends X&gt;&gt;` and a `Foo&lt;A&lt;? extends Y&gt;&gt;` (unrelated A/B/X/Y classes) are just as different as `Foo&lt;A&gt;` and `Foo&lt;B&gt;` for this kind of type inference resolution.","body":"I suppose that&#39;s fair, but I&#39;m pretty sure the language semantics for generics will bite you in that case (nested generics don&#39;t play very well here). From my understanding, a <code>Foo&lt;A&lt;? extends X&gt;&gt;</code> and a <code>Foo&lt;A&lt;? extends Y&gt;&gt;</code> (unrelated A/B/X/Y classes) are just as different as <code>Foo&lt;A&gt;</code> and <code>Foo&lt;B&gt;</code> for this kind of type inference resolution."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1664986853,"post_id":73963223,"comment_id":130595440,"body_markdown":"`MY_COMPARATOR` can work with any class in the world. Why should I constrain it to `FooBar` classes? And my list is really `List&lt;Map.Entry&lt;Class&lt;? extends T&gt;, Integer&gt;&gt;`, as it itself is parameterized in a captured generic type, so I don&#39;t even know what type it is ahead of time. But why should I care what type of class it is? I know `MY_COMPARATOR` can handle it! And yes, the &quot;language semantics for generics [are] bit[ing] [me] in [this] case&quot;. The question is: we all agree this should work and no harm will come from it. And it&#39;s even logical. So how do I work around it?","body":"<code>MY_COMPARATOR</code> can work with any class in the world. Why should I constrain it to <code>FooBar</code> classes? And my list is really <code>List&lt;Map.Entry&lt;Class&lt;? extends T&gt;, Integer&gt;&gt;</code>, as it itself is parameterized in a captured generic type, so I don&#39;t even know what type it is ahead of time. But why should I care what type of class it is? I know <code>MY_COMPARATOR</code> can handle it! And yes, the &quot;language semantics for generics [are] bit[ing] [me] in [this] case&quot;. The question is: we all agree this should work and no harm will come from it. And it&#39;s even logical. So how do I work around it?"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1664986961,"post_id":73963223,"comment_id":130595484,"body_markdown":"I&#39;ll even be happy with a small kludge that I can suppress warnings on, but intermediate casting to `Object` is too much I think. Plus it still leaves warnings.","body":"I&#39;ll even be happy with a small kludge that I can suppress warnings on, but intermediate casting to <code>Object</code> is too much I think. Plus it still leaves warnings."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1664987514,"post_id":73963223,"comment_id":130595678,"body_markdown":"Change your declaration to `Comparator&lt;Map.Entry&lt;? extends Class&lt;?&gt;, Integer&gt;&gt; MY_COMPARATOR …` There is, by the way, no need to resort to `Collections.sort(…)` anymore. You can simply call `foobarValues.sort(MY_COMPARATOR);`","body":"Change your declaration to <code>Comparator&lt;Map.Entry&lt;? extends Class&lt;?&gt;, Integer&gt;&gt; MY_COMPARATOR …</code> There is, by the way, no need to resort to <code>Collections.sort(…)</code> anymore. You can simply call <code>foobarValues.sort(MY_COMPARATOR);</code>"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1664987936,"post_id":73963223,"comment_id":130595821,"body_markdown":"Wow, Holger, that did it!! (You don&#39;t know how many combinations of `extends` and `super` I tried. &#128517;) Please place your comment in a separate answer; I want to open a bounty to award it and show my appreciation. And thanks for reminding me about `List.sort()`. Yes, this is super-old code I&#39;m trying to finally clean up. (One comment in that file said, &quot;works on Eclipse 3.4M3 but not on Sun JDK 1.6.0_03-b05&quot;, so it was a while ago. &#128518;)","body":"Wow, Holger, that did it!! (You don&#39;t know how many combinations of <code>extends</code> and <code>super</code> I tried. 😅) Please place your comment in a separate answer; I want to open a bounty to award it and show my appreciation. And thanks for reminding me about <code>List.sort()</code>. Yes, this is super-old code I&#39;m trying to finally clean up. (One comment in that file said, &quot;works on Eclipse 3.4M3 but not on Sun JDK 1.6.0_03-b05&quot;, so it was a while ago. 😆)"}],"answers":[{"comments":[{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1664988210,"post_id":73963648,"comment_id":130595913,"body_markdown":"Holger had mentioned this as well, and indeed `Comparator&lt;Map.Entry&lt;? extends Class&lt;?&gt;, Integer&gt;&gt;` works! I&#39;m grateful for the answer! I had went over the PECS principle, but in my mind that would give me `Comparator&lt;? extends Map.Entry&lt;Class&lt;?&gt;, Integer&gt;&gt;`. I&#39;ll have to say I&#39;m a 90% expert on Java generics, but that last 10% is a doozy! haha","body":"Holger had mentioned this as well, and indeed <code>Comparator&lt;Map.Entry&lt;? extends Class&lt;?&gt;, Integer&gt;&gt;</code> works! I&#39;m grateful for the answer! I had went over the PECS principle, but in my mind that would give me <code>Comparator&lt;? extends Map.Entry&lt;Class&lt;?&gt;, Integer&gt;&gt;</code>. I&#39;ll have to say I&#39;m a 90% expert on Java generics, but that last 10% is a doozy! haha"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1664988348,"post_id":73963648,"comment_id":130595956,"body_markdown":"@GarretWilson See my edit. `Comparator` is a consumer here, not a producer!","body":"@GarretWilson See my edit. <code>Comparator</code> is a consumer here, not a producer!"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1664988517,"post_id":73963648,"comment_id":130595996,"body_markdown":"Gah, good catch. Even with PECS in mind, I glossed over applying `extends` on `Class`.","body":"Gah, good catch. Even with PECS in mind, I glossed over applying <code>extends</code> on <code>Class</code>."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1664988884,"post_id":73963648,"comment_id":130596123,"body_markdown":"Oh, so you&#39;re saying that `sort(Comparator&lt;? super E&gt;)` is the same as my using `Comparator&lt;? super Map.Entry&lt;Class&lt;?&gt;&gt;`? So in this case, the `? extends Class&lt;?&gt;` is functioning as a _producer_ to the `Map.Entry&lt;&gt;`, while `Comparator&lt;&gt;` is functioning as a _consumer_ to `sort()`? &#129327;","body":"Oh, so you&#39;re saying that <code>sort(Comparator&lt;? super E&gt;)</code> is the same as my using <code>Comparator&lt;? super Map.Entry&lt;Class&lt;?&gt;&gt;</code>? So in this case, the <code>? extends Class&lt;?&gt;</code> is functioning as a <i>producer</i> to the <code>Map.Entry&lt;&gt;</code>, while <code>Comparator&lt;&gt;</code> is functioning as a <i>consumer</i> to <code>sort()</code>? 🤯"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1664989351,"post_id":73963648,"comment_id":130596252,"body_markdown":"I mean **if** `sort` were only declared to take `Comparator&lt;E&gt;`, you would have to apply PECS at the `Comparator` level and write `Comparator&lt;? super ...&gt;` too. Since it&#39;s declared to take `Comparator&lt;? super E&gt;`, you don&#39;t have to do that, but it&#39;s fine if you do. `Map.Entry&lt;? extends Class&lt;?&gt;, Integer&gt;` reads &quot;`Map.Entry` is a producer of `Class&lt;?&gt;`&quot; and `sort(Comparator&lt;? super E&gt;)` reads &quot;`sort` takes in a comparator, that is a consumer of `E`s&quot;. I think you should go through the PECS post again... @GarretWilson","body":"I mean <b>if</b> <code>sort</code> were only declared to take <code>Comparator&lt;E&gt;</code>, you would have to apply PECS at the <code>Comparator</code> level and write <code>Comparator&lt;? super ...&gt;</code> too. Since it&#39;s declared to take <code>Comparator&lt;? super E&gt;</code>, you don&#39;t have to do that, but it&#39;s fine if you do. <code>Map.Entry&lt;? extends Class&lt;?&gt;, Integer&gt;</code> reads &quot;<code>Map.Entry</code> is a producer of <code>Class&lt;?&gt;</code>&quot; and <code>sort(Comparator&lt;? super E&gt;)</code> reads &quot;<code>sort</code> takes in a comparator, that is a consumer of <code>E</code>s&quot;. I think you should go through the PECS post again... @GarretWilson"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1664989676,"post_id":73963648,"comment_id":130596357,"body_markdown":"@GarretWilson a common source of confusion is that types like `Map.Entry&lt;Class&lt;?&gt;, Integer&gt;` and `Map.Entry&lt;Class&lt;? extends FooBar&gt;, Integer&gt;` are *invariant*. The type arguments are types with wildcards, but the generic type (here `Map.Entry&lt;…&gt;`) has no wildcards. So neither of those types is a subtype of the other. But both are subtypes of `Map.Entry&lt;? extends Class&lt;?&gt;, Integer&gt;` (which is a type with wildcards). So, if the comparator can sort elements of type `Map.Entry&lt;? extends Class&lt;?&gt;, Integer&gt;`, it can also sort elements of the subtype `Map.Entry&lt;Class&lt;? extends FooBar&gt;, Integer&gt;`…","body":"@GarretWilson a common source of confusion is that types like <code>Map.Entry&lt;Class&lt;?&gt;, Integer&gt;</code> and <code>Map.Entry&lt;Class&lt;? extends FooBar&gt;, Integer&gt;</code> are <i>invariant</i>. The type arguments are types with wildcards, but the generic type (here <code>Map.Entry&lt;…&gt;</code>) has no wildcards. So neither of those types is a subtype of the other. But both are subtypes of <code>Map.Entry&lt;? extends Class&lt;?&gt;, Integer&gt;</code> (which is a type with wildcards). So, if the comparator can sort elements of type <code>Map.Entry&lt;? extends Class&lt;?&gt;, Integer&gt;</code>, it can also sort elements of the subtype <code>Map.Entry&lt;Class&lt;? extends FooBar&gt;, Integer&gt;</code>…"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1664990153,"post_id":73963648,"comment_id":130596503,"body_markdown":"&quot;So neither of those types is a subtype of the other.&quot; Yeah, I was getting that part. But … oh, I think I see: you&#39;ve made `Map.Entry&lt;? extends Class&lt;?&gt;, Integer&gt;` a more general class by making the second level of generics non-specific. `Map.Entry&lt;X, Integer&gt;` isn&#39;t a subtype of `Map.Entry&lt;Y, Integer&gt;`, but by saying `Map.Entry&lt;? extends Z, Integer&gt;` you take the type compatibility problem away at that level by making that level not a specific type. Something like that. It&#39;s hard to explain in simple words, but I think intuitively I understand. Thank you.","body":"&quot;So neither of those types is a subtype of the other.&quot; Yeah, I was getting that part. But … oh, I think I see: you&#39;ve made <code>Map.Entry&lt;? extends Class&lt;?&gt;, Integer&gt;</code> a more general class by making the second level of generics non-specific. <code>Map.Entry&lt;X, Integer&gt;</code> isn&#39;t a subtype of <code>Map.Entry&lt;Y, Integer&gt;</code>, but by saying <code>Map.Entry&lt;? extends Z, Integer&gt;</code> you take the type compatibility problem away at that level by making that level not a specific type. Something like that. It&#39;s hard to explain in simple words, but I think intuitively I understand. Thank you."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664988288,"creation_date":1664988008,"answer_id":73963648,"question_id":73963223,"body_markdown":"I would suggest that you declare the comparator by applying the [PECS][1] principle. It should have the type:\r\n\r\n    Comparator&lt;Map.Entry&lt;? extends Class&lt;?&gt;, Integer&gt;&gt;\r\n\r\nBoth type parameters for `Map.Entry` should have `? extends` (though just the first one is enough to fix the error) because a map entry is a producer of its keys and value types.\r\n\r\nYou could also add `? super` to the type parameter of `Comparator`, since the comparator is a consumer of map entries, but that is not needed here because it is actually already written in the method signature of `sort`.\r\n\r\n    void sort(Comparator&lt;? super E&gt; c)\r\n\r\nAfter that, you can write:\r\n\r\n    foobarValues.sort(MY_COMPARATOR);\r\n\r\n&lt;hr&gt;\r\n\r\nIf you cannot change the type of `MY_COMPARATOR`, one way to get the compiler to &quot;just shut up&quot; is to cast to `Object` first:\r\n\r\n    (Comparator&lt;Map.Entry&lt;Class&lt;? extends FooBar&gt;, Integer&gt;&gt;) (Object) MY_COMPARATOR\r\n\r\nCasting from `Object` to a parameterised type is an unchecked cast, which is presumably what you are looking for.\r\n\r\nThis unchecked cast would be safe as far as I know, since a map entry cannot be used as a consumer of its key type. You can only get, but not set, its key.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super","title":"Java comparator for sorting double-nested generics array","body":"<p>I would suggest that you declare the comparator by applying the <a href=\"https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super\">PECS</a> principle. It should have the type:</p>\n<pre><code>Comparator&lt;Map.Entry&lt;? extends Class&lt;?&gt;, Integer&gt;&gt;\n</code></pre>\n<p>Both type parameters for <code>Map.Entry</code> should have <code>? extends</code> (though just the first one is enough to fix the error) because a map entry is a producer of its keys and value types.</p>\n<p>You could also add <code>? super</code> to the type parameter of <code>Comparator</code>, since the comparator is a consumer of map entries, but that is not needed here because it is actually already written in the method signature of <code>sort</code>.</p>\n<pre><code>void sort(Comparator&lt;? super E&gt; c)\n</code></pre>\n<p>After that, you can write:</p>\n<pre><code>foobarValues.sort(MY_COMPARATOR);\n</code></pre>\n<hr>\n<p>If you cannot change the type of <code>MY_COMPARATOR</code>, one way to get the compiler to &quot;just shut up&quot; is to cast to <code>Object</code> first:</p>\n<pre><code>(Comparator&lt;Map.Entry&lt;Class&lt;? extends FooBar&gt;, Integer&gt;&gt;) (Object) MY_COMPARATOR\n</code></pre>\n<p>Casting from <code>Object</code> to a parameterised type is an unchecked cast, which is presumably what you are looking for.</p>\n<p>This unchecked cast would be safe as far as I know, since a map entry cannot be used as a consumer of its key type. You can only get, but not set, its key.</p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664988288,"creation_date":1664985854,"question_id":73963223,"body_markdown":"With Java 17 I want to compare map entries based upon some criteria, where the map entries are Java classes associated with some value, like this:\r\n\r\n```java\r\nComparator&lt;Map.Entry&lt;Class&lt;?&gt;, Integer&gt;&gt; MY_COMPARATOR =\r\n    new Comparator&lt;Map.Entry&lt;Class&lt;?&gt;, Integer&gt;&gt;() { … }\r\n```\r\n\r\nLater I have a list of a list of classes and their associated values (whether it&#39;s counts, memory size, or whatever). The twist is that my code is so refined (tongue in cheek) that I happen to know that all these classes extend from `FooBar`:\r\n\r\n```java\r\nList&lt;Map.Entry&lt;Class&lt;? extends FooBar&gt;, Integer&gt;&gt; foobarValues = new ArrayList&lt;&gt;();\r\n```\r\n\r\nNow I just want to sort those map entries using `MY_COMPARATOR` (to find the smallest/largest classes, the classes most encountered, or whatever `MY_COMPARATOR` uses as its criteria). But this doesn&#39;t work:\r\n\r\n```java\r\njava.util.Collections.sort(foobarValues, MY_COMPARATOR);\r\n```\r\n\r\nJava (actually Eclipse 2022-09) tells me:\r\n\r\n&gt; `The method sort(List&lt;T&gt;, Comparator&lt;? super T&gt;) in the type Collections is not applicable for the arguments (List&lt;Map.Entry&lt;Class&lt;? extends FooBar&gt;,Integer&gt;&gt;, Comparator&lt;Map.Entry&lt;Class&lt;?&gt;,Integer&gt;&gt;)`\r\n\r\nI&#39;ve been working with Java generics for a long time, and my best simplified explanation of what&#39;s happening is that the `? super T` in `Collections.sort()` &quot;hides&quot; the lower layer of generics, and that `? super Map.Entry&lt;Class&lt;?&gt;&gt;` has no relation to `? super Map.Entry&lt;Class&lt;? extends FooBar&gt;&gt;`. (But still, really?.) Actually my mind can&#39;t quite grasp the full intricacies of the problem.\r\n\r\nBut let&#39;s say I don&#39;t care so much about the problem; I just want the code to work with no warnings. You and I know that the comparator can work with _any class that is possible to exist_, so it will never cause a `ClassCastException` and it will never cause heap pollution, and it will never even sneak into your house at night and kill your bamboo plant.\r\n\r\nHow can I tell Java that it&#39;s OK for me to use this comparator? This does not work:\r\n\r\n```java\r\nCollections.sort(foo, (Comparator&lt;Map.Entry&lt;Class&lt;? extends FooBar&gt;, Integer&gt;&gt;)MY_COMPARATOR);\r\n```\r\n\r\nI would be happy casting the list being sorted, but this doesn&#39;t work either:\r\n\r\n```java\r\nCollections.sort((List&lt;Map.Entry&lt;Class&lt;?&gt;, Integer&gt;&gt;)foo, MY_COMPARATOR);\r\n```\r\n\r\nThis _does_ work!\r\n\r\n```java\r\nCollections.sort(foo, (Comparator&lt;Map.Entry&lt;Class&lt;? extends FooBar&gt;, Integer&gt;&gt;)(Object)comparator);\r\n```\r\n\r\nBut to use it I have to add `@SuppressWarnings(&quot;unchecked&quot;)`, and Java 17 `javac` with `-Xlint:all` still complains, and besides I feel dirty using it.\r\n\r\nI would be content with some workaround that would allow me to suppress the warning with `@SuppressWarnings(&quot;unchecked&quot;)` as long as javac lint still didn&#39;t complain. But the intermediate cast to `Object` is too much of a kludge for me to accept.\r\n\r\nWhat should I be doing?","title":"Java comparator for sorting double-nested generics array","body":"<p>With Java 17 I want to compare map entries based upon some criteria, where the map entries are Java classes associated with some value, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Comparator&lt;Map.Entry&lt;Class&lt;?&gt;, Integer&gt;&gt; MY_COMPARATOR =\n    new Comparator&lt;Map.Entry&lt;Class&lt;?&gt;, Integer&gt;&gt;() { … }\n</code></pre>\n<p>Later I have a list of a list of classes and their associated values (whether it's counts, memory size, or whatever). The twist is that my code is so refined (tongue in cheek) that I happen to know that all these classes extend from <code>FooBar</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Map.Entry&lt;Class&lt;? extends FooBar&gt;, Integer&gt;&gt; foobarValues = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Now I just want to sort those map entries using <code>MY_COMPARATOR</code> (to find the smallest/largest classes, the classes most encountered, or whatever <code>MY_COMPARATOR</code> uses as its criteria). But this doesn't work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.util.Collections.sort(foobarValues, MY_COMPARATOR);\n</code></pre>\n<p>Java (actually Eclipse 2022-09) tells me:</p>\n<blockquote>\n<p><code>The method sort(List&lt;T&gt;, Comparator&lt;? super T&gt;) in the type Collections is not applicable for the arguments (List&lt;Map.Entry&lt;Class&lt;? extends FooBar&gt;,Integer&gt;&gt;, Comparator&lt;Map.Entry&lt;Class&lt;?&gt;,Integer&gt;&gt;)</code></p>\n</blockquote>\n<p>I've been working with Java generics for a long time, and my best simplified explanation of what's happening is that the <code>? super T</code> in <code>Collections.sort()</code> &quot;hides&quot; the lower layer of generics, and that <code>? super Map.Entry&lt;Class&lt;?&gt;&gt;</code> has no relation to <code>? super Map.Entry&lt;Class&lt;? extends FooBar&gt;&gt;</code>. (But still, really?.) Actually my mind can't quite grasp the full intricacies of the problem.</p>\n<p>But let's say I don't care so much about the problem; I just want the code to work with no warnings. You and I know that the comparator can work with <em>any class that is possible to exist</em>, so it will never cause a <code>ClassCastException</code> and it will never cause heap pollution, and it will never even sneak into your house at night and kill your bamboo plant.</p>\n<p>How can I tell Java that it's OK for me to use this comparator? This does not work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collections.sort(foo, (Comparator&lt;Map.Entry&lt;Class&lt;? extends FooBar&gt;, Integer&gt;&gt;)MY_COMPARATOR);\n</code></pre>\n<p>I would be happy casting the list being sorted, but this doesn't work either:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collections.sort((List&lt;Map.Entry&lt;Class&lt;?&gt;, Integer&gt;&gt;)foo, MY_COMPARATOR);\n</code></pre>\n<p>This <em>does</em> work!</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collections.sort(foo, (Comparator&lt;Map.Entry&lt;Class&lt;? extends FooBar&gt;, Integer&gt;&gt;)(Object)comparator);\n</code></pre>\n<p>But to use it I have to add <code>@SuppressWarnings(&quot;unchecked&quot;)</code>, and Java 17 <code>javac</code> with <code>-Xlint:all</code> still complains, and besides I feel dirty using it.</p>\n<p>I would be content with some workaround that would allow me to suppress the warning with <code>@SuppressWarnings(&quot;unchecked&quot;)</code> as long as javac lint still didn't complain. But the intermediate cast to <code>Object</code> is too much of a kludge for me to accept.</p>\n<p>What should I be doing?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":41065,"reputation":37025,"user_id":119271,"accept_rate":78,"display_name":"Douglas"},"score":1,"creation_date":1324373476,"post_id":8572565,"comment_id":10629751,"body_markdown":"Since you&#39;re trying to improve performance with these changes, have you tried measuring the performance before and after moving the conditions? On one hand, that should tell you whether the logic is indeed being short-circuited as explained below, and on the other, it will tell you if the magnitude of these changes are significant in the bigger picture.","body":"Since you&#39;re trying to improve performance with these changes, have you tried measuring the performance before and after moving the conditions? On one hand, that should tell you whether the logic is indeed being short-circuited as explained below, and on the other, it will tell you if the magnitude of these changes are significant in the bigger picture."},{"owner":{"account_id":3963457,"reputation":6910,"user_id":3270037,"accept_rate":100,"display_name":"Nick is tired"},"score":0,"creation_date":1664940274,"post_id":8572565,"comment_id":130581914,"body_markdown":"Does this answer your question? [Does Java evaluate remaining conditions after boolean result is known?](https://stackoverflow.com/questions/6352139/does-java-evaluate-remaining-conditions-after-boolean-result-is-known)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/6352139/does-java-evaluate-remaining-conditions-after-boolean-result-is-known\">Does Java evaluate remaining conditions after boolean result is known?</a>"}],"answers":[{"tags":[],"owner":{"account_id":69161,"reputation":11035,"user_id":201393,"accept_rate":94,"display_name":"Srinivas Reddy Thatiparthy"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1324369624,"creation_date":1324369624,"answer_id":8572583,"question_id":8572565,"body_markdown":"Yes,that is called short-circuiting.\r\n\r\nPlease take a look at this wikipedia page on [short-circuiting][1]\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Short-circuit_evaluation","title":"How does Java deal with multiple conditions inside a single IF statement","body":"<p>Yes,that is called short-circuiting.</p>\n\n<p>Please take a look at this wikipedia page on <a href=\"http://en.wikipedia.org/wiki/Short-circuit_evaluation\" rel=\"noreferrer\">short-circuiting</a></p>\n"},{"comments":[{"owner":{"account_id":1420137,"reputation":1323,"user_id":1344935,"accept_rate":69,"display_name":"Evil Washing Machine"},"score":4,"creation_date":1409074814,"post_id":8572585,"comment_id":39825654,"body_markdown":"sorry for digging up an old thread, but why do you have &quot; &amp;&amp; and &quot; ? do you mean just &quot; &amp;&amp; &quot; ?","body":"sorry for digging up an old thread, but why do you have &quot; &amp;&amp; and &quot; ? do you mean just &quot; &amp;&amp; &quot; ?"}],"tags":[],"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"comment_count":1,"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1438346467,"creation_date":1324369628,"answer_id":8572585,"question_id":8572565,"body_markdown":"Yes, Java (similar to other mainstream languages) uses &lt;strike&gt;*lazy evaluation*&lt;/strike&gt; short-circuiting which means it evaluates as little as possible.\r\n\r\nThis means that the following code is completely safe:\r\n\r\n    if(p != null &amp;&amp; p.getAge() &gt; 10)\r\n\r\nAlso, `a || b` never evaluates `b` if `a` evaluates to `true`.","title":"How does Java deal with multiple conditions inside a single IF statement","body":"<p>Yes, Java (similar to other mainstream languages) uses <strike><em>lazy evaluation</em></strike> short-circuiting which means it evaluates as little as possible.</p>\n\n<p>This means that the following code is completely safe:</p>\n\n<pre><code>if(p != null &amp;&amp; p.getAge() &gt; 10)\n</code></pre>\n\n<p>Also, <code>a || b</code> never evaluates <code>b</code> if <code>a</code> evaluates to <code>true</code>.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1324370069,"creation_date":1324370069,"answer_id":8572655,"question_id":8572565,"body_markdown":"&gt; Is Java smart enough to skip checking bool2 and bool2 if bool1 was evaluated to false?\r\n\r\nIts not a matter of being smart, its a requirement specified in the language.  Otherwise you couldn&#39;t write expressions like.\r\n\r\n    if(s != null &amp;&amp; s.length() &gt; 0)\r\n\r\nor\r\n\r\n    if(s == null || s.length() == 0)\r\n\r\nBTW if you use `&amp;` and `|` it will always evaluate both sides of the expression.","title":"How does Java deal with multiple conditions inside a single IF statement","body":"<blockquote>\n  <p>Is Java smart enough to skip checking bool2 and bool2 if bool1 was evaluated to false?</p>\n</blockquote>\n\n<p>Its not a matter of being smart, its a requirement specified in the language.  Otherwise you couldn't write expressions like.</p>\n\n<pre><code>if(s != null &amp;&amp; s.length() &gt; 0)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if(s == null || s.length() == 0)\n</code></pre>\n\n<p>BTW if you use <code>&amp;</code> and <code>|</code> it will always evaluate both sides of the expression.</p>\n"},{"tags":[],"owner":{"account_id":242066,"reputation":17256,"user_id":513342,"accept_rate":85,"display_name":"Oleg Mikheev"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1324375124,"creation_date":1324372569,"answer_id":8573095,"question_id":8572565,"body_markdown":"Please [look up](http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.22) the difference between `&amp;` and `&amp;&amp;` in Java (the same applies to `|` and `||`).\r\n\r\n`&amp;` and `|` are **just** logical operators, while `&amp;&amp;` and `||` are **conditional** logical operators, which in your example means that\r\n\r\n    if(bool1 &amp;&amp; bool2 &amp;&amp; bool3) {\r\n\r\nwill skip `bool2` and `bool3` if `bool1` is false, and\r\n\r\n    if(bool1 &amp; bool2 &amp; bool3) {\r\n\r\nwill evaluate all conditions regardless of their values.\r\n\r\nFor example, given:\r\n\r\n\tboolean foo() {\r\n\t\tSystem.out.println(&quot;foo&quot;);\r\n\t\treturn true;\r\n\t}\r\n\r\n`if(foo() | foo())` will print `foo` **twice**, and `if(foo() || foo())` - just **once**.","title":"How does Java deal with multiple conditions inside a single IF statement","body":"<p>Please <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.22\" rel=\"noreferrer\">look up</a> the difference between <code>&amp;</code> and <code>&amp;&amp;</code> in Java (the same applies to <code>|</code> and <code>||</code>).</p>\n\n<p><code>&amp;</code> and <code>|</code> are <strong>just</strong> logical operators, while <code>&amp;&amp;</code> and <code>||</code> are <strong>conditional</strong> logical operators, which in your example means that</p>\n\n<pre><code>if(bool1 &amp;&amp; bool2 &amp;&amp; bool3) {\n</code></pre>\n\n<p>will skip <code>bool2</code> and <code>bool3</code> if <code>bool1</code> is false, and</p>\n\n<pre><code>if(bool1 &amp; bool2 &amp; bool3) {\n</code></pre>\n\n<p>will evaluate all conditions regardless of their values.</p>\n\n<p>For example, given:</p>\n\n<pre><code>boolean foo() {\n    System.out.println(\"foo\");\n    return true;\n}\n</code></pre>\n\n<p><code>if(foo() | foo())</code> will print <code>foo</code> <strong>twice</strong>, and <code>if(foo() || foo())</code> - just <strong>once</strong>.</p>\n"}],"owner":{"account_id":274769,"reputation":5173,"user_id":567200,"accept_rate":55,"display_name":"Paul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173760,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":8572585,"answer_count":4,"score":19,"last_activity_date":1664988263,"creation_date":1324369521,"question_id":8572565,"body_markdown":"Lets say I have this:\r\n\r\n    if(bool1 &amp;&amp; bool2 &amp;&amp; bool3) {\r\n    ...\r\n    }\r\n\r\nNow. Is Java smart enough to skip checking bool2 and bool3 if bool1 was evaluated to false? Does java even check them from left to right?\r\nI&#39;m asking this because i was &quot;sorting&quot; the conditions inside my if statements by the time it takes to do them (starting with the cheapest ones on the left). Now I&#39;m not sure if this gives me any performance benefits because i don&#39;t know how Java handles this.","title":"How does Java deal with multiple conditions inside a single IF statement","body":"<p>Lets say I have this:</p>\n<pre><code>if(bool1 &amp;&amp; bool2 &amp;&amp; bool3) {\n...\n}\n</code></pre>\n<p>Now. Is Java smart enough to skip checking bool2 and bool3 if bool1 was evaluated to false? Does java even check them from left to right?\nI'm asking this because i was &quot;sorting&quot; the conditions inside my if statements by the time it takes to do them (starting with the cheapest ones on the left). Now I'm not sure if this gives me any performance benefits because i don't know how Java handles this.</p>\n"},{"tags":["java","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":23265029,"reputation":128,"user_id":17350710,"display_name":"Ahmad Mtera"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663555137,"creation_date":1663544579,"answer_id":73767090,"question_id":73766659,"body_markdown":"#### Explanation ####\r\n\r\nBy default, VSCode outputs &#39;.class&#39; files into different locations depending on the type of file you&#39;re working with:-\r\n1. If you run a single &#39;.java&#39; file, it&#39;ll output the &#39;.class&#39; file into a path that looks like this: /private/var/folders/ys/rgjr_wyd0d715dz546hydfrr0000gn/T/vscodesws_6d2aa/jdt_ws/jdt.ls-java-project/bin\r\n[![enter image description here][1]][1]\r\n\r\n2. If you open a folder that contains &#39;.java&#39; files and run them, the &#39;.class&#39; files will be inside of a path that looks like this: /Users/YourUserNameHere/Library/Application Support/Code/User/workspaceStorage/e358195aec7543686cb2440051c91f82/redhat.java/jdt_ws/SplayTree Project_d551e7d6/bin\r\n[![enter image description here][2]][2]\r\n\r\n---\r\n\r\n#### Solutions ####\r\n\r\n1. To find the output path for your **own** project, just look for it inside VSCode&#39;s terminal after running.\r\n\r\n2. To change the default output directory for compiled &#39;.class&#39; files: \r\nGo to VSCode settings -&gt; Search for &quot;java project output path&quot; -&gt; Click on &quot;Edit in settings.json&quot; -&gt; Add the desired path inside the quotation marks (Note: this will only work with Workspace projects. It won&#39;t work with Maven/Gradle).\r\n\r\n\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EICeZ.png\r\n  [2]: https://i.stack.imgur.com/gPJNC.png\r\n  [3]: https://i.stack.imgur.com/iSRiz.png\r\n  [4]: https://i.stack.imgur.com/KcDLp.png","title":"how to find the .class file after running a .java project on vscode for macOS?","body":"<h4>Explanation</h4>\n<p>By default, VSCode outputs '.class' files into different locations depending on the type of file you're working with:-</p>\n<ol>\n<li><p>If you run a single '.java' file, it'll output the '.class' file into a path that looks like this: /private/var/folders/ys/rgjr_wyd0d715dz546hydfrr0000gn/T/vscodesws_6d2aa/jdt_ws/jdt.ls-java-project/bin\n<a href=\"https://i.stack.imgur.com/EICeZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EICeZ.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>If you open a folder that contains '.java' files and run them, the '.class' files will be inside of a path that looks like this: /Users/YourUserNameHere/Library/Application Support/Code/User/workspaceStorage/e358195aec7543686cb2440051c91f82/redhat.java/jdt_ws/SplayTree Project_d551e7d6/bin\n<a href=\"https://i.stack.imgur.com/gPJNC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gPJNC.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n<hr />\n<h4>Solutions</h4>\n<ol>\n<li><p>To find the output path for your <strong>own</strong> project, just look for it inside VSCode's terminal after running.</p>\n</li>\n<li><p>To change the default output directory for compiled '.class' files:\nGo to VSCode settings -&gt; Search for &quot;java project output path&quot; -&gt; Click on &quot;Edit in settings.json&quot; -&gt; Add the desired path inside the quotation marks (Note: this will only work with Workspace projects. It won't work with Maven/Gradle).</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/iSRiz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iSRiz.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/KcDLp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KcDLp.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26374609,"reputation":11,"user_id":20028763,"display_name":"Besen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":482,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664988152,"creation_date":1663538146,"question_id":73766659,"body_markdown":"I&#39;m trying to find the .class file after running a java project in VScode on macOS, I searched Google but there is only a path for Windows OS. Can anyone help to figure out the .class file?  \r\nThis is the java project&#39;s name: testSearch.java\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI want to find the testSearch.class file after running. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UvEUV.png","title":"how to find the .class file after running a .java project on vscode for macOS?","body":"<p>I'm trying to find the .class file after running a java project in VScode on macOS, I searched Google but there is only a path for Windows OS. Can anyone help to figure out the .class file?<br />\nThis is the java project's name: testSearch.java</p>\n<p><a href=\"https://i.stack.imgur.com/UvEUV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UvEUV.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to find the testSearch.class file after running.</p>\n"},{"tags":["java","spring-boot","maven","opencsv"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":2,"creation_date":1664890216,"post_id":73948304,"comment_id":130569782,"body_markdown":"I cannot reproduce your problem based on the information in the question. What version of OpenCSV are you using and what does that Maven dependency look like? What else do you have in your pom.xml? Your question tags mention other libraries such as POI and Spring - so maybe there is a library conflict. Can you narrow down the problem by starting with just a plain OpenCSV project and then adding other dependencies?","body":"I cannot reproduce your problem based on the information in the question. What version of OpenCSV are you using and what does that Maven dependency look like? What else do you have in your pom.xml? Your question tags mention other libraries such as POI and Spring - so maybe there is a library conflict. Can you narrow down the problem by starting with just a plain OpenCSV project and then adding other dependencies?"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":3,"creation_date":1664890219,"post_id":73948304,"comment_id":130569785,"body_markdown":"(Just to note: The current version of OpenCSV ([5.7.0](https://mvnrepository.com/artifact/com.opencsv/opencsv/5.7.0)) has Commons Collections 4 as a transitive Maven dependency, so you should not even need to add that explicitly to your POM.)","body":"(Just to note: The current version of OpenCSV (<a href=\"https://mvnrepository.com/artifact/com.opencsv/opencsv/5.7.0\" rel=\"nofollow noreferrer\">5.7.0</a>) has Commons Collections 4 as a transitive Maven dependency, so you should not even need to add that explicitly to your POM.)"},{"owner":{"account_id":1622560,"reputation":1026,"user_id":1498827,"accept_rate":84,"display_name":"microwth"},"score":0,"creation_date":1664897454,"post_id":73948304,"comment_id":130572665,"body_markdown":"@andrewJames this is what the dependency tree shows : +- com.opencsv:opencsv:jar:5.7.0:compile\n[INFO] |  +- org.apache.commons:commons-text:jar:1.9:compile\n[INFO] |  \\- commons-beanutils:commons-beanutils:jar:1.9.4:compile\n[INFO] |     +- commons-logging:commons-logging:jar:1.2:compile\n[INFO] |     \\- commons-collections:commons-collections:jar:3.2.2:compile\n[INFO] +- org.apache.commons:commons-collections4:jar:4.1:compile","body":"@andrewJames this is what the dependency tree shows : +- com.opencsv:opencsv:jar:5.7.0:compile [INFO] |  +- org.apache.commons:commons-text:jar:1.9:compile [INFO] |  \\- commons-beanutils:commons-beanutils:jar:1.9.4:compile [INFO] |     +- commons-logging:commons-logging:jar:1.2:compile [INFO] |     \\- commons-collections:commons-collections:jar:3.2.2:compile [INFO] +- org.apache.commons:commons-collections4:jar:4.1:compile"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1664912930,"post_id":73948304,"comment_id":130577383,"body_markdown":"How are you making sure that all the dependency jars are present at *runtime* and not just at compile time?","body":"How are you making sure that all the dependency jars are present at <i>runtime</i> and not just at compile time?"}],"owner":{"account_id":1622560,"reputation":1026,"user_id":1498827,"accept_rate":84,"display_name":"microwth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664988054,"creation_date":1664888611,"question_id":73948304,"body_markdown":"I&#39;m trying to use the OpenCsv library.When trying to instantiate a StatefulBeanToCsv for writing to a csv with\r\n\r\n    StatefulBeanToCsv&lt;Addresses&gt; beanToCsv = new StatefulBeanToCsvBuilder&lt;Addresses&gt;(output)\r\n                                .build();\r\n\r\n I get the following exception \r\n\r\n&gt; Caused by: java.lang.NoClassDefFoundError:\r\n&gt; org/apache/commons/collections4/ListValuedMap\r\n\r\nwhile the dependency to commons-collections4 is there\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n                &lt;version&gt;4.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nwhich includes the ListValueMap.\r\n\r\nI have re-built,cleaned,compiled the project,checked the classpath but the error persists! this is what the dependency tree shows\r\n\r\n    +- com.opencsv:opencsv:jar:5.7.0:compile\r\n    [INFO] |  +- org.apache.commons:commons-text:jar:1.9:compile\r\n    [INFO] |  \\- commons-beanutils:commons-beanutils:jar:1.9.4:compile\r\n    [INFO] |     +- commons-logging:commons-logging:jar:1.2:compile\r\n    [INFO] |     \\- commons-collections:commons-collections:jar:3.2.2:compile\r\n    [INFO] +- org.apache.commons:commons-collections4:jar:4.1:compile\r\n\r\n","title":"Class not found while library is there","body":"<p>I'm trying to use the OpenCsv library.When trying to instantiate a StatefulBeanToCsv for writing to a csv with</p>\n<pre><code>StatefulBeanToCsv&lt;Addresses&gt; beanToCsv = new StatefulBeanToCsvBuilder&lt;Addresses&gt;(output)\n                            .build();\n</code></pre>\n<p>I get the following exception</p>\n<blockquote>\n<p>Caused by: java.lang.NoClassDefFoundError:\norg/apache/commons/collections4/ListValuedMap</p>\n</blockquote>\n<p>while the dependency to commons-collections4 is there</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n            &lt;version&gt;4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>which includes the ListValueMap.</p>\n<p>I have re-built,cleaned,compiled the project,checked the classpath but the error persists! this is what the dependency tree shows</p>\n<pre><code>+- com.opencsv:opencsv:jar:5.7.0:compile\n[INFO] |  +- org.apache.commons:commons-text:jar:1.9:compile\n[INFO] |  \\- commons-beanutils:commons-beanutils:jar:1.9.4:compile\n[INFO] |     +- commons-logging:commons-logging:jar:1.2:compile\n[INFO] |     \\- commons-collections:commons-collections:jar:3.2.2:compile\n[INFO] +- org.apache.commons:commons-collections4:jar:4.1:compile\n</code></pre>\n"},{"tags":["java","csv","serialization","deserialization"],"comments":[{"owner":{"account_id":9072254,"reputation":1014,"user_id":6754986,"display_name":"LinFelix"},"score":0,"creation_date":1664978614,"post_id":73961328,"comment_id":130592278,"body_markdown":"Can you specify what did not work?","body":"Can you specify what did not work?"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1664982504,"post_id":73961328,"comment_id":130593850,"body_markdown":"Show us `prettyPrintCSV`. It is the method which does actual serialization.","body":"Show us <code>prettyPrintCSV</code>. It is the method which does actual serialization."}],"answers":[{"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1664982599,"post_id":73961390,"comment_id":130593897,"body_markdown":"It is not csv parser. Id doesn&#39;t work with escaping. It is always better to use existing library.","body":"It is not csv parser. Id doesn&#39;t work with escaping. It is always better to use existing library."}],"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664977757,"creation_date":1664977757,"answer_id":73961390,"question_id":73961328,"body_markdown":"You have to create new instances of books for every line: \r\n\r\n    while ((line = br.readLine()) != null) {\r\n        String[] values = line.split(&quot;,&quot;);\r\n        records.add(new Book(values[0], values[1],values[2]));\r\n    }\r\n\r\nAlso you should return your list at the end and why you have the parameter `book` for the desirialize method?\r\nAlso the List makes no sence, you only serialize only one book","title":"Optimal way to reverse this serialization","body":"<p>You have to create new instances of books for every line:</p>\n<pre><code>while ((line = br.readLine()) != null) {\n    String[] values = line.split(&quot;,&quot;);\n    records.add(new Book(values[0], values[1],values[2]));\n}\n</code></pre>\n<p>Also you should return your list at the end and why you have the parameter <code>book</code> for the desirialize method?\nAlso the List makes no sence, you only serialize only one book</p>\n"}],"owner":{"account_id":24381704,"reputation":1,"user_id":18313137,"display_name":"nathan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664987894,"creation_date":1664977475,"question_id":73961328,"body_markdown":"I&#39;ve written the following method to serialize an object and write it to a .csv file: it works well.\r\n\r\n```\r\n    public static void serializeAsCSV(String path, Book book) throws IOException {\r\n        Path filePath = Paths.get(path); //create a new path object, passing the path\r\n        byte[] strToBytes = book.prettyPrintCSV().getBytes();//converts the String to bytes\r\n        Files.write(filePath, strToBytes); //writes the bytes to the file\r\n```\r\n\r\nI suppose I don&#39;t understand it fully because I&#39;m having trouble writing the method to deserialize the .csv file into an object. \r\n\r\nthis is what I have currently:\r\n\r\n```\r\n    public static void deserializeFromCSV(String path, Book book) throws IOException {\r\n        List&lt;List&lt;String&gt;&gt; records = new ArrayList&lt;&gt;();\r\n        try (BufferedReader br = new BufferedReader(new FileReader(&quot;books.csv&quot;))) {\r\n            String line;\r\n            while ((line = br.readLine()) != null) {\r\n                String[] values = line.split(&quot;,&quot;);\r\n                records.add(Arrays.asList(values));\r\n                records.add(Arrays.asList(values));\r\n            }\r\n```\r\n\r\nmain method which calls serialize/deserialize:\r\n```\r\n    public static void main(String[] args) throws IOException {\r\n        Book book = new Book(&quot;Donald&quot;, &quot;Male&quot;, &quot;Brown&quot;); //create a new instance of Book\r\n        System.out.println(book.prettyPrintCSV()); //output the String values of new Book instance, moves to new line\r\n        Book.serializeAsCSV(&quot;books.csv&quot;, book); //calls the serializeAsCSV method, passing the path and the book object\r\n        Book.deserializeFromCSV(&quot;books.csv&quot;, book); //calls the deserializeFromCSV method, passing the path\r\n    }\r\n```\r\n\r\nplease ignore the attributes which don&#39;t have anything to do with books. I changed the class from &quot;Baby&quot; to &quot;Book&quot; and I need to refactor.","title":"Optimal way to reverse this serialization","body":"<p>I've written the following method to serialize an object and write it to a .csv file: it works well.</p>\n<pre><code>    public static void serializeAsCSV(String path, Book book) throws IOException {\n        Path filePath = Paths.get(path); //create a new path object, passing the path\n        byte[] strToBytes = book.prettyPrintCSV().getBytes();//converts the String to bytes\n        Files.write(filePath, strToBytes); //writes the bytes to the file\n</code></pre>\n<p>I suppose I don't understand it fully because I'm having trouble writing the method to deserialize the .csv file into an object.</p>\n<p>this is what I have currently:</p>\n<pre><code>    public static void deserializeFromCSV(String path, Book book) throws IOException {\n        List&lt;List&lt;String&gt;&gt; records = new ArrayList&lt;&gt;();\n        try (BufferedReader br = new BufferedReader(new FileReader(&quot;books.csv&quot;))) {\n            String line;\n            while ((line = br.readLine()) != null) {\n                String[] values = line.split(&quot;,&quot;);\n                records.add(Arrays.asList(values));\n                records.add(Arrays.asList(values));\n            }\n</code></pre>\n<p>main method which calls serialize/deserialize:</p>\n<pre><code>    public static void main(String[] args) throws IOException {\n        Book book = new Book(&quot;Donald&quot;, &quot;Male&quot;, &quot;Brown&quot;); //create a new instance of Book\n        System.out.println(book.prettyPrintCSV()); //output the String values of new Book instance, moves to new line\n        Book.serializeAsCSV(&quot;books.csv&quot;, book); //calls the serializeAsCSV method, passing the path and the book object\n        Book.deserializeFromCSV(&quot;books.csv&quot;, book); //calls the deserializeFromCSV method, passing the path\n    }\n</code></pre>\n<p>please ignore the attributes which don't have anything to do with books. I changed the class from &quot;Baby&quot; to &quot;Book&quot; and I need to refactor.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3808391,"reputation":4885,"user_id":3160089,"accept_rate":77,"display_name":"Endzeit"},"score":0,"creation_date":1664985376,"post_id":73961635,"comment_id":130594944,"body_markdown":"Does this answer your question? [How to inject a Map using the @Value Spring Annotation?](https://stackoverflow.com/questions/30691949/how-to-inject-a-map-using-the-value-spring-annotation)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/30691949/how-to-inject-a-map-using-the-value-spring-annotation\">How to inject a Map using the @Value Spring Annotation?</a>"}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664987885,"creation_date":1664986834,"answer_id":73963425,"question_id":73961635,"body_markdown":"&quot;Easy-peasy&quot;:\r\n```lang-java\r\npackage com.example.demo;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\n@SpringBootApplication \r\n@EnableConfigurationProperties(MyProps.class) // !\r\npublic class DemoApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DemoApplication.class, args);\r\n    }\r\n\r\n    @Bean // a simple test bean\r\n    CommandLineRunner cmd(/*@Autowired*/ MyProps props) {\r\n        return (args) -&gt; {\r\n            System.err.println(props.getRoot());\r\n        };\r\n    }\r\n}\r\n\r\n@ConfigurationProperties // ! ..no prefix, because we are &quot;close to&quot;/root! \r\nclass MyProps {\r\n\r\n    // this gets our &quot;root.&quot; prefix\r\n    private final Map&lt;String, ?&gt; root = new HashMap&lt;&gt;();\r\n\r\n    // since initialized, getter sufficient \r\n    public Map&lt;String, ?&gt; getRoot() {\r\n        return root;\r\n    }\r\n\r\n}\r\n\r\n``` \r\nWith, application.properties:\r\n\r\n```lang-properties\r\nroot.prop = xxxx\r\nroot.prop2 = yyyy\r\nroot.prop3 = zzzz\r\n```\r\n\r\nAnd pom.xml:\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n... console prints:\r\n```lang-bash\r\n...\r\n2022-10-05 18:12:20.101  INFO 9684 --- [           main] com.example.demo.DemoApplication         : Started DemoApplication in 0.834 seconds (JVM running for 1.111)\r\n{prop2=yyyy, prop=xxxx, prop3=zzzz}\r\n------------------------------------------------------------------------\r\n...\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nTo reside the properties in a &quot;non-default location&quot; (`foo.properties` e.g.), just:\r\n```lang-java\r\n//@ ... ion\r\n@EnableConfigurationProperties(MyProps.class)\r\n@PropertySource(&quot;classpath:/foo.properties&quot;) // ! ...\r\n``` \r\n\r\n..but attention: `application.properties` will have precedence! \r\n\r\nRefs: \r\n- https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\r\n- esp.: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties","title":"Get all properties as map in properties file Spring Boot","body":"<p>&quot;Easy-peasy&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\nimport java.util.HashMap;\nimport java.util.Map;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication \n@EnableConfigurationProperties(MyProps.class) // !\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @Bean // a simple test bean\n    CommandLineRunner cmd(/*@Autowired*/ MyProps props) {\n        return (args) -&gt; {\n            System.err.println(props.getRoot());\n        };\n    }\n}\n\n@ConfigurationProperties // ! ..no prefix, because we are &quot;close to&quot;/root! \nclass MyProps {\n\n    // this gets our &quot;root.&quot; prefix\n    private final Map&lt;String, ?&gt; root = new HashMap&lt;&gt;();\n\n    // since initialized, getter sufficient \n    public Map&lt;String, ?&gt; getRoot() {\n        return root;\n    }\n\n}\n\n</code></pre>\n<p>With, application.properties:</p>\n<pre class=\"lang-properties prettyprint-override\"><code>root.prop = xxxx\nroot.prop2 = yyyy\nroot.prop3 = zzzz\n</code></pre>\n<p>And pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>... console prints:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>...\n2022-10-05 18:12:20.101  INFO 9684 --- [           main] com.example.demo.DemoApplication         : Started DemoApplication in 0.834 seconds (JVM running for 1.111)\n{prop2=yyyy, prop=xxxx, prop3=zzzz}\n------------------------------------------------------------------------\n...\n</code></pre>\n<hr />\n<p>To reside the properties in a &quot;non-default location&quot; (<code>foo.properties</code> e.g.), just:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//@ ... ion\n@EnableConfigurationProperties(MyProps.class)\n@PropertySource(&quot;classpath:/foo.properties&quot;) // ! ...\n</code></pre>\n<p>..but attention: <code>application.properties</code> will have precedence!</p>\n<p>Refs:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config</a></li>\n<li>esp.: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties</a></li>\n</ul>\n"}],"owner":{"account_id":9775456,"reputation":618,"user_id":7245669,"accept_rate":67,"display_name":"NeptuneZ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1894,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73963425,"answer_count":1,"score":4,"last_activity_date":1664987885,"creation_date":1664978850,"question_id":73961635,"body_markdown":"I have a spring boot project , I want to get those properties as map by prefix , in this exemple the prefix is root :\r\n\r\napplication.properties : \r\n\r\n    root.prop = xxxx\r\n    root.prop2 = yyyy\r\n    root.prop3 = zzzz\r\n\r\nI dont want to change my filetype from properties to YAML.\r\n","title":"Get all properties as map in properties file Spring Boot","body":"<p>I have a spring boot project , I want to get those properties as map by prefix , in this exemple the prefix is root :</p>\n<p>application.properties :</p>\n<pre><code>root.prop = xxxx\nroot.prop2 = yyyy\nroot.prop3 = zzzz\n</code></pre>\n<p>I dont want to change my filetype from properties to YAML.</p>\n"},{"tags":["java","linux","ubuntu"],"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1664984927,"post_id":73962950,"comment_id":130594801,"body_markdown":"You need a job or process to be stopped before you can use `fg` to resume it in the foreground.  If it is not already stopped, you should be able to stop it with `kill -STOP`.","body":"You need a job or process to be stopped before you can use <code>fg</code> to resume it in the foreground.  If it is not already stopped, you should be able to stop it with <code>kill -STOP</code>."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1664985182,"post_id":73962950,"comment_id":130594874,"body_markdown":"However, the process also needs to be in the same session, and have the same controlling terminal.  Roughly speaking, that means it needs to have been started from the same terminal where you issue the `fg` command, and maybe even from the same instance of the shell.","body":"However, the process also needs to be in the same session, and have the same controlling terminal.  Roughly speaking, that means it needs to have been started from the same terminal where you issue the <code>fg</code> command, and maybe even from the same instance of the shell."}],"answers":[{"comments":[{"owner":{"account_id":21103731,"reputation":41,"user_id":15513157,"display_name":"flying_kaktus"},"score":0,"creation_date":1664985785,"post_id":73963092,"comment_id":130595080,"body_markdown":"by typing jobs or jobs -l I do not get any response","body":"by typing jobs or jobs -l I do not get any response"},{"owner":{"account_id":19559352,"reputation":35,"user_id":14312892,"display_name":"malene.dev"},"score":0,"creation_date":1664986078,"post_id":73963092,"comment_id":130595155,"body_markdown":"Are you using the same shell? job shows background commands belonging to the same shell only","body":"Are you using the same shell? job shows background commands belonging to the same shell only"},{"owner":{"account_id":21103731,"reputation":41,"user_id":15513157,"display_name":"flying_kaktus"},"score":0,"creation_date":1664986374,"post_id":73963092,"comment_id":130595258,"body_markdown":"Indeed, no, Im not using the same shell .. is there a way to get a task back in foreground anyway?","body":"Indeed, no, Im not using the same shell .. is there a way to get a task back in foreground anyway?"},{"owner":{"account_id":19559352,"reputation":35,"user_id":14312892,"display_name":"malene.dev"},"score":1,"creation_date":1664986730,"post_id":73963092,"comment_id":130595375,"body_markdown":"**you cannot take over a process that was started in a different shell**\n\nif you want to get access to your processes from different terminal you should use **virtual terminal manager** like tmux or screen and run your backgroun process from virtual terminal","body":"<b>you cannot take over a process that was started in a different shell</b>  if you want to get access to your processes from different terminal you should use <b>virtual terminal manager</b> like tmux or screen and run your backgroun process from virtual terminal"}],"tags":[],"owner":{"account_id":19559352,"reputation":35,"user_id":14312892,"display_name":"malene.dev"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664987028,"creation_date":1664985228,"answer_id":73963092,"question_id":73962950,"body_markdown":"\r\ntype ***jobs***\r\n\r\nYou will get list of all your background processes\r\n\r\n    [1]  Stopped notepadQQ\r\n    [2]  Stopped bash\r\n    [3]  Stopped /usr/lib/jvm/jdk-1.8.0/bin/java -version\r\n    [4]  Running /process/you/neeed\r\n\r\nuse background process index number with fg command to bring it back to the foreground\r\n\r\n    fg %4\r\n\r\n*Edit::*\r\n\r\nThis method only works **if you are using the same shell**. Be aware that **you cannot take over a process that was started in a different shell**.\r\n\r\nIf you want to get access to your processes from different terminal you should use **virtual terminal manager** like *tmux* or *screen*\r\n\r\n","title":"Ubuntu: background task does not want to get back in the foreground","body":"<p>type <em><strong>jobs</strong></em></p>\n<p>You will get list of all your background processes</p>\n<pre><code>[1]  Stopped notepadQQ\n[2]  Stopped bash\n[3]  Stopped /usr/lib/jvm/jdk-1.8.0/bin/java -version\n[4]  Running /process/you/neeed\n</code></pre>\n<p>use background process index number with fg command to bring it back to the foreground</p>\n<pre><code>fg %4\n</code></pre>\n<p><em>Edit::</em></p>\n<p>This method only works <strong>if you are using the same shell</strong>. Be aware that <strong>you cannot take over a process that was started in a different shell</strong>.</p>\n<p>If you want to get access to your processes from different terminal you should use <strong>virtual terminal manager</strong> like <em>tmux</em> or <em>screen</em></p>\n"}],"owner":{"account_id":21103731,"reputation":41,"user_id":15513157,"display_name":"flying_kaktus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664987028,"creation_date":1664984529,"question_id":73962950,"body_markdown":"I have a java program running on my linux server, the jar has been startet with &quot;&amp;&quot; and is now running in the background, by using htop I can see it too. Now, I tried jobs or fg to get the task back to the foreground, without success. Any idea what am I doing wrong?\r\n\r\n```\r\nerdo@localhost:~$ jobs -l\r\nerdo@localhost:~$ fg 45502\r\n-bash: fg: 45502: no such job\r\n```","title":"Ubuntu: background task does not want to get back in the foreground","body":"<p>I have a java program running on my linux server, the jar has been startet with &quot;&amp;&quot; and is now running in the background, by using htop I can see it too. Now, I tried jobs or fg to get the task back to the foreground, without success. Any idea what am I doing wrong?</p>\n<pre><code>erdo@localhost:~$ jobs -l\nerdo@localhost:~$ fg 45502\n-bash: fg: 45502: no such job\n</code></pre>\n"},{"tags":["java","xml","maven","xsd","java-9"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1506052164,"post_id":46356092,"comment_id":79672857,"body_markdown":"You might want to read [How to express dependency on java-ee features in Java9](https://stackoverflow.com/questions/46084751/how-to-express-dependency-in-maven-on-java-ee-features-for-transition-to-java-9)","body":"You might want to read <a href=\"https://stackoverflow.com/questions/46084751/how-to-express-dependency-in-maven-on-java-ee-features-for-transition-to-java-9\">How to express dependency on java-ee features in Java9</a>"},{"owner":{"account_id":3197637,"reputation":1437,"user_id":2700478,"accept_rate":29,"display_name":"St&#233;phane Appercel"},"score":0,"creation_date":1506060905,"post_id":46356092,"comment_id":79675646,"body_markdown":"Adding --add-modules javax.xml.bind early fails with: module not found: javax.xml.bind. Adding --add-modules java.se.ee without additional dependencies for the jaxb2-maven-plugin (as in the proposed solution) does not solve the problem either.","body":"Adding --add-modules javax.xml.bind early fails with: module not found: javax.xml.bind. Adding --add-modules java.se.ee without additional dependencies for the jaxb2-maven-plugin (as in the proposed solution) does not solve the problem either."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1506060998,"post_id":46356092,"comment_id":79675687,"body_markdown":"Could you share your `module-info.java`  and the `pom.xml` for the module as well in that case?","body":"Could you share your <code>module-info.java</code>  and the <code>pom.xml</code> for the module as well in that case?"},{"owner":{"account_id":3197637,"reputation":1437,"user_id":2700478,"accept_rate":29,"display_name":"St&#233;phane Appercel"},"score":0,"creation_date":1506061322,"post_id":46356092,"comment_id":79675843,"body_markdown":"I don&#39;t have a module-info.java file yet. I was performing a smoke build test of our legacy projects just by upgrading the JDK to version 9, in a first step.","body":"I don&#39;t have a module-info.java file yet. I was performing a smoke build test of our legacy projects just by upgrading the JDK to version 9, in a first step."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1506061718,"post_id":46356092,"comment_id":79676026,"body_markdown":"Could you please update the question with this detail and also add the complete stacktrace to make the question and answers useful.","body":"Could you please update the question with this detail and also add the complete stacktrace to make the question and answers useful."},{"owner":{"account_id":282043,"reputation":4264,"user_id":578706,"accept_rate":100,"display_name":"Tibor Blenessy"},"score":0,"creation_date":1506958015,"post_id":46356092,"comment_id":80011636,"body_markdown":"@St&#233;phaneAppercel the correct module name is `java.xml.bind` , not `javax.xml.bind`","body":"@St&#233;phaneAppercel the correct module name is <code>java.xml.bind</code> , not <code>javax.xml.bind</code>"},{"owner":{"account_id":3197637,"reputation":1437,"user_id":2700478,"accept_rate":29,"display_name":"St&#233;phane Appercel"},"score":0,"creation_date":1506987701,"post_id":46356092,"comment_id":80025041,"body_markdown":"Thanks @TiborBlenessy. For the sake of clarity, it&#39;s still required to add the jaxb-jxc-jdk9 dependency to the jaxb2-maven-plugin to make it work, as in the proposed solution.","body":"Thanks @TiborBlenessy. For the sake of clarity, it&#39;s still required to add the jaxb-jxc-jdk9 dependency to the jaxb2-maven-plugin to make it work, as in the proposed solution."}],"answers":[{"comments":[{"owner":{"account_id":412515,"reputation":749,"user_id":785622,"display_name":"Ioannis Sermetziadis"},"score":3,"creation_date":1511222650,"post_id":46356093,"comment_id":81760044,"body_markdown":"This answer fixes the plugin failure on Java 9 (kudos!), but exposes another issue. The generated XML schema does not have prefix specified for the XML schema elements (e.g. schema, element, complexType, simpleType), which causes issues when trying to parse the generated it. This issue does not come up when using jaxb2-maven-plugin on Java 8. Did Java 9 change in relation to the XML schema marshalling?","body":"This answer fixes the plugin failure on Java 9 (kudos!), but exposes another issue. The generated XML schema does not have prefix specified for the XML schema elements (e.g. schema, element, complexType, simpleType), which causes issues when trying to parse the generated it. This issue does not come up when using jaxb2-maven-plugin on Java 8. Did Java 9 change in relation to the XML schema marshalling?"}],"tags":[],"owner":{"account_id":3197637,"reputation":1437,"user_id":2700478,"accept_rate":29,"display_name":"St&#233;phane Appercel"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1506048594,"creation_date":1506048594,"answer_id":46356093,"question_id":46356092,"body_markdown":"I could fix the problem by adding the following dependencies to the plugin:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-jxc-jdk9&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\nFor the xjc goal, I assume that it&#39;s needed to add the following dependencies to the plugin:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-xjc-jdk9&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nOf course this is a workaround until a new version of the plugin is released. \r\n","title":"jaxb2-maven-plugin failing on java 9","body":"<p>I could fix the problem by adding the following dependencies to the plugin:</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-jxc-jdk9&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\n        &lt;version&gt;1.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>For the xjc goal, I assume that it's needed to add the following dependencies to the plugin:</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-xjc-jdk9&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\n        &lt;version&gt;1.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>Of course this is a workaround until a new version of the plugin is released. </p>\n"},{"comments":[{"owner":{"account_id":216605,"reputation":11967,"user_id":471955,"accept_rate":0,"display_name":"Dave Moten"},"score":1,"creation_date":1547077727,"post_id":49937305,"comment_id":95072460,"body_markdown":"The OP was talking about the `schemagen` goal. Note that your approach won&#39;t work with Java 11 + because `xjc` exectuable is removed.","body":"The OP was talking about the <code>schemagen</code> goal. Note that your approach won&#39;t work with Java 11 + because <code>xjc</code> exectuable is removed."},{"owner":{"account_id":6414730,"reputation":91,"user_id":4973301,"display_name":"7er"},"score":0,"creation_date":1618552662,"post_id":49937305,"comment_id":118640290,"body_markdown":"It is enough to have jdk8/bin in PATH for maven to run xjc.","body":"It is enough to have jdk8/bin in PATH for maven to run xjc."}],"tags":[],"owner":{"account_id":6414730,"reputation":91,"user_id":4973301,"display_name":"7er"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524212838,"creation_date":1524212838,"answer_id":49937305,"question_id":46356092,"body_markdown":"I finally resolved issue using xjc directly:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;execute xjc&lt;/id&gt;\r\n                &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;exec&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;executable&gt;xjc&lt;/executable&gt;\r\n                    &lt;longModulepath&gt;false&lt;/longModulepath&gt;\r\n                    &lt;arguments&gt;\r\n                        &lt;argument&gt;-extension&lt;/argument&gt;\r\n                        &lt;argument&gt;-no-header&lt;/argument&gt;\r\n                        &lt;argument&gt;-d&lt;/argument&gt;\r\n                        &lt;argument&gt;src/main/java&lt;/argument&gt;\r\n    \r\n                        &lt;argument&gt;-p&lt;/argument&gt;\r\n                        &lt;argument&gt;my.package.name&lt;/argument&gt;\r\n                        &lt;argument&gt;-b&lt;/argument&gt;\r\n                        &lt;argument&gt;src/main/resources/mybindings.xjb&lt;/argument&gt;\r\n                        &lt;argument&gt;src/main/resources/myschema.xsd&lt;/argument&gt;\r\n                    &lt;/arguments&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;","title":"jaxb2-maven-plugin failing on java 9","body":"<p>I finally resolved issue using xjc directly:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.6.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;execute xjc&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;exec&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;executable&gt;xjc&lt;/executable&gt;\n                &lt;longModulepath&gt;false&lt;/longModulepath&gt;\n                &lt;arguments&gt;\n                    &lt;argument&gt;-extension&lt;/argument&gt;\n                    &lt;argument&gt;-no-header&lt;/argument&gt;\n                    &lt;argument&gt;-d&lt;/argument&gt;\n                    &lt;argument&gt;src/main/java&lt;/argument&gt;\n\n                    &lt;argument&gt;-p&lt;/argument&gt;\n                    &lt;argument&gt;my.package.name&lt;/argument&gt;\n                    &lt;argument&gt;-b&lt;/argument&gt;\n                    &lt;argument&gt;src/main/resources/mybindings.xjb&lt;/argument&gt;\n                    &lt;argument&gt;src/main/resources/myschema.xsd&lt;/argument&gt;\n                &lt;/arguments&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20768059,"reputation":1,"user_id":15251469,"display_name":"Dhruv Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664986587,"creation_date":1664986587,"answer_id":73963373,"question_id":46356092,"body_markdown":"I was getting similar compilation errors while building maven with Java 17 and maven-jaxb2 plugin 2.3.0 . I tried latest version as well but got Mojo Exception while building the same with Maven . After researching a bit I was able to fix the issue using below implementation for jaxb2-plugin ,\r\n\r\nJava - 17\r\n\r\nJaxb2-maven-plugin - 0.14.0\r\n\r\nSpring Boot Maven - 2.7.4 \r\n\r\nIn properties Tag add below version ,\r\n\t&lt;maven-jaxb2-plugin.version&gt;0.14.0&lt;/maven-jaxb2-plugin.version&gt;\r\n\r\nIn Build Tag , \r\n\r\n    &lt;plugin&gt;\r\n\t&lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;${maven-jaxb2-plugin.version}&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;id&gt;example-xmls&lt;/id&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;generateDirectory&gt;${project.basedir}/src/main/java/com/cumulocity/exchnage_Demo&lt;/generateDirectory&gt;\r\n\t\t\t\t&lt;schemaDirectory&gt;${project.basedir}/src/main/resources/&lt;/schemaDirectory&gt;\r\n\t\t\t\t&lt;schemaIncludes&gt;\r\n\t\t\t\t\t&lt;include&gt;**/*.xsd&lt;/include&gt;\r\n\t\t\t\t&lt;/schemaIncludes&gt;\r\n\t\t\t\t&lt;bindingDirectory&gt;${project.basedir}/src/main/resources/&lt;/bindingDirectory&gt;\r\n\t\t\t\t&lt;bindingIncludes&gt;\r\n\t\t\t\t\t&lt;include&gt;**/*.xjb&lt;/include&gt;\r\n\t\t\t\t&lt;/bindingIncludes&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n    &lt;/plugin&gt;\t\r\n\r\nAfter this JAXB-2 Implementation was successfully generated . Make sure to add below dependency as well helpful to provide implementation during runtime (When we run the main class)\r\n\r\n\r\n\t&lt;dependency&gt;\r\n             &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n             &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n             &lt;version&gt;2.3.3&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\r\n             &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThis should work for all those struggling with Java 17 and spring boot version 2.7.4+ with jabxb2 maven plugin.","title":"jaxb2-maven-plugin failing on java 9","body":"<p>I was getting similar compilation errors while building maven with Java 17 and maven-jaxb2 plugin 2.3.0 . I tried latest version as well but got Mojo Exception while building the same with Maven . After researching a bit I was able to fix the issue using below implementation for jaxb2-plugin ,</p>\n<p>Java - 17</p>\n<p>Jaxb2-maven-plugin - 0.14.0</p>\n<p>Spring Boot Maven - 2.7.4</p>\n<p>In properties Tag add below version ,\n&lt;maven-jaxb2-plugin.version&gt;0.14.0&lt;/maven-jaxb2-plugin.version&gt;</p>\n<p>In Build Tag ,</p>\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n&lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n&lt;version&gt;${maven-jaxb2-plugin.version}&lt;/version&gt;\n&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;id&gt;example-xmls&lt;/id&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;generate&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n            &lt;generateDirectory&gt;${project.basedir}/src/main/java/com/cumulocity/exchnage_Demo&lt;/generateDirectory&gt;\n            &lt;schemaDirectory&gt;${project.basedir}/src/main/resources/&lt;/schemaDirectory&gt;\n            &lt;schemaIncludes&gt;\n                &lt;include&gt;**/*.xsd&lt;/include&gt;\n            &lt;/schemaIncludes&gt;\n            &lt;bindingDirectory&gt;${project.basedir}/src/main/resources/&lt;/bindingDirectory&gt;\n            &lt;bindingIncludes&gt;\n                &lt;include&gt;**/*.xjb&lt;/include&gt;\n            &lt;/bindingIncludes&gt;\n        &lt;/configuration&gt;\n    &lt;/execution&gt;\n&lt;/executions&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n        &lt;version&gt;2.3.3&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;/plugin&gt;   \n</code></pre>\n<p>After this JAXB-2 Implementation was successfully generated . Make sure to add below dependency as well helpful to provide implementation during runtime (When we run the main class)</p>\n<pre><code>&lt;dependency&gt;\n         &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n         &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n         &lt;version&gt;2.3.3&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\n         &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>This should work for all those struggling with Java 17 and spring boot version 2.7.4+ with jabxb2 maven plugin.</p>\n"}],"owner":{"account_id":3197637,"reputation":1437,"user_id":2700478,"accept_rate":29,"display_name":"St&#233;phane Appercel"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6333,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":3,"score":4,"last_activity_date":1664986587,"creation_date":1506048594,"question_id":46356092,"body_markdown":"The schemagen goal of the jaxb2-maven-plugin fails on Java 9.\r\nThe error is:\r\n\r\n    [Exception]: java.lang.ClassNotFoundException\r\n    [Message]: com.sun.istack.SAXParseException2\r\n\r\n- The jaxb2 plugin version is 2.3.1\r\n- The maven version is 3.5.0.\r\n- The maven compiler plugin version is 3.7.0.\r\n- All the plugins / dependencies are up-to-date.\r\n\r\nI don&#39;t have any module-info.java file. The projects I build are legacy Java 8 projects, where the JDK has been upgraded from 1.8u144 to version 9.\r\n\r\nHopefully, the only plugin that fails at this moment is the jaxb2-maven-plugin. Everything else is OK, both at compile time and at execution time. The stack trace is:\r\n\r\n    org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\r\n    org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\r\n    org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\r\n    org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\r\n    com.sun.tools.jxc.ap.SchemaGenerator.process(SchemaGenerator.java:103)\r\n    jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:968)\r\n    jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:884)\r\n    jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.access$2200(JavacProcessingEnvironment.java:108)\r\n    jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1206)\r\n    jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1315)\r\n    jdk.compiler/com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1246)\r\n    jdk.compiler/com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:922)\r\n    jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.lambda$doCall$0(JavacTaskImpl.java:100)\r\n    jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.handleExceptions(JavacTaskImpl.java:142)\r\n    jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.doCall(JavacTaskImpl.java:96)\r\n    jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:90)\r\n    com.sun.tools.jxc.SchemaGenerator$Runner.compile(SchemaGenerator.java:261)\r\n    java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n    com.sun.tools.jxc.SchemaGenerator.run(SchemaGenerator.java:166)\r\n    org.codehaus.mojo.jaxb2.schemageneration.AbstractXsdGeneratorMojo.performExecution(AbstractXsdGeneratorMojo.java:372)\r\n    org.codehaus.mojo.jaxb2.AbstractJaxbMojo.execute(AbstractJaxbMojo.java:257)\r\n    org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\r\n    org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\r\n    org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:154)\r\n    org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:146)\r\n    org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\r\n    org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\r\n    org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\r\n    org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n    org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:309)\r\n    org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:194)\r\n    org.apache.maven.DefaultMaven.execute(DefaultMaven.java:107)\r\n    org.apache.maven.cli.MavenCli.execute(MavenCli.java:993)\r\n    org.apache.maven.cli.MavenCli.doMain(MavenCli.java:345)\r\n    org.apache.maven.cli.MavenCli.main(MavenCli.java:191)\r\n    java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n    org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n    org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n    org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n    org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n\r\n\r\n\r\n","title":"jaxb2-maven-plugin failing on java 9","body":"<p>The schemagen goal of the jaxb2-maven-plugin fails on Java 9.\nThe error is:</p>\n\n<pre><code>[Exception]: java.lang.ClassNotFoundException\n[Message]: com.sun.istack.SAXParseException2\n</code></pre>\n\n<ul>\n<li>The jaxb2 plugin version is 2.3.1</li>\n<li>The maven version is 3.5.0.</li>\n<li>The maven compiler plugin version is 3.7.0.</li>\n<li>All the plugins / dependencies are up-to-date.</li>\n</ul>\n\n<p>I don't have any module-info.java file. The projects I build are legacy Java 8 projects, where the JDK has been upgraded from 1.8u144 to version 9.</p>\n\n<p>Hopefully, the only plugin that fails at this moment is the jaxb2-maven-plugin. Everything else is OK, both at compile time and at execution time. The stack trace is:</p>\n\n<pre><code>org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\norg.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\norg.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\norg.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\ncom.sun.tools.jxc.ap.SchemaGenerator.process(SchemaGenerator.java:103)\njdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:968)\njdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:884)\njdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.access$2200(JavacProcessingEnvironment.java:108)\njdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1206)\njdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1315)\njdk.compiler/com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1246)\njdk.compiler/com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:922)\njdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.lambda$doCall$0(JavacTaskImpl.java:100)\njdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.handleExceptions(JavacTaskImpl.java:142)\njdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.doCall(JavacTaskImpl.java:96)\njdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:90)\ncom.sun.tools.jxc.SchemaGenerator$Runner.compile(SchemaGenerator.java:261)\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\njava.base/java.lang.reflect.Method.invoke(Method.java:564)\ncom.sun.tools.jxc.SchemaGenerator.run(SchemaGenerator.java:166)\norg.codehaus.mojo.jaxb2.schemageneration.AbstractXsdGeneratorMojo.performExecution(AbstractXsdGeneratorMojo.java:372)\norg.codehaus.mojo.jaxb2.AbstractJaxbMojo.execute(AbstractJaxbMojo.java:257)\norg.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\norg.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\norg.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:154)\norg.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:146)\norg.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\norg.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\norg.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\norg.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\norg.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:309)\norg.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:194)\norg.apache.maven.DefaultMaven.execute(DefaultMaven.java:107)\norg.apache.maven.cli.MavenCli.execute(MavenCli.java:993)\norg.apache.maven.cli.MavenCli.doMain(MavenCli.java:345)\norg.apache.maven.cli.MavenCli.main(MavenCli.java:191)\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\njava.base/java.lang.reflect.Method.invoke(Method.java:564)\norg.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\norg.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\norg.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\norg.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\n</code></pre>\n"},{"tags":["java","guava"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1659428930,"post_id":73201824,"comment_id":129286507,"body_markdown":"Are you talking about https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/Sets.java#L880? It returns a `SetView` implementation whose methods _are_ executed... when you call them, not before. Note how the methods only return elements from `set1` if they are not contained in `set2`. That&#39;s where the &quot;difference&quot; is implemented.","body":"Are you talking about <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/Sets.java#L880\" rel=\"nofollow noreferrer\">github.com/google/guava/blob/master/guava/src/com/google/com&zwnj;&#8203;mon/&hellip;</a>? It returns a <code>SetView</code> implementation whose methods <i>are</i> executed... when you call them, not before. Note how the methods only return elements from <code>set1</code> if they are not contained in <code>set2</code>. That&#39;s where the &quot;difference&quot; is implemented."}],"answers":[{"tags":[],"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664986371,"creation_date":1659415213,"answer_id":73202056,"question_id":73201824,"body_markdown":"`Sets.difference`, as per the docs, tell:\r\n\r\n&gt;     public static &lt;E&gt; Sets.SetView&lt;E&gt; difference(Set&lt;E&gt; set1, Set&lt;?&gt; set2)\r\n&gt;\r\n&gt;\r\n&gt; Returns an unmodifiable view of the difference of two sets. *The returned set\r\n&gt; contains all elements that are contained by set1 and not contained by\r\n&gt; set2*. set2 may also contain elements not present in set1; these are\r\n&gt; simply ignored. The iteration order of the returned set matches that\r\n&gt; of set1.\r\n\r\n\r\nAs the doc already tells, `Sets.difference` make use of Set&#39;s `contains()` method in order to achieve the operation of difference.\r\n\r\nYou won&#39;t directly be able to check the operation in guava&#39;s src, as `contains()` is just a function declaration in the interface, so has no implementation and must be implemented by the structures that [implement the `Set` interface][1].\r\n\r\nFor example, a `HashSet` (which uses a `HashMap` under the hood) will use `hashCode()` and `equals()` methods, while other implementation may utilize `compareTo()`, or `compare()`, if a `Comparator` is used.\r\n\r\n\r\n  [1]: https://developer.classpath.org/doc/java/util/Set-source.html","title":"in java guava Sets.difference，How does it work","body":"<p><code>Sets.difference</code>, as per the docs, tell:</p>\n<blockquote>\n<pre><code>public static &lt;E&gt; Sets.SetView&lt;E&gt; difference(Set&lt;E&gt; set1, Set&lt;?&gt; set2)\n</code></pre>\n<p>Returns an unmodifiable view of the difference of two sets. <em>The returned set\ncontains all elements that are contained by set1 and not contained by\nset2</em>. set2 may also contain elements not present in set1; these are\nsimply ignored. The iteration order of the returned set matches that\nof set1.</p>\n</blockquote>\n<p>As the doc already tells, <code>Sets.difference</code> make use of Set's <code>contains()</code> method in order to achieve the operation of difference.</p>\n<p>You won't directly be able to check the operation in guava's src, as <code>contains()</code> is just a function declaration in the interface, so has no implementation and must be implemented by the structures that <a href=\"https://developer.classpath.org/doc/java/util/Set-source.html\" rel=\"nofollow noreferrer\">implement the <code>Set</code> interface</a>.</p>\n<p>For example, a <code>HashSet</code> (which uses a <code>HashMap</code> under the hood) will use <code>hashCode()</code> and <code>equals()</code> methods, while other implementation may utilize <code>compareTo()</code>, or <code>compare()</code>, if a <code>Comparator</code> is used.</p>\n"}],"owner":{"account_id":18692289,"reputation":11,"user_id":13626372,"display_name":"Miller snow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1659457899,"accepted_answer_id":73202056,"answer_count":1,"score":-1,"last_activity_date":1664986371,"creation_date":1659412667,"question_id":73201824,"body_markdown":"I have read the source code but I saw that it just creates an anonymous instance and overrides some method.\r\nIn executed difference method, these overriden methods are not executed.\r\nSo how does it implement the difference set?\r\n","title":"in java guava Sets.difference，How does it work","body":"<p>I have read the source code but I saw that it just creates an anonymous instance and overrides some method.\nIn executed difference method, these overriden methods are not executed.\nSo how does it implement the difference set?</p>\n"},{"tags":["java","spring-boot","docker","maven"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1664987346,"post_id":73963165,"comment_id":130595610,"body_markdown":"Why would you run `sudo su`? You either run `sudo &lt;some executable&gt;` to execute that as superuser, _or_ you use `su` to **s**ubstitute a **u**ser. You _never_ need to `sudo` the `su` command, the whole point is that you&#39;re asking the OS to change to a different user, which it will let you do as long as you provide the correct credentials for that user.","body":"Why would you run <code>sudo su</code>? You either run <code>sudo &lt;some executable&gt;</code> to execute that as superuser, <i>or</i> you use <code>su</code> to <b>s</b>ubstitute a <b>u</b>ser. You <i>never</i> need to <code>sudo</code> the <code>su</code> command, the whole point is that you&#39;re asking the OS to change to a different user, which it will let you do as long as you provide the correct credentials for that user."},{"owner":{"account_id":20070097,"reputation":124,"user_id":14715055,"display_name":"Umut Emre &#214;nder"},"score":0,"creation_date":1664988243,"post_id":73963165,"comment_id":130595922,"body_markdown":"Do you mean I should use instead of ```sudo su``` then ```mvn install```, just use ```sudo mvn install```? Well, if you mean that I tried that but it&#39;s still the same.","body":"Do you mean I should use instead of <code>sudo su</code> then <code>mvn install</code>, just use <code>sudo mvn install</code>? Well, if you mean that I tried that but it&#39;s still the same."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1664992534,"post_id":73963165,"comment_id":130597287,"body_markdown":"Sounds like you forgot to add your user to the docker group. I.e. https://stackoverflow.com/a/48957722/740553","body":"Sounds like you forgot to add your user to the docker group. I.e. <a href=\"https://stackoverflow.com/a/48957722/740553\">stackoverflow.com/a/48957722/740553</a>"}],"owner":{"account_id":20070097,"reputation":124,"user_id":14715055,"display_name":"Umut Emre &#214;nder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664986291,"creation_date":1664985607,"question_id":73963165,"body_markdown":"&gt; [ERROR] Failed to execute goal\r\n&gt; org.springframework.boot:spring-boot-maven-plugin:2.7.4:build-image\r\n&gt; (default) on project twitter-to-kafka-service: Execution default of\r\n&gt; goal\r\n&gt; org.springframework.boot:spring-boot-maven-plugin:2.7.4:build-image\r\n&gt; failed: Connection to the Docker daemon at &#39;localhost&#39; failed with\r\n&gt; error &quot;[13] Permission denied&quot;; ensure the Docker daemon is running\r\n&gt; and accessible: com.sun.jna.LastErrorException: [13] Permission denied\r\n&gt; -&gt; [Help 1]\r\n\r\nI get the above error when I try to create an image using the spring-boot-maven-plugin. To solve the problem, I gave all privileges to the terminal with ```sudo su``` and the problem was solved.\r\n\r\nHowever, I ran into a more interesting problem. Normal user cannot access the image created after typing ```sudo su```. So in the Docker Desktop application, and when I type ``docker images`` in the terminal, I can&#39;t see the created images. Whenever I type ```sudo su``` and then ```docker images``` then I can view it. I don&#39;t want it to be this way either. Because it is easier to use Docker Desktop application.\r\n\r\n\r\n```none\r\ndocker images\r\nREPOSITORY   TAG       IMAGE ID   CREATED   SIZE\r\n\r\n\r\nsudo su\r\n[sudo] password for umut: \r\nroot@umut-ThinkPad-E14-Gen-2:/home/umut# docker images\r\nREPOSITORY                          TAG              IMAGE ID       CREATED        SIZE\r\npaketobuildpacks/run                base-cnb         320a67ab6606   2 weeks ago    87.8MB\r\ntedex123/twitter-to-kafka-service   0.0.1-SNAPSHOT   a94cc13fed95   42 years ago   291MB\r\npaketobuildpacks/builder            base             49d8ba727b2b   42 years ago   1.34GB\r\n```","title":"Can&#39;t Acces Images I Created With &quot;Sudo Su&quot;","body":"<blockquote>\n<p>[ERROR] Failed to execute goal\norg.springframework.boot:spring-boot-maven-plugin:2.7.4:build-image\n(default) on project twitter-to-kafka-service: Execution default of\ngoal\norg.springframework.boot:spring-boot-maven-plugin:2.7.4:build-image\nfailed: Connection to the Docker daemon at 'localhost' failed with\nerror &quot;[13] Permission denied&quot;; ensure the Docker daemon is running\nand accessible: com.sun.jna.LastErrorException: [13] Permission denied\n-&gt; [Help 1]</p>\n</blockquote>\n<p>I get the above error when I try to create an image using the spring-boot-maven-plugin. To solve the problem, I gave all privileges to the terminal with <code>sudo su</code> and the problem was solved.</p>\n<p>However, I ran into a more interesting problem. Normal user cannot access the image created after typing <code>sudo su</code>. So in the Docker Desktop application, and when I type <code>docker images</code> in the terminal, I can't see the created images. Whenever I type <code>sudo su</code> and then <code>docker images</code> then I can view it. I don't want it to be this way either. Because it is easier to use Docker Desktop application.</p>\n<pre class=\"lang-none prettyprint-override\"><code>docker images\nREPOSITORY   TAG       IMAGE ID   CREATED   SIZE\n\n\nsudo su\n[sudo] password for umut: \nroot@umut-ThinkPad-E14-Gen-2:/home/umut# docker images\nREPOSITORY                          TAG              IMAGE ID       CREATED        SIZE\npaketobuildpacks/run                base-cnb         320a67ab6606   2 weeks ago    87.8MB\ntedex123/twitter-to-kafka-service   0.0.1-SNAPSHOT   a94cc13fed95   42 years ago   291MB\npaketobuildpacks/builder            base             49d8ba727b2b   42 years ago   1.34GB\n</code></pre>\n"},{"tags":["java","xml","dom"],"comments":[{"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"score":0,"creation_date":1323381109,"post_id":8438105,"comment_id":10428544,"body_markdown":"Out of curiosity, why do you want to get rid of `standalone=&quot;no&quot;`? After all, the lack of `standalone` attribute is equivalent to `standalone=&quot;no&quot;`: &quot;If there are no external markup declarations, the standalone document declaration has no meaning. If there are external markup declarations but there is no standalone document declaration, the value &quot;no&quot; is assumed.&quot; http://www.w3.org/TR/REC-xml/#sec-rmd","body":"Out of curiosity, why do you want to get rid of <code>standalone=&quot;no&quot;</code>? After all, the lack of <code>standalone</code> attribute is equivalent to <code>standalone=&quot;no&quot;</code>: &quot;If there are no external markup declarations, the standalone document declaration has no meaning. If there are external markup declarations but there is no standalone document declaration, the value &quot;no&quot; is assumed.&quot; <a href=\"http://www.w3.org/TR/REC-xml/#sec-rmd\" rel=\"nofollow noreferrer\">w3.org/TR/REC-xml/#sec-rmd</a>"},{"owner":{"account_id":1089563,"reputation":1852,"user_id":1084509,"accept_rate":88,"display_name":"user1084509"},"score":1,"creation_date":1323381347,"post_id":8438105,"comment_id":10428599,"body_markdown":"Because Im currently developing a system in which an electronic invoice should be generated. For generating the invoice, I need to create an xml which should follow the specifications done by the SAT (In Mexico). When an specification is not followed, the invoice becomes invalid.","body":"Because Im currently developing a system in which an electronic invoice should be generated. For generating the invoice, I need to create an xml which should follow the specifications done by the SAT (In Mexico). When an specification is not followed, the invoice becomes invalid."},{"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"score":2,"creation_date":1323382886,"post_id":8438105,"comment_id":10429047,"body_markdown":"Specifications that say an XML document must conform to such-and-such formatting convention, i.e. specifications beyond the content of the XML information model, require postprocessing. XML serializers in general are not able to fulfill arbitrary specs about serialization. (And I mean &quot;arbitrary&quot; more in the information science sense, not in the sense of &quot;random.&quot;)","body":"Specifications that say an XML document must conform to such-and-such formatting convention, i.e. specifications beyond the content of the XML information model, require postprocessing. XML serializers in general are not able to fulfill arbitrary specs about serialization. (And I mean &quot;arbitrary&quot; more in the information science sense, not in the sense of &quot;random.&quot;)"}],"answers":[{"comments":[{"owner":{"account_id":271875,"reputation":7649,"user_id":562644,"accept_rate":95,"display_name":"Ryan"},"score":1,"creation_date":1347559027,"post_id":8438236,"comment_id":16682117,"body_markdown":"I still get standalone=&quot;no&quot; in output with Sun Java 1.6.0_35 on Windows 7","body":"I still get standalone=&quot;no&quot; in output with Sun Java 1.6.0_35 on Windows 7"},{"owner":{"account_id":715236,"reputation":1477,"user_id":639718,"accept_rate":59,"display_name":"Jan Hruby"},"score":3,"creation_date":1360745898,"post_id":8438236,"comment_id":20812081,"body_markdown":"you can also set property of transformer - OutputKeys.STANDALONE to true","body":"you can also set property of transformer - OutputKeys.STANDALONE to true"},{"owner":{"account_id":1064549,"reputation":520,"user_id":1065448,"accept_rate":59,"display_name":"cypronmaya"},"score":2,"creation_date":1411313818,"post_id":8438236,"comment_id":40646004,"body_markdown":"@JanHruby It should be set as &quot;yes&quot;","body":"@JanHruby It should be set as &quot;yes&quot;"},{"owner":{"account_id":7226350,"reputation":4371,"user_id":5514765,"accept_rate":100,"display_name":"ParkerHalo"},"score":5,"creation_date":1471006252,"post_id":8438236,"comment_id":65193639,"body_markdown":"@Pangea it works, but when i do it, it doesn&#39;t print a newline after the prolog anymore!","body":"@Pangea it works, but when i do it, it doesn&#39;t print a newline after the prolog anymore!"},{"owner":{"account_id":1126140,"reputation":320,"user_id":1113396,"display_name":"Jirka Meluzin"},"score":9,"creation_date":1547043057,"post_id":8438236,"comment_id":95056122,"body_markdown":"transformer.setOutputProperty(OutputKeys.DOCTYPE_PUBLIC, &quot;&quot;); Causes to add new line after prolog","body":"transformer.setOutputProperty(OutputKeys.DOCTYPE_PUBLIC, &quot;&quot;); Causes to add new line after prolog"},{"owner":{"account_id":307060,"reputation":1113,"user_id":618156,"display_name":"cooltea"},"score":0,"creation_date":1616612905,"post_id":8438236,"comment_id":118060673,"body_markdown":"The Oracle forum thread link given by this answer is broken. I think it was replaced with the following https://community.oracle.com/tech/developers/discussion/comment/6845084#Comment_6845084","body":"The Oracle forum thread link given by this answer is broken. I think it was replaced with the following <a href=\"https://community.oracle.com/tech/developers/discussion/comment/6845084#Comment_6845084\" rel=\"nofollow noreferrer\">community.oracle.com/tech/developers/discussion/comment/&hellip;</a>"},{"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"score":0,"creation_date":1664986197,"post_id":8438236,"comment_id":130595198,"body_markdown":"@cooltea tx. updated the link","body":"@cooltea tx. updated the link"}],"tags":[],"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"comment_count":7,"down_vote_count":0,"up_vote_count":60,"is_accepted":true,"score":60,"last_activity_date":1664986175,"creation_date":1323381310,"answer_id":8438236,"question_id":8438105,"body_markdown":"From what I&#39;ve read you can do this by calling the below method on `Document` before creating the `DOMSource`:\r\n\r\n    doc.setXmlStandalone(true); //before creating the DOMSource\r\n\r\nIf you set it `false` *you cannot control it to appear or not*. So `setXmlStandalone(true)` on `Document`. In transformer if you want an output use `OutputKeys` with whatever &quot;yes&quot; or &quot;no&quot; you need. If you `setXmlStandalone(false)` on `Document` your output will be always `standalone=&quot;no&quot;` no matter what you set (if you set) in `Transformer`.\r\n\r\nRead the [thread in this forum][1]\r\n\r\n  [1]: https://community.oracle.com/tech/developers/discussion/comment/6845084#Comment_6845084","title":"How to remove standalone attribute declaration in xml document?","body":"<p>From what I've read you can do this by calling the below method on <code>Document</code> before creating the <code>DOMSource</code>:</p>\n<pre><code>doc.setXmlStandalone(true); //before creating the DOMSource\n</code></pre>\n<p>If you set it <code>false</code> <em>you cannot control it to appear or not</em>. So <code>setXmlStandalone(true)</code> on <code>Document</code>. In transformer if you want an output use <code>OutputKeys</code> with whatever &quot;yes&quot; or &quot;no&quot; you need. If you <code>setXmlStandalone(false)</code> on <code>Document</code> your output will be always <code>standalone=&quot;no&quot;</code> no matter what you set (if you set) in <code>Transformer</code>.</p>\n<p>Read the <a href=\"https://community.oracle.com/tech/developers/discussion/comment/6845084#Comment_6845084\" rel=\"nofollow noreferrer\">thread in this forum</a></p>\n"}],"owner":{"account_id":1089563,"reputation":1852,"user_id":1084509,"accept_rate":88,"display_name":"user1084509"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39174,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":8438236,"answer_count":1,"score":44,"last_activity_date":1664986175,"creation_date":1323380543,"question_id":8438105,"body_markdown":"Im am currently creating an xml using Java and then I transform it into a String. The xml declaration is as follows:\r\n\r\n    DocumentBuilderFactory dbfac = DocumentBuilderFactory.newInstance();\r\n    DocumentBuilder docBuilder = dbfac.newDocumentBuilder();\r\n    Document doc = docBuilder.newDocument();\r\n    doc.setXmlVersion(&quot;1.0&quot;);\r\n\r\nFor transforming the document into String, I include the following declaration: \r\n\r\n    TransformerFactory transfac = TransformerFactory.newInstance();\r\n    Transformer trans = transfac.newTransformer();\r\n    trans.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;no&quot;);\r\n    trans.setOutputProperty(OutputKeys.VERSION, &quot;1.0&quot;);\r\n    trans.setOutputProperty(OutputKeys.ENCODING,&quot;UTF-8&quot;);\r\n    trans.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n\r\nAnd then I do the transformation: \r\n\r\n    StringWriter sw = new StringWriter();\r\n    StreamResult result = new StreamResult(sw);\r\n    DOMSource source = new DOMSource(doc);\r\n    trans.transform(source, result);\r\n    String xmlString = sw.toString();\r\n\r\nThe problem is that in the XML Declaration attributes, the standalone attribute is included and I don&#39;t want that, but I want the version and encoding attributes to appear: \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n\r\nIs there any property where that could be specified?\r\n\r\n\r\n","title":"How to remove standalone attribute declaration in xml document?","body":"<p>Im am currently creating an xml using Java and then I transform it into a String. The xml declaration is as follows:</p>\n\n<pre><code>DocumentBuilderFactory dbfac = DocumentBuilderFactory.newInstance();\nDocumentBuilder docBuilder = dbfac.newDocumentBuilder();\nDocument doc = docBuilder.newDocument();\ndoc.setXmlVersion(\"1.0\");\n</code></pre>\n\n<p>For transforming the document into String, I include the following declaration: </p>\n\n<pre><code>TransformerFactory transfac = TransformerFactory.newInstance();\nTransformer trans = transfac.newTransformer();\ntrans.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, \"no\");\ntrans.setOutputProperty(OutputKeys.VERSION, \"1.0\");\ntrans.setOutputProperty(OutputKeys.ENCODING,\"UTF-8\");\ntrans.setOutputProperty(OutputKeys.INDENT, \"yes\");\n</code></pre>\n\n<p>And then I do the transformation: </p>\n\n<pre><code>StringWriter sw = new StringWriter();\nStreamResult result = new StreamResult(sw);\nDOMSource source = new DOMSource(doc);\ntrans.transform(source, result);\nString xmlString = sw.toString();\n</code></pre>\n\n<p>The problem is that in the XML Declaration attributes, the standalone attribute is included and I don't want that, but I want the version and encoding attributes to appear: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\n</code></pre>\n\n<p>Is there any property where that could be specified?</p>\n"},{"tags":["java","spring","hibernate","jpa","java-stream"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1664984904,"post_id":73962750,"comment_id":130594794,"body_markdown":"Does this answer your question? [Native queries support Spring data jpa stream for SQL Server](https://stackoverflow.com/questions/61352590/native-queries-support-spring-data-jpa-stream-for-sql-server)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/61352590/native-queries-support-spring-data-jpa-stream-for-sql-server\">Native queries support Spring data jpa stream for SQL Server</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664985148,"post_id":73962750,"comment_id":130594865,"body_markdown":"I doubt it answers (your production considerations), but it shows how (easy is) to  `Stream&lt;SomeEntity&gt;` in spring-data. Of course you should &quot;analyze your query plan&quot;, ...load, capacities, bottlenecks, cache ... before moving to production","body":"I doubt it answers (your production considerations), but it shows how (easy is) to  <code>Stream&lt;SomeEntity&gt;</code> in spring-data. Of course you should &quot;analyze your query plan&quot;, ...load, capacities, bottlenecks, cache ... before moving to production"},{"owner":{"account_id":8449743,"reputation":19,"user_id":6338956,"display_name":"lshem16"},"score":0,"creation_date":1664986016,"post_id":73962750,"comment_id":130595142,"body_markdown":"@xerx593 thanks but no, I am particularly concerned about it loading a full result set which that does not address","body":"@xerx593 thanks but no, I am particularly concerned about it loading a full result set which that does not address"}],"answers":[{"comments":[{"owner":{"account_id":8449743,"reputation":19,"user_id":6338956,"display_name":"lshem16"},"score":0,"creation_date":1664992008,"post_id":73963172,"comment_id":130597127,"body_markdown":"Interesting. The extra annotations and detach aren&#39;t ideal. I don&#39;t think I would want that repeated as a pattern in the codebase. However I&#39;ll accept if a better answer doesn&#39;t come along. Thanks.","body":"Interesting. The extra annotations and detach aren&#39;t ideal. I don&#39;t think I would want that repeated as a pattern in the codebase. However I&#39;ll accept if a better answer doesn&#39;t come along. Thanks."}],"tags":[],"owner":{"account_id":4698404,"reputation":226,"user_id":3802693,"display_name":"majdibo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664985650,"creation_date":1664985650,"answer_id":73963172,"question_id":73962750,"body_markdown":"You can use Stream Api to lazy load from database without breaking your memory but to make this work you need to do the following : \r\n\r\nAnnotate your query with these hints :\r\n\r\n     @QueryHints(value = {\r\n            @QueryHint(name = HINT_FETCH_SIZE, value = &quot;&quot; + Integer.MIN_VALUE),\r\n            @QueryHint(name = HINT_CACHEABLE, value = &quot;false&quot;),\r\n            @QueryHint(name = READ_ONLY, value = &quot;true&quot;)\r\n    })\r\n    @Query(nativeQuery = true, &quot;SELECT t.name, t.date FROM MY_TABLE t WHERE t.condition = true&quot;)\r\n    Stream&lt;MyEntity&gt; getAll();\r\n\r\nThis will disable second level caching and return read only record.\r\n\r\nThen to use your query you need to provid it in a transactional block : \r\n\r\n    @Transactional(readOnly = true)\r\n      public void process() {\r\n        Stream&lt;MyEntity&gt; myEntityStream = myEntityRepo.getAll();\r\n      \r\n        myEntityStream .forEach(entity-&gt; {\r\n          // do some processing\r\n         entityManager.detach(entity);\r\n        });\r\n      }\r\nNote at the end I detach entity to let the garbage collector free memory\r\n","title":"Will a Spring JPA Repository Native Query returning a Stream using Hibernate over SQL Server lazy-load the collection?","body":"<p>You can use Stream Api to lazy load from database without breaking your memory but to make this work you need to do the following :</p>\n<p>Annotate your query with these hints :</p>\n<pre><code> @QueryHints(value = {\n        @QueryHint(name = HINT_FETCH_SIZE, value = &quot;&quot; + Integer.MIN_VALUE),\n        @QueryHint(name = HINT_CACHEABLE, value = &quot;false&quot;),\n        @QueryHint(name = READ_ONLY, value = &quot;true&quot;)\n})\n@Query(nativeQuery = true, &quot;SELECT t.name, t.date FROM MY_TABLE t WHERE t.condition = true&quot;)\nStream&lt;MyEntity&gt; getAll();\n</code></pre>\n<p>This will disable second level caching and return read only record.</p>\n<p>Then to use your query you need to provid it in a transactional block :</p>\n<pre><code>@Transactional(readOnly = true)\n  public void process() {\n    Stream&lt;MyEntity&gt; myEntityStream = myEntityRepo.getAll();\n  \n    myEntityStream .forEach(entity-&gt; {\n      // do some processing\n     entityManager.detach(entity);\n    });\n  }\n</code></pre>\n<p>Note at the end I detach entity to let the garbage collector free memory</p>\n"}],"owner":{"account_id":8449743,"reputation":19,"user_id":6338956,"display_name":"lshem16"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":728,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664985650,"creation_date":1664983661,"question_id":73962750,"body_markdown":"I&#39;m picking a up a project where there is a JpaRepository implementation that uses a native query in Spring on top of hibernate and SQL Server which returns a List. The query does not having paging or limits implemented. I&#39;m worried this will cause a problem in production if it loads the full result set into memory.\r\n\r\nExample: \r\n```java\r\npublic interface MyEntityRepo extends JpaRepository&lt;MyEntity,String&gt; {\r\n...\r\n@Query(nativeQuery = true,\r\n  value = &quot;SELECT t.name, t.date FROM MY_TABLE t WHERE t.condition = true&quot;)\r\nList&lt;MyEntity&gt; getAll();\r\n```\r\n\r\nThe code that consumes this List uses the Stream API so I could refactor the method to return a Stream&lt;MyEntity&gt; but I cannot find any documentation that indicates if this will lazy-load to avoid fetching the whole result set at once.\r\n\r\nWill that work? Or do I need to refactor this do to proper paging?","title":"Will a Spring JPA Repository Native Query returning a Stream using Hibernate over SQL Server lazy-load the collection?","body":"<p>I'm picking a up a project where there is a JpaRepository implementation that uses a native query in Spring on top of hibernate and SQL Server which returns a List. The query does not having paging or limits implemented. I'm worried this will cause a problem in production if it loads the full result set into memory.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyEntityRepo extends JpaRepository&lt;MyEntity,String&gt; {\n...\n@Query(nativeQuery = true,\n  value = &quot;SELECT t.name, t.date FROM MY_TABLE t WHERE t.condition = true&quot;)\nList&lt;MyEntity&gt; getAll();\n</code></pre>\n<p>The code that consumes this List uses the Stream API so I could refactor the method to return a Stream but I cannot find any documentation that indicates if this will lazy-load to avoid fetching the whole result set at once.</p>\n<p>Will that work? Or do I need to refactor this do to proper paging?</p>\n"},{"tags":["java","intellij-idea","groovy","enums"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":5,"creation_date":1664940113,"post_id":73955515,"comment_id":130581898,"body_markdown":"Refer to it in your code as `Type.Calendar` and import `Type` instead of `Calendar`.  That&#39;s what you should do with enums anyway, regardless of whether there&#39;s a name clash.","body":"Refer to it in your code as <code>Type.Calendar</code> and import <code>Type</code> instead of <code>Calendar</code>.  That&#39;s what you should do with enums anyway, regardless of whether there&#39;s a name clash."},{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":3,"creation_date":1664943736,"post_id":73955515,"comment_id":130582283,"body_markdown":"And style wise, enum values are commonly typed with all caps like constants. Following common Java code formatting would have saved you from the conflict with java.util.Calendar.","body":"And style wise, enum values are commonly typed with all caps like constants. Following common Java code formatting would have saved you from the conflict with java.util.Calendar."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1664951206,"post_id":73955515,"comment_id":130583444,"body_markdown":"This Question needs example code, a *minimal* example.","body":"This Question needs example code, a <i>minimal</i> example."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1665405175,"post_id":73955515,"comment_id":130685439,"body_markdown":"Create a bug report over at JetBrains if this only affects IntelliJ","body":"Create a bug report over at JetBrains if this only affects IntelliJ"}],"owner":{"account_id":16044709,"reputation":55,"user_id":11580194,"display_name":"adityaViswanatham"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":486,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664985406,"creation_date":1664938302,"question_id":73955515,"body_markdown":"I have a class named `Permission` with an enum named `Type`. `Type` has a value called `Calendar`. When I try to access `Calendar` from the enum inside another file, IntelliJ resolves it as a `java.util.Calendar` object. I manually imported the `Calendar` enum value but it remains unused. Any suggestions on how to fix this will help. Thanks!\r\n\r\nCode example:\r\nPermission.java\r\n```\r\npublic class Permission {\r\n\r\n    String name;\r\n    Type type;\r\n\r\n    public Permission(String name, Type type) {\r\n        this.name = name;\r\n        this.type = type;\r\n    }\r\n}\r\n```\r\n\r\nType.java\r\n```\r\npublic enum Type {\r\n    Camera,\r\n    Calendar\r\n}\r\n```\r\n\r\nApp.java\r\n```\r\nimport static com.avi.enumTest.Type.Camera;\r\nimport static com.avi.enumTest.Type.Calendar;\r\n\r\nimport java.util.*;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] args) {\r\n        Permission p1 = new Permission(&quot;camera&quot;, Camera);\r\n        Permission p2 = new Permission(&quot;calendar&quot;, Calendar);\r\n\r\n        List&lt;Permission&gt; permList = new ArrayList&lt;&gt;();\r\n        permList.add(p1);\r\n        permList.add(p2);\r\n\r\n        for (Permission p: permList) {\r\n            switch (p.type) {\r\n                case Camera:\r\n                    System.out.println(&quot;1&quot;);\r\n                    break;\r\n                case Calendar:\r\n                    System.out.println(&quot;2&quot;);\r\n                    break;\r\n                default:\r\n                    System.out.println(&quot;3&quot;);\r\n                    break;\r\n            }\r\n            System.out.println(p.name);\r\n        }\r\n    }\r\n}\r\n```\r\nThe `Calendar` in App.java is being seen as a `java.util.Calendar` object. This is only happening in IntelliJ. Tried running it VSCode it works fine with the imports. Only IntelliJ does not use the imports and defaults to `java.util.Calendar`.\r\n\r\n","title":"Java enum value not recognized by IntelliJ","body":"<p>I have a class named <code>Permission</code> with an enum named <code>Type</code>. <code>Type</code> has a value called <code>Calendar</code>. When I try to access <code>Calendar</code> from the enum inside another file, IntelliJ resolves it as a <code>java.util.Calendar</code> object. I manually imported the <code>Calendar</code> enum value but it remains unused. Any suggestions on how to fix this will help. Thanks!</p>\n<p>Code example:\nPermission.java</p>\n<pre><code>public class Permission {\n\n    String name;\n    Type type;\n\n    public Permission(String name, Type type) {\n        this.name = name;\n        this.type = type;\n    }\n}\n</code></pre>\n<p>Type.java</p>\n<pre><code>public enum Type {\n    Camera,\n    Calendar\n}\n</code></pre>\n<p>App.java</p>\n<pre><code>import static com.avi.enumTest.Type.Camera;\nimport static com.avi.enumTest.Type.Calendar;\n\nimport java.util.*;\n\npublic class App {\n\n    public static void main(String[] args) {\n        Permission p1 = new Permission(&quot;camera&quot;, Camera);\n        Permission p2 = new Permission(&quot;calendar&quot;, Calendar);\n\n        List&lt;Permission&gt; permList = new ArrayList&lt;&gt;();\n        permList.add(p1);\n        permList.add(p2);\n\n        for (Permission p: permList) {\n            switch (p.type) {\n                case Camera:\n                    System.out.println(&quot;1&quot;);\n                    break;\n                case Calendar:\n                    System.out.println(&quot;2&quot;);\n                    break;\n                default:\n                    System.out.println(&quot;3&quot;);\n                    break;\n            }\n            System.out.println(p.name);\n        }\n    }\n}\n</code></pre>\n<p>The <code>Calendar</code> in App.java is being seen as a <code>java.util.Calendar</code> object. This is only happening in IntelliJ. Tried running it VSCode it works fine with the imports. Only IntelliJ does not use the imports and defaults to <code>java.util.Calendar</code>.</p>\n"},{"tags":["java","javafx","gridpane","borderpane"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1662451820,"post_id":73618261,"comment_id":130002210,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."},{"owner":{"account_id":24807632,"reputation":35,"user_id":18689448,"display_name":"HT256"},"score":0,"creation_date":1662453747,"post_id":73618261,"comment_id":130002858,"body_markdown":"Sorry, coming right up.","body":"Sorry, coming right up."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":3,"creation_date":1662456065,"post_id":73618261,"comment_id":130003714,"body_markdown":"basically, you get the middle layout because you are hard-coding sizing constraints on the vbox: don&#39;t :) btw: make sure you understand how each layout pane is working (study it&#39;s extensive java doc and/or the numerous tutorials around :) And for any next question: please follow the suggestions in the referenced help page - the example has to be runnable as-is (this is not, even when copying the content of the start method into a quickly setup Application - it will throw on loading because of the missing controller ..)","body":"basically, you get the middle layout because you are hard-coding sizing constraints on the vbox: don&#39;t :) btw: make sure you understand how each layout pane is working (study it&#39;s extensive java doc and/or the numerous tutorials around :) And for any next question: please follow the suggestions in the referenced help page - the example has to be runnable as-is (this is not, even when copying the content of the start method into a quickly setup Application - it will throw on loading because of the missing controller ..)"},{"owner":{"account_id":24807632,"reputation":35,"user_id":18689448,"display_name":"HT256"},"score":0,"creation_date":1664985213,"post_id":73618261,"comment_id":130594882,"body_markdown":"@kleopatra  Thanks for the advice, helped me to figure it out!","body":"@kleopatra  Thanks for the advice, helped me to figure it out!"}],"answers":[{"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1662592348,"post_id":73627543,"comment_id":130044230,"body_markdown":"Can one infer that `maxHeight=&quot;-Infinity&quot;` in FXML evaluates to [`setMaxSize(USE_PREF_SIZE)`](https://openjfx.io/javadoc/17/constant-values.html#javafx.scene.layout.Region.USE_PREF_SIZE) using `valueOf()` implicitly?","body":"Can one infer that <code>maxHeight=&quot;-Infinity&quot;</code> in FXML evaluates to <a href=\"https://openjfx.io/javadoc/17/constant-values.html#javafx.scene.layout.Region.USE_PREF_SIZE\" rel=\"nofollow noreferrer\"><code>setMaxSize(USE_PREF_SIZE)</code></a> using <code>valueOf()</code> implicitly?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1662595825,"post_id":73627543,"comment_id":130044755,"body_markdown":"That is correct. At least, that is what it shows in `SceneBuilder`.","body":"That is correct. At least, that is what it shows in <code>SceneBuilder</code>."}],"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662496724,"creation_date":1662496724,"answer_id":73627543,"question_id":73618261,"body_markdown":"Here is an example that I hope can help you. My guess is `GridPane` `Max Height` = `USE_PREF_SIZE` is what you are looking for.\r\n\r\n\r\n**FXML**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.layout.BorderPane?&gt;\r\n&lt;?import javafx.scene.layout.ColumnConstraints?&gt;\r\n&lt;?import javafx.scene.layout.GridPane?&gt;\r\n&lt;?import javafx.scene.layout.RowConstraints?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;BorderPane xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; fx:controller=&quot;gui.UserInterfaceController&quot;&gt;\r\n   &lt;left&gt;\r\n      &lt;VBox prefHeight=&quot;306.0&quot; prefWidth=&quot;100.0&quot; style=&quot;-fx-border-color: black;&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n         &lt;BorderPane.margin&gt;\r\n            &lt;Insets bottom=&quot;10.0&quot; left=&quot;10.0&quot; top=&quot;10.0&quot; /&gt;\r\n         &lt;/BorderPane.margin&gt;\r\n      &lt;/VBox&gt;\r\n   &lt;/left&gt;\r\n   &lt;center&gt;\r\n      &lt;GridPane fx:id=&quot;grdPn&quot; gridLinesVisible=&quot;true&quot; maxHeight=&quot;-Infinity&quot; onMouseClicked=&quot;#onGrdPnMouseClicked&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n         &lt;columnConstraints&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefWidth=&quot;40.0&quot; /&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefWidth=&quot;40.0&quot; /&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefWidth=&quot;40.0&quot; /&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefWidth=&quot;40.0&quot; /&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefWidth=&quot;40.0&quot; /&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefWidth=&quot;40.0&quot; /&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefWidth=&quot;40.0&quot; /&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefWidth=&quot;40.0&quot; /&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefWidth=&quot;40.0&quot; /&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefWidth=&quot;40.0&quot; /&gt;\r\n         &lt;/columnConstraints&gt;\r\n         &lt;rowConstraints&gt;\r\n            &lt;RowConstraints maxHeight=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; prefHeight=&quot;40.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n            &lt;RowConstraints maxHeight=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; prefHeight=&quot;40.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n         &lt;/rowConstraints&gt;\r\n         &lt;BorderPane.margin&gt;\r\n            &lt;Insets right=&quot;10.0&quot; /&gt;\r\n         &lt;/BorderPane.margin&gt;\r\n      &lt;/GridPane&gt;\r\n   &lt;/center&gt;\r\n&lt;/BorderPane&gt;\r\n```\r\n\r\n**Output**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/J8L2p.png","title":"Why does adding another element to a BorderPane mess up my formatting?","body":"<p>Here is an example that I hope can help you. My guess is <code>GridPane</code> <code>Max Height</code> = <code>USE_PREF_SIZE</code> is what you are looking for.</p>\n<p><strong>FXML</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n&lt;?import javafx.scene.layout.ColumnConstraints?&gt;\n&lt;?import javafx.scene.layout.GridPane?&gt;\n&lt;?import javafx.scene.layout.RowConstraints?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;BorderPane xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; fx:controller=&quot;gui.UserInterfaceController&quot;&gt;\n   &lt;left&gt;\n      &lt;VBox prefHeight=&quot;306.0&quot; prefWidth=&quot;100.0&quot; style=&quot;-fx-border-color: black;&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n         &lt;BorderPane.margin&gt;\n            &lt;Insets bottom=&quot;10.0&quot; left=&quot;10.0&quot; top=&quot;10.0&quot; /&gt;\n         &lt;/BorderPane.margin&gt;\n      &lt;/VBox&gt;\n   &lt;/left&gt;\n   &lt;center&gt;\n      &lt;GridPane fx:id=&quot;grdPn&quot; gridLinesVisible=&quot;true&quot; maxHeight=&quot;-Infinity&quot; onMouseClicked=&quot;#onGrdPnMouseClicked&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n         &lt;columnConstraints&gt;\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefWidth=&quot;40.0&quot; /&gt;\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefWidth=&quot;40.0&quot; /&gt;\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefWidth=&quot;40.0&quot; /&gt;\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefWidth=&quot;40.0&quot; /&gt;\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefWidth=&quot;40.0&quot; /&gt;\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefWidth=&quot;40.0&quot; /&gt;\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefWidth=&quot;40.0&quot; /&gt;\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefWidth=&quot;40.0&quot; /&gt;\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefWidth=&quot;40.0&quot; /&gt;\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefWidth=&quot;40.0&quot; /&gt;\n         &lt;/columnConstraints&gt;\n         &lt;rowConstraints&gt;\n            &lt;RowConstraints maxHeight=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; prefHeight=&quot;40.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n            &lt;RowConstraints maxHeight=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; prefHeight=&quot;40.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n         &lt;/rowConstraints&gt;\n         &lt;BorderPane.margin&gt;\n            &lt;Insets right=&quot;10.0&quot; /&gt;\n         &lt;/BorderPane.margin&gt;\n      &lt;/GridPane&gt;\n   &lt;/center&gt;\n&lt;/BorderPane&gt;\n</code></pre>\n<p><strong>Output</strong></p>\n<p><a href=\"https://i.stack.imgur.com/J8L2p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J8L2p.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":24807632,"reputation":35,"user_id":18689448,"display_name":"HT256"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73627543,"answer_count":1,"score":2,"last_activity_date":1664985182,"creation_date":1662449478,"question_id":73618261,"body_markdown":"When creating a GridPane in the Center of a BorderPane it is quadratic and everything is fine:\r\n\r\n[![Square GridPane][1]][1]\r\n\r\n\r\neven when having an uneqal amount of columns and rows everything works perfectly:\r\n[![Quadratic GridPane with unequal Columns and Rows][2]][2]\r\n\r\nbut as soon as I add a VBox or any other element to the left slot of the BorderPane it looks like this:\r\n[![enter image description here][3]][3]\r\n\r\nI need the GridPane to stay quadratic, at least after being created. When resized it is not important for the cells to stay quadratic but they should be initally.\r\n\r\nI also tried wrapping the GridPane in a VBox and that VBox in a HBox and binding their Height and Width Properties, but that only makes the cells maintain the same size.\r\n\r\nBasically I want it to initally look like this:\r\n[![How I want it][4]][4]\r\n\r\nI think if it was possible to tell the GridPane to not fill the empty spaces upwards, downwards and sitewise then it would be easy.\r\n\r\n\r\nfxml File:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.layout.*?&gt;\r\n\r\n&lt;BorderPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; xmlns=&quot;http://javafx.com/javafx/16&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;gui.UserInterfaceController&quot;&gt;\r\n   &lt;center&gt;\r\n      &lt;GridPane fx:id=&quot;grdPn&quot; gridLinesVisible=&quot;true&quot; onMouseClicked=&quot;#onGrdPnMouseClicked&quot;&gt;\r\n        &lt;columnConstraints&gt;\r\n          &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;30.0&quot; /&gt;\r\n          &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;30.0&quot; /&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;30.0&quot; /&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;30.0&quot; /&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;30.0&quot; /&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;30.0&quot; /&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;30.0&quot; /&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;30.0&quot; /&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;30.0&quot; /&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;30.0&quot; /&gt;\r\n\r\n      \r\n      \r\n        &lt;/columnConstraints&gt;\r\n        &lt;rowConstraints&gt;\r\n          &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n          &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n        &lt;/rowConstraints&gt;\r\n      &lt;/GridPane&gt;\r\n   &lt;/center&gt;\r\n   &lt;left&gt;\r\n      &lt;VBox prefHeight=&quot;306.0&quot; prefWidth=&quot;100.0&quot; BorderPane.alignment=&quot;CENTER&quot; /&gt;\r\n   &lt;/left&gt;\r\n&lt;/BorderPane&gt;\r\n```\r\n\r\nCreating the stage and scene:\r\n```\r\n        FXMLLoader fxmlLoader = new FXMLLoader(ApplicationMain.class.getResource(&quot;sample.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load());\r\n        stage.setTitle(&quot;Example&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n```\r\n\r\n\r\nIf you remove the VBox the GridPane becomes square again.\r\n\r\n**EDIT:** My work-around was to just make sure the GridPane is always bigger than the VBox, then the VBox would be the element that would change the size and the GridPane&#39;s cell would be quadratic. BUT I tried the solution marked below and it works for me. \r\n\r\nkleopatra&#39;s advice also helped a lot. Thanks everyone.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WJI0M.png\r\n  [2]: https://i.stack.imgur.com/pqtTN.png\r\n  [3]: https://i.stack.imgur.com/GWOXN.png\r\n  [4]: https://i.stack.imgur.com/oP2Jc.png","title":"Why does adding another element to a BorderPane mess up my formatting?","body":"<p>When creating a GridPane in the Center of a BorderPane it is quadratic and everything is fine:</p>\n<p><a href=\"https://i.stack.imgur.com/WJI0M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WJI0M.png\" alt=\"Square GridPane\" /></a></p>\n<p>even when having an uneqal amount of columns and rows everything works perfectly:\n<a href=\"https://i.stack.imgur.com/pqtTN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pqtTN.png\" alt=\"Quadratic GridPane with unequal Columns and Rows\" /></a></p>\n<p>but as soon as I add a VBox or any other element to the left slot of the BorderPane it looks like this:\n<a href=\"https://i.stack.imgur.com/GWOXN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GWOXN.png\" alt=\"enter image description here\" /></a></p>\n<p>I need the GridPane to stay quadratic, at least after being created. When resized it is not important for the cells to stay quadratic but they should be initally.</p>\n<p>I also tried wrapping the GridPane in a VBox and that VBox in a HBox and binding their Height and Width Properties, but that only makes the cells maintain the same size.</p>\n<p>Basically I want it to initally look like this:\n<a href=\"https://i.stack.imgur.com/oP2Jc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oP2Jc.png\" alt=\"How I want it\" /></a></p>\n<p>I think if it was possible to tell the GridPane to not fill the empty spaces upwards, downwards and sitewise then it would be easy.</p>\n<p>fxml File:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;BorderPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; xmlns=&quot;http://javafx.com/javafx/16&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;gui.UserInterfaceController&quot;&gt;\n   &lt;center&gt;\n      &lt;GridPane fx:id=&quot;grdPn&quot; gridLinesVisible=&quot;true&quot; onMouseClicked=&quot;#onGrdPnMouseClicked&quot;&gt;\n        &lt;columnConstraints&gt;\n          &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;30.0&quot; /&gt;\n          &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;30.0&quot; /&gt;\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;30.0&quot; /&gt;\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;30.0&quot; /&gt;\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;30.0&quot; /&gt;\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;30.0&quot; /&gt;\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;30.0&quot; /&gt;\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;30.0&quot; /&gt;\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;30.0&quot; /&gt;\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;30.0&quot; /&gt;\n\n      \n      \n        &lt;/columnConstraints&gt;\n        &lt;rowConstraints&gt;\n          &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n          &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n        &lt;/rowConstraints&gt;\n      &lt;/GridPane&gt;\n   &lt;/center&gt;\n   &lt;left&gt;\n      &lt;VBox prefHeight=&quot;306.0&quot; prefWidth=&quot;100.0&quot; BorderPane.alignment=&quot;CENTER&quot; /&gt;\n   &lt;/left&gt;\n&lt;/BorderPane&gt;\n</code></pre>\n<p>Creating the stage and scene:</p>\n<pre><code>        FXMLLoader fxmlLoader = new FXMLLoader(ApplicationMain.class.getResource(&quot;sample.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load());\n        stage.setTitle(&quot;Example&quot;);\n        stage.setScene(scene);\n        stage.show();\n</code></pre>\n<p>If you remove the VBox the GridPane becomes square again.</p>\n<p><strong>EDIT:</strong> My work-around was to just make sure the GridPane is always bigger than the VBox, then the VBox would be the element that would change the size and the GridPane's cell would be quadratic. BUT I tried the solution marked below and it works for me.</p>\n<p>kleopatra's advice also helped a lot. Thanks everyone.</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"answers":[{"comments":[{"owner":{"account_id":23269246,"reputation":81,"user_id":17354320,"display_name":"Jsef bch"},"score":0,"creation_date":1664915984,"post_id":73953373,"comment_id":130578257,"body_markdown":"Okay because I saw somewhere that adding the serializer is only necessary when we are sending JSON objects, for raw String it&#39;s not necessary.","body":"Okay because I saw somewhere that adding the serializer is only necessary when we are sending JSON objects, for raw String it&#39;s not necessary."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1664922595,"post_id":73953373,"comment_id":130579712,"body_markdown":"@Jsefbch Both json (which is still a string) and plain strings are stored in UTF8 encoded binary, for example, so yes, you need serializers defined, even if there&#39;s defaults","body":"@Jsefbch Both json (which is still a string) and plain strings are stored in UTF8 encoded binary, for example, so yes, you need serializers defined, even if there&#39;s defaults"},{"owner":{"account_id":23269246,"reputation":81,"user_id":17354320,"display_name":"Jsef bch"},"score":0,"creation_date":1664934256,"post_id":73953373,"comment_id":130581255,"body_markdown":"I tried to consume a JSON String and map it to a dto object and it worked without a config class for deserializion. Do you have an idea why? @OneCricketeer","body":"I tried to consume a JSON String and map it to a dto object and it worked without a config class for deserializion. Do you have an idea why? @OneCricketeer"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1664985130,"post_id":73953373,"comment_id":130594860,"body_markdown":"@Jsefbch Spring Kafka has reasonable defaults","body":"@Jsefbch Spring Kafka has reasonable defaults"},{"owner":{"account_id":23269246,"reputation":81,"user_id":17354320,"display_name":"Jsef bch"},"score":0,"creation_date":1664988175,"post_id":73953373,"comment_id":130595900,"body_markdown":"So by default the kafka consumer expects Strings and doesn&#39;t need a configuration class unless we are consuming an object? thank you @OneCricketeer","body":"So by default the kafka consumer expects Strings and doesn&#39;t need a configuration class unless we are consuming an object? thank you @OneCricketeer"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1664994749,"post_id":73953373,"comment_id":130597961,"body_markdown":"@Jsefbch No. Kafka only has bytes. Spring client abstracts away some  required configuration","body":"@Jsefbch No. Kafka only has bytes. Spring client abstracts away some  required configuration"}],"tags":[],"owner":{"account_id":5204361,"reputation":605,"user_id":4162799,"accept_rate":50,"display_name":"Fares"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664915637,"creation_date":1664915637,"answer_id":73953373,"question_id":73953332,"body_markdown":"Only binary data pass through Kafka, so yes, we must always serialize when producing and deserialize when consuming.","title":"Consume String from Kafka Topic","body":"<p>Only binary data pass through Kafka, so yes, we must always serialize when producing and deserialize when consuming.</p>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664985175,"creation_date":1664922755,"answer_id":73954220,"question_id":73953332,"body_markdown":"You don&#39;t need to wire in your own ObjectMapper, but yes, you need a deserializer. Jackson ObjectMapper both _deserializes_  string/bytes **and parses** that, though. \r\n\r\nSpring Kafka natively offers JSON deserialization. Then you can use your POJO in the method parameter rather than just a String \r\n\r\nhttps://docs.spring.io/spring-kafka/reference/html/#json-serde","title":"Consume String from Kafka Topic","body":"<p>You don't need to wire in your own ObjectMapper, but yes, you need a deserializer. Jackson ObjectMapper both <em>deserializes</em>  string/bytes <strong>and parses</strong> that, though.</p>\n<p>Spring Kafka natively offers JSON deserialization. Then you can use your POJO in the method parameter rather than just a String</p>\n<p><a href=\"https://docs.spring.io/spring-kafka/reference/html/#json-serde\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/reference/html/#json-serde</a></p>\n"}],"owner":{"account_id":23269246,"reputation":81,"user_id":17354320,"display_name":"Jsef bch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":712,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664985175,"creation_date":1664915347,"question_id":73953332,"body_markdown":"I have a question regarding consuming JSON String from Kafka: Do I need to add a Config class for my consumer for Deserialization if I&#39;m just consuming a String and then mapping it to a DTO? \r\n\r\n    @Service\r\n    public class Consumer   {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(Consumer.class);\r\n\r\n\r\n    @Autowired\r\n    OBTMapper obtMapper;\r\n    \r\n    @KafkaListener(topics = &quot;foo&quot; , groupId = &quot;group_id&quot;)\r\n    public void receive(String message) {\r\n\r\n        //Map String to DTO\r\n        obtMapper.Mapper(message);\r\n    \tlogger.info(&quot;Message received %s&quot;, message);\r\n        \r\n  \r\n    }\r\n\r\nWhen do I have to add this config class in general? I know that when I want to send an object I need to serialize it first in the Producer config and send it and then deserialize it in the consumer but do I also need that if I&#39;m just producing a String and consuming it afterwards?","title":"Consume String from Kafka Topic","body":"<p>I have a question regarding consuming JSON String from Kafka: Do I need to add a Config class for my consumer for Deserialization if I'm just consuming a String and then mapping it to a DTO?</p>\n<pre><code>@Service\npublic class Consumer   {\n\nprivate static final Logger logger = LoggerFactory.getLogger(Consumer.class);\n\n\n@Autowired\nOBTMapper obtMapper;\n\n@KafkaListener(topics = &quot;foo&quot; , groupId = &quot;group_id&quot;)\npublic void receive(String message) {\n\n    //Map String to DTO\n    obtMapper.Mapper(message);\n    logger.info(&quot;Message received %s&quot;, message);\n    \n\n}\n</code></pre>\n<p>When do I have to add this config class in general? I know that when I want to send an object I need to serialize it first in the Producer config and send it and then deserialize it in the consumer but do I also need that if I'm just producing a String and consuming it afterwards?</p>\n"},{"tags":["java","compiler-errors","tuples","java-stream","collectors"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1664977838,"post_id":73961318,"comment_id":130591942,"body_markdown":"So the lambda in `map()` will always return an instance of `Bar`? And did you try saving the stream into a variable after each call, i.e. `Stream&lt;Entry&lt;Triple&lt;...&gt;, List&lt;...&gt;&gt; stream = fooMap.entrySet().stream(); Stream&lt;Bar&gt; barStream = stream.map(...); ...`? Sometimes the compiler has problems with type inference so you could try to see where it happens and help it out with some more code :)","body":"So the lambda in <code>map()</code> will always return an instance of <code>Bar</code>? And did you try saving the stream into a variable after each call, i.e. <code>Stream&lt;Entry&lt;Triple&lt;...&gt;, List&lt;...&gt;&gt; stream = fooMap.entrySet().stream(); Stream&lt;Bar&gt; barStream = stream.map(...); ...</code>? Sometimes the compiler has problems with type inference so you could try to see where it happens and help it out with some more code :)"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1664979568,"post_id":73961318,"comment_id":130592650,"body_markdown":"It doesn&#39;t seem like the code you&#39;ve posted can cause a type inference issue. I guess something appeared to be missing while *simplifying/obfuscating* the code. Can you provide a **minimal reproducible example** with these dummy `Foo/Bar` classes which would produce the same compilation error?","body":"It doesn&#39;t seem like the code you&#39;ve posted can cause a type inference issue. I guess something appeared to be missing while <i>simplifying/obfuscating</i> the code. Can you provide a <b>minimal reproducible example</b> with these dummy <code>Foo&#47;Bar</code> classes which would produce the same compilation error?"},{"owner":{"account_id":10775582,"reputation":1190,"user_id":7927748,"accept_rate":67,"display_name":"Torc"},"score":0,"creation_date":1664984862,"post_id":73961318,"comment_id":130594774,"body_markdown":"I wrote up a minimum reproducible example locally with some dummy values and I&#39;m able to compile successfully, so I am now thinking that @Thomas is correct in saying that I likely need to help my compiler out a bit by splitting up the code into more steps. At the very least, that should help uncover if there is a detail I&#39;m missing from consideration in my M.R.E.","body":"I wrote up a minimum reproducible example locally with some dummy values and I&#39;m able to compile successfully, so I am now thinking that @Thomas is correct in saying that I likely need to help my compiler out a bit by splitting up the code into more steps. At the very least, that should help uncover if there is a detail I&#39;m missing from consideration in my M.R.E."},{"owner":{"account_id":10775582,"reputation":1190,"user_id":7927748,"accept_rate":67,"display_name":"Torc"},"score":0,"creation_date":1664987323,"post_id":73961318,"comment_id":130595602,"body_markdown":"@Thomas @Alexander it turns out that I was making a silly mistake. I was switching on `type` and then setting one of three attributes on `Bar` with an updated `List&lt;Integer&gt; values`. I was returning `bar.set&lt;Type&gt;Values(values)` from the `switch`, which is actually returning `void` (which makes sense). I was thinking that the setter returned the updated instance of Bar like in a Builder pattern. It ended up not being an issue with entry at all!\n\nTL;DR: I was staring at my code for too long and overlooked that the I needed to return the updated instance itself to construct the List properly.","body":"@Thomas @Alexander it turns out that I was making a silly mistake. I was switching on <code>type</code> and then setting one of three attributes on <code>Bar</code> with an updated <code>List&lt;Integer&gt; values</code>. I was returning <code>bar.set&lt;Type&gt;Values(values)</code> from the <code>switch</code>, which is actually returning <code>void</code> (which makes sense). I was thinking that the setter returned the updated instance of Bar like in a Builder pattern. It ended up not being an issue with entry at all!  TL;DR: I was staring at my code for too long and overlooked that the I needed to return the updated instance itself to construct the List properly."}],"owner":{"account_id":10775582,"reputation":1190,"user_id":7927748,"accept_rate":67,"display_name":"Torc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1664985161,"creation_date":1664977433,"question_id":73961318,"body_markdown":"I am trying to convert a List of one class of objects into a list of another class of objects while grouping by 3 attributes as an intermediate step. In order to do this, I am trying to stream the `List&lt;Foo&gt;` into a `Map&lt;Triple&lt;String, String, String&gt;&gt;, List&lt;Foo&gt;&gt;`. However, when I then try to stream-&gt;map my newly created `Map&lt;Triple, List&gt;` into a `List&lt;Bar&gt;`, I encounter the following compilation error:\r\n\r\n```javac\r\n    [javac] /FooBarConversion.java:69: error: incompatible types: inference variable R has incompatible bounds\r\n    [javac]                 .map(entry -&gt; {\r\n    [javac]                     ^\r\n    [javac]     upper bounds: Object\r\n    [javac]     lower bounds: void\r\n    [javac]   where R,T are type-variables:\r\n    [javac]     R extends Object declared in method &lt;R&gt;map(Function&lt;? super T,? extends R&gt;)\r\n    [javac]     T extends Object declared in interface Stream\r\n    [javac] 1 error\r\n```\r\n\r\nIf I am reading this correctly, this seems to be telling me that I need to be mapping an `Object`, but what I actually receive is `void` i.e. the `map` can&#39;t do anything with nothing.\r\n\r\nIs there something wrong with how I am using `Collectors.groupingBy` or am I misunderstanding something else?\r\n\r\nThis is the code that I have:\r\n\r\n```java\r\nimport org.apache.commons.lang3.tuple.ImmutableTriple;\r\nimport org.apache.commons.lang3.tuple.Triple;\r\n\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class FooBarConversion {\r\n\r\n  public List&lt;Bar&gt; convertFooToBar(String type, List&lt;Foo&gt; fooList) {\r\n    Map&lt;Triple&lt;String, String, String&gt;, List&lt;Foo&gt;&gt; fooMap = fooList.stream()\r\n        .collect(\r\n           Collectors.groupingBy(\r\n             foo -&gt; ImmutableTriple.of(foo.getFirstName(), foo.getMiddleName(), foo.getLastName())\r\n           )\r\n        );\r\n    \r\n    return fooMap.entrySet() // Set&lt;Map&lt;K,V&gt;.Entry&lt;Triple&lt;...&gt;, List&lt;...&gt;&gt;&gt;\r\n      .stream()              // Stream&lt;Map&lt;K,V&gt;.Entry&lt;Triple&lt;...&gt;, List&lt;...&gt;&gt;&gt;\r\n      .map(entry -&gt; {        // THIS IS WHERE THE COMPILATION ERROR IS THROWN\r\n         Triple&lt;String, String, String&gt; key = entry.getKey();\r\n         \r\n         Bar bar = Bar.builder()\r\n           .withFirstName(key.getLeft())\r\n           .withMiddleName(key.getMiddle())\r\n           .withLastName(key.getRight())\r\n           .build();\r\n\r\n         // ETC. ETC.\r\n\r\n         return bar;\r\n         \r\n      }).collect(Collectors.toList());       \r\n  }\r\n}\r\n```\r\n\r\nReference Links:\r\n\r\n - [Apache Triple](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/Triple.html)\r\n - [Apache Triple (GitHub)](https://github.com/apache/commons-lang/blob/master/src/main/java/org/apache/commons/lang3/tuple/Triple.java)\r\n - [Apache ImmutableTriple (GitHub)](https://github.com/apache/commons-lang/blob/master/src/main/java/org/apache/commons/lang3/tuple/ImmutableTriple.java)\r\n - [Apache Pair](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/Pair.html)\r\n - [Baeldung | Collectors.groupingBy](https://www.baeldung.com/java-groupingby-collector)\r\n - [Java 8 docs | Collectors](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html)","title":"Convert List&lt;Foo&gt; to List&lt;Bar&gt; by Mapping a Stream of List&lt;Foo&gt; into Map&lt;Triple, List&lt;Foo&gt;&gt; then Collecting to List&lt;Bar&gt;","body":"<p>I am trying to convert a List of one class of objects into a list of another class of objects while grouping by 3 attributes as an intermediate step. In order to do this, I am trying to stream the <code>List&lt;Foo&gt;</code> into a <code>Map&lt;Triple&lt;String, String, String&gt;&gt;, List&lt;Foo&gt;&gt;</code>. However, when I then try to stream-&gt;map my newly created <code>Map&lt;Triple, List&gt;</code> into a <code>List&lt;Bar&gt;</code>, I encounter the following compilation error:</p>\n<pre><code>    [javac] /FooBarConversion.java:69: error: incompatible types: inference variable R has incompatible bounds\n    [javac]                 .map(entry -&gt; {\n    [javac]                     ^\n    [javac]     upper bounds: Object\n    [javac]     lower bounds: void\n    [javac]   where R,T are type-variables:\n    [javac]     R extends Object declared in method &lt;R&gt;map(Function&lt;? super T,? extends R&gt;)\n    [javac]     T extends Object declared in interface Stream\n    [javac] 1 error\n</code></pre>\n<p>If I am reading this correctly, this seems to be telling me that I need to be mapping an <code>Object</code>, but what I actually receive is <code>void</code> i.e. the <code>map</code> can't do anything with nothing.</p>\n<p>Is there something wrong with how I am using <code>Collectors.groupingBy</code> or am I misunderstanding something else?</p>\n<p>This is the code that I have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.commons.lang3.tuple.ImmutableTriple;\nimport org.apache.commons.lang3.tuple.Triple;\n\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\npublic class FooBarConversion {\n\n  public List&lt;Bar&gt; convertFooToBar(String type, List&lt;Foo&gt; fooList) {\n    Map&lt;Triple&lt;String, String, String&gt;, List&lt;Foo&gt;&gt; fooMap = fooList.stream()\n        .collect(\n           Collectors.groupingBy(\n             foo -&gt; ImmutableTriple.of(foo.getFirstName(), foo.getMiddleName(), foo.getLastName())\n           )\n        );\n    \n    return fooMap.entrySet() // Set&lt;Map&lt;K,V&gt;.Entry&lt;Triple&lt;...&gt;, List&lt;...&gt;&gt;&gt;\n      .stream()              // Stream&lt;Map&lt;K,V&gt;.Entry&lt;Triple&lt;...&gt;, List&lt;...&gt;&gt;&gt;\n      .map(entry -&gt; {        // THIS IS WHERE THE COMPILATION ERROR IS THROWN\n         Triple&lt;String, String, String&gt; key = entry.getKey();\n         \n         Bar bar = Bar.builder()\n           .withFirstName(key.getLeft())\n           .withMiddleName(key.getMiddle())\n           .withLastName(key.getRight())\n           .build();\n\n         // ETC. ETC.\n\n         return bar;\n         \n      }).collect(Collectors.toList());       \n  }\n}\n</code></pre>\n<p>Reference Links:</p>\n<ul>\n<li><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/Triple.html\" rel=\"nofollow noreferrer\">Apache Triple</a></li>\n<li><a href=\"https://github.com/apache/commons-lang/blob/master/src/main/java/org/apache/commons/lang3/tuple/Triple.java\" rel=\"nofollow noreferrer\">Apache Triple (GitHub)</a></li>\n<li><a href=\"https://github.com/apache/commons-lang/blob/master/src/main/java/org/apache/commons/lang3/tuple/ImmutableTriple.java\" rel=\"nofollow noreferrer\">Apache ImmutableTriple (GitHub)</a></li>\n<li><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/Pair.html\" rel=\"nofollow noreferrer\">Apache Pair</a></li>\n<li><a href=\"https://www.baeldung.com/java-groupingby-collector\" rel=\"nofollow noreferrer\">Baeldung | Collectors.groupingBy</a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html\" rel=\"nofollow noreferrer\">Java 8 docs | Collectors</a></li>\n</ul>\n"},{"tags":["java","gradle","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":9949,"reputation":13854,"user_id":18591,"display_name":"Louis Jacomet"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664972712,"creation_date":1664972712,"answer_id":73960333,"question_id":73934745,"body_markdown":"The issue is the way Groovy interprets the &quot;offending line&quot;:\r\nWithout parenthesis, Groovy interprets everything after `from` as the argument.\r\nAnd so it fetches the reference to the `processTestResources` task, applies the configuration closure to it, and then passes the result to `from`.\r\n\r\nSo the end result is that you configured in-line the `processTestResources` instead of configuring the `from`.\r\n\r\nAdding parenthesis changes the meaning by clearly indicating that the result of calling `from` with a task is what is to be configured:\r\n```\r\nfrom(processTestResources) { include &#39;foo/&#39; } \r\n```","title":"Gradle not copying all test resources to output dir","body":"<p>The issue is the way Groovy interprets the &quot;offending line&quot;:\nWithout parenthesis, Groovy interprets everything after <code>from</code> as the argument.\nAnd so it fetches the reference to the <code>processTestResources</code> task, applies the configuration closure to it, and then passes the result to <code>from</code>.</p>\n<p>So the end result is that you configured in-line the <code>processTestResources</code> instead of configuring the <code>from</code>.</p>\n<p>Adding parenthesis changes the meaning by clearly indicating that the result of calling <code>from</code> with a task is what is to be configured:</p>\n<pre><code>from(processTestResources) { include 'foo/' } \n</code></pre>\n"}],"owner":{"account_id":203002,"reputation":21637,"user_id":450398,"accept_rate":85,"display_name":"Grodriguez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73960333,"answer_count":1,"score":0,"last_activity_date":1664985055,"creation_date":1664796438,"question_id":73934745,"body_markdown":"I have a project where Gradle is not copying all test resources to the output dir, and I don&#39;t know if I am doing something wrong or if this is a bug in Gradle. I managed to create a simplified test case; the directory structure is as follows:\r\n\r\n```\r\ngradle/     # (contains Gradle wrapper files)\r\nsrc/\r\n    hello/\r\n        Hello.java\r\ntests/\r\n    hello/\r\n        hello.txt\r\n    foo/\r\n        bar.txt\r\nbuild.gradle\r\ngradlew\r\ngradle.bat\r\n```\r\n\r\nThe contents of build.gradle are as follows:\r\n\r\n```\r\napply plugin: &#39;java&#39;\r\n\r\nsourceSets {\r\n    main {\r\n        java.srcDirs = [&#39;src&#39;]\r\n        resources.srcDirs = [&#39;src&#39;]\r\n        resources.excludes = [&#39;**/*.java&#39;]\r\n    }\r\n    test {\r\n        java.srcDirs = [&#39;tests&#39;]\r\n        resources.srcDirs = [&#39;tests&#39;]\r\n        resources.excludes = [&#39;**/*.java&#39;]\r\n    }\r\n}\r\n\r\ntask staging (type: Copy) {\r\n    from processResources\r\n    from processTestResources { include &#39;foo/&#39; } // Offending line\r\n\r\n    into &quot;${buildDir}/staging&quot;\r\n}\r\n\r\ntask run (type: JavaExec) {\r\n    dependsOn staging\r\n\r\n    // [...]\r\n}\r\n```\r\n\r\nWhen I run:\r\n\r\n    ./gradlew processTestResources    # or just ./gradlew test\r\n\r\nOnly the resources from tests/foo are copied to the output folder. The resources from tests/hello are not copied.\r\n\r\nHowever, if I comment out the line marked as &quot;Offending line&quot; in the staging task, then all resources are copied.\r\n\r\nIs this the expected behaviour? Looks like Gradle is trying to calculate which resources are needed, and sees that only tests/foo are necessary for the `staging` task. But I am not running the `staging` task; I should be able to run the `processTestResources` or `test` tasks and have all test resources copied to the output folder.\r\n\r\nIs this a bug in Gradle?\r\n\r\n**Update:**\r\n\r\nHere&#39;s a [link to the relevant issue in GH](https://github.com/gradle/gradle/issues/22296) (closed as invalid since this is not really a bug, as explained in the accepted answer).","title":"Gradle not copying all test resources to output dir","body":"<p>I have a project where Gradle is not copying all test resources to the output dir, and I don't know if I am doing something wrong or if this is a bug in Gradle. I managed to create a simplified test case; the directory structure is as follows:</p>\n<pre><code>gradle/     # (contains Gradle wrapper files)\nsrc/\n    hello/\n        Hello.java\ntests/\n    hello/\n        hello.txt\n    foo/\n        bar.txt\nbuild.gradle\ngradlew\ngradle.bat\n</code></pre>\n<p>The contents of build.gradle are as follows:</p>\n<pre><code>apply plugin: 'java'\n\nsourceSets {\n    main {\n        java.srcDirs = ['src']\n        resources.srcDirs = ['src']\n        resources.excludes = ['**/*.java']\n    }\n    test {\n        java.srcDirs = ['tests']\n        resources.srcDirs = ['tests']\n        resources.excludes = ['**/*.java']\n    }\n}\n\ntask staging (type: Copy) {\n    from processResources\n    from processTestResources { include 'foo/' } // Offending line\n\n    into &quot;${buildDir}/staging&quot;\n}\n\ntask run (type: JavaExec) {\n    dependsOn staging\n\n    // [...]\n}\n</code></pre>\n<p>When I run:</p>\n<pre><code>./gradlew processTestResources    # or just ./gradlew test\n</code></pre>\n<p>Only the resources from tests/foo are copied to the output folder. The resources from tests/hello are not copied.</p>\n<p>However, if I comment out the line marked as &quot;Offending line&quot; in the staging task, then all resources are copied.</p>\n<p>Is this the expected behaviour? Looks like Gradle is trying to calculate which resources are needed, and sees that only tests/foo are necessary for the <code>staging</code> task. But I am not running the <code>staging</code> task; I should be able to run the <code>processTestResources</code> or <code>test</code> tasks and have all test resources copied to the output folder.</p>\n<p>Is this a bug in Gradle?</p>\n<p><strong>Update:</strong></p>\n<p>Here's a <a href=\"https://github.com/gradle/gradle/issues/22296\" rel=\"nofollow noreferrer\">link to the relevant issue in GH</a> (closed as invalid since this is not really a bug, as explained in the accepted answer).</p>\n"},{"tags":["java","macos","unix","terminal"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664913563,"post_id":73952794,"comment_id":130577567,"body_markdown":"You&#39;re not processing stderr and you&#39;ll find `ProcessBuilder` makes that a lot easier. Also do&#39;nt pile up long command strings. Use an array or list","body":"You&#39;re not processing stderr and you&#39;ll find <code>ProcessBuilder</code> makes that a lot easier. Also do&#39;nt pile up long command strings. Use an array or list"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664984709,"creation_date":1664984709,"answer_id":73962987,"question_id":73952794,"body_markdown":"You&#39;ll see the error message if you add this after `exec`:\r\n\r\n    p.getErrorStream().transferTo(System.out);\r\n\r\nOr merge stderr to stdout:\r\n\r\n    ProcessBuilder pb = new ProcessBuilder(cmd);\r\n    pb.redirectErrorStream(true);\r\n    Process process = pb.start();\r\n    process.getInputStream().transferTo(System.out);\r\n    int rc = process.waitFor();\r\n","title":"Process exit code returning as 1 for applescript command and not opening terminal in macOS (happening for other ppl system)","body":"<p>You'll see the error message if you add this after <code>exec</code>:</p>\n<pre><code>p.getErrorStream().transferTo(System.out);\n</code></pre>\n<p>Or merge stderr to stdout:</p>\n<pre><code>ProcessBuilder pb = new ProcessBuilder(cmd);\npb.redirectErrorStream(true);\nProcess process = pb.start();\nprocess.getInputStream().transferTo(System.out);\nint rc = process.waitFor();\n</code></pre>\n"}],"owner":{"account_id":26527612,"reputation":1,"user_id":20161431,"display_name":"Chandu Sekhar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664984709,"creation_date":1664911779,"question_id":73952794,"body_markdown":"below code is executed but not opening my mac os terminal on my colleague machine and returing exit code as 1 instead of 0\r\n\r\n      Runtime runtime = Runtime.getRuntime();\r\n      String output= &quot;&quot;;\r\n      String[] myCommand = null;\r\n      \r\n      if(command.equals(&quot;open&quot;)) {\r\n          String[] openTerminal = new String[] {\r\n           \t     //&quot;/bin/bash&quot;, &quot;-c&quot;, \r\n           \t     &quot;osascript -e &#39;tell application \\&quot;Terminal\\&quot; to do script \\&quot;&quot; +\r\n           \t    \t\t&quot;echo Welcome to Tectonic&quot; +&quot;\\&quot;&#39;&quot;      \t    \t\t\r\n           \t};\r\n\r\n          myCommand = openTerminal;\r\n      }\r\n\r\n      try\r\n      {\r\n    \t  Process p = runtime.exec(myCommand);\r\n        \tInputStream stdIn = p.getInputStream();\r\n          \tInputStreamReader isr = new InputStreamReader(stdIn);\r\n          \tBufferedReader br = new BufferedReader(isr);\r\n\r\n          \tString line = null;\r\n\r\n          \t\r\n          \tint exitVal = p.waitFor();\r\n          \tif(exitVal==0) {\r\n\r\n          \t}","title":"Process exit code returning as 1 for applescript command and not opening terminal in macOS (happening for other ppl system)","body":"<p>below code is executed but not opening my mac os terminal on my colleague machine and returing exit code as 1 instead of 0</p>\n<pre><code>  Runtime runtime = Runtime.getRuntime();\n  String output= &quot;&quot;;\n  String[] myCommand = null;\n  \n  if(command.equals(&quot;open&quot;)) {\n      String[] openTerminal = new String[] {\n             //&quot;/bin/bash&quot;, &quot;-c&quot;, \n             &quot;osascript -e 'tell application \\&quot;Terminal\\&quot; to do script \\&quot;&quot; +\n                    &quot;echo Welcome to Tectonic&quot; +&quot;\\&quot;'&quot;                   \n        };\n\n      myCommand = openTerminal;\n  }\n\n  try\n  {\n      Process p = runtime.exec(myCommand);\n        InputStream stdIn = p.getInputStream();\n        InputStreamReader isr = new InputStreamReader(stdIn);\n        BufferedReader br = new BufferedReader(isr);\n\n        String line = null;\n\n        \n        int exitVal = p.waitFor();\n        if(exitVal==0) {\n\n        }\n</code></pre>\n"},{"tags":["java","swing","jframe","layout-manager"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1428462106,"post_id":29505159,"comment_id":47167479,"body_markdown":"Also, if you&#39;re trying to configure a GUI, show an image that shows what you&#39;re trying to achieve. 99% of the time, the best solution is not to go about it the way you&#39;re going about it. Don&#39;t use absolute positioning because it&#39;s a terrible way to make a GUI 99% of the time.","body":"Also, if you&#39;re trying to configure a GUI, show an image that shows what you&#39;re trying to achieve. 99% of the time, the best solution is not to go about it the way you&#39;re going about it. Don&#39;t use absolute positioning because it&#39;s a terrible way to make a GUI 99% of the time."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1428462128,"post_id":29505159,"comment_id":47167484,"body_markdown":"While null layouts and `setBounds()` might seem to Swing newbies like the easiest and best way to create complex GUI&#39;s, the more Swing GUI&#39;S you create the more serious difficulties you will run into when using them. They won&#39;t resize your components when the GUI resizes, they are a royal witch to enhance or maintain, they fail completely when placed in scrollpanes, they look gawd-awful when viewed on all platforms or screen resolutions that are different from the original one.","body":"While null layouts and <code>setBounds()</code> might seem to Swing newbies like the easiest and best way to create complex GUI&#39;s, the more Swing GUI&#39;S you create the more serious difficulties you will run into when using them. They won&#39;t resize your components when the GUI resizes, they are a royal witch to enhance or maintain, they fail completely when placed in scrollpanes, they look gawd-awful when viewed on all platforms or screen resolutions that are different from the original one."}],"answers":[{"comments":[{"owner":{"account_id":5396988,"reputation":63,"user_id":4297898,"accept_rate":71,"display_name":"Xephos"},"score":0,"creation_date":1428551184,"post_id":29505225,"comment_id":47212547,"body_markdown":"Sorry, I&#39;m still not very knowledgeable about Java. It&#39;s like my second time and my first for 3 years now. So I can understand my mistakes and went over to fix a lot of things (thank you for that). So I&#39;m at the part where I want to make the window similar to the game &quot;Mancala&quot;. Instead of using pits, it&#39;s buttons. I got the side pits, or goals, to show up, but the button&#39;s aren&#39;t showing up between the text boxes. Tips please?","body":"Sorry, I&#39;m still not very knowledgeable about Java. It&#39;s like my second time and my first for 3 years now. So I can understand my mistakes and went over to fix a lot of things (thank you for that). So I&#39;m at the part where I want to make the window similar to the game &quot;Mancala&quot;. Instead of using pits, it&#39;s buttons. I got the side pits, or goals, to show up, but the button&#39;s aren&#39;t showing up between the text boxes. Tips please?"},{"owner":{"account_id":5396988,"reputation":63,"user_id":4297898,"accept_rate":71,"display_name":"Xephos"},"score":0,"creation_date":1428554409,"post_id":29505225,"comment_id":47213477,"body_markdown":"Nvmd, I managed to not use SetLayout(null) as it was somehow preventing me from organizing? Anyways, now how to put the buttons and the text area below another textarea?","body":"Nvmd, I managed to not use SetLayout(null) as it was somehow preventing me from organizing? Anyways, now how to put the buttons and the text area below another textarea?"}],"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1428464300,"creation_date":1428462425,"answer_id":29505225,"question_id":29505159,"body_markdown":"You&#39;re seeing all blue because you&#39;re adding score1, an all blue JTextArea to the JFrame&#39;s contentPane, a container that uses a BorderLayout, and this makes the JTextArea fill the contentPane, leaving nothing but blue. Nothing else is added because the NullPointerException that is caused by your using a JButton array that is filled with nulls. Once you fix this bug (which you never told us about), you&#39;ll see nothing but red because of the same issue. \r\n\r\nThe best solution, which you&#39;ve undoubtedly read about is to use layout managers to the best advantage to create your GUI. While `null` layouts and `setBounds()` might seem to Swing newbies like the easiest and best way to create complex GUI&#39;s, the more Swing GUI&#39;S you create the more serious difficulties you will run into when using them. They won&#39;t resize your components when the GUI resizes, they are a royal witch to enhance or maintain, they fail completely when placed in scrollpanes, they look gawd-awful when viewed on all platforms or screen resolutions that are different from the original one.\r\n\r\nOther problems: \r\n\r\n* You&#39;re calling `setVisible(true)` on your JFrame **before** adding anything to it which is backwards. You want to make this call **after** everything has been added, so that it will show in the JFrame when it is displayed.\r\n* You&#39;re setting the layout of a JTextArea which doesn&#39;t make sense since you&#39;ll never want to use these as containers for other components.\r\n* Also understand that this isn&#39;t doing what you think it&#39;s doing: `JTextArea(100, 200);`. You&#39;re not creating a JTextArea that is 100 by 200 pixels but rather is 100 **rows** by 200 **columns** which is one amazingly **huge** JTextArea. You&#39;ll want to read the documentation, the API when using unfamiliar components.\r\n* You state, `&quot;So I&#39;ve been looking at other solutions to this problem, but it seems that none of them help at all.&quot;` Likely the &quot;other solutions&quot; have recommended that you use layout managers, and rather than state that they don&#39;t &quot;help at all&quot;, you should instead strive to learn how to use these tools since those other solutions **are** correct.\r\n* And yeah, you&#39;re trying to use JButtons in a JButton array that have not yet been created. Understand that an array of reference type, such as an array of JButton is initially filled with nothing but null references, similar to an empty carton of eggs. Just like you can&#39;t use any eggs from the carton until you put eggs in there, you can&#39;t use an JButtons in your array before you&#39;ve placed them in there. In the for loop where you iterate through the array, create each JButton item on the top line: `button[i] = new JButton(&quot;Something&quot;);`\r\n\r\nYou can find links to the Swing tutorials and to other Swing resources here: [Swing Info](https://stackoverflow.com/tags/swing/info)\r\n\r\nFor example, you tell me which is easier to debug, your code, or this code:\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.GridLayout;\r\n    import javax.swing.*;\r\n    \r\n    public class Foo2 extends JPanel {\r\n       private static final String[] BUTTON_TEXTS = { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;,\r\n             &quot;G&quot;, &quot;H&quot;, &quot;I&quot;, &quot;J&quot;, &quot;K&quot;, &quot;l&quot; };\r\n       private static final int GAP = 3;\r\n       private JTextArea textArea1 = new JTextArea(20, 30);\r\n       private JTextArea textArea2 = new JTextArea(20, 30);\r\n    \r\n       public Foo2() {\r\n          JPanel textAreaGrid = new JPanel(new GridLayout(1, 0, GAP, GAP)); // gridlayout 1 row\r\n          textAreaGrid.add(new JScrollPane(textArea1));\r\n          textAreaGrid.add(new JScrollPane(textArea2));\r\n          \r\n          JPanel buttonPanel = new JPanel(new GridLayout(2, 0, GAP, GAP)); // 2 rows\r\n          for (String btnText : BUTTON_TEXTS) {\r\n             buttonPanel.add(new JButton(btnText));\r\n          }\r\n          \r\n          setBorder(BorderFactory.createEmptyBorder(GAP, GAP, GAP, GAP));\r\n          setLayout(new BorderLayout(GAP, GAP)); // main GUI uses border layout\r\n          add(textAreaGrid, BorderLayout.CENTER);\r\n          add(buttonPanel, BorderLayout.PAGE_END);\r\n       }\r\n    \r\n       private static void createAndShowGui() {\r\n          Foo2 mainPanel = new Foo2();\r\n    \r\n          JFrame frame = new JFrame(&quot;Foo2&quot;);\r\n          frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n          frame.getContentPane().add(mainPanel);\r\n          frame.pack();\r\n          frame.setLocationByPlatform(true);\r\n          frame.setVisible(true);\r\n       }\r\n    \r\n       public static void main(String[] args) {\r\n          SwingUtilities.invokeLater(new Runnable() {\r\n             public void run() {\r\n                createAndShowGui();\r\n             }\r\n          });\r\n       }\r\n    }\r\n\r\nWhich displays as:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/nnCAx.jpg","title":"java - Setting Buttons and TextAreas at locations","body":"<p>You're seeing all blue because you're adding score1, an all blue JTextArea to the JFrame's contentPane, a container that uses a BorderLayout, and this makes the JTextArea fill the contentPane, leaving nothing but blue. Nothing else is added because the NullPointerException that is caused by your using a JButton array that is filled with nulls. Once you fix this bug (which you never told us about), you'll see nothing but red because of the same issue. </p>\n\n<p>The best solution, which you've undoubtedly read about is to use layout managers to the best advantage to create your GUI. While <code>null</code> layouts and <code>setBounds()</code> might seem to Swing newbies like the easiest and best way to create complex GUI's, the more Swing GUI'S you create the more serious difficulties you will run into when using them. They won't resize your components when the GUI resizes, they are a royal witch to enhance or maintain, they fail completely when placed in scrollpanes, they look gawd-awful when viewed on all platforms or screen resolutions that are different from the original one.</p>\n\n<p>Other problems: </p>\n\n<ul>\n<li>You're calling <code>setVisible(true)</code> on your JFrame <strong>before</strong> adding anything to it which is backwards. You want to make this call <strong>after</strong> everything has been added, so that it will show in the JFrame when it is displayed.</li>\n<li>You're setting the layout of a JTextArea which doesn't make sense since you'll never want to use these as containers for other components.</li>\n<li>Also understand that this isn't doing what you think it's doing: <code>JTextArea(100, 200);</code>. You're not creating a JTextArea that is 100 by 200 pixels but rather is 100 <strong>rows</strong> by 200 <strong>columns</strong> which is one amazingly <strong>huge</strong> JTextArea. You'll want to read the documentation, the API when using unfamiliar components.</li>\n<li>You state, <code>\"So I've been looking at other solutions to this problem, but it seems that none of them help at all.\"</code> Likely the \"other solutions\" have recommended that you use layout managers, and rather than state that they don't \"help at all\", you should instead strive to learn how to use these tools since those other solutions <strong>are</strong> correct.</li>\n<li>And yeah, you're trying to use JButtons in a JButton array that have not yet been created. Understand that an array of reference type, such as an array of JButton is initially filled with nothing but null references, similar to an empty carton of eggs. Just like you can't use any eggs from the carton until you put eggs in there, you can't use an JButtons in your array before you've placed them in there. In the for loop where you iterate through the array, create each JButton item on the top line: <code>button[i] = new JButton(\"Something\");</code></li>\n</ul>\n\n<p>You can find links to the Swing tutorials and to other Swing resources here: <a href=\"https://stackoverflow.com/tags/swing/info\">Swing Info</a></p>\n\n<p>For example, you tell me which is easier to debug, your code, or this code:</p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.GridLayout;\nimport javax.swing.*;\n\npublic class Foo2 extends JPanel {\n   private static final String[] BUTTON_TEXTS = { \"A\", \"B\", \"C\", \"D\", \"E\", \"F\",\n         \"G\", \"H\", \"I\", \"J\", \"K\", \"l\" };\n   private static final int GAP = 3;\n   private JTextArea textArea1 = new JTextArea(20, 30);\n   private JTextArea textArea2 = new JTextArea(20, 30);\n\n   public Foo2() {\n      JPanel textAreaGrid = new JPanel(new GridLayout(1, 0, GAP, GAP)); // gridlayout 1 row\n      textAreaGrid.add(new JScrollPane(textArea1));\n      textAreaGrid.add(new JScrollPane(textArea2));\n\n      JPanel buttonPanel = new JPanel(new GridLayout(2, 0, GAP, GAP)); // 2 rows\n      for (String btnText : BUTTON_TEXTS) {\n         buttonPanel.add(new JButton(btnText));\n      }\n\n      setBorder(BorderFactory.createEmptyBorder(GAP, GAP, GAP, GAP));\n      setLayout(new BorderLayout(GAP, GAP)); // main GUI uses border layout\n      add(textAreaGrid, BorderLayout.CENTER);\n      add(buttonPanel, BorderLayout.PAGE_END);\n   }\n\n   private static void createAndShowGui() {\n      Foo2 mainPanel = new Foo2();\n\n      JFrame frame = new JFrame(\"Foo2\");\n      frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n      frame.getContentPane().add(mainPanel);\n      frame.pack();\n      frame.setLocationByPlatform(true);\n      frame.setVisible(true);\n   }\n\n   public static void main(String[] args) {\n      SwingUtilities.invokeLater(new Runnable() {\n         public void run() {\n            createAndShowGui();\n         }\n      });\n   }\n}\n</code></pre>\n\n<p>Which displays as:</p>\n\n<p><img src=\"https://i.stack.imgur.com/nnCAx.jpg\" alt=\"enter image description here\"></p>\n"}],"owner":{"account_id":5396988,"reputation":63,"user_id":4297898,"accept_rate":71,"display_name":"Xephos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1245,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":29505225,"answer_count":1,"score":1,"last_activity_date":1664984524,"creation_date":1428461966,"question_id":29505159,"body_markdown":"So I&#39;ve been looking at other solutions to this problem, but it seems that none of them help at all. Can someone help me?\r\n\r\nCode: \r\n\r\n    public static void main(String[] args) {\r\n\r\n\t\tJFrame frame = new JFrame();\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t// Container cont = frame.getContentPane();\r\n\t\tJPanel buttonpanel = new JPanel();\r\n\t\tJButton[] button = new JButton[12];\r\n\t\tJTextArea score1, score2;\r\n\t\tscore1 = new JTextArea(100, 200);\r\n\t\tscore2 = new JTextArea(100, 200);\r\n\r\n\t\tframe.setSize(800, 600);\r\n\t\tframe.setVisible(true);\r\n\t\tscore1.setLayout(null);\r\n\t\tscore1.setBackground(Color.BLUE);\r\n\t\tscore2.setLayout(null);\r\n\t\tscore2.setBackground(Color.RED);\r\n\r\n\t\tscore1.setLocation(0, 100);\r\n\t\tscore2.setLocation(700, 100);\r\n\r\n\t\tframe.add(score1);\r\n\r\n\t\tfor (int i = 0; i &lt; button.length / 2; i++) {\r\n\t\t\tbutton[i].setBounds(100 * (i + 1), 100, 100, 100);\r\n\t\t\tbutton[i].setBackground(Color.GRAY);\r\n\t\t\tbuttonpanel.add(button[i]);\r\n\t\t}\r\n\r\n\t\tframe.add(buttonpanel);\r\n\r\n\t\tframe.add(score2);\r\n\r\n\t\t// frame.add(panel);\r\n\t}\r\n\r\nIt just gives me window completely blue.","title":"java - Setting Buttons and TextAreas at locations","body":"<p>So I've been looking at other solutions to this problem, but it seems that none of them help at all. Can someone help me?</p>\n\n<p>Code: </p>\n\n<pre><code>public static void main(String[] args) {\n\n    JFrame frame = new JFrame();\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    // Container cont = frame.getContentPane();\n    JPanel buttonpanel = new JPanel();\n    JButton[] button = new JButton[12];\n    JTextArea score1, score2;\n    score1 = new JTextArea(100, 200);\n    score2 = new JTextArea(100, 200);\n\n    frame.setSize(800, 600);\n    frame.setVisible(true);\n    score1.setLayout(null);\n    score1.setBackground(Color.BLUE);\n    score2.setLayout(null);\n    score2.setBackground(Color.RED);\n\n    score1.setLocation(0, 100);\n    score2.setLocation(700, 100);\n\n    frame.add(score1);\n\n    for (int i = 0; i &lt; button.length / 2; i++) {\n        button[i].setBounds(100 * (i + 1), 100, 100, 100);\n        button[i].setBackground(Color.GRAY);\n        buttonpanel.add(button[i]);\n    }\n\n    frame.add(buttonpanel);\n\n    frame.add(score2);\n\n    // frame.add(panel);\n}\n</code></pre>\n\n<p>It just gives me window completely blue.</p>\n"},{"tags":["java","spring-boot","vaadin","vaadin23"],"answers":[{"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1664206923,"post_id":73850364,"comment_id":130412954,"body_markdown":"Thanks, this is much better than what i currently use, i&#39;ll be switching to this approach. Still, it&#39;s not exactly what i was hoping for. Is it possible to configure vaadin to search with preference in spring managed components for a validator and only if it&#39;s not found to create the instance? Or to configure it to do the autowiring on its own? Basically your approach, but instead of doing it manually, to have vaadin do it for you.","body":"Thanks, this is much better than what i currently use, i&#39;ll be switching to this approach. Still, it&#39;s not exactly what i was hoping for. Is it possible to configure vaadin to search with preference in spring managed components for a validator and only if it&#39;s not found to create the instance? Or to configure it to do the autowiring on its own? Basically your approach, but instead of doing it manually, to have vaadin do it for you."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1664207063,"post_id":73850364,"comment_id":130413015,"body_markdown":"No Vaadin uses Bean Validation without Spring","body":"No Vaadin uses Bean Validation without Spring"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1664207103,"post_id":73850364,"comment_id":130413029,"body_markdown":"If you need to do I18N read my blog post https://martinelli.ch/vaadin-beanvalidationbinder-with-custom-resource-bundle/","body":"If you need to do I18N read my blog post <a href=\"https://martinelli.ch/vaadin-beanvalidationbinder-with-custom-resource-bundle/\" rel=\"nofollow noreferrer\">martinelli.ch/&hellip;</a>"}],"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664174380,"creation_date":1664174380,"answer_id":73850364,"question_id":73843170,"body_markdown":"There is often a situation where auto wiring is not working because Spring does not manage the component.\r\n\r\nFor that purpose, you can create a class that will hold the ApplicationContext like this:\r\n\r\n    @Component\r\n    public class ApplicationContextHolder implements ApplicationContextAware {\r\n    \r\n        private static ApplicationContext applicationContext;\r\n    \r\n        public static &lt;T&gt; T getBean(Class&lt;T&gt; type) {\r\n            return applicationContext.getBean(type);\r\n        }\r\n    \r\n        @Override\r\n        public void setApplicationContext(@SuppressWarnings(&quot;NullableProblems&quot;) ApplicationContext applicationContext) throws BeansException {\r\n            ApplicationContextHolder.applicationContext = applicationContext;\r\n        }\r\n    }\r\n\r\nNow you can use this class to get a reference to a bean using the static method:\r\n\r\n\r\n    UserRepo userRepo = ApplicationContextHolder.getBean(UserRepo.class);","title":"Vaadin, how to autowire spring component in custom constraint validator","body":"<p>There is often a situation where auto wiring is not working because Spring does not manage the component.</p>\n<p>For that purpose, you can create a class that will hold the ApplicationContext like this:</p>\n<pre><code>@Component\npublic class ApplicationContextHolder implements ApplicationContextAware {\n\n    private static ApplicationContext applicationContext;\n\n    public static &lt;T&gt; T getBean(Class&lt;T&gt; type) {\n        return applicationContext.getBean(type);\n    }\n\n    @Override\n    public void setApplicationContext(@SuppressWarnings(&quot;NullableProblems&quot;) ApplicationContext applicationContext) throws BeansException {\n        ApplicationContextHolder.applicationContext = applicationContext;\n    }\n}\n</code></pre>\n<p>Now you can use this class to get a reference to a bean using the static method:</p>\n<pre><code>UserRepo userRepo = ApplicationContextHolder.getBean(UserRepo.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664468071,"creation_date":1664468071,"answer_id":73898684,"question_id":73843170,"body_markdown":"Using [Simon&#39;s answer][1] as inspiration I ended up extending ApplicationContextHolder a bit to autowire manually created beans.\r\n```\r\n@Component\r\npublic class ApplicationContextHolder implements ApplicationContextAware {\r\n\r\n    private static ApplicationContext applicationContext;\r\n    private static AutowireCapableBeanFactory factory;\r\n\r\n    public static &lt;T&gt; T getBean(Class&lt;T&gt; beanClass) {\r\n        return applicationContext.getBean(beanClass);\r\n    }\r\n\r\n    public static &lt;T&gt; void autowireBean(T bean) {\r\n        factory.autowireBean(bean);\r\n    }\r\n\r\n    @Override\r\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n        ApplicationContextHolder.applicationContext = applicationContext;\r\n        factory = applicationContext.getAutowireCapableBeanFactory();\r\n    }\r\n}\r\n```\r\nThis can be handy when the validator depends on more than one bean.\r\n```\r\npublic class EmailExistsValidator implements ConstraintValidator&lt;EmailExists, CharSequence&gt; {\r\n\r\n    @Autowired\r\n    private FirstBean firstBean;\r\n\t@Autowired\r\n    private SecondBean secondBean;\r\n\t@Autowired\r\n    private ThirdBean thirdBean;\r\n\r\n    public EmailExistsValidator() {\r\n        ApplicationContextHolder.autowireBean(this);\r\n    }\r\n\r\n    @Override\r\n    public boolean isValid(CharSequence value, ConstraintValidatorContext context) {\r\n        //validation logic\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73850364/17795888","title":"Vaadin, how to autowire spring component in custom constraint validator","body":"<p>Using <a href=\"https://stackoverflow.com/a/73850364/17795888\">Simon's answer</a> as inspiration I ended up extending ApplicationContextHolder a bit to autowire manually created beans.</p>\n<pre><code>@Component\npublic class ApplicationContextHolder implements ApplicationContextAware {\n\n    private static ApplicationContext applicationContext;\n    private static AutowireCapableBeanFactory factory;\n\n    public static &lt;T&gt; T getBean(Class&lt;T&gt; beanClass) {\n        return applicationContext.getBean(beanClass);\n    }\n\n    public static &lt;T&gt; void autowireBean(T bean) {\n        factory.autowireBean(bean);\n    }\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        ApplicationContextHolder.applicationContext = applicationContext;\n        factory = applicationContext.getAutowireCapableBeanFactory();\n    }\n}\n</code></pre>\n<p>This can be handy when the validator depends on more than one bean.</p>\n<pre><code>public class EmailExistsValidator implements ConstraintValidator&lt;EmailExists, CharSequence&gt; {\n\n    @Autowired\n    private FirstBean firstBean;\n    @Autowired\n    private SecondBean secondBean;\n    @Autowired\n    private ThirdBean thirdBean;\n\n    public EmailExistsValidator() {\n        ApplicationContextHolder.autowireBean(this);\n    }\n\n    @Override\n    public boolean isValid(CharSequence value, ConstraintValidatorContext context) {\n        //validation logic\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":541,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73850364,"answer_count":2,"score":0,"last_activity_date":1664984262,"creation_date":1664095770,"question_id":73843170,"body_markdown":"I am working on an app using spring boot for the backend and vaadin for the frontend. I need to add validation, which needs to do a database check - is email registered in this particular example.\r\n\r\nExample of what i want to achieve:\r\n=\r\n```\r\n@Component\r\npublic class EmailExistsValidator implements ConstraintValidator&lt;EmailExists, CharSequence&gt; {\r\n\r\n    private final UserRepo userRepo;\r\n\r\n    @Autowired\r\n    public EmailExistsValidator(UserRepo userRepo) {\r\n        this.userRepo = userRepo;\r\n    }\r\n\r\n    @Override\r\n    public boolean isValid(CharSequence value, ConstraintValidatorContext context) {\r\n        //check email does not exist logic here\r\n    }\r\n}\r\n```\r\nI have successfuly used this setup in spring mvc and spring rest applications, with no additional configurations. Unfortunately, the above is not working with vaadin. After some debugging i found out that spring indeed creates and manages those components, but they are not the ones being used. Instead vaadin creates and manages other instances of [ConstraintValidator][1], when the actual validation is happening. The validation is done with [Binder.writeBeanIfValid()][2], if that matters.\r\n\r\nI went through:\r\n\r\n 1. [Autowired Repository is Null in Custom Constraint Validator][3]\r\n 2. [Spring Boot: repository does not autowire in the custom validator][4]\r\n 3. All questions linked in the above as possible solutions\r\n 4. Few more questions, which i can no longer find unfortunately\r\n 5. I tried getting `WebApplicationContext` in order to use `AutowireCapableBeanFactory.autowireBean()` to autowire the annotated fields. Unsurprisingly, the context was `null` when vaadin creates/manages the instance, so it did not work.\r\n\r\nWhat i am currently using.\r\n=\r\n```\r\n@Component\r\npublic class EmailExistsValidator implements ConstraintValidator&lt;EmailExists, CharSequence&gt; {\r\n\r\n    private static UserRepo repo;\r\n\r\n    private final UserRepo userRepo;\r\n\r\n    public EmailExistsValidator() {\r\n        this.userRepo = repo;\r\n    }\r\n\r\n    @Bean\r\n    public static UserRepo setRepo(UserRepo userRepo) {\r\n        repo = userRepo;\r\n        return repo;\r\n    }\r\n\r\n    @Override\r\n    public boolean isValid(CharSequence value, ConstraintValidatorContext context) {\r\n        //validation logic\r\n    }\r\n}\r\n```\r\nThis approach is based on [this answer][5] (from the second question i linked). It does the job (only this worked for me), but it&#39;s way too hacky for my tastes.\r\n\r\n**How can I configure vaadin to use spring managed `ConstraintValidator`s, instead of vaadin managed ones? Or how can I autowire spring components in `ConstraintValidator`s created and managed by vaadin?**\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/validation/ConstraintValidator.html\r\n  [2]: https://vaadin.com/api/platform/23.2.1/com/vaadin/flow/data/binder/Binder.html#writeBeanIfValid(BEAN)\r\n  [3]: https://stackoverflow.com/questions/13599821/autowired-repository-is-null-in-custom-constraint-validator\r\n  [4]: https://stackoverflow.com/questions/72152222/spring-boot-repository-does-not-autowire-in-the-custom-validator\r\n  [5]: https://stackoverflow.com/a/72152418/17795888","title":"Vaadin, how to autowire spring component in custom constraint validator","body":"<p>I am working on an app using spring boot for the backend and vaadin for the frontend. I need to add validation, which needs to do a database check - is email registered in this particular example.</p>\n<h1>Example of what i want to achieve:</h1>\n<pre><code>@Component\npublic class EmailExistsValidator implements ConstraintValidator&lt;EmailExists, CharSequence&gt; {\n\n    private final UserRepo userRepo;\n\n    @Autowired\n    public EmailExistsValidator(UserRepo userRepo) {\n        this.userRepo = userRepo;\n    }\n\n    @Override\n    public boolean isValid(CharSequence value, ConstraintValidatorContext context) {\n        //check email does not exist logic here\n    }\n}\n</code></pre>\n<p>I have successfuly used this setup in spring mvc and spring rest applications, with no additional configurations. Unfortunately, the above is not working with vaadin. After some debugging i found out that spring indeed creates and manages those components, but they are not the ones being used. Instead vaadin creates and manages other instances of <a href=\"https://docs.oracle.com/javaee/7/api/javax/validation/ConstraintValidator.html\" rel=\"nofollow noreferrer\">ConstraintValidator</a>, when the actual validation is happening. The validation is done with <a href=\"https://vaadin.com/api/platform/23.2.1/com/vaadin/flow/data/binder/Binder.html#writeBeanIfValid(BEAN)\" rel=\"nofollow noreferrer\">Binder.writeBeanIfValid()</a>, if that matters.</p>\n<p>I went through:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/13599821/autowired-repository-is-null-in-custom-constraint-validator\">Autowired Repository is Null in Custom Constraint Validator</a></li>\n<li><a href=\"https://stackoverflow.com/questions/72152222/spring-boot-repository-does-not-autowire-in-the-custom-validator\">Spring Boot: repository does not autowire in the custom validator</a></li>\n<li>All questions linked in the above as possible solutions</li>\n<li>Few more questions, which i can no longer find unfortunately</li>\n<li>I tried getting <code>WebApplicationContext</code> in order to use <code>AutowireCapableBeanFactory.autowireBean()</code> to autowire the annotated fields. Unsurprisingly, the context was <code>null</code> when vaadin creates/manages the instance, so it did not work.</li>\n</ol>\n<h1>What i am currently using.</h1>\n<pre><code>@Component\npublic class EmailExistsValidator implements ConstraintValidator&lt;EmailExists, CharSequence&gt; {\n\n    private static UserRepo repo;\n\n    private final UserRepo userRepo;\n\n    public EmailExistsValidator() {\n        this.userRepo = repo;\n    }\n\n    @Bean\n    public static UserRepo setRepo(UserRepo userRepo) {\n        repo = userRepo;\n        return repo;\n    }\n\n    @Override\n    public boolean isValid(CharSequence value, ConstraintValidatorContext context) {\n        //validation logic\n    }\n}\n</code></pre>\n<p>This approach is based on <a href=\"https://stackoverflow.com/a/72152418/17795888\">this answer</a> (from the second question i linked). It does the job (only this worked for me), but it's way too hacky for my tastes.</p>\n<p><strong>How can I configure vaadin to use spring managed <code>ConstraintValidator</code>s, instead of vaadin managed ones? Or how can I autowire spring components in <code>ConstraintValidator</code>s created and managed by vaadin?</strong></p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1664842641,"post_id":73941896,"comment_id":130558782,"body_markdown":"It’s possible that this could change the version of the third party JAR that is resolved. There’s not enough information in the question to give a definite answer. Try running `mvn dependency:tree` and include the results in the question text.","body":"It’s possible that this could change the version of the third party JAR that is resolved. There’s not enough information in the question to give a definite answer. Try running <code>mvn dependency:tree</code> and include the results in the question text."},{"owner":{"account_id":3968852,"reputation":1559,"user_id":3273929,"accept_rate":84,"display_name":"Mark VY"},"score":0,"creation_date":1664846454,"post_id":73941896,"comment_id":130559306,"body_markdown":"The third party jar simply vanished from the tree.  It did not get replaced with a different version.","body":"The third party jar simply vanished from the tree.  It did not get replaced with a different version."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1664846823,"post_id":73941896,"comment_id":130559366,"body_markdown":"How was it brought into the tree in the first place? Does C declare a direct dependency on the library, or was it getting it transitively? If transitively, it could also be because of a changed version of some other library that depended on it. It&#39;s best to directly declare any dependencies that your code actually imports.","body":"How was it brought into the tree in the first place? Does C declare a direct dependency on the library, or was it getting it transitively? If transitively, it could also be because of a changed version of some other library that depended on it. It&#39;s best to directly declare any dependencies that your code actually imports."},{"owner":{"account_id":3968852,"reputation":1559,"user_id":3273929,"accept_rate":84,"display_name":"Mark VY"},"score":0,"creation_date":1664983600,"post_id":73941896,"comment_id":130594288,"body_markdown":"note: made slight edit to question: got A and B mixed up in one spot","body":"note: made slight edit to question: got A and B mixed up in one spot"},{"owner":{"account_id":3968852,"reputation":1559,"user_id":3273929,"accept_rate":84,"display_name":"Mark VY"},"score":0,"creation_date":1664984007,"post_id":73941896,"comment_id":130594452,"body_markdown":"(one more edit where I got A and B mixed up)","body":"(one more edit where I got A and B mixed up)"},{"owner":{"account_id":3968852,"reputation":1559,"user_id":3273929,"accept_rate":84,"display_name":"Mark VY"},"score":0,"creation_date":1664984336,"post_id":73941896,"comment_id":130594567,"body_markdown":"It was transitive, and I agree that direct would have been better.  But I still don&#39;t see what went wrong here.  At the end of the transitive chain, we reach module D, which depends on E, which is the third party library of interest.  After adding A to B&#39;s pom, we still have module C depending on D via a transitive chain.  But for some reason, it can no longer reach E via D.  It&#39;s as if the tree just stops at D.","body":"It was transitive, and I agree that direct would have been better.  But I still don&#39;t see what went wrong here.  At the end of the transitive chain, we reach module D, which depends on E, which is the third party library of interest.  After adding A to B&#39;s pom, we still have module C depending on D via a transitive chain.  But for some reason, it can no longer reach E via D.  It&#39;s as if the tree just stops at D."},{"owner":{"account_id":3968852,"reputation":1559,"user_id":3273929,"accept_rate":84,"display_name":"Mark VY"},"score":0,"creation_date":1664985912,"post_id":73941896,"comment_id":130595120,"body_markdown":"to clarify my last comment: the tree does NOT actually stop at D... plenty of other things from D do show up; but not that one","body":"to clarify my last comment: the tree does NOT actually stop at D... plenty of other things from D do show up; but not that one"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1665003810,"post_id":73941896,"comment_id":130600609,"body_markdown":"Without more specifics, all we can do is guess what the problem is. Can you include the dependency tree from before and after the change in the question?","body":"Without more specifics, all we can do is guess what the problem is. Can you include the dependency tree from before and after the change in the question?"},{"owner":{"account_id":3968852,"reputation":1559,"user_id":3273929,"accept_rate":84,"display_name":"Mark VY"},"score":0,"creation_date":1665182404,"post_id":73941896,"comment_id":130647784,"body_markdown":"It’s kind of huge and I’m not sure if company policy allows me to do that","body":"It’s kind of huge and I’m not sure if company policy allows me to do that"}],"owner":{"account_id":3968852,"reputation":1559,"user_id":3273929,"accept_rate":84,"display_name":"Mark VY"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664983981,"creation_date":1664841757,"question_id":73941896,"body_markdown":"Suppose I have a multi-module maven project.  There&#39;s a class in module A that I want to access from module B.  No problem!  I&#39;ll just add module A to module B&#39;s pom.xml file.  But when I try to do that, code in module C stops compiling.  In particular, in module C we have\r\n\r\n    // some-file.java in module C\r\n    import some.third.party.lib.SomeClass; // suddenly this class is not found on the class path!\r\n\r\nI can&#39;t quite call this &quot;spooky action at a distance&quot; because module C does indeed indirectly depend on module B, whose pom I just changed.  But this still makes no sense.  Adding a dependency can dump more things onto the class path, but it shouldn&#39;t ever REMOVE things from the class path, right?  How is this even possible?","title":"maven fundamentals: how can adding a new dependency cause a class not to be found","body":"<p>Suppose I have a multi-module maven project.  There's a class in module A that I want to access from module B.  No problem!  I'll just add module A to module B's pom.xml file.  But when I try to do that, code in module C stops compiling.  In particular, in module C we have</p>\n<pre><code>// some-file.java in module C\nimport some.third.party.lib.SomeClass; // suddenly this class is not found on the class path!\n</code></pre>\n<p>I can't quite call this &quot;spooky action at a distance&quot; because module C does indeed indirectly depend on module B, whose pom I just changed.  But this still makes no sense.  Adding a dependency can dump more things onto the class path, but it shouldn't ever REMOVE things from the class path, right?  How is this even possible?</p>\n"},{"tags":["java","standards","coding-style"],"answers":[{"comments":[{"owner":{"account_id":11838,"reputation":7011,"user_id":23030,"display_name":"Thomas Jones-Low"},"score":1,"creation_date":1251979846,"post_id":1373015,"comment_id":1211534,"body_markdown":"I found this to be the best solution, as you can keep the numbers and strings together and load the strings from from a properties file. Everything in one place.","body":"I found this to be the best solution, as you can keep the numbers and strings together and load the strings from from a properties file. Everything in one place."},{"owner":{"account_id":1862192,"reputation":1849,"user_id":1686575,"accept_rate":65,"display_name":"John Manko"},"score":1,"creation_date":1559577255,"post_id":1373015,"comment_id":99455941,"body_markdown":"This answer doesn&#39;t accurately answer the question of class vs interface, even though it&#39;s the accepted answer.  The answer by @Dakshin does answer the binary choice, but perhaps the question should be modified as to ask class vs interface vs enum.","body":"This answer doesn&#39;t accurately answer the question of class vs interface, even though it&#39;s the accepted answer.  The answer by @Dakshin does answer the binary choice, but perhaps the question should be modified as to ask class vs interface vs enum."}],"tags":[],"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":2,"down_vote_count":1,"up_vote_count":39,"is_accepted":true,"score":38,"last_activity_date":1251979599,"creation_date":1251979599,"answer_id":1373015,"question_id":1372991,"body_markdown":"If they have strong connections, then I&#39;d put them in an enum:\r\n\r\n    public enum Error {\r\n      ERROR_1(&quot;-1&quot;, &quot;foo went wrong&quot;),\r\n      ERROR_2(&quot;-2&quot;, &quot;bar went wrong&quot;);\r\n    \r\n      private final String id;\r\n      private final String message;\r\n\r\n      Error(String id, String message) {\r\n        this.id=id;\r\n        this.message=message;\r\n      }\r\n      \r\n      public String getId() {\r\n        return id;\r\n      }\r\n      \r\n      public String getMessage() {\r\n        return message;\r\n      }\r\n    }\r\n\r\nThe advantage is that you can have type safety in your code and that you can easily add id-based lookup (either by building a `HashMap&lt;String,Error&gt;` in the constructor or by simply looping over `values()`).","title":"Should a collection of constants be placed in a class or interface?","body":"<p>If they have strong connections, then I'd put them in an enum:</p>\n\n<pre><code>public enum Error {\n  ERROR_1(\"-1\", \"foo went wrong\"),\n  ERROR_2(\"-2\", \"bar went wrong\");\n\n  private final String id;\n  private final String message;\n\n  Error(String id, String message) {\n    this.id=id;\n    this.message=message;\n  }\n\n  public String getId() {\n    return id;\n  }\n\n  public String getMessage() {\n    return message;\n  }\n}\n</code></pre>\n\n<p>The advantage is that you can have type safety in your code and that you can easily add id-based lookup (either by building a <code>HashMap&lt;String,Error&gt;</code> in the constructor or by simply looping over <code>values()</code>).</p>\n"},{"comments":[{"owner":{"account_id":3953970,"reputation":943,"user_id":3263204,"display_name":"X. Wo Satuk"},"score":0,"creation_date":1467553645,"post_id":1373017,"comment_id":63768131,"body_markdown":"Collect your constants within a class, and give it a private constructor to prevent it from being instantiated.","body":"Collect your constants within a class, and give it a private constructor to prevent it from being instantiated."}],"tags":[],"owner":{"account_id":17140,"reputation":58976,"user_id":38055,"accept_rate":77,"display_name":"Tomas Aschan"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1251979614,"creation_date":1251979614,"answer_id":1373017,"question_id":1372991,"body_markdown":"You should do it in a class.\r\n\r\nAn Interface is a description of available methods, properties etc that class users can access - by implementing an interface, you guarantee that the members declared in the interface are available to the user.\r\n\r\nA class, on the other hand, is a description of an object or (if you&#39;re not *too* hard on the OO principles...) a placeholder for static members. I personally find it very useful in some projects to store away a bunch of constants in a `Settings` class, so I don&#39;t have to look around in the entire project for the definitions. I think this approach is what you&#39;re after, too.","title":"Should a collection of constants be placed in a class or interface?","body":"<p>You should do it in a class.</p>\n\n<p>An Interface is a description of available methods, properties etc that class users can access - by implementing an interface, you guarantee that the members declared in the interface are available to the user.</p>\n\n<p>A class, on the other hand, is a description of an object or (if you're not <em>too</em> hard on the OO principles...) a placeholder for static members. I personally find it very useful in some projects to store away a bunch of constants in a <code>Settings</code> class, so I don't have to look around in the entire project for the definitions. I think this approach is what you're after, too.</p>\n"},{"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1251979625,"creation_date":1251979625,"answer_id":1373019,"question_id":1372991,"body_markdown":"The use of **[static import][1]** should be considered here (for importing constants defined in a class), or [**type-safe Enum**][2].\r\n\r\nFrom [Interface for constants][3]\r\n\r\n&gt;Placing constants in an interface was a popular technique in the early days of Java, but now many consider it a distasteful use of interfaces, since **interfaces should deal with the services provided by an object, not its data**.  \r\nAs well, the constants used by a class are typically an implementation detail, but placing them in an interface promotes them to the public API of the class. \r\n\r\n\r\n  [1]: http://www.javapractices.com/topic/TopicAction.do?Id=195\r\n  [2]: http://www.javapractices.com/topic/TopicAction.do;jsessionid=466210851B468ECB8604148AEAD07167?Id=1\r\n  [3]: http://www.javapractices.com/topic/TopicAction.do?Id=32","title":"Should a collection of constants be placed in a class or interface?","body":"<p>The use of <strong><a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=195\" rel=\"noreferrer\">static import</a></strong> should be considered here (for importing constants defined in a class), or <a href=\"http://www.javapractices.com/topic/TopicAction.do;jsessionid=466210851B468ECB8604148AEAD07167?Id=1\" rel=\"noreferrer\"><strong>type-safe Enum</strong></a>.</p>\n\n<p>From <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=32\" rel=\"noreferrer\">Interface for constants</a></p>\n\n<blockquote>\n  <p>Placing constants in an interface was a popular technique in the early days of Java, but now many consider it a distasteful use of interfaces, since <strong>interfaces should deal with the services provided by an object, not its data</strong>.<br>\n  As well, the constants used by a class are typically an implementation detail, but placing them in an interface promotes them to the public API of the class. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":42474,"reputation":2894,"user_id":123724,"display_name":"Billy Bob Bain"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1251979730,"creation_date":1251979730,"answer_id":1373026,"question_id":1372991,"body_markdown":"You should put them on the class with a private constructor.\r\n\r\n    public class ErrorCodes {\r\n        private ErrorCodes() {} // prevents instantiation\r\n        public static final String ERROR_1 = &quot;-1&quot;;\r\n        public static final String ERROR_2 = &quot;-2&quot;;\r\n   }\r\n\r\nOr better yet, use a typesafe enum.","title":"Should a collection of constants be placed in a class or interface?","body":"<p>You should put them on the class with a private constructor.</p>\n\n<pre><code>public class ErrorCodes {\n    private ErrorCodes() {} // prevents instantiation\n    public static final String ERROR_1 = \"-1\";\n    public static final String ERROR_2 = \"-2\";\n</code></pre>\n\n<p>}</p>\n\n<p>Or better yet, use a typesafe enum.</p>\n"},{"tags":[],"owner":{"account_id":23503,"reputation":28545,"user_id":58956,"accept_rate":91,"display_name":"gustafc"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1251980199,"creation_date":1251980199,"answer_id":1373057,"question_id":1372991,"body_markdown":"This has been discussed [before][1]:\r\n\r\n&gt; The reason why you don&#39;t want the constants in an interface is that it entices client classes to &quot;implement&quot; that interface (in order to access the constants without prefixing them with the interface name). You shouldn&#39;t, though - the interface isn&#39;t actually an interface to the object&#39;s capabilities, but a compile-time convenience ingrained in the class&#39; external type.\r\n\r\nThere was a time when the &quot;constant interface&quot; was very convenient, but it has always been &quot;wrong&quot; and not even laziness is an excuse to use it now that we have `import static` statements. \r\n\r\n**Edit:** Although I must agree that for the scenario presented in your question, enums are more appropriate.\r\n\r\n  [1]: https://stackoverflow.com/questions/1263954/is-global-constants-an-anti-pattern/1265684#1265684","title":"Should a collection of constants be placed in a class or interface?","body":"<p>This has been discussed <a href=\"https://stackoverflow.com/questions/1263954/is-global-constants-an-anti-pattern/1265684#1265684\">before</a>:</p>\n\n<blockquote>\n  <p>The reason why you don't want the constants in an interface is that it entices client classes to \"implement\" that interface (in order to access the constants without prefixing them with the interface name). You shouldn't, though - the interface isn't actually an interface to the object's capabilities, but a compile-time convenience ingrained in the class' external type.</p>\n</blockquote>\n\n<p>There was a time when the \"constant interface\" was very convenient, but it has always been \"wrong\" and not even laziness is an excuse to use it now that we have <code>import static</code> statements. </p>\n\n<p><strong>Edit:</strong> Although I must agree that for the scenario presented in your question, enums are more appropriate.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":15,"creation_date":1251984654,"post_id":1373110,"comment_id":1212016,"body_markdown":"To my mind, the anti-pattern is *implementing* an interface in order to gain access to the named constants.","body":"To my mind, the anti-pattern is <i>implementing</i> an interface in order to gain access to the named constants."}],"tags":[],"owner":{"account_id":54418,"reputation":20355,"user_id":162792,"accept_rate":100,"display_name":"Andrey Adamovich"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1251980959,"creation_date":1251980959,"answer_id":1373110,"question_id":1372991,"body_markdown":"Some people consider constant-interface an anti-pattern (http://en.wikipedia.org/wiki/Constant_interface) . ","title":"Should a collection of constants be placed in a class or interface?","body":"<p>Some people consider constant-interface an anti-pattern (<a href=\"http://en.wikipedia.org/wiki/Constant_interface\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/Constant_interface</a>) . </p>\n"},{"tags":[],"owner":{"display_name":"Not-The-Mama"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1251985551,"creation_date":1251985551,"answer_id":1373497,"question_id":1372991,"body_markdown":"I personally feel that the constants should be defined in a class for the same reasons as described here above. Especially because some developers use these constants by implementing the interface in the class that wants to use them. When that interface contains a lot of constants you do not want to look at the javadoc of that specific class anymore because it is littered with descriptions of constants that are probably not even used by that class.","title":"Should a collection of constants be placed in a class or interface?","body":"<p>I personally feel that the constants should be defined in a class for the same reasons as described here above. Especially because some developers use these constants by implementing the interface in the class that wants to use them. When that interface contains a lot of constants you do not want to look at the javadoc of that specific class anymore because it is littered with descriptions of constants that are probably not even used by that class.</p>\n"},{"comments":[{"owner":{"account_id":44830,"reputation":1744,"user_id":131795,"display_name":"Trevor Harrison"},"score":0,"creation_date":1253298952,"post_id":1446119,"comment_id":1292288,"body_markdown":"An issue you don&#39;t touch is that some constants will be copied at compile time into the generated bytecode instead of being referenced, leaving you with an ABI that you can&#39;t change without breaking stuff.","body":"An issue you don&#39;t touch is that some constants will be copied at compile time into the generated bytecode instead of being referenced, leaving you with an ABI that you can&#39;t change without breaking stuff."},{"owner":{"account_id":33128,"reputation":2587,"user_id":92463,"accept_rate":100,"display_name":"grkvlt"},"score":0,"creation_date":1253304038,"post_id":1446119,"comment_id":1292694,"body_markdown":"Is this not also an issue with the &#39;class for constants&#39; solution, due to direct field access?","body":"Is this not also an issue with the &#39;class for constants&#39; solution, due to direct field access?"},{"owner":{"account_id":44830,"reputation":1744,"user_id":131795,"display_name":"Trevor Harrison"},"score":0,"creation_date":1253328435,"post_id":1446119,"comment_id":1293776,"body_markdown":"Yep, I think the same thing happens for both class and interface, but I could be wrong. +1 to the enum answers","body":"Yep, I think the same thing happens for both class and interface, but I could be wrong. +1 to the enum answers"},{"owner":{"account_id":33128,"reputation":2587,"user_id":92463,"accept_rate":100,"display_name":"grkvlt"},"score":0,"creation_date":1253387044,"post_id":1446119,"comment_id":1295552,"body_markdown":"Point taken, emum is preferable in some cases. This technique is best used in a project or projects which is *not* exporting it as part of a binary API. Minor point - I see too many people writing &#39;public static final&#39; before fields in interfaces, as though it makes a difference - learn what the default modifiers are and use it to write more compact code.","body":"Point taken, emum is preferable in some cases. This technique is best used in a project or projects which is <i>not</i> exporting it as part of a binary API. Minor point - I see too many people writing &#39;public static final&#39; before fields in interfaces, as though it makes a difference - learn what the default modifiers are and use it to write more compact code."}],"tags":[],"owner":{"account_id":33128,"reputation":2587,"user_id":92463,"accept_rate":100,"display_name":"grkvlt"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1253298511,"creation_date":1253297804,"answer_id":1446119,"question_id":1372991,"body_markdown":"I recommend a combination of static imports and interfaces for constants.\r\n\r\nIf a Java interface has constant field declarations, bear in mind that these are *implicitly* public, static and final (see the Java Language Specification, [Section 9.3][1].) You can therefore always omit these modifiers, leaving only the type, and your constant interface would look like this:\r\n\r\n    public interface Constants {\r\n        int AGE = 0x23;\r\n        String NAME = &quot;Andrew&quot;;\r\n        boolean IGNORE = true;\r\n    }\r\n\r\nThis should, of course, *only* ever be used as follows:\r\n\r\n    import static Constants.*;\r\n    \r\n    public Whatever {\r\n        public String method() {\r\n            return String.format(&quot;%s is %d%c&quot;, NAME, AGE, IGNORE ? &#39;?&#39; : &#39;!&#39;);\r\n        }\r\n    }\r\n\r\nI have no issues using this style in my production code, and feel it leads to a very neat, compact constants collection, and can cope with various types of constant, which an enum couldn&#39;t, as well as being able to be extended if requred, unlike an enum.\r\n\r\nAnother possibility, which not everyone will approve of, is to nest interfaces (or even enum types) in your parent interface, allowing you to group your constants. This :\r\n\r\n    interface MoreConstants {\r\n        int MAGIC = 0xCAFEBABE;\r\n        interface PROPERTIES {\r\n            String NAME = &quot;name&quot;;\r\n        }\r\n        enum ERRORS {\r\n            ON_FIRE, ASLEEP, BROKEN, UNSURE;\r\n        }\r\n    }\r\n\r\nand access them like this, assuming a static import of the *MoreConstants* interface:\r\n\r\n    if (!PROPERTIES.NAME.equals(value)) {\r\n        return ERRORS.UNSURE;\r\n    }\r\n\r\nOf course, these interfaces should never be implemented, which I would consider bad practice. The only way to ensure this, however, is strict code reviews...\r\n\r\n  [1]: http://java.sun.com/docs/books/jls/third_edition/html/interfaces.html#9.3 &quot;Section 9.3&quot;","title":"Should a collection of constants be placed in a class or interface?","body":"<p>I recommend a combination of static imports and interfaces for constants.</p>\n\n<p>If a Java interface has constant field declarations, bear in mind that these are <em>implicitly</em> public, static and final (see the Java Language Specification, <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/interfaces.html#9.3\" rel=\"nofollow noreferrer\" title=\"Section 9.3\">Section 9.3</a>.) You can therefore always omit these modifiers, leaving only the type, and your constant interface would look like this:</p>\n\n<pre><code>public interface Constants {\n    int AGE = 0x23;\n    String NAME = \"Andrew\";\n    boolean IGNORE = true;\n}\n</code></pre>\n\n<p>This should, of course, <em>only</em> ever be used as follows:</p>\n\n<pre><code>import static Constants.*;\n\npublic Whatever {\n    public String method() {\n        return String.format(\"%s is %d%c\", NAME, AGE, IGNORE ? '?' : '!');\n    }\n}\n</code></pre>\n\n<p>I have no issues using this style in my production code, and feel it leads to a very neat, compact constants collection, and can cope with various types of constant, which an enum couldn't, as well as being able to be extended if requred, unlike an enum.</p>\n\n<p>Another possibility, which not everyone will approve of, is to nest interfaces (or even enum types) in your parent interface, allowing you to group your constants. This :</p>\n\n<pre><code>interface MoreConstants {\n    int MAGIC = 0xCAFEBABE;\n    interface PROPERTIES {\n        String NAME = \"name\";\n    }\n    enum ERRORS {\n        ON_FIRE, ASLEEP, BROKEN, UNSURE;\n    }\n}\n</code></pre>\n\n<p>and access them like this, assuming a static import of the <em>MoreConstants</em> interface:</p>\n\n<pre><code>if (!PROPERTIES.NAME.equals(value)) {\n    return ERRORS.UNSURE;\n}\n</code></pre>\n\n<p>Of course, these interfaces should never be implemented, which I would consider bad practice. The only way to ensure this, however, is strict code reviews...</p>\n"},{"tags":[],"owner":{"account_id":3891270,"reputation":355,"user_id":3221397,"display_name":"Dakshin Rajavel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523025859,"creation_date":1523025499,"answer_id":49695252,"question_id":1372991,"body_markdown":"Using Interface for constants is a good practice. But you do not want to implement that interface to use the constants. But use static import as below.\r\n\r\n    package com.data.job.spark;\r\n    \r\n    public interface Constants {\r\n    \r\n    \t/** base api url string literal. */\r\n    \tpublic static final String BASE_API_URL = &quot;/api/v1&quot;;\r\n            /** message string literal. */\r\n        public static final String MESSAGE = &quot;message&quot;;\r\n    \r\n        /** exception string literal. */\r\n        public static final String EXCEPTION = &quot;exception&quot;;\r\n    }\r\n    =================================\r\n    import static com.data.job.spark.Constants.EXCEPTION;\r\n    \r\n    @Component(&quot;user360ToScyllaDbLoader&quot;)\r\n    public class TestConstants implements Serializable{\r\n    \r\n    \t\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    }","title":"Should a collection of constants be placed in a class or interface?","body":"<p>Using Interface for constants is a good practice. But you do not want to implement that interface to use the constants. But use static import as below.</p>\n\n<pre><code>package com.data.job.spark;\n\npublic interface Constants {\n\n    /** base api url string literal. */\n    public static final String BASE_API_URL = \"/api/v1\";\n        /** message string literal. */\n    public static final String MESSAGE = \"message\";\n\n    /** exception string literal. */\n    public static final String EXCEPTION = \"exception\";\n}\n=================================\nimport static com.data.job.spark.Constants.EXCEPTION;\n\n@Component(\"user360ToScyllaDbLoader\")\npublic class TestConstants implements Serializable{\n\n\n    private static final long serialVersionUID = 1L;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2736292,"reputation":1088,"user_id":2358905,"display_name":"Rakesh Prajapati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589245318,"creation_date":1589245318,"answer_id":61742016,"question_id":1372991,"body_markdown":"&gt; Always use Interface to define only contract and Class to define implementation state (variable and constant) and behavior (method implementation)\n\n[Define Constants in Interface or Class][1]\n\nRead this article which explains advantages of defining constants in the class vs interface\n\n\n  [1]: https://readtorakesh.com/define-constants-in-interface-or-class/","title":"Should a collection of constants be placed in a class or interface?","body":"<blockquote>\n  <p>Always use Interface to define only contract and Class to define implementation state (variable and constant) and behavior (method implementation)</p>\n</blockquote>\n\n<p><a href=\"https://readtorakesh.com/define-constants-in-interface-or-class/\" rel=\"nofollow noreferrer\">Define Constants in Interface or Class</a></p>\n\n<p>Read this article which explains advantages of defining constants in the class vs interface</p>\n"},{"tags":[],"owner":{"account_id":260172,"reputation":15404,"user_id":543572,"accept_rate":100,"display_name":"James-Jesse Drinkard"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664983803,"creation_date":1664983803,"answer_id":73962781,"question_id":1372991,"body_markdown":"The short answer is, it depends.  What is the context, i.e. the use case?\r\n\r\nWhat you need to do first is ask questions:\r\n\r\n - How many constants will there be?  If there are hundreds of them, then I would favor an interface or a static caching mechanism, even though the interface would be an anti-pattern.  \r\n\r\nI saw a constants class in some code once of hundreds of constants and it got unwieldy.  Some of the names of the constants were similar, so it was hard to keep them straight and maintain them. Moreover, I would take a deeper look into why you would have that many constants in the first place.  However, I have also worked on a custom reporting app with this use case and they used a static cache for this, so again, it points back to what you are trying to accomplish in your use case.\r\n - Will they need to be shared by implementing classes?  Favor an interface, but again it can depend on the context i.e. the number of the constants and do the classes all need to share all the constants?\r\n - Are they related to each other?  Are they the same type? An enum specifies a list of constant values assigned to a type, but if they are only needed for a specific class, then make them private static final and put them in that class.\r\n - Will you need to enumerate or use override on them? Use enums.\r\n - Are the constants representing integers as string codes? Use enums.\r\n\r\nTo summarize I believe the correct answer here should be based on what you are trying to accomplish with the code.\r\n","title":"Should a collection of constants be placed in a class or interface?","body":"<p>The short answer is, it depends.  What is the context, i.e. the use case?</p>\n<p>What you need to do first is ask questions:</p>\n<ul>\n<li>How many constants will there be?  If there are hundreds of them, then I would favor an interface or a static caching mechanism, even though the interface would be an anti-pattern.</li>\n</ul>\n<p>I saw a constants class in some code once of hundreds of constants and it got unwieldy.  Some of the names of the constants were similar, so it was hard to keep them straight and maintain them. Moreover, I would take a deeper look into why you would have that many constants in the first place.  However, I have also worked on a custom reporting app with this use case and they used a static cache for this, so again, it points back to what you are trying to accomplish in your use case.</p>\n<ul>\n<li>Will they need to be shared by implementing classes?  Favor an interface, but again it can depend on the context i.e. the number of the constants and do the classes all need to share all the constants?</li>\n<li>Are they related to each other?  Are they the same type? An enum specifies a list of constant values assigned to a type, but if they are only needed for a specific class, then make them private static final and put them in that class.</li>\n<li>Will you need to enumerate or use override on them? Use enums.</li>\n<li>Are the constants representing integers as string codes? Use enums.</li>\n</ul>\n<p>To summarize I believe the correct answer here should be based on what you are trying to accomplish with the code.</p>\n"}],"owner":{"account_id":49781,"reputation":10062,"user_id":148381,"accept_rate":89,"display_name":"DaveJohnston"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22987,"favorite_count":0,"down_vote_count":1,"up_vote_count":44,"accepted_answer_id":1373015,"answer_count":11,"score":43,"last_activity_date":1664983803,"creation_date":1251979193,"question_id":1372991,"body_markdown":"If I have a collection of static constants that I want to declare centrally so that they can be shared among various projects should they be put in a class or interface (Java).\r\n\r\nIn the past I have seen them mostly put in a class but I started thinking that since the class will not and should not be instantiated maybe they would be better in an interface, but then again the interface should not be implemented by any classes, e.g.\r\n\r\n    public class ErrorCodes {\r\n        public static final String ERROR_1 = &quot;-1&quot;;\r\n        public static final String ERROR_2 = &quot;-2&quot;;\r\n    }\r\n\r\nor\r\n\r\n    public interface ErrorCodes {\r\n        public static final String ERROR_1 = &quot;-1&quot;;\r\n        public static final String ERROR_2 = &quot;-2&quot;;\r\n    }","title":"Should a collection of constants be placed in a class or interface?","body":"<p>If I have a collection of static constants that I want to declare centrally so that they can be shared among various projects should they be put in a class or interface (Java).</p>\n\n<p>In the past I have seen them mostly put in a class but I started thinking that since the class will not and should not be instantiated maybe they would be better in an interface, but then again the interface should not be implemented by any classes, e.g.</p>\n\n<pre><code>public class ErrorCodes {\n    public static final String ERROR_1 = \"-1\";\n    public static final String ERROR_2 = \"-2\";\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>public interface ErrorCodes {\n    public static final String ERROR_1 = \"-1\";\n    public static final String ERROR_2 = \"-2\";\n}\n</code></pre>\n"},{"tags":["java","performance","input","linked-list","output"],"answers":[{"comments":[{"owner":{"account_id":24659657,"reputation":1,"user_id":18556006,"display_name":"COSC211101008 KFUEIT"},"score":0,"creation_date":1664984151,"post_id":73962685,"comment_id":130594505,"body_markdown":"I got it I was not printing the last one by node.next==null  instead of node==null so thanks a lot for pointing it out","body":"I got it I was not printing the last one by node.next==null  instead of node==null so thanks a lot for pointing it out"}],"tags":[],"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664983681,"creation_date":1664983396,"answer_id":73962685,"question_id":73962336,"body_markdown":"When you reach the last node, `node.next == null`, you don&#39;t print it.\r\n\r\nYou need to change the condition in your `display()` method.","title":"Linked List code number of output does not match the number of input","body":"<p>When you reach the last node, <code>node.next == null</code>, you don't print it.</p>\n<p>You need to change the condition in your <code>display()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664983538,"creation_date":1664983538,"answer_id":73962720,"question_id":73962336,"body_markdown":"Change `while(n.next!=null)` to `while(n != null)`. The last node has `n.next == null`, but you should still print it.","title":"Linked List code number of output does not match the number of input","body":"<p>Change <code>while(n.next!=null)</code> to <code>while(n != null)</code>. The last node has <code>n.next == null</code>, but you should still print it.</p>\n"}],"owner":{"account_id":24659657,"reputation":1,"user_id":18556006,"display_name":"COSC211101008 KFUEIT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664983681,"creation_date":1664981804,"question_id":73962336,"body_markdown":"In this java code as I input 4 integer type numbers in linked list it shows only first 3 as output \r\nso can you guide why is that. I when give only 1 value in linked list it doesn&#39;t appear when I give 2 values it shows the first one as output only.\r\n\r\n    \r\nhere only output show 4, 34, and 5 but not 50 I don&#39;t understand what wrong with code?\r\n\r\n    enter code here\r\n    import java.lang.*;\r\n    public class Main{\r\n        Node head;\r\n        static class Node{\r\n            int data;\r\n            Node next;\r\n            public Node(int d){\r\n                data=d;\r\n                next=null;\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n        public void insertFirst(int data)\r\n        {\r\n            Node n=new Node(data);\r\n            n.next=head;\r\n            head=n;\r\n    \r\n        }\r\n        public void insertLast(int data){\r\n            Node n=new Node(data);\r\n            if(head==null) {\r\n                head = n;\r\n    \r\n            }        else{\r\n                Node t=head;\r\n                while(t.next!=null)\r\n                {   t=t.next;}\r\n                   t.next=n;\r\n            }\r\n          }\r\n        public void display(){\r\n                Node n=head;\r\n                if(n==null)\r\n                    System.out.println(&quot;empty&quot;);\r\n                else\r\n                {\r\n                    while(n.next!=null)\r\n                    {\r\n                        System.out.print(n.data+&quot; &quot;);\r\n                        n=n.next;\r\n                    }\r\n                }\r\n            }\r\n           public static void main(String [] args){\r\n            Main m=new Main();\r\n           m.insertFirst(34);\r\n               m.insertFirst(4);\r\n           m.insertLast(5);\r\n               m.insertLast(50);\r\n            m.display();\r\n           }\r\n    }\r\n\r\n\r\n","title":"Linked List code number of output does not match the number of input","body":"<p>In this java code as I input 4 integer type numbers in linked list it shows only first 3 as output\nso can you guide why is that. I when give only 1 value in linked list it doesn't appear when I give 2 values it shows the first one as output only.</p>\n<p>here only output show 4, 34, and 5 but not 50 I don't understand what wrong with code?</p>\n<pre><code>enter code here\nimport java.lang.*;\npublic class Main{\n    Node head;\n    static class Node{\n        int data;\n        Node next;\n        public Node(int d){\n            data=d;\n            next=null;\n        }\n\n    }\n\n\n    public void insertFirst(int data)\n    {\n        Node n=new Node(data);\n        n.next=head;\n        head=n;\n\n    }\n    public void insertLast(int data){\n        Node n=new Node(data);\n        if(head==null) {\n            head = n;\n\n        }        else{\n            Node t=head;\n            while(t.next!=null)\n            {   t=t.next;}\n               t.next=n;\n        }\n      }\n    public void display(){\n            Node n=head;\n            if(n==null)\n                System.out.println(&quot;empty&quot;);\n            else\n            {\n                while(n.next!=null)\n                {\n                    System.out.print(n.data+&quot; &quot;);\n                    n=n.next;\n                }\n            }\n        }\n       public static void main(String [] args){\n        Main m=new Main();\n       m.insertFirst(34);\n           m.insertFirst(4);\n       m.insertLast(5);\n           m.insertLast(50);\n        m.display();\n       }\n}\n</code></pre>\n"},{"tags":["java","bufferedimage"],"answers":[{"comments":[{"owner":{"account_id":2605289,"reputation":5,"user_id":2256564,"display_name":"java_87"},"score":0,"creation_date":1366636493,"post_id":16044440,"comment_id":23071500,"body_markdown":"what is the steps to use these formulas ?\ni should read the image in ByteBuffer and deals with byte pixel values in these formulas ?","body":"what is the steps to use these formulas ? i should read the image in ByteBuffer and deals with byte pixel values in these formulas ?"},{"owner":{"account_id":2605289,"reputation":5,"user_id":2256564,"display_name":"java_87"},"score":0,"creation_date":1366707209,"post_id":16044440,"comment_id":23101565,"body_markdown":"i use these formulas but i got an image contains columns of separated colors (Red, green, and blue).","body":"i use these formulas but i got an image contains columns of separated colors (Red, green, and blue)."},{"owner":{"account_id":363137,"reputation":589,"user_id":706705,"display_name":"michael pan"},"score":0,"creation_date":1366856959,"post_id":16044440,"comment_id":23172804,"body_markdown":"sounds like you have byte alignment wrong.  YBR stores a pixel using 3 bytes.  if using RGB, you&#39;ll need to store 3 bytes into your buffer.  if using RGBA, you&#39;ll need to store 4 bytes","body":"sounds like you have byte alignment wrong.  YBR stores a pixel using 3 bytes.  if using RGB, you&#39;ll need to store 3 bytes into your buffer.  if using RGBA, you&#39;ll need to store 4 bytes"}],"tags":[],"owner":{"account_id":363137,"reputation":589,"user_id":706705,"display_name":"michael pan"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1366136877,"creation_date":1366136877,"answer_id":16044440,"question_id":15873867,"body_markdown":"You should convert the YBR values to RGB.  here&#39;s a page on [how to convert between YBR and RGB][1]\r\n\r\n\r\n  [1]: http://www.fourcc.org/fccyvrgb.php","title":"Create BufferedImage from YBR_FULL Dicom Image","body":"<p>You should convert the YBR values to RGB.  here's a page on <a href=\"http://www.fourcc.org/fccyvrgb.php\" rel=\"nofollow\">how to convert between YBR and RGB</a></p>\n"},{"tags":[],"owner":{"account_id":3229788,"reputation":188,"user_id":2725326,"display_name":"Yvens Rebou&#231;as Serpa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664983362,"creation_date":1664983362,"answer_id":73962682,"question_id":15873867,"body_markdown":"The formula that worked for me was this:\r\n```\r\nR = Y + 1.402 * (Cr-128);\r\nG = Y - 0.344136 * (Cb-128) - 0.714136 * (Cr-128);\r\nB = Y + 1.772 * (Cb-128);\r\n```\r\nI found it [here][1].\r\n\r\n\r\n  [1]: https://groups.google.com/g/comp.compression/c/q6svVG4hie0/m/cL4SvBilsHcJ","title":"Create BufferedImage from YBR_FULL Dicom Image","body":"<p>The formula that worked for me was this:</p>\n<pre><code>R = Y + 1.402 * (Cr-128);\nG = Y - 0.344136 * (Cb-128) - 0.714136 * (Cr-128);\nB = Y + 1.772 * (Cb-128);\n</code></pre>\n<p>I found it <a href=\"https://groups.google.com/g/comp.compression/c/q6svVG4hie0/m/cL4SvBilsHcJ\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":2605289,"reputation":5,"user_id":2256564,"display_name":"java_87"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1577,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":16044440,"answer_count":2,"score":0,"last_activity_date":1664983362,"creation_date":1365407184,"question_id":15873867,"body_markdown":"I want to Create BufferedImage from YBR_FULL Dicom Image to view it over a JPanel in my program, can any one tell me how to deal with this type of Dicom file?also can we convert from YBR_FULL to RGB? if yes how ?","title":"Create BufferedImage from YBR_FULL Dicom Image","body":"<p>I want to Create BufferedImage from YBR_FULL Dicom Image to view it over a JPanel in my program, can any one tell me how to deal with this type of Dicom file?also can we convert from YBR_FULL to RGB? if yes how ?</p>\n"},{"tags":["java","mongodb","apache-spark","apache-zeppelin"],"owner":{"account_id":18006773,"reputation":11,"user_id":13087363,"display_name":"Oleg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664982933,"creation_date":1584609054,"question_id":60753959,"body_markdown":"I&#39;m reading MongoDB collection with Mongo-Spark Connector (via Zeppelin) using Java.\r\n\r\n```\r\nval DataFrame = MongoSpark.load(sc, readConfig).toDF[Object]()\r\n```\r\n\r\nI&#39;m using Object class as a view of MongoDB entity:\r\n\r\n```\r\ncase class Object( \r\n    field1: Integer,\r\n    field2: Boolean,\r\n    ...\r\n)\r\n```\r\n\r\nIn MongoDB object is stored as a BSON:\r\n```\r\n{\r\n  &quot;_id&quot;: NUUID,\r\n  &quot;field1&quot;: 1,\r\n  &quot;field2&quot;: true\r\n}\r\n```\r\n\r\n**Problem**: while reading data, Mongo-Spark connector skips objects, that doesn&#39;t have all the fields, mentioned in Object class. \r\n\r\nSo mongo entities like `{&quot;id&quot;: NUUID, &quot;field1&quot;: 2}` are not loaded to DF.\r\n\r\nI assume, I can read all entities like BSON-objects and serialize them after reading to DF, but is there any other solution that will help not do extra-work? I.e. making class fields optional (`Option(Integer)`)\r\n\r\nWhat is used:\r\n\r\n- mongo-spark-connector_2.11\r\n- spark-2.4.0","title":"Mongo-Spark connector skips objects while reading if record doesn&#39;t have fields","body":"<p>I'm reading MongoDB collection with Mongo-Spark Connector (via Zeppelin) using Java.</p>\n\n<pre><code>val DataFrame = MongoSpark.load(sc, readConfig).toDF[Object]()\n</code></pre>\n\n<p>I'm using Object class as a view of MongoDB entity:</p>\n\n<pre><code>case class Object( \n    field1: Integer,\n    field2: Boolean,\n    ...\n)\n</code></pre>\n\n<p>In MongoDB object is stored as a BSON:</p>\n\n<pre><code>{\n  \"_id\": NUUID,\n  \"field1\": 1,\n  \"field2\": true\n}\n</code></pre>\n\n<p><strong>Problem</strong>: while reading data, Mongo-Spark connector skips objects, that doesn't have all the fields, mentioned in Object class. </p>\n\n<p>So mongo entities like <code>{\"id\": NUUID, \"field1\": 2}</code> are not loaded to DF.</p>\n\n<p>I assume, I can read all entities like BSON-objects and serialize them after reading to DF, but is there any other solution that will help not do extra-work? I.e. making class fields optional (<code>Option(Integer)</code>)</p>\n\n<p>What is used:</p>\n\n<ul>\n<li>mongo-spark-connector_2.11</li>\n<li>spark-2.4.0</li>\n</ul>\n"},{"tags":["java","eclipse","wizard"],"comments":[{"owner":{"account_id":1376202,"reputation":24775,"user_id":1341006,"accept_rate":99,"display_name":"Jainendra"},"score":0,"creation_date":1339171268,"post_id":10952221,"comment_id":14295066,"body_markdown":"Go through the [eclipse tutorial](http://www.vogella.com/articles/Eclipse/article.html), will help.","body":"Go through the <a href=\"http://www.vogella.com/articles/Eclipse/article.html\" rel=\"nofollow noreferrer\">eclipse tutorial</a>, will help."},{"owner":{"account_id":395472,"reputation":12714,"user_id":758446,"accept_rate":93,"display_name":"BlackVegetable"},"score":0,"creation_date":1339171781,"post_id":10952221,"comment_id":14295290,"body_markdown":"What &quot;cryptic error message&quot; are you getting?  Also, make sure you are in the java perspective if you haven&#39;t already checked that.","body":"What &quot;cryptic error message&quot; are you getting?  Also, make sure you are in the java perspective if you haven&#39;t already checked that."},{"owner":{"account_id":156080,"reputation":34089,"user_id":373151,"accept_rate":74,"display_name":"Hari Menon"},"score":0,"creation_date":1339171789,"post_id":10952221,"comment_id":14295294,"body_markdown":"Can you format your question and remove any irrelevant details? It will improve the chances of the question being answered.","body":"Can you format your question and remove any irrelevant details? It will improve the chances of the question being answered."},{"owner":{"account_id":1137241,"reputation":2389,"user_id":1122053,"accept_rate":40,"display_name":"Logan"},"score":0,"creation_date":1339172108,"post_id":10952221,"comment_id":14295407,"body_markdown":"I think all details are relevant to him, especially when you don&#39;t know what your problem is.","body":"I think all details are relevant to him, especially when you don&#39;t know what your problem is."},{"owner":{"account_id":1552914,"reputation":11,"user_id":1444889,"display_name":"user1444889"},"score":0,"creation_date":1339176472,"post_id":10952221,"comment_id":14297012,"body_markdown":"Jaguar- I had previously created several projects successfully. In addition, i did in fact follow several walk-throughs when the issue developed, assuming I had checked or unchecked an option accidentally. These have not resolved the issue at hand.","body":"Jaguar- I had previously created several projects successfully. In addition, i did in fact follow several walk-throughs when the issue developed, assuming I had checked or unchecked an option accidentally. These have not resolved the issue at hand."},{"owner":{"account_id":1552914,"reputation":11,"user_id":1444889,"display_name":"user1444889"},"score":0,"creation_date":1339176742,"post_id":10952221,"comment_id":14297106,"body_markdown":"BlackVegetable- I did finally manage to create a new .java file for a project without any events. I think I messed myself up trying to declare the default package. This fix will do, but now that it&#39;s &quot;broke&quot; I still would like to know how to fix it.","body":"BlackVegetable- I did finally manage to create a new .java file for a project without any events. I think I messed myself up trying to declare the default package. This fix will do, but now that it&#39;s &quot;broke&quot; I still would like to know how to fix it."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1339255096,"post_id":10952221,"comment_id":14311564,"body_markdown":"&quot;The&quot; src/.java file? *What* Java file do you expect it to create when creating a new project? My Eclipse doesn&#39;t create any Java files when I create a new Java project because it has no idea what to create.","body":"&quot;The&quot; src/.java file? <i>What</i> Java file do you expect it to create when creating a new project? My Eclipse doesn&#39;t create any Java files when I create a new Java project because it has no idea what to create."}],"answers":[{"comments":[{"owner":{"account_id":1552914,"reputation":11,"user_id":1444889,"display_name":"user1444889"},"score":0,"creation_date":1339174493,"post_id":10952451,"comment_id":14296333,"body_markdown":"I haven&#39;t messed with Wizard folders, but I assume its a folder where the sub-directory is the available choices in the new wizard menu, and it contains the templates. If that&#39;s the case, I have not messed with those (yet) as I am new. I also have not intentionally changed any preferences with default templates that I am aware of.","body":"I haven&#39;t messed with Wizard folders, but I assume its a folder where the sub-directory is the available choices in the new wizard menu, and it contains the templates. If that&#39;s the case, I have not messed with those (yet) as I am new. I also have not intentionally changed any preferences with default templates that I am aware of."},{"owner":{"account_id":1137241,"reputation":2389,"user_id":1122053,"accept_rate":40,"display_name":"Logan"},"score":0,"creation_date":1339174841,"post_id":10952451,"comment_id":14296467,"body_markdown":"I dont mean you have changed them, but it asks you to choose the kind of project to create. Its possible there is a &quot;Java Project&quot; under the Java folder and one under Android. Make sure you choose Java Project from the Java folder in the wizard.","body":"I dont mean you have changed them, but it asks you to choose the kind of project to create. Its possible there is a &quot;Java Project&quot; under the Java folder and one under Android. Make sure you choose Java Project from the Java folder in the wizard."},{"owner":{"account_id":1552914,"reputation":11,"user_id":1444889,"display_name":"user1444889"},"score":0,"creation_date":1339175856,"post_id":10952451,"comment_id":14296785,"body_markdown":"I am specifically choosing New Java Project, where Android is specifically listed as a collapsed folder several options below the Java Project option. Also, I updated the question above to include 2 screenshots which do not seem helpful at this point, but there they are.","body":"I am specifically choosing New Java Project, where Android is specifically listed as a collapsed folder several options below the Java Project option. Also, I updated the question above to include 2 screenshots which do not seem helpful at this point, but there they are."},{"owner":{"account_id":1552914,"reputation":11,"user_id":1444889,"display_name":"user1444889"},"score":0,"creation_date":1339176260,"post_id":10952451,"comment_id":14296931,"body_markdown":"Rephrase- I had been simply selecting New&gt;Java Project, but also did New&gt;Project... and selected Java project in the wizard with same results. I have also now verified that Eclipse and Java are not being blocked by firewall in case of loopback to server function (I know, just trying everything I can think of).","body":"Rephrase- I had been simply selecting New&gt;Java Project, but also did New&gt;Project... and selected Java project in the wizard with same results. I have also now verified that Eclipse and Java are not being blocked by firewall in case of loopback to server function (I know, just trying everything I can think of)."},{"owner":{"account_id":1137241,"reputation":2389,"user_id":1122053,"accept_rate":40,"display_name":"Logan"},"score":0,"creation_date":1339176588,"post_id":10952451,"comment_id":14297049,"body_markdown":"Make sure you are using the java viewing perspective. Its in one of the menus up top.","body":"Make sure you are using the java viewing perspective. Its in one of the menus up top."},{"owner":{"account_id":1552914,"reputation":11,"user_id":1444889,"display_name":"user1444889"},"score":0,"creation_date":1339177508,"post_id":10952451,"comment_id":14297394,"body_markdown":"As mentioned to BlackWidow above, I have a workaround now. I was manually adding the .java file incorrectly. Anything else is for curiosity sake (My system is still &quot;broke&quot; and I want to &quot;fix&quot; it). My understanding is that Java perspective is the default in eclipse, which I haven&#39;t changed. I changed it to Java browsing and still have the same issue.","body":"As mentioned to BlackWidow above, I have a workaround now. I was manually adding the .java file incorrectly. Anything else is for curiosity sake (My system is still &quot;broke&quot; and I want to &quot;fix&quot; it). My understanding is that Java perspective is the default in eclipse, which I haven&#39;t changed. I changed it to Java browsing and still have the same issue."}],"tags":[],"owner":{"account_id":1137241,"reputation":2389,"user_id":1122053,"accept_rate":40,"display_name":"Logan"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1339172015,"creation_date":1339172015,"answer_id":10952451,"question_id":10952221,"body_markdown":"Make sure you are choosing a java project from the right folder in the wizard. It sounds like it is creating an android java project, which is probably why your src folder is missing. See if there is a helloworld project under example projects too in the wizard, that may get you started too. Screenshot may help us. I want to see which project type you choose and which folder it is in.","title":"Eclipse not creating new .java file in New Project wizard?","body":"<p>Make sure you are choosing a java project from the right folder in the wizard. It sounds like it is creating an android java project, which is probably why your src folder is missing. See if there is a helloworld project under example projects too in the wizard, that may get you started too. Screenshot may help us. I want to see which project type you choose and which folder it is in.</p>\n"},{"comments":[{"owner":{"account_id":1552914,"reputation":11,"user_id":1444889,"display_name":"user1444889"},"score":0,"creation_date":1339177640,"post_id":10953467,"comment_id":14297444,"body_markdown":"When I created the new instance, it was to a new folder. I set the new default workspace to a subfolder in the new instance folder. In this case d:\\eclipse with d:\\eclipse\\Workspace the old one had been c:\\eclipse with a workspace of c:\\eclipse\\Workspace.","body":"When I created the new instance, it was to a new folder. I set the new default workspace to a subfolder in the new instance folder. In this case d:\\eclipse with d:\\eclipse\\Workspace the old one had been c:\\eclipse with a workspace of c:\\eclipse\\Workspace."},{"owner":{"account_id":1137241,"reputation":2389,"user_id":1122053,"accept_rate":40,"display_name":"Logan"},"score":0,"creation_date":1339177876,"post_id":10953467,"comment_id":14297527,"body_markdown":"Normally a new java project does not contain a package or java file until you add one. It should just have the empty source folder basically. So now I&#39;m wondering why it was creating a java file in the first place, unless you give it a class name in the wizard.","body":"Normally a new java project does not contain a package or java file until you add one. It should just have the empty source folder basically. So now I&#39;m wondering why it was creating a java file in the first place, unless you give it a class name in the wizard."},{"owner":{"account_id":1552914,"reputation":11,"user_id":1444889,"display_name":"user1444889"},"score":0,"creation_date":1339178201,"post_id":10953467,"comment_id":14297640,"body_markdown":"I tinkered with that. The class isn&#39;t part of the procedure I have used up until your mentioning it, so I don&#39;t know what or how that would change the outcome. I&#39;m going to go ahead and consider this issue resolved, since I have a solution now. Thanks for your help, especially with a blisteringly newbie question.","body":"I tinkered with that. The class isn&#39;t part of the procedure I have used up until your mentioning it, so I don&#39;t know what or how that would change the outcome. I&#39;m going to go ahead and consider this issue resolved, since I have a solution now. Thanks for your help, especially with a blisteringly newbie question."}],"tags":[],"owner":{"account_id":1137241,"reputation":2389,"user_id":1122053,"accept_rate":40,"display_name":"Logan"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1339178297,"creation_date":1339176812,"answer_id":10953467,"question_id":10952221,"body_markdown":"How about changing eclipse to point to a new workspace. That may drop the android settings. Under the file menu, choose switch workspace and pick a new location. Thats most likely why a new install did not fix it. That workspace may have android settings in it, so change to a new folder somewhere else to test it like c:\\workspace2\\\r\n\r\nHere&#39;s a good tutorial I found that may help too.\r\n\r\n[eclipse java project tutorial][1]\r\n\r\n\r\n  [1]: http://www.cs.umd.edu/class/spring2006/cmsc132/EclipseTutorial/project.html","title":"Eclipse not creating new .java file in New Project wizard?","body":"<p>How about changing eclipse to point to a new workspace. That may drop the android settings. Under the file menu, choose switch workspace and pick a new location. Thats most likely why a new install did not fix it. That workspace may have android settings in it, so change to a new folder somewhere else to test it like c:\\workspace2\\</p>\n\n<p>Here's a good tutorial I found that may help too.</p>\n\n<p><a href=\"http://www.cs.umd.edu/class/spring2006/cmsc132/EclipseTutorial/project.html\" rel=\"nofollow\">eclipse java project tutorial</a></p>\n"}],"owner":{"account_id":1552914,"reputation":11,"user_id":1444889,"display_name":"user1444889"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7704,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1664982501,"creation_date":1339171120,"question_id":10952221,"body_markdown":"OK, I have a really basic (read stupid) question. I am just beginning Java programming, and am using Eclipse 3.7.2. I have done a few beginning projects without any problems. All of a sudden, when I create a new project using the wizard, it is not creating the src/.java file. When I try to manually add it after creating the project, I end up getting some cryptic error messages. \r\n\r\n1. I have re-followed several walk-throughs on project creation for clues as to any option I may have accidentally un-checked and no luck. \r\n2. Googling the answer brings up results for more advanced problems that are unrelated.\r\n3. I have combed the preferences, but nothing looks obvious, and \r\n4. I have gone hunting for any user app data I could delete to force a clean slate. \r\n5. I have even created a new instance of Eclipse to a different directory and still have the same result. \r\n6. My son&#39;s instance, which is on the same computer still creates the .java file from the wizard. The only difference is that my instances have the Android SDK installed (I am trying to create basic Java projects and not Android projects). \r\n\r\nI am at a loss, and have lost a lot of time trying to correct the situation. **What do I need to do to reenable the creation of a src/.java file in Eclipse?**\r\n\r\nScreenshots (click on image for full size):\r\n\r\n[![enter image description here][1]][1a]\r\n[![enter image description here][2]][2a]\r\n\r\n  [1]: http://i.stack.imgur.com/1T1Kdm.png\r\n  [1a]: http://i.stack.imgur.com/1T1Kd.png\r\n  [2]: http://i.stack.imgur.com/XrcaQm.png\r\n  [2a]: http://i.stack.imgur.com/XrcaQ.png\r\n","title":"Eclipse not creating new .java file in New Project wizard?","body":"<p>OK, I have a really basic (read stupid) question. I am just beginning Java programming, and am using Eclipse 3.7.2. I have done a few beginning projects without any problems. All of a sudden, when I create a new project using the wizard, it is not creating the src/.java file. When I try to manually add it after creating the project, I end up getting some cryptic error messages. </p>\n\n<ol>\n<li>I have re-followed several walk-throughs on project creation for clues as to any option I may have accidentally un-checked and no luck. </li>\n<li>Googling the answer brings up results for more advanced problems that are unrelated.</li>\n<li>I have combed the preferences, but nothing looks obvious, and </li>\n<li>I have gone hunting for any user app data I could delete to force a clean slate. </li>\n<li>I have even created a new instance of Eclipse to a different directory and still have the same result. </li>\n<li>My son's instance, which is on the same computer still creates the .java file from the wizard. The only difference is that my instances have the Android SDK installed (I am trying to create basic Java projects and not Android projects). </li>\n</ol>\n\n<p>I am at a loss, and have lost a lot of time trying to correct the situation. <strong>What do I need to do to reenable the creation of a src/.java file in Eclipse?</strong></p>\n\n<p>Screenshots (click on image for full size):</p>\n\n<p><a href=\"https://i.stack.imgur.com/1T1Kd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1T1Kdm.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/XrcaQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XrcaQm.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","maven","javac"],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664982477,"creation_date":1664982168,"answer_id":73962426,"question_id":73961811,"body_markdown":"If the classes are in the package `x.y.z` then the directory that should be on your classpath needs to be `src/`, not `src/x/y/z`. The directories `x/y/z` are part of the structure that Java expects when searching for `.class` files in the package `x.y.z` and you must always point to the *base* of any directory tree containing `.class` files (i.e. so that the sub-directory matches what is expected by the package declaration).\r\n\r\nAdditionally if you want to run a class, you must specify the **class name** not a file name (i.e. `x.y.z.MainClass` and not `x/y/z/MainClass.java`). In fact `java` itself (i.e. the runtime, not the compiler) **only** cares about `.java` files when you run [single-file programs](https://www.baeldung.com/java-single-file-source-code), which is just a convenience feature for very simple code).\r\n\r\nSo `java -cp src/ x.y.z.MainClass` should run your code after `javac src\\x\\y\\z\\*.java` (the `-cp` here is wrong and unnecessary).\r\n\r\nIdeally you would never have class files under `src/` at all (since that&#39;s short for &quot;source&quot; and not &quot;binary class files&quot;):\r\n\r\nBuilds tend to put them under something like `build/out/`, `bin/` or similar, but that&#39;s not required:\r\n\r\n- `javac -d bin/ -cp bin/ src/x/y/z/*.java`\r\n- `javac -d bin/ -cp bin/ src/x/y/z/MainClass.java` (maybe, optional after changing `MainClass.java`)\r\n- `java -cp bin/ x.y.z.MainClass`\r\n\r\n","title":"javac -cp src\\x\\y\\z src]x\\y\\z\\*.java works but javac -cp src\\x\\y\\z src\\x\\y\\z\\MainClass.java fails","body":"<p>If the classes are in the package <code>x.y.z</code> then the directory that should be on your classpath needs to be <code>src/</code>, not <code>src/x/y/z</code>. The directories <code>x/y/z</code> are part of the structure that Java expects when searching for <code>.class</code> files in the package <code>x.y.z</code> and you must always point to the <em>base</em> of any directory tree containing <code>.class</code> files (i.e. so that the sub-directory matches what is expected by the package declaration).</p>\n<p>Additionally if you want to run a class, you must specify the <strong>class name</strong> not a file name (i.e. <code>x.y.z.MainClass</code> and not <code>x/y/z/MainClass.java</code>). In fact <code>java</code> itself (i.e. the runtime, not the compiler) <strong>only</strong> cares about <code>.java</code> files when you run <a href=\"https://www.baeldung.com/java-single-file-source-code\" rel=\"nofollow noreferrer\">single-file programs</a>, which is just a convenience feature for very simple code).</p>\n<p>So <code>java -cp src/ x.y.z.MainClass</code> should run your code after <code>javac src\\x\\y\\z\\*.java</code> (the <code>-cp</code> here is wrong and unnecessary).</p>\n<p>Ideally you would never have class files under <code>src/</code> at all (since that's short for &quot;source&quot; and not &quot;binary class files&quot;):</p>\n<p>Builds tend to put them under something like <code>build/out/</code>, <code>bin/</code> or similar, but that's not required:</p>\n<ul>\n<li><code>javac -d bin/ -cp bin/ src/x/y/z/*.java</code></li>\n<li><code>javac -d bin/ -cp bin/ src/x/y/z/MainClass.java</code> (maybe, optional after changing <code>MainClass.java</code>)</li>\n<li><code>java -cp bin/ x.y.z.MainClass</code></li>\n</ul>\n"}],"owner":{"account_id":25836843,"reputation":1,"user_id":19573119,"display_name":"MikeL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664982477,"creation_date":1664979620,"question_id":73961811,"body_markdown":"My java project has 4 modules in directory `project\\src\\x\\y\\z`. A compile with maven or with `javac -cp src\\x\\y\\z  src\\x\\y\\z\\*.java`  works (i.e. completes with no errors) and the timestamps indicate the class files were recreated, but \r\n`javac -cp src\\x\\y\\z  src\\x\\y\\z\\MainClass.java` fails with unable to find symbol errors where symbol is one of the other class names. \r\n\r\nAttempting to run MainClass after a successful compile fails with cannot find MainClass error. (`java -cp src\\x\\y\\z  src\\x\\y\\z\\MainClass`)\r\n\r\nEach module includes a `package x.y.z;` statement. If I move the java modules to another folder and remove the package statements compiles and execution are both successful.\r\n\r\nWhat is going on and can it be fixed? \r\n","title":"javac -cp src\\x\\y\\z src]x\\y\\z\\*.java works but javac -cp src\\x\\y\\z src\\x\\y\\z\\MainClass.java fails","body":"<p>My java project has 4 modules in directory <code>project\\src\\x\\y\\z</code>. A compile with maven or with <code>javac -cp src\\x\\y\\z  src\\x\\y\\z\\*.java</code>  works (i.e. completes with no errors) and the timestamps indicate the class files were recreated, but\n<code>javac -cp src\\x\\y\\z  src\\x\\y\\z\\MainClass.java</code> fails with unable to find symbol errors where symbol is one of the other class names.</p>\n<p>Attempting to run MainClass after a successful compile fails with cannot find MainClass error. (<code>java -cp src\\x\\y\\z  src\\x\\y\\z\\MainClass</code>)</p>\n<p>Each module includes a <code>package x.y.z;</code> statement. If I move the java modules to another folder and remove the package statements compiles and execution are both successful.</p>\n<p>What is going on and can it be fixed?</p>\n"},{"tags":["java","postgresql","jpa","eclipselink","jpa-2.0"],"comments":[{"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"score":0,"creation_date":1352734086,"post_id":13346089,"comment_id":18214191,"body_markdown":"I had issues like this before and I just ended up using a String for UUID (ie uuid.toString()) which is character varying 36.","body":"I had issues like this before and I just ended up using a String for UUID (ie uuid.toString()) which is character varying 36."}],"answers":[{"comments":[{"owner":{"account_id":888697,"reputation":6671,"user_id":927477,"accept_rate":77,"display_name":"Avner Levy"},"score":0,"creation_date":1352735155,"post_id":13346471,"comment_id":18214720,"body_markdown":"I think the problem is that the many2one handling happens before the converters are run (login phase). So when it examines the primary key of the owned entity it doesn&#39;t include the relevant type information. Any ideas?","body":"I think the problem is that the many2one handling happens before the converters are run (login phase). So when it examines the primary key of the owned entity it doesn&#39;t include the relevant type information. Any ideas?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1352736148,"post_id":13346471,"comment_id":18215229,"body_markdown":"Basics and converters are processed first to resolve IDs before relationships.  You can verify though with breakpoints, but I&#39;d try James&#39; suggestion first.","body":"Basics and converters are processed first to resolve IDs before relationships.  You can verify though with breakpoints, but I&#39;d try James&#39; suggestion first."},{"owner":{"account_id":888697,"reputation":6671,"user_id":927477,"accept_rate":77,"display_name":"Avner Levy"},"score":0,"creation_date":1352737421,"post_id":13346471,"comment_id":18215825,"body_markdown":"I&#39;ve tried it and it didn&#39;t help. From debugging the code it looks like the converter is running long after the relationships were handled (MetadataProject::processStage3). Other ideas?","body":"I&#39;ve tried it and it didn&#39;t help. From debugging the code it looks like the converter is running long after the relationships were handled (MetadataProject::processStage3). Other ideas?"}],"tags":[],"owner":{"account_id":181890,"reputation":17919,"user_id":416206,"accept_rate":40,"display_name":"James"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1352733959,"creation_date":1352733959,"answer_id":13346471,"question_id":13346089,"body_markdown":"Try checking what the fieldClassification of the mapping is in the initialize method.  It might be getting String.class somehow, try setting it to Object.class.\r\n\r\nor, field.setType(Object.class)\r\n","title":"Using UUID with EclipseLink and PostgreSQL","body":"<p>Try checking what the fieldClassification of the mapping is in the initialize method.  It might be getting String.class somehow, try setting it to Object.class.</p>\n\n<p>or, field.setType(Object.class)</p>\n"},{"comments":[{"owner":{"account_id":154180,"reputation":7191,"user_id":369930,"accept_rate":91,"display_name":"markdsievers"},"score":0,"creation_date":1385416020,"post_id":15084881,"comment_id":30124954,"body_markdown":"With EclipseLink 2.4, this didn&#39;t quite work. Altering it to `        field.setSqlType(Types.OTHER);\nfield.setType(UUID.class);\nfield.setColumnDefinition(&quot;uuid&quot;);` did the trick.","body":"With EclipseLink 2.4, this didn&#39;t quite work. Altering it to `        field.setSqlType(Types.OTHER); field.setType(UUID.class); field.setColumnDefinition(&quot;uuid&quot;);` did the trick."},{"owner":{"account_id":348893,"reputation":532,"user_id":683860,"accept_rate":0,"display_name":"Royce"},"score":0,"creation_date":1452039440,"post_id":15084881,"comment_id":56992809,"body_markdown":"WARNING: The code above is unsafe, the loop over the mappings modifies the field mappings of all fields involved in OneToOne mappings from the entity with a UUID on it -- it should only touch the fields which involve the UUID.  Using the code above you&#39;ll see stuff like this: https://www.eclipse.org/forums/index.php?t=msg&amp;th=1072304&amp;goto=1715193&amp;#msg_1715193","body":"WARNING: The code above is unsafe, the loop over the mappings modifies the field mappings of all fields involved in OneToOne mappings from the entity with a UUID on it -- it should only touch the fields which involve the UUID.  Using the code above you&#39;ll see stuff like this: <a href=\"https://www.eclipse.org/forums/index.php?t=msg&amp;th=1072304&amp;goto=1715193&amp;#msg_1715193\" rel=\"nofollow noreferrer\">eclipse.org/forums/&hellip;</a>"}],"tags":[],"owner":{"account_id":2416483,"reputation":44,"user_id":2110385,"display_name":"TR4NQUILLITY"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1361880764,"creation_date":1361868862,"answer_id":15084881,"question_id":13346089,"body_markdown":"I had the same issue with EclipseLink JPA + Postgresql + UUID as primary key.\r\n\r\nTo solve it, I&#39;ve merged codes from Github and below link:\r\nhttps://forums.oracle.com/forums/thread.jspa?messageID=4584157\r\n\r\nThe below code for UUIDConverter worked for me, though the code surely isn&#39;t the best.\r\n\r\n\tpublic void initialize(DatabaseMapping ARGMapping, Session ARGSession)\r\n\t{\r\n\t\tfinal DatabaseField Field;\r\n\t\tif (ARGMapping instanceof DirectCollectionMapping)\r\n\t\t{\r\n\t\t\tField = ((DirectCollectionMapping) ARGMapping).getDirectField();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tField = ARGMapping.getField();\r\n\t\t}\r\n\t\tField.setSqlType(Types.OTHER);\r\n\t\tField.setTypeName(&quot;uuid&quot;);\r\n\t\tField.setColumnDefinition(&quot;UUID&quot;);\r\n\r\n\t\tfor (DatabaseMapping m : ARGMapping.getDescriptor().getMappings())\r\n\t\t{\r\n\t\t\tassert OneToOneMapping.class.isAssignableFrom(ManyToOneMapping.class);\r\n\t\t\tif (m instanceof OneToOneMapping)\r\n\t\t\t{\r\n\t\t\t\tfor (DatabaseField field : ((OneToOneMapping) m).getForeignKeyFields())\r\n\t\t\t\t{\r\n\t\t\t\t\tfield.setSqlType(Types.OTHER);\r\n\t\t\t\t\tfield.setColumnDefinition(&quot;UUID&quot;);\r\n\t\t\t\t\tfield.setTypeName(&quot;uuid&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Using UUID with EclipseLink and PostgreSQL","body":"<p>I had the same issue with EclipseLink JPA + Postgresql + UUID as primary key.</p>\n\n<p>To solve it, I've merged codes from Github and below link:\n<a href=\"https://forums.oracle.com/forums/thread.jspa?messageID=4584157\" rel=\"nofollow\">https://forums.oracle.com/forums/thread.jspa?messageID=4584157</a></p>\n\n<p>The below code for UUIDConverter worked for me, though the code surely isn't the best.</p>\n\n<pre><code>public void initialize(DatabaseMapping ARGMapping, Session ARGSession)\n{\n    final DatabaseField Field;\n    if (ARGMapping instanceof DirectCollectionMapping)\n    {\n        Field = ((DirectCollectionMapping) ARGMapping).getDirectField();\n    }\n    else\n    {\n        Field = ARGMapping.getField();\n    }\n    Field.setSqlType(Types.OTHER);\n    Field.setTypeName(\"uuid\");\n    Field.setColumnDefinition(\"UUID\");\n\n    for (DatabaseMapping m : ARGMapping.getDescriptor().getMappings())\n    {\n        assert OneToOneMapping.class.isAssignableFrom(ManyToOneMapping.class);\n        if (m instanceof OneToOneMapping)\n        {\n            for (DatabaseField field : ((OneToOneMapping) m).getForeignKeyFields())\n            {\n                field.setSqlType(Types.OTHER);\n                field.setColumnDefinition(\"UUID\");\n                field.setTypeName(\"uuid\");\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":50355,"reputation":1950,"user_id":150195,"accept_rate":50,"display_name":"Davide Ungari"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1418483702,"creation_date":1418483702,"answer_id":27460324,"question_id":13346089,"body_markdown":"I had some issues with EclipseLink JPA 2.1 + Postgresql + UUID as primary key but I find out different solution. I adopted AttributeConverter but I faced a problem with EclipseLink implementation that I resolved with this code:\r\n\r\n    @javax.persistence.Converter(autoApply = true)\r\n    public class PostgresUuidConverter implements AttributeConverter&lt;UUID, Object&gt; {        \r\n\r\n        @Override\r\n        public Object convertToDatabaseColumn(UUID uuid) {\r\n            PostgresUuid object = new PostgresUuid();\r\n            object.setType(&quot;uuid&quot;);\r\n            try {\r\n                if (uuid == null) {\r\n                    object.setValue(null);\r\n                } else {\r\n                    object.setValue(uuid.toString());\r\n                }\r\n            } catch (SQLException e) {\r\n                throw new IllegalArgumentException(&quot;Error when creating Postgres uuid&quot;, e);\r\n            }\r\n            return object;\r\n        }\r\n\r\n        @Override\r\n        public UUID convertToEntityAttribute(Object dbData) {\r\n            if (dbData instanceof String) {\r\n                return UUID.fromString(dbData.toString());\r\n            } else {    \r\n                return (UUID) dbData;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n    public class PostgresUuid extends PGobject implements Comparable&lt;Object&gt; {\r\n\r\n        private static final long serialVersionUID = 1L;\r\n\r\n        @Override\r\n        public int compareTo(Object arg0) {\r\n            return 0;\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\nAs I exaplined in detail in this post http://blog-ungarida.rhcloud.com/persisting-uuid-in-postgresql-using-jpa-eclipselink/\r\n\r\n ","title":"Using UUID with EclipseLink and PostgreSQL","body":"<p>I had some issues with EclipseLink JPA 2.1 + Postgresql + UUID as primary key but I find out different solution. I adopted AttributeConverter but I faced a problem with EclipseLink implementation that I resolved with this code:</p>\n\n<pre><code>@javax.persistence.Converter(autoApply = true)\npublic class PostgresUuidConverter implements AttributeConverter&lt;UUID, Object&gt; {        \n\n    @Override\n    public Object convertToDatabaseColumn(UUID uuid) {\n        PostgresUuid object = new PostgresUuid();\n        object.setType(\"uuid\");\n        try {\n            if (uuid == null) {\n                object.setValue(null);\n            } else {\n                object.setValue(uuid.toString());\n            }\n        } catch (SQLException e) {\n            throw new IllegalArgumentException(\"Error when creating Postgres uuid\", e);\n        }\n        return object;\n    }\n\n    @Override\n    public UUID convertToEntityAttribute(Object dbData) {\n        if (dbData instanceof String) {\n            return UUID.fromString(dbData.toString());\n        } else {    \n            return (UUID) dbData;\n        }\n    }\n\n}\n\n\npublic class PostgresUuid extends PGobject implements Comparable&lt;Object&gt; {\n\n    private static final long serialVersionUID = 1L;\n\n    @Override\n    public int compareTo(Object arg0) {\n        return 0;\n    }\n\n}\n</code></pre>\n\n<p>As I exaplined in detail in this post <a href=\"http://blog-ungarida.rhcloud.com/persisting-uuid-in-postgresql-using-jpa-eclipselink/\" rel=\"nofollow\">http://blog-ungarida.rhcloud.com/persisting-uuid-in-postgresql-using-jpa-eclipselink/</a></p>\n"},{"tags":[],"owner":{"account_id":12228960,"reputation":1,"user_id":8925650,"display_name":"Антон Афанасьев"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512572088,"creation_date":1510432618,"answer_id":47242554,"question_id":13346089,"body_markdown":"Universal UUIDConverter for EclipseLink (not only PostgreSQL)\r\n\r\n**Code:**\r\n    \r\n    import java.nio.ByteBuffer;\r\n    import java.util.UUID;\r\n    \r\n    import org.eclipse.persistence.internal.helper.DatabaseField;\r\n    import org.eclipse.persistence.mappings.DatabaseMapping;\r\n    import org.eclipse.persistence.mappings.DirectCollectionMapping;\r\n    import org.eclipse.persistence.mappings.converters.Converter;\r\n    import org.eclipse.persistence.sessions.Session;\r\n    \r\n    public class UUIDConverter implements Converter {\r\n    \r\n        private Boolean isUUIDasByteArray = true;\r\n    \r\n        @Override\r\n        public Object convertObjectValueToDataValue(Object objectValue,\r\n                                                    Session session) {\r\n            if (isUUIDasByteArray) {\r\n                UUID uuid = (UUID)objectValue;\r\n                if (uuid == null) return null;\r\n                byte[] buffer = new byte[16];\r\n                ByteBuffer bb = ByteBuffer.wrap(buffer);\r\n                bb.putLong(uuid.getMostSignificantBits());\r\n                bb.putLong(uuid.getLeastSignificantBits());\r\n                return buffer;\r\n            }\r\n            return objectValue;\r\n        }\r\n    \r\n        @Override\r\n        public UUID convertDataValueToObjectValue(Object dataValue,\r\n                                                  Session session) {\r\n            if (isUUIDasByteArray) {\r\n                byte[] bytes = (byte[])dataValue;\r\n                if (bytes == null) return null;\r\n                ByteBuffer bb = ByteBuffer.wrap(bytes);\r\n                long high = bb.getLong();\r\n                long low = bb.getLong();\r\n                return new UUID(high, low);\r\n            }\r\n            return (UUID) dataValue;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isMutable() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public void initialize(DatabaseMapping mapping, Session session) {\r\n            final DatabaseField field;\r\n            if (mapping instanceof DirectCollectionMapping) {\r\n                // handle @ElementCollection...\r\n                field = ((DirectCollectionMapping) mapping).getDirectField();\r\n            } else {\r\n                field = mapping.getField();\r\n            }\r\n    \r\n            if (session != null &amp;&amp; session.getLogin()!= null &amp;&amp; session.getLogin().getPlatform() != null) {\r\n                String platform = session.getLogin().getPlatform().getClass().getSimpleName();\r\n    \r\n                if (platform.equals(&quot;PostgreSQLPlatform&quot;)) {\r\n                    field.setSqlType(java.sql.Types.OTHER);\r\n                    field.setTypeName(&quot;java.util.UUID&quot;);\r\n                    field.setColumnDefinition(&quot;UUID&quot;);\r\n                    isUUIDasByteArray = false;\r\n                } else if (platform.equals(&quot;H2Platform&quot;)) {\r\n                    field.setColumnDefinition(&quot;UUID&quot;);\r\n                } else if (platform.equals(&quot;OraclePlatform&quot;)) {\r\n                    field.setColumnDefinition(&quot;RAW(16)&quot;);\r\n                } else if (platform.equals(&quot;MySQLPlatform&quot;)) {\r\n                    field.setColumnDefinition(&quot;BINARY(16)&quot;);\r\n                } else if (platform.equals(&quot;SQLServerPlatform&quot;)) {\r\n                    field.setColumnDefinition(&quot;UNIQUEIDENTIFIER&quot;);\r\n                }\r\n            }\r\n    \r\n        }\r\n    }","title":"Using UUID with EclipseLink and PostgreSQL","body":"<p>Universal UUIDConverter for EclipseLink (not only PostgreSQL)</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>import java.nio.ByteBuffer;\nimport java.util.UUID;\n\nimport org.eclipse.persistence.internal.helper.DatabaseField;\nimport org.eclipse.persistence.mappings.DatabaseMapping;\nimport org.eclipse.persistence.mappings.DirectCollectionMapping;\nimport org.eclipse.persistence.mappings.converters.Converter;\nimport org.eclipse.persistence.sessions.Session;\n\npublic class UUIDConverter implements Converter {\n\n    private Boolean isUUIDasByteArray = true;\n\n    @Override\n    public Object convertObjectValueToDataValue(Object objectValue,\n                                                Session session) {\n        if (isUUIDasByteArray) {\n            UUID uuid = (UUID)objectValue;\n            if (uuid == null) return null;\n            byte[] buffer = new byte[16];\n            ByteBuffer bb = ByteBuffer.wrap(buffer);\n            bb.putLong(uuid.getMostSignificantBits());\n            bb.putLong(uuid.getLeastSignificantBits());\n            return buffer;\n        }\n        return objectValue;\n    }\n\n    @Override\n    public UUID convertDataValueToObjectValue(Object dataValue,\n                                              Session session) {\n        if (isUUIDasByteArray) {\n            byte[] bytes = (byte[])dataValue;\n            if (bytes == null) return null;\n            ByteBuffer bb = ByteBuffer.wrap(bytes);\n            long high = bb.getLong();\n            long low = bb.getLong();\n            return new UUID(high, low);\n        }\n        return (UUID) dataValue;\n    }\n\n    @Override\n    public boolean isMutable() {\n        return true;\n    }\n\n    @Override\n    public void initialize(DatabaseMapping mapping, Session session) {\n        final DatabaseField field;\n        if (mapping instanceof DirectCollectionMapping) {\n            // handle @ElementCollection...\n            field = ((DirectCollectionMapping) mapping).getDirectField();\n        } else {\n            field = mapping.getField();\n        }\n\n        if (session != null &amp;&amp; session.getLogin()!= null &amp;&amp; session.getLogin().getPlatform() != null) {\n            String platform = session.getLogin().getPlatform().getClass().getSimpleName();\n\n            if (platform.equals(\"PostgreSQLPlatform\")) {\n                field.setSqlType(java.sql.Types.OTHER);\n                field.setTypeName(\"java.util.UUID\");\n                field.setColumnDefinition(\"UUID\");\n                isUUIDasByteArray = false;\n            } else if (platform.equals(\"H2Platform\")) {\n                field.setColumnDefinition(\"UUID\");\n            } else if (platform.equals(\"OraclePlatform\")) {\n                field.setColumnDefinition(\"RAW(16)\");\n            } else if (platform.equals(\"MySQLPlatform\")) {\n                field.setColumnDefinition(\"BINARY(16)\");\n            } else if (platform.equals(\"SQLServerPlatform\")) {\n                field.setColumnDefinition(\"UNIQUEIDENTIFIER\");\n            }\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4240179,"reputation":247,"user_id":3470293,"display_name":"Rajesh Guptan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519772076,"creation_date":1519772076,"answer_id":49019271,"question_id":13346089,"body_markdown":"You don&#39;t need a converted. Use this column definition in the entity. You need to register the uuid extension first. This works with Postgres 10 and Wildfly 10.1\r\n\r\n    @Column(name = &quot;UUID&quot;, nullable=false, insertable = false, columnDefinition=&quot;uuid DEFAULT uuid_generate_v4()&quot;)\r\n\tprivate String uuid;\r\n","title":"Using UUID with EclipseLink and PostgreSQL","body":"<p>You don't need a converted. Use this column definition in the entity. You need to register the uuid extension first. This works with Postgres 10 and Wildfly 10.1</p>\n\n<pre><code>@Column(name = \"UUID\", nullable=false, insertable = false, columnDefinition=\"uuid DEFAULT uuid_generate_v4()\")\nprivate String uuid;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3484078,"reputation":2533,"user_id":2915423,"display_name":"helvete"},"score":1,"creation_date":1664988351,"post_id":61291101,"comment_id":130595957,"body_markdown":"This seems to be the only solution that works for postgres, eclipselink JPA under Payara 5.2021.10. Thanks!","body":"This seems to be the only solution that works for postgres, eclipselink JPA under Payara 5.2021.10. Thanks!"}],"tags":[],"owner":{"account_id":1354077,"reputation":98666,"user_id":1292848,"accept_rate":50,"display_name":"Paul LeBeau"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587221391,"creation_date":1587221391,"answer_id":61291101,"question_id":13346089,"body_markdown":"It seems there is a bug/incompatibility between EclipseLink and PostgresQL.  If you just use UUID for primary keys you should be okay.  But if you have a nullable UUID column, and you try to store null in it, you will get the reported error:\r\n\r\n    column &quot;whatever&quot; is of type uuid but expression is of type character varying\r\n\r\nSee: https://bugs.eclipse.org/bugs/show_bug.cgi?id=538138 (log in and vote for it if you have the time!)\r\n\r\nThat bug report proved very useful to me. Specifically the link to the forum thread at:\r\n\r\nhttps://www.eclipse.org/forums/index.php?t=msg&amp;th=1073632&amp;goto=1719530&amp;#msg_1719530\r\n\r\nI tried all sorts of solutions from here on SO, and elsewhere on the web. The only one that seemed to work for me was the one posted by David Wheeler there. Specifically, creating a cast from `character varying` to `uuid` in the database.\r\n\r\nNote that you have to be user postgres to create the cast:\r\n\r\n    $ sudo su - postgres\r\n    $ psql &lt;your database name&gt;\r\n\r\n    # drop cast if exists (character varying as uuid);\r\n    # create or replace function uuid(_text character varying) returns uuid language sql as &#39;select uuid_in(_text::cstring)&#39;;\r\n    # create cast (character varying as uuid) with function uuid(character varying) as assignment;\r\n\r\n---\r\n\r\nFor completeness here is the rest of what I use (in case it helps)\r\n\r\nAll my entities (that have a UUID primary key) extend a base class called `EntityBase`:\r\n\r\n````\r\npackage com.example.entity;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.UUID;\r\n\r\nimport javax.persistence.Id;\r\nimport javax.persistence.MappedSuperclass;\r\n\r\nimport org.eclipse.persistence.annotations.Convert;\r\nimport org.eclipse.persistence.annotations.Converter;\r\n\r\nimport com.example.converter.UUIDTypeConverter;\r\n\r\n@MappedSuperclass\r\n@Converter(name=&quot;uuidConverter&quot;, converterClass=UUIDTypeConverter.class)\r\npublic class EntityBase implements Serializable, Cloneable\r\n{\r\n   private static final long serialVersionUID = 1L;\r\n\r\n   @Id\r\n   @Convert(&quot;uuidConverter&quot;)\r\n   private UUID  id;\r\n\r\n\r\n   public EntityBase() {\r\n      this.id = UUID.randomUUID();\r\n   }\r\n\r\n   @Override\r\n   public int hashCode() {\r\n      return id.hashCode();\r\n   }\r\n\r\n   @Override\r\n   public boolean equals(Object obj) {\r\n      if (this == obj)\r\n         return true;\r\n      if (obj == null)\r\n         return false;\r\n      if (!(obj instanceof EntityBase)) {\r\n         return false;\r\n      }\r\n      EntityBase other = (EntityBase) obj;\r\n      return getId().equals(other.getId());\r\n   }\r\n\r\n   public UUID getId()\r\n   {\r\n      return this.id;\r\n   }\r\n\r\n   public void setId(UUID id)\r\n   {\r\n      this.id = id;\r\n   }\r\n}\r\n````\r\n\r\nThe UUID converter class looks like this:\r\n\r\n````\r\npackage com.example.converter;\r\n\r\nimport java.sql.Types;\r\nimport java.util.UUID;\r\n\r\nimport org.eclipse.persistence.internal.helper.DatabaseField;\r\nimport org.eclipse.persistence.mappings.DatabaseMapping;\r\nimport org.eclipse.persistence.mappings.converters.Converter;\r\nimport org.eclipse.persistence.sessions.Session;\r\n\r\n\r\npublic class UUIDTypeConverter implements Converter\r\n{\r\n   @Override\r\n   public UUID convertObjectValueToDataValue(Object objectValue, Session session)\r\n   {\r\n      return (UUID) objectValue;\r\n   }\r\n\r\n\r\n   @Override\r\n   public UUID convertDataValueToObjectValue(Object dataValue, Session session)\r\n   {\r\n      return (UUID) dataValue;\r\n   }\r\n\r\n\r\n   @Override\r\n   public boolean isMutable()\r\n   {\r\n      return true;\r\n   }\r\n\r\n\r\n   @Override\r\n   public void initialize(DatabaseMapping mapping, Session session)\r\n   {\r\n      DatabaseField field = mapping.getField();\r\n      field.setSqlType(Types.OTHER);\r\n      field.setTypeName(&quot;java.util.UUID&quot;);\r\n      field.setColumnDefinition(&quot;UUID&quot;);\r\n   }\r\n}\r\n````\r\n\r\nIf you have entities that have UUID columns that are not primary keys, you can annotate them as follows:\r\n\r\n````\r\nimport org.eclipse.persistence.annotations.Convert\r\nimport org.eclipse.persistence.annotations.Converter;\r\n\r\n@Entity\r\n@Converter(name=&quot;uuidConverter&quot;, converterClass=UUIDTypeConverter.class)\r\npublic class BillingEvent extends EntityBase\r\n{\r\n   \r\n   @Convert(&quot;uuidConverter&quot;)\r\n   private UUID  entityId;\r\n\r\n}\r\n````\r\n\r\nNote that if that entity has other columns that use the standard `javax.persistence.convert` annotation, you&#39;ll need to differentiate the two `Convert` annotations to avoid a compile error.\r\n\r\nFor example:\r\n\r\n````\r\nimport javax.persistence.Convert;\r\nimport org.eclipse.persistence.annotations.Converter;\r\n\r\n@Entity\r\n@Converter(name=&quot;uuidConverter&quot;, converterClass=UUIDTypeConverter.class)\r\npublic class BillingEvent extends EntityBase\r\n{\r\n   \r\n   @org.eclipse.persistence.annotations.Convert(&quot;uuidConverter&quot;)\r\n   private UUID  entityId;\r\n\r\n   @Convert(converter = JSR310InstantTypeConverter.class)\r\n   private Instant     createdOn;\r\n}\r\n````\r\n\r\nI hope this saves others some time.  Good luck!\r\n","title":"Using UUID with EclipseLink and PostgreSQL","body":"<p>It seems there is a bug/incompatibility between EclipseLink and PostgresQL.  If you just use UUID for primary keys you should be okay.  But if you have a nullable UUID column, and you try to store null in it, you will get the reported error:</p>\n\n<pre><code>column \"whatever\" is of type uuid but expression is of type character varying\n</code></pre>\n\n<p>See: <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=538138\" rel=\"nofollow noreferrer\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=538138</a> (log in and vote for it if you have the time!)</p>\n\n<p>That bug report proved very useful to me. Specifically the link to the forum thread at:</p>\n\n<p><a href=\"https://www.eclipse.org/forums/index.php?t=msg&amp;th=1073632&amp;goto=1719530&amp;#msg_1719530\" rel=\"nofollow noreferrer\">https://www.eclipse.org/forums/index.php?t=msg&amp;th=1073632&amp;goto=1719530&amp;#msg_1719530</a></p>\n\n<p>I tried all sorts of solutions from here on SO, and elsewhere on the web. The only one that seemed to work for me was the one posted by David Wheeler there. Specifically, creating a cast from <code>character varying</code> to <code>uuid</code> in the database.</p>\n\n<p>Note that you have to be user postgres to create the cast:</p>\n\n<pre><code>$ sudo su - postgres\n$ psql &lt;your database name&gt;\n\n# drop cast if exists (character varying as uuid);\n# create or replace function uuid(_text character varying) returns uuid language sql as 'select uuid_in(_text::cstring)';\n# create cast (character varying as uuid) with function uuid(character varying) as assignment;\n</code></pre>\n\n<hr>\n\n<p>For completeness here is the rest of what I use (in case it helps)</p>\n\n<p>All my entities (that have a UUID primary key) extend a base class called <code>EntityBase</code>:</p>\n\n<pre><code>package com.example.entity;\n\nimport java.io.Serializable;\nimport java.util.UUID;\n\nimport javax.persistence.Id;\nimport javax.persistence.MappedSuperclass;\n\nimport org.eclipse.persistence.annotations.Convert;\nimport org.eclipse.persistence.annotations.Converter;\n\nimport com.example.converter.UUIDTypeConverter;\n\n@MappedSuperclass\n@Converter(name=\"uuidConverter\", converterClass=UUIDTypeConverter.class)\npublic class EntityBase implements Serializable, Cloneable\n{\n   private static final long serialVersionUID = 1L;\n\n   @Id\n   @Convert(\"uuidConverter\")\n   private UUID  id;\n\n\n   public EntityBase() {\n      this.id = UUID.randomUUID();\n   }\n\n   @Override\n   public int hashCode() {\n      return id.hashCode();\n   }\n\n   @Override\n   public boolean equals(Object obj) {\n      if (this == obj)\n         return true;\n      if (obj == null)\n         return false;\n      if (!(obj instanceof EntityBase)) {\n         return false;\n      }\n      EntityBase other = (EntityBase) obj;\n      return getId().equals(other.getId());\n   }\n\n   public UUID getId()\n   {\n      return this.id;\n   }\n\n   public void setId(UUID id)\n   {\n      this.id = id;\n   }\n}\n</code></pre>\n\n<p>The UUID converter class looks like this:</p>\n\n<pre><code>package com.example.converter;\n\nimport java.sql.Types;\nimport java.util.UUID;\n\nimport org.eclipse.persistence.internal.helper.DatabaseField;\nimport org.eclipse.persistence.mappings.DatabaseMapping;\nimport org.eclipse.persistence.mappings.converters.Converter;\nimport org.eclipse.persistence.sessions.Session;\n\n\npublic class UUIDTypeConverter implements Converter\n{\n   @Override\n   public UUID convertObjectValueToDataValue(Object objectValue, Session session)\n   {\n      return (UUID) objectValue;\n   }\n\n\n   @Override\n   public UUID convertDataValueToObjectValue(Object dataValue, Session session)\n   {\n      return (UUID) dataValue;\n   }\n\n\n   @Override\n   public boolean isMutable()\n   {\n      return true;\n   }\n\n\n   @Override\n   public void initialize(DatabaseMapping mapping, Session session)\n   {\n      DatabaseField field = mapping.getField();\n      field.setSqlType(Types.OTHER);\n      field.setTypeName(\"java.util.UUID\");\n      field.setColumnDefinition(\"UUID\");\n   }\n}\n</code></pre>\n\n<p>If you have entities that have UUID columns that are not primary keys, you can annotate them as follows:</p>\n\n<pre><code>import org.eclipse.persistence.annotations.Convert\nimport org.eclipse.persistence.annotations.Converter;\n\n@Entity\n@Converter(name=\"uuidConverter\", converterClass=UUIDTypeConverter.class)\npublic class BillingEvent extends EntityBase\n{\n\n   @Convert(\"uuidConverter\")\n   private UUID  entityId;\n\n}\n</code></pre>\n\n<p>Note that if that entity has other columns that use the standard <code>javax.persistence.convert</code> annotation, you'll need to differentiate the two <code>Convert</code> annotations to avoid a compile error.</p>\n\n<p>For example:</p>\n\n<pre><code>import javax.persistence.Convert;\nimport org.eclipse.persistence.annotations.Converter;\n\n@Entity\n@Converter(name=\"uuidConverter\", converterClass=UUIDTypeConverter.class)\npublic class BillingEvent extends EntityBase\n{\n\n   @org.eclipse.persistence.annotations.Convert(\"uuidConverter\")\n   private UUID  entityId;\n\n   @Convert(converter = JSR310InstantTypeConverter.class)\n   private Instant     createdOn;\n}\n</code></pre>\n\n<p>I hope this saves others some time.  Good luck!</p>\n"}],"owner":{"account_id":888697,"reputation":6671,"user_id":927477,"accept_rate":77,"display_name":"Avner Levy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6144,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":15084881,"answer_count":6,"score":4,"last_activity_date":1664982392,"creation_date":1352732678,"question_id":13346089,"body_markdown":"I want to use the PostgreSQL uuid type for objects&#39; primary keys.\r\nFor that I&#39;ve created a converter (implementing the Converter interface).\r\nBellow is the relevant code:  \r\n\r\n        @Override\r\n        public void initialize(DatabaseMapping mapping, Session session) {\r\n            final DatabaseField field;\r\n            if (mapping instanceof DirectCollectionMapping) {\r\n                field = ((DirectCollectionMapping) mapping).getDirectField();\r\n            } else {\r\n                field = mapping.getField();\r\n            }\r\n\r\n            field.setSqlType(Types.OTHER);\r\n            field.setTypeName(&quot;uuid&quot;);\r\n            field.setColumnDefinition(&quot;UUID&quot;);\r\n        }\r\n\r\nThen I&#39;ve annotated the relevant entity X with the bellow annotations:  \r\n\r\n    @Converter(name=&quot;uuidConverter&quot;,converterCalss=UUIDConverter.class)\r\n    @Convert(&quot;uuidConverter&quot;)\r\n    @Id\r\n    public UUID getId()\r\n    {\r\n        return id;\r\n    }\r\n\r\nThe problem is that I have another class (Y) which has the following definition:\r\n\r\n    @ManyToOne(targetEntity = X.class)\r\n    @JoinColumn(name = &quot;x_id&quot;)\r\n    public X getX();\r\n\r\nAlthough EclipseLink created the tables as expected it sends a string to the database when trying to insert objects of type Y.\r\nPostgres returns the following error message:\r\n\r\n    column &quot;id&quot; is of type uuid but expression is of type character varying at character\r\n\r\nAny solutions / work around will be appreciated.","title":"Using UUID with EclipseLink and PostgreSQL","body":"<p>I want to use the PostgreSQL uuid type for objects' primary keys.\nFor that I've created a converter (implementing the Converter interface).\nBellow is the relevant code:  </p>\n\n<pre><code>    @Override\n    public void initialize(DatabaseMapping mapping, Session session) {\n        final DatabaseField field;\n        if (mapping instanceof DirectCollectionMapping) {\n            field = ((DirectCollectionMapping) mapping).getDirectField();\n        } else {\n            field = mapping.getField();\n        }\n\n        field.setSqlType(Types.OTHER);\n        field.setTypeName(\"uuid\");\n        field.setColumnDefinition(\"UUID\");\n    }\n</code></pre>\n\n<p>Then I've annotated the relevant entity X with the bellow annotations:  </p>\n\n<pre><code>@Converter(name=\"uuidConverter\",converterCalss=UUIDConverter.class)\n@Convert(\"uuidConverter\")\n@Id\npublic UUID getId()\n{\n    return id;\n}\n</code></pre>\n\n<p>The problem is that I have another class (Y) which has the following definition:</p>\n\n<pre><code>@ManyToOne(targetEntity = X.class)\n@JoinColumn(name = \"x_id\")\npublic X getX();\n</code></pre>\n\n<p>Although EclipseLink created the tables as expected it sends a string to the database when trying to insert objects of type Y.\nPostgres returns the following error message:</p>\n\n<pre><code>column \"id\" is of type uuid but expression is of type character varying at character\n</code></pre>\n\n<p>Any solutions / work around will be appreciated.</p>\n"},{"tags":["java","c#","websocket"],"comments":[{"owner":{"account_id":8238102,"reputation":20388,"user_id":6196568,"display_name":"shingo"},"score":0,"creation_date":1664978091,"post_id":73961336,"comment_id":130592059,"body_markdown":"So what data you received on the server at the second time.","body":"So what data you received on the server at the second time."},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1664978279,"post_id":73961336,"comment_id":130592145,"body_markdown":"In `ReadUTF` you have `if (4 == bytesRec)`. Can you add `else` branch and log if `else` branch is executed.","body":"In <code>ReadUTF</code> you have <code>if (4 == bytesRec)</code>. Can you add <code>else</code> branch and log if <code>else</code> branch is executed."},{"owner":{"account_id":15670989,"reputation":61,"user_id":11819480,"display_name":"Mark Hurden"},"score":0,"creation_date":1664978702,"post_id":73961336,"comment_id":130592316,"body_markdown":"@talex Yes, the second time it go to the `else` block, but I still don&#39;t understand why and how to fix it","body":"@talex Yes, the second time it go to the <code>else</code> block, but I still don&#39;t understand why and how to fix it"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1664981893,"post_id":73961336,"comment_id":130593644,"body_markdown":"It happens because you read before you write. You need on more loop. I&#39;ll try to give you fix, but I&#39;m little rusty with C#","body":"It happens because you read before you write. You need on more loop. I&#39;ll try to give you fix, but I&#39;m little rusty with C#"}],"answers":[{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664982385,"creation_date":1664982385,"answer_id":73962478,"question_id":73961336,"body_markdown":"You need to change your `ReadUTF` method on server\r\n\r\n        async Task&lt;string&gt; ReadUTF()\r\n        {\r\n            byte[] buf = new byte[4];\r\n            int totalBytesRec = 0;\r\n            do\r\n            {\r\n               byte[] tmp= new byte[1];\r\n               int bytesRec = await socketClient.ReceiveAsync(tmp, SocketFlags.None);\r\n               if(bytesRec&gt;0){\r\n                  buff[totalBytesRec++]=tmp[0];\r\n               }\r\n            } while (4 == totalBytesRec);\r\n            totalBytesRec = 0;\r\n            StringBuilder builder = new StringBuilder();\r\n            int len = ReverseInt(buf);\r\n            buf = new byte[len];\r\n            do\r\n            {\r\n                bytesRec = await socketClient.ReceiveAsync(buf, SocketFlags.None);\r\n                totalBytesRec += bytesRec;\r\n                builder.Append(Encoding.UTF8.GetString(buf, 0, bytesRec));\r\n            } while (totalBytesRec &lt; len &amp;&amp; bytesRec &gt; 0);\r\n            \r\n\r\n            string result = builder.ToString();\r\n            Console.WriteLine($&quot;[+] Read : {result}&quot;);\r\n            return result;\r\n        }","title":"Socket server doesn&#39;t read data a second time","body":"<p>You need to change your <code>ReadUTF</code> method on server</p>\n<pre><code>    async Task&lt;string&gt; ReadUTF()\n    {\n        byte[] buf = new byte[4];\n        int totalBytesRec = 0;\n        do\n        {\n           byte[] tmp= new byte[1];\n           int bytesRec = await socketClient.ReceiveAsync(tmp, SocketFlags.None);\n           if(bytesRec&gt;0){\n              buff[totalBytesRec++]=tmp[0];\n           }\n        } while (4 == totalBytesRec);\n        totalBytesRec = 0;\n        StringBuilder builder = new StringBuilder();\n        int len = ReverseInt(buf);\n        buf = new byte[len];\n        do\n        {\n            bytesRec = await socketClient.ReceiveAsync(buf, SocketFlags.None);\n            totalBytesRec += bytesRec;\n            builder.Append(Encoding.UTF8.GetString(buf, 0, bytesRec));\n        } while (totalBytesRec &lt; len &amp;&amp; bytesRec &gt; 0);\n        \n\n        string result = builder.ToString();\n        Console.WriteLine($&quot;[+] Read : {result}&quot;);\n        return result;\n    }\n</code></pre>\n"}],"owner":{"account_id":15670989,"reputation":61,"user_id":11819480,"display_name":"Mark Hurden"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73962478,"answer_count":1,"score":0,"last_activity_date":1664982385,"creation_date":1664977521,"question_id":73961336,"body_markdown":"I am trying to create an asynchronous socket server with using c#\r\n\r\nThe client socket is written in Java\r\n\r\nThe problem is that when the client connects to the server for the second time, it cannot read the   message from client\r\n\r\nI also noticed that this happens when I try to send data to the server specifically from the `getKey()` function\r\n\r\nThe result of the first and second connections:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n\r\nserver code:\r\n\r\n```\r\npublic class SocketServer : BackgroundService\r\n{\r\n    protected override async Task ExecuteAsync(CancellationToken stoppingToken)\r\n    {\r\n        IPEndPoint ipEndPoint = new IPEndPoint(IPAddress.Parse(&quot;127.0.0.1&quot;), 8899);\r\n        Socket socketServer = new Socket(ipEndPoint.AddressFamily, SocketType.Stream, ProtocolType.Tcp);\r\n\r\n        socketServer.Bind(ipEndPoint);\r\n        socketServer.Listen(100);\r\n\r\n        while (!stoppingToken.IsCancellationRequested)\r\n        {\r\n            Socket socketClient = await socketServer.AcceptAsync();\r\n\r\n            Console.WriteLine(&quot;Client connected&quot;);\r\n            processClientTearOff(socketClient);\r\n        }\r\n    }\r\n\r\n    async Task processClientTearOff(Socket socket)\r\n    {\r\n        using (var client = new Client(socket))\r\n            await client.ProcessAsync();\r\n    }\r\n\r\n    class Client : IDisposable\r\n    {\r\n        Socket socketClient;\r\n\r\n        public Client(Socket socketClient)\r\n        {\r\n            this.socketClient = socketClient;\r\n        }\r\n\r\n        public void Dispose()\r\n        {\r\n            Console.WriteLine(&quot;Client dispose&quot;);\r\n            if (socketClient != null)\r\n            {\r\n                socketClient.Disconnect(false);\r\n                socketClient.Shutdown(SocketShutdown.Both);\r\n                socketClient.Close();\r\n                socketClient.Dispose();\r\n                socketClient = null;\r\n            }\r\n        }\r\n\r\n        bool SocketConnected()\r\n        {\r\n            if (socketClient == null || !socketClient.Connected)\r\n                return false;\r\n            bool part1 = socketClient.Poll(1000, SelectMode.SelectRead);\r\n            bool part2 = (socketClient.Available == 0);\r\n            if (part1 &amp;&amp; part2)\r\n                return false;\r\n            else\r\n                return true;\r\n        }\r\n\r\n        public async Task ProcessAsync()\r\n        {\r\n            while (SocketConnected())\r\n            {\r\n                await JavaClient();\r\n            }\r\n        }\r\n\r\n        async Task JavaClient()\r\n        {\r\n            string a = await ReadUTF();\r\n\r\n            WriteUTF(a);\r\n        }\r\n\r\n        async Task WriteUTF(string data)\r\n        {\r\n            Console.WriteLine($&quot;[+] Write : {data}&quot;);\r\n            byte[] bytes = Encoding.UTF8.GetBytes(data);\r\n            byte[] bytesLength = BitConverter.GetBytes(bytes.Length);\r\n\r\n            Array.Reverse(bytesLength, 0, bytesLength.Length);\r\n\r\n            await socketClient.SendAsync(bytesLength, SocketFlags.None);\r\n            await socketClient.SendAsync(bytes, SocketFlags.None);\r\n        }\r\n\r\n        async Task&lt;string&gt; ReadUTF()\r\n        {\r\n            byte[] buf = new byte[4];\r\n            int bytesRec = await socketClient.ReceiveAsync(buf, SocketFlags.None);\r\n            int totalBytesRec = 0;\r\n            StringBuilder builder = new StringBuilder();\r\n            if (4 == bytesRec)\r\n            {\r\n                int len = ReverseInt(buf);\r\n                buf = new byte[len];\r\n                do\r\n                {\r\n                    bytesRec = await socketClient.ReceiveAsync(buf, SocketFlags.None);\r\n                    totalBytesRec += bytesRec;\r\n                    builder.Append(Encoding.UTF8.GetString(buf, 0, bytesRec));\r\n                } while (totalBytesRec &lt; len &amp;&amp; bytesRec &gt; 0);\r\n            }\r\n\r\n            string result = builder.ToString();\r\n            Console.WriteLine($&quot;[+] Read : {result}&quot;);\r\n            return result;\r\n        }\r\n\r\n        int ReverseInt(byte[] array)\r\n        {\r\n            var bytes = new byte[array.Length];\r\n            array.CopyTo(bytes, 0);\r\n            if (BitConverter.IsLittleEndian)\r\n                Array.Reverse(bytes);\r\n            return BitConverter.ToInt32(bytes, 0);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nclient code:\r\n\r\n```\r\npublic static void main(String[] args)\r\n{\r\n    try\r\n    {\r\n        Socket s = new Socket(IP, PORT);\r\n        final DataInputStream in = new DataInputStream(s.getInputStream());\r\n        final DataOutputStream out = new DataOutputStream(s.getOutputStream());\r\n\r\n        String key = getKey(); // key = A5E5F7B526C52014323E17B1BAEA406C\r\n        writeUTF(out, key);\r\n\r\n        System.out.println(readUTF(in));\r\n    }\r\n    catch (Exception exception)\r\n    {\r\n        exception.printStackTrace();\r\n    }\r\n}\r\n\r\n    public static String getKey() {\r\n        try {\r\n            MessageDigest hash = MessageDigest.getInstance(&quot;MD5&quot;);\r\n            String s = System.getenv(&quot;COMPUTERNAME&quot;) + System.getenv(&quot;PROCESSOR_IDENTIFIER&quot;)\r\n                    + System.getenv(&quot;PROCESSOR_ARCHITECTURE&quot;) + System.getenv(&quot;NUMBER_OF_PROCESSORS&quot;);\r\n            return bytesToHex(hash.digest(s.getBytes()));\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public static final char[] HEX_ARRAY = &quot;0123456789ABCDEF&quot;.toCharArray();\r\n    private static String bytesToHex(byte[] bytes) {\r\n        char[] hexChars = new char[bytes.length * 2];\r\n        for (int j = 0; j &lt; bytes.length; j++) {\r\n            int v = bytes[j] &amp; 0xFF;\r\n            hexChars[j * 2] = HEX_ARRAY[v &gt;&gt;&gt; 4];\r\n            hexChars[j * 2 + 1] = HEX_ARRAY[v &amp; 0x0F];\r\n        }\r\n        return new String(hexChars);\r\n    }\r\n\r\npublic static void writeUTF(DataOutputStream out, String str) throws Exception {\r\n        byte[] bytes = str.getBytes(StandardCharsets.UTF_8);\r\n        out.writeInt(bytes.length);\r\n        out.write(bytes);\r\n    }\r\n\r\n    public static String readUTF(DataInputStream in) throws Exception {\r\n        int length = in.readInt();\r\n        byte[] bytes = new byte[length];\r\n        int totalBytesRec = 0;\r\n        int bytesRec = 4;\r\n\r\n        StringBuilder builder = new StringBuilder();\r\n        do {\r\n            bytesRec = in.read(bytes);\r\n            totalBytesRec += bytesRec;\r\n            builder.append(new String(bytes, 0, bytesRec, StandardCharsets.UTF_8));\r\n        } while (totalBytesRec &lt; length &amp;&amp; bytesRec &gt; 0);\r\n        return builder.toString();\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1titL.png","title":"Socket server doesn&#39;t read data a second time","body":"<p>I am trying to create an asynchronous socket server with using c#</p>\n<p>The client socket is written in Java</p>\n<p>The problem is that when the client connects to the server for the second time, it cannot read the   message from client</p>\n<p>I also noticed that this happens when I try to send data to the server specifically from the <code>getKey()</code> function</p>\n<p>The result of the first and second connections:</p>\n<p><a href=\"https://i.stack.imgur.com/1titL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1titL.png\" alt=\"enter image description here\" /></a></p>\n<p>server code:</p>\n<pre><code>public class SocketServer : BackgroundService\n{\n    protected override async Task ExecuteAsync(CancellationToken stoppingToken)\n    {\n        IPEndPoint ipEndPoint = new IPEndPoint(IPAddress.Parse(&quot;127.0.0.1&quot;), 8899);\n        Socket socketServer = new Socket(ipEndPoint.AddressFamily, SocketType.Stream, ProtocolType.Tcp);\n\n        socketServer.Bind(ipEndPoint);\n        socketServer.Listen(100);\n\n        while (!stoppingToken.IsCancellationRequested)\n        {\n            Socket socketClient = await socketServer.AcceptAsync();\n\n            Console.WriteLine(&quot;Client connected&quot;);\n            processClientTearOff(socketClient);\n        }\n    }\n\n    async Task processClientTearOff(Socket socket)\n    {\n        using (var client = new Client(socket))\n            await client.ProcessAsync();\n    }\n\n    class Client : IDisposable\n    {\n        Socket socketClient;\n\n        public Client(Socket socketClient)\n        {\n            this.socketClient = socketClient;\n        }\n\n        public void Dispose()\n        {\n            Console.WriteLine(&quot;Client dispose&quot;);\n            if (socketClient != null)\n            {\n                socketClient.Disconnect(false);\n                socketClient.Shutdown(SocketShutdown.Both);\n                socketClient.Close();\n                socketClient.Dispose();\n                socketClient = null;\n            }\n        }\n\n        bool SocketConnected()\n        {\n            if (socketClient == null || !socketClient.Connected)\n                return false;\n            bool part1 = socketClient.Poll(1000, SelectMode.SelectRead);\n            bool part2 = (socketClient.Available == 0);\n            if (part1 &amp;&amp; part2)\n                return false;\n            else\n                return true;\n        }\n\n        public async Task ProcessAsync()\n        {\n            while (SocketConnected())\n            {\n                await JavaClient();\n            }\n        }\n\n        async Task JavaClient()\n        {\n            string a = await ReadUTF();\n\n            WriteUTF(a);\n        }\n\n        async Task WriteUTF(string data)\n        {\n            Console.WriteLine($&quot;[+] Write : {data}&quot;);\n            byte[] bytes = Encoding.UTF8.GetBytes(data);\n            byte[] bytesLength = BitConverter.GetBytes(bytes.Length);\n\n            Array.Reverse(bytesLength, 0, bytesLength.Length);\n\n            await socketClient.SendAsync(bytesLength, SocketFlags.None);\n            await socketClient.SendAsync(bytes, SocketFlags.None);\n        }\n\n        async Task&lt;string&gt; ReadUTF()\n        {\n            byte[] buf = new byte[4];\n            int bytesRec = await socketClient.ReceiveAsync(buf, SocketFlags.None);\n            int totalBytesRec = 0;\n            StringBuilder builder = new StringBuilder();\n            if (4 == bytesRec)\n            {\n                int len = ReverseInt(buf);\n                buf = new byte[len];\n                do\n                {\n                    bytesRec = await socketClient.ReceiveAsync(buf, SocketFlags.None);\n                    totalBytesRec += bytesRec;\n                    builder.Append(Encoding.UTF8.GetString(buf, 0, bytesRec));\n                } while (totalBytesRec &lt; len &amp;&amp; bytesRec &gt; 0);\n            }\n\n            string result = builder.ToString();\n            Console.WriteLine($&quot;[+] Read : {result}&quot;);\n            return result;\n        }\n\n        int ReverseInt(byte[] array)\n        {\n            var bytes = new byte[array.Length];\n            array.CopyTo(bytes, 0);\n            if (BitConverter.IsLittleEndian)\n                Array.Reverse(bytes);\n            return BitConverter.ToInt32(bytes, 0);\n        }\n    }\n}\n</code></pre>\n<p>client code:</p>\n<pre><code>public static void main(String[] args)\n{\n    try\n    {\n        Socket s = new Socket(IP, PORT);\n        final DataInputStream in = new DataInputStream(s.getInputStream());\n        final DataOutputStream out = new DataOutputStream(s.getOutputStream());\n\n        String key = getKey(); // key = A5E5F7B526C52014323E17B1BAEA406C\n        writeUTF(out, key);\n\n        System.out.println(readUTF(in));\n    }\n    catch (Exception exception)\n    {\n        exception.printStackTrace();\n    }\n}\n\n    public static String getKey() {\n        try {\n            MessageDigest hash = MessageDigest.getInstance(&quot;MD5&quot;);\n            String s = System.getenv(&quot;COMPUTERNAME&quot;) + System.getenv(&quot;PROCESSOR_IDENTIFIER&quot;)\n                    + System.getenv(&quot;PROCESSOR_ARCHITECTURE&quot;) + System.getenv(&quot;NUMBER_OF_PROCESSORS&quot;);\n            return bytesToHex(hash.digest(s.getBytes()));\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n        return null;\n    }\n\n    public static final char[] HEX_ARRAY = &quot;0123456789ABCDEF&quot;.toCharArray();\n    private static String bytesToHex(byte[] bytes) {\n        char[] hexChars = new char[bytes.length * 2];\n        for (int j = 0; j &lt; bytes.length; j++) {\n            int v = bytes[j] &amp; 0xFF;\n            hexChars[j * 2] = HEX_ARRAY[v &gt;&gt;&gt; 4];\n            hexChars[j * 2 + 1] = HEX_ARRAY[v &amp; 0x0F];\n        }\n        return new String(hexChars);\n    }\n\npublic static void writeUTF(DataOutputStream out, String str) throws Exception {\n        byte[] bytes = str.getBytes(StandardCharsets.UTF_8);\n        out.writeInt(bytes.length);\n        out.write(bytes);\n    }\n\n    public static String readUTF(DataInputStream in) throws Exception {\n        int length = in.readInt();\n        byte[] bytes = new byte[length];\n        int totalBytesRec = 0;\n        int bytesRec = 4;\n\n        StringBuilder builder = new StringBuilder();\n        do {\n            bytesRec = in.read(bytes);\n            totalBytesRec += bytesRec;\n            builder.append(new String(bytes, 0, bytesRec, StandardCharsets.UTF_8));\n        } while (totalBytesRec &lt; length &amp;&amp; bytesRec &gt; 0);\n        return builder.toString();\n    }\n</code></pre>\n"},{"tags":["java","awt"],"comments":[{"owner":{"account_id":285492,"reputation":77387,"user_id":584192,"accept_rate":100,"display_name":"Samuel Liew"},"score":0,"creation_date":1665111169,"post_id":73959880,"comment_id":130627922,"body_markdown":"Comments are not for extended discussion; this conversation has been [moved to chat](https://chat.stackoverflow.com/rooms/248611/discussion-on-question-by-testjava-dev-text-rendered-in-the-image-is-very-small).","body":"Comments are not for extended discussion; this conversation has been <a href=\"https://chat.stackoverflow.com/rooms/248611/discussion-on-question-by-testjava-dev-text-rendered-in-the-image-is-very-small\">moved to chat</a>."}],"answers":[{"comments":[{"owner":{"account_id":26295695,"reputation":117,"user_id":19961979,"display_name":"testjava dev"},"score":0,"creation_date":1665030946,"post_id":73961468,"comment_id":130604851,"body_markdown":"@goose - Is the above code to change the font point according to pixels ?","body":"@goose - Is the above code to change the font point according to pixels ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665046470,"post_id":73961468,"comment_id":130608816,"body_markdown":"According to proportions. The units of measurement aren&#39;t relevant","body":"According to proportions. The units of measurement aren&#39;t relevant"},{"owner":{"account_id":26295695,"reputation":117,"user_id":19961979,"display_name":"testjava dev"},"score":0,"creation_date":1665047192,"post_id":73961468,"comment_id":130609089,"body_markdown":"I didn&#39;t understand. can you please explain...","body":"I didn&#39;t understand. can you please explain..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665047273,"post_id":73961468,"comment_id":130609114,"body_markdown":"The comment *// Fraction of the image width that the caption width takes up* explains how it works","body":"The comment <i>// Fraction of the image width that the caption width takes up</i> explains how it works"},{"owner":{"account_id":26295695,"reputation":117,"user_id":19961979,"display_name":"testjava dev"},"score":0,"creation_date":1665050368,"post_id":73961468,"comment_id":130610361,"body_markdown":"font size += 0.5 line couldn&#39;t understand. why we need this","body":"font size += 0.5 line couldn&#39;t understand. why we need this"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665050606,"post_id":73961468,"comment_id":130610466,"body_markdown":"To grow the size of the font","body":"To grow the size of the font"},{"owner":{"account_id":26295695,"reputation":117,"user_id":19961979,"display_name":"testjava dev"},"score":0,"creation_date":1665062742,"post_id":73961468,"comment_id":130615039,"body_markdown":"why it is 0.5 only? what is the context. can you pls explain","body":"why it is 0.5 only? what is the context. can you pls explain"}],"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664978607,"creation_date":1664978123,"answer_id":73961468,"question_id":73959880,"body_markdown":"I&#39;ll post something that might help because it&#39;s not 100% clear what is wrong with what you&#39;ve received so far. The following will size the caption to a fraction of the entire image width (currently a quarter). Obviously you need to remove the &#39;magic numbers&#39; and tweak according to your requirements and remove any hard-coding remaining. I&#39;ll say right off that it&#39;s not really the &#39;proper&#39; way of doing it, since the correct transformation should be applied without looping, probably via something like an ```AffineTransform```  with the correct geometry from the start to derive the font.\r\n\r\n    import javax.imageio.ImageIO;\r\n    import java.awt.*;\r\n    import java.awt.geom.*;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.net.URL;\r\n    \r\n    public class InternetSample {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            final BufferedImage image = ImageIO.read(new File(args[0]));\r\n            Font font = new Font(&quot;Arial&quot;, Font.BOLD, 1);\r\n            Graphics g = image.getGraphics();\r\n            String caption = &quot;Welcome To Taj Mahal!&quot;;\r\n            getFontSizedForCaption(image, caption, font, g);\r\n            g.drawString(caption, 100, 100);\r\n            g.dispose();\r\n            ImageIO.write(image, &quot;png&quot;, new File(&quot;Taj_Mahal.png&quot;));\r\n        }\r\n    \r\n        static Font getFontSizedForCaption(BufferedImage img, String caption, Font startFont, Graphics g) {\r\n            Font derivedFont = startFont;\r\n            int imgWidth = img.getWidth();\r\n            float fontSize = 1.0f;\r\n            double captionWidth = 0.0;\r\n            // Fraction of the image width that the caption width takes up\r\n            while (captionWidth &lt; (imgWidth / 4)) {\r\n                derivedFont = derivedFont.deriveFont(fontSize);\r\n                g.setFont(derivedFont);\r\n                FontMetrics fm = g.getFontMetrics();\r\n                Rectangle2D captionRect = fm.getStringBounds(caption, g);\r\n                captionWidth = captionRect.getWidth();\r\n                //System.out.printf(&quot;Width now %.2f%n&quot;, captionRect.getWidth());\r\n                fontSize += 5.0f;\r\n            }\r\n            return derivedFont;\r\n        }\r\n    }\r\n\r\n","title":"Text Rendered in the image is very small in Java ..Not sure why","body":"<p>I'll post something that might help because it's not 100% clear what is wrong with what you've received so far. The following will size the caption to a fraction of the entire image width (currently a quarter). Obviously you need to remove the 'magic numbers' and tweak according to your requirements and remove any hard-coding remaining. I'll say right off that it's not really the 'proper' way of doing it, since the correct transformation should be applied without looping, probably via something like an <code>AffineTransform</code>  with the correct geometry from the start to derive the font.</p>\n<pre><code>import javax.imageio.ImageIO;\nimport java.awt.*;\nimport java.awt.geom.*;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.net.URL;\n\npublic class InternetSample {\n\n    public static void main(String[] args) throws Exception {\n        final BufferedImage image = ImageIO.read(new File(args[0]));\n        Font font = new Font(&quot;Arial&quot;, Font.BOLD, 1);\n        Graphics g = image.getGraphics();\n        String caption = &quot;Welcome To Taj Mahal!&quot;;\n        getFontSizedForCaption(image, caption, font, g);\n        g.drawString(caption, 100, 100);\n        g.dispose();\n        ImageIO.write(image, &quot;png&quot;, new File(&quot;Taj_Mahal.png&quot;));\n    }\n\n    static Font getFontSizedForCaption(BufferedImage img, String caption, Font startFont, Graphics g) {\n        Font derivedFont = startFont;\n        int imgWidth = img.getWidth();\n        float fontSize = 1.0f;\n        double captionWidth = 0.0;\n        // Fraction of the image width that the caption width takes up\n        while (captionWidth &lt; (imgWidth / 4)) {\n            derivedFont = derivedFont.deriveFont(fontSize);\n            g.setFont(derivedFont);\n            FontMetrics fm = g.getFontMetrics();\n            Rectangle2D captionRect = fm.getStringBounds(caption, g);\n            captionWidth = captionRect.getWidth();\n            //System.out.printf(&quot;Width now %.2f%n&quot;, captionRect.getWidth());\n            fontSize += 5.0f;\n        }\n        return derivedFont;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26295695,"reputation":117,"user_id":19961979,"display_name":"testjava dev"},"score":0,"creation_date":1665030931,"post_id":73962470,"comment_id":130604850,"body_markdown":"Is the above code to change the font point according to pixels ?","body":"Is the above code to change the font point according to pixels ?"},{"owner":{"account_id":3154289,"reputation":812,"user_id":2667005,"accept_rate":78,"display_name":"Soosh"},"score":0,"creation_date":1665072354,"post_id":73962470,"comment_id":130619069,"body_markdown":"@testjavadev yes, both `getScreenSize` and `getBounds` return values are in pixels.","body":"@testjavadev yes, both <code>getScreenSize</code> and <code>getBounds</code> return values are in pixels."},{"owner":{"account_id":26295695,"reputation":117,"user_id":19961979,"display_name":"testjava dev"},"score":0,"creation_date":1665121211,"post_id":73962470,"comment_id":130629371,"body_markdown":"You are using toolkit screensize which will take server screeen size. It would be wrong since the web app will be hosted in any server where monitor sizes would differ","body":"You are using toolkit screensize which will take server screeen size. It would be wrong since the web app will be hosted in any server where monitor sizes would differ"}],"tags":[],"owner":{"account_id":3154289,"reputation":812,"user_id":2667005,"accept_rate":78,"display_name":"Soosh"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664982344,"creation_date":1664982344,"answer_id":73962470,"question_id":73959880,"body_markdown":"Your font is rendered based on the image quality, a good way in my opinion is to multiply the font with a factor to resize it based on the image size, the following function might help you \r\n\r\n    /**\r\n     * compute a factor for different image qualities\r\n     *\r\n     * @param image the image to compute the factor\r\n     * @param coefficient to scale the factor\r\n     * @return\r\n     */\r\n    private static double getImageFactor(BufferedImage image, int coefficient) {\r\n        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\r\n        double screenSizeWidth = screenSize.getWidth();\r\n        double screenSizeHeight = screenSize.getHeight();\r\n        double screenHypotenuse = Math.sqrt(screenSizeWidth * screenSizeWidth + screenSizeHeight * screenSizeHeight);\r\n\r\n        Rectangle bounds = image.getData().getBounds();\r\n        double imageWidth = bounds.getWidth();\r\n        double imageHeight = bounds.getHeight();\r\n        double imageHypotenuse = Math.sqrt(imageWidth * imageWidth + imageHeight * imageHeight);\r\n\r\n        return imageHypotenuse * coefficient / (screenHypotenuse + screenHypotenuse);\r\n    }\r\n\r\nand in order to use it you can call it with a coefficient which might be decided by you\r\n\r\n    Font font = new Font(&quot;Arial&quot;, Font.BOLD, (int) (32 * getImageFactor(image, 2)));\r\n\r\n\r\nnote that there might be a more delicate way to compute the factor but in this case it might suffice.","title":"Text Rendered in the image is very small in Java ..Not sure why","body":"<p>Your font is rendered based on the image quality, a good way in my opinion is to multiply the font with a factor to resize it based on the image size, the following function might help you</p>\n<pre><code>/**\n * compute a factor for different image qualities\n *\n * @param image the image to compute the factor\n * @param coefficient to scale the factor\n * @return\n */\nprivate static double getImageFactor(BufferedImage image, int coefficient) {\n    Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\n    double screenSizeWidth = screenSize.getWidth();\n    double screenSizeHeight = screenSize.getHeight();\n    double screenHypotenuse = Math.sqrt(screenSizeWidth * screenSizeWidth + screenSizeHeight * screenSizeHeight);\n\n    Rectangle bounds = image.getData().getBounds();\n    double imageWidth = bounds.getWidth();\n    double imageHeight = bounds.getHeight();\n    double imageHypotenuse = Math.sqrt(imageWidth * imageWidth + imageHeight * imageHeight);\n\n    return imageHypotenuse * coefficient / (screenHypotenuse + screenHypotenuse);\n}\n</code></pre>\n<p>and in order to use it you can call it with a coefficient which might be decided by you</p>\n<pre><code>Font font = new Font(&quot;Arial&quot;, Font.BOLD, (int) (32 * getImageFactor(image, 2)));\n</code></pre>\n<p>note that there might be a more delicate way to compute the factor but in this case it might suffice.</p>\n"}],"owner":{"account_id":26295695,"reputation":117,"user_id":19961979,"display_name":"testjava dev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664982344,"creation_date":1664970349,"question_id":73959880,"body_markdown":"Below is my source code\r\n\r\n    import javax.imageio.ImageIO;\r\n    import java.awt.*;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.net.URL;\r\n\r\n    public class InternetSample {\r\n\r\n        public static void main(String[] args) throws Exception {\r\n        final BufferedImage image = ImageIO.read(new URL(\r\n                &quot;https://upload.wikimedia.org/wikipedia/commons/6/67/Taj_Mahal_in_India_-\r\n        _Kristian_Bertel.jpg&quot;));\r\n        Font font = new Font(&quot;Arial&quot;, Font.BOLD, 32);\r\n        Graphics g = image.getGraphics();\r\n        g.setFont(font);\r\n        g.drawString(&quot;Welcome To Taj Mahal!&quot;, 100, 100);\r\n        g.dispose();\r\n\r\n        ImageIO.write(image, &quot;png&quot;, new File(&quot;d:\\\\Taj_Mahal.png&quot;));\r\n      }\r\n    }\r\n\r\nExpected:\r\n\r\n- Font size should be 32 as set in the code\r\n\r\nActual:\r\n\r\n- Font size is small\r\n\r\nQuestion:\r\n\r\n 1. The font size is defined as 32 but why it is showing small?\r\n 2. Do we need to set the font according to some algorithm or strateggy?\r\n 3. What is the best practice to set the font\r\n\r\nThe Java specification on graphics doesn&#39;t say much about it. Not sure where to refer for the detailed examples to make it work as expected.\r\n\r\nEven in full screen it shows as below\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWord in font size 32\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rciPj.jpg\r\n  [2]: https://i.stack.imgur.com/h8ede.png","title":"Text Rendered in the image is very small in Java ..Not sure why","body":"<p>Below is my source code</p>\n<pre><code>import javax.imageio.ImageIO;\nimport java.awt.*;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.net.URL;\n\npublic class InternetSample {\n\n    public static void main(String[] args) throws Exception {\n    final BufferedImage image = ImageIO.read(new URL(\n            &quot;https://upload.wikimedia.org/wikipedia/commons/6/67/Taj_Mahal_in_India_-\n    _Kristian_Bertel.jpg&quot;));\n    Font font = new Font(&quot;Arial&quot;, Font.BOLD, 32);\n    Graphics g = image.getGraphics();\n    g.setFont(font);\n    g.drawString(&quot;Welcome To Taj Mahal!&quot;, 100, 100);\n    g.dispose();\n\n    ImageIO.write(image, &quot;png&quot;, new File(&quot;d:\\\\Taj_Mahal.png&quot;));\n  }\n}\n</code></pre>\n<p>Expected:</p>\n<ul>\n<li>Font size should be 32 as set in the code</li>\n</ul>\n<p>Actual:</p>\n<ul>\n<li>Font size is small</li>\n</ul>\n<p>Question:</p>\n<ol>\n<li>The font size is defined as 32 but why it is showing small?</li>\n<li>Do we need to set the font according to some algorithm or strateggy?</li>\n<li>What is the best practice to set the font</li>\n</ol>\n<p>The Java specification on graphics doesn't say much about it. Not sure where to refer for the detailed examples to make it work as expected.</p>\n<p>Even in full screen it shows as below</p>\n<p><a href=\"https://i.stack.imgur.com/rciPj.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rciPj.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Word in font size 32</p>\n<p><a href=\"https://i.stack.imgur.com/h8ede.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h8ede.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","xml","spring","maven"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1664977498,"post_id":73960061,"comment_id":130591778,"body_markdown":"&amp;lt;load-on-startup&amp;gt;-1&amp;lt;/load-on-startup&amp;gt; minus one for start on request, 0 1 2 3 e.t.c. for auto loading on startup in order of loading each servlet.","body":"&amp;lt;load-on-startup&amp;gt;-1&amp;lt;/load-on-startup&amp;gt; minus one for start on request, 0 1 2 3 e.t.c. for auto loading on startup in order of loading each servlet."},{"owner":{"account_id":18552972,"reputation":3,"user_id":13518809,"display_name":"VisualNewbie"},"score":0,"creation_date":1664980023,"post_id":73960061,"comment_id":130592866,"body_markdown":"Sorry still fairly new, basically my servlet load order is incorrect?","body":"Sorry still fairly new, basically my servlet load order is incorrect?"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1664980762,"post_id":73960061,"comment_id":130593175,"body_markdown":"Only one servlet should either be zero to load on startup first in order or -1 to load when a request call is made. However, the error refers to a missing interface that belongs to an instance instance of org.springframework.core.metrics.jfr.FlightRecorderApplicationStartup class , so check that jar was part of the ide save on compile.","body":"Only one servlet should either be zero to load on startup first in order or -1 to load when a request call is made. However, the error refers to a missing interface that belongs to an instance instance of org.springframework.core.metrics.jfr.FlightRecorderApplicati&zwnj;&#8203;onStartup class , so check that jar was part of the ide save on compile."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664981120,"post_id":73960061,"comment_id":130593324,"body_markdown":"Never mix versions of jars from a framework. You are mixing jars from Spring 4.3 and 5.3 that won&#39;t work.","body":"Never mix versions of jars from a framework. You are mixing jars from Spring 4.3 and 5.3 that won&#39;t work."},{"owner":{"account_id":18552972,"reputation":3,"user_id":13518809,"display_name":"VisualNewbie"},"score":0,"creation_date":1664981841,"post_id":73960061,"comment_id":130593621,"body_markdown":"M. Deinum, should I remove one then? The tutorials weren&#39;t very specific, and jars are a bit tricky","body":"M. Deinum, should I remove one then? The tutorials weren&#39;t very specific, and jars are a bit tricky"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1665036507,"post_id":73960061,"comment_id":130605847,"body_markdown":"The versions should match. Ideally you define a version in your `&lt;properties&gt;` section and use that for specific frameworks. Or even better ditch what you have now and move to Spring Boot which will make your life a lot easier.","body":"The versions should match. Ideally you define a version in your <code>&lt;properties&gt;</code> section and use that for specific frameworks. Or even better ditch what you have now and move to Spring Boot which will make your life a lot easier."}],"answers":[{"tags":[],"owner":{"account_id":18552972,"reputation":3,"user_id":13518809,"display_name":"VisualNewbie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664982340,"creation_date":1664982340,"answer_id":73962468,"question_id":73960061,"body_markdown":"As per advise \r\n```\r\n&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n&lt;version&gt;4.3.6.RELEASE&lt;/version&gt;\r\n```\r\nWas changed to:\r\n\r\n```\r\n&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n&lt;version&gt;5.3.23&lt;/version&gt;\r\n```\r\n\r\nNow it works.\r\nCheers!","title":"IntelliJ MVC Server Context initialization failed","body":"<p>As per advise</p>\n<pre><code>&lt;groupId&gt;org.springframework&lt;/groupId&gt;\n&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n&lt;version&gt;4.3.6.RELEASE&lt;/version&gt;\n</code></pre>\n<p>Was changed to:</p>\n<pre><code>&lt;groupId&gt;org.springframework&lt;/groupId&gt;\n&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n&lt;version&gt;5.3.23&lt;/version&gt;\n</code></pre>\n<p>Now it works.\nCheers!</p>\n"}],"owner":{"account_id":18552972,"reputation":3,"user_id":13518809,"display_name":"VisualNewbie"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664982340,"creation_date":1664971424,"question_id":73960061,"body_markdown":"Following a udemy course, I have encountered this issue, to which the answer I didn&#39;t find anywhere.\r\n\r\nI&#39;ve had issues with the model class, but that seems to be working now.\r\nURL pattern is fixed, by just being a /\r\nfor webmvc i have updated the dependency to be 4.3.6.RELEASE\r\n\r\nCode itself and the server was running just before adding changes to the controller, enabling it to pass message value to the model.\r\nAny help would be greatly appreciated.\r\n\r\n\r\n**HelloWebServlet.xml**\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n       xsi:schemaLocation=&quot;\r\n      http://www.springframework.org/schema/beans\r\n       http://www.springframework.org/schema/beans/spring-beans.xsd\r\n       http://www.springframework.org/schema/context\r\n       http://www.springframework.org/schema/context/spring-context.xsd\r\n       http://www.springframework.org/schema/mvc\r\n        http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\r\n\r\n   \r\n    &lt;context:component-scan base-package=&quot;com.luv2code.springdemo.mvc&quot;/&gt;\r\n    &lt;mvc:annotation-driven/&gt;\r\n\r\n    &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/view/&quot;/&gt;\r\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n&lt;/beans&gt;\r\n```\r\n\r\n\r\n**web.xml**\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemeLocation=&quot;\r\n                    http://java.sun.com/xml/ns/javaee\r\n                    http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;&gt;\r\n\r\n    &lt;display-name&gt;Spring MVC Application&lt;/display-name&gt;\r\n\r\n    &lt;!-- Step 1: Configure Spring MVC Dispatcher Servlet --&gt;\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;/WEB-INF/HelloWeb-servlet.xml&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n\r\n    &lt;!-- Step 2: Set up URL mapping for Spring MVC Dispatcher Servlet --&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\n&lt;/web-app&gt;\r\n```\r\n\r\n**pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.luv2code.springweb&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-web-demo&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n  &lt;name&gt;spring-web-demo Maven Webapp&lt;/name&gt;\r\n  &lt;url&gt;http://localhost:8080/spring-web-demo&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n      &lt;version&gt;4.3.6.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\r\n      &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n      &lt;version&gt;5.3.23&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;finalName&gt;spring-web-demo&lt;/finalName&gt;\r\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.22.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.2.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**HelloWorldController**\r\n```package com.luv2code.springdemo.mvc;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\n@Controller\r\npublic class HelloWorldController {\r\n\r\n\r\n    @RequestMapping(&quot;/showForm&quot;)\r\n    public String showForm() {\r\n        return &quot;helloworld-form&quot;;\r\n    }\r\n\r\n    @RequestMapping(&quot;/processForm&quot;)\r\n    public String processForm() {\r\n        return &quot;helloworld&quot;;\r\n    }\r\n\r\n    @RequestMapping(&quot;/processFormVersionTwo&quot;)\r\n    public String letsShoutDude(HttpServletRequest request, Model model) {\r\n\r\n        String theName = request.getParameter(&quot;studentName&quot;);\r\n\r\n        theName = theName.toUpperCase();\r\n\r\n        String result = &quot;Yo! &quot; + theName;\r\n\r\n        model.addAttribute(&quot;message&quot;, result);\r\n\r\n        return &quot;helloworld&quot;;\r\n    }\r\n\r\n}\r\n```\r\n\r\n**The error log**\r\n```\r\nC:\\Users\\Slimas\\.jdks\\openjdk-17\\bin\\java.exe -Dcatalina.home=C:\\Users\\Slimas\\Desktop\\apache-tomcat-9.0.67 -Dcatalina.base=C:\\Users\\Slimas\\.SmartTomcat\\spring-web-demo\\spring-web-demo -Djava.io.tmpdir=C:\\Users\\Slimas\\.SmartTomcat\\spring-web-demo\\spring-web-demo\\temp -Djava.util.logging.config.file=C:\\Users\\Slimas\\.SmartTomcat\\spring-web-demo\\spring-web-demo\\conf\\logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2021.2.2\\lib\\idea_rt.jar=59958:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2021.2.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\Users\\Slimas\\Desktop\\apache-tomcat-9.0.67\\bin\\bootstrap.jar;C:\\Users\\Slimas\\Desktop\\apache-tomcat-9.0.67\\bin\\tomcat-juli.jar org.apache.catalina.startup.Bootstrap start\r\nNOTE: Picked up JDK_JAVA_OPTIONS: --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\r\n05-Oct-2022 14:55:37.818 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version name:   Apache Tomcat/9.0.67\r\n05-Oct-2022 14:55:37.820 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Sep 23 2022 11:22:29 UTC\r\n05-Oct-2022 14:55:37.820 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 9.0.67.0\r\n05-Oct-2022 14:55:37.820 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Windows 10\r\n05-Oct-2022 14:55:37.820 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            10.0\r\n05-Oct-2022 14:55:37.820 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64\r\n05-Oct-2022 14:55:37.820 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             C:\\Users\\Slimas\\.jdks\\openjdk-17\r\n05-Oct-2022 14:55:37.820 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           17+35-2724\r\n05-Oct-2022 14:55:37.821 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation\r\n05-Oct-2022 14:55:37.821 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         C:\\Users\\Slimas\\.SmartTomcat\\spring-web-demo\\spring-web-demo\r\n05-Oct-2022 14:55:37.821 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         C:\\Users\\Slimas\\Desktop\\apache-tomcat-9.0.67\r\n05-Oct-2022 14:55:37.826 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.lang=ALL-UNNAMED\r\n05-Oct-2022 14:55:37.826 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.io=ALL-UNNAMED\r\n05-Oct-2022 14:55:37.826 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util=ALL-UNNAMED\r\n05-Oct-2022 14:55:37.826 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED\r\n05-Oct-2022 14:55:37.826 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\r\n05-Oct-2022 14:55:37.826 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=C:\\Users\\Slimas\\Desktop\\apache-tomcat-9.0.67\r\n05-Oct-2022 14:55:37.826 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=C:\\Users\\Slimas\\.SmartTomcat\\spring-web-demo\\spring-web-demo\r\n05-Oct-2022 14:55:37.826 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=C:\\Users\\Slimas\\.SmartTomcat\\spring-web-demo\\spring-web-demo\\temp\r\n05-Oct-2022 14:55:37.826 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=C:\\Users\\Slimas\\.SmartTomcat\\spring-web-demo\\spring-web-demo\\conf\\logging.properties\r\n05-Oct-2022 14:55:37.827 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\r\n05-Oct-2022 14:55:37.827 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2021.2.2\\lib\\idea_rt.jar=59958:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2021.2.2\\bin\r\n05-Oct-2022 14:55:37.827 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dfile.encoding=UTF-8\r\n05-Oct-2022 14:55:37.828 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent Loaded Apache Tomcat Native library [1.2.35] using APR version [1.7.0].\r\n05-Oct-2022 14:55:37.829 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].\r\n05-Oct-2022 14:55:37.829 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]\r\n05-Oct-2022 14:55:37.831 INFO [main] org.apache.catalina.core.AprLifecycleListener.initializeSSL OpenSSL successfully initialized [OpenSSL 1.1.1q  5 Jul 2022]\r\n05-Oct-2022 14:55:37.985 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n05-Oct-2022 14:55:37.998 INFO [main] org.apache.catalina.startup.Catalina.load Server initialization in [298] milliseconds\r\n05-Oct-2022 14:55:38.023 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\r\n05-Oct-2022 14:55:38.024 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/9.0.67]\r\n05-Oct-2022 14:55:38.030 INFO [main] org.apache.catalina.startup.HostConfig.deployDescriptor Deploying deployment descriptor [C:\\Users\\Slimas\\.SmartTomcat\\spring-web-demo\\spring-web-demo\\conf\\Catalina\\localhost\\spring-web-demo.xml]\r\n05-Oct-2022 14:55:38.939 INFO [main] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n05-Oct-2022 14:55:39.152 INFO [main] org.springframework.web.servlet.DispatcherServlet.initServletBean FrameworkServlet &#39;dispatcher&#39;: initialization started\r\n05-Oct-2022 14:55:39.173 SEVERE [main] org.springframework.web.servlet.DispatcherServlet.initServletBean Context initialization failed\r\n\torg.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.context.support.XmlWebApplicationContext]: Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/core/metrics/ApplicationStartup\r\n\t\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:154)\r\n\t\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:102)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:628)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:682)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:553)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:494)\r\n\t\tat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\r\n\t\tat javax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\t\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164)\r\n\t\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1117)\r\n\t\tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1010)\r\n\t\tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4958)\r\n\t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5265)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n\t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:690)\r\n\t\tat org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1889)\r\n\t\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n\t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\t\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\t\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:583)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:473)\r\n\t\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1618)\r\n\t\tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\r\n\t\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n\t\tat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\n\t\tat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\n\t\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946)\r\n\t\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n\t\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n\t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\t\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\t\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\t\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n\t\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:265)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\t\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\r\n\t\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\n\tCaused by: java.lang.NoClassDefFoundError: org/springframework/core/metrics/ApplicationStartup\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.&lt;init&gt;(AbstractApplicationContext.java:229)\r\n\t\tat org.springframework.context.support.AbstractRefreshableApplicationContext.&lt;init&gt;(AbstractRefreshableApplicationContext.java:81)\r\n\t\tat org.springframework.context.support.AbstractRefreshableConfigApplicationContext.&lt;init&gt;(AbstractRefreshableConfigApplicationContext.java:51)\r\n\t\tat org.springframework.web.context.support.AbstractRefreshableWebApplicationContext.&lt;init&gt;(AbstractRefreshableWebApplicationContext.java:95)\r\n\t\tat org.springframework.web.context.support.XmlWebApplicationContext.&lt;init&gt;(XmlWebApplicationContext.java:62)\r\n\t\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\t\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\t\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\t\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:142)\r\n\t\t... 51 more\r\n\tCaused by: java.lang.ClassNotFoundException: org.springframework.core.metrics.ApplicationStartup\r\n\t\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\r\n\t\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\r\n\t\t... 62 more\r\n05-Oct-2022 14:55:39.188 INFO [main] org.apache.catalina.startup.HostConfig.deployDescriptor Deployment of deployment descriptor [C:\\Users\\Slimas\\.SmartTomcat\\spring-web-demo\\spring-web-demo\\conf\\Catalina\\localhost\\spring-web-demo.xml] has finished in [1,157] ms\r\n05-Oct-2022 14:55:39.190 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\r\n05-Oct-2022 14:55:39.220 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [1222] milliseconds\r\nhttp://localhost:8080/spring-web-demo/\r\n```\r\n\r\n\r\n\r\nAnd lastly, the project structure:[Image of project structure][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dLRCJ.png","title":"IntelliJ MVC Server Context initialization failed","body":"<p>Following a udemy course, I have encountered this issue, to which the answer I didn't find anywhere.</p>\n<p>I've had issues with the model class, but that seems to be working now.\nURL pattern is fixed, by just being a /\nfor webmvc i have updated the dependency to be 4.3.6.RELEASE</p>\n<p>Code itself and the server was running just before adding changes to the controller, enabling it to pass message value to the model.\nAny help would be greatly appreciated.</p>\n<p><strong>HelloWebServlet.xml</strong></p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n       xsi:schemaLocation=&quot;\n      http://www.springframework.org/schema/beans\n       http://www.springframework.org/schema/beans/spring-beans.xsd\n       http://www.springframework.org/schema/context\n       http://www.springframework.org/schema/context/spring-context.xsd\n       http://www.springframework.org/schema/mvc\n        http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\n\n   \n    &lt;context:component-scan base-package=&quot;com.luv2code.springdemo.mvc&quot;/&gt;\n    &lt;mvc:annotation-driven/&gt;\n\n    &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/view/&quot;/&gt;\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p><strong>web.xml</strong></p>\n<pre><code>&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemeLocation=&quot;\n                    http://java.sun.com/xml/ns/javaee\n                    http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;&gt;\n\n    &lt;display-name&gt;Spring MVC Application&lt;/display-name&gt;\n\n    &lt;!-- Step 1: Configure Spring MVC Dispatcher Servlet --&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/HelloWeb-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;!-- Step 2: Set up URL mapping for Spring MVC Dispatcher Servlet --&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.luv2code.springweb&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-web-demo&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n\n  &lt;name&gt;spring-web-demo Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://localhost:8080/spring-web-demo&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n      &lt;version&gt;4.3.6.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\n      &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\n      &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n      &lt;version&gt;5.3.23&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;finalName&gt;spring-web-demo&lt;/finalName&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.2.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>HelloWorldController</strong></p>\n<pre><code>\nimport javax.servlet.http.HttpServletRequest;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\npublic class HelloWorldController {\n\n\n    @RequestMapping(&quot;/showForm&quot;)\n    public String showForm() {\n        return &quot;helloworld-form&quot;;\n    }\n\n    @RequestMapping(&quot;/processForm&quot;)\n    public String processForm() {\n        return &quot;helloworld&quot;;\n    }\n\n    @RequestMapping(&quot;/processFormVersionTwo&quot;)\n    public String letsShoutDude(HttpServletRequest request, Model model) {\n\n        String theName = request.getParameter(&quot;studentName&quot;);\n\n        theName = theName.toUpperCase();\n\n        String result = &quot;Yo! &quot; + theName;\n\n        model.addAttribute(&quot;message&quot;, result);\n\n        return &quot;helloworld&quot;;\n    }\n\n}\n</code></pre>\n<p><strong>The error log</strong></p>\n<pre><code>C:\\Users\\Slimas\\.jdks\\openjdk-17\\bin\\java.exe -Dcatalina.home=C:\\Users\\Slimas\\Desktop\\apache-tomcat-9.0.67 -Dcatalina.base=C:\\Users\\Slimas\\.SmartTomcat\\spring-web-demo\\spring-web-demo -Djava.io.tmpdir=C:\\Users\\Slimas\\.SmartTomcat\\spring-web-demo\\spring-web-demo\\temp -Djava.util.logging.config.file=C:\\Users\\Slimas\\.SmartTomcat\\spring-web-demo\\spring-web-demo\\conf\\logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2021.2.2\\lib\\idea_rt.jar=59958:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2021.2.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\Users\\Slimas\\Desktop\\apache-tomcat-9.0.67\\bin\\bootstrap.jar;C:\\Users\\Slimas\\Desktop\\apache-tomcat-9.0.67\\bin\\tomcat-juli.jar org.apache.catalina.startup.Bootstrap start\nNOTE: Picked up JDK_JAVA_OPTIONS: --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\n05-Oct-2022 14:55:37.818 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version name:   Apache Tomcat/9.0.67\n05-Oct-2022 14:55:37.820 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Sep 23 2022 11:22:29 UTC\n05-Oct-2022 14:55:37.820 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 9.0.67.0\n05-Oct-2022 14:55:37.820 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Windows 10\n05-Oct-2022 14:55:37.820 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            10.0\n05-Oct-2022 14:55:37.820 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64\n05-Oct-2022 14:55:37.820 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             C:\\Users\\Slimas\\.jdks\\openjdk-17\n05-Oct-2022 14:55:37.820 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           17+35-2724\n05-Oct-2022 14:55:37.821 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation\n05-Oct-2022 14:55:37.821 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         C:\\Users\\Slimas\\.SmartTomcat\\spring-web-demo\\spring-web-demo\n05-Oct-2022 14:55:37.821 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         C:\\Users\\Slimas\\Desktop\\apache-tomcat-9.0.67\n05-Oct-2022 14:55:37.826 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.lang=ALL-UNNAMED\n05-Oct-2022 14:55:37.826 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.io=ALL-UNNAMED\n05-Oct-2022 14:55:37.826 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util=ALL-UNNAMED\n05-Oct-2022 14:55:37.826 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED\n05-Oct-2022 14:55:37.826 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\n05-Oct-2022 14:55:37.826 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=C:\\Users\\Slimas\\Desktop\\apache-tomcat-9.0.67\n05-Oct-2022 14:55:37.826 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=C:\\Users\\Slimas\\.SmartTomcat\\spring-web-demo\\spring-web-demo\n05-Oct-2022 14:55:37.826 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=C:\\Users\\Slimas\\.SmartTomcat\\spring-web-demo\\spring-web-demo\\temp\n05-Oct-2022 14:55:37.826 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=C:\\Users\\Slimas\\.SmartTomcat\\spring-web-demo\\spring-web-demo\\conf\\logging.properties\n05-Oct-2022 14:55:37.827 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\n05-Oct-2022 14:55:37.827 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2021.2.2\\lib\\idea_rt.jar=59958:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2021.2.2\\bin\n05-Oct-2022 14:55:37.827 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dfile.encoding=UTF-8\n05-Oct-2022 14:55:37.828 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent Loaded Apache Tomcat Native library [1.2.35] using APR version [1.7.0].\n05-Oct-2022 14:55:37.829 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].\n05-Oct-2022 14:55:37.829 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]\n05-Oct-2022 14:55:37.831 INFO [main] org.apache.catalina.core.AprLifecycleListener.initializeSSL OpenSSL successfully initialized [OpenSSL 1.1.1q  5 Jul 2022]\n05-Oct-2022 14:55:37.985 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\n05-Oct-2022 14:55:37.998 INFO [main] org.apache.catalina.startup.Catalina.load Server initialization in [298] milliseconds\n05-Oct-2022 14:55:38.023 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\n05-Oct-2022 14:55:38.024 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/9.0.67]\n05-Oct-2022 14:55:38.030 INFO [main] org.apache.catalina.startup.HostConfig.deployDescriptor Deploying deployment descriptor [C:\\Users\\Slimas\\.SmartTomcat\\spring-web-demo\\spring-web-demo\\conf\\Catalina\\localhost\\spring-web-demo.xml]\n05-Oct-2022 14:55:38.939 INFO [main] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n05-Oct-2022 14:55:39.152 INFO [main] org.springframework.web.servlet.DispatcherServlet.initServletBean FrameworkServlet 'dispatcher': initialization started\n05-Oct-2022 14:55:39.173 SEVERE [main] org.springframework.web.servlet.DispatcherServlet.initServletBean Context initialization failed\n    org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.context.support.XmlWebApplicationContext]: Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/core/metrics/ApplicationStartup\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:154)\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:102)\n        at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:628)\n        at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:682)\n        at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:553)\n        at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:494)\n        at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\n        at javax.servlet.GenericServlet.init(GenericServlet.java:158)\n        at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164)\n        at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1117)\n        at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1010)\n        at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4958)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5265)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\n        at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:690)\n        at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1889)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\n        at org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:583)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:473)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1618)\n        at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\n        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n        at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\n        at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946)\n        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:265)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\n    Caused by: java.lang.NoClassDefFoundError: org/springframework/core/metrics/ApplicationStartup\n        at org.springframework.context.support.AbstractApplicationContext.&lt;init&gt;(AbstractApplicationContext.java:229)\n        at org.springframework.context.support.AbstractRefreshableApplicationContext.&lt;init&gt;(AbstractRefreshableApplicationContext.java:81)\n        at org.springframework.context.support.AbstractRefreshableConfigApplicationContext.&lt;init&gt;(AbstractRefreshableConfigApplicationContext.java:51)\n        at org.springframework.web.context.support.AbstractRefreshableWebApplicationContext.&lt;init&gt;(AbstractRefreshableWebApplicationContext.java:95)\n        at org.springframework.web.context.support.XmlWebApplicationContext.&lt;init&gt;(XmlWebApplicationContext.java:62)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:142)\n        ... 51 more\n    Caused by: java.lang.ClassNotFoundException: org.springframework.core.metrics.ApplicationStartup\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\n        ... 62 more\n05-Oct-2022 14:55:39.188 INFO [main] org.apache.catalina.startup.HostConfig.deployDescriptor Deployment of deployment descriptor [C:\\Users\\Slimas\\.SmartTomcat\\spring-web-demo\\spring-web-demo\\conf\\Catalina\\localhost\\spring-web-demo.xml] has finished in [1,157] ms\n05-Oct-2022 14:55:39.190 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\n05-Oct-2022 14:55:39.220 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [1222] milliseconds\nhttp://localhost:8080/spring-web-demo/\n</code></pre>\n<p>And lastly, the project structure:<a href=\"https://i.stack.imgur.com/dLRCJ.png\" rel=\"nofollow noreferrer\">Image of project structure</a></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":320407,"reputation":14632,"user_id":638670,"accept_rate":82,"display_name":"Abbas Gadhia"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1606664569,"creation_date":1606661928,"answer_id":65061505,"question_id":65061504,"body_markdown":"The jmap command being used might be of a version that is lower than the jdk version used to spawn the process.\r\n\r\nFirst check your jdk version\r\n\r\n    java -version\r\n\r\nThen, one can quickly check the jdk version of the jvm by figuring out the launch command for that pid.\r\n\r\n    ps -p {your_jvm_id} -f\r\n\r\nThe output should look something like this.\r\n\r\n    UID        PID   PPID  C STIME TTY          TIME     CMD\r\n    x.y+       3848  3786  7 Nov18 tty2         20:29:41 /apps/progs/ideaIC-2020.2.3/idea-IC-202.7660.26/jbr/bin/java -classpath /apps/progs/ideaIC-2020.2.3/idea-IC-202.7660.26/lib/bootstrap.jar:/apps/progs/ideaIC-2020.2\r\n\r\nIn the CMD column, you should see the path of the java executable used to launch the process.\r\nTry getting the version of that executable.\r\n\r\nFor example:\r\n\r\n    /apps/progs/ideaIC-2020.2.3/idea-IC-202.7660.26/jbr/bin/java -version\r\n\r\n    openjdk version &quot;11.0.8&quot; 2020-07-14\r\n    OpenJDK Runtime Environment JBR-11.0.8.10-944.34-jcef (build 11.0.8+10-b944.34)\r\n    OpenJDK 64-Bit Server VM JBR-11.0.8.10-944.34-jcef (build 11.0.8+10-b944.34, mixed mode)\r\n\r\nNotice the difference between the versions","title":"Can&#39;t determine target&#39;s VM version : field &quot;_reserve_for_allocation_prefetch&quot; while using jmap or jstat","body":"<p>The jmap command being used might be of a version that is lower than the jdk version used to spawn the process.</p>\n<p>First check your jdk version</p>\n<pre><code>java -version\n</code></pre>\n<p>Then, one can quickly check the jdk version of the jvm by figuring out the launch command for that pid.</p>\n<pre><code>ps -p {your_jvm_id} -f\n</code></pre>\n<p>The output should look something like this.</p>\n<pre><code>UID        PID   PPID  C STIME TTY          TIME     CMD\nx.y+       3848  3786  7 Nov18 tty2         20:29:41 /apps/progs/ideaIC-2020.2.3/idea-IC-202.7660.26/jbr/bin/java -classpath /apps/progs/ideaIC-2020.2.3/idea-IC-202.7660.26/lib/bootstrap.jar:/apps/progs/ideaIC-2020.2\n</code></pre>\n<p>In the CMD column, you should see the path of the java executable used to launch the process.\nTry getting the version of that executable.</p>\n<p>For example:</p>\n<pre><code>/apps/progs/ideaIC-2020.2.3/idea-IC-202.7660.26/jbr/bin/java -version\n\nopenjdk version &quot;11.0.8&quot; 2020-07-14\nOpenJDK Runtime Environment JBR-11.0.8.10-944.34-jcef (build 11.0.8+10-b944.34)\nOpenJDK 64-Bit Server VM JBR-11.0.8.10-944.34-jcef (build 11.0.8+10-b944.34, mixed mode)\n</code></pre>\n<p>Notice the difference between the versions</p>\n"},{"tags":[],"owner":{"account_id":21617092,"reputation":1,"user_id":15942724,"display_name":"lin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664982319,"creation_date":1664982319,"answer_id":73962459,"question_id":65061504,"body_markdown":"Maybe your application used different java version from your environment setting，as you use jdk11 application ，when you want use jvm order in console，java will throw a likely exception.","title":"Can&#39;t determine target&#39;s VM version : field &quot;_reserve_for_allocation_prefetch&quot; while using jmap or jstat","body":"<p>Maybe your application used different java version from your environment setting，as you use jdk11 application ，when you want use jvm order in console，java will throw a likely exception.</p>\n"}],"owner":{"account_id":320407,"reputation":14632,"user_id":638670,"accept_rate":82,"display_name":"Abbas Gadhia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2480,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65061505,"answer_count":2,"score":2,"last_activity_date":1664982319,"creation_date":1606661928,"question_id":65061504,"body_markdown":"I get the following error when i try using jmap, jinfo etc and try connecting to a running jvm.\r\n\r\nFor example\r\n\r\n    [x@y bin]$ jmap -heap 3848\r\n\r\n    Attaching to process ID 3848, please wait...\r\n    Error attaching to process: java.lang.RuntimeException: can&#39;t determine target&#39;s VM version : field &quot;_reserve_for_allocation_prefetch&quot; not found in type Abstract_VM_Version\r\n    sun.jvm.hotspot.debugger.DebuggerException: java.lang.RuntimeException: can&#39;t determine target&#39;s VM version : field &quot;_reserve_for_allocation_prefetch&quot; not found in type Abstract_VM_Version\r\n    \tat sun.jvm.hotspot.HotSpotAgent.setupVM(HotSpotAgent.java:435)\r\n    \tat sun.jvm.hotspot.HotSpotAgent.go(HotSpotAgent.java:305)\r\n    \tat sun.jvm.hotspot.HotSpotAgent.attach(HotSpotAgent.java:140)\r\n    \tat sun.jvm.hotspot.tools.Tool.start(Tool.java:185)\r\n    \tat sun.jvm.hotspot.tools.Tool.execute(Tool.java:118)\r\n    \tat sun.jvm.hotspot.tools.HeapSummary.main(HeapSummary.java:50)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat sun.tools.jmap.JMap.runTool(JMap.java:201)\r\n    \tat sun.tools.jmap.JMap.main(JMap.java:130)\r\n    Caused by: java.lang.RuntimeException: can&#39;t determine target&#39;s VM version : field &quot;_reserve_for_allocation_prefetch&quot; not found in type Abstract_VM_Version\r\n    \tat sun.jvm.hotspot.runtime.VM.&lt;init&gt;(VM.java:291)\r\n    \tat sun.jvm.hotspot.runtime.VM.initialize(VM.java:370)\r\n    \tat sun.jvm.hotspot.HotSpotAgent.setupVM(HotSpotAgent.java:431)\r\n    \t... 11 more\r\n\r\n\r\nWhat could be the problem?","title":"Can&#39;t determine target&#39;s VM version : field &quot;_reserve_for_allocation_prefetch&quot; while using jmap or jstat","body":"<p>I get the following error when i try using jmap, jinfo etc and try connecting to a running jvm.</p>\n<p>For example</p>\n<pre><code>[x@y bin]$ jmap -heap 3848\n\nAttaching to process ID 3848, please wait...\nError attaching to process: java.lang.RuntimeException: can't determine target's VM version : field &quot;_reserve_for_allocation_prefetch&quot; not found in type Abstract_VM_Version\nsun.jvm.hotspot.debugger.DebuggerException: java.lang.RuntimeException: can't determine target's VM version : field &quot;_reserve_for_allocation_prefetch&quot; not found in type Abstract_VM_Version\n    at sun.jvm.hotspot.HotSpotAgent.setupVM(HotSpotAgent.java:435)\n    at sun.jvm.hotspot.HotSpotAgent.go(HotSpotAgent.java:305)\n    at sun.jvm.hotspot.HotSpotAgent.attach(HotSpotAgent.java:140)\n    at sun.jvm.hotspot.tools.Tool.start(Tool.java:185)\n    at sun.jvm.hotspot.tools.Tool.execute(Tool.java:118)\n    at sun.jvm.hotspot.tools.HeapSummary.main(HeapSummary.java:50)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.tools.jmap.JMap.runTool(JMap.java:201)\n    at sun.tools.jmap.JMap.main(JMap.java:130)\nCaused by: java.lang.RuntimeException: can't determine target's VM version : field &quot;_reserve_for_allocation_prefetch&quot; not found in type Abstract_VM_Version\n    at sun.jvm.hotspot.runtime.VM.&lt;init&gt;(VM.java:291)\n    at sun.jvm.hotspot.runtime.VM.initialize(VM.java:370)\n    at sun.jvm.hotspot.HotSpotAgent.setupVM(HotSpotAgent.java:431)\n    ... 11 more\n</code></pre>\n<p>What could be the problem?</p>\n"},{"tags":["java","android-studio","class","oop","methods"],"answers":[{"comments":[{"owner":{"account_id":22092532,"reputation":11,"user_id":16350386,"display_name":"LoreX"},"score":0,"creation_date":1665158309,"post_id":73962368,"comment_id":130641739,"body_markdown":"Thank you about helping me to find sth amazing like Binding!!!","body":"Thank you about helping me to find sth amazing like Binding!!!"}],"tags":[],"owner":{"account_id":26528903,"reputation":11,"user_id":20161430,"display_name":"ximp_"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664982005,"creation_date":1664981960,"answer_id":73962368,"question_id":73954729,"body_markdown":"First of all, you getting a black screen could be because you didnt turn the emulator on ;) There&#39;s a power button you need to press before you can use it.\r\n\r\nI really like your idea to extract all the view elements into their own file. However, as of now, your app would crash. Your settings panel will be `null`, because your `Object` Activity can&#39;t access the view items, resulting in a `NullPointerException`. There just isnt a computed layout for `Object` to use, because the view items don&#39;t exist yet! `setContentView()` needs to be called before accessing view.\r\n\r\nSo, either you place `setContentView()` before the `super`-call OR in the `onCreate()` of the `Object` class itself. This is also where you would place the `findView`-calls:\r\n```\r\n// Possibility 1\r\npublic class MainActivity extends Object{\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        setContentView(R.layout.activity_main); // &lt;---\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n}\r\n        \r\n// Possibility 2\r\npublic class Object extends AppCompatActivity {\r\n    Tabitem settingsPanel;\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        settingsPanel= findViewById(R.id.SettingsPanel);\r\n    }\r\n}\r\n```\r\n**Also, don&#39;t nest `Activities` into one another. MainActivity can also directly extend `Object`**\r\n\r\nStill, I wouldn&#39;t recommend doing it like this. If you are really bothered by all the `findViewById` calls, you can try [ViewBinding][1], it&#39;s the recommended way by google.\r\n\r\nConcerning your trigger, why not use a button?\r\n```\r\nfindViewById(R.id.Button).setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View v) {\r\n        shower()\r\n    }\r\n});       \r\n```\r\n\r\n\r\n(A little side note to the end: Since you are new to android and java and you say you are open for different ways, if this is gonna be a big project with lots of dynamic view changes, don&#39;t use java. Kotlin, the other official android language with long-time support from google, has a feature called jetpack compose. It&#39;s basically declarative view building -&gt; less code, more dynamic. You can read about it [here][2]. If it&#39;s a small project, stick with java.\r\n\r\nAlso, to learn android, here are two good tutorial resources/sites: [developers.android][3] and [free code camp][4].)\r\n\r\n\r\n  [1]: https://developer.android.com/topic/libraries/view-binding\r\n  [2]: https://developer.android.com/jetpack/compose/tutorial\r\n  [3]: https://developer.android.com/training/basics/firstapp\r\n  [4]: https://www.freecodecamp.org/news/intro-to-android-development/","title":"Android studio defining objects(TabItem) in other java files","body":"<p>First of all, you getting a black screen could be because you didnt turn the emulator on ;) There's a power button you need to press before you can use it.</p>\n<p>I really like your idea to extract all the view elements into their own file. However, as of now, your app would crash. Your settings panel will be <code>null</code>, because your <code>Object</code> Activity can't access the view items, resulting in a <code>NullPointerException</code>. There just isnt a computed layout for <code>Object</code> to use, because the view items don't exist yet! <code>setContentView()</code> needs to be called before accessing view.</p>\n<p>So, either you place <code>setContentView()</code> before the <code>super</code>-call OR in the <code>onCreate()</code> of the <code>Object</code> class itself. This is also where you would place the <code>findView</code>-calls:</p>\n<pre><code>// Possibility 1\npublic class MainActivity extends Object{\n    protected void onCreate(Bundle savedInstanceState) {\n        setContentView(R.layout.activity_main); // &lt;---\n        super.onCreate(savedInstanceState);\n    }\n}\n        \n// Possibility 2\npublic class Object extends AppCompatActivity {\n    Tabitem settingsPanel;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        settingsPanel= findViewById(R.id.SettingsPanel);\n    }\n}\n</code></pre>\n<p><strong>Also, don't nest <code>Activities</code> into one another. MainActivity can also directly extend <code>Object</code></strong></p>\n<p>Still, I wouldn't recommend doing it like this. If you are really bothered by all the <code>findViewById</code> calls, you can try <a href=\"https://developer.android.com/topic/libraries/view-binding\" rel=\"nofollow noreferrer\">ViewBinding</a>, it's the recommended way by google.</p>\n<p>Concerning your trigger, why not use a button?</p>\n<pre><code>findViewById(R.id.Button).setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        shower()\n    }\n});       \n</code></pre>\n<p>(A little side note to the end: Since you are new to android and java and you say you are open for different ways, if this is gonna be a big project with lots of dynamic view changes, don't use java. Kotlin, the other official android language with long-time support from google, has a feature called jetpack compose. It's basically declarative view building -&gt; less code, more dynamic. You can read about it <a href=\"https://developer.android.com/jetpack/compose/tutorial\" rel=\"nofollow noreferrer\">here</a>. If it's a small project, stick with java.</p>\n<p>Also, to learn android, here are two good tutorial resources/sites: <a href=\"https://developer.android.com/training/basics/firstapp\" rel=\"nofollow noreferrer\">developers.android</a> and <a href=\"https://www.freecodecamp.org/news/intro-to-android-development/\" rel=\"nofollow noreferrer\">free code camp</a>.)</p>\n"}],"owner":{"account_id":22092532,"reputation":11,"user_id":16350386,"display_name":"LoreX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664982005,"creation_date":1664928102,"question_id":73954729,"body_markdown":"As a beginner java and AndroidStudio user, I&#39;ve created a java file (in same package) called objects and decided to define the items(such as buttons,views etc) there instead of defining them into\r\nvoid createOn(). \r\n\r\n\r\n```java\r\n\r\npackage com.example.turref;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport com.google.android.material.tabs.TabItem;\r\n\r\npublic class Object extends AppCompatActivity {\r\n\r\nTabitem settingsPanel = findViewById(R.id.settingsPanel);\r\n\r\n}\r\n\r\n    \r\n\r\n```\r\n\r\nHowever, I also want to use triggers in Mainactivity and make sth visible/invisible once they triggered.\r\n\r\n```java\r\n\r\npackage com.example.turref;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport com.google.android.material.tabs.TabItem;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    public class Main2 extends Object {\r\n\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            \r\n            /* some kind of trigger (can be button)\r\n\r\n            calls shower() when triggered        */\r\n        }\r\n\r\n        void shower() {\r\n            settingsPanel.setVisibility(View.VISIBLE);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen I do sth like that it kinda works but I get a black screen once I run the emulator.\r\nCan someone help me solve this?\r\n\r\n(I`m open to all kind of ways, the important point is to be able to access settingsPanel in show() method )\r\n\r\n\r\n  ","title":"Android studio defining objects(TabItem) in other java files","body":"<p>As a beginner java and AndroidStudio user, I've created a java file (in same package) called objects and decided to define the items(such as buttons,views etc) there instead of defining them into\nvoid createOn().</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npackage com.example.turref;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport com.google.android.material.tabs.TabItem;\n\npublic class Object extends AppCompatActivity {\n\nTabitem settingsPanel = findViewById(R.id.settingsPanel);\n\n}\n\n    \n\n</code></pre>\n<p>However, I also want to use triggers in Mainactivity and make sth visible/invisible once they triggered.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npackage com.example.turref;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport com.google.android.material.tabs.TabItem;\n\npublic class MainActivity extends AppCompatActivity {\n\n    public class Main2 extends Object {\n\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n            \n            /* some kind of trigger (can be button)\n\n            calls shower() when triggered        */\n        }\n\n        void shower() {\n            settingsPanel.setVisibility(View.VISIBLE);\n        }\n    }\n}\n</code></pre>\n<p>When I do sth like that it kinda works but I get a black screen once I run the emulator.\nCan someone help me solve this?</p>\n<p>(I`m open to all kind of ways, the important point is to be able to access settingsPanel in show() method )</p>\n"},{"tags":["java","google-docs","google-docs-api"],"answers":[{"comments":[{"owner":{"account_id":1480545,"reputation":528,"user_id":1390056,"accept_rate":39,"display_name":"SlavaG"},"score":1,"creation_date":1347811188,"post_id":12448375,"comment_id":16739464,"body_markdown":"The numbers are line numbers in Google docs api java code. The document is exists cause it was returned in the feed of all documents that are belongs to user.","body":"The numbers are line numbers in Google docs api java code. The document is exists cause it was returned in the feed of all documents that are belongs to user."},{"owner":{"account_id":1258735,"reputation":465,"user_id":1217625,"accept_rate":83,"display_name":"Fumler"},"score":0,"creation_date":1347811886,"post_id":12448375,"comment_id":16739613,"body_markdown":"Are you using Google Drive API or the now deprecated Google Docs API?","body":"Are you using Google Drive API or the now deprecated Google Docs API?"},{"owner":{"account_id":1480545,"reputation":528,"user_id":1390056,"accept_rate":39,"display_name":"SlavaG"},"score":0,"creation_date":1347813655,"post_id":12448375,"comment_id":16740012,"body_markdown":"Still using deprecated Google Docs API.","body":"Still using deprecated Google Docs API."},{"owner":{"account_id":1258735,"reputation":465,"user_id":1217625,"accept_rate":83,"display_name":"Fumler"},"score":0,"creation_date":1347813837,"post_id":12448375,"comment_id":16740054,"body_markdown":"Well I&#39;m not in any way an expert at this, but it seems after reading a bit that you need to authenticate yourself, because you are getting private documents, and if you are not authenticated they will return nothing. Hope that helps.","body":"Well I&#39;m not in any way an expert at this, but it seems after reading a bit that you need to authenticate yourself, because you are getting private documents, and if you are not authenticated they will return nothing. Hope that helps."},{"owner":{"account_id":1480545,"reputation":528,"user_id":1390056,"accept_rate":39,"display_name":"SlavaG"},"score":0,"creation_date":1347814048,"post_id":12448375,"comment_id":16740087,"body_markdown":"Sorry, but doesn&#39;t help. Let&#39;s me clarify myself, after I getting the feed, I can get 99 documents and one is problematic, so I&#39;m authenticated properly and everything is working fine, except this problematic document. Thanks","body":"Sorry, but doesn&#39;t help. Let&#39;s me clarify myself, after I getting the feed, I can get 99 documents and one is problematic, so I&#39;m authenticated properly and everything is working fine, except this problematic document. Thanks"}],"tags":[],"owner":{"account_id":1258735,"reputation":465,"user_id":1217625,"accept_rate":83,"display_name":"Fumler"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1347811021,"creation_date":1347811021,"answer_id":12448375,"question_id":12448323,"body_markdown":"Not sure what those numbers at the end of each line do, but if they are some sort of ID for the document that might be where your problem is. Because according to your error message I think the document you are trying to access does not exist.","title":"Document not found","body":"<p>Not sure what those numbers at the end of each line do, but if they are some sort of ID for the document that might be where your problem is. Because according to your error message I think the document you are trying to access does not exist.</p>\n"}],"owner":{"account_id":1480545,"reputation":528,"user_id":1390056,"accept_rate":39,"display_name":"SlavaG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":939,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664981261,"creation_date":1347810596,"question_id":12448323,"body_markdown":"I&#39;m trying to download documents and for that working with document list\r\napi.\r\nGetging feed from https://docs.google.com/feeds/default/private/full of\r\ndocuemnts and iterating over it, geting entry to download documents.\r\nBig part of the documents are downloaded fine, but there part of them that\r\nthrows ResourceNotFoundException, here the trace:\r\n\r\n    at\r\n     com.google.gdata.client.http.HttpGDataRequest.handleErrorResponse(HttpGDataRequest.java:591)\r\n     at\r\n     com.google.gdata.client.http.GoogleGDataRequest.handleErrorResponse(GoogleGDataRequest.java:563)\r\n      at\r\n     com.google.gdata.client.http.HttpGDataRequest.checkResponse(HttpGDataRequest.java:552)\r\n      at\r\n     com.google.gdata.client.http.HttpGDataRequest.execute(HttpGDataRequest.java:530)\r\n      at\r\n     com.google.gdata.client.http.GoogleGDataRequest.execute(GoogleGDataRequest.java:535)\r\n      at\r\n     com.google.gdata.client.media.MediaService.getMediaResource(MediaService.java:234)\r\n      at\r\n     com.google.gdata.client.media.MediaService.getMedia(MediaService.java:276)\r\n      at\r\n     com.google.gdata.client.media.MediaService.getMedia(MediaService.java:302)\r\n    \r\nThe exception text is:\r\n    \r\n     com.google.gdata.util.ResourceNotFoundException: Not Found\r\n\r\nAnd followed by Google html page.\r\n\r\nAny thought how this one could be resolved?\r\n","title":"Document not found","body":"<p>I'm trying to download documents and for that working with document list\napi.\nGetging feed from <a href=\"https://docs.google.com/feeds/default/private/full\" rel=\"nofollow\">https://docs.google.com/feeds/default/private/full</a> of\ndocuemnts and iterating over it, geting entry to download documents.\nBig part of the documents are downloaded fine, but there part of them that\nthrows ResourceNotFoundException, here the trace:</p>\n\n<pre><code>at\n com.google.gdata.client.http.HttpGDataRequest.handleErrorResponse(HttpGDataRequest.java:591)\n at\n com.google.gdata.client.http.GoogleGDataRequest.handleErrorResponse(GoogleGDataRequest.java:563)\n  at\n com.google.gdata.client.http.HttpGDataRequest.checkResponse(HttpGDataRequest.java:552)\n  at\n com.google.gdata.client.http.HttpGDataRequest.execute(HttpGDataRequest.java:530)\n  at\n com.google.gdata.client.http.GoogleGDataRequest.execute(GoogleGDataRequest.java:535)\n  at\n com.google.gdata.client.media.MediaService.getMediaResource(MediaService.java:234)\n  at\n com.google.gdata.client.media.MediaService.getMedia(MediaService.java:276)\n  at\n com.google.gdata.client.media.MediaService.getMedia(MediaService.java:302)\n</code></pre>\n\n<p>The exception text is:</p>\n\n<pre><code> com.google.gdata.util.ResourceNotFoundException: Not Found\n</code></pre>\n\n<p>And followed by Google html page.</p>\n\n<p>Any thought how this one could be resolved?</p>\n"},{"tags":["java","selenium","button","xpath"],"comments":[{"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"score":0,"creation_date":1664975639,"post_id":73960252,"comment_id":130590962,"body_markdown":"Are you sure it is not under any ifreame?","body":"Are you sure it is not under any ifreame?"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1664975775,"post_id":73960252,"comment_id":130591014,"body_markdown":"Hey @KunduK hmm, i don&#39;t really know. Just want to click on that button that contains other things. What would you do to solve this?","body":"Hey @KunduK hmm, i don&#39;t really know. Just want to click on that button that contains other things. What would you do to solve this?"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1664975783,"post_id":73960252,"comment_id":130591018,"body_markdown":"@KunduK i&#39;m kinda lost","body":"@KunduK i&#39;m kinda lost"}],"answers":[{"comments":[{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1664973570,"post_id":73960426,"comment_id":130590135,"body_markdown":"Hi, how are you?. You mean this: driver.findElement(By.xpath(&quot;//span[contains(text(),&#39;Sales Matrix&#39;)]&quot;)).click(); ?","body":"Hi, how are you?. You mean this: driver.findElement(By.xpath(&quot;//span[contains(text(),&#39;Sales Matrix&#39;)]&quot;)).click(); ?"},{"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"score":0,"creation_date":1664973676,"post_id":73960426,"comment_id":130590173,"body_markdown":"Hey, Yes, try with both `xpath` as i did not tested in my machine.","body":"Hey, Yes, try with both <code>xpath</code> as i did not tested in my machine."},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1664974005,"post_id":73960426,"comment_id":130590318,"body_markdown":"I tried both XPATH, take a look:\na) driver.findElement(By.xpath(&quot;//span[contains(text(),&#39;Sales Matrix&#39;)]&quot;)).click();\nb) driver.findElement(By.xpath(&quot;//span[normalize-space()=&#39;Sales Matrix&#39;]&quot;)).click();.\nDid not work","body":"I tried both XPATH, take a look: a) driver.findElement(By.xpath(&quot;//span[contains(text(),&#39;Sales Matrix&#39;)]&quot;)).click(); b) driver.findElement(By.xpath(&quot;//span[normalize-space()=&#39;Sales Matrix&#39;]&quot;)).click();. Did not work"},{"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"score":0,"creation_date":1664974084,"post_id":73960426,"comment_id":130590348,"body_markdown":"What `error` are you getting ?","body":"What <code>error</code> are you getting ?"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1664974159,"post_id":73960426,"comment_id":130590369,"body_markdown":"Take a look: Exception in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//span[normalize-space()=&#39;Sales Matrix&#39;]&quot;}","body":"Take a look: Exception in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//span[normalize-space()=&#39;Sale&zwnj;&#8203;s Matrix&#39;]&quot;}"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1664974202,"post_id":73960426,"comment_id":130590379,"body_markdown":"If i try to use your third method i got this error message on the IDE: &quot;The constructor WebDriverWait(WebDriver, int) is undefined&quot;","body":"If i try to use your third method i got this error message on the IDE: &quot;The constructor WebDriverWait(WebDriver, int) is undefined&quot;"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1664975244,"post_id":73960426,"comment_id":130590774,"body_markdown":"Hmm, it is strange. I do not know what to do","body":"Hmm, it is strange. I do not know what to do"},{"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"score":0,"creation_date":1664975587,"post_id":73960426,"comment_id":130590942,"body_markdown":"Have you added the import ?","body":"Have you added the import ?"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1664975712,"post_id":73960426,"comment_id":130590993,"body_markdown":"Yeah, i use this instead: WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));  but it says the same. Exception in thread &quot;main&quot; org.openqa.selenium.TimeoutException: Expected condition failed: waiting for element to be clickable: By.xpath: //span[contains(text(),&#39;Sales Matrix&#39;)] (tried for 10 second(s) with 500 milliseconds interval)","body":"Yeah, i use this instead: WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));  but it says the same. Exception in thread &quot;main&quot; org.openqa.selenium.TimeoutException: Expected condition failed: waiting for element to be clickable: By.xpath: //span[contains(text(),&#39;Sales Matrix&#39;)] (tried for 10 second(s) with 500 milliseconds interval)"},{"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"score":0,"creation_date":1664976529,"post_id":73960426,"comment_id":130591327,"body_markdown":"Can you provide the `url` ?","body":"Can you provide the <code>url</code> ?"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1664976591,"post_id":73960426,"comment_id":130591358,"body_markdown":"The problem is it is not exposed at all. Can i give you something different instead?","body":"The problem is it is not exposed at all. Can i give you something different instead?"},{"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"score":0,"creation_date":1664976705,"post_id":73960426,"comment_id":130591411,"body_markdown":"I get it, it&#39;s the locator issue I think, so can you provide the `url`  if possible or check the HTML is there any frame ?","body":"I get it, it&#39;s the locator issue I think, so can you provide the <code>url</code>  if possible or check the HTML is there any frame ?"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1664976966,"post_id":73960426,"comment_id":130591515,"body_markdown":"I can give the HTML DOM?","body":"I can give the HTML DOM?"},{"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"score":0,"creation_date":1664977918,"post_id":73960426,"comment_id":130591975,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/248565/discussion-between-akzy-and-programming-amazing).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/248565/discussion-between-akzy-and-programming-amazing\">continue this discussion in chat</a>."},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":1,"creation_date":1664981029,"post_id":73960426,"comment_id":130593285,"body_markdown":"Hey pal, i was able to solve it by using this: \tWebElement element = driver.findElement(By.xpath(&quot;//span[contains(text(),&#39;Sales Matrix&#39;)]&quot;));\n\tJavascriptExecutor executor = (JavascriptExecutor)driver;\n\texecutor.executeScript(&quot;arguments[0].click();&quot;, element);;","body":"Hey pal, i was able to solve it by using this: \tWebElement element = driver.findElement(By.xpath(&quot;//span[contains(text(),&#39;Sales Matrix&#39;)]&quot;)); \tJavascriptExecutor executor = (JavascriptExecutor)driver; \texecutor.executeScript(&quot;arguments[0].click();&quot;, element);;"}],"tags":[],"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"comment_count":15,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664978601,"creation_date":1664973193,"answer_id":73960426,"question_id":73960252,"body_markdown":"use the below `xpath`\r\n\r\n    //span[contains(text(),&#39;Sales Matrix&#39;)]\r\n\r\n***OR***\r\n\r\n    //span[normalize-space()=&#39;Sales Matrix&#39;]\r\n\r\n***OR*** \r\n\r\nyou can use `elementToBeClickable(..)` this will judge the element visible and enabled, so you can click on it.\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10)); \r\n    WebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;above-expath&quot;)));\r\n    element.click();\r\n\r\n***import***\r\n\r\n    import org.openqa.selenium.support.ui.ExpectedConditions\r\n    import org.openqa.selenium.support.ui.WebDriverWait","title":"Wont click on this button with collapsible moves using Selenium with Java","body":"<p>use the below <code>xpath</code></p>\n<pre><code>//span[contains(text(),'Sales Matrix')]\n</code></pre>\n<p><em><strong>OR</strong></em></p>\n<pre><code>//span[normalize-space()='Sales Matrix']\n</code></pre>\n<p><em><strong>OR</strong></em></p>\n<p>you can use <code>elementToBeClickable(..)</code> this will judge the element visible and enabled, so you can click on it.</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10)); \nWebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;above-expath&quot;)));\nelement.click();\n</code></pre>\n<p><em><strong>import</strong></em></p>\n<pre><code>import org.openqa.selenium.support.ui.ExpectedConditions\nimport org.openqa.selenium.support.ui.WebDriverWait\n</code></pre>\n"}],"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73960426,"answer_count":1,"score":0,"last_activity_date":1664981066,"creation_date":1664972389,"question_id":73960252,"body_markdown":"I got this button:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIt has this:\r\n\r\n    &lt;strong data-bind=&quot;css: {&#39;admin__collapsible-title&#39;: collapsible,\r\n                          title: !collapsible,\r\n                          &#39;_changed&#39;: changed,\r\n                          &#39;_loading&#39;: loading,\r\n                          &#39;_error&#39;: error}&quot; class=&quot;admin__collapsible-title&quot;&gt;\r\n                &lt;span data-bind=&quot;i18n: label&quot;&gt;Sales Matrix&lt;/span&gt;\r\n                &lt;!-- ko if: collapsible --&gt;&lt;span class=&quot;admin__page-nav-item-messages&quot;&gt;\r\n                    &lt;span class=&quot;admin__page-nav-item-message _changed&quot;&gt;\r\n                        &lt;span class=&quot;admin__page-nav-item-message-icon&quot;&gt;&lt;/span&gt;\r\n                        &lt;span class=&quot;admin__page-nav-item-message-tooltip&quot; data-bind=&quot;i18n: &#39;Changes have been made to this section that have not been saved.&#39;&quot;&gt;Changes have been made to this section that have not been saved.&lt;/span&gt;\r\n                    &lt;/span&gt;\r\n                    &lt;span class=&quot;admin__page-nav-item-message _error&quot;&gt;\r\n                        &lt;span class=&quot;admin__page-nav-item-message-icon&quot;&gt;&lt;/span&gt;\r\n                        &lt;span class=&quot;admin__page-nav-item-message-tooltip&quot; data-bind=&quot;i18n: &#39;This tab contains invalid data. Please resolve this before saving.&#39;&quot;&gt;This tab contains invalid data. Please resolve this before saving.&lt;/span&gt;\r\n                    &lt;/span&gt;\r\n                    &lt;span class=&quot;admin__page-nav-item-message-loader&quot;&gt;\r\n                        &lt;span class=&quot;spinner&quot;&gt;\r\n                           &lt;!-- ko repeat: 8 --&gt;&lt;span data-repeat-index=&quot;0&quot;&gt;&lt;/span&gt;&lt;span data-repeat-index=&quot;1&quot;&gt;&lt;/span&gt;&lt;span data-repeat-index=&quot;2&quot;&gt;&lt;/span&gt;&lt;span data-repeat-index=&quot;3&quot;&gt;&lt;/span&gt;&lt;span data-repeat-index=&quot;4&quot;&gt;&lt;/span&gt;&lt;span data-repeat-index=&quot;5&quot;&gt;&lt;/span&gt;&lt;span data-repeat-index=&quot;6&quot;&gt;&lt;/span&gt;&lt;span data-repeat-index=&quot;7&quot;&gt;&lt;/span&gt;&lt;!-- /ko --&gt;\r\n                        &lt;/span&gt;\r\n                   &lt;/span&gt;\r\n                &lt;/span&gt;&lt;!-- /ko --&gt;\r\n            &lt;/strong&gt;\r\n\r\nIt&#39;s XPATH is:\r\n\r\n    //*[@id=&quot;container&quot;]/div/div[2]/div[4]/div[1]/strong\r\n\r\nI tried to do something like this:\r\n\r\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;container\\&quot;]/div/div[2]/div[4]/div[1]/strong&quot;)).click();\r\n\r\nbut it says it couldnt found something with &quot;strong&quot;.\r\n\r\nAlso, i tried this:\r\n\r\n    driver.findElement(By.linkText(&quot;Sales Matrix&quot;)).click();\r\n\r\nBut it wont work.\r\n\r\n---------------------------------------------------\r\nI solved it by doing this:\r\n\r\n    WebElement element = driver.findElement(By.xpath(&quot;//span[contains(text(),&#39;Sales Matrix&#39;)]&quot;));\r\n    JavascriptExecutor executor = (JavascriptExecutor)driver;\r\n    executor.executeScript(&quot;arguments[0].click();&quot;, element);\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eQX9j.gif","title":"Wont click on this button with collapsible moves using Selenium with Java","body":"<p>I got this button:</p>\n<p><a href=\"https://i.stack.imgur.com/eQX9j.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eQX9j.gif\" alt=\"enter image description here\" /></a></p>\n<p>It has this:</p>\n<pre><code>&lt;strong data-bind=&quot;css: {'admin__collapsible-title': collapsible,\n                      title: !collapsible,\n                      '_changed': changed,\n                      '_loading': loading,\n                      '_error': error}&quot; class=&quot;admin__collapsible-title&quot;&gt;\n            &lt;span data-bind=&quot;i18n: label&quot;&gt;Sales Matrix&lt;/span&gt;\n            &lt;!-- ko if: collapsible --&gt;&lt;span class=&quot;admin__page-nav-item-messages&quot;&gt;\n                &lt;span class=&quot;admin__page-nav-item-message _changed&quot;&gt;\n                    &lt;span class=&quot;admin__page-nav-item-message-icon&quot;&gt;&lt;/span&gt;\n                    &lt;span class=&quot;admin__page-nav-item-message-tooltip&quot; data-bind=&quot;i18n: 'Changes have been made to this section that have not been saved.'&quot;&gt;Changes have been made to this section that have not been saved.&lt;/span&gt;\n                &lt;/span&gt;\n                &lt;span class=&quot;admin__page-nav-item-message _error&quot;&gt;\n                    &lt;span class=&quot;admin__page-nav-item-message-icon&quot;&gt;&lt;/span&gt;\n                    &lt;span class=&quot;admin__page-nav-item-message-tooltip&quot; data-bind=&quot;i18n: 'This tab contains invalid data. Please resolve this before saving.'&quot;&gt;This tab contains invalid data. Please resolve this before saving.&lt;/span&gt;\n                &lt;/span&gt;\n                &lt;span class=&quot;admin__page-nav-item-message-loader&quot;&gt;\n                    &lt;span class=&quot;spinner&quot;&gt;\n                       &lt;!-- ko repeat: 8 --&gt;&lt;span data-repeat-index=&quot;0&quot;&gt;&lt;/span&gt;&lt;span data-repeat-index=&quot;1&quot;&gt;&lt;/span&gt;&lt;span data-repeat-index=&quot;2&quot;&gt;&lt;/span&gt;&lt;span data-repeat-index=&quot;3&quot;&gt;&lt;/span&gt;&lt;span data-repeat-index=&quot;4&quot;&gt;&lt;/span&gt;&lt;span data-repeat-index=&quot;5&quot;&gt;&lt;/span&gt;&lt;span data-repeat-index=&quot;6&quot;&gt;&lt;/span&gt;&lt;span data-repeat-index=&quot;7&quot;&gt;&lt;/span&gt;&lt;!-- /ko --&gt;\n                    &lt;/span&gt;\n               &lt;/span&gt;\n            &lt;/span&gt;&lt;!-- /ko --&gt;\n        &lt;/strong&gt;\n</code></pre>\n<p>It's XPATH is:</p>\n<pre><code>//*[@id=&quot;container&quot;]/div/div[2]/div[4]/div[1]/strong\n</code></pre>\n<p>I tried to do something like this:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//*[@id=\\&quot;container\\&quot;]/div/div[2]/div[4]/div[1]/strong&quot;)).click();\n</code></pre>\n<p>but it says it couldnt found something with &quot;strong&quot;.</p>\n<p>Also, i tried this:</p>\n<pre><code>driver.findElement(By.linkText(&quot;Sales Matrix&quot;)).click();\n</code></pre>\n<p>But it wont work.</p>\n<hr />\n<p>I solved it by doing this:</p>\n<pre><code>WebElement element = driver.findElement(By.xpath(&quot;//span[contains(text(),'Sales Matrix')]&quot;));\nJavascriptExecutor executor = (JavascriptExecutor)driver;\nexecutor.executeScript(&quot;arguments[0].click();&quot;, element);\n</code></pre>\n"},{"tags":["javascript","java","selenium","xpath"],"answers":[{"tags":[],"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664981010,"creation_date":1664981010,"answer_id":73962151,"question_id":73961819,"body_markdown":"I was able to solve this by doing this:\r\n\r\n    WebElement element = driver.findElement(By.xpath(&quot;//span[contains(text(),&#39;Sales Matrix&#39;)]&quot;));\r\n    JavascriptExecutor executor = (JavascriptExecutor)driver;\r\n    executor.executeScript(&quot;arguments[0].click();&quot;, element);\r\n\r\nThank you!","title":"Unable to locate element: {&quot;method&quot;:&quot;link text&quot;,&quot;selector&quot;:&quot;Sales Matrix&quot;} SELENIUM and JAVA - JavascriptExecutor","body":"<p>I was able to solve this by doing this:</p>\n<pre><code>WebElement element = driver.findElement(By.xpath(&quot;//span[contains(text(),'Sales Matrix')]&quot;));\nJavascriptExecutor executor = (JavascriptExecutor)driver;\nexecutor.executeScript(&quot;arguments[0].click();&quot;, element);\n</code></pre>\n<p>Thank you!</p>\n"}],"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664981010,"creation_date":1664979654,"question_id":73961819,"body_markdown":"I have this button with collapsible moves:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIt contains this info:\r\n\r\n    &lt;strong data-bind=&quot;css: {&#39;admin__collapsible-title&#39;: collapsible,\r\n                          title: !collapsible,\r\n                          &#39;_changed&#39;: changed,\r\n                          &#39;_loading&#39;: loading,\r\n                          &#39;_error&#39;: error}&quot; class=&quot;admin__collapsible-title&quot;&gt;\r\n                &lt;span data-bind=&quot;i18n: label&quot;&gt;Sales Matrix&lt;/span&gt;\r\n                &lt;!-- ko if: collapsible --&gt;&lt;span class=&quot;admin__page-nav-item-messages&quot;&gt;\r\n                    &lt;span class=&quot;admin__page-nav-item-message _changed&quot;&gt;\r\n                        &lt;span class=&quot;admin__page-nav-item-message-icon&quot;&gt;&lt;/span&gt;\r\n                        &lt;span class=&quot;admin__page-nav-item-message-tooltip&quot; data-bind=&quot;i18n: &#39;Changes have been made to this section that have not been saved.&#39;&quot;&gt;Changes have been made to this section that have not been saved.&lt;/span&gt;\r\n                    &lt;/span&gt;\r\n                    &lt;span class=&quot;admin__page-nav-item-message _error&quot;&gt;\r\n                        &lt;span class=&quot;admin__page-nav-item-message-icon&quot;&gt;&lt;/span&gt;\r\n                        &lt;span class=&quot;admin__page-nav-item-message-tooltip&quot; data-bind=&quot;i18n: &#39;This tab contains invalid data. Please resolve this before saving.&#39;&quot;&gt;This tab contains invalid data. Please resolve this before saving.&lt;/span&gt;\r\n                    &lt;/span&gt;\r\n                    &lt;span class=&quot;admin__page-nav-item-message-loader&quot;&gt;\r\n                        &lt;span class=&quot;spinner&quot;&gt;\r\n                           &lt;!-- ko repeat: 8 --&gt;&lt;span data-repeat-index=&quot;0&quot;&gt;&lt;/span&gt;&lt;span data-repeat-index=&quot;1&quot;&gt;&lt;/span&gt;&lt;span data-repeat-index=&quot;2&quot;&gt;&lt;/span&gt;&lt;span data-repeat-index=&quot;3&quot;&gt;&lt;/span&gt;&lt;span data-repeat-index=&quot;4&quot;&gt;&lt;/span&gt;&lt;span data-repeat-index=&quot;5&quot;&gt;&lt;/span&gt;&lt;span data-repeat-index=&quot;6&quot;&gt;&lt;/span&gt;&lt;span data-repeat-index=&quot;7&quot;&gt;&lt;/span&gt;&lt;!-- /ko --&gt;\r\n                        &lt;/span&gt;\r\n                   &lt;/span&gt;\r\n                &lt;/span&gt;&lt;!-- /ko --&gt;\r\n            &lt;/strong&gt;\r\n\r\nI have tried many ways to click on that button but nothing seems to be working for me.\r\n\r\nI tried:\r\n\r\n    a) driver.findElement(By.xpath(&quot;//span[contains(text(),&#39;Sales Matrix&#39;)]&quot;)).click();. \r\n    \r\n    \r\n    b) driver.findElement(By.xpath(&quot;//span[normalize-space()=&#39;Sales Matrix&#39;]&quot;)).click();.\r\n\r\nI think it is the locator issue and was thinkin abput using some JavascriptExecutor but don&#39;t really know how to achieve that in this case.\r\n\r\nWhat should i do?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cTQvg.gif","title":"Unable to locate element: {&quot;method&quot;:&quot;link text&quot;,&quot;selector&quot;:&quot;Sales Matrix&quot;} SELENIUM and JAVA - JavascriptExecutor","body":"<p>I have this button with collapsible moves:</p>\n<p><a href=\"https://i.stack.imgur.com/cTQvg.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cTQvg.gif\" alt=\"enter image description here\" /></a></p>\n<p>It contains this info:</p>\n<pre><code>&lt;strong data-bind=&quot;css: {'admin__collapsible-title': collapsible,\n                      title: !collapsible,\n                      '_changed': changed,\n                      '_loading': loading,\n                      '_error': error}&quot; class=&quot;admin__collapsible-title&quot;&gt;\n            &lt;span data-bind=&quot;i18n: label&quot;&gt;Sales Matrix&lt;/span&gt;\n            &lt;!-- ko if: collapsible --&gt;&lt;span class=&quot;admin__page-nav-item-messages&quot;&gt;\n                &lt;span class=&quot;admin__page-nav-item-message _changed&quot;&gt;\n                    &lt;span class=&quot;admin__page-nav-item-message-icon&quot;&gt;&lt;/span&gt;\n                    &lt;span class=&quot;admin__page-nav-item-message-tooltip&quot; data-bind=&quot;i18n: 'Changes have been made to this section that have not been saved.'&quot;&gt;Changes have been made to this section that have not been saved.&lt;/span&gt;\n                &lt;/span&gt;\n                &lt;span class=&quot;admin__page-nav-item-message _error&quot;&gt;\n                    &lt;span class=&quot;admin__page-nav-item-message-icon&quot;&gt;&lt;/span&gt;\n                    &lt;span class=&quot;admin__page-nav-item-message-tooltip&quot; data-bind=&quot;i18n: 'This tab contains invalid data. Please resolve this before saving.'&quot;&gt;This tab contains invalid data. Please resolve this before saving.&lt;/span&gt;\n                &lt;/span&gt;\n                &lt;span class=&quot;admin__page-nav-item-message-loader&quot;&gt;\n                    &lt;span class=&quot;spinner&quot;&gt;\n                       &lt;!-- ko repeat: 8 --&gt;&lt;span data-repeat-index=&quot;0&quot;&gt;&lt;/span&gt;&lt;span data-repeat-index=&quot;1&quot;&gt;&lt;/span&gt;&lt;span data-repeat-index=&quot;2&quot;&gt;&lt;/span&gt;&lt;span data-repeat-index=&quot;3&quot;&gt;&lt;/span&gt;&lt;span data-repeat-index=&quot;4&quot;&gt;&lt;/span&gt;&lt;span data-repeat-index=&quot;5&quot;&gt;&lt;/span&gt;&lt;span data-repeat-index=&quot;6&quot;&gt;&lt;/span&gt;&lt;span data-repeat-index=&quot;7&quot;&gt;&lt;/span&gt;&lt;!-- /ko --&gt;\n                    &lt;/span&gt;\n               &lt;/span&gt;\n            &lt;/span&gt;&lt;!-- /ko --&gt;\n        &lt;/strong&gt;\n</code></pre>\n<p>I have tried many ways to click on that button but nothing seems to be working for me.</p>\n<p>I tried:</p>\n<pre><code>a) driver.findElement(By.xpath(&quot;//span[contains(text(),'Sales Matrix')]&quot;)).click();. \n\n\nb) driver.findElement(By.xpath(&quot;//span[normalize-space()='Sales Matrix']&quot;)).click();.\n</code></pre>\n<p>I think it is the locator issue and was thinkin abput using some JavascriptExecutor but don't really know how to achieve that in this case.</p>\n<p>What should i do?</p>\n"},{"tags":["java","jar","jakarta-mail","libraries","bluej"],"comments":[{"owner":{"account_id":8740972,"reputation":435,"user_id":6538067,"display_name":"Shashankk Shekar Chaturvedi"},"score":0,"creation_date":1544271910,"post_id":53682173,"comment_id":94221915,"body_markdown":"Adding external jar is generally a good option, importing might result in errors though. I am not very sure about BlueJ","body":"Adding external jar is generally a good option, importing might result in errors though. I am not very sure about BlueJ"}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1544275568,"creation_date":1544275568,"answer_id":53682982,"question_id":53682173,"body_markdown":"I am not sure what your problem actually is, but here is an overview that hopefully helps:\r\n\r\nWhen you want to use 3rd party JARs for your project, you need to do three things: \r\n\r\n- your IDE must know that x.jar will be used by the project, that is where you add an *external* jar in bluej, see [here][1]\r\n- in your source code for your classes, you have to *import* any 3rd party class, so that the compiler knows you want to use it\r\n- later, when &quot;shipping&quot; your project to other people, you have to include the jar files, too. And of course, your class path setup must be correct.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/32346079/adding-library-in-bluej","title":"How to add a .jar file to a BlueJ project?","body":"<p>I am not sure what your problem actually is, but here is an overview that hopefully helps:</p>\n\n<p>When you want to use 3rd party JARs for your project, you need to do three things: </p>\n\n<ul>\n<li>your IDE must know that x.jar will be used by the project, that is where you add an <em>external</em> jar in bluej, see <a href=\"https://stackoverflow.com/questions/32346079/adding-library-in-bluej\">here</a></li>\n<li>in your source code for your classes, you have to <em>import</em> any 3rd party class, so that the compiler knows you want to use it</li>\n<li>later, when \"shipping\" your project to other people, you have to include the jar files, too. And of course, your class path setup must be correct.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16929289,"reputation":1,"user_id":12244050,"display_name":"leath"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571507452,"creation_date":1571507452,"answer_id":58466449,"question_id":53682173,"body_markdown":"Expand your window all the way to the right, the buttons are hidden over there.  It&#39;s annoying. ","title":"How to add a .jar file to a BlueJ project?","body":"<p>Expand your window all the way to the right, the buttons are hidden over there.  It's annoying. </p>\n"},{"tags":[],"owner":{"account_id":17627131,"reputation":1,"user_id":12791985,"display_name":"Shivam Srivastava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580134504,"creation_date":1580134504,"answer_id":59932879,"question_id":53682173,"body_markdown":"First You have to Extract the .jar file into the library folder of BlueJ. \r\nThen goto to  Tools option, then Preferences option, then choose Libraries\r\n&amp; then Add File then select .jar file from BlueJ/lib/userlib/__.jar ","title":"How to add a .jar file to a BlueJ project?","body":"<p>First You have to Extract the .jar file into the library folder of BlueJ. \nThen goto to  Tools option, then Preferences option, then choose Libraries\n&amp; then Add File then select .jar file from BlueJ/lib/userlib/__.jar </p>\n"},{"tags":[],"owner":{"account_id":26536318,"reputation":86,"user_id":20167799,"display_name":"Coding99"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664980792,"creation_date":1664980792,"answer_id":73962100,"question_id":53682173,"body_markdown":"When you want to use 3rd party JARs for your project, you need to do three things:\r\n\r\nyour IDE must know that x.jar will be used by the project, that is where you add an external jar in bluej, see here\r\nin your source code for your classes, you have to import any 3rd party class, so that the compiler knows you want to use it\r\nlater, when &quot;shipping&quot; your project to other people, you have to include the jar files, too. And of course, your class path setup must be correct.","title":"How to add a .jar file to a BlueJ project?","body":"<p>When you want to use 3rd party JARs for your project, you need to do three things:</p>\n<p>your IDE must know that x.jar will be used by the project, that is where you add an external jar in bluej, see here\nin your source code for your classes, you have to import any 3rd party class, so that the compiler knows you want to use it\nlater, when &quot;shipping&quot; your project to other people, you have to include the jar files, too. And of course, your class path setup must be correct.</p>\n"}],"owner":{"account_id":8740972,"reputation":435,"user_id":6538067,"display_name":"Shashankk Shekar Chaturvedi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3884,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53682982,"answer_count":4,"score":1,"last_activity_date":1664980792,"creation_date":1544269437,"question_id":53682173,"body_markdown":"I am developing a Java console application and using the mail code to send an email when a user purchases a product. For that purpose, I am using mail.jar and activation.jar files. But in BlueJ, I can&#39;t find any option to import a jar file. Following is the screenshot of it.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3AnrM.png\r\n\r\nShould I update my BlueJ or what can I do to add jar files to my project? \r\n\r\nThank you\r\n\r\n","title":"How to add a .jar file to a BlueJ project?","body":"<p>I am developing a Java console application and using the mail code to send an email when a user purchases a product. For that purpose, I am using mail.jar and activation.jar files. But in BlueJ, I can't find any option to import a jar file. Following is the screenshot of it.</p>\n\n<p><a href=\"https://i.stack.imgur.com/3AnrM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3AnrM.png\" alt=\"enter image description here\"></a></p>\n\n<p>Should I update my BlueJ or what can I do to add jar files to my project? </p>\n\n<p>Thank you</p>\n"},{"tags":["java","kerberos"],"comments":[{"owner":{"account_id":10907976,"reputation":57,"user_id":8018192,"accept_rate":100,"display_name":"Zdenek S."},"score":0,"creation_date":1589013257,"post_id":14354414,"comment_id":109126386,"body_markdown":"i wonder about &quot;All sorts of magical things happen on the client&#39;s side.&quot; can you be more specific how to get kerberos token from user pc via http request","body":"i wonder about &quot;All sorts of magical things happen on the client&#39;s side.&quot; can you be more specific how to get kerberos token from user pc via http request"}],"answers":[{"comments":[{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1358423687,"post_id":14354681,"comment_id":19997305,"body_markdown":"The keytab shouldn&#39;t use DES and apparently the KDC is configured not to support it. This is a configurable option on the Service Principal Account for backward compatibility with servers that don&#39;t support the modern encryption standards. It is called &quot;Use DES encryption only&quot; or similar and should be disabled. After that a new keytab should be generated.","body":"The keytab shouldn&#39;t use DES and apparently the KDC is configured not to support it. This is a configurable option on the Service Principal Account for backward compatibility with servers that don&#39;t support the modern encryption standards. It is called &quot;Use DES encryption only&quot; or similar and should be disabled. After that a new keytab should be generated."},{"owner":{"account_id":2250529,"reputation":103,"user_id":1982861,"display_name":"user1982861"},"score":0,"creation_date":1358762623,"post_id":14354681,"comment_id":20098767,"body_markdown":"Changing the encryption of the keytab fixed the problem and everything works now. Thank you!!","body":"Changing the encryption of the keytab fixed the problem and everything works now. Thank you!!"},{"owner":{"account_id":6574915,"reputation":372,"user_id":5081388,"accept_rate":46,"display_name":"desperado06"},"score":0,"creation_date":1664973057,"post_id":14354681,"comment_id":130589964,"body_markdown":"what should be the decryption algorithm pls? so that I can decrypt properly with the secret key_?","body":"what should be the decryption algorithm pls? so that I can decrypt properly with the secret key_?"}],"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1664980197,"creation_date":1358327361,"answer_id":14354681,"question_id":14354414,"body_markdown":"Kerberos is a *trusted third-party* security system: the security token you receive from the client is decryptable only by you, and without contacting any Kerberos infrastructure servers (such as the KDC). You are on the right track; however, it appears you are missing this piece of background Kerberos knowledge to guide you in your further research.\r\n\r\nThe way this is achieved is that on the server you need a *keytab* file that contains your server&#39;s secret key. The Kerberos server (Microsoft Windows Server, I presume) must have a *service principal account* created for your service. An administrator can supply you with the keytab file generated for this account, which will contain the secret key.\r\n\r\nYou then need to configure the server to find this keytab file; it is used in the server-side step involving `LoginContext.login`. Your code that accepts the security context must be executed inside a `doPrivileged` code segment within which your server-side credentials are in effect.","title":"Reading user name from Kerberos ticket in Authorization header","body":"<p>Kerberos is a <em>trusted third-party</em> security system: the security token you receive from the client is decryptable only by you, and without contacting any Kerberos infrastructure servers (such as the KDC). You are on the right track; however, it appears you are missing this piece of background Kerberos knowledge to guide you in your further research.</p>\n<p>The way this is achieved is that on the server you need a <em>keytab</em> file that contains your server's secret key. The Kerberos server (Microsoft Windows Server, I presume) must have a <em>service principal account</em> created for your service. An administrator can supply you with the keytab file generated for this account, which will contain the secret key.</p>\n<p>You then need to configure the server to find this keytab file; it is used in the server-side step involving <code>LoginContext.login</code>. Your code that accepts the security context must be executed inside a <code>doPrivileged</code> code segment within which your server-side credentials are in effect.</p>\n"},{"tags":[],"owner":{"account_id":2852998,"reputation":3059,"user_id":2449774,"display_name":"keredson"},"comment_count":0,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1370304119,"creation_date":1370304119,"answer_id":16907741,"question_id":14354414,"body_markdown":"If all you want is the username there is an easier way.\r\n\r\n    request.getUserPrincipal().getName()\r\n\r\nhttp://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getUserPrincipal()\r\nhttp://docs.oracle.com/javase/7/docs/api/java/security/Principal.html\r\n","title":"Reading user name from Kerberos ticket in Authorization header","body":"<p>If all you want is the username there is an easier way.</p>\n\n<pre><code>request.getUserPrincipal().getName()\n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getUserPrincipal()\" rel=\"nofollow\">http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getUserPrincipal()</a>\n<a href=\"http://docs.oracle.com/javase/7/docs/api/java/security/Principal.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/security/Principal.html</a></p>\n"}],"owner":{"account_id":2250529,"reputation":103,"user_id":1982861,"display_name":"user1982861"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21349,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":14354681,"answer_count":2,"score":10,"last_activity_date":1664980197,"creation_date":1358326420,"question_id":14354414,"body_markdown":"I want to read the user&#39;s name from the Kerberos ticket in the Authorization HTTP header. I am using Java.\r\n\r\nI have spent days trying to achieve this by reading through a bunch of sites on the subject but have not been able to do this. Kerberos is new/foreign to me.\r\n\r\nThis is what I&#39;ve achieved:\r\n\r\n - When a user first accesses the site - without the Authorization header, the server responds with 401 + header: WWW-Authenticate=Negotiate.\r\n - All sorts of magical things happen on the client&#39;s side.\r\n - User returns with a HTTP request that contains the Authorization header with a value like: &quot;Negotiate YHcGB...==&quot;\r\n - Decode the base64 encoded ticket to a byte array.\r\n\r\nFrom here on it&#39;s a terrifying journey through the unknown. As far as I can tell, the next steps should be:\r\n\r\n - Login to AD/Kerberos/ Server with a user.\r\n - Decode the ticket.\r\n\r\nThis is what I have:\r\n\r\nlogin.conf\r\n\r\n   \r\n\r\n     ServicePrincipalLoginContext\r\n    {\r\n          com.sun.security.auth.module.Krb5LoginModule \r\n          required \r\n          principal=&quot;HTTP/some.server.com@MY.DOMAIN.COM&quot; \r\n          doNotPrompt=true\r\n          useTicketCache=true\r\n          password=mYpasSword\r\n          debug=true;\r\n    };\r\n\r\nJavaClass.java\r\n\r\n    String encodedTicket = authorization.substring(&quot;Negotiate &quot;.length());\r\n    byte[] ticket = Base64.decode(encodedTicket);\t\t\r\n        \r\n    LoginContext lc = new LoginContext(&quot;ServicePrincipalLoginContext&quot;);\r\n    lc.login();\r\n    Subject serviceSubject = lc.getSubject();\r\n    Subject.doAs(serviceSubject, new ServiceTicketDecoder(ticket));\r\n\r\nServiceTicketDecoder.java\r\n\r\n    public String run() throws Exception {\r\n        Oid kerberos5Oid = new Oid(&quot;1.2.840.113554.1.2.2&quot;);\r\n\r\n        GSSManager gssManager = GSSManager.getInstance();\r\n\r\n        String service = &quot;krbtgt/MY.DOMAIN.COM@MY.DOMAIN.COM&quot;;\r\n        GSSName serviceName = gssManager.createName(service, GSSName.NT_USER_NAME);\r\n\r\n        GSSCredential serviceCredentials = gssManager.createCredential(serviceName, GSSCredential.INDEFINITE_LIFETIME, kerberos5Oid, GSSCredential.ACCEPT_ONLY);\r\n\r\n        GSSContext gssContext = gssManager.createContext(serviceCredentials);\r\n        gssContext.acceptSecContext(this.serviceTicket, 0, this.serviceTicket.length);\r\n\r\n        GSSName srcName = gssContext.getSrcName();\r\n        return srcName.toString;\r\n    }\r\n\r\nThe login in JavaClass.java works ok, so I&#39;m assuming the login.conf is ok. On &quot;GSSCredential serviceCredentials = gssManager.createCredential(...&quot; in the ServiceTicketDecoder.java the following exception is thrown:\r\n\r\n    java.security.PrivilegedActionException: GSSException: No valid credentials provided (Mechanism level: Failed to find any Kerberos Key)\r\n\r\nI am not sure if this is the right approach. I also don&#39;t know what the value of the &quot;String service&quot; should be or how to get that information. Can you help me?\r\n\r\n\r\n----------\r\nEDIT:\r\nlogin.conf   \r\n\r\n     ServicePrincipalLoginContext\r\n    {\r\n          com.sun.security.auth.module.Krb5LoginModule \r\n          required \r\n          principal=&quot;HTTP/some.server.com@MY.DOMAIN.COM&quot; \r\n          doNotPrompt=true\r\n          useTicketCache=true\r\n          keyTab=&quot;C:/server-http.keytab&quot; \r\n          debug=true;\r\n    };\r\n\r\n\r\nI have received a keytab file. Apparently the HTTP/some.server.com user&#39;s account was already a service principal account. I now have a problem on JavaClass.java at lc.login():\r\n\r\n    javax.security.auth.login.LoginException: KDC has no support for encryption type (14)\r\n    Caused by: KrbException: KDC has no support for encryption type (14)\r\n    Caused by: KrbException: Identifier doesn&#39;t match expected value (906)\r\n\r\nThe keytab file is encrypted with des-cbc-md5 and I have the following defined in the krb.conf file:\r\n\r\n    [libdefaults]\r\n\tdefault_realm = MY.DOMAIN.COM\r\n\tdefault_tkt_enctypes = des-cbc-md5\r\n\tdefault_tgs_enctypes = des-cbc-md5\r\n\r\nIf I change the default enctypes to e.g. aes128-cts, I get the following exception:\r\n\r\n    javax.security.auth.login.LoginException: Do not have keys of types listed in default_tkt_enctypes available; only have keys of following type: DES CBC mode with MD5\r\n\r\nI don&#39;t understand what is wrong...","title":"Reading user name from Kerberos ticket in Authorization header","body":"<p>I want to read the user's name from the Kerberos ticket in the Authorization HTTP header. I am using Java.</p>\n\n<p>I have spent days trying to achieve this by reading through a bunch of sites on the subject but have not been able to do this. Kerberos is new/foreign to me.</p>\n\n<p>This is what I've achieved:</p>\n\n<ul>\n<li>When a user first accesses the site - without the Authorization header, the server responds with 401 + header: WWW-Authenticate=Negotiate.</li>\n<li>All sorts of magical things happen on the client's side.</li>\n<li>User returns with a HTTP request that contains the Authorization header with a value like: \"Negotiate YHcGB...==\"</li>\n<li>Decode the base64 encoded ticket to a byte array.</li>\n</ul>\n\n<p>From here on it's a terrifying journey through the unknown. As far as I can tell, the next steps should be:</p>\n\n<ul>\n<li>Login to AD/Kerberos/ Server with a user.</li>\n<li>Decode the ticket.</li>\n</ul>\n\n<p>This is what I have:</p>\n\n<p>login.conf</p>\n\n<pre><code> ServicePrincipalLoginContext\n{\n      com.sun.security.auth.module.Krb5LoginModule \n      required \n      principal=\"HTTP/some.server.com@MY.DOMAIN.COM\" \n      doNotPrompt=true\n      useTicketCache=true\n      password=mYpasSword\n      debug=true;\n};\n</code></pre>\n\n<p>JavaClass.java</p>\n\n<pre><code>String encodedTicket = authorization.substring(\"Negotiate \".length());\nbyte[] ticket = Base64.decode(encodedTicket);       \n\nLoginContext lc = new LoginContext(\"ServicePrincipalLoginContext\");\nlc.login();\nSubject serviceSubject = lc.getSubject();\nSubject.doAs(serviceSubject, new ServiceTicketDecoder(ticket));\n</code></pre>\n\n<p>ServiceTicketDecoder.java</p>\n\n<pre><code>public String run() throws Exception {\n    Oid kerberos5Oid = new Oid(\"1.2.840.113554.1.2.2\");\n\n    GSSManager gssManager = GSSManager.getInstance();\n\n    String service = \"krbtgt/MY.DOMAIN.COM@MY.DOMAIN.COM\";\n    GSSName serviceName = gssManager.createName(service, GSSName.NT_USER_NAME);\n\n    GSSCredential serviceCredentials = gssManager.createCredential(serviceName, GSSCredential.INDEFINITE_LIFETIME, kerberos5Oid, GSSCredential.ACCEPT_ONLY);\n\n    GSSContext gssContext = gssManager.createContext(serviceCredentials);\n    gssContext.acceptSecContext(this.serviceTicket, 0, this.serviceTicket.length);\n\n    GSSName srcName = gssContext.getSrcName();\n    return srcName.toString;\n}\n</code></pre>\n\n<p>The login in JavaClass.java works ok, so I'm assuming the login.conf is ok. On \"GSSCredential serviceCredentials = gssManager.createCredential(...\" in the ServiceTicketDecoder.java the following exception is thrown:</p>\n\n<pre><code>java.security.PrivilegedActionException: GSSException: No valid credentials provided (Mechanism level: Failed to find any Kerberos Key)\n</code></pre>\n\n<p>I am not sure if this is the right approach. I also don't know what the value of the \"String service\" should be or how to get that information. Can you help me?</p>\n\n<hr>\n\n<p>EDIT:\nlogin.conf   </p>\n\n<pre><code> ServicePrincipalLoginContext\n{\n      com.sun.security.auth.module.Krb5LoginModule \n      required \n      principal=\"HTTP/some.server.com@MY.DOMAIN.COM\" \n      doNotPrompt=true\n      useTicketCache=true\n      keyTab=\"C:/server-http.keytab\" \n      debug=true;\n};\n</code></pre>\n\n<p>I have received a keytab file. Apparently the HTTP/some.server.com user's account was already a service principal account. I now have a problem on JavaClass.java at lc.login():</p>\n\n<pre><code>javax.security.auth.login.LoginException: KDC has no support for encryption type (14)\nCaused by: KrbException: KDC has no support for encryption type (14)\nCaused by: KrbException: Identifier doesn't match expected value (906)\n</code></pre>\n\n<p>The keytab file is encrypted with des-cbc-md5 and I have the following defined in the krb.conf file:</p>\n\n<pre><code>[libdefaults]\ndefault_realm = MY.DOMAIN.COM\ndefault_tkt_enctypes = des-cbc-md5\ndefault_tgs_enctypes = des-cbc-md5\n</code></pre>\n\n<p>If I change the default enctypes to e.g. aes128-cts, I get the following exception:</p>\n\n<pre><code>javax.security.auth.login.LoginException: Do not have keys of types listed in default_tkt_enctypes available; only have keys of following type: DES CBC mode with MD5\n</code></pre>\n\n<p>I don't understand what is wrong...</p>\n"},{"tags":["java","arrays","collections","guava","apache-commons"],"comments":[{"owner":{"account_id":270380,"reputation":3017,"user_id":560302,"accept_rate":73,"display_name":"MoveFast"},"score":0,"creation_date":1334909208,"post_id":10242380,"comment_id":13162879,"body_markdown":"For apache commons, http://stackoverflow.com/a/5744861/560302","body":"For apache commons, <a href=\"http://stackoverflow.com/a/5744861/560302\">stackoverflow.com/a/5744861/560302</a>"}],"answers":[{"comments":[{"owner":{"account_id":74366,"reputation":4315,"user_id":213727,"accept_rate":80,"display_name":"vaughandroid"},"score":3,"creation_date":1334910425,"post_id":10242489,"comment_id":13163252,"body_markdown":"You can shave off a couple more characters by changing that loop to `for(int i = begin; i &lt;= end; ret.add(i++));` :)","body":"You can shave off a couple more characters by changing that loop to <code>for(int i = begin; i &lt;= end; ret.add(i++));</code> :)"},{"owner":{"account_id":50030,"reputation":61455,"user_id":149138,"accept_rate":56,"display_name":"BeeOnRope"},"score":0,"creation_date":1334910460,"post_id":10242489,"comment_id":13163261,"body_markdown":"I&#39;m not really sure that moving the `ret.add(i)` part into the for loop increment makes this &quot;shorter&quot;.  I guess by that logic if I wrote it all on one line it would be shorter :)","body":"I&#39;m not really sure that moving the <code>ret.add(i)</code> part into the for loop increment makes this &quot;shorter&quot;.  I guess by that logic if I wrote it all on one line it would be shorter :)"},{"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"score":0,"creation_date":1334913665,"post_id":10242489,"comment_id":13164315,"body_markdown":"@BeeOnRope Yes, definitely not the shortest, but shorter by two lines for sure :) As I said, this is the closest we can come to shortening it in Core Java.","body":"@BeeOnRope Yes, definitely not the shortest, but shorter by two lines for sure :) As I said, this is the closest we can come to shortening it in Core Java."},{"owner":{"account_id":50030,"reputation":61455,"user_id":149138,"accept_rate":56,"display_name":"BeeOnRope"},"score":0,"creation_date":1481144563,"post_id":10242489,"comment_id":69261988,"body_markdown":"I added performance results for this answer above with the label **classicArrayList**.","body":"I added performance results for this answer above with the label <b>classicArrayList</b>."}],"tags":[],"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1420998235,"creation_date":1334909258,"answer_id":10242489,"question_id":10242380,"body_markdown":"This is the shortest I could get using Core Java.\r\n\r\n    List&lt;Integer&gt; makeSequence(int begin, int end) {\r\n      List&lt;Integer&gt; ret = new ArrayList(end - begin + 1);\r\n\r\n      for(int i = begin; i &lt;= end; i++, ret.add(i));\r\n\r\n      return ret;  \r\n    }\r\n\r\n","title":"How can I generate a list or array of sequential integers in Java?","body":"<p>This is the shortest I could get using Core Java.</p>\n\n<pre><code>List&lt;Integer&gt; makeSequence(int begin, int end) {\n  List&lt;Integer&gt; ret = new ArrayList(end - begin + 1);\n\n  for(int i = begin; i &lt;= end; i++, ret.add(i));\n\n  return ret;  \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"score":7,"creation_date":1334925575,"post_id":10242491,"comment_id":13168812,"body_markdown":"I wouldn&#39;t use `asList()` there unless you really needed a `List`... the `ContiguousSet` produced by `asSet` is lightweight (it just needs the range and the domain), but `asList()` will create a list that actually stores all the elements in memory (currently).","body":"I wouldn&#39;t use <code>asList()</code> there unless you really needed a <code>List</code>... the <code>ContiguousSet</code> produced by <code>asSet</code> is lightweight (it just needs the range and the domain), but <code>asList()</code> will create a list that actually stores all the elements in memory (currently)."},{"owner":{"account_id":6957,"reputation":74531,"user_id":11858,"accept_rate":93,"display_name":"daveb"},"score":1,"creation_date":1334929909,"post_id":10242491,"comment_id":13170817,"body_markdown":"Agreed.  The OP was asking for a List or array though, otherwise I would have left it out","body":"Agreed.  The OP was asking for a List or array though, otherwise I would have left it out"},{"owner":{"account_id":84539,"reputation":9548,"user_id":236247,"accept_rate":86,"display_name":"demongolem"},"score":1,"creation_date":1400015628,"post_id":10242491,"comment_id":36306358,"body_markdown":"I believe for 18.0, `Range` exists but not `Ranges` and they have done away with the `asSet` method.  In my older version, `asSet` is deprecated and it appears that they have removed it.  Ranges apparently are only to be used for contiguous collections and they have enforced it though I do love this solution.","body":"I believe for 18.0, <code>Range</code> exists but not <code>Ranges</code> and they have done away with the <code>asSet</code> method.  In my older version, <code>asSet</code> is deprecated and it appears that they have removed it.  Ranges apparently are only to be used for contiguous collections and they have enforced it though I do love this solution."},{"owner":{"account_id":34101,"reputation":1106,"user_id":96030,"accept_rate":100,"display_name":"Ben"},"score":0,"creation_date":1407087453,"post_id":10242491,"comment_id":39071832,"body_markdown":"The API now requires code similar to this:\nContiguousSet.create(Range.closed(1, count), DiscreteDomain.integers()","body":"The API now requires code similar to this: ContiguousSet.create(Range.closed(1, count), DiscreteDomain.integers()"},{"owner":{"account_id":50030,"reputation":61455,"user_id":149138,"accept_rate":56,"display_name":"BeeOnRope"},"score":0,"creation_date":1481144549,"post_id":10242491,"comment_id":69261978,"body_markdown":"I added performance results for this answer above with the label **guavaRange**.","body":"I added performance results for this answer above with the label <b>guavaRange</b>."}],"tags":[],"owner":{"account_id":6957,"reputation":74531,"user_id":11858,"accept_rate":93,"display_name":"daveb"},"comment_count":5,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1587157028,"creation_date":1334909274,"answer_id":10242491,"question_id":10242380,"body_markdown":"Well, this one liner might qualify (uses [Guava Ranges][1])\r\n\r\n    ContiguousSet&lt;Integer&gt; integerList = ContiguousSet.create(Range.closedOpen(0, 10), DiscreteDomain.integers());\r\n    System.out.println(integerList);\r\n\r\nThis doesn&#39;t create a `List&lt;Integer&gt;`, but `ContiguousSet` offers much the same functionality, in particular implementing `Iterable&lt;Integer&gt;` which allows `foreach` implementation in the same way as `List&lt;Integer&gt;`.\r\n\r\nIn older versions (somewhere before Guava 14) you could use this:\r\n\r\n    ImmutableList&lt;Integer&gt; integerList = Ranges.closedOpen(0, 10).asSet(DiscreteDomains.integers()).asList();\r\n    System.out.println(integerList);\r\n\r\nBoth produce:\r\n\r\n    [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\r\n\r\n\r\n  [1]: https://github.com/google/guava/wiki/RangesExplained","title":"How can I generate a list or array of sequential integers in Java?","body":"<p>Well, this one liner might qualify (uses <a href=\"https://github.com/google/guava/wiki/RangesExplained\" rel=\"nofollow noreferrer\">Guava Ranges</a>)</p>\n\n<pre><code>ContiguousSet&lt;Integer&gt; integerList = ContiguousSet.create(Range.closedOpen(0, 10), DiscreteDomain.integers());\nSystem.out.println(integerList);\n</code></pre>\n\n<p>This doesn't create a <code>List&lt;Integer&gt;</code>, but <code>ContiguousSet</code> offers much the same functionality, in particular implementing <code>Iterable&lt;Integer&gt;</code> which allows <code>foreach</code> implementation in the same way as <code>List&lt;Integer&gt;</code>.</p>\n\n<p>In older versions (somewhere before Guava 14) you could use this:</p>\n\n<pre><code>ImmutableList&lt;Integer&gt; integerList = Ranges.closedOpen(0, 10).asSet(DiscreteDomains.integers()).asList();\nSystem.out.println(integerList);\n</code></pre>\n\n<p>Both produce:</p>\n\n<pre><code>[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1041502,"reputation":5764,"user_id":1047448,"accept_rate":75,"display_name":"jmruc"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1334909376,"creation_date":1334909376,"answer_id":10242515,"question_id":10242380,"body_markdown":"You could use [Guava Ranges][1]\r\n\r\nYou can get a `SortedSet` by using\r\n\r\n    ImmutableSortedSet&lt;Integer&gt; set = Ranges.open(1, 5).asSet(DiscreteDomains.integers());\r\n    // set contains [2, 3, 4]\r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/wiki/RangesExplained &quot;Guava Ranges&quot;","title":"How can I generate a list or array of sequential integers in Java?","body":"<p>You could use <a href=\"http://code.google.com/p/guava-libraries/wiki/RangesExplained\" rel=\"nofollow\" title=\"Guava Ranges\">Guava Ranges</a></p>\n\n<p>You can get a <code>SortedSet</code> by using</p>\n\n<pre><code>ImmutableSortedSet&lt;Integer&gt; set = Ranges.open(1, 5).asSet(DiscreteDomains.integers());\n// set contains [2, 3, 4]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3116542,"reputation":1299,"user_id":3450840,"accept_rate":56,"display_name":"Florian F"},"score":2,"creation_date":1622925847,"post_id":10242743,"comment_id":119933191,"body_markdown":"`for (; begin &lt; end; )` is better written `while (begin &lt; end)`","body":"<code>for (; begin &lt; end; )</code> is better written <code>while (begin &lt; end)</code>"}],"tags":[],"owner":{"account_id":1414174,"reputation":437,"user_id":1340160,"display_name":"Aung Thaw Aye"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1334911222,"creation_date":1334910504,"answer_id":10242743,"question_id":10242380,"body_markdown":"This is the shortest I could find. \r\n\r\nList version\r\n\r\n\r\n    public List&lt;Integer&gt; makeSequence(int begin, int end)\r\n    {\r\n    \tList&lt;Integer&gt; ret = new ArrayList&lt;Integer&gt;(++end - begin);\r\n    \r\n    \tfor (; begin &lt; end; )\r\n    \t\tret.add(begin++);\r\n    \r\n    \treturn ret;\r\n    }\r\n\r\nArray Version\r\n\r\n    public int[] makeSequence(int begin, int end)\r\n    {\r\n    \tif(end &lt; begin)\r\n    \t\treturn null;\r\n    \t\t\r\n    \tint[] ret = new int[++end - begin];\r\n    \tfor (int i=0; begin &lt; end; )\r\n    \t\tret[i++] = begin++;\r\n    \treturn ret;\r\n    }","title":"How can I generate a list or array of sequential integers in Java?","body":"<p>This is the shortest I could find. </p>\n\n<p>List version</p>\n\n<pre><code>public List&lt;Integer&gt; makeSequence(int begin, int end)\n{\n    List&lt;Integer&gt; ret = new ArrayList&lt;Integer&gt;(++end - begin);\n\n    for (; begin &lt; end; )\n        ret.add(begin++);\n\n    return ret;\n}\n</code></pre>\n\n<p>Array Version</p>\n\n<pre><code>public int[] makeSequence(int begin, int end)\n{\n    if(end &lt; begin)\n        return null;\n\n    int[] ret = new int[++end - begin];\n    for (int i=0; begin &lt; end; )\n        ret[i++] = begin++;\n    return ret;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":467422,"reputation":1264,"user_id":872803,"accept_rate":43,"display_name":"cl-r"},"score":0,"creation_date":1334923952,"post_id":10242758,"comment_id":13168152,"body_markdown":"Using AtomicInteger is very heavy for ressources, around ten time slower in my test. But it is secure for multithread. *end&lt;begin* not verified","body":"Using AtomicInteger is very heavy for ressources, around ten time slower in my test. But it is secure for multithread. <i>end&lt;begin</i> not verified"},{"owner":{"account_id":311010,"reputation":1206,"user_id":624341,"accept_rate":100,"display_name":"Igor Rodriguez"},"score":2,"creation_date":1407756619,"post_id":10242758,"comment_id":39323937,"body_markdown":"The use of AtomicInteger doesn&#39;t make sense inside of a method. All the sentences in a method call are run sequentially by the thread that called the method, so you get nothing from the AtomicInteger but slowdown and annoying getAndIncrement() calls.","body":"The use of AtomicInteger doesn&#39;t make sense inside of a method. All the sentences in a method call are run sequentially by the thread that called the method, so you get nothing from the AtomicInteger but slowdown and annoying getAndIncrement() calls."}],"tags":[],"owner":{"account_id":1326257,"reputation":2880,"user_id":1270995,"accept_rate":100,"display_name":"Shehzad"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1334910566,"creation_date":1334910566,"answer_id":10242758,"question_id":10242380,"body_markdown":"This one might works for you....\r\n\r\n    void List&lt;Integer&gt; makeSequence(int begin, int end) {\r\n     \r\n      AtomicInteger ai=new AtomicInteger(begin);\r\n      List&lt;Integer&gt; ret = new ArrayList(end-begin+1);\r\n    \r\n      while ( end--&gt;begin) {\r\n    \r\n        ret.add(ai.getAndIncrement());\r\n    \r\n      }\r\n      return ret;  \r\n    }\r\n\r\n","title":"How can I generate a list or array of sequential integers in Java?","body":"<p>This one might works for you....</p>\n\n<pre><code>void List&lt;Integer&gt; makeSequence(int begin, int end) {\n\n  AtomicInteger ai=new AtomicInteger(begin);\n  List&lt;Integer&gt; ret = new ArrayList(end-begin+1);\n\n  while ( end--&gt;begin) {\n\n    ret.add(ai.getAndIncrement());\n\n  }\n  return ret;  \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":50030,"reputation":61455,"user_id":149138,"accept_rate":56,"display_name":"BeeOnRope"},"score":2,"creation_date":1481144532,"post_id":22829036,"comment_id":69261967,"body_markdown":"I added performance results for this answer above with the label **intStreamRange**.","body":"I added performance results for this answer above with the label <b>intStreamRange</b>."},{"owner":{"account_id":9787375,"reputation":757,"user_id":12969368,"display_name":"gcantoni"},"score":4,"creation_date":1592647384,"post_id":22829036,"comment_id":110503378,"body_markdown":"Requires API 24+","body":"Requires API 24+"},{"owner":{"account_id":10401089,"reputation":1049,"user_id":7669319,"display_name":"Felix Jassler"},"score":0,"creation_date":1603665485,"post_id":22829036,"comment_id":114101431,"body_markdown":"How would I turn those numbers into strings?","body":"How would I turn those numbers into strings?"},{"owner":{"account_id":414154,"reputation":122081,"user_id":788207,"accept_rate":84,"display_name":"Vladimir Matveev"},"score":2,"creation_date":1603851918,"post_id":22829036,"comment_id":114165752,"body_markdown":"@FelixJassler `IntStream.rangeClosed(start, end).mapToObj(Integer::toString).collect(Collectors.toList())`, for example.","body":"@FelixJassler <code>IntStream.rangeClosed(start, end).mapToObj(Integer::toString).collect(Collectors.toList()&zwnj;&#8203;)</code>, for example."},{"owner":{"account_id":18464101,"reputation":92,"user_id":18466656,"display_name":"moritz"},"score":0,"creation_date":1652522383,"post_id":22829036,"comment_id":127629877,"body_markdown":"you could even do: `List&lt;Integer&gt; range = IntStream.rangeClosed(start, end)\n            .boxed().toList();` instead of the collector","body":"you could even do: <code>List&lt;Integer&gt; range = IntStream.rangeClosed(start, end)             .boxed().toList();</code> instead of the collector"},{"owner":{"account_id":4535825,"reputation":1025,"user_id":9104070,"display_name":"Alonso del Arte"},"score":0,"creation_date":1657743454,"post_id":22829036,"comment_id":128886089,"body_markdown":"Even so, speaking only for myself, I prefer a separate function because there are enough intermediate steps in there to obscure the logic of what&#39;s going on","body":"Even so, speaking only for myself, I prefer a separate function because there are enough intermediate steps in there to obscure the logic of what&#39;s going on"}],"tags":[],"owner":{"account_id":414154,"reputation":122081,"user_id":788207,"accept_rate":84,"display_name":"Vladimir Matveev"},"comment_count":6,"down_vote_count":0,"up_vote_count":283,"is_accepted":true,"score":283,"last_activity_date":1664980070,"creation_date":1396504808,"answer_id":22829036,"question_id":10242380,"body_markdown":"With Java 8 it is so simple so it doesn&#39;t even need separate method anymore:\r\n\r\n    List&lt;Integer&gt; range = IntStream.rangeClosed(start, end)\r\n        .boxed().collect(Collectors.toList());\r\n\r\nAnd in Java 16 or later:\r\n\r\n    List&lt;Integer&gt; range = IntStream.rangeClosed(start, end)\r\n        .boxed().toList();\r\n","title":"How can I generate a list or array of sequential integers in Java?","body":"<p>With Java 8 it is so simple so it doesn't even need separate method anymore:</p>\n<pre><code>List&lt;Integer&gt; range = IntStream.rangeClosed(start, end)\n    .boxed().collect(Collectors.toList());\n</code></pre>\n<p>And in Java 16 or later:</p>\n<pre><code>List&lt;Integer&gt; range = IntStream.rangeClosed(start, end)\n    .boxed().toList();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":50030,"reputation":61455,"user_id":149138,"accept_rate":56,"display_name":"BeeOnRope"},"score":0,"creation_date":1481144588,"post_id":36114723,"comment_id":69262006,"body_markdown":"I added performance results for this answer above with the label **streamIterate**.","body":"I added performance results for this answer above with the label <b>streamIterate</b>."},{"owner":{"account_id":286030,"reputation":409,"user_id":585053,"display_name":"neilireson"},"score":4,"creation_date":1540715012,"post_id":36114723,"comment_id":92960122,"body_markdown":"As a point of clarification, the limit arg isn&#39;t the last number, it&#39;s the number of Integers in the list.","body":"As a point of clarification, the limit arg isn&#39;t the last number, it&#39;s the number of Integers in the list."},{"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"score":0,"creation_date":1689712179,"post_id":36114723,"comment_id":135251824,"body_markdown":"When compared to the other approaches, this one allows you to create a sequence of integers with a step (e.g `n -&gt; n + 5`), which is what brought me to this post in the first place.","body":"When compared to the other approaches, this one allows you to create a sequence of integers with a step (e.g <code>n -&gt; n + 5</code>), which is what brought me to this post in the first place."}],"tags":[],"owner":{"account_id":405153,"reputation":771,"user_id":773874,"display_name":"Catalin Ciurea"},"comment_count":3,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1458482652,"creation_date":1458482652,"answer_id":36114723,"question_id":10242380,"body_markdown":"The following one-liner Java 8 version will generate [ 1, 2 ,3 ... 10 ]. The first arg of `iterate` is the first nr in the sequence, and the first arg of `limit` is the last number.\r\n   \r\n    List&lt;Integer&gt; numbers = Stream.iterate(1, n -&gt; n + 1)\r\n                                  .limit(10)\r\n                                  .collect(Collectors.toList());","title":"How can I generate a list or array of sequential integers in Java?","body":"<p>The following one-liner Java 8 version will generate [ 1, 2 ,3 ... 10 ]. The first arg of <code>iterate</code> is the first nr in the sequence, and the first arg of <code>limit</code> is the last number.</p>\n\n<pre><code>List&lt;Integer&gt; numbers = Stream.iterate(1, n -&gt; n + 1)\n                              .limit(10)\n                              .collect(Collectors.toList());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":50030,"reputation":61455,"user_id":149138,"accept_rate":56,"display_name":"BeeOnRope"},"score":1,"creation_date":1481144578,"post_id":36350104,"comment_id":69262001,"body_markdown":"I added performance results for this answer above with the label **eclipseCollections**.","body":"I added performance results for this answer above with the label <b>eclipseCollections</b>."},{"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"score":0,"creation_date":1481157513,"post_id":36350104,"comment_id":69267347,"body_markdown":"Neat.  I updated my answer with an additional primitive version that should avoid any boxing.","body":"Neat.  I updated my answer with an additional primitive version that should avoid any boxing."}],"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1511760900,"creation_date":1459494559,"answer_id":36350104,"question_id":10242380,"body_markdown":"You can use the [`Interval`][1] class from [Eclipse Collections][2].\r\n\r\n    List&lt;Integer&gt; range = Interval.oneTo(10);\r\n    range.forEach(System.out::print);  // prints 12345678910\r\n\r\nThe `Interval` class is lazy, so doesn&#39;t store all of the values.\r\n\r\n    LazyIterable&lt;Integer&gt; range = Interval.oneTo(10);\r\n    System.out.println(range.makeString(&quot;,&quot;)); // prints 1,2,3,4,5,6,7,8,9,10\r\n\r\nYour method would be able to be implemented as follows:\r\n\r\n    public List&lt;Integer&gt; makeSequence(int begin, int end) {\r\n        return Interval.fromTo(begin, end);\r\n    }\r\n\r\nIf you would like to avoid boxing ints as Integers, but would still like a list structure as a result, then you can use [`IntList`][3] with [`IntInterval`][4] from Eclipse Collections.\r\n\r\n    public IntList makeSequence(int begin, int end) {\r\n        return IntInterval.fromTo(begin, end);\r\n    }\r\n\r\n`IntList` has the methods `sum()`, `min()`, `minIfEmpty()`, `max()`, `maxIfEmpty()`, `average()` and `median()` available on the interface.\r\n\r\n**Update for clarity: 11/27/2017**\r\n\r\nAn `Interval` is a `List&lt;Integer&gt;`, but it is lazy and immutable.  It is extremely useful for generating test data, especially if you deal a lot with collections.  If you want you can easily copy an interval to a `List`, `Set` or `Bag` as follows:\r\n\r\n    Interval integers = Interval.oneTo(10);\r\n    Set&lt;Integer&gt; set = integers.toSet();\r\n    List&lt;Integer&gt; list = integers.toList();\r\n    Bag&lt;Integer&gt; bag = integers.toBag();\r\n\r\nAn `IntInterval` is an `ImmutableIntList` which extends `IntList`.  It also has converter methods.\r\n\r\n    IntInterval ints = IntInterval.oneTo(10);\r\n    IntSet set = ints.toSet();\r\n    IntList list = ints.toList();\r\n    IntBag bag = ints.toBag();\r\n\r\nAn `Interval` and an `IntInterval` do not have the same `equals` contract.\r\n\r\n**Update for [Eclipse Collections 9.0][5]**\r\n\r\nYou can now create primitive collections from primitive streams.  There are `withAll` and `ofAll` methods depending on your preference.  If you are curious, I explain why we have both [here][6].  These methods exist for mutable and immutable Int/Long/Double Lists, Sets, Bags and Stacks.\r\n\r\n    Assert.assertEquals(\r\n            IntInterval.oneTo(10),\r\n            IntLists.mutable.withAll(IntStream.rangeClosed(1, 10)));\r\n    \r\n    Assert.assertEquals(\r\n            IntInterval.oneTo(10),\r\n            IntLists.immutable.withAll(IntStream.rangeClosed(1, 10)));\r\n\r\nNote: I am a committer for Eclipse Collections  \r\n\r\n\r\n  [1]: http://www.eclipse.org/collections/javadoc/7.0.0/org/eclipse/collections/impl/list/Interval.html\r\n  [2]: http://www.eclipse.org/collections/\r\n  [3]: http://www.eclipse.org/collections/javadoc/8.0.0/org/eclipse/collections/api/list/primitive/IntList.html\r\n  [4]: http://www.eclipse.org/collections/javadoc/8.0.0/org/eclipse/collections/impl/list/primitive/IntInterval.html\r\n  [5]: https://github.com/eclipse/eclipse-collections/releases/tag/9.0.0\r\n  [6]: https://medium.com/@donraab/preposition-preference-1f1c709b098b\r\n\r\n","title":"How can I generate a list or array of sequential integers in Java?","body":"<p>You can use the <a href=\"http://www.eclipse.org/collections/javadoc/7.0.0/org/eclipse/collections/impl/list/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a> class from <a href=\"http://www.eclipse.org/collections/\" rel=\"noreferrer\">Eclipse Collections</a>.</p>\n\n<pre><code>List&lt;Integer&gt; range = Interval.oneTo(10);\nrange.forEach(System.out::print);  // prints 12345678910\n</code></pre>\n\n<p>The <code>Interval</code> class is lazy, so doesn't store all of the values.</p>\n\n<pre><code>LazyIterable&lt;Integer&gt; range = Interval.oneTo(10);\nSystem.out.println(range.makeString(\",\")); // prints 1,2,3,4,5,6,7,8,9,10\n</code></pre>\n\n<p>Your method would be able to be implemented as follows:</p>\n\n<pre><code>public List&lt;Integer&gt; makeSequence(int begin, int end) {\n    return Interval.fromTo(begin, end);\n}\n</code></pre>\n\n<p>If you would like to avoid boxing ints as Integers, but would still like a list structure as a result, then you can use <a href=\"http://www.eclipse.org/collections/javadoc/8.0.0/org/eclipse/collections/api/list/primitive/IntList.html\" rel=\"noreferrer\"><code>IntList</code></a> with <a href=\"http://www.eclipse.org/collections/javadoc/8.0.0/org/eclipse/collections/impl/list/primitive/IntInterval.html\" rel=\"noreferrer\"><code>IntInterval</code></a> from Eclipse Collections.</p>\n\n<pre><code>public IntList makeSequence(int begin, int end) {\n    return IntInterval.fromTo(begin, end);\n}\n</code></pre>\n\n<p><code>IntList</code> has the methods <code>sum()</code>, <code>min()</code>, <code>minIfEmpty()</code>, <code>max()</code>, <code>maxIfEmpty()</code>, <code>average()</code> and <code>median()</code> available on the interface.</p>\n\n<p><strong>Update for clarity: 11/27/2017</strong></p>\n\n<p>An <code>Interval</code> is a <code>List&lt;Integer&gt;</code>, but it is lazy and immutable.  It is extremely useful for generating test data, especially if you deal a lot with collections.  If you want you can easily copy an interval to a <code>List</code>, <code>Set</code> or <code>Bag</code> as follows:</p>\n\n<pre><code>Interval integers = Interval.oneTo(10);\nSet&lt;Integer&gt; set = integers.toSet();\nList&lt;Integer&gt; list = integers.toList();\nBag&lt;Integer&gt; bag = integers.toBag();\n</code></pre>\n\n<p>An <code>IntInterval</code> is an <code>ImmutableIntList</code> which extends <code>IntList</code>.  It also has converter methods.</p>\n\n<pre><code>IntInterval ints = IntInterval.oneTo(10);\nIntSet set = ints.toSet();\nIntList list = ints.toList();\nIntBag bag = ints.toBag();\n</code></pre>\n\n<p>An <code>Interval</code> and an <code>IntInterval</code> do not have the same <code>equals</code> contract.</p>\n\n<p><strong>Update for <a href=\"https://github.com/eclipse/eclipse-collections/releases/tag/9.0.0\" rel=\"noreferrer\">Eclipse Collections 9.0</a></strong></p>\n\n<p>You can now create primitive collections from primitive streams.  There are <code>withAll</code> and <code>ofAll</code> methods depending on your preference.  If you are curious, I explain why we have both <a href=\"https://medium.com/@donraab/preposition-preference-1f1c709b098b\" rel=\"noreferrer\">here</a>.  These methods exist for mutable and immutable Int/Long/Double Lists, Sets, Bags and Stacks.</p>\n\n<pre><code>Assert.assertEquals(\n        IntInterval.oneTo(10),\n        IntLists.mutable.withAll(IntStream.rangeClosed(1, 10)));\n\nAssert.assertEquals(\n        IntInterval.oneTo(10),\n        IntLists.immutable.withAll(IntStream.rangeClosed(1, 10)));\n</code></pre>\n\n<p>Note: I am a committer for Eclipse Collections  </p>\n"},{"tags":[],"owner":{"account_id":2027945,"reputation":4954,"user_id":1812434,"accept_rate":57,"display_name":"Venkata Raju"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1623313125,"creation_date":1615793286,"answer_id":66633886,"question_id":10242380,"body_markdown":"    int[] arr = IntStream.rangeClosed(2, 5).toArray();\r\n\tSystem.out.println(Arrays.toString(arr));\r\n    // [2, 3, 4, 5]\r\n\r\n    Integer[] boxedArr = IntStream.rangeClosed(2, 5)\r\n      .boxed().toArray(Integer[]::new);\r\n    System.out.println(Arrays.toString(boxedArr));\r\n\r\n\t// Since Java 16\r\n\tList&lt;Integer&gt; list1 = IntStream.rangeClosed(2, 5)\r\n      .boxed().toList();\r\n\tSystem.out.println(list1);\r\n\r\n\tList&lt;Integer&gt; list2 = IntStream.rangeClosed(2, 5)\r\n      .boxed().collect(Collectors.toList());\r\n\tSystem.out.println(list2);\r\n\r\n\tList&lt;Integer&gt; list3 = Arrays.asList(boxedArr);\r\n\tSystem.out.println(list3);\r\n\r\n\tList&lt;Integer&gt; list4 = new ArrayList&lt;&gt;();\r\n\tIntStream.rangeClosed(2, 5).forEachOrdered(list4::add);\r\n\tSystem.out.println(list4);","title":"How can I generate a list or array of sequential integers in Java?","body":"<pre><code>int[] arr = IntStream.rangeClosed(2, 5).toArray();\nSystem.out.println(Arrays.toString(arr));\n// [2, 3, 4, 5]\n\nInteger[] boxedArr = IntStream.rangeClosed(2, 5)\n  .boxed().toArray(Integer[]::new);\nSystem.out.println(Arrays.toString(boxedArr));\n\n// Since Java 16\nList&lt;Integer&gt; list1 = IntStream.rangeClosed(2, 5)\n  .boxed().toList();\nSystem.out.println(list1);\n\nList&lt;Integer&gt; list2 = IntStream.rangeClosed(2, 5)\n  .boxed().collect(Collectors.toList());\nSystem.out.println(list2);\n\nList&lt;Integer&gt; list3 = Arrays.asList(boxedArr);\nSystem.out.println(list3);\n\nList&lt;Integer&gt; list4 = new ArrayList&lt;&gt;();\nIntStream.rangeClosed(2, 5).forEachOrdered(list4::add);\nSystem.out.println(list4);\n</code></pre>\n"}],"owner":{"account_id":50030,"reputation":61455,"user_id":149138,"accept_rate":56,"display_name":"BeeOnRope"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195315,"favorite_count":0,"down_vote_count":0,"up_vote_count":185,"accepted_answer_id":22829036,"answer_count":9,"score":185,"last_activity_date":1664980070,"creation_date":1334908757,"question_id":10242380,"body_markdown":"Is there a short and sweet way to generate a `List&lt;Integer&gt;`, or perhaps an  `Integer[]` or `int[]`, with sequential values from some `start` value to an `end` value?\r\n\r\nThat is, something shorter than, but equivalent to&lt;sup&gt;1&lt;/sup&gt; the following:\r\n\r\n    void List&lt;Integer&gt; makeSequence(int begin, int end) {\r\n      List&lt;Integer&gt; ret = new ArrayList&lt;&gt;(end - begin + 1);\r\n      for (int i=begin; i&lt;=end; i++) {\r\n        ret.add(i);\r\n      }\r\n      return ret;  \r\n    }\r\n\r\nThe use of guava is fine.\r\n\r\n**Update:**\r\n\r\n## Performance Analysis\r\n\r\nSince this question has received several good answers, both using native Java 8 and third party libraries, I thought I&#39;d test the performance of all the solutions.\r\n\r\nThe first test simply tests creating a list of 10 elements `[1..10]` using the following methods:\r\n\r\n - **classicArrayList**: the code given above in my question (and essentially the same as adarshr&#39;s answer).\r\n - **eclipseCollections**: the code given in [Donald&#39;s answer](https://stackoverflow.com/a/36350104/149138) below using Eclipse Collections 8.0.\r\n - **guavaRange**: the code given in [daveb&#39;s answer](https://stackoverflow.com/a/10242491/149138) below. Technically, this doesn&#39;t create a `List&lt;Integer&gt;` but rather a `ContiguousSet&lt;Integer&gt;` - but since it implements `Iterable&lt;Integer&gt;` in-order, it mostly works for my purposes.\r\n - **intStreamRange**: the code given in [Vladimir&#39;s answer](https://stackoverflow.com/a/22829036/149138) below, which uses `IntStream.rangeClosed()` - which was introduced in Java 8.\r\n - **streamIterate**: the code given in [Catalin&#39;s answer](https://stackoverflow.com/a/36114723/149138) below which also uses `IntStream` functionality introduced in Java 8.\r\n\r\nHere are the results in kilo-operations per second (higher numbers are better), for all the above with lists of size 10:\r\n\r\n[![List creation throughput][1]][1]\r\n\r\n... and again for lists of size 10,000:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThat last chart is correct - the solutions other than Eclipse and Guava are too slow to even get a single pixel bar! The fast solutions are 10,000 to 20,000 _times_ faster than the rest.\r\n\r\nWhat&#39;s going on here, of course, is that the guava and eclipse solutions don&#39;t actually materialize any kind of 10,000 element list - they are simply fixed-size wrappers around the start and endpoints. Each element is created as needed during iteration. Since we don&#39;t actually iterate in this test, the cost is deferred. All of the other solutions actually materialize the full list in memory and pay a heavy price in a creation-only benchmark.\r\n\r\nLet&#39;s do something a bit more realistic and also iterate over all the integers, summing them. So in the case of the `IntStream.rangeClosed` variant, the benchmark looks like:\r\n\r\n\t@Benchmark\r\n\tpublic int intStreamRange() {\r\n\t\tList&lt;Integer&gt; ret = IntStream.rangeClosed(begin, end).boxed().collect(Collectors.toList());  \r\n\t\t\r\n\t\tint total = 0;\r\n\t\tfor (int i : ret) {\r\n\t\t\ttotal += i;\r\n\t\t}\r\n\t\treturn total;  \r\n\t}\r\n\r\nHere, the pictures changes a lot, although the non-materializing solutions are still the fastest. Here&#39;s length=10:\r\n\r\n[![List&lt;Integer&gt; Iteration (length=10)][3]][3] \r\n\r\n... and length = 10,000:\r\n\r\n[![List&lt;Integer&gt; Iteration (length=10,000)][4]][4]\r\n\r\nThe long iteration over many elements evens things up a lot, but eclipse and guava remain more than twice as fast even on the 10,000 element test.\r\n\r\nSo if you _really_ want a `List&lt;Integer&gt;`, eclipse collections seems like the best choice - but of course if you use streams in a more native way (e.g., forgetting `.boxed()` and doing a reduction in the primitive domain) you&#39;ll probably end up faster than all these variants. \r\n\r\n---\r\n\r\n&lt;sup&gt;1&lt;/sup&gt; Perhaps with the exception of error handling, e.g., if `end` &lt; `begin`, or if the size exceeds some implementation or JVM limits (e.g., arrays larger than `2^31-1`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j830l.png\r\n  [2]: https://i.stack.imgur.com/zdxOz.png\r\n  [3]: https://i.stack.imgur.com/VQDYA.png\r\n  [4]: https://i.stack.imgur.com/LWWtu.png","title":"How can I generate a list or array of sequential integers in Java?","body":"<p>Is there a short and sweet way to generate a <code>List&lt;Integer&gt;</code>, or perhaps an  <code>Integer[]</code> or <code>int[]</code>, with sequential values from some <code>start</code> value to an <code>end</code> value?</p>\n\n<p>That is, something shorter than, but equivalent to<sup>1</sup> the following:</p>\n\n<pre><code>void List&lt;Integer&gt; makeSequence(int begin, int end) {\n  List&lt;Integer&gt; ret = new ArrayList&lt;&gt;(end - begin + 1);\n  for (int i=begin; i&lt;=end; i++) {\n    ret.add(i);\n  }\n  return ret;  \n}\n</code></pre>\n\n<p>The use of guava is fine.</p>\n\n<p><strong>Update:</strong></p>\n\n<h2>Performance Analysis</h2>\n\n<p>Since this question has received several good answers, both using native Java 8 and third party libraries, I thought I'd test the performance of all the solutions.</p>\n\n<p>The first test simply tests creating a list of 10 elements <code>[1..10]</code> using the following methods:</p>\n\n<ul>\n<li><strong>classicArrayList</strong>: the code given above in my question (and essentially the same as adarshr's answer).</li>\n<li><strong>eclipseCollections</strong>: the code given in <a href=\"https://stackoverflow.com/a/36350104/149138\">Donald's answer</a> below using Eclipse Collections 8.0.</li>\n<li><strong>guavaRange</strong>: the code given in <a href=\"https://stackoverflow.com/a/10242491/149138\">daveb's answer</a> below. Technically, this doesn't create a <code>List&lt;Integer&gt;</code> but rather a <code>ContiguousSet&lt;Integer&gt;</code> - but since it implements <code>Iterable&lt;Integer&gt;</code> in-order, it mostly works for my purposes.</li>\n<li><strong>intStreamRange</strong>: the code given in <a href=\"https://stackoverflow.com/a/22829036/149138\">Vladimir's answer</a> below, which uses <code>IntStream.rangeClosed()</code> - which was introduced in Java 8.</li>\n<li><strong>streamIterate</strong>: the code given in <a href=\"https://stackoverflow.com/a/36114723/149138\">Catalin's answer</a> below which also uses <code>IntStream</code> functionality introduced in Java 8.</li>\n</ul>\n\n<p>Here are the results in kilo-operations per second (higher numbers are better), for all the above with lists of size 10:</p>\n\n<p><a href=\"https://i.stack.imgur.com/j830l.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/j830l.png\" alt=\"List creation throughput\"></a></p>\n\n<p>... and again for lists of size 10,000:</p>\n\n<p><a href=\"https://i.stack.imgur.com/zdxOz.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zdxOz.png\" alt=\"enter image description here\"></a></p>\n\n<p>That last chart is correct - the solutions other than Eclipse and Guava are too slow to even get a single pixel bar! The fast solutions are 10,000 to 20,000 <em>times</em> faster than the rest.</p>\n\n<p>What's going on here, of course, is that the guava and eclipse solutions don't actually materialize any kind of 10,000 element list - they are simply fixed-size wrappers around the start and endpoints. Each element is created as needed during iteration. Since we don't actually iterate in this test, the cost is deferred. All of the other solutions actually materialize the full list in memory and pay a heavy price in a creation-only benchmark.</p>\n\n<p>Let's do something a bit more realistic and also iterate over all the integers, summing them. So in the case of the <code>IntStream.rangeClosed</code> variant, the benchmark looks like:</p>\n\n<pre><code>@Benchmark\npublic int intStreamRange() {\n    List&lt;Integer&gt; ret = IntStream.rangeClosed(begin, end).boxed().collect(Collectors.toList());  \n\n    int total = 0;\n    for (int i : ret) {\n        total += i;\n    }\n    return total;  \n}\n</code></pre>\n\n<p>Here, the pictures changes a lot, although the non-materializing solutions are still the fastest. Here's length=10:</p>\n\n<p><a href=\"https://i.stack.imgur.com/VQDYA.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/VQDYA.png\" alt=\"List&lt;Integer&gt; Iteration (length=10)\"></a> </p>\n\n<p>... and length = 10,000:</p>\n\n<p><a href=\"https://i.stack.imgur.com/LWWtu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LWWtu.png\" alt=\"List&lt;Integer&gt; Iteration (length=10,000)\"></a></p>\n\n<p>The long iteration over many elements evens things up a lot, but eclipse and guava remain more than twice as fast even on the 10,000 element test.</p>\n\n<p>So if you <em>really</em> want a <code>List&lt;Integer&gt;</code>, eclipse collections seems like the best choice - but of course if you use streams in a more native way (e.g., forgetting <code>.boxed()</code> and doing a reduction in the primitive domain) you'll probably end up faster than all these variants. </p>\n\n<hr>\n\n<p><sup>1</sup> Perhaps with the exception of error handling, e.g., if <code>end</code> &lt; <code>begin</code>, or if the size exceeds some implementation or JVM limits (e.g., arrays larger than <code>2^31-1</code>.</p>\n"},{"tags":["java","sockets"],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1331025654,"post_id":9580288,"comment_id":12148897,"body_markdown":"That&#39;s not going to do much good by itself unless you synchronize the *use* of these properties.","body":"That&#39;s not going to do much good by itself unless you synchronize the <i>use</i> of these properties."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1331026505,"post_id":9580288,"comment_id":12149169,"body_markdown":"I assume you are not suggesting we need to synchronized access to thread local values. Can you clarify?","body":"I assume you are not suggesting we need to synchronized access to thread local values. Can you clarify?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1331026662,"post_id":9580288,"comment_id":12149215,"body_markdown":"When you pull the thread local properties into System properties you need to be synchronized so that another thread doesn&#39;t do that at the same time.","body":"When you pull the thread local properties into System properties you need to be synchronized so that another thread doesn&#39;t do that at the same time."},{"owner":{"account_id":368578,"reputation":397,"user_id":715477,"accept_rate":61,"display_name":"Hari"},"score":0,"creation_date":1331026953,"post_id":9580288,"comment_id":12149310,"body_markdown":"System.setPropery in the last line of each thread sets the property JVM level. Moreover, it gets overridden also. I don&#39;t think this could help us.","body":"System.setPropery in the last line of each thread sets the property JVM level. Moreover, it gets overridden also. I don&#39;t think this could help us."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1331028277,"post_id":9580288,"comment_id":12149731,"body_markdown":"@EJP I have edited my answer to explain why I don&#39;t think this is required.","body":"@EJP I have edited my answer to explain why I don&#39;t think this is required."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1331028331,"post_id":9580288,"comment_id":12149744,"body_markdown":"@Hari, Can you explain why setting thread specific properties wouldn&#39;t help?","body":"@Hari, Can you explain why setting thread specific properties wouldn&#39;t help?"},{"owner":{"account_id":368578,"reputation":397,"user_id":715477,"accept_rate":61,"display_name":"Hari"},"score":0,"creation_date":1331028805,"post_id":9580288,"comment_id":12149914,"body_markdown":"@Peter System.setProperty is JVM scope. System.setProperty(&quot;javax.net.ssl.keyStore&quot;, &quot;&quot;); sets the property in JVM level. The lines of code mentioned in my questions belong to same jvm process since T1 &amp; T2 threads below to same instance.","body":"@Peter System.setProperty is JVM scope. System.setProperty(&quot;javax.net.ssl.keyStore&quot;, &quot;&quot;); sets the property in JVM level. The lines of code mentioned in my questions belong to same jvm process since T1 &amp; T2 threads below to same instance."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1331030248,"post_id":9580288,"comment_id":12150422,"body_markdown":"@Hari That is the default behaviour for System Properties.  The solution above changes the default behaviour so setting properties  is thread local. i.e. if you change the value in one thread it won&#39;t change the value in another.","body":"@Hari That is the default behaviour for System Properties.  The solution above changes the default behaviour so setting properties  is thread local. i.e. if you change the value in one thread it won&#39;t change the value in another."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1331107088,"post_id":9580288,"comment_id":12173803,"body_markdown":"@EJP, I fear my explanation left a bit too much to the imagination. ;) So thank you for trying to get clarification.","body":"@EJP, I fear my explanation left a bit too much to the imagination. ;) So thank you for trying to get clarification."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":9,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1331028236,"creation_date":1331023017,"answer_id":9580288,"question_id":9579958,"body_markdown":"I suspect you have a design issue to have this requirement however.\r\n\r\nThe only way around this is I can think of is to make your properties ThreadLocal. \r\n\r\n    public class ThreadLocalProperties extends Properties {\r\n        private final ThreadLocal&lt;Properties&gt; localProperties = new ThreadLocal&lt;Properties&gt;() {\r\n            @Override\r\n            protected Properties initialValue() {\r\n                return new Properties();\r\n            }\r\n        };\r\n    \r\n        public ThreadLocalProperties(Properties properties) {\r\n            super(properties);\r\n        }\r\n    \r\n        @Override\r\n        public String getProperty(String key) {\r\n            String localValue = localProperties.get().getProperty(key);\r\n            return localValue == null ? super.getProperty(key) : localValue;\r\n        }\r\n    \r\n        @Override\r\n        public Object setProperty(String key, String value) {\r\n            return localProperties.get().setProperty(key, value);\r\n        }\r\n    }\r\n    \r\n    // Make the properties thread local from here. This to be done globally once.\r\n    System.setProperties(new ThreadLocalProperties(System.getProperties()));\r\n\r\n    // in each thread.\r\n    System.setProperty(&quot;javax.net.ssl.keyStore&quot;, &quot;my-key-store&quot;);\r\n\r\n---\r\n\r\nUnless there is any confusion, System.setProperties() doesn&#39;t just set properties, it replaces the collection, and its implementation.\r\n\r\n    // From java.lang.System\r\n     * The argument becomes the current set of system properties for use\r\n     * by the {@link #getProperty(String)} method.\r\n\r\n    public static void setProperties(Properties props) {\r\n        SecurityManager sm = getSecurityManager();\r\n        if (sm != null) {\r\n            sm.checkPropertiesAccess();\r\n        }\r\n        if (props == null) {\r\n            props = new Properties();\r\n            initProperties(props);\r\n        }\r\n        System.props = props;\r\n    }\r\n\r\nBy using this method the behaviour of System Properties **changes** to being thread local for calls to setProperty() and getProperty()","title":"System.setProperty used by a thread impacts other thread in communication to external network elements. How to resolve it?","body":"<p>I suspect you have a design issue to have this requirement however.</p>\n\n<p>The only way around this is I can think of is to make your properties ThreadLocal. </p>\n\n<pre><code>public class ThreadLocalProperties extends Properties {\n    private final ThreadLocal&lt;Properties&gt; localProperties = new ThreadLocal&lt;Properties&gt;() {\n        @Override\n        protected Properties initialValue() {\n            return new Properties();\n        }\n    };\n\n    public ThreadLocalProperties(Properties properties) {\n        super(properties);\n    }\n\n    @Override\n    public String getProperty(String key) {\n        String localValue = localProperties.get().getProperty(key);\n        return localValue == null ? super.getProperty(key) : localValue;\n    }\n\n    @Override\n    public Object setProperty(String key, String value) {\n        return localProperties.get().setProperty(key, value);\n    }\n}\n\n// Make the properties thread local from here. This to be done globally once.\nSystem.setProperties(new ThreadLocalProperties(System.getProperties()));\n\n// in each thread.\nSystem.setProperty(\"javax.net.ssl.keyStore\", \"my-key-store\");\n</code></pre>\n\n<hr>\n\n<p>Unless there is any confusion, System.setProperties() doesn't just set properties, it replaces the collection, and its implementation.</p>\n\n<pre><code>// From java.lang.System\n * The argument becomes the current set of system properties for use\n * by the {@link #getProperty(String)} method.\n\npublic static void setProperties(Properties props) {\n    SecurityManager sm = getSecurityManager();\n    if (sm != null) {\n        sm.checkPropertiesAccess();\n    }\n    if (props == null) {\n        props = new Properties();\n        initProperties(props);\n    }\n    System.props = props;\n}\n</code></pre>\n\n<p>By using this method the behaviour of System Properties <strong>changes</strong> to being thread local for calls to setProperty() and getProperty()</p>\n"},{"comments":[{"owner":{"account_id":368578,"reputation":397,"user_id":715477,"accept_rate":61,"display_name":"Hari"},"score":1,"creation_date":1331026882,"post_id":9580849,"comment_id":12149284,"body_markdown":"Yes, there are different key stores since there are different vendors. Each vendor has there own key store and it should be loaded into JVM. The property names used in setPropery are same for all vendors and this gets overridden.","body":"Yes, there are different key stores since there are different vendors. Each vendor has there own key store and it should be loaded into JVM. The property names used in setPropery are same for all vendors and this gets overridden."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1331025787,"creation_date":1331025787,"answer_id":9580849,"question_id":9579958,"body_markdown":"There are programmatic ways to set the keystore and truststore, see the [JSSE Reference Guide][1], but why exactly do you think you need different keystores and truststores at all? The truststore is a list of every CA you trust: is that really different in different contexts: and the keystore is your identity: is that really different in different contexts? and if so why? \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/technotes/guides/security/jsse/JSSERefGuide.html","title":"System.setProperty used by a thread impacts other thread in communication to external network elements. How to resolve it?","body":"<p>There are programmatic ways to set the keystore and truststore, see the <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/security/jsse/JSSERefGuide.html\" rel=\"nofollow\">JSSE Reference Guide</a>, but why exactly do you think you need different keystores and truststores at all? The truststore is a list of every CA you trust: is that really different in different contexts: and the keystore is your identity: is that really different in different contexts? and if so why? </p>\n"},{"comments":[{"owner":{"account_id":97482,"reputation":14027,"user_id":264419,"accept_rate":89,"display_name":"Dejell"},"score":0,"creation_date":1420140638,"post_id":16613821,"comment_id":43879325,"body_markdown":"why does it make a difference?","body":"why does it make a difference?"},{"owner":{"account_id":97482,"reputation":14027,"user_id":264419,"accept_rate":89,"display_name":"Dejell"},"score":0,"creation_date":1421954109,"post_id":16613821,"comment_id":44569575,"body_markdown":"How did you remove it on tomcat shutdown?","body":"How did you remove it on tomcat shutdown?"}],"tags":[],"owner":{"account_id":2708569,"reputation":465,"user_id":2337609,"display_name":"paulk23"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1368807926,"creation_date":1368807926,"answer_id":16613821,"question_id":9579958,"body_markdown":"I arrived here looking for a solution to set system properties per thread.  I used @Peter Lawrey&#39;s excellent example above and it was just what I needed with one exception - my code needed to be run inside a servlet container (Tomcat), and as such I was obligated to be a good citizen and not alter the expected behavior of setProperty() for any other webapp running within the same JVM instance.  To address this, I renamed Peter&#39;s `setProperty()` method to `setLocalProperty()`:\r\n    \r\n    \tpublic Object setThreadLocalProperty(String key, String value) {\r\n    \t\treturn localProperties.get().setProperty(key, value);\r\n    \t}\r\n\r\nWith this one change, the result is that a call to setProperty() will alter the property globally - which will be the desired behavior for other threads within the JVM.  To alter the property for just the local thread, the call is instead made to `setThreadLocalProperty()`.\r\n\r\nIn summary if you have full control over your application instance then Peter&#39;s code should work great for you.  If however your application lives in a shared JVM - or if you have a need to otherwise &quot;layer&quot; system properties into global and thread-local, the one modification above should work for you. ","title":"System.setProperty used by a thread impacts other thread in communication to external network elements. How to resolve it?","body":"<p>I arrived here looking for a solution to set system properties per thread.  I used @Peter Lawrey's excellent example above and it was just what I needed with one exception - my code needed to be run inside a servlet container (Tomcat), and as such I was obligated to be a good citizen and not alter the expected behavior of setProperty() for any other webapp running within the same JVM instance.  To address this, I renamed Peter's <code>setProperty()</code> method to <code>setLocalProperty()</code>:</p>\n\n<pre><code>    public Object setThreadLocalProperty(String key, String value) {\n        return localProperties.get().setProperty(key, value);\n    }\n</code></pre>\n\n<p>With this one change, the result is that a call to setProperty() will alter the property globally - which will be the desired behavior for other threads within the JVM.  To alter the property for just the local thread, the call is instead made to <code>setThreadLocalProperty()</code>.</p>\n\n<p>In summary if you have full control over your application instance then Peter's code should work great for you.  If however your application lives in a shared JVM - or if you have a need to otherwise \"layer\" system properties into global and thread-local, the one modification above should work for you. </p>\n"},{"tags":[],"owner":{"account_id":6368209,"reputation":11,"user_id":4941556,"display_name":"Mpanwar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664980026,"creation_date":1664980026,"answer_id":73961902,"question_id":9579958,"body_markdown":"I tried above threadlocal example and creating seperate keystone to refer in two different thread. But at a time one connection create and other failed with error wrong truststore.","title":"System.setProperty used by a thread impacts other thread in communication to external network elements. How to resolve it?","body":"<p>I tried above threadlocal example and creating seperate keystone to refer in two different thread. But at a time one connection create and other failed with error wrong truststore.</p>\n"}],"owner":{"account_id":368578,"reputation":397,"user_id":715477,"accept_rate":61,"display_name":"Hari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8221,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1664980026,"creation_date":1331021336,"question_id":9579958,"body_markdown":"In my application, I have two threads. Each thread communicates to different external entities.\r\n\r\nLet us say T1 --&gt; N1 &amp; T2 --&gt; N2 (T1 &amp; T2 are two threads. N1 &amp; N2 are external entities. Communications is SOAP over HTTPS.)\r\n\r\nThe vendor of N1 requested to use key store file `UPCC_client.store` for authentication and for the same we have used the following code,\r\n\r\n    System.setProperty(&quot;javax.net.ssl.keyStore&quot;, &quot;&lt;file path&gt;&quot;);\r\n    System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, &quot;&lt;password&gt;&quot;);\r\n    System.setProperty(&quot;javax.net.ssl.trustStore&quot;,&quot;&lt;file path&gt;&quot;);\r\n    System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;&lt;password&gt;&quot;);\r\n\r\nThe application has been restarted with the above properties set in T1 thread with no issues. T2 started getting into trouble, since properties set by T1 are getting used by T2. The main reason behind this is `System.setProperty` is JVM scope. How to resolve this problem?","title":"System.setProperty used by a thread impacts other thread in communication to external network elements. How to resolve it?","body":"<p>In my application, I have two threads. Each thread communicates to different external entities.</p>\n\n<p>Let us say T1 --> N1 &amp; T2 --> N2 (T1 &amp; T2 are two threads. N1 &amp; N2 are external entities. Communications is SOAP over HTTPS.)</p>\n\n<p>The vendor of N1 requested to use key store file <code>UPCC_client.store</code> for authentication and for the same we have used the following code,</p>\n\n<pre><code>System.setProperty(\"javax.net.ssl.keyStore\", \"&lt;file path&gt;\");\nSystem.setProperty(\"javax.net.ssl.keyStorePassword\", \"&lt;password&gt;\");\nSystem.setProperty(\"javax.net.ssl.trustStore\",\"&lt;file path&gt;\");\nSystem.setProperty(\"javax.net.ssl.trustStorePassword\", \"&lt;password&gt;\");\n</code></pre>\n\n<p>The application has been restarted with the above properties set in T1 thread with no issues. T2 started getting into trouble, since properties set by T1 are getting used by T2. The main reason behind this is <code>System.setProperty</code> is JVM scope. How to resolve this problem?</p>\n"},{"tags":["java","deployment","vert.x","packaging"],"comments":[{"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"score":0,"creation_date":1663451084,"post_id":73739195,"comment_id":130244192,"body_markdown":"If you need more in depth vert.x consulting reach out using the link in my profile","body":"If you need more in depth vert.x consulting reach out using the link in my profile"}],"answers":[{"comments":[{"owner":{"account_id":6000385,"reputation":135,"user_id":4713844,"display_name":"Dai MIKURUBE"},"score":0,"creation_date":1663662585,"post_id":73758744,"comment_id":130286860,"body_markdown":"Thanks for your answer. Yeah, I knew about that &quot;embedded&quot; approach from http://vert-x.github.io/embedding_manual.html  But how about the performance? They say they strongly recommend to apply `PlatformManager`, otherwise it cannot utilize Vert.x&#39;s scaling benefts easily.","body":"Thanks for your answer. Yeah, I knew about that &quot;embedded&quot; approach from <a href=\"http://vert-x.github.io/embedding_manual.html\" rel=\"nofollow noreferrer\">vert-x.github.io/embedding_manual.html</a>  But how about the performance? They say they strongly recommend to apply <code>PlatformManager</code>, otherwise it cannot utilize Vert.x&#39;s scaling benefts easily."},{"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"score":0,"creation_date":1663679109,"post_id":73758744,"comment_id":130292626,"body_markdown":"That is not correct.  Nothing to do with scaling","body":"That is not correct.  Nothing to do with scaling"},{"owner":{"account_id":6000385,"reputation":135,"user_id":4713844,"display_name":"Dai MIKURUBE"},"score":0,"creation_date":1664156642,"post_id":73758744,"comment_id":130399621,"body_markdown":"Okay, it turned out that http://vert-x.github.io/embedding_manual.html is too old -- information of Vert.x v2.","body":"Okay, it turned out that <a href=\"http://vert-x.github.io/embedding_manual.html\" rel=\"nofollow noreferrer\">vert-x.github.io/embedding_manual.html</a> is too old -- information of Vert.x v2."}],"tags":[],"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663451009,"creation_date":1663451009,"answer_id":73758744,"question_id":73739195,"body_markdown":"I avoid the vert.x launcher and use regular deployment patterns.\r\n\r\n1. Compile the code into a fat jar using maven or gradle\r\n2. Put the fat jar into a docker image\r\n3. Deploy the docker image\r\n\r\nThis way everything runs from your main function\r\n\r\nHere is a starter app for vertx that you can clone and run the following commands on : https://github.com/asad-awadia/vertx-starter\r\n\r\n`mvn clean compile install package` to create the fat jar\r\n\r\n`mvn compile jib:dockerBuild` to build the docker image\r\n\r\n`mvn compile jib:buildTar` to build the tar of the docker image","title":"Varieties of packaging a Vert.x application, and deploying it","body":"<p>I avoid the vert.x launcher and use regular deployment patterns.</p>\n<ol>\n<li>Compile the code into a fat jar using maven or gradle</li>\n<li>Put the fat jar into a docker image</li>\n<li>Deploy the docker image</li>\n</ol>\n<p>This way everything runs from your main function</p>\n<p>Here is a starter app for vertx that you can clone and run the following commands on : <a href=\"https://github.com/asad-awadia/vertx-starter\" rel=\"nofollow noreferrer\">https://github.com/asad-awadia/vertx-starter</a></p>\n<p><code>mvn clean compile install package</code> to create the fat jar</p>\n<p><code>mvn compile jib:dockerBuild</code> to build the docker image</p>\n<p><code>mvn compile jib:buildTar</code> to build the tar of the docker image</p>\n"},{"tags":[],"owner":{"account_id":6000385,"reputation":135,"user_id":4713844,"display_name":"Dai MIKURUBE"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664979517,"creation_date":1664979517,"answer_id":73961791,"question_id":73739195,"body_markdown":"I got some information about the &quot;Embedding&quot; approach from the Vert.x mailing list and a GitHub Issue. Let me share it as one of answers.\r\n\r\nhttp://vert-x.github.io/embedding_manual.html is so old and obsolete, which is about Vert.x v2. The Vert.x lead said :\r\n\r\n&gt; that&#39;s very old, nobody should ever read this anymore.\r\n\r\n* https://groups.google.com/g/vertx/c/HAhl5dJ2PMw\r\n* https://github.com/eclipse-vertx/vert.x/issues/4496\r\n\r\n(But, I still keep this question open so that the question could collect some more other patterns for knowlege.)\r\n","title":"Varieties of packaging a Vert.x application, and deploying it","body":"<p>I got some information about the &quot;Embedding&quot; approach from the Vert.x mailing list and a GitHub Issue. Let me share it as one of answers.</p>\n<p><a href=\"http://vert-x.github.io/embedding_manual.html\" rel=\"nofollow noreferrer\">http://vert-x.github.io/embedding_manual.html</a> is so old and obsolete, which is about Vert.x v2. The Vert.x lead said :</p>\n<blockquote>\n<p>that's very old, nobody should ever read this anymore.</p>\n</blockquote>\n<ul>\n<li><a href=\"https://groups.google.com/g/vertx/c/HAhl5dJ2PMw\" rel=\"nofollow noreferrer\">https://groups.google.com/g/vertx/c/HAhl5dJ2PMw</a></li>\n<li><a href=\"https://github.com/eclipse-vertx/vert.x/issues/4496\" rel=\"nofollow noreferrer\">https://github.com/eclipse-vertx/vert.x/issues/4496</a></li>\n</ul>\n<p>(But, I still keep this question open so that the question could collect some more other patterns for knowlege.)</p>\n"}],"owner":{"account_id":6000385,"reputation":135,"user_id":4713844,"display_name":"Dai MIKURUBE"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664979517,"creation_date":1663294826,"question_id":73739195,"body_markdown":"I recently started to try developing a Vert.x application. Its reactive manner is good and understandable for me, but I was not very sure about patterns of packaging a Vert.x application, and patterns of deploying it. (&quot;Deploying&quot; here means deploying the entire application, not deploying a verticle.)\r\n\r\nI looked for some documents and articles, then I saw at least :\r\n\r\n* Run through `mvn / gradle run(Mod)` from a source code directory\r\n* Use a `vertx` command to &quot;deploy&quot; a verticle with `.java` source file(s)\r\n* Build a Fat JAR\r\n* (Extra: Embedding it in another Java application http://vert-x.github.io/embedding_manual.html)\r\n\r\nIt is interesting that those kinds of deployment are possible, but I was not very sure of any other packaging/deployment method, and how many variations of packaging/deployment styles are available for Vert.x.\r\n\r\nSome of them did not look like, to be honest, good production-ready deployment methods to me especially in terms of the manner of immutable deployment.\r\n\r\nQ1. Does Vert.x have a good summary / document for patterns of packaging and deploying an entire Vert.x application, especially in production?\r\n\r\nQ2. What are advantages and disadvantages for each pattern?\r\n\r\nQ3. Any commentary how a Vert.x application starts up internally?  (I looked into some code under `io/vertx/core/cli/`, and I saw it is spawning another JVM process. It was not very to understand its bootstrapping architecture quickly...)","title":"Varieties of packaging a Vert.x application, and deploying it","body":"<p>I recently started to try developing a Vert.x application. Its reactive manner is good and understandable for me, but I was not very sure about patterns of packaging a Vert.x application, and patterns of deploying it. (&quot;Deploying&quot; here means deploying the entire application, not deploying a verticle.)</p>\n<p>I looked for some documents and articles, then I saw at least :</p>\n<ul>\n<li>Run through <code>mvn / gradle run(Mod)</code> from a source code directory</li>\n<li>Use a <code>vertx</code> command to &quot;deploy&quot; a verticle with <code>.java</code> source file(s)</li>\n<li>Build a Fat JAR</li>\n<li>(Extra: Embedding it in another Java application <a href=\"http://vert-x.github.io/embedding_manual.html\" rel=\"nofollow noreferrer\">http://vert-x.github.io/embedding_manual.html</a>)</li>\n</ul>\n<p>It is interesting that those kinds of deployment are possible, but I was not very sure of any other packaging/deployment method, and how many variations of packaging/deployment styles are available for Vert.x.</p>\n<p>Some of them did not look like, to be honest, good production-ready deployment methods to me especially in terms of the manner of immutable deployment.</p>\n<p>Q1. Does Vert.x have a good summary / document for patterns of packaging and deploying an entire Vert.x application, especially in production?</p>\n<p>Q2. What are advantages and disadvantages for each pattern?</p>\n<p>Q3. Any commentary how a Vert.x application starts up internally?  (I looked into some code under <code>io/vertx/core/cli/</code>, and I saw it is spawning another JVM process. It was not very to understand its bootstrapping architecture quickly...)</p>\n"},{"tags":["java","freemarker","xdocreport"],"answers":[{"tags":[],"owner":{"account_id":4421800,"reputation":814,"user_id":9586104,"display_name":"brebDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664979352,"creation_date":1664979352,"answer_id":73961740,"question_id":73905569,"body_markdown":"The answer was, using Aspose framework(this is not free like opensagres).\r\nThe biggest advantages are that in Aspose you can force the framework to use some sets of fonts from the application resources and other great features(like smooth and simple pdf convertions). \r\n\r\nThe only trouble was that Aspose doesn&#39;t have integration with Freemarker template. In our case that meant changing a lot of quite big complex existing documents.\r\n\r\nAfter some analyses and based on Aspose really kind support, we took the decision to use a hybrid solution like:\r\n\r\n 1. Documents would be still generated in memory with Opensagres and Freemarker\r\n 2. After that the documents will be loaded with Aspose, and render based on the application resources fonts. The native font for Cambodian characters is **Daunpenh Font**. This font was placed in application resources.\r\n\r\nThe full topic can be found here: https://forum.aspose.com/t/support-cambodian-language/252057\r\n\r\n","title":"Opensagres - Generate Word document that support Cambodian language","body":"<p>The answer was, using Aspose framework(this is not free like opensagres).\nThe biggest advantages are that in Aspose you can force the framework to use some sets of fonts from the application resources and other great features(like smooth and simple pdf convertions).</p>\n<p>The only trouble was that Aspose doesn't have integration with Freemarker template. In our case that meant changing a lot of quite big complex existing documents.</p>\n<p>After some analyses and based on Aspose really kind support, we took the decision to use a hybrid solution like:</p>\n<ol>\n<li>Documents would be still generated in memory with Opensagres and Freemarker</li>\n<li>After that the documents will be loaded with Aspose, and render based on the application resources fonts. The native font for Cambodian characters is <strong>Daunpenh Font</strong>. This font was placed in application resources.</li>\n</ol>\n<p>The full topic can be found here: <a href=\"https://forum.aspose.com/t/support-cambodian-language/252057\" rel=\"nofollow noreferrer\">https://forum.aspose.com/t/support-cambodian-language/252057</a></p>\n"}],"owner":{"account_id":4421800,"reputation":814,"user_id":9586104,"display_name":"brebDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73961740,"answer_count":1,"score":0,"last_activity_date":1664979352,"creation_date":1664524175,"question_id":73905569,"body_markdown":"All the documents generated in our application are generated with **java-11 + opensagres\r\n/xdocreport-2.0.2 + Freemarker** template engine. \r\nThe documents are generated correctly in multiple languages like: Russian and Chinese.\r\n\r\nWe&#39;ve observed that when the input is in Cambodian language the Word document generated contains some utility boxes instead of Cambodian characters.\r\n\r\nI&#39;ve explained more in detail the issue here: https://github.com/opensagres/xdocreport/issues/575 , but I didn&#39;t receive any answer until now.\r\n\r\nDid anyone manage to generate documents containing this language with opensagres ?\r\n\r\nThanks upfront!","title":"Opensagres - Generate Word document that support Cambodian language","body":"<p>All the documents generated in our application are generated with <strong>java-11 + opensagres\n/xdocreport-2.0.2 + Freemarker</strong> template engine.\nThe documents are generated correctly in multiple languages like: Russian and Chinese.</p>\n<p>We've observed that when the input is in Cambodian language the Word document generated contains some utility boxes instead of Cambodian characters.</p>\n<p>I've explained more in detail the issue here: <a href=\"https://github.com/opensagres/xdocreport/issues/575\" rel=\"nofollow noreferrer\">https://github.com/opensagres/xdocreport/issues/575</a> , but I didn't receive any answer until now.</p>\n<p>Did anyone manage to generate documents containing this language with opensagres ?</p>\n<p>Thanks upfront!</p>\n"},{"tags":["java","stream","joptionpane","objectinputstream","objectoutputstream"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1664977986,"post_id":73961341,"comment_id":130592011,"body_markdown":"`while(true)` will keep the event dispatch thread busy and thus Swing cannot draw the option pane. If the program really stops you&#39;re probably getting some runtime exception. Any output on the command line?","body":"<code>while(true)</code> will keep the event dispatch thread busy and thus Swing cannot draw the option pane. If the program really stops you&#39;re probably getting some runtime exception. Any output on the command line?"},{"owner":{"account_id":22936744,"reputation":1,"user_id":17070117,"display_name":"Jes&#250;s Carrasquer"},"score":0,"creation_date":1664978158,"post_id":73961341,"comment_id":130592090,"body_markdown":"is there a better way to loop throughout the file then? my intention is to keep showing JOptionPane until an EOF Exception pops up","body":"is there a better way to loop throughout the file then? my intention is to keep showing JOptionPane until an EOF Exception pops up"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1664978317,"post_id":73961341,"comment_id":130592162,"body_markdown":"According to the JavaDoc `showMessageDialog()` should create a modal dialog so it seems to be blocking. That means you should see the dialog somewhere on your screen (not necessarily where you expect it to be) and the program will wait for you to close it. Aside from that you need to break out of that loop - are you planning to use the `EOFException` for that?","body":"According to the JavaDoc <code>showMessageDialog()</code> should create a modal dialog so it seems to be blocking. That means you should see the dialog somewhere on your screen (not necessarily where you expect it to be) and the program will wait for you to close it. Aside from that you need to break out of that loop - are you planning to use the <code>EOFException</code> for that?"},{"owner":{"account_id":22936744,"reputation":1,"user_id":17070117,"display_name":"Jes&#250;s Carrasquer"},"score":0,"creation_date":1664978664,"post_id":73961341,"comment_id":130592299,"body_markdown":"No popups on my screen, I was planning to do that since i dont really know how else you can know where the file ends","body":"No popups on my screen, I was planning to do that since i dont really know how else you can know where the file ends"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1664979305,"post_id":73961341,"comment_id":130592549,"body_markdown":"Did you try stepping through the code with a debugger or at least adding `System.out.println(...);` statements into your code to see where it seems to &quot;stop&quot;? If you put something before opening the dialog, do you see it at least once?","body":"Did you try stepping through the code with a debugger or at least adding <code>System.out.println(...);</code> statements into your code to see where it seems to &quot;stop&quot;? If you put something before opening the dialog, do you see it at least once?"},{"owner":{"account_id":22936744,"reputation":1,"user_id":17070117,"display_name":"Jes&#250;s Carrasquer"},"score":0,"creation_date":1664979383,"post_id":73961341,"comment_id":130592578,"body_markdown":"yeah, deleted the println before posting but anything before the JOptionPane prints once, anything after gets no output.","body":"yeah, deleted the println before posting but anything before the JOptionPane prints once, anything after gets no output."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1664979658,"post_id":73961341,"comment_id":130592696,"body_markdown":"That sounds like either your application is still running and you&#39;re just not seeing the dialog or your system has some issues with the Java graphics setup (not sure what that could be though).","body":"That sounds like either your application is still running and you&#39;re just not seeing the dialog or your system has some issues with the Java graphics setup (not sure what that could be though)."}],"owner":{"account_id":22936744,"reputation":1,"user_id":17070117,"display_name":"Jes&#250;s Carrasquer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664979316,"creation_date":1664977546,"question_id":73961341,"body_markdown":"I am a programming student in Spain, lately we&#39;ve been learning about file input and output with objects, recently we&#39;ve been developing a small program that asks for some data, writes it into a file and shows everything the file contains using `JOptionPane`.\r\n\r\nMy problem is that my `JOptionPane` seems to literally not work, program just stops there, doesn&#39;t throw any exception, doesn&#39;t follow up...\r\n\r\nI&#39;ve tried it in the computer of a friend and it works there, also asked my teacher but he is clueless, any ideas on what&#39;s going on?\r\n\r\nMain class:\r\n\r\n```\r\npublic class Main {\r\n\r\n    \r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Introduce la matricula del veh&#237;culo&quot;);\r\n        String matricula = pideInput();\r\n        System.out.println(&quot;Introduce la marca del veh&#237;culo&quot;);\r\n        String marca = pideInput();\r\n        System.out.println(&quot;Introduce el tama&#241;o del deposito del veh&#237;culo&quot;);\r\n        Double tamDeposito = pideNum();\r\n        System.out.println(&quot;Introduce el modelo del veh&#237;culo&quot;);\r\n        String modelo = pideInput();\r\n        try {\r\n            MiObjectOutputStream escritor = new MiObjectOutputStream(new FileOutputStream(&quot;D:\\\\vehiculos.dat&quot;,true));\r\n            escritor.writeObject(new Vehiculo(matricula,marca,tamDeposito,modelo));\r\n            escritor.close();\r\n            escritor.flush();\r\n            MiObjectInputStream lector = new MiObjectInputStream(new FileInputStream(&quot;D:\\\\vehiculos.dat&quot;));\r\n            try{\r\n            \r\n                while(true){\r\n                    Vehiculo v;\r\n                    v = (Vehiculo) lector.readObject();\r\n                    String desc = v.toString();\r\n                    JOptionPane.showMessageDialog(null, desc);\r\n                    System.out.println(desc);\r\n                }   \r\n            }\r\n            catch (ClassNotFoundException ex) {\r\n                Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n            }catch (EOFException ex) {\r\n                Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n            lector.close();\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n        } catch (SecurityException ex) {\r\n            Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n        \r\n        \r\n        \r\n    }\r\n    \r\n    \r\n    private static double pideNum(){\r\n        Scanner lector = new Scanner(System.in);\r\n        double input = -1;\r\n        try{\r\n            input = lector.nextDouble();\r\n        }catch(java.util.InputMismatchException e){\r\n            System.out.println(&quot;Error, se debe introducir un n&#250;mero adecuado&quot;);\r\n            return pideNum();\r\n        }\r\n        return input;\r\n    }\r\n    \r\n    private static String pideInput(){\r\n        Scanner lector = new Scanner(System.in);\r\n        return lector.nextLine();\r\n    }\r\n}\r\n```\r\n\r\nVehicle class:\r\n\r\n```\r\npublic class Vehiculo implements Serializable{\r\n    String matricula;\r\n    String marca;\r\n    String modelo;\r\n    double tamDeposito;\r\n    public Vehiculo(String matricula, String marca, double tamDeposito, String modelo) {\r\n        this.matricula = matricula;\r\n        this.marca = marca;\r\n        this.tamDeposito = tamDeposito;\r\n        this.modelo = modelo;\r\n    }\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Vehiculo{&quot; + &quot;matricula=&quot; + matricula + &quot;, marca=&quot; + marca + &quot;, modelo=&quot; + modelo + &quot;, tamDeposito=&quot; + tamDeposito + &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nCustom stream:\r\n\r\n```\r\npublic class MiObjectOutputStream extends ObjectOutputStream {\r\n    public MiObjectOutputStream(OutputStream out) throws IOException {\r\n        super(out);\r\n    }\r\n    public MiObjectOutputStream() throws IOException, SecurityException {\r\n        super();\r\n    }\r\n    @Override\r\n    protected void writeStreamHeader(){\r\n        //Fumate un petardo\r\n    } \r\n}\r\n```\r\n\r\nThe custom `ObjectInputStream` is mostly the same as the output one, only differences are that it extends `ObjectInputStream`, uses `InputStream` as a param in the constructor and Overrides `readStreamHeader()` instead of `writeStreamHeader()`.\r\n\r\nEdit: tried uninstalling, error popped up and cant uninstall, it seems some netbeans process is still open, nothing on task manager tho.\r\n\r\n`\r\n running uninstallation logic\r\nNameResolver - to parse C:\\Program Files\\NetBeans 8.2\r\n[2System.getProperty(netbeans.default_userdir_root): C:\\Users\\Alumno\\AppData\\Roaming\\NetBeans\r\nSystem.getProperty(netbeans.default_userdir_root): C:\\Users\\Alumno\\AppData\\Roaming\\NetBeans\r\nIt appears that the following instance of the NetBeans IDE is still running:\r\n C:\\Program Files\\NetBeans 8.2\r\nA lock file exists at \r\nC:\\Users\\Alumno\\AppData\\Roaming\\NetBeans\\8.2\\lock\r\n Please close this NetBeans IDE prior to continuing with uninstallation.\r\nshow message dialog\r\n title: Critical Error\r\n message: It appears that the following instance of the NetBeans IDE is still running:\r\nC:\\Program Files\\NetBeans 8.2\r\nA lock file exists at \r\nC:\\Users\\Alumno\\AppData\\Roaming\\NetBeans\\8.2\\lock\r\nPlease close this NetBeans IDE prior to continuing with uninstallation.`","title":"JOptionPane broken on Netbeans 8.2","body":"<p>I am a programming student in Spain, lately we've been learning about file input and output with objects, recently we've been developing a small program that asks for some data, writes it into a file and shows everything the file contains using <code>JOptionPane</code>.</p>\n<p>My problem is that my <code>JOptionPane</code> seems to literally not work, program just stops there, doesn't throw any exception, doesn't follow up...</p>\n<p>I've tried it in the computer of a friend and it works there, also asked my teacher but he is clueless, any ideas on what's going on?</p>\n<p>Main class:</p>\n<pre><code>public class Main {\n\n    \n    public static void main(String[] args) {\n        System.out.println(&quot;Introduce la matricula del vehículo&quot;);\n        String matricula = pideInput();\n        System.out.println(&quot;Introduce la marca del vehículo&quot;);\n        String marca = pideInput();\n        System.out.println(&quot;Introduce el tamaño del deposito del vehículo&quot;);\n        Double tamDeposito = pideNum();\n        System.out.println(&quot;Introduce el modelo del vehículo&quot;);\n        String modelo = pideInput();\n        try {\n            MiObjectOutputStream escritor = new MiObjectOutputStream(new FileOutputStream(&quot;D:\\\\vehiculos.dat&quot;,true));\n            escritor.writeObject(new Vehiculo(matricula,marca,tamDeposito,modelo));\n            escritor.close();\n            escritor.flush();\n            MiObjectInputStream lector = new MiObjectInputStream(new FileInputStream(&quot;D:\\\\vehiculos.dat&quot;));\n            try{\n            \n                while(true){\n                    Vehiculo v;\n                    v = (Vehiculo) lector.readObject();\n                    String desc = v.toString();\n                    JOptionPane.showMessageDialog(null, desc);\n                    System.out.println(desc);\n                }   \n            }\n            catch (ClassNotFoundException ex) {\n                Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n            }catch (EOFException ex) {\n                Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n            }\n            lector.close();\n        } catch (IOException ex) {\n            Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n        } catch (SecurityException ex) {\n            Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n        }\n        \n        \n        \n    }\n    \n    \n    private static double pideNum(){\n        Scanner lector = new Scanner(System.in);\n        double input = -1;\n        try{\n            input = lector.nextDouble();\n        }catch(java.util.InputMismatchException e){\n            System.out.println(&quot;Error, se debe introducir un número adecuado&quot;);\n            return pideNum();\n        }\n        return input;\n    }\n    \n    private static String pideInput(){\n        Scanner lector = new Scanner(System.in);\n        return lector.nextLine();\n    }\n}\n</code></pre>\n<p>Vehicle class:</p>\n<pre><code>public class Vehiculo implements Serializable{\n    String matricula;\n    String marca;\n    String modelo;\n    double tamDeposito;\n    public Vehiculo(String matricula, String marca, double tamDeposito, String modelo) {\n        this.matricula = matricula;\n        this.marca = marca;\n        this.tamDeposito = tamDeposito;\n        this.modelo = modelo;\n    }\n    @Override\n    public String toString() {\n        return &quot;Vehiculo{&quot; + &quot;matricula=&quot; + matricula + &quot;, marca=&quot; + marca + &quot;, modelo=&quot; + modelo + &quot;, tamDeposito=&quot; + tamDeposito + '}';\n    }\n}\n</code></pre>\n<p>Custom stream:</p>\n<pre><code>public class MiObjectOutputStream extends ObjectOutputStream {\n    public MiObjectOutputStream(OutputStream out) throws IOException {\n        super(out);\n    }\n    public MiObjectOutputStream() throws IOException, SecurityException {\n        super();\n    }\n    @Override\n    protected void writeStreamHeader(){\n        //Fumate un petardo\n    } \n}\n</code></pre>\n<p>The custom <code>ObjectInputStream</code> is mostly the same as the output one, only differences are that it extends <code>ObjectInputStream</code>, uses <code>InputStream</code> as a param in the constructor and Overrides <code>readStreamHeader()</code> instead of <code>writeStreamHeader()</code>.</p>\n<p>Edit: tried uninstalling, error popped up and cant uninstall, it seems some netbeans process is still open, nothing on task manager tho.</p>\n<p><code> running uninstallation logic NameResolver - to parse C:\\Program Files\\NetBeans 8.2 [2System.getProperty(netbeans.default_userdir_root): C:\\Users\\Alumno\\AppData\\Roaming\\NetBeans System.getProperty(netbeans.default_userdir_root): C:\\Users\\Alumno\\AppData\\Roaming\\NetBeans It appears that the following instance of the NetBeans IDE is still running: C:\\Program Files\\NetBeans 8.2 A lock file exists at  C:\\Users\\Alumno\\AppData\\Roaming\\NetBeans\\8.2\\lock Please close this NetBeans IDE prior to continuing with uninstallation. show message dialog title: Critical Error message: It appears that the following instance of the NetBeans IDE is still running: C:\\Program Files\\NetBeans 8.2 A lock file exists at  C:\\Users\\Alumno\\AppData\\Roaming\\NetBeans\\8.2\\lock Please close this NetBeans IDE prior to continuing with uninstallation.</code></p>\n"},{"tags":["java","postgresql"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1664965903,"post_id":73959023,"comment_id":130587659,"body_markdown":"I&#39;d say &quot;live with it&quot;. Looks like a performance killer to me.","body":"I&#39;d say &quot;live with it&quot;. Looks like a performance killer to me."},{"owner":{"account_id":19559913,"reputation":181,"user_id":14313338,"display_name":"Jurgen Rutten"},"score":0,"creation_date":1664966978,"post_id":73959023,"comment_id":130587987,"body_markdown":"http://www.codediesel.com/mysql/sequence-gaps-in-mysql/\nThis might help (I know it&#39;s mysql, but it should mostly still apply; except for syntax)","body":"<a href=\"http://www.codediesel.com/mysql/sequence-gaps-in-mysql/\" rel=\"nofollow noreferrer\">codediesel.com/mysql/sequence-gaps-in-mysql</a> This might help (I know it&#39;s mysql, but it should mostly still apply; except for syntax)"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1664968379,"post_id":73959023,"comment_id":130588445,"body_markdown":"You don&#39;t. Gaps in generated primary key values are expected and nothing to worry about. The **only**job for a primary key value is to be unique. It is completely meaningless if that value is 1,2,-6549, 42 or 464293. If you want to &quot;renumber&quot; the existing rows, you would need to UPDATE all tables that reference those values as well - something that will get ugly and complicated quickly.","body":"You don&#39;t. Gaps in generated primary key values are expected and nothing to worry about. The <b>only</b>job for a primary key value is to be unique. It is completely meaningless if that value is 1,2,-6549, 42 or 464293. If you want to &quot;renumber&quot; the existing rows, you would need to UPDATE all tables that reference those values as well - something that will get ugly and complicated quickly."}],"answers":[{"tags":[],"owner":{"account_id":14589181,"reputation":285,"user_id":10536936,"display_name":"Ali Zedan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664979310,"creation_date":1664978534,"answer_id":73961558,"question_id":73959023,"body_markdown":"I don&#39;t know if that will solve your problem but I suggest that you do  updating for all serial ids again.\r\n\r\n So If you want it to be (1,2,3,4) so you can use this query : \r\n\r\n    ALTER SEQUENCE seq RESTART WITH 1;\r\n    UPDATE t SET idcolumn=nextval(&#39;seq&#39;);\r\n    \r\nsource: https://stackoverflow.com/questions/4678110/how-to-reset-sequence-in-postgres-and-fill-id-column-with-new-data\r\n\r\n\r\nYou can create a service that executes this query inside deleting books service, so after deleting books you will call this service to rearange ids\r\n\r\n    public void UpdateIds() {\r\n    // make a connection with your database and send query above to update ids\r\n    } \r\n\r\nand in your service where you delete books, I suppose you have a service looks like that\r\n\r\n    public void deleteBooks(//some books ids to be deleted\r\n    ){\r\n    \r\n    //some code for deleting books by ids\r\n    \r\n    // call the method above to update ids again \r\n    UpdateIds()\r\n        \r\n    }","title":"Java to postgresSQL. I am using SERIAL for my id column , can I make it replace missing value when I remove row and add a new one?","body":"<p>I don't know if that will solve your problem but I suggest that you do  updating for all serial ids again.</p>\n<p>So If you want it to be (1,2,3,4) so you can use this query :</p>\n<pre><code>ALTER SEQUENCE seq RESTART WITH 1;\nUPDATE t SET idcolumn=nextval('seq');\n</code></pre>\n<p>source: <a href=\"https://stackoverflow.com/questions/4678110/how-to-reset-sequence-in-postgres-and-fill-id-column-with-new-data\">How to reset sequence in postgres and fill id column with new data?</a></p>\n<p>You can create a service that executes this query inside deleting books service, so after deleting books you will call this service to rearange ids</p>\n<pre><code>public void UpdateIds() {\n// make a connection with your database and send query above to update ids\n} \n</code></pre>\n<p>and in your service where you delete books, I suppose you have a service looks like that</p>\n<pre><code>public void deleteBooks(//some books ids to be deleted\n){\n\n//some code for deleting books by ids\n\n// call the method above to update ids again \nUpdateIds()\n    \n}\n</code></pre>\n"}],"owner":{"account_id":25709423,"reputation":11,"user_id":19468209,"display_name":"soulik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664979310,"creation_date":1664965402,"question_id":73959023,"body_markdown":"I am doing Library  db , sometimes I need to remove books and add a new one and I dont like how it starts missing lower ids and it just goes one . Because Serial  just increade everytime . Is there a way how to do that ? For example different type of column instead of SERIAL","title":"Java to postgresSQL. I am using SERIAL for my id column , can I make it replace missing value when I remove row and add a new one?","body":"<p>I am doing Library  db , sometimes I need to remove books and add a new one and I dont like how it starts missing lower ids and it just goes one . Because Serial  just increade everytime . Is there a way how to do that ? For example different type of column instead of SERIAL</p>\n"},{"tags":["java","jpa","h2","spring-boot-test"],"answers":[{"comments":[{"owner":{"account_id":23852555,"reputation":31,"user_id":17856333,"display_name":"Stephen Paulin"},"score":0,"creation_date":1661377980,"post_id":73478794,"comment_id":129761151,"body_markdown":"Updated original message with the entity for this.","body":"Updated original message with the entity for this."},{"owner":{"account_id":23852555,"reputation":31,"user_id":17856333,"display_name":"Stephen Paulin"},"score":0,"creation_date":1661378106,"post_id":73478794,"comment_id":129761169,"body_markdown":"Overall this entity doesn&#39;t control its ID.  Its hard code by the type predefined hence why the data.sql needs to be able to do the insert.  As the entity shows its just uses @Id to mark it but will not do any generation.","body":"Overall this entity doesn&#39;t control its ID.  Its hard code by the type predefined hence why the data.sql needs to be able to do the insert.  As the entity shows its just uses @Id to mark it but will not do any generation."}],"tags":[],"owner":{"account_id":26129349,"reputation":1,"user_id":19820293,"display_name":"Fatih Şeng&#252;l"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661370428,"creation_date":1661370428,"answer_id":73478794,"question_id":73478379,"body_markdown":"my friend,\r\n\r\nIt would be good if you can throw the Entity class. But I had a similar error before, I solved my problem in the Entity class.\r\nIf you are using @GeneratedValue, you should choose the right strategy. \r\nA reference: baeldung.com/hibernate-identifiers\r\n\r\nThis is the code that solved the problem for me.\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;ID&quot;)\r\n    private Long id;\r\n\r\nAlso a recommendation is to make all sql queries in the data.sql file","title":"Spring Boot Test schema.sql/data.sql contraint violation error","body":"<p>my friend,</p>\n<p>It would be good if you can throw the Entity class. But I had a similar error before, I solved my problem in the Entity class.\nIf you are using @GeneratedValue, you should choose the right strategy.\nA reference: baeldung.com/hibernate-identifiers</p>\n<p>This is the code that solved the problem for me.\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column(name = &quot;ID&quot;)\nprivate Long id;</p>\n<p>Also a recommendation is to make all sql queries in the data.sql file</p>\n"},{"comments":[{"owner":{"account_id":23852555,"reputation":31,"user_id":17856333,"display_name":"Stephen Paulin"},"score":0,"creation_date":1661421027,"post_id":73484757,"comment_id":129770446,"body_markdown":"Edited to put in the test and app-test.yml for you.","body":"Edited to put in the test and app-test.yml for you."}],"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661418169,"creation_date":1661418169,"answer_id":73484757,"question_id":73478379,"body_markdown":"It would helpful to show your test class as it would appear your data script is being executed twice\r\n","title":"Spring Boot Test schema.sql/data.sql contraint violation error","body":"<p>It would helpful to show your test class as it would appear your data script is being executed twice</p>\n"},{"tags":[],"owner":{"account_id":23852555,"reputation":31,"user_id":17856333,"display_name":"Stephen Paulin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661422288,"creation_date":1661422288,"answer_id":73485730,"question_id":73478379,"body_markdown":"As of this morning, it&#39;s now working and I have no idea why.  I&#39;ll list out what was done and maybe someone can clarify why it would have started to work 12 hours later.\r\n\r\nSince the data.sql was causing the duplicate key issue, I renamed it to data-disabled.yml. I then changed the test to using the @Sql( statement=&quot;&quot; ) to insert an item and the test used the GeneralTypesRepository to findByName(string) (the method I was trying to test).  This ran successfully by building the H2 DB (schema.sql), used the @Sql to insert 1 item (0, &quot;Text&quot;) and then checked the method could find the record for &quot;Text&quot;.  This passed.  Great.\r\n\r\nBuilt out a few more tests for other repositories (about 8 in total) using this method (@Sql on each test method).\r\n\r\nThis morning when I saw the request for more information, I created a new test file to copy redo my original test.  I renamed the data-disabled.sql back to data.sql.   Ran the test and it passed.  No exceptions and junit green.\r\n\r\nI went back to the other test I created last night, removed all the @Sql lines, ran the test and they all passed.\r\n\r\nNo other changes were done (confirmed with git).  I don&#39;t know why it started working.  This test is now working as I expected it to in the first place since the data.sql was the only place inserts were being done.\r\n\r\nThanks to the few who pushed for more information.  Sorry I didn&#39;t have it in the first place.  And sorry this doesn&#39;t give a definitive answer to the original issue but again I was pretty sure having a data.sql file would only run once and do the inserts with the schema creating the db with no inserts.  ","title":"Spring Boot Test schema.sql/data.sql contraint violation error","body":"<p>As of this morning, it's now working and I have no idea why.  I'll list out what was done and maybe someone can clarify why it would have started to work 12 hours later.</p>\n<p>Since the data.sql was causing the duplicate key issue, I renamed it to data-disabled.yml. I then changed the test to using the @Sql( statement=&quot;&quot; ) to insert an item and the test used the GeneralTypesRepository to findByName(string) (the method I was trying to test).  This ran successfully by building the H2 DB (schema.sql), used the @Sql to insert 1 item (0, &quot;Text&quot;) and then checked the method could find the record for &quot;Text&quot;.  This passed.  Great.</p>\n<p>Built out a few more tests for other repositories (about 8 in total) using this method (@Sql on each test method).</p>\n<p>This morning when I saw the request for more information, I created a new test file to copy redo my original test.  I renamed the data-disabled.sql back to data.sql.   Ran the test and it passed.  No exceptions and junit green.</p>\n<p>I went back to the other test I created last night, removed all the @Sql lines, ran the test and they all passed.</p>\n<p>No other changes were done (confirmed with git).  I don't know why it started working.  This test is now working as I expected it to in the first place since the data.sql was the only place inserts were being done.</p>\n<p>Thanks to the few who pushed for more information.  Sorry I didn't have it in the first place.  And sorry this doesn't give a definitive answer to the original issue but again I was pretty sure having a data.sql file would only run once and do the inserts with the schema creating the db with no inserts.</p>\n"},{"tags":[],"owner":{"account_id":23852555,"reputation":31,"user_id":17856333,"display_name":"Stephen Paulin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664979252,"creation_date":1664979252,"answer_id":73961718,"question_id":73478379,"body_markdown":"Today I had a similar case of this failing and was able to figure out what caused it.  Putting this here to help others in the future.\r\n\r\nBasically I working tests and then after adding a @PostContruct my one DB test started failing.  The PostContruct method did a db call to get the most recent record as a cache. \r\n\r\nThe issue here is that @PostContruct will be called during Spring App Context is starting up.  This cause the DB call to occur before the Spring Test gets a chance to use the test resource file to initialize the DB.   Changed to build the cache on first use instead and the problem is now gone.   Another option could have been to change to the @EventListener(ApplicationReadyEvent.class) to have it start after the app context if fully loaded.","title":"Spring Boot Test schema.sql/data.sql contraint violation error","body":"<p>Today I had a similar case of this failing and was able to figure out what caused it.  Putting this here to help others in the future.</p>\n<p>Basically I working tests and then after adding a @PostContruct my one DB test started failing.  The PostContruct method did a db call to get the most recent record as a cache.</p>\n<p>The issue here is that @PostContruct will be called during Spring App Context is starting up.  This cause the DB call to occur before the Spring Test gets a chance to use the test resource file to initialize the DB.   Changed to build the cache on first use instead and the problem is now gone.   Another option could have been to change to the @EventListener(ApplicationReadyEvent.class) to have it start after the app context if fully loaded.</p>\n"}],"owner":{"account_id":23852555,"reputation":31,"user_id":17856333,"display_name":"Stephen Paulin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1664979252,"creation_date":1661367620,"question_id":73478379,"body_markdown":"I have the following sql in a schema-h2.sql in my src/test/resources\r\n\r\n```\r\nCREATE TABLE IF NOT EXISTS project.general_types(\r\n  id SMALLINT PRIMARY KEY NOT NULL,\r\n  name VARCHAR(15) NOT NULL);\r\n```\r\n\r\nMy data.sql has the following\r\n\r\n```\r\nINSERT INTO project.general_types(id, name) VALUES \r\n   (0, &#39;Text&#39;),\r\n   (1, &#39;Binary&#39;);\r\n```\r\n\r\napplication-test.yml\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    url: jdbc:h2:mem:testdb;MODE=PostgreSQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;DATABASE_TO_UPPER=false;\r\n    username: sa\r\n    password: \r\n    driver-class-name: org.h2.Driver\r\n    initialization-mode: always\r\n    platform: h2    \r\n  jpa:\r\n    generate-ddl: false\r\n    defer-datasource-initialization: true\r\n    show-sql: true\r\n    open-in-view: false\r\n    hibernate:\r\n      ddl-auto: none\r\n    properties:\r\n      hibernate:\r\n        format_sql: true\r\n        default_schema: project\r\n        dialect: org.hibernate.dialect.H2Dialect  \r\n        globally_quoted_identifiers: true\r\n```\r\n\r\nThe entity that maps this.\r\n```\r\n@Entity(name = &quot;general_types&quot;)\r\npublic class GeneralTypesEntity {\r\n\r\n  @Id\r\n  private short id;\r\n  @Basic\r\n  private String name;\r\n\r\n//getters/setters nor shown...\r\n}\r\n```\r\n\r\nTest case\r\n\r\n```\r\n@SpringBootTest\r\n@ActiveProfiles(&quot;test&quot;)\r\nclass GeneralTypesDbTest {\r\n\r\n  @Autowired\r\n  private final GeneralTypesRepository generalTypesRepository = null;\r\n\r\n  @Test\r\n  void test() {\r\n\r\n    assertNotNull(generalTypesRepository);\r\n    assertEquals(2, generalTypesRepository.count());\r\n  }\r\n\r\n}\r\n```\r\n\r\nWith PostgreSQL in production this works (prebuilt db and all the repos, entities, etc...).  I&#39;m now trying to setup a Spring Boot test with h2.   If I run with just the schema.sql it builds fine and runs the test.\r\n\r\nAdding the data.sql with the insert statement to create the default data set, Spring errors with the execution\r\n\r\n```\r\nCaused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: &quot;PRIMARY KEY ON project.general_types(id) [0, &#39;Text&#39;]&quot;; SQL statement:\r\nINSERT INTO project.general_types(id, name) VALUES (0, &#39;Text&#39;), (1, &#39;Binary&#39;) [23505-200]\r\n   at org.h2.message.DbException.getJdbcSQLException(DbException.java:459) ~[h2-1.4.200.jar:1.4.200]\r\n   at org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[h2-1.4.200.jar:1.4.200]\r\n   at org.h2.message.DbException.get(DbException.java:205) ~[h2-1.4.200.jar:1.4.200]\r\n   at org.h2.message.DbException.get(DbException.java:181) ~[h2-1.4.200.jar:1.4.200]\r\n   at org.h2.mvstore.db.MVPrimaryIndex.add(MVPrimaryIndex.java:127) ~[h2-1.4.200.jar:1.4.200]\r\n   at org.h2.mvstore.db.MVTable.addRow(MVTable.java:531) ~[h2-1.4.200.jar:1.4.200]\r\n   at org.h2.command.dml.Insert.insertRows(Insert.java:195) ~[h2-1.4.200.jar:1.4.200]\r\n   at org.h2.command.dml.Insert.update(Insert.java:151) ~[h2-1.4.200.jar:1.4.200]\r\n   at org.h2.command.CommandContainer.update(CommandContainer.java:198) ~[h2-1.4.200.jar:1.4.200]\r\n   at org.h2.command.Command.executeUpdate(Command.java:251) ~[h2-1.4.200.jar:1.4.200]\r\n   at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:228) ~[h2-1.4.200.jar:1.4.200]\r\n   at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:201) ~[h2-1.4.200.jar:1.4.200]\r\n   at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\r\n   at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n   at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261) ~[spring-jdbc-5.3.18.jar:5.3.18]\r\n   ... 96 common frames omitted\r\n```\r\n\r\nI tried putting the Insert into the schema-h2.sql right after table creation and get the same error. Any ideas how a constraint violation is being caused.  For a newly create table with no auto increment I&#39;m unclear why an insert would be causing a constraint violation.","title":"Spring Boot Test schema.sql/data.sql contraint violation error","body":"<p>I have the following sql in a schema-h2.sql in my src/test/resources</p>\n<pre><code>CREATE TABLE IF NOT EXISTS project.general_types(\n  id SMALLINT PRIMARY KEY NOT NULL,\n  name VARCHAR(15) NOT NULL);\n</code></pre>\n<p>My data.sql has the following</p>\n<pre><code>INSERT INTO project.general_types(id, name) VALUES \n   (0, 'Text'),\n   (1, 'Binary');\n</code></pre>\n<p>application-test.yml</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:h2:mem:testdb;MODE=PostgreSQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;DATABASE_TO_UPPER=false;\n    username: sa\n    password: \n    driver-class-name: org.h2.Driver\n    initialization-mode: always\n    platform: h2    \n  jpa:\n    generate-ddl: false\n    defer-datasource-initialization: true\n    show-sql: true\n    open-in-view: false\n    hibernate:\n      ddl-auto: none\n    properties:\n      hibernate:\n        format_sql: true\n        default_schema: project\n        dialect: org.hibernate.dialect.H2Dialect  \n        globally_quoted_identifiers: true\n</code></pre>\n<p>The entity that maps this.</p>\n<pre><code>@Entity(name = &quot;general_types&quot;)\npublic class GeneralTypesEntity {\n\n  @Id\n  private short id;\n  @Basic\n  private String name;\n\n//getters/setters nor shown...\n}\n</code></pre>\n<p>Test case</p>\n<pre><code>@SpringBootTest\n@ActiveProfiles(&quot;test&quot;)\nclass GeneralTypesDbTest {\n\n  @Autowired\n  private final GeneralTypesRepository generalTypesRepository = null;\n\n  @Test\n  void test() {\n\n    assertNotNull(generalTypesRepository);\n    assertEquals(2, generalTypesRepository.count());\n  }\n\n}\n</code></pre>\n<p>With PostgreSQL in production this works (prebuilt db and all the repos, entities, etc...).  I'm now trying to setup a Spring Boot test with h2.   If I run with just the schema.sql it builds fine and runs the test.</p>\n<p>Adding the data.sql with the insert statement to create the default data set, Spring errors with the execution</p>\n<pre><code>Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: &quot;PRIMARY KEY ON project.general_types(id) [0, 'Text']&quot;; SQL statement:\nINSERT INTO project.general_types(id, name) VALUES (0, 'Text'), (1, 'Binary') [23505-200]\n   at org.h2.message.DbException.getJdbcSQLException(DbException.java:459) ~[h2-1.4.200.jar:1.4.200]\n   at org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[h2-1.4.200.jar:1.4.200]\n   at org.h2.message.DbException.get(DbException.java:205) ~[h2-1.4.200.jar:1.4.200]\n   at org.h2.message.DbException.get(DbException.java:181) ~[h2-1.4.200.jar:1.4.200]\n   at org.h2.mvstore.db.MVPrimaryIndex.add(MVPrimaryIndex.java:127) ~[h2-1.4.200.jar:1.4.200]\n   at org.h2.mvstore.db.MVTable.addRow(MVTable.java:531) ~[h2-1.4.200.jar:1.4.200]\n   at org.h2.command.dml.Insert.insertRows(Insert.java:195) ~[h2-1.4.200.jar:1.4.200]\n   at org.h2.command.dml.Insert.update(Insert.java:151) ~[h2-1.4.200.jar:1.4.200]\n   at org.h2.command.CommandContainer.update(CommandContainer.java:198) ~[h2-1.4.200.jar:1.4.200]\n   at org.h2.command.Command.executeUpdate(Command.java:251) ~[h2-1.4.200.jar:1.4.200]\n   at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:228) ~[h2-1.4.200.jar:1.4.200]\n   at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:201) ~[h2-1.4.200.jar:1.4.200]\n   at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\n   at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\n   at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261) ~[spring-jdbc-5.3.18.jar:5.3.18]\n   ... 96 common frames omitted\n</code></pre>\n<p>I tried putting the Insert into the schema-h2.sql right after table creation and get the same error. Any ideas how a constraint violation is being caused.  For a newly create table with no auto increment I'm unclear why an insert would be causing a constraint violation.</p>\n"},{"tags":["java","javafx","build"],"answers":[{"tags":[],"owner":{"account_id":26536184,"reputation":1,"user_id":20167685,"display_name":"Kenshin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664979130,"creation_date":1664979130,"answer_id":73961697,"question_id":73404217,"body_markdown":"Go to your module-info.java and delete everything in there except the module declaration. Now run the build.fxbuild again. There should be a new error. Its a relative error so you can take it from there.","title":"build.fxbuild returns error: &quot;module not found: javafx.controls&quot;, &quot;error: module not found: javafx.fxml&quot; when trying to Generate ant build and run","body":"<p>Go to your module-info.java and delete everything in there except the module declaration. Now run the build.fxbuild again. There should be a new error. Its a relative error so you can take it from there.</p>\n"}],"owner":{"account_id":26098525,"reputation":1,"user_id":19794328,"display_name":"MCS Three"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664979130,"creation_date":1660830523,"question_id":73404217,"body_markdown":"I&#39;m on Linux Ubuntu 21.10\r\nMy program has been running on eclipse fine, but when I want to export and use the &quot;build.fxbuild&quot; file in my projects file, these Errors come up:\r\n\r\n    [javac] warning: [options] system modules path not set in conjunction with -source 16\r\n    [javac] /home/user/eclipse-workspace/project/build/build/src/module-info.java:2: error: module not found: javafx.controls\r\n    [javac] \trequires javafx.controls;\r\n    [javac] \t               ^\r\n    [javac] /home/user/eclipse-workspace/project/build/build/src/module-info.java:3: error: module not found: javafx.fxml\r\n    [javac] \trequires javafx.fxml;\r\n    [javac] \t               ^\r\n    [javac] 2 errors\r\n    [javac] 1 warning\r\n\r\nI have added the necessary VM options, the JavaFX SDK User Library to Module Path,\r\nFor some more info I&#39;m exporting to exe, and this is when generating with build.fxbuild, not when trying to run it, not using the terminal","title":"build.fxbuild returns error: &quot;module not found: javafx.controls&quot;, &quot;error: module not found: javafx.fxml&quot; when trying to Generate ant build and run","body":"<p>I'm on Linux Ubuntu 21.10\nMy program has been running on eclipse fine, but when I want to export and use the &quot;build.fxbuild&quot; file in my projects file, these Errors come up:</p>\n<pre><code>[javac] warning: [options] system modules path not set in conjunction with -source 16\n[javac] /home/user/eclipse-workspace/project/build/build/src/module-info.java:2: error: module not found: javafx.controls\n[javac]     requires javafx.controls;\n[javac]                    ^\n[javac] /home/user/eclipse-workspace/project/build/build/src/module-info.java:3: error: module not found: javafx.fxml\n[javac]     requires javafx.fxml;\n[javac]                    ^\n[javac] 2 errors\n[javac] 1 warning\n</code></pre>\n<p>I have added the necessary VM options, the JavaFX SDK User Library to Module Path,\nFor some more info I'm exporting to exe, and this is when generating with build.fxbuild, not when trying to run it, not using the terminal</p>\n"},{"tags":["java","android","xml","android-fragments","findviewbyid"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1665030525,"post_id":73961459,"comment_id":130604791,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"comments":[{"owner":{"account_id":23239455,"reputation":41,"user_id":17329020,"display_name":"SALMAN"},"score":0,"creation_date":1664984962,"post_id":73961646,"comment_id":130594821,"body_markdown":"**tvName.setText(activity.sameFields);\n        activity.someMethods();** I am unable to do that","body":"<b>tvName.setText(activity.sameFields);         activity.someMethods();</b> I am unable to do that"},{"owner":{"account_id":23239455,"reputation":41,"user_id":17329020,"display_name":"SALMAN"},"score":0,"creation_date":1664985872,"post_id":73961646,"comment_id":130595107,"body_markdown":"How can I communicate with MainActivity.java file.","body":"How can I communicate with MainActivity.java file."},{"owner":{"account_id":14535125,"reputation":602,"user_id":10498741,"display_name":"logancodemaker"},"score":0,"creation_date":1664989564,"post_id":73961646,"comment_id":130596316,"body_markdown":"What are you referring to when you talk about communicating with MainActivity?","body":"What are you referring to when you talk about communicating with MainActivity?"},{"owner":{"account_id":14535125,"reputation":602,"user_id":10498741,"display_name":"logancodemaker"},"score":0,"creation_date":1664989606,"post_id":73961646,"comment_id":130596333,"body_markdown":"You are unable to do what ?","body":"You are unable to do what ?"}],"tags":[],"owner":{"account_id":14535125,"reputation":602,"user_id":10498741,"display_name":"logancodemaker"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664978898,"creation_date":1664978898,"answer_id":73961646,"question_id":73961459,"body_markdown":"Normally you should never have to do that. If you want to communicate with the host activity you can use the `onAttach` method from the fragment or simply `requireActivity()`. Look at the example below\r\n\r\n\r\n```\r\npublic class MyFragment extends Fragment {\r\n\r\n\t@Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n\r\n    \tView view = inflater.inflate(R.layout.fragment_layout, container, false);\r\n\r\n    \treturn view;\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\t\t\r\n\t\tTextView tvName = view.findViewById(R.id.tvName);\r\n\t    TextView tvTel = view.findViewById(R.id.tvTel);\r\n\r\n\t    TextView etName = view.findViewById(R.id.etName);\r\n\t    TextView etTel = view.findViewById(R.id.etTel);\r\n\r\n\t    MainActivity activity = (MainActivity) requireActivity();\r\n\t    \r\n\r\n\t \ttvName.setText(activity.sameFields);\r\n\t \tactivity.someMethods();\r\n    }\r\n\r\n    @Override\r\n    public void onAttach(@NonNull Context context) {\r\n        super.onAttach(context);\r\n        if ((context instanceof MainActivity)) {\r\n            MainActivity activity = (MainActivity) context;\r\n            activity.someMethods();\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"How to access Id&#39;s of Fragment element (like: TextView, EditText etc ) in the MainActivity","body":"<p>Normally you should never have to do that. If you want to communicate with the host activity you can use the <code>onAttach</code> method from the fragment or simply <code>requireActivity()</code>. Look at the example below</p>\n<pre><code>public class MyFragment extends Fragment {\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n\n        View view = inflater.inflate(R.layout.fragment_layout, container, false);\n\n        return view;\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        \n        TextView tvName = view.findViewById(R.id.tvName);\n        TextView tvTel = view.findViewById(R.id.tvTel);\n\n        TextView etName = view.findViewById(R.id.etName);\n        TextView etTel = view.findViewById(R.id.etTel);\n\n        MainActivity activity = (MainActivity) requireActivity();\n        \n\n        tvName.setText(activity.sameFields);\n        activity.someMethods();\n    }\n\n    @Override\n    public void onAttach(@NonNull Context context) {\n        super.onAttach(context);\n        if ((context instanceof MainActivity)) {\n            MainActivity activity = (MainActivity) context;\n            activity.someMethods();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23239455,"reputation":41,"user_id":17329020,"display_name":"SALMAN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664978898,"creation_date":1664978097,"question_id":73961459,"body_markdown":"Here is the Fragment.xml file. I created some elements (like TextView and ImageView). I assigned IDs to those elements. \r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/ivContact&quot;\r\n        android:layout_width=&quot;70dp&quot;\r\n        android:layout_height=&quot;70dp&quot;\r\n        android:layout_gravity=&quot;center_horizontal&quot;\r\n        android:src=&quot;@drawable/contact&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tvName&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center_horizontal&quot;\r\n        android:text=&quot;TextView&quot;\r\n        android:textSize=&quot;18sp&quot;\r\n        android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tvTel&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center_horizontal&quot;\r\n        android:text=&quot;TextView&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n-----------------------------------------------------------------------\r\nHere is the Fragment.java file. \r\n\r\n\r\n    TextView tvName,tvTel;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        return inflater.inflate(R.layout.fragment_detail, container, false);\r\n    }\r\n-----------------------------------------------------------------------\r\nHere is the MainActivity.java file. I want to access the IDs of Fragment.xml file. In the MainActivity.java file. But I&#39;m unable to access the IDs. It showing errer. I&#39;m stuck. I had try so many time. But not solved. I  think this is old version to access the IDs. But I don&#39;t know how can I access the IDs in new version.\r\n\r\nERROR:@layout/activity_main does not contain a declaration with id tvName.\r\n\r\n     TextView tvName,tvTel;\r\n     EditText etName,etTel;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        tvName = findViewById(R.id.tvName);\r\n        tvTel = findViewById(R.id.tvTel);\r\n\r\n        etName = findViewById(R.id.etName);\r\n        etTel = findViewById(R.id.etTel);\r\n    }\r\n\r\n-----------------------------------------------------------------------\r\nPlease help me, How can I access the IDs. \r\n-----------------------------------------------------------------------\r\n","title":"How to access Id&#39;s of Fragment element (like: TextView, EditText etc ) in the MainActivity","body":"<p>Here is the Fragment.xml file. I created some elements (like TextView and ImageView). I assigned IDs to those elements.</p>\n<pre><code>&lt;ImageView\n    android:id=&quot;@+id/ivContact&quot;\n    android:layout_width=&quot;70dp&quot;\n    android:layout_height=&quot;70dp&quot;\n    android:layout_gravity=&quot;center_horizontal&quot;\n    android:src=&quot;@drawable/contact&quot; /&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/tvName&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:gravity=&quot;center_horizontal&quot;\n    android:text=&quot;TextView&quot;\n    android:textSize=&quot;18sp&quot;\n    android:textStyle=&quot;bold&quot; /&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/tvTel&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:gravity=&quot;center_horizontal&quot;\n    android:text=&quot;TextView&quot; /&gt;\n</code></pre>\n\n-----------------------------------------------------------------------\nHere is the Fragment.java file. \n<pre><code>TextView tvName,tvTel;\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    return inflater.inflate(R.layout.fragment_detail, container, false);\n}\n</code></pre>\n<hr />\n<p>Here is the MainActivity.java file. I want to access the IDs of Fragment.xml file. In the MainActivity.java file. But I'm unable to access the IDs. It showing errer. I'm stuck. I had try so many time. But not solved. I  think this is old version to access the IDs. But I don't know how can I access the IDs in new version.</p>\n<p>ERROR:@layout/activity_main does not contain a declaration with id tvName.</p>\n<pre><code> TextView tvName,tvTel;\n EditText etName,etTel;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    tvName = findViewById(R.id.tvName);\n    tvTel = findViewById(R.id.tvTel);\n\n    etName = findViewById(R.id.etName);\n    etTel = findViewById(R.id.etTel);\n}\n</code></pre>\n<hr />\n<h2>Please help me, How can I access the IDs.</h2>\n"},{"tags":["java","android-studio"],"answers":[{"tags":[],"owner":{"account_id":23128584,"reputation":85,"user_id":17234028,"display_name":"Daniel Hern&#225;ndez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664978809,"creation_date":1664978809,"answer_id":73961621,"question_id":73949220,"body_markdown":"Solved upgrading gradle from 4.1.2 to 7.3.0","title":"Android studio Dolphin stuck in &quot;analyzing&quot;","body":"<p>Solved upgrading gradle from 4.1.2 to 7.3.0</p>\n"}],"owner":{"account_id":23128584,"reputation":85,"user_id":17234028,"display_name":"Daniel Hern&#225;ndez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1664978809,"creation_date":1664892557,"question_id":73949220,"body_markdown":"I have to invalidate caches every 5 minutes because of this, I just have the mandatory plugins and they are updated.\r\n\r\nMost of the answers I have encounter mention the kotlin plugin but mine its updated as well and Im using java, not kotlin.\r\n","title":"Android studio Dolphin stuck in &quot;analyzing&quot;","body":"<p>I have to invalidate caches every 5 minutes because of this, I just have the mandatory plugins and they are updated.</p>\n<p>Most of the answers I have encounter mention the kotlin plugin but mine its updated as well and Im using java, not kotlin.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","blob"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664905001,"creation_date":1664905001,"answer_id":73951644,"question_id":73937950,"body_markdown":"Whatever method calls your `DocumentWrapperConverter#convertToEntityAttribute` probably also loads the data from the database. It should be fine to annotate this caller method with `@Transactional` to keep the `Connection` through the transaction alive. Note though, that you have to keep the connection open until you close the input stream, so you should probably push the bytes of the input stream to some sink within the transaction. Not sure if your `MockMultipartFile` consumes the input stream and stores the data into a `byte[]` or a temporary file, but that&#39;s what you will probably have to do for this to work.","title":"Obtain InputStream from Blob by calling getBinaryStream","body":"<p>Whatever method calls your <code>DocumentWrapperConverter#convertToEntityAttribute</code> probably also loads the data from the database. It should be fine to annotate this caller method with <code>@Transactional</code> to keep the <code>Connection</code> through the transaction alive. Note though, that you have to keep the connection open until you close the input stream, so you should probably push the bytes of the input stream to some sink within the transaction. Not sure if your <code>MockMultipartFile</code> consumes the input stream and stores the data into a <code>byte[]</code> or a temporary file, but that's what you will probably have to do for this to work.</p>\n"},{"tags":[],"owner":{"account_id":10491189,"reputation":153,"user_id":7733017,"display_name":"Aleix Marin&#233;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664978006,"creation_date":1664978006,"answer_id":73961437,"question_id":73937950,"body_markdown":"Okay, so finally I have found the error by myself. Thanks for the help @Christian Beikov, you were actually hinting in the correct direction. Other Stack Overflow solutions did not work for me, but at least they gave me some idea of what is going on. Check [this][1] and [this][2].\r\n\r\nThe problem is due to Hibernate and the implementation of BLOB types. The buffer inside the BLOB can only be read once. If we try to read it again (by using `bob.getBinaryStream()`), a database connection and session is needed to reload it. \r\n\r\nSo the first thing that you need to do if you have this error is check that your `Datasource` object and your database configuration is properly working and that your methods are correctly delimited by transactional boundaries by using the `@Transactional` annotation.\r\n\r\nIf that does not work for you and you still have problems regarding the database connection / session you can explicitly configure a `SessionFactory` in order to *explicitly* manage the session. To do so:\r\n\r\n 1. Define a bean that provides a `SessionFactory`\r\n\r\n```\r\n\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\nimport org.hibernate.cfg.Configuration;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\nimport java.util.Properties;\r\n\r\n@org.springframework.context.annotation.Configuration\r\npublic class HibernateUtil {\r\n\r\n    private static SessionFactory sessionFactory;\r\n\r\n    private static HibernateUtil hibernateUtil;\r\n\r\n    // Singleton\r\n    @Autowired\r\n    public HibernateUtil(Properties hibernateProperties)\r\n    {\r\n\r\n        try {\r\n            Configuration configuration = new Configuration().setProperties(hibernateProperties);\r\n            Properties properties = configuration.getProperties();\r\n            StandardServiceRegistryBuilder builder = new StandardServiceRegistryBuilder().applySettings(properties);\r\n            sessionFactory = configuration.buildSessionFactory(builder.build());\r\n            HibernateUtil.hibernateUtil = this;  // singleton\r\n        } catch (Throwable ex) {\r\n            // Make sure you log the exception, as it might be swallowed\r\n            System.err.println(&quot;Initial SessionFactory creation failed: &quot; + ex);\r\n            throw new ExceptionInInitializerError(ex);\r\n        }\r\n    }\r\n\r\n    public static HibernateUtil getInstance() {\r\n        if (HibernateUtil.hibernateUtil == null)\r\n        {\r\n            // Init\r\n            Logger.getGlobal().info(&quot;HIBERNATE UTIL INSTANCE HAS NOT BEEN INITIALIZED BY SPRING&quot;);\r\n        }\r\n        return HibernateUtil.hibernateUtil;\r\n    }\r\n\r\n    public static SessionFactory getSessionFactory()\r\n    {\r\n        return HibernateUtil.sessionFactory;\r\n    }\r\n\r\n    public void shutdown() {\r\n        // Close caches and connection pools\r\n        getSessionFactory().close();\r\n    }\r\n\r\n```\r\n\r\nThis class uses a singleton pattern, so everyone that request the `HibernateUtil` bean will have the same instance. The first initialization of this class is triggered by Spring Boot, so we can just use it from a global context by typing `HibernateUtil.getSessionFactory()` and receiving the same factory. \r\n\r\n   2. You can use that `SessionFactory` to delimit the boundaries of your transaction manually like this. I created a `LobService` class to wrap the logic to read and create BLOBs:\r\n\r\n```\r\n@Service\r\npublic class LobServiceImpl implements LobService {\r\n\r\n    @Transactional\r\n    @Override\r\n    public Blob createBlob(InputStream content, long size) {\r\n        Session session = HibernateUtil.getSessionFactory().getCurrentSession();\r\n        session.beginTransaction();\r\n\r\n        Blob blob = session.getLobHelper().createBlob(content, size);\r\n\r\n        session.getTransaction().commit();\r\n        session.close();\r\n        return blob;\r\n    }\r\n\r\n    @Transactional\r\n    @Override\r\n    public InputStream readBlob(Blob blob) {\r\n        Session session = HibernateUtil.getSessionFactory().getCurrentSession();\r\n        session.beginTransaction();\r\n\r\n        InputStream is = null;\r\n        try {\r\n            is = blob.getBinaryStream();\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        session.getTransaction().commit();\r\n        session.close();\r\n\r\n        return is;\r\n    }\r\n}\r\n```\r\n\r\n\r\n   3. If that does not work for you, in my project even if there was a database connection and session another error showed up in the same place as before: `SQLException: could not reset reader`.  What you need to do is reload the database instance that contains the BLOB the second time that you try to access to it. So, you do an extra (useless) query, but in this case requerying for the same instance reloads the underlying `BinaryStream` and avoids that Exception. For example, in one of the methods of my service I receive `DocumentWrapper`, transform it to `Document`, forward call to `DocumentService`, and transform its return to a `DocumentWrapper` and returns it to the upper level of controllers):\r\n\r\n```\r\n    @Override\r\n    public &lt;S1 extends DocumentWrapper&gt; S1 save(S1 entity) {\r\n        Document document = this.documentWrapperConverter.convertToDatabaseColumn(entity);\r\n\r\n        // Internally the BLOB is consumed, so if we use the same instance to return an exception will be thrown\r\n        // java.sql.SQLException: could not reset reader\r\n        Document documentDatabase = this.documentService.save(document);\r\n\r\n        // This seems silly, but is necessary to update the Blob and its InputStream\r\n        Optional&lt;Document&gt; documentDatabaseOptional = this.documentService.findById((UUID) documentDatabase.getId());\r\n\r\n        return documentDatabaseOptional.map(value -&gt; (S1) this.documentWrapperConverter.convertToEntityAttribute(value)).orElse(null);\r\n    }\r\n```\r\n\r\nPlease, notice that this line\r\n\r\n```\r\n        // This seems silly, but is necessary to update the Blob and its InputStream\r\n        Optional&lt;Document&gt; documentDatabaseOptional = this.documentService.findById((UUID) documentDatabase.getId());\r\n```\r\n\r\nFetches the same entity from the DB, but now the `BinaryStream` is reloaded and can be read again. \r\n\r\nSo, **TL;DR** reload the managed instance from the database if you already exhausted its BinaryStream buffer.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7634638/hibernate-throws-sqlexception-could-not-reset-reader\r\n  [2]: https://stackoverflow.com/questions/23222632/java-lang-unsupportedoperationexception-the-application-must-supply-jdbc-connec","title":"Obtain InputStream from Blob by calling getBinaryStream","body":"<p>Okay, so finally I have found the error by myself. Thanks for the help @Christian Beikov, you were actually hinting in the correct direction. Other Stack Overflow solutions did not work for me, but at least they gave me some idea of what is going on. Check <a href=\"https://stackoverflow.com/questions/7634638/hibernate-throws-sqlexception-could-not-reset-reader\">this</a> and <a href=\"https://stackoverflow.com/questions/23222632/java-lang-unsupportedoperationexception-the-application-must-supply-jdbc-connec\">this</a>.</p>\n<p>The problem is due to Hibernate and the implementation of BLOB types. The buffer inside the BLOB can only be read once. If we try to read it again (by using <code>bob.getBinaryStream()</code>), a database connection and session is needed to reload it.</p>\n<p>So the first thing that you need to do if you have this error is check that your <code>Datasource</code> object and your database configuration is properly working and that your methods are correctly delimited by transactional boundaries by using the <code>@Transactional</code> annotation.</p>\n<p>If that does not work for you and you still have problems regarding the database connection / session you can explicitly configure a <code>SessionFactory</code> in order to <em>explicitly</em> manage the session. To do so:</p>\n<ol>\n<li>Define a bean that provides a <code>SessionFactory</code></li>\n</ol>\n<pre><code>\nimport org.hibernate.SessionFactory;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport org.hibernate.cfg.Configuration;\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport java.util.Properties;\n\n@org.springframework.context.annotation.Configuration\npublic class HibernateUtil {\n\n    private static SessionFactory sessionFactory;\n\n    private static HibernateUtil hibernateUtil;\n\n    // Singleton\n    @Autowired\n    public HibernateUtil(Properties hibernateProperties)\n    {\n\n        try {\n            Configuration configuration = new Configuration().setProperties(hibernateProperties);\n            Properties properties = configuration.getProperties();\n            StandardServiceRegistryBuilder builder = new StandardServiceRegistryBuilder().applySettings(properties);\n            sessionFactory = configuration.buildSessionFactory(builder.build());\n            HibernateUtil.hibernateUtil = this;  // singleton\n        } catch (Throwable ex) {\n            // Make sure you log the exception, as it might be swallowed\n            System.err.println(&quot;Initial SessionFactory creation failed: &quot; + ex);\n            throw new ExceptionInInitializerError(ex);\n        }\n    }\n\n    public static HibernateUtil getInstance() {\n        if (HibernateUtil.hibernateUtil == null)\n        {\n            // Init\n            Logger.getGlobal().info(&quot;HIBERNATE UTIL INSTANCE HAS NOT BEEN INITIALIZED BY SPRING&quot;);\n        }\n        return HibernateUtil.hibernateUtil;\n    }\n\n    public static SessionFactory getSessionFactory()\n    {\n        return HibernateUtil.sessionFactory;\n    }\n\n    public void shutdown() {\n        // Close caches and connection pools\n        getSessionFactory().close();\n    }\n\n</code></pre>\n<p>This class uses a singleton pattern, so everyone that request the <code>HibernateUtil</code> bean will have the same instance. The first initialization of this class is triggered by Spring Boot, so we can just use it from a global context by typing <code>HibernateUtil.getSessionFactory()</code> and receiving the same factory.</p>\n<ol start=\"2\">\n<li>You can use that <code>SessionFactory</code> to delimit the boundaries of your transaction manually like this. I created a <code>LobService</code> class to wrap the logic to read and create BLOBs:</li>\n</ol>\n<pre><code>@Service\npublic class LobServiceImpl implements LobService {\n\n    @Transactional\n    @Override\n    public Blob createBlob(InputStream content, long size) {\n        Session session = HibernateUtil.getSessionFactory().getCurrentSession();\n        session.beginTransaction();\n\n        Blob blob = session.getLobHelper().createBlob(content, size);\n\n        session.getTransaction().commit();\n        session.close();\n        return blob;\n    }\n\n    @Transactional\n    @Override\n    public InputStream readBlob(Blob blob) {\n        Session session = HibernateUtil.getSessionFactory().getCurrentSession();\n        session.beginTransaction();\n\n        InputStream is = null;\n        try {\n            is = blob.getBinaryStream();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n\n        session.getTransaction().commit();\n        session.close();\n\n        return is;\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>If that does not work for you, in my project even if there was a database connection and session another error showed up in the same place as before: <code>SQLException: could not reset reader</code>.  What you need to do is reload the database instance that contains the BLOB the second time that you try to access to it. So, you do an extra (useless) query, but in this case requerying for the same instance reloads the underlying <code>BinaryStream</code> and avoids that Exception. For example, in one of the methods of my service I receive <code>DocumentWrapper</code>, transform it to <code>Document</code>, forward call to <code>DocumentService</code>, and transform its return to a <code>DocumentWrapper</code> and returns it to the upper level of controllers):</li>\n</ol>\n<pre><code>    @Override\n    public &lt;S1 extends DocumentWrapper&gt; S1 save(S1 entity) {\n        Document document = this.documentWrapperConverter.convertToDatabaseColumn(entity);\n\n        // Internally the BLOB is consumed, so if we use the same instance to return an exception will be thrown\n        // java.sql.SQLException: could not reset reader\n        Document documentDatabase = this.documentService.save(document);\n\n        // This seems silly, but is necessary to update the Blob and its InputStream\n        Optional&lt;Document&gt; documentDatabaseOptional = this.documentService.findById((UUID) documentDatabase.getId());\n\n        return documentDatabaseOptional.map(value -&gt; (S1) this.documentWrapperConverter.convertToEntityAttribute(value)).orElse(null);\n    }\n</code></pre>\n<p>Please, notice that this line</p>\n<pre><code>        // This seems silly, but is necessary to update the Blob and its InputStream\n        Optional&lt;Document&gt; documentDatabaseOptional = this.documentService.findById((UUID) documentDatabase.getId());\n</code></pre>\n<p>Fetches the same entity from the DB, but now the <code>BinaryStream</code> is reloaded and can be read again.</p>\n<p>So, <strong>TL;DR</strong> reload the managed instance from the database if you already exhausted its BinaryStream buffer.</p>\n"}],"owner":{"account_id":10491189,"reputation":153,"user_id":7733017,"display_name":"Aleix Marin&#233;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":822,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73951644,"answer_count":2,"score":0,"last_activity_date":1664978006,"creation_date":1664812773,"question_id":73937950,"body_markdown":"I have a Spring Boot CRUD application that has the `Document` class, which is a DB entity with a `Blob` field. I also have the `DocumentWrapper` class, which is a class that is used for the transmission of the document and has a `MultiPartFile` field.\r\n\r\nSo, `Document` is the entity that I am storing in the DB, and has a dedicated JPA repository, while `DocumentWrapper` is the &quot;helper&quot; entity that the controller accepts and returns.\r\n\r\nSo in my service layer, I perform a transformation between `DocumentWrapper` and `Document` types as follow, in order to use the `DocumentRepository` and using this class as Bean to perform the conversion:\r\n\r\n```\r\n@Configuration\r\npublic class DocumentWrapperConverter implements AttributeConverter&lt;DocumentWrapper, Document&gt;, Serializable {\r\n\r\n    @Autowired\r\n    private LobService lobService;\r\n\r\n    @Override\r\n    public DocumentWrapper convertToEntityAttribute(Document document) {\r\n\r\n        DocumentWrapper documentWrapper = new DocumentWrapper();\r\n\r\n        documentWrapper.setName(document.getName());\r\n        documentWrapper.setDescription(document.getDescription());\r\n        documentWrapper.setId(document.getId());\r\n\r\n\r\n        MultipartFile multipartFile = null;\r\n        try {\r\n            InputStream is = this.lobService.readBlob(document.getBlob());\r\n\r\n            multipartFile = new MockMultipartFile(document.getName(), document.getOriginalFilename(), document.getContentType().toString(), is);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        documentWrapper.setFile(multipartFile);\r\n\r\n        return documentWrapper;\r\n    }\r\n\r\n    @Override\r\n    public Document convertToDatabaseColumn(DocumentWrapper documentWrapper) {\r\n        Document document = new Document();\r\n\r\n        document.setName(documentWrapper.getName());\r\n        document.setDescription(documentWrapper.getDescription());\r\n        document.setId(documentWrapper.getId());\r\n        document.setContentType(documentWrapper.getContentType());\r\n        document.setFileSize(documentWrapper.getSize());\r\n        document.setOriginalFilename(documentWrapper.getOriginalFilename());\r\n\r\n\r\n        Blob blob = null;\r\n        try {\r\n            blob = this.lobService.createBlob(documentWrapper.getFile().getInputStream(), documentWrapper.getFile().getSize());\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        document.setBlob(blob);\r\n\r\n\r\n        return document;\r\n    }\r\n}\r\n``` \r\n\r\nI encapsulated the logic to transform a `Blob` to an `InputStream` in the `LobService` and its implementor `LobServiceImpl`:\r\n\r\n```\r\n@Service\r\npublic class LobServiceImpl implements LobService {\r\n\r\n    @Autowired\r\n    private SessionFactory sessionFactory;\r\n\r\n    @Autowired\r\n    private DataSource dataSource;\r\n\r\n    @Transactional\r\n    @Override\r\n    public Blob createBlob(InputStream content, long size) {\r\n        return this.sessionFactory.getCurrentSession().getLobHelper().createBlob(content, size);\r\n    }\r\n\r\n    @Transactional\r\n    @Override\r\n    public InputStream readBlob(Blob blob) {\r\n        Connection connection = null;\r\n        try {\r\n            connection = this.dataSource.getConnection();\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        InputStream is = null;\r\n        try {\r\n            is = blob.getBinaryStream();\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        try {\r\n            assert connection != null;\r\n            connection.close();\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return is;\r\n    }\r\n}\r\n```\r\nThis is my generic `JPARepository` interface:\r\n```\r\n@NoRepositoryBean\r\npublic interface GenericRepository&lt;T extends JPAEntityImpl, S extends Serializable&gt; extends JpaRepository&lt;T, S&gt; {}\r\n```\r\nWhich is extended in my `Document` class:\r\n\r\n```\r\n@Repository\r\n@Transactional\r\npublic interface DocumentRepository&lt;T extends JPAEntityImpl, S extends Serializable&gt; extends GenericRepository&lt;Document, UUID&gt; {\r\n}\r\n```\r\n\r\nAlso, the `Document` entity class:\r\n```\r\n@Entity\r\n@Table(uniqueConstraints = {\r\n        @UniqueConstraint(columnNames = &quot;id&quot;)\r\n})\r\n@JsonTypeInfo(\r\n        use = JsonTypeInfo.Id.NAME,\r\n        include = JsonTypeInfo.As.EXISTING_PROPERTY,\r\n        property = &quot;typeName&quot;,\r\n        defaultImpl = Document.class)\r\npublic class Document extends JPAEntityImpl{\r\n\r\n    @Id\r\n    @Convert(converter = UUIDConverter.class)\r\n    @GeneratedValue(generator = &quot;UUID&quot;)\r\n    @GenericGenerator(\r\n            name = &quot;UUID&quot;,\r\n            strategy = &quot;org.hibernate.id.UUIDGenerator&quot;\r\n    )\r\n    @Column(nullable = false, unique = true)\r\n    protected UUID id;\r\n\r\n    @Column(length = 1000, nullable = false)\r\n    protected String name;\r\n\r\n    @Column(length = 1000, nullable = false)\r\n    protected String description;\r\n\r\n    @Column(length = 1000, nullable = true)\r\n    protected String originalFilename;\r\n\r\n    @Column(length = 1000, nullable = false)\r\n    protected MediaType contentType;\r\n\r\n    @Column\r\n    protected long fileSize;\r\n\r\n    @Column\r\n    @Lob\r\n    protected Blob blob;\r\n\r\n    public Document() {}\r\n\r\n    // GETTERS, SETTERS, TOSTRING....\r\n```\r\nAnd the `DocumentWrapper` entity class:\r\n\r\n``` \r\n@JsonTypeInfo(\r\n        use = JsonTypeInfo.Id.NAME,\r\n        include = JsonTypeInfo.As.EXISTING_PROPERTY,\r\n        property = &quot;typeName&quot;,\r\n        defaultImpl = DocumentWrapper.class)\r\npublic class DocumentWrapper extends JPAEntityImpl {\r\n\r\n    private UUID id;\r\n\r\n    private String name;\r\n\r\n    private String description;\r\n\r\n    private MultipartFile file;\r\n\r\n    public DocumentWrapper() {}\r\n\r\n    // GETTERS, SETTERS, TOSTRING....\r\n\r\n\r\n```\r\n\r\nI am having problems in the method `public InputStream readBlob(Blob blob)`. The relevant part of the error log is the following: \r\n```\r\norg.postgresql.util.PSQLException: This connection has been closed.\r\n\tat org.postgresql.jdbc.PgConnection.checkClosed(PgConnection.java:883)\r\n\tat org.postgresql.jdbc.PgConnection.getLargeObjectAPI(PgConnection.java:594)\r\n\tat org.postgresql.jdbc.AbstractBlobClob.getLo(AbstractBlobClob.java:270)\r\n\tat org.postgresql.jdbc.AbstractBlobClob.getBinaryStream(AbstractBlobClob.java:117)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat org.hibernate.engine.jdbc.SerializableBlobProxy.invoke(SerializableBlobProxy.java:60)\r\n\tat com.sun.proxy.$Proxy157.getBinaryStream(Unknown Source)\r\n\tat org.ICIQ.eChempad.services.LobServiceImpl.readBlob(LobServiceImpl.java:42)\r\n...\r\n```\r\n\r\nThis line is the one which produces the Exception:\r\n\r\n```\r\n            is = blob.getBinaryStream();\r\n\r\n```\r\nSo, I would like to know how can I retrieve an `InputStream` for the `Blob` that I am receiving in the method `public InputStream readBlob(Blob blob)`, so I can make the transformation between `Document` and `DocumentWrapper`. &#191;How can I restore this connection that has been closed to retrieve the `InputStream` of the `Blob`? &#191;Are there any workarounds?\r\n\r\nLooking for answers on the Internet I saw many people performing this transformation using a `ResultSet`, but I am using a `JPARepository` interface to manipulate the records of `Document` in the database, not raw SQL queries; So I do not know how to proceed in that way.\r\n\r\nI already tried using `@Transactional` annotations in this method but it did not work. I also tried setting the `spring.jpa.properties.hibernate.current_session_context_class` property (application.properties) to the values `org.hibernate.context.ThreadLocalSessionContext`, `thread` and `org.hibernate.context.internal.ThreadLocalSessionContext` but none of them worked. \r\n\r\nI also tried to create a new connection, but it did not work.\r\n\r\nI tried opening and closing a `Session` before and after calling `blob.getBinaryStream();` but it did not work. \r\n\r\nIt seems to me that we need the same connection that was used to retrieve the Blob in the first place, but at some point Spring closes it and I do not know how to restore it or avoid that the connection is closed.\r\n\r\nI also know that working with `Byte[]` arrays in my `Document` class could simplify things, but I do need to work with `InputStream` since I work with large files and is not convenient that whole files are loaded in memory. \r\n\r\nIf you need any other information about my code please do not hesitate to ask. I will add any required extra information. \r\n\r\nAny tip, help or workaround is very welcome. Thank you.","title":"Obtain InputStream from Blob by calling getBinaryStream","body":"<p>I have a Spring Boot CRUD application that has the <code>Document</code> class, which is a DB entity with a <code>Blob</code> field. I also have the <code>DocumentWrapper</code> class, which is a class that is used for the transmission of the document and has a <code>MultiPartFile</code> field.</p>\n<p>So, <code>Document</code> is the entity that I am storing in the DB, and has a dedicated JPA repository, while <code>DocumentWrapper</code> is the &quot;helper&quot; entity that the controller accepts and returns.</p>\n<p>So in my service layer, I perform a transformation between <code>DocumentWrapper</code> and <code>Document</code> types as follow, in order to use the <code>DocumentRepository</code> and using this class as Bean to perform the conversion:</p>\n<pre><code>@Configuration\npublic class DocumentWrapperConverter implements AttributeConverter&lt;DocumentWrapper, Document&gt;, Serializable {\n\n    @Autowired\n    private LobService lobService;\n\n    @Override\n    public DocumentWrapper convertToEntityAttribute(Document document) {\n\n        DocumentWrapper documentWrapper = new DocumentWrapper();\n\n        documentWrapper.setName(document.getName());\n        documentWrapper.setDescription(document.getDescription());\n        documentWrapper.setId(document.getId());\n\n\n        MultipartFile multipartFile = null;\n        try {\n            InputStream is = this.lobService.readBlob(document.getBlob());\n\n            multipartFile = new MockMultipartFile(document.getName(), document.getOriginalFilename(), document.getContentType().toString(), is);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        documentWrapper.setFile(multipartFile);\n\n        return documentWrapper;\n    }\n\n    @Override\n    public Document convertToDatabaseColumn(DocumentWrapper documentWrapper) {\n        Document document = new Document();\n\n        document.setName(documentWrapper.getName());\n        document.setDescription(documentWrapper.getDescription());\n        document.setId(documentWrapper.getId());\n        document.setContentType(documentWrapper.getContentType());\n        document.setFileSize(documentWrapper.getSize());\n        document.setOriginalFilename(documentWrapper.getOriginalFilename());\n\n\n        Blob blob = null;\n        try {\n            blob = this.lobService.createBlob(documentWrapper.getFile().getInputStream(), documentWrapper.getFile().getSize());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        document.setBlob(blob);\n\n\n        return document;\n    }\n}\n</code></pre>\n<p>I encapsulated the logic to transform a <code>Blob</code> to an <code>InputStream</code> in the <code>LobService</code> and its implementor <code>LobServiceImpl</code>:</p>\n<pre><code>@Service\npublic class LobServiceImpl implements LobService {\n\n    @Autowired\n    private SessionFactory sessionFactory;\n\n    @Autowired\n    private DataSource dataSource;\n\n    @Transactional\n    @Override\n    public Blob createBlob(InputStream content, long size) {\n        return this.sessionFactory.getCurrentSession().getLobHelper().createBlob(content, size);\n    }\n\n    @Transactional\n    @Override\n    public InputStream readBlob(Blob blob) {\n        Connection connection = null;\n        try {\n            connection = this.dataSource.getConnection();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n\n        InputStream is = null;\n        try {\n            is = blob.getBinaryStream();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n\n        try {\n            assert connection != null;\n            connection.close();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n\n        return is;\n    }\n}\n</code></pre>\n<p>This is my generic <code>JPARepository</code> interface:</p>\n<pre><code>@NoRepositoryBean\npublic interface GenericRepository&lt;T extends JPAEntityImpl, S extends Serializable&gt; extends JpaRepository&lt;T, S&gt; {}\n</code></pre>\n<p>Which is extended in my <code>Document</code> class:</p>\n<pre><code>@Repository\n@Transactional\npublic interface DocumentRepository&lt;T extends JPAEntityImpl, S extends Serializable&gt; extends GenericRepository&lt;Document, UUID&gt; {\n}\n</code></pre>\n<p>Also, the <code>Document</code> entity class:</p>\n<pre><code>@Entity\n@Table(uniqueConstraints = {\n        @UniqueConstraint(columnNames = &quot;id&quot;)\n})\n@JsonTypeInfo(\n        use = JsonTypeInfo.Id.NAME,\n        include = JsonTypeInfo.As.EXISTING_PROPERTY,\n        property = &quot;typeName&quot;,\n        defaultImpl = Document.class)\npublic class Document extends JPAEntityImpl{\n\n    @Id\n    @Convert(converter = UUIDConverter.class)\n    @GeneratedValue(generator = &quot;UUID&quot;)\n    @GenericGenerator(\n            name = &quot;UUID&quot;,\n            strategy = &quot;org.hibernate.id.UUIDGenerator&quot;\n    )\n    @Column(nullable = false, unique = true)\n    protected UUID id;\n\n    @Column(length = 1000, nullable = false)\n    protected String name;\n\n    @Column(length = 1000, nullable = false)\n    protected String description;\n\n    @Column(length = 1000, nullable = true)\n    protected String originalFilename;\n\n    @Column(length = 1000, nullable = false)\n    protected MediaType contentType;\n\n    @Column\n    protected long fileSize;\n\n    @Column\n    @Lob\n    protected Blob blob;\n\n    public Document() {}\n\n    // GETTERS, SETTERS, TOSTRING....\n</code></pre>\n<p>And the <code>DocumentWrapper</code> entity class:</p>\n<pre><code>@JsonTypeInfo(\n        use = JsonTypeInfo.Id.NAME,\n        include = JsonTypeInfo.As.EXISTING_PROPERTY,\n        property = &quot;typeName&quot;,\n        defaultImpl = DocumentWrapper.class)\npublic class DocumentWrapper extends JPAEntityImpl {\n\n    private UUID id;\n\n    private String name;\n\n    private String description;\n\n    private MultipartFile file;\n\n    public DocumentWrapper() {}\n\n    // GETTERS, SETTERS, TOSTRING....\n\n\n</code></pre>\n<p>I am having problems in the method <code>public InputStream readBlob(Blob blob)</code>. The relevant part of the error log is the following:</p>\n<pre><code>org.postgresql.util.PSQLException: This connection has been closed.\n    at org.postgresql.jdbc.PgConnection.checkClosed(PgConnection.java:883)\n    at org.postgresql.jdbc.PgConnection.getLargeObjectAPI(PgConnection.java:594)\n    at org.postgresql.jdbc.AbstractBlobClob.getLo(AbstractBlobClob.java:270)\n    at org.postgresql.jdbc.AbstractBlobClob.getBinaryStream(AbstractBlobClob.java:117)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.hibernate.engine.jdbc.SerializableBlobProxy.invoke(SerializableBlobProxy.java:60)\n    at com.sun.proxy.$Proxy157.getBinaryStream(Unknown Source)\n    at org.ICIQ.eChempad.services.LobServiceImpl.readBlob(LobServiceImpl.java:42)\n...\n</code></pre>\n<p>This line is the one which produces the Exception:</p>\n<pre><code>            is = blob.getBinaryStream();\n\n</code></pre>\n<p>So, I would like to know how can I retrieve an <code>InputStream</code> for the <code>Blob</code> that I am receiving in the method <code>public InputStream readBlob(Blob blob)</code>, so I can make the transformation between <code>Document</code> and <code>DocumentWrapper</code>. ¿How can I restore this connection that has been closed to retrieve the <code>InputStream</code> of the <code>Blob</code>? ¿Are there any workarounds?</p>\n<p>Looking for answers on the Internet I saw many people performing this transformation using a <code>ResultSet</code>, but I am using a <code>JPARepository</code> interface to manipulate the records of <code>Document</code> in the database, not raw SQL queries; So I do not know how to proceed in that way.</p>\n<p>I already tried using <code>@Transactional</code> annotations in this method but it did not work. I also tried setting the <code>spring.jpa.properties.hibernate.current_session_context_class</code> property (application.properties) to the values <code>org.hibernate.context.ThreadLocalSessionContext</code>, <code>thread</code> and <code>org.hibernate.context.internal.ThreadLocalSessionContext</code> but none of them worked.</p>\n<p>I also tried to create a new connection, but it did not work.</p>\n<p>I tried opening and closing a <code>Session</code> before and after calling <code>blob.getBinaryStream();</code> but it did not work.</p>\n<p>It seems to me that we need the same connection that was used to retrieve the Blob in the first place, but at some point Spring closes it and I do not know how to restore it or avoid that the connection is closed.</p>\n<p>I also know that working with <code>Byte[]</code> arrays in my <code>Document</code> class could simplify things, but I do need to work with <code>InputStream</code> since I work with large files and is not convenient that whole files are loaded in memory.</p>\n<p>If you need any other information about my code please do not hesitate to ask. I will add any required extra information.</p>\n<p>Any tip, help or workaround is very welcome. Thank you.</p>\n"},{"tags":["java","android","network-programming","udp"],"comments":[{"owner":{"account_id":5415144,"reputation":4187,"user_id":4310487,"accept_rate":50,"display_name":"light"},"score":0,"creation_date":1434732095,"post_id":30943136,"comment_id":49921312,"body_markdown":"Do you mean you want to send a broadcast packet?","body":"Do you mean you want to send a broadcast packet?"},{"owner":{"account_id":154393,"reputation":108787,"user_id":370305,"accept_rate":71,"display_name":"user370305"},"score":0,"creation_date":1434733995,"post_id":30943136,"comment_id":49922243,"body_markdown":"Your application should be work like Server. not a Client. So its just like, you have to send data packet on your own IP and port, so whichever client will listen to your app on your device IP and Port will receive those packets.","body":"Your application should be work like Server. not a Client. So its just like, you have to send data packet on your own IP and port, so whichever client will listen to your app on your device IP and Port will receive those packets."},{"owner":{"account_id":3580814,"reputation":55,"user_id":2989079,"display_name":"PartialData"},"score":0,"creation_date":1434735543,"post_id":30943136,"comment_id":49923088,"body_markdown":"Yes @light this is as far as i can get with that  datagramSocket.setBroadcast(true); i need some more info on how to make that work. I was reading about multicast but unsure how to implement that or what the real differences are.","body":"Yes @light this is as far as i can get with that  datagramSocket.setBroadcast(true); i need some more info on how to make that work. I was reading about multicast but unsure how to implement that or what the real differences are."}],"answers":[{"comments":[{"owner":{"account_id":3580814,"reputation":55,"user_id":2989079,"display_name":"PartialData"},"score":0,"creation_date":1435257156,"post_id":31031319,"comment_id":50137262,"body_markdown":"Thank you for the detailed response.  That clarifies how java/droid does multicasting. The special listening address you mention is the missing link for me. What about security do you believe this would be blocked in most LAN?","body":"Thank you for the detailed response.  That clarifies how java/droid does multicasting. The special listening address you mention is the missing link for me. What about security do you believe this would be blocked in most LAN?"},{"owner":{"account_id":997107,"reputation":2041,"user_id":1012786,"display_name":"jaybers"},"score":0,"creation_date":1435270864,"post_id":31031319,"comment_id":50144056,"body_markdown":"It is possible but generally multicast is not blocked on unless you enable some special rule in your router.","body":"It is possible but generally multicast is not blocked on unless you enable some special rule in your router."}],"tags":[],"owner":{"account_id":997107,"reputation":2041,"user_id":1012786,"display_name":"jaybers"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1435161311,"creation_date":1435161311,"answer_id":31031319,"question_id":30943136,"body_markdown":"Broadcasting will send data to all devices on the LAN.  Multicasting will only send data only to those who subscribe to it.  From the limited information you gave, it sounds like multicasting would work.  If you broadcast, you will essentially be sending data to all devices on your lan like your smart tv, all laptops, etc.\r\n\r\nHere is a simple client server app using java multicast sockets.[http://examples.javacodegeeks.com/core-java/net/multicastsocket-net/java-net-multicastsocket-example/][1]\r\n\r\nWith multicasting, a device acts as a server and opens a special kind of udp socket for multicasting.  Clients subscribe to this server&#39;s multicast socket and essentially participate in data transmission.  \r\n\r\nHere are a couple tips for multicasting\r\n\r\n - Be sure the server uses a multicast address in your java code.  This is in the range of 224.0.0.0 - 239.255.255.255   Some addresses are reserved.  Sample code I sent uses 224.0.0.3.  You don&#39;t need to change the IP in the WIfi settings.  This is done in the java code.  It is like an extra address that it will listen on.   The clients will subscribe to this address.\r\n - For android, you will have to enable multicasting permission in the manifest file for the multicast lock.  See [http://developer.android.com/reference/android/net/wifi/WifiManager.MulticastLock.html][2]\r\n\r\n\r\n  [1]: http://examples.javacodegeeks.com/core-java/net/multicastsocket-net/java-net-multicastsocket-example/\r\n  [2]: http://developer.android.com/reference/android/net/wifi/WifiManager.MulticastLock.html","title":"Send UDP data to all on the LAN Android","body":"<p>Broadcasting will send data to all devices on the LAN.  Multicasting will only send data only to those who subscribe to it.  From the limited information you gave, it sounds like multicasting would work.  If you broadcast, you will essentially be sending data to all devices on your lan like your smart tv, all laptops, etc.</p>\n\n<p>Here is a simple client server app using java multicast sockets.<a href=\"http://examples.javacodegeeks.com/core-java/net/multicastsocket-net/java-net-multicastsocket-example/\" rel=\"nofollow\">http://examples.javacodegeeks.com/core-java/net/multicastsocket-net/java-net-multicastsocket-example/</a></p>\n\n<p>With multicasting, a device acts as a server and opens a special kind of udp socket for multicasting.  Clients subscribe to this server's multicast socket and essentially participate in data transmission.  </p>\n\n<p>Here are a couple tips for multicasting</p>\n\n<ul>\n<li>Be sure the server uses a multicast address in your java code.  This is in the range of 224.0.0.0 - 239.255.255.255   Some addresses are reserved.  Sample code I sent uses 224.0.0.3.  You don't need to change the IP in the WIfi settings.  This is done in the java code.  It is like an extra address that it will listen on.   The clients will subscribe to this address.</li>\n<li>For android, you will have to enable multicasting permission in the manifest file for the multicast lock.  See <a href=\"http://developer.android.com/reference/android/net/wifi/WifiManager.MulticastLock.html\" rel=\"nofollow\">http://developer.android.com/reference/android/net/wifi/WifiManager.MulticastLock.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":18509536,"reputation":23,"user_id":13485097,"display_name":"Kamalesh P"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664977874,"creation_date":1664977874,"answer_id":73961405,"question_id":30943136,"body_markdown":"MainActivity.java\r\n   \r\n        package com.example.myapplication;\r\n        \r\n        import androidx.appcompat.app.AppCompatActivity;\r\n        \r\n        import android.os.Bundle;\r\n        import android.os.StrictMode;\r\n        import android.util.Log;\r\n        \r\n        import java.io.IOException;\r\n        import java.net.DatagramPacket;\r\n        import java.net.DatagramSocket;\r\n        import java.net.InetAddress;\r\n        import java.net.UnknownHostException;\r\n        \r\n        public class MainActivity extends AppCompatActivity{\r\n            final static String INET_ADDR = &quot;192.168.17.20&quot;;\r\n            final static int PORT = 4210;\r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.activity_main);\r\n        \r\n                // StrictMode\r\n                StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n                StrictMode.setThreadPolicy(policy);\r\n        \r\n                // UDP Socket Programming\r\n                // Get the address that we are going to connect to.\r\n                InetAddress addr = null;\r\n                try {\r\n                    addr = InetAddress.getByName(INET_ADDR);\r\n                } catch (UnknownHostException ex) {\r\n                    Log.i(&quot;ERROR&quot;, String.valueOf(ex));\r\n                }\r\n        \r\n                // Open a new DatagramSocket, which will be used to send the data.\r\n                try (DatagramSocket serverSocket = new DatagramSocket()) {\r\n                    for (int i = 0; i &lt; 5; i++) {\r\n                        String msg = &quot;Sent message no &quot; + i;\r\n        \r\n                        // Create a packet that will contain the data\r\n                        // (in the form of bytes) and send it.\r\n                        DatagramPacket msgPacket = new DatagramPacket(msg.getBytes(),\r\n                                msg.getBytes().length, addr, PORT);\r\n                        try {\r\n                            serverSocket.send(msgPacket);\r\n                        }\r\n                        catch(Exception ex){\r\n                            Log.i(&quot;ERROR&quot;, String.valueOf(ex));\r\n                        }\r\n        \r\n                        Log.i(&quot;DEBUG&quot;, &quot;Server sent packet with msg: &quot; + msg);\r\n                    }\r\n                } catch (IOException ex) {\r\n                    Log.i(&quot;ERROR&quot;, String.valueOf(ex));\r\n                }\r\n            }\r\n        }\r\n\r\nAndroidManifest.xml\r\n\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n","title":"Send UDP data to all on the LAN Android","body":"<p>MainActivity.java</p>\n<pre><code>    package com.example.myapplication;\n    \n    import androidx.appcompat.app.AppCompatActivity;\n    \n    import android.os.Bundle;\n    import android.os.StrictMode;\n    import android.util.Log;\n    \n    import java.io.IOException;\n    import java.net.DatagramPacket;\n    import java.net.DatagramSocket;\n    import java.net.InetAddress;\n    import java.net.UnknownHostException;\n    \n    public class MainActivity extends AppCompatActivity{\n        final static String INET_ADDR = &quot;192.168.17.20&quot;;\n        final static int PORT = 4210;\n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n    \n            // StrictMode\n            StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\n            StrictMode.setThreadPolicy(policy);\n    \n            // UDP Socket Programming\n            // Get the address that we are going to connect to.\n            InetAddress addr = null;\n            try {\n                addr = InetAddress.getByName(INET_ADDR);\n            } catch (UnknownHostException ex) {\n                Log.i(&quot;ERROR&quot;, String.valueOf(ex));\n            }\n    \n            // Open a new DatagramSocket, which will be used to send the data.\n            try (DatagramSocket serverSocket = new DatagramSocket()) {\n                for (int i = 0; i &lt; 5; i++) {\n                    String msg = &quot;Sent message no &quot; + i;\n    \n                    // Create a packet that will contain the data\n                    // (in the form of bytes) and send it.\n                    DatagramPacket msgPacket = new DatagramPacket(msg.getBytes(),\n                            msg.getBytes().length, addr, PORT);\n                    try {\n                        serverSocket.send(msgPacket);\n                    }\n                    catch(Exception ex){\n                        Log.i(&quot;ERROR&quot;, String.valueOf(ex));\n                    }\n    \n                    Log.i(&quot;DEBUG&quot;, &quot;Server sent packet with msg: &quot; + msg);\n                }\n            } catch (IOException ex) {\n                Log.i(&quot;ERROR&quot;, String.valueOf(ex));\n            }\n        }\n    }\n</code></pre>\n<p>AndroidManifest.xml</p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":3580814,"reputation":55,"user_id":2989079,"display_name":"PartialData"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4018,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":31031319,"answer_count":2,"score":0,"last_activity_date":1664977874,"creation_date":1434731955,"question_id":30943136,"body_markdown":"I am able to send UDP data to a specific ip address but I need to send it to who ever is listening on port 55555. here is the code I&#39;m using. I do not want to send to a specific ip. \r\n\r\n\r\n\r\n   \r\n    \r\n    import android.util.Log;\r\n    \r\n    import java.net.DatagramPacket;\r\n    import java.net.DatagramSocket;\r\n    import java.net.InetAddress;\r\n    \r\n    public class UdpServer implements Runnable {\r\n    \r\n        UdpServer() {\r\n            run();\r\n        }\r\n        public void run() {\r\n    \r\n            try {\r\n    \r\n                String messageStr = &quot;40320&quot;;\r\n    \r\n                int server_port = 55555;\r\n                DatagramSocket datagramSocket = new DatagramSocket();\r\n                InetAddress host = InetAddress.getByName(&quot;10.1.10.14&quot;);\r\n  \r\n                int msg_length = messageStr.length();\r\n                byte[] message = messageStr.getBytes();\r\n                DatagramPacket datagramPacket = new DatagramPacket(message, msg_length,host,\r\n                        server_port);\r\n            \r\n                datagramSocket.send(datagramPacket);\r\n            } catch (Exception e) {\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Send UDP data to all on the LAN Android","body":"<p>I am able to send UDP data to a specific ip address but I need to send it to who ever is listening on port 55555. here is the code I'm using. I do not want to send to a specific ip. </p>\n\n<pre><code>import android.util.Log;\n\nimport java.net.DatagramPacket;\nimport java.net.DatagramSocket;\nimport java.net.InetAddress;\n\npublic class UdpServer implements Runnable {\n\n    UdpServer() {\n        run();\n    }\n    public void run() {\n\n        try {\n\n            String messageStr = \"40320\";\n\n            int server_port = 55555;\n            DatagramSocket datagramSocket = new DatagramSocket();\n            InetAddress host = InetAddress.getByName(\"10.1.10.14\");\n\n            int msg_length = messageStr.length();\n            byte[] message = messageStr.getBytes();\n            DatagramPacket datagramPacket = new DatagramPacket(message, msg_length,host,\n                    server_port);\n\n            datagramSocket.send(datagramPacket);\n        } catch (Exception e) {\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","oracle","oracle12c","osb"],"owner":{"account_id":26535763,"reputation":11,"user_id":20167310,"display_name":"M Fahmi Fachrozi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664977826,"creation_date":1664977220,"question_id":73961273,"body_markdown":"I&#39;m facing an issue when working with Oracle Service Bus. I want to translate XML to JSON as the response but when using nxsd in OSB pipeline to do that translation the empty array (`&lt;in:&lt;ARRAYNAME&gt;/&gt;`) in XML will be translated as `&quot;&lt;ARRAYNAME&gt;&quot;:[ null ]`. The expected result is `&quot;&lt;ARRAYNAME&gt;&quot;:[]`, without null.\r\n\r\nHere is the current response:\r\n\r\n```\r\n{\r\n&quot;data&quot;:  \t[ null ],\r\n&quot;description&quot;:  \t&quot;Success&quot;,\r\n&quot;transactionId&quot;:  \tnull,\r\n&quot;status&quot;:  \t0\r\n}\r\n```\r\n\r\nHere is the expected response:\r\n\r\n```\r\n{\r\n&quot;data&quot;:  \t[ ]\t,\r\n&quot;description&quot;:  \t&quot;Success&quot;,\r\n&quot;transactionId&quot;:  \tnull\t,\r\n&quot;status&quot;:  \t0\r\n}\r\n```","title":"Translation of empty array element in XML to JSON became null in Oracle Service Bus Pipeline","body":"<p>I'm facing an issue when working with Oracle Service Bus. I want to translate XML to JSON as the response but when using nxsd in OSB pipeline to do that translation the empty array (<code>&lt;in:&lt;ARRAYNAME&gt;/&gt;</code>) in XML will be translated as <code>&quot;&lt;ARRAYNAME&gt;&quot;:[ null ]</code>. The expected result is <code>&quot;&lt;ARRAYNAME&gt;&quot;:[]</code>, without null.</p>\n<p>Here is the current response:</p>\n<pre><code>{\n&quot;data&quot;:     [ null ],\n&quot;description&quot;:      &quot;Success&quot;,\n&quot;transactionId&quot;:    null,\n&quot;status&quot;:   0\n}\n</code></pre>\n<p>Here is the expected response:</p>\n<pre><code>{\n&quot;data&quot;:     [ ] ,\n&quot;description&quot;:      &quot;Success&quot;,\n&quot;transactionId&quot;:    null    ,\n&quot;status&quot;:   0\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":345460,"reputation":10899,"user_id":678410,"accept_rate":69,"display_name":"Anders Forsgren"},"score":0,"creation_date":1314209346,"post_id":7179912,"comment_id":8619816,"body_markdown":"Is the graph a DAG (Directed, acyclic i.e. tree-like?) or can it happen that A has an object B that has an object that is A again. In that case, how do you handle references without risking that the map grows to infinity for two objects that refer to eachother?","body":"Is the graph a DAG (Directed, acyclic i.e. tree-like?) or can it happen that A has an object B that has an object that is A again. In that case, how do you handle references without risking that the map grows to infinity for two objects that refer to eachother?"},{"owner":{"account_id":354508,"reputation":466,"user_id":692896,"accept_rate":75,"display_name":"mottosan"},"score":0,"creation_date":1314280363,"post_id":7179912,"comment_id":8636168,"body_markdown":"I&#39;m working with the assumption that there are no cycles in the object graph.","body":"I&#39;m working with the assumption that there are no cycles in the object graph."}],"answers":[{"comments":[{"owner":{"account_id":354508,"reputation":466,"user_id":692896,"accept_rate":75,"display_name":"mottosan"},"score":0,"creation_date":1314280446,"post_id":7179938,"comment_id":8636202,"body_markdown":"Thanks, but this isn&#39;t quite what I&#39;m looking for. I&#39;d prefer not to introduce a new data format into the application.","body":"Thanks, but this isn&#39;t quite what I&#39;m looking for. I&#39;d prefer not to introduce a new data format into the application."}],"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1314208095,"creation_date":1314208095,"answer_id":7179938,"question_id":7179912,"body_markdown":"Have you considered using [Protobufs][1]?\r\n\r\n\r\n  [1]: http://code.google.com/apis/protocolbuffers/docs/javatutorial.html","title":"Flattening an object graph to a map","body":"<p>Have you considered using <a href=\"http://code.google.com/apis/protocolbuffers/docs/javatutorial.html\" rel=\"nofollow\">Protobufs</a>?</p>\n"},{"tags":[],"owner":{"account_id":354508,"reputation":466,"user_id":692896,"accept_rate":75,"display_name":"mottosan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1353421558,"creation_date":1353421558,"answer_id":13475289,"question_id":7179912,"body_markdown":"The Apache BeanUtils library has a describe() method that does something similar to what I was looking for. \r\n\r\nAnother possible solution would be via the Jackson JSON library, since JSON objects are essentially key-value pairs.\r\n\r\nRelated discussions: https://stackoverflow.com/questions/739689/how-to-convert-a-java-object-bean-to-key-value-pairs-and-vice-versa\r\n","title":"Flattening an object graph to a map","body":"<p>The Apache BeanUtils library has a describe() method that does something similar to what I was looking for. </p>\n\n<p>Another possible solution would be via the Jackson JSON library, since JSON objects are essentially key-value pairs.</p>\n\n<p>Related discussions: <a href=\"https://stackoverflow.com/questions/739689/how-to-convert-a-java-object-bean-to-key-value-pairs-and-vice-versa\">How to convert a Java object (bean) to key-value pairs (and vice versa)?</a></p>\n"},{"tags":[],"owner":{"account_id":12663900,"reputation":415,"user_id":9203876,"display_name":"Federico Bellini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664977646,"creation_date":1664977646,"answer_id":73961365,"question_id":7179912,"body_markdown":"The [json-flattener][1] library solves exactly your problem\r\n\r\n\r\n  [1]: https://github.com/wnameless/json-flattener","title":"Flattening an object graph to a map","body":"<p>The <a href=\"https://github.com/wnameless/json-flattener\" rel=\"nofollow noreferrer\">json-flattener</a> library solves exactly your problem</p>\n"}],"owner":{"account_id":354508,"reputation":466,"user_id":692896,"accept_rate":75,"display_name":"mottosan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3381,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":13475289,"answer_count":3,"score":3,"last_activity_date":1664977646,"creation_date":1314207934,"question_id":7179912,"body_markdown":"I&#39;m trying to flatten an object graph completely to a map.\r\n\r\nComplex objects should also be flattened to the top level using &quot;namespaces&quot;. So if the object A contains an int i, a string pid and another object B that contains a string id, the resulting Map would look like {i=1, pid=&quot;test&quot;, B.id=&quot;test1&quot;}. \r\n\r\nI also want to be able to reconstruct the original object from a given map. \r\n\r\nI&#39;ve searched around for libraries that do this. But I&#39;m not quite getting what I&#39;m looking for. I see stuff that maintains the hierarchy but nothing that completely flattens the structure. \r\n\r\nI do see something in Spring Integration that looks like what I want to do: \r\nhttp://static.springsource.org/spring-integration/api/org/springframework/integration/transformer/ObjectToMapTransformer.html#ObjectToMapTransformer%28%29\r\n\r\nBut I can&#39;t get it to work. \r\n\r\nAny help would be appreciated.\r\n\r\nThanks.","title":"Flattening an object graph to a map","body":"<p>I'm trying to flatten an object graph completely to a map.</p>\n\n<p>Complex objects should also be flattened to the top level using \"namespaces\". So if the object A contains an int i, a string pid and another object B that contains a string id, the resulting Map would look like {i=1, pid=\"test\", B.id=\"test1\"}. </p>\n\n<p>I also want to be able to reconstruct the original object from a given map. </p>\n\n<p>I've searched around for libraries that do this. But I'm not quite getting what I'm looking for. I see stuff that maintains the hierarchy but nothing that completely flattens the structure. </p>\n\n<p>I do see something in Spring Integration that looks like what I want to do: \n<a href=\"http://static.springsource.org/spring-integration/api/org/springframework/integration/transformer/ObjectToMapTransformer.html#ObjectToMapTransformer%28%29\" rel=\"nofollow\">http://static.springsource.org/spring-integration/api/org/springframework/integration/transformer/ObjectToMapTransformer.html#ObjectToMapTransformer%28%29</a></p>\n\n<p>But I can't get it to work. </p>\n\n<p>Any help would be appreciated.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","json","spring-boot","db2","spring-batch"],"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1664903266,"post_id":73950957,"comment_id":130574640,"body_markdown":"You have to implement a custom ItemReader. An [example](https://www.petrikainulainen.net/programming/spring-framework/spring-batch-tutorial-reading-information-from-a-rest-api/). If the response is too big I think you can implement also a pagination logic If the external API permits it","body":"You have to implement a custom ItemReader. An <a href=\"https://www.petrikainulainen.net/programming/spring-framework/spring-batch-tutorial-reading-information-from-a-rest-api/\" rel=\"nofollow noreferrer\">example</a>. If the response is too big I think you can implement also a pagination logic If the external API permits it"}],"answers":[{"comments":[{"owner":{"account_id":7258679,"reputation":35,"user_id":5536327,"display_name":"Sagar SN"},"score":0,"creation_date":1664995294,"post_id":73961261,"comment_id":130598137,"body_markdown":"Thanks a ton for the solution. I will try this solution and mark as accepted answer. I would want to know one more thing, can I pass &#39;CSV String&#39; that I receive from external API to FlatFileReader instead of filepath or do I have to adopt different approach altogether? The external API can return data in both CSV or JSON format. The response.getBody() gives me the string in CSV/JSON format. Currently I am writing this &#39;CSV String&#39; to a file and passing that file as parameter to FlatFileItemReader. Can this be done with minimal changes without having to re-write line mappers, reader policy etc.","body":"Thanks a ton for the solution. I will try this solution and mark as accepted answer. I would want to know one more thing, can I pass &#39;CSV String&#39; that I receive from external API to FlatFileReader instead of filepath or do I have to adopt different approach altogether? The external API can return data in both CSV or JSON format. The response.getBody() gives me the string in CSV/JSON format. Currently I am writing this &#39;CSV String&#39; to a file and passing that file as parameter to FlatFileItemReader. Can this be done with minimal changes without having to re-write line mappers, reader policy etc."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1665386509,"post_id":73961261,"comment_id":130679305,"body_markdown":"Your reader&#39;s definition should depend on the return type of the response from your endpoint (csv or json). So you need to make your reader definition dynamic (ie should return a `FlatFileItemReader` or `JsonItemReader`).","body":"Your reader&#39;s definition should depend on the return type of the response from your endpoint (csv or json). So you need to make your reader definition dynamic (ie should return a <code>FlatFileItemReader</code> or <code>JsonItemReader</code>)."},{"owner":{"account_id":7258679,"reputation":35,"user_id":5536327,"display_name":"Sagar SN"},"score":0,"creation_date":1665481804,"post_id":73961261,"comment_id":130705107,"body_markdown":"Thanks a lot. I am accepting your answer as it helped me a lot in finding the solution. God bless you.","body":"Thanks a lot. I am accepting your answer as it helped me a lot in finding the solution. God bless you."}],"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664977184,"creation_date":1664977184,"answer_id":73961261,"question_id":73950957,"body_markdown":"You can use a `URLResource` and point your JSON item reader to it, something like:\r\n\r\n```\r\n@Bean(destroyMethod = &quot;close&quot;)\r\npublic InputStream urlResource() throws IOException {\r\n   URL url = new URL(&quot;https://path.to.your.resource&quot;);\r\n   URLConnection urlConnection = url.openConnection();\r\n   // urlConnection.setRequestProperty(&quot;&quot;, &quot;&quot;); // set auth headers if necessary\r\n   return urlConnection.getInputStream();\r\n}\r\n\r\n@Bean\r\npublic JsonItemReader&lt;Pojo&gt; itemReader() throws IOException {\r\n   return new JsonItemReaderBuilder&lt;Pojo&gt;()\r\n\t\t\t\t.name(&quot;restReader&quot;)\r\n\t\t\t\t.resource(new InputStreamResource(urlResource()))\r\n\t\t\t\t.strict(true)\r\n\t\t\t\t.jsonObjectReader(new JacksonJsonObjectReader&lt;&gt;(Pojo.class))\r\n\t\t\t\t.build();\r\n}\r\n```","title":"Spring Batch - How to use JSON/CSV String object instead of Files on disk","body":"<p>You can use a <code>URLResource</code> and point your JSON item reader to it, something like:</p>\n<pre><code>@Bean(destroyMethod = &quot;close&quot;)\npublic InputStream urlResource() throws IOException {\n   URL url = new URL(&quot;https://path.to.your.resource&quot;);\n   URLConnection urlConnection = url.openConnection();\n   // urlConnection.setRequestProperty(&quot;&quot;, &quot;&quot;); // set auth headers if necessary\n   return urlConnection.getInputStream();\n}\n\n@Bean\npublic JsonItemReader&lt;Pojo&gt; itemReader() throws IOException {\n   return new JsonItemReaderBuilder&lt;Pojo&gt;()\n                .name(&quot;restReader&quot;)\n                .resource(new InputStreamResource(urlResource()))\n                .strict(true)\n                .jsonObjectReader(new JacksonJsonObjectReader&lt;&gt;(Pojo.class))\n                .build();\n}\n</code></pre>\n"}],"owner":{"account_id":7258679,"reputation":35,"user_id":5536327,"display_name":"Sagar SN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1087,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73961261,"answer_count":1,"score":0,"last_activity_date":1664977184,"creation_date":1664901202,"question_id":73950957,"body_markdown":"I am building an Spring Batch application that loads fetches data from external API and loading it to Database. I am making a REST call to external API which API return JSON/CSV string based on request parameters(json/csv).\r\n\r\nThe application currently works fine for CSV file saved in filesystem. I am trying to get rid of creating a new file and using the file as input every time. I would want to achieve the loading without having to create any file on the disk.\r\n\r\nI have googled and tried different solutions, I have replaced FlatFileItemReader with JsonItemReader. \r\n\r\nCan you please help me here.\r\n\r\n**ReportService.java** \r\n\r\n    @Slf4j\r\n    @Service\r\n    public class ReportService {\r\n    \r\n    \tpublic static final String OUTPUT_FILE_FORMAT = &quot;csv&quot;;\r\n    \r\n    \t@Autowired\r\n    \tProxyRestClient proxyRestClient;\r\n    \r\n    \t@Autowired\r\n    \tFileOperations fileWriter;\r\n    \r\n    \t@Autowired\r\n    \r\n    \tCommonUtility commonUtil;\r\n    \r\n    \t@Autowired\r\n    \tReportMapping reportMapping;\r\n    \r\n    \t@Autowired\r\n    \tReportConfig reportConfig;\r\n    \r\n    \t@Autowired\r\n    \tJobMapping jobMap;\r\n    \r\n    \t@Autowired\r\n    \tDataIntegrationResponseBuilder responseBuilder;\r\n    \r\n    \t@Autowired\r\n    \tImportJobLauncher batchJob;\r\n    \r\n    \t@Autowired\r\n    \tWFitsPricingParser wFitsPricingParser;\r\n    \r\n    \tpublic ResponseEntity&lt;DataIntegrationResponse&gt; getReport(String jobName) throws Exception {\r\n    \r\n    \t\tHashMap&lt;String, String&gt; fitsParamMap = new HashMap&lt;String, String&gt;();\r\n    \r\n    \t\tfitsParamMap = getFitsParameters(jobName);\r\n    \r\n    \t\tResponseEntity&lt;String&gt; response;\r\n    \r\n    \t\tfinal String filePath = Path.of(&quot;&quot;).toAbsolutePath().toString() + &quot;\\\\&quot;;\r\n    \r\n    \t\tfinal String baseUrl = reportConfig.getBaseURL();\r\n    \r\n    \t\tString reportURL = baseUrl + fitsParamMap.get(&quot;reportId&quot;) + &quot;?format=&quot; + OUTPUT_FILE_FORMAT;\r\n    \r\n    \t\tString reportName = fitsParamMap.get(&quot;reportName&quot;);\r\n   \r\n    \t\tlog.info(&quot;Fetching report from FITS API.&quot;);\r\n    \t\tlog.info(&quot;FITS API URL: &quot; + reportURL + &quot;.&quot;);\r\n    \r\n    \t\tresponse = proxyRestClient.callFitsApi(reportURL, commonUtil.encodedCredentials());\r\n    \r\n    \t\t/*\r\n    \t\t* ObjectMapper mapper = new ObjectMapper(); WFitsVendor[] jsonObj =\r\n    \t\t* mapper.readValue(response.getBody(), WFitsVendor[].class);\r\n    \t\t*/\r\n    \r\n    \t\tif (response != null) {\r\n    \t\t\tif (response.getStatusCodeValue() == 200 &amp;&amp; response.hasBody()) {\r\n    \t\t\t\tfileWriter.writeToFile(response.getBody(), filePath + reportName + &quot;.&quot; + OUTPUT_FILE_FORMAT);\r\n    \r\n    \t\t\t\tif (jobName.equals(&quot;vendor&quot;)) {\r\n    \t\t\t\t\tBatchJobResponse batchJobResponse = batchJob.importFitsVendor(filePath + reportName + &quot;.&quot; + OUTPUT_FILE_FORMAT, response.getBody());\r\n    \r\n    \t\t\t\t\treturn new ResponseEntity&lt;&gt;(responseBuilder.buildResponse(response.getStatusCode(),\r\n    \t\t\t\t\t\t\treportName + &quot;.&quot; + OUTPUT_FILE_FORMAT, batchJobResponse.getJobName(), batchJobResponse.getJobStatus(), batchJobResponse.getJobId()),\r\n    \t\t\t\t\t\tHttpStatus.CREATED);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n\r\n    \t\t}\r\n    \r\n    \t\treturn new ResponseEntity&lt;&gt;(responseBuilder.buildResponse(HttpStatus.NOT_FOUND, &quot;&quot;, &quot;&quot;, &quot;&quot;, 0 L),\r\n    \t\t\tHttpStatus.NOT_FOUND);\r\n    \t}\r\n    \r\n    \tprivate HashMap&lt;String, String&gt; getFitsParameters(String jobName) {\r\n    \t\tHashMap&lt;String, String&gt; fitsParamMap = new HashMap&lt;String, String&gt;();\r\n    \t\tfitsParamMap.put(&quot;reportName&quot;, reportMapping.getMappings().getOrDefault(jobMap.getMappings().get(jobName), &quot;&quot;));\r\n    \t\tfitsParamMap.put(&quot;reportId&quot;, jobMap.getMappings().getOrDefault(jobName, &quot;&quot;));\r\n    \t\treturn fitsParamMap;\r\n    \t}\r\n    }\r\n\r\n**ProxyRestClient.java**\r\n\r\n    \r\n    @Service\r\n    public class ProxyRestClient {\r\n      @Autowired\r\n      @Qualifier(&quot;externalRestTemplate&quot;)\r\n    \r\n      RestTemplate restTemplate;\r\n    \r\n      public ResponseEntity&lt;String&gt; callFitsApi(\r\n          String reportURL, String encodedCredentials)\r\n          throws JsonMappingException, JsonProcessingException {\r\n        HttpHeaders headers = new HttpHeaders();\r\n    \r\n        headers.add(&quot;Authorization&quot;, &quot;Basic &quot; + encodedCredentials);\r\n        HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;(headers);\r\n       \r\n        ResponseEntity&lt;String&gt; response = null;\r\n        ResponseEntity&lt;String&gt; responseWfits = null;\r\n    \r\n        // response = restTemplate.exchange(reportURL, HttpMethod.GET, request,\r\n        // String.class);\r\n    \r\n         responseWfits = restTemplate.exchange(https://fitsonline.trgrp.com/msmdsqa/api/report/user/5010296?format=json, HttpMethod.GET, request, String.class);\r\n    \r\n         return responseWfits;\r\n      }\r\n    }\r\n\r\n**VendorJob.java**\r\n\r\n    @Configuration\r\n    @EnableBatchProcessing\r\n    @AllArgsConstructor\r\n    public class VendorJob {\r\n    \r\n    \tprivate JobBuilderFactory jobBuilderFactory;\r\n    \r\n    \tprivate StepBuilderFactory stepBuilderFactory;\r\n    \r\n    \tprivate static final String DROP_SCRIPT = &quot;TRUNCATE TABLE MDIA.WFITS_VENDOR&quot;;\r\n    \r\n    \t@Autowired\r\n    \tprivate HikariDataSource dataSource;\r\n    \r\n    \t/*\r\n         * This is for CSV File\r\n         *\r\n    \t * @Bean\r\n    \t * @StepScope\r\n     public FlatFileItemReader&lt;WFitsVendor&gt;\r\n    \r\n    \t * VendorReader(@Value(&quot;#{jobParameters[&#39;filePath&#39;]}&quot;) String filePath,\r\n    \t  @Value(&quot;#{jobParameters[&#39;jsonObj&#39;]}&quot;) String jsonObj) {\r\n         \r\n         FlatFileItemReader&lt;WFitsVendor&gt; itemReader = new FlatFileItemReader&lt;&gt;();\r\n    \r\n    \t itemReader.setResource(new FileSystemResource(filePath));\r\n    \t itemReader.setName(&quot;csvReader&quot;); itemReader.setLinesToSkip(1);\r\n         itemReader.setLineMapper(lineMapper());\r\n         itemReader.setRecordSeparatorPolicy(new ReaderPolicy());\r\n         return itemReader; }\r\n    \t */\r\n    \r\n    \t@Bean\r\n    \t@StepScope\r\n    \tpublic JsonItemReader&lt;WFitsVendor&gt; jsonItemReader(@Value(&quot;#{jobParameters[&#39;filePath&#39;]}&quot;) String filePath,\r\n    \t\t@Value(&quot;#{jobParameters[&#39;jsonObj&#39;]}&quot;) String jsonObj) {\r\n    \r\n    \t\tObjectMapper objectMapper = new ObjectMapper();\r\n    \t\t// configure the objectMapper as required\r\n    \t\tJacksonJsonObjectReader&lt;WFitsVendor&gt; jsonObjectReader =\r\n    \t\t\tnew JacksonJsonObjectReader&lt;&gt;(WFitsVendor.class);\r\n    \t\tjsonObjectReader.setMapper(objectMapper);\r\n    \r\n    \t\treturn new JsonItemReaderBuilder&lt;WFitsVendor&gt;()\r\n    \t\t\t.jsonObjectReader(jsonObjectReader)\r\n    \t\t\t.resource(new ByteArrayResource(jsonObj.getBytes()))\r\n    \t\t\t.name(&quot;jsonItemReader&quot;)\r\n    \t\t\t.build();\r\n    \t}\r\n    \r\n    \tprivate LineMapper&lt;WFitsVendor&gt; lineMapper() {\r\n    \r\n    \t\tWFitsVendorLineMapper&lt;WFitsVendor&gt; lineMapper = new WFitsVendorLineMapper&lt;&gt;();\r\n    \t\tDelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\r\n    \t\tlineTokenizer.setDelimiter(&quot;,&quot;);\r\n    \t\tlineTokenizer.setNames(&quot;VENDORNAME&quot;, &quot;Type&quot;, &quot;Notes&quot;);\r\n    \t\tlineTokenizer.setStrict(true);\r\n    \t\tlineTokenizer.setIncludedFields(0, 1, 2);\r\n    \t\t\r\n    \t\tBeanWrapperFieldSetMapper&lt;WFitsVendor&gt; fieldSetMapper = new BeanWrapperFieldSetMapper&lt;&gt;();\r\n    \t\tfieldSetMapper.setTargetType(WFitsVendor.class);\r\n    \t\tlineMapper.setLineTokenizer(lineTokenizer);\r\n    \t\tlineMapper.setFieldSetMapper(fieldSetMapper);\r\n    \r\n    \t\treturn lineMapper;\r\n    \r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic VendorProcessor VendorProcessor() {\r\n    \t\treturn new VendorProcessor();\r\n    \r\n    \t}\r\n    \r\n    \t@Bean   \r\n    \tpublic JdbcBatchItemWriter&lt;WFitsVendor&gt; VendorWriter() {\r\n    \t\tJdbcBatchItemWriter&lt;WFitsVendor&gt; databaseItemWriter = new JdbcBatchItemWriter&lt;&gt;();\r\n    \t\tdatabaseItemWriter.setDataSource(dataSource);\r\n    \t\tdatabaseItemWriter.setSql(\r\n    \t\t\t&quot;INSERT INTO MDIA.WFITS_VENDOR(VENDOR, VENDOR_INFO, VENDOR_TYPE, CREATED_BY) VALUES (?, ?, ?, ?)&quot;);\r\n    \r\n    \t\tItemPreparedStatementSetter&lt;WFitsVendor&gt; valueSetter = new WFitsVendorPreparedStatementSetter();\r\n    \t\tdatabaseItemWriter.setItemPreparedStatementSetter(valueSetter);\r\n    \r\n    \t\treturn databaseItemWriter;\r\n    \r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic Step loadVendorTable() {\r\n    \t\treturn stepBuilderFactory.get(&quot;load-wfitsvendor-table&quot;).&lt;WFitsVendor, WFitsVendor&gt; chunk(10000)\r\n    \t\t\t.reader(jsonItemReader(null, null)).writer(VendorWriter()).processor(VendorProcessor()).faultTolerant()\r\n    \t\t\t.taskExecutor(VendortaskExecutor()).build();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic Step truncateVendorTable() {\r\n    \t\treturn stepBuilderFactory.get(&quot;truncate-wfitsvendor-table&quot;).tasklet(truncateTableTasklet()).build();\r\n    \t}\r\n    \r\n    \tpublic Tasklet truncateTableTasklet() {\r\n    \t\treturn (contribution, chunkContext) -&gt; {\r\n    \t\t\tnew JdbcTemplate(dataSource).execute(DROP_SCRIPT);\r\n    \t\t\treturn RepeatStatus.FINISHED;\r\n    \t\t};\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \t@Qualifier(&quot;VendorJob&quot;)\r\n    \tpublic Job runVendorJob() {\r\n    \t\treturn jobBuilderFactory.get(&quot;VendorJob&quot;).listener(new JobCompletionListener()).start(truncateVendorTable())\r\n    \t\t\t.next(loadVendorTable()).build();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic TaskExecutor VendortaskExecutor() {\r\n     \treturn new ConcurrentTaskExecutor(Executors.newCachedThreadPool());\r\n    }\r\n    }\r\n    }\r\n\r\n**VendorLineMapper.java**\r\n\r\n    public class VendorLineMapper&lt;T&gt; implements LineMapper&lt;WFitsVendor&gt; , InitializingBean {\r\n    \r\n    \tprivate LineTokenizer tokenizer;\r\n    \r\n    \tprivate FieldSetMapper&lt;WFitsVendor&gt; fieldSetMapper;\r\n    \r\n    \t@Override\r\n    \r\n    \tpublic WFitsVendor mapLine(String line, int lineNumber) throws Exception {\r\n    \t\tWFitsVendor vr = fieldSetMapper.mapFieldSet(tokenizer.tokenize(line));\r\n    \t\t//System.out.println(line);\r\n    \t\tvr.setLineNo(lineNumber);\r\n    \t\treturn vr;\r\n    \t}\r\n    \r\n    \tpublic void setLineTokenizer(LineTokenizer tokenizer) {\r\n    \t\tthis.tokenizer = tokenizer;\r\n    \t}\r\n    \r\n    \tpublic void setFieldSetMapper(FieldSetMapper&lt;WFitsVendor&gt; fieldSetMapper) {\r\n    \t\tthis.fieldSetMapper = fieldSetMapper;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void afterPropertiesSet() {\r\n    \t\tAssert.notNull(tokenizer, &quot;The LineTokenizer must be set&quot;);\r\n    \t\tAssert.notNull(fieldSetMapper, &quot;The FieldSetMapper must be set&quot;);\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n**ReaderPolicy.java**\r\n\r\n    public class ReaderPolicy extends DefaultRecordSeparatorPolicy {\r\n    \r\n    \t@Override\r\n    \tpublic boolean isEndOfRecord(final String line) {\r\n    \t\treturn line.trim().length() != 0 &amp;&amp; super.isEndOfRecord(line);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String postProcess(final String record) {\r\n    \r\n    \t\tif (record == null || record.trim().length() == 0) {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\treturn super.postProcess(record);\r\n    \r\n    \t}\r\n\r\n**JSON Returned from API:**\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/74jPV.png","title":"Spring Batch - How to use JSON/CSV String object instead of Files on disk","body":"<p>I am building an Spring Batch application that loads fetches data from external API and loading it to Database. I am making a REST call to external API which API return JSON/CSV string based on request parameters(json/csv).</p>\n<p>The application currently works fine for CSV file saved in filesystem. I am trying to get rid of creating a new file and using the file as input every time. I would want to achieve the loading without having to create any file on the disk.</p>\n<p>I have googled and tried different solutions, I have replaced FlatFileItemReader with JsonItemReader.</p>\n<p>Can you please help me here.</p>\n<p><strong>ReportService.java</strong></p>\n<pre><code>@Slf4j\n@Service\npublic class ReportService {\n\n    public static final String OUTPUT_FILE_FORMAT = &quot;csv&quot;;\n\n    @Autowired\n    ProxyRestClient proxyRestClient;\n\n    @Autowired\n    FileOperations fileWriter;\n\n    @Autowired\n\n    CommonUtility commonUtil;\n\n    @Autowired\n    ReportMapping reportMapping;\n\n    @Autowired\n    ReportConfig reportConfig;\n\n    @Autowired\n    JobMapping jobMap;\n\n    @Autowired\n    DataIntegrationResponseBuilder responseBuilder;\n\n    @Autowired\n    ImportJobLauncher batchJob;\n\n    @Autowired\n    WFitsPricingParser wFitsPricingParser;\n\n    public ResponseEntity&lt;DataIntegrationResponse&gt; getReport(String jobName) throws Exception {\n\n        HashMap&lt;String, String&gt; fitsParamMap = new HashMap&lt;String, String&gt;();\n\n        fitsParamMap = getFitsParameters(jobName);\n\n        ResponseEntity&lt;String&gt; response;\n\n        final String filePath = Path.of(&quot;&quot;).toAbsolutePath().toString() + &quot;\\\\&quot;;\n\n        final String baseUrl = reportConfig.getBaseURL();\n\n        String reportURL = baseUrl + fitsParamMap.get(&quot;reportId&quot;) + &quot;?format=&quot; + OUTPUT_FILE_FORMAT;\n\n        String reportName = fitsParamMap.get(&quot;reportName&quot;);\n\n        log.info(&quot;Fetching report from FITS API.&quot;);\n        log.info(&quot;FITS API URL: &quot; + reportURL + &quot;.&quot;);\n\n        response = proxyRestClient.callFitsApi(reportURL, commonUtil.encodedCredentials());\n\n        /*\n        * ObjectMapper mapper = new ObjectMapper(); WFitsVendor[] jsonObj =\n        * mapper.readValue(response.getBody(), WFitsVendor[].class);\n        */\n\n        if (response != null) {\n            if (response.getStatusCodeValue() == 200 &amp;&amp; response.hasBody()) {\n                fileWriter.writeToFile(response.getBody(), filePath + reportName + &quot;.&quot; + OUTPUT_FILE_FORMAT);\n\n                if (jobName.equals(&quot;vendor&quot;)) {\n                    BatchJobResponse batchJobResponse = batchJob.importFitsVendor(filePath + reportName + &quot;.&quot; + OUTPUT_FILE_FORMAT, response.getBody());\n\n                    return new ResponseEntity&lt;&gt;(responseBuilder.buildResponse(response.getStatusCode(),\n                            reportName + &quot;.&quot; + OUTPUT_FILE_FORMAT, batchJobResponse.getJobName(), batchJobResponse.getJobStatus(), batchJobResponse.getJobId()),\n                        HttpStatus.CREATED);\n                }\n            }\n\n        }\n\n        return new ResponseEntity&lt;&gt;(responseBuilder.buildResponse(HttpStatus.NOT_FOUND, &quot;&quot;, &quot;&quot;, &quot;&quot;, 0 L),\n            HttpStatus.NOT_FOUND);\n    }\n\n    private HashMap&lt;String, String&gt; getFitsParameters(String jobName) {\n        HashMap&lt;String, String&gt; fitsParamMap = new HashMap&lt;String, String&gt;();\n        fitsParamMap.put(&quot;reportName&quot;, reportMapping.getMappings().getOrDefault(jobMap.getMappings().get(jobName), &quot;&quot;));\n        fitsParamMap.put(&quot;reportId&quot;, jobMap.getMappings().getOrDefault(jobName, &quot;&quot;));\n        return fitsParamMap;\n    }\n}\n</code></pre>\n<p><strong>ProxyRestClient.java</strong></p>\n<pre><code>@Service\npublic class ProxyRestClient {\n  @Autowired\n  @Qualifier(&quot;externalRestTemplate&quot;)\n\n  RestTemplate restTemplate;\n\n  public ResponseEntity&lt;String&gt; callFitsApi(\n      String reportURL, String encodedCredentials)\n      throws JsonMappingException, JsonProcessingException {\n    HttpHeaders headers = new HttpHeaders();\n\n    headers.add(&quot;Authorization&quot;, &quot;Basic &quot; + encodedCredentials);\n    HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;(headers);\n   \n    ResponseEntity&lt;String&gt; response = null;\n    ResponseEntity&lt;String&gt; responseWfits = null;\n\n    // response = restTemplate.exchange(reportURL, HttpMethod.GET, request,\n    // String.class);\n\n     responseWfits = restTemplate.exchange(https://fitsonline.trgrp.com/msmdsqa/api/report/user/5010296?format=json, HttpMethod.GET, request, String.class);\n\n     return responseWfits;\n  }\n}\n</code></pre>\n<p><strong>VendorJob.java</strong></p>\n<pre><code>@Configuration\n@EnableBatchProcessing\n@AllArgsConstructor\npublic class VendorJob {\n\n    private JobBuilderFactory jobBuilderFactory;\n\n    private StepBuilderFactory stepBuilderFactory;\n\n    private static final String DROP_SCRIPT = &quot;TRUNCATE TABLE MDIA.WFITS_VENDOR&quot;;\n\n    @Autowired\n    private HikariDataSource dataSource;\n\n    /*\n     * This is for CSV File\n     *\n     * @Bean\n     * @StepScope\n public FlatFileItemReader&lt;WFitsVendor&gt;\n\n     * VendorReader(@Value(&quot;#{jobParameters['filePath']}&quot;) String filePath,\n      @Value(&quot;#{jobParameters['jsonObj']}&quot;) String jsonObj) {\n     \n     FlatFileItemReader&lt;WFitsVendor&gt; itemReader = new FlatFileItemReader&lt;&gt;();\n\n     itemReader.setResource(new FileSystemResource(filePath));\n     itemReader.setName(&quot;csvReader&quot;); itemReader.setLinesToSkip(1);\n     itemReader.setLineMapper(lineMapper());\n     itemReader.setRecordSeparatorPolicy(new ReaderPolicy());\n     return itemReader; }\n     */\n\n    @Bean\n    @StepScope\n    public JsonItemReader&lt;WFitsVendor&gt; jsonItemReader(@Value(&quot;#{jobParameters['filePath']}&quot;) String filePath,\n        @Value(&quot;#{jobParameters['jsonObj']}&quot;) String jsonObj) {\n\n        ObjectMapper objectMapper = new ObjectMapper();\n        // configure the objectMapper as required\n        JacksonJsonObjectReader&lt;WFitsVendor&gt; jsonObjectReader =\n            new JacksonJsonObjectReader&lt;&gt;(WFitsVendor.class);\n        jsonObjectReader.setMapper(objectMapper);\n\n        return new JsonItemReaderBuilder&lt;WFitsVendor&gt;()\n            .jsonObjectReader(jsonObjectReader)\n            .resource(new ByteArrayResource(jsonObj.getBytes()))\n            .name(&quot;jsonItemReader&quot;)\n            .build();\n    }\n\n    private LineMapper&lt;WFitsVendor&gt; lineMapper() {\n\n        WFitsVendorLineMapper&lt;WFitsVendor&gt; lineMapper = new WFitsVendorLineMapper&lt;&gt;();\n        DelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\n        lineTokenizer.setDelimiter(&quot;,&quot;);\n        lineTokenizer.setNames(&quot;VENDORNAME&quot;, &quot;Type&quot;, &quot;Notes&quot;);\n        lineTokenizer.setStrict(true);\n        lineTokenizer.setIncludedFields(0, 1, 2);\n        \n        BeanWrapperFieldSetMapper&lt;WFitsVendor&gt; fieldSetMapper = new BeanWrapperFieldSetMapper&lt;&gt;();\n        fieldSetMapper.setTargetType(WFitsVendor.class);\n        lineMapper.setLineTokenizer(lineTokenizer);\n        lineMapper.setFieldSetMapper(fieldSetMapper);\n\n        return lineMapper;\n\n    }\n\n    @Bean\n    public VendorProcessor VendorProcessor() {\n        return new VendorProcessor();\n\n    }\n\n    @Bean   \n    public JdbcBatchItemWriter&lt;WFitsVendor&gt; VendorWriter() {\n        JdbcBatchItemWriter&lt;WFitsVendor&gt; databaseItemWriter = new JdbcBatchItemWriter&lt;&gt;();\n        databaseItemWriter.setDataSource(dataSource);\n        databaseItemWriter.setSql(\n            &quot;INSERT INTO MDIA.WFITS_VENDOR(VENDOR, VENDOR_INFO, VENDOR_TYPE, CREATED_BY) VALUES (?, ?, ?, ?)&quot;);\n\n        ItemPreparedStatementSetter&lt;WFitsVendor&gt; valueSetter = new WFitsVendorPreparedStatementSetter();\n        databaseItemWriter.setItemPreparedStatementSetter(valueSetter);\n\n        return databaseItemWriter;\n\n    }\n\n    @Bean\n    public Step loadVendorTable() {\n        return stepBuilderFactory.get(&quot;load-wfitsvendor-table&quot;).&lt;WFitsVendor, WFitsVendor&gt; chunk(10000)\n            .reader(jsonItemReader(null, null)).writer(VendorWriter()).processor(VendorProcessor()).faultTolerant()\n            .taskExecutor(VendortaskExecutor()).build();\n    }\n\n    @Bean\n    public Step truncateVendorTable() {\n        return stepBuilderFactory.get(&quot;truncate-wfitsvendor-table&quot;).tasklet(truncateTableTasklet()).build();\n    }\n\n    public Tasklet truncateTableTasklet() {\n        return (contribution, chunkContext) -&gt; {\n            new JdbcTemplate(dataSource).execute(DROP_SCRIPT);\n            return RepeatStatus.FINISHED;\n        };\n    }\n\n    @Bean\n    @Qualifier(&quot;VendorJob&quot;)\n    public Job runVendorJob() {\n        return jobBuilderFactory.get(&quot;VendorJob&quot;).listener(new JobCompletionListener()).start(truncateVendorTable())\n            .next(loadVendorTable()).build();\n    }\n\n    @Bean\n    public TaskExecutor VendortaskExecutor() {\n    return new ConcurrentTaskExecutor(Executors.newCachedThreadPool());\n}\n}\n}\n</code></pre>\n<p><strong>VendorLineMapper.java</strong></p>\n<pre><code>public class VendorLineMapper&lt;T&gt; implements LineMapper&lt;WFitsVendor&gt; , InitializingBean {\n\n    private LineTokenizer tokenizer;\n\n    private FieldSetMapper&lt;WFitsVendor&gt; fieldSetMapper;\n\n    @Override\n\n    public WFitsVendor mapLine(String line, int lineNumber) throws Exception {\n        WFitsVendor vr = fieldSetMapper.mapFieldSet(tokenizer.tokenize(line));\n        //System.out.println(line);\n        vr.setLineNo(lineNumber);\n        return vr;\n    }\n\n    public void setLineTokenizer(LineTokenizer tokenizer) {\n        this.tokenizer = tokenizer;\n    }\n\n    public void setFieldSetMapper(FieldSetMapper&lt;WFitsVendor&gt; fieldSetMapper) {\n        this.fieldSetMapper = fieldSetMapper;\n    }\n\n    @Override\n    public void afterPropertiesSet() {\n        Assert.notNull(tokenizer, &quot;The LineTokenizer must be set&quot;);\n        Assert.notNull(fieldSetMapper, &quot;The FieldSetMapper must be set&quot;);\n\n    }\n\n}\n</code></pre>\n<p><strong>ReaderPolicy.java</strong></p>\n<pre><code>public class ReaderPolicy extends DefaultRecordSeparatorPolicy {\n\n    @Override\n    public boolean isEndOfRecord(final String line) {\n        return line.trim().length() != 0 &amp;&amp; super.isEndOfRecord(line);\n    }\n\n    @Override\n    public String postProcess(final String record) {\n\n        if (record == null || record.trim().length() == 0) {\n            return null;\n        }\n        return super.postProcess(record);\n\n    }\n</code></pre>\n<p><strong>JSON Returned from API:</strong>\n<a href=\"https://i.stack.imgur.com/74jPV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/74jPV.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","mysql"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1664977034,"post_id":73961038,"comment_id":130591549,"body_markdown":"Don&#39;t use JDBC from Android, use a web service to mediate between your Android app and the database. In any case, without a [mre] and the logcat/exception stacktrace, we can&#39;t really help you.","body":"Don&#39;t use JDBC from Android, use a web service to mediate between your Android app and the database. In any case, without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and the logcat/exception stacktrace, we can&#39;t really help you."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1664983716,"post_id":73961038,"comment_id":130594329,"body_markdown":"Agreed, please [do not use JDBC from a mobile device](https://stackoverflow.com/questions/15853367/jdbc-vs-web-service-for-android).","body":"Agreed, please <a href=\"https://stackoverflow.com/questions/15853367/jdbc-vs-web-service-for-android\">do not use JDBC from a mobile device</a>."}],"owner":{"display_name":"user20113308"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664976992,"creation_date":1664976174,"question_id":73961038,"body_markdown":"I am new with Android Studio. My aim is really basic but it was struggled me too much. When I move my code with normal main function (with Java Sysout print method). But when the order is Android Studio, as soon as I run the code, my app suddenly stopped.\r\n\r\nBelow is my Android Studio code that you will see.\r\n\r\n```java\r\npackage com.database.myapplication;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.os.StrictMode;\r\nimport android.widget.TextView;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\nimport java.sql.ResultSetMetaData;\r\nimport java.sql.Statement;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        testDB(&quot;onur&quot;);\r\n    }\r\n    public void testDB(String name) {\r\n        TextView tv = (TextView)this.findViewById(R.id.denemetext);\r\n        try {\r\n            StrictMode.ThreadPolicy policy =\r\n                    new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n            StrictMode.setThreadPolicy(policy);\r\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n            Connection con = DriverManager.getConnection(\r\n                    &quot;jdbc:mysql://192.168.56.1:3306/giris_sistemi&quot;,&quot;onur&quot;,&quot;12345&quot;);\r\n            String result = &quot;Database connection success\\n&quot;;\r\n            Statement st = con.createStatement();\r\n            ResultSet rs = st.executeQuery(&quot;select *from kisiler where kisi_name like &#39;&quot;+name+&quot;&#39;&quot;);\r\n            ResultSetMetaData rsmd = rs.getMetaData();\r\n            while(rs.next()) {\r\n                result += rsmd.getColumnName(1) + &quot;: &quot; + rs.getString(1) + &quot;\\n&quot;;\r\n                result += rsmd.getColumnName(2) + &quot;: &quot; + rs.getInt(2) + &quot;\\n&quot;;\r\n                result += rsmd.getColumnName(3) + &quot;: &quot; + rs.getString(3) + &quot;\\n&quot;;\r\n            }\r\n            tv.setText(result);\r\n        }\r\n        catch(Exception e) {\r\n            e.printStackTrace();\r\n            tv.setText(e.toString());\r\n        }   }}\r\n```\r\n\r\nAnd some part of my AndroidManifest.xml file. In this file, when I establish, the internet connection&#39;s permissions, program can not start, and suddenly close.\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_LOCATION_EXTRA_COMMANDS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;com.example.towntour.permission.MAPS_RECEIVE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;com.google.android.providers.gsf.permission.READ_GSERVICES&quot; /&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.MyApplication&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n```\r\n\r\nIf you can help me my friends, ı will be verry happy with this.","title":"Android Studio can not connect and MYSQL keep stopping due to internet connection permissions","body":"<p>I am new with Android Studio. My aim is really basic but it was struggled me too much. When I move my code with normal main function (with Java Sysout print method). But when the order is Android Studio, as soon as I run the code, my app suddenly stopped.</p>\n<p>Below is my Android Studio code that you will see.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.database.myapplication;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.os.StrictMode;\nimport android.widget.TextView;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.ResultSetMetaData;\nimport java.sql.Statement;\n\npublic class MainActivity extends AppCompatActivity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        testDB(&quot;onur&quot;);\n    }\n    public void testDB(String name) {\n        TextView tv = (TextView)this.findViewById(R.id.denemetext);\n        try {\n            StrictMode.ThreadPolicy policy =\n                    new StrictMode.ThreadPolicy.Builder().permitAll().build();\n            StrictMode.setThreadPolicy(policy);\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n            Connection con = DriverManager.getConnection(\n                    &quot;jdbc:mysql://192.168.56.1:3306/giris_sistemi&quot;,&quot;onur&quot;,&quot;12345&quot;);\n            String result = &quot;Database connection success\\n&quot;;\n            Statement st = con.createStatement();\n            ResultSet rs = st.executeQuery(&quot;select *from kisiler where kisi_name like '&quot;+name+&quot;'&quot;);\n            ResultSetMetaData rsmd = rs.getMetaData();\n            while(rs.next()) {\n                result += rsmd.getColumnName(1) + &quot;: &quot; + rs.getString(1) + &quot;\\n&quot;;\n                result += rsmd.getColumnName(2) + &quot;: &quot; + rs.getInt(2) + &quot;\\n&quot;;\n                result += rsmd.getColumnName(3) + &quot;: &quot; + rs.getString(3) + &quot;\\n&quot;;\n            }\n            tv.setText(result);\n        }\n        catch(Exception e) {\n            e.printStackTrace();\n            tv.setText(e.toString());\n        }   }}\n</code></pre>\n<p>And some part of my AndroidManifest.xml file. In this file, when I establish, the internet connection's permissions, program can not start, and suddenly close.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_LOCATION_EXTRA_COMMANDS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;com.example.towntour.permission.MAPS_RECEIVE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;com.google.android.providers.gsf.permission.READ_GSERVICES&quot; /&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.MyApplication&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>If you can help me my friends, ı will be verry happy with this.</p>\n"},{"tags":["java","windows","service","jpackage","service-installer"],"answers":[{"comments":[{"owner":{"account_id":1056902,"reputation":821,"user_id":1059429,"accept_rate":71,"display_name":"Morgan Courbet"},"score":1,"creation_date":1679041764,"post_id":73961134,"comment_id":133653187,"body_markdown":"Yes, `jpackage` has been designed to work with NSSM: https://github.com/openjdk/jdk/blob/master/src/jdk.jpackage/windows/classes/jdk/jpackage/internal/resources/service-config.wxi#L6 . If you want to use another service wrapper such as WinSW, you will need to override `service-config.wxi` and `service-install.wxi`","body":"Yes, <code>jpackage</code> has been designed to work with NSSM: <a href=\"https://github.com/openjdk/jdk/blob/master/src/jdk.jpackage/windows/classes/jdk/jpackage/internal/resources/service-config.wxi#L6\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/master/src/jdk.jpackage/windows/&zwnj;&#8203;&hellip;</a> . If you want to use another service wrapper such as WinSW, you will need to override <code>service-config.wxi</code> and <code>service-install.wxi</code>"},{"owner":{"account_id":13940013,"reputation":61,"user_id":10066160,"display_name":"Ahmed Saber"},"score":0,"creation_date":1689146852,"post_id":73961134,"comment_id":135170201,"body_markdown":"please give me more details about this answer because the installer refers to `service_installer.exe` as a service, not my application `exe`","body":"please give me more details about this answer because the installer refers to <code>service_installer.exe</code> as a service, not my application <code>exe</code>"}],"tags":[],"owner":{"account_id":26527905,"reputation":81,"user_id":20160583,"display_name":"NassimBtk"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1664976632,"creation_date":1664976632,"answer_id":73961134,"question_id":73951976,"body_markdown":"I&#39;ve been able to manage this issue by configuring the `--resource-dir` option to specify the NSSM resource path, and I have renamed `nssm.exe` to `service-installer.exe`.\r\n\r\n```shell\r\n&gt; jpackage --type msi -i . --main-jar my-app.jar --name my-app --app-version &quot;1.0.00&quot; --dest . --win-shortcut --win-menu --resource-dir &quot;C:\\Program Files\\nssm-2.24\\win64&quot; --launcher-as-service\r\n```","title":"How to create launcher as windows service using jpackage (Java 19)","body":"<p>I've been able to manage this issue by configuring the <code>--resource-dir</code> option to specify the NSSM resource path, and I have renamed <code>nssm.exe</code> to <code>service-installer.exe</code>.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>&gt; jpackage --type msi -i . --main-jar my-app.jar --name my-app --app-version &quot;1.0.00&quot; --dest . --win-shortcut --win-menu --resource-dir &quot;C:\\Program Files\\nssm-2.24\\win64&quot; --launcher-as-service\n</code></pre>\n"}],"owner":{"account_id":26527905,"reputation":81,"user_id":20160583,"display_name":"NassimBtk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1082,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73961134,"answer_count":1,"score":4,"last_activity_date":1664976632,"creation_date":1664907044,"question_id":73951976,"body_markdown":"I want to create an installer with `jpackage` that registers my java application launcher as a Windows service.\r\n\r\nI have installed WiX Toolset v3.11.2.\r\n\r\nI have tried to create my installer by specifying the [--launcher-as-service](https://docs.oracle.com/en/java/javase/19/docs/specs/man/jpackage.html#option-launcher-as-service) flag which is supported in Java 19 [JDK-8275062](https://bugs.openjdk.org/browse/JDK-8275062) but I am getting the following error:\r\n\r\n```shell\r\n&gt; jpackage --type msi -i . --main-jar my-app.jar --name my-app --app-version &quot;1.0.00&quot; --dest . --win-shortcut --win-menu --launcher-as-service\r\nBundler MSI Installer Package failed because of java.lang.NullPointerException: Cannot invoke &quot;jdk.jpackage.internal.InstallableFile.srcPath()&quot; because &quot;this.serviceInstaller&quot; is null\r\n```\r\n\r\nThe documentation mentions a certain [service installer executable](https://docs.oracle.com/en/java/javase/19/docs/specs/man/jpackage.html#resource-directory-files-considered-only-when-building-windows-msiexe-installer) (`service-installer.exe`) as a resource to consider. Any idea where I can find this executable and what would be the best thing to do?","title":"How to create launcher as windows service using jpackage (Java 19)","body":"<p>I want to create an installer with <code>jpackage</code> that registers my java application launcher as a Windows service.</p>\n<p>I have installed WiX Toolset v3.11.2.</p>\n<p>I have tried to create my installer by specifying the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/specs/man/jpackage.html#option-launcher-as-service\" rel=\"nofollow noreferrer\">--launcher-as-service</a> flag which is supported in Java 19 <a href=\"https://bugs.openjdk.org/browse/JDK-8275062\" rel=\"nofollow noreferrer\">JDK-8275062</a> but I am getting the following error:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>&gt; jpackage --type msi -i . --main-jar my-app.jar --name my-app --app-version &quot;1.0.00&quot; --dest . --win-shortcut --win-menu --launcher-as-service\nBundler MSI Installer Package failed because of java.lang.NullPointerException: Cannot invoke &quot;jdk.jpackage.internal.InstallableFile.srcPath()&quot; because &quot;this.serviceInstaller&quot; is null\n</code></pre>\n<p>The documentation mentions a certain <a href=\"https://docs.oracle.com/en/java/javase/19/docs/specs/man/jpackage.html#resource-directory-files-considered-only-when-building-windows-msiexe-installer\" rel=\"nofollow noreferrer\">service installer executable</a> (<code>service-installer.exe</code>) as a resource to consider. Any idea where I can find this executable and what would be the best thing to do?</p>\n"},{"tags":["java","swing","jbutton","paintcomponent","settext"],"comments":[{"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"score":0,"creation_date":1342522396,"post_id":11520003,"comment_id":15226573,"body_markdown":"It&#39;s not the setText that does work, it is you that is painting over the the text with your override which hides the text.","body":"It&#39;s not the setText that does work, it is you that is painting over the the text with your override which hides the text."},{"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"score":0,"creation_date":1342545456,"post_id":11520003,"comment_id":15237580,"body_markdown":"Simply do one thingy, send the `Title` that you want as a text of a `JButton` to your `GradientButton` Class&#39;s `Constructor`, and write `super(title)` as the first line of the `Constructor`, that will do :-) Here is one related [example](http://stackoverflow.com/a/11490905/1057230)","body":"Simply do one thingy, send the <code>Title</code> that you want as a text of a <code>JButton</code> to your <code>GradientButton</code> Class&#39;s <code>Constructor</code>, and write <code>super(title)</code> as the first line of the <code>Constructor</code>, that will do :-) Here is one related <a href=\"http://stackoverflow.com/a/11490905/1057230\">example</a>"},{"owner":{"account_id":1381887,"reputation":783,"user_id":1314695,"accept_rate":78,"display_name":"Natalia"},"score":0,"creation_date":1342592261,"post_id":11520003,"comment_id":15250739,"body_markdown":"It didn&#39;t work, I can&#39;t see text that way","body":"It didn&#39;t work, I can&#39;t see text that way"},{"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"score":0,"creation_date":1342637915,"post_id":11520003,"comment_id":15271851,"body_markdown":"super.paintComponent(), has to be the first line of the respective method, not the last :( Do not make calls to paintComponent() explicitly, that is not meant for developers to call, let Swing worry about that part, simply call repaint() instead :-)","body":"super.paintComponent(), has to be the first line of the respective method, not the last :( Do not make calls to paintComponent() explicitly, that is not meant for developers to call, let Swing worry about that part, simply call repaint() instead :-)"},{"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"score":0,"creation_date":1342638313,"post_id":11520003,"comment_id":15272020,"body_markdown":"I hope you know the answer to the question, Why you writing, What you writing, in your code ?","body":"I hope you know the answer to the question, Why you writing, What you writing, in your code ?"},{"owner":{"account_id":1381887,"reputation":783,"user_id":1314695,"accept_rate":78,"display_name":"Natalia"},"score":0,"creation_date":1342678402,"post_id":11520003,"comment_id":15281882,"body_markdown":"Thank you, now everything seems fine :) I&#39;m new to Swing, and haven&#39;t yet know it to a nicety. As for the super.paintComponent() - in my case it does should be the last line - I found this in some answers here. When I call it from the first line, I overlay button&#39;s title by gradient then.","body":"Thank you, now everything seems fine :) I&#39;m new to Swing, and haven&#39;t yet know it to a nicety. As for the super.paintComponent() - in my case it does should be the last line - I found this in some answers here. When I call it from the first line, I overlay button&#39;s title by gradient then."}],"answers":[{"comments":[{"owner":{"account_id":1381887,"reputation":783,"user_id":1314695,"accept_rate":78,"display_name":"Natalia"},"score":0,"creation_date":1342518838,"post_id":11520045,"comment_id":15225098,"body_markdown":"I&#39;ve tried like super.setText(text) but it had no effect either","body":"I&#39;ve tried like super.setText(text) but it had no effect either"},{"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"score":1,"creation_date":1342519214,"post_id":11520045,"comment_id":15225273,"body_markdown":"@Natalia Overriding it with a call which just delegate to the super class is the equivalent of not overriding the method. Of course this has no effect","body":"@Natalia Overriding it with a call which just delegate to the super class is the equivalent of not overriding the method. Of course this has no effect"}],"tags":[],"owner":{"account_id":1477139,"reputation":21,"user_id":1387274,"display_name":"Baptiste"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342526055,"creation_date":1342518743,"answer_id":11520045,"question_id":11520003,"body_markdown":"In a logic case you don&#39;t need to override the `setText()` but you can try it.","title":"Custom JButton: setText doesn&#39;t have effect","body":"<p>In a logic case you don't need to override the <code>setText()</code> but you can try it.</p>\n"},{"comments":[{"owner":{"account_id":1381887,"reputation":783,"user_id":1314695,"accept_rate":78,"display_name":"Natalia"},"score":1,"creation_date":1342521541,"post_id":11520064,"comment_id":15226207,"body_markdown":"I call it later from the code. When you call setText() for ordinary JButton you don&#39;t call repaint() after that.","body":"I call it later from the code. When you call setText() for ordinary JButton you don&#39;t call repaint() after that."},{"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"score":0,"creation_date":1342525289,"post_id":11520064,"comment_id":15227720,"body_markdown":"Indeed callin setText will eventually trigger a repaint of the JButton.","body":"Indeed callin setText will eventually trigger a repaint of the JButton."},{"owner":{"account_id":1318015,"reputation":3345,"user_id":1264476,"display_name":"Germann Arlington"},"score":0,"creation_date":1342536115,"post_id":11520064,"comment_id":15233157,"body_markdown":"Maybe I though wrong, but how would the system know when to trigger repaint? Does it happen on every update to every visual component?\nI must admit that GUI is not my primary speciality.","body":"Maybe I though wrong, but how would the system know when to trigger repaint? Does it happen on every update to every visual component? I must admit that GUI is not my primary speciality."}],"tags":[],"owner":{"account_id":1318015,"reputation":3345,"user_id":1264476,"display_name":"Germann Arlington"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342518825,"creation_date":1342518825,"answer_id":11520064,"question_id":11520003,"body_markdown":"I don&#39;t see where you call setText(), if you attempt to do it AFTER the component was painted then you will need to call rePaint() for any graphical changes to have visible effect.\r\nAnd no, you don&#39;t meed to override setText(), what will be the point?","title":"Custom JButton: setText doesn&#39;t have effect","body":"<p>I don't see where you call setText(), if you attempt to do it AFTER the component was painted then you will need to call rePaint() for any graphical changes to have visible effect.\nAnd no, you don't meed to override setText(), what will be the point?</p>\n"},{"comments":[{"owner":{"account_id":1381887,"reputation":783,"user_id":1314695,"accept_rate":78,"display_name":"Natalia"},"score":0,"creation_date":1342521580,"post_id":11520143,"comment_id":15226227,"body_markdown":"Not suitable for me, I need different buttons","body":"Not suitable for me, I need different buttons"}],"tags":[],"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1342519142,"creation_date":1342519142,"answer_id":11520143,"question_id":11520003,"body_markdown":"- you can to change vlaues in the `UIManager`, in the case that every `JButtons` will have got the same color theme\r\n\r\n- then there no issue with rest of methods implemnted in the API\r\n\r\n- you can to override `BasicButtonUI`, example for [MetalButtonUI][1]\r\n\r\ncode for `UIManager`\r\n\r\n    import java.util.List;\r\n    import javax.swing.*;\r\n    import javax.swing.plaf.ColorUIResource;\r\n    \r\n    public class GradieltButton {\r\n    \r\n        public static void main(String[] args) {\r\n            Object grad = UIManager.get(&quot;Button.gradient&quot;);\r\n            List gradient;\r\n            if (grad instanceof List) {\r\n                gradient = (List) grad;\r\n                System.out.println(gradient.get(0));\r\n                System.out.println(gradient.get(1));\r\n                System.out.println(gradient.get(2));\r\n                System.out.println(gradient.get(3));\r\n                System.out.println(gradient.get(4));\r\n                //gradient.set(2, new ColorUIResource(221, 232, 243));//origal Color\r\n                //gradient.set(2, new ColorUIResource(255, 255, 255));//origal Color\r\n                //gradient.set(2, new ColorUIResource(184, 207, 229));//origal Color\r\n                gradient.set(2, new ColorUIResource(190, 230, 240));\r\n                gradient.set(3, new ColorUIResource(240, 240, 240));\r\n                gradient.set(4, new ColorUIResource(180, 200, 220));\r\n                //UIManager.put(&quot;Button.background&quot;, Color.pink);\r\n            }\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n    \r\n                @Override\r\n                public void run() {\r\n                    new GradieltButton().makeUI();\r\n                }\r\n            });\r\n        }\r\n    \r\n        public void makeUI() {\r\n            JButton button = new JButton(&quot;Click&quot;);\r\n            JFrame frame = new JFrame();\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.add(button);\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/5755124/714968","title":"Custom JButton: setText doesn&#39;t have effect","body":"<ul>\n<li><p>you can to change vlaues in the <code>UIManager</code>, in the case that every <code>JButtons</code> will have got the same color theme</p></li>\n<li><p>then there no issue with rest of methods implemnted in the API</p></li>\n<li><p>you can to override <code>BasicButtonUI</code>, example for <a href=\"https://stackoverflow.com/a/5755124/714968\">MetalButtonUI</a></p></li>\n</ul>\n\n<p>code for <code>UIManager</code></p>\n\n<pre><code>import java.util.List;\nimport javax.swing.*;\nimport javax.swing.plaf.ColorUIResource;\n\npublic class GradieltButton {\n\n    public static void main(String[] args) {\n        Object grad = UIManager.get(\"Button.gradient\");\n        List gradient;\n        if (grad instanceof List) {\n            gradient = (List) grad;\n            System.out.println(gradient.get(0));\n            System.out.println(gradient.get(1));\n            System.out.println(gradient.get(2));\n            System.out.println(gradient.get(3));\n            System.out.println(gradient.get(4));\n            //gradient.set(2, new ColorUIResource(221, 232, 243));//origal Color\n            //gradient.set(2, new ColorUIResource(255, 255, 255));//origal Color\n            //gradient.set(2, new ColorUIResource(184, 207, 229));//origal Color\n            gradient.set(2, new ColorUIResource(190, 230, 240));\n            gradient.set(3, new ColorUIResource(240, 240, 240));\n            gradient.set(4, new ColorUIResource(180, 200, 220));\n            //UIManager.put(\"Button.background\", Color.pink);\n        }\n        SwingUtilities.invokeLater(new Runnable() {\n\n            @Override\n            public void run() {\n                new GradieltButton().makeUI();\n            }\n        });\n    }\n\n    public void makeUI() {\n        JButton button = new JButton(\"Click\");\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(button);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1381887,"reputation":783,"user_id":1314695,"accept_rate":78,"display_name":"Natalia"},"score":0,"creation_date":1342521407,"post_id":11520640,"comment_id":15226143,"body_markdown":"Deleted that part and it didn&#39;t work either. Maybe that&#39;s gradient overlaying text? How can I place it &quot;under&quot; the text?","body":"Deleted that part and it didn&#39;t work either. Maybe that&#39;s gradient overlaying text? How can I place it &quot;under&quot; the text?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1342522326,"post_id":11520640,"comment_id":15226541,"body_markdown":"Any fill action will paint over the text, try setting the fillContentArea property to false &amp; place your custom paint before the super call.  If that doesn&#39;t work, there might be a small hack I use to paint candy stripping on tables &amp; trees that might work","body":"Any fill action will paint over the text, try setting the fillContentArea property to false &amp; place your custom paint before the super call.  If that doesn&#39;t work, there might be a small hack I use to paint candy stripping on tables &amp; trees that might work"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1342522507,"post_id":11520640,"comment_id":15226608,"body_markdown":"ps in swing, any graphics context past to component is guaranteed to be Graphics2D object","body":"ps in swing, any graphics context past to component is guaranteed to be Graphics2D object"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1342522985,"post_id":11520640,"comment_id":15226817,"body_markdown":"In my tests, setting contentAreaFilled and borderPainted to false allowed me to render under the text.  I don&#39;t know if this is the desired effect you&#39;re after, but it might help","body":"In my tests, setting contentAreaFilled and borderPainted to false allowed me to render under the text.  I don&#39;t know if this is the desired effect you&#39;re after, but it might help"},{"owner":{"account_id":1381887,"reputation":783,"user_id":1314695,"accept_rate":78,"display_name":"Natalia"},"score":0,"creation_date":1342531521,"post_id":11520640,"comment_id":15230663,"body_markdown":"I found a problem. I have such buttons placed on different tabs. When repaint() is called for them, they appear for some milliseconds as if they were all at the current tab.","body":"I found a problem. I have such buttons placed on different tabs. When repaint() is called for them, they appear for some milliseconds as if they were all at the current tab."},{"owner":{"account_id":1381887,"reputation":783,"user_id":1314695,"accept_rate":78,"display_name":"Natalia"},"score":0,"creation_date":1342594138,"post_id":11520640,"comment_id":15251267,"body_markdown":"Updated again. That code was generated for me by Netbeans, I&#39;m not good at it","body":"Updated again. That code was generated for me by Netbeans, I&#39;m not good at it"},{"owner":{"account_id":1381887,"reputation":783,"user_id":1314695,"accept_rate":78,"display_name":"Natalia"},"score":0,"creation_date":1342598092,"post_id":11520640,"comment_id":15252716,"body_markdown":"I&#39;ve expressed myself wrong. When I switch betweeb tabs everything goes right. But in my app when user start some process, I need to disable every buttons except one. When I do so, using makeDisable() method from above, buttons from all tabs appear on the screen for a little time.","body":"I&#39;ve expressed myself wrong. When I switch betweeb tabs everything goes right. But in my app when user start some process, I need to disable every buttons except one. When I do so, using makeDisable() method from above, buttons from all tabs appear on the screen for a little time."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1342655630,"post_id":11520640,"comment_id":15277752,"body_markdown":"I can&#39;t get your example code to work (the button is fine, but there&#39;s not enough of the form code for to regenerate working code)...Paste a smaller, complete example if you can.  I did a quick test and had not problems (simple two buttons on separate tabs)  Can you verify that the panels are actually JPanel&#39;s and not AWT Panel&#39;s","body":"I can&#39;t get your example code to work (the button is fine, but there&#39;s not enough of the form code for to regenerate working code)...Paste a smaller, complete example if you can.  I did a quick test and had not problems (simple two buttons on separate tabs)  Can you verify that the panels are actually JPanel&#39;s and not AWT Panel&#39;s"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":8,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1342593049,"creation_date":1342520986,"answer_id":11520640,"question_id":11520003,"body_markdown":"The main reason setText isn&#39;t working is because your painting over it\r\n\r\n    g.fillRect(0, 0, w, h);\r\n\r\nYou&#39;ll find that he ui is rendering the text in `super.paintComponent(g)` call, then you&#39;re painting over it\r\n\r\n**UPDATE**\r\n\r\nI used the following code to show some tabs and couldn&#39;t find anything wrong...\r\n\r\npackage test;\r\n\r\nimport java.awt.BorderLayout;\r\nimport java.awt.GridBagLayout;\r\nimport java.util.List;\r\nimport javax.swing.*;\r\nimport javax.swing.plaf.ColorUIResource;\r\n\r\npublic class TestButton {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tObject grad = UIManager.get(&quot;Button.gradient&quot;);\r\n\t\tList gradient;\r\n\t\tif (grad instanceof List) {\r\n\t\t\tgradient = (List) grad;\r\n\t\t\tSystem.out.println(gradient.get(0));\r\n\t\t\tSystem.out.println(gradient.get(1));\r\n\t\t\tSystem.out.println(gradient.get(2));\r\n\t\t\tSystem.out.println(gradient.get(3));\r\n\t\t\tSystem.out.println(gradient.get(4));\r\n\t\t\t//gradient.set(2, new ColorUIResource(221, 232, 243));//origal Color\r\n\t\t\t//gradient.set(2, new ColorUIResource(255, 255, 255));//origal Color\r\n\t\t\t//gradient.set(2, new ColorUIResource(184, 207, 229));//origal Color\r\n\t\t\tgradient.set(2, new ColorUIResource(190, 230, 240));\r\n\t\t\tgradient.set(3, new ColorUIResource(240, 240, 240));\r\n\t\t\tgradient.set(4, new ColorUIResource(180, 200, 220));\r\n\t\t\t//UIManager.put(&quot;Button.background&quot;, Color.pink);\r\n\t\t}\r\n\t\tSwingUtilities.invokeLater(new Runnable() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\tnew TestButton().makeUI();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tpublic void makeUI() {\r\n\t\tJButton button = new JButton(&quot;Click&quot;);\r\n\t\tJFrame frame = new JFrame();\r\n\t\tframe.setLayout(new BorderLayout());\r\n\t\t\r\n\t\tJTabbedPane tab = new JTabbedPane();\r\n\t\ttab.add(&quot;Help&quot;, createPane(1));\r\n\t\ttab.add(&quot;Help&quot;, createPane(2));\r\n\t\ttab.add(&quot;Help&quot;, createPane(3));\r\n\t\ttab.add(&quot;Help&quot;, createPane(4));\r\n\t\ttab.add(&quot;Help&quot;, createPane(5));\r\n\t\t\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.add(tab);\r\n\t\tframe.pack();\r\n\t\tframe.setLocationRelativeTo(null);\r\n\t\tframe.setVisible(true);\r\n\t}\r\n\t\r\n\tprotected JPanel createPane(int index) {\r\n\t\t\r\n\t\tJPanel panel = new JPanel(new GridBagLayout());\r\n\t\tpanel.add(new JButton(&quot;Hello &quot; + index));\r\n\t\t\r\n\t\treturn panel;\r\n\t\t\r\n\t}\r\n\t\r\n    }\r\n\r\n","title":"Custom JButton: setText doesn&#39;t have effect","body":"<p>The main reason setText isn't working is because your painting over it</p>\n\n<pre><code>g.fillRect(0, 0, w, h);\n</code></pre>\n\n<p>You'll find that he ui is rendering the text in <code>super.paintComponent(g)</code> call, then you're painting over it</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I used the following code to show some tabs and couldn't find anything wrong...</p>\n\n<p>package test;</p>\n\n<p>import java.awt.BorderLayout;\nimport java.awt.GridBagLayout;\nimport java.util.List;\nimport javax.swing.*;\nimport javax.swing.plaf.ColorUIResource;</p>\n\n<p>public class TestButton {</p>\n\n<pre><code>public static void main(String[] args) {\n    Object grad = UIManager.get(\"Button.gradient\");\n    List gradient;\n    if (grad instanceof List) {\n        gradient = (List) grad;\n        System.out.println(gradient.get(0));\n        System.out.println(gradient.get(1));\n        System.out.println(gradient.get(2));\n        System.out.println(gradient.get(3));\n        System.out.println(gradient.get(4));\n        //gradient.set(2, new ColorUIResource(221, 232, 243));//origal Color\n        //gradient.set(2, new ColorUIResource(255, 255, 255));//origal Color\n        //gradient.set(2, new ColorUIResource(184, 207, 229));//origal Color\n        gradient.set(2, new ColorUIResource(190, 230, 240));\n        gradient.set(3, new ColorUIResource(240, 240, 240));\n        gradient.set(4, new ColorUIResource(180, 200, 220));\n        //UIManager.put(\"Button.background\", Color.pink);\n    }\n    SwingUtilities.invokeLater(new Runnable() {\n\n        @Override\n        public void run() {\n            new TestButton().makeUI();\n        }\n    });\n}\n\npublic void makeUI() {\n    JButton button = new JButton(\"Click\");\n    JFrame frame = new JFrame();\n    frame.setLayout(new BorderLayout());\n\n    JTabbedPane tab = new JTabbedPane();\n    tab.add(\"Help\", createPane(1));\n    tab.add(\"Help\", createPane(2));\n    tab.add(\"Help\", createPane(3));\n    tab.add(\"Help\", createPane(4));\n    tab.add(\"Help\", createPane(5));\n\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.add(tab);\n    frame.pack();\n    frame.setLocationRelativeTo(null);\n    frame.setVisible(true);\n}\n\nprotected JPanel createPane(int index) {\n\n    JPanel panel = new JPanel(new GridBagLayout());\n    panel.add(new JButton(\"Hello \" + index));\n\n    return panel;\n\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18721194,"reputation":1,"user_id":13649001,"display_name":"Radouan El ouardi"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664976259,"creation_date":1664976259,"answer_id":73961056,"question_id":11520003,"body_markdown":"you should add a constructor with super(label).\r\n\r\n    public DarkGradientButton(String label) { super(label)}\r\n","title":"Custom JButton: setText doesn&#39;t have effect","body":"<p>you should add a constructor with super(label).</p>\n<pre><code>public DarkGradientButton(String label) { super(label)}\n</code></pre>\n"}],"owner":{"account_id":1381887,"reputation":783,"user_id":1314695,"accept_rate":78,"display_name":"Natalia"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1701,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":11520640,"answer_count":5,"score":1,"last_activity_date":1664976259,"creation_date":1342518567,"question_id":11520003,"body_markdown":"I have custom JButton class with gradient background and rounded corners. Should I override setText() or what should I do to display text upon it? setText(&quot;text&quot;) has no effect.\r\n\r\nUPD: I&#39;ve tried setContentAreaFilled(false), like MadProgrammer suggested, and it solved this problem, but another appeared. I have such buttons on different tabs, and when they are repainted, they appear for some milliseconds like they all were at the same tab. Updated code is here:\r\n\r\n\r\n    public class DarkGradientButton extends JButton {\r\n    private Color startColor = new Color(178, 178, 178);\r\n    private Color endColor = new Color(131, 131, 131);\r\n    \r\n    private Color disstartColor = new Color(252, 252, 252);\r\n    private Color disendColor = new Color(221, 221, 221);\r\n    \r\n    private Color enstartColor = new Color(178, 178, 178);\r\n    private Color enendColor = new Color(131, 131, 131);\r\n    \r\n    public DarkGradientButton(String text, ImageIcon ii) {\r\n        super(text, ii);\r\n        this.setContentAreaFilled(false);\r\n    }\r\n    \r\n    public DarkGradientButton() {\r\n        super();\r\n        this.setContentAreaFilled(false);\r\n    }\r\n    \r\n    @Override\r\n    protected void paintComponent( Graphics g )\r\n    {\r\n        g.setColor(new Color(246,250,245));        \r\n        int h = getHeight();\r\n        int w = getWidth();\r\n        GradientPaint gradientPaint = new GradientPaint( 0 , 0 , startColor , 0 , h , endColor );\r\n        int[] x = {0, 1, w-1, w, w,   w-1, w-2, 2,   1, 0};\r\n        int[] y = {1, 0, 0,   1, h-3, h-2, h-1, h-1, h-2, h-3};\r\n        Graphics2D graphics2D = (Graphics2D)g;\r\n        graphics2D.setPaint( gradientPaint );\r\n        graphics2D.fillPolygon(x, y, x.length);    \r\n        graphics2D.setColor(this.getForeground());\r\n        super.paintComponent( g );\r\n    }\r\n\r\n    \r\n    public void makeDisable() {\r\n        startColor = disstartColor;\r\n        endColor = disendColor;        \r\n        Graphics g = this.getGraphics();\r\n        paintComponent(g);\r\n        this.repaint();\r\n    }\r\n    \r\n    public void makeEnable() {\r\n        startColor = enstartColor;\r\n        endColor = enendColor;        \r\n        Graphics g = this.getGraphics();\r\n        paintComponent(g);\r\n        this.repaint();\r\n    }\r\n    }\r\n\r\n&lt;br&gt;\r\nButtons on tabs (that is what Netbeans generated for me):\r\n\r\n    callStartButton = new gui.DarkGradientButton(language[25], new ImageIcon(&quot;pic\\\\call-start.png&quot;));\r\n\r\n    callStartButton.setBorder(null);\r\n        callStartButton.setForeground(new java.awt.Color(255, 255, 255));\r\n        callStartButton.setFont(new java.awt.Font(&quot;Arial&quot;, 1, 12)); // NOI18N\r\n        callStartButton.setPreferredSize(new java.awt.Dimension(95, 23));\r\n        callStartButton.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                callStartButtonActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n\r\n    org.jdesktop.layout.GroupLayout callPanelLayout = new org.jdesktop.layout.GroupLayout(callPanel);\r\n        callPanel.setLayout(callPanelLayout);\r\n        callPanelLayout.setHorizontalGroup(\r\n            callPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\r\n            .add(callPanelLayout.createSequentialGroup()\r\n                .add(callPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\r\n                    .add(callPanelLayout.createSequentialGroup()\r\n                        .add(19, 19, 19)\r\n                        .add(callStartButton, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.UNRELATED)\r\n                        .add(callStopButton, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\r\n                    .add(callPanelLayout.createSequentialGroup()\r\n                        .addContainerGap()\r\n                        .add(numberLabel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 63, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.UNRELATED)\r\n                        .add(callPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\r\n                            .add(numberExampleLabel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 128, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                            .add(callPanelLayout.createSequentialGroup()\r\n                                .add(codeField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 47, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)\r\n                                .add(numberField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 89, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))))\r\n                    .add(callPanelLayout.createSequentialGroup()\r\n                        .add(25, 25, 25)\r\n                        .add(callProgressBar, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 190, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)))\r\n                .addContainerGap(14, Short.MAX_VALUE))\r\n        );\r\n\r\n\r\n    callPanelLayout.setVerticalGroup(\r\n            callPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\r\n            .add(callPanelLayout.createSequentialGroup()\r\n                .addContainerGap()\r\n                .add(callPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)\r\n                    .add(numberField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                    .add(codeField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                    .add(numberLabel))\r\n                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)\r\n                .add(numberExampleLabel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 14, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                .add(18, 18, 18)\r\n                .add(callPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)\r\n                    .add(callStartButton, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                    .add(callStopButton, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\r\n                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 8, Short.MAX_VALUE)\r\n                .add(callProgressBar, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                .add(13, 13, 13))\r\n        );\r\n\r\n    org.jdesktop.layout.GroupLayout testPanelLayout = new org.jdesktop.layout.GroupLayout(testPanel);\r\n        testPanel.setLayout(testPanelLayout);\r\n        testPanelLayout.setHorizontalGroup(\r\n            testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\r\n            .add(testPanelLayout.createSequentialGroup()\r\n                .add(8, 8, 8)\r\n                .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\r\n                    .add(testPanelLayout.createSequentialGroup()\r\n                        .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING, false)\r\n                            .add(ascii, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                            .add(jScrollPane2, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n                        .add(0, 0, 0)\r\n                        .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING, false)\r\n                            .add(hex, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                            .add(jScrollPane9)))\r\n                    .add(lightGradientPanel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                    .add(testPanelLayout.createSequentialGroup()\r\n                        .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\r\n                            .add(testPanelLayout.createSequentialGroup()\r\n                                .add(testManagementPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                                .add(0, 0, 0)\r\n                                .add(testResultPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\r\n                            .add(testPanelLayout.createSequentialGroup()\r\n                                .add(testModemHeaderPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                                .add(0, 0, 0)\r\n                                .add(testResultHeaderPanel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)))\r\n                        .add(0, 0, 0)\r\n                        .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\r\n                            .add(callHeaderPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                            .add(callPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))))\r\n                .addPreferredGap(org.jdesktop.layout.LayoutStyle.UNRELATED)\r\n                .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\r\n                    .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING, false)\r\n                        .add(modemModelPanel, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                        .add(modemHeaderPanel, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                        .add(modemModelHeaderPanel, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                        .add(modemParamsPanel, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n                    .add(simPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 240, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                    .add(testModemHeaderPanel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 240, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\r\n                .add(17, 17, Short.MAX_VALUE))\r\n            .add(testPanelLayout.createSequentialGroup()\r\n                .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\r\n                    .add(org.jdesktop.layout.GroupLayout.TRAILING, testPanelLayout.createSequentialGroup()\r\n                        .add(10, 10, 10)\r\n                        .add(userGuideButton5, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                        .add(irzLabel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 117, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\r\n                    .add(testPanelLayout.createSequentialGroup()\r\n                        .add(309, 309, 309)\r\n                        .add(saveASCIILogButton, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                        .add(0, 0, Short.MAX_VALUE)))\r\n                .addContainerGap())\r\n        );\r\n        testPanelLayout.setVerticalGroup(\r\n            testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\r\n            .add(testPanelLayout.createSequentialGroup()\r\n                .add(15, 15, 15)\r\n                .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING, false)\r\n                    .add(testPanelLayout.createSequentialGroup()\r\n                        .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\r\n                            .add(testModemHeaderPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                            .add(testResultHeaderPanel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                            .add(callHeaderPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\r\n                        .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)\r\n                            .add(testResultPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                            .add(testManagementPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                            .add(callPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\r\n                        .add(22, 22, 22)\r\n                        .add(lightGradientPanel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                        .add(0, 0, 0)\r\n                        .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)\r\n                            .add(jScrollPane2, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 271, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                            .add(jScrollPane9, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 271, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\r\n                        .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\r\n                            .add(hex, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                            .add(org.jdesktop.layout.GroupLayout.TRAILING, ascii, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)))\r\n                    .add(testPanelLayout.createSequentialGroup()\r\n                        .add(modemModelHeaderPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                        .add(0, 0, 0)\r\n                        .add(modemModelPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                        .add(0, 0, 0)\r\n                        .add(modemHeaderPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                        .add(0, 0, 0)\r\n                        .add(modemParamsPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                        .add(testModemHeaderPanel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                        .add(0, 0, 0)\r\n                        .add(simPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)))\r\n                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)\r\n                .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\r\n                    .add(testPanelLayout.createSequentialGroup()\r\n                        .add(saveASCIILogButton, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                        .add(userGuideButton5, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\r\n                    .add(org.jdesktop.layout.GroupLayout.TRAILING, testPanelLayout.createSequentialGroup()\r\n                        .add(0, 34, Short.MAX_VALUE)\r\n                        .add(irzLabel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 61, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                        .addContainerGap())))\r\n        );\r\n\r\n        jTabbedPane1.addTab(&quot;tab1&quot;, testPanel);\r\n\r\n    jLayeredPane1.add(jTabbedPane1, javax.swing.JLayeredPane.DEFAULT_LAYER);\r\n        jTabbedPane1.getAccessibleContext().setAccessibleName(&quot;&quot;);\r\n\r\n        getContentPane().add(jLayeredPane1, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 5, -1, 660));","title":"Custom JButton: setText doesn&#39;t have effect","body":"<p>I have custom JButton class with gradient background and rounded corners. Should I override setText() or what should I do to display text upon it? setText(\"text\") has no effect.</p>\n\n<p>UPD: I've tried setContentAreaFilled(false), like MadProgrammer suggested, and it solved this problem, but another appeared. I have such buttons on different tabs, and when they are repainted, they appear for some milliseconds like they all were at the same tab. Updated code is here:</p>\n\n<pre><code>public class DarkGradientButton extends JButton {\nprivate Color startColor = new Color(178, 178, 178);\nprivate Color endColor = new Color(131, 131, 131);\n\nprivate Color disstartColor = new Color(252, 252, 252);\nprivate Color disendColor = new Color(221, 221, 221);\n\nprivate Color enstartColor = new Color(178, 178, 178);\nprivate Color enendColor = new Color(131, 131, 131);\n\npublic DarkGradientButton(String text, ImageIcon ii) {\n    super(text, ii);\n    this.setContentAreaFilled(false);\n}\n\npublic DarkGradientButton() {\n    super();\n    this.setContentAreaFilled(false);\n}\n\n@Override\nprotected void paintComponent( Graphics g )\n{\n    g.setColor(new Color(246,250,245));        \n    int h = getHeight();\n    int w = getWidth();\n    GradientPaint gradientPaint = new GradientPaint( 0 , 0 , startColor , 0 , h , endColor );\n    int[] x = {0, 1, w-1, w, w,   w-1, w-2, 2,   1, 0};\n    int[] y = {1, 0, 0,   1, h-3, h-2, h-1, h-1, h-2, h-3};\n    Graphics2D graphics2D = (Graphics2D)g;\n    graphics2D.setPaint( gradientPaint );\n    graphics2D.fillPolygon(x, y, x.length);    \n    graphics2D.setColor(this.getForeground());\n    super.paintComponent( g );\n}\n\n\npublic void makeDisable() {\n    startColor = disstartColor;\n    endColor = disendColor;        \n    Graphics g = this.getGraphics();\n    paintComponent(g);\n    this.repaint();\n}\n\npublic void makeEnable() {\n    startColor = enstartColor;\n    endColor = enendColor;        \n    Graphics g = this.getGraphics();\n    paintComponent(g);\n    this.repaint();\n}\n}\n</code></pre>\n\n<p><br>\nButtons on tabs (that is what Netbeans generated for me):</p>\n\n<pre><code>callStartButton = new gui.DarkGradientButton(language[25], new ImageIcon(\"pic\\\\call-start.png\"));\n\ncallStartButton.setBorder(null);\n    callStartButton.setForeground(new java.awt.Color(255, 255, 255));\n    callStartButton.setFont(new java.awt.Font(\"Arial\", 1, 12)); // NOI18N\n    callStartButton.setPreferredSize(new java.awt.Dimension(95, 23));\n    callStartButton.addActionListener(new java.awt.event.ActionListener() {\n        public void actionPerformed(java.awt.event.ActionEvent evt) {\n            callStartButtonActionPerformed(evt);\n        }\n    });\n\n\norg.jdesktop.layout.GroupLayout callPanelLayout = new org.jdesktop.layout.GroupLayout(callPanel);\n    callPanel.setLayout(callPanelLayout);\n    callPanelLayout.setHorizontalGroup(\n        callPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\n        .add(callPanelLayout.createSequentialGroup()\n            .add(callPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\n                .add(callPanelLayout.createSequentialGroup()\n                    .add(19, 19, 19)\n                    .add(callStartButton, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                    .addPreferredGap(org.jdesktop.layout.LayoutStyle.UNRELATED)\n                    .add(callStopButton, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\n                .add(callPanelLayout.createSequentialGroup()\n                    .addContainerGap()\n                    .add(numberLabel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 63, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                    .addPreferredGap(org.jdesktop.layout.LayoutStyle.UNRELATED)\n                    .add(callPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\n                        .add(numberExampleLabel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 128, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                        .add(callPanelLayout.createSequentialGroup()\n                            .add(codeField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 47, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                            .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)\n                            .add(numberField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 89, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))))\n                .add(callPanelLayout.createSequentialGroup()\n                    .add(25, 25, 25)\n                    .add(callProgressBar, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 190, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)))\n            .addContainerGap(14, Short.MAX_VALUE))\n    );\n\n\ncallPanelLayout.setVerticalGroup(\n        callPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\n        .add(callPanelLayout.createSequentialGroup()\n            .addContainerGap()\n            .add(callPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)\n                .add(numberField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                .add(codeField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                .add(numberLabel))\n            .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)\n            .add(numberExampleLabel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 14, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n            .add(18, 18, 18)\n            .add(callPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)\n                .add(callStartButton, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                .add(callStopButton, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\n            .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 8, Short.MAX_VALUE)\n            .add(callProgressBar, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n            .add(13, 13, 13))\n    );\n\norg.jdesktop.layout.GroupLayout testPanelLayout = new org.jdesktop.layout.GroupLayout(testPanel);\n    testPanel.setLayout(testPanelLayout);\n    testPanelLayout.setHorizontalGroup(\n        testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\n        .add(testPanelLayout.createSequentialGroup()\n            .add(8, 8, 8)\n            .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\n                .add(testPanelLayout.createSequentialGroup()\n                    .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING, false)\n                        .add(ascii, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                        .add(jScrollPane2, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n                    .add(0, 0, 0)\n                    .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING, false)\n                        .add(hex, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                        .add(jScrollPane9)))\n                .add(lightGradientPanel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                .add(testPanelLayout.createSequentialGroup()\n                    .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\n                        .add(testPanelLayout.createSequentialGroup()\n                            .add(testManagementPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                            .add(0, 0, 0)\n                            .add(testResultPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\n                        .add(testPanelLayout.createSequentialGroup()\n                            .add(testModemHeaderPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                            .add(0, 0, 0)\n                            .add(testResultHeaderPanel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)))\n                    .add(0, 0, 0)\n                    .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\n                        .add(callHeaderPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                        .add(callPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))))\n            .addPreferredGap(org.jdesktop.layout.LayoutStyle.UNRELATED)\n            .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\n                .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING, false)\n                    .add(modemModelPanel, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                    .add(modemHeaderPanel, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                    .add(modemModelHeaderPanel, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                    .add(modemParamsPanel, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n                .add(simPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 240, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                .add(testModemHeaderPanel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 240, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\n            .add(17, 17, Short.MAX_VALUE))\n        .add(testPanelLayout.createSequentialGroup()\n            .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\n                .add(org.jdesktop.layout.GroupLayout.TRAILING, testPanelLayout.createSequentialGroup()\n                    .add(10, 10, 10)\n                    .add(userGuideButton5, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                    .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                    .add(irzLabel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 117, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\n                .add(testPanelLayout.createSequentialGroup()\n                    .add(309, 309, 309)\n                    .add(saveASCIILogButton, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                    .add(0, 0, Short.MAX_VALUE)))\n            .addContainerGap())\n    );\n    testPanelLayout.setVerticalGroup(\n        testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\n        .add(testPanelLayout.createSequentialGroup()\n            .add(15, 15, 15)\n            .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING, false)\n                .add(testPanelLayout.createSequentialGroup()\n                    .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\n                        .add(testModemHeaderPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                        .add(testResultHeaderPanel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                        .add(callHeaderPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\n                    .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)\n                        .add(testResultPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                        .add(testManagementPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                        .add(callPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\n                    .add(22, 22, 22)\n                    .add(lightGradientPanel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                    .add(0, 0, 0)\n                    .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)\n                        .add(jScrollPane2, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 271, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                        .add(jScrollPane9, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 271, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\n                    .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\n                        .add(hex, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                        .add(org.jdesktop.layout.GroupLayout.TRAILING, ascii, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)))\n                .add(testPanelLayout.createSequentialGroup()\n                    .add(modemModelHeaderPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                    .add(0, 0, 0)\n                    .add(modemModelPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                    .add(0, 0, 0)\n                    .add(modemHeaderPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                    .add(0, 0, 0)\n                    .add(modemParamsPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                    .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                    .add(testModemHeaderPanel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                    .add(0, 0, 0)\n                    .add(simPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)))\n            .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)\n            .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\n                .add(testPanelLayout.createSequentialGroup()\n                    .add(saveASCIILogButton, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                    .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                    .add(userGuideButton5, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\n                .add(org.jdesktop.layout.GroupLayout.TRAILING, testPanelLayout.createSequentialGroup()\n                    .add(0, 34, Short.MAX_VALUE)\n                    .add(irzLabel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 61, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                    .addContainerGap())))\n    );\n\n    jTabbedPane1.addTab(\"tab1\", testPanel);\n\njLayeredPane1.add(jTabbedPane1, javax.swing.JLayeredPane.DEFAULT_LAYER);\n    jTabbedPane1.getAccessibleContext().setAccessibleName(\"\");\n\n    getContentPane().add(jLayeredPane1, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 5, -1, 660));\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":1900128,"reputation":1273,"user_id":1716141,"accept_rate":65,"display_name":"Sathesh S"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664976131,"creation_date":1664976131,"answer_id":73961031,"question_id":73958700,"body_markdown":"I found the solution by changing Mono to Flux and subscribe.\r\n\r\n    public Flux&lt;ResponseEntity&lt;JsonNode[]&gt;&gt; featchData() {\r\n    \r\n    return webClientHelper.fetchItems(null).expand(response -&gt; {\r\n        List&lt;String&gt; headerValue = response.getHeaders().get(Constants.HEADER_ITEM_CURSOR);\r\n        if (headerValue == null || headerValue.isEmpty()) {\r\n            return Mono.empty();\r\n        }\r\n        return webClientHelper.fetchItems(headerValue.get(0));\r\n    });\r\n}\r\n\r\nIn the above code, I removed the last line `.flatMap(response -&gt; Flux.fromIterable(Arrays.asList(response.getBody()))).collectList()`\r\n\r\n\r\nAnd then in the calling method, Instead of collection to list I started directly processing the data.\r\n\r\n    public static void main(String[] args) {\r\n        featchData().subscribe( json -&gt; Arrays.stream(json.getBody()).sequential()\r\n                                      .forEach(item -&gt; System.out.println(item.getId())));\r\n\r\n    }\r\n\r\nPlease let me know if anyone sees any issue with the above implementation.","title":"Processing paged WebClient response without waiting and blocking for next page in a Flux","body":"<p>I found the solution by changing Mono to Flux and subscribe.</p>\n<pre><code>public Flux&lt;ResponseEntity&lt;JsonNode[]&gt;&gt; featchData() {\n\nreturn webClientHelper.fetchItems(null).expand(response -&gt; {\n    List&lt;String&gt; headerValue = response.getHeaders().get(Constants.HEADER_ITEM_CURSOR);\n    if (headerValue == null || headerValue.isEmpty()) {\n        return Mono.empty();\n    }\n    return webClientHelper.fetchItems(headerValue.get(0));\n});\n</code></pre>\n<p>}</p>\n<p>In the above code, I removed the last line <code>.flatMap(response -&gt; Flux.fromIterable(Arrays.asList(response.getBody()))).collectList()</code></p>\n<p>And then in the calling method, Instead of collection to list I started directly processing the data.</p>\n<pre><code>public static void main(String[] args) {\n    featchData().subscribe( json -&gt; Arrays.stream(json.getBody()).sequential()\n                                  .forEach(item -&gt; System.out.println(item.getId())));\n\n}\n</code></pre>\n<p>Please let me know if anyone sees any issue with the above implementation.</p>\n"}],"owner":{"account_id":1900128,"reputation":1273,"user_id":1716141,"accept_rate":65,"display_name":"Sathesh S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":620,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73961031,"answer_count":1,"score":0,"last_activity_date":1664976131,"creation_date":1664963683,"question_id":73958700,"body_markdown":"I have developed an application to fetch data from 3rd party site and process it. Data will be fetched in paginated way. Right now the implementation works fine as it collects all the data from all the pages and then creating a list out of it. Because of Memory issue we want to process the data as soon as it&#39;s available with/without blocking the next request. Below is my implementation.\r\n\r\n    public Mono&lt;List&lt;JsonNode&gt;&gt; featchData() {\r\n        \r\n        return webClientHelper.fetchItems(null).expand(response -&gt; {\r\n            List&lt;String&gt; headerValue = response.getHeaders().get(Constants.HEADER_ITEM_CURSOR);\r\n            if (headerValue == null || headerValue.isEmpty()) {\r\n                return Mono.empty();\r\n            }\r\n            return webClientHelper.fetchItems(headerValue.get(0));\r\n        }).flatMap(response -&gt; Flux.fromIterable(Arrays.asList(response.getBody()))).collectList();\r\n    }\r\n\r\nBelow is my web client helper method\r\n\r\n    public Mono&lt;ResponseEntity&lt;JsonNode[]&gt;&gt; fetchItems(String headerValue) {\r\n\r\n        return webFluxConfig.getWebClient().get()\r\n                             .uri(&quot;/orders/&quot;)\r\n                             .accept(MediaType.APPLICATION_JSON)\r\n                             .httpRequest(httpRequest -&gt; {\r\n                                 HttpClientRequest reactorRequest = httpRequest.getNativeRequest();\r\n                                 reactorRequest.responseTimeout(Duration.ofSeconds(5));\r\n                             })\r\n                             .header(HEADER_ITEM_CURSOR, headerValue)\r\n                             .retrieve()\r\n                             .onStatus(\r\n                                 status -&gt; status.value() == STATUS_CODE_401,\r\n                                 clientResponse -&gt; Mono.empty()\r\n                             )\r\n                             .onStatus(HttpStatus::is5xxServerError, response -&gt; Mono.error(\r\n                                 new ServerErrorException(&quot;Server error&quot;, response.rawStatusCode())))\r\n                             .toEntity(JsonNode[].class)\r\n                             .timeout(Duration.ofMillis(configuration.getBManagedTimeoutMilliseconds()))\r\n                             .retryWhen(Retry.backoff(3, Duration.ofSeconds(2))\r\n                                             .filter(ServerErrorException.class::isInstance)\r\n                                             .onRetryExhaustedThrow((retryBackoffSpec, retrySignal) -&gt; {\r\n                                                 throw new ServerErrorException(&quot;Failed to process after max retries&quot;,\r\n                                                                                HttpStatus.SERVICE_UNAVAILABLE.value());\r\n                                             }));\r\n    }\r\n\r\nReason why I&#39;m using JsonNode[] is, the response data will be array of dynamic attributes.\r\n\r\nNOTE: HEADER_ITEM_CURSOR will contain the data related to next set of results. We need to pass it in the next request, if the HEADER_ITEM_CURSOR is null then there is no more data for next request.\r\n\r\nSolution should be, as soon as the first page data is available it should be processed.\r\nCall to get the 2nd page data might/might not be blocked and once available it should be added to the list for processing.","title":"Processing paged WebClient response without waiting and blocking for next page in a Flux","body":"<p>I have developed an application to fetch data from 3rd party site and process it. Data will be fetched in paginated way. Right now the implementation works fine as it collects all the data from all the pages and then creating a list out of it. Because of Memory issue we want to process the data as soon as it's available with/without blocking the next request. Below is my implementation.</p>\n<pre><code>public Mono&lt;List&lt;JsonNode&gt;&gt; featchData() {\n    \n    return webClientHelper.fetchItems(null).expand(response -&gt; {\n        List&lt;String&gt; headerValue = response.getHeaders().get(Constants.HEADER_ITEM_CURSOR);\n        if (headerValue == null || headerValue.isEmpty()) {\n            return Mono.empty();\n        }\n        return webClientHelper.fetchItems(headerValue.get(0));\n    }).flatMap(response -&gt; Flux.fromIterable(Arrays.asList(response.getBody()))).collectList();\n}\n</code></pre>\n<p>Below is my web client helper method</p>\n<pre><code>public Mono&lt;ResponseEntity&lt;JsonNode[]&gt;&gt; fetchItems(String headerValue) {\n\n    return webFluxConfig.getWebClient().get()\n                         .uri(&quot;/orders/&quot;)\n                         .accept(MediaType.APPLICATION_JSON)\n                         .httpRequest(httpRequest -&gt; {\n                             HttpClientRequest reactorRequest = httpRequest.getNativeRequest();\n                             reactorRequest.responseTimeout(Duration.ofSeconds(5));\n                         })\n                         .header(HEADER_ITEM_CURSOR, headerValue)\n                         .retrieve()\n                         .onStatus(\n                             status -&gt; status.value() == STATUS_CODE_401,\n                             clientResponse -&gt; Mono.empty()\n                         )\n                         .onStatus(HttpStatus::is5xxServerError, response -&gt; Mono.error(\n                             new ServerErrorException(&quot;Server error&quot;, response.rawStatusCode())))\n                         .toEntity(JsonNode[].class)\n                         .timeout(Duration.ofMillis(configuration.getBManagedTimeoutMilliseconds()))\n                         .retryWhen(Retry.backoff(3, Duration.ofSeconds(2))\n                                         .filter(ServerErrorException.class::isInstance)\n                                         .onRetryExhaustedThrow((retryBackoffSpec, retrySignal) -&gt; {\n                                             throw new ServerErrorException(&quot;Failed to process after max retries&quot;,\n                                                                            HttpStatus.SERVICE_UNAVAILABLE.value());\n                                         }));\n}\n</code></pre>\n<p>Reason why I'm using JsonNode[] is, the response data will be array of dynamic attributes.</p>\n<p>NOTE: HEADER_ITEM_CURSOR will contain the data related to next set of results. We need to pass it in the next request, if the HEADER_ITEM_CURSOR is null then there is no more data for next request.</p>\n<p>Solution should be, as soon as the first page data is available it should be processed.\nCall to get the 2nd page data might/might not be blocked and once available it should be added to the list for processing.</p>\n"},{"tags":["java","javafx","game-development"],"comments":[{"owner":{"account_id":6795544,"reputation":1900,"user_id":5231001,"accept_rate":75,"display_name":"n247s"},"score":0,"creation_date":1664792968,"post_id":73933877,"comment_id":130545059,"body_markdown":"Not sure about the cause, and I cannot test atm. But if it fixes itself after a redraw, you can try to force an update by adding the following after you show the primary stage: `Platform.runLater(() -&gt; scene.getWindow().setWidth(scene.getWidth() + 0.001));`. This should be a last option though, as this usually means there is a flaw in the layout (or its implementation).","body":"Not sure about the cause, and I cannot test atm. But if it fixes itself after a redraw, you can try to force an update by adding the following after you show the primary stage: <code>Platform.runLater(() -&gt; scene.getWindow().setWidth(scene.getWidth() + 0.001));</code>. This should be a last option though, as this usually means there is a flaw in the layout (or its implementation)."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1664793362,"post_id":73933877,"comment_id":130545164,"body_markdown":"Create and post a [mre].","body":"Create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":26493980,"reputation":21,"user_id":20132022,"display_name":"Phylonias"},"score":0,"creation_date":1664793825,"post_id":73933877,"comment_id":130545266,"body_markdown":"@James_D I am on it","body":"@James_D I am on it"},{"owner":{"account_id":26493980,"reputation":21,"user_id":20132022,"display_name":"Phylonias"},"score":0,"creation_date":1664793872,"post_id":73933877,"comment_id":130545282,"body_markdown":"@n247s Thanks, if no better solution comes up I will definetly try this.","body":"@n247s Thanks, if no better solution comes up I will definetly try this."},{"owner":{"account_id":26493980,"reputation":21,"user_id":20132022,"display_name":"Phylonias"},"score":0,"creation_date":1664800573,"post_id":73933877,"comment_id":130547284,"body_markdown":"@James_D I just added a minimal reproducible example :)","body":"@James_D I just added a minimal reproducible example :)"},{"owner":{"account_id":26493980,"reputation":21,"user_id":20132022,"display_name":"Phylonias"},"score":0,"creation_date":1664800949,"post_id":73933877,"comment_id":130547420,"body_markdown":"@n247s This is not fixing it for me btw","body":"@n247s This is not fixing it for me btw"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1664801891,"post_id":73933877,"comment_id":130547737,"body_markdown":"Your mre works as expected for me. The blue pane and button both appear centered. (I am running on JDK18, not 17, but tested with both JavaFX 17 and 18. I&#39;d be surprised if that made a difference.) That said, the sizing of your window is pretty weird. First, do you really need to set the width and height if you&#39;re maximizing the window anyway? If you do, then you should use the JavaFX API to find the screen size; don&#39;t mix JavaFX and AWT unnecessarily.","body":"Your mre works as expected for me. The blue pane and button both appear centered. (I am running on JDK18, not 17, but tested with both JavaFX 17 and 18. I&#39;d be surprised if that made a difference.) That said, the sizing of your window is pretty weird. First, do you really need to set the width and height if you&#39;re maximizing the window anyway? If you do, then you should use the JavaFX API to find the screen size; don&#39;t mix JavaFX and AWT unnecessarily."},{"owner":{"account_id":26493980,"reputation":21,"user_id":20132022,"display_name":"Phylonias"},"score":0,"creation_date":1664802621,"post_id":73933877,"comment_id":130548023,"body_markdown":"@James_D For me if I don&#39;t set the width and height the second screen appears squished and very small in the top left corner of my screen. Also using the javafx API does not change the original problem for me. I am running it as a gradle project, could this maybe have something to do with that? I am also using javafx through gradle.","body":"@James_D For me if I don&#39;t set the width and height the second screen appears squished and very small in the top left corner of my screen. Also using the javafx API does not change the original problem for me. I am running it as a gradle project, could this maybe have something to do with that? I am also using javafx through gradle."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1664803563,"post_id":73933877,"comment_id":130548329,"body_markdown":"Strange. *&quot;I am running it as a gradle project, could this maybe have something to do with that?&quot;*. Not really, no. Gradle is just a build tool. I do see that if you remove the `setWidth(...)` and `setHeight(...)`, the second screen is set to the minimum size. I guess the `maximized` property is really held by the scene (not the stage). So that suggests two questions: 1. Do you actually need to create a new scene? Is it not enough just to replace the root of the existing scene? 2. If you do need to change the scene, does calling `setMaximized(true)` after changing scene fix the problem?","body":"Strange. <i>&quot;I am running it as a gradle project, could this maybe have something to do with that?&quot;</i>. Not really, no. Gradle is just a build tool. I do see that if you remove the <code>setWidth(...)</code> and <code>setHeight(...)</code>, the second screen is set to the minimum size. I guess the <code>maximized</code> property is really held by the scene (not the stage). So that suggests two questions: 1. Do you actually need to create a new scene? Is it not enough just to replace the root of the existing scene? 2. If you do need to change the scene, does calling <code>setMaximized(true)</code> after changing scene fix the problem?"},{"owner":{"account_id":26493980,"reputation":21,"user_id":20132022,"display_name":"Phylonias"},"score":0,"creation_date":1664804622,"post_id":73933877,"comment_id":130548723,"body_markdown":"@James_D Calling `setMaximized(true)` again after changing the scene does not change anything. I have a main menu and the game screen, that&#39;s why I created a new Scene. However just changing the root of the &quot;main menu scene&quot; to the root of the &quot;game screen&quot; fixes the problem for me. Thank you so much!","body":"@James_D Calling <code>setMaximized(true)</code> again after changing the scene does not change anything. I have a main menu and the game screen, that&#39;s why I created a new Scene. However just changing the root of the &quot;main menu scene&quot; to the root of the &quot;game screen&quot; fixes the problem for me. Thank you so much!"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1664812831,"post_id":73933877,"comment_id":130551598,"body_markdown":"You can [answer your own question](http://meta.stackoverflow.com/q/17463/163188); a revised [mre] focusing on the problem is typically welcome.","body":"You can <a href=\"http://meta.stackoverflow.com/q/17463/163188\">answer your own question</a>; a revised <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> focusing on the problem is typically welcome."}],"answers":[{"tags":[],"owner":{"account_id":26493980,"reputation":21,"user_id":20132022,"display_name":"Phylonias"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664976099,"creation_date":1664976099,"answer_id":73961026,"question_id":73933877,"body_markdown":"My problem was resolved by changing the root of the scene I was using and not create a new scene everytime I switch the layout (e.g. from main menu to the game screen).","title":"JavaFX - BorderPane is not centered in scene/stage","body":"<p>My problem was resolved by changing the root of the scene I was using and not create a new scene everytime I switch the layout (e.g. from main menu to the game screen).</p>\n"}],"owner":{"account_id":26493980,"reputation":21,"user_id":20132022,"display_name":"Phylonias"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73961026,"answer_count":1,"score":1,"last_activity_date":1664976099,"creation_date":1664791557,"question_id":73933877,"body_markdown":"I am currently coding a board game and I am using java and for GUI purposes javaFX. The game requires for a map (the game board) to be in the middle of the screen and various options and additional information to be around it. My idea was to have a BorderPane where the center node is the game board and top, bottom etc are the additional options.\r\n\r\nMy problem is that upon starting the App the BorderPane is not centered in the stage but is slightly extended to the right and botton, where it is not visible. Thus my bottom Node can&#39;t be seen. Strangely if I minimize the window and maximize it again everything is where it should be and perfectly inside the bounds of the stage.\r\n\r\n[The application before minimizing and maximizing again][1]\r\n\r\n[And afterwards (The way it should look like from the beginning)][2]\r\n\r\nMy center Node is a normal Pane. Also I do stage.setMaximize(true). So the window is already maximized upon starting the application and it should not make a difference to minimze and maximize again.\r\n\r\nThe code for this scene essentially boils down to this:\r\n\r\n```\r\n@Override\r\n    public void start(Stage stage) throws Exception {\r\n        this.stage = stage;\r\n\r\n        Pane pane = createGameBoard();\r\n        pane.setId(&quot;mapPane&quot;);\r\n\r\n        Button button = new Button(&quot;Save&quot;);\r\n\r\n        VBox box = new VBox(0, button);\r\n        box.setAlignment(Pos.CENTER);\r\n\r\n        Label label = new Label(&quot;Bottom&quot;);\r\n        label.setPrefHeight(20);\r\n\r\n        BorderPane borderPane = new BorderPane();\r\n        borderPane.setTop(top);\r\n        borderPane.setBottom(bottom);\r\n        borderPane.setCenter(center);\r\n        borderPane.setPadding(new Insets(10));\r\n\r\n        Scene scene = new Scene(borderPane);\r\n        \r\n        scene.getStylesheets().add(Objects.requireNonNull(MainGUI.class.getResource(&quot;/game.css&quot;)).toString());\r\n\r\n        stage.setScene(scene);\r\n    }\r\n```\r\n\r\nThe game.css stylesheet only sets a background colour at the moment.\r\nI am using: Java 17, JavaFX 17.\r\n\r\nIf you need any further information I am happy to provide it :)\r\n\r\nThanks!\r\n\r\n\r\n**Edit:**\r\nTo reproduce my problem run this code. The issue should appear once you click on the button &quot;Next Screen&quot;.\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Insets;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.scene.shape.Circle;\r\nimport javafx.stage.Stage;\r\n\r\npublic class App extends Application {\r\n\r\n\tprivate Stage stage;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n\r\n\t@Override\r\n    public void start(Stage stage) throws Exception {\r\n\t\tthis.stage = stage;\r\n        stage.setTitle(&quot;App&quot;);\r\n        stage.setMinHeight(600);\r\n        stage.setMinWidth(800);\r\n        stage.setWidth(java.awt.Toolkit.getDefaultToolkit().getScreenSize().getWidth());\r\n        stage.setHeight(java.awt.Toolkit.getDefaultToolkit().getScreenSize().getHeight());\r\n        stage.setMaximized(true);\r\n        stage.setOnCloseRequest(e -&gt; System.exit(0));\r\n\r\n\t\tButton button = new Button(&quot;Next Screen&quot;);\r\n\t\tbutton.setOnAction(e -&gt; {gameScreen();});\r\n\r\n\t\tBorderPane borderPane = new BorderPane();\r\n\t\tborderPane.setCenter(button);\r\n\t\t\r\n\t\tScene scene = new Scene(borderPane);\r\n\r\n\t\tstage.setScene(scene);\r\n\r\n        stage.show();\r\n    }\r\n\r\n\tprivate void gameScreen() {\r\n\t\tCircle circle = new Circle(0, 0, 4);\r\n        Pane pane = new Pane(circle);\r\n\t\tpane.setStyle(&quot;-fx-background-color: #00c3ff&quot;);\r\n\r\n        Button button = new Button(&quot;Top&quot;);\r\n        VBox vBox = new VBox(0, button);\r\n        vBox.setAlignment(Pos.CENTER);\r\n\r\n        Label label = new Label(&quot;Bottom&quot;);\r\n\r\n        BorderPane borderPane = new BorderPane();\r\n        borderPane.setTop(vBox);\r\n        borderPane.setCenter(pane);\r\n        borderPane.setBottom(label);\r\n\t\tborderPane.setPadding(new Insets(10));\r\n\r\n        Scene scene = new Scene(borderPane);\r\n\r\n        stage.setScene(scene);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UbCri.png\r\n  [2]: https://i.stack.imgur.com/ZQmDK.png","title":"JavaFX - BorderPane is not centered in scene/stage","body":"<p>I am currently coding a board game and I am using java and for GUI purposes javaFX. The game requires for a map (the game board) to be in the middle of the screen and various options and additional information to be around it. My idea was to have a BorderPane where the center node is the game board and top, bottom etc are the additional options.</p>\n<p>My problem is that upon starting the App the BorderPane is not centered in the stage but is slightly extended to the right and botton, where it is not visible. Thus my bottom Node can't be seen. Strangely if I minimize the window and maximize it again everything is where it should be and perfectly inside the bounds of the stage.</p>\n<p><a href=\"https://i.stack.imgur.com/UbCri.png\" rel=\"nofollow noreferrer\">The application before minimizing and maximizing again</a></p>\n<p><a href=\"https://i.stack.imgur.com/ZQmDK.png\" rel=\"nofollow noreferrer\">And afterwards (The way it should look like from the beginning)</a></p>\n<p>My center Node is a normal Pane. Also I do stage.setMaximize(true). So the window is already maximized upon starting the application and it should not make a difference to minimze and maximize again.</p>\n<p>The code for this scene essentially boils down to this:</p>\n<pre><code>@Override\n    public void start(Stage stage) throws Exception {\n        this.stage = stage;\n\n        Pane pane = createGameBoard();\n        pane.setId(&quot;mapPane&quot;);\n\n        Button button = new Button(&quot;Save&quot;);\n\n        VBox box = new VBox(0, button);\n        box.setAlignment(Pos.CENTER);\n\n        Label label = new Label(&quot;Bottom&quot;);\n        label.setPrefHeight(20);\n\n        BorderPane borderPane = new BorderPane();\n        borderPane.setTop(top);\n        borderPane.setBottom(bottom);\n        borderPane.setCenter(center);\n        borderPane.setPadding(new Insets(10));\n\n        Scene scene = new Scene(borderPane);\n        \n        scene.getStylesheets().add(Objects.requireNonNull(MainGUI.class.getResource(&quot;/game.css&quot;)).toString());\n\n        stage.setScene(scene);\n    }\n</code></pre>\n<p>The game.css stylesheet only sets a background colour at the moment.\nI am using: Java 17, JavaFX 17.</p>\n<p>If you need any further information I am happy to provide it :)</p>\n<p>Thanks!</p>\n<p><strong>Edit:</strong>\nTo reproduce my problem run this code. The issue should appear once you click on the button &quot;Next Screen&quot;.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.shape.Circle;\nimport javafx.stage.Stage;\n\npublic class App extends Application {\n\n    private Stage stage;\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        this.stage = stage;\n        stage.setTitle(&quot;App&quot;);\n        stage.setMinHeight(600);\n        stage.setMinWidth(800);\n        stage.setWidth(java.awt.Toolkit.getDefaultToolkit().getScreenSize().getWidth());\n        stage.setHeight(java.awt.Toolkit.getDefaultToolkit().getScreenSize().getHeight());\n        stage.setMaximized(true);\n        stage.setOnCloseRequest(e -&gt; System.exit(0));\n\n        Button button = new Button(&quot;Next Screen&quot;);\n        button.setOnAction(e -&gt; {gameScreen();});\n\n        BorderPane borderPane = new BorderPane();\n        borderPane.setCenter(button);\n        \n        Scene scene = new Scene(borderPane);\n\n        stage.setScene(scene);\n\n        stage.show();\n    }\n\n    private void gameScreen() {\n        Circle circle = new Circle(0, 0, 4);\n        Pane pane = new Pane(circle);\n        pane.setStyle(&quot;-fx-background-color: #00c3ff&quot;);\n\n        Button button = new Button(&quot;Top&quot;);\n        VBox vBox = new VBox(0, button);\n        vBox.setAlignment(Pos.CENTER);\n\n        Label label = new Label(&quot;Bottom&quot;);\n\n        BorderPane borderPane = new BorderPane();\n        borderPane.setTop(vBox);\n        borderPane.setCenter(pane);\n        borderPane.setBottom(label);\n        borderPane.setPadding(new Insets(10));\n\n        Scene scene = new Scene(borderPane);\n\n        stage.setScene(scene);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","pdf","printing","pdfbox","fontbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1664978792,"post_id":73960056,"comment_id":130592352,"body_markdown":"Yes remove the 0000. This isn&#39;t a character. Check your input.","body":"Yes remove the 0000. This isn&#39;t a character. Check your input."},{"owner":{"account_id":10222558,"reputation":1,"user_id":7546297,"display_name":"Vieckov"},"score":0,"creation_date":1664984800,"post_id":73960056,"comment_id":130594755,"body_markdown":"I don&#39;t have this sign in input file. Should I make some replaceAll(); in matcher? Existing one is: `private static final Pattern nonAsciiPattern = Pattern.compile(&quot;[^\\u0000-\\u00ff]&quot;);`","body":"I don&#39;t have this sign in input file. Should I make some replaceAll(); in matcher? Existing one is: <code>private static final Pattern nonAsciiPattern = Pattern.compile(&quot;[^\\u0000-\\u00ff]&quot;);</code>"},{"owner":{"account_id":10222558,"reputation":1,"user_id":7546297,"display_name":"Vieckov"},"score":0,"creation_date":1664988279,"post_id":73960056,"comment_id":130595929,"body_markdown":"I put the ascii control codes in tempMap: `            tempMap.put(&quot;\\u0000&quot;, &quot;&quot;); // null\n            tempMap.put(&quot;\\u0001&quot;, &quot;&quot;); // Start of Heading\n            tempMap.put(&quot;\\u0002&quot;, &quot;&quot;); // Start of Text\n            tempMap.put(&quot;\\u0003&quot;, &quot;&quot;); // End of Text\n            tempMap.put(&quot;\\u0004&quot;, &quot;&quot;); // End of Transmission\n            tempMap.put(&quot;\\u0005&quot;, &quot;&quot;); // Enquiry\n            tempMap.put(&quot;\\u0006&quot;, &quot;&quot;); // Acknowledgement\n            tempMap.put(&quot;\\u0007&quot;, &quot;&quot;); // Bell\n            tempMap.put(&quot;\\u0008&quot;, &quot;&quot;); // Backspace` but without changes. Still the same error.","body":"I put the ascii control codes in tempMap: `            tempMap.put(&quot;\\u0000&quot;, &quot;&quot;); // null             tempMap.put(&quot;\\u0001&quot;, &quot;&quot;); // Start of Heading             tempMap.put(&quot;\\u0002&quot;, &quot;&quot;); // Start of Text             tempMap.put(&quot;\\u0003&quot;, &quot;&quot;); // End of Text             tempMap.put(&quot;\\u0004&quot;, &quot;&quot;); // End of Transmission             tempMap.put(&quot;\\u0005&quot;, &quot;&quot;); // Enquiry             tempMap.put(&quot;\\u0006&quot;, &quot;&quot;); // Acknowledgement             tempMap.put(&quot;\\u0007&quot;, &quot;&quot;); // Bell             tempMap.put(&quot;\\u0008&quot;, &quot;&quot;); // Backspace` but without changes. Still the same error."},{"owner":{"account_id":10222558,"reputation":1,"user_id":7546297,"display_name":"Vieckov"},"score":0,"creation_date":1664995660,"post_id":73960056,"comment_id":130598241,"body_markdown":"It is solved after pattern change to: `Pattern.compile(&quot;-[\\\\u0080-\\\\u00FF]&quot;);` Topic closed","body":"It is solved after pattern change to: <code>Pattern.compile(&quot;-[\\\\u0080-\\\\u00FF]&quot;);</code> Topic closed"}],"owner":{"account_id":10222558,"reputation":1,"user_id":7546297,"display_name":"Vieckov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664976046,"creation_date":1664971402,"question_id":73960056,"body_markdown":"I&#39;ve been struggling with one problem for 3 days, I don&#39;t know what to do next. After updating pdfbox from version 1.8.8 to version 2.0.26 there was an exception when trying to print pdf. It is not present in all scenarios, but in some.\r\n\r\nHere is the code:\r\n\r\n    private static void addFooterText(PDPageContentStream contentStream, PdfProperties.AwFuer gesellschaftVon, PdfProperties.AwFuer gesellschaftFuer, PdfDocType docType) throws IOException {\r\n        PDFont font = PDType1Font.HELVETICA;\r\n        contentStream.beginText();\r\n        contentStream.setFont(font, 6);\r\n        contentStream.newLineAtOffset(225, 24);\r\n        String docTypeKsu = getKsuDocType(docType);\r\n        if (!TextConstants.AUDI_BESTELLUNG.equals(docTypeKsu)) {\r\n            String gkzFuer = gesellschaftFuer.getGesellschaftFuer();\r\n            String gkzVon = gesellschaftVon.getGesellschaftFuer();\r\n            String ksuString = KsuTextFrontEnd.getKsuText(docTypeKsu, gkzVon, gkzFuer); // CR819\r\n    \t\tcontentStream.showText(ksuString); // CR819\r\n        }\r\n    }\r\n\r\n    private static void addFooterTextFinal(PDPageContentStream contentStream, PdfProperties.AwFuer gesellschaftVon, PdfProperties.AwFuer gesellschaftFuer, PdfDocType docType) throws IOException {\r\n        PDFont font = PDType1Font.HELVETICA;\r\n        contentStream.beginText();\r\n        contentStream.setFont(font, 6);\r\n        contentStream.newLineAtOffset(225, 24);\r\n        String docTypeKsu = getKsuDocType(docType);\r\n        String gkzFuer = gesellschaftFuer.getGesellschaftFuer();\r\n        String gkzVon = gesellschaftVon.getGesellschaftFuer();\r\n        String ksuString = KsuTextFrontEnd.getKsuText(docTypeKsu, gkzVon, gkzFuer);\r\n\t\tcontentStream.showText(ksuString);\r\n    }\r\n\r\nAnd another file:\r\n\r\npublic void create(Map&lt;?, ?&gt; hashmap, OutputStream out, String FormularName)\r\n            throws PdfException {\r\n\r\n        PDDocument pdf = null;\r\n        try {\r\n            pdf = PDDocument.load(new File(FormularName));\r\n\r\n            PDDocumentCatalog docCatalog = pdf.getDocumentCatalog();\r\n            PDAcroForm acroForm = docCatalog.getAcroForm();\r\n\r\n            List&lt;?&gt; fields = acroForm.getFields();\r\n            Iterator&lt;?&gt; fieldsIter = fields.iterator();\r\n\r\n            while (fieldsIter.hasNext()) {\r\n                PDField field = (PDField) fieldsIter.next();\r\n                String value = field.getPartialName().toString();\r\n                if (hashmap.containsKey(value)) {\r\n                    field.setValue((String) hashmap.get(value));\r\n                } else {\r\n                    continue;\r\n                }\r\n            }\r\n\r\n            try {\r\n                pdf.save(out);\r\n            } catch (IOException e) {\r\n                LOGGER.error(e);\r\n                throw new PdfException(e.getMessage());\r\n            }\r\n        } catch (IOException e2) {\r\n            LOGGER.error(e2);\r\n            throw new PdfException(e2.getMessage());\r\n        } finally {\r\n            if (pdf != null) {\r\n                try {\r\n                    pdf.close();\r\n                } catch (IOException e) {\r\n                    LOGGER.error(e);\r\n                }\r\n            }\r\n        }\r\n\r\nI tried to change version of fontbox / pdfbox. I don&#39;t know what to do else. Probably U+0000 is null value. Should I somehow avoid this sign. There were no exception in version 1.8.8\r\n\r\nStacktrace in browser:\r\n```\r\nException type: class javax.ejb.EJBException\r\nException message: javax.servlet.ServletException: See nested exception&amp;#59; nested exception is: java.lang.IllegalArgumentException: U&amp;#43;0000 is not available in this font&amp;#39;s encoding: WinAnsiEncoding\r\nUser agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36\r\nStack trace:\r\njavax.servlet.ServletException: See nested exception; nested exception is: java.lang.IllegalArgumentException: U+0000 is not available in this font&#39;s encoding: WinAnsiEncoding\r\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:606)\r\n\tat com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1290)\r\n\tat com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:778)\r\n\tat com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:475)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.invokeTarget(WebAppFilterChain.java:152)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:94)\r\n\tat org.primefaces.webapp.filter.FileUploadFilter.doFilter(FileUploadFilter.java:111)\r\n\tat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:207)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\r\n\tat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:207)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\r\n\tat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:207)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\r\n\tat\r\ncom.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:207)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\r\n\tat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:207)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\r\n\tat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:207)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\r\n\tat org.apache.logging.log4j.web.Log4jServletFilter.doFilter(Log4jServletFilter.java:71)\r\n\tat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:207)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterManager.doFilter(WebAppFilterManager.java:1021)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilters(WebAppFilterManager.java:1143)\r\n\tat com.ibm.ws.webcontainer.servlet.CacheServletWrapper.handleRequest(CacheServletWrapper.java:82)\r\n\tat com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:956)\r\n\tat com.ibm.ws.webcontainer.osgi.DynamicVirtualHost$2.run(DynamicVirtualHost.java:280)\r\n\tat com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink$TaskWrapper.run(HttpDispatcherLink.java:967)\r\n\tat com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink.wrapHandlerAndExecute(HttpDispatcherLink.java:359)\r\n\tat com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink.ready(HttpDispatcherLink.java:318)\r\n\tat com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:471)\r\n\tat com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.handleNewRequest(HttpInboundLink.java:405)\r\n\tat com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.processRequest(HttpInboundLink.java:285)\r\n\tat com.ibm.ws.http.channel.internal.inbound.HttpICLReadCallback.complete(HttpICLReadCallback.java:66)\r\n\tat com.ibm.ws.tcpchannel.internal.WorkQueueManager.requestComplete(WorkQueueManager.java:504)\r\n\tat com.ibm.ws.tcpchannel.internal.WorkQueueManager.attemptIO(WorkQueueManager.java:574)\r\n\tat com.ibm.ws.tcpchannel.internal.WorkQueueManager.workerRun(WorkQueueManager.java:929)\r\n\tat com.ibm.ws.tcpchannel.internal.WorkQueueManager$Worker.run(WorkQueueManager.java:1018)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```","title":"PDFBOX: java.lang.IllegalArgumentException: U+0000 is not available in this font&#39;s encoding: WinAnsiEncoding","body":"<p>I've been struggling with one problem for 3 days, I don't know what to do next. After updating pdfbox from version 1.8.8 to version 2.0.26 there was an exception when trying to print pdf. It is not present in all scenarios, but in some.</p>\n<p>Here is the code:</p>\n<pre><code>private static void addFooterText(PDPageContentStream contentStream, PdfProperties.AwFuer gesellschaftVon, PdfProperties.AwFuer gesellschaftFuer, PdfDocType docType) throws IOException {\n    PDFont font = PDType1Font.HELVETICA;\n    contentStream.beginText();\n    contentStream.setFont(font, 6);\n    contentStream.newLineAtOffset(225, 24);\n    String docTypeKsu = getKsuDocType(docType);\n    if (!TextConstants.AUDI_BESTELLUNG.equals(docTypeKsu)) {\n        String gkzFuer = gesellschaftFuer.getGesellschaftFuer();\n        String gkzVon = gesellschaftVon.getGesellschaftFuer();\n        String ksuString = KsuTextFrontEnd.getKsuText(docTypeKsu, gkzVon, gkzFuer); // CR819\n        contentStream.showText(ksuString); // CR819\n    }\n}\n\nprivate static void addFooterTextFinal(PDPageContentStream contentStream, PdfProperties.AwFuer gesellschaftVon, PdfProperties.AwFuer gesellschaftFuer, PdfDocType docType) throws IOException {\n    PDFont font = PDType1Font.HELVETICA;\n    contentStream.beginText();\n    contentStream.setFont(font, 6);\n    contentStream.newLineAtOffset(225, 24);\n    String docTypeKsu = getKsuDocType(docType);\n    String gkzFuer = gesellschaftFuer.getGesellschaftFuer();\n    String gkzVon = gesellschaftVon.getGesellschaftFuer();\n    String ksuString = KsuTextFrontEnd.getKsuText(docTypeKsu, gkzVon, gkzFuer);\n    contentStream.showText(ksuString);\n}\n</code></pre>\n<p>And another file:</p>\n<p>public void create(Map hashmap, OutputStream out, String FormularName)\nthrows PdfException {</p>\n<pre><code>    PDDocument pdf = null;\n    try {\n        pdf = PDDocument.load(new File(FormularName));\n\n        PDDocumentCatalog docCatalog = pdf.getDocumentCatalog();\n        PDAcroForm acroForm = docCatalog.getAcroForm();\n\n        List&lt;?&gt; fields = acroForm.getFields();\n        Iterator&lt;?&gt; fieldsIter = fields.iterator();\n\n        while (fieldsIter.hasNext()) {\n            PDField field = (PDField) fieldsIter.next();\n            String value = field.getPartialName().toString();\n            if (hashmap.containsKey(value)) {\n                field.setValue((String) hashmap.get(value));\n            } else {\n                continue;\n            }\n        }\n\n        try {\n            pdf.save(out);\n        } catch (IOException e) {\n            LOGGER.error(e);\n            throw new PdfException(e.getMessage());\n        }\n    } catch (IOException e2) {\n        LOGGER.error(e2);\n        throw new PdfException(e2.getMessage());\n    } finally {\n        if (pdf != null) {\n            try {\n                pdf.close();\n            } catch (IOException e) {\n                LOGGER.error(e);\n            }\n        }\n    }\n</code></pre>\n<p>I tried to change version of fontbox / pdfbox. I don't know what to do else. Probably U+0000 is null value. Should I somehow avoid this sign. There were no exception in version 1.8.8</p>\n<p>Stacktrace in browser:</p>\n<pre><code>Exception type: class javax.ejb.EJBException\nException message: javax.servlet.ServletException: See nested exception&amp;#59; nested exception is: java.lang.IllegalArgumentException: U&amp;#43;0000 is not available in this font&amp;#39;s encoding: WinAnsiEncoding\nUser agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36\nStack trace:\njavax.servlet.ServletException: See nested exception; nested exception is: java.lang.IllegalArgumentException: U+0000 is not available in this font's encoding: WinAnsiEncoding\n    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:606)\n    at com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1290)\n    at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:778)\n    at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:475)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterChain.invokeTarget(WebAppFilterChain.java:152)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:94)\n    at org.primefaces.webapp.filter.FileUploadFilter.doFilter(FileUploadFilter.java:111)\n    at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:207)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\n    at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:207)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\n    at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:207)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\n    at\ncom.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:207)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\n    at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:207)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\n    at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:207)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\n    at org.apache.logging.log4j.web.Log4jServletFilter.doFilter(Log4jServletFilter.java:71)\n    at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:207)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterManager.doFilter(WebAppFilterManager.java:1021)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilters(WebAppFilterManager.java:1143)\n    at com.ibm.ws.webcontainer.servlet.CacheServletWrapper.handleRequest(CacheServletWrapper.java:82)\n    at com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:956)\n    at com.ibm.ws.webcontainer.osgi.DynamicVirtualHost$2.run(DynamicVirtualHost.java:280)\n    at com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink$TaskWrapper.run(HttpDispatcherLink.java:967)\n    at com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink.wrapHandlerAndExecute(HttpDispatcherLink.java:359)\n    at com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink.ready(HttpDispatcherLink.java:318)\n    at com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:471)\n    at com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.handleNewRequest(HttpInboundLink.java:405)\n    at com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.processRequest(HttpInboundLink.java:285)\n    at com.ibm.ws.http.channel.internal.inbound.HttpICLReadCallback.complete(HttpICLReadCallback.java:66)\n    at com.ibm.ws.tcpchannel.internal.WorkQueueManager.requestComplete(WorkQueueManager.java:504)\n    at com.ibm.ws.tcpchannel.internal.WorkQueueManager.attemptIO(WorkQueueManager.java:574)\n    at com.ibm.ws.tcpchannel.internal.WorkQueueManager.workerRun(WorkQueueManager.java:929)\n    at com.ibm.ws.tcpchannel.internal.WorkQueueManager$Worker.run(WorkQueueManager.java:1018)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n"},{"tags":["java","arrays","enums"],"comments":[{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":5,"creation_date":1444715754,"post_id":33095100,"comment_id":54005976,"body_markdown":"You mean ensure the values of the array cannot be changed? You will need to encapsulate the array in an object that prevents mutation but allows access by index via getter method","body":"You mean ensure the values of the array cannot be changed? You will need to encapsulate the array in an object that prevents mutation but allows access by index via getter method"},{"owner":{"account_id":4250160,"reputation":319,"user_id":3477487,"accept_rate":33,"display_name":"Athanasios V."},"score":0,"creation_date":1444715925,"post_id":33095100,"comment_id":54006052,"body_markdown":"I mean the array components be constants i.e. a[0] be a constant variable like this public static final int SIZE = 10;","body":"I mean the array components be constants i.e. a[0] be a constant variable like this public static final int SIZE = 10;"},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":2,"creation_date":1444715968,"post_id":33095100,"comment_id":54006077,"body_markdown":"I&#39;m not sure what you mean. You want to give the array indexes names?","body":"I&#39;m not sure what you mean. You want to give the array indexes names?"},{"owner":{"account_id":4250160,"reputation":319,"user_id":3477487,"accept_rate":33,"display_name":"Athanasios V."},"score":0,"creation_date":1444716516,"post_id":33095100,"comment_id":54006337,"body_markdown":"@Vince Emigh Your answer before makes sense to me.","body":"@Vince Emigh Your answer before makes sense to me."},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1444717065,"post_id":33095100,"comment_id":54006560,"body_markdown":"What answer? The only answer I have is [down below](http://stackoverflow.com/a/33095247/2398375), which you can kindly choose as accepted answer if it helped with your issue :) Unless you&#39;re referring to my comment, which in that case my answer includes that info (with examples), and you should check it out","body":"What answer? The only answer I have is <a href=\"http://stackoverflow.com/a/33095247/2398375\">down below</a>, which you can kindly choose as accepted answer if it helped with your issue :) Unless you&#39;re referring to my comment, which in that case my answer includes that info (with examples), and you should check it out"},{"owner":{"account_id":2785683,"reputation":2653,"user_id":2397162,"accept_rate":61,"display_name":"niceman"},"score":0,"creation_date":1464449698,"post_id":33095100,"comment_id":62496516,"body_markdown":"I think there are Immutable Collections in java, but not arrays unfortunately","body":"I think there are Immutable Collections in java, but not arrays unfortunately"}],"answers":[{"tags":[],"owner":{"account_id":4435760,"reputation":4170,"user_id":3611648,"accept_rate":80,"display_name":"Mustafa sabir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444716178,"creation_date":1444716178,"answer_id":33095222,"question_id":33095100,"body_markdown":"-If you know the values before-hand, initialize the array values and mark that array as `final`.\r\n\r\n-If you don&#39;t know the values initially then write public getter/setters methods and declare the array as `private`. Write logic in setter method to discard changes once done on a particular element (or throw an exception upon multiple changes to the same element)","title":"Java array of constants","body":"<p>-If you know the values before-hand, initialize the array values and mark that array as <code>final</code>.</p>\n\n<p>-If you don't know the values initially then write public getter/setters methods and declare the array as <code>private</code>. Write logic in setter method to discard changes once done on a particular element (or throw an exception upon multiple changes to the same element)</p>\n"},{"comments":[{"owner":{"account_id":4250160,"reputation":319,"user_id":3477487,"accept_rate":33,"display_name":"Athanasios V."},"score":2,"creation_date":1444716360,"post_id":33095243,"comment_id":54006259,"body_markdown":"No this is not an array of constants, this is a constant array. i mean the components of the array be constants not the array itself","body":"No this is not an array of constants, this is a constant array. i mean the components of the array be constants not the array itself"},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":1,"creation_date":1444716398,"post_id":33095243,"comment_id":54006279,"body_markdown":"@AthanasiosV., please reread the very first sentence of my answer.","body":"@AthanasiosV., please reread the very first sentence of my answer."},{"owner":{"account_id":4250160,"reputation":319,"user_id":3477487,"accept_rate":33,"display_name":"Athanasios V."},"score":0,"creation_date":1444717143,"post_id":33095243,"comment_id":54006595,"body_markdown":"Yes your statement is absolutely right sorry for me quick response","body":"Yes your statement is absolutely right sorry for me quick response"},{"owner":{"account_id":2241,"reputation":44197,"user_id":3093,"accept_rate":83,"display_name":"Dave L."},"score":4,"creation_date":1493051451,"post_id":33095243,"comment_id":74236354,"body_markdown":"...except for zero-length arrays, which are safely immutable.","body":"...except for zero-length arrays, which are safely immutable."}],"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"comment_count":4,"down_vote_count":2,"up_vote_count":20,"is_accepted":false,"score":18,"last_activity_date":1444716252,"creation_date":1444716252,"answer_id":33095243,"question_id":33095100,"body_markdown":"If you want to create an immutable array, no, you cannot. All arrays in Java are mutable.\r\n\r\nIf you just want to predefine the array in your class, you can do it:\r\n\r\n    private static final int[] MY_ARRAY = {10, 20, 30, 40, 50};\r\n\r\nHere we created a predefined array `MY_ARRAY` of length 5, so `MY_ARRAY[0]` is `10` and so on. Be careful though as even the `MY_ARRAY` field is declared final, this does not mean that array elements could not be changed. Thus it&#39;s better not to expose such array to public via `public` or `protected` modifier.","title":"Java array of constants","body":"<p>If you want to create an immutable array, no, you cannot. All arrays in Java are mutable.</p>\n\n<p>If you just want to predefine the array in your class, you can do it:</p>\n\n<pre><code>private static final int[] MY_ARRAY = {10, 20, 30, 40, 50};\n</code></pre>\n\n<p>Here we created a predefined array <code>MY_ARRAY</code> of length 5, so <code>MY_ARRAY[0]</code> is <code>10</code> and so on. Be careful though as even the <code>MY_ARRAY</code> field is declared final, this does not mean that array elements could not be changed. Thus it's better not to expose such array to public via <code>public</code> or <code>protected</code> modifier.</p>\n"},{"comments":[{"owner":{"display_name":"anon"},"score":1,"creation_date":1543464705,"post_id":33095247,"comment_id":93931461,"body_markdown":"The question wasn&#39;t &quot;how do I give array indices names&quot;, it was &quot;how do I make an array of constants, this thing shows what I mean by constant&quot;. Your answer says &quot;you can&#39;t do this unrelated thing, oh and by the way you should keep in mind this caveat which is literally the entire center of your question&quot;.","body":"The question wasn&#39;t &quot;how do I give array indices names&quot;, it was &quot;how do I make an array of constants, this thing shows what I mean by constant&quot;. Your answer says &quot;you can&#39;t do this unrelated thing, oh and by the way you should keep in mind this caveat which is literally the entire center of your question&quot;."}],"tags":[],"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1444717280,"creation_date":1444716301,"answer_id":33095247,"question_id":33095100,"body_markdown":"&gt;I mean the array components be constants i.e. a[0] be a constant variable like this public static final int SIZE = 10;\r\n\r\nYou cannot give array indexes names.\r\n\r\nYou could initialize an array using the values of pre-existing constants:\r\n\r\n    public static final int SIZE = 10;\r\n\r\n    public static final int[] CONSTANTS = { SIZE };\r\n\r\n___\r\n\r\nKeep in mind that although an array is declared `final`, it&#39;s values may still be changed. `final` only ensures you cannot re-assign the array variable, so you will want to encapsulate the array to prevent mutation:\r\n\r\n    final class Constants {\r\n        public static final int SIZE = 10;\r\n\r\n        private static final int[] CONSTANTS = { SIZE };\r\n\r\n        public static int getConstant(int index) {\r\n           return CONSTANTS[index];\r\n        }\r\n    }\r\n\r\nIf you would like to loop, I suggest returning a [deep-copy](https://en.wikipedia.org/wiki/Object_copying#Deep_copy) of the array.","title":"Java array of constants","body":"<blockquote>\n  <p>I mean the array components be constants i.e. a[0] be a constant variable like this public static final int SIZE = 10;</p>\n</blockquote>\n\n<p>You cannot give array indexes names.</p>\n\n<p>You could initialize an array using the values of pre-existing constants:</p>\n\n<pre><code>public static final int SIZE = 10;\n\npublic static final int[] CONSTANTS = { SIZE };\n</code></pre>\n\n<hr>\n\n<p>Keep in mind that although an array is declared <code>final</code>, it's values may still be changed. <code>final</code> only ensures you cannot re-assign the array variable, so you will want to encapsulate the array to prevent mutation:</p>\n\n<pre><code>final class Constants {\n    public static final int SIZE = 10;\n\n    private static final int[] CONSTANTS = { SIZE };\n\n    public static int getConstant(int index) {\n       return CONSTANTS[index];\n    }\n}\n</code></pre>\n\n<p>If you would like to loop, I suggest returning a <a href=\"https://en.wikipedia.org/wiki/Object_copying#Deep_copy\" rel=\"nofollow\">deep-copy</a> of the array.</p>\n"},{"tags":[],"owner":{"account_id":7111862,"reputation":21,"user_id":5439423,"display_name":"Atul Raj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444718195,"creation_date":1444718195,"answer_id":33095761,"question_id":33095100,"body_markdown":"if final is used with objects you cannot change the reference of that object but  changing the value is perfectly fine.Array is an object in java and if you want object value should not be changed, once created, then you will have to make object immutable and primitive array cannot be made immutable in java.\r\n\r\n        final int [] finalArr={5,6,8};\r\n\r\n         System.out.println(&quot;Value at index 0 is &quot;+finalArr[0]);    \r\n          //output : Value at index 0 is 5\r\n\r\n          //perfectly fine\r\n          finalArr[0]=41;\r\n\r\n         System.out.println(&quot;Changed value at index 0 is &quot;+finalArr[0]);\r\n        //Changed value at index 0 is 41\r\n         \r\n         int[] anotherArr={7,9,6};\r\n         // finalArr=anotherArr;\r\n         //error : cannot assign a value to final variable finalArr\r\nFor more on immutable array you can refer to these links:\r\n\r\nhttps://stackoverflow.com/questions/3700971/immutable-array-in-java\r\n\r\nhttps://stackoverflow.com/questions/17122974/is-there-any-way-to-make-an-ordinary-array-immutable-in-java\r\n\r\n        ","title":"Java array of constants","body":"<p>if final is used with objects you cannot change the reference of that object but  changing the value is perfectly fine.Array is an object in java and if you want object value should not be changed, once created, then you will have to make object immutable and primitive array cannot be made immutable in java.</p>\n\n<pre><code>    final int [] finalArr={5,6,8};\n\n     System.out.println(\"Value at index 0 is \"+finalArr[0]);    \n      //output : Value at index 0 is 5\n\n      //perfectly fine\n      finalArr[0]=41;\n\n     System.out.println(\"Changed value at index 0 is \"+finalArr[0]);\n    //Changed value at index 0 is 41\n\n     int[] anotherArr={7,9,6};\n     // finalArr=anotherArr;\n     //error : cannot assign a value to final variable finalArr\n</code></pre>\n\n<p>For more on immutable array you can refer to these links:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/3700971/immutable-array-in-java\">Immutable array in Java</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/17122974/is-there-any-way-to-make-an-ordinary-array-immutable-in-java\">Is there any way to make an ordinary array immutable in Java?</a></p>\n"},{"tags":[],"owner":{"account_id":1579228,"reputation":167,"user_id":1464949,"display_name":"Florin Grigoriu"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1479968500,"creation_date":1479968500,"answer_id":40779300,"question_id":33095100,"body_markdown":"If you don&#39;t want to modify the values, and you also just want to access the members of the collection without wanting random access, a very simple solution instead of having a constant array, have a final immutable list:\r\n\r\n    static final ImmutableList&lt;Type&gt; arrayOfConstants = ImmutableList.of(t1, t2, t3);\r\n\r\n","title":"Java array of constants","body":"<p>If you don't want to modify the values, and you also just want to access the members of the collection without wanting random access, a very simple solution instead of having a constant array, have a final immutable list:</p>\n\n<pre><code>static final ImmutableList&lt;Type&gt; arrayOfConstants = ImmutableList.of(t1, t2, t3);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2175189,"reputation":603,"user_id":1926013,"accept_rate":46,"display_name":"NBaua"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510645688,"creation_date":1510645688,"answer_id":47280275,"question_id":33095100,"body_markdown":"Its&#39;been a while this post is open\r\nI am surprised, why any one would not think of\r\n\r\n    public static final List&lt;LanguageModel&gt; GenderDataSource = new ArrayList&lt;GenderModel&gt;(){{\r\n        add(new LanguageModel(&quot;0&quot;, &quot;English&quot;));\r\n        add(new LanguageModel(&quot;1&quot;, &quot;Hindi&quot;));\r\n        add(new LanguageModel(&quot;1&quot;, &quot;Tamil&quot;));\r\n    };};\r\n\r\nWhere **LanguageModel** simply contains two properties Id and Title or use whatever your model class of generic Type could be.\r\n\r\nShould work great as constant.\r\n\r\n-- N Baua\r\n\r\n","title":"Java array of constants","body":"<p>Its'been a while this post is open\nI am surprised, why any one would not think of</p>\n\n<pre><code>public static final List&lt;LanguageModel&gt; GenderDataSource = new ArrayList&lt;GenderModel&gt;(){{\n    add(new LanguageModel(\"0\", \"English\"));\n    add(new LanguageModel(\"1\", \"Hindi\"));\n    add(new LanguageModel(\"1\", \"Tamil\"));\n};};\n</code></pre>\n\n<p>Where <strong>LanguageModel</strong> simply contains two properties Id and Title or use whatever your model class of generic Type could be.</p>\n\n<p>Should work great as constant.</p>\n\n<p>-- N Baua</p>\n"},{"tags":[],"owner":{"account_id":5821270,"reputation":1,"user_id":4589283,"display_name":"albert_bk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664975697,"creation_date":1664975697,"answer_id":73960932,"question_id":33095100,"body_markdown":"I saw this post and it made me think about something I did for a chess playing application.\r\n\r\nMaybe you just want a group of constants that are sons of another constant. I mean, if you make a final class named as your &quot;array&quot;, and inside it you describe several constants, you&#39;ll be able to access it via MyClass.MYARRAY.MYCONSTANT.\r\n\r\nThe code would be:\r\n```\r\nabstract class Figure {\r\n    public static final class WEIGHT{\r\n        public static final int PAWN = 1;\r\n        public static final int KNIGHT = 3;\r\n        public static final int BISHOP = 3;\r\n        public static final int ROCK = 5;\r\n        public static final int QUEEN = 10;\r\n        public static final int KING = 1000;\r\n    }\r\n}\r\n\r\npublic class Pawn extends Figure{\r\n    public static final int weight = Figure.WEIGHT.PAWN;\r\n}\r\n```\r\nI don&#39;t know if it is the best way for doing it. I don&#39;t either know if it&#39;s the worst way. But I think it answers your question and gives you a solution.","title":"Java array of constants","body":"<p>I saw this post and it made me think about something I did for a chess playing application.</p>\n<p>Maybe you just want a group of constants that are sons of another constant. I mean, if you make a final class named as your &quot;array&quot;, and inside it you describe several constants, you'll be able to access it via MyClass.MYARRAY.MYCONSTANT.</p>\n<p>The code would be:</p>\n<pre><code>abstract class Figure {\n    public static final class WEIGHT{\n        public static final int PAWN = 1;\n        public static final int KNIGHT = 3;\n        public static final int BISHOP = 3;\n        public static final int ROCK = 5;\n        public static final int QUEEN = 10;\n        public static final int KING = 1000;\n    }\n}\n\npublic class Pawn extends Figure{\n    public static final int weight = Figure.WEIGHT.PAWN;\n}\n</code></pre>\n<p>I don't know if it is the best way for doing it. I don't either know if it's the worst way. But I think it answers your question and gives you a solution.</p>\n"}],"owner":{"account_id":4250160,"reputation":319,"user_id":3477487,"accept_rate":33,"display_name":"Athanasios V."},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63774,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"answer_count":7,"score":11,"last_activity_date":1664975697,"creation_date":1444715644,"question_id":33095100,"body_markdown":"How is it possible to declare and initialize an array of constants in Java, without using `enums` ?\r\n\r\n    static final Type[] arrayOfConstants = new Type[10]; // not an array of constants","title":"Java array of constants","body":"<p>How is it possible to declare and initialize an array of constants in Java, without using <code>enums</code> ?</p>\n\n<pre><code>static final Type[] arrayOfConstants = new Type[10]; // not an array of constants\n</code></pre>\n"},{"tags":["java","linux","processbuilder"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664967815,"post_id":73959294,"comment_id":130588263,"body_markdown":"Personally I would invoke the shell interpreter explicitly. The first element in your array or ```List``` should probably be ```/bin/bash``` followed by the (correct and full) path to the script. And then of course, the next *five* arguments are the parameters to the script you posted. Make sure you handle stderr properly","body":"Personally I would invoke the shell interpreter explicitly. The first element in your array or <code>List</code> should probably be <code>&#47;bin&#47;bash</code> followed by the (correct and full) path to the script. And then of course, the next <i>five</i> arguments are the parameters to the script you posted. Make sure you handle stderr properly"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664968598,"post_id":73959294,"comment_id":130588522,"body_markdown":"Oh and you can eliminate one other potential weakness by using the full path to ```lftp```","body":"Oh and you can eliminate one other potential weakness by using the full path to <code>lftp</code>"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1664968802,"post_id":73959294,"comment_id":130588575,"body_markdown":"Is it correct to assume that shell script has execute bits set?","body":"Is it correct to assume that shell script has execute bits set?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664969010,"post_id":73959294,"comment_id":130588630,"body_markdown":"@HiranChaudhuri. Probably not ;) But even if they were and it executed, the process would fail because no parameters were passed","body":"@HiranChaudhuri. Probably not ;) But even if they were and it executed, the process would fail because no parameters were passed"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1664969239,"post_id":73959294,"comment_id":130588680,"body_markdown":"Yes, it would fail. But that is to solve once the script fails. Currently it is not even invoked.","body":"Yes, it would fail. But that is to solve once the script fails. Currently it is not even invoked."},{"owner":{"account_id":7712273,"reputation":63,"user_id":5841190,"accept_rate":0,"display_name":"Bufank85"},"score":0,"creation_date":1664970142,"post_id":73959294,"comment_id":130588970,"body_markdown":"@g00se the error still appears in the console. I have tried putting /bin/sh /home/openiam/scriptsftp.sh or /bin/bash /home/openiam/scriptsftp.sh and it keeps returning No such file or directory","body":"@g00se the error still appears in the console. I have tried putting /bin/sh /home/openiam/scriptsftp.sh or /bin/bash /home/openiam/scriptsftp.sh and it keeps returning No such file or directory"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664970420,"post_id":73959294,"comment_id":130589075,"body_markdown":"Can we have output of following please?\n```ls -l /home/openiam/scriptsftp.sh```","body":"Can we have output of following please? <code>ls -l &#47;home&#47;openiam&#47;scriptsftp.sh</code>"},{"owner":{"account_id":7712273,"reputation":63,"user_id":5841190,"accept_rate":0,"display_name":"Bufank85"},"score":0,"creation_date":1664970507,"post_id":73959294,"comment_id":130589115,"body_markdown":"@g00se -rwxrwxrwx. 1 openiam openiam 76 Oct  5 09:41 /home/openiam/scriptsftp.sh","body":"@g00se -rwxrwxrwx. 1 openiam openiam 76 Oct  5 09:41 /home/openiam/scriptsftp.sh"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664971585,"post_id":73959294,"comment_id":130589463,"body_markdown":"I don&#39;t understand where that error output is coming from. Can you please inherit stderr and post up the full code you&#39;re running and *how* it&#39;s being run","body":"I don&#39;t understand where that error output is coming from. Can you please inherit stderr and post up the full code you&#39;re running and <i>how</i> it&#39;s being run"}],"owner":{"account_id":7712273,"reputation":63,"user_id":5841190,"accept_rate":0,"display_name":"Bufank85"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664975496,"creation_date":1664966870,"question_id":73959294,"body_markdown":"I am trying to send a csv file by calling a sh file. But it does not detect the sh file in the path of the linux machine. For now I just want to get to that file. Then I would have to pass parameters to treat them in the sh and do SFTP of the csv to another machine.\r\n\r\nJava code.\r\n\t\r\n\r\n    ProcessBuilder pb = new ProcessBuilder();\r\n    pb.command(&quot;/home/openiam/scriptsftp.sh&quot;);\r\n    Process process = pb.start();\r\n\r\nSh path.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nSh code.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nLinux output\r\n\r\n    [addCSVFile]  Error to add/create csv operation file: Cannot run program &quot;/home/openiam/scriptsftp.sh&quot;: error=2, No such file or directory\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HQ9z0.png\r\n  [2]: https://i.stack.imgur.com/0T8KY.png","title":"ProcessBuilder SFTP Java Linux","body":"<p>I am trying to send a csv file by calling a sh file. But it does not detect the sh file in the path of the linux machine. For now I just want to get to that file. Then I would have to pass parameters to treat them in the sh and do SFTP of the csv to another machine.</p>\n<p>Java code.</p>\n<pre><code>ProcessBuilder pb = new ProcessBuilder();\npb.command(&quot;/home/openiam/scriptsftp.sh&quot;);\nProcess process = pb.start();\n</code></pre>\n<p>Sh path.</p>\n<p><a href=\"https://i.stack.imgur.com/HQ9z0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HQ9z0.png\" alt=\"enter image description here\" /></a></p>\n<p>Sh code.</p>\n<p><a href=\"https://i.stack.imgur.com/0T8KY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0T8KY.png\" alt=\"enter image description here\" /></a></p>\n<p>Linux output</p>\n<pre><code>[addCSVFile]  Error to add/create csv operation file: Cannot run program &quot;/home/openiam/scriptsftp.sh&quot;: error=2, No such file or directory\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1664973481,"post_id":73960444,"comment_id":130590110,"body_markdown":"When asking a question, please make the effort to properly format your code.","body":"When asking a question, please make the effort to properly format your code."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1664973489,"post_id":73960444,"comment_id":130590113,"body_markdown":"`String str = Integer.toString(num);`","body":"<code>String str = Integer.toString(num);</code>"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1664973634,"post_id":73960444,"comment_id":130590161,"body_markdown":"You could do `if ((numbers[i - 1] &amp; numbers[i] &amp; 1) == 1) result += &#39;-&#39;;` ;)","body":"You could do <code>if ((numbers[i - 1] &amp; numbers[i] &amp; 1) == 1) result += &#39;-&#39;;</code> ;)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1664974537,"post_id":73960444,"comment_id":130590504,"body_markdown":"If you don’t understand this invalid code, you probably should ask the author instead of us.","body":"If you don’t understand this invalid code, you probably should ask the author instead of us."}],"answers":[{"tags":[],"owner":{"account_id":26493810,"reputation":323,"user_id":20131874,"display_name":"mmartinez04"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664974665,"creation_date":1664974665,"answer_id":73960700,"question_id":73960444,"body_markdown":"Instead of using\r\n\r\n    Character.getNumericValue(...);\r\n\r\nJust cast the values directly into integer\r\n\r\n    int value1 = (int)(numbers[i-1]);\r\n    int value2 = (int)(numbers[i]);\r\n\r\nThere were a few typos in your code as well. *insertDash* should look something like this in the end\r\n\r\n    char[] numbers = str.toCharArray();\r\n    String result = &quot;&quot;;\r\n    for (int i = 1; i &lt; numbers.length; i++){\r\n        int value1 = (int)(numbers[i-1]);\r\n        int value2 = (int)(numbers[i]);\r\n        result += value1;\r\n        if(value1 % 2 != 0 &amp;&amp; value2 % 2 != 0){\r\n            result +=&quot;-&quot;;\r\n        }\r\n    }          \r\n    result += numbers[numbers.length - 1];\r\n       \r\n    return result;","title":"Insert Dash between two odd number, how to convert int to string","body":"<p>Instead of using</p>\n<pre><code>Character.getNumericValue(...);\n</code></pre>\n<p>Just cast the values directly into integer</p>\n<pre><code>int value1 = (int)(numbers[i-1]);\nint value2 = (int)(numbers[i]);\n</code></pre>\n<p>There were a few typos in your code as well. <em>insertDash</em> should look something like this in the end</p>\n<pre><code>char[] numbers = str.toCharArray();\nString result = &quot;&quot;;\nfor (int i = 1; i &lt; numbers.length; i++){\n    int value1 = (int)(numbers[i-1]);\n    int value2 = (int)(numbers[i]);\n    result += value1;\n    if(value1 % 2 != 0 &amp;&amp; value2 % 2 != 0){\n        result +=&quot;-&quot;;\n    }\n}          \nresult += numbers[numbers.length - 1];\n   \nreturn result;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664975413,"creation_date":1664975413,"answer_id":73960883,"question_id":73960444,"body_markdown":"```java\r\npublic static String insertDashBetweenOddNumbers(long num) {\r\n    String str = String.valueOf(num);\r\n    StringBuilder buf = new StringBuilder();\r\n\r\n    for (int i = 0; i &lt; str.length(); i++) {\r\n        int cur = str.charAt(i) - &#39;0&#39;;\r\n\r\n        if (i &gt; 0) {\r\n            int prv = str.charAt(i - 1) - &#39;0&#39;;\r\n\r\n            if (isOdd(prv) &amp;&amp; isOdd(cur))\r\n                buf.append(&#39;-&#39;);\r\n        }\r\n\r\n        buf.append(cur);\r\n    }\r\n\r\n    return buf.toString();\r\n}\r\n\r\nprivate static boolean isOdd(int num) {\r\n    return (num &amp; 1) == 1;\r\n}\r\n```","title":"Insert Dash between two odd number, how to convert int to string","body":"<pre class=\"lang-java prettyprint-override\"><code>public static String insertDashBetweenOddNumbers(long num) {\n    String str = String.valueOf(num);\n    StringBuilder buf = new StringBuilder();\n\n    for (int i = 0; i &lt; str.length(); i++) {\n        int cur = str.charAt(i) - '0';\n\n        if (i &gt; 0) {\n            int prv = str.charAt(i - 1) - '0';\n\n            if (isOdd(prv) &amp;&amp; isOdd(cur))\n                buf.append('-');\n        }\n\n        buf.append(cur);\n    }\n\n    return buf.toString();\n}\n\nprivate static boolean isOdd(int num) {\n    return (num &amp; 1) == 1;\n}\n</code></pre>\n"}],"owner":{"account_id":26484985,"reputation":7,"user_id":20123706,"display_name":"wannalearnmore001"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1664975413,"creation_date":1664973297,"question_id":73960444,"body_markdown":"    import org.junit.Test;\r\n    import static \r\n    org.junit.Assert.assertEquals;\r\n    import java.util.Arrays;\r\n    import java.util.Random;\r\n    import tester.DashSol;\r\n    \r\n    pulbic class Dash {\r\n           public static String insertDash(int num){\r\n    char[] numbers = str.tochararray();\r\n    String result = &quot;&quot;\r\n        for(int = 1; 1 &lt; numbers.length; i++){\r\n            int value1 = character.getnumericvalue(numbers[i-1]);\r\n            int value2 = character.getnumericvalue(number[i]);\r\n            result += value1;\r\n           if(value1 % 2 != 0 &amp;&amp; value2 % 2 != 0){\r\n           result +=&quot;-&quot;;\r\n        }\r\n    }\r\n           result += numbers[numbers.length - 1];\r\n    }}\r\n     return &quot;&quot;; \r\n     }\r\n     }\r\n\r\n\r\nwhats the relation within &quot;int num&quot;, char[]numbers ? i want to return the result in String type. \r\n","title":"Insert Dash between two odd number, how to convert int to string","body":"<pre><code>import org.junit.Test;\nimport static \norg.junit.Assert.assertEquals;\nimport java.util.Arrays;\nimport java.util.Random;\nimport tester.DashSol;\n\npulbic class Dash {\n       public static String insertDash(int num){\nchar[] numbers = str.tochararray();\nString result = &quot;&quot;\n    for(int = 1; 1 &lt; numbers.length; i++){\n        int value1 = character.getnumericvalue(numbers[i-1]);\n        int value2 = character.getnumericvalue(number[i]);\n        result += value1;\n       if(value1 % 2 != 0 &amp;&amp; value2 % 2 != 0){\n       result +=&quot;-&quot;;\n    }\n}\n       result += numbers[numbers.length - 1];\n}}\n return &quot;&quot;; \n }\n }\n</code></pre>\n<p>whats the relation within &quot;int num&quot;, char[]numbers ? i want to return the result in String type.</p>\n"},{"tags":["java","selenium"],"answers":[{"comments":[{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1664975337,"post_id":73960848,"comment_id":130590816,"body_markdown":"Hey!, thank you. Why it is happening?","body":"Hey!, thank you. Why it is happening?"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1664975422,"post_id":73960848,"comment_id":130590854,"body_markdown":"@programming_amazing The constructor `WebDriverWait(WebDriver, long)` was deprecated.","body":"@programming_amazing The constructor <code>WebDriverWait(WebDriver, long)</code> was deprecated."}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664975284,"creation_date":1664975284,"answer_id":73960848,"question_id":73960818,"body_markdown":"Pass a [`Duration`](https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#ofSeconds-long-) instead.\r\n\r\n```java\r\nWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10)); \r\n```","title":"The constructor WebDriverWait(WebDriver, int) is undefined Selenium","body":"<p>Pass a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#ofSeconds-long-\" rel=\"nofollow noreferrer\"><code>Duration</code></a> instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10)); \n</code></pre>\n"}],"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1812,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1664976752,"accepted_answer_id":73960848,"answer_count":1,"score":0,"last_activity_date":1664975284,"creation_date":1664975145,"question_id":73960818,"body_markdown":"I&#39;m getting this error message while using WebDriverWait.\r\n\r\nIt throws this error message: \r\n\r\n&gt; The constructor WebDriverWait(WebDriver, int) is undefined\r\n\r\n        WebDriverWait wait = new WebDriverWait(driver, 10); \r\n        WebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;above-expath&quot;)));\r\n        element.click();\r\n\r\nWhat should i do instead? is it deprecated?","title":"The constructor WebDriverWait(WebDriver, int) is undefined Selenium","body":"<p>I'm getting this error message while using WebDriverWait.</p>\n<p>It throws this error message:</p>\n<blockquote>\n<p>The constructor WebDriverWait(WebDriver, int) is undefined</p>\n</blockquote>\n<pre><code>    WebDriverWait wait = new WebDriverWait(driver, 10); \n    WebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;above-expath&quot;)));\n    element.click();\n</code></pre>\n<p>What should i do instead? is it deprecated?</p>\n"},{"tags":["java","soapui"],"answers":[{"comments":[{"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"score":0,"creation_date":1572849995,"post_id":58688202,"comment_id":103674919,"body_markdown":"replacing `cid:1234567890` with `base64encoded`  converted string right? or with the raw byteArray data ?","body":"replacing <code>cid:1234567890</code> with <code>base64encoded</code>  converted string right? or with the raw byteArray data ?"},{"owner":{"account_id":3122266,"reputation":200,"user_id":2641808,"accept_rate":20,"display_name":"s_u_f"},"score":1,"creation_date":1572856657,"post_id":58688202,"comment_id":103677272,"body_markdown":"using base64 could be hectic at times. If you have the original file content of the raw byte[] you can send it as an attachment using cid:notation. check this out, https://aswinprasanthblog.wordpress.com/2016/03/21/how-to-send-a-filebase64binary-in-web-service-request-using-soap-ui/","body":"using base64 could be hectic at times. If you have the original file content of the raw byte[] you can send it as an attachment using cid:notation. check this out, <a href=\"https://aswinprasanthblog.wordpress.com/2016/03/21/how-to-send-a-filebase64binary-in-web-service-request-using-soap-ui/\" rel=\"nofollow noreferrer\">aswinprasanthblog.wordpress.com/2016/03/21/&hellip;</a>"}],"tags":[],"owner":{"account_id":3122266,"reputation":200,"user_id":2641808,"accept_rate":20,"display_name":"s_u_f"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1572848762,"creation_date":1572848762,"answer_id":58688202,"question_id":58687668,"body_markdown":"this should work.\r\n\r\n    &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; \r\n    xmlns:x-=&quot;http://xml.apache.org/xml-soap&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n    &lt;soapenv:Header/&gt;\r\n    &lt;soapenv:Body&gt;\r\n    .....\r\n    \r\n    \t&lt;x-:item&gt;\r\n    \t&lt;x-:key&gt;content&lt;/x-:key&gt;\r\n    \t&lt;x-:value xsi:type=&quot;xsd:base64Binary&quot;&gt;cid:1234567890&lt;/x-:value&gt;\r\n    \t&lt;/x-:item&gt;\r\n    \t\r\n    ......\r\n    &lt;/soapenv:Body&gt;\r\n    &lt;/soapenv:Envelope&gt;","title":"Sending byte[] data from SoapUI","body":"<p>this should work.</p>\n\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" \nxmlns:x-=\"http://xml.apache.org/xml-soap\" \nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n&lt;soapenv:Header/&gt;\n&lt;soapenv:Body&gt;\n.....\n\n    &lt;x-:item&gt;\n    &lt;x-:key&gt;content&lt;/x-:key&gt;\n    &lt;x-:value xsi:type=\"xsd:base64Binary\"&gt;cid:1234567890&lt;/x-:value&gt;\n    &lt;/x-:item&gt;\n\n......\n&lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1932600,"reputation":7084,"user_id":1741690,"accept_rate":50,"display_name":"SharpC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664975177,"creation_date":1664959410,"answer_id":73957892,"question_id":58687668,"body_markdown":"To [send file data using SoapUI][1]:\r\n* include a random cid in the request: `&lt;my:somefile&gt;cid:1234567890&lt;/my:somefile&gt;`\r\n* click Attachments at the bottom, then +\r\n* select a file\r\n* say Yes to caching\r\n* click &quot;Part&quot; in the newly attached file details and choose the cid\r\n\r\nWhen sending the request it will now include the file payload in the cid section of the XML.\r\n\r\n### Troubleshooting\r\n* SoapUI defaults to the run directory every time, so it&#39;s easier to drag and drop the files into the Attachments tab.\r\n* If the Part drop down does not automatically detect the `cid:1234567890` content, check if you have malformed XML such as `--` within a comment block, e.g:\r\n\r\n&lt;code&gt;\r\n\r\n    &lt;!--\r\n    Comment block but contains &lt;!-- nested double hyphens - -&gt;\r\n    --&gt;\r\n&lt;/code&gt;\r\n\r\n  [1]: https://aswinprasanthblog.wordpress.com/2016/03/21/how-to-send-a-filebase64binary-in-web-service-request-using-soap-ui/\r\n","title":"Sending byte[] data from SoapUI","body":"<p>To <a href=\"https://aswinprasanthblog.wordpress.com/2016/03/21/how-to-send-a-filebase64binary-in-web-service-request-using-soap-ui/\" rel=\"nofollow noreferrer\">send file data using SoapUI</a>:</p>\n<ul>\n<li>include a random cid in the request: <code>&lt;my:somefile&gt;cid:1234567890&lt;/my:somefile&gt;</code></li>\n<li>click Attachments at the bottom, then +</li>\n<li>select a file</li>\n<li>say Yes to caching</li>\n<li>click &quot;Part&quot; in the newly attached file details and choose the cid</li>\n</ul>\n<p>When sending the request it will now include the file payload in the cid section of the XML.</p>\n<h3>Troubleshooting</h3>\n<ul>\n<li>SoapUI defaults to the run directory every time, so it's easier to drag and drop the files into the Attachments tab.</li>\n<li>If the Part drop down does not automatically detect the <code>cid:1234567890</code> content, check if you have malformed XML such as <code>--</code> within a comment block, e.g:</li>\n</ul>\n<code>\n<pre><code>&lt;!--\nComment block but contains &lt;!-- nested double hyphens - -&gt;\n--&gt;\n</code></pre>\n</code>\n"}],"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3379,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":58688202,"answer_count":2,"score":2,"last_activity_date":1664975177,"creation_date":1572845508,"question_id":58687668,"body_markdown":"I have  a SOAP API endpoint which receives `byte[]` data and I want to test this using SoapUI. But I am really in stuck  how should I send `byte[]` data via SoapUI? I have tried with `base64` encoded string but the output is not expected (I am sending signature/public key data for verifying purpose and hence verification is not working, that means data I am sending is not ok).\r\nWhat I am doing wrong? Or how should I do it?&lt;br&gt;\r\nAny suggestions please?","title":"Sending byte[] data from SoapUI","body":"<p>I have  a SOAP API endpoint which receives <code>byte[]</code> data and I want to test this using SoapUI. But I am really in stuck  how should I send <code>byte[]</code> data via SoapUI? I have tried with <code>base64</code> encoded string but the output is not expected (I am sending signature/public key data for verifying purpose and hence verification is not working, that means data I am sending is not ok).\nWhat I am doing wrong? Or how should I do it?<br>\nAny suggestions please?</p>\n"},{"tags":["java","spring","transactions","propagation"],"comments":[{"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":7,"creation_date":1347461466,"post_id":12390888,"comment_id":16647763,"body_markdown":"See this link: http://forum.springsource.org/archive/index.php/t-16594.html -- Juergen Hoeller explain it very well","body":"See this link: <a href=\"http://forum.springsource.org/archive/index.php/t-16594.html\" rel=\"nofollow noreferrer\">forum.springsource.org/archive/index.php/t-16594.html</a> -- Juergen Hoeller explain it very well"},{"owner":{"account_id":237493,"reputation":11836,"user_id":505714,"accept_rate":87,"display_name":"Alexis Dufrenoy"},"score":0,"creation_date":1347462133,"post_id":12390888,"comment_id":16648126,"body_markdown":"@Ralph: thank you, that&#39;s exactly what I was looking for. You should add it as an answer.","body":"@Ralph: thank you, that&#39;s exactly what I was looking for. You should add it as an answer."},{"owner":{"account_id":237493,"reputation":11836,"user_id":505714,"accept_rate":87,"display_name":"Alexis Dufrenoy"},"score":1,"creation_date":1347462294,"post_id":12390888,"comment_id":16648214,"body_markdown":"So the main difference is that with a nested transaction policy, the transaction can be rollbacked to the beginning to the current atomic operation, which is the same as in a requires_new policy, but it will only be commited at the end of the whole process, which is completly different from the requires_new policy, where each atomic operation will be commited when it ends.","body":"So the main difference is that with a nested transaction policy, the transaction can be rollbacked to the beginning to the current atomic operation, which is the same as in a requires_new policy, but it will only be commited at the end of the whole process, which is completly different from the requires_new policy, where each atomic operation will be commited when it ends."},{"owner":{"account_id":2065937,"reputation":587,"user_id":1841447,"accept_rate":50,"display_name":"webyildirim"},"score":0,"creation_date":1463733926,"post_id":12390888,"comment_id":62200709,"body_markdown":"IMHO, This difference is clearer actually. But REQUIRED and NESTED ones which are behaved similar each other are confusing. They have some differences about ability like savePoints.","body":"IMHO, This difference is clearer actually. But REQUIRED and NESTED ones which are behaved similar each other are confusing. They have some differences about ability like savePoints."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1589722075,"post_id":12390888,"comment_id":109399846,"body_markdown":"@Ralph unfortunately, your link no longer points to an existing page :(","body":"@Ralph unfortunately, your link no longer points to an existing page :("}],"answers":[{"comments":[{"owner":{"account_id":237493,"reputation":11836,"user_id":505714,"accept_rate":87,"display_name":"Alexis Dufrenoy"},"score":3,"creation_date":1347461966,"post_id":12391007,"comment_id":16648045,"body_markdown":"Yes, I understand the underlining difference, but I can&#39;t see how it will behave differently: In one case, I will rollback a to the previous savepoint, in the other, I will rollback the current transaction and not the outer one, but actually, in both cases I will rollback to the beginning of the current atomic operation and start again from that point.","body":"Yes, I understand the underlining difference, but I can&#39;t see how it will behave differently: In one case, I will rollback a to the previous savepoint, in the other, I will rollback the current transaction and not the outer one, but actually, in both cases I will rollback to the beginning of the current atomic operation and start again from that point."},{"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"score":1,"creation_date":1347462928,"post_id":12391007,"comment_id":16648532,"body_markdown":"@Traroth : The two lines on the link by @Ralph would tell the difference in behavior. `PROPAGATION_REQUIRES_NEW` :The outer transaction will get suspended at the beginning of the inner one, and resumed once the inner one has completed. Each inner transaction committed/rolledback when it is completed. `PROPAGATION_NESTED` : The nested transaction is part of of the outer transaction, so it will only be committed at the end of of the outer transaction.","body":"@Traroth : The two lines on the link by @Ralph would tell the difference in behavior. <code>PROPAGATION_REQUIRES_NEW</code> :The outer transaction will get suspended at the beginning of the inner one, and resumed once the inner one has completed. Each inner transaction committed/rolledback when it is completed. <code>PROPAGATION_NESTED</code> : The nested transaction is part of of the outer transaction, so it will only be committed at the end of of the outer transaction."},{"owner":{"account_id":237493,"reputation":11836,"user_id":505714,"accept_rate":87,"display_name":"Alexis Dufrenoy"},"score":0,"creation_date":1347463724,"post_id":12391007,"comment_id":16648894,"body_markdown":"I agree, so I suggested him to make an answer out of his comment.","body":"I agree, so I suggested him to make an answer out of his comment."},{"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"score":1,"creation_date":1347463891,"post_id":12391007,"comment_id":16648967,"body_markdown":"@Traroth : I agree with you. :) He has the best answer.","body":"@Traroth : I agree with you. :) He has the best answer."}],"tags":[],"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"comment_count":4,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1347461722,"creation_date":1347461722,"answer_id":12391007,"question_id":12390888,"body_markdown":"PROPAGATION_REQUIRES_NEW : uses a completely independent transaction for each affected transaction scope. In that case, the underlying physical transactions are different and hence can commit or roll back independently, with an outer transaction not affected by an inner transaction&#39;s rollback status.\r\n\r\nPROPAGATION_NESTED : uses a single physical transaction with multiple savepoints that it can roll back to. Such partial rollbacks allow an inner transaction scope to trigger a rollback for its scope, with the outer transaction being able to continue the physical transaction despite some operations having been rolled back. This setting is typically mapped onto JDBC savepoints, so will only work with JDBC resource transactions.\r\n\r\ncheck [spring documentation][1]\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/transaction.html#tx-propagation","title":"Differences between requires_new and nested propagation in Spring transactions","body":"<p>PROPAGATION_REQUIRES_NEW : uses a completely independent transaction for each affected transaction scope. In that case, the underlying physical transactions are different and hence can commit or roll back independently, with an outer transaction not affected by an inner transaction's rollback status.</p>\n\n<p>PROPAGATION_NESTED : uses a single physical transaction with multiple savepoints that it can roll back to. Such partial rollbacks allow an inner transaction scope to trigger a rollback for its scope, with the outer transaction being able to continue the physical transaction despite some operations having been rolled back. This setting is typically mapped onto JDBC savepoints, so will only work with JDBC resource transactions.</p>\n\n<p>check <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/transaction.html#tx-propagation\" rel=\"noreferrer\">spring documentation</a></p>\n"},{"comments":[{"owner":{"account_id":260014,"reputation":724,"user_id":543320,"accept_rate":69,"display_name":"yaki_nuka"},"score":1,"creation_date":1403534145,"post_id":12391308,"comment_id":37683260,"body_markdown":"Good answer and good question. Your comments and the following link were very useful for me: http://www.byteslounge.com/tutorials/spring-transaction-propagation-tutorial","body":"Good answer and good question. Your comments and the following link were very useful for me: <a href=\"http://www.byteslounge.com/tutorials/spring-transaction-propagation-tutorial\" rel=\"nofollow noreferrer\">byteslounge.com/tutorials/&hellip;</a>"},{"owner":{"account_id":1144443,"reputation":4425,"user_id":2113996,"accept_rate":31,"display_name":"eatSleepCode"},"score":0,"creation_date":1444973947,"post_id":12391308,"comment_id":54135174,"body_markdown":"is it the right behavior that you described in propagation_requires_new? cause as I checked it rollbacks both the transaction.","body":"is it the right behavior that you described in propagation_requires_new? cause as I checked it rollbacks both the transaction."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1484054341,"post_id":12391308,"comment_id":70343763,"body_markdown":"please clarify outer transaction behaviour if nested transaction fails(will it fails too ?) and vice versa","body":"please clarify outer transaction behaviour if nested transaction fails(will it fails too ?) and vice versa"},{"owner":{"account_id":8164177,"reputation":858,"user_id":6147174,"accept_rate":55,"display_name":"Wecherowski"},"score":0,"creation_date":1500462157,"post_id":12391308,"comment_id":77344259,"body_markdown":"So with nested transaction, when the inner one rollbacks, the outer one continues at the save point whereas when the outer one rollbacks, all action are rolled back, right?","body":"So with nested transaction, when the inner one rollbacks, the outer one continues at the save point whereas when the outer one rollbacks, all action are rolled back, right?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1540145526,"post_id":12391308,"comment_id":92746605,"body_markdown":"Any differences in behaviour?","body":"Any differences in behaviour?"},{"owner":{"account_id":1713048,"reputation":1374,"user_id":1570688,"accept_rate":86,"display_name":"bluelurker"},"score":1,"creation_date":1603452253,"post_id":12391308,"comment_id":114048619,"body_markdown":"This Spring reference explains it in quite detail:\nhttps://docs.spring.io/spring-framework/docs/current/spring-framework-reference/data-access.html#tx-propagation","body":"This Spring reference explains it in quite detail: <a href=\"https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/data-access.html#tx-propagation\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/&hellip;</a>"}],"tags":[],"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"comment_count":6,"down_vote_count":0,"up_vote_count":144,"is_accepted":true,"score":144,"last_activity_date":1664974518,"creation_date":1347462662,"answer_id":12391308,"question_id":12390888,"body_markdown":"See this link: [PROPAGATION_NESTED versus PROPAGATION_REQUIRES_NEW?][1] Juergen Hoeller explain it very well. -- _the Spring Source Forum is completely offline since February 28, 2019, but you can read the relevant part of the article in the quote below_\r\n\r\n&gt; PROPAGATION_REQUIRES_NEW starts a new, independent &quot;inner&quot; transaction\r\n&gt; for the given scope. This transaction will be committed or rolled back\r\n&gt; completely independent from the outer transaction, having its own\r\n&gt; isolation scope, its own set of locks, etc. The outer transaction will\r\n&gt; get suspended at the beginning of the inner one, and resumed once the\r\n&gt; inner one has completed. ...\r\n&gt; \r\n&gt; PROPAGATION_NESTED on the other hand starts a &quot;nested&quot; transaction,\r\n&gt; which is a true subtransaction of the existing one. What will happen\r\n&gt; is that a savepoint will be taken at the start of the nested\r\n&gt; transaction. &#205;f the nested transaction fails, we will roll back to\r\n&gt; that savepoint. The nested transaction is part of of the outer\r\n&gt; transaction, so it will only be committed at the end of of the outer\r\n&gt; transaction. ...\r\n\r\n  [1]: http://forum.springsource.org/archive/index.php/t-16594.html","title":"Differences between requires_new and nested propagation in Spring transactions","body":"<p>See this link: <a href=\"http://forum.springsource.org/archive/index.php/t-16594.html\" rel=\"noreferrer\">PROPAGATION_NESTED versus PROPAGATION_REQUIRES_NEW?</a> Juergen Hoeller explain it very well. -- <em>the Spring Source Forum is completely offline since February 28, 2019, but you can read the relevant part of the article in the quote below</em></p>\n<blockquote>\n<p>PROPAGATION_REQUIRES_NEW starts a new, independent &quot;inner&quot; transaction\nfor the given scope. This transaction will be committed or rolled back\ncompletely independent from the outer transaction, having its own\nisolation scope, its own set of locks, etc. The outer transaction will\nget suspended at the beginning of the inner one, and resumed once the\ninner one has completed. ...</p>\n<p>PROPAGATION_NESTED on the other hand starts a &quot;nested&quot; transaction,\nwhich is a true subtransaction of the existing one. What will happen\nis that a savepoint will be taken at the start of the nested\ntransaction. Íf the nested transaction fails, we will roll back to\nthat savepoint. The nested transaction is part of of the outer\ntransaction, so it will only be committed at the end of of the outer\ntransaction. ...</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6132216,"reputation":603,"user_id":4782065,"accept_rate":0,"display_name":"Ankit"},"comment_count":0,"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1449207942,"creation_date":1449207942,"answer_id":34081705,"question_id":12390888,"body_markdown":"Please find the difference\r\n\r\n    \r\n    1.) Use of NESTED Transaction\r\nExecute within a nested transaction if a current transaction exists, behave like PROPAGATION_REQUIRED else.\r\nNested transaction is supporting by Spring \r\n\r\n2.)Use of REQUIRED Transaction\r\nSupport a current transaction, create a new one if none exists.\r\n. It means for banking domain like withdraw,deposit, update the transaction\r\n \r\n3.) Use of REQUIRES_NEW Transaction\r\nCreate a new transaction, and suspend the current transaction if one exists.\r\n\r\n\r\n\r\n","title":"Differences between requires_new and nested propagation in Spring transactions","body":"<p>Please find the difference</p>\n\n<pre><code>1.) Use of NESTED Transaction\n</code></pre>\n\n<p>Execute within a nested transaction if a current transaction exists, behave like PROPAGATION_REQUIRED else.\nNested transaction is supporting by Spring </p>\n\n<p>2.)Use of REQUIRED Transaction\nSupport a current transaction, create a new one if none exists.\n. It means for banking domain like withdraw,deposit, update the transaction</p>\n\n<p>3.) Use of REQUIRES_NEW Transaction\nCreate a new transaction, and suspend the current transaction if one exists.</p>\n"}],"owner":{"account_id":237493,"reputation":11836,"user_id":505714,"accept_rate":87,"display_name":"Alexis Dufrenoy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58661,"favorite_count":0,"down_vote_count":0,"up_vote_count":102,"accepted_answer_id":12391308,"answer_count":3,"score":102,"last_activity_date":1664974518,"creation_date":1347461356,"question_id":12390888,"body_markdown":"I can&#39;t understand the behavior difference between the `PROPAGATION_REQUIRES_NEW` and `PROPAGATION_NESTED` propagation policies. It seems to me that in both cases, the current process is rollbacked but not the whole transaction. Any clue?","title":"Differences between requires_new and nested propagation in Spring transactions","body":"<p>I can't understand the behavior difference between the <code>PROPAGATION_REQUIRES_NEW</code> and <code>PROPAGATION_NESTED</code> propagation policies. It seems to me that in both cases, the current process is rollbacked but not the whole transaction. Any clue?</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1664956289,"post_id":73956654,"comment_id":130584656,"body_markdown":"From the error, it appears a jersey library may not be configured properly or missing in your CRM webapp that uses a framework called WEBAPI. The issue is definitely during loading the application on startup. It would be a wise idea to double check the server.xml config isettings conform suitable to the activity.","body":"From the error, it appears a jersey library may not be configured properly or missing in your CRM webapp that uses a framework called WEBAPI. The issue is definitely during loading the application on startup. It would be a wise idea to double check the server.xml config isettings conform suitable to the activity."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1664957267,"post_id":73956654,"comment_id":130584965,"body_markdown":"[/crmDb2API-1.0]  and    attributeAdded(&#39;StockTicker&#39; , &#39;async.Stockticker@23ec2bdc&#39; appear to have signifigance. Too, and surrounding port 8080 init. and with .asm. class libraries. Of 8080 a web service WSDL may have different port (machine) requirement some where not localhost. Re, Async a resource somewhere.","body":"[/crmDb2API-1.0]  and    attributeAdded(&#39;StockTicker&#39; , &#39;async.Stockticker@23ec2bdc&#39; appear to have signifigance. Too, and surrounding port 8080 init. and with .asm. class libraries. Of 8080 a web service WSDL may have different port (machine) requirement some where not localhost. Re, Async a resource somewhere."},{"owner":{"account_id":326049,"reputation":171,"user_id":647596,"accept_rate":100,"display_name":"mohd874"},"score":0,"creation_date":1664969120,"post_id":73956654,"comment_id":130588654,"body_markdown":"@SamuelMarchant The application is pure java web app. It is used to communicate to CRM system. I tried to run it on fresh installation of Tomcat 9, but with no luck. As for StockTicker, I have no clue what it means. The application does not generate WSDL.","body":"@SamuelMarchant The application is pure java web app. It is used to communicate to CRM system. I tried to run it on fresh installation of Tomcat 9, but with no luck. As for StockTicker, I have no clue what it means. The application does not generate WSDL."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1664970451,"post_id":73956654,"comment_id":130589091,"body_markdown":"Your WEBAPI servlet url pattern appears it gets directed to by &quot;anything&quot; , if it is not a default web container folder, then that should at least be the webapp folder name as part of the path. Also, had a thought did you import the libraries as save into project on compile. And is the compiler and runtime suitable JVM for ee8, ee8 is not core se8 e.g. not se core 1.8.0_202 inclusive Tomcat level check.","body":"Your WEBAPI servlet url pattern appears it gets directed to by &quot;anything&quot; , if it is not a default web container folder, then that should at least be the webapp folder name as part of the path. Also, had a thought did you import the libraries as save into project on compile. And is the compiler and runtime suitable JVM for ee8, ee8 is not core se8 e.g. not se core 1.8.0_202 inclusive Tomcat level check."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1664971267,"post_id":73956654,"comment_id":130589370,"body_markdown":"Definitely a configuration problem of some type. \nRare times server.xml requires to be notified of dependency jars and ext paths, but probably the web.xml and any other webapp conf files if required . com.sun.jersey.api.core.servlet.WebAppRe esourceConfig.&lt;init&gt;(WebAppResourceConfig.java:89)","body":"Definitely a configuration problem of some type.  Rare times server.xml requires to be notified of dependency jars and ext paths, but probably the web.xml and any other webapp conf files if required . com.sun.jersey.api.core.servlet.WebAppRe esourceConfig.&lt;init&gt;(WebAppResourceConfig.java:89)"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1664971290,"post_id":73956654,"comment_id":130589377,"body_markdown":"&lt;load-on-startup&gt;0&lt;/load-on-startup&gt; There are no other servlets. If loaded at request made time use -1","body":"&lt;load-on-startup&gt;0&lt;/load-on-startup&gt; There are no other servlets. If loaded at request made time use -1"}],"answers":[{"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1664990984,"post_id":73960224,"comment_id":130596797,"body_markdown":"attributeAdded(&#39;StockTicker&#39; , &#39;async.Stockticker@23ec2bdc you will find that in the startup class source Contextinit.java , it resides with the servlets.","body":"attributeAdded(&#39;StockTicker&#39; , &#39;async.Stockticker@23ec2bdc you will find that in the startup class source Contextinit.java , it resides with the servlets."}],"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664974138,"creation_date":1664972281,"answer_id":73960224,"question_id":73956654,"body_markdown":"Definitely a configuration problem of some type. Rare times server.xml requires to be notified of dependency jars and ext paths, but probably the web.xml and any other webapp conf files if required . com.sun.jersey.api.core.servlet.WebAppRe esourceConfig.&lt;init&gt;(WebAppResourceConfig.java:89) The give-away is seeing &amp;lt;INIT&amp;gt; at webapp loading in stderror file or Catalinaout file.\r\n\r\n\r\n**&amp;lt;load-on-startup&amp;gt;0&amp;lt;/load-on-startup&amp;gt; There are no other servlets. If loaded at request made time use -1** \r\n\r\n**attributeAdded(&#39;StockTicker&#39; , &#39;async.Stockticker@23ec2bdc&#39; ) seems to be a class instantiated and added onto the live ServletContext object that will stay instantiated for start to end of application lifecycle. This seems to be a forerunner of web services API if there is no wsdl definition and registry (*async* - can input and output at same time).**\r\n\r\nPresumably with a CRM you will be using a DB driver and either pool or load method.\r\nThat if anything when it&#39;s past this error will be the next (that&#39;s the context.xml lines to configure a pool and driver usually).\r\n\r\nYour WEBAPI servlet url pattern appears it gets directed to by &quot;anything&quot; , if it is not a default web container folder, then that should at least be the webapp folder name as part of the path.\r\n","title":"Web app failed to start, cased by org.apache.catalina.core.StandardContext.loadOnStartup, root cause java.lang.IllegalArgumentException","body":"<p>Definitely a configuration problem of some type. Rare times server.xml requires to be notified of dependency jars and ext paths, but probably the web.xml and any other webapp conf files if required . com.sun.jersey.api.core.servlet.WebAppRe esourceConfig.(WebAppResourceConfig.java:89) The give-away is seeing &lt;INIT&gt; at webapp loading in stderror file or Catalinaout file.</p>\n<p><strong>&lt;load-on-startup&gt;0&lt;/load-on-startup&gt; There are no other servlets. If loaded at request made time use -1</strong></p>\n<p><strong>attributeAdded('StockTicker' , 'async.Stockticker@23ec2bdc' ) seems to be a class instantiated and added onto the live ServletContext object that will stay instantiated for start to end of application lifecycle. This seems to be a forerunner of web services API if there is no wsdl definition and registry (<em>async</em> - can input and output at same time).</strong></p>\n<p>Presumably with a CRM you will be using a DB driver and either pool or load method.\nThat if anything when it's past this error will be the next (that's the context.xml lines to configure a pool and driver usually).</p>\n<p>Your WEBAPI servlet url pattern appears it gets directed to by &quot;anything&quot; , if it is not a default web container folder, then that should at least be the webapp folder name as part of the path.</p>\n"}],"owner":{"account_id":326049,"reputation":171,"user_id":647596,"accept_rate":100,"display_name":"mohd874"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":811,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1665140589,"answer_count":1,"score":0,"last_activity_date":1664974138,"creation_date":1664952029,"question_id":73956654,"body_markdown":"I&#39;ve been on this issue for days now. I run my web app with Tomcat using Intellij IDE. I could not find why there is &quot;IllegalArgumentException&quot; or what arguments caused the issue. I tried to update the libraries, Tomcat (8, 9, 10), even the IDE itself. I could not find anything useful on the web. \r\n\r\nI appreciate if you can shed light on the cause, and if possible how to track the root cause in such cases.\r\n\r\nBelow is the stack trace from Tomcat logs and pom.xml and web.xml.\r\n\r\nThank you\r\n\r\n```pom.xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;webAPI&lt;/groupId&gt;\r\n    &lt;artifactId&gt;webAPI&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;name&gt;webAPI&lt;/name&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n    &lt;build&gt;\r\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;webResources&gt;\r\n                        &lt;resource&gt;\r\n                            &lt;directory&gt;resources&lt;/directory&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;*.properties&lt;/include&gt;\r\n                            &lt;/includes&gt;\r\n                            &lt;targetPath&gt;WEB-INF/classes&lt;/targetPath&gt;\r\n                        &lt;/resource&gt;\r\n                    &lt;/webResources&gt;\r\n                    &lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\r\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;dependencies&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;com.thetransactioncompany&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;cors-filter&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;2.10&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-bundle&lt;/artifactId&gt;\r\n            &lt;version&gt;1.19.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-json&lt;/artifactId&gt;\r\n            &lt;version&gt;1.19.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.19.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n```web.xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; version=&quot;3.0&quot;&gt;\r\n&lt;display-name&gt;CRM-DB2 API&lt;/display-name&gt;\r\n\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;WEBAPI&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;WEBAPI&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\r\n&lt;/web-app&gt;\r\n```\r\n\r\n```localhost.2022-10-05.log\r\n05-Oct-2022 09:12:10.434 SEVERE [main] org.apache.catalina.core.ApplicationContext.log Servlet.init() for servlet [WEBAPI] threw exception\r\n\tjava.lang.IllegalArgumentException\r\n\t\tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:170)\r\n\t\tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:153)\r\n\t\tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:424)\r\n\t\tat com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess(AnnotationScannerListener.java:138)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner$2.f(WebAppResourcesScanner.java:104)\r\n\t\tat com.sun.jersey.core.util.Closing.f(Closing.java:71)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:102)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:79)\r\n\t\tat com.sun.jersey.api.core.ScanningResourceConfig.init(ScanningResourceConfig.java:80)\r\n\t\tat com.sun.jersey.api.core.servlet.WebAppResourceConfig.init(WebAppResourceConfig.java:102)\r\n\t\tat com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:89)\r\n\t\tat com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:74)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.getWebAppResourceConfig(WebComponent.java:668)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:435)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:602)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebServletConfig.getDefaultResourceConfig(WebServletConfig.java:87)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:699)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:674)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:205)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:394)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:577)\r\n\t\tat javax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\t\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164)\r\n\t\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1117)\r\n\t\tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1010)\r\n\t\tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4958)\r\n\t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5265)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n\t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1024)\r\n\t\tat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1911)\r\n\t\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\t\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\t\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:825)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:475)\r\n\t\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1618)\r\n\t\tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\r\n\t\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n\t\tat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\n\t\tat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\n\t\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946)\r\n\t\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n\t\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n\t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\t\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\t\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\t\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n\t\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:265)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\t\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\r\n\t\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\n05-Oct-2022 09:12:10.434 SEVERE [main] org.apache.catalina.core.StandardContext.loadOnStartup Servlet [WEBAPI] in web application [/crmDb2API-1.0] threw load() exception\r\n\tjava.lang.IllegalArgumentException\r\n\t\tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:170)\r\n\t\tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:153)\r\n\t\tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:424)\r\n\t\tat com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess(AnnotationScannerListener.java:138)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner$2.f(WebAppResourcesScanner.java:104)\r\n\t\tat com.sun.jersey.core.util.Closing.f(Closing.java:71)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:102)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:79)\r\n\t\tat com.sun.jersey.api.core.ScanningResourceConfig.init(ScanningResourceConfig.java:80)\r\n\t\tat com.sun.jersey.api.core.servlet.WebAppResourceConfig.init(WebAppResourceConfig.java:102)\r\n\t\tat com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:89)\r\n\t\tat com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:74)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.getWebAppResourceConfig(WebComponent.java:668)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:435)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:602)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebServletConfig.getDefaultResourceConfig(WebServletConfig.java:87)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:699)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:674)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:205)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:394)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:577)\r\n\t\tat javax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\t\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164)\r\n\t\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1117)\r\n\t\tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1010)\r\n\t\tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4958)\r\n\t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5265)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n\t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1024)\r\n\t\tat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1911)\r\n\t\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\t\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\t\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:825)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:475)\r\n\t\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1618)\r\n\t\tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\r\n\t\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n\t\tat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\n\t\tat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\n\t\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946)\r\n\t\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n\t\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n\t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\t\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\t\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\t\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n\t\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:265)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\t\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\r\n\t\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\n05-Oct-2022 09:12:11.073 INFO [main] org.apache.catalina.core.ApplicationContext.log ContextListener: contextInitialized()\r\n05-Oct-2022 09:12:11.073 INFO [main] org.apache.catalina.core.ApplicationContext.log SessionListener: contextInitialized()\r\n05-Oct-2022 09:12:11.075 INFO [main] org.apache.catalina.core.ApplicationContext.log ContextListener: attributeAdded(&#39;StockTicker&#39;, &#39;async.Stockticker@23ec2bdc&#39;)\r\n05-Oct-2022 09:13:32.365 SEVERE [http-nio-8080-exec-2] org.apache.catalina.core.ApplicationContext.log Servlet.init() for servlet [WEBAPI] threw exception\r\n\tjava.lang.IllegalArgumentException\r\n\t\tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:170)\r\n\t\tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:153)\r\n\t\tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:424)\r\n\t\tat com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess(AnnotationScannerListener.java:138)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner$2.f(WebAppResourcesScanner.java:104)\r\n\t\tat com.sun.jersey.core.util.Closing.f(Closing.java:71)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:102)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:79)\r\n\t\tat com.sun.jersey.api.core.ScanningResourceConfig.init(ScanningResourceConfig.java:80)\r\n\t\tat com.sun.jersey.api.core.servlet.WebAppResourceConfig.init(WebAppResourceConfig.java:102)\r\n\t\tat com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:89)\r\n\t\tat com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:74)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.getWebAppResourceConfig(WebComponent.java:668)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:435)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:602)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebServletConfig.getDefaultResourceConfig(WebServletConfig.java:87)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:699)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:674)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:205)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:394)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:577)\r\n\t\tat javax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\t\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164)\r\n\t\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1117)\r\n\t\tat org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:788)\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:128)\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n05-Oct-2022 09:13:32.366 SEVERE [http-nio-8080-exec-2] org.apache.catalina.core.StandardWrapperValve.invoke Allocate exception for servlet [WEBAPI]\r\n\tjava.lang.IllegalArgumentException\r\n\t\tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:170)\r\n\t\tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:153)\r\n\t\tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:424)\r\n\t\tat com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess(AnnotationScannerListener.java:138)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner$2.f(WebAppResourcesScanner.java:104)\r\n\t\tat com.sun.jersey.core.util.Closing.f(Closing.java:71)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:102)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:79)\r\n\t\tat com.sun.jersey.api.core.ScanningResourceConfig.init(ScanningResourceConfig.java:80)\r\n\t\tat com.sun.jersey.api.core.servlet.WebAppResourceConfig.init(WebAppResourceConfig.java:102)\r\n\t\tat com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:89)\r\n\t\tat com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:74)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.getWebAppResourceConfig(WebComponent.java:668)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:435)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:602)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebServletConfig.getDefaultResourceConfig(WebServletConfig.java:87)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:699)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:674)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:205)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:394)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:577)\r\n\t\tat javax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\t\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164)\r\n\t\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1117)\r\n\t\tat org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:788)\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:128)\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\n```","title":"Web app failed to start, cased by org.apache.catalina.core.StandardContext.loadOnStartup, root cause java.lang.IllegalArgumentException","body":"<p>I've been on this issue for days now. I run my web app with Tomcat using Intellij IDE. I could not find why there is &quot;IllegalArgumentException&quot; or what arguments caused the issue. I tried to update the libraries, Tomcat (8, 9, 10), even the IDE itself. I could not find anything useful on the web.</p>\n<p>I appreciate if you can shed light on the cause, and if possible how to track the root cause in such cases.</p>\n<p>Below is the stack trace from Tomcat logs and pom.xml and web.xml.</p>\n<p>Thank you</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;webAPI&lt;/groupId&gt;\n    &lt;artifactId&gt;webAPI&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;webAPI&lt;/name&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;webResources&gt;\n                        &lt;resource&gt;\n                            &lt;directory&gt;resources&lt;/directory&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;*.properties&lt;/include&gt;\n                            &lt;/includes&gt;\n                            &lt;targetPath&gt;WEB-INF/classes&lt;/targetPath&gt;\n                        &lt;/resource&gt;\n                    &lt;/webResources&gt;\n                    &lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;com.thetransactioncompany&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;cors-filter&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;2.10&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-bundle&lt;/artifactId&gt;\n            &lt;version&gt;1.19.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-json&lt;/artifactId&gt;\n            &lt;version&gt;1.19.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-core&lt;/artifactId&gt;\n            &lt;version&gt;1.19.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax&lt;/groupId&gt;\n            &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n            &lt;version&gt;8.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; version=&quot;3.0&quot;&gt;\n&lt;display-name&gt;CRM-DB2 API&lt;/display-name&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;WEBAPI&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;WEBAPI&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<pre><code>05-Oct-2022 09:12:10.434 SEVERE [main] org.apache.catalina.core.ApplicationContext.log Servlet.init() for servlet [WEBAPI] threw exception\n    java.lang.IllegalArgumentException\n        at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:170)\n        at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:153)\n        at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:424)\n        at com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess(AnnotationScannerListener.java:138)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner$2.f(WebAppResourcesScanner.java:104)\n        at com.sun.jersey.core.util.Closing.f(Closing.java:71)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:102)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:79)\n        at com.sun.jersey.api.core.ScanningResourceConfig.init(ScanningResourceConfig.java:80)\n        at com.sun.jersey.api.core.servlet.WebAppResourceConfig.init(WebAppResourceConfig.java:102)\n        at com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:89)\n        at com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:74)\n        at com.sun.jersey.spi.container.servlet.WebComponent.getWebAppResourceConfig(WebComponent.java:668)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:435)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:602)\n        at com.sun.jersey.spi.container.servlet.WebServletConfig.getDefaultResourceConfig(WebServletConfig.java:87)\n        at com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:699)\n        at com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:674)\n        at com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:205)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:394)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:577)\n        at javax.servlet.GenericServlet.init(GenericServlet.java:158)\n        at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164)\n        at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1117)\n        at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1010)\n        at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4958)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5265)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1024)\n        at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1911)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\n        at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:825)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:475)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1618)\n        at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\n        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n        at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\n        at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946)\n        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:265)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\n05-Oct-2022 09:12:10.434 SEVERE [main] org.apache.catalina.core.StandardContext.loadOnStartup Servlet [WEBAPI] in web application [/crmDb2API-1.0] threw load() exception\n    java.lang.IllegalArgumentException\n        at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:170)\n        at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:153)\n        at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:424)\n        at com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess(AnnotationScannerListener.java:138)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner$2.f(WebAppResourcesScanner.java:104)\n        at com.sun.jersey.core.util.Closing.f(Closing.java:71)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:102)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:79)\n        at com.sun.jersey.api.core.ScanningResourceConfig.init(ScanningResourceConfig.java:80)\n        at com.sun.jersey.api.core.servlet.WebAppResourceConfig.init(WebAppResourceConfig.java:102)\n        at com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:89)\n        at com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:74)\n        at com.sun.jersey.spi.container.servlet.WebComponent.getWebAppResourceConfig(WebComponent.java:668)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:435)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:602)\n        at com.sun.jersey.spi.container.servlet.WebServletConfig.getDefaultResourceConfig(WebServletConfig.java:87)\n        at com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:699)\n        at com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:674)\n        at com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:205)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:394)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:577)\n        at javax.servlet.GenericServlet.init(GenericServlet.java:158)\n        at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164)\n        at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1117)\n        at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1010)\n        at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4958)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5265)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1024)\n        at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1911)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\n        at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:825)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:475)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1618)\n        at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\n        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n        at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\n        at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946)\n        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:265)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\n05-Oct-2022 09:12:11.073 INFO [main] org.apache.catalina.core.ApplicationContext.log ContextListener: contextInitialized()\n05-Oct-2022 09:12:11.073 INFO [main] org.apache.catalina.core.ApplicationContext.log SessionListener: contextInitialized()\n05-Oct-2022 09:12:11.075 INFO [main] org.apache.catalina.core.ApplicationContext.log ContextListener: attributeAdded('StockTicker', 'async.Stockticker@23ec2bdc')\n05-Oct-2022 09:13:32.365 SEVERE [http-nio-8080-exec-2] org.apache.catalina.core.ApplicationContext.log Servlet.init() for servlet [WEBAPI] threw exception\n    java.lang.IllegalArgumentException\n        at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:170)\n        at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:153)\n        at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:424)\n        at com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess(AnnotationScannerListener.java:138)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner$2.f(WebAppResourcesScanner.java:104)\n        at com.sun.jersey.core.util.Closing.f(Closing.java:71)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:102)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:79)\n        at com.sun.jersey.api.core.ScanningResourceConfig.init(ScanningResourceConfig.java:80)\n        at com.sun.jersey.api.core.servlet.WebAppResourceConfig.init(WebAppResourceConfig.java:102)\n        at com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:89)\n        at com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:74)\n        at com.sun.jersey.spi.container.servlet.WebComponent.getWebAppResourceConfig(WebComponent.java:668)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:435)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:602)\n        at com.sun.jersey.spi.container.servlet.WebServletConfig.getDefaultResourceConfig(WebServletConfig.java:87)\n        at com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:699)\n        at com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:674)\n        at com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:205)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:394)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:577)\n        at javax.servlet.GenericServlet.init(GenericServlet.java:158)\n        at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164)\n        at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1117)\n        at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:788)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:128)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n05-Oct-2022 09:13:32.366 SEVERE [http-nio-8080-exec-2] org.apache.catalina.core.StandardWrapperValve.invoke Allocate exception for servlet [WEBAPI]\n    java.lang.IllegalArgumentException\n        at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:170)\n        at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:153)\n        at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:424)\n        at com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess(AnnotationScannerListener.java:138)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner$2.f(WebAppResourcesScanner.java:104)\n        at com.sun.jersey.core.util.Closing.f(Closing.java:71)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:102)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:79)\n        at com.sun.jersey.api.core.ScanningResourceConfig.init(ScanningResourceConfig.java:80)\n        at com.sun.jersey.api.core.servlet.WebAppResourceConfig.init(WebAppResourceConfig.java:102)\n        at com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:89)\n        at com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:74)\n        at com.sun.jersey.spi.container.servlet.WebComponent.getWebAppResourceConfig(WebComponent.java:668)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:435)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:602)\n        at com.sun.jersey.spi.container.servlet.WebServletConfig.getDefaultResourceConfig(WebServletConfig.java:87)\n        at com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:699)\n        at com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:674)\n        at com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:205)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:394)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:577)\n        at javax.servlet.GenericServlet.init(GenericServlet.java:158)\n        at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164)\n        at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1117)\n        at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:788)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:128)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n\n</code></pre>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1664974044,"post_id":73960530,"comment_id":130590332,"body_markdown":"Why not define it in the maven install or user home directory independent of IDEA (https://maven.apache.org/settings.html)?","body":"Why not define it in the maven install or user home directory independent of IDEA (<a href=\"https://maven.apache.org/settings.html\" rel=\"nofollow noreferrer\">maven.apache.org/settings.html</a>)?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1664974239,"post_id":73960530,"comment_id":130590390,"body_markdown":"Yes, just edit ~/.m2/settings.xml and do no configuration in IDEA -- you want thew same results when you run maven at the command line anyway.","body":"Yes, just edit ~/.m2/settings.xml and do no configuration in IDEA -- you want thew same results when you run maven at the command line anyway."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664974615,"post_id":73960530,"comment_id":130590531,"body_markdown":"For &quot;new projects&quot;, in intelliJ there is also `File&gt;New Project&gt;Settings for New Project...` !;) Which does exactly, what you demand... &quot;Project templates&quot; sounds also interesting/more structured ..","body":"For &quot;new projects&quot;, in intelliJ there is also <code>File&gt;New Project&gt;Settings for New Project...</code> !;) Which does exactly, what you demand... &quot;Project templates&quot; sounds also interesting/more structured .."},{"owner":{"account_id":7471816,"reputation":3218,"user_id":5679560,"accept_rate":36,"display_name":"Rafael Lima"},"score":0,"creation_date":1664977112,"post_id":73960530,"comment_id":130591580,"body_markdown":"@tgdavies my local maven installation isn&#39;t in that folder... if i run mvn on terminal it loads stuff from a completely different directory. but the idea is good... although not ideal since this way i need to keep track of changes in two places","body":"@tgdavies my local maven installation isn&#39;t in that folder... if i run mvn on terminal it loads stuff from a completely different directory. but the idea is good... although not ideal since this way i need to keep track of changes in two places"}],"owner":{"account_id":7471816,"reputation":3218,"user_id":5679560,"accept_rate":36,"display_name":"Rafael Lima"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":783,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664973754,"creation_date":1664973754,"question_id":73960530,"body_markdown":"Intellij sometimes behaves as dumbJ when it relates to re-defining global settings for all future projects.\r\n\r\nI mean, you click file -&gt; settings, and because of the name SETTINGS you might think those are global settings and not just related to this specific project that is open... but indeed many of those settings will only apply for that specific project you are looking into. It is the case with maven settings\r\n\r\nI go: `File | Settings | Build, Execution, Deployment | Build Tools | Maven`\r\n\r\nthen i click override maven settings file, then i select the maving settings file i use to all projects on my computer, it automatically refines the local repository variable [good] i click save and we are good to go.\r\n\r\nsome weeks later when i get to create a new project I GOTTA DO ALL THAT AGAIN, and while this is simple [just few clicks] it is absurdly annoying, and i always lose a few minutes on that because I create a new project every few months, so i copy the pom from my previous project and it wont work... the intellij will say pom wont compile or something and i keep thinking how the hell is that not working if it works in the other project... is just after a few minutes that i remember that i need to do all this setup non-sense cuz intellij is to dumb to save it as a global setting.\r\n\r\nMY QUESTION IS:\r\n\r\nHOW TO DEFINE THE MAVEN SETTING FILE FOR ALL FUTURE PROJECTS USING INTELLIJ?","title":"Define default maven settings.xml for all new projects on intellij","body":"<p>Intellij sometimes behaves as dumbJ when it relates to re-defining global settings for all future projects.</p>\n<p>I mean, you click file -&gt; settings, and because of the name SETTINGS you might think those are global settings and not just related to this specific project that is open... but indeed many of those settings will only apply for that specific project you are looking into. It is the case with maven settings</p>\n<p>I go: <code>File | Settings | Build, Execution, Deployment | Build Tools | Maven</code></p>\n<p>then i click override maven settings file, then i select the maving settings file i use to all projects on my computer, it automatically refines the local repository variable [good] i click save and we are good to go.</p>\n<p>some weeks later when i get to create a new project I GOTTA DO ALL THAT AGAIN, and while this is simple [just few clicks] it is absurdly annoying, and i always lose a few minutes on that because I create a new project every few months, so i copy the pom from my previous project and it wont work... the intellij will say pom wont compile or something and i keep thinking how the hell is that not working if it works in the other project... is just after a few minutes that i remember that i need to do all this setup non-sense cuz intellij is to dumb to save it as a global setting.</p>\n<p>MY QUESTION IS:</p>\n<p>HOW TO DEFINE THE MAVEN SETTING FILE FOR ALL FUTURE PROJECTS USING INTELLIJ?</p>\n"},{"tags":["java","logging","log4j2","appender"],"owner":{"account_id":6890720,"reputation":113,"user_id":5770655,"display_name":"mantisghost"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1664973486,"creation_date":1664973486,"question_id":73960477,"body_markdown":"Afer many days of struggling and trying to figure out this abomination I&#39;m at my begginer limits.\r\n\r\nNot working code based on documentation of log4j2:\r\n```java\r\nfinal LoggerContext cx = (LoggerContext) LogManager.getContext(false);\r\nfinal Configuration config = ctx.getConfiguration();\r\nfinal Layout&lt;String&gt; layout = PatternLayout.createDefaultLayout(config);\r\n\r\nFileAppender.Builder&lt;?&gt; ab = (FileAppender.Builder&lt;?&gt;) FileAppender.newBuilder();\r\nab.withFileName(&quot;test.txt&quot;);\r\nab.withAppend(true);\r\nab.setName(&quot;test&quot;);\r\nab.setLayout(layout)\r\nab.build();\r\nFileAppender appender = ab.build();\r\nappender.start();\r\n\r\nconfig.addAppener(appender);\r\nAppenderRef ref = AppenderRef.createAppenderRef(&quot;test&quot;, null, null);\r\nAppenderRef[] refs = new AppenderRef[] {ref};\r\nLoggerConfig lc = LoggerConfig.createLogger(false, Level.DEBUG, &quot;test&quot;, &quot;true&quot;, refs, null, config, null);\r\nlc.addAppender(appender, null, null);\r\nconfig.addLogger(&quot;test&quot;, lc);\r\nctx.updateLoggers();\r\n```\r\nThis is how I see in my head what this code is doing. Correct me if I&#39;m wrong:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration&gt;\r\n    &lt;Appenders&gt;\r\n    \t&lt;!-- Here is the output from code --&gt;\r\n        &lt;FileAppender name=&quot;test&quot; fileName=&quot;test.txt&quot; /&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n    \t&lt;!-- Here is the output from code --&gt;\r\n        &lt;Logger name=&quot;test&quot; level=&quot;debug&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;traceLog&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;!-- Below is some already existing root logger --&gt;\r\n        &lt;Root level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;console&quot; /&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nBut as mentioned this does not work. When debugging in intellij I can see configs and loggers being created. Debugging compiled code from command line with ```log4j2.debug``` also shows that appender and logger &quot;test&quot; are started and stopped and yet this code just does not work and I have no idea why.\r\n\r\nNow after tinkering a bit, now I have code like below. It works but not as I want.\r\n\r\n```java\r\nfinal LoggerContext cx = (LoggerContext) LogManager.getContext(false);\r\nfinal Configuration config = ctx.getConfiguration();\r\nfinal Layout&lt;String&gt; layout = PatternLayout.createDefaultLayout(config);\r\n\r\nFileAppender.Builder&lt;?&gt; ab = (FileAppender.Builder&lt;?&gt;) FileAppender.newBuilder();\r\nab.withFileName(&quot;test.txt&quot;);\r\nab.withAppend(true);\r\nab.setName(&quot;test&quot;);\r\nab.setLayout(layout)\r\nab.build();\r\nFileAppender appender = ab.build();\r\nappender.start();\r\n\r\nctx.getConfiguration().addAppender(appender);\r\nctx.getRootLogger().addAppender(ctx.getConfiguration().getAppender(appender.getName());\r\nctx.updateLoggers();\r\n```\r\n\r\nAgain this is how I see in my head what this code is doing. Correct me if I&#39;m wrong:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration&gt;\r\n    &lt;Appenders&gt;\r\n    \t&lt;!-- Here is the output from code --&gt;\r\n        &lt;FileAppender name=&quot;test&quot; fileName=&quot;test.txt&quot; /&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;!-- Below is some already existing root logger modified by above java code --&gt;\r\n        &lt;Root level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;console&quot; /&gt;\r\n            &lt;AppenderRef ref=&quot;test&quot; /&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\nNow this works and logs are created but I&#39;ve found a way to change logging level for entire Root logger and not for separate refs which I need instead.\r\n\r\nThat said does someone know how to make the first part of code to work or how to set logging level in references added to root logger but programmaticaly?\r\n\r\nI will be grateful for all help regarding this dreadful library that is just broken and overcomplicated. But it is my personal opinion.","title":"Log4j2 appenders and loggers programmaticaly how to make it work?","body":"<p>Afer many days of struggling and trying to figure out this abomination I'm at my begginer limits.</p>\n<p>Not working code based on documentation of log4j2:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final LoggerContext cx = (LoggerContext) LogManager.getContext(false);\nfinal Configuration config = ctx.getConfiguration();\nfinal Layout&lt;String&gt; layout = PatternLayout.createDefaultLayout(config);\n\nFileAppender.Builder&lt;?&gt; ab = (FileAppender.Builder&lt;?&gt;) FileAppender.newBuilder();\nab.withFileName(&quot;test.txt&quot;);\nab.withAppend(true);\nab.setName(&quot;test&quot;);\nab.setLayout(layout)\nab.build();\nFileAppender appender = ab.build();\nappender.start();\n\nconfig.addAppener(appender);\nAppenderRef ref = AppenderRef.createAppenderRef(&quot;test&quot;, null, null);\nAppenderRef[] refs = new AppenderRef[] {ref};\nLoggerConfig lc = LoggerConfig.createLogger(false, Level.DEBUG, &quot;test&quot;, &quot;true&quot;, refs, null, config, null);\nlc.addAppender(appender, null, null);\nconfig.addLogger(&quot;test&quot;, lc);\nctx.updateLoggers();\n</code></pre>\n<p>This is how I see in my head what this code is doing. Correct me if I'm wrong:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration&gt;\n    &lt;Appenders&gt;\n        &lt;!-- Here is the output from code --&gt;\n        &lt;FileAppender name=&quot;test&quot; fileName=&quot;test.txt&quot; /&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;!-- Here is the output from code --&gt;\n        &lt;Logger name=&quot;test&quot; level=&quot;debug&quot;&gt;\n            &lt;AppenderRef ref=&quot;traceLog&quot; /&gt;\n        &lt;/Logger&gt;\n        &lt;!-- Below is some already existing root logger --&gt;\n        &lt;Root level=&quot;info&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;console&quot; /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>But as mentioned this does not work. When debugging in intellij I can see configs and loggers being created. Debugging compiled code from command line with <code>log4j2.debug</code> also shows that appender and logger &quot;test&quot; are started and stopped and yet this code just does not work and I have no idea why.</p>\n<p>Now after tinkering a bit, now I have code like below. It works but not as I want.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final LoggerContext cx = (LoggerContext) LogManager.getContext(false);\nfinal Configuration config = ctx.getConfiguration();\nfinal Layout&lt;String&gt; layout = PatternLayout.createDefaultLayout(config);\n\nFileAppender.Builder&lt;?&gt; ab = (FileAppender.Builder&lt;?&gt;) FileAppender.newBuilder();\nab.withFileName(&quot;test.txt&quot;);\nab.withAppend(true);\nab.setName(&quot;test&quot;);\nab.setLayout(layout)\nab.build();\nFileAppender appender = ab.build();\nappender.start();\n\nctx.getConfiguration().addAppender(appender);\nctx.getRootLogger().addAppender(ctx.getConfiguration().getAppender(appender.getName());\nctx.updateLoggers();\n</code></pre>\n<p>Again this is how I see in my head what this code is doing. Correct me if I'm wrong:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration&gt;\n    &lt;Appenders&gt;\n        &lt;!-- Here is the output from code --&gt;\n        &lt;FileAppender name=&quot;test&quot; fileName=&quot;test.txt&quot; /&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;!-- Below is some already existing root logger modified by above java code --&gt;\n        &lt;Root level=&quot;info&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;console&quot; /&gt;\n            &lt;AppenderRef ref=&quot;test&quot; /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>Now this works and logs are created but I've found a way to change logging level for entire Root logger and not for separate refs which I need instead.</p>\n<p>That said does someone know how to make the first part of code to work or how to set logging level in references added to root logger but programmaticaly?</p>\n<p>I will be grateful for all help regarding this dreadful library that is just broken and overcomplicated. But it is my personal opinion.</p>\n"},{"tags":["java","testing","design-patterns"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1664910375,"post_id":73952454,"comment_id":130576628,"body_markdown":"I think we&#39;d need to see the actual code.  In most unit tests, I declare everything locally and avoid anything which might cause a dependency between tests.  It&#39;s rather unusual to share objects.","body":"I think we&#39;d need to see the actual code.  In most unit tests, I declare everything locally and avoid anything which might cause a dependency between tests.  It&#39;s rather unusual to share objects."},{"owner":{"account_id":8161607,"reputation":49,"user_id":6145451,"display_name":"behzad k."},"score":0,"creation_date":1664920054,"post_id":73952454,"comment_id":130579276,"body_markdown":"lets say i just want to have an simple id as a string which i can use everytime, instead of creating a new String in each test.","body":"lets say i just want to have an simple id as a string which i can use everytime, instead of creating a new String in each test."}],"answers":[{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664968128,"creation_date":1664966771,"answer_id":73959273,"question_id":73952454,"body_markdown":"&gt; lets say i just want to have an simple id as a string which i can use\r\n&gt; everytime, instead of creating a new String in each test.\r\n\r\nYeah, you can share or create class with fields which have constant values for test cases.\r\n\r\n\r\nIf this variable is used just for some related bunch of tests, then you can create base abstract class and write getter for it. Let me show an example:\r\n\r\n    public abstract class BaseTest\r\n    {\r\n        private string _id = &quot;1&quot;;\r\n    \r\n        public string GetId() \r\n        {\r\n            return _id;\r\n        }\r\n    }\r\n\r\nSo you will inherit this `BaseTest` class in related bunch of tests. This approach uses inheritance.\r\n\r\nIn addition, you can create a class with constant values:\r\n\r\n    public class Constant\r\n    {\r\n        public static final String WELCOME_MESSAGE = &quot;Hello, welcome to the server&quot;;\r\n    }\r\n\r\nAnd then use this variables in any place you want.\r\n\r\n","title":"How should I declare a variable which is used multiple times in a test?","body":"<blockquote>\n<p>lets say i just want to have an simple id as a string which i can use\neverytime, instead of creating a new String in each test.</p>\n</blockquote>\n<p>Yeah, you can share or create class with fields which have constant values for test cases.</p>\n<p>If this variable is used just for some related bunch of tests, then you can create base abstract class and write getter for it. Let me show an example:</p>\n<pre><code>public abstract class BaseTest\n{\n    private string _id = &quot;1&quot;;\n\n    public string GetId() \n    {\n        return _id;\n    }\n}\n</code></pre>\n<p>So you will inherit this <code>BaseTest</code> class in related bunch of tests. This approach uses inheritance.</p>\n<p>In addition, you can create a class with constant values:</p>\n<pre><code>public class Constant\n{\n    public static final String WELCOME_MESSAGE = &quot;Hello, welcome to the server&quot;;\n}\n</code></pre>\n<p>And then use this variables in any place you want.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664973225,"creation_date":1664973225,"answer_id":73960430,"question_id":73952454,"body_markdown":"Assuming unit tests, they should be stand-alone, and unordered.\r\n\r\nHence the only fields may be constants, `static final String ID_A = &quot;Ahmed&quot;;`.\r\n\r\nThe same for _constant_ objects.\r\n\r\nHowever you can run a setup `@BeforeEach` (junit 5) and tear-down `@AfterEach` method automatically for every test.\r\nUse that for a database connection and such.\r\n\r\nFor the rest it often makes sense to have a couple of methods delivering more complex (like hierarchical data). Especially if not every test uses that data, so the object is not suitable a field filled in a setup method.\r\n","title":"How should I declare a variable which is used multiple times in a test?","body":"<p>Assuming unit tests, they should be stand-alone, and unordered.</p>\n<p>Hence the only fields may be constants, <code>static final String ID_A = &quot;Ahmed&quot;;</code>.</p>\n<p>The same for <em>constant</em> objects.</p>\n<p>However you can run a setup <code>@BeforeEach</code> (junit 5) and tear-down <code>@AfterEach</code> method automatically for every test.\nUse that for a database connection and such.</p>\n<p>For the rest it often makes sense to have a couple of methods delivering more complex (like hierarchical data). Especially if not every test uses that data, so the object is not suitable a field filled in a setup method.</p>\n"}],"owner":{"account_id":8161607,"reputation":49,"user_id":6145451,"display_name":"behzad k."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":525,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1664973225,"creation_date":1664909836,"question_id":73952454,"body_markdown":"I want to know how I should declare Objects as a field when I want to use them in different test cases. \r\n- standard declaration with &#39;private&#39; \r\n- final / not final\r\n- static / non static\r\n\r\nAnd if there is a choice how I really should do that, please explain?","title":"How should I declare a variable which is used multiple times in a test?","body":"<p>I want to know how I should declare Objects as a field when I want to use them in different test cases.</p>\n<ul>\n<li>standard declaration with 'private'</li>\n<li>final / not final</li>\n<li>static / non static</li>\n</ul>\n<p>And if there is a choice how I really should do that, please explain?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1664962744,"post_id":73958451,"comment_id":130586602,"body_markdown":"If you have array of primitive type the only way is to initialize the array with values that for sure won&#39;t be used in your core logic. So that each time you attempt to put a value to your array you would test if there is that initialized value exists. If not, then the cell considered occupied.","body":"If you have array of primitive type the only way is to initialize the array with values that for sure won&#39;t be used in your core logic. So that each time you attempt to put a value to your array you would test if there is that initialized value exists. If not, then the cell considered occupied."},{"owner":{"account_id":26533685,"reputation":1,"user_id":20165524,"display_name":"Sarah Carter"},"score":0,"creation_date":1664963049,"post_id":73958451,"comment_id":130586727,"body_markdown":"@AlexeyR. Oh the values are already initialized to all zeros. Just need to update to the correct values in the loop.","body":"@AlexeyR. Oh the values are already initialized to all zeros. Just need to update to the correct values in the loop."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1664963491,"post_id":73958451,"comment_id":130586886,"body_markdown":"Having `0` is not actually a robust solution because if here `int src = Integer.parseInt(elm[j]);` you have `elm[j] == 0` then next time you would not distinguish if that is an `initial` value or that one that has to be protected from being overridden. If that&#39;s not the case just test `sourceArray[(i+j-1)] == 0` before putting value to the cell.. If `false` then skip the iteration.","body":"Having <code>0</code> is not actually a robust solution because if here <code>int src = Integer.parseInt(elm[j]);</code> you have <code>elm[j] == 0</code> then next time you would not distinguish if that is an <code>initial</code> value or that one that has to be protected from being overridden. If that&#39;s not the case just test <code>sourceArray[(i+j-1)] == 0</code> before putting value to the cell.. If <code>false</code> then skip the iteration."},{"owner":{"account_id":26533685,"reputation":1,"user_id":20165524,"display_name":"Sarah Carter"},"score":0,"creation_date":1664965905,"post_id":73958451,"comment_id":130587662,"body_markdown":"But each  elm should go into the array. The array is of correct size to store all the elements. I believe the [(i+j-1)] needs some sort of constant/variable to prevent index overwrites, but I can&#39;t figure out how to implement that.","body":"But each  elm should go into the array. The array is of correct size to store all the elements. I believe the [(i+j-1)] needs some sort of constant/variable to prevent index overwrites, but I can&#39;t figure out how to implement that."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1664966505,"post_id":73958451,"comment_id":130587843,"body_markdown":"Ah.. I see.. So you read `elem` each time in outer (`i`) loop? If yes, does `elem` have each time the same length or it varies?","body":"Ah.. I see.. So you read <code>elem</code> each time in outer (<code>i</code>) loop? If yes, does <code>elem</code> have each time the same length or it varies?"},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1664968959,"post_id":73958451,"comment_id":130588619,"body_markdown":"It is not clear what you are trying to achieve with the assignment in question.  It looks like each row is a separate account.  It looks like you are trying to read all of the values into a single `int[]` with no way to identify where a given account starts/ends.  What are you trying to do here?","body":"It is not clear what you are trying to achieve with the assignment in question.  It looks like each row is a separate account.  It looks like you are trying to read all of the values into a single <code>int[]</code> with no way to identify where a given account starts/ends.  What are you trying to do here?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1664975388,"post_id":73958451,"comment_id":130590841,"body_markdown":"Solution: you have two-dimensional data, and inconsistent lengths. Don&#39;t try to do a fancy trick with storing indices under `(i * elm[i].length) + j -1` (typical mapping for a 2D array of constant sizes). Instead, keep an _actual_ 2D structure, like `int[][]` or `List&lt;MyParsedAccount&gt;`","body":"Solution: you have two-dimensional data, and inconsistent lengths. Don&#39;t try to do a fancy trick with storing indices under <code>(i * elm[i].length) + j -1</code> (typical mapping for a 2D array of constant sizes). Instead, keep an <i>actual</i> 2D structure, like <code>int[][]</code> or <code>List&lt;MyParsedAccount&gt;</code>"}],"owner":{"account_id":26533685,"reputation":1,"user_id":20165524,"display_name":"Sarah Carter"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664973141,"creation_date":1664962432,"question_id":73958451,"body_markdown":"I am trying to stop elements in sourceArray from being overwritten. Currently, the code works until I reach a point where `i` changes, at that point overwrites begin.\r\n\r\n    for (int i = 0; i &lt; num_accounts; ++i) {\r\n        ...\r\n        for (int j = 1; j &lt; elm.length; ++j) {\r\n\r\n            int src = Integer.parseInt(elm[j]);\r\n            System.out.println(&quot;DEBUG&quot;);\r\n            System.out.println(&quot;Value of i: &quot;+i);\r\n            System.out.println(&quot;Value of j:&quot;+j);\r\n            System.out.println(&quot;Value of elm[j]&quot;+ elm[j]);\r\n            System.out.println(&quot;Value of sourceArray index&quot;+(i+j));\r\n            sourceArray[(i+j-1)] = src;\r\n        }\r\n\r\nSnippet of debug information to demonstrate issue:\r\n\r\n    DEBUG\r\n    Value of i: 0\r\n    Value of j:1\r\n    Value of elm[j]22\r\n    Value of sourceArray index1\r\n    DEBUG\r\n    Value of i: 0\r\n    Value of j:2\r\n    Value of elm[j]36\r\n    Value of sourceArray index2\r\n    DEBUG\r\n    Value of i: 0\r\n    Value of j:3\r\n    Value of elm[j]39\r\n    Value of sourceArray index3\r\n    DEBUG\r\n    Value of i: 0\r\n    Value of j:4\r\n    Value of elm[j]45\r\n    Value of sourceArray index4\r\n    DEBUG\r\n    Value of i: 0\r\n    Value of j:5\r\n    Value of elm[j]56\r\n    Value of sourceArray index5\r\n    DEBUG\r\n    Value of i: 0\r\n    Value of j:6\r\n    Value of elm[j]81\r\n    Value of sourceArray index6\r\n    DEBUG\r\n    Value of i: 0\r\n    Value of j:7\r\n    Value of elm[j]89\r\n    Value of sourceArray index7\r\n    DEBUG\r\n    Value of i: 0\r\n    Value of j:8\r\n    Value of elm[j]106\r\n    Value of sourceArray index8\r\n    DEBUG\r\n    Value of i: 2\r\n    Value of j:1\r\n    Value of elm[j]9\r\n    Value of sourceArray index3\r\n    DEBUG\r\n    Value of i: 2\r\n    Value of j:2\r\n    Value of elm[j]26\r\n    Value of sourceArray index4\r\n\r\n(Note not all accounts (for example i=1) have any `elm` assigned to it, and so can be ignored)\r\n\r\nThe sourceArray has been initialised with the correct size. \r\n\r\nI have tried putting adding an additional value corresponding to the last index of the previous element but that resulted in exceeding the array size.\r\n\r\nThe file I am reading from, seen in the example:\r\n\r\n    0 22 36 39 45 56 81 89 106\r\n    1\r\n    2 9 26 51 58 75 86 89 101 102\r\n    ...\r\n\r\nWhere the first elm is the account id and the rest are elms.\r\n","title":"How do you prevent overwrites in arrays java","body":"<p>I am trying to stop elements in sourceArray from being overwritten. Currently, the code works until I reach a point where <code>i</code> changes, at that point overwrites begin.</p>\n<pre><code>for (int i = 0; i &lt; num_accounts; ++i) {\n    ...\n    for (int j = 1; j &lt; elm.length; ++j) {\n\n        int src = Integer.parseInt(elm[j]);\n        System.out.println(&quot;DEBUG&quot;);\n        System.out.println(&quot;Value of i: &quot;+i);\n        System.out.println(&quot;Value of j:&quot;+j);\n        System.out.println(&quot;Value of elm[j]&quot;+ elm[j]);\n        System.out.println(&quot;Value of sourceArray index&quot;+(i+j));\n        sourceArray[(i+j-1)] = src;\n    }\n</code></pre>\n<p>Snippet of debug information to demonstrate issue:</p>\n<pre><code>DEBUG\nValue of i: 0\nValue of j:1\nValue of elm[j]22\nValue of sourceArray index1\nDEBUG\nValue of i: 0\nValue of j:2\nValue of elm[j]36\nValue of sourceArray index2\nDEBUG\nValue of i: 0\nValue of j:3\nValue of elm[j]39\nValue of sourceArray index3\nDEBUG\nValue of i: 0\nValue of j:4\nValue of elm[j]45\nValue of sourceArray index4\nDEBUG\nValue of i: 0\nValue of j:5\nValue of elm[j]56\nValue of sourceArray index5\nDEBUG\nValue of i: 0\nValue of j:6\nValue of elm[j]81\nValue of sourceArray index6\nDEBUG\nValue of i: 0\nValue of j:7\nValue of elm[j]89\nValue of sourceArray index7\nDEBUG\nValue of i: 0\nValue of j:8\nValue of elm[j]106\nValue of sourceArray index8\nDEBUG\nValue of i: 2\nValue of j:1\nValue of elm[j]9\nValue of sourceArray index3\nDEBUG\nValue of i: 2\nValue of j:2\nValue of elm[j]26\nValue of sourceArray index4\n</code></pre>\n<p>(Note not all accounts (for example i=1) have any <code>elm</code> assigned to it, and so can be ignored)</p>\n<p>The sourceArray has been initialised with the correct size.</p>\n<p>I have tried putting adding an additional value corresponding to the last index of the previous element but that resulted in exceeding the array size.</p>\n<p>The file I am reading from, seen in the example:</p>\n<pre><code>0 22 36 39 45 56 81 89 106\n1\n2 9 26 51 58 75 86 89 101 102\n...\n</code></pre>\n<p>Where the first elm is the account id and the rest are elms.</p>\n"},{"tags":["java","user-interface","javafx"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1664941651,"post_id":73955699,"comment_id":130582027,"body_markdown":"Add your project structure.","body":"Add your project structure."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1664945369,"post_id":73955699,"comment_id":130582482,"body_markdown":"The `javafx.application.Application` class is from JavaFX, not your own project. And what that error suggests is that JavaFX is not on the module-path/class-path when you execute your project. Assuming Java/JavaFX 11+, you need to add JavaFX to the `--module-path` and, if your own code is not modular, use `--add-modules` (see [Getting Started with JavaFX 11+](https://openjfx.io/openjfx-docs/)). Or you could use a JDK distribution that includes JavaFX (e.g., BellSoft Liberica, Azul Zulu).","body":"The <code>javafx.application.Application</code> class is from JavaFX, not your own project. And what that error suggests is that JavaFX is not on the module-path/class-path when you execute your project. Assuming Java/JavaFX 11+, you need to add JavaFX to the <code>--module-path</code> and, if your own code is not modular, use <code>--add-modules</code> (see <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">Getting Started with JavaFX 11+</a>). Or you could use a JDK distribution that includes JavaFX (e.g., BellSoft Liberica, Azul Zulu)."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1664950614,"post_id":73955699,"comment_id":130583301,"body_markdown":"Slaw’s Comment is correct but brief. For more info, search Stack Overflow thoroughly as this topic has been addressed many times. And study the OpenJFX site.","body":"Slaw’s Comment is correct but brief. For more info, search Stack Overflow thoroughly as this topic has been addressed many times. And study the OpenJFX site."}],"owner":{"account_id":26531525,"reputation":1,"user_id":20163626,"display_name":"Harry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1664950817,"answer_count":0,"score":0,"last_activity_date":1664973058,"creation_date":1664941001,"question_id":73955699,"body_markdown":"I am working on a JavaFX project, and I am having trouble displaying the user interface. I keep getting this error:\r\n\r\n```none\r\nError: Could not find or load main class Main.SongApp\r\nCaused by: java.lang.NoClassDefFoundError: javafx/application/Application\r\n```\r\nI am confused because my directory has no files named &#39;application&#39; or &#39;Application.&#39;\r\n\r\nI have these three files and I am not sure why this code does not run. This is the main file that I try to display the user interface from:\r\nSongApp.java\r\n```java\r\npublic class SongApp extends Application {\r\n\t@Override\r\n\tpublic void start(Stage primaryStage) throws Exception {\r\n\t\t\r\n\t\t// create FXML loader\r\n\t\tFXMLLoader loader = new FXMLLoader();\r\n\t\tloader.setLocation(getClass().getResource(&quot;/SongLibraryProject/ControllerTing/SongLib.fxml&quot;));\r\n\t\t\r\n\t\t// load fxml, root layout manager in fxml file is GridPane\r\n\t\tAnchorPane root = (AnchorPane)loader.load();\r\n\r\n\t\t// set scene to root\r\n\t\tScene scene = new Scene(root);\r\n\t\tprimaryStage.setScene(scene);\r\n\t\tprimaryStage.setResizable(false);\r\n\t\tprimaryStage.show();\r\n\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n}\r\n```\r\n\r\nThis file has my front end code from Scene Builder and the anchor table I am trying to display: SongLib.fxml\r\n```xml\r\n&lt;AnchorPane minHeight=&quot;400.0&quot; minWidth=&quot;747.0&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;747.0&quot; style=&quot;-fx-background-color: #263238;&quot; xmlns=&quot;http://javafx.com/javafx/11.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;SongLibrary.View.Controller&quot;&gt;\r\n             //front end(scenebuilder code)\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\nThis is the the controller file: SongLibController.java\r\n```\r\npublic class SongLibController {\r\n    @FXML ListView&lt;Song&gt; songList;\r\n    @FXML Button add;\r\n    @FXML Button edit;\r\n    @FXML Button delete;\r\n    @FXML Text name;\r\n    @FXML Text artist;\r\n    @FXML Text album;\r\n    @FXML Text year;\r\n    @FXML TextField nameField;\r\n    @FXML TextField artistField;\r\n    @FXML TextField albumField;\r\n    @FXML TextField yearField;\r\n\r\n    private ObservableList&lt;String&gt; obsList;\r\n\r\n    public void add(ActionEvent e) {\r\n        System.out.println(&quot;add&quot;);\r\n  }\r\n\r\n    public void edit(ActionEvent e) {\r\n        System.out.println(&quot;edit&quot;);\r\n    }\r\n\r\n    public void delete(ActionEvent e) {\r\n        System.out.println(&quot;delete&quot;);\r\n    }\r\n}\r\n```\r\n","title":"How to display user interface in JavaFX","body":"<p>I am working on a JavaFX project, and I am having trouble displaying the user interface. I keep getting this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Error: Could not find or load main class Main.SongApp\nCaused by: java.lang.NoClassDefFoundError: javafx/application/Application\n</code></pre>\n<p>I am confused because my directory has no files named 'application' or 'Application.'</p>\n<p>I have these three files and I am not sure why this code does not run. This is the main file that I try to display the user interface from:\nSongApp.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SongApp extends Application {\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        \n        // create FXML loader\n        FXMLLoader loader = new FXMLLoader();\n        loader.setLocation(getClass().getResource(&quot;/SongLibraryProject/ControllerTing/SongLib.fxml&quot;));\n        \n        // load fxml, root layout manager in fxml file is GridPane\n        AnchorPane root = (AnchorPane)loader.load();\n\n        // set scene to root\n        Scene scene = new Scene(root);\n        primaryStage.setScene(scene);\n        primaryStage.setResizable(false);\n        primaryStage.show();\n\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>This file has my front end code from Scene Builder and the anchor table I am trying to display: SongLib.fxml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;AnchorPane minHeight=&quot;400.0&quot; minWidth=&quot;747.0&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;747.0&quot; style=&quot;-fx-background-color: #263238;&quot; xmlns=&quot;http://javafx.com/javafx/11.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;SongLibrary.View.Controller&quot;&gt;\n             //front end(scenebuilder code)\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>This is the the controller file: SongLibController.java</p>\n<pre><code>public class SongLibController {\n    @FXML ListView&lt;Song&gt; songList;\n    @FXML Button add;\n    @FXML Button edit;\n    @FXML Button delete;\n    @FXML Text name;\n    @FXML Text artist;\n    @FXML Text album;\n    @FXML Text year;\n    @FXML TextField nameField;\n    @FXML TextField artistField;\n    @FXML TextField albumField;\n    @FXML TextField yearField;\n\n    private ObservableList&lt;String&gt; obsList;\n\n    public void add(ActionEvent e) {\n        System.out.println(&quot;add&quot;);\n  }\n\n    public void edit(ActionEvent e) {\n        System.out.println(&quot;edit&quot;);\n    }\n\n    public void delete(ActionEvent e) {\n        System.out.println(&quot;delete&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","configuration","axis"],"answers":[{"tags":[],"owner":{"account_id":56047,"reputation":177,"user_id":167896,"accept_rate":75,"display_name":"Yusuf Soysal"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1331736157,"creation_date":1331736157,"answer_id":9704139,"question_id":9378963,"body_markdown":"I solved this by copying the client_config.wsdd file to WEB-INF/classes folder. Axis did not complaint yet :)","title":"Axis: No engine configuration file - aborting","body":"<p>I solved this by copying the client_config.wsdd file to WEB-INF/classes folder. Axis did not complaint yet :)</p>\n"},{"tags":[],"owner":{"account_id":8256974,"reputation":1,"user_id":6209848,"display_name":"Juan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460731725,"creation_date":1460731725,"answer_id":36650358,"question_id":9378963,"body_markdown":"Se puede solucionar pasando el Path al constructor de FileProvider\r\n\r\n\r\n\t\tEngineConfiguration engineConfiguration;\r\n\t\ttry {\r\n\t\t\tengineConfiguration = new FileProvider(&quot;Path&quot;,&quot;client-config.wsdd&quot;);\r\n\t\t\tengine = new AxisClient(engineConfiguration);\r\n\t\t} catch (ConfigurationException e) {\r\n\t\t\t\r\n\t\tlogger.debug(&quot;exception &quot;,e);\r\n\t\t}","title":"Axis: No engine configuration file - aborting","body":"<p>Se puede solucionar pasando el Path al constructor de FileProvider</p>\n\n<pre><code>    EngineConfiguration engineConfiguration;\n    try {\n        engineConfiguration = new FileProvider(\"Path\",\"client-config.wsdd\");\n        engine = new AxisClient(engineConfiguration);\n    } catch (ConfigurationException e) {\n\n    logger.debug(\"exception \",e);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":259306,"reputation":406,"user_id":2086393,"accept_rate":73,"display_name":"Marwa Dosoky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664972808,"creation_date":1664972808,"answer_id":73960352,"question_id":9378963,"body_markdown":"Set the config file path from here \r\n\r\n\t`System.setProperty(&quot;axis.ClientConfigFile&quot;, path);`\r\n\r\n\r\nclient_config.wsdd content be like\r\n\r\n    `&lt;deployment xmlns=&quot;http://xml.apache.org/axis/wsdd/&quot;\r\n\txmlns:java=&quot;http://xml.apache.org/axis/wsdd/providers/java&quot;&gt;\r\n\t&lt;globalConfiguration&gt;\r\n\t\t&lt;requestFlow&gt;\r\n\t\t\t&lt;handler name=&quot;log&quot;\r\n\t\t\t\ttype=&quot;java:{package.class}&quot; /&gt;\r\n\t\t&lt;/requestFlow&gt;\r\n\t\t&lt;responseFlow&gt;\r\n\t\t\t&lt;handler name=&quot;log&quot;\r\n\t\t\t\ttype=&quot;java:{package.class}&quot; /&gt;\r\n\t\t&lt;/responseFlow&gt;\r\n\r\n\t&lt;/globalConfiguration&gt;\r\n\t&lt;transport name=&quot;http&quot;\r\n\t\tpivot=&quot;java:org.apache.axis.transport.http.HTTPSender&quot; /&gt;\r\n&lt;/deployment&gt;`","title":"Axis: No engine configuration file - aborting","body":"<p>Set the config file path from here</p>\n<pre><code>`System.setProperty(&quot;axis.ClientConfigFile&quot;, path);`\n</code></pre>\n<p>client_config.wsdd content be like</p>\n<pre><code>`&lt;deployment xmlns=&quot;http://xml.apache.org/axis/wsdd/&quot;\nxmlns:java=&quot;http://xml.apache.org/axis/wsdd/providers/java&quot;&gt;\n&lt;globalConfiguration&gt;\n    &lt;requestFlow&gt;\n        &lt;handler name=&quot;log&quot;\n            type=&quot;java:{package.class}&quot; /&gt;\n    &lt;/requestFlow&gt;\n    &lt;responseFlow&gt;\n        &lt;handler name=&quot;log&quot;\n            type=&quot;java:{package.class}&quot; /&gt;\n    &lt;/responseFlow&gt;\n\n&lt;/globalConfiguration&gt;\n&lt;transport name=&quot;http&quot;\n    pivot=&quot;java:org.apache.axis.transport.http.HTTPSender&quot; /&gt;\n</code></pre>\n<p>`</p>\n"}],"owner":{"account_id":56047,"reputation":177,"user_id":167896,"accept_rate":75,"display_name":"Yusuf Soysal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9937,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":9704139,"answer_count":3,"score":1,"last_activity_date":1664972808,"creation_date":1329833295,"question_id":9378963,"body_markdown":"My application - which is a WAR file - calls different web services using Axis. Yesterday we had a strange error regarding to Axis client_config.wsdd file. When we restart the application server (Weblogic 10.3.2), application began to write error logs saying:\r\n\r\n    org.apache.axis.ConfigurationException: No engine configuration file - aborting!\r\n        at org.apache.axis.configuration.FileProvider.configureEngine(FileProvider.java:175)\r\n        at org.apache.axis.AxisEngine.init(AxisEngine.java:172)\r\n        at org.apache.axis.AxisEngine.&lt;init&gt;(AxisEngine.java:156)\r\n        at org.apache.axis.client.AxisClient.&lt;init&gt;(AxisClient.java:52)\r\n        at org.apache.axis.client.Service.getAxisClient(Service.java:104)\r\n        at org.apache.axis.client.Service.&lt;init&gt;(Service.java:113)\r\n\r\nHowever, there is a client_config.wsdd file in axis.jar. We restarted the application server, the error is gone. How could it be possible that axis couldn&#39;t file the wsdd file that is already in axis.jar? Should I do anything to prevent this situation happen again (like copying the same file to WEB-INF/classes or some other folder)?\r\n\r\nThank you","title":"Axis: No engine configuration file - aborting","body":"<p>My application - which is a WAR file - calls different web services using Axis. Yesterday we had a strange error regarding to Axis client_config.wsdd file. When we restart the application server (Weblogic 10.3.2), application began to write error logs saying:</p>\n\n<pre><code>org.apache.axis.ConfigurationException: No engine configuration file - aborting!\n    at org.apache.axis.configuration.FileProvider.configureEngine(FileProvider.java:175)\n    at org.apache.axis.AxisEngine.init(AxisEngine.java:172)\n    at org.apache.axis.AxisEngine.&lt;init&gt;(AxisEngine.java:156)\n    at org.apache.axis.client.AxisClient.&lt;init&gt;(AxisClient.java:52)\n    at org.apache.axis.client.Service.getAxisClient(Service.java:104)\n    at org.apache.axis.client.Service.&lt;init&gt;(Service.java:113)\n</code></pre>\n\n<p>However, there is a client_config.wsdd file in axis.jar. We restarted the application server, the error is gone. How could it be possible that axis couldn't file the wsdd file that is already in axis.jar? Should I do anything to prevent this situation happen again (like copying the same file to WEB-INF/classes or some other folder)?</p>\n\n<p>Thank you</p>\n"},{"tags":["java","html","spring-boot"],"comments":[{"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"score":0,"creation_date":1664972531,"post_id":73960179,"comment_id":130589768,"body_markdown":"Does this answer your question? [Content type &#39;application/x-www-form-urlencoded;charset=UTF-8&#39; not supported for @RequestBody MultiValueMap](https://stackoverflow.com/questions/33796218/content-type-application-x-www-form-urlencodedcharset-utf-8-not-supported-for)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/33796218/content-type-application-x-www-form-urlencodedcharset-utf-8-not-supported-for\">Content type &#39;application/x-www-form-urlencoded;charset=UTF-8&#39; not supported for @RequestBody MultiValueMap</a>"},{"owner":{"account_id":26446486,"reputation":51,"user_id":20090266,"display_name":"Stefan Jankovic"},"score":0,"creation_date":1664972837,"post_id":73960179,"comment_id":130589880,"body_markdown":"Hi, thanks for helping. Somehow after next app reload I got a method called, but now I&#39;m getting another errors. Question is updated. Sorry.","body":"Hi, thanks for helping. Somehow after next app reload I got a method called, but now I&#39;m getting another errors. Question is updated. Sorry."}],"owner":{"account_id":26446486,"reputation":51,"user_id":20090266,"display_name":"Stefan Jankovic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664972790,"creation_date":1664972038,"question_id":73960179,"body_markdown":"I have a method that need to logout user and also need to delete his refresh token.\r\n\r\nThis is how its look like:\r\n\r\n        @PostMapping(&quot;/logout&quot;)\r\n        public ResponseEntity&lt;?&gt; logoutPage(@RequestBody TokenDTO dto) {\r\n        logger.error(&quot;I&#39;m in method&quot;);\r\n\r\n        String refreshTokenString = dto.getRefreshToken();\r\n            if (jwtHelper.validateRefreshToken(refreshTokenString) &amp;&amp; refreshTokenRepository.existsById(jwtHelper.getTokenIdFromRefreshToken(refreshTokenString))) {\r\n                // valid and exists in db\r\n                refreshTokenRepository.deleteById(jwtHelper.getTokenIdFromRefreshToken(refreshTokenString));\r\n\r\n                return ResponseEntity.ok().build();\r\n            }\r\n\r\n            throw new BadCredentialsException(&quot;invalid token&quot;);\r\n\r\n        }\r\n\r\nAs you can see I have logger.\r\n\r\nThis is inside Thymeleaf:\r\n\r\n    &lt;form method=&quot;post&quot; th:action=&quot;@{/api/auth/logout}&quot;&gt;\r\n    &lt;input type=&quot;submit&quot; value=&quot;Logout&quot;&gt;\r\n    &lt;/form&gt;\r\n\r\nWhen I trigger that button instead of deleting refresh token that is connected with user I&#39;m getting next error:\r\n\r\n    java.lang.NullPointerException: null\r\n    at com.auth0.jwt.TokenUtils.splitToken(TokenUtils.java:15) ~[java-jwt-4.0.0.jar:4.0.0]\r\n    at com.auth0.jwt.JWTDecoder.&lt;init&gt;(JWTDecoder.java:37) ~[java-jwt-4.0.0.jar:4.0.0]\r\n    at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:440) ~[java-jwt-4.0.0.jar:4.0.0]\r\n    at demo.tripadvisorapp.security.jwt.JwtHelper.decodeRefreshToken(JwtHelper.java:73) ~[classes/:na]\r\n    at demo.tripadvisorapp.security.jwt.JwtHelper.validateRefreshToken(JwtHelper.java:85) ~[classes/:na]\r\n    at demo.tripadvisorapp.security.api.AuthController.logoutPage(AuthController.java:127) ~[classes/:na]\r\n\r\n\r\nThis is `jwtHelper.decodeRefreshToken`\r\n\r\n       private Optional&lt;DecodedJWT&gt; decodeRefreshToken(String token) {\r\n        try {\r\n            return Optional.of(refreshTokenVerifier.verify(token));\r\n        } catch (JWTVerificationException e) {\r\n            log.error(&quot;invalid refresh token&quot;, e);\r\n        }\r\n        return Optional.empty();\r\n    }\r\n\r\nThis is `jwtHelper.validateRefreshToken`\r\n\r\n     public boolean validateRefreshToken(String token) {\r\n        return decodeRefreshToken(token).isPresent();\r\n    }\r\n\r\nAnd for `AuthController.logoutPage` I aready provided method above.\r\n\r\nWhat cause this problem, what I&#39;m doing wrong?","title":"NullPointerException while trying to delete refresh token from document after user logout","body":"<p>I have a method that need to logout user and also need to delete his refresh token.</p>\n<p>This is how its look like:</p>\n<pre><code>    @PostMapping(&quot;/logout&quot;)\n    public ResponseEntity&lt;?&gt; logoutPage(@RequestBody TokenDTO dto) {\n    logger.error(&quot;I'm in method&quot;);\n\n    String refreshTokenString = dto.getRefreshToken();\n        if (jwtHelper.validateRefreshToken(refreshTokenString) &amp;&amp; refreshTokenRepository.existsById(jwtHelper.getTokenIdFromRefreshToken(refreshTokenString))) {\n            // valid and exists in db\n            refreshTokenRepository.deleteById(jwtHelper.getTokenIdFromRefreshToken(refreshTokenString));\n\n            return ResponseEntity.ok().build();\n        }\n\n        throw new BadCredentialsException(&quot;invalid token&quot;);\n\n    }\n</code></pre>\n<p>As you can see I have logger.</p>\n<p>This is inside Thymeleaf:</p>\n<pre><code>&lt;form method=&quot;post&quot; th:action=&quot;@{/api/auth/logout}&quot;&gt;\n&lt;input type=&quot;submit&quot; value=&quot;Logout&quot;&gt;\n&lt;/form&gt;\n</code></pre>\n<p>When I trigger that button instead of deleting refresh token that is connected with user I'm getting next error:</p>\n<pre><code>java.lang.NullPointerException: null\nat com.auth0.jwt.TokenUtils.splitToken(TokenUtils.java:15) ~[java-jwt-4.0.0.jar:4.0.0]\nat com.auth0.jwt.JWTDecoder.&lt;init&gt;(JWTDecoder.java:37) ~[java-jwt-4.0.0.jar:4.0.0]\nat com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:440) ~[java-jwt-4.0.0.jar:4.0.0]\nat demo.tripadvisorapp.security.jwt.JwtHelper.decodeRefreshToken(JwtHelper.java:73) ~[classes/:na]\nat demo.tripadvisorapp.security.jwt.JwtHelper.validateRefreshToken(JwtHelper.java:85) ~[classes/:na]\nat demo.tripadvisorapp.security.api.AuthController.logoutPage(AuthController.java:127) ~[classes/:na]\n</code></pre>\n<p>This is <code>jwtHelper.decodeRefreshToken</code></p>\n<pre><code>   private Optional&lt;DecodedJWT&gt; decodeRefreshToken(String token) {\n    try {\n        return Optional.of(refreshTokenVerifier.verify(token));\n    } catch (JWTVerificationException e) {\n        log.error(&quot;invalid refresh token&quot;, e);\n    }\n    return Optional.empty();\n}\n</code></pre>\n<p>This is <code>jwtHelper.validateRefreshToken</code></p>\n<pre><code> public boolean validateRefreshToken(String token) {\n    return decodeRefreshToken(token).isPresent();\n}\n</code></pre>\n<p>And for <code>AuthController.logoutPage</code> I aready provided method above.</p>\n<p>What cause this problem, what I'm doing wrong?</p>\n"},{"tags":["java","variables","java.util.scanner"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1664972577,"post_id":73960254,"comment_id":130589782,"body_markdown":"what makes you think it doesn&#39;t allow it? Chance is, however, that the decimal point is .","body":"what makes you think it doesn&#39;t allow it? Chance is, however, that the decimal point is ."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1664972577,"post_id":73960254,"comment_id":130589783,"body_markdown":"Can you just input them with a dot instead of a comma?","body":"Can you just input them with a dot instead of a comma?"}],"owner":{"account_id":22925355,"reputation":39,"user_id":17060519,"display_name":"Jovan Raskovic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1664972683,"answer_count":0,"score":0,"last_activity_date":1664972787,"creation_date":1664972399,"question_id":73960254,"body_markdown":"As I was trying to create a certain calculator function for my electrical engineering lessons,\r\nI came upon a problem, that didn&#39;t let me scan comma values for the calculation. \r\nIs there any way that i can solve this problem?\r\n\r\nHere&#39;s my code:\r\n\r\n```java\r\nimport java.util.Scanner;\r\n    \r\npublic class Main {\r\n    \r\n  public static void main(String[] args) {\r\n    Scanner scan = new Scanner(System.in);\r\n    double voltage, resistance, current;\r\n   \r\n    System.out.println(&quot;Input value of R: &quot;);\r\n    resistance = scan.newDouble();\r\n\r\n    System.out.println(&quot;Input value of I: &quot;);\r\n    current = scan.nextDouble();\r\n\r\n    voltage = resistance * current;\r\n  }\r\n}\r\n```","title":"Is there a way that I can scan comma values in Java?","body":"<p>As I was trying to create a certain calculator function for my electrical engineering lessons,\nI came upon a problem, that didn't let me scan comma values for the calculation.\nIs there any way that i can solve this problem?</p>\n<p>Here's my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n    \npublic class Main {\n    \n  public static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    double voltage, resistance, current;\n   \n    System.out.println(&quot;Input value of R: &quot;);\n    resistance = scan.newDouble();\n\n    System.out.println(&quot;Input value of I: &quot;);\n    current = scan.nextDouble();\n\n    voltage = resistance * current;\n  }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","aop","spring-aop"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1664955974,"post_id":73957171,"comment_id":130584584,"body_markdown":"Forget about spring and think about plain java. None of the three implementations you show is implementing MyService, they&#39;re just implementing one part of it. If you wanted a usable implementation of MyService, you&#39;d still need to encapsulate the three small implementations into a big one that actually implements the whole service. So as you can&#39;t do it in plain java, you won&#39;t be able to do it on spring without doing custom annotation processing.","body":"Forget about spring and think about plain java. None of the three implementations you show is implementing MyService, they&#39;re just implementing one part of it. If you wanted a usable implementation of MyService, you&#39;d still need to encapsulate the three small implementations into a big one that actually implements the whole service. So as you can&#39;t do it in plain java, you won&#39;t be able to do it on spring without doing custom annotation processing."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1664956728,"post_id":73957171,"comment_id":130584792,"body_markdown":"I think you&#39;d have to implement something yourself - not necessarily an annotation processor but I&#39;d say more like a bean factory that can provide instances of `MyService`. From what I know that&#39;s how Spring is doing it, i.e. it is creating proxies at runtime. You could have a look at classes like `RepositoryFactorySupport` etc.- However, I&#39;d advice you to think about whether this is really worth the effort as there may be simpler solutions with a somewhat different design.","body":"I think you&#39;d have to implement something yourself - not necessarily an annotation processor but I&#39;d say more like a bean factory that can provide instances of <code>MyService</code>. From what I know that&#39;s how Spring is doing it, i.e. it is creating proxies at runtime. You could have a look at classes like <code>RepositoryFactorySupport</code> etc.- However, I&#39;d advice you to think about whether this is really worth the effort as there may be simpler solutions with a somewhat different design."}],"answers":[{"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1664959493,"post_id":73957806,"comment_id":130585682,"body_markdown":"You don&#39;t need to pull all those methods into a single interface. `MyService` extending multiple interfaces is just fine. Also, the OP is aware of the option to create the single implementation of the common interface which would be `ObjectImpl` in your example. However, the question is whether there is a way to automatically create a composite implementation from fragments that implement only one of the smaller interfaces each.","body":"You don&#39;t need to pull all those methods into a single interface. <code>MyService</code> extending multiple interfaces is just fine. Also, the OP is aware of the option to create the single implementation of the common interface which would be <code>ObjectImpl</code> in your example. However, the question is whether there is a way to automatically create a composite implementation from fragments that implement only one of the smaller interfaces each."},{"owner":{"account_id":20319669,"reputation":45,"user_id":14904658,"display_name":"LunaLissa"},"score":0,"creation_date":1664960070,"post_id":73957806,"comment_id":130585847,"body_markdown":"@Thomas thats why it&#39;s called CommonService, it&#39;s just common, just the easiest way.","body":"@Thomas thats why it&#39;s called CommonService, it&#39;s just common, just the easiest way."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1664961500,"post_id":73957806,"comment_id":130586246,"body_markdown":"Well, it&#39;s the easiest way to implement services but it doesn&#39;t really answer the OP&#39;s question as it&#39;s explicitly about composition of already existing partial implementations.","body":"Well, it&#39;s the easiest way to implement services but it doesn&#39;t really answer the OP&#39;s question as it&#39;s explicitly about composition of already existing partial implementations."}],"tags":[],"owner":{"account_id":20319669,"reputation":45,"user_id":14904658,"display_name":"LunaLissa"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664958954,"creation_date":1664958954,"answer_id":73957806,"question_id":73957171,"body_markdown":"The easiest way is you put all interface into one interface :\r\n\r\n    public interface CommonService&lt;T, Z&gt; {\r\n        void findById(long id);\r\n        void findAll();\r\n        void save();\r\n        void deleteById(long id);\r\n    }\r\n\r\nthen make your service that extends CommonService\r\n\r\n    public interface ObjectService extends CommonService&lt;Object, long&gt; {\r\n    \r\n    }\r\n\r\nand finally you can make impl that implements ObjectService\r\n\r\n    public class ObjectImpl implements ObjectService {\r\n    @Override\r\n        public void findById(long id) {\r\n            System.out.println(&quot;ObjectImpl::findById(&quot; + id + &quot;)&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void findAll() {\r\n            System.out.println(&quot;ObjectImpl::findAll()&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void save() {\r\n            System.out.println(&quot;ObjectImpl::save()&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void deleteById(long id) {\r\n            System.out.println(&quot;ObjectImpl::deleteById(&quot; + id + &quot;)&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n","title":"How to generate service implementation from multiple implementations at runtime?","body":"<p>The easiest way is you put all interface into one interface :</p>\n<pre><code>public interface CommonService&lt;T, Z&gt; {\n    void findById(long id);\n    void findAll();\n    void save();\n    void deleteById(long id);\n}\n</code></pre>\n<p>then make your service that extends CommonService</p>\n<pre><code>public interface ObjectService extends CommonService&lt;Object, long&gt; {\n\n}\n</code></pre>\n<p>and finally you can make impl that implements ObjectService</p>\n<pre><code>public class ObjectImpl implements ObjectService {\n@Override\n    public void findById(long id) {\n        System.out.println(&quot;ObjectImpl::findById(&quot; + id + &quot;)&quot;);\n    }\n\n    @Override\n    public void findAll() {\n        System.out.println(&quot;ObjectImpl::findAll()&quot;);\n    }\n\n    @Override\n    public void save() {\n        System.out.println(&quot;ObjectImpl::save()&quot;);\n    }\n\n    @Override\n    public void deleteById(long id) {\n        System.out.println(&quot;ObjectImpl::deleteById(&quot; + id + &quot;)&quot;);\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1426124,"reputation":1955,"user_id":3165402,"accept_rate":64,"display_name":"clzola"},"score":0,"creation_date":1664992454,"post_id":73959651,"comment_id":130597270,"body_markdown":"Thanks for very good explanation, I haven&#39;t tested it yet but thanks for pointing in right direction.","body":"Thanks for very good explanation, I haven&#39;t tested it yet but thanks for pointing in right direction."}],"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664972603,"creation_date":1664969003,"answer_id":73959651,"question_id":73957171,"body_markdown":"**Disclaimer**\r\n\r\nI&#39;m not a Spring expert, especially not in messing with bean creation etc. so take the following approach with a grain of salt. Your question got me thinking though so I played around with Spring and could come up with the following basic approach.\r\n\r\nPlease note that this is just meant to get you started and is nowhere near production ready. More research would be needed and others might even come in and show this is a wrong approach.\r\n\r\n**Approach**\r\n\r\nNow here&#39;s the approach:\r\n\r\n- Create a custom annotation to mark your interfaces that you&#39;re interested in.\r\n- Register factory methods that create proxies for those interfaces. These proxies will delegate the calls to respective &quot;fragment&quot; implementations.\r\n- Enable everything with an annotation on your application class.\r\n\r\n**Code (only additional relevant portions)**\r\n\r\nThe interface annotation:\r\n```\r\n@Target(ElementType.TYPE)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface CompositeService {}\r\n```\r\n\r\nThe enablement annotation:\r\n```\r\n@Target(ElementType.TYPE)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Import({CompositeServiceFactoryRegistrar.class})\r\npublic @interface EnableCompositeServices {}\r\n```\r\n\r\nThe main factory registrar (with inline comments):\r\n```\r\n@Component\r\npublic class CompositeServiceFactoryRegistrar implements ImportBeanDefinitionRegistrar, EnvironmentAware {\r\n\r\n\tprivate Map&lt;Class&lt;?&gt;, Supplier&lt;Object&gt;&gt; fragmentFactories = new HashMap&lt;&gt;();\r\n\r\n\tprivate Environment environment;\r\n   \r\n\tpublic CompositeServiceFactoryRegistrar() {\r\n        //hard coded fragment registration, you&#39;ll probably want to do a lookup of all interfaces and their implementation on the classpath instead\r\n\t\tfragmentFactories.put(SaveExtension.class, () -&gt; new SaveExtensionImpl());\r\n\t\tfragmentFactories.put(DeleteExtension.class, () -&gt; new DeleteExtensionImpl());\t\t\r\n\t\tfragmentFactories.put(FindExtension.class, () -&gt; new FindExtensionImpl());\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void setEnvironment(Environment environment) {\r\n\t\tthis.environment = environment;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void registerBeanDefinitions(AnnotationMetadata metadata, BeanDefinitionRegistry registry) {\r\n\t\t\r\n        //get the enablement annotation and set up package scan\r\n\t\tMap&lt;String, Object&gt; annotationAttributes = metadata.getAnnotationAttributes(EnableCompositeServices.class.getCanonicalName());\r\n\r\n\t\tif (annotationAttributes != null) {\r\n\t\t\tString[] basePackages = (String[]) annotationAttributes.get(&quot;value&quot;);\r\n\r\n\t\t\tif (basePackages == null || basePackages.length == 0) {\r\n\t\t\t\t// If value attribute is not set, fallback to the package of the annotated class\r\n\t\t\t\tbasePackages = new String[] {\r\n\t\t\t\t\t\t((StandardAnnotationMetadata) metadata).getIntrospectedClass().getPackage().getName() };\r\n\t\t\t}\r\n\r\n\t\t\t// using these packages, scan for interface annotated with MyCustomBean\r\n\t\t\tClassPathScanningCandidateComponentProvider provider = new ClassPathScanningCandidateComponentProvider(\r\n\t\t\t\t\tfalse, environment) {\r\n\t\t\t\t// Override isCandidateComponent to only scan for interface\r\n\t\t\t\t@Override\r\n\t\t\t\tprotected boolean isCandidateComponent(AnnotatedBeanDefinition beanDefinition) {\r\n\t\t\t\t\tAnnotationMetadata metadata = beanDefinition.getMetadata();\r\n\t\t\t\t\treturn metadata.isIndependent() &amp;&amp; metadata.isInterface();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tprovider.addIncludeFilter(new AnnotationTypeFilter(CompositeService.class));\r\n\r\n\t\t\t// Scan all packages\r\n\t\t\tfor (String basePackage : basePackages) {\r\n\t\t\t\tfor (BeanDefinition beanDefinition : provider.findCandidateComponents(basePackage)) {\t\t\t\t\t\r\n\r\n\t\t\t\t\tGenericBeanDefinition genericDef = new GenericBeanDefinition(beanDefinition);\r\n\t\t\t\t\t\r\n                    //resolve the interface class if not done yet\r\n\t\t\t\t\tif( !genericDef.hasBeanClass()) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tgenericDef.resolveBeanClass(getClassLoader());\r\n\t\t\t\t\t\t} catch(ClassNotFoundException e) {\r\n                            //simple logging, replace that with something more appropriate\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tClass&lt;?&gt; interfaceType = genericDef.getBeanClass();\t\t\t\t\t\t\t\t\t\r\n\r\n                    //add the factory to the bean definition and then register it\r\n\t\t\t\t\tgenericDef.setInstanceSupplier(() -&gt; createProxy(interfaceType) );\t\t\t\t\t\r\n\t\t\t\t\tregistry.registerBeanDefinition(interfaceType.getSimpleName(), genericDef);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n    /*\r\n     * Main factory method\r\n     */\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\tprivate &lt;T&gt; T createProxy(Class&lt;T&gt; type) {\r\n        //create the factory and set the interface type\r\n\t\tProxyFactory factory = new ProxyFactory();\r\n\t\tfactory.setInterfaces(type);\r\n\r\n        //add the advice that actually delegates to the fragments\r\n\t\tfactory.addAdvice(new MethodInterceptor() {\r\n\t\t\t@Override\r\n\t\t\tpublic Object invoke(MethodInvocation invocation) throws Throwable {\r\n\t\t\t\tMethod invokedMethod = invocation.getMethod();\r\n\r\n\t\t\t\tClass&lt;?&gt; invokedClass = invokedMethod.getDeclaringClass();\r\n\t\t\t\tif (invokedClass.isInterface()) {\r\n\r\n                    //create the fragment for this method, if not possible continue with the next interceptor\r\n\t\t\t\t\tSupplier&lt;Object&gt; supplier = fragmentFactories.get(invokedClass);\r\n\t\t\t\t\tif (supplier == null) {\r\n\t\t\t\t\t\treturn invocation.proceed();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tObject fragment = supplier.get();\r\n\r\n                    //get the fragment method and invoke it\r\n\t\t\t\t\tMethod targetMethod = fragment.getClass().getDeclaredMethod(invokedMethod.getName(),\r\n\t\t\t\t\t\t\tinvokedMethod.getParameterTypes());\r\n\r\n\t\t\t\t\treturn targetMethod.invoke(fragment, invocation.getArguments());\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn invocation.proceed();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn (T) factory.getProxy(getClassLoader());\r\n\t}\r\n\t\r\n\tprivate ClassLoader getClassLoader() {\r\n\t\treturn getClass().getClassLoader();\r\n\t}\r\n}\r\n```\r\n\r\nNote that this is a very simple implementation and has a couple of drawbacks, e.g.\r\n- it doesn&#39;t handle overloads and parameter conversion\r\n- it may have difficulties with overrides -&gt; needs some more reflection magic\r\n- fragments are hard coded\r\n- (I suspect many more)","title":"How to generate service implementation from multiple implementations at runtime?","body":"<p><strong>Disclaimer</strong></p>\n<p>I'm not a Spring expert, especially not in messing with bean creation etc. so take the following approach with a grain of salt. Your question got me thinking though so I played around with Spring and could come up with the following basic approach.</p>\n<p>Please note that this is just meant to get you started and is nowhere near production ready. More research would be needed and others might even come in and show this is a wrong approach.</p>\n<p><strong>Approach</strong></p>\n<p>Now here's the approach:</p>\n<ul>\n<li>Create a custom annotation to mark your interfaces that you're interested in.</li>\n<li>Register factory methods that create proxies for those interfaces. These proxies will delegate the calls to respective &quot;fragment&quot; implementations.</li>\n<li>Enable everything with an annotation on your application class.</li>\n</ul>\n<p><strong>Code (only additional relevant portions)</strong></p>\n<p>The interface annotation:</p>\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface CompositeService {}\n</code></pre>\n<p>The enablement annotation:</p>\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Import({CompositeServiceFactoryRegistrar.class})\npublic @interface EnableCompositeServices {}\n</code></pre>\n<p>The main factory registrar (with inline comments):</p>\n<pre><code>@Component\npublic class CompositeServiceFactoryRegistrar implements ImportBeanDefinitionRegistrar, EnvironmentAware {\n\n    private Map&lt;Class&lt;?&gt;, Supplier&lt;Object&gt;&gt; fragmentFactories = new HashMap&lt;&gt;();\n\n    private Environment environment;\n   \n    public CompositeServiceFactoryRegistrar() {\n        //hard coded fragment registration, you'll probably want to do a lookup of all interfaces and their implementation on the classpath instead\n        fragmentFactories.put(SaveExtension.class, () -&gt; new SaveExtensionImpl());\n        fragmentFactories.put(DeleteExtension.class, () -&gt; new DeleteExtensionImpl());      \n        fragmentFactories.put(FindExtension.class, () -&gt; new FindExtensionImpl());\n    }\n\n    @Override\n    public void setEnvironment(Environment environment) {\n        this.environment = environment;\n    }\n\n    @Override\n    public void registerBeanDefinitions(AnnotationMetadata metadata, BeanDefinitionRegistry registry) {\n        \n        //get the enablement annotation and set up package scan\n        Map&lt;String, Object&gt; annotationAttributes = metadata.getAnnotationAttributes(EnableCompositeServices.class.getCanonicalName());\n\n        if (annotationAttributes != null) {\n            String[] basePackages = (String[]) annotationAttributes.get(&quot;value&quot;);\n\n            if (basePackages == null || basePackages.length == 0) {\n                // If value attribute is not set, fallback to the package of the annotated class\n                basePackages = new String[] {\n                        ((StandardAnnotationMetadata) metadata).getIntrospectedClass().getPackage().getName() };\n            }\n\n            // using these packages, scan for interface annotated with MyCustomBean\n            ClassPathScanningCandidateComponentProvider provider = new ClassPathScanningCandidateComponentProvider(\n                    false, environment) {\n                // Override isCandidateComponent to only scan for interface\n                @Override\n                protected boolean isCandidateComponent(AnnotatedBeanDefinition beanDefinition) {\n                    AnnotationMetadata metadata = beanDefinition.getMetadata();\n                    return metadata.isIndependent() &amp;&amp; metadata.isInterface();\n                }\n            };\n            provider.addIncludeFilter(new AnnotationTypeFilter(CompositeService.class));\n\n            // Scan all packages\n            for (String basePackage : basePackages) {\n                for (BeanDefinition beanDefinition : provider.findCandidateComponents(basePackage)) {                   \n\n                    GenericBeanDefinition genericDef = new GenericBeanDefinition(beanDefinition);\n                    \n                    //resolve the interface class if not done yet\n                    if( !genericDef.hasBeanClass()) {\n                        try {\n                            genericDef.resolveBeanClass(getClassLoader());\n                        } catch(ClassNotFoundException e) {\n                            //simple logging, replace that with something more appropriate\n                            e.printStackTrace();\n                        }\n                    }\n                    \n                    Class&lt;?&gt; interfaceType = genericDef.getBeanClass();                                 \n\n                    //add the factory to the bean definition and then register it\n                    genericDef.setInstanceSupplier(() -&gt; createProxy(interfaceType) );                  \n                    registry.registerBeanDefinition(interfaceType.getSimpleName(), genericDef);\n                }\n            }\n        }\n    }\n\n    /*\n     * Main factory method\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    private &lt;T&gt; T createProxy(Class&lt;T&gt; type) {\n        //create the factory and set the interface type\n        ProxyFactory factory = new ProxyFactory();\n        factory.setInterfaces(type);\n\n        //add the advice that actually delegates to the fragments\n        factory.addAdvice(new MethodInterceptor() {\n            @Override\n            public Object invoke(MethodInvocation invocation) throws Throwable {\n                Method invokedMethod = invocation.getMethod();\n\n                Class&lt;?&gt; invokedClass = invokedMethod.getDeclaringClass();\n                if (invokedClass.isInterface()) {\n\n                    //create the fragment for this method, if not possible continue with the next interceptor\n                    Supplier&lt;Object&gt; supplier = fragmentFactories.get(invokedClass);\n                    if (supplier == null) {\n                        return invocation.proceed();\n                    }\n\n                    Object fragment = supplier.get();\n\n                    //get the fragment method and invoke it\n                    Method targetMethod = fragment.getClass().getDeclaredMethod(invokedMethod.getName(),\n                            invokedMethod.getParameterTypes());\n\n                    return targetMethod.invoke(fragment, invocation.getArguments());\n                } else {\n                    return invocation.proceed();\n                }\n            }\n        });\n\n        return (T) factory.getProxy(getClassLoader());\n    }\n    \n    private ClassLoader getClassLoader() {\n        return getClass().getClassLoader();\n    }\n}\n</code></pre>\n<p>Note that this is a very simple implementation and has a couple of drawbacks, e.g.</p>\n<ul>\n<li>it doesn't handle overloads and parameter conversion</li>\n<li>it may have difficulties with overrides -&gt; needs some more reflection magic</li>\n<li>fragments are hard coded</li>\n<li>(I suspect many more)</li>\n</ul>\n"}],"owner":{"account_id":1426124,"reputation":1955,"user_id":3165402,"accept_rate":64,"display_name":"clzola"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":745,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73959651,"answer_count":2,"score":0,"last_activity_date":1664972603,"creation_date":1664955559,"question_id":73957171,"body_markdown":"Let&#39;s say I have following interfaces:\r\n\r\n```java\r\npublic interface FindExtension {\r\n    void findById(long id);\r\n    void findAll();\r\n}\r\n\r\npublic interface SaveExtension {\r\n    void save();\r\n}\r\n\r\npublic interface DeleteExtension {\r\n    void deleteById(long id);\r\n}\r\n```\r\n\r\nAnd I have following implementations:\r\n\r\n```java\r\npublic class FindExtensionImpl implements FindExtension {\r\n\r\n    @Override\r\n    public void findById(long id) {\r\n        System.out.println(&quot;FindExtensionImpl::findById(&quot; + id + &quot;)&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void findAll() {\r\n        System.out.println(&quot;FindExtensionImpl::findAll()&quot;);\r\n    }\r\n}\r\n\r\npublic class SaveExtensionImpl implements SaveExtension {\r\n\r\n    @Override\r\n    public void save() {\r\n        System.out.println(&quot;SaveExtensionImpl::save()&quot;);\r\n    }\r\n}\r\n\r\npublic class DeleteExtensionImpl implements DeleteExtension {\r\n    @Override\r\n    public void deleteById(long id) {\r\n        System.out.println(&quot;DeleteExtensionImpl::deleteById(&quot; + id + &quot;)&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAnd now I want to mix these implementations and let&#39;s say I want this service:\r\n\r\n```java\r\npublic interface MyService extends FindExtension, SaveExtension, DeleteExtension {\r\n}\r\n```\r\n\r\nNow, in my Spring Boot Application I would like to inject `MyService` implementation into one of my controllers. Usually what I would do, I would create `MyServiceImpl` class, implement interface methods and annotate with `@Service`. That way Spring Boot will scan my code and create instance of this service and provide it to me anytime I need it.\r\n\r\nHowever, I would like not to create `MyServiceImpl`, but rather that to be generated by the framework at runtime, in otherwords composed from little pieces. How do I tell Spring Boot to do that automatically? Or do I need to create my own Annotation and Annotation Processor that would somehow generate implementation?\r\n\r\nThis is something similar to Spring Boot repositories where I would have this interface:\r\n\r\n```java\r\n@Repository\r\ninterface IPostRepository implements JpaRepository&lt;Post,Long&gt;, QuerydslPredicateExecutor&lt;Post&gt;, PostCustomRepositoryExtension { }\r\n```\r\n\r\nAnd Spring Boot would &quot;magically&quot; create implementation of this interface and inject methods from JpaRepository, QuerydslPredicateExecutor and my own PostCustomRepositoryExtension...\r\n\r\nSince Spring Boot already does similar logic to that of mine, I am wondering can I reuse that and how?","title":"How to generate service implementation from multiple implementations at runtime?","body":"<p>Let's say I have following interfaces:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface FindExtension {\n    void findById(long id);\n    void findAll();\n}\n\npublic interface SaveExtension {\n    void save();\n}\n\npublic interface DeleteExtension {\n    void deleteById(long id);\n}\n</code></pre>\n<p>And I have following implementations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FindExtensionImpl implements FindExtension {\n\n    @Override\n    public void findById(long id) {\n        System.out.println(&quot;FindExtensionImpl::findById(&quot; + id + &quot;)&quot;);\n    }\n\n    @Override\n    public void findAll() {\n        System.out.println(&quot;FindExtensionImpl::findAll()&quot;);\n    }\n}\n\npublic class SaveExtensionImpl implements SaveExtension {\n\n    @Override\n    public void save() {\n        System.out.println(&quot;SaveExtensionImpl::save()&quot;);\n    }\n}\n\npublic class DeleteExtensionImpl implements DeleteExtension {\n    @Override\n    public void deleteById(long id) {\n        System.out.println(&quot;DeleteExtensionImpl::deleteById(&quot; + id + &quot;)&quot;);\n    }\n}\n</code></pre>\n<p>And now I want to mix these implementations and let's say I want this service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyService extends FindExtension, SaveExtension, DeleteExtension {\n}\n</code></pre>\n<p>Now, in my Spring Boot Application I would like to inject <code>MyService</code> implementation into one of my controllers. Usually what I would do, I would create <code>MyServiceImpl</code> class, implement interface methods and annotate with <code>@Service</code>. That way Spring Boot will scan my code and create instance of this service and provide it to me anytime I need it.</p>\n<p>However, I would like not to create <code>MyServiceImpl</code>, but rather that to be generated by the framework at runtime, in otherwords composed from little pieces. How do I tell Spring Boot to do that automatically? Or do I need to create my own Annotation and Annotation Processor that would somehow generate implementation?</p>\n<p>This is something similar to Spring Boot repositories where I would have this interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\ninterface IPostRepository implements JpaRepository&lt;Post,Long&gt;, QuerydslPredicateExecutor&lt;Post&gt;, PostCustomRepositoryExtension { }\n</code></pre>\n<p>And Spring Boot would &quot;magically&quot; create implementation of this interface and inject methods from JpaRepository, QuerydslPredicateExecutor and my own PostCustomRepositoryExtension...</p>\n<p>Since Spring Boot already does similar logic to that of mine, I am wondering can I reuse that and how?</p>\n"},{"tags":["java","spring","email","jakarta-mail","mule4"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1664969407,"post_id":73959590,"comment_id":130588733,"body_markdown":"Why are you using the mule4 tag if the issue is pure Java/Spring/javamail?","body":"Why are you using the mule4 tag if the issue is pure Java/Spring/javamail?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664969461,"post_id":73959590,"comment_id":130588753,"body_markdown":"You think they are valid but they aren&#39;t else you wouldn&#39;t get the exception. Are the placeholders actually being replaced with the values you have set?","body":"You think they are valid but they aren&#39;t else you wouldn&#39;t get the exception. Are the placeholders actually being replaced with the values you have set?"},{"owner":{"account_id":7608559,"reputation":314,"user_id":5770332,"accept_rate":60,"display_name":"Abhay"},"score":0,"creation_date":1664971770,"post_id":73959590,"comment_id":130589513,"body_markdown":"Yes, I can see in DEBUG logs, values are being replaced properly. Have tried hardcoding also.","body":"Yes, I can see in DEBUG logs, values are being replaced properly. Have tried hardcoding also."},{"owner":{"account_id":7608559,"reputation":314,"user_id":5770332,"accept_rate":60,"display_name":"Abhay"},"score":0,"creation_date":1664971805,"post_id":73959590,"comment_id":130589528,"body_markdown":"aled - I have tried the same in Mule also that&#39;s why. Hoping if someone has faced the same issue then they might be able to help","body":"aled - I have tried the same in Mule also that&#39;s why. Hoping if someone has faced the same issue then they might be able to help"},{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1664972363,"post_id":73959590,"comment_id":130589705,"body_markdown":"It should only have ssl or starttls only not both. ssl is old and starttls is new encryption. Can you try with port 587 (With TLS/SSL)?","body":"It should only have ssl or starttls only not both. ssl is old and starttls is new encryption. Can you try with port 587 (With TLS/SSL)?"},{"owner":{"account_id":7608559,"reputation":314,"user_id":5770332,"accept_rate":60,"display_name":"Abhay"},"score":0,"creation_date":1664972926,"post_id":73959590,"comment_id":130589920,"body_markdown":"I removed SSL and tried. Got this error - Error while sending email: Got bad greeting from SMTP host: smtp.mail.com, port: 465, response: [EOF]","body":"I removed SSL and tried. Got this error - Error while sending email: Got bad greeting from SMTP host: smtp.mail.com, port: 465, response: [EOF]"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1664977690,"post_id":73959590,"comment_id":130591877,"body_markdown":"You are not configuring TLS correctly for the Mule 4 SMTP connector. You should not do it using Javamail properties but the connector configurations. Read the documentation. Probably it is not the cause of your issue though, since you are getting an answer from the server.","body":"You are not configuring TLS correctly for the Mule 4 SMTP connector. You should not do it using Javamail properties but the connector configurations. Read the documentation. Probably it is not the cause of your issue though, since you are getting an answer from the server."}],"owner":{"account_id":7608559,"reputation":314,"user_id":5770332,"accept_rate":60,"display_name":"Abhay"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664972512,"creation_date":1664968539,"question_id":73959590,"body_markdown":"I am trying to send mail using SMTP in Java. Below are the details:\r\n\r\n```xml\r\n&lt;bean id=&quot;mailSender&quot;\r\n\tclass=&quot;org.springframework.mail.javamail.JavaMailSenderImpl&quot;&gt;\r\n\t&lt;property name=&quot;host&quot; value=&quot;smtp.mail.com&quot; /&gt;\r\n\t&lt;property name=&quot;port&quot; value=&quot;465&quot; /&gt;\r\n\t&lt;property name=&quot;username&quot; value=&quot;${mail.user}&quot; /&gt;\r\n\t&lt;property name=&quot;password&quot; value=&quot;${mail.pwd}&quot; /&gt;\r\n\t&lt;property name=&quot;javaMailProperties&quot;&gt;\r\n\t\t&lt;props&gt;\r\n\t\t\t&lt;prop key=&quot;mail.smtp.auth&quot;&gt;true&lt;/prop&gt;\r\n\t\t\t&lt;prop key=&quot;mail.smtp.starttls.enable&quot;&gt;true&lt;/prop&gt;\r\n\t\t\t&lt;prop key=&quot;mail.smtp.starttls.required&quot;&gt;true&lt;/prop&gt;\r\n\t\t\t&lt;prop key=&quot;mail.smtp.ssl.enabled&quot;&gt;true&lt;/prop&gt;\r\n\t\t\t&lt;prop key=&quot;mail.debug&quot;&gt;true&lt;/prop&gt;\r\n\t\t&lt;/props&gt;\r\n\t&lt;/property&gt;\r\n&lt;/bean&gt;\r\n```\r\n\r\nError I am getting is:\r\n\r\n&gt; 535 Authentication credentials invalid\r\n\r\nBut the credentials are valid, I use the same for logging in from UI. Also, I have tried 587 and 25 port numbers, changing auth and tls values but to no avail.\r\n\r\nSMTP settings for mail.com - https://www.lifewire.com/what-are-mail-com-smtp-settings-1170500\r\n\r\nNote - I have tried it in both Java app and Mule 4 app\r\n\r\nMule 4 config: \r\n\r\n```xml\r\n&lt;email:smtp-config name=&quot;Email_SMTP&quot; doc:name=&quot;Email SMTP&quot; doc:id=&quot;0e79558e-d0c8-42e3-b534-6d18439fc1e0&quot; &gt;\r\n\t&lt;email:smtp-connection host=&quot;smtp.mail.com&quot; user=&quot;user@mail.com&quot; password=&quot;****&quot; connectionTimeout=&quot;10&quot; port=&quot;587&quot; readTimeout=&quot;10&quot; writeTimeout=&quot;10&quot;&gt;\r\n\t\t&lt;email:properties &gt;\r\n\t\t\t&lt;email:property key=&quot;mail.smtp.auth&quot; value=&quot;true&quot; /&gt;\r\n\t\t\t&lt;email:property key=&quot;mail.smtp.starttls.enable&quot; value=&quot;true&quot; /&gt;\r\n\t\t\t&lt;email:property key=&quot;mail.smtp.starttls.required&quot; value=&quot;true&quot; /&gt;\r\n\t\t\t&lt;email:property key=&quot;mail.debug&quot; value=&quot;true&quot; /&gt;\r\n\t\t\t&lt;email:property key=&quot;mail.smtp.ssl.enable&quot; value=&quot;true&quot; /&gt;\r\n\t\t&lt;/email:properties&gt;\r\n\t&lt;/email:smtp-connection&gt;\r\n&lt;/email:smtp-config&gt;\r\n```\r\n\r\nSince I have faced same in both Java and Mule, I am suspecting it&#39;s something to do with the SSL or Auth properties.\r\n","title":"Mail sender fails due to bad credentials","body":"<p>I am trying to send mail using SMTP in Java. Below are the details:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=&quot;mailSender&quot;\n    class=&quot;org.springframework.mail.javamail.JavaMailSenderImpl&quot;&gt;\n    &lt;property name=&quot;host&quot; value=&quot;smtp.mail.com&quot; /&gt;\n    &lt;property name=&quot;port&quot; value=&quot;465&quot; /&gt;\n    &lt;property name=&quot;username&quot; value=&quot;${mail.user}&quot; /&gt;\n    &lt;property name=&quot;password&quot; value=&quot;${mail.pwd}&quot; /&gt;\n    &lt;property name=&quot;javaMailProperties&quot;&gt;\n        &lt;props&gt;\n            &lt;prop key=&quot;mail.smtp.auth&quot;&gt;true&lt;/prop&gt;\n            &lt;prop key=&quot;mail.smtp.starttls.enable&quot;&gt;true&lt;/prop&gt;\n            &lt;prop key=&quot;mail.smtp.starttls.required&quot;&gt;true&lt;/prop&gt;\n            &lt;prop key=&quot;mail.smtp.ssl.enabled&quot;&gt;true&lt;/prop&gt;\n            &lt;prop key=&quot;mail.debug&quot;&gt;true&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>Error I am getting is:</p>\n<blockquote>\n<p>535 Authentication credentials invalid</p>\n</blockquote>\n<p>But the credentials are valid, I use the same for logging in from UI. Also, I have tried 587 and 25 port numbers, changing auth and tls values but to no avail.</p>\n<p>SMTP settings for mail.com - <a href=\"https://www.lifewire.com/what-are-mail-com-smtp-settings-1170500\" rel=\"nofollow noreferrer\">https://www.lifewire.com/what-are-mail-com-smtp-settings-1170500</a></p>\n<p>Note - I have tried it in both Java app and Mule 4 app</p>\n<p>Mule 4 config:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;email:smtp-config name=&quot;Email_SMTP&quot; doc:name=&quot;Email SMTP&quot; doc:id=&quot;0e79558e-d0c8-42e3-b534-6d18439fc1e0&quot; &gt;\n    &lt;email:smtp-connection host=&quot;smtp.mail.com&quot; user=&quot;user@mail.com&quot; password=&quot;****&quot; connectionTimeout=&quot;10&quot; port=&quot;587&quot; readTimeout=&quot;10&quot; writeTimeout=&quot;10&quot;&gt;\n        &lt;email:properties &gt;\n            &lt;email:property key=&quot;mail.smtp.auth&quot; value=&quot;true&quot; /&gt;\n            &lt;email:property key=&quot;mail.smtp.starttls.enable&quot; value=&quot;true&quot; /&gt;\n            &lt;email:property key=&quot;mail.smtp.starttls.required&quot; value=&quot;true&quot; /&gt;\n            &lt;email:property key=&quot;mail.debug&quot; value=&quot;true&quot; /&gt;\n            &lt;email:property key=&quot;mail.smtp.ssl.enable&quot; value=&quot;true&quot; /&gt;\n        &lt;/email:properties&gt;\n    &lt;/email:smtp-connection&gt;\n&lt;/email:smtp-config&gt;\n</code></pre>\n<p>Since I have faced same in both Java and Mule, I am suspecting it's something to do with the SSL or Auth properties.</p>\n"},{"tags":["java","math"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1664968534,"post_id":73959547,"comment_id":130588494,"body_markdown":"`double` is already doing that - as the first bit in binary decimal representation is always 1 (to some power of 2), it is omitted.","body":"<code>double</code> is already doing that - as the first bit in binary decimal representation is always 1 (to some power of 2), it is omitted."},{"owner":{"account_id":19164,"reputation":5598,"user_id":44680,"display_name":"Pianosaurus"},"score":0,"creation_date":1664968683,"post_id":73959547,"comment_id":130588548,"body_markdown":"To add to that: What you are seeing when you see 0.94.... is the output of some function that converts the binary representation of the double into a human readable _decimal_ number. The internal representation is very different, and is using all its bits in a quite efficient way.","body":"To add to that: What you are seeing when you see 0.94.... is the output of some function that converts the binary representation of the double into a human readable <i>decimal</i> number. The internal representation is very different, and is using all its bits in a quite efficient way."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1664968862,"post_id":73959547,"comment_id":130588598,"body_markdown":"From https://en.wikipedia.org/wiki/Double-precision_floating-point_format: &quot;The 53-bit significand precision gives from 15 to 17 significant decimal digits precision (2−53 ≈ 1.11 &#215; 10−16)&quot;. So no, you should not expect to be able to store 18 significant digits. If you need more precision than that, use `BigDecimal`.","body":"From <a href=\"https://en.wikipedia.org/wiki/Double-precision_floating-point_format\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Double-precision_floating-point_format</a>&zwnj;&#8203;: &quot;The 53-bit significand precision gives from 15 to 17 significant decimal digits precision (2−53 ≈ 1.11 &#215; 10−16)&quot;. So no, you should not expect to be able to store 18 significant digits. If you need more precision than that, use <code>BigDecimal</code>."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664972060,"creation_date":1664972060,"answer_id":73960181,"question_id":73959547,"body_markdown":"You can&#39;t. At all.\r\n\r\n`double` &#39;makes sense&#39; in binary. A `double` uses 64-bits, therefore, by basic laws of the universe, it cannot possibly represent more than 2^64 unique numbers. With `long`, which can also represent 2^64 unique numbers, these numbers are simply 0 to 2^63-1 on the positive side and -2^63 to -1 on the negative side. But for doubles it&#39;s _way_ more complicated.\r\n\r\nYou seem to think it stores 18 digits and separately, where the &#39;.&#39; is.\r\n\r\nBut, that wouldn&#39;t make sense. It&#39;s only &quot;18 digits&quot; if you represent the number in decimal (decimal = count on 10 fingers). But computers have 2 fingers; just like we modern humans tend to go: 0,1,2,3,4,5,6,7,8,9 - oh, out of fingers now, so, uh... we&#39;ll.... just start from the beginning again and add a new digit! 1..0... 10! ten!\r\n\r\nComputers go: 0, 1.... oh, out of fingers now, so... 10, 11, 100, 101, 110, 111, 1000, 1001, and so on.\r\n\r\nNow, in our decimal system, you __cannot properly represent__ 1 divided by 3. Can&#39;t be done, doesn&#39;t matter how many digits you care to involve. You&#39;re forced to round it. The reason is that 3 doesn&#39;t neatly divide into 10. Imagine we were more like the ancient germanic or sumeric peoples, you don&#39;t count fingers but you count phalanxes - take your thumb, touch the top of your pointer finger, that&#39;s 1. Go down one phalanx, and keep going. For the 4th phalanx, go to the top of your middle finger. You have 12 phalanxes not on your thumb, so now you count to 12 on one hand (yes, the romans are kinda stupid, this system is so much better) You&#39;ll have to make up a symbol for the digit &#39;10&#39; (we decimal counters don&#39;t have such a digit, 9 is our last. They have 2 more. Let&#39;s call them A and B for 10 and 11). In their system, 1/3 can be written as 0.4.\r\n\r\nFor the same reason, something like 1/5, which works great in decimal (That&#39;s simply 0.2), __cannot be perfectly represented in binary__ - for the same reason 1/3 can&#39;t in decimal.\r\n\r\nThat should hopefully explain why none of your thinking is going to work out. You just can&#39;t trouble `double` that way - as &#39;its a bunch of digits and a dot someplace&#39;.\r\n\r\nThe obvious way to go here is to use `BigDecimal` which works exactly as you want (it&#39;s any amount of digits - as many as you want. hundreds of thousands is fine), and a number representing &#39;where is the dot&#39;). However, it&#39;s _considerably_ larger in memory load than a `double`, so if that&#39;s the reason, you&#39;re in trouble. Hopefully its not.\r\n\r\nA worse alternative would be to represent your number as a `long`, with your code knowing that e.g. long value `947368421052631578` means `0.947368421052631578` which is not an easy operation to perform, and cannot be done with `double` math (because `0.947368421052631578` in in decimal is not going to work in binary, it&#39;ll be endless just like 1/3 is).\r\n","title":"how to store 18 digits in a double datatype (when numerator&lt;denominator)","body":"<p>You can't. At all.</p>\n<p><code>double</code> 'makes sense' in binary. A <code>double</code> uses 64-bits, therefore, by basic laws of the universe, it cannot possibly represent more than 2^64 unique numbers. With <code>long</code>, which can also represent 2^64 unique numbers, these numbers are simply 0 to 2^63-1 on the positive side and -2^63 to -1 on the negative side. But for doubles it's <em>way</em> more complicated.</p>\n<p>You seem to think it stores 18 digits and separately, where the '.' is.</p>\n<p>But, that wouldn't make sense. It's only &quot;18 digits&quot; if you represent the number in decimal (decimal = count on 10 fingers). But computers have 2 fingers; just like we modern humans tend to go: 0,1,2,3,4,5,6,7,8,9 - oh, out of fingers now, so, uh... we'll.... just start from the beginning again and add a new digit! 1..0... 10! ten!</p>\n<p>Computers go: 0, 1.... oh, out of fingers now, so... 10, 11, 100, 101, 110, 111, 1000, 1001, and so on.</p>\n<p>Now, in our decimal system, you <strong>cannot properly represent</strong> 1 divided by 3. Can't be done, doesn't matter how many digits you care to involve. You're forced to round it. The reason is that 3 doesn't neatly divide into 10. Imagine we were more like the ancient germanic or sumeric peoples, you don't count fingers but you count phalanxes - take your thumb, touch the top of your pointer finger, that's 1. Go down one phalanx, and keep going. For the 4th phalanx, go to the top of your middle finger. You have 12 phalanxes not on your thumb, so now you count to 12 on one hand (yes, the romans are kinda stupid, this system is so much better) You'll have to make up a symbol for the digit '10' (we decimal counters don't have such a digit, 9 is our last. They have 2 more. Let's call them A and B for 10 and 11). In their system, 1/3 can be written as 0.4.</p>\n<p>For the same reason, something like 1/5, which works great in decimal (That's simply 0.2), <strong>cannot be perfectly represented in binary</strong> - for the same reason 1/3 can't in decimal.</p>\n<p>That should hopefully explain why none of your thinking is going to work out. You just can't trouble <code>double</code> that way - as 'its a bunch of digits and a dot someplace'.</p>\n<p>The obvious way to go here is to use <code>BigDecimal</code> which works exactly as you want (it's any amount of digits - as many as you want. hundreds of thousands is fine), and a number representing 'where is the dot'). However, it's <em>considerably</em> larger in memory load than a <code>double</code>, so if that's the reason, you're in trouble. Hopefully its not.</p>\n<p>A worse alternative would be to represent your number as a <code>long</code>, with your code knowing that e.g. long value <code>947368421052631578</code> means <code>0.947368421052631578</code> which is not an easy operation to perform, and cannot be done with <code>double</code> math (because <code>0.947368421052631578</code> in in decimal is not going to work in binary, it'll be endless just like 1/3 is).</p>\n"}],"owner":{"display_name":"user19804865"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664972060,"creation_date":1664968304,"question_id":73959547,"body_markdown":"What I want to do is, for example \r\n```\r\nint num = 18, den = 19;\r\ndouble q=(double)num/(double)den;\r\n```\r\nreturns 0.9473684210526315\r\n\r\nbut what I want is 0.947368421052631578\r\n\r\nsince num&lt;den, the left of the decimal point is always going to &quot;0.&quot;, is there anyway i can use those character&#39;s space and give it to &quot;78&quot; instead?\r\nif I can&#39;t do that, what would be another approach? \r\n\r\nthe reason I need this is an LC question.","title":"how to store 18 digits in a double datatype (when numerator&lt;denominator)","body":"<p>What I want to do is, for example</p>\n<pre><code>int num = 18, den = 19;\ndouble q=(double)num/(double)den;\n</code></pre>\n<p>returns 0.9473684210526315</p>\n<p>but what I want is 0.947368421052631578</p>\n<p>since num&lt;den, the left of the decimal point is always going to &quot;0.&quot;, is there anyway i can use those character's space and give it to &quot;78&quot; instead?\nif I can't do that, what would be another approach?</p>\n<p>the reason I need this is an LC question.</p>\n"},{"tags":["java","12factor"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664981732,"post_id":73960105,"comment_id":130593586,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":26534983,"reputation":1,"user_id":20166646,"display_name":"Nile Rizwan"},"score":0,"creation_date":1665579907,"post_id":73960105,"comment_id":130733642,"body_markdown":"no worries all good the question has been resolved thanks","body":"no worries all good the question has been resolved thanks"}],"owner":{"account_id":26534983,"reputation":1,"user_id":20166646,"display_name":"Nile Rizwan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664971665,"creation_date":1664971665,"question_id":73960105,"body_markdown":"when the username and passwords is correct the Jbutton takes the user to the OKTA verify webpage the user authenticates and is redirected to the java application but the page after the login","title":"Jbutton to redirect to 2FA url authenticate and come back to application with new page","body":"<p>when the username and passwords is correct the Jbutton takes the user to the OKTA verify webpage the user authenticates and is redirected to the java application but the page after the login</p>\n"},{"tags":["java","algorithm","binary-tree"],"comments":[{"owner":{"account_id":413689,"reputation":40197,"user_id":787480,"accept_rate":69,"display_name":"Sneftel"},"score":0,"creation_date":1562169284,"post_id":56873764,"comment_id":100296352,"body_markdown":"What random distribution do you need the tree shape to have?","body":"What random distribution do you need the tree shape to have?"},{"owner":{"account_id":13351870,"reputation":129,"user_id":9636850,"display_name":"sirshakir"},"score":0,"creation_date":1562169320,"post_id":56873764,"comment_id":100296371,"body_markdown":"Your tree needs a root. Start at root and recursively add the remaining nodes. Each layer will have twice many nodes as parent. Use a little bit of math to determine the amount of layers n will produce if needed.","body":"Your tree needs a root. Start at root and recursively add the remaining nodes. Each layer will have twice many nodes as parent. Use a little bit of math to determine the amount of layers n will produce if needed."},{"owner":{"account_id":1695351,"reputation":3510,"user_id":1556820,"accept_rate":50,"display_name":"mangusta"},"score":2,"creation_date":1562169327,"post_id":56873764,"comment_id":100296376,"body_markdown":"the only thing coming to mind is, while doing insertion, use a random number generator to decide whether to turn left or right on the way down to leaf node","body":"the only thing coming to mind is, while doing insertion, use a random number generator to decide whether to turn left or right on the way down to leaf node"},{"owner":{"account_id":22848,"reputation":131598,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":0,"creation_date":1562178925,"post_id":56873764,"comment_id":100300786,"body_markdown":"Is the TreeNode number, `n`, the number of nodes the tree is supposed to contain?","body":"Is the TreeNode number, <code>n</code>, the number of nodes the tree is supposed to contain?"},{"owner":{"account_id":11774606,"reputation":1337,"user_id":10969942,"display_name":"maplemaple"},"score":0,"creation_date":1562180539,"post_id":56873764,"comment_id":100301540,"body_markdown":"@JimMischel Yes.","body":"@JimMischel Yes."},{"owner":{"account_id":8174197,"reputation":2037,"user_id":7518561,"accept_rate":96,"display_name":"CodeHunter"},"score":0,"creation_date":1562184631,"post_id":56873764,"comment_id":100303105,"body_markdown":"@maplemaple The question is interesting. Can you please provide an example? I might have an approach for similar kind of question.","body":"@maplemaple The question is interesting. Can you please provide an example? I might have an approach for similar kind of question."},{"owner":{"account_id":1660708,"reputation":2573,"user_id":1529061,"display_name":"ttzn"},"score":0,"creation_date":1562663072,"post_id":56873764,"comment_id":100437063,"body_markdown":"@maplemaple check out my updated answer.","body":"@maplemaple check out my updated answer."}],"answers":[{"comments":[{"owner":{"account_id":6884268,"reputation":657,"user_id":8216204,"display_name":"mrpandey"},"score":1,"creation_date":1562171298,"post_id":56874294,"comment_id":100297368,"body_markdown":"I will also suggest the reader to look at [Catalan numbers](https://en.wikipedia.org/wiki/Catalan_number), which gives the number of non-isomorphic trees having n nodes.  And, I think trees generated by your algorithm have equal probability, given that your random function isn&#39;t  biased.","body":"I will also suggest the reader to look at <a href=\"https://en.wikipedia.org/wiki/Catalan_number\" rel=\"nofollow noreferrer\">Catalan numbers</a>, which gives the number of non-isomorphic trees having n nodes.  And, I think trees generated by your algorithm have equal probability, given that your random function isn&#39;t  biased."},{"owner":{"account_id":8174197,"reputation":2037,"user_id":7518561,"accept_rate":96,"display_name":"CodeHunter"},"score":1,"creation_date":1562177806,"post_id":56874294,"comment_id":100300314,"body_markdown":"Your solution is correct, but it does not guarantee equal probability though. For that, you need to keep track of number of nodes occurring to left of any given node. Based on that, you can decide that and make it an unbiased generator.","body":"Your solution is correct, but it does not guarantee equal probability though. For that, you need to keep track of number of nodes occurring to left of any given node. Based on that, you can decide that and make it an unbiased generator."},{"owner":{"account_id":1660708,"reputation":2573,"user_id":1529061,"display_name":"ttzn"},"score":2,"creation_date":1562186933,"post_id":56874294,"comment_id":100304012,"body_markdown":"@mrpandey it turns out this algorithm does not give all combinations uniformly when nodes are interchangeable : with `n = 3`, the balanced tree has probability `1/3`, but there are 5 possible trees. However the approach does seem to work when distributing a set of *unique* nodes (https://en.wikipedia.org/wiki/Random_binary_tree#Random_split_trees).","body":"@mrpandey it turns out this algorithm does not give all combinations uniformly when nodes are interchangeable : with <code>n = 3</code>, the balanced tree has probability <code>1&#47;3</code>, but there are 5 possible trees. However the approach does seem to work when distributing a set of <i>unique</i> nodes (<a href=\"https://en.wikipedia.org/wiki/Random_binary_tree#Random_split_trees\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Random_binary_tree#Random_split_trees</a>&zwnj;&#8203;)."},{"owner":{"account_id":11774606,"reputation":1337,"user_id":10969942,"display_name":"maplemaple"},"score":0,"creation_date":1562776347,"post_id":56874294,"comment_id":100486325,"body_markdown":"@Arminius Thank you so much for your great answer.","body":"@Arminius Thank you so much for your great answer."}],"tags":[],"owner":{"account_id":1660708,"reputation":2573,"user_id":1529061,"display_name":"ttzn"},"comment_count":4,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1562773088,"creation_date":1562170414,"answer_id":56874294,"question_id":56873764,"body_markdown":"Biased distribution, simple algorithm\r\n-------------------------------------\r\nStarting from the root, randomly choose the number of nodes in each subtree, then recurse :\r\n\r\n    public class RandomBinaryTree {\r\n    \tprivate Random random = new Random();\r\n    \r\n    \tpublic TreeNode binaryTreeGenerator(int n, int key){\r\n    \t\tif (n == 0)\r\n    \t\t\treturn null;\r\n\r\n    \t\tTreeNode root = new TreeNode(key);\r\n\r\n            // Number of nodes in the left subtree (in [0, n-1])\r\n    \t\tint leftN = random.nextInt(n);\r\n\r\n            // Recursively build each subtree\r\n    \t\troot.setLeft(binaryTreeGenerator(leftN, key));\r\n    \t\troot.setRight(binaryTreeGenerator(n - leftN - 1, key));\r\n\r\n    \t\treturn root;\r\n        }\r\n    }\r\n\r\nThis algorithm does not enforce uniform distribution of results and will heavily favor balanced trees. For a simple proof, consider the case `n = 3` and calculate probability of occurence for each of the 5 possible binary trees (see [Catalan numbers][1] for the related combinatorics).\r\n\r\nUniform distribution, more challenging\r\n--------------------------------------\r\nThere has been some research on this subject and [this][2] is probably one of the simplest and fastest methods (in *O(n)*). The idea is to generate a random word containing left and right brackets in equal numbers, then map that to a binary tree using a transformation that preserves uniform distribution.\r\n\r\n**Step 1 :** Generate a random *balanced word* :\r\n\r\n    private static Random random = new Random();\r\n\t\r\n    // true means &#39;(&#39;, false means &#39;)&#39;\r\n\tprivate static boolean[] buildRandomBalancedWord(int n) {\r\n\t\tboolean[] word = new boolean[n * 2];\r\n\t\tList&lt;Integer&gt; positions = IntStream.range(0, 2 * n).boxed()\r\n            .collect(Collectors.toList());\r\n\t\tfor (int i = n; i &gt; 0; i--) {\r\n\t\t\tint index = random.nextInt(n + i);\r\n\t\t\tword[positions.remove(index)] = true;\r\n\t\t}\r\n\t\treturn word;\r\n\t}\r\n\r\n**Step 2 :** The generated word may have `k` &quot;defects&quot;, which are basically unmatched closing brackets. The paper shows that there is a way to rearrange the generated word such that the resulting mapping is a bijection from the set of words with `k` defects to the set of words with `0` defects (*well-formed words*). Here is the procedure :\r\n\r\n\tprivate static void rearrange(boolean[] word, int start, int end) {\r\n\t\tint sum = 0;\r\n\t\tint defectIndex = -1;\r\n\t\tfor (int i = start; i &lt; end; i++) {\r\n\t\t\tsum = sum + (word[i] ? 1 : -1);\r\n\t\t\tif (defectIndex &lt; 0 &amp;&amp; sum &lt; 0) {\r\n\t\t\t\tdefectIndex = i;\r\n\t\t\t} else if (defectIndex &gt;= 0 &amp;&amp; sum == 0) {\r\n\t\t\t\t// We now have irreducible u = rtl spanning [defectIndex, i]\r\n\t\t\t\tint uLength = i - defectIndex + 1;\r\n\t\t\t\tboolean[] flipped = new boolean[uLength - 2];\r\n\t\t\t\tfor (int j = 0; j &lt; flipped.length; j++)\r\n\t\t\t\t\tflipped[j] = !word[defectIndex + j + 1];\r\n\t\t\t\t\r\n\t\t\t\t// Shift the remaining word\r\n\t\t\t\tif (i + 1 &lt; end)\r\n\t\t\t\t\tSystem.arraycopy(word, i + 1, word, defectIndex + 1, end - (i + 1));\r\n\t\t\t\t\r\n\t\t\t\t// Rewrite uw as lwrt*, t* being the flipped array\r\n\t\t\t\tword[defectIndex] = true;\r\n\t\t\t\tSystem.arraycopy(flipped, 0, word, end - flipped.length, flipped.length);\r\n\t\t\t\tword[end - uLength + 1] = false;\r\n\t\t\t\t\r\n\t\t\t\t// Now recurse on w, worst case we go (word.length/2)-deep\r\n\t\t\t\trearrange(word, defectIndex + 1, end - uLength + 1);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n**Step 3 :** There is a one-to-one mapping from well-formed bracket words to binary trees : every pair of matching brackets is a node, everything inside is the left subtree, and everything after is the right subtree :\r\n\r\n    // There is probably a smarter way to do this\r\n\tpublic static TreeNode buildTree(boolean[] word, int key) {\r\n\t\tDeque&lt;TreeNode&gt; stack = new ArrayDeque&lt;&gt;();\r\n\t\tboolean insertRight = false;\r\n\t\tTreeNode root = null;\r\n\t\tTreeNode currentNode = null;\r\n\t\tfor (int i = 0; i &lt; word.length; i++) {\r\n\t\t\tif (word[i]) {\r\n\t\t\t\tTreeNode previousNode = currentNode;\r\n\t\t\t\tcurrentNode = new TreeNode(key);\r\n\t\t\t\t\r\n\t\t\t\tif (root == null) {\r\n\t\t\t\t\troot = currentNode;\r\n\t\t\t\t} else if (insertRight) {\r\n\t\t\t\t\tpreviousNode.setRight(currentNode);\r\n\t\t\t\t\tinsertRight = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpreviousNode.setLeft(currentNode);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tstack.push(currentNode);\r\n\t\t\t} else {\r\n\t\t\t\tcurrentNode = stack.pop();\r\n\t\t\t\tinsertRight = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn root;\r\n\t}\r\n\r\n**Some utility functions** : \r\n\t\r\n\tpublic static boolean[] buildRandomWellFormedWord(int n) {\r\n\t\tboolean[] word = buildRandomBalancedWord(n);\r\n\t\trearrange(word, 0, word.length);\r\n\t\treturn word;\r\n\t}\r\n\t\r\n\tpublic static String toString(boolean[] word) {\r\n\t\tStringBuilder str = new StringBuilder();\r\n\t\tfor (boolean b : word)\r\n\t\t\tstr.append(b ? &quot;(&quot; : &quot;)&quot;);\r\n\t\treturn str.toString();\r\n\t}\r\n\r\n**Test** : Let&#39;s print the actual distribution over 10 millions runs of size 3 :\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tMap&lt;String, Integer&gt; counts = new HashMap&lt;String, Integer&gt;();\r\n\t\tint N = 10000000, n = 3;\r\n\t\tfor (int i = 0; i &lt; N; i++) {\r\n\t\t\tboolean[] word = buildRandomWellFormedWord(n);\r\n\t\t\tString str = toString(word);\r\n\t\t\tInteger count = counts.get(str);\r\n\t\t\tif (count == null)\r\n\t\t\t\tcount = 0;\r\n\t\t\tcounts.put(str, count + 1);\r\n\t\t}\r\n\t\t\r\n\t\tcounts.entrySet().stream().forEach(e -&gt; \r\n            System.out.println(&quot;P[&quot; + e.getKey() + &quot;] = &quot; + e.getValue().doubleValue() / N));\r\n\t}\r\n\r\nThe output should look something like :\r\n\r\n    P[()()()] = 0.200166\r\n    P[(()())] = 0.200451\r\n    P[()(())] = 0.199894\r\n    P[((()))] = 0.199006\r\n    P[(())()] = 0.200483\r\n\r\nSo `buildTree(buildRandomWellFormedWord(n), key)` will yield a binary tree of size `n` following a uniform distribution over all possible trees.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Catalan_number\r\n  [2]: http://www.cs.otago.ac.nz/staffpriv/mike/Papers/RandomGeneration/RandomBinaryTrees.pdf","title":"How to randomly generate a binary tree given the node number?","body":"<h2>Biased distribution, simple algorithm</h2>\n\n<p>Starting from the root, randomly choose the number of nodes in each subtree, then recurse :</p>\n\n<pre><code>public class RandomBinaryTree {\n    private Random random = new Random();\n\n    public TreeNode binaryTreeGenerator(int n, int key){\n        if (n == 0)\n            return null;\n\n        TreeNode root = new TreeNode(key);\n\n        // Number of nodes in the left subtree (in [0, n-1])\n        int leftN = random.nextInt(n);\n\n        // Recursively build each subtree\n        root.setLeft(binaryTreeGenerator(leftN, key));\n        root.setRight(binaryTreeGenerator(n - leftN - 1, key));\n\n        return root;\n    }\n}\n</code></pre>\n\n<p>This algorithm does not enforce uniform distribution of results and will heavily favor balanced trees. For a simple proof, consider the case <code>n = 3</code> and calculate probability of occurence for each of the 5 possible binary trees (see <a href=\"https://en.wikipedia.org/wiki/Catalan_number\" rel=\"noreferrer\">Catalan numbers</a> for the related combinatorics).</p>\n\n<h2>Uniform distribution, more challenging</h2>\n\n<p>There has been some research on this subject and <a href=\"http://www.cs.otago.ac.nz/staffpriv/mike/Papers/RandomGeneration/RandomBinaryTrees.pdf\" rel=\"noreferrer\">this</a> is probably one of the simplest and fastest methods (in <em>O(n)</em>). The idea is to generate a random word containing left and right brackets in equal numbers, then map that to a binary tree using a transformation that preserves uniform distribution.</p>\n\n<p><strong>Step 1 :</strong> Generate a random <em>balanced word</em> :</p>\n\n<pre><code>private static Random random = new Random();\n\n// true means '(', false means ')'\nprivate static boolean[] buildRandomBalancedWord(int n) {\n    boolean[] word = new boolean[n * 2];\n    List&lt;Integer&gt; positions = IntStream.range(0, 2 * n).boxed()\n        .collect(Collectors.toList());\n    for (int i = n; i &gt; 0; i--) {\n        int index = random.nextInt(n + i);\n        word[positions.remove(index)] = true;\n    }\n    return word;\n}\n</code></pre>\n\n<p><strong>Step 2 :</strong> The generated word may have <code>k</code> \"defects\", which are basically unmatched closing brackets. The paper shows that there is a way to rearrange the generated word such that the resulting mapping is a bijection from the set of words with <code>k</code> defects to the set of words with <code>0</code> defects (<em>well-formed words</em>). Here is the procedure :</p>\n\n<pre><code>private static void rearrange(boolean[] word, int start, int end) {\n    int sum = 0;\n    int defectIndex = -1;\n    for (int i = start; i &lt; end; i++) {\n        sum = sum + (word[i] ? 1 : -1);\n        if (defectIndex &lt; 0 &amp;&amp; sum &lt; 0) {\n            defectIndex = i;\n        } else if (defectIndex &gt;= 0 &amp;&amp; sum == 0) {\n            // We now have irreducible u = rtl spanning [defectIndex, i]\n            int uLength = i - defectIndex + 1;\n            boolean[] flipped = new boolean[uLength - 2];\n            for (int j = 0; j &lt; flipped.length; j++)\n                flipped[j] = !word[defectIndex + j + 1];\n\n            // Shift the remaining word\n            if (i + 1 &lt; end)\n                System.arraycopy(word, i + 1, word, defectIndex + 1, end - (i + 1));\n\n            // Rewrite uw as lwrt*, t* being the flipped array\n            word[defectIndex] = true;\n            System.arraycopy(flipped, 0, word, end - flipped.length, flipped.length);\n            word[end - uLength + 1] = false;\n\n            // Now recurse on w, worst case we go (word.length/2)-deep\n            rearrange(word, defectIndex + 1, end - uLength + 1);\n            break;\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Step 3 :</strong> There is a one-to-one mapping from well-formed bracket words to binary trees : every pair of matching brackets is a node, everything inside is the left subtree, and everything after is the right subtree :</p>\n\n<pre><code>// There is probably a smarter way to do this\npublic static TreeNode buildTree(boolean[] word, int key) {\n    Deque&lt;TreeNode&gt; stack = new ArrayDeque&lt;&gt;();\n    boolean insertRight = false;\n    TreeNode root = null;\n    TreeNode currentNode = null;\n    for (int i = 0; i &lt; word.length; i++) {\n        if (word[i]) {\n            TreeNode previousNode = currentNode;\n            currentNode = new TreeNode(key);\n\n            if (root == null) {\n                root = currentNode;\n            } else if (insertRight) {\n                previousNode.setRight(currentNode);\n                insertRight = false;\n            } else {\n                previousNode.setLeft(currentNode);\n            }\n\n            stack.push(currentNode);\n        } else {\n            currentNode = stack.pop();\n            insertRight = true;\n        }\n    }\n    return root;\n}\n</code></pre>\n\n<p><strong>Some utility functions</strong> : </p>\n\n<pre><code>public static boolean[] buildRandomWellFormedWord(int n) {\n    boolean[] word = buildRandomBalancedWord(n);\n    rearrange(word, 0, word.length);\n    return word;\n}\n\npublic static String toString(boolean[] word) {\n    StringBuilder str = new StringBuilder();\n    for (boolean b : word)\n        str.append(b ? \"(\" : \")\");\n    return str.toString();\n}\n</code></pre>\n\n<p><strong>Test</strong> : Let's print the actual distribution over 10 millions runs of size 3 :</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    Map&lt;String, Integer&gt; counts = new HashMap&lt;String, Integer&gt;();\n    int N = 10000000, n = 3;\n    for (int i = 0; i &lt; N; i++) {\n        boolean[] word = buildRandomWellFormedWord(n);\n        String str = toString(word);\n        Integer count = counts.get(str);\n        if (count == null)\n            count = 0;\n        counts.put(str, count + 1);\n    }\n\n    counts.entrySet().stream().forEach(e -&gt; \n        System.out.println(\"P[\" + e.getKey() + \"] = \" + e.getValue().doubleValue() / N));\n}\n</code></pre>\n\n<p>The output should look something like :</p>\n\n<pre><code>P[()()()] = 0.200166\nP[(()())] = 0.200451\nP[()(())] = 0.199894\nP[((()))] = 0.199006\nP[(())()] = 0.200483\n</code></pre>\n\n<p>So <code>buildTree(buildRandomWellFormedWord(n), key)</code> will yield a binary tree of size <code>n</code> following a uniform distribution over all possible trees.</p>\n"},{"tags":[],"owner":{"account_id":19604268,"reputation":1,"user_id":14348327,"display_name":"Reuben ombaso"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664971203,"creation_date":1664967519,"answer_id":73959402,"question_id":56873764,"body_markdown":"generating a random number from the binary tree may be easy if other key considerations have to be overlooked, such as randomness and equal probability. For simplicity, the code below randomly generates a node from a tree where each node has an equal probability to be selected. \r\n\r\nBinary tree in python\r\n\r\n    import random\r\n    class BinaryTree:\r\n        class Node:\r\n            def __init__(self, value):\r\n                self.left = None\r\n                self.right = None\r\n                self.value = value\r\n                self.left_size = 0\r\n                self.right_size = 0\r\n\r\n        def insert(self, value, root):\r\n            node = BinaryTree.Node(value)\r\n\r\n            if value &lt;= root.value:\r\n                 root.left_size += 1\r\n                 if root.left == None:\r\n                     root.left = node\r\n                 else:\r\n                     self.insert(value, root.left)\r\n            else:\r\n                root.right_size += 1\r\n                if root.right == None:\r\n                    root.right = node\r\n                else:\r\n                    self.insert(value, root.right)\r\n\r\n        def display(self, root):\r\n            if root == None:\r\n               return;\r\n            self.display(root.left)\r\n            print(root.value, end =&quot; &quot;)\r\n            self.display(root.right)\r\n        \r\n\r\n    def __init__(self):\r\n        self.root = None\r\n        self.count = 0\r\n\r\n\r\n    def insert(self, value):\r\n        if self.root == None:\r\n            self.root = BinaryTree.Node(value)\r\n            return\r\n        self.root.insert(value, self.root)\r\n        self.count += 1\r\n\r\n    def size(self):\r\n        return self.count\r\n    def display(self):\r\n        if self.root == None:\r\n            return;\r\n        self.root.display(self.root)\r\n        \r\n\r\n    def get_random_node(self):\r\n        &quot;&quot;&quot;\r\n        Generate a random number r {1....N} where r is the total number of \r\n        elemnts\r\n        calculate the total number of elements in a binarytree\r\n        if r == count then return the current node\r\n        if r &gt; (count+left) check on the right i.e recursively getchild(1, r-count- node.left_size, node.right)\r\n        else getchild (count +1, r, node.left)\r\n        Calculate the number of children on the left\r\n        &quot;&quot;&quot;\r\n        if self.size() == 1:\r\n            return self.root\r\n        r = random.randint(1, self.size() + 1)\r\n        return self.getchild(1, r, self.root)\r\n\r\n    def getchild(self, count, r, node):\r\n        if r == count:\r\n            return node\r\n        if r &gt; (count + node.left_size):\r\n            return self.getchild(1, (r - count-node.left_size), node.right)\r\n        return self.getchild(count + 1, r, node.left)\r\n\r\n\r\n","title":"How to randomly generate a binary tree given the node number?","body":"<p>generating a random number from the binary tree may be easy if other key considerations have to be overlooked, such as randomness and equal probability. For simplicity, the code below randomly generates a node from a tree where each node has an equal probability to be selected.</p>\n<p>Binary tree in python</p>\n<pre><code>import random\nclass BinaryTree:\n    class Node:\n        def __init__(self, value):\n            self.left = None\n            self.right = None\n            self.value = value\n            self.left_size = 0\n            self.right_size = 0\n\n    def insert(self, value, root):\n        node = BinaryTree.Node(value)\n\n        if value &lt;= root.value:\n             root.left_size += 1\n             if root.left == None:\n                 root.left = node\n             else:\n                 self.insert(value, root.left)\n        else:\n            root.right_size += 1\n            if root.right == None:\n                root.right = node\n            else:\n                self.insert(value, root.right)\n\n    def display(self, root):\n        if root == None:\n           return;\n        self.display(root.left)\n        print(root.value, end =&quot; &quot;)\n        self.display(root.right)\n    \n\ndef __init__(self):\n    self.root = None\n    self.count = 0\n\n\ndef insert(self, value):\n    if self.root == None:\n        self.root = BinaryTree.Node(value)\n        return\n    self.root.insert(value, self.root)\n    self.count += 1\n\ndef size(self):\n    return self.count\ndef display(self):\n    if self.root == None:\n        return;\n    self.root.display(self.root)\n    \n\ndef get_random_node(self):\n    &quot;&quot;&quot;\n    Generate a random number r {1....N} where r is the total number of \n    elemnts\n    calculate the total number of elements in a binarytree\n    if r == count then return the current node\n    if r &gt; (count+left) check on the right i.e recursively getchild(1, r-count- node.left_size, node.right)\n    else getchild (count +1, r, node.left)\n    Calculate the number of children on the left\n    &quot;&quot;&quot;\n    if self.size() == 1:\n        return self.root\n    r = random.randint(1, self.size() + 1)\n    return self.getchild(1, r, self.root)\n\ndef getchild(self, count, r, node):\n    if r == count:\n        return node\n    if r &gt; (count + node.left_size):\n        return self.getchild(1, (r - count-node.left_size), node.right)\n    return self.getchild(count + 1, r, node.left)\n</code></pre>\n"}],"owner":{"account_id":11774606,"reputation":1337,"user_id":10969942,"display_name":"maplemaple"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6425,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56874294,"answer_count":2,"score":2,"last_activity_date":1664971203,"creation_date":1562168606,"question_id":56873764,"body_markdown":"    //Definition for a binary tree node.\r\n\r\n    public class TreeNode {\r\n        int key;\r\n        TreeNode left;\r\n        TreeNode right;\r\n        TreeNode(int x) { key = x; }\r\n    } \r\n\r\nGiven the total number of TreeNode  `int` `n`, how to generate a randomly distributed binary tree(I mean the **random** shape of binary tree, **not** the random key value. You can set all key values of TreeNodes equal to 1) and return the TreeNode `root`.\r\n\r\nThat is how to implement the following API:\r\n\r\n    public class RandomBinaryTree{\r\n        public TreeNode binaryTreeGenerator(int n){\r\n\r\n        }\r\n    }\r\n \r\nPS: For example, `n = 3`, I want the algorithm can **randomly generate one of the following `5` binary trees each time**:\r\n\r\n         1      1        1           1          1\r\n        /      /        / \\           \\          \\\r\n       1      1        1   1           1          1\r\n      /        \\                      /            \\\r\n     1          1                    1              1\r\n\r\nIs there any algorithm to generate binary trees **equiprobably** with fixed number of nodes `n`?","title":"How to randomly generate a binary tree given the node number?","body":"<pre><code>//Definition for a binary tree node.\n\npublic class TreeNode {\n    int key;\n    TreeNode left;\n    TreeNode right;\n    TreeNode(int x) { key = x; }\n} \n</code></pre>\n\n<p>Given the total number of TreeNode  <code>int</code> <code>n</code>, how to generate a randomly distributed binary tree(I mean the <strong>random</strong> shape of binary tree, <strong>not</strong> the random key value. You can set all key values of TreeNodes equal to 1) and return the TreeNode <code>root</code>.</p>\n\n<p>That is how to implement the following API:</p>\n\n<pre><code>public class RandomBinaryTree{\n    public TreeNode binaryTreeGenerator(int n){\n\n    }\n}\n</code></pre>\n\n<p>PS: For example, <code>n = 3</code>, I want the algorithm can <strong>randomly generate one of the following <code>5</code> binary trees each time</strong>:</p>\n\n<pre><code>     1      1        1           1          1\n    /      /        / \\           \\          \\\n   1      1        1   1           1          1\n  /        \\                      /            \\\n 1          1                    1              1\n</code></pre>\n\n<p>Is there any algorithm to generate binary trees <strong>equiprobably</strong> with fixed number of nodes <code>n</code>?</p>\n"},{"tags":["java","post","jmeter","postman","xml-rpc"],"answers":[{"tags":[],"owner":{"account_id":15819739,"reputation":103,"user_id":11414365,"display_name":"Earl Grey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664970924,"creation_date":1664964438,"answer_id":73958843,"question_id":73886924,"body_markdown":"I was playing with the same vulnerability and stumbled upon the same behavior.\r\nI found [this GitHub issue][1] on an XML-RPC brute force project discussing the same problem. It seems that the vulnerability is already patched since WordPress version 4.7.x.\r\nI&#39;m still searching when this was patched exactly...\r\n\r\n# Update\r\n\r\nReally wanted to find out the vulnerable versions so now after installing countless WordPress versions, I was able to find out that the **vulnerability works up to version 4.3.29**.\r\nFrom version 4.4 it no longer works for me.\r\n\r\nI hope this calms someone&#39;s mind as it has calmed mine.\r\n\r\n  [1]: https://github.com/1N3/Wordpress-XMLRPC-Brute-Force-Exploit/issues/20","title":"system.multicall in wordpress XMLRPC always gives Incorrect username or password","body":"<p>I was playing with the same vulnerability and stumbled upon the same behavior.\nI found <a href=\"https://github.com/1N3/Wordpress-XMLRPC-Brute-Force-Exploit/issues/20\" rel=\"nofollow noreferrer\">this GitHub issue</a> on an XML-RPC brute force project discussing the same problem. It seems that the vulnerability is already patched since WordPress version 4.7.x.\nI'm still searching when this was patched exactly...</p>\n<h1>Update</h1>\n<p>Really wanted to find out the vulnerable versions so now after installing countless WordPress versions, I was able to find out that the <strong>vulnerability works up to version 4.3.29</strong>.\nFrom version 4.4 it no longer works for me.</p>\n<p>I hope this calms someone's mind as it has calmed mine.</p>\n"}],"owner":{"account_id":26473911,"reputation":11,"user_id":20114120,"display_name":"Darshil765"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664970924,"creation_date":1664393735,"question_id":73886924,"body_markdown":"I&#39;m pentesting in JMeter.For any wordpress site using xmlrpc, If I add correct username and password in first instance then I get proper output but If I add correct credentials in second instance (or thereafter) then I always get &quot;incorrect username or password&quot;.\r\n\r\n\r\n    POST /xmlrpc.php HTTP/1.1\r\n    Host: example.com\r\n    \r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n        &lt;methodCall&gt;\r\n        &lt;methodName&gt;system.multicall&lt;/methodName&gt;\r\n        &lt;params&gt;\r\n          &lt;param&gt;&lt;value&gt;&lt;array&gt;&lt;data&gt;\r\n          &lt;value&gt;&lt;struct&gt;\r\n          &lt;member&gt;\r\n        \t&lt;name&gt;methodName&lt;/name&gt;\r\n        \t&lt;value&gt;&lt;string&gt;wp.getUsersBlogs&lt;/string&gt;&lt;/value&gt;\r\n          &lt;/member&gt;\r\n          &lt;member&gt;\r\n        \t&lt;name&gt;params&lt;/name&gt;&lt;value&gt;&lt;array&gt;&lt;data&gt;\r\n        \t&lt;value&gt;&lt;array&gt;&lt;data&gt;\r\n        \t&lt;value&gt;&lt;string&gt;User1&lt;/string&gt;&lt;/value&gt;\r\n        \t&lt;value&gt;&lt;string&gt;password1&lt;/string&gt;&lt;/value&gt;\r\n        \t&lt;/data&gt;&lt;/array&gt;&lt;/value&gt;\r\n        \t&lt;/data&gt;&lt;/array&gt;&lt;/value&gt;\r\n          &lt;/member&gt;\r\n          &lt;/struct&gt;&lt;/value&gt;\r\n          &lt;value&gt;&lt;struct&gt;\r\n          &lt;member&gt;\r\n        \t&lt;name&gt;methodName&lt;/name&gt;\r\n        \t&lt;value&gt;&lt;string&gt;wp.getUsersBlogs&lt;/string&gt;&lt;/value&gt;\r\n          &lt;/member&gt;\r\n          &lt;member&gt;\r\n        \t&lt;name&gt;params&lt;/name&gt;\r\n        \t&lt;value&gt;&lt;array&gt;&lt;data&gt;\r\n        \t&lt;value&gt;&lt;array&gt;&lt;data&gt;\r\n        \t  &lt;value&gt;&lt;string&gt;User2&lt;/string&gt;&lt;/value&gt;\r\n        \t  &lt;value&gt;&lt;string&gt;Password2&lt;/string&gt;&lt;/value&gt;\r\n        \t  &lt;/data&gt;&lt;/array&gt;&lt;/value&gt;\r\n        \t&lt;/data&gt;&lt;/array&gt;&lt;/value&gt;\r\n          &lt;/member&gt;\r\n          &lt;/struct&gt;&lt;/value&gt;\r\n          &lt;/data&gt;&lt;/array&gt;&lt;/value&gt;\r\n          &lt;/param&gt;\r\n        &lt;/params&gt;\r\n        &lt;/methodCall&gt;","title":"system.multicall in wordpress XMLRPC always gives Incorrect username or password","body":"<p>I'm pentesting in JMeter.For any wordpress site using xmlrpc, If I add correct username and password in first instance then I get proper output but If I add correct credentials in second instance (or thereafter) then I always get &quot;incorrect username or password&quot;.</p>\n<pre><code>POST /xmlrpc.php HTTP/1.1\nHost: example.com\n\n&lt;?xml version=&quot;1.0&quot;?&gt;\n    &lt;methodCall&gt;\n    &lt;methodName&gt;system.multicall&lt;/methodName&gt;\n    &lt;params&gt;\n      &lt;param&gt;&lt;value&gt;&lt;array&gt;&lt;data&gt;\n      &lt;value&gt;&lt;struct&gt;\n      &lt;member&gt;\n        &lt;name&gt;methodName&lt;/name&gt;\n        &lt;value&gt;&lt;string&gt;wp.getUsersBlogs&lt;/string&gt;&lt;/value&gt;\n      &lt;/member&gt;\n      &lt;member&gt;\n        &lt;name&gt;params&lt;/name&gt;&lt;value&gt;&lt;array&gt;&lt;data&gt;\n        &lt;value&gt;&lt;array&gt;&lt;data&gt;\n        &lt;value&gt;&lt;string&gt;User1&lt;/string&gt;&lt;/value&gt;\n        &lt;value&gt;&lt;string&gt;password1&lt;/string&gt;&lt;/value&gt;\n        &lt;/data&gt;&lt;/array&gt;&lt;/value&gt;\n        &lt;/data&gt;&lt;/array&gt;&lt;/value&gt;\n      &lt;/member&gt;\n      &lt;/struct&gt;&lt;/value&gt;\n      &lt;value&gt;&lt;struct&gt;\n      &lt;member&gt;\n        &lt;name&gt;methodName&lt;/name&gt;\n        &lt;value&gt;&lt;string&gt;wp.getUsersBlogs&lt;/string&gt;&lt;/value&gt;\n      &lt;/member&gt;\n      &lt;member&gt;\n        &lt;name&gt;params&lt;/name&gt;\n        &lt;value&gt;&lt;array&gt;&lt;data&gt;\n        &lt;value&gt;&lt;array&gt;&lt;data&gt;\n          &lt;value&gt;&lt;string&gt;User2&lt;/string&gt;&lt;/value&gt;\n          &lt;value&gt;&lt;string&gt;Password2&lt;/string&gt;&lt;/value&gt;\n          &lt;/data&gt;&lt;/array&gt;&lt;/value&gt;\n        &lt;/data&gt;&lt;/array&gt;&lt;/value&gt;\n      &lt;/member&gt;\n      &lt;/struct&gt;&lt;/value&gt;\n      &lt;/data&gt;&lt;/array&gt;&lt;/value&gt;\n      &lt;/param&gt;\n    &lt;/params&gt;\n    &lt;/methodCall&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","security","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664963214,"post_id":73958590,"comment_id":130586784,"body_markdown":"The latter. You should probably use the JDBC version or your own `UserDetailsManager` instead.","body":"The latter. You should probably use the JDBC version or your own <code>UserDetailsManager</code> instead."},{"owner":{"account_id":17927206,"reputation":13,"user_id":13025527,"display_name":"Tijunelis"},"score":0,"creation_date":1664964262,"post_id":73958590,"comment_id":130587142,"body_markdown":"So I should replace the method that stores the users, but the way of creating users is fine? Perhaps you have a blog or doc link that goes into detail about this","body":"So I should replace the method that stores the users, but the way of creating users is fine? Perhaps you have a blog or doc link that goes into detail about this"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664968743,"post_id":73958590,"comment_id":130588563,"body_markdown":"No that way isn&#39;t usable for production, how would you add user? Modify code, redeploy? What if a user needs to change its password? Modify code and redeploy?","body":"No that way isn&#39;t usable for production, how would you add user? Modify code, redeploy? What if a user needs to change its password? Modify code and redeploy?"},{"owner":{"account_id":17927206,"reputation":13,"user_id":13025527,"display_name":"Tijunelis"},"score":0,"creation_date":1664980068,"post_id":73958590,"comment_id":130592887,"body_markdown":"so if I changed the hardcoded values to be pulled from a database, would the method itself be good enough, or should I also change it?","body":"so if I changed the hardcoded values to be pulled from a database, would the method itself be good enough, or should I also change it?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664981043,"post_id":73958590,"comment_id":130593292,"body_markdown":"What method? The declaration of the users? No it isn&#39;t. You would want to use SQL or a management interface to modify users in the database.","body":"What method? The declaration of the users? No it isn&#39;t. You would want to use SQL or a management interface to modify users in the database."}],"answers":[{"comments":[{"owner":{"account_id":17927206,"reputation":13,"user_id":13025527,"display_name":"Tijunelis"},"score":0,"creation_date":1664964160,"post_id":73958707,"comment_id":130587104,"body_markdown":"Could you elaborate how separating the User creation with a new method makes it better?","body":"Could you elaborate how separating the User creation with a new method makes it better?"},{"owner":{"account_id":12848624,"reputation":15,"user_id":9294231,"display_name":"Programming Shortcut"},"score":0,"creation_date":1664964494,"post_id":73958707,"comment_id":130587208,"body_markdown":"It working code I take reference from  [Click this](https://github.com/in28minutes/spring-boot-master-class/blob/master/02.Spring-Boot-Web-Application-V2/Step38.md)","body":"It working code I take reference from  <a href=\"https://github.com/in28minutes/spring-boot-master-class/blob/master/02.Spring-Boot-Web-Application-V2/Step38.md\" rel=\"nofollow noreferrer\">Click this</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1665231267,"post_id":73958707,"comment_id":130654088,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/73958707/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":12848624,"reputation":15,"user_id":9294231,"display_name":"Programming Shortcut"},"comment_count":3,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1664964237,"creation_date":1664963738,"answer_id":73958707,"question_id":73958590,"body_markdown":"Hello Please Code as the following coding \r\n\r\n    @Bean\r\n\tpublic InMemoryUserDetailsManager createUserDetailsManager() {\r\n\t\t\r\n\t\tUserDetails userDetails1 = createNewUser(&quot;username1&quot;, &quot;dummy&quot;);\r\n\t\tUserDetails userDetails2 = createNewUser(&quot;username2&quot;, &quot;dummydummy&quot;);\r\n\t\t\r\n\t\treturn new InMemoryUserDetailsManager(userDetails1, userDetails2);\r\n\t}\r\n\r\n\tprivate UserDetails createNewUser(String username, String password) {\r\n\t\tFunction&lt;String, String&gt; passwordEncoder\r\n\t\t= input -&gt; passwordEncoder().encode(input);\r\n\r\n\t\tUserDetails userDetails = User.builder()\r\n\t\t\t\t\t\t\t\t\t.passwordEncoder(passwordEncoder)\r\n\t\t\t\t\t\t\t\t\t.username(username)\r\n\t\t\t\t\t\t\t\t\t.password(password)\r\n\t\t\t\t\t\t\t\t\t.roles(&quot;USER&quot;,&quot;ADMIN&quot;)\r\n\t\t\t\t\t\t\t\t\t.build();\r\n\t\treturn userDetails;\r\n\t}\r\n\r\nHope it help you","title":"Spring security with user/password","body":"<p>Hello Please Code as the following coding</p>\n<pre><code>@Bean\npublic InMemoryUserDetailsManager createUserDetailsManager() {\n    \n    UserDetails userDetails1 = createNewUser(&quot;username1&quot;, &quot;dummy&quot;);\n    UserDetails userDetails2 = createNewUser(&quot;username2&quot;, &quot;dummydummy&quot;);\n    \n    return new InMemoryUserDetailsManager(userDetails1, userDetails2);\n}\n\nprivate UserDetails createNewUser(String username, String password) {\n    Function&lt;String, String&gt; passwordEncoder\n    = input -&gt; passwordEncoder().encode(input);\n\n    UserDetails userDetails = User.builder()\n                                .passwordEncoder(passwordEncoder)\n                                .username(username)\n                                .password(password)\n                                .roles(&quot;USER&quot;,&quot;ADMIN&quot;)\n                                .build();\n    return userDetails;\n}\n</code></pre>\n<p>Hope it help you</p>\n"},{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664964435,"creation_date":1664964435,"answer_id":73958842,"question_id":73958590,"body_markdown":"You should implement jdbc authentication `DaoAuthenticationProvider`. Checkout https://www.baeldung.com/spring-security-jdbc-authentication.\r\n\r\nYour user details must be stored in permanent storage, not temporary storage. Also, passwords must be encrypted to avoid compromising security. So using permanent storage you can take backup or data and run queries out of it.","title":"Spring security with user/password","body":"<p>You should implement jdbc authentication <code>DaoAuthenticationProvider</code>. Checkout <a href=\"https://www.baeldung.com/spring-security-jdbc-authentication\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-jdbc-authentication</a>.</p>\n<p>Your user details must be stored in permanent storage, not temporary storage. Also, passwords must be encrypted to avoid compromising security. So using permanent storage you can take backup or data and run queries out of it.</p>\n"},{"tags":[],"owner":{"account_id":20272202,"reputation":356,"user_id":14868118,"display_name":"oktaykcr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664970444,"creation_date":1664970444,"answer_id":73959901,"question_id":73958590,"body_markdown":"You can implement custom user details service instead of using default.\r\n\r\n```java\r\n@Service\r\npublic class CustomUserDetailsServiceImpl implements UserDetailsService {\r\n\r\n    private final UserRepository userRepository;\r\n\r\n    @Autowired\r\n    private PasswordEncoder passwordEncoder;\r\n\r\n    @Autowired\r\n    public CustomUserDetailsServiceImpl(UserRepository userRepository) {\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        User user = userRepository.findByUsername(username);\r\n\r\n        if(user == null) {\r\n            throw ApiExceptionFactory.getApiException(ApiExceptionType.NOT_FOUND, &quot;user&quot;);\r\n        }\r\n\r\n        return new org.springframework.security.core.userdetails.User(\r\n                user.getUsername(),\r\n                user.getPassword(),\r\n                user.getEnabled(),\r\n                true,\r\n                true,\r\n                true,\r\n                getAuthorities(user));\r\n    }\r\n\r\n    public Boolean isTokenValid(String token) {\r\n        try {\r\n            Jws&lt;Claims&gt; claimsJws = Jwts.parser().setSigningKey(SECRET.getBytes()).parseClaimsJws(token);\r\n            return true;\r\n        } catch (SignatureException | MalformedJwtException | UnsupportedJwtException | IllegalArgumentException ex) {\r\n            throw ApiExceptionFactory.getApiException(ApiExceptionType.LOGIN_FAILURE, &quot;invalid credentials&quot;);\r\n        } catch (ExpiredJwtException ex) {\r\n            throw ApiExceptionFactory.getApiException(ApiExceptionType.LOGIN_FAILURE, &quot;token expired&quot;);\r\n        }\r\n    }\r\n\r\n    @Transactional\r\n    public Boolean save(User user){\r\n        if(StringUtils.isEmpty(user.getUsername())) {\r\n            throw ApiExceptionFactory.getApiException(ApiExceptionType.BAD_REQUEST, &quot;username&quot;);\r\n        }\r\n\r\n        if(StringUtils.isEmpty(user.getPassword())) {\r\n            throw ApiExceptionFactory.getApiException(ApiExceptionType.BAD_REQUEST, &quot;password&quot;);\r\n        }\r\n\r\n        if(StringUtils.isEmpty(user.getEmail())) {\r\n            throw ApiExceptionFactory.getApiException(ApiExceptionType.BAD_REQUEST, &quot;email&quot;);\r\n        }\r\n\r\n        User registeredUser = new User();\r\n        registeredUser.setUsername(user.getUsername());\r\n        registeredUser.setPassword(passwordEncoder.encode(user.getPassword()));\r\n        registeredUser.setEmail(user.getEmail());\r\n        registeredUser.setEnabled(true);\r\n        registeredUser.setRoles(user.getRoles());\r\n\r\n        User savedUser = userRepository.save(registeredUser);\r\n\r\n        Inventory userInventory = inventoryService.saveInventoryForUser(savedUser.getUsername());\r\n\r\n        return userInventory != null;\r\n    }\r\n\r\n    private Set&lt;GrantedAuthority&gt; getAuthorities(User user){\r\n        Set&lt;GrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\r\n        for(Role role : user.getRoles()) {\r\n            GrantedAuthority grantedAuthority = new SimpleGrantedAuthority(role.getName().getRole());\r\n            authorities.add(grantedAuthority);\r\n        }\r\n        return authorities;\r\n    }\r\n}\r\n```\r\nYou can save user details into your repository.\r\n\r\n```java\r\n@Repository\r\npublic interface UserRepository extends BaseRepository&lt;User&gt; {\r\n\r\n    User findByUsername(String username);\r\n\r\n    Boolean existsByUsername(String username);\r\n\r\n    Boolean existsByEmail(String email);\r\n\r\n}\r\n```\r\n\r\nFinally add your user details into authentication manager with password encoder.\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Override\r\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n        authenticationManagerBuilder.userDetailsService(userDetailsServiceBean()).passwordEncoder(passwordEncoder());\r\n    }\r\n\r\n    @Override\r\n    public UserDetailsService userDetailsServiceBean() {\r\n        return new CustomUserDetailsServiceImpl(userRepository);\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n```\r\n\r\nFor more details check my [github repository][1]\r\n\r\n\r\n  [1]: https://github.com/oktaykcr/bom-app-be/blob/master/src/main/java/com/oktaykcr/bomappbe/security/WebSecurityConfig.java","title":"Spring security with user/password","body":"<p>You can implement custom user details service instead of using default.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class CustomUserDetailsServiceImpl implements UserDetailsService {\n\n    private final UserRepository userRepository;\n\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n\n    @Autowired\n    public CustomUserDetailsServiceImpl(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        User user = userRepository.findByUsername(username);\n\n        if(user == null) {\n            throw ApiExceptionFactory.getApiException(ApiExceptionType.NOT_FOUND, &quot;user&quot;);\n        }\n\n        return new org.springframework.security.core.userdetails.User(\n                user.getUsername(),\n                user.getPassword(),\n                user.getEnabled(),\n                true,\n                true,\n                true,\n                getAuthorities(user));\n    }\n\n    public Boolean isTokenValid(String token) {\n        try {\n            Jws&lt;Claims&gt; claimsJws = Jwts.parser().setSigningKey(SECRET.getBytes()).parseClaimsJws(token);\n            return true;\n        } catch (SignatureException | MalformedJwtException | UnsupportedJwtException | IllegalArgumentException ex) {\n            throw ApiExceptionFactory.getApiException(ApiExceptionType.LOGIN_FAILURE, &quot;invalid credentials&quot;);\n        } catch (ExpiredJwtException ex) {\n            throw ApiExceptionFactory.getApiException(ApiExceptionType.LOGIN_FAILURE, &quot;token expired&quot;);\n        }\n    }\n\n    @Transactional\n    public Boolean save(User user){\n        if(StringUtils.isEmpty(user.getUsername())) {\n            throw ApiExceptionFactory.getApiException(ApiExceptionType.BAD_REQUEST, &quot;username&quot;);\n        }\n\n        if(StringUtils.isEmpty(user.getPassword())) {\n            throw ApiExceptionFactory.getApiException(ApiExceptionType.BAD_REQUEST, &quot;password&quot;);\n        }\n\n        if(StringUtils.isEmpty(user.getEmail())) {\n            throw ApiExceptionFactory.getApiException(ApiExceptionType.BAD_REQUEST, &quot;email&quot;);\n        }\n\n        User registeredUser = new User();\n        registeredUser.setUsername(user.getUsername());\n        registeredUser.setPassword(passwordEncoder.encode(user.getPassword()));\n        registeredUser.setEmail(user.getEmail());\n        registeredUser.setEnabled(true);\n        registeredUser.setRoles(user.getRoles());\n\n        User savedUser = userRepository.save(registeredUser);\n\n        Inventory userInventory = inventoryService.saveInventoryForUser(savedUser.getUsername());\n\n        return userInventory != null;\n    }\n\n    private Set&lt;GrantedAuthority&gt; getAuthorities(User user){\n        Set&lt;GrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\n        for(Role role : user.getRoles()) {\n            GrantedAuthority grantedAuthority = new SimpleGrantedAuthority(role.getName().getRole());\n            authorities.add(grantedAuthority);\n        }\n        return authorities;\n    }\n}\n</code></pre>\n<p>You can save user details into your repository.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface UserRepository extends BaseRepository&lt;User&gt; {\n\n    User findByUsername(String username);\n\n    Boolean existsByUsername(String username);\n\n    Boolean existsByEmail(String email);\n\n}\n</code></pre>\n<p>Finally add your user details into authentication manager with password encoder.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Override\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n        authenticationManagerBuilder.userDetailsService(userDetailsServiceBean()).passwordEncoder(passwordEncoder());\n    }\n\n    @Override\n    public UserDetailsService userDetailsServiceBean() {\n        return new CustomUserDetailsServiceImpl(userRepository);\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>For more details check my <a href=\"https://github.com/oktaykcr/bom-app-be/blob/master/src/main/java/com/oktaykcr/bomappbe/security/WebSecurityConfig.java\" rel=\"nofollow noreferrer\">github repository</a></p>\n"}],"owner":{"account_id":17927206,"reputation":13,"user_id":13025527,"display_name":"Tijunelis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":927,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1664970444,"creation_date":1664963111,"question_id":73958590,"body_markdown":"So I followed some guides on spring security with usernames and passwords, however most of them show using &quot;InMemoryUserDetailsManager&quot; which they say should not be used in production: \r\n\r\n    @Bean\r\n    public InMemoryUserDetailsManager userDetailsManager(){\r\n        UserDetails admin = User.withDefaultPasswordEncoder()\r\n                .username(&quot;ADMIN&quot;)\r\n                .password(&quot;123&quot;)\r\n                .roles(&quot;ADMIN&quot;).build();\r\n\r\n        return new InMemoryUserDetailsManager(admin);\r\n    }\r\n\r\nMy questions, so how should a production level version of this be setup? Is it just not using the default password encoder because it is deprecated or should I use an entirely different method of adding and storing users?","title":"Spring security with user/password","body":"<p>So I followed some guides on spring security with usernames and passwords, however most of them show using &quot;InMemoryUserDetailsManager&quot; which they say should not be used in production:</p>\n<pre><code>@Bean\npublic InMemoryUserDetailsManager userDetailsManager(){\n    UserDetails admin = User.withDefaultPasswordEncoder()\n            .username(&quot;ADMIN&quot;)\n            .password(&quot;123&quot;)\n            .roles(&quot;ADMIN&quot;).build();\n\n    return new InMemoryUserDetailsManager(admin);\n}\n</code></pre>\n<p>My questions, so how should a production level version of this be setup? Is it just not using the default password encoder because it is deprecated or should I use an entirely different method of adding and storing users?</p>\n"},{"tags":["java","json","jpa","jackson","blaze-persistence"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664970443,"creation_date":1664970443,"answer_id":73959900,"question_id":73959709,"body_markdown":"You can use the [Jackson integration][1] which allows you to deserialize creatable/updatable entity views. There are integrations for [JAX-RS][2] and Spring [WebMvc][3]/[WebFlux][4] and even [GraphQL][5] though, so chances are, you don&#39;t have to do this plumbing yourself. If you share some more details like the entity view and the are where you want to do deserialization, I can give you a more extensive answer.\r\n\r\n\r\n  [1]: https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#usage-5\r\n  [2]: https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#jaxrs-integration\r\n  [3]: https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#spring-data-webmvc-integration\r\n  [4]: https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#spring-data-webflux-integration\r\n  [5]: https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#graphql-integration","title":"How to deserialize blaze persistence entity view from JSON programatically?","body":"<p>You can use the <a href=\"https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#usage-5\" rel=\"nofollow noreferrer\">Jackson integration</a> which allows you to deserialize creatable/updatable entity views. There are integrations for <a href=\"https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#jaxrs-integration\" rel=\"nofollow noreferrer\">JAX-RS</a> and Spring <a href=\"https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#spring-data-webmvc-integration\" rel=\"nofollow noreferrer\">WebMvc</a>/<a href=\"https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#spring-data-webflux-integration\" rel=\"nofollow noreferrer\">WebFlux</a> and even <a href=\"https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#graphql-integration\" rel=\"nofollow noreferrer\">GraphQL</a> though, so chances are, you don't have to do this plumbing yourself. If you share some more details like the entity view and the are where you want to do deserialization, I can give you a more extensive answer.</p>\n"}],"owner":{"account_id":3108216,"reputation":75,"user_id":2630579,"display_name":"user2630579"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664970443,"creation_date":1664969330,"question_id":73959709,"body_markdown":"Is there a way to programatically deserialize JSON to blaze-persistence entity view? \r\nWhen I&#39;m using standard jackson object mapper, and trying to do\r\n\r\n```mapper.readValue(serializedJSON, EntityViewImpl.class);```\r\n\r\nwhere serializedJSON is string representation (serialized from the same class of entity view), and EntityViewImpl.class is code-generated implementation of entity view interface, I&#39;m getting an exception: \r\n\r\n&gt; com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of &lt;full path of EntityViewImpl.class&gt; (although at least one Creator exists): cannot deserialize from Object value (no delegate or property based Creator)\r\nat [Source: (String) &quot;{JSON representation of EntityView}&quot;; line: 1, column: 2]\r\n.\r\n\r\nSame JSON correctly deserializes into entity that was basis for used entity view.\r\n\r\nI noticed that there is a custom deserialization functionality as part of the blaze-persistance, although was not able to find any related documentation. \r\n\r\nSo any answer, eighther with standard jackson mapper or with custom blaze-persistence functionality would work for me.","title":"How to deserialize blaze persistence entity view from JSON programatically?","body":"<p>Is there a way to programatically deserialize JSON to blaze-persistence entity view?\nWhen I'm using standard jackson object mapper, and trying to do</p>\n<p><code>mapper.readValue(serializedJSON, EntityViewImpl.class);</code></p>\n<p>where serializedJSON is string representation (serialized from the same class of entity view), and EntityViewImpl.class is code-generated implementation of entity view interface, I'm getting an exception:</p>\n<blockquote>\n<p>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of  (although at least one Creator exists): cannot deserialize from Object value (no delegate or property based Creator)\nat [Source: (String) &quot;{JSON representation of EntityView}&quot;; line: 1, column: 2]\n.</p>\n</blockquote>\n<p>Same JSON correctly deserializes into entity that was basis for used entity view.</p>\n<p>I noticed that there is a custom deserialization functionality as part of the blaze-persistance, although was not able to find any related documentation.</p>\n<p>So any answer, eighther with standard jackson mapper or with custom blaze-persistence functionality would work for me.</p>\n"},{"tags":["java","json-patch"],"owner":{"account_id":6162914,"reputation":87,"user_id":4803870,"display_name":"Arthur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664969855,"creation_date":1664969855,"question_id":73959804,"body_markdown":"Library used: ```com.github.fge.jsonpatch```\\\r\nAnd I have one PATCH endpoint which accepts the String of json-patch operations. \r\n\r\n```public Employee patchEmployee(String patchOperations, String empId);```\r\n\r\nThis method then does the required conversion to JsonPatch and all the necessary steps to apply the patch. This part is working fine when an array of Json-patch operations is sent to it in string format as a payload.\r\n\r\nBut to call this API from a rest client, I need to construct the array of json-patch operations in String format.\r\n\r\nI am trying to use the JsonPatchOperation like:\\\r\n``` JsonPatchOperation replaceName = new ReplaceOperation(new JsonPointer(&quot;/name&quot;), nameNode);```\\\r\n```JsonPatchOperation replaceSubject = new ReplaceOperation(new JsonPointer(&quot;/subject&quot;), subjectNode);```\r\n\r\n\r\nUsing this method I can apply the operations to the Employee object directly, but as the endpoint accepts the String, I am not getting how to convert these operations to String format like:\r\n```\r\n[\r\n    {&quot;op&quot;: &quot;replace&quot;, &quot;path&quot;: &quot;/name&quot;,&quot;value&quot;:&quot;John&quot; },\r\n    {&quot;op&quot;: &quot;replace&quot;, &quot;path&quot;: &quot;/subject&quot;,&quot;value&quot;:&quot;Science&quot; }\r\n]\r\n```\r\n\r\nIs there any way we can construct this payload apart from manually creating the Json string?","title":"How to construct Json-patch payload to call PATCH endpoint","body":"<p>Library used: <code>com.github.fge.jsonpatch</code><br />\nAnd I have one PATCH endpoint which accepts the String of json-patch operations.</p>\n<p><code>public Employee patchEmployee(String patchOperations, String empId);</code></p>\n<p>This method then does the required conversion to JsonPatch and all the necessary steps to apply the patch. This part is working fine when an array of Json-patch operations is sent to it in string format as a payload.</p>\n<p>But to call this API from a rest client, I need to construct the array of json-patch operations in String format.</p>\n<p>I am trying to use the JsonPatchOperation like:<br />\n<code> JsonPatchOperation replaceName = new ReplaceOperation(new JsonPointer(&quot;/name&quot;), nameNode);</code><br />\n<code>JsonPatchOperation replaceSubject = new ReplaceOperation(new JsonPointer(&quot;/subject&quot;), subjectNode);</code></p>\n<p>Using this method I can apply the operations to the Employee object directly, but as the endpoint accepts the String, I am not getting how to convert these operations to String format like:</p>\n<pre><code>[\n    {&quot;op&quot;: &quot;replace&quot;, &quot;path&quot;: &quot;/name&quot;,&quot;value&quot;:&quot;John&quot; },\n    {&quot;op&quot;: &quot;replace&quot;, &quot;path&quot;: &quot;/subject&quot;,&quot;value&quot;:&quot;Science&quot; }\n]\n</code></pre>\n<p>Is there any way we can construct this payload apart from manually creating the Json string?</p>\n"},{"tags":["java","swing","swingworker","progressmonitor"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664716344,"post_id":73925817,"comment_id":130530890,"body_markdown":"*The number of pages might be anywhere from 1 to 150. Setting the bound property max works while the number of pages is less than 100, but of course fails when there are more.* So why not scale the &#39;progress increment&#39;? ```int progressScale = numpages/100```","body":"<i>The number of pages might be anywhere from 1 to 150. Setting the bound property max works while the number of pages is less than 100, but of course fails when there are more.</i> So why not scale the &#39;progress increment&#39;? <code>int progressScale = numpages&#47;100</code>"},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":0,"creation_date":1664719696,"post_id":73925817,"comment_id":130531557,"body_markdown":"As I said, I&#39;m doing that (&quot;rewrite my progress reporting to calculate a percentage&quot;). But it seems odd that there is no mention of this limitation of SwingWorker&#39;s bound property in the tutorials for using ProgressMonitor, which seemingly doesn&#39;t have the limitation. And it means I have to separate the reporting of the page number from the reporting of the progress in any case where the upper bound of progress might be more than 100.","body":"As I said, I&#39;m doing that (&quot;rewrite my progress reporting to calculate a percentage&quot;). But it seems odd that there is no mention of this limitation of SwingWorker&#39;s bound property in the tutorials for using ProgressMonitor, which seemingly doesn&#39;t have the limitation. And it means I have to separate the reporting of the page number from the reporting of the progress in any case where the upper bound of progress might be more than 100."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664720315,"post_id":73925817,"comment_id":130531692,"body_markdown":"Sorry I missed the bit where you said you were already scaling it","body":"Sorry I missed the bit where you said you were already scaling it"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1664862272,"post_id":73925817,"comment_id":130561299,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1664882890,"post_id":73925817,"comment_id":130567257,"body_markdown":"and your question is ... ;) Looks more like a rant than anything else. _I evidently cannot do that with the bound property if I&#39;m ever going to have a document of over 100 pages_ doesn&#39;t make sense to me: progress property represents a percentage, so would match the absolute value only if the there are _exactly_ 100 pages. And as @g00se already said: what&#39;s the problem with de-/normalizing the absolute value in listener/worker? on-the-fly, with utility methods, a custom object ... Or enhance your worker with custom logic and custom property fired from process.","body":"and your question is ... ;) Looks more like a rant than anything else. <i>I evidently cannot do that with the bound property if I&#39;m ever going to have a document of over 100 pages</i> doesn&#39;t make sense to me: progress property represents a percentage, so would match the absolute value only if the there are <i>exactly</i> 100 pages. And as @g00se already said: what&#39;s the problem with de-/normalizing the absolute value in listener/worker? on-the-fly, with utility methods, a custom object ... Or enhance your worker with custom logic and custom property fired from process."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1664975022,"post_id":73925817,"comment_id":130590690,"body_markdown":"repeating: you have to normalize (to percent) the progress in task and denormalize it (back to  absolute) in the changelistener. The behavior is clearly documented.","body":"repeating: you have to normalize (to percent) the progress in task and denormalize it (back to  absolute) in the changelistener. The behavior is clearly documented."},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":0,"creation_date":1665012234,"post_id":73925817,"comment_id":130602312,"body_markdown":"IF you could tell me where it is clearly documented, I&#39;d appreciate it. My point was that the demo code does not explain this difference between `SwingWorker.setProgress()` and `ProgressMonitor.setProgress()` - it just uses 0-100 for both and doesn&#39;t mention the API difference.","body":"IF you could tell me where it is clearly documented, I&#39;d appreciate it. My point was that the demo code does not explain this difference between <code>SwingWorker.setProgress()</code> and <code>ProgressMonitor.setProgress()</code> - it just uses 0-100 for both and doesn&#39;t mention the API difference."}],"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1664969309,"creation_date":1664713784,"question_id":73925817,"body_markdown":"Class `javax.swing.ProgressMonitor` provides method `setMaximum(int max)` which is documented as\r\n&gt;Specifies the maximum value.\r\n\r\nHowever, `SwingWorker&lt;Void, Void&gt;.setProgress(int progres)` is documented as updating the `progress` bound property, which must be between 0 and 100. If you update it with a value outside that range it throws an exception. `ProgressMonitor.setMaximum(int max)` makes no mention of the SwingWorker `progress` property limitation.\r\n\r\nI have an application that reads from a document file, and I report progress each page. The number of pages might be anywhere from 1 to 150. Setting the bound property max works while the number of pages is less than 100, but of course fails when there are more. I&#39;ve wrapped myself around a couple of axles trying to resolve this in an elegant fashion, and have now given up. I&#39;ll go back to my code and rewrite my progress reporting to calculate a percentage.\r\n\r\nThe tutorials for using `ProgressMonitor` don&#39;t mention this; they all just report progress between 1 and 100 without mentioning why `ProgressMonitor.setProgress()`, when used with `SwingWorker`, has this limitation.\r\n\r\nIs there something I&#39;m missing here?\r\n\r\nEDIT: I forgot to mention that it&#39;s particularly annoying because I want to update the message in the dialog to say &quot;reading page X of Y&quot;, and I evidently cannot do that with the bound property if I&#39;m ever going to have a document of over 100 pages. So I have to update that message outside the property change logic.\r\n\r\nEDIT 2: The following is the example program given for Java&#39;s tutorial &quot;How to use Progress Bars&quot;, in the &quot;How to use Progress Monitors&quot; section. The original does not have a field for the end value of progress, but instead uses a hard-coded 100. I&#39;ve altered it to take a value from the user for the end value of the progress bar. It works the same as the original for a value of 100, sort-of works for values between 10 and 100, and throws a (runtime) exception for a value over 100.\r\n\r\nMy &#39;rant&#39;, I suppose, is that the two setProgress methods -- ProgressMonitor and SwingWorker -- work differently. `SwingWorker.setProgress()` cannot be used for values over 100, so their example of how to use `ProgressMonitor.setProgress()` is limited by that, though the tutorial doesn&#39;t mention it.\r\n\r\nMy question was &quot;am I missing anything&quot;. I guess not.\r\n\r\n    package sandbox.progressmonitor;\r\n    \r\n    /*\r\n     * Copyright (c) 1995 - 2008 Sun Microsystems, Inc.  All rights reserved.\r\n     *\r\n     * Redistribution and use in source and binary forms, with or without\r\n     * modification, are permitted provided that the following conditions\r\n     * are met:\r\n     *\r\n     *   - Redistributions of source code must retain the above copyright\r\n     *     notice, this list of conditions and the following disclaimer.\r\n     *\r\n     *   - Redistributions in binary form must reproduce the above copyright\r\n     *     notice, this list of conditions and the following disclaimer in the\r\n     *     documentation and/or other materials provided with the distribution.\r\n     *\r\n     *   - Neither the name of Sun Microsystems nor the names of its\r\n     *     contributors may be used to endorse or promote products derived\r\n     *     from this software without specific prior written permission.\r\n     *\r\n     * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS\r\n     * IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,\r\n     * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\r\n     * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR\r\n     * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\r\n     * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\r\n     * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\r\n     * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\r\n     * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\r\n     * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n     * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n     */\r\n    \r\n    import java.awt.BorderLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.Toolkit;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.beans.PropertyChangeEvent;\r\n    import java.beans.PropertyChangeListener;\r\n    import java.util.Random;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JComponent;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.ProgressMonitor;\r\n    import javax.swing.SwingWorker;\r\n    \r\n    public class ProgressMonitorDemo extends JPanel implements ActionListener, PropertyChangeListener\r\n    {\r\n      private static final long serialVersionUID = 1L;\r\n      private ProgressMonitor progressMonitor;\r\n      private JButton         startButton;\r\n      private JTextField      endValue;             // GUI value for end of progress\r\n      private int             endValueInt;          // int value for end of progress\r\n      private JTextArea       taskOutput;\r\n      private Task            task;\r\n    \r\n      class Task extends SwingWorker&lt;Void, Void&gt;\r\n      {\r\n        @Override\r\n        public Void doInBackground()\r\n        {\r\n          Random random = new Random();\r\n          int progress = 0;\r\n          setProgress(0);\r\n          try\r\n          {\r\n            Thread.sleep(1000);\r\n            while (progress &lt; endValueInt &amp;&amp; !isCancelled())\r\n            {\r\n              // Sleep for up to one second.\r\n              Thread.sleep(random.nextInt(1000));\r\n              // Make random progress.\r\n              progress += random.nextInt(10);\r\n              System.out.printf(&quot;Setting progress to %d%n&quot;, progress);\r\n              setProgress(Math.min(progress, endValueInt));   // &lt;-- looks reasonable, but a non-obvious bug\r\n                                                              // if endValueInt is over 100, this throws an exception\r\n            }\r\n          } \r\n          catch (Throwable doNotIgnore)\r\n          {\r\n            doNotIgnore.printStackTrace();                    // &lt;-- demonstrates RuntimeException thrown\r\n          }\r\n          return null;\r\n        }\r\n    \r\n        @Override\r\n        public void done()\r\n        {\r\n          Toolkit.getDefaultToolkit().beep();\r\n          startButton.setEnabled(true);\r\n          progressMonitor.setProgress(0);\r\n        }\r\n      }\r\n    \r\n      public ProgressMonitorDemo()\r\n      {\r\n        super(new BorderLayout());\r\n    \r\n        // Create the demo&#39;s UI.\r\n        startButton = new JButton(&quot;Start&quot;);\r\n        startButton.setActionCommand(&quot;start&quot;);\r\n        startButton.addActionListener(this);\r\n        \r\n        endValue = new JTextField(5);             // &lt;-- new field\r\n        \r\n        JPanel topPanel = new JPanel();           // &lt;-- new panel for field and button\r\n        topPanel.add(endValue);                   // &lt;--\r\n        topPanel.add(startButton);                // &lt;--\r\n    \r\n        taskOutput = new JTextArea(5, 20);\r\n        taskOutput.setMargin(new Insets(5, 5, 5, 5));\r\n        taskOutput.setEditable(false);\r\n    \r\n        add(topPanel, BorderLayout.PAGE_START);\r\n        add(new JScrollPane(taskOutput), BorderLayout.CENTER);\r\n        setBorder(BorderFactory.createEmptyBorder(20, 20, 20, 20));\r\n    \r\n      }\r\n    \r\n      /**\r\n       * Invoked when the user presses the start button.\r\n       */\r\n      public void actionPerformed(ActionEvent evt)\r\n      {\r\n        endValueInt = 0;\r\n        try\r\n        {\r\n          endValueInt = Integer.parseInt(endValue.getText());\r\n        }\r\n        catch (Exception e) { /* do nothing, value of 0 will cause abort */ }\r\n        \r\n        if (endValueInt &lt;=10 || endValueInt &gt; 5000)\r\n        {\r\n          JOptionPane.showMessageDialog(this, &quot;Enter an ending value between 10 and 5000&quot;);\r\n        }\r\n        else\r\n        {\r\n          // &lt;-- attempt at monitoring value that might be over 100\r\n          progressMonitor = new ProgressMonitor(ProgressMonitorDemo.this, &quot;Running a Long Task&quot;, &quot;&quot;, 0, endValueInt);\r\n          progressMonitor.setProgress(0);\r\n          progressMonitor.setMillisToDecideToPopup(10);\r\n          progressMonitor.setMillisToPopup(10);\r\n          task = new Task();\r\n          task.addPropertyChangeListener(this);\r\n          task.execute();\r\n          startButton.setEnabled(false);\r\n        }\r\n      }\r\n    \r\n      /**\r\n       * Invoked when task&#39;s progress property changes.\r\n       */\r\n      public void propertyChange(PropertyChangeEvent evt)\r\n      {\r\n        if (&quot;progress&quot; == evt.getPropertyName())\r\n        {\r\n          int progress = (Integer) evt.getNewValue();\r\n          progressMonitor.setProgress(progress);                          // &lt;-- THIS setProgress(int) will take a value &gt; 100;\r\n                                                                          // but SwingWorker.setProgress(int) will not\r\n          // since the progress property will not take a value &gt; 100,\r\n          // we can&#39;t use property change for monitoring things that have\r\n          // a high value &gt; 100.\r\n          String message = String.format(&quot;Completed %d%%.\\n&quot;, progress);\r\n          progressMonitor.setNote(message);\r\n          taskOutput.append(message);\r\n          if (progressMonitor.isCanceled() || task.isDone())\r\n          {\r\n            Toolkit.getDefaultToolkit().beep();\r\n            if (progressMonitor.isCanceled())\r\n            {\r\n              task.cancel(true);\r\n              taskOutput.append(&quot;Task canceled.\\n&quot;);\r\n            }\r\n            else\r\n            {\r\n              taskOutput.append(&quot;Task completed.\\n&quot;);\r\n            }\r\n            startButton.setEnabled(true);\r\n          }\r\n        }\r\n    \r\n      }\r\n    \r\n      /**\r\n       * Create the GUI and show it. For thread safety, this method should be\r\n       * invoked from the event-dispatching thread.\r\n       */\r\n      private static void createAndShowGUI()\r\n      {\r\n        // Create and set up the window.\r\n        JFrame frame = new JFrame(&quot;ProgressMonitorDemo&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n        // Create and set up the content pane.\r\n        JComponent newContentPane = new ProgressMonitorDemo();\r\n        newContentPane.setOpaque(true); // content panes must be opaque\r\n        frame.setContentPane(newContentPane);\r\n    \r\n        // Display the window.\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n      }\r\n    \r\n      public static void main(String[] args)\r\n      {\r\n        // Schedule a job for the event-dispatching thread:\r\n        // creating and showing this application&#39;s GUI.\r\n        javax.swing.SwingUtilities.invokeLater(new Runnable()\r\n        {\r\n          public void run()\r\n          {\r\n            createAndShowGUI();\r\n          }\r\n        });\r\n      }\r\n    }","title":"Mismatch between javax.swing.ProgressMonitor and SwingWorker.setProgress","body":"<p>Class <code>javax.swing.ProgressMonitor</code> provides method <code>setMaximum(int max)</code> which is documented as</p>\n<blockquote>\n<p>Specifies the maximum value.</p>\n</blockquote>\n<p>However, <code>SwingWorker&lt;Void, Void&gt;.setProgress(int progres)</code> is documented as updating the <code>progress</code> bound property, which must be between 0 and 100. If you update it with a value outside that range it throws an exception. <code>ProgressMonitor.setMaximum(int max)</code> makes no mention of the SwingWorker <code>progress</code> property limitation.</p>\n<p>I have an application that reads from a document file, and I report progress each page. The number of pages might be anywhere from 1 to 150. Setting the bound property max works while the number of pages is less than 100, but of course fails when there are more. I've wrapped myself around a couple of axles trying to resolve this in an elegant fashion, and have now given up. I'll go back to my code and rewrite my progress reporting to calculate a percentage.</p>\n<p>The tutorials for using <code>ProgressMonitor</code> don't mention this; they all just report progress between 1 and 100 without mentioning why <code>ProgressMonitor.setProgress()</code>, when used with <code>SwingWorker</code>, has this limitation.</p>\n<p>Is there something I'm missing here?</p>\n<p>EDIT: I forgot to mention that it's particularly annoying because I want to update the message in the dialog to say &quot;reading page X of Y&quot;, and I evidently cannot do that with the bound property if I'm ever going to have a document of over 100 pages. So I have to update that message outside the property change logic.</p>\n<p>EDIT 2: The following is the example program given for Java's tutorial &quot;How to use Progress Bars&quot;, in the &quot;How to use Progress Monitors&quot; section. The original does not have a field for the end value of progress, but instead uses a hard-coded 100. I've altered it to take a value from the user for the end value of the progress bar. It works the same as the original for a value of 100, sort-of works for values between 10 and 100, and throws a (runtime) exception for a value over 100.</p>\n<p>My 'rant', I suppose, is that the two setProgress methods -- ProgressMonitor and SwingWorker -- work differently. <code>SwingWorker.setProgress()</code> cannot be used for values over 100, so their example of how to use <code>ProgressMonitor.setProgress()</code> is limited by that, though the tutorial doesn't mention it.</p>\n<p>My question was &quot;am I missing anything&quot;. I guess not.</p>\n<pre><code>package sandbox.progressmonitor;\n\n/*\n * Copyright (c) 1995 - 2008 Sun Microsystems, Inc.  All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *\n *   - Redistributions of source code must retain the above copyright\n *     notice, this list of conditions and the following disclaimer.\n *\n *   - Redistributions in binary form must reproduce the above copyright\n *     notice, this list of conditions and the following disclaimer in the\n *     documentation and/or other materials provided with the distribution.\n *\n *   - Neither the name of Sun Microsystems nor the names of its\n *     contributors may be used to endorse or promote products derived\n *     from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS\n * IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,\n * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport java.awt.BorderLayout;\nimport java.awt.Insets;\nimport java.awt.Toolkit;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.beans.PropertyChangeEvent;\nimport java.beans.PropertyChangeListener;\nimport java.util.Random;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JComponent;\nimport javax.swing.JFrame;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.JTextField;\nimport javax.swing.ProgressMonitor;\nimport javax.swing.SwingWorker;\n\npublic class ProgressMonitorDemo extends JPanel implements ActionListener, PropertyChangeListener\n{\n  private static final long serialVersionUID = 1L;\n  private ProgressMonitor progressMonitor;\n  private JButton         startButton;\n  private JTextField      endValue;             // GUI value for end of progress\n  private int             endValueInt;          // int value for end of progress\n  private JTextArea       taskOutput;\n  private Task            task;\n\n  class Task extends SwingWorker&lt;Void, Void&gt;\n  {\n    @Override\n    public Void doInBackground()\n    {\n      Random random = new Random();\n      int progress = 0;\n      setProgress(0);\n      try\n      {\n        Thread.sleep(1000);\n        while (progress &lt; endValueInt &amp;&amp; !isCancelled())\n        {\n          // Sleep for up to one second.\n          Thread.sleep(random.nextInt(1000));\n          // Make random progress.\n          progress += random.nextInt(10);\n          System.out.printf(&quot;Setting progress to %d%n&quot;, progress);\n          setProgress(Math.min(progress, endValueInt));   // &lt;-- looks reasonable, but a non-obvious bug\n                                                          // if endValueInt is over 100, this throws an exception\n        }\n      } \n      catch (Throwable doNotIgnore)\n      {\n        doNotIgnore.printStackTrace();                    // &lt;-- demonstrates RuntimeException thrown\n      }\n      return null;\n    }\n\n    @Override\n    public void done()\n    {\n      Toolkit.getDefaultToolkit().beep();\n      startButton.setEnabled(true);\n      progressMonitor.setProgress(0);\n    }\n  }\n\n  public ProgressMonitorDemo()\n  {\n    super(new BorderLayout());\n\n    // Create the demo's UI.\n    startButton = new JButton(&quot;Start&quot;);\n    startButton.setActionCommand(&quot;start&quot;);\n    startButton.addActionListener(this);\n    \n    endValue = new JTextField(5);             // &lt;-- new field\n    \n    JPanel topPanel = new JPanel();           // &lt;-- new panel for field and button\n    topPanel.add(endValue);                   // &lt;--\n    topPanel.add(startButton);                // &lt;--\n\n    taskOutput = new JTextArea(5, 20);\n    taskOutput.setMargin(new Insets(5, 5, 5, 5));\n    taskOutput.setEditable(false);\n\n    add(topPanel, BorderLayout.PAGE_START);\n    add(new JScrollPane(taskOutput), BorderLayout.CENTER);\n    setBorder(BorderFactory.createEmptyBorder(20, 20, 20, 20));\n\n  }\n\n  /**\n   * Invoked when the user presses the start button.\n   */\n  public void actionPerformed(ActionEvent evt)\n  {\n    endValueInt = 0;\n    try\n    {\n      endValueInt = Integer.parseInt(endValue.getText());\n    }\n    catch (Exception e) { /* do nothing, value of 0 will cause abort */ }\n    \n    if (endValueInt &lt;=10 || endValueInt &gt; 5000)\n    {\n      JOptionPane.showMessageDialog(this, &quot;Enter an ending value between 10 and 5000&quot;);\n    }\n    else\n    {\n      // &lt;-- attempt at monitoring value that might be over 100\n      progressMonitor = new ProgressMonitor(ProgressMonitorDemo.this, &quot;Running a Long Task&quot;, &quot;&quot;, 0, endValueInt);\n      progressMonitor.setProgress(0);\n      progressMonitor.setMillisToDecideToPopup(10);\n      progressMonitor.setMillisToPopup(10);\n      task = new Task();\n      task.addPropertyChangeListener(this);\n      task.execute();\n      startButton.setEnabled(false);\n    }\n  }\n\n  /**\n   * Invoked when task's progress property changes.\n   */\n  public void propertyChange(PropertyChangeEvent evt)\n  {\n    if (&quot;progress&quot; == evt.getPropertyName())\n    {\n      int progress = (Integer) evt.getNewValue();\n      progressMonitor.setProgress(progress);                          // &lt;-- THIS setProgress(int) will take a value &gt; 100;\n                                                                      // but SwingWorker.setProgress(int) will not\n      // since the progress property will not take a value &gt; 100,\n      // we can't use property change for monitoring things that have\n      // a high value &gt; 100.\n      String message = String.format(&quot;Completed %d%%.\\n&quot;, progress);\n      progressMonitor.setNote(message);\n      taskOutput.append(message);\n      if (progressMonitor.isCanceled() || task.isDone())\n      {\n        Toolkit.getDefaultToolkit().beep();\n        if (progressMonitor.isCanceled())\n        {\n          task.cancel(true);\n          taskOutput.append(&quot;Task canceled.\\n&quot;);\n        }\n        else\n        {\n          taskOutput.append(&quot;Task completed.\\n&quot;);\n        }\n        startButton.setEnabled(true);\n      }\n    }\n\n  }\n\n  /**\n   * Create the GUI and show it. For thread safety, this method should be\n   * invoked from the event-dispatching thread.\n   */\n  private static void createAndShowGUI()\n  {\n    // Create and set up the window.\n    JFrame frame = new JFrame(&quot;ProgressMonitorDemo&quot;);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n    // Create and set up the content pane.\n    JComponent newContentPane = new ProgressMonitorDemo();\n    newContentPane.setOpaque(true); // content panes must be opaque\n    frame.setContentPane(newContentPane);\n\n    // Display the window.\n    frame.pack();\n    frame.setVisible(true);\n  }\n\n  public static void main(String[] args)\n  {\n    // Schedule a job for the event-dispatching thread:\n    // creating and showing this application's GUI.\n    javax.swing.SwingUtilities.invokeLater(new Runnable()\n    {\n      public void run()\n      {\n        createAndShowGUI();\n      }\n    });\n  }\n}\n</code></pre>\n"},{"tags":["java","json","rest-assured"],"comments":[{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":1,"creation_date":1664969598,"post_id":73959691,"comment_id":130588795,"body_markdown":"Shouldn&#39;t you be sending JSON strings instead of JSON objects? Can you try defining boy as an empty JSON string `{}` and check?","body":"Shouldn&#39;t you be sending JSON strings instead of JSON objects? Can you try defining boy as an empty JSON string <code>{}</code> and check?"},{"owner":{"account_id":18395741,"reputation":17,"user_id":13400243,"display_name":"jacob1989"},"score":0,"creation_date":1664970048,"post_id":73959691,"comment_id":130588950,"body_markdown":"the reason for that is that I use this method for passing deserialized objects as a body parameter. This is an exception usage","body":"the reason for that is that I use this method for passing deserialized objects as a body parameter. This is an exception usage"},{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1664972447,"post_id":73959691,"comment_id":130589746,"body_markdown":"You need to check the code with the body part and how it&#39;s deserializing the object.","body":"You need to check the code with the body part and how it&#39;s deserializing the object."},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1665729992,"post_id":73959691,"comment_id":130770749,"body_markdown":"@jacob1989 Could you re-write your question? I read it 5 times, and still don&#39;t get your problem. Do you mean when you did `JsonObject body = new JsonObject();` --&gt; Exception, but if you did `Object body = new JsonObject();` --&gt; `{}` and no error ?","body":"@jacob1989 Could you re-write your question? I read it 5 times, and still don&#39;t get your problem. Do you mean when you did <code>JsonObject body = new JsonObject();</code> --&gt; Exception, but if you did <code>Object body = new JsonObject();</code> --&gt; <code>{}</code> and no error ?"}],"owner":{"account_id":18395741,"reputation":17,"user_id":13400243,"display_name":"jacob1989"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664969188,"creation_date":1664969188,"question_id":73959691,"body_markdown":"When trying to pass empty body to the POST request it fails with   \r\n\r\n    com.fasterxml.jackson.databind.JsonMappingException: JsonObject (through reference chain: com.google.gson.JsonObject[&quot;asFloat&quot;])\r\n\r\nSo I am trying to pass empty body {} in the POST request by creating:\r\n\r\n    Object body = new JsonObject();\r\nIt gives me desired object like this: {} (I checked in the network action and it&#39;s passed the same way). But when it reaches the  `RequestSpecification body(Object var1);` then it fails (on the &#39;body&#39; part)\r\n\r\n  \r\n\r\n    given()\r\n                    .spec(requestSpecification)\r\n                    .contentType(ContentType.JSON)\r\n                    .when()\r\n                    .body(body).log().all()\r\n                    .post(URL)\r\n                    .then().log().all().extract().response();\r\n\r\n","title":"JsonMappingException when passing empty body","body":"<p>When trying to pass empty body to the POST request it fails with</p>\n<pre><code>com.fasterxml.jackson.databind.JsonMappingException: JsonObject (through reference chain: com.google.gson.JsonObject[&quot;asFloat&quot;])\n</code></pre>\n<p>So I am trying to pass empty body {} in the POST request by creating:</p>\n<pre><code>Object body = new JsonObject();\n</code></pre>\n<p>It gives me desired object like this: {} (I checked in the network action and it's passed the same way). But when it reaches the  <code>RequestSpecification body(Object var1);</code> then it fails (on the 'body' part)</p>\n<pre><code>given()\n                .spec(requestSpecification)\n                .contentType(ContentType.JSON)\n                .when()\n                .body(body).log().all()\n                .post(URL)\n                .then().log().all().extract().response();\n</code></pre>\n"},{"tags":["java","interface","package"],"answers":[{"comments":[{"owner":{"account_id":23895972,"reputation":9,"user_id":17894946,"display_name":"kretosian"},"score":0,"creation_date":1664969027,"post_id":73959361,"comment_id":130588638,"body_markdown":"how can i compile car.java after Vehicle.java  one by one using classpath","body":"how can i compile car.java after Vehicle.java  one by one using classpath"},{"owner":{"account_id":23895972,"reputation":9,"user_id":17894946,"display_name":"kretosian"},"score":0,"creation_date":1664970699,"post_id":73959361,"comment_id":130589183,"body_markdown":"`PS D:\\Programming\\java2&gt; javac vehicles\\Car.java     `                                                                                            \n`Usage: javac &lt;options&gt; &lt;source files&gt;\nuse --help for a list of possible options`  **this is also not working**","body":"<code>PS D:\\Programming\\java2&gt; javac vehicles\\Car.java     </code>                                                                                             <code>Usage: javac &lt;options&gt; &lt;source files&gt; use --help for a list of possible options</code>  <b>this is also not working</b>"}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664967271,"creation_date":1664967271,"answer_id":73959361,"question_id":73959325,"body_markdown":"Do Car.java and Vehicle.java reside in the same directory? Compile them both in one go.\r\n\r\nIf you want to compile them one by one, ensure that Vehicle.class is on the classpath while compiling Car.java.","title":"file name &quot;Car.java&quot; this class is not compiling and showing error","body":"<p>Do Car.java and Vehicle.java reside in the same directory? Compile them both in one go.</p>\n<p>If you want to compile them one by one, ensure that Vehicle.class is on the classpath while compiling Car.java.</p>\n"}],"owner":{"account_id":23895972,"reputation":9,"user_id":17894946,"display_name":"kretosian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1664969036,"accepted_answer_id":73959361,"answer_count":1,"score":-2,"last_activity_date":1664969081,"creation_date":1664967084,"question_id":73959325,"body_markdown":"&quot;Vehicle.java&quot; this class is compiling and creating a package vehicles \r\n```\r\npackage vehicles;\r\ninterface Vehicle {\r\n    public void run();\r\n    public void speed();\r\n}\r\n```\r\n\r\n&quot;Car.java&quot;\r\n\r\n```\r\npackage vehicles;\r\npublic class Car implements Vehicle\r\n{\r\n        public void run()\r\n        {\r\n                System.out.println(&quot;Car is running.&quot;);\r\n        }\r\n        public void speed()\r\n        {\r\n                System.out.println(&quot;Speed of Car: 50 Km/h&quot;);\r\n        }\r\n        public static void main(String args[])\r\n        {\r\n                Car Car = new Car();\r\n                Car.run();\r\n                Car.speed();\r\n                System.out.println(&quot;Hello World!&quot;);\r\n        }\r\n}\r\n```\r\n\r\nis not compiling and showing error \r\n\r\n    PS D:\\Programming\\java2&gt; javac -d . Car.java\r\n    Car.java:2: error: cannot find symbol\r\n    public class Car implements Vehicle\r\n                                ^\r\n    symbol: class Vehicle\r\n    1 error\r\n\r\n\r\nWhy am I getting this error?","title":"file name &quot;Car.java&quot; this class is not compiling and showing error","body":"<p>&quot;Vehicle.java&quot; this class is compiling and creating a package vehicles</p>\n<pre><code>package vehicles;\ninterface Vehicle {\n    public void run();\n    public void speed();\n}\n</code></pre>\n<p>&quot;Car.java&quot;</p>\n<pre><code>package vehicles;\npublic class Car implements Vehicle\n{\n        public void run()\n        {\n                System.out.println(&quot;Car is running.&quot;);\n        }\n        public void speed()\n        {\n                System.out.println(&quot;Speed of Car: 50 Km/h&quot;);\n        }\n        public static void main(String args[])\n        {\n                Car Car = new Car();\n                Car.run();\n                Car.speed();\n                System.out.println(&quot;Hello World!&quot;);\n        }\n}\n</code></pre>\n<p>is not compiling and showing error</p>\n<pre><code>PS D:\\Programming\\java2&gt; javac -d . Car.java\nCar.java:2: error: cannot find symbol\npublic class Car implements Vehicle\n                            ^\nsymbol: class Vehicle\n1 error\n</code></pre>\n<p>Why am I getting this error?</p>\n"},{"tags":["java","json","spring","spring-boot","jackson-databind"],"owner":{"account_id":4262158,"reputation":752,"user_id":3486243,"display_name":"Uva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1664968686,"creation_date":1657639566,"question_id":72954783,"body_markdown":"I have my pojo defined with the following paramater to map json &quot;child&quot; value\r\n\r\n    @JsonProperty(&quot;child&quot;)\r\n    private List&lt;AccountholderProfileData&gt; child = null;\r\n\r\nHowever, I am receiving List&lt;String&gt; to from the json &quot;child&quot;. \r\n\r\nHence getting the following exception. \r\n\r\n    com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `com.mtn.aggregator.models.response.AccountholderProfileData` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value\r\n\r\nCould someone help me to map different return type of objects to the same jsonproperty in pojo.","title":"com.fasterxml.jackson.databind.exc.MismatchedInputException: (although at least one Creator exists) - no String-argument to deserialize frm String val","body":"<p>I have my pojo defined with the following paramater to map json &quot;child&quot; value</p>\n<pre><code>@JsonProperty(&quot;child&quot;)\nprivate List&lt;AccountholderProfileData&gt; child = null;\n</code></pre>\n<p>However, I am receiving List to from the json &quot;child&quot;.</p>\n<p>Hence getting the following exception.</p>\n<pre><code>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `com.mtn.aggregator.models.response.AccountholderProfileData` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value\n</code></pre>\n<p>Could someone help me to map different return type of objects to the same jsonproperty in pojo.</p>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-data-mongodb"],"answers":[{"comments":[{"owner":{"account_id":20902994,"reputation":45,"user_id":15355674,"display_name":"Alan"},"score":0,"creation_date":1664446415,"post_id":73888006,"comment_id":130475808,"body_markdown":"Thanks for your help. I updated my question. There&#39;s now the query to use in MongoRepository with @Aggregation annotation","body":"Thanks for your help. I updated my question. There&#39;s now the query to use in MongoRepository with @Aggregation annotation"}],"tags":[],"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664400701,"creation_date":1664400701,"answer_id":73888006,"question_id":73882294,"body_markdown":"Helpfully, getting a filtered list of objects from an array can be done using [the `$filter` operator](https://www.mongodb.com/docs/manual/reference/operator/aggregation/filter/). The operator takes an array as input and can process each item individually via an expression. In your situation that expression would include a `$regexMatch` to look for the value in the string(s) of interest. So the stage would look something like this:\r\n\r\n```\r\n  {\r\n    &quot;$addFields&quot;: {\r\n      hobbies: {\r\n        $filter: {\r\n          input: &quot;$hobbies&quot;,\r\n          cond: {\r\n            $or: [\r\n              {\r\n                $regexMatch: {\r\n                  input: &quot;$$this.name&quot;,\r\n                  regex: &quot;d&quot;,\r\n                  options: &quot;i&quot;\r\n                }\r\n              },\r\n              {\r\n                $regexMatch: {\r\n                  input: &quot;$$this.description&quot;,\r\n                  regex: &quot;d&quot;,\r\n                  options: &quot;i&quot;\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n```\r\n\r\nSample Mongo Playground example is [here](https://mongoplayground.net/p/uMrNtU2osCq).\r\n\r\nFrom your question it&#39;s not quite clear if you will separately be using this as selection criteria for the document itself.  I&#39;ve left the leading `$match` stage to just use `_id` for the moment, but of course you can add any other filters to it (such as `&#39;hobbies.name&#39;: /d/i`) as needed.\r\n\r\nI&#39;m not personally familiar enough with Spring Boot to say what the exact syntax is to create such a pipeline, but I do know that aggregations are supported.","title":"Get a filtered list of objects defined inside a MongoDB document","body":"<p>Helpfully, getting a filtered list of objects from an array can be done using <a href=\"https://www.mongodb.com/docs/manual/reference/operator/aggregation/filter/\" rel=\"nofollow noreferrer\">the <code>$filter</code> operator</a>. The operator takes an array as input and can process each item individually via an expression. In your situation that expression would include a <code>$regexMatch</code> to look for the value in the string(s) of interest. So the stage would look something like this:</p>\n<pre><code>  {\n    &quot;$addFields&quot;: {\n      hobbies: {\n        $filter: {\n          input: &quot;$hobbies&quot;,\n          cond: {\n            $or: [\n              {\n                $regexMatch: {\n                  input: &quot;$$this.name&quot;,\n                  regex: &quot;d&quot;,\n                  options: &quot;i&quot;\n                }\n              },\n              {\n                $regexMatch: {\n                  input: &quot;$$this.description&quot;,\n                  regex: &quot;d&quot;,\n                  options: &quot;i&quot;\n                }\n              }\n            ]\n          }\n        }\n      }\n    }\n  }\n</code></pre>\n<p>Sample Mongo Playground example is <a href=\"https://mongoplayground.net/p/uMrNtU2osCq\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>From your question it's not quite clear if you will separately be using this as selection criteria for the document itself.  I've left the leading <code>$match</code> stage to just use <code>_id</code> for the moment, but of course you can add any other filters to it (such as <code>'hobbies.name': /d/i</code>) as needed.</p>\n<p>I'm not personally familiar enough with Spring Boot to say what the exact syntax is to create such a pipeline, but I do know that aggregations are supported.</p>\n"}],"owner":{"account_id":20902994,"reputation":45,"user_id":15355674,"display_name":"Alan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73888006,"answer_count":1,"score":1,"last_activity_date":1664968612,"creation_date":1664371700,"question_id":73882294,"body_markdown":"I work with Spring Boot and MongoDB. I am looking for a solution to get a list of hobbies but not all of them. The hobbies have to meet the conditions (name or description have to include searched phrase).\r\n\r\n```\r\n@Document(&quot;persons&quot;)\r\n@Data\r\nclass Person {\r\n    @Id\r\n    private String personId;\r\n    private String name;\r\n    private List&lt;Hobby&gt; hobbies;\r\n}\r\n```\r\n```\r\n@Data\r\nclass Hobby {\r\n    private String name;\r\n    private String description;\r\n    private String notImportantField;\r\n}\r\n```\r\n**Example**\r\n\r\nI want to get a person with reduced list of hobbies (all the hobbies have to contain searched phrase in one of its field).\r\n\r\n*Person document from the database*\r\n```\r\n{\r\n    &quot;_id&quot; : ObjectId(&quot;id1&quot;),\r\n    &quot;name&quot; : &quot;some person&quot;,\r\n    &quot;hobbies&quot; : [\r\n        {\r\n            &quot;name&quot; : &quot;A&quot;,\r\n            &quot;description&quot; : &quot;AB&quot;,\r\n            &quot;notImportantField&quot; : &quot;ABCDEF&quot;\r\n        },\r\n        {\r\n            &quot;name&quot; : &quot;ABC&quot;,\r\n            &quot;description&quot; : &quot;ABCD&quot;,\r\n            &quot;notImportantField&quot; : &quot;ABCDEF&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\nWhat I want to receive:\r\n- I want person with id `id1` and I am looking for phrase `ab` in person&#39;s hobbies. I should get **a list with 2 hobbies** (first hobby&#39;s description contains `ab`, second hobby&#39;s name and description contains `ab`)\r\n- I want person with id `id1` and I am looking for phrase `d` in person&#39;s hobbies. I should get **a list with 1 hobby** (second hobby&#39;s description contains `d`)\r\n\r\n\r\nI tried something like this but I get a person with all of its hobbies.\r\n```\r\n@Repository\r\ninterface PersonRepository extends MongoRepository&lt;Person, String&gt; {\r\n    @Query(&quot;{&#39;$and&#39;: [&quot; +\r\n                &quot;{&#39;_id&#39;: :#{#personId}},&quot; +\r\n                &quot;{&#39;$or&#39;:[&quot; +\r\n                    &quot;{&#39;hobbies.name&#39;: {$regex: :#{#searchPhraseRegex}, $options: &#39;i&#39;}},&quot; +\r\n                    &quot;{&#39;hobbies.description&#39;: {$regex: :#{#searchPhraseRegex}, $options: &#39;i&#39;}}&quot; +\r\n                &quot;]}&quot; +\r\n            &quot;]}&quot;)\r\n    List&lt;Person&gt; method(@Param(&quot;personId&quot;) String personId, @Param(&quot;searchPhraseRegex&quot;) String searchPhraseRegex);\r\n}\r\n```\r\nThe result method should return a person with filtered hobbies or only list of hobbies.\r\nThanks in advance for help.\r\n\r\n**UPDATE: RESOLVED**\r\n\r\nThanks @user20042973 for the help :) I used your query and change it a little to match my query in Mongo repository. It works as I expected. The result method is:\r\n```\r\n@Repository\r\ninterface PersonRepository extends MongoRepository&lt;Person, String&gt; {\r\n    @Aggregation(pipeline = {\r\n            &quot;{&#39;$match&#39;: {&#39;_id&#39;: :#{#personId}}}&quot;,\r\n            &quot;{&#39;$addFields&#39;:  {&#39;hobbies&#39;: {&#39;$filter&#39;: {&quot; +\r\n                    &quot;&#39;input&#39;: &#39;$hobbies&#39;, &quot; +\r\n                    &quot;&#39;cond&#39;: &quot; +\r\n                        &quot;{&#39;$or&#39;: [&quot; +\r\n                            &quot;{&#39;$regexMatch&#39;: {&#39;input&#39;: &#39;$$this.name&#39;, &#39;regex&#39;: :#{#searchPhraseRegex}, &#39;options&#39;: &#39;i&#39; }},&quot; +\r\n                            &quot;{&#39;$regexMatch&#39;: {&#39;input&#39;: &#39;$$this.description&#39;, &#39;regex&#39;: :#{#searchPhraseRegex}, &#39;options&#39;: &#39;i&#39; }}&quot; +\r\n                        &quot;]}&quot; +\r\n                    &quot;}}}}&quot;\r\n    })\r\n    Optional&lt;Person&gt; findPersonByIdAndFilterHobbies(@Param(&quot;personId&quot;) String personId, @Param(&quot;searchPhraseRegex&quot;) String searchPhraseRegex);\r\n}\r\n```\r\nNote: For searching e.g. `ab` we need to pass `.*ab.*` as a method argument `searchPhraseRegex`.","title":"Get a filtered list of objects defined inside a MongoDB document","body":"<p>I work with Spring Boot and MongoDB. I am looking for a solution to get a list of hobbies but not all of them. The hobbies have to meet the conditions (name or description have to include searched phrase).</p>\n<pre><code>@Document(&quot;persons&quot;)\n@Data\nclass Person {\n    @Id\n    private String personId;\n    private String name;\n    private List&lt;Hobby&gt; hobbies;\n}\n</code></pre>\n<pre><code>@Data\nclass Hobby {\n    private String name;\n    private String description;\n    private String notImportantField;\n}\n</code></pre>\n<p><strong>Example</strong></p>\n<p>I want to get a person with reduced list of hobbies (all the hobbies have to contain searched phrase in one of its field).</p>\n<p><em>Person document from the database</em></p>\n<pre><code>{\n    &quot;_id&quot; : ObjectId(&quot;id1&quot;),\n    &quot;name&quot; : &quot;some person&quot;,\n    &quot;hobbies&quot; : [\n        {\n            &quot;name&quot; : &quot;A&quot;,\n            &quot;description&quot; : &quot;AB&quot;,\n            &quot;notImportantField&quot; : &quot;ABCDEF&quot;\n        },\n        {\n            &quot;name&quot; : &quot;ABC&quot;,\n            &quot;description&quot; : &quot;ABCD&quot;,\n            &quot;notImportantField&quot; : &quot;ABCDEF&quot;\n        }\n    ]\n}\n</code></pre>\n<p>What I want to receive:</p>\n<ul>\n<li>I want person with id <code>id1</code> and I am looking for phrase <code>ab</code> in person's hobbies. I should get <strong>a list with 2 hobbies</strong> (first hobby's description contains <code>ab</code>, second hobby's name and description contains <code>ab</code>)</li>\n<li>I want person with id <code>id1</code> and I am looking for phrase <code>d</code> in person's hobbies. I should get <strong>a list with 1 hobby</strong> (second hobby's description contains <code>d</code>)</li>\n</ul>\n<p>I tried something like this but I get a person with all of its hobbies.</p>\n<pre><code>@Repository\ninterface PersonRepository extends MongoRepository&lt;Person, String&gt; {\n    @Query(&quot;{'$and': [&quot; +\n                &quot;{'_id': :#{#personId}},&quot; +\n                &quot;{'$or':[&quot; +\n                    &quot;{'hobbies.name': {$regex: :#{#searchPhraseRegex}, $options: 'i'}},&quot; +\n                    &quot;{'hobbies.description': {$regex: :#{#searchPhraseRegex}, $options: 'i'}}&quot; +\n                &quot;]}&quot; +\n            &quot;]}&quot;)\n    List&lt;Person&gt; method(@Param(&quot;personId&quot;) String personId, @Param(&quot;searchPhraseRegex&quot;) String searchPhraseRegex);\n}\n</code></pre>\n<p>The result method should return a person with filtered hobbies or only list of hobbies.\nThanks in advance for help.</p>\n<p><strong>UPDATE: RESOLVED</strong></p>\n<p>Thanks @user20042973 for the help :) I used your query and change it a little to match my query in Mongo repository. It works as I expected. The result method is:</p>\n<pre><code>@Repository\ninterface PersonRepository extends MongoRepository&lt;Person, String&gt; {\n    @Aggregation(pipeline = {\n            &quot;{'$match': {'_id': :#{#personId}}}&quot;,\n            &quot;{'$addFields':  {'hobbies': {'$filter': {&quot; +\n                    &quot;'input': '$hobbies', &quot; +\n                    &quot;'cond': &quot; +\n                        &quot;{'$or': [&quot; +\n                            &quot;{'$regexMatch': {'input': '$$this.name', 'regex': :#{#searchPhraseRegex}, 'options': 'i' }},&quot; +\n                            &quot;{'$regexMatch': {'input': '$$this.description', 'regex': :#{#searchPhraseRegex}, 'options': 'i' }}&quot; +\n                        &quot;]}&quot; +\n                    &quot;}}}}&quot;\n    })\n    Optional&lt;Person&gt; findPersonByIdAndFilterHobbies(@Param(&quot;personId&quot;) String personId, @Param(&quot;searchPhraseRegex&quot;) String searchPhraseRegex);\n}\n</code></pre>\n<p>Note: For searching e.g. <code>ab</code> we need to pass <code>.*ab.*</code> as a method argument <code>searchPhraseRegex</code>.</p>\n"},{"tags":["java","intellij-idea","javafx"],"comments":[{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1664863589,"post_id":73943671,"comment_id":130561565,"body_markdown":"try pressing ctrl+shift+a and then run this command &quot;mvn clean package&quot;","body":"try pressing ctrl+shift+a and then run this command &quot;mvn clean package&quot;"},{"owner":{"account_id":12979665,"reputation":559,"user_id":14358734,"display_name":"m. lekk"},"score":0,"creation_date":1664863674,"post_id":73943671,"comment_id":130561576,"body_markdown":"@VasanthSubramanian I&#39;m running MacOS and IntelliJ, so I&#39;m not sure what this is supposed to do.","body":"@VasanthSubramanian I&#39;m running MacOS and IntelliJ, so I&#39;m not sure what this is supposed to do."},{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1664863740,"post_id":73943671,"comment_id":130561592,"body_markdown":"sorry, try pressing CTRL twice and run the command","body":"sorry, try pressing CTRL twice and run the command"},{"owner":{"account_id":12979665,"reputation":559,"user_id":14358734,"display_name":"m. lekk"},"score":0,"creation_date":1664863986,"post_id":73943671,"comment_id":130561649,"body_markdown":"Got it. Did that and after completing, the issue persists.","body":"Got it. Did that and after completing, the issue persists."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1664864089,"post_id":73943671,"comment_id":130561675,"body_markdown":"Are you using the javafx-maven-plugin? If not, try adding that plugin and seeing if it solves your issue (see https://openjfx.io/openjfx-docs/ ; _JavaFX and IntelliJ → Modular with Maven_).","body":"Are you using the javafx-maven-plugin? If not, try adding that plugin and seeing if it solves your issue (see <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs</a> ; <i>JavaFX and IntelliJ → Modular with Maven</i>)."},{"owner":{"account_id":12979665,"reputation":559,"user_id":14358734,"display_name":"m. lekk"},"score":0,"creation_date":1664864477,"post_id":73943671,"comment_id":130561765,"body_markdown":"@Slaw Probably a dumb question but how do you add plugins to an already existing project?","body":"@Slaw Probably a dumb question but how do you add plugins to an already existing project?"},{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1664864651,"post_id":73943671,"comment_id":130561798,"body_markdown":"are you behind any firewall? Is there any proxy configuration required? because i added the dependency in my pom.xml and it worked","body":"are you behind any firewall? Is there any proxy configuration required? because i added the dependency in my pom.xml and it worked"},{"owner":{"account_id":12979665,"reputation":559,"user_id":14358734,"display_name":"m. lekk"},"score":0,"creation_date":1664865670,"post_id":73943671,"comment_id":130562010,"body_markdown":"@VasanthSubramanian No, I&#39;m on my home network. Can I ask what exactly you entered into your pom.xml?","body":"@VasanthSubramanian No, I&#39;m on my home network. Can I ask what exactly you entered into your pom.xml?"},{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1664868954,"post_id":73943671,"comment_id":130562915,"body_markdown":"i added the same dependency you mentioned in your question in the pom.xml file","body":"i added the same dependency you mentioned in your question in the pom.xml file"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1664874407,"post_id":73943671,"comment_id":130564590,"body_markdown":"&quot;_how do you add plugins to an already existing project_&quot; – By editing the POM file. Check out the [POM Reference](https://maven.apache.org/pom.html#Plugins) for general syntax. See the [javafx-maven-plugin](https://github.com/openjfx/javafx-maven-plugin#usage) README for specific usage of that plugin. Though just to be clear, I don&#39;t know if adding this plugin will fix your problem.","body":"&quot;<i>how do you add plugins to an already existing project</i>&quot; – By editing the POM file. Check out the <a href=\"https://maven.apache.org/pom.html#Plugins\" rel=\"nofollow noreferrer\">POM Reference</a> for general syntax. See the <a href=\"https://github.com/openjfx/javafx-maven-plugin#usage\" rel=\"nofollow noreferrer\">javafx-maven-plugin</a> README for specific usage of that plugin. Though just to be clear, I don&#39;t know if adding this plugin will fix your problem."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1664881972,"post_id":73943671,"comment_id":130566959,"body_markdown":"the version looks fishy - if that ever existed, it was an emergency release just after initial GA, the current stable 17 is something like 17.0.2 (last number probably higher) - note that there is only a single &quot;0.&quot;, not two","body":"the version looks fishy - if that ever existed, it was an emergency release just after initial GA, the current stable 17 is something like 17.0.2 (last number probably higher) - note that there is only a single &quot;0.&quot;, not two"},{"owner":{"account_id":12979665,"reputation":559,"user_id":14358734,"display_name":"m. lekk"},"score":0,"creation_date":1664899851,"post_id":73943671,"comment_id":130573486,"body_markdown":"@Slaw Okay. I&#39;ve been using that the entire time, then. I had the relevant lines in the pom file from the start, and it wasn&#39;t working.","body":"@Slaw Okay. I&#39;ve been using that the entire time, then. I had the relevant lines in the pom file from the start, and it wasn&#39;t working."},{"owner":{"account_id":12979665,"reputation":559,"user_id":14358734,"display_name":"m. lekk"},"score":0,"creation_date":1664913544,"post_id":73943671,"comment_id":130577558,"body_markdown":"@kleopatra I made that fix but I&#39;m getting the same problem","body":"@kleopatra I made that fix but I&#39;m getting the same problem"}],"owner":{"account_id":12979665,"reputation":559,"user_id":14358734,"display_name":"m. lekk"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664968438,"creation_date":1664863350,"question_id":73943671,"body_markdown":"In my main file, when I try to import `javafx.media packages`, I receive this message:\r\n\r\n&gt; `Cannot resolve symbol &#39;media&#39;`\r\n\r\nI&#39;ve added the dependency to my **module-info.java**, but the dependency is in red with the message `Module not found: javafx.media`.\r\n\r\nI&#39;ve also added the dependency to my pom.xml:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\r\n    &lt;version&gt;17.0.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nBut `javafx-media` is in red here too, with the message:\r\n\r\n&gt; `Dependency &#39;org.openjfx:javafx-media:17.0.0.1&#39; not found `\r\n\r\nNo clue on how to fix this!","title":"Can&#39;t import javafx.media in IntelliJ project","body":"<p>In my main file, when I try to import <code>javafx.media packages</code>, I receive this message:</p>\n<blockquote>\n<p><code>Cannot resolve symbol 'media'</code></p>\n</blockquote>\n<p>I've added the dependency to my <strong>module-info.java</strong>, but the dependency is in red with the message <code>Module not found: javafx.media</code>.</p>\n<p>I've also added the dependency to my pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\n    &lt;version&gt;17.0.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But <code>javafx-media</code> is in red here too, with the message:</p>\n<blockquote>\n<p><code>Dependency 'org.openjfx:javafx-media:17.0.0.1' not found </code></p>\n</blockquote>\n<p>No clue on how to fix this!</p>\n"},{"tags":["java","spring","spring-boot","docker","proxy"],"comments":[{"owner":{"account_id":2876145,"reputation":2806,"user_id":2468608,"display_name":"IamK"},"score":0,"creation_date":1664964932,"post_id":73958435,"comment_id":130587319,"body_markdown":"I know, it is not java, but you are searching for this, just a java implementation: https://github.com/ThreeMammals/Ocelot","body":"I know, it is not java, but you are searching for this, just a java implementation: <a href=\"https://github.com/ThreeMammals/Ocelot\" rel=\"nofollow noreferrer\">github.com/ThreeMammals/Ocelot</a>"},{"owner":{"account_id":3014209,"reputation":1479,"user_id":2556867,"accept_rate":44,"display_name":"degr"},"score":0,"creation_date":1664967819,"post_id":73958435,"comment_id":130588267,"body_markdown":"thx, looks promising.","body":"thx, looks promising."}],"answers":[{"comments":[{"owner":{"account_id":3014209,"reputation":1479,"user_id":2556867,"accept_rate":44,"display_name":"degr"},"score":1,"creation_date":1664968636,"post_id":73959519,"comment_id":130588534,"body_markdown":"Thx, I found it supports dynamic proxying","body":"Thx, I found it supports dynamic proxying"}],"tags":[],"owner":{"account_id":17596063,"reputation":53,"user_id":12766940,"display_name":"Novacean Alex"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664968140,"creation_date":1664968140,"answer_id":73959519,"question_id":73958435,"body_markdown":"Take a look at [Spring Cloud Netflix Zuul][1].\r\n\r\nI am working on a project where we use this to proxy requests from frontend to a service which handles persistence processes.\r\n\r\nMaybe it will help you achieve what you are looking for.\r\n\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-netflix/multi/multi__router_and_filter_zuul.html","title":"setup proxy to docker containers from java application","body":"<p>Take a look at <a href=\"https://cloud.spring.io/spring-cloud-netflix/multi/multi__router_and_filter_zuul.html\" rel=\"nofollow noreferrer\">Spring Cloud Netflix Zuul</a>.</p>\n<p>I am working on a project where we use this to proxy requests from frontend to a service which handles persistence processes.</p>\n<p>Maybe it will help you achieve what you are looking for.</p>\n"}],"owner":{"account_id":3014209,"reputation":1479,"user_id":2556867,"accept_rate":44,"display_name":"degr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73959519,"answer_count":1,"score":0,"last_activity_date":1664968140,"creation_date":1664962350,"question_id":73958435,"body_markdown":"Need help with technical solution. \r\n\r\nI have java (spring boot) application which may start docker container. Application assign ID and port to each container. That port is used as separate UI. ID is used to stop container.\r\n\r\nFor now, application work with 443 secured port, while each container open it own port in a range 19000-19100.\r\n\r\nIs it possible to setup something like proxy server in application, verify request and then forward it to container?\r\n\r\nLet&#39;s say, instead of `myhost.com:19000` I want to use `myhost.com/container/{containerId}`?\r\n\r\nI&#39;m thinking about rest template or feign client, but not sure how it will behave with websockets. Any thoughts? Existing tools or libraries?","title":"setup proxy to docker containers from java application","body":"<p>Need help with technical solution.</p>\n<p>I have java (spring boot) application which may start docker container. Application assign ID and port to each container. That port is used as separate UI. ID is used to stop container.</p>\n<p>For now, application work with 443 secured port, while each container open it own port in a range 19000-19100.</p>\n<p>Is it possible to setup something like proxy server in application, verify request and then forward it to container?</p>\n<p>Let's say, instead of <code>myhost.com:19000</code> I want to use <code>myhost.com/container/{containerId}</code>?</p>\n<p>I'm thinking about rest template or feign client, but not sure how it will behave with websockets. Any thoughts? Existing tools or libraries?</p>\n"},{"tags":["java","multithreading","loops"],"comments":[{"owner":{"account_id":5055881,"reputation":3266,"user_id":15055605,"display_name":"YaMiN"},"score":0,"creation_date":1649602883,"post_id":71817703,"comment_id":126912176,"body_markdown":"You can use threads or [ExecutorService](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html).","body":"You can use threads or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">ExecutorService</a>."},{"owner":{"account_id":3428879,"reputation":3755,"user_id":2873896,"display_name":"Luke Briggs"},"score":2,"creation_date":1649603509,"post_id":71817703,"comment_id":126912314,"body_markdown":"Maybe approach it more like this: [A timer](https://stackoverflow.com/questions/4044726/how-to-set-a-timer-in-java) which ticks once a second. When it ticks, depending on if it is currently black or white&#39;s turn, you update their time counts accordingly. While/sleep loops have a tendancy to &#39;drift&#39; from true time, given it doesn&#39;t take exactly 1 second per iteration.","body":"Maybe approach it more like this: <a href=\"https://stackoverflow.com/questions/4044726/how-to-set-a-timer-in-java\">A timer</a> which ticks once a second. When it ticks, depending on if it is currently black or white&#39;s turn, you update their time counts accordingly. While/sleep loops have a tendancy to &#39;drift&#39; from true time, given it doesn&#39;t take exactly 1 second per iteration."},{"owner":{"account_id":395272,"reputation":24521,"user_id":758133,"accept_rate":100,"display_name":"Martin James"},"score":0,"creation_date":1649605273,"post_id":71817703,"comment_id":126912708,"body_markdown":"Two semaphores and one unit?  When input, signal a semaphore and wait on the other.","body":"Two semaphores and one unit?  When input, signal a semaphore and wait on the other."}],"answers":[{"tags":[],"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649619176,"creation_date":1649617272,"answer_id":71819697,"question_id":71817703,"body_markdown":"I don&#39;t exactly follow what you&#39;re looking for. But it sounds like you&#39;re looking to execute those methods in a multi-threaded way. \r\n\r\nIf that&#39;s the case, you appear to be missing some things, such as the [synchronized][1] keyword and the [Runnable][2] interface.\r\n\r\nThe following is an example to perhaps get you started down the right path. It runs as it is, but I&#39;m sure you&#39;ll need to tweak it to accomplish your goal:\r\n\r\n    package SatrancSaatiRunner ;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class SatrancSaatiRunner {\r\n    \tstatic int beyazZamani = 60;\r\n    \tstatic int siyahZamani = 60;\r\n    \r\n    \tstatic boolean BeyazinSirasi = false;\r\n    \tstatic boolean SiyahinSirasi = false;// rakip baslar\r\n    \r\n    \tstatic boolean zamanVarMi = true;\r\n    \r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \r\n    \t\tSatrancSaatiRunner s = new SatrancSaatiRunner();\r\n    \r\n            for (int i = 0; i &lt; 999; i++) {\r\n    \r\n                //Scanner scanner = new Scanner(System.in);\r\n                System.out.println(&quot;Beyaz hamle yaptiktan sonra 1 e basmali&quot;);\r\n                System.out.println(&quot;Siyah hamle yaptiktan sonra 2 e basmali&quot;);\r\n    \r\n                //int kiminSirasi = scanner.nextInt();\r\n                //if (kiminSirasi == 1) {\r\n                //    saatCalistirSiyah(BeyazinSirasi, siyahZamani, zamanVarMi, beyazZamani, siyahZamani);\r\n    \r\n                //} else if (kiminSirasi == 2) {\r\n                //      saatCalistirBeyaz(BeyazinSirasi, siyahZamani, zamanVarMi, beyazZamani, siyahZamani);\r\n                //}\r\n            //}\r\n          }\r\n    \r\n    \t\tThread t1 = new Thread(new Runnable() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\ts.saatCalistirSiyah(BeyazinSirasi, siyahZamani, zamanVarMi, beyazZamani, siyahZamani);\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\tSystem.out.println(e);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tThread t2 = new Thread(new Runnable() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\ts.saatCalistirBeyaz(BeyazinSirasi, siyahZamani, zamanVarMi, beyazZamani, siyahZamani);\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\tSystem.out.println(e);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tt1.start();\r\n    \t\tt2.start();\r\n    \r\n    \t\ttry {\r\n    \t\t\tt1.join();\r\n    \t\t\tt2.join();\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void saatCalistirBeyaz(boolean beyazinSirasi, int siyahZamani, boolean zamanVarMi, int beyazZamani,\r\n    \t\t\tint siyahZamani1) throws InterruptedException {\r\n    \t\tsynchronized (this) {\r\n    \t\t\tSystem.out.println(&quot;***Hamle Beyazda***&quot;);\r\n    \t\t\twhile (true) {\r\n    \t\t\t\tsiyahZamani++;\r\n    \t\t\t\tbeyazZamani--;\r\n    \t\t\t\tSystem.out.print(&quot;Beyaz: &quot; + beyazZamani + &quot; &quot;);\r\n    \t\t\t\tSystem.out.print(&quot;Siyah: &quot; + siyahZamani);\r\n    \t\t\t\tSystem.out.print(&quot;\\u000C&quot;);\r\n    \t\t\t\tThread.sleep(1000);\r\n    \r\n    \t\t\t\tif (beyazZamani &lt;= 0 || siyahZamani &lt;= 0) {\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void saatCalistirSiyah(boolean beyazinSirasi, int siyahZamani, boolean zamanVarMi, int beyazZamani,\r\n    \t\t\tint siyahZamani1) throws InterruptedException {\r\n    \t\tSystem.out.println(&quot;***Hamle Siyahta***&quot;);\r\n    \t\twhile (true) {\r\n    \t\t\tbeyazZamani++;\r\n    \t\t\tsiyahZamani--;\r\n    \t\t\tSystem.out.print(&quot;Beyaz: &quot; + beyazZamani + &quot; &quot;);\r\n    \t\t\tSystem.out.print(&quot;Siyah: &quot; + siyahZamani);\r\n    \t\t\tSystem.out.print(&quot;\\u000C&quot;);\r\n    \t\t\tThread.sleep(1000);\r\n    \r\n    \t\t\tif (beyazZamani &lt;= 0 || siyahZamani &lt;= 0) {\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/Runnable.html","title":"how to run &quot;two different code&quot; together?","body":"<p>I don't exactly follow what you're looking for. But it sounds like you're looking to execute those methods in a multi-threaded way.</p>\n<p>If that's the case, you appear to be missing some things, such as the <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html\" rel=\"nofollow noreferrer\">synchronized</a> keyword and the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Runnable.html\" rel=\"nofollow noreferrer\">Runnable</a> interface.</p>\n<p>The following is an example to perhaps get you started down the right path. It runs as it is, but I'm sure you'll need to tweak it to accomplish your goal:</p>\n<pre><code>package SatrancSaatiRunner ;\n\nimport java.util.Scanner;\n\npublic class SatrancSaatiRunner {\n    static int beyazZamani = 60;\n    static int siyahZamani = 60;\n\n    static boolean BeyazinSirasi = false;\n    static boolean SiyahinSirasi = false;// rakip baslar\n\n    static boolean zamanVarMi = true;\n\n    public static void main(String[] args) throws InterruptedException {\n\n        SatrancSaatiRunner s = new SatrancSaatiRunner();\n\n        for (int i = 0; i &lt; 999; i++) {\n\n            //Scanner scanner = new Scanner(System.in);\n            System.out.println(&quot;Beyaz hamle yaptiktan sonra 1 e basmali&quot;);\n            System.out.println(&quot;Siyah hamle yaptiktan sonra 2 e basmali&quot;);\n\n            //int kiminSirasi = scanner.nextInt();\n            //if (kiminSirasi == 1) {\n            //    saatCalistirSiyah(BeyazinSirasi, siyahZamani, zamanVarMi, beyazZamani, siyahZamani);\n\n            //} else if (kiminSirasi == 2) {\n            //      saatCalistirBeyaz(BeyazinSirasi, siyahZamani, zamanVarMi, beyazZamani, siyahZamani);\n            //}\n        //}\n      }\n\n        Thread t1 = new Thread(new Runnable() {\n\n            @Override\n            public void run() {\n                try {\n                    s.saatCalistirSiyah(BeyazinSirasi, siyahZamani, zamanVarMi, beyazZamani, siyahZamani);\n                } catch (InterruptedException e) {\n                    System.out.println(e);\n                }\n            }\n        });\n\n        Thread t2 = new Thread(new Runnable() {\n\n            @Override\n            public void run() {\n                try {\n                    s.saatCalistirBeyaz(BeyazinSirasi, siyahZamani, zamanVarMi, beyazZamani, siyahZamani);\n                } catch (InterruptedException e) {\n                    System.out.println(e);\n                }\n            }\n        });\n\n        t1.start();\n        t2.start();\n\n        try {\n            t1.join();\n            t2.join();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void saatCalistirBeyaz(boolean beyazinSirasi, int siyahZamani, boolean zamanVarMi, int beyazZamani,\n            int siyahZamani1) throws InterruptedException {\n        synchronized (this) {\n            System.out.println(&quot;***Hamle Beyazda***&quot;);\n            while (true) {\n                siyahZamani++;\n                beyazZamani--;\n                System.out.print(&quot;Beyaz: &quot; + beyazZamani + &quot; &quot;);\n                System.out.print(&quot;Siyah: &quot; + siyahZamani);\n                System.out.print(&quot;\\u000C&quot;);\n                Thread.sleep(1000);\n\n                if (beyazZamani &lt;= 0 || siyahZamani &lt;= 0) {\n                    break;\n                }\n            }\n        }\n    }\n\n    private void saatCalistirSiyah(boolean beyazinSirasi, int siyahZamani, boolean zamanVarMi, int beyazZamani,\n            int siyahZamani1) throws InterruptedException {\n        System.out.println(&quot;***Hamle Siyahta***&quot;);\n        while (true) {\n            beyazZamani++;\n            siyahZamani--;\n            System.out.print(&quot;Beyaz: &quot; + beyazZamani + &quot; &quot;);\n            System.out.print(&quot;Siyah: &quot; + siyahZamani);\n            System.out.print(&quot;\\u000C&quot;);\n            Thread.sleep(1000);\n\n            if (beyazZamani &lt;= 0 || siyahZamani &lt;= 0) {\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24619664,"reputation":228,"user_id":18520216,"display_name":"Barış Can Ateş"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1664967839,"creation_date":1649602189,"question_id":71817703,"body_markdown":"\r\nI want to create a basic chess clock but I got stuck. \r\n\r\n\r\n```java\r\npackage SatrancSaati;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class SatrancSaatiRunner {\r\n    static int beyazZamani = 60;\r\n    static int siyahZamani = 60;\r\n\r\n    static boolean BeyazinSirasi = false;\r\n    static boolean SiyahinSirasi = false;//rakip baslar\r\n\r\n    static boolean zamanVarMi = true;\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        for (int i = 0; i &lt; 999; i++) {\r\n\r\n            Scanner scanner = new Scanner(System.in);\r\n            System.out.println(&quot;Beyaz hamle yaptiktan sonra 1 e basmali&quot;);\r\n            System.out.println(&quot;Siyah hamle yaptiktan sonra 2 e basmali&quot;);\r\n\r\n            int kiminSirasi = scanner.nextInt();\r\n            if (kiminSirasi == 1) {\r\n                saatCalistirSiyah(BeyazinSirasi, siyahZamani, zamanVarMi, beyazZamani, siyahZamani);\r\n\r\n            } else if (kiminSirasi == 2) {\r\n                saatCalistirBeyaz(BeyazinSirasi, siyahZamani, zamanVarMi, beyazZamani, siyahZamani);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private static void saatCalistirBeyaz(boolean beyazinSirasi, int siyahZamani, boolean zamanVarMi, int beyazZamani, int siyahZamani1) throws InterruptedException {\r\n        System.out.println(&quot;***Hamle Beyazda***&quot;);\r\n        while (true) {\r\n            siyahZamani++;\r\n            beyazZamani--;\r\n            System.out.print(&quot;Beyaz: &quot; + beyazZamani + &quot; &quot;);\r\n            System.out.print(&quot;Siyah: &quot; + siyahZamani);\r\n            System.out.print(&quot;\\u000C&quot;);\r\n            Thread.sleep(1000);\r\n\r\n            if (beyazZamani &lt;= 0 || siyahZamani &lt;= 0) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    private static void saatCalistirSiyah(boolean beyazinSirasi, int siyahZamani, boolean zamanVarMi,\r\n                                          int beyazZamani, int siyahZamani1) throws InterruptedException {\r\n        System.out.println(&quot;***Hamle Siyahta***&quot;);\r\n        while (true) {\r\n            beyazZamani++;\r\n            siyahZamani--;\r\n            System.out.print(&quot;Beyaz: &quot; + beyazZamani + &quot; &quot;);\r\n            System.out.print(&quot;Siyah: &quot; + siyahZamani);\r\n            System.out.print(&quot;\\u000C&quot;);\r\n            Thread.sleep(1000);\r\n\r\n            if (beyazZamani &lt;= 0 || siyahZamani &lt;= 0) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n ```\r\n\r\n\r\nThis is my basic code, I want that code to work like this:\r\n\r\nwhen I click 1 on IntelliJ then black&#39;s time starts dropping and white time increases by the same amount. while this code running when I click 2 I want to stop the other method and start the opposite method that increases white&#39;s time and decreases black&#39;s time by the same amount. This is very difficult because when I start one method it works until finished. That&#39;s my problem.","title":"how to run &quot;two different code&quot; together?","body":"<p>I want to create a basic chess clock but I got stuck.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package SatrancSaati;\n\nimport java.util.Scanner;\n\npublic class SatrancSaatiRunner {\n    static int beyazZamani = 60;\n    static int siyahZamani = 60;\n\n    static boolean BeyazinSirasi = false;\n    static boolean SiyahinSirasi = false;//rakip baslar\n\n    static boolean zamanVarMi = true;\n\n    public static void main(String[] args) throws InterruptedException {\n\n        for (int i = 0; i &lt; 999; i++) {\n\n            Scanner scanner = new Scanner(System.in);\n            System.out.println(&quot;Beyaz hamle yaptiktan sonra 1 e basmali&quot;);\n            System.out.println(&quot;Siyah hamle yaptiktan sonra 2 e basmali&quot;);\n\n            int kiminSirasi = scanner.nextInt();\n            if (kiminSirasi == 1) {\n                saatCalistirSiyah(BeyazinSirasi, siyahZamani, zamanVarMi, beyazZamani, siyahZamani);\n\n            } else if (kiminSirasi == 2) {\n                saatCalistirBeyaz(BeyazinSirasi, siyahZamani, zamanVarMi, beyazZamani, siyahZamani);\n            }\n        }\n    }\n\n\n    private static void saatCalistirBeyaz(boolean beyazinSirasi, int siyahZamani, boolean zamanVarMi, int beyazZamani, int siyahZamani1) throws InterruptedException {\n        System.out.println(&quot;***Hamle Beyazda***&quot;);\n        while (true) {\n            siyahZamani++;\n            beyazZamani--;\n            System.out.print(&quot;Beyaz: &quot; + beyazZamani + &quot; &quot;);\n            System.out.print(&quot;Siyah: &quot; + siyahZamani);\n            System.out.print(&quot;\\u000C&quot;);\n            Thread.sleep(1000);\n\n            if (beyazZamani &lt;= 0 || siyahZamani &lt;= 0) {\n                break;\n            }\n        }\n    }\n\n    private static void saatCalistirSiyah(boolean beyazinSirasi, int siyahZamani, boolean zamanVarMi,\n                                          int beyazZamani, int siyahZamani1) throws InterruptedException {\n        System.out.println(&quot;***Hamle Siyahta***&quot;);\n        while (true) {\n            beyazZamani++;\n            siyahZamani--;\n            System.out.print(&quot;Beyaz: &quot; + beyazZamani + &quot; &quot;);\n            System.out.print(&quot;Siyah: &quot; + siyahZamani);\n            System.out.print(&quot;\\u000C&quot;);\n            Thread.sleep(1000);\n\n            if (beyazZamani &lt;= 0 || siyahZamani &lt;= 0) {\n                break;\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>This is my basic code, I want that code to work like this:</p>\n<p>when I click 1 on IntelliJ then black's time starts dropping and white time increases by the same amount. while this code running when I click 2 I want to stop the other method and start the opposite method that increases white's time and decreases black's time by the same amount. This is very difficult because when I start one method it works until finished. That's my problem.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9236,"page":987,"page_size":100}
