{"items":[{"tags":["java","spring","spring-boot","npm-install","vaadin14"],"answers":[{"tags":[],"owner":{"account_id":4059918,"reputation":1722,"user_id":3336733,"display_name":"Artur Signell"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664777927,"creation_date":1664777927,"answer_id":73931724,"question_id":73926215,"body_markdown":"With `npm install` the first thing you can try is... wait. Sometimes it can be frustratingly slow. I have seen 10 minutes in extreme cases. It is especially slow if you have deleted `package-lock.json` or upgraded a lot of dependencies (like when you upgrade the Vaadin version).\r\n\r\nSometimes you can fix that by manually running `npm install --prefer-offline` once which will make npm spend less time looking for things to update and instead focus on installing the needed packages.\r\n\r\nOverall if you run `npm install` manually once, you will better see progress and what is going on. You can even add the `--verbose` flag but that will probably give you more information than what you want.","title":"Starting Spring Boot application (Vaadin) stuck at running &#39;npm install&#39;","body":"<p>With <code>npm install</code> the first thing you can try is... wait. Sometimes it can be frustratingly slow. I have seen 10 minutes in extreme cases. It is especially slow if you have deleted <code>package-lock.json</code> or upgraded a lot of dependencies (like when you upgrade the Vaadin version).</p>\n<p>Sometimes you can fix that by manually running <code>npm install --prefer-offline</code> once which will make npm spend less time looking for things to update and instead focus on installing the needed packages.</p>\n<p>Overall if you run <code>npm install</code> manually once, you will better see progress and what is going on. You can even add the <code>--verbose</code> flag but that will probably give you more information than what you want.</p>\n"}],"owner":{"account_id":22510881,"reputation":110,"user_id":16705849,"display_name":"Lukas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73931724,"answer_count":1,"score":1,"last_activity_date":1664777927,"creation_date":1664717371,"question_id":73926215,"body_markdown":"My Vaadin application used to work fine, but now when I want to start it the application is stuck at running npm install:\r\n&gt;2022-10-02 15:24:49.482  INFO 27004 --- [           main] dev-updater                              : Running `npm install` to resolve and optionally download frontend dependencies. This may take a moment, please stand by...\r\n\r\nAnd I cant find a way to fix that.\r\n\r\nThanks in advance!","title":"Starting Spring Boot application (Vaadin) stuck at running &#39;npm install&#39;","body":"<p>My Vaadin application used to work fine, but now when I want to start it the application is stuck at running npm install:</p>\n<blockquote>\n<p>2022-10-02 15:24:49.482  INFO 27004 --- [           main] dev-updater                              : Running <code>npm install</code> to resolve and optionally download frontend dependencies. This may take a moment, please stand by...</p>\n</blockquote>\n<p>And I cant find a way to fix that.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","timeout"],"answers":[{"comments":[{"owner":{"account_id":136737,"reputation":1513,"user_id":340447,"accept_rate":79,"display_name":"htf"},"score":1,"creation_date":1303213169,"post_id":5715259,"comment_id":6534528,"body_markdown":"The problem is that I have a third-party library which runs too long sometimes and there&#39;s no native mechanism for timing out","body":"The problem is that I have a third-party library which runs too long sometimes and there&#39;s no native mechanism for timing out"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1303213337,"post_id":5715259,"comment_id":6534569,"body_markdown":"This is a common problem unfortunately and the only reliable way to manage this is to have a seperate process which you can kill.  The alternative is to use Thread.stop() on it.  Read the warnings for this method before you use it!","body":"This is a common problem unfortunately and the only reliable way to manage this is to have a seperate process which you can kill.  The alternative is to use Thread.stop() on it.  Read the warnings for this method before you use it!"}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":2,"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1548241225,"creation_date":1303210526,"answer_id":5715259,"question_id":5715235,"body_markdown":"Yes, but its generally a very bad idea to force another thread to interrupt on a random line of code. You would only do this if you intend to shutdown the process.\r\n\r\nWhat you can do is to use `Thread.interrupt()` for a task after a certain amount of time.  However, unless the code checks for this it won&#39;t work. An ExecutorService can make this easier with `Future.cancel(true)`\r\n\r\nIts much better for the code to time itself and stop when it needs to.","title":"Java: set timeout on a certain block of code?","body":"<p>Yes, but its generally a very bad idea to force another thread to interrupt on a random line of code. You would only do this if you intend to shutdown the process.</p>\n\n<p>What you can do is to use <code>Thread.interrupt()</code> for a task after a certain amount of time.  However, unless the code checks for this it won't work. An ExecutorService can make this easier with <code>Future.cancel(true)</code></p>\n\n<p>Its much better for the code to time itself and stop when it needs to.</p>\n"},{"comments":[{"owner":{"account_id":247030,"reputation":2030,"user_id":521495,"accept_rate":78,"display_name":"Kojotak"},"score":0,"creation_date":1303211097,"post_id":5715266,"comment_id":6534050,"body_markdown":"This is not 100% correct, because the timer thread will be independent of thread running the block of code. The timer thread can throw an exception although the &#39;worker&#39; thread did nothing, because there were other threads with higher priority. There is a slight difference between &#39;runs longer than X seconds&#39; and &#39;has started before X seconds&#39;.","body":"This is not 100% correct, because the timer thread will be independent of thread running the block of code. The timer thread can throw an exception although the &#39;worker&#39; thread did nothing, because there were other threads with higher priority. There is a slight difference between &#39;runs longer than X seconds&#39; and &#39;has started before X seconds&#39;."},{"owner":{"account_id":111824,"reputation":4238,"user_id":295199,"accept_rate":100,"display_name":"HXCaine"},"score":0,"creation_date":1303211419,"post_id":5715266,"comment_id":6534120,"body_markdown":"Okay, fair enough. Thanks for the response. I&#39;ll leave the answer up so others can see your comment","body":"Okay, fair enough. Thanks for the response. I&#39;ll leave the answer up so others can see your comment"}],"tags":[],"owner":{"account_id":111824,"reputation":4238,"user_id":295199,"accept_rate":100,"display_name":"HXCaine"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303210551,"creation_date":1303210551,"answer_id":5715266,"question_id":5715235,"body_markdown":"There is a hacky way to do it.\r\n\r\nSet some boolean field to indicate whether the work was completed. Then before the block of code, set a timer to run a piece of code after your timeout. The timer will check if the block of code had finished executing, and if not, throw an exception. Otherwise it will do nothing.\r\n\r\nThe end of the block of code should, of course, set the field to true to indicate the work was done.","title":"Java: set timeout on a certain block of code?","body":"<p>There is a hacky way to do it.</p>\n\n<p>Set some boolean field to indicate whether the work was completed. Then before the block of code, set a timer to run a piece of code after your timeout. The timer will check if the block of code had finished executing, and if not, throw an exception. Otherwise it will do nothing.</p>\n\n<p>The end of the block of code should, of course, set the field to true to indicate the work was done.</p>\n"},{"comments":[{"owner":{"account_id":9396,"reputation":14580,"user_id":17335,"display_name":"Chii"},"score":1,"creation_date":1303213466,"post_id":5715284,"comment_id":6534603,"body_markdown":"unfortunately, that only works if you control the code executing within the callable (which if that is true, then doing this is trivial)","body":"unfortunately, that only works if you control the code executing within the callable (which if that is true, then doing this is trivial)"},{"owner":{"account_id":115714,"reputation":8890,"user_id":303698,"accept_rate":75,"display_name":"laher"},"score":0,"creation_date":1303214338,"post_id":5715284,"comment_id":6534843,"body_markdown":"ok, I can see that in @HTF&#39;s comment now. I guess Thread.stop() is the only way! See warnings here: http://download.oracle.com/javase/6/docs/technotes/guides/concurrency/threadPrimitiveDeprecation.html","body":"ok, I can see that in @HTF&#39;s comment now. I guess Thread.stop() is the only way! See warnings here: <a href=\"http://download.oracle.com/javase/6/docs/technotes/guides/concurrency/threadPrimitiveDeprecation.html\" rel=\"nofollow noreferrer\">download.oracle.com/javase/6/docs/technotes/guides/concurren&zwnj;&#8203;cy/&hellip;</a>"}],"tags":[],"owner":{"account_id":115714,"reputation":8890,"user_id":303698,"accept_rate":75,"display_name":"laher"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1451974601,"creation_date":1303210658,"answer_id":5715284,"question_id":5715235,"body_markdown":"EDIT: Peter Lawrey is completely right: it&#39;s not as simple as interrupting a thread (my original suggestion), and Executors &amp; Callables are very useful ...\r\n\r\nRather than interrupting threads, you could set a variable on the Callable once the timeout is reached. The callable should check this variable at appropriate points in task execution, to know when to stop.\r\n\r\nCallables return Futures, with which you can specify a timeout when you try to &#39;get&#39; the future&#39;s result. Something like this:\r\n\r\n    try {\r\n       future.get(timeoutSeconds, TimeUnit.SECONDS)\r\n    } catch(InterruptedException e) {\r\n       myCallable.setStopMeAtAppropriatePlace(true);\r\n    }\r\n    \r\n    \r\nSee Future.get, Executors, and Callable ...\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Future.html#get-long-java.util.concurrent.TimeUnit-\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Callable.html\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newFixedThreadPool%28int%29","title":"Java: set timeout on a certain block of code?","body":"<p>EDIT: Peter Lawrey is completely right: it's not as simple as interrupting a thread (my original suggestion), and Executors &amp; Callables are very useful ...</p>\n\n<p>Rather than interrupting threads, you could set a variable on the Callable once the timeout is reached. The callable should check this variable at appropriate points in task execution, to know when to stop.</p>\n\n<p>Callables return Futures, with which you can specify a timeout when you try to 'get' the future's result. Something like this:</p>\n\n<pre><code>try {\n   future.get(timeoutSeconds, TimeUnit.SECONDS)\n} catch(InterruptedException e) {\n   myCallable.setStopMeAtAppropriatePlace(true);\n}\n</code></pre>\n\n<p>See Future.get, Executors, and Callable ...</p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Future.html#get-long-java.util.concurrent.TimeUnit-\" rel=\"nofollow\">https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Future.html#get-long-java.util.concurrent.TimeUnit-</a></p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Callable.html\" rel=\"nofollow\">https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Callable.html</a></p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newFixedThreadPool%28int%29\" rel=\"nofollow\">https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newFixedThreadPool%28int%29</a></p>\n"},{"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1303210941,"post_id":5715286,"comment_id":6534018,"body_markdown":"+0: In your second example, are you trying to do a `Thread.join(long)` with a timeout ;)","body":"+0: In your second example, are you trying to do a <code>Thread.join(long)</code> with a timeout ;)"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":3,"creation_date":1303213228,"post_id":5715286,"comment_id":6534541,"body_markdown":"After `thread.start()` you could have `thread.join(10000);` instead of the rest of the code.","body":"After <code>thread.start()</code> you could have <code>thread.join(10000);</code> instead of the rest of the code."}],"tags":[],"owner":{"account_id":346631,"reputation":3598,"user_id":680275,"accept_rate":88,"display_name":"Farzin Zaker"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1380895796,"creation_date":1303210662,"answer_id":5715286,"question_id":5715235,"body_markdown":"I can suggest two options.\r\n\r\n1. Within the method, assuming it is looping and not waiting for an external event, add a local field and test the time each time around the loop.\r\n\r\n        void method() {\r\n        \tlong endTimeMillis = System.currentTimeMillis() + 10000;\r\n        \twhile (true) {\r\n        \t\t// method logic\r\n        \t\tif (System.currentTimeMillis() &gt; endTimeMillis) {\r\n        \t\t\t// do some clean-up\r\n        \t\t\treturn;\r\n        \t\t}\r\n        \t}\r\n        }\r\n\r\n2. Run the method in a thread, and have the caller count to 10 seconds.\r\n\r\n        Thread thread = new Thread(new Runnable() {\r\n        \t\t@Override\r\n        \t\tpublic void run() {\r\n        \t\t\tmethod();\r\n        \t\t}\r\n    \t});\r\n    \tthread.start();\r\n    \tlong endTimeMillis = System.currentTimeMillis() + 10000;\r\n    \twhile (thread.isAlive()) {\r\n    \t\tif (System.currentTimeMillis() &gt; endTimeMillis) {\r\n    \t\t\t// set an error flag\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t\ttry {\r\n    \t\t\tThread.sleep(500);\r\n    \t\t}\r\n    \t\tcatch (InterruptedException t) {}\r\n    \t}\r\n\r\nThe drawback to this approach is that method() cannot return a value directly, it must update an instance field to return its value.","title":"Java: set timeout on a certain block of code?","body":"<p>I can suggest two options.</p>\n\n<ol>\n<li><p>Within the method, assuming it is looping and not waiting for an external event, add a local field and test the time each time around the loop.</p>\n\n<pre><code>void method() {\n    long endTimeMillis = System.currentTimeMillis() + 10000;\n    while (true) {\n        // method logic\n        if (System.currentTimeMillis() &gt; endTimeMillis) {\n            // do some clean-up\n            return;\n        }\n    }\n}\n</code></pre></li>\n<li><p>Run the method in a thread, and have the caller count to 10 seconds.</p>\n\n<pre><code>Thread thread = new Thread(new Runnable() {\n        @Override\n        public void run() {\n            method();\n        }\n});\nthread.start();\nlong endTimeMillis = System.currentTimeMillis() + 10000;\nwhile (thread.isAlive()) {\n    if (System.currentTimeMillis() &gt; endTimeMillis) {\n        // set an error flag\n        break;\n    }\n    try {\n        Thread.sleep(500);\n    }\n    catch (InterruptedException t) {}\n}\n</code></pre></li>\n</ol>\n\n<p>The drawback to this approach is that method() cannot return a value directly, it must update an instance field to return its value.</p>\n"},{"tags":[],"owner":{"account_id":128551,"reputation":57229,"user_id":326480,"accept_rate":82,"display_name":"mdma"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1644244595,"creation_date":1303211088,"answer_id":5715367,"question_id":5715235,"body_markdown":"If it is test code you want to time, then you can use the `time` attribute:\r\n\r\n    @Test(timeout = 1000)  \r\n    public void shouldTakeASecondOrLess()\r\n    {\r\n    }\r\n\r\nIf it is production code, there is no simple mechanism, and which solution you use depends upon whether you can alter the code to be timed or not.\r\n\r\nIf you can change the code being timed, then a simple approach is is to have your timed code remember it&#39;s start time, and periodically the current time against this. E.g.\r\n\r\n    long startTime = System.currentTimeMillis();\r\n    // .. do stuff ..\r\n    long elapsed = System.currentTimeMillis()-startTime;\r\n    if (elapsed&gt;timeout)\r\n       throw new RuntimeException(&quot;tiomeout&quot;);\r\n\r\nIf the code itself cannot check for timeout, you can execute the code on another thread, and wait for completion, or timeout.\r\n\r\n        Callable&lt;ResultType&gt; run = new Callable&lt;ResultType&gt;()\r\n        {\r\n            @Override\r\n            public ResultType call() throws Exception\r\n            {\r\n                // your code to be timed\r\n            }\r\n        };\r\n\r\n        RunnableFuture&lt;ResultType&gt; future = new FutureTask&lt;&gt;(run);\r\n        ExecutorService service = Executors.newSingleThreadExecutor();\r\n        service.execute(future);\r\n        ResultType result = null;\r\n        try\r\n        {\r\n            result = future.get(1, TimeUnit.SECONDS);    // wait 1 second\r\n        }\r\n        catch (TimeoutException ex)\r\n        {\r\n            // timed out. Try to stop the code if possible.\r\n            future.cancel(true);\r\n        }\r\n        service.shutdown();\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java: set timeout on a certain block of code?","body":"<p>If it is test code you want to time, then you can use the <code>time</code> attribute:</p>\n<pre><code>@Test(timeout = 1000)  \npublic void shouldTakeASecondOrLess()\n{\n}\n</code></pre>\n<p>If it is production code, there is no simple mechanism, and which solution you use depends upon whether you can alter the code to be timed or not.</p>\n<p>If you can change the code being timed, then a simple approach is is to have your timed code remember it's start time, and periodically the current time against this. E.g.</p>\n<pre><code>long startTime = System.currentTimeMillis();\n// .. do stuff ..\nlong elapsed = System.currentTimeMillis()-startTime;\nif (elapsed&gt;timeout)\n   throw new RuntimeException(&quot;tiomeout&quot;);\n</code></pre>\n<p>If the code itself cannot check for timeout, you can execute the code on another thread, and wait for completion, or timeout.</p>\n<pre><code>    Callable&lt;ResultType&gt; run = new Callable&lt;ResultType&gt;()\n    {\n        @Override\n        public ResultType call() throws Exception\n        {\n            // your code to be timed\n        }\n    };\n\n    RunnableFuture&lt;ResultType&gt; future = new FutureTask&lt;&gt;(run);\n    ExecutorService service = Executors.newSingleThreadExecutor();\n    service.execute(future);\n    ResultType result = null;\n    try\n    {\n        result = future.get(1, TimeUnit.SECONDS);    // wait 1 second\n    }\n    catch (TimeoutException ex)\n    {\n        // timed out. Try to stop the code if possible.\n        future.cancel(true);\n    }\n    service.shutdown();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5104380,"reputation":892,"user_id":4092944,"accept_rate":100,"display_name":"MarkII"},"score":0,"creation_date":1484786254,"post_id":15120935,"comment_id":70658061,"body_markdown":"Just came across this.  What is the overhead for doing something along these lines?  I feel like if you do something in stuffToDo a lot, creating a new single thread executor every time is costly but I don&#39;t know hence my question.","body":"Just came across this.  What is the overhead for doing something along these lines?  I feel like if you do something in stuffToDo a lot, creating a new single thread executor every time is costly but I don&#39;t know hence my question."},{"owner":{"account_id":2424668,"reputation":561,"user_id":2116890,"display_name":"user2116890"},"score":0,"creation_date":1488573474,"post_id":15120935,"comment_id":72308166,"body_markdown":"I&#39;ve never encountered a performance problem with this approach. In some cases it may be preferable to create your own implementation of _Executor_, if you think you can make a more lightweight version by focusing specifically on the case of having just one thread.","body":"I&#39;ve never encountered a performance problem with this approach. In some cases it may be preferable to create your own implementation of <i>Executor</i>, if you think you can make a more lightweight version by focusing specifically on the case of having just one thread."},{"owner":{"account_id":2424668,"reputation":561,"user_id":2116890,"display_name":"user2116890"},"score":0,"creation_date":1488573950,"post_id":15120935,"comment_id":72308413,"body_markdown":"The performance of _ExecutorService_ was assessed favorably here (http://stackoverflow.com/a/27025552/2116890), where it was determined to be awesome. In that case they were dealing with more threads. In my experience, whether using a single thread or many, I&#39;ve never noticed the overhead, but I&#39;ve also made no effort to in any way measure its performance relative to an alternative.","body":"The performance of <i>ExecutorService</i> was assessed favorably here (<a href=\"http://stackoverflow.com/a/27025552/2116890\">stackoverflow.com/a/27025552/2116890</a>), where it was determined to be awesome. In that case they were dealing with more threads. In my experience, whether using a single thread or many, I&#39;ve never noticed the overhead, but I&#39;ve also made no effort to in any way measure its performance relative to an alternative."},{"owner":{"account_id":39816,"reputation":3747,"user_id":115030,"display_name":"Anders Kaseorg"},"score":1,"creation_date":1535501568,"post_id":15120935,"comment_id":91085708,"body_markdown":"After `executor.shutdownNow()`, you probably want to `while (true) {try {if (executor.awaitTermination(1, TimeUnit.SECONDS)) break;} catch (InterruptedException ie) {}}`, since actually stopping the task may take some time.","body":"After <code>executor.shutdownNow()</code>, you probably want to <code>while (true) {try {if (executor.awaitTermination(1, TimeUnit.SECONDS)) break;} catch (InterruptedException ie) {}}</code>, since actually stopping the task may take some time."},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1592314715,"post_id":15120935,"comment_id":110376869,"body_markdown":"Interesting thing to note here. Getting a timeout does not mean the underlying task has been stopped. The future is cancelled and the executorService is aknowledged of that but the thread may still be working on without caring about the termination which means that it might still wast resources you would have liked to be freed.","body":"Interesting thing to note here. Getting a timeout does not mean the underlying task has been stopped. The future is cancelled and the executorService is aknowledged of that but the thread may still be working on without caring about the termination which means that it might still wast resources you would have liked to be freed."},{"owner":{"account_id":125029,"reputation":330,"user_id":682256,"display_name":"Simon Logic"},"score":0,"creation_date":1700761643,"post_id":15120935,"comment_id":136696741,"body_markdown":"@Tarmo executor.shutdownNow() stops the thread finally. Also in example above you need to restore interrupted flag.","body":"@Tarmo executor.shutdownNow() stops the thread finally. Also in example above you need to restore interrupted flag."}],"tags":[],"owner":{"account_id":2424668,"reputation":561,"user_id":2116890,"display_name":"user2116890"},"comment_count":6,"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1418656541,"creation_date":1361994228,"answer_id":15120935,"question_id":5715235,"body_markdown":"Here&#39;s the simplest way that I know of to do this:\r\n\r\n    final Runnable stuffToDo = new Thread() {\r\n      @Override \r\n      public void run() { \r\n        /* Do stuff here. */ \r\n      }\r\n    };\r\n    \r\n    final ExecutorService executor = Executors.newSingleThreadExecutor();\r\n    final Future future = executor.submit(stuffToDo);\r\n    executor.shutdown(); // This does not cancel the already-scheduled task.\r\n    \r\n    try { \r\n      future.get(5, TimeUnit.MINUTES); \r\n    }\r\n    catch (InterruptedException ie) { \r\n      /* Handle the interruption. Or ignore it. */ \r\n    }\r\n    catch (ExecutionException ee) { \r\n      /* Handle the error. Or ignore it. */ \r\n    }\r\n    catch (TimeoutException te) { \r\n      /* Handle the timeout. Or ignore it. */ \r\n    }\r\n    if (!executor.isTerminated())\r\n        executor.shutdownNow(); // If you want to stop the code that hasn&#39;t finished.\r\n\r\nAlternatively, you can create a TimeLimitedCodeBlock class to wrap this functionality, and then you can use it wherever you need it as follows:\r\n\r\n    new TimeLimitedCodeBlock(5, TimeUnit.MINUTES) { @Override public void codeBlock() {\r\n        // Do stuff here.\r\n    }}.run();\r\n\r\n","title":"Java: set timeout on a certain block of code?","body":"<p>Here's the simplest way that I know of to do this:</p>\n\n<pre><code>final Runnable stuffToDo = new Thread() {\n  @Override \n  public void run() { \n    /* Do stuff here. */ \n  }\n};\n\nfinal ExecutorService executor = Executors.newSingleThreadExecutor();\nfinal Future future = executor.submit(stuffToDo);\nexecutor.shutdown(); // This does not cancel the already-scheduled task.\n\ntry { \n  future.get(5, TimeUnit.MINUTES); \n}\ncatch (InterruptedException ie) { \n  /* Handle the interruption. Or ignore it. */ \n}\ncatch (ExecutionException ee) { \n  /* Handle the error. Or ignore it. */ \n}\ncatch (TimeoutException te) { \n  /* Handle the timeout. Or ignore it. */ \n}\nif (!executor.isTerminated())\n    executor.shutdownNow(); // If you want to stop the code that hasn't finished.\n</code></pre>\n\n<p>Alternatively, you can create a TimeLimitedCodeBlock class to wrap this functionality, and then you can use it wherever you need it as follows:</p>\n\n<pre><code>new TimeLimitedCodeBlock(5, TimeUnit.MINUTES) { @Override public void codeBlock() {\n    // Do stuff here.\n}}.run();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1102290,"reputation":3877,"user_id":1094430,"accept_rate":62,"display_name":"StepTNT"},"score":0,"creation_date":1418813624,"post_id":19183452,"comment_id":43476523,"body_markdown":"Can you please add some sample on how to use it? Despite my settings it throws the exception as soon as I execute the `runWithTimeout` method, even if I set the timeout to 150 minutes.","body":"Can you please add some sample on how to use it? Despite my settings it throws the exception as soon as I execute the <code>runWithTimeout</code> method, even if I set the timeout to 150 minutes."},{"owner":{"account_id":28100,"reputation":8984,"user_id":74694,"accept_rate":86,"display_name":"Neeme Praks"},"score":2,"creation_date":1418887254,"post_id":19183452,"comment_id":43509678,"body_markdown":"I now added sample code and improved original code to cancel the already submitted task in case of timeout. I would appreciate an upvote ;-)","body":"I now added sample code and improved original code to cancel the already submitted task in case of timeout. I would appreciate an upvote ;-)"},{"owner":{"account_id":108468,"reputation":5405,"user_id":287893,"accept_rate":97,"display_name":"Carlos"},"score":0,"creation_date":1436527337,"post_id":19183452,"comment_id":50663024,"body_markdown":"@htf, this should really be the accepted answer.. \nNicely done","body":"@htf, this should really be the accepted answer..  Nicely done"},{"owner":{"account_id":438008,"reputation":449,"user_id":826008,"accept_rate":100,"display_name":"Ali Abazari"},"score":0,"creation_date":1465971221,"post_id":19183452,"comment_id":63117503,"body_markdown":"@NeemePraks thank you for your brief and useful answer, i think your code is safe enough to be used in a multi-client system, isn&#39;t it? i have a web service which is called by thousands of clients simultaneously.","body":"@NeemePraks thank you for your brief and useful answer, i think your code is safe enough to be used in a multi-client system, isn&#39;t it? i have a web service which is called by thousands of clients simultaneously."},{"owner":{"account_id":28100,"reputation":8984,"user_id":74694,"accept_rate":86,"display_name":"Neeme Praks"},"score":0,"creation_date":1465980853,"post_id":19183452,"comment_id":63123012,"body_markdown":"@AliReza19330, in general yes. However, you might want to use a different ExecutorService implementation. Otherwise all your clients will be sitting behind that single thread, waiting to be executed. See also https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html#newSingleThreadExecutor()","body":"@AliReza19330, in general yes. However, you might want to use a different ExecutorService implementation. Otherwise all your clients will be sitting behind that single thread, waiting to be executed. See also <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html#newSingleThreadExecutor()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/concurrent/&hellip;</a>"},{"owner":{"account_id":438008,"reputation":449,"user_id":826008,"accept_rate":100,"display_name":"Ali Abazari"},"score":0,"creation_date":1466162955,"post_id":19183452,"comment_id":63215759,"body_markdown":"@NeemePraks thank you, but every single user that calls the web service actually starts a new thread, then there is a ExecutorService thread per request, actually all users wont wait for a single thread. Am I right?","body":"@NeemePraks thank you, but every single user that calls the web service actually starts a new thread, then there is a ExecutorService thread per request, actually all users wont wait for a single thread. Am I right?"},{"owner":{"account_id":28100,"reputation":8984,"user_id":74694,"accept_rate":86,"display_name":"Neeme Praks"},"score":1,"creation_date":1466164296,"post_id":19183452,"comment_id":63216598,"body_markdown":"@AliReza19330, yes, my bad. You&#39;re right. Starting a new thread per user might not be the best idea, performance-wise, though. :-P","body":"@AliReza19330, yes, my bad. You&#39;re right. Starting a new thread per user might not be the best idea, performance-wise, though. :-P"},{"owner":{"account_id":70701,"reputation":3641,"user_id":204782,"accept_rate":57,"display_name":"Alb"},"score":1,"creation_date":1471603423,"post_id":19183452,"comment_id":65423551,"body_markdown":"@NeemePraks I think &quot; throw (Exception) e;&quot; should be &quot; throw (Exception) t;&quot; in the second runWithTimeout method","body":"@NeemePraks I think &quot; throw (Exception) e;&quot; should be &quot; throw (Exception) t;&quot; in the second runWithTimeout method"},{"owner":{"account_id":1788813,"reputation":13031,"user_id":3765109,"accept_rate":77,"display_name":"efkan"},"score":0,"creation_date":1516269316,"post_id":19183452,"comment_id":83622162,"body_markdown":"How to handle if the code block completed in 2 seconds? I mean it throws exception even if code block completed before timeout.","body":"How to handle if the code block completed in 2 seconds? I mean it throws exception even if code block completed before timeout."},{"owner":{"account_id":28100,"reputation":8984,"user_id":74694,"accept_rate":86,"display_name":"Neeme Praks"},"score":0,"creation_date":1516361263,"post_id":19183452,"comment_id":83665237,"body_markdown":"No, it does not. Why do you think it always throws the TimeoutException?","body":"No, it does not. Why do you think it always throws the TimeoutException?"}],"tags":[],"owner":{"account_id":28100,"reputation":8984,"user_id":74694,"accept_rate":86,"display_name":"Neeme Praks"},"comment_count":10,"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1471723425,"creation_date":1380895898,"answer_id":19183452,"question_id":5715235,"body_markdown":"I compiled some of the other answers into a single utility method:\r\n\r\n    public class TimeLimitedCodeBlock {\r\n    \r\n      public static void runWithTimeout(final Runnable runnable, long timeout, TimeUnit timeUnit) throws Exception {\r\n        runWithTimeout(new Callable&lt;Object&gt;() {\r\n          @Override\r\n          public Object call() throws Exception {\r\n            runnable.run();\r\n            return null;\r\n          }\r\n        }, timeout, timeUnit);\r\n      }\r\n    \r\n      public static &lt;T&gt; T runWithTimeout(Callable&lt;T&gt; callable, long timeout, TimeUnit timeUnit) throws Exception {\r\n        final ExecutorService executor = Executors.newSingleThreadExecutor();\r\n        final Future&lt;T&gt; future = executor.submit(callable);\r\n        executor.shutdown(); // This does not cancel the already-scheduled task.\r\n        try {\r\n          return future.get(timeout, timeUnit);\r\n        }\r\n        catch (TimeoutException e) {\r\n          //remove this if you do not want to cancel the job in progress\r\n          //or set the argument to &#39;false&#39; if you do not want to interrupt the thread\r\n          future.cancel(true);\r\n          throw e;\r\n        }\r\n        catch (ExecutionException e) {\r\n          //unwrap the root cause\r\n          Throwable t = e.getCause();\r\n          if (t instanceof Error) {\r\n            throw (Error) t;\r\n          } else if (t instanceof Exception) {\r\n            throw (Exception) t;\r\n          } else {\r\n            throw new IllegalStateException(t);\r\n          }\r\n        }\r\n      }\r\n    \r\n    }\r\n\r\nSample code making use of this utility method:\r\n\r\n      public static void main(String[] args) throws Exception {\r\n        final long startTime = System.currentTimeMillis();\r\n        log(startTime, &quot;calling runWithTimeout!&quot;);\r\n        try {\r\n          TimeLimitedCodeBlock.runWithTimeout(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n              try {\r\n                log(startTime, &quot;starting sleep!&quot;);\r\n                Thread.sleep(10000);\r\n                log(startTime, &quot;woke up!&quot;);\r\n              }\r\n              catch (InterruptedException e) {\r\n                log(startTime, &quot;was interrupted!&quot;);\r\n              }\r\n            }\r\n          }, 5, TimeUnit.SECONDS);\r\n        }\r\n        catch (TimeoutException e) {\r\n          log(startTime, &quot;got timeout!&quot;);\r\n        }\r\n        log(startTime, &quot;end of main method!&quot;);\r\n      }\r\n    \r\n      private static void log(long startTime, String msg) {\r\n        long elapsedSeconds = (System.currentTimeMillis() - startTime);\r\n        System.out.format(&quot;%1$5sms [%2$16s] %3$s\\n&quot;, elapsedSeconds, Thread.currentThread().getName(), msg);\r\n      }\r\n\r\n\r\nOutput from running the sample code on my machine:\r\n\r\n        0ms [            main] calling runWithTimeout!\r\n       13ms [ pool-1-thread-1] starting sleep!\r\n     5015ms [            main] got timeout!\r\n     5016ms [            main] end of main method!\r\n     5015ms [ pool-1-thread-1] was interrupted!\r\n\r\n","title":"Java: set timeout on a certain block of code?","body":"<p>I compiled some of the other answers into a single utility method:</p>\n\n<pre><code>public class TimeLimitedCodeBlock {\n\n  public static void runWithTimeout(final Runnable runnable, long timeout, TimeUnit timeUnit) throws Exception {\n    runWithTimeout(new Callable&lt;Object&gt;() {\n      @Override\n      public Object call() throws Exception {\n        runnable.run();\n        return null;\n      }\n    }, timeout, timeUnit);\n  }\n\n  public static &lt;T&gt; T runWithTimeout(Callable&lt;T&gt; callable, long timeout, TimeUnit timeUnit) throws Exception {\n    final ExecutorService executor = Executors.newSingleThreadExecutor();\n    final Future&lt;T&gt; future = executor.submit(callable);\n    executor.shutdown(); // This does not cancel the already-scheduled task.\n    try {\n      return future.get(timeout, timeUnit);\n    }\n    catch (TimeoutException e) {\n      //remove this if you do not want to cancel the job in progress\n      //or set the argument to 'false' if you do not want to interrupt the thread\n      future.cancel(true);\n      throw e;\n    }\n    catch (ExecutionException e) {\n      //unwrap the root cause\n      Throwable t = e.getCause();\n      if (t instanceof Error) {\n        throw (Error) t;\n      } else if (t instanceof Exception) {\n        throw (Exception) t;\n      } else {\n        throw new IllegalStateException(t);\n      }\n    }\n  }\n\n}\n</code></pre>\n\n<p>Sample code making use of this utility method:</p>\n\n<pre><code>  public static void main(String[] args) throws Exception {\n    final long startTime = System.currentTimeMillis();\n    log(startTime, \"calling runWithTimeout!\");\n    try {\n      TimeLimitedCodeBlock.runWithTimeout(new Runnable() {\n        @Override\n        public void run() {\n          try {\n            log(startTime, \"starting sleep!\");\n            Thread.sleep(10000);\n            log(startTime, \"woke up!\");\n          }\n          catch (InterruptedException e) {\n            log(startTime, \"was interrupted!\");\n          }\n        }\n      }, 5, TimeUnit.SECONDS);\n    }\n    catch (TimeoutException e) {\n      log(startTime, \"got timeout!\");\n    }\n    log(startTime, \"end of main method!\");\n  }\n\n  private static void log(long startTime, String msg) {\n    long elapsedSeconds = (System.currentTimeMillis() - startTime);\n    System.out.format(\"%1$5sms [%2$16s] %3$s\\n\", elapsedSeconds, Thread.currentThread().getName(), msg);\n  }\n</code></pre>\n\n<p>Output from running the sample code on my machine:</p>\n\n<pre><code>    0ms [            main] calling runWithTimeout!\n   13ms [ pool-1-thread-1] starting sleep!\n 5015ms [            main] got timeout!\n 5016ms [            main] end of main method!\n 5015ms [ pool-1-thread-1] was interrupted!\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10473754,"reputation":314,"user_id":7720909,"display_name":"Johannes"},"score":1,"creation_date":1500283042,"post_id":34018359,"comment_id":77249373,"body_markdown":"Your variable `TimeOut timeOut` in the `main()` method is never used.","body":"Your variable <code>TimeOut timeOut</code> in the <code>main()</code> method is never used."},{"owner":{"account_id":7301202,"reputation":306,"user_id":5563885,"display_name":"Arjun Varshney"},"score":2,"creation_date":1507250209,"post_id":34018359,"comment_id":80146006,"body_markdown":"In main method it should be `Thread timeOutThread = new Thread(timeOut);` then @Johannes timeOut would be used.","body":"In main method it should be <code>Thread timeOutThread = new Thread(timeOut);</code> then @Johannes timeOut would be used."},{"owner":{"account_id":230261,"reputation":791,"user_id":493759,"display_name":"Agoston Horvath"},"score":0,"creation_date":1601972620,"post_id":34018359,"comment_id":113564935,"body_markdown":"note, this is the only solution that scales. you really only need a single timer thread, and that could interrupt thousands of worker threads. the other way around, you got a thousands of timer threads for thousands of worker threads - not ideal to say the least.","body":"note, this is the only solution that scales. you really only need a single timer thread, and that could interrupt thousands of worker threads. the other way around, you got a thousands of timer threads for thousands of worker threads - not ideal to say the least."}],"tags":[],"owner":{"account_id":7392032,"reputation":31,"user_id":5625149,"display_name":"Reuben Varma"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555914736,"creation_date":1448966466,"answer_id":34018359,"question_id":5715235,"body_markdown":"Instead of having the task in the new thread and the timer in the main thread, have the timer in the new thread and the task in the main thread:\r\n    \r\n\r\n    public static class TimeOut implements Runnable{\r\n        public void run() {\r\n            Thread.sleep(10000);\r\n            if(taskComplete ==false) {\r\n                System.out.println(&quot;Timed Out&quot;);\r\n                return;\r\n            }\r\n            else {\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    public static boolean taskComplete = false;\r\n    public static void main(String[] args) {\r\n        TimeOut timeOut = new TimeOut();\r\n        Thread timeOutThread = new Thread(timeOut);\r\n        timeOutThread.start();\r\n        //task starts here\r\n        //task completed\r\n        taskComplete =true;\r\n        while(true) {//do all other stuff }\r\n    }","title":"Java: set timeout on a certain block of code?","body":"<p>Instead of having the task in the new thread and the timer in the main thread, have the timer in the new thread and the task in the main thread:</p>\n\n<pre><code>public static class TimeOut implements Runnable{\n    public void run() {\n        Thread.sleep(10000);\n        if(taskComplete ==false) {\n            System.out.println(\"Timed Out\");\n            return;\n        }\n        else {\n            return;\n        }\n    }\n}\npublic static boolean taskComplete = false;\npublic static void main(String[] args) {\n    TimeOut timeOut = new TimeOut();\n    Thread timeOutThread = new Thread(timeOut);\n    timeOutThread.start();\n    //task starts here\n    //task completed\n    taskComplete =true;\n    while(true) {//do all other stuff }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5510900,"reputation":99,"user_id":4377200,"display_name":"Niroshan Abeywickrama"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501739625,"creation_date":1501738431,"answer_id":45475634,"question_id":5715235,"body_markdown":"I created a very simple solution without using any frameworks or APIs. This looks more elegant and understandable. The class is called TimeoutBlock.\r\n\r\n    public class TimeoutBlock {\r\n    \r\n   \t private final long timeoutMilliSeconds;\r\n\t\tprivate long timeoutInteval=100;\r\n\t\t\r\n\t\tpublic TimeoutBlock(long timeoutMilliSeconds){\r\n\t\t\tthis.timeoutMilliSeconds=timeoutMilliSeconds;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void addBlock(Runnable runnable) throws Throwable{\r\n\t\t\tlong collectIntervals=0;\r\n\t\t\tThread timeoutWorker=new Thread(runnable);\r\n\t\t\ttimeoutWorker.start();\r\n\t\t\tdo{ \r\n\t\t\t\tif(collectIntervals&gt;=this.timeoutMilliSeconds){\r\n\t\t\t\t\ttimeoutWorker.stop();\r\n\t\t\t\t\tthrow new Exception(&quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;****&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Timeout Block Execution Time Exceeded In &quot;+timeoutMilliSeconds+&quot; Milli Seconds. Thread Block Terminated.&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tcollectIntervals+=timeoutInteval;           \r\n\t\t\t\tThread.sleep(timeoutInteval);\r\n\t\t\t\t\r\n\t\t\t}while(timeoutWorker.isAlive());\r\n\t\t\tSystem.out.println(&quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;####&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Timeout Block Executed Within &quot;+collectIntervals+&quot; Milli Seconds.&quot;);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * @return the timeoutInteval\r\n\t\t */\r\n\t\tpublic long getTimeoutInteval() {\r\n\t\t\treturn timeoutInteval;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * @param timeoutInteval the timeoutInteval to set\r\n\t\t */\r\n\t\tpublic void setTimeoutInteval(long timeoutInteval) {\r\n\t\t\tthis.timeoutInteval = timeoutInteval;\r\n\t\t}\r\n\t}\r\n\r\n    \r\n\r\nexample :\r\n\r\n    try {\r\n            TimeoutBlock timeoutBlock = new TimeoutBlock(10 * 60 * 1000);//set timeout in milliseconds\r\n            Runnable block=new Runnable() {\r\n\r\n                @Override\r\n                public void run() {\r\n                    //TO DO write block of code to execute\r\n                }\r\n            };\r\n            \r\n            timeoutBlock.addBlock(block);// execute the runnable block \r\n            \r\n        } catch (Throwable e) {\r\n            //catch the exception here . Which is block didn&#39;t execute within the time limit\r\n        }\r\n\r\nThis was so much useful for me when i had to connect to a FTP account. Then download and upload stuff. sometimes FTP connection hangs or totally breaks. This caused whole system to go down. and i needed a way to detect it and prevent it from happening . So i created this and used it. Works pretty well.","title":"Java: set timeout on a certain block of code?","body":"<p>I created a very simple solution without using any frameworks or APIs. This looks more elegant and understandable. The class is called TimeoutBlock.</p>\n\n<pre><code>public class TimeoutBlock {\n\n private final long timeoutMilliSeconds;\n    private long timeoutInteval=100;\n\n    public TimeoutBlock(long timeoutMilliSeconds){\n        this.timeoutMilliSeconds=timeoutMilliSeconds;\n    }\n\n    public void addBlock(Runnable runnable) throws Throwable{\n        long collectIntervals=0;\n        Thread timeoutWorker=new Thread(runnable);\n        timeoutWorker.start();\n        do{ \n            if(collectIntervals&gt;=this.timeoutMilliSeconds){\n                timeoutWorker.stop();\n                throw new Exception(\"&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;****&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Timeout Block Execution Time Exceeded In \"+timeoutMilliSeconds+\" Milli Seconds. Thread Block Terminated.\");\n            }\n            collectIntervals+=timeoutInteval;           \n            Thread.sleep(timeoutInteval);\n\n        }while(timeoutWorker.isAlive());\n        System.out.println(\"&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;####&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Timeout Block Executed Within \"+collectIntervals+\" Milli Seconds.\");\n    }\n\n    /**\n     * @return the timeoutInteval\n     */\n    public long getTimeoutInteval() {\n        return timeoutInteval;\n    }\n\n    /**\n     * @param timeoutInteval the timeoutInteval to set\n     */\n    public void setTimeoutInteval(long timeoutInteval) {\n        this.timeoutInteval = timeoutInteval;\n    }\n}\n</code></pre>\n\n<p>example :</p>\n\n<pre><code>try {\n        TimeoutBlock timeoutBlock = new TimeoutBlock(10 * 60 * 1000);//set timeout in milliseconds\n        Runnable block=new Runnable() {\n\n            @Override\n            public void run() {\n                //TO DO write block of code to execute\n            }\n        };\n\n        timeoutBlock.addBlock(block);// execute the runnable block \n\n    } catch (Throwable e) {\n        //catch the exception here . Which is block didn't execute within the time limit\n    }\n</code></pre>\n\n<p>This was so much useful for me when i had to connect to a FTP account. Then download and upload stuff. sometimes FTP connection hangs or totally breaks. This caused whole system to go down. and i needed a way to detect it and prevent it from happening . So i created this and used it. Works pretty well.</p>\n"},{"tags":[],"owner":{"account_id":1890456,"reputation":2995,"user_id":1708697,"display_name":"Tom Chamberlain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541777063,"creation_date":1541776561,"answer_id":53228433,"question_id":5715235,"body_markdown":"If you want a CompletableFuture way you could have a method like\r\n\r\n    public MyResponseObject retrieveDataFromEndpoint() {\r\n\r\n       CompletableFuture&lt;MyResponseObject&gt; endpointCall \r\n           = CompletableFuture.supplyAsync(() -&gt;\r\n                 yourRestService.callEnpoint(withArg1, withArg2));\r\n    \r\n       try {\r\n           return endpointCall.get(10, TimeUnit.MINUTES);\r\n       } catch (TimeoutException \r\n                   | InterruptedException \r\n                   | ExecutionException e) {\r\n           throw new RuntimeException(&quot;Unable to fetch data&quot;, e);\r\n       }\r\n    }\r\n    \r\n\r\nIf you&#39;re using spring, you could annotate the method with a `@Retryable` so that it retries the method three times if an exception is thrown.\r\n        ","title":"Java: set timeout on a certain block of code?","body":"<p>If you want a CompletableFuture way you could have a method like</p>\n\n<pre><code>public MyResponseObject retrieveDataFromEndpoint() {\n\n   CompletableFuture&lt;MyResponseObject&gt; endpointCall \n       = CompletableFuture.supplyAsync(() -&gt;\n             yourRestService.callEnpoint(withArg1, withArg2));\n\n   try {\n       return endpointCall.get(10, TimeUnit.MINUTES);\n   } catch (TimeoutException \n               | InterruptedException \n               | ExecutionException e) {\n       throw new RuntimeException(\"Unable to fetch data\", e);\n   }\n}\n</code></pre>\n\n<p>If you're using spring, you could annotate the method with a <code>@Retryable</code> so that it retries the method three times if an exception is thrown.</p>\n"},{"tags":[],"owner":{"account_id":3811993,"reputation":326,"user_id":3162534,"accept_rate":0,"display_name":"prakhar3agrwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1558259759,"creation_date":1558259759,"answer_id":56206679,"question_id":5715235,"body_markdown":"I faced a similar kind of issue where my task was to push a message to SQS within a particular timeout. I used the trivial logic of executing it via another thread and waiting on its future object by specifying the timeout. This would give me a TIMEOUT exception in case of timeouts. \r\n\r\n    final Future&lt;ISendMessageResult&gt; future = \r\n    timeoutHelperThreadPool.getExecutor().submit(() -&gt; {\r\n      return getQueueStore().sendMessage(request).get();\r\n    });\r\n    try {\r\n      sendMessageResult = future.get(200, TimeUnit.MILLISECONDS);\r\n      logger.info(&quot;SQS_PUSH_SUCCESSFUL&quot;);\r\n      return true;\r\n\r\n    } catch (final TimeoutException e) {\r\n      logger.error(&quot;SQS_PUSH_TIMEOUT_EXCEPTION&quot;);\r\n    }\r\n\r\n\r\n\r\nBut there are cases where you can&#39;t stop the code being executed by another thread and you get true negatives in that case. \r\n\r\nFor example - In my case, my request reached SQS and while the message was being pushed, my code logic encountered the specified timeout. Now in reality my message was pushed into the Queue but my main thread assumed it to be failed because of the TIMEOUT exception.\r\nThis is a type of problem which can be avoided rather than being solved. Like in my case I avoided it by providing a timeout which would suffice in nearly all of the cases. \r\n\r\nIf the code you want to interrupt is within you application and is not something like an API call then you can simply use \r\n\r\n\r\n    future.cancel(true)\r\n\r\n\r\nHowever do remember that java docs says that it does guarantee that the execution will be blocked.\r\n\r\n***&quot;Attempts to cancel execution of this task. This attempt will fail if the task has already completed, has already been cancelled,or could not be cancelled for some other reason. If successful,and this task has not started when cancel is called,this task should never run. If the task has already started,then the mayInterruptIfRunning parameter determines whether the thread executing this task should be interrupted inan attempt to stop the task.&quot;***","title":"Java: set timeout on a certain block of code?","body":"<p>I faced a similar kind of issue where my task was to push a message to SQS within a particular timeout. I used the trivial logic of executing it via another thread and waiting on its future object by specifying the timeout. This would give me a TIMEOUT exception in case of timeouts. </p>\n\n<pre><code>final Future&lt;ISendMessageResult&gt; future = \ntimeoutHelperThreadPool.getExecutor().submit(() -&gt; {\n  return getQueueStore().sendMessage(request).get();\n});\ntry {\n  sendMessageResult = future.get(200, TimeUnit.MILLISECONDS);\n  logger.info(\"SQS_PUSH_SUCCESSFUL\");\n  return true;\n\n} catch (final TimeoutException e) {\n  logger.error(\"SQS_PUSH_TIMEOUT_EXCEPTION\");\n}\n</code></pre>\n\n<p>But there are cases where you can't stop the code being executed by another thread and you get true negatives in that case. </p>\n\n<p>For example - In my case, my request reached SQS and while the message was being pushed, my code logic encountered the specified timeout. Now in reality my message was pushed into the Queue but my main thread assumed it to be failed because of the TIMEOUT exception.\nThis is a type of problem which can be avoided rather than being solved. Like in my case I avoided it by providing a timeout which would suffice in nearly all of the cases. </p>\n\n<p>If the code you want to interrupt is within you application and is not something like an API call then you can simply use </p>\n\n<pre><code>future.cancel(true)\n</code></pre>\n\n<p>However do remember that java docs says that it does guarantee that the execution will be blocked.</p>\n\n<p><strong><em>\"Attempts to cancel execution of this task. This attempt will fail if the task has already completed, has already been cancelled,or could not be cancelled for some other reason. If successful,and this task has not started when cancel is called,this task should never run. If the task has already started,then the mayInterruptIfRunning parameter determines whether the thread executing this task should be interrupted inan attempt to stop the task.\"</em></strong></p>\n"},{"tags":[],"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643298441,"creation_date":1643297408,"answer_id":70881251,"question_id":5715235,"body_markdown":"There&#39;s a very simple option that nobody&#39;s mentioned yet:\r\n\r\n```java\r\nDuration timeout = Duration.ofMinutes(5);\r\nThread thread = new Thread(() -&gt; {\r\n    // your code here\r\n});\r\nthread.start();\r\nthread.join(timeout.toMillis());\r\nif (thread.isAlive()) {\r\n    thread.interrupt();\r\n    throw new MyTimeoutException();\r\n}\r\n```\r\n\r\nIf the thread running your code block fails to complete within the timeout, it is interrupted and whatever exception you want can be thrown.\r\n\r\nIt is possible to write code that will simply ignore the interruption and carry on. If you&#39;re dealing with this can cannot fix it then there is `thread.stop()`, but that can break any synchronisation mechanisms that you are relying on. See its [deprecation notice][1].\r\n\r\nYou can also capture exceptions from the thread:\r\n\r\n```java\r\nAtomicReference&lt;Throwable&gt; uncaughtException = new AtomicReference&lt;&gt;();\r\nthread.setUncaughtExceptionHandler((t, ex) -&gt; uncaughtException.setRelease(ex));\r\n\r\n// ...\r\n\r\nThrowable ex = uncaughtException.getAcquire();\r\nif (ex != null) {\r\n    throw ex;\r\n}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html#stop()","title":"Java: set timeout on a certain block of code?","body":"<p>There's a very simple option that nobody's mentioned yet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Duration timeout = Duration.ofMinutes(5);\nThread thread = new Thread(() -&gt; {\n    // your code here\n});\nthread.start();\nthread.join(timeout.toMillis());\nif (thread.isAlive()) {\n    thread.interrupt();\n    throw new MyTimeoutException();\n}\n</code></pre>\n<p>If the thread running your code block fails to complete within the timeout, it is interrupted and whatever exception you want can be thrown.</p>\n<p>It is possible to write code that will simply ignore the interruption and carry on. If you're dealing with this can cannot fix it then there is <code>thread.stop()</code>, but that can break any synchronisation mechanisms that you are relying on. See its <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html#stop()\" rel=\"nofollow noreferrer\">deprecation notice</a>.</p>\n<p>You can also capture exceptions from the thread:</p>\n<pre class=\"lang-java prettyprint-override\"><code>AtomicReference&lt;Throwable&gt; uncaughtException = new AtomicReference&lt;&gt;();\nthread.setUncaughtExceptionHandler((t, ex) -&gt; uncaughtException.setRelease(ex));\n\n// ...\n\nThrowable ex = uncaughtException.getAcquire();\nif (ex != null) {\n    throw ex;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10358025,"reputation":2474,"user_id":7639296,"accept_rate":75,"display_name":"Dr Mido"},"score":1,"creation_date":1665085359,"post_id":73931713,"comment_id":130623220,"body_markdown":"This does not really answer the question. If you have a different question, you can ask it by clicking [Ask Question](https://stackoverflow.com/questions/ask). To get notified when this question gets new answers, you can [follow this question](https://meta.stackexchange.com/q/345661). Once you have enough [reputation](https://stackoverflow.com/help/whats-reputation), you can also [add a bounty](https://stackoverflow.com/help/privileges/set-bounties) to draw more attention to this question. - [From Review](/review/late-answers/32855425)","body":"This does not really answer the question. If you have a different question, you can ask it by clicking <a href=\"https://stackoverflow.com/questions/ask\">Ask Question</a>. To get notified when this question gets new answers, you can <a href=\"https://meta.stackexchange.com/q/345661\">follow this question</a>. Once you have enough <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a>, you can also <a href=\"https://stackoverflow.com/help/privileges/set-bounties\">add a bounty</a> to draw more attention to this question. - <a href=\"/review/late-answers/32855425\">From Review</a>"}],"tags":[],"owner":{"account_id":26215470,"reputation":1,"user_id":19893655,"display_name":"jack"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664777825,"creation_date":1664777825,"answer_id":73931713,"question_id":5715235,"body_markdown":"I had this problem too, my logs print out with ‘’Unexpected end of stream‘’.and ‘’Could not get a resource from the pool‘’，\r\nI set the timeout of brpop to 30s, redis to 31s, and mysql database connection pool to 300s. For now, this error is not printed on the log, but I don&#39;t know if this error will be reported in the future.I don&#39;t know if it has a bad effect on my writing to the database","title":"Java: set timeout on a certain block of code?","body":"<p>I had this problem too, my logs print out with ‘’Unexpected end of stream‘’.and ‘’Could not get a resource from the pool‘’，\nI set the timeout of brpop to 30s, redis to 31s, and mysql database connection pool to 300s. For now, this error is not printed on the log, but I don't know if this error will be reported in the future.I don't know if it has a bad effect on my writing to the database</p>\n"}],"owner":{"account_id":136737,"reputation":1513,"user_id":340447,"accept_rate":79,"display_name":"htf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160767,"favorite_count":0,"down_vote_count":0,"up_vote_count":82,"accepted_answer_id":5715259,"answer_count":13,"score":82,"last_activity_date":1664777825,"creation_date":1303210322,"question_id":5715235,"body_markdown":"Is it possible to force Java to throw an Exception after some block of code runs longer than acceptable?","title":"Java: set timeout on a certain block of code?","body":"<p>Is it possible to force Java to throw an Exception after some block of code runs longer than acceptable?</p>\n"},{"tags":["java","class","design-patterns"],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664722642,"creation_date":1664722173,"answer_id":73926767,"question_id":73926697,"body_markdown":"It might be better to have the `addBook` method as part of the library class. \r\nThen you can use a library instance to do something as simple as\r\n```\r\n public boolean addBook(Book b) {\r\n    books.add(b);\r\n }\r\n```\r\nIn this case, the `librarian` would be the user of the program.\r\nBut you will probably need a way to get the book from the list.  And you may want to search for various fields (key word, title, etc) which would be more detailed and return one or more matching books.  You don&#39;t need to return a boolean unless you want to determine if the book has already been added (false) or is a new entry (true).","title":"How to set field value of class A using an object of class B? What type of relationship should be between the classes to do so?","body":"<p>It might be better to have the <code>addBook</code> method as part of the library class.\nThen you can use a library instance to do something as simple as</p>\n<pre><code> public boolean addBook(Book b) {\n    books.add(b);\n }\n</code></pre>\n<p>In this case, the <code>librarian</code> would be the user of the program.\nBut you will probably need a way to get the book from the list.  And you may want to search for various fields (key word, title, etc) which would be more detailed and return one or more matching books.  You don't need to return a boolean unless you want to determine if the book has already been added (false) or is a new entry (true).</p>\n"},{"tags":[],"owner":{"account_id":5298708,"reputation":55,"user_id":4229099,"display_name":"Marius"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664728745,"creation_date":1664728745,"answer_id":73927578,"question_id":73926697,"body_markdown":"can a librarian be a librarian for more libraries?\r\nIf only to one, then I would give the Librarian class a Library object and initialise it in the constructor\r\n```\r\npublic class Librarian\r\n{\r\n private int id;\r\n private final Library library;\r\n public boolean addBook(Book b);\r\n\r\n public Librarian(final Library library) {\r\n  this.library = library;\r\n }\r\n}\r\n```\r\n\r\nadd getters.\r\n\r\nthen you can add a book like this\r\n\r\n```\r\nlibrarian.getLibrary().addBook(book);\r\n```","title":"How to set field value of class A using an object of class B? What type of relationship should be between the classes to do so?","body":"<p>can a librarian be a librarian for more libraries?\nIf only to one, then I would give the Librarian class a Library object and initialise it in the constructor</p>\n<pre><code>public class Librarian\n{\n private int id;\n private final Library library;\n public boolean addBook(Book b);\n\n public Librarian(final Library library) {\n  this.library = library;\n }\n}\n</code></pre>\n<p>add getters.</p>\n<p>then you can add a book like this</p>\n<pre><code>librarian.getLibrary().addBook(book);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664777430,"creation_date":1664777430,"answer_id":73931671,"question_id":73926697,"body_markdown":"As librarian add book into library and library has all books, so it looks better to place implementation of method `addBook` in library class. \r\n\r\nSo code would like this:\r\n\r\n    public class Library\r\n    {\r\n        private Librarian librarian;\r\n        private List&lt;Book&gt; books;\r\n    \r\n        public bool AddBook(Book book)\r\n        {\r\n            books.Add(book);\r\n            return true;\r\n        }\r\n    }\r\n\r\nAnd `Libranian` can add a book into library like this:\r\n\r\n    public class Librarian\r\n    {\r\n        private int id;\r\n        private Library library;\r\n    \r\n        public Librarian(Library library)\r\n        {\r\n            this.library = library;\r\n        }\r\n    \r\n    \r\n        public bool AddBook(Book b)\r\n        {\r\n            return library.AddBook(b);\r\n        }\r\n    }\r\n\r\n","title":"How to set field value of class A using an object of class B? What type of relationship should be between the classes to do so?","body":"<p>As librarian add book into library and library has all books, so it looks better to place implementation of method <code>addBook</code> in library class.</p>\n<p>So code would like this:</p>\n<pre><code>public class Library\n{\n    private Librarian librarian;\n    private List&lt;Book&gt; books;\n\n    public bool AddBook(Book book)\n    {\n        books.Add(book);\n        return true;\n    }\n}\n</code></pre>\n<p>And <code>Libranian</code> can add a book into library like this:</p>\n<pre><code>public class Librarian\n{\n    private int id;\n    private Library library;\n\n    public Librarian(Library library)\n    {\n        this.library = library;\n    }\n\n\n    public bool AddBook(Book b)\n    {\n        return library.AddBook(b);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26507747,"reputation":1,"user_id":20143625,"display_name":"Shivendra Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1664777430,"creation_date":1664721545,"question_id":73926697,"body_markdown":"I have a Library class which has a librarian and list of book and Librarian class which has an id and addBook method.\r\nThe librarian class can add books in the library.\r\nWhat will be the correct way to do this? \r\n     \r\n    public class Library \r\n    {\r\n     private Librarian librarian;\r\n     private List&lt;Book&gt; books;\r\n    }\r\n\r\n    public class Librarian\r\n    {\r\n     private int id;\r\n     public boolean addBook(Book b);\r\n    }\r\n    ","title":"How to set field value of class A using an object of class B? What type of relationship should be between the classes to do so?","body":"<p>I have a Library class which has a librarian and list of book and Librarian class which has an id and addBook method.\nThe librarian class can add books in the library.\nWhat will be the correct way to do this?</p>\n<pre><code>public class Library \n{\n private Librarian librarian;\n private List&lt;Book&gt; books;\n}\n\npublic class Librarian\n{\n private int id;\n public boolean addBook(Book b);\n}\n</code></pre>\n"},{"tags":["java","string","file"],"comments":[{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1664775007,"post_id":73931335,"comment_id":130540427,"body_markdown":"The tips in [this article](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/) might be helpful. At the very least, they will help you debug your code and understand where the problem is. From there, you can start thinking about a possible solution.","body":"The tips in <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">this article</a> might be helpful. At the very least, they will help you debug your code and understand where the problem is. From there, you can start thinking about a possible solution."},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1664775095,"post_id":73931335,"comment_id":130540446,"body_markdown":"You should also look at the `String.split()` method. This might be an easier way to process each line rather than using a second `Scanner`.","body":"You should also look at the <code>String.split()</code> method. This might be an easier way to process each line rather than using a second <code>Scanner</code>."}],"answers":[{"tags":[],"owner":{"account_id":17503,"reputation":18878,"user_id":39242,"accept_rate":71,"display_name":"Joshua Fox"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664774755,"creation_date":1664774755,"answer_id":73931393,"question_id":73931335,"body_markdown":" The same string is checked for &quot;LKH&quot; and is expected to be numeric.\r\n\r\n    if (&quot;LKH&quot;.equals(s)){\r\n       if (isNumeric(s)){\r\n           System.out.println(s);\r\n       }\r\n    }\r\n\r\nAfter checking for &quot;LKH&quot;, do another `s2.next()` to get the next string, which should be the number you want.","title":"Return string next to another inside a .txt file (JAVA)","body":"<p>The same string is checked for &quot;LKH&quot; and is expected to be numeric.</p>\n<pre><code>if (&quot;LKH&quot;.equals(s)){\n   if (isNumeric(s)){\n       System.out.println(s);\n   }\n}\n</code></pre>\n<p>After checking for &quot;LKH&quot;, do another <code>s2.next()</code> to get the next string, which should be the number you want.</p>\n"}],"owner":{"account_id":24996405,"reputation":71,"user_id":18857132,"display_name":"JeremyK12"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73931393,"answer_count":1,"score":0,"last_activity_date":1664774755,"creation_date":1664774188,"question_id":73931335,"body_markdown":"I have a .txt file that reads for example:\r\n\r\n    AAA 1234\r\n    ZZZ 4561\r\n    LKH 9000\r\nThe idea is to create a function that receives a strinf and compares it to the first three characters, in this case, AAA, ZZZ or LKH, and if it is equal, it returns the numeric value, but my comparison isn&#39;t working as intended, because the comparison doesn&#39;t seem to be working as expected.\r\nHere&#39;s my code so far:\r\n\r\n    public static boolean isNumeric(String str) {\r\n            try {\r\n                Double.parseDouble(str);\r\n                return true;\r\n            } catch(NumberFormatException e){\r\n                return false;\r\n            }\r\n        }\r\n\r\n    public static PrintStream returnIntNext(){\r\n    Scanner sc2 = null;\r\n        try {\r\n            sc2 = new Scanner(new File(&quot;sample.txt&quot;));\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n        while (sc2.hasNextLine()) {\r\n            Scanner s2 = new Scanner(sc2.nextLine());\r\n            while (s2.hasNext()) {\r\n                String s = s2.next();\r\n                if (&quot;LKH&quot;.equals(s)){\r\n                    if (isNumeric(s)){\r\n                        System.out.println(s);}}\r\n                else{System.out.println(&quot;if line not working&quot;);}\r\n            }}\r\n        return null;\r\n    }\r\nAny clues on what I&#39;m doing wrong?","title":"Return string next to another inside a .txt file (JAVA)","body":"<p>I have a .txt file that reads for example:</p>\n<pre><code>AAA 1234\nZZZ 4561\nLKH 9000\n</code></pre>\n<p>The idea is to create a function that receives a strinf and compares it to the first three characters, in this case, AAA, ZZZ or LKH, and if it is equal, it returns the numeric value, but my comparison isn't working as intended, because the comparison doesn't seem to be working as expected.\nHere's my code so far:</p>\n<pre><code>public static boolean isNumeric(String str) {\n        try {\n            Double.parseDouble(str);\n            return true;\n        } catch(NumberFormatException e){\n            return false;\n        }\n    }\n\npublic static PrintStream returnIntNext(){\nScanner sc2 = null;\n    try {\n        sc2 = new Scanner(new File(&quot;sample.txt&quot;));\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }\n    while (sc2.hasNextLine()) {\n        Scanner s2 = new Scanner(sc2.nextLine());\n        while (s2.hasNext()) {\n            String s = s2.next();\n            if (&quot;LKH&quot;.equals(s)){\n                if (isNumeric(s)){\n                    System.out.println(s);}}\n            else{System.out.println(&quot;if line not working&quot;);}\n        }}\n    return null;\n}\n</code></pre>\n<p>Any clues on what I'm doing wrong?</p>\n"},{"tags":["java","arrays","random"],"comments":[{"owner":{"account_id":2988754,"reputation":5716,"user_id":2536842,"accept_rate":64,"display_name":"Dylan Meeus"},"score":0,"creation_date":1387058453,"post_id":20588736,"comment_id":30802156,"body_markdown":"Show uw what you have tried :)","body":"Show uw what you have tried :)"},{"owner":{"account_id":1104392,"reputation":8418,"user_id":1096117,"accept_rate":75,"display_name":"Juli&#225;n Urbano"},"score":2,"creation_date":1387058774,"post_id":20588736,"comment_id":30802236,"body_markdown":"possible duplicate of [How to shuffle characters in a string](http://stackoverflow.com/questions/3316674/how-to-shuffle-characters-in-a-string)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/3316674/how-to-shuffle-characters-in-a-string\">How to shuffle characters in a string</a>"},{"owner":{"account_id":3594511,"reputation":61,"user_id":2999672,"accept_rate":86,"display_name":"morgothraud"},"score":0,"creation_date":1387058834,"post_id":20588736,"comment_id":30802256,"body_markdown":"I&#39;ve already visited that page it uses list and I cannot use it.","body":"I&#39;ve already visited that page it uses list and I cannot use it."},{"owner":{"account_id":1104392,"reputation":8418,"user_id":1096117,"accept_rate":75,"display_name":"Juli&#225;n Urbano"},"score":1,"creation_date":1387058873,"post_id":20588736,"comment_id":30802270,"body_markdown":"@user2999672 then add that requirement in your question. Plus, there are some answers there that *don&#39;t* use lists","body":"@user2999672 then add that requirement in your question. Plus, there are some answers there that <i>don&#39;t</i> use lists"},{"owner":{"account_id":3594511,"reputation":61,"user_id":2999672,"accept_rate":86,"display_name":"morgothraud"},"score":0,"creation_date":1387059167,"post_id":20588736,"comment_id":30802348,"body_markdown":"edited. i already checked that post it is not what i am looking for.","body":"edited. i already checked that post it is not what i am looking for."},{"owner":{"account_id":22086,"reputation":14236,"user_id":54200,"accept_rate":83,"display_name":"KevinDTimm"},"score":1,"creation_date":1387059376,"post_id":20588736,"comment_id":30802413,"body_markdown":"think again about your shuffle method. you currently print a random character but have no protection against printing the same character each time.  you have to remove the characters from the word as you print them.","body":"think again about your shuffle method. you currently print a random character but have no protection against printing the same character each time.  you have to remove the characters from the word as you print them."},{"owner":{"account_id":3594511,"reputation":61,"user_id":2999672,"accept_rate":86,"display_name":"morgothraud"},"score":0,"creation_date":1387059707,"post_id":20588736,"comment_id":30802499,"body_markdown":"I don&#39;t know how can I delete it. I found something like deleteCharAt but I guess it works with StringBuilder or something. I cannot use that. @KevinDTimm","body":"I don&#39;t know how can I delete it. I found something like deleteCharAt but I guess it works with StringBuilder or something. I cannot use that. @KevinDTimm"},{"owner":{"account_id":211872,"reputation":7501,"user_id":464306,"accept_rate":92,"display_name":"gdejohn"},"score":0,"creation_date":1387060945,"post_id":20588736,"comment_id":30802876,"body_markdown":"What is the &quot;List thing&quot; that you can&#39;t use? Do you mean `Collections.shuffle()`? And why the restriction?","body":"What is the &quot;List thing&quot; that you can&#39;t use? Do you mean <code>Collections.shuffle()</code>? And why the restriction?"}],"answers":[{"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1387060908,"creation_date":1387058797,"answer_id":20588791,"question_id":20588736,"body_markdown":"You can use [`Collections.shuffle`][1] :\r\n\r\n    List&lt;Character&gt; l = new ArrayList&lt;&gt;();\r\n    for(char c :  word.toCharArray()) //for each char of the word selectionned, put it in a list\r\n    \tl.add(c); \r\n    Collections.shuffle(l); //shuffle the list\r\n\r\n    StringBuilder sb = new StringBuilder(); //now rebuild the word\r\n    for(char c : l)\r\n      sb.append(c);\r\n\r\n    word = sb.toString();\r\n\r\n&lt;hr/&gt;\r\n\r\n&gt; I am not supposed to use that List thing.\r\n\r\nThen you can create two `StringBuilder` objects. One will hold the original word and one will create the shuffled one :\r\n\r\n    StringBuilder s = new StringBuilder(word);\r\n    StringBuilder wordShuffled = new StringBuilder();\r\n    while(s.length() != 0){\r\n    \tint index = random.nextInt(s.length());\r\n    \tchar c = s.charAt(index);\r\n    \twordShuffled.append(c);\r\n    \ts.deleteCharAt(index);\r\n    }\r\n    System.out.println(wordShuffled.toString());\r\n\r\n&lt;hr/&gt;\r\n\r\n&gt; I found something like deleteCharAt but I guess it works with\r\n&gt; StringBuilder or something. I cannot use that\r\n\r\n[Here][2] you can find some nice utilities methods that permits to shuffle an array.\r\n\r\n    public static char[] shuffleArray(char[] x) {    \r\n           for ( int i = x.length; i &gt; 0; i-- ) {\r\n                int rand = (int)(Math.random()*(i));\r\n                char temp = x[i-1];\r\n                x[i-1] = x[rand];\r\n                x[rand] = temp;\r\n            }\r\n           return x;\r\n    }\r\n\r\nThen just call this method and use the constructor [`String(char[] value)`][3] :\r\n\r\n    System.out.println(new String(shuffleArray(word.toCharArray())));\r\n\r\nNext time clearly state, what you can use/not use.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#shuffle%28java.util.List%29\r\n  [2]: https://snipt.net/raw/82661541a734fa61345ea75980f8182b/\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#String%28char%5B%5D%29","title":"How can I shuffle the letters of a word?","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#shuffle%28java.util.List%29\" rel=\"nofollow\"><code>Collections.shuffle</code></a> :</p>\n\n<pre><code>List&lt;Character&gt; l = new ArrayList&lt;&gt;();\nfor(char c :  word.toCharArray()) //for each char of the word selectionned, put it in a list\n    l.add(c); \nCollections.shuffle(l); //shuffle the list\n\nStringBuilder sb = new StringBuilder(); //now rebuild the word\nfor(char c : l)\n  sb.append(c);\n\nword = sb.toString();\n</code></pre>\n\n<hr/>\n\n<blockquote>\n  <p>I am not supposed to use that List thing.</p>\n</blockquote>\n\n<p>Then you can create two <code>StringBuilder</code> objects. One will hold the original word and one will create the shuffled one :</p>\n\n<pre><code>StringBuilder s = new StringBuilder(word);\nStringBuilder wordShuffled = new StringBuilder();\nwhile(s.length() != 0){\n    int index = random.nextInt(s.length());\n    char c = s.charAt(index);\n    wordShuffled.append(c);\n    s.deleteCharAt(index);\n}\nSystem.out.println(wordShuffled.toString());\n</code></pre>\n\n<hr/>\n\n<blockquote>\n  <p>I found something like deleteCharAt but I guess it works with\n  StringBuilder or something. I cannot use that</p>\n</blockquote>\n\n<p><a href=\"https://snipt.net/raw/82661541a734fa61345ea75980f8182b/\" rel=\"nofollow\">Here</a> you can find some nice utilities methods that permits to shuffle an array.</p>\n\n<pre><code>public static char[] shuffleArray(char[] x) {    \n       for ( int i = x.length; i &gt; 0; i-- ) {\n            int rand = (int)(Math.random()*(i));\n            char temp = x[i-1];\n            x[i-1] = x[rand];\n            x[rand] = temp;\n        }\n       return x;\n}\n</code></pre>\n\n<p>Then just call this method and use the constructor <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#String%28char%5B%5D%29\" rel=\"nofollow\"><code>String(char[] value)</code></a> :</p>\n\n<pre><code>System.out.println(new String(shuffleArray(word.toCharArray())));\n</code></pre>\n\n<p>Next time clearly state, what you can use/not use.</p>\n"},{"comments":[{"owner":{"account_id":3594511,"reputation":61,"user_id":2999672,"accept_rate":86,"display_name":"morgothraud"},"score":0,"creation_date":1387060116,"post_id":20588942,"comment_id":30802642,"body_markdown":"This works as I want but can you please explain the swap part because I have no ide what ^= is and why are we swapping 3 times. @Elliott Frisch","body":"This works as I want but can you please explain the swap part because I have no ide what ^= is and why are we swapping 3 times. @Elliott Frisch"}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387059780,"creation_date":1387059780,"answer_id":20588942,"question_id":20588736,"body_markdown":"How about something like this?\r\n\r\n    // Shuffle an array of characters.\r\n    public static void shuffleArray(char[] a) {\r\n      int n = a.length; // the length of the array.\r\n      for (int i = 0; i &lt; n; i++) {\r\n        int t = random.nextInt(n); // pick a random number 0 - the length.\r\n        if (t == i) {              // if the random number is the loop counter\r\n          if (i &gt; 0) {             // check if we&#39;re at the first element.\r\n            t = random.nextInt(i); // pick another number between 0 - and the loop counter.\r\n          } else {\r\n            t = a.length - 1;      // the end of the loop.\r\n          }\r\n        }\r\n        a[i] ^= a[t];              // swap a[i] and a[t]\r\n        a[t] ^= a[i];\r\n        a[i] ^= a[t];\r\n      }\r\n    }\r\n\r\n    private static Random random = new Random(); // the shared random.\r\n\r\n    public static void main(String[] args) {\r\n      String[] animals = { &quot;Dog&quot;, &quot;Cat&quot;, &quot;Dino&quot; };\r\n      String word = animals[random\r\n          .nextInt(animals.length)];\r\n\r\n      System.out.println(word);            // the random word.\r\n      char[] arr = word.toCharArray();     // the char[] from the word.\r\n      shuffleArray(arr);                   // shuffle it.\r\n      System.out.println(new String(arr)); // print it.\r\n    }","title":"How can I shuffle the letters of a word?","body":"<p>How about something like this?</p>\n\n<pre><code>// Shuffle an array of characters.\npublic static void shuffleArray(char[] a) {\n  int n = a.length; // the length of the array.\n  for (int i = 0; i &lt; n; i++) {\n    int t = random.nextInt(n); // pick a random number 0 - the length.\n    if (t == i) {              // if the random number is the loop counter\n      if (i &gt; 0) {             // check if we're at the first element.\n        t = random.nextInt(i); // pick another number between 0 - and the loop counter.\n      } else {\n        t = a.length - 1;      // the end of the loop.\n      }\n    }\n    a[i] ^= a[t];              // swap a[i] and a[t]\n    a[t] ^= a[i];\n    a[i] ^= a[t];\n  }\n}\n\nprivate static Random random = new Random(); // the shared random.\n\npublic static void main(String[] args) {\n  String[] animals = { \"Dog\", \"Cat\", \"Dino\" };\n  String word = animals[random\n      .nextInt(animals.length)];\n\n  System.out.println(word);            // the random word.\n  char[] arr = word.toCharArray();     // the char[] from the word.\n  shuffleArray(arr);                   // shuffle it.\n  System.out.println(new String(arr)); // print it.\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4313493,"reputation":381,"user_id":3524012,"accept_rate":50,"display_name":"macskay"},"score":1,"creation_date":1483573896,"post_id":20589105,"comment_id":70156364,"body_markdown":"Why using `a.length-1` when the condition is `&lt;` rather than using `a.length`. When limiting to `&lt; a.length-1` the last character always stays at the same place. When using `&lt; a.length` and `random.nextInt(a.length)` the last character also gets considered in the shuffle process, however other than that this solution worked a treat! Thanks to @Rastikan","body":"Why using <code>a.length-1</code> when the condition is <code>&lt;</code> rather than using <code>a.length</code>. When limiting to <code>&lt; a.length-1</code> the last character always stays at the same place. When using <code>&lt; a.length</code> and <code>random.nextInt(a.length)</code> the last character also gets considered in the shuffle process, however other than that this solution worked a treat! Thanks to @Rastikan"},{"owner":{"account_id":394033,"reputation":10807,"user_id":756233,"accept_rate":71,"display_name":"Ray Hulha"},"score":0,"creation_date":1493983573,"post_id":20589105,"comment_id":74646487,"body_markdown":"I edited the algorithm to also shuffle the last character as per my own test and @mkli90&#39;s comment.","body":"I edited the algorithm to also shuffle the last character as per my own test and @mkli90&#39;s comment."}],"tags":[],"owner":{"account_id":365327,"reputation":517,"user_id":710183,"accept_rate":0,"display_name":"Rastikan"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1493983544,"creation_date":1387060986,"answer_id":20589105,"question_id":20588736,"body_markdown":"Really no need for collection and anything more than what follows:\t\t\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\t// Create a random object\r\n\t\tRandom r = new Random();\r\n\r\n\t\tString word = &quot;Animals&quot;;\r\n\t\t\r\n\t\tSystem.out.println(&quot;Before: &quot; + word );\r\n\t\tword = scramble( r, word );\r\n\t\tSystem.out.println(&quot;After : &quot; + word );\r\n\t}\r\n\t\r\n\tpublic static String scramble( Random random, String inputString )\r\n\t{\r\n\t\t// Convert your string into a simple char array:\r\n\t\tchar a[] = inputString.toCharArray();\r\n\t\t\r\n\t\t// Scramble the letters using the standard Fisher-Yates shuffle, \r\n\t\tfor( int i=0 ; i&lt;a.length ; i++ )\r\n\t\t{\r\n\t\t\tint j = random.nextInt(a.length);\r\n\t\t\t// Swap letters\r\n\t\t\tchar temp = a[i]; a[i] = a[j];\ta[j] = temp;\r\n\t\t}\t\t\r\n\t\t\r\n\t\treturn new String( a );\r\n\t}","title":"How can I shuffle the letters of a word?","body":"<p>Really no need for collection and anything more than what follows:      </p>\n\n<pre><code>public static void main(String[] args) {\n\n    // Create a random object\n    Random r = new Random();\n\n    String word = \"Animals\";\n\n    System.out.println(\"Before: \" + word );\n    word = scramble( r, word );\n    System.out.println(\"After : \" + word );\n}\n\npublic static String scramble( Random random, String inputString )\n{\n    // Convert your string into a simple char array:\n    char a[] = inputString.toCharArray();\n\n    // Scramble the letters using the standard Fisher-Yates shuffle, \n    for( int i=0 ; i&lt;a.length ; i++ )\n    {\n        int j = random.nextInt(a.length);\n        // Swap letters\n        char temp = a[i]; a[i] = a[j];  a[j] = temp;\n    }       \n\n    return new String( a );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13426330,"reputation":1,"user_id":17786139,"display_name":"isak Pathan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640756560,"creation_date":1640756370,"answer_id":70515516,"question_id":20588736,"body_markdown":"**Shuffle String Using Collection.**\r\n```\r\nimport java.util.*;\r\n\r\npublic class ShuffleString {\r\n    \r\n    public static void main(String[] args) {\r\n        \r\n        String str = &quot;Team India Is Best&quot;;\r\n        String shuf = &quot;&quot;;\r\n        String s1 = str.substring(0, 4);\r\n        String s2 = str.substring(5, 10);\r\n        String s3 = str.substring(11, 13);\r\n        String s4 = str.substring(14, 18);\r\n        ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\r\n        arr.add(s1);\r\n        arr.add(s2);\r\n        arr.add(s3);\r\n        arr.add(s4);\r\n        Collections.shuffle(arr);\r\n\r\n        for(String a : arr)\r\n        {\r\n            shuf += a + &quot; &quot;;\r\n        }\r\n        System.out.println(shuf);\r\n    }\r\n}\r\n```","title":"How can I shuffle the letters of a word?","body":"<p><strong>Shuffle String Using Collection.</strong></p>\n<pre><code>import java.util.*;\n\npublic class ShuffleString {\n    \n    public static void main(String[] args) {\n        \n        String str = &quot;Team India Is Best&quot;;\n        String shuf = &quot;&quot;;\n        String s1 = str.substring(0, 4);\n        String s2 = str.substring(5, 10);\n        String s3 = str.substring(11, 13);\n        String s4 = str.substring(14, 18);\n        ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\n        arr.add(s1);\n        arr.add(s2);\n        arr.add(s3);\n        arr.add(s4);\n        Collections.shuffle(arr);\n\n        for(String a : arr)\n        {\n            shuf += a + &quot; &quot;;\n        }\n        System.out.println(shuf);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664773929,"creation_date":1664773929,"answer_id":73931305,"question_id":20588736,"body_markdown":"Achieving it by recursion.\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Please enter a string : &quot;);\r\n\t\tString input = scanner.next();\r\n\t\t\r\n\t\tif(input == null || input.length() == 0)\r\n\t\t\tSystem.out.println(&quot;Invalid String!&quot;);\r\n\t\t\r\n\t\tSystem.out.println(&quot;String before scramble : &quot; + input);\r\n\t\t\r\n\t\tSystem.out.println(&quot;String after scramble : &quot; + scramble(input));\r\n\t}\r\n\t\r\n\tstatic String scramble(String input) {\r\n\t\t\r\n\t\t//\tif it has only single character simply return it\r\n\t\tif(input.length() == 1)\r\n\t\t\treturn input;\r\n\t\t\r\n\t\t//\tget a random number between string&#39;s first index and last index \r\n\t\tint randomIndex = ThreadLocalRandom.current().nextInt(0, input.length());\r\n\t\t\r\n\t\t//\tGet the character in that index\r\n\t\tString randomPart = String.valueOf(input.charAt(randomIndex));\r\n\t\t\r\n\t\t//\tappend that character to the new string and remove it from the source and feed it to same method\r\n        return randomPart + \r\n\t    \t\tscramble(input.substring(0, randomIndex) + input.substring(randomIndex+1));\r\n\t}\r\n\r\n\r\nOutput\r\n\r\n    Please enter a string : \r\n    abcdefg\r\n    String before scramble : abcdefg\r\n    String after scramble : abdfgce","title":"How can I shuffle the letters of a word?","body":"<p>Achieving it by recursion.</p>\n<pre><code>public static void main(String[] args) {\n    \n    Scanner scanner = new Scanner(System.in);\n    \n    System.out.println(&quot;Please enter a string : &quot;);\n    String input = scanner.next();\n    \n    if(input == null || input.length() == 0)\n        System.out.println(&quot;Invalid String!&quot;);\n    \n    System.out.println(&quot;String before scramble : &quot; + input);\n    \n    System.out.println(&quot;String after scramble : &quot; + scramble(input));\n}\n\nstatic String scramble(String input) {\n    \n    //  if it has only single character simply return it\n    if(input.length() == 1)\n        return input;\n    \n    //  get a random number between string's first index and last index \n    int randomIndex = ThreadLocalRandom.current().nextInt(0, input.length());\n    \n    //  Get the character in that index\n    String randomPart = String.valueOf(input.charAt(randomIndex));\n    \n    //  append that character to the new string and remove it from the source and feed it to same method\n    return randomPart + \n            scramble(input.substring(0, randomIndex) + input.substring(randomIndex+1));\n}\n</code></pre>\n<p>Output</p>\n<pre><code>Please enter a string : \nabcdefg\nString before scramble : abcdefg\nString after scramble : abdfgce\n</code></pre>\n"}],"owner":{"account_id":3594511,"reputation":61,"user_id":2999672,"accept_rate":86,"display_name":"morgothraud"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34352,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":20589105,"answer_count":5,"score":4,"last_activity_date":1664773929,"creation_date":1387058419,"question_id":20588736,"body_markdown":"What is the easiest way to shuffle the letters of a word which is in an array? I have some words in an array and I choose randomly a word but I also want to shuffle the letters of it.\r\n\r\n    public static void main (String[] args ) {\r\n        String [] animals = { &quot;Dog&quot; , &quot;Cat&quot; , &quot;Dino&quot; } ;    \r\n        Random random = new Random();\r\n        String word = animals [random.nextInt(animals.length)];\r\n\r\n        System.out.println ( word ) ;\r\n        //I Simply want to shuffle the letters of word     \r\n    }\r\n\r\nI am not supposed to use that List thing. I&#39;ve come up with something like this but with this code it prints random letters it doesn&#39;t shuffle. Maybe I can code something like do not print if that letter already printed? \r\n\r\n\r\n    //GET RANDOM LETTER\r\n    for (int i = 0; i&lt; word.length(); i++ ) {\r\n    \r\n    char c = (word.charAt(random.nextInt(word.length())));\r\n    System.out.print(c); } \r\n      }","title":"How can I shuffle the letters of a word?","body":"<p>What is the easiest way to shuffle the letters of a word which is in an array? I have some words in an array and I choose randomly a word but I also want to shuffle the letters of it.</p>\n\n<pre><code>public static void main (String[] args ) {\n    String [] animals = { \"Dog\" , \"Cat\" , \"Dino\" } ;    \n    Random random = new Random();\n    String word = animals [random.nextInt(animals.length)];\n\n    System.out.println ( word ) ;\n    //I Simply want to shuffle the letters of word     \n}\n</code></pre>\n\n<p>I am not supposed to use that List thing. I've come up with something like this but with this code it prints random letters it doesn't shuffle. Maybe I can code something like do not print if that letter already printed? </p>\n\n<pre><code>//GET RANDOM LETTER\nfor (int i = 0; i&lt; word.length(); i++ ) {\n\nchar c = (word.charAt(random.nextInt(word.length())));\nSystem.out.print(c); } \n  }\n</code></pre>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":18157520,"reputation":249,"user_id":13209357,"display_name":"Simon Wick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664772146,"creation_date":1664772146,"answer_id":73931183,"question_id":73863022,"body_markdown":"I found a solution with a `PropertyFilter`. I&#39;m collecting all the objects seen in `serializeAsField` and at the end I&#39;ve a complete list of traversed objects.","title":"Jackson serializing: Get list of processed objects","body":"<p>I found a solution with a <code>PropertyFilter</code>. I'm collecting all the objects seen in <code>serializeAsField</code> and at the end I've a complete list of traversed objects.</p>\n"}],"owner":{"account_id":18157520,"reputation":249,"user_id":13209357,"display_name":"Simon Wick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73931183,"answer_count":1,"score":-1,"last_activity_date":1664772146,"creation_date":1664258757,"question_id":73863022,"body_markdown":"For a special case, I need to know which &quot;source objects&quot; of the object tree Jackson processed during serialization.\r\n\r\n```\r\npublic class A {}\r\n\r\npublic class B {\r\n   private A a;\r\n}\r\n\r\npublic class Main {\r\n   public void doIt() {\r\n      B b = new B();\r\n      b.a = new A();\r\n      m.writeValueAsString(b)\r\n\r\n      // Here I need to get the list of all processed objects from mapper m, i.e. [a,b]\r\n   }\r\n}\r\n```\r\n\r\nI think there is some internal list, because Jackson might reuse already serialized objects if they are referenced multiple times in the object tree. Can I get this list? Or is it possible to build my own list by an event listener which is called for every serialized object?","title":"Jackson serializing: Get list of processed objects","body":"<p>For a special case, I need to know which &quot;source objects&quot; of the object tree Jackson processed during serialization.</p>\n<pre><code>public class A {}\n\npublic class B {\n   private A a;\n}\n\npublic class Main {\n   public void doIt() {\n      B b = new B();\n      b.a = new A();\n      m.writeValueAsString(b)\n\n      // Here I need to get the list of all processed objects from mapper m, i.e. [a,b]\n   }\n}\n</code></pre>\n<p>I think there is some internal list, because Jackson might reuse already serialized objects if they are referenced multiple times in the object tree. Can I get this list? Or is it possible to build my own list by an event listener which is called for every serialized object?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10718315,"reputation":320,"user_id":10655551,"display_name":"Subhakant Priyadarsan"},"score":0,"creation_date":1690908929,"post_id":73911578,"comment_id":135417478,"body_markdown":"Hi, \nDid you find any solution to your problem?","body":"Hi,  Did you find any solution to your problem?"},{"owner":{"account_id":7493445,"reputation":161,"user_id":5694406,"display_name":"Rakesh Sharma"},"score":0,"creation_date":1698220040,"post_id":73911578,"comment_id":136375920,"body_markdown":"I am facing the same problem. Any workarounds?","body":"I am facing the same problem. Any workarounds?"}],"owner":{"account_id":13167846,"reputation":31,"user_id":9511333,"display_name":"user9511333"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":562,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1664770240,"creation_date":1664555209,"question_id":73911578,"body_markdown":"I am looking for a jar alternative for commons-httpclient-3.1.jar.\r\n\r\nIt contains a java class called ProtocolSocketFactory.\r\n\r\nProtocolSocketFactory class is not present in httpclient4 or httpclient5.\r\n\r\nProtocolSocketFactory particular class is referenced in opensaml-2.6.6.jar.\r\n\r\n```DefaultBootstrap.bootstrap();```\r\n\r\n[![Opensaml jar decompiled][1]][1]\r\n\r\n\r\nAs you can see it is referencing ProtocolSocketFactory from commons-httpclient-3.1.jar.\r\n[![enter image description here][2]][2]\r\n\r\nAny way to fix this issue related to commons-httpclient-3.1.jar whereby, i can remove the jar and still make opensaml work with some alternative to commons-httpclient.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ct6lK.png\r\n  [2]: https://i.stack.imgur.com/yQZWx.png","title":"java.lang.NoClassDefFoundError: org/apache/commons/httpclient/protocol/ProtocolSocketFactory","body":"<p>I am looking for a jar alternative for commons-httpclient-3.1.jar.</p>\n<p>It contains a java class called ProtocolSocketFactory.</p>\n<p>ProtocolSocketFactory class is not present in httpclient4 or httpclient5.</p>\n<p>ProtocolSocketFactory particular class is referenced in opensaml-2.6.6.jar.</p>\n<p><code>DefaultBootstrap.bootstrap();</code></p>\n<p><a href=\"https://i.stack.imgur.com/ct6lK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ct6lK.png\" alt=\"Opensaml jar decompiled\" /></a></p>\n<p>As you can see it is referencing ProtocolSocketFactory from commons-httpclient-3.1.jar.\n<a href=\"https://i.stack.imgur.com/yQZWx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yQZWx.png\" alt=\"enter image description here\" /></a></p>\n<p>Any way to fix this issue related to commons-httpclient-3.1.jar whereby, i can remove the jar and still make opensaml work with some alternative to commons-httpclient.</p>\n"},{"tags":["java","line-by-line"],"comments":[{"owner":{"account_id":13821922,"reputation":3012,"user_id":9977151,"display_name":"ATP"},"score":0,"creation_date":1664713867,"post_id":73925808,"comment_id":130530445,"body_markdown":"add a counter and increment it inside the `if (i%5==0)` .  if the counter reaches the desired number`println()`  and reset it.","body":"add a counter and increment it inside the <code>if (i%5==0)</code> .  if the counter reaches the desired number<code>println()</code>  and reset it."}],"answers":[{"tags":[],"owner":{"account_id":6645835,"reputation":459,"user_id":5129982,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664714147,"creation_date":1664714147,"answer_id":73925851,"question_id":73925808,"body_markdown":"You can approach this with a simple modulo-counter, that would break the line, whenever the number of prints reached four. Your code would then look similar to:\r\n```java\r\nint counter = 0;\r\nfor (int i = 0; i &lt; 100; i++) {\r\n  if (i % 5 == 0) {\r\n    System.out.print(i);\r\n    if (++counter % 4 == 0) // Then break the line\r\n      System.out.println();\r\n    else // print the comma\r\n      System.out.print(&quot;, &quot;);\r\n  }\r\n}\r\n```\r\n\r\nHere is a similar question: https://stackoverflow.com/questions/18645605/how-to-print-n-numbers-per-line","title":"how to print divisibles of a number in separate lines?","body":"<p>You can approach this with a simple modulo-counter, that would break the line, whenever the number of prints reached four. Your code would then look similar to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int counter = 0;\nfor (int i = 0; i &lt; 100; i++) {\n  if (i % 5 == 0) {\n    System.out.print(i);\n    if (++counter % 4 == 0) // Then break the line\n      System.out.println();\n    else // print the comma\n      System.out.print(&quot;, &quot;);\n  }\n}\n</code></pre>\n<p>Here is a similar question: <a href=\"https://stackoverflow.com/questions/18645605/how-to-print-n-numbers-per-line\">How to print n numbers per line</a></p>\n"},{"comments":[{"owner":{"account_id":6645835,"reputation":459,"user_id":5129982,"display_name":"Alex"},"score":0,"creation_date":1664714334,"post_id":73925852,"comment_id":130530519,"body_markdown":"you&#39;re missing the conditional on the `&quot;, &quot;`","body":"you&#39;re missing the conditional on the <code>&quot;, &quot;</code>"}],"tags":[],"owner":{"account_id":26506231,"reputation":1,"user_id":20142358,"display_name":"Mohan"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664714154,"creation_date":1664714154,"answer_id":73925852,"question_id":73925808,"body_markdown":"```\r\nint count = 0;\r\nfor(int i=0;i&lt;100;i++){\r\n    if(i%5==0){\r\n        System.out.print(i+&quot;, &quot;);\r\n        count++;\r\n        if(count%4==0){\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n```","title":"how to print divisibles of a number in separate lines?","body":"<pre><code>int count = 0;\nfor(int i=0;i&lt;100;i++){\n    if(i%5==0){\n        System.out.print(i+&quot;, &quot;);\n        count++;\n        if(count%4==0){\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18992970,"reputation":81,"user_id":13861797,"display_name":"Md. Kabir Hassan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664714486,"creation_date":1664714486,"answer_id":73925890,"question_id":73925808,"body_markdown":"        import java.util.*;\r\n        \r\n        class MyClass{\r\n        \t\r\n        static int MyNum(int n)\r\n        {\r\n        \r\n        \t// Iterate from 1 to N=100\r\n        \tfor(int i = 1; i &lt; n; i++)\r\n        \t{\r\n        \r\n        \t//operator is used\r\n        \tif (i % 5 == 0)\r\n        \t\tSystem.out.print(i + &quot; &quot;);\r\n        \t}\r\n        \treturn n;\r\n        }\r\n        \r\n        public static void main(String args[])\r\n        {\r\n        \t// Input goes here\r\n        \tint N = 100;\r\n        \t\r\n        \t//generator function\r\n        \tMyNum(N);\r\n        }\r\n      }\r\n\r\n**Output : 5 10 15 20**","title":"how to print divisibles of a number in separate lines?","body":"<pre><code>    import java.util.*;\n    \n    class MyClass{\n        \n    static int MyNum(int n)\n    {\n    \n        // Iterate from 1 to N=100\n        for(int i = 1; i &lt; n; i++)\n        {\n    \n        //operator is used\n        if (i % 5 == 0)\n            System.out.print(i + &quot; &quot;);\n        }\n        return n;\n    }\n    \n    public static void main(String args[])\n    {\n        // Input goes here\n        int N = 100;\n        \n        //generator function\n        MyNum(N);\n    }\n  }\n</code></pre>\n<p><strong>Output : 5 10 15 20</strong></p>\n"}],"owner":{"account_id":26203018,"reputation":1,"user_id":19883060,"display_name":"parisr lover"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1664770060,"creation_date":1664713676,"question_id":73925808,"body_markdown":"In Java, I have been trying to print the divisibles of the number 5. I got them to print out, but I would like to print four numbers in each line. I am using the following to print out the numbers divided by 5. \r\n\r\n    System.out.println(&quot;\\nDivided by 5: &quot;);\t\t\r\n    \r\n\tfor (int i=1; i&lt;100; i++) {\r\n\t\t\tif (i%5==0) \r\n\t\t\tSystem.out.print(i +&quot;, &quot;);\t\t\t\r\n\t}\t\t\t\r\n\t\t\t\r\nWhat should I format to print four numbers of those divisibles line by line?","title":"how to print divisibles of a number in separate lines?","body":"<p>In Java, I have been trying to print the divisibles of the number 5. I got them to print out, but I would like to print four numbers in each line. I am using the following to print out the numbers divided by 5.</p>\n<pre><code>System.out.println(&quot;\\nDivided by 5: &quot;);     \n\nfor (int i=1; i&lt;100; i++) {\n        if (i%5==0) \n        System.out.print(i +&quot;, &quot;);          \n}           \n        \n</code></pre>\n<p>What should I format to print four numbers of those divisibles line by line?</p>\n"},{"tags":["java","arrays","arraylist"],"answers":[{"comments":[{"owner":{"account_id":20822826,"reputation":9,"user_id":15294003,"display_name":"Florence"},"score":0,"creation_date":1664768635,"post_id":73930870,"comment_id":130539554,"body_markdown":"Thank you for your contribution and explanation, I better understand the problem now! Also I would use merge or heap, but the prompt, was to try and make something without a specific sorting algo in mind.","body":"Thank you for your contribution and explanation, I better understand the problem now! Also I would use merge or heap, but the prompt, was to try and make something without a specific sorting algo in mind."}],"tags":[],"owner":{"account_id":26429840,"reputation":11,"user_id":20146485,"display_name":"Dante"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664768332,"creation_date":1664767841,"answer_id":73930870,"question_id":73930549,"body_markdown":"Assume you have a list of array elements ` a1,a2,a3,....,an` \r\n such that `a1&lt;a2&lt;a3&lt;a4&lt;.....,&lt;an `(sorted list).\r\n Applying the above algorithm to this list ,after first iteration of for loop min holds the value of a1\r\n and max holds the value of an. \r\n This values get stored in the values in array sorted[0] and sorted[arr.size-1].\r\n After that the algorithm removed the a1,an and but did not changed the values of max and min.\r\n They still holds a1 and an.\r\n Since there are no values less than a1 and greater than an  , the values of max and min doesn&#39;t change .\r\n Thus during successive iteration -\r\n   ` sorted[0],sorted[1],......,sorted[array.size()/2 -1] holds the values of a1 and sorted[array.size()/2+1]....,\r\n\tsorted[array.size-1] holds the value of an.`\r\n\r\n [Solution] --- Initialize the value of max and min after the while loop.\r\n\r\n  [Tips]- If you are  stuck in a problem try to output the values of intermediate variables like max and min and  check what values are\r\n  they  holding when the program runs. This might give you an idea  where the code might went wrong.\r\n  The time complexity of this algorithm is quadratic why not use Mergesort or Heapsort!!\r\n ","title":"Loop through array correctly after removing items","body":"<p>Assume you have a list of array elements <code> a1,a2,a3,....,an</code>\nsuch that <code>a1&lt;a2&lt;a3&lt;a4&lt;.....,&lt;an </code>(sorted list).\nApplying the above algorithm to this list ,after first iteration of for loop min holds the value of a1\nand max holds the value of an.\nThis values get stored in the values in array sorted[0] and sorted[arr.size-1].\nAfter that the algorithm removed the a1,an and but did not changed the values of max and min.\nThey still holds a1 and an.\nSince there are no values less than a1 and greater than an  , the values of max and min doesn't change .\nThus during successive iteration -\n<code> sorted[0],sorted[1],......,sorted[array.size()/2 -1] holds the values of a1 and sorted[array.size()/2+1]...., sorted[array.size-1] holds the value of an.</code></p>\n<p>[Solution] --- Initialize the value of max and min after the while loop.</p>\n<p>[Tips]- If you are  stuck in a problem try to output the values of intermediate variables like max and min and  check what values are\nthey  holding when the program runs. This might give you an idea  where the code might went wrong.\nThe time complexity of this algorithm is quadratic why not use Mergesort or Heapsort!!</p>\n"},{"tags":[],"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664768167,"creation_date":1664768167,"answer_id":73930888,"question_id":73930549,"body_markdown":"This initialization must be in the for loop:\r\n```\r\nint min = array.get(0);       //both min and max initially start at first element\r\nint max = array.get(0);\r\n```\r\n\r\nSome other considerations: \r\n1. You should also consider when min and max are having the same value, what will you do in that scenario? The same value can be either pointing to same index, but it can also point to different index i.e. duplicated values.\r\n\r\n2. Try to sort even number of integers, then try odd number of integers. Do both works?\r\n\r\n3. Should you store the min max index instead of the min max value?\r\n\r\n ","title":"Loop through array correctly after removing items","body":"<p>This initialization must be in the for loop:</p>\n<pre><code>int min = array.get(0);       //both min and max initially start at first element\nint max = array.get(0);\n</code></pre>\n<p>Some other considerations:</p>\n<ol>\n<li><p>You should also consider when min and max are having the same value, what will you do in that scenario? The same value can be either pointing to same index, but it can also point to different index i.e. duplicated values.</p>\n</li>\n<li><p>Try to sort even number of integers, then try odd number of integers. Do both works?</p>\n</li>\n<li><p>Should you store the min max index instead of the min max value?</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664769839,"creation_date":1664769839,"answer_id":73931024,"question_id":73930549,"body_markdown":"You need to reset `min` and `max` on each iteration of the `while` loop.  \r\nJust move the following two lines of your code to inside that loop.\r\n```java\r\nint min = array.get(0);       //both min and max initially start at first element\r\nint max = array.get(0);\r\n```\r\nThe entire method (with some optimizations and adhering to Java naming conventions) as a minimal, reproducible example:\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\n\r\npublic class Exercise {\r\n\r\n    public static int[] novelSort(ArrayList&lt;Integer&gt; array) {\r\n        //array for sorted elements\r\n        int[] sorted = new int[array.size()];\r\n        //variables\r\n        int left = 0;\r\n        //int right = fully_sorted.length - 1;\r\n        int right = array.size() - 1;\r\n\r\n        while (!array.isEmpty()) {\r\n            int min = array.get(0);       //both min and max initially start at first element\r\n            int max = array.get(0);\r\n            //compare elements and interchange min and max until found\r\n            for (int i = 0; i &lt; array.size(); i++) {\r\n                int elem = array.get(i);\r\n                if (elem &gt; max) {\r\n                    max = elem;\r\n                }\r\n                else if (elem &lt; min) {\r\n                    min = elem;\r\n                }\r\n            }\r\n            //insert elements into &#39;sorted&#39; array\r\n            sorted[left] = min;\r\n            sorted[right] = max;\r\n\r\n            //remove elements\r\n            array.remove(array.indexOf(min));\r\n            array.remove(array.indexOf(max));\r\n\r\n            //decrement and increment the indices (going inward)\r\n            right--;\r\n            left++;\r\n        }\r\n        for (int i = 0; i &lt;= (sorted.length - 1); i++) {\r\n            System.out.println(sorted[i]);\r\n        }\r\n        return sorted;\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n        novelSort(new ArrayList&lt;&gt;(Arrays.asList(5, 4, 3, 2, 1, 0)));\r\n    }\r\n}\r\n```\r\n","title":"Loop through array correctly after removing items","body":"<p>You need to reset <code>min</code> and <code>max</code> on each iteration of the <code>while</code> loop.<br />\nJust move the following two lines of your code to inside that loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int min = array.get(0);       //both min and max initially start at first element\nint max = array.get(0);\n</code></pre>\n<p>The entire method (with some optimizations and adhering to Java naming conventions) as a minimal, reproducible example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Arrays;\n\npublic class Exercise {\n\n    public static int[] novelSort(ArrayList&lt;Integer&gt; array) {\n        //array for sorted elements\n        int[] sorted = new int[array.size()];\n        //variables\n        int left = 0;\n        //int right = fully_sorted.length - 1;\n        int right = array.size() - 1;\n\n        while (!array.isEmpty()) {\n            int min = array.get(0);       //both min and max initially start at first element\n            int max = array.get(0);\n            //compare elements and interchange min and max until found\n            for (int i = 0; i &lt; array.size(); i++) {\n                int elem = array.get(i);\n                if (elem &gt; max) {\n                    max = elem;\n                }\n                else if (elem &lt; min) {\n                    min = elem;\n                }\n            }\n            //insert elements into 'sorted' array\n            sorted[left] = min;\n            sorted[right] = max;\n\n            //remove elements\n            array.remove(array.indexOf(min));\n            array.remove(array.indexOf(max));\n\n            //decrement and increment the indices (going inward)\n            right--;\n            left++;\n        }\n        for (int i = 0; i &lt;= (sorted.length - 1); i++) {\n            System.out.println(sorted[i]);\n        }\n        return sorted;\n    }\n\n    public static void main(String args[]) {\n        novelSort(new ArrayList&lt;&gt;(Arrays.asList(5, 4, 3, 2, 1, 0)));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20822826,"reputation":9,"user_id":15294003,"display_name":"Florence"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73930888,"answer_count":3,"score":0,"last_activity_date":1664769839,"creation_date":1664762689,"question_id":73930549,"body_markdown":"I have the following code where I am trying to create a sorting algorithm that finds the min and max elements in an array, exchanges those elements with the first and last elements in the array, and then reduces the array&#39;s size by 2 after excluding the two elements that are already in the proper positions, and repeats that process again until the array is sorted.\r\n\r\nI am aware that one can use an int[] array as the main array, but I went with an ArrayList for this instead. After removing the two elements from the ArrayList, the program is supposed to find the next min and max, but for whatever reason, the min and max are still the previous elements that were supposedly removed. I even adjusted the left and right index variables. \r\n\r\nHow would I fix this issue?\r\n\r\n``` \r\npublic static int[] novel_sort(ArrayList&lt;Integer&gt; array) {\r\n        //array for sorted elements\r\n        int[] sorted = new int[array.size()];\r\n        //variables\r\n        int left = 0;    \r\n        //int right = fully_sorted.length - 1;    \r\n        int right = array.size() - 1;\r\n        int min = array.get(0);       //both min and max initially start at first element\r\n        int max = array.get(0);\r\n        \r\n        while (array.isEmpty() != true) {\r\n            //compare elements and interchange min and max until found\r\n            for (int i = 0; i &lt; array.size(); i++) {\r\n                if (array.get(i) &gt; max) {\r\n                    max = array.get(i);\r\n                }\r\n                else if (array.get(i) &lt; min || array.get(i) == min) {\r\n                    min = array.get(i);\r\n                }\r\n            }\r\n            //insert elements into &#39;sorted&#39; array\r\n            sorted[left] = min;\r\n            sorted[right] = max;\r\n        \r\n            //remove elements\r\n            array.remove(array.indexOf(min));\r\n            array.remove(array.indexOf(max));\r\n            \r\n            \r\n            //decrement and increment the indices (going inward)\r\n            right--;\r\n            left++;\r\n        }\r\n       \r\n         for (int i = 0; i &lt;= (sorted.length - 1); i++) {\r\n            System.out.println(sorted[i]);\r\n        }\r\n         return sorted;\r\n}\r\n```","title":"Loop through array correctly after removing items","body":"<p>I have the following code where I am trying to create a sorting algorithm that finds the min and max elements in an array, exchanges those elements with the first and last elements in the array, and then reduces the array's size by 2 after excluding the two elements that are already in the proper positions, and repeats that process again until the array is sorted.</p>\n<p>I am aware that one can use an int[] array as the main array, but I went with an ArrayList for this instead. After removing the two elements from the ArrayList, the program is supposed to find the next min and max, but for whatever reason, the min and max are still the previous elements that were supposedly removed. I even adjusted the left and right index variables.</p>\n<p>How would I fix this issue?</p>\n<pre><code>public static int[] novel_sort(ArrayList&lt;Integer&gt; array) {\n        //array for sorted elements\n        int[] sorted = new int[array.size()];\n        //variables\n        int left = 0;    \n        //int right = fully_sorted.length - 1;    \n        int right = array.size() - 1;\n        int min = array.get(0);       //both min and max initially start at first element\n        int max = array.get(0);\n        \n        while (array.isEmpty() != true) {\n            //compare elements and interchange min and max until found\n            for (int i = 0; i &lt; array.size(); i++) {\n                if (array.get(i) &gt; max) {\n                    max = array.get(i);\n                }\n                else if (array.get(i) &lt; min || array.get(i) == min) {\n                    min = array.get(i);\n                }\n            }\n            //insert elements into 'sorted' array\n            sorted[left] = min;\n            sorted[right] = max;\n        \n            //remove elements\n            array.remove(array.indexOf(min));\n            array.remove(array.indexOf(max));\n            \n            \n            //decrement and increment the indices (going inward)\n            right--;\n            left++;\n        }\n       \n         for (int i = 0; i &lt;= (sorted.length - 1); i++) {\n            System.out.println(sorted[i]);\n        }\n         return sorted;\n}\n</code></pre>\n"},{"tags":["java","encryption","bouncycastle"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664786989,"post_id":73931021,"comment_id":130543299,"body_markdown":"Is &#39;testing&#39;  the required passphrase when accessing your default key with gpg at the command line?","body":"Is &#39;testing&#39;  the required passphrase when accessing your default key with gpg at the command line?"},{"owner":{"account_id":8586073,"reputation":359,"user_id":7293136,"accept_rate":67,"display_name":"Kiran"},"score":0,"creation_date":1664805255,"post_id":73931021,"comment_id":130548977,"body_markdown":"&quot;testing&quot; is the passpharse that is used in Python while encrypting.","body":"&quot;testing&quot; is the passpharse that is used in Python while encrypting."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664809525,"post_id":73931021,"comment_id":130550505,"body_markdown":"Well, gpg normally requires a passphrase to *access* a private key. That is the default. If you&#39;ve somehow done symmetric encryption *within* PKI, you&#39;d therefore quite possibly need *two* passphrases - one for the private key access and another to supply the symmetric key (via passphrase)","body":"Well, gpg normally requires a passphrase to <i>access</i> a private key. That is the default. If you&#39;ve somehow done symmetric encryption <i>within</i> PKI, you&#39;d therefore quite possibly need <i>two</i> passphrases - one for the private key access and another to supply the symmetric key (via passphrase)"},{"owner":{"account_id":8586073,"reputation":359,"user_id":7293136,"accept_rate":67,"display_name":"Kiran"},"score":0,"creation_date":1664810725,"post_id":73931021,"comment_id":130550864,"body_markdown":"Where we can find the default passpharse","body":"Where we can find the default passpharse"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664811069,"post_id":73931021,"comment_id":130550958,"body_markdown":"When I say &quot;default&quot; I mean that *having* a passphrase for your private key is the default. You&#39;re asked for one on creation of the key pair afaicr","body":"When I say &quot;default&quot; I mean that <i>having</i> a passphrase for your private key is the default. You&#39;re asked for one on creation of the key pair afaicr"},{"owner":{"account_id":8586073,"reputation":359,"user_id":7293136,"accept_rate":67,"display_name":"Kiran"},"score":0,"creation_date":1664811209,"post_id":73931021,"comment_id":130551028,"body_markdown":"The same passphrase used in our Python code for both.","body":"The same passphrase used in our Python code for both."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664813743,"post_id":73931021,"comment_id":130551872,"body_markdown":"What happens with ```gpg -d thefilename```  at the command line?","body":"What happens with <code>gpg -d thefilename</code>  at the command line?"},{"owner":{"account_id":8586073,"reputation":359,"user_id":7293136,"accept_rate":67,"display_name":"Kiran"},"score":0,"creation_date":1664814542,"post_id":73931021,"comment_id":130552131,"body_markdown":"I did not install GPG. I will install it and check","body":"I did not install GPG. I will install it and check"}],"owner":{"account_id":8586073,"reputation":359,"user_id":7293136,"accept_rate":67,"display_name":"Kiran"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664769808,"creation_date":1664769808,"question_id":73931021,"body_markdown":"There is a scenario where GPG Encryption is done using Python and Decryption should be done in Java. I have used Bouncy Castle API. I am getting below error. Any help on this is so much appreciated  \r\n\r\n  Caused by: org.bouncycastle.openpgp.PGPException: Decryption failed - No secret key was found in the key ring matching the public key used to encrypt the file, aborting\r\n\tat name.neuhalfen.projects.crypto.bouncycastle.openpgp.decrypting.DecryptionStreamFactory.nextDecryptedStream(DecryptionStreamFactory.java:152)\r\n\r\n\t final InMemoryKeyring keyring = KeyringConfigs\r\n\t        .forGpgExportedKeys(KeyringConfigCallbacks.withPassword(&quot;testing&quot;));\r\n\t    keyring.addSecretKey(pvtKey.getBytes());\r\n\t    keyring.addPublicKey(pubKey.getBytes());\r\n\r\n\t    ByteArrayInputStream cipherTextStream = new ByteArrayInputStream(encFilePath.getBytes());\r\n\r\n\t    final InputStream decryptedInputStream = BouncyGPG.decryptAndVerifyStream()\r\n\t        .withConfig(keyring)\r\n\t        .andRequireSignatureFromAllKeys(&quot;recipent@test.com&quot;)\r\n\t        .fromEncryptedInputStream(cipherTextStream);","title":"GPG decryption using Bouncy Castle","body":"<p>There is a scenario where GPG Encryption is done using Python and Decryption should be done in Java. I have used Bouncy Castle API. I am getting below error. Any help on this is so much appreciated</p>\n<p>Caused by: org.bouncycastle.openpgp.PGPException: Decryption failed - No secret key was found in the key ring matching the public key used to encrypt the file, aborting\nat name.neuhalfen.projects.crypto.bouncycastle.openpgp.decrypting.DecryptionStreamFactory.nextDecryptedStream(DecryptionStreamFactory.java:152)</p>\n<pre><code> final InMemoryKeyring keyring = KeyringConfigs\n        .forGpgExportedKeys(KeyringConfigCallbacks.withPassword(&quot;testing&quot;));\n    keyring.addSecretKey(pvtKey.getBytes());\n    keyring.addPublicKey(pubKey.getBytes());\n\n    ByteArrayInputStream cipherTextStream = new ByteArrayInputStream(encFilePath.getBytes());\n\n    final InputStream decryptedInputStream = BouncyGPG.decryptAndVerifyStream()\n        .withConfig(keyring)\n        .andRequireSignatureFromAllKeys(&quot;recipent@test.com&quot;)\n        .fromEncryptedInputStream(cipherTextStream);\n</code></pre>\n"},{"tags":["java","android","translation","runnable"],"answers":[{"comments":[{"owner":{"account_id":14237857,"reputation":419,"user_id":10285173,"display_name":"Bret Joseph"},"score":0,"creation_date":1664766767,"post_id":73930742,"comment_id":130539313,"body_markdown":"I want the view to be of screen when I first load the app.. when I hide the view after the app start there is a nasty lag","body":"I want the view to be of screen when I first load the app.. when I hide the view after the app start there is a nasty lag"},{"owner":{"account_id":25014512,"reputation":26,"user_id":18873721,"display_name":"Hai Luong"},"score":0,"creation_date":1664780660,"post_id":73930742,"comment_id":130541650,"body_markdown":"@BretJoseph  if you don&#39;t want the view to be visible at first just set its visibility to INVISIBLE or GONE (in your xml file), it won&#39;t show up until you make it visible.","body":"@BretJoseph  if you don&#39;t want the view to be visible at first just set its visibility to INVISIBLE or GONE (in your xml file), it won&#39;t show up until you make it visible."}],"tags":[],"owner":{"account_id":25014512,"reputation":26,"user_id":18873721,"display_name":"Hai Luong"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664766134,"creation_date":1664766134,"answer_id":73930742,"question_id":73928765,"body_markdown":"The view/layout is not inflated yet so you can&#39;t. \r\n\r\nDo you mind if I ask why you want to do it before the widget is shown?","title":"How to set negative translationX before app load","body":"<p>The view/layout is not inflated yet so you can't.</p>\n<p>Do you mind if I ask why you want to do it before the widget is shown?</p>\n"}],"owner":{"account_id":14237857,"reputation":419,"user_id":10285173,"display_name":"Bret Joseph"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664768269,"creation_date":1664739157,"question_id":73928765,"body_markdown":"when I set a view&#39;s translationX whether via XML or programmatically android seems to ignore the code.\r\n\r\nWhen I run view.setTranslationX(-200); it ignores the translation and the app shows the view at 200 instead\r\n\r\nIf I run via post Runnable or overriding onMeasure it can be moved to -200 but it momentarily shows when the app loads. I don&#39;t want it to be seen on app start\r\n\r\nWhat can I do to translate view before widget is shown.\r\n\r\nWhen is the earliest I can set translationX?","title":"How to set negative translationX before app load","body":"<p>when I set a view's translationX whether via XML or programmatically android seems to ignore the code.</p>\n<p>When I run view.setTranslationX(-200); it ignores the translation and the app shows the view at 200 instead</p>\n<p>If I run via post Runnable or overriding onMeasure it can be moved to -200 but it momentarily shows when the app loads. I don't want it to be seen on app start</p>\n<p>What can I do to translate view before widget is shown.</p>\n<p>When is the earliest I can set translationX?</p>\n"},{"tags":["java","jframe","jpanel","jlabel"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1664767203,"post_id":73930809,"comment_id":130539364,"body_markdown":"Since you&#39;ve not provided a [mcve], I would &quot;guess&quot; that `Game#getImg` is returning `void`","body":"Since you&#39;ve not provided a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, I would &quot;guess&quot; that <code>Game#getImg</code> is returning <code>void</code>"},{"owner":{"account_id":24299494,"reputation":1,"user_id":18243211,"display_name":"demodogo"},"score":0,"creation_date":1664767293,"post_id":73930809,"comment_id":130539381,"body_markdown":"@MadProgrammer not really, because I did a system.out.print(game.getImg()) and it printed the url...I&#39;m clearly doing something wrong but I dont know what.","body":"@MadProgrammer not really, because I did a system.out.print(game.getImg()) and it printed the url...I&#39;m clearly doing something wrong but I dont know what."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1664767402,"post_id":73930809,"comment_id":130539398,"body_markdown":"Then, please, post a [mcve] which demonstrates your issue and removes all the ambiguity","body":"Then, please, post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which demonstrates your issue and removes all the ambiguity"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1664767496,"post_id":73930809,"comment_id":130539412,"body_markdown":"`new JLabel().setIcon(...)` &lt;- `setIcon` returns `void`.   Use the constructor variant  instead, [`JLabel(Icon)`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JLabel.html#%3Cinit%3E(javax.swing.Icon))","body":"<code>new JLabel().setIcon(...)</code> &lt;- <code>setIcon</code> returns <code>void</code>.   Use the constructor variant  instead, <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JLabel.html#%3Cinit%3E(javax.swing.Icon)\" rel=\"nofollow noreferrer\"><code>JLabel(Icon)</code></a>"}],"owner":{"account_id":24299494,"reputation":1,"user_id":18243211,"display_name":"demodogo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664767221,"creation_date":1664767053,"question_id":73930809,"body_markdown":"&gt; I&#39;ve been trying to add an array of images to a JPanel and then add\r\n&gt; that JPanel to JFrame. I couldn&#39;t figure it out, so now I made a\r\n&gt; JFrame Form, added a JPanel there and tried to customize the code.\r\n&gt; \r\n&gt; I have a class named Game that only has one attribute called &quot;img&quot;,\r\n&gt; which is a string of the image url; &lt;br/&gt;\r\n&gt; gameArray is an ArrayList of Game where I added the objects. \r\n\r\n&gt; [&quot;mainPanel&quot; is the panel I added in JFrame Form][1] &lt;br/&gt;\r\n[this is the custom code][2] &lt;br/&gt;\r\n[this is the error i&#39;m getting][3]\r\n&gt; \r\n&gt; The objective is: I create many &quot;Game&quot; objects. One of the attributes\r\n&gt; is an img url (String), and I want to display those images in JFrame.\r\n&gt; (Like Steam maybe? or other game stores(if that&#39;s how you say it xD))\r\n&gt; I&#39;m sorry if this is not clear enough. My english is not great hehe.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ea1kC.png\r\n  [2]: https://i.stack.imgur.com/xKNt3.png\r\n  [3]: https://i.stack.imgur.com/RAVm9.png","title":"Cant add images to JPanel","body":"<blockquote>\n<p>I've been trying to add an array of images to a JPanel and then add\nthat JPanel to JFrame. I couldn't figure it out, so now I made a\nJFrame Form, added a JPanel there and tried to customize the code.</p>\n<p>I have a class named Game that only has one attribute called &quot;img&quot;,\nwhich is a string of the image url; <br/>\ngameArray is an ArrayList of Game where I added the objects.</p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://i.stack.imgur.com/ea1kC.png\" rel=\"nofollow noreferrer\">&quot;mainPanel&quot; is the panel I added in JFrame Form</a> <br/>\n<a href=\"https://i.stack.imgur.com/xKNt3.png\" rel=\"nofollow noreferrer\">this is the custom code</a> <br/>\n<a href=\"https://i.stack.imgur.com/RAVm9.png\" rel=\"nofollow noreferrer\">this is the error i'm getting</a></p>\n<p>The objective is: I create many &quot;Game&quot; objects. One of the attributes\nis an img url (String), and I want to display those images in JFrame.\n(Like Steam maybe? or other game stores(if that's how you say it xD))\nI'm sorry if this is not clear enough. My english is not great hehe.</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":16801428,"reputation":920,"user_id":12146581,"display_name":"Mohamad Ghaith Alzin"},"score":0,"creation_date":1664766863,"post_id":73930777,"comment_id":130539323,"body_markdown":"What are you expecting from `args`? Looking at your function now, seems it is not used!!","body":"What are you expecting from <code>args</code>? Looking at your function now, seems it is not used!!"},{"owner":{"display_name":"user20146539"},"score":0,"creation_date":1664767256,"post_id":73930777,"comment_id":130539373,"body_markdown":"Not completely sure what it does, just thought it had to be there.","body":"Not completely sure what it does, just thought it had to be there."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664787380,"post_id":73930777,"comment_id":130543424,"body_markdown":"You say absolutely nothing about how your algorithm is meant to work. Are we meant to guess?","body":"You say absolutely nothing about how your algorithm is meant to work. Are we meant to guess?"}],"owner":{"display_name":"user20146539"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1664766927,"creation_date":1664766584,"question_id":73930777,"body_markdown":"I am trying to create a method that determines the form of an angle (either radians or degrees) and from there, when prompted changes the format that the angle is displayed. The class starts in degrees but I can&#39;t find a way to get it to change to radians based on the input from the simulation class that I made.\r\n\r\n    public static boolean type(String[] args)\r\n    {   \r\n        MyVector vec1 = new MyVector(2,3);\r\n        MyVector vec2 = new MyVector(-1,4);\r\n        if(vec1.angle(vec2) == 47.7263){\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\nThis is what I have so far to determine whether or not the class is operating in degrees or radians but after this, I have no clue what to do. I thought about adding some type of counter to the simulation class to see how many times the method to change the class was run but I am not sure how to do that.","title":"How to change the format of output for an angle","body":"<p>I am trying to create a method that determines the form of an angle (either radians or degrees) and from there, when prompted changes the format that the angle is displayed. The class starts in degrees but I can't find a way to get it to change to radians based on the input from the simulation class that I made.</p>\n<pre><code>public static boolean type(String[] args)\n{   \n    MyVector vec1 = new MyVector(2,3);\n    MyVector vec2 = new MyVector(-1,4);\n    if(vec1.angle(vec2) == 47.7263){\n        return true;\n    } else {\n        return false;\n    }\n}\n</code></pre>\n<p>This is what I have so far to determine whether or not the class is operating in degrees or radians but after this, I have no clue what to do. I thought about adding some type of counter to the simulation class to see how many times the method to change the class was run but I am not sure how to do that.</p>\n"},{"tags":["java","gradle","spotless"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1664195867,"post_id":73796733,"comment_id":130408710,"body_markdown":"Check if this helps: https://github.com/diffplug/spotless/blob/main/PADDEDCELL.md","body":"Check if this helps: <a href=\"https://github.com/diffplug/spotless/blob/main/PADDEDCELL.md\" rel=\"nofollow noreferrer\">github.com/diffplug/spotless/blob/main/PADDEDCELL.md</a>"},{"owner":{"account_id":2141833,"reputation":5558,"user_id":1900290,"accept_rate":59,"display_name":"Rpj"},"score":0,"creation_date":1664196448,"post_id":73796733,"comment_id":130408919,"body_markdown":"I do understand how it works, I have attached my definition above. I want to understand how to go about fixing this","body":"I do understand how it works, I have attached my definition above. I want to understand how to go about fixing this"}],"owner":{"account_id":2141833,"reputation":5558,"user_id":1900290,"accept_rate":59,"display_name":"Rpj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664765762,"creation_date":1663744488,"question_id":73796733,"body_markdown":"**spotlessDiagnose** diverges after 10 steps message, is seen and doesn&#39;t let us modify **importOrder** across all files. How do we resolve this    \r\n\r\n    gradlew spotlessDiagnose\r\n\r\n    &gt; Task :spotlessJavaDiagnose\r\n        src/main/java/com/foo/repository/Foo.java diverges after 10 steps\r\n        src/main/java/com/foo/repository/Bar.java diverges after 10 steps\r\n\r\n\r\nMy definition looks like this\r\n\r\n    spotless {\r\n        java {\r\n            importOrder()\r\n        }   \r\n    }\r\n\r\n","title":"spotlessDiagnose diverges after 10 steps message","body":"<p><strong>spotlessDiagnose</strong> diverges after 10 steps message, is seen and doesn't let us modify <strong>importOrder</strong> across all files. How do we resolve this</p>\n<pre><code>gradlew spotlessDiagnose\n\n&gt; Task :spotlessJavaDiagnose\n    src/main/java/com/foo/repository/Foo.java diverges after 10 steps\n    src/main/java/com/foo/repository/Bar.java diverges after 10 steps\n</code></pre>\n<p>My definition looks like this</p>\n<pre><code>spotless {\n    java {\n        importOrder()\n    }   \n}\n</code></pre>\n"},{"tags":["java","arrays","list","numbers","max"],"comments":[{"owner":{"account_id":14207111,"reputation":332,"user_id":10263321,"display_name":"Aleson"},"score":0,"creation_date":1664762889,"post_id":73930540,"comment_id":130538847,"body_markdown":"hello welcome to stackoverflow, can you show us the code that you have tried and not working?","body":"hello welcome to stackoverflow, can you show us the code that you have tried and not working?"},{"owner":{"account_id":36607,"reputation":101051,"user_id":104458,"accept_rate":91,"display_name":"selbie"},"score":0,"creation_date":1664762994,"post_id":73930540,"comment_id":130538859,"body_markdown":"can you have a local maxima with a list of only 1 or 2 items in it?  Can a local maxima occurr at the beginning or end of the array. for example, if the array is `[1,2,3,4,5]`.  is `5` a local maxima?","body":"can you have a local maxima with a list of only 1 or 2 items in it?  Can a local maxima occurr at the beginning or end of the array. for example, if the array is <code>[1,2,3,4,5]</code>.  is <code>5</code> a local maxima?"},{"owner":{"account_id":26476753,"reputation":1,"user_id":20116535,"display_name":"Bar0n"},"score":0,"creation_date":1664764033,"post_id":73930540,"comment_id":130538982,"body_markdown":"selbie, no 5 would not be a local maxima","body":"selbie, no 5 would not be a local maxima"}],"answers":[{"tags":[],"owner":{"account_id":36607,"reputation":101051,"user_id":104458,"accept_rate":91,"display_name":"selbie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664765471,"creation_date":1664762923,"answer_id":73930565,"question_id":73930540,"body_markdown":"here&#39;s a hint:\r\n\r\n    for (int i = 1; (i+1) &lt; items.length; i++){\r\n        int current = items[i];\r\n        int previous = items[i-1];\r\n        int next = items[i+1];\r\n\r\n        if ((current &gt; previous) &amp;&amp; (current &gt; next)) {\r\n             // i is a local maxima\r\n        }\r\n    }\r\n","title":"How do I write a program which returns the index of the local maximum?","body":"<p>here's a hint:</p>\n<pre><code>for (int i = 1; (i+1) &lt; items.length; i++){\n    int current = items[i];\n    int previous = items[i-1];\n    int next = items[i+1];\n\n    if ((current &gt; previous) &amp;&amp; (current &gt; next)) {\n         // i is a local maxima\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664764256,"creation_date":1664763058,"answer_id":73930576,"question_id":73930540,"body_markdown":"You can loop from index 1 to 2 less than the size of the list, comparing each element with the elements immediately before and after (add or subtract 1 from the current index).\r\n\r\n```java\r\nstatic List&lt;Integer&gt; CheckMaximum(List&lt;Integer&gt; data) {\r\n    if (data == null || data.size() &lt; 2) return List.of(0); // this case is unclear\r\n\tList&lt;Integer&gt; res = new ArrayList&lt;&gt;();\r\n\tfor (int i = 1; i &lt; data.size() - 1; i++)\r\n\t\tif (data.get(i) &gt; data.get(i - 1) &amp;&amp; data.get(i) &gt; data.get(i + 1)) res.add(i);\r\n\treturn res;\r\n}\r\n```","title":"How do I write a program which returns the index of the local maximum?","body":"<p>You can loop from index 1 to 2 less than the size of the list, comparing each element with the elements immediately before and after (add or subtract 1 from the current index).</p>\n<pre class=\"lang-java prettyprint-override\"><code>static List&lt;Integer&gt; CheckMaximum(List&lt;Integer&gt; data) {\n    if (data == null || data.size() &lt; 2) return List.of(0); // this case is unclear\n    List&lt;Integer&gt; res = new ArrayList&lt;&gt;();\n    for (int i = 1; i &lt; data.size() - 1; i++)\n        if (data.get(i) &gt; data.get(i - 1) &amp;&amp; data.get(i) &gt; data.get(i + 1)) res.add(i);\n    return res;\n}\n</code></pre>\n"}],"owner":{"account_id":26476753,"reputation":1,"user_id":20116535,"display_name":"Bar0n"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664765471,"creation_date":1664762610,"question_id":73930540,"body_markdown":"## How do I write a program that takes a list of numbers, then finds the index of the local maxima ##\r\n\r\nI have been trying to write the program but I am not sure how to approach it. The local maximum refers to an integer in the list which is larger than the two adjacent numbers next to it. Examples of what the program does;\r\n\r\n    CheckMaximum(data) \r\n    data = {1,7,1,24,15}\r\n\r\n***data** being an array of at least one integer*\r\n\r\nit would have an output of\r\n\r\n    [1, 3]\r\nbecause the local maximums are 7 and 24, which are in the indexes of 1 and 3 respectively.\r\nIf  the array entered has only one number, it would return a `[0]`\r\n\r\n\r\n ","title":"How do I write a program which returns the index of the local maximum?","body":"<h2>How do I write a program that takes a list of numbers, then finds the index of the local maxima</h2>\n<p>I have been trying to write the program but I am not sure how to approach it. The local maximum refers to an integer in the list which is larger than the two adjacent numbers next to it. Examples of what the program does;</p>\n<pre><code>CheckMaximum(data) \ndata = {1,7,1,24,15}\n</code></pre>\n<p><em><strong>data</strong> being an array of at least one integer</em></p>\n<p>it would have an output of</p>\n<pre><code>[1, 3]\n</code></pre>\n<p>because the local maximums are 7 and 24, which are in the indexes of 1 and 3 respectively.\nIf  the array entered has only one number, it would return a <code>[0]</code></p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1664764857,"post_id":73930670,"comment_id":130539077,"body_markdown":"You answering yourself here: &quot;The whole purpose of the void testRun is to not return any expected value&quot; - You declared the return type as void... What do you expect to happen when you try to assign the return value(`void`) to the `driver` variables?","body":"You answering yourself here: &quot;The whole purpose of the void testRun is to not return any expected value&quot; - You declared the return type as void... What do you expect to happen when you try to assign the return value(<code>void</code>) to the <code>driver</code> variables?"},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1664765183,"post_id":73930670,"comment_id":130539117,"body_markdown":"In resume, what you are doing in `driver=testRun(...)` is the same as doing `boolean flag = &quot;hello&quot;`","body":"In resume, what you are doing in <code>driver=testRun(...)</code> is the same as doing <code>boolean flag = &quot;hello&quot;</code>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1664771951,"post_id":73930670,"comment_id":130540006,"body_markdown":"`driver1= testRun(localList, driver);` should be `testRun(localList, driver);` and so on.   Those `driver1`, `driver2` and `driver3` variables appear to be unnecessary ... and it also looks like you didn&#39;t declare them.","body":"<code>driver1= testRun(localList, driver);</code> should be <code>testRun(localList, driver);</code> and so on.   Those <code>driver1</code>, <code>driver2</code> and <code>driver3</code> variables appear to be unnecessary ... and it also looks like you didn&#39;t declare them."},{"owner":{"account_id":26489868,"reputation":11,"user_id":20127966,"display_name":"Trong Nguyen"},"score":1,"creation_date":1664835935,"post_id":73930670,"comment_id":130557782,"body_markdown":"@aran i see what you mean, perfect example/logic","body":"@aran i see what you mean, perfect example/logic"},{"owner":{"account_id":26489868,"reputation":11,"user_id":20127966,"display_name":"Trong Nguyen"},"score":1,"creation_date":1664835979,"post_id":73930670,"comment_id":130557791,"body_markdown":"@StephenC my apologies, driver1 - 3 is declared in the global variable forgot to added in above\nThank you for the quick responses everyone.","body":"@StephenC my apologies, driver1 - 3 is declared in the global variable forgot to added in above Thank you for the quick responses everyone."},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1664913496,"post_id":73930670,"comment_id":130577537,"body_markdown":"@TrongNguyen no worries, you asked correctly so you&#39;ll always have some help here","body":"@TrongNguyen no worries, you asked correctly so you&#39;ll always have some help here"}],"owner":{"account_id":26489868,"reputation":11,"user_id":20127966,"display_name":"Trong Nguyen"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1664771899,"answer_count":0,"score":0,"last_activity_date":1664764591,"creation_date":1664764591,"question_id":73930670,"body_markdown":"i&#39;am somewhat new to selenuium multithreading and need some pointers as how to approach this case, as I&#39;m currently stumped.\r\n\r\n    public static class MultiThreadingExample extends Thread {\r\n        String browserType;\r\n\t\tList&lt;String&gt; localList;\r\n\t\tString threadName=&quot;&quot;;\r\n\t\t\r\n\t\tpublic MultiThreadingex(String name, String browserType, List&lt;String&gt; localList, String threadName) {\r\n\t\t\tsuper(name);\r\n\t\t\tthis.browserType = browserType;\r\n\t\t\tthis.localList = localList;\r\n\t\t\tthis.threadName=threadName;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\tSystem.out.println(&quot;Thread starts &quot; + Thread.currentThread().getName());\r\n\r\n\t\t\tString threadname = Thread.currentThread().getName();\r\n\r\n\t\t\tSystem.out.println(threadname);\r\n\r\n\t\t\ttry {\r\n\t\t\t\tdriver = setUp(this.browserType, threadName);\r\n\t\t\t\tif (threadname.contains(&quot;thread1&quot;)) {\r\n\t\t\t\t\tdriver1= testRun(localList, driver); //error here\r\n\t\t\t\t}\r\n\t\t\t\tif (threadname.contains(&quot;thread2&quot;))\r\n\t\t\t\t\tdriver2= testRun(localList, driver);\r\n\t\t\t\tif (threadname.contains(&quot;thread3&quot;))\r\n\t\t\t\t\tdriver3= testRun(localList, driver);\r\n\t\t\t\t\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n    public WebDriver setUp(String browserType, String threadName) throws Exception { \r\n    //returns the driver setup if its either firefox, internetEx, chromo (complete)\r\n    }\r\n\r\n    public void testRun(List&lt;String&gt; localList, WebDriver drivers) throws Exception { //error here on the void bit...\r\n    //attempts to find and filter the matching cases (complete)\r\n    }\r\n    }\r\n    \r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n\t\tList&lt;String&gt; globalList = Arrays.stream(listofPRI).collect(Collectors.toList());\r\n\r\n\t\tseleniumTest.divideArrayList(globalList, 3);\r\n\t\tThread t1 = new MultiThreadingex(&quot;Thread Chrome&quot;, &quot;Chrome&quot;, firstList, &quot;thread1&quot;);\r\n\t\tThread t2 = new MultiThreadingex(&quot;Thread Chrome&quot;, &quot;Chrome&quot;, secondList, &quot;thread2&quot;);\r\n\t\tThread t3 = new MultiThreadingex(&quot;Thread Chrome&quot;, &quot;Chrome&quot;, thirdList, &quot;thread3&quot;);\r\n\r\n\t\tSystem.out.println(&quot;starting Threads (3)&quot;);\r\n\r\n\t\tt1.start();\r\n\t\tt2.start();\r\n\t\tt3.start();\r\n\r\n\t\tSystem.out.println(&quot;Thread has started&quot;);\r\n\r\n\t}\r\n\r\nThe whole purpose of the void testRun is to not return any expected value, but to filter and compare from the arraylist if it is matching or not.\r\nHowever, due to &quot;Type mismatch: cannot convert from void to WebDriver&quot; its expecting a return value. Therefore, its expecting the \r\n&quot;public void testRun&quot; to be changed to &quot;public WebDriver testRun&quot;\r\nwith return statement, which would render the WebDriver setup invalid as the find webelement invalid...\r\n\r\nI&#39;ve tried looking into other example/error where the case is similar but the approach is slightly different than what I would expected. other then that, if i were to remove driver1 and have just in the if statement testRun(localList, driver), it&#39;ll run to the point where it failed to find what it needs to find in the setUp method where it is trying to log in via driver.findElement with error as no such element: Unable to locate element.\r\nthe element is there with thread.sleep(10000)....\r\n\r\nany idea or information as to why such case is going sour would be awesome. \r\n","title":"Type mismatch: cannot convert from void to webdriver","body":"<p>i'am somewhat new to selenuium multithreading and need some pointers as how to approach this case, as I'm currently stumped.</p>\n<pre><code>public static class MultiThreadingExample extends Thread {\n    String browserType;\n    List&lt;String&gt; localList;\n    String threadName=&quot;&quot;;\n    \n    public MultiThreadingex(String name, String browserType, List&lt;String&gt; localList, String threadName) {\n        super(name);\n        this.browserType = browserType;\n        this.localList = localList;\n        this.threadName=threadName;\n    }\n\n    @Override\n    public void run() {\n        System.out.println(&quot;Thread starts &quot; + Thread.currentThread().getName());\n\n        String threadname = Thread.currentThread().getName();\n\n        System.out.println(threadname);\n\n        try {\n            driver = setUp(this.browserType, threadName);\n            if (threadname.contains(&quot;thread1&quot;)) {\n                driver1= testRun(localList, driver); //error here\n            }\n            if (threadname.contains(&quot;thread2&quot;))\n                driver2= testRun(localList, driver);\n            if (threadname.contains(&quot;thread3&quot;))\n                driver3= testRun(localList, driver);\n            \n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\npublic WebDriver setUp(String browserType, String threadName) throws Exception { \n//returns the driver setup if its either firefox, internetEx, chromo (complete)\n}\n\npublic void testRun(List&lt;String&gt; localList, WebDriver drivers) throws Exception { //error here on the void bit...\n//attempts to find and filter the matching cases (complete)\n}\n}\n\n\npublic static void main(String[] args) throws InterruptedException {\n    List&lt;String&gt; globalList = Arrays.stream(listofPRI).collect(Collectors.toList());\n\n    seleniumTest.divideArrayList(globalList, 3);\n    Thread t1 = new MultiThreadingex(&quot;Thread Chrome&quot;, &quot;Chrome&quot;, firstList, &quot;thread1&quot;);\n    Thread t2 = new MultiThreadingex(&quot;Thread Chrome&quot;, &quot;Chrome&quot;, secondList, &quot;thread2&quot;);\n    Thread t3 = new MultiThreadingex(&quot;Thread Chrome&quot;, &quot;Chrome&quot;, thirdList, &quot;thread3&quot;);\n\n    System.out.println(&quot;starting Threads (3)&quot;);\n\n    t1.start();\n    t2.start();\n    t3.start();\n\n    System.out.println(&quot;Thread has started&quot;);\n\n}\n</code></pre>\n<p>The whole purpose of the void testRun is to not return any expected value, but to filter and compare from the arraylist if it is matching or not.\nHowever, due to &quot;Type mismatch: cannot convert from void to WebDriver&quot; its expecting a return value. Therefore, its expecting the\n&quot;public void testRun&quot; to be changed to &quot;public WebDriver testRun&quot;\nwith return statement, which would render the WebDriver setup invalid as the find webelement invalid...</p>\n<p>I've tried looking into other example/error where the case is similar but the approach is slightly different than what I would expected. other then that, if i were to remove driver1 and have just in the if statement testRun(localList, driver), it'll run to the point where it failed to find what it needs to find in the setUp method where it is trying to log in via driver.findElement with error as no such element: Unable to locate element.\nthe element is there with thread.sleep(10000)....</p>\n<p>any idea or information as to why such case is going sour would be awesome.</p>\n"},{"tags":["java","spring-boot","arraylist","compare"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":2,"creation_date":1657772971,"post_id":72975174,"comment_id":128891196,"body_markdown":"Hint: You could use a simple `for` loop to go through the list and do an `if` check to see if you take the varue from the first or second list, then simply save that value to a new list that you can use your your final response.","body":"Hint: You could use a simple <code>for</code> loop to go through the list and do an <code>if</code> check to see if you take the varue from the first or second list, then simply save that value to a new list that you can use your your final response."},{"owner":{"account_id":25211896,"reputation":1,"user_id":19049481,"display_name":"Sohit Kumar"},"score":0,"creation_date":1658315804,"post_id":72975174,"comment_id":129019889,"body_markdown":"can you show me with code ? So I can better understand please ?","body":"can you show me with code ? So I can better understand please ?"}],"answers":[{"comments":[{"owner":{"account_id":25211896,"reputation":1,"user_id":19049481,"display_name":"Sohit Kumar"},"score":0,"creation_date":1657824898,"post_id":72975851,"comment_id":128908512,"body_markdown":"Inside tenantMap appId is having only one IndustryId but appId can have multiple industryId so, it&#39;s similar to appIndustries like\nList&lt;AppIndustryDto&gt; tenantAppIndustries = List.of(\n        new AppIndustryDto(&quot;a1&quot;, &quot;i4&quot;));\n        new AppIndustryDto(&quot;a1&quot;, &quot;i2&quot;),\n\nThanks for your answer and also it&#39;s giving error in the .toList()","body":"Inside tenantMap appId is having only one IndustryId but appId can have multiple industryId so, it&#39;s similar to appIndustries like List&lt;AppIndustryDto&gt; tenantAppIndustries = List.of(         new AppIndustryDto(&quot;a1&quot;, &quot;i4&quot;));         new AppIndustryDto(&quot;a1&quot;, &quot;i2&quot;),  Thanks for your answer and also it&#39;s giving error in the .toList()"}],"tags":[],"owner":{"display_name":"user17233545"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664764411,"creation_date":1657778339,"answer_id":72975851,"question_id":72975174,"body_markdown":"Try this.\r\n\r\n\tpublic static void main(String[] args) {\r\n        List&lt;AppIndustryDto&gt; appIndustries = List.of(\r\n        \tnew AppIndustryDto(&quot;a1&quot;, &quot;i1&quot;),\r\n        \tnew AppIndustryDto(&quot;a1&quot;, &quot;i2&quot;),\r\n        \tnew AppIndustryDto(&quot;a2&quot;, &quot;i3&quot;),\r\n        \tnew AppIndustryDto(&quot;a3&quot;, &quot;i1&quot;));\r\n\r\n        List&lt;AppIndustryDto&gt; tenantAppIndustries = List.of(\r\n        \tnew AppIndustryDto(&quot;a1&quot;, &quot;i4&quot;));\r\n\r\n        Map&lt;String, String&gt; tenantMap = tenantAppIndustries.stream()\r\n        \t.collect(Collectors.toMap(a -&gt; a.appId, a -&gt; a.industryId, (a, b) -&gt; a));\r\n        \t// If the appId is duplicated, select the first one.\r\n\r\n        List&lt;String&gt; industries = appIndustries.stream()\r\n        \t.map(a -&gt; tenantMap.getOrDefault(a.appId, a.industryId))\r\n        \t.distinct()\r\n        \t.collect(Collectors.toList());\r\n\r\n        System.out.println(industries);\r\n\t}\r\n\r\noutput:\r\n\r\n    [i4, i3, i1]\r\n","title":"How to Filter List By Comparing between two lists and if an id exist on second list then take the value from second list otherwise first list?","body":"<p>Try this.</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;AppIndustryDto&gt; appIndustries = List.of(\n        new AppIndustryDto(&quot;a1&quot;, &quot;i1&quot;),\n        new AppIndustryDto(&quot;a1&quot;, &quot;i2&quot;),\n        new AppIndustryDto(&quot;a2&quot;, &quot;i3&quot;),\n        new AppIndustryDto(&quot;a3&quot;, &quot;i1&quot;));\n\n    List&lt;AppIndustryDto&gt; tenantAppIndustries = List.of(\n        new AppIndustryDto(&quot;a1&quot;, &quot;i4&quot;));\n\n    Map&lt;String, String&gt; tenantMap = tenantAppIndustries.stream()\n        .collect(Collectors.toMap(a -&gt; a.appId, a -&gt; a.industryId, (a, b) -&gt; a));\n        // If the appId is duplicated, select the first one.\n\n    List&lt;String&gt; industries = appIndustries.stream()\n        .map(a -&gt; tenantMap.getOrDefault(a.appId, a.industryId))\n        .distinct()\n        .collect(Collectors.toList());\n\n    System.out.println(industries);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>[i4, i3, i1]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657781715,"creation_date":1657781715,"answer_id":72976398,"question_id":72975174,"body_markdown":"You can try this \r\n```\r\nList&lt;String&gt; list = appIndustries.stream()\r\n.map(app -&gt; {\r\n  AppIndustryDto dto = tenantAppIndustries.stream()\r\n                              .filter(t -&gt; t.appId.equals(app.appId))\r\n                              .findAny()\r\n                              .orElse(null);\r\n  return dto==null ? app.industryId : dto.industryId ;\r\n})\r\n.distinct()\r\n.collect(Collectors.toList());\r\n\r\n```","title":"How to Filter List By Comparing between two lists and if an id exist on second list then take the value from second list otherwise first list?","body":"<p>You can try this</p>\n<pre><code>List&lt;String&gt; list = appIndustries.stream()\n.map(app -&gt; {\n  AppIndustryDto dto = tenantAppIndustries.stream()\n                              .filter(t -&gt; t.appId.equals(app.appId))\n                              .findAny()\n                              .orElse(null);\n  return dto==null ? app.industryId : dto.industryId ;\n})\n.distinct()\n.collect(Collectors.toList());\n\n</code></pre>\n"}],"owner":{"account_id":25211896,"reputation":1,"user_id":19049481,"display_name":"Sohit Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":804,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1664764411,"creation_date":1657772603,"question_id":72975174,"body_markdown":"I have two list appIndustries and tenantAppIndustries both having List of values: \r\n\r\n  \r\n        \r\n        List&lt;String&gt; industries = new ArrayList&lt;&gt;();\r\n        List&lt;AppIndustryDto&gt; appIndustries ;\r\n        List&lt;AppIndustryDto&gt; tenantAppIndustries ;\r\n    \r\n        public class AppIndustryDto {\r\n        public String appId;\r\n        public String industryId;\r\n       }\r\n    \r\n   Both Lists have data. Inside the appIndustries list I am getting:\r\n\r\n\t  a1 i1\r\n\t  a1 i2\r\n\t  a2 i3\r\n\t  a3 i1\r\n    \r\n   Inside tenantAppIndustries list I am getting:\r\n\r\n\t a1 i4\r\n    \r\n Final Response should be industries list and should have [i1,i3,i4]\r\n\r\n","title":"How to Filter List By Comparing between two lists and if an id exist on second list then take the value from second list otherwise first list?","body":"<p>I have two list appIndustries and tenantAppIndustries both having List of values:</p>\n<pre><code>    List&lt;String&gt; industries = new ArrayList&lt;&gt;();\n    List&lt;AppIndustryDto&gt; appIndustries ;\n    List&lt;AppIndustryDto&gt; tenantAppIndustries ;\n\n    public class AppIndustryDto {\n    public String appId;\n    public String industryId;\n   }\n</code></pre>\n<p>Both Lists have data. Inside the appIndustries list I am getting:</p>\n<pre><code>  a1 i1\n  a1 i2\n  a2 i3\n  a3 i1\n</code></pre>\n<p>Inside tenantAppIndustries list I am getting:</p>\n<pre><code> a1 i4\n</code></pre>\n<p>Final Response should be industries list and should have [i1,i3,i4]</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":23533465,"reputation":15,"user_id":17578737,"display_name":"ramesh"},"score":0,"creation_date":1643380199,"post_id":70895333,"comment_id":125331278,"body_markdown":"I can use Thread. sleep but I don&#39;t want to use it.","body":"I can use Thread. sleep but I don&#39;t want to use it."},{"owner":{"account_id":6946971,"reputation":10284,"user_id":5331061,"accept_rate":75,"display_name":"Gurmanjot Singh"},"score":0,"creation_date":1643380461,"post_id":70895333,"comment_id":125331392,"body_markdown":"Try using [`textMatches`](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#textMatches(org.openqa.selenium.By,java.util.regex.Pattern)) with Explicit wait. match with empty/blank string","body":"Try using <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#textMatches(org.openqa.selenium.By,java.util.regex.Pattern)\" rel=\"nofollow noreferrer\"><code>textMatches</code></a> with Explicit wait. match with empty/blank string"},{"owner":{"account_id":23533465,"reputation":15,"user_id":17578737,"display_name":"ramesh"},"score":0,"creation_date":1643381855,"post_id":70895333,"comment_id":125332000,"body_markdown":"used wait.until(ExpectedConditions.textToBePresentInElement(webelement, &quot;&quot;)); but still issue is same.","body":"used wait.until(ExpectedConditions.textToBePresentInElement(webel&zwnj;&#8203;ement, &quot;&quot;)); but still issue is same."},{"owner":{"account_id":6946971,"reputation":10284,"user_id":5331061,"accept_rate":75,"display_name":"Gurmanjot Singh"},"score":0,"creation_date":1643382543,"post_id":70895333,"comment_id":125332323,"body_markdown":"try using textMatches as suggested","body":"try using textMatches as suggested"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1643612506,"post_id":70895333,"comment_id":125377119,"body_markdown":"Any of `org.openqa.selenium.support.ui.ExpectedConditions` has to be false at the moment of call otherwise it will throw `org.openqa.selenium.TimeoutException`.","body":"Any of <code>org.openqa.selenium.support.ui.ExpectedConditions</code> has to be false at the moment of call otherwise it will throw <code>org.openqa.selenium.TimeoutException</code>."}],"answers":[{"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643613178,"creation_date":1643613178,"answer_id":70922323,"question_id":70895333,"body_markdown":"try this:\r\n\r\n\tpublic static Boolean textMatchTest(WebDriver driver, By locator, String expectedText) {\r\n\t\tBoolean textMatch = null;\r\n\t\tWebElement element = driver.findElement(locator);\r\n\t\tif (element.getText().equals(expectedText)) {\r\n\t\t\ttextMatch = true;\r\n\t\t}\r\n\t\telse {\r\n\t\t\ttry {\r\n\t\t\t\tnew WebDriverWait(driver, 10).until(textToBe(locator, expectedText));\r\n\t\t\t\ttextMatch = true;\r\n\t\t\t}\r\n\t\t\tcatch (TimeoutException timeoutException) {\r\n\t\t\t\ttextMatch = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn textMatch;\r\n\t}","title":"How to wait until text box is empty selenium java?","body":"<p>try this:</p>\n<pre><code>public static Boolean textMatchTest(WebDriver driver, By locator, String expectedText) {\n    Boolean textMatch = null;\n    WebElement element = driver.findElement(locator);\n    if (element.getText().equals(expectedText)) {\n        textMatch = true;\n    }\n    else {\n        try {\n            new WebDriverWait(driver, 10).until(textToBe(locator, expectedText));\n            textMatch = true;\n        }\n        catch (TimeoutException timeoutException) {\n            textMatch = false;\n        }\n    }\n    return textMatch;\n}\n</code></pre>\n"}],"owner":{"account_id":23533465,"reputation":15,"user_id":17578737,"display_name":"ramesh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":871,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1664764315,"creation_date":1643380020,"question_id":70895333,"body_markdown":"My scenario is\r\n1. enter the value in the text box.\r\n2. click on the clear button.\r\n3. wait until the text box is clear.","title":"How to wait until text box is empty selenium java?","body":"<p>My scenario is</p>\n<ol>\n<li>enter the value in the text box.</li>\n<li>click on the clear button.</li>\n<li>wait until the text box is clear.</li>\n</ol>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":1,"creation_date":1664721272,"post_id":73926610,"comment_id":130531877,"body_markdown":"Read an entire line of input and then use `String.split`.  Much simpler.","body":"Read an entire line of input and then use <code>String.split</code>.  Much simpler."},{"owner":{"account_id":23388162,"reputation":5,"user_id":17505578,"display_name":"qwertyboi"},"score":0,"creation_date":1664721407,"post_id":73926610,"comment_id":130531897,"body_markdown":"@JeffHolt Unfortunately, I am required to produce the error prompt whenever a user inputs a keyword that is more than one word or none at all.","body":"@JeffHolt Unfortunately, I am required to produce the error prompt whenever a user inputs a keyword that is more than one word or none at all."},{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":0,"creation_date":1664724634,"post_id":73926610,"comment_id":130532569,"body_markdown":"What would stop you from interrogating the size of the array produced by `String.split`?","body":"What would stop you from interrogating the size of the array produced by <code>String.split</code>?"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1664741891,"post_id":73926610,"comment_id":130536189,"body_markdown":"I agree with @JeffHolt - read a line, split into words (split by whitespace), give an error if there is more than one word.  Simple, and addresses the requirements. directly.","body":"I agree with @JeffHolt - read a line, split into words (split by whitespace), give an error if there is more than one word.  Simple, and addresses the requirements. directly."}],"answers":[{"comments":[{"owner":{"account_id":23388162,"reputation":5,"user_id":17505578,"display_name":"qwertyboi"},"score":0,"creation_date":1664722085,"post_id":73926699,"comment_id":130532031,"body_markdown":"I don&#39;t think this would fix my problem as I only need one word keyword as user input. Anything less or more than that should produce an Exception that will be caught by the catch block.","body":"I don&#39;t think this would fix my problem as I only need one word keyword as user input. Anything less or more than that should produce an Exception that will be caught by the catch block."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1664723579,"post_id":73926699,"comment_id":130532345,"body_markdown":"@qwertyboi Check edit for the method which throws required exception. Btw the first approach can also achieve the same, you need to check the resulting array length, and handle it appropriately, as a bonus there is no need to catch exceptions.","body":"@qwertyboi Check edit for the method which throws required exception. Btw the first approach can also achieve the same, you need to check the resulting array length, and handle it appropriately, as a bonus there is no need to catch exceptions."},{"owner":{"account_id":23388162,"reputation":5,"user_id":17505578,"display_name":"qwertyboi"},"score":0,"creation_date":1664724208,"post_id":73926699,"comment_id":130532471,"body_markdown":"I tried the regex(if I&#39;m not mistaken) string pattern you provided. now it just produces the error prompt even if I enter a single word input","body":"I tried the regex(if I&#39;m not mistaken) string pattern you provided. now it just produces the error prompt even if I enter a single word input"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1664724909,"post_id":73926699,"comment_id":130532642,"body_markdown":"Most probably you have some leftover previous inputs, which have not been read by the scanner, in this case the pattern won&#39;t match. You can validate the regex in any tool you prefer, it certainly works for single line consisting only of letters. I prefer [https://regexr.com/](https://regexr.com/), [https://regex101.com/](https://regex101.com/) is also good, or something else.","body":"Most probably you have some leftover previous inputs, which have not been read by the scanner, in this case the pattern won&#39;t match. You can validate the regex in any tool you prefer, it certainly works for single line consisting only of letters. I prefer <a href=\"https://regexr.com/\" rel=\"nofollow noreferrer\">https://regexr.com/</a>, <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">https://regex101.com/</a> is also good, or something else."}],"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664723336,"creation_date":1664721552,"answer_id":73926699,"question_id":73926610,"body_markdown":"From the docs of [Scanner.next()][1]:\r\n\r\n&gt; Finds and returns the next complete token from this scanner. A complete token is preceded and followed by input that matches the delimiter pattern. \r\n\r\nYou would need to call `next()` again to get the the rest of the input.\r\n\r\nMuch simpler would be to use [Scanner.nextLine()][2] to get entire line and then use [String.split()][3] with whatever delimiter you are using to get an array of all inputted keywords.\r\n\r\n**Edit:** [Scanner.next(pattern)][4] may do what you are looking for. It throws `InputMismatchException` if the input does not match provided pattern(regex). Example:\r\n```\r\nscanner.next(&quot;^[a-zA-Z]+$&quot;)\r\n```\r\nThis requires the entire line to consist of lower and/or upper case letters and nothing else.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#next()\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextLine()\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String)\r\n  [4]: https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#next(java.lang.String)","title":"How to ask user for ONLY one word string input and produce error prompt in a try-catch block","body":"<p>From the docs of <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#next()\" rel=\"nofollow noreferrer\">Scanner.next()</a>:</p>\n<blockquote>\n<p>Finds and returns the next complete token from this scanner. A complete token is preceded and followed by input that matches the delimiter pattern.</p>\n</blockquote>\n<p>You would need to call <code>next()</code> again to get the the rest of the input.</p>\n<p>Much simpler would be to use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextLine()\" rel=\"nofollow noreferrer\">Scanner.nextLine()</a> to get entire line and then use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\">String.split()</a> with whatever delimiter you are using to get an array of all inputted keywords.</p>\n<p><strong>Edit:</strong> <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#next(java.lang.String)\" rel=\"nofollow noreferrer\">Scanner.next(pattern)</a> may do what you are looking for. It throws <code>InputMismatchException</code> if the input does not match provided pattern(regex). Example:</p>\n<pre><code>scanner.next(&quot;^[a-zA-Z]+$&quot;)\n</code></pre>\n<p>This requires the entire line to consist of lower and/or upper case letters and nothing else.</p>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664723975,"creation_date":1664723975,"answer_id":73927004,"question_id":73926610,"body_markdown":"Use **Scanner.nextLine()** then split the supplied string. If the length of array is greater than 1 or the supplied string is empty then issue an invalid entry message and have the User enter the string over again:\r\n\r\n    while(tries2 == 0) {\r\n        searchKeyword  = &quot;&quot;;\r\n        while (searchKeyword.isEmpty()) {\r\n            System.out.println(&quot;Enter 1 keyword: &quot;);\r\n            searchKeyword = sc.nextLine().trim();\r\n            if (searchKeyword.isEmpty() || searchKeyword.split(&quot;\\\\s+&quot;).length &gt; 1) {\r\n                System.out.println(&quot;Invalid Entry! {&quot; + searchKeyword \r\n                                 + &quot;You must supply a single Key Word!&quot;);\r\n                searchKeyword = &quot;&quot;;\r\n            }\r\n        }\r\n        tries2++;\r\n        // ... The rest of your code ...\r\n    }\r\n","title":"How to ask user for ONLY one word string input and produce error prompt in a try-catch block","body":"<p>Use <strong>Scanner.nextLine()</strong> then split the supplied string. If the length of array is greater than 1 or the supplied string is empty then issue an invalid entry message and have the User enter the string over again:</p>\n<pre><code>while(tries2 == 0) {\n    searchKeyword  = &quot;&quot;;\n    while (searchKeyword.isEmpty()) {\n        System.out.println(&quot;Enter 1 keyword: &quot;);\n        searchKeyword = sc.nextLine().trim();\n        if (searchKeyword.isEmpty() || searchKeyword.split(&quot;\\\\s+&quot;).length &gt; 1) {\n            System.out.println(&quot;Invalid Entry! {&quot; + searchKeyword \n                             + &quot;You must supply a single Key Word!&quot;);\n            searchKeyword = &quot;&quot;;\n        }\n    }\n    tries2++;\n    // ... The rest of your code ...\n}\n</code></pre>\n"}],"owner":{"account_id":23388162,"reputation":5,"user_id":17505578,"display_name":"qwertyboi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73927004,"answer_count":2,"score":0,"last_activity_date":1664763822,"creation_date":1664720853,"question_id":73926610,"body_markdown":"EDIT: I figured it out! I got rid of the try-catch block because it just didn&#39;t work the way I wanted it to. The code below is my final one. Thank you to everyone who responded to this question.\r\n\r\nI am trying to code a to-do list program. One function of this program is to search for the entries inside the string array. The user should only input a ONE WORD keyword so if the user inputs more than one word or none, a prompt should show telling the user to try again. The code I&#39;ve written so far is inside a try-catch statement. Using next() scanner only takes the first word and disregards the rest when inputting a multiple-word keyword, instead of producing an Exception. Here is my code for it:\r\n\r\n```\r\ncase 2:\r\n\t\t\t\t\tString searchKeyword;\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tint success = 0;\r\n\t\t\t\t\t\r\n\t\t\t\t\twhile(success==0) {\r\n\t\t\t\t\t\tSystem.out.print(&quot;&gt;&gt; Enter 1 keyword: &quot;);\r\n\t\t\t\t\t\tsearchKeyword = sc.nextLine();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tString splitSearchKeyword[] = searchKeyword.split(&quot; &quot;);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (splitSearchKeyword.length == 1) {\r\n\t\t\t\t\t\t\tif(Quinones_Exer2.searchToDoList(searchKeyword, todoList)==-1) {\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;&gt;&gt; No item found with that keyword!&quot;);\r\n\t\t\t\t\t\t\t\tSystem.out.println();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;&gt;&gt; Found one item!&quot;);\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;(&quot;+(Quinones_Exer2.searchToDoList(searchKeyword, todoList)+1)+&quot;)&quot;+&quot; &quot;+todoList[Quinones_Exer2.searchToDoList(searchKeyword, todoList)]);\r\n\t\t\t\t\t\t\t\tSystem.out.println();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tsuccess++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;&gt;&gt; Please input a single word keyword!&quot;);\r\n\t\t\t\t\t\t\tSystem.out.println();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}```\r\n\r\n","title":"How to ask user for ONLY one word string input and produce error prompt in a try-catch block","body":"<p>EDIT: I figured it out! I got rid of the try-catch block because it just didn't work the way I wanted it to. The code below is my final one. Thank you to everyone who responded to this question.</p>\n<p>I am trying to code a to-do list program. One function of this program is to search for the entries inside the string array. The user should only input a ONE WORD keyword so if the user inputs more than one word or none, a prompt should show telling the user to try again. The code I've written so far is inside a try-catch statement. Using next() scanner only takes the first word and disregards the rest when inputting a multiple-word keyword, instead of producing an Exception. Here is my code for it:</p>\n<pre><code>case 2:\n                    String searchKeyword;\n                    \n                    \n                    int success = 0;\n                    \n                    while(success==0) {\n                        System.out.print(&quot;&gt;&gt; Enter 1 keyword: &quot;);\n                        searchKeyword = sc.nextLine();\n                        \n                        String splitSearchKeyword[] = searchKeyword.split(&quot; &quot;);\n                        \n                        if (splitSearchKeyword.length == 1) {\n                            if(Quinones_Exer2.searchToDoList(searchKeyword, todoList)==-1) {\n                                System.out.println(&quot;&gt;&gt; No item found with that keyword!&quot;);\n                                System.out.println();\n                            }\n                            else {\n                                System.out.println(&quot;&gt;&gt; Found one item!&quot;);\n                                System.out.println(&quot;(&quot;+(Quinones_Exer2.searchToDoList(searchKeyword, todoList)+1)+&quot;)&quot;+&quot; &quot;+todoList[Quinones_Exer2.searchToDoList(searchKeyword, todoList)]);\n                                System.out.println();\n                            }\n                            success++;\n                        }\n                        else {\n                            System.out.println(&quot;&gt;&gt; Please input a single word keyword!&quot;);\n                            System.out.println();\n                        }\n                    }\n                    break;\n            }```\n\n</code></pre>\n"},{"tags":["java","maven","hdrhistogram"],"answers":[{"tags":[],"owner":{"account_id":11389854,"reputation":6032,"user_id":8370915,"display_name":"invzbl3"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664763322,"creation_date":1664763322,"answer_id":73930585,"question_id":73779298,"body_markdown":"I&#39;ve tried to reproduce the issue, but on `Windows`:\r\n\r\n    [ERROR] Failed to execute goal org.apache.felix:maven-bundle-plugin:4.2.1:bundle (default-bundle) on project HdrHistogram: Internal error in maven-bundle-plugin: ConcurrentModificationException -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.felix:maven-bundle-plugin:4.2.1:bundle (default-bundle) on project HdrHistogram: Internal error in maven-bundle-plugin\r\n\r\nwith the same [Java][1] &amp; [Maven][2] versions as you mentioned:\r\n\r\n    E:\\IdeaProject\\HdrHistogram&gt;mvn --version\r\n    Apache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\r\n    Maven home: C:\\Program Files\\apache-maven-3.8.6\r\n    Java version: 1.8.0_322, vendor: Amazon.com Inc., runtime: C:\\Program Files\\Java\\jdk1.8.0_322\\jre\r\n    Default locale: en_US, platform encoding: Cp1251\r\n    OS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n    \r\n    E:\\IdeaProject\\HdrHistogram&gt;java -version\r\n    openjdk version &quot;1.8.0_322&quot;\r\n    OpenJDK Runtime Environment Corretto-8.322.06.1 (build 1.8.0_322-b06)\r\n    OpenJDK 64-Bit Server VM Corretto-8.322.06.1 (build 25.322-b06, mixed mode)\r\n    \r\nbut I&#39;m getting `&#39;Build success&#39;` in the output:\r\n\r\n    E:\\IdeaProject\\HdrHistogram&gt;mvn clean install -DskipTests\r\n    [INFO] Scanning for projects...\r\n    [INFO] Inspecting build with total of 1 modules...\r\n    [INFO] Installing Nexus Staging features:\r\n    [INFO]   ... total of 1 executions of maven-deploy-plugin replaced with nexus-staging-maven-plugin\r\n    [INFO]\r\n    [INFO] -------------------&lt; org.hdrhistogram:HdrHistogram &gt;--------------------\r\n    [INFO] Building HdrHistogram 2.1.13-SNAPSHOT\r\n    [INFO] -------------------------------[ bundle ]-------------------------------\r\n    [INFO]\r\n    [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ HdrHistogram ---\r\n    [INFO] Deleting E:\\IdeaProject\\HdrHistogram\\target\r\n    [INFO]\r\n    [INFO] --- maven-replacer-plugin:1.4.0:replace (default) @ HdrHistogram ---\r\n    [INFO] Replacement run on 1 file.\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:3.3.0:resources (default-resources) @ HdrHistogram ---\r\n    [INFO] skip non existing resourceDirectory E:\\IdeaProject\\HdrHistogram\\src\\main\\resources\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.8.0:compile (default-compile) @ HdrHistogram ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 54 source files to E:\\IdeaProject\\HdrHistogram\\target\\classes\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:3.3.0:testResources (default-testResources) @ HdrHistogram ---\r\n    [INFO] Copying 5 resources\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.8.0:testCompile (default-testCompile) @ HdrHistogram ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO]\r\n    [INFO] --- maven-surefire-plugin:3.0.0-M5:test (default-test) @ HdrHistogram ---\r\n    [INFO] Tests are skipped.\r\n    [INFO]\r\n    [INFO] --- maven-bundle-plugin:4.2.1:bundle (default-bundle) @ HdrHistogram ---\r\n    [INFO]\r\n    [INFO] --- maven-javadoc-plugin:3.3.1:jar (attach-javadocs) @ HdrHistogram ---\r\n    [WARNING]\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\Base64Helper.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\ConcurrentDoubleHistogram.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\ConcurrentHistogram.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\DoubleAllValuesIterator.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\DoubleHistogram.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\EncodableHistogram.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\Histogram.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\HistogramLogWriter.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\IntCountsHistogram.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\IntervalHistogramProvider.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\LinearIterator.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\LogarithmicIterator.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\package-info.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\packedarray\\AbstractPackedArrayContext.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\packedarray\\ConcurrentPackedLongArray.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\packedarray\\PackedLongArray.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\packedarray\\ResizeException.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\PackedConcurrentDoubleHistogram.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\PackedConcurrentHistogram.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\PackedDoubleHistogram.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\PackedHistogram.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\PercentileIterator.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\RecordedValuesIterator.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\Recorder.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\ShortCountsHistogram.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\SingleWriterDoubleRecorder.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\SingleWriterRecorder.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\SynchronizedDoubleHistogram.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\SynchronizedHistogram.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\ValueRecorder.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\Version.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\WriterReaderPhaser.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\ZigZagEncoding.java...\r\n    Loading source files for package org.HdrHistogram...\r\n    Loading source files for package org.HdrHistogram.packedarray...\r\n    Constructing Javadoc information...\r\n    Standard Doclet version 1.8.0_322\r\n    Building tree for all the packages and classes...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\AbstractHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\AbstractHistogram.AllValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\AbstractHistogram.LinearBucketValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\AbstractHistogram.LogarithmicBucketValues.html...\r\n    Generating \r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\AllValuesIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\AtomicHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\ConcurrentDoubleHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\ConcurrentHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleAllValuesIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleHistogram.AllValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleHistogram.LinearBucketValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleHistogram.LogarithmicBucketValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleHistogram.Percentiles.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleHistogram.RecordedValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleHistogramIterationValue.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleLinearIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleLogarithmicIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoublePercentileIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleRecordedValuesIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleValueRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\EncodableHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\Histogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\HistogramIterationValue.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\HistogramLogProcessor.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\HistogramLogReader.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\HistogramLogScanner.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\HistogramLogScanner.EncodableHistogramSupplier.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\HistogramLogScanner.EventHandler.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\HistogramLogWriter.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\IntCountsHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\IntervalHistogramProvider.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\LinearIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\LogarithmicIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\PackedConcurrentDoubleHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\PackedConcurrentHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\PackedDoubleHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\PackedHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\PercentileIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\RecordedValuesIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\Recorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\ShortCountsHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\SingleWriterDoubleRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\SingleWriterRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\SynchronizedDoubleHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\SynchronizedHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\ValueRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\WriterReaderPhaser.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\ConcurrentPackedLongArray.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\IterationValue.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\PackedArrayRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\PackedArraySingleWriterRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\PackedLongArray.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\overview-frame.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\package-frame.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\package-summary.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\package-tree.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\package-frame.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\package-summary.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\package-tree.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\constant-values.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\serialized-form.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.Percentiles.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.LinearBucketValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.LogarithmicBucketValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.RecordedValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.AllValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AllValuesIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AtomicHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\ConcurrentDoubleHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\ConcurrentHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleAllValuesIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.Percentiles.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.LinearBucketValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.LogarithmicBucketValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.RecordedValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.AllValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogramIterationValue.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleLinearIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleLogarithmicIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoublePercentileIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleRecordedValuesIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleValueRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\EncodableHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\Histogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramIterationValue.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogProcessor.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogReader.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogScanner.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogScanner.EncodableHistogramSupplier.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogScanner.EventHandler.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogWriter.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\IntCountsHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\IntervalHistogramProvider.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\LinearIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\LogarithmicIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\class-use\\ConcurrentPackedLongArray.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\class-use\\IterationValue.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\class-use\\PackedArrayRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\class-use\\PackedArraySingleWriterRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\class-use\\PackedLongArray.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PackedConcurrentDoubleHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PackedConcurrentHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PackedDoubleHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PackedHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PercentileIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\RecordedValuesIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\Recorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\ShortCountsHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\SingleWriterDoubleRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\SingleWriterRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\SynchronizedDoubleHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\SynchronizedHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\ValueRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\WriterReaderPhaser.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\WriterReaderPhaser.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\ValueRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\SynchronizedHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\SynchronizedDoubleHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\SingleWriterRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\SingleWriterDoubleRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\ShortCountsHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\Recorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\RecordedValuesIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PercentileIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PackedHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PackedDoubleHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PackedConcurrentHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PackedConcurrentDoubleHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\LogarithmicIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\LinearIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\IntervalHistogramProvider.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\IntCountsHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogWriter.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogScanner.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogScanner.EncodableHistogramSupplier.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogScanner.EventHandler.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogReader.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogProcessor.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramIterationValue.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\Histogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\EncodableHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleValueRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleRecordedValuesIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoublePercentileIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleLogarithmicIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleLinearIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogramIterationValue.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.Percentiles.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.LinearBucketValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.LogarithmicBucketValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.RecordedValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.AllValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleAllValuesIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\ConcurrentHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AtomicHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.Percentiles.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.LinearBucketValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.LogarithmicBucketValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.RecordedValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\class-use\\IterationValue.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\class-use\\ConcurrentPackedLongArray.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\package-use.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\package-use.html...\r\n    Building index for all the packages and classes...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\overview-tree.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\index-all.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\deprecated-list.html...\r\n    Building index for all classes...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\allclasses-frame.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\allclasses-noframe.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\index.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\overview-summary.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\help-doc.html...\r\n    [INFO] Building jar: E:\\IdeaProject\\HdrHistogram\\target\\HdrHistogram-2.1.13-SNAPSHOT-javadoc.jar\r\n    [INFO]\r\n    [INFO] --- maven-source-plugin:3.2.1:jar-no-fork (attach-sources) @ HdrHistogram ---\r\n    [INFO] Building jar: E:\\IdeaProject\\HdrHistogram\\target\\HdrHistogram-2.1.13-SNAPSHOT-sources.jar\r\n    [INFO]\r\n    [INFO] --- maven-dependency-plugin:2.8:copy (copy-installed) @ HdrHistogram ---\r\n    [INFO] Configured Artifact: org.hdrhistogram:HdrHistogram:2.1.13-SNAPSHOT:bundle\r\n    [INFO] Copying HdrHistogram-2.1.13-SNAPSHOT.jar to E:\\IdeaProject\\HdrHistogram\\HdrHistogram.jar\r\n    [INFO]\r\n    [INFO] --- maven-install-plugin:3.0.1:install (default-install) @ HdrHistogram ---\r\n    [INFO] Installing E:\\IdeaProject\\HdrHistogram\\pom.xml to C:\\Users\\invzbl3\\.m2\\repository\\org\\hdrhistogram\\HdrHistogram\\2.1.13-SNAPSHOT\\HdrHistogram-2.1.13-SNAPSHOT.pom\r\n    [INFO] Installing E:\\IdeaProject\\HdrHistogram\\target\\HdrHistogram-2.1.13-SNAPSHOT.jar to C:\\Users\\invzbl3\\.m2\\repository\\org\\hdrhistogram\\HdrHistogram\\2.1.13-SNAPSHOT\\HdrHistogram-2.1.13-SNAPSHOT.jar\r\n    [INFO] Installing E:\\IdeaProject\\HdrHistogram\\target\\HdrHistogram-2.1.13-SNAPSHOT-javadoc.jar to C:\\Users\\invzbl3\\.m2\\repository\\org\\hdrhistogram\\HdrHistogram\\2.1.13-SNAPSHOT\\HdrHistogram-2.1.13-SNAPSHOT-javadoc.jar\r\n    [INFO] Installing E:\\IdeaProject\\HdrHistogram\\target\\HdrHistogram-2.1.13-SNAPSHOT-sources.jar to C:\\Users\\invzbl3\\.m2\\repository\\org\\hdrhistogram\\HdrHistogram\\2.1.13-SNAPSHOT\\HdrHistogram-2.1.13-SNAPSHOT-sources.jar\r\n    [INFO]\r\n    [INFO] --- maven-bundle-plugin:4.2.1:install (default-install) @ HdrHistogram ---\r\n    [INFO] Installing org/hdrhistogram/HdrHistogram/2.1.13-SNAPSHOT/HdrHistogram-2.1.13-SNAPSHOT.jar\r\n    [INFO] Writing OBR metadata\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  20.792 s\r\n    [INFO] Finished at: 2022-10-03T03:58:19+02:00\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\n  [1]: https://github.com/corretto/corretto-8/releases/tag/8.322.06.1\r\n  [2]: https://maven.apache.org/download.cgi\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Failed to execute goal org.apache.felix:maven-bundle-plugin:4.2.1:bundle (default-bundle) on project HdrHistogram","body":"<p>I've tried to reproduce the issue, but on <code>Windows</code>:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.felix:maven-bundle-plugin:4.2.1:bundle (default-bundle) on project HdrHistogram: Internal error in maven-bundle-plugin: ConcurrentModificationException -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.felix:maven-bundle-plugin:4.2.1:bundle (default-bundle) on project HdrHistogram: Internal error in maven-bundle-plugin\n</code></pre>\n<p>with the same <a href=\"https://github.com/corretto/corretto-8/releases/tag/8.322.06.1\" rel=\"nofollow noreferrer\">Java</a> &amp; <a href=\"https://maven.apache.org/download.cgi\" rel=\"nofollow noreferrer\">Maven</a> versions as you mentioned:</p>\n<pre><code>E:\\IdeaProject\\HdrHistogram&gt;mvn --version\nApache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\nMaven home: C:\\Program Files\\apache-maven-3.8.6\nJava version: 1.8.0_322, vendor: Amazon.com Inc., runtime: C:\\Program Files\\Java\\jdk1.8.0_322\\jre\nDefault locale: en_US, platform encoding: Cp1251\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n\nE:\\IdeaProject\\HdrHistogram&gt;java -version\nopenjdk version &quot;1.8.0_322&quot;\nOpenJDK Runtime Environment Corretto-8.322.06.1 (build 1.8.0_322-b06)\nOpenJDK 64-Bit Server VM Corretto-8.322.06.1 (build 25.322-b06, mixed mode)\n</code></pre>\n<p>but I'm getting <code>'Build success'</code> in the output:</p>\n<pre><code>E:\\IdeaProject\\HdrHistogram&gt;mvn clean install -DskipTests\n[INFO] Scanning for projects...\n[INFO] Inspecting build with total of 1 modules...\n[INFO] Installing Nexus Staging features:\n[INFO]   ... total of 1 executions of maven-deploy-plugin replaced with nexus-staging-maven-plugin\n[INFO]\n[INFO] -------------------&lt; org.hdrhistogram:HdrHistogram &gt;--------------------\n[INFO] Building HdrHistogram 2.1.13-SNAPSHOT\n[INFO] -------------------------------[ bundle ]-------------------------------\n[INFO]\n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ HdrHistogram ---\n[INFO] Deleting E:\\IdeaProject\\HdrHistogram\\target\n[INFO]\n[INFO] --- maven-replacer-plugin:1.4.0:replace (default) @ HdrHistogram ---\n[INFO] Replacement run on 1 file.\n[INFO]\n[INFO] --- maven-resources-plugin:3.3.0:resources (default-resources) @ HdrHistogram ---\n[INFO] skip non existing resourceDirectory E:\\IdeaProject\\HdrHistogram\\src\\main\\resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.8.0:compile (default-compile) @ HdrHistogram ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 54 source files to E:\\IdeaProject\\HdrHistogram\\target\\classes\n[INFO]\n[INFO] --- maven-resources-plugin:3.3.0:testResources (default-testResources) @ HdrHistogram ---\n[INFO] Copying 5 resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.8.0:testCompile (default-testCompile) @ HdrHistogram ---\n[INFO] Changes detected - recompiling the module!\n[INFO]\n[INFO] --- maven-surefire-plugin:3.0.0-M5:test (default-test) @ HdrHistogram ---\n[INFO] Tests are skipped.\n[INFO]\n[INFO] --- maven-bundle-plugin:4.2.1:bundle (default-bundle) @ HdrHistogram ---\n[INFO]\n[INFO] --- maven-javadoc-plugin:3.3.1:jar (attach-javadocs) @ HdrHistogram ---\n[WARNING]\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\Base64Helper.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\ConcurrentDoubleHistogram.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\ConcurrentHistogram.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\DoubleAllValuesIterator.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\DoubleHistogram.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\EncodableHistogram.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\Histogram.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\HistogramLogWriter.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\IntCountsHistogram.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\IntervalHistogramProvider.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\LinearIterator.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\LogarithmicIterator.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\package-info.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\packedarray\\AbstractPackedArrayContext.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\packedarray\\ConcurrentPackedLongArray.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\packedarray\\PackedLongArray.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\packedarray\\ResizeException.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\PackedConcurrentDoubleHistogram.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\PackedConcurrentHistogram.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\PackedDoubleHistogram.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\PackedHistogram.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\PercentileIterator.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\RecordedValuesIterator.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\Recorder.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\ShortCountsHistogram.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\SingleWriterDoubleRecorder.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\SingleWriterRecorder.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\SynchronizedDoubleHistogram.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\SynchronizedHistogram.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\ValueRecorder.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\Version.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\WriterReaderPhaser.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\ZigZagEncoding.java...\nLoading source files for package org.HdrHistogram...\nLoading source files for package org.HdrHistogram.packedarray...\nConstructing Javadoc information...\nStandard Doclet version 1.8.0_322\nBuilding tree for all the packages and classes...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\AbstractHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\AbstractHistogram.AllValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\AbstractHistogram.LinearBucketValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\AbstractHistogram.LogarithmicBucketValues.html...\nGenerating \nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\AllValuesIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\AtomicHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\ConcurrentDoubleHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\ConcurrentHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleAllValuesIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleHistogram.AllValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleHistogram.LinearBucketValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleHistogram.LogarithmicBucketValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleHistogram.Percentiles.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleHistogram.RecordedValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleHistogramIterationValue.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleLinearIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleLogarithmicIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoublePercentileIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleRecordedValuesIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleValueRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\EncodableHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\Histogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\HistogramIterationValue.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\HistogramLogProcessor.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\HistogramLogReader.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\HistogramLogScanner.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\HistogramLogScanner.EncodableHistogramSupplier.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\HistogramLogScanner.EventHandler.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\HistogramLogWriter.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\IntCountsHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\IntervalHistogramProvider.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\LinearIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\LogarithmicIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\PackedConcurrentDoubleHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\PackedConcurrentHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\PackedDoubleHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\PackedHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\PercentileIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\RecordedValuesIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\Recorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\ShortCountsHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\SingleWriterDoubleRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\SingleWriterRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\SynchronizedDoubleHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\SynchronizedHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\ValueRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\WriterReaderPhaser.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\ConcurrentPackedLongArray.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\IterationValue.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\PackedArrayRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\PackedArraySingleWriterRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\PackedLongArray.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\overview-frame.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\package-frame.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\package-summary.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\package-tree.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\package-frame.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\package-summary.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\package-tree.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\constant-values.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\serialized-form.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.Percentiles.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.LinearBucketValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.LogarithmicBucketValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.RecordedValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.AllValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AllValuesIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AtomicHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\ConcurrentDoubleHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\ConcurrentHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleAllValuesIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.Percentiles.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.LinearBucketValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.LogarithmicBucketValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.RecordedValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.AllValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogramIterationValue.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleLinearIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleLogarithmicIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoublePercentileIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleRecordedValuesIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleValueRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\EncodableHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\Histogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramIterationValue.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogProcessor.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogReader.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogScanner.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogScanner.EncodableHistogramSupplier.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogScanner.EventHandler.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogWriter.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\IntCountsHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\IntervalHistogramProvider.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\LinearIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\LogarithmicIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\class-use\\ConcurrentPackedLongArray.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\class-use\\IterationValue.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\class-use\\PackedArrayRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\class-use\\PackedArraySingleWriterRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\class-use\\PackedLongArray.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PackedConcurrentDoubleHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PackedConcurrentHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PackedDoubleHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PackedHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PercentileIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\RecordedValuesIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\Recorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\ShortCountsHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\SingleWriterDoubleRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\SingleWriterRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\SynchronizedDoubleHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\SynchronizedHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\ValueRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\WriterReaderPhaser.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\WriterReaderPhaser.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\ValueRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\SynchronizedHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\SynchronizedDoubleHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\SingleWriterRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\SingleWriterDoubleRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\ShortCountsHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\Recorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\RecordedValuesIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PercentileIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PackedHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PackedDoubleHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PackedConcurrentHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PackedConcurrentDoubleHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\LogarithmicIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\LinearIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\IntervalHistogramProvider.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\IntCountsHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogWriter.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogScanner.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogScanner.EncodableHistogramSupplier.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogScanner.EventHandler.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogReader.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogProcessor.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramIterationValue.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\Histogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\EncodableHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleValueRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleRecordedValuesIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoublePercentileIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleLogarithmicIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleLinearIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogramIterationValue.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.Percentiles.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.LinearBucketValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.LogarithmicBucketValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.RecordedValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.AllValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleAllValuesIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\ConcurrentHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AtomicHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.Percentiles.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.LinearBucketValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.LogarithmicBucketValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.RecordedValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\class-use\\IterationValue.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\class-use\\ConcurrentPackedLongArray.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\package-use.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\package-use.html...\nBuilding index for all the packages and classes...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\overview-tree.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\index-all.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\deprecated-list.html...\nBuilding index for all classes...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\allclasses-frame.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\allclasses-noframe.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\index.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\overview-summary.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\help-doc.html...\n[INFO] Building jar: E:\\IdeaProject\\HdrHistogram\\target\\HdrHistogram-2.1.13-SNAPSHOT-javadoc.jar\n[INFO]\n[INFO] --- maven-source-plugin:3.2.1:jar-no-fork (attach-sources) @ HdrHistogram ---\n[INFO] Building jar: E:\\IdeaProject\\HdrHistogram\\target\\HdrHistogram-2.1.13-SNAPSHOT-sources.jar\n[INFO]\n[INFO] --- maven-dependency-plugin:2.8:copy (copy-installed) @ HdrHistogram ---\n[INFO] Configured Artifact: org.hdrhistogram:HdrHistogram:2.1.13-SNAPSHOT:bundle\n[INFO] Copying HdrHistogram-2.1.13-SNAPSHOT.jar to E:\\IdeaProject\\HdrHistogram\\HdrHistogram.jar\n[INFO]\n[INFO] --- maven-install-plugin:3.0.1:install (default-install) @ HdrHistogram ---\n[INFO] Installing E:\\IdeaProject\\HdrHistogram\\pom.xml to C:\\Users\\invzbl3\\.m2\\repository\\org\\hdrhistogram\\HdrHistogram\\2.1.13-SNAPSHOT\\HdrHistogram-2.1.13-SNAPSHOT.pom\n[INFO] Installing E:\\IdeaProject\\HdrHistogram\\target\\HdrHistogram-2.1.13-SNAPSHOT.jar to C:\\Users\\invzbl3\\.m2\\repository\\org\\hdrhistogram\\HdrHistogram\\2.1.13-SNAPSHOT\\HdrHistogram-2.1.13-SNAPSHOT.jar\n[INFO] Installing E:\\IdeaProject\\HdrHistogram\\target\\HdrHistogram-2.1.13-SNAPSHOT-javadoc.jar to C:\\Users\\invzbl3\\.m2\\repository\\org\\hdrhistogram\\HdrHistogram\\2.1.13-SNAPSHOT\\HdrHistogram-2.1.13-SNAPSHOT-javadoc.jar\n[INFO] Installing E:\\IdeaProject\\HdrHistogram\\target\\HdrHistogram-2.1.13-SNAPSHOT-sources.jar to C:\\Users\\invzbl3\\.m2\\repository\\org\\hdrhistogram\\HdrHistogram\\2.1.13-SNAPSHOT\\HdrHistogram-2.1.13-SNAPSHOT-sources.jar\n[INFO]\n[INFO] --- maven-bundle-plugin:4.2.1:install (default-install) @ HdrHistogram ---\n[INFO] Installing org/hdrhistogram/HdrHistogram/2.1.13-SNAPSHOT/HdrHistogram-2.1.13-SNAPSHOT.jar\n[INFO] Writing OBR metadata\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  20.792 s\n[INFO] Finished at: 2022-10-03T03:58:19+02:00\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n"}],"owner":{"account_id":14370996,"reputation":900,"user_id":10380766,"display_name":"Hofbr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664763322,"creation_date":1663621626,"question_id":73779298,"body_markdown":"While trying to build https://github.com/HdrHistogram/HdrHistogram I am getting an error with the `maven-bundle-plugin` when running the command `mvn clean install -DskipTests`\r\n\r\nI installed maven from homebrew for Mac. I&#39;m wondering if the problem is being caused by a conflict in the Maven Java version and my local Java version?\r\n\r\n## Maven Version\r\n\r\n```bash\r\n➜ mvn --version                                                                                                     \r\nApache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\r\nMaven home: /usr/local/Cellar/maven/3.8.6/libexec\r\nJava version: 18.0.2.1, vendor: Homebrew, runtime: /usr/local/Cellar/openjdk/18.0.2.1/libexec/openjdk.jdk/Contents/Home\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: &quot;mac os x&quot;, version: &quot;12.5.1&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\r\n```\r\n\r\n## Java Version\r\n```\r\n➜ java -version\r\nopenjdk version &quot;1.8.0_322&quot;\r\nOpenJDK Runtime Environment Corretto-8.322.06.1 (build 1.8.0_322-b06)\r\nOpenJDK 64-Bit Server VM Corretto-8.322.06.1 (build 25.322-b06, mixed mode)\r\n```\r\n\r\n## Error\r\n\r\n```bash\r\n[ERROR] Failed to execute goal org.apache.felix:maven-bundle-plugin:4.2.1:bundle (default-bundle) on project HdrHistogram: Internal error in maven-bundle-plugin: ConcurrentModificationException -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.felix:maven-bundle-plugin:4.2.1:bundle (default-bundle) on project HdrHistogram: Internal error in maven-bundle-plugin\r\n\r\n```","title":"Failed to execute goal org.apache.felix:maven-bundle-plugin:4.2.1:bundle (default-bundle) on project HdrHistogram","body":"<p>While trying to build <a href=\"https://github.com/HdrHistogram/HdrHistogram\" rel=\"nofollow noreferrer\">https://github.com/HdrHistogram/HdrHistogram</a> I am getting an error with the <code>maven-bundle-plugin</code> when running the command <code>mvn clean install -DskipTests</code></p>\n<p>I installed maven from homebrew for Mac. I'm wondering if the problem is being caused by a conflict in the Maven Java version and my local Java version?</p>\n<h2>Maven Version</h2>\n<pre class=\"lang-bash prettyprint-override\"><code>➜ mvn --version                                                                                                     \nApache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\nMaven home: /usr/local/Cellar/maven/3.8.6/libexec\nJava version: 18.0.2.1, vendor: Homebrew, runtime: /usr/local/Cellar/openjdk/18.0.2.1/libexec/openjdk.jdk/Contents/Home\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;12.5.1&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\n</code></pre>\n<h2>Java Version</h2>\n<pre><code>➜ java -version\nopenjdk version &quot;1.8.0_322&quot;\nOpenJDK Runtime Environment Corretto-8.322.06.1 (build 1.8.0_322-b06)\nOpenJDK 64-Bit Server VM Corretto-8.322.06.1 (build 25.322-b06, mixed mode)\n</code></pre>\n<h2>Error</h2>\n<pre class=\"lang-bash prettyprint-override\"><code>[ERROR] Failed to execute goal org.apache.felix:maven-bundle-plugin:4.2.1:bundle (default-bundle) on project HdrHistogram: Internal error in maven-bundle-plugin: ConcurrentModificationException -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.felix:maven-bundle-plugin:4.2.1:bundle (default-bundle) on project HdrHistogram: Internal error in maven-bundle-plugin\n\n</code></pre>\n"},{"tags":["java","string","list","swap"],"answers":[{"tags":[],"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664709383,"creation_date":1664709383,"answer_id":73925361,"question_id":73925289,"body_markdown":"You need to handle both conditions at the same time.\r\n\r\n```\r\n        list.replaceAll(s -&gt; s.contains(searchOne) ? replacementOne\r\n                        : s.contains(searchTwo) ? replacementTwo : s );\r\n```","title":"Swappign two lines by their string at the same time java","body":"<p>You need to handle both conditions at the same time.</p>\n<pre><code>        list.replaceAll(s -&gt; s.contains(searchOne) ? replacementOne\n                        : s.contains(searchTwo) ? replacementTwo : s );\n</code></pre>\n"}],"owner":{"account_id":26506630,"reputation":11,"user_id":20142691,"display_name":"dad dada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664762614,"creation_date":1664708592,"question_id":73925289,"body_markdown":"I&#39;m trying to swap two names in a list with each other. I have used the code below but I am wondering if there is a way to swap them at the same time because it is making them both the same name. Is there another method I can use that will swap the two names at the same time? Thanks\r\n\r\n\r\n\r\n          String searchOne = challengerName;\r\n          String replacementOne = defenderName;\r\n\r\n          String searchTwo = defenderName;\r\n          String replacementTwo = swapperName;\r\n          list.replaceAll(s -&gt; s.contains(searchOne) ? replacementOne : s);\r\n          list.replaceAll(s -&gt; s.contains(searchTwo) ? replacementTwo : s);\r\n","title":"Swappign two lines by their string at the same time java","body":"<p>I'm trying to swap two names in a list with each other. I have used the code below but I am wondering if there is a way to swap them at the same time because it is making them both the same name. Is there another method I can use that will swap the two names at the same time? Thanks</p>\n<pre><code>      String searchOne = challengerName;\n      String replacementOne = defenderName;\n\n      String searchTwo = defenderName;\n      String replacementTwo = swapperName;\n      list.replaceAll(s -&gt; s.contains(searchOne) ? replacementOne : s);\n      list.replaceAll(s -&gt; s.contains(searchTwo) ? replacementTwo : s);\n</code></pre>\n"},{"tags":["java","arrays","list","for-loop"],"answers":[{"tags":[],"owner":{"account_id":20802784,"reputation":35,"user_id":15278421,"display_name":"Eyal Hadad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664729964,"creation_date":1664729466,"answer_id":73927658,"question_id":73926836,"body_markdown":"you can use a Set\\HashMap to remember which number you already discover during your iteration. GOOD LUCK !\r\n\r\nYou can read about Data Structures - just google it :).\r\n\r\nhere a few questions that might help you understand.\r\n\r\nhttps://stackoverflow.com/questions/2723781/data-structures-for-hashmap-list-and-set\r\n\r\nhttps://stackoverflow.com/questions/32866652/why-key-in-hashmap-cant-be-duplicated\r\n\r\nhttps://stackoverflow.com/questions/38823210/how-to-find-duplicate-item-position-from-set-in-java\r\n ","title":"Array with bubble sort and odd/even list - Anyone knows how to remove duplicate element in my even list?","body":"<p>you can use a Set\\HashMap to remember which number you already discover during your iteration. GOOD LUCK !</p>\n<p>You can read about Data Structures - just google it :).</p>\n<p>here a few questions that might help you understand.</p>\n<p><a href=\"https://stackoverflow.com/questions/2723781/data-structures-for-hashmap-list-and-set\">Data Structures for hashMap, List and Set</a></p>\n<p><a href=\"https://stackoverflow.com/questions/32866652/why-key-in-hashmap-cant-be-duplicated\">Why key in HashMap can&#39;t be duplicated</a></p>\n<p><a href=\"https://stackoverflow.com/questions/38823210/how-to-find-duplicate-item-position-from-set-in-java\">how to find duplicate item position from set in java</a></p>\n"}],"owner":{"account_id":26507694,"reputation":1,"user_id":20143577,"display_name":"Menard Rosal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664762305,"creation_date":1664722617,"question_id":73926836,"body_markdown":"Regardless of the programming language you use. You will undoubtedly encounter data while dealing with arrays, particularly duplicates, that you will want to get rid of.\r\n\r\nThis is my [Output][1]\r\n\r\nI already inputted the correct syntax of even list array is there something that I missed?\r\n\r\nAnyone knows how to remove duplicate element in my even list?\r\n\r\n  [1]: https://i.stack.imgur.com/cg2QT.png\r\n\r\n ***Here&#39;s my code:*** \r\n   \r\n\r\n    import java.util.*;\r\n    import java.util.Iterator;\r\n    public class ArrayBubbleSortwithOddandEven {\r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            int size, temp;\r\n            System.out.print(&quot;Size of the list: &quot;);\r\n            size = scanner.nextInt();\r\n            int number[] = new int[size];\r\n            int oddarray[] = new int[size];\r\n            int evenarray[] = new int[size];\r\n            int odd = 0;\r\n            int even = evenarray.length - 1;\r\n    \r\n            for (int i = 0; i &lt; number.length; i++) {\r\n                System.out.print(&quot;Input: &quot;);\r\n                number[i] = scanner.nextInt();\r\n            }\r\n            for (int i = 0; i &lt; size; i++) {\r\n                for (int swap = 1; swap &lt; (size - i); swap++) {\r\n                    if (number[swap - 1] &gt; number[swap]) {\r\n                        temp = number[swap - 1];\r\n                        number[swap - 1] = number[swap];\r\n                        number[swap] = temp;\r\n                    }\r\n                }\r\n            }\r\n            for (int i = 0; i &lt; number.length; i++) {\r\n                if (number[i] % 2 != 0) {\r\n                    oddarray[odd++] = number[i];\r\n                } else {\r\n                    evenarray[even--] = number[i];\r\n                }\r\n            }\r\n    \r\n            for (int i = 0; i &lt; number.length; i++) {\r\n                evenarray[even] = evenarray[i];\r\n            }\r\n            for (int i = 0; i &lt; number.length; i++) {\r\n                oddarray[odd] = oddarray[i];\r\n            }\r\n            for (int i = 0; i &lt; size; i++) { //Bubble sort\r\n                for (int swap = 1; swap &lt; (size - i); swap++) {\r\n                    if (evenarray[swap - 1] &gt; evenarray[swap]) {\r\n                        temp = evenarray[swap - 1];\r\n                        evenarray[swap - 1] = evenarray[swap];\r\n                        evenarray[swap] = temp;\r\n                    }\r\n                }\r\n            }\r\n    \r\n            System.out.println(&quot;Odd List:&quot;); //Print Odd list\r\n            for (odd = 0; odd &lt; oddarray.length; odd++) {\r\n                System.out.println(&quot;List &quot; + odd + &quot;: &quot; + (oddarray[odd]));\r\n            }\r\n            System.out.println(&quot;Even List:&quot;); //Print Even list\r\n            for (even = 0; even &lt; evenarray.length; even++) {\r\n                System.out.println(&quot;List &quot; + even + &quot;: &quot; + (evenarray[even]));\r\n            }\r\n        }\r\n    }\r\n","title":"Array with bubble sort and odd/even list - Anyone knows how to remove duplicate element in my even list?","body":"<p>Regardless of the programming language you use. You will undoubtedly encounter data while dealing with arrays, particularly duplicates, that you will want to get rid of.</p>\n<p>This is my <a href=\"https://i.stack.imgur.com/cg2QT.png\" rel=\"nofollow noreferrer\">Output</a></p>\n<p>I already inputted the correct syntax of even list array is there something that I missed?</p>\n<p>Anyone knows how to remove duplicate element in my even list?</p>\n<p><em><strong>Here's my code:</strong></em></p>\n<pre><code>import java.util.*;\nimport java.util.Iterator;\npublic class ArrayBubbleSortwithOddandEven {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        int size, temp;\n        System.out.print(&quot;Size of the list: &quot;);\n        size = scanner.nextInt();\n        int number[] = new int[size];\n        int oddarray[] = new int[size];\n        int evenarray[] = new int[size];\n        int odd = 0;\n        int even = evenarray.length - 1;\n\n        for (int i = 0; i &lt; number.length; i++) {\n            System.out.print(&quot;Input: &quot;);\n            number[i] = scanner.nextInt();\n        }\n        for (int i = 0; i &lt; size; i++) {\n            for (int swap = 1; swap &lt; (size - i); swap++) {\n                if (number[swap - 1] &gt; number[swap]) {\n                    temp = number[swap - 1];\n                    number[swap - 1] = number[swap];\n                    number[swap] = temp;\n                }\n            }\n        }\n        for (int i = 0; i &lt; number.length; i++) {\n            if (number[i] % 2 != 0) {\n                oddarray[odd++] = number[i];\n            } else {\n                evenarray[even--] = number[i];\n            }\n        }\n\n        for (int i = 0; i &lt; number.length; i++) {\n            evenarray[even] = evenarray[i];\n        }\n        for (int i = 0; i &lt; number.length; i++) {\n            oddarray[odd] = oddarray[i];\n        }\n        for (int i = 0; i &lt; size; i++) { //Bubble sort\n            for (int swap = 1; swap &lt; (size - i); swap++) {\n                if (evenarray[swap - 1] &gt; evenarray[swap]) {\n                    temp = evenarray[swap - 1];\n                    evenarray[swap - 1] = evenarray[swap];\n                    evenarray[swap] = temp;\n                }\n            }\n        }\n\n        System.out.println(&quot;Odd List:&quot;); //Print Odd list\n        for (odd = 0; odd &lt; oddarray.length; odd++) {\n            System.out.println(&quot;List &quot; + odd + &quot;: &quot; + (oddarray[odd]));\n        }\n        System.out.println(&quot;Even List:&quot;); //Print Even list\n        for (even = 0; even &lt; evenarray.length; even++) {\n            System.out.println(&quot;List &quot; + even + &quot;: &quot; + (evenarray[even]));\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","uuid"],"answers":[{"comments":[{"owner":{"account_id":2288711,"reputation":5650,"user_id":2012163,"accept_rate":69,"display_name":"Abhijeet Ahuja"},"score":16,"creation_date":1485925823,"post_id":29059595,"comment_id":71122822,"body_markdown":"any js equivalent?","body":"any js equivalent?"},{"owner":{"account_id":1862093,"reputation":1971,"user_id":1686492,"accept_rate":100,"display_name":"mika"},"score":0,"creation_date":1501487175,"post_id":29059595,"comment_id":77780312,"body_markdown":"any PHP equivalent? What is the algorithm behind this?","body":"any PHP equivalent? What is the algorithm behind this?"},{"owner":{"account_id":1523408,"reputation":3942,"user_id":1514049,"display_name":"segFault"},"score":4,"creation_date":1508512418,"post_id":29059595,"comment_id":80651618,"body_markdown":"@mika [This PHP UUID library](https://github.com/ramsey/uuid) is somewhat equivalent. You can generate the same UUID for the given namespace + string. You can do something like: `Uuid::uuid3(Uuid::NAMESPACE_DNS, &#39;TEST STRING&#39;)-&gt;toString();` It uses md5 hashing in this example. [Additional info on UUID namespaces](https://stackoverflow.com/a/28776880/1514049)","body":"@mika <a href=\"https://github.com/ramsey/uuid\" rel=\"nofollow noreferrer\">This PHP UUID library</a> is somewhat equivalent. You can generate the same UUID for the given namespace + string. You can do something like: <code>Uuid::uuid3(Uuid::NAMESPACE_DNS, &#39;TEST STRING&#39;)-&gt;toString();</code> It uses md5 hashing in this example. <a href=\"https://stackoverflow.com/a/28776880/1514049\">Additional info on UUID namespaces</a>"},{"owner":{"account_id":6508653,"reputation":884,"user_id":5036736,"accept_rate":36,"display_name":"Mayur"},"score":4,"creation_date":1533110392,"post_id":29059595,"comment_id":90220698,"body_markdown":"is there any way I can decode this UUID to original String ?","body":"is there any way I can decode this UUID to original String ?"},{"owner":{"account_id":8326512,"reputation":1872,"user_id":6258697,"display_name":"user108828"},"score":2,"creation_date":1549546724,"post_id":29059595,"comment_id":95946913,"body_markdown":"If the original string is part of a known set of strings (stored in your db for example), you can generate the UUID for each string and compare with the UUID you want to decode. Otherwise, it is not &quot;technically&quot; possible","body":"If the original string is part of a known set of strings (stored in your db for example), you can generate the UUID for each string and compare with the UUID you want to decode. Otherwise, it is not &quot;technically&quot; possible"},{"owner":{"account_id":921100,"reputation":3849,"user_id":952786,"accept_rate":95,"display_name":"Groppe"},"score":4,"creation_date":1553043748,"post_id":29059595,"comment_id":97236763,"body_markdown":"what are the chances that the generated UUID from a given string will clash with a UUID generated from another string?","body":"what are the chances that the generated UUID from a given string will clash with a UUID generated from another string?"},{"owner":{"account_id":278189,"reputation":13863,"user_id":572635,"accept_rate":75,"display_name":"dtech"},"score":1,"creation_date":1570622452,"post_id":29059595,"comment_id":102969569,"body_markdown":"@Groppe very small, similar to the chances that an MD5 (UUIDv3) or SHA1 (UUIDv5) hash clash for a given string","body":"@Groppe very small, similar to the chances that an MD5 (UUIDv3) or SHA1 (UUIDv5) hash clash for a given string"},{"owner":{"account_id":9686565,"reputation":75,"user_id":7186168,"display_name":"VManoj"},"score":1,"creation_date":1586249726,"post_id":29059595,"comment_id":108052284,"body_markdown":"I know that we can create UUID from a string but I want to know if we can create String reverse back from UUID ?","body":"I know that we can create UUID from a string but I want to know if we can create String reverse back from UUID ?"},{"owner":{"account_id":980057,"reputation":7528,"user_id":1000011,"accept_rate":52,"display_name":"opticyclic"},"score":0,"creation_date":1618984743,"post_id":29059595,"comment_id":118764134,"body_markdown":"Why wouldn&#39;t you just do UUID.fromString?","body":"Why wouldn&#39;t you just do UUID.fromString?"},{"owner":{"account_id":1259660,"reputation":135,"user_id":1218336,"accept_rate":43,"display_name":"hp58"},"score":1,"creation_date":1627973780,"post_id":29059595,"comment_id":121290841,"body_markdown":"@opticyclic UUID.fromString does not generate a new UUID based on the input, but expects an existing valid UUID string representation as input.","body":"@opticyclic UUID.fromString does not generate a new UUID based on the input, but expects an existing valid UUID string representation as input."},{"owner":{"account_id":4311991,"reputation":3414,"user_id":3522818,"accept_rate":67,"display_name":"kerner1000"},"score":0,"creation_date":1646726283,"post_id":29059595,"comment_id":126188910,"body_markdown":"`UUID.nameUUIDFromBytes` generates MD5 UUIDs. This does not work if the input String was generated by a SHA1 function.","body":"<code>UUID.nameUUIDFromBytes</code> generates MD5 UUIDs. This does not work if the input String was generated by a SHA1 function."}],"tags":[],"owner":{"account_id":1181066,"reputation":19241,"user_id":1155984,"display_name":"uraimo"},"comment_count":11,"down_vote_count":1,"up_vote_count":237,"is_accepted":true,"score":236,"last_activity_date":1426415364,"creation_date":1426415364,"answer_id":29059595,"question_id":29059530,"body_markdown":"You can use UUID this way to get always the same UUID for your input String:\r\n\r\n     String aString=&quot;JUST_A_TEST_STRING&quot;;\r\n     String result = UUID.nameUUIDFromBytes(aString.getBytes()).toString();\r\n","title":"Is there any way to generate the same UUID from a String","body":"<p>You can use UUID this way to get always the same UUID for your input String:</p>\n\n<pre><code> String aString=\"JUST_A_TEST_STRING\";\n String result = UUID.nameUUIDFromBytes(aString.getBytes()).toString();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1960544,"reputation":2576,"user_id":1762276,"accept_rate":73,"display_name":"Zhro"},"score":0,"creation_date":1613420859,"post_id":63087679,"comment_id":117065137,"body_markdown":"Why do you think that SHA1 should be preferred over MD5 when generating a UUID?","body":"Why do you think that SHA1 should be preferred over MD5 when generating a UUID?"},{"owner":{"account_id":1053260,"reputation":1032,"user_id":1056610,"display_name":"fabiolimace"},"score":0,"creation_date":1613423005,"post_id":63087679,"comment_id":117065745,"body_markdown":"I don&#39;t think it should always be preferred. It depends on the case. RFC-4122, in its section 4.3, says that If backward compatibility is not an issue, SHA-1 is preferred. I&#39;ll fix my comment. Thanks.","body":"I don&#39;t think it should always be preferred. It depends on the case. RFC-4122, in its section 4.3, says that If backward compatibility is not an issue, SHA-1 is preferred. I&#39;ll fix my comment. Thanks."}],"tags":[],"owner":{"account_id":1053260,"reputation":1032,"user_id":1056610,"display_name":"fabiolimace"},"comment_count":2,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1664762221,"creation_date":1595675837,"answer_id":63087679,"question_id":29059530,"body_markdown":"`UUID.nameUUIDFromBytes()` only generates MD5 UUIDs. However, SHA1 is preferred over MD5, *if backward compatibility is not an issue*.\r\n\r\nThe utility class below generates MD5 UUIDs and SHA-1 UUIDs. Feel free to use and share.\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.security.MessageDigest;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.util.UUID;\r\n\r\n/**\r\n * Generates UUIDv3 (MD5) and UUIDv5 (SHA1).\r\n *\r\n * It is fully compliant with RFC-4122.\r\n */\r\npublic class HashUuid {\r\n\r\n\tprivate static final int V3 = 3; // MD5\r\n\tprivate static final int V5 = 5; // SHA-1\r\n\r\n\tprivate static final String HASH_V3 = &quot;MD5&quot;;\r\n\tprivate static final String HASH_V5 = &quot;SHA-1&quot;;\r\n\r\n\tpublic static final UUID NAMESPACE_DNS = new UUID(0x6ba7b8109dad11d1L, 0x80b400c04fd430c8L);\r\n\tpublic static final UUID NAMESPACE_URL = new UUID(0x6ba7b8119dad11d1L, 0x80b400c04fd430c8L);\r\n\tpublic static final UUID NAMESPACE_OID = new UUID(0x6ba7b8129dad11d1L, 0x80b400c04fd430c8L);\r\n\tpublic static final UUID NAMESPACE_X500 = new UUID(0x6ba7b8149dad11d1L, 0x80b400c04fd430c8L);\r\n\r\n\tpublic static UUID v3(String name) {\r\n\t\treturn generate(V3, HASH_V3, null, name);\r\n\t}\r\n\r\n\tpublic static UUID v5(String name) {\r\n\t\treturn generate(V5, HASH_V5, null, name);\r\n\t}\r\n\r\n\tpublic static UUID v3(UUID namespace, String name) {\r\n\t\treturn generate(V3, HASH_V3, namespace, name);\r\n\t}\r\n\r\n\tpublic static UUID v5(UUID namespace, String name) {\r\n\t\treturn generate(V5, HASH_V5, namespace, name);\r\n\t}\r\n\r\n\tprivate static UUID generate(int version, String algorithm, UUID namespace, String name) {\r\n\r\n\t\tMessageDigest hasher = hasher(algorithm);\r\n\r\n\t\tif (namespace != null) {\r\n\t\t\tByteBuffer ns = ByteBuffer.allocate(16);\r\n\t\t\tns.putLong(namespace.getMostSignificantBits());\r\n\t\t\tns.putLong(namespace.getLeastSignificantBits());\r\n\t\t\thasher.update(ns.array());\r\n\t\t}\r\n\r\n\t\thasher.update(name.getBytes(StandardCharsets.UTF_8));\r\n\t\tByteBuffer hash = ByteBuffer.wrap(hasher.digest());\r\n\r\n\t\tfinal long msb = (hash.getLong() &amp; 0xffffffffffff0fffL) | (version &amp; 0x0f) &lt;&lt; 12;\r\n\t\tfinal long lsb = (hash.getLong() &amp; 0x3fffffffffffffffL) | 0x8000000000000000L;\r\n\r\n\t\treturn new UUID(msb, lsb);\r\n\t}\r\n\r\n\tprivate static MessageDigest hasher(String algorithm) {\r\n\t\ttry {\r\n\t\t\treturn MessageDigest.getInstance(algorithm);\r\n\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\tthrow new RuntimeException(String.format(&quot;%s not supported.&quot;, algorithm));\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * For tests!\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tUUID namespace = UUID.randomUUID();\r\n\t\tString name = &quot;JUST_A_TEST_STRING&quot;;\r\n\r\n\t\tSystem.out.println(String.format(&quot;UUID.nameUUIDFromBytes():     &#39;%s&#39;&quot;, UUID.nameUUIDFromBytes(name.getBytes())));\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(String.format(&quot;HashUuid.v3(name):            &#39;%s&#39;&quot;, HashUuid.v3(name)));\r\n\t\tSystem.out.println(String.format(&quot;HashUuid.v5(name):            &#39;%s&#39;&quot;, HashUuid.v5(name)));\r\n\t\tSystem.out.println(String.format(&quot;HashUuid.v3(namespace, name): &#39;%s&#39;&quot;, HashUuid.v3(namespace, name)));\r\n\t\tSystem.out.println(String.format(&quot;HashUuid.v5(namespace, name): &#39;%s&#39;&quot;, HashUuid.v5(namespace, name)));\r\n\t}\r\n}\r\n```\r\nThis is the output:\r\n\r\n```\r\nUUID.nameUUIDFromBytes():     &#39;9e120341-627f-32be-8393-58b5d655b751&#39;\r\n\r\nHashUuid.v3(name):            &#39;9e120341-627f-32be-8393-58b5d655b751&#39;\r\nHashUuid.v5(name):            &#39;e4586bed-032a-5ae6-9883-331cd94c4ffa&#39;\r\nHashUuid.v3(namespace, name): &#39;f0043437-723b-308f-a6c0-74ec36ddf9c2&#39;\r\nHashUuid.v5(namespace, name): &#39;18a45fd8-8fab-5647-aad7-1d3264932180&#39;\r\n```\r\n\r\nAlternatively, you can also use [`uuid-creator`](https://github.com/f4b6a3/uuid-creator). See this example:\r\n\r\n```java\r\n// Create a UUIDv5 (SHA1)\r\nString name = &quot;JUST_A_TEST_STRING&quot;;\r\nUUID uuid = UuidCreator.getNameBasedSha1(name);\r\n```\r\n","title":"Is there any way to generate the same UUID from a String","body":"<p><code>UUID.nameUUIDFromBytes()</code> only generates MD5 UUIDs. However, SHA1 is preferred over MD5, <em>if backward compatibility is not an issue</em>.</p>\n<p>The utility class below generates MD5 UUIDs and SHA-1 UUIDs. Feel free to use and share.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport java.nio.ByteBuffer;\nimport java.nio.charset.StandardCharsets;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.util.UUID;\n\n/**\n * Generates UUIDv3 (MD5) and UUIDv5 (SHA1).\n *\n * It is fully compliant with RFC-4122.\n */\npublic class HashUuid {\n\n    private static final int V3 = 3; // MD5\n    private static final int V5 = 5; // SHA-1\n\n    private static final String HASH_V3 = &quot;MD5&quot;;\n    private static final String HASH_V5 = &quot;SHA-1&quot;;\n\n    public static final UUID NAMESPACE_DNS = new UUID(0x6ba7b8109dad11d1L, 0x80b400c04fd430c8L);\n    public static final UUID NAMESPACE_URL = new UUID(0x6ba7b8119dad11d1L, 0x80b400c04fd430c8L);\n    public static final UUID NAMESPACE_OID = new UUID(0x6ba7b8129dad11d1L, 0x80b400c04fd430c8L);\n    public static final UUID NAMESPACE_X500 = new UUID(0x6ba7b8149dad11d1L, 0x80b400c04fd430c8L);\n\n    public static UUID v3(String name) {\n        return generate(V3, HASH_V3, null, name);\n    }\n\n    public static UUID v5(String name) {\n        return generate(V5, HASH_V5, null, name);\n    }\n\n    public static UUID v3(UUID namespace, String name) {\n        return generate(V3, HASH_V3, namespace, name);\n    }\n\n    public static UUID v5(UUID namespace, String name) {\n        return generate(V5, HASH_V5, namespace, name);\n    }\n\n    private static UUID generate(int version, String algorithm, UUID namespace, String name) {\n\n        MessageDigest hasher = hasher(algorithm);\n\n        if (namespace != null) {\n            ByteBuffer ns = ByteBuffer.allocate(16);\n            ns.putLong(namespace.getMostSignificantBits());\n            ns.putLong(namespace.getLeastSignificantBits());\n            hasher.update(ns.array());\n        }\n\n        hasher.update(name.getBytes(StandardCharsets.UTF_8));\n        ByteBuffer hash = ByteBuffer.wrap(hasher.digest());\n\n        final long msb = (hash.getLong() &amp; 0xffffffffffff0fffL) | (version &amp; 0x0f) &lt;&lt; 12;\n        final long lsb = (hash.getLong() &amp; 0x3fffffffffffffffL) | 0x8000000000000000L;\n\n        return new UUID(msb, lsb);\n    }\n\n    private static MessageDigest hasher(String algorithm) {\n        try {\n            return MessageDigest.getInstance(algorithm);\n        } catch (NoSuchAlgorithmException e) {\n            throw new RuntimeException(String.format(&quot;%s not supported.&quot;, algorithm));\n        }\n    }\n\n    /**\n     * For tests!\n     */\n    public static void main(String[] args) {\n\n        UUID namespace = UUID.randomUUID();\n        String name = &quot;JUST_A_TEST_STRING&quot;;\n\n        System.out.println(String.format(&quot;UUID.nameUUIDFromBytes():     '%s'&quot;, UUID.nameUUIDFromBytes(name.getBytes())));\n        System.out.println();\n        System.out.println(String.format(&quot;HashUuid.v3(name):            '%s'&quot;, HashUuid.v3(name)));\n        System.out.println(String.format(&quot;HashUuid.v5(name):            '%s'&quot;, HashUuid.v5(name)));\n        System.out.println(String.format(&quot;HashUuid.v3(namespace, name): '%s'&quot;, HashUuid.v3(namespace, name)));\n        System.out.println(String.format(&quot;HashUuid.v5(namespace, name): '%s'&quot;, HashUuid.v5(namespace, name)));\n    }\n}\n</code></pre>\n<p>This is the output:</p>\n<pre><code>UUID.nameUUIDFromBytes():     '9e120341-627f-32be-8393-58b5d655b751'\n\nHashUuid.v3(name):            '9e120341-627f-32be-8393-58b5d655b751'\nHashUuid.v5(name):            'e4586bed-032a-5ae6-9883-331cd94c4ffa'\nHashUuid.v3(namespace, name): 'f0043437-723b-308f-a6c0-74ec36ddf9c2'\nHashUuid.v5(namespace, name): '18a45fd8-8fab-5647-aad7-1d3264932180'\n</code></pre>\n<p>Alternatively, you can also use <a href=\"https://github.com/f4b6a3/uuid-creator\" rel=\"noreferrer\"><code>uuid-creator</code></a>. See this example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Create a UUIDv5 (SHA1)\nString name = &quot;JUST_A_TEST_STRING&quot;;\nUUID uuid = UuidCreator.getNameBasedSha1(name);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19190559,"reputation":311,"user_id":14021241,"display_name":"Sanidhya Gaur"},"score":0,"creation_date":1682426212,"post_id":65955958,"comment_id":134210372,"body_markdown":"Thank you, I was looking for a javascript alternative :)","body":"Thank you, I was looking for a javascript alternative :)"}],"tags":[],"owner":{"account_id":545178,"reputation":810,"user_id":914856,"display_name":"vhtc"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1611929063,"creation_date":1611929063,"answer_id":65955958,"question_id":29059530,"body_markdown":"If you are looking for a Javascript alternative, look at [uuid-by-string][1] which also gives option to use SHA-1 or MD5 hash functions.\r\n\r\n\r\n  [1]: https://www.npmjs.com/package/uuid-by-string","title":"Is there any way to generate the same UUID from a String","body":"<p>If you are looking for a Javascript alternative, look at <a href=\"https://www.npmjs.com/package/uuid-by-string\" rel=\"nofollow noreferrer\">uuid-by-string</a> which also gives option to use SHA-1 or MD5 hash functions.</p>\n"},{"tags":[],"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1625476023,"creation_date":1619037999,"answer_id":67203264,"question_id":29059530,"body_markdown":"You should use **UUID v5.**\r\n\r\n&gt; Version-3 and version-5 UUIDs are generated by hashing a namespace identifier and name. Version 3 uses MD5 as the hashing algorithm, and version 5 uses SHA-1.[1] - *wikipedia*\r\n\r\nUUID v5 requires a **namespace**. That namespace should be a UUID v4, which you can just [generate online][1]. The namespace assures that for a given input, the output will always be the same. \r\n\r\nA possible implementation of UUID v5 can be found [here][2]:\r\n\r\n    &lt;!-- https://search.maven.org/artifact/com.github.f4b6a3/uuid-creator --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.github.f4b6a3&lt;/groupId&gt;\r\n      &lt;artifactId&gt;uuid-creator&lt;/artifactId&gt;\r\n      &lt;version&gt;3.6.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIt can be used as follows:\r\n\r\n    UUID namespace = ; // todo generate a UUID v4.\r\n    String input = &quot;input&quot;;\r\n    UUID uuid = UuidCreator.getNameBasedSha1(namespace, input);\r\n\r\n*(In a way, the namespace acts like a seed would, for a random number generator. By contrast, while a seed is supposed to be random, our namespace is a constant. And that forces our generator to always produce the same value for a given input.)*\r\n\r\n  [1]: https://www.uuidgenerator.net/version4\r\n  [2]: https://github.com/f4b6a3/uuid-creator","title":"Is there any way to generate the same UUID from a String","body":"<p>You should use <strong>UUID v5.</strong></p>\n<blockquote>\n<p>Version-3 and version-5 UUIDs are generated by hashing a namespace identifier and name. Version 3 uses MD5 as the hashing algorithm, and version 5 uses SHA-1.<a href=\"https://www.uuidgenerator.net/version4\" rel=\"noreferrer\">1</a> - <em>wikipedia</em></p>\n</blockquote>\n<p>UUID v5 requires a <strong>namespace</strong>. That namespace should be a UUID v4, which you can just <a href=\"https://www.uuidgenerator.net/version4\" rel=\"noreferrer\">generate online</a>. The namespace assures that for a given input, the output will always be the same.</p>\n<p>A possible implementation of UUID v5 can be found <a href=\"https://github.com/f4b6a3/uuid-creator\" rel=\"noreferrer\">here</a>:</p>\n<pre><code>&lt;!-- https://search.maven.org/artifact/com.github.f4b6a3/uuid-creator --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.github.f4b6a3&lt;/groupId&gt;\n  &lt;artifactId&gt;uuid-creator&lt;/artifactId&gt;\n  &lt;version&gt;3.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>It can be used as follows:</p>\n<pre><code>UUID namespace = ; // todo generate a UUID v4.\nString input = &quot;input&quot;;\nUUID uuid = UuidCreator.getNameBasedSha1(namespace, input);\n</code></pre>\n<p><em>(In a way, the namespace acts like a seed would, for a random number generator. By contrast, while a seed is supposed to be random, our namespace is a constant. And that forces our generator to always produce the same value for a given input.)</em></p>\n"}],"owner":{"account_id":1156140,"reputation":25030,"user_id":1136700,"accept_rate":46,"display_name":"Adam Lee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136218,"favorite_count":0,"down_vote_count":0,"up_vote_count":131,"accepted_answer_id":29059595,"answer_count":4,"score":131,"last_activity_date":1664762221,"creation_date":1426414742,"question_id":29059530,"body_markdown":"I am wondering if there is a way to generate the same UUID based on a `String.` \r\nI tried with UUID, it looks like it does not provide this feature.","title":"Is there any way to generate the same UUID from a String","body":"<p>I am wondering if there is a way to generate the same UUID based on a <code>String.</code> \nI tried with UUID, it looks like it does not provide this feature.</p>\n"},{"tags":["java","opengl","lwjgl","landscape"],"answers":[{"tags":[],"owner":{"account_id":2968584,"reputation":50571,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1553501211,"creation_date":1553421068,"answer_id":55322525,"question_id":55322029,"body_markdown":"First of all take a look at my:\r\n\r\n- [simple C++ Island generator](https://stackoverflow.com/a/36647622/2521214)\r\n\r\nas you can see you can compute **Biomes** from elevation, slope, etc... more sophisticated generators create a **Voronoi** map dividing your map into **Biomes** regions assigning randomly (with some rules) biome types based on neighbors already assigned...\r\n\r\nBack to your question you should place your trees more dense around some  position instead of uniformly cover large area with sparse trees... So you need slightly different kind of randomness distribution (like gauss). See the legendary:\r\n\r\n- [Understanding “randomness”](https://stackoverflow.com/a/3956538/2521214)\r\n\r\non how to get a different distribution from uniform one...\r\n\r\nSo what you should do is get few random locations that would be covering your region shape uniformly. And then generate trees with density dependent on minimal distance to these points. The smaller distance the dense trees placement.\r\n\r\n [![placemet][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/a41Qg.png","title":"How to generate forests in java","body":"<p>First of all take a look at my:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/36647622/2521214\">simple C++ Island generator</a></li>\n</ul>\n\n<p>as you can see you can compute <strong>Biomes</strong> from elevation, slope, etc... more sophisticated generators create a <strong>Voronoi</strong> map dividing your map into <strong>Biomes</strong> regions assigning randomly (with some rules) biome types based on neighbors already assigned...</p>\n\n<p>Back to your question you should place your trees more dense around some  position instead of uniformly cover large area with sparse trees... So you need slightly different kind of randomness distribution (like gauss). See the legendary:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/3956538/2521214\">Understanding “randomness”</a></li>\n</ul>\n\n<p>on how to get a different distribution from uniform one...</p>\n\n<p>So what you should do is get few random locations that would be covering your region shape uniformly. And then generate trees with density dependent on minimal distance to these points. The smaller distance the dense trees placement.</p>\n\n<p><a href=\"https://i.stack.imgur.com/a41Qg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a41Qg.png\" alt=\"placemet\"></a></p>\n"},{"tags":[],"owner":{"account_id":7970439,"reputation":2783,"user_id":6015339,"display_name":"Glains"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553421552,"creation_date":1553421552,"answer_id":55322583,"question_id":55322029,"body_markdown":"What are you looking for is a _low-discrepancy-sequence_ to generate random numbers. The generated numbers are not truely random, but rather uniformly distributed. This distinguishes them from random number generators, which do not automatically produce uniformly distributed numbers.\r\n\r\nOne example of such a sequence would be the [Halton Sequence](https://en.wikipedia.org/wiki/Halton_sequence), and Apache Commons also has an [implementation](http://commons.apache.org/proper/commons-math/javadocs/api-3.6/org/apache/commons/math3/random/HaltonSequenceGenerator.html) which you can use.\r\n\r\n    double[] nextVector = generator.nextVector();\r\n\r\nIn your case, using two dimensions, the resulting array also has two entries. What you still need to do is to translate the points into your local coordinates by adding the the central point of the square where you want to place the forest to each generated vector. Also, to increase the gap between points, you should consider scaling the vectors.","title":"How to generate forests in java","body":"<p>What are you looking for is a <em>low-discrepancy-sequence</em> to generate random numbers. The generated numbers are not truely random, but rather uniformly distributed. This distinguishes them from random number generators, which do not automatically produce uniformly distributed numbers.</p>\n\n<p>One example of such a sequence would be the <a href=\"https://en.wikipedia.org/wiki/Halton_sequence\" rel=\"nofollow noreferrer\">Halton Sequence</a>, and Apache Commons also has an <a href=\"http://commons.apache.org/proper/commons-math/javadocs/api-3.6/org/apache/commons/math3/random/HaltonSequenceGenerator.html\" rel=\"nofollow noreferrer\">implementation</a> which you can use.</p>\n\n<pre><code>double[] nextVector = generator.nextVector();\n</code></pre>\n\n<p>In your case, using two dimensions, the resulting array also has two entries. What you still need to do is to translate the points into your local coordinates by adding the the central point of the square where you want to place the forest to each generated vector. Also, to increase the gap between points, you should consider scaling the vectors.</p>\n"}],"owner":{"account_id":15203879,"reputation":168,"user_id":10970990,"display_name":"Random Coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":832,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":55322525,"answer_count":2,"score":2,"last_activity_date":1664761633,"creation_date":1553417057,"question_id":55322029,"body_markdown":"I am creating a game where a landscape is generated all of the generations work perfectly, a week ago I have created a basic &#39;forest&#39; generation system which just is a for loop that takes a chunk, and places random amounts of trees in random locations. But that does not give the result I would like to achieve.\r\n\r\nCode:\r\n\r\n```java\r\nfor(int t = 0; t &lt;= randomForTrees.nextInt(maxTreesPerChunk); t++){\r\n\r\n    // generates random locations for the X, Z positions\\\\\r\n    // the Y position is the height on the terrain gain with the X, Z coordinates \\\\\r\n\tfloat TreeX = random.nextInt((int) (Settings.TERRAIN_VERTEX_COUNT + Settings.TERRAIN_SIZE)) + terrain.getX();\r\n\tfloat TreeZ = random.nextInt((int) (Settings.TERRAIN_VERTEX_COUNT + Settings.TERRAIN_SIZE)) + terrain.getZ();\r\n    float TreeY = terrain.getTerrainHeightAtSpot(TreeX, TreeZ);\r\n\r\n    // creates a tree entity with the previous generated positions \\\\\r\n\tEntity tree = new Entity(TreeStaticModel, new Vector3f(TreeX, TreeY, TreeZ), 0, random.nextInt(360), 0, 1);\r\n\r\n\t// checks if the tree is on land \\\\\r\n    if(!(tree.getPosition().y &lt;= -17)){\r\n\t\ttrees.add(tree);\r\n\t}\r\n}\r\n```\r\n\r\nResult:  \r\n\r\n[![Image with the result of the basic above seen generation code][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/L0dsv.png\r\n","title":"How to generate forests in java","body":"<p>I am creating a game where a landscape is generated all of the generations work perfectly, a week ago I have created a basic 'forest' generation system which just is a for loop that takes a chunk, and places random amounts of trees in random locations. But that does not give the result I would like to achieve.</p>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int t = 0; t &lt;= randomForTrees.nextInt(maxTreesPerChunk); t++){\n\n    // generates random locations for the X, Z positions\\\\\n    // the Y position is the height on the terrain gain with the X, Z coordinates \\\\\n    float TreeX = random.nextInt((int) (Settings.TERRAIN_VERTEX_COUNT + Settings.TERRAIN_SIZE)) + terrain.getX();\n    float TreeZ = random.nextInt((int) (Settings.TERRAIN_VERTEX_COUNT + Settings.TERRAIN_SIZE)) + terrain.getZ();\n    float TreeY = terrain.getTerrainHeightAtSpot(TreeX, TreeZ);\n\n    // creates a tree entity with the previous generated positions \\\\\n    Entity tree = new Entity(TreeStaticModel, new Vector3f(TreeX, TreeY, TreeZ), 0, random.nextInt(360), 0, 1);\n\n    // checks if the tree is on land \\\\\n    if(!(tree.getPosition().y &lt;= -17)){\n        trees.add(tree);\n    }\n}\n</code></pre>\n<p>Result:</p>\n<p><a href=\"https://i.stack.imgur.com/L0dsv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L0dsv.png\" alt=\"Image with the result of the basic above seen generation code\" /></a></p>\n"},{"tags":["java","spring-boot","lombok"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664763332,"post_id":73930268,"comment_id":130538891,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664760043,"creation_date":1664760043,"answer_id":73930367,"question_id":73930268,"body_markdown":"You can use Lombok to avoid boilerplate code. It doesn&#39;t affect any architectural pattern. If you want to achieve special cases then you can override getter/setter/constructor/hashcode/equals/toString/build.\r\n\r\nCheck out more at https://projectlombok.org/features/. Lombok is a compile-time dependency only.\r\n","title":"Lombok for Domain Object in Hexagonal Architecture","body":"<p>You can use Lombok to avoid boilerplate code. It doesn't affect any architectural pattern. If you want to achieve special cases then you can override getter/setter/constructor/hashcode/equals/toString/build.</p>\n<p>Check out more at <a href=\"https://projectlombok.org/features/\" rel=\"nofollow noreferrer\">https://projectlombok.org/features/</a>. Lombok is a compile-time dependency only.</p>\n"}],"owner":{"account_id":25709128,"reputation":5,"user_id":19467960,"display_name":"Fen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664760043,"creation_date":1664758265,"question_id":73930268,"body_markdown":"I just learned about hexagonal architecture and want to implement it in my project using java programming language. From what I learned, in this architecture, layers containing object/entity domains must be made independent (not dependent on other dependencies). The question is can I use the lombok dependency on layers containing object/entity domains to reduce boilerplate code?","title":"Lombok for Domain Object in Hexagonal Architecture","body":"<p>I just learned about hexagonal architecture and want to implement it in my project using java programming language. From what I learned, in this architecture, layers containing object/entity domains must be made independent (not dependent on other dependencies). The question is can I use the lombok dependency on layers containing object/entity domains to reduce boilerplate code?</p>\n"},{"tags":["java","grid","awtrobot"],"comments":[{"owner":{"account_id":36607,"reputation":101051,"user_id":104458,"accept_rate":91,"display_name":"selbie"},"score":0,"creation_date":1364232221,"post_id":15620880,"comment_id":22157940,"body_markdown":"What happens if you call forward() as you have implemented above, but the robot is already at (4,4). :)","body":"What happens if you call forward() as you have implemented above, but the robot is already at (4,4). :)"},{"owner":{"account_id":979146,"reputation":8543,"user_id":999353,"accept_rate":51,"display_name":"TheCoder"},"score":0,"creation_date":1364232326,"post_id":15620880,"comment_id":22157997,"body_markdown":"@selbie I had planned to put in a boundary check before each move.","body":"@selbie I had planned to put in a boundary check before each move."},{"owner":{"account_id":449991,"reputation":65003,"user_id":845092,"accept_rate":93,"display_name":"Mooing Duck"},"score":0,"creation_date":1364232339,"post_id":15620880,"comment_id":22158006,"body_markdown":"@selbie: I think far more relevant is that &quot;forward&quot; will always move the robot to the right one.","body":"@selbie: I think far more relevant is that &quot;forward&quot; will always move the robot to the right one."},{"owner":{"account_id":2386839,"reputation":717,"user_id":2087646,"accept_rate":100,"display_name":"Aboutblank"},"score":0,"creation_date":1364232408,"post_id":15620880,"comment_id":22158027,"body_markdown":"what happens if it is facing left/right?","body":"what happens if it is facing left/right?"},{"owner":{"account_id":979146,"reputation":8543,"user_id":999353,"accept_rate":51,"display_name":"TheCoder"},"score":0,"creation_date":1364232559,"post_id":15620880,"comment_id":22158091,"body_markdown":"@Aboutblank The bit I have started with is in its infancy. It will not work in it&#39;s current guise. It&#39;s not supposed to be my attempt at a solution. Just a way of suggesting an approach.","body":"@Aboutblank The bit I have started with is in its infancy. It will not work in it&#39;s current guise. It&#39;s not supposed to be my attempt at a solution. Just a way of suggesting an approach."},{"owner":{"account_id":2398603,"reputation":3749,"user_id":2096883,"accept_rate":78,"display_name":"Jared Nielsen"},"score":0,"creation_date":1369441985,"post_id":15620880,"comment_id":24118717,"body_markdown":"What is your question?","body":"What is your question?"}],"answers":[{"tags":[],"owner":{"account_id":986733,"reputation":14661,"user_id":1005039,"accept_rate":83,"display_name":"Gustav Bertram"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1376905004,"creation_date":1376905004,"answer_id":18310653,"question_id":15620880,"body_markdown":"Firstly, I would decide what x and y means. In this case, I&#39;m going to say that x gets larger when you move &quot;east&quot;, and y gets larger when you move &quot;south&quot;. This is usually how it works in computer graphics - the 0,0 point is usually in the top left corner, as is shown here: http://graphics.comsci.us/notes/coord.html\r\n\r\nSo, what I would do is have two classes, Robot and Grid.\r\n\r\nThe **Grid class** should have these properties:\r\n\r\n - minX, which is an int\r\n - maxX, which is an int\r\n - minY, which is an int\r\n - maxY, which is an int\r\n\r\nAnd these methods:\r\n\r\n - isValid(int x, int y)\r\n\r\nThe **Robot class** should have these properties:\r\n\r\n - position, which is a Point\r\n - orientation, which is a direction\r\n - grid, which contains the grid object\r\n\r\nIt should also have these methods:\r\n\r\n - forward()\r\n - left()\r\n - right()\r\n\r\nIt does not matter how you store the orientation - 0,1,2,3 or &quot;north&quot;, &quot;east&quot;, &quot;south&quot;, &quot;west&quot;, or &quot;up&quot;, &quot;right&quot;, &quot;down&quot;, &quot;left&quot;, or maybe even 0, 90, 180, 270, 360 (degrees), or radians. What is important is that you&#39;re consistent in your use of the orientation.\r\n\r\nNow, inside `left()` and `right()`, you change the orientation of your robot. So you could do something like this:\r\n\r\n    public void left() {\r\n      switch (orientation) {\r\n        case &quot;north&quot;: orientation = &quot;west&quot;; break;\r\n        case &quot;east&quot;: orientation = &quot;north&quot;; break;\r\n        ...\r\n      }\r\n    }\r\n\r\nYou would change the directions in order, and you would do them in reverse order in the `right()` function.\r\n\r\nInside `forward()` is where you interact with the `grid` object:\r\n\r\n    public void forward() {\r\n      switch (orientation) {\r\n        case &quot;north&quot;:\r\n          if (grid.isValid(position.x, position.y+1)) {\r\n            position.y += 1;\r\n          } else {\r\n            System.out.println(&quot;Can&#39;t go there!&quot;);\r\n          }\r\n          break;\r\n        ...\r\n    }\r\n\r\nWhat is interesting to notice, is that the Grid class can store *any* shape. As long as you check that the place you want to go to is valid first, the robot doesn&#39;t care what the grid looks like. You can pluck your robot off this grid, and put it on another grid, and it would still work the same way.\r\n\r\nThe next bit would be something that reads commands that you send to it, I imagine. At that point, maybe you&#39;ll just read the string one character at a time, and execute the command that it specifies.\r\n\r\n\r\n\r\n","title":"How to direct a robot","body":"<p>Firstly, I would decide what x and y means. In this case, I'm going to say that x gets larger when you move \"east\", and y gets larger when you move \"south\". This is usually how it works in computer graphics - the 0,0 point is usually in the top left corner, as is shown here: <a href=\"http://graphics.comsci.us/notes/coord.html\" rel=\"nofollow\">http://graphics.comsci.us/notes/coord.html</a></p>\n\n<p>So, what I would do is have two classes, Robot and Grid.</p>\n\n<p>The <strong>Grid class</strong> should have these properties:</p>\n\n<ul>\n<li>minX, which is an int</li>\n<li>maxX, which is an int</li>\n<li>minY, which is an int</li>\n<li>maxY, which is an int</li>\n</ul>\n\n<p>And these methods:</p>\n\n<ul>\n<li>isValid(int x, int y)</li>\n</ul>\n\n<p>The <strong>Robot class</strong> should have these properties:</p>\n\n<ul>\n<li>position, which is a Point</li>\n<li>orientation, which is a direction</li>\n<li>grid, which contains the grid object</li>\n</ul>\n\n<p>It should also have these methods:</p>\n\n<ul>\n<li>forward()</li>\n<li>left()</li>\n<li>right()</li>\n</ul>\n\n<p>It does not matter how you store the orientation - 0,1,2,3 or \"north\", \"east\", \"south\", \"west\", or \"up\", \"right\", \"down\", \"left\", or maybe even 0, 90, 180, 270, 360 (degrees), or radians. What is important is that you're consistent in your use of the orientation.</p>\n\n<p>Now, inside <code>left()</code> and <code>right()</code>, you change the orientation of your robot. So you could do something like this:</p>\n\n<pre><code>public void left() {\n  switch (orientation) {\n    case \"north\": orientation = \"west\"; break;\n    case \"east\": orientation = \"north\"; break;\n    ...\n  }\n}\n</code></pre>\n\n<p>You would change the directions in order, and you would do them in reverse order in the <code>right()</code> function.</p>\n\n<p>Inside <code>forward()</code> is where you interact with the <code>grid</code> object:</p>\n\n<pre><code>public void forward() {\n  switch (orientation) {\n    case \"north\":\n      if (grid.isValid(position.x, position.y+1)) {\n        position.y += 1;\n      } else {\n        System.out.println(\"Can't go there!\");\n      }\n      break;\n    ...\n}\n</code></pre>\n\n<p>What is interesting to notice, is that the Grid class can store <em>any</em> shape. As long as you check that the place you want to go to is valid first, the robot doesn't care what the grid looks like. You can pluck your robot off this grid, and put it on another grid, and it would still work the same way.</p>\n\n<p>The next bit would be something that reads commands that you send to it, I imagine. At that point, maybe you'll just read the string one character at a time, and execute the command that it specifies.</p>\n"},{"tags":[],"owner":{"account_id":1992174,"reputation":21,"user_id":1785961,"display_name":"user1785961"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664757896,"creation_date":1664297352,"answer_id":73871154,"question_id":15620880,"body_markdown":"```\r\npublic class RobotMarsDirections {\r\n\r\n    static int x = 0;\r\n    static int y = 0;\r\n    // default face North direction as per example\r\n    static char faceDirection = &#39;N&#39;;\r\n\r\n    public static void main(String[] args) {\r\n        try{\r\n            roboMovementDirections(&quot;LFFFRFFFRRRFFF&quot;);\r\n            System.out.println(&quot;[&quot;+x+&quot;,&quot;+y+&quot;]&quot;);\r\n        } catch (Exception ex){\r\n            ex.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    private static void roboMovementDirections(String instructions) throws Exception {\r\n        char[] instructionsArray = instructions.toCharArray();\r\n        for(char instruction: instructionsArray){\r\n            if(instruction == &#39;L&#39; || instruction == &#39;R&#39;){\r\n                changeFaceDirection(instruction);\r\n            } else  if(instruction == &#39;F&#39;) {\r\n                if(faceDirection == &#39;N&#39;) {\r\n                    y += 1;\r\n                } else if (faceDirection == &#39;E&#39;) {\r\n                    x +=1;\r\n                } else if(faceDirection == &#39;W&#39;) {\r\n                    x -=1;\r\n                } else {\r\n                    y -=1;\r\n                }\r\n            } else {\r\n                throw new Exception(&quot;Invalid instruction found - only L,R,F are accepted values&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    private static void changeFaceDirection(char instruction) {\r\n\r\n        if(faceDirection == &#39;N&#39;) {\r\n            faceDirection = instruction == &#39;L&#39; ?  &#39;W&#39; : &#39;E&#39;;\r\n        } else if(faceDirection == &#39;E&#39;) {\r\n            faceDirection = instruction == &#39;L&#39; ?  &#39;N&#39; : &#39;S&#39;;\r\n        } else if(faceDirection == &#39;W&#39;) {\r\n            faceDirection = instruction == &#39;L&#39; ?  &#39;S&#39; : &#39;N&#39;;\r\n        } else if(faceDirection == &#39;S&#39;) {\r\n            faceDirection = instruction == &#39;L&#39; ?  &#39;E&#39; : &#39;W&#39;;\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```","title":"How to direct a robot","body":"<pre><code>public class RobotMarsDirections {\n\n    static int x = 0;\n    static int y = 0;\n    // default face North direction as per example\n    static char faceDirection = 'N';\n\n    public static void main(String[] args) {\n        try{\n            roboMovementDirections(&quot;LFFFRFFFRRRFFF&quot;);\n            System.out.println(&quot;[&quot;+x+&quot;,&quot;+y+&quot;]&quot;);\n        } catch (Exception ex){\n            ex.printStackTrace();\n        }\n\n    }\n\n    private static void roboMovementDirections(String instructions) throws Exception {\n        char[] instructionsArray = instructions.toCharArray();\n        for(char instruction: instructionsArray){\n            if(instruction == 'L' || instruction == 'R'){\n                changeFaceDirection(instruction);\n            } else  if(instruction == 'F') {\n                if(faceDirection == 'N') {\n                    y += 1;\n                } else if (faceDirection == 'E') {\n                    x +=1;\n                } else if(faceDirection == 'W') {\n                    x -=1;\n                } else {\n                    y -=1;\n                }\n            } else {\n                throw new Exception(&quot;Invalid instruction found - only L,R,F are accepted values&quot;);\n            }\n        }\n    }\n\n    private static void changeFaceDirection(char instruction) {\n\n        if(faceDirection == 'N') {\n            faceDirection = instruction == 'L' ?  'W' : 'E';\n        } else if(faceDirection == 'E') {\n            faceDirection = instruction == 'L' ?  'N' : 'S';\n        } else if(faceDirection == 'W') {\n            faceDirection = instruction == 'L' ?  'S' : 'N';\n        } else if(faceDirection == 'S') {\n            faceDirection = instruction == 'L' ?  'E' : 'W';\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":979146,"reputation":8543,"user_id":999353,"accept_rate":51,"display_name":"TheCoder"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2173,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":18310653,"answer_count":2,"score":1,"last_activity_date":1664757896,"creation_date":1364231801,"question_id":15620880,"body_markdown":"I am writing a Java program that allows a user to send messages to a robot to tell it where to go on a 5x5 grid. E.g, if I send it &#39;FRFFLF&#39;, this means go forward, run right 90 degrees, forward twice, turn left 90 degrees and then go forward. The program then returns the robot&#39;s new position on the grid.\r\n\r\nI&#39;m not seeking a solution, just some guidelines on my approach. Are there already design patterns available for such a program (so I&#39;m not reinventing the wheel) or is it possible to write from scratch?\r\n\r\nThe bottom of the grid is (0,0 and the top would be (4,4).\r\n\r\nI&#39;m thinking that the Robots position could be defined as a Java Point class and the grid would be a 2D array?\r\n\r\nWould something like the following be a start?\r\n\r\n    \tpublic Point forward(Point p) {\r\n\t\tp.x +=1;\r\n\t\treturn p;\r\n\t}\r\n\r\nHas anyone every tried to write such a program? Is it possible?\r\n\r\nEDIT: I&#39;ve thought about the following:\r\nFirstly I need the direction of the robot and its current position. From there I will be encapsulating the grid creating a few rules around boundaries. Basically I will update the position of the robot interpreting the commands passed to it and updating the position based of the robot. Obviously the robot will need to only move within the bounds of the grid.","title":"How to direct a robot","body":"<p>I am writing a Java program that allows a user to send messages to a robot to tell it where to go on a 5x5 grid. E.g, if I send it 'FRFFLF', this means go forward, run right 90 degrees, forward twice, turn left 90 degrees and then go forward. The program then returns the robot's new position on the grid.</p>\n\n<p>I'm not seeking a solution, just some guidelines on my approach. Are there already design patterns available for such a program (so I'm not reinventing the wheel) or is it possible to write from scratch?</p>\n\n<p>The bottom of the grid is (0,0 and the top would be (4,4).</p>\n\n<p>I'm thinking that the Robots position could be defined as a Java Point class and the grid would be a 2D array?</p>\n\n<p>Would something like the following be a start?</p>\n\n<pre><code>    public Point forward(Point p) {\n    p.x +=1;\n    return p;\n}\n</code></pre>\n\n<p>Has anyone every tried to write such a program? Is it possible?</p>\n\n<p>EDIT: I've thought about the following:\nFirstly I need the direction of the robot and its current position. From there I will be encapsulating the grid creating a few rules around boundaries. Basically I will update the position of the robot interpreting the commands passed to it and updating the position based of the robot. Obviously the robot will need to only move within the bounds of the grid.</p>\n"},{"tags":["java","android","flutter","attachevent","event-channel"],"comments":[{"owner":{"account_id":3018507,"reputation":729,"user_id":2560050,"accept_rate":27,"display_name":"umuieme"},"score":0,"creation_date":1664509423,"post_id":73903042,"comment_id":130493007,"body_markdown":"I could not see any code in your android side to send the data back to flutter using your event sink variable named `attachedEvent`","body":"I could not see any code in your android side to send the data back to flutter using your event sink variable named <code>attachedEvent</code>"},{"owner":{"account_id":20661671,"reputation":1,"user_id":15169508,"display_name":"Ravi Prakash Gupta"},"score":0,"creation_date":1664757815,"post_id":73903042,"comment_id":130538362,"body_markdown":"Thank you for the reply. Sorry, I forgot to include that attachedEvent. Now, I have included that in the mainjavafile.txt. Can you check the code once again?","body":"Thank you for the reply. Sorry, I forgot to include that attachedEvent. Now, I have included that in the mainjavafile.txt. Can you check the code once again?"}],"owner":{"account_id":20661671,"reputation":1,"user_id":15169508,"display_name":"Ravi Prakash Gupta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664757749,"creation_date":1664500460,"question_id":73903042,"body_markdown":"I am a newbie to flutter and Java. I want help from you guys.\r\n\r\nWhat do I need?\r\nI want to make an android mobile application with two buttons. One button to record our voice and another one to stop recording.\r\nAfter clicking a record button I want to record my sound with the help of Microsoft Azure speech-to-text API and get a transcribed text. The text should be then passed to the flutter in real-time and displayed on a screen.\r\n\r\nWhat I have done?\r\nI have created a dart file with a text area and two buttons. One button to record sound and another one to stop recording.\r\nWhen I clicked a record button, the Java code will be called with the event channel as I want the speech to text in real-time. The java code will contain a Microsoft azure speech-to-text API and give a text output of the given input voice.\r\n\r\nWhat is my problem?\r\nI got a speech-to-text from Microsoft Azure API when I clicked a record button. But the transcribed text is not passing to flutter. I was able to get a hard-coded text to the flutter but I want to get a transcribed text returned back to flutter and it should be real-time also.\r\n\r\nI have attached a java code as well as dart files in .txt format which I am using.\r\n\r\nHope you guys will help me to find a solution.\r\n\r\nhomepage.txt\r\n\r\n    import &#39;dart:async&#39;;\r\n    \r\n    import &#39;package:flutter/material.dart&#39;;\r\n    import &#39;package:flutter/services.dart&#39;;\r\n    \r\n    class MyHomePage extends StatefulWidget {\r\n      const MyHomePage({Key? key, required this.title}) : super(key: key);\r\n      final String title;\r\n    \r\n      @override\r\n      State&lt;MyHomePage&gt; createState() =&gt; _MyHomePageState();\r\n    }\r\n    \r\n    class _MyHomePageState extends State&lt;MyHomePage&gt; {\r\n      static const stream = EventChannel(\r\n          &#39;com.chamelalaboratory.demo.flutter_event_channel/eventChannel&#39;);\r\n    \r\n      late StreamSubscription _streamSubscription;\r\n      String _currentValue = &quot;&quot;;\r\n    \r\n      void _startListener() {\r\n        _streamSubscription = stream.receiveBroadcastStream().listen(_listenStream);\r\n      }\r\n    \r\n      void _cancelListener() {\r\n        _streamSubscription.cancel();\r\n        setState(() {\r\n          _currentValue = &quot;Start Recording...&quot;;\r\n        });\r\n      }\r\n    \r\n      void _listenStream(value) {\r\n        debugPrint(&quot;Received From Native:  $value\\n&quot;);\r\n        setState(() {\r\n          _currentValue = value;\r\n        });\r\n      }\r\n    \r\n      @override\r\n      Widget build(BuildContext context) {\r\n        return Scaffold(\r\n          appBar: AppBar(\r\n            title: Text(widget.title),\r\n          ),\r\n          body: Center(\r\n            child: Column(\r\n              mainAxisAlignment: MainAxisAlignment.center,\r\n              crossAxisAlignment: CrossAxisAlignment.center,\r\n              children: [\r\n                Text(_currentValue.toUpperCase(), textAlign: TextAlign.justify),\r\n                const SizedBox(\r\n                  height: 50,\r\n                ),\r\n    \r\n                //Start Btn\r\n                ElevatedButton(\r\n                  onPressed: () =&gt; _startListener(),\r\n                  child: Text(&quot;Record&quot;.toUpperCase()),\r\n                ),\r\n                const SizedBox(\r\n                  height: 50,\r\n                ),\r\n    \r\n                //Cancel Btn\r\n                ElevatedButton(\r\n                  onPressed: () =&gt; _cancelListener(),\r\n                  child: Text(&quot;Stop&quot;.toUpperCase()),\r\n                ),\r\n              ],\r\n            ),\r\n          ),\r\n        );\r\n      }\r\n    }\r\n\r\nmain.txt\r\n\r\n    import &#39;package:flutter/material.dart&#39;;\r\n    \r\n    import &#39;home_page.dart&#39;;\r\n    \r\n    void main() {\r\n      runApp(const MyApp());\r\n    }\r\n    \r\n    class MyApp extends StatelessWidget {\r\n      const MyApp({Key? key}) : super(key: key);\r\n    \r\n      // This widget is the root of your application.\r\n      @override\r\n      Widget build(BuildContext context) {\r\n        return MaterialApp(\r\n          title: &#39;Event Channel Flutter Demo&#39;,\r\n          theme: ThemeData(\r\n            primarySwatch: Colors.blue,\r\n          ),\r\n          home: const MyHomePage(title: &#39;Demo page&#39;),\r\n        );\r\n      }\r\n    }\r\n\r\n\r\nmainjavafile.txt\r\n\r\n    package com.example.sounddiaryapp;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import io.flutter.embedding.android.FlutterActivity;\r\n    import io.flutter.embedding.engine.FlutterEngine;\r\n    \r\n    import com.microsoft.cognitiveservices.speech.*;\r\n    import com.microsoft.cognitiveservices.speech.audio.*;\r\n    \r\n    import java.util.concurrent.ExecutionException;\r\n    import java.io.IOException;\r\n    import java.util.concurrent.Future;\r\n    \r\n    import androidx.core.app.ActivityCompat;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.TextView;\r\n    \r\n    import java.util.*;  \r\n    import java.util.concurrent.Future;\r\n    import static android.Manifest.permission.*;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import android.os.Handler;\r\n    import java.util.Objects;\r\n    import io.flutter.plugin.common.EventChannel;\r\n    \r\n    public class MainActivity extends FlutterActivity {\r\n        private static final String CHANNEL = &quot;codecommon&quot;;\r\n        private static String YourSubscriptionKey = &quot;&quot;;\r\n        private static String YourServiceRegion = &quot;&quot;;\r\n    \r\n        public static final String STREAM = &quot;com.chamelalaboratory.demo.flutter_event_channel/eventChannel&quot;;\r\n        final String TAG_NAME = &quot;From_Native&quot;;\r\n    \r\n        private EventChannel.EventSink attachEvent;\r\n        private int count = 1;\r\n        public String receivedText = &quot;&quot;;\r\n        List&lt;String&gt; textList=new ArrayList&lt;String&gt;();  \r\n    \r\n        private Handler handler;\r\n    \r\n        SpeechConfig speechConfig = SpeechConfig.fromSubscription(YourSubscriptionKey,\r\n                        YourServiceRegion);\r\n    \r\n        AudioConfig audioConfig = AudioConfig.fromDefaultMicrophoneInput();\r\n        SpeechRecognizer speechRecognizer  = new SpeechRecognizer(speechConfig, audioConfig);\r\n    \r\n        private final Runnable runnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n    \r\n                try{\r\n                    int requestCode = 5; // unique code for the permission request\r\n                    ActivityCompat.requestPermissions(MainActivity.this,\r\n                            new String[] { RECORD_AUDIO, INTERNET }, requestCode);\r\n                    \r\n                    try {   \r\n                        speechRecognizer.recognized.addEventListener((s, e) -&gt; {\r\n                            if (e.getResult().getReason() == ResultReason.RecognizedSpeech) {\r\n                                System.out.println(&quot;RECOGNIZED: Text=&quot; + e.getResult().getText());\r\n                                String receivedText = e.getResult().getText();\r\n                                attachEvent.success(receivedText);\r\n            \r\n                            } else if (e.getResult().getReason() == ResultReason.NoMatch) {\r\n                                System.out.println(&quot;NOMATCH: Speech could not be recognized.&quot;);\r\n            \r\n                                try {\r\n                                    speechRecognizer.stopContinuousRecognitionAsync().get();\r\n                                    // attachEvent.endOfStream();\r\n                                }\r\n                                catch (Exception ex ) {\r\n                                    System.out.println(ex.getMessage());\r\n                                }\r\n                                \r\n                            }\r\n                        });\r\n            \r\n                        speechRecognizer.canceled.addEventListener((s, e) -&gt; {\r\n                            System.out.println(&quot;CANCELED: Reason=&quot; + e.getReason());\r\n            \r\n                            if (e.getReason() == CancellationReason.Error) {\r\n                                System.out.println(&quot;CANCELED: ErrorCode=&quot; + e.getErrorCode());\r\n                                System.out.println(&quot;CANCELED: ErrorDetails=&quot; + e.getErrorDetails());\r\n                                System.out.println(\r\n                                        &quot;CANCELED: Did you set the speech resource key and region values?&quot;);\r\n                            }\r\n            \r\n                            try {\r\n                                speechRecognizer.stopContinuousRecognitionAsync().get();\r\n                                attachEvent.endOfStream();\r\n                            }\r\n                            catch (Exception ex ) {\r\n                                System.out.println(ex.getMessage());\r\n                            }\r\n            \r\n                        });\r\n            \r\n                        speechRecognizer.sessionStopped.addEventListener((s, e) -&gt; {\r\n                            System.out.println(&quot;\\n    top Session stopped event.&quot;);\r\n            \r\n                            try {\r\n                                speechRecognizer.stopContinuousRecognitionAsync().get();\r\n                                // attachEvent.endOfStream();\r\n                            }\r\n                            catch (Exception ex ) {\r\n                                System.out.println(ex.getMessage());\r\n                            }\r\n            \r\n                        });\r\n    \r\n                        speechRecognizer.startContinuousRecognitionAsync().get();\r\n                        \r\n            \r\n                    } catch(Exception e) {\r\n                        System.out.println(&quot;*****************************************************&quot;);\r\n                        System.out.println(e.getMessage());\r\n                        try {\r\n                            speechRecognizer.stopContinuousRecognitionAsync().get();\r\n                            // attachEvent.endOfStream();\r\n                        }\r\n                        catch (Exception ex ) {\r\n                            System.out.println(ex.getMessage());\r\n                        }\r\n                    }\r\n    \r\n                } catch (Exception ex) {\r\n                    System.out.println(&quot;+++++++++++++++++++++++++++++ Unexpected exception: &quot; + ex.getMessage());\r\n                    // recognizer.stopContinuousRecognitionAsync().get();\r\n                    assert (false);\r\n                    System.exit(1);\r\n                } \r\n            }\r\n            \r\n        };\r\n                         \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            new EventChannel(Objects.requireNonNull(getFlutterEngine()).getDartExecutor(), STREAM).setStreamHandler(\r\n                    new EventChannel.StreamHandler() {\r\n                        @Override\r\n                        public void onListen(Object args, final EventChannel.EventSink events) {\r\n                            Log.w(TAG_NAME, &quot;Adding listener&quot;);\r\n                            attachEvent = events;\r\n                            count = 1;\r\n                            handler = new Handler();\r\n                            runnable.run();\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onCancel(Object args) {\r\n                            Log.w(TAG_NAME, &quot;Cancelling listener&quot;);\r\n                            try{\r\n                                stopSpeechToText();\r\n                            }\r\n                            catch (Exception ex) {\r\n                                System.out.println(&quot;-------------------------------------&quot;);\r\n                                System.out.println(ex);\r\n                            }\r\n                            \r\n                            handler.removeCallbacks(runnable);\r\n                            handler = null;\r\n                            count = 1;\r\n                            attachEvent = null;\r\n                            System.out.println(&quot;StreamHandler - onCancelled: &quot;);\r\n                        }\r\n                    }\r\n            );\r\n        }\r\n    \r\n    \r\n    \r\n        public void stopSpeechToText() throws InterruptedException, ExecutionException,IOException {\r\n            speechRecognizer .sessionStopped.addEventListener((s, e) -&gt; {\r\n                System.out.println(&quot;\\n    top Session stopped event.&quot;);\r\n    \r\n                try {\r\n                    speechRecognizer .stopContinuousRecognitionAsync().get();\r\n                    // attachEvent.endOfStream();\r\n                }\r\n                catch (Exception ex ) {\r\n                    System.out.println(ex.getMessage());\r\n                }\r\n    \r\n            });\r\n    \r\n        }\r\n    \r\n    \r\n        @Override\r\n        protected void onDestroy() {\r\n            super.onDestroy();\r\n            handler.removeCallbacks(runnable);\r\n            handler = null;\r\n            attachEvent = null;\r\n        }\r\n    }\r\n","title":"Data streaming between Flutter and Java is not working","body":"<p>I am a newbie to flutter and Java. I want help from you guys.</p>\n<p>What do I need?\nI want to make an android mobile application with two buttons. One button to record our voice and another one to stop recording.\nAfter clicking a record button I want to record my sound with the help of Microsoft Azure speech-to-text API and get a transcribed text. The text should be then passed to the flutter in real-time and displayed on a screen.</p>\n<p>What I have done?\nI have created a dart file with a text area and two buttons. One button to record sound and another one to stop recording.\nWhen I clicked a record button, the Java code will be called with the event channel as I want the speech to text in real-time. The java code will contain a Microsoft azure speech-to-text API and give a text output of the given input voice.</p>\n<p>What is my problem?\nI got a speech-to-text from Microsoft Azure API when I clicked a record button. But the transcribed text is not passing to flutter. I was able to get a hard-coded text to the flutter but I want to get a transcribed text returned back to flutter and it should be real-time also.</p>\n<p>I have attached a java code as well as dart files in .txt format which I am using.</p>\n<p>Hope you guys will help me to find a solution.</p>\n<p>homepage.txt</p>\n<pre><code>import 'dart:async';\n\nimport 'package:flutter/material.dart';\nimport 'package:flutter/services.dart';\n\nclass MyHomePage extends StatefulWidget {\n  const MyHomePage({Key? key, required this.title}) : super(key: key);\n  final String title;\n\n  @override\n  State&lt;MyHomePage&gt; createState() =&gt; _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  static const stream = EventChannel(\n      'com.chamelalaboratory.demo.flutter_event_channel/eventChannel');\n\n  late StreamSubscription _streamSubscription;\n  String _currentValue = &quot;&quot;;\n\n  void _startListener() {\n    _streamSubscription = stream.receiveBroadcastStream().listen(_listenStream);\n  }\n\n  void _cancelListener() {\n    _streamSubscription.cancel();\n    setState(() {\n      _currentValue = &quot;Start Recording...&quot;;\n    });\n  }\n\n  void _listenStream(value) {\n    debugPrint(&quot;Received From Native:  $value\\n&quot;);\n    setState(() {\n      _currentValue = value;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(widget.title),\n      ),\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          crossAxisAlignment: CrossAxisAlignment.center,\n          children: [\n            Text(_currentValue.toUpperCase(), textAlign: TextAlign.justify),\n            const SizedBox(\n              height: 50,\n            ),\n\n            //Start Btn\n            ElevatedButton(\n              onPressed: () =&gt; _startListener(),\n              child: Text(&quot;Record&quot;.toUpperCase()),\n            ),\n            const SizedBox(\n              height: 50,\n            ),\n\n            //Cancel Btn\n            ElevatedButton(\n              onPressed: () =&gt; _cancelListener(),\n              child: Text(&quot;Stop&quot;.toUpperCase()),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n<p>main.txt</p>\n<pre><code>import 'package:flutter/material.dart';\n\nimport 'home_page.dart';\n\nvoid main() {\n  runApp(const MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  const MyApp({Key? key}) : super(key: key);\n\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Event Channel Flutter Demo',\n      theme: ThemeData(\n        primarySwatch: Colors.blue,\n      ),\n      home: const MyHomePage(title: 'Demo page'),\n    );\n  }\n}\n</code></pre>\n<p>mainjavafile.txt</p>\n<pre><code>package com.example.sounddiaryapp;\n\nimport androidx.annotation.NonNull;\nimport io.flutter.embedding.android.FlutterActivity;\nimport io.flutter.embedding.engine.FlutterEngine;\n\nimport com.microsoft.cognitiveservices.speech.*;\nimport com.microsoft.cognitiveservices.speech.audio.*;\n\nimport java.util.concurrent.ExecutionException;\nimport java.io.IOException;\nimport java.util.concurrent.Future;\n\nimport androidx.core.app.ActivityCompat;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.TextView;\n\nimport java.util.*;  \nimport java.util.concurrent.Future;\nimport static android.Manifest.permission.*;\nimport java.util.concurrent.TimeUnit;\n\nimport android.os.Handler;\nimport java.util.Objects;\nimport io.flutter.plugin.common.EventChannel;\n\npublic class MainActivity extends FlutterActivity {\n    private static final String CHANNEL = &quot;codecommon&quot;;\n    private static String YourSubscriptionKey = &quot;&quot;;\n    private static String YourServiceRegion = &quot;&quot;;\n\n    public static final String STREAM = &quot;com.chamelalaboratory.demo.flutter_event_channel/eventChannel&quot;;\n    final String TAG_NAME = &quot;From_Native&quot;;\n\n    private EventChannel.EventSink attachEvent;\n    private int count = 1;\n    public String receivedText = &quot;&quot;;\n    List&lt;String&gt; textList=new ArrayList&lt;String&gt;();  \n\n    private Handler handler;\n\n    SpeechConfig speechConfig = SpeechConfig.fromSubscription(YourSubscriptionKey,\n                    YourServiceRegion);\n\n    AudioConfig audioConfig = AudioConfig.fromDefaultMicrophoneInput();\n    SpeechRecognizer speechRecognizer  = new SpeechRecognizer(speechConfig, audioConfig);\n\n    private final Runnable runnable = new Runnable() {\n        @Override\n        public void run() {\n\n            try{\n                int requestCode = 5; // unique code for the permission request\n                ActivityCompat.requestPermissions(MainActivity.this,\n                        new String[] { RECORD_AUDIO, INTERNET }, requestCode);\n                \n                try {   \n                    speechRecognizer.recognized.addEventListener((s, e) -&gt; {\n                        if (e.getResult().getReason() == ResultReason.RecognizedSpeech) {\n                            System.out.println(&quot;RECOGNIZED: Text=&quot; + e.getResult().getText());\n                            String receivedText = e.getResult().getText();\n                            attachEvent.success(receivedText);\n        \n                        } else if (e.getResult().getReason() == ResultReason.NoMatch) {\n                            System.out.println(&quot;NOMATCH: Speech could not be recognized.&quot;);\n        \n                            try {\n                                speechRecognizer.stopContinuousRecognitionAsync().get();\n                                // attachEvent.endOfStream();\n                            }\n                            catch (Exception ex ) {\n                                System.out.println(ex.getMessage());\n                            }\n                            \n                        }\n                    });\n        \n                    speechRecognizer.canceled.addEventListener((s, e) -&gt; {\n                        System.out.println(&quot;CANCELED: Reason=&quot; + e.getReason());\n        \n                        if (e.getReason() == CancellationReason.Error) {\n                            System.out.println(&quot;CANCELED: ErrorCode=&quot; + e.getErrorCode());\n                            System.out.println(&quot;CANCELED: ErrorDetails=&quot; + e.getErrorDetails());\n                            System.out.println(\n                                    &quot;CANCELED: Did you set the speech resource key and region values?&quot;);\n                        }\n        \n                        try {\n                            speechRecognizer.stopContinuousRecognitionAsync().get();\n                            attachEvent.endOfStream();\n                        }\n                        catch (Exception ex ) {\n                            System.out.println(ex.getMessage());\n                        }\n        \n                    });\n        \n                    speechRecognizer.sessionStopped.addEventListener((s, e) -&gt; {\n                        System.out.println(&quot;\\n    top Session stopped event.&quot;);\n        \n                        try {\n                            speechRecognizer.stopContinuousRecognitionAsync().get();\n                            // attachEvent.endOfStream();\n                        }\n                        catch (Exception ex ) {\n                            System.out.println(ex.getMessage());\n                        }\n        \n                    });\n\n                    speechRecognizer.startContinuousRecognitionAsync().get();\n                    \n        \n                } catch(Exception e) {\n                    System.out.println(&quot;*****************************************************&quot;);\n                    System.out.println(e.getMessage());\n                    try {\n                        speechRecognizer.stopContinuousRecognitionAsync().get();\n                        // attachEvent.endOfStream();\n                    }\n                    catch (Exception ex ) {\n                        System.out.println(ex.getMessage());\n                    }\n                }\n\n            } catch (Exception ex) {\n                System.out.println(&quot;+++++++++++++++++++++++++++++ Unexpected exception: &quot; + ex.getMessage());\n                // recognizer.stopContinuousRecognitionAsync().get();\n                assert (false);\n                System.exit(1);\n            } \n        }\n        \n    };\n                     \n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        new EventChannel(Objects.requireNonNull(getFlutterEngine()).getDartExecutor(), STREAM).setStreamHandler(\n                new EventChannel.StreamHandler() {\n                    @Override\n                    public void onListen(Object args, final EventChannel.EventSink events) {\n                        Log.w(TAG_NAME, &quot;Adding listener&quot;);\n                        attachEvent = events;\n                        count = 1;\n                        handler = new Handler();\n                        runnable.run();\n                    }\n\n                    @Override\n                    public void onCancel(Object args) {\n                        Log.w(TAG_NAME, &quot;Cancelling listener&quot;);\n                        try{\n                            stopSpeechToText();\n                        }\n                        catch (Exception ex) {\n                            System.out.println(&quot;-------------------------------------&quot;);\n                            System.out.println(ex);\n                        }\n                        \n                        handler.removeCallbacks(runnable);\n                        handler = null;\n                        count = 1;\n                        attachEvent = null;\n                        System.out.println(&quot;StreamHandler - onCancelled: &quot;);\n                    }\n                }\n        );\n    }\n\n\n\n    public void stopSpeechToText() throws InterruptedException, ExecutionException,IOException {\n        speechRecognizer .sessionStopped.addEventListener((s, e) -&gt; {\n            System.out.println(&quot;\\n    top Session stopped event.&quot;);\n\n            try {\n                speechRecognizer .stopContinuousRecognitionAsync().get();\n                // attachEvent.endOfStream();\n            }\n            catch (Exception ex ) {\n                System.out.println(ex.getMessage());\n            }\n\n        });\n\n    }\n\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        handler.removeCallbacks(runnable);\n        handler = null;\n        attachEvent = null;\n    }\n}\n</code></pre>\n"},{"tags":["java","weka"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1664625578,"post_id":73917963,"comment_id":130517260,"body_markdown":"You probably don&#39;t have write permission on `C:\\Program Files\\Weka-3-8-6`","body":"You probably don&#39;t have write permission on <code>C:\\Program Files\\Weka-3-8-6</code>"},{"owner":{"account_id":26499939,"reputation":1,"user_id":20137053,"display_name":"rimsha Tahir"},"score":0,"creation_date":1664645714,"post_id":73917963,"comment_id":130521329,"body_markdown":"i created environment variable for java. how can i get persmission?","body":"i created environment variable for java. how can i get persmission?"}],"answers":[{"comments":[{"owner":{"account_id":26499939,"reputation":1,"user_id":20137053,"display_name":"rimsha Tahir"},"score":0,"creation_date":1665092987,"post_id":73930214,"comment_id":130625294,"body_markdown":"Thank you i followed the same steps as u describe but didnt work","body":"Thank you i followed the same steps as u describe but didnt work"},{"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"score":0,"creation_date":1665105833,"post_id":73930214,"comment_id":130627207,"body_markdown":"What directory did you create? In a command-prompt execute &quot;echo %WEKA_HOME%&quot; - is the output the same as the directory that you created? Do you have write access to that directory?","body":"What directory did you create? In a command-prompt execute &quot;echo %WEKA_HOME%&quot; - is the output the same as the directory that you created? Do you have write access to that directory?"},{"owner":{"account_id":26499939,"reputation":1,"user_id":20137053,"display_name":"rimsha Tahir"},"score":0,"creation_date":1665168758,"post_id":73930214,"comment_id":130644909,"body_markdown":"yes i write command on command prompt it was same then uninstall the weka latest version . Now i install 3.7.13 version it works. but when i am uploading the large file like 1 lac instances with 2 column then EOL error even when i decompose the data in order to check the error it works file. Note(i also increase the heap size using RUN.ini maxheap=2048M; javaOpts=%JAVA_OPTS% -Xmx1024m but it does not work","body":"yes i write command on command prompt it was same then uninstall the weka latest version . Now i install 3.7.13 version it works. but when i am uploading the large file like 1 lac instances with 2 column then EOL error even when i decompose the data in order to check the error it works file. Note(i also increase the heap size using RUN.ini maxheap=2048M; javaOpts=%JAVA_OPTS% -Xmx1024m but it does not work"},{"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"score":0,"creation_date":1665356370,"post_id":73930214,"comment_id":130674953,"body_markdown":"This is a different question, please start a new Q&amp;A.","body":"This is a different question, please start a new Q&amp;A."},{"owner":{"account_id":26499939,"reputation":1,"user_id":20137053,"display_name":"rimsha Tahir"},"score":0,"creation_date":1665478882,"post_id":73930214,"comment_id":130704066,"body_markdown":"i have created the enviro. WEKA_HOME with weka home directory but i got same error as i mentioned earlier. what should i do ?","body":"i have created the enviro. WEKA_HOME with weka home directory but i got same error as i mentioned earlier. what should i do ?"},{"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"score":0,"creation_date":1665522405,"post_id":73930214,"comment_id":130719706,"body_markdown":"Update your question with: 1. the directory you installed Weka in. 2. the directory that will act as your Weka home dir. 3. the value of the WEKA_HOME environment variable (`echo %WEKA_HOME%`).","body":"Update your question with: 1. the directory you installed Weka in. 2. the directory that will act as your Weka home dir. 3. the value of the WEKA_HOME environment variable (<code>echo %WEKA_HOME%</code>)."}],"tags":[],"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664757212,"creation_date":1664757212,"answer_id":73930214,"question_id":73917963,"body_markdown":"As [tgdavies](https://stackoverflow.com/users/11002/tgdavies) pointed out, the currently logged in user does not seem to have write permissions to the `C:\\Program Files\\Weka-3-8-6` directory.\r\n\r\nDid you create a `WEKA_HOME` environment variable and pointed it at the `C:\\Program Files\\Weka-3-8-6` directory? By default, this variable would point to `%USERPROFILE%\\wekafiles` under Windows and `$HOME/wekafiles` under Linux/Mac.\r\n\r\nThe `WEKA_HOME` directory is not Weka&#39;s installation directory with the executables, javadoc, etc, but the directory where Weka will look for packages, props files, store its log files, etc. \r\n\r\nYou should create a directory in your home directory (your user would have write access there) and then point the `WEKA_HOME` environment variable to that directory. Once that is done, try starting Weka again.\r\n\r\n","title":"why Weka 3.8.6 is giving java error while open the tool?","body":"<p>As <a href=\"https://stackoverflow.com/users/11002/tgdavies\">tgdavies</a> pointed out, the currently logged in user does not seem to have write permissions to the <code>C:\\Program Files\\Weka-3-8-6</code> directory.</p>\n<p>Did you create a <code>WEKA_HOME</code> environment variable and pointed it at the <code>C:\\Program Files\\Weka-3-8-6</code> directory? By default, this variable would point to <code>%USERPROFILE%\\wekafiles</code> under Windows and <code>$HOME/wekafiles</code> under Linux/Mac.</p>\n<p>The <code>WEKA_HOME</code> directory is not Weka's installation directory with the executables, javadoc, etc, but the directory where Weka will look for packages, props files, store its log files, etc.</p>\n<p>You should create a directory in your home directory (your user would have write access there) and then point the <code>WEKA_HOME</code> environment variable to that directory. Once that is done, try starting Weka again.</p>\n"}],"owner":{"account_id":26499939,"reputation":1,"user_id":20137053,"display_name":"rimsha Tahir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":499,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1664757212,"creation_date":1664623997,"question_id":73917963,"body_markdown":"when I tried to run weka 3.8.6 the Error is\r\n\r\n```\r\njava.lang.reflect.InvocationTargetException \r\n  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \r\n  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) \r\n  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) \r\n  at java.base/java.lang.reflect.Method.invoke(Unknown Source) \r\n  at weka.gui.SplashWindow.invokeMain(SplashWindow.java:306) \r\n  at weka.gui.GUIChooser.main(GUIChooser.java:92) \r\nCaused by: java.lang.IllegalStateException: \r\njava.io.IOException: Unable to create the metastore directory: C:\\Program Files\\Weka-3-8-6\\wekaMetaStore \r\n  at weka.core.Settings.&lt;init&gt;(Settings.java:134) \r\n  at weka.gui.LookAndFeel.setLookAndFeel(LookAndFeel.java:151) \r\n  at weka.gui.GUIChooserApp.main(GUIChooserApp.java:1663) \r\n  ... 6 more\r\n```","title":"why Weka 3.8.6 is giving java error while open the tool?","body":"<p>when I tried to run weka 3.8.6 the Error is</p>\n<pre><code>java.lang.reflect.InvocationTargetException \n  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \n  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) \n  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) \n  at java.base/java.lang.reflect.Method.invoke(Unknown Source) \n  at weka.gui.SplashWindow.invokeMain(SplashWindow.java:306) \n  at weka.gui.GUIChooser.main(GUIChooser.java:92) \nCaused by: java.lang.IllegalStateException: \njava.io.IOException: Unable to create the metastore directory: C:\\Program Files\\Weka-3-8-6\\wekaMetaStore \n  at weka.core.Settings.&lt;init&gt;(Settings.java:134) \n  at weka.gui.LookAndFeel.setLookAndFeel(LookAndFeel.java:151) \n  at weka.gui.GUIChooserApp.main(GUIChooserApp.java:1663) \n  ... 6 more\n</code></pre>\n"},{"tags":["java","swing","jframe","jpanel","jbutton"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1664721723,"post_id":73926540,"comment_id":130531959,"body_markdown":"You need to instantiate `text` within the `panel` constructor, not the `panel.loop()` method, Declare `JLabel text;` as a public class member (along with your JTextField and JButton) then in the `panel` constructor:  `text = new JLabel(&quot;asd&quot;); text.setForeground(Color.red);`","body":"You need to instantiate <code>text</code> within the <code>panel</code> constructor, not the <code>panel.loop()</code> method, Declare <code>JLabel text;</code> as a public class member (along with your JTextField and JButton) then in the <code>panel</code> constructor:  <code>text = new JLabel(&quot;asd&quot;); text.setForeground(Color.red);</code>"},{"owner":{"account_id":25770995,"reputation":35,"user_id":19519818,"display_name":"asgr"},"score":0,"creation_date":1664723319,"post_id":73926540,"comment_id":130532290,"body_markdown":"@DevilsHnd I have edited my code now as I understand your proposal. that&#39;s how i first tried it but that still doesn&#39;t work. Could you maybe post your proposal as an answer? because I think I might not fully understand what you mean. I have just moved `JLabel text = new JLabel(&quot;asd&quot;);` to the panel constructor","body":"@DevilsHnd I have edited my code now as I understand your proposal. that&#39;s how i first tried it but that still doesn&#39;t work. Could you maybe post your proposal as an answer? because I think I might not fully understand what you mean. I have just moved <code>JLabel text = new JLabel(&quot;asd&quot;);</code> to the panel constructor"}],"answers":[{"comments":[{"owner":{"account_id":25770995,"reputation":35,"user_id":19519818,"display_name":"asgr"},"score":0,"creation_date":1664725117,"post_id":73927046,"comment_id":130532704,"body_markdown":"Sadly that doesn&#39;t help. At first I thought that that might be the solution but it isn&#39;t. I want to change the content of `text` inside my `sagName()` function inside the Day class. It still gives me the exact same error there.","body":"Sadly that doesn&#39;t help. At first I thought that that might be the solution but it isn&#39;t. I want to change the content of <code>text</code> inside my <code>sagName()</code> function inside the Day class. It still gives me the exact same error there."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1664726360,"post_id":73927046,"comment_id":130533026,"body_markdown":"try `Panel.text.setText(&quot;Label Text&quot;);`","body":"try <code>Panel.text.setText(&quot;Label Text&quot;);</code>"},{"owner":{"account_id":25770995,"reputation":35,"user_id":19519818,"display_name":"asgr"},"score":0,"creation_date":1664727210,"post_id":73927046,"comment_id":130533240,"body_markdown":"That works! add it to your proposal and I&#39;ll accept it.","body":"That works! add it to your proposal and I&#39;ll accept it."}],"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664756550,"creation_date":1664724407,"answer_id":73927046,"question_id":73926540,"body_markdown":"You haven&#39;t declared the JLabel as a class member to make it class global, for example:\r\n\r\n    public class Panel extends JPanel implements ActionListener {\r\n    \r\n    //Screen Settings\r\n    final int originalTileSize = 16;\r\n    final int scale = 3;\r\n    final int tileSize = originalTileSize * scale;\r\n    final int maxScreenCol = 16;\r\n    final int maxScreenRow = 12;\r\n    final int screenWidth = tileSize * maxScreenCol;\r\n    final int screenHeight = tileSize * maxScreenRow;\r\n    \r\n    JButton knopf;\r\n    JTextField field;\r\n    JLabel text;        // &lt;-- Added!!\r\n    Tage days; \r\n    String textInhalt;\r\n    \r\n        public Panel(){\r\n        \r\n        this.setPreferredSize(new Dimension(screenWidth, screenHeight));\r\n        this.setBackground(Color.black);\r\n        this.setDoubleBuffered(true);\r\n        this.setFocusable(true);\r\n        \r\n        //Initialize Button \r\n        knopf = new JButton(&quot;klick&quot;);\r\n        knopf.addActionListener(this);\r\n        knopf.setPreferredSize(new Dimension (100, 35));\r\n        \r\n        //Initialize Text field \r\n        field = new JTextField();\r\n        field.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\r\n        field.setPreferredSize(new Dimension (200, 50));\r\n        \r\n        text = new JLabel(&quot;asd&quot;);       // &lt;-- Modified!!\r\n        text.setForeground(Color.red);\r\n        \r\n        this.add(field);\r\n        this.add(knopf);\r\n\r\n        // ......  The rest of you Panel class here  ......\r\n\r\n\r\nThe **Day** class:\r\n\r\n```\r\npackage basicsPack;\r\n\r\nimport java.awt.Color;\r\nimport basicsPack.Panel.*;\r\nimport javax.swing.JLabel;\r\n\r\npublic class Day {\r\n    \r\n    boolean isSchool;\r\n    String[] stunden;\r\n    String name;\r\n    \r\n    \r\n    public Day(boolean isSchool, String[] stunden, String name) {\r\n        this.isSchool = isSchool;  \r\n        this.stunden = stunden;\r\n        this.name = name;\r\n    }\r\n    \r\n    public void sagName() {\r\n        System.out.println(this.isSchool);\r\n        System.out.println(this.name);\r\n        Panel.text.setText(&quot;Label Text&quot;);  //  &lt;---\r\n    }\r\n}\r\n```","title":"setText of JLabel in another class. Java","body":"<p>You haven't declared the JLabel as a class member to make it class global, for example:</p>\n<pre><code>public class Panel extends JPanel implements ActionListener {\n\n//Screen Settings\nfinal int originalTileSize = 16;\nfinal int scale = 3;\nfinal int tileSize = originalTileSize * scale;\nfinal int maxScreenCol = 16;\nfinal int maxScreenRow = 12;\nfinal int screenWidth = tileSize * maxScreenCol;\nfinal int screenHeight = tileSize * maxScreenRow;\n\nJButton knopf;\nJTextField field;\nJLabel text;        // &lt;-- Added!!\nTage days; \nString textInhalt;\n\n    public Panel(){\n    \n    this.setPreferredSize(new Dimension(screenWidth, screenHeight));\n    this.setBackground(Color.black);\n    this.setDoubleBuffered(true);\n    this.setFocusable(true);\n    \n    //Initialize Button \n    knopf = new JButton(&quot;klick&quot;);\n    knopf.addActionListener(this);\n    knopf.setPreferredSize(new Dimension (100, 35));\n    \n    //Initialize Text field \n    field = new JTextField();\n    field.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\n    field.setPreferredSize(new Dimension (200, 50));\n    \n    text = new JLabel(&quot;asd&quot;);       // &lt;-- Modified!!\n    text.setForeground(Color.red);\n    \n    this.add(field);\n    this.add(knopf);\n\n    // ......  The rest of you Panel class here  ......\n</code></pre>\n<p>The <strong>Day</strong> class:</p>\n<pre><code>package basicsPack;\n\nimport java.awt.Color;\nimport basicsPack.Panel.*;\nimport javax.swing.JLabel;\n\npublic class Day {\n    \n    boolean isSchool;\n    String[] stunden;\n    String name;\n    \n    \n    public Day(boolean isSchool, String[] stunden, String name) {\n        this.isSchool = isSchool;  \n        this.stunden = stunden;\n        this.name = name;\n    }\n    \n    public void sagName() {\n        System.out.println(this.isSchool);\n        System.out.println(this.name);\n        Panel.text.setText(&quot;Label Text&quot;);  //  &lt;---\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664727714,"creation_date":1664726376,"answer_id":73927300,"question_id":73926540,"body_markdown":"Your `Day` class is a data class.  It shouldn&#39;t have any references to the `JPanel` at all. \r\n\r\nHere&#39;s what the `Day` class should look like:\r\n\r\n    package basicspack;\r\n    \r\n    public class Day {\r\n    \r\n    \tboolean isSchool;\r\n    \tString[] stunden;\r\n    \tString name;\r\n    \r\n    \tpublic Day(boolean isSchool, String[] stunden, String name) {\r\n    \t\tthis.isSchool = isSchool;\r\n    \t\tthis.stunden = stunden;\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic boolean isSchool() {\r\n    \t\treturn isSchool;\r\n    \t}\r\n    \r\n    \tpublic void setSchool(boolean isSchool) {\r\n    \t\tthis.isSchool = isSchool;\r\n    \t}\r\n    \r\n    \tpublic String[] getStunden() {\r\n    \t\treturn stunden;\r\n    \t}\r\n    \r\n    \tpublic void setStunden(String[] stunden) {\r\n    \t\tthis.stunden = stunden;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    }\r\n\r\nYou change the text of your `JLabel` in your `ActionListener` by calling a `Day` getter method.\r\n\r\nDon&#39;t name your classes (`Panel`) the same as the Java standard classes (`java.awt.Panel`).","title":"setText of JLabel in another class. Java","body":"<p>Your <code>Day</code> class is a data class.  It shouldn't have any references to the <code>JPanel</code> at all.</p>\n<p>Here's what the <code>Day</code> class should look like:</p>\n<pre><code>package basicspack;\n\npublic class Day {\n\n    boolean isSchool;\n    String[] stunden;\n    String name;\n\n    public Day(boolean isSchool, String[] stunden, String name) {\n        this.isSchool = isSchool;\n        this.stunden = stunden;\n        this.name = name;\n    }\n\n    public boolean isSchool() {\n        return isSchool;\n    }\n\n    public void setSchool(boolean isSchool) {\n        this.isSchool = isSchool;\n    }\n\n    public String[] getStunden() {\n        return stunden;\n    }\n\n    public void setStunden(String[] stunden) {\n        this.stunden = stunden;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n}\n</code></pre>\n<p>You change the text of your <code>JLabel</code> in your <code>ActionListener</code> by calling a <code>Day</code> getter method.</p>\n<p>Don't name your classes (<code>Panel</code>) the same as the Java standard classes (<code>java.awt.Panel</code>).</p>\n"}],"owner":{"account_id":25770995,"reputation":35,"user_id":19519818,"display_name":"asgr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664756550,"creation_date":1664720220,"question_id":73926540,"body_markdown":"So, I have seen many similar questions but they are all a bit different and don&#39;t seem  to fit my problem.\r\n\r\nSo, I have a &quot;Main&quot; class, a &quot;Panel&quot; class and a &quot;Day&quot; class. In my Panel class, I have created a JFrame obejct and inside my Panel class I have created a JButton and a JTextField. When the content of the text field is &quot;Monday&quot; I want to display the name of the day and rather I have school on this day. For that, I want to use JLabel. Since the method of displaying the name of the day etc is inside the Day class, I have to create the JLabel object inside the Panel class but edit it inside the Day class.\r\n\r\nHowever, when I use text.setText(&quot;Test&quot;); it does not compile. In Eclipse, it gives the following error: text cannot be resolved (text is my JLabel object). I think that the Day class simply doesn&#39;t know the text object (even when I make the text object static, which helped in similar cases).\r\n\r\nEdit: adjusted to the proposal from DevilsHnd. Still doesn&#39;t work tho\r\n\r\nDay Class:\r\n\r\n```Java\r\npackage basicsPack;\r\n\r\nimport java.awt.Color;\r\nimport basicsPack.Panel.*;\r\nimport javax.swing.JLabel;\r\n\r\npublic class Day{\r\n\t\r\n\tboolean isSchool;\r\n\tString[] stunden;\r\n\tString name;\r\n\t\r\n\t\r\n\tpublic Day(boolean isSchool, String[] stunden, String name) {\r\n\t\t\r\n\t\tthis.isSchool = isSchool;  \r\n\t\tthis.stunden = stunden;\r\n\t\tthis.name = name;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void sagName() {\r\n\t\t\r\n\t\tSystem.out.println(this.isSchool);\r\n\t\tSystem.out.println(this.name);\r\n\t\ttext.setText(&quot;Label Text&quot;); //This is what gives an error.\r\n\t}\r\n}\r\n```\r\nPanel Class:\r\n\r\n```Java\r\npackage basicsPack;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Font;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.util.Scanner;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JTextField;\r\n\r\npublic class Panel extends JPanel implements ActionListener {\r\n\t\r\n\t//Screen Settings\r\n\tfinal int originalTileSize = 16;\r\n\tfinal int scale = 3;\r\n\tfinal int tileSize = originalTileSize * scale;\r\n\tfinal int maxScreenCol = 16;\r\n\tfinal int maxScreenRow = 12;\r\n\tfinal int screenWidth = tileSize * maxScreenCol;\r\n\tfinal int screenHeight = tileSize * maxScreenRow;\r\n\t\r\n    JLabel text;\r\n\tJButton knopf;\r\n\tJTextField field;\r\n\tTage days; \r\n\tString textInhalt;\r\n\t\r\n\t\tpublic Panel(){\r\n\t\t\r\n\t\tthis.setPreferredSize(new Dimension(screenWidth, screenHeight));\r\n\t\tthis.setBackground(Color.black);\r\n\t\tthis.setDoubleBuffered(true);\r\n\t\tthis.setFocusable(true);\r\n\t\t\r\n\t\t//Initialize Button \r\n\t\tknopf = new JButton(&quot;klick&quot;);\r\n\t\tknopf.addActionListener(this);\r\n\t\tknopf.setPreferredSize(new Dimension (100, 35));\r\n\t\t\r\n\t\t//Initialize Text field \r\n\t\tfield = new JTextField();\r\n\t\tfield.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\r\n\t\tfield.setPreferredSize(new Dimension (200, 50));\r\n\t\t\r\n        text = new JLabel(&quot;asd&quot;);\r\n\t\ttext.setForeground(Color.red);\r\n\t\t\r\n\t\tthis.add(field);\r\n\t\tthis.add(knopf);\r\n\t\tthis.add(text);\r\n\r\n\t\t}\r\n\t\r\n\tpublic void loop() {\r\n\t\t\r\n\t\ttry (Scanner input = new Scanner(System.in))\r\n\t\t{\r\n\r\n\t\t\t\tSystem.out.println(&quot;welchen Tag? &quot;);\r\n\t\t\t\r\n\t\t\t\tswitch(textInhalt) \r\n\t\t\t\t{\r\n\t\t\t\t\r\n\t\t\t\tcase &quot;Montag&quot;:\r\n\t\t\t\t\tMontag.sagName();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\tcase &quot;Dienstag&quot;:\r\n\t\t\t\t\tDienstag.sagName();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\tcase &quot;Mittwoch&quot;:\r\n\t\t\t\t\tMittwoch.sagName();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\tcase &quot;Donnerstag&quot;:\r\n\t\t\t\t\tDonnerstag.sagName();\r\n\t\t\t\t\tbreak;\t\r\n\t\t\r\n\t\t\t\tcase &quot;Freitag&quot;:\r\n\t\t\t\t\tFreitag.sagName();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tcase &quot;Samstag&quot;:\r\n\t\t\t\t\tSamstag.sagName();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\tcase &quot;Sonntag&quot;:\r\n\t\t\t\t\tSonntag.sagName();\r\n\t\t\t\t\tbreak;\t\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t}\r\n\t\r\n\t\tstatic String[] monHours = {&quot;Bio&quot;, &quot;Bio&quot;, &quot;Mathe&quot;, &quot;Mathe&quot;, &quot;Chemie&quot;, &quot;Chemie&quot;, &quot;frei&quot;, &quot;Musik&quot;, &quot;Musik&quot;};\r\n\t\tstatic String[] dinHours = {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\r\n\t\tstatic String[] mitHours = {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\r\n\t\tstatic String[] donHours = {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\r\n\t\tstatic String[] freHours = {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\r\n\t\tstatic String[] samHours = {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\r\n\t\tstatic String[] sonHours = {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\r\n\t\t\r\n\t\tstatic Day Montag = new Tage(true, monHours, &quot;Montag&quot;);\r\n\t\tstatic Day Dienstag = new Tage(true, dinHours, &quot;Dinestag&quot;)  ;\r\n\t\tstatic Day Mittwoch = new Tage(true, mitHours, &quot;Mittwoch&quot;)  ;\r\n\t\tstatic Day Donnerstag = new Tage(true, donHours, &quot;Donnerstag&quot;)  ;\r\n\t\tstatic Day Freitag = new Tage(true, freHours, &quot;Freitag&quot;)  ;\r\n\t\tstatic Day Samstag = new Tage(false, samHours, &quot;Samstag&quot;)  ;\r\n\t\tstatic Day Sonntag = new Tage(false, sonHours, &quot;Sonntag&quot;)  ;\t\t\r\n\t\t\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\tif(e.getSource()==knopf) {\r\n\t\r\n\t\t\t\ttextInhalt = field.getText();\r\n\t\t\t\tloop();\r\n\t\t\t}\r\n\t\t}\r\n}\r\n\r\n```","title":"setText of JLabel in another class. Java","body":"<p>So, I have seen many similar questions but they are all a bit different and don't seem  to fit my problem.</p>\n<p>So, I have a &quot;Main&quot; class, a &quot;Panel&quot; class and a &quot;Day&quot; class. In my Panel class, I have created a JFrame obejct and inside my Panel class I have created a JButton and a JTextField. When the content of the text field is &quot;Monday&quot; I want to display the name of the day and rather I have school on this day. For that, I want to use JLabel. Since the method of displaying the name of the day etc is inside the Day class, I have to create the JLabel object inside the Panel class but edit it inside the Day class.</p>\n<p>However, when I use text.setText(&quot;Test&quot;); it does not compile. In Eclipse, it gives the following error: text cannot be resolved (text is my JLabel object). I think that the Day class simply doesn't know the text object (even when I make the text object static, which helped in similar cases).</p>\n<p>Edit: adjusted to the proposal from DevilsHnd. Still doesn't work tho</p>\n<p>Day Class:</p>\n<pre><code>package basicsPack;\n\nimport java.awt.Color;\nimport basicsPack.Panel.*;\nimport javax.swing.JLabel;\n\npublic class Day{\n    \n    boolean isSchool;\n    String[] stunden;\n    String name;\n    \n    \n    public Day(boolean isSchool, String[] stunden, String name) {\n        \n        this.isSchool = isSchool;  \n        this.stunden = stunden;\n        this.name = name;\n        \n    }\n    \n    public void sagName() {\n        \n        System.out.println(this.isSchool);\n        System.out.println(this.name);\n        text.setText(&quot;Label Text&quot;); //This is what gives an error.\n    }\n}\n</code></pre>\n<p>Panel Class:</p>\n<pre><code>package basicsPack;\n\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.Scanner;\n\nimport javax.swing.JButton;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\n\npublic class Panel extends JPanel implements ActionListener {\n    \n    //Screen Settings\n    final int originalTileSize = 16;\n    final int scale = 3;\n    final int tileSize = originalTileSize * scale;\n    final int maxScreenCol = 16;\n    final int maxScreenRow = 12;\n    final int screenWidth = tileSize * maxScreenCol;\n    final int screenHeight = tileSize * maxScreenRow;\n    \n    JLabel text;\n    JButton knopf;\n    JTextField field;\n    Tage days; \n    String textInhalt;\n    \n        public Panel(){\n        \n        this.setPreferredSize(new Dimension(screenWidth, screenHeight));\n        this.setBackground(Color.black);\n        this.setDoubleBuffered(true);\n        this.setFocusable(true);\n        \n        //Initialize Button \n        knopf = new JButton(&quot;klick&quot;);\n        knopf.addActionListener(this);\n        knopf.setPreferredSize(new Dimension (100, 35));\n        \n        //Initialize Text field \n        field = new JTextField();\n        field.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\n        field.setPreferredSize(new Dimension (200, 50));\n        \n        text = new JLabel(&quot;asd&quot;);\n        text.setForeground(Color.red);\n        \n        this.add(field);\n        this.add(knopf);\n        this.add(text);\n\n        }\n    \n    public void loop() {\n        \n        try (Scanner input = new Scanner(System.in))\n        {\n\n                System.out.println(&quot;welchen Tag? &quot;);\n            \n                switch(textInhalt) \n                {\n                \n                case &quot;Montag&quot;:\n                    Montag.sagName();\n                    break;\n                    \n                case &quot;Dienstag&quot;:\n                    Dienstag.sagName();\n                    break;\n                    \n                case &quot;Mittwoch&quot;:\n                    Mittwoch.sagName();\n                    break;\n                    \n                case &quot;Donnerstag&quot;:\n                    Donnerstag.sagName();\n                    break;  \n        \n                case &quot;Freitag&quot;:\n                    Freitag.sagName();\n                    break;\n                \n                case &quot;Samstag&quot;:\n                    Samstag.sagName();\n                    break;\n                    \n                case &quot;Sonntag&quot;:\n                    Sonntag.sagName();\n                    break;  \n                }\n            }   \n        }\n    \n        static String[] monHours = {&quot;Bio&quot;, &quot;Bio&quot;, &quot;Mathe&quot;, &quot;Mathe&quot;, &quot;Chemie&quot;, &quot;Chemie&quot;, &quot;frei&quot;, &quot;Musik&quot;, &quot;Musik&quot;};\n        static String[] dinHours = {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\n        static String[] mitHours = {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\n        static String[] donHours = {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\n        static String[] freHours = {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\n        static String[] samHours = {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\n        static String[] sonHours = {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\n        \n        static Day Montag = new Tage(true, monHours, &quot;Montag&quot;);\n        static Day Dienstag = new Tage(true, dinHours, &quot;Dinestag&quot;)  ;\n        static Day Mittwoch = new Tage(true, mitHours, &quot;Mittwoch&quot;)  ;\n        static Day Donnerstag = new Tage(true, donHours, &quot;Donnerstag&quot;)  ;\n        static Day Freitag = new Tage(true, freHours, &quot;Freitag&quot;)  ;\n        static Day Samstag = new Tage(false, samHours, &quot;Samstag&quot;)  ;\n        static Day Sonntag = new Tage(false, sonHours, &quot;Sonntag&quot;)  ;        \n        \n        \n        @Override\n        public void actionPerformed(ActionEvent e) {\n            if(e.getSource()==knopf) {\n    \n                textInhalt = field.getText();\n                loop();\n            }\n        }\n}\n\n</code></pre>\n"},{"tags":["java","android","eclipse","proguard"],"answers":[{"comments":[{"owner":{"account_id":1333279,"reputation":6465,"user_id":1276636,"accept_rate":62,"display_name":"Sufian"},"score":9,"creation_date":1443711217,"post_id":15761408,"comment_id":53610989,"body_markdown":"It helped while [Facebook&#39;s own guide](https://developers.facebook.com/docs/android/getting-started#proguard) is of no use. What an appalling piece of joke FB docs are!","body":"It helped while <a href=\"https://developers.facebook.com/docs/android/getting-started#proguard\" rel=\"nofollow noreferrer\">Facebook&#39;s own guide</a> is of no use. What an appalling piece of joke FB docs are!"},{"owner":{"account_id":473751,"reputation":19104,"user_id":883033,"accept_rate":63,"display_name":"Chandra Sekhar"},"score":4,"creation_date":1481992378,"post_id":15761408,"comment_id":69600675,"body_markdown":"But it will not obfuscate anything inside Facebook SDK. Even though you are not using all the features of SDK, it simply lies down in your code. Which is bad.","body":"But it will not obfuscate anything inside Facebook SDK. Even though you are not using all the features of SDK, it simply lies down in your code. Which is bad."}],"tags":[],"owner":{"account_id":1813395,"reputation":5057,"user_id":1649021,"accept_rate":82,"display_name":"Mark Molina"},"comment_count":2,"down_vote_count":2,"up_vote_count":63,"is_accepted":true,"score":61,"last_activity_date":1364897328,"creation_date":1364897328,"answer_id":15761408,"question_id":15760581,"body_markdown":"fixed:\r\n\r\n    -keep class com.facebook.** {\r\n       *;\r\n    }\r\n\r\ninstead of:\r\n\r\n    -keepattributes Signature\r\n    -keep class com.facebook.android.*\r\n    -keep class android.webkit.WebViewClient\r\n    -keep class * extends android.webkit.WebViewClient\r\n    -keepclassmembers class * extends android.webkit.WebViewClient { \r\n        &lt;methods&gt;; \r\n    }\r\n\r\nAlso be sure to check your hash key in your facebook app settings.\r\n\r\n","title":"Android ProGuard settings for Facebook","body":"<p>fixed:</p>\n\n<pre><code>-keep class com.facebook.** {\n   *;\n}\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>-keepattributes Signature\n-keep class com.facebook.android.*\n-keep class android.webkit.WebViewClient\n-keep class * extends android.webkit.WebViewClient\n-keepclassmembers class * extends android.webkit.WebViewClient { \n    &lt;methods&gt;; \n}\n</code></pre>\n\n<p>Also be sure to check your hash key in your facebook app settings.</p>\n"},{"tags":[],"owner":{"account_id":2100971,"reputation":1172,"user_id":1868600,"display_name":"Parmaia"},"comment_count":0,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1380730953,"creation_date":1380730953,"answer_id":19141837,"question_id":15760581,"body_markdown":"In my case your solution\r\n\r\n\r\n    -keep class com.facebook.** {\r\n       *;\r\n    }\r\n\r\nworks, but I had to keep\r\n\r\n\r\n    -keepattributes Signature\r\n\r\nIn order to get everything working.","title":"Android ProGuard settings for Facebook","body":"<p>In my case your solution</p>\n\n<pre><code>-keep class com.facebook.** {\n   *;\n}\n</code></pre>\n\n<p>works, but I had to keep</p>\n\n<pre><code>-keepattributes Signature\n</code></pre>\n\n<p>In order to get everything working.</p>\n"},{"tags":[],"owner":{"account_id":20590715,"reputation":505,"user_id":15114454,"display_name":"Hesham Yemen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664755235,"creation_date":1664755235,"answer_id":73930117,"question_id":15760581,"body_markdown":"I solved this problem by adding\r\n\r\n    implementation &#39;androidx.annotation:annotation:1.0.0&#39;\r\n\r\nreference : \r\n[Add the Audience Network SDK to your Android App][1]\r\n\r\n\r\n  [1]: https://developers.facebook.com/docs/audience-network/setting-up/platform-setup/android/add-sdk","title":"Android ProGuard settings for Facebook","body":"<p>I solved this problem by adding</p>\n<pre><code>implementation 'androidx.annotation:annotation:1.0.0'\n</code></pre>\n<p>reference :\n<a href=\"https://developers.facebook.com/docs/audience-network/setting-up/platform-setup/android/add-sdk\" rel=\"nofollow noreferrer\">Add the Audience Network SDK to your Android App</a></p>\n"}],"owner":{"account_id":1813395,"reputation":5057,"user_id":1649021,"accept_rate":82,"display_name":"Mark Molina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20873,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":15761408,"answer_count":3,"score":29,"last_activity_date":1664755235,"creation_date":1364894911,"question_id":15760581,"body_markdown":"I finally found out why my app crashes built for release. ProGuard was indeed stripping code from my application but i prevented this by manually adding the classes with the keep command in the proguard-android.txt (found in the sdk).\r\n\r\nFor Facebook I used:\r\n\r\n    -keep class com.facebook.android.*\r\n    -keep class android.webkit.WebViewClient\r\n    -keep class * extends android.webkit.WebViewClient\r\n    -keepclassmembers class * extends android.webkit.WebViewClient { \r\n        &lt;methods&gt;; \r\n    }\r\n\r\nBut I think I&#39;m still missing something. The app is crash free now but I can&#39;t log in to Facebook and use Open Graph. When I built in debug mode this all works fine.\r\n\r\nWhat are your proguard settings for using Facebook and Facebook&#39;s Open Graph?\r\n\r\n**EDIT**\r\n\r\nThis are my manually added commands for ProGuard:\r\n\r\n    -dontwarn android.support.**\r\n    \r\n    # ActionBarSherlock \r\n    \r\n    -keep class android.support.** { *; } \r\n    \r\n    -keep interface android.support.** { *; } \r\n    \r\n    -keep class com.actionbarsherlock.** { *; } \r\n    \r\n    -keep interface com.actionbarsherlock.** { *; } \r\n    \r\n    \r\n    \r\n    \r\n    # Keep line numbers to alleviate debugging stack traces \r\n    \r\n    -renamesourcefileattribute SourceFile \r\n    \r\n    -keepattributes SourceFile,LineNumberTable\r\n    \r\n    -keepclassmembers class * implements java.io.Serializable\r\n    {\r\n        private static final java.io.ObjectStreamField[] serialPersistentFields;\r\n        private void writeObject(java.io.ObjectOutputStream);\r\n        private void readObject(java.io.ObjectInputStream);\r\n        java.lang.Object writeReplace();\r\n        java.lang.Object readResolve();\r\n    }\r\n    \r\n    -keep class com.facebook.android.*\r\n    -keep class android.webkit.WebViewClient\r\n    -keep class * extends android.webkit.WebViewClient\r\n    -keepclassmembers class * extends android.webkit.WebViewClient { \r\n        &lt;methods&gt;; \r\n    }\r\n\r\n\r\n**EDIT 2**\r\nSo the problem for not logging in was that I used my debug hash key instead of my release hash key. Changed that in my app settings (developers.facebook.com) and found out that my app finally logs in but crashes after login.\r\n\r\nDont know if this still is a ProGuard problem but it returned this error:\r\n\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): FATAL EXCEPTION: main\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): com.facebook.ab: com.facebook.b.e got an unexpected method signature: public abstract com.facebook.b.b com.facebook.b.b.a(java.lang.Class)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat com.facebook.b.f.a(SourceFile:400)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat com.facebook.b.e.b(SourceFile:546)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat com.facebook.b.e.invoke(SourceFile:470)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat $Proxy1.a(Native Method)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat com.facebook.bb.a(SourceFile:124)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat com.facebook.ar.a(SourceFile:264)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat com.facebook.as.run(SourceFile:1240)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat android.os.Handler.handleCallback(Handler.java:615)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat android.os.Handler.dispatchMessage(Handler.java:92)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat android.os.Looper.loop(Looper.java:137)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat android.app.ActivityThread.main(ActivityThread.java:4931)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat java.lang.reflect.Method.invoke(Method.java:511)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:791)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:558)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat dalvik.system.NativeStart.main(Native Method)\r\n    04-02 11:47:31.820: W/ActivityManager(2130):   Force finishing activity com.xxxxx.xxxx/com.xxxxx.views.MainActivity\r\n    04-02 11:47:32.360: W/ActivityManager(2130): Activity pause timeout for ActivityRecord{4289ca58 com.xxxxx.xxxxx/com.xxxxx.xxxxx.MainActivity}","title":"Android ProGuard settings for Facebook","body":"<p>I finally found out why my app crashes built for release. ProGuard was indeed stripping code from my application but i prevented this by manually adding the classes with the keep command in the proguard-android.txt (found in the sdk).</p>\n\n<p>For Facebook I used:</p>\n\n<pre><code>-keep class com.facebook.android.*\n-keep class android.webkit.WebViewClient\n-keep class * extends android.webkit.WebViewClient\n-keepclassmembers class * extends android.webkit.WebViewClient { \n    &lt;methods&gt;; \n}\n</code></pre>\n\n<p>But I think I'm still missing something. The app is crash free now but I can't log in to Facebook and use Open Graph. When I built in debug mode this all works fine.</p>\n\n<p>What are your proguard settings for using Facebook and Facebook's Open Graph?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>This are my manually added commands for ProGuard:</p>\n\n<pre><code>-dontwarn android.support.**\n\n# ActionBarSherlock \n\n-keep class android.support.** { *; } \n\n-keep interface android.support.** { *; } \n\n-keep class com.actionbarsherlock.** { *; } \n\n-keep interface com.actionbarsherlock.** { *; } \n\n\n\n\n# Keep line numbers to alleviate debugging stack traces \n\n-renamesourcefileattribute SourceFile \n\n-keepattributes SourceFile,LineNumberTable\n\n-keepclassmembers class * implements java.io.Serializable\n{\n    private static final java.io.ObjectStreamField[] serialPersistentFields;\n    private void writeObject(java.io.ObjectOutputStream);\n    private void readObject(java.io.ObjectInputStream);\n    java.lang.Object writeReplace();\n    java.lang.Object readResolve();\n}\n\n-keep class com.facebook.android.*\n-keep class android.webkit.WebViewClient\n-keep class * extends android.webkit.WebViewClient\n-keepclassmembers class * extends android.webkit.WebViewClient { \n    &lt;methods&gt;; \n}\n</code></pre>\n\n<p><strong>EDIT 2</strong>\nSo the problem for not logging in was that I used my debug hash key instead of my release hash key. Changed that in my app settings (developers.facebook.com) and found out that my app finally logs in but crashes after login.</p>\n\n<p>Dont know if this still is a ProGuard problem but it returned this error:</p>\n\n<pre><code>04-02 11:47:31.815: E/AndroidRuntime(9093): FATAL EXCEPTION: main\n04-02 11:47:31.815: E/AndroidRuntime(9093): com.facebook.ab: com.facebook.b.e got an unexpected method signature: public abstract com.facebook.b.b com.facebook.b.b.a(java.lang.Class)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at com.facebook.b.f.a(SourceFile:400)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at com.facebook.b.e.b(SourceFile:546)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at com.facebook.b.e.invoke(SourceFile:470)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at $Proxy1.a(Native Method)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at com.facebook.bb.a(SourceFile:124)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at com.facebook.ar.a(SourceFile:264)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at com.facebook.as.run(SourceFile:1240)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at android.os.Handler.handleCallback(Handler.java:615)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at android.os.Handler.dispatchMessage(Handler.java:92)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at android.os.Looper.loop(Looper.java:137)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at android.app.ActivityThread.main(ActivityThread.java:4931)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at java.lang.reflect.Method.invokeNative(Native Method)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at java.lang.reflect.Method.invoke(Method.java:511)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:791)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:558)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at dalvik.system.NativeStart.main(Native Method)\n04-02 11:47:31.820: W/ActivityManager(2130):   Force finishing activity com.xxxxx.xxxx/com.xxxxx.views.MainActivity\n04-02 11:47:32.360: W/ActivityManager(2130): Activity pause timeout for ActivityRecord{4289ca58 com.xxxxx.xxxxx/com.xxxxx.xxxxx.MainActivity}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1664752537,"post_id":73929884,"comment_id":130537807,"body_markdown":"Yes, the code you&#39;ve pasted only works on n x n 2D arrays. Do you want to write a more general method?","body":"Yes, the code you&#39;ve pasted only works on n x n 2D arrays. Do you want to write a more general method?"},{"owner":{"account_id":2900748,"reputation":4538,"user_id":2487517,"accept_rate":57,"display_name":"Tibrogargan"},"score":0,"creation_date":1664752984,"post_id":73929884,"comment_id":130537868,"body_markdown":"It is highly likely that the code here is intended to work on Matrices (i.e The 2nd dimension arrays all have the same number of columns), rather than irregular 2D Arrays, especially as the word &quot;column&quot; is used.","body":"It is highly likely that the code here is intended to work on Matrices (i.e The 2nd dimension arrays all have the same number of columns), rather than irregular 2D Arrays, especially as the word &quot;column&quot; is used."}],"answers":[{"tags":[],"owner":{"account_id":19875789,"reputation":2650,"user_id":14645101,"display_name":"Aniketh Malyala"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664752635,"creation_date":1664752635,"answer_id":73929981,"question_id":73929884,"body_markdown":"The following function should work (explanation below):\r\n\r\n    public static int largestColumn(int[][] values){\r\n        int maxLength = 0;\r\n        for(int i = 0; i &lt; values.length; i++){\r\n          if(values[i].length &gt; maxLength){\r\n            maxLength = values[i].length;\r\n          }\r\n        }\r\n        int maxSum = 0;\r\n        int maxInd = 0;\r\n        for(int i = 0; i &lt; maxLength; i++){\r\n          int currSum = 0;\r\n          for(int j = 0; j &lt; values.length; j++){\r\n            if(values[j].length &gt; i){\r\n              currSum += values[j][i];\r\n            }\r\n          }\r\n          if(maxSum &lt; currSum){\r\n            maxSum = currSum;\r\n            maxInd = i;\r\n          }\r\n        }\r\n        return maxInd;\r\n      }\r\n\r\nInput #1:\r\n\r\n      public static void main(String[] args) {\r\n        int[][] values =  { \r\n                        { 17, 13, 19, 22 }, \r\n                        { 12, 18, 25, 20 }, \r\n                        { 15, 18, 21, 24 }, \r\n                        { 19, 23, 23, 22 },\r\n                        { 18, 20, 21, 26} \r\n                      };\r\n        System.out.println(largestColumn(values));\r\n      }\r\n\r\nOutput:\r\n\r\n    3\r\n\r\nInput #2:\r\n\r\n      public static void main(String[] args) {\r\n        int[][] values =  { \r\n                        { 17, 13, 19, 22 }, \r\n                        { 12, 18, 25, 20 }, \r\n                        { 15, 18, 21, 24 }, \r\n                        { 19, 23, 23, 22 },\r\n                        { 18, 20, 21, 26, 1000, 500} \r\n                      };\r\n        System.out.println(largestColumn(values));\r\n      }\r\n\r\nOutput:\r\n\r\n    4\r\n\r\nFirst, we need to determine what the largest length of any row is. By simply traversing through every low and using a maximum algorithm, we can store the length of the largest row of `values` in `maxLength`.\r\n\r\nNext, we iterate through all of the columns by having the variable, `i`, iterate from `0` to `maxLength`. In every column `i`, we add up the values in the `i`&#39;th column, and store the value in `currSum`. When we reach a new maximum sum, we store the value in `maxSum` and the index in `maxInd`. \r\n\r\nHowever, as you noticed, if `values` is not an nxn grid, we may get an out of bounds error. This is why we add an extra conditional to check if the `j`th row we are iterating through when calculating the sum has an `i`th column.\r\n\r\nI hope this helped! Please let me know if you need any further help or clarification :)","title":"Finding the column with the largest column sum in a 2D array with non-uniform rows","body":"<p>The following function should work (explanation below):</p>\n<pre><code>public static int largestColumn(int[][] values){\n    int maxLength = 0;\n    for(int i = 0; i &lt; values.length; i++){\n      if(values[i].length &gt; maxLength){\n        maxLength = values[i].length;\n      }\n    }\n    int maxSum = 0;\n    int maxInd = 0;\n    for(int i = 0; i &lt; maxLength; i++){\n      int currSum = 0;\n      for(int j = 0; j &lt; values.length; j++){\n        if(values[j].length &gt; i){\n          currSum += values[j][i];\n        }\n      }\n      if(maxSum &lt; currSum){\n        maxSum = currSum;\n        maxInd = i;\n      }\n    }\n    return maxInd;\n  }\n</code></pre>\n<p>Input #1:</p>\n<pre><code>  public static void main(String[] args) {\n    int[][] values =  { \n                    { 17, 13, 19, 22 }, \n                    { 12, 18, 25, 20 }, \n                    { 15, 18, 21, 24 }, \n                    { 19, 23, 23, 22 },\n                    { 18, 20, 21, 26} \n                  };\n    System.out.println(largestColumn(values));\n  }\n</code></pre>\n<p>Output:</p>\n<pre><code>3\n</code></pre>\n<p>Input #2:</p>\n<pre><code>  public static void main(String[] args) {\n    int[][] values =  { \n                    { 17, 13, 19, 22 }, \n                    { 12, 18, 25, 20 }, \n                    { 15, 18, 21, 24 }, \n                    { 19, 23, 23, 22 },\n                    { 18, 20, 21, 26, 1000, 500} \n                  };\n    System.out.println(largestColumn(values));\n  }\n</code></pre>\n<p>Output:</p>\n<pre><code>4\n</code></pre>\n<p>First, we need to determine what the largest length of any row is. By simply traversing through every low and using a maximum algorithm, we can store the length of the largest row of <code>values</code> in <code>maxLength</code>.</p>\n<p>Next, we iterate through all of the columns by having the variable, <code>i</code>, iterate from <code>0</code> to <code>maxLength</code>. In every column <code>i</code>, we add up the values in the <code>i</code>'th column, and store the value in <code>currSum</code>. When we reach a new maximum sum, we store the value in <code>maxSum</code> and the index in <code>maxInd</code>.</p>\n<p>However, as you noticed, if <code>values</code> is not an nxn grid, we may get an out of bounds error. This is why we add an extra conditional to check if the <code>j</code>th row we are iterating through when calculating the sum has an <code>i</code>th column.</p>\n<p>I hope this helped! Please let me know if you need any further help or clarification :)</p>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664754526,"creation_date":1664754526,"answer_id":73930075,"question_id":73929884,"body_markdown":"A Two Dimensional Array in Java is an **Array of Arrays** and those inner arrays can be any length.\r\n\r\nTo read a 2D Array, read the Row then the columns of that row. A row is in the horizontal plane of the Matrix and the columns are in the vertical plain on the matrix, just like looking at a data table\r\n\r\nIn the following non-square matrix:\r\n\r\n    int[][] values = {//C0  C1  C2  C3   C4   C5  \r\n                      { 17, 13, 19, 22 },           // Row 0\r\n                      { 12, 18, 25, 20 },           // Row 1\r\n                      { 15, 18, 21, 24 },           // Row 2  \r\n                      { 19, 23, 23, 22 },           // Row 3\r\n                      { 18, 20, 21, 26, 1000, 500}, // Row 4\r\n                      { 27, 28, 29}                 // Row 5  \r\n                     };\r\n\r\nthe first row (row 0) consists of: `17, 13, 19, 22`, the second row (row 1) consists of: `12, 18, 25, 20`, and so on. In Row 0 the `17` is column 0, 13 is column 1, 19 is column 2, and so on.\r\n\r\nTo find Array with the greatest number of columns within the above 2D Array, you can do this:\r\n\r\n    int[][] values = { \r\n                      { 17, 13, 19, 22 }, \r\n                      { 12, 18, 25, 20 }, \r\n                      { 15, 18, 21, 24 }, \r\n                      { 19, 23, 23, 22 },\r\n                      { 18, 20, 21, 26, 1000, 500},\r\n                      { 27, 28, 29}\r\n                    };\r\n        \r\n    System.out.println(&quot;The 2D Array:&quot;);\r\n\r\n    int maxLen = values[0].length;\r\n    int indexOfMax = -1;\r\n        \r\n    for (int i = 0; i &lt; values.length; i++) {\r\n        System.out.println(Arrays.toString(values[i]));\r\n        if (values[i].length &gt; maxLen) {\r\n            maxLen = values[i].length;\r\n            indexOfMax = i;\r\n        }\r\n    }\r\n        \r\n    System.out.println();\r\n    System.out.println(&quot;Literal Row #&quot; + (indexOfMax + 1) + &quot; (index: &quot; \r\n                     + indexOfMax + &quot;) has the\\ngreatest number columns: &quot; \r\n                     + maxLen);\r\n    System.out.println(Arrays.toString(values[indexOfMax]));\r\n\r\nThe Console Window should display:\r\n\r\n```\r\nThe 2D Array:\r\n[17, 13, 19, 22]\r\n[12, 18, 25, 20]\r\n[15, 18, 21, 24]\r\n[19, 23, 23, 22]\r\n[18, 20, 21, 26, 1000, 500]\r\n[27, 28, 29]\r\n\r\nLiteral Row #5 (index: 4) has the\r\ngreatest number columns: 6\r\n[18, 20, 21, 26, 1000, 500]\r\n```\r\n","title":"Finding the column with the largest column sum in a 2D array with non-uniform rows","body":"<p>A Two Dimensional Array in Java is an <strong>Array of Arrays</strong> and those inner arrays can be any length.</p>\n<p>To read a 2D Array, read the Row then the columns of that row. A row is in the horizontal plane of the Matrix and the columns are in the vertical plain on the matrix, just like looking at a data table</p>\n<p>In the following non-square matrix:</p>\n<pre><code>int[][] values = {//C0  C1  C2  C3   C4   C5  \n                  { 17, 13, 19, 22 },           // Row 0\n                  { 12, 18, 25, 20 },           // Row 1\n                  { 15, 18, 21, 24 },           // Row 2  \n                  { 19, 23, 23, 22 },           // Row 3\n                  { 18, 20, 21, 26, 1000, 500}, // Row 4\n                  { 27, 28, 29}                 // Row 5  \n                 };\n</code></pre>\n<p>the first row (row 0) consists of: <code>17, 13, 19, 22</code>, the second row (row 1) consists of: <code>12, 18, 25, 20</code>, and so on. In Row 0 the <code>17</code> is column 0, 13 is column 1, 19 is column 2, and so on.</p>\n<p>To find Array with the greatest number of columns within the above 2D Array, you can do this:</p>\n<pre><code>int[][] values = { \n                  { 17, 13, 19, 22 }, \n                  { 12, 18, 25, 20 }, \n                  { 15, 18, 21, 24 }, \n                  { 19, 23, 23, 22 },\n                  { 18, 20, 21, 26, 1000, 500},\n                  { 27, 28, 29}\n                };\n    \nSystem.out.println(&quot;The 2D Array:&quot;);\n\nint maxLen = values[0].length;\nint indexOfMax = -1;\n    \nfor (int i = 0; i &lt; values.length; i++) {\n    System.out.println(Arrays.toString(values[i]));\n    if (values[i].length &gt; maxLen) {\n        maxLen = values[i].length;\n        indexOfMax = i;\n    }\n}\n    \nSystem.out.println();\nSystem.out.println(&quot;Literal Row #&quot; + (indexOfMax + 1) + &quot; (index: &quot; \n                 + indexOfMax + &quot;) has the\\ngreatest number columns: &quot; \n                 + maxLen);\nSystem.out.println(Arrays.toString(values[indexOfMax]));\n</code></pre>\n<p>The Console Window should display:</p>\n<pre><code>The 2D Array:\n[17, 13, 19, 22]\n[12, 18, 25, 20]\n[15, 18, 21, 24]\n[19, 23, 23, 22]\n[18, 20, 21, 26, 1000, 500]\n[27, 28, 29]\n\nLiteral Row #5 (index: 4) has the\ngreatest number columns: 6\n[18, 20, 21, 26, 1000, 500]\n</code></pre>\n"}],"owner":{"account_id":9251797,"reputation":21,"user_id":12417458,"display_name":"codetechie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1664754526,"creation_date":1664751186,"question_id":73929884,"body_markdown":"I&#39;m trying to understand this 2D Arrays and just read this code and problem on CodeCademy. It seems like the logic is wrong. Why is it limiting the outer pass into arr[0].length only? What if it&#39;s not an equal n x n dimensions? \r\n\r\nAre 2D arrays supposed to have an equal n x n dimension?\r\n\r\n```java\r\n\r\nclass Name {\r\n\r\npublic static int largestColumn(int[][] nums){\r\n\t\tint largestColumn = 0;\r\n\t\tint largestSum = 0;\r\n\r\n\t\tfor (int i = 0; i &lt; arr2D[0].length; i++) {\r\n\r\n\t\t\tint columnVal = 0;\r\n\t\t\tfor (int j = 0; j &lt; arr2D.length; j++) {\r\n\r\n\t\t\t\tcolumnVal += arr2D[j][i];\r\n\t\t\t}\r\n\r\n\t\t\tif (columnVal &gt; largestSum) {\r\n\t\t\t\tlargestSum = columnVal;\r\n\t\t\t\tlargestColumn = i;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn largestColumn;\r\n\r\n}\r\n\r\n   public static void main(String[] args){\r\n       int[][] values =  { \r\n                          { 17, 13, 19, 22 }, \r\n                          { 12, 18, 25, 20 }, \r\n                          { 15, 18, 21, 24 }, \r\n                          { 19, 23, 23, 22 },\r\n\t\t\t\t          { 18, 20, 21, 26} \r\n                         };\r\n\r\n       System.out.println(largestColumn(values)); // 3\r\n   }\r\n\r\n}\r\n\r\n```\r\n\r\nbut what if you have these in the as values?\r\n```java\r\nint[][] values =  { \r\n                    { 17, 13, 19, 22 }, \r\n                    { 12, 18, 25, 20 }, \r\n                    { 15, 18, 21, 24 }, \r\n                    { 19, 23, 23, 22 },\r\n                    { 18, 20, 21, 26, 1000, 500} \r\n                  };\r\n```\r\n\r\nObviously, column 4 will be the largest. but with the solution above, with arr[0].length as the first pass max, it won&#39;t pass through col 4 and col 5 as the max first pass would be **&lt; 3**.\r\n\r\nI checked the lengths of the 2nd 2D array values, 2D arrays are not self filling if you fill another array[i] with more elements (maybe just in Java since it&#39;s fixed?)\r\n\r\nAny help would be appreciated, thanks!\r\n","title":"Finding the column with the largest column sum in a 2D array with non-uniform rows","body":"<p>I'm trying to understand this 2D Arrays and just read this code and problem on CodeCademy. It seems like the logic is wrong. Why is it limiting the outer pass into arr[0].length only? What if it's not an equal n x n dimensions?</p>\n<p>Are 2D arrays supposed to have an equal n x n dimension?</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nclass Name {\n\npublic static int largestColumn(int[][] nums){\n        int largestColumn = 0;\n        int largestSum = 0;\n\n        for (int i = 0; i &lt; arr2D[0].length; i++) {\n\n            int columnVal = 0;\n            for (int j = 0; j &lt; arr2D.length; j++) {\n\n                columnVal += arr2D[j][i];\n            }\n\n            if (columnVal &gt; largestSum) {\n                largestSum = columnVal;\n                largestColumn = i;\n            }\n\n        }\n\n        return largestColumn;\n\n}\n\n   public static void main(String[] args){\n       int[][] values =  { \n                          { 17, 13, 19, 22 }, \n                          { 12, 18, 25, 20 }, \n                          { 15, 18, 21, 24 }, \n                          { 19, 23, 23, 22 },\n                          { 18, 20, 21, 26} \n                         };\n\n       System.out.println(largestColumn(values)); // 3\n   }\n\n}\n\n</code></pre>\n<p>but what if you have these in the as values?</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[][] values =  { \n                    { 17, 13, 19, 22 }, \n                    { 12, 18, 25, 20 }, \n                    { 15, 18, 21, 24 }, \n                    { 19, 23, 23, 22 },\n                    { 18, 20, 21, 26, 1000, 500} \n                  };\n</code></pre>\n<p>Obviously, column 4 will be the largest. but with the solution above, with arr[0].length as the first pass max, it won't pass through col 4 and col 5 as the max first pass would be <strong>&lt; 3</strong>.</p>\n<p>I checked the lengths of the 2nd 2D array values, 2D arrays are not self filling if you fill another array[i] with more elements (maybe just in Java since it's fixed?)</p>\n<p>Any help would be appreciated, thanks!</p>\n"},{"tags":["java","android","arraylist"],"answers":[{"comments":[{"owner":{"display_name":"user16458899"},"score":0,"creation_date":1664754432,"post_id":73930016,"comment_id":130538011,"body_markdown":"thanks, works differently in C++ where beginIndex is the start and 2nd param is the count of chars so in this case java is different.","body":"thanks, works differently in C++ where beginIndex is the start and 2nd param is the count of chars so in this case java is different."}],"tags":[],"owner":{"account_id":4454314,"reputation":16,"user_id":3625139,"display_name":"molok"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664753314,"creation_date":1664753314,"answer_id":73930016,"question_id":73929917,"body_markdown":"Looks to me that You use wrong indexes for substring.\r\n\r\nSubstring method second parameter is not count of chars to take but **endIndex**.\r\n\r\nWe can find relevant info in javadoc of String.substring :\r\n\r\n    public String substring(int beginIndex, int endIndex)\r\n\r\n&gt; beginIndex - the beginning index, inclusive.\r\n&gt;\r\n&gt; endIndex - the ending index, exclusive.\r\n\r\n","title":"App crashes when adding to an ArrayList in a for loop after first succeeful add","body":"<p>Looks to me that You use wrong indexes for substring.</p>\n<p>Substring method second parameter is not count of chars to take but <strong>endIndex</strong>.</p>\n<p>We can find relevant info in javadoc of String.substring :</p>\n<pre><code>public String substring(int beginIndex, int endIndex)\n</code></pre>\n<blockquote>\n<p>beginIndex - the beginning index, inclusive.</p>\n<p>endIndex - the ending index, exclusive.</p>\n</blockquote>\n"}],"owner":{"display_name":"user16458899"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73930016,"answer_count":1,"score":0,"last_activity_date":1664753314,"creation_date":1664751713,"question_id":73929917,"body_markdown":"Still new to android and java but getting there, here is my problem.\r\n\r\nThe crash occurs at this point ***fieldsA.add( A.substring(_start, _a[i]));*** it works the first time but not the second time, I do not get an error in my debug window, just a crash.\r\n\r\n// number of chars to extract from string value to add to ArrayList.\r\n\r\nint _a[] =  {12,8,8,8,24,24,8,8,4,4,4,5,5,5,7,7,7,7,4,4,4,7,7,7,7,4,8,8,8,1,1,1,1,2};\r\n\r\nint _b[] =\t{2,32,32,4,4,4,5,5,5,7,7,7,7,4,4,4,8,1,4,4,4,4,1,4,56,14 };\r\n\r\nfor clarity, _start value is correct and length of string to extract (_a[i]) is also correct, in the case of this crash, _start value is 12 and _a[i] is 8 so the substring(12, 8) should add &quot;12663312&quot; to the ArrayList.\r\n\r\nQuestion is, what am I doing wrong in how I am using array list, if I was using a vector (which I would normally do in C++) it would be a breeze but this is my first time use of ArratList in java and I cant see what the problem is, maybe I am too old.\r\n\r\nThanks in advance. \r\n\r\n    public void SetEkmFieldValueStrings(String A, String B)\r\n      {\r\n      // example string A content\r\n      /* $00030000019412663312012914320863457705827487016831160515448803478652000007590515438109551618066451002454245424540005600000000300000984000000000007720001756 100C000 100000003800000000000056000009450020000001600000000000000000232002210030208144700!*/\r\n\r\n      /* if length of A is less than 250 chars, read is no good, discard\r\n      *  NOTE:  both Strings A and B will need to be validated for checksum\r\n      *  TODO...\r\n      * */\r\n      if(A.length() &lt; 250) {return;}\r\n\r\n       // discard first 4 chars from string, not needed\r\n       A = A.substring(4, A.length()-4);\r\n\r\n       /* array of fields values are NOT empty */\r\n       /* clear arrays for new sets of values */\r\n      if(fieldsA.size() &gt; 0)\r\n        fieldsA.clear();\r\n      if(fieldsB.size() &gt; 0)\r\n        fieldsB.clear();;\r\n    \r\n      int _start = 0; /* 1st index into field size array */\r\n      int i;\r\n      for(i = 0; i &lt; _a.length; i++)\r\n        {\r\n        /*  add the substring of String A to the array list of field values\r\n        *   _a[i] contains the length of string to extract from A\r\n        * */\r\n        fieldsA.add((String) A.substring(_start, _a[i]));\r\n        String j = fieldsA.get(_start);  //for testing purpose only\r\n        /* set _start to the next field start pont in string A */\r\n        _start += _a[i];\r\n        }\r\n    \r\n        /* do same for String B*/\r\n        _start = 0;\r\n        for(i = 0; i &lt; _b.length; i++)\r\n          {\r\n          /*  add the substring of String A to the array list of field values\r\n           *   _b[i] contains the length in of string to extract\r\n           * */\r\n          fieldsB.add(B.substring(_start, _b[i]));\r\n          /* set _start to the next field start pont in string A */\r\n          _start += _b[i];\r\n          }\r\n    \r\n      }\r\n\r\n","title":"App crashes when adding to an ArrayList in a for loop after first succeeful add","body":"<p>Still new to android and java but getting there, here is my problem.</p>\n<p>The crash occurs at this point <em><strong>fieldsA.add( A.substring(_start, _a[i]));</strong></em> it works the first time but not the second time, I do not get an error in my debug window, just a crash.</p>\n<p>// number of chars to extract from string value to add to ArrayList.</p>\n<p>int _a[] =  {12,8,8,8,24,24,8,8,4,4,4,5,5,5,7,7,7,7,4,4,4,7,7,7,7,4,8,8,8,1,1,1,1,2};</p>\n<p>int _b[] =  {2,32,32,4,4,4,5,5,5,7,7,7,7,4,4,4,8,1,4,4,4,4,1,4,56,14 };</p>\n<p>for clarity, _start value is correct and length of string to extract (_a[i]) is also correct, in the case of this crash, _start value is 12 and _a[i] is 8 so the substring(12, 8) should add &quot;12663312&quot; to the ArrayList.</p>\n<p>Question is, what am I doing wrong in how I am using array list, if I was using a vector (which I would normally do in C++) it would be a breeze but this is my first time use of ArratList in java and I cant see what the problem is, maybe I am too old.</p>\n<p>Thanks in advance.</p>\n<pre><code>public void SetEkmFieldValueStrings(String A, String B)\n  {\n  // example string A content\n  /* $00030000019412663312012914320863457705827487016831160515448803478652000007590515438109551618066451002454245424540005600000000300000984000000000007720001756 100C000 100000003800000000000056000009450020000001600000000000000000232002210030208144700!*/\n\n  /* if length of A is less than 250 chars, read is no good, discard\n  *  NOTE:  both Strings A and B will need to be validated for checksum\n  *  TODO...\n  * */\n  if(A.length() &lt; 250) {return;}\n\n   // discard first 4 chars from string, not needed\n   A = A.substring(4, A.length()-4);\n\n   /* array of fields values are NOT empty */\n   /* clear arrays for new sets of values */\n  if(fieldsA.size() &gt; 0)\n    fieldsA.clear();\n  if(fieldsB.size() &gt; 0)\n    fieldsB.clear();;\n\n  int _start = 0; /* 1st index into field size array */\n  int i;\n  for(i = 0; i &lt; _a.length; i++)\n    {\n    /*  add the substring of String A to the array list of field values\n    *   _a[i] contains the length of string to extract from A\n    * */\n    fieldsA.add((String) A.substring(_start, _a[i]));\n    String j = fieldsA.get(_start);  //for testing purpose only\n    /* set _start to the next field start pont in string A */\n    _start += _a[i];\n    }\n\n    /* do same for String B*/\n    _start = 0;\n    for(i = 0; i &lt; _b.length; i++)\n      {\n      /*  add the substring of String A to the array list of field values\n       *   _b[i] contains the length in of string to extract\n       * */\n      fieldsB.add(B.substring(_start, _b[i]));\n      /* set _start to the next field start pont in string A */\n      _start += _b[i];\n      }\n\n  }\n</code></pre>\n"},{"tags":["java","hibernate","javafx"],"comments":[{"owner":{"account_id":16336898,"reputation":107,"user_id":11996777,"display_name":"Tribjj"},"score":0,"creation_date":1664539288,"post_id":73901138,"comment_id":130500767,"body_markdown":"update: add info and picture the todolistFx program","body":"update: add info and picture the todolistFx program"},{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":0,"creation_date":1664539829,"post_id":73901138,"comment_id":130500927,"body_markdown":"Why using HBM mapping rather than JPA?","body":"Why using HBM mapping rather than JPA?"},{"owner":{"account_id":16336898,"reputation":107,"user_id":11996777,"display_name":"Tribjj"},"score":0,"creation_date":1664546928,"post_id":73901138,"comment_id":130503452,"body_markdown":"update structure add","body":"update structure add"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1664554282,"post_id":73901138,"comment_id":130506036,"body_markdown":"Is the fetch query printed in the logs?","body":"Is the fetch query printed in the logs?"},{"owner":{"account_id":16336898,"reputation":107,"user_id":11996777,"display_name":"Tribjj"},"score":0,"creation_date":1664555002,"post_id":73901138,"comment_id":130506232,"body_markdown":"it does not reach the query selection, the table is not loaded into an fxml table, update logs run, And if I try to add Task object writes: Caused by: org.hibernate.MappingException: Unknown entity: ru.todolist.javafx.objects.Task","body":"it does not reach the query selection, the table is not loaded into an fxml table, update logs run, And if I try to add Task object writes: Caused by: org.hibernate.MappingException: Unknown entity: ru.todolist.javafx.objects.Task"}],"answers":[{"tags":[],"owner":{"account_id":16336898,"reputation":107,"user_id":11996777,"display_name":"Tribjj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664750336,"creation_date":1664750336,"answer_id":73929822,"question_id":73901138,"body_markdown":" I fill in my ObservableList , list , which I got from the table\r\n\r\nas you can see the todolist program has filled up\r\n[![enter image description here][1]][1]\r\n\r\n\r\nclass TaskHibernateImpl in this class, data is taken from the table ,method tasksclear() checking the table clearing so that there is no double table filling, we clear the current one.createQuery(&quot;From Task&quot;) here I attention! specify my class entity\r\n\r\n\r\n        public class TaskHibernateImpl implements TaskDao { \r\n        ...\r\n        public ObservableList&lt;Task&gt; findAll() {\r\n                    tasks.clear(); // \r\n                    tasks.addAll(HibernateSessionFactoryUtil.getSessionFactory().openSession().createQuery(&quot;From Task&quot;).list());\r\n                    System.out.println(&quot;tasks.isEmpty() = &quot; + tasks.isEmpty()); // false \r\n                    return tasks;\r\n                }\r\n    ...\r\n    }\r\n\r\nclass HibernateSessionFactoryUtil -&gt; In this class, I create a configuration and add a class to it, with a JPA configuration\r\n\r\n    public class HibernateSessionFactoryUtil {\r\n    \r\n        private static SessionFactory sessionFactory;\r\n    \r\n        private static ServiceRegistry serviceRegistry;\r\n    \r\n        public HibernateSessionFactoryUtil() {\r\n        }\r\n    \r\n        public static SessionFactory getSessionFactory(){\r\n            if(sessionFactory == null){\r\n                try{\r\n                    Configuration configuration = new Configuration().configure();\r\n                    // here necessary class add\r\n                    configuration.addAnnotatedClass(ru.todolist.javafx.objects.Task.class);\r\n                    StandardServiceRegistryBuilder builder = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties());\r\n                    sessionFactory = configuration.buildSessionFactory(builder.build());\r\n                } catch (Exception e) {\r\n                    System.out.println(&quot;Exception !&quot; + e);\r\n                }\r\n            }\r\n            return sessionFactory;\r\n        }\r\n    }\r\n \r\nclass Task -&gt; In this class I put JPA annotations @Entity, @Id, @Column\r\n\r\n    package ru.todolist.javafx.objects;\r\n    \r\n    import javafx.beans.property.SimpleIntegerProperty;\r\n    import javafx.beans.property.SimpleStringProperty;\r\n    import javax.persistence.*;\r\n    import java.util.Date;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;todo&quot;, schema = &quot;main&quot;, catalog = &quot;&quot;)\r\n    public class Task {\r\n    \r\n        private SimpleIntegerProperty id = new SimpleIntegerProperty();\r\n        private SimpleStringProperty task = new SimpleStringProperty(&quot;&quot;);\r\n    \r\n        private static Date date = new Date();\r\n        private SimpleStringProperty time = new SimpleStringProperty(date.toString());\r\n    \r\n    //    private static boolean statusBegin = false;\r\n        private static String statusText = &quot;не выполнена&quot;;\r\n        private SimpleStringProperty status = new SimpleStringProperty(statusText);\r\n    \r\n        public Task() {\r\n        }\r\n    \r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Id\r\n        @Column(name = &quot;id&quot;, nullable = false)\r\n        public int getId() {\r\n            return id.get();\r\n        }\r\n    \r\n        public SimpleIntegerProperty idProperty() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id.set(id);\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;task&quot;, nullable = false, length = -1)\r\n        public String getTask() {\r\n            return task.get();\r\n        }\r\n    \r\n        public SimpleStringProperty taskProperty() {\r\n            return task;\r\n        }\r\n    \r\n        public void setTask(String task) {\r\n            this.task.set(task);\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;task_create_time&quot;, nullable = false, length = -1)\r\n        public String getTime() {\r\n            return time.get();\r\n        }\r\n    \r\n        public SimpleStringProperty timeProperty() {\r\n            return time;\r\n        }\r\n    \r\n        public void setTime(String time) {\r\n            this.time.set(time);\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;status&quot;, nullable = true, length = -1)\r\n        public String getStatus() {\r\n            return status.get();\r\n        }\r\n    \r\n        public SimpleStringProperty statusProperty() {\r\n            return status;\r\n        }\r\n    \r\n        public void setStatus(String status) {\r\n            this.status.set(status);\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Task{&quot; +\r\n                    &quot;id=&quot; + id +\r\n                    &quot;, task=&quot; + task +\r\n                    &quot;, time=&quot; + time +\r\n                    &quot;, status=&quot; + status +\r\n                    &#39;}&#39;;\r\n        }\r\n    \r\n    }\r\n\r\nclass hibernate.cfg.xml  hibernate configuration class\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n      &lt;session-factory&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db&lt;/property&gt;\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;org.sqlite.JDBC&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;dialect&quot;&gt;ru.todolist.javafx.hibernate.dialect.SQLiteDialect&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.autocommit&quot;&gt;true&lt;/property&gt;\r\n    \r\n          &lt;mapping class=&quot;ru.todolist.javafx.objects.Task&quot;/&gt;\r\n    &lt;!--      &lt;mapping resource=&quot;Task.hbm.xml&quot;/&gt;--&gt;\r\n          &lt;!-- &lt;property name=&quot;connection.username&quot;/&gt; --&gt;\r\n        &lt;!-- &lt;property name=&quot;connection.password&quot;/&gt; --&gt;\r\n    \r\n        &lt;!-- DB schema will be updated if needed --&gt;\r\n        &lt;!-- &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt; --&gt;\r\n      &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Q2TM3.png\r\n","title":"I can&#39;t extract data from the table and make a connection with the hibernate orm","body":"<p>I fill in my ObservableList , list , which I got from the table</p>\n<p>as you can see the todolist program has filled up\n<a href=\"https://i.stack.imgur.com/Q2TM3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q2TM3.png\" alt=\"enter image description here\" /></a></p>\n<p>class TaskHibernateImpl in this class, data is taken from the table ,method tasksclear() checking the table clearing so that there is no double table filling, we clear the current one.createQuery(&quot;From Task&quot;) here I attention! specify my class entity</p>\n<pre><code>    public class TaskHibernateImpl implements TaskDao { \n    ...\n    public ObservableList&lt;Task&gt; findAll() {\n                tasks.clear(); // \n                tasks.addAll(HibernateSessionFactoryUtil.getSessionFactory().openSession().createQuery(&quot;From Task&quot;).list());\n                System.out.println(&quot;tasks.isEmpty() = &quot; + tasks.isEmpty()); // false \n                return tasks;\n            }\n...\n}\n</code></pre>\n<p>class HibernateSessionFactoryUtil -&gt; In this class, I create a configuration and add a class to it, with a JPA configuration</p>\n<pre><code>public class HibernateSessionFactoryUtil {\n\n    private static SessionFactory sessionFactory;\n\n    private static ServiceRegistry serviceRegistry;\n\n    public HibernateSessionFactoryUtil() {\n    }\n\n    public static SessionFactory getSessionFactory(){\n        if(sessionFactory == null){\n            try{\n                Configuration configuration = new Configuration().configure();\n                // here necessary class add\n                configuration.addAnnotatedClass(ru.todolist.javafx.objects.Task.class);\n                StandardServiceRegistryBuilder builder = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties());\n                sessionFactory = configuration.buildSessionFactory(builder.build());\n            } catch (Exception e) {\n                System.out.println(&quot;Exception !&quot; + e);\n            }\n        }\n        return sessionFactory;\n    }\n}\n</code></pre>\n<p>class Task -&gt; In this class I put JPA annotations @Entity, @Id, @Column</p>\n<pre><code>package ru.todolist.javafx.objects;\n\nimport javafx.beans.property.SimpleIntegerProperty;\nimport javafx.beans.property.SimpleStringProperty;\nimport javax.persistence.*;\nimport java.util.Date;\n\n@Entity\n@Table(name = &quot;todo&quot;, schema = &quot;main&quot;, catalog = &quot;&quot;)\npublic class Task {\n\n    private SimpleIntegerProperty id = new SimpleIntegerProperty();\n    private SimpleStringProperty task = new SimpleStringProperty(&quot;&quot;);\n\n    private static Date date = new Date();\n    private SimpleStringProperty time = new SimpleStringProperty(date.toString());\n\n//    private static boolean statusBegin = false;\n    private static String statusText = &quot;не выполнена&quot;;\n    private SimpleStringProperty status = new SimpleStringProperty(statusText);\n\n    public Task() {\n    }\n\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Id\n    @Column(name = &quot;id&quot;, nullable = false)\n    public int getId() {\n        return id.get();\n    }\n\n    public SimpleIntegerProperty idProperty() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id.set(id);\n    }\n\n    @Basic\n    @Column(name = &quot;task&quot;, nullable = false, length = -1)\n    public String getTask() {\n        return task.get();\n    }\n\n    public SimpleStringProperty taskProperty() {\n        return task;\n    }\n\n    public void setTask(String task) {\n        this.task.set(task);\n    }\n\n    @Basic\n    @Column(name = &quot;task_create_time&quot;, nullable = false, length = -1)\n    public String getTime() {\n        return time.get();\n    }\n\n    public SimpleStringProperty timeProperty() {\n        return time;\n    }\n\n    public void setTime(String time) {\n        this.time.set(time);\n    }\n\n    @Basic\n    @Column(name = &quot;status&quot;, nullable = true, length = -1)\n    public String getStatus() {\n        return status.get();\n    }\n\n    public SimpleStringProperty statusProperty() {\n        return status;\n    }\n\n    public void setStatus(String status) {\n        this.status.set(status);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Task{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, task=&quot; + task +\n                &quot;, time=&quot; + time +\n                &quot;, status=&quot; + status +\n                '}';\n    }\n\n}\n</code></pre>\n<p>class hibernate.cfg.xml  hibernate configuration class</p>\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n    &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\n    &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n  &lt;session-factory&gt;\n    &lt;property name=&quot;connection.url&quot;&gt;jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db&lt;/property&gt;\n    &lt;property name=&quot;connection.driver_class&quot;&gt;org.sqlite.JDBC&lt;/property&gt;\n    &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\n    &lt;property name=&quot;dialect&quot;&gt;ru.todolist.javafx.hibernate.dialect.SQLiteDialect&lt;/property&gt;\n    &lt;property name=&quot;hibernate.connection.autocommit&quot;&gt;true&lt;/property&gt;\n\n      &lt;mapping class=&quot;ru.todolist.javafx.objects.Task&quot;/&gt;\n&lt;!--      &lt;mapping resource=&quot;Task.hbm.xml&quot;/&gt;--&gt;\n      &lt;!-- &lt;property name=&quot;connection.username&quot;/&gt; --&gt;\n    &lt;!-- &lt;property name=&quot;connection.password&quot;/&gt; --&gt;\n\n    &lt;!-- DB schema will be updated if needed --&gt;\n    &lt;!-- &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt; --&gt;\n  &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":16336898,"reputation":107,"user_id":11996777,"display_name":"Tribjj"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73929822,"answer_count":1,"score":0,"last_activity_date":1664750336,"creation_date":1664482400,"question_id":73901138,"body_markdown":"I start the server, I can&#39;t fill out the list in any way, the database is connected and working, table work, I can&#39;t extract data from the table and make a connection with the hibernate orm\r\n######\r\nAnd if I try to add writes:\r\nCaused by: org.hibernate.MappingException: Unknown entity: ru.todolist.javafx.objects.Task\r\n\t\r\n\r\nclass TaskHibernateImpl \r\n\r\n        public class TaskHibernateImpl implements TaskDao {\r\n        ....\r\n        public ObservableList&lt;Task&gt; tasks = FXCollections.observableArrayList();\r\n\r\n            @SuppressWarnings(&quot;unchecked&quot;)\r\n            @Override\r\n            public ObservableList&lt;Task&gt; findAll() {\r\n                System.out.println(&quot;tasks.isEmpty() = &quot; + tasks.isEmpty());\r\n        \r\n                tasks.clear();\r\n                Session session = getSessionFactory().openSession();\r\n                tasks.addAll(session.createCriteria(Task.class).list()); //here it is not filled in\r\n                System.out.println(&quot;tasks.isEmpty() = &quot; + tasks.isEmpty()); // true list empty\r\n                session.close();\r\n                return tasks;\r\n            }\r\n    ...\r\n    }\r\n\r\nclass Task object model\r\n\r\n     [![enter image description here][1]][1]\r\n\r\nFile hibernate.cfg.xml hibernate configuration file\r\n   \r\n\r\n        &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n      &lt;session-factory&gt;\r\n    &lt;!--    &lt;property name=&quot;connection.url&quot;&gt;jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db--&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db&lt;/property&gt;\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;org.sqlite.JDBC&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;dialect&quot;&gt;ru.todolist.javafx.hibernate.dialect.SQLiteDialect&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.autocommit&quot;&gt;true&lt;/property&gt;\r\n          &lt;mapping class=&quot;ru.todolist.javafx.hibernate.TodoEntity&quot;/&gt;\r\n          &lt;mapping resource=&quot;TodoEntity.hbm.xml&quot;/&gt;\r\n          &lt;!-- &lt;property name=&quot;connection.username&quot;/&gt; --&gt;\r\n        &lt;!-- &lt;property name=&quot;connection.password&quot;/&gt; --&gt;\r\n    \r\n        &lt;!-- DB schema will be updated if needed --&gt;\r\n        &lt;!-- &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt; --&gt;\r\n      &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\nTodoEntity.hbm.xml\r\n\r\n   \r\n\r\n         &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n    &lt;!DOCTYPE hibernate-mapping PUBLIC\r\n     &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-mapping&gt;\r\n    \r\n        &lt;class name=&quot;ru.todolist.javafx.hibernate.TodoEntity&quot; table=&quot;todo&quot; schema=&quot;main&quot;&gt;\r\n            &lt;id name=&quot;id&quot;&gt;\r\n                &lt;column name=&quot;id&quot; sql-type=&quot;integer&quot;/&gt;\r\n            &lt;/id&gt;\r\n            &lt;property name=&quot;task&quot;&gt;\r\n                &lt;column name=&quot;task&quot; sql-type=&quot;text&quot;/&gt;\r\n            &lt;/property&gt;\r\n            &lt;property name=&quot;taskCreateTime&quot;&gt;\r\n                &lt;column name=&quot;task_create_time&quot; sql-type=&quot;text&quot;/&gt;\r\n            &lt;/property&gt;\r\n            &lt;property name=&quot;status&quot;&gt;\r\n                &lt;column name=&quot;status&quot; sql-type=&quot;text&quot; not-null=&quot;true&quot;/&gt;\r\n            &lt;/property&gt;\r\n        &lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;\r\n\r\ntable todo work\r\n\r\n[![enter image description here][2]][2]\r\n\r\nthe todolistFx program itself,see empty\r\n\r\n[![enter image description here][3]][3]\r\n\r\nprogram structure\r\n\r\n[![enter image description here][4]][4]\r\n\r\nlogs run\r\n\r\n        D:\\jdk11\\bin\\java.exe --module-path D:\\openjFX18\\lib --add-modules=javafx.controls,javafx.fxml &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.2\\lib\\idea_rt.jar=51993:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\target\\classes;D:\\openjFX18\\lib\\javafx-swt.jar;D:\\openjFX18\\lib\\javafx.web.jar;D:\\openjFX18\\lib\\javafx.base.jar;D:\\openjFX18\\lib\\javafx.fxml.jar;D:\\openjFX18\\lib\\javafx.media.jar;D:\\openjFX18\\lib\\javafx.swing.jar;D:\\openjFX18\\lib\\javafx.controls.jar;D:\\openjFX18\\lib\\javafx.graphics.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\classmate-1.5.1.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\hibernate-commons-annotations-5.1.0.Final.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\dom4j-2.1.1.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\FastInfoset-1.2.15.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\antlr-2.7.7.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\istack-commons-runtime-3.0.7.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\jandex-2.1.1.Final.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\javax.activation-api-1.2.0.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\byte-buddy-1.10.7.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\javassist-3.24.0-GA.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\javax.persistence-api-2.2.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\jaxb-api-2.3.1.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\jboss-logging-3.3.2.Final.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\jboss-transaction-api_1.2_spec-1.1.1.Final.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\jaxb-runtime-2.3.1.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\stax-ex-1.8.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\txw2-2.3.1.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\hibernate-core-5.4.11.Final.jar;C:\\Users\\den\\.m2\\repository\\org\\hibernate\\hibernate-core\\5.4.11.Final\\hibernate-core-5.4.11.Final.jar;C:\\Users\\den\\.m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.3.2.Final\\jboss-logging-3.3.2.Final.jar;C:\\Users\\den\\.m2\\repository\\javax\\persistence\\javax.persistence-api\\2.2\\javax.persistence-api-2.2.jar;C:\\Users\\den\\.m2\\repository\\org\\javassist\\javassist\\3.24.0-GA\\javassist-3.24.0-GA.jar;C:\\Users\\den\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.10.7\\byte-buddy-1.10.7.jar;C:\\Users\\den\\.m2\\repository\\antlr\\antlr\\2.7.7\\antlr-2.7.7.jar;C:\\Users\\den\\.m2\\repository\\org\\jboss\\spec\\javax\\transaction\\jboss-transaction-api_1.2_spec\\1.1.1.Final\\jboss-transaction-api_1.2_spec-1.1.1.Final.jar;C:\\Users\\den\\.m2\\repository\\org\\jboss\\jandex\\2.1.1.Final\\jandex-2.1.1.Final.jar;C:\\Users\\den\\.m2\\repository\\com\\fasterxml\\classmate\\1.5.1\\classmate-1.5.1.jar;C:\\Users\\den\\.m2\\repository\\javax\\activation\\javax.activation-api\\1.2.0\\javax.activation-api-1.2.0.jar;C:\\Users\\den\\.m2\\repository\\org\\dom4j\\dom4j\\2.1.1\\dom4j-2.1.1.jar;C:\\Users\\den\\.m2\\repository\\org\\hibernate\\common\\hibernate-commons-annotations\\5.1.0.Final\\hibernate-commons-annotations-5.1.0.Final.jar;C:\\Users\\den\\.m2\\repository\\javax\\xml\\bind\\jaxb-api\\2.3.1\\jaxb-api-2.3.1.jar;C:\\Users\\den\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-runtime\\2.3.1\\jaxb-runtime-2.3.1.jar;C:\\Users\\den\\.m2\\repository\\org\\glassfish\\jaxb\\txw2\\2.3.1\\txw2-2.3.1.jar;C:\\Users\\den\\.m2\\repository\\com\\sun\\istack\\istack-commons-runtime\\3.0.7\\istack-commons-runtime-3.0.7.jar;C:\\Users\\den\\.m2\\repository\\org\\jvnet\\staxex\\stax-ex\\1.8\\stax-ex-1.8.jar;C:\\Users\\den\\.m2\\repository\\com\\sun\\xml\\fastinfoset\\FastInfoset\\1.2.15\\FastInfoset-1.2.15.jar;C:\\Users\\den\\.m2\\repository\\org\\xerial\\sqlite-jdbc\\3.39.3.0\\sqlite-jdbc-3.39.3.0.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-controls\\17.0.2\\javafx-controls-17.0.2.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-controls\\17.0.2\\javafx-controls-17.0.2-win.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-graphics\\17.0.2\\javafx-graphics-17.0.2.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-graphics\\17.0.2\\javafx-graphics-17.0.2-win.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-base\\17.0.2\\javafx-base-17.0.2.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-base\\17.0.2\\javafx-base-17.0.2-win.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-fxml\\17.0.2\\javafx-fxml-17.0.2.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-fxml\\17.0.2\\javafx-fxml-17.0.2-win.jar;C:\\Users\\den\\.m2\\repository\\org\\controlsfx\\controlsfx\\11.1.1\\controlsfx-11.1.1.jar;C:\\Users\\den\\.m2\\repository\\org\\kordamp\\ikonli\\ikonli-javafx\\12.3.1\\ikonli-javafx-12.3.1.jar;C:\\Users\\den\\.m2\\repository\\org\\kordamp\\ikonli\\ikonli-core\\12.3.1\\ikonli-core-12.3.1.jar ru.todolist.javafx.start.Main\r\n    сент. 30, 2022 7:17:30 PM org.hibernate.Version logVersion\r\n    INFO: HHH000412: Hibernate Core {5.4.11.Final}\r\n    сент. 30, 2022 7:17:31 PM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\r\n    INFO: HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\r\n    сент. 30, 2022 7:17:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\n    WARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\r\n    сент. 30, 2022 7:17:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001005: using driver [org.sqlite.JDBC] at URL [jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db]\r\n    сент. 30, 2022 7:17:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001001: Connection properties: {autocommit=true}\r\n    сент. 30, 2022 7:17:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001003: Autocommit mode: true\r\n    сент. 30, 2022 7:17:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\r\n    INFO: HHH000115: Hibernate connection pool size: 20 (min=1)\r\n    сент. 30, 2022 7:17:31 PM org.hibernate.dialect.Dialect &lt;init&gt;\r\n    INFO: HHH000400: Using dialect: ru.todolist.javafx.hibernate.dialect.SQLiteDialect\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\r\n    INFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.internal.SessionImpl createCriteria\r\n    WARN: HHH90000022: Hibernate&#39;s legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\n    WARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001005: using driver [org.sqlite.JDBC] at URL [jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db]\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001001: Connection properties: {autocommit=true}\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001003: Autocommit mode: true\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\r\n    INFO: HHH000115: Hibernate connection pool size: 20 (min=1)\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.dialect.Dialect &lt;init&gt;\r\n    INFO: HHH000400: Using dialect: ru.todolist.javafx.hibernate.dialect.SQLiteDialect\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\r\n    INFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\n    WARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001005: using driver [org.sqlite.JDBC] at URL [jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db]\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001001: Connection properties: {autocommit=true}\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001003: Autocommit mode: true\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\r\n    INFO: HHH000115: Hibernate connection pool size: 20 (min=1)\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.dialect.Dialect &lt;init&gt;\r\n    INFO: HHH000400: Using dialect: ru.todolist.javafx.hibernate.dialect.SQLiteDialect\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\r\n    INFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.internal.SessionImpl createCriteria\r\n    WARN: HHH90000022: Hibernate&#39;s legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead\r\n\r\n  [1]: https://i.stack.imgur.com/aQ66D.png\r\n  [2]: https://i.stack.imgur.com/Wk6G8.png\r\n  [3]: https://i.stack.imgur.com/rkY0x.png\r\n  [4]: https://i.stack.imgur.com/pP2la.png\r\n","title":"I can&#39;t extract data from the table and make a connection with the hibernate orm","body":"<p>I start the server, I can't fill out the list in any way, the database is connected and working, table work, I can't extract data from the table and make a connection with the hibernate orm</p>\n<h6></h6>\n<p>And if I try to add writes:\nCaused by: org.hibernate.MappingException: Unknown entity: ru.todolist.javafx.objects.Task</p>\n<p>class TaskHibernateImpl</p>\n<pre><code>    public class TaskHibernateImpl implements TaskDao {\n    ....\n    public ObservableList&lt;Task&gt; tasks = FXCollections.observableArrayList();\n\n        @SuppressWarnings(&quot;unchecked&quot;)\n        @Override\n        public ObservableList&lt;Task&gt; findAll() {\n            System.out.println(&quot;tasks.isEmpty() = &quot; + tasks.isEmpty());\n    \n            tasks.clear();\n            Session session = getSessionFactory().openSession();\n            tasks.addAll(session.createCriteria(Task.class).list()); //here it is not filled in\n            System.out.println(&quot;tasks.isEmpty() = &quot; + tasks.isEmpty()); // true list empty\n            session.close();\n            return tasks;\n        }\n...\n}\n</code></pre>\n<p>class Task object model</p>\n<pre><code> [![enter image description here][1]][1]\n</code></pre>\n<p>File hibernate.cfg.xml hibernate configuration file</p>\n<pre><code>    &lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n    &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\n    &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n  &lt;session-factory&gt;\n&lt;!--    &lt;property name=&quot;connection.url&quot;&gt;jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db--&gt;\n    &lt;property name=&quot;connection.url&quot;&gt;jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db&lt;/property&gt;\n    &lt;property name=&quot;connection.driver_class&quot;&gt;org.sqlite.JDBC&lt;/property&gt;\n    &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\n    &lt;property name=&quot;dialect&quot;&gt;ru.todolist.javafx.hibernate.dialect.SQLiteDialect&lt;/property&gt;\n    &lt;property name=&quot;hibernate.connection.autocommit&quot;&gt;true&lt;/property&gt;\n      &lt;mapping class=&quot;ru.todolist.javafx.hibernate.TodoEntity&quot;/&gt;\n      &lt;mapping resource=&quot;TodoEntity.hbm.xml&quot;/&gt;\n      &lt;!-- &lt;property name=&quot;connection.username&quot;/&gt; --&gt;\n    &lt;!-- &lt;property name=&quot;connection.password&quot;/&gt; --&gt;\n\n    &lt;!-- DB schema will be updated if needed --&gt;\n    &lt;!-- &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt; --&gt;\n  &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>TodoEntity.hbm.xml</p>\n<pre><code>     &lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-mapping PUBLIC\n &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\n    &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\n&lt;hibernate-mapping&gt;\n\n    &lt;class name=&quot;ru.todolist.javafx.hibernate.TodoEntity&quot; table=&quot;todo&quot; schema=&quot;main&quot;&gt;\n        &lt;id name=&quot;id&quot;&gt;\n            &lt;column name=&quot;id&quot; sql-type=&quot;integer&quot;/&gt;\n        &lt;/id&gt;\n        &lt;property name=&quot;task&quot;&gt;\n            &lt;column name=&quot;task&quot; sql-type=&quot;text&quot;/&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;taskCreateTime&quot;&gt;\n            &lt;column name=&quot;task_create_time&quot; sql-type=&quot;text&quot;/&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;status&quot;&gt;\n            &lt;column name=&quot;status&quot; sql-type=&quot;text&quot; not-null=&quot;true&quot;/&gt;\n        &lt;/property&gt;\n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n<p>table todo work</p>\n<p><a href=\"https://i.stack.imgur.com/Wk6G8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wk6G8.png\" alt=\"enter image description here\" /></a></p>\n<p>the todolistFx program itself,see empty</p>\n<p><a href=\"https://i.stack.imgur.com/rkY0x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rkY0x.png\" alt=\"enter image description here\" /></a></p>\n<p>program structure</p>\n<p><a href=\"https://i.stack.imgur.com/pP2la.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pP2la.png\" alt=\"enter image description here\" /></a></p>\n<p>logs run</p>\n<pre><code>    D:\\jdk11\\bin\\java.exe --module-path D:\\openjFX18\\lib --add-modules=javafx.controls,javafx.fxml &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.2\\lib\\idea_rt.jar=51993:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\target\\classes;D:\\openjFX18\\lib\\javafx-swt.jar;D:\\openjFX18\\lib\\javafx.web.jar;D:\\openjFX18\\lib\\javafx.base.jar;D:\\openjFX18\\lib\\javafx.fxml.jar;D:\\openjFX18\\lib\\javafx.media.jar;D:\\openjFX18\\lib\\javafx.swing.jar;D:\\openjFX18\\lib\\javafx.controls.jar;D:\\openjFX18\\lib\\javafx.graphics.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\classmate-1.5.1.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\hibernate-commons-annotations-5.1.0.Final.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\dom4j-2.1.1.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\FastInfoset-1.2.15.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\antlr-2.7.7.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\istack-commons-runtime-3.0.7.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\jandex-2.1.1.Final.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\javax.activation-api-1.2.0.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\byte-buddy-1.10.7.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\javassist-3.24.0-GA.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\javax.persistence-api-2.2.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\jaxb-api-2.3.1.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\jboss-logging-3.3.2.Final.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\jboss-transaction-api_1.2_spec-1.1.1.Final.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\jaxb-runtime-2.3.1.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\stax-ex-1.8.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\txw2-2.3.1.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\hibernate-core-5.4.11.Final.jar;C:\\Users\\den\\.m2\\repository\\org\\hibernate\\hibernate-core\\5.4.11.Final\\hibernate-core-5.4.11.Final.jar;C:\\Users\\den\\.m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.3.2.Final\\jboss-logging-3.3.2.Final.jar;C:\\Users\\den\\.m2\\repository\\javax\\persistence\\javax.persistence-api\\2.2\\javax.persistence-api-2.2.jar;C:\\Users\\den\\.m2\\repository\\org\\javassist\\javassist\\3.24.0-GA\\javassist-3.24.0-GA.jar;C:\\Users\\den\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.10.7\\byte-buddy-1.10.7.jar;C:\\Users\\den\\.m2\\repository\\antlr\\antlr\\2.7.7\\antlr-2.7.7.jar;C:\\Users\\den\\.m2\\repository\\org\\jboss\\spec\\javax\\transaction\\jboss-transaction-api_1.2_spec\\1.1.1.Final\\jboss-transaction-api_1.2_spec-1.1.1.Final.jar;C:\\Users\\den\\.m2\\repository\\org\\jboss\\jandex\\2.1.1.Final\\jandex-2.1.1.Final.jar;C:\\Users\\den\\.m2\\repository\\com\\fasterxml\\classmate\\1.5.1\\classmate-1.5.1.jar;C:\\Users\\den\\.m2\\repository\\javax\\activation\\javax.activation-api\\1.2.0\\javax.activation-api-1.2.0.jar;C:\\Users\\den\\.m2\\repository\\org\\dom4j\\dom4j\\2.1.1\\dom4j-2.1.1.jar;C:\\Users\\den\\.m2\\repository\\org\\hibernate\\common\\hibernate-commons-annotations\\5.1.0.Final\\hibernate-commons-annotations-5.1.0.Final.jar;C:\\Users\\den\\.m2\\repository\\javax\\xml\\bind\\jaxb-api\\2.3.1\\jaxb-api-2.3.1.jar;C:\\Users\\den\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-runtime\\2.3.1\\jaxb-runtime-2.3.1.jar;C:\\Users\\den\\.m2\\repository\\org\\glassfish\\jaxb\\txw2\\2.3.1\\txw2-2.3.1.jar;C:\\Users\\den\\.m2\\repository\\com\\sun\\istack\\istack-commons-runtime\\3.0.7\\istack-commons-runtime-3.0.7.jar;C:\\Users\\den\\.m2\\repository\\org\\jvnet\\staxex\\stax-ex\\1.8\\stax-ex-1.8.jar;C:\\Users\\den\\.m2\\repository\\com\\sun\\xml\\fastinfoset\\FastInfoset\\1.2.15\\FastInfoset-1.2.15.jar;C:\\Users\\den\\.m2\\repository\\org\\xerial\\sqlite-jdbc\\3.39.3.0\\sqlite-jdbc-3.39.3.0.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-controls\\17.0.2\\javafx-controls-17.0.2.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-controls\\17.0.2\\javafx-controls-17.0.2-win.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-graphics\\17.0.2\\javafx-graphics-17.0.2.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-graphics\\17.0.2\\javafx-graphics-17.0.2-win.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-base\\17.0.2\\javafx-base-17.0.2.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-base\\17.0.2\\javafx-base-17.0.2-win.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-fxml\\17.0.2\\javafx-fxml-17.0.2.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-fxml\\17.0.2\\javafx-fxml-17.0.2-win.jar;C:\\Users\\den\\.m2\\repository\\org\\controlsfx\\controlsfx\\11.1.1\\controlsfx-11.1.1.jar;C:\\Users\\den\\.m2\\repository\\org\\kordamp\\ikonli\\ikonli-javafx\\12.3.1\\ikonli-javafx-12.3.1.jar;C:\\Users\\den\\.m2\\repository\\org\\kordamp\\ikonli\\ikonli-core\\12.3.1\\ikonli-core-12.3.1.jar ru.todolist.javafx.start.Main\nсент. 30, 2022 7:17:30 PM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate Core {5.4.11.Final}\nсент. 30, 2022 7:17:31 PM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\nсент. 30, 2022 7:17:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\nсент. 30, 2022 7:17:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001005: using driver [org.sqlite.JDBC] at URL [jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db]\nсент. 30, 2022 7:17:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001001: Connection properties: {autocommit=true}\nсент. 30, 2022 7:17:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001003: Autocommit mode: true\nсент. 30, 2022 7:17:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\nINFO: HHH000115: Hibernate connection pool size: 20 (min=1)\nсент. 30, 2022 7:17:31 PM org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: ru.todolist.javafx.hibernate.dialect.SQLiteDialect\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\nINFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\nсент. 30, 2022 7:17:32 PM org.hibernate.internal.SessionImpl createCriteria\nWARN: HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001005: using driver [org.sqlite.JDBC] at URL [jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db]\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001001: Connection properties: {autocommit=true}\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001003: Autocommit mode: true\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\nINFO: HHH000115: Hibernate connection pool size: 20 (min=1)\nсент. 30, 2022 7:17:32 PM org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: ru.todolist.javafx.hibernate.dialect.SQLiteDialect\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\nINFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001005: using driver [org.sqlite.JDBC] at URL [jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db]\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001001: Connection properties: {autocommit=true}\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001003: Autocommit mode: true\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\nINFO: HHH000115: Hibernate connection pool size: 20 (min=1)\nсент. 30, 2022 7:17:32 PM org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: ru.todolist.javafx.hibernate.dialect.SQLiteDialect\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\nINFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\nсент. 30, 2022 7:17:32 PM org.hibernate.internal.SessionImpl createCriteria\nWARN: HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead\n</code></pre>\n"},{"tags":["java","android","arrays"],"answers":[{"comments":[{"owner":{"account_id":26502681,"reputation":1,"user_id":20139370,"display_name":"Void Boi"},"score":0,"creation_date":1664727154,"post_id":73921924,"comment_id":130533226,"body_markdown":"i did that and now the app won&#39;t open, do i have to add something to the strings xml file or not?","body":"i did that and now the app won&#39;t open, do i have to add something to the strings xml file or not?"},{"owner":{"account_id":14608568,"reputation":625,"user_id":10550655,"display_name":"Michael Katt"},"score":0,"creation_date":1664742904,"post_id":73921924,"comment_id":130536348,"body_markdown":"Did you debug the method `processPress`? Do you leave the while loop?","body":"Did you debug the method <code>processPress</code>? Do you leave the while loop?"},{"owner":{"account_id":14608568,"reputation":625,"user_id":10550655,"display_name":"Michael Katt"},"score":0,"creation_date":1664743102,"post_id":73921924,"comment_id":130536382,"body_markdown":"Could you say which change forces the app to keep close?","body":"Could you say which change forces the app to keep close?"},{"owner":{"account_id":26502681,"reputation":1,"user_id":20139370,"display_name":"Void Boi"},"score":0,"creation_date":1664746057,"post_id":73921924,"comment_id":130536879,"body_markdown":"now it doesn&#39;t close but instead the code says it cannot resolve setText and sb, but again, do i need to change something in the strings xml or the activity_main xml or not?","body":"now it doesn&#39;t close but instead the code says it cannot resolve setText and sb, but again, do i need to change something in the strings xml or the activity_main xml or not?"},{"owner":{"account_id":26502681,"reputation":1,"user_id":20139370,"display_name":"Void Boi"},"score":0,"creation_date":1664746096,"post_id":73921924,"comment_id":130536883,"body_markdown":"I also left the while loop and android studio doesn&#39;t say theres anything to debug in processPress so, no I didnt debug","body":"I also left the while loop and android studio doesn&#39;t say theres anything to debug in processPress so, no I didnt debug"},{"owner":{"account_id":14608568,"reputation":625,"user_id":10550655,"display_name":"Michael Katt"},"score":0,"creation_date":1664747750,"post_id":73921924,"comment_id":130537173,"body_markdown":"I don&#39;t think it depends on the Strings XML.","body":"I don&#39;t think it depends on the Strings XML."},{"owner":{"account_id":14608568,"reputation":625,"user_id":10550655,"display_name":"Michael Katt"},"score":0,"creation_date":1664748182,"post_id":73921924,"comment_id":130537219,"body_markdown":"Remove `pw.printf(&quot;%4s%n&quot;, value);` from your code and check if the app works. If not restore `sb.append(&quot;\\n&quot;).append(sc.next());`","body":"Remove <code>pw.printf(&quot;%4s%n&quot;, value);</code> from your code and check if the app works. If not restore <code>sb.append(&quot;\\n&quot;).append(sc.next());</code>"},{"owner":{"account_id":26502681,"reputation":1,"user_id":20139370,"display_name":"Void Boi"},"score":0,"creation_date":1664748820,"post_id":73921924,"comment_id":130537309,"body_markdown":"still nothing. in addition, i&#39;m getting messages saying the pw field is never used, the shift lehmer method is never used and the tracker, timer and num_vals variables are not updated in the loop. Now i don&#39;t even know if my code is even finding the new values with the lehmer mean","body":"still nothing. in addition, i&#39;m getting messages saying the pw field is never used, the shift lehmer method is never used and the tracker, timer and num_vals variables are not updated in the loop. Now i don&#39;t even know if my code is even finding the new values with the lehmer mean"},{"owner":{"account_id":14608568,"reputation":625,"user_id":10550655,"display_name":"Michael Katt"},"score":0,"creation_date":1664749189,"post_id":73921924,"comment_id":130537363,"body_markdown":"Please fix your code without my answer first. And afterwards add the file writing. Good luck.","body":"Please fix your code without my answer first. And afterwards add the file writing. Good luck."}],"tags":[],"owner":{"account_id":14608568,"reputation":625,"user_id":10550655,"display_name":"Michael Katt"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664749042,"creation_date":1664660302,"answer_id":73921924,"question_id":73921301,"body_markdown":"You only need to use the PrintWriter, therefore you could write the initialization of the writers into one statement.\r\n\r\n    File outfile = new File(getExternalFilesDir(null), &quot;out.txt&quot;);\r\n    \r\n\r\nYou can write into your file with `print`/`write`/`println()`/`printf()`/`format()`. As you want to use some formatting you should use `printf()`/`format()`. The formatting instruction `4s%n` shows the String value with at least 4 letter and then a linebreak.\r\nThe PrintWriter is usually used with try-with-resource, which will close the PrintWriter automatically within the implicite final block.\r\n\r\n    try(PrintWriter pw = new PrintWriter(new BufferedWriter(new FileWriter(outfile)))) {\r\n        while (sc.hasNext()) {\r\n            String value = sc.next();\r\n            sb.append(&quot;\\n&quot;).append(value);\r\n            pw.printf(&quot;%4s%n&quot;, value);\r\n        }\r\n    }\r\n","title":"Array from a textfile, and then display new values obtained from subtracting starting values by mean in android studio","body":"<p>You only need to use the PrintWriter, therefore you could write the initialization of the writers into one statement.</p>\n<pre><code>File outfile = new File(getExternalFilesDir(null), &quot;out.txt&quot;);\n</code></pre>\n<p>You can write into your file with <code>print</code>/<code>write</code>/<code>println()</code>/<code>printf()</code>/<code>format()</code>. As you want to use some formatting you should use <code>printf()</code>/<code>format()</code>. The formatting instruction <code>4s%n</code> shows the String value with at least 4 letter and then a linebreak.\nThe PrintWriter is usually used with try-with-resource, which will close the PrintWriter automatically within the implicite final block.</p>\n<pre><code>try(PrintWriter pw = new PrintWriter(new BufferedWriter(new FileWriter(outfile)))) {\n    while (sc.hasNext()) {\n        String value = sc.next();\n        sb.append(&quot;\\n&quot;).append(value);\n        pw.printf(&quot;%4s%n&quot;, value);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26502681,"reputation":1,"user_id":20139370,"display_name":"Void Boi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664749042,"creation_date":1664653922,"question_id":73921301,"body_markdown":"I have already managed to display the values from a textfile and put them into an array (i think), but now i want to not only obtain new values equal to the original values minus the lehmer mean, but also output them to a file that displays one value per line and with a limit of four decimal places, but i have no idea where to even start with that. \r\nThis is the code I have right now:\r\n\r\n    public void processPress(View view)\r\n            throws IOException\r\n    {\r\n        EditText fileInputField = findViewById(R.id.editFileName);\r\n        String fileName = fileInputField.getText().toString();\r\n\r\n        Scanner sc = new Scanner(new InputStreamReader(getAssets().open(fileName),\r\n                StandardCharsets.UTF_8));\r\n\r\n        StringBuilder sb = new StringBuilder();\r\n        while (sc.hasNext()) {\r\n            sb.append(&quot;\\n&quot;).append(sc.next());\r\n            \r\n\r\n        }\r\n\r\n        TextView displayAreaTextView = findViewById(R.id.txtResult);\r\n        displayAreaTextView.setText(sb.toString());\r\n    }\r\n\r\n    File outfile = new File(getExternalFilesDir(null), &quot;out.txt&quot;);\r\n    FileWriter fw = new FileWriter(outfile);\r\n    BufferedWriter bw = new BufferedWriter(fw);\r\n    PrintWriter pw = new PrintWriter(bw);\r\n\r\n\r\n    public void shift_lehmer3_mean(double[] a, int num_vals)\r\n    {\r\n        int tracker = 0;\r\n        double square=0;\r\n        double cube=0;\r\n        while (tracker &gt; num_vals){\r\n            square += Math.pow(a[tracker], 2);\r\n            cube += Math.pow(a[tracker], 3);\r\n\r\n        }\r\n        double lehmer =(cube/square);\r\n        int timer = 0;\r\n        while (timer &lt; 0)\r\n        {\r\n            double shiftValue = (a[timer]- lehmer);\r\n            a[timer] = shiftValue;\r\n        }\r\n    }","title":"Array from a textfile, and then display new values obtained from subtracting starting values by mean in android studio","body":"<p>I have already managed to display the values from a textfile and put them into an array (i think), but now i want to not only obtain new values equal to the original values minus the lehmer mean, but also output them to a file that displays one value per line and with a limit of four decimal places, but i have no idea where to even start with that.\nThis is the code I have right now:</p>\n<pre><code>public void processPress(View view)\n        throws IOException\n{\n    EditText fileInputField = findViewById(R.id.editFileName);\n    String fileName = fileInputField.getText().toString();\n\n    Scanner sc = new Scanner(new InputStreamReader(getAssets().open(fileName),\n            StandardCharsets.UTF_8));\n\n    StringBuilder sb = new StringBuilder();\n    while (sc.hasNext()) {\n        sb.append(&quot;\\n&quot;).append(sc.next());\n        \n\n    }\n\n    TextView displayAreaTextView = findViewById(R.id.txtResult);\n    displayAreaTextView.setText(sb.toString());\n}\n\nFile outfile = new File(getExternalFilesDir(null), &quot;out.txt&quot;);\nFileWriter fw = new FileWriter(outfile);\nBufferedWriter bw = new BufferedWriter(fw);\nPrintWriter pw = new PrintWriter(bw);\n\n\npublic void shift_lehmer3_mean(double[] a, int num_vals)\n{\n    int tracker = 0;\n    double square=0;\n    double cube=0;\n    while (tracker &gt; num_vals){\n        square += Math.pow(a[tracker], 2);\n        cube += Math.pow(a[tracker], 3);\n\n    }\n    double lehmer =(cube/square);\n    int timer = 0;\n    while (timer &lt; 0)\n    {\n        double shiftValue = (a[timer]- lehmer);\n        a[timer] = shiftValue;\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","android-jetpack-compose","kotlin-multiplatform","compose-multiplatform"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664748270,"creation_date":1664748270,"answer_id":73929654,"question_id":73878439,"body_markdown":"&gt; Does that mean that it&#39;s not possible using it for developing windows native code for kotlin multiplatform?\r\n\r\nCorrect, at least today. You are certainly welcome to attempt to port Compose to use the Kotlin/Native for Windows, following along Compose for Desktop and Compose for Web. Compose for Desktop leverages [Skiko](https://github.com/JetBrains/skiko), which presently does not appear to have Kotlin/Native Windows support.\r\n\r\n&gt; Can&#39;t find anything that confirms that in the compose multiplatform website.\r\n\r\nThe [Getting Started page](https://github.com/JetBrains/compose-jb/tree/master/tutorials/Getting_Started) linked to from [the Compose for Desktop site](https://www.jetbrains.com/lp/compose-desktop/) states that JDK 11 is required.\r\n","title":"Compose Multiplatform without JVM? (native windows executable)","body":"<blockquote>\n<p>Does that mean that it's not possible using it for developing windows native code for kotlin multiplatform?</p>\n</blockquote>\n<p>Correct, at least today. You are certainly welcome to attempt to port Compose to use the Kotlin/Native for Windows, following along Compose for Desktop and Compose for Web. Compose for Desktop leverages <a href=\"https://github.com/JetBrains/skiko\" rel=\"nofollow noreferrer\">Skiko</a>, which presently does not appear to have Kotlin/Native Windows support.</p>\n<blockquote>\n<p>Can't find anything that confirms that in the compose multiplatform website.</p>\n</blockquote>\n<p>The <a href=\"https://github.com/JetBrains/compose-jb/tree/master/tutorials/Getting_Started\" rel=\"nofollow noreferrer\">Getting Started page</a> linked to from <a href=\"https://www.jetbrains.com/lp/compose-desktop/\" rel=\"nofollow noreferrer\">the Compose for Desktop site</a> states that JDK 11 is required.</p>\n"}],"owner":{"account_id":221733,"reputation":36369,"user_id":479886,"accept_rate":61,"display_name":"NullPointerException"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":932,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1664748270,"creation_date":1664354094,"question_id":73878439,"body_markdown":"In theory, with `kotlin multiplatform` you can compile an executable for Windows, which not depends on a `JVM` installed to be executed. It&#39;s completly native.\r\n\r\nNow I disscovered `Compose Multiplatform` for developing GUIs for `kotlin multiplatform`. And it supposedly can develop for Windows also. But there is a problem, in the official website I can read this:\r\n\r\n&gt; Compose for Desktop targets the JVM\r\n\r\nDoes that mean that it&#39;s not possible using it for developing windows native code for `kotlin multiplatform`? it can only be used to develop java applications for windows which needs a `jvm` installed?\r\n\r\nCan&#39;t find anything that confirms that in the `compose multiplatform` website.\r\n\r\nhttps://www.jetbrains.com/lp/compose-mpp/\r\n\r\nAlso something very rare, in the official github they have a sample, but it uses... androidx libraries! \r\n\r\n    import androidx.compose.foundation.layout.Arrangement\r\n    import androidx.compose.foundation.layout.Column\r\n    import androidx.compose.foundation.layout.fillMaxSize\r\n    import androidx.compose.material.Button\r\n    import androidx.compose.material.MaterialTheme\r\n    import androidx.compose.material.Text\r\n    import androidx.compose.runtime.mutableStateOf\r\n    import androidx.compose.runtime.remember\r\n    import androidx.compose.ui.Alignment\r\n    import androidx.compose.ui.Modifier\r\n    import androidx.compose.ui.unit.dp\r\n    import androidx.compose.ui.window.Window\r\n    import androidx.compose.ui.window.application\r\n    import androidx.compose.ui.window.rememberWindowState\r\n\r\nHow can I use `compose multiplatform` for develop `kotlin multiplatform` windows native code code which not depends of a `JVM` installed? If its not possible, then, what can I use to build GUIs for `kotlin multiplatform` windows native code?","title":"Compose Multiplatform without JVM? (native windows executable)","body":"<p>In theory, with <code>kotlin multiplatform</code> you can compile an executable for Windows, which not depends on a <code>JVM</code> installed to be executed. It's completly native.</p>\n<p>Now I disscovered <code>Compose Multiplatform</code> for developing GUIs for <code>kotlin multiplatform</code>. And it supposedly can develop for Windows also. But there is a problem, in the official website I can read this:</p>\n<blockquote>\n<p>Compose for Desktop targets the JVM</p>\n</blockquote>\n<p>Does that mean that it's not possible using it for developing windows native code for <code>kotlin multiplatform</code>? it can only be used to develop java applications for windows which needs a <code>jvm</code> installed?</p>\n<p>Can't find anything that confirms that in the <code>compose multiplatform</code> website.</p>\n<p><a href=\"https://www.jetbrains.com/lp/compose-mpp/\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/lp/compose-mpp/</a></p>\n<p>Also something very rare, in the official github they have a sample, but it uses... androidx libraries!</p>\n<pre><code>import androidx.compose.foundation.layout.Arrangement\nimport androidx.compose.foundation.layout.Column\nimport androidx.compose.foundation.layout.fillMaxSize\nimport androidx.compose.material.Button\nimport androidx.compose.material.MaterialTheme\nimport androidx.compose.material.Text\nimport androidx.compose.runtime.mutableStateOf\nimport androidx.compose.runtime.remember\nimport androidx.compose.ui.Alignment\nimport androidx.compose.ui.Modifier\nimport androidx.compose.ui.unit.dp\nimport androidx.compose.ui.window.Window\nimport androidx.compose.ui.window.application\nimport androidx.compose.ui.window.rememberWindowState\n</code></pre>\n<p>How can I use <code>compose multiplatform</code> for develop <code>kotlin multiplatform</code> windows native code code which not depends of a <code>JVM</code> installed? If its not possible, then, what can I use to build GUIs for <code>kotlin multiplatform</code> windows native code?</p>\n"},{"tags":["java","validation","vaadin","vaadin7","datefield"],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1612638324,"post_id":25796103,"comment_id":116831646,"body_markdown":"Update: The Joda-Time project is now in maintenance mode. Its creator Stephen Colebourne went on to lead JSR 310 adding the *java.time* classes built into Java 8 and later.","body":"Update: The Joda-Time project is now in maintenance mode. Its creator Stephen Colebourne went on to lead JSR 310 adding the <i>java.time</i> classes built into Java 8 and later."}],"tags":[],"owner":{"account_id":3200595,"reputation":2502,"user_id":2702708,"accept_rate":100,"display_name":"Krayo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410468677,"creation_date":1410466309,"answer_id":25796103,"question_id":20042808,"body_markdown":"A little complicated but I hope it works (in Vaadin 7).&lt;br&gt;\r\nI use some Apache Commons and Joda-Time helper methods.&lt;br&gt;\r\nMaybe some customization are needed.\r\n\r\n    public class MyDateField extends CustomField&lt;Date&gt; {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        private static final DateTimeFormatter DTF;\r\n    \r\n        static {\r\n            DTF = DateTimeFormat.forPattern(&quot;yyyy-MM-dd&quot;); // set timezone if needed\r\n        }\r\n    \r\n        private TextField tf = new TextField();\r\n        private DateField df = new DateField();\r\n        private Date original;\r\n        private Date minDay = new Date();\r\n        private Date maxDay = new DateTime(9999, 12, 31, 23, 59).toDate();\r\n        private boolean isInnerChange;\r\n        private Date convertedDate;\r\n    \r\n        @Override\r\n        protected Component initContent() {\r\n            tf.setConverter(InnerConverter.INSTANCE);\r\n            tf.setTextChangeEventMode(TextChangeEventMode.EAGER); // or LAZY\r\n            tf.addTextChangeListener(new TextChangeListener() {\r\n                private static final long serialVersionUID = 1L;\r\n    \r\n                @Override\r\n                public void textChange(TextChangeEvent event) {\r\n                    int pos = tf.getCursorPosition();\r\n                    if (isValid(event.getText())) {\r\n                        df.setComponentError(null);\r\n                        isInnerChange = true;\r\n                        df.setValue(convertedDate);\r\n                    } else {\r\n                        df.setComponentError(InnerErrorMessage.INSTANCE);\r\n                    }\r\n                    tf.setCursorPosition(pos);\r\n                }\r\n            });\r\n            df.setStyleName(&quot;truncated-date-field&quot;);\r\n            df.addValueChangeListener(new Property.ValueChangeListener() {\r\n                private static final long serialVersionUID = 1L;\r\n    \r\n                @Override\r\n                public void valueChange(Property.ValueChangeEvent event) {\r\n                    if (!isInnerChange) {\r\n                        Date d = df.getValue();\r\n                        df.setComponentError(isValid(d) ? null : InnerErrorMessage.INSTANCE);\r\n                        tf.setValue(d == null ? &quot;&quot; : DTF.print(d.getTime()));\r\n                    }\r\n                    isInnerChange = false;\r\n                }\r\n            });\r\n            return new HorizontalLayout(tf, df);\r\n        }\r\n    \r\n        @Override\r\n        public void setPropertyDataSource( @SuppressWarnings(&quot;rawtypes&quot;) Property newDS) {\r\n            tf.setPropertyDataSource(newDS);\r\n            if (newDS != null &amp;&amp; getType().isAssignableFrom(newDS.getType())) {\r\n                original = (Date) newDS.getValue();\r\n            } else {\r\n                original = null;\r\n            }\r\n            df.setValue(original);\r\n        }\r\n    \r\n        @Override\r\n        public void commit() throws SourceException, InvalidValueException {\r\n            ErrorMessage em = df.getComponentError();\r\n            if (em != null) {\r\n                throw new InvalidValueException(em.getFormattedHtmlMessage());\r\n            }\r\n            tf.commit();\r\n        }\r\n    \r\n        @Override\r\n        public Class&lt;? extends Date&gt; getType() {\r\n            return Date.class;\r\n        }\r\n    \r\n        private boolean isValid(String s) {\r\n            s = StringUtils.trimToNull(s);\r\n            if (s == null) {\r\n                convertedDate = null;\r\n                return true;\r\n            }\r\n            try {\r\n                return isValid(DTF.parseDateTime(s).toDate());\r\n            } catch (Exception e) {\r\n                return false;\r\n            }\r\n        }\r\n    \r\n        private boolean isValid(Date d) {\r\n            if (d == null || DateUtils.truncatedEquals(original, d, Calendar.DAY_OF_MONTH)) {\r\n                convertedDate = d;\r\n                return true;\r\n            }\r\n            if (DateUtils.truncatedCompareTo(minDay, d, Calendar.DAY_OF_MONTH) &lt;= 0\r\n                    &amp;&amp; DateUtils.truncatedCompareTo(maxDay, d, Calendar.DAY_OF_MONTH) &gt;= 0) {\r\n                convertedDate = d;\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        // other methods if needed\r\n    \r\n        private static class InnerErrorMessage implements ErrorMessage {\r\n    \r\n            private static final long serialVersionUID = 1L;\r\n            private static final InnerErrorMessage INSTANCE = new InnerErrorMessage();\r\n    \r\n            @Override\r\n            public String getFormattedHtmlMessage() {\r\n                return &quot;Invalid date!&quot;;\r\n            }\r\n    \r\n            @Override\r\n            public ErrorLevel getErrorLevel() {\r\n                return ErrorLevel.ERROR;\r\n            }\r\n    \r\n            private Object readResolve() {\r\n                return INSTANCE; // preserves singleton property\r\n            }\r\n    \r\n        }\r\n    \r\n        private static class InnerConverter implements Converter&lt;String, Date&gt; {\r\n    \r\n            private static final long serialVersionUID = 1L;\r\n            private static final InnerConverter INSTANCE = new InnerConverter();\r\n    \r\n            @Override\r\n            public Date convertToModel(String value, Class&lt;? extends Date&gt; targetType, Locale locale)\r\n                    throws ConversionException {\r\n                String s = StringUtils.trimToNull(value);\r\n                if (s == null) {\r\n                    return null;\r\n                }\r\n                try {\r\n                    return DTF.parseDateTime(s).toDate();\r\n                } catch (Exception e) {\r\n                    throw new ConversionException(e);\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public String convertToPresentation(Date value, Class&lt;? extends String&gt; targetType, Locale locale)\r\n                    throws ConversionException {\r\n                return value == null ? &quot;&quot; : DTF.print(value.getTime());\r\n            }\r\n    \r\n            @Override\r\n            public Class&lt;Date&gt; getModelType() {\r\n                return Date.class;\r\n            }\r\n    \r\n            @Override\r\n            public Class&lt;String&gt; getPresentationType() {\r\n                return String.class;\r\n            }\r\n    \r\n            private Object readResolve() {\r\n                return INSTANCE; // preserves singleton property\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nInto your styles.css:\r\n\r\n    .truncated-date-field &gt; input.v-datefield-textfield {\r\n        display: none;\r\n    }\r\n","title":"How to validate a DateField correctly in Vaadin?","body":"<p>A little complicated but I hope it works (in Vaadin 7).<br>\nI use some Apache Commons and Joda-Time helper methods.<br>\nMaybe some customization are needed.</p>\n\n<pre><code>public class MyDateField extends CustomField&lt;Date&gt; {\n\n    private static final long serialVersionUID = 1L;\n    private static final DateTimeFormatter DTF;\n\n    static {\n        DTF = DateTimeFormat.forPattern(\"yyyy-MM-dd\"); // set timezone if needed\n    }\n\n    private TextField tf = new TextField();\n    private DateField df = new DateField();\n    private Date original;\n    private Date minDay = new Date();\n    private Date maxDay = new DateTime(9999, 12, 31, 23, 59).toDate();\n    private boolean isInnerChange;\n    private Date convertedDate;\n\n    @Override\n    protected Component initContent() {\n        tf.setConverter(InnerConverter.INSTANCE);\n        tf.setTextChangeEventMode(TextChangeEventMode.EAGER); // or LAZY\n        tf.addTextChangeListener(new TextChangeListener() {\n            private static final long serialVersionUID = 1L;\n\n            @Override\n            public void textChange(TextChangeEvent event) {\n                int pos = tf.getCursorPosition();\n                if (isValid(event.getText())) {\n                    df.setComponentError(null);\n                    isInnerChange = true;\n                    df.setValue(convertedDate);\n                } else {\n                    df.setComponentError(InnerErrorMessage.INSTANCE);\n                }\n                tf.setCursorPosition(pos);\n            }\n        });\n        df.setStyleName(\"truncated-date-field\");\n        df.addValueChangeListener(new Property.ValueChangeListener() {\n            private static final long serialVersionUID = 1L;\n\n            @Override\n            public void valueChange(Property.ValueChangeEvent event) {\n                if (!isInnerChange) {\n                    Date d = df.getValue();\n                    df.setComponentError(isValid(d) ? null : InnerErrorMessage.INSTANCE);\n                    tf.setValue(d == null ? \"\" : DTF.print(d.getTime()));\n                }\n                isInnerChange = false;\n            }\n        });\n        return new HorizontalLayout(tf, df);\n    }\n\n    @Override\n    public void setPropertyDataSource( @SuppressWarnings(\"rawtypes\") Property newDS) {\n        tf.setPropertyDataSource(newDS);\n        if (newDS != null &amp;&amp; getType().isAssignableFrom(newDS.getType())) {\n            original = (Date) newDS.getValue();\n        } else {\n            original = null;\n        }\n        df.setValue(original);\n    }\n\n    @Override\n    public void commit() throws SourceException, InvalidValueException {\n        ErrorMessage em = df.getComponentError();\n        if (em != null) {\n            throw new InvalidValueException(em.getFormattedHtmlMessage());\n        }\n        tf.commit();\n    }\n\n    @Override\n    public Class&lt;? extends Date&gt; getType() {\n        return Date.class;\n    }\n\n    private boolean isValid(String s) {\n        s = StringUtils.trimToNull(s);\n        if (s == null) {\n            convertedDate = null;\n            return true;\n        }\n        try {\n            return isValid(DTF.parseDateTime(s).toDate());\n        } catch (Exception e) {\n            return false;\n        }\n    }\n\n    private boolean isValid(Date d) {\n        if (d == null || DateUtils.truncatedEquals(original, d, Calendar.DAY_OF_MONTH)) {\n            convertedDate = d;\n            return true;\n        }\n        if (DateUtils.truncatedCompareTo(minDay, d, Calendar.DAY_OF_MONTH) &lt;= 0\n                &amp;&amp; DateUtils.truncatedCompareTo(maxDay, d, Calendar.DAY_OF_MONTH) &gt;= 0) {\n            convertedDate = d;\n            return true;\n        }\n        return false;\n    }\n\n    // other methods if needed\n\n    private static class InnerErrorMessage implements ErrorMessage {\n\n        private static final long serialVersionUID = 1L;\n        private static final InnerErrorMessage INSTANCE = new InnerErrorMessage();\n\n        @Override\n        public String getFormattedHtmlMessage() {\n            return \"Invalid date!\";\n        }\n\n        @Override\n        public ErrorLevel getErrorLevel() {\n            return ErrorLevel.ERROR;\n        }\n\n        private Object readResolve() {\n            return INSTANCE; // preserves singleton property\n        }\n\n    }\n\n    private static class InnerConverter implements Converter&lt;String, Date&gt; {\n\n        private static final long serialVersionUID = 1L;\n        private static final InnerConverter INSTANCE = new InnerConverter();\n\n        @Override\n        public Date convertToModel(String value, Class&lt;? extends Date&gt; targetType, Locale locale)\n                throws ConversionException {\n            String s = StringUtils.trimToNull(value);\n            if (s == null) {\n                return null;\n            }\n            try {\n                return DTF.parseDateTime(s).toDate();\n            } catch (Exception e) {\n                throw new ConversionException(e);\n            }\n        }\n\n        @Override\n        public String convertToPresentation(Date value, Class&lt;? extends String&gt; targetType, Locale locale)\n                throws ConversionException {\n            return value == null ? \"\" : DTF.print(value.getTime());\n        }\n\n        @Override\n        public Class&lt;Date&gt; getModelType() {\n            return Date.class;\n        }\n\n        @Override\n        public Class&lt;String&gt; getPresentationType() {\n            return String.class;\n        }\n\n        private Object readResolve() {\n            return INSTANCE; // preserves singleton property\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Into your styles.css:</p>\n\n<pre><code>.truncated-date-field &gt; input.v-datefield-textfield {\n    display: none;\n}\n</code></pre>\n"}],"owner":{"account_id":280794,"reputation":2726,"user_id":576699,"accept_rate":66,"display_name":"Mr Baloon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7692,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1664748170,"creation_date":1384761805,"question_id":20042808,"body_markdown":"I&#39;m having some trouble with validating DateFields.\r\nIn my application I have a table with DateField properties that the users should be able to edit by pressing an edit button. I also have an OK-button that commits the fields and a cancel-button that discards them.\r\n\r\n**Here&#39;s what I want to achieve**&#160;(of course there are some neat rules that has to be followed):\r\n\r\n- First off, dates can only be changed *to* the current day up to 9999-12-31.\r\n- Secondly, I preferably want the validation to be dynamic (as-you-type)\r\n- The original dates (dates that are already in the table when going into editing mode) can be any date and you should be able to commit these as they are, even if they are in the past.\r\n- If you change the date to an invalid date (you can still do this &quot;manually&quot;, i.e. directly in the field, not in the date picker) or enter an invalid character into the DateField, an error icon should be shown with a message, not letting you commit your changes until you entered a valid date.\r\n- If you change the date to an invalid date (error icon is shown), and then to a valid date, the error icon should disappear.\r\n\r\nThe **current behaviour**&#160;that I managed to implement does the following:\r\n\r\n- Allows &quot;original dates&quot; - OK\r\n- Allows changing to a valid date - OK\r\n- When changing to an invalid date (can be done &quot;manually&quot;, not using the date picker) and press enter in the field, the field is immediately reset to the original date, but the error icon is still shown - NOT ok\r\n- When entering an invalid character (can be done &quot;manually&quot;, not using the date picker) and press enter in the field, a NPE will be thrown while committing, also no error icon is shown - NOT ok\r\n- When changing to an invalid date and press enter in the field and the back to a valid date and press enter in the field, the error icon is still there - NOT ok\r\n- When changing to an invalid date and press OK (i.e. commit()), the field first resets to the original date and the changes (i.e. no change at all to the field) are committed - NOT ok\r\n\r\nNow, I tried implementing a wrapper so that I could listen for value changes, but DateField don&#39;t have convenient methods like TextField has (eg. setTextChangeEventMode and setTextChangeTimeout). I override valueChange to take care of some of the issues, but it only seems gets called when you change to a valid date, not when you change to an invalid date (you also have to press enter every time when not using the date picker)... instead another validate() gets called in the background, resetting setValidationVisible() all the time.\r\n\r\nI even tried creating a CustomDateRangeValidator, but found out it wasn&#39;t to much help.\r\n\r\nPlease help me get this straight, I have tried so many things now and I&#39;m running out of options.\r\n\r\n**Here&#39;s my createField method:**\r\n\r\n    createField(){\r\n    &#160;&#160; &#160;// some more code up here...\r\n    \r\n    &#160;&#160; &#160;if (propertyId.equals(&quot;Valid From&quot;)) {\r\n    &#160;&#160; &#160;&#160;&#160; &#160;dField.setImmediate(true);\r\n    \r\n    &#160;&#160; &#160;&#160;&#160; &#160;dField.setRangeStart(new Date());\r\n    &#160;&#160; &#160;&#160;&#160; &#160;dField.setRangeEnd(dateUtil.getDate(9999, 12, 31));\r\n    &#160;&#160; &#160;&#160;&#160; &#160;dField.setDateOutOfRangeMessage(&quot;Date out of range!&quot;);\r\n    \r\n    &#160;&#160; &#160;&#160;&#160; &#160;@SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })\r\n    &#160;&#160; &#160;&#160;&#160; &#160;TableDataValidatingWrapper&lt;TextField&gt; wField = new TableDataValidatingWrapper(dField);\r\n    &#160;&#160; &#160;&#160;&#160; &#160;return wField;\r\n    &#160;&#160; &#160;}\r\n    \r\n    &#160;&#160; &#160;// some more code down here...\r\n    }\r\n\r\n**... and here&#39;s my wrapper:**\r\n\r\n    public class TableDataValidatingWrapper&lt;T&gt; extends CustomField&lt;T&gt; {\r\n    \r\n    &#160;&#160; &#160;private static final long serialVersionUID = 1L;\r\n    &#160;&#160; &#160;protected Field&lt;T&gt; delegate;\r\n    \r\n    &#160;&#160; &#160;public TableDataValidatingWrapper(final Field&lt;T&gt; delegate) {\r\n    &#160;&#160; &#160;&#160;&#160; &#160;this.delegate = delegate;\r\n    \r\n    &#160;&#160; &#160;&#160;&#160; &#160;if (delegate instanceof DateField) {\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;final DateField dateField = (DateField) delegate;\r\n    \r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;dateField.setCaption(&quot;&quot;);\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;dateField.setImmediate(true);\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;dateField.setInvalidAllowed(false);\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;dateField.setInvalidCommitted(true);\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;dateField.setValidationVisible(false);\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;dateField.addValueChangeListener(new ValueChangeListener() {\r\n    \r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;private static final long serialVersionUID = 1L;\r\n    \r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;@Override\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;public void valueChange(com.vaadin.data.Property.ValueChangeEvent event) {\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;try {\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;dateField.validate();\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;dateField.setValidationVisible(false);\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;} catch (InvalidValueException ive) {\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;//handle exception\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;} catch (Exception e) {\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;//handle exception\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;}\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;}\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;});\r\n    \r\n    &#160;&#160; &#160;&#160;&#160; &#160;}\r\n    &#160;&#160; &#160;}\r\n    \r\n    //some other overridden methods here...\r\n    }","title":"How to validate a DateField correctly in Vaadin?","body":"<p>I'm having some trouble with validating DateFields.\nIn my application I have a table with DateField properties that the users should be able to edit by pressing an edit button. I also have an OK-button that commits the fields and a cancel-button that discards them.</p>\n\n<p><strong>Here's what I want to achieve</strong> (of course there are some neat rules that has to be followed):</p>\n\n<ul>\n<li>First off, dates can only be changed <em>to</em> the current day up to 9999-12-31.</li>\n<li>Secondly, I preferably want the validation to be dynamic (as-you-type)</li>\n<li>The original dates (dates that are already in the table when going into editing mode) can be any date and you should be able to commit these as they are, even if they are in the past.</li>\n<li>If you change the date to an invalid date (you can still do this \"manually\", i.e. directly in the field, not in the date picker) or enter an invalid character into the DateField, an error icon should be shown with a message, not letting you commit your changes until you entered a valid date.</li>\n<li>If you change the date to an invalid date (error icon is shown), and then to a valid date, the error icon should disappear.</li>\n</ul>\n\n<p>The <strong>current behaviour</strong> that I managed to implement does the following:</p>\n\n<ul>\n<li>Allows \"original dates\" - OK</li>\n<li>Allows changing to a valid date - OK</li>\n<li>When changing to an invalid date (can be done \"manually\", not using the date picker) and press enter in the field, the field is immediately reset to the original date, but the error icon is still shown - NOT ok</li>\n<li>When entering an invalid character (can be done \"manually\", not using the date picker) and press enter in the field, a NPE will be thrown while committing, also no error icon is shown - NOT ok</li>\n<li>When changing to an invalid date and press enter in the field and the back to a valid date and press enter in the field, the error icon is still there - NOT ok</li>\n<li>When changing to an invalid date and press OK (i.e. commit()), the field first resets to the original date and the changes (i.e. no change at all to the field) are committed - NOT ok</li>\n</ul>\n\n<p>Now, I tried implementing a wrapper so that I could listen for value changes, but DateField don't have convenient methods like TextField has (eg. setTextChangeEventMode and setTextChangeTimeout). I override valueChange to take care of some of the issues, but it only seems gets called when you change to a valid date, not when you change to an invalid date (you also have to press enter every time when not using the date picker)... instead another validate() gets called in the background, resetting setValidationVisible() all the time.</p>\n\n<p>I even tried creating a CustomDateRangeValidator, but found out it wasn't to much help.</p>\n\n<p>Please help me get this straight, I have tried so many things now and I'm running out of options.</p>\n\n<p><strong>Here's my createField method:</strong></p>\n\n<pre><code>createField(){\n    // some more code up here...\n\n    if (propertyId.equals(\"Valid From\")) {\n        dField.setImmediate(true);\n\n        dField.setRangeStart(new Date());\n        dField.setRangeEnd(dateUtil.getDate(9999, 12, 31));\n        dField.setDateOutOfRangeMessage(\"Date out of range!\");\n\n        @SuppressWarnings({ \"unchecked\", \"rawtypes\" })\n        TableDataValidatingWrapper&lt;TextField&gt; wField = new TableDataValidatingWrapper(dField);\n        return wField;\n    }\n\n    // some more code down here...\n}\n</code></pre>\n\n<p><strong>... and here's my wrapper:</strong></p>\n\n<pre><code>public class TableDataValidatingWrapper&lt;T&gt; extends CustomField&lt;T&gt; {\n\n    private static final long serialVersionUID = 1L;\n    protected Field&lt;T&gt; delegate;\n\n    public TableDataValidatingWrapper(final Field&lt;T&gt; delegate) {\n        this.delegate = delegate;\n\n        if (delegate instanceof DateField) {\n            final DateField dateField = (DateField) delegate;\n\n            dateField.setCaption(\"\");\n            dateField.setImmediate(true);\n            dateField.setInvalidAllowed(false);\n            dateField.setInvalidCommitted(true);\n            dateField.setValidationVisible(false);\n            dateField.addValueChangeListener(new ValueChangeListener() {\n\n                private static final long serialVersionUID = 1L;\n\n                @Override\n                public void valueChange(com.vaadin.data.Property.ValueChangeEvent event) {\n                    try {\n                        dateField.validate();\n                        dateField.setValidationVisible(false);\n                    } catch (InvalidValueException ive) {\n                        //handle exception\n                    } catch (Exception e) {\n                        //handle exception\n                    }\n                }\n            });\n\n        }\n    }\n\n//some other overridden methods here...\n}\n</code></pre>\n"},{"tags":["java","spring","tomcat","spring-boot"],"comments":[{"owner":{"account_id":6499292,"reputation":5620,"user_id":5030709,"accept_rate":40,"display_name":"Imran"},"score":0,"creation_date":1557939945,"post_id":39376602,"comment_id":98938122,"body_markdown":"Not sure this works but did you try creating a generic `@ExceptionHandler({Exception.class})` and see if the exception which was caught by this handler class is IllegalArgumentException type. Ex - `ex.getClass().getName == &quot;IllegalArgumentException&quot;` then send it has 400 else 500?.","body":"Not sure this works but did you try creating a generic <code>@ExceptionHandler({Exception.class})</code> and see if the exception which was caught by this handler class is IllegalArgumentException type. Ex - <code>ex.getClass().getName == &quot;IllegalArgumentException&quot;</code> then send it has 400 else 500?."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1557997323,"post_id":39376602,"comment_id":98956522,"body_markdown":"@Imran Strings are _not_ compared like that!","body":"@Imran Strings are <i>not</i> compared like that!"},{"owner":{"account_id":6499292,"reputation":5620,"user_id":5030709,"accept_rate":40,"display_name":"Imran"},"score":0,"creation_date":1558053152,"post_id":39376602,"comment_id":98982509,"body_markdown":"@Eugene oops, being moved from other languages to Java, sometimes gets the syntax wrong. I meant `&quot;IllegalArgumentException&quot;.equalsIgnoreCase(ex.getClass().getName))`","body":"@Eugene oops, being moved from other languages to Java, sometimes gets the syntax wrong. I meant <code>&quot;IllegalArgumentException&quot;.equalsIgnoreCase(ex.getClass().ge&zwnj;&#8203;tName))</code>"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":4,"creation_date":1558073176,"post_id":39376602,"comment_id":98986683,"body_markdown":"Maybe you don&#39;t find answers because you don&#39;t provide a simple [MCVE](http://stackoverflow.com/help/mcve) for others to reproduce the problem.","body":"Maybe you don&#39;t find answers because you don&#39;t provide a simple <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> for others to reproduce the problem."},{"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"score":0,"creation_date":1558206040,"post_id":39376602,"comment_id":99026671,"body_markdown":"Can you provide a full stack trace of the exception?","body":"Can you provide a full stack trace of the exception?"},{"owner":{"account_id":4689730,"reputation":3028,"user_id":6183182,"accept_rate":30,"display_name":"swayamraina"},"score":0,"creation_date":1558245736,"post_id":39376602,"comment_id":99032247,"body_markdown":"what is the exact error msg you are getting?","body":"what is the exact error msg you are getting?"},{"owner":{"account_id":4689730,"reputation":3028,"user_id":6183182,"accept_rate":30,"display_name":"swayamraina"},"score":0,"creation_date":1558246260,"post_id":39376602,"comment_id":99032338,"body_markdown":"How to replicate this?","body":"How to replicate this?"},{"owner":{"account_id":1314657,"reputation":25646,"user_id":1261825,"accept_rate":74,"display_name":"samanime"},"score":0,"creation_date":1558255905,"post_id":39376602,"comment_id":99034053,"body_markdown":"This was posted almost two years ago, so I don&#39;t remember everything exactly. But basically, using Spring Boot (probably 1.x) if you had something weird in your cookies, the `LegacyCookieProcessor` would throw an exception. Doesn&#39;t matter why it threw the exception, the question is just how it can be intercepted to be handle.","body":"This was posted almost two years ago, so I don&#39;t remember everything exactly. But basically, using Spring Boot (probably 1.x) if you had something weird in your cookies, the <code>LegacyCookieProcessor</code> would throw an exception. Doesn&#39;t matter why it threw the exception, the question is just how it can be intercepted to be handle."},{"owner":{"account_id":3907527,"reputation":15312,"user_id":3233827,"accept_rate":67,"display_name":"ssc-hrep3"},"score":0,"creation_date":1558346152,"post_id":39376602,"comment_id":99057442,"body_markdown":"@kriegaex I have now added a simple MCVE.","body":"@kriegaex I have now added a simple MCVE."},{"owner":{"account_id":3907527,"reputation":15312,"user_id":3233827,"accept_rate":67,"display_name":"ssc-hrep3"},"score":0,"creation_date":1558346280,"post_id":39376602,"comment_id":99057512,"body_markdown":"@Imran The exception is not caught when using `@ExceptionHandler({Exception.class})`. It does not go into any ExceptionHandler.","body":"@Imran The exception is not caught when using <code>@ExceptionHandler({Exception.class})</code>. It does not go into any ExceptionHandler."},{"owner":{"account_id":3907527,"reputation":15312,"user_id":3233827,"accept_rate":67,"display_name":"ssc-hrep3"},"score":0,"creation_date":1558346360,"post_id":39376602,"comment_id":99057553,"body_markdown":"@swayamraina The exact error message is the following: `Error parsing HTTP request header Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.` And then right below: `java.lang.IllegalArgumentException: Invalid character found in the request target. The valid characters are defined in RFC 7230 and RFC 3986`.","body":"@swayamraina The exact error message is the following: <code>Error parsing HTTP request header Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.</code> And then right below: <code>java.lang.IllegalArgumentException: Invalid character found in the request target. The valid characters are defined in RFC 7230 and RFC 3986</code>."},{"owner":{"account_id":3907527,"reputation":15312,"user_id":3233827,"accept_rate":67,"display_name":"ssc-hrep3"},"score":0,"creation_date":1558346592,"post_id":39376602,"comment_id":99057667,"body_markdown":"@OrtomalaLokni Please see the updated question.","body":"@OrtomalaLokni Please see the updated question."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":5,"creation_date":1558347113,"post_id":39376602,"comment_id":99057904,"body_markdown":"You cannot intercept this. This exception is thrown before it is handled by anything Servlet API related, So no servlet filter, listener or `DispatcherServlet` is even getting involved here. It is just tomcat blowing up internally and very early.","body":"You cannot intercept this. This exception is thrown before it is handled by anything Servlet API related, So no servlet filter, listener or <code>DispatcherServlet</code> is even getting involved here. It is just tomcat blowing up internally and very early."},{"owner":{"account_id":3907527,"reputation":15312,"user_id":3233827,"accept_rate":67,"display_name":"ssc-hrep3"},"score":0,"creation_date":1558349458,"post_id":39376602,"comment_id":99059201,"body_markdown":"@M.Deinum Is there any way to customize this behavior? E.g. returning a hard-coded JSON string whenever Tomcat is blowing up?","body":"@M.Deinum Is there any way to customize this behavior? E.g. returning a hard-coded JSON string whenever Tomcat is blowing up?"},{"owner":{"account_id":6499292,"reputation":5620,"user_id":5030709,"accept_rate":40,"display_name":"Imran"},"score":1,"creation_date":1558380839,"post_id":39376602,"comment_id":99074595,"body_markdown":"@ssc-hrep3 oddly, I am not able to replicate same behavior on my side for `http://localhost:8080/not-working?demo=test^123`, its giving me 200. can you please advise which version of Java you are using and also any special properties enabled?. A sample complete github repo helps to try few options.","body":"@ssc-hrep3 oddly, I am not able to replicate same behavior on my side for <code>http:&#47;&#47;localhost:8080&#47;not-working?demo=test^123</code>, its giving me 200. can you please advise which version of Java you are using and also any special properties enabled?. A sample complete github repo helps to try few options."},{"owner":{"account_id":3907527,"reputation":15312,"user_id":3233827,"accept_rate":67,"display_name":"ssc-hrep3"},"score":0,"creation_date":1558388154,"post_id":39376602,"comment_id":99077104,"body_markdown":"@Imran, Did you try with curl (`curl -i http://localhost:8080/not-working?demo=test^123`)? Sometimes the browser escapes the argument automatically. I can set up a repo though, if it does not work like that.","body":"@Imran, Did you try with curl (<code>curl -i http:&#47;&#47;localhost:8080&#47;not-working?demo=test^123</code>)? Sometimes the browser escapes the argument automatically. I can set up a repo though, if it does not work like that."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1558404218,"post_id":39376602,"comment_id":99080108,"body_markdown":"@ssc-hrep3, see how useful the MCVE is? New people - not necessarily me who asked for the MCVE in the first place because I am an AOP expert but don&#39;t know much about containers - enter the discussion and contribute valuable information, reviving a 2.5 years old question. `:-)`","body":"@ssc-hrep3, see how useful the MCVE is? New people - not necessarily me who asked for the MCVE in the first place because I am an AOP expert but don&#39;t know much about containers - enter the discussion and contribute valuable information, reviving a 2.5 years old question. <code>:-)</code>"},{"owner":{"account_id":6499292,"reputation":5620,"user_id":5030709,"accept_rate":40,"display_name":"Imran"},"score":0,"creation_date":1558447150,"post_id":39376602,"comment_id":99098679,"body_markdown":"@ssc-hrep3 you were right!. With postman, it was escaping it and with curl, able to get the exception.","body":"@ssc-hrep3 you were right!. With postman, it was escaping it and with curl, able to get the exception."},{"owner":{"account_id":8393641,"reputation":850,"user_id":6301562,"display_name":"dawis11"},"score":0,"creation_date":1642725742,"post_id":39376602,"comment_id":125155181,"body_markdown":"@samanime are you solved this issue? I also want catch all Tomcat execeptions and throw more readable exeception message to the client","body":"@samanime are you solved this issue? I also want catch all Tomcat execeptions and throw more readable exeception message to the client"},{"owner":{"account_id":1314657,"reputation":25646,"user_id":1261825,"accept_rate":74,"display_name":"samanime"},"score":0,"creation_date":1642799593,"post_id":39376602,"comment_id":125177051,"body_markdown":"@dawis11 This was quite a while back, but I don&#39;t believe we ever did.","body":"@dawis11 This was quite a while back, but I don&#39;t believe we ever did."}],"answers":[{"comments":[{"owner":{"account_id":3907527,"reputation":15312,"user_id":3233827,"accept_rate":67,"display_name":"ssc-hrep3"},"score":1,"creation_date":1558429914,"post_id":56234713,"comment_id":99088636,"body_markdown":"Thanks for your response, this is interesting. However, I don&#39;t want to allow those characters. I just want to respond to all exceptions in the same way: By returning an HTTP package with JSON in it (and custom headers). Allowing those characters and then handling them in each controller again doesn&#39;t seem to be a good solution. And it doesn&#39;t actually prevent Tomcat to throw other exceptions (I assume there are other scenarios, Tomcat would throw an exception apart of special characters).","body":"Thanks for your response, this is interesting. However, I don&#39;t want to allow those characters. I just want to respond to all exceptions in the same way: By returning an HTTP package with JSON in it (and custom headers). Allowing those characters and then handling them in each controller again doesn&#39;t seem to be a good solution. And it doesn&#39;t actually prevent Tomcat to throw other exceptions (I assume there are other scenarios, Tomcat would throw an exception apart of special characters)."},{"owner":{"account_id":5538696,"reputation":562,"user_id":4396129,"accept_rate":75,"display_name":"Rahul kalivaradarajalu"},"score":0,"creation_date":1558431438,"post_id":56234713,"comment_id":99089609,"body_markdown":"Allowing those characters in each controller is just an example for this scenario. What you could do is build a HTTP interceptor and check for the parameter with special character and throw the IllegalArgumentException from the interceptor to have a common implementation.","body":"Allowing those characters in each controller is just an example for this scenario. What you could do is build a HTTP interceptor and check for the parameter with special character and throw the IllegalArgumentException from the interceptor to have a common implementation."},{"owner":{"account_id":1314657,"reputation":25646,"user_id":1261825,"accept_rate":74,"display_name":"samanime"},"score":3,"creation_date":1558448160,"post_id":56234713,"comment_id":99099297,"body_markdown":"While the question has evolved to talking about query params, the original question was actually about a weird value in the cookies, not the query params. Does this work for both scenarios?","body":"While the question has evolved to talking about query params, the original question was actually about a weird value in the cookies, not the query params. Does this work for both scenarios?"}],"tags":[],"owner":{"account_id":5538696,"reputation":562,"user_id":4396129,"accept_rate":75,"display_name":"Rahul kalivaradarajalu"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1558429139,"creation_date":1558429139,"answer_id":56234713,"question_id":39376602,"body_markdown":"This is a feature of Tomcat itself as mentioned in [this][1] answer. \r\n\r\n\r\nHowever, you can do something like this by allowing the special characters that you are expecting as part of your request and handle them yourself. \r\n\r\nFirst, you need to allow the special characters that you would need to handle by setting up the **relaxedQueryChars** like this. \r\n\r\n\r\n\r\n    import org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\r\n    import org.springframework.boot.web.server.WebServerFactoryCustomizer;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    @Component\r\n    public class TomcatCustomizer implements \r\n    WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; {\r\n\r\n\t@Override\r\n\tpublic void customize(TomcatServletWebServerFactory factory) {\r\n\t\tfactory.addConnectorCustomizers((connector) -&gt; {\r\n\t\t\tconnector.setAttribute(&quot;relaxedQueryChars&quot;, &quot;^&quot;);\r\n\t\t});\r\n \t }\r\n    }\r\n\r\nand later handle the special characters in each of your requests or create an interceptor and handle it in a common place. \r\n\r\nTo handle it in the request individually you can do something like this. \r\n\r\n    \r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    @RestController\r\n    public class DemoRestController {\r\n\r\n\t@GetMapping(value = &quot;/working&quot;)\r\n\tpublic void working() {\r\n\t\tthrow new java.lang.IllegalArgumentException();\r\n\t}\r\n\r\n\t@GetMapping(value = &quot;/not-working&quot;)\r\n\tpublic String notWorking(@RequestParam String demo) {\r\n\t\t\r\n        if (demo.contains(&quot;^&quot;)) {\r\n\t\t\tthrow new java.lang.IllegalArgumentException(&quot;^&quot;);\r\n\t\t}\r\n\t\treturn &quot;You need to pass e.g. the character ^ as a request param to test this.&quot;;\r\n\t}\r\n\r\n    }\r\n\r\n\r\nYou might also want to refer [this][2] answer to decide if you really need this fix. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/41150474/4396129\r\n  [2]: https://stackoverflow.com/a/50377112/4396129","title":"Handle Embedded Tomcat Exception in Spring Boot","body":"<p>This is a feature of Tomcat itself as mentioned in <a href=\"https://stackoverflow.com/a/41150474/4396129\">this</a> answer. </p>\n\n<p>However, you can do something like this by allowing the special characters that you are expecting as part of your request and handle them yourself. </p>\n\n<p>First, you need to allow the special characters that you would need to handle by setting up the <strong>relaxedQueryChars</strong> like this. </p>\n\n<pre><code>import org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\nimport org.springframework.boot.web.server.WebServerFactoryCustomizer;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class TomcatCustomizer implements \nWebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; {\n\n@Override\npublic void customize(TomcatServletWebServerFactory factory) {\n    factory.addConnectorCustomizers((connector) -&gt; {\n        connector.setAttribute(\"relaxedQueryChars\", \"^\");\n    });\n }\n}\n</code></pre>\n\n<p>and later handle the special characters in each of your requests or create an interceptor and handle it in a common place. </p>\n\n<p>To handle it in the request individually you can do something like this. </p>\n\n<pre><code>import org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class DemoRestController {\n\n@GetMapping(value = \"/working\")\npublic void working() {\n    throw new java.lang.IllegalArgumentException();\n}\n\n@GetMapping(value = \"/not-working\")\npublic String notWorking(@RequestParam String demo) {\n\n    if (demo.contains(\"^\")) {\n        throw new java.lang.IllegalArgumentException(\"^\");\n    }\n    return \"You need to pass e.g. the character ^ as a request param to test this.\";\n}\n\n}\n</code></pre>\n\n<p>You might also want to refer <a href=\"https://stackoverflow.com/a/50377112/4396129\">this</a> answer to decide if you really need this fix. </p>\n"},{"tags":[],"owner":{"account_id":26454908,"reputation":1,"user_id":20097595,"display_name":"user20097595"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664746676,"creation_date":1664261527,"answer_id":73863449,"question_id":39376602,"body_markdown":"Try to catch the `IllegalArgumentException` in your filter, then call  `HttpServletResponse.sendError(int sc, String msg);`. This may catch the `IllegalArgumentException`s that do not come from Tomcat though. But I suppose you already handle them properly.","title":"Handle Embedded Tomcat Exception in Spring Boot","body":"<p>Try to catch the <code>IllegalArgumentException</code> in your filter, then call  <code>HttpServletResponse.sendError(int sc, String msg);</code>. This may catch the <code>IllegalArgumentException</code>s that do not come from Tomcat though. But I suppose you already handle them properly.</p>\n"}],"owner":{"account_id":1314657,"reputation":25646,"user_id":1261825,"accept_rate":74,"display_name":"samanime"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4767,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":2,"score":22,"last_activity_date":1664746676,"creation_date":1473271725,"question_id":39376602,"body_markdown":"We have an issue where embedded Tomcat is throwing `IllegalArgumentException` from the `LegacyCookieProcessor`. It throws a 500 HTTP response code.\r\n\r\nWe need to handle the exception and do something with it (specifically, send it as a 400 instead).\r\n\r\nThe typical `@ExceptionHandler(IllegalArgumentException.class)` doesn&#39;t seem to get triggered and Google only seems to give results for dealing with Spring Boot specific exceptions.\r\n\r\n---\r\n###Example:\r\n\r\nHere is an example to reproduce the behavior. You can execute the example by downloading the initial project including spring-web (https://start.spring.io/) in version 2.1.5.RELEASE. Then add the following two classes to your project.\r\n\r\n&gt; DemoControllerAdvice.java\r\n\r\n\tpackage com.example.demo;\r\n\r\n\timport java.util.HashMap;\r\n\timport java.util.Map;\r\n\r\n\timport org.springframework.http.HttpStatus;\r\n\timport org.springframework.web.bind.annotation.ExceptionHandler;\r\n\timport org.springframework.web.bind.annotation.ResponseStatus;\r\n\timport org.springframework.web.bind.annotation.RestControllerAdvice;\r\n\r\n\t@RestControllerAdvice\r\n\tpublic class DemoControllerAdvice {\r\n\r\n\t\t@ExceptionHandler(IllegalArgumentException.class)\r\n\t\t@ResponseStatus(HttpStatus.FORBIDDEN)\r\n\t\tpublic Map&lt;String, String&gt; forbiddenHandler() {\r\n\t\t\tMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n\t\t\tmap.put(&quot;error&quot;, &quot;An error occurred.&quot;);\r\n\t\t\tmap.put(&quot;status&quot;, HttpStatus.FORBIDDEN.value() + &quot; &quot; + HttpStatus.FORBIDDEN.name());\r\n\t\t\treturn map;\r\n\t\t}\r\n\r\n\t}\r\n\r\n---\r\n\r\n&gt; DemoRestController.java\r\n\r\n\tpackage com.example.demo;\r\n\r\n\timport org.springframework.web.bind.annotation.GetMapping;\r\n\timport org.springframework.web.bind.annotation.RequestParam;\r\n\timport org.springframework.web.bind.annotation.RestController;\r\n\r\n\t@RestController\r\n\tpublic class DemoRestController {\r\n\r\n\t\t@GetMapping(value = &quot;/working&quot;)\r\n\t\tpublic void working() {\r\n\t\t\tthrow new java.lang.IllegalArgumentException();\r\n\t\t}\r\n\r\n\t\t@GetMapping(value = &quot;/not-working&quot;)\r\n\t\tpublic String notWorking(@RequestParam String demo) {\r\n\t\t\treturn &quot;You need to pass e.g. the character ^ as a request param to test this.&quot;;\r\n\t\t}\r\n\r\n\t}\r\n\r\n---\r\n\r\nThen, start the server and request the following URLs in the browser:\r\n\r\n- `http://localhost:8080/working` An `IllegalArgumentException` is thrown manually in the controller. It is then caught by the ControllerAdvice and will therefore produce a JSON string containing the information defined in the `DemoControllerAdvice`\r\n- `http://localhost:8080/not-working?demo=test^123` An `IllegalArgumentException` is thrown by the Tomcat, because the request param cannot be parsed (because of the invalid character `^`). The exception however is not caught by the ControllerAdvice. It shows the default HTML page provided by Tomcat. It also provides a different error code than defined in the `DemoControllerAdvice`.\r\n\r\nIn the logs the following message is shown:\r\n\r\n&gt; o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header\r\n Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.\r\n\r\n&gt; java.lang.IllegalArgumentException: Invalid character found in the request target. The valid characters are defined in RFC 7230 and RFC 3986\r\n\tat org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:467) ~[tomcat-embed-core-9.0.19.jar:9.0.19]","title":"Handle Embedded Tomcat Exception in Spring Boot","body":"<p>We have an issue where embedded Tomcat is throwing <code>IllegalArgumentException</code> from the <code>LegacyCookieProcessor</code>. It throws a 500 HTTP response code.</p>\n\n<p>We need to handle the exception and do something with it (specifically, send it as a 400 instead).</p>\n\n<p>The typical <code>@ExceptionHandler(IllegalArgumentException.class)</code> doesn't seem to get triggered and Google only seems to give results for dealing with Spring Boot specific exceptions.</p>\n\n<hr>\n\n<h3>Example:</h3>\n\n<p>Here is an example to reproduce the behavior. You can execute the example by downloading the initial project including spring-web (<a href=\"https://start.spring.io/\" rel=\"noreferrer\">https://start.spring.io/</a>) in version 2.1.5.RELEASE. Then add the following two classes to your project.</p>\n\n<blockquote>\n  <p>DemoControllerAdvice.java</p>\n</blockquote>\n\n<pre><code>package com.example.demo;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.bind.annotation.ResponseStatus;\nimport org.springframework.web.bind.annotation.RestControllerAdvice;\n\n@RestControllerAdvice\npublic class DemoControllerAdvice {\n\n    @ExceptionHandler(IllegalArgumentException.class)\n    @ResponseStatus(HttpStatus.FORBIDDEN)\n    public Map&lt;String, String&gt; forbiddenHandler() {\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n        map.put(\"error\", \"An error occurred.\");\n        map.put(\"status\", HttpStatus.FORBIDDEN.value() + \" \" + HttpStatus.FORBIDDEN.name());\n        return map;\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>DemoRestController.java</p>\n</blockquote>\n\n<pre><code>package com.example.demo;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class DemoRestController {\n\n    @GetMapping(value = \"/working\")\n    public void working() {\n        throw new java.lang.IllegalArgumentException();\n    }\n\n    @GetMapping(value = \"/not-working\")\n    public String notWorking(@RequestParam String demo) {\n        return \"You need to pass e.g. the character ^ as a request param to test this.\";\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<p>Then, start the server and request the following URLs in the browser:</p>\n\n<ul>\n<li><code>http://localhost:8080/working</code> An <code>IllegalArgumentException</code> is thrown manually in the controller. It is then caught by the ControllerAdvice and will therefore produce a JSON string containing the information defined in the <code>DemoControllerAdvice</code></li>\n<li><code>http://localhost:8080/not-working?demo=test^123</code> An <code>IllegalArgumentException</code> is thrown by the Tomcat, because the request param cannot be parsed (because of the invalid character <code>^</code>). The exception however is not caught by the ControllerAdvice. It shows the default HTML page provided by Tomcat. It also provides a different error code than defined in the <code>DemoControllerAdvice</code>.</li>\n</ul>\n\n<p>In the logs the following message is shown:</p>\n\n<blockquote>\n  <p>o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header\n   Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.</p>\n  \n  <p>java.lang.IllegalArgumentException: Invalid character found in the request target. The valid characters are defined in RFC 7230 and RFC 3986\n      at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:467) ~[tomcat-embed-core-9.0.19.jar:9.0.19]</p>\n</blockquote>\n"},{"tags":["java","oop","inheritance","design-patterns","visitor-pattern"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1664738149,"post_id":73928621,"comment_id":130535493,"body_markdown":"Yes, double-dispatch (aka visitor pattern). Apart from that, not much you can do until Java supports pattern matching on the type (which is a &quot;hidden&quot; instanceof check)","body":"Yes, double-dispatch (aka visitor pattern). Apart from that, not much you can do until Java supports pattern matching on the type (which is a &quot;hidden&quot; instanceof check)"},{"owner":{"account_id":13816660,"reputation":139,"user_id":9973101,"display_name":"Gopikrishna K S"},"score":0,"creation_date":1664738298,"post_id":73928621,"comment_id":130535520,"body_markdown":"Could you please give the pseudocode for using visitor pattern? In the examples I have seen, it is added for all implementations which is not useful in my case.","body":"Could you please give the pseudocode for using visitor pattern? In the examples I have seen, it is added for all implementations which is not useful in my case."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1664738520,"post_id":73928621,"comment_id":130535559,"body_markdown":"That&#39;s how the visitor pattern is implemented: the visitor needs to handle all types via `visit` methods and all types need to implement an `accept` method. See &lt;https://refactoring.guru/design-patterns/visitor&gt;","body":"That&#39;s how the visitor pattern is implemented: the visitor needs to handle all types via <code>visit</code> methods and all types need to implement an <code>accept</code> method. See &lt;<a href=\"https://refactoring.guru/design-patterns/visitor\" rel=\"nofollow noreferrer\">refactoring.guru/design-patterns/visitor</a>&gt;"},{"owner":{"account_id":13816660,"reputation":139,"user_id":9973101,"display_name":"Gopikrishna K S"},"score":0,"creation_date":1664738972,"post_id":73928621,"comment_id":130535626,"body_markdown":"Are you saying I will add `accept(Visitor visitor)` to  interface1? This would lead to implementing `accept(Visitor visitor)` in implementation1 where this visitor is not applicable and related empty visit function right?","body":"Are you saying I will add <code>accept(Visitor visitor)</code> to  interface1? This would lead to implementing <code>accept(Visitor visitor)</code> in implementation1 where this visitor is not applicable and related empty visit function right?"},{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":1,"creation_date":1664747004,"post_id":73928621,"comment_id":130537043,"body_markdown":"Do you really need `isFunction2Applicable`? You could call `function2` directly without that check: If the object is an instance of `interface1` only, the call to `function2` won&#39;t do anything since the method body is empty. Of course, implementations might override that behavior (after all it&#39;s just a default method) so whether you need want that check depends on your requirements.","body":"Do you really need <code>isFunction2Applicable</code>? You could call <code>function2</code> directly without that check: If the object is an instance of <code>interface1</code> only, the call to <code>function2</code> won&#39;t do anything since the method body is empty. Of course, implementations might override that behavior (after all it&#39;s just a default method) so whether you need want that check depends on your requirements."}],"answers":[{"comments":[{"owner":{"account_id":13816660,"reputation":139,"user_id":9973101,"display_name":"Gopikrishna K S"},"score":0,"creation_date":1664740426,"post_id":73928709,"comment_id":130535945,"body_markdown":"Thanks a lot, could you please tell if I can iterate and call function2() alone which is only there in interface2 and implementation2 (edited question also)?","body":"Thanks a lot, could you please tell if I can iterate and call function2() alone which is only there in interface2 and implementation2 (edited question also)?"},{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":0,"creation_date":1664743220,"post_id":73928709,"comment_id":130536401,"body_markdown":"@GopikrishnaKS Please lay out your requirements in more detail in your question. Your change has changed the question quite a lot from my perspective. In general there is no shame in using `instanceof` if these checks are not all over the place. The visitor-pattern is quite heavy-weight and if what your example shows is the only thing you need to do, using `instanceof` is fine, in my opinion.","body":"@GopikrishnaKS Please lay out your requirements in more detail in your question. Your change has changed the question quite a lot from my perspective. In general there is no shame in using <code>instanceof</code> if these checks are not all over the place. The visitor-pattern is quite heavy-weight and if what your example shows is the only thing you need to do, using <code>instanceof</code> is fine, in my opinion."},{"owner":{"account_id":13816660,"reputation":139,"user_id":9973101,"display_name":"Gopikrishna K S"},"score":0,"creation_date":1664743718,"post_id":73928709,"comment_id":130536486,"body_markdown":"Thanks, I just wanted to iterate over the general interface1 objects and call function2 wherever it is applicable. I thought using instance of is not recommended and since using visitor pattern would result in empty visit functions, instead to have a function isFunction2Applicable added in the merged interface that could be checked while iterating so that the implementation1 can have it as false and implementation2 can have it as true. This would still require empty function for function2 in implementation2 but hope this is not a major issue and this is the best option in this case.","body":"Thanks, I just wanted to iterate over the general interface1 objects and call function2 wherever it is applicable. I thought using instance of is not recommended and since using visitor pattern would result in empty visit functions, instead to have a function isFunction2Applicable added in the merged interface that could be checked while iterating so that the implementation1 can have it as false and implementation2 can have it as true. This would still require empty function for function2 in implementation2 but hope this is not a major issue and this is the best option in this case."},{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":0,"creation_date":1664744458,"post_id":73928709,"comment_id":130536642,"body_markdown":"@GopikrishnaKS Then, how about defining both functions in the base interface but making `function2` a `default` method with an empty body? Is that an option for you? In that case, you might also get rid of `interface2` entirely.","body":"@GopikrishnaKS Then, how about defining both functions in the base interface but making <code>function2</code> a <code>default</code> method with an empty body? Is that an option for you? In that case, you might also get rid of <code>interface2</code> entirely."},{"owner":{"account_id":13816660,"reputation":139,"user_id":9973101,"display_name":"Gopikrishna K S"},"score":0,"creation_date":1664746190,"post_id":73928709,"comment_id":130536904,"body_markdown":"Thanks, I have updated the question to include the answer according to our discussion, could you please tell if there is a better way for this or this is fine?","body":"Thanks, I have updated the question to include the answer according to our discussion, could you please tell if there is a better way for this or this is fine?"}],"tags":[],"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664738672,"creation_date":1664738672,"answer_id":73928709,"question_id":73928621,"body_markdown":"One way to do so is to define some method in the base interface and override it in the sub-interfaces or implementations. In the following example I&#39;m using a `default` method but you don&#39;t have to do so; the method can be abstract and only be implemented in the implementations:\r\n\r\n```java\r\ninterface I1 {\r\n    void function1();\r\n\r\n    default void execute() {\r\n        function1();\r\n    }\r\n}\r\n\r\ninterface I2 extends I1 {\r\n    void function2();\r\n\r\n    @Override\r\n    default void execute() {\r\n        function1();\r\n        function2();\r\n    }\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    List&lt;I1&gt; ifaces = new ArrayList&lt;&gt;();\r\n\r\n    for (I1 iface : ifaces) {\r\n        iface.execute();\r\n    }\r\n}\r\n```","title":"How to iterate over mixed interface implementation array?","body":"<p>One way to do so is to define some method in the base interface and override it in the sub-interfaces or implementations. In the following example I'm using a <code>default</code> method but you don't have to do so; the method can be abstract and only be implemented in the implementations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface I1 {\n    void function1();\n\n    default void execute() {\n        function1();\n    }\n}\n\ninterface I2 extends I1 {\n    void function2();\n\n    @Override\n    default void execute() {\n        function1();\n        function2();\n    }\n}\n\npublic static void main(String[] args) {\n    List&lt;I1&gt; ifaces = new ArrayList&lt;&gt;();\n\n    for (I1 iface : ifaces) {\n        iface.execute();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13816660,"reputation":139,"user_id":9973101,"display_name":"Gopikrishna K S"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664746138,"creation_date":1664737943,"question_id":73928621,"body_markdown":"I have the following classes.\r\n\r\n```\r\ninterface interface1() {\r\n    void function1()\r\n}\r\n```\r\n\r\n```\r\ninterface interface2 extends interface1() {\r\n    void function2()\r\n}\r\n```\r\n\r\n```\r\nclass implementation1 implements interface1 () {\r\n    @Override\r\n    void function1() {\r\n        // Implement\r\n    }\r\n}\r\n```\r\n\r\n```\r\nclass implementation2 implements interface2 () {\r\n    @Override\r\n    void function1() {\r\n        // Implement\r\n    }\r\n\r\n    @Override\r\n    void function2() {\r\n        // Implement\r\n    }\r\n}\r\n```\r\n\r\n```\r\nclass Main() {\r\n    List&lt;interface1&gt; interfaceList = new ArrayList();\r\n    for (interface : interfaceList) {\r\n        if (interface instanceOf(interface2)) {\r\n            interface.function2();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nCould you please tell if there is a way to prevent using instanceOf? I read visitor pattern could be used but I am not getting the exact changes to be done.\r\n\r\nFollowing are the classes after discussing with Alex R below (instanceOf is avoided since it is not recommended, visitor pattern is avoided since it still leads to empty visit functions). Please let me know if this can be done better using other design patterns.\r\n\r\n```\r\ninterface interface1() {\r\n    void function1();\r\n\r\n    boolean isFunction2Applicable();\r\n    \r\n    default void function2() {\r\n    }\r\n}\r\n```\r\n\r\n```\r\nclass implementation1 implements interface1 () {\r\n    @Override\r\n    void function1() {\r\n        // Implement\r\n    }\r\n\r\n    @Override\r\n    boolean isFunction2Applicable() {\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\n```\r\nclass implementation2 implements interface1 () {\r\n    @Override\r\n    void function1() {\r\n        // Implement\r\n    }\r\n\r\n    @Override\r\n    boolean isFunction2Applicable() {\r\n        return true;\r\n    }\r\n    \r\n    @Override\r\n    void function2() {\r\n        // Implement\r\n    }\r\n}\r\n```\r\n\r\n```\r\nclass Main() {\r\n    List&lt;interface1&gt; interfaceList = new ArrayList();\r\n    for (interface : interfaceList) {\r\n        if (interface.isFunction2Applicable()) {\r\n            interface.function2();\r\n        }\r\n    }\r\n}\r\n```","title":"How to iterate over mixed interface implementation array?","body":"<p>I have the following classes.</p>\n<pre><code>interface interface1() {\n    void function1()\n}\n</code></pre>\n<pre><code>interface interface2 extends interface1() {\n    void function2()\n}\n</code></pre>\n<pre><code>class implementation1 implements interface1 () {\n    @Override\n    void function1() {\n        // Implement\n    }\n}\n</code></pre>\n<pre><code>class implementation2 implements interface2 () {\n    @Override\n    void function1() {\n        // Implement\n    }\n\n    @Override\n    void function2() {\n        // Implement\n    }\n}\n</code></pre>\n<pre><code>class Main() {\n    List&lt;interface1&gt; interfaceList = new ArrayList();\n    for (interface : interfaceList) {\n        if (interface instanceOf(interface2)) {\n            interface.function2();\n        }\n    }\n}\n</code></pre>\n<p>Could you please tell if there is a way to prevent using instanceOf? I read visitor pattern could be used but I am not getting the exact changes to be done.</p>\n<p>Following are the classes after discussing with Alex R below (instanceOf is avoided since it is not recommended, visitor pattern is avoided since it still leads to empty visit functions). Please let me know if this can be done better using other design patterns.</p>\n<pre><code>interface interface1() {\n    void function1();\n\n    boolean isFunction2Applicable();\n    \n    default void function2() {\n    }\n}\n</code></pre>\n<pre><code>class implementation1 implements interface1 () {\n    @Override\n    void function1() {\n        // Implement\n    }\n\n    @Override\n    boolean isFunction2Applicable() {\n        return false;\n    }\n}\n</code></pre>\n<pre><code>class implementation2 implements interface1 () {\n    @Override\n    void function1() {\n        // Implement\n    }\n\n    @Override\n    boolean isFunction2Applicable() {\n        return true;\n    }\n    \n    @Override\n    void function2() {\n        // Implement\n    }\n}\n</code></pre>\n<pre><code>class Main() {\n    List&lt;interface1&gt; interfaceList = new ArrayList();\n    for (interface : interfaceList) {\n        if (interface.isFunction2Applicable()) {\n            interface.function2();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","reference","integer","wrapper"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1664746768,"post_id":73929335,"comment_id":130537001,"body_markdown":"What output would you have expected if you had written `i = i - 1;` instead of `i--;`?","body":"What output would you have expected if you had written <code>i = i - 1;</code> instead of <code>i--;</code>?"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1664745007,"creation_date":1664745007,"answer_id":73929374,"question_id":73929335,"body_markdown":"`Integer` objects are immutable.\r\n\r\nAfter `Integer num = i;` the local variable `num` references the same `Integer` object as `i` - specifically an `Integer` object that contains the value 10.\r\n\r\nBut when you write `i--;` then `i` can no longer reference the same `Integer` object as `num` - the local variable `i` gets assigned with a reference to an `Integer` object that contains the value 9.\r\n\r\nSince `num` was not assigned to it still references the `Integer` object with the value 10.","title":"Integer class does not behave as reference type","body":"<p><code>Integer</code> objects are immutable.</p>\n<p>After <code>Integer num = i;</code> the local variable <code>num</code> references the same <code>Integer</code> object as <code>i</code> - specifically an <code>Integer</code> object that contains the value 10.</p>\n<p>But when you write <code>i--;</code> then <code>i</code> can no longer reference the same <code>Integer</code> object as <code>num</code> - the local variable <code>i</code> gets assigned with a reference to an <code>Integer</code> object that contains the value 9.</p>\n<p>Since <code>num</code> was not assigned to it still references the <code>Integer</code> object with the value 10.</p>\n"}],"owner":{"account_id":11450406,"reputation":3,"user_id":8392955,"display_name":"Egor Khorozhansky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73929374,"answer_count":1,"score":0,"last_activity_date":1664745883,"creation_date":1664744539,"question_id":73929335,"body_markdown":"Integer doesn&#39;t behave as a Reference Type. For example code below produces unexpected result\r\n\r\n```\r\n\r\n    class Playground {\r\n            public static void main(String[ ] args) {\r\n                Integer i = 10;\r\n                Integer num = i;\r\n                i--;\r\n                System.out.println(&quot;i = &quot; + i);\r\n                System.out.println(&quot;num = &quot; + num);\r\n            }\r\n    }\r\n\r\n```\r\n\r\nOUTPUT:\r\n```\r\ni = 9\r\nnum = 10\r\n```\r\n\r\nI have expected &quot;num&quot; to be 9 as well cause Integer &quot;num&quot; references  Integer &quot;i&quot;. The substractaction happens here from the same object num is referencing, but looks like &quot;-&quot; operator is overriding some behaviour and creates an new Integer object. What exactly is happening here? And what other classes behave like that?","title":"Integer class does not behave as reference type","body":"<p>Integer doesn't behave as a Reference Type. For example code below produces unexpected result</p>\n<pre><code>\n    class Playground {\n            public static void main(String[ ] args) {\n                Integer i = 10;\n                Integer num = i;\n                i--;\n                System.out.println(&quot;i = &quot; + i);\n                System.out.println(&quot;num = &quot; + num);\n            }\n    }\n\n</code></pre>\n<p>OUTPUT:</p>\n<pre><code>i = 9\nnum = 10\n</code></pre>\n<p>I have expected &quot;num&quot; to be 9 as well cause Integer &quot;num&quot; references  Integer &quot;i&quot;. The substractaction happens here from the same object num is referencing, but looks like &quot;-&quot; operator is overriding some behaviour and creates an new Integer object. What exactly is happening here? And what other classes behave like that?</p>\n"},{"tags":["java","spring-boot","format","localdatetime"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1664370605,"post_id":73881996,"comment_id":130455984,"body_markdown":"*I got an error.* please share atleast the message","body":"<i>I got an error.</i> please share atleast the message"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1664371969,"post_id":73881996,"comment_id":130456572,"body_markdown":"I can not repoduce it. Are there any nonprintable character after the date?","body":"I can not repoduce it. Are there any nonprintable character after the date?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1664372848,"post_id":73881996,"comment_id":130456879,"body_markdown":"@Jens No. How can I do that?","body":"@Jens No. How can I do that?"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1664439161,"post_id":73881996,"comment_id":130473281,"body_markdown":"This is not related to Spring Batch per se. Please extract the part that is related to date parsing in a unit test or in a [minimal example](https://stackoverflow.com/help/minimal-reproducible-example) that reproduces the issue to be able to help you in an efficient way.","body":"This is not related to Spring Batch per se. Please extract the part that is related to date parsing in a unit test or in a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal example</a> that reproduces the issue to be able to help you in an efficient way."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664473597,"creation_date":1664473597,"answer_id":73899726,"question_id":73881996,"body_markdown":"You have used the wrong type for `birthday`; it should be `LocalDate` as you want to keep only the date part.\r\n\r\nChange\r\n\r\n    @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\r\n    private LocalDateTime birthday;\r\n\r\nto\r\n\r\n    @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\r\n    private LocalDate birthday;\r\n\r\nYou will also need to change the function definition to return `LocalDate` out of the parsed `LocalDateTime` as shown in the demo below:\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(getLocalDate(&quot;2000-08-15 19:07:46&quot;));\r\n        }\r\n    \r\n        private static LocalDate getLocalDate(String birthday) {\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n            return LocalDateTime.parse(birthday, formatter).toLocalDate();\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2000-08-15","title":"Spring Boot Batch Processing LocalDatetime Format yyyy-MM-dd HH:mm:ss to yyyy-MM-dd","body":"<p>You have used the wrong type for <code>birthday</code>; it should be <code>LocalDate</code> as you want to keep only the date part.</p>\n<p>Change</p>\n<pre><code>@JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\nprivate LocalDateTime birthday;\n</code></pre>\n<p>to</p>\n<pre><code>@JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\nprivate LocalDate birthday;\n</code></pre>\n<p>You will also need to change the function definition to return <code>LocalDate</code> out of the parsed <code>LocalDateTime</code> as shown in the demo below:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\n\npublic class Main {\n    public static void main(String[] args) {\n        System.out.println(getLocalDate(&quot;2000-08-15 19:07:46&quot;));\n    }\n\n    private static LocalDate getLocalDate(String birthday) {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n        return LocalDateTime.parse(birthday, formatter).toLocalDate();\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2000-08-15\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1052,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73899726,"answer_count":1,"score":1,"last_activity_date":1664744698,"creation_date":1664370466,"question_id":73881996,"body_markdown":"I have a problem about formatting localdatetime when I read values from csv file and add them into h2 database.\r\n\r\nHere is the example of defining localdatetime in csv file.\r\n\r\n    2000-08-15 19:07:46\r\n\r\nI want to get 2000-08-15 (removing time part).\r\nEven if I defined `DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);` instead of `DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);` in localDateTimeFormat method , I got an error.\r\n\r\nHere is the error shown below.\r\n\r\n    java.time.format.DateTimeParseException: Text &#39;1999-01-25 13:08:57&#39; could not be parsed, unparsed text found at index 10\r\n    \tat java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2109) ~[na:na]\r\n    \tat java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:2008) ~[na:na]\r\n    \tat java.base/java.time.LocalDateTime.parse(LocalDateTime.java:494) ~[na:na]\r\n    \tat com.example.batchprocessingcsvtodatabase.config.UserProcessor.localDateTimeFormat(UserProcessor.java:37) ~[classes/:na]\r\n    \tat com.example.batchprocessingcsvtodatabase.config.UserProcessor.process(UserProcessor.java:26) ~[classes/:na]\r\n    \tat com.example.batchprocessingcsvtodatabase.config.UserProcessor.process(UserProcessor.java:14) ~[classes/:na]\r\n\r\nHow can I fix it?\r\n\r\nHere is the user class shown below.\r\n\r\n    public class User extends BaseEntity{\r\n    \r\n        @Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)\r\n        private UUID personId;\r\n    \r\n        private String firstName;\r\n        private String lastName;\r\n        private String email;\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        private Gender gender;\r\n    \r\n        private String country;\r\n    \r\n        @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\r\n        private LocalDateTime birthday;\r\n    \r\n        private int age;\r\n    }\r\n\r\n\r\nHere is the processor class shown below.\r\n\r\n    public class UserProcessor implements ItemProcessor&lt;UserInput, User&gt; {\r\n    \r\n    \r\n        @Override\r\n        public User process(UserInput userInput) throws Exception {\r\n    \r\n            User user = User.builder()\r\n                    .personId(UUID.fromString(userInput.getPersonId()))\r\n                    .firstName(userInput.getFirstName())\r\n                    .lastName(userInput.getLastName())\r\n                    .email(userInput.getEmail())\r\n                    .country(userInput.getCountry())\r\n                    .birthday(localDateTimeFormat(userInput.getBirthday()))\r\n                    .gender(userInput.getGender().equals(&quot;Male&quot;) ? Gender.MALE : Gender.FEMALE)\r\n                    .age(Period.between(localDateTimeFormat(userInput.getBirthday()).toLocalDate(), LocalDate.now()).getYears())\r\n                    .build();\r\n    \r\n            return user;\r\n        }\r\n    \r\n        private LocalDateTime localDateTimeFormat(String birthday) {\r\n    \r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n            LocalDateTime formatDateTime = LocalDateTime.parse(birthday, formatter);\r\n    \r\n            return formatDateTime;\r\n        }\r\n    }","title":"Spring Boot Batch Processing LocalDatetime Format yyyy-MM-dd HH:mm:ss to yyyy-MM-dd","body":"<p>I have a problem about formatting localdatetime when I read values from csv file and add them into h2 database.</p>\n<p>Here is the example of defining localdatetime in csv file.</p>\n<pre><code>2000-08-15 19:07:46\n</code></pre>\n<p>I want to get 2000-08-15 (removing time part).\nEven if I defined <code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);</code> instead of <code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);</code> in localDateTimeFormat method , I got an error.</p>\n<p>Here is the error shown below.</p>\n<pre><code>java.time.format.DateTimeParseException: Text '1999-01-25 13:08:57' could not be parsed, unparsed text found at index 10\n    at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2109) ~[na:na]\n    at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:2008) ~[na:na]\n    at java.base/java.time.LocalDateTime.parse(LocalDateTime.java:494) ~[na:na]\n    at com.example.batchprocessingcsvtodatabase.config.UserProcessor.localDateTimeFormat(UserProcessor.java:37) ~[classes/:na]\n    at com.example.batchprocessingcsvtodatabase.config.UserProcessor.process(UserProcessor.java:26) ~[classes/:na]\n    at com.example.batchprocessingcsvtodatabase.config.UserProcessor.process(UserProcessor.java:14) ~[classes/:na]\n</code></pre>\n<p>How can I fix it?</p>\n<p>Here is the user class shown below.</p>\n<pre><code>public class User extends BaseEntity{\n\n    @Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)\n    private UUID personId;\n\n    private String firstName;\n    private String lastName;\n    private String email;\n\n    @Enumerated(EnumType.STRING)\n    private Gender gender;\n\n    private String country;\n\n    @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\n    private LocalDateTime birthday;\n\n    private int age;\n}\n</code></pre>\n<p>Here is the processor class shown below.</p>\n<pre><code>public class UserProcessor implements ItemProcessor&lt;UserInput, User&gt; {\n\n\n    @Override\n    public User process(UserInput userInput) throws Exception {\n\n        User user = User.builder()\n                .personId(UUID.fromString(userInput.getPersonId()))\n                .firstName(userInput.getFirstName())\n                .lastName(userInput.getLastName())\n                .email(userInput.getEmail())\n                .country(userInput.getCountry())\n                .birthday(localDateTimeFormat(userInput.getBirthday()))\n                .gender(userInput.getGender().equals(&quot;Male&quot;) ? Gender.MALE : Gender.FEMALE)\n                .age(Period.between(localDateTimeFormat(userInput.getBirthday()).toLocalDate(), LocalDate.now()).getYears())\n                .build();\n\n        return user;\n    }\n\n    private LocalDateTime localDateTimeFormat(String birthday) {\n\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n        LocalDateTime formatDateTime = LocalDateTime.parse(birthday, formatter);\n\n        return formatDateTime;\n    }\n}\n</code></pre>\n"},{"tags":["java","unicode"],"comments":[{"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"score":0,"creation_date":1664744255,"post_id":73929175,"comment_id":130536597,"body_markdown":"Mayber this can help https://stackoverflow.com/questions/11145681/how-to-convert-a-string-with-unicode-encoding-to-a-string-of-letters","body":"Mayber this can help <a href=\"https://stackoverflow.com/questions/11145681/how-to-convert-a-string-with-unicode-encoding-to-a-string-of-letters\" title=\"how to convert a string with unicode encoding to a string of letters\">stackoverflow.com/questions/11145681/&hellip;</a>"},{"owner":{"account_id":14044283,"reputation":733,"user_id":10144963,"display_name":"Th0rgal"},"score":0,"creation_date":1664744734,"post_id":73929175,"comment_id":130536698,"body_markdown":"Hmm I tried ``content = StringEscapeUtils.escapeJson(content);`` but this escaped everything so this is no longer a valid json","body":"Hmm I tried <code>content = StringEscapeUtils.escapeJson(content);</code> but this escaped everything so this is no longer a valid json"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1664746142,"post_id":73929175,"comment_id":130536896,"body_markdown":"`// here i do things with content` …Whatever things you’re doing have resulted in something that is no longer valid JSON.  From [the JSON specification](https://datatracker.ietf.org/doc/html/rfc7159.html#section-7):  “A string begins and ends with quotation marks.  All Unicode characters may be placed within the quotation marks, except for the characters that must be escaped: quotation mark, reverse solidus, **and the control characters (U+0000 through U+001F).**”  If you put a character in the 00-1f range in your string, it *must* be expressed as a Unicode escape sequence.","body":"<code>&#47;&#47; here i do things with content</code> …Whatever things you’re doing have resulted in something that is no longer valid JSON.  From <a href=\"https://datatracker.ietf.org/doc/html/rfc7159.html#section-7\" rel=\"nofollow noreferrer\">the JSON specification</a>:  “A string begins and ends with quotation marks.  All Unicode characters may be placed within the quotation marks, except for the characters that must be escaped: quotation mark, reverse solidus, <b>and the control characters (U+0000 through U+001F).</b>”  If you put a character in the 00-1f range in your string, it <i>must</i> be expressed as a Unicode escape sequence."}],"answers":[{"comments":[{"owner":{"account_id":14044283,"reputation":733,"user_id":10144963,"display_name":"Th0rgal"},"score":0,"creation_date":1664743849,"post_id":73929233,"comment_id":130536517,"body_markdown":"it seems that EntityUtils takes a HTTPEntity and not a String","body":"it seems that EntityUtils takes a HTTPEntity and not a String"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1664747112,"post_id":73929233,"comment_id":130537066,"body_markdown":"The best way would be to read it in as a json object, modify it, then deserialise it to a string using ObjectMapper.","body":"The best way would be to read it in as a json object, modify it, then deserialise it to a string using ObjectMapper."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664743579,"creation_date":1664743579,"answer_id":73929233,"question_id":73929175,"body_markdown":"You&#39;re outputting raw Unicode values, when you should be encoding them as Unicode constants eg `\\unnnn`.\r\n\r\nUse a library to encode the content, eg\r\n\r\n    content = EntityUtils.toString(content,&quot;UTF-8&quot;);","title":"Handling unicode escaping in Java InputStream","body":"<p>You're outputting raw Unicode values, when you should be encoding them as Unicode constants eg <code>\\unnnn</code>.</p>\n<p>Use a library to encode the content, eg</p>\n<pre><code>content = EntityUtils.toString(content,&quot;UTF-8&quot;);\n</code></pre>\n"}],"owner":{"account_id":14044283,"reputation":733,"user_id":10144963,"display_name":"Th0rgal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664744043,"creation_date":1664742982,"question_id":73929175,"body_markdown":"I am reading json files to String, I sometimes update them (replace some specific words by others) and then write those update json files in a zip. \r\nThis is what an example input file looks like:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe issue is, the output &quot;loses&quot; character escaping and is therefore no longer a valid json:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EIMDW.png\r\n  [2]: https://i.stack.imgur.com/NmCeL.png\r\n\r\n\r\nTo read the json:\r\n```java\r\n    private InputStream processJsonFile(File file) throws IOException {\r\n        String content;\r\n        if (!file.exists())\r\n            return new ByteArrayInputStream(&quot;&quot;.getBytes(StandardCharsets.UTF_8));\r\n        try {\r\n            content = IOUtils.toString(new FileReader(file, StandardCharsets.UTF_8));\r\n        } catch (IOException | NullPointerException e) {\r\n            Logs.logError(&quot;Error while reading file &quot; + file.getPath());\r\n            Logs.logError(&quot;It seems to be malformed!&quot;);\r\n            return new ByteArrayInputStream(&quot;&quot;.getBytes(StandardCharsets.UTF_8));\r\n        } finally {\r\n            IOUtils.closeQuietly();\r\n        }\r\n\r\n        // here i do things with content\r\n\r\n        return new ByteArrayInputStream(content.getBytes(StandardCharsets.UTF_8));\r\n    }\r\n```\r\n\r\nto add an inputstream to the zip file:\r\n```java\r\n  try (fis) {\r\n            while ((length = fis.read(bytes)) &gt;= 0)\r\n                zos.write(bytes, 0, length);\r\n        } \r\n```","title":"Handling unicode escaping in Java InputStream","body":"<p>I am reading json files to String, I sometimes update them (replace some specific words by others) and then write those update json files in a zip.\nThis is what an example input file looks like:\n<a href=\"https://i.stack.imgur.com/EIMDW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EIMDW.png\" alt=\"enter image description here\" /></a></p>\n<p>The issue is, the output &quot;loses&quot; character escaping and is therefore no longer a valid json:\n<a href=\"https://i.stack.imgur.com/NmCeL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NmCeL.png\" alt=\"enter image description here\" /></a></p>\n<p>To read the json:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private InputStream processJsonFile(File file) throws IOException {\n        String content;\n        if (!file.exists())\n            return new ByteArrayInputStream(&quot;&quot;.getBytes(StandardCharsets.UTF_8));\n        try {\n            content = IOUtils.toString(new FileReader(file, StandardCharsets.UTF_8));\n        } catch (IOException | NullPointerException e) {\n            Logs.logError(&quot;Error while reading file &quot; + file.getPath());\n            Logs.logError(&quot;It seems to be malformed!&quot;);\n            return new ByteArrayInputStream(&quot;&quot;.getBytes(StandardCharsets.UTF_8));\n        } finally {\n            IOUtils.closeQuietly();\n        }\n\n        // here i do things with content\n\n        return new ByteArrayInputStream(content.getBytes(StandardCharsets.UTF_8));\n    }\n</code></pre>\n<p>to add an inputstream to the zip file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  try (fis) {\n            while ((length = fis.read(bytes)) &gt;= 0)\n                zos.write(bytes, 0, length);\n        } \n</code></pre>\n"},{"tags":["java","spring-boot","architecture","microservices","system-design"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664766043,"post_id":73929045,"comment_id":130539212,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":2918545,"reputation":111845,"user_id":2501279,"display_name":"Guru Stron"},"score":1,"creation_date":1664818265,"post_id":73929045,"comment_id":130553272,"body_markdown":"Is using microservices a requirement? How big your team is? How many transactions at peak hours do you anticipate?","body":"Is using microservices a requirement? How big your team is? How many transactions at peak hours do you anticipate?"},{"owner":{"account_id":7333742,"reputation":485,"user_id":5585819,"display_name":"KDW"},"score":0,"creation_date":1664823264,"post_id":73929045,"comment_id":130554735,"body_markdown":"You could take a look at event driven design which is often used for microservice architectures. Communication between microservices is typically handled through choreography or orchestration. Lots of articles and samples exist on the web on this topic... What to choose is use case dependent (as always ;-) )","body":"You could take a look at event driven design which is often used for microservice architectures. Communication between microservices is typically handled through choreography or orchestration. Lots of articles and samples exist on the web on this topic... What to choose is use case dependent (as always ;-) )"}],"owner":{"account_id":26509650,"reputation":1,"user_id":20145183,"display_name":"Sagar Varma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664741700,"creation_date":1664741700,"question_id":73929045,"body_markdown":"I have a requirement of building a web app, which is more like a system that will have inventory and sell the items.\r\nThere is no need for a payment gateway as it is an over-the-counter system and payment integration is not required for it.\r\n\r\nI have the following:\r\n- user service: That manages users\r\n- inventory service: that manages inventory\r\n- order service: that takes orders and processes them\r\n\r\nEach service has its own separate database.\r\n\r\nInventory and order service will communicate often as order processing will need inventory updates.\r\nNow, the question is,\r\nHow do I manage this situation? because I need to manage the inventory, keep the order history and have it in a way that order history can be seen, for reports like sales of specific items, etc.\r\n\r\nThe problem I foresee is if order-service will have its own DB and inventory will have its own DB. for the purpose of fetching reports, it will also require calls to inventory-service for getting the item details. ( I am assuming that I will save inventory-item-id in order-service DB)\r\n\r\nCan you please suggest proper way to deal with this?","title":"Suggestion required for building microservices architecture","body":"<p>I have a requirement of building a web app, which is more like a system that will have inventory and sell the items.\nThere is no need for a payment gateway as it is an over-the-counter system and payment integration is not required for it.</p>\n<p>I have the following:</p>\n<ul>\n<li>user service: That manages users</li>\n<li>inventory service: that manages inventory</li>\n<li>order service: that takes orders and processes them</li>\n</ul>\n<p>Each service has its own separate database.</p>\n<p>Inventory and order service will communicate often as order processing will need inventory updates.\nNow, the question is,\nHow do I manage this situation? because I need to manage the inventory, keep the order history and have it in a way that order history can be seen, for reports like sales of specific items, etc.</p>\n<p>The problem I foresee is if order-service will have its own DB and inventory will have its own DB. for the purpose of fetching reports, it will also require calls to inventory-service for getting the item details. ( I am assuming that I will save inventory-item-id in order-service DB)</p>\n<p>Can you please suggest proper way to deal with this?</p>\n"},{"tags":["java","user-interface","javafx","fxml","scenebuilder"],"comments":[{"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"score":3,"creation_date":1472854467,"post_id":39301143,"comment_id":65936599,"body_markdown":"How about using a BorderPane.The button will be at the bottom and you change only the center with your fxml files.","body":"How about using a BorderPane.The button will be at the bottom and you change only the center with your fxml files."},{"owner":{"account_id":7024225,"reputation":820,"user_id":5382318,"accept_rate":52,"display_name":"Lo&#239;s Talagrand"},"score":0,"creation_date":1472864221,"post_id":39301143,"comment_id":65938636,"body_markdown":"Simple and effective! Thank you I didn&#39;t think about this.","body":"Simple and effective! Thank you I didn&#39;t think about this."}],"answers":[{"tags":[],"owner":{"account_id":7029306,"reputation":1258,"user_id":5385625,"accept_rate":75,"display_name":"Sam Orozco"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472854744,"creation_date":1472854744,"answer_id":39301376,"question_id":39301143,"body_markdown":"This can definitely be achieved by creating a separate FXML file and add a Node to it with a known unique Id, then accessing that node via the id, the tricky part is how are you going to do it application wide? probably creating the same function in a lot of your controllers but here is how you would get a a button from an FXML file.\r\n\r\nAll buttons are performing the same action? \r\n\r\n    Parent root = FXMLLoader.load(getClass().getResource(&quot;fileName.fxml&quot;));\r\n    \r\n            ObservableList&lt;Node&gt; nodes = root.getChildrenUnmodifiable();\r\n            String _id = &quot;testButton&quot;;\r\n            for (Node node : nodes) {\r\n                if (node.getId().equals(_id)) {\r\n                    return node;\r\n                }\r\n    \r\n            }\r\n            return null;\r\n    }\r\n\r\n\r\n","title":"JavaFX - Reusable FXML component","body":"<p>This can definitely be achieved by creating a separate FXML file and add a Node to it with a known unique Id, then accessing that node via the id, the tricky part is how are you going to do it application wide? probably creating the same function in a lot of your controllers but here is how you would get a a button from an FXML file.</p>\n\n<p>All buttons are performing the same action? </p>\n\n<pre><code>Parent root = FXMLLoader.load(getClass().getResource(\"fileName.fxml\"));\n\n        ObservableList&lt;Node&gt; nodes = root.getChildrenUnmodifiable();\n        String _id = \"testButton\";\n        for (Node node : nodes) {\n            if (node.getId().equals(_id)) {\n                return node;\n            }\n\n        }\n        return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4311991,"reputation":3414,"user_id":3522818,"accept_rate":67,"display_name":"kerner1000"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1664741114,"creation_date":1485882406,"answer_id":41963399,"question_id":39301143,"body_markdown":"You can do like this:\r\n\r\n    &lt;AnchorPane xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;de.example.MainController&quot;&gt;\r\n    &lt;children&gt;\r\n    &lt;fx:include fx:id=&quot;someId&quot; source=&quot;NestedFXML.fxml&quot;/&gt;\r\n    &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n\r\n    &lt;AnchorPane xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;de.example.NestedFXMLController&quot;&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\nController classes:\r\n\r\n    public class MainController implements Initializable {\r\n    \r\n        @FXML\r\n        private NestedFXMLController someIdController;\r\n    \r\n        @Override\r\n        public void initialize(URL location, ResourceBundle resources) {\r\n    \t// TODO Auto-generated method stub\r\n    \r\n        }\r\n    }\r\n\r\n\r\nand\r\n\r\n    public class NestedFXMLController implements Initializable {\r\n    \r\n        @Override\r\n        public void initialize(URL location, ResourceBundle resources) {\r\n    \t// TODO Auto-generated method stub\r\n    \r\n        }\r\n    }\r\n\r\nNote that the nested controller can be injected via FXML annotation. The **field name must match the fx:id attribute string + &quot;Controller&quot;!**\r\n\r\n**Find a MWE [here](https://github.com/kerner1000/hello-world-javafx/tree/fxml-reuseable-component).**","title":"JavaFX - Reusable FXML component","body":"<p>You can do like this:</p>\n<pre><code>&lt;AnchorPane xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;de.example.MainController&quot;&gt;\n&lt;children&gt;\n&lt;fx:include fx:id=&quot;someId&quot; source=&quot;NestedFXML.fxml&quot;/&gt;\n&lt;/children&gt;\n</code></pre>\n\n<pre><code>&lt;AnchorPane xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;de.example.NestedFXMLController&quot;&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>Controller classes:</p>\n<pre><code>public class MainController implements Initializable {\n\n    @FXML\n    private NestedFXMLController someIdController;\n\n    @Override\n    public void initialize(URL location, ResourceBundle resources) {\n    // TODO Auto-generated method stub\n\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class NestedFXMLController implements Initializable {\n\n    @Override\n    public void initialize(URL location, ResourceBundle resources) {\n    // TODO Auto-generated method stub\n\n    }\n}\n</code></pre>\n<p>Note that the nested controller can be injected via FXML annotation. The <strong>field name must match the fx:id attribute string + &quot;Controller&quot;!</strong></p>\n<p><strong>Find a MWE <a href=\"https://github.com/kerner1000/hello-world-javafx/tree/fxml-reuseable-component\" rel=\"nofollow noreferrer\">here</a>.</strong></p>\n"}],"owner":{"account_id":7024225,"reputation":820,"user_id":5382318,"accept_rate":52,"display_name":"Lo&#239;s Talagrand"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4101,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":41963399,"answer_count":2,"score":7,"last_activity_date":1664741114,"creation_date":1472852931,"question_id":39301143,"body_markdown":"I am building a GUI with Scene Builder, and the majority of my scenes have one element in common (an iOS type home button at the bottom).\r\nI was wondering if it was possible to define this component in a separate fxml file. From the research I conducted, there exists a similar process for declaring a reusable component but only within the same fxml file. \r\nHow could I apply this principle for several fxml files?\r\n","title":"JavaFX - Reusable FXML component","body":"<p>I am building a GUI with Scene Builder, and the majority of my scenes have one element in common (an iOS type home button at the bottom).\nI was wondering if it was possible to define this component in a separate fxml file. From the research I conducted, there exists a similar process for declaring a reusable component but only within the same fxml file. \nHow could I apply this principle for several fxml files?</p>\n"},{"tags":["java","google-cloud-platform","sftp","jsch","gcs"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664740982,"creation_date":1664654984,"answer_id":73921413,"question_id":73920586,"body_markdown":"I assume you want to upload in-memory data. JSch actually has loads of `ChannelSftp.put` methods overloads that can upload in-memory data.\r\n\r\nThe basic one is [with use of `InputStream`](https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/ChannelSftp.html#put-java.io.InputStream-java.lang.String-):\r\n\r\n```\r\npublic void put(InputStream src, String dst) throws SftpException\r\n```\r\n\r\nThe other options is [with use of `OutputStream`](https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/ChannelSftp.html#put-java.lang.String-):\r\n\r\n```\r\npublic OutputStream put(String dst) throws SftpException\r\n```\r\n","title":"transfer file from GCS bucket to SFTP server in java","body":"<p>I assume you want to upload in-memory data. JSch actually has loads of <code>ChannelSftp.put</code> methods overloads that can upload in-memory data.</p>\n<p>The basic one is <a href=\"https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/ChannelSftp.html#put-java.io.InputStream-java.lang.String-\" rel=\"nofollow noreferrer\">with use of <code>InputStream</code></a>:</p>\n<pre><code>public void put(InputStream src, String dst) throws SftpException\n</code></pre>\n<p>The other options is <a href=\"https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/ChannelSftp.html#put-java.lang.String-\" rel=\"nofollow noreferrer\">with use of <code>OutputStream</code></a>:</p>\n<pre><code>public OutputStream put(String dst) throws SftpException\n</code></pre>\n"}],"owner":{"account_id":2538618,"reputation":1879,"user_id":2205016,"accept_rate":35,"display_name":"dreambigcoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73921413,"answer_count":1,"score":0,"last_activity_date":1664740982,"creation_date":1664646919,"question_id":73920586,"body_markdown":"I am able to read files from GCS bucket, but all the libraries like **jsch** which does file transfer to SFTP server look for a file path, instead of the file in memory.\r\nI don&#39;t want to write the file I read from GCS to a disk, How do I transfer the file in memory to SFTP?","title":"transfer file from GCS bucket to SFTP server in java","body":"<p>I am able to read files from GCS bucket, but all the libraries like <strong>jsch</strong> which does file transfer to SFTP server look for a file path, instead of the file in memory.\nI don't want to write the file I read from GCS to a disk, How do I transfer the file in memory to SFTP?</p>\n"},{"tags":["java","spring-boot","jersey","spring-webflux","r2dbc"],"answers":[{"tags":[],"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664740980,"creation_date":1664740980,"answer_id":73928968,"question_id":73928140,"body_markdown":"You cannot mix WebFlux and Jersey. You should choose one or the other, not both. They both provide an HTTP server engine, but:\r\n\r\n * *Jersey* is a Servlet JAX-RS implementation, it does **not** know anything about reactive streams, Mono, Flux, etc.\r\n * *Webflux* is the Spring HTTP server engine based on reactive streams and async Netty HTTP server.\r\n\r\nIf you look at [Spring Boot reference documentation, section 3.5: Web](https://docs.spring.io/spring-boot/docs/2.7.4/reference/htmlsingle/#documentation.web), you will see that Jersey is one of the available engines, competing with other possible engines, i.e Web MVC and web reactive (webflux).\r\n\r\nSo, the answer is : Jersey is incompatible with Webflux, and you must choose between Webflux reactive Web and Spring rest annotation, or Jersey and Jax_RS without using Mono/Flux as return-type.\r\n\r\nNote 1 : You should annotate your class with `@RestController` whe using webflux, so it understand that method return is the HTTP response body (see [the last paragraph of reference documentation section 1.4.1: *@Controller*](https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-ann-controller) for details.\r\n\r\nNote 2 : If you really want to use jersey, but you still require to consume Mono objects from other parts of your system, you might use one of the conversion functions provided by Reactor to return an object that jersey can work with. For example, on Mono object, you will find a [toFuture()](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#toFuture--) method. You could also *block()*, but it could be dangerous.","title":"I got this message: Cannot construct instance of `reactor.core.publisher.Mono`","body":"<p>You cannot mix WebFlux and Jersey. You should choose one or the other, not both. They both provide an HTTP server engine, but:</p>\n<ul>\n<li><em>Jersey</em> is a Servlet JAX-RS implementation, it does <strong>not</strong> know anything about reactive streams, Mono, Flux, etc.</li>\n<li><em>Webflux</em> is the Spring HTTP server engine based on reactive streams and async Netty HTTP server.</li>\n</ul>\n<p>If you look at <a href=\"https://docs.spring.io/spring-boot/docs/2.7.4/reference/htmlsingle/#documentation.web\" rel=\"nofollow noreferrer\">Spring Boot reference documentation, section 3.5: Web</a>, you will see that Jersey is one of the available engines, competing with other possible engines, i.e Web MVC and web reactive (webflux).</p>\n<p>So, the answer is : Jersey is incompatible with Webflux, and you must choose between Webflux reactive Web and Spring rest annotation, or Jersey and Jax_RS without using Mono/Flux as return-type.</p>\n<p>Note 1 : You should annotate your class with <code>@RestController</code> whe using webflux, so it understand that method return is the HTTP response body (see <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-ann-controller\" rel=\"nofollow noreferrer\">the last paragraph of reference documentation section 1.4.1: <em>@Controller</em></a> for details.</p>\n<p>Note 2 : If you really want to use jersey, but you still require to consume Mono objects from other parts of your system, you might use one of the conversion functions provided by Reactor to return an object that jersey can work with. For example, on Mono object, you will find a <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#toFuture--\" rel=\"nofollow noreferrer\">toFuture()</a> method. You could also <em>block()</em>, but it could be dangerous.</p>\n"}],"owner":{"account_id":26503323,"reputation":3,"user_id":20139898,"display_name":"MBanai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1609,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73928968,"answer_count":1,"score":0,"last_activity_date":1664740980,"creation_date":1664733469,"question_id":73928140,"body_markdown":"I used Jersey and Webflux with R2DBC. after send the POST via the postman I got this message &quot; Cannot construct instance of `reactor.core.publisher.Mono` &quot;\r\n\r\nThis is my JerseyConfiguration:\r\n\r\n    @Component\r\n    public class JerseyConfiguration\r\n            extends ResourceConfig {\r\n        public JerseyConfiguration() {\r\n            register(ProductController.class, 1);\r\n        }\r\n    }\r\n\r\nand this is my Controller:\r\n\r\n    @Path(&quot;/v1&quot;)\r\n    @Controller\r\n    public class ProductController {\r\n    \r\n        @Autowired\r\n        private ProductService productService;\r\n    \r\n        @POST\r\n        @Consumes(MediaType.APPLICATION_JSON)\r\n        @Produces(MediaType.APPLICATION_JSON)\r\n        @Path(&quot;/product&quot;)\r\n        public Mono&lt;Product&gt; createProduct(@RequestBody Mono&lt;Product&gt; productMono){\r\n            return productMono.flatMap(this.productService::createProduct);\r\n        }\r\n    }\r\nand this sis my service:\r\n\r\n    @Service\r\n    public class ProductService {\r\n    \r\n        @Autowired\r\n        private ProductRepository repository;\r\n    \r\n        public Mono&lt;Product&gt; createProduct(final Product product){\r\n            return this.repository.save(product);\r\n        }\r\n    }\r\n\r\nand also this my pom.xml\r\n\r\n    &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.r2dbc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;r2dbc-postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n\r\nNow, this is my problem; I got this message from the postman:\r\n\r\n    Cannot construct instance of `reactor.core.publisher.Mono` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\r\n     at [Source: (org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream); line: 1, column: 1]\r\n\r\nPlease let me know how to solve that problem.\r\n\r\nThank you\r\n","title":"I got this message: Cannot construct instance of `reactor.core.publisher.Mono`","body":"<p>I used Jersey and Webflux with R2DBC. after send the POST via the postman I got this message &quot; Cannot construct instance of <code>reactor.core.publisher.Mono</code> &quot;</p>\n<p>This is my JerseyConfiguration:</p>\n<pre><code>@Component\npublic class JerseyConfiguration\n        extends ResourceConfig {\n    public JerseyConfiguration() {\n        register(ProductController.class, 1);\n    }\n}\n</code></pre>\n<p>and this is my Controller:</p>\n<pre><code>@Path(&quot;/v1&quot;)\n@Controller\npublic class ProductController {\n\n    @Autowired\n    private ProductService productService;\n\n    @POST\n    @Consumes(MediaType.APPLICATION_JSON)\n    @Produces(MediaType.APPLICATION_JSON)\n    @Path(&quot;/product&quot;)\n    public Mono&lt;Product&gt; createProduct(@RequestBody Mono&lt;Product&gt; productMono){\n        return productMono.flatMap(this.productService::createProduct);\n    }\n}\n</code></pre>\n<p>and this sis my service:</p>\n<pre><code>@Service\npublic class ProductService {\n\n    @Autowired\n    private ProductRepository repository;\n\n    public Mono&lt;Product&gt; createProduct(final Product product){\n        return this.repository.save(product);\n    }\n}\n</code></pre>\n<p>and also this my pom.xml</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.r2dbc&lt;/groupId&gt;\n            &lt;artifactId&gt;r2dbc-postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>Now, this is my problem; I got this message from the postman:</p>\n<pre><code>Cannot construct instance of `reactor.core.publisher.Mono` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\n at [Source: (org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream); line: 1, column: 1]\n</code></pre>\n<p>Please let me know how to solve that problem.</p>\n<p>Thank you</p>\n"},{"tags":["java","android","networking","udp"],"comments":[{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":0,"creation_date":1600878321,"post_id":64030969,"comment_id":113229661,"body_markdown":"Use the broadcast IP address. Remember that broadcasts do not cross routers, so you can only broadcast on the network to which you are connected.","body":"Use the broadcast IP address. Remember that broadcasts do not cross routers, so you can only broadcast on the network to which you are connected."},{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":0,"creation_date":1602804996,"post_id":64030969,"comment_id":113843588,"body_markdown":"There is a single broadcast address that can be used: the Limited Broadcast address of `255.255.255.255`. It works on every IPv4 network, and there is no real reason to spend a lot of cycles calculating the network broadcast address. Of course, broadcasting only works for IPv4 because IPv6 has eliminated broadcast because it is intrusive, interrupting every host on the LAN, and it is a security problem. The modern method is multicast.","body":"There is a single broadcast address that can be used: the Limited Broadcast address of <code>255.255.255.255</code>. It works on every IPv4 network, and there is no real reason to spend a lot of cycles calculating the network broadcast address. Of course, broadcasting only works for IPv4 because IPv6 has eliminated broadcast because it is intrusive, interrupting every host on the LAN, and it is a security problem. The modern method is multicast."}],"answers":[{"comments":[{"owner":{"account_id":19511854,"reputation":41,"user_id":14275650,"display_name":"qol"},"score":1,"creation_date":1600882060,"post_id":64033170,"comment_id":113231501,"body_markdown":"Hmm this includes &quot;wifi manager&quot; is this possible to do over ethernet?","body":"Hmm this includes &quot;wifi manager&quot; is this possible to do over ethernet?"},{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":0,"creation_date":1602804938,"post_id":64033170,"comment_id":113843576,"body_markdown":"There is a single broadcast address that can be used: the Limited Broadcast address of `255.255.255.255`. It works on every IPv4 network, and there is no real reason to spend a lot of cycles calculating the network broadcast address. Of course, broadcasting only works for IPv4 because IPv6 has eliminated broadcast because it is intrusive, interrupting every host on the LAN, and it is a security problem. The modern method is multicast.","body":"There is a single broadcast address that can be used: the Limited Broadcast address of <code>255.255.255.255</code>. It works on every IPv4 network, and there is no real reason to spend a lot of cycles calculating the network broadcast address. Of course, broadcasting only works for IPv4 because IPv6 has eliminated broadcast because it is intrusive, interrupting every host on the LAN, and it is a security problem. The modern method is multicast."},{"owner":{"account_id":3818744,"reputation":437,"user_id":3167374,"display_name":"shitpoet"},"score":0,"creation_date":1673287417,"post_id":64033170,"comment_id":132460542,"body_markdown":"@RonMaupin on my Xiaomi Redmi 6A in Portable Hotspot mode universal `255.255.255.255` does not work but specialized `192.168.43.255` - does. So in general you are right, but it seems like Android has some filtering rules against `255.255.255.255` broadcasts, at least for some vendors and network configurations.","body":"@RonMaupin on my Xiaomi Redmi 6A in Portable Hotspot mode universal <code>255.255.255.255</code> does not work but specialized <code>192.168.43.255</code> - does. So in general you are right, but it seems like Android has some filtering rules against <code>255.255.255.255</code> broadcasts, at least for some vendors and network configurations."}],"tags":[],"owner":{"account_id":5318650,"reputation":977,"user_id":4299833,"accept_rate":80,"display_name":"narcis dpr"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1664740634,"creation_date":1600881631,"answer_id":64033170,"question_id":64030969,"body_markdown":"Here is a useful doc: [google-AdroidUDP][1], and here is a sample code:\r\n\r\n**Sender:**\r\n\r\n     public void sendBroadcast(String messageStr) {\r\n         StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n    StrictMode.setThreadPolicy(policy);\r\n\r\n         try {\r\n             DatagramSocket socket = new DatagramSocket();\r\n             socket.setBroadcast(true);\r\n             byte[] sendData = messageStr.getBytes();\r\n             DatagramPacket sendPacket = new DatagramPacket(sendData, sendData.length, getBroadcastAddress(), Constants.PORT);\r\n             socket.send(sendPacket);\r\n             System.out.println(getClass().getName() + &quot;Broadcast packet sent to: &quot; + getBroadcastAddress().getHostAddress());\r\n         } catch (IOException e) {\r\n             Log.e(TAG, &quot;IOException: &quot; + e.getMessage());\r\n         }\r\n     }\r\n     \r\n     InetAddress getBroadcastAddress() throws IOException {\r\n         WifiManager wifi = (WifiManager)    \r\n         mContext.getSystemService(Context.WIFI_SERVICE);\r\n         DhcpInfo dhcp = wifi.getDhcpInfo();\r\n\r\n\r\n         int broadcast = (dhcp.ipAddress &amp; dhcp.netmask) | ~dhcp.netmask;\r\n         byte[] quads = new byte[4];\r\n         for (int k = 0; k &lt; 4; k++)\r\n             quads[k] = (byte) ((broadcast &gt;&gt; k * 8) &amp; 0xFF);\r\n         return InetAddress.getByAddress(quads);\r\n     }\r\n\r\n\r\n**Receiver**\r\n\r\n          try {\r\n              socket = new DatagramSocket(Constants.PORT, InetAddress.getByName(&quot;0.0.0.0&quot;));\r\n              socket.setBroadcast(true);\r\n\r\n              while (true) {\r\n                  Log.i(TAG,&quot;Ready to receive broadcast packets!&quot;);\r\n\r\n                  byte[] recvBuf = new byte[15000];\r\n                  DatagramPacket packet = new DatagramPacket(recvBuf, recvBuf.length);\r\n                  socket.receive(packet);\r\n\r\n                  Log.i(TAG, &quot;Packet received from: &quot; + packet.getAddress().getHostAddress());\r\n                  String data = new String(packet.getData()).trim();\r\n                  Log.i(TAG, &quot;Packet received; data: &quot; + data);\r\n\r\n                  Intent localIntent = new Intent(Constants.BROADCAST_ACTION)\r\n                      .putExtra(Constants.EXTENDED_DATA_STATUS, data);\r\n                  LocalBroadcastManager\r\n                      .getInstance(this)\r\n                      .sendBroadcast(localIntent);\r\n              }\r\n          }  catch (IOException ex) {\r\n              Log.i(TAG, &quot;Oops&quot; + ex.getMessage());\r\n          }\r\n\r\n\r\n  [1]: https://code.google.com/p/boxeeremote/wiki/AndroidUDP","title":"How to broadcast a UDP packet from Android?","body":"<p>Here is a useful doc: <a href=\"https://code.google.com/p/boxeeremote/wiki/AndroidUDP\" rel=\"nofollow noreferrer\">google-AdroidUDP</a>, and here is a sample code:</p>\n<p><strong>Sender:</strong></p>\n<pre><code> public void sendBroadcast(String messageStr) {\n     StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\nStrictMode.setThreadPolicy(policy);\n\n     try {\n         DatagramSocket socket = new DatagramSocket();\n         socket.setBroadcast(true);\n         byte[] sendData = messageStr.getBytes();\n         DatagramPacket sendPacket = new DatagramPacket(sendData, sendData.length, getBroadcastAddress(), Constants.PORT);\n         socket.send(sendPacket);\n         System.out.println(getClass().getName() + &quot;Broadcast packet sent to: &quot; + getBroadcastAddress().getHostAddress());\n     } catch (IOException e) {\n         Log.e(TAG, &quot;IOException: &quot; + e.getMessage());\n     }\n }\n \n InetAddress getBroadcastAddress() throws IOException {\n     WifiManager wifi = (WifiManager)    \n     mContext.getSystemService(Context.WIFI_SERVICE);\n     DhcpInfo dhcp = wifi.getDhcpInfo();\n\n\n     int broadcast = (dhcp.ipAddress &amp; dhcp.netmask) | ~dhcp.netmask;\n     byte[] quads = new byte[4];\n     for (int k = 0; k &lt; 4; k++)\n         quads[k] = (byte) ((broadcast &gt;&gt; k * 8) &amp; 0xFF);\n     return InetAddress.getByAddress(quads);\n }\n</code></pre>\n<p><strong>Receiver</strong></p>\n<pre><code>      try {\n          socket = new DatagramSocket(Constants.PORT, InetAddress.getByName(&quot;0.0.0.0&quot;));\n          socket.setBroadcast(true);\n\n          while (true) {\n              Log.i(TAG,&quot;Ready to receive broadcast packets!&quot;);\n\n              byte[] recvBuf = new byte[15000];\n              DatagramPacket packet = new DatagramPacket(recvBuf, recvBuf.length);\n              socket.receive(packet);\n\n              Log.i(TAG, &quot;Packet received from: &quot; + packet.getAddress().getHostAddress());\n              String data = new String(packet.getData()).trim();\n              Log.i(TAG, &quot;Packet received; data: &quot; + data);\n\n              Intent localIntent = new Intent(Constants.BROADCAST_ACTION)\n                  .putExtra(Constants.EXTENDED_DATA_STATUS, data);\n              LocalBroadcastManager\n                  .getInstance(this)\n                  .sendBroadcast(localIntent);\n          }\n      }  catch (IOException ex) {\n          Log.i(TAG, &quot;Oops&quot; + ex.getMessage());\n      }\n</code></pre>\n"}],"owner":{"account_id":19511854,"reputation":41,"user_id":14275650,"display_name":"qol"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4230,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1664740634,"creation_date":1600873844,"question_id":64030969,"body_markdown":"I need to broadcast a message using UDP from my Android app to every device on my network (ethernet).\r\nI&#39;m lost on how to do this though because there doesn&#39;t seem to be any documentation on how to send a broadcast message, just ones on how to send to a specific client using IP addresses.\r\n\r\nThanks","title":"How to broadcast a UDP packet from Android?","body":"<p>I need to broadcast a message using UDP from my Android app to every device on my network (ethernet).\nI'm lost on how to do this though because there doesn't seem to be any documentation on how to send a broadcast message, just ones on how to send to a specific client using IP addresses.</p>\n<p>Thanks</p>\n"},{"tags":["java","string","palindrome"],"answers":[{"comments":[{"owner":{"account_id":3595277,"reputation":44036,"user_id":3000206,"accept_rate":98,"display_name":"Carcigenicate"},"score":0,"creation_date":1558669645,"post_id":56285573,"comment_id":99184408,"body_markdown":"Or just don&#39;t use StringBuilder here and stick to good ol immutable strings. The performance difference likely won&#39;t matter if there is one here.","body":"Or just don&#39;t use StringBuilder here and stick to good ol immutable strings. The performance difference likely won&#39;t matter if there is one here."},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1558669724,"post_id":56285573,"comment_id":99184419,"body_markdown":"@Carcigenicate Yes if the linked list is not large.","body":"@Carcigenicate Yes if the linked list is not large."}],"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1558669421,"creation_date":1558669421,"answer_id":56285573,"question_id":56285511,"body_markdown":"StringBuilder `reverse` does not produce a new StringBuilder instance. It causes the underlying characters of the current StringBuilder to be reversed. So,\r\n\r\n    String a = s.reverse().toString(); \r\n    String b = s.toString();\r\n\r\nThe second `s.toString()` is operating on the reversed `StringBuilder`.\r\n\r\n\r\nyou have to do\r\n\r\n    String original = s.toString(); \r\n    String reversed = s.reverse().toString();\r\n    return original.equals(reversed);\r\n","title":"How does StringBuilder reverse work in Java?","body":"<p>StringBuilder <code>reverse</code> does not produce a new StringBuilder instance. It causes the underlying characters of the current StringBuilder to be reversed. So,</p>\n\n<pre><code>String a = s.reverse().toString(); \nString b = s.toString();\n</code></pre>\n\n<p>The second <code>s.toString()</code> is operating on the reversed <code>StringBuilder</code>.</p>\n\n<p>you have to do</p>\n\n<pre><code>String original = s.toString(); \nString reversed = s.reverse().toString();\nreturn original.equals(reversed);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15979473,"reputation":121,"user_id":11531469,"display_name":"kundus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558877688,"creation_date":1558877688,"answer_id":56313976,"question_id":56285511,"body_markdown":"Here&#39;s one using only 2 StringBuilders instead of 3 and doesn&#39;t use the built-in reversed method. Instead, the while loop traverses through the linked list, appends the current node to the `original` StringBuilder, and inserts the current node at the front of the `reversed` StringBuilder. So the built-in insert method helps with reversing the order of the nodes values :\r\n\r\n    public boolean isPalindrome(ListNode head) {\r\n         StringBuilder original = new StringBuilder(), reversed = new StringBuilder();\r\n         ListNode curr = head;\r\n         while (curr != null) {\r\n             original.append(curr.val);\r\n             reversed.insert(0, curr.val);\r\n             curr = curr.next;\r\n         }\r\n         return original.toString().equals(reversed.toString()) ? true : false;\r\n    }\r\n\r\n","title":"How does StringBuilder reverse work in Java?","body":"<p>Here's one using only 2 StringBuilders instead of 3 and doesn't use the built-in reversed method. Instead, the while loop traverses through the linked list, appends the current node to the <code>original</code> StringBuilder, and inserts the current node at the front of the <code>reversed</code> StringBuilder. So the built-in insert method helps with reversing the order of the nodes values :</p>\n\n<pre><code>public boolean isPalindrome(ListNode head) {\n     StringBuilder original = new StringBuilder(), reversed = new StringBuilder();\n     ListNode curr = head;\n     while (curr != null) {\n         original.append(curr.val);\n         reversed.insert(0, curr.val);\n         curr = curr.next;\n     }\n     return original.toString().equals(reversed.toString()) ? true : false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664739173,"creation_date":1664739173,"answer_id":73928768,"question_id":56285511,"body_markdown":"[`StringBuilder#reverse`](https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html#reverse()) reverses the character sequence in-place e.g.\r\n\r\n    StringBuilder s = new StringBuilder(&quot;Hello&quot;);\r\n    s.reverse();\r\n    System.out.println(s); // olleH\r\n\r\nTo preserve the character sequence in the original instance, you need to clone (create a copy) the original instance and reverse the clone e.g.\r\n\r\n    StringBuilder b = new StringBuilder(a).reverse(); // a is the original instance\r\n    return a.toString().equals(b.toString());\r\n\r\n**Note**: `StringBuilder` does not override `Object#equals` method and therefore even if two `StringBuilder` instances (say, `one` and `other`) have the same content, `one.equals(other)` return `false`. A way to check the equality of the two `StringBuilder` instances is through their `String` representation e.g. `one.toString().equals(other.toString())`.","title":"How does StringBuilder reverse work in Java?","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html#reverse()\" rel=\"nofollow noreferrer\"><code>StringBuilder#reverse</code></a> reverses the character sequence in-place e.g.</p>\n<pre><code>StringBuilder s = new StringBuilder(&quot;Hello&quot;);\ns.reverse();\nSystem.out.println(s); // olleH\n</code></pre>\n<p>To preserve the character sequence in the original instance, you need to clone (create a copy) the original instance and reverse the clone e.g.</p>\n<pre><code>StringBuilder b = new StringBuilder(a).reverse(); // a is the original instance\nreturn a.toString().equals(b.toString());\n</code></pre>\n<p><strong>Note</strong>: <code>StringBuilder</code> does not override <code>Object#equals</code> method and therefore even if two <code>StringBuilder</code> instances (say, <code>one</code> and <code>other</code>) have the same content, <code>one.equals(other)</code> return <code>false</code>. A way to check the equality of the two <code>StringBuilder</code> instances is through their <code>String</code> representation e.g. <code>one.toString().equals(other.toString())</code>.</p>\n"}],"owner":{"account_id":13863363,"reputation":127,"user_id":10008430,"display_name":"taralee98"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2390,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":56285573,"answer_count":3,"score":0,"last_activity_date":1664739173,"creation_date":1558668949,"question_id":56285511,"body_markdown":"I am trying to solve this leetcode question\r\nhttps://leetcode.com/problems/palindrome-linked-list/ , but running into trouble with strings and string builders. For some reason, &quot;12&quot;.equals&quot;21&quot; -&gt; returns true. \r\n\r\n\r\nI tried converting from string builder to string, and just using stringbuilder.\r\n\r\n    class Solution {\r\n    public boolean isPalindrome(ListNode head) {\r\n        StringBuilder s = new StringBuilder();\r\n        while (head != null) {\r\n            s.append(head.val);\r\n            head = head.next;\r\n        }\r\n        String a = s.reverse().toString(); \r\n        String b = s.toString(); \r\n        return a.equals(b);\r\n    }\r\n    }\r\n\r\n\r\nIt fails on &quot;12&quot; test case, and returns true.","title":"How does StringBuilder reverse work in Java?","body":"<p>I am trying to solve this leetcode question\n<a href=\"https://leetcode.com/problems/palindrome-linked-list/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/palindrome-linked-list/</a> , but running into trouble with strings and string builders. For some reason, \"12\".equals\"21\" -> returns true. </p>\n\n<p>I tried converting from string builder to string, and just using stringbuilder.</p>\n\n<pre><code>class Solution {\npublic boolean isPalindrome(ListNode head) {\n    StringBuilder s = new StringBuilder();\n    while (head != null) {\n        s.append(head.val);\n        head = head.next;\n    }\n    String a = s.reverse().toString(); \n    String b = s.toString(); \n    return a.equals(b);\n}\n}\n</code></pre>\n\n<p>It fails on \"12\" test case, and returns true.</p>\n"},{"tags":["java","android","download","android-asynctask"],"comments":[{"owner":{"account_id":3588738,"reputation":2650,"user_id":2995251,"accept_rate":86,"display_name":"Ganesh Katikar"},"score":2,"creation_date":1390475680,"post_id":3028306,"comment_id":34438444,"body_markdown":"I hope below link may be help you... http://www.androidhive.info/2012/04/android-downloading-file-by-showing-progress-bar/","body":"I hope below link may be help you... <a href=\"http://www.androidhive.info/2012/04/android-downloading-file-by-showing-progress-bar/\" rel=\"nofollow noreferrer\">androidhive.info/2012/04/&hellip;</a>"},{"owner":{"account_id":485774,"reputation":3175,"user_id":902284,"accept_rate":31,"display_name":"Richa"},"score":1,"creation_date":1428322094,"post_id":3028306,"comment_id":47103416,"body_markdown":"For quick fix [refer this answer](http://stackoverflow.com/a/29470764/902284)","body":"For quick fix <a href=\"http://stackoverflow.com/a/29470764/902284\">refer this answer</a>"},{"owner":{"account_id":4803234,"reputation":721,"user_id":3879214,"display_name":"Anu Martin"},"score":0,"creation_date":1513326620,"post_id":3028306,"comment_id":82619178,"body_markdown":"https://stackoverflow.com/a/43069239/3879214\ncheck this answer","body":"<a href=\"https://stackoverflow.com/a/43069239/3879214\">stackoverflow.com/a/43069239/3879214</a> check this answer"}],"answers":[{"comments":[{"owner":{"account_id":225131,"reputation":507,"user_id":485438,"accept_rate":74,"display_name":"Michael Little"},"score":0,"creation_date":1297689801,"post_id":3028660,"comment_id":5578395,"body_markdown":"Cristian,\r\n\r\nI know this has been here for a while but I was wondering if you wouldn&#39;t mind showing me how to get the progress bar to show. I used the example you gave and it works great (file downloads) but I never get a progress bar. \r\n\r\nThanks a ton.\r\n\r\nMike","body":"Cristian,    I know this has been here for a while but I was wondering if you wouldn&#39;t mind showing me how to get the progress bar to show. I used the example you gave and it works great (file downloads) but I never get a progress bar.     Thanks a ton.    Mike"},{"owner":{"account_id":83687,"reputation":3908,"user_id":234466,"accept_rate":70,"display_name":"marlar"},"score":0,"creation_date":1308913579,"post_id":3028660,"comment_id":7597478,"body_markdown":"Isn&#39;t there a confusion between ProgressDialog and ProgressBar in the example? When I try it, the compiler complains.","body":"Isn&#39;t there a confusion between ProgressDialog and ProgressBar in the example? When I try it, the compiler complains."},{"owner":{"account_id":189903,"reputation":17885,"user_id":429521,"accept_rate":65,"display_name":"Felipe Sabino"},"score":0,"creation_date":1323197625,"post_id":3028660,"comment_id":10379366,"body_markdown":"I have some problems with `https` urls after `conexion.connect();`. While debugging, I verified that there is a flag in the `conecion` object named `connected` that is set to `false`. Do you have any clue how to solve this? Or what extra steps should be made for successful https downloads? tks!","body":"I have some problems with <code>https</code> urls after <code>conexion.connect();</code>. While debugging, I verified that there is a flag in the <code>conecion</code> object named <code>connected</code> that is set to <code>false</code>. Do you have any clue how to solve this? Or what extra steps should be made for successful https downloads? tks!"},{"owner":{"account_id":189903,"reputation":17885,"user_id":429521,"accept_rate":65,"display_name":"Felipe Sabino"},"score":0,"creation_date":1323198910,"post_id":3028660,"comment_id":10379758,"body_markdown":"I just found that it might be a bug on android &lt;= 2.2 http://code.google.com/p/android/issues/detail?id=15503","body":"I just found that it might be a bug on android &lt;= 2.2 <a href=\"http://code.google.com/p/android/issues/detail?id=15503\" rel=\"nofollow noreferrer\">code.google.com/p/android/issues/detail?id=15503</a>"},{"owner":{"account_id":479687,"reputation":4455,"user_id":892500,"accept_rate":55,"display_name":"G&#246;khan Barış Aker"},"score":0,"creation_date":1325506297,"post_id":3028660,"comment_id":10824742,"body_markdown":"I know it might not be important. Still considering the performance stuff, using progressDialog.setMax(lenghtOfFile), and publishProgress(total) wouldn&#39;t be more efficient? As there are lots of divisions and multiplications in (int)(total*100/lenghtOfFile).\n**Edit**: As i double check long data type is deal breaker here, as progress bar demans int, but connection.getContentLength() returns int, which makes long data type seems useless. Am i confused? Yes :). Seeking your enlightment of wisdom, masters...","body":"I know it might not be important. Still considering the performance stuff, using progressDialog.setMax(lenghtOfFile), and publishProgress(total) wouldn&#39;t be more efficient? As there are lots of divisions and multiplications in (int)(total*100/lenghtOfFile). <b>Edit</b>: As i double check long data type is deal breaker here, as progress bar demans int, but connection.getContentLength() returns int, which makes long data type seems useless. Am i confused? Yes :). Seeking your enlightment of wisdom, masters..."},{"owner":{"account_id":106052,"reputation":7496,"user_id":444761,"accept_rate":41,"display_name":"Mark"},"score":0,"creation_date":1345532253,"post_id":3028660,"comment_id":16088950,"body_markdown":"Isn&#39;t there a problem that if the DownloadManager is not available you still need to code your own download code (even if your minSdkLevel is &gt;= GB)?","body":"Isn&#39;t there a problem that if the DownloadManager is not available you still need to code your own download code (even if your minSdkLevel is &gt;= GB)?"},{"owner":{"account_id":88286,"reputation":198831,"user_id":244296,"accept_rate":86,"display_name":"Cristian"},"score":10,"creation_date":1345652218,"post_id":3028660,"comment_id":16133831,"body_markdown":"DownloadManager is part of the OS, which means it will always be available in GB+ and cannot be uninstalled.","body":"DownloadManager is part of the OS, which means it will always be available in GB+ and cannot be uninstalled."},{"owner":{"account_id":926050,"reputation":1451,"user_id":956826,"accept_rate":50,"display_name":"vinay kumar"},"score":0,"creation_date":1347687956,"post_id":3028660,"comment_id":16718978,"body_markdown":"@Cristian, is it possible to update progressBar of activity layout using DownloadMangaer?, if it is possible could you help me with snippet. Thank you.","body":"@Cristian, is it possible to update progressBar of activity layout using DownloadMangaer?, if it is possible could you help me with snippet. Thank you."},{"owner":{"account_id":88286,"reputation":198831,"user_id":244296,"accept_rate":86,"display_name":"Cristian"},"score":1,"creation_date":1347893336,"post_id":3028660,"comment_id":16760467,"body_markdown":"Yes it is possible, just read the DownloadManager documentation. You will need to query that data using a content provider","body":"Yes it is possible, just read the DownloadManager documentation. You will need to query that data using a content provider"},{"owner":{"account_id":1038512,"reputation":8619,"user_id":1045074,"accept_rate":54,"display_name":"NagarjunaReddy"},"score":0,"creation_date":1349335503,"post_id":3028660,"comment_id":17181224,"body_markdown":"@Cristian I am using Async Task for my App displaying contacts but faceing errors see my question any Idea  replay  me please http://stackoverflow.com/questions/12709799/how-to-solve-fatal-exception-thread-11","body":"@Cristian I am using Async Task for my App displaying contacts but faceing errors see my question any Idea  replay  me please <a href=\"http://stackoverflow.com/questions/12709799/how-to-solve-fatal-exception-thread-11\" title=\"how to solve fatal exception thread 11\">stackoverflow.com/questions/12709799/&hellip;</a>"},{"owner":{"account_id":106052,"reputation":7496,"user_id":444761,"accept_rate":41,"display_name":"Mark"},"score":0,"creation_date":1353044871,"post_id":3028660,"comment_id":18324609,"body_markdown":"If DownloadManager is part of the OS (GB+) then wouldn&#39;t it be sufficient to check the Build.VERSION.SDK_INT?  Is it for sure included in the Kindle Fire devices?","body":"If DownloadManager is part of the OS (GB+) then wouldn&#39;t it be sufficient to check the Build.VERSION.SDK_INT?  Is it for sure included in the Kindle Fire devices?"},{"owner":{"account_id":28155,"reputation":5662,"user_id":74896,"accept_rate":69,"display_name":"nLL"},"score":17,"creation_date":1353066172,"post_id":3028660,"comment_id":18333970,"body_markdown":"There is a problem in Cristian&#39;s answer.\nBecause code at &quot;**1. Use AsyncTask and show the download progress in a dialog**&quot; does connection.connect(); then InputStream input = new BufferedInputStream(url.openStream()); code makes 2 connections to the server. I have managed to change this behavior by updating the code as follows InputStream input = new BufferedInputStream(connection.getInputStream());","body":"There is a problem in Cristian&#39;s answer. Because code at &quot;<b>1. Use AsyncTask and show the download progress in a dialog</b>&quot; does connection.connect(); then InputStream input = new BufferedInputStream(url.openStream()); code makes 2 connections to the server. I have managed to change this behavior by updating the code as follows InputStream input = new BufferedInputStream(connection.getInputStream());"},{"owner":{"account_id":88286,"reputation":198831,"user_id":244296,"accept_rate":86,"display_name":"Cristian"},"score":0,"creation_date":1353087522,"post_id":3028660,"comment_id":18342092,"body_markdown":"Thanks for your help... do not hesitate to editing the answer if you want.","body":"Thanks for your help... do not hesitate to editing the answer if you want."},{"owner":{"account_id":953341,"reputation":20069,"user_id":1254536,"accept_rate":56,"display_name":"LOG_TAG"},"score":0,"creation_date":1353737614,"post_id":3028660,"comment_id":18540045,"body_markdown":"thanks, really helpful information, Any body knows multithreading download library in android for faster paralleled download for the single file?","body":"thanks, really helpful information, Any body knows multithreading download library in android for faster paralleled download for the single file?"},{"owner":{"account_id":88286,"reputation":198831,"user_id":244296,"accept_rate":86,"display_name":"Cristian"},"score":0,"creation_date":1353916867,"post_id":3028660,"comment_id":18577863,"body_markdown":"Groundy library allows you to do that.","body":"Groundy library allows you to do that."},{"owner":{"account_id":1497191,"reputation":9670,"user_id":1402846,"accept_rate":90,"display_name":"Pang"},"score":13,"creation_date":1359194576,"post_id":3028660,"comment_id":20271966,"body_markdown":"Suggested to `close()` the streams (`input` and `output`) in `finally` instead of `try`, otherwise if any exception is thrown before `close()`, you have unclosed streams hanging around.","body":"Suggested to <code>close()</code> the streams (<code>input</code> and <code>output</code>) in <code>finally</code> instead of <code>try</code>, otherwise if any exception is thrown before <code>close()</code>, you have unclosed streams hanging around."},{"owner":{"account_id":88286,"reputation":198831,"user_id":244296,"accept_rate":86,"display_name":"Cristian"},"score":0,"creation_date":1359226831,"post_id":3028660,"comment_id":20280092,"body_markdown":"You are right... just wanted to keep the example as clear as possible. Thanks a lot.","body":"You are right... just wanted to keep the example as clear as possible. Thanks a lot."},{"owner":{"account_id":1268658,"reputation":14001,"user_id":1225413,"accept_rate":80,"display_name":"Akhil Jain"},"score":0,"creation_date":1359887150,"post_id":3028660,"comment_id":20507826,"body_markdown":"can you please tell how to implement the same for image view?/, when clicked on a button, set the bitmap image on imageview","body":"can you please tell how to implement the same for image view?/, when clicked on a button, set the bitmap image on imageview"},{"owner":{"account_id":88286,"reputation":198831,"user_id":244296,"accept_rate":86,"display_name":"Cristian"},"score":0,"creation_date":1359923501,"post_id":3028660,"comment_id":20517862,"body_markdown":"In that case, you better take a look at the wasp library: http://github.com/casidiablo/wasp","body":"In that case, you better take a look at the wasp library: <a href=\"http://github.com/casidiablo/wasp\" rel=\"nofollow noreferrer\">github.com/casidiablo/wasp</a>"},{"owner":{"account_id":123438,"reputation":4346,"user_id":317889,"accept_rate":74,"display_name":"HGPB"},"score":0,"creation_date":1360756308,"post_id":3028660,"comment_id":20817099,"body_markdown":"How should you do this inside a SyncAdapter?","body":"How should you do this inside a SyncAdapter?"},{"owner":{"account_id":229582,"reputation":39898,"user_id":492624,"accept_rate":97,"display_name":"Marek Sebera"},"score":0,"creation_date":1367050032,"post_id":3028660,"comment_id":23249470,"body_markdown":"Isn&#39;t there option, without using `WRITE_EXTERNAL_STORAGE` permission? ad. http://stackoverflow.com/q/16210894/492624","body":"Isn&#39;t there option, without using <code>WRITE_EXTERNAL_STORAGE</code> permission? ad. <a href=\"http://stackoverflow.com/q/16210894/492624\">stackoverflow.com/q/16210894/492624</a>"},{"owner":{"account_id":560010,"reputation":17004,"user_id":922200,"accept_rate":58,"display_name":"Alfie Hanssen"},"score":0,"creation_date":1371576499,"post_id":3028660,"comment_id":24868645,"body_markdown":"Using the DownloadManager approach, what is the best way to report progress (bytes downloaded) and update a progress bar?","body":"Using the DownloadManager approach, what is the best way to report progress (bytes downloaded) and update a progress bar?"},{"owner":{"account_id":2464830,"reputation":1167,"user_id":2148172,"accept_rate":38,"display_name":"nawara"},"score":0,"creation_date":1371646179,"post_id":3028660,"comment_id":24896914,"body_markdown":"@Cristian it is possible to use one of those method to download file from my own PC and save it later on sd card using an url to web server like apache tomcat ..?","body":"@Cristian it is possible to use one of those method to download file from my own PC and save it later on sd card using an url to web server like apache tomcat ..?"},{"owner":{"account_id":88286,"reputation":198831,"user_id":244296,"accept_rate":86,"display_name":"Cristian"},"score":0,"creation_date":1371779855,"post_id":3028660,"comment_id":24958250,"body_markdown":"@Alfie I think you can use the `DownloadManager`&#39;s Content Provider: http://stackoverflow.com/questions/5069919/where-can-i-find-downloadmanagers-contentprovider-implementation","body":"@Alfie I think you can use the <code>DownloadManager</code>&#39;s Content Provider: <a href=\"http://stackoverflow.com/questions/5069919/where-can-i-find-downloadmanagers-contentprovider-implementation\" title=\"where can i find downloadmanagers contentprovider implementation\">stackoverflow.com/questions/5069919/&hellip;</a>"},{"owner":{"account_id":2101073,"reputation":1865,"user_id":1868680,"accept_rate":33,"display_name":"CoronaPintu"},"score":0,"creation_date":1381123728,"post_id":3028660,"comment_id":28440507,"body_markdown":"@Dowanload manager will not work in 2.2 then what is other way?","body":"@Dowanload manager will not work in 2.2 then what is other way?"},{"owner":{"account_id":480639,"reputation":572,"user_id":893986,"accept_rate":75,"display_name":"midnightstar"},"score":1,"creation_date":1388166392,"post_id":3028660,"comment_id":31192553,"body_markdown":"Why is the size of the byte buffer 4096 in the AsyncTask example? This means the buffer can store up to 4096 bytes at a time right?","body":"Why is the size of the byte buffer 4096 in the AsyncTask example? This means the buffer can store up to 4096 bytes at a time right?"},{"owner":{"account_id":88286,"reputation":198831,"user_id":244296,"accept_rate":86,"display_name":"Cristian"},"score":1,"creation_date":1388186147,"post_id":3028660,"comment_id":31199787,"body_markdown":"@midnightstar take a look at this: http://stackoverflow.com/questions/16067199/determining-appropriate-buffer-size there are more threads, if you want to expand on that.","body":"@midnightstar take a look at this: <a href=\"http://stackoverflow.com/questions/16067199/determining-appropriate-buffer-size\" title=\"determining appropriate buffer size\">stackoverflow.com/questions/16067199/&hellip;</a> there are more threads, if you want to expand on that."},{"owner":{"account_id":1031596,"reputation":401,"user_id":1039816,"accept_rate":31,"display_name":"Max The Cat"},"score":1,"creation_date":1389247167,"post_id":3028660,"comment_id":31582320,"body_markdown":"I&#39;ve used your &quot;Download from Service&quot; approach, but mProgressDialog, created in activity, is not getting updated. Progress handler is called with correct paramaters, but progress is not changing. What can be the issue?","body":"I&#39;ve used your &quot;Download from Service&quot; approach, but mProgressDialog, created in activity, is not getting updated. Progress handler is called with correct paramaters, but progress is not changing. What can be the issue?"},{"owner":{"account_id":1485204,"reputation":962,"user_id":1393620,"accept_rate":69,"display_name":"Marcel Marino"},"score":0,"creation_date":1392914108,"post_id":3028660,"comment_id":33189722,"body_markdown":"#1 is working for me sorta kinda. I switched it to &quot;Style_SPINNER&quot; to avoid having to show the progress, but I can&#39;t find anywhere to put  onPreExecute() and the other functions in that section. It says it runs on the UI thread, but when I place it there I get nothing but error messages. It works, but the Download progress dialog never goes away on its own, and that&#39;s problematic.","body":"#1 is working for me sorta kinda. I switched it to &quot;Style_SPINNER&quot; to avoid having to show the progress, but I can&#39;t find anywhere to put  onPreExecute() and the other functions in that section. It says it runs on the UI thread, but when I place it there I get nothing but error messages. It works, but the Download progress dialog never goes away on its own, and that&#39;s problematic."},{"owner":{"account_id":400295,"reputation":664,"user_id":766200,"accept_rate":56,"display_name":"amIT"},"score":0,"creation_date":1394734476,"post_id":3028660,"comment_id":34034381,"body_markdown":"havent seen such a through answer on stackoverflow in a while. thumbs up for Intent service  with  result reciever","body":"havent seen such a through answer on stackoverflow in a while. thumbs up for Intent service  with  result reciever"},{"owner":{"account_id":269580,"reputation":6383,"user_id":558991,"accept_rate":60,"display_name":"Nima"},"score":34,"creation_date":1396898962,"post_id":3028660,"comment_id":34986933,"body_markdown":"Don&#39;t hardcode /`sdcard/` use `Environment.getExternalStorageDirectory()` instead.","body":"Don&#39;t hardcode /<code>sdcard&#47;</code> use <code>Environment.getExternalStorageDirectory()</code> instead."},{"owner":{"account_id":3932877,"reputation":740,"user_id":3250600,"accept_rate":67,"display_name":"Saeed.re"},"score":0,"creation_date":1404126480,"post_id":3028660,"comment_id":37907254,"body_markdown":"How can I pause/stop the download process in Intent service method ?? check my question plz http://stackoverflow.com/questions/24480206/best-way-to-download-a-file-in-android-with","body":"How can I pause/stop the download process in Intent service method ?? check my question plz <a href=\"http://stackoverflow.com/questions/24480206/best-way-to-download-a-file-in-android-with\" title=\"best way to download a file in android with\">stackoverflow.com/questions/24480206/&hellip;</a>"},{"owner":{"account_id":1023865,"reputation":2105,"user_id":1033591,"accept_rate":77,"display_name":"Alston"},"score":0,"creation_date":1408947337,"post_id":3028660,"comment_id":39766008,"body_markdown":"Which approach should I adopt if I need to download lots of files at the same time? I&#39;m afraid the overhead of multi-threading would be very heavy.","body":"Which approach should I adopt if I need to download lots of files at the same time? I&#39;m afraid the overhead of multi-threading would be very heavy."},{"owner":{"account_id":1023865,"reputation":2105,"user_id":1033591,"accept_rate":77,"display_name":"Alston"},"score":0,"creation_date":1412063551,"post_id":3028660,"comment_id":40928473,"body_markdown":"@Cristian If a `progressbar` is shown within a listview and the user leave the page. In this time, the progressbar would detach the window and the progress information would lost. Any solution to address the issue? THANKS!","body":"@Cristian If a <code>progressbar</code> is shown within a listview and the user leave the page. In this time, the progressbar would detach the window and the progress information would lost. Any solution to address the issue? THANKS!"},{"owner":{"account_id":1173973,"reputation":5370,"user_id":1150434,"accept_rate":36,"display_name":"Nitesh Kumar"},"score":2,"creation_date":1413395778,"post_id":3028660,"comment_id":41431477,"body_markdown":"@Cristian Thanks for the great piece of code. I am implementing your 2nd approach &quot;Download from Service&quot;. Can you please tell me how to implement pause and resume feature in this? Since I am downloading large files, internet connection might break in between or the user may want to pause the download and resume later.","body":"@Cristian Thanks for the great piece of code. I am implementing your 2nd approach &quot;Download from Service&quot;. Can you please tell me how to implement pause and resume feature in this? Since I am downloading large files, internet connection might break in between or the user may want to pause the download and resume later."},{"owner":{"account_id":329085,"reputation":2202,"user_id":652410,"accept_rate":97,"display_name":"eoinzy"},"score":0,"creation_date":1415877707,"post_id":3028660,"comment_id":42365558,"body_markdown":"I&#39;m not even using this code, but +1 for putting in the effort of making such a good answer!!","body":"I&#39;m not even using this code, but +1 for putting in the effort of making such a good answer!!"},{"owner":{"account_id":163612,"reputation":5061,"user_id":385873,"display_name":"Fabiano"},"score":0,"creation_date":1424907306,"post_id":3028660,"comment_id":45749644,"body_markdown":"Take note that when using the 3rd option within a Java library separated from app, you will need to pass the Context object to the function that will use the method getSystemService. Using this statement alone will work only inside an Activity.","body":"Take note that when using the 3rd option within a Java library separated from app, you will need to pass the Context object to the function that will use the method getSystemService. Using this statement alone will work only inside an Activity."},{"owner":{"account_id":2102219,"reputation":1390,"user_id":1869531,"accept_rate":78,"display_name":"Romain"},"score":0,"creation_date":1427276927,"post_id":3028660,"comment_id":46708167,"body_markdown":"You will leak your context if the activity is killed.","body":"You will leak your context if the activity is killed."},{"owner":{"account_id":1164230,"reputation":3515,"user_id":1143172,"display_name":"icastell"},"score":0,"creation_date":1433870543,"post_id":3028660,"comment_id":49533585,"body_markdown":"For the 3 option take note that some Samsung Galaxy devices like S5 and S6 are returning false for the isDownloadManagerAvailable() call. I&#39;m speaking for my own experience, the best way to know if the DownloadManager is avaiable is simply checking the android version is above or equals to Gingerbread.","body":"For the 3 option take note that some Samsung Galaxy devices like S5 and S6 are returning false for the isDownloadManagerAvailable() call. I&#39;m speaking for my own experience, the best way to know if the DownloadManager is avaiable is simply checking the android version is above or equals to Gingerbread."},{"owner":{"account_id":115763,"reputation":1928,"user_id":303802,"display_name":"Debjit Saha"},"score":0,"creation_date":1439533243,"post_id":3028660,"comment_id":51909812,"body_markdown":"For method 1, if you are intitializing the progressbar in a fragment then do this:","body":"For method 1, if you are intitializing the progressbar in a fragment then do this:"},{"owner":{"account_id":3112144,"reputation":890,"user_id":2633704,"accept_rate":56,"display_name":"MSepehr"},"score":0,"creation_date":1440248138,"post_id":3028660,"comment_id":52200879,"body_markdown":"how could i send Authorization username and password with connection in method 2?","body":"how could i send Authorization username and password with connection in method 2?"},{"owner":{"account_id":4756254,"reputation":4369,"user_id":3844956,"accept_rate":43,"display_name":"zackygaurav"},"score":0,"creation_date":1448177112,"post_id":3028660,"comment_id":55469320,"body_markdown":"If you&#39;re using AsyncTask, replace `Exception` with `IOException` in catch block","body":"If you&#39;re using AsyncTask, replace <code>Exception</code> with <code>IOException</code> in catch block"},{"owner":{"account_id":1825090,"reputation":3563,"user_id":3828908,"accept_rate":69,"display_name":"Salmaan"},"score":0,"creation_date":1449551370,"post_id":3028660,"comment_id":56044332,"body_markdown":"Solution 1 is not working. First it downloads the data and then updates the progress dialog please see http://stackoverflow.com/questions/34134013/not-able-to-publish-progress-from-async-task-do-in-backgrounds-while-loop-and","body":"Solution 1 is not working. First it downloads the data and then updates the progress dialog please see <a href=\"http://stackoverflow.com/questions/34134013/not-able-to-publish-progress-from-async-task-do-in-backgrounds-while-loop-and\" title=\"not able to publish progress from async task do in backgrounds while loop and\">stackoverflow.com/questions/34134013/&hellip;</a>"},{"owner":{"account_id":1622277,"reputation":6199,"user_id":1498586,"accept_rate":66,"display_name":"Mahdi"},"score":0,"creation_date":1454151911,"post_id":3028660,"comment_id":57922924,"body_markdown":"hi, thanks for guid. Can we use both DownloadManager and Update Ui at same time?","body":"hi, thanks for guid. Can we use both DownloadManager and Update Ui at same time?"},{"owner":{"account_id":1456294,"reputation":4735,"user_id":1371792,"accept_rate":71,"display_name":"GreenROBO"},"score":0,"creation_date":1456306741,"post_id":3028660,"comment_id":58881545,"body_markdown":"@Cristian Worked on your solution No.2. It&#39;s working superb! now Suppose I&#39;ve started this DownloadService for File A, File B and File C. Now I want to Cancel Downloading file A. I am killing the process. It&#39;s killing it. but after that it&#39;s also not downloading File B and C. Can you please suggest me proper way. It&#39;s really important &amp; Urgent for me.","body":"@Cristian Worked on your solution No.2. It&#39;s working superb! now Suppose I&#39;ve started this DownloadService for File A, File B and File C. Now I want to Cancel Downloading file A. I am killing the process. It&#39;s killing it. but after that it&#39;s also not downloading File B and C. Can you please suggest me proper way. It&#39;s really important &amp; Urgent for me."},{"owner":{"account_id":1811667,"reputation":20415,"user_id":1647597,"accept_rate":100,"display_name":"Marko"},"score":0,"creation_date":1458562490,"post_id":3028660,"comment_id":59900047,"body_markdown":"@Cristian the Groundy link is dead, same goes for some of the links pointhing to GitHub on your SO profile. Just a heads up.","body":"@Cristian the Groundy link is dead, same goes for some of the links pointhing to GitHub on your SO profile. Just a heads up."},{"owner":{"account_id":4951203,"reputation":7272,"user_id":3985071,"accept_rate":54,"display_name":"Arpit Patel"},"score":0,"creation_date":1460042958,"post_id":3028660,"comment_id":60571324,"body_markdown":"I am getting minus value in progress  (logcat) when i upload in our server. If i take any random file link so it work perfectly","body":"I am getting minus value in progress  (logcat) when i upload in our server. If i take any random file link so it work perfectly"},{"owner":{"account_id":2193082,"reputation":8094,"user_id":1939564,"display_name":"Muhammad Babar"},"score":0,"creation_date":1470036656,"post_id":3028660,"comment_id":64765182,"body_markdown":"`Byte[] data = new byte[4096]` Can you please explain the function of data array more specifically its size (4096) purpose (what if i use 1024) and best practices?","body":"<code>Byte[] data = new byte[4096]</code> Can you please explain the function of data array more specifically its size (4096) purpose (what if i use 1024) and best practices?"},{"owner":{"account_id":2193082,"reputation":8094,"user_id":1939564,"display_name":"Muhammad Babar"},"score":0,"creation_date":1470133969,"post_id":3028660,"comment_id":64812122,"body_markdown":"For large files it throws `java.io.IOException: unexpected end of stream` any idea?","body":"For large files it throws <code>java.io.IOException: unexpected end of stream</code> any idea?"},{"owner":{"account_id":1850181,"reputation":885,"user_id":1676874,"accept_rate":39,"display_name":"user1676874"},"score":0,"creation_date":1484163289,"post_id":3028660,"comment_id":70401198,"body_markdown":"I know this has been here for a while now but, while executing the DownloadManager option I get an `IllegalArgumentException: Can only download HTTP/HTTPS URIs` while attempting to request a resource on the local network in the url, does anyone know how to make it work like that?","body":"I know this has been here for a while now but, while executing the DownloadManager option I get an <code>IllegalArgumentException: Can only download HTTP&#47;HTTPS URIs</code> while attempting to request a resource on the local network in the url, does anyone know how to make it work like that?"},{"owner":{"account_id":6180666,"reputation":373,"user_id":4816270,"display_name":"Pratik Saluja"},"score":1,"creation_date":1528440418,"post_id":3028660,"comment_id":88517521,"body_markdown":"Great tutorial. I want to learn how to achieve resume, pause and retry in AsyncTask for downloading ?","body":"Great tutorial. I want to learn how to achieve resume, pause and retry in AsyncTask for downloading ?"},{"owner":{"account_id":12343062,"reputation":2301,"user_id":9005383,"accept_rate":83,"display_name":"Tamim Attafi"},"score":0,"creation_date":1552210101,"post_id":3028660,"comment_id":96917557,"body_markdown":"Which of these approaches will keep downloading the file even if the application is killed or cleared from recents?","body":"Which of these approaches will keep downloading the file even if the application is killed or cleared from recents?"},{"owner":{"account_id":10715125,"reputation":477,"user_id":8228163,"display_name":"Edw590"},"score":0,"creation_date":1555198780,"post_id":3028660,"comment_id":98027836,"body_markdown":"Om the first version of the answer, can someone explain me why I get a NullPointerException on &quot;connection.connect();&quot;? I can&#39;t understand the problem! Tried on the Android Studio emulator and in my phone and it doesn&#39;t work! (KitKat btw)","body":"Om the first version of the answer, can someone explain me why I get a NullPointerException on &quot;connection.connect();&quot;? I can&#39;t understand the problem! Tried on the Android Studio emulator and in my phone and it doesn&#39;t work! (KitKat btw)"},{"owner":{"account_id":12575779,"reputation":701,"user_id":9148230,"display_name":"Akash Chaudhary"},"score":0,"creation_date":1575956203,"post_id":3028660,"comment_id":104730318,"body_markdown":"This method is deprecated  in API level 29 . So this is not working.","body":"This method is deprecated  in API level 29 . So this is not working."},{"owner":{"account_id":15287035,"reputation":774,"user_id":11029770,"display_name":"ConcernedHobbit"},"score":0,"creation_date":1576724914,"post_id":3028660,"comment_id":104994357,"body_markdown":"And here&#39;s a very handy resource in case you want to have a determinate progress bar ring/circle: https://www.youtube.com/watch?v=hSfN_aYKkzo","body":"And here&#39;s a very handy resource in case you want to have a determinate progress bar ring/circle: <a href=\"https://www.youtube.com/watch?v=hSfN_aYKkzo\" rel=\"nofollow noreferrer\">youtube.com/watch?v=hSfN_aYKkzo</a>"},{"owner":{"account_id":10860048,"reputation":107,"user_id":7985192,"accept_rate":67,"display_name":"Sriram Nadiminti"},"score":0,"creation_date":1604152913,"post_id":3028660,"comment_id":114262893,"body_markdown":"My search for many answers ended here. Async Task, Download file, declare permissions.. Thanks a ton.","body":"My search for many answers ended here. Async Task, Download file, declare permissions.. Thanks a ton."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1642138313,"post_id":3028660,"comment_id":124996676,"body_markdown":"you should not prefer using `/sdcard/` or `Environment.getExternalStorageDirectory()` and these might give error as they save in the `sdcard` and **Not all the devides have an `sdcard`**","body":"you should not prefer using <code>&#47;sdcard&#47;</code> or <code>Environment.getExternalStorageDirectory()</code> and these might give error as they save in the <code>sdcard</code> and <b>Not all the devides have an <code>sdcard</code></b>"}],"tags":[],"owner":{"account_id":88286,"reputation":198831,"user_id":244296,"accept_rate":86,"display_name":"Cristian"},"comment_count":57,"down_vote_count":2,"up_vote_count":1946,"is_accepted":true,"score":1944,"last_activity_date":1652503916,"creation_date":1276345825,"answer_id":3028660,"question_id":3028306,"body_markdown":"There are many ways to download files. Following I will post most common ways; it is up to you to decide which method is better for your app.\r\n\r\n1. Use `AsyncTask` and show the download progress in a dialog\r\n=============================================================\r\n\r\nThis method will allow you to execute some background processes and update the UI at the same time (in this case, we&#39;ll update a progress bar).\r\n\r\nImports:\r\n\r\n    import android.os.PowerManager;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.net.HttpURLConnection;\r\n  \r\n\r\n\r\n\r\nThis is an example code:\r\n\r\n    // declare the dialog as a member field of your activity\r\n    ProgressDialog mProgressDialog;\r\n\r\n    // instantiate it within the onCreate method\r\n    mProgressDialog = new ProgressDialog(YourActivity.this);\r\n    mProgressDialog.setMessage(&quot;A message&quot;);\r\n    mProgressDialog.setIndeterminate(true);\r\n    mProgressDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\r\n    mProgressDialog.setCancelable(true);\r\n\r\n    // execute this when the downloader must be fired\r\n    final DownloadTask downloadTask = new DownloadTask(YourActivity.this);\r\n    downloadTask.execute(&quot;the url to the file you want to download&quot;);\r\n\r\n    mProgressDialog.setOnCancelListener(new DialogInterface.OnCancelListener() {\r\n\r\n        @Override\r\n        public void onCancel(DialogInterface dialog) {\r\n            downloadTask.cancel(true); //cancel the task\r\n        }\r\n    });\r\n\r\n\r\nThe `AsyncTask` will look like this:\r\n    \r\n    // usually, subclasses of AsyncTask are declared inside the activity class.\r\n    // that way, you can easily modify the UI thread from here\r\n    private class DownloadTask extends AsyncTask&lt;String, Integer, String&gt; {\r\n\r\n        private Context context;\r\n        private PowerManager.WakeLock mWakeLock;\r\n\r\n        public DownloadTask(Context context) {\r\n            this.context = context;\r\n        }\r\n\r\n        @Override\r\n        protected String doInBackground(String... sUrl) {\r\n            InputStream input = null;\r\n            OutputStream output = null;\r\n            HttpURLConnection connection = null;\r\n            try {\r\n                URL url = new URL(sUrl[0]);\r\n                connection = (HttpURLConnection) url.openConnection();\r\n                connection.connect();\r\n    \r\n                // expect HTTP 200 OK, so we don&#39;t mistakenly save error report\r\n                // instead of the file\r\n                if (connection.getResponseCode() != HttpURLConnection.HTTP_OK) {\r\n                    return &quot;Server returned HTTP &quot; + connection.getResponseCode()\r\n                            + &quot; &quot; + connection.getResponseMessage();\r\n                }\r\n    \r\n                // this will be useful to display download percentage\r\n                // might be -1: server did not report the length\r\n                int fileLength = connection.getContentLength();\r\n    \r\n                // download the file\r\n                input = connection.getInputStream();\r\n                output = new FileOutputStream(&quot;/sdcard/file_name.extension&quot;);\r\n    \r\n                byte data[] = new byte[4096];\r\n                long total = 0;\r\n                int count;\r\n                while ((count = input.read(data)) != -1) {\r\n                    // allow canceling with back button\r\n                    if (isCancelled()) {\r\n                        input.close();\r\n                        return null;\r\n                    }\r\n                    total += count;\r\n                    // publishing the progress....\r\n                    if (fileLength &gt; 0) // only if total length is known\r\n                        publishProgress((int) (total * 100 / fileLength));\r\n                    output.write(data, 0, count);\r\n                }\r\n            } catch (Exception e) {\r\n                return e.toString();\r\n            } finally {\r\n                try {\r\n                    if (output != null)\r\n                        output.close();\r\n                    if (input != null)\r\n                        input.close();\r\n                } catch (IOException ignored) {\r\n                }\r\n    \r\n                if (connection != null)\r\n                    connection.disconnect();\r\n            }\r\n            return null;\r\n        }\r\n\r\nThe method above (`doInBackground`) runs always on a background thread. You shouldn&#39;t do any UI tasks there. On the other hand, the `onProgressUpdate` and `onPreExecute` run on the UI thread, so there you can change the progress bar:\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n            super.onPreExecute();\r\n            // take CPU lock to prevent CPU from going off if the user \r\n            // presses the power button during download\r\n            PowerManager pm = (PowerManager) context.getSystemService(Context.POWER_SERVICE);\r\n            mWakeLock = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,\r\n                 getClass().getName());\r\n            mWakeLock.acquire();\r\n            mProgressDialog.show();\r\n        }\r\n        \r\n        @Override\r\n        protected void onProgressUpdate(Integer... progress) {\r\n            super.onProgressUpdate(progress);\r\n            // if we get here, length is known, now set indeterminate to false\r\n            mProgressDialog.setIndeterminate(false);\r\n            mProgressDialog.setMax(100);\r\n            mProgressDialog.setProgress(progress[0]);\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String result) {\r\n            mWakeLock.release();\r\n            mProgressDialog.dismiss();\r\n            if (result != null)\r\n                Toast.makeText(context,&quot;Download error: &quot;+result, Toast.LENGTH_LONG).show();\r\n            else\r\n                Toast.makeText(context,&quot;File downloaded&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\nFor this to run, you need the WAKE_LOCK permission.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n\r\n2. Download from Service\r\n========================\r\n\r\nThe big question here is: *how do I update my activity from a service?*. In the next example we are going to use two classes you may not be aware of: `ResultReceiver` and `IntentService`. `ResultReceiver` is the one that will allow us to update our thread from a service; `IntentService` is a subclass of `Service` which spawns a thread to do background work from there (you should know that a `Service` runs actually in the same thread of your app; when you extends `Service`, you must manually spawn new threads to run CPU blocking operations).\r\n\r\nDownload service can look like this:\r\n\r\n    public class DownloadService extends IntentService {\r\n        public static final int UPDATE_PROGRESS = 8344;\r\n\r\n        public DownloadService() {\r\n            super(&quot;DownloadService&quot;);\r\n        }\r\n        @Override\r\n        protected void onHandleIntent(Intent intent) {\r\n\r\n            String urlToDownload = intent.getStringExtra(&quot;url&quot;);\r\n            ResultReceiver receiver = (ResultReceiver) intent.getParcelableExtra(&quot;receiver&quot;);\r\n            try {\r\n                \r\n                //create url and connect\r\n                URL url = new URL(urlToDownload);\r\n                URLConnection connection = url.openConnection();\r\n                connection.connect();\r\n\r\n                // this will be useful so that you can show a typical 0-100% progress bar\r\n                int fileLength = connection.getContentLength();\r\n    \r\n                // download the file\r\n                InputStream input = new BufferedInputStream(connection.getInputStream());\r\n\r\n                String path = &quot;/sdcard/BarcodeScanner-debug.apk&quot; ;\r\n                OutputStream output = new FileOutputStream(path);\r\n    \r\n                byte data[] = new byte[1024];\r\n                long total = 0;\r\n                int count;\r\n                while ((count = input.read(data)) != -1) {\r\n                    total += count;\r\n\r\n                    // publishing the progress....\r\n                    Bundle resultData = new Bundle();\r\n                    resultData.putInt(&quot;progress&quot; ,(int) (total * 100 / fileLength));\r\n                    receiver.send(UPDATE_PROGRESS, resultData);\r\n                    output.write(data, 0, count);\r\n                }\r\n\r\n                // close streams \r\n                output.flush();\r\n                output.close();\r\n                input.close();\r\n\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            Bundle resultData = new Bundle();\r\n            resultData.putInt(&quot;progress&quot; ,100);\r\n\r\n            receiver.send(UPDATE_PROGRESS, resultData);\r\n        }\r\n    }\r\n\r\nAdd the service to your manifest:\r\n\r\n    &lt;service android:name=&quot;.DownloadService&quot;/&gt;\r\n\r\nAnd the activity will look like this:\r\n\r\n    // initialize the progress dialog like in the first example\r\n\r\n    // this is how you fire the downloader\r\n    mProgressDialog.show();\r\n    Intent intent = new Intent(this, DownloadService.class);\r\n    intent.putExtra(&quot;url&quot;, &quot;url of the file to download&quot;);\r\n    intent.putExtra(&quot;receiver&quot;, new DownloadReceiver(new Handler()));\r\n    startService(intent);\r\n\r\nHere is were `ResultReceiver` comes to play:\r\n\r\n    private class DownloadReceiver extends ResultReceiver{\r\n\r\n        public DownloadReceiver(Handler handler) {\r\n            super(handler);\r\n        }\r\n\r\n        @Override\r\n        protected void onReceiveResult(int resultCode, Bundle resultData) {\r\n\r\n            super.onReceiveResult(resultCode, resultData);\r\n\r\n            if (resultCode == DownloadService.UPDATE_PROGRESS) {\r\n\r\n                int progress = resultData.getInt(&quot;progress&quot;); //get the progress\r\n                dialog.setProgress(progress);\r\n\r\n                if (progress == 100) {\r\n                    dialog.dismiss();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n## 2.1 Use Groundy library\r\n\r\n[**Groundy**][1] is a library that basically helps you run pieces of code in a background service, and it is based on the `ResultReceiver` concept shown above. This library is **deprecated** at the moment. This is how the **whole** code would look like:\r\n\r\nThe activity where you are showing the dialog...\r\n\r\n    public class MainActivity extends Activity {\r\n    \r\n        private ProgressDialog mProgressDialog;\r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.main);\r\n    \r\n            findViewById(R.id.btn_download).setOnClickListener(new View.OnClickListener() {\r\n                public void onClick(View view) {\r\n                    String url = ((EditText) findViewById(R.id.edit_url)).getText().toString().trim();\r\n                    Bundle extras = new Bundler().add(DownloadTask.PARAM_URL, url).build();\r\n                    Groundy.create(DownloadExample.this, DownloadTask.class)\r\n                            .receiver(mReceiver)\r\n                            .params(extras)\r\n                            .queue();\r\n    \r\n                    mProgressDialog = new ProgressDialog(MainActivity.this);\r\n                    mProgressDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\r\n                    mProgressDialog.setCancelable(false);\r\n                    mProgressDialog.show();\r\n                }\r\n            });\r\n        }\r\n    \r\n        private ResultReceiver mReceiver = new ResultReceiver(new Handler()) {\r\n            @Override\r\n            protected void onReceiveResult(int resultCode, Bundle resultData) {\r\n                super.onReceiveResult(resultCode, resultData);\r\n                switch (resultCode) {\r\n                    case Groundy.STATUS_PROGRESS:\r\n                        mProgressDialog.setProgress(resultData.getInt(Groundy.KEY_PROGRESS));\r\n                        break;\r\n                    case Groundy.STATUS_FINISHED:\r\n                        Toast.makeText(DownloadExample.this, R.string.file_downloaded, Toast.LENGTH_LONG);\r\n                        mProgressDialog.dismiss();\r\n                        break;\r\n                    case Groundy.STATUS_ERROR:\r\n                        Toast.makeText(DownloadExample.this, resultData.getString(Groundy.KEY_ERROR), Toast.LENGTH_LONG).show();\r\n                        mProgressDialog.dismiss();\r\n                        break;\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\nA `GroundyTask` implementation used by **Groundy** to download the file and show the progress:\r\n\r\n    public class DownloadTask extends GroundyTask {    \r\n        public static final String PARAM_URL = &quot;com.groundy.sample.param.url&quot;;\r\n\r\n        @Override\r\n        protected boolean doInBackground() {\r\n            try {\r\n                String url = getParameters().getString(PARAM_URL);\r\n                File dest = new File(getContext().getFilesDir(), new File(url).getName());\r\n                DownloadUtils.downloadFile(getContext(), url, dest, DownloadUtils.getDownloadListenerForTask(this));\r\n                return true;\r\n            } catch (Exception pokemon) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n\r\nAnd just add this to the manifest:\r\n\r\n    &lt;service android:name=&quot;com.codeslap.groundy.GroundyService&quot;/&gt;\r\n\r\nIt couldn&#39;t be easier I think. Just grab the latest jar [from Github][2] and you are ready to go. Keep in mind that **Groundy**&#39;s main purpose is to make calls to external REST apis in a background service and post results to the UI with easily. If you are doing something like that in your app, it could be really useful.\r\n\r\n## 2.2 Use https://github.com/koush/ion\r\n\r\n3. Use `DownloadManager` class (`GingerBread` and newer only)\r\n=============================================================\r\n\r\nGingerBread brought a new feature, `DownloadManager`, which allows you to download files easily and delegate the hard work of handling threads, streams, etc. to the system.\r\n\r\nFirst, let&#39;s see a utility method:\r\n\r\n    /**\r\n     * @param context used to check the device version and DownloadManager information\r\n     * @return true if the download manager is available\r\n     */\r\n    public static boolean isDownloadManagerAvailable(Context context) {\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.GINGERBREAD) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\nMethod&#39;s name explains it all. Once you are sure `DownloadManager` is available, you can do something like this:\r\n\r\n    String url = &quot;url you want to download&quot;;\r\n    DownloadManager.Request request = new DownloadManager.Request(Uri.parse(url));\r\n    request.setDescription(&quot;Some descrition&quot;);\r\n    request.setTitle(&quot;Some title&quot;);\r\n    // in order for this if to run, you must use the android 3.2 to compile your app\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB) {\r\n        request.allowScanningByMediaScanner();\r\n        request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\r\n    }\r\n    request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, &quot;name-of-the-file.ext&quot;);\r\n\r\n    // get download service and enqueue file\r\n    DownloadManager manager = (DownloadManager) getSystemService(Context.DOWNLOAD_SERVICE);\r\n    manager.enqueue(request);\r\n\r\nDownload progress will be showing in the notification bar.\r\n\r\nFinal thoughts\r\n==============\r\n\r\nFirst and second methods are just the tip of the iceberg. There are lots of things you have to keep in mind if you want your app to be robust. Here is a brief list:\r\n\r\n- You must check whether user has an internet connection available\r\n- Make sure you have the right permissions (`INTERNET` and `WRITE_EXTERNAL_STORAGE`); also `ACCESS_NETWORK_STATE` if you want to check internet availability.\r\n- Make sure the directory were you are going to download files exist and has write permissions.\r\n- If download is too big you may want to implement a way to resume the download if previous attempts failed.\r\n- Users will be grateful if you allow them to interrupt the download.\r\n\r\nUnless you need detailed control of the download process, then consider using `DownloadManager` (3) because it already handles most of the items listed above.\r\n\r\nBut also consider that your needs may change. For example, `DownloadManager` [does no response caching][dmNoCache]. It will blindly download the same big file multiple times. There&#39;s no easy way to fix it after the fact. Where if you start with a basic `HttpURLConnection` (1, 2), then all you need is to add an `HttpResponseCache`. So the initial effort of learning the basic, standard tools can be a good investment.\r\n\r\n  [dmNoCache]: https://stackoverflow.com/questions/35191718\r\n\r\n\r\n&gt; This class was deprecated in API level 26. ProgressDialog is a modal\r\n&gt; dialog, which prevents the user from interacting with the app. Instead\r\n&gt; of using this class, you should use a progress indicator like\r\n&gt; ProgressBar, which can be embedded in your app&#39;s UI. Alternatively,\r\n&gt; you can use a notification to inform the user of the task&#39;s progress. For more details [Link][3]\r\n\r\n\r\n  [1]: http://github.com/casidiablo/groundy\r\n  [2]: https://github.com/casidiablo/groundy/downloads\r\n  [3]: https://developer.android.com/reference/android/app/ProgressDialog","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>There are many ways to download files. Following I will post most common ways; it is up to you to decide which method is better for your app.</p>\n<ol>\n<li>Use <code>AsyncTask</code> and show the download progress in a dialog\n=============================================================</li>\n</ol>\n<p>This method will allow you to execute some background processes and update the UI at the same time (in this case, we'll update a progress bar).</p>\n<p>Imports:</p>\n<pre><code>import android.os.PowerManager;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.io.FileOutputStream;\nimport java.net.HttpURLConnection;\n</code></pre>\n<p>This is an example code:</p>\n<pre><code>// declare the dialog as a member field of your activity\nProgressDialog mProgressDialog;\n\n// instantiate it within the onCreate method\nmProgressDialog = new ProgressDialog(YourActivity.this);\nmProgressDialog.setMessage(&quot;A message&quot;);\nmProgressDialog.setIndeterminate(true);\nmProgressDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\nmProgressDialog.setCancelable(true);\n\n// execute this when the downloader must be fired\nfinal DownloadTask downloadTask = new DownloadTask(YourActivity.this);\ndownloadTask.execute(&quot;the url to the file you want to download&quot;);\n\nmProgressDialog.setOnCancelListener(new DialogInterface.OnCancelListener() {\n\n    @Override\n    public void onCancel(DialogInterface dialog) {\n        downloadTask.cancel(true); //cancel the task\n    }\n});\n</code></pre>\n<p>The <code>AsyncTask</code> will look like this:</p>\n<pre><code>// usually, subclasses of AsyncTask are declared inside the activity class.\n// that way, you can easily modify the UI thread from here\nprivate class DownloadTask extends AsyncTask&lt;String, Integer, String&gt; {\n\n    private Context context;\n    private PowerManager.WakeLock mWakeLock;\n\n    public DownloadTask(Context context) {\n        this.context = context;\n    }\n\n    @Override\n    protected String doInBackground(String... sUrl) {\n        InputStream input = null;\n        OutputStream output = null;\n        HttpURLConnection connection = null;\n        try {\n            URL url = new URL(sUrl[0]);\n            connection = (HttpURLConnection) url.openConnection();\n            connection.connect();\n\n            // expect HTTP 200 OK, so we don't mistakenly save error report\n            // instead of the file\n            if (connection.getResponseCode() != HttpURLConnection.HTTP_OK) {\n                return &quot;Server returned HTTP &quot; + connection.getResponseCode()\n                        + &quot; &quot; + connection.getResponseMessage();\n            }\n\n            // this will be useful to display download percentage\n            // might be -1: server did not report the length\n            int fileLength = connection.getContentLength();\n\n            // download the file\n            input = connection.getInputStream();\n            output = new FileOutputStream(&quot;/sdcard/file_name.extension&quot;);\n\n            byte data[] = new byte[4096];\n            long total = 0;\n            int count;\n            while ((count = input.read(data)) != -1) {\n                // allow canceling with back button\n                if (isCancelled()) {\n                    input.close();\n                    return null;\n                }\n                total += count;\n                // publishing the progress....\n                if (fileLength &gt; 0) // only if total length is known\n                    publishProgress((int) (total * 100 / fileLength));\n                output.write(data, 0, count);\n            }\n        } catch (Exception e) {\n            return e.toString();\n        } finally {\n            try {\n                if (output != null)\n                    output.close();\n                if (input != null)\n                    input.close();\n            } catch (IOException ignored) {\n            }\n\n            if (connection != null)\n                connection.disconnect();\n        }\n        return null;\n    }\n</code></pre>\n<p>The method above (<code>doInBackground</code>) runs always on a background thread. You shouldn't do any UI tasks there. On the other hand, the <code>onProgressUpdate</code> and <code>onPreExecute</code> run on the UI thread, so there you can change the progress bar:</p>\n<pre><code>    @Override\n    protected void onPreExecute() {\n        super.onPreExecute();\n        // take CPU lock to prevent CPU from going off if the user \n        // presses the power button during download\n        PowerManager pm = (PowerManager) context.getSystemService(Context.POWER_SERVICE);\n        mWakeLock = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,\n             getClass().getName());\n        mWakeLock.acquire();\n        mProgressDialog.show();\n    }\n    \n    @Override\n    protected void onProgressUpdate(Integer... progress) {\n        super.onProgressUpdate(progress);\n        // if we get here, length is known, now set indeterminate to false\n        mProgressDialog.setIndeterminate(false);\n        mProgressDialog.setMax(100);\n        mProgressDialog.setProgress(progress[0]);\n    }\n\n    @Override\n    protected void onPostExecute(String result) {\n        mWakeLock.release();\n        mProgressDialog.dismiss();\n        if (result != null)\n            Toast.makeText(context,&quot;Download error: &quot;+result, Toast.LENGTH_LONG).show();\n        else\n            Toast.makeText(context,&quot;File downloaded&quot;, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n<p>For this to run, you need the WAKE_LOCK permission.</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Download from Service\n========================</li>\n</ol>\n<p>The big question here is: <em>how do I update my activity from a service?</em>. In the next example we are going to use two classes you may not be aware of: <code>ResultReceiver</code> and <code>IntentService</code>. <code>ResultReceiver</code> is the one that will allow us to update our thread from a service; <code>IntentService</code> is a subclass of <code>Service</code> which spawns a thread to do background work from there (you should know that a <code>Service</code> runs actually in the same thread of your app; when you extends <code>Service</code>, you must manually spawn new threads to run CPU blocking operations).</p>\n<p>Download service can look like this:</p>\n<pre><code>public class DownloadService extends IntentService {\n    public static final int UPDATE_PROGRESS = 8344;\n\n    public DownloadService() {\n        super(&quot;DownloadService&quot;);\n    }\n    @Override\n    protected void onHandleIntent(Intent intent) {\n\n        String urlToDownload = intent.getStringExtra(&quot;url&quot;);\n        ResultReceiver receiver = (ResultReceiver) intent.getParcelableExtra(&quot;receiver&quot;);\n        try {\n            \n            //create url and connect\n            URL url = new URL(urlToDownload);\n            URLConnection connection = url.openConnection();\n            connection.connect();\n\n            // this will be useful so that you can show a typical 0-100% progress bar\n            int fileLength = connection.getContentLength();\n\n            // download the file\n            InputStream input = new BufferedInputStream(connection.getInputStream());\n\n            String path = &quot;/sdcard/BarcodeScanner-debug.apk&quot; ;\n            OutputStream output = new FileOutputStream(path);\n\n            byte data[] = new byte[1024];\n            long total = 0;\n            int count;\n            while ((count = input.read(data)) != -1) {\n                total += count;\n\n                // publishing the progress....\n                Bundle resultData = new Bundle();\n                resultData.putInt(&quot;progress&quot; ,(int) (total * 100 / fileLength));\n                receiver.send(UPDATE_PROGRESS, resultData);\n                output.write(data, 0, count);\n            }\n\n            // close streams \n            output.flush();\n            output.close();\n            input.close();\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        Bundle resultData = new Bundle();\n        resultData.putInt(&quot;progress&quot; ,100);\n\n        receiver.send(UPDATE_PROGRESS, resultData);\n    }\n}\n</code></pre>\n<p>Add the service to your manifest:</p>\n<pre><code>&lt;service android:name=&quot;.DownloadService&quot;/&gt;\n</code></pre>\n<p>And the activity will look like this:</p>\n<pre><code>// initialize the progress dialog like in the first example\n\n// this is how you fire the downloader\nmProgressDialog.show();\nIntent intent = new Intent(this, DownloadService.class);\nintent.putExtra(&quot;url&quot;, &quot;url of the file to download&quot;);\nintent.putExtra(&quot;receiver&quot;, new DownloadReceiver(new Handler()));\nstartService(intent);\n</code></pre>\n<p>Here is were <code>ResultReceiver</code> comes to play:</p>\n<pre><code>private class DownloadReceiver extends ResultReceiver{\n\n    public DownloadReceiver(Handler handler) {\n        super(handler);\n    }\n\n    @Override\n    protected void onReceiveResult(int resultCode, Bundle resultData) {\n\n        super.onReceiveResult(resultCode, resultData);\n\n        if (resultCode == DownloadService.UPDATE_PROGRESS) {\n\n            int progress = resultData.getInt(&quot;progress&quot;); //get the progress\n            dialog.setProgress(progress);\n\n            if (progress == 100) {\n                dialog.dismiss();\n            }\n        }\n    }\n}\n</code></pre>\n<h2>2.1 Use Groundy library</h2>\n<p><a href=\"http://github.com/casidiablo/groundy\" rel=\"noreferrer\"><strong>Groundy</strong></a> is a library that basically helps you run pieces of code in a background service, and it is based on the <code>ResultReceiver</code> concept shown above. This library is <strong>deprecated</strong> at the moment. This is how the <strong>whole</strong> code would look like:</p>\n<p>The activity where you are showing the dialog...</p>\n<pre><code>public class MainActivity extends Activity {\n\n    private ProgressDialog mProgressDialog;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n\n        findViewById(R.id.btn_download).setOnClickListener(new View.OnClickListener() {\n            public void onClick(View view) {\n                String url = ((EditText) findViewById(R.id.edit_url)).getText().toString().trim();\n                Bundle extras = new Bundler().add(DownloadTask.PARAM_URL, url).build();\n                Groundy.create(DownloadExample.this, DownloadTask.class)\n                        .receiver(mReceiver)\n                        .params(extras)\n                        .queue();\n\n                mProgressDialog = new ProgressDialog(MainActivity.this);\n                mProgressDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\n                mProgressDialog.setCancelable(false);\n                mProgressDialog.show();\n            }\n        });\n    }\n\n    private ResultReceiver mReceiver = new ResultReceiver(new Handler()) {\n        @Override\n        protected void onReceiveResult(int resultCode, Bundle resultData) {\n            super.onReceiveResult(resultCode, resultData);\n            switch (resultCode) {\n                case Groundy.STATUS_PROGRESS:\n                    mProgressDialog.setProgress(resultData.getInt(Groundy.KEY_PROGRESS));\n                    break;\n                case Groundy.STATUS_FINISHED:\n                    Toast.makeText(DownloadExample.this, R.string.file_downloaded, Toast.LENGTH_LONG);\n                    mProgressDialog.dismiss();\n                    break;\n                case Groundy.STATUS_ERROR:\n                    Toast.makeText(DownloadExample.this, resultData.getString(Groundy.KEY_ERROR), Toast.LENGTH_LONG).show();\n                    mProgressDialog.dismiss();\n                    break;\n            }\n        }\n    };\n}\n</code></pre>\n<p>A <code>GroundyTask</code> implementation used by <strong>Groundy</strong> to download the file and show the progress:</p>\n<pre><code>public class DownloadTask extends GroundyTask {    \n    public static final String PARAM_URL = &quot;com.groundy.sample.param.url&quot;;\n\n    @Override\n    protected boolean doInBackground() {\n        try {\n            String url = getParameters().getString(PARAM_URL);\n            File dest = new File(getContext().getFilesDir(), new File(url).getName());\n            DownloadUtils.downloadFile(getContext(), url, dest, DownloadUtils.getDownloadListenerForTask(this));\n            return true;\n        } catch (Exception pokemon) {\n            return false;\n        }\n    }\n}\n</code></pre>\n<p>And just add this to the manifest:</p>\n<pre><code>&lt;service android:name=&quot;com.codeslap.groundy.GroundyService&quot;/&gt;\n</code></pre>\n<p>It couldn't be easier I think. Just grab the latest jar <a href=\"https://github.com/casidiablo/groundy/downloads\" rel=\"noreferrer\">from Github</a> and you are ready to go. Keep in mind that <strong>Groundy</strong>'s main purpose is to make calls to external REST apis in a background service and post results to the UI with easily. If you are doing something like that in your app, it could be really useful.</p>\n<h2>2.2 Use <a href=\"https://github.com/koush/ion\" rel=\"noreferrer\">https://github.com/koush/ion</a></h2>\n<ol start=\"3\">\n<li>Use <code>DownloadManager</code> class (<code>GingerBread</code> and newer only)\n=============================================================</li>\n</ol>\n<p>GingerBread brought a new feature, <code>DownloadManager</code>, which allows you to download files easily and delegate the hard work of handling threads, streams, etc. to the system.</p>\n<p>First, let's see a utility method:</p>\n<pre><code>/**\n * @param context used to check the device version and DownloadManager information\n * @return true if the download manager is available\n */\npublic static boolean isDownloadManagerAvailable(Context context) {\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.GINGERBREAD) {\n        return true;\n    }\n    return false;\n}\n</code></pre>\n<p>Method's name explains it all. Once you are sure <code>DownloadManager</code> is available, you can do something like this:</p>\n<pre><code>String url = &quot;url you want to download&quot;;\nDownloadManager.Request request = new DownloadManager.Request(Uri.parse(url));\nrequest.setDescription(&quot;Some descrition&quot;);\nrequest.setTitle(&quot;Some title&quot;);\n// in order for this if to run, you must use the android 3.2 to compile your app\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB) {\n    request.allowScanningByMediaScanner();\n    request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\n}\nrequest.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, &quot;name-of-the-file.ext&quot;);\n\n// get download service and enqueue file\nDownloadManager manager = (DownloadManager) getSystemService(Context.DOWNLOAD_SERVICE);\nmanager.enqueue(request);\n</code></pre>\n<p>Download progress will be showing in the notification bar.</p>\n<h1>Final thoughts</h1>\n<p>First and second methods are just the tip of the iceberg. There are lots of things you have to keep in mind if you want your app to be robust. Here is a brief list:</p>\n<ul>\n<li>You must check whether user has an internet connection available</li>\n<li>Make sure you have the right permissions (<code>INTERNET</code> and <code>WRITE_EXTERNAL_STORAGE</code>); also <code>ACCESS_NETWORK_STATE</code> if you want to check internet availability.</li>\n<li>Make sure the directory were you are going to download files exist and has write permissions.</li>\n<li>If download is too big you may want to implement a way to resume the download if previous attempts failed.</li>\n<li>Users will be grateful if you allow them to interrupt the download.</li>\n</ul>\n<p>Unless you need detailed control of the download process, then consider using <code>DownloadManager</code> (3) because it already handles most of the items listed above.</p>\n<p>But also consider that your needs may change. For example, <code>DownloadManager</code> <a href=\"https://stackoverflow.com/questions/35191718\">does no response caching</a>. It will blindly download the same big file multiple times. There's no easy way to fix it after the fact. Where if you start with a basic <code>HttpURLConnection</code> (1, 2), then all you need is to add an <code>HttpResponseCache</code>. So the initial effort of learning the basic, standard tools can be a good investment.</p>\n<blockquote>\n<p>This class was deprecated in API level 26. ProgressDialog is a modal\ndialog, which prevents the user from interacting with the app. Instead\nof using this class, you should use a progress indicator like\nProgressBar, which can be embedded in your app's UI. Alternatively,\nyou can use a notification to inform the user of the task's progress. For more details <a href=\"https://developer.android.com/reference/android/app/ProgressDialog\" rel=\"noreferrer\">Link</a></p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":3902848,"reputation":2777,"user_id":3230218,"display_name":"Reinstate Monica"},"score":3,"creation_date":1526566649,"post_id":7231565,"comment_id":87803186,"body_markdown":"I&#39;m pretty sure you don&#39;t need READ_PHONE_STATE and you definitely don&#39;t need WRITE_EXTERNAL_STORAGE; it&#39;s a dangerous permission that can be avoided by using the Storage Access Framework.","body":"I&#39;m pretty sure you don&#39;t need READ_PHONE_STATE and you definitely don&#39;t need WRITE_EXTERNAL_STORAGE; it&#39;s a dangerous permission that can be avoided by using the Storage Access Framework."}],"tags":[],"owner":{"account_id":797594,"reputation":1409,"user_id":902632,"display_name":"Mnightmare"},"comment_count":1,"down_vote_count":2,"up_vote_count":115,"is_accepted":false,"score":113,"last_activity_date":1429911744,"creation_date":1314628490,"answer_id":7231565,"question_id":3028306,"body_markdown":"Don&#39;t forget to add permissions to your manifest file if you&#39;re gonna be downloading stuff from the internet!\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.helloandroid&quot;\r\n        android:versionCode=&quot;1&quot;\r\n        android:versionName=&quot;1.0&quot;&gt;\r\n\r\n            &lt;uses-sdk android:minSdkVersion=&quot;10&quot; /&gt;\r\n        \r\n            &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;&gt;&lt;/uses-permission&gt;\r\n            &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt;\r\n            &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;&gt;&lt;/uses-permission&gt;\r\n            &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot;&gt;&lt;/uses-permission&gt;\r\n        \r\n            &lt;application \r\n                android:icon=&quot;@drawable/icon&quot; \r\n                android:label=&quot;@string/app_name&quot; \r\n                android:debuggable=&quot;true&quot;&gt;\r\n\r\n            &lt;/application&gt;\r\n\r\n    &lt;/manifest&gt;","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>Don't forget to add permissions to your manifest file if you're gonna be downloading stuff from the internet!</p>\n\n<pre><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.example.helloandroid\"\n    android:versionCode=\"1\"\n    android:versionName=\"1.0\"&gt;\n\n        &lt;uses-sdk android:minSdkVersion=\"10\" /&gt;\n\n        &lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"&gt;&lt;/uses-permission&gt;\n        &lt;uses-permission android:name=\"android.permission.INTERNET\"&gt;&lt;/uses-permission&gt;\n        &lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"&gt;&lt;/uses-permission&gt;\n        &lt;uses-permission android:name=\"android.permission.READ_PHONE_STATE\"&gt;&lt;/uses-permission&gt;\n\n        &lt;application \n            android:icon=\"@drawable/icon\" \n            android:label=\"@string/app_name\" \n            android:debuggable=\"true\"&gt;\n\n        &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1516169,"reputation":1525,"user_id":1417127,"accept_rate":80,"display_name":"user1417127"},"score":1,"creation_date":1341902602,"post_id":10998649,"comment_id":15042956,"body_markdown":"This is exactly my problem. Can you tell me how to do a timer task to update progressbar? How to get values updating from the AsyncTask running behind","body":"This is exactly my problem. Can you tell me how to do a timer task to update progressbar? How to get values updating from the AsyncTask running behind"},{"owner":{"account_id":483178,"reputation":3024,"user_id":898057,"accept_rate":76,"display_name":"sheetal"},"score":2,"creation_date":1341927631,"post_id":10998649,"comment_id":15053588,"body_markdown":"okk take a global or static variable to where to update your values from asynctask...or u can insert it in DataBase for safe side..so that closing application wont hamper..And when u restart the activity where u want to update ur UI run the UI thread..see example below","body":"okk take a global or static variable to where to update your values from asynctask...or u can insert it in DataBase for safe side..so that closing application wont hamper..And when u restart the activity where u want to update ur UI run the UI thread..see example below"},{"owner":{"account_id":483178,"reputation":3024,"user_id":898057,"accept_rate":76,"display_name":"sheetal"},"score":0,"creation_date":1341928391,"post_id":10998649,"comment_id":15054042,"body_markdown":"The UI should have the fresh reference..Like the newly initalized ProgressBar in my case","body":"The UI should have the fresh reference..Like the newly initalized ProgressBar in my case"},{"owner":{"account_id":220650,"reputation":1870,"user_id":478162,"accept_rate":36,"display_name":"Behzad"},"score":0,"creation_date":1361396130,"post_id":10998649,"comment_id":21053202,"body_markdown":"@sheetal, But It works fine without your code! Why?! My device is Xperia P with Android 4.0.4. I&#39;ve defined a static boolean variable that the onPreExecute sets it to true and the onPostExecute sets it to false. It shows that we are downloading or not, so we can check if the variable is equal to true, show the previous progressbar dialog.","body":"@sheetal, But It works fine without your code! Why?! My device is Xperia P with Android 4.0.4. I&#39;ve defined a static boolean variable that the onPreExecute sets it to true and the onPostExecute sets it to false. It shows that we are downloading or not, so we can check if the variable is equal to true, show the previous progressbar dialog."},{"owner":{"account_id":930068,"reputation":1714,"user_id":960097,"accept_rate":69,"display_name":"iSun"},"score":0,"creation_date":1362583636,"post_id":10998649,"comment_id":21507634,"body_markdown":"@sheetal your code is little obscurant, can you tell me some advice?","body":"@sheetal your code is little obscurant, can you tell me some advice?"},{"owner":{"account_id":483178,"reputation":3024,"user_id":898057,"accept_rate":76,"display_name":"sheetal"},"score":0,"creation_date":1363070067,"post_id":10998649,"comment_id":21691772,"body_markdown":"@iSun nothing as such i was facing the same problem..i solved it this way and shared it.It can be done better obviously but opinions are open here and so is mine..Thanks neways","body":"@iSun nothing as such i was facing the same problem..i solved it this way and shared it.It can be done better obviously but opinions are open here and so is mine..Thanks neways"},{"owner":{"account_id":483178,"reputation":3024,"user_id":898057,"accept_rate":76,"display_name":"sheetal"},"score":0,"creation_date":1363070201,"post_id":10998649,"comment_id":21691816,"body_markdown":"@Behzad yeah wat u said is correct but i am working with Froyo and gingerbreads where Asynctasks were killed without notification for memory issues so i was to resume file downloads if such happens..So for safe side i had the percentage downloads in DataBase","body":"@Behzad yeah wat u said is correct but i am working with Froyo and gingerbreads where Asynctasks were killed without notification for memory issues so i was to resume file downloads if such happens..So for safe side i had the percentage downloads in DataBase"}],"tags":[],"owner":{"account_id":483178,"reputation":3024,"user_id":898057,"accept_rate":76,"display_name":"sheetal"},"comment_count":7,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1482945273,"creation_date":1339510918,"answer_id":10998649,"question_id":3028306,"body_markdown":"Yes the code above will work .But if you are updating your `progressbar` in `onProgressUpdate` of `Asynctask`  and you press back button or finish your activity `AsyncTask` looses its track with your UI .And when you go back to your activity, even if  download is running in background you will see no update on progressbar. So on `OnResume()` try to run a thread like `runOnUIThread` with   a timer task that updates ur `progressbar` with values updating from the `AsyncTask` running background.\r\n\r\n\r\n    private void updateProgressBar(){\r\n        Runnable runnable = new updateProgress();\r\n\t\tbackground = new Thread(runnable);\r\n\t\tbackground.start();\r\n\t}\r\n\r\n    public class updateProgress implements Runnable {\r\n        public void run() {\r\n            while(Thread.currentThread()==background)\r\n\t\t\t\t//while (!Thread.currentThread().isInterrupted()) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep(1000); \r\n\t\t\t\t\tMessage msg = new Message();\r\n\t\t\t\t\tprogress = getProgressPercentage();        \r\n\t\t\t\t\thandler.sendMessage(msg);\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\tThread.currentThread().interrupt();\r\n\t\t\t\t} catch (Exception e) {\r\n\t        }\r\n\t\t}\r\n\t}\r\n\r\n\tprivate Handler handler = new Handler(){\r\n\t\t@Override\r\n\t\tpublic void handleMessage(Message msg) {\r\n\t\t\tprogress.setProgress(msg.what);\r\n\t\t}\r\n\t};\r\n\r\nDon&#39;t forget to **Destroy** the thread when ur activity is not visible.\r\n\r\n    private void destroyRunningThreads() {\r\n\t\tif (background != null) {\r\n            background.interrupt();\r\n\t\t\tbackground=null;\r\n        }\r\n    }","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>Yes the code above will work .But if you are updating your <code>progressbar</code> in <code>onProgressUpdate</code> of <code>Asynctask</code>  and you press back button or finish your activity <code>AsyncTask</code> looses its track with your UI .And when you go back to your activity, even if  download is running in background you will see no update on progressbar. So on <code>OnResume()</code> try to run a thread like <code>runOnUIThread</code> with   a timer task that updates ur <code>progressbar</code> with values updating from the <code>AsyncTask</code> running background.</p>\n\n<pre><code>private void updateProgressBar(){\n    Runnable runnable = new updateProgress();\n    background = new Thread(runnable);\n    background.start();\n}\n\npublic class updateProgress implements Runnable {\n    public void run() {\n        while(Thread.currentThread()==background)\n            //while (!Thread.currentThread().isInterrupted()) {\n            try {\n                Thread.sleep(1000); \n                Message msg = new Message();\n                progress = getProgressPercentage();        \n                handler.sendMessage(msg);\n            } catch (InterruptedException e) {\n                Thread.currentThread().interrupt();\n            } catch (Exception e) {\n        }\n    }\n}\n\nprivate Handler handler = new Handler(){\n    @Override\n    public void handleMessage(Message msg) {\n        progress.setProgress(msg.what);\n    }\n};\n</code></pre>\n\n<p>Don't forget to <strong>Destroy</strong> the thread when ur activity is not visible.</p>\n\n<pre><code>private void destroyRunningThreads() {\n    if (background != null) {\n        background.interrupt();\n        background=null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":348658,"reputation":2994,"user_id":683482,"accept_rate":77,"display_name":"Jeff Bootsholz"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1401441420,"creation_date":1372785068,"answer_id":17431725,"question_id":3028306,"body_markdown":"My personal advice is to use **Progress Dialog** and build up before execution , or initiate at `OnPreExecute()` , publish progress often if you use horizontal style of progress bar of the progress dialog. The remaining part is to optimize the algorithm of `doInBackground`.","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>My personal advice is to use <strong>Progress Dialog</strong> and build up before execution , or initiate at <code>OnPreExecute()</code> , publish progress often if you use horizontal style of progress bar of the progress dialog. The remaining part is to optimize the algorithm of <code>doInBackground</code>.</p>\n"},{"comments":[{"owner":{"account_id":1778539,"reputation":1725,"user_id":1621806,"accept_rate":48,"display_name":"Nirav Mehta"},"score":0,"creation_date":1397110190,"post_id":21667032,"comment_id":35091883,"body_markdown":"In part 2 Download from service Progress dialog can not display progress increment. it direct return 100,so if 100 it direct check setprogress 100 and progress over, how to increment progress ??it display only 0 progress but actually download running","body":"In part 2 Download from service Progress dialog can not display progress increment. it direct return 100,so if 100 it direct check setprogress 100 and progress over, how to increment progress ??it display only 0 progress but actually download running"},{"owner":{"account_id":1778539,"reputation":1725,"user_id":1621806,"accept_rate":48,"display_name":"Nirav Mehta"},"score":0,"creation_date":1397110506,"post_id":21667032,"comment_id":35092022,"body_markdown":"it display only 0% out of 100 only other work properly","body":"it display only 0% out of 100 only other work properly"},{"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"score":14,"creation_date":1397527332,"post_id":21667032,"comment_id":35262140,"body_markdown":"Do not do it! There is `Environment.getExternalStorageDirectory().getAbsolutePath()` for getting a path to sdcard. Also don&#39;t forget to check if the external storage is mounted - `Environment.getExternalStorageState().equals(Environment.MEDIA_MOUNTED)` ([Mannaz](http://stackoverflow.com/questions/5453708/android-how-to-use-environment-getexternalstoragedirectory#comment9395458_5453753))","body":"Do not do it! There is <code>Environment.getExternalStorageDirectory().getAbsolutePath()</code> for getting a path to sdcard. Also don&#39;t forget to check if the external storage is mounted - <code>Environment.getExternalStorageState().equals(Environment.MED&zwnj;&#8203;IA_MOUNTED)</code> (<a href=\"http://stackoverflow.com/questions/5453708/android-how-to-use-environment-getexternalstoragedirectory#comment9395458_5453753\">Mannaz</a>)"}],"tags":[],"owner":{"account_id":2441308,"reputation":325,"user_id":2129757,"accept_rate":38,"display_name":"ENSATE"},"comment_count":3,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1391991424,"creation_date":1391991424,"answer_id":21667032,"question_id":3028306,"body_markdown":"Do not forget to replace &quot;/sdcard...&quot; by ***new File***(&quot;/mnt/sdcard/...&quot;) otherwise you will get a **FileNotFoundException**","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>Do not forget to replace \"/sdcard...\" by <strong><em>new File</em></strong>(\"/mnt/sdcard/...\") otherwise you will get a <strong>FileNotFoundException</strong></p>\n"},{"comments":[{"owner":{"account_id":3154489,"reputation":3351,"user_id":2667212,"accept_rate":67,"display_name":"0xh8h"},"score":2,"creation_date":1403768608,"post_id":23522645,"comment_id":37788724,"body_markdown":"Does it support multiple file download? I&#39;m working on a project that allow user to download scheduled. At a specific time (12 AM for instance), the service will download all the link that user selected before. I mean the service I need has to be able to queue download links, and then download all of them (one by one or parallel, depend on user). Thank you","body":"Does it support multiple file download? I&#39;m working on a project that allow user to download scheduled. At a specific time (12 AM for instance), the service will download all the link that user selected before. I mean the service I need has to be able to queue download links, and then download all of them (one by one or parallel, depend on user). Thank you"},{"owner":{"account_id":1356368,"reputation":3757,"user_id":1294681,"accept_rate":43,"display_name":"VinceStyling"},"score":0,"creation_date":1403772561,"post_id":23522645,"comment_id":37790818,"body_markdown":"@piavgh yes, all you wanted was satisfy, you can checkout my sample apk, it included a file download management demo.","body":"@piavgh yes, all you wanted was satisfy, you can checkout my sample apk, it included a file download management demo."},{"owner":{"account_id":4843925,"reputation":7540,"user_id":3908170,"accept_rate":100,"display_name":"DarkCygnus"},"score":0,"creation_date":1527101614,"post_id":23522645,"comment_id":88003837,"body_markdown":"Great library! Works good, although I am having issues downloading content from HTTPS Url&#39;s, as although one can set your own `SSLSocketFactory` adding a `HostnameVerifier` is not possible and I need such verifier. Raised an [issue](https://github.com/vince-styling/Netroid/issues/25) regarding that.","body":"Great library! Works good, although I am having issues downloading content from HTTPS Url&#39;s, as although one can set your own <code>SSLSocketFactory</code> adding a <code>HostnameVerifier</code> is not possible and I need such verifier. Raised an <a href=\"https://github.com/vince-styling/Netroid/issues/25\" rel=\"nofollow noreferrer\">issue</a> regarding that."},{"owner":{"account_id":2647431,"reputation":9890,"user_id":2289835,"accept_rate":38,"display_name":"Rumit Patel"},"score":0,"creation_date":1545644720,"post_id":23522645,"comment_id":94667326,"body_markdown":"link for [**Volley.**](https://www.captechconsulting.com/blog/raymond-robinson/google-io-2013-volley-image-cache-tutorial) -&gt; *Not-Found*","body":"link for <a href=\"https://www.captechconsulting.com/blog/raymond-robinson/google-io-2013-volley-image-cache-tutorial\" rel=\"nofollow noreferrer\"><b>Volley.</b></a> -&gt; <i>Not-Found</i>"}],"tags":[],"owner":{"account_id":1356368,"reputation":3757,"user_id":1294681,"accept_rate":43,"display_name":"VinceStyling"},"comment_count":4,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1509361372,"creation_date":1399478174,"answer_id":23522645,"question_id":3028306,"body_markdown":"I&#39;d recommend you to use my Project [Netroid](https://github.com/vince-styling/Netroid), It&#39;s based on [Volley](https://www.captechconsulting.com/blog/raymond-robinson/google-io-2013-volley-image-cache-tutorial). I have added some features to it such as multi-events callback, file download management. This could be of some help.","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>I'd recommend you to use my Project <a href=\"https://github.com/vince-styling/Netroid\" rel=\"noreferrer\">Netroid</a>, It's based on <a href=\"https://www.captechconsulting.com/blog/raymond-robinson/google-io-2013-volley-image-cache-tutorial\" rel=\"noreferrer\">Volley</a>. I have added some features to it such as multi-events callback, file download management. This could be of some help.</p>\n"},{"comments":[{"owner":{"account_id":2647431,"reputation":9890,"user_id":2289835,"accept_rate":38,"display_name":"Rumit Patel"},"score":0,"creation_date":1545644972,"post_id":25935392,"comment_id":94667401,"body_markdown":"Link broken -&gt; [Show Progress Bar when downloading a file in android](http://www.javaexperience.com/show-progress-bar-when-downloading-a-file-in-android/)","body":"Link broken -&gt; <a href=\"http://www.javaexperience.com/show-progress-bar-when-downloading-a-file-in-android/\" rel=\"nofollow noreferrer\">Show Progress Bar when downloading a file in android</a>"}],"tags":[],"owner":{"account_id":1017979,"reputation":4294,"user_id":1029089,"accept_rate":90,"display_name":"Piyush-Ask Any Difference"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1545649706,"creation_date":1411134102,"answer_id":25935392,"question_id":3028306,"body_markdown":"While I was starting to learn android development, I had learnt that `ProgressDialog` is the way to go. There is the `setProgress` method of `ProgressDialog` which can be invoked to update the progress level as the file gets downloaded.\r\n\r\nThe best I have seen in many apps is that they customize this progress dialog&#39;s attributes to give a better look and feel to the progress dialog than the stock version. Good to keeping the user engaged with some animation of like frog, elephant or cute cats/puppies. Any animation with in the progress dialog attracts users and they don&#39;t feel like being kept waiting for long.\r\n\r\n\r\n\r\n\r\n  [1]: http://www.javaexperience.com/show-progress-bar-when-downloading-a-file-in-android/","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>While I was starting to learn android development, I had learnt that <code>ProgressDialog</code> is the way to go. There is the <code>setProgress</code> method of <code>ProgressDialog</code> which can be invoked to update the progress level as the file gets downloaded.</p>\n\n<p>The best I have seen in many apps is that they customize this progress dialog's attributes to give a better look and feel to the progress dialog than the stock version. Good to keeping the user engaged with some animation of like frog, elephant or cute cats/puppies. Any animation with in the progress dialog attracts users and they don't feel like being kept waiting for long.</p>\n"},{"comments":[{"owner":{"account_id":875385,"reputation":6025,"user_id":925135,"accept_rate":82,"display_name":"Renetik"},"score":0,"creation_date":1503944249,"post_id":30085834,"comment_id":78808782,"body_markdown":"The thing is, I stopped using it, because its unmaintained so don&#39;t suppose this is good answer anymore.","body":"The thing is, I stopped using it, because its unmaintained so don&#39;t suppose this is good answer anymore."}],"tags":[],"owner":{"account_id":875385,"reputation":6025,"user_id":925135,"accept_rate":82,"display_name":"Renetik"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1482945306,"creation_date":1430940448,"answer_id":30085834,"question_id":3028306,"body_markdown":"Use Android Query library, very cool indeed.You can change it to use `ProgressDialog` as you see in other examples, this one will show progress view from your layout and hide it after completion.\r\n\r\n    File target = new File(new File(Environment.getExternalStorageDirectory(), &quot;ApplicationName&quot;), &quot;tmp.pdf&quot;);\r\n    new AQuery(this).progress(R.id.progress_view).download(_competition.qualificationScoreCardsPdf(), target, new AjaxCallback&lt;File&gt;() {\r\n        public void callback(String url, File file, AjaxStatus status) {\r\n            if (file != null) {\r\n                // do something with file  \r\n            } \r\n        }\r\n    });","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>Use Android Query library, very cool indeed.You can change it to use <code>ProgressDialog</code> as you see in other examples, this one will show progress view from your layout and hide it after completion.</p>\n\n<pre><code>File target = new File(new File(Environment.getExternalStorageDirectory(), \"ApplicationName\"), \"tmp.pdf\");\nnew AQuery(this).progress(R.id.progress_view).download(_competition.qualificationScoreCardsPdf(), target, new AjaxCallback&lt;File&gt;() {\n    public void callback(String url, File file, AjaxStatus status) {\n        if (file != null) {\n            // do something with file  \n        } \n    }\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2599209,"reputation":42717,"user_id":2252113,"accept_rate":57,"display_name":"Hitesh Sahu"},"score":0,"creation_date":1464232690,"post_id":30362066,"comment_id":62403291,"body_markdown":"Dont forgot to add Wake lock permission  &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;","body":"Dont forgot to add Wake lock permission  &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;"},{"owner":{"account_id":236549,"reputation":2564,"user_id":504112,"accept_rate":55,"display_name":"gumuruh"},"score":0,"creation_date":1612116434,"post_id":30362066,"comment_id":116660400,"body_markdown":"where is the method publishProgress coming from?","body":"where is the method publishProgress coming from?"}],"tags":[],"owner":{"account_id":2310980,"reputation":203,"user_id":2029110,"display_name":"The Syrian"},"comment_count":2,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1482945369,"creation_date":1432164575,"answer_id":30362066,"question_id":3028306,"body_markdown":"I have modified `AsyncTask` class to handle creation of `progressDialog` at the same context .I think following code will be more reusable.\r\n(it can be called from any activity just pass context,target File,dialog message)\r\n\r\n    public static class DownloadTask extends AsyncTask&lt;String, Integer, String&gt; {\r\n        private ProgressDialog mPDialog;\r\n        private Context mContext;\r\n        private PowerManager.WakeLock mWakeLock;\r\n        private File mTargetFile;\r\n        //Constructor parameters :\r\n        // @context (current Activity)\r\n        // @targetFile (File object to write,it will be overwritten if exist)\r\n        // @dialogMessage (message of the ProgresDialog)\r\n        public DownloadTask(Context context,File targetFile,String dialogMessage) {\r\n            this.mContext = context;\r\n            this.mTargetFile = targetFile;\r\n            mPDialog = new ProgressDialog(context);\r\n\r\n            mPDialog.setMessage(dialogMessage);\r\n            mPDialog.setIndeterminate(true);\r\n            mPDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\r\n            mPDialog.setCancelable(true);\r\n            // reference to instance to use inside listener\r\n            final DownloadTask me = this;\r\n            mPDialog.setOnCancelListener(new DialogInterface.OnCancelListener() {\r\n                @Override\r\n                public void onCancel(DialogInterface dialog) {\r\n                    me.cancel(true);\r\n                }\r\n            });\r\n            Log.i(&quot;DownloadTask&quot;,&quot;Constructor done&quot;);\r\n        }\r\n\r\n        @Override\r\n        protected String doInBackground(String... sUrl) {\r\n            InputStream input = null;\r\n            OutputStream output = null;\r\n            HttpURLConnection connection = null;\r\n            try {\r\n                URL url = new URL(sUrl[0]);\r\n                connection = (HttpURLConnection) url.openConnection();\r\n                connection.connect();\r\n\r\n                // expect HTTP 200 OK, so we don&#39;t mistakenly save error report\r\n                // instead of the file\r\n                if (connection.getResponseCode() != HttpURLConnection.HTTP_OK) {\r\n                    return &quot;Server returned HTTP &quot; + connection.getResponseCode()\r\n                            + &quot; &quot; + connection.getResponseMessage();\r\n                }\r\n                Log.i(&quot;DownloadTask&quot;,&quot;Response &quot; + connection.getResponseCode());\r\n\r\n                // this will be useful to display download percentage\r\n                // might be -1: server did not report the length\r\n                int fileLength = connection.getContentLength();\r\n\r\n                // download the file\r\n                input = connection.getInputStream();\r\n                output = new FileOutputStream(mTargetFile,false);\r\n\r\n                byte data[] = new byte[4096];\r\n                long total = 0;\r\n                int count;\r\n                while ((count = input.read(data)) != -1) {\r\n                    // allow canceling with back button\r\n                    if (isCancelled()) {\r\n                        Log.i(&quot;DownloadTask&quot;,&quot;Cancelled&quot;);\r\n                        input.close();\r\n                        return null;\r\n                    }\r\n                    total += count;\r\n                    // publishing the progress....\r\n                    if (fileLength &gt; 0) // only if total length is known\r\n                        publishProgress((int) (total * 100 / fileLength));\r\n                    output.write(data, 0, count);\r\n                }\r\n            } catch (Exception e) {\r\n                return e.toString();\r\n            } finally {\r\n                try {\r\n                    if (output != null)\r\n                        output.close();\r\n                    if (input != null)\r\n                        input.close();\r\n                } catch (IOException ignored) {\r\n                }\r\n\r\n                if (connection != null)\r\n                    connection.disconnect();\r\n            }\r\n            return null;\r\n        }\r\n        @Override\r\n        protected void onPreExecute() {\r\n            super.onPreExecute();\r\n            // take CPU lock to prevent CPU from going off if the user\r\n            // presses the power button during download\r\n            PowerManager pm = (PowerManager) mContext.getSystemService(Context.POWER_SERVICE);\r\n            mWakeLock = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,\r\n                    getClass().getName());\r\n            mWakeLock.acquire();\r\n\r\n            mPDialog.show();\r\n\r\n        }\r\n\r\n        @Override\r\n        protected void onProgressUpdate(Integer... progress) {\r\n            super.onProgressUpdate(progress);\r\n            // if we get here, length is known, now set indeterminate to false\r\n            mPDialog.setIndeterminate(false);\r\n            mPDialog.setMax(100);\r\n            mPDialog.setProgress(progress[0]);\r\n\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String result) {\r\n            Log.i(&quot;DownloadTask&quot;, &quot;Work Done! PostExecute&quot;);\r\n            mWakeLock.release();\r\n            mPDialog.dismiss();\r\n            if (result != null)\r\n                Toast.makeText(mContext,&quot;Download error: &quot;+result, Toast.LENGTH_LONG).show();\r\n            else\r\n                Toast.makeText(mContext,&quot;File Downloaded&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n ","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>I have modified <code>AsyncTask</code> class to handle creation of <code>progressDialog</code> at the same context .I think following code will be more reusable.\n(it can be called from any activity just pass context,target File,dialog message)</p>\n\n<pre><code>public static class DownloadTask extends AsyncTask&lt;String, Integer, String&gt; {\n    private ProgressDialog mPDialog;\n    private Context mContext;\n    private PowerManager.WakeLock mWakeLock;\n    private File mTargetFile;\n    //Constructor parameters :\n    // @context (current Activity)\n    // @targetFile (File object to write,it will be overwritten if exist)\n    // @dialogMessage (message of the ProgresDialog)\n    public DownloadTask(Context context,File targetFile,String dialogMessage) {\n        this.mContext = context;\n        this.mTargetFile = targetFile;\n        mPDialog = new ProgressDialog(context);\n\n        mPDialog.setMessage(dialogMessage);\n        mPDialog.setIndeterminate(true);\n        mPDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\n        mPDialog.setCancelable(true);\n        // reference to instance to use inside listener\n        final DownloadTask me = this;\n        mPDialog.setOnCancelListener(new DialogInterface.OnCancelListener() {\n            @Override\n            public void onCancel(DialogInterface dialog) {\n                me.cancel(true);\n            }\n        });\n        Log.i(\"DownloadTask\",\"Constructor done\");\n    }\n\n    @Override\n    protected String doInBackground(String... sUrl) {\n        InputStream input = null;\n        OutputStream output = null;\n        HttpURLConnection connection = null;\n        try {\n            URL url = new URL(sUrl[0]);\n            connection = (HttpURLConnection) url.openConnection();\n            connection.connect();\n\n            // expect HTTP 200 OK, so we don't mistakenly save error report\n            // instead of the file\n            if (connection.getResponseCode() != HttpURLConnection.HTTP_OK) {\n                return \"Server returned HTTP \" + connection.getResponseCode()\n                        + \" \" + connection.getResponseMessage();\n            }\n            Log.i(\"DownloadTask\",\"Response \" + connection.getResponseCode());\n\n            // this will be useful to display download percentage\n            // might be -1: server did not report the length\n            int fileLength = connection.getContentLength();\n\n            // download the file\n            input = connection.getInputStream();\n            output = new FileOutputStream(mTargetFile,false);\n\n            byte data[] = new byte[4096];\n            long total = 0;\n            int count;\n            while ((count = input.read(data)) != -1) {\n                // allow canceling with back button\n                if (isCancelled()) {\n                    Log.i(\"DownloadTask\",\"Cancelled\");\n                    input.close();\n                    return null;\n                }\n                total += count;\n                // publishing the progress....\n                if (fileLength &gt; 0) // only if total length is known\n                    publishProgress((int) (total * 100 / fileLength));\n                output.write(data, 0, count);\n            }\n        } catch (Exception e) {\n            return e.toString();\n        } finally {\n            try {\n                if (output != null)\n                    output.close();\n                if (input != null)\n                    input.close();\n            } catch (IOException ignored) {\n            }\n\n            if (connection != null)\n                connection.disconnect();\n        }\n        return null;\n    }\n    @Override\n    protected void onPreExecute() {\n        super.onPreExecute();\n        // take CPU lock to prevent CPU from going off if the user\n        // presses the power button during download\n        PowerManager pm = (PowerManager) mContext.getSystemService(Context.POWER_SERVICE);\n        mWakeLock = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,\n                getClass().getName());\n        mWakeLock.acquire();\n\n        mPDialog.show();\n\n    }\n\n    @Override\n    protected void onProgressUpdate(Integer... progress) {\n        super.onProgressUpdate(progress);\n        // if we get here, length is known, now set indeterminate to false\n        mPDialog.setIndeterminate(false);\n        mPDialog.setMax(100);\n        mPDialog.setProgress(progress[0]);\n\n    }\n\n    @Override\n    protected void onPostExecute(String result) {\n        Log.i(\"DownloadTask\", \"Work Done! PostExecute\");\n        mWakeLock.release();\n        mPDialog.dismiss();\n        if (result != null)\n            Toast.makeText(mContext,\"Download error: \"+result, Toast.LENGTH_LONG).show();\n        else\n            Toast.makeText(mContext,\"File Downloaded\", Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1947548,"reputation":940,"user_id":1752341,"display_name":"vishnuc156"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1475492811,"creation_date":1475492811,"answer_id":39830148,"question_id":3028306,"body_markdown":" **Permissions**\r\n\r\n      &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n      &lt;uses-permission \r\n       android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\nUsing **HttpURLConnection**\r\n\r\n\r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n \r\n    import android.app.Activity;\r\n    import android.app.Dialog;\r\n    import android.os.Bundle;\r\n    import android.os.Environment;\r\n    import android.view.View;\r\n    import android.view.Window;\r\n    import android.view.View.OnClickListener;\r\n    import android.widget.Button;\r\n    import android.widget.ProgressBar;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n \r\n    public class DownloadFileUseHttpURLConnection extends Activity {\r\n     \r\n    ProgressBar pb;\r\n    Dialog dialog;\r\n    int downloadedSize = 0;\r\n    int totalSize = 0;\r\n    TextView cur_val;\r\n    String dwnload_file_path =  \r\n    &quot;http://coderzheaven.com/sample_folder/sample_file.png&quot;;\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.main);\r\n       \r\n        Button b = (Button) findViewById(R.id.b1);\r\n        b.setOnClickListener(new OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                 showProgress(dwnload_file_path);\r\n                     \r\n                    new Thread(new Runnable() {\r\n                        public void run() {\r\n                             downloadFile();\r\n                        }\r\n                      }).start();\r\n            }\r\n        });\r\n    }\r\n         \r\n    void downloadFile(){\r\n         \r\n        try {\r\n            URL url = new URL(dwnload_file_path);\r\n            HttpURLConnection urlConnection = (HttpURLConnection)   \r\n     url.openConnection();\r\n \r\n            urlConnection.setRequestMethod(&quot;GET&quot;);\r\n            urlConnection.setDoOutput(true);\r\n \r\n            //connect\r\n            urlConnection.connect();\r\n \r\n            //set the path where we want to save the file           \r\n            File SDCardRoot = Environment.getExternalStorageDirectory(); \r\n            //create a new file, to save the downloaded file \r\n            File file = new File(SDCardRoot,&quot;downloaded_file.png&quot;);\r\n  \r\n            FileOutputStream fileOutput = new FileOutputStream(file);\r\n \r\n            //Stream used for reading the data from the internet\r\n            InputStream inputStream = urlConnection.getInputStream();\r\n \r\n            //this is the total size of the file which we are downloading\r\n            totalSize = urlConnection.getContentLength();\r\n \r\n            runOnUiThread(new Runnable() {\r\n                public void run() {\r\n                    pb.setMax(totalSize);\r\n                }               \r\n            });\r\n             \r\n            //create a buffer...\r\n            byte[] buffer = new byte[1024];\r\n            int bufferLength = 0;\r\n \r\n            while ( (bufferLength = inputStream.read(buffer)) &gt; 0 ) {\r\n                fileOutput.write(buffer, 0, bufferLength);\r\n                downloadedSize += bufferLength;\r\n                // update the progressbar //\r\n                runOnUiThread(new Runnable() {\r\n                    public void run() {\r\n                        pb.setProgress(downloadedSize);\r\n                        float per = ((float)downloadedSize/totalSize) *     \r\n                        100;\r\n                        cur_val.setText(&quot;Downloaded &quot; + downloadedSize +  \r\n\r\n                        &quot;KB / &quot; + totalSize + &quot;KB (&quot; + (int)per + &quot;%)&quot; );\r\n                    }\r\n                });\r\n            }\r\n            //close the output stream when complete //\r\n            fileOutput.close();\r\n            runOnUiThread(new Runnable() {\r\n                public void run() {\r\n                    // pb.dismiss(); // if you want close it..\r\n                }\r\n            });         \r\n         \r\n        } catch (final MalformedURLException e) {\r\n            showError(&quot;Error : MalformedURLException &quot; + e);        \r\n            e.printStackTrace();\r\n        } catch (final IOException e) {\r\n            showError(&quot;Error : IOException &quot; + e);          \r\n            e.printStackTrace();\r\n        }\r\n        catch (final Exception e) {\r\n            showError(&quot;Error : Please check your internet connection &quot; +  \r\n    e);\r\n        }       \r\n    }\r\n     \r\n    void showError(final String err){\r\n        runOnUiThread(new Runnable() {\r\n            public void run() {\r\n                Toast.makeText(DownloadFileDemo1.this, err,  \r\n          Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n    }\r\n     \r\n    void showProgress(String file_path){\r\n        dialog = new Dialog(DownloadFileDemo1.this);\r\n        dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n        dialog.setContentView(R.layout.myprogressdialog);\r\n        dialog.setTitle(&quot;Download Progress&quot;);\r\n \r\n        TextView text = (TextView) dialog.findViewById(R.id.tv1);\r\n        text.setText(&quot;Downloading file from ... &quot; + file_path);\r\n        cur_val = (TextView) dialog.findViewById(R.id.cur_pg_tv);\r\n        cur_val.setText(&quot;Starting download...&quot;);\r\n        dialog.show();\r\n         \r\n         pb = (ProgressBar)dialog.findViewById(R.id.progress_bar);\r\n         pb.setProgress(0);\r\n                pb.setProgressDrawable(\r\n          getResources().getDrawable(R.drawable.green_progress));  \r\n      }\r\n    }","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p><strong>Permissions</strong></p>\n\n<pre><code>  &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n  &lt;uses-permission \n   android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n</code></pre>\n\n<p>Using <strong>HttpURLConnection</strong></p>\n\n<pre><code>import java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\nimport android.app.Activity;\nimport android.app.Dialog;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.view.View;\nimport android.view.Window;\nimport android.view.View.OnClickListener;\nimport android.widget.Button;\nimport android.widget.ProgressBar;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\npublic class DownloadFileUseHttpURLConnection extends Activity {\n\nProgressBar pb;\nDialog dialog;\nint downloadedSize = 0;\nint totalSize = 0;\nTextView cur_val;\nString dwnload_file_path =  \n\"http://coderzheaven.com/sample_folder/sample_file.png\";\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.main);\n\n    Button b = (Button) findViewById(R.id.b1);\n    b.setOnClickListener(new OnClickListener() {\n        @Override\n        public void onClick(View v) {\n             showProgress(dwnload_file_path);\n\n                new Thread(new Runnable() {\n                    public void run() {\n                         downloadFile();\n                    }\n                  }).start();\n        }\n    });\n}\n\nvoid downloadFile(){\n\n    try {\n        URL url = new URL(dwnload_file_path);\n        HttpURLConnection urlConnection = (HttpURLConnection)   \n url.openConnection();\n\n        urlConnection.setRequestMethod(\"GET\");\n        urlConnection.setDoOutput(true);\n\n        //connect\n        urlConnection.connect();\n\n        //set the path where we want to save the file           \n        File SDCardRoot = Environment.getExternalStorageDirectory(); \n        //create a new file, to save the downloaded file \n        File file = new File(SDCardRoot,\"downloaded_file.png\");\n\n        FileOutputStream fileOutput = new FileOutputStream(file);\n\n        //Stream used for reading the data from the internet\n        InputStream inputStream = urlConnection.getInputStream();\n\n        //this is the total size of the file which we are downloading\n        totalSize = urlConnection.getContentLength();\n\n        runOnUiThread(new Runnable() {\n            public void run() {\n                pb.setMax(totalSize);\n            }               \n        });\n\n        //create a buffer...\n        byte[] buffer = new byte[1024];\n        int bufferLength = 0;\n\n        while ( (bufferLength = inputStream.read(buffer)) &gt; 0 ) {\n            fileOutput.write(buffer, 0, bufferLength);\n            downloadedSize += bufferLength;\n            // update the progressbar //\n            runOnUiThread(new Runnable() {\n                public void run() {\n                    pb.setProgress(downloadedSize);\n                    float per = ((float)downloadedSize/totalSize) *     \n                    100;\n                    cur_val.setText(\"Downloaded \" + downloadedSize +  \n\n                    \"KB / \" + totalSize + \"KB (\" + (int)per + \"%)\" );\n                }\n            });\n        }\n        //close the output stream when complete //\n        fileOutput.close();\n        runOnUiThread(new Runnable() {\n            public void run() {\n                // pb.dismiss(); // if you want close it..\n            }\n        });         \n\n    } catch (final MalformedURLException e) {\n        showError(\"Error : MalformedURLException \" + e);        \n        e.printStackTrace();\n    } catch (final IOException e) {\n        showError(\"Error : IOException \" + e);          \n        e.printStackTrace();\n    }\n    catch (final Exception e) {\n        showError(\"Error : Please check your internet connection \" +  \ne);\n    }       \n}\n\nvoid showError(final String err){\n    runOnUiThread(new Runnable() {\n        public void run() {\n            Toast.makeText(DownloadFileDemo1.this, err,  \n      Toast.LENGTH_LONG).show();\n        }\n    });\n}\n\nvoid showProgress(String file_path){\n    dialog = new Dialog(DownloadFileDemo1.this);\n    dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\n    dialog.setContentView(R.layout.myprogressdialog);\n    dialog.setTitle(\"Download Progress\");\n\n    TextView text = (TextView) dialog.findViewById(R.id.tv1);\n    text.setText(\"Downloading file from ... \" + file_path);\n    cur_val = (TextView) dialog.findViewById(R.id.cur_pg_tv);\n    cur_val.setText(\"Starting download...\");\n    dialog.show();\n\n     pb = (ProgressBar)dialog.findViewById(R.id.progress_bar);\n     pb.setProgress(0);\n            pb.setProgressDrawable(\n      getResources().getDrawable(R.drawable.green_progress));  \n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7087104,"reputation":1503,"user_id":5423596,"accept_rate":20,"display_name":"Sathish Gadde"},"score":0,"creation_date":1606409172,"post_id":45925335,"comment_id":114960873,"body_markdown":"Larger files downloading failed with this library.\nhttps://github.com/amitshekhariitbhu/Fast-Android-Networking/issues/541","body":"Larger files downloading failed with this library. <a href=\"https://github.com/amitshekhariitbhu/Fast-Android-Networking/issues/541\" rel=\"nofollow noreferrer\">github.com/amitshekhariitbhu/Fast-Android-Networking/issues/&zwnj;&#8203;541</a>"},{"owner":{"account_id":875385,"reputation":6025,"user_id":925135,"accept_rate":82,"display_name":"Renetik"},"score":0,"creation_date":1606425679,"post_id":45925335,"comment_id":114966590,"body_markdown":"@SathishGadde well you should debug it more because this doesn&#39;t look like a &quot;library&quot; issue... This library is made on top of OkHttp Networking Layer. So if there is some download issue okhttp has to have it too and I don&#39;t believe this is the case... Your issue can have various causes, most probably some network issue.","body":"@SathishGadde well you should debug it more because this doesn&#39;t look like a &quot;library&quot; issue... This library is made on top of OkHttp Networking Layer. So if there is some download issue okhttp has to have it too and I don&#39;t believe this is the case... Your issue can have various causes, most probably some network issue."},{"owner":{"account_id":7087104,"reputation":1503,"user_id":5423596,"accept_rate":20,"display_name":"Sathish Gadde"},"score":0,"creation_date":1606460696,"post_id":45925335,"comment_id":114973064,"body_markdown":"thank for quick response. While am trying with small video files its working fine. Issue raised only while file size is larger like 78mb. After 50mb am observer this issue.","body":"thank for quick response. While am trying with small video files its working fine. Issue raised only while file size is larger like 78mb. After 50mb am observer this issue."},{"owner":{"account_id":875385,"reputation":6025,"user_id":925135,"accept_rate":82,"display_name":"Renetik"},"score":0,"creation_date":1606499456,"post_id":45925335,"comment_id":114987799,"body_markdown":"Well maybe will be better to ask separate question. As I said it highly unlikely that FAN is a cause as it is just fin network layer on top of ok http library, but that you can find out by yourself by trying the same with pure ok http.","body":"Well maybe will be better to ask separate question. As I said it highly unlikely that FAN is a cause as it is just fin network layer on top of ok http library, but that you can find out by yourself by trying the same with pure ok http."}],"tags":[],"owner":{"account_id":875385,"reputation":6025,"user_id":925135,"accept_rate":82,"display_name":"Renetik"},"comment_count":4,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1503945582,"creation_date":1503945250,"answer_id":45925335,"question_id":3028306,"body_markdown":"I am adding another answer for other solution I am using now because Android Query is so big and unmaintained to stay healthy. So i moved to this https://github.com/amitshekhariitbhu/Fast-Android-Networking.\r\n\r\n\r\n        AndroidNetworking.download(url,dirPath,fileName).build()\r\n          .setDownloadProgressListener(new DownloadProgressListener() {\r\n            public void onProgress(long bytesDownloaded, long totalBytes) {\r\n                bar.setMax((int) totalBytes);\r\n                bar.setProgress((int) bytesDownloaded);\r\n            }\r\n        }).startDownload(new DownloadListener() {\r\n            public void onDownloadComplete() {\r\n                ...\r\n            }\r\n\r\n            public void onError(ANError error) {\r\n                ...\r\n            }\r\n        });","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>I am adding another answer for other solution I am using now because Android Query is so big and unmaintained to stay healthy. So i moved to this <a href=\"https://github.com/amitshekhariitbhu/Fast-Android-Networking\" rel=\"nofollow noreferrer\">https://github.com/amitshekhariitbhu/Fast-Android-Networking</a>.</p>\n\n<pre><code>    AndroidNetworking.download(url,dirPath,fileName).build()\n      .setDownloadProgressListener(new DownloadProgressListener() {\n        public void onProgress(long bytesDownloaded, long totalBytes) {\n            bar.setMax((int) totalBytes);\n            bar.setProgress((int) bytesDownloaded);\n        }\n    }).startDownload(new DownloadListener() {\n        public void onDownloadComplete() {\n            ...\n        }\n\n        public void onError(ANError error) {\n            ...\n        }\n    });\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7960832,"reputation":403,"user_id":6008717,"display_name":"Karim Karimov"},"score":0,"creation_date":1587395657,"post_id":59733386,"comment_id":108488406,"body_markdown":"Can you provide a usecase example for this class?","body":"Can you provide a usecase example for this class?"}],"tags":[],"owner":{"account_id":15401425,"reputation":424,"user_id":11110785,"display_name":"Fahad Alotaibi"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1579523931,"creation_date":1579003266,"answer_id":59733386,"question_id":3028306,"body_markdown":"You can observer the progress of the download manager using LiveData and coroutines, **see the gist below**\r\n\r\nhttps://gist.github.com/FhdAlotaibi/678eb1f4fa94475daf74ac491874fc0e\r\n\r\n   \r\n\r\n    data class DownloadItem(val bytesDownloadedSoFar: Long = -1, val totalSizeBytes: Long = -1, val status: Int)\r\n\r\n    class DownloadProgressLiveData(private val application: Application, private val requestId: Long) : LiveData&lt;DownloadItem&gt;(), CoroutineScope {\r\n    \r\n        private val downloadManager by lazy {\r\n            application.getSystemService(Context.DOWNLOAD_SERVICE) as DownloadManager\r\n        }\r\n    \r\n        private val job = Job()\r\n    \r\n        override val coroutineContext: CoroutineContext\r\n            get() = Dispatchers.IO + job\r\n    \r\n        override fun onActive() {\r\n            super.onActive()\r\n            launch {\r\n                while (isActive) {\r\n                    val query = DownloadManager.Query().setFilterById(requestId)\r\n                    val cursor = downloadManager.query(query)\r\n                    if (cursor.moveToFirst()) {\r\n                        val status = cursor.getInt(cursor.getColumnIndex(DownloadManager.COLUMN_STATUS))\r\n                        Timber.d(&quot;Status $status&quot;)\r\n                        when (status) {\r\n                            DownloadManager.STATUS_SUCCESSFUL,\r\n                            DownloadManager.STATUS_PENDING,\r\n                            DownloadManager.STATUS_FAILED,\r\n                            DownloadManager.STATUS_PAUSED -&gt; postValue(DownloadItem(status = status))\r\n                            else -&gt; {\r\n                                val bytesDownloadedSoFar = cursor.getInt(cursor.getColumnIndex(DownloadManager.COLUMN_BYTES_DOWNLOADED_SO_FAR))\r\n                                val totalSizeBytes = cursor.getInt(cursor.getColumnIndex(DownloadManager.COLUMN_TOTAL_SIZE_BYTES))\r\n                                postValue(DownloadItem(bytesDownloadedSoFar.toLong(), totalSizeBytes.toLong(), status))\r\n                            }\r\n                        }\r\n                        if (status == DownloadManager.STATUS_SUCCESSFUL || status == DownloadManager.STATUS_FAILED)\r\n                            cancel()\r\n                    } else {\r\n                        postValue(DownloadItem(status = DownloadManager.STATUS_FAILED))\r\n                        cancel()\r\n                    }\r\n                    cursor.close()\r\n                    delay(300)\r\n                }\r\n            }\r\n        }\r\n    \r\n        override fun onInactive() {\r\n            super.onInactive()\r\n            job.cancel()\r\n        }\r\n    \r\n    }","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>You can observer the progress of the download manager using LiveData and coroutines, <strong>see the gist below</strong></p>\n\n<p><a href=\"https://gist.github.com/FhdAlotaibi/678eb1f4fa94475daf74ac491874fc0e\" rel=\"nofollow noreferrer\">https://gist.github.com/FhdAlotaibi/678eb1f4fa94475daf74ac491874fc0e</a></p>\n\n<pre><code>data class DownloadItem(val bytesDownloadedSoFar: Long = -1, val totalSizeBytes: Long = -1, val status: Int)\n\nclass DownloadProgressLiveData(private val application: Application, private val requestId: Long) : LiveData&lt;DownloadItem&gt;(), CoroutineScope {\n\n    private val downloadManager by lazy {\n        application.getSystemService(Context.DOWNLOAD_SERVICE) as DownloadManager\n    }\n\n    private val job = Job()\n\n    override val coroutineContext: CoroutineContext\n        get() = Dispatchers.IO + job\n\n    override fun onActive() {\n        super.onActive()\n        launch {\n            while (isActive) {\n                val query = DownloadManager.Query().setFilterById(requestId)\n                val cursor = downloadManager.query(query)\n                if (cursor.moveToFirst()) {\n                    val status = cursor.getInt(cursor.getColumnIndex(DownloadManager.COLUMN_STATUS))\n                    Timber.d(\"Status $status\")\n                    when (status) {\n                        DownloadManager.STATUS_SUCCESSFUL,\n                        DownloadManager.STATUS_PENDING,\n                        DownloadManager.STATUS_FAILED,\n                        DownloadManager.STATUS_PAUSED -&gt; postValue(DownloadItem(status = status))\n                        else -&gt; {\n                            val bytesDownloadedSoFar = cursor.getInt(cursor.getColumnIndex(DownloadManager.COLUMN_BYTES_DOWNLOADED_SO_FAR))\n                            val totalSizeBytes = cursor.getInt(cursor.getColumnIndex(DownloadManager.COLUMN_TOTAL_SIZE_BYTES))\n                            postValue(DownloadItem(bytesDownloadedSoFar.toLong(), totalSizeBytes.toLong(), status))\n                        }\n                    }\n                    if (status == DownloadManager.STATUS_SUCCESSFUL || status == DownloadManager.STATUS_FAILED)\n                        cancel()\n                } else {\n                    postValue(DownloadItem(status = DownloadManager.STATUS_FAILED))\n                    cancel()\n                }\n                cursor.close()\n                delay(300)\n            }\n        }\n    }\n\n    override fun onInactive() {\n        super.onInactive()\n        job.cancel()\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2437045,"reputation":184,"user_id":2126695,"accept_rate":80,"display_name":"Khode_Erfan"},"score":1,"creation_date":1651514157,"post_id":60531277,"comment_id":127377711,"body_markdown":"Sample code is appreciated","body":"Sample code is appreciated"}],"tags":[],"owner":{"account_id":6097613,"reputation":1,"user_id":9640177,"display_name":"Mayank Kumar Chaudhari"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583341666,"creation_date":1583341666,"answer_id":60531277,"question_id":3028306,"body_markdown":"**Important**\r\n\r\n**AsyncTask is deprecated in Android 11.**\r\n\r\nFor more information please checkout following posts\r\n\r\n- https://stackoverflow.com/q/58767733/9640177\r\n- https://developer.android.com/reference/android/os/AsyncTask\r\n\r\nProbably should move to concorency Framework as suggested by google\r\n","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p><strong>Important</strong></p>\n\n<p><strong>AsyncTask is deprecated in Android 11.</strong></p>\n\n<p>For more information please checkout following posts</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/q/58767733/9640177\">Android AsyncTask API deprecating in Android 11.What are the alternatives?</a></li>\n<li><a href=\"https://developer.android.com/reference/android/os/AsyncTask\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/os/AsyncTask</a></li>\n</ul>\n\n<p>Probably should move to concorency Framework as suggested by google</p>\n"},{"tags":[],"owner":{"account_id":9713496,"reputation":446,"user_id":7204609,"display_name":"Kinjal"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1588408997,"creation_date":1588408428,"answer_id":61556528,"question_id":3028306,"body_markdown":"We can use the coroutine and work manager for downloading files in kotlin.\r\n\r\nAdd a dependency in build.gradle\r\n \r\n\r\n        implementation &quot;androidx.work:work-runtime-ktx:2.3.0-beta01&quot;\r\n        implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.1&quot;\r\n\r\n  \r\nWorkManager class\r\n\r\n        import android.content.Context\r\n        import android.os.Environment\r\n        import androidx.work.CoroutineWorker\r\n        import androidx.work.WorkerParameters\r\n        import androidx.work.workDataOf\r\n        import com.sa.chat.utils.Const.BASE_URL_IMAGE\r\n        import com.sa.chat.utils.Constants\r\n        import kotlinx.coroutines.delay\r\n        import java.io.BufferedInputStream\r\n        import java.io.File\r\n        import java.io.FileOutputStream\r\n        import java.net.URL\r\n        \r\n        class DownloadMediaWorkManager(appContext: Context, workerParams: WorkerParameters)\r\n            : CoroutineWorker(appContext, workerParams) {\r\n        \r\n            companion object {\r\n                const val WORK_TYPE = &quot;WORK_TYPE&quot;\r\n                const val WORK_IN_PROGRESS = &quot;WORK_IN_PROGRESS&quot;\r\n                const val WORK_PROGRESS_VALUE = &quot;WORK_PROGRESS_VALUE&quot;\r\n            }\r\n        \r\n            override suspend fun doWork(): Result {\r\n        \r\n                val imageUrl = inputData.getString(Constants.WORK_DATA_MEDIA_URL)\r\n                val imagePath = downloadMediaFromURL(imageUrl)\r\n        \r\n                return if (!imagePath.isNullOrEmpty()) {\r\n                    Result.success(workDataOf(Constants.WORK_DATA_MEDIA_URL to imagePath))\r\n                } else {\r\n                    Result.failure()\r\n                }\r\n            }\r\n        \r\n            private suspend fun downloadMediaFromURL(imageUrl: String?): String? {\r\n        \r\n                val file = File(\r\n                        getRootFile().path,\r\n                        &quot;IMG_${System.currentTimeMillis()}.jpeg&quot;\r\n                )\r\n        \r\n                val url = URL(BASE_URL_IMAGE + imageUrl)\r\n                val connection = url.openConnection()\r\n                connection.connect()\r\n        \r\n                val lengthOfFile = connection.contentLength\r\n                // download the file\r\n                val input = BufferedInputStream(url.openStream(), 8192)\r\n                // Output stream\r\n                val output = FileOutputStream(file)\r\n        \r\n                val data = ByteArray(1024)\r\n                var total: Long = 0\r\n                var last = 0\r\n        \r\n                while (true) {\r\n        \r\n                    val count = input.read(data)\r\n                    if (count == -1) break\r\n                    total += count.toLong()\r\n        \r\n                    val progress = (total * 100 / lengthOfFile).toInt()\r\n        \r\n                    if (progress % 10 == 0) {\r\n                        if (last != progress) {\r\n                            setProgress(workDataOf(WORK_TYPE to WORK_IN_PROGRESS,\r\n                                    WORK_PROGRESS_VALUE to progress))\r\n                        }\r\n                        last = progress\r\n                        delay(50)\r\n                    }\r\n                    output.write(data, 0, count)\r\n                }\r\n        \r\n                output.flush()\r\n                output.close()\r\n                input.close()\r\n        \r\n                return file.path\r\n        \r\n            }\r\n        \r\n            private fun getRootFile(): File {\r\n        \r\n                val rootDir = File(Environment.getExternalStorageDirectory().absolutePath + &quot;/AppName&quot;)\r\n        \r\n                if (!rootDir.exists()) {\r\n                    rootDir.mkdir()\r\n                }\r\n        \r\n                val dir = File(&quot;$rootDir/${Constants.IMAGE_FOLDER}/&quot;)\r\n        \r\n                if (!dir.exists()) {\r\n                    dir.mkdir()\r\n                }\r\n                return File(dir.absolutePath)\r\n            }\r\n        }\r\n\r\nStart downloading through work manager in activity class \r\n\r\n   \r\n\r\n     private fun downloadImage(imagePath: String?, id: String) {\r\n        \r\n                val data = workDataOf(WORK_DATA_MEDIA_URL to imagePath)\r\n                val downloadImageWorkManager = OneTimeWorkRequestBuilder&lt;DownloadMediaWorkManager&gt;()\r\n                        .setInputData(data)\r\n                        .addTag(id)\r\n                        .build()\r\n        \r\n                WorkManager.getInstance(this).enqueue(downloadImageWorkManager)\r\n        \r\n                WorkManager.getInstance(this).getWorkInfoByIdLiveData(downloadImageWorkManager.id)\r\n                        .observe(this, Observer { workInfo -&gt;\r\n        \r\n                            if (workInfo != null) {\r\n                                when {\r\n                                    workInfo.state == WorkInfo.State.SUCCEEDED -&gt; {\r\n                                        progressBar?.visibility = View.GONE\r\n                                        ivDownload?.visibility = View.GONE\r\n                                    }\r\n                                    workInfo.state == WorkInfo.State.FAILED || workInfo.state == WorkInfo.State.CANCELLED || workInfo.state == WorkInfo.State.BLOCKED -&gt; {\r\n                                        progressBar?.visibility = View.GONE\r\n                                        ivDownload?.visibility = View.VISIBLE\r\n                                    }\r\n                                    else -&gt; {\r\n                                        if(workInfo.progress.getString(WORK_TYPE) == WORK_IN_PROGRESS){\r\n                                            val progress = workInfo.progress.getInt(WORK_PROGRESS_VALUE, 0)\r\n                                            progressBar?.visibility = View.VISIBLE\r\n                                            progressBar?.progress = progress\r\n                                            ivDownload?.visibility = View.GONE\r\n        \r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        })\r\n        \r\n            }","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>We can use the coroutine and work manager for downloading files in kotlin.</p>\n\n<p>Add a dependency in build.gradle</p>\n\n<pre><code>    implementation \"androidx.work:work-runtime-ktx:2.3.0-beta01\"\n    implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.1\"\n</code></pre>\n\n<p>WorkManager class</p>\n\n<pre><code>    import android.content.Context\n    import android.os.Environment\n    import androidx.work.CoroutineWorker\n    import androidx.work.WorkerParameters\n    import androidx.work.workDataOf\n    import com.sa.chat.utils.Const.BASE_URL_IMAGE\n    import com.sa.chat.utils.Constants\n    import kotlinx.coroutines.delay\n    import java.io.BufferedInputStream\n    import java.io.File\n    import java.io.FileOutputStream\n    import java.net.URL\n\n    class DownloadMediaWorkManager(appContext: Context, workerParams: WorkerParameters)\n        : CoroutineWorker(appContext, workerParams) {\n\n        companion object {\n            const val WORK_TYPE = \"WORK_TYPE\"\n            const val WORK_IN_PROGRESS = \"WORK_IN_PROGRESS\"\n            const val WORK_PROGRESS_VALUE = \"WORK_PROGRESS_VALUE\"\n        }\n\n        override suspend fun doWork(): Result {\n\n            val imageUrl = inputData.getString(Constants.WORK_DATA_MEDIA_URL)\n            val imagePath = downloadMediaFromURL(imageUrl)\n\n            return if (!imagePath.isNullOrEmpty()) {\n                Result.success(workDataOf(Constants.WORK_DATA_MEDIA_URL to imagePath))\n            } else {\n                Result.failure()\n            }\n        }\n\n        private suspend fun downloadMediaFromURL(imageUrl: String?): String? {\n\n            val file = File(\n                    getRootFile().path,\n                    \"IMG_${System.currentTimeMillis()}.jpeg\"\n            )\n\n            val url = URL(BASE_URL_IMAGE + imageUrl)\n            val connection = url.openConnection()\n            connection.connect()\n\n            val lengthOfFile = connection.contentLength\n            // download the file\n            val input = BufferedInputStream(url.openStream(), 8192)\n            // Output stream\n            val output = FileOutputStream(file)\n\n            val data = ByteArray(1024)\n            var total: Long = 0\n            var last = 0\n\n            while (true) {\n\n                val count = input.read(data)\n                if (count == -1) break\n                total += count.toLong()\n\n                val progress = (total * 100 / lengthOfFile).toInt()\n\n                if (progress % 10 == 0) {\n                    if (last != progress) {\n                        setProgress(workDataOf(WORK_TYPE to WORK_IN_PROGRESS,\n                                WORK_PROGRESS_VALUE to progress))\n                    }\n                    last = progress\n                    delay(50)\n                }\n                output.write(data, 0, count)\n            }\n\n            output.flush()\n            output.close()\n            input.close()\n\n            return file.path\n\n        }\n\n        private fun getRootFile(): File {\n\n            val rootDir = File(Environment.getExternalStorageDirectory().absolutePath + \"/AppName\")\n\n            if (!rootDir.exists()) {\n                rootDir.mkdir()\n            }\n\n            val dir = File(\"$rootDir/${Constants.IMAGE_FOLDER}/\")\n\n            if (!dir.exists()) {\n                dir.mkdir()\n            }\n            return File(dir.absolutePath)\n        }\n    }\n</code></pre>\n\n<p>Start downloading through work manager in activity class </p>\n\n<pre><code> private fun downloadImage(imagePath: String?, id: String) {\n\n            val data = workDataOf(WORK_DATA_MEDIA_URL to imagePath)\n            val downloadImageWorkManager = OneTimeWorkRequestBuilder&lt;DownloadMediaWorkManager&gt;()\n                    .setInputData(data)\n                    .addTag(id)\n                    .build()\n\n            WorkManager.getInstance(this).enqueue(downloadImageWorkManager)\n\n            WorkManager.getInstance(this).getWorkInfoByIdLiveData(downloadImageWorkManager.id)\n                    .observe(this, Observer { workInfo -&gt;\n\n                        if (workInfo != null) {\n                            when {\n                                workInfo.state == WorkInfo.State.SUCCEEDED -&gt; {\n                                    progressBar?.visibility = View.GONE\n                                    ivDownload?.visibility = View.GONE\n                                }\n                                workInfo.state == WorkInfo.State.FAILED || workInfo.state == WorkInfo.State.CANCELLED || workInfo.state == WorkInfo.State.BLOCKED -&gt; {\n                                    progressBar?.visibility = View.GONE\n                                    ivDownload?.visibility = View.VISIBLE\n                                }\n                                else -&gt; {\n                                    if(workInfo.progress.getString(WORK_TYPE) == WORK_IN_PROGRESS){\n                                        val progress = workInfo.progress.getInt(WORK_PROGRESS_VALUE, 0)\n                                        progressBar?.visibility = View.VISIBLE\n                                        progressBar?.progress = progress\n                                        ivDownload?.visibility = View.GONE\n\n                                    }\n                                }\n                            }\n                        }\n                    })\n\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16183502,"reputation":641,"user_id":11684331,"display_name":"jay patoliya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619196539,"creation_date":1619196539,"answer_id":67233965,"question_id":3028306,"body_markdown":"\t\tprivate class DownloadTask extends AsyncTask&lt;String, Integer, String&gt; {\r\n\r\n\t\t\tprivate PowerManager.WakeLock mWakeLock;\r\n\t\t\tString onlinePathBundle, onlinePathMusic, offlinePathBundle, offlinePathMusic;\r\n\r\n\t\t\tCircleProgressBar progressBar;\r\n\t\t\tRelativeLayout rl_progress;\r\n\t\t\tImageView btn_download;\r\n\t\t\tTextView tv_progress;\r\n\r\n\t\t\tpublic DownloadTask(String onlinePathBundle, String onlinePathMusic, String offlinePathBundle, String offlinePathMusic, CircleProgressBar progressBar, RelativeLayout rl_progress, ImageView btn_download,\r\n\t\t\t\t\t\t\t\tTextView tv_progress) {\r\n\t\t\t\tthis.offlinePathBundle = offlinePathBundle;\r\n\t\t\t\tthis.offlinePathMusic = offlinePathMusic;\r\n\t\t\t\tthis.progressBar = progressBar;\r\n\t\t\t\tthis.rl_progress = rl_progress;\r\n\t\t\t\tthis.btn_download = btn_download;\r\n\t\t\t\tthis.tv_progress = tv_progress;\r\n\t\t\t\tthis.onlinePathBundle = onlinePathBundle;\r\n\t\t\t\tthis.onlinePathMusic = onlinePathMusic;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected void onPreExecute() {\r\n\t\t\t\tsuper.onPreExecute();\r\n\t\t\t\tprogressBar.setMax(100);\r\n\t\t\t\trl_progress.setVisibility(View.VISIBLE);\r\n\t\t\t\tbtn_download.setVisibility(View.GONE);\r\n\r\n\t\t\t\tPowerManager pm = (PowerManager) getSystemService(Context.POWER_SERVICE);\r\n\t\t\t\tmWakeLock = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK, getClass().getName());\r\n\t\t\t\tmWakeLock.acquire();\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected String doInBackground(String... sUrl) {\r\n\t\t\t\tString firstResult = downTask(onlinePathBundle, 1, offlinePathBundle);\r\n\t\t\t\tString seondResult = downTask(onlinePathMusic, 2, offlinePathMusic);\r\n\t\t\t\tif (firstResult != null) {\r\n\t\t\t\t\tToast.makeText(SplashActivity.this, &quot;Download error: &quot; + firstResult, Toast.LENGTH_LONG).show();\r\n\t\t\t\t\treturn firstResult;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn seondResult;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected void onProgressUpdate(Integer... progress) {\r\n\t\t\t\tsuper.onProgressUpdate(progress);\r\n\t\t\t\tprogressBar.setProgress(progress[0]);\r\n\t\t\t\ttv_progress.setText(progress[0] + &quot;%&quot;);\r\n\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected void onPostExecute(String result) {\r\n\t\t\t\tsuper.onPostExecute(result);\r\n\t\t\t\trl_progress.setVisibility(View.GONE);\r\n\t\t\t\tbtn_download.setVisibility(View.VISIBLE);\r\n\t\t\t\tif (result != null) {\r\n\t\t\t\t\tToast.makeText(SplashActivity.this, &quot;Download error: &quot; + result, Toast.LENGTH_LONG).show();\r\n\t\t\t\t} else {\r\n\t\t\t\t\trl_progress.setVisibility(View.GONE);\r\n\t\t\t\t\tbtn_download.setVisibility(View.GONE);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tpublic String downTask(String onlineNewPath, int numberOfTask, String offlineNewPath) {\r\n\t\t\t\tInputStream input = null;\r\n\t\t\t\tOutputStream output = null;\r\n\t\t\t\tHttpURLConnection connection = null;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tURL url = new URL(onlineNewPath);\r\n\t\t\t\t\tconnection = (HttpURLConnection) url.openConnection();\r\n\t\t\t\t\tconnection.connect();\r\n\r\n\t\t\t\t\t// expect HTTP 200 OK, so we don&#39;t mistakenly save error report\r\n\t\t\t\t\t// instead of the file\r\n\t\t\t\t\tif (connection.getResponseCode() != HttpURLConnection.HTTP_OK) {\r\n\t\t\t\t\t\treturn &quot;Server returned HTTP &quot; + connection.getResponseCode()\r\n\t\t\t\t\t\t\t\t+ &quot; &quot; + connection.getResponseMessage();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// this will be useful to display download percentage\r\n\t\t\t\t\t// might be -1: server did not report the length\r\n\t\t\t\t\tint fileLength = connection.getContentLength();\r\n\r\n\t\t\t\t\t// download the file\r\n\t\t\t\t\tinput = connection.getInputStream();\r\n\t\t\t\t\toutput = new FileOutputStream(offlineNewPath);\r\n\r\n\t\t\t\t\tbyte data[] = new byte[4096];\r\n\t\t\t\t\tlong total = 0;\r\n\t\t\t\t\tint count;\r\n\t\t\t\t\twhile ((count = input.read(data)) != -1) {\r\n\t\t\t\t\t\t// allow canceling with back button\r\n\t\t\t\t\t\tif (isCancelled()) {\r\n\t\t\t\t\t\t\tinput.close();\r\n\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttotal += count;\r\n\t\t\t\t\t\t// publishing the progress....\r\n\t\t\t\t\t\tif (fileLength &gt; 0) {// only if total length is known\r\n\t\t\t\t\t\t\tif (numberOfTask == 1) {\r\n\t\t\t\t\t\t\t\tpublishProgress((int) (total * 50 / fileLength));\r\n\t\t\t\t\t\t\t} else if (numberOfTask == 2) {\r\n\t\t\t\t\t\t\t\tpublishProgress(((int) (total * 50 / fileLength)) + 50);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\toutput.write(data, 0, count);\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\treturn e.toString();\r\n\t\t\t\t} finally {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tif (output != null)\r\n\t\t\t\t\t\t\toutput.close();\r\n\t\t\t\t\t\tif (input != null)\r\n\t\t\t\t\t\t\tinput.close();\r\n\t\t\t\t\t} catch (IOException ignored) {\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (connection != null)\r\n\t\t\t\t\t\tconnection.disconnect();\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<pre><code>    private class DownloadTask extends AsyncTask&lt;String, Integer, String&gt; {\n\n        private PowerManager.WakeLock mWakeLock;\n        String onlinePathBundle, onlinePathMusic, offlinePathBundle, offlinePathMusic;\n\n        CircleProgressBar progressBar;\n        RelativeLayout rl_progress;\n        ImageView btn_download;\n        TextView tv_progress;\n\n        public DownloadTask(String onlinePathBundle, String onlinePathMusic, String offlinePathBundle, String offlinePathMusic, CircleProgressBar progressBar, RelativeLayout rl_progress, ImageView btn_download,\n                            TextView tv_progress) {\n            this.offlinePathBundle = offlinePathBundle;\n            this.offlinePathMusic = offlinePathMusic;\n            this.progressBar = progressBar;\n            this.rl_progress = rl_progress;\n            this.btn_download = btn_download;\n            this.tv_progress = tv_progress;\n            this.onlinePathBundle = onlinePathBundle;\n            this.onlinePathMusic = onlinePathMusic;\n        }\n\n        @Override\n        protected void onPreExecute() {\n            super.onPreExecute();\n            progressBar.setMax(100);\n            rl_progress.setVisibility(View.VISIBLE);\n            btn_download.setVisibility(View.GONE);\n\n            PowerManager pm = (PowerManager) getSystemService(Context.POWER_SERVICE);\n            mWakeLock = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK, getClass().getName());\n            mWakeLock.acquire();\n        }\n\n        @Override\n        protected String doInBackground(String... sUrl) {\n            String firstResult = downTask(onlinePathBundle, 1, offlinePathBundle);\n            String seondResult = downTask(onlinePathMusic, 2, offlinePathMusic);\n            if (firstResult != null) {\n                Toast.makeText(SplashActivity.this, &quot;Download error: &quot; + firstResult, Toast.LENGTH_LONG).show();\n                return firstResult;\n            } else {\n                return seondResult;\n            }\n\n        }\n\n        @Override\n        protected void onProgressUpdate(Integer... progress) {\n            super.onProgressUpdate(progress);\n            progressBar.setProgress(progress[0]);\n            tv_progress.setText(progress[0] + &quot;%&quot;);\n\n        }\n\n        @Override\n        protected void onPostExecute(String result) {\n            super.onPostExecute(result);\n            rl_progress.setVisibility(View.GONE);\n            btn_download.setVisibility(View.VISIBLE);\n            if (result != null) {\n                Toast.makeText(SplashActivity.this, &quot;Download error: &quot; + result, Toast.LENGTH_LONG).show();\n            } else {\n                rl_progress.setVisibility(View.GONE);\n                btn_download.setVisibility(View.GONE);\n            }\n\n        }\n\n        public String downTask(String onlineNewPath, int numberOfTask, String offlineNewPath) {\n            InputStream input = null;\n            OutputStream output = null;\n            HttpURLConnection connection = null;\n            try {\n                URL url = new URL(onlineNewPath);\n                connection = (HttpURLConnection) url.openConnection();\n                connection.connect();\n\n                // expect HTTP 200 OK, so we don't mistakenly save error report\n                // instead of the file\n                if (connection.getResponseCode() != HttpURLConnection.HTTP_OK) {\n                    return &quot;Server returned HTTP &quot; + connection.getResponseCode()\n                            + &quot; &quot; + connection.getResponseMessage();\n                }\n\n                // this will be useful to display download percentage\n                // might be -1: server did not report the length\n                int fileLength = connection.getContentLength();\n\n                // download the file\n                input = connection.getInputStream();\n                output = new FileOutputStream(offlineNewPath);\n\n                byte data[] = new byte[4096];\n                long total = 0;\n                int count;\n                while ((count = input.read(data)) != -1) {\n                    // allow canceling with back button\n                    if (isCancelled()) {\n                        input.close();\n                        return null;\n                    }\n                    total += count;\n                    // publishing the progress....\n                    if (fileLength &gt; 0) {// only if total length is known\n                        if (numberOfTask == 1) {\n                            publishProgress((int) (total * 50 / fileLength));\n                        } else if (numberOfTask == 2) {\n                            publishProgress(((int) (total * 50 / fileLength)) + 50);\n                        }\n\n                    }\n                    output.write(data, 0, count);\n                }\n            } catch (Exception e) {\n                return e.toString();\n            } finally {\n                try {\n                    if (output != null)\n                        output.close();\n                    if (input != null)\n                        input.close();\n                } catch (IOException ignored) {\n                }\n\n                if (connection != null)\n                    connection.disconnect();\n            }\n            return null;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663821512,"creation_date":1663821512,"answer_id":73809414,"question_id":3028306,"body_markdown":"I have came across a **Simple File Download** library \r\n[Fetch][1] and importantly it has **Storage Access Framework**, **Content Provider** and **URI** support. If anyone is still searching might found it helpful.\r\n\r\n&gt; implementation &quot;androidx.tonyodev.fetch2:xfetch2:3.1.6&quot;  //AndroidX\r\n\r\n&gt; implementation &quot;com.tonyodev.fetch2:fetch2:3.0.12&quot;  //Support lib\r\n\r\nRequired permissions in case your are not using app specific directory.\r\n\r\n`&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;`\r\n\r\n`&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;`\r\n\r\nInternet permission\r\n\r\n`&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;`\r\n   \r\n    private Fetch fetch;\r\n    FetchConfiguration fetchConfiguration = new FetchConfiguration.Builder(this)\r\n                    .setDownloadConcurrentLimit(3)//Concurrent Download limit\r\n                    .build();\r\n    \r\n            fetch = Fetch.Impl.getInstance(fetchConfiguration);\r\n    \r\n            String url = &quot;http:www.example.com/test.txt&quot;;//URL of file\r\n            String file = &quot;/downloads/test.txt&quot;;//Path of file\r\n            \r\n            final Request request = new Request(url, file);\r\n            request.setPriority(Priority.HIGH);\r\n            request.setNetworkType(NetworkType.ALL);//Preferred network type\r\n            request.addHeader(&quot;clientKey&quot;, &quot;SD78DF93_3947&amp;MVNGHE1WONG&quot;);//Auth header if any\r\n            \r\n            fetch.enqueue(request, updatedRequest -&gt; {\r\n                //Request was successfully enqueued for download.\r\n            }, error -&gt; {\r\n                //An error occurred enqueuing the request.\r\n            });\r\n    \r\n        }\r\n\r\nListen for update and progress\r\n\r\n    FetchListener fetchListener = new FetchListener() {\r\n        @Override\r\n        public void onQueued(@NotNull Download download, boolean waitingOnNetwork) {\r\n            if (request.getId() == download.getId()) {\r\n                showDownloadInList(download);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onCompleted(@NotNull Download download) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onError(@NotNull Download download) {\r\n            Error error = download.getError();\r\n        }\r\n    \r\n        @Override\r\n        public void onProgress(@NotNull Download download, long etaInMilliSeconds, long downloadedBytesPerSecond) {\r\n            if (request.getId() == download.getId()) {\r\n                updateDownload(download, etaInMilliSeconds);\r\n            }\r\n            int progress = download.getProgress();\r\n        }\r\n    \r\n        @Override\r\n        public void onPaused(@NotNull Download download) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onResumed(@NotNull Download download) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onCancelled(@NotNull Download download) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onRemoved(@NotNull Download download) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onDeleted(@NotNull Download download) {\r\n    \r\n        }\r\n    };\r\n    \r\n    fetch.addListener(fetchListener);\r\n    \r\n    //Remove listener when done.\r\n    fetch.removeListener(fetchListener);\r\n\r\n  \r\n\r\n\r\n\r\nThis example code is taken from the owner page all credit goes to [Tonyo Francis][2]\r\n\r\n\r\n  [1]: https://github.com/tonyofrancis/Fetch\r\n  [2]: https://github.com/tonyofrancis","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>I have came across a <strong>Simple File Download</strong> library\n<a href=\"https://github.com/tonyofrancis/Fetch\" rel=\"nofollow noreferrer\">Fetch</a> and importantly it has <strong>Storage Access Framework</strong>, <strong>Content Provider</strong> and <strong>URI</strong> support. If anyone is still searching might found it helpful.</p>\n<blockquote>\n<p>implementation &quot;androidx.tonyodev.fetch2:xfetch2:3.1.6&quot;  //AndroidX</p>\n</blockquote>\n<blockquote>\n<p>implementation &quot;com.tonyodev.fetch2:fetch2:3.0.12&quot;  //Support lib</p>\n</blockquote>\n<p>Required permissions in case your are not using app specific directory.</p>\n<p><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;</code></p>\n<p><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;</code></p>\n<p>Internet permission</p>\n<p><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;</code></p>\n<pre><code>private Fetch fetch;\nFetchConfiguration fetchConfiguration = new FetchConfiguration.Builder(this)\n                .setDownloadConcurrentLimit(3)//Concurrent Download limit\n                .build();\n\n        fetch = Fetch.Impl.getInstance(fetchConfiguration);\n\n        String url = &quot;http:www.example.com/test.txt&quot;;//URL of file\n        String file = &quot;/downloads/test.txt&quot;;//Path of file\n        \n        final Request request = new Request(url, file);\n        request.setPriority(Priority.HIGH);\n        request.setNetworkType(NetworkType.ALL);//Preferred network type\n        request.addHeader(&quot;clientKey&quot;, &quot;SD78DF93_3947&amp;MVNGHE1WONG&quot;);//Auth header if any\n        \n        fetch.enqueue(request, updatedRequest -&gt; {\n            //Request was successfully enqueued for download.\n        }, error -&gt; {\n            //An error occurred enqueuing the request.\n        });\n\n    }\n</code></pre>\n<p>Listen for update and progress</p>\n<pre><code>FetchListener fetchListener = new FetchListener() {\n    @Override\n    public void onQueued(@NotNull Download download, boolean waitingOnNetwork) {\n        if (request.getId() == download.getId()) {\n            showDownloadInList(download);\n        }\n    }\n\n    @Override\n    public void onCompleted(@NotNull Download download) {\n\n    }\n\n    @Override\n    public void onError(@NotNull Download download) {\n        Error error = download.getError();\n    }\n\n    @Override\n    public void onProgress(@NotNull Download download, long etaInMilliSeconds, long downloadedBytesPerSecond) {\n        if (request.getId() == download.getId()) {\n            updateDownload(download, etaInMilliSeconds);\n        }\n        int progress = download.getProgress();\n    }\n\n    @Override\n    public void onPaused(@NotNull Download download) {\n\n    }\n\n    @Override\n    public void onResumed(@NotNull Download download) {\n\n    }\n\n    @Override\n    public void onCancelled(@NotNull Download download) {\n\n    }\n\n    @Override\n    public void onRemoved(@NotNull Download download) {\n\n    }\n\n    @Override\n    public void onDeleted(@NotNull Download download) {\n\n    }\n};\n\nfetch.addListener(fetchListener);\n\n//Remove listener when done.\nfetch.removeListener(fetchListener);\n</code></pre>\n<p>This example code is taken from the owner page all credit goes to <a href=\"https://github.com/tonyofrancis\" rel=\"nofollow noreferrer\">Tonyo Francis</a></p>\n"}],"owner":{"account_id":150425,"reputation":19449,"user_id":363606,"accept_rate":97,"display_name":"Tom Leese"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":626707,"favorite_count":0,"down_vote_count":1,"up_vote_count":1129,"accepted_answer_id":3028660,"answer_count":16,"score":1128,"last_activity_date":1664738467,"creation_date":1276338176,"question_id":3028306,"body_markdown":"I am trying to write a simple application that gets updated. For this I need a simple function that can download a file and *show the current progress* in a `ProgressDialog`. I know how to do the `ProgressDialog`, but I&#39;m not sure how to display the current progress and how to download the file in the first place.","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>I am trying to write a simple application that gets updated. For this I need a simple function that can download a file and <em>show the current progress</em> in a <code>ProgressDialog</code>. I know how to do the <code>ProgressDialog</code>, but I'm not sure how to display the current progress and how to download the file in the first place.</p>\n"},{"tags":["java","multithreading","interrupted-exception"],"comments":[{"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":1,"creation_date":1664716758,"post_id":73926124,"comment_id":130530954,"body_markdown":"I really struggle to understand &quot;*Java Thread&#39;s doesn&#39;t accept a Runnable that allows throwing of InterruptedException*&quot;...","body":"I really struggle to understand &quot;<i>Java Thread&#39;s doesn&#39;t accept a Runnable that allows throwing of InterruptedException</i>&quot;..."},{"owner":{"account_id":1316033,"reputation":7855,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"score":0,"creation_date":1664716832,"post_id":73926124,"comment_id":130530968,"body_markdown":"@GiorgiTsiklauri The standard `Runnable` that you can pass to `Thread`s constructor does not allow you to throw an `InterruptedException` from its `run` method because `InterruptedException` is a checked exception.","body":"@GiorgiTsiklauri The standard <code>Runnable</code> that you can pass to <code>Thread</code>s constructor does not allow you to throw an <code>InterruptedException</code> from its <code>run</code> method because <code>InterruptedException</code> is a checked exception."},{"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1664717260,"post_id":73926124,"comment_id":130531056,"body_markdown":"So, it&#39;s not about `Runnable` but it&#39;s about *`run`* method.. it&#39;s now clearer.","body":"So, it&#39;s not about <code>Runnable</code> but it&#39;s about <i><code>run</code></i> method.. it&#39;s now clearer."}],"answers":[{"comments":[{"owner":{"account_id":1316033,"reputation":7855,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"score":0,"creation_date":1664717553,"post_id":73926210,"comment_id":130531125,"body_markdown":"Thanks, but I&#39;m not trying to catch an exception from a thread in another thread. The uncaught handler will log it, I know, I&#39;m just asking why would `run` not have been declared to throw `InterruptedException` to make it easier to terminate threads with out having to go through the `try...catch` boilerplate.  Any runtime exception terminates the thread, but an `InterruptedException` should for some reason be disallowed?","body":"Thanks, but I&#39;m not trying to catch an exception from a thread in another thread. The uncaught handler will log it, I know, I&#39;m just asking why would <code>run</code> not have been declared to throw <code>InterruptedException</code> to make it easier to terminate threads with out having to go through the <code>try...catch</code> boilerplate.  Any runtime exception terminates the thread, but an <code>InterruptedException</code> should for some reason be disallowed?"},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1664717869,"post_id":73926210,"comment_id":130531209,"body_markdown":"@john16384: i think this is just another argument against checked exceptions, let the exception be thrown and kill the thread?","body":"@john16384: i think this is just another argument against checked exceptions, let the exception be thrown and kill the thread?"},{"owner":{"account_id":1316033,"reputation":7855,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"score":0,"creation_date":1664718111,"post_id":73926210,"comment_id":130531264,"body_markdown":"certainly not, I&#39;m highly in favor of checked exceptions, just missing why an exception intended to interrupt / stop a thread isn&#39;t part of the declaration of the `run` method which serves as the entry points for many threads; been looking through the JBS is something was proposed like this, and this is the most similar ticket I could find: https://bugs.openjdk.org/browse/JDK-8150342","body":"certainly not, I&#39;m highly in favor of checked exceptions, just missing why an exception intended to interrupt / stop a thread isn&#39;t part of the declaration of the <code>run</code> method which serves as the entry points for many threads; been looking through the JBS is something was proposed like this, and this is the most similar ticket I could find: <a href=\"https://bugs.openjdk.org/browse/JDK-8150342\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8150342</a>"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1664731012,"post_id":73926210,"comment_id":130534053,"body_markdown":"@john16384, `InterruptedException` is not intended to stop a thread. It is intended to get a thread&#39;s attention. If _you_ want it to stop _your_ thread, then it&#39;s up to you to write a handler so that the thread can catch the exception and then _cleanly_ stop itself.","body":"@john16384, <code>InterruptedException</code> is not intended to stop a thread. It is intended to get a thread&#39;s attention. If <i>you</i> want it to stop <i>your</i> thread, then it&#39;s up to you to write a handler so that the thread can catch the exception and then <i>cleanly</i> stop itself."}],"tags":[],"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664737739,"creation_date":1664717306,"answer_id":73926210,"question_id":73926124,"body_markdown":"Exceptions don&#39;t propagate across threads, for instance you need an UncaughtExceptionHandler to retrieve the exception thrown by another thread, see https://stackoverflow.com/q/6546193/217324.\r\n\r\nSo putting InterruptedException in the throws clause creates a false expectation, the exception still can&#39;t be thrown in one thread and caught in another. That&#39;s the only reason I can think of for not doing this, they are trying to communicate to the developer that the toplevel run method for a thread needs to handle everything. Putting InterruptedException in the throws clause dilutes this message, as the developer isn&#39;t forced to deal with it. \r\n\r\nBut yes, they could have added InterruptedException to the throws clause of Runnable, that would make this case much simpler. But there are design goals in conflict. The designars want developers to be very aware of the exception behavior, including making  InterruptedException checked, but it&#39;s not having it in the throws clause that forces people to deal with it. The goal of letting simple things be easy and having a thread call sleep without a catch is at odds with that so it wasn&#39;t implemented. ","title":"Design: Would it not make more sense to construct a Thread with something that can throw an InterruptedException?","body":"<p>Exceptions don't propagate across threads, for instance you need an UncaughtExceptionHandler to retrieve the exception thrown by another thread, see <a href=\"https://stackoverflow.com/q/6546193/217324\">How to catch an Exception from a thread</a>.</p>\n<p>So putting InterruptedException in the throws clause creates a false expectation, the exception still can't be thrown in one thread and caught in another. That's the only reason I can think of for not doing this, they are trying to communicate to the developer that the toplevel run method for a thread needs to handle everything. Putting InterruptedException in the throws clause dilutes this message, as the developer isn't forced to deal with it.</p>\n<p>But yes, they could have added InterruptedException to the throws clause of Runnable, that would make this case much simpler. But there are design goals in conflict. The designars want developers to be very aware of the exception behavior, including making  InterruptedException checked, but it's not having it in the throws clause that forces people to deal with it. The goal of letting simple things be easy and having a thread call sleep without a catch is at odds with that so it wasn't implemented.</p>\n"}],"owner":{"account_id":1316033,"reputation":7855,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664737739,"creation_date":1664716626,"question_id":73926124,"body_markdown":"I&#39;m wondering what might have been the reason Java Thread&#39;s doesn&#39;t accept a `Runnable` that allows throwing of `InterruptedException`. If instead an `InterruptableRunnable` was accepted, it would simplify a lot of code that will simply want to stop the thread when interrupted.\r\n\r\n    interface InterruptableRunnable {\r\n        void run() throws InterruptedException;\r\n    }\r\n\r\nBefore:\r\n\r\n    new Thread(() -&gt; {\r\n        try {\r\n            Thread.sleep(1000);\r\n        }\r\n        catch (InterruptedException e) {\r\n            // Some confusion ensues here as to what to do;\r\n            // - Should we restore the interrupt? For who? Guess not.\r\n            // - Should we rethrow it? That would terminate thread exceptionally...\r\n            // - Just return then? Sounds good...\r\n            \r\n            return;\r\n        }\r\n    }).start();\r\n\r\nNow, if instead you could use an `InterruptableRunnable` the code would be far simpler, and I think just as correct:\r\n\r\n    new Thread(() -&gt; {\r\n        Thread.sleep(1000);\r\n    }).start();\r\n\r\nOn an interrupt, the thread gets terminated exactly as you&#39;d expect -- and the system could be smart enough not to consider an `InterruptedException` as an exceptional termination condition. If that&#39;s not what you want, you always have the option of catching the exception.\r\n\r\nFor similar reasons, what could have been the reasoning `Thread#run()` is not declared to throw `InterruptedException`...","title":"Design: Would it not make more sense to construct a Thread with something that can throw an InterruptedException?","body":"<p>I'm wondering what might have been the reason Java Thread's doesn't accept a <code>Runnable</code> that allows throwing of <code>InterruptedException</code>. If instead an <code>InterruptableRunnable</code> was accepted, it would simplify a lot of code that will simply want to stop the thread when interrupted.</p>\n<pre><code>interface InterruptableRunnable {\n    void run() throws InterruptedException;\n}\n</code></pre>\n<p>Before:</p>\n<pre><code>new Thread(() -&gt; {\n    try {\n        Thread.sleep(1000);\n    }\n    catch (InterruptedException e) {\n        // Some confusion ensues here as to what to do;\n        // - Should we restore the interrupt? For who? Guess not.\n        // - Should we rethrow it? That would terminate thread exceptionally...\n        // - Just return then? Sounds good...\n        \n        return;\n    }\n}).start();\n</code></pre>\n<p>Now, if instead you could use an <code>InterruptableRunnable</code> the code would be far simpler, and I think just as correct:</p>\n<pre><code>new Thread(() -&gt; {\n    Thread.sleep(1000);\n}).start();\n</code></pre>\n<p>On an interrupt, the thread gets terminated exactly as you'd expect -- and the system could be smart enough not to consider an <code>InterruptedException</code> as an exceptional termination condition. If that's not what you want, you always have the option of catching the exception.</p>\n<p>For similar reasons, what could have been the reasoning <code>Thread#run()</code> is not declared to throw <code>InterruptedException</code>...</p>\n"},{"tags":["java","multithreading","concurrency","thread-local","thread-confinement"],"comments":[{"owner":{"account_id":1861835,"reputation":4286,"user_id":1686291,"accept_rate":73,"display_name":"Not a bug"},"score":13,"creation_date":1455192376,"post_id":817856,"comment_id":58384994,"body_markdown":"If you are using ThreadLocal, never write a wrapper over it !!! Each and every developer who wants to use the variable must know it is &#39;ThreadLocal&#39;","body":"If you are using ThreadLocal, never write a wrapper over it !!! Each and every developer who wants to use the variable must know it is &#39;ThreadLocal&#39;"},{"owner":{"account_id":228170,"reputation":16153,"user_id":490315,"accept_rate":94,"display_name":"whirlwin"},"score":2,"creation_date":1490879935,"post_id":817856,"comment_id":73317327,"body_markdown":"@Notabug If you are explicit, you can name your variable so that it&#39;s it that you&#39;re dealing with a ThreadLocal value, e.g. `RequestUtils.getCurrentRequestThreadLocal()`. Not saying this is very elegant though, but this stems from the fact that ThreadLocal itself is not very elegant in most cases.","body":"@Notabug If you are explicit, you can name your variable so that it&#39;s it that you&#39;re dealing with a ThreadLocal value, e.g. <code>RequestUtils.getCurrentRequestThreadLocal()</code>. Not saying this is very elegant though, but this stems from the fact that ThreadLocal itself is not very elegant in most cases."}],"answers":[{"comments":[{"owner":{"account_id":16974,"reputation":9287,"user_id":37539,"accept_rate":75,"display_name":"Ian Varley"},"score":21,"creation_date":1274889994,"post_id":817864,"comment_id":2966244,"body_markdown":"By default, static objects, or objects explicitly passed between threads where both threads posses a reference to the same object, are shared. Objects declared locally in a thread are not shared (they&#39;re local to the thread&#39;s stack). Just wanted to clarify that.","body":"By default, static objects, or objects explicitly passed between threads where both threads posses a reference to the same object, are shared. Objects declared locally in a thread are not shared (they&#39;re local to the thread&#39;s stack). Just wanted to clarify that."},{"owner":{"account_id":996598,"reputation":6067,"user_id":1012372,"accept_rate":49,"display_name":"Jayesh"},"score":0,"creation_date":1465875462,"post_id":817864,"comment_id":63070300,"body_markdown":"@IanVarley: Thanks for pointing that. So if we have variable that is declared and used in MyThread class, then do we need ThreadLocal in that case? Example: class MyThread extends Thread{ String var1;, int var2; } in this case var1 and var2 will be part of Thread own stack and is not shared, so do we require ThreadLocal in this case? I might be totally wrong in my understanding, please guide.","body":"@IanVarley: Thanks for pointing that. So if we have variable that is declared and used in MyThread class, then do we need ThreadLocal in that case? Example: class MyThread extends Thread{ String var1;, int var2; } in this case var1 and var2 will be part of Thread own stack and is not shared, so do we require ThreadLocal in this case? I might be totally wrong in my understanding, please guide."},{"owner":{"account_id":1242531,"reputation":3284,"user_id":1204781,"accept_rate":63,"display_name":"sudeepdino008"},"score":4,"creation_date":1466757574,"post_id":817864,"comment_id":63461215,"body_markdown":"If each thread wants to have its own copy of something, why can&#39;t it simply be declared local( which is always thread safe)?","body":"If each thread wants to have its own copy of something, why can&#39;t it simply be declared local( which is always thread safe)?"},{"owner":{"account_id":6960621,"reputation":623,"user_id":5340181,"display_name":"JMess"},"score":1,"creation_date":1524610168,"post_id":817864,"comment_id":87039878,"body_markdown":"@sudeepdino008 you don&#39;t always have control of the creation of those threads (webapp frameworks, threadpool libraries)","body":"@sudeepdino008 you don&#39;t always have control of the creation of those threads (webapp frameworks, threadpool libraries)"}],"tags":[],"owner":{"account_id":11369,"reputation":274348,"user_id":21886,"accept_rate":88,"display_name":"RichieHindle"},"comment_count":4,"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1393507894,"creation_date":1241381121,"answer_id":817864,"question_id":817856,"body_markdown":"[The documentation][1] says it very well: &quot;each thread that accesses [a thread-local variable] (via its get or set method) has its own, independently initialized copy of the variable&quot;.\r\n\r\nYou use one when each thread must have its own copy of something.  By default, data is shared between threads.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/ThreadLocal.html","title":"When and how should I use a ThreadLocal variable?","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/ThreadLocal.html\" rel=\"noreferrer\">The documentation</a> says it very well: \"each thread that accesses [a thread-local variable] (via its get or set method) has its own, independently initialized copy of the variable\".</p>\n\n<p>You use one when each thread must have its own copy of something.  By default, data is shared between threads.</p>\n"},{"comments":[{"owner":{"account_id":80364,"reputation":90939,"user_id":227299,"accept_rate":72,"display_name":"Ruan Mendes"},"score":13,"creation_date":1373580275,"post_id":817911,"comment_id":25622695,"body_markdown":"So you should avoid thread locals the same way you avoid globals. I cannot possibly accept that it&#39;s OK to create globals (thread locals) instead of passing values around, people don&#39;t like because it often reveals architecture problems that they don&#39;t want to fix.","body":"So you should avoid thread locals the same way you avoid globals. I cannot possibly accept that it&#39;s OK to create globals (thread locals) instead of passing values around, people don&#39;t like because it often reveals architecture problems that they don&#39;t want to fix."},{"owner":{"account_id":83658,"reputation":1362,"user_id":234391,"accept_rate":57,"display_name":"Cornel Masson"},"score":11,"creation_date":1406108801,"post_id":817911,"comment_id":38695149,"body_markdown":"Perhaps... It can be useful, though, if you have a huge, existing codebase to which you have to add a new datum that has to be passed around _everywhere_, e.g. a session context, db transaction, logged-in user, etc.","body":"Perhaps... It can be useful, though, if you have a huge, existing codebase to which you have to add a new datum that has to be passed around <i>everywhere</i>, e.g. a session context, db transaction, logged-in user, etc."},{"owner":{"account_id":1733652,"reputation":1606,"user_id":1586687,"accept_rate":50,"display_name":"deep"},"score":7,"creation_date":1466527059,"post_id":817911,"comment_id":63348733,"body_markdown":"Kudos for using datum instead of data.","body":"Kudos for using datum instead of data."},{"owner":{"account_id":416701,"reputation":4306,"user_id":792238,"accept_rate":87,"display_name":"Siddhartha"},"score":1,"creation_date":1591165314,"post_id":817911,"comment_id":109947697,"body_markdown":"This made me curious. ```&#39;datum&#39; is the singular form and &#39;data&#39; is the plural form. ```","body":"This made me curious. <code>&#39;datum&#39; is the singular form and &#39;data&#39; is the plural form. </code>"}],"tags":[],"owner":{"account_id":35470,"reputation":17531,"user_id":100464,"accept_rate":91,"display_name":"user100464"},"comment_count":4,"down_vote_count":1,"up_vote_count":56,"is_accepted":false,"score":55,"last_activity_date":1241382039,"creation_date":1241382039,"answer_id":817911,"question_id":817856,"body_markdown":"In Java, if you have a datum that can vary per-thread, your choices are to pass that datum around to every method that needs (or may need) it, or to associate the datum with the thread.  Passing the datum around everywhere may be workable if all your methods already need to pass around a common &quot;context&quot; variable.  \r\n\r\nIf that&#39;s not the case, you may not want to clutter up your method signatures with an additional parameter.  In a non-threaded world, you could solve the problem with the Java equivalent of a global variable.  In a threaded word, the equivalent of a global variable is a thread-local variable.\r\n","title":"When and how should I use a ThreadLocal variable?","body":"<p>In Java, if you have a datum that can vary per-thread, your choices are to pass that datum around to every method that needs (or may need) it, or to associate the datum with the thread.  Passing the datum around everywhere may be workable if all your methods already need to pass around a common \"context\" variable.  </p>\n\n<p>If that's not the case, you may not want to clutter up your method signatures with an additional parameter.  In a non-threaded world, you could solve the problem with the Java equivalent of a global variable.  In a threaded word, the equivalent of a global variable is a thread-local variable.</p>\n"},{"comments":[{"owner":{"account_id":15307,"reputation":17620,"user_id":32174,"accept_rate":71,"display_name":"Julien Chastang"},"score":173,"creation_date":1241408353,"post_id":817926,"comment_id":627914,"body_markdown":"Another alternative to synchronization or threadlocal is to make the variable a local variable. Local vars are always thread safe. I assume that it is bad practice to make DateFormats local because they are expensive to create, but I have never seen solid metrics on this topic.","body":"Another alternative to synchronization or threadlocal is to make the variable a local variable. Local vars are always thread safe. I assume that it is bad practice to make DateFormats local because they are expensive to create, but I have never seen solid metrics on this topic."},{"owner":{"account_id":887421,"reputation":5160,"user_id":926520,"accept_rate":75,"display_name":"Pankaj"},"score":0,"creation_date":1356923862,"post_id":817926,"comment_id":19500485,"body_markdown":"Here is a complete example showing different threads have their own copy. http://www.journaldev.com/1076/java-threadlocal-example-to-create-thread-local-variables","body":"Here is a complete example showing different threads have their own copy. <a href=\"http://www.journaldev.com/1076/java-threadlocal-example-to-create-thread-local-variables\" rel=\"nofollow noreferrer\">journaldev.com/1076/&hellip;</a>"},{"owner":{"account_id":416223,"reputation":376,"user_id":791486,"display_name":"Friedryk"},"score":0,"creation_date":1357923042,"post_id":817926,"comment_id":19832107,"body_markdown":"I&#39;ve just being hit the face with date/calendar/format concurrency problems. Though I understood quickly what was going on, your post made it plain and simple to solve my problems without major overhaul of my code. Thanks!  Personnally I made a point in calling ThreadLocal remove after each get(), idealy in a finally clause. Any thoughts if it is overkill ? I wanted to make sure memory could be reclaimed after execution of enclosing Thread.","body":"I&#39;ve just being hit the face with date/calendar/format concurrency problems. Though I understood quickly what was going on, your post made it plain and simple to solve my problems without major overhaul of my code. Thanks!  Personnally I made a point in calling ThreadLocal remove after each get(), idealy in a finally clause. Any thoughts if it is overkill ? I wanted to make sure memory could be reclaimed after execution of enclosing Thread."},{"owner":{"account_id":1896959,"reputation":2752,"user_id":1713695,"display_name":"Alexander Ryzhov"},"score":22,"creation_date":1372354343,"post_id":817926,"comment_id":25173897,"body_markdown":"This is high price to pay for hacking `SimpleDateFormat`. Perhaps it&#39;s better to use [a thread-safe alternative](http://stackoverflow.com/questions/10411944/java-text-simpledateformat-not-thread-safe). If you agree that [singletons are bad](http://stackoverflow.com/questions/137975/what-is-so-bad-about-singletons) then `ThreadLocal` is even worse.","body":"This is high price to pay for hacking <code>SimpleDateFormat</code>. Perhaps it&#39;s better to use <a href=\"http://stackoverflow.com/questions/10411944/java-text-simpledateformat-not-thread-safe\">a thread-safe alternative</a>. If you agree that <a href=\"http://stackoverflow.com/questions/137975/what-is-so-bad-about-singletons\">singletons are bad</a> then <code>ThreadLocal</code> is even worse."},{"owner":{"account_id":448055,"reputation":1447,"user_id":842056,"accept_rate":62,"display_name":"Sachin Gorade"},"score":5,"creation_date":1438670329,"post_id":817926,"comment_id":51531090,"body_markdown":"@overthink Is there any reason to declare ThreadLocal static and final, I mean performance or something?","body":"@overthink Is there any reason to declare ThreadLocal static and final, I mean performance or something?"},{"owner":{"account_id":3721597,"reputation":1647,"user_id":3096537,"display_name":"Renascienza"},"score":1,"creation_date":1439315069,"post_id":817926,"comment_id":51806609,"body_markdown":"@SachinGorade is just to enforce just one formatter instance for each classloader.\n\nOn environment that have just one main classloader, that works like a Singleton.","body":"@SachinGorade is just to enforce just one formatter instance for each classloader.  On environment that have just one main classloader, that works like a Singleton."},{"owner":{"account_id":3721597,"reputation":1647,"user_id":3096537,"display_name":"Renascienza"},"score":1,"creation_date":1439315757,"post_id":817926,"comment_id":51806957,"body_markdown":"Singletons doesn&#39;t are &quot;good&quot; or &quot;bad&quot; on all situations. On a nutshell:\n\nThe main objective of a Singleton is keep the creation of expensible objects at minimum, preferably only one.\n\nOn multiple classloading environments (like web application containers) they are almost useless.\n\nThey are hard to unit test or use on testing. Do you need a strategy to deal with.","body":"Singletons doesn&#39;t are &quot;good&quot; or &quot;bad&quot; on all situations. On a nutshell:  The main objective of a Singleton is keep the creation of expensible objects at minimum, preferably only one.  On multiple classloading environments (like web application containers) they are almost useless.  They are hard to unit test or use on testing. Do you need a strategy to deal with."},{"owner":{"account_id":1242531,"reputation":3284,"user_id":1204781,"accept_rate":63,"display_name":"sudeepdino008"},"score":8,"creation_date":1466758440,"post_id":817926,"comment_id":63461690,"body_markdown":"The ThreadLocal.get() method will call ThreadLocal.initialValue() (once) for each thread, which means that a SimpleDateFormat object is created for each thread. Isn&#39;t it better then just to have SimpleDateFormat as local variables(since we don&#39;t have to deal with garbage collection issues) ?","body":"The ThreadLocal.get() method will call ThreadLocal.initialValue() (once) for each thread, which means that a SimpleDateFormat object is created for each thread. Isn&#39;t it better then just to have SimpleDateFormat as local variables(since we don&#39;t have to deal with garbage collection issues) ?"},{"owner":{"account_id":3453445,"reputation":240,"user_id":2892515,"accept_rate":93,"display_name":"Enerccio"},"score":1,"creation_date":1467365186,"post_id":817926,"comment_id":63713362,"body_markdown":"@sudeepdino008 no because new SimpleDateFormat would have to be created each call to the method, which is silly","body":"@sudeepdino008 no because new SimpleDateFormat would have to be created each call to the method, which is silly"},{"owner":{"account_id":2199682,"reputation":569,"user_id":1944408,"accept_rate":67,"display_name":"user1944408"},"score":4,"creation_date":1469632844,"post_id":817926,"comment_id":64620156,"body_markdown":"Just be careful not to use double brace initialization for your SimpleDateFormat because that would create an anonymous class so your class loader could not be garbage collected.\nmemory leak: return new SimpleDateFormat(){{applyPattern(&quot;yyyyMMdd HHmm&quot;)}};","body":"Just be careful not to use double brace initialization for your SimpleDateFormat because that would create an anonymous class so your class loader could not be garbage collected. memory leak: return new SimpleDateFormat(){{applyPattern(&quot;yyyyMMdd HHmm&quot;)}};"},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":1,"creation_date":1505839879,"post_id":817926,"comment_id":79573796,"body_markdown":"@AlexanderRyzhov, A thread-safe alternative is an even higher price to pay since you need to pay synchronization overhead on every method call. Use a local variable instead.","body":"@AlexanderRyzhov, A thread-safe alternative is an even higher price to pay since you need to pay synchronization overhead on every method call. Use a local variable instead."},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":1,"creation_date":1505839955,"post_id":817926,"comment_id":79573846,"body_markdown":"@Enerccio, Dude, a member variable in the context of each object instance. It can be accessible from all method calls.","body":"@Enerccio, Dude, a member variable in the context of each object instance. It can be accessible from all method calls."},{"owner":{"account_id":3453445,"reputation":240,"user_id":2892515,"accept_rate":93,"display_name":"Enerccio"},"score":2,"creation_date":1505893190,"post_id":817926,"comment_id":79593462,"body_markdown":"@Pacerier how is member variable related? He was talking about local variable, which means every method call, new `SimpleDateFormat` would be created, which is a waste. Thread local is much better because it is flexible and memory &quot;leak&quot; is hardly noticeable and can be managed when thread is destroyed anyways. Member variable `SimpleDateFormat` is bad because it is not thread safe!","body":"@Pacerier how is member variable related? He was talking about local variable, which means every method call, new <code>SimpleDateFormat</code> would be created, which is a waste. Thread local is much better because it is flexible and memory &quot;leak&quot; is hardly noticeable and can be managed when thread is destroyed anyways. Member variable <code>SimpleDateFormat</code> is bad because it is not thread safe!"},{"owner":{"account_id":3453445,"reputation":240,"user_id":2892515,"accept_rate":93,"display_name":"Enerccio"},"score":1,"creation_date":1505893375,"post_id":817926,"comment_id":79593571,"body_markdown":"@Pacerier why would you need any synchronization with `ThreadLocal`?","body":"@Pacerier why would you need any synchronization with <code>ThreadLocal</code>?"},{"owner":{"account_id":3023551,"reputation":688,"user_id":2564032,"display_name":"Vasif"},"score":1,"creation_date":1565716109,"post_id":817926,"comment_id":101436153,"body_markdown":"but this solution has own problem like your objects are still exist on ThreadPool and it can cause OOM issue if you are going to store different objects in ThreadLocal and your application get a lot of requests.\n\nI saw it as a solution for passing object to other methods without passing it as a parameter. So u can pu object in ThreadLocal and then remove it in finally to clear it up.","body":"but this solution has own problem like your objects are still exist on ThreadPool and it can cause OOM issue if you are going to store different objects in ThreadLocal and your application get a lot of requests.  I saw it as a solution for passing object to other methods without passing it as a parameter. So u can pu object in ThreadLocal and then remove it in finally to clear it up."},{"owner":{"account_id":2017134,"reputation":24247,"user_id":1804173,"accept_rate":77,"display_name":"bluenote10"},"score":0,"creation_date":1691781839,"post_id":817926,"comment_id":135543258,"body_markdown":"I don&#39;t really understand this example: My understanding is that access to an instance only has to be synchronized if mutability is involved. As long as things are immutable, everything is thread safe. Giving each thread its own instance &quot;solves&quot; the problem in the sense that each thread can happily mutate their own instance. But what&#39;s the use case for that? I mainly see use cases for **pure immutability** or **synchronized mutability**, and would be curious to understand under which circumstances &quot;diverging mutability&quot; is helpful.","body":"I don&#39;t really understand this example: My understanding is that access to an instance only has to be synchronized if mutability is involved. As long as things are immutable, everything is thread safe. Giving each thread its own instance &quot;solves&quot; the problem in the sense that each thread can happily mutate their own instance. But what&#39;s the use case for that? I mainly see use cases for <b>pure immutability</b> or <b>synchronized mutability</b>, and would be curious to understand under which circumstances &quot;diverging mutability&quot; is helpful."}],"tags":[],"owner":{"account_id":26685,"reputation":24085,"user_id":69689,"accept_rate":85,"display_name":"overthink"},"comment_count":16,"down_vote_count":1,"up_vote_count":917,"is_accepted":true,"score":916,"last_activity_date":1524678699,"creation_date":1241382377,"answer_id":817926,"question_id":817856,"body_markdown":"One possible (and common) use is when you have some object that is not thread-safe, but you want to avoid [synchronizing][1] access to that object (I&#39;m looking at you, [SimpleDateFormat][2]).  Instead, give each thread its own instance of the object.\r\n\r\nFor example:\r\n\r\n    public class Foo\r\n    {\r\n        // SimpleDateFormat is not thread-safe, so give one to each thread\r\n        private static final ThreadLocal&lt;SimpleDateFormat&gt; formatter = new ThreadLocal&lt;SimpleDateFormat&gt;(){\r\n            @Override\r\n            protected SimpleDateFormat initialValue()\r\n            {\r\n                return new SimpleDateFormat(&quot;yyyyMMdd HHmm&quot;);\r\n            }\r\n        };\r\n        \r\n        public String formatIt(Date date)\r\n        {\r\n            return formatter.get().format(date);\r\n        }\r\n    }\r\n\r\n[Documentation][3].\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/concurrency/sync.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/lang/ThreadLocal.html","title":"When and how should I use a ThreadLocal variable?","body":"<p>One possible (and common) use is when you have some object that is not thread-safe, but you want to avoid <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/sync.html\" rel=\"noreferrer\">synchronizing</a> access to that object (I'm looking at you, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">SimpleDateFormat</a>).  Instead, give each thread its own instance of the object.</p>\n\n<p>For example:</p>\n\n<pre><code>public class Foo\n{\n    // SimpleDateFormat is not thread-safe, so give one to each thread\n    private static final ThreadLocal&lt;SimpleDateFormat&gt; formatter = new ThreadLocal&lt;SimpleDateFormat&gt;(){\n        @Override\n        protected SimpleDateFormat initialValue()\n        {\n            return new SimpleDateFormat(\"yyyyMMdd HHmm\");\n        }\n    };\n\n    public String formatIt(Date date)\n    {\n        return formatter.get().format(date);\n    }\n}\n</code></pre>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ThreadLocal.html\" rel=\"noreferrer\">Documentation</a>.</p>\n"},{"comments":[{"owner":{"account_id":283806,"reputation":4839,"user_id":581528,"accept_rate":84,"display_name":"Ray"},"score":1,"creation_date":1297682605,"post_id":818120,"comment_id":5577062,"body_markdown":"do you think this could be avoided by using a SoftReference?","body":"do you think this could be avoided by using a SoftReference?"},{"owner":{"account_id":7639,"reputation":23810,"user_id":13317,"accept_rate":85,"display_name":"Kenster"},"score":11,"creation_date":1335905541,"post_id":818120,"comment_id":13420747,"body_markdown":"Alex Vasseur moved his blog. [Here](http://avasseur.blogspot.com/2003/11/threadlocal-and-memory-leaks.html) is a current link to the memory leak article.","body":"Alex Vasseur moved his blog. <a href=\"http://avasseur.blogspot.com/2003/11/threadlocal-and-memory-leaks.html\" rel=\"nofollow noreferrer\">Here</a> is a current link to the memory leak article."},{"owner":{"account_id":114848,"reputation":134189,"user_id":301832,"accept_rate":60,"display_name":"Donal Fellows"},"score":12,"creation_date":1370953796,"post_id":818120,"comment_id":24640175,"body_markdown":"The thread that Julien links to has moved to [here](http://jsr166-concurrency.10961.n7.nabble.com/Threadlocals-and-memory-leaks-in-J2EE-td3960.html) it seems, and is _well worth reading…_","body":"The thread that Julien links to has moved to <a href=\"http://jsr166-concurrency.10961.n7.nabble.com/Threadlocals-and-memory-leaks-in-J2EE-td3960.html\" rel=\"nofollow noreferrer\">here</a> it seems, and is <i>well worth reading…</i>"},{"owner":{"account_id":11385,"reputation":24062,"user_id":21925,"accept_rate":62,"display_name":"Robin"},"score":32,"creation_date":1397668086,"post_id":818120,"comment_id":35337070,"body_markdown":"This is an awful lot of upvotes for an answer that, while informative, does not in any way actually answer the question.","body":"This is an awful lot of upvotes for an answer that, while informative, does not in any way actually answer the question."},{"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"score":0,"creation_date":1439412174,"post_id":818120,"comment_id":51856671,"body_markdown":"Or just restart your node instead of a hot deploy. (for most cases, I&#39;m sure there are others where you just need to wrap around a soft reference). But you see a big drop in objects used and time if you use thread locals or spring thread scope (reused across users as the thread pool for web requests is long living) instead of stuffing every service in a session scope.","body":"Or just restart your node instead of a hot deploy. (for most cases, I&#39;m sure there are others where you just need to wrap around a soft reference). But you see a big drop in objects used and time if you use thread locals or spring thread scope (reused across users as the thread pool for web requests is long living) instead of stuffing every service in a session scope."},{"owner":{"account_id":1420137,"reputation":1323,"user_id":1344935,"accept_rate":69,"display_name":"Evil Washing Machine"},"score":8,"creation_date":1442266494,"post_id":818120,"comment_id":53003727,"body_markdown":"Now that PermGen is killed by Java 8, does this change this answer in any way?","body":"Now that PermGen is killed by Java 8, does this change this answer in any way?"},{"owner":{"account_id":57501,"reputation":4679,"user_id":172272,"accept_rate":83,"display_name":"Didier A."},"score":3,"creation_date":1465597151,"post_id":818120,"comment_id":62985101,"body_markdown":"If the ThreadPool keeps the Threads alive, then their ThreadLocals will too, but they will be overwritten by the new values when the thread in the pool is allocated again no? Why would it leak? It just seems to me that you&#39;d have a fix increase of memory maybe, equal to num thread * size of threadlocal value, but your ThreadPool should manage itself to a reasonable size, so this isn&#39;t really a memory leak, increasing MaxPermSize should in fact be a good solution.","body":"If the ThreadPool keeps the Threads alive, then their ThreadLocals will too, but they will be overwritten by the new values when the thread in the pool is allocated again no? Why would it leak? It just seems to me that you&#39;d have a fix increase of memory maybe, equal to num thread * size of threadlocal value, but your ThreadPool should manage itself to a reasonable size, so this isn&#39;t really a memory leak, increasing MaxPermSize should in fact be a good solution."},{"owner":{"account_id":188706,"reputation":12106,"user_id":427598,"accept_rate":65,"display_name":"Konstantin Milyutin"},"score":4,"creation_date":1477492859,"post_id":818120,"comment_id":67790858,"body_markdown":"I believe the answer is not relevant anymore, because `Thread` uses `WeakReference&lt;ThreadLocal&gt;`. So when the associated `ThreadLocal` is `gc`&#39;ed, the Map will also remove stale values during next rehashing.","body":"I believe the answer is not relevant anymore, because <code>Thread</code> uses <code>WeakReference&lt;ThreadLocal&gt;</code>. So when the associated <code>ThreadLocal</code> is <code>gc</code>&#39;ed, the Map will also remove stale values during next rehashing."},{"owner":{"account_id":281630,"reputation":4230,"user_id":578046,"accept_rate":45,"display_name":"Saurabh Patil"},"score":20,"creation_date":1485415179,"post_id":818120,"comment_id":70919029,"body_markdown":"@Robin: I disagree. The question is about how to use ThreadLocal correctly, to get a complete understanding of any concept (ThreadLocal here) it&#39;s also important to understand how not to use it and the risks of using it carelessly, and that is what Phil&#39;s answer is about. I&#39;m glad he covered that point which isn&#39;t covered in any other answers. All those votes are well deserved. I believe SO should build understanding of concepts rather than just being a QA site.","body":"@Robin: I disagree. The question is about how to use ThreadLocal correctly, to get a complete understanding of any concept (ThreadLocal here) it&#39;s also important to understand how not to use it and the risks of using it carelessly, and that is what Phil&#39;s answer is about. I&#39;m glad he covered that point which isn&#39;t covered in any other answers. All those votes are well deserved. I believe SO should build understanding of concepts rather than just being a QA site."},{"owner":{"account_id":5847132,"reputation":386,"user_id":4606939,"accept_rate":92,"display_name":"prnjn"},"score":3,"creation_date":1559122084,"post_id":818120,"comment_id":99318469,"body_markdown":"@Robin answer doesn&#39;t have to be exactly what the other person said, if something is already said then additional information is more valuable than writing the same thing over again. And here the answer holds quality and important information.","body":"@Robin answer doesn&#39;t have to be exactly what the other person said, if something is already said then additional information is more valuable than writing the same thing over again. And here the answer holds quality and important information."},{"owner":{"account_id":8987793,"reputation":151,"user_id":6700830,"display_name":"CodesInTheDark"},"score":1,"creation_date":1630084728,"post_id":818120,"comment_id":121868293,"body_markdown":"@KonstantinMilyutin The problem is that Thread does not use WeakReference for values, only for the keys. If a value uses a custom class it will prevent its ClassLoader to be gc-ed and in turn, it will prevent the whole application and its ThreadLocals to be gc-ed because you get a circular reference.","body":"@KonstantinMilyutin The problem is that Thread does not use WeakReference for values, only for the keys. If a value uses a custom class it will prevent its ClassLoader to be gc-ed and in turn, it will prevent the whole application and its ThreadLocals to be gc-ed because you get a circular reference."}],"tags":[],"owner":{"account_id":25274,"reputation":6653,"user_id":64881,"display_name":"Phil M"},"comment_count":11,"down_vote_count":2,"up_vote_count":460,"is_accepted":false,"score":458,"last_activity_date":1557882643,"creation_date":1241388129,"answer_id":818120,"question_id":817856,"body_markdown":"Since a `ThreadLocal` is a reference to data within a given `Thread`, you can end up with classloading leaks when using `ThreadLocal`s in application servers using thread pools. You need to be very careful about cleaning up any `ThreadLocal`s you `get()` or `set()` by using the `ThreadLocal`&#39;s `remove()` method.\r\n\r\nIf you do not clean up when you&#39;re done, any references it holds to classes loaded as part of a deployed webapp will remain in the [permanent heap][1] and will never get garbage collected. Redeploying/undeploying the webapp will not clean up each `Thread`&#39;s reference to your webapp&#39;s class(es) since the `Thread` is not something owned by your webapp. Each successive deployment will create a new instance of the class which will never be garbage collected.\r\n\r\nYou will end up with out of memory exceptions due to `java.lang.OutOfMemoryError: PermGen space` and after some googling will probably just increase `-XX:MaxPermSize` instead of fixing the bug.\r\n\r\nIf you do end up experiencing these problems, you can determine which thread and class is retaining these references by using [Eclipse&#39;s Memory Analyzer][2] and/or by following [Frank Kieviet&#39;s guide][3] and [followup][4].\r\n\r\nUpdate: Re-discovered [Alex Vasseur&#39;s blog entry][5] that helped me track down some `ThreadLocal` issues I was having.\r\n\r\n  [1]: https://web.archive.org/web/20070104122432/http://www.brokenbuild.com/blog/2006/08/04/java-jvm-gc-permgen-and-memory-options/\r\n  [2]: http://www.eclipse.org/mat/\r\n  [3]: http://frankkieviet.blogspot.com/2006/10/classloader-leaks-dreaded-permgen-space.html\r\n  [4]: http://frankkieviet.blogspot.com/2006/10/how-to-fix-dreaded-permgen-space.html\r\n  [5]: http://avasseur.blogspot.com/2003/11/threadlocal-and-memory-leaks.html","title":"When and how should I use a ThreadLocal variable?","body":"<p>Since a <code>ThreadLocal</code> is a reference to data within a given <code>Thread</code>, you can end up with classloading leaks when using <code>ThreadLocal</code>s in application servers using thread pools. You need to be very careful about cleaning up any <code>ThreadLocal</code>s you <code>get()</code> or <code>set()</code> by using the <code>ThreadLocal</code>'s <code>remove()</code> method.</p>\n\n<p>If you do not clean up when you're done, any references it holds to classes loaded as part of a deployed webapp will remain in the <a href=\"https://web.archive.org/web/20070104122432/http://www.brokenbuild.com/blog/2006/08/04/java-jvm-gc-permgen-and-memory-options/\" rel=\"noreferrer\">permanent heap</a> and will never get garbage collected. Redeploying/undeploying the webapp will not clean up each <code>Thread</code>'s reference to your webapp's class(es) since the <code>Thread</code> is not something owned by your webapp. Each successive deployment will create a new instance of the class which will never be garbage collected.</p>\n\n<p>You will end up with out of memory exceptions due to <code>java.lang.OutOfMemoryError: PermGen space</code> and after some googling will probably just increase <code>-XX:MaxPermSize</code> instead of fixing the bug.</p>\n\n<p>If you do end up experiencing these problems, you can determine which thread and class is retaining these references by using <a href=\"http://www.eclipse.org/mat/\" rel=\"noreferrer\">Eclipse's Memory Analyzer</a> and/or by following <a href=\"http://frankkieviet.blogspot.com/2006/10/classloader-leaks-dreaded-permgen-space.html\" rel=\"noreferrer\">Frank Kieviet's guide</a> and <a href=\"http://frankkieviet.blogspot.com/2006/10/how-to-fix-dreaded-permgen-space.html\" rel=\"noreferrer\">followup</a>.</p>\n\n<p>Update: Re-discovered <a href=\"http://avasseur.blogspot.com/2003/11/threadlocal-and-memory-leaks.html\" rel=\"noreferrer\">Alex Vasseur's blog entry</a> that helped me track down some <code>ThreadLocal</code> issues I was having.</p>\n"},{"tags":[],"owner":{"account_id":20470,"reputation":21695,"user_id":48933,"accept_rate":90,"display_name":"Neil Coffey"},"comment_count":0,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1557882784,"creation_date":1241394605,"answer_id":818364,"question_id":817856,"body_markdown":"Essentially, when you need a **variable&#39;s value to depend on the current thread** and it **isn&#39;t convenient for you to attach the value to the thread in some other way** (for example, subclassing thread).\r\n\r\nA typical case is where **some other framework has created the thread** that your code is running in, e.g. a servlet container, or where it just makes more sense to use ThreadLocal because your variable is then &quot;in its logical place&quot; (rather than a variable hanging from a Thread subclass or in some other hash map).\r\n\r\nOn my web site, I have some further [discussion and examples of when to use ThreadLocal][1] that may also be of interest.\r\n\r\nSome people advocate using ThreadLocal as a way to attach a &quot;thread ID&quot; to each thread in certain concurrent algorithms where you need a thread number (see e.g. Herlihy &amp; Shavit). In such cases, check that you&#39;re really getting a benefit!\r\n\r\n  [1]: https://www.javamex.com/tutorials/synchronization_concurrency_thread_local3.shtml","title":"When and how should I use a ThreadLocal variable?","body":"<p>Essentially, when you need a <strong>variable's value to depend on the current thread</strong> and it <strong>isn't convenient for you to attach the value to the thread in some other way</strong> (for example, subclassing thread).</p>\n\n<p>A typical case is where <strong>some other framework has created the thread</strong> that your code is running in, e.g. a servlet container, or where it just makes more sense to use ThreadLocal because your variable is then \"in its logical place\" (rather than a variable hanging from a Thread subclass or in some other hash map).</p>\n\n<p>On my web site, I have some further <a href=\"https://www.javamex.com/tutorials/synchronization_concurrency_thread_local3.shtml\" rel=\"noreferrer\">discussion and examples of when to use ThreadLocal</a> that may also be of interest.</p>\n\n<p>Some people advocate using ThreadLocal as a way to attach a \"thread ID\" to each thread in certain concurrent algorithms where you need a thread number (see e.g. Herlihy &amp; Shavit). In such cases, check that you're really getting a benefit!</p>\n"},{"tags":[],"owner":{"account_id":11385,"reputation":24062,"user_id":21925,"accept_rate":62,"display_name":"Robin"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1367050373,"creation_date":1241442624,"answer_id":820028,"question_id":817856,"body_markdown":"As was mentioned by @unknown (google), it&#39;s usage is to define a global variable in which the value referenced can be unique in each thread.  It&#39;s usages typically entails storing some sort of contextual information that is linked to the current thread of execution.  \r\n\r\nWe use it in a Java EE environment to pass user identity to classes that are not Java EE aware (don&#39;t have access to HttpSession, or the EJB SessionContext).  This way the code, which makes usage of identity for security based operations, can access the identity from anywhere, without having to explicitly pass it in every method call.\r\n\r\nThe request/response cycle of operations in most Java EE calls makes this type of usage easy since it gives well defined entry and exit points to set and unset the ThreadLocal.","title":"When and how should I use a ThreadLocal variable?","body":"<p>As was mentioned by @unknown (google), it's usage is to define a global variable in which the value referenced can be unique in each thread.  It's usages typically entails storing some sort of contextual information that is linked to the current thread of execution.  </p>\n\n<p>We use it in a Java EE environment to pass user identity to classes that are not Java EE aware (don't have access to HttpSession, or the EJB SessionContext).  This way the code, which makes usage of identity for security based operations, can access the identity from anywhere, without having to explicitly pass it in every method call.</p>\n\n<p>The request/response cycle of operations in most Java EE calls makes this type of usage easy since it gives well defined entry and exit points to set and unset the ThreadLocal.</p>\n"},{"comments":[{"owner":{"account_id":94225,"reputation":2029,"user_id":257364,"accept_rate":0,"display_name":"Volksman"},"score":4,"creation_date":1367029500,"post_id":820131,"comment_id":23246108,"body_markdown":"That&#39;s exactly how the exPOJO framework (www.expojo.com) allows access to ORM Session/PersistenceManager without needing the overhead of annotations and injection. It is kind of like &#39;thread injection&#39; instead of &#39;object injection&#39;. It provides access to dependencies without the requirement (and overhead) of having them embedded in every object that might need those dependencies. It&#39;s amazing how &#39;light weight&#39; you can make a DI framework when you use thread injection instead of classic DI (eg., Spring etc.,)","body":"That&#39;s exactly how the exPOJO framework (www.expojo.com) allows access to ORM Session/PersistenceManager without needing the overhead of annotations and injection. It is kind of like &#39;thread injection&#39; instead of &#39;object injection&#39;. It provides access to dependencies without the requirement (and overhead) of having them embedded in every object that might need those dependencies. It&#39;s amazing how &#39;light weight&#39; you can make a DI framework when you use thread injection instead of classic DI (eg., Spring etc.,)"},{"owner":{"account_id":5894,"reputation":19311,"user_id":9702,"accept_rate":91,"display_name":"Jeremy Stein"},"score":39,"creation_date":1415140486,"post_id":820131,"comment_id":42077909,"body_markdown":"Why did I have to scroll down so far to find this essential answer!?","body":"Why did I have to scroll down so far to find this essential answer!?"},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":1,"creation_date":1505845648,"post_id":820131,"comment_id":79576630,"body_markdown":"@Esko, In your project, your use of ThreadLocal in hashcode and equals is unneeded. A better approach is to create or pass a reference to a hashcode/equals function whenever it is needed. This way, you can completely avoid the need for ThreadLocal hack.","body":"@Esko, In your project, your use of ThreadLocal in hashcode and equals is unneeded. A better approach is to create or pass a reference to a hashcode/equals function whenever it is needed. This way, you can completely avoid the need for ThreadLocal hack."},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":2,"creation_date":1505847274,"post_id":820131,"comment_id":79577539,"body_markdown":"@JeremyStein, The better answers are at https://stackoverflow.com/a/817911/632951 and https://stackoverflow.com/a/17398338/632951 and https://stackoverflow.com/a/818364/632951","body":"@JeremyStein, The better answers are at <a href=\"https://stackoverflow.com/a/817911/632951\">stackoverflow.com/a/817911/632951</a> and <a href=\"https://stackoverflow.com/a/17398338/632951\">stackoverflow.com/a/17398338/632951</a> and <a href=\"https://stackoverflow.com/a/818364/632951\">stackoverflow.com/a/818364/632951</a>"},{"owner":{"account_id":2080635,"reputation":4105,"user_id":1852693,"accept_rate":71,"display_name":"Dexter"},"score":1,"creation_date":1521135579,"post_id":820131,"comment_id":85614052,"body_markdown":"This is the best explanation of the use of TL.","body":"This is the best explanation of the use of TL."}],"tags":[],"owner":{"account_id":24436,"reputation":73314,"user_id":62130,"accept_rate":39,"display_name":"Esko Luontola"},"comment_count":5,"down_vote_count":1,"up_vote_count":201,"is_accepted":false,"score":200,"last_activity_date":1557882754,"creation_date":1241444172,"answer_id":820131,"question_id":817856,"body_markdown":"Many frameworks use ThreadLocals to maintain some context related to the current thread. For example when the current transaction is stored in a ThreadLocal, you don&#39;t need to pass it as a parameter through every method call, in case someone down the stack needs access to it. Web applications might store information about the current request and session in a ThreadLocal, so that the application has easy access to them. With Guice you can use ThreadLocals when implementing [custom scopes][1] for the injected objects (Guice&#39;s default [servlet scopes][2] most probably use them as well).\r\n\r\nThreadLocals are one sort of global variables (although slightly less evil because they are restricted to one thread), so you should be careful when using them to avoid unwanted side-effects and memory leaks. Design your APIs so that the ThreadLocal values will always be automatically cleared when they are not needed anymore and that incorrect use of the API won&#39;t be possible (for example [like this][3]). ThreadLocals can be used to make the code cleaner, and in some rare cases they are the only way to make something work (my current project had two such cases; they are documented [here][4] under &quot;Static Fields and Global Variables&quot;).\r\n\r\n\r\n  [1]: https://github.com/google/guice/wiki/CustomScopes\r\n  [2]: https://github.com/google/guice/wiki/Scopes\r\n  [3]: https://github.com/orfjackal/dimdwarf/blob/453f7aee9efc364ebad80531c05081e255323c07/dimdwarf-core/src/main/java/net/orfjackal/dimdwarf/context/ThreadContext.java#L48-55\r\n  [4]: https://github.com/orfjackal/dimdwarf/wiki/Design-Guidelines","title":"When and how should I use a ThreadLocal variable?","body":"<p>Many frameworks use ThreadLocals to maintain some context related to the current thread. For example when the current transaction is stored in a ThreadLocal, you don't need to pass it as a parameter through every method call, in case someone down the stack needs access to it. Web applications might store information about the current request and session in a ThreadLocal, so that the application has easy access to them. With Guice you can use ThreadLocals when implementing <a href=\"https://github.com/google/guice/wiki/CustomScopes\" rel=\"noreferrer\">custom scopes</a> for the injected objects (Guice's default <a href=\"https://github.com/google/guice/wiki/Scopes\" rel=\"noreferrer\">servlet scopes</a> most probably use them as well).</p>\n\n<p>ThreadLocals are one sort of global variables (although slightly less evil because they are restricted to one thread), so you should be careful when using them to avoid unwanted side-effects and memory leaks. Design your APIs so that the ThreadLocal values will always be automatically cleared when they are not needed anymore and that incorrect use of the API won't be possible (for example <a href=\"https://github.com/orfjackal/dimdwarf/blob/453f7aee9efc364ebad80531c05081e255323c07/dimdwarf-core/src/main/java/net/orfjackal/dimdwarf/context/ThreadContext.java#L48-55\" rel=\"noreferrer\">like this</a>). ThreadLocals can be used to make the code cleaner, and in some rare cases they are the only way to make something work (my current project had two such cases; they are documented <a href=\"https://github.com/orfjackal/dimdwarf/wiki/Design-Guidelines\" rel=\"noreferrer\">here</a> under \"Static Fields and Global Variables\").</p>\n"},{"comments":[{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":2,"creation_date":1395096280,"post_id":13037170,"comment_id":34174699,"body_markdown":"Re-entrancy isn&#39;t a problem if code is prepared to deal with it.  On entry, make note of whether the variable is already set, and on exit, restore its previous value (if there was any), or remove it (if not).","body":"Re-entrancy isn&#39;t a problem if code is prepared to deal with it.  On entry, make note of whether the variable is already set, and on exit, restore its previous value (if there was any), or remove it (if not)."},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":1,"creation_date":1505849224,"post_id":13037170,"comment_id":79578629,"body_markdown":"@Jeff, Dude, that&#39;s true of every code you write, not just `ThreadLocal` pattern. If you do `F(){    member=random(); F2(); write(member);     }` and F2 overrides member with a new value, then obviously `write(member)` will no longer write the number you have `random()`ed. This is literally just common sense. Similarly, if you do `F(){   F();   }`, then gd luck with your infinite loop! This is true everywhere and is not specific to `ThreadLocal`.","body":"@Jeff, Dude, that&#39;s true of every code you write, not just <code>ThreadLocal</code> pattern. If you do <code>F(){    member=random(); F2(); write(member);     }</code> and F2 overrides member with a new value, then obviously <code>write(member)</code> will no longer write the number you have <code>random()</code>ed. This is literally just common sense. Similarly, if you do <code>F(){   F();   }</code>, then gd luck with your infinite loop! This is true everywhere and is not specific to <code>ThreadLocal</code>."}],"tags":[],"owner":{"account_id":1640346,"reputation":1,"user_id":1512926,"display_name":"Jeff Richley"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1351018209,"creation_date":1351018209,"answer_id":13037170,"question_id":817856,"body_markdown":"You have to be very careful with the ThreadLocal pattern.  There are some major down sides like Phil mentioned, but one that wasn&#39;t mentioned is to make sure that the code that sets up the ThreadLocal context isn&#39;t &quot;re-entrant.&quot;\r\n\r\nBad things can happen when the code that sets the information gets run a second or third time because information on your thread can start to mutate when you didn&#39;t expect it.  So take care to make sure the ThreadLocal information hasn&#39;t been set before you set it again.","title":"When and how should I use a ThreadLocal variable?","body":"<p>You have to be very careful with the ThreadLocal pattern.  There are some major down sides like Phil mentioned, but one that wasn't mentioned is to make sure that the code that sets up the ThreadLocal context isn't \"re-entrant.\"</p>\n\n<p>Bad things can happen when the code that sets the information gets run a second or third time because information on your thread can start to mutate when you didn't expect it.  So take care to make sure the ThreadLocal information hasn't been set before you set it again.</p>\n"},{"tags":[],"owner":{"account_id":872021,"reputation":1069,"user_id":922653,"accept_rate":60,"display_name":"Colselaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1359596255,"creation_date":1359596255,"answer_id":14617072,"question_id":817856,"body_markdown":"Nothing really new here, but I discovered today that `ThreadLocal` is very useful when using Bean Validation in a web application. Validation messages are localized, but by default use `Locale.getDefault()`. You can configure the `Validator` with a different `MessageInterpolator`, but there&#39;s no way to specify the `Locale` when you call `validate`. So you could create a static `ThreadLocal&lt;Locale&gt;` (or better yet, a general container with other things you might need to be `ThreadLocal` and then have your custom `MessageInterpolator` pick the `Locale` from that. Next step is to write a `ServletFilter` which uses a session value or `request.getLocale()` to pick the locale and store it in your `ThreadLocal` reference.","title":"When and how should I use a ThreadLocal variable?","body":"<p>Nothing really new here, but I discovered today that <code>ThreadLocal</code> is very useful when using Bean Validation in a web application. Validation messages are localized, but by default use <code>Locale.getDefault()</code>. You can configure the <code>Validator</code> with a different <code>MessageInterpolator</code>, but there's no way to specify the <code>Locale</code> when you call <code>validate</code>. So you could create a static <code>ThreadLocal&lt;Locale&gt;</code> (or better yet, a general container with other things you might need to be <code>ThreadLocal</code> and then have your custom <code>MessageInterpolator</code> pick the <code>Locale</code> from that. Next step is to write a <code>ServletFilter</code> which uses a session value or <code>request.getLocale()</code> to pick the locale and store it in your <code>ThreadLocal</code> reference.</p>\n"},{"tags":[],"owner":{"account_id":1056981,"reputation":1109,"user_id":1059465,"accept_rate":43,"display_name":"znlyj"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1480420693,"creation_date":1367162549,"answer_id":16264385,"question_id":817856,"body_markdown":"Webapp server may keep a thread pool, and a `ThreadLocal` var should be removed before response to the client, thus current thread may be reused by next request.\r\n\r\n","title":"When and how should I use a ThreadLocal variable?","body":"<p>Webapp server may keep a thread pool, and a <code>ThreadLocal</code> var should be removed before response to the client, thus current thread may be reused by next request.</p>\n"},{"tags":[],"owner":{"account_id":174482,"reputation":3102,"user_id":403872,"accept_rate":83,"display_name":"Abhijit Gaikwad"},"comment_count":0,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1557882823,"creation_date":1372659023,"answer_id":17398338,"question_id":817856,"body_markdown":"1. ThreadLocal in Java had been introduced on JDK 1.2 but was later generified in JDK 1.5 to introduce type safety on ThreadLocal variable.\r\n\r\n2. ThreadLocal can be associated with Thread scope, all the code which is executed by Thread has access to ThreadLocal variables but two thread can not see each others ThreadLocal variable.\r\n\r\n3. Each thread holds an exclusive copy of ThreadLocal variable which becomes eligible to Garbage collection after thread finished or died, normally or due to any Exception, Given those ThreadLocal variable doesn&#39;t have any other live references.\r\n\r\n4. ThreadLocal variables in Java are generally private static fields in Classes and maintain its state inside Thread.\r\n\r\n\r\nRead more: [ThreadLocal in Java - Example Program and Tutorial](https://javarevisited.blogspot.com/2012/05/how-to-use-threadlocal-in-java-benefits.html#ixzz2XltgbHTK)","title":"When and how should I use a ThreadLocal variable?","body":"<ol>\n<li><p>ThreadLocal in Java had been introduced on JDK 1.2 but was later generified in JDK 1.5 to introduce type safety on ThreadLocal variable.</p></li>\n<li><p>ThreadLocal can be associated with Thread scope, all the code which is executed by Thread has access to ThreadLocal variables but two thread can not see each others ThreadLocal variable.</p></li>\n<li><p>Each thread holds an exclusive copy of ThreadLocal variable which becomes eligible to Garbage collection after thread finished or died, normally or due to any Exception, Given those ThreadLocal variable doesn't have any other live references.</p></li>\n<li><p>ThreadLocal variables in Java are generally private static fields in Classes and maintain its state inside Thread.</p></li>\n</ol>\n\n<p>Read more: <a href=\"https://javarevisited.blogspot.com/2012/05/how-to-use-threadlocal-in-java-benefits.html#ixzz2XltgbHTK\" rel=\"noreferrer\">ThreadLocal in Java - Example Program and Tutorial</a></p>\n"},{"tags":[],"owner":{"account_id":22965,"reputation":51428,"user_id":57159,"accept_rate":89,"display_name":"Ian Ringrose"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1434388741,"creation_date":1434388741,"answer_id":30851175,"question_id":817856,"body_markdown":"Caching, sometime you have to calculate the same value lots of time so by storing the last set of inputs to a method and the result you can speed the code up.    By using Thread Local Storage you avoid having to think about locking.","title":"When and how should I use a ThreadLocal variable?","body":"<p>Caching, sometime you have to calculate the same value lots of time so by storing the last set of inputs to a method and the result you can speed the code up.    By using Thread Local Storage you avoid having to think about locking.</p>\n"},{"comments":[{"owner":{"account_id":5428620,"reputation":560,"user_id":4320184,"accept_rate":12,"display_name":"dashenswen"},"score":0,"creation_date":1556167088,"post_id":32122972,"comment_id":98346639,"body_markdown":"I still didn&#39;t see the benefit of using ThreadLocal to generate the unique id in example one if all your purpose is to return an incremental unique integer value.\n\n\n```\n public class ThreadId {\n     // Atomic integer containing the next thread ID to be assigned\n     private static final AtomicInteger nextId = new AtomicInteger(0);\n\n     // Returns the current thread&#39;s unique ID, assigning it if necessary\n     public static int get() {\n         return nextId..getAndIncrement();\n     }\n }\n```","body":"I still didn&#39;t see the benefit of using ThreadLocal to generate the unique id in example one if all your purpose is to return an incremental unique integer value.   ```  public class ThreadId {      // Atomic integer containing the next thread ID to be assigned      private static final AtomicInteger nextId = new AtomicInteger(0);       // Returns the current thread&#39;s unique ID, assigning it if necessary      public static int get() {          return nextId..getAndIncrement();      }  } ```"}],"tags":[],"owner":{"account_id":6236104,"reputation":681,"user_id":4851359,"display_name":"infoj"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1485703285,"creation_date":1440086295,"answer_id":32122972,"question_id":817856,"body_markdown":"Two use cases where threadlocal variable can be used - &lt;br/&gt;\r\n1- When we have a requirement to associate state with a thread (e.g., a user ID or Transaction ID). That usually happens with a web application that every request going to a servlet has a unique transactionID associated with it.\r\n\r\n    // This class will provide a thread local variable which\r\n    // will provide a unique ID for each thread\r\n    class ThreadId {\r\n        // Atomic integer containing the next thread ID to be assigned\r\n        private static final AtomicInteger nextId = new AtomicInteger(0);\r\n    \r\n        // Thread local variable containing each thread&#39;s ID\r\n        private static final ThreadLocal&lt;Integer&gt; threadId =\r\n            ThreadLocal.&lt;Integer&gt;withInitial(()-&gt; {return nextId.getAndIncrement();});\r\n    \r\n        // Returns the current thread&#39;s unique ID, assigning it if necessary\r\n        public static int get() {\r\n            return threadId.get();\r\n        }\r\n    }\r\nNote that here the method withInitial is implemented using lambda expression.&lt;br/&gt;\r\n2- Another use case is when we want to have a thread safe instance and we don&#39;t want to use synchronization as the performance cost with synchronization is more. One such case is when SimpleDateFormat is used. Since SimpleDateFormat is not thread safe so we have to provide mechanism to make it thread safe. \r\n\r\n    public class ThreadLocalDemo1 implements Runnable {\r\n        // threadlocal variable is created\r\n        private static final ThreadLocal&lt;SimpleDateFormat&gt; dateFormat = new ThreadLocal&lt;SimpleDateFormat&gt;(){\r\n            @Override\r\n            protected SimpleDateFormat initialValue(){\r\n                System.out.println(&quot;Initializing SimpleDateFormat for - &quot; + Thread.currentThread().getName() );\r\n                return new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n            }\r\n        };\r\n                \r\n        public static void main(String[] args) {\r\n            ThreadLocalDemo1 td = new ThreadLocalDemo1();\r\n            // Two threads are created\r\n            Thread t1 = new Thread(td, &quot;Thread-1&quot;);\r\n            Thread t2 = new Thread(td, &quot;Thread-2&quot;);\r\n            t1.start();\r\n            t2.start();\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            System.out.println(&quot;Thread run execution started for &quot; + Thread.currentThread().getName());\r\n            System.out.println(&quot;Date formatter pattern is  &quot; + dateFormat.get().toPattern());\r\n            System.out.println(&quot;Formatted date is &quot; + dateFormat.get().format(new Date()));\r\n        } \r\n    \r\n    }\r\n\r\n","title":"When and how should I use a ThreadLocal variable?","body":"<p>Two use cases where threadlocal variable can be used - <br/>\n1- When we have a requirement to associate state with a thread (e.g., a user ID or Transaction ID). That usually happens with a web application that every request going to a servlet has a unique transactionID associated with it.</p>\n\n<pre><code>// This class will provide a thread local variable which\n// will provide a unique ID for each thread\nclass ThreadId {\n    // Atomic integer containing the next thread ID to be assigned\n    private static final AtomicInteger nextId = new AtomicInteger(0);\n\n    // Thread local variable containing each thread's ID\n    private static final ThreadLocal&lt;Integer&gt; threadId =\n        ThreadLocal.&lt;Integer&gt;withInitial(()-&gt; {return nextId.getAndIncrement();});\n\n    // Returns the current thread's unique ID, assigning it if necessary\n    public static int get() {\n        return threadId.get();\n    }\n}\n</code></pre>\n\n<p>Note that here the method withInitial is implemented using lambda expression.<br/>\n2- Another use case is when we want to have a thread safe instance and we don't want to use synchronization as the performance cost with synchronization is more. One such case is when SimpleDateFormat is used. Since SimpleDateFormat is not thread safe so we have to provide mechanism to make it thread safe. </p>\n\n<pre><code>public class ThreadLocalDemo1 implements Runnable {\n    // threadlocal variable is created\n    private static final ThreadLocal&lt;SimpleDateFormat&gt; dateFormat = new ThreadLocal&lt;SimpleDateFormat&gt;(){\n        @Override\n        protected SimpleDateFormat initialValue(){\n            System.out.println(\"Initializing SimpleDateFormat for - \" + Thread.currentThread().getName() );\n            return new SimpleDateFormat(\"dd/MM/yyyy\");\n        }\n    };\n\n    public static void main(String[] args) {\n        ThreadLocalDemo1 td = new ThreadLocalDemo1();\n        // Two threads are created\n        Thread t1 = new Thread(td, \"Thread-1\");\n        Thread t2 = new Thread(td, \"Thread-2\");\n        t1.start();\n        t2.start();\n    }\n\n    @Override\n    public void run() {\n        System.out.println(\"Thread run execution started for \" + Thread.currentThread().getName());\n        System.out.println(\"Date formatter pattern is  \" + dateFormat.get().toPattern());\n        System.out.println(\"Formatted date is \" + dateFormat.get().format(new Date()));\n    } \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2849643,"reputation":423,"user_id":2447120,"display_name":"Rakesh Chauhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1522247318,"creation_date":1443950915,"answer_id":32931978,"question_id":817856,"body_markdown":"There is very good example in book **Java Concurrency in Practice**. Where author ([Joshua Bloch][1]) explains how Thread confinement is one of the simplest ways to achieve thread safety and **ThreadLocal** is more formal means of maintaining thread confinement. In the end he also explain how people can abuse it by using it as global variables.\n\nI have copied the text from the mentioned book but code 3.10 is missing as it is not much important to understand where ThreadLocal should be use.\n\n&gt;Thread-local variables are often used to prevent sharing in designs based on mutable Singletons or global variables. For example, a single-threaded application might maintain a global database connection that is initialized at startup to avoid having to pass a Connection to every method. Since JDBC connections may not be thread-safe, a multithreaded application that uses a global connection without additional coordination is not thread-safe either. By using a ThreadLocal to store the JDBC connection, as in ConnectionHolder in Listing 3.10, each thread will have its own connection.&lt;br/&gt;\n&gt;\n&gt;ThreadLocal is widely used in implementing application frameworks. For example, J2EE containers associate a transaction context with an executing thread for the duration of an EJB call. This is easily implemented using a static Thread-Local holding the transaction context: when framework code needs to determine what transaction is currently running, it fetches the transaction context from this ThreadLocal. This is convenient in that it reduces the need to pass execution context information into every method, but couples any code that uses this mechanism to the framework.\n&gt;\n&gt;It is easy to abuse ThreadLocal by treating its thread confinement property as a license to use global variables or as a means of creating “hidden” method arguments. Like global variables, thread-local variables can detract from reusability and introduce hidden couplings among classes, and should therefore be used with care.\n\n\n  [1]: https://en.wikipedia.org/wiki/Joshua_Bloch","title":"When and how should I use a ThreadLocal variable?","body":"<p>There is very good example in book <strong>Java Concurrency in Practice</strong>. Where author (<a href=\"https://en.wikipedia.org/wiki/Joshua_Bloch\" rel=\"noreferrer\">Joshua Bloch</a>) explains how Thread confinement is one of the simplest ways to achieve thread safety and <strong>ThreadLocal</strong> is more formal means of maintaining thread confinement. In the end he also explain how people can abuse it by using it as global variables.</p>\n<p>I have copied the text from the mentioned book but code 3.10 is missing as it is not much important to understand where ThreadLocal should be use.</p>\n<blockquote>\n<p>Thread-local variables are often used to prevent sharing in designs based on mutable Singletons or global variables. For example, a single-threaded application might maintain a global database connection that is initialized at startup to avoid having to pass a Connection to every method. Since JDBC connections may not be thread-safe, a multithreaded application that uses a global connection without additional coordination is not thread-safe either. By using a ThreadLocal to store the JDBC connection, as in ConnectionHolder in Listing 3.10, each thread will have its own connection.<br/></p>\n<p>ThreadLocal is widely used in implementing application frameworks. For example, J2EE containers associate a transaction context with an executing thread for the duration of an EJB call. This is easily implemented using a static Thread-Local holding the transaction context: when framework code needs to determine what transaction is currently running, it fetches the transaction context from this ThreadLocal. This is convenient in that it reduces the need to pass execution context information into every method, but couples any code that uses this mechanism to the framework.</p>\n<p>It is easy to abuse ThreadLocal by treating its thread confinement property as a license to use global variables or as a means of creating “hidden” method arguments. Like global variables, thread-local variables can detract from reusability and introduce hidden couplings among classes, and should therefore be used with care.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1452144546,"creation_date":1449058064,"answer_id":34042362,"question_id":817856,"body_markdown":"&gt; ThreadLocal will ensure accessing the mutable object by the multiple\r\n&gt; threads in the non synchronized method is synchronized, means making\r\n&gt; the mutable object to be immutable within the method. &lt;BR&gt; &lt;BR&gt; This\r\n&gt; is achieved by giving new instance of mutable object for each thread\r\n&gt; try accessing it. So It is local copy to the each thread. This is some\r\n&gt; hack on making instance variable in a method to be accessed like a\r\n&gt; local variable. As you aware method local variable is only available\r\n&gt; to the thread, one difference is; method local variables will not\r\n&gt; available to the thread once method execution is over where as mutable\r\n&gt; object shared with threadlocal will be available across multiple\r\n&gt; methods till we clean it up.\r\n\r\n\r\n**By Definition:**\r\n\r\n&gt; The ThreadLocal class in Java enables you to create variables that can\r\n&gt; only be read and written by the same thread. Thus, even if two threads\r\n&gt; are executing the same code, and the code has a reference to a\r\n&gt; ThreadLocal variable, then the two threads cannot see each other&#39;s\r\n&gt; ThreadLocal variables.\r\n\r\n \r\n\r\nEach `Thread` in java contains `ThreadLocalMap` in it. &lt;BR&gt;\r\nWhere &lt;BR&gt;\r\n\r\n    Key = One ThreadLocal object shared across threads.\r\n    value = Mutable object which has to be used synchronously, this will be instantiated for each thread.\r\n\r\n**Achieving the ThreadLocal:** \r\n\r\nNow create a wrapper class for ThreadLocal which is going to hold the mutable object like below (with or without `initialValue()`). &lt;BR&gt; Now getter and setter of this wrapper will work on threadlocal instance instead of mutable object.\r\n\r\nIf getter() of threadlocal didn&#39;t find any value with in the threadlocalmap of the `Thread`; then it will invoke the initialValue() to get its private copy with respect to the thread.\r\n\r\n\r\n\r\n\r\n    class SimpleDateFormatInstancePerThread {\r\n    \r\n        private static final ThreadLocal&lt;SimpleDateFormat&gt; dateFormatHolder = new ThreadLocal&lt;SimpleDateFormat&gt;() {\r\n    \r\n            @Override\r\n            protected SimpleDateFormat initialValue() {\r\n    \t\t\tSimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;) {\r\n    \t\t\t\tUUID id = UUID.randomUUID();\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic String toString() {\r\n    \t\t\t\t\treturn id.toString();\r\n    \t\t\t\t};\r\n    \t\t\t};\r\n                System.out.println(&quot;Creating SimpleDateFormat instance &quot; + dateFormat +&quot; for Thread : &quot; + Thread.currentThread().getName());\r\n                return dateFormat;\r\n            }\r\n        };\r\n    \r\n        /*\r\n         * Every time there is a call for DateFormat, ThreadLocal will return calling\r\n         * Thread&#39;s copy of SimpleDateFormat\r\n         */\r\n        public static DateFormat getDateFormatter() {\r\n            return dateFormatHolder.get();\r\n        }\r\n        \r\n        public static void cleanup() {\r\n            dateFormatHolder.remove();\r\n        }\r\n    }\r\n\r\n\r\nNow `wrapper.getDateFormatter()` will call `threadlocal.get()` and that will check the `currentThread.threadLocalMap` contains **this** (threadlocal) instance.&lt;BR&gt;\r\nIf yes return the value (SimpleDateFormat) for corresponding threadlocal instance &lt;BR&gt;\r\nelse add the map with this threadlocal instance, initialValue(). &lt;BR&gt;\r\n\r\nHerewith thread safety achieved on this mutable class; by each thread is working with its own mutable instance but with same ThreadLocal instance. Means All the thread will share the same ThreadLocal instance as key, but different SimpleDateFormat instance as value.\r\n\r\nhttps://github.com/skanagavelu/yt.tech/blob/master/src/ThreadLocalTest.java","title":"When and how should I use a ThreadLocal variable?","body":"<blockquote>\n  <p>ThreadLocal will ensure accessing the mutable object by the multiple\n  threads in the non synchronized method is synchronized, means making\n  the mutable object to be immutable within the method. <BR> <BR> This\n  is achieved by giving new instance of mutable object for each thread\n  try accessing it. So It is local copy to the each thread. This is some\n  hack on making instance variable in a method to be accessed like a\n  local variable. As you aware method local variable is only available\n  to the thread, one difference is; method local variables will not\n  available to the thread once method execution is over where as mutable\n  object shared with threadlocal will be available across multiple\n  methods till we clean it up.</p>\n</blockquote>\n\n<p><strong>By Definition:</strong></p>\n\n<blockquote>\n  <p>The ThreadLocal class in Java enables you to create variables that can\n  only be read and written by the same thread. Thus, even if two threads\n  are executing the same code, and the code has a reference to a\n  ThreadLocal variable, then the two threads cannot see each other's\n  ThreadLocal variables.</p>\n</blockquote>\n\n<p>Each <code>Thread</code> in java contains <code>ThreadLocalMap</code> in it. <BR>\nWhere <BR></p>\n\n<pre><code>Key = One ThreadLocal object shared across threads.\nvalue = Mutable object which has to be used synchronously, this will be instantiated for each thread.\n</code></pre>\n\n<p><strong>Achieving the ThreadLocal:</strong> </p>\n\n<p>Now create a wrapper class for ThreadLocal which is going to hold the mutable object like below (with or without <code>initialValue()</code>). <BR> Now getter and setter of this wrapper will work on threadlocal instance instead of mutable object.</p>\n\n<p>If getter() of threadlocal didn't find any value with in the threadlocalmap of the <code>Thread</code>; then it will invoke the initialValue() to get its private copy with respect to the thread.</p>\n\n<pre><code>class SimpleDateFormatInstancePerThread {\n\n    private static final ThreadLocal&lt;SimpleDateFormat&gt; dateFormatHolder = new ThreadLocal&lt;SimpleDateFormat&gt;() {\n\n        @Override\n        protected SimpleDateFormat initialValue() {\n            SimpleDateFormat dateFormat = new SimpleDateFormat(\"yyyy-MM-dd\") {\n                UUID id = UUID.randomUUID();\n                @Override\n                public String toString() {\n                    return id.toString();\n                };\n            };\n            System.out.println(\"Creating SimpleDateFormat instance \" + dateFormat +\" for Thread : \" + Thread.currentThread().getName());\n            return dateFormat;\n        }\n    };\n\n    /*\n     * Every time there is a call for DateFormat, ThreadLocal will return calling\n     * Thread's copy of SimpleDateFormat\n     */\n    public static DateFormat getDateFormatter() {\n        return dateFormatHolder.get();\n    }\n\n    public static void cleanup() {\n        dateFormatHolder.remove();\n    }\n}\n</code></pre>\n\n<p>Now <code>wrapper.getDateFormatter()</code> will call <code>threadlocal.get()</code> and that will check the <code>currentThread.threadLocalMap</code> contains <strong>this</strong> (threadlocal) instance.<BR>\nIf yes return the value (SimpleDateFormat) for corresponding threadlocal instance <BR>\nelse add the map with this threadlocal instance, initialValue(). <BR></p>\n\n<p>Herewith thread safety achieved on this mutable class; by each thread is working with its own mutable instance but with same ThreadLocal instance. Means All the thread will share the same ThreadLocal instance as key, but different SimpleDateFormat instance as value.</p>\n\n<p><a href=\"https://github.com/skanagavelu/yt.tech/blob/master/src/ThreadLocalTest.java\" rel=\"noreferrer\">https://github.com/skanagavelu/yt.tech/blob/master/src/ThreadLocalTest.java</a></p>\n"},{"tags":[],"owner":{"account_id":7265641,"reputation":51,"user_id":6259238,"display_name":"Limestone"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1461726649,"creation_date":1461726649,"answer_id":36879565,"question_id":817856,"body_markdown":"when?\r\n\r\nWhen an object is not thread-safe, instead of synchronization which hampers the scalability, give one object to every thread and keep it thread scope, which is ThreadLocal. One of most often used but not thread-safe objects are database Connection and JMSConnection. \r\n\r\nHow ?\r\n\r\nOne example is Spring framework uses ThreadLocal heavily for managing transactions behind the scenes by keeping these connection objects in ThreadLocal variables. At high level, when a transaction is started it gets the connection ( and disables the auto commit ) and keeps it in ThreadLocal. on further db calls it uses same connection to communicate with db. At the end, it takes the connection from ThreadLocal and commits ( or rollback ) the transaction and releases the connection. \r\n\r\nI think log4j also uses ThreadLocal for maintaining MDC.","title":"When and how should I use a ThreadLocal variable?","body":"<p>when?</p>\n\n<p>When an object is not thread-safe, instead of synchronization which hampers the scalability, give one object to every thread and keep it thread scope, which is ThreadLocal. One of most often used but not thread-safe objects are database Connection and JMSConnection. </p>\n\n<p>How ?</p>\n\n<p>One example is Spring framework uses ThreadLocal heavily for managing transactions behind the scenes by keeping these connection objects in ThreadLocal variables. At high level, when a transaction is started it gets the connection ( and disables the auto commit ) and keeps it in ThreadLocal. on further db calls it uses same connection to communicate with db. At the end, it takes the connection from ThreadLocal and commits ( or rollback ) the transaction and releases the connection. </p>\n\n<p>I think log4j also uses ThreadLocal for maintaining MDC.</p>\n"},{"tags":[],"owner":{"account_id":3178228,"reputation":4984,"user_id":2685581,"display_name":"Ajay Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1496153397,"creation_date":1496139866,"answer_id":44259643,"question_id":817856,"body_markdown":"ThreadLocal is a specially provisioned functionality by JVM to provide an isolated storage space for threads only. like the value of instance scoped variable are bound to a given instance of a class only. each object has its only values and they can not see each other value. so is the concept of ThreadLocal variables, they are local to the thread in the sense of object instances other thread except for the one which created it, can not see it. [See Here][1]\r\n\r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    import java.util.stream.IntStream;\r\n\r\n   \r\n    public class ThreadId {\r\n    private static final AtomicInteger nextId = new AtomicInteger(1000);\r\n\r\n    // Thread local variable containing each thread&#39;s ID\r\n    private static final ThreadLocal&lt;Integer&gt; threadId = ThreadLocal.withInitial(() -&gt; nextId.getAndIncrement());\r\n\r\n\r\n    // Returns the current thread&#39;s unique ID, assigning it if necessary\r\n    public static int get() {\r\n        return threadId.get();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        new Thread(() -&gt; IntStream.range(1, 3).forEach(i -&gt; {\r\n            System.out.println(Thread.currentThread().getName() + &quot; &gt;&gt; &quot; + new ThreadId().get());\r\n        })).start();\r\n\r\n        new Thread(() -&gt; IntStream.range(1, 3).forEach(i -&gt; {\r\n            System.out.println(Thread.currentThread().getName() + &quot; &gt;&gt; &quot; + new ThreadId().get());\r\n        })).start();\r\n\r\n        new Thread(() -&gt; IntStream.range(1, 3).forEach(i -&gt; {\r\n            System.out.println(Thread.currentThread().getName() + &quot; &gt;&gt; &quot; + new ThreadId().get());\r\n        })).start();\r\n\r\n    }\r\n    }\r\n\r\n\r\n  [1]: https://itexpertsconsultant.wordpress.com/2017/05/29/threadlocal-example-with-java-8/","title":"When and how should I use a ThreadLocal variable?","body":"<p>ThreadLocal is a specially provisioned functionality by JVM to provide an isolated storage space for threads only. like the value of instance scoped variable are bound to a given instance of a class only. each object has its only values and they can not see each other value. so is the concept of ThreadLocal variables, they are local to the thread in the sense of object instances other thread except for the one which created it, can not see it. <a href=\"https://itexpertsconsultant.wordpress.com/2017/05/29/threadlocal-example-with-java-8/\" rel=\"nofollow noreferrer\">See Here</a></p>\n\n<pre><code>import java.util.concurrent.atomic.AtomicInteger;\nimport java.util.stream.IntStream;\n\n\npublic class ThreadId {\nprivate static final AtomicInteger nextId = new AtomicInteger(1000);\n\n// Thread local variable containing each thread's ID\nprivate static final ThreadLocal&lt;Integer&gt; threadId = ThreadLocal.withInitial(() -&gt; nextId.getAndIncrement());\n\n\n// Returns the current thread's unique ID, assigning it if necessary\npublic static int get() {\n    return threadId.get();\n}\n\npublic static void main(String[] args) {\n\n    new Thread(() -&gt; IntStream.range(1, 3).forEach(i -&gt; {\n        System.out.println(Thread.currentThread().getName() + \" &gt;&gt; \" + new ThreadId().get());\n    })).start();\n\n    new Thread(() -&gt; IntStream.range(1, 3).forEach(i -&gt; {\n        System.out.println(Thread.currentThread().getName() + \" &gt;&gt; \" + new ThreadId().get());\n    })).start();\n\n    new Thread(() -&gt; IntStream.range(1, 3).forEach(i -&gt; {\n        System.out.println(Thread.currentThread().getName() + \" &gt;&gt; \" + new ThreadId().get());\n    })).start();\n\n}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3453445,"reputation":240,"user_id":2892515,"accept_rate":93,"display_name":"Enerccio"},"score":0,"creation_date":1505893607,"post_id":46253405,"comment_id":79593705,"body_markdown":"ThreadLocals are NOT global state unless you make it global state. They are practically always accessible stack resource. You can simulate thread local with simply passing that variable in all your methods (which is retarded); that doesn&#39;t make it global state...","body":"ThreadLocals are NOT global state unless you make it global state. They are practically always accessible stack resource. You can simulate thread local with simply passing that variable in all your methods (which is retarded); that doesn&#39;t make it global state..."},{"owner":{"account_id":4324639,"reputation":8470,"user_id":3531794,"display_name":"Dimos"},"score":0,"creation_date":1505897515,"post_id":46253405,"comment_id":79596152,"body_markdown":"It is a form of global state, in the sense that it&#39;s accessible from anywhere in the code (in the same thread&#39;s context). This comes with all the repercussions, such as not being able to reason about who reads and writes this value. Using a function parameter is not a retarded thing, it&#39;s a good practice promoting clean interfaces. However, I agree with you that passing a parameter across the whole depth of your codebase is a code smell. But, I also believe that in many occasions the use of ThreadLocal is a code smell in the first place which led you here, so this what one should reconsider.","body":"It is a form of global state, in the sense that it&#39;s accessible from anywhere in the code (in the same thread&#39;s context). This comes with all the repercussions, such as not being able to reason about who reads and writes this value. Using a function parameter is not a retarded thing, it&#39;s a good practice promoting clean interfaces. However, I agree with you that passing a parameter across the whole depth of your codebase is a code smell. But, I also believe that in many occasions the use of ThreadLocal is a code smell in the first place which led you here, so this what one should reconsider."},{"owner":{"account_id":3453445,"reputation":240,"user_id":2892515,"accept_rate":93,"display_name":"Enerccio"},"score":0,"creation_date":1505904944,"post_id":46253405,"comment_id":79601012,"body_markdown":"It can simply be a part of object state, doesn&#39;t have to be used globally. Sure, you get little bit overhead, but if multiple objects have to have different state per thread, you can use `ThreadLocal` as object field...","body":"It can simply be a part of object state, doesn&#39;t have to be used globally. Sure, you get little bit overhead, but if multiple objects have to have different state per thread, you can use <code>ThreadLocal</code> as object field..."},{"owner":{"account_id":4324639,"reputation":8470,"user_id":3531794,"display_name":"Dimos"},"score":0,"creation_date":1505906040,"post_id":46253405,"comment_id":79601684,"body_markdown":"You&#39;re right. I&#39;ve probably stumbled upon several misuses of `ThreadLocal`, where it was accessible globally. As you said, it can still be used as a class field limiting the visibility.","body":"You&#39;re right. I&#39;ve probably stumbled upon several misuses of <code>ThreadLocal</code>, where it was accessible globally. As you said, it can still be used as a class field limiting the visibility."}],"tags":[],"owner":{"account_id":4324639,"reputation":8470,"user_id":3531794,"display_name":"Dimos"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1505561291,"creation_date":1505561291,"answer_id":46253405,"question_id":817856,"body_markdown":"`ThreadLocal` is useful, when you want to have some state that should not be shared amongst different threads, but it should be accessible from each thread during its whole lifetime.\r\n\r\nAs an example, imagine a web application, where each request is served by a different thread. Imagine that for each request you need a piece of data multiple times, which is quite expensive to compute. However, that data might have changed for each incoming request, which means that you can&#39;t use a plain cache. A simple, quick solution to this problem would be to have a `ThreadLocal` variable holding access to this data, so that you have to calculate it only once for each request. Of course, this problem can also be solved without the use of `ThreadLocal`, but I devised it for illustration purposes. \r\n\r\nThat said, have in mind that `ThreadLocal`s are essentially a form of global state. As a result, it has many other implications and should be used only after considering all the other possible solutions. ","title":"When and how should I use a ThreadLocal variable?","body":"<p><code>ThreadLocal</code> is useful, when you want to have some state that should not be shared amongst different threads, but it should be accessible from each thread during its whole lifetime.</p>\n\n<p>As an example, imagine a web application, where each request is served by a different thread. Imagine that for each request you need a piece of data multiple times, which is quite expensive to compute. However, that data might have changed for each incoming request, which means that you can't use a plain cache. A simple, quick solution to this problem would be to have a <code>ThreadLocal</code> variable holding access to this data, so that you have to calculate it only once for each request. Of course, this problem can also be solved without the use of <code>ThreadLocal</code>, but I devised it for illustration purposes. </p>\n\n<p>That said, have in mind that <code>ThreadLocal</code>s are essentially a form of global state. As a result, it has many other implications and should be used only after considering all the other possible solutions. </p>\n"},{"comments":[{"owner":{"account_id":344283,"reputation":2371,"user_id":676506,"accept_rate":74,"display_name":"Rick-Rainer Ludwig"},"score":2,"creation_date":1517999648,"post_id":47562423,"comment_id":84320427,"body_markdown":"In this example is a major issue: Who is responsible for the closing the connection? Instead of creating this connection as initiali value, let the consumer of the connection create the connection explicitly and bind it to the thread via ThreadLocal. The creator of the connection is then also responsbible for closing. This is not clear in this example. Creating and binding the connection can also be hidden in a simple framework by something like Transaction.begin() and Transaction.end().","body":"In this example is a major issue: Who is responsible for the closing the connection? Instead of creating this connection as initiali value, let the consumer of the connection create the connection explicitly and bind it to the thread via ThreadLocal. The creator of the connection is then also responsbible for closing. This is not clear in this example. Creating and binding the connection can also be hidden in a simple framework by something like Transaction.begin() and Transaction.end()."}],"tags":[],"owner":{"account_id":3750936,"reputation":1111,"user_id":3148734,"accept_rate":75,"display_name":"bpjoshi"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1512028724,"creation_date":1511992191,"answer_id":47562423,"question_id":817856,"body_markdown":"Thread-local variables are often used to prevent sharing in designs based on\r\nmutable Singletons or global variables. \r\n\r\nIt can be used in scenarios like making seperate JDBC connection for each thread when you are not using a Connection Pool.\r\n\r\n    private static ThreadLocal&lt;Connection&gt; connectionHolder\r\n               = new ThreadLocal&lt;Connection&gt;() {\r\n          public Connection initialValue() {\r\n               return DriverManager.getConnection(DB_URL);\r\n              }\r\n         };\r\n\r\n    public static Connection getConnection() {\r\n          return connectionHolder.get();\r\n    } \r\n\r\nWhen you call getConnection, it will return a connection associated with that thread.The same can be done with other properties like dateformat, transaction context that you don&#39;t want to share between threads. \r\n\r\nYou could have also used local variables for the same, but these resource usually take up time in creation,so you don&#39;t want to create them again and again whenever you perform some business logic with them. However, ThreadLocal values are stored in the thread object itself and as soon as the thread is garbage collected, these values are gone too.\r\n\r\nThis [link][1] explains use of ThreadLocal very well.\r\n\r\n\r\n  [1]: https://howtodoinjava.com/core-java/multi-threading/when-and-how-to-use-thread-local-variables/","title":"When and how should I use a ThreadLocal variable?","body":"<p>Thread-local variables are often used to prevent sharing in designs based on\nmutable Singletons or global variables. </p>\n\n<p>It can be used in scenarios like making seperate JDBC connection for each thread when you are not using a Connection Pool.</p>\n\n<pre><code>private static ThreadLocal&lt;Connection&gt; connectionHolder\n           = new ThreadLocal&lt;Connection&gt;() {\n      public Connection initialValue() {\n           return DriverManager.getConnection(DB_URL);\n          }\n     };\n\npublic static Connection getConnection() {\n      return connectionHolder.get();\n} \n</code></pre>\n\n<p>When you call getConnection, it will return a connection associated with that thread.The same can be done with other properties like dateformat, transaction context that you don't want to share between threads. </p>\n\n<p>You could have also used local variables for the same, but these resource usually take up time in creation,so you don't want to create them again and again whenever you perform some business logic with them. However, ThreadLocal values are stored in the thread object itself and as soon as the thread is garbage collected, these values are gone too.</p>\n\n<p>This <a href=\"https://howtodoinjava.com/core-java/multi-threading/when-and-how-to-use-thread-local-variables/\" rel=\"nofollow noreferrer\">link</a> explains use of ThreadLocal very well.</p>\n"},{"tags":[],"owner":{"account_id":3401111,"reputation":185,"user_id":2853221,"display_name":"Dev Amitabh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1513047641,"creation_date":1513047641,"answer_id":47764719,"question_id":817856,"body_markdown":"Threadlocal provides a very easy way to achieve objects reusability with zero cost.\r\n\r\nI had a situation where multiple threads were creating an image of mutable cache, on each update notification.\r\n\r\nI used a Threadlocal on each thread, and then each thread would just need to reset old image and then update it again from the cache on each update notification.\r\n\r\nUsual reusable objects from object pools have thread safety cost associated with them, while this approach has none. ","title":"When and how should I use a ThreadLocal variable?","body":"<p>Threadlocal provides a very easy way to achieve objects reusability with zero cost.</p>\n\n<p>I had a situation where multiple threads were creating an image of mutable cache, on each update notification.</p>\n\n<p>I used a Threadlocal on each thread, and then each thread would just need to reset old image and then update it again from the cache on each update notification.</p>\n\n<p>Usual reusable objects from object pools have thread safety cost associated with them, while this approach has none. </p>\n"},{"tags":[],"owner":{"account_id":6589671,"reputation":10127,"user_id":5091346,"accept_rate":72,"display_name":"Andrii Abramov"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1664737068,"creation_date":1522142645,"answer_id":49509030,"question_id":817856,"body_markdown":"Since Java 8 release, there is more declarative way to initialize `ThreadLocal`:\r\n\r\n    ThreadLocal&lt;String&gt; local = ThreadLocal.withInitial(() -&gt; &quot;init value&quot;);\r\n\r\nUntil Java 8 release you had to do the following:\r\n\r\n    ThreadLocal&lt;String&gt; local = new ThreadLocal&lt;String&gt;(){\r\n        @Override\r\n        protected String initialValue() {\r\n            return &quot;init value&quot;;\r\n        }\r\n    };\r\n\r\nMoreover, if instantiation method (constructor, factory method) of class that is used for `ThreadLocal` does not take any parameters, you can simply use method references (introduced in Java 8):\r\n\r\n\r\n    class NotThreadSafe {\r\n        // no parameters\r\n        public NotThreadSafe(){}\r\n    }\r\n        \r\n    ThreadLocal&lt;NotThreadSafe&gt; container = ThreadLocal.withInitial(NotThreadSafe::new);\r\n\r\n**Note:**\r\nEvaluation is lazy since you are passing `java.util.function.Supplier` lambda that is evaluated only when `ThreadLocal#get` is called but value was not previously evaluated.","title":"When and how should I use a ThreadLocal variable?","body":"<p>Since Java 8 release, there is more declarative way to initialize <code>ThreadLocal</code>:</p>\n<pre><code>ThreadLocal&lt;String&gt; local = ThreadLocal.withInitial(() -&gt; &quot;init value&quot;);\n</code></pre>\n<p>Until Java 8 release you had to do the following:</p>\n<pre><code>ThreadLocal&lt;String&gt; local = new ThreadLocal&lt;String&gt;(){\n    @Override\n    protected String initialValue() {\n        return &quot;init value&quot;;\n    }\n};\n</code></pre>\n<p>Moreover, if instantiation method (constructor, factory method) of class that is used for <code>ThreadLocal</code> does not take any parameters, you can simply use method references (introduced in Java 8):</p>\n<pre><code>class NotThreadSafe {\n    // no parameters\n    public NotThreadSafe(){}\n}\n    \nThreadLocal&lt;NotThreadSafe&gt; container = ThreadLocal.withInitial(NotThreadSafe::new);\n</code></pre>\n<p><strong>Note:</strong>\nEvaluation is lazy since you are passing <code>java.util.function.Supplier</code> lambda that is evaluated only when <code>ThreadLocal#get</code> is called but value was not previously evaluated.</p>\n"},{"tags":[],"owner":{"account_id":2629067,"reputation":688,"user_id":2275474,"accept_rate":100,"display_name":"Pritesh Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1528118288,"creation_date":1528118288,"answer_id":50681599,"question_id":817856,"body_markdown":"The **ThreadLocal** class in Java enables you to create variables that can only be read and written by the same thread. Thus, even if two threads are executing the same code, and the code has a reference to a ThreadLocal variable, then the two threads cannot see each other&#39;s ThreadLocal variables.\r\n\r\n[Read more][1]\r\n\r\n\r\n  [1]: http://tutorials.jenkov.com/java-concurrency/threadlocal.html","title":"When and how should I use a ThreadLocal variable?","body":"<p>The <strong>ThreadLocal</strong> class in Java enables you to create variables that can only be read and written by the same thread. Thus, even if two threads are executing the same code, and the code has a reference to a ThreadLocal variable, then the two threads cannot see each other's ThreadLocal variables.</p>\n\n<p><a href=\"http://tutorials.jenkov.com/java-concurrency/threadlocal.html\" rel=\"nofollow noreferrer\">Read more</a></p>\n"},{"tags":[],"owner":{"account_id":4192718,"reputation":1097,"user_id":3434956,"accept_rate":95,"display_name":"mohsen.nour"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1620072810,"creation_date":1538895637,"answer_id":52686202,"question_id":817856,"body_markdown":"There are 3 scenarios for using a **class helper** like SimpleDateFormat in multithread code, which best one is use **ThreadLocal**\r\n\r\nScenarios\r\n \r\n**1-** Using like **share object** by the help of **lock or synchronization** mechanism which makes the app **slow**\r\n\r\n**Thread pool Scenarios**    \r\n \r\n**2-** Using as a **local  object** inside a method \r\n\r\nIn thread pool, in this scenario, if we have **4 thread** each one has **1000 task** time  then we have   \r\n**4000** SimpleDateFormat **object created** and waiting for GC to erase them  \r\n\r\n**3-** Using ***ThreadLocal*** \r\n \r\nIn thread pool, if we have 4 thread and  we gave to **each thread one SimpleDateFormat instance**  \r\n so we have **4 threads**, **4 objects** of SimpleDateFormat.\r\n  \r\n  There is no need of lock mechanism and object creation and destruction.  (Good time complexity and space complexity)\r\n\r\n\r\n\r\nhttps://www.youtube.com/watch?v=sjMe9aecW_A","title":"When and how should I use a ThreadLocal variable?","body":"<p>There are 3 scenarios for using a <strong>class helper</strong> like SimpleDateFormat in multithread code, which best one is use <strong>ThreadLocal</strong></p>\n<p>Scenarios</p>\n<p><strong>1-</strong> Using like <strong>share object</strong> by the help of <strong>lock or synchronization</strong> mechanism which makes the app <strong>slow</strong></p>\n<p><strong>Thread pool Scenarios</strong></p>\n<p><strong>2-</strong> Using as a <strong>local  object</strong> inside a method</p>\n<p>In thread pool, in this scenario, if we have <strong>4 thread</strong> each one has <strong>1000 task</strong> time  then we have<br />\n<strong>4000</strong> SimpleDateFormat <strong>object created</strong> and waiting for GC to erase them</p>\n<p><strong>3-</strong> Using <em><strong>ThreadLocal</strong></em></p>\n<p>In thread pool, if we have 4 thread and  we gave to <strong>each thread one SimpleDateFormat instance</strong><br />\nso we have <strong>4 threads</strong>, <strong>4 objects</strong> of SimpleDateFormat.</p>\n<p>There is no need of lock mechanism and object creation and destruction.  (Good time complexity and space complexity)</p>\n<p><a href=\"https://www.youtube.com/watch?v=sjMe9aecW_A\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=sjMe9aecW_A</a></p>\n"},{"tags":[],"owner":{"account_id":14685618,"reputation":31,"user_id":10605704,"display_name":"Young"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1541428261,"creation_date":1541428261,"answer_id":53156397,"question_id":817856,"body_markdown":"[For Reference]ThreadLocal cannot solve update problems of shared object. It is recommended to use a staticThreadLocal object which is shared by all operations in the same thread.\r\n[Mandatory]remove() method must be implemented by ThreadLocal variables, especially when using thread pools in which threads are often reused. Otherwise, it may affect subsequent business logic and cause unexpected problems such as memory leak.","title":"When and how should I use a ThreadLocal variable?","body":"<p>[For Reference]ThreadLocal cannot solve update problems of shared object. It is recommended to use a staticThreadLocal object which is shared by all operations in the same thread.\n[Mandatory]remove() method must be implemented by ThreadLocal variables, especially when using thread pools in which threads are often reused. Otherwise, it may affect subsequent business logic and cause unexpected problems such as memory leak.</p>\n"},{"tags":[],"owner":{"account_id":8571883,"reputation":821,"user_id":6422459,"display_name":"DigitShifter"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581801207,"creation_date":1581801207,"answer_id":60243198,"question_id":817856,"body_markdown":"**Try this small example, to get a feel for ThreadLocal variable:**&lt;br&gt;\r\n&lt;br&gt;\r\n\r\n    public class Book implements Runnable {\r\n        private static final ThreadLocal&lt;List&lt;String&gt;&gt; WORDS = ThreadLocal.withInitial(ArrayList::new);\r\n\r\n        private final String bookName; // It is also the thread&#39;s name\r\n        private final List&lt;String&gt; words;\r\n\r\n\r\n        public Book(String bookName, List&lt;String&gt; words) {\r\n            this.bookName = bookName;\r\n            this.words = Collections.unmodifiableList(words);\r\n        }\r\n\r\n        public void run() {\r\n            WORDS.get().addAll(words);\r\n            System.out.printf(&quot;Result %s: &#39;%s&#39;.%n&quot;, bookName, String.join(&quot;, &quot;, WORDS.get()));\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            Thread t1 = new Thread(new Book(&quot;BookA&quot;, Arrays.asList(&quot;wordA1&quot;, &quot;wordA2&quot;, &quot;wordA3&quot;)));\r\n            Thread t2 = new Thread(new Book(&quot;BookB&quot;, Arrays.asList(&quot;wordB1&quot;, &quot;wordB2&quot;)));\r\n            t1.start();\r\n            t2.start();\r\n        }\r\n    }\r\n&lt;br&gt;\r\n**Console output, if thread BookA is done first:**&lt;br&gt;\r\nResult BookA: &#39;wordA1, wordA2, wordA3&#39;.&lt;br&gt;\r\nResult BookB: &#39;wordB1, wordB2&#39;.&lt;br&gt;\r\n&lt;br&gt;\r\n**Console output, if thread BookB is done first:**&lt;br&gt;\r\nResult BookB: &#39;wordB1, wordB2&#39;.&lt;br&gt;\r\nResult BookA: &#39;wordA1, wordA2, wordA3&#39;.&lt;br&gt;\r\n&lt;br&gt;\r\n","title":"When and how should I use a ThreadLocal variable?","body":"<p><strong>Try this small example, to get a feel for ThreadLocal variable:</strong><br>\n<br></p>\n\n<pre><code>public class Book implements Runnable {\n    private static final ThreadLocal&lt;List&lt;String&gt;&gt; WORDS = ThreadLocal.withInitial(ArrayList::new);\n\n    private final String bookName; // It is also the thread's name\n    private final List&lt;String&gt; words;\n\n\n    public Book(String bookName, List&lt;String&gt; words) {\n        this.bookName = bookName;\n        this.words = Collections.unmodifiableList(words);\n    }\n\n    public void run() {\n        WORDS.get().addAll(words);\n        System.out.printf(\"Result %s: '%s'.%n\", bookName, String.join(\", \", WORDS.get()));\n    }\n\n    public static void main(String[] args) {\n        Thread t1 = new Thread(new Book(\"BookA\", Arrays.asList(\"wordA1\", \"wordA2\", \"wordA3\")));\n        Thread t2 = new Thread(new Book(\"BookB\", Arrays.asList(\"wordB1\", \"wordB2\")));\n        t1.start();\n        t2.start();\n    }\n}\n</code></pre>\n\n<p><br>\n<strong>Console output, if thread BookA is done first:</strong><br>\nResult BookA: 'wordA1, wordA2, wordA3'.<br>\nResult BookB: 'wordB1, wordB2'.<br>\n<br>\n<strong>Console output, if thread BookB is done first:</strong><br>\nResult BookB: 'wordB1, wordB2'.<br>\nResult BookA: 'wordA1, wordA2, wordA3'.<br>\n<br></p>\n"},{"tags":[],"owner":{"account_id":3087422,"reputation":509,"user_id":2614310,"accept_rate":14,"display_name":"Arvind Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627448454,"creation_date":1627448454,"answer_id":68554632,"question_id":817856,"body_markdown":"**1st  Use case** - Per thread context which gives thread safety as well as performance\r\nReal-time example in SpringFramework classes - \r\n* LocaleContextHolder\r\n* TransactionContextHolder\r\n* RequestContextHolder\r\n* DateTimeContextHolder\r\n\r\n**2nd Use case** - When we don&#39;t want to share something among threads and at the same time don&#39;t want to use synchronize/lock due to performance cost\r\nexample - SimpleDateFormat to create the custom format for dates\r\n\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    \r\n    /**\r\n     * @author - GreenLearner(https://www.youtube.com/c/greenlearner)\r\n     */\r\n    public class ThreadLocalDemo1 {\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-mm-yyyy&quot;);//not thread safe\r\n        ThreadLocal&lt;SimpleDateFormat&gt; tdl1 = ThreadLocal.withInitial(() -&gt; new SimpleDateFormat(&quot;yyyy-dd-mm&quot;));\r\n    \r\n        public static void main(String[] args) {\r\n            ThreadLocalDemo1 d1 = new ThreadLocalDemo1();\r\n    \r\n            ExecutorService es = Executors.newFixedThreadPool(10);\r\n    \r\n            for(int i=0; i&lt;100; i++) {\r\n                es.submit(() -&gt; System.out.println(d1.getDate(new Date())));\r\n            }\r\n            es.shutdown();\r\n        }\r\n    \r\n        String getDate(Date date){\r\n    \r\n    //        String s = tsdf.get().format(date);\r\n            String s1 = tdl1.get().format(date);\r\n            return s1;\r\n        }\r\n    }\r\n\r\n\r\n**Usage Tips**\r\n\r\n* Use local variables if possible. This way we can avoid using ThreadLocal\r\n* Delegate the functionality to frameworks as and when possible\r\n* If using ThreadLocal and setting the state into it then make sure to clean it after using otherwise it can become the major reason for **OutOfMemoryError**","title":"When and how should I use a ThreadLocal variable?","body":"<p><strong>1st  Use case</strong> - Per thread context which gives thread safety as well as performance\nReal-time example in SpringFramework classes -</p>\n<ul>\n<li>LocaleContextHolder</li>\n<li>TransactionContextHolder</li>\n<li>RequestContextHolder</li>\n<li>DateTimeContextHolder</li>\n</ul>\n<p><strong>2nd Use case</strong> - When we don't want to share something among threads and at the same time don't want to use synchronize/lock due to performance cost\nexample - SimpleDateFormat to create the custom format for dates</p>\n<pre><code>import java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\n/**\n * @author - GreenLearner(https://www.youtube.com/c/greenlearner)\n */\npublic class ThreadLocalDemo1 {\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-mm-yyyy&quot;);//not thread safe\n    ThreadLocal&lt;SimpleDateFormat&gt; tdl1 = ThreadLocal.withInitial(() -&gt; new SimpleDateFormat(&quot;yyyy-dd-mm&quot;));\n\n    public static void main(String[] args) {\n        ThreadLocalDemo1 d1 = new ThreadLocalDemo1();\n\n        ExecutorService es = Executors.newFixedThreadPool(10);\n\n        for(int i=0; i&lt;100; i++) {\n            es.submit(() -&gt; System.out.println(d1.getDate(new Date())));\n        }\n        es.shutdown();\n    }\n\n    String getDate(Date date){\n\n//        String s = tsdf.get().format(date);\n        String s1 = tdl1.get().format(date);\n        return s1;\n    }\n}\n</code></pre>\n<p><strong>Usage Tips</strong></p>\n<ul>\n<li>Use local variables if possible. This way we can avoid using ThreadLocal</li>\n<li>Delegate the functionality to frameworks as and when possible</li>\n<li>If using ThreadLocal and setting the state into it then make sure to clean it after using otherwise it can become the major reason for <strong>OutOfMemoryError</strong></li>\n</ul>\n"}],"owner":{"display_name":"Sasha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":375883,"favorite_count":0,"down_vote_count":0,"up_vote_count":976,"accepted_answer_id":817926,"answer_count":26,"score":976,"last_activity_date":1664737068,"creation_date":1241380760,"question_id":817856,"body_markdown":"When should I use a [`ThreadLocal`][1] variable?\r\n\r\nHow is it used?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/ThreadLocal.html","title":"When and how should I use a ThreadLocal variable?","body":"<p>When should I use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ThreadLocal.html\" rel=\"noreferrer\"><code>ThreadLocal</code></a> variable?</p>\n\n<p>How is it used?</p>\n"},{"tags":["java","javahelp"],"comments":[{"owner":{"account_id":16406564,"reputation":7066,"user_id":11854986,"display_name":"Ken Lee"},"score":1,"creation_date":1664727196,"post_id":73926976,"comment_id":130533236,"body_markdown":"For (3) : You might want to try **Oracle Help**. It is very similar to JavaHelp, but more actively maintained (I think this also answers (1) and (2) for you to some extent)","body":"For (3) : You might want to try <b>Oracle Help</b>. It is very similar to JavaHelp, but more actively maintained (I think this also answers (1) and (2) for you to some extent)"},{"owner":{"account_id":74766,"reputation":96,"user_id":214665,"display_name":"ebresie"},"score":1,"creation_date":1664728062,"post_id":73926976,"comment_id":130533404,"body_markdown":"@ken-lee assume this means [Oracle Help](https://docs.oracle.com/middleware/1213/jdev/api-reference-ohj/overview-summary.html) which is associated with [JDeveloper](https://docs.oracle.com/middleware/1213/jdev/) right?","body":"@ken-lee assume this means <a href=\"https://docs.oracle.com/middleware/1213/jdev/api-reference-ohj/overview-summary.html\" rel=\"nofollow noreferrer\">Oracle Help</a> which is associated with <a href=\"https://docs.oracle.com/middleware/1213/jdev/\" rel=\"nofollow noreferrer\">JDeveloper</a> right?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1664737097,"post_id":73926976,"comment_id":130535271,"body_markdown":"I guess the downvotes/closures were because you asked multiple questions and at least two of them are open ended. These questions are more fit for a discussion forum, not for a question &amp; answer site. At least I can tell you JavaHelp is definitely not (going to be) part of JEE. You might want to correct this misassumption in the question too.","body":"I guess the downvotes/closures were because you asked multiple questions and at least two of them are open ended. These questions are more fit for a discussion forum, not for a question &amp; answer site. At least I can tell you JavaHelp is definitely not (going to be) part of JEE. You might want to correct this misassumption in the question too."},{"owner":{"account_id":74766,"reputation":96,"user_id":214665,"display_name":"ebresie"},"score":0,"creation_date":1666544317,"post_id":73926976,"comment_id":130957283,"body_markdown":"@BalusC appreciate the feedback.  Ha","body":"@BalusC appreciate the feedback.  Ha"}],"owner":{"account_id":74766,"reputation":96,"user_id":214665,"display_name":"ebresie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":292,"favorite_count":0,"down_vote_count":5,"up_vote_count":5,"answer_count":0,"score":0,"last_activity_date":1664736987,"creation_date":1664723734,"question_id":73926976,"body_markdown":"While reviewing old Java project code, which relied on [*JavaHelp*][1] Java API to provide help functionality, it was unclear what the current status of this API is.  \r\n\r\nThe Java Help API spec is defined as part of [JSR-97](https://www.jcp.org/en/jsr/detail?id=97).\r\n\r\nThe [JavaHelp Wiki page](https://en.wikipedia.org/wiki/JavaHelp) seems to imply it was donated / opened sources to github as part of the [Java EE JavaHelp](https://github.com/javaee/javahelp) project.  However, this project has been archived.  \r\n\r\nThere was licensing concern (i.e., it was GPLv2 with exception, relicenses to CDDL partly with some still being GPLv2 with exceptions) .\r\n\r\nMost of the Java EE source has transitioned to the Eclipse / [Jakarta EE project](https://github.com/eclipse-ee4j).  But it&#39;s unclear if the JavaHelp functionality was picked up for further development under this umbrella.\r\n\r\nThere is some [legacy JavaHelp documentation](https://docs.oracle.com/cd/E19253-01/819-0913/819-0913.pdf) but this provides details on usage and points to communities and email addresses which are no longer applicable.\r\n\r\nSimilar [stackoverflow question was asked previously](https://stackoverflow.com/questions/4919143/where-is-jsr-97-javahelp/4919295) which had some response but may be a bit dated.\r\n\r\nAssume &quot;Java Help&quot; may no longer be of use or OBE, preferring instead to use some form of &quot;web based&quot; help content but not sure if this is 100% the case and the official transition expectations.\r\n\r\n1. What is the status of Java Help given transitions and upgrades presently?\r\n2. Is there still any value in the &quot;Java Help&quot; API?\r\n3. What is the alternative to this?\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/JavaHelp","title":"What is the current status of JavaHelp Java API?","body":"<p>While reviewing old Java project code, which relied on <a href=\"https://en.m.wikipedia.org/wiki/JavaHelp\" rel=\"nofollow noreferrer\"><em>JavaHelp</em></a> Java API to provide help functionality, it was unclear what the current status of this API is.</p>\n<p>The Java Help API spec is defined as part of <a href=\"https://www.jcp.org/en/jsr/detail?id=97\" rel=\"nofollow noreferrer\">JSR-97</a>.</p>\n<p>The <a href=\"https://en.wikipedia.org/wiki/JavaHelp\" rel=\"nofollow noreferrer\">JavaHelp Wiki page</a> seems to imply it was donated / opened sources to github as part of the <a href=\"https://github.com/javaee/javahelp\" rel=\"nofollow noreferrer\">Java EE JavaHelp</a> project.  However, this project has been archived.</p>\n<p>There was licensing concern (i.e., it was GPLv2 with exception, relicenses to CDDL partly with some still being GPLv2 with exceptions) .</p>\n<p>Most of the Java EE source has transitioned to the Eclipse / <a href=\"https://github.com/eclipse-ee4j\" rel=\"nofollow noreferrer\">Jakarta EE project</a>.  But it's unclear if the JavaHelp functionality was picked up for further development under this umbrella.</p>\n<p>There is some <a href=\"https://docs.oracle.com/cd/E19253-01/819-0913/819-0913.pdf\" rel=\"nofollow noreferrer\">legacy JavaHelp documentation</a> but this provides details on usage and points to communities and email addresses which are no longer applicable.</p>\n<p>Similar <a href=\"https://stackoverflow.com/questions/4919143/where-is-jsr-97-javahelp/4919295\">stackoverflow question was asked previously</a> which had some response but may be a bit dated.</p>\n<p>Assume &quot;Java Help&quot; may no longer be of use or OBE, preferring instead to use some form of &quot;web based&quot; help content but not sure if this is 100% the case and the official transition expectations.</p>\n<ol>\n<li>What is the status of Java Help given transitions and upgrades presently?</li>\n<li>Is there still any value in the &quot;Java Help&quot; API?</li>\n<li>What is the alternative to this?</li>\n</ol>\n"},{"tags":["java","mysql","hibernate","jpa","constructor"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1664733831,"post_id":73928012,"comment_id":130534600,"body_markdown":"Note that JPA entities need to have a no-args constructor.","body":"Note that JPA entities need to have a no-args constructor."}],"answers":[{"comments":[{"owner":{"account_id":26508713,"reputation":1,"user_id":20144410,"display_name":"praneeth puppali"},"score":0,"creation_date":1664735952,"post_id":73928359,"comment_id":130535051,"body_markdown":"Thank you. Yes, this is working for me and able to run the code. But when I hit the method I am getting this new error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;. as col_11_0_, users0_.client_id as col_12_0_, . as col_13_0_, users0_.mobile_n&#39; at line 1.","body":"Thank you. Yes, this is working for me and able to run the code. But when I hit the method I am getting this new error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;. as col_11_0_, users0_.client_id as col_12_0_, . as col_13_0_, users0_.mobile_n&#39; at line 1."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1664736331,"post_id":73928359,"comment_id":130535117,"body_markdown":"@praneethpuppali `client_id` is not part of the query that you have shown. If you have a new question, please post a new question; this question was about incompatible types in the constructor. Check your query and apply the same troubleshooting technique: reduce to the smallest possible query, then start adding back parts until it breaks.","body":"@praneethpuppali <code>client_id</code> is not part of the query that you have shown. If you have a new question, please post a new question; this question was about incompatible types in the constructor. Check your query and apply the same troubleshooting technique: reduce to the smallest possible query, then start adding back parts until it breaks."}],"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664736265,"creation_date":1664735402,"answer_id":73928359,"question_id":73928012,"body_markdown":"Please read the error message:\r\n\r\n&gt; Expected arguments are: long, long, java.util.Date, java.lang.String, java.lang.String, java.lang.String, long, java.util.Date, java.lang.String, java.lang.String, java.lang.String, **java.util.Collection**, com.rightdata.dextrus.db.model.ClientName, **java.util.Collection**, long, com.rightdata.dextrus.db.model.UserAddress, java.lang.String, java.lang.String, java.lang.String\r\n\r\nAnd your constructor&#39;s arguments are:\r\n\r\n&gt;  Long id, Long createdBy, Date createdOne, String email, String firstname, String isActive, Long lastModifiedBy, Date lastModifiedOn, String lastname,\r\n               String password, String username, **List&amp;lt;RolesToUser&amp;gt;** rolesToUsers, ClientName clientName, **List&amp;lt;GroupsToUser&amp;gt;** groupsToUsers, Long mobileNumber,\r\n               UserAddress userAddress, String logiUserId, String modifiedByUser, String createdByUser\r\n\r\nA List is a Collection, but a Collection is not (always) a list.\r\n\r\nChange your constructor to:\r\n\r\n```\r\npublic Users(\r\n    Long id,\r\n    Long createdBy,\r\n    Date createdOne,\r\n    String email,\r\n    String firstname,\r\n    String isActive,\r\n    Long lastModifiedBy,\r\n    Date lastModifiedOn,\r\n    String lastname,\r\n    String password,\r\n    String username,\r\n    Collection&lt;RolesToUser&gt; rolesToUsers, // list=&gt;collection\r\n    ClientName clientName,\r\n    Collection&lt;GroupsToUser&gt; groupsToUsers, // list=&gt;collection\r\n    Long mobileNumber,\r\n    UserAddress userAddress,\r\n    String logiUserId,\r\n    String modifiedByUser,\r\n    String createdByUser) {\r\n```\r\n\r\nIf that still doesn&#39;t work, check if boxed `Long` vs primitive `long` causes problems.\r\n\r\nWhenever you encounter a problem such as this, it&#39;s good to divide it into smaller problems. Change the constructor to a single parameter and see if it works. If it does: add the next parameter. If it does not: congratulations, you have found your problematic param. Rinse and repeat until you have added all params again or found the culprit.","title":"What is wrong with my constructor class for jpa query?","body":"<p>Please read the error message:</p>\n<blockquote>\n<p>Expected arguments are: long, long, java.util.Date, java.lang.String, java.lang.String, java.lang.String, long, java.util.Date, java.lang.String, java.lang.String, java.lang.String, <strong>java.util.Collection</strong>, com.rightdata.dextrus.db.model.ClientName, <strong>java.util.Collection</strong>, long, com.rightdata.dextrus.db.model.UserAddress, java.lang.String, java.lang.String, java.lang.String</p>\n</blockquote>\n<p>And your constructor's arguments are:</p>\n<blockquote>\n<p>Long id, Long createdBy, Date createdOne, String email, String firstname, String isActive, Long lastModifiedBy, Date lastModifiedOn, String lastname,\nString password, String username, <strong>List&lt;RolesToUser&gt;</strong> rolesToUsers, ClientName clientName, <strong>List&lt;GroupsToUser&gt;</strong> groupsToUsers, Long mobileNumber,\nUserAddress userAddress, String logiUserId, String modifiedByUser, String createdByUser</p>\n</blockquote>\n<p>A List is a Collection, but a Collection is not (always) a list.</p>\n<p>Change your constructor to:</p>\n<pre><code>public Users(\n    Long id,\n    Long createdBy,\n    Date createdOne,\n    String email,\n    String firstname,\n    String isActive,\n    Long lastModifiedBy,\n    Date lastModifiedOn,\n    String lastname,\n    String password,\n    String username,\n    Collection&lt;RolesToUser&gt; rolesToUsers, // list=&gt;collection\n    ClientName clientName,\n    Collection&lt;GroupsToUser&gt; groupsToUsers, // list=&gt;collection\n    Long mobileNumber,\n    UserAddress userAddress,\n    String logiUserId,\n    String modifiedByUser,\n    String createdByUser) {\n</code></pre>\n<p>If that still doesn't work, check if boxed <code>Long</code> vs primitive <code>long</code> causes problems.</p>\n<p>Whenever you encounter a problem such as this, it's good to divide it into smaller problems. Change the constructor to a single parameter and see if it works. If it does: add the next parameter. If it does not: congratulations, you have found your problematic param. Rinse and repeat until you have added all params again or found the culprit.</p>\n"}],"owner":{"account_id":26508713,"reputation":1,"user_id":20144410,"display_name":"praneeth puppali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664736265,"creation_date":1664732462,"question_id":73928012,"body_markdown":"**This is my query**:\r\n\r\n```\r\n  @Query(&quot;SELECT new Users(user.id, user.createdBy, user.createdOne, user.email, user.firstname, user.isActive, user.lastModifiedBy, user.lastModifiedOn, user.lastname, user.password, &quot; +\r\n          &quot;user.username, user.rolesToUsers, user.clientName, user.groupsToUsers, user.mobileNumber, user.userAddress, user.logiUserId, &quot; +\r\n          &quot;modifiedByUser.username, createdByUser.username) &quot; +\r\n          &quot;FROM  Users user inner join ClientName client  on client.cid = user.clientName &quot; +\r\n          &quot;left join Users modifiedByUser on modifiedByUser.id = user.modifiedBy &quot; +\r\n          &quot;left join Users createdByUser on createdByUser.id = user.createdBy WHERE client.cid =?1&quot;)\r\n  public Optional&lt;List&lt;Users&gt;&gt; findAllByClientIdModifiedUser(Long cid);\r\n```\r\n**My constructor is**:\r\n```\r\n  public Users(Long id, Long createdBy, Date createdOne, String email, String firstname, String isActive, Long lastModifiedBy, Date lastModifiedOn, String lastname,\r\n               String password, String username, List&lt;RolesToUser&gt; rolesToUsers, ClientName clientName, List&lt;GroupsToUser&gt; groupsToUsers, Long mobileNumber,\r\n               UserAddress userAddress, String logiUserId, String modifiedByUser, String createdByUser) {\r\n\r\n    this.id = id;\r\n    this.createdBy = createdBy;\r\n    this.createdOne = createdOne;\r\n    this.email = email;\r\n    this.firstname = firstname;\r\n    this.isActive = isActive;\r\n    this.lastModifiedBy = lastModifiedBy;\r\n    this.lastModifiedOn = lastModifiedOn;\r\n    this.lastname = lastname;\r\n    this.password = password;\r\n    this.username = username;\r\n    this.rolesToUsers = rolesToUsers;\r\n    this.clientName = clientName;\r\n    this.groupsToUsers = groupsToUsers;\r\n    this.mobileNumber = mobileNumber;\r\n    this.userAddress = userAddress;\r\n    this.logiUserId = logiUserId;\r\n    this.modifiedByUser = modifiedByUser;\r\n    this.createdByUser = createdByUser;\r\n  }\r\n```\r\n**Error I am getting is**:\r\n\r\n&gt; Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: Unable to locate appropriate constructor on class [com.rightdata.dextrus.db.model.Users]. Expected arguments are: long, long, java.util.Date, java.lang.String, java.lang.String, java.lang.String, long, java.util.Date, java.lang.String, java.lang.String, java.lang.String, java.util.Collection, com.rightdata.dextrus.db.model.ClientName, java.util.Collection, long, com.rightdata.dextrus.db.model.UserAddress, java.lang.String, java.lang.String, java.lang.String [SELECT new Users(user.id, user.createdBy, user.createdOne, user.email, user.firstname, user.isActive, user.lastModifiedBy, user.lastModifiedOn, user.lastname, user.password, user.username, user.rolesToUsers, user.clientName, user.groupsToUsers, user.mobileNumber, user.userAddress, user.logiUserId, modifiedByUser.username, createdByUser.username) FROM  com.rightdata.dextrus.db.model.Users user inner join com.rightdata.dextrus.db.model.ClientName client  on client.cid = user.clientName left join com.rightdata.dextrus.db.model.Users modifiedByUser on modifiedByUser.id = user.lastModifiedBy left join com.rightdata.dextrus.db.model.Users createdByUser on createdByUser.id = user.createdBy WHERE client.cid =?1]","title":"What is wrong with my constructor class for jpa query?","body":"<p><strong>This is my query</strong>:</p>\n<pre><code>  @Query(&quot;SELECT new Users(user.id, user.createdBy, user.createdOne, user.email, user.firstname, user.isActive, user.lastModifiedBy, user.lastModifiedOn, user.lastname, user.password, &quot; +\n          &quot;user.username, user.rolesToUsers, user.clientName, user.groupsToUsers, user.mobileNumber, user.userAddress, user.logiUserId, &quot; +\n          &quot;modifiedByUser.username, createdByUser.username) &quot; +\n          &quot;FROM  Users user inner join ClientName client  on client.cid = user.clientName &quot; +\n          &quot;left join Users modifiedByUser on modifiedByUser.id = user.modifiedBy &quot; +\n          &quot;left join Users createdByUser on createdByUser.id = user.createdBy WHERE client.cid =?1&quot;)\n  public Optional&lt;List&lt;Users&gt;&gt; findAllByClientIdModifiedUser(Long cid);\n</code></pre>\n<p><strong>My constructor is</strong>:</p>\n<pre><code>  public Users(Long id, Long createdBy, Date createdOne, String email, String firstname, String isActive, Long lastModifiedBy, Date lastModifiedOn, String lastname,\n               String password, String username, List&lt;RolesToUser&gt; rolesToUsers, ClientName clientName, List&lt;GroupsToUser&gt; groupsToUsers, Long mobileNumber,\n               UserAddress userAddress, String logiUserId, String modifiedByUser, String createdByUser) {\n\n    this.id = id;\n    this.createdBy = createdBy;\n    this.createdOne = createdOne;\n    this.email = email;\n    this.firstname = firstname;\n    this.isActive = isActive;\n    this.lastModifiedBy = lastModifiedBy;\n    this.lastModifiedOn = lastModifiedOn;\n    this.lastname = lastname;\n    this.password = password;\n    this.username = username;\n    this.rolesToUsers = rolesToUsers;\n    this.clientName = clientName;\n    this.groupsToUsers = groupsToUsers;\n    this.mobileNumber = mobileNumber;\n    this.userAddress = userAddress;\n    this.logiUserId = logiUserId;\n    this.modifiedByUser = modifiedByUser;\n    this.createdByUser = createdByUser;\n  }\n</code></pre>\n<p><strong>Error I am getting is</strong>:</p>\n<blockquote>\n<p>Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: Unable to locate appropriate constructor on class [com.rightdata.dextrus.db.model.Users]. Expected arguments are: long, long, java.util.Date, java.lang.String, java.lang.String, java.lang.String, long, java.util.Date, java.lang.String, java.lang.String, java.lang.String, java.util.Collection, com.rightdata.dextrus.db.model.ClientName, java.util.Collection, long, com.rightdata.dextrus.db.model.UserAddress, java.lang.String, java.lang.String, java.lang.String [SELECT new Users(user.id, user.createdBy, user.createdOne, user.email, user.firstname, user.isActive, user.lastModifiedBy, user.lastModifiedOn, user.lastname, user.password, user.username, user.rolesToUsers, user.clientName, user.groupsToUsers, user.mobileNumber, user.userAddress, user.logiUserId, modifiedByUser.username, createdByUser.username) FROM  com.rightdata.dextrus.db.model.Users user inner join com.rightdata.dextrus.db.model.ClientName client  on client.cid = user.clientName left join com.rightdata.dextrus.db.model.Users modifiedByUser on modifiedByUser.id = user.lastModifiedBy left join com.rightdata.dextrus.db.model.Users createdByUser on createdByUser.id = user.createdBy WHERE client.cid =?1]</p>\n</blockquote>\n"},{"tags":["java","mysql","eclipse"],"answers":[{"comments":[{"owner":{"account_id":4215126,"reputation":37,"user_id":3451595,"accept_rate":100,"display_name":"kalyan"},"score":0,"creation_date":1405438038,"post_id":24762054,"comment_id":38421188,"body_markdown":"This is also not working...... Also, my database name is &quot;test&quot; .... So only I put test in that place..... May I know the reason to change it to &quot;mysql&quot;....????","body":"This is also not working...... Also, my database name is &quot;test&quot; .... So only I put test in that place..... May I know the reason to change it to &quot;mysql&quot;....????"},{"owner":{"account_id":4277762,"reputation":328,"user_id":3497985,"display_name":"dharr"},"score":0,"creation_date":1405438467,"post_id":24762054,"comment_id":38421485,"body_markdown":"Oh sorry haha you might take a look on that http://stackoverflow.com/questions/2839321/java-connectivity-with-mysql/2840358#2840358","body":"Oh sorry haha you might take a look on that <a href=\"http://stackoverflow.com/questions/2839321/java-connectivity-with-mysql/2840358#2840358\" title=\"java connectivity with mysql\">stackoverflow.com/questions/2839321/&hellip;</a>"},{"owner":{"account_id":4215126,"reputation":37,"user_id":3451595,"accept_rate":100,"display_name":"kalyan"},"score":0,"creation_date":1405438906,"post_id":24762054,"comment_id":38421741,"body_markdown":"ok..... when I add &quot;Class.forName(&quot;com.mysql.jdbc.Driver&quot;);&quot; in my code, I got cleared that exception........ Thanks for your kind response","body":"ok..... when I add &quot;Class.forName(&quot;com.mysql.jdbc.Driver&quot;);&quot; in my code, I got cleared that exception........ Thanks for your kind response"},{"owner":{"account_id":4277762,"reputation":328,"user_id":3497985,"display_name":"dharr"},"score":0,"creation_date":1405439278,"post_id":24762054,"comment_id":38421985,"body_markdown":"Sorry for my mistake :)","body":"Sorry for my mistake :)"}],"tags":[],"owner":{"account_id":4277762,"reputation":328,"user_id":3497985,"display_name":"dharr"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1405439289,"creation_date":1405437684,"answer_id":24762054,"question_id":24761974,"body_markdown":"Your jdbc URL might be wrong try something like that:\r\n\r\n    String dbURL = &quot;jdbc:mysql://localhost:3306/test&quot;;   \r\nSupply url to your mysql folder ","title":"How to handle &quot;No suitable driver found&quot; exception while connecting MySQL with Eclipse?","body":"<p>Your jdbc URL might be wrong try something like that:</p>\n\n<pre><code>String dbURL = \"jdbc:mysql://localhost:3306/test\";   \n</code></pre>\n\n<p>Supply url to your mysql folder </p>\n"}],"owner":{"account_id":4215126,"reputation":37,"user_id":3451595,"accept_rate":100,"display_name":"kalyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":24762054,"answer_count":1,"score":0,"last_activity_date":1664735419,"creation_date":1405437464,"question_id":24761974,"body_markdown":"I am using Eclipse LUNA package and MySQL 6.0 Workbench.\r\n\r\nI pasted &quot;mysql-connector-java-5.0.8-bin.jar&quot; file in Referenced Library file.\r\n\r\nMy coding:\r\n\r\n```java\r\npackage a1;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\nimport java.util.Scanner;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\nclass a2 {\r\n  public static void main(String[] args) {\r\n    String dbURL = &quot;jdbc:mysql://localhost:3306/test&quot;;\r\n    String username = &quot;root&quot;;\r\n    String password = &quot;root&quot;;\r\n    Connection dbCon = null;\r\n    Statement stmt = null;\r\n    ResultSet rs = null;\r\n    String query = &quot;select * from k111&quot;;\r\n    try {\r\n      dbCon = DriverManager.getConnection(dbURL, username, password);\r\n      stmt = dbCon.prepareStatement(query);\r\n      rs = stmt.executeQuery(query);\r\n      System.out.println(&quot;Success&quot;);\r\n      while (rs.next()) {\r\n        System.out.println(query);\r\n      }\r\n    } catch (SQLException ex) {\r\n      System.out.println(ex);\r\n    } finally {\r\n      rs.close();\r\n      stmt.close();\r\n      dbCon.close();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nMy database name is &quot;test&quot;. My table name is k111.\r\n\r\nI need to print &quot;Success&quot; as per the program to know whether the database connectivity is successful.\r\n\r\nMy output:\r\n\r\n&gt;java.sql.SQLException: No suitable driver found for  jdbc:mysql://localhost:3306/test","title":"How to handle &quot;No suitable driver found&quot; exception while connecting MySQL with Eclipse?","body":"<p>I am using Eclipse LUNA package and MySQL 6.0 Workbench.</p>\n<p>I pasted &quot;mysql-connector-java-5.0.8-bin.jar&quot; file in Referenced Library file.</p>\n<p>My coding:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package a1;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.Scanner;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nclass a2 {\n  public static void main(String[] args) {\n    String dbURL = &quot;jdbc:mysql://localhost:3306/test&quot;;\n    String username = &quot;root&quot;;\n    String password = &quot;root&quot;;\n    Connection dbCon = null;\n    Statement stmt = null;\n    ResultSet rs = null;\n    String query = &quot;select * from k111&quot;;\n    try {\n      dbCon = DriverManager.getConnection(dbURL, username, password);\n      stmt = dbCon.prepareStatement(query);\n      rs = stmt.executeQuery(query);\n      System.out.println(&quot;Success&quot;);\n      while (rs.next()) {\n        System.out.println(query);\n      }\n    } catch (SQLException ex) {\n      System.out.println(ex);\n    } finally {\n      rs.close();\n      stmt.close();\n      dbCon.close();\n    }\n  }\n}\n</code></pre>\n<p>My database name is &quot;test&quot;. My table name is k111.</p>\n<p>I need to print &quot;Success&quot; as per the program to know whether the database connectivity is successful.</p>\n<p>My output:</p>\n<blockquote>\n<p>java.sql.SQLException: No suitable driver found for  jdbc:mysql://localhost:3306/test</p>\n</blockquote>\n"},{"tags":["java","android","google-cloud-firestore","firebase-storage"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1664783367,"post_id":73927631,"comment_id":130542397,"body_markdown":"If you understand Kotlin, then this [resource](https://medium.com/firebase-tips-tricks/how-to-upload-an-image-to-cloud-storage-and-save-the-url-in-firestore-42711ca1df46) will definitely help. Here is also the corresponding [repo](https://github.com/alexmamo/CloudStorageJetpackCompose).","body":"If you understand Kotlin, then this <a href=\"https://medium.com/firebase-tips-tricks/how-to-upload-an-image-to-cloud-storage-and-save-the-url-in-firestore-42711ca1df46\" rel=\"nofollow noreferrer\">resource</a> will definitely help. Here is also the corresponding <a href=\"https://github.com/alexmamo/CloudStorageJetpackCompose\" rel=\"nofollow noreferrer\">repo</a>."}],"answers":[{"comments":[{"owner":{"account_id":26499261,"reputation":9,"user_id":20136466,"display_name":"Frank0014"},"score":0,"creation_date":1664764942,"post_id":73927807,"comment_id":130539091,"body_markdown":"In this case, the downloading URL rather than media files themselves are stored in Firestore? Is it possible to upload images/videos to Firestore? Thank you!","body":"In this case, the downloading URL rather than media files themselves are stored in Firestore? Is it possible to upload images/videos to Firestore? Thank you!"},{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":0,"creation_date":1664773171,"post_id":73927807,"comment_id":130540158,"body_markdown":"actually, i don&#39;t know that `firestore` has stored your image or videos or not. but `upload image or videos in storage` and then you will find &#39;download URL&#39;, you can use that `URL` to access that image or videos. thats work for me.","body":"actually, i don&#39;t know that <code>firestore</code> has stored your image or videos or not. but <code>upload image or videos in storage</code> and then you will find &#39;download URL&#39;, you can use that <code>URL</code> to access that image or videos. thats work for me."}],"tags":[],"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664730861,"creation_date":1664730861,"answer_id":73927807,"question_id":73927631,"body_markdown":"**To upload images/videos on Firebase, you need to use Firebase Storage -**\r\n\r\n1. Check the below document link for upload file on Firebase storage\r\n\r\n     [https://firebase.google.com/docs/storage/android/upload-files][1]\r\n\r\n2. Once you upload the file on Firebase storage you will get a download URL save that URL in Firestore for future reference\r\n\r\n3. You can access your image/video using that download URL\r\n\r\n\r\n\r\nHope you understood, let me know if more information is required.\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/storage/android/upload-files","title":"Upload image and video on Firebase Storage and save URL in Firestore using Java","body":"<p><strong>To upload images/videos on Firebase, you need to use Firebase Storage -</strong></p>\n<ol>\n<li><p>Check the below document link for upload file on Firebase storage</p>\n<p><a href=\"https://firebase.google.com/docs/storage/android/upload-files\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/storage/android/upload-files</a></p>\n</li>\n<li><p>Once you upload the file on Firebase storage you will get a download URL save that URL in Firestore for future reference</p>\n</li>\n<li><p>You can access your image/video using that download URL</p>\n</li>\n</ol>\n<p>Hope you understood, let me know if more information is required.</p>\n"}],"owner":{"account_id":26499261,"reputation":9,"user_id":20136466,"display_name":"Frank0014"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1013,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1664735238,"creation_date":1664729267,"question_id":73927631,"body_markdown":"I have checked the docs provided by Google, but it doesn&#39;t metioned how to upload image and video.\r\n\r\n\r\n    Map&lt;String, Object&gt; city = new HashMap&lt;&gt;();\r\n    city.put(&quot;name&quot;, &quot;Los Angeles&quot;);\r\n    city.put(&quot;state&quot;, &quot;CA&quot;);\r\n    city.put(&quot;country&quot;, &quot;USA&quot;);\r\n    \r\n    db.collection(&quot;cities&quot;).document(&quot;LA&quot;)\r\n            .set(city)\r\n            .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                @Override\r\n                public void onSuccess(Void aVoid) {\r\n                    Log.d(TAG, &quot;DocumentSnapshot successfully written!&quot;);\r\n                }\r\n            })\r\n            .addOnFailureListener(new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(@NonNull Exception e) {\r\n                    Log.w(TAG, &quot;Error writing document&quot;, e);\r\n                }\r\n            });\r\n","title":"Upload image and video on Firebase Storage and save URL in Firestore using Java","body":"<p>I have checked the docs provided by Google, but it doesn't metioned how to upload image and video.</p>\n<pre><code>Map&lt;String, Object&gt; city = new HashMap&lt;&gt;();\ncity.put(&quot;name&quot;, &quot;Los Angeles&quot;);\ncity.put(&quot;state&quot;, &quot;CA&quot;);\ncity.put(&quot;country&quot;, &quot;USA&quot;);\n\ndb.collection(&quot;cities&quot;).document(&quot;LA&quot;)\n        .set(city)\n        .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n            @Override\n            public void onSuccess(Void aVoid) {\n                Log.d(TAG, &quot;DocumentSnapshot successfully written!&quot;);\n            }\n        })\n        .addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                Log.w(TAG, &quot;Error writing document&quot;, e);\n            }\n        });\n</code></pre>\n"},{"tags":["java","spring","database","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1664570680,"post_id":73911164,"comment_id":130510161,"body_markdown":"Lazy loading means your entities are not detached - this doesn&#39;t necessarily mean you have an open transaction, as it&#39;ll depend on what they are attached to and what is holding that context/persistence unit. How have you configured your session here?","body":"Lazy loading means your entities are not detached - this doesn&#39;t necessarily mean you have an open transaction, as it&#39;ll depend on what they are attached to and what is holding that context/persistence unit. How have you configured your session here?"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664734778,"creation_date":1664630687,"answer_id":73918650,"question_id":73911164,"body_markdown":"The easiest and safest way that I can think of is to customize the `OpenEntityManagerInViewInterceptor` to just exclude the request that you do not want to apply OSIV on it. Something like : \r\n\r\n``` java\r\npublic class MyOpenEntityManagerInViewInterceptor extends OpenEntityManagerInViewInterceptor {\r\n    \r\n\r\n  \r\n    private boolean isExcludeOsiv(WebRequest request){\r\n        //refer to https://stackoverflow.com/questions/51921635/how-to-get-requests-uri-from-webrequest-in-spring for getting the URL path from the WebRequest for checking\r\n    }\r\n\r\n \r\n    @Override \r\n   \tpublic void preHandle(WebRequest request) throws DataAccessException {\r\n        if(isExcludeOsiv(request)){\r\n            return ;\r\n        }\r\n        super.preHandle(requset);\r\n    }\r\n\r\n    @Override\r\n    public void afterCompletion(WebRequest request, @Nullable Exception ex) throws DataAccessException {\r\n        if(isExcludeOsiv(request)){\r\n            return ;\r\n        }\r\n        super.afterCompletion(requset,ex);\r\n   }\r\n\r\n} \r\n```\r\n\r\nAnd use the following configuration to disable the default OSIV setting provided by spring-boot but use this customised `OpenEntityManagerInViewInterceptor` instead : \r\n\r\n\r\n``` java\r\n@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n\r\n  \t@Override\r\n\tpublic void addInterceptors(InterceptorRegistry registry) {\r\n\t\t\tregistry.addWebRequestInterceptor(new MyOpenEntityManagerInViewInterceptor());\r\n\t}\r\n}\r\n```\r\n\r\n\r\n","title":"Terminate transactional boundary when open session in view is enabled","body":"<p>The easiest and safest way that I can think of is to customize the <code>OpenEntityManagerInViewInterceptor</code> to just exclude the request that you do not want to apply OSIV on it. Something like :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyOpenEntityManagerInViewInterceptor extends OpenEntityManagerInViewInterceptor {\n    \n\n  \n    private boolean isExcludeOsiv(WebRequest request){\n        //refer to https://stackoverflow.com/questions/51921635/how-to-get-requests-uri-from-webrequest-in-spring for getting the URL path from the WebRequest for checking\n    }\n\n \n    @Override \n    public void preHandle(WebRequest request) throws DataAccessException {\n        if(isExcludeOsiv(request)){\n            return ;\n        }\n        super.preHandle(requset);\n    }\n\n    @Override\n    public void afterCompletion(WebRequest request, @Nullable Exception ex) throws DataAccessException {\n        if(isExcludeOsiv(request)){\n            return ;\n        }\n        super.afterCompletion(requset,ex);\n   }\n\n} \n</code></pre>\n<p>And use the following configuration to disable the default OSIV setting provided by spring-boot but use this customised <code>OpenEntityManagerInViewInterceptor</code> instead :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n            registry.addWebRequestInterceptor(new MyOpenEntityManagerInViewInterceptor());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6532709,"reputation":432,"user_id":5053357,"accept_rate":38,"display_name":"Nero"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664734778,"creation_date":1664552836,"question_id":73911164,"body_markdown":"My project has Open session in view enabled and we cannot disable it at this point. We are using spring boot. \r\n\r\nI have a method that does db read calls and rest calls. I do NOT need transactional boundary over this method. How do I disable the transaction in this method. I have tried using \r\n\r\n    @Transaction(propagation=Propagation.NEVER \r\n    and \r\n    @Transaction(propagation=Propagation.NOT_SUPPORTED)\r\n\r\nBut the transaction still seems to exist. I know this because there are some lazily loaded relationships that gets loaded if I access them with in this method.\r\n\r\n    public void doSomething() {\r\n        makeDbCall();\r\n        makeRestCall();\r\n        makeDbCallAgain();\r\n    }","title":"Terminate transactional boundary when open session in view is enabled","body":"<p>My project has Open session in view enabled and we cannot disable it at this point. We are using spring boot.</p>\n<p>I have a method that does db read calls and rest calls. I do NOT need transactional boundary over this method. How do I disable the transaction in this method. I have tried using</p>\n<pre><code>@Transaction(propagation=Propagation.NEVER \nand \n@Transaction(propagation=Propagation.NOT_SUPPORTED)\n</code></pre>\n<p>But the transaction still seems to exist. I know this because there are some lazily loaded relationships that gets loaded if I access them with in this method.</p>\n<pre><code>public void doSomething() {\n    makeDbCall();\n    makeRestCall();\n    makeDbCallAgain();\n}\n</code></pre>\n"},{"tags":["java","unirest","unirest-java"],"answers":[{"tags":[],"owner":{"account_id":26462069,"reputation":11,"user_id":20103849,"display_name":"IAN"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664734668,"creation_date":1664304211,"answer_id":73872434,"question_id":70787532,"body_markdown":"**It looks like your body is in the wrong form for application/x-www-form-urlencoded.**\r\n\r\nIt shouldn&#39;t be a json object and instead should be something like `grant_type=password&amp;client_id=front&amp;username=user&amp;password=1234`\r\n\r\nAn example can be found [here][1]\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST#example","title":"Post an &#39;x-www-form-urlencoded&#39; entity with Java Unirest","body":"<p><strong>It looks like your body is in the wrong form for application/x-www-form-urlencoded.</strong></p>\n<p>It shouldn't be a json object and instead should be something like <code>grant_type=password&amp;client_id=front&amp;username=user&amp;password=1234</code></p>\n<p>An example can be found <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST#example\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":2280475,"reputation":2631,"user_id":2005682,"accept_rate":34,"display_name":"Fabio Ebner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1459,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664734668,"creation_date":1642687145,"question_id":70787532,"body_markdown":"I using java Unirest to call my api. but now I need to post an object but with x-www-form-urlencoded, I using this code:\r\n\r\n\r\n    public static void main(String[] args) {\r\n            Unirest.config().setObjectMapper(new JacksonObjectMapper());\r\n            System.out.println(Unirest\r\n                    .post(&quot;http://192.168.2.157:8082/auth/realms/collatum/protocol/openid-connect/token&quot;)\r\n                    .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n                    .body(RequestToken.builder()\r\n                            .username(&quot;user&quot;)\r\n                            .password(&quot;1234&quot;)\r\n                            .grant_type(&quot;password&quot;)\r\n                            .client_id(&quot;front&quot;)\r\n                            .build()).asString().getBody()\r\n    \r\n    \r\n            );\r\n        }\r\n\r\nand I get this error:\r\n\r\n &gt; {&quot;error&quot;:&quot;invalid_request&quot;,&quot;error_description&quot;:&quot;Missing form parameter: grant_type&quot;}\r\n\r\nWhen I analise the request the header are ok:(but looks like the object are in json and no x-www-form-urlencoded\r\n\r\n\r\n\r\n\r\n\r\n    POST /auth/realms/collatum/protocol/openid-connect/token HTTP/1.1\r\n    Content-Type: application/x-www-form-urlencoded\r\n    user-agent: unirest-java/3.1.00\r\n    accept-encoding: gzip\r\n    Content-Length: 87\r\n    Host: 192.168.2.157:8082\r\n    Connection: Keep-Alive\r\n    \r\n    {&quot;grant_type&quot;:&quot;password&quot;,&quot;client_id&quot;:&quot;front&quot;,&quot;username&quot;:&quot;user&quot;,&quot;password&quot;:&quot;1234&quot;}HTTP/1.1 400 Bad Request\r\n    Cache-Control: no-store\r\n    X-XSS-Protection: 1; mode=block\r\n    Pragma: no-cache\r\n    X-Frame-Options: SAMEORIGIN\r\n    Referrer-Policy: no-referrer\r\n    Date: Thu, 20 Jan 2022 13:56:53 GMT\r\n    Connection: keep-alive\r\n    Strict-Transport-Security: max-age=31536000; includeSubDomains\r\n    X-Content-Type-Options: nosniff\r\n    Content-Type: application/json\r\n    Content-Length: 84\r\n    \r\n    {&quot;error&quot;:&quot;invalid_request&quot;,&quot;error_description&quot;:&quot;Missing form parameter: grant_type&quot;}\r\n\r\n\r\n","title":"Post an &#39;x-www-form-urlencoded&#39; entity with Java Unirest","body":"<p>I using java Unirest to call my api. but now I need to post an object but with x-www-form-urlencoded, I using this code:</p>\n<pre><code>public static void main(String[] args) {\n        Unirest.config().setObjectMapper(new JacksonObjectMapper());\n        System.out.println(Unirest\n                .post(&quot;http://192.168.2.157:8082/auth/realms/collatum/protocol/openid-connect/token&quot;)\n                .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\n                .body(RequestToken.builder()\n                        .username(&quot;user&quot;)\n                        .password(&quot;1234&quot;)\n                        .grant_type(&quot;password&quot;)\n                        .client_id(&quot;front&quot;)\n                        .build()).asString().getBody()\n\n\n        );\n    }\n</code></pre>\n<p>and I get this error:</p>\n<blockquote>\n<p>{&quot;error&quot;:&quot;invalid_request&quot;,&quot;error_description&quot;:&quot;Missing form parameter: grant_type&quot;}</p>\n</blockquote>\n<p>When I analise the request the header are ok:(but looks like the object are in json and no x-www-form-urlencoded</p>\n<pre><code>POST /auth/realms/collatum/protocol/openid-connect/token HTTP/1.1\nContent-Type: application/x-www-form-urlencoded\nuser-agent: unirest-java/3.1.00\naccept-encoding: gzip\nContent-Length: 87\nHost: 192.168.2.157:8082\nConnection: Keep-Alive\n\n{&quot;grant_type&quot;:&quot;password&quot;,&quot;client_id&quot;:&quot;front&quot;,&quot;username&quot;:&quot;user&quot;,&quot;password&quot;:&quot;1234&quot;}HTTP/1.1 400 Bad Request\nCache-Control: no-store\nX-XSS-Protection: 1; mode=block\nPragma: no-cache\nX-Frame-Options: SAMEORIGIN\nReferrer-Policy: no-referrer\nDate: Thu, 20 Jan 2022 13:56:53 GMT\nConnection: keep-alive\nStrict-Transport-Security: max-age=31536000; includeSubDomains\nX-Content-Type-Options: nosniff\nContent-Type: application/json\nContent-Length: 84\n\n{&quot;error&quot;:&quot;invalid_request&quot;,&quot;error_description&quot;:&quot;Missing form parameter: grant_type&quot;}\n</code></pre>\n"},{"tags":["java","arrays","string","split"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1662477846,"post_id":73624373,"comment_id":130012130,"body_markdown":"What exactly isn&#39;t working? Do you get an Error/Exception when you run the code? If yes please add the error message and stacktrace. Or do you get a result you don&#39;t expect? If yes please add this result and how it differs from what you want to your question.","body":"What exactly isn&#39;t working? Do you get an Error/Exception when you run the code? If yes please add the error message and stacktrace. Or do you get a result you don&#39;t expect? If yes please add this result and how it differs from what you want to your question."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1662477893,"post_id":73624373,"comment_id":130012151,"body_markdown":"Hello and welcome. Please don&#39;t use C-style comments to post what is basically the text of your question. It rendered as a dotted list, it was a mess to fix and we shouldn&#39;t need to do that.","body":"Hello and welcome. Please don&#39;t use C-style comments to post what is basically the text of your question. It rendered as a dotted list, it was a mess to fix and we shouldn&#39;t need to do that."},{"owner":{"account_id":23602515,"reputation":1,"user_id":17638780,"display_name":"TheArtificalAI"},"score":0,"creation_date":1662482093,"post_id":73624373,"comment_id":130013617,"body_markdown":"What exactly is not working? -&gt; The spliting of the string does not work as I intendet it to. For example splits[2] is deut2 voc3; but it should contain only voc2. (like i wrote in the discription - and the for loop is just to run it less often, to put out less debug messages, in the final Version would the main part run in a while until text.isEmty=true)","body":"What exactly is not working? -&gt; The spliting of the string does not work as I intendet it to. For example splits[2] is deut2 voc3; but it should contain only voc2. (like i wrote in the discription - and the for loop is just to run it less often, to put out less debug messages, in the final Version would the main part run in a while until text.isEmty=true)"},{"owner":{"account_id":23602515,"reputation":1,"user_id":17638780,"display_name":"TheArtificalAI"},"score":0,"creation_date":1662482314,"post_id":73624373,"comment_id":130013678,"body_markdown":"Frederico klez Cullaca, thank you for reformating, sorry this was my first Stack Overflow post!","body":"Frederico klez Cullaca, thank you for reformating, sorry this was my first Stack Overflow post!"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664734204,"creation_date":1664734204,"answer_id":73928230,"question_id":73624373,"body_markdown":"Using this as your input:\r\n```java\r\nString text= &quot;voc1  deut1\\nvoc2 deut2\\nvoc3 deut3\\nvoc4 deut4&quot;;\r\n```\r\nand this as your desired output:\r\n```none\r\nsplits[0]=&quot;voc1&quot;\r\nsplits[1]=&quot;voc2&quot;\r\nsplits[2]=&quot;voc3&quot;\r\nsplits[3]=&quot;voc4&quot;\r\n\r\nlines[0]=&quot;deut1&quot;\r\nlines[1]=&quot;deut2&quot;\r\nlines[2]=&quot;deut3&quot;\r\nlines[3]=&quot;deut4&quot;\r\n```\r\nThe following is my implementation:\r\n```java\r\npublic class Replacer {\r\n    public static void main(String[] args) {\r\n        String text= &quot;voc1  deut1\\nvoc2 deut2\\nvoc3 deut3\\nvoc4 deut4&quot;;\r\n        String[] rows = text.split(&quot;\\n&quot;);\r\n        String[] splits = new String[rows.length];\r\n        String[] lines = new String[rows.length];\r\n        for (int i = 0; i &lt; rows.length; i++) {\r\n            String[] parts = rows[i].split(&quot;\\\\s+&quot;);\r\n            splits[i] = parts[0];\r\n            lines[i] = parts[1];\r\n        }\r\n        for (int i = 0; i &lt; splits.length; i++) {\r\n            System.out.printf(&quot;splits[%d]=\\&quot;%s\\&quot;%n&quot;, i, splits[i]);\r\n        }\r\n        System.out.println();\r\n        for (int i = 0; i &lt; lines.length; i++) {\r\n            System.out.printf(&quot;lines[%d]=\\&quot;%s\\&quot;%n&quot;, i, lines[i]);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"Problem with seperating one String into two arrays (words seperated by Tab and Enter)","body":"<p>Using this as your input:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String text= &quot;voc1  deut1\\nvoc2 deut2\\nvoc3 deut3\\nvoc4 deut4&quot;;\n</code></pre>\n<p>and this as your desired output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>splits[0]=&quot;voc1&quot;\nsplits[1]=&quot;voc2&quot;\nsplits[2]=&quot;voc3&quot;\nsplits[3]=&quot;voc4&quot;\n\nlines[0]=&quot;deut1&quot;\nlines[1]=&quot;deut2&quot;\nlines[2]=&quot;deut3&quot;\nlines[3]=&quot;deut4&quot;\n</code></pre>\n<p>The following is my implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Replacer {\n    public static void main(String[] args) {\n        String text= &quot;voc1  deut1\\nvoc2 deut2\\nvoc3 deut3\\nvoc4 deut4&quot;;\n        String[] rows = text.split(&quot;\\n&quot;);\n        String[] splits = new String[rows.length];\n        String[] lines = new String[rows.length];\n        for (int i = 0; i &lt; rows.length; i++) {\n            String[] parts = rows[i].split(&quot;\\\\s+&quot;);\n            splits[i] = parts[0];\n            lines[i] = parts[1];\n        }\n        for (int i = 0; i &lt; splits.length; i++) {\n            System.out.printf(&quot;splits[%d]=\\&quot;%s\\&quot;%n&quot;, i, splits[i]);\n        }\n        System.out.println();\n        for (int i = 0; i &lt; lines.length; i++) {\n            System.out.printf(&quot;lines[%d]=\\&quot;%s\\&quot;%n&quot;, i, lines[i]);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23602515,"reputation":1,"user_id":17638780,"display_name":"TheArtificalAI"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664734357,"creation_date":1662477506,"question_id":73624373,"body_markdown":"EDIT 02.10.2022 - Got it working, have a look at the End.\r\n\r\nI am trying to make a program that splits one string of text into to arrays\r\n the input in the String text looks as following:\r\n \r\n    voc1\tdeut1\r\n    voc2\tdeut2\r\n    voc3\tdeut3\r\n    voc4\tdeut4\r\n\r\nthe 2 separate String[] arrays should be filled as following:\r\n \r\n    splits[0]=&quot;voc1&quot;\r\n    splits[1]=&quot;voc2&quot;\r\n    splits[2]=&quot;voc3&quot;\r\n    splits[3]=&quot;voc4&quot;\r\n\r\n    lines[0]=&quot;deut1&quot;\r\n    lines[1]=&quot;deut2&quot;\r\n    lines[2]=&quot;deut3&quot;\r\n    lines[3]=&quot;deut4&quot;\r\n\r\nThe first of both work perfectly [0], but from then on\r\nit collapses into a horrible mess like [1]:\r\n \r\n    splits[1]: deut2\r\n    voc3\r\n    lines[1]: voc2\tdeut2\r\n\r\n\r\nHere is the old version:\r\n```java\r\npublic class raplacer {\r\n\r\n    public static void main(String[] args) {\r\n        String text= &quot;voc1  deut1\\nvoc2 deut2\\nvoc3 deut3\\nvoc4 deut4&quot;;\r\n\r\n        String[] splits = null;\r\n        String[] lines = null;\r\n        int numbSplits =0;\r\n        int numbLines =0;\r\n\r\n        for(int i=0; i&lt;3;i++) {\r\n            System.out.print(&quot;nextLine:  &quot; + text.indexOf(&quot;\\n&quot;));\r\n            System.out.println(&quot;    nextTab:   &quot; + text.indexOf(&quot;   &quot;));\r\n            if(text.indexOf(&quot;\\n&quot;)&gt;text.indexOf(&quot;    &quot;)) {\r\n                splits=text.split(&quot; &quot;);\r\n                splits[numbSplits+1]=&quot;&quot;;\r\n                text=text.replaceFirst(splits[numbSplits], &quot;&quot;);\r\n                System.out.println(&quot;Text:\\n&quot; + text);\r\n                text=text.replaceFirst(&quot;    &quot;, &quot;&quot;);\r\n                System.out.println(&quot;Text:\\n&quot; + text);\r\n                numbSplits++;\r\n                System.out.println(&quot;Splitet a Tab away&quot;);\r\n            }\r\n            else if(text.indexOf(&quot;\\n&quot;)&lt;text.indexOf(&quot;   &quot;)) {\r\n                lines=text.split(&quot;\\n&quot;);\r\n                lines[numbLines+1]=&quot;&quot;;\r\n                text=text.replaceFirst(lines[numbLines], &quot;&quot;);\r\n                System.out.println(&quot;Text:\\n&quot; + text);\r\n                text=text.replaceFirst(&quot;\\n&quot;, &quot;&quot;);\r\n                System.out.println(&quot;Text:\\n&quot; + text);\r\n                numbLines++;\r\n                System.out.println(&quot;Splited a Line away&quot;);\r\n            }\r\n        }\r\n        System.out.println(&quot;Text:\\n&quot; + text);\r\n        System.out.println();\r\n        System.out.println(&quot;splits0: &quot; + splits[0]);\r\n        System.out.println(&quot;splits1: &quot; + splits[1]);\r\n        System.out.println();\r\n        System.out.println(&quot;lines0: &quot; + lines[0]);\r\n        System.out.println(&quot;lines1: &quot; + lines[1]);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nEDIT 02.10.2022 - I got it working by changing a lot here is my version if you want to have a look at it:\r\n\r\nAt the String `text` the whole string, that is going to get split up, is passed in:\r\n```java\r\ntext=text+&quot;\\n   &quot;;\r\nString[] splits = null;\r\nString[] lines = null;\r\nint numbSplits =0;\r\nint numbLines =0;\r\nint run = 0;\r\nwhile(text.length()&gt;4) {\r\n\r\n    //DEBUG\r\n    run++;\r\n    try{\r\n        Thread.sleep(100);\r\n    }\r\n    catch (InterruptedException ex){\r\n    }\r\n    System.out.println(&quot;LENGHT: &quot; +text.length());\r\n    System.out.println(&quot;NEXT TAB &quot; + text.indexOf(&quot; &quot;) + &quot; NEXT LINE &quot; + text.indexOf(&quot;\\n&quot;));\r\n    if(run == 5||run == 10||run == 15||run == 20) {\r\n        System.out.println(text);\r\n        try{\r\n            Thread.sleep(1300);\r\n        }\r\n        catch (InterruptedException ex){}\r\n    }\r\n    if(run==20) {\r\n        break;\r\n    }\r\n\r\n    //DEBUG\r\n    if(text.indexOf(&quot;\\n&quot;)&gt;text.indexOf(&quot;    &quot;)) {\r\n        splits=text.split(&quot; &quot;,0);\r\n        spanischList.add(splits[0]);\r\n        text=text.replaceFirst(spanischList.get(numbSplits), &quot;&quot;);\r\n        text=text.replaceFirst(&quot;    &quot;, &quot;&quot;);\r\n        splits=null;\r\n        numbSplits++;\r\n    }\r\n    else if(text.indexOf(&quot;\\n&quot;)&lt;text.indexOf(&quot;   &quot;)) {\r\n        lines=text.split(&quot;\\n&quot;);\r\n        deutschList.add(lines[0]);\r\n        text=text.replaceFirst(deutschList.get(numbLines), &quot;&quot;);\r\n        text=text.replaceFirst(&quot;\\n&quot;, &quot;&quot;);\r\n        lines=null;\r\n        numbLines++;\r\n        nrOfVoc +=1;\r\n    }\r\n}\r\n```\r\n(You can comment out that `DEBUG`, it is just for debugging...)\r\n\r\nAnd at my PC it can&#39;t cope with &#246;&#228;&#252;&#241; cause my PC won&#39;t let me change its encoding to UTF-8, but that&#39;s another story...\r\n","title":"Problem with seperating one String into two arrays (words seperated by Tab and Enter)","body":"<p>EDIT 02.10.2022 - Got it working, have a look at the End.</p>\n<p>I am trying to make a program that splits one string of text into to arrays\nthe input in the String text looks as following:</p>\n<pre><code>voc1    deut1\nvoc2    deut2\nvoc3    deut3\nvoc4    deut4\n</code></pre>\n<p>the 2 separate String[] arrays should be filled as following:</p>\n<pre><code>splits[0]=&quot;voc1&quot;\nsplits[1]=&quot;voc2&quot;\nsplits[2]=&quot;voc3&quot;\nsplits[3]=&quot;voc4&quot;\n\nlines[0]=&quot;deut1&quot;\nlines[1]=&quot;deut2&quot;\nlines[2]=&quot;deut3&quot;\nlines[3]=&quot;deut4&quot;\n</code></pre>\n<p>The first of both work perfectly [0], but from then on\nit collapses into a horrible mess like [1]:</p>\n<pre><code>splits[1]: deut2\nvoc3\nlines[1]: voc2  deut2\n</code></pre>\n<p>Here is the old version:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class raplacer {\n\n    public static void main(String[] args) {\n        String text= &quot;voc1  deut1\\nvoc2 deut2\\nvoc3 deut3\\nvoc4 deut4&quot;;\n\n        String[] splits = null;\n        String[] lines = null;\n        int numbSplits =0;\n        int numbLines =0;\n\n        for(int i=0; i&lt;3;i++) {\n            System.out.print(&quot;nextLine:  &quot; + text.indexOf(&quot;\\n&quot;));\n            System.out.println(&quot;    nextTab:   &quot; + text.indexOf(&quot;   &quot;));\n            if(text.indexOf(&quot;\\n&quot;)&gt;text.indexOf(&quot;    &quot;)) {\n                splits=text.split(&quot; &quot;);\n                splits[numbSplits+1]=&quot;&quot;;\n                text=text.replaceFirst(splits[numbSplits], &quot;&quot;);\n                System.out.println(&quot;Text:\\n&quot; + text);\n                text=text.replaceFirst(&quot;    &quot;, &quot;&quot;);\n                System.out.println(&quot;Text:\\n&quot; + text);\n                numbSplits++;\n                System.out.println(&quot;Splitet a Tab away&quot;);\n            }\n            else if(text.indexOf(&quot;\\n&quot;)&lt;text.indexOf(&quot;   &quot;)) {\n                lines=text.split(&quot;\\n&quot;);\n                lines[numbLines+1]=&quot;&quot;;\n                text=text.replaceFirst(lines[numbLines], &quot;&quot;);\n                System.out.println(&quot;Text:\\n&quot; + text);\n                text=text.replaceFirst(&quot;\\n&quot;, &quot;&quot;);\n                System.out.println(&quot;Text:\\n&quot; + text);\n                numbLines++;\n                System.out.println(&quot;Splited a Line away&quot;);\n            }\n        }\n        System.out.println(&quot;Text:\\n&quot; + text);\n        System.out.println();\n        System.out.println(&quot;splits0: &quot; + splits[0]);\n        System.out.println(&quot;splits1: &quot; + splits[1]);\n        System.out.println();\n        System.out.println(&quot;lines0: &quot; + lines[0]);\n        System.out.println(&quot;lines1: &quot; + lines[1]);\n    }\n}\n</code></pre>\n<p>EDIT 02.10.2022 - I got it working by changing a lot here is my version if you want to have a look at it:</p>\n<p>At the String <code>text</code> the whole string, that is going to get split up, is passed in:</p>\n<pre class=\"lang-java prettyprint-override\"><code>text=text+&quot;\\n   &quot;;\nString[] splits = null;\nString[] lines = null;\nint numbSplits =0;\nint numbLines =0;\nint run = 0;\nwhile(text.length()&gt;4) {\n\n    //DEBUG\n    run++;\n    try{\n        Thread.sleep(100);\n    }\n    catch (InterruptedException ex){\n    }\n    System.out.println(&quot;LENGHT: &quot; +text.length());\n    System.out.println(&quot;NEXT TAB &quot; + text.indexOf(&quot; &quot;) + &quot; NEXT LINE &quot; + text.indexOf(&quot;\\n&quot;));\n    if(run == 5||run == 10||run == 15||run == 20) {\n        System.out.println(text);\n        try{\n            Thread.sleep(1300);\n        }\n        catch (InterruptedException ex){}\n    }\n    if(run==20) {\n        break;\n    }\n\n    //DEBUG\n    if(text.indexOf(&quot;\\n&quot;)&gt;text.indexOf(&quot;    &quot;)) {\n        splits=text.split(&quot; &quot;,0);\n        spanischList.add(splits[0]);\n        text=text.replaceFirst(spanischList.get(numbSplits), &quot;&quot;);\n        text=text.replaceFirst(&quot;    &quot;, &quot;&quot;);\n        splits=null;\n        numbSplits++;\n    }\n    else if(text.indexOf(&quot;\\n&quot;)&lt;text.indexOf(&quot;   &quot;)) {\n        lines=text.split(&quot;\\n&quot;);\n        deutschList.add(lines[0]);\n        text=text.replaceFirst(deutschList.get(numbLines), &quot;&quot;);\n        text=text.replaceFirst(&quot;\\n&quot;, &quot;&quot;);\n        lines=null;\n        numbLines++;\n        nrOfVoc +=1;\n    }\n}\n</code></pre>\n<p>(You can comment out that <code>DEBUG</code>, it is just for debugging...)</p>\n<p>And at my PC it can't cope with öäüñ cause my PC won't let me change its encoding to UTF-8, but that's another story...</p>\n"},{"tags":["java","jackson","java-time"],"comments":[{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1664805340,"post_id":73928215,"comment_id":130549018,"body_markdown":"Add `com.fasterxml.jackson.datatype:jackson-datatype-jsr310` module to your `ObjectMapper`. Add dependency and register it manually if it is not loaded automatically - `objectMapper.registerModule(new JavaTimeModule());` See that question: [Could not find artifact Jackson-modules-java8:jar](https://stackoverflow.com/questions/54810554/could-not-find-artifact-jackson-modules-java8jar/54810984#54810984)","body":"Add <code>com.fasterxml.jackson.datatype:jackson-datatype-jsr310</code> module to your <code>ObjectMapper</code>. Add dependency and register it manually if it is not loaded automatically - <code>objectMapper.registerModule(new JavaTimeModule());</code> See that question: <a href=\"https://stackoverflow.com/questions/54810554/could-not-find-artifact-jackson-modules-java8jar/54810984#54810984\">Could not find artifact Jackson-modules-java8:jar</a>"},{"owner":{"account_id":2729652,"reputation":5593,"user_id":2353713,"accept_rate":69,"display_name":"Andy"},"score":0,"creation_date":1664983298,"post_id":73928215,"comment_id":130594187,"body_markdown":"@MichałZiober, Will try that. I am wonder why we should add a dependency just to combine the annotations. That&#39;s a Java thing, right?","body":"@MichałZiober, Will try that. I am wonder why we should add a dependency just to combine the annotations. That&#39;s a Java thing, right?"},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":1,"creation_date":1664984218,"post_id":73928215,"comment_id":130594530,"body_markdown":"`jackson-datatype-jsr310` module implements serializing and deserializing of `Java 8` date types. This is why you need to include this module.","body":"<code>jackson-datatype-jsr310</code> module implements serializing and deserializing of <code>Java 8</code> date types. This is why you need to include this module."}],"owner":{"account_id":2729652,"reputation":5593,"user_id":2353713,"accept_rate":69,"display_name":"Andy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664734140,"creation_date":1664734095,"question_id":73928215,"body_markdown":"I have a JSON String and I am using Jackson to parse it into a POJO. The incoming JSON string has a different format, so I had to write my own converter to convert the String to `LocalTimeDate` object. I use 2 annotations to achieve this. \r\n\r\n```\r\npublic class Content {\r\n\r\n    @JsonDeserialize(using = LocalDateTimeDeserializer.class)\r\n    @TDateFormat\r\n    private LocalDateTime modifiedDate;\r\n}\r\n\r\n```\r\n**TDateFormat**: This annotation specifies the date format we need. It also has a default value. \r\n\r\n```\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface TDateFormat {\r\n\tString value() default &quot;MMM d, yyyy, hh:mm:ss a&quot;;\r\n}\r\n```\r\n\r\n**LocalDateTimeDeserializer**: This holds the logic to deserialize. We use the TDateFormat value get the format to use. I have extracted the logic out to an Util class\r\n\r\n```\r\n@NoArgsConstructor\r\npublic class LocalDateTimeDeserializer extends JsonDeserializer&lt;LocalDateTime&gt; implements ContextualDeserializer {\r\n\r\n    private String format;\r\n\r\n\tpublic LocalDateTimeDeserializer(String format) {\r\n\t\tthis.format = format;\r\n\t}\r\n\t@Override\r\n\tpublic JsonDeserializer&lt;?&gt; createContextual(DeserializationContext dc, BeanProperty bp) {\r\n\t\treturn new LocalDateTimeDeserializer(bp.getAnnotation(TDateFormat.class).value());\r\n\t}\r\n\r\n\t@Override\r\n\tpublic LocalDateTime deserialize(JsonParser jp, DeserializationContext dc) throws IOException {\r\n        LocalDateTime localDateTime = Utils.convertDate(jp.getText(), format);\r\n        System.out.println(&quot;Done::: &quot; + localDateTime);\r\n\t\treturn localDateTime;\r\n\t}\r\n}\r\n```\r\nThe above code works fine. Now, I am trying to combine `@TDateFormat` and  `@JsonDeserialize(using = LocalDateTimeDeserializer.class)` to `@TDeserializer`\r\n\r\n@TDeserializer Looks like below.\r\n\r\n```\r\n@JsonDeserialize(using = LocalDateTimeDeserializer.class)\r\n@TDateFormat\r\npublic @interface TDeserializer {\r\n}\r\n```\r\n\r\nAnd I want to use the annotation like this \r\n```\r\npublic class Content {\r\n\r\n    @TDeserializer\r\n    private LocalDateTime modifiedDate;\r\n}\r\n\r\n```\r\nBut I get the following error, when I make this little change.\r\n```\r\n2022-09-29 23:32:09.569 ERROR 90506 --- [ntainer#0-0-C-1] c.t.k.service.impl.KafkaMessageConsumer  : Exception occurred::: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling\r\n at [Source: (String)&quot;{&quot;modifiedDate&quot;:&quot;Sep 29, 2022, 11:25:56 PM&quot; [truncated 149 chars]; line: 1, column: 52] (through reference chain: com.techopact.kafkautil.model.Article[&quot;modifiedDate&quot;])\r\n\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling\r\n\r\n```\r\nCan anyone please let me know what more I have to do to combine the annotations? ","title":"Unable to combine Annotations","body":"<p>I have a JSON String and I am using Jackson to parse it into a POJO. The incoming JSON string has a different format, so I had to write my own converter to convert the String to <code>LocalTimeDate</code> object. I use 2 annotations to achieve this.</p>\n<pre><code>public class Content {\n\n    @JsonDeserialize(using = LocalDateTimeDeserializer.class)\n    @TDateFormat\n    private LocalDateTime modifiedDate;\n}\n\n</code></pre>\n<p><strong>TDateFormat</strong>: This annotation specifies the date format we need. It also has a default value.</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\npublic @interface TDateFormat {\n    String value() default &quot;MMM d, yyyy, hh:mm:ss a&quot;;\n}\n</code></pre>\n<p><strong>LocalDateTimeDeserializer</strong>: This holds the logic to deserialize. We use the TDateFormat value get the format to use. I have extracted the logic out to an Util class</p>\n<pre><code>@NoArgsConstructor\npublic class LocalDateTimeDeserializer extends JsonDeserializer&lt;LocalDateTime&gt; implements ContextualDeserializer {\n\n    private String format;\n\n    public LocalDateTimeDeserializer(String format) {\n        this.format = format;\n    }\n    @Override\n    public JsonDeserializer&lt;?&gt; createContextual(DeserializationContext dc, BeanProperty bp) {\n        return new LocalDateTimeDeserializer(bp.getAnnotation(TDateFormat.class).value());\n    }\n\n    @Override\n    public LocalDateTime deserialize(JsonParser jp, DeserializationContext dc) throws IOException {\n        LocalDateTime localDateTime = Utils.convertDate(jp.getText(), format);\n        System.out.println(&quot;Done::: &quot; + localDateTime);\n        return localDateTime;\n    }\n}\n</code></pre>\n<p>The above code works fine. Now, I am trying to combine <code>@TDateFormat</code> and  <code>@JsonDeserialize(using = LocalDateTimeDeserializer.class)</code> to <code>@TDeserializer</code></p>\n<p>@TDeserializer Looks like below.</p>\n<pre><code>@JsonDeserialize(using = LocalDateTimeDeserializer.class)\n@TDateFormat\npublic @interface TDeserializer {\n}\n</code></pre>\n<p>And I want to use the annotation like this</p>\n<pre><code>public class Content {\n\n    @TDeserializer\n    private LocalDateTime modifiedDate;\n}\n\n</code></pre>\n<p>But I get the following error, when I make this little change.</p>\n<pre><code>2022-09-29 23:32:09.569 ERROR 90506 --- [ntainer#0-0-C-1] c.t.k.service.impl.KafkaMessageConsumer  : Exception occurred::: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling\n at [Source: (String)&quot;{&quot;modifiedDate&quot;:&quot;Sep 29, 2022, 11:25:56 PM&quot; [truncated 149 chars]; line: 1, column: 52] (through reference chain: com.techopact.kafkautil.model.Article[&quot;modifiedDate&quot;])\n\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling\n\n</code></pre>\n<p>Can anyone please let me know what more I have to do to combine the annotations?</p>\n"},{"tags":["java","oracle","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1664802293,"post_id":73928219,"comment_id":130547888,"body_markdown":"How many entities do you have?","body":"How many entities do you have?"},{"owner":{"account_id":24192375,"reputation":155,"user_id":18151426,"display_name":"Xi Minghui"},"score":0,"creation_date":1664819388,"post_id":73928219,"comment_id":130553643,"body_markdown":"@Simon Martinelli I don&#39;t have many entities, about 5~20 in total.","body":"@Simon Martinelli I don&#39;t have many entities, about 5~20 in total."},{"owner":{"account_id":24192375,"reputation":155,"user_id":18151426,"display_name":"Xi Minghui"},"score":0,"creation_date":1664819648,"post_id":73928219,"comment_id":130553723,"body_markdown":"@Simon Martinelli This project uses MyBatis-Plus as the persistence framework. JPA was introduced when I take over the project, and now there are two persistence frameworks. I guess the JPA slow was not caused by MyBatis-Plus.","body":"@Simon Martinelli This project uses MyBatis-Plus as the persistence framework. JPA was introduced when I take over the project, and now there are two persistence frameworks. I guess the JPA slow was not caused by MyBatis-Plus."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1664819954,"post_id":73928219,"comment_id":130553837,"body_markdown":"&#39;ddl-auto&#39; is NOT part of JPA. As you can see, Hibernate is getting the metadata for your 3000 tables and determining which, if any, are what it needs to use for the defined entities, and what modifications it might need to make to them. This is why DDL features are a developer tools. If you need specific tables create in specific ways, generate a script and use that during deployment or at specific times instead of every time you restart the application.","body":"&#39;ddl-auto&#39; is NOT part of JPA. As you can see, Hibernate is getting the metadata for your 3000 tables and determining which, if any, are what it needs to use for the defined entities, and what modifications it might need to make to them. This is why DDL features are a developer tools. If you need specific tables create in specific ways, generate a script and use that during deployment or at specific times instead of every time you restart the application."},{"owner":{"account_id":24192375,"reputation":155,"user_id":18151426,"display_name":"Xi Minghui"},"score":0,"creation_date":1664821301,"post_id":73928219,"comment_id":130554218,"body_markdown":"@Chris Thank you for the explanation. Is there a way to improve it? I&#39;m not using DDL for production, I just want Hibernate to help me create some new tables and print the resulting SQL statements because I don&#39;t want to write them by hand.","body":"@Chris Thank you for the explanation. Is there a way to improve it? I&#39;m not using DDL for production, I just want Hibernate to help me create some new tables and print the resulting SQL statements because I don&#39;t want to write them by hand."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1664825273,"post_id":73928219,"comment_id":130555290,"body_markdown":"Create option sometimes is faster in some JPA providers, as it will just generate and execute create table statements without need to check the existing metadata. But if you are looking to modify existing tables; no. Only option there might be to pick a database that has fewer tables visible so the scope is smaller.","body":"Create option sometimes is faster in some JPA providers, as it will just generate and execute create table statements without need to check the existing metadata. But if you are looking to modify existing tables; no. Only option there might be to pick a database that has fewer tables visible so the scope is smaller."}],"owner":{"account_id":24192375,"reputation":155,"user_id":18151426,"display_name":"Xi Minghui"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664734106,"creation_date":1664734106,"question_id":73928219,"body_markdown":"Hibernate starts very slowly(About 5 to 20 minutes) when ```ddl-auto: update```, not if it is ```none```. After debugging, I found the code eventually stopped at the while loop in method ```populateTablesWithColumns``` of ```org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl``` class.\r\n\r\nCode of this method:\r\n```Java\r\nprivate void populateTablesWithColumns(\r\n\t\tString catalogFilter,\r\n\t\tString schemaFilter,\r\n\t\tNameSpaceTablesInformation tables) {\r\n\ttry {\r\n\t\tResultSet resultSet = extractionContext.getJdbcDatabaseMetaData().getColumns(\r\n\t\t\t\tcatalogFilter,\r\n\t\t\t\tschemaFilter,\r\n\t\t\t\tnull,\r\n\t\t\t\t&quot;%&quot;\r\n\t\t);\r\n\t\ttry {\r\n\t\t\tString currentTableName = &quot;&quot;;\r\n\t\t\tTableInformation currentTable = null;\r\n\t\t\twhile ( resultSet.next() ) {\r\n\t\t\t\tif ( !currentTableName.equals( resultSet.getString( &quot;TABLE_NAME&quot; ) ) ) {\r\n\t\t\t\t\tcurrentTableName = resultSet.getString( &quot;TABLE_NAME&quot; );\r\n\t\t\t\t\tcurrentTable = tables.getTableInformation( currentTableName );\r\n\t\t\t\t}\r\n\t\t\t\tif ( currentTable != null ) {\r\n\t\t\t\t\tfinal ColumnInformationImpl columnInformation = new ColumnInformationImpl(\r\n\t\t\t\t\t\t\tcurrentTable,\r\n\t\t\t\t\t\t\tDatabaseIdentifier.toIdentifier( resultSet.getString( &quot;COLUMN_NAME&quot; ) ),\r\n\t\t\t\t\t\t\tresultSet.getInt( &quot;DATA_TYPE&quot; ),\r\n\t\t\t\t\t\t\tnew StringTokenizer( resultSet.getString( &quot;TYPE_NAME&quot; ), &quot;() &quot; ).nextToken(),\r\n\t\t\t\t\t\t\tresultSet.getInt( &quot;COLUMN_SIZE&quot; ),\r\n\t\t\t\t\t\t\tresultSet.getInt( &quot;DECIMAL_DIGITS&quot; ),\r\n\t\t\t\t\t\t\tinterpretTruthValue( resultSet.getString( &quot;IS_NULLABLE&quot; ) )\r\n\t\t\t\t\t);\r\n\t\t\t\t\tcurrentTable.addColumn( columnInformation );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tresultSet.close();\r\n\t\t}\r\n\t}\r\n\tcatch (SQLException e) {\r\n\t\tthrow convertSQLException(\r\n\t\t\t\te,\r\n\t\t\t\t&quot;Error accessing tables metadata&quot;\r\n\t\t);\r\n\t}\r\n}\r\n```\r\nThe database used by the project is ```Oracle 11g```(may be more than 3000 tables and millions of rows of data), Hibernate version is ```5.4.x```, and the type of ```resultSet``` object in the loop body is ```com.zaxxer.hikari.pool.HikariProxyResultSet```.\r\n\r\nThis is the invoke stack information when I debugging:\r\n```\r\npopulateTablesWithColumns:368, InformationExtractorJdbcDatabaseMetaDataImpl (org.hibernate.tool.schema.extract.internal)\r\ngetTables:341, InformationExtractorJdbcDatabaseMetaDataImpl (org.hibernate.tool.schema.extract.internal)\r\ngetTablesInformation:120, DatabaseInformationImpl (org.hibernate.tool.schema.extract.internal)\r\nperformTablesMigration:65, GroupedSchemaMigratorImpl (org.hibernate.tool.schema.internal)\r\nperformMigration:207, AbstractSchemaMigrator (org.hibernate.tool.schema.internal)\r\ndoMigration:114, AbstractSchemaMigrator (org.hibernate.tool.schema.internal)\r\nperformDatabaseAction:184, SchemaManagementToolCoordinator (org.hibernate.tool.schema.spi)\r\nprocess:73, SchemaManagementToolCoordinator (org.hibernate.tool.schema.spi)\r\n&lt;init&gt;:318, SessionFactoryImpl (org.hibernate.internal)\r\nbuild:468, SessionFactoryBuilderImpl (org.hibernate.boot.internal)\r\nbuild:1259, EntityManagerFactoryBuilderImpl (org.hibernate.jpa.boot.internal)\r\ncreateContainerEntityManagerFactory:58, SpringHibernateJpaPersistenceProvider (org.springframework.orm.jpa.vendor)\r\ncreateNativeEntityManagerFactory:365, LocalContainerEntityManagerFactoryBean (org.springframework.orm.jpa)\r\nbuildNativeEntityManagerFactory:409, AbstractEntityManagerFactoryBean (org.springframework.orm.jpa)\r\nafterPropertiesSet:396, AbstractEntityManagerFactoryBean (org.springframework.orm.jpa)\r\nafterPropertiesSet:341, LocalContainerEntityManagerFactoryBean (org.springframework.orm.jpa)\r\ninvokeInitMethods:1863, AbstractAutowireCapableBeanFactory (org.springframework.beans.factory.support)\r\ninitializeBean:1800, AbstractAutowireCapableBeanFactory (org.springframework.beans.factory.support)\r\ndoCreateBean:620, AbstractAutowireCapableBeanFactory (org.springframework.beans.factory.support)\r\ncreateBean:542, AbstractAutowireCapableBeanFactory (org.springframework.beans.factory.support)\r\nlambda$doGetBean$0:335, AbstractBeanFactory (org.springframework.beans.factory.support)\r\ngetObject:-1, AbstractBeanFactory$$Lambda$293/0x0000000800e57b40 (org.springframework.beans.factory.support)\r\ngetSingleton:234, DefaultSingletonBeanRegistry (org.springframework.beans.factory.support)\r\ndoGetBean:333, AbstractBeanFactory (org.springframework.beans.factory.support)\r\ngetBean:208, AbstractBeanFactory (org.springframework.beans.factory.support)\r\ngetBean:1154, AbstractApplicationContext (org.springframework.context.support)\r\nfinishBeanFactoryInitialization:908, AbstractApplicationContext (org.springframework.context.support)\r\nrefresh:583, AbstractApplicationContext (org.springframework.context.support)\r\nrefresh:145, ServletWebServerApplicationContext (org.springframework.boot.web.servlet.context)\r\nrefresh:780, SpringApplication (org.springframework.boot)\r\nrefreshContext:453, SpringApplication (org.springframework.boot)\r\nrun:343, SpringApplication (org.springframework.boot)\r\nrun:1370, SpringApplication (org.springframework.boot)\r\nrun:1359, SpringApplication (org.springframework.boot)\r\nmain:19, GroupApplication (com.mycompany.group)\r\n```\r\n\r\nWhat trouble has happened here? Any answers or improvements(Including replacement of JPA implementation) are welcome and thankful.\r\n\r\nThanks very much :)","title":"Why does JPA(Hibernate) with ddl-auto: update start very slowly?","body":"<p>Hibernate starts very slowly(About 5 to 20 minutes) when <code>ddl-auto: update</code>, not if it is <code>none</code>. After debugging, I found the code eventually stopped at the while loop in method <code>populateTablesWithColumns</code> of <code>org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl</code> class.</p>\n<p>Code of this method:</p>\n<pre><code>private void populateTablesWithColumns(\n        String catalogFilter,\n        String schemaFilter,\n        NameSpaceTablesInformation tables) {\n    try {\n        ResultSet resultSet = extractionContext.getJdbcDatabaseMetaData().getColumns(\n                catalogFilter,\n                schemaFilter,\n                null,\n                &quot;%&quot;\n        );\n        try {\n            String currentTableName = &quot;&quot;;\n            TableInformation currentTable = null;\n            while ( resultSet.next() ) {\n                if ( !currentTableName.equals( resultSet.getString( &quot;TABLE_NAME&quot; ) ) ) {\n                    currentTableName = resultSet.getString( &quot;TABLE_NAME&quot; );\n                    currentTable = tables.getTableInformation( currentTableName );\n                }\n                if ( currentTable != null ) {\n                    final ColumnInformationImpl columnInformation = new ColumnInformationImpl(\n                            currentTable,\n                            DatabaseIdentifier.toIdentifier( resultSet.getString( &quot;COLUMN_NAME&quot; ) ),\n                            resultSet.getInt( &quot;DATA_TYPE&quot; ),\n                            new StringTokenizer( resultSet.getString( &quot;TYPE_NAME&quot; ), &quot;() &quot; ).nextToken(),\n                            resultSet.getInt( &quot;COLUMN_SIZE&quot; ),\n                            resultSet.getInt( &quot;DECIMAL_DIGITS&quot; ),\n                            interpretTruthValue( resultSet.getString( &quot;IS_NULLABLE&quot; ) )\n                    );\n                    currentTable.addColumn( columnInformation );\n                }\n            }\n        }\n        finally {\n            resultSet.close();\n        }\n    }\n    catch (SQLException e) {\n        throw convertSQLException(\n                e,\n                &quot;Error accessing tables metadata&quot;\n        );\n    }\n}\n</code></pre>\n<p>The database used by the project is <code>Oracle 11g</code>(may be more than 3000 tables and millions of rows of data), Hibernate version is <code>5.4.x</code>, and the type of <code>resultSet</code> object in the loop body is <code>com.zaxxer.hikari.pool.HikariProxyResultSet</code>.</p>\n<p>This is the invoke stack information when I debugging:</p>\n<pre><code>populateTablesWithColumns:368, InformationExtractorJdbcDatabaseMetaDataImpl (org.hibernate.tool.schema.extract.internal)\ngetTables:341, InformationExtractorJdbcDatabaseMetaDataImpl (org.hibernate.tool.schema.extract.internal)\ngetTablesInformation:120, DatabaseInformationImpl (org.hibernate.tool.schema.extract.internal)\nperformTablesMigration:65, GroupedSchemaMigratorImpl (org.hibernate.tool.schema.internal)\nperformMigration:207, AbstractSchemaMigrator (org.hibernate.tool.schema.internal)\ndoMigration:114, AbstractSchemaMigrator (org.hibernate.tool.schema.internal)\nperformDatabaseAction:184, SchemaManagementToolCoordinator (org.hibernate.tool.schema.spi)\nprocess:73, SchemaManagementToolCoordinator (org.hibernate.tool.schema.spi)\n&lt;init&gt;:318, SessionFactoryImpl (org.hibernate.internal)\nbuild:468, SessionFactoryBuilderImpl (org.hibernate.boot.internal)\nbuild:1259, EntityManagerFactoryBuilderImpl (org.hibernate.jpa.boot.internal)\ncreateContainerEntityManagerFactory:58, SpringHibernateJpaPersistenceProvider (org.springframework.orm.jpa.vendor)\ncreateNativeEntityManagerFactory:365, LocalContainerEntityManagerFactoryBean (org.springframework.orm.jpa)\nbuildNativeEntityManagerFactory:409, AbstractEntityManagerFactoryBean (org.springframework.orm.jpa)\nafterPropertiesSet:396, AbstractEntityManagerFactoryBean (org.springframework.orm.jpa)\nafterPropertiesSet:341, LocalContainerEntityManagerFactoryBean (org.springframework.orm.jpa)\ninvokeInitMethods:1863, AbstractAutowireCapableBeanFactory (org.springframework.beans.factory.support)\ninitializeBean:1800, AbstractAutowireCapableBeanFactory (org.springframework.beans.factory.support)\ndoCreateBean:620, AbstractAutowireCapableBeanFactory (org.springframework.beans.factory.support)\ncreateBean:542, AbstractAutowireCapableBeanFactory (org.springframework.beans.factory.support)\nlambda$doGetBean$0:335, AbstractBeanFactory (org.springframework.beans.factory.support)\ngetObject:-1, AbstractBeanFactory$$Lambda$293/0x0000000800e57b40 (org.springframework.beans.factory.support)\ngetSingleton:234, DefaultSingletonBeanRegistry (org.springframework.beans.factory.support)\ndoGetBean:333, AbstractBeanFactory (org.springframework.beans.factory.support)\ngetBean:208, AbstractBeanFactory (org.springframework.beans.factory.support)\ngetBean:1154, AbstractApplicationContext (org.springframework.context.support)\nfinishBeanFactoryInitialization:908, AbstractApplicationContext (org.springframework.context.support)\nrefresh:583, AbstractApplicationContext (org.springframework.context.support)\nrefresh:145, ServletWebServerApplicationContext (org.springframework.boot.web.servlet.context)\nrefresh:780, SpringApplication (org.springframework.boot)\nrefreshContext:453, SpringApplication (org.springframework.boot)\nrun:343, SpringApplication (org.springframework.boot)\nrun:1370, SpringApplication (org.springframework.boot)\nrun:1359, SpringApplication (org.springframework.boot)\nmain:19, GroupApplication (com.mycompany.group)\n</code></pre>\n<p>What trouble has happened here? Any answers or improvements(Including replacement of JPA implementation) are welcome and thankful.</p>\n<p>Thanks very much :)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1392943639,"post_id":21922891,"comment_id":33206124,"body_markdown":"definitely confused me.","body":"definitely confused me."},{"owner":{"account_id":1561904,"reputation":6160,"user_id":1451599,"accept_rate":50,"display_name":"dirkk"},"score":0,"creation_date":1392943679,"post_id":21922891,"comment_id":33206137,"body_markdown":"You are right, it does confuse me. It is unclear what you are trying to achieve and what your actual problem is. If you want an `add()` method, what stops you from writing one? What does it has to do with collections?","body":"You are right, it does confuse me. It is unclear what you are trying to achieve and what your actual problem is. If you want an <code>add()</code> method, what stops you from writing one? What does it has to do with collections?"},{"owner":{"account_id":1306954,"reputation":11661,"user_id":1255746,"accept_rate":78,"display_name":"Josh M"},"score":0,"creation_date":1392943726,"post_id":21922891,"comment_id":33206152,"body_markdown":"Just to point out the obvious: `Weapon w = new Weapon(new Gun(...))` doesn&#39;t really make sense to me. On the other hand, `Weapon w = new Gun(...)` does.","body":"Just to point out the obvious: <code>Weapon w = new Weapon(new Gun(...))</code> doesn&#39;t really make sense to me. On the other hand, <code>Weapon w = new Gun(...)</code> does."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1392943736,"post_id":21922891,"comment_id":33206157,"body_markdown":"Personally, no, it&#39;s not, technically `Collection`, unless all the objects you are trying to add are based from a common parent, then it might be, but considering you are trying to provide functionality different objects types, I&#39;d personally avoid it.  Instead, I would use a `List` internally for each type of object you want to included, assuming you can have more than one.","body":"Personally, no, it&#39;s not, technically <code>Collection</code>, unless all the objects you are trying to add are based from a common parent, then it might be, but considering you are trying to provide functionality different objects types, I&#39;d personally avoid it.  Instead, I would use a <code>List</code> internally for each type of object you want to included, assuming you can have more than one."},{"owner":{"account_id":4048672,"reputation":1239,"user_id":3329080,"display_name":"exception1"},"score":0,"creation_date":1392943761,"post_id":21922891,"comment_id":33206165,"body_markdown":"If the desired behavior of `Weapon` ist not only similar to, but actually the same as the behavior of Collections (as I understood), why do you want to reimplement it? Just reuse the classes the Java API offer. Extending is an option, but also just adding a collection as a class member is easy to implement.","body":"If the desired behavior of <code>Weapon</code> ist not only similar to, but actually the same as the behavior of Collections (as I understood), why do you want to reimplement it? Just reuse the classes the Java API offer. Extending is an option, but also just adding a collection as a class member is easy to implement."}],"answers":[{"tags":[],"owner":{"account_id":3143168,"reputation":1687,"user_id":2658226,"accept_rate":57,"display_name":"Shahar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392943823,"creation_date":1392943823,"answer_id":21922973,"question_id":21922891,"body_markdown":"You don&#39;t necessarily have to do a `new Gun()` when you instantiate. You can just do the following:\r\n\r\n    class Weapon\r\n    {\r\n        private Gun gun;\r\n        public Weapon()\r\n        {\r\n            gun = new Gun(); //etc.\r\n        }\r\n        //add more methods here. You can use gun.function() to invoke any functions\r\n    }\r\nAs for using a `Weapon` object, just declare public methods in the `Weapon` class and then invoke them in your methods.\r\n\r\nFor example, the `add()` function:\r\n\r\n    class Weapon\r\n    {\r\n        ...\r\n        public int val() { return 0; } // don&#39;t know, some random method.\r\n    }\r\n\r\nThen on a different file:\r\n\r\n    int add(Weapon w)\r\n    {\r\n        return Weapon.val() + 1111; //perform something here\r\n    }\r\n\r\nI hope this answers your questions, it was a little bit unclear :|. Comment if you need more help.","title":"An add method to add objects in your custom java class","body":"<p>You don't necessarily have to do a <code>new Gun()</code> when you instantiate. You can just do the following:</p>\n\n<pre><code>class Weapon\n{\n    private Gun gun;\n    public Weapon()\n    {\n        gun = new Gun(); //etc.\n    }\n    //add more methods here. You can use gun.function() to invoke any functions\n}\n</code></pre>\n\n<p>As for using a <code>Weapon</code> object, just declare public methods in the <code>Weapon</code> class and then invoke them in your methods.</p>\n\n<p>For example, the <code>add()</code> function:</p>\n\n<pre><code>class Weapon\n{\n    ...\n    public int val() { return 0; } // don't know, some random method.\n}\n</code></pre>\n\n<p>Then on a different file:</p>\n\n<pre><code>int add(Weapon w)\n{\n    return Weapon.val() + 1111; //perform something here\n}\n</code></pre>\n\n<p>I hope this answers your questions, it was a little bit unclear :|. Comment if you need more help.</p>\n"},{"tags":[],"owner":{"account_id":2540065,"reputation":1086,"user_id":2206044,"accept_rate":100,"display_name":"Azar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392944198,"creation_date":1392944198,"answer_id":21923041,"question_id":21922891,"body_markdown":"Your question is a bit unclear to me, but I&#39;ll try my best.\r\n\r\nIf you want to have a `List` of `Weapon`, then you need to use inheritance. In your example, A `Gun` is-a `Weapon`. Therefore, you can do `class Gun extends Weapon`. Then, let&#39;s say you&#39;re using an `ArrayList`, you would instantiate it like: \r\n\r\n    List&lt;Weapon&gt; weapons = new ArrayList&lt;Weapon&gt;();\r\n\r\n You can now call add with a `Gun`, or any other sub-class of `Weapon` like so:  \r\n \r\n    weapons.add(new Gun()); //or\r\n    weapons.add(new Cannon());\r\n\r\nIf you actually need to add a `Gun` to a `Weapon` (Which doesn&#39;t really make sense...), you can use composition. See Shahar&#39;s answer for a more detailed explanation of this behavior.\r\n\r\nJust to clarify, no matter what, I&#39;m pretty sure creating a new Collection is _**not**_ what you want to do here. ","title":"An add method to add objects in your custom java class","body":"<p>Your question is a bit unclear to me, but I'll try my best.</p>\n\n<p>If you want to have a <code>List</code> of <code>Weapon</code>, then you need to use inheritance. In your example, A <code>Gun</code> is-a <code>Weapon</code>. Therefore, you can do <code>class Gun extends Weapon</code>. Then, let's say you're using an <code>ArrayList</code>, you would instantiate it like: </p>\n\n<pre><code>List&lt;Weapon&gt; weapons = new ArrayList&lt;Weapon&gt;();\n</code></pre>\n\n<p>You can now call add with a <code>Gun</code>, or any other sub-class of <code>Weapon</code> like so:  </p>\n\n<pre><code>weapons.add(new Gun()); //or\nweapons.add(new Cannon());\n</code></pre>\n\n<p>If you actually need to add a <code>Gun</code> to a <code>Weapon</code> (Which doesn't really make sense...), you can use composition. See Shahar's answer for a more detailed explanation of this behavior.</p>\n\n<p>Just to clarify, no matter what, I'm pretty sure creating a new Collection is <em><strong>not</strong></em> what you want to do here. </p>\n"},{"tags":[],"owner":{"account_id":3902605,"reputation":6480,"user_id":3230038,"accept_rate":68,"display_name":"Leo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392944452,"creation_date":1392944452,"answer_id":21923090,"question_id":21922891,"body_markdown":"These are a lot of questions :-) let&#39;s enumerate them\r\n\r\n 1. creating a method called add() into an object makes this object a Collection? No. To be a Collection, a class must implement the interface java.util.Collection or implement any one of the subinterfaces or extend any of the subclasses that implement this interface. A list of them is available in the Collection javadoc - http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html\r\n 2. if I want to add an object into another, it must be via the constructor? e.g. new Weapon(new Gun())? Not necessarily. You can just create a Weapon w = new Weapon() and then add the Gun reference via a method such as w.setGun(new Gun()). Anyway, any constructor with one or more parameters must be declared explicitly in your class. Only the non-parameter constructor is available by default.\r\n\r\nNow, let&#39;s suppose that you want to store a class Gun that is a subclass of a class Weapon. Then you first need to define the hierarchy between them, for example\r\n\r\n\tclass Weapon{\t\t\r\n\t}\r\n\t\r\n\tclass WeaponWithBlade extends Weapon{\t\t\r\n\t}\r\n\t\r\n\tclass Sword extends WeaponWithBlade{\t\t\r\n\t}\r\n\r\n\tclass Knife extends WeaponWithBlade{\t\t\r\n\t}\r\n\r\n\tclass Gun extends Weapon{\t\t\r\n\t}\r\n\r\nand then you want to store all these weapons in a Weapon collection.\r\n\r\nsince all of them are subclasses of the Weapon class, it&#39;s valid to do something like this\r\n\r\n\t\tjava.util.List&lt;Weapon&gt; weapons = new java.util.ArrayList&lt;&gt;();\r\n\t\tweapons.add(new Sword());\r\n\t\tweapons.add(new Gun());\r\n\r\nnotice that both List and ArrayList are collections (List is an interface and ArrayList is a concrete class that implements the List interface), parametrized to be collections of Weapons.\r\n\r\nI hope this can help you.\r\n","title":"An add method to add objects in your custom java class","body":"<p>These are a lot of questions :-) let's enumerate them</p>\n\n<ol>\n<li>creating a method called add() into an object makes this object a Collection? No. To be a Collection, a class must implement the interface java.util.Collection or implement any one of the subinterfaces or extend any of the subclasses that implement this interface. A list of them is available in the Collection javadoc - <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html</a></li>\n<li>if I want to add an object into another, it must be via the constructor? e.g. new Weapon(new Gun())? Not necessarily. You can just create a Weapon w = new Weapon() and then add the Gun reference via a method such as w.setGun(new Gun()). Anyway, any constructor with one or more parameters must be declared explicitly in your class. Only the non-parameter constructor is available by default.</li>\n</ol>\n\n<p>Now, let's suppose that you want to store a class Gun that is a subclass of a class Weapon. Then you first need to define the hierarchy between them, for example</p>\n\n<pre><code>class Weapon{       \n}\n\nclass WeaponWithBlade extends Weapon{       \n}\n\nclass Sword extends WeaponWithBlade{        \n}\n\nclass Knife extends WeaponWithBlade{        \n}\n\nclass Gun extends Weapon{       \n}\n</code></pre>\n\n<p>and then you want to store all these weapons in a Weapon collection.</p>\n\n<p>since all of them are subclasses of the Weapon class, it's valid to do something like this</p>\n\n<pre><code>    java.util.List&lt;Weapon&gt; weapons = new java.util.ArrayList&lt;&gt;();\n    weapons.add(new Sword());\n    weapons.add(new Gun());\n</code></pre>\n\n<p>notice that both List and ArrayList are collections (List is an interface and ArrayList is a concrete class that implements the List interface), parametrized to be collections of Weapons.</p>\n\n<p>I hope this can help you.</p>\n"},{"tags":[],"owner":{"account_id":3959361,"reputation":51,"user_id":3266889,"display_name":"chenthil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392945278,"creation_date":1392945278,"answer_id":21923244,"question_id":21922891,"body_markdown":" \r\n\r\n    List&lt;Object&gt; weapons = new ArrayList&lt;Object&gt;();    \r\n    \r\n    weapons.add(new Sword());     \r\n    weapons.add(new Gun());\r\n\r\ntry this.","title":"An add method to add objects in your custom java class","body":"<pre><code>List&lt;Object&gt; weapons = new ArrayList&lt;Object&gt;();    \n\nweapons.add(new Sword());     \nweapons.add(new Gun());\n</code></pre>\n\n<p>try this.</p>\n"}],"owner":{"account_id":4021128,"reputation":545,"user_id":3311433,"accept_rate":76,"display_name":"Htlcs"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10406,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1664733985,"creation_date":1392943465,"question_id":21922891,"body_markdown":"A simple question on Java class \r\n\r\nI want to create my class with my own add method which adds an object of a different class.\r\n\r\nFor eg if my class name is Weapon, I want to create an add method like void add(Gun gun) (Gun being one of my other classes for example)\r\n\r\nThis would be just like creating your own collection maybe??? if I am not wrong? Like list.add() method, I want to implement my own add method for the Weapon class\r\n\r\nSo when I instantiate an object of my weapon class, it should be like\r\nWeapon w = new Weapon(new Gun( ... .. constructor parameters) )\r\n\r\nAlso I would like to have variants of my add methods. Like a different add method with different parameters like void add(Weapon weapon) ( creating an method to add your own class object )\r\n\r\nSo I am not sure if this is similar to implementing a collection?? And if it is how do I achieve it? Do I have to extend another class for this?\r\n\r\nApologies if my question confused anyone! :)\r\n\r\n","title":"An add method to add objects in your custom java class","body":"<p>A simple question on Java class </p>\n\n<p>I want to create my class with my own add method which adds an object of a different class.</p>\n\n<p>For eg if my class name is Weapon, I want to create an add method like void add(Gun gun) (Gun being one of my other classes for example)</p>\n\n<p>This would be just like creating your own collection maybe??? if I am not wrong? Like list.add() method, I want to implement my own add method for the Weapon class</p>\n\n<p>So when I instantiate an object of my weapon class, it should be like\nWeapon w = new Weapon(new Gun( ... .. constructor parameters) )</p>\n\n<p>Also I would like to have variants of my add methods. Like a different add method with different parameters like void add(Weapon weapon) ( creating an method to add your own class object )</p>\n\n<p>So I am not sure if this is similar to implementing a collection?? And if it is how do I achieve it? Do I have to extend another class for this?</p>\n\n<p>Apologies if my question confused anyone! :)</p>\n"},{"tags":["java","aop","guice"],"comments":[{"owner":{"account_id":1744405,"reputation":28870,"user_id":1594933,"accept_rate":74,"display_name":"gontard"},"score":0,"creation_date":1364218635,"post_id":15602889,"comment_id":22149177,"body_markdown":"Did you read [this](https://code.google.com/p/google-guice/wiki/AOP) ?","body":"Did you read <a href=\"https://code.google.com/p/google-guice/wiki/AOP\" rel=\"nofollow noreferrer\">this</a> ?"},{"owner":{"account_id":211270,"reputation":10872,"user_id":463324,"accept_rate":77,"display_name":"condit"},"score":1,"creation_date":1364231921,"post_id":15602889,"comment_id":22157745,"body_markdown":"If you use Guice AOP you need to make sure that all `Vector` elements are created by Guice. You&#39;d need to prevent clients from creating new instances without going through some factory that Guice controls.","body":"If you use Guice AOP you need to make sure that all <code>Vector</code> elements are created by Guice. You&#39;d need to prevent clients from creating new instances without going through some factory that Guice controls."}],"owner":{"account_id":80776,"reputation":4759,"user_id":228173,"accept_rate":75,"display_name":"Shuo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664733770,"creation_date":1364152985,"question_id":15602889,"body_markdown":"How can we use AOP from the Guice library to make certain assertions on method parameters?\r\n\r\nI implemented a `Vector` class for linear algebra computation. \r\n\r\n    class Vector{\r\n        int n; // dimensions\r\n        Vector sum(List&lt;Float&gt; v2){...}\r\n        Vector sub(List&lt;Float&gt; v2){...}\r\n        ...\r\n    }\r\n\r\nThe methods in Vector class normally take a List of float `v2`. \r\nBefore doing computation, I&#39;d like to throw an exception if the `v2` does not the same dimension as the vector `this`. \r\n\r\n  \r\n\r\n      if (v2.size() != n)\r\n       throw new IllegalArgumentException(String.format(&quot;v2.size() should be %d, but is %d.&quot;, n, v2.size()));\r\n\r\nI could copy the same code for every single method that takes `v2` as a parameter, but it&#39;s tedious.\r\n\r\nIs there an easy way to do the same thing using the AOP feature in Guice? Something like:\r\n\r\n     Vector sum(@Dim(this.n) List&lt;Float&gt; v2){...}","title":"making assertions on a function parameter using AOP","body":"<p>How can we use AOP from the Guice library to make certain assertions on method parameters?</p>\n<p>I implemented a <code>Vector</code> class for linear algebra computation.</p>\n<pre><code>class Vector{\n    int n; // dimensions\n    Vector sum(List&lt;Float&gt; v2){...}\n    Vector sub(List&lt;Float&gt; v2){...}\n    ...\n}\n</code></pre>\n<p>The methods in Vector class normally take a List of float <code>v2</code>.\nBefore doing computation, I'd like to throw an exception if the <code>v2</code> does not the same dimension as the vector <code>this</code>.</p>\n<pre><code>  if (v2.size() != n)\n   throw new IllegalArgumentException(String.format(&quot;v2.size() should be %d, but is %d.&quot;, n, v2.size()));\n</code></pre>\n<p>I could copy the same code for every single method that takes <code>v2</code> as a parameter, but it's tedious.</p>\n<p>Is there an easy way to do the same thing using the AOP feature in Guice? Something like:</p>\n<pre><code> Vector sum(@Dim(this.n) List&lt;Float&gt; v2){...}\n</code></pre>\n"},{"tags":["java","glassfish"],"answers":[{"comments":[{"owner":{"account_id":6798247,"reputation":1,"user_id":5232647,"display_name":"Mani Rathinam"},"score":0,"creation_date":1501738921,"post_id":45475516,"comment_id":77911790,"body_markdown":"How can I fix this org.osgi.core library?","body":"How can I fix this org.osgi.core library?"}],"tags":[],"owner":{"account_id":10591336,"reputation":3484,"user_id":7801800,"display_name":"Anshul Sharma"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1501737973,"creation_date":1501737973,"answer_id":45475516,"question_id":45474897,"body_markdown":"error is occurring because of missing of  `org.osgi.core` library. you need to use `org.osgi.core` dependency, you can find it below:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.osgi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;org.osgi.core&lt;/artifactId&gt;\r\n        &lt;version&gt;5.0.0&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Glassfish server Domain starts failed","body":"<p>error is occurring because of missing of  <code>org.osgi.core</code> library. you need to use <code>org.osgi.core</code> dependency, you can find it below:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.osgi&lt;/groupId&gt;\n    &lt;artifactId&gt;org.osgi.core&lt;/artifactId&gt;\n    &lt;version&gt;5.0.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3442260,"reputation":1,"user_id":2883924,"display_name":"user2883924"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664733715,"creation_date":1664213876,"answer_id":73857885,"question_id":45474897,"body_markdown":"In my case, it happened because my version of glassfish worked with a different JDK version than the one recommended.\r\nSolution:\r\n1. Install the version of JDK compatible with your version of glasshfish.\r\n2. Change the jdk of your glassfish in your `osgi.properties` file:\r\nOpen the file\r\n`${GLASSFISH_HOME}/glassfish/config/osgi.properties`\r\nand add this line at the end:\r\n`jre-1.8=${jre-1.7}`","title":"Glassfish server Domain starts failed","body":"<p>In my case, it happened because my version of glassfish worked with a different JDK version than the one recommended.\nSolution:</p>\n<ol>\n<li>Install the version of JDK compatible with your version of glasshfish.</li>\n<li>Change the jdk of your glassfish in your <code>osgi.properties</code> file:\nOpen the file\n<code>${GLASSFISH_HOME}/glassfish/config/osgi.properties</code>\nand add this line at the end:\n<code>jre-1.8=${jre-1.7}</code></li>\n</ol>\n"}],"owner":{"account_id":6798247,"reputation":1,"user_id":5232647,"display_name":"Mani Rathinam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664733715,"creation_date":1501734881,"question_id":45474897,"body_markdown":"I installed Glassfish sever in my system. The domain is created when i am installing glassfish server. But the domain couldn&#39;t started after installation. It shows following Error. Kindly anyone suggest solution for this .\r\n\r\n\r\n----------\r\n\r\n\r\n   \r\n\r\n     enWARNING: Failed to install file:/C:/glassfish3/glassfish/modules/glassfish-corba\r\n    -omgapi.jar\r\n    org.osgi.framework.BundleException: Could not create bundle object.\r\n            at org.apache.felix.framework.Felix.installBundle(Felix.java:2785)\r\n            at org.apache.felix.framework.BundleContextImpl.installBundle(BundleCont\r\n    extImpl.java:165)\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\r\n    (BundleProvisioner.java:446)\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\r\n    Bundles(BundleProvisioner.java:208)\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishRuntimeBuild\r\n    er.build(OSGiGlassFishRuntimeBuilder.java:139)\r\n            at org.glassfish.embeddable.GlassFishRuntime._bootstrap(GlassFishRuntime\r\n    .java:157)\r\n            at org.glassfish.embeddable.GlassFishRuntime.bootstrap(GlassFishRuntime.\r\n    java:110)\r\n            at com.sun.enterprise.glassfish.bootstrap.GlassFishMain$Launcher.launch(\r\n    GlassFishMain.java:112)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\r\n    java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\r\n    sorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at com.sun.enterprise.glassfish.bootstrap.GlassFishMain.main(GlassFishMa\r\n    in.java:97)\r\n            at com.sun.enterprise.glassfish.bootstrap.ASMain.main(ASMain.java:55)\r\n    Caused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n            at java.util.ArrayList.rangeCheck(ArrayList.java:653)\r\n            at java.util.ArrayList.get(ArrayList.java:429)\r\n            at org.apache.felix.framework.ExtensionManager.addExtensionBundle(Extens\r\n    ionManager.java:401)\r\n            at org.apache.felix.framework.Felix.installBundle(Felix.java:2751)\r\n            ... 13 more\r\n    \r\n    Aug 03, 2017 9:20:14 AM BundleProvisioner install\r\n    WARNING: Failed to install file:/C:/glassfish3/glassfish/modules/glassfish-extra\r\n    -jre-packages.jar\r\n    org.osgi.framework.BundleException: Could not create bundle object.\r\n            at org.apache.felix.framework.Felix.installBundle(Felix.java:2785)\r\n            at org.apache.felix.framework.BundleContextImpl.installBundle(BundleCont\r\n    extImpl.java:165)\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\r\n    (BundleProvisioner.java:446)\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\r\n    Bundles(BundleProvisioner.java:208)\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishRuntimeBuild\r\n    er.build(OSGiGlassFishRuntimeBuilder.java:139)\r\n            at org.glassfish.embeddable.GlassFishRuntime._bootstrap(GlassFishRuntime\r\n    .java:157)\r\n            at org.glassfish.embeddable.GlassFishRuntime.bootstrap(GlassFishRuntime.\r\n    java:110)\r\n            at com.sun.enterprise.glassfish.bootstrap.GlassFishMain$Launcher.launch(\r\n    GlassFishMain.java:112)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\r\n    java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\r\n    sorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at com.sun.enterprise.glassfish.bootstrap.GlassFishMain.main(GlassFishMa\r\n    in.java:97)\r\n            at com.sun.enterprise.glassfish.bootstrap.ASMain.main(ASMain.java:55)\r\n    Caused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n            at java.util.ArrayList.rangeCheck(ArrayList.java:653)\r\n            at java.util.ArrayList.get(ArrayList.java:429)\r\n            at org.apache.felix.framework.ExtensionManager.addExtensionBundle(Extens\r\n    ionManager.java:401)\r\n            at org.apache.felix.framework.Felix.installBundle(Felix.java:2751)\r\n            ... 13 more\r\n    \r\n    Aug 03, 2017 9:20:14 AM BundleProvisioner install\r\n    WARNING: Failed to install file:/C:/glassfish3/glassfish/modules/glassfish-oracl\r\n    e-jdbc-driver-packages.jar\r\n    org.osgi.framework.BundleException: Could not create bundle object.\r\n            at org.apache.felix.framework.Felix.installBundle(Felix.java:2785)\r\n            at org.apache.felix.framework.BundleContextImpl.installBundle(BundleCont\r\n    extImpl.java:165)\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\r\n    (BundleProvisioner.java:446)\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\r\n    Bundles(BundleProvisioner.java:208)\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishRuntimeBuild\r\n    er.build(OSGiGlassFishRuntimeBuilder.java:139)\r\n            at org.glassfish.embeddable.GlassFishRuntime._bootstrap(GlassFishRuntime\r\n    .java:157)\r\n            at org.glassfish.embeddable.GlassFishRuntime.bootstrap(GlassFishRuntime.\r\n    java:110)\r\n            at com.sun.enterprise.glassfish.bootstrap.GlassFishMain$Launcher.launch(\r\n    GlassFishMain.java:112)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\r\n    java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\r\n    sorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at com.sun.enterprise.glassfish.bootstrap.GlassFishMain.main(GlassFishMa\r\n    in.java:97)\r\n            at com.sun.enterprise.glassfish.bootstrap.ASMain.main(ASMain.java:55)\r\n    Caused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n            at java.util.ArrayList.rangeCheck(ArrayList.java:653)\r\n            at java.util.ArrayList.get(ArrayList.java:429)\r\n            at org.apache.felix.framework.ExtensionManager.addExtensionBundle(Extens\r\n    ionManager.java:401)\r\n            at org.apache.felix.framework.Felix.installBundle(Felix.java:2751)\r\n            ... 13 more\r\n    \r\n    Aug 03, 2017 9:20:14 AM BundleProvisioner install\r\n    WARNING: Failed to install file:/C:/glassfish3/glassfish/modules/javax.transacti\r\n    on.jar\r\n    org.osgi.framework.BundleException: Could not create bundle object.\r\n            at org.apache.felix.framework.Felix.installBundle(Felix.java:2785)\r\n            at org.apache.felix.framework.BundleContextImpl.installBundle(BundleCont\r\n    extImpl.java:165)\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\r\n    (BundleProvisioner.java:446)\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\r\n    Bundles(BundleProvisioner.java:208)\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishRuntimeBuild\r\n    er.build(OSGiGlassFishRuntimeBuilder.java:139)\r\n            at org.glassfish.embeddable.GlassFishRuntime._bootstrap(GlassFishRuntime\r\n    .java:157)\r\n            at org.glassfish.embeddable.GlassFishRuntime.bootstrap(GlassFishRuntime.\r\n    java:110)\r\n            at com.sun.enterprise.glassfish.bootstrap.GlassFishMain$Launcher.launch(\r\n    GlassFishMain.java:112)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\r\n    java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\r\n    sorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at com.sun.enterprise.glassfish.bootstrap.GlassFishMain.main(GlassFishMa\r\n    in.java:97)\r\n            at com.sun.enterprise.glassfish.bootstrap.ASMain.main(ASMain.java:55)\r\n    Caused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n            at java.util.ArrayList.rangeCheck(ArrayList.java:653)\r\n            at java.util.ArrayList.get(ArrayList.java:429)\r\n            at org.apache.felix.framework.ExtensionManager.addExtensionBundle(Extens\r\n    ionManager.java:401)\r\n            at org.apache.felix.framework.Felix.installBundle(Felix.java:2751)\r\n            ... 13 more\r\n    \r\n    Aug 03, 2017 9:20:14 AM BundleProvisioner install\r\n    WARNING: Failed to install file:/C:/glassfish3/glassfish/modules/performance-tun\r\n    er-extra-jre-packages.jar\r\n    org.osgi.framework.BundleException: Could not create bundle object.\r\n            at org.apache.felix.framework.Felix.installBundle(Felix.java:2785)\r\n            at org.apache.felix.framework.BundleContextImpl.installBundle(BundleCont\r\n    extImpl.java:165)\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\r\n    (BundleProvisioner.java:446)\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\r\n    Bundles(BundleProvisioner.java:208)\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishRuntimeBuild\r\n    er.build(OSGiGlassFishRuntimeBuilder.java:139)\r\n            at org.glassfish.embeddable.GlassFishRuntime._bootstrap(GlassFishRuntime\r\n    .java:157)\r\n            at org.glassfish.embeddable.GlassFishRuntime.bootstrap(GlassFishRuntime.\r\n    java:110)\r\n            at com.sun.enterprise.glassfish.bootstrap.GlassFishMain$Launcher.launch(\r\n    GlassFishMain.java:112)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\r\n    java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\r\n    sorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at com.sun.enterprise.glassfish.bootstrap.GlassFishMain.main(GlassFishMa\r\n    in.java:97)\r\n            at com.sun.enterprise.glassfish.bootstrap.ASMain.main(ASMain.java:55)\r\n    Caused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n            at java.util.ArrayList.rangeCheck(ArrayList.java:653)\r\n            at java.util.ArrayList.get(ArrayList.java:429)\r\n            at org.apache.felix.framework.ExtensionManager.addExtensionBundle(Extens\r\n    ionManager.java:401)\r\n            at org.apache.felix.framework.Felix.installBundle(Felix.java:2751)\r\n            ... 13 more\r\n    \r\n    java.lang.NoClassDefFoundError: org/osgi/framework/BundleActivator\r\n            at java.lang.ClassLoader.defineClass1(Native Method)\r\n            at java.lang.ClassLoader.defineClass(ClassLoader.java:763)\r\n            at org.apache.felix.framework.BundleWiringImpl$BundleClassLoader.findCla\r\n    ss(BundleWiringImpl.java:2128)\r\n            at org.apache.felix.framework.BundleWiringImpl.findClassOrResourceByDele\r\n    gation(BundleWiringImpl.java:1432)\r\n            at org.apache.felix.framework.BundleWiringImpl.access$400(BundleWiringIm\r\n    pl.java:72)\r\n            at org.apache.felix.framework.BundleWiringImpl$BundleClassLoader.loadCla\r\n    ss(BundleWiringImpl.java:1843)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n            at org.apache.felix.framework.BundleWiringImpl.getClassByDelegation(Bund\r\n    leWiringImpl.java:1317)\r\n            at org.apache.felix.framework.Felix.createBundleActivator(Felix.java:417\r\n    0)\r\n            at org.apache.felix.framework.Felix.activateBundle(Felix.java:1972)\r\n            at org.apache.felix.framework.Felix.startBundle(Felix.java:1895)\r\n            at org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1191)\r\n    \r\n            at org.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStart\r\n    LevelImpl.java:295)\r\n            at java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.lang.ClassNotFoundException: org.osgi.framework.BundleActivator\r\n    not found by org.glassfish.main.core.glassfish [75]\r\n            at org.apache.felix.framework.BundleWiringImpl.findClassOrResourceByDele\r\n    gation(BundleWiringImpl.java:1460)\r\n            at org.apache.felix.framework.BundleWiringImpl.access$400(BundleWiringIm\r\n    pl.java:72)\r\n            at org.apache.felix.framework.BundleWiringImpl$BundleClassLoader.loadCla\r\n    ss(BundleWiringImpl.java:1843)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n            ... 14 more\r\n    org.osgi.framework.BundleException: Unresolved constraint in bundle org.glassfis\r\n    h.hk2.osgi-adapter [168]: Unable to resolve 168.0: missing requirement [168.0] o\r\n    sgi.wiring.package; (&amp;(osgi.wiring.package=com.sun.enterprise.module)(version&gt;=1\r\n    .1.0)) [caused by: Unable to resolve 95.0: missing requirement [95.0] osgi.wirin\r\n    g.package; (&amp;(osgi.wiring.package=org.jvnet.hk2.config)(version&gt;=1.1.0)) [caused\r\n     by: Unable to resolve 23.0: missing requirement [23.0] osgi.wiring.package; (os\r\n    gi.wiring.package=javax.management)]]\r\n            at org.apache.felix.framework.Felix.resolveBundleRevision(Felix.java:382\r\n    6)\r\n            at org.apache.felix.framework.Felix.startBundle(Felix.java:1868)\r\n            at org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1191)\r\n    \r\n            at org.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStart\r\n    LevelImpl.java:295)\r\n            at java.lang.Thread.run(Thread.java:748)\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\r\n    java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\r\n    sorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at com.sun.enterprise.glassfish.bootstrap.GlassFishMain.main(GlassFishMa\r\n    in.java:97)\r\n            at com.sun.enterprise.glassfish.bootstrap.ASMain.main(ASMain.java:55)\r\n    Caused by: org.glassfish.embeddable.GlassFishException: org.glassfish.embeddable\r\n    .GlassFishException: No GlassFishRuntime available\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishRuntimeBuild\r\n    er.build(OSGiGlassFishRuntimeBuilder.java:164)\r\n            at org.glassfish.embeddable.GlassFishRuntime._bootstrap(GlassFishRuntime\r\n    .java:157)\r\n            at org.glassfish.embeddable.GlassFishRuntime.bootstrap(GlassFishRuntime.\r\n    java:110)\r\n            at com.sun.enterprise.glassfish.bootstrap.GlassFishMain$Launcher.launch(\r\n    GlassFishMain.java:112)\r\n            ... 6 more\r\n    Caused by: org.glassfish.embeddable.GlassFishException: No GlassFishRuntime avai\r\n    lable\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishRuntimeBuild\r\n    er.getGlassFishRuntime(OSGiGlassFishRuntimeBuilder.java:202)\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishRuntimeBuild\r\n    er.build(OSGiGlassFishRuntimeBuilder.java:162)\r\n            ... 9 more\r\n    Error stopping framework: java.lang.NullPointerException\r\n    java.lang.NullPointerException\r\n            at com.sun.enterprise.glassfish.bootstrap.GlassFishMain$Launcher$1.run(G\r\n    lassFishMain.java:203)\r\n    Java HotSpot(TM) Client VM warning: ignoring option MaxPermSize=192m; support wa\r\n    s removed in 8.0\r\n    Java HotSpot(TM) Client VM warning: ignoring option PermSize=64m; support was re\r\n    moved in 8.0\r\n    ter code here\r\n\r\n-------------------------------------------------\r\nI didn&#39;t installed NetBeans. My system is only for an act as a server for deploying .war file. I tried a lot of solutions from the internet. No solutions for starting domain. Kindly suggest the solution for this.","title":"Glassfish server Domain starts failed","body":"<p>I installed Glassfish sever in my system. The domain is created when i am installing glassfish server. But the domain couldn't started after installation. It shows following Error. Kindly anyone suggest solution for this .</p>\n\n<hr>\n\n<pre><code> enWARNING: Failed to install file:/C:/glassfish3/glassfish/modules/glassfish-corba\n-omgapi.jar\norg.osgi.framework.BundleException: Could not create bundle object.\n        at org.apache.felix.framework.Felix.installBundle(Felix.java:2785)\n        at org.apache.felix.framework.BundleContextImpl.installBundle(BundleCont\nextImpl.java:165)\n        at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\n(BundleProvisioner.java:446)\n        at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\nBundles(BundleProvisioner.java:208)\n        at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishRuntimeBuild\ner.build(OSGiGlassFishRuntimeBuilder.java:139)\n        at org.glassfish.embeddable.GlassFishRuntime._bootstrap(GlassFishRuntime\n.java:157)\n        at org.glassfish.embeddable.GlassFishRuntime.bootstrap(GlassFishRuntime.\njava:110)\n        at com.sun.enterprise.glassfish.bootstrap.GlassFishMain$Launcher.launch(\nGlassFishMain.java:112)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\njava:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\nsorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at com.sun.enterprise.glassfish.bootstrap.GlassFishMain.main(GlassFishMa\nin.java:97)\n        at com.sun.enterprise.glassfish.bootstrap.ASMain.main(ASMain.java:55)\nCaused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n        at java.util.ArrayList.rangeCheck(ArrayList.java:653)\n        at java.util.ArrayList.get(ArrayList.java:429)\n        at org.apache.felix.framework.ExtensionManager.addExtensionBundle(Extens\nionManager.java:401)\n        at org.apache.felix.framework.Felix.installBundle(Felix.java:2751)\n        ... 13 more\n\nAug 03, 2017 9:20:14 AM BundleProvisioner install\nWARNING: Failed to install file:/C:/glassfish3/glassfish/modules/glassfish-extra\n-jre-packages.jar\norg.osgi.framework.BundleException: Could not create bundle object.\n        at org.apache.felix.framework.Felix.installBundle(Felix.java:2785)\n        at org.apache.felix.framework.BundleContextImpl.installBundle(BundleCont\nextImpl.java:165)\n        at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\n(BundleProvisioner.java:446)\n        at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\nBundles(BundleProvisioner.java:208)\n        at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishRuntimeBuild\ner.build(OSGiGlassFishRuntimeBuilder.java:139)\n        at org.glassfish.embeddable.GlassFishRuntime._bootstrap(GlassFishRuntime\n.java:157)\n        at org.glassfish.embeddable.GlassFishRuntime.bootstrap(GlassFishRuntime.\njava:110)\n        at com.sun.enterprise.glassfish.bootstrap.GlassFishMain$Launcher.launch(\nGlassFishMain.java:112)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\njava:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\nsorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at com.sun.enterprise.glassfish.bootstrap.GlassFishMain.main(GlassFishMa\nin.java:97)\n        at com.sun.enterprise.glassfish.bootstrap.ASMain.main(ASMain.java:55)\nCaused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n        at java.util.ArrayList.rangeCheck(ArrayList.java:653)\n        at java.util.ArrayList.get(ArrayList.java:429)\n        at org.apache.felix.framework.ExtensionManager.addExtensionBundle(Extens\nionManager.java:401)\n        at org.apache.felix.framework.Felix.installBundle(Felix.java:2751)\n        ... 13 more\n\nAug 03, 2017 9:20:14 AM BundleProvisioner install\nWARNING: Failed to install file:/C:/glassfish3/glassfish/modules/glassfish-oracl\ne-jdbc-driver-packages.jar\norg.osgi.framework.BundleException: Could not create bundle object.\n        at org.apache.felix.framework.Felix.installBundle(Felix.java:2785)\n        at org.apache.felix.framework.BundleContextImpl.installBundle(BundleCont\nextImpl.java:165)\n        at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\n(BundleProvisioner.java:446)\n        at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\nBundles(BundleProvisioner.java:208)\n        at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishRuntimeBuild\ner.build(OSGiGlassFishRuntimeBuilder.java:139)\n        at org.glassfish.embeddable.GlassFishRuntime._bootstrap(GlassFishRuntime\n.java:157)\n        at org.glassfish.embeddable.GlassFishRuntime.bootstrap(GlassFishRuntime.\njava:110)\n        at com.sun.enterprise.glassfish.bootstrap.GlassFishMain$Launcher.launch(\nGlassFishMain.java:112)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\njava:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\nsorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at com.sun.enterprise.glassfish.bootstrap.GlassFishMain.main(GlassFishMa\nin.java:97)\n        at com.sun.enterprise.glassfish.bootstrap.ASMain.main(ASMain.java:55)\nCaused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n        at java.util.ArrayList.rangeCheck(ArrayList.java:653)\n        at java.util.ArrayList.get(ArrayList.java:429)\n        at org.apache.felix.framework.ExtensionManager.addExtensionBundle(Extens\nionManager.java:401)\n        at org.apache.felix.framework.Felix.installBundle(Felix.java:2751)\n        ... 13 more\n\nAug 03, 2017 9:20:14 AM BundleProvisioner install\nWARNING: Failed to install file:/C:/glassfish3/glassfish/modules/javax.transacti\non.jar\norg.osgi.framework.BundleException: Could not create bundle object.\n        at org.apache.felix.framework.Felix.installBundle(Felix.java:2785)\n        at org.apache.felix.framework.BundleContextImpl.installBundle(BundleCont\nextImpl.java:165)\n        at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\n(BundleProvisioner.java:446)\n        at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\nBundles(BundleProvisioner.java:208)\n        at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishRuntimeBuild\ner.build(OSGiGlassFishRuntimeBuilder.java:139)\n        at org.glassfish.embeddable.GlassFishRuntime._bootstrap(GlassFishRuntime\n.java:157)\n        at org.glassfish.embeddable.GlassFishRuntime.bootstrap(GlassFishRuntime.\njava:110)\n        at com.sun.enterprise.glassfish.bootstrap.GlassFishMain$Launcher.launch(\nGlassFishMain.java:112)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\njava:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\nsorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at com.sun.enterprise.glassfish.bootstrap.GlassFishMain.main(GlassFishMa\nin.java:97)\n        at com.sun.enterprise.glassfish.bootstrap.ASMain.main(ASMain.java:55)\nCaused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n        at java.util.ArrayList.rangeCheck(ArrayList.java:653)\n        at java.util.ArrayList.get(ArrayList.java:429)\n        at org.apache.felix.framework.ExtensionManager.addExtensionBundle(Extens\nionManager.java:401)\n        at org.apache.felix.framework.Felix.installBundle(Felix.java:2751)\n        ... 13 more\n\nAug 03, 2017 9:20:14 AM BundleProvisioner install\nWARNING: Failed to install file:/C:/glassfish3/glassfish/modules/performance-tun\ner-extra-jre-packages.jar\norg.osgi.framework.BundleException: Could not create bundle object.\n        at org.apache.felix.framework.Felix.installBundle(Felix.java:2785)\n        at org.apache.felix.framework.BundleContextImpl.installBundle(BundleCont\nextImpl.java:165)\n        at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\n(BundleProvisioner.java:446)\n        at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\nBundles(BundleProvisioner.java:208)\n        at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishRuntimeBuild\ner.build(OSGiGlassFishRuntimeBuilder.java:139)\n        at org.glassfish.embeddable.GlassFishRuntime._bootstrap(GlassFishRuntime\n.java:157)\n        at org.glassfish.embeddable.GlassFishRuntime.bootstrap(GlassFishRuntime.\njava:110)\n        at com.sun.enterprise.glassfish.bootstrap.GlassFishMain$Launcher.launch(\nGlassFishMain.java:112)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\njava:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\nsorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at com.sun.enterprise.glassfish.bootstrap.GlassFishMain.main(GlassFishMa\nin.java:97)\n        at com.sun.enterprise.glassfish.bootstrap.ASMain.main(ASMain.java:55)\nCaused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n        at java.util.ArrayList.rangeCheck(ArrayList.java:653)\n        at java.util.ArrayList.get(ArrayList.java:429)\n        at org.apache.felix.framework.ExtensionManager.addExtensionBundle(Extens\nionManager.java:401)\n        at org.apache.felix.framework.Felix.installBundle(Felix.java:2751)\n        ... 13 more\n\njava.lang.NoClassDefFoundError: org/osgi/framework/BundleActivator\n        at java.lang.ClassLoader.defineClass1(Native Method)\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:763)\n        at org.apache.felix.framework.BundleWiringImpl$BundleClassLoader.findCla\nss(BundleWiringImpl.java:2128)\n        at org.apache.felix.framework.BundleWiringImpl.findClassOrResourceByDele\ngation(BundleWiringImpl.java:1432)\n        at org.apache.felix.framework.BundleWiringImpl.access$400(BundleWiringIm\npl.java:72)\n        at org.apache.felix.framework.BundleWiringImpl$BundleClassLoader.loadCla\nss(BundleWiringImpl.java:1843)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        at org.apache.felix.framework.BundleWiringImpl.getClassByDelegation(Bund\nleWiringImpl.java:1317)\n        at org.apache.felix.framework.Felix.createBundleActivator(Felix.java:417\n0)\n        at org.apache.felix.framework.Felix.activateBundle(Felix.java:1972)\n        at org.apache.felix.framework.Felix.startBundle(Felix.java:1895)\n        at org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1191)\n\n        at org.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStart\nLevelImpl.java:295)\n        at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.ClassNotFoundException: org.osgi.framework.BundleActivator\nnot found by org.glassfish.main.core.glassfish [75]\n        at org.apache.felix.framework.BundleWiringImpl.findClassOrResourceByDele\ngation(BundleWiringImpl.java:1460)\n        at org.apache.felix.framework.BundleWiringImpl.access$400(BundleWiringIm\npl.java:72)\n        at org.apache.felix.framework.BundleWiringImpl$BundleClassLoader.loadCla\nss(BundleWiringImpl.java:1843)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        ... 14 more\norg.osgi.framework.BundleException: Unresolved constraint in bundle org.glassfis\nh.hk2.osgi-adapter [168]: Unable to resolve 168.0: missing requirement [168.0] o\nsgi.wiring.package; (&amp;(osgi.wiring.package=com.sun.enterprise.module)(version&gt;=1\n.1.0)) [caused by: Unable to resolve 95.0: missing requirement [95.0] osgi.wirin\ng.package; (&amp;(osgi.wiring.package=org.jvnet.hk2.config)(version&gt;=1.1.0)) [caused\n by: Unable to resolve 23.0: missing requirement [23.0] osgi.wiring.package; (os\ngi.wiring.package=javax.management)]]\n        at org.apache.felix.framework.Felix.resolveBundleRevision(Felix.java:382\n6)\n        at org.apache.felix.framework.Felix.startBundle(Felix.java:1868)\n        at org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1191)\n\n        at org.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStart\nLevelImpl.java:295)\n        at java.lang.Thread.run(Thread.java:748)\nException in thread \"main\" java.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\njava:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\nsorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at com.sun.enterprise.glassfish.bootstrap.GlassFishMain.main(GlassFishMa\nin.java:97)\n        at com.sun.enterprise.glassfish.bootstrap.ASMain.main(ASMain.java:55)\nCaused by: org.glassfish.embeddable.GlassFishException: org.glassfish.embeddable\n.GlassFishException: No GlassFishRuntime available\n        at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishRuntimeBuild\ner.build(OSGiGlassFishRuntimeBuilder.java:164)\n        at org.glassfish.embeddable.GlassFishRuntime._bootstrap(GlassFishRuntime\n.java:157)\n        at org.glassfish.embeddable.GlassFishRuntime.bootstrap(GlassFishRuntime.\njava:110)\n        at com.sun.enterprise.glassfish.bootstrap.GlassFishMain$Launcher.launch(\nGlassFishMain.java:112)\n        ... 6 more\nCaused by: org.glassfish.embeddable.GlassFishException: No GlassFishRuntime avai\nlable\n        at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishRuntimeBuild\ner.getGlassFishRuntime(OSGiGlassFishRuntimeBuilder.java:202)\n        at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishRuntimeBuild\ner.build(OSGiGlassFishRuntimeBuilder.java:162)\n        ... 9 more\nError stopping framework: java.lang.NullPointerException\njava.lang.NullPointerException\n        at com.sun.enterprise.glassfish.bootstrap.GlassFishMain$Launcher$1.run(G\nlassFishMain.java:203)\nJava HotSpot(TM) Client VM warning: ignoring option MaxPermSize=192m; support wa\ns removed in 8.0\nJava HotSpot(TM) Client VM warning: ignoring option PermSize=64m; support was re\nmoved in 8.0\nter code here\n</code></pre>\n\n<hr>\n\n<p>I didn't installed NetBeans. My system is only for an act as a server for deploying .war file. I tried a lot of solutions from the internet. No solutions for starting domain. Kindly suggest the solution for this.</p>\n"},{"tags":["java","android","xml","radio-button","radio-group"],"comments":[{"owner":{"account_id":4744924,"reputation":1695,"user_id":3836513,"accept_rate":80,"display_name":"Srijith"},"score":1,"creation_date":1407046903,"post_id":25102156,"comment_id":39062344,"body_markdown":"What error do you get?","body":"What error do you get?"},{"owner":{"account_id":4087956,"reputation":944,"user_id":3356781,"accept_rate":65,"display_name":"mkafiyan"},"score":0,"creation_date":1407047051,"post_id":25102156,"comment_id":39062367,"body_markdown":"@Sree14 fatal exception :main `08-03 06:22:57.169: E/AndroidRuntime(1188): java.lang.IllegalStateException: Could not find a method onRadioButtonClicked(View) in the activity class com.dietandroidproject.MainActivity for onClick handler on view class android.widget.RadioButton with id &#39;maleselected&#39;\n`","body":"@Sree14 fatal exception :main <code>08-03 06:22:57.169: E&#47;AndroidRuntime(1188): java.lang.IllegalStateException: Could not find a method onRadioButtonClicked(View) in the activity class com.dietandroidproject.MainActivity for onClick handler on view class android.widget.RadioButton with id &#39;maleselected&#39; </code>"},{"owner":{"account_id":4744924,"reputation":1695,"user_id":3836513,"accept_rate":80,"display_name":"Srijith"},"score":0,"creation_date":1407047267,"post_id":25102156,"comment_id":39062403,"body_markdown":"Have you tried using `setOnCheckedChangeListener()` for radio buttons instead of radiogroups. Or else you can also try `android:onClick` for your radio buttons in your xml. http://developer.android.com/guide/topics/ui/controls/radiobutton.html","body":"Have you tried using <code>setOnCheckedChangeListener()</code> for radio buttons instead of radiogroups. Or else you can also try <code>android:onClick</code> for your radio buttons in your xml. <a href=\"http://developer.android.com/guide/topics/ui/controls/radiobutton.html\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/ui/controls/radiobutton.h&zwnj;&#8203;tml</a>"},{"owner":{"account_id":4744924,"reputation":1695,"user_id":3836513,"accept_rate":80,"display_name":"Srijith"},"score":0,"creation_date":1407047447,"post_id":25102156,"comment_id":39062435,"body_markdown":"ok got it. please remove your androi:onclick from xml.","body":"ok got it. please remove your androi:onclick from xml."},{"owner":{"account_id":4087956,"reputation":944,"user_id":3356781,"accept_rate":65,"display_name":"mkafiyan"},"score":0,"creation_date":1407047473,"post_id":25102156,"comment_id":39062441,"body_markdown":"@Sree14 yes at first I tried using `setOnCheckedChangeListener()` for radio button, and also I tried [http://www.mkyong.com/android/android-radio-buttons-example/] but no answer.","body":"@Sree14 yes at first I tried using <code>setOnCheckedChangeListener()</code> for radio button, and also I tried [<a href=\"http://www.mkyong.com/android/android-radio-buttons-example/]\" rel=\"nofollow noreferrer\">mkyong.com/android/android-radio-buttons-example/]</a> but no answer."},{"owner":{"account_id":4087956,"reputation":944,"user_id":3356781,"accept_rate":65,"display_name":"mkafiyan"},"score":0,"creation_date":1407049156,"post_id":25102156,"comment_id":39062717,"body_markdown":"@Sree14 sorry I have another question,I wrote `String gender = genderchoosed.getText().toString();` in `onCheckedChanged` so I can use it as gender type in `float idealweight = idealweight(weight, height, gender, pa, age);` and others function but I cant access gender from my function. how can I solve it?","body":"@Sree14 sorry I have another question,I wrote <code>String gender = genderchoosed.getText().toString();</code> in <code>onCheckedChanged</code> so I can use it as gender type in <code>float idealweight = idealweight(weight, height, gender, pa, age);</code> and others function but I cant access gender from my function. how can I solve it?"},{"owner":{"account_id":4744924,"reputation":1695,"user_id":3836513,"accept_rate":80,"display_name":"Srijith"},"score":0,"creation_date":1407049448,"post_id":25102156,"comment_id":39062759,"body_markdown":"Before onCreate declare your string: `String gender;`. And in your `onCheckedChanged()` just define it as `gender = genderchoosed.getText().toString();`. Now you can access it.","body":"Before onCreate declare your string: <code>String gender;</code>. And in your <code>onCheckedChanged()</code> just define it as <code>gender = genderchoosed.getText().toString();</code>. Now you can access it."},{"owner":{"account_id":4087956,"reputation":944,"user_id":3356781,"accept_rate":65,"display_name":"mkafiyan"},"score":0,"creation_date":1407082524,"post_id":25102156,"comment_id":39070456,"body_markdown":"@Sree14 sorry about streing gender which u said I have to declare before onCreat  I have problem with this case because I have to get the value of gender from `gender = genderchoosed.getText().toString();` and then use it in my function.is there any way which can I solve this problem.","body":"@Sree14 sorry about streing gender which u said I have to declare before onCreat  I have problem with this case because I have to get the value of gender from <code>gender = genderchoosed.getText().toString();</code> and then use it in my function.is there any way which can I solve this problem."},{"owner":{"account_id":4744924,"reputation":1695,"user_id":3836513,"accept_rate":80,"display_name":"Srijith"},"score":0,"creation_date":1407128915,"post_id":25102156,"comment_id":39080868,"body_markdown":"Call that `idealweight` method from your radiogroups `onCheckedChanged` method passing in the parameter as `gender`.","body":"Call that <code>idealweight</code> method from your radiogroups <code>onCheckedChanged</code> method passing in the parameter as <code>gender</code>."},{"owner":{"account_id":4087956,"reputation":944,"user_id":3356781,"accept_rate":65,"display_name":"mkafiyan"},"score":0,"creation_date":1407131034,"post_id":25102156,"comment_id":39081381,"body_markdown":"@Sree14 u mean that I have to call all method which use gender in `onCheckedChanged`?? if i do as u said, when click on the button &quot;save&quot; because `onclick` dosent access to variable in `nCheckedChanged` so cant insert them in db?right???!!!","body":"@Sree14 u mean that I have to call all method which use gender in <code>onCheckedChanged</code>?? if i do as u said, when click on the button &quot;save&quot; because <code>onclick</code> dosent access to variable in <code>nCheckedChanged</code> so cant insert them in db?right???!!!"},{"owner":{"account_id":4744924,"reputation":1695,"user_id":3836513,"accept_rate":80,"display_name":"Srijith"},"score":0,"creation_date":1407137466,"post_id":25102156,"comment_id":39083736,"body_markdown":"Ok if many methods want to refer `gender`, you can do the following:\n\nYou can use getter and setter methods. You have to call the setter method in your `onCheckedChanged` method passing the `gender` as parameter. And those who want to refer the `gender` can simply call the getter methods. Please search about getter and setter methods if you dont know.","body":"Ok if many methods want to refer <code>gender</code>, you can do the following:  You can use getter and setter methods. You have to call the setter method in your <code>onCheckedChanged</code> method passing the <code>gender</code> as parameter. And those who want to refer the <code>gender</code> can simply call the getter methods. Please search about getter and setter methods if you dont know."},{"owner":{"account_id":4087956,"reputation":944,"user_id":3356781,"accept_rate":65,"display_name":"mkafiyan"},"score":0,"creation_date":1407137821,"post_id":25102156,"comment_id":39083894,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/58593/discussion-between-mimi-and-sree14).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/58593/discussion-between-mimi-and-sree14\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":4744924,"reputation":1695,"user_id":3836513,"accept_rate":80,"display_name":"Srijith"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1407048847,"creation_date":1407048847,"answer_id":25102395,"question_id":25102156,"body_markdown":"The thing is that your radio buttons trying to refer the `onRadioButtonClicked` method in your main activity. But you didnt specify that method. Remember, if you&#39;re using `android:onClick` you should not use `setOnCheckedChangeListener` in your Main activity and vice versa.","title":"radio group setOnCheckedChangeListener","body":"<p>The thing is that your radio buttons trying to refer the <code>onRadioButtonClicked</code> method in your main activity. But you didnt specify that method. Remember, if you're using <code>android:onClick</code> you should not use <code>setOnCheckedChangeListener</code> in your Main activity and vice versa.</p>\n"},{"comments":[{"owner":{"account_id":4087956,"reputation":944,"user_id":3356781,"accept_rate":65,"display_name":"mkafiyan"},"score":0,"creation_date":1414531341,"post_id":26618592,"comment_id":41848367,"body_markdown":"can u help me with another question?","body":"can u help me with another question?"},{"owner":{"account_id":2089247,"reputation":1265,"user_id":1859444,"display_name":"Ali"},"score":0,"creation_date":1414657513,"post_id":26618592,"comment_id":41900864,"body_markdown":"sure please post your question here in the comments box or at stackoverflow","body":"sure please post your question here in the comments box or at stackoverflow"},{"owner":{"account_id":4087956,"reputation":944,"user_id":3356781,"accept_rate":65,"display_name":"mkafiyan"},"score":0,"creation_date":1414658300,"post_id":26618592,"comment_id":41901252,"body_markdown":"I have some problem with changing text color of action bar u can find more information here\nhttp://stackoverflow.com/questions/26617694/change-title-text-color-of-action-bar.thank u","body":"I have some problem with changing text color of action bar u can find more information here <a href=\"http://stackoverflow.com/questions/26617694/change-title-text-color-of-action-bar.thank\" title=\"change title text color of action bar.thank\">stackoverflow.com/questions/26617694/&hellip;</a> u"}],"tags":[],"owner":{"account_id":2089247,"reputation":1265,"user_id":1859444,"display_name":"Ali"},"comment_count":3,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1414530792,"creation_date":1414530792,"answer_id":26618592,"question_id":25102156,"body_markdown":"     radioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener()\r\n        {\r\n            public void onCheckedChanged(RadioGroup group, int checkedId) {\r\n                // checkedId is the RadioButton selected\r\n                RadioButton rb=(RadioButton)findViewById(checkedId);\r\n                Toast.makeText(getApplicationContext(), rb.getText(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });","title":"radio group setOnCheckedChangeListener","body":"<pre><code> radioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener()\n    {\n        public void onCheckedChanged(RadioGroup group, int checkedId) {\n            // checkedId is the RadioButton selected\n            RadioButton rb=(RadioButton)findViewById(checkedId);\n            Toast.makeText(getApplicationContext(), rb.getText(), Toast.LENGTH_SHORT).show();\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5022643,"reputation":800,"user_id":4035668,"display_name":"Thiago Ara&#250;jo"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1473979121,"creation_date":1473979121,"answer_id":39521358,"question_id":25102156,"body_markdown":"\r\n    RadioGroup yourRadioGroup = (RadioGroup) findViewById(R.id.radioGroup1);\r\n            yourRadioGroup.setOnCheckedChangeListener(new OnCheckedChangeListener()\r\n            {\r\n                @Override\r\n                public void onCheckedChanged(RadioGroup group, int checkedId)\r\n                {\r\n                    switch(checkedId)\r\n                    {\r\n                    case R.id.radio0:\r\n                        // TODO Something\r\n                        break;\r\n                    case R.id.radio1:\r\n                        // TODO Something\r\n                        break;\r\n                    case R.id.radio2:\r\n                        // TODO Something\r\n                        break;\r\n                    }\r\n                }\r\n            });\r\n\r\n\r\nOr, if you prefer:\r\n\r\n    yourRadioGroupName.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener()\r\n            {\r\n                @Override\r\n                public void onCheckedChanged(RadioGroup group, int checkedId)\r\n                {\r\n                    int idRadioButtonChosen = yourRadioGroupName.getCheckedRadioButtonId();\r\n    \r\n                    if(idRadioButtonChosen &gt; 0){\r\n    \r\n                        radioButtonChosen = (RadioButton) findViewById(idRadioButtonChosen);\r\n                        textViewOnclick.setText(radioButtonChosen.getText());\r\n    \r\n                    }\r\n    \r\n    \r\n                }\r\n            });\r\n\r\n","title":"radio group setOnCheckedChangeListener","body":"<pre><code>RadioGroup yourRadioGroup = (RadioGroup) findViewById(R.id.radioGroup1);\n        yourRadioGroup.setOnCheckedChangeListener(new OnCheckedChangeListener()\n        {\n            @Override\n            public void onCheckedChanged(RadioGroup group, int checkedId)\n            {\n                switch(checkedId)\n                {\n                case R.id.radio0:\n                    // TODO Something\n                    break;\n                case R.id.radio1:\n                    // TODO Something\n                    break;\n                case R.id.radio2:\n                    // TODO Something\n                    break;\n                }\n            }\n        });\n</code></pre>\n\n<p>Or, if you prefer:</p>\n\n<pre><code>yourRadioGroupName.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener()\n        {\n            @Override\n            public void onCheckedChanged(RadioGroup group, int checkedId)\n            {\n                int idRadioButtonChosen = yourRadioGroupName.getCheckedRadioButtonId();\n\n                if(idRadioButtonChosen &gt; 0){\n\n                    radioButtonChosen = (RadioButton) findViewById(idRadioButtonChosen);\n                    textViewOnclick.setText(radioButtonChosen.getText());\n\n                }\n\n\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4933250,"reputation":4859,"user_id":3972291,"accept_rate":100,"display_name":"Enamul Haque"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1584805491,"creation_date":1584805491,"answer_id":60789839,"question_id":25102156,"body_markdown":"**In kotlin You can use bellow like..**\r\n\r\n      radioGroup.setOnCheckedChangeListener(RadioGroup.OnCheckedChangeListener { group, checkedId -&gt;\r\n\r\n              val radio:RadioButton = group.findViewById(checkedId)\r\n              Log.e(&quot;selectedtext--&gt;&quot;,radio.text.toString())\r\n\r\n      })\r\nOr \r\n\r\n    radioGroup.setOnCheckedChangeListener(RadioGroup.OnCheckedChangeListener { group, checkedId -&gt;\r\n\r\n             var selectedId = rg.checkedRadioButtonId\r\n             val radio:RadioButton = group.findViewById(selectedId)\r\n                Log.e(&quot;selectedtext--&gt;&quot;,radio.text.toString())\r\n\r\n       })","title":"radio group setOnCheckedChangeListener","body":"<p><strong>In kotlin You can use bellow like..</strong></p>\n\n<pre><code>  radioGroup.setOnCheckedChangeListener(RadioGroup.OnCheckedChangeListener { group, checkedId -&gt;\n\n          val radio:RadioButton = group.findViewById(checkedId)\n          Log.e(\"selectedtext--&gt;\",radio.text.toString())\n\n  })\n</code></pre>\n\n<p>Or </p>\n\n<pre><code>radioGroup.setOnCheckedChangeListener(RadioGroup.OnCheckedChangeListener { group, checkedId -&gt;\n\n         var selectedId = rg.checkedRadioButtonId\n         val radio:RadioButton = group.findViewById(selectedId)\n            Log.e(\"selectedtext--&gt;\",radio.text.toString())\n\n   })\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19501442,"reputation":2332,"user_id":14267427,"display_name":"Tyler2P"},"score":0,"creation_date":1653326955,"post_id":72343866,"comment_id":127819951,"body_markdown":"Your answer could be improved by adding more information on what the code does and how it helps the OP.","body":"Your answer could be improved by adding more information on what the code does and how it helps the OP."}],"tags":[],"owner":{"account_id":15363174,"reputation":481,"user_id":11083442,"display_name":"sarjeet singh"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1653381877,"creation_date":1653285714,"answer_id":72343866,"question_id":25102156,"body_markdown":"  this code for radio button not working with radio group\r\n \r\n\r\n     radioButton.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n          @Override\r\n          public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\r\n                        \r\n          }\r\n        });","title":"radio group setOnCheckedChangeListener","body":"<p>this code for radio button not working with radio group</p>\n<pre><code> radioButton.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n      @Override\n      public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\n                    \n      }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2966197,"reputation":825,"user_id":2519297,"accept_rate":53,"display_name":"bebosh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664733521,"creation_date":1664733521,"answer_id":73928152,"question_id":25102156,"body_markdown":"You can use this sample in kotlin:\r\n    \r\n    radioGroup.setOnCheckedChangeListener { _, checkedId -&gt;\r\n            when (checkedId) {\r\n                R.id.radioButton1 -&gt; {\r\n\r\n                }\r\n                R.id.radioButton2 -&gt; {\r\n\r\n                }\r\n            }\r\n        }","title":"radio group setOnCheckedChangeListener","body":"<p>You can use this sample in kotlin:</p>\n<pre><code>radioGroup.setOnCheckedChangeListener { _, checkedId -&gt;\n        when (checkedId) {\n            R.id.radioButton1 -&gt; {\n\n            }\n            R.id.radioButton2 -&gt; {\n\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":4087956,"reputation":944,"user_id":3356781,"accept_rate":65,"display_name":"mkafiyan"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40551,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":25102395,"answer_count":6,"score":14,"last_activity_date":1664733521,"creation_date":1407046355,"question_id":25102156,"body_markdown":"I have some problem with radio group, I am new to Android development so I don&#39;t have much idea to how can handle it.This is form which has some input filed and radio group for choosing gender and save button.\r\nbut I don&#39;t know where can I exactly put my radiogroup setoncheakchangelistener? so it gives me errors.\r\n\r\nMAIN ACTIVITY :\r\n\r\n    package com.dietandroidproject;\r\n\r\n    import Databasedata.Person;\r\n    import android.app.Activity;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.RadioButton;\r\n    import android.widget.RadioGroup;\r\n    import android.widget.Spinner;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n\r\n\r\n    public class MainActivity extends Activity {\r\n\r\n\t  @Override\r\n\t  protected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.activity_main);\r\n\t\tfinal RadioGroup genderselected = (RadioGroup) findViewById(R.id.selectgender);\r\n\t\t\r\n\t\tgenderselected.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener()            {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onCheckedChanged(RadioGroup arg0, int selectedId) {\r\n\t\t\t\tselectedId=genderselected.getCheckedRadioButtonId();\r\n\t\t\t\tRadioButton genderchoosed = (RadioButton) findViewById(selectedId);\r\n\t\t\t\tString gender = genderchoosed.getText().toString();\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t });\r\n\r\n        Button saveinformation = (Button) findViewById(R.id.saveinformation);\r\n\t\tsaveinformation.setOnClickListener(new View.OnClickListener() {\r\n\r\n\t\t\tEditText weighttext = (EditText) findViewById(R.id.weighttext);\r\n\t\t\tEditText heighttext = (EditText) findViewById(R.id.heighttext);\r\n\t\t\tEditText usernametext = (EditText) findViewById(R.id.usernametext);\r\n\t\t\tEditText agetext = (EditText) findViewById(R.id.agetext);\r\n            Spinner activitytext = (Spinner) findViewById(R.id.chooseactivity);\r\n\t\t\tButton saveinformation = (Button) findViewById(R.id.saveinformation);\r\n            String pa = activitytext.getSelectedItem().toString();\r\n             @Override\r\n\t\t\tpublic void onClick(View v) {\r\n\r\n\t\t\t\tint weight = (int) Float.parseFloat(weighttext.getText()\r\n\t\t\t\t\t\t.toString());\r\n\t\t\t\tint height = (int) Float.parseFloat(heighttext.getText()\r\n\t\t\t\t\t\t.toString());\r\n\t\t\t\tString username = usernametext.getText().toString();\r\n\t\t\t\tint age = (int) Float.parseFloat(agetext.getText().toString());\r\n\t\t\t\tTextView genderchoosed = (TextView) findViewById(genderselected\r\n\t\t\t\t\t\t.getCheckedRadioButtonId());\r\n\t\t\t\tString gender = genderchoosed.getText().toString();\r\n\t\t\t\tString pa = activitytext.getSelectedItem().toString();\r\n                \r\n           //BMI==========================================================\r\n                int Bmivalue = calculateBMI(weight, height);\r\n\t\t\t\tString bmiInterpretation = interpretBMI(Bmivalue);\r\n\t\t\t\tfloat idealweight = idealweight(weight, height, gender, pa, age);\r\n\t\t\t\tdouble dailycalories=dailycalories(weight,height,gender,pa,age);\r\n                \r\n             //insert data in to db===================================================\r\n               Person person = new Person();\r\n\t\t\t\tperson.setUsername(username);\r\n\t\t\t\tperson.setHeight(height);\r\n\t\t\t\tperson.setWeight(weight);\r\n\t\t\t\tperson.setAge(age);\r\n\t\t\t\tperson.setGender(gender);\r\n\t\t\t\tperson.setPa(pa);\r\n\t\t\t\tperson.setBmivalue(Bmivalue);\r\n\t\t\t\tperson.setBmiInterpretation(bmiInterpretation);\r\n\t\t\t\tperson.setIdealweight(idealweight);\r\n\t\t\t\tperson.setDailycalories(dailycalories);\r\n                Databasedata.DatabaseAdapter dbAdapter = new Databasedata.DatabaseAdapter(\r\n\t\t\t\t\t\tMainActivity.this);\r\n\t\t\t\tdbAdapter.insertPerson(person);\r\n\r\n\t\t\t\tToast.makeText(getApplicationContext(),\r\n\t\t\t\t\t\tBmivalue + &quot;and you are&quot; + bmiInterpretation,\r\n\t\t\t\t\t\tToast.LENGTH_LONG).show();\r\n\r\n\t\t\t   }\r\n\t\t     });\r\n\t        }\r\n            //BMI FUNCTION===============================================\r\n            private int calculateBMI(int weight, int height) {\r\n\r\n\t\t       return (int) (weight / (height * height));\r\n\t        };\r\n\r\n\t        private String interpretBMI(int Bmivalue) {\r\n\r\n\t\t     if (Bmivalue &lt; 18.5) {\r\n\t\t\t  return &quot;Underweight&quot;;\r\n\t\t     } else if (Bmivalue &lt; 25) {\r\n\t\t\t   return &quot;Normal&quot;;\r\n\t\t     } else if (Bmivalue &lt; 30) {\r\n\t\t\t   return &quot;Overweight&quot;;\r\n\t\t     } else {\r\n\t\t\t   return &quot;Obese&quot;;\r\n\t\t     }\r\n\t        }\r\n             //IDEAL WEIGHT========================================\r\n             \r\n\tprivate float idealweight(int weight, int height, String gender, String pa,\r\n\t\t\tint age) {\r\n\t\tfloat x = (float) 0.0;\r\n\t\tint bmi;\r\n\r\n\t\tbmi = idealbmi(age);\r\n\t\tx = bmi * (height * height);\r\n\t\treturn x;\r\n\r\n\t  }\r\n\r\n\t   public int idealbmi(int age) {\r\n\t\tint bmi = 0;\r\n\t\tif (age &gt; 17 &amp;&amp; age &lt;= 19) {\r\n\t\t\tbmi = 21;\r\n\t\t}\r\n\t\tif (age &gt; 19 &amp;&amp; age &lt;= 24) {\r\n\t\t\tbmi = 22;\r\n\t\t}\r\n\t\tif (age &gt; 24 &amp;&amp; age &lt;= 34) {\r\n\t\t\tbmi = 23;\r\n\t\t}\r\n\t\tif (age &gt; 34 &amp;&amp; age &lt;= 44) {\r\n\t\t\tbmi = 24;\r\n\t\t}\r\n\t\tif (age &gt; 44 &amp;&amp; age &lt;= 54) {\r\n\t\t\tbmi = 25;\r\n\t\t}\r\n\t\tif (age &gt; 54 &amp;&amp; age &lt;= 64) {\r\n\t\t\tbmi = 26;\r\n\t\t}\r\n\t\tif (age &gt; 64) {\r\n\t\t\tbmi = 27;\r\n\t\t}\r\n\r\n\t\treturn bmi;\r\n\t    }\r\n        //DAILY CALORIES===============================================\r\n        public double suitablepa(String pa) {\r\n\t\tdouble suitablepa = 0;\r\n\t\tif (pa.equals(&quot;Highly active&quot;)) {\r\n\t\t\tsuitablepa =  1.48;\r\n\t\t}\r\n\t\tif (pa.equals(&quot;Active&quot;)) {\r\n\t\t\tsuitablepa =  1.25;\r\n\t\t}\r\n\t\tif (pa.equals(&quot;Low activity&quot;)) {\r\n\t\t\tsuitablepa =  1.11;\r\n\t\t}\r\n\t\tif (pa.equals(&quot;Sedentary&quot;)) {\r\n\t\t\tsuitablepa =  1;\r\n\t\t}\r\n\t\treturn suitablepa;\r\n\r\n\t  }\r\n\r\n\t  private double dailycalories(int weight, int height, String gender,\r\n\t\t\tString pa, int age) {\r\n\t\tdouble dailycalori = 0;\r\n\t\tdouble i;\r\n\t\tdouble j;\r\n\t\tdouble h;\r\n\t\tdouble k;\r\n\t\tif(gender.equals(&quot;femaleselected&quot;)){\r\n\t\t\t\r\n\t\t\ti=9.36*weight;\r\n\t\t\tj=726*height;\r\n\t\t\th=suitablepa(pa)*(i+j);\r\n\t\t\tk=6.91*age;\r\n\t\t\tdailycalori=354-k+h;\r\n\t\t\t\r\n\t\t}else if(gender.equals(&quot;maleselected&quot;)){\r\n\t\t\t\r\n\t\t\ti=15.91*weight;\r\n\t\t\tj=539.6*height;\r\n\t\t\th=suitablepa(pa)*(i+j);\r\n\t\t\tk=9.53*age;\r\n\t\t\tdailycalori=662-k+h;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\treturn dailycalori;\r\n\t}\r\n    }\r\n\r\nXML CODES\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@drawable/backgroundmain&quot;\r\n    android:orientation=&quot;vertical&quot; &gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/personinformation&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_weight=&quot;1.98&quot; &gt;\r\n\r\n        &lt;EditText\r\n            android:id=&quot;@+id/heighttext&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignLeft=&quot;@+id/usernametext&quot;\r\n            android:layout_below=&quot;@+id/usernametext&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:hint=&quot;Enter Your Height&quot; &gt;\r\n        &lt;/EditText&gt;\r\n\r\n        &lt;EditText\r\n            android:id=&quot;@+id/usernametext&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:hint=&quot;Enter Username&quot; /&gt;\r\n\r\n        &lt;EditText\r\n            android:id=&quot;@+id/weighttext&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignLeft=&quot;@+id/heighttext&quot;\r\n            android:layout_below=&quot;@+id/heighttext&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:hint=&quot;Enter Your Weight&quot; /&gt;\r\n\r\n        &lt;EditText\r\n            android:id=&quot;@+id/agetext&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignLeft=&quot;@+id/weighttext&quot;\r\n            android:layout_below=&quot;@+id/weighttext&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:hint=&quot;Enter Your Age&quot; &gt;\r\n\r\n            &lt;requestFocus /&gt;\r\n        &lt;/EditText&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n    &lt;View\r\n        android:layout_width=&quot;250dp&quot;\r\n        android:layout_height=&quot;1dip&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:background=&quot;#aaa&quot; /&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/choosegender&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_weight=&quot;0.78&quot; &gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/choosefemaleormale&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;30dip&quot;\r\n            android:layout_alignParentLeft=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_marginTop=&quot;10dip&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;Gender : &quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:textColor=&quot;#555&quot;\r\n            android:textSize=&quot;19sp&quot; /&gt;\r\n\r\n        &lt;RadioGroup\r\n            android:id=&quot;@+id/selectgender&quot;\r\n            android:layout_width=&quot;220dip&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@+id/choosefemaleormale&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:orientation=&quot;horizontal&quot; &gt;\r\n\r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/femaleselected&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;left&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:checked=&quot;true&quot;\r\n                android:text=&quot;female&quot;\r\n                android:onClick=&quot;onRadioButtonClicked&quot;\r\n                 /&gt;\r\n\r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/maleselected&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;right&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:text=&quot;male&quot;\r\n                android:onClick=&quot;onRadioButtonClicked&quot; /&gt;\r\n        &lt;/RadioGroup&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\t    &lt;View\r\n        android:layout_width=&quot;250dp&quot;\r\n        android:layout_height=&quot;1dip&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:background=&quot;#aaa&quot; /&gt;\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/choosepa&quot;\r\n        android:layout_width=&quot;250dip&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:layout_gravity=&quot;center&quot; &gt;\r\n\r\n        &lt;Spinner\r\n            android:id=&quot;@+id/chooseactivity&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentLeft=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:entries=&quot;@array/activityitems&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:prompt=&quot;@string/level_of_activity&quot; /&gt;\r\n        \r\n    &lt;/RelativeLayout&gt;\r\n\r\n    &lt;Button\r\n        android:layout_width=&quot;90dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_gravity=&quot;right&quot;\r\n        android:layout_marginBottom=&quot;10dip&quot;\r\n        android:layout_marginRight=&quot;20dp&quot;\r\n        android:layout_weight=&quot;0.46&quot;\r\n        android:background=&quot;@drawable/recent_foods_depressed&quot;\r\n        android:hint=&quot;save&quot;\r\n        android:text=&quot;save&quot;\r\n        android:textColor=&quot;#fff&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:textStyle=&quot;bold&quot; \r\n        android:onClick=&quot;saveinformation&quot;\r\n        android:id=&quot;@+id/saveinformation&quot;/&gt;\r\n\r\n     &lt;/LinearLayout&gt;","title":"radio group setOnCheckedChangeListener","body":"<p>I have some problem with radio group, I am new to Android development so I don't have much idea to how can handle it.This is form which has some input filed and radio group for choosing gender and save button.\nbut I don't know where can I exactly put my radiogroup setoncheakchangelistener? so it gives me errors.</p>\n\n<p>MAIN ACTIVITY :</p>\n\n<pre><code>package com.dietandroidproject;\n\nimport Databasedata.Person;\nimport android.app.Activity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.RadioButton;\nimport android.widget.RadioGroup;\nimport android.widget.Spinner;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\n\npublic class MainActivity extends Activity {\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    final RadioGroup genderselected = (RadioGroup) findViewById(R.id.selectgender);\n\n    genderselected.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener()            {\n\n        @Override\n        public void onCheckedChanged(RadioGroup arg0, int selectedId) {\n            selectedId=genderselected.getCheckedRadioButtonId();\n            RadioButton genderchoosed = (RadioButton) findViewById(selectedId);\n            String gender = genderchoosed.getText().toString();\n\n        }\n     });\n\n    Button saveinformation = (Button) findViewById(R.id.saveinformation);\n    saveinformation.setOnClickListener(new View.OnClickListener() {\n\n        EditText weighttext = (EditText) findViewById(R.id.weighttext);\n        EditText heighttext = (EditText) findViewById(R.id.heighttext);\n        EditText usernametext = (EditText) findViewById(R.id.usernametext);\n        EditText agetext = (EditText) findViewById(R.id.agetext);\n        Spinner activitytext = (Spinner) findViewById(R.id.chooseactivity);\n        Button saveinformation = (Button) findViewById(R.id.saveinformation);\n        String pa = activitytext.getSelectedItem().toString();\n         @Override\n        public void onClick(View v) {\n\n            int weight = (int) Float.parseFloat(weighttext.getText()\n                    .toString());\n            int height = (int) Float.parseFloat(heighttext.getText()\n                    .toString());\n            String username = usernametext.getText().toString();\n            int age = (int) Float.parseFloat(agetext.getText().toString());\n            TextView genderchoosed = (TextView) findViewById(genderselected\n                    .getCheckedRadioButtonId());\n            String gender = genderchoosed.getText().toString();\n            String pa = activitytext.getSelectedItem().toString();\n\n       //BMI==========================================================\n            int Bmivalue = calculateBMI(weight, height);\n            String bmiInterpretation = interpretBMI(Bmivalue);\n            float idealweight = idealweight(weight, height, gender, pa, age);\n            double dailycalories=dailycalories(weight,height,gender,pa,age);\n\n         //insert data in to db===================================================\n           Person person = new Person();\n            person.setUsername(username);\n            person.setHeight(height);\n            person.setWeight(weight);\n            person.setAge(age);\n            person.setGender(gender);\n            person.setPa(pa);\n            person.setBmivalue(Bmivalue);\n            person.setBmiInterpretation(bmiInterpretation);\n            person.setIdealweight(idealweight);\n            person.setDailycalories(dailycalories);\n            Databasedata.DatabaseAdapter dbAdapter = new Databasedata.DatabaseAdapter(\n                    MainActivity.this);\n            dbAdapter.insertPerson(person);\n\n            Toast.makeText(getApplicationContext(),\n                    Bmivalue + \"and you are\" + bmiInterpretation,\n                    Toast.LENGTH_LONG).show();\n\n           }\n         });\n        }\n        //BMI FUNCTION===============================================\n        private int calculateBMI(int weight, int height) {\n\n           return (int) (weight / (height * height));\n        };\n\n        private String interpretBMI(int Bmivalue) {\n\n         if (Bmivalue &lt; 18.5) {\n          return \"Underweight\";\n         } else if (Bmivalue &lt; 25) {\n           return \"Normal\";\n         } else if (Bmivalue &lt; 30) {\n           return \"Overweight\";\n         } else {\n           return \"Obese\";\n         }\n        }\n         //IDEAL WEIGHT========================================\n\nprivate float idealweight(int weight, int height, String gender, String pa,\n        int age) {\n    float x = (float) 0.0;\n    int bmi;\n\n    bmi = idealbmi(age);\n    x = bmi * (height * height);\n    return x;\n\n  }\n\n   public int idealbmi(int age) {\n    int bmi = 0;\n    if (age &gt; 17 &amp;&amp; age &lt;= 19) {\n        bmi = 21;\n    }\n    if (age &gt; 19 &amp;&amp; age &lt;= 24) {\n        bmi = 22;\n    }\n    if (age &gt; 24 &amp;&amp; age &lt;= 34) {\n        bmi = 23;\n    }\n    if (age &gt; 34 &amp;&amp; age &lt;= 44) {\n        bmi = 24;\n    }\n    if (age &gt; 44 &amp;&amp; age &lt;= 54) {\n        bmi = 25;\n    }\n    if (age &gt; 54 &amp;&amp; age &lt;= 64) {\n        bmi = 26;\n    }\n    if (age &gt; 64) {\n        bmi = 27;\n    }\n\n    return bmi;\n    }\n    //DAILY CALORIES===============================================\n    public double suitablepa(String pa) {\n    double suitablepa = 0;\n    if (pa.equals(\"Highly active\")) {\n        suitablepa =  1.48;\n    }\n    if (pa.equals(\"Active\")) {\n        suitablepa =  1.25;\n    }\n    if (pa.equals(\"Low activity\")) {\n        suitablepa =  1.11;\n    }\n    if (pa.equals(\"Sedentary\")) {\n        suitablepa =  1;\n    }\n    return suitablepa;\n\n  }\n\n  private double dailycalories(int weight, int height, String gender,\n        String pa, int age) {\n    double dailycalori = 0;\n    double i;\n    double j;\n    double h;\n    double k;\n    if(gender.equals(\"femaleselected\")){\n\n        i=9.36*weight;\n        j=726*height;\n        h=suitablepa(pa)*(i+j);\n        k=6.91*age;\n        dailycalori=354-k+h;\n\n    }else if(gender.equals(\"maleselected\")){\n\n        i=15.91*weight;\n        j=539.6*height;\n        h=suitablepa(pa)*(i+j);\n        k=9.53*age;\n        dailycalori=662-k+h;\n    }\n\n\n    return dailycalori;\n}\n}\n</code></pre>\n\n<p>XML CODES</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"@drawable/backgroundmain\"\nandroid:orientation=\"vertical\" &gt;\n\n&lt;RelativeLayout\n    android:id=\"@+id/personinformation\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"0dp\"\n    android:layout_weight=\"1.98\" &gt;\n\n    &lt;EditText\n        android:id=\"@+id/heighttext\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignLeft=\"@+id/usernametext\"\n        android:layout_below=\"@+id/usernametext\"\n        android:ems=\"10\"\n        android:hint=\"Enter Your Height\" &gt;\n    &lt;/EditText&gt;\n\n    &lt;EditText\n        android:id=\"@+id/usernametext\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_marginTop=\"20dp\"\n        android:ems=\"10\"\n        android:hint=\"Enter Username\" /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/weighttext\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignLeft=\"@+id/heighttext\"\n        android:layout_below=\"@+id/heighttext\"\n        android:ems=\"10\"\n        android:hint=\"Enter Your Weight\" /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/agetext\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignLeft=\"@+id/weighttext\"\n        android:layout_below=\"@+id/weighttext\"\n        android:ems=\"10\"\n        android:hint=\"Enter Your Age\" &gt;\n\n        &lt;requestFocus /&gt;\n    &lt;/EditText&gt;\n\n&lt;/RelativeLayout&gt;\n\n&lt;View\n    android:layout_width=\"250dp\"\n    android:layout_height=\"1dip\"\n    android:layout_gravity=\"center\"\n    android:layout_marginTop=\"20dp\"\n    android:background=\"#aaa\" /&gt;\n\n&lt;RelativeLayout\n    android:id=\"@+id/choosegender\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"0dp\"\n    android:layout_weight=\"0.78\" &gt;\n\n    &lt;TextView\n        android:id=\"@+id/choosefemaleormale\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"30dip\"\n        android:layout_alignParentLeft=\"true\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_marginTop=\"10dip\"\n        android:gravity=\"center\"\n        android:text=\"Gender : \"\n        android:textAlignment=\"center\"\n        android:textColor=\"#555\"\n        android:textSize=\"19sp\" /&gt;\n\n    &lt;RadioGroup\n        android:id=\"@+id/selectgender\"\n        android:layout_width=\"220dip\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@+id/choosefemaleormale\"\n        android:layout_centerHorizontal=\"true\"\n        android:orientation=\"horizontal\" &gt;\n\n        &lt;RadioButton\n            android:id=\"@+id/femaleselected\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_gravity=\"left\"\n            android:layout_weight=\"1\"\n            android:checked=\"true\"\n            android:text=\"female\"\n            android:onClick=\"onRadioButtonClicked\"\n             /&gt;\n\n        &lt;RadioButton\n            android:id=\"@+id/maleselected\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_gravity=\"right\"\n            android:layout_weight=\"1\"\n            android:text=\"male\"\n            android:onClick=\"onRadioButtonClicked\" /&gt;\n    &lt;/RadioGroup&gt;\n&lt;/RelativeLayout&gt;\n    &lt;View\n    android:layout_width=\"250dp\"\n    android:layout_height=\"1dip\"\n    android:layout_gravity=\"center\"\n    android:layout_marginTop=\"20dp\"\n    android:background=\"#aaa\" /&gt;\n&lt;RelativeLayout\n    android:id=\"@+id/choosepa\"\n    android:layout_width=\"250dip\"\n    android:layout_height=\"0dp\"\n    android:layout_weight=\"1\"\n    android:layout_gravity=\"center\" &gt;\n\n    &lt;Spinner\n        android:id=\"@+id/chooseactivity\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentLeft=\"true\"\n        android:layout_alignParentTop=\"true\"\n        android:entries=\"@array/activityitems\"\n        android:gravity=\"center\"\n        android:prompt=\"@string/level_of_activity\" /&gt;\n\n&lt;/RelativeLayout&gt;\n\n&lt;Button\n    android:layout_width=\"90dp\"\n    android:layout_height=\"0dp\"\n    android:layout_gravity=\"right\"\n    android:layout_marginBottom=\"10dip\"\n    android:layout_marginRight=\"20dp\"\n    android:layout_weight=\"0.46\"\n    android:background=\"@drawable/recent_foods_depressed\"\n    android:hint=\"save\"\n    android:text=\"save\"\n    android:textColor=\"#fff\"\n    android:textSize=\"20sp\"\n    android:textStyle=\"bold\" \n    android:onClick=\"saveinformation\"\n    android:id=\"@+id/saveinformation\"/&gt;\n\n &lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664732284,"creation_date":1664732284,"answer_id":73927988,"question_id":73927942,"body_markdown":"You have to feed your next line `\\n` to the `Scanner` object and then start writing something yourself.\r\n\r\nLike this:\r\n```java\r\nSystem.out.println(&quot;Enter a Message to Encrypt : &quot;);\r\nsc.nextLine(); // Next line is &quot;eaten&quot; here\r\nString message = sc.nextLine(); // Program halts and waits for your msg\r\n```\r\n\r\nYou can find more info [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/13102066/7954021","title":"How do I take sentences as an input in this case?","body":"<p>You have to feed your next line <code>\\n</code> to the <code>Scanner</code> object and then start writing something yourself.</p>\n<p>Like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;Enter a Message to Encrypt : &quot;);\nsc.nextLine(); // Next line is &quot;eaten&quot; here\nString message = sc.nextLine(); // Program halts and waits for your msg\n</code></pre>\n<p>You can find more info <a href=\"https://stackoverflow.com/a/13102066/7954021\">here</a>.</p>\n"}],"owner":{"account_id":26508789,"reputation":1,"user_id":20144479,"display_name":"Mikhil Angre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1664732834,"answer_count":1,"score":-1,"last_activity_date":1664732284,"creation_date":1664731936,"question_id":73927942,"body_markdown":"**Caesar Cipher Code :** \r\nThe code is not letting me input any sentences or strings with spaces even when i am using sc.nextLine(), neither is it giving an error. JUST BLANK.\r\n\r\n```\r\n\r\nimport java.util.*;\r\n\r\npublic class CaesarCipher\r\n{\r\n    protected char[] encoder = new char[26];\r\n    protected char[] decoder = new char[26];\r\n\r\n    /** Constructor that initializes the encryption and decryption arrays */\r\n    public CaesarCipher(int rotation)\r\n    {\r\n        for(int k=0;k&lt;26;k++)\r\n        {\r\n            encoder[k] = (char)(&#39;A&#39; + (k + rotation)%26);\r\n            decoder[k] = (char)(&#39;A&#39; + (k - rotation+26)%26);\r\n        }\r\n    }\r\n\r\n    /** Returns String representing encrypted message. */\r\n    public String encrypt(String message)\r\n    {\r\n        return transform(message,encoder);\r\n    }\r\n\r\n    public String decrypt(String Secret)\r\n    {\r\n        return transform(Secret, decoder);\r\n    }\r\n\r\n    public String transform(String Original,char[] code)\r\n    {\r\n        char msg[] = Original.toCharArray();\r\n\r\n        for(int k=0;k&lt;msg.length;k++)\r\n        {\r\n            if(Character.isUpperCase(msg[k]))\r\n            {\r\n                int j = msg[k] - &#39;A&#39;;\r\n                msg[k] = code[j];\r\n            }\r\n        }\r\n        return new String(msg);\r\n    }\r\n\r\n    public static void main(String args[])\r\n    {\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Enter any number between 1 and 26 : &quot;);\r\n        int r = sc.nextInt();\r\n        System.out.println();\r\n\r\n        CaesarCipher cipher = new CaesarCipher(r);\r\n\r\n        System.out.println(&quot;Encryption code : &quot; + new String(cipher.encoder));\r\n        System.out.println(&quot;Decryption code : &quot; + new String(cipher.decoder));\r\n        System.out.println();\r\n\r\n        System.out.println(&quot;Enter a Message to Encrypt : &quot;);\r\n        String message = sc.nextLine();\r\n\r\n        String coded = cipher.encrypt(message.toUpperCase());\r\n        System.out.println(&quot;Encrypted Message : &quot; + coded);\r\n        System.out.println();\r\n\r\n        System.out.println(&quot;Decrypted Message : &quot; + cipher.decrypt(coded));\r\n        sc.close();\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Output :** \r\n\r\nEnter any number between 1 and 26 :\r\n4\r\n\r\nEncryption code : EFGHIJKLMNOPQRSTUVWXYZABCD\r\nDecryption code : WXYZABCDEFGHIJKLMNOPQRSTUV\r\n\r\nEnter a Message to Encrypt :\r\nEncrypted Message :\r\n\r\nDecrypted Message :\r\n ","title":"How do I take sentences as an input in this case?","body":"<p><strong>Caesar Cipher Code :</strong>\nThe code is not letting me input any sentences or strings with spaces even when i am using sc.nextLine(), neither is it giving an error. JUST BLANK.</p>\n<pre><code>\nimport java.util.*;\n\npublic class CaesarCipher\n{\n    protected char[] encoder = new char[26];\n    protected char[] decoder = new char[26];\n\n    /** Constructor that initializes the encryption and decryption arrays */\n    public CaesarCipher(int rotation)\n    {\n        for(int k=0;k&lt;26;k++)\n        {\n            encoder[k] = (char)('A' + (k + rotation)%26);\n            decoder[k] = (char)('A' + (k - rotation+26)%26);\n        }\n    }\n\n    /** Returns String representing encrypted message. */\n    public String encrypt(String message)\n    {\n        return transform(message,encoder);\n    }\n\n    public String decrypt(String Secret)\n    {\n        return transform(Secret, decoder);\n    }\n\n    public String transform(String Original,char[] code)\n    {\n        char msg[] = Original.toCharArray();\n\n        for(int k=0;k&lt;msg.length;k++)\n        {\n            if(Character.isUpperCase(msg[k]))\n            {\n                int j = msg[k] - 'A';\n                msg[k] = code[j];\n            }\n        }\n        return new String(msg);\n    }\n\n    public static void main(String args[])\n    {\n        Scanner sc = new Scanner(System.in);\n\n        System.out.println(&quot;Enter any number between 1 and 26 : &quot;);\n        int r = sc.nextInt();\n        System.out.println();\n\n        CaesarCipher cipher = new CaesarCipher(r);\n\n        System.out.println(&quot;Encryption code : &quot; + new String(cipher.encoder));\n        System.out.println(&quot;Decryption code : &quot; + new String(cipher.decoder));\n        System.out.println();\n\n        System.out.println(&quot;Enter a Message to Encrypt : &quot;);\n        String message = sc.nextLine();\n\n        String coded = cipher.encrypt(message.toUpperCase());\n        System.out.println(&quot;Encrypted Message : &quot; + coded);\n        System.out.println();\n\n        System.out.println(&quot;Decrypted Message : &quot; + cipher.decrypt(coded));\n        sc.close();\n    }\n\n}\n</code></pre>\n<p><strong>Output :</strong></p>\n<p>Enter any number between 1 and 26 :\n4</p>\n<p>Encryption code : EFGHIJKLMNOPQRSTUVWXYZABCD\nDecryption code : WXYZABCDEFGHIJKLMNOPQRSTUV</p>\n<p>Enter a Message to Encrypt :\nEncrypted Message :</p>\n<p>Decrypted Message :</p>\n"},{"tags":["java","algorithm","sha1"],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664732282,"creation_date":1664732282,"answer_id":73927986,"question_id":73927482,"body_markdown":"To achieve the output you get from the online tool by selecting the input type as hex. It means the input string is a hex of the original string. So you need to decode hex to a string first and calculate sha1.\r\n\r\n```\r\norg.apache.commons.codec.digest.DigestUtils.sha1Hex(org.apache.commons.codec.binary.Hex.decodeHex(&quot;303934393837353974570C61944628F63032313430303030303043384137&quot;))\r\n```\r\nWill give you output `89b302d863e996d73f6fcbcf20489969ca4d593c`","title":"Change the input type of the sha1 alg","body":"<p>To achieve the output you get from the online tool by selecting the input type as hex. It means the input string is a hex of the original string. So you need to decode hex to a string first and calculate sha1.</p>\n<pre><code>org.apache.commons.codec.digest.DigestUtils.sha1Hex(org.apache.commons.codec.binary.Hex.decodeHex(&quot;303934393837353974570C61944628F63032313430303030303043384137&quot;))\n</code></pre>\n<p>Will give you output <code>89b302d863e996d73f6fcbcf20489969ca4d593c</code></p>\n"}],"owner":{"account_id":5004455,"reputation":133,"user_id":4022511,"accept_rate":17,"display_name":"Ramazan Cinardere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73927986,"answer_count":1,"score":1,"last_activity_date":1664732282,"creation_date":1664727863,"question_id":73927482,"body_markdown":"I am faced with a curious task. I have to generate a SHA1 hash based on an input parameter. Input is the following input `303934393837353974570C61944628F63032313430303030303043384137` and the result of the sha1 hash should be `89b302d863e996d73f6fcbcf20489969ca4d593c`. \r\n\r\nBut if I try following:\r\n\r\n       var result = org.apache.commons.codec.digest.DigestUtils.sha1Hex( input);\r\n\r\nThe result will be `e099219046775bc9528599c3077f7f49756f9bb1`.\r\n\r\nThe curious is, thus the online converter [SHA-Online-Tool][1] if I change the input type, then the result will be as expected.\r\n\r\nFor any hint I am grateful!\r\n\r\n\r\n  [1]: https://emn178.github.io/online-tools/sha1.html","title":"Change the input type of the sha1 alg","body":"<p>I am faced with a curious task. I have to generate a SHA1 hash based on an input parameter. Input is the following input <code>303934393837353974570C61944628F63032313430303030303043384137</code> and the result of the sha1 hash should be <code>89b302d863e996d73f6fcbcf20489969ca4d593c</code>.</p>\n<p>But if I try following:</p>\n<pre><code>   var result = org.apache.commons.codec.digest.DigestUtils.sha1Hex( input);\n</code></pre>\n<p>The result will be <code>e099219046775bc9528599c3077f7f49756f9bb1</code>.</p>\n<p>The curious is, thus the online converter <a href=\"https://emn178.github.io/online-tools/sha1.html\" rel=\"nofollow noreferrer\">SHA-Online-Tool</a> if I change the input type, then the result will be as expected.</p>\n<p>For any hint I am grateful!</p>\n"},{"tags":["java","eclipse","selenium","swing","user-interface"],"answers":[{"comments":[{"owner":{"account_id":26508793,"reputation":1,"user_id":20144483,"display_name":"vigese1573"},"score":0,"creation_date":1664732302,"post_id":73927984,"comment_id":130534289,"body_markdown":"How to make it?","body":"How to make it?"}],"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664732245,"creation_date":1664732245,"answer_id":73927984,"question_id":73927967,"body_markdown":"You can&#39;t change it.\r\n\r\nWhat you can do is to create window without that header and custom paint it.","title":"How to change JFrame header color?","body":"<p>You can't change it.</p>\n<p>What you can do is to create window without that header and custom paint it.</p>\n"}],"owner":{"account_id":26508793,"reputation":1,"user_id":20144483,"display_name":"vigese1573"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1664751646,"answer_count":1,"score":-1,"last_activity_date":1664732245,"creation_date":1664732071,"question_id":73927967,"body_markdown":"I&#39;m trying to change `JFrame Header color`, it&#39;s stable with white color by default but i need to change it to black like the body background. ![screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SRJKz.png","title":"How to change JFrame header color?","body":"<p>I'm trying to change <code>JFrame Header color</code>, it's stable with white color by default but i need to change it to black like the body background. <img src=\"https://i.stack.imgur.com/SRJKz.png\" alt=\"screenshot\" /></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1664731519,"creation_date":1664731519,"answer_id":73927893,"question_id":73927859,"body_markdown":"There is no empty constructor in `Vehicle` so a default `super()` in the `Car` copy constructor fails. You can use `super` instead. Like,\r\n\r\n    public Car(Car c){\r\n        super(c.cylinders, c.maker, c.owner);\r\n        this.passengers = c.passengers;\r\n        this.carWeight = c.carWeight;\r\n    }\r\n","title":"Getting this error when working with derived class &quot;error: no suitable constructor found for Vehicle(no arguments)&quot;","body":"<p>There is no empty constructor in <code>Vehicle</code> so a default <code>super()</code> in the <code>Car</code> copy constructor fails. You can use <code>super</code> instead. Like,</p>\n<pre><code>public Car(Car c){\n    super(c.cylinders, c.maker, c.owner);\n    this.passengers = c.passengers;\n    this.carWeight = c.carWeight;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664731531,"creation_date":1664731531,"answer_id":73927894,"question_id":73927859,"body_markdown":"This should do the work:\r\n\r\n```java\r\npublic Car(Car c){\r\n    super(c);\r\n    this.passengers = c.passengers;\r\n    this.carWeight = c.carWeight;\r\n}\r\n```\r\n\r\n### Why is there an error?\r\n\r\nIn your second constructor, an empty `super()` call will be implicitly made. Why? Since you do not call it explicitly and a `Vehicle` object is being constructed. You can add an empty constructor in the `Vehicle` class or use the snippet above.","title":"Getting this error when working with derived class &quot;error: no suitable constructor found for Vehicle(no arguments)&quot;","body":"<p>This should do the work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Car(Car c){\n    super(c);\n    this.passengers = c.passengers;\n    this.carWeight = c.carWeight;\n}\n</code></pre>\n<h3>Why is there an error?</h3>\n<p>In your second constructor, an empty <code>super()</code> call will be implicitly made. Why? Since you do not call it explicitly and a <code>Vehicle</code> object is being constructed. You can add an empty constructor in the <code>Vehicle</code> class or use the snippet above.</p>\n"}],"owner":{"account_id":24588795,"reputation":3,"user_id":18492974,"display_name":"Abdulp032"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1664732891,"answer_count":2,"score":-1,"last_activity_date":1664731531,"creation_date":1664731264,"question_id":73927859,"body_markdown":"I&#39;m working with 2 classes a parent class Vehicle and child class Car, each class has a copy constructor but I get the error\r\n\r\n&gt;     &gt;  &quot;error: no suitable constructor found for Vehicle(no arguments)\r\n&gt;     &gt; public Car(Car c){\r\n&gt;     &gt;                  ^\r\n&gt;     &gt;     constructor Vehicle.Vehicle(int,String,Student) is not applicable\r\n&gt;     &gt;       (actual and formal argument lists differ in length)\r\n&gt;     &gt;     constructor Vehicle.Vehicle(Vehicle) is not applicable\r\n&gt;     &gt;       (actual and formal argument lists differ in length)&quot;\r\n\r\n\r\nThis is when using the copy constructor in the car class and not sure how to fix it.\r\nThe Vehicle class\r\n```\r\npublic class Vehicle{\r\n\r\nint cylinders;\r\nString maker;\r\nStudent owner;\r\n\r\npublic Vehicle (int cylinders, String maker, Student owner){\r\nthis.cylinders = cylinders;\r\nthis.maker = maker;\r\nthis.owner = owner;\r\n}\r\n\r\npublic Vehicle(Vehicle v){\r\nthis.cylinders = v.cylinders;\r\nthis.maker = v.maker;\r\nthis.owner = v.owner;\r\n}\r\n}\r\n\r\n```\r\nThe Car class is as follows\r\n```\r\npublic class Car extends Vehicle{\r\nint passengers;\r\ndouble carWeight;\r\n\r\npublic Car(int cylinders, String maker, Student owner, int passengers, double carWeight){\r\nsuper(cylinders, maker, owner);\r\nthis.passengers = passengers;\r\nthis.carWeight = carWeight;\r\n}\r\n\r\npublic Car(Car c){\r\nthis.cylinders = c.cylinders;\r\nthis.maker = c.maker;\r\nthis.owner = c.owner;\r\nthis.passengers = c.passengers;\r\nthis.carWeight = c.carWeight;\r\n}\r\n}\r\n```\r\n","title":"Getting this error when working with derived class &quot;error: no suitable constructor found for Vehicle(no arguments)&quot;","body":"<p>I'm working with 2 classes a parent class Vehicle and child class Car, each class has a copy constructor but I get the error</p>\n<blockquote>\n<pre><code>&gt;  &quot;error: no suitable constructor found for Vehicle(no arguments)\n&gt; public Car(Car c){\n&gt;                  ^\n&gt;     constructor Vehicle.Vehicle(int,String,Student) is not applicable\n&gt;       (actual and formal argument lists differ in length)\n&gt;     constructor Vehicle.Vehicle(Vehicle) is not applicable\n&gt;       (actual and formal argument lists differ in length)&quot;\n</code></pre>\n</blockquote>\n<p>This is when using the copy constructor in the car class and not sure how to fix it.\nThe Vehicle class</p>\n<pre><code>public class Vehicle{\n\nint cylinders;\nString maker;\nStudent owner;\n\npublic Vehicle (int cylinders, String maker, Student owner){\nthis.cylinders = cylinders;\nthis.maker = maker;\nthis.owner = owner;\n}\n\npublic Vehicle(Vehicle v){\nthis.cylinders = v.cylinders;\nthis.maker = v.maker;\nthis.owner = v.owner;\n}\n}\n\n</code></pre>\n<p>The Car class is as follows</p>\n<pre><code>public class Car extends Vehicle{\nint passengers;\ndouble carWeight;\n\npublic Car(int cylinders, String maker, Student owner, int passengers, double carWeight){\nsuper(cylinders, maker, owner);\nthis.passengers = passengers;\nthis.carWeight = carWeight;\n}\n\npublic Car(Car c){\nthis.cylinders = c.cylinders;\nthis.maker = c.maker;\nthis.owner = c.owner;\nthis.passengers = c.passengers;\nthis.carWeight = c.carWeight;\n}\n}\n</code></pre>\n"},{"tags":["java","spring-boot","amazon-ec2","remote-server","smtpclient"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664575672,"post_id":73914143,"comment_id":130511170,"body_markdown":"Hi &amp; Welcome! Or: You have missing configuration on your remote machine, or: (In your SMTP server) there is a missing &quot;permission&quot; to send/authenticate from &quot;remote&quot; (but from &quot;local&quot;...however)(?)","body":"Hi &amp; Welcome! Or: You have missing configuration on your remote machine, or: (In your SMTP server) there is a missing &quot;permission&quot; to send/authenticate from &quot;remote&quot; (but from &quot;local&quot;...however)(?)"},{"owner":{"account_id":6161515,"reputation":11,"user_id":4802962,"display_name":"Mohamed Gomaa"},"score":1,"creation_date":1664576054,"post_id":73914143,"comment_id":130511241,"body_markdown":"Hi, I confirmed all configs on the remote machine firewall configured properly, but still there is exception,\nIs it possible to send emails using  outlook smtp on amazon instance or we have to use amazon SES to send emails","body":"Hi, I confirmed all configs on the remote machine firewall configured properly, but still there is exception, Is it possible to send emails using  outlook smtp on amazon instance or we have to use amazon SES to send emails"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664576269,"post_id":73914143,"comment_id":130511284,"body_markdown":"Best: ask your SMTP admin!:) ... [Possible dup](https://stackoverflow.com/q/33243450/592355)(no accepted answer;(","body":"Best: ask your SMTP admin!:) ... <a href=\"https://stackoverflow.com/q/33243450/592355\">Possible dup</a>(no accepted answer;("}],"owner":{"account_id":6161515,"reputation":11,"user_id":4802962,"display_name":"Mohamed Gomaa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664730629,"creation_date":1664573620,"question_id":73914143,"body_markdown":"when deploying my jar file on a remote server like AWS EC2 and using it to send emails over smtp connection i got : \r\n\r\nAuthentication failed; nested exception is javax.mail.AuthenticationFailedException: 535 5.7.3 Authentication unsuccessful [MN2PR01CA0051.prod.exchangelabs.com]\r\n\r\nBut it is working proberly when running this app on my local machine,\r\n\r\nIs remote servers or there is a configurations must be added ?","title":"Why I got authentication failed exception when sending emails using spring boot app deployed on AWS EC2?","body":"<p>when deploying my jar file on a remote server like AWS EC2 and using it to send emails over smtp connection i got :</p>\n<p>Authentication failed; nested exception is javax.mail.AuthenticationFailedException: 535 5.7.3 Authentication unsuccessful [MN2PR01CA0051.prod.exchangelabs.com]</p>\n<p>But it is working proberly when running this app on my local machine,</p>\n<p>Is remote servers or there is a configurations must be added ?</p>\n"},{"tags":["java","enums"],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664730434,"creation_date":1664730434,"answer_id":73927765,"question_id":73926351,"body_markdown":"When you have a constant name and a class, you can use the static [two-argument valueOf method](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Enum.html#valueOf(java.lang.Class,java.lang.String)) to convert the name to an enum value:\r\n\r\n    String name = changeState.state();\r\n    Class&lt;? extends Enum&lt;?&gt;&gt; type = changeState.stateType();\r\n    Enum&lt;?&gt; state = Enum.valueOf(type, name);\r\n","title":"Deserialize generified Enum","body":"<p>When you have a constant name and a class, you can use the static <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Enum.html#valueOf(java.lang.Class,java.lang.String)\" rel=\"nofollow noreferrer\">two-argument valueOf method</a> to convert the name to an enum value:</p>\n<pre><code>String name = changeState.state();\nClass&lt;? extends Enum&lt;?&gt;&gt; type = changeState.stateType();\nEnum&lt;?&gt; state = Enum.valueOf(type, name);\n</code></pre>\n"}],"owner":{"account_id":7878270,"reputation":152,"user_id":5953318,"display_name":"giklo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73927765,"answer_count":1,"score":0,"last_activity_date":1664730434,"creation_date":1664718647,"question_id":73926351,"body_markdown":"I want to deserialize a generic enum. Sender and receiver use `ObjectMapper` for `MAPPER`:\r\n\r\n```\r\nString data = MAPPER.writeValueAsString(new ChangeState(this.state.toString(), this.state.getClass()));\r\nbus.talkAsync(exchangeName, ROUTE_SET_STATE, data);\r\n```\r\n\r\nThe Class `ChangeState`\r\n```\r\npublic record ChangeState&lt;E extends Enum&lt;E&gt;&gt;(String someInfo, String state, Class&lt;E&gt; stateType) {}\r\n```\r\n\r\nThe object being sent could look like this:  \r\n`{&quot;someInfo&quot;:&quot;Test&quot;,&quot;state&quot;:&quot;IDLE&quot;,&quot;stateType&quot;:&quot;com.demo.common.states.ServiceAState&quot;}`\r\n`{&quot;someInfo&quot;:&quot;Test&quot;,&quot;state&quot;:&quot;SOME&quot;,&quot;stateType&quot;:&quot;com.demo.common.states.ServiceBState&quot;}`\r\n\r\nI deserialize the message like this:\r\n```\r\nChangeState&lt;? extends Enum&lt;?&gt;&gt; changeState = MAPPER.readValue(message, ChangeState.class);\r\n```\r\n\r\nBut I&#39;m unable to use the enum afterwards. How can I get back the enum (e.g. with `valueOf`)?\r\n\r\n### What I&#39;ve tried\r\n#### Cast\r\nThe following does not work, because `stateType` is an unknown class:\r\n```\r\nClass&lt;? extends Enum&lt;?&gt;&gt; stateType = changeState.stateType();\r\nEnum&lt;?&gt; state = (stateType) changeState.state(); // Error thrown here for the cast type\r\n```\r\n\r\n#### Transmit the enum as enum\r\nI tried to send the enum directly:\r\n```\r\npublic record ChangeState&lt;E extends Enum&lt;E&gt;&gt;(String someInfo, E state) {}\r\n```\r\nBut this leads to an error, because the enum type can&#39;t be identified, since the message looks like this: `{&quot;someInfo&quot;:&quot;Test&quot;,&quot;state&quot;:&quot;IDLE&quot;}`.\r\n\r\n### Additional\r\n- Each service has it&#39;s own state enum, since each service can have different states. The main target ist to make a service, which keeps track of all the states of every other service\r\n- It&#39;s a multi module project. Every module uses the `com.demo.common` module to share classes. The used enums are usable in all modules.\r\n- `bus` is a RabbitMQ BusConnector.","title":"Deserialize generified Enum","body":"<p>I want to deserialize a generic enum. Sender and receiver use <code>ObjectMapper</code> for <code>MAPPER</code>:</p>\n<pre><code>String data = MAPPER.writeValueAsString(new ChangeState(this.state.toString(), this.state.getClass()));\nbus.talkAsync(exchangeName, ROUTE_SET_STATE, data);\n</code></pre>\n<p>The Class <code>ChangeState</code></p>\n<pre><code>public record ChangeState&lt;E extends Enum&lt;E&gt;&gt;(String someInfo, String state, Class&lt;E&gt; stateType) {}\n</code></pre>\n<p>The object being sent could look like this:<br />\n<code>{&quot;someInfo&quot;:&quot;Test&quot;,&quot;state&quot;:&quot;IDLE&quot;,&quot;stateType&quot;:&quot;com.demo.common.states.ServiceAState&quot;}</code>\n<code>{&quot;someInfo&quot;:&quot;Test&quot;,&quot;state&quot;:&quot;SOME&quot;,&quot;stateType&quot;:&quot;com.demo.common.states.ServiceBState&quot;}</code></p>\n<p>I deserialize the message like this:</p>\n<pre><code>ChangeState&lt;? extends Enum&lt;?&gt;&gt; changeState = MAPPER.readValue(message, ChangeState.class);\n</code></pre>\n<p>But I'm unable to use the enum afterwards. How can I get back the enum (e.g. with <code>valueOf</code>)?</p>\n<h3>What I've tried</h3>\n<h4>Cast</h4>\n<p>The following does not work, because <code>stateType</code> is an unknown class:</p>\n<pre><code>Class&lt;? extends Enum&lt;?&gt;&gt; stateType = changeState.stateType();\nEnum&lt;?&gt; state = (stateType) changeState.state(); // Error thrown here for the cast type\n</code></pre>\n<h4>Transmit the enum as enum</h4>\n<p>I tried to send the enum directly:</p>\n<pre><code>public record ChangeState&lt;E extends Enum&lt;E&gt;&gt;(String someInfo, E state) {}\n</code></pre>\n<p>But this leads to an error, because the enum type can't be identified, since the message looks like this: <code>{&quot;someInfo&quot;:&quot;Test&quot;,&quot;state&quot;:&quot;IDLE&quot;}</code>.</p>\n<h3>Additional</h3>\n<ul>\n<li>Each service has it's own state enum, since each service can have different states. The main target ist to make a service, which keeps track of all the states of every other service</li>\n<li>It's a multi module project. Every module uses the <code>com.demo.common</code> module to share classes. The used enums are usable in all modules.</li>\n<li><code>bus</code> is a RabbitMQ BusConnector.</li>\n</ul>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664175585,"post_id":73847368,"comment_id":130402456,"body_markdown":"For starters don&#39;t use `@Data` for entities, that is a bad idea, it generates a wrong `equals`/`hashCode` and `toString` for JPA managed entities. Second implement a proper `equals`/`hashCode`. Next your `assignEvent` is wrong, you should also add the `photo` to the list in `Event`. When deleting you should also remove the `photo` from the list in event. And what you are doing in your controller (the 2 calls to the `photoService` should be 1 service call as that is the use case you are trying to do (and it should all be ok or not). I suggest move the `save` to the `assignEvent` method.","body":"For starters don&#39;t use <code>@Data</code> for entities, that is a bad idea, it generates a wrong <code>equals</code>/<code>hashCode</code> and <code>toString</code> for JPA managed entities. Second implement a proper <code>equals</code>/<code>hashCode</code>. Next your <code>assignEvent</code> is wrong, you should also add the <code>photo</code> to the list in <code>Event</code>. When deleting you should also remove the <code>photo</code> from the list in event. And what you are doing in your controller (the 2 calls to the <code>photoService</code> should be 1 service call as that is the use case you are trying to do (and it should all be ok or not). I suggest move the <code>save</code> to the <code>assignEvent</code> method."},{"owner":{"account_id":25882418,"reputation":11,"user_id":19611218,"display_name":"Bloome"},"score":0,"creation_date":1664211474,"post_id":73847368,"comment_id":130414514,"body_markdown":"Okay, that was very constructive cuz I learnt something by it. But it didn&#39;t solve my problem.","body":"Okay, that was very constructive cuz I learnt something by it. But it didn&#39;t solve my problem."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664266297,"post_id":73847368,"comment_id":130425942,"body_markdown":"What have you changed? Show it in your question.","body":"What have you changed? Show it in your question."},{"owner":{"account_id":25882418,"reputation":11,"user_id":19611218,"display_name":"Bloome"},"score":0,"creation_date":1664302202,"post_id":73847368,"comment_id":130439068,"body_markdown":"Edited the code in question. I removed the @Data and generated getters and setters instead. Modified the assignEvent method to add the photo to the list in Event. Modified the PhotoController as well that it doesn&#39;t call the photoService twice and photo gets saved in the assignEvent instead. It&#39;s still updating the only existing photo instead of creating a new (additional) one. I already tried first creating several photos and then assign them to the event per passing id of event and photo via GET using path variabeles and that worked well. Why doesn&#39;t it work with current controller method..","body":"Edited the code in question. I removed the @Data and generated getters and setters instead. Modified the assignEvent method to add the photo to the list in Event. Modified the PhotoController as well that it doesn&#39;t call the photoService twice and photo gets saved in the assignEvent instead. It&#39;s still updating the only existing photo instead of creating a new (additional) one. I already tried first creating several photos and then assign them to the event per passing id of event and photo via GET using path variabeles and that worked well. Why doesn&#39;t it work with current controller method.."},{"owner":{"account_id":25882418,"reputation":11,"user_id":19611218,"display_name":"Bloome"},"score":0,"creation_date":1664304850,"post_id":73847368,"comment_id":130439886,"body_markdown":"Okay, there is definitely something strange going on in that application. I created 3 events. I can only add more than one photo to event number 3 (!). Event 1 and 2 stay at one photo. Every other event after 3 that I create can hold only one photo again. And the strangest thing is: it removes the photo from Event 3. So if Event 3 has 5 photos and I add the first and only photo to Event number 4 Event 3 will have 4 photos remaining.","body":"Okay, there is definitely something strange going on in that application. I created 3 events. I can only add more than one photo to event number 3 (!). Event 1 and 2 stay at one photo. Every other event after 3 that I create can hold only one photo again. And the strangest thing is: it removes the photo from Event 3. So if Event 3 has 5 photos and I add the first and only photo to Event number 4 Event 3 will have 4 photos remaining."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664351833,"post_id":73847368,"comment_id":130449081,"body_markdown":"Make sure you have a proper `equals`/`hashCode` (see https://vladmihalcea.com/the-best-way-to-implement-equals-hashcode-and-tostring-with-jpa-and-hibernate/), also make sure you are setting the `cascadeType` on the `ManyToOne` to `ALL` so that the even gets properly saved (and you manage the direction of the relation on both sides). The call to `eventService.getEventById(id)` should be in the `assignEvent` method as well, you should just pass the id. Make sure that the `assignEvent` method is transactional.","body":"Make sure you have a proper <code>equals</code>/<code>hashCode</code> (see <a href=\"https://vladmihalcea.com/the-best-way-to-implement-equals-hashcode-and-tostring-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a>), also make sure you are setting the <code>cascadeType</code> on the <code>ManyToOne</code> to <code>ALL</code> so that the even gets properly saved (and you manage the direction of the relation on both sides). The call to <code>eventService.getEventById(id)</code> should be in the <code>assignEvent</code> method as well, you should just pass the id. Make sure that the <code>assignEvent</code> method is transactional."},{"owner":{"account_id":25882418,"reputation":11,"user_id":19611218,"display_name":"Bloome"},"score":0,"creation_date":1664385467,"post_id":73847368,"comment_id":130461669,"body_markdown":"Implemented equals/hashCode in Event and Photo, added the cascadeType moved the eventService.getEventById(id) to the assignEvent method. That all removed the wacky behavior I decribed before. Now it&#39;s back that I can only assign one photo per event. But still no more. If I put the @Transactional at the assignEvent method in PhotoService it doesn&#39;t change the behavior. Rather I can&#39;t delete the Events by using the button anymore.","body":"Implemented equals/hashCode in Event and Photo, added the cascadeType moved the eventService.getEventById(id) to the assignEvent method. That all removed the wacky behavior I decribed before. Now it&#39;s back that I can only assign one photo per event. But still no more. If I put the @Transactional at the assignEvent method in PhotoService it doesn&#39;t change the behavior. Rather I can&#39;t delete the Events by using the button anymore."}],"answers":[{"tags":[],"owner":{"account_id":25882418,"reputation":11,"user_id":19611218,"display_name":"Bloome"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664730237,"creation_date":1664730237,"answer_id":73927745,"question_id":73847368,"body_markdown":"I have solved the problem.\r\n\r\n**Solution:**\r\n\r\n    @PostMapping(&quot;/photo/upload/{id}&quot;)\r\n    public String uploadPhoto(@ModelAttribute (&quot;photo&quot;) Photo photo, @PathVariable long id){\r\n        Photo newPhoto = new Photo();\r\n        newPhoto.setLabel(photo.getLabel());\r\n        newPhoto.setPhotographer(photo.getPhotographer());\r\n        photoService.assignEvent(newPhoto, id);\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n\r\nI had to modify the PostMapping method. Creating there a new Photo object as well and assign the values from the Photo object I got from the form.","title":"Spring Boot: existing object gets altered instead of a new created","body":"<p>I have solved the problem.</p>\n<p><strong>Solution:</strong></p>\n<pre><code>@PostMapping(&quot;/photo/upload/{id}&quot;)\npublic String uploadPhoto(@ModelAttribute (&quot;photo&quot;) Photo photo, @PathVariable long id){\n    Photo newPhoto = new Photo();\n    newPhoto.setLabel(photo.getLabel());\n    newPhoto.setPhotographer(photo.getPhotographer());\n    photoService.assignEvent(newPhoto, id);\n    return &quot;redirect:/&quot;;\n}\n</code></pre>\n<p>I had to modify the PostMapping method. Creating there a new Photo object as well and assign the values from the Photo object I got from the form.</p>\n"}],"owner":{"account_id":25882418,"reputation":11,"user_id":19611218,"display_name":"Bloome"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664730237,"creation_date":1664134776,"question_id":73847368,"body_markdown":"I am stuck with a problem at a Spring Boot project. To take it short: I&#39;m creating a photo archive and want to save multiple photos to each event. I created Photo and Event objects with annotations to use jpa/Hibernate. Also structured the project using repositories, services and controllers. Built a form to create the events. Index page shows all events plus button to upload a photo to the specific event.\r\nAnd that&#39;s where the problem starts. I can create exactly one photo for each event despite I am creating a new Photo object at the controller and pass it to the Thymeleaf template for photo creation form. When filling the form again I am overwriting the data of the single existing photo and I have no clue why.\r\n\r\nPhoto Class:\r\n\r\n  \r\n    @Entity\r\n    @Table(name = &quot;photographies&quot;)\r\n    public class Photo {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    @Column(unique = true, nullable = false)\r\n    private String label;\r\n\r\n    private String photographer;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JsonIgnore\r\n    private Event event;\r\n\r\n    //@Column(nullable = false)\r\n    private Blob image;\r\n\r\n    private Date date;\r\n\r\n    public Photo(){};\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getLabel() {\r\n        return label;\r\n    }\r\n\r\n    public void setLabel(String label) {\r\n        this.label = label;\r\n    }\r\n\r\n    public String getPhotographer() {\r\n        return photographer;\r\n    }\r\n\r\n    public void setPhotographer(String photographer) {\r\n        this.photographer = photographer;\r\n    }\r\n\r\n    public Event getEvent() {\r\n        return event;\r\n    }\r\n\r\n    public void setEvent(Event event) {\r\n        this.event = event;\r\n    }\r\n\r\n    public Blob getImage() {\r\n        return image;\r\n    }\r\n\r\n    public void setImage(Blob image) {\r\n        this.image = image;\r\n    }\r\n\r\n    public Date getDate() {\r\n        return date;\r\n    }\r\n\r\n    public void setDate(Date date) {\r\n        this.date = date;\r\n    }\r\n\r\n    public void assignEvent(Event event){\r\n        this.event = event;\r\n        event.getPhotos().add(this);\r\n    }\r\n\r\n      @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Photo photo = (Photo) o;\r\n        return id == photo.id &amp;&amp; Objects.equals(label, photo.label) &amp;&amp; Objects.equals(photographer, photo.photographer) &amp;&amp; Objects.equals(event, photo.event) &amp;&amp; Objects.equals(image, photo.image) &amp;&amp; Objects.equals(date, photo.date);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(id, label, photographer, event, image, date);\r\n    }\r\n    }\r\n\r\n\r\nEvent Class:\r\n\r\n  \r\n    @Entity\r\n    @Table(name = &quot;event&quot;)\r\n    public class Event {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    private String label;\r\n\r\n    @OneToMany(mappedBy = &quot;event&quot;, fetch = FetchType.LAZY)\r\n    private List&lt;Photo&gt; photos = new LinkedList&lt;&gt;();\r\n\r\n    public Event(String label) {\r\n        this.label = label;\r\n    }\r\n\r\n    public Event(){};\r\n    }\r\n\r\n     @OneToMany(mappedBy = &quot;event&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    private List&lt;Photo&gt; photos = new LinkedList&lt;&gt;();\r\n\r\n    public Event(String label) {\r\n        this.label = label;\r\n    }\r\n\r\n    public Event(){};\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getLabel() {\r\n        return label;\r\n    }\r\n\r\n    public void setLabel(String label) {\r\n        this.label = label;\r\n    }\r\n\r\n    public List&lt;Photo&gt; getPhotos() {\r\n        return photos;\r\n    }\r\n\r\n    public void setPhotos(List&lt;Photo&gt; photos) {\r\n        this.photos = photos;\r\n    }\r\n\r\n    public void addPhoto(Photo photo){\r\n        photos.add(photo);\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Event event = (Event) o;\r\n        return id == event.id &amp;&amp; Objects.equals(label, event.label) &amp;&amp; Objects.equals(photos, event.photos);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(id, label, photos);\r\n    }\r\n    }\r\n\r\nPhoto Service:\r\n\r\n    @Service\r\n    public class PhotoService {\r\n\r\n    @Autowired\r\n    private PhotoRepository photoRepository;\r\n\r\n\r\n    public List&lt;Photo&gt; findAllPhotosOrderedByDate() {\r\n        return photoRepository.findAllByOrderByDateAsc();\r\n    }\r\n\r\n    public void deletePhoto(long id) {\r\n        Photo photo = photoRepository.findById(id).get();\r\n        photoRepository.delete(photo);\r\n    }\r\n\r\n    public void savePhoto(Photo photo){\r\n        photoRepository.save(photo);\r\n    }\r\n\r\n    public Photo getPhotoById(long id){\r\n        return photoRepository.findPhotoById(id);\r\n    }\r\n\r\n    @Transactional\r\n    public void assignEvent(Photo photo, long id){\r\n        photo.assignEvent(eventRepository.findById(id).get());\r\n        photoRepository.save(photo);\r\n    }\r\n\r\nEvent Service:\r\n\r\n    @Service\r\n    public class EventService {\r\n    \r\n    @Autowired\r\n    private EventRepository eventrepository;\r\n\r\n    @Autowired\r\n    private PhotoRepository photoRepository;\r\n\r\n\r\n    public List&lt;Event&gt; showEvents() {\r\n        return eventrepository.findAll();\r\n    }\r\n\r\n    public void saveEvent(Event event) {\r\n        eventrepository.save(event);\r\n    }\r\n\r\n    public void deleteEvent(long id) {\r\n        Event deletedEvent = eventrepository.findById(id).get();\r\n\r\n        for (Photo photo : deletedEvent.getPhotos()){\r\n            photo.assignEvent(null);\r\n            photoRepository.save(photo);\r\n        }\r\n\r\n        eventrepository.delete(deletedEvent);\r\n    }\r\n\r\n    public Event getEventById(long id){\r\n        return eventrepository.findById(id).get();\r\n    }\r\n    }\r\n\r\nPhoto Controller:\r\n\r\n    @Controller\r\n    public class PhotoController {\r\n    \r\n        @Autowired\r\n        private PhotoService photoService;\r\n    \r\n        @Autowired\r\n        private EventService eventService;\r\n    \r\n        @GetMapping(&quot;/photo/upload/{id}&quot;)\r\n        public String uploadPhoto(Model model, @PathVariable long id){\r\n            Photo photo = new Photo();\r\n            model.addAttribute(&quot;photo&quot;, photo);\r\n            model.addAttribute(&quot;id&quot;, id);\r\n            return &quot;uploadPhoto&quot;;\r\n        }\r\n    \r\n        @PostMapping(&quot;/photo/upload/{id}&quot;) \r\n             public String uploadPhoto(@ModelAttribute (&quot;photo&quot;) Photo photo, @PathVariable long id){\r\n        photoService.assignEvent(photo, id);\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n\r\n\r\nIndex html for getting the specific Event-ID when clicking upload button:\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;title&gt;Photo Upload&lt;/title&gt;\r\n        &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;\r\n    &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;nav class=&quot;navbar navbar-expand-lg navbar-dark bg-dark&quot;&gt;\r\n                &lt;a class=&quot;navbar-brand&quot;&gt; &lt;img src=&quot;/images/sticker.webp&quot; width=&quot;50&quot; height=&quot;50&quot; alt=&quot;An image of Bloome&quot;&gt;\r\n                &lt;span class=&quot;navbar-brand mb-0 h1 fs-3 align-middle&quot;&gt;Bloome Fursuit Photographies&lt;/span&gt;\r\n                &lt;/a&gt;\r\n                &lt;div class=&quot;collapse navbar-collapse&quot; id=&quot;navbarSupportedContent&quot;&gt;\r\n                    &lt;ul class=&quot;navbar-nav me-auto&quot;&gt;\r\n                        &lt;li class=&quot;nav-item&quot;&gt;\r\n                            &lt;a class=&quot;nav-link&quot; href=&quot;/event/add&quot;&gt;&lt;p class=&quot;text-light bg-primary m-2 p-2&quot;&gt;Create new event&lt;/p&gt;&lt;/a&gt;\r\n                        &lt;/li&gt;\r\n                    &lt;/ul&gt;\r\n                &lt;/div&gt;\r\n            &lt;/nav&gt;\r\n            &lt;br/&gt;\r\n            &lt;div class=&quot;container&quot;&gt;\r\n                &lt;div class=&quot;row&quot;&gt;\r\n                    &lt;h1&gt;List of events&lt;/h1&gt;\r\n                &lt;/div&gt;\r\n                &lt;br/&gt;\r\n                &lt;table class=&quot;table table-striped&quot;&gt;\r\n                    &lt;thead class=&quot;table-dark&quot;&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;th scope=&quot;col&quot;&gt;Label&lt;/th&gt;\r\n                        &lt;th scope=&quot;col&quot;&gt;Number of photos&lt;/th&gt;\r\n                        &lt;th scope=&quot;col&quot;&gt;Actions&lt;/th&gt;\r\n                    &lt;/tr&gt;\r\n                    &lt;/thead&gt;\r\n                    &lt;tbody&gt;\r\n                    &lt;tr th:each = &quot;event : ${events}&quot;&gt;\r\n                        &lt;th scope=&quot;row&quot; th:text = &quot;${event.label}&quot;&gt;&lt;/th&gt;\r\n                        &lt;td th:text = &quot;${event.photos.size}&quot;&gt;&lt;/td&gt;\r\n                        &lt;td&gt;\r\n                            &lt;a th:href=&quot;@{/photo/upload/{id} (id=${event.id})}&quot; class=&quot;btn btn-primary&quot;&gt;Upload photo&lt;/a&gt;\r\n                            &lt;a th:href=&quot;@{/event/delete/{id} (id=${event.id})}&quot; class=&quot;btn btn-danger&quot;&gt;Delete event&lt;/a&gt;\r\n                        &lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                    &lt;/tbody&gt;\r\n                &lt;/table&gt;\r\n            &lt;/div&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\nPhoto html form:\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n        &lt;head&gt;\r\n            &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n            &lt;title&gt;Upload photo&lt;/title&gt;\r\n            &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;br/&gt;\r\n            &lt;div class=&quot;container&quot;&gt;\r\n                &lt;form th:action = &quot;@{/photo/upload/{id} (id=${id})}&quot; th:object=&quot;${photo}&quot; method = &quot;POST&quot;&gt;\r\n                    &lt;div class=&quot;form-group row&quot;&gt;\r\n                        &lt;div class=&quot;col&quot;&gt;\r\n                            &lt;label for=&quot;labelPhoto&quot; class=&quot;col-sm-2 col-form-label col-form-label-lg&quot;&gt;Label&lt;/label&gt;\r\n                            &lt;input type=&quot;text&quot; class=&quot;form-control form-control-lg rounded-pill&quot; id=&quot;labelPhoto&quot; th:field = &quot;*{label}&quot; placeholder=&quot;Enter label&quot;&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=&quot;col&quot;&gt;\r\n                            &lt;label for=&quot;photographer&quot; class=&quot;col-sm-2 col-form-label col-form-label-lg&quot;&gt;Photographer&lt;/label&gt;\r\n                            &lt;input type=&quot;text&quot; class=&quot;form-control form-control-lg rounded-pill&quot; id=&quot;photographer&quot; th:field = &quot;*{photographer}&quot; placeholder=&quot;Enter photographer&quot;&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;br/&gt;\r\n                    &lt;div class=&quot;col-sm&quot;&gt;\r\n                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary rounded-pill m-2 p-2 align-text-top&quot;&gt;Submit&lt;/button&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/form&gt;\r\n            &lt;/div&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\nI am passing the Event-ID through the GET and the POST-Endpoint of the Photo controller that I can assign there the Event to the photo. As far as I checked it the right ID arrives at &quot;/photo/upload/{id}&quot;. I don&#39;t know why it seems there is no new photo created but instead the only existing gets altered since I don&#39;t reference the existing one when clicking on the upload button.","title":"Spring Boot: existing object gets altered instead of a new created","body":"<p>I am stuck with a problem at a Spring Boot project. To take it short: I'm creating a photo archive and want to save multiple photos to each event. I created Photo and Event objects with annotations to use jpa/Hibernate. Also structured the project using repositories, services and controllers. Built a form to create the events. Index page shows all events plus button to upload a photo to the specific event.\nAnd that's where the problem starts. I can create exactly one photo for each event despite I am creating a new Photo object at the controller and pass it to the Thymeleaf template for photo creation form. When filling the form again I am overwriting the data of the single existing photo and I have no clue why.</p>\n<p>Photo Class:</p>\n<pre><code>@Entity\n@Table(name = &quot;photographies&quot;)\npublic class Photo {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate long id;\n\n@Column(unique = true, nullable = false)\nprivate String label;\n\nprivate String photographer;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JsonIgnore\nprivate Event event;\n\n//@Column(nullable = false)\nprivate Blob image;\n\nprivate Date date;\n\npublic Photo(){};\n\npublic long getId() {\n    return id;\n}\n\npublic void setId(long id) {\n    this.id = id;\n}\n\npublic String getLabel() {\n    return label;\n}\n\npublic void setLabel(String label) {\n    this.label = label;\n}\n\npublic String getPhotographer() {\n    return photographer;\n}\n\npublic void setPhotographer(String photographer) {\n    this.photographer = photographer;\n}\n\npublic Event getEvent() {\n    return event;\n}\n\npublic void setEvent(Event event) {\n    this.event = event;\n}\n\npublic Blob getImage() {\n    return image;\n}\n\npublic void setImage(Blob image) {\n    this.image = image;\n}\n\npublic Date getDate() {\n    return date;\n}\n\npublic void setDate(Date date) {\n    this.date = date;\n}\n\npublic void assignEvent(Event event){\n    this.event = event;\n    event.getPhotos().add(this);\n}\n\n  @Override\npublic boolean equals(Object o) {\n    if (this == o) return true;\n    if (o == null || getClass() != o.getClass()) return false;\n    Photo photo = (Photo) o;\n    return id == photo.id &amp;&amp; Objects.equals(label, photo.label) &amp;&amp; Objects.equals(photographer, photo.photographer) &amp;&amp; Objects.equals(event, photo.event) &amp;&amp; Objects.equals(image, photo.image) &amp;&amp; Objects.equals(date, photo.date);\n}\n\n@Override\npublic int hashCode() {\n    return Objects.hash(id, label, photographer, event, image, date);\n}\n}\n</code></pre>\n<p>Event Class:</p>\n<pre><code>@Entity\n@Table(name = &quot;event&quot;)\npublic class Event {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate long id;\n\nprivate String label;\n\n@OneToMany(mappedBy = &quot;event&quot;, fetch = FetchType.LAZY)\nprivate List&lt;Photo&gt; photos = new LinkedList&lt;&gt;();\n\npublic Event(String label) {\n    this.label = label;\n}\n\npublic Event(){};\n}\n\n @OneToMany(mappedBy = &quot;event&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\nprivate List&lt;Photo&gt; photos = new LinkedList&lt;&gt;();\n\npublic Event(String label) {\n    this.label = label;\n}\n\npublic Event(){};\n\npublic long getId() {\n    return id;\n}\n\npublic void setId(long id) {\n    this.id = id;\n}\n\npublic String getLabel() {\n    return label;\n}\n\npublic void setLabel(String label) {\n    this.label = label;\n}\n\npublic List&lt;Photo&gt; getPhotos() {\n    return photos;\n}\n\npublic void setPhotos(List&lt;Photo&gt; photos) {\n    this.photos = photos;\n}\n\npublic void addPhoto(Photo photo){\n    photos.add(photo);\n}\n\n@Override\npublic boolean equals(Object o) {\n    if (this == o) return true;\n    if (o == null || getClass() != o.getClass()) return false;\n    Event event = (Event) o;\n    return id == event.id &amp;&amp; Objects.equals(label, event.label) &amp;&amp; Objects.equals(photos, event.photos);\n}\n\n@Override\npublic int hashCode() {\n    return Objects.hash(id, label, photos);\n}\n}\n</code></pre>\n<p>Photo Service:</p>\n<pre><code>@Service\npublic class PhotoService {\n\n@Autowired\nprivate PhotoRepository photoRepository;\n\n\npublic List&lt;Photo&gt; findAllPhotosOrderedByDate() {\n    return photoRepository.findAllByOrderByDateAsc();\n}\n\npublic void deletePhoto(long id) {\n    Photo photo = photoRepository.findById(id).get();\n    photoRepository.delete(photo);\n}\n\npublic void savePhoto(Photo photo){\n    photoRepository.save(photo);\n}\n\npublic Photo getPhotoById(long id){\n    return photoRepository.findPhotoById(id);\n}\n\n@Transactional\npublic void assignEvent(Photo photo, long id){\n    photo.assignEvent(eventRepository.findById(id).get());\n    photoRepository.save(photo);\n}\n</code></pre>\n<p>Event Service:</p>\n<pre><code>@Service\npublic class EventService {\n\n@Autowired\nprivate EventRepository eventrepository;\n\n@Autowired\nprivate PhotoRepository photoRepository;\n\n\npublic List&lt;Event&gt; showEvents() {\n    return eventrepository.findAll();\n}\n\npublic void saveEvent(Event event) {\n    eventrepository.save(event);\n}\n\npublic void deleteEvent(long id) {\n    Event deletedEvent = eventrepository.findById(id).get();\n\n    for (Photo photo : deletedEvent.getPhotos()){\n        photo.assignEvent(null);\n        photoRepository.save(photo);\n    }\n\n    eventrepository.delete(deletedEvent);\n}\n\npublic Event getEventById(long id){\n    return eventrepository.findById(id).get();\n}\n}\n</code></pre>\n<p>Photo Controller:</p>\n<pre><code>@Controller\npublic class PhotoController {\n\n    @Autowired\n    private PhotoService photoService;\n\n    @Autowired\n    private EventService eventService;\n\n    @GetMapping(&quot;/photo/upload/{id}&quot;)\n    public String uploadPhoto(Model model, @PathVariable long id){\n        Photo photo = new Photo();\n        model.addAttribute(&quot;photo&quot;, photo);\n        model.addAttribute(&quot;id&quot;, id);\n        return &quot;uploadPhoto&quot;;\n    }\n\n    @PostMapping(&quot;/photo/upload/{id}&quot;) \n         public String uploadPhoto(@ModelAttribute (&quot;photo&quot;) Photo photo, @PathVariable long id){\n    photoService.assignEvent(photo, id);\n    return &quot;redirect:/&quot;;\n}\n</code></pre>\n<p>Index html for getting the specific Event-ID when clicking upload button:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Photo Upload&lt;/title&gt;\n    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;\n&lt;/head&gt;\n    &lt;body&gt;\n        &lt;nav class=&quot;navbar navbar-expand-lg navbar-dark bg-dark&quot;&gt;\n            &lt;a class=&quot;navbar-brand&quot;&gt; &lt;img src=&quot;/images/sticker.webp&quot; width=&quot;50&quot; height=&quot;50&quot; alt=&quot;An image of Bloome&quot;&gt;\n            &lt;span class=&quot;navbar-brand mb-0 h1 fs-3 align-middle&quot;&gt;Bloome Fursuit Photographies&lt;/span&gt;\n            &lt;/a&gt;\n            &lt;div class=&quot;collapse navbar-collapse&quot; id=&quot;navbarSupportedContent&quot;&gt;\n                &lt;ul class=&quot;navbar-nav me-auto&quot;&gt;\n                    &lt;li class=&quot;nav-item&quot;&gt;\n                        &lt;a class=&quot;nav-link&quot; href=&quot;/event/add&quot;&gt;&lt;p class=&quot;text-light bg-primary m-2 p-2&quot;&gt;Create new event&lt;/p&gt;&lt;/a&gt;\n                    &lt;/li&gt;\n                &lt;/ul&gt;\n            &lt;/div&gt;\n        &lt;/nav&gt;\n        &lt;br/&gt;\n        &lt;div class=&quot;container&quot;&gt;\n            &lt;div class=&quot;row&quot;&gt;\n                &lt;h1&gt;List of events&lt;/h1&gt;\n            &lt;/div&gt;\n            &lt;br/&gt;\n            &lt;table class=&quot;table table-striped&quot;&gt;\n                &lt;thead class=&quot;table-dark&quot;&gt;\n                &lt;tr&gt;\n                    &lt;th scope=&quot;col&quot;&gt;Label&lt;/th&gt;\n                    &lt;th scope=&quot;col&quot;&gt;Number of photos&lt;/th&gt;\n                    &lt;th scope=&quot;col&quot;&gt;Actions&lt;/th&gt;\n                &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n                &lt;tr th:each = &quot;event : ${events}&quot;&gt;\n                    &lt;th scope=&quot;row&quot; th:text = &quot;${event.label}&quot;&gt;&lt;/th&gt;\n                    &lt;td th:text = &quot;${event.photos.size}&quot;&gt;&lt;/td&gt;\n                    &lt;td&gt;\n                        &lt;a th:href=&quot;@{/photo/upload/{id} (id=${event.id})}&quot; class=&quot;btn btn-primary&quot;&gt;Upload photo&lt;/a&gt;\n                        &lt;a th:href=&quot;@{/event/delete/{id} (id=${event.id})}&quot; class=&quot;btn btn-danger&quot;&gt;Delete event&lt;/a&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;/tbody&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Photo html form:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n    &lt;head&gt;\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\n        &lt;title&gt;Upload photo&lt;/title&gt;\n        &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;br/&gt;\n        &lt;div class=&quot;container&quot;&gt;\n            &lt;form th:action = &quot;@{/photo/upload/{id} (id=${id})}&quot; th:object=&quot;${photo}&quot; method = &quot;POST&quot;&gt;\n                &lt;div class=&quot;form-group row&quot;&gt;\n                    &lt;div class=&quot;col&quot;&gt;\n                        &lt;label for=&quot;labelPhoto&quot; class=&quot;col-sm-2 col-form-label col-form-label-lg&quot;&gt;Label&lt;/label&gt;\n                        &lt;input type=&quot;text&quot; class=&quot;form-control form-control-lg rounded-pill&quot; id=&quot;labelPhoto&quot; th:field = &quot;*{label}&quot; placeholder=&quot;Enter label&quot;&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;col&quot;&gt;\n                        &lt;label for=&quot;photographer&quot; class=&quot;col-sm-2 col-form-label col-form-label-lg&quot;&gt;Photographer&lt;/label&gt;\n                        &lt;input type=&quot;text&quot; class=&quot;form-control form-control-lg rounded-pill&quot; id=&quot;photographer&quot; th:field = &quot;*{photographer}&quot; placeholder=&quot;Enter photographer&quot;&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;br/&gt;\n                &lt;div class=&quot;col-sm&quot;&gt;\n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary rounded-pill m-2 p-2 align-text-top&quot;&gt;Submit&lt;/button&gt;\n                &lt;/div&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I am passing the Event-ID through the GET and the POST-Endpoint of the Photo controller that I can assign there the Event to the photo. As far as I checked it the right ID arrives at &quot;/photo/upload/{id}&quot;. I don't know why it seems there is no new photo created but instead the only existing gets altered since I don't reference the existing one when clicking on the upload button.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11720407,"reputation":1858,"user_id":8579556,"display_name":"Luca Murra"},"score":1,"creation_date":1664715565,"post_id":73925964,"comment_id":130530754,"body_markdown":"I think the question is not really clear, what are &quot;digits between two numbers&quot;? Can you make an example?","body":"I think the question is not really clear, what are &quot;digits between two numbers&quot;? Can you make an example?"},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1664715592,"post_id":73925964,"comment_id":130530756,"body_markdown":"What is the total number of digits between 1234 and 4980 then?","body":"What is the total number of digits between 1234 and 4980 then?"},{"owner":{"account_id":26505003,"reputation":13,"user_id":20143150,"display_name":"M.A.A"},"score":0,"creation_date":1664715744,"post_id":73925964,"comment_id":130530785,"body_markdown":"The total digits between 1234 and 4980 would be 14988","body":"The total digits between 1234 and 4980 would be 14988"},{"owner":{"account_id":11720407,"reputation":1858,"user_id":8579556,"display_name":"Luca Murra"},"score":0,"creation_date":1664715854,"post_id":73925964,"comment_id":130530811,"body_markdown":"Can you explain your example?","body":"Can you explain your example?"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1664716007,"post_id":73925964,"comment_id":130530833,"body_markdown":"Why 14988? How you calculated that number?","body":"Why 14988? How you calculated that number?"},{"owner":{"account_id":26505003,"reputation":13,"user_id":20143150,"display_name":"M.A.A"},"score":0,"creation_date":1664716011,"post_id":73925964,"comment_id":130530834,"body_markdown":"For example if the first number was 5 and second number was 10 and you were trying to find the total digits between them that would be 5,6,7,8,9,10 we know that 5,6,7,8,9 are single digits so we would add 1+1+1+1+1 and since 10 is a double digit we would add 2, so the sum of 1+1+1+1+1+2 would be the total number of digits between 5 and 10","body":"For example if the first number was 5 and second number was 10 and you were trying to find the total digits between them that would be 5,6,7,8,9,10 we know that 5,6,7,8,9 are single digits so we would add 1+1+1+1+1 and since 10 is a double digit we would add 2, so the sum of 1+1+1+1+1+2 would be the total number of digits between 5 and 10"},{"owner":{"account_id":26505003,"reputation":13,"user_id":20143150,"display_name":"M.A.A"},"score":0,"creation_date":1664716164,"post_id":73925964,"comment_id":130530861,"body_markdown":"I got 14988 because if you subtract 4980 by 1234 + 1 you get 3747, know that 1234 is a 4 digit number, by multiplying 4 by 3747 you get the total amount of digits between the two numbers","body":"I got 14988 because if you subtract 4980 by 1234 + 1 you get 3747, know that 1234 is a 4 digit number, by multiplying 4 by 3747 you get the total amount of digits between the two numbers"}],"answers":[{"comments":[{"owner":{"account_id":26505003,"reputation":13,"user_id":20143150,"display_name":"M.A.A"},"score":0,"creation_date":1664716536,"post_id":73926081,"comment_id":130530911,"body_markdown":"Thank you so much! I completely forgot about for loops I will try this out!","body":"Thank you so much! I completely forgot about for loops I will try this out!"}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664716279,"creation_date":1664716279,"answer_id":73926081,"question_id":73925964,"body_markdown":"Boy, the algorithm is _not_ obvious – your last comment is rather crucial.\r\n\r\nEvidently this question boils down to:\r\n\r\n* For each &#39;number&#39; between the 2, _including_ __both__ of the edges, count how many digits that number has.\r\n* Sum those up.\r\n\r\nFor your example it&#39;s simply `(4980 - 1234 + 1) * 4` = 14988.\r\n\r\nSounds like you simply need to for-loop: `for (int i = 1234; i &lt;= 4980; i++)`, and then for each `i` just figure out how many digits there are and add those.\r\n","title":"The total number of digits between two numbers","body":"<p>Boy, the algorithm is <em>not</em> obvious – your last comment is rather crucial.</p>\n<p>Evidently this question boils down to:</p>\n<ul>\n<li>For each 'number' between the 2, <em>including</em> <strong>both</strong> of the edges, count how many digits that number has.</li>\n<li>Sum those up.</li>\n</ul>\n<p>For your example it's simply <code>(4980 - 1234 + 1) * 4</code> = 14988.</p>\n<p>Sounds like you simply need to for-loop: <code>for (int i = 1234; i &lt;= 4980; i++)</code>, and then for each <code>i</code> just figure out how many digits there are and add those.</p>\n"},{"comments":[{"owner":{"account_id":26505003,"reputation":13,"user_id":20143150,"display_name":"M.A.A"},"score":0,"creation_date":1664748966,"post_id":73927673,"comment_id":130537332,"body_markdown":"Your idea sounds great! Thanks!","body":"Your idea sounds great! Thanks!"}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664730192,"creation_date":1664729657,"answer_id":73927673,"question_id":73925964,"body_markdown":"An straightforward way is to use logarithms.  The number of digits in an integer `n` is `(int)Math.log10(n)+1`.  Assuming you are doing inclusive computations on first thru last it would be as follows:\r\n```\r\n\r\nint sum = 0;\r\nint first = 3;\r\nint last = 3333;\r\nfor (int i = first; i &lt;= last; i++) {\r\n\tsum += Math.log10(i)+1;\r\n}\r\nSystem.out.println(sum);\r\n```\r\nprints\r\n```\r\n12223\r\n```\r\nBut a more efficient and perhaps less obvious way it to forgo `logs` and simply compute in pieces. This will reduce number of iterations of the loop. This works by computing the number of digits and the power in increments. I put in print statements so you can see the progression.\r\n```\r\nint digits = 1;\r\nint power = 10;\r\nint limit = last;\r\nsum = 0;\r\nwhile(power &lt; limit) {\r\n\tif (power &gt; first) {\r\n\t\tsum += (power - first) * digits;\r\n\t\tSystem.out.println(power + &quot; &quot; + first  + &quot; &quot; + digits + &quot; : partial running sum = &quot; + sum);\r\n\t\tfirst = power;\r\n\t}\r\n\t\r\n\tdigits++;\r\n\tpower*= 10;\r\n}\r\nsum += (limit - power/10 + 1)*digits;\r\nSystem.out.println(limit + &quot; &quot; + power/10  + &quot; &quot; + digits + &quot; : partial running sum = &quot; + sum);\r\nSystem.out.println(sum);\r\n```\r\nprints\r\n```\r\n10 3 1 : partial running sum = 7\r\n100 10 2 : partial running sum = 187\r\n1000 100 3 : partial running sum = 2887\r\n3333 1000 4 : final sum = 12223\r\n12223\r\n","title":"The total number of digits between two numbers","body":"<p>An straightforward way is to use logarithms.  The number of digits in an integer <code>n</code> is <code>(int)Math.log10(n)+1</code>.  Assuming you are doing inclusive computations on first thru last it would be as follows:</p>\n<pre><code>\nint sum = 0;\nint first = 3;\nint last = 3333;\nfor (int i = first; i &lt;= last; i++) {\n    sum += Math.log10(i)+1;\n}\nSystem.out.println(sum);\n</code></pre>\n<p>prints</p>\n<pre><code>12223\n</code></pre>\n<p>But a more efficient and perhaps less obvious way it to forgo <code>logs</code> and simply compute in pieces. This will reduce number of iterations of the loop. This works by computing the number of digits and the power in increments. I put in print statements so you can see the progression.</p>\n<pre><code>int digits = 1;\nint power = 10;\nint limit = last;\nsum = 0;\nwhile(power &lt; limit) {\n    if (power &gt; first) {\n        sum += (power - first) * digits;\n        System.out.println(power + &quot; &quot; + first  + &quot; &quot; + digits + &quot; : partial running sum = &quot; + sum);\n        first = power;\n    }\n    \n    digits++;\n    power*= 10;\n}\nsum += (limit - power/10 + 1)*digits;\nSystem.out.println(limit + &quot; &quot; + power/10  + &quot; &quot; + digits + &quot; : partial running sum = &quot; + sum);\nSystem.out.println(sum);\n</code></pre>\n<p>prints</p>\n<pre><code>10 3 1 : partial running sum = 7\n100 10 2 : partial running sum = 187\n1000 100 3 : partial running sum = 2887\n3333 1000 4 : final sum = 12223\n12223\n</code></pre>\n"}],"owner":{"account_id":26505003,"reputation":13,"user_id":20143150,"display_name":"M.A.A"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73927673,"answer_count":2,"score":0,"last_activity_date":1664730192,"creation_date":1664715275,"question_id":73925964,"body_markdown":"I am working on a program right now and part of it requires me to find the total amount of digits between two integers, I have figured it out for integers that have the same amount of digits, e.g. 1234 and 4980 (both have four digits) but I can&#39;t seem to figure it out for the integers that don&#39;t have the same amount of digits, i.e. 3 and 5698 (3 only has one digit and 5698 has four). How might I go about this?","title":"The total number of digits between two numbers","body":"<p>I am working on a program right now and part of it requires me to find the total amount of digits between two integers, I have figured it out for integers that have the same amount of digits, e.g. 1234 and 4980 (both have four digits) but I can't seem to figure it out for the integers that don't have the same amount of digits, i.e. 3 and 5698 (3 only has one digit and 5698 has four). How might I go about this?</p>\n"},{"tags":["java","json","jsonpath"],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664729889,"creation_date":1664729889,"answer_id":73927705,"question_id":42931289,"body_markdown":"You may consider another library _Josson_.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\nDeserialization\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;  \\&quot;Inquiry\\&quot;: {&quot; +\r\n        &quot;    \\&quot;Matches\\&quot;: [&quot; +\r\n        &quot;      {&quot; +\r\n        &quot;        \\&quot;TotalLength\\&quot;: 8,&quot; +\r\n        &quot;        \\&quot;TerminatedRecord\\&quot;: [&quot; +\r\n        &quot;          {&quot; +\r\n        &quot;            \\&quot;RecordMatch\\&quot;: {&quot; +\r\n        &quot;              \\&quot;Name\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;              \\&quot;AsName\\&quot;: \\&quot;M02\\&quot;,&quot; +\r\n        &quot;              \\&quot;Address\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;              \\&quot;PhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;AltPhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;CountrySubdivisionTaxId\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;NationalId\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;Country\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;DBA\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;PrincipalMatch\\&quot;: [&quot; +\r\n        &quot;                {&quot; +\r\n        &quot;                  \\&quot;Name\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;                  \\&quot;Address\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;                  \\&quot;PhoneNumber\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;                  \\&quot;AltPhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;                  \\&quot;NationalId\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;                  \\&quot;DriversLicense\\&quot;: \\&quot;M01\\&quot;&quot; +\r\n        &quot;                }&quot; +\r\n        &quot;              ]&quot; +\r\n        &quot;            }&quot; +\r\n        &quot;          },&quot; +\r\n        &quot;          {&quot; +\r\n        &quot;            \\&quot;RecordMatch\\&quot;: {&quot; +\r\n        &quot;              \\&quot;Name\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;              \\&quot;AsName\\&quot;: \\&quot;M02\\&quot;,&quot; +\r\n        &quot;              \\&quot;Address\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;              \\&quot;PhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;AltPhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;CountrySubdivisionTaxId\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;NationalId\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;Country\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;DBA\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;PrincipalMatch\\&quot;: [&quot; +\r\n        &quot;                {&quot; +\r\n        &quot;                  \\&quot;Name\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;                  \\&quot;Address\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;                  \\&quot;PhoneNumber\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;                  \\&quot;AltPhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;                  \\&quot;NationalId\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;                  \\&quot;DriversLicense\\&quot;: \\&quot;M01\\&quot;&quot; +\r\n        &quot;                }&quot; +\r\n        &quot;              ]&quot; +\r\n        &quot;            }&quot; +\r\n        &quot;          },&quot; +\r\n        &quot;          {&quot; +\r\n        &quot;            \\&quot;RecordMatch\\&quot;: {&quot; +\r\n        &quot;              \\&quot;Name\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;              \\&quot;AsName\\&quot;: \\&quot;M02\\&quot;,&quot; +\r\n        &quot;              \\&quot;Address\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;              \\&quot;PhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;AltPhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;CountrySubdivisionTaxId\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;NationalId\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;Country\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;DBA\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;PrincipalMatch\\&quot;: [&quot; +\r\n        &quot;                {&quot; +\r\n        &quot;                  \\&quot;Name\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;                  \\&quot;Address\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;                  \\&quot;PhoneNumber\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;                  \\&quot;AltPhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;                  \\&quot;NationalId\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;                  \\&quot;DriversLicense\\&quot;: \\&quot;M01\\&quot;&quot; +\r\n        &quot;                }&quot; +\r\n        &quot;              ]&quot; +\r\n        &quot;            }&quot; +\r\n        &quot;          }&quot; +\r\n        &quot;        ]&quot; +\r\n        &quot;      }&quot; +\r\n        &quot;    ]&quot; +\r\n        &quot;  }&quot; +\r\n        &quot;}&quot;);\r\n\r\nQuery\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;Inquiry&quot; +\r\n        &quot;.Matches&quot; +\r\n        &quot;.TerminatedRecord&quot; +\r\n        &quot;.RecordMatch@&quot; +\r\n        &quot;.flatten(&#39;_&#39;)&quot; +\r\n        &quot;.toArray()&quot; +\r\n        &quot;.[in(&#39;M00&#39;,&#39;M01&#39;)]*&quot; +\r\n        &quot;.size()&quot; +\r\n        &quot;.[? &gt;= 3]&quot; +\r\n        &quot;.@size()&quot;);\r\n    System.out.println(node.toPrettyString());\r\n    \r\nOutput\r\n\r\n    3","title":"How to query json using jayway","body":"<p>You may consider another library <em>Josson</em>.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p>Deserialization</p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;  \\&quot;Inquiry\\&quot;: {&quot; +\n    &quot;    \\&quot;Matches\\&quot;: [&quot; +\n    &quot;      {&quot; +\n    &quot;        \\&quot;TotalLength\\&quot;: 8,&quot; +\n    &quot;        \\&quot;TerminatedRecord\\&quot;: [&quot; +\n    &quot;          {&quot; +\n    &quot;            \\&quot;RecordMatch\\&quot;: {&quot; +\n    &quot;              \\&quot;Name\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;              \\&quot;AsName\\&quot;: \\&quot;M02\\&quot;,&quot; +\n    &quot;              \\&quot;Address\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;              \\&quot;PhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;AltPhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;CountrySubdivisionTaxId\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;NationalId\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;Country\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;DBA\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;PrincipalMatch\\&quot;: [&quot; +\n    &quot;                {&quot; +\n    &quot;                  \\&quot;Name\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;                  \\&quot;Address\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;                  \\&quot;PhoneNumber\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;                  \\&quot;AltPhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;                  \\&quot;NationalId\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;                  \\&quot;DriversLicense\\&quot;: \\&quot;M01\\&quot;&quot; +\n    &quot;                }&quot; +\n    &quot;              ]&quot; +\n    &quot;            }&quot; +\n    &quot;          },&quot; +\n    &quot;          {&quot; +\n    &quot;            \\&quot;RecordMatch\\&quot;: {&quot; +\n    &quot;              \\&quot;Name\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;              \\&quot;AsName\\&quot;: \\&quot;M02\\&quot;,&quot; +\n    &quot;              \\&quot;Address\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;              \\&quot;PhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;AltPhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;CountrySubdivisionTaxId\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;NationalId\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;Country\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;DBA\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;PrincipalMatch\\&quot;: [&quot; +\n    &quot;                {&quot; +\n    &quot;                  \\&quot;Name\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;                  \\&quot;Address\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;                  \\&quot;PhoneNumber\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;                  \\&quot;AltPhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;                  \\&quot;NationalId\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;                  \\&quot;DriversLicense\\&quot;: \\&quot;M01\\&quot;&quot; +\n    &quot;                }&quot; +\n    &quot;              ]&quot; +\n    &quot;            }&quot; +\n    &quot;          },&quot; +\n    &quot;          {&quot; +\n    &quot;            \\&quot;RecordMatch\\&quot;: {&quot; +\n    &quot;              \\&quot;Name\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;              \\&quot;AsName\\&quot;: \\&quot;M02\\&quot;,&quot; +\n    &quot;              \\&quot;Address\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;              \\&quot;PhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;AltPhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;CountrySubdivisionTaxId\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;NationalId\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;Country\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;DBA\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;PrincipalMatch\\&quot;: [&quot; +\n    &quot;                {&quot; +\n    &quot;                  \\&quot;Name\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;                  \\&quot;Address\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;                  \\&quot;PhoneNumber\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;                  \\&quot;AltPhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;                  \\&quot;NationalId\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;                  \\&quot;DriversLicense\\&quot;: \\&quot;M01\\&quot;&quot; +\n    &quot;                }&quot; +\n    &quot;              ]&quot; +\n    &quot;            }&quot; +\n    &quot;          }&quot; +\n    &quot;        ]&quot; +\n    &quot;      }&quot; +\n    &quot;    ]&quot; +\n    &quot;  }&quot; +\n    &quot;}&quot;);\n</code></pre>\n<p>Query</p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;Inquiry&quot; +\n    &quot;.Matches&quot; +\n    &quot;.TerminatedRecord&quot; +\n    &quot;.RecordMatch@&quot; +\n    &quot;.flatten('_')&quot; +\n    &quot;.toArray()&quot; +\n    &quot;.[in('M00','M01')]*&quot; +\n    &quot;.size()&quot; +\n    &quot;.[? &gt;= 3]&quot; +\n    &quot;.@size()&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p>Output</p>\n<pre><code>3\n</code></pre>\n"}],"owner":{"account_id":3476714,"reputation":629,"user_id":2909710,"accept_rate":78,"display_name":"Prabhath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664729889,"creation_date":1490109769,"question_id":42931289,"body_markdown":"Definition of Matched Record: When at least three fields have values of M00 or M01 one RecordMatch object.\r\n\r\nHow can we calculate number of RecordMatch Objects qualify as a Matched Record  using Jayway JsonPath? We can calculate it using Java code, but need to calculate using JsonPath expression in the project.\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n     \r\n    {\r\n      &quot;Inquiry&quot;: {\r\n        &quot;Matches&quot;: [\r\n          {\r\n            &quot;TotalLength&quot;: 8,\r\n            &quot;TerminatedRecord&quot;: [\r\n              {\r\n                &quot;RecordMatch&quot;: {\r\n                  &quot;Name&quot;: &quot;M01&quot;,\r\n                  &quot;AsName&quot;: &quot;M02&quot;,\r\n                  &quot;Address&quot;: &quot;M01&quot;,\r\n                  &quot;PhoneNumber&quot;: &quot;M00&quot;,\r\n                  &quot;AltPhoneNumber&quot;: &quot;M00&quot;,\r\n                  &quot;CountrySubdivisionTaxId&quot;: &quot;M00&quot;,\r\n                  &quot;NationalId&quot;: &quot;M00&quot;,\r\n                  &quot;Country&quot;: &quot;M00&quot;,\r\n                  &quot;DBA&quot;: &quot;M00&quot;,\r\n                  &quot;PrincipalMatch&quot;: [\r\n                    {\r\n                      &quot;Name&quot;: &quot;M01&quot;,\r\n                      &quot;Address&quot;: &quot;M01&quot;,\r\n                      &quot;PhoneNumber&quot;: &quot;M01&quot;,\r\n                      &quot;AltPhoneNumber&quot;: &quot;M00&quot;,\r\n                      &quot;NationalId&quot;: &quot;M01&quot;,\r\n                      &quot;DriversLicense&quot;: &quot;M01&quot;\r\n                    }\r\n                  ]\r\n                }\r\n              },\r\n              {\r\n                &quot;RecordMatch&quot;: {\r\n                  &quot;Name&quot;: &quot;M01&quot;,\r\n                  &quot;AsName&quot;: &quot;M02&quot;,\r\n                  &quot;Address&quot;: &quot;M01&quot;,\r\n                  &quot;PhoneNumber&quot;: &quot;M00&quot;,\r\n                  &quot;AltPhoneNumber&quot;: &quot;M00&quot;,\r\n                  &quot;CountrySubdivisionTaxId&quot;: &quot;M00&quot;,\r\n                  &quot;NationalId&quot;: &quot;M00&quot;,\r\n                  &quot;Country&quot;: &quot;M00&quot;,\r\n                  &quot;DBA&quot;: &quot;M00&quot;,\r\n                  &quot;PrincipalMatch&quot;: [\r\n                    {\r\n                      &quot;Name&quot;: &quot;M01&quot;,\r\n                      &quot;Address&quot;: &quot;M01&quot;,\r\n                      &quot;PhoneNumber&quot;: &quot;M01&quot;,\r\n                      &quot;AltPhoneNumber&quot;: &quot;M00&quot;,\r\n                      &quot;NationalId&quot;: &quot;M01&quot;,\r\n                      &quot;DriversLicense&quot;: &quot;M01&quot;\r\n                    }\r\n                  ]\r\n                }\r\n              },\r\n              {\r\n                &quot;RecordMatch&quot;: {\r\n                  &quot;Name&quot;: &quot;M01&quot;,\r\n                  &quot;AsName&quot;: &quot;M02&quot;,\r\n                  &quot;Address&quot;: &quot;M01&quot;,\r\n                  &quot;PhoneNumber&quot;: &quot;M00&quot;,\r\n                  &quot;AltPhoneNumber&quot;: &quot;M00&quot;,\r\n                  &quot;CountrySubdivisionTaxId&quot;: &quot;M00&quot;,\r\n                  &quot;NationalId&quot;: &quot;M00&quot;,\r\n                  &quot;Country&quot;: &quot;M00&quot;,\r\n                  &quot;DBA&quot;: &quot;M00&quot;,\r\n                  &quot;PrincipalMatch&quot;: [\r\n                    {\r\n                      &quot;Name&quot;: &quot;M01&quot;,\r\n                      &quot;Address&quot;: &quot;M01&quot;,\r\n                      &quot;PhoneNumber&quot;: &quot;M01&quot;,\r\n                      &quot;AltPhoneNumber&quot;: &quot;M00&quot;,\r\n                      &quot;NationalId&quot;: &quot;M01&quot;,\r\n                      &quot;DriversLicense&quot;: &quot;M01&quot;\r\n                    }\r\n                  ]\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    }\r\n","title":"How to query json using jayway","body":"<p>Definition of Matched Record: When at least three fields have values of M00 or M01 one RecordMatch object.</p>\n\n<p>How can we calculate number of RecordMatch Objects qualify as a Matched Record  using Jayway JsonPath? We can calculate it using Java code, but need to calculate using JsonPath expression in the project.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n  \"Inquiry\": {\n    \"Matches\": [\n      {\n        \"TotalLength\": 8,\n        \"TerminatedRecord\": [\n          {\n            \"RecordMatch\": {\n              \"Name\": \"M01\",\n              \"AsName\": \"M02\",\n              \"Address\": \"M01\",\n              \"PhoneNumber\": \"M00\",\n              \"AltPhoneNumber\": \"M00\",\n              \"CountrySubdivisionTaxId\": \"M00\",\n              \"NationalId\": \"M00\",\n              \"Country\": \"M00\",\n              \"DBA\": \"M00\",\n              \"PrincipalMatch\": [\n                {\n                  \"Name\": \"M01\",\n                  \"Address\": \"M01\",\n                  \"PhoneNumber\": \"M01\",\n                  \"AltPhoneNumber\": \"M00\",\n                  \"NationalId\": \"M01\",\n                  \"DriversLicense\": \"M01\"\n                }\n              ]\n            }\n          },\n          {\n            \"RecordMatch\": {\n              \"Name\": \"M01\",\n              \"AsName\": \"M02\",\n              \"Address\": \"M01\",\n              \"PhoneNumber\": \"M00\",\n              \"AltPhoneNumber\": \"M00\",\n              \"CountrySubdivisionTaxId\": \"M00\",\n              \"NationalId\": \"M00\",\n              \"Country\": \"M00\",\n              \"DBA\": \"M00\",\n              \"PrincipalMatch\": [\n                {\n                  \"Name\": \"M01\",\n                  \"Address\": \"M01\",\n                  \"PhoneNumber\": \"M01\",\n                  \"AltPhoneNumber\": \"M00\",\n                  \"NationalId\": \"M01\",\n                  \"DriversLicense\": \"M01\"\n                }\n              ]\n            }\n          },\n          {\n            \"RecordMatch\": {\n              \"Name\": \"M01\",\n              \"AsName\": \"M02\",\n              \"Address\": \"M01\",\n              \"PhoneNumber\": \"M00\",\n              \"AltPhoneNumber\": \"M00\",\n              \"CountrySubdivisionTaxId\": \"M00\",\n              \"NationalId\": \"M00\",\n              \"Country\": \"M00\",\n              \"DBA\": \"M00\",\n              \"PrincipalMatch\": [\n                {\n                  \"Name\": \"M01\",\n                  \"Address\": \"M01\",\n                  \"PhoneNumber\": \"M01\",\n                  \"AltPhoneNumber\": \"M00\",\n                  \"NationalId\": \"M01\",\n                  \"DriversLicense\": \"M01\"\n                }\n              ]\n            }\n          }\n        ]\n      }\n    ]\n  }\n}\n</code></pre>\n"},{"tags":["java","android","regex","unicode"],"comments":[{"owner":{"account_id":2996926,"reputation":2436,"user_id":2724879,"accept_rate":59,"display_name":"Yamen Nassif"},"score":0,"creation_date":1506075785,"post_id":46362393,"comment_id":79684246,"body_markdown":"\\u202A is basically a whitespace http://unicode.org/cldr/utility/character.jsp?a=202A&amp;B1=Show refer to this","body":"\\u202A is basically a whitespace <a href=\"http://unicode.org/cldr/utility/character.jsp?a=202A&amp;B1=Show\" rel=\"nofollow noreferrer\">unicode.org/cldr/utility/character.jsp?a=202A&amp;B1=Show</a> refer to this"}],"answers":[{"comments":[{"owner":{"account_id":8232429,"reputation":53,"user_id":6192721,"display_name":"Yuddistira Kiki"},"score":1,"creation_date":1506078023,"post_id":46362476,"comment_id":79685524,"body_markdown":"Thank you for the answer. I try this but result still same &#39;\\u202A&#39; 8234. I confuse is this unicode or what, because the result has 8234.","body":"Thank you for the answer. I try this but result still same &#39;\\u202A&#39; 8234. I confuse is this unicode or what, because the result has 8234."},{"owner":{"account_id":1603649,"reputation":1650,"user_id":1484184,"accept_rate":43,"display_name":"KADEM Mohammed"},"score":0,"creation_date":1636383068,"post_id":46362476,"comment_id":123535012,"body_markdown":"This solution didn&#39;t work","body":"This solution didn&#39;t work"}],"tags":[],"owner":{"account_id":2996926,"reputation":2436,"user_id":2724879,"accept_rate":59,"display_name":"Yamen Nassif"},"comment_count":2,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1506075888,"creation_date":1506075888,"answer_id":46362476,"question_id":46362393,"body_markdown":"according to http://unicode.org/cldr/utility/character.jsp?a=202A&amp;B1=Show `\\u202A` is kind of a whitespace.\r\nIn order to fix it just trim the string.\r\n\r\n    public static String editNoHP (String noHP){\r\n         noHP = noHP.trim();\r\n         // the rest of your code...\r\n    }","title":"Remove character &#39;\\u202A&#39; 8234 from string","body":"<p>according to <a href=\"http://unicode.org/cldr/utility/character.jsp?a=202A&amp;B1=Show\" rel=\"nofollow noreferrer\">http://unicode.org/cldr/utility/character.jsp?a=202A&amp;B1=Show</a> <code>\\u202A</code> is kind of a whitespace.\nIn order to fix it just trim the string.</p>\n\n<pre><code>public static String editNoHP (String noHP){\n     noHP = noHP.trim();\n     // the rest of your code...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8226300,"reputation":136,"user_id":6188514,"accept_rate":100,"display_name":"AnAs51993"},"score":0,"creation_date":1546116907,"post_id":46402699,"comment_id":94784213,"body_markdown":"I only have one instance of that character in my code and needed a much simple solution so I ended up  using this code to solve the problem `.Replace(((Char)8234).ToString(),&quot;&quot;)` or `.Replace((Char)8234,&#39; &#39;).Trime()`  I hope it help someone","body":"I only have one instance of that character in my code and needed a much simple solution so I ended up  using this code to solve the problem <code>.Replace(((Char)8234).ToString(),&quot;&quot;)</code> or <code>.Replace((Char)8234,&#39; &#39;).Trime()</code>  I hope it help someone"}],"tags":[],"owner":{"account_id":8232429,"reputation":53,"user_id":6192721,"display_name":"Yuddistira Kiki"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1506334365,"creation_date":1506334365,"answer_id":46402699,"question_id":46362393,"body_markdown":"Finally, I found out that I can use regex to replace non-Alphanumeric characters.\r\n\r\nSo this is my finale function :\r\n\r\n    public static String editNoHP (String noHPinput){\r\n        String result;\r\n        try {\r\n            noHPinput = noHPinput.trim();\r\n            String noHP = noHPinput;\r\n            noHP = noHP.replaceAll(&quot;[\\\\s\\\\-\\\\.\\\\^:,]&quot;,&quot;&quot;);\r\n            noHP = noHP.replaceAll(&quot;[^A-Za-z0-9]&quot;,&quot;&quot;);\r\n            char isinya = noHP.charAt(0);\r\n\r\n            if(isinya == &#39;0&#39;)\r\n                result = &quot;62&quot;+noHP.substring(1);\r\n            else if(isinya == &#39;+&#39; )\r\n                result = noHP.substring(1);\r\n            else\r\n                result = noHP;\r\n\r\n        }\r\n        catch (Exception e){\r\n            return &quot;&quot;;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\nThis regex remove all unicode characters beside Alphanumeric characters.\r\n\r\n ","title":"Remove character &#39;\\u202A&#39; 8234 from string","body":"<p>Finally, I found out that I can use regex to replace non-Alphanumeric characters.</p>\n\n<p>So this is my finale function :</p>\n\n<pre><code>public static String editNoHP (String noHPinput){\n    String result;\n    try {\n        noHPinput = noHPinput.trim();\n        String noHP = noHPinput;\n        noHP = noHP.replaceAll(\"[\\\\s\\\\-\\\\.\\\\^:,]\",\"\");\n        noHP = noHP.replaceAll(\"[^A-Za-z0-9]\",\"\");\n        char isinya = noHP.charAt(0);\n\n        if(isinya == '0')\n            result = \"62\"+noHP.substring(1);\n        else if(isinya == '+' )\n            result = noHP.substring(1);\n        else\n            result = noHP;\n\n    }\n    catch (Exception e){\n        return \"\";\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>This regex remove all unicode characters beside Alphanumeric characters.</p>\n"},{"tags":[],"owner":{"account_id":21109444,"reputation":81,"user_id":15517762,"display_name":"Yang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648684622,"creation_date":1648684622,"answer_id":71685396,"question_id":46362393,"body_markdown":"I came across the same issue!! Took me several hours to debug, because when I print out the string, the first character was shown as &#39;?&#39;, so I thought it is a question mark. But it isn&#39;t! \r\n\r\nThen I printed out the numerical value of the first character, and it is 8234! I was like, wtf. Completely have no idea why it shows as a question mark. ","title":"Remove character &#39;\\u202A&#39; 8234 from string","body":"<p>I came across the same issue!! Took me several hours to debug, because when I print out the string, the first character was shown as '?', so I thought it is a question mark. But it isn't!</p>\n<p>Then I printed out the numerical value of the first character, and it is 8234! I was like, wtf. Completely have no idea why it shows as a question mark.</p>\n"},{"tags":[],"owner":{"account_id":20206967,"reputation":1,"user_id":14821101,"display_name":"Momen_nasser"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664728838,"creation_date":1655318370,"answer_id":72636351,"question_id":46362393,"body_markdown":"try this\r\n\r\n    const getFirstChar = (string) =&gt; {\r\n    let editString = string?.trim();\r\n    if (editString?.charCodeAt(0) !== 8234) return editString?.charAt(0);\r\n    editString = editString.substring(1);\r\n    return getFirstChar(editString);\r\n    };","title":"Remove character &#39;\\u202A&#39; 8234 from string","body":"<p>try this</p>\n<pre><code>const getFirstChar = (string) =&gt; {\nlet editString = string?.trim();\nif (editString?.charCodeAt(0) !== 8234) return editString?.charAt(0);\neditString = editString.substring(1);\nreturn getFirstChar(editString);\n};\n</code></pre>\n"}],"owner":{"account_id":8232429,"reputation":53,"user_id":6192721,"display_name":"Yuddistira Kiki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3022,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":46402699,"answer_count":4,"score":4,"last_activity_date":1664728838,"creation_date":1506075635,"question_id":46362393,"body_markdown":"I am trying to get character at 0 index in a string:\r\n\r\n    public static String editNoHP (String noHP){\r\n      String result;\r\n      try {\r\n          if(noHP.charAt(0) == &#39;0&#39;)\r\n              result = &quot;62&quot;+noHP.substring(1);\r\n          else if(noHP.charAt(0) == &#39;+&#39; )\r\n              result = noHP.substring(1);\r\n          else if(noHP.charAt(0) == &#39;6&#39;)\r\n              result = noHP;\r\n          else if(noHP.charAt(0) == &#39;6&#39; &amp;&amp; noHP.charAt(1) == &#39;2&#39;)\r\n              result = noHP;\r\n          else if(noHP.charAt(0) == &#39;9&#39;)\r\n              result = noHP;\r\n          else\r\n              result = &quot;62&quot;+noHP;\r\n      }\r\n      catch (Exception e){\r\n          return &quot;&quot;;\r\n      }\r\n\r\n      return result.replaceAll(&quot;[\\\\s\\\\-\\\\.\\\\^:,]&quot;,&quot;&quot;);\r\n    }\r\n\r\nSo I use this function after I query contact, but I found strange result.\r\n\r\nNormal input &amp; output:\r\n\r\n    input = +62 111-1111-1111   output : 6211111111111\r\n    input = 011111111111        output : 6211111111111\r\n\r\nAnd this the strange input and result:\r\n\r\n    input = 011111111111        output : 62011111111111\r\n\r\nSo I try to debug this account and I found when app try to get character at 0 the return is &#39;\\u202A&#39; 8234, not 0.\r\n\r\nI already tried RegEx like:\r\n\r\n    String clean = str.replaceAll(&quot;[^\\\\n\\\\r\\\\t\\\\p{Print}]&quot;, &quot;&quot;); or\r\n    String clean = str.replaceAll(&quot;[^\\\\x20-\\\\x7E]&quot;, &quot;&quot;); or\r\n    String clean = str.replaceAll(&quot;[^\\u0000-\\uFFFF]&quot;, &quot;&quot;); or\r\n    String clean = str.replaceAll(&quot;[^\\\\p{ASCII}]&quot;, &quot;&quot;); or\r\n    String clean = str.replaceAll(&quot;[^\\x00-\\x7F]&quot;, &quot;&quot;); or\r\n    String clean = StringEscapeUtils.unescapeJava(str);\r\n\r\nAll of them return same value &#39;\\u202A&#39; 8234.\r\n\r\nWhat is this character?\r\nHow to fix this problem?\r\n\r\nUpdate :\r\nI try to edit the strange contact and I found strange behaviour. The number is 011111111111. First I put cursor between 0 and 1, then I press delete/backspace to remove 0. The cursor suddenly move to the right of number 1 not on the left. Then I save the contact and run my program. The result is 0, not &#39;\\u202A&#39; 8234. So I think this because the format of number not normal, maybe when first time add this contact or when sync from the google account.\r\n","title":"Remove character &#39;\\u202A&#39; 8234 from string","body":"<p>I am trying to get character at 0 index in a string:</p>\n\n<pre><code>public static String editNoHP (String noHP){\n  String result;\n  try {\n      if(noHP.charAt(0) == '0')\n          result = \"62\"+noHP.substring(1);\n      else if(noHP.charAt(0) == '+' )\n          result = noHP.substring(1);\n      else if(noHP.charAt(0) == '6')\n          result = noHP;\n      else if(noHP.charAt(0) == '6' &amp;&amp; noHP.charAt(1) == '2')\n          result = noHP;\n      else if(noHP.charAt(0) == '9')\n          result = noHP;\n      else\n          result = \"62\"+noHP;\n  }\n  catch (Exception e){\n      return \"\";\n  }\n\n  return result.replaceAll(\"[\\\\s\\\\-\\\\.\\\\^:,]\",\"\");\n}\n</code></pre>\n\n<p>So I use this function after I query contact, but I found strange result.</p>\n\n<p>Normal input &amp; output:</p>\n\n<pre><code>input = +62 111-1111-1111   output : 6211111111111\ninput = 011111111111        output : 6211111111111\n</code></pre>\n\n<p>And this the strange input and result:</p>\n\n<pre><code>input = 011111111111        output : 62011111111111\n</code></pre>\n\n<p>So I try to debug this account and I found when app try to get character at 0 the return is '\\u202A' 8234, not 0.</p>\n\n<p>I already tried RegEx like:</p>\n\n<pre><code>String clean = str.replaceAll(\"[^\\\\n\\\\r\\\\t\\\\p{Print}]\", \"\"); or\nString clean = str.replaceAll(\"[^\\\\x20-\\\\x7E]\", \"\"); or\nString clean = str.replaceAll(\"[^\\u0000-\\uFFFF]\", \"\"); or\nString clean = str.replaceAll(\"[^\\\\p{ASCII}]\", \"\"); or\nString clean = str.replaceAll(\"[^\\x00-\\x7F]\", \"\"); or\nString clean = StringEscapeUtils.unescapeJava(str);\n</code></pre>\n\n<p>All of them return same value '\\u202A' 8234.</p>\n\n<p>What is this character?\nHow to fix this problem?</p>\n\n<p>Update :\nI try to edit the strange contact and I found strange behaviour. The number is 011111111111. First I put cursor between 0 and 1, then I press delete/backspace to remove 0. The cursor suddenly move to the right of number 1 not on the left. Then I save the contact and run my program. The result is 0, not '\\u202A' 8234. So I think this because the format of number not normal, maybe when first time add this contact or when sync from the google account.</p>\n"},{"tags":["java","gradle","environment-variables","build.gradle","gradle.properties"],"answers":[{"tags":[],"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1573853012,"creation_date":1573853012,"answer_id":58884864,"question_id":58868401,"body_markdown":"&gt; could not find any way of accessing environment variables in my gradle.properties.\r\n\r\nYou can&#39;t. `gradle.properties` is not anything fancy, it is a [standard properties file](https://docs.oracle.com/javase/tutorial/essential/environment/properties.html).\r\n\r\nYou would need to post-process the properties somehow as indicated in [this](https://stackoverflow.com/a/2263944/2382650). Currently, Gradle does not offer any such functionality to &quot;custom load&quot; `gradle.properties`.\r\n\r\n","title":"Does gradle.properties have access to environment variables","body":"<blockquote>\n  <p>could not find any way of accessing environment variables in my gradle.properties.</p>\n</blockquote>\n\n<p>You can't. <code>gradle.properties</code> is not anything fancy, it is a <a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/properties.html\" rel=\"noreferrer\">standard properties file</a>.</p>\n\n<p>You would need to post-process the properties somehow as indicated in <a href=\"https://stackoverflow.com/a/2263944/2382650\">this</a>. Currently, Gradle does not offer any such functionality to \"custom load\" <code>gradle.properties</code>.</p>\n"},{"comments":[{"owner":{"account_id":2183673,"reputation":12897,"user_id":1932588,"display_name":"Lee Meador"},"score":5,"creation_date":1602183608,"post_id":62073832,"comment_id":113647805,"body_markdown":"Your statement is true in that only the specially named env variables get autoloaded into gradle&#39;s internal properties. But you can explicitly use System.getEnv(&#39;ENV_VAR&quot;) to load any envrionment variable into gradle scripts.","body":"Your statement is true in that only the specially named env variables get autoloaded into gradle&#39;s internal properties. But you can explicitly use System.getEnv(&#39;ENV_VAR&quot;) to load any envrionment variable into gradle scripts."}],"tags":[],"owner":{"account_id":1833513,"reputation":151,"user_id":1664344,"display_name":"ivInMtl"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1590697223,"creation_date":1590697223,"answer_id":62073832,"question_id":58868401,"body_markdown":"Not all environment variables are visible to gradle. If you can name them with the special prefix `ORG_GRADLE_PROJECT_` these will be available. You can read about it [here][1]\r\n \r\n`ORG_GRADLE_PROJECT_foo` can be accessed as `foo` within gradle. \r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/build_environment.html#sec:project_properties","title":"Does gradle.properties have access to environment variables","body":"<p>Not all environment variables are visible to gradle. If you can name them with the special prefix <code>ORG_GRADLE_PROJECT_</code> these will be available. You can read about it <a href=\"https://docs.gradle.org/current/userguide/build_environment.html#sec:project_properties\" rel=\"noreferrer\">here</a></p>\n\n<p><code>ORG_GRADLE_PROJECT_foo</code> can be accessed as <code>foo</code> within gradle. </p>\n"},{"tags":[],"owner":{"account_id":20209231,"reputation":1,"user_id":14822670,"display_name":"JustinB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607941659,"creation_date":1607941659,"answer_id":65287347,"question_id":58868401,"body_markdown":"From https://docs.gradle.org/current/userguide/build_environment.html\r\n&quot;... but if an option is configured in multiple locations, the first one wins:\r\n\r\nsystem properties, e.g. when -Dgradle.user.home is set on the command line.&quot;\r\n\r\nIn Unix you could do like this: -Dgradle.user.home=$GRADLE_USER_HOME","title":"Does gradle.properties have access to environment variables","body":"<p>From <a href=\"https://docs.gradle.org/current/userguide/build_environment.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/build_environment.html</a>\n&quot;... but if an option is configured in multiple locations, the first one wins:</p>\n<p>system properties, e.g. when -Dgradle.user.home is set on the command line.&quot;</p>\n<p>In Unix you could do like this: -Dgradle.user.home=$GRADLE_USER_HOME</p>\n"},{"tags":[],"owner":{"account_id":14720612,"reputation":384,"user_id":10631354,"display_name":"Funyinoluwa Kashimawo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1664728607,"creation_date":1664728607,"answer_id":73927568,"question_id":58868401,"body_markdown":"According this [Gradle documentation][1] documentation. Environment Variable that follows this name pattern &quot;ORG_GRADLE_PROJECT_foo=bar&quot; will be added as a gradle property with the name &quot;foo&quot;\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/build_environment.html#sec:project_properties","title":"Does gradle.properties have access to environment variables","body":"<p>According this <a href=\"https://docs.gradle.org/current/userguide/build_environment.html#sec:project_properties\" rel=\"nofollow noreferrer\">Gradle documentation</a> documentation. Environment Variable that follows this name pattern &quot;ORG_GRADLE_PROJECT_foo=bar&quot; will be added as a gradle property with the name &quot;foo&quot;</p>\n"}],"owner":{"account_id":7049112,"reputation":1696,"user_id":5398884,"accept_rate":100,"display_name":"Tim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30142,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":58884864,"answer_count":4,"score":12,"last_activity_date":1664728607,"creation_date":1573776301,"question_id":58868401,"body_markdown":"I looked around and could not find any way of accessing environment variables in my gradle.properties.\r\n\r\n**What I can do:** In my build.gradle I can access environment variables like this `System.getenv(&quot;MY_VAR&quot;)`. I would like to do the same in my gradle.properties.\r\n\r\n**Example of what I want to do:** In my gradle.properties replace `build.foo=bar` with `build.foo=System.getenv(&quot;BAR&quot;)`\r\n\r\nSo far all my attempts to access environment variables from gradle.properties have failed.\r\n\r\nAny insight into the matter would be great, thanks!","title":"Does gradle.properties have access to environment variables","body":"<p>I looked around and could not find any way of accessing environment variables in my gradle.properties.</p>\n\n<p><strong>What I can do:</strong> In my build.gradle I can access environment variables like this <code>System.getenv(\"MY_VAR\")</code>. I would like to do the same in my gradle.properties.</p>\n\n<p><strong>Example of what I want to do:</strong> In my gradle.properties replace <code>build.foo=bar</code> with <code>build.foo=System.getenv(\"BAR\")</code></p>\n\n<p>So far all my attempts to access environment variables from gradle.properties have failed.</p>\n\n<p>Any insight into the matter would be great, thanks!</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1663851252,"post_id":73814971,"comment_id":130339816,"body_markdown":"How does the posted code relate to your question?  If it solves the problem, why are you here?  If it doesn&#39;t, how is it deficient?","body":"How does the posted code relate to your question?  If it solves the problem, why are you here?  If it doesn&#39;t, how is it deficient?"},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":2,"creation_date":1663851362,"post_id":73814971,"comment_id":130339860,"body_markdown":"&quot;Logically&quot; 2 arrays with the same items in different orders are *not* identical.","body":"&quot;Logically&quot; 2 arrays with the same items in different orders are <i>not</i> identical."},{"owner":{"account_id":6767185,"reputation":17855,"user_id":5211833,"accept_rate":83,"display_name":"Adriaan"},"score":0,"creation_date":1664366384,"post_id":73814971,"comment_id":130454293,"body_markdown":"Welcome to Stack Overflow! Please do not add answers to the question body itself. Instead, you should add it as an answer. [Answering your own question is allowed and even encouraged](https://stackoverflow.com/help/self-answer).","body":"Welcome to Stack Overflow! Please do not add answers to the question body itself. Instead, you should add it as an answer. <a href=\"https://stackoverflow.com/help/self-answer\">Answering your own question is allowed and even encouraged</a>."}],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664727437,"creation_date":1664727437,"answer_id":73927419,"question_id":73814971,"body_markdown":"_Josson &amp; Jossons_ has operators `&lt;==&gt;` to compare two JSON datasets.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\nDeserialization\r\n\r\n    Jossons jossons = new Jossons();\r\n    jossons.putDataset(&quot;json1&quot;, Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;\\&quot;name\\&quot;:\\&quot;Jack\\&quot;,&quot; +\r\n        &quot;\\&quot;student_ID\\&quot;:1,&quot; +\r\n        &quot;\\&quot;subject\\&quot;:[ {&quot; +\r\n        &quot;\\&quot;marks\\&quot;:50,&quot; +\r\n        &quot;\\&quot;subjectId\\&quot;:\\&quot;PHY\\&quot;,&quot; +\r\n        &quot;\\&quot;subjectName\\&quot;:\\&quot;Physics\\&quot;&quot; +\r\n        &quot;}, {&quot; +\r\n        &quot;\\&quot;marks\\&quot;:60,&quot; +\r\n        &quot;\\&quot;subjectId\\&quot;:\\&quot;CHE\\&quot;,&quot; +\r\n        &quot;\\&quot;subjectName\\&quot;:\\&quot;Chemistry\\&quot;&quot; +\r\n        &quot;} ]&quot; +\r\n        &quot;}&quot;));\r\n    jossons.putDataset(&quot;json2&quot;, Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;\\&quot;name\\&quot;:\\&quot;Jack\\&quot;,&quot; +\r\n        &quot;\\&quot;student_ID\\&quot;:1,&quot; +\r\n        &quot;\\&quot;subject\\&quot;:[ {&quot; +\r\n        &quot;\\&quot;marks\\&quot;:60,&quot; +\r\n        &quot;\\&quot;subjectId\\&quot;:\\&quot;CHE\\&quot;,&quot; +\r\n        &quot;\\&quot;subjectName\\&quot;:\\&quot;Chemistry\\&quot;&quot; +\r\n        &quot;}, {&quot; +\r\n        &quot;\\&quot;marks\\&quot;:50,&quot; +\r\n        &quot;\\&quot;subjectId\\&quot;:\\&quot;PHY\\&quot;,&quot; +\r\n        &quot;\\&quot;subjectName\\&quot;:\\&quot;Physics\\&quot;&quot; +\r\n        &quot;} ]&quot; +\r\n        &quot;}&quot;));\r\n    jossons.putDataset(&quot;json3&quot;, Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;\\&quot;name\\&quot;:\\&quot;Jack\\&quot;,&quot; +\r\n        &quot;\\&quot;student_ID\\&quot;:1,&quot; +\r\n        &quot;\\&quot;subject\\&quot;:[ {&quot; +\r\n        &quot;\\&quot;marks\\&quot;:60,&quot; +\r\n        &quot;\\&quot;subjectId\\&quot;:\\&quot;CHE\\&quot;,&quot; +\r\n        &quot;\\&quot;subjectName\\&quot;:\\&quot;Chemistry\\&quot;&quot; +\r\n        &quot;}, {&quot; +\r\n        &quot;\\&quot;marks\\&quot;:70,&quot; +\r\n        &quot;\\&quot;subjectId\\&quot;:\\&quot;BIO\\&quot;,&quot; +\r\n        &quot;\\&quot;subjectName\\&quot;:\\&quot;Biology\\&quot;&quot; +\r\n        &quot;} ]&quot; +\r\n        &quot;}&quot;));\r\n\r\nQuery\r\n\r\n    JsonNode node = jossons.evaluateQuery(&quot;json1 &lt;==&gt; json2&quot;);\r\n    System.out.println(&quot;json1 &lt;==&gt; json2 : &quot; + node.toString());\r\n\r\n    node = jossons.evaluateQuery(&quot;json1 &lt;==&gt; json3&quot;);\r\n    System.out.println(&quot;json1 &lt;==&gt; json3 : &quot; + node.toString());\r\n\r\n    node = jossons.evaluateQuery(&quot;json2 &lt;==&gt; json3&quot;);\r\n    System.out.println(&quot;json2 &lt;==&gt; json3 : &quot; + node.toString());\r\n\r\nOutput\r\n\r\n    json1 &lt;==&gt; json2 : true\r\n    json1 &lt;==&gt; json3 : false\r\n    json2 &lt;==&gt; json3 : false","title":"Comparing two JSON objects irrespective of json array sequence in them using java","body":"<p><em>Josson &amp; Jossons</em> has operators <code>&lt;==&gt;</code> to compare two JSON datasets.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p>Deserialization</p>\n<pre><code>Jossons jossons = new Jossons();\njossons.putDataset(&quot;json1&quot;, Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;\\&quot;name\\&quot;:\\&quot;Jack\\&quot;,&quot; +\n    &quot;\\&quot;student_ID\\&quot;:1,&quot; +\n    &quot;\\&quot;subject\\&quot;:[ {&quot; +\n    &quot;\\&quot;marks\\&quot;:50,&quot; +\n    &quot;\\&quot;subjectId\\&quot;:\\&quot;PHY\\&quot;,&quot; +\n    &quot;\\&quot;subjectName\\&quot;:\\&quot;Physics\\&quot;&quot; +\n    &quot;}, {&quot; +\n    &quot;\\&quot;marks\\&quot;:60,&quot; +\n    &quot;\\&quot;subjectId\\&quot;:\\&quot;CHE\\&quot;,&quot; +\n    &quot;\\&quot;subjectName\\&quot;:\\&quot;Chemistry\\&quot;&quot; +\n    &quot;} ]&quot; +\n    &quot;}&quot;));\njossons.putDataset(&quot;json2&quot;, Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;\\&quot;name\\&quot;:\\&quot;Jack\\&quot;,&quot; +\n    &quot;\\&quot;student_ID\\&quot;:1,&quot; +\n    &quot;\\&quot;subject\\&quot;:[ {&quot; +\n    &quot;\\&quot;marks\\&quot;:60,&quot; +\n    &quot;\\&quot;subjectId\\&quot;:\\&quot;CHE\\&quot;,&quot; +\n    &quot;\\&quot;subjectName\\&quot;:\\&quot;Chemistry\\&quot;&quot; +\n    &quot;}, {&quot; +\n    &quot;\\&quot;marks\\&quot;:50,&quot; +\n    &quot;\\&quot;subjectId\\&quot;:\\&quot;PHY\\&quot;,&quot; +\n    &quot;\\&quot;subjectName\\&quot;:\\&quot;Physics\\&quot;&quot; +\n    &quot;} ]&quot; +\n    &quot;}&quot;));\njossons.putDataset(&quot;json3&quot;, Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;\\&quot;name\\&quot;:\\&quot;Jack\\&quot;,&quot; +\n    &quot;\\&quot;student_ID\\&quot;:1,&quot; +\n    &quot;\\&quot;subject\\&quot;:[ {&quot; +\n    &quot;\\&quot;marks\\&quot;:60,&quot; +\n    &quot;\\&quot;subjectId\\&quot;:\\&quot;CHE\\&quot;,&quot; +\n    &quot;\\&quot;subjectName\\&quot;:\\&quot;Chemistry\\&quot;&quot; +\n    &quot;}, {&quot; +\n    &quot;\\&quot;marks\\&quot;:70,&quot; +\n    &quot;\\&quot;subjectId\\&quot;:\\&quot;BIO\\&quot;,&quot; +\n    &quot;\\&quot;subjectName\\&quot;:\\&quot;Biology\\&quot;&quot; +\n    &quot;} ]&quot; +\n    &quot;}&quot;));\n</code></pre>\n<p>Query</p>\n<pre><code>JsonNode node = jossons.evaluateQuery(&quot;json1 &lt;==&gt; json2&quot;);\nSystem.out.println(&quot;json1 &lt;==&gt; json2 : &quot; + node.toString());\n\nnode = jossons.evaluateQuery(&quot;json1 &lt;==&gt; json3&quot;);\nSystem.out.println(&quot;json1 &lt;==&gt; json3 : &quot; + node.toString());\n\nnode = jossons.evaluateQuery(&quot;json2 &lt;==&gt; json3&quot;);\nSystem.out.println(&quot;json2 &lt;==&gt; json3 : &quot; + node.toString());\n</code></pre>\n<p>Output</p>\n<pre><code>json1 &lt;==&gt; json2 : true\njson1 &lt;==&gt; json3 : false\njson2 &lt;==&gt; json3 : false\n</code></pre>\n"}],"owner":{"account_id":26402421,"reputation":21,"user_id":20052693,"display_name":"Hema"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1664727437,"creation_date":1663851096,"question_id":73814971,"body_markdown":"Is there any way in java to compare two json objects and print the changes/differences?\r\n\r\nI have tried with &quot;Flat-map utility&quot; which is flattening and also comparing the json objects, however diff failed in case of json array elements in different orders in two json objects.\r\n\r\ne.g\r\n\r\n**JSON 1**\r\n\r\n    {\r\n    &quot;name&quot;:&quot;Jack&quot;,\r\n    &quot;student_ID&quot;:1,\r\n    &quot;subject&quot;:[\r\n    {\r\n    &quot;marks&quot;:50,\r\n    &quot;subjectId&quot;:&quot;PHY&quot;,\r\n    &quot;subjectName&quot;:&quot;Physics&quot;\r\n    },\r\n    {\r\n    &quot;marks&quot;:60,\r\n    &quot;subjectId&quot;:&quot;CHE&quot;,\r\n    &quot;subjectName&quot;:&quot;Chemistry&quot;\r\n    }\r\n    ]\r\n    }\r\n\r\n**JSON 2**\r\n\r\n    {\r\n    &quot;name&quot;:&quot;Jack&quot;,\r\n    &quot;student_ID&quot;:1,\r\n    &quot;subject&quot;:[\r\n    {\r\n    &quot;marks&quot;:60,\r\n    &quot;subjectId&quot;:&quot;CHE&quot;,\r\n    &quot;subjectName&quot;:&quot;Chemistry&quot;\r\n    },{\r\n    &quot;marks&quot;:50,\r\n    &quot;subjectId&quot;:&quot;PHY&quot;,\r\n    &quot;subjectName&quot;:&quot;Physics&quot;\r\n    }\r\n    ]\r\n    }\r\n\r\n\r\n\r\njson diff shows the Two jsons are mismatched.. Logically those are identical..\r\n\r\nIs there a good way of json matching and comparing in java?\r\n\r\n\r\n**code used:**\r\n\r\n    public class compareUtil \r\n    {\r\n    \tpublic static void main(String[] args) throws IOException, UnresolvedDatasetException, ParseException \r\n    {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t\tString baselineFolderPath = &quot;input//jsonBaseline&quot;; \r\n    \t\tString regressionfolderPath = &quot;input//jsonRegression&quot;;\r\n    \t\t\r\n    \t\tString fileToCompare = &quot;sampleJson1_simple.json&quot;;\r\n    \t\t\r\n    \t\tString baselineFile = baselineFolderPath + &quot;//&quot; + fileToCompare;\r\n    \t\tString regressionFile = regressionfolderPath + &quot;//&quot; + fileToCompare;\r\n    \t\t\t\t\r\n    \t\tInputStream getBaselineJsonFile = new FileInputStream(baselineFile);\r\n    \t\tInputStream getRegressionJsonFile = new FileInputStream(regressionFile);\r\n    \t\t\t\t\t\t\r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \t\tTypeReference&lt;HashMap&lt;String, Object&gt;&gt; type = new TypeReference&lt;HashMap&lt;String, Object&gt;&gt;() {};\r\n    \r\n    \t\tMap&lt;String, Object&gt; baselineMap = mapper.readValue(getBaselineJsonFile, type);\r\n    \t\tMap&lt;String, Object&gt; regressionMap = mapper.readValue(getRegressionJsonFile, type);\r\n    \t\t\r\n    \t\tMapDifference&lt;String, Object&gt; differenceNormal = Maps.difference(baselineMap, regressionMap);\r\n    \t\tSystem.out.println(differenceNormal);\r\n    \t\t\r\n    \t\tMap&lt;String, Object&gt; baselineFlatMap = FlatMapUtil.flatten(baselineMap);\r\n    \t\tMap&lt;String, Object&gt; regressionFlatMap = FlatMapUtil.flatten(regressionMap);\r\n    \t\t\t\t\r\n    \t\tMapDifference&lt;String, Object&gt; difference = Maps.difference(baselineFlatMap, regressionFlatMap);\r\n    \r\n    \t\tSystem.out.println(&quot;The diff &quot;+difference);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Entries only on the baseline json\\n--------------------------&quot;);\r\n    \t\tdifference.entriesOnlyOnLeft()\r\n    \t\t          .forEach((key, value) -&gt; System.out.println(key + &quot;: &quot; + value));\r\n    \r\n    \t\tSystem.out.println(&quot;\\n\\nEntries only on the regression json\\n--------------------------&quot;);\r\n    \t\tdifference.entriesOnlyOnRight()\r\n    \t\t          .forEach((key, value) -&gt; System.out.println(key + &quot;: &quot; + value));\r\n    \r\n    \t\tSystem.out.println(&quot;\\n\\nEntries differing (baseline, regression)\\n--------------------------&quot;);\r\n    \t\tdifference.entriesDiffering()\r\n    \t\t          .forEach((key, value) -&gt; System.out.println(key + &quot;: &quot; + value));\r\n    \t \r\n    \t}\r\n    \r\n    \t\r\n    }\r\n    \r\n    ------------------------------------------------------------------------------------------------\r\n    \r\n    \r\n    \r\n    public final class FlatMapUtil {\r\n    \tprivate FlatMapUtil() {\r\n    \t\tthrow new AssertionError(&quot;No instances for you!&quot;);\r\n    \t}\r\n    \tpublic static Map&lt;String, Object&gt; flatten(Map&lt;String, Object&gt; map) {\r\n    \t\treturn map.entrySet().stream()\r\n    \t\t\t\t.flatMap(FlatMapUtil::flatten)\r\n    \t\t\t\t.collect(LinkedHashMap::new, (m, e) -&gt; m.put(&quot;/&quot; + e.getKey(), e.getValue()), LinkedHashMap::putAll);\r\n    \t}\r\n    \tprivate static Stream&lt;Map.Entry&lt;String, Object&gt;&gt; flatten(Map.Entry&lt;String, Object&gt; entry) {\r\n    \t\t\r\n    \t\tif (entry == null) {\r\n    \t\t\treturn Stream.empty();\r\n    \t\t}\r\n    \r\n    \t\tif (entry.getValue() instanceof Map&lt;?, ?&gt;) {\r\n    \t\t\treturn ((Map&lt;?, ?&gt;) entry.getValue()).entrySet().stream()\r\n    \t\t\t\t\t.flatMap(e -&gt; flatten(new AbstractMap.SimpleEntry&lt;&gt;(entry.getKey() + &quot;/&quot; + e.getKey(), e.getValue())));\r\n    \t\t}\r\n    \r\n    \t\tif (entry.getValue() instanceof List&lt;?&gt;) {\r\n    \t\t\tList&lt;?&gt; list = (List&lt;?&gt;) entry.getValue();\r\n    \t\t\treturn IntStream.range(0, list.size())\r\n    \t\t\t\t\t.mapToObj(i -&gt; new AbstractMap.SimpleEntry&lt;String, Object&gt;(entry.getKey() + &quot;/&quot; + i, list.get(i)))\r\n    \t\t\t\t\t.flatMap(FlatMapUtil::flatten);\r\n    \t\t}\r\n    \r\n    \t\treturn Stream.of(entry);\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"Comparing two JSON objects irrespective of json array sequence in them using java","body":"<p>Is there any way in java to compare two json objects and print the changes/differences?</p>\n<p>I have tried with &quot;Flat-map utility&quot; which is flattening and also comparing the json objects, however diff failed in case of json array elements in different orders in two json objects.</p>\n<p>e.g</p>\n<p><strong>JSON 1</strong></p>\n<pre><code>{\n&quot;name&quot;:&quot;Jack&quot;,\n&quot;student_ID&quot;:1,\n&quot;subject&quot;:[\n{\n&quot;marks&quot;:50,\n&quot;subjectId&quot;:&quot;PHY&quot;,\n&quot;subjectName&quot;:&quot;Physics&quot;\n},\n{\n&quot;marks&quot;:60,\n&quot;subjectId&quot;:&quot;CHE&quot;,\n&quot;subjectName&quot;:&quot;Chemistry&quot;\n}\n]\n}\n</code></pre>\n<p><strong>JSON 2</strong></p>\n<pre><code>{\n&quot;name&quot;:&quot;Jack&quot;,\n&quot;student_ID&quot;:1,\n&quot;subject&quot;:[\n{\n&quot;marks&quot;:60,\n&quot;subjectId&quot;:&quot;CHE&quot;,\n&quot;subjectName&quot;:&quot;Chemistry&quot;\n},{\n&quot;marks&quot;:50,\n&quot;subjectId&quot;:&quot;PHY&quot;,\n&quot;subjectName&quot;:&quot;Physics&quot;\n}\n]\n}\n</code></pre>\n<p>json diff shows the Two jsons are mismatched.. Logically those are identical..</p>\n<p>Is there a good way of json matching and comparing in java?</p>\n<p><strong>code used:</strong></p>\n<pre><code>public class compareUtil \n{\n    public static void main(String[] args) throws IOException, UnresolvedDatasetException, ParseException \n{\n        // TODO Auto-generated method stub\n        \n        String baselineFolderPath = &quot;input//jsonBaseline&quot;; \n        String regressionfolderPath = &quot;input//jsonRegression&quot;;\n        \n        String fileToCompare = &quot;sampleJson1_simple.json&quot;;\n        \n        String baselineFile = baselineFolderPath + &quot;//&quot; + fileToCompare;\n        String regressionFile = regressionfolderPath + &quot;//&quot; + fileToCompare;\n                \n        InputStream getBaselineJsonFile = new FileInputStream(baselineFile);\n        InputStream getRegressionJsonFile = new FileInputStream(regressionFile);\n                        \n        ObjectMapper mapper = new ObjectMapper();\n        TypeReference&lt;HashMap&lt;String, Object&gt;&gt; type = new TypeReference&lt;HashMap&lt;String, Object&gt;&gt;() {};\n\n        Map&lt;String, Object&gt; baselineMap = mapper.readValue(getBaselineJsonFile, type);\n        Map&lt;String, Object&gt; regressionMap = mapper.readValue(getRegressionJsonFile, type);\n        \n        MapDifference&lt;String, Object&gt; differenceNormal = Maps.difference(baselineMap, regressionMap);\n        System.out.println(differenceNormal);\n        \n        Map&lt;String, Object&gt; baselineFlatMap = FlatMapUtil.flatten(baselineMap);\n        Map&lt;String, Object&gt; regressionFlatMap = FlatMapUtil.flatten(regressionMap);\n                \n        MapDifference&lt;String, Object&gt; difference = Maps.difference(baselineFlatMap, regressionFlatMap);\n\n        System.out.println(&quot;The diff &quot;+difference);\n        \n        System.out.println(&quot;Entries only on the baseline json\\n--------------------------&quot;);\n        difference.entriesOnlyOnLeft()\n                  .forEach((key, value) -&gt; System.out.println(key + &quot;: &quot; + value));\n\n        System.out.println(&quot;\\n\\nEntries only on the regression json\\n--------------------------&quot;);\n        difference.entriesOnlyOnRight()\n                  .forEach((key, value) -&gt; System.out.println(key + &quot;: &quot; + value));\n\n        System.out.println(&quot;\\n\\nEntries differing (baseline, regression)\\n--------------------------&quot;);\n        difference.entriesDiffering()\n                  .forEach((key, value) -&gt; System.out.println(key + &quot;: &quot; + value));\n     \n    }\n\n    \n}\n\n------------------------------------------------------------------------------------------------\n\n\n\npublic final class FlatMapUtil {\n    private FlatMapUtil() {\n        throw new AssertionError(&quot;No instances for you!&quot;);\n    }\n    public static Map&lt;String, Object&gt; flatten(Map&lt;String, Object&gt; map) {\n        return map.entrySet().stream()\n                .flatMap(FlatMapUtil::flatten)\n                .collect(LinkedHashMap::new, (m, e) -&gt; m.put(&quot;/&quot; + e.getKey(), e.getValue()), LinkedHashMap::putAll);\n    }\n    private static Stream&lt;Map.Entry&lt;String, Object&gt;&gt; flatten(Map.Entry&lt;String, Object&gt; entry) {\n        \n        if (entry == null) {\n            return Stream.empty();\n        }\n\n        if (entry.getValue() instanceof Map&lt;?, ?&gt;) {\n            return ((Map&lt;?, ?&gt;) entry.getValue()).entrySet().stream()\n                    .flatMap(e -&gt; flatten(new AbstractMap.SimpleEntry&lt;&gt;(entry.getKey() + &quot;/&quot; + e.getKey(), e.getValue())));\n        }\n\n        if (entry.getValue() instanceof List&lt;?&gt;) {\n            List&lt;?&gt; list = (List&lt;?&gt;) entry.getValue();\n            return IntStream.range(0, list.size())\n                    .mapToObj(i -&gt; new AbstractMap.SimpleEntry&lt;String, Object&gt;(entry.getKey() + &quot;/&quot; + i, list.get(i)))\n                    .flatMap(FlatMapUtil::flatten);\n        }\n\n        return Stream.of(entry);\n    }\n}\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664727159,"post_id":73925632,"comment_id":130533228,"body_markdown":"The root/reason for any plugin version can be found via: `mvn help:effective-pom` (/with IDE)..But I agree, that these from &quot;latest&quot; maven-core and maven-model-builder &quot;seem old&quot;!","body":"The root/reason for any plugin version can be found via: <code>mvn help:effective-pom</code> (/with IDE)..But I agree, that these from &quot;latest&quot; maven-core and maven-model-builder &quot;seem old&quot;!"}],"answers":[{"tags":[],"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664720927,"creation_date":1664720927,"answer_id":73926620,"question_id":73925632,"body_markdown":"Each Maven versions can contains different versions of core plugins.\r\n\r\nWhen you don&#39;t lock used plugins version in your project, build can use different version of plugins when you change used Maven version.\r\n\r\nIt cause that your project build can be unreproducible with different Maven version.\r\n\r\nSo recommended way is lock all plugin version in project, you should create pluginManagement with all plugin version in your project on in your parent pom.\r\n\r\nEven more Maven 4 will produce warning is such case:\r\nhttps://issues.apache.org/jira/browse/MNG-6562\r\n","title":"Why is the default version for the maven-compiler-plugin 3.1, a version from 2013, when the newest one is 3.10.1?","body":"<p>Each Maven versions can contains different versions of core plugins.</p>\n<p>When you don't lock used plugins version in your project, build can use different version of plugins when you change used Maven version.</p>\n<p>It cause that your project build can be unreproducible with different Maven version.</p>\n<p>So recommended way is lock all plugin version in project, you should create pluginManagement with all plugin version in your project on in your parent pom.</p>\n<p>Even more Maven 4 will produce warning is such case:\n<a href=\"https://issues.apache.org/jira/browse/MNG-6562\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/MNG-6562</a></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664727227,"creation_date":1664726347,"answer_id":73927297,"question_id":73925632,"body_markdown":"&gt;  Why does Maven use such an old version?\r\n\r\nIn a word: Reproducibility.\r\n\r\nChanging a plugin version number can result in changes in behavior that affect a Maven build.  Now if the developer changes an explicit plugin version in their POM file, it is reasonable to assume that they made a conscious decision to do this.  Either way, the decision to change was theirs.\r\n\r\nOn the other hand, when people rely on default plugin version numbers, they are not going to expect that they vary depending on the precise version of Maven that is installed.  They won&#39;t be happy if the build instructions for some old projects require them to install an out-of-date version of Maven.  And they won&#39;t be happy if installing a new Maven version to (say) patch a security problem *also* changes default plugin versions and ... unexpectedly breaks their builds.\r\n\r\nHence, the Maven team is extremely cautious about changing default plugin versions, and default properties.\r\n\r\n----------------------\r\n\r\nEither way, the solution is in your own hands.  If you want to use a more recent version of any plugin, just put an explicit plugin version in your project&#39;s parent POM file.\r\n\r\n","title":"Why is the default version for the maven-compiler-plugin 3.1, a version from 2013, when the newest one is 3.10.1?","body":"<blockquote>\n<p>Why does Maven use such an old version?</p>\n</blockquote>\n<p>In a word: Reproducibility.</p>\n<p>Changing a plugin version number can result in changes in behavior that affect a Maven build.  Now if the developer changes an explicit plugin version in their POM file, it is reasonable to assume that they made a conscious decision to do this.  Either way, the decision to change was theirs.</p>\n<p>On the other hand, when people rely on default plugin version numbers, they are not going to expect that they vary depending on the precise version of Maven that is installed.  They won't be happy if the build instructions for some old projects require them to install an out-of-date version of Maven.  And they won't be happy if installing a new Maven version to (say) patch a security problem <em>also</em> changes default plugin versions and ... unexpectedly breaks their builds.</p>\n<p>Hence, the Maven team is extremely cautious about changing default plugin versions, and default properties.</p>\n<hr />\n<p>Either way, the solution is in your own hands.  If you want to use a more recent version of any plugin, just put an explicit plugin version in your project's parent POM file.</p>\n"}],"owner":{"account_id":11727995,"reputation":55,"user_id":8584566,"display_name":"Rattletrap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":453,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73927297,"answer_count":2,"score":3,"last_activity_date":1664727227,"creation_date":1664712029,"question_id":73925632,"body_markdown":"As the title says. I figured this out recently when I wanted to use the release flag in my POM configuration. Why does Maven use such an old version? \r\n\r\nI should add I&#39;m using the latest Maven version (3.8.6).","title":"Why is the default version for the maven-compiler-plugin 3.1, a version from 2013, when the newest one is 3.10.1?","body":"<p>As the title says. I figured this out recently when I wanted to use the release flag in my POM configuration. Why does Maven use such an old version?</p>\n<p>I should add I'm using the latest Maven version (3.8.6).</p>\n"},{"tags":["java","instrumentation"],"comments":[{"owner":{"account_id":6961244,"reputation":2181,"user_id":5340590,"accept_rate":75,"display_name":"Piyush Gupta"},"score":0,"creation_date":1449836872,"post_id":34223471,"comment_id":56190916,"body_markdown":"This is version issue you need to check that are u using same version or need to check library also..","body":"This is version issue you need to check that are u using same version or need to check library also.."},{"owner":{"account_id":4432876,"reputation":1263,"user_id":3609599,"accept_rate":41,"display_name":"udani"},"score":0,"creation_date":1449922850,"post_id":34223471,"comment_id":56221653,"body_markdown":"version and library of what? h2 or javassist or java?","body":"version and library of what? h2 or javassist or java?"}],"answers":[{"comments":[{"owner":{"account_id":18214913,"reputation":51,"user_id":13256723,"display_name":"Tomasz Hankus"},"score":1,"creation_date":1619419993,"post_id":34289517,"comment_id":118889561,"body_markdown":"could describe how did you decompile that bytecode?\nI have a similar problem but I fail to translate bytes to readable form.","body":"could describe how did you decompile that bytecode? I have a similar problem but I fail to translate bytes to readable form."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1619438567,"post_id":34289517,"comment_id":118897601,"body_markdown":"@TomaszHankus since I didn’t know any tool for it, I wrote my own. Since there might be even more interest, I could try to strip off any dependencies and convert it to a small stand-alone program.","body":"@TomaszHankus since I didn’t know any tool for it, I wrote my own. Since there might be even more interest, I could try to strip off any dependencies and convert it to a small stand-alone program."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1619509349,"post_id":34289517,"comment_id":118920345,"body_markdown":"@TomaszHankus I added it to the end of the answer (the link is too large for a comment).","body":"@TomaszHankus I added it to the end of the answer (the link is too large for a comment)."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1619509305,"creation_date":1450183031,"answer_id":34289517,"question_id":34223471,"body_markdown":"It seems you hit a bug in Javassist’s byte code generator. Here is the disassembled code as reported from the `VerifyError`. Note that due to the absence of the constant pool in the exception message, the actual target methods are guessed from your source code (but it looks plausible):\r\n\r\n      0 invokestatic \t[876]\r\n      3 lstore_3\r\n      4 new \t[878]          guess: new StringBuilder\r\n      7 dup\r\n      8 invokespecial \t[879]  guess: StringBuilder.&lt;init&gt;\r\n     11 invokestatic \t[876]  guess: System.nanoTime()\r\n     14 invokestatic \t[883]  guess: String.valueOf(long)\r\n     17 invokevirtual \t[886]  guess: StringBuilder.append(String)\r\n     20 invokestatic \t[892]  guess: Math.random()\r\n     23 invokestatic \t[896]  guess: Math.round(double)\r\n     26 invokestatic \t[883]  guess: String.valueOf(long)\r\n     29 invokevirtual \t[886]  guess: StringBuilder.append(String)\r\n     32 invokevirtual \t[897]  guess: StringBuilder.toString() \r\n     35 invokestatic \t[902]  guess: Long.valueOf(String)\r\n     38 i2l\r\n     39 lstore \t&lt;5&gt;\r\n    … rest omitted\r\n\r\nNote that the method invocations match your source code fragment (being `static` or virtual as expected and being the same reference where supposed to be the same), whereas the instruction at location `38`, the one rejected by the verifier, is a spurious `i2l` instruction (a conversion from `int` to `long`). At this place, an unboxing conversion from `Long` to `long` should happen. Since the following `lstore` instruction will store a `long` value into a local variable, it seems that Javassist got your local variable declaration right.\r\n\r\nNote that the first two instructions indicate that there is another instrumentation happening; since it’s invoking the same method as the instruction at location `11`, which is supposed to be `System.nanoTime`, it seems the other instrumentation is intended to measure the method’s overall execution time. But that shouldn’t affect your instrumentation code.\r\n\r\nYou may contact the authors of Javassist to find out whether `Long` unboxing should work. At the same time, you may workaround the problem by using [`Long.parseLong`](http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html#parseLong-java.lang.String-) instead of `Long.valueOf` to avoid the boxing/unboxing in the first place. You may also simplify the operation from the generated code’s perspective by using `String.concat` instead of the `+` operator as this eliminates the need to deal with `StringBuilder` internally:\r\n\r\nReplace\r\n\r\n    method.addLocalVariable(&quot;instMethod_correlationId&quot;, CtClass.longType);\r\n    beforeBuilder.append(&quot;instMethod_correlationId = Long.valueOf(String.valueOf(System.nanoTime()) + String.valueOf(Math.round(Math.random())));&quot;);\r\n\r\nwith\r\n\r\n    method.addLocalVariable(&quot;instMethod_correlationId&quot;, CtClass.longType);\r\n    beforeBuilder.append(&quot;instMethod_correlationId = Long.parseLong(String.valueOf(System.nanoTime()).concat(String.valueOf(Math.round(Math.random()))));&quot;);\r\n\r\nThis should lower the requirements to Javassist’s compiling capabilities and workaround the bug triggered by your original code fragment.\r\n\r\n---\r\n\r\nUpdate: for those, interested in decoding the hex dump of a `VerifyError` to a readable instruction sequence: [Online Decoder using tio.run](https://tio.run/##1Vlbd9u4EX73r0B1zm6kWlFJ6m4nm@qaaFeWXUveZJvk@IAiaTOhSFWiEuds07@ezmBwoyxn0@32oX4w5hvMDAYfBiBFvOMf@ON3wfsvX@LVOtvk7B0oars8TmrzJU/TcHN6ZPekcVbrf8rD/i6K9vuE1ya8Ce9qZzxf3n6l/4LnebhJT4@O1js/iZdsmfDtlp3xOGV/@QsbhsssCH8ON3H0abTZZJujX48Yk6bbnOfQfMjigK3AoTzPN3F6U6vVGN/cVBia4h@p2W14x56yNPzI5ITK80/bPFzV4rRS223DYZjEqxiyKZfevPl7qVJLw7u8XDmVUcxkme9DoDXfbMMX4d1wt1qXIbY23IQ8QOMBZF72faH/fIRpb@IPPA9V3lGc8oRJAtiL0avh1dnFdf@XxQiiS3Vtma3WcRKWS6@dx13@OHr7q/e5VKnKoZTTdDI76FR@duLcVZ4dK@fjkzdvtmXQ6miNz6B5dlz51al2Ptsd3ufKs0oJkr/Ht0VEgQNJcwByBZyI/X3WDK7xJMmWwEfZdRxJXpRtyrJi2Aqs7fnVVtRRFgOcslUNCAzM@jDQwCpKDsq2awWLLc7S8koKI3SsilRrSZje5LflSgULRsfCTFbGDaa@ycsu@KxqITi7lcqhwXDx7NSYKUL6i9OcxViGKiREvI0Bi1SWt3zTy8vxHWiT7J6WHTPXmq6IF5X/5Pu1W769DHELwAKUK/uDMqC@FiXxurznXVye@OYGmsNLBAGWfM2Xcf6pXGF/Zt69SOReW@9yVfPFBCAwmRS7Ph/t5YkByj6kUCmXy0DNYwb/nzx91H30jD1yHp2wR/zRY9eBST55whoV9k9WBqoe4/9DVhUrFRqL/u8xsgnzHWxC39eb1T5cCju6UNGG6o@3uON@Yy1w@Ze7DbKMU822cY71BcudrUl3E0JNfO/cRZHNkzyosl1eg0MkzaNy6btmwNh321JVBKyyWe9s9Dpbvy1Qv/0Yw54pZ@v7JbHk25D1JxdX8xcn9@LDCZiXjlU6UMc@UPD@9FCI6XBwcsj9tfE/Lr0tfTXGZHreG56ogDYY22Bog54AB6PNF@eXoxMZzQZjGwxt0LPB5WixH5gdpOhJ6bhcWDOY6g9fn@ps9LJ3edn75T7nSVoWPYtfLkavVdS3X@dtMhucfHtmVfaNazr/hrKY32ab34rzfLSYL3qLyUASe3FVxNA/noymQ9NN8OBcZz@f/zT6eXK5uOpNT2zd/GI0mOzr7GGA84Mhe2YxBB68GA1@GkAp6FAQZjYYnY9PHqj865cnWvYQPLATyiBWiLcBnObfsiXGo7@pNMazkRanOrnxc6N9brTT0WH6xteTwdmFFVRgK7LAVniBn3812vM966kVrbc3Wo9GO1gm54tzafjj/NLM@mo6NeB8JvC9fXl4Z5bgWelveLq8XcCrIBQ8HZLF0r33lBIPhoerGdLUCw6JXr/8Q7KZpL8jl7Or6WJi6vcb83igEuFcgAT3zouvV6fYZJPZYnQ57g1Gha03/AUeRbD3/rucSocJsR6a4jl6zJr/IXPT8/Ofri7mLyeLwYuT3xhCjQGvGd@zf9UPjnTgGIdZvcmDMOK7JD9hv3fx8Q0U3xfS3Uq/GgjzU6H6gTlCePy4csD54bwECSInExFQ6eSPL9JFrz8d/R8xnWQfi0zju/nN7T77aPbkqegS4Pj4d64ABvrfMP9yMhwdohxn@TEOwjQMrNdNoHz/hfPhHSsyFy@bMtDbyuk3bvUn4pjZ3@xIwQ@Htzv8utHZPhVvO5UDgatWOeu3km@lSxXP0eGfJAfWUMf@/MDvevk7uLCi6sU/TPMLWfNVsRpZFG3D3Pxelj9ESn/FOVEnEsRYmT39gc7pvTjaDpgsVUr7P2DoKwPl9PqtWDlYevVroJRmaySQL7N0m1@nuyRBGBNcuRZwLNnWe5ZcL6kvE0rTsHqbKCdWtMSKFln66L7eM5EDyzKwLP14vdveorTVUhIsZXP9UQoeSXGS8cAETQjCeEoIlMCVIFwkD0J0jegZsb4XVc7VeCTGI1EecmA5f2MbGdtoP3pgPALjERiPwETnxpYbW25s@X70WM870VKkpUBLXEu@lpZa2vIiz/E2zzahiKqlSEuBlriUin6SfJJdS/YsuW6iS@ot@0Tb6zWyvCLLK7K8ImuUyLIPLPtA2@v1sbwCy4tbXtwahVv2XNub9TDUGTEyYmBEbkTfiEsjbvf5XdM5AA2lu1vL5vrO1ZLq0q3p9ESvirb9yIV/zANZQYGsn0BWD7XxdufTqlAbyTaQbbzaifMoEa2KHkltINs4iD/Q5qY2km0g23gTrkS/bCPZBrKN0/DGqgeBwEq2gWzj7S3lIlvAG4lFG@@UQgkxT@0TRiDQZmRFTXwnoWzjOBUnVuzRIF5EDdHoxdRE1FjRI@qKyC0i@4CUASkDFYuo9eQ4WzqJV2s6bVfrRAk39pkr9QHpwTEK/0FtGlKb5NTeSHwjcSLxdQy@6KQrmlSp3a@CCHBj99zYPTomvx@T65g3WZ5h@24ruIVnKzY595OQvozRQmTvd2uDY3oEy4IhUbNs@gIjciMaCZ769AQW22pnAeiJ4jCxFg@6pQaL8UP2PvwQb/IdT4xiuw6XcUGh4xGGl4lwE/GlfWaKjuBTyldkmYYfZcM3G/5J5F4AKND3cAHz200mPJa34fI9Hh92cMggXYaZKKpVlsZ4oGASNr6LBeX4FifU8KoVF4aE8hHvHGb90ixVryG4fvS0hhVEAd9tTh98t9Gfz/AFh2GQ6v3/YqCSn2VJyNPXb2l2fEMSPmJzEoNsB2VCMn6OJmmL75ckAuEkJBmOXqLMilcllCC@583OLyAr585xqqw3OJ/NF9f4PYN0bpVNSHfmksbTGocUdcWQVEu7hrbzSNHUijopWlrRIEVbK5qk6KjQ08KI3apSyLF6VTYuWPS1QloMtEJmM1ShhwXHUVUppOO4Kj9FC@gCR3MLAj3T4YBkr0rf3QhpVuj7GymRE/w4TAgImRoEbIwNAiqGBnWq9FGZUFcTjjqZuduTsWXibl9hmrA7UJjYd4dydOU/0gnbUcbKiqJ4jsIUxXNl1jKK5ylM/p6mYWxHaSgrGaUpZ6uitBSWURQbyl/XxdCO0pUsqSg9hWWUvsIyykBh6a9LYmLI9qAgphYEPsYG1oGOoQWBjZ4FgYy@BTUXA0sJVMwtiJtEfPAnCERMLQg8jC0IZTG0oK6LnqXsqYCSlXpfK4iW@kAriJf6UCuImLopjUKksUpORmo4WkGRGq5WUKSGpyYgYzRMfRQiNbSdjNTUChmppeauIrW1QsYwRVKI1NV2MhKWSSFSXytkpIFWyBjDItMqEtTKxOK@gQRZuOlg8VjYxeqxsKfD2to6VpGFgZuBjZtYQRYGZi7kkd5sC5mybhpCrmQ3cnF1cf2K5tnsSSjt@wJKMCCgbYcKy35dI/OXPRl9jHQMqbBbWBsa4KmhgYcsKFDH2rvqE2hg@SjQNJWiVKIGFMCHx9kVPbZasDOmGsAsxxrgHDXAvTCc/ExgYE5spYJJjjXAR4MGOLfL0ZkAbZybBjg3DXBuGpgH5Wz0nFQ4Qw2wxjXAuWmAc5u/oKTbODcNuqLnkkDP7FOlwhleaQSLODUI93lvRsS3xTmnAM7unKw6ODklu3oGr5QKn3oa4OpNZvQ87ODDzqM0O3iseWOS8bHv0UAdmNjUm5BsHvbKEp/zyhIf8coSn@4qMj7YlQ3WpLLB1VI2Y134MnLXwRyocLr4iuNRzl18ufHmJNfxLeOMarmLBxJeIxFqEqLV6bbMq4S2wNPIWMCS4a0ZAVyy8Yw2axeP5/F0QQDmJS7PCOG5PH4uu8yzaTyV/XjaqKsz0oyr5vJMaHpO1Vyfkcatmgs00ngmtLw6I33d@ErLRtVcn5GmWTUXaKSB1cXbKAJtFfrHOVVID5i4HMkBgAjrOzzpetXCNQgp@2KzLa4uZ4TNTrW1Q7HxDB6JvWcwsNOzcN8RqWioa1tfDZMeSkJfDpMGiFHXw6RoVPUFMSmQFvtSmLQts/@ty2Hqa1cL18Ok7FT3r7NI360WL7RIq3f/bESvm33gTd3DkQIfZEXNsEq/Taaj2fMF0d0H4nqLF5fnMorePfoSWugHWFv6GppUUFxn57MJPoswY1J6RvlqIn2BQrwIINBQAxSvDqlTVJj@PTJoVc2NK2naVXn9SRA4ExeghLqnR5@PvnzB4A79nTC/49RZa9nwmO@jFDa7zG@jFPkd5tRbS2FypJ1ccGrX/Rb0tVvk3l4K044joeo1Th6O1IK@jkumLdZp1tvMaRL0ybMTupZTHZycplsHg65D7t2G7yNssWbXb6PUZnXutI1TA5zcrtNmbh3tux6E7qIUwD/HabblSL7fMU5NHKneCZnbcprSM3K7zGmLmXCPedxpYQqOcWrhSG49gD60cjwOwzkO89oguR7OruUukVbLqY1OLeLYYW7b9RjMHt1hOI9jti3sCHyLiA6mhwYQtSENujSmQ9ALYMxiel1w8kJQez4yBVSxxhLZg/kAe6ID0nNde3E5OIW@76GVAzMnT59xzNbhDZyst9wbyceROn6EK9GlMuq2VBl12zCcw5FM7lojLQXlvEFs85bfxdUM4B@M1GzbZWGcAnDCGsG6wTpohaoOWpEM1LlXe6Gpcs9lLaq4dp0Kqt0S9h0Xi4Ybp0gVLPcw9a7vsIf@/g0 &quot;Java (JDK) – Try It Online&quot;)","title":"How to get arround java.lang.verrifyError","body":"<p>It seems you hit a bug in Javassist’s byte code generator. Here is the disassembled code as reported from the <code>VerifyError</code>. Note that due to the absence of the constant pool in the exception message, the actual target methods are guessed from your source code (but it looks plausible):</p>\n<pre><code>  0 invokestatic    [876]\n  3 lstore_3\n  4 new     [878]          guess: new StringBuilder\n  7 dup\n  8 invokespecial   [879]  guess: StringBuilder.&lt;init&gt;\n 11 invokestatic    [876]  guess: System.nanoTime()\n 14 invokestatic    [883]  guess: String.valueOf(long)\n 17 invokevirtual   [886]  guess: StringBuilder.append(String)\n 20 invokestatic    [892]  guess: Math.random()\n 23 invokestatic    [896]  guess: Math.round(double)\n 26 invokestatic    [883]  guess: String.valueOf(long)\n 29 invokevirtual   [886]  guess: StringBuilder.append(String)\n 32 invokevirtual   [897]  guess: StringBuilder.toString() \n 35 invokestatic    [902]  guess: Long.valueOf(String)\n 38 i2l\n 39 lstore  &lt;5&gt;\n… rest omitted\n</code></pre>\n<p>Note that the method invocations match your source code fragment (being <code>static</code> or virtual as expected and being the same reference where supposed to be the same), whereas the instruction at location <code>38</code>, the one rejected by the verifier, is a spurious <code>i2l</code> instruction (a conversion from <code>int</code> to <code>long</code>). At this place, an unboxing conversion from <code>Long</code> to <code>long</code> should happen. Since the following <code>lstore</code> instruction will store a <code>long</code> value into a local variable, it seems that Javassist got your local variable declaration right.</p>\n<p>Note that the first two instructions indicate that there is another instrumentation happening; since it’s invoking the same method as the instruction at location <code>11</code>, which is supposed to be <code>System.nanoTime</code>, it seems the other instrumentation is intended to measure the method’s overall execution time. But that shouldn’t affect your instrumentation code.</p>\n<p>You may contact the authors of Javassist to find out whether <code>Long</code> unboxing should work. At the same time, you may workaround the problem by using <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html#parseLong-java.lang.String-\" rel=\"nofollow noreferrer\"><code>Long.parseLong</code></a> instead of <code>Long.valueOf</code> to avoid the boxing/unboxing in the first place. You may also simplify the operation from the generated code’s perspective by using <code>String.concat</code> instead of the <code>+</code> operator as this eliminates the need to deal with <code>StringBuilder</code> internally:</p>\n<p>Replace</p>\n<pre><code>method.addLocalVariable(&quot;instMethod_correlationId&quot;, CtClass.longType);\nbeforeBuilder.append(&quot;instMethod_correlationId = Long.valueOf(String.valueOf(System.nanoTime()) + String.valueOf(Math.round(Math.random())));&quot;);\n</code></pre>\n<p>with</p>\n<pre><code>method.addLocalVariable(&quot;instMethod_correlationId&quot;, CtClass.longType);\nbeforeBuilder.append(&quot;instMethod_correlationId = Long.parseLong(String.valueOf(System.nanoTime()).concat(String.valueOf(Math.round(Math.random()))));&quot;);\n</code></pre>\n<p>This should lower the requirements to Javassist’s compiling capabilities and workaround the bug triggered by your original code fragment.</p>\n<hr />\n<p>Update: for those, interested in decoding the hex dump of a <code>VerifyError</code> to a readable instruction sequence: <a href=\"https://tio.run/##1Vlbd9u4EX73r0B1zm6kWlFJ6m4nm@qaaFeWXUveZJvk@IAiaTOhSFWiEuds07@ezmBwoyxn0@32oX4w5hvMDAYfBiBFvOMf@ON3wfsvX@LVOtvk7B0oars8TmrzJU/TcHN6ZPekcVbrf8rD/i6K9vuE1ya8Ce9qZzxf3n6l/4LnebhJT4@O1js/iZdsmfDtlp3xOGV/@QsbhsssCH8ON3H0abTZZJujX48Yk6bbnOfQfMjigK3AoTzPN3F6U6vVGN/cVBia4h@p2W14x56yNPzI5ITK80/bPFzV4rRS223DYZjEqxiyKZfevPl7qVJLw7u8XDmVUcxkme9DoDXfbMMX4d1wt1qXIbY23IQ8QOMBZF72faH/fIRpb@IPPA9V3lGc8oRJAtiL0avh1dnFdf@XxQiiS3Vtma3WcRKWS6@dx13@OHr7q/e5VKnKoZTTdDI76FR@duLcVZ4dK@fjkzdvtmXQ6miNz6B5dlz51al2Ptsd3ufKs0oJkr/Ht0VEgQNJcwByBZyI/X3WDK7xJMmWwEfZdRxJXpRtyrJi2Aqs7fnVVtRRFgOcslUNCAzM@jDQwCpKDsq2awWLLc7S8koKI3SsilRrSZje5LflSgULRsfCTFbGDaa@ycsu@KxqITi7lcqhwXDx7NSYKUL6i9OcxViGKiREvI0Bi1SWt3zTy8vxHWiT7J6WHTPXmq6IF5X/5Pu1W769DHELwAKUK/uDMqC@FiXxurznXVye@OYGmsNLBAGWfM2Xcf6pXGF/Zt69SOReW@9yVfPFBCAwmRS7Ph/t5YkByj6kUCmXy0DNYwb/nzx91H30jD1yHp2wR/zRY9eBST55whoV9k9WBqoe4/9DVhUrFRqL/u8xsgnzHWxC39eb1T5cCju6UNGG6o@3uON@Yy1w@Ze7DbKMU822cY71BcudrUl3E0JNfO/cRZHNkzyosl1eg0MkzaNy6btmwNh321JVBKyyWe9s9Dpbvy1Qv/0Yw54pZ@v7JbHk25D1JxdX8xcn9@LDCZiXjlU6UMc@UPD@9FCI6XBwcsj9tfE/Lr0tfTXGZHreG56ogDYY22Bog54AB6PNF@eXoxMZzQZjGwxt0LPB5WixH5gdpOhJ6bhcWDOY6g9fn@ps9LJ3edn75T7nSVoWPYtfLkavVdS3X@dtMhucfHtmVfaNazr/hrKY32ab34rzfLSYL3qLyUASe3FVxNA/noymQ9NN8OBcZz@f/zT6eXK5uOpNT2zd/GI0mOzr7GGA84Mhe2YxBB68GA1@GkAp6FAQZjYYnY9PHqj865cnWvYQPLATyiBWiLcBnObfsiXGo7@pNMazkRanOrnxc6N9brTT0WH6xteTwdmFFVRgK7LAVniBn3812vM966kVrbc3Wo9GO1gm54tzafjj/NLM@mo6NeB8JvC9fXl4Z5bgWelveLq8XcCrIBQ8HZLF0r33lBIPhoerGdLUCw6JXr/8Q7KZpL8jl7Or6WJi6vcb83igEuFcgAT3zouvV6fYZJPZYnQ57g1Gha03/AUeRbD3/rucSocJsR6a4jl6zJr/IXPT8/Ofri7mLyeLwYuT3xhCjQGvGd@zf9UPjnTgGIdZvcmDMOK7JD9hv3fx8Q0U3xfS3Uq/GgjzU6H6gTlCePy4csD54bwECSInExFQ6eSPL9JFrz8d/R8xnWQfi0zju/nN7T77aPbkqegS4Pj4d64ABvrfMP9yMhwdohxn@TEOwjQMrNdNoHz/hfPhHSsyFy@bMtDbyuk3bvUn4pjZ3@xIwQ@Htzv8utHZPhVvO5UDgatWOeu3km@lSxXP0eGfJAfWUMf@/MDvevk7uLCi6sU/TPMLWfNVsRpZFG3D3Pxelj9ESn/FOVEnEsRYmT39gc7pvTjaDpgsVUr7P2DoKwPl9PqtWDlYevVroJRmaySQL7N0m1@nuyRBGBNcuRZwLNnWe5ZcL6kvE0rTsHqbKCdWtMSKFln66L7eM5EDyzKwLP14vdveorTVUhIsZXP9UQoeSXGS8cAETQjCeEoIlMCVIFwkD0J0jegZsb4XVc7VeCTGI1EecmA5f2MbGdtoP3pgPALjERiPwETnxpYbW25s@X70WM870VKkpUBLXEu@lpZa2vIiz/E2zzahiKqlSEuBlriUin6SfJJdS/YsuW6iS@ot@0Tb6zWyvCLLK7K8ImuUyLIPLPtA2@v1sbwCy4tbXtwahVv2XNub9TDUGTEyYmBEbkTfiEsjbvf5XdM5AA2lu1vL5vrO1ZLq0q3p9ESvirb9yIV/zANZQYGsn0BWD7XxdufTqlAbyTaQbbzaifMoEa2KHkltINs4iD/Q5qY2km0g23gTrkS/bCPZBrKN0/DGqgeBwEq2gWzj7S3lIlvAG4lFG@@UQgkxT@0TRiDQZmRFTXwnoWzjOBUnVuzRIF5EDdHoxdRE1FjRI@qKyC0i@4CUASkDFYuo9eQ4WzqJV2s6bVfrRAk39pkr9QHpwTEK/0FtGlKb5NTeSHwjcSLxdQy@6KQrmlSp3a@CCHBj99zYPTomvx@T65g3WZ5h@24ruIVnKzY595OQvozRQmTvd2uDY3oEy4IhUbNs@gIjciMaCZ769AQW22pnAeiJ4jCxFg@6pQaL8UP2PvwQb/IdT4xiuw6XcUGh4xGGl4lwE/GlfWaKjuBTyldkmYYfZcM3G/5J5F4AKND3cAHz200mPJa34fI9Hh92cMggXYaZKKpVlsZ4oGASNr6LBeX4FifU8KoVF4aE8hHvHGb90ixVryG4fvS0hhVEAd9tTh98t9Gfz/AFh2GQ6v3/YqCSn2VJyNPXb2l2fEMSPmJzEoNsB2VCMn6OJmmL75ckAuEkJBmOXqLMilcllCC@583OLyAr585xqqw3OJ/NF9f4PYN0bpVNSHfmksbTGocUdcWQVEu7hrbzSNHUijopWlrRIEVbK5qk6KjQ08KI3apSyLF6VTYuWPS1QloMtEJmM1ShhwXHUVUppOO4Kj9FC@gCR3MLAj3T4YBkr0rf3QhpVuj7GymRE/w4TAgImRoEbIwNAiqGBnWq9FGZUFcTjjqZuduTsWXibl9hmrA7UJjYd4dydOU/0gnbUcbKiqJ4jsIUxXNl1jKK5ylM/p6mYWxHaSgrGaUpZ6uitBSWURQbyl/XxdCO0pUsqSg9hWWUvsIyykBh6a9LYmLI9qAgphYEPsYG1oGOoQWBjZ4FgYy@BTUXA0sJVMwtiJtEfPAnCERMLQg8jC0IZTG0oK6LnqXsqYCSlXpfK4iW@kAriJf6UCuImLopjUKksUpORmo4WkGRGq5WUKSGpyYgYzRMfRQiNbSdjNTUChmppeauIrW1QsYwRVKI1NV2MhKWSSFSXytkpIFWyBjDItMqEtTKxOK@gQRZuOlg8VjYxeqxsKfD2to6VpGFgZuBjZtYQRYGZi7kkd5sC5mybhpCrmQ3cnF1cf2K5tnsSSjt@wJKMCCgbYcKy35dI/OXPRl9jHQMqbBbWBsa4KmhgYcsKFDH2rvqE2hg@SjQNJWiVKIGFMCHx9kVPbZasDOmGsAsxxrgHDXAvTCc/ExgYE5spYJJjjXAR4MGOLfL0ZkAbZybBjg3DXBuGpgH5Wz0nFQ4Qw2wxjXAuWmAc5u/oKTbODcNuqLnkkDP7FOlwhleaQSLODUI93lvRsS3xTmnAM7unKw6ODklu3oGr5QKn3oa4OpNZvQ87ODDzqM0O3iseWOS8bHv0UAdmNjUm5BsHvbKEp/zyhIf8coSn@4qMj7YlQ3WpLLB1VI2Y134MnLXwRyocLr4iuNRzl18ufHmJNfxLeOMarmLBxJeIxFqEqLV6bbMq4S2wNPIWMCS4a0ZAVyy8Yw2axeP5/F0QQDmJS7PCOG5PH4uu8yzaTyV/XjaqKsz0oyr5vJMaHpO1Vyfkcatmgs00ngmtLw6I33d@ErLRtVcn5GmWTUXaKSB1cXbKAJtFfrHOVVID5i4HMkBgAjrOzzpetXCNQgp@2KzLa4uZ4TNTrW1Q7HxDB6JvWcwsNOzcN8RqWioa1tfDZMeSkJfDpMGiFHXw6RoVPUFMSmQFvtSmLQts/@ty2Hqa1cL18Ok7FT3r7NI360WL7RIq3f/bESvm33gTd3DkQIfZEXNsEq/Taaj2fMF0d0H4nqLF5fnMorePfoSWugHWFv6GppUUFxn57MJPoswY1J6RvlqIn2BQrwIINBQAxSvDqlTVJj@PTJoVc2NK2naVXn9SRA4ExeghLqnR5@PvnzB4A79nTC/49RZa9nwmO@jFDa7zG@jFPkd5tRbS2FypJ1ccGrX/Rb0tVvk3l4K044joeo1Th6O1IK@jkumLdZp1tvMaRL0ybMTupZTHZycplsHg65D7t2G7yNssWbXb6PUZnXutI1TA5zcrtNmbh3tux6E7qIUwD/HabblSL7fMU5NHKneCZnbcprSM3K7zGmLmXCPedxpYQqOcWrhSG49gD60cjwOwzkO89oguR7OruUukVbLqY1OLeLYYW7b9RjMHt1hOI9jti3sCHyLiA6mhwYQtSENujSmQ9ALYMxiel1w8kJQez4yBVSxxhLZg/kAe6ID0nNde3E5OIW@76GVAzMnT59xzNbhDZyst9wbyceROn6EK9GlMuq2VBl12zCcw5FM7lojLQXlvEFs85bfxdUM4B@M1GzbZWGcAnDCGsG6wTpohaoOWpEM1LlXe6Gpcs9lLaq4dp0Kqt0S9h0Xi4Ybp0gVLPcw9a7vsIf@/g0\" rel=\"nofollow noreferrer\" title=\"Java (JDK) – Try It Online\">Online Decoder using tio.run</a></p>\n"},{"tags":[],"owner":{"account_id":15239597,"reputation":41,"user_id":10996267,"display_name":"Dragan N"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664727057,"creation_date":1664270217,"answer_id":73865136,"question_id":34223471,"body_markdown":"Try adding:\r\n\r\n    testOptions {\r\n       unitTests.all {\r\n          jvmArgs &#39;-noverify&#39;\r\n       }\r\n    }\r\n\r\nto the `build.gradle` file in the Android part.","title":"How to get arround java.lang.verrifyError","body":"<p>Try adding:</p>\n<pre><code>testOptions {\n   unitTests.all {\n      jvmArgs '-noverify'\n   }\n}\n</code></pre>\n<p>to the <code>build.gradle</code> file in the Android part.</p>\n"}],"owner":{"account_id":4432876,"reputation":1263,"user_id":3609599,"accept_rate":41,"display_name":"udani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5049,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":34289517,"answer_count":2,"score":2,"last_activity_date":1664727057,"creation_date":1449836540,"question_id":34223471,"body_markdown":"I am trying to generate a random number with the instrumented code. For that I have added following expression to generate a random number. But it is throwing a verify Error as given below.\r\n\r\n    method.addLocalVariable(&quot;instMethod_correlationId&quot;, CtClass.longType);\r\n    beforeBuilder.append(&quot;instMethod_correlationId = Long.valueOf(String.valueOf(System.nanoTime()) + String.valueOf(Math.round(Math.random())));&quot;);\r\n\r\nI have added a long variable and assign the above generated value. But I am getting following exception during the run time. But if I run the same number generation in a normal project it doesn&#39;t throw any exceptions. \r\n\r\n    java.lang.VerifyError: Bad type on operand stack\r\n    Exception Details:\r\n      Location:\r\n        org/h2/jdbc/JdbcConnection.prepareStatement(Ljava/lang/String;)Ljava/sql/PreparedStatement; @38: i2l\r\n      Reason:\r\n        Type &#39;java/lang/Long&#39; (current frame, stack[0]) is not assignable to integer\r\n      Current Frame:\r\n        bci: @38\r\n        flags: { }\r\n        locals: { &#39;org/h2/jdbc/JdbcConnection&#39;, &#39;java/lang/String&#39;, top, long, long_2nd }\r\n        stack: { &#39;java/lang/Long&#39; }\r\n      Bytecode:\r\n        0000000: b803 6c42 bb03 6e59 b703 6fb8 036c b803\r\n        0000010: 73b6 0376 b803 7cb8 0380 b803 73b6 0376\r\n        0000020: b603 81b8 0386 8537 05b8 038b b803 8e16\r\n        0000030: 0513 0390 b603 94bb 0396 59b7 0397 3a07\r\n        0000040: 1907 1303 992b b903 9d03 0057 b803 8bb8\r\n        0000050: 038e 1605 1303 9f19 07b6 03a2 2a06 b600\r\n        0000060: 113d 2ab6 002a 9900 272a 1237 061c bb00\r\n        0000070: 1659 b700 1712 38b6 0019 2a2b b600 1db6\r\n        0000080: 0019 1234 b600 19b6 0020 b600 2d2a b600\r\n        0000090: 2e2a 2bb7 0039 4cbb 003a 592a 2b1c 1103\r\n        00000a0: ebb2 0030 03b7 003b a700 0a4d 2a2c b600\r\n        00000b0: 28bf 3a09 bb03 9659 b703 973a 0a19 0a13\r\n        00000c0: 03a4 1303 a6b9 039d 0300 57b8 038b b803\r\n        00000d0: 8e16 05bb 036e 59b7 036f 1303 a8b6 0376\r\n        00000e0: b803 6c21 65b8 0373 b603 76b6 0381 190a\r\n        00000f0: b603 a219 09b0                         \r\n      Exception Handler Table:\r\n        bci [55, 168] =&gt; handler: 171\r\n      Stackmap Table:\r\n        full_frame(@141,{Object[#320],Object[#331],Integer,Long,Long,Object[#918]},{})\r\n        full_frame(@171,{Object[#320],Object[#331],Top,Long,Long},{Object[#322]})\r\n        full_frame(@178,{Object[#320],Object[#331],Integer,Long,Long,Object[#918]},{Object[#58]})\r\n    \r\n    \tat org.h2.Driver.connect(Driver.java:73)\r\n    \tat org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:278)\r\n    \tat org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:182)\r\n    \tat org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:701)\r\n    \tat org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:635)\r\n    \tat org.apache.tomcat.jdbc.pool.ConnectionPool.getConnection(ConnectionPool.java:188)\r\n    \tat org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:128)\r\n    \tat org.wso2.carbon.user.core.claim.dao.ClaimDAO.getDialectCount(ClaimDAO.java:158)\r\n    \tat org.wso2.carbon.user.core.common.DefaultRealm.populateProfileAndClaimMaps(DefaultRealm.java:429)\r\n    \tat org.wso2.carbon.user.core.common.DefaultRealm.init(DefaultRealm.java:105)\r\n    \tat org.wso2.carbon.user.core.common.DefaultRealmService.initializeRealm(DefaultRealmService.java:262)\r\n    \tat org.user.core.common.DefaultRealmService.&lt;init&gt;(DefaultRealmService.java:99)\r\n    \tat org.user.core.common.DefaultRealmService.&lt;init&gt;(DefaultRealmService.java:112)\r\n    \tat org.user.core.internal.Activator.startDeploy(Activator.java:68)\r\n    \tat org.user.core.internal.BundleCheckActivator.start(BundleCheckActivator.java:61)\r\n    \tat org.eclipse.osgi.framework.internal.core.BundleContextImpl$1.run(BundleContextImpl.java:711)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:702)\r\n    \tat org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:683)\r\n    \tat org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:381)\r\n    \tat org.eclipse.osgi.framework.internal.core.AbstractBundle.resume(AbstractBundle.java:390)\r\n    \tat org.eclipse.osgi.framework.internal.core.Framework.resumeBundle(Framework.java:1176)\r\n    \tat org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:559)\r\n    \tat org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:544)\r\n    \tat org.eclipse.osgi.framework.internal.core.StartLevelManager.incFWSL(StartLevelManager.java:457)\r\n    \tat org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel(StartLevelManager.java:243)\r\n    \tat org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:438)\r\n    \tat org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:1)\r\n    \tat org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)\r\n    \tat org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:340)\r\n\r\n\r\nWhat should I do to overcome this? What am I doing wrong here?\r\n","title":"How to get arround java.lang.verrifyError","body":"<p>I am trying to generate a random number with the instrumented code. For that I have added following expression to generate a random number. But it is throwing a verify Error as given below.</p>\n\n<pre><code>method.addLocalVariable(\"instMethod_correlationId\", CtClass.longType);\nbeforeBuilder.append(\"instMethod_correlationId = Long.valueOf(String.valueOf(System.nanoTime()) + String.valueOf(Math.round(Math.random())));\");\n</code></pre>\n\n<p>I have added a long variable and assign the above generated value. But I am getting following exception during the run time. But if I run the same number generation in a normal project it doesn't throw any exceptions. </p>\n\n<pre><code>java.lang.VerifyError: Bad type on operand stack\nException Details:\n  Location:\n    org/h2/jdbc/JdbcConnection.prepareStatement(Ljava/lang/String;)Ljava/sql/PreparedStatement; @38: i2l\n  Reason:\n    Type 'java/lang/Long' (current frame, stack[0]) is not assignable to integer\n  Current Frame:\n    bci: @38\n    flags: { }\n    locals: { 'org/h2/jdbc/JdbcConnection', 'java/lang/String', top, long, long_2nd }\n    stack: { 'java/lang/Long' }\n  Bytecode:\n    0000000: b803 6c42 bb03 6e59 b703 6fb8 036c b803\n    0000010: 73b6 0376 b803 7cb8 0380 b803 73b6 0376\n    0000020: b603 81b8 0386 8537 05b8 038b b803 8e16\n    0000030: 0513 0390 b603 94bb 0396 59b7 0397 3a07\n    0000040: 1907 1303 992b b903 9d03 0057 b803 8bb8\n    0000050: 038e 1605 1303 9f19 07b6 03a2 2a06 b600\n    0000060: 113d 2ab6 002a 9900 272a 1237 061c bb00\n    0000070: 1659 b700 1712 38b6 0019 2a2b b600 1db6\n    0000080: 0019 1234 b600 19b6 0020 b600 2d2a b600\n    0000090: 2e2a 2bb7 0039 4cbb 003a 592a 2b1c 1103\n    00000a0: ebb2 0030 03b7 003b a700 0a4d 2a2c b600\n    00000b0: 28bf 3a09 bb03 9659 b703 973a 0a19 0a13\n    00000c0: 03a4 1303 a6b9 039d 0300 57b8 038b b803\n    00000d0: 8e16 05bb 036e 59b7 036f 1303 a8b6 0376\n    00000e0: b803 6c21 65b8 0373 b603 76b6 0381 190a\n    00000f0: b603 a219 09b0                         \n  Exception Handler Table:\n    bci [55, 168] =&gt; handler: 171\n  Stackmap Table:\n    full_frame(@141,{Object[#320],Object[#331],Integer,Long,Long,Object[#918]},{})\n    full_frame(@171,{Object[#320],Object[#331],Top,Long,Long},{Object[#322]})\n    full_frame(@178,{Object[#320],Object[#331],Integer,Long,Long,Object[#918]},{Object[#58]})\n\n    at org.h2.Driver.connect(Driver.java:73)\n    at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:278)\n    at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:182)\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:701)\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:635)\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.getConnection(ConnectionPool.java:188)\n    at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:128)\n    at org.wso2.carbon.user.core.claim.dao.ClaimDAO.getDialectCount(ClaimDAO.java:158)\n    at org.wso2.carbon.user.core.common.DefaultRealm.populateProfileAndClaimMaps(DefaultRealm.java:429)\n    at org.wso2.carbon.user.core.common.DefaultRealm.init(DefaultRealm.java:105)\n    at org.wso2.carbon.user.core.common.DefaultRealmService.initializeRealm(DefaultRealmService.java:262)\n    at org.user.core.common.DefaultRealmService.&lt;init&gt;(DefaultRealmService.java:99)\n    at org.user.core.common.DefaultRealmService.&lt;init&gt;(DefaultRealmService.java:112)\n    at org.user.core.internal.Activator.startDeploy(Activator.java:68)\n    at org.user.core.internal.BundleCheckActivator.start(BundleCheckActivator.java:61)\n    at org.eclipse.osgi.framework.internal.core.BundleContextImpl$1.run(BundleContextImpl.java:711)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:702)\n    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:683)\n    at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:381)\n    at org.eclipse.osgi.framework.internal.core.AbstractBundle.resume(AbstractBundle.java:390)\n    at org.eclipse.osgi.framework.internal.core.Framework.resumeBundle(Framework.java:1176)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:559)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:544)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.incFWSL(StartLevelManager.java:457)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel(StartLevelManager.java:243)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:438)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:1)\n    at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)\n    at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:340)\n</code></pre>\n\n<p>What should I do to overcome this? What am I doing wrong here?</p>\n"},{"tags":["java","arrays","random","numbers","operation"],"comments":[{"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"score":2,"creation_date":1664725427,"post_id":73927121,"comment_id":130532789,"body_markdown":"Yes there is a way.  Perhaps you can provide more details in your question, even some code that is just missing the part you can&#39;t figure out.  Where are the numbers coming from?  Are they integers, floats?  Do you know how to use a random number generator?  What part are you having trouble with?","body":"Yes there is a way.  Perhaps you can provide more details in your question, even some code that is just missing the part you can&#39;t figure out.  Where are the numbers coming from?  Are they integers, floats?  Do you know how to use a random number generator?  What part are you having trouble with?"}],"answers":[{"tags":[],"owner":{"account_id":41864,"reputation":1729,"user_id":121804,"accept_rate":77,"display_name":"robob"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664725431,"creation_date":1664725431,"answer_id":73927174,"question_id":73927121,"body_markdown":"I guess a code like the following could work:\r\n\r\n    // given two number a, b\r\n    \r\n    double rand = Math.random();\r\n    if (rand &gt; 0.5)\r\n       c = a*b;\r\n    else\r\n       c = a+b;\r\n    \r\n    // c is the result of the addition/multiplication\r\n\r\n","title":"Randomly choose between of +, -, or * and apply it to two numbers","body":"<p>I guess a code like the following could work:</p>\n<pre><code>// given two number a, b\n\ndouble rand = Math.random();\nif (rand &gt; 0.5)\n   c = a*b;\nelse\n   c = a+b;\n\n// c is the result of the addition/multiplication\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664725938,"creation_date":1664725493,"answer_id":73927186,"question_id":73927121,"body_markdown":"You can put all the possible operations in a `List` as `BinaryOperator`s, then choose a random index each time.\r\n\r\n```java\r\nList&lt;BinaryOperator&lt;Integer&gt;&gt; ops = List.of(Integer::sum, (a,b)-&gt;a-b, (a,b)-&gt;a*b);\r\nint a = 1, b = 2; // numbers to apply operator to\r\nint result = ops.get(ThreadLocalRandom.current().nextInt(ops.size())).apply(a, b);\r\nSystem.out.println(result);\r\n```","title":"Randomly choose between of +, -, or * and apply it to two numbers","body":"<p>You can put all the possible operations in a <code>List</code> as <code>BinaryOperator</code>s, then choose a random index each time.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;BinaryOperator&lt;Integer&gt;&gt; ops = List.of(Integer::sum, (a,b)-&gt;a-b, (a,b)-&gt;a*b);\nint a = 1, b = 2; // numbers to apply operator to\nint result = ops.get(ThreadLocalRandom.current().nextInt(ops.size())).apply(a, b);\nSystem.out.println(result);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664726125,"creation_date":1664726125,"answer_id":73927268,"question_id":73927121,"body_markdown":"Place the operators into an array and select a random index value for that array:\r\n\r\n    String[] operators = {&quot;+&quot;, &quot;-&quot;, &quot;*&quot;, &quot;/&quot;};\r\n    int randomOperatorIndex = new java.util.Random().nextInt(operators.length);\r\n    int num1 = 24;\r\n    int num2 = 12;\r\n    double ans = 0.0d;\r\n    switch (randomOperatorIndex) {\r\n        case 0:   // + \r\n            ans = num1 + num2;\r\n            break;\r\n        case 1:   // - \r\n            ans = num1 - num2;\r\n            break;\r\n        case 2:   // * \r\n            ans = num1 * num2;\r\n            break;\r\n        case 3:   // / \r\n            ans = num1 / num2;\r\n            break;\r\n    }\r\n     \r\n    System.out.println(num1 + &quot; &quot; + operators[randomOperatorIndex] \r\n                       + &quot; &quot; + num2 + &quot; = &quot; + ans);","title":"Randomly choose between of +, -, or * and apply it to two numbers","body":"<p>Place the operators into an array and select a random index value for that array:</p>\n<pre><code>String[] operators = {&quot;+&quot;, &quot;-&quot;, &quot;*&quot;, &quot;/&quot;};\nint randomOperatorIndex = new java.util.Random().nextInt(operators.length);\nint num1 = 24;\nint num2 = 12;\ndouble ans = 0.0d;\nswitch (randomOperatorIndex) {\n    case 0:   // + \n        ans = num1 + num2;\n        break;\n    case 1:   // - \n        ans = num1 - num2;\n        break;\n    case 2:   // * \n        ans = num1 * num2;\n        break;\n    case 3:   // / \n        ans = num1 / num2;\n        break;\n}\n \nSystem.out.println(num1 + &quot; &quot; + operators[randomOperatorIndex] \n                   + &quot; &quot; + num2 + &quot; = &quot; + ans);\n</code></pre>\n"}],"owner":{"account_id":26445949,"reputation":11,"user_id":20089806,"display_name":"scholar from next door"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73927174,"answer_count":3,"score":0,"last_activity_date":1664726125,"creation_date":1664724946,"question_id":73927121,"body_markdown":"Good day\r\n\r\nI am new to java and would like to know if there is a way for me to randomly choose between multiplication and addition and apply it to two numbers.\r\n\r\nAny guidance would be appreciated.","title":"Randomly choose between of +, -, or * and apply it to two numbers","body":"<p>Good day</p>\n<p>I am new to java and would like to know if there is a way for me to randomly choose between multiplication and addition and apply it to two numbers.</p>\n<p>Any guidance would be appreciated.</p>\n"},{"tags":["java","sparse-matrix","ojalgo"],"answers":[{"tags":[],"owner":{"account_id":5578339,"reputation":1275,"user_id":4421592,"display_name":"apete"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664720142,"creation_date":1664718472,"answer_id":73926323,"question_id":73926046,"body_markdown":"You don&#39;t specify what type `mat` is?\r\n\r\nThere is a method `indexOfLargest()` defined in the `Access1D.Aggregatable` interface – implemented by a lot of different classes. But, this corresponds to `Aggregator.LARGEST` rather than `Aggregator.MAXIMUM`.\r\n\r\nSince you tagged the question with *sparse-matrix* I assume the type is `SparseStore`, and that could be problematic, using `indexOfLargest()`, as I believe its implementation of that method does not exploit sparsity. (It&#39;s just some inherited default method that would perform terribly on a sparse matrix.)\r\n\r\nYou can, quite efficiently, iterate over all nonzero elements in a `SparseStore`:\r\n\r\n        for (ElementView2D&lt;N, ?&gt; nz : mat.nonzeros()) {\r\n            nz.row();\r\n            nz.column();\r\n            nz.index();\r\n            nz.doubleValue();\r\n        }\r\n","title":"How to find the index of maximum element in ojalgo?","body":"<p>You don't specify what type <code>mat</code> is?</p>\n<p>There is a method <code>indexOfLargest()</code> defined in the <code>Access1D.Aggregatable</code> interface – implemented by a lot of different classes. But, this corresponds to <code>Aggregator.LARGEST</code> rather than <code>Aggregator.MAXIMUM</code>.</p>\n<p>Since you tagged the question with <em>sparse-matrix</em> I assume the type is <code>SparseStore</code>, and that could be problematic, using <code>indexOfLargest()</code>, as I believe its implementation of that method does not exploit sparsity. (It's just some inherited default method that would perform terribly on a sparse matrix.)</p>\n<p>You can, quite efficiently, iterate over all nonzero elements in a <code>SparseStore</code>:</p>\n<pre><code>    for (ElementView2D&lt;N, ?&gt; nz : mat.nonzeros()) {\n        nz.row();\n        nz.column();\n        nz.index();\n        nz.doubleValue();\n    }\n</code></pre>\n"}],"owner":{"account_id":1604214,"reputation":4524,"user_id":1484621,"accept_rate":70,"display_name":"Yu Jiaao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73926323,"answer_count":1,"score":1,"last_activity_date":1664725790,"creation_date":1664715943,"question_id":73926046,"body_markdown":"How to find the index of maximum element in ojalgo?\r\n\r\nTo find maximum I can use `double res = mat.aggregateAll(Aggregator.MAXIMUM);`, but how to find the maximum&#39;s indices?\r\n\r\nPS: the mat is type of `SparseStore&lt;Double&gt;`","title":"How to find the index of maximum element in ojalgo?","body":"<p>How to find the index of maximum element in ojalgo?</p>\n<p>To find maximum I can use <code>double res = mat.aggregateAll(Aggregator.MAXIMUM);</code>, but how to find the maximum's indices?</p>\n<p>PS: the mat is type of <code>SparseStore&lt;Double&gt;</code></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1664725101,"post_id":73927084,"comment_id":130532699,"body_markdown":"Your teacher should be scolded for encouraging string concatenation in a loop.  Use StringBuilder.  They probably just didn&#39;t want to introduce the StringBuilder class this early - but they better follow up with &quot;by the way, never do this&quot;.","body":"Your teacher should be scolded for encouraging string concatenation in a loop.  Use StringBuilder.  They probably just didn&#39;t want to introduce the StringBuilder class this early - but they better follow up with &quot;by the way, never do this&quot;."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1664726289,"post_id":73927084,"comment_id":130533013,"body_markdown":"@swpalmer   I already deleted my comment to avoid falling into a silly internet debate.","body":"@swpalmer   I already deleted my comment to avoid falling into a silly internet debate."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1664726305,"post_id":73927084,"comment_id":130533015,"body_markdown":"Poor title. Rewrite to summarize your specific technical issue.","body":"Poor title. Rewrite to summarize your specific technical issue."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664724888,"creation_date":1664724888,"answer_id":73927115,"question_id":73927084,"body_markdown":"You can just compare with `&#39;A&#39;` and `&#39;Z&#39;` (since the uppercase letters are consecutive in ASCII).\r\n\r\n```java\r\nchar c1 = s.charAt(i);\r\nif (c1 &gt;= &#39;A&#39; &amp;&amp; c1 &lt;= &#39;Z&#39;) output += c1;\r\n```\r\n\r\n[`Character.isUpperCase`](https://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#isUpperCase-char-) is more general and works for Unicode, not just ASCII.\r\n\r\n```java\r\nif (Character.isUpperCase(c1)) output += c1;\r\n```","title":"Assistance on highschool AP-Computer science hw","body":"<p>You can just compare with <code>'A'</code> and <code>'Z'</code> (since the uppercase letters are consecutive in ASCII).</p>\n<pre class=\"lang-java prettyprint-override\"><code>char c1 = s.charAt(i);\nif (c1 &gt;= 'A' &amp;&amp; c1 &lt;= 'Z') output += c1;\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#isUpperCase-char-\" rel=\"nofollow noreferrer\"><code>Character.isUpperCase</code></a> is more general and works for Unicode, not just ASCII.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (Character.isUpperCase(c1)) output += c1;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5298708,"reputation":55,"user_id":4229099,"display_name":"Marius"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664725417,"creation_date":1664725417,"answer_id":73927170,"question_id":73927084,"body_markdown":"You can convert your string to a char array and check if the array`s element at position i is uppercase with method isUpperCase of class Character.\r\n```\r\npublic class homework5{\r\n    public homework5(){\r\n    }\r\n    public String getUpper(String s){\r\n        String output = &quot;&quot;;\r\n        for(int i = 0; i &lt; s.length(); i++){\r\n            //i is the index of the string\r\n            if (Character.isUpperCase(s.toCharArray()[i])) {\r\n                output += output + s.toCharArray()[i];\r\n             }\r\n            \r\n         }\r\n        return output;\r\n     }\r\n    public static void main(String args[]){\r\n        homework5 obj1 = new homework5();\r\n            //method call\r\n        System.out.println(obj1.getUpper(&quot;Hello&quot;));\r\n    }\r\n}\r\n```","title":"Assistance on highschool AP-Computer science hw","body":"<p>You can convert your string to a char array and check if the array`s element at position i is uppercase with method isUpperCase of class Character.</p>\n<pre><code>public class homework5{\n    public homework5(){\n    }\n    public String getUpper(String s){\n        String output = &quot;&quot;;\n        for(int i = 0; i &lt; s.length(); i++){\n            //i is the index of the string\n            if (Character.isUpperCase(s.toCharArray()[i])) {\n                output += output + s.toCharArray()[i];\n             }\n            \n         }\n        return output;\n     }\n    public static void main(String args[]){\n        homework5 obj1 = new homework5();\n            //method call\n        System.out.println(obj1.getUpper(&quot;Hello&quot;));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26507972,"reputation":53,"user_id":20143802,"display_name":"Stablinz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1664726219,"accepted_answer_id":73927115,"answer_count":2,"score":-1,"last_activity_date":1664725417,"creation_date":1664724673,"question_id":73927084,"body_markdown":"I have a homework assignment in where my teacher has left us the following instructions:\r\n**Create a new method with String input and String return. \r\nCheck the string to see if there are any uppercase letter, put together all uppercase together and return this string:\r\nYour method header and for-loop provided:\r\nNo power tools, use ASCII table\r\nYour sample output should be as followed:\r\ngetUpper(“Hello, World”) returns “HW”\r\ngetUpper(“no way”) returns “”**\r\n\r\nThis is the initial code provided:\r\n\r\n    public String getUpper(String s) {\r\n        String output = &quot;&quot;;\r\n        for (int i = 0; i &lt; s.length(); i++) {\r\n            //i is the index of the string\r\n            //Your work here\r\n        }\r\n\r\n        return output;\r\n    }\r\n\r\nI have managed to create a solution, however this solution is one that is hardcoded as seen below: \r\n\r\n    public class homework5 {\r\n        public homework5() {\r\n        }\r\n        public String getUpper(String s) {\r\n            String output = &quot;&quot;;\r\n            for (int i = 0; i &lt; s.length(); i++) {\r\n                //i is the index of the string\r\n                char c1 = s.charAt(i);\r\n                int a1 = (int)c1;        \r\n                if (a1 &lt; 97) {\r\n                    output += c1; // This segment of code works, but is hardcoded. Find a generalized value for it.\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n\r\n        public static void main(String args[]) {\r\n            homework5 obj1 = new homework5();\r\n                //method call\r\n            System.out.println(obj1.getUpper(&quot;Hello&quot;));\r\n        }\r\n    }\r\n\r\nHow would I go about this problem to find a general way to find a character, checks its ascii value, and see if it is uppercase, and then print it out?","title":"Assistance on highschool AP-Computer science hw","body":"<p>I have a homework assignment in where my teacher has left us the following instructions:\n<strong>Create a new method with String input and String return.\nCheck the string to see if there are any uppercase letter, put together all uppercase together and return this string:\nYour method header and for-loop provided:\nNo power tools, use ASCII table\nYour sample output should be as followed:\ngetUpper(“Hello, World”) returns “HW”\ngetUpper(“no way”) returns “”</strong></p>\n<p>This is the initial code provided:</p>\n<pre><code>public String getUpper(String s) {\n    String output = &quot;&quot;;\n    for (int i = 0; i &lt; s.length(); i++) {\n        //i is the index of the string\n        //Your work here\n    }\n\n    return output;\n}\n</code></pre>\n<p>I have managed to create a solution, however this solution is one that is hardcoded as seen below:</p>\n<pre><code>public class homework5 {\n    public homework5() {\n    }\n    public String getUpper(String s) {\n        String output = &quot;&quot;;\n        for (int i = 0; i &lt; s.length(); i++) {\n            //i is the index of the string\n            char c1 = s.charAt(i);\n            int a1 = (int)c1;        \n            if (a1 &lt; 97) {\n                output += c1; // This segment of code works, but is hardcoded. Find a generalized value for it.\n            }\n        }\n        return output;\n    }\n\n    public static void main(String args[]) {\n        homework5 obj1 = new homework5();\n            //method call\n        System.out.println(obj1.getUpper(&quot;Hello&quot;));\n    }\n}\n</code></pre>\n<p>How would I go about this problem to find a general way to find a character, checks its ascii value, and see if it is uppercase, and then print it out?</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":4753576,"reputation":622,"user_id":3842946,"display_name":"name not found"},"score":0,"creation_date":1575712239,"post_id":59224667,"comment_id":104663951,"body_markdown":"Do you mean you enter all 10 integers first and then press Enter? Or do you enter the first number, press Enter, second Number, press Enter, and so on?","body":"Do you mean you enter all 10 integers first and then press Enter? Or do you enter the first number, press Enter, second Number, press Enter, and so on?"},{"owner":{"account_id":17256584,"reputation":115,"user_id":12495530,"display_name":"Jannemannen"},"score":0,"creation_date":1575712351,"post_id":59224667,"comment_id":104663970,"body_markdown":"10 in a row. Edited my post for better clarification.","body":"10 in a row. Edited my post for better clarification."}],"answers":[{"comments":[{"owner":{"account_id":17256584,"reputation":115,"user_id":12495530,"display_name":"Jannemannen"},"score":0,"creation_date":1575712870,"post_id":59224843,"comment_id":104664066,"body_markdown":"The issue for me here is that it takes nextInt, so it never really prints the first int.","body":"The issue for me here is that it takes nextInt, so it never really prints the first int."}],"tags":[],"owner":{"account_id":17243853,"reputation":47,"user_id":12485567,"display_name":"Tr4cEr"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575712608,"creation_date":1575712608,"answer_id":59224843,"question_id":59224667,"body_markdown":"Below snippet can be used to take multiple Integer Input on same line.\r\n\r\n    Scanner sc= new Scanner(System.in);    // Declare and Initialize Scanner\r\n    while(sc.hasNext())                    // While the input has data execute\r\n        System.out.println(sc.nextInt());  // nextInt() method is used to take Integer data\r\n\r\nFor Multiple String input on same line separated by white space or a comma,\r\nwe can use the following snippet\r\n\r\n    Scanner sc = new Scanner(System.in).useDelimiter(&quot;[,\\\\s+]&quot;);","title":"How to read multiple inputs on same line in Java?","body":"<p>Below snippet can be used to take multiple Integer Input on same line.</p>\n\n<pre><code>Scanner sc= new Scanner(System.in);    // Declare and Initialize Scanner\nwhile(sc.hasNext())                    // While the input has data execute\n    System.out.println(sc.nextInt());  // nextInt() method is used to take Integer data\n</code></pre>\n\n<p>For Multiple String input on same line separated by white space or a comma,\nwe can use the following snippet</p>\n\n<pre><code>Scanner sc = new Scanner(System.in).useDelimiter(\"[,\\\\s+]\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664724794,"creation_date":1575716136,"answer_id":59225242,"question_id":59224667,"body_markdown":"Start with assigning the first scanned integer to `largest` and `secondLargest` variables and then process the remaining nine integers in a loop as follows:\r\n\r\n    num = sc.nextInt();\r\n    if (num &gt; largest) {\r\n        secondLargest = largest;\r\n        largest = num;\r\n    }\r\n\r\n**Demo**:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class SecondLargest {\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.print(&quot;Enter 10 integers separated by single spaces: &quot;);\r\n    \r\n            // Scan the first integer and assign it to largest and secondLargest\r\n            int num = sc.nextInt();\r\n            int largest = num;\r\n            int secondLargest = largest;\r\n    \r\n            // Input 9 more integers\r\n            for (int i = 1; i &lt; 10; i++) {\r\n                num = sc.nextInt();\r\n                if (num &gt; largest) {\r\n                    secondLargest = largest;\r\n                    largest = num;\r\n                }\r\n            }\r\n    \r\n            System.out.println(&quot;The second largest number is: &quot; + secondLargest);\r\n        }\r\n    }\r\n\r\n**A sample run:**\r\n\r\n    Enter 10 integers separated by single spaces: 10 23 4 12 80 45 78 90 105 7\r\n    The second largest number is: 90\r\n\r\n**Note:** This is just a sample program assuming that the input is in the correct format. I leave it to you to work on how to deal with the wrong input. It will be a good exercise for you.\r\n","title":"How to read multiple inputs on same line in Java?","body":"<p>Start with assigning the first scanned integer to <code>largest</code> and <code>secondLargest</code> variables and then process the remaining nine integers in a loop as follows:</p>\n<pre><code>num = sc.nextInt();\nif (num &gt; largest) {\n    secondLargest = largest;\n    largest = num;\n}\n</code></pre>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.util.Scanner;\n\npublic class SecondLargest {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.print(&quot;Enter 10 integers separated by single spaces: &quot;);\n\n        // Scan the first integer and assign it to largest and secondLargest\n        int num = sc.nextInt();\n        int largest = num;\n        int secondLargest = largest;\n\n        // Input 9 more integers\n        for (int i = 1; i &lt; 10; i++) {\n            num = sc.nextInt();\n            if (num &gt; largest) {\n                secondLargest = largest;\n                largest = num;\n            }\n        }\n\n        System.out.println(&quot;The second largest number is: &quot; + secondLargest);\n    }\n}\n</code></pre>\n<p><strong>A sample run:</strong></p>\n<pre><code>Enter 10 integers separated by single spaces: 10 23 4 12 80 45 78 90 105 7\nThe second largest number is: 90\n</code></pre>\n<p><strong>Note:</strong> This is just a sample program assuming that the input is in the correct format. I leave it to you to work on how to deal with the wrong input. It will be a good exercise for you.</p>\n"},{"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1664725034,"post_id":62462449,"comment_id":130532684,"body_markdown":"You do not need an array to solve this problem.","body":"You do not need an array to solve this problem."}],"tags":[],"owner":{"account_id":11056025,"reputation":19,"user_id":8118835,"display_name":"Mohanish"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592534974,"creation_date":1592534581,"answer_id":62462449,"question_id":59224667,"body_markdown":"    /*\r\n    **In this code I&#39;ve used BufferedReader class which is faster than Scanner \r\n    Class as well as have large buffer of 8KB while Scanner has only 1KB.**\r\n    */\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    public class Second_Highest {\r\n     public static void main(String[] args) throws IOException\r\n     {\r\n        BufferedReader br=new BufferedReader(new InputStreamReader(System.in));\r\n        String[] s=br.readLine().split(&quot; &quot;);\r\n        int a[]=new int[10];\r\n        int max=Integer.parseInt(s[0]);\r\n        for(int i=0;i&lt;10;i++)\r\n        {\r\n            a[i]=Integer.parseInt(s[i]);\r\n            if(a[i]&gt;max)\r\n            {\r\n                max=a[i];\r\n            }\r\n        }\r\n        int secondmax=Integer.parseInt(s[0]);\r\n        for(int i=0;i&lt;10;i++)\r\n        {\r\n            if(a[i]&gt;secondmax &amp;&amp; a[i]&lt;max)\r\n            {\r\n                secondmax=a[i];\r\n            }\r\n        }\r\n        System.out.print(secondmax);\r\n     }   \r\n    }","title":"How to read multiple inputs on same line in Java?","body":"<pre><code>/*\n**In this code I've used BufferedReader class which is faster than Scanner \nClass as well as have large buffer of 8KB while Scanner has only 1KB.**\n*/\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\npublic class Second_Highest {\n public static void main(String[] args) throws IOException\n {\n    BufferedReader br=new BufferedReader(new InputStreamReader(System.in));\n    String[] s=br.readLine().split(\" \");\n    int a[]=new int[10];\n    int max=Integer.parseInt(s[0]);\n    for(int i=0;i&lt;10;i++)\n    {\n        a[i]=Integer.parseInt(s[i]);\n        if(a[i]&gt;max)\n        {\n            max=a[i];\n        }\n    }\n    int secondmax=Integer.parseInt(s[0]);\n    for(int i=0;i&lt;10;i++)\n    {\n        if(a[i]&gt;secondmax &amp;&amp; a[i]&lt;max)\n        {\n            secondmax=a[i];\n        }\n    }\n    System.out.print(secondmax);\n }   \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":21539336,"reputation":1,"user_id":15877339,"display_name":"Mithlesh Sahu"},"score":0,"creation_date":1620553529,"post_id":67456299,"comment_id":119230200,"body_markdown":"This is a program of a prime no. in which the input and out will in single line for multiple inputs taken by user. input :1 2 3 4 5  output 1 3 5","body":"This is a program of a prime no. in which the input and out will in single line for multiple inputs taken by user. input :1 2 3 4 5  output 1 3 5"}],"tags":[],"owner":{"account_id":21539336,"reputation":1,"user_id":15877339,"display_name":"Mithlesh Sahu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620553460,"creation_date":1620553460,"answer_id":67456299,"question_id":59224667,"body_markdown":"    import java.util.*;\r\n    public class m1{\r\n    public static void main(String args[]){\r\n    Scannerscan = new Scanner(System.in);\r\n    Stringnum = scan.nextLine();\r\n    String[] strs = num.split(&quot;\\\\s+&quot;);\r\n    int[] arrs = new int[strs.length];\r\n    for(inti=0;i&lt;strs.length;i++)\r\n    {\r\n    String stringnum = strs[i];\r\n    arrs[i] = Integer.parseInt(stringnum);\r\n    if(arrs[i]%2==0){\r\n    System.out.print(&quot; &quot;);\r\n    }\r\n    else{\r\n    System.out.print(arrs[i]);\r\n    }\r\n    }\r\n    scan.close();\r\n    }\r\n    }\r\n","title":"How to read multiple inputs on same line in Java?","body":"<pre><code>import java.util.*;\npublic class m1{\npublic static void main(String args[]){\nScannerscan = new Scanner(System.in);\nStringnum = scan.nextLine();\nString[] strs = num.split(&quot;\\\\s+&quot;);\nint[] arrs = new int[strs.length];\nfor(inti=0;i&lt;strs.length;i++)\n{\nString stringnum = strs[i];\narrs[i] = Integer.parseInt(stringnum);\nif(arrs[i]%2==0){\nSystem.out.print(&quot; &quot;);\n}\nelse{\nSystem.out.print(arrs[i]);\n}\n}\nscan.close();\n}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1664724990,"post_id":67807212,"comment_id":130532671,"body_markdown":"You do not need an array to solve this problem.","body":"You do not need an array to solve this problem."}],"tags":[],"owner":{"account_id":16138998,"reputation":11,"user_id":11650689,"display_name":"Suraj Van Verma"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622644466,"creation_date":1622644466,"answer_id":67807212,"question_id":59224667,"body_markdown":"To read single line input, You can do this simply by eating the (\\n) which is new line in Java. \r\n\r\nInput : 1 2 3  \r\n\r\n```\r\n\\\\Create the object of Scanner Class\r\nScanner sc = new Scanner(System.in);\r\n\r\nint a = sc.nextInt();\r\nint b = sc.nextInt();\r\nint c = sc.nextInt();\r\n\r\n// this will eat the new line and move forward for other inputs.\r\nsc.nextLine()\r\n\r\n\r\n```\r\n\r\nTo read in a loop or to store at 2D array.\r\n\r\nInput : \r\n1 2 3\r\n3 4 5\r\n6 7 8\r\n\r\n```\r\n//... do the above declaration of array\r\n\r\nfor ( int i = 0; i &lt; n; i++){\r\n   for( int j = 0; j &lt; m; j++){\r\n      arr[i][j] = sc.nextInt()\r\n    } \r\n   sc.nextLine(); // you need to eat the \\n here. \r\n}\r\n```\r\n\r\nThis will work perfectly.\r\n\r\nNow you should be able to get the input easily in a single line.\r\n","title":"How to read multiple inputs on same line in Java?","body":"<p>To read single line input, You can do this simply by eating the (\\n) which is new line in Java.</p>\n<p>Input : 1 2 3</p>\n<pre><code>\\\\Create the object of Scanner Class\nScanner sc = new Scanner(System.in);\n\nint a = sc.nextInt();\nint b = sc.nextInt();\nint c = sc.nextInt();\n\n// this will eat the new line and move forward for other inputs.\nsc.nextLine()\n\n\n</code></pre>\n<p>To read in a loop or to store at 2D array.</p>\n<p>Input :\n1 2 3\n3 4 5\n6 7 8</p>\n<pre><code>//... do the above declaration of array\n\nfor ( int i = 0; i &lt; n; i++){\n   for( int j = 0; j &lt; m; j++){\n      arr[i][j] = sc.nextInt()\n    } \n   sc.nextLine(); // you need to eat the \\n here. \n}\n</code></pre>\n<p>This will work perfectly.</p>\n<p>Now you should be able to get the input easily in a single line.</p>\n"}],"owner":{"account_id":17256584,"reputation":115,"user_id":12495530,"display_name":"Jannemannen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36394,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59225242,"answer_count":5,"score":2,"last_activity_date":1664724794,"creation_date":1575711311,"question_id":59224667,"body_markdown":"So I&#39;m trying to read all the input from one line, using scanner, then take the values and find the second largest. I would use an array **BUT** I am not allowed. You are supposed to enter 10 integers, hit enter and evaluate them.\r\n\r\nSomething like this:\r\n\r\n    10 20 30 40 50 60 70 80 90 100 ENTER\r\n\r\n    Second highest number is: 90\r\n\r\nI can&#39;t manage to solve it at all. It should be easy but I have no idea.\r\n\r\n    public class SecondLargest {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t{\r\n\t\t\tint largest = 0;\r\n\t\t\tint secondLargest = 0;\r\n\t\t\tScanner sc = new Scanner(System.in);\r\n\t\t\tSystem.out.print(&quot;Enter integers: &quot;);\r\n\t\t\tint numbers = sc.nextInt();\r\n\t\t\tlargest = numbers;\r\n\t\t\t\r\n\t\t\twhile (sc.hasNextInt()) {\r\n\t\t\t\tif (numbers &gt; largest) {\r\n\t\t\t\t\tsecondLargest = largest;\r\n\t\t\t\t\tlargest = numbers;\r\n\t\t\t\t} else if (numbers &gt; secondLargest) {\r\n\t\t\t\t\tsecondLargest = numbers;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;Second largest number is: &quot; + secondLargest);\r\n\t\t\tsc.close();\r\n\r\n\t\t}\r\n\t}\r\n\r\n\r\n","title":"How to read multiple inputs on same line in Java?","body":"<p>So I'm trying to read all the input from one line, using scanner, then take the values and find the second largest. I would use an array <strong>BUT</strong> I am not allowed. You are supposed to enter 10 integers, hit enter and evaluate them.</p>\n\n<p>Something like this:</p>\n\n<pre><code>10 20 30 40 50 60 70 80 90 100 ENTER\n\nSecond highest number is: 90\n</code></pre>\n\n<p>I can't manage to solve it at all. It should be easy but I have no idea.</p>\n\n<pre><code>public class SecondLargest {\n\npublic static void main(String[] args) {\n    {\n        int largest = 0;\n        int secondLargest = 0;\n        Scanner sc = new Scanner(System.in);\n        System.out.print(\"Enter integers: \");\n        int numbers = sc.nextInt();\n        largest = numbers;\n\n        while (sc.hasNextInt()) {\n            if (numbers &gt; largest) {\n                secondLargest = largest;\n                largest = numbers;\n            } else if (numbers &gt; secondLargest) {\n                secondLargest = numbers;\n            }\n        }\n        System.out.println(\"Second largest number is: \" + secondLargest);\n        sc.close();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","testing","junit","filewriter","file-writing"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1664723642,"post_id":73926927,"comment_id":130532359,"body_markdown":"Are you sure parent folder for that file exists?","body":"Are you sure parent folder for that file exists?"},{"owner":{"account_id":7730911,"reputation":13,"user_id":5854092,"display_name":"Hamster339"},"score":0,"creation_date":1664724635,"post_id":73926927,"comment_id":130532570,"body_markdown":"@talex Oh right yeah that seems to have worked. thank you! I thought that it created the directory too if it doesn&#39;t exist, don&#39;t know where I got that from","body":"@talex Oh right yeah that seems to have worked. thank you! I thought that it created the directory too if it doesn&#39;t exist, don&#39;t know where I got that from"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1665062202,"post_id":73927091,"comment_id":130614788,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73927091/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":7730911,"reputation":13,"user_id":5854092,"display_name":"Hamster339"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664724712,"creation_date":1664724712,"answer_id":73927091,"question_id":73926927,"body_markdown":"It appears I just needed to create the new directories before I tried to write files in them. Silly mistake.","title":"Why cant i write to a file in A junit test?","body":"<p>It appears I just needed to create the new directories before I tried to write files in them. Silly mistake.</p>\n"}],"owner":{"account_id":7730911,"reputation":13,"user_id":5854092,"display_name":"Hamster339"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73927091,"answer_count":1,"score":0,"last_activity_date":1664724712,"creation_date":1664723319,"question_id":73926927,"body_markdown":"I have a directory with some files in it.\r\n\r\nI have a junit test suite that tests some operations that write, edit and delete these files\r\n\r\nI want to save the contents of the files before I run the tests and restore them after.\r\n\r\nI am trying to do this by copying the files to another directory before the tests run and copying them back after.\r\n\r\nso I have the following code in an @beforeClass test method:\r\n\r\n    File repDir = new File(&quot;/home/hamster339/Documents/Projects/Piping_Tune_List/Repertoire&quot;);\r\n        if (repDir.exists()){\r\n            for (File f: Objects.requireNonNull(repDir.listFiles())) {\r\n                Scanner r = new Scanner(f);\r\n                FileWriter w = new FileWriter(String.format(&quot;/home/hamster339/Documents/Projects/Piping_Tune_List/temp/%s&quot;,f.getName()));\r\n                while (r.hasNextLine()){\r\n                    w.write(r.nextLine());\r\n                }\r\n                w.close();\r\n                r.close();\r\n            }\r\n        }\r\n\r\nHowever, this gives me the following error:\r\n\r\n    java.io.FileNotFoundException: /home/hamster339/Documents/Projects/Piping_Tune_List/temp/Learnt.prl (No such file or directory)\r\n\r\nThis error indicated, from my understanding, that I do not have write permission. .write() should create a new file if one does not exist already.\r\n\r\nusing File.canwrite() confirms this by returning false.\r\n\r\nWriting works perfectly fine in the main program, and I also am able to make new directories, just not write to or create files.\r\n\r\nso my question is, why can&#39;t I write to files in the tests, when it works fine in the main code?","title":"Why cant i write to a file in A junit test?","body":"<p>I have a directory with some files in it.</p>\n<p>I have a junit test suite that tests some operations that write, edit and delete these files</p>\n<p>I want to save the contents of the files before I run the tests and restore them after.</p>\n<p>I am trying to do this by copying the files to another directory before the tests run and copying them back after.</p>\n<p>so I have the following code in an @beforeClass test method:</p>\n<pre><code>File repDir = new File(&quot;/home/hamster339/Documents/Projects/Piping_Tune_List/Repertoire&quot;);\n    if (repDir.exists()){\n        for (File f: Objects.requireNonNull(repDir.listFiles())) {\n            Scanner r = new Scanner(f);\n            FileWriter w = new FileWriter(String.format(&quot;/home/hamster339/Documents/Projects/Piping_Tune_List/temp/%s&quot;,f.getName()));\n            while (r.hasNextLine()){\n                w.write(r.nextLine());\n            }\n            w.close();\n            r.close();\n        }\n    }\n</code></pre>\n<p>However, this gives me the following error:</p>\n<pre><code>java.io.FileNotFoundException: /home/hamster339/Documents/Projects/Piping_Tune_List/temp/Learnt.prl (No such file or directory)\n</code></pre>\n<p>This error indicated, from my understanding, that I do not have write permission. .write() should create a new file if one does not exist already.</p>\n<p>using File.canwrite() confirms this by returning false.</p>\n<p>Writing works perfectly fine in the main program, and I also am able to make new directories, just not write to or create files.</p>\n<p>so my question is, why can't I write to files in the tests, when it works fine in the main code?</p>\n"},{"tags":["java","multithreading","animation","random","dice"],"comments":[{"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1664725990,"post_id":73927035,"comment_id":130532943,"body_markdown":"You are blocking the Swing thread from doing anything until your method returns.  It has no opportunity to paint the label at the intermediate stages.  Do this in another thread or use a timer or something.  Use SwingUtilities.invokeLater to update the label.","body":"You are blocking the Swing thread from doing anything until your method returns.  It has no opportunity to paint the label at the intermediate stages.  Do this in another thread or use a timer or something.  Use SwingUtilities.invokeLater to update the label."},{"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1664726048,"post_id":73927035,"comment_id":130532960,"body_markdown":"Your sleep is also very short if you expect users to see that is happening.","body":"Your sleep is also very short if you expect users to see that is happening."},{"owner":{"account_id":26262380,"reputation":1,"user_id":19933476,"display_name":"seve"},"score":0,"creation_date":1664820332,"post_id":73927035,"comment_id":130553950,"body_markdown":"I&#39;m not sure how to do it. The function is called with a button press. Where should I create a second thread? And what should I put in it?","body":"I&#39;m not sure how to do it. The function is called with a button press. Where should I create a second thread? And what should I put in it?"},{"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1664845617,"post_id":73927035,"comment_id":130559195,"body_markdown":"The simplest thing to do would be to use a SwingTimer to update the label.  Saves you needing to manage threads on your own and synchronize with the GUI thread.  See https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html","body":"The simplest thing to do would be to use a SwingTimer to update the label.  Saves you needing to manage threads on your own and synchronize with the GUI thread.  See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/misc/timer.html</a>"}],"owner":{"account_id":26262380,"reputation":1,"user_id":19933476,"display_name":"seve"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664724251,"creation_date":1664724251,"question_id":73927035,"body_markdown":"I have a simple dice roller that displays the result in a JLabel. I&#39;d like an animation of random numbers showing and slowing down until one is picked.\r\nNo matter what I try, I cannot get the JLabel to display the numbers, it will only display the final one.\r\nAlso, when you roll the same number as the one before, there&#39;s no way of telling because nothing changes in the Jaleb\r\n\r\nOne of my attempts:\r\n\r\n\tprivate void rollDice(int lower, int upper) {\r\n\r\n\t\ttry {\r\n\t\t\tRandom rand = new Random();\r\n\t\t    for (int i = 0; i &lt; 10; i++) {\r\n\t\t    \tint int_random = rand.nextInt(lower,upper);\r\n\t\t    \tThread.sleep(i*20);\r\n\t\t    \tlblDice.setText(Integer.toString(int_random));\r\n\t\t    \tcontentPane.paintComponents(lblDice.getGraphics());\r\n\t\t    }\r\n\t\t} catch (InterruptedException e) {e.printStackTrace();}\r\n\t\r\n\t}","title":"dice animation - showing numbers like on a countdown","body":"<p>I have a simple dice roller that displays the result in a JLabel. I'd like an animation of random numbers showing and slowing down until one is picked.\nNo matter what I try, I cannot get the JLabel to display the numbers, it will only display the final one.\nAlso, when you roll the same number as the one before, there's no way of telling because nothing changes in the Jaleb</p>\n<p>One of my attempts:</p>\n<pre><code>private void rollDice(int lower, int upper) {\n\n    try {\n        Random rand = new Random();\n        for (int i = 0; i &lt; 10; i++) {\n            int int_random = rand.nextInt(lower,upper);\n            Thread.sleep(i*20);\n            lblDice.setText(Integer.toString(int_random));\n            contentPane.paintComponents(lblDice.getGraphics());\n        }\n    } catch (InterruptedException e) {e.printStackTrace();}\n\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-boot"],"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1508332420,"post_id":46810929,"comment_id":80569159,"body_markdown":"I am not convinced that the problem is in the declarations you have presented.  Please present a [mcve] with which one or both of the exceptions you report can be reproduced.","body":"I am not convinced that the problem is in the declarations you have presented.  Please present a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with which one or both of the exceptions you report can be reproduced."}],"answers":[{"comments":[{"owner":{"account_id":11253283,"reputation":1764,"user_id":8253837,"display_name":"Daria Pydorenko"},"score":0,"creation_date":1508337168,"post_id":46811528,"comment_id":80572444,"body_markdown":"It didn&#39;t help me. I added `@Transactional` annotation and `@EnableTransactionManagement`, but nothing changed. If I configure `HibernateTransactionManager` and `SessionFactory` with beans, I have an exception about `bean named &#39;entityManagerFactory&#39; that could not be found.`\nWhat else can I try?","body":"It didn&#39;t help me. I added <code>@Transactional</code> annotation and <code>@EnableTransactionManagement</code>, but nothing changed. If I configure <code>HibernateTransactionManager</code> and <code>SessionFactory</code> with beans, I have an exception about <code>bean named &#39;entityManagerFactory&#39; that could not be found.</code> What else can I try?"},{"owner":{"account_id":2293754,"reputation":226,"user_id":2015795,"accept_rate":59,"display_name":"Neero"},"score":0,"creation_date":1508344729,"post_id":46811528,"comment_id":80577571,"body_markdown":"I&#39;m agree with the @Herr&#39;s solution. seems like your collection is detached from the session. also in model classes you can update the annotations. In class Role update the annotation `@ManyToMany(fetch = FetchType.LAZY, mappedBy = &quot;roles&quot;)` and in the class User update it to @ManyToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL).","body":"I&#39;m agree with the @Herr&#39;s solution. seems like your collection is detached from the session. also in model classes you can update the annotations. In class Role update the annotation <code>@ManyToMany(fetch = FetchType.LAZY, mappedBy = &quot;roles&quot;)</code> and in the class User update it to @ManyToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)."},{"owner":{"account_id":11253283,"reputation":1764,"user_id":8253837,"display_name":"Daria Pydorenko"},"score":0,"creation_date":1508396372,"post_id":46811528,"comment_id":80595868,"body_markdown":"I updated annotations, but it didn&#39;t help. I tried to use this answer: https://stackoverflow.com/a/30884155/8253837 and added `@PersistenceContext private EntityManager em;` in the class with     `@Transactional` method and now I have `java.lang.StackOverflowError`exception. \nAlso my UserRepository extends CrudRepository, if it matters; but I created separeted class for  `@Transactional` method that uses UserRepository.","body":"I updated annotations, but it didn&#39;t help. I tried to use this answer: <a href=\"https://stackoverflow.com/a/30884155/8253837\">stackoverflow.com/a/30884155/8253837</a> and added <code>@PersistenceContext private EntityManager em;</code> in the class with     <code>@Transactional</code> method and now I have <code>java.lang.StackOverflowError</code>exception.  Also my UserRepository extends CrudRepository, if it matters; but I created separeted class for  <code>@Transactional</code> method that uses UserRepository."},{"owner":{"account_id":3580881,"reputation":5060,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"score":0,"creation_date":1508397110,"post_id":46811528,"comment_id":80596246,"body_markdown":"You should not need any extra configuration for this. Can you add the code where the actual exception gets thrown?","body":"You should not need any extra configuration for this. Can you add the code where the actual exception gets thrown?"},{"owner":{"account_id":3580881,"reputation":5060,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"score":0,"creation_date":1508397199,"post_id":46811528,"comment_id":80596294,"body_markdown":"Do you use the annotation `@SpringBootApplication`?","body":"Do you use the annotation <code>@SpringBootApplication</code>?"},{"owner":{"account_id":11253283,"reputation":1764,"user_id":8253837,"display_name":"Daria Pydorenko"},"score":0,"creation_date":1508587457,"post_id":46811528,"comment_id":80673509,"body_markdown":"So do you know what else can I try?","body":"So do you know what else can I try?"}],"tags":[],"owner":{"account_id":3580881,"reputation":5060,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1508339098,"creation_date":1508333774,"answer_id":46811528,"question_id":46810929,"body_markdown":"Hibernate already tells you why:\r\n\r\n&gt; org.hibernate.LazyInitializationException: failed to lazily initialize\r\n&gt; a collection of role: User.roles, could not initialize proxy - no\r\n&gt; Session\r\n\r\n    public List&lt;Role&gt; getRolesForUserId(int id){\r\n    \tUserEntity user = userRepository.findUserById(1)\r\n    \tuser.getRoles()\r\n    }\r\n\r\nThis will cause an exception, because you trying to get the lazy fetched user roles without an active hibernate session.\r\n\r\n`@Transactional ` is your friend. The `@Transactional ` annotation will create a hibernate session with a certain scope (e.g. Method)\r\n\r\n    @Transactional \r\n    public List&lt;Role&gt; getRolesForUserId(int id){\r\n    \tUserEntity user = userRepository.findUserById(1)\r\n    \tuser.getRoles()\r\n    }\r\n\r\nThis will work, because hibernate keeps the same session open for the scope of this method.\r\n\r\n","title":"How to use FetchType.LAZY with ManyToMany?","body":"<p>Hibernate already tells you why:</p>\n\n<blockquote>\n  <p>org.hibernate.LazyInitializationException: failed to lazily initialize\n  a collection of role: User.roles, could not initialize proxy - no\n  Session</p>\n</blockquote>\n\n<pre><code>public List&lt;Role&gt; getRolesForUserId(int id){\n    UserEntity user = userRepository.findUserById(1)\n    user.getRoles()\n}\n</code></pre>\n\n<p>This will cause an exception, because you trying to get the lazy fetched user roles without an active hibernate session.</p>\n\n<p><code>@Transactional</code> is your friend. The <code>@Transactional</code> annotation will create a hibernate session with a certain scope (e.g. Method)</p>\n\n<pre><code>@Transactional \npublic List&lt;Role&gt; getRolesForUserId(int id){\n    UserEntity user = userRepository.findUserById(1)\n    user.getRoles()\n}\n</code></pre>\n\n<p>This will work, because hibernate keeps the same session open for the scope of this method.</p>\n"},{"comments":[{"owner":{"account_id":441753,"reputation":4372,"user_id":832031,"display_name":"Alexis Gamarra"},"score":2,"creation_date":1614557333,"post_id":46813581,"comment_id":117414349,"body_markdown":"It&#39;s not using Lazy loading in this case.","body":"It&#39;s not using Lazy loading in this case."}],"tags":[],"owner":{"account_id":9837319,"reputation":103,"user_id":7287305,"display_name":"joel"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1508339635,"creation_date":1508339635,"answer_id":46813581,"question_id":46810929,"body_markdown":"Using Spring JPA try the keyword &quot;JOIN FETCH&quot; on your JPQL you can handle lazy initialization exception.\r\nExample \r\n\r\n    @Query(&quot;SELECT u FROM User u JOIN FETCH u.roles r WHERE r.roleId = :roleId AND u.userId=:userId&quot;)\r\n    User findUserById(@Param(&quot;roleId&quot;) String roleId, @Param(&quot;userId&quot;) String userId);\r\n\r\n","title":"How to use FetchType.LAZY with ManyToMany?","body":"<p>Using Spring JPA try the keyword \"JOIN FETCH\" on your JPQL you can handle lazy initialization exception.\nExample </p>\n\n<pre><code>@Query(\"SELECT u FROM User u JOIN FETCH u.roles r WHERE r.roleId = :roleId AND u.userId=:userId\")\nUser findUserById(@Param(\"roleId\") String roleId, @Param(\"userId\") String userId);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11253283,"reputation":1764,"user_id":8253837,"display_name":"Daria Pydorenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664723763,"creation_date":1664723763,"answer_id":73926980,"question_id":46810929,"body_markdown":"It looks like `@Transactional` doesn&#39;t work for an overridden method of `AuthenticationProvider`. I should have created a separate service to handle this issue. \r\n\r\nA similar answer here: https://stackoverflow.com/a/23652569/8253837 ","title":"How to use FetchType.LAZY with ManyToMany?","body":"<p>It looks like <code>@Transactional</code> doesn't work for an overridden method of <code>AuthenticationProvider</code>. I should have created a separate service to handle this issue.</p>\n<p>A similar answer here: <a href=\"https://stackoverflow.com/a/23652569/8253837\">https://stackoverflow.com/a/23652569/8253837</a></p>\n"}],"owner":{"account_id":11253283,"reputation":1764,"user_id":8253837,"display_name":"Daria Pydorenko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6299,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73926980,"answer_count":3,"score":4,"last_activity_date":1664723763,"creation_date":1508332015,"question_id":46810929,"body_markdown":"I have two entities with many-to-many relationship.\r\n\r\nin class Role:\r\n\r\n    @ManyToMany(mappedBy = &quot;roles&quot;)\r\n    private Set&lt;User&gt; users = new HashSet&lt;&gt;();\r\n\r\nand in class User:\r\n\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;role_user&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n\r\nAnd I get the exception: \r\n\r\n&gt; org.hibernate.LazyInitializationException: failed to lazily initialize\r\n&gt; a collection of role: User.roles, could not initialize proxy - no Session\r\n\r\nWhen I add `fetch = FetchType.EAGER`, I get another exception:\r\n\r\n&gt; java.lang.StackOverflowError: null\r\n\r\nand cycle between Role and User.\r\n\r\nHow can I resolve this problem? I saw similar questions on Stackoverflow, but I didn&#39;t find real worked solution for me.\r\n\r\nUPD:\r\nWhere the exception gets thrown:\r\n\r\n    @Service\r\n    public class UserAuthenticationProvider implements AuthenticationProvider {\r\n        ...\r\n    \r\n        @Override\r\n        @Transactional\r\n        public Authentication authenticate(final Authentication authentication) {\r\n            final String login = authentication.getName();\r\n            final String password = authentication.getCredentials().toString();\r\n    \r\n            final User user = userRepository.findByLogin(login);\r\n            if (user != null &amp;&amp; passwordEncoder.matches(password, user.getPassword())) {\r\n                return new UsernamePasswordAuthenticationToken(login, password,\r\n                        user.getRoles()); // problem here\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        ...","title":"How to use FetchType.LAZY with ManyToMany?","body":"<p>I have two entities with many-to-many relationship.</p>\n\n<p>in class Role:</p>\n\n<pre><code>@ManyToMany(mappedBy = \"roles\")\nprivate Set&lt;User&gt; users = new HashSet&lt;&gt;();\n</code></pre>\n\n<p>and in class User:</p>\n\n<pre><code>@ManyToMany\n@JoinTable(name = \"role_user\", joinColumns = @JoinColumn(name = \"user_id\"),\n        inverseJoinColumns = @JoinColumn(name = \"role_id\"))\nprivate Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n</code></pre>\n\n<p>And I get the exception: </p>\n\n<blockquote>\n  <p>org.hibernate.LazyInitializationException: failed to lazily initialize\n  a collection of role: User.roles, could not initialize proxy - no Session</p>\n</blockquote>\n\n<p>When I add <code>fetch = FetchType.EAGER</code>, I get another exception:</p>\n\n<blockquote>\n  <p>java.lang.StackOverflowError: null</p>\n</blockquote>\n\n<p>and cycle between Role and User.</p>\n\n<p>How can I resolve this problem? I saw similar questions on Stackoverflow, but I didn't find real worked solution for me.</p>\n\n<p>UPD:\nWhere the exception gets thrown:</p>\n\n<pre><code>@Service\npublic class UserAuthenticationProvider implements AuthenticationProvider {\n    ...\n\n    @Override\n    @Transactional\n    public Authentication authenticate(final Authentication authentication) {\n        final String login = authentication.getName();\n        final String password = authentication.getCredentials().toString();\n\n        final User user = userRepository.findByLogin(login);\n        if (user != null &amp;&amp; passwordEncoder.matches(password, user.getPassword())) {\n            return new UsernamePasswordAuthenticationToken(login, password,\n                    user.getRoles()); // problem here\n        } else {\n            return null;\n        }\n    }\n\n    ...\n</code></pre>\n"},{"tags":["java","object","arraylist"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1664722223,"post_id":73926736,"comment_id":130532066,"body_markdown":"`List&lt;&gt; heroes = new ArrayList&lt;Superhero&gt;();`","body":"<code>List&lt;&gt; heroes = new ArrayList&lt;Superhero&gt;();</code>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664723286,"creation_date":1664723286,"answer_id":73926923,"question_id":73926736,"body_markdown":"&gt; `ArrayList&lt;Object&gt; Heroes= new ArrayList&lt;&gt;()`\r\n\r\nWe write `variablesLikeThis` and `TypesLikeThis`. So, `heroes`, not `Heroes`.\r\n\r\n`ArrayList&lt;Object&gt;` means it can contain objects. And a lot of things are &#39;objects&#39;. You would be allowed to stick an `Integer` object in there. It has no `getName()` method, thus, `heroes.get(0).getName()` won&#39;t compile. Yes, yes, you didn&#39;t put an integer in there, but the compiler doesn&#39;t know that. There is no guarantee. Java doesn&#39;t let you write code that _potentially_ makes no sense, even if _currently_ it always will. That&#39;s what compile-time type-checking means.\r\n\r\nInstead you want `List&lt;SuperHero&gt;`: That is a list where every element is some sort of superhero. Could be a WaterHero instance, or a LandHero instance, as long as it&#39;s an instance of X such that X is either `SuperHero` or some type that `extends SuperHero` (or extends something that extends SuperHero - just needs to be anywhere in the type hierarchy).\r\n\r\nNow that you&#39;ve told java that, whatever might be in the list, it&#39;s all definitely superheroes, you can call methods on anything from the list that java knows, __for sure__, it&#39;ll have. All methods that `class SuperHero` has, for example - given that you said everything in the list is at least that, all of those methods are fine.\r\n","title":"Combining array lists containing different objects in Java","body":"<blockquote>\n<p><code>ArrayList&lt;Object&gt; Heroes= new ArrayList&lt;&gt;()</code></p>\n</blockquote>\n<p>We write <code>variablesLikeThis</code> and <code>TypesLikeThis</code>. So, <code>heroes</code>, not <code>Heroes</code>.</p>\n<p><code>ArrayList&lt;Object&gt;</code> means it can contain objects. And a lot of things are 'objects'. You would be allowed to stick an <code>Integer</code> object in there. It has no <code>getName()</code> method, thus, <code>heroes.get(0).getName()</code> won't compile. Yes, yes, you didn't put an integer in there, but the compiler doesn't know that. There is no guarantee. Java doesn't let you write code that <em>potentially</em> makes no sense, even if <em>currently</em> it always will. That's what compile-time type-checking means.</p>\n<p>Instead you want <code>List&lt;SuperHero&gt;</code>: That is a list where every element is some sort of superhero. Could be a WaterHero instance, or a LandHero instance, as long as it's an instance of X such that X is either <code>SuperHero</code> or some type that <code>extends SuperHero</code> (or extends something that extends SuperHero - just needs to be anywhere in the type hierarchy).</p>\n<p>Now that you've told java that, whatever might be in the list, it's all definitely superheroes, you can call methods on anything from the list that java knows, <strong>for sure</strong>, it'll have. All methods that <code>class SuperHero</code> has, for example - given that you said everything in the list is at least that, all of those methods are fine.</p>\n"}],"owner":{"account_id":14982791,"reputation":17,"user_id":10816329,"display_name":"Ola Magnell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1664723286,"creation_date":1664721937,"question_id":73926736,"body_markdown":"im working on a small game in Java. I have an abstract class **SuperHero**, and the classes WaterHero and LandHero that extends from **Superhero**. How do I combine the two objects **allHeroes** and **allHeroes2** in an array list? I don&#39;t want to loop though multiple array list when writing methods later.\r\n```\r\nArrayList&lt;WaterHero&gt; allHeroes = new ArrayList&lt;&gt;();  \r\nArrayList&lt;LandHero&gt; allHeroes2 = new ArrayList&lt;&gt;();\r\n\r\nallHeroes.add(new WaterHero(&quot;SharkHero&quot;, 100, 27, 13));  \r\nallHeroes.add(new WaterHero(&quot;Fishy&quot;, 100, 30, 22));  \r\nallHeroes2.add(new LandHero(&quot;Iron Man&quot;, 120, 25, 16));  \r\nallHeroes2.add(new LandHero(&quot;LandBoy&quot;, 120, 25, 16));\r\n```\r\n\r\nI tried using ```ArrayList&lt;Object&gt; Heroes= new ArrayList&lt;&gt;();``` but dont really understand how this works, and how to reach methods from **SuperHero**. For example i could not reach getName() in superclass **SuperHero**\r\n","title":"Combining array lists containing different objects in Java","body":"<p>im working on a small game in Java. I have an abstract class <strong>SuperHero</strong>, and the classes WaterHero and LandHero that extends from <strong>Superhero</strong>. How do I combine the two objects <strong>allHeroes</strong> and <strong>allHeroes2</strong> in an array list? I don't want to loop though multiple array list when writing methods later.</p>\n<pre><code>ArrayList&lt;WaterHero&gt; allHeroes = new ArrayList&lt;&gt;();  \nArrayList&lt;LandHero&gt; allHeroes2 = new ArrayList&lt;&gt;();\n\nallHeroes.add(new WaterHero(&quot;SharkHero&quot;, 100, 27, 13));  \nallHeroes.add(new WaterHero(&quot;Fishy&quot;, 100, 30, 22));  \nallHeroes2.add(new LandHero(&quot;Iron Man&quot;, 120, 25, 16));  \nallHeroes2.add(new LandHero(&quot;LandBoy&quot;, 120, 25, 16));\n</code></pre>\n<p>I tried using <code>ArrayList&lt;Object&gt; Heroes= new ArrayList&lt;&gt;();</code> but dont really understand how this works, and how to reach methods from <strong>SuperHero</strong>. For example i could not reach getName() in superclass <strong>SuperHero</strong></p>\n"},{"tags":["java","arrays","intersection"],"comments":[{"owner":{"display_name":"user166390"},"score":1,"creation_date":1350404808,"post_id":12919231,"comment_id":17504429,"body_markdown":"If this isn&#39;t homework that strictly requires array ickies, see the `Set` interface - it&#39;s slightly more tricky if oder maintenance is required, but not much.","body":"If this isn&#39;t homework that strictly requires array ickies, see the <code>Set</code> interface - it&#39;s slightly more tricky if oder maintenance is required, but not much."},{"owner":{"account_id":1448843,"reputation":2790,"user_id":1366439,"accept_rate":87,"display_name":"CBredlow"},"score":0,"creation_date":1350404953,"post_id":12919231,"comment_id":17504495,"body_markdown":"you have the code right there, and an i(ndex) that starts at 0 that isn&#39;t being used.","body":"you have the code right there, and an i(ndex) that starts at 0 that isn&#39;t being used."},{"owner":{"account_id":1212717,"reputation":11317,"user_id":1180968,"accept_rate":100,"display_name":"Sajan Chandran"},"score":0,"creation_date":1350405145,"post_id":12919231,"comment_id":17504611,"body_markdown":"check this link http://commons.apache.org/collections/apidocs/org/apache/commons/collections/CollectionUtils.html","body":"check this link <a href=\"http://commons.apache.org/collections/apidocs/org/apache/commons/collections/CollectionUtils.html\" rel=\"nofollow noreferrer\">commons.apache.org/collections/apidocs/org/apache/commons/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1350405012,"post_id":12919253,"comment_id":17504522,"body_markdown":"I think you should clarify that this is a good solution if it is allowed. For all we know, there may be some restrictions on the OP&#39;s project that don&#39;t allow using ArrayList.","body":"I think you should clarify that this is a good solution if it is allowed. For all we know, there may be some restrictions on the OP&#39;s project that don&#39;t allow using ArrayList."},{"owner":{"account_id":1945366,"reputation":101,"user_id":1750650,"display_name":"Alexandr Melnik"},"score":0,"creation_date":1350405845,"post_id":12919253,"comment_id":17504955,"body_markdown":"Thank you. I&#39;m sure this would do something I need but I&#39;m not familiar with ArrayLists yet.","body":"Thank you. I&#39;m sure this would do something I need but I&#39;m not familiar with ArrayLists yet."}],"tags":[],"owner":{"account_id":182648,"reputation":3820,"user_id":417516,"accept_rate":68,"display_name":"banjara"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350405155,"creation_date":1350404837,"answer_id":12919253,"question_id":12919231,"body_markdown":"if permitted use ArrayList for c, its growable array\r\n\r\n\r\n    ArrayList c = new ArrayList();\r\n    .\r\n    .\r\n    .\r\n    .\r\n    .\r\n    c.add(a[f]);\r\n\r\n\r\nalso if permitted to sort arrays, i recommend you to sort smaller array and then iterate over larger array and binary search in smaller array.","title":"How do I find the intersection of two arrays in Java?","body":"<p>if permitted use ArrayList for c, its growable array</p>\n\n<pre><code>ArrayList c = new ArrayList();\n.\n.\n.\n.\n.\nc.add(a[f]);\n</code></pre>\n\n<p>also if permitted to sort arrays, i recommend you to sort smaller array and then iterate over larger array and binary search in smaller array.</p>\n"},{"comments":[{"owner":{"account_id":1945366,"reputation":101,"user_id":1750650,"display_name":"Alexandr Melnik"},"score":0,"creation_date":1350405778,"post_id":12919298,"comment_id":17504915,"body_markdown":"That&#39;s confusing for a beginner. But thank you :)","body":"That&#39;s confusing for a beginner. But thank you :)"},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1350406024,"post_id":12919298,"comment_id":17505055,"body_markdown":"@AlexandrMelnik If you are confused, I suggest that you try to write a program which copies one array to another. If you still have problems with using arrays in this simpler program, then you should read more about them and come back with some specific questions for clarification.","body":"@AlexandrMelnik If you are confused, I suggest that you try to write a program which copies one array to another. If you still have problems with using arrays in this simpler program, then you should read more about them and come back with some specific questions for clarification."}],"tags":[],"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350404952,"creation_date":1350404952,"answer_id":12919298,"question_id":12919231,"body_markdown":"First you need to allocate space for your array:\r\n\r\n    int[] c = new int[SOME_SIZE];\r\n\r\nThe hard part is figuring out how much `SOME_SIZE` should be. Since you are calculating an intersection, the most it can be is the size of the smallest of `a` and `b`.\r\n\r\nFinally, to assign an element in the array, you just do\r\n\r\n    c[idx] = a[f]\r\n\r\nNow you need to keep track of where `idx` goes. I suggest starting with `idx = 0` and incrementing it each time you find a new element to add to `c`.","title":"How do I find the intersection of two arrays in Java?","body":"<p>First you need to allocate space for your array:</p>\n\n<pre><code>int[] c = new int[SOME_SIZE];\n</code></pre>\n\n<p>The hard part is figuring out how much <code>SOME_SIZE</code> should be. Since you are calculating an intersection, the most it can be is the size of the smallest of <code>a</code> and <code>b</code>.</p>\n\n<p>Finally, to assign an element in the array, you just do</p>\n\n<pre><code>c[idx] = a[f]\n</code></pre>\n\n<p>Now you need to keep track of where <code>idx</code> goes. I suggest starting with <code>idx = 0</code> and incrementing it each time you find a new element to add to <code>c</code>.</p>\n"},{"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1446065493,"post_id":12919333,"comment_id":54593955,"body_markdown":"This doesn&#39;t compile. For one, because of `Arrays.asList` returning a `List&lt;int[]`. Two, `toArray` can never receive an array of a primitive type. Generics don&#39;t work with primitives.","body":"This doesn&#39;t compile. For one, because of <code>Arrays.asList</code> returning a <code>List&lt;int[]</code>. Two, <code>toArray</code> can never receive an array of a primitive type. Generics don&#39;t work with primitives."}],"tags":[],"owner":{"account_id":1344625,"reputation":3248,"user_id":1285615,"accept_rate":55,"display_name":"sakthisundar"},"comment_count":1,"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1398237166,"creation_date":1350405098,"answer_id":12919333,"question_id":12919231,"body_markdown":"This should be an easy way to do.     \r\n    \r\n\r\n    int a[] = {3, 10, 4, 2, 8};\r\n    int[] b = {10, 4, 12, 3, 23, 1, 8};\r\n    List&lt;Integer&gt; aList =  Arrays.asList(a);\r\n    List&lt;Integer&gt; bList =  Arrays.asList(b);\r\n    aList.retainAll(bList);\r\n    System.out.println(&quot; a intersection b &quot;+aList);\r\n    int[] c = aList.toArray(new int[0]);\r\n\r\n","title":"How do I find the intersection of two arrays in Java?","body":"<p>This should be an easy way to do.     </p>\n\n<pre><code>int a[] = {3, 10, 4, 2, 8};\nint[] b = {10, 4, 12, 3, 23, 1, 8};\nList&lt;Integer&gt; aList =  Arrays.asList(a);\nList&lt;Integer&gt; bList =  Arrays.asList(b);\naList.retainAll(bList);\nSystem.out.println(\" a intersection b \"+aList);\nint[] c = aList.toArray(new int[0]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1925240,"reputation":2711,"user_id":1735865,"accept_rate":50,"display_name":"taufique"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350405209,"creation_date":1350405209,"answer_id":12919356,"question_id":12919231,"body_markdown":"    public static void main(String[] args) {\r\n            int a[] = {3, 10, 4, 2, 8};\r\n            int[] b = {10, 4, 12, 3, 23, 1, 8};\r\n            int[] c = new int[(int)Math.min(a.length, b.length)];\r\n            int i=0;\r\n             for(int f=0;f&lt;a.length;f++){\r\n                  for(int k=0;k&lt;b.length;k++){\r\n                        if(a[f]==b[k]){\r\n                        c[i] = a[f];\r\n                        i++;\r\n                }\r\n              }\r\n            }\r\n            for (int x=0; x&lt;i; x++){\r\n               System.out.println(c[x]);\r\n            }\r\n           }\r\n      }\r\n\r\n\r\nHope it helps. Or if you have time complexity issue then try [Java Set][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Set.html","title":"How do I find the intersection of two arrays in Java?","body":"<pre><code>public static void main(String[] args) {\n        int a[] = {3, 10, 4, 2, 8};\n        int[] b = {10, 4, 12, 3, 23, 1, 8};\n        int[] c = new int[(int)Math.min(a.length, b.length)];\n        int i=0;\n         for(int f=0;f&lt;a.length;f++){\n              for(int k=0;k&lt;b.length;k++){\n                    if(a[f]==b[k]){\n                    c[i] = a[f];\n                    i++;\n            }\n          }\n        }\n        for (int x=0; x&lt;i; x++){\n           System.out.println(c[x]);\n        }\n       }\n  }\n</code></pre>\n\n<p>Hope it helps. Or if you have time complexity issue then try <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Set.html\" rel=\"nofollow\">Java Set</a>.</p>\n"},{"comments":[{"owner":{"account_id":1945366,"reputation":101,"user_id":1750650,"display_name":"Alexandr Melnik"},"score":0,"creation_date":1350408730,"post_id":12919577,"comment_id":17506295,"body_markdown":"as long as both ways are right I can prefer any of them :)\nthank you","body":"as long as both ways are right I can prefer any of them :) thank you"}],"tags":[],"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350405999,"creation_date":1350405999,"answer_id":12919577,"question_id":12919231,"body_markdown":"You can take a help of temporary variable (but this is basically reinventing the wheel, if you are not required to do so) -\r\n\r\n    int[] c = new int[0];\r\n    //...\r\n    \tif(a[f] == b[k]) { \r\n    \t\tint[] temp = c;\r\n    \t\tc = new int[c.length + 1];\r\n    \t\tfor(int i=0; i&lt;temp.length; i++) {\r\n    \t\t\tc[i] = temp[i];\r\n    \t\t}\r\n    \t\tc[c.length - 1] = a[f];\r\n    \t}\r\n    //...","title":"How do I find the intersection of two arrays in Java?","body":"<p>You can take a help of temporary variable (but this is basically reinventing the wheel, if you are not required to do so) -</p>\n\n<pre><code>int[] c = new int[0];\n//...\n    if(a[f] == b[k]) { \n        int[] temp = c;\n        c = new int[c.length + 1];\n        for(int i=0; i&lt;temp.length; i++) {\n            c[i] = temp[i];\n        }\n        c[c.length - 1] = a[f];\n    }\n//...\n</code></pre>\n"}],"owner":{"account_id":1945366,"reputation":101,"user_id":1750650,"display_name":"Alexandr Melnik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17099,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":12919333,"answer_count":5,"score":9,"last_activity_date":1664722983,"creation_date":1350404747,"question_id":12919231,"body_markdown":"Trying to find the **intersection of 2 arrays** `a` and `b` and store it into a new array `c`.\r\n\r\nExpected result: array **c** with values: `3, 10, 4, 8`.\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    int[] a = {3, 10, 4, 2, 8};\r\n    int[] b = {10, 4, 12, 3, 23, 1, 8};\r\n    int[] c;\r\n    int i = 0;\r\n    for (int f = 0; f &lt; a.length; f++) {\r\n        for (int k = 0; k &lt; b.length; k++) {\r\n            if (a[f] == b[k]) {\r\n                //here should be a line that stores equal values of 2 arrays(a,b) into array c\r\n            }\r\n          }\r\n        }\r\n        for (int x = 0; x &lt; c.length; x++) {\r\n            System.out.println(c[i]);\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"How do I find the intersection of two arrays in Java?","body":"<p>Trying to find the <strong>intersection of 2 arrays</strong> <code>a</code> and <code>b</code> and store it into a new array <code>c</code>.</p>\n<p>Expected result: array <strong>c</strong> with values: <code>3, 10, 4, 8</code>.</p>\n<pre><code>public static void main(String[] args) {\n    int[] a = {3, 10, 4, 2, 8};\n    int[] b = {10, 4, 12, 3, 23, 1, 8};\n    int[] c;\n    int i = 0;\n    for (int f = 0; f &lt; a.length; f++) {\n        for (int k = 0; k &lt; b.length; k++) {\n            if (a[f] == b[k]) {\n                //here should be a line that stores equal values of 2 arrays(a,b) into array c\n            }\n          }\n        }\n        for (int x = 0; x &lt; c.length; x++) {\n            System.out.println(c[i]);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","while-loop","java.util.scanner"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664724178,"post_id":73926633,"comment_id":130532462,"body_markdown":"`while(1 &lt;= 0)`!??(this loop will never be entered;)","body":"<code>while(1 &lt;= 0)</code>!??(this loop will never be entered;)"},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1664726909,"post_id":73926633,"comment_id":130533158,"body_markdown":"Did you check [Reading multiple Scanner inputs](https://stackoverflow.com/questions/8469882/reading-multiple-scanner-inputs)?","body":"Did you check <a href=\"https://stackoverflow.com/questions/8469882/reading-multiple-scanner-inputs\">Reading multiple Scanner inputs</a>?"}],"answers":[{"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1664727378,"post_id":73926818,"comment_id":130533277,"body_markdown":"Improve your answer for a couple of things: (1) You can use (and also teach the beginners) `noll++` instead of `noll += 1` and `noll--` instead of `noll -= 1` (2) There is no point in `tal1 = tal.next(); int num = Integer.parseInt(tal1);` when you can simply use `int num = tal.nextInt();`. However, the following does make sense: `tal1 = tal.nextLine(); int num = Integer.parseInt(tal1);`.","body":"Improve your answer for a couple of things: (1) You can use (and also teach the beginners) <code>noll++</code> instead of <code>noll += 1</code> and <code>noll--</code> instead of <code>noll -= 1</code> (2) There is no point in <code>tal1 = tal.next(); int num = Integer.parseInt(tal1);</code> when you can simply use <code>int num = tal.nextInt();</code>. However, the following does make sense: <code>tal1 = tal.nextLine(); int num = Integer.parseInt(tal1);</code>."},{"owner":{"account_id":26507739,"reputation":9,"user_id":20143617,"display_name":"teambubbel"},"score":0,"creation_date":1664734478,"post_id":73926818,"comment_id":130534741,"body_markdown":"Thank you both for your comments. Didn&#39;t expect to get such good help this quickly. Greatly appreciated","body":"Thank you both for your comments. Didn&#39;t expect to get such good help this quickly. Greatly appreciated"}],"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664722903,"creation_date":1664722468,"answer_id":73926818,"question_id":73926633,"body_markdown":"Use a List&lt;Integer&gt; since it can grow dynamically:\r\n\r\n    Scanner tal = new Scanner(System.in);                  \r\n\r\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();   // *** Add this\r\n\r\n    while (noll &lt;= antalHeltal) {                          \r\n        noll += 1;                                        \r\n        heltal += 1;                                       \r\n        System.out.print(&quot;ange heltal &quot; + heltal + &quot;: &quot;);  \r\n                                                       \r\n        tal1 = tal.next();                                 \r\n                                                       \r\n        try {  \r\n            // **********************************\r\n            int num = Integer.parseInt(tal1);                          \r\n            list.add(num);     \r\n            // **********************************\r\n        } catch (NumberFormatException e) {            \r\n            System.out.println(&quot;Ogiltigt v&#228;rde&quot;);      \r\n            noll -= 1;                                 \r\n            heltal -=1;                                \r\n        }    \r\n\r\n\r\nTo later access the List:\r\n\r\n    for (int i = 0; i &lt; list.size(); i++) {\r\n        System.out.println(list.get(i));\r\n    }\r\n\r\nor....\r\n\r\n    for (int val : list} {\r\n        System.out.println(val);\r\n    }  ","title":"trying to save multiple inputs from the same scanner in a while loop","body":"<p>Use a List since it can grow dynamically:</p>\n<pre><code>Scanner tal = new Scanner(System.in);                  \n\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;();   // *** Add this\n\nwhile (noll &lt;= antalHeltal) {                          \n    noll += 1;                                        \n    heltal += 1;                                       \n    System.out.print(&quot;ange heltal &quot; + heltal + &quot;: &quot;);  \n                                                   \n    tal1 = tal.next();                                 \n                                                   \n    try {  \n        // **********************************\n        int num = Integer.parseInt(tal1);                          \n        list.add(num);     \n        // **********************************\n    } catch (NumberFormatException e) {            \n        System.out.println(&quot;Ogiltigt värde&quot;);      \n        noll -= 1;                                 \n        heltal -=1;                                \n    }    \n</code></pre>\n<p>To later access the List:</p>\n<pre><code>for (int i = 0; i &lt; list.size(); i++) {\n    System.out.println(list.get(i));\n}\n</code></pre>\n<p>or....</p>\n<pre><code>for (int val : list} {\n    System.out.println(val);\n}  \n</code></pre>\n"}],"owner":{"account_id":26507739,"reputation":9,"user_id":20143617,"display_name":"teambubbel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73926818,"answer_count":1,"score":0,"last_activity_date":1664722903,"creation_date":1664721015,"question_id":73926633,"body_markdown":"I&#39;m trying to get multiple integer values from the same scanner inside a while loop. I need to store all the values so I can use them later. However I can only get the last value from the scanner when the while loop finishes.\r\n\r\n```\r\nint antalHeltal = Integer.parseInt(Antal);             \r\nint noll = 1;                                          \r\nint heltal = 0;                                        \r\nString tal1 = &quot;&quot;;                                      \r\nScanner tal = new Scanner(System.in);                  \r\nwhile (noll &lt;= antalHeltal) {                          \r\n     noll += 1;                                        \r\n    heltal += 1;                                       \r\n    System.out.print(&quot;ange heltal &quot; + heltal + &quot;: &quot;);  \r\n                                                       \r\n    tal1 = tal.next();                                 \r\n                                                       \r\n        try {                                          \r\n            Integer.parseInt(tal1);                    \r\n        } catch (NumberFormatException e) {            \r\n            System.out.println(&quot;Ogiltigt v&#228;rde&quot;);      \r\n            noll -= 1;                                 \r\n            heltal -=1;                                \r\n        }                                              \r\n```\r\n\r\nMy variables are written in Swedish so sorry in advance but I hope someone can help me with this. It would be much appreciated.\r\n                                         ","title":"trying to save multiple inputs from the same scanner in a while loop","body":"<p>I'm trying to get multiple integer values from the same scanner inside a while loop. I need to store all the values so I can use them later. However I can only get the last value from the scanner when the while loop finishes.</p>\n<pre><code>int antalHeltal = Integer.parseInt(Antal);             \nint noll = 1;                                          \nint heltal = 0;                                        \nString tal1 = &quot;&quot;;                                      \nScanner tal = new Scanner(System.in);                  \nwhile (noll &lt;= antalHeltal) {                          \n     noll += 1;                                        \n    heltal += 1;                                       \n    System.out.print(&quot;ange heltal &quot; + heltal + &quot;: &quot;);  \n                                                       \n    tal1 = tal.next();                                 \n                                                       \n        try {                                          \n            Integer.parseInt(tal1);                    \n        } catch (NumberFormatException e) {            \n            System.out.println(&quot;Ogiltigt värde&quot;);      \n            noll -= 1;                                 \n            heltal -=1;                                \n        }                                              \n</code></pre>\n<p>My variables are written in Swedish so sorry in advance but I hope someone can help me with this. It would be much appreciated.</p>\n"},{"tags":["java","integration-testing","spring-test"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664722636,"creation_date":1664722636,"answer_id":73926838,"question_id":73926712,"body_markdown":"Your tests try to compare your custom object - `UserDTO` with a `String`. This can&#39;t work, objects of different classes can never be equal. You have to compare objects from the same class. You need to either:\r\n\r\n 1. Transform UserDTO to a string, whatever format you are using, and compare strings. This is error prone and not a good idea, or:\r\n 2. Parse response to UserDTO and compare 2 UserDTOs. If you have not overridden `equals()` you can compare the fields using the getters.","title":"Testing controller returns nothing instead of object","body":"<p>Your tests try to compare your custom object - <code>UserDTO</code> with a <code>String</code>. This can't work, objects of different classes can never be equal. You have to compare objects from the same class. You need to either:</p>\n<ol>\n<li>Transform UserDTO to a string, whatever format you are using, and compare strings. This is error prone and not a good idea, or:</li>\n<li>Parse response to UserDTO and compare 2 UserDTOs. If you have not overridden <code>equals()</code> you can compare the fields using the getters.</li>\n</ol>\n"}],"owner":{"account_id":23727935,"reputation":117,"user_id":17747601,"display_name":"m_novak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73926838,"answer_count":1,"score":0,"last_activity_date":1664722636,"creation_date":1664721755,"question_id":73926712,"body_markdown":"So Iam testing my UserController - create user and get user methods. When I run my tests, I get this output:\r\n\r\n    org.opentest4j.AssertionFailedError:\r\n    Expected :UserDTO(id=1, name=Steve, email=steve@mail.com, group=null)\r\n    Actual   :\r\n\r\nThis is my test class:\r\n\r\n    @WebMvcTest(UserController.class)\r\n    class UserControllerTest {\r\n    \r\n      @MockBean private UserInterface userInterface;\r\n    \r\n      @Autowired private MockMvc mockMvc;\r\n    \r\n      @Test\r\n      void create() throws Exception {\r\n        UserCreationDTO user = new UserCreationDTO(1L, &quot;Steve&quot;, &quot;steve@mail.com&quot;, &quot;password&quot;);\r\n    \r\n        Mockito.when(userInterface.create(user)).thenReturn(user);\r\n    \r\n        RequestBuilder request =\r\n            MockMvcRequestBuilders.post(&quot;/api/users&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .content(String.valueOf(user));\r\n    \r\n        MvcResult result = mockMvc.perform(request).andReturn();\r\n        assertEquals(user, result.getResponse().getContentAsString());\r\n      }\r\n    \r\n      @Test\r\n      void getUser() throws Exception {\r\n        UserDTO userDTO = new UserDTO(1L, &quot;Steve&quot;, &quot;steve@mail.com&quot;, null);\r\n    \r\n        Mockito.when(userInterface.getUser(1L)).thenReturn(userDTO);\r\n    \r\n        RequestBuilder request = MockMvcRequestBuilders.get(&quot;/api/users/1&quot;);\r\n    \r\n        MvcResult result = mockMvc.perform(request).andReturn();\r\n        assertEquals(userDTO, result.getResponse().getContentAsString());\r\n      }\r\n    }\r\n\r\n\r\nCan someone tell me what am I doing wrong and why Iam not getting any object when runing this tests? Im new o testing so Im sorry if this is some newbie question.\r\n","title":"Testing controller returns nothing instead of object","body":"<p>So Iam testing my UserController - create user and get user methods. When I run my tests, I get this output:</p>\n<pre><code>org.opentest4j.AssertionFailedError:\nExpected :UserDTO(id=1, name=Steve, email=steve@mail.com, group=null)\nActual   :\n</code></pre>\n<p>This is my test class:</p>\n<pre><code>@WebMvcTest(UserController.class)\nclass UserControllerTest {\n\n  @MockBean private UserInterface userInterface;\n\n  @Autowired private MockMvc mockMvc;\n\n  @Test\n  void create() throws Exception {\n    UserCreationDTO user = new UserCreationDTO(1L, &quot;Steve&quot;, &quot;steve@mail.com&quot;, &quot;password&quot;);\n\n    Mockito.when(userInterface.create(user)).thenReturn(user);\n\n    RequestBuilder request =\n        MockMvcRequestBuilders.post(&quot;/api/users&quot;)\n            .contentType(MediaType.APPLICATION_JSON)\n            .content(String.valueOf(user));\n\n    MvcResult result = mockMvc.perform(request).andReturn();\n    assertEquals(user, result.getResponse().getContentAsString());\n  }\n\n  @Test\n  void getUser() throws Exception {\n    UserDTO userDTO = new UserDTO(1L, &quot;Steve&quot;, &quot;steve@mail.com&quot;, null);\n\n    Mockito.when(userInterface.getUser(1L)).thenReturn(userDTO);\n\n    RequestBuilder request = MockMvcRequestBuilders.get(&quot;/api/users/1&quot;);\n\n    MvcResult result = mockMvc.perform(request).andReturn();\n    assertEquals(userDTO, result.getResponse().getContentAsString());\n  }\n}\n</code></pre>\n<p>Can someone tell me what am I doing wrong and why Iam not getting any object when runing this tests? Im new o testing so Im sorry if this is some newbie question.</p>\n"},{"tags":["java","xml","xsd","jaxb"],"comments":[{"owner":{"account_id":1010695,"reputation":747,"user_id":1023331,"accept_rate":95,"display_name":"bunnyjesse112"},"score":0,"creation_date":1328022142,"post_id":9081527,"comment_id":11402100,"body_markdown":"MyInnerType isn&#39;t Serializable","body":"MyInnerType isn&#39;t Serializable"}],"answers":[{"comments":[{"owner":{"account_id":1010695,"reputation":747,"user_id":1023331,"accept_rate":95,"display_name":"bunnyjesse112"},"score":0,"creation_date":1328022784,"post_id":9081725,"comment_id":11402394,"body_markdown":"Thanks for answer. MyInnerType is not a String. Why it generates List&lt;Seriazible&gt; and not List&lt;Object&gt;? Do i need to wrap MyInnerType in JAXBElement or something?","body":"Thanks for answer. MyInnerType is not a String. Why it generates List&lt;Seriazible&gt; and not List&lt;Object&gt;? Do i need to wrap MyInnerType in JAXBElement or something?"},{"owner":{"account_id":152128,"reputation":9392,"user_id":366447,"accept_rate":80,"display_name":"AHungerArtist"},"score":1,"creation_date":1328026154,"post_id":9081725,"comment_id":11403830,"body_markdown":"It sounds like that would be a good idea since your object isn&#39;t serializable. But why not make your object serializable? It&#39;s just a matter of implementing the interface.","body":"It sounds like that would be a good idea since your object isn&#39;t serializable. But why not make your object serializable? It&#39;s just a matter of implementing the interface."}],"tags":[],"owner":{"account_id":152128,"reputation":9392,"user_id":366447,"accept_rate":80,"display_name":"AHungerArtist"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1328022020,"creation_date":1328022020,"answer_id":9081725,"question_id":9081527,"body_markdown":"What do you think you should be adding in there? I have used similar generation and had fields like this and the expectation was that it would be String content. \r\n\r\nIt&#39;d probably help to show the xsd this was generated from.","title":"JAXB - List&lt;Serializable&gt;?","body":"<p>What do you think you should be adding in there? I have used similar generation and had fields like this and the expectation was that it would be String content. </p>\n\n<p>It'd probably help to show the xsd this was generated from.</p>\n"},{"comments":[{"owner":{"account_id":2464110,"reputation":302,"user_id":2147606,"accept_rate":60,"display_name":"Arun Christopher"},"score":0,"creation_date":1486091054,"post_id":9082116,"comment_id":71207116,"body_markdown":"This really helped. Thanks for the links!","body":"This really helped. Thanks for the links!"},{"owner":{"account_id":3568325,"reputation":1079,"user_id":2979310,"accept_rate":87,"display_name":"ulab"},"score":0,"creation_date":1495446885,"post_id":9082116,"comment_id":75239025,"body_markdown":"link is broken. new links please ?","body":"link is broken. new links please ?"}],"tags":[],"owner":{"account_id":537835,"reputation":21393,"user_id":886533,"display_name":"Petru Gardea"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1495494151,"creation_date":1328023613,"answer_id":9082116,"question_id":9081527,"body_markdown":"Please take a look [here][1] and [here][2] (one should for sure address your scenario).\r\n\r\nFrom 2nd link:\r\n\r\n    &lt;!-- schema fragment having  mixed content --&gt;\r\n    &lt;xs:complexType name=&quot;letterBody&quot; mixed=&quot;true&quot;&gt;\r\n    &lt;xs:sequence&gt;\r\n        &lt;xs:element name=&quot;name&quot; type=&quot;xs:string&quot;/&gt;\r\n        &lt;xs:element name=&quot;quantity&quot; type=&quot;xs:positiveInteger&quot;/&gt;\r\n        &lt;xs:element name=&quot;productName&quot; type=&quot;xs:string&quot;/&gt;\r\n        &lt;!-- etc. --&gt;\r\n    &lt;/xs:sequence&gt;\r\n    &lt;/xs:complexType&gt;\r\n    &lt;xs:element name=&quot;letterBody&quot; type=&quot;letterBody&quot;/&gt;\r\n\r\n\r\n    // Schema-derived Java code: \r\n    // (Only annotations relevant to mixed content are shown below, \r\n    //  others are ommitted.)\r\n    import java.math.BigInteger;\r\n    public class ObjectFactory {\r\n        // element instance factories\r\n        JAXBElement&lt;LetterBody&gt; createLetterBody(LetterBody value);\r\n        JAXBElement&lt;String&gt;     createLetterBodyName(String value);\r\n        JAXBElement&lt;BigInteger&gt; createLetterBodyQuantity(BigInteger value);\r\n        JAXBElement&lt;String&gt;     createLetterBodyProductName(String value);\r\n      // type instance factory\r\n        LetterBody&gt; createLetterBody();\r\n    }\r\n \r\n    public class LetterBody {\r\n        // Mixed content can contain instances of Element classes\r\n        // Name, Quantity and ProductName. Text data is represented as\r\n        // java.util.String for text.\r\n        @XmlMixed \r\n        @XmlElementRefs({\r\n                @XmlElementRef(name=&quot;productName&quot;, type=JAXBElement.class),\r\n                @XmlElementRef(name=&quot;quantity&quot;, type=JAXBElement.class),\r\n                @XmlElementRef(name=&quot;name&quot;, type=JAXBElement.class)})\r\n        List getContent(){...}\r\n    }\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10940267/jaxb-xmlmixed-usage-for-reading-xmlvalue-and-xmlelement\r\n  [2]: http://docs.oracle.com/javaee/5/api/javax/xml/bind/annotation/XmlMixed.html","title":"JAXB - List&lt;Serializable&gt;?","body":"<p>Please take a look <a href=\"https://stackoverflow.com/questions/10940267/jaxb-xmlmixed-usage-for-reading-xmlvalue-and-xmlelement\">here</a> and <a href=\"http://docs.oracle.com/javaee/5/api/javax/xml/bind/annotation/XmlMixed.html\" rel=\"nofollow noreferrer\">here</a> (one should for sure address your scenario).</p>\n\n<p>From 2nd link:</p>\n\n<pre><code>&lt;!-- schema fragment having  mixed content --&gt;\n&lt;xs:complexType name=\"letterBody\" mixed=\"true\"&gt;\n&lt;xs:sequence&gt;\n    &lt;xs:element name=\"name\" type=\"xs:string\"/&gt;\n    &lt;xs:element name=\"quantity\" type=\"xs:positiveInteger\"/&gt;\n    &lt;xs:element name=\"productName\" type=\"xs:string\"/&gt;\n    &lt;!-- etc. --&gt;\n&lt;/xs:sequence&gt;\n&lt;/xs:complexType&gt;\n&lt;xs:element name=\"letterBody\" type=\"letterBody\"/&gt;\n\n\n// Schema-derived Java code: \n// (Only annotations relevant to mixed content are shown below, \n//  others are ommitted.)\nimport java.math.BigInteger;\npublic class ObjectFactory {\n    // element instance factories\n    JAXBElement&lt;LetterBody&gt; createLetterBody(LetterBody value);\n    JAXBElement&lt;String&gt;     createLetterBodyName(String value);\n    JAXBElement&lt;BigInteger&gt; createLetterBodyQuantity(BigInteger value);\n    JAXBElement&lt;String&gt;     createLetterBodyProductName(String value);\n  // type instance factory\n    LetterBody&gt; createLetterBody();\n}\n\npublic class LetterBody {\n    // Mixed content can contain instances of Element classes\n    // Name, Quantity and ProductName. Text data is represented as\n    // java.util.String for text.\n    @XmlMixed \n    @XmlElementRefs({\n            @XmlElementRef(name=\"productName\", type=JAXBElement.class),\n            @XmlElementRef(name=\"quantity\", type=JAXBElement.class),\n            @XmlElementRef(name=\"name\", type=JAXBElement.class)})\n    List getContent(){...}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4288777,"reputation":469,"user_id":4573201,"display_name":"Yuri Smirnoff"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664722153,"creation_date":1664722153,"answer_id":73926764,"question_id":9081527,"body_markdown":"May be helpful for smbd now.\r\nYou have to use:\r\n```\r\ngetContent().add(new JAXBElement&lt;&gt;(new QName(&quot;MyInnerType&quot;), MyInnerType.class, myInnerTypeInstance);\r\n```","title":"JAXB - List&lt;Serializable&gt;?","body":"<p>May be helpful for smbd now.\nYou have to use:</p>\n<pre><code>getContent().add(new JAXBElement&lt;&gt;(new QName(&quot;MyInnerType&quot;), MyInnerType.class, myInnerTypeInstance);\n</code></pre>\n"}],"owner":{"account_id":1010695,"reputation":747,"user_id":1023331,"accept_rate":95,"display_name":"bunnyjesse112"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6377,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":9082116,"answer_count":3,"score":4,"last_activity_date":1664722153,"creation_date":1328021321,"question_id":9081527,"body_markdown":"I made some classes using xjc.\r\n\r\n        public class MyType {\r\n    \r\n        @XmlElementRefs({\r\n            @XmlElementRef(name = &quot;MyInnerType&quot;, type = JAXBElement.class, required = false),\r\n            \r\n        })\r\n        @XmlMixed\r\n        protected List&lt;Serializable&gt; content;\r\n    \r\n        public List&lt;Serializable&gt; getContent() {\r\n            if (content == null) {\r\n                content = new ArrayList&lt;Serializable&gt;();\r\n            }\r\n            return this.content;\r\n        }\r\n    }\r\nBut i cant add inner elements using \r\n\r\n    getContent().add(newItem);\r\nbecause MyInnerType is not Serializable.\r\nWhy its not a List of Objects? How do i add inner elements?","title":"JAXB - List&lt;Serializable&gt;?","body":"<p>I made some classes using xjc.</p>\n\n<pre><code>    public class MyType {\n\n    @XmlElementRefs({\n        @XmlElementRef(name = \"MyInnerType\", type = JAXBElement.class, required = false),\n\n    })\n    @XmlMixed\n    protected List&lt;Serializable&gt; content;\n\n    public List&lt;Serializable&gt; getContent() {\n        if (content == null) {\n            content = new ArrayList&lt;Serializable&gt;();\n        }\n        return this.content;\n    }\n}\n</code></pre>\n\n<p>But i cant add inner elements using </p>\n\n<pre><code>getContent().add(newItem);\n</code></pre>\n\n<p>because MyInnerType is not Serializable.\nWhy its not a List of Objects? How do i add inner elements?</p>\n"},{"tags":["java","mysql","spring-boot","jpa","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":2573171,"reputation":59,"user_id":2231428,"display_name":"Yogesh Verma"},"score":0,"creation_date":1664722053,"post_id":73926671,"comment_id":130532021,"body_markdown":"Query is using the index which I created. I checked that too with explain itself.","body":"Query is using the index which I created. I checked that too with explain itself."},{"owner":{"account_id":9417,"reputation":96439,"user_id":17389,"accept_rate":38,"display_name":"ysth"},"score":0,"creation_date":1664731574,"post_id":73926671,"comment_id":130534160,"body_markdown":"@YogeshVerma please do add the explain (for both types) to your question","body":"@YogeshVerma please do add the explain (for both types) to your question"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1664754772,"post_id":73926671,"comment_id":130538048,"body_markdown":"@YogeshVerma - Show us the Explain -- it may be using the index, but using it efficiently.","body":"@YogeshVerma - Show us the Explain -- it may be using the index, but using it efficiently."}],"tags":[],"owner":{"account_id":1047405,"reputation":8732,"user_id":1052130,"display_name":"slaakso"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664721323,"creation_date":1664721323,"answer_id":73926671,"question_id":73926592,"body_markdown":"You did not include the EXPLAIN output for the queries, but most likely passing the wrong datatype causes implicit datatype conversion and mySQL not using the index. ","title":"performance impact of bigint vs varchar in mysql query","body":"<p>You did not include the EXPLAIN output for the queries, but most likely passing the wrong datatype causes implicit datatype conversion and mySQL not using the index.</p>\n"},{"comments":[{"owner":{"account_id":9417,"reputation":96439,"user_id":17389,"accept_rate":38,"display_name":"ysth"},"score":0,"creation_date":1664731900,"post_id":73926729,"comment_id":130534219,"body_markdown":"you can work around this by doing `WHERE user_id = concat(:userId)`","body":"you can work around this by doing <code>WHERE user_id = concat(:userId)</code>"},{"owner":{"account_id":10929,"reputation":545362,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":0,"creation_date":1664733062,"post_id":73926729,"comment_id":130534447,"body_markdown":"But why not just pass the parameter as the correct type?","body":"But why not just pass the parameter as the correct type?"}],"tags":[],"owner":{"account_id":10929,"reputation":545362,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664721893,"creation_date":1664721893,"answer_id":73926729,"question_id":73926592,"body_markdown":"https://dev.mysql.com/doc/refman/8.0/en/type-conversion.html says:\r\n\r\n&gt; In all other cases, the arguments are compared as floating-point (double-precision) numbers. For example, a comparison of string and numeric operands takes place as a comparison of floating-point numbers.\r\n\r\nSo in this comparison term:\r\n\r\n    WHERE user_id = :userId\r\n\r\nIf you pass `userId` as a numeric parameter, then the query must convert string values in the `user_id` column to their numeric equivalent row by row. It can&#39;t assume the numeric value before conversion. So it can&#39;t know if the numeric value will end up in the same place in the index, and therefore the index is useless for that comparison.","title":"performance impact of bigint vs varchar in mysql query","body":"<p><a href=\"https://dev.mysql.com/doc/refman/8.0/en/type-conversion.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/8.0/en/type-conversion.html</a> says:</p>\n<blockquote>\n<p>In all other cases, the arguments are compared as floating-point (double-precision) numbers. For example, a comparison of string and numeric operands takes place as a comparison of floating-point numbers.</p>\n</blockquote>\n<p>So in this comparison term:</p>\n<pre><code>WHERE user_id = :userId\n</code></pre>\n<p>If you pass <code>userId</code> as a numeric parameter, then the query must convert string values in the <code>user_id</code> column to their numeric equivalent row by row. It can't assume the numeric value before conversion. So it can't know if the numeric value will end up in the same place in the index, and therefore the index is useless for that comparison.</p>\n"}],"owner":{"account_id":2573171,"reputation":59,"user_id":2231428,"display_name":"Yogesh Verma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73926729,"answer_count":2,"score":1,"last_activity_date":1664721893,"creation_date":1664720620,"question_id":73926592,"body_markdown":"Mysql giving bad performance while passing column value as bigint and column created with data type is varchar. Below is my create table query and index created on 3 columns(user_id,category,status). I am using spring jpa to interact with mysql and also using native query to get data from mysql.\r\n\r\n```\r\nCREATE TABLE order (\r\n\tid \t\t\tint NOT NULL AUTO_INCREMENT,\r\n\tuser_id \tvarchar(50) NOT NULL,\r\n\tcategory \tvarchar(255) NOT NULL,\r\n\tamount \t\tdecimal(13,2) NOT NULL,\r\n\tstatus \t\tvarchar(50) NOT NULL,\r\n\tcreated_at \ttimestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n\tPRIMARY KEY (id),\r\n\tKEY idx_order_user_category_status (user_id,category,status),\r\n\tKEY idx_order_created_at (created_at)\r\n);\r\n```\r\n\r\n```\r\n@Query(\r\n    value =\r\n        &quot;SELECT month(created_at) mm, year(created_at) yy, sum(amount) tpv &quot;\r\n            + &quot;FROM order &quot;\r\n            + &quot;WHERE user_id = :userId &quot;\r\n            + &quot;AND category = &#39;BILL&#39; &quot;\r\n            + &quot;AND status IN (&#39;SUCCESS&#39;,&#39;PENDING&#39;) &quot;\r\n            + &quot;AND created_at &gt;= :startDate AND created_at &lt; :endDate &quot;\r\n            + &quot;GROUP BY mm, yy&quot;,\r\n    nativeQuery = true)\r\nList&lt;List&lt;Object&gt;&gt; getTpvByUserIdAndDateBetween(\r\n    @Param(&quot;userId&quot;) Long userId,\r\n    @Param(&quot;startDate&quot;) LocalDate startDate,\r\n    @Param(&quot;endDate&quot;) LocalDate endDate);\r\n\r\nSELECT month(created_at) mm, year(created_at) yy, sum(amount) tpv FROM order WHERE user_id = ? AND category = &#39;BILL&#39; AND status IN (&#39;SUCCESS&#39;, &#39;PENDING&#39;) AND created_at &gt;= ? AND created_at &lt; ? GROUP BY mm, yy\r\nTRACE o.h.type.descriptor.sql.BasicBinder.bind(64) - binding parameter [1] as [BIGINT] - [24463608]\r\nTRACE o.h.type.descriptor.sql.BasicBinder.bind(64) - binding parameter [2] as [DATE] - [2022-07-31]\r\nTRACE o.h.type.descriptor.sql.BasicBinder.bind(64) - binding parameter [3] as [DATE] - [2022-10-01]\r\nINFO  c.b.b.p.services.impl.OrderService.getCcBpMonthlyTpv(672) - db query response time:2398\r\n\r\n\r\n@Query(\r\n    value =\r\n        &quot;SELECT month(created_at) mm, year(created_at) yy, sum(amount) tpv &quot;\r\n            + &quot;FROM order &quot;\r\n            + &quot;WHERE user_id = :userId &quot;\r\n            + &quot;AND category = &#39;BILL&#39; &quot;\r\n            + &quot;AND status IN (&#39;SUCCESS&#39;, &#39;PENDING&#39;) &quot;\r\n            + &quot;AND created_at &gt;= :startDate AND created_at &lt; :endDate &quot;\r\n            + &quot;GROUP BY mm, yy&quot;,\r\n    nativeQuery = true)\r\nList&lt;List&lt;Object&gt;&gt; getCcBpTpvByIdAndDateBetween(\r\n    @Param(&quot;userId&quot;) String userId,\r\n    @Param(&quot;startDate&quot;) LocalDate startDate,\r\n    @Param(&quot;endDate&quot;) LocalDate endDate);\r\n\r\nSELECT month(created_at) mm, year(created_at) yy, sum(amount) tpv FROM order WHERE user_id = ? AND category = &#39;BILL&#39; AND status IN (&#39;SUCCESS&#39;, &#39;PENDING&#39;) AND created_at &gt;= ? AND created_at &lt; ? GROUP BY mm, yy\r\nTRACE o.h.type.descriptor.sql.BasicBinder.bind(64) - binding parameter [1] as [VARCHAR] - [24463608]\r\nTRACE o.h.type.descriptor.sql.BasicBinder.bind(64) - binding parameter [2] as [DATE] - [2022-07-31]\r\nTRACE o.h.type.descriptor.sql.BasicBinder.bind(64) - binding parameter [3] as [DATE] - [2022-10-01]\r\nINFO  c.b.b.p.services.impl.OrderService.getCcBpMonthlyTpv(686) - db query response time:8\r\n```\r\nBelow are the cases after my analysis:\r\n\r\n - passed user_id as long and long was interpreted by jpa as bigint and got response in **2398ms**.\r\n - passed user_id as string which was interpreted by jpa as varchar and got response in **8ms**.\r\n\r\nTech stack:\r\n- JDK: 11\r\n- Spring boot version: 2.5.5\r\n- mysql version: 8.0.23\r\n\r\nNote:\r\n-----\r\n\r\nApprox 3 Million records present in table\r\n\r\n## Questions ##\r\n\r\n 1. How does mysql behave if column value is passed as different data type while doing a select?\r\n 2. Both gave correct result but one gave worst performance and other scenario gave best performance. Why?\r\n","title":"performance impact of bigint vs varchar in mysql query","body":"<p>Mysql giving bad performance while passing column value as bigint and column created with data type is varchar. Below is my create table query and index created on 3 columns(user_id,category,status). I am using spring jpa to interact with mysql and also using native query to get data from mysql.</p>\n<pre><code>CREATE TABLE order (\n    id          int NOT NULL AUTO_INCREMENT,\n    user_id     varchar(50) NOT NULL,\n    category    varchar(255) NOT NULL,\n    amount      decimal(13,2) NOT NULL,\n    status      varchar(50) NOT NULL,\n    created_at  timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n    PRIMARY KEY (id),\n    KEY idx_order_user_category_status (user_id,category,status),\n    KEY idx_order_created_at (created_at)\n);\n</code></pre>\n<pre><code>@Query(\n    value =\n        &quot;SELECT month(created_at) mm, year(created_at) yy, sum(amount) tpv &quot;\n            + &quot;FROM order &quot;\n            + &quot;WHERE user_id = :userId &quot;\n            + &quot;AND category = 'BILL' &quot;\n            + &quot;AND status IN ('SUCCESS','PENDING') &quot;\n            + &quot;AND created_at &gt;= :startDate AND created_at &lt; :endDate &quot;\n            + &quot;GROUP BY mm, yy&quot;,\n    nativeQuery = true)\nList&lt;List&lt;Object&gt;&gt; getTpvByUserIdAndDateBetween(\n    @Param(&quot;userId&quot;) Long userId,\n    @Param(&quot;startDate&quot;) LocalDate startDate,\n    @Param(&quot;endDate&quot;) LocalDate endDate);\n\nSELECT month(created_at) mm, year(created_at) yy, sum(amount) tpv FROM order WHERE user_id = ? AND category = 'BILL' AND status IN ('SUCCESS', 'PENDING') AND created_at &gt;= ? AND created_at &lt; ? GROUP BY mm, yy\nTRACE o.h.type.descriptor.sql.BasicBinder.bind(64) - binding parameter [1] as [BIGINT] - [24463608]\nTRACE o.h.type.descriptor.sql.BasicBinder.bind(64) - binding parameter [2] as [DATE] - [2022-07-31]\nTRACE o.h.type.descriptor.sql.BasicBinder.bind(64) - binding parameter [3] as [DATE] - [2022-10-01]\nINFO  c.b.b.p.services.impl.OrderService.getCcBpMonthlyTpv(672) - db query response time:2398\n\n\n@Query(\n    value =\n        &quot;SELECT month(created_at) mm, year(created_at) yy, sum(amount) tpv &quot;\n            + &quot;FROM order &quot;\n            + &quot;WHERE user_id = :userId &quot;\n            + &quot;AND category = 'BILL' &quot;\n            + &quot;AND status IN ('SUCCESS', 'PENDING') &quot;\n            + &quot;AND created_at &gt;= :startDate AND created_at &lt; :endDate &quot;\n            + &quot;GROUP BY mm, yy&quot;,\n    nativeQuery = true)\nList&lt;List&lt;Object&gt;&gt; getCcBpTpvByIdAndDateBetween(\n    @Param(&quot;userId&quot;) String userId,\n    @Param(&quot;startDate&quot;) LocalDate startDate,\n    @Param(&quot;endDate&quot;) LocalDate endDate);\n\nSELECT month(created_at) mm, year(created_at) yy, sum(amount) tpv FROM order WHERE user_id = ? AND category = 'BILL' AND status IN ('SUCCESS', 'PENDING') AND created_at &gt;= ? AND created_at &lt; ? GROUP BY mm, yy\nTRACE o.h.type.descriptor.sql.BasicBinder.bind(64) - binding parameter [1] as [VARCHAR] - [24463608]\nTRACE o.h.type.descriptor.sql.BasicBinder.bind(64) - binding parameter [2] as [DATE] - [2022-07-31]\nTRACE o.h.type.descriptor.sql.BasicBinder.bind(64) - binding parameter [3] as [DATE] - [2022-10-01]\nINFO  c.b.b.p.services.impl.OrderService.getCcBpMonthlyTpv(686) - db query response time:8\n</code></pre>\n<p>Below are the cases after my analysis:</p>\n<ul>\n<li>passed user_id as long and long was interpreted by jpa as bigint and got response in <strong>2398ms</strong>.</li>\n<li>passed user_id as string which was interpreted by jpa as varchar and got response in <strong>8ms</strong>.</li>\n</ul>\n<p>Tech stack:</p>\n<ul>\n<li>JDK: 11</li>\n<li>Spring boot version: 2.5.5</li>\n<li>mysql version: 8.0.23</li>\n</ul>\n<h2>Note:</h2>\n<p>Approx 3 Million records present in table</p>\n<h2>Questions</h2>\n<ol>\n<li>How does mysql behave if column value is passed as different data type while doing a select?</li>\n<li>Both gave correct result but one gave worst performance and other scenario gave best performance. Why?</li>\n</ol>\n"},{"tags":["java","console-application","jline"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664707498,"post_id":73924990,"comment_id":130529372,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664721632,"creation_date":1664720941,"answer_id":73926624,"question_id":73924990,"body_markdown":"[`org.jline terminal.Terminal#getHeight()`](https://github.com/jline/jline3/blob/jline-parent-3.21.0/terminal/src/main/java/org/jline/terminal/Terminal.java#L200-L202) is not a `static` method and therefore needs to be called on an instance of `org.jline terminal.Terminal`.\r\nYou should probably use [`org.jline terminal.TerminalBuilder`](https://github.com/jline/jline3/blob/jline-parent-3.21.0/terminal/src/main/java/org/jline/terminal/TerminalBuilder.java#L37-L40) to obtain one.\r\n\r\nThe import merely allows you to use `Terminal` without the package name.","title":"Why does jline&#39;s TerminalBuilder not accept function call?","body":"<p><a href=\"https://github.com/jline/jline3/blob/jline-parent-3.21.0/terminal/src/main/java/org/jline/terminal/Terminal.java#L200-L202\" rel=\"nofollow noreferrer\"><code>org.jline terminal.Terminal#getHeight()</code></a> is not a <code>static</code> method and therefore needs to be called on an instance of <code>org.jline terminal.Terminal</code>.\nYou should probably use <a href=\"https://github.com/jline/jline3/blob/jline-parent-3.21.0/terminal/src/main/java/org/jline/terminal/TerminalBuilder.java#L37-L40\" rel=\"nofollow noreferrer\"><code>org.jline terminal.TerminalBuilder</code></a> to obtain one.</p>\n<p>The import merely allows you to use <code>Terminal</code> without the package name.</p>\n"}],"owner":{"account_id":15775971,"reputation":33,"user_id":15817931,"display_name":"Alwin Schneider"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664721632,"creation_date":1664705423,"question_id":73924990,"body_markdown":"Please dont ban me for this question, i am a noob and i have googled this for hours now.\r\n\r\nTo make a console based Snake Game, i plan to use the jline Libary.\r\nHowever, when i try to call &quot;Terminal&quot; &#39;s function getHeight()(i imported org.jline.Terminal already), there is an error:\r\n\r\n&gt; Cannot make a static reference to the non-static method **getHeight()** from the type **Terminal**\r\n\r\nthis happens even though the Terminal import does have a function called getHeight().\r\n\r\ni have an assumption: i think i need to generate an instance of something to use it. but for what do i need to generate an instance.\r\nor is the assumption wrong?\r\n\r\nDo you have an Idea how to solve this?\r\n\r\nKind regards,\r\n\r\nyour Alwin :)","title":"Why does jline&#39;s TerminalBuilder not accept function call?","body":"<p>Please dont ban me for this question, i am a noob and i have googled this for hours now.</p>\n<p>To make a console based Snake Game, i plan to use the jline Libary.\nHowever, when i try to call &quot;Terminal&quot; 's function getHeight()(i imported org.jline.Terminal already), there is an error:</p>\n<blockquote>\n<p>Cannot make a static reference to the non-static method <strong>getHeight()</strong> from the type <strong>Terminal</strong></p>\n</blockquote>\n<p>this happens even though the Terminal import does have a function called getHeight().</p>\n<p>i have an assumption: i think i need to generate an instance of something to use it. but for what do i need to generate an instance.\nor is the assumption wrong?</p>\n<p>Do you have an Idea how to solve this?</p>\n<p>Kind regards,</p>\n<p>your Alwin :)</p>\n"},{"tags":["java","arrays"],"answers":[{"comments":[{"owner":{"account_id":24657195,"reputation":11,"user_id":18553771,"display_name":"Irsyad Ardiansyah"},"score":0,"creation_date":1664717711,"post_id":73926129,"comment_id":130531166,"body_markdown":"the loop go mess","body":"the loop go mess"}],"tags":[],"owner":{"account_id":17051110,"reputation":46,"user_id":12336723,"display_name":"Sergey"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664716655,"creation_date":1664716655,"answer_id":73926129,"question_id":73926051,"body_markdown":"    total = score [i][0] + score [i][1];\r\n    \r\nThis line expect to get &quot;i&quot; but loop already closed. \r\n\r\nTo fix - close for loop **after** printing this line:  \r\n\r\n    System.out.print(&quot;\\t&quot;+subject+&quot;\\t&quot;+score [i][0]+&quot;\\t&quot;+score [i][1]+&quot;\\t&quot;+avrg);\r\n\r\n","title":"java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2 at array2.main, i got this error on my program how do fix it?","body":"<pre><code>total = score [i][0] + score [i][1];\n</code></pre>\n<p>This line expect to get &quot;i&quot; but loop already closed.</p>\n<p>To fix - close for loop <strong>after</strong> printing this line:</p>\n<pre><code>System.out.print(&quot;\\t&quot;+subject+&quot;\\t&quot;+score [i][0]+&quot;\\t&quot;+score [i][1]+&quot;\\t&quot;+avrg);\n</code></pre>\n"}],"owner":{"account_id":24657195,"reputation":11,"user_id":18553771,"display_name":"Irsyad Ardiansyah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":604,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1664716797,"answer_count":1,"score":0,"last_activity_date":1664720561,"creation_date":1664715990,"question_id":73926051,"body_markdown":"    import java.util.Scanner;\r\n\r\n    class array2 {\r\n        public static void main(String args[]) {\r\n            Scanner input = new Scanner(System.in);\r\n                int arr_count = input.nextInt(), i;\r\n                    System.out.print(&quot;Jumlah Data : &quot;);\r\n                    arr_count = input.nextInt();\r\n\r\n        \r\n                int score [][] = new int[arr_count][10];\r\n                String subject [][] = new String[arr_count][1];\r\n                float total, avrg;\r\n                \r\n                for (i=0;i&lt;arr_count;i++) {\r\n                    System.out.print(&quot;Mata Kuliah : &quot;);\r\n                    subject [i][0] = input.next();\r\n                    System.out.print(&quot;Nilai Teori : &quot;); score [i][0] = input.nextInt();\r\n                    System.out.print(&quot;Nilai Praktik : &quot;); score [i][1] = input.nextInt();\r\n                    System.out.println();\r\n                }\r\n                \r\n     \r\n                System.out.println();\r\n                System.out.println(&quot;----------------------------------------------------&quot;);\r\n                System.out.println(&quot;Mata Kuliah     Teori     Praktikum       Rata-rata&quot;);\r\n                System.out.println(&quot;----------------------------------------------------&quot;);\r\n                \r\n                total = score [i][0] + score [i][1];\r\n                avrg = total/2;\r\n                \r\n            \r\n                System.out.print(&quot;\\t&quot;+subject+&quot;\\t&quot;+score [i][0]+&quot;\\t&quot;+score [i][1]+&quot;\\t&quot;+avrg);\r\n                \r\n          }\r\n    }\r\n\r\n&gt; error = java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2 at array2.main\r\n\r\nHow do I fix this?","title":"java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2 at array2.main, i got this error on my program how do fix it?","body":"<pre><code>import java.util.Scanner;\n\nclass array2 {\n    public static void main(String args[]) {\n        Scanner input = new Scanner(System.in);\n            int arr_count = input.nextInt(), i;\n                System.out.print(&quot;Jumlah Data : &quot;);\n                arr_count = input.nextInt();\n\n    \n            int score [][] = new int[arr_count][10];\n            String subject [][] = new String[arr_count][1];\n            float total, avrg;\n            \n            for (i=0;i&lt;arr_count;i++) {\n                System.out.print(&quot;Mata Kuliah : &quot;);\n                subject [i][0] = input.next();\n                System.out.print(&quot;Nilai Teori : &quot;); score [i][0] = input.nextInt();\n                System.out.print(&quot;Nilai Praktik : &quot;); score [i][1] = input.nextInt();\n                System.out.println();\n            }\n            \n \n            System.out.println();\n            System.out.println(&quot;----------------------------------------------------&quot;);\n            System.out.println(&quot;Mata Kuliah     Teori     Praktikum       Rata-rata&quot;);\n            System.out.println(&quot;----------------------------------------------------&quot;);\n            \n            total = score [i][0] + score [i][1];\n            avrg = total/2;\n            \n        \n            System.out.print(&quot;\\t&quot;+subject+&quot;\\t&quot;+score [i][0]+&quot;\\t&quot;+score [i][1]+&quot;\\t&quot;+avrg);\n            \n      }\n}\n</code></pre>\n<blockquote>\n<p>error = java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2 at array2.main</p>\n</blockquote>\n<p>How do I fix this?</p>\n"},{"tags":["java","android","multithreading"],"answers":[{"comments":[{"owner":{"account_id":36607,"reputation":101051,"user_id":104458,"accept_rate":91,"display_name":"selbie"},"score":0,"creation_date":1404517296,"post_id":24580846,"comment_id":38079911,"body_markdown":"Thanks. I already knew all this. But even with the mod as you have it, there&#39;s still a potential race condition. The call to `Thread.interruped()` could return false, followed by a context switch to the other thread back that then calls `thread.interrupt`, then context switch back to the worker thread that is now entering the `read` call again.  Does `read` ultimately call Thread.isInterruped() before it blocks?  That&#39;s really the question.","body":"Thanks. I already knew all this. But even with the mod as you have it, there&#39;s still a potential race condition. The call to <code>Thread.interruped()</code> could return false, followed by a context switch to the other thread back that then calls <code>thread.interrupt</code>, then context switch back to the worker thread that is now entering the <code>read</code> call again.  Does <code>read</code> ultimately call Thread.isInterruped() before it blocks?  That&#39;s really the question."},{"owner":{"account_id":557322,"reputation":8250,"user_id":919710,"accept_rate":80,"display_name":"Alexandre Santos"},"score":0,"creation_date":1404517895,"post_id":24580846,"comment_id":38079991,"body_markdown":"True. That&#39;s why I like to add my own method &#39;beenInterrupted` that will check and stay checked if `interrupted` has ever been called.","body":"True. That&#39;s why I like to add my own method &#39;beenInterrupted` that will check and stay checked if <code>interrupted</code> has ever been called."},{"owner":{"account_id":36607,"reputation":101051,"user_id":104458,"accept_rate":91,"display_name":"selbie"},"score":0,"creation_date":1404518847,"post_id":24580846,"comment_id":38080136,"body_markdown":"That&#39;s the same thing as `_exitFlag` in my code sample. That still doesn&#39;t solve the race condition if `read` doesn&#39;t check the interrupt condition prior to blocking. I think the solution is to have the `stop` method loop on `thread.interrupt()` and only block on `thread.join` for a fraction of a second.","body":"That&#39;s the same thing as <code>_exitFlag</code> in my code sample. That still doesn&#39;t solve the race condition if <code>read</code> doesn&#39;t check the interrupt condition prior to blocking. I think the solution is to have the <code>stop</code> method loop on <code>thread.interrupt()</code> and only block on <code>thread.join</code> for a fraction of a second."},{"owner":{"account_id":557322,"reputation":8250,"user_id":919710,"accept_rate":80,"display_name":"Alexandre Santos"},"score":0,"creation_date":1404518951,"post_id":24580846,"comment_id":38080156,"body_markdown":"Yes, that will work if the Thread doesn&#39;t have any cleanup job to do.","body":"Yes, that will work if the Thread doesn&#39;t have any cleanup job to do."}],"tags":[],"owner":{"account_id":557322,"reputation":8250,"user_id":919710,"accept_rate":80,"display_name":"Alexandre Santos"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1404508764,"creation_date":1404508764,"answer_id":24580846,"question_id":24580769,"body_markdown":"They are separate things. The call to Thread.interrupt only sets a flag in the target Thread. It is up to that Thread to handle the call. If the Thread is sleeping then an InterruptedException will be thrown and it is up to the target Thread to handle the exception (or throw it again). However, if the target Thread is not in a state that throws InterruptedException (not sleeping and not joining) then it is up to the target Thread to be constantly checking for the signal via `Thread.interrupted()`.\r\n\r\nIn your example, it is up to the thread reading the stream to check periodically if the `interrupted` flag has been set or not.\r\n\r\nIn your code, I would check the flag using something like\r\n\r\n                  result = stream.read(bytearray);\r\n                  if (result == -1)\r\n                      break;\r\n                  processBytes(bytearray, result);\r\n                  if (Thread.interrupted()) {\r\n                      // We&#39;ve been interrupted: no more crunching.\r\n                      // handle the interruption here by throwing an Exception or returning.. or something else\r\n                   }\r\n","title":"Calling thread.interrupt on a class in between io operations (is this a race condition)?","body":"<p>They are separate things. The call to Thread.interrupt only sets a flag in the target Thread. It is up to that Thread to handle the call. If the Thread is sleeping then an InterruptedException will be thrown and it is up to the target Thread to handle the exception (or throw it again). However, if the target Thread is not in a state that throws InterruptedException (not sleeping and not joining) then it is up to the target Thread to be constantly checking for the signal via <code>Thread.interrupted()</code>.</p>\n\n<p>In your example, it is up to the thread reading the stream to check periodically if the <code>interrupted</code> flag has been set or not.</p>\n\n<p>In your code, I would check the flag using something like</p>\n\n<pre><code>              result = stream.read(bytearray);\n              if (result == -1)\n                  break;\n              processBytes(bytearray, result);\n              if (Thread.interrupted()) {\n                  // We've been interrupted: no more crunching.\n                  // handle the interruption here by throwing an Exception or returning.. or something else\n               }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1726292,"reputation":2791,"user_id":1580864,"accept_rate":74,"display_name":"Mark W"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1404520607,"creation_date":1404519586,"answer_id":24581895,"question_id":24580769,"body_markdown":"Consider the following code\r\n\r\n\tpackage test;\r\n\t\r\n\tpublic class BlockingTest {\r\n\t\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tThread t = new Thread(new Sleeper());\r\n\t\t\tt.start();\r\n\t\t\tSystem.out.println(&quot;interrupting&quot;);\r\n\t\t\tt.interrupt();\r\n\t\t\ttry {\r\n\t\t\t\t\r\n\t\t\t\tt.join();\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tpublic static class Sleeper implements Runnable {\r\n\t\t\tprivate final Object lock = new Object();\r\n\t\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfor (int I = 0; I &lt; 120000; I++) {\r\n\t\t\t\t\t\tSystem.out.println(I);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tSystem.out.println(&quot;Stopped counting, waiting&quot;);\r\n\t\t\t\t\tsynchronized (lock) {\r\n\t\t\t\t\t\tlock.wait();\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t\t\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n\r\nHere the thread running in Sleeper will throw an interrupted exception when it enters the monitor on the lock object. .interrupt() was called by the main thread long before it gets to that point. So calling interrupt on a thread prior to entering some blocking operation will throw an interrupted exception if the call to that threads interrupt was made prior to the blocking op. It is good to point out that a call to interrupted on Thread will clear the interruped flag, so if this happens: \r\n\r\n    Thread.interrupt();\r\n    ....\r\n    Thread.interrupted();\r\n    Thread.interrupted();\r\n\r\nThe second call to Thread.interrupted() will return false.\r\nHeres the doc: http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#interrupted%28%29\r\n\r\nI do remember hearing long ago that its not a good idea to rely on interrupts as exit conditions. Typically I will implement an exit() method which sets some exit flag, and calls interrupt on the thread in question. This makes sure that I either evaluate the exit flag and exit, or if the thread is waiting in a loop on a monitor someplace, that it will throw an IOException, and subsequently evaluate the exit flag and exit. But I can imagine situations where you want to set a flag, but not necessarily interrupt eg. ensuring that a thread doesnt abort a write operation and say, corrupt some persisted data its writing.\r\n","title":"Calling thread.interrupt on a class in between io operations (is this a race condition)?","body":"<p>Consider the following code</p>\n\n<pre><code>package test;\n\npublic class BlockingTest {\n\n    public static void main(String[] args) {\n        Thread t = new Thread(new Sleeper());\n        t.start();\n        System.out.println(\"interrupting\");\n        t.interrupt();\n        try {\n\n            t.join();\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n\n    public static class Sleeper implements Runnable {\n        private final Object lock = new Object();\n\n        @Override\n        public void run() {\n            try {\n                for (int I = 0; I &lt; 120000; I++) {\n                    System.out.println(I);\n                }\n                System.out.println(\"Stopped counting, waiting\");\n                synchronized (lock) {\n                    lock.wait();\n                }\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }   \n\n    }\n\n}\n</code></pre>\n\n<p>Here the thread running in Sleeper will throw an interrupted exception when it enters the monitor on the lock object. .interrupt() was called by the main thread long before it gets to that point. So calling interrupt on a thread prior to entering some blocking operation will throw an interrupted exception if the call to that threads interrupt was made prior to the blocking op. It is good to point out that a call to interrupted on Thread will clear the interruped flag, so if this happens: </p>\n\n<pre><code>Thread.interrupt();\n....\nThread.interrupted();\nThread.interrupted();\n</code></pre>\n\n<p>The second call to Thread.interrupted() will return false.\nHeres the doc: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#interrupted%28%29\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#interrupted%28%29</a></p>\n\n<p>I do remember hearing long ago that its not a good idea to rely on interrupts as exit conditions. Typically I will implement an exit() method which sets some exit flag, and calls interrupt on the thread in question. This makes sure that I either evaluate the exit flag and exit, or if the thread is waiting in a loop on a monitor someplace, that it will throw an IOException, and subsequently evaluate the exit flag and exit. But I can imagine situations where you want to set a flag, but not necessarily interrupt eg. ensuring that a thread doesnt abort a write operation and say, corrupt some persisted data its writing.</p>\n"},{"tags":[],"owner":{"account_id":1316033,"reputation":7855,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664719828,"creation_date":1664719828,"answer_id":73926495,"question_id":24580769,"body_markdown":"\r\n\r\nMethods that throw `InterruptedException` will check before blocking if the thread is interrupted. From the docs of `InterruptedException`:\r\n\r\n&gt; Thrown when a thread is waiting, sleeping, or otherwise occupied, and the thread is interrupted, either **before** or during the activity.\r\n\r\n(Emphasis mine)\r\n\r\nJust try this:\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n      Thread.currentThread().interrupt();\r\n      Thread.sleep(1000);\r\n    }\r\n\r\nResult:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.InterruptedException: sleep interrupted\r\n\t    at java.base/java.lang.Thread.sleep(Native Method)\r\n    \tat ...\r\n\r\nThis means that you can forego checking the flag yourself (which would be prone to all sorts of race conditions anyway) if you are often calling another method that throws `InterruptedException`.","title":"Calling thread.interrupt on a class in between io operations (is this a race condition)?","body":"<p>Methods that throw <code>InterruptedException</code> will check before blocking if the thread is interrupted. From the docs of <code>InterruptedException</code>:</p>\n<blockquote>\n<p>Thrown when a thread is waiting, sleeping, or otherwise occupied, and the thread is interrupted, either <strong>before</strong> or during the activity.</p>\n</blockquote>\n<p>(Emphasis mine)</p>\n<p>Just try this:</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n  Thread.currentThread().interrupt();\n  Thread.sleep(1000);\n}\n</code></pre>\n<p>Result:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.InterruptedException: sleep interrupted\n    at java.base/java.lang.Thread.sleep(Native Method)\n    at ...\n</code></pre>\n<p>This means that you can forego checking the flag yourself (which would be prone to all sorts of race conditions anyway) if you are often calling another method that throws <code>InterruptedException</code>.</p>\n"}],"owner":{"account_id":36607,"reputation":101051,"user_id":104458,"accept_rate":91,"display_name":"selbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":24580846,"answer_count":3,"score":1,"last_activity_date":1664719828,"creation_date":1404508227,"question_id":24580769,"body_markdown":"My question is specific to android, but I suspect is applies to Java threads in general.\r\n\r\nLet&#39;s say the run loop of a worker thread is doing this.  Reading bytes from a network stream and doing stuff with each chunk read.\r\n\r\n     class MyWorker implements Runnable {\r\n\r\n         boolean _exitFlag;\r\n         Thread _thread;\r\n         \r\n\r\n         void run()\r\n         {\r\n             HttpUrlConnection connection;\r\n             \r\n             // connection establishment not shown for brevity\r\n    \r\n             while(_exitFlag == false)\r\n             {\r\n                  InputStream stream = connection.getInputStream();\r\n                  int result;\r\n                  try\r\n                  {\r\n                      result = stream.read(bytearray);\r\n                      if (result == -1)\r\n                          break;\r\n                      processBytes(bytearray, result); \r\n                  }\r\n                  catch(IOException ioex)\r\n                  {\r\n                      break;                  \r\n                  }\r\n             }\r\n         }\r\n\r\n\r\nNow the other thread is ready to signal this thread to exit by calling another method on this class:\r\n\r\n    public void stop()\r\n    {\r\n        _exitFlag = true;\r\n        _thread.interrupt();\r\n        _thread.join();\r\n    }\r\n    \r\n\r\nIt&#39;s my understanding that the `_thread.interrupt` call will wake up the blocking io operation on the `stream.read` call with an exception derived from IOException.  That&#39;s assuming the thread is actually at that point in the code.\r\n\r\nLet&#39;s say the `stop` call was made immediately after the worker thread checked the `_exitFlag==false` condition but before it got to the subsequent `read` call?\r\n\r\n\r\nWill the subsequent call to `stream.read()` immediately throw an exception if the thread has a posted interrupt?  Or will it continue to block and wait for the IO operation to complete? In other words, is this a race condition?\r\n\r\nWhat is a good pattern for signaling a worker thread that may be in the middle of a long blocking io operation to exit?\r\n","title":"Calling thread.interrupt on a class in between io operations (is this a race condition)?","body":"<p>My question is specific to android, but I suspect is applies to Java threads in general.</p>\n\n<p>Let's say the run loop of a worker thread is doing this.  Reading bytes from a network stream and doing stuff with each chunk read.</p>\n\n<pre><code> class MyWorker implements Runnable {\n\n     boolean _exitFlag;\n     Thread _thread;\n\n\n     void run()\n     {\n         HttpUrlConnection connection;\n\n         // connection establishment not shown for brevity\n\n         while(_exitFlag == false)\n         {\n              InputStream stream = connection.getInputStream();\n              int result;\n              try\n              {\n                  result = stream.read(bytearray);\n                  if (result == -1)\n                      break;\n                  processBytes(bytearray, result); \n              }\n              catch(IOException ioex)\n              {\n                  break;                  \n              }\n         }\n     }\n</code></pre>\n\n<p>Now the other thread is ready to signal this thread to exit by calling another method on this class:</p>\n\n<pre><code>public void stop()\n{\n    _exitFlag = true;\n    _thread.interrupt();\n    _thread.join();\n}\n</code></pre>\n\n<p>It's my understanding that the <code>_thread.interrupt</code> call will wake up the blocking io operation on the <code>stream.read</code> call with an exception derived from IOException.  That's assuming the thread is actually at that point in the code.</p>\n\n<p>Let's say the <code>stop</code> call was made immediately after the worker thread checked the <code>_exitFlag==false</code> condition but before it got to the subsequent <code>read</code> call?</p>\n\n<p>Will the subsequent call to <code>stream.read()</code> immediately throw an exception if the thread has a posted interrupt?  Or will it continue to block and wait for the IO operation to complete? In other words, is this a race condition?</p>\n\n<p>What is a good pattern for signaling a worker thread that may be in the middle of a long blocking io operation to exit?</p>\n"},{"tags":["java","spring-boot","junit"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1664718010,"post_id":73926211,"comment_id":130531247,"body_markdown":"Plase share the complete stacktrace","body":"Plase share the complete stacktrace"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1664719401,"post_id":73926211,"comment_id":130531487,"body_markdown":"@Jens I fixed the issue. I just shared with the solution.","body":"@Jens I fixed the issue. I just shared with the solution."}],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664719477,"creation_date":1664719477,"answer_id":73926454,"question_id":73926211,"body_markdown":"Here is the solution shown below.\r\n\r\nAfter clicking **&quot;invalidate caches&quot;** and restarting the **Intellij IDEA**, the issue disappeared. ","title":"Spring Boot JUnit Test Define BaseRepositoryTest for its related repository Failed to load ApplicationContext","body":"<p>Here is the solution shown below.</p>\n<p>After clicking <strong>&quot;invalidate caches&quot;</strong> and restarting the <strong>Intellij IDEA</strong>, the issue disappeared.</p>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73926454,"answer_count":1,"score":0,"last_activity_date":1664719477,"creation_date":1664717311,"question_id":73926211,"body_markdown":"I have a problem about defining baserepositorytest class for annotation extending from another class.\r\n\r\nHere is the base repository test shown below.\r\n\r\n    @DataJpaTest\r\n    @AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\n    @RunWith(SpringRunner.class)\r\n    public abstract class BaseRepositoryTests {\r\n    }\r\n\r\nHere is the repository test shown below.\r\n\r\n    public class BookRepositoryTests extends BaseRepositoryTests {\r\n    \r\n    }\r\n\r\nI got this error shown below.\r\n\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n\r\nHow can I fix it?\r\n","title":"Spring Boot JUnit Test Define BaseRepositoryTest for its related repository Failed to load ApplicationContext","body":"<p>I have a problem about defining baserepositorytest class for annotation extending from another class.</p>\n<p>Here is the base repository test shown below.</p>\n<pre><code>@DataJpaTest\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\n@RunWith(SpringRunner.class)\npublic abstract class BaseRepositoryTests {\n}\n</code></pre>\n<p>Here is the repository test shown below.</p>\n<pre><code>public class BookRepositoryTests extends BaseRepositoryTests {\n\n}\n</code></pre>\n<p>I got this error shown below.</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext\n</code></pre>\n<p>How can I fix it?</p>\n"},{"tags":["java","list","object","methods","extension-methods"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1664716016,"post_id":73925946,"comment_id":130530836,"body_markdown":"`public abstract class Man` but then `Man man1 = new Man(....)`.  How does this code even compile?  Where is the `List&lt;&gt;`?  Why use generics when no generic type is specified?","body":"<code>public abstract class Man</code> but then <code>Man man1 = new Man(....)</code>.  How does this code even compile?  Where is the <code>List&lt;&gt;</code>?  Why use generics when no generic type is specified?"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1664718286,"post_id":73925946,"comment_id":130531301,"body_markdown":"You did not include `Ekstensja`, your exception handling is a problem (don&#39;t &#39;print and continue&#39; - no matter how often that anti-pattern shows up in examples), and you aren&#39;t using generics here (`extends Extension` is a problem; it needs to be `extends Extension&lt;Something&gt;`). The design in general seems problematic. I&#39;m not sure anybody can help you out without considerably more source code and information. Why did you design it this way, what are you trying to do, etcetera.","body":"You did not include <code>Ekstensja</code>, your exception handling is a problem (don&#39;t &#39;print and continue&#39; - no matter how often that anti-pattern shows up in examples), and you aren&#39;t using generics here (<code>extends Extension</code> is a problem; it needs to be <code>extends Extension&lt;Something&gt;</code>). The design in general seems problematic. I&#39;m not sure anybody can help you out without considerably more source code and information. Why did you design it this way, what are you trying to do, etcetera."},{"owner":{"account_id":26120231,"reputation":1,"user_id":19812652,"display_name":"johnmxc"},"score":0,"creation_date":1664719509,"post_id":73925946,"comment_id":130531516,"body_markdown":"I have list of Man and Woman in this classes but i write only List. yes now its correct code. What is wrong?","body":"I have list of Man and Woman in this classes but i write only List. yes now its correct code. What is wrong?"}],"owner":{"account_id":26120231,"reputation":1,"user_id":19812652,"display_name":"johnmxc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664719460,"creation_date":1664715102,"question_id":73925946,"body_markdown":"I have 3 classes and one when I store my lists. \r\n\r\n  \r\n\r\n      public class Extension&lt;T&gt; implements Serializable\r\n\r\nAnd 3 like this:\r\n\r\n        public abstract class Person extends Exstension implements Serializable {\r\n            // etc.\r\n        }\r\n    \r\n        public abstract class Man extends Person {\r\n    List&lt;Man&gt;...\r\n            // etc.\r\n        }\r\n    \r\n        public abstract class Woman extends Person {\r\n    List&lt;Woman&gt;...\r\n            // etc.\r\n        }\r\n\r\nIn Main class I have: \r\n\r\n    Man man1 = new Man(....);\r\n    Woman woman1 = new Woman(....);\r\n    \r\n    ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(&quot;Storage&quot;));\r\n    Extension.save(oos);\r\n    oos.close();\r\n    \r\n    try (ObjectInputStream ois = new ObjectInputStream(new FileInputStream(&quot;Storage&quot;))) {\r\n    \tExtension.load(ois);\r\n    } catch (Exception e) {\r\n    \tSystem.out.println(&quot;Brak ekstensji!&quot;);\r\n    }\r\n\t\r\nAnd when I want to read every man and woman in Like this:\r\n\r\n    System.out.println(Person.getExtension(Person.class));\r\n\r\nAnd its give me : null.\r\nWhat should I add to my code?  \r\nThanks!\r\n","title":"How to have a list from inheritance classes?","body":"<p>I have 3 classes and one when I store my lists.</p>\n<pre><code>  public class Extension&lt;T&gt; implements Serializable\n</code></pre>\n<p>And 3 like this:</p>\n<pre><code>    public abstract class Person extends Exstension implements Serializable {\n        // etc.\n    }\n\n    public abstract class Man extends Person {\nList&lt;Man&gt;...\n        // etc.\n    }\n\n    public abstract class Woman extends Person {\nList&lt;Woman&gt;...\n        // etc.\n    }\n</code></pre>\n<p>In Main class I have:</p>\n<pre><code>Man man1 = new Man(....);\nWoman woman1 = new Woman(....);\n\nObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(&quot;Storage&quot;));\nExtension.save(oos);\noos.close();\n\ntry (ObjectInputStream ois = new ObjectInputStream(new FileInputStream(&quot;Storage&quot;))) {\n    Extension.load(ois);\n} catch (Exception e) {\n    System.out.println(&quot;Brak ekstensji!&quot;);\n}\n</code></pre>\n<p>And when I want to read every man and woman in Like this:</p>\n<pre><code>System.out.println(Person.getExtension(Person.class));\n</code></pre>\n<p>And its give me : null.\nWhat should I add to my code?<br />\nThanks!</p>\n"},{"tags":["java","class","arraylist","getter-setter"],"comments":[{"owner":{"account_id":12215167,"reputation":412,"user_id":8915836,"display_name":"mayamar"},"score":0,"creation_date":1664720454,"post_id":73926422,"comment_id":130531720,"body_markdown":"If you want to use objects then it&#39;s a bit strange to split the data in several ArrayLists. Normally you would have a class Customer with three attributes sso, name and lastname with getters and setters and a toString()-method that formats the data the way you want it to get printed. Then you need a ArrayList&lt;Customer&gt;. If you want to print the customers you can just print the toString()-result or use the getter-methods of the class to create another format.","body":"If you want to use objects then it&#39;s a bit strange to split the data in several ArrayLists. Normally you would have a class Customer with three attributes sso, name and lastname with getters and setters and a toString()-method that formats the data the way you want it to get printed. Then you need a ArrayList&lt;Customer&gt;. If you want to print the customers you can just print the toString()-result or use the getter-methods of the class to create another format."},{"owner":{"account_id":26500824,"reputation":1,"user_id":20137812,"display_name":"Alien242"},"score":0,"creation_date":1664731768,"post_id":73926422,"comment_id":130534198,"body_markdown":"The thing is that going to be couple of more attributes attributes, like. So depending of the users role (customer, staff...), they can acess different data, add, remove etc.\nFor example staff can search for a person with a uniq social security number and edit their names.\nStaff can create an account to the customer. \nCustomer should be able to see it&#39;s account and if their is money there. etc.\n\nHave specification what the programme should  do and I&#39;m aware that professionellay, you wouldn&#39;t solve it like this. But this is to learn how to programme, how classes work, arraylist etc.","body":"The thing is that going to be couple of more attributes attributes, like. So depending of the users role (customer, staff...), they can acess different data, add, remove etc. For example staff can search for a person with a uniq social security number and edit their names. Staff can create an account to the customer.  Customer should be able to see it&#39;s account and if their is money there. etc.  Have specification what the programme should  do and I&#39;m aware that professionellay, you wouldn&#39;t solve it like this. But this is to learn how to programme, how classes work, arraylist etc."}],"owner":{"account_id":26500824,"reputation":1,"user_id":20137812,"display_name":"Alien242"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664719261,"creation_date":1664719261,"question_id":73926422,"body_markdown":"I doing a bigger school project (first part of basic objective programming in java - so not touched extended, polyphorism etc yet, thats next part), but run in to a small problem and tried for couple of days to find solution (thru books and internet). I constructed different ArrayLists in one class and different classes (at least two) should get access to them.\r\n\r\n    public class Customer \r\n    {\t\r\n    \t\r\n    \tpublic void subMenuCustomer() \r\n    \t{\r\n            ............code............\r\n            \r\n            int subMenuCust;\r\n    \t\tServiceLogic addCustomer = new ServiceLogic();\r\n    \t\tServiceLogic listAllCustomers = new ServiceLogic();\r\n    \t\twhile(true)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Please Choose your preference: &quot;);\r\n                System.out.println(&quot;Create account, press \\&quot;1\\&quot;: &quot;);\r\n                System.out.println(&quot;Get list of clustomers, press \\&quot;2\\&quot;: &quot;);\r\n    \t\t    System.out.println(&quot;Log out, press \\&quot;0\\&quot;: &quot;;\r\n                subMenuCust = input.nextInt();\r\n                switch(subMenuCust) \r\n                {\r\n                \tcase 1 ://Call method createCustomer in class ServiceTech to add new customers \r\n                \t\taddCustomer.createCustomer(name, lastname, ssNo);\r\n                        break;\r\n               \t   case 3 \r\n                  \t\tlistAllCustomers.getCustomer();\r\n        ............more code..............\r\n                  }\r\n            }\r\n\r\n   \r\nWhen user has added details (social secuity number, name and lastname) it is stored in seperate ArrayList. These three ArrayList are added(merge/concat) together to a fourth ArayList, `listCustomer` , so that all elements from the three ArrayList end up in same index [101 -54 Clark Kent, 242-42 Linus Thorvalds, ...]. \r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n    \r\n    public class ServiceLogic \r\n    {\r\n    \t//Create new ArrayLists of Strings\r\n    \tprivate ArrayList&lt;String&gt; listSSNoCustomers = new ArrayList&lt;&gt;();\r\n    \tprivate ArrayList&lt;String&gt; listNameCustomers = new ArrayList&lt;&gt;();\r\n    \tprivate ArrayList&lt;String&gt; listLastnameCustomers = new ArrayList&lt;&gt;();\r\n    \tprivate ArrayList&lt;String&gt; listCustomers;\r\n\r\n    \tScanner input = new Scanner(System.in);\r\n    \r\n        public boolean createCustomer(String name, String lastname, String ssNo) //\r\n    \t{\r\n    \t\tSystem.out.println(&quot;Write social security number; &quot;);\r\n    \t\tssNo = input.next();\t\r\n    \t\t//loop to check that it is a uniq social security number\r\n    \t\tfor(String ssNumber : listSSNoCustomers)\r\n    \t\t{\r\n    \t\t\tif (ssNumber.equals(ssNo))\r\n    \t\t\t{\t\t\t\r\n    \t\t\t\tSystem.out.println(&quot;This customer already exist. Must be uniq social security number.&quot;);\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t}\t\r\n    \t\t//If social security number is not on list, add it \r\n    \t\t//and continue add first name and surname\r\n    \t\tlistSSNoCustomers.add(ssNo);\r\n    \t\tSystem.out.println(ssNo);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Write firstname; &quot;);\r\n    \t\tname = input.next();\r\n    \t\tlistNameCustomers.add(name);\r\n    \t\tSystem.out.println(name);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Write lastnamame; &quot;);\r\n    \t\tsurname = input.next();\t\r\n    \t\tlistSurnameCustomers.add(lastname);\r\n    \t\tSystem.out.println(lastname);\t\t\t\r\n    \t\treturn false;\r\n    \t}\r\n        public void setListCustomer(ArrayList&lt;String&gt; listCustomers)\r\n    \t{\r\n    \t\tthis.listCustomers = listCustomers;\r\n    \t}\r\n    \tpublic ArrayList&lt;String&gt; getCustomer()\r\n    \t{\r\n    \t\t//ArrayList&lt;String&gt; listCustomers = new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t\tfor(int i = 0; i &lt;listSSNoCustomers.size(); i++)\r\n    \t\t{\r\n    \t\t\tlistCustomers.add(listSSNoCustomers.get(i) + &quot; &quot; + listNameCustomers.get(i) + &quot; &quot; + listFirstnameCustomers.get(i));\r\n    \t\t}\r\n    \t\r\n    \t\tSystem.out.println(&quot;customer&quot; + listCustomers);\r\n    \t\t\t\r\n    \t\treturn listCustomers;\r\n         }\r\n    }\r\n\r\nAccording to the specification we got, when user want to see list of all customer the outputs should be in format **[666-66 Bruce Wayne, 242-42 Linus Thorvalds, ...]**.\r\nWhen user (staff) choose to enter details in `class Customer` ( `Case 1` ) it works and elements get stored in the Arraylists for social security numbers, name and lastname (have checked that) . \r\nThe problem: when I run I can add customers, but when I try to get a list of customer the output: **[]** . I tried different solution, but same output only empty between the brackets. \r\nSo the question, how do I get ouput to work when user choose `case 2` to get a list of all cutomers?     \t\t","title":"ArrayList in Class A and user trigger the output from Class B. How do I correctly get an output from an ArrayList?","body":"<p>I doing a bigger school project (first part of basic objective programming in java - so not touched extended, polyphorism etc yet, thats next part), but run in to a small problem and tried for couple of days to find solution (thru books and internet). I constructed different ArrayLists in one class and different classes (at least two) should get access to them.</p>\n<pre><code>public class Customer \n{   \n    \n    public void subMenuCustomer() \n    {\n        ............code............\n        \n        int subMenuCust;\n        ServiceLogic addCustomer = new ServiceLogic();\n        ServiceLogic listAllCustomers = new ServiceLogic();\n        while(true)\n        {\n            System.out.println(&quot;Please Choose your preference: &quot;);\n            System.out.println(&quot;Create account, press \\&quot;1\\&quot;: &quot;);\n            System.out.println(&quot;Get list of clustomers, press \\&quot;2\\&quot;: &quot;);\n            System.out.println(&quot;Log out, press \\&quot;0\\&quot;: &quot;;\n            subMenuCust = input.nextInt();\n            switch(subMenuCust) \n            {\n                case 1 ://Call method createCustomer in class ServiceTech to add new customers \n                    addCustomer.createCustomer(name, lastname, ssNo);\n                    break;\n               case 3 \n                    listAllCustomers.getCustomer();\n    ............more code..............\n              }\n        }\n</code></pre>\n<p>When user has added details (social secuity number, name and lastname) it is stored in seperate ArrayList. These three ArrayList are added(merge/concat) together to a fourth ArayList, <code>listCustomer</code> , so that all elements from the three ArrayList end up in same index [101 -54 Clark Kent, 242-42 Linus Thorvalds, ...].</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class ServiceLogic \n{\n    //Create new ArrayLists of Strings\n    private ArrayList&lt;String&gt; listSSNoCustomers = new ArrayList&lt;&gt;();\n    private ArrayList&lt;String&gt; listNameCustomers = new ArrayList&lt;&gt;();\n    private ArrayList&lt;String&gt; listLastnameCustomers = new ArrayList&lt;&gt;();\n    private ArrayList&lt;String&gt; listCustomers;\n\n    Scanner input = new Scanner(System.in);\n\n    public boolean createCustomer(String name, String lastname, String ssNo) //\n    {\n        System.out.println(&quot;Write social security number; &quot;);\n        ssNo = input.next();    \n        //loop to check that it is a uniq social security number\n        for(String ssNumber : listSSNoCustomers)\n        {\n            if (ssNumber.equals(ssNo))\n            {           \n                System.out.println(&quot;This customer already exist. Must be uniq social security number.&quot;);\n                return true;\n            }\n        }   \n        //If social security number is not on list, add it \n        //and continue add first name and surname\n        listSSNoCustomers.add(ssNo);\n        System.out.println(ssNo);\n        \n        System.out.println(&quot;Write firstname; &quot;);\n        name = input.next();\n        listNameCustomers.add(name);\n        System.out.println(name);\n        \n        System.out.println(&quot;Write lastnamame; &quot;);\n        surname = input.next(); \n        listSurnameCustomers.add(lastname);\n        System.out.println(lastname);           \n        return false;\n    }\n    public void setListCustomer(ArrayList&lt;String&gt; listCustomers)\n    {\n        this.listCustomers = listCustomers;\n    }\n    public ArrayList&lt;String&gt; getCustomer()\n    {\n        //ArrayList&lt;String&gt; listCustomers = new ArrayList&lt;&gt;();\n        \n        for(int i = 0; i &lt;listSSNoCustomers.size(); i++)\n        {\n            listCustomers.add(listSSNoCustomers.get(i) + &quot; &quot; + listNameCustomers.get(i) + &quot; &quot; + listFirstnameCustomers.get(i));\n        }\n    \n        System.out.println(&quot;customer&quot; + listCustomers);\n            \n        return listCustomers;\n     }\n}\n</code></pre>\n<p>According to the specification we got, when user want to see list of all customer the outputs should be in format <strong>[666-66 Bruce Wayne, 242-42 Linus Thorvalds, ...]</strong>.\nWhen user (staff) choose to enter details in <code>class Customer</code> ( <code>Case 1</code> ) it works and elements get stored in the Arraylists for social security numbers, name and lastname (have checked that) .\nThe problem: when I run I can add customers, but when I try to get a list of customer the output: <strong>[]</strong> . I tried different solution, but same output only empty between the brackets.\nSo the question, how do I get ouput to work when user choose <code>case 2</code> to get a list of all cutomers?</p>\n"},{"tags":["java","bufferedreader","filewriter"],"comments":[{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":1,"creation_date":1664718024,"post_id":73925898,"comment_id":130531251,"body_markdown":"`close()` your `bufferedReader` and `bufferedWriter` at the end of your method.","body":"<code>close()</code> your <code>bufferedReader</code> and <code>bufferedWriter</code> at the end of your method."},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1664718157,"post_id":73925898,"comment_id":130531274,"body_markdown":"Also, look into https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html to prevent such errors.","body":"Also, look into <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/exceptions/&hellip;</a> to prevent such errors."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664718621,"creation_date":1664718621,"answer_id":73926345,"question_id":73925898,"body_markdown":"Resources are objects that represent something more than just some memory. For example, an open network connection, or an open file handle, or a live connection to a database.\r\n\r\nThose underlying things are __severely limited__. You can make a million objects. No problem. That DB isn&#39;t going to let you have more than about 50 open connections, though.\r\n\r\nSo, whilst objects you can just forget about (the garbage collector will eventually get around to cleaning that up), __resources are not like that__. You have to explicitly close them the moment you are done with them.\r\n\r\nYour problem is: You aren&#39;t doing that.\r\n\r\nThe only proper way to deal with resources is to ensure you close them _regardless_ of how your code flows. So, even if an exception occurs, even if you `return` in the middle of a method, the resource must be closed.\r\n\r\nIn addition, as the name suggests, a `BufferedWriter` __buffers__. Meaning, if you don&#39;t tell that writer to &#39;flush&#39; its buffer, you&#39;ll have half a CSV file on disk, with the other half still in that buffer.\r\n\r\nWe solve both problems in one swoop by writing this properly.\r\n\r\n```\r\ntry (\r\n  BufferedReader bufferedReader = new BufferedReader(new FileReader(fromFileName));\r\n  BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(toFileName, true))) {\r\n\r\n  .. use the stuff here ..\r\n}\r\n```\r\n\r\nThis construct (The `try` part) ensures that no matter how code exits the braces (be it by just getting to the end, or you `return` or `break` or `continue` out of it, or an exception happens), `.close()` will be called on those 2 items. That will cause the buffer to &#39;flush&#39; its data and then close the thing it wrapped (your `FileWriter`).\r\n\r\nNB: Calling `ready()` is not how you do this; ready is not what you use to check if there&#39;s still data to read. Instead, call `.readLine()`, and if that returns `null` - _that_ is the signal you got to the end of the file. You can use a `while(true)` and a `break` to do this, or for example `for (String readLine = in.readLine(); readLine != null; readLine = in.readLine()) {`\r\n","title":"FileSystemException The process cannot access the file because it is being used by another process Can&#39;t correctly clear result files after test","body":"<p>Resources are objects that represent something more than just some memory. For example, an open network connection, or an open file handle, or a live connection to a database.</p>\n<p>Those underlying things are <strong>severely limited</strong>. You can make a million objects. No problem. That DB isn't going to let you have more than about 50 open connections, though.</p>\n<p>So, whilst objects you can just forget about (the garbage collector will eventually get around to cleaning that up), <strong>resources are not like that</strong>. You have to explicitly close them the moment you are done with them.</p>\n<p>Your problem is: You aren't doing that.</p>\n<p>The only proper way to deal with resources is to ensure you close them <em>regardless</em> of how your code flows. So, even if an exception occurs, even if you <code>return</code> in the middle of a method, the resource must be closed.</p>\n<p>In addition, as the name suggests, a <code>BufferedWriter</code> <strong>buffers</strong>. Meaning, if you don't tell that writer to 'flush' its buffer, you'll have half a CSV file on disk, with the other half still in that buffer.</p>\n<p>We solve both problems in one swoop by writing this properly.</p>\n<pre><code>try (\n  BufferedReader bufferedReader = new BufferedReader(new FileReader(fromFileName));\n  BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(toFileName, true))) {\n\n  .. use the stuff here ..\n}\n</code></pre>\n<p>This construct (The <code>try</code> part) ensures that no matter how code exits the braces (be it by just getting to the end, or you <code>return</code> or <code>break</code> or <code>continue</code> out of it, or an exception happens), <code>.close()</code> will be called on those 2 items. That will cause the buffer to 'flush' its data and then close the thing it wrapped (your <code>FileWriter</code>).</p>\n<p>NB: Calling <code>ready()</code> is not how you do this; ready is not what you use to check if there's still data to read. Instead, call <code>.readLine()</code>, and if that returns <code>null</code> - <em>that</em> is the signal you got to the end of the file. You can use a <code>while(true)</code> and a <code>break</code> to do this, or for example <code>for (String readLine = in.readLine(); readLine != null; readLine = in.readLine()) {</code></p>\n"}],"owner":{"account_id":25294863,"reputation":1,"user_id":19120199,"display_name":"Юлія Царів"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664718621,"creation_date":1664714565,"question_id":73925898,"body_markdown":" I have a method that should accept data from one CSV file, change the data and transfer it to a new CSV file. But I get the following error. Why?\r\n\r\n```java\r\npublic void getStatistic(String fromFileName, String toFileName) throws IOException {\r\n    List &lt;String[]&gt; list = new ArrayList&lt;&gt;();\r\n    Set&lt;String&gt; set = new HashSet&lt;&gt;();\r\n    BufferedReader bufferedReader = new BufferedReader(new FileReader(fromFileName));\r\n    BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(toFileName,true));\r\n    while (bufferedReader.ready()) {\r\n        String[] rows = bufferedReader.readLine().split(&quot;,&quot;);\r\n        list.add(rows);\r\n    }\r\n    for (String[] str : list) {\r\n        set.add(str[0]);\r\n        for (String sk : str) {\r\n            System.out.println(&quot;1 &quot; + sk);\r\n        }\r\n    }\r\n    for (String sets : set) {\r\n        int num = 0;\r\n        for (String[] str : list) {\r\n            if (str[0].equals(sets)) {\r\n                num += Integer.parseInt(str[1]);\r\n            }\r\n            bufferedWriter.write(sets + &quot;,&quot; + num + &quot;\\n&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"FileSystemException The process cannot access the file because it is being used by another process Can&#39;t correctly clear result files after test","body":"<p>I have a method that should accept data from one CSV file, change the data and transfer it to a new CSV file. But I get the following error. Why?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void getStatistic(String fromFileName, String toFileName) throws IOException {\n    List &lt;String[]&gt; list = new ArrayList&lt;&gt;();\n    Set&lt;String&gt; set = new HashSet&lt;&gt;();\n    BufferedReader bufferedReader = new BufferedReader(new FileReader(fromFileName));\n    BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(toFileName,true));\n    while (bufferedReader.ready()) {\n        String[] rows = bufferedReader.readLine().split(&quot;,&quot;);\n        list.add(rows);\n    }\n    for (String[] str : list) {\n        set.add(str[0]);\n        for (String sk : str) {\n            System.out.println(&quot;1 &quot; + sk);\n        }\n    }\n    for (String sets : set) {\n        int num = 0;\n        for (String[] str : list) {\n            if (str[0].equals(sets)) {\n                num += Integer.parseInt(str[1]);\n            }\n            bufferedWriter.write(sets + &quot;,&quot; + num + &quot;\\n&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","sqlite","netbeans"],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664718535,"creation_date":1664718535,"answer_id":73926335,"question_id":73924373,"body_markdown":"There are 2 parts to this. You may already have done part 1, but I mention it for clarity. \r\n\r\n---\r\n\r\n**(1) The rqlite database**\r\n\r\nYou install rqlite (the relational database) separately from your Java project - just like you would install other relational database products separately. You can get pre-built binaries [here](https://github.com/rqlite/rqlite/releases) (see the &quot;Assets&quot; section) or you can build from source. \r\n\r\nNote that the pre-built binaries are only for Linux and Mac. Otherwise, see the notes for Windows in the above link, for more details.\r\n\r\nrqlite is also available via [Docker build](https://hub.docker.com/r/rqlite/rqlite/).\r\n\r\n---\r\n\r\n**(2) Accessing your rqlite database via Java**\r\n\r\nHere are two approaches:\r\n\r\n(a) You can use rqlite&#39;s [data API](https://github.com/rqlite/rqlite/blob/master/DOC/DATA_API.md) using any suitable HTTP client. Java has a [built-in HTTP client](https://openjdk.org/groups/net/httpclient/intro.html) from Java 11 onwards.\r\n\r\nThere is also a [Google HTTP client](https://github.com/googleapis/google-http-java-client) - and probably various other similar libraries.\r\n\r\nSo, with the above approach, there is no &quot;rqlite client&quot; JAR file.\r\n\r\n(b) Use the [rqlite-java](https://github.com/rqlite/rqlite-java) library you linked to in your question (I have never tried it). I see that this library uses Google&#39;s HTTP client, internally. In other words, it looks like it is a wrapper around the rqlite data API, mentioned above.\r\n\r\nThere does not appear to be a pre-built JAR for this library (at least not that I was able to find) so you will need to build that yourself from the GitHub repository. You can fork (copy) the repo into a new, separate Java project to build it on your machine, using Maven (or you can download all the source code as a zip file).\r\n\r\nIf you are not familiar with these GitHub &amp; Maven build processes, there are guides and tutorials to get you started.\r\n\r\nYou tagged your question as a NetBeans question - so you would create a &quot;Java with Maven&quot; project for this.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rNHbE.png","title":"How to install rqlite on a java project","body":"<p>There are 2 parts to this. You may already have done part 1, but I mention it for clarity.</p>\n<hr />\n<p><strong>(1) The rqlite database</strong></p>\n<p>You install rqlite (the relational database) separately from your Java project - just like you would install other relational database products separately. You can get pre-built binaries <a href=\"https://github.com/rqlite/rqlite/releases\" rel=\"nofollow noreferrer\">here</a> (see the &quot;Assets&quot; section) or you can build from source.</p>\n<p>Note that the pre-built binaries are only for Linux and Mac. Otherwise, see the notes for Windows in the above link, for more details.</p>\n<p>rqlite is also available via <a href=\"https://hub.docker.com/r/rqlite/rqlite/\" rel=\"nofollow noreferrer\">Docker build</a>.</p>\n<hr />\n<p><strong>(2) Accessing your rqlite database via Java</strong></p>\n<p>Here are two approaches:</p>\n<p>(a) You can use rqlite's <a href=\"https://github.com/rqlite/rqlite/blob/master/DOC/DATA_API.md\" rel=\"nofollow noreferrer\">data API</a> using any suitable HTTP client. Java has a <a href=\"https://openjdk.org/groups/net/httpclient/intro.html\" rel=\"nofollow noreferrer\">built-in HTTP client</a> from Java 11 onwards.</p>\n<p>There is also a <a href=\"https://github.com/googleapis/google-http-java-client\" rel=\"nofollow noreferrer\">Google HTTP client</a> - and probably various other similar libraries.</p>\n<p>So, with the above approach, there is no &quot;rqlite client&quot; JAR file.</p>\n<p>(b) Use the <a href=\"https://github.com/rqlite/rqlite-java\" rel=\"nofollow noreferrer\">rqlite-java</a> library you linked to in your question (I have never tried it). I see that this library uses Google's HTTP client, internally. In other words, it looks like it is a wrapper around the rqlite data API, mentioned above.</p>\n<p>There does not appear to be a pre-built JAR for this library (at least not that I was able to find) so you will need to build that yourself from the GitHub repository. You can fork (copy) the repo into a new, separate Java project to build it on your machine, using Maven (or you can download all the source code as a zip file).</p>\n<p>If you are not familiar with these GitHub &amp; Maven build processes, there are guides and tutorials to get you started.</p>\n<p>You tagged your question as a NetBeans question - so you would create a &quot;Java with Maven&quot; project for this.</p>\n<p><a href=\"https://i.stack.imgur.com/rNHbE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rNHbE.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":19264602,"reputation":165,"user_id":14079792,"display_name":"dins88"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73926335,"answer_count":1,"score":0,"last_activity_date":1664718535,"creation_date":1664699099,"question_id":73924373,"body_markdown":"I want to use `rqlite` for my sqlite database replication on a java desktop application. i have found a [java coding example in here][1]. But I have no idea how to add rqlite binary/library files to the project.\r\n\r\nI&#39;m using `Netbeans` `Ant` for create the project. I used add `jar` library files to the project. But I can&#39;t find any `jar` files for `rqlite`\r\n\r\nIf anyone here have any experience or knowledge, please let me know how to do it\r\n\r\nthanks in advance.\r\n\r\n\r\n  [1]: https://github.com/rqlite/rqlite-java","title":"How to install rqlite on a java project","body":"<p>I want to use <code>rqlite</code> for my sqlite database replication on a java desktop application. i have found a <a href=\"https://github.com/rqlite/rqlite-java\" rel=\"nofollow noreferrer\">java coding example in here</a>. But I have no idea how to add rqlite binary/library files to the project.</p>\n<p>I'm using <code>Netbeans</code> <code>Ant</code> for create the project. I used add <code>jar</code> library files to the project. But I can't find any <code>jar</code> files for <code>rqlite</code></p>\n<p>If anyone here have any experience or knowledge, please let me know how to do it</p>\n<p>thanks in advance.</p>\n"},{"tags":["java","android","android-pendingintent"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1664717154,"post_id":73926177,"comment_id":130531036,"body_markdown":"&quot;crashes activity (the program stops)&quot; -- use Logcat to examine the stack trace associated with your crash. I cover this process in [this chapter](https://commonsware.com/Jetpack/pages/chap-debug-001.html) of [this free book](https://commonsware.com/Jetpack).","body":"&quot;crashes activity (the program stops)&quot; -- use Logcat to examine the stack trace associated with your crash. I cover this process in <a href=\"https://commonsware.com/Jetpack/pages/chap-debug-001.html\" rel=\"nofollow noreferrer\">this chapter</a> of <a href=\"https://commonsware.com/Jetpack\" rel=\"nofollow noreferrer\">this free book</a>."}],"answers":[{"tags":[],"owner":{"account_id":24748739,"reputation":1,"user_id":18634548,"display_name":"domasb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664718432,"creation_date":1664718432,"answer_id":73926318,"question_id":73926177,"body_markdown":"Adding immutable flag solved the case. \r\n\r\n            pendingIntent = PendingIntent.getBroadcast(context, 0, alarmIntent, pendingIntent.FLAG_IMMUTABLE);\r\n","title":"initializing pending intent crashes activity (the program stops)","body":"<p>Adding immutable flag solved the case.</p>\n<pre><code>        pendingIntent = PendingIntent.getBroadcast(context, 0, alarmIntent, pendingIntent.FLAG_IMMUTABLE);\n</code></pre>\n"}],"owner":{"account_id":24748739,"reputation":1,"user_id":18634548,"display_name":"domasb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664718432,"creation_date":1664717079,"question_id":73926177,"body_markdown":"I am creating an alarm clock. I&#39;ve followed several examples, but none of them helped. When I delete the pendingIntent line activity works properly.\r\n\r\n```\r\npackage com.example.push_upalarmemptygit;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.app.AlarmManager;\r\nimport android.app.PendingIntent;\r\nimport android.app.TimePickerDialog;\r\nimport android.content.BroadcastReceiver;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\n\r\nimport java.util.Calendar;\r\n\r\npublic class SetAlarmActivity extends AppCompatActivity {\r\n\r\n    Context context;\r\n    private PendingIntent pendingIntent;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_set_alarm);\r\n\r\n         context = getApplicationContext();\r\n\r\n        Intent alarmIntent = new Intent(context, MyBroadcastReceiver.class);\r\n        pendingIntent = PendingIntent.getBroadcast(context, 0, alarmIntent, 0); //this is incorrect?\r\n\r\n       findViewById(R.id.setExact).setOnClickListener(new View.OnClickListener() {\r\n          @Override\r\n          public void onClick(View v) {\r\n              setExact();\r\n           }\r\n       });\r\n\r\n\r\n    }\r\n\r\n    public void setExact() {\r\n        AlarmManager manager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.setTimeInMillis(System.currentTimeMillis());\r\n        calendar.set(Calendar.HOUR_OF_DAY, 8);\r\n        calendar.set(Calendar.MINUTE, 30);\r\n\r\n\r\n        manager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\r\n        Toast.makeText(this, &quot;Alarm Set&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nI am following these guidelines from:\r\n&lt;https://javatechig.com/android/repeat-alarm-example-in-android-using-alarmmanager/&gt;\r\n&lt;https://developer.android.com/training/scheduling/alarms.html&gt;\r\n\r\n","title":"initializing pending intent crashes activity (the program stops)","body":"<p>I am creating an alarm clock. I've followed several examples, but none of them helped. When I delete the pendingIntent line activity works properly.</p>\n<pre><code>package com.example.push_upalarmemptygit;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.app.AlarmManager;\nimport android.app.PendingIntent;\nimport android.app.TimePickerDialog;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\n\nimport java.util.Calendar;\n\npublic class SetAlarmActivity extends AppCompatActivity {\n\n    Context context;\n    private PendingIntent pendingIntent;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_set_alarm);\n\n         context = getApplicationContext();\n\n        Intent alarmIntent = new Intent(context, MyBroadcastReceiver.class);\n        pendingIntent = PendingIntent.getBroadcast(context, 0, alarmIntent, 0); //this is incorrect?\n\n       findViewById(R.id.setExact).setOnClickListener(new View.OnClickListener() {\n          @Override\n          public void onClick(View v) {\n              setExact();\n           }\n       });\n\n\n    }\n\n    public void setExact() {\n        AlarmManager manager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);\n        Calendar calendar = Calendar.getInstance();\n        calendar.setTimeInMillis(System.currentTimeMillis());\n        calendar.set(Calendar.HOUR_OF_DAY, 8);\n        calendar.set(Calendar.MINUTE, 30);\n\n\n        manager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\n        Toast.makeText(this, &quot;Alarm Set&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n\n}\n\n</code></pre>\n<p>I am following these guidelines from:\n<a href=\"https://javatechig.com/android/repeat-alarm-example-in-android-using-alarmmanager/\" rel=\"nofollow noreferrer\">https://javatechig.com/android/repeat-alarm-example-in-android-using-alarmmanager/</a>\n<a href=\"https://developer.android.com/training/scheduling/alarms.html\" rel=\"nofollow noreferrer\">https://developer.android.com/training/scheduling/alarms.html</a></p>\n"},{"tags":["java","maven","jenkins","java-7","jdk6"],"comments":[{"owner":{"account_id":148947,"reputation":7935,"user_id":361089,"accept_rate":63,"display_name":"Technext"},"score":0,"creation_date":1409805728,"post_id":25655283,"comment_id":40093558,"body_markdown":"When you run on the command line, do you run with the same user with which Jenkins runs? If not, please paste the output of $PATH from both command line and from Jenkins console output (`echo $PATH` just before the step where the compilation starts).","body":"When you run on the command line, do you run with the same user with which Jenkins runs? If not, please paste the output of $PATH from both command line and from Jenkins console output (<code>echo $PATH</code> just before the step where the compilation starts)."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1409811612,"post_id":25655283,"comment_id":40095352,"body_markdown":"Show full output of the error message and not only an excerpt. Which Maven version do you use and which version of the maven-compiler-plugin do you use?","body":"Show full output of the error message and not only an excerpt. Which Maven version do you use and which version of the maven-compiler-plugin do you use?"},{"owner":{"account_id":3699944,"reputation":153,"user_id":3080035,"display_name":"Antony"},"score":0,"creation_date":1410380945,"post_id":25655283,"comment_id":40308813,"body_markdown":"Added full error log from Jenkins, maven version info, and maven compiler plugin version.","body":"Added full error log from Jenkins, maven version info, and maven compiler plugin version."},{"owner":{"account_id":3699944,"reputation":153,"user_id":3080035,"display_name":"Antony"},"score":0,"creation_date":1410381629,"post_id":25655283,"comment_id":40309188,"body_markdown":"I&#39;ll add the info for which user it is successful as a bit later. Updated my Sonatype Nexus repository and deleted all my artifacts because they changed the directory structure a few versions back and I failed to update my script for updating Nexus, so the sonatype-work directory was lost. Have a few artifacts I need to redeploy for the build to succeed. Currently jenkins is running as &quot;git&quot;. It used to run as &quot;jenkins&quot;, but recently I started having problems accessing local repositories even though I had the credentials saved in Jenkins. Lots of problems cropping up recently it seems.","body":"I&#39;ll add the info for which user it is successful as a bit later. Updated my Sonatype Nexus repository and deleted all my artifacts because they changed the directory structure a few versions back and I failed to update my script for updating Nexus, so the sonatype-work directory was lost. Have a few artifacts I need to redeploy for the build to succeed. Currently jenkins is running as &quot;git&quot;. It used to run as &quot;jenkins&quot;, but recently I started having problems accessing local repositories even though I had the credentials saved in Jenkins. Lots of problems cropping up recently it seems."}],"answers":[{"tags":[],"owner":{"account_id":2047494,"reputation":519,"user_id":1827271,"display_name":"Matias Burni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480942224,"creation_date":1480942224,"answer_id":40974690,"question_id":25655283,"body_markdown":"You have an old java version. For example in my case I&#180;m compiling an old product so I have to keep the java deprecated version.\r\nSo the solution was to download a newest jdk and configure the JAVA_HOME in the slave.\r\nhttp://lmarccdk12.ptx.fr.sopra:14000/computer/&lt;slave&gt;/configure in the section Advanced/JavaPath=/root/jdk1.7.0_79/bin/java  (that&#180;s the version I chose)\r\n\r\nYou will see the following message in the slave launch log:\r\n[SSH] Starting slave process: cd &quot;/root&quot; &amp;&amp; /root/jdk1.7.0_79/bin/java  -jar slave.jar","title":"Unsupported Class Version during Maven build in Jenkins","body":"<p>You have an old java version. For example in my case I´m compiling an old product so I have to keep the java deprecated version.\nSo the solution was to download a newest jdk and configure the JAVA_HOME in the slave.\n<a href=\"http://lmarccdk12.ptx.fr.sopra:14000/computer/\" rel=\"nofollow noreferrer\">http://lmarccdk12.ptx.fr.sopra:14000/computer/</a>/configure in the section Advanced/JavaPath=/root/jdk1.7.0_79/bin/java  (that´s the version I chose)</p>\n\n<p>You will see the following message in the slave launch log:\n[SSH] Starting slave process: cd \"/root\" &amp;&amp; /root/jdk1.7.0_79/bin/java  -jar slave.jar</p>\n"},{"tags":[],"owner":{"account_id":6235501,"reputation":3140,"user_id":4850949,"accept_rate":57,"display_name":"not2savvy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664718365,"creation_date":1664718365,"answer_id":73926311,"question_id":25655283,"body_markdown":"Your Jenkins job is of type &quot;Maven project&quot;, and this job type has a limitation in that it cannot run a Maven build with a JDK version that is older than the Java version under which Jenkins is run. \r\n\r\nBeginning with Jenkins 2.357 (released on June 28, 2022) and the forthcoming 2.361.1 LTS release, Jenkins requires Java 11 or newer. Therefore, you can no longer run Maven projects with JDKs 1.6, 1.7 and 1.8. The minimum version is now Java 11.\r\n\r\nTo resolve this, you may:\r\n\r\n- Create a Freestyle project and use _Invoke top-level Maven targets_ to invoke Maven, or create a Jenkins Pipeline project. In both cases, using an older JDK will be possible. \r\n- Use JDK 11 but set source and target version to the older Java version. I haven&#39;t tried that though, and I believe this option may cause other trouble.\r\n\r\nFor further information, see also [Jenkins requires Java 11 or newer](https://www.jenkins.io/blog/2022/06/28/require-java-11/) and [Maven Builds Fails After Upgrade](https://community.jenkins.io/t/maven-builds-fails-after-upgrade/3850/2)","title":"Unsupported Class Version during Maven build in Jenkins","body":"<p>Your Jenkins job is of type &quot;Maven project&quot;, and this job type has a limitation in that it cannot run a Maven build with a JDK version that is older than the Java version under which Jenkins is run.</p>\n<p>Beginning with Jenkins 2.357 (released on June 28, 2022) and the forthcoming 2.361.1 LTS release, Jenkins requires Java 11 or newer. Therefore, you can no longer run Maven projects with JDKs 1.6, 1.7 and 1.8. The minimum version is now Java 11.</p>\n<p>To resolve this, you may:</p>\n<ul>\n<li>Create a Freestyle project and use <em>Invoke top-level Maven targets</em> to invoke Maven, or create a Jenkins Pipeline project. In both cases, using an older JDK will be possible.</li>\n<li>Use JDK 11 but set source and target version to the older Java version. I haven't tried that though, and I believe this option may cause other trouble.</li>\n</ul>\n<p>For further information, see also <a href=\"https://www.jenkins.io/blog/2022/06/28/require-java-11/\" rel=\"nofollow noreferrer\">Jenkins requires Java 11 or newer</a> and <a href=\"https://community.jenkins.io/t/maven-builds-fails-after-upgrade/3850/2\" rel=\"nofollow noreferrer\">Maven Builds Fails After Upgrade</a></p>\n"}],"owner":{"account_id":3699944,"reputation":153,"user_id":3080035,"display_name":"Antony"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3504,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1664718365,"creation_date":1409788062,"question_id":25655283,"body_markdown":"I&#39;ve seen a few of these questions on here, but none of the solutions/tips seem to be pointing me in the right direction. So I have 3 JDK&#39;s installed in the locations of &quot;/opt/java/6&quot;, &quot;/opt/java/7&quot;, and &quot;/opt/java/8&quot;. All of these are set in the global Jenkins configuration. Jenkins itself is run using Java 8 which is the system default JRE that I set manually through alternatives (I&#39;m using CentOS 7). I had a bunch of old projects that are built using maven and the maven compiler plugin which is set to source=1.6 target=1.6 . Every time I try to execute a build with the Java 6 JDK I get \r\n&gt;` Started by user Antony Prince`  \r\n&gt;` ln builds/lastSuccessfulBuild /var/lib/jenkins/jobs/BitCalculator/lastSuccessful failed`  \r\n&gt;` java.nio.file.DirectoryNotEmptyException: /var/lib/jenkins/jobs/BitCalculator/lastSuccessful`  \r\n&gt;` \tat sun.nio.fs.UnixFileSystemProvider.implDelete(UnixFileSystemProvider.java:242)`  \r\n&gt;` \tat sun.nio.fs.AbstractFileSystemProvider.deleteIfExists(AbstractFileSystemProvider.java:108)`  \r\n&gt;` \tat java.nio.file.Files.deleteIfExists(Files.java:1165)`  \r\n&gt;` \tat sun.reflect.GeneratedMethodAccessor20.invoke(Unknown Source)`  \r\n&gt;` \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)`  \r\n&gt;` \tat java.lang.reflect.Method.invoke(Method.java:483)`  \r\n&gt;` \tat hudson.Util.createSymlinkJava7(Util.java:1194)`  \r\n&gt;` \tat hudson.Util.createSymlink(Util.java:1112)`  \r\n&gt;` \tat hudson.model.Run.createSymlink(Run.java:1851)`  \r\n&gt;` \tat hudson.model.Run.updateSymlinks(Run.java:1832)`  \r\n&gt;` \tat hudson.model.Run.execute(Run.java:1743)`  \r\n&gt;` \tat hudson.maven.MavenModuleSetBuild.run(MavenModuleSetBuild.java:529)`  \r\n&gt;` \tat hudson.model.ResourceController.execute(ResourceController.java:89)`  \r\n&gt;` \tat hudson.model.Executor.run(Executor.java:240)`  \r\n&gt;` ln builds/lastStableBuild /var/lib/jenkins/jobs/BitCalculator/lastStable failed`  \r\n&gt;` java.nio.file.DirectoryNotEmptyException: /var/lib/jenkins/jobs/BitCalculator/lastStable`  \r\n&gt;` \tat sun.nio.fs.UnixFileSystemProvider.implDelete(UnixFileSystemProvider.java:242)`  \r\n&gt;` \tat sun.nio.fs.AbstractFileSystemProvider.deleteIfExists(AbstractFileSystemProvider.java:108)`  \r\n&gt;` \tat java.nio.file.Files.deleteIfExists(Files.java:1165)`  \r\n&gt;` \tat sun.reflect.GeneratedMethodAccessor20.invoke(Unknown Source)`  \r\n&gt;` \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)`  \r\n&gt;` \tat java.lang.reflect.Method.invoke(Method.java:483)`  \r\n&gt;` \tat hudson.Util.createSymlinkJava7(Util.java:1194)`  \r\n&gt;` \tat hudson.Util.createSymlink(Util.java:1112)`  \r\n&gt;` \tat hudson.model.Run.createSymlink(Run.java:1851)`  \r\n&gt;` \tat hudson.model.Run.updateSymlinks(Run.java:1833)`  \r\n&gt;` \tat hudson.model.Run.execute(Run.java:1743)`  \r\n&gt;` \tat hudson.maven.MavenModuleSetBuild.run(MavenModuleSetBuild.java:529)`  \r\n&gt;` \tat hudson.model.ResourceController.execute(ResourceController.java:89)`  \r\n&gt;` \tat hudson.model.Executor.run(Executor.java:240)`  \r\n&gt;` Building in workspace /var/lib/jenkins/workspace/BitCalculator`  \r\n&gt;`  &gt; git rev-parse --is-inside-work-tree # timeout=10`  \r\n&gt;` Fetching changes from the remote Git repository`  \r\n&gt;` &gt; git config remote.origin.url /home/git/repositories/java/BitCalculator.git # timeout=10`  \r\n&gt;` Fetching upstream changes from /home/git/repositories/java/BitCalculator.git`  \r\n&gt;`  &gt; git --version # timeout=10`  \r\n&gt;`  &gt; git fetch --tags --progress /home/git/repositories/java/BitCalculator.git +refs/heads/*:refs/remotes/origin/*`  \r\n&gt;`  &gt; git rev-parse origin/master^{commit} # timeout=10`  \r\n&gt;` Checking out Revision 4f119f7783cc4ff00e5bf9bb27850ae7698d4fe8 (origin/master)`  \r\n&gt;`  &gt; git config core.sparsecheckout # timeout=10`  \r\n&gt;`  &gt; git checkout -f 4f119f7783cc4ff00e5bf9bb27850ae7698d4fe8`  \r\n&gt;`  &gt; git rev-list 4f119f7783cc4ff00e5bf9bb27850ae7698d4fe8 # timeout=10`  \r\n&gt;` Parsing POMs`  \r\n&gt;` [BitCalculator] $ /opt/java/6/bin/java -Djava.awt.headless=true -cp /var/lib/jenkins/plugins/maven-plugin/WEB-INF/lib/maven3-agent-1.5.jar:/usr/share/maven/boot/plexus-classworlds.jar org.jvnet.hudson.maven3.agent.Maven3Main /usr/share/maven /var/lib/jenkins/war/WEB-INF/lib/remoting-2.44.jar /var/lib/jenkins/plugins/maven-plugin/WEB-INF/lib/maven3-interceptor-1.5.jar /var/lib/jenkins/plugins/maven-plugin/WEB-INF/lib/maven3-interceptor-commons-1.5.jar 56445`  \r\n&gt;` &lt;===[JENKINS REMOTING CAPACITY]===&gt;channel started`  \r\n&gt;` Executing Maven:  -B -f /var/lib/jenkins/workspace/BitCalculator/pom.xml -P sign clean deploy`  \r\n&gt;` java.lang.reflect.InvocationTargetException`  \r\n&gt;` \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)`  \r\n&gt;` \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)`  \r\n&gt;` \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)`  \r\n&gt;` \tat java.lang.reflect.Method.invoke(Method.java:597)`  \r\n&gt;` \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchStandard(Launcher.java:331)`  \r\n&gt;` \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:239)`  \r\n&gt;` \tat org.jvnet.hudson.maven3.agent.Maven3Main.launch(Maven3Main.java:178)`  \r\n&gt;` \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)`  \r\n&gt;` \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)`  \r\n&gt;` \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)`  \r\n&gt;` \tat java.lang.reflect.Method.invoke(Method.java:597)`  \r\n&gt;` \tat hudson.maven.Maven3Builder.call(Maven3Builder.java:134)`  \r\n&gt;` \tat hudson.maven.Maven3Builder.call(Maven3Builder.java:69)`  \r\n&gt;` \tat hudson.remoting.UserRequest.perform(UserRequest.java:118)`  \r\n&gt;` \tat hudson.remoting.UserRequest.perform(UserRequest.java:48)`  \r\n&gt;` \tat hudson.remoting.Request$2.run(Request.java:328)`  \r\n&gt;` \tat hudson.remoting.InterceptingExecutorService$1.call(InterceptingExecutorService.java:72)`  \r\n&gt;` \tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)`  \r\n&gt;` \tat java.util.concurrent.FutureTask.run(FutureTask.java:138)`  \r\n&gt;` \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)`  \r\n&gt;` \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)`  \r\n&gt;` \tat java.lang.Thread.run(Thread.java:662)`  \r\n&gt;` Caused by: java.lang.UnsupportedClassVersionError: javax/inject/Provider : Unsupported major.minor version 51.0`  \r\n&gt;` \tat java.lang.ClassLoader.defineClass1(Native Method)`  \r\n&gt;` \tat java.lang.ClassLoader.defineClassCond(ClassLoader.java:631)`  \r\n&gt;` \tat java.lang.ClassLoader.defineClass(ClassLoader.java:615)`  \r\n&gt;` \tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)`  \r\n&gt;` \tat java.net.URLClassLoader.defineClass(URLClassLoader.java:283)`  \r\n&gt;` \tat java.net.URLClassLoader.access$000(URLClassLoader.java:58)`  \r\n&gt;` \tat java.net.URLClassLoader$1.run(URLClassLoader.java:197)`  \r\n&gt;` \tat java.security.AccessController.doPrivileged(Native Method)`  \r\n&gt;` \tat java.net.URLClassLoader.findClass(URLClassLoader.java:190)`  \r\n&gt;` \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClassFromSelf(ClassRealm.java:386)`  \r\n&gt;` \tat org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:42)`  \r\n&gt;` \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:244)`  \r\n&gt;` \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:230)`  \r\n&gt;` \tat org.jvnet.hudson.maven3.launcher.Maven3Launcher.main(Maven3Launcher.java:86)`  \r\n&gt;` \t... 22 more`  \r\n&gt;` channel stopped`  \r\n&gt;` [BitCalculator] $ /bin/sh -xe /tmp/hudson6524656470722686910.sh`  \r\n&gt;` + rm &#39;target/*no_deps*&#39;`  \r\n&gt;` rm: cannot remove &#39;target/*no_deps*&#39;: No such file or directory`  \r\n&gt;` Build step &#39;Execute shell&#39; marked build as failure`  \r\n&gt;` ERROR: Failed to parse POMs`  \r\n&gt;` hudson.util.IOException2: java.lang.reflect.InvocationTargetException`  \r\n&gt;` \tat hudson.maven.Maven3Builder.call(Maven3Builder.java:178)`  \r\n&gt;` \tat hudson.maven.Maven3Builder.call(Maven3Builder.java:69)`  \r\n&gt;` \tat hudson.remoting.UserRequest.perform(UserRequest.java:118)`  \r\n&gt;` \tat hudson.remoting.UserRequest.perform(UserRequest.java:48)`  \r\n&gt;` \tat hudson.remoting.Request$2.run(Request.java:328)`  \r\n&gt;` \tat hudson.remoting.InterceptingExecutorService$1.call(InterceptingExecutorService.java:72)`  \r\n&gt;` \tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)`  \r\n&gt;` \tat java.util.concurrent.FutureTask.run(FutureTask.java:138)`  \r\n&gt;` \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)`  \r\n&gt;` \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)`  \r\n&gt;` \tat java.lang.Thread.run(Thread.java:662)`  \r\n&gt;` Caused by: java.lang.reflect.InvocationTargetException`  \r\n&gt;` \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)`  \r\n&gt;` \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)`  \r\n&gt;` \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)`  \r\n&gt;` \tat java.lang.reflect.Method.invoke(Method.java:597)`  \r\n&gt;` \tat hudson.maven.Maven3Builder.call(Maven3Builder.java:134)`  \r\n&gt;` \t... 10 more`  \r\n&gt;` Caused by: java.lang.Exception: java.lang.reflect.InvocationTargetException`  \r\n&gt;` \tat org.jvnet.hudson.maven3.agent.Maven3Main.launch(Maven3Main.java:181)`  \r\n&gt;` \t... 15 more`  \r\n&gt;` Caused by: java.lang.reflect.InvocationTargetException`  \r\n&gt;` \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)`  \r\n&gt;` \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)`  \r\n&gt;` \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)`  \r\n&gt;` \tat java.lang.reflect.Method.invoke(Method.java:597)`  \r\n&gt;` \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchStandard(Launcher.java:331)`  \r\n&gt;` \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:239)`  \r\n&gt;` \tat org.jvnet.hudson.maven3.agent.Maven3Main.launch(Maven3Main.java:178)`  \r\n&gt;` \t... 15 more`  \r\n&gt;` Caused by: java.lang.UnsupportedClassVersionError: javax/inject/Provider : Unsupported major.minor version 51.0`  \r\n&gt;` \tat java.lang.ClassLoader.defineClass1(Native Method)`  \r\n&gt;` \tat java.lang.ClassLoader.defineClassCond(ClassLoader.java:631)`  \r\n&gt;` \tat java.lang.ClassLoader.defineClass(ClassLoader.java:615)`  \r\n&gt;` \tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)`  \r\n&gt;` \tat java.net.URLClassLoader.defineClass(URLClassLoader.java:283)`  \r\n&gt;` \tat java.net.URLClassLoader.access$000(URLClassLoader.java:58)`  \r\n&gt;` \tat java.net.URLClassLoader$1.run(URLClassLoader.java:197)`  \r\n&gt;` \tat java.security.AccessController.doPrivileged(Native Method)`  \r\n&gt;` \tat java.net.URLClassLoader.findClass(URLClassLoader.java:190)`  \r\n&gt;` \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClassFromSelf(ClassRealm.java:386)`  \r\n&gt;` \tat org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:42)`  \r\n&gt;` \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:244)`  \r\n&gt;` \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:230)`  \r\n&gt;` \tat org.jvnet.hudson.maven3.launcher.Maven3Launcher.main(Maven3Launcher.java:86)`  \r\n&gt;` \t... 22 more`  \r\n&gt;` Archiving artifacts`  \r\n&gt;` Sending e-mails to: antony@blazrsoft.com`  \r\n&gt;` Finished: FAILURE`   \r\n\r\nThis indicates that there&#39;s Java 7 interfering somewhere, but I&#39;m not sure where.\r\nThe code is 1.6 compliant and most of the projects have no dependencies, so I&#39;m not sure why this is happening. If I execute maven outside of Jenkins, the projects build just fine with JDK 6, so its leading me to think there&#39;s a misconfiguration in Jenkins somewhere, but I&#39;m not sure where since everything seems to be as it should be. The paths to the JDKs are set properly in the global config and the projects themselves are set to use the specified JDK&#39;s. I apologize if its a duplicate question or something silly, but I&#39;ve been trying to figure this out for days with no results. Everyone just says to check the paths and make sure there are no dependent artifacts built with a later JDK and I&#39;m sure that this is not the problem.\r\n  \r\n`$ mvn -version`  \r\n`Apache Maven 3.0.5 (Red Hat 3.0.5-16)`  \r\n`Maven home: /usr/share/maven`  \r\n`Java version: 1.8.0_20, vendor: Oracle Corporation`  \r\n`Java home: /opt/java/8/jre`  \r\n`Default locale: en_US, platform encoding: ANSI_X3.4-1968`  \r\n`OS name: &quot;linux&quot;, version: &quot;2.6.32-openvz-042stab090.5-amd64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;`  \r\n  \r\n`&lt;plugin&gt;`  \r\n`    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;`  \r\n`    &lt;version&gt;3.1&lt;/version&gt;`  \r\n`    &lt;configuration&gt;`  \r\n`        &lt;encoding&gt;UTF-8&lt;/encoding&gt;`  \r\n`        &lt;source&gt;1.6&lt;/source&gt;`  \r\n`        &lt;target&gt;1.6&lt;/target&gt;`  \r\n`        &lt;compilerVersion&gt;1.6&lt;/compilerVersion&gt;`  \r\n`    &lt;/configuration&gt;`  \r\n`&lt;/plugin&gt;`  \r\n","title":"Unsupported Class Version during Maven build in Jenkins","body":"<p>I've seen a few of these questions on here, but none of the solutions/tips seem to be pointing me in the right direction. So I have 3 JDK's installed in the locations of \"/opt/java/6\", \"/opt/java/7\", and \"/opt/java/8\". All of these are set in the global Jenkins configuration. Jenkins itself is run using Java 8 which is the system default JRE that I set manually through alternatives (I'm using CentOS 7). I had a bunch of old projects that are built using maven and the maven compiler plugin which is set to source=1.6 target=1.6 . Every time I try to execute a build with the Java 6 JDK I get </p>\n\n<blockquote>\n  <p><code>Started by user Antony Prince</code><br>\n  <code>ln builds/lastSuccessfulBuild /var/lib/jenkins/jobs/BitCalculator/lastSuccessful failed</code><br>\n  <code>java.nio.file.DirectoryNotEmptyException: /var/lib/jenkins/jobs/BitCalculator/lastSuccessful</code><br>\n  <code>at sun.nio.fs.UnixFileSystemProvider.implDelete(UnixFileSystemProvider.java:242)</code><br>\n  <code>at sun.nio.fs.AbstractFileSystemProvider.deleteIfExists(AbstractFileSystemProvider.java:108)</code><br>\n  <code>at java.nio.file.Files.deleteIfExists(Files.java:1165)</code><br>\n  <code>at sun.reflect.GeneratedMethodAccessor20.invoke(Unknown Source)</code><br>\n  <code>at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</code><br>\n  <code>at java.lang.reflect.Method.invoke(Method.java:483)</code><br>\n  <code>at hudson.Util.createSymlinkJava7(Util.java:1194)</code><br>\n  <code>at hudson.Util.createSymlink(Util.java:1112)</code><br>\n  <code>at hudson.model.Run.createSymlink(Run.java:1851)</code><br>\n  <code>at hudson.model.Run.updateSymlinks(Run.java:1832)</code><br>\n  <code>at hudson.model.Run.execute(Run.java:1743)</code><br>\n  <code>at hudson.maven.MavenModuleSetBuild.run(MavenModuleSetBuild.java:529)</code><br>\n  <code>at hudson.model.ResourceController.execute(ResourceController.java:89)</code><br>\n  <code>at hudson.model.Executor.run(Executor.java:240)</code><br>\n  <code>ln builds/lastStableBuild /var/lib/jenkins/jobs/BitCalculator/lastStable failed</code><br>\n  <code>java.nio.file.DirectoryNotEmptyException: /var/lib/jenkins/jobs/BitCalculator/lastStable</code><br>\n  <code>at sun.nio.fs.UnixFileSystemProvider.implDelete(UnixFileSystemProvider.java:242)</code><br>\n  <code>at sun.nio.fs.AbstractFileSystemProvider.deleteIfExists(AbstractFileSystemProvider.java:108)</code><br>\n  <code>at java.nio.file.Files.deleteIfExists(Files.java:1165)</code><br>\n  <code>at sun.reflect.GeneratedMethodAccessor20.invoke(Unknown Source)</code><br>\n  <code>at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</code><br>\n  <code>at java.lang.reflect.Method.invoke(Method.java:483)</code><br>\n  <code>at hudson.Util.createSymlinkJava7(Util.java:1194)</code><br>\n  <code>at hudson.Util.createSymlink(Util.java:1112)</code><br>\n  <code>at hudson.model.Run.createSymlink(Run.java:1851)</code><br>\n  <code>at hudson.model.Run.updateSymlinks(Run.java:1833)</code><br>\n  <code>at hudson.model.Run.execute(Run.java:1743)</code><br>\n  <code>at hudson.maven.MavenModuleSetBuild.run(MavenModuleSetBuild.java:529)</code><br>\n  <code>at hudson.model.ResourceController.execute(ResourceController.java:89)</code><br>\n  <code>at hudson.model.Executor.run(Executor.java:240)</code><br>\n  <code>Building in workspace /var/lib/jenkins/workspace/BitCalculator</code><br>\n  <code>&gt; git rev-parse --is-inside-work-tree # timeout=10</code><br>\n  <code>Fetching changes from the remote Git repository</code><br>\n  <code>&gt; git config remote.origin.url /home/git/repositories/java/BitCalculator.git # timeout=10</code><br>\n  <code>Fetching upstream changes from /home/git/repositories/java/BitCalculator.git</code><br>\n  <code>&gt; git --version # timeout=10</code><br>\n  <code>&gt; git fetch --tags --progress /home/git/repositories/java/BitCalculator.git +refs/heads/*:refs/remotes/origin/*</code><br>\n  <code>&gt; git rev-parse origin/master^{commit} # timeout=10</code><br>\n  <code>Checking out Revision 4f119f7783cc4ff00e5bf9bb27850ae7698d4fe8 (origin/master)</code><br>\n  <code>&gt; git config core.sparsecheckout # timeout=10</code><br>\n  <code>&gt; git checkout -f 4f119f7783cc4ff00e5bf9bb27850ae7698d4fe8</code><br>\n  <code>&gt; git rev-list 4f119f7783cc4ff00e5bf9bb27850ae7698d4fe8 # timeout=10</code><br>\n  <code>Parsing POMs</code><br>\n  <code>[BitCalculator] $ /opt/java/6/bin/java -Djava.awt.headless=true -cp /var/lib/jenkins/plugins/maven-plugin/WEB-INF/lib/maven3-agent-1.5.jar:/usr/share/maven/boot/plexus-classworlds.jar org.jvnet.hudson.maven3.agent.Maven3Main /usr/share/maven /var/lib/jenkins/war/WEB-INF/lib/remoting-2.44.jar /var/lib/jenkins/plugins/maven-plugin/WEB-INF/lib/maven3-interceptor-1.5.jar /var/lib/jenkins/plugins/maven-plugin/WEB-INF/lib/maven3-interceptor-commons-1.5.jar 56445</code><br>\n  <code>&lt;===[JENKINS REMOTING CAPACITY]===&gt;channel started</code><br>\n  <code>Executing Maven:  -B -f /var/lib/jenkins/workspace/BitCalculator/pom.xml -P sign clean deploy</code><br>\n  <code>java.lang.reflect.InvocationTargetException</code><br>\n  <code>at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</code><br>\n  <code>at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</code><br>\n  <code>at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</code><br>\n  <code>at java.lang.reflect.Method.invoke(Method.java:597)</code><br>\n  <code>at org.codehaus.plexus.classworlds.launcher.Launcher.launchStandard(Launcher.java:331)</code><br>\n  <code>at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:239)</code><br>\n  <code>at org.jvnet.hudson.maven3.agent.Maven3Main.launch(Maven3Main.java:178)</code><br>\n  <code>at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</code><br>\n  <code>at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</code><br>\n  <code>at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</code><br>\n  <code>at java.lang.reflect.Method.invoke(Method.java:597)</code><br>\n  <code>at hudson.maven.Maven3Builder.call(Maven3Builder.java:134)</code><br>\n  <code>at hudson.maven.Maven3Builder.call(Maven3Builder.java:69)</code><br>\n  <code>at hudson.remoting.UserRequest.perform(UserRequest.java:118)</code><br>\n  <code>at hudson.remoting.UserRequest.perform(UserRequest.java:48)</code><br>\n  <code>at hudson.remoting.Request$2.run(Request.java:328)</code><br>\n  <code>at hudson.remoting.InterceptingExecutorService$1.call(InterceptingExecutorService.java:72)</code><br>\n  <code>at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)</code><br>\n  <code>at java.util.concurrent.FutureTask.run(FutureTask.java:138)</code><br>\n  <code>at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)</code><br>\n  <code>at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)</code><br>\n  <code>at java.lang.Thread.run(Thread.java:662)</code><br>\n  <code>Caused by: java.lang.UnsupportedClassVersionError: javax/inject/Provider : Unsupported major.minor version 51.0</code><br>\n  <code>at java.lang.ClassLoader.defineClass1(Native Method)</code><br>\n  <code>at java.lang.ClassLoader.defineClassCond(ClassLoader.java:631)</code><br>\n  <code>at java.lang.ClassLoader.defineClass(ClassLoader.java:615)</code><br>\n  <code>at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)</code><br>\n  <code>at java.net.URLClassLoader.defineClass(URLClassLoader.java:283)</code><br>\n  <code>at java.net.URLClassLoader.access$000(URLClassLoader.java:58)</code><br>\n  <code>at java.net.URLClassLoader$1.run(URLClassLoader.java:197)</code><br>\n  <code>at java.security.AccessController.doPrivileged(Native Method)</code><br>\n  <code>at java.net.URLClassLoader.findClass(URLClassLoader.java:190)</code><br>\n  <code>at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClassFromSelf(ClassRealm.java:386)</code><br>\n  <code>at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:42)</code><br>\n  <code>at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:244)</code><br>\n  <code>at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:230)</code><br>\n  <code>at org.jvnet.hudson.maven3.launcher.Maven3Launcher.main(Maven3Launcher.java:86)</code><br>\n  <code>... 22 more</code><br>\n  <code>channel stopped</code><br>\n  <code>[BitCalculator] $ /bin/sh -xe /tmp/hudson6524656470722686910.sh</code><br>\n  <code>+ rm 'target/*no_deps*'</code><br>\n  <code>rm: cannot remove 'target/*no_deps*': No such file or directory</code><br>\n  <code>Build step 'Execute shell' marked build as failure</code><br>\n  <code>ERROR: Failed to parse POMs</code><br>\n  <code>hudson.util.IOException2: java.lang.reflect.InvocationTargetException</code><br>\n  <code>at hudson.maven.Maven3Builder.call(Maven3Builder.java:178)</code><br>\n  <code>at hudson.maven.Maven3Builder.call(Maven3Builder.java:69)</code><br>\n  <code>at hudson.remoting.UserRequest.perform(UserRequest.java:118)</code><br>\n  <code>at hudson.remoting.UserRequest.perform(UserRequest.java:48)</code><br>\n  <code>at hudson.remoting.Request$2.run(Request.java:328)</code><br>\n  <code>at hudson.remoting.InterceptingExecutorService$1.call(InterceptingExecutorService.java:72)</code><br>\n  <code>at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)</code><br>\n  <code>at java.util.concurrent.FutureTask.run(FutureTask.java:138)</code><br>\n  <code>at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)</code><br>\n  <code>at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)</code><br>\n  <code>at java.lang.Thread.run(Thread.java:662)</code><br>\n  <code>Caused by: java.lang.reflect.InvocationTargetException</code><br>\n  <code>at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</code><br>\n  <code>at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</code><br>\n  <code>at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</code><br>\n  <code>at java.lang.reflect.Method.invoke(Method.java:597)</code><br>\n  <code>at hudson.maven.Maven3Builder.call(Maven3Builder.java:134)</code><br>\n  <code>... 10 more</code><br>\n  <code>Caused by: java.lang.Exception: java.lang.reflect.InvocationTargetException</code><br>\n  <code>at org.jvnet.hudson.maven3.agent.Maven3Main.launch(Maven3Main.java:181)</code><br>\n  <code>... 15 more</code><br>\n  <code>Caused by: java.lang.reflect.InvocationTargetException</code><br>\n  <code>at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</code><br>\n  <code>at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</code><br>\n  <code>at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</code><br>\n  <code>at java.lang.reflect.Method.invoke(Method.java:597)</code><br>\n  <code>at org.codehaus.plexus.classworlds.launcher.Launcher.launchStandard(Launcher.java:331)</code><br>\n  <code>at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:239)</code><br>\n  <code>at org.jvnet.hudson.maven3.agent.Maven3Main.launch(Maven3Main.java:178)</code><br>\n  <code>... 15 more</code><br>\n  <code>Caused by: java.lang.UnsupportedClassVersionError: javax/inject/Provider : Unsupported major.minor version 51.0</code><br>\n  <code>at java.lang.ClassLoader.defineClass1(Native Method)</code><br>\n  <code>at java.lang.ClassLoader.defineClassCond(ClassLoader.java:631)</code><br>\n  <code>at java.lang.ClassLoader.defineClass(ClassLoader.java:615)</code><br>\n  <code>at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)</code><br>\n  <code>at java.net.URLClassLoader.defineClass(URLClassLoader.java:283)</code><br>\n  <code>at java.net.URLClassLoader.access$000(URLClassLoader.java:58)</code><br>\n  <code>at java.net.URLClassLoader$1.run(URLClassLoader.java:197)</code><br>\n  <code>at java.security.AccessController.doPrivileged(Native Method)</code><br>\n  <code>at java.net.URLClassLoader.findClass(URLClassLoader.java:190)</code><br>\n  <code>at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClassFromSelf(ClassRealm.java:386)</code><br>\n  <code>at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:42)</code><br>\n  <code>at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:244)</code><br>\n  <code>at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:230)</code><br>\n  <code>at org.jvnet.hudson.maven3.launcher.Maven3Launcher.main(Maven3Launcher.java:86)</code><br>\n  <code>... 22 more</code><br>\n  <code>Archiving artifacts</code><br>\n  <code>Sending e-mails to: antony@blazrsoft.com</code><br>\n  <code>Finished: FAILURE</code>   </p>\n</blockquote>\n\n<p>This indicates that there's Java 7 interfering somewhere, but I'm not sure where.\nThe code is 1.6 compliant and most of the projects have no dependencies, so I'm not sure why this is happening. If I execute maven outside of Jenkins, the projects build just fine with JDK 6, so its leading me to think there's a misconfiguration in Jenkins somewhere, but I'm not sure where since everything seems to be as it should be. The paths to the JDKs are set properly in the global config and the projects themselves are set to use the specified JDK's. I apologize if its a duplicate question or something silly, but I've been trying to figure this out for days with no results. Everyone just says to check the paths and make sure there are no dependent artifacts built with a later JDK and I'm sure that this is not the problem.</p>\n\n<p><code>$ mvn -version</code><br>\n<code>Apache Maven 3.0.5 (Red Hat 3.0.5-16)</code><br>\n<code>Maven home: /usr/share/maven</code><br>\n<code>Java version: 1.8.0_20, vendor: Oracle Corporation</code><br>\n<code>Java home: /opt/java/8/jre</code><br>\n<code>Default locale: en_US, platform encoding: ANSI_X3.4-1968</code><br>\n<code>OS name: \"linux\", version: \"2.6.32-openvz-042stab090.5-amd64\", arch: \"amd64\", family: \"unix\"</code>  </p>\n\n<p><code>&lt;plugin&gt;</code><br>\n<code>&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;</code><br>\n<code>&lt;version&gt;3.1&lt;/version&gt;</code><br>\n<code>&lt;configuration&gt;</code><br>\n<code>&lt;encoding&gt;UTF-8&lt;/encoding&gt;</code><br>\n<code>&lt;source&gt;1.6&lt;/source&gt;</code><br>\n<code>&lt;target&gt;1.6&lt;/target&gt;</code><br>\n<code>&lt;compilerVersion&gt;1.6&lt;/compilerVersion&gt;</code><br>\n<code>&lt;/configuration&gt;</code><br>\n<code>&lt;/plugin&gt;</code>  </p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9229,"page":994,"page_size":100}
